---
title: "Soluções pré-configuradas do Azure IoT | Microsoft Docs"
description: "Uma descrição das soluções pré-configuradas IoT Azure e sua arquitetura com links para recursos adicionais."
services: 
suite: iot-suite
documentationcenter: 
author: dominicbetts
manager: timlt
editor: 
ms.assetid: 59009f37-9ba0-4e17-a189-7ea354a858a2
ms.service: iot-suite
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/25/2017
ms.author: dobett
ms.openlocfilehash: d66dece63d2ba944c8f3828ba68c6202485d47e0
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/03/2017
---
# <a name="what-are-the-azure-iot-suite-preconfigured-solutions"></a><span data-ttu-id="79d94-103">Quais são as soluções pré-configuradas do Pacote do Azure IoT?</span><span class="sxs-lookup"><span data-stu-id="79d94-103">What are the Azure IoT Suite preconfigured solutions?</span></span>

<span data-ttu-id="79d94-104">As soluções pré-configuradas do Azure IoT Suite são implementações de padrões de solução IoT comuns que você pode implantar no Azure usando a sua assinatura.</span><span class="sxs-lookup"><span data-stu-id="79d94-104">The Azure IoT Suite preconfigured solutions are implementations of common IoT solution patterns that you can deploy to Azure using your subscription.</span></span> <span data-ttu-id="79d94-105">Você pode usar as soluções pré-configuradas:</span><span class="sxs-lookup"><span data-stu-id="79d94-105">You can use the preconfigured solutions:</span></span>

* <span data-ttu-id="79d94-106">Como ponto de partida para suas próprias soluções de IoT.</span><span class="sxs-lookup"><span data-stu-id="79d94-106">As a starting point for your own IoT solutions.</span></span>
* <span data-ttu-id="79d94-107">Para saber mais sobre os padrões comuns no desenvolvimento e no design da solução de IoT.</span><span class="sxs-lookup"><span data-stu-id="79d94-107">To learn about common patterns in IoT solution design and development.</span></span>

<span data-ttu-id="79d94-108">Cada solução pré-configurada é uma implementação completa de ponta a ponta que usa dispositivos simulados para gerar telemetria.</span><span class="sxs-lookup"><span data-stu-id="79d94-108">Each preconfigured solution is a complete, end-to-end implementation that uses simulated devices to generate telemetry.</span></span>

<span data-ttu-id="79d94-109">Você pode baixar o código-fonte completo para personalizar e estender a solução a fim de atender às suas necessidades específicas de IoT.</span><span class="sxs-lookup"><span data-stu-id="79d94-109">You can download the complete source code to customize and extend the solution to meet your specific IoT requirements.</span></span>

> [!NOTE]
> <span data-ttu-id="79d94-110">Para implantar uma das soluções pré-configuradas, acesse o [Microsoft Azure IoT Suite][lnk-azureiotsuite].</span><span class="sxs-lookup"><span data-stu-id="79d94-110">To deploy one of the preconfigured solutions, visit [Microsoft Azure IoT Suite][lnk-azureiotsuite].</span></span> <span data-ttu-id="79d94-111">O artigo [Introdução às soluções IoT pré-configuradas][lnk-getstarted-preconfigured] fornece mais informações sobre como implantar e executar uma das soluções.</span><span class="sxs-lookup"><span data-stu-id="79d94-111">The article [Get started with the IoT preconfigured solutions][lnk-getstarted-preconfigured] provides more information about how to deploy and run one of the solutions.</span></span>

<span data-ttu-id="79d94-112">A tabela a seguir mostra como essas soluções são mapeadas para recursos específicos de IoT:</span><span class="sxs-lookup"><span data-stu-id="79d94-112">The following table shows how the solutions map to specific IoT features:</span></span>

| <span data-ttu-id="79d94-113">Solução</span><span class="sxs-lookup"><span data-stu-id="79d94-113">Solution</span></span> | <span data-ttu-id="79d94-114">Ingestão de dados</span><span class="sxs-lookup"><span data-stu-id="79d94-114">Data ingestion</span></span> | <span data-ttu-id="79d94-115">Identidade do dispositivo</span><span class="sxs-lookup"><span data-stu-id="79d94-115">Device identity</span></span> | <span data-ttu-id="79d94-116">Gerenciamento de dispositivos</span><span class="sxs-lookup"><span data-stu-id="79d94-116">Device management</span></span> | <span data-ttu-id="79d94-117">Comando e controle</span><span class="sxs-lookup"><span data-stu-id="79d94-117">Command and control</span></span> | <span data-ttu-id="79d94-118">Regras e ações</span><span class="sxs-lookup"><span data-stu-id="79d94-118">Rules and actions</span></span> | <span data-ttu-id="79d94-119">Análise preditiva</span><span class="sxs-lookup"><span data-stu-id="79d94-119">Predictive analytics</span></span> |
| --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="79d94-120">[Monitoramento remoto][lnk-getstarted-preconfigured]</span><span class="sxs-lookup"><span data-stu-id="79d94-120">[Remote monitoring][lnk-getstarted-preconfigured]</span></span> |<span data-ttu-id="79d94-121">Sim</span><span class="sxs-lookup"><span data-stu-id="79d94-121">Yes</span></span> |<span data-ttu-id="79d94-122">Sim</span><span class="sxs-lookup"><span data-stu-id="79d94-122">Yes</span></span> |<span data-ttu-id="79d94-123">Sim</span><span class="sxs-lookup"><span data-stu-id="79d94-123">Yes</span></span> |<span data-ttu-id="79d94-124">Sim</span><span class="sxs-lookup"><span data-stu-id="79d94-124">Yes</span></span> |<span data-ttu-id="79d94-125">Sim</span><span class="sxs-lookup"><span data-stu-id="79d94-125">Yes</span></span> |- |
| <span data-ttu-id="79d94-126">[Manutenção preditiva][lnk-predictive-maintenance]</span><span class="sxs-lookup"><span data-stu-id="79d94-126">[Predictive maintenance][lnk-predictive-maintenance]</span></span> |<span data-ttu-id="79d94-127">Sim</span><span class="sxs-lookup"><span data-stu-id="79d94-127">Yes</span></span> |<span data-ttu-id="79d94-128">Sim</span><span class="sxs-lookup"><span data-stu-id="79d94-128">Yes</span></span> |- |<span data-ttu-id="79d94-129">Sim</span><span class="sxs-lookup"><span data-stu-id="79d94-129">Yes</span></span> |<span data-ttu-id="79d94-130">Sim</span><span class="sxs-lookup"><span data-stu-id="79d94-130">Yes</span></span> |<span data-ttu-id="79d94-131">Sim</span><span class="sxs-lookup"><span data-stu-id="79d94-131">Yes</span></span> |
| <span data-ttu-id="79d94-132">[Fábrica conectada][lnk-getstarted-factory]</span><span class="sxs-lookup"><span data-stu-id="79d94-132">[Connected factory][lnk-getstarted-factory]</span></span> |<span data-ttu-id="79d94-133">Sim</span><span class="sxs-lookup"><span data-stu-id="79d94-133">Yes</span></span> |<span data-ttu-id="79d94-134">Sim</span><span class="sxs-lookup"><span data-stu-id="79d94-134">Yes</span></span> |<span data-ttu-id="79d94-135">Sim</span><span class="sxs-lookup"><span data-stu-id="79d94-135">Yes</span></span> |<span data-ttu-id="79d94-136">Sim</span><span class="sxs-lookup"><span data-stu-id="79d94-136">Yes</span></span> |<span data-ttu-id="79d94-137">sim</span><span class="sxs-lookup"><span data-stu-id="79d94-137">Yes</span></span> |- |

* <span data-ttu-id="79d94-138">*Ingestão de dados*: entrada de dados em escala para a nuvem.</span><span class="sxs-lookup"><span data-stu-id="79d94-138">*Data ingestion*: Ingress of data at scale to the cloud.</span></span>
* <span data-ttu-id="79d94-139">*Identidade do dispositivo*: gerenciar identidades exclusivas de dispositivo e controlar o acesso do dispositivo à solução.</span><span class="sxs-lookup"><span data-stu-id="79d94-139">*Device identity*: Manage unique device identities and control device access to the solution.</span></span>
* <span data-ttu-id="79d94-140">*Gerenciamento de dispositivo*: gerenciar metadados de dispositivo e executar operações como atualizações de firmware e reinicializações do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="79d94-140">*Device management*: Manage device metadata and perform operations such as device reboots and firmware upgrades.</span></span>
* <span data-ttu-id="79d94-141">*Comando e controle*: para fazer o dispositivo realizar uma ação, envie mensagens a um dispositivo pela nuvem.</span><span class="sxs-lookup"><span data-stu-id="79d94-141">*Command and control*: To cause the device to take an action, send messages to a device from the cloud.</span></span>
* <span data-ttu-id="79d94-142">*Regras e ações*: para atuar em dados específicos do dispositivo para a nuvem, o back-end da solução usa regras.</span><span class="sxs-lookup"><span data-stu-id="79d94-142">*Rules and actions*: To act on specific device-to-cloud data, the solution back end uses rules.</span></span>
* <span data-ttu-id="79d94-143">*Análise preditiva*: o back-end da solução analisa dados do dispositivo para a nuvem para prever quando ações específicas devem ocorrer.</span><span class="sxs-lookup"><span data-stu-id="79d94-143">*Predictive analytics*: The solution back end analyzes device-to-cloud data to predict when specific actions should take place.</span></span> <span data-ttu-id="79d94-144">Por exemplo, analisar a telemetria de motores de aeronave para determinar quando deve ser realizada a manutenção do motor.</span><span class="sxs-lookup"><span data-stu-id="79d94-144">For example, analyzing aircraft engine telemetry to determine when engine maintenance is due.</span></span>

## <a name="remote-monitoring-preconfigured-solution-overview"></a><span data-ttu-id="79d94-145">Visão geral da solução pré-configurada de Monitoramento Remoto</span><span class="sxs-lookup"><span data-stu-id="79d94-145">Remote Monitoring preconfigured solution overview</span></span>

<span data-ttu-id="79d94-146">Optamos por abordar a solução pré-configurada de monitoramento remoto neste artigo porque ela ilustra vários elementos comuns de design compartilhados pelas outras soluções.</span><span class="sxs-lookup"><span data-stu-id="79d94-146">We have chosen to discuss the remote monitoring preconfigured solution in this article because it illustrates many common design elements that the other solutions share.</span></span>

<span data-ttu-id="79d94-147">O diagrama a seguir ilustra os principais elementos da solução de monitoramento remoto.</span><span class="sxs-lookup"><span data-stu-id="79d94-147">The following diagram illustrates the key elements of the remote monitoring solution.</span></span> <span data-ttu-id="79d94-148">As seções a seguir fornecem mais informações sobre esses elementos.</span><span class="sxs-lookup"><span data-stu-id="79d94-148">The following sections provide more information about these elements.</span></span>

![Arquitetura da solução pré-configurada de monitoramento remoto][img-remote-monitoring-arch]

## <a name="devices"></a><span data-ttu-id="79d94-150">Dispositivos</span><span class="sxs-lookup"><span data-stu-id="79d94-150">Devices</span></span>

<span data-ttu-id="79d94-151">Quando você implanta a solução pré-configurada de monitoramento remoto, quatro dispositivos simulados são previamente provisionados na solução que simula um dispositivo de resfriamento.</span><span class="sxs-lookup"><span data-stu-id="79d94-151">When you deploy the remote monitoring preconfigured solution, four simulated devices are pre-provisioned in the solution that simulate a cooling device.</span></span> <span data-ttu-id="79d94-152">Esses dispositivos simulados têm um modelo interno de temperatura interna e de umidade que emite a telemetria.</span><span class="sxs-lookup"><span data-stu-id="79d94-152">These simulated devices have a built-in temperature and humidity model that emits telemetry.</span></span> <span data-ttu-id="79d94-153">Esses dispositivos simulados estão incluídos para:</span><span class="sxs-lookup"><span data-stu-id="79d94-153">These simulated devices are included to:</span></span>

- <span data-ttu-id="79d94-154">Ilustrar o fluxo de dados de ponta a ponta através da solução.</span><span class="sxs-lookup"><span data-stu-id="79d94-154">Illustrate the end-to-end flow of data through the solution.</span></span>
- <span data-ttu-id="79d94-155">Fornecer uma fonte conveniente de telemetria.</span><span class="sxs-lookup"><span data-stu-id="79d94-155">Provide a convenient source of telemetry.</span></span>
- <span data-ttu-id="79d94-156">Fornecer um destino para métodos ou comandos caso você seja um desenvolvedor de back-end usando a solução como um ponto de partida para uma implementação personalizada.</span><span class="sxs-lookup"><span data-stu-id="79d94-156">Provide a target for methods or commands if you are a back-end developer using the solution as a starting point for a custom implementation.</span></span>

<span data-ttu-id="79d94-157">Os dispositivos simulados na solução podem responder às seguintes comunicações do dispositivo para nuvem:</span><span class="sxs-lookup"><span data-stu-id="79d94-157">The simulated devices in the solution can respond to the following cloud-to-device communications:</span></span>

- <span data-ttu-id="79d94-158">*Métodos ([métodos diretos][lnk-direct-methods])*: um método de comunicação bidirecional em que se espera que um dispositivo conectado responda imediatamente.</span><span class="sxs-lookup"><span data-stu-id="79d94-158">*Methods ([direct methods][lnk-direct-methods])*: A two-way communication method where a connected device is expected to respond immediately.</span></span>
- <span data-ttu-id="79d94-159">*Comandos (mensagens da nuvem para o dispositivo)*: um método de comunicação unidirecional em que um dispositivo recupera o comando de uma fila durável.</span><span class="sxs-lookup"><span data-stu-id="79d94-159">*Commands (cloud-to-device messages)*: A one-way communication method where a device retrieves the command from a durable queue.</span></span>

<span data-ttu-id="79d94-160">Para uma comparação dessas diferentes abordagens, consulte [Orientação sobre comunicações da nuvem para o dispositivo][lnk-c2d-guidance].</span><span class="sxs-lookup"><span data-stu-id="79d94-160">For a comparison of these different approaches, see [Cloud-to-device communications guidance][lnk-c2d-guidance].</span></span>

<span data-ttu-id="79d94-161">Quando um dispositivo se conecta pela primeira vez ao Hub IoT na solução pré-configurada, ele envia uma mensagem de informação sobre o dispositivo ao hub.</span><span class="sxs-lookup"><span data-stu-id="79d94-161">When a device first connects to IoT Hub in the preconfigured solution, it sends a device information message to the hub.</span></span> <span data-ttu-id="79d94-162">Esta mensagem enumera os métodos aos quais o dispositivo pode responder.</span><span class="sxs-lookup"><span data-stu-id="79d94-162">This message enumerates the methods the device can respond to.</span></span> <span data-ttu-id="79d94-163">Na solução pré-configurada de monitoramento remoto, os dispositivos simulados oferecem suporte a esses métodos:</span><span class="sxs-lookup"><span data-stu-id="79d94-163">In the remote monitoring preconfigured solution, simulated devices support these methods:</span></span>

* <span data-ttu-id="79d94-164">*Iniciar atualização do Firmware*: esse método inicia uma tarefa assíncrona no dispositivo para executar uma atualização de firmware.</span><span class="sxs-lookup"><span data-stu-id="79d94-164">*Initiate Firmware Update*: this method initiates an asynchronous task on the device to perform a firmware update.</span></span> <span data-ttu-id="79d94-165">A tarefa assíncrona usa propriedades relatadas para fornecer atualizações de status ao painel da solução.</span><span class="sxs-lookup"><span data-stu-id="79d94-165">The asynchronous task uses reported properties to deliver status updates to the solution dashboard.</span></span>
* <span data-ttu-id="79d94-166">*Reinicializar*: esse método faz com que o dispositivo simulado seja reinicializado.</span><span class="sxs-lookup"><span data-stu-id="79d94-166">*Reboot*: this method causes the simulated device to reboot.</span></span>
* <span data-ttu-id="79d94-167">*FactoryReset*: esse método dispara uma redefinição de fábrica no dispositivo simulado.</span><span class="sxs-lookup"><span data-stu-id="79d94-167">*FactoryReset*: this method triggers a factory reset on the simulated device.</span></span>

<span data-ttu-id="79d94-168">Quando um dispositivo se conecta pela primeira vez ao Hub IoT na solução pré-configurada, ele envia uma mensagem de informação sobre o dispositivo ao hub.</span><span class="sxs-lookup"><span data-stu-id="79d94-168">When a device first connects to IoT Hub in the preconfigured solution, it sends a device information message to the hub.</span></span> <span data-ttu-id="79d94-169">Esta mensagem enumera os comandos aos quais o dispositivo pode responder.</span><span class="sxs-lookup"><span data-stu-id="79d94-169">This message enumerates the commands the device can respond to.</span></span> <span data-ttu-id="79d94-170">Na solução pré-configurada de monitoramento remoto, os dispositivos simulados oferecem suporte a esses comandos:</span><span class="sxs-lookup"><span data-stu-id="79d94-170">In the remote monitoring preconfigured solution, simulated devices support these commands:</span></span>

* <span data-ttu-id="79d94-171">*Executar Ping*: o dispositivo responde a esse comando com uma confirmação.</span><span class="sxs-lookup"><span data-stu-id="79d94-171">*Ping Device*: The device responds to this command with an acknowledgement.</span></span> <span data-ttu-id="79d94-172">Esse comando é útil para verificar se o dispositivo ainda está ativo e ouvindo.</span><span class="sxs-lookup"><span data-stu-id="79d94-172">This command is useful for checking that the device is still active and listening.</span></span>
* <span data-ttu-id="79d94-173">*Iniciar Telemetria*: instrui o dispositivo a iniciar o envio de telemetria.</span><span class="sxs-lookup"><span data-stu-id="79d94-173">*Start Telemetry*: Instructs the device to start sending telemetry.</span></span>
* <span data-ttu-id="79d94-174">*Parar Telemetria*: instrui o dispositivo a parar o envio de telemetria.</span><span class="sxs-lookup"><span data-stu-id="79d94-174">*Stop Telemetry*: Instructs the device to stop sending telemetry.</span></span>
* <span data-ttu-id="79d94-175">*Alterar Ponto de Definição da Temperatura*: controla os valores de telemetria de temperatura simulados enviados pelo dispositivo.</span><span class="sxs-lookup"><span data-stu-id="79d94-175">*Change Set Point Temperature*: Controls the simulated temperature telemetry values the device sends.</span></span> <span data-ttu-id="79d94-176">Esse comando é útil para testar a lógica de back-end.</span><span class="sxs-lookup"><span data-stu-id="79d94-176">This command is useful for testing back-end logic.</span></span>
* <span data-ttu-id="79d94-177">*Diagnosticar Telemetria*: controla se o dispositivo deve enviar a temperatura externa como telemetria.</span><span class="sxs-lookup"><span data-stu-id="79d94-177">*Diagnostic Telemetry*: Controls if the device should send the external temperature as telemetry.</span></span>
* <span data-ttu-id="79d94-178">*Alterar Estado do Dispositivo*: define a propriedade de metadados do estado do dispositivo relatado pelo dispositivo.</span><span class="sxs-lookup"><span data-stu-id="79d94-178">*Change Device State*: Sets the device state metadata property that the device reports.</span></span> <span data-ttu-id="79d94-179">Esse comando é útil para testar a lógica de back-end.</span><span class="sxs-lookup"><span data-stu-id="79d94-179">This command is useful for testing back-end logic.</span></span>

<span data-ttu-id="79d94-180">Você pode adicionar mais dispositivos simulados à solução que emite a mesma telemetria e responde aos mesmos métodos e comandos.</span><span class="sxs-lookup"><span data-stu-id="79d94-180">You can add more simulated devices to the solution that emit the same telemetry and respond to the same methods and commands.</span></span>

<span data-ttu-id="79d94-181">Além de responder a comandos e métodos, a solução usa [dispositivos gêmeos][lnk-device-twin].</span><span class="sxs-lookup"><span data-stu-id="79d94-181">In addition to responding to commands and methods, the solution uses [device twins][lnk-device-twin].</span></span> <span data-ttu-id="79d94-182">Os dispositivos usam os dispositivos gêmeos para relatar valores de propriedade para o back-end da solução.</span><span class="sxs-lookup"><span data-stu-id="79d94-182">Devices use device twins to report property values to the solution back end.</span></span> <span data-ttu-id="79d94-183">O painel da solução usa dispositivos gêmeos para definir como novos os valores de propriedade desejados nos dispositivos.</span><span class="sxs-lookup"><span data-stu-id="79d94-183">The solution dashboard uses device twins to set to new desired property values on devices.</span></span> <span data-ttu-id="79d94-184">Por exemplo, durante o processo de atualização do firmware o dispositivo simulado relata o status da atualização usando as propriedades relatadas.</span><span class="sxs-lookup"><span data-stu-id="79d94-184">For example, during the firmware update process the simulated device reports the status of the update using reported properties.</span></span>

## <a name="iot-hub"></a><span data-ttu-id="79d94-185">Hub IoT</span><span class="sxs-lookup"><span data-stu-id="79d94-185">IoT Hub</span></span>

<span data-ttu-id="79d94-186">Nesta solução pré-configurada, a instância do Hub IoT corresponde ao *Gateway de Nuvem* em uma [arquitetura da solução de IoT][lnk-what-is-azure-iot] típica.</span><span class="sxs-lookup"><span data-stu-id="79d94-186">In this preconfigured solution, the IoT Hub instance corresponds to the *Cloud Gateway* in a typical [IoT solution architecture][lnk-what-is-azure-iot].</span></span>

<span data-ttu-id="79d94-187">Um Hub IoT recebe telemetria dos dispositivos em um único ponto de extremidade.</span><span class="sxs-lookup"><span data-stu-id="79d94-187">An IoT hub receives telemetry from the devices at a single endpoint.</span></span> <span data-ttu-id="79d94-188">Um hub IoT também mantém os pontos de extremidade específicos do dispositivo onde cada dispositivo pode recuperar os comandos enviados a ele.</span><span class="sxs-lookup"><span data-stu-id="79d94-188">An IoT hub also maintains device-specific endpoints where each device can retrieve the commands that are sent to it.</span></span>

<span data-ttu-id="79d94-189">O Hub IoT disponibiliza a telemetria recebida por meio do ponto de extremidade de leitura de telemetria no lado do serviço.</span><span class="sxs-lookup"><span data-stu-id="79d94-189">The IoT hub makes the received telemetry available through the service-side telemetry read endpoint.</span></span>

<span data-ttu-id="79d94-190">A funcionalidade de gerenciamento de dispositivo do Hub IoT permite gerenciar as propriedades do dispositivo no portal da solução e agendar trabalhos que executam operações tais como:</span><span class="sxs-lookup"><span data-stu-id="79d94-190">The device management capability of IoT Hub enables you to manage your device properties from the solution portal and schedule jobs that perform operations such as:</span></span>

- <span data-ttu-id="79d94-191">Reinicialização de dispositivos</span><span class="sxs-lookup"><span data-stu-id="79d94-191">Rebooting devices</span></span>
- <span data-ttu-id="79d94-192">Alterar estados do dispositivo</span><span class="sxs-lookup"><span data-stu-id="79d94-192">Changing device states</span></span>
- <span data-ttu-id="79d94-193">Atualizações de firmware</span><span class="sxs-lookup"><span data-stu-id="79d94-193">Firmware updates</span></span>

## <a name="azure-stream-analytics"></a><span data-ttu-id="79d94-194">Stream Analytics do Azure</span><span class="sxs-lookup"><span data-stu-id="79d94-194">Azure Stream Analytics</span></span>

<span data-ttu-id="79d94-195">A solução pré-configurada usa três trabalhos do ASA ([Stream Analytics do Azure][lnk-asa]) para filtrar o fluxo de telemetria dos dispositivos:</span><span class="sxs-lookup"><span data-stu-id="79d94-195">The preconfigured solution uses three [Azure Stream Analytics][lnk-asa] (ASA) jobs to filter the telemetry stream from the devices:</span></span>

* <span data-ttu-id="79d94-196">*Trabalho DeviceInfo* – envia dados para um Hub de eventos que encaminha mensagens específicas de registro do dispositivo para o registro do dispositivo da solução.</span><span class="sxs-lookup"><span data-stu-id="79d94-196">*DeviceInfo job* - outputs data to an Event hub that routes device registration-specific messages to the solution device registry.</span></span> <span data-ttu-id="79d94-197">Esse registro de dispositivo é um banco de dados do BD Cosmos do Azure.</span><span class="sxs-lookup"><span data-stu-id="79d94-197">This device registry is an Azure Cosmos DB database.</span></span> <span data-ttu-id="79d94-198">Essas mensagens são enviadas quando um dispositivo se conecta pela primeira vez ou em resposta a um comando **Alterar estado do dispositivo**.</span><span class="sxs-lookup"><span data-stu-id="79d94-198">These messages are sent when a device first connects or in response to a **Change device state** command.</span></span>
* <span data-ttu-id="79d94-199">*Trabalho de telemetria* – envia toda a telemetria bruta para o armazenamento de blobs do Azure para armazenamento frio e calcula as agregações de telemetria exibidas no painel de solução.</span><span class="sxs-lookup"><span data-stu-id="79d94-199">*Telemetry job* - sends all raw telemetry to Azure blob storage for cold storage and calculates telemetry aggregations that display in the solution dashboard.</span></span>
* <span data-ttu-id="79d94-200">*Trabalho de regras* – filtra o fluxo de telemetria para os valores que excedem os limites de regras e retornam os dados para um Hub de Eventos.</span><span class="sxs-lookup"><span data-stu-id="79d94-200">*Rules job* - filters the telemetry stream for values that exceed any rule thresholds and outputs the data to an Event hub.</span></span> <span data-ttu-id="79d94-201">Quando uma regra é disparada, a exibição de painel do portal da solução mostra esse evento como uma nova linha na tabela de histórico de alarmes.</span><span class="sxs-lookup"><span data-stu-id="79d94-201">When a rule fires, the solution portal dashboard view displays this event as a new row in the alarm history table.</span></span> <span data-ttu-id="79d94-202">Essas regras também podem disparar uma ação com base nas configurações definidas nas exibições **Regras** e **Ações** no portal da solução.</span><span class="sxs-lookup"><span data-stu-id="79d94-202">These rules can also trigger an action based on the settings defined on the **Rules** and **Actions** views in the solution portal.</span></span>

<span data-ttu-id="79d94-203">Nesta solução pré-configurada, os trabalhos ASA fazem parte do **back-end da solução IoT** em uma [arquitetura de solução IoT][lnk-what-is-azure-iot] típica.</span><span class="sxs-lookup"><span data-stu-id="79d94-203">In this preconfigured solution, the ASA jobs form part of to the **IoT solution back end** in a typical [IoT solution architecture][lnk-what-is-azure-iot].</span></span>

## <a name="event-processor"></a><span data-ttu-id="79d94-204">Processador de eventos</span><span class="sxs-lookup"><span data-stu-id="79d94-204">Event processor</span></span>

<span data-ttu-id="79d94-205">Nesta solução pré-configurada, o processador de eventos faz parte do **back-end da solução IoT** em uma [arquitetura de solução IoT][lnk-what-is-azure-iot] típica.</span><span class="sxs-lookup"><span data-stu-id="79d94-205">In this preconfigured solution, the event processor forms part of the **IoT solution back end** in a typical [IoT solution architecture][lnk-what-is-azure-iot].</span></span>

<span data-ttu-id="79d94-206">Os trabalhos ASA **DeviceInfo** e **Rules** enviam suas saídas para os Hubs de Eventos para entrega em outros serviços de back-end.</span><span class="sxs-lookup"><span data-stu-id="79d94-206">The **DeviceInfo** and **Rules** ASA jobs send their output to Event hubs for delivery to other back-end services.</span></span> <span data-ttu-id="79d94-207">A solução usa uma instância de [EventPocessorHost][lnk-event-processor], em execução em um [WebJob][lnk-web-job], para ler as mensagens desses Hubs de Eventos.</span><span class="sxs-lookup"><span data-stu-id="79d94-207">The solution uses an [EventProcessorHost][lnk-event-processor] instance, running in a [WebJob][lnk-web-job], to read the messages from these Event hubs.</span></span> <span data-ttu-id="79d94-208">O **EventProcessorHost** usa:</span><span class="sxs-lookup"><span data-stu-id="79d94-208">The **EventProcessorHost** uses:</span></span>
- <span data-ttu-id="79d94-209">Os dados de **DeviceInfo** para atualizar os dados do dispositivo no banco de dados Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="79d94-209">The **DeviceInfo** data to update the device data in the Cosmos DB database.</span></span>
- <span data-ttu-id="79d94-210">Os dados de **Regras** para invocar o aplicativo lógico e atualizar a exibição de alertas no portal da solução.</span><span class="sxs-lookup"><span data-stu-id="79d94-210">The **Rules** data to invoke the Logic app and update the alerts display in the solution portal.</span></span>

## <a name="device-identity-registry-device-twin-and-cosmos-db"></a><span data-ttu-id="79d94-211">Registro de identidade do dispositivo, dispositivo gêmeo e Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="79d94-211">Device identity registry, device twin, and Cosmos DB</span></span>

<span data-ttu-id="79d94-212">Cada Hub IoT inclui um [registro de identidade do dispositivo][lnk-identity-registry] que armazena as chaves do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="79d94-212">Every IoT hub includes a [device identity registry][lnk-identity-registry] that stores device keys.</span></span> <span data-ttu-id="79d94-213">O Hub IoT usa esses dispositivos de autenticação de informação – um dispositivo deve ser registrado e ter uma chave válida para poder ser conectado ao Hub.</span><span class="sxs-lookup"><span data-stu-id="79d94-213">IoT Hub uses this information authenticate devices - a device must be registered and have a valid key before it can connect to the hub.</span></span>

<span data-ttu-id="79d94-214">Um [dispositivo gêmeo][lnk-device-twin] é um documento JSON gerenciado pelo Hub IoT.</span><span class="sxs-lookup"><span data-stu-id="79d94-214">A [device twin][lnk-device-twin] is a JSON document managed by the IoT Hub.</span></span> <span data-ttu-id="79d94-215">Um dispositivo gêmeo para um dispositivo contém:</span><span class="sxs-lookup"><span data-stu-id="79d94-215">A device twin for a device contains:</span></span>

- <span data-ttu-id="79d94-216">Propriedades relatadas enviadas pelo dispositivo para o hub.</span><span class="sxs-lookup"><span data-stu-id="79d94-216">Reported properties sent by the device to the hub.</span></span> <span data-ttu-id="79d94-217">Você pode exibir essas propriedades no portal da solução.</span><span class="sxs-lookup"><span data-stu-id="79d94-217">You can view these properties in the solution portal.</span></span>
- <span data-ttu-id="79d94-218">Propriedades desejadas que você quer enviar para o dispositivo.</span><span class="sxs-lookup"><span data-stu-id="79d94-218">Desired properties that you want to send to the device.</span></span> <span data-ttu-id="79d94-219">Você pode definir essas propriedades no portal da solução.</span><span class="sxs-lookup"><span data-stu-id="79d94-219">You can set these properties in the solution portal.</span></span>
- <span data-ttu-id="79d94-220">Marcas que existem apenas no dispositivo gêmeo e não no dispositivo.</span><span class="sxs-lookup"><span data-stu-id="79d94-220">Tags that exist only in the device twin and not on the device.</span></span> <span data-ttu-id="79d94-221">Você pode usar essas marcas para filtrar listas de dispositivos no portal da solução.</span><span class="sxs-lookup"><span data-stu-id="79d94-221">You can use these tags to filter lists of devices in the solution portal.</span></span>

<span data-ttu-id="79d94-222">Essa solução usa dispositivos gêmeos para gerenciar metadados do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="79d94-222">This solution uses device twins to manage device metadata.</span></span> <span data-ttu-id="79d94-223">A solução também usa um banco de dados Cosmos DB para armazenar dados adicionais de dispositivo, específicos da solução, como os comandos aos quais cada dispositivo dá suporte e o histórico de comandos.</span><span class="sxs-lookup"><span data-stu-id="79d94-223">The solution also uses a Cosmos DB database to store additional solution-specific device data such as the commands supported by each device and the command history.</span></span>

<span data-ttu-id="79d94-224">A solução também deverá manter as informações no registro de identidade do dispositivo sincronizadas com os conteúdos do banco de dados do Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="79d94-224">The solution must also keep the information in the device identity registry synchronized with the contents of the Cosmos DB database.</span></span> <span data-ttu-id="79d94-225">O **EventProcessorHost** usa os dados do trabalho de análise de fluxo de **DeviceInfo** para gerenciar a sincronização.</span><span class="sxs-lookup"><span data-stu-id="79d94-225">The **EventProcessorHost** uses the data from **DeviceInfo** stream analytics job to manage the synchronization.</span></span>

## <a name="solution-portal"></a><span data-ttu-id="79d94-226">Portal de solução</span><span class="sxs-lookup"><span data-stu-id="79d94-226">Solution portal</span></span>

![portal da solução][img-dashboard]

<span data-ttu-id="79d94-228">O portal da solução é uma interface de usuário baseada na Web implantado na nuvem como parte da solução pré-configurada.</span><span class="sxs-lookup"><span data-stu-id="79d94-228">The solution portal is a web-based UI that is deployed to the cloud as part of the preconfigured solution.</span></span> <span data-ttu-id="79d94-229">Ele permite que você:</span><span class="sxs-lookup"><span data-stu-id="79d94-229">It enables you to:</span></span>

* <span data-ttu-id="79d94-230">Exiba o histórico de telemetria e de alarmes em um painel.</span><span class="sxs-lookup"><span data-stu-id="79d94-230">View telemetry and alarm history in a dashboard.</span></span>
* <span data-ttu-id="79d94-231">Provisione novos dispositivos.</span><span class="sxs-lookup"><span data-stu-id="79d94-231">Provision new devices.</span></span>
* <span data-ttu-id="79d94-232">Gerencie e monitore dispositivos.</span><span class="sxs-lookup"><span data-stu-id="79d94-232">Manage and monitor devices.</span></span>
* <span data-ttu-id="79d94-233">Envie comandos para dispositivos específicos.</span><span class="sxs-lookup"><span data-stu-id="79d94-233">Send commands to specific devices.</span></span>
* <span data-ttu-id="79d94-234">Invoque métodos em dispositivos específicos.</span><span class="sxs-lookup"><span data-stu-id="79d94-234">Invoke methods on specific devices.</span></span>
* <span data-ttu-id="79d94-235">Gerencie regras e ações.</span><span class="sxs-lookup"><span data-stu-id="79d94-235">Manage rules and actions.</span></span>
* <span data-ttu-id="79d94-236">Agende trabalhos a serem executados em um ou mais dispositivos.</span><span class="sxs-lookup"><span data-stu-id="79d94-236">Schedule jobs to run on one or more devices.</span></span>

<span data-ttu-id="79d94-237">Nesta solução pré-configurada, o portal de solução faz parte do **back-end de solução IoT** e parte da **Conectividade de processamento e de negócios** na [arquitetura de solução IoT][lnk-what-is-azure-iot] típica.</span><span class="sxs-lookup"><span data-stu-id="79d94-237">In this preconfigured solution, the solution portal forms part of the **IoT solution back end** and part of the **Processing and business connectivity** in the typical [IoT solution architecture][lnk-what-is-azure-iot].</span></span>

## <a name="next-steps"></a><span data-ttu-id="79d94-238">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="79d94-238">Next steps</span></span>

<span data-ttu-id="79d94-239">Para obter mais informações sobre as arquiteturas de solução de IoT, confira [Serviços de IoT do Microsoft Azure: arquitetura de referência][lnk-refarch].</span><span class="sxs-lookup"><span data-stu-id="79d94-239">For more information about IoT solution architectures, see [Microsoft Azure IoT services: Reference Architecture][lnk-refarch].</span></span>

<span data-ttu-id="79d94-240">Agora você sabe o que é uma solução pré-configurada, poderá começar pela implantação da solução pré-configurada de *monitoramento remoto*: [Introdução às soluções pré-configuradas][lnk-getstarted-preconfigured].</span><span class="sxs-lookup"><span data-stu-id="79d94-240">Now you know what a preconfigured solution is, you can get started by deploying the *remote monitoring* preconfigured solution: [Get started with the preconfigured solutions][lnk-getstarted-preconfigured].</span></span>

[img-remote-monitoring-arch]: ./media/iot-suite-what-are-preconfigured-solutions/remote-monitoring-arch1.png
[img-dashboard]: ./media/iot-suite-what-are-preconfigured-solutions/dashboard.png
[lnk-what-is-azure-iot]: iot-suite-what-is-azure-iot.md
[lnk-asa]: https://azure.microsoft.com/documentation/services/stream-analytics/
[lnk-event-processor]: ../event-hubs/event-hubs-programming-guide.md#event-processor-host
[lnk-web-job]: ../app-service-web/web-sites-create-web-jobs.md
[lnk-identity-registry]: ../iot-hub/iot-hub-devguide-identity-registry.md
[lnk-predictive-maintenance]: iot-suite-predictive-overview.md
[lnk-azureiotsuite]: https://www.azureiotsuite.com/
[lnk-refarch]: http://download.microsoft.com/download/A/4/D/A4DAD253-BC21-41D3-B9D9-87D2AE6F0719/Microsoft_Azure_IoT_Reference_Architecture.pdf
[lnk-getstarted-preconfigured]: iot-suite-getstarted-preconfigured-solutions.md
[lnk-c2d-guidance]: ../iot-hub/iot-hub-devguide-c2d-guidance.md
[lnk-device-twin]: ../iot-hub/iot-hub-devguide-device-twins.md
[lnk-direct-methods]: ../iot-hub/iot-hub-devguide-direct-methods.md
[lnk-getstarted-factory]: iot-suite-connected-factory-overview.md
