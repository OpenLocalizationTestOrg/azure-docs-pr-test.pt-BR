---
title: "aaaSecure sua implantação de Internet das coisas | Microsoft Docs"
description: "Este artigo detalhes como toosecure sua implantação IoT"
services: 
suite: iot-suite
documentationcenter: 
author: YuriDio
manager: timlt
editor: 
ms.assetid: 95c23341-16b0-4954-b3f2-d2e82ab7b367
ms.service: iot-suite
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/24/2017
ms.author: yurid
ms.openlocfilehash: befba8f2009279c2217dcd3496d529139134ec01
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="secure-your-iot-deployment"></a><span data-ttu-id="0fd00-103">Proteger sua implantação de IoT</span><span class="sxs-lookup"><span data-stu-id="0fd00-103">Secure your IoT deployment</span></span>
<span data-ttu-id="0fd00-104">Este artigo fornece o próximo nível de detalhe de saudação para proteger a saudação infra-estrutura de IoT do Azure com base em Internet das coisas (IoT).</span><span class="sxs-lookup"><span data-stu-id="0fd00-104">This article provides hello next level of detail for securing hello Azure IoT-based Internet of Things (IoT) infrastructure.</span></span> <span data-ttu-id="0fd00-105">Vincula tooimplementation detalhes de nível para configurar e implantar cada componente.</span><span class="sxs-lookup"><span data-stu-id="0fd00-105">It links tooimplementation level details for configuring and deploying each component.</span></span> <span data-ttu-id="0fd00-106">Além disso, ele fornece comparações e opções entre vários métodos de concorrentes.</span><span class="sxs-lookup"><span data-stu-id="0fd00-106">It also provides comparisons and choices between various competing methods.</span></span>

<span data-ttu-id="0fd00-107">Protegendo a implantação do Azure IoT Olá pode ser dividido em Olá três áreas de segurança a seguir:</span><span class="sxs-lookup"><span data-stu-id="0fd00-107">Securing hello Azure IoT deployment can be divided into hello following three security areas:</span></span>

* <span data-ttu-id="0fd00-108">**Segurança de dispositivo**: Protegendo dispositivo IoT de saudação enquanto ela está implantada em Olá curinga.</span><span class="sxs-lookup"><span data-stu-id="0fd00-108">**Device Security**: Securing hello IoT device while it is deployed in hello wild.</span></span>
* <span data-ttu-id="0fd00-109">**Segurança de Conexão**: verificar todos os dados transmitidos entre o dispositivo de IoT hello e IoT Hub é confidenciais e à prova de adulteração.</span><span class="sxs-lookup"><span data-stu-id="0fd00-109">**Connection Security**: Ensuring all data transmitted between hello IoT device and IoT Hub is confidential and tamper-proof.</span></span>
* <span data-ttu-id="0fd00-110">**Segurança de nuvem**: fornecendo um meio toosecure dados enquanto se movimentam pelo e é armazenado na nuvem hello.</span><span class="sxs-lookup"><span data-stu-id="0fd00-110">**Cloud Security**: Providing a means toosecure data while it moves through, and is stored in hello cloud.</span></span>

![Três áreas de segurança][img-overview]

## <a name="secure-device-provisioning-and-authentication"></a><span data-ttu-id="0fd00-112">Provisionamento e autenticação com segurança dos dispositivos</span><span class="sxs-lookup"><span data-stu-id="0fd00-112">Secure device provisioning and authentication</span></span>
<span data-ttu-id="0fd00-113">Hello Azure IoT Suite protege dispositivos IoT por Olá dois métodos a seguir:</span><span class="sxs-lookup"><span data-stu-id="0fd00-113">hello Azure IoT Suite secures IoT devices by hello following two methods:</span></span>

* <span data-ttu-id="0fd00-114">Fornecendo uma chave de identidade exclusiva (tokens de segurança) para cada dispositivo, o que pode ser usado por Olá dispositivo toocommunicate com hello IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="0fd00-114">By providing a unique identity key (security tokens) for each device, which can be used by hello device toocommunicate with hello IoT Hub.</span></span>
* <span data-ttu-id="0fd00-115">Usando um dispositivo [certificado x. 509] [ lnk-x509] e a chave privada como um meio tooauthenticate Olá dispositivo toohello IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="0fd00-115">By using an on-device [X.509 certificate][lnk-x509] and private key as a means tooauthenticate hello device toohello IoT Hub.</span></span> <span data-ttu-id="0fd00-116">Esse método de autenticação assegura que Olá chave privada no dispositivo de saudação não é conhecido fora dispositivo Olá a qualquer momento, fornecendo um nível mais alto de segurança.</span><span class="sxs-lookup"><span data-stu-id="0fd00-116">This authentication method ensures that hello private key on hello device is not known outside hello device at any time, providing a higher level of security.</span></span>

<span data-ttu-id="0fd00-117">método de token de segurança Hello fornece autenticação para cada chamada feita pelo Olá dispositivo tooIoT Hub por meio da associação chamada do hello tooeach chave simétrica.</span><span class="sxs-lookup"><span data-stu-id="0fd00-117">hello security token method provides authentication for each call made by hello device tooIoT Hub by associating hello symmetric key tooeach call.</span></span> <span data-ttu-id="0fd00-118">Autenticação baseada em x. 509 permite que a autenticação de um dispositivo IoT na camada física de Olá como parte do estabelecimento de conexão TLS hello.</span><span class="sxs-lookup"><span data-stu-id="0fd00-118">X.509-based authentication allows authentication of an IoT device at hello physical layer as part of hello TLS connection establishment.</span></span> <span data-ttu-id="0fd00-119">método de segurança baseada em token Hello pode ser usado sem a autenticação Olá x. 509 que é um padrão a menos segura.</span><span class="sxs-lookup"><span data-stu-id="0fd00-119">hello security-token-based method can be used without hello X.509 authentication which is a less secure pattern.</span></span> <span data-ttu-id="0fd00-120">Hello escolha entre os métodos de saudação dois é principalmente ditada por Olá seguro como autenticação de dispositivo precisa toobe e a disponibilidade de armazenamento seguro no dispositivo de saudação (toostore Olá chave privada com segurança).</span><span class="sxs-lookup"><span data-stu-id="0fd00-120">hello choice between hello two methods is primarily dictated by how secure hello device authentication needs toobe, and availability of secure storage on hello device (toostore hello private key securely).</span></span>

## <a name="iot-hub-security-tokens"></a><span data-ttu-id="0fd00-121">Tokens de segurança do Hub IoT</span><span class="sxs-lookup"><span data-stu-id="0fd00-121">IoT Hub security tokens</span></span>
<span data-ttu-id="0fd00-122">IoT Hub usa segurança tokens tooauthenticate dispositivos e serviços tooavoid enviar chaves na rede de saudação.</span><span class="sxs-lookup"><span data-stu-id="0fd00-122">IoT Hub uses security tokens tooauthenticate devices and services tooavoid sending keys on hello network.</span></span> <span data-ttu-id="0fd00-123">Além disso, os tokens de segurança têm limite de escopo e de prazo de validade.</span><span class="sxs-lookup"><span data-stu-id="0fd00-123">Additionally, security tokens are limited in time validity and scope.</span></span> <span data-ttu-id="0fd00-124">Os SDKs do IoT do Azure geram automaticamente tokens sem precisar de configuração especial.</span><span class="sxs-lookup"><span data-stu-id="0fd00-124">Azure IoT SDKs automatically generate tokens without requiring any special configuration.</span></span> <span data-ttu-id="0fd00-125">Alguns cenários, no entanto, exigem Olá usuário toogenerate e usam tokens de segurança diretamente.</span><span class="sxs-lookup"><span data-stu-id="0fd00-125">Some scenarios, however, require hello user toogenerate and use security tokens directly.</span></span> <span data-ttu-id="0fd00-126">Isso inclui o uso direto de saudação de superfícies MQTT, AMQP ou HTTP hello ou implementação de saudação do padrão do serviço de token de saudação.</span><span class="sxs-lookup"><span data-stu-id="0fd00-126">These include hello direct use of hello MQTT, AMQP, or HTTP surfaces, or hello implementation of hello token service pattern.</span></span>

<span data-ttu-id="0fd00-127">Mais detalhes na estrutura de saudação do token de segurança hello e seu uso podem ser encontrados no hello artigos a seguir:</span><span class="sxs-lookup"><span data-stu-id="0fd00-127">More details on hello structure of hello security token and its usage can be found in hello following articles:</span></span>

* <span data-ttu-id="0fd00-128">[Estrutura do token de segurança][lnk-security-tokens]</span><span class="sxs-lookup"><span data-stu-id="0fd00-128">[Security token structure][lnk-security-tokens]</span></span>
* <span data-ttu-id="0fd00-129">[Como usar tokens SAS como um dispositivo][lnk-sas-tokens]</span><span class="sxs-lookup"><span data-stu-id="0fd00-129">[Using SAS tokens as a device][lnk-sas-tokens]</span></span>

<span data-ttu-id="0fd00-130">Cada IoT Hub tem um [registro identidade] [ lnk-identity-registry] que pode ser usado toocreate por dispositivo recursos no serviço de saudação, como uma fila que contém mensagens de nuvem para dispositivo em andamento e tooallow toohello de acesso pontos de extremidade voltados para o dispositivo.</span><span class="sxs-lookup"><span data-stu-id="0fd00-130">Each IoT Hub has an [identity registry][lnk-identity-registry] that can be used toocreate per-device resources in hello service, such as a queue that contains in-flight cloud-to-device messages, and tooallow access toohello device-facing endpoints.</span></span> <span data-ttu-id="0fd00-131">Olá registro de identidade de IoT Hub fornece armazenamento seguro de identidades de dispositivo e chaves de segurança para uma solução.</span><span class="sxs-lookup"><span data-stu-id="0fd00-131">hello IoT Hub identity registry provides secure storage of device identities and security keys for a solution.</span></span> <span data-ttu-id="0fd00-132">Individuais ou grupos de identidades do dispositivo podem ser adicionados tooan permitir lista ou uma lista de blocos, permitindo que o controle completo sobre o acesso ao dispositivo.</span><span class="sxs-lookup"><span data-stu-id="0fd00-132">Individual or groups of device identities can be added tooan allow list, or a block list, enabling complete control over device access.</span></span> <span data-ttu-id="0fd00-133">Olá artigos a seguir fornecem mais detalhes na estrutura de saudação do registro de identidade hello e operações com suporte.</span><span class="sxs-lookup"><span data-stu-id="0fd00-133">hello following articles provide more details on hello structure of hello identity registry and supported operations.</span></span>

<span data-ttu-id="0fd00-134">[O Hub IoT dá suporte a protocolos como HTTP, AMQP e MQTT][lnk-protocols].</span><span class="sxs-lookup"><span data-stu-id="0fd00-134">[IoT Hub supports protocols such as MQTT, AMQP, and HTTP][lnk-protocols].</span></span> <span data-ttu-id="0fd00-135">Cada um desses protocolos usam tokens de segurança de tooIoT de dispositivo Olá IoT Hub maneiras diferentes:</span><span class="sxs-lookup"><span data-stu-id="0fd00-135">Each of these protocols use security tokens from hello IoT device tooIoT Hub differently:</span></span>

* <span data-ttu-id="0fd00-136">AMQP: Segurança de simples e baseada em declarações AMQP SASL ({policyName}@sas.root. { iothubName} no caso de saudação de tokens do nível do hub IoT; {deviceId} no caso de tokens no escopo do dispositivo).</span><span class="sxs-lookup"><span data-stu-id="0fd00-136">AMQP: SASL PLAIN and AMQP Claims-based security ({policyName}@sas.root.{iothubName} in hello case of IoT hub-level tokens; {deviceId} in case of device-scoped tokens).</span></span>
* <span data-ttu-id="0fd00-137">MQTT: Conectar usos do pacote {deviceId} como Olá {ClientId}, {IoThubhostname} / {deviceId} em Olá **Username** campo e um SAS de token em Olá **senha** campo.</span><span class="sxs-lookup"><span data-stu-id="0fd00-137">MQTT: CONNECT packet uses {deviceId} as hello {ClientId}, {IoThubhostname}/{deviceId} in hello **Username** field and a SAS token in hello **Password** field.</span></span>
* <span data-ttu-id="0fd00-138">HTTP: Token válido está no cabeçalho de solicitação de autorização de saudação.</span><span class="sxs-lookup"><span data-stu-id="0fd00-138">HTTP: Valid token is in hello authorization request header.</span></span>

<span data-ttu-id="0fd00-139">Registro de identidade de IoT Hub pode ser credenciais de segurança tooconfigure usado por dispositivo e controle de acesso.</span><span class="sxs-lookup"><span data-stu-id="0fd00-139">IoT Hub identity registry can be used tooconfigure per-device security credentials and access control.</span></span> <span data-ttu-id="0fd00-140">No entanto, se uma solução IoT já tiver um investimento considerável em um [Registro de identidade de dispositivo personalizado e/ou em um esquema de autenticação][lnk-custom-auth], ela poderá ser integrada a uma infraestrutura existente com o Hub IoT por meio da criação de um serviço de token.</span><span class="sxs-lookup"><span data-stu-id="0fd00-140">However, if an IoT solution already has a significant investment in a [custom device identity registry and/or authentication scheme][lnk-custom-auth], it can be integrated into an existing infrastructure with IoT Hub by creating a token service.</span></span>

### <a name="x509-certificate-based-device-authentication"></a><span data-ttu-id="0fd00-141">Autenticação de dispositivo com base no certificado x.509</span><span class="sxs-lookup"><span data-stu-id="0fd00-141">X.509 certificate-based device authentication</span></span>
<span data-ttu-id="0fd00-142">Olá o uso de um [certificado baseado em dispositivo de x. 509] [ lnk-protocols] e seu associado par de chaves pública e privada permite autenticação adicional na camada física hello.</span><span class="sxs-lookup"><span data-stu-id="0fd00-142">hello use of a [device-based X.509 certificate][lnk-protocols] and its associated private and public key pair allows additional authentication at hello physical layer.</span></span> <span data-ttu-id="0fd00-143">chave privada Olá é armazenada com segurança no dispositivo hello e não é detectável fora Olá dispositivo.</span><span class="sxs-lookup"><span data-stu-id="0fd00-143">hello private key is stored securely in hello device and is not discoverable outside hello device.</span></span> <span data-ttu-id="0fd00-144">certificado x. 509 de saudação contém informações sobre o dispositivo de saudação, como ID do dispositivo e outros detalhes organizacionais.</span><span class="sxs-lookup"><span data-stu-id="0fd00-144">hello X.509 certificate contains information about hello device, such as device ID, and other organizational details.</span></span> <span data-ttu-id="0fd00-145">Uma assinatura de certificado Olá é gerada usando a chave privada hello.</span><span class="sxs-lookup"><span data-stu-id="0fd00-145">A signature of hello certificate is generated by using hello private key.</span></span>

<span data-ttu-id="0fd00-146">Fluxo de provisionamento do dispositivo de alto nível:</span><span class="sxs-lookup"><span data-stu-id="0fd00-146">High-level device provisioning flow:</span></span>

* <span data-ttu-id="0fd00-147">Associe um identificador tooa dispositivo físico – identidade do dispositivo e/ou dispositivo de toohello associados de certificado x. 509 durante o dispositivo de fabricação ou preparação.</span><span class="sxs-lookup"><span data-stu-id="0fd00-147">Associate an identifier tooa physical device – device identity and/or X.509 certificate associated toohello device during device manufacturing or commissioning.</span></span>
* <span data-ttu-id="0fd00-148">Crie uma entrada de identidade correspondente no IoT Hub – dispositivo identidade e informações de dispositivo associado no Olá registro de identidade de IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="0fd00-148">Create a corresponding identity entry in IoT Hub – device identity and associated device information in hello IoT Hub identity registry.</span></span>
* <span data-ttu-id="0fd00-149">Armazene com segurança a impressão digital do certificado x.509 no Registro de identidade do Hub IoT.</span><span class="sxs-lookup"><span data-stu-id="0fd00-149">Securely store X.509 certificate thumbprint in IoT Hub identity registry.</span></span>

### <a name="root-certificate-on-device"></a><span data-ttu-id="0fd00-150">Certificado raiz no dispositivo</span><span class="sxs-lookup"><span data-stu-id="0fd00-150">Root certificate on device</span></span>
<span data-ttu-id="0fd00-151">Ao estabelecer uma conexão TLS segura com o IoT Hub, dispositivo de IoT Olá autentica IoT Hub usando um certificado raiz que é parte do dispositivo Olá SDK.</span><span class="sxs-lookup"><span data-stu-id="0fd00-151">While establishing a secure TLS connection with IoT Hub, hello IoT device authenticates IoT Hub using a root certificate which is part of hello device SDK.</span></span> <span data-ttu-id="0fd00-152">Para SDK de cliente Olá C certificado Olá está localizado na pasta Olá "\\c\\certificados" na raiz de saudação do repositório de saudação.</span><span class="sxs-lookup"><span data-stu-id="0fd00-152">For hello C client SDK hello certificate is located under hello folder "\\c\\certs" under hello root of hello repo.</span></span> <span data-ttu-id="0fd00-153">Embora esses certificados raiz são de vida longa, eles ainda podem expirar ou ser revogados.</span><span class="sxs-lookup"><span data-stu-id="0fd00-153">Though these root certificates are long-lived, they still may expire or be revoked.</span></span> <span data-ttu-id="0fd00-154">Se não houver nenhuma maneira de atualizar Olá certificado no dispositivo hello, hello dispositivo talvez não seja possível toosubsequently conectar toohello IoT Hub (ou qualquer outro serviço de nuvem).</span><span class="sxs-lookup"><span data-stu-id="0fd00-154">If there is no way of updating hello certificate on hello device, hello device may not be able toosubsequently connect toohello IoT Hub (or any other cloud service).</span></span> <span data-ttu-id="0fd00-155">Ter um certificado de raiz significa tooupdate Olá depois que o dispositivo de IoT Olá é implantado será efetivamente reduzir esse risco.</span><span class="sxs-lookup"><span data-stu-id="0fd00-155">Having a means tooupdate hello root certificate once hello IoT device is deployed will effectively mitigate this risk.</span></span>

## <a name="securing-hello-connection"></a><span data-ttu-id="0fd00-156">Protegendo a conexão Olá</span><span class="sxs-lookup"><span data-stu-id="0fd00-156">Securing hello connection</span></span>
<span data-ttu-id="0fd00-157">Conexão de Internet entre o dispositivo de IoT hello e IoT Hub é protegida usando saudação padrão de segurança de camada de transporte (TLS).</span><span class="sxs-lookup"><span data-stu-id="0fd00-157">Internet connection between hello IoT device and IoT Hub is secured using hello Transport Layer Security (TLS) standard.</span></span> <span data-ttu-id="0fd00-158">O Azure IoT dá suporte a [TLS 1.2][lnk-tls12], TLS 1.1 e TLS 1.0, nessa ordem.</span><span class="sxs-lookup"><span data-stu-id="0fd00-158">Azure IoT supports [TLS 1.2][lnk-tls12], TLS 1.1 and TLS 1.0, in this order.</span></span> <span data-ttu-id="0fd00-159">O suporte para TLS 1.0 é fornecido somente para fins de compatibilidade com versões anteriores.</span><span class="sxs-lookup"><span data-stu-id="0fd00-159">Support for TLS 1.0 is provided for backward compatibility only.</span></span> <span data-ttu-id="0fd00-160">É recomendável toouse TLS 1.2 como ele fornece hello mais segurança.</span><span class="sxs-lookup"><span data-stu-id="0fd00-160">It is recommended toouse TLS 1.2 since it provides hello most security.</span></span>

<span data-ttu-id="0fd00-161">Azure IoT Suite oferece suporte a saudação seguintes conjuntos de codificação, nessa ordem.</span><span class="sxs-lookup"><span data-stu-id="0fd00-161">Azure IoT Suite supports hello following Cipher Suites, in this order.</span></span>

| <span data-ttu-id="0fd00-162">Pacote de criptografia</span><span class="sxs-lookup"><span data-stu-id="0fd00-162">Cipher Suite</span></span> | <span data-ttu-id="0fd00-163">Comprimento</span><span class="sxs-lookup"><span data-stu-id="0fd00-163">Length</span></span> |
| --- | --- |
| <span data-ttu-id="0fd00-164">TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA384 (0xc028) ECDH secp384r1 (eq.</span><span class="sxs-lookup"><span data-stu-id="0fd00-164">TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA384 (0xc028) ECDH secp384r1 (eq.</span></span> <span data-ttu-id="0fd00-165">RSA de 7680 bits) FS</span><span class="sxs-lookup"><span data-stu-id="0fd00-165">7680 bits RSA) FS</span></span> |<span data-ttu-id="0fd00-166">256</span><span class="sxs-lookup"><span data-stu-id="0fd00-166">256</span></span> |
| <span data-ttu-id="0fd00-167">TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA256 (0xc027) ECDH secp256r1 (eq.</span><span class="sxs-lookup"><span data-stu-id="0fd00-167">TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA256 (0xc027) ECDH secp256r1 (eq.</span></span> <span data-ttu-id="0fd00-168">RSA de 3072 bits) FS</span><span class="sxs-lookup"><span data-stu-id="0fd00-168">3072 bits RSA) FS</span></span> |<span data-ttu-id="0fd00-169">128</span><span class="sxs-lookup"><span data-stu-id="0fd00-169">128</span></span> |
| <span data-ttu-id="0fd00-170">TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA (0xc014) ECDH secp384r1 (eq.</span><span class="sxs-lookup"><span data-stu-id="0fd00-170">TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA (0xc014) ECDH secp384r1 (eq.</span></span> <span data-ttu-id="0fd00-171">RSA de 7680 bits) FS</span><span class="sxs-lookup"><span data-stu-id="0fd00-171">7680 bits RSA) FS</span></span> |<span data-ttu-id="0fd00-172">256</span><span class="sxs-lookup"><span data-stu-id="0fd00-172">256</span></span> |
| <span data-ttu-id="0fd00-173">TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA (0xc013) ECDH secp256r1 (eq.</span><span class="sxs-lookup"><span data-stu-id="0fd00-173">TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA (0xc013) ECDH secp256r1 (eq.</span></span> <span data-ttu-id="0fd00-174">RSA de 3072 bits) FS</span><span class="sxs-lookup"><span data-stu-id="0fd00-174">3072 bits RSA) FS</span></span> |<span data-ttu-id="0fd00-175">128</span><span class="sxs-lookup"><span data-stu-id="0fd00-175">128</span></span> |
| <span data-ttu-id="0fd00-176">TLS\_RSA\_WITH\_AES\_256\_GCM\_SHA384 (0x9d)</span><span class="sxs-lookup"><span data-stu-id="0fd00-176">TLS\_RSA\_WITH\_AES\_256\_GCM\_SHA384 (0x9d)</span></span> |<span data-ttu-id="0fd00-177">256</span><span class="sxs-lookup"><span data-stu-id="0fd00-177">256</span></span> |
| <span data-ttu-id="0fd00-178">TLS\_RSA\_WITH\_AES\_128\_GCM\_SHA256 (0x9c)</span><span class="sxs-lookup"><span data-stu-id="0fd00-178">TLS\_RSA\_WITH\_AES\_128\_GCM\_SHA256 (0x9c)</span></span> |<span data-ttu-id="0fd00-179">128</span><span class="sxs-lookup"><span data-stu-id="0fd00-179">128</span></span> |
| <span data-ttu-id="0fd00-180">TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA256 (0x3d)</span><span class="sxs-lookup"><span data-stu-id="0fd00-180">TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA256 (0x3d)</span></span> |<span data-ttu-id="0fd00-181">256</span><span class="sxs-lookup"><span data-stu-id="0fd00-181">256</span></span> |
| <span data-ttu-id="0fd00-182">TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA256 (0x3c)</span><span class="sxs-lookup"><span data-stu-id="0fd00-182">TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA256 (0x3c)</span></span> |<span data-ttu-id="0fd00-183">128</span><span class="sxs-lookup"><span data-stu-id="0fd00-183">128</span></span> |
| <span data-ttu-id="0fd00-184">TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA (0x35)</span><span class="sxs-lookup"><span data-stu-id="0fd00-184">TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA (0x35)</span></span> |<span data-ttu-id="0fd00-185">256</span><span class="sxs-lookup"><span data-stu-id="0fd00-185">256</span></span> |
| <span data-ttu-id="0fd00-186">TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA (0x2f)</span><span class="sxs-lookup"><span data-stu-id="0fd00-186">TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA (0x2f)</span></span> |<span data-ttu-id="0fd00-187">128</span><span class="sxs-lookup"><span data-stu-id="0fd00-187">128</span></span> |
| <span data-ttu-id="0fd00-188">TLS\_RSA\_WITH\_3DES\_EDE\_CBC\_SHA (0xa)</span><span class="sxs-lookup"><span data-stu-id="0fd00-188">TLS\_RSA\_WITH\_3DES\_EDE\_CBC\_SHA (0xa)</span></span> |<span data-ttu-id="0fd00-189">112</span><span class="sxs-lookup"><span data-stu-id="0fd00-189">112</span></span> |

## <a name="securing-hello-cloud"></a><span data-ttu-id="0fd00-190">Proteção de nuvem Olá</span><span class="sxs-lookup"><span data-stu-id="0fd00-190">Securing hello cloud</span></span>
<span data-ttu-id="0fd00-191">O Hub IoT do Azure permite a definição de [políticas de controle de acesso][lnk-protocols] para cada chave de segurança.</span><span class="sxs-lookup"><span data-stu-id="0fd00-191">Azure IoT Hub allows definition of [access control policies][lnk-protocols] for each security key.</span></span> <span data-ttu-id="0fd00-192">Ele usa Olá após o conjunto de permissões toogrant acesso tooeach de pontos de extremidade de IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="0fd00-192">It uses hello following set of permissions toogrant access tooeach of IoT Hub's endpoints.</span></span> <span data-ttu-id="0fd00-193">Permissões de limitam Olá acesso tooan que hub IoT é baseado na funcionalidade.</span><span class="sxs-lookup"><span data-stu-id="0fd00-193">Permissions limit hello access tooan IoT Hub based on functionality.</span></span>

* <span data-ttu-id="0fd00-194">**RegistryRead**.</span><span class="sxs-lookup"><span data-stu-id="0fd00-194">**RegistryRead**.</span></span> <span data-ttu-id="0fd00-195">Registro de identidade de toohello do concede acesso de leitura.</span><span class="sxs-lookup"><span data-stu-id="0fd00-195">Grants read access toohello identity registry.</span></span> <span data-ttu-id="0fd00-196">Para saber mais, consulte [Registro de identidade][lnk-identity-registry].</span><span class="sxs-lookup"><span data-stu-id="0fd00-196">For more information, see [identity registry][lnk-identity-registry].</span></span>
* <span data-ttu-id="0fd00-197">**RegistryReadWrite**.</span><span class="sxs-lookup"><span data-stu-id="0fd00-197">**RegistryReadWrite**.</span></span> <span data-ttu-id="0fd00-198">Concede acesso de leitura e gravação toohello registro identidade.</span><span class="sxs-lookup"><span data-stu-id="0fd00-198">Grants read and write access toohello identity registry.</span></span> <span data-ttu-id="0fd00-199">Para saber mais, consulte [Registro de identidade][lnk-identity-registry].</span><span class="sxs-lookup"><span data-stu-id="0fd00-199">For more information, see [identity registry][lnk-identity-registry].</span></span>
* <span data-ttu-id="0fd00-200">**ServiceConnect**.</span><span class="sxs-lookup"><span data-stu-id="0fd00-200">**ServiceConnect**.</span></span> <span data-ttu-id="0fd00-201">Concede acesso toocloud serviço voltado para a comunicação e os pontos de extremidade de monitoramento.</span><span class="sxs-lookup"><span data-stu-id="0fd00-201">Grants access toocloud service-facing communication and monitoring endpoints.</span></span> <span data-ttu-id="0fd00-202">Por exemplo, ele concede mensagens de dispositivo para nuvem tooreceive do serviços de nuvem de tooback-end permissão, enviar mensagens de nuvem para dispositivo e recuperar Olá correspondente confirmações de entrega.</span><span class="sxs-lookup"><span data-stu-id="0fd00-202">For example, it grants permission tooback-end cloud services tooreceive device-to-cloud messages, send cloud-to-device messages, and retrieve hello corresponding delivery acknowledgments.</span></span>
* <span data-ttu-id="0fd00-203">**DeviceConnect**.</span><span class="sxs-lookup"><span data-stu-id="0fd00-203">**DeviceConnect**.</span></span> <span data-ttu-id="0fd00-204">Concede acesso toodevice voltados para pontos de extremidade.</span><span class="sxs-lookup"><span data-stu-id="0fd00-204">Grants access toodevice-facing endpoints.</span></span> <span data-ttu-id="0fd00-205">Por exemplo, ele concede permissão toosend mensagens de dispositivo para nuvem e receber mensagens de nuvem para dispositivo.</span><span class="sxs-lookup"><span data-stu-id="0fd00-205">For example, it grants permission toosend device-to-cloud messages and receive cloud-to-device messages.</span></span> <span data-ttu-id="0fd00-206">Essa permissão é usada por dispositivos.</span><span class="sxs-lookup"><span data-stu-id="0fd00-206">This permission is used by devices.</span></span>

<span data-ttu-id="0fd00-207">Há dois tooobtain de maneiras **DeviceConnect** permissões com o IoT Hub com [tokens de segurança][lnk-sas-tokens]: usando uma chave de identidade do dispositivo, ou uma chave de acesso compartilhado.</span><span class="sxs-lookup"><span data-stu-id="0fd00-207">There are two ways tooobtain **DeviceConnect** permissions with IoT Hub with [security tokens][lnk-sas-tokens]: using a device identity key, or a shared access key.</span></span> <span data-ttu-id="0fd00-208">Além disso, é importante toonote que toda a funcionalidade acessível a partir de dispositivos é exposta pelo design em pontos de extremidade com o prefixo `/devices/{deviceId}`.</span><span class="sxs-lookup"><span data-stu-id="0fd00-208">Moreover, it is important toonote that all functionality accessible from devices is exposed by design on endpoints with prefix `/devices/{deviceId}`.</span></span>

<span data-ttu-id="0fd00-209">[Componentes de serviço só podem gerar tokens de segurança] [ lnk-service-tokens] usando políticas de acesso concedendo permissões apropriadas hello.</span><span class="sxs-lookup"><span data-stu-id="0fd00-209">[Service components can only generate security tokens][lnk-service-tokens] using shared access policies granting hello appropriate permissions.</span></span>

<span data-ttu-id="0fd00-210">IoT Hub do Azure e outros serviços que podem ser parte da solução Olá permitem o gerenciamento de usuários usando Olá Active Directory do Azure.</span><span class="sxs-lookup"><span data-stu-id="0fd00-210">Azure IoT Hub and other services which may be part of hello solution allow management of users using hello Azure Active Directory.</span></span>

<span data-ttu-id="0fd00-211">Dados ingeridos pelo Hub IoT do Azure podem ser consumidos por diversos serviços, como Stream Analytics do Azure e armazenamento de blobs do Azure.</span><span class="sxs-lookup"><span data-stu-id="0fd00-211">Data ingested by Azure IoT Hub can be consumed by a variety of services such as Azure Stream Analytics and Azure blob storage.</span></span> <span data-ttu-id="0fd00-212">Esses serviços permitem o acesso de gerenciamento.</span><span class="sxs-lookup"><span data-stu-id="0fd00-212">These services allow management access.</span></span> <span data-ttu-id="0fd00-213">Leia mais sobre esses serviços e opções disponíveis abaixo:</span><span class="sxs-lookup"><span data-stu-id="0fd00-213">Read more about these services and available options below:</span></span>

* <span data-ttu-id="0fd00-214">[Banco de dados do Azure Cosmos][lnk-docdb]: um serviço de banco de dados escalonáveis e totalmente indexados para dados estruturados que gerencia os metadados para dispositivos Olá provisionar, como atributos, configuração e propriedades de segurança.</span><span class="sxs-lookup"><span data-stu-id="0fd00-214">[Azure Cosmos DB][lnk-docdb]: A scalable, fully-indexed database service for semi-structured data that manages metadata for hello devices you provision, such as attributes, configuration, and security properties.</span></span> <span data-ttu-id="0fd00-215">O Cosmos DB oferece processamento de alto desempenho e alta produtividade, indexação de dados independente de esquema e uma interface de consulta SQL avançada.</span><span class="sxs-lookup"><span data-stu-id="0fd00-215">Cosmos DB offers high-performance and high-throughput processing, schema-agnostic indexing of data, and a rich SQL query interface.</span></span>
* <span data-ttu-id="0fd00-216">[O Azure Stream Analytics][lnk-asa]: fluxo em tempo real de processamento na nuvem Olá que permite que você toorapidly desenvolver e implantar um baixo custo solução toouncover em tempo real resultados da análise dos dispositivos, sensores, infraestrutura e aplicativos.</span><span class="sxs-lookup"><span data-stu-id="0fd00-216">[Azure Stream Analytics][lnk-asa]: Real-time stream processing in hello cloud that enables you toorapidly develop and deploy a low-cost analytics solution toouncover real-time insights from devices, sensors, infrastructure, and applications.</span></span> <span data-ttu-id="0fd00-217">dados de saudação desse serviço totalmente gerenciado podem dimensionar tooany volume enquanto ainda atinge a resiliência, baixa latência e alta taxa de transferência.</span><span class="sxs-lookup"><span data-stu-id="0fd00-217">hello data from this fully-managed service can scale tooany volume while still achieving high throughput, low latency, and resiliency.</span></span>
* <span data-ttu-id="0fd00-218">[Serviços de aplicativo do Azure][lnk-appservices]: uma nuvem plataforma toobuild avançados aplicativos web e móveis que se conectam toodata em qualquer lugar; na nuvem hello ou local.</span><span class="sxs-lookup"><span data-stu-id="0fd00-218">[Azure App Services][lnk-appservices]: A cloud platform toobuild powerful web and mobile apps that connect toodata anywhere; in hello cloud or on-premises.</span></span> <span data-ttu-id="0fd00-219">Compile aplicativos móveis atraentes para iOS, Android e Windows.</span><span class="sxs-lookup"><span data-stu-id="0fd00-219">Build engaging mobile apps for iOS, Android, and Windows.</span></span> <span data-ttu-id="0fd00-220">Integre com o Software como um serviço (SaaS) e o enterprise aplicativos com conectividade de caixa toodozens de serviços baseados em nuvem e aplicativos corporativos.</span><span class="sxs-lookup"><span data-stu-id="0fd00-220">Integrate with your Software as a Service (SaaS) and enterprise applications with out-of-the-box connectivity toodozens of cloud-based services and enterprise applications.</span></span> <span data-ttu-id="0fd00-221">Código em seu idioma favorito e IDE (.NET, Node.js, PHP, Python ou Java) toobuild os aplicativos web e APIs mais rápido do que nunca.</span><span class="sxs-lookup"><span data-stu-id="0fd00-221">Code in your favorite language and IDE (.NET, Node.js, PHP, Python, or Java) toobuild web apps and APIs faster than ever.</span></span>
* <span data-ttu-id="0fd00-222">[Lógica de aplicativos][lnk-logicapps]: recurso de aplicativos lógicos de saudação do serviço de aplicativo do Azure ajuda a integrar seus sistemas de linha de negócios existentes do IoT solução tooyour e automatizar processos de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="0fd00-222">[Logic Apps][lnk-logicapps]: hello Logic Apps feature of Azure App Service helps integrate your IoT solution tooyour existing line-of-business systems and automate workflow processes.</span></span> <span data-ttu-id="0fd00-223">Lógica de aplicativos permite que os desenvolvedores toodesign fluxos de trabalho Iniciar a partir de um gatilho e, em seguida, executam uma série de etapas, regras e ações que usam conectores poderoso toointegrate com seus processos de negócios.</span><span class="sxs-lookup"><span data-stu-id="0fd00-223">Logic Apps enables developers toodesign workflows that start from a trigger and then execute a series of steps—rules and actions that use powerful connectors toointegrate with your business processes.</span></span> <span data-ttu-id="0fd00-224">Lógica de aplicativos oferece um ecossistema de grande tooa fora da caixa de conectividade de SaaS, baseado em nuvem e aplicativos locais.</span><span class="sxs-lookup"><span data-stu-id="0fd00-224">Logic Apps offers out-of-the-box connectivity tooa vast ecosystem of SaaS, cloud-based, and on-premises applications.</span></span>
* <span data-ttu-id="0fd00-225">[Armazenamento de BLOBs do Azure][lnk-blob]: armazenamento em nuvem confiável e econômica para dados de saudação seus dispositivos enviam toohello nuvem.</span><span class="sxs-lookup"><span data-stu-id="0fd00-225">[Azure blob storage][lnk-blob]: Reliable, economical cloud storage for hello data that your devices send toohello cloud.</span></span>

## <a name="conclusion"></a><span data-ttu-id="0fd00-226">Conclusão</span><span class="sxs-lookup"><span data-stu-id="0fd00-226">Conclusion</span></span>
<span data-ttu-id="0fd00-227">Este artigo fornece uma visão geral dos detalhes de nível de implantação para projetar e implantar uma infraestrutura de IoT usando o Azure IoT.</span><span class="sxs-lookup"><span data-stu-id="0fd00-227">This article provides overview of implementation level details for designing and deploying an IoT infrastructure using Azure IoT.</span></span> <span data-ttu-id="0fd00-228">Configurar cada toobe componente seguro é chave proteger Olá infra-estrutura IoT geral.</span><span class="sxs-lookup"><span data-stu-id="0fd00-228">Configuring each component toobe secure is key in securing hello overall IoT infrastructure.</span></span> <span data-ttu-id="0fd00-229">Opções de design Olá disponíveis no Azure IoT fornecerem algum nível de flexibilidade e a opção; No entanto, cada opção pode ter implicações de segurança.</span><span class="sxs-lookup"><span data-stu-id="0fd00-229">hello design choices available in Azure IoT provide some level of flexibility and choice; however, each choice may have security implications.</span></span> <span data-ttu-id="0fd00-230">É recomendável que cada uma dessas opções seja avaliada por meio de uma avaliação de risco e custo.</span><span class="sxs-lookup"><span data-stu-id="0fd00-230">It is recommended that each of these choices be evaluated through a risk/cost assessment.</span></span>

## <a name="see-also"></a><span data-ttu-id="0fd00-231">Consulte também</span><span class="sxs-lookup"><span data-stu-id="0fd00-231">See also</span></span>
<span data-ttu-id="0fd00-232">Você também pode explorar alguns Olá outros recursos e capacidades de soluções do IoT Suite pré-configurado hello:</span><span class="sxs-lookup"><span data-stu-id="0fd00-232">You can also explore some of hello other features and capabilities of hello IoT Suite preconfigured solutions:</span></span>

* <span data-ttu-id="0fd00-233">[Visão geral da solução pré-configurada de manutenção preditiva][lnk-predictive-overview]</span><span class="sxs-lookup"><span data-stu-id="0fd00-233">[Predictive maintenance preconfigured solution overview][lnk-predictive-overview]</span></span>
* <span data-ttu-id="0fd00-234">[Perguntas frequentes sobre o IoT Suite][lnk-faq]</span><span class="sxs-lookup"><span data-stu-id="0fd00-234">[Frequently asked questions for IoT Suite][lnk-faq]</span></span>

<span data-ttu-id="0fd00-235">Você pode ler sobre a segurança de IoT Hub no [tooIoT de acesso de controle Hub] [ lnk-devguide-security] em Olá guia do desenvolvedor de IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="0fd00-235">You can read about IoT Hub security in [Control access tooIoT Hub][lnk-devguide-security] in hello IoT Hub developer guide.</span></span>


[img-overview]: media/iot-suite-security-deployment/overview.png

[lnk-security-tokens]: ../iot-hub/iot-hub-devguide-security.md#security-token-structure
[lnk-sas-tokens]: ../iot-hub/iot-hub-devguide-security.md#use-sas-tokens-in-a-device-app
[lnk-identity-registry]: ../iot-hub/iot-hub-devguide-identity-registry.md
[lnk-protocols]: ../iot-hub/iot-hub-devguide-security.md
[lnk-custom-auth]: ../iot-hub/iot-hub-devguide-security.md#custom-device-authentication
[lnk-x509]: http://www.itu.int/rec/T-REC-X.509-201210-I/en
[lnk-tls12]: https://tools.ietf.org/html/rfc5246
[lnk-service-tokens]: ../iot-hub/iot-hub-devguide-security.md#use-security-tokens-from-service-components
[lnk-docdb]: https://azure.microsoft.com/services/documentdb/
[lnk-asa]: https://azure.microsoft.com/services/stream-analytics/
[lnk-appservices]: https://azure.microsoft.com/services/app-service/
[lnk-logicapps]: https://azure.microsoft.com/services/app-service/logic/
[lnk-blob]: https://azure.microsoft.com/services/storage/

[lnk-predictive-overview]: iot-suite-predictive-overview.md
[lnk-faq]: iot-suite-faq.md
[lnk-devguide-security]: ../iot-hub/iot-hub-devguide-security.md
