---
title: Gerenciar os controladores de dispositivo StorSimple | Microsoft Docs
description: Saiba como parar, reiniciar, desligar ou redefinir os controladores de dispositivo StorSimple.
services: storsimple
documentationcenter: 
author: alkohli
manager: carmonm
editor: 
ms.assetid: 4ee989d0-956f-4c14-951e-fd4e490ea09d
ms.service: storsimple
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 10/11/2016
ms.author: alkohli
ms.openlocfilehash: 67dbb0c4066002256efbab6061157c641527e441
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="manage-your-storsimple-device-controllers"></a><span data-ttu-id="2bcff-103">Gerenciar controladores de dispositivo StorSimple</span><span class="sxs-lookup"><span data-stu-id="2bcff-103">Manage your StorSimple device controllers</span></span>
## <a name="overview"></a><span data-ttu-id="2bcff-104">Visão geral</span><span class="sxs-lookup"><span data-stu-id="2bcff-104">Overview</span></span>
<span data-ttu-id="2bcff-105">Este tutorial descreve as diferentes operações que podem ser executadas em seus controladores de dispositivo StorSimple.</span><span class="sxs-lookup"><span data-stu-id="2bcff-105">This tutorial describes the different operations that can be performed on your StorSimple device controllers.</span></span> <span data-ttu-id="2bcff-106">Os controladores em seu dispositivo StorSimple são controladores redundantes (par) em uma configuração ativo-passivo.</span><span class="sxs-lookup"><span data-stu-id="2bcff-106">The controllers in your StorSimple device are redundant (peer) controllers in an active-passive configuration.</span></span> <span data-ttu-id="2bcff-107">Em um determinado momento, somente um controlador está ativo e está processando todas as operações de disco e rede.</span><span class="sxs-lookup"><span data-stu-id="2bcff-107">At a given time, only one controller is active and is processing all the disk and network operations.</span></span> <span data-ttu-id="2bcff-108">O outro controlador está em um modo passivo.</span><span class="sxs-lookup"><span data-stu-id="2bcff-108">The other controller is in a passive mode.</span></span> <span data-ttu-id="2bcff-109">Se o controlador ativo falhar, o controlador passivo ficará ativo automaticamente.</span><span class="sxs-lookup"><span data-stu-id="2bcff-109">If the active controller fails, the passive controller becomes active automatically.</span></span>

<span data-ttu-id="2bcff-110">Este tutorial inclui instruções passo a passo para gerenciar os controladores de dispositivo usando a:</span><span class="sxs-lookup"><span data-stu-id="2bcff-110">This tutorial includes step-by-step instructions to manage the device controllers by using the:</span></span>

* <span data-ttu-id="2bcff-111">Seção **Controladores** na página **Manutenção** no serviço StorSimple Manager</span><span class="sxs-lookup"><span data-stu-id="2bcff-111">**Controllers** section of the **Maintenance** page in the StorSimple Manager service</span></span>
* <span data-ttu-id="2bcff-112">Windows PowerShell para StorSimple.</span><span class="sxs-lookup"><span data-stu-id="2bcff-112">Windows PowerShell for StorSimple.</span></span>

<span data-ttu-id="2bcff-113">É recomendável gerenciar os controladores de dispositivo por meio do serviço StorSimple Manager.</span><span class="sxs-lookup"><span data-stu-id="2bcff-113">We recommend that you manage the device controllers via the StorSimple Manager service.</span></span> <span data-ttu-id="2bcff-114">Se só for possível executar uma ação usando o Windows PowerShell para StorSimple, o tutorial fará uma observação sobre isso.</span><span class="sxs-lookup"><span data-stu-id="2bcff-114">If an action can only be performed by using Windows PowerShell for StorSimple, the tutorial makes a note of it.</span></span>

<span data-ttu-id="2bcff-115">Depois de ler este tutorial, você poderá:</span><span class="sxs-lookup"><span data-stu-id="2bcff-115">After reading this tutorial, you will be able to:</span></span>

* <span data-ttu-id="2bcff-116">Reiniciar ou desligar um controlador de dispositivo StorSimple</span><span class="sxs-lookup"><span data-stu-id="2bcff-116">Restart or shut down a StorSimple device controller</span></span>
* <span data-ttu-id="2bcff-117">Desligar um dispositivo StorSimple</span><span class="sxs-lookup"><span data-stu-id="2bcff-117">Shut down a StorSimple device</span></span>
* <span data-ttu-id="2bcff-118">Redefinir o dispositivo StorSimple para os padrões de fábrica</span><span class="sxs-lookup"><span data-stu-id="2bcff-118">Reset your StorSimple device to factory defaults</span></span>

## <a name="restart-or-shut-down-a-single-controller"></a><span data-ttu-id="2bcff-119">Reiniciar ou desligar um único controlador</span><span class="sxs-lookup"><span data-stu-id="2bcff-119">Restart or shut down a single controller</span></span>
<span data-ttu-id="2bcff-120">Uma reinicialização ou um desligamento de controlador não é necessário como parte da operação normal do sistema.</span><span class="sxs-lookup"><span data-stu-id="2bcff-120">A controller restart or shutdown is not required as a part of normal system operation.</span></span> <span data-ttu-id="2bcff-121">As operações de desligamento para um controlador de dispositivo único são comuns apenas em casos em que um componente de hardware de dispositivo com falha requer substituição.</span><span class="sxs-lookup"><span data-stu-id="2bcff-121">Shutdown operations for a single device controller are common only in cases in which a failed device hardware component requires replacement.</span></span> <span data-ttu-id="2bcff-122">Uma reinicialização de controlador também pode ser necessária em uma situação em que o desempenho é afetado pelo uso excessivo de memória ou controlador com defeito.</span><span class="sxs-lookup"><span data-stu-id="2bcff-122">A controller restart may also be required in a situation in which performance is affected by excessive memory usage or a malfunctioning controller.</span></span> <span data-ttu-id="2bcff-123">Se você deseja ativar e testar o controlador substituído também convém reiniciar um controlador após a sua substituição com êxito.</span><span class="sxs-lookup"><span data-stu-id="2bcff-123">You may also need to restart a controller after a successful controller replacement, if you wish to enable and test the replaced controller.</span></span>

<span data-ttu-id="2bcff-124">Reiniciar um dispositivo que não é interrompido para os iniciadores conectados, supondo que o controlador passivo está disponível.</span><span class="sxs-lookup"><span data-stu-id="2bcff-124">Restarting a device is not disruptive to connected initiators, assuming the passive controller is available.</span></span> <span data-ttu-id="2bcff-125">Se um controlador passivo não está disponível ou está desligado, reiniciar o controlador ativo pode resultar na interrupção do serviço e em tempo de inatividade.</span><span class="sxs-lookup"><span data-stu-id="2bcff-125">If a passive controller is not available or turned off, then restarting the active controller may result in the disruption of service and downtime.</span></span>

> [!IMPORTANT]
> * <span data-ttu-id="2bcff-126">**Um controlador em execução nunca deve ser fisicamente removido, pois isso resultaria em uma perda de redundância e maior risco de tempo de inatividade.**</span><span class="sxs-lookup"><span data-stu-id="2bcff-126">**A running controller should never be physically removed as this would result in a loss of redundancy and an increased risk of downtime.**</span></span>
> * <span data-ttu-id="2bcff-127">O procedimento a seguir aplica-se somente ao dispositivo físico StorSimple.</span><span class="sxs-lookup"><span data-stu-id="2bcff-127">The following procedure applies only to the StorSimple physical device.</span></span> <span data-ttu-id="2bcff-128">Para saber mais sobre como iniciar, parar e reiniciar o dispositivo virtual, confira [Trabalhar com o dispositivo virtual](storsimple-virtual-device-u2.md#work-with-the-storsimple-virtual-device).</span><span class="sxs-lookup"><span data-stu-id="2bcff-128">For information about how to start, stop, and restart the virtual device, see [Work with the virtual device](storsimple-virtual-device-u2.md#work-with-the-storsimple-virtual-device).</span></span>
> 
> 

<span data-ttu-id="2bcff-129">Você pode reiniciar ou desligar um controlador de dispositivo único usando o portal clássico do Azure do serviço StorSimple Manager ou do Windows PowerShell para StorSimple</span><span class="sxs-lookup"><span data-stu-id="2bcff-129">You can restart or shut down a single device controller by using the Azure classic portal of the StorSimple Manager service or Windows PowerShell for StorSimple</span></span>

<span data-ttu-id="2bcff-130">Para gerenciar os controladores de dispositivo no Portal Clássico do Azure, execute as seguintes etapas.</span><span class="sxs-lookup"><span data-stu-id="2bcff-130">To manage your device controllers from the Azure classic portal, perform the following steps.</span></span>

#### <a name="to-restart-or-shut-down-a-controller-in-classic-portal"></a><span data-ttu-id="2bcff-131">Para reiniciar ou desligar um controlador no portal clássico</span><span class="sxs-lookup"><span data-stu-id="2bcff-131">To restart or shut down a controller in classic portal</span></span>
1. <span data-ttu-id="2bcff-132">Navegue até **Dispositivos > Manutenção**.</span><span class="sxs-lookup"><span data-stu-id="2bcff-132">Navigate to **Devices > Maintenance**.</span></span>
2. <span data-ttu-id="2bcff-133">Vá para **Status de Hardware** e verifique se o status de ambos os controladores em seu dispositivo está **Íntegro**.</span><span class="sxs-lookup"><span data-stu-id="2bcff-133">Go to **Hardware Status** and verify that the status of both the controllers on your device is **Healthy**.</span></span>
   
    ![Verificar a integridade dos controladores do dispositivo StorSimple](./media/storsimple-manage-device-controller/IC766017.png)
3. <span data-ttu-id="2bcff-135">Na parte inferior da página **Manutenção**, clique em **Gerenciar Controladores**.</span><span class="sxs-lookup"><span data-stu-id="2bcff-135">From the bottom of the **Maintenance** page, click **Manage Controllers**.</span></span>
   
    ![Gerenciar controladores de dispositivo StorSimple](./media/storsimple-manage-device-controller/IC766018.png)</br>
   
   > [!NOTE]
   > <span data-ttu-id="2bcff-137">Se você não conseguir ver **Gerenciar Controladores**, é preciso instalar atualizações.</span><span class="sxs-lookup"><span data-stu-id="2bcff-137">If you cannot see **Manage Controllers**, then you need to install updates.</span></span> <span data-ttu-id="2bcff-138">Para obter mais informações, consulte [Atualizar seu dispositivo StorSimple](storsimple-update-device.md).</span><span class="sxs-lookup"><span data-stu-id="2bcff-138">For more information, see [Update your StorSimple device](storsimple-update-device.md).</span></span>
   > 
   > 
4. <span data-ttu-id="2bcff-139">Na caixa de diálogo **Alterar as Configurações do Controlador** , faça o seguinte:</span><span class="sxs-lookup"><span data-stu-id="2bcff-139">In the **Change Controller Settings** dialog box, do the following:</span></span>
   
   1. <span data-ttu-id="2bcff-140">Na lista suspensa **Selecionar Controlador** , selecione o controlador que deseja gerenciar.</span><span class="sxs-lookup"><span data-stu-id="2bcff-140">From the **Select Controller** drop-down list, select the controller that you want to manage.</span></span> <span data-ttu-id="2bcff-141">As opções são Controlador 0 e Controlador 1.</span><span class="sxs-lookup"><span data-stu-id="2bcff-141">The options are Controller 0 and Controller 1.</span></span> <span data-ttu-id="2bcff-142">Esses controladores também são identificados como ativo ou passivo.</span><span class="sxs-lookup"><span data-stu-id="2bcff-142">These controllers are also identified as active or passive.</span></span>
      
      > [!NOTE]
      > <span data-ttu-id="2bcff-143">Um controlador não pode ser gerenciado se estiver indisponível ou desligado e não aparecerá na lista suspensa.</span><span class="sxs-lookup"><span data-stu-id="2bcff-143">A controller cannot be managed if it is unavailable or turned off, and it will not appear in the drop-down list.</span></span>
      > 
      > 
   2. <span data-ttu-id="2bcff-144">Na lista suspensa **Selecionar Ação**, escolha **Reiniciar controlador** ou **Desligar controlador**.</span><span class="sxs-lookup"><span data-stu-id="2bcff-144">From the **Select Action** drop-down list, choose **Restart controller** or **Shut down controller**.</span></span>
      
       ![Reiniciar o controlador passivo do dispositivo StorSimple](./media/storsimple-manage-device-controller/IC766020.png)
   3. <span data-ttu-id="2bcff-146">Clique no ícone de verificação </span><span class="sxs-lookup"><span data-stu-id="2bcff-146">Click the check icon</span></span> ![Ícone de verificação](./media/storsimple-manage-device-controller/IC740895.png)<span data-ttu-id="2bcff-148">.</span><span class="sxs-lookup"><span data-stu-id="2bcff-148">.</span></span>

<span data-ttu-id="2bcff-149">Isso irá reiniciar ou desligar o controlador.</span><span class="sxs-lookup"><span data-stu-id="2bcff-149">This will restart or shut down the controller.</span></span> <span data-ttu-id="2bcff-150">A tabela a seguir resume os detalhes do que acontece dependendo das seleções feitas na caixa de diálogo **Alterar Configurações do Controlador** .</span><span class="sxs-lookup"><span data-stu-id="2bcff-150">The table below summarizes the details of what happens depending on the selections you have made in the **Change Controller Settings** dialog box.</span></span>  

| <span data-ttu-id="2bcff-151">Seleção #</span><span class="sxs-lookup"><span data-stu-id="2bcff-151">Selection #</span></span> | <span data-ttu-id="2bcff-152">Se você optar por...</span><span class="sxs-lookup"><span data-stu-id="2bcff-152">If you choose to...</span></span> | <span data-ttu-id="2bcff-153">Acontecerá isso.</span><span class="sxs-lookup"><span data-stu-id="2bcff-153">This will happen.</span></span> |
| --- | --- | --- |
| <span data-ttu-id="2bcff-154">1.</span><span class="sxs-lookup"><span data-stu-id="2bcff-154">1.</span></span> |<span data-ttu-id="2bcff-155">Reinicie o controlador passivo.</span><span class="sxs-lookup"><span data-stu-id="2bcff-155">Restart the passive controller.</span></span> |<span data-ttu-id="2bcff-156">Um trabalho será criado para reiniciar o controlador e você será notificado depois que o trabalho tiver sido criado com êxito.</span><span class="sxs-lookup"><span data-stu-id="2bcff-156">A job will be created to restart the controller, and you will be notified after the job is successfully created.</span></span> <span data-ttu-id="2bcff-157">Isso iniciará a reinicialização do controlador.</span><span class="sxs-lookup"><span data-stu-id="2bcff-157">This will initiate the controller restart.</span></span> <span data-ttu-id="2bcff-158">Você pode monitorar o processo de reinicialização acessando **Serviço > Painel de controle > Exibir logs de operação** e filtrando por parâmetros específicos do seu serviço.</span><span class="sxs-lookup"><span data-stu-id="2bcff-158">You can monitor the restart process by accessing **Service > Dashboard > View operation logs** and then filtering by parameters specific to your service.</span></span> |
| <span data-ttu-id="2bcff-159">2.</span><span class="sxs-lookup"><span data-stu-id="2bcff-159">2.</span></span> |<span data-ttu-id="2bcff-160">Reinicie o controlador ativo.</span><span class="sxs-lookup"><span data-stu-id="2bcff-160">Restart the active controller.</span></span> |<span data-ttu-id="2bcff-161">Você verá o seguinte aviso: "Se você reiniciar o controlador ativo, o dispositivo realizará failover para o controlador passivo.</span><span class="sxs-lookup"><span data-stu-id="2bcff-161">You will see the following warning: "If you restart the active controller, the device will fail over to the passive controller.</span></span> <span data-ttu-id="2bcff-162">Deseja continuar?"</span><span class="sxs-lookup"><span data-stu-id="2bcff-162">Do you want to continue?"</span></span> </br><span data-ttu-id="2bcff-163">Se você optar por continuar com essa operação, as etapas seguintes serão idênticas àquelas usadas para reiniciar o controlador passivo (confira a seleção 1).</span><span class="sxs-lookup"><span data-stu-id="2bcff-163">If you choose to proceed with this operation, the next steps will be identical to those used to restart the passive controller (see selection 1).</span></span> |
| <span data-ttu-id="2bcff-164">3.</span><span class="sxs-lookup"><span data-stu-id="2bcff-164">3.</span></span> |<span data-ttu-id="2bcff-165">Desligue o controlador passivo.</span><span class="sxs-lookup"><span data-stu-id="2bcff-165">Shut down the passive controller.</span></span> |<span data-ttu-id="2bcff-166">Você verá a seguinte mensagem: "Após a conclusão do desligamento, será necessário pressionar o botão de energia em seu controlador para ativá-lo.</span><span class="sxs-lookup"><span data-stu-id="2bcff-166">You will see the following message: "After shutdown is complete, you will need to push the power button on your controller to turn it on.</span></span> <span data-ttu-id="2bcff-167">Tem certeza de que deseja desligar este controlador?"</span><span class="sxs-lookup"><span data-stu-id="2bcff-167">Are you sure you want to shut down this controller?"</span></span> </br><span data-ttu-id="2bcff-168">Se você optar por continuar com essa operação, as etapas seguintes serão idênticas àquelas usadas para reiniciar o controlador passivo (confira a seleção 1).</span><span class="sxs-lookup"><span data-stu-id="2bcff-168">If you choose to proceed with this operation, the next steps will be identical to those used to restart the passive controller (see selection 1).</span></span> |
| <span data-ttu-id="2bcff-169">4.</span><span class="sxs-lookup"><span data-stu-id="2bcff-169">4.</span></span> |<span data-ttu-id="2bcff-170">Desligue o controlador ativo.</span><span class="sxs-lookup"><span data-stu-id="2bcff-170">Shut down the active controller.</span></span> |<span data-ttu-id="2bcff-171">Você verá a seguinte mensagem: "Após a conclusão do desligamento, será necessário pressionar o botão de energia em seu controlador para ativá-lo.</span><span class="sxs-lookup"><span data-stu-id="2bcff-171">You will see the following message: "After shutdown is complete, you will need to push the power button on your controller to turn it on.</span></span> <span data-ttu-id="2bcff-172">Tem certeza de que deseja desligar este controlador?"</span><span class="sxs-lookup"><span data-stu-id="2bcff-172">Are you sure you want to shut down this controller?"</span></span> </br><span data-ttu-id="2bcff-173">Se você optar por continuar com essa operação, as etapas seguintes serão idênticas àquelas usadas para reiniciar o controlador passivo (confira a seleção 1).</span><span class="sxs-lookup"><span data-stu-id="2bcff-173">If you choose to proceed with this operation, the next steps will be identical to those used to restart the passive controller (see selection 1).</span></span> |

#### <a name="to-restart-or-shut-down-a-controller-in-windows-powershell-for-storsimple"></a><span data-ttu-id="2bcff-174">Para reiniciar ou desligar um controlador no Windows PowerShell para StorSimple</span><span class="sxs-lookup"><span data-stu-id="2bcff-174">To restart or shut down a controller in Windows PowerShell for StorSimple</span></span>
<span data-ttu-id="2bcff-175">Execute as seguintes etapas para desligar ou reiniciar um único controlador no seu dispositivo StorSimple a partir do Portal Clássico do Azure.</span><span class="sxs-lookup"><span data-stu-id="2bcff-175">Perform the following steps to shut down or restart a single controller on your StorSimple device from the Azure classic portal.</span></span>

1. <span data-ttu-id="2bcff-176">Acesse o dispositivo por meio do console serial ou uma sessão de telnet de um computador remoto.</span><span class="sxs-lookup"><span data-stu-id="2bcff-176">Access the device by using the serial console or a telnet session from a remote computer.</span></span> <span data-ttu-id="2bcff-177">Conecte-se ao Controlador 0 ou Controlador 1 seguindo as etapas em [Usar PuTTY para se conectar ao console serial do dispositivo](storsimple-deployment-walkthrough.md#use-putty-to-connect-to-the-device-serial-console).</span><span class="sxs-lookup"><span data-stu-id="2bcff-177">Connect to Controller 0 or Controller 1 by following the steps in [Use PuTTY to connect to the device serial console](storsimple-deployment-walkthrough.md#use-putty-to-connect-to-the-device-serial-console).</span></span>
2. <span data-ttu-id="2bcff-178">No menu do console serial, escolha a opção 1, **Efetuar login com acesso total**.</span><span class="sxs-lookup"><span data-stu-id="2bcff-178">In the serial console menu, choose option 1, **Log in with full access**.</span></span>
3. <span data-ttu-id="2bcff-179">Na mensagem da faixa, anote o controlador ao qual você está conectado (Controlador 0 ou Controlador 1) e se ele é o controlador passivo (em espera) ou ativo.</span><span class="sxs-lookup"><span data-stu-id="2bcff-179">In the banner message, make a note of the controller you are connected to (Controller 0 or Controller 1) and whether it is the active or the passive (standby) controller.</span></span>
   
   * <span data-ttu-id="2bcff-180">Para desligar um único controlador no prompt, digite:</span><span class="sxs-lookup"><span data-stu-id="2bcff-180">To shut down a single controller, at the prompt, type:</span></span>
     
       `Stop-HcsController`
     
       <span data-ttu-id="2bcff-181">Esse procedimento desligará o controlador ao qual você está conectado.</span><span class="sxs-lookup"><span data-stu-id="2bcff-181">This will shut down the controller that you are connected to.</span></span> <span data-ttu-id="2bcff-182">Se você parar o controlador ativo, em seguida, ele realizará failover para o controlador passivo antes de desligar.</span><span class="sxs-lookup"><span data-stu-id="2bcff-182">If you stop the active controller, then it will fail over to the passive controller before it shuts down.</span></span>
   * <span data-ttu-id="2bcff-183">Para reiniciar um controlador, no prompt, digite:</span><span class="sxs-lookup"><span data-stu-id="2bcff-183">To restart a controller, at the prompt, type:</span></span>
     
       `Restart-HcsController`
     
       <span data-ttu-id="2bcff-184">Isso reiniciará o controlador ao qual você está conectado.</span><span class="sxs-lookup"><span data-stu-id="2bcff-184">This will restart the controller that you are connected to.</span></span> <span data-ttu-id="2bcff-185">Se você reiniciar o controlador ativo, ele realizará failover para o controlador passivo antes da reinicialização.</span><span class="sxs-lookup"><span data-stu-id="2bcff-185">If you restart the active controller, it will fail over to the passive controller before the restart.</span></span>

## <a name="shut-down-a-storsimple-device"></a><span data-ttu-id="2bcff-186">Desligar um dispositivo StorSimple</span><span class="sxs-lookup"><span data-stu-id="2bcff-186">Shut down a StorSimple device</span></span>
<span data-ttu-id="2bcff-187">Esta seção explica como desligar um dispositivo StorSimple com falha ou em execução a partir de um computador remoto.</span><span class="sxs-lookup"><span data-stu-id="2bcff-187">This section explains how to shut down a running or a failed StorSimple device from a remote computer.</span></span> <span data-ttu-id="2bcff-188">Um dispositivo é desativado após desligar ambos os controladores do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="2bcff-188">A device is turned off after shutting down both the device controllers.</span></span> <span data-ttu-id="2bcff-189">Um desligamento de dispositivo é feito quando o dispositivo está sendo movido fisicamente ou se for retirado de serviço.</span><span class="sxs-lookup"><span data-stu-id="2bcff-189">A device shutdown is done when the device is being physically moved, or is taken out of service.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="2bcff-190">Antes de desligar o dispositivo, verifique a integridade dos componentes do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="2bcff-190">Before you shut down the device, check the health of the device components.</span></span> <span data-ttu-id="2bcff-191">Navegue até **Dispositivos > Manutenção > Status de Hardware** e verifique se o LED de status de todos os componentes está verde.</span><span class="sxs-lookup"><span data-stu-id="2bcff-191">Navigate to **Devices > Maintenance > Hardware Status** and verify that the LED status of all the components is green.</span></span> <span data-ttu-id="2bcff-192">Somente um dispositivo íntegro terá um status em verde.</span><span class="sxs-lookup"><span data-stu-id="2bcff-192">Only a healthy device will have a green status.</span></span> <span data-ttu-id="2bcff-193">Se o dispositivo está sendo desligado para substituir um componente com funcionamento incorreto, você verá um status de falha (vermelho) ou degradado (amarelo) para os respectivos componentes.</span><span class="sxs-lookup"><span data-stu-id="2bcff-193">If your device is being shut down to replace a malfunctioning component, you will see a failed (red) or a degraded (yellow) status for the respective component(s).</span></span>
> 
> 

#### <a name="to-shut-down-a-storsimple-device"></a><span data-ttu-id="2bcff-194">Para desligar um dispositivo StorSimple</span><span class="sxs-lookup"><span data-stu-id="2bcff-194">To shut down a StorSimple device</span></span>
1. <span data-ttu-id="2bcff-195">Use o procedimento de [reiniciar ou desligar um controlador](#restart-or-shut-down-a-single-controller) para identificar e desligar o controlador passivo em seu dispositivo.</span><span class="sxs-lookup"><span data-stu-id="2bcff-195">Use the [restart or shut down a controller](#restart-or-shut-down-a-single-controller) procedure to identify and shut down the passive controller on your device.</span></span> <span data-ttu-id="2bcff-196">Você pode executar essa operação no portal de clássico do Azure ou no Windows PowerShell para StorSimple.</span><span class="sxs-lookup"><span data-stu-id="2bcff-196">You can perform this operation in the Azure classic portal or in Windows PowerShell for StorSimple.</span></span>
2. <span data-ttu-id="2bcff-197">Repita a etapa acima para desligar o controlador ativo.</span><span class="sxs-lookup"><span data-stu-id="2bcff-197">Repeat the above step to shut down the active controller.</span></span>
3. <span data-ttu-id="2bcff-198">Agora, você precisará examinar o plano de apoio do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="2bcff-198">You will now need to look at the back plane of the device.</span></span> <span data-ttu-id="2bcff-199">Depois que os dois controladores são completamente desligados, os LEDs de status em ambos os controladores devem estar piscando em vermelho.</span><span class="sxs-lookup"><span data-stu-id="2bcff-199">After the two controllers are completely shut down, the status LEDs on both the controllers should be blinking red.</span></span> <span data-ttu-id="2bcff-200">Se você precisar desativar o dispositivo completamente neste momento, coloque os interruptores de energia nos Módulos de energia e resfriamento (PCMs) na posição OFF.</span><span class="sxs-lookup"><span data-stu-id="2bcff-200">If you need to turn off the device completely at this time, flip the power switches on both Power and Cooling Modules (PCMs) to the OFF position.</span></span> <span data-ttu-id="2bcff-201">Isso deve desativar o dispositivo.</span><span class="sxs-lookup"><span data-stu-id="2bcff-201">This should turn off the device.</span></span>

<!--#### To shut down a StorSimple device in Windows PowerShell for StorSimple

1. Connect to the serial console of the StorSimple device by following the steps in [Use PuTTY to connect to the device serial console](storsimple-deployment-walkthrough.md#use-putty-to-connect-to-the-serial-console).

1. In the serial console menu, verify from the banner message that the controller you are connected to is the passive controller. If you are connected to the active controller, disconnect from this controller and connect to the other controller.

1. In the serial console menu, choose option 1, **log in with full access**.

1. At the prompt, type:

    `Stop-HCSController`

    This should shut down the current controller. To verify whether the shutdown has finished, check the back of the device. The controller status LED should be solid red.

1. Repeat steps 1 through 4 to connect to the active controller and then shut it down.

1. After both the controllers are completely shut down, the status LEDs on both should be blinking red. If you need to turn off the device completely at this time, flip the power switches on both Power and Cooling Modules (PCMs) to the OFF position.-->

## <a name="reset-the-device-to-factory-default-settings"></a><span data-ttu-id="2bcff-202">Redefinir o dispositivo para as configurações padrões de fábrica</span><span class="sxs-lookup"><span data-stu-id="2bcff-202">Reset the device to factory default settings</span></span>
> [!IMPORTANT]
> <span data-ttu-id="2bcff-203">Se você precisar redefinir o dispositivo para as configurações padrão de fábrica, entre em contato com o Suporte da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="2bcff-203">If you need to reset your device to factory default settings, contact Microsoft Support.</span></span> <span data-ttu-id="2bcff-204">O procedimento descrito a seguir deve ser usado apenas em conjunto com o Suporte da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="2bcff-204">The procedure described below should be used only in conjunction with Microsoft Support.</span></span>
> 
> 

<span data-ttu-id="2bcff-205">Este procedimento descreve como redefinir o dispositivo Microsoft Azure StorSimple para as configurações padrão de fábrica usando o Windows PowerShell para StorSimple.</span><span class="sxs-lookup"><span data-stu-id="2bcff-205">This procedure describes how to reset your Microsoft Azure StorSimple device to factory default settings using Windows PowerShell for StorSimple.</span></span>
<span data-ttu-id="2bcff-206">A redefinição de um dispositivo remove todos os dados e todas as configurações do cluster inteiro por padrão.</span><span class="sxs-lookup"><span data-stu-id="2bcff-206">Resetting a device removes all data and settings from the entire cluster by default.</span></span>

<span data-ttu-id="2bcff-207">Execute as etapas a seguir para redefinir o dispositivo Microsoft Azure StorSimple para as configurações padrões de fábrica:</span><span class="sxs-lookup"><span data-stu-id="2bcff-207">Perform the following steps to reset your Microsoft Azure StorSimple device to factory default settings:</span></span>

### <a name="to-reset-the-device-to-default-settings-in-windows-powershell-for-storsimple"></a><span data-ttu-id="2bcff-208">Para redefinir o dispositivo para as configurações padrões do Windows PowerShell para StorSimple</span><span class="sxs-lookup"><span data-stu-id="2bcff-208">To reset the device to default settings in Windows PowerShell for StorSimple</span></span>
1. <span data-ttu-id="2bcff-209">Acesse o dispositivo por meio do seu console serial.</span><span class="sxs-lookup"><span data-stu-id="2bcff-209">Access the device through its serial console.</span></span> <span data-ttu-id="2bcff-210">Verifique a mensagem do cabeçalho para garantir que você está conectado ao controlador Ativo.</span><span class="sxs-lookup"><span data-stu-id="2bcff-210">Check the banner message to ensure that you are connected to the Active controller.</span></span>
2. <span data-ttu-id="2bcff-211">No menu do console serial, escolha a opção 1, **Efetuar login com acesso total**.</span><span class="sxs-lookup"><span data-stu-id="2bcff-211">In the serial console menu, choose option 1, **Log in with full access**.</span></span>
3. <span data-ttu-id="2bcff-212">No prompt, digite o seguinte comando para redefinir todo o cluster, removendo todas as configurações de dados, metadados e controlador:</span><span class="sxs-lookup"><span data-stu-id="2bcff-212">At the prompt, type the following command to reset the entire cluster, removing all data, metadata, and controller settings:</span></span>
   
    `Reset-HcsFactoryDefault`
   
    <span data-ttu-id="2bcff-213">Em vez disso, para redefinir um único controlador, use o cmdlet [Reset-HcsFactoryDefault](http://technet.microsoft.com/library/dn688132.aspx) com o parâmetro `-scope`.)</span><span class="sxs-lookup"><span data-stu-id="2bcff-213">To instead reset a single controller, use the  [Reset-HcsFactoryDefault](http://technet.microsoft.com/library/dn688132.aspx) cmdlet with the `-scope` parameter.)</span></span>
   
    <span data-ttu-id="2bcff-214">O sistema será reiniciado várias vezes.</span><span class="sxs-lookup"><span data-stu-id="2bcff-214">The system will reboot multiple times.</span></span> <span data-ttu-id="2bcff-215">Você será notificado quando a reinicialização for concluída com êxito.</span><span class="sxs-lookup"><span data-stu-id="2bcff-215">You will be notified when the reset has successfully completed.</span></span> <span data-ttu-id="2bcff-216">Dependendo do modelo do sistema, podem ser necessários de 45 a 60 minutos para um dispositivo 8100 e de 60 a 90 minutos para um 8600 concluir esse processo.</span><span class="sxs-lookup"><span data-stu-id="2bcff-216">Depending on the system model, it can take 45-60 minutes for an 8100 device and 60-90 minutes for an 8600 to finish this process.</span></span>
   
   > [!TIP]
   > * <span data-ttu-id="2bcff-217">Se você estiver usando a Atualização 1.2 ou anterior, use o parâmetro `–SkipFirmwareVersionCheck` para ignorar a verificação de versão de firmware (caso contrário, você verá um erro de incompatibilidade de firmware: A restauração de fábrica não pode continuar devido a uma incompatibilidade nas versões do firmware.</span><span class="sxs-lookup"><span data-stu-id="2bcff-217">If you're using Update 1.2 or earlier use the `–SkipFirmwareVersionCheck` parameter to skip the firmware version check (otherwise you'll see a firmware mismatch error: Factory reset cannot continue due to a mismatch in the firmware versions.</span></span> <span data-ttu-id="2bcff-218">).</span><span class="sxs-lookup"><span data-stu-id="2bcff-218">).</span></span>
   > * <span data-ttu-id="2bcff-219">O procedimento de redefinição de fábrica pode falhar para dispositivos StorSimple que executam a Atualização 1 ou 1.1 no Portal do Governo e que executaram uma substituição de controlador único ou duplo com êxito (com os controladores de substituição que foram enviados com software anterior à Atualização 1).</span><span class="sxs-lookup"><span data-stu-id="2bcff-219">The factory reset procedure may fail for StorSimple devices that are running Update 1 or 1.1 in the Government portal and have performed a successful single or dual controller replacement (with replacement controllers that were shipped with pre-Update 1 software).</span></span> <span data-ttu-id="2bcff-220">Isso acontece quando a imagem de redefinição de fábrica é validada para verificar a presença de um arquivo SHA1 no controlador, o qual não existe para um software anterior à Atualização 1.</span><span class="sxs-lookup"><span data-stu-id="2bcff-220">This happens when the factory reset image is validated for the presence of a SHA1 file on the controller that does not exist for pre-Update 1 software.</span></span> <span data-ttu-id="2bcff-221">Se você encontrar esta falha de redefinição dos parâmetros originais, entre em contato com o Suporte da Microsoft para que ele possa auxiliar nas próximas etapas.</span><span class="sxs-lookup"><span data-stu-id="2bcff-221">If you see this factory reset failure, contact Microsoft Support to assist you with the next steps.</span></span> <span data-ttu-id="2bcff-222">Esse problema não é encontrado em controladores de substituição que foram enviados de fábrica com o software de Atualização 1 ou mais recente.</span><span class="sxs-lookup"><span data-stu-id="2bcff-222">This issue is not seen with replacement controllers that were shipped from the factory with Update 1 or later software.</span></span>
   > 
   > 

## <a name="questions-and-answers-about-managing-device-controllers"></a><span data-ttu-id="2bcff-223">Perguntas e respostas sobre como gerenciar controladores de dispositivo</span><span class="sxs-lookup"><span data-stu-id="2bcff-223">Questions and answers about managing device controllers</span></span>
<span data-ttu-id="2bcff-224">Nesta seção, resumimos algumas das perguntas frequentes sobre o gerenciamento de controladores de dispositivo StorSimple.</span><span class="sxs-lookup"><span data-stu-id="2bcff-224">In this section, we have summarized some of the frequently asked questions regarding managing StorSimple device controllers.</span></span>

<span data-ttu-id="2bcff-225">**P.**</span><span class="sxs-lookup"><span data-stu-id="2bcff-225">**Q.**</span></span> <span data-ttu-id="2bcff-226">O que acontece se ambos os controladores em meu dispositivo estão íntegros e ativados e eu reiniciar ou desligar o controlador ativo?</span><span class="sxs-lookup"><span data-stu-id="2bcff-226">What happens if both the controllers on my device are healthy and turned on and I restart or shut down the active controller?</span></span>

<span data-ttu-id="2bcff-227">**A.**</span><span class="sxs-lookup"><span data-stu-id="2bcff-227">**A.**</span></span> <span data-ttu-id="2bcff-228">Se ambos os controladores em seu dispositivo estão íntegros e ativados, será solicitada a sua confirmação.</span><span class="sxs-lookup"><span data-stu-id="2bcff-228">If both the controllers on your device are healthy and turned on, you will be prompted for confirmation.</span></span> <span data-ttu-id="2bcff-229">Você pode optar por:</span><span class="sxs-lookup"><span data-stu-id="2bcff-229">You may choose to:</span></span>

* <span data-ttu-id="2bcff-230">**Reiniciar o controlador ativo** – você será notificado de que reiniciar um controlador ativo fará com que o dispositivo faça failover para o controlador passivo.</span><span class="sxs-lookup"><span data-stu-id="2bcff-230">**Restart the active controller** – You will be notified that restarting an active controller will cause the device to fail over to the passive controller.</span></span> <span data-ttu-id="2bcff-231">O controlador será reiniciado.</span><span class="sxs-lookup"><span data-stu-id="2bcff-231">The controller will restart.</span></span>
* <span data-ttu-id="2bcff-232">**Desligar um controlador ativo** – você será notificado de que desligar um controlador ativo resultará em tempo de inatividade.</span><span class="sxs-lookup"><span data-stu-id="2bcff-232">**Shut down an active controller** – You will be notified that shutting down an active controller will result in downtime.</span></span> <span data-ttu-id="2bcff-233">Você também precisará pressionar o botão de energia no dispositivo para ativar o controlador.</span><span class="sxs-lookup"><span data-stu-id="2bcff-233">You will also need to push the power button on the device to turn on the controller.</span></span>

<span data-ttu-id="2bcff-234">**P.**</span><span class="sxs-lookup"><span data-stu-id="2bcff-234">**Q.**</span></span> <span data-ttu-id="2bcff-235">O que acontece se o controlador passivo em meu dispositivo estiver indisponível ou desligado e eu reiniciar ou desligar o controlador ativo?</span><span class="sxs-lookup"><span data-stu-id="2bcff-235">What happens if the passive controller on my device is unavailable or turned off and I restart or shut down the active controller?</span></span>

<span data-ttu-id="2bcff-236">**A.**</span><span class="sxs-lookup"><span data-stu-id="2bcff-236">**A.**</span></span> <span data-ttu-id="2bcff-237">Se o controlador passivo em seu dispositivo estiver indisponível ou desligado e você optar por:</span><span class="sxs-lookup"><span data-stu-id="2bcff-237">If the passive controller on your device is unavailable or turned off, and you choose to:</span></span>

* <span data-ttu-id="2bcff-238">**Reiniciar o controlador ativo** – você será notificado de que continuar a operação resultará em uma interrupção temporária do serviço e será solicitada a sua confirmação.</span><span class="sxs-lookup"><span data-stu-id="2bcff-238">**Restart the active controller** – You will be notified that continuing the operation will result in a temporary disruption of the service, and you will be prompted for confirmation.</span></span>
* <span data-ttu-id="2bcff-239">**Desligar um controlador ativo** – você será notificado de que continuar a operação resultará em tempo de inatividade e que você precisa pressionar o botão de energia em um ou ambos os controladores para ligar o dispositivo.</span><span class="sxs-lookup"><span data-stu-id="2bcff-239">**Shut down an active controller** – You will be notified that continuing the operation will result in downtime, and that you will need to push the power button on one or both controllers to turn on the device.</span></span> <span data-ttu-id="2bcff-240">Será solicitada a sua confirmação.</span><span class="sxs-lookup"><span data-stu-id="2bcff-240">You will be prompted for confirmation.</span></span>

<span data-ttu-id="2bcff-241">**P.**</span><span class="sxs-lookup"><span data-stu-id="2bcff-241">**Q.**</span></span> <span data-ttu-id="2bcff-242">Quando o desligamento ou reinicialização do controlador falha durante a execução?</span><span class="sxs-lookup"><span data-stu-id="2bcff-242">When does the controller restart or shutdown fails to progress?</span></span>

<span data-ttu-id="2bcff-243">**A.**</span><span class="sxs-lookup"><span data-stu-id="2bcff-243">**A.**</span></span> <span data-ttu-id="2bcff-244">Reiniciar ou desligar um controlador pode falhar se:</span><span class="sxs-lookup"><span data-stu-id="2bcff-244">Restarting or shutting down a controller may fail if:</span></span>

* <span data-ttu-id="2bcff-245">Uma atualização do dispositivo está em andamento.</span><span class="sxs-lookup"><span data-stu-id="2bcff-245">A device update is in progress.</span></span>
* <span data-ttu-id="2bcff-246">Uma reinicialização de controlador já está em andamento.</span><span class="sxs-lookup"><span data-stu-id="2bcff-246">A controller restart is already in progress.</span></span>
* <span data-ttu-id="2bcff-247">Um desligamento do controlador já está em andamento.</span><span class="sxs-lookup"><span data-stu-id="2bcff-247">A controller shutdown is already in progress.</span></span>

<span data-ttu-id="2bcff-248">**P.**</span><span class="sxs-lookup"><span data-stu-id="2bcff-248">**Q.**</span></span> <span data-ttu-id="2bcff-249">Como saber se um controlador foi reiniciado ou desligado?</span><span class="sxs-lookup"><span data-stu-id="2bcff-249">How can you figure out if a controller was restarted or shut down?</span></span>

<span data-ttu-id="2bcff-250">**A.**</span><span class="sxs-lookup"><span data-stu-id="2bcff-250">**A.**</span></span> <span data-ttu-id="2bcff-251">Você pode verificar o status do controlador na página de Manutenção.</span><span class="sxs-lookup"><span data-stu-id="2bcff-251">You can check the controller status on the Maintenance page.</span></span> <span data-ttu-id="2bcff-252">O status do controlador indicará se um controlador foi reiniciado ou desligado.</span><span class="sxs-lookup"><span data-stu-id="2bcff-252">The controller status will indicate whether a controller has been restarted or shut down.</span></span> <span data-ttu-id="2bcff-253">Além disso, a página Alertas terá um alerta informativo, avisando se o controlador foi reiniciado ou desligado.</span><span class="sxs-lookup"><span data-stu-id="2bcff-253">Additionally, the Alerts page will contain an informational alert if the controller was restarted or shut down.</span></span> <span data-ttu-id="2bcff-254">As operações de reinicialização e desligamento do controlador também são registradas nos logs de operação.</span><span class="sxs-lookup"><span data-stu-id="2bcff-254">The controller restart and shutdown operations are also recorded in the operation logs.</span></span> <span data-ttu-id="2bcff-255">Para obter mais informações sobre logs de operação, vá para [Exibir os logs de operação](storsimple-service-dashboard.md#view-the-operations-logs).</span><span class="sxs-lookup"><span data-stu-id="2bcff-255">For more information about operation logs, go to [View the operation logs](storsimple-service-dashboard.md#view-the-operations-logs).</span></span>

<span data-ttu-id="2bcff-256">**P.**</span><span class="sxs-lookup"><span data-stu-id="2bcff-256">**Q.**</span></span> <span data-ttu-id="2bcff-257">Há algum impacto sobre as E/Ss como resultado de failover do controlador?</span><span class="sxs-lookup"><span data-stu-id="2bcff-257">Is there any impact to the I/Os as a result of controller failover?</span></span>

<span data-ttu-id="2bcff-258">**A.**</span><span class="sxs-lookup"><span data-stu-id="2bcff-258">**A.**</span></span> <span data-ttu-id="2bcff-259">As conexões TCP entre iniciadores e controlador ativo serão redefinidas como resultado do failover do controlador, mas serão restabelecidas quando o controlador passivo assumir a operação.</span><span class="sxs-lookup"><span data-stu-id="2bcff-259">The TCP connections between initiators and active controller will be reset as a result of controller failover, but will be reestablished when the passive controller assumes operation.</span></span> <span data-ttu-id="2bcff-260">Pode haver uma pausa temporária (menos de 30 segundos) na atividade de E/S entre os iniciadores e o dispositivo no decorrer desta operação.</span><span class="sxs-lookup"><span data-stu-id="2bcff-260">There may be a temporary (less than 30 seconds) pause in I/O activity between initiators and the device during the course of this operation.</span></span>

<span data-ttu-id="2bcff-261">**P.**</span><span class="sxs-lookup"><span data-stu-id="2bcff-261">**Q.**</span></span> <span data-ttu-id="2bcff-262">Como posso retornar meu controlador de serviço depois de ele ter sido desligado e retirado de serviço?</span><span class="sxs-lookup"><span data-stu-id="2bcff-262">How do I return my controller to service after it has been shut down and removed?</span></span>

<span data-ttu-id="2bcff-263">**A.**</span><span class="sxs-lookup"><span data-stu-id="2bcff-263">**A.**</span></span> <span data-ttu-id="2bcff-264">Para retornar um controlador ao serviço, insira-o no chassi conforme descrito em [Substituir um módulo do controlador em seu dispositivo StorSimple](storsimple-controller-replacement.md).</span><span class="sxs-lookup"><span data-stu-id="2bcff-264">To return a controller to service, you must insert it into the chassis as described in [Replace a controller module on your StorSimple device](storsimple-controller-replacement.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="2bcff-265">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="2bcff-265">Next steps</span></span>
* <span data-ttu-id="2bcff-266">Se você tiver algum problema com os controladores de dispositivo StorSimple que não possam ser resolvidos usando os procedimentos listados neste tutorial, [contate o Suporte da Microsoft](storsimple-contact-microsoft-support.md).</span><span class="sxs-lookup"><span data-stu-id="2bcff-266">If you encounter any issues with your StorSimple device controllers that you cannot resolve by using the procedures listed in this tutorial, [contact Microsoft Support](storsimple-contact-microsoft-support.md).</span></span>
* <span data-ttu-id="2bcff-267">Para saber mais sobre como usar o serviço StorSimple Manager, acesse [Usar o serviço StorSimple Manager para administrar seu dispositivo StorSimple](storsimple-manager-service-administration.md).</span><span class="sxs-lookup"><span data-stu-id="2bcff-267">To learn more about using the StorSimple Manager service, go to [Use the StorSimple Manager service to administer your StorSimple device](storsimple-manager-service-administration.md).</span></span>

