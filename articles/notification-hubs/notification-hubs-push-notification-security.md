---
title: "Segurança para Hubs de notificação"
description: "Este tópico explica a segurança para hubs de notificação do Azure."
services: notification-hubs
documentationcenter: .net
author: ysxu
manager: erikre
editor: 
ms.assetid: 6506177c-e25c-4af7-8508-a3ddca9dc07c
ms.service: notification-hubs
ms.workload: mobile
ms.tgt_pltfrm: mobile-multiple
ms.devlang: multiple
ms.topic: article
ms.date: 06/29/2016
ms.author: yuaxu
ms.openlocfilehash: 7c3283799806135060bb8ca57ea398c93d1106bb
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="security"></a><span data-ttu-id="4ea3f-103">Segurança</span><span class="sxs-lookup"><span data-stu-id="4ea3f-103">Security</span></span>
## <a name="overview"></a><span data-ttu-id="4ea3f-104">Visão geral</span><span class="sxs-lookup"><span data-stu-id="4ea3f-104">Overview</span></span>
<span data-ttu-id="4ea3f-105">Este tópico descreve o modelo de segurança dos Hubs de notificação do Azure.</span><span class="sxs-lookup"><span data-stu-id="4ea3f-105">This topic describes the security model of Azure Notification Hubs.</span></span> <span data-ttu-id="4ea3f-106">Como os Hubs de notificação são uma entidade do barramento de serviço, eles implementam o mesmo modelo de segurança que o barramento de serviço.</span><span class="sxs-lookup"><span data-stu-id="4ea3f-106">Because Notification Hubs are a Service Bus entity, they implement the same security model as Service Bus.</span></span> <span data-ttu-id="4ea3f-107">Para mais informações, consulte os tópicos de [Autenticação do barramento de serviço](https://msdn.microsoft.com/library/azure/dn155925.aspx) .</span><span class="sxs-lookup"><span data-stu-id="4ea3f-107">For more information, see the [Service Bus Authentication](https://msdn.microsoft.com/library/azure/dn155925.aspx) topics.</span></span>

## <a name="shared-access-signature-security-sas"></a><span data-ttu-id="4ea3f-108">Segurança de assinatura de acesso compartilhado (SAS)</span><span class="sxs-lookup"><span data-stu-id="4ea3f-108">Shared Access Signature Security (SAS)</span></span>
<span data-ttu-id="4ea3f-109">Os hubs de notificação implementam um esquema de segurança de nível de entidade chamado SAS (assinatura de acesso compartilhado).</span><span class="sxs-lookup"><span data-stu-id="4ea3f-109">Notification Hubs implements an entity-level security scheme called SAS (Shared Access Signature).</span></span> <span data-ttu-id="4ea3f-110">Esse esquema permite que as entidades de mensagens declarem até 12 regras de autorização nas suas descrições que concedem direitos naquela entidade.</span><span class="sxs-lookup"><span data-stu-id="4ea3f-110">This scheme enables messaging entities to declare up to 12 authorization rules in their description that grant rights on that entity.</span></span>

<span data-ttu-id="4ea3f-111">Cada regra contém um nome, um valor de chave (segredo compartilhado) e um conjunto de direitos, conforme explicado na seção “Declarações de segurança”.</span><span class="sxs-lookup"><span data-stu-id="4ea3f-111">Each rule contains a name, a key value (shared secret), and a set of rights, as explained in the section “Security Claims.”</span></span> <span data-ttu-id="4ea3f-112">Ao criar um Hub de notificação, duas regras são automaticamente criadas: uma com direitos de escuta (que usa o aplicativo cliente) e outra com todos os direitos (que usa o back-end).</span><span class="sxs-lookup"><span data-stu-id="4ea3f-112">When creating a Notification Hub, two rules are automatically created: one with Listen rights (that the client app uses) and one with all rights (that the app backend uses).</span></span>

<span data-ttu-id="4ea3f-113">Ao realizar o gerenciamento de registro dos aplicativos clientes, se as informações enviadas por meio de notificações não forem confidenciais (por exemplo, atualizações de clima), uma maneira comum de acessar um Hub de notificação é fornecer o valor da chave da regra de acesso de somente escuta para o aplicativo cliente e fornecer o valor de chave da regra de acesso completo para o back-end do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="4ea3f-113">When performing registration management from client apps, if the information sent via notifications is not sensitive (for example, weather updates), a common way to access a Notification Hub is to give the key value of the rule Listen-only access to the client app, and to give the key value of the rule full access to the app backend.</span></span>

<span data-ttu-id="4ea3f-114">Não é recomendável que você insira o valor da chave em aplicativos cliente da Windows Store.</span><span class="sxs-lookup"><span data-stu-id="4ea3f-114">It is not recommended that you embed the key value in Windows Store client apps.</span></span> <span data-ttu-id="4ea3f-115">Uma maneira de evitar a inserção do valor chave é recuperar o aplicativo cliente do back-end do aplicativo na inicialização.</span><span class="sxs-lookup"><span data-stu-id="4ea3f-115">A way to avoid embedding the key value is to have the client app retrieve it from the app backend at startup.</span></span>

<span data-ttu-id="4ea3f-116">É importante entender que a chave de acesso de escuta permite que um aplicativo cliente seja registrado para qualquer marca.</span><span class="sxs-lookup"><span data-stu-id="4ea3f-116">It is important to understand that the key with Listen access allows a client app to register for any tag.</span></span> <span data-ttu-id="4ea3f-117">Se seu aplicativo tiver que restringir registros de marcas específicas para clientes específicos (por exemplo, quando as marcas representam IDs de usuário), o back-end do aplicativo deverá executar os registros.</span><span class="sxs-lookup"><span data-stu-id="4ea3f-117">If your app must restrict registrations to specific tags to specific clients (for example, when tags represent user IDs), then your app backend must perform the registrations.</span></span> <span data-ttu-id="4ea3f-118">Para mais informações, consulte a seção Gerenciamento de registro.</span><span class="sxs-lookup"><span data-stu-id="4ea3f-118">For more information, see Registration Management.</span></span> <span data-ttu-id="4ea3f-119">Observe que, dessa maneira, o aplicativo cliente não terá acesso direto aos Hubs de notificação.</span><span class="sxs-lookup"><span data-stu-id="4ea3f-119">Note that in this way, the client app will not have direct access to Notification Hubs.</span></span>

## <a name="security-claims"></a><span data-ttu-id="4ea3f-120">Declarações de segurança</span><span class="sxs-lookup"><span data-stu-id="4ea3f-120">Security claims</span></span>
<span data-ttu-id="4ea3f-121">Semelhantes a outras entidades, as operações de Hub de notificação são permitidas para três declarações de segurança: ouvir, enviar e gerenciar.</span><span class="sxs-lookup"><span data-stu-id="4ea3f-121">Similar to other entities, Notification Hub operations are allowed for three security claims: Listen, Send, and Manage.</span></span>

| <span data-ttu-id="4ea3f-122">Declaração</span><span class="sxs-lookup"><span data-stu-id="4ea3f-122">Claim</span></span> | <span data-ttu-id="4ea3f-123">Descrição</span><span class="sxs-lookup"><span data-stu-id="4ea3f-123">Description</span></span> | <span data-ttu-id="4ea3f-124">Operações permitidas</span><span class="sxs-lookup"><span data-stu-id="4ea3f-124">Operations allowed</span></span> |
| --- | --- | --- |
| <span data-ttu-id="4ea3f-125">Escutar</span><span class="sxs-lookup"><span data-stu-id="4ea3f-125">Listen</span></span> |<span data-ttu-id="4ea3f-126">Criar/atualizar, ler e excluir registros simples</span><span class="sxs-lookup"><span data-stu-id="4ea3f-126">Create/Update, Read, and Delete single registrations</span></span> |<span data-ttu-id="4ea3f-127">Criar/Atualizar o registro</span><span class="sxs-lookup"><span data-stu-id="4ea3f-127">Create/Update registration</span></span><br><br><span data-ttu-id="4ea3f-128">Ler registro</span><span class="sxs-lookup"><span data-stu-id="4ea3f-128">Read registration</span></span><br><br><span data-ttu-id="4ea3f-129">Ler todos os registros para um identificador</span><span class="sxs-lookup"><span data-stu-id="4ea3f-129">Read all registrations for a handle</span></span><br><br><span data-ttu-id="4ea3f-130">Excluir registro</span><span class="sxs-lookup"><span data-stu-id="4ea3f-130">Delete registration</span></span> |
| <span data-ttu-id="4ea3f-131">Enviar</span><span class="sxs-lookup"><span data-stu-id="4ea3f-131">Send</span></span> |<span data-ttu-id="4ea3f-132">Enviar mensagens ao hub de notificação</span><span class="sxs-lookup"><span data-stu-id="4ea3f-132">Send messages to the notification hub</span></span> |<span data-ttu-id="4ea3f-133">Enviar mensagem</span><span class="sxs-lookup"><span data-stu-id="4ea3f-133">Send message</span></span> |
| <span data-ttu-id="4ea3f-134">Gerenciar</span><span class="sxs-lookup"><span data-stu-id="4ea3f-134">Manage</span></span> |<span data-ttu-id="4ea3f-135">CRUDs nos Hubs de notificação (incluindo atualização de credenciais PNS e chaves de segurança) e ler registros baseados em marcas</span><span class="sxs-lookup"><span data-stu-id="4ea3f-135">CRUDs on Notification Hubs (including updating PNS credentials, and security keys), and read registrations based on tags</span></span> |<span data-ttu-id="4ea3f-136">Criar/Atualizar/Ler/Excluir hubs de notificação</span><span class="sxs-lookup"><span data-stu-id="4ea3f-136">Create/Update/Read/Delete notification hubs</span></span><br><br><span data-ttu-id="4ea3f-137">Ler registros por marca</span><span class="sxs-lookup"><span data-stu-id="4ea3f-137">Read registrations by tag</span></span> |

<span data-ttu-id="4ea3f-138">Os hubs de notificação aceitam declarações concedidas pelos tokens de controle de acesso do Microsoft Azure e por tokens de assinatura gerados com chaves compartilhadas configuradas diretamente no hub de notificação.</span><span class="sxs-lookup"><span data-stu-id="4ea3f-138">Notification Hubs accept claims granted by Microsoft Azure Access Control tokens, and by signature tokens generated with shared keys configured directly on the Notification Hub.</span></span>

