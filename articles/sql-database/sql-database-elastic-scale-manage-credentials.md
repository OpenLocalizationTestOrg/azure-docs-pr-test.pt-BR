---
title: "credenciais aaaManaging na biblioteca de cliente do banco de dados Elástico Olá | Microsoft Docs"
description: "Como tooset Olá nível certo de credenciais de administrador somente para tooread, para aplicativos de banco de dados Elástico"
services: sql-database
documentationcenter: 
manager: jhubbard
author: ddove
editor: 
ms.assetid: 72e0edaf-795e-4856-84a5-6594f735fb7e
ms.service: sql-database
ms.custom: scale out apps
ms.workload: sql-database
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 10/24/2016
ms.author: ddove
ms.openlocfilehash: 218783ca2a07e3c0a4b089aa92634f32c41386e6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="credentials-used-tooaccess-hello-elastic-database-client-library"></a><span data-ttu-id="710cc-103">As credenciais usadas biblioteca de cliente de banco de dados Elástico tooaccess Olá</span><span class="sxs-lookup"><span data-stu-id="710cc-103">Credentials used tooaccess hello Elastic Database client library</span></span>
<span data-ttu-id="710cc-104">Olá [biblioteca de cliente do banco de dados Elástico](http://www.nuget.org/packages/Microsoft.Azure.SqlDatabase.ElasticScale.Client/) usa três tipos diferentes de saudação do credenciais tooaccess [Gerenciador do mapa de fragmentos](sql-database-elastic-scale-shard-map-management.md).</span><span class="sxs-lookup"><span data-stu-id="710cc-104">hello [Elastic Database client library](http://www.nuget.org/packages/Microsoft.Azure.SqlDatabase.ElasticScale.Client/) uses three different kinds  of credentials tooaccess hello [shard map manager](sql-database-elastic-scale-shard-map-management.md).</span></span> <span data-ttu-id="710cc-105">Dependendo da necessidade de Olá, use credencial Olá com nível mais baixo de saudação de possíveis de acesso.</span><span class="sxs-lookup"><span data-stu-id="710cc-105">Depending on hello need, use hello credential with  hello lowest level of access possible.</span></span>

* <span data-ttu-id="710cc-106">**Credenciais de gerenciamento**: para criar ou manipular um gerenciador de mapa de fragmentos.</span><span class="sxs-lookup"><span data-stu-id="710cc-106">**Management credentials**: for creating or manipulating a shard map manager.</span></span> <span data-ttu-id="710cc-107">(Consulte Olá [glossário](sql-database-elastic-scale-glossary.md).)</span><span class="sxs-lookup"><span data-stu-id="710cc-107">(See hello [glossary](sql-database-elastic-scale-glossary.md).)</span></span> 
* <span data-ttu-id="710cc-108">**Credenciais de acesso**: tooaccess um fragmento existente mapear manager tooobtain informações sobre fragmentos.</span><span class="sxs-lookup"><span data-stu-id="710cc-108">**Access credentials**: tooaccess an existing shard map manager tooobtain information about shards.</span></span>
* <span data-ttu-id="710cc-109">**Credenciais de Conexão**: tooconnect tooshards.</span><span class="sxs-lookup"><span data-stu-id="710cc-109">**Connection credentials**: tooconnect tooshards.</span></span> 

<span data-ttu-id="710cc-110">Consulte [Gerenciamento de bancos de dados e logons no Banco de Dados SQL do Azure](sql-database-manage-logins.md)</span><span class="sxs-lookup"><span data-stu-id="710cc-110">See also [Managing databases and logins in Azure SQL Database](sql-database-manage-logins.md).</span></span> 

## <a name="about-management-credentials"></a><span data-ttu-id="710cc-111">Sobre as credenciais de gerenciamento</span><span class="sxs-lookup"><span data-stu-id="710cc-111">About management credentials</span></span>
<span data-ttu-id="710cc-112">Credenciais de gerenciamento são usado toocreate um [ **ShardMapManager** ](https://msdn.microsoft.com/library/azure/microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmapmanager.aspx) objeto para aplicativos que manipulam os mapas de fragmento.</span><span class="sxs-lookup"><span data-stu-id="710cc-112">Management credentials are used toocreate a [**ShardMapManager**](https://msdn.microsoft.com/library/azure/microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmapmanager.aspx) object for applications that manipulate shard maps.</span></span> <span data-ttu-id="710cc-113">(Por exemplo, consulte [adicionando um fragmento usando as ferramentas de banco de dados Elástico](sql-database-elastic-scale-add-a-shard.md) e [roteamento dependente de dados](sql-database-elastic-scale-data-dependent-routing.md)) usuário Olá Olá escala elástica da biblioteca de cliente cria usuários do SQL hello e logons do SQL Server e garante que cada um é concedidas permissões de leitura/gravação da saudação no fragmento global Olá mapeiam banco de dados e todos os fragmentos bancos de dados também.</span><span class="sxs-lookup"><span data-stu-id="710cc-113">(For example, see [Adding a shard using Elastic Database tools](sql-database-elastic-scale-add-a-shard.md) and [Data dependent routing](sql-database-elastic-scale-data-dependent-routing.md)) hello user of hello elastic scale client library creates hello SQL users and SQL logins and makes sure each is granted hello read/write permissions on hello global shard map database and all shard databases as well.</span></span> <span data-ttu-id="710cc-114">Essas credenciais são mapa de fragmento global Olá toomaintain usado e mapas de fragmento de local de saudação ao mapa do fragmento toohello alterações são executadas.</span><span class="sxs-lookup"><span data-stu-id="710cc-114">These credentials are used toomaintain hello global shard map and hello local shard maps when changes toohello shard map are performed.</span></span> <span data-ttu-id="710cc-115">Por exemplo, usar Olá gerenciamento credenciais toocreate Olá fragmento mapa manager objeto (usando [ **GetSqlShardMapManager**](https://msdn.microsoft.com/library/azure/microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmapmanagerfactory.getsqlshardmapmanager.aspx):</span><span class="sxs-lookup"><span data-stu-id="710cc-115">For instance, use hello management credentials toocreate hello shard map manager object (using [**GetSqlShardMapManager**](https://msdn.microsoft.com/library/azure/microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmapmanagerfactory.getsqlshardmapmanager.aspx):</span></span> 

    // Obtain a shard map manager. 
    ShardMapManager shardMapManager = ShardMapManagerFactory.GetSqlShardMapManager( 
            smmAdminConnectionString, 
            ShardMapManagerLoadPolicy.Lazy 
    ); 

<span data-ttu-id="710cc-116">variável de saudação **smmAdminConnectionString** é uma cadeia de conexão que contém as credenciais de gerenciamento de saudação.</span><span class="sxs-lookup"><span data-stu-id="710cc-116">hello variable **smmAdminConnectionString** is a connection string that contains hello management credentials.</span></span> <span data-ttu-id="710cc-117">Olá ID de usuário e senha fornece banco de dados de leitura/gravação acesso tooboth fragmento mapa e fragmentos individuais.</span><span class="sxs-lookup"><span data-stu-id="710cc-117">hello user ID and password provides read/write access tooboth shard map database and individual shards.</span></span> <span data-ttu-id="710cc-118">a cadeia de conexão Olá gerenciamento também inclui Olá server nome e o banco de dados nome tooidentify Olá fragmento global mapa banco de dados.</span><span class="sxs-lookup"><span data-stu-id="710cc-118">hello management connection string also includes hello server name and database name tooidentify hello global shard map database.</span></span> <span data-ttu-id="710cc-119">Aqui está uma cadeia de conexão típica para essa finalidade:</span><span class="sxs-lookup"><span data-stu-id="710cc-119">Here is a typical connection string for that purpose:</span></span>

     "Server=<yourserver>.database.windows.net;Database=<yourdatabase>;User ID=<yourmgmtusername>;Password=<yourmgmtpassword>;Trusted_Connection=False;Encrypt=True;Connection Timeout=30;” 

<span data-ttu-id="710cc-120">Não utilize valores no formulário de saudação do "username@server" — em vez disso, usar apenas o valor de "username" hello.</span><span class="sxs-lookup"><span data-stu-id="710cc-120">Do not use values in hello form of "username@server"—instead just use hello "username" value.</span></span>  <span data-ttu-id="710cc-121">Isso ocorre porque as credenciais devem funcionar em relação ao banco de dados do fragmento mapa manager hello e fragmentos individuais, que podem estar em servidores diferentes.</span><span class="sxs-lookup"><span data-stu-id="710cc-121">This is because credentials must work against both hello shard map manager database and individual shards, which may be on different servers.</span></span>

## <a name="access-credentials"></a><span data-ttu-id="710cc-122">Credenciais de acesso</span><span class="sxs-lookup"><span data-stu-id="710cc-122">Access credentials</span></span>
<span data-ttu-id="710cc-123">Ao criar um fragmento do Gerenciador do mapa em um aplicativo que não administrar mapas de fragmento, use as credenciais que têm permissões somente leitura no mapa do fragmento global de saudação.</span><span class="sxs-lookup"><span data-stu-id="710cc-123">When creating a shard map manager in an application that does not administer shard maps, use credentials that have read-only permissions on hello global shard map.</span></span> <span data-ttu-id="710cc-124">Olá informações recuperadas do mapa do fragmento global de saudação com essas credenciais são usadas para [roteamento dependente de dados](sql-database-elastic-scale-data-dependent-routing.md) e fragmentos de saudação toopopulate cache no cliente de saudação do mapa.</span><span class="sxs-lookup"><span data-stu-id="710cc-124">hello information retrieved from hello global shard map under these credentials are used for [data-dependent routing](sql-database-elastic-scale-data-dependent-routing.md) and toopopulate hello shard map cache on hello client.</span></span> <span data-ttu-id="710cc-125">Olá credenciais são fornecidas por meio de saudação mesma chamada padrão muito**GetSqlShardMapManager** como mostrado acima:</span><span class="sxs-lookup"><span data-stu-id="710cc-125">hello credentials are provided through hello same call pattern too**GetSqlShardMapManager** as shown above:</span></span> 

    // Obtain shard map manager. 
    ShardMapManager shardMapManager = ShardMapManagerFactory.GetSqlShardMapManager( 
            smmReadOnlyConnectionString, 
            ShardMapManagerLoadPolicy.Lazy
    );  

<span data-ttu-id="710cc-126">Observe o uso de saudação do hello **smmReadOnlyConnectionString** tooreflect uso de saudação de credenciais diferentes para esse acesso em nome de **não-administrador** usuários: essas credenciais não devem fornecer a gravação permissões no mapa do fragmento global de saudação.</span><span class="sxs-lookup"><span data-stu-id="710cc-126">Note hello use of hello **smmReadOnlyConnectionString** tooreflect hello use of different credentials for this access on behalf of **non-admin** users: these credentials should not provide write permissions on hello global shard map.</span></span> 

## <a name="connection-credentials"></a><span data-ttu-id="710cc-127">As credenciais de conexão</span><span class="sxs-lookup"><span data-stu-id="710cc-127">Connection credentials</span></span>
<span data-ttu-id="710cc-128">Credenciais adicionais são necessárias ao usar Olá [ **OpenConnectionForKey** ](https://msdn.microsoft.com/library/azure/microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmap.openconnectionforkey.aspx) método tooaccess um fragmento associado com uma chave de fragmentação.</span><span class="sxs-lookup"><span data-stu-id="710cc-128">Additional credentials are needed when using hello [**OpenConnectionForKey**](https://msdn.microsoft.com/library/azure/microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmap.openconnectionforkey.aspx) method tooaccess a shard associated with a sharding key.</span></span> <span data-ttu-id="710cc-129">Essas credenciais precisam de permissões de tooprovide para tabelas de mapa de fragmento local toohello acesso somente leitura que reside no fragmento hello.</span><span class="sxs-lookup"><span data-stu-id="710cc-129">These credentials need tooprovide permissions for read-only access toohello local shard map tables residing on hello shard.</span></span> <span data-ttu-id="710cc-130">Isso é necessário tooperform validação de conexão para roteamento dependente de dados no fragmento de saudação.</span><span class="sxs-lookup"><span data-stu-id="710cc-130">This is needed tooperform connection validation for data-dependent routing on hello shard.</span></span> <span data-ttu-id="710cc-131">Este trecho de código permite que o acesso a dados no contexto de saudação do roteamento dependente de dados:</span><span class="sxs-lookup"><span data-stu-id="710cc-131">This code snippet allows data access in hello context of data dependent routing:</span></span> 

    using (SqlConnection conn = rangeMap.OpenConnectionForKey<int>( 
    targetWarehouse, smmUserConnectionString, ConnectionOptions.Validate)) 

<span data-ttu-id="710cc-132">Neste exemplo, **smmUserConnectionString** contém a cadeia de caracteres de conexão de saudação para Olá as credenciais do usuário.</span><span class="sxs-lookup"><span data-stu-id="710cc-132">In this example, **smmUserConnectionString** holds hello connection string for hello user credentials.</span></span> <span data-ttu-id="710cc-133">Para o banco de dados SQL Azure, eis uma cadeia de conexão típica para as credenciais do usuário:</span><span class="sxs-lookup"><span data-stu-id="710cc-133">For Azure SQL DB, here is a typical connection string for user credentials:</span></span> 

    "User ID=<yourusername>; Password=<youruserpassword>; Trusted_Connection=False; Encrypt=True; Connection Timeout=30;”  

<span data-ttu-id="710cc-134">Como com credenciais de administrador Olá, não valores em forma de saudação de "username@server".</span><span class="sxs-lookup"><span data-stu-id="710cc-134">As with hello admin credentials, do not values in hello form of "username@server".</span></span> <span data-ttu-id="710cc-135">Em vez disso, use "username".</span><span class="sxs-lookup"><span data-stu-id="710cc-135">Instead, just use "username".</span></span>  <span data-ttu-id="710cc-136">Observe também que a cadeia de caracteres de conexão de saudação não contém um nome de servidor e nome do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="710cc-136">Also note that hello connection string does not contain a server name and database name.</span></span> <span data-ttu-id="710cc-137">Isso ocorre porque Olá **OpenConnectionForKey** chamada direcionará automaticamente Olá conexão toohello correta de fragmentação com base na chave de saudação.</span><span class="sxs-lookup"><span data-stu-id="710cc-137">That is because hello **OpenConnectionForKey** call will automatically direct hello connection toohello correct shard based on hello key.</span></span> <span data-ttu-id="710cc-138">Portanto, nome do banco de dados de saudação e o nome do servidor não são fornecidos.</span><span class="sxs-lookup"><span data-stu-id="710cc-138">Hence, hello database name and server name are not provided.</span></span> 

## <a name="see-also"></a><span data-ttu-id="710cc-139">Consulte também</span><span class="sxs-lookup"><span data-stu-id="710cc-139">See also</span></span>
[<span data-ttu-id="710cc-140">Gerenciamento de bancos de dados e logons no Banco de Dados SQL do Azure</span><span class="sxs-lookup"><span data-stu-id="710cc-140">Managing databases and logins in Azure SQL Database</span></span>](sql-database-manage-logins.md)

[<span data-ttu-id="710cc-141">Protegendo o Banco de Dados SQL</span><span class="sxs-lookup"><span data-stu-id="710cc-141">Securing your SQL Database</span></span>](sql-database-security-overview.md)

[<span data-ttu-id="710cc-142">Introdução a trabalhos de Banco de Dados Elástico</span><span class="sxs-lookup"><span data-stu-id="710cc-142">Getting started with Elastic Database jobs</span></span>](sql-database-elastic-jobs-getting-started.md)

[!INCLUDE [elastic-scale-include](../../includes/elastic-scale-include.md)]

