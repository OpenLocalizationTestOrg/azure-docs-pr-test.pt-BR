---
title: "padrões de aaaDesign para aplicativos SaaS de multilocatários e de banco de dados do SQL Azure | Microsoft Docs"
description: "Este artigo discute os requisitos de saudação e padrões comuns de arquitetura de dados de aplicativos de banco de dados multilocatário em execução em um ambiente de nuvem precisam tooconsider e Olá compensações vários associadas com esses padrões. Ele também explica como o Banco de Dados SQL do Azure com seus pools elásticos e suas ferramentas elásticas ajudam a atender a esses requisitos sem comprometimento."
keywords: 
services: sql-database
documentationcenter: 
author: srinia
manager: jhubbard
editor: 
ms.assetid: 1dd20c6b-ddbb-40ef-ad34-609d398d008a
ms.service: sql-database
ms.custom: scale out apps
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: sqldb-design
ms.date: 02/01/2017
ms.author: srinia
ms.openlocfilehash: a4b58935b08cb78792e65a675d680de708b709fc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="design-patterns-for-multi-tenant-saas-applications-and-azure-sql-database"></a><span data-ttu-id="dff06-104">Padrões de design para aplicativos SaaS multilocatários e o Banco de Dados SQL do Azure</span><span class="sxs-lookup"><span data-stu-id="dff06-104">Design patterns for multi-tenant SaaS applications and Azure SQL Database</span></span>
<span data-ttu-id="dff06-105">Neste artigo, você pode aprender sobre os requisitos de saudação e padrões comuns de arquitetura de dados do software de vários locatários como aplicativos de banco de dados um serviço (SaaS) que são executados em um ambiente de nuvem.</span><span class="sxs-lookup"><span data-stu-id="dff06-105">In this article, you can learn about hello requirements and common data architecture patterns of multi-tenant software as a service (SaaS) database applications that run in a cloud environment.</span></span> <span data-ttu-id="dff06-106">Ele também explica os fatores de Olá necessário tooconsider e Olá vantagens e desvantagens dos padrões de design diferentes.</span><span class="sxs-lookup"><span data-stu-id="dff06-106">It also explains hello factors you need tooconsider and hello trade-offs of different design patterns.</span></span> <span data-ttu-id="dff06-107">O pool elástico e as ferramentas elásticas no Banco de Dados SQL podem ajudar você a atender os requisitos específicos sem comprometer outros objetivos.</span><span class="sxs-lookup"><span data-stu-id="dff06-107">Elastic pools and elastic tools in Azure SQL Database can help you meet your specific requirements without compromising other objectives.</span></span>

<span data-ttu-id="dff06-108">Às vezes, os desenvolvedores fazem escolhas que trabalham em seus interesses a longo prazo quando criam modelos de aluguel para as camadas de dados de saudação de aplicativos de multilocação.</span><span class="sxs-lookup"><span data-stu-id="dff06-108">Developers sometimes make choices that work against their long-term best interests when they design tenancy models for hello data tiers of multi-tenant applications.</span></span> <span data-ttu-id="dff06-109">Inicialmente, pelo menos, um desenvolvedor pode perceber facilidade de desenvolvimento e reduzir custos de provedor de serviço de nuvem como o mais importante do que a escalabilidade de isolamento ou saudação do locatário de um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="dff06-109">Initially, at least, a developer might perceive ease of development and lower cloud service provider costs as more important than tenant isolation or hello scalability of an application.</span></span> <span data-ttu-id="dff06-110">Essa opção pode ocasionar preocupações de satisfação toocustomer uma correção de curso cara mais tarde.</span><span class="sxs-lookup"><span data-stu-id="dff06-110">This choice can lead toocustomer satisfaction concerns and a costly course-correction later.</span></span>

<span data-ttu-id="dff06-111">Um aplicativo multilocatário é um aplicativo hospedado em um ambiente de nuvem e que fornece Olá mesmo conjunto de serviços toohundreds ou milhares de locatários que não compartilham ou ver dados uns dos outros.</span><span class="sxs-lookup"><span data-stu-id="dff06-111">A multi-tenant application is an application hosted in a cloud environment and that provides hello same set of services toohundreds or thousands of tenants who do not share or see each other’s data.</span></span> <span data-ttu-id="dff06-112">Um exemplo é um aplicativo SaaS que fornece serviços tootenants em um ambiente hospedado na nuvem.</span><span class="sxs-lookup"><span data-stu-id="dff06-112">An example is an SaaS application that provides services tootenants in a cloud-hosted environment.</span></span>

## <a name="multi-tenant-applications"></a><span data-ttu-id="dff06-113">Aplicativos multilocatários</span><span class="sxs-lookup"><span data-stu-id="dff06-113">Multi-tenant applications</span></span>
<span data-ttu-id="dff06-114">Em aplicativos multilocatários, os dados e a carga de trabalho podem ser facilmente particionados.</span><span class="sxs-lookup"><span data-stu-id="dff06-114">In multi-tenant applications, data and workload can be easily partitioned.</span></span> <span data-ttu-id="dff06-115">Você pode particionar dados e carga de trabalho, por exemplo, com limites de locatário, porque a maioria das solicitações ocorrem dentro dos limites de saudação de um locatário.</span><span class="sxs-lookup"><span data-stu-id="dff06-115">You can partition data and workload, for example, along tenant boundaries, because most requests occur within hello confines of a tenant.</span></span> <span data-ttu-id="dff06-116">Essa propriedade é inerente em dados saudação e carga de trabalho hello e ele favorece padrões de aplicativo hello discutidos neste artigo.</span><span class="sxs-lookup"><span data-stu-id="dff06-116">That property is inherent in hello data and hello workload, and it favors hello application patterns discussed in this article.</span></span>

<span data-ttu-id="dff06-117">Os desenvolvedores usam esse tipo de aplicativo em todo o espectro de aplicativos baseados em nuvem, incluindo hello:</span><span class="sxs-lookup"><span data-stu-id="dff06-117">Developers use this type of application across hello whole spectrum of cloud-based applications, including:</span></span>

* <span data-ttu-id="dff06-118">Aplicativos de banco de dados do parceiro que estão sendo toohello transição de nuvem como aplicativos SaaS</span><span class="sxs-lookup"><span data-stu-id="dff06-118">Partner database applications that are being transitioned toohello cloud as SaaS applications</span></span>
* <span data-ttu-id="dff06-119">Aplicativos SaaS criados para a nuvem de saudação do hello o plano de</span><span class="sxs-lookup"><span data-stu-id="dff06-119">SaaS applications built for hello cloud from hello ground up</span></span>
* <span data-ttu-id="dff06-120">Aplicativos diretos voltados para o cliente</span><span class="sxs-lookup"><span data-stu-id="dff06-120">Direct, customer-facing applications</span></span>
* <span data-ttu-id="dff06-121">Aplicativos empresariais voltados para funcionários</span><span class="sxs-lookup"><span data-stu-id="dff06-121">Employee-facing enterprise applications</span></span>

<span data-ttu-id="dff06-122">Aplicativos SaaS que são projetados para nuvem hello e aqueles com raízes como aplicativos de banco de dados do parceiro normalmente são aplicativos de vários locatários.</span><span class="sxs-lookup"><span data-stu-id="dff06-122">SaaS applications that are designed for hello cloud and those with roots as partner database applications typically are multi-tenant applications.</span></span> <span data-ttu-id="dff06-123">Esses aplicativos SaaS entregam um aplicativo especializado como um locatários tootheir de serviço.</span><span class="sxs-lookup"><span data-stu-id="dff06-123">These SaaS applications deliver a specialized software application as a service tootheir tenants.</span></span> <span data-ttu-id="dff06-124">Locatários podem acessar o serviço de aplicativo hello e ter propriedade completa dos dados associados armazenados como parte do aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="dff06-124">Tenants can access hello application service and have full ownership of associated data stored as part of hello application.</span></span> <span data-ttu-id="dff06-125">Mas tootake proveito dos benefícios de saudação do SaaS, locatários deve devolvê-algum controle sobre seus próprios dados.</span><span class="sxs-lookup"><span data-stu-id="dff06-125">But tootake advantage of hello benefits of SaaS, tenants must surrender some control over their own data.</span></span> <span data-ttu-id="dff06-126">Elas têm confiança tookeep de provedor de serviço de SaaS Olá seus dados isolados dos dados de outros locatários e seguros.</span><span class="sxs-lookup"><span data-stu-id="dff06-126">They trust hello SaaS service provider tookeep their data safe and isolated from other tenants’ data.</span></span> <span data-ttu-id="dff06-127">MYOB, SnelStart e Salesforce.com são exemplos desse tipo de aplicativo SaaS multilocatário. Cada um desses aplicativos pode ser particionada em limites de locatário e padrões de design de aplicativo hello suporte que discutimos neste artigo.</span><span class="sxs-lookup"><span data-stu-id="dff06-127">Examples of this kind of multi-tenant SaaS application are MYOB, SnelStart, and Salesforce.com. Each of these applications can be partitioned along tenant boundaries and support hello application design patterns we discuss in this article.</span></span>

<span data-ttu-id="dff06-128">Os aplicativos que fornecem um serviço direto toocustomers ou tooemployees dentro de uma organização (geralmente chamados tooas usuários, em vez de locatários) são outra categoria no espectro de aplicativo multilocatário hello.</span><span class="sxs-lookup"><span data-stu-id="dff06-128">Applications that provide a direct service toocustomers or tooemployees within an organization (often referred tooas users, rather than tenants) are another category on hello multi-tenant application spectrum.</span></span> <span data-ttu-id="dff06-129">Os clientes assinar o serviço de toohello e não possuem dados Olá Olá provedor de serviços de coletam e armazenam.</span><span class="sxs-lookup"><span data-stu-id="dff06-129">Customers subscribe toohello service and do not own hello data that hello service provider collects and stores.</span></span> <span data-ttu-id="dff06-130">Provedores de serviços têm menos rigorosa tookeep de requisitos isolados uns dos outros além regulamentos governamentais privacidade de dados de seus clientes.</span><span class="sxs-lookup"><span data-stu-id="dff06-130">Service providers have less stringent requirements tookeep their customers’ data isolated from each other beyond government-mandated privacy regulations.</span></span> <span data-ttu-id="dff06-131">Exemplos desse tipo de aplicativo multilocatário voltado para o cliente são provedores de conteúdo de mídia como Netflix, Spotify e Xbox LIVE.</span><span class="sxs-lookup"><span data-stu-id="dff06-131">Examples of this kind of customer-facing multi-tenant application are media content providers like Netflix, Spotify, and Xbox LIVE.</span></span> <span data-ttu-id="dff06-132">Outros exemplos de aplicativos facilmente particionáveis são aplicativos de escala da Internet voltados para clientes ou aplicativos IoT (Internet das Coisas) em que cada cliente ou dispositivo pode servir como uma partição.</span><span class="sxs-lookup"><span data-stu-id="dff06-132">Other examples of easily partitionable applications are customer-facing, Internet-scale applications, or Internet of Things (IoT) applications in which each customer or device can serve as a partition.</span></span> <span data-ttu-id="dff06-133">Limites de partição podem separar usuários e dispositivos.</span><span class="sxs-lookup"><span data-stu-id="dff06-133">Partition boundaries can separate users and devices.</span></span>

<span data-ttu-id="dff06-134">Nem todos os aplicativos são particionados facilmente com uma única propriedade, como o locatário, cliente, usuário ou dispositivo.</span><span class="sxs-lookup"><span data-stu-id="dff06-134">Not all applications partition easily along a single property such as tenant, customer, user, or device.</span></span> <span data-ttu-id="dff06-135">Um aplicativo de ERP (planejamento de recursos da empresa) complexo, por exemplo, tem produtos, pedidos e clientes.</span><span class="sxs-lookup"><span data-stu-id="dff06-135">A complex enterprise resource planning (ERP) application, for example, has products, orders, and customers.</span></span> <span data-ttu-id="dff06-136">Ele normalmente tem um esquema complexo com milhares de tabelas altamente interconectadas.</span><span class="sxs-lookup"><span data-stu-id="dff06-136">It usually has a complex schema with thousands of highly interconnected tables.</span></span>

<span data-ttu-id="dff06-137">Nenhuma estratégia de partição única pode aplicar tabelas tooall e funcionam em cargas de trabalho do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="dff06-137">No single partition strategy can apply tooall tables and work across an application's workload.</span></span> <span data-ttu-id="dff06-138">Este artigo se concentra em aplicativos multilocatários que possuem dados e cargas de trabalho facilmente particionáveis.</span><span class="sxs-lookup"><span data-stu-id="dff06-138">This article focuses on multi-tenant applications that have easily partitionable data and workloads.</span></span>

## <a name="multi-tenant-application-design-trade-offs"></a><span data-ttu-id="dff06-139">Compensações do design de aplicativo multilocatário</span><span class="sxs-lookup"><span data-stu-id="dff06-139">Multi-tenant application design trade-offs</span></span>
<span data-ttu-id="dff06-140">padrão de design de saudação que um desenvolvedor de aplicativos de multilocação escolhe normalmente é baseado em uma consideração de saudação fatores a seguir:</span><span class="sxs-lookup"><span data-stu-id="dff06-140">hello design pattern that a multi-tenant application developer chooses typically is based on a consideration of hello following factors:</span></span>

* <span data-ttu-id="dff06-141">**Isolamento de locatário**.</span><span class="sxs-lookup"><span data-stu-id="dff06-141">**Tenant isolation**.</span></span> <span data-ttu-id="dff06-142">desenvolvedor de saudação precisa tooensure que nenhum locatário tem dados de locatários de tooother acesso não desejado.</span><span class="sxs-lookup"><span data-stu-id="dff06-142">hello developer needs tooensure that no tenant has unwanted access tooother tenants’ data.</span></span> <span data-ttu-id="dff06-143">requisito de isolamento Olá estende tooother propriedades, como fornecer proteção de vizinhos ruídos, sendo toorestore capaz de dados de um locatário e implementar as personalizações de específico de locatário.</span><span class="sxs-lookup"><span data-stu-id="dff06-143">hello isolation requirement extends tooother properties, such as providing protection from noisy neighbors, being able toorestore a tenant’s data, and implementing tenant-specific customizations.</span></span>
* <span data-ttu-id="dff06-144">**Custo de recursos de nuvem**.</span><span class="sxs-lookup"><span data-stu-id="dff06-144">**Cloud resource cost**.</span></span> <span data-ttu-id="dff06-145">Um aplicativo de SaaS precisa toobe custo competitivas.</span><span class="sxs-lookup"><span data-stu-id="dff06-145">An SaaS application needs toobe cost-competitive.</span></span> <span data-ttu-id="dff06-146">Um desenvolvedor de aplicativos de multilocação pode escolha toooptimize para reduzir o custo em uso de saudação de recursos de nuvem, como o armazenamento e os custos de computação.</span><span class="sxs-lookup"><span data-stu-id="dff06-146">A multi-tenant application developer might choose toooptimize for lower cost in hello use of cloud resources, such as storage and compute costs.</span></span>
* <span data-ttu-id="dff06-147">**Facilidade de Operações de Desenvolvimento**.</span><span class="sxs-lookup"><span data-stu-id="dff06-147">**Ease of DevOps**.</span></span> <span data-ttu-id="dff06-148">Um desenvolvedor de aplicativos de multilocação precisa tooincorporate proteção de isolamento, manter e monitorar a integridade de saudação do seu aplicativo e o esquema de banco de dados e solucionar problemas de locatário.</span><span class="sxs-lookup"><span data-stu-id="dff06-148">A multi-tenant application developer needs tooincorporate isolation protection, maintain, and monitor hello health of their application and database schema, and troubleshoot tenant issues.</span></span> <span data-ttu-id="dff06-149">Complexidade no desenvolvimento de aplicativos e operação diretamente converte tooincreased custo e desafios de satisfação do locatário.</span><span class="sxs-lookup"><span data-stu-id="dff06-149">Complexity in application development and operation translates directly tooincreased cost and challenges with tenant satisfaction.</span></span>
* <span data-ttu-id="dff06-150">**Escalabilidade**.</span><span class="sxs-lookup"><span data-stu-id="dff06-150">**Scalability**.</span></span> <span data-ttu-id="dff06-151">Olá capacidade tooincrementally adicionar mais capacidade para locatários que exigem é imperativo tooa operação de SaaS com êxito e locatários.</span><span class="sxs-lookup"><span data-stu-id="dff06-151">hello ability tooincrementally add more tenants and capacity for tenants who require it is imperative tooa successful SaaS operation.</span></span>

<span data-ttu-id="dff06-152">Cada um desses fatores tem vantagens e desvantagens em comparação com tooanother.</span><span class="sxs-lookup"><span data-stu-id="dff06-152">Each of these factors has trade-offs compared tooanother.</span></span> <span data-ttu-id="dff06-153">nuvem de menor custo Olá podem não oferecer a experiência de desenvolvimento mais conveniente de saudação da oferta.</span><span class="sxs-lookup"><span data-stu-id="dff06-153">hello lowest-cost cloud offering might not offer hello most convenient development experience.</span></span> <span data-ttu-id="dff06-154">É importante para um desenvolvedor toomake informado opções sobre essas opções e suas vantagens e desvantagens durante o processo de design de aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="dff06-154">It’s important for a developer toomake informed choices about these options and their trade-offs during hello application design process.</span></span>

<span data-ttu-id="dff06-155">Um padrão de populares de desenvolvimento é toopack vários locatários em um ou alguns bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="dff06-155">A popular development pattern is toopack multiple tenants into one or a few databases.</span></span> <span data-ttu-id="dff06-156">Olá benefícios dessa abordagem são um custo menor porque você paga por alguns bancos de dados e relativa simplicidade Olá de trabalhar com um número limitado de bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="dff06-156">hello benefits of this approach are a lower cost because you pay for a few databases, and hello relative simplicity of working with a limited number of databases.</span></span> <span data-ttu-id="dff06-157">No entanto, ao longo do tempo, um desenvolvedor de aplicativo SaaS multilocatário perceberá que essa opção tem desvantagens significativas no isolamento de locatários e na escalabilidade.</span><span class="sxs-lookup"><span data-stu-id="dff06-157">But over time, a SaaS multi-tenant application developer will realize that this choice has substantial downsides in tenant isolation and scalability.</span></span> <span data-ttu-id="dff06-158">Se o isolamento de locatários se torna importante, esforço adicional é necessário tooprotect locatário dados no armazenamento compartilhado contra acesso não autorizado ou vizinhos com ruídos.</span><span class="sxs-lookup"><span data-stu-id="dff06-158">If tenant isolation becomes important, additional effort is required tooprotect tenant data in shared storage from unauthorized access or noisy neighbors.</span></span> <span data-ttu-id="dff06-159">Esse esforço adicional pode aumentar significativamente os esforços de desenvolvimento e os custos de manutenção do isolamento.</span><span class="sxs-lookup"><span data-stu-id="dff06-159">This additional effort might significantly boost development efforts and isolation maintenance costs.</span></span> <span data-ttu-id="dff06-160">Da mesma forma, se for necessário adicionando locatários, esse padrão de design normalmente requer dados de conhecimento do locatário tooredistribute pela camada de dados de saudação do bancos de dados tooproperly escala de um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="dff06-160">Similarly, if adding tenants is required, this design pattern typically requires expertise tooredistribute tenant data across databases tooproperly scale hello data tier of an application.</span></span>  

<span data-ttu-id="dff06-161">Isolamento de locatários geralmente é um requisito fundamental em aplicativos SaaS de vários locatários que atendem toobusinesses e organizações.</span><span class="sxs-lookup"><span data-stu-id="dff06-161">Tenant isolation often is a fundamental requirement in SaaS multi-tenant applications that cater toobusinesses and organizations.</span></span> <span data-ttu-id="dff06-162">Os desenvolvedores podem ser tentados para as vantagens percebidas em relação a simplicidade e o custo sobre o isolamento de locatários e a escalabilidade.</span><span class="sxs-lookup"><span data-stu-id="dff06-162">A developer might be tempted by perceived advantages in simplicity and cost over tenant isolation and scalability.</span></span> <span data-ttu-id="dff06-163">Essa compensação pode ser complexas e caras que serviço Olá cresce e os requisitos de isolamento de locatário se tornam mais importantes e gerenciado na camada de aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="dff06-163">This trade-off can prove complex and expensive as hello service grows and tenant isolation requirements become more important and managed at hello application layer.</span></span> <span data-ttu-id="dff06-164">No entanto, em aplicativos de vários locatários que fornecem um serviço voltado ao consumidor direto toocustomers, isolamento de locatários pode ser uma prioridade inferior a otimização para o custo de recursos de nuvem.</span><span class="sxs-lookup"><span data-stu-id="dff06-164">However, in multi-tenant applications that provide a direct, consumer-facing service toocustomers, tenant isolation might be a lower priority than optimizing for cloud resource cost.</span></span>

## <a name="multi-tenant-data-models"></a><span data-ttu-id="dff06-165">Modelos de dados de multilocatário</span><span class="sxs-lookup"><span data-stu-id="dff06-165">Multi-tenant data models</span></span>
<span data-ttu-id="dff06-166">Práticas de design comuns para a colocação de dados de locatário seguem esses três modelos distintos, mostrados na Figura 1.</span><span class="sxs-lookup"><span data-stu-id="dff06-166">Common design practices for placing tenant data follow three distinct models, shown in Figure 1.</span></span>

![Modelos de dados de aplicativo multilocatário](./media/sql-database-design-patterns-multi-tenancy-saas-applications/sql-database-multi-tenant-data-models.png)

<span data-ttu-id="dff06-168">Figura 1: Práticas comuns de design para modelos de dados de multilocatário</span><span class="sxs-lookup"><span data-stu-id="dff06-168">Figure 1: Common design practices for multi-tenant data models</span></span>

* <span data-ttu-id="dff06-169">**Banco de dados por locatário**.</span><span class="sxs-lookup"><span data-stu-id="dff06-169">**Database-per-tenant**.</span></span> <span data-ttu-id="dff06-170">Cada locatário tem seu próprio banco de dados.</span><span class="sxs-lookup"><span data-stu-id="dff06-170">Each tenant has its own database.</span></span> <span data-ttu-id="dff06-171">Todos os dados específicos de locatário é o banco de dados do locatário toohello restrita e isolado de outros locatários e seus dados.</span><span class="sxs-lookup"><span data-stu-id="dff06-171">All tenant-specific data is confined toohello tenant’s database and isolated from other tenants and their data.</span></span>
* <span data-ttu-id="dff06-172">**Banco de dados fragmentados compartilhados**.</span><span class="sxs-lookup"><span data-stu-id="dff06-172">**Shared database-sharded**.</span></span> <span data-ttu-id="dff06-173">Vários inquilinos compartilham um de vários bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="dff06-173">Multiple tenants share one of multiple databases.</span></span> <span data-ttu-id="dff06-174">Um conjunto distinto de locatários recebe tooeach banco de dados usando uma estratégia de particionamento, como hash, o intervalo ou o particionamento de lista.</span><span class="sxs-lookup"><span data-stu-id="dff06-174">A distinct set of tenants is assigned tooeach database by using a partitioning strategy such as hash, range, or list partitioning.</span></span> <span data-ttu-id="dff06-175">Essa estratégia de distribuição de dados geralmente é chamado tooas fragmentação.</span><span class="sxs-lookup"><span data-stu-id="dff06-175">This data distribution strategy often is referred tooas sharding.</span></span>
* <span data-ttu-id="dff06-176">**Banco de dados individuais compartilhados**.</span><span class="sxs-lookup"><span data-stu-id="dff06-176">**Shared database-single**.</span></span> <span data-ttu-id="dff06-177">Um banco de dados único, às vezes grande, contém dados para todos os locatários, sem ambiguidade em uma coluna de ID de locatário.</span><span class="sxs-lookup"><span data-stu-id="dff06-177">A single, sometimes large, database contains data for all tenants, which are disambiguated in a tenant ID column.</span></span>

> [!NOTE]
> <span data-ttu-id="dff06-178">Um desenvolvedor de aplicativos pode escolher tooplace locatários diferentes nos esquemas de banco de dados diferente e use Olá esquema nome toodisambiguate Olá diferentes locatários.</span><span class="sxs-lookup"><span data-stu-id="dff06-178">An application developer might choose tooplace different tenants in different database schemas, and then use hello schema name toodisambiguate hello different tenants.</span></span> <span data-ttu-id="dff06-179">Não recomendamos essa abordagem porque geralmente requer o uso de saudação de SQL dinâmico, e não pode ser eficaz em cache de plano.</span><span class="sxs-lookup"><span data-stu-id="dff06-179">We do not recommend this approach because it usually requires hello use of dynamic SQL, and it can’t be effective in plan caching.</span></span> <span data-ttu-id="dff06-180">Restante Olá deste artigo, vamos nos concentrar na abordagem de tabela Olá compartilhado para essa categoria de aplicativo multilocatário.</span><span class="sxs-lookup"><span data-stu-id="dff06-180">In hello remainder of this article, we focus on hello shared table approach for this category of multi-tenant application.</span></span>
> 
> 

## <a name="popular-multi-tenant-data-models"></a><span data-ttu-id="dff06-181">Modelos populares de dados multilocatários</span><span class="sxs-lookup"><span data-stu-id="dff06-181">Popular multi-tenant data models</span></span>
<span data-ttu-id="dff06-182">É importante tooevaluate Olá diferentes tipos de modelos de dados multilocatário em termos de saudação aplicativo desvantagens do design que nós identificamos.</span><span class="sxs-lookup"><span data-stu-id="dff06-182">It’s important tooevaluate hello different types of multi-tenant data models in terms of hello application design trade-offs we’ve already identified.</span></span> <span data-ttu-id="dff06-183">Esses fatores ajudam caracterizam Olá três modelos de dados de multilocatário mais comuns descritos anteriormente e o uso do banco de dados, conforme mostrado na Figura 2.</span><span class="sxs-lookup"><span data-stu-id="dff06-183">These factors help characterize hello three most common multi-tenant data models described earlier and their database usage as shown in Figure 2.</span></span>

* <span data-ttu-id="dff06-184">**Isolamento**.</span><span class="sxs-lookup"><span data-stu-id="dff06-184">**Isolation**.</span></span> <span data-ttu-id="dff06-185">o grau de isolamento entre locatários Olá pode ser uma medida de quanto isolamento de locatários alcança um modelo de dados.</span><span class="sxs-lookup"><span data-stu-id="dff06-185">hello degree of isolation between tenants can be a measure of how much tenant isolation a data model achieves.</span></span>
* <span data-ttu-id="dff06-186">**Custo de recursos de nuvem**.</span><span class="sxs-lookup"><span data-stu-id="dff06-186">**Cloud resource cost**.</span></span> <span data-ttu-id="dff06-187">quantidade de saudação do compartilhamento de recursos entre locatários pode otimizar o custo de recursos de nuvem.</span><span class="sxs-lookup"><span data-stu-id="dff06-187">hello amount of resource sharing between tenants can optimize cloud resource cost.</span></span> <span data-ttu-id="dff06-188">Um recurso pode ser definido como computação hello e custos de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="dff06-188">A resource can be defined as hello compute and storage cost.</span></span>
* <span data-ttu-id="dff06-189">**Custo de Operações de Desenvolvimento**.</span><span class="sxs-lookup"><span data-stu-id="dff06-189">**DevOps cost**.</span></span> <span data-ttu-id="dff06-190">facilidade de saudação do desenvolvimento de aplicativos, implantação e gerenciamento reduz o custo geral de operação de SaaS.</span><span class="sxs-lookup"><span data-stu-id="dff06-190">hello ease of application development, deployment, and manageability reduces overall SaaS operation cost.</span></span>  

<span data-ttu-id="dff06-191">Na Figura 2, eixo Y da saudação mostra o nível de saudação do isolamento de locatários.</span><span class="sxs-lookup"><span data-stu-id="dff06-191">In Figure 2, hello Y axis shows hello level of tenant isolation.</span></span> <span data-ttu-id="dff06-192">eixo X da saudação mostra o nível de saudação do compartilhamento de recursos.</span><span class="sxs-lookup"><span data-stu-id="dff06-192">hello X axis shows hello level of resource sharing.</span></span> <span data-ttu-id="dff06-193">cinza Hello, diagonal seta no meio de saudação indica direção de saudação do DevOps custos, tende a tooincrease ou diminuir.</span><span class="sxs-lookup"><span data-stu-id="dff06-193">hello gray, diagonal arrow in hello middle indicates hello direction of DevOps costs, tending tooincrease or decrease.</span></span>

![Padrões populares do design de aplicativo multilocatário](./media/sql-database-design-patterns-multi-tenancy-saas-applications/sql-database-popular-application-patterns.png)

<span data-ttu-id="dff06-195">Figura 2: Modelos populares de dados multilocatários</span><span class="sxs-lookup"><span data-stu-id="dff06-195">Figure 2: Popular multi-tenant data models</span></span>

<span data-ttu-id="dff06-196">Olá, quadrante inferior direito na Figura 2 mostra um padrão de aplicativo que usa um potencialmente grande compartilhado único banco de dados e Olá compartilhada tabela (ou um esquema separado) abordagem.</span><span class="sxs-lookup"><span data-stu-id="dff06-196">hello lower-right quadrant in Figure 2 shows an application pattern that uses a potentially large, shared single database, and hello shared table (or separate schema) approach.</span></span> <span data-ttu-id="dff06-197">É recomendável para porque todos os locatários usam Olá mesmos recursos (CPU, memória, entrada/saída) em um único banco de dados do banco de dados de compartilhamento de recursos.</span><span class="sxs-lookup"><span data-stu-id="dff06-197">It's good for resource sharing because all tenants use hello same database resources (CPU, memory, input/output) in a single database.</span></span> <span data-ttu-id="dff06-198">No entanto, o isolamento de locatários é limitado.</span><span class="sxs-lookup"><span data-stu-id="dff06-198">But tenant isolation is limited.</span></span> <span data-ttu-id="dff06-199">Talvez seja necessário locatários do tootake etapas adicionais tooprotect uns dos outros na camada de aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="dff06-199">You might need tootake additional steps tooprotect tenants from each other at hello application layer.</span></span> <span data-ttu-id="dff06-200">Estas etapas adicionais podem aumentar significativamente o custo de DevOps Olá de desenvolvimento e gerenciamento de aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="dff06-200">These additional steps can significantly increase hello DevOps cost of developing and managing hello application.</span></span> <span data-ttu-id="dff06-201">Escalabilidade é limitada pela escala de saudação do hardware Olá que hospeda o banco de dados de saudação.</span><span class="sxs-lookup"><span data-stu-id="dff06-201">Scalability is limited by hello scale of hello hardware that hosts hello database.</span></span>

<span data-ttu-id="dff06-202">quadrante inferior esquerdo de saudação na Figura 2 ilustra vários locatários fragmentados em vários bancos de dados (normalmente, um hardware diferente unidade de escala).</span><span class="sxs-lookup"><span data-stu-id="dff06-202">hello lower-left quadrant in Figure 2 illustrates multiple tenants sharded across multiple databases (typically, different hardware scale units).</span></span> <span data-ttu-id="dff06-203">Cada banco de dados hospeda um subconjunto de locatários, que soluciona Olá problema de escalabilidade de outros padrões.</span><span class="sxs-lookup"><span data-stu-id="dff06-203">Each database hosts a subset of tenants, which addresses hello scalability concern of other patterns.</span></span> <span data-ttu-id="dff06-204">Se mais capacidade é necessária para mais de locatários, você pode colocar facilmente locatários Olá nos novos bancos de dados alocados toonew unidades de escala de hardware.</span><span class="sxs-lookup"><span data-stu-id="dff06-204">If more capacity is required for more tenants, you can easily place hello tenants on new databases allocated toonew hardware scale units.</span></span> <span data-ttu-id="dff06-205">No entanto, a quantidade de saudação do compartilhamento de recursos é reduzida.</span><span class="sxs-lookup"><span data-stu-id="dff06-205">However, hello amount of resource sharing is reduced.</span></span> <span data-ttu-id="dff06-206">Somente para locatários colocados em Olá mesmo unidades de escala compartilham recursos.</span><span class="sxs-lookup"><span data-stu-id="dff06-206">Only tenants placed on hello same scale units share resources.</span></span> <span data-ttu-id="dff06-207">Essa abordagem fornece isolamento de tootenant de aperfeiçoamento pouco porque muitos locatários ainda são colocados sem sendo protegidos automaticamente contra ações uns dos outros.</span><span class="sxs-lookup"><span data-stu-id="dff06-207">This approach provides little improvement tootenant isolation because many tenants are still collocated without being automatically protected from each other’s actions.</span></span> <span data-ttu-id="dff06-208">A complexidade do aplicativo permanece alta.</span><span class="sxs-lookup"><span data-stu-id="dff06-208">Application complexity remains high.</span></span>

<span data-ttu-id="dff06-209">quadrante superior esquerdo de saudação na Figura 2 é abordagem terceira hello.</span><span class="sxs-lookup"><span data-stu-id="dff06-209">hello upper-left quadrant in Figure 2 is hello third approach.</span></span> <span data-ttu-id="dff06-210">Ela coloca cada dado de locatário em seu próprio banco de dados.</span><span class="sxs-lookup"><span data-stu-id="dff06-210">It places each tenant’s data in its own database.</span></span> <span data-ttu-id="dff06-211">Essa abordagem tem ótimas propriedades de isolamento de locatário, mas limita o compartilhamento de recursos quando cada banco de dados tem seus próprios recursos dedicados.</span><span class="sxs-lookup"><span data-stu-id="dff06-211">This approach has good tenant-isolation properties but limits resource sharing when each database has its own dedicated resources.</span></span> <span data-ttu-id="dff06-212">Essa será uma abordagem boa se todos os locatários tiverem cargas de trabalho previsíveis.</span><span class="sxs-lookup"><span data-stu-id="dff06-212">This approach is good if all tenants have predictable workloads.</span></span> <span data-ttu-id="dff06-213">Se as cargas de trabalho de locatário se tornam menos previsíveis, provedor Olá não pode otimizar o compartilhamento de recursos.</span><span class="sxs-lookup"><span data-stu-id="dff06-213">If tenant workloads become less predictable, hello provider cannot optimize resource sharing.</span></span> <span data-ttu-id="dff06-214">Falta de previsibilidade é comum para aplicativos SaaS.</span><span class="sxs-lookup"><span data-stu-id="dff06-214">Unpredictability is common for SaaS applications.</span></span> <span data-ttu-id="dff06-215">provedor de saudação ou deve ter um provisionamento toomeet demandas ou recursos inferiores.</span><span class="sxs-lookup"><span data-stu-id="dff06-215">hello provider must either over-provision toomeet demands or lower resources.</span></span> <span data-ttu-id="dff06-216">Qualquer ação resultará em custos mais elevados ou diminuirá a satisfação do locatário.</span><span class="sxs-lookup"><span data-stu-id="dff06-216">Either action results in either higher costs or lower tenant satisfaction.</span></span> <span data-ttu-id="dff06-217">Um grau maior de recursos de compartilhamento entre locatários se torna a solução de saudação toomake desejável mais econômica.</span><span class="sxs-lookup"><span data-stu-id="dff06-217">A higher degree of resource sharing across tenants becomes desirable toomake hello solution more cost-effective.</span></span> <span data-ttu-id="dff06-218">Número crescente de saudação de bancos de dados também aumenta DevOps custo toodeploy e manter o aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="dff06-218">Increasing hello number of databases also increases DevOps cost toodeploy and maintain hello application.</span></span> <span data-ttu-id="dff06-219">Apesar dessas questões, esse método fornece isolamento de melhor e mais fácil de saudação para locatários.</span><span class="sxs-lookup"><span data-stu-id="dff06-219">Despite these concerns, this method provides hello best and easiest isolation for tenants.</span></span>

<span data-ttu-id="dff06-220">Esses fatores influenciam também padrão de design de saudação que um cliente escolher:</span><span class="sxs-lookup"><span data-stu-id="dff06-220">These factors also influence hello design pattern a customer chooses:</span></span>

* <span data-ttu-id="dff06-221">**Propriedade dos dados de locatário**.</span><span class="sxs-lookup"><span data-stu-id="dff06-221">**Ownership of tenant data**.</span></span> <span data-ttu-id="dff06-222">Um aplicativo no qual inquilinos mantém a propriedade de seus próprios dados favorece padrão de saudação de um único banco de dados por locatário.</span><span class="sxs-lookup"><span data-stu-id="dff06-222">An application in which tenants retain ownership of their own data favors hello pattern of a single database per tenant.</span></span>
* <span data-ttu-id="dff06-223">**Escala**.</span><span class="sxs-lookup"><span data-stu-id="dff06-223">**Scale**.</span></span> <span data-ttu-id="dff06-224">Um aplicativo que se destina a centenas de milhares ou milhões de locatários favorece abordagens de compartilhamento de banco de dados, como a fragmentação.</span><span class="sxs-lookup"><span data-stu-id="dff06-224">An application that targets hundreds of thousands or millions of tenants favors database sharing approaches such as sharding.</span></span> <span data-ttu-id="dff06-225">Os requisitos de isolamento ainda podem apresentar desafios.</span><span class="sxs-lookup"><span data-stu-id="dff06-225">Isolation requirements still can pose challenges.</span></span>
* <span data-ttu-id="dff06-226">**Modelo de negócios e valor**.</span><span class="sxs-lookup"><span data-stu-id="dff06-226">**Value and business model**.</span></span> <span data-ttu-id="dff06-227">Se a receita por locatário de um aplicativo for pequena (menos de um dólar), os requisitos de isolamento se tornarão menos essenciais e o banco de dados compartilhado fará sentido.</span><span class="sxs-lookup"><span data-stu-id="dff06-227">If an application’s per-tenant revenue if small (less than a dollar), isolation requirements become less critical and a shared database makes sense.</span></span> <span data-ttu-id="dff06-228">Se a receita por locatário for de alguns dólares ou mais, um modelo de banco de dados por locatário será mais viável.</span><span class="sxs-lookup"><span data-stu-id="dff06-228">If per-tenant revenue is a few dollars or more, a database-per-tenant model is more feasible.</span></span> <span data-ttu-id="dff06-229">Ele poderá ajudar a reduzir os custos de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="dff06-229">It might help reduce development costs.</span></span>

<span data-ttu-id="dff06-230">Um modelo ideal de multilocatário dado Olá desvantagens do design mostradas na Figura 2, precisa de propriedades de isolamento de locatário bom tooincorporate com compartilhamento entre locatários ideal de recursos.</span><span class="sxs-lookup"><span data-stu-id="dff06-230">Given hello design trade-offs shown in Figure 2, an ideal multi-tenant model needs tooincorporate good tenant isolation properties with optimal resource sharing among tenants.</span></span> <span data-ttu-id="dff06-231">Esse modelo se ajusta a categoria de saudação descrita no quadrante de superior direito da saudação da Figura 2.</span><span class="sxs-lookup"><span data-stu-id="dff06-231">This model fits in hello category described in hello upper-right quadrant of Figure 2.</span></span>

## <a name="multi-tenancy-support-in-azure-sql-database"></a><span data-ttu-id="dff06-232">Suporte a multilocação no Banco de Dados SQL do Azure</span><span class="sxs-lookup"><span data-stu-id="dff06-232">Multi-tenancy support in Azure SQL Database</span></span>
<span data-ttu-id="dff06-233">O Banco de Dados SQL do Azure oferece suporte a todos os padrões de aplicativos multilocatários descritos na Figura 2.</span><span class="sxs-lookup"><span data-stu-id="dff06-233">Azure SQL Database supports all multi-tenant application patterns outlined in Figure 2.</span></span> <span data-ttu-id="dff06-234">Com pools Elásticos, ele também dá suporte a um padrão de aplicativo que combina o compartilhamento de recursos boa e benefícios de isolamento de saudação do banco de dados por locatário Olá abordagem (consulte quadrante de superior direito da saudação na Figura 3).</span><span class="sxs-lookup"><span data-stu-id="dff06-234">With elastic pools, it also supports an application pattern that combines good resource sharing and hello isolation benefits of hello database-per-tenant approach (see hello upper-right quadrant in Figure 3).</span></span> <span data-ttu-id="dff06-235">Ferramentas de banco de dados Elástico e recursos no banco de dados SQL ajudam a reduzir Olá custo toodevelop e operar um aplicativo que tem muitos bancos de dados (mostrados na área de saudação sombreada na Figura 3).</span><span class="sxs-lookup"><span data-stu-id="dff06-235">Elastic database tools and capabilities in SQL Database help reduce hello cost toodevelop and operate an application that has many databases (shown in hello shaded area in Figure 3).</span></span> <span data-ttu-id="dff06-236">Essas ferramentas podem ajudá-lo a criar e gerenciar aplicativos que usam qualquer um dos padrões de vários bancos de dados de saudação.</span><span class="sxs-lookup"><span data-stu-id="dff06-236">These tools can help you build and manage applications that use any of hello multi-database patterns.</span></span>

![Padrões no Banco de Dados SQL Azure](./media/sql-database-design-patterns-multi-tenancy-saas-applications/sql-database-patterns-sqldb.png)

<span data-ttu-id="dff06-238">Figura 3: Padrões de aplicativos multilocatários no Banco de Dados SQL do Azure</span><span class="sxs-lookup"><span data-stu-id="dff06-238">Figure 3: Multi-tenant application patterns in Azure SQL Database</span></span>

## <a name="database-per-tenant-model-with-elastic-pools-and-tools"></a><span data-ttu-id="dff06-239">Modelo de banco de dados por locatário com ferramentas e pools elásticos</span><span class="sxs-lookup"><span data-stu-id="dff06-239">Database-per-tenant model with elastic pools and tools</span></span>
<span data-ttu-id="dff06-240">Pools Elásticos no banco de dados SQL combinam o isolamento de locatários com recurso de compartilhamento entre o método de banco de dados por locatário locatário bancos de dados toobetter suporte hello.</span><span class="sxs-lookup"><span data-stu-id="dff06-240">Elastic pools in SQL Database combine tenant isolation with resource sharing among tenant databases toobetter support hello database-per-tenant approach.</span></span> <span data-ttu-id="dff06-241">O Banco de Dados SQL é uma solução de camada de dados para provedores de SaaS que compilam aplicativos multilocatários.</span><span class="sxs-lookup"><span data-stu-id="dff06-241">SQL Database is a data tier solution for SaaS providers who build multi-tenant applications.</span></span> <span data-ttu-id="dff06-242">sobrecarga de saudação do recurso de compartilhamento entre locatários desloca da camada de serviço Olá aplicativos camada toohello banco de dados.</span><span class="sxs-lookup"><span data-stu-id="dff06-242">hello burden of resource sharing among tenants shifts from hello application layer toohello database service layer.</span></span> <span data-ttu-id="dff06-243">complexidade de saudação do gerenciamento e consultar em grande escala em bancos de dados é simplificada com trabalhos Elásticos, consulta elástica, transações Elásticos e biblioteca de cliente do banco de dados Elástico hello.</span><span class="sxs-lookup"><span data-stu-id="dff06-243">hello complexity of managing and querying at scale across databases is simplified with elastic jobs, elastic query, elastic transactions, and hello elastic database client library.</span></span>

| <span data-ttu-id="dff06-244">Requisitos do aplicativo</span><span class="sxs-lookup"><span data-stu-id="dff06-244">Application requirements</span></span> | <span data-ttu-id="dff06-245">Recursos de Banco de Dados SQL</span><span class="sxs-lookup"><span data-stu-id="dff06-245">SQL database capabilities</span></span> |
| --- | --- |
| <span data-ttu-id="dff06-246">Isolamento de locatários e compartilhamento de recursos</span><span class="sxs-lookup"><span data-stu-id="dff06-246">Tenant isolation and resource sharing</span></span> |<span data-ttu-id="dff06-247">[Pools Elásticos](sql-database-elastic-pool.md): alocar um pool de recursos de banco de dados SQL e compartilhamento de recursos de saudação entre vários bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="dff06-247">[Elastic pools](sql-database-elastic-pool.md): Allocate a pool of SQL Database resources and share hello resources across various databases.</span></span> <span data-ttu-id="dff06-248">Além disso, bancos de dados individuais podem extrair os mesmos recursos de pool de hello como picos de demanda de capacidade necessária tooaccommodate toochanges vencimento em cargas de trabalho de locatário.</span><span class="sxs-lookup"><span data-stu-id="dff06-248">Also, individual databases can draw as much resources from hello pool as needed tooaccommodate capacity demand spikes due toochanges in tenant workloads.</span></span> <span data-ttu-id="dff06-249">pool Elástico de saudação em si pode ser dimensionado para cima ou para baixo conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="dff06-249">hello elastic pool itself can be scaled up or down as needed.</span></span> <span data-ttu-id="dff06-250">Pools Elásticos também fornecem a facilidade de gerenciamento e monitoramento e solução de problemas no nível do pool de saudação.</span><span class="sxs-lookup"><span data-stu-id="dff06-250">Elastic pools also provide ease of manageability and monitoring and troubleshooting at hello pool level.</span></span> |
| <span data-ttu-id="dff06-251">Facilidade de DevOps em bancos de dados</span><span class="sxs-lookup"><span data-stu-id="dff06-251">Ease of DevOps across databases</span></span> |<span data-ttu-id="dff06-252">[Pools elásticos](sql-database-elastic-pool.md): conforme mencionado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="dff06-252">[Elastic pools](sql-database-elastic-pool.md): As noted earlier.</span></span> |
| | <span data-ttu-id="dff06-253">[Consulta elástica:](sql-database-elastic-query-horizontal-partitioning.md)consulta relatórios ou análises entre locatários nos bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="dff06-253">[Elastic query](sql-database-elastic-query-horizontal-partitioning.md): Query across databases for reporting or cross-tenant analysis.</span></span> |
| | <span data-ttu-id="dff06-254">[Trabalhos Elásticos](sql-database-elastic-jobs-overview.md): pacote e implantar com confiança as operações de manutenção de banco de dados ou bancos de dados toomultiple de alterações de esquema de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="dff06-254">[Elastic jobs](sql-database-elastic-jobs-overview.md): Package and reliably deploy database maintenance operations or database schema changes toomultiple databases.</span></span> |
| | <span data-ttu-id="dff06-255">[Transações Elásticos](sql-database-elastic-transactions-overview.md): processo tooseveral bancos de dados é alterado de forma atômica e isolada.</span><span class="sxs-lookup"><span data-stu-id="dff06-255">[Elastic transactions](sql-database-elastic-transactions-overview.md): Process changes tooseveral databases in an atomic and isolated way.</span></span> <span data-ttu-id="dff06-256">Transações elásticas são necessárias quando os aplicativos precisam de garantias de "tudo ou nada" sobre várias operações de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="dff06-256">Elastic transactions are needed when applications need “all or nothing” guarantees over several database operations.</span></span> |
| | <span data-ttu-id="dff06-257">[Biblioteca de cliente do banco de dados Elástico](sql-database-elastic-database-client-library.md): gerenciar as distribuições de dados e toodatabases de locatários do mapa.</span><span class="sxs-lookup"><span data-stu-id="dff06-257">[Elastic database client library](sql-database-elastic-database-client-library.md): Manage data distributions and map tenants toodatabases.</span></span> |

## <a name="shared-models"></a><span data-ttu-id="dff06-258">Modelos compartilhados</span><span class="sxs-lookup"><span data-stu-id="dff06-258">Shared models</span></span>
<span data-ttu-id="dff06-259">Conforme descrito anteriormente, para a maioria dos provedores de SaaS, uma abordagem de modelo compartilhado pode apresentar problemas com questões de isolamento de locatário e complexidades de desenvolvimento e manutenção do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="dff06-259">As described earlier, for most SaaS providers, a shared model approach might pose problems with tenant isolation issues and complexities with application development and maintenance.</span></span> <span data-ttu-id="dff06-260">No entanto, para aplicativos multilocatários que fornecem um serviço diretamente locatário tooconsumers, requisitos de isolamento podem não ser como uma prioridade alta como minimizar os custos.</span><span class="sxs-lookup"><span data-stu-id="dff06-260">However, for multi-tenant applications that provide a service directly tooconsumers, tenant isolation requirements may not be as high a priority as minimizing cost.</span></span> <span data-ttu-id="dff06-261">Eles podem ser toopack capaz de locatários em um ou mais bancos de dados em um custo de tooreduce de alta densidade.</span><span class="sxs-lookup"><span data-stu-id="dff06-261">They might be able toopack tenants in one or more databases at a high density tooreduce costs.</span></span> <span data-ttu-id="dff06-262">Os modelos de banco de dados compartilhados usando um banco de dados individual ou vários bancos de dados fragmentados podem resultar em uma eficiência adicional no compartilhamento de recursos e na redução do custo geral.</span><span class="sxs-lookup"><span data-stu-id="dff06-262">Shared-database models using a single database or multiple sharded databases might result in additional efficiencies in resource sharing and overall cost.</span></span> <span data-ttu-id="dff06-263">Banco de dados SQL do Azure fornece isolamento de segurança aprimorada e gerenciamento em escala na camada de dados de saudação de compilação de alguns recursos que ajudam os clientes.</span><span class="sxs-lookup"><span data-stu-id="dff06-263">Azure SQL Database provides some features that help customers build isolation for improved security and management at scale in hello data tier.</span></span>

| <span data-ttu-id="dff06-264">Requisitos do aplicativo</span><span class="sxs-lookup"><span data-stu-id="dff06-264">Application requirements</span></span> | <span data-ttu-id="dff06-265">Recursos de Banco de Dados SQL</span><span class="sxs-lookup"><span data-stu-id="dff06-265">SQL database capabilities</span></span> |
| --- | --- |
| <span data-ttu-id="dff06-266">Recursos de isolamento de segurança</span><span class="sxs-lookup"><span data-stu-id="dff06-266">Security isolation features</span></span> |[<span data-ttu-id="dff06-267">Segurança em nível de linha</span><span class="sxs-lookup"><span data-stu-id="dff06-267">Row-level security</span></span>](https://msdn.microsoft.com/library/dn765131.aspx) |
| [<span data-ttu-id="dff06-268">Esquema de banco de dados</span><span class="sxs-lookup"><span data-stu-id="dff06-268">Database schema</span></span>](https://msdn.microsoft.com/library/dd207005.aspx) | |
| <span data-ttu-id="dff06-269">Facilidade de DevOps em bancos de dados</span><span class="sxs-lookup"><span data-stu-id="dff06-269">Ease of DevOps across databases</span></span> |[<span data-ttu-id="dff06-270">Consulta elástica</span><span class="sxs-lookup"><span data-stu-id="dff06-270">Elastic query</span></span>](sql-database-elastic-query-horizontal-partitioning.md) |
| | [<span data-ttu-id="dff06-271">Trabalhos elásticos</span><span class="sxs-lookup"><span data-stu-id="dff06-271">Elastic jobs</span></span>](sql-database-elastic-jobs-overview.md) |
| | [<span data-ttu-id="dff06-272">Transações elásticas</span><span class="sxs-lookup"><span data-stu-id="dff06-272">Elastic transactions</span></span>](sql-database-elastic-transactions-overview.md) |
| | [<span data-ttu-id="dff06-273">Biblioteca de cliente do banco de dados elástico</span><span class="sxs-lookup"><span data-stu-id="dff06-273">Elastic database client library</span></span>](sql-database-elastic-database-client-library.md) |
| | [<span data-ttu-id="dff06-274">Divisão e mesclagem do banco de dados elástico</span><span class="sxs-lookup"><span data-stu-id="dff06-274">Elastic database split and merge</span></span>](sql-database-elastic-scale-overview-split-and-merge.md) |

## <a name="summary"></a><span data-ttu-id="dff06-275">Resumo</span><span class="sxs-lookup"><span data-stu-id="dff06-275">Summary</span></span>
<span data-ttu-id="dff06-276">Os requisitos de isolamento de locatário são importantes para a maioria dos aplicativos SaaS multilocatários.</span><span class="sxs-lookup"><span data-stu-id="dff06-276">Tenant isolation requirements are important for most SaaS multi-tenant applications.</span></span> <span data-ttu-id="dff06-277">isolamento do Hello melhor opção tooprovide apresenta muito em direção à abordagem de banco de dados por locatário hello.</span><span class="sxs-lookup"><span data-stu-id="dff06-277">hello best option tooprovide isolation leans heavily toward hello database-per-tenant approach.</span></span> <span data-ttu-id="dff06-278">Olá, outras duas abordagens requerem investimentos em camadas de aplicativos complexos que exigem isolamento tooprovide da equipe de desenvolvimento habilidoso, que aumenta consideravelmente o custo e o risco.</span><span class="sxs-lookup"><span data-stu-id="dff06-278">hello other two approaches require investments in complex application layers that require skilled development staff tooprovide isolation, which significantly increases cost and risk.</span></span> <span data-ttu-id="dff06-279">Se os requisitos de isolamento não são contabilizados no início do desenvolvimento de serviço hello, aperfeiçoamento-los pode ser ainda mais caro em modelos de dois primeiros hello.</span><span class="sxs-lookup"><span data-stu-id="dff06-279">If isolation requirements are not accounted for early in hello service development, retrofitting them can be even more costly in hello first two models.</span></span> <span data-ttu-id="dff06-280">principais desvantagens de saudação associadas ao modelo de banco de dados por locatário Olá são relacionadas tooincreased custos de recursos de nuvem devido tooreduced compartilhamento e manter e gerenciar vários bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="dff06-280">hello main drawbacks associated with hello database-per-tenant model are related tooincreased cloud resource costs due tooreduced sharing, and maintaining and managing many databases.</span></span> <span data-ttu-id="dff06-281">Os desenvolvedores de aplicativos SaaS muitas vezes têm dificuldades ao fazer essas compensações.</span><span class="sxs-lookup"><span data-stu-id="dff06-281">SaaS application developers often struggle when they make these trade-offs.</span></span>

<span data-ttu-id="dff06-282">Embora as compensações podem ser barreiras principais com a maioria dos provedores de serviço de banco de dados de nuvem, o banco de dados do SQL Azure elimina as barreiras de Olá com seus recursos de banco de dados Elástico e o pool Elástico.</span><span class="sxs-lookup"><span data-stu-id="dff06-282">Although trade-offs might be major barriers with most cloud database service providers, Azure SQL Database eliminates hello barriers with its elastic pool and elastic database capabilities.</span></span> <span data-ttu-id="dff06-283">Os desenvolvedores de SaaS podem combinar as características de isolamento de saudação de um modelo de banco de dados por locatário e otimizar melhorias de gerenciamento de compartilhamento e hello de recurso de vários bancos de dados por meio de pools Elásticos e ferramentas associadas.</span><span class="sxs-lookup"><span data-stu-id="dff06-283">SaaS developers can combine hello isolation characteristics of a database-per-tenant model and optimize resource sharing and hello manageability improvements of many databases by using elastic pools and associated tools.</span></span>

<span data-ttu-id="dff06-284">Provedores de aplicativos multilocatários que não têm requisitos de isolamento de locatário e são capazes de empacotar locatários em banco de dados em uma densidade alta podem considerar que os modelos de dados compartilhados resultam em eficiência adicional no compartilhamento de recursos e na redução do custo geral.</span><span class="sxs-lookup"><span data-stu-id="dff06-284">Multi-tenant application providers who have no tenant isolation requirements and who can pack tenants in a database at a high density might find that shared data models result in additional efficiency in resource sharing and reduce overall cost.</span></span> <span data-ttu-id="dff06-285">As ferramentas de banco de dados elástico do Banco de Dados SQL do Azure, as bibliotecas de fragmentação e os recursos de segurança ajudam os provedores de SaaS a criar e gerenciar esses aplicativos multilocatários.</span><span class="sxs-lookup"><span data-stu-id="dff06-285">Azure SQL Database elastic database tools, sharding libraries, and security features help SaaS providers build and manage multi-tenant applications.</span></span>

## <a name="next-steps"></a><span data-ttu-id="dff06-286">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="dff06-286">Next steps</span></span>
<span data-ttu-id="dff06-287">[Introdução às ferramentas de banco de dados Elástico](sql-database-elastic-scale-get-started.md) com um aplicativo de exemplo que demonstra a biblioteca de saudação do cliente.</span><span class="sxs-lookup"><span data-stu-id="dff06-287">[Get started with elastic database tools](sql-database-elastic-scale-get-started.md) with a sample app that demonstrates hello client library.</span></span>

<span data-ttu-id="dff06-288">Crie um [painel personalizado do pool elástico para SaaS](https://github.com/Microsoft/sql-server-samples/tree/master/samples/manage/azure-sql-db-elastic-pools-custom-dashboard) com um aplicativo de exemplo que usa pools elásticos para uma solução de banco de dados econômica e escalonável.</span><span class="sxs-lookup"><span data-stu-id="dff06-288">Create an [elastic pool custom dashboard for SaaS](https://github.com/Microsoft/sql-server-samples/tree/master/samples/manage/azure-sql-db-elastic-pools-custom-dashboard) with a sample app that uses elastic pools for a cost-effective, scalable database solution.</span></span>

<span data-ttu-id="dff06-289">Usar as ferramentas de banco de dados SQL do hello muito[migrar tooscale de bancos de dados existente out](sql-database-elastic-convert-to-use-elastic-tools.md).</span><span class="sxs-lookup"><span data-stu-id="dff06-289">Use hello Azure SQL Database tools too[migrate existing databases tooscale out](sql-database-elastic-convert-to-use-elastic-tools.md).</span></span>

<span data-ttu-id="dff06-290">toocreate usando um pool Elástico hello Azure portal, consulte [criar um pool Elástico](sql-database-elastic-pool-manage-portal.md).</span><span class="sxs-lookup"><span data-stu-id="dff06-290">toocreate an elastic pool using hello Azure portal, see [create an elastic pool](sql-database-elastic-pool-manage-portal.md).</span></span>  

<span data-ttu-id="dff06-291">Saiba como muito[monitorar e gerenciar um pool Elástico](sql-database-elastic-pool-manage-portal.md).</span><span class="sxs-lookup"><span data-stu-id="dff06-291">Learn how too[monitor and manage an elastic pool](sql-database-elastic-pool-manage-portal.md).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="dff06-292">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="dff06-292">Additional resources</span></span>

* [<span data-ttu-id="dff06-293">Implantar e explorar um aplicativo multilocatário que usa o Banco de dados SQL do Azure - Wingtip SaaS</span><span class="sxs-lookup"><span data-stu-id="dff06-293">Deploy and explore a multi-tenant application that uses Azure SQL Database - Wingtip SaaS</span></span>](sql-database-saas-tutorial.md)
* [<span data-ttu-id="dff06-294">O que é um pool elástico do Azure?</span><span class="sxs-lookup"><span data-stu-id="dff06-294">What is an Azure elastic pool?</span></span>](sql-database-elastic-pool.md)
* [<span data-ttu-id="dff06-295">Escalando horizontalmente com o Banco de Dados SQL do Azure</span><span class="sxs-lookup"><span data-stu-id="dff06-295">Scaling out with Azure SQL Database</span></span>](sql-database-elastic-scale-introduction.md)
* [<span data-ttu-id="dff06-296">Aplicativos multilocatários com ferramentas de banco de dados elástico e segurança em nível de linha</span><span class="sxs-lookup"><span data-stu-id="dff06-296">multi-tenant applications with elastic database tools and row-level security</span></span>](sql-database-elastic-tools-multi-tenant-row-level-security.md)
* [<span data-ttu-id="dff06-297">Autenticação em aplicativos multilocatários usando o Azure Active Directory e o OpenID Connect</span><span class="sxs-lookup"><span data-stu-id="dff06-297">Authentication in multi-tenant apps by using Azure Active Directory and OpenID Connect</span></span>](../guidance/guidance-multitenant-identity-authenticate.md)
* [<span data-ttu-id="dff06-298">Aplicativo Tailspin Surveys</span><span class="sxs-lookup"><span data-stu-id="dff06-298">Tailspin Surveys application</span></span>](../guidance/guidance-multitenant-identity-tailspin.md)


## <a name="questions-and-feature-requests"></a><span data-ttu-id="dff06-299">Perguntas e solicitações de recursos</span><span class="sxs-lookup"><span data-stu-id="dff06-299">Questions and feature requests</span></span>

<span data-ttu-id="dff06-300">Para perguntas, encontre-nos em Olá [Fórum do banco de dados SQL](http://social.msdn.microsoft.com/forums/azure/home?forum=ssdsgetstarted).</span><span class="sxs-lookup"><span data-stu-id="dff06-300">For questions, find us in hello [SQL Database forum](http://social.msdn.microsoft.com/forums/azure/home?forum=ssdsgetstarted).</span></span> <span data-ttu-id="dff06-301">Adicionar uma solicitação de recurso no hello [Fórum de comentários do banco de dados SQL](https://feedback.azure.com/forums/217321-sql-database/).</span><span class="sxs-lookup"><span data-stu-id="dff06-301">Add a feature request in hello [SQL Database feedback forum](https://feedback.azure.com/forums/217321-sql-database/).</span></span>

