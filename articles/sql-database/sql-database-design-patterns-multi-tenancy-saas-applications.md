---
title: "Padrões de design para aplicativos SaaS multilocatários e o Banco de Dados SQL do Azure | Microsoft Docs"
description: "Este artigo aborda os requisitos e padrões de arquitetura de dados comuns que aplicativos de banco de dados multilocatários em execução em um ambiente de nuvem precisam considerar e as várias compensações associadas a esses padrões. Ele também explica como o Banco de Dados SQL do Azure com seus pools elásticos e suas ferramentas elásticas ajudam a atender a esses requisitos sem comprometimento."
keywords: 
services: sql-database
documentationcenter: 
author: srinia
manager: jhubbard
editor: 
ms.assetid: 1dd20c6b-ddbb-40ef-ad34-609d398d008a
ms.service: sql-database
ms.custom: scale out apps
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: sqldb-design
ms.date: 02/01/2017
ms.author: srinia
ms.openlocfilehash: 0f6ba62a01f3211ccaae6b6c48f72e0de54aad78
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="design-patterns-for-multi-tenant-saas-applications-and-azure-sql-database"></a><span data-ttu-id="4600a-104">Padrões de design para aplicativos SaaS multilocatários e o Banco de Dados SQL do Azure</span><span class="sxs-lookup"><span data-stu-id="4600a-104">Design patterns for multi-tenant SaaS applications and Azure SQL Database</span></span>
<span data-ttu-id="4600a-105">Neste artigo, você pode aprender sobre os requisitos e padrões comuns de arquitetura de dados de aplicativos de banco de dados SaaS (software como serviço) multilocatários em execução em um ambiente de nuvem.</span><span class="sxs-lookup"><span data-stu-id="4600a-105">In this article, you can learn about the requirements and common data architecture patterns of multi-tenant software as a service (SaaS) database applications that run in a cloud environment.</span></span> <span data-ttu-id="4600a-106">Ele também explica os fatores que você precisa considerar e as compensações dos diferentes padrões de design.</span><span class="sxs-lookup"><span data-stu-id="4600a-106">It also explains the factors you need to consider and the trade-offs of different design patterns.</span></span> <span data-ttu-id="4600a-107">O pool elástico e as ferramentas elásticas no Banco de Dados SQL podem ajudar você a atender os requisitos específicos sem comprometer outros objetivos.</span><span class="sxs-lookup"><span data-stu-id="4600a-107">Elastic pools and elastic tools in Azure SQL Database can help you meet your specific requirements without compromising other objectives.</span></span>

<span data-ttu-id="4600a-108">Os desenvolvedores, às vezes, fazem escolhas que funcionam para seus interesses de longo prazo ao criar modelos de locatário para as camadas de dados de aplicativos multilocatários.</span><span class="sxs-lookup"><span data-stu-id="4600a-108">Developers sometimes make choices that work against their long-term best interests when they design tenancy models for the data tiers of multi-tenant applications.</span></span> <span data-ttu-id="4600a-109">Pelo menos inicialmente, o desenvolvedor poderá perceber uma facilidade de desenvolvimento e um provedor de serviço de nuvem de menor custo como mais importantes do que o isolamento de locatário ou a escalabilidade de um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="4600a-109">Initially, at least, a developer might perceive ease of development and lower cloud service provider costs as more important than tenant isolation or the scalability of an application.</span></span> <span data-ttu-id="4600a-110">Essa escolha pode levar a preocupações de satisfação do cliente e uma posterior correção de curso dispendiosa.</span><span class="sxs-lookup"><span data-stu-id="4600a-110">This choice can lead to customer satisfaction concerns and a costly course-correction later.</span></span>

<span data-ttu-id="4600a-111">Um aplicativo multilocatário é um aplicativo hospedado em um ambiente de nuvem e fornece o mesmo conjunto de serviços para centenas ou milhares de locatários que não compartilham ou veem os dados uns dos outros.</span><span class="sxs-lookup"><span data-stu-id="4600a-111">A multi-tenant application is an application hosted in a cloud environment and that provides the same set of services to hundreds or thousands of tenants who do not share or see each other’s data.</span></span> <span data-ttu-id="4600a-112">Um exemplo é um aplicativo SaaS que fornece serviços para locatários em um ambiente hospedado em nuvem.</span><span class="sxs-lookup"><span data-stu-id="4600a-112">An example is an SaaS application that provides services to tenants in a cloud-hosted environment.</span></span>

## <a name="multi-tenant-applications"></a><span data-ttu-id="4600a-113">Aplicativos multilocatários</span><span class="sxs-lookup"><span data-stu-id="4600a-113">Multi-tenant applications</span></span>
<span data-ttu-id="4600a-114">Em aplicativos multilocatários, os dados e a carga de trabalho podem ser facilmente particionados.</span><span class="sxs-lookup"><span data-stu-id="4600a-114">In multi-tenant applications, data and workload can be easily partitioned.</span></span> <span data-ttu-id="4600a-115">Você pode particionar dados e a carga de trabalho, por exemplo, com limites de locatário, porque a maioria das solicitações ocorrem dentro dos limites de um locatário.</span><span class="sxs-lookup"><span data-stu-id="4600a-115">You can partition data and workload, for example, along tenant boundaries, because most requests occur within the confines of a tenant.</span></span> <span data-ttu-id="4600a-116">Essa propriedade é inerente aos dados e à carga de trabalho e favorece os padrões de aplicativos discutidos neste artigo.</span><span class="sxs-lookup"><span data-stu-id="4600a-116">That property is inherent in the data and the workload, and it favors the application patterns discussed in this article.</span></span>

<span data-ttu-id="4600a-117">Os desenvolvedores usam este tipo de aplicativos distribuídos em todo o espectro de aplicativos baseados em nuvem, incluindo:</span><span class="sxs-lookup"><span data-stu-id="4600a-117">Developers use this type of application across the whole spectrum of cloud-based applications, including:</span></span>

* <span data-ttu-id="4600a-118">Aplicativos de banco de dados de parceiros que estão migrados para a nuvem como aplicativos SaaS</span><span class="sxs-lookup"><span data-stu-id="4600a-118">Partner database applications that are being transitioned to the cloud as SaaS applications</span></span>
* <span data-ttu-id="4600a-119">Aplicativos SaaS compilados para a nuvem desde o princípio</span><span class="sxs-lookup"><span data-stu-id="4600a-119">SaaS applications built for the cloud from the ground up</span></span>
* <span data-ttu-id="4600a-120">Aplicativos diretos voltados para o cliente</span><span class="sxs-lookup"><span data-stu-id="4600a-120">Direct, customer-facing applications</span></span>
* <span data-ttu-id="4600a-121">Aplicativos empresariais voltados para funcionários</span><span class="sxs-lookup"><span data-stu-id="4600a-121">Employee-facing enterprise applications</span></span>

<span data-ttu-id="4600a-122">Aplicativos SaaS que são projetados para a nuvem e aqueles com raízes como aplicativos de banco de dados de parceiros normalmente serão aplicativos multilocatários.</span><span class="sxs-lookup"><span data-stu-id="4600a-122">SaaS applications that are designed for the cloud and those with roots as partner database applications typically are multi-tenant applications.</span></span> <span data-ttu-id="4600a-123">Esses aplicativos SaaS entregam um aplicativo de software especializado, como um serviço para seus locatários.</span><span class="sxs-lookup"><span data-stu-id="4600a-123">These SaaS applications deliver a specialized software application as a service to their tenants.</span></span> <span data-ttu-id="4600a-124">Os locatários podem acessar o serviço de aplicativo e ter propriedade completa dos dados associados armazenados como parte do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="4600a-124">Tenants can access the application service and have full ownership of associated data stored as part of the application.</span></span> <span data-ttu-id="4600a-125">Mas, para aproveitar os benefícios de SaaS, os locatários devem ceder algum controle sobre seus próprios dados.</span><span class="sxs-lookup"><span data-stu-id="4600a-125">But to take advantage of the benefits of SaaS, tenants must surrender some control over their own data.</span></span> <span data-ttu-id="4600a-126">Eles confiam no provedor de serviços SaaS para manter seus dados seguros e isolados de dados de outros locatários.</span><span class="sxs-lookup"><span data-stu-id="4600a-126">They trust the SaaS service provider to keep their data safe and isolated from other tenants’ data.</span></span> <span data-ttu-id="4600a-127">MYOB, SnelStart e Salesforce.com são exemplos desse tipo de aplicativo SaaS multilocatário.</span><span class="sxs-lookup"><span data-stu-id="4600a-127">Examples of this kind of multi-tenant SaaS application are MYOB, SnelStart, and Salesforce.com.</span></span> <span data-ttu-id="4600a-128">Cada um desses aplicativos pode ser particionado por limites de locatário e oferecer suporte aos padrões de design de aplicativo discutidos neste artigo.</span><span class="sxs-lookup"><span data-stu-id="4600a-128">Each of these applications can be partitioned along tenant boundaries and support the application design patterns we discuss in this article.</span></span>

<span data-ttu-id="4600a-129">Os aplicativos que fornecem um serviço direto a consumidores ou funcionários dentro de uma organização (também conhecidos como usuários, em vez de locatários) são outra categoria no espectro de aplicativos multilocatários.</span><span class="sxs-lookup"><span data-stu-id="4600a-129">Applications that provide a direct service to customers or to employees within an organization (often referred to as users, rather than tenants) are another category on the multi-tenant application spectrum.</span></span> <span data-ttu-id="4600a-130">Os clientes assinam o serviço e não possuem os dados coletados e armazenados pelo provedor de serviços.</span><span class="sxs-lookup"><span data-stu-id="4600a-130">Customers subscribe to the service and do not own the data that the service provider collects and stores.</span></span> <span data-ttu-id="4600a-131">Os provedores de serviços têm requisitos menos rigorosos para manter os dados de seus clientes isolados uns dos outros, além de normas de privacidade determinadas pelo governo.</span><span class="sxs-lookup"><span data-stu-id="4600a-131">Service providers have less stringent requirements to keep their customers’ data isolated from each other beyond government-mandated privacy regulations.</span></span> <span data-ttu-id="4600a-132">Exemplos desse tipo de aplicativo multilocatário voltado para o cliente são provedores de conteúdo de mídia como Netflix, Spotify e Xbox LIVE.</span><span class="sxs-lookup"><span data-stu-id="4600a-132">Examples of this kind of customer-facing multi-tenant application are media content providers like Netflix, Spotify, and Xbox LIVE.</span></span> <span data-ttu-id="4600a-133">Outros exemplos de aplicativos facilmente particionáveis são aplicativos de escala da Internet voltados para clientes ou aplicativos IoT (Internet das Coisas) em que cada cliente ou dispositivo pode servir como uma partição.</span><span class="sxs-lookup"><span data-stu-id="4600a-133">Other examples of easily partitionable applications are customer-facing, Internet-scale applications, or Internet of Things (IoT) applications in which each customer or device can serve as a partition.</span></span> <span data-ttu-id="4600a-134">Limites de partição podem separar usuários e dispositivos.</span><span class="sxs-lookup"><span data-stu-id="4600a-134">Partition boundaries can separate users and devices.</span></span>

<span data-ttu-id="4600a-135">Nem todos os aplicativos são particionados facilmente com uma única propriedade, como o locatário, cliente, usuário ou dispositivo.</span><span class="sxs-lookup"><span data-stu-id="4600a-135">Not all applications partition easily along a single property such as tenant, customer, user, or device.</span></span> <span data-ttu-id="4600a-136">Um aplicativo de ERP (planejamento de recursos da empresa) complexo, por exemplo, tem produtos, pedidos e clientes.</span><span class="sxs-lookup"><span data-stu-id="4600a-136">A complex enterprise resource planning (ERP) application, for example, has products, orders, and customers.</span></span> <span data-ttu-id="4600a-137">Ele normalmente tem um esquema complexo com milhares de tabelas altamente interconectadas.</span><span class="sxs-lookup"><span data-stu-id="4600a-137">It usually has a complex schema with thousands of highly interconnected tables.</span></span>

<span data-ttu-id="4600a-138">Nenhuma estratégia de partição única poderá ser aplicada a todas as tabelas e funcionar na carga de trabalho do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="4600a-138">No single partition strategy can apply to all tables and work across an application's workload.</span></span> <span data-ttu-id="4600a-139">Este artigo se concentra em aplicativos multilocatários que possuem dados e cargas de trabalho facilmente particionáveis.</span><span class="sxs-lookup"><span data-stu-id="4600a-139">This article focuses on multi-tenant applications that have easily partitionable data and workloads.</span></span>

## <a name="multi-tenant-application-design-trade-offs"></a><span data-ttu-id="4600a-140">Compensações do design de aplicativo multilocatário</span><span class="sxs-lookup"><span data-stu-id="4600a-140">Multi-tenant application design trade-offs</span></span>
<span data-ttu-id="4600a-141">O padrão de design que um desenvolvedor de aplicativos multilocatários escolhe normalmente é baseado em uma consideração dos seguintes fatores:</span><span class="sxs-lookup"><span data-stu-id="4600a-141">The design pattern that a multi-tenant application developer chooses typically is based on a consideration of the following factors:</span></span>

* <span data-ttu-id="4600a-142">**Isolamento de locatário**.</span><span class="sxs-lookup"><span data-stu-id="4600a-142">**Tenant isolation**.</span></span> <span data-ttu-id="4600a-143">O desenvolvedor precisa garantir que nenhum locatário tenha acesso indesejado aos dados de outros locatários.</span><span class="sxs-lookup"><span data-stu-id="4600a-143">The developer needs to ensure that no tenant has unwanted access to other tenants’ data.</span></span> <span data-ttu-id="4600a-144">O requisito de isolamento se estende a outras propriedades, como o fornecimento de proteção contra vizinhos barulhentos, sendo capaz de restaurar dados de um determinado locatário e implementar personalizações específicas de locatário.</span><span class="sxs-lookup"><span data-stu-id="4600a-144">The isolation requirement extends to other properties, such as providing protection from noisy neighbors, being able to restore a tenant’s data, and implementing tenant-specific customizations.</span></span>
* <span data-ttu-id="4600a-145">**Custo de recursos de nuvem**.</span><span class="sxs-lookup"><span data-stu-id="4600a-145">**Cloud resource cost**.</span></span> <span data-ttu-id="4600a-146">Um aplicativo SaaS precisa ter um custo competitivo.</span><span class="sxs-lookup"><span data-stu-id="4600a-146">An SaaS application needs to be cost-competitive.</span></span> <span data-ttu-id="4600a-147">Um desenvolvedor de aplicativos multilocatários pode optar por otimizar para custos mais reduzidos no uso de recursos de nuvem, como os custos de armazenamento e de computação.</span><span class="sxs-lookup"><span data-stu-id="4600a-147">A multi-tenant application developer might choose to optimize for lower cost in the use of cloud resources, such as storage and compute costs.</span></span>
* <span data-ttu-id="4600a-148">**Facilidade de Operações de Desenvolvimento**.</span><span class="sxs-lookup"><span data-stu-id="4600a-148">**Ease of DevOps**.</span></span> <span data-ttu-id="4600a-149">Um desenvolvedor de aplicativos multilocatários precisa incorporar a proteção de isolamento, manter e monitorar a integridade do esquema de seus aplicativos e banco de dados e solucionar problemas de locatários.</span><span class="sxs-lookup"><span data-stu-id="4600a-149">A multi-tenant application developer needs to incorporate isolation protection, maintain, and monitor the health of their application and database schema, and troubleshoot tenant issues.</span></span> <span data-ttu-id="4600a-150">A complexidade na operação e no desenvolvimento de aplicativos se traduz diretamente em custos adicionais e a desafios relacionados à satisfação do locatário.</span><span class="sxs-lookup"><span data-stu-id="4600a-150">Complexity in application development and operation translates directly to increased cost and challenges with tenant satisfaction.</span></span>
* <span data-ttu-id="4600a-151">**Escalabilidade**.</span><span class="sxs-lookup"><span data-stu-id="4600a-151">**Scalability**.</span></span> <span data-ttu-id="4600a-152">A capacidade de adicionar incrementalmente mais locatários e a capacidade para locatários que precisam dela é essencial para uma operação de SaaS bem-sucedida.</span><span class="sxs-lookup"><span data-stu-id="4600a-152">The ability to incrementally add more tenants and capacity for tenants who require it is imperative to a successful SaaS operation.</span></span>

<span data-ttu-id="4600a-153">Se forem comparados, cada um desses fatores tem compensações.</span><span class="sxs-lookup"><span data-stu-id="4600a-153">Each of these factors has trade-offs compared to another.</span></span> <span data-ttu-id="4600a-154">A oferta de nuvem de menor custo pode não oferecer a experiência de desenvolvimento mais conveniente.</span><span class="sxs-lookup"><span data-stu-id="4600a-154">The lowest-cost cloud offering might not offer the most convenient development experience.</span></span> <span data-ttu-id="4600a-155">É importante para o desenvolvedor fazer escolhas informadas sobre essas opções e compensações durante o processo de design do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="4600a-155">It’s important for a developer to make informed choices about these options and their trade-offs during the application design process.</span></span>

<span data-ttu-id="4600a-156">Um padrão de desenvolvimento popular é agrupar vários locatários em um ou alguns bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="4600a-156">A popular development pattern is to pack multiple tenants into one or a few databases.</span></span> <span data-ttu-id="4600a-157">Os benefícios dessa abordagem são um custo menor porque você paga por um pequeno número de bancos de dados e a simplicidade relativa do trabalho com um número limitado de bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="4600a-157">The benefits of this approach are a lower cost because you pay for a few databases, and the relative simplicity of working with a limited number of databases.</span></span> <span data-ttu-id="4600a-158">No entanto, ao longo do tempo, um desenvolvedor de aplicativo SaaS multilocatário perceberá que essa opção tem desvantagens significativas no isolamento de locatários e na escalabilidade.</span><span class="sxs-lookup"><span data-stu-id="4600a-158">But over time, a SaaS multi-tenant application developer will realize that this choice has substantial downsides in tenant isolation and scalability.</span></span> <span data-ttu-id="4600a-159">Se o isolamento de locatário se tornar importante, será necessário um esforço adicional para proteger os dados de locatário no armazenamento compartilhado contra acesso não autorizado ou vizinhos com ruídos.</span><span class="sxs-lookup"><span data-stu-id="4600a-159">If tenant isolation becomes important, additional effort is required to protect tenant data in shared storage from unauthorized access or noisy neighbors.</span></span> <span data-ttu-id="4600a-160">Esse esforço adicional pode aumentar significativamente os esforços de desenvolvimento e os custos de manutenção do isolamento.</span><span class="sxs-lookup"><span data-stu-id="4600a-160">This additional effort might significantly boost development efforts and isolation maintenance costs.</span></span> <span data-ttu-id="4600a-161">Da mesma forma, se for necessário adicionar locatários, esse padrão de design normalmente requer conhecimento para redistribuir dados de locatário em bancos de dados para dimensionar corretamente a camada de dados de um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="4600a-161">Similarly, if adding tenants is required, this design pattern typically requires expertise to redistribute tenant data across databases to properly scale the data tier of an application.</span></span>  

<span data-ttu-id="4600a-162">O isolamento de locatários geralmente é um requisito fundamental em aplicativos SaaS multilocatário que atendem às empresas e organizações.</span><span class="sxs-lookup"><span data-stu-id="4600a-162">Tenant isolation often is a fundamental requirement in SaaS multi-tenant applications that cater to businesses and organizations.</span></span> <span data-ttu-id="4600a-163">Os desenvolvedores podem ser tentados para as vantagens percebidas em relação a simplicidade e o custo sobre o isolamento de locatários e a escalabilidade.</span><span class="sxs-lookup"><span data-stu-id="4600a-163">A developer might be tempted by perceived advantages in simplicity and cost over tenant isolation and scalability.</span></span> <span data-ttu-id="4600a-164">Essa compensação pode se provar complexa e cara conforme o serviço cresce e os requisitos de isolamento de locatário se tornam mais importantes e precisam ser gerenciados na camada de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="4600a-164">This trade-off can prove complex and expensive as the service grows and tenant isolation requirements become more important and managed at the application layer.</span></span> <span data-ttu-id="4600a-165">No entanto, para aplicativos multilocatários que fornecem um serviço direto voltado para o cliente, o isolamento de locatários pode ser uma prioridade menor que a otimização de custo de recursos de nuvem.</span><span class="sxs-lookup"><span data-stu-id="4600a-165">However, in multi-tenant applications that provide a direct, consumer-facing service to customers, tenant isolation might be a lower priority than optimizing for cloud resource cost.</span></span>

## <a name="multi-tenant-data-models"></a><span data-ttu-id="4600a-166">Modelos de dados de multilocatário</span><span class="sxs-lookup"><span data-stu-id="4600a-166">Multi-tenant data models</span></span>
<span data-ttu-id="4600a-167">Práticas de design comuns para a colocação de dados de locatário seguem esses três modelos distintos, mostrados na Figura 1.</span><span class="sxs-lookup"><span data-stu-id="4600a-167">Common design practices for placing tenant data follow three distinct models, shown in Figure 1.</span></span>

![Modelos de dados de aplicativo multilocatário](./media/sql-database-design-patterns-multi-tenancy-saas-applications/sql-database-multi-tenant-data-models.png)

<span data-ttu-id="4600a-169">Figura 1: Práticas comuns de design para modelos de dados de multilocatário</span><span class="sxs-lookup"><span data-stu-id="4600a-169">Figure 1: Common design practices for multi-tenant data models</span></span>

* <span data-ttu-id="4600a-170">**Banco de dados por locatário**.</span><span class="sxs-lookup"><span data-stu-id="4600a-170">**Database-per-tenant**.</span></span> <span data-ttu-id="4600a-171">Cada locatário tem seu próprio banco de dados.</span><span class="sxs-lookup"><span data-stu-id="4600a-171">Each tenant has its own database.</span></span> <span data-ttu-id="4600a-172">Todos os dados específicos de locatário estão restritos ao seu banco de dados e isolados de outros locatários e seus dados.</span><span class="sxs-lookup"><span data-stu-id="4600a-172">All tenant-specific data is confined to the tenant’s database and isolated from other tenants and their data.</span></span>
* <span data-ttu-id="4600a-173">**Banco de dados fragmentados compartilhados**.</span><span class="sxs-lookup"><span data-stu-id="4600a-173">**Shared database-sharded**.</span></span> <span data-ttu-id="4600a-174">Vários inquilinos compartilham um de vários bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="4600a-174">Multiple tenants share one of multiple databases.</span></span> <span data-ttu-id="4600a-175">Um conjunto distinto de locatários é atribuído a cada banco de dados usando uma estratégia de particionamento como hash, intervalo ou lista de particionamento.</span><span class="sxs-lookup"><span data-stu-id="4600a-175">A distinct set of tenants is assigned to each database by using a partitioning strategy such as hash, range, or list partitioning.</span></span> <span data-ttu-id="4600a-176">Essa estratégia de distribuição de dados é frequentemente conhecida como fragmentação.</span><span class="sxs-lookup"><span data-stu-id="4600a-176">This data distribution strategy often is referred to as sharding.</span></span>
* <span data-ttu-id="4600a-177">**Banco de dados individuais compartilhados**.</span><span class="sxs-lookup"><span data-stu-id="4600a-177">**Shared database-single**.</span></span> <span data-ttu-id="4600a-178">Um banco de dados único, às vezes grande, contém dados para todos os locatários, sem ambiguidade em uma coluna de ID de locatário.</span><span class="sxs-lookup"><span data-stu-id="4600a-178">A single, sometimes large, database contains data for all tenants, which are disambiguated in a tenant ID column.</span></span>

> [!NOTE]
> <span data-ttu-id="4600a-179">Um desenvolvedor de aplicativos pode optar por colocar locatários diferentes em esquemas de banco de dados diferentes e, em seguida, usar o nome do esquema para remover a ambiguidade de locatários diferentes.</span><span class="sxs-lookup"><span data-stu-id="4600a-179">An application developer might choose to place different tenants in different database schemas, and then use the schema name to disambiguate the different tenants.</span></span> <span data-ttu-id="4600a-180">Não recomendamos essa abordagem porque ela geralmente requer o uso de SQL dinâmico e isso não pode ser eficaz em cache de plano.</span><span class="sxs-lookup"><span data-stu-id="4600a-180">We do not recommend this approach because it usually requires the use of dynamic SQL, and it can’t be effective in plan caching.</span></span> <span data-ttu-id="4600a-181">No restante deste artigo, vamos nos concentrar na abordagem de tabela compartilhada para essa categoria de aplicativo multilocatário.</span><span class="sxs-lookup"><span data-stu-id="4600a-181">In the remainder of this article, we focus on the shared table approach for this category of multi-tenant application.</span></span>
> 
> 

## <a name="popular-multi-tenant-data-models"></a><span data-ttu-id="4600a-182">Modelos populares de dados multilocatários</span><span class="sxs-lookup"><span data-stu-id="4600a-182">Popular multi-tenant data models</span></span>
<span data-ttu-id="4600a-183">É importante avaliar os diferentes tipos de modelos de dados de multilocatários em termos de compensações de design do aplicativo que nós já identificamos.</span><span class="sxs-lookup"><span data-stu-id="4600a-183">It’s important to evaluate the different types of multi-tenant data models in terms of the application design trade-offs we’ve already identified.</span></span> <span data-ttu-id="4600a-184">Esses fatores ajudam a caracterizar os três modelos de dados multilocatários mais comuns descritos anteriormente e o uso do banco de dados, como mostrado na Figura 2.</span><span class="sxs-lookup"><span data-stu-id="4600a-184">These factors help characterize the three most common multi-tenant data models described earlier and their database usage as shown in Figure 2.</span></span>

* <span data-ttu-id="4600a-185">**Isolamento**.</span><span class="sxs-lookup"><span data-stu-id="4600a-185">**Isolation**.</span></span> <span data-ttu-id="4600a-186">O nível de isolamento entre locatários pode ser medido pela quantidade de isolamento de locatário que um modelo de dados alcança.</span><span class="sxs-lookup"><span data-stu-id="4600a-186">The degree of isolation between tenants can be a measure of how much tenant isolation a data model achieves.</span></span>
* <span data-ttu-id="4600a-187">**Custo de recursos de nuvem**.</span><span class="sxs-lookup"><span data-stu-id="4600a-187">**Cloud resource cost**.</span></span> <span data-ttu-id="4600a-188">A quantidade de compartilhamento de recursos entre locatários pode otimizar o custo de recursos de nuvem.</span><span class="sxs-lookup"><span data-stu-id="4600a-188">The amount of resource sharing between tenants can optimize cloud resource cost.</span></span> <span data-ttu-id="4600a-189">Um recurso pode ser definido como o custo de computação e armazenamento.</span><span class="sxs-lookup"><span data-stu-id="4600a-189">A resource can be defined as the compute and storage cost.</span></span>
* <span data-ttu-id="4600a-190">**Custo de Operações de Desenvolvimento**.</span><span class="sxs-lookup"><span data-stu-id="4600a-190">**DevOps cost**.</span></span> <span data-ttu-id="4600a-191">A facilidade de desenvolvimento de aplicativos, implantação e gerenciamento reduz o custo geral de operação de SaaS.</span><span class="sxs-lookup"><span data-stu-id="4600a-191">The ease of application development, deployment, and manageability reduces overall SaaS operation cost.</span></span>  

<span data-ttu-id="4600a-192">Na Figura 2, o eixo Y mostra o nível de isolamento de locatário.</span><span class="sxs-lookup"><span data-stu-id="4600a-192">In Figure 2, the Y axis shows the level of tenant isolation.</span></span> <span data-ttu-id="4600a-193">O eixo X mostra o nível de compartilhamento de recursos.</span><span class="sxs-lookup"><span data-stu-id="4600a-193">The X axis shows the level of resource sharing.</span></span> <span data-ttu-id="4600a-194">A seta diagonal cinza no meio indica a direção dos custos de Operações de Desenvolvimento, que tendem a aumentar ou diminuir.</span><span class="sxs-lookup"><span data-stu-id="4600a-194">The gray, diagonal arrow in the middle indicates the direction of DevOps costs, tending to increase or decrease.</span></span>

![Padrões populares do design de aplicativo multilocatário](./media/sql-database-design-patterns-multi-tenancy-saas-applications/sql-database-popular-application-patterns.png)

<span data-ttu-id="4600a-196">Figura 2: Modelos populares de dados multilocatários</span><span class="sxs-lookup"><span data-stu-id="4600a-196">Figure 2: Popular multi-tenant data models</span></span>

<span data-ttu-id="4600a-197">O quadrante inferior direito na Figura 2 mostra um padrão de aplicativo que usa um banco de dados individual compartilhado potencialmente grande e a abordagem de tabela compartilhada (ou esquema separado).</span><span class="sxs-lookup"><span data-stu-id="4600a-197">The lower-right quadrant in Figure 2 shows an application pattern that uses a potentially large, shared single database, and the shared table (or separate schema) approach.</span></span> <span data-ttu-id="4600a-198">É bom para o compartilhamento de recursos porque todos os locatários usam os mesmos recursos de banco de dados (CPU, memória, entrada/saída) em um banco de dados individual.</span><span class="sxs-lookup"><span data-stu-id="4600a-198">It's good for resource sharing because all tenants use the same database resources (CPU, memory, input/output) in a single database.</span></span> <span data-ttu-id="4600a-199">No entanto, o isolamento de locatários é limitado.</span><span class="sxs-lookup"><span data-stu-id="4600a-199">But tenant isolation is limited.</span></span> <span data-ttu-id="4600a-200">Talvez seja necessário executar etapas adicionais para proteger locatários uns dos outros na camada de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="4600a-200">You might need to take additional steps to protect tenants from each other at the application layer.</span></span> <span data-ttu-id="4600a-201">Essas etapas adicionais podem aumentar significativamente o custo de DevOps do desenvolvimento e gerenciamento de aplicativos.</span><span class="sxs-lookup"><span data-stu-id="4600a-201">These additional steps can significantly increase the DevOps cost of developing and managing the application.</span></span> <span data-ttu-id="4600a-202">A escalabilidade é limitada pela escala do hardware que hospeda o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="4600a-202">Scalability is limited by the scale of the hardware that hosts the database.</span></span>

<span data-ttu-id="4600a-203">O quadrante inferior esquerdo da Figura 2 ilustra vários locatários fragmentados em vários bancos de dados (normalmente, unidades de escala de um outro hardware).</span><span class="sxs-lookup"><span data-stu-id="4600a-203">The lower-left quadrant in Figure 2 illustrates multiple tenants sharded across multiple databases (typically, different hardware scale units).</span></span> <span data-ttu-id="4600a-204">Cada banco de dados hospeda um subconjunto de locatários que lida com problemas de escalabilidade de outros padrões.</span><span class="sxs-lookup"><span data-stu-id="4600a-204">Each database hosts a subset of tenants, which addresses the scalability concern of other patterns.</span></span> <span data-ttu-id="4600a-205">Se mais capacidade for necessária para mais locatários, você pode facilmente colocar os locatários em novos bancos de dados alocados para novas unidades de escala de hardware.</span><span class="sxs-lookup"><span data-stu-id="4600a-205">If more capacity is required for more tenants, you can easily place the tenants on new databases allocated to new hardware scale units.</span></span> <span data-ttu-id="4600a-206">No entanto, a quantidade de compartilhamento de recursos é reduzida.</span><span class="sxs-lookup"><span data-stu-id="4600a-206">However, the amount of resource sharing is reduced.</span></span> <span data-ttu-id="4600a-207">Somente locatários colocados nas mesmas unidades de escala compartilham recursos.</span><span class="sxs-lookup"><span data-stu-id="4600a-207">Only tenants placed on the same scale units share resources.</span></span> <span data-ttu-id="4600a-208">Essa abordagem fornece poucas melhorias ao isolamento de locatários pois ainda vários locatários são colocados em locais sem que sejam protegidos automaticamente contra ações uns dos outros.</span><span class="sxs-lookup"><span data-stu-id="4600a-208">This approach provides little improvement to tenant isolation because many tenants are still collocated without being automatically protected from each other’s actions.</span></span> <span data-ttu-id="4600a-209">A complexidade do aplicativo permanece alta.</span><span class="sxs-lookup"><span data-stu-id="4600a-209">Application complexity remains high.</span></span>

<span data-ttu-id="4600a-210">O quadrante superior esquerdo da Figura 2 é a terceira abordagem.</span><span class="sxs-lookup"><span data-stu-id="4600a-210">The upper-left quadrant in Figure 2 is the third approach.</span></span> <span data-ttu-id="4600a-211">Ela coloca cada dado de locatário em seu próprio banco de dados.</span><span class="sxs-lookup"><span data-stu-id="4600a-211">It places each tenant’s data in its own database.</span></span> <span data-ttu-id="4600a-212">Essa abordagem tem ótimas propriedades de isolamento de locatário, mas limita o compartilhamento de recursos quando cada banco de dados tem seus próprios recursos dedicados.</span><span class="sxs-lookup"><span data-stu-id="4600a-212">This approach has good tenant-isolation properties but limits resource sharing when each database has its own dedicated resources.</span></span> <span data-ttu-id="4600a-213">Essa será uma abordagem boa se todos os locatários tiverem cargas de trabalho previsíveis.</span><span class="sxs-lookup"><span data-stu-id="4600a-213">This approach is good if all tenants have predictable workloads.</span></span> <span data-ttu-id="4600a-214">Se as cargas de trabalho do locatário se tornarem menos previsíveis, o provedor não poderá otimizar o compartilhamento de recurso.</span><span class="sxs-lookup"><span data-stu-id="4600a-214">If tenant workloads become less predictable, the provider cannot optimize resource sharing.</span></span> <span data-ttu-id="4600a-215">Falta de previsibilidade é comum para aplicativos SaaS.</span><span class="sxs-lookup"><span data-stu-id="4600a-215">Unpredictability is common for SaaS applications.</span></span> <span data-ttu-id="4600a-216">O provedor deve ser provisionado em excesso para atender às demandas ou para reduzir os recursos.</span><span class="sxs-lookup"><span data-stu-id="4600a-216">The provider must either over-provision to meet demands or lower resources.</span></span> <span data-ttu-id="4600a-217">Qualquer ação resultará em custos mais elevados ou diminuirá a satisfação do locatário.</span><span class="sxs-lookup"><span data-stu-id="4600a-217">Either action results in either higher costs or lower tenant satisfaction.</span></span> <span data-ttu-id="4600a-218">Um grau maior de compartilhamento de recursos entre locatários se torna desejável para tornar a solução mais econômica.</span><span class="sxs-lookup"><span data-stu-id="4600a-218">A higher degree of resource sharing across tenants becomes desirable to make the solution more cost-effective.</span></span> <span data-ttu-id="4600a-219">Aumentar o número de bancos de dados também aumenta o custo de Operações de Desenvolvimento na implantação e manutenção de aplicativos.</span><span class="sxs-lookup"><span data-stu-id="4600a-219">Increasing the number of databases also increases DevOps cost to deploy and maintain the application.</span></span> <span data-ttu-id="4600a-220">Apesar dessas preocupações, esse método proporciona o melhor e mais fácil isolamento para locatários.</span><span class="sxs-lookup"><span data-stu-id="4600a-220">Despite these concerns, this method provides the best and easiest isolation for tenants.</span></span>

<span data-ttu-id="4600a-221">Esses fatores também influenciam o padrão de design escolhido por um cliente:</span><span class="sxs-lookup"><span data-stu-id="4600a-221">These factors also influence the design pattern a customer chooses:</span></span>

* <span data-ttu-id="4600a-222">**Propriedade dos dados de locatário**.</span><span class="sxs-lookup"><span data-stu-id="4600a-222">**Ownership of tenant data**.</span></span> <span data-ttu-id="4600a-223">Um aplicativo no qual os locatários mantêm a propriedade de seus próprios dados favorece o padrão de um banco de dados individual por locatário.</span><span class="sxs-lookup"><span data-stu-id="4600a-223">An application in which tenants retain ownership of their own data favors the pattern of a single database per tenant.</span></span>
* <span data-ttu-id="4600a-224">**Escala**.</span><span class="sxs-lookup"><span data-stu-id="4600a-224">**Scale**.</span></span> <span data-ttu-id="4600a-225">Um aplicativo que se destina a centenas de milhares ou milhões de locatários favorece abordagens de compartilhamento de banco de dados, como a fragmentação.</span><span class="sxs-lookup"><span data-stu-id="4600a-225">An application that targets hundreds of thousands or millions of tenants favors database sharing approaches such as sharding.</span></span> <span data-ttu-id="4600a-226">Os requisitos de isolamento ainda podem apresentar desafios.</span><span class="sxs-lookup"><span data-stu-id="4600a-226">Isolation requirements still can pose challenges.</span></span>
* <span data-ttu-id="4600a-227">**Modelo de negócios e valor**.</span><span class="sxs-lookup"><span data-stu-id="4600a-227">**Value and business model**.</span></span> <span data-ttu-id="4600a-228">Se a receita por locatário de um aplicativo for pequena (menos de um dólar), os requisitos de isolamento se tornarão menos essenciais e o banco de dados compartilhado fará sentido.</span><span class="sxs-lookup"><span data-stu-id="4600a-228">If an application’s per-tenant revenue if small (less than a dollar), isolation requirements become less critical and a shared database makes sense.</span></span> <span data-ttu-id="4600a-229">Se a receita por locatário for de alguns dólares ou mais, um modelo de banco de dados por locatário será mais viável.</span><span class="sxs-lookup"><span data-stu-id="4600a-229">If per-tenant revenue is a few dollars or more, a database-per-tenant model is more feasible.</span></span> <span data-ttu-id="4600a-230">Ele poderá ajudar a reduzir os custos de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="4600a-230">It might help reduce development costs.</span></span>

<span data-ttu-id="4600a-231">Considerando as compensações de design mostradas na Figura 2, um modelo ideal multilocatário precisa incorporar boas propriedades de isolamento de locatário com o compartilhamento de recursos ideal entre locatários.</span><span class="sxs-lookup"><span data-stu-id="4600a-231">Given the design trade-offs shown in Figure 2, an ideal multi-tenant model needs to incorporate good tenant isolation properties with optimal resource sharing among tenants.</span></span> <span data-ttu-id="4600a-232">Esse modelo se encaixa na categoria descrita no quadrante superior direito da Figura 2.</span><span class="sxs-lookup"><span data-stu-id="4600a-232">This model fits in the category described in the upper-right quadrant of Figure 2.</span></span>

## <a name="multi-tenancy-support-in-azure-sql-database"></a><span data-ttu-id="4600a-233">Suporte a multilocação no Banco de Dados SQL do Azure</span><span class="sxs-lookup"><span data-stu-id="4600a-233">Multi-tenancy support in Azure SQL Database</span></span>
<span data-ttu-id="4600a-234">O Banco de Dados SQL do Azure oferece suporte a todos os padrões de aplicativos multilocatários descritos na Figura 2.</span><span class="sxs-lookup"><span data-stu-id="4600a-234">Azure SQL Database supports all multi-tenant application patterns outlined in Figure 2.</span></span> <span data-ttu-id="4600a-235">Com os pools elásticos, ele também dá suporte a um padrão de aplicativo que combina benefícios de isolamento e de compartilhamento de recursos excelentes da abordagem de banco de dados por locatário (consulte o quadrante superior direito na Figura 3).</span><span class="sxs-lookup"><span data-stu-id="4600a-235">With elastic pools, it also supports an application pattern that combines good resource sharing and the isolation benefits of the database-per-tenant approach (see the upper-right quadrant in Figure 3).</span></span> <span data-ttu-id="4600a-236">As ferramentas de banco de dados elástico e os recursos no Banco de Dados SQL podem ajudar a reduzir o custo de desenvolvimento e operação de um aplicativo que tenha muitos bancos de dados (mostrados na área sombreada na Figura 3).</span><span class="sxs-lookup"><span data-stu-id="4600a-236">Elastic database tools and capabilities in SQL Database help reduce the cost to develop and operate an application that has many databases (shown in the shaded area in Figure 3).</span></span> <span data-ttu-id="4600a-237">Essas ferramentas podem ajudá-lo a criar e gerenciar aplicativos que usam qualquer um dos padrões de vários bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="4600a-237">These tools can help you build and manage applications that use any of the multi-database patterns.</span></span>

![Padrões no Banco de Dados SQL Azure](./media/sql-database-design-patterns-multi-tenancy-saas-applications/sql-database-patterns-sqldb.png)

<span data-ttu-id="4600a-239">Figura 3: Padrões de aplicativos multilocatários no Banco de Dados SQL do Azure</span><span class="sxs-lookup"><span data-stu-id="4600a-239">Figure 3: Multi-tenant application patterns in Azure SQL Database</span></span>

## <a name="database-per-tenant-model-with-elastic-pools-and-tools"></a><span data-ttu-id="4600a-240">Modelo de banco de dados por locatário com ferramentas e pools elásticos</span><span class="sxs-lookup"><span data-stu-id="4600a-240">Database-per-tenant model with elastic pools and tools</span></span>
<span data-ttu-id="4600a-241">Os pools elásticos no Banco de Dados SQL combina o isolamento de locatários com o compartilhamento de recursos entre bancos de dados de locatário para oferecer um melhor suporte à abordagem de banco de dados por locatário.</span><span class="sxs-lookup"><span data-stu-id="4600a-241">Elastic pools in SQL Database combine tenant isolation with resource sharing among tenant databases to better support the database-per-tenant approach.</span></span> <span data-ttu-id="4600a-242">O Banco de Dados SQL é uma solução de camada de dados para provedores de SaaS que compilam aplicativos multilocatários.</span><span class="sxs-lookup"><span data-stu-id="4600a-242">SQL Database is a data tier solution for SaaS providers who build multi-tenant applications.</span></span> <span data-ttu-id="4600a-243">A responsabilidade do compartilhamento de recursos entre locatários passa da camada de aplicativo para a camada de serviço do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="4600a-243">The burden of resource sharing among tenants shifts from the application layer to the database service layer.</span></span> <span data-ttu-id="4600a-244">A complexidade do gerenciamento e consulta em escala entre bancos de dados é simplificada com trabalhos elásticos, consulta elástica, transações elásticas e com a biblioteca de cliente do banco de dados elástico.</span><span class="sxs-lookup"><span data-stu-id="4600a-244">The complexity of managing and querying at scale across databases is simplified with elastic jobs, elastic query, elastic transactions, and the elastic database client library.</span></span>

| <span data-ttu-id="4600a-245">Requisitos do aplicativo</span><span class="sxs-lookup"><span data-stu-id="4600a-245">Application requirements</span></span> | <span data-ttu-id="4600a-246">Recursos de Banco de Dados SQL</span><span class="sxs-lookup"><span data-stu-id="4600a-246">SQL database capabilities</span></span> |
| --- | --- |
| <span data-ttu-id="4600a-247">Isolamento de locatários e compartilhamento de recursos</span><span class="sxs-lookup"><span data-stu-id="4600a-247">Tenant isolation and resource sharing</span></span> |<span data-ttu-id="4600a-248">[Pools elásticos](sql-database-elastic-pool.md): alocam um pool de recursos de Banco de Dados SQL e compartilham recursos entre vários bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="4600a-248">[Elastic pools](sql-database-elastic-pool.md): Allocate a pool of SQL Database resources and share the resources across various databases.</span></span> <span data-ttu-id="4600a-249">Além disso, os bancos de dados individuais podem retirar a quantidade de recursos do pool necessária para acomodar picos de demanda de capacidade devido a alterações nas cargas de trabalho de locatário.</span><span class="sxs-lookup"><span data-stu-id="4600a-249">Also, individual databases can draw as much resources from the pool as needed to accommodate capacity demand spikes due to changes in tenant workloads.</span></span> <span data-ttu-id="4600a-250">O próprio pool elástico pode ser aumentado ou reduzido conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="4600a-250">The elastic pool itself can be scaled up or down as needed.</span></span> <span data-ttu-id="4600a-251">Os pools elásticos também fornecem facilidade de gerenciamento, monitoramento e solução de problemas no nível do pool.</span><span class="sxs-lookup"><span data-stu-id="4600a-251">Elastic pools also provide ease of manageability and monitoring and troubleshooting at the pool level.</span></span> |
| <span data-ttu-id="4600a-252">Facilidade de DevOps em bancos de dados</span><span class="sxs-lookup"><span data-stu-id="4600a-252">Ease of DevOps across databases</span></span> |<span data-ttu-id="4600a-253">[Pools elásticos](sql-database-elastic-pool.md): conforme mencionado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="4600a-253">[Elastic pools](sql-database-elastic-pool.md): As noted earlier.</span></span> |
| | <span data-ttu-id="4600a-254">[Consulta elástica:](sql-database-elastic-query-horizontal-partitioning.md)consulta relatórios ou análises entre locatários nos bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="4600a-254">[Elastic query](sql-database-elastic-query-horizontal-partitioning.md): Query across databases for reporting or cross-tenant analysis.</span></span> |
| | <span data-ttu-id="4600a-255">[Trabalhos elásticos:](sql-database-elastic-jobs-overview.md)empacotam e implantam confiavelmente as operações de manutenção de banco de dados ou alterações de esquema do banco de dados para vários bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="4600a-255">[Elastic jobs](sql-database-elastic-jobs-overview.md): Package and reliably deploy database maintenance operations or database schema changes to multiple databases.</span></span> |
| | <span data-ttu-id="4600a-256">[Transações elásticas:](sql-database-elastic-transactions-overview.md)processam alterações em vários bancos de dados de uma maneira atômica e isolada.</span><span class="sxs-lookup"><span data-stu-id="4600a-256">[Elastic transactions](sql-database-elastic-transactions-overview.md): Process changes to several databases in an atomic and isolated way.</span></span> <span data-ttu-id="4600a-257">Transações elásticas são necessárias quando os aplicativos precisam de garantias de "tudo ou nada" sobre várias operações de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="4600a-257">Elastic transactions are needed when applications need “all or nothing” guarantees over several database operations.</span></span> |
| | <span data-ttu-id="4600a-258">[Biblioteca de cliente do banco de dados elástico](sql-database-elastic-database-client-library.md): gerencia distribuições de dados e mapeiam locatários para bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="4600a-258">[Elastic database client library](sql-database-elastic-database-client-library.md): Manage data distributions and map tenants to databases.</span></span> |

## <a name="shared-models"></a><span data-ttu-id="4600a-259">Modelos compartilhados</span><span class="sxs-lookup"><span data-stu-id="4600a-259">Shared models</span></span>
<span data-ttu-id="4600a-260">Conforme descrito anteriormente, para a maioria dos provedores de SaaS, uma abordagem de modelo compartilhado pode apresentar problemas com questões de isolamento de locatário e complexidades de desenvolvimento e manutenção do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="4600a-260">As described earlier, for most SaaS providers, a shared model approach might pose problems with tenant isolation issues and complexities with application development and maintenance.</span></span> <span data-ttu-id="4600a-261">No entanto, para aplicativos multilocatários que fornecem um serviço diretamente para clientes, os requisitos de isolamento de locatário podem não ser uma prioridade tão alta como a minimização do custo.</span><span class="sxs-lookup"><span data-stu-id="4600a-261">However, for multi-tenant applications that provide a service directly to consumers, tenant isolation requirements may not be as high a priority as minimizing cost.</span></span> <span data-ttu-id="4600a-262">Eles poderão empacotar locatários em um ou mais bancos de dados em uma densidade bastante alta para reduzir os custos.</span><span class="sxs-lookup"><span data-stu-id="4600a-262">They might be able to pack tenants in one or more databases at a high density to reduce costs.</span></span> <span data-ttu-id="4600a-263">Os modelos de banco de dados compartilhados usando um banco de dados individual ou vários bancos de dados fragmentados podem resultar em uma eficiência adicional no compartilhamento de recursos e na redução do custo geral.</span><span class="sxs-lookup"><span data-stu-id="4600a-263">Shared-database models using a single database or multiple sharded databases might result in additional efficiencies in resource sharing and overall cost.</span></span> <span data-ttu-id="4600a-264">O Banco de Dados SQL do Azure fornece alguns recursos que ajudam os clientes a criar um isolamento aprimorado de segurança e gerenciamento em escala na camada de dados.</span><span class="sxs-lookup"><span data-stu-id="4600a-264">Azure SQL Database provides some features that help customers build isolation for improved security and management at scale in the data tier.</span></span>

| <span data-ttu-id="4600a-265">Requisitos do aplicativo</span><span class="sxs-lookup"><span data-stu-id="4600a-265">Application requirements</span></span> | <span data-ttu-id="4600a-266">Recursos de Banco de Dados SQL</span><span class="sxs-lookup"><span data-stu-id="4600a-266">SQL database capabilities</span></span> |
| --- | --- |
| <span data-ttu-id="4600a-267">Recursos de isolamento de segurança</span><span class="sxs-lookup"><span data-stu-id="4600a-267">Security isolation features</span></span> |[<span data-ttu-id="4600a-268">Segurança em nível de linha</span><span class="sxs-lookup"><span data-stu-id="4600a-268">Row-level security</span></span>](https://msdn.microsoft.com/library/dn765131.aspx) |
| [<span data-ttu-id="4600a-269">Esquema de banco de dados</span><span class="sxs-lookup"><span data-stu-id="4600a-269">Database schema</span></span>](https://msdn.microsoft.com/library/dd207005.aspx) | |
| <span data-ttu-id="4600a-270">Facilidade de DevOps em bancos de dados</span><span class="sxs-lookup"><span data-stu-id="4600a-270">Ease of DevOps across databases</span></span> |[<span data-ttu-id="4600a-271">Consulta elástica</span><span class="sxs-lookup"><span data-stu-id="4600a-271">Elastic query</span></span>](sql-database-elastic-query-horizontal-partitioning.md) |
| | [<span data-ttu-id="4600a-272">Trabalhos elásticos</span><span class="sxs-lookup"><span data-stu-id="4600a-272">Elastic jobs</span></span>](sql-database-elastic-jobs-overview.md) |
| | [<span data-ttu-id="4600a-273">Transações elásticas</span><span class="sxs-lookup"><span data-stu-id="4600a-273">Elastic transactions</span></span>](sql-database-elastic-transactions-overview.md) |
| | [<span data-ttu-id="4600a-274">Biblioteca de cliente do banco de dados elástico</span><span class="sxs-lookup"><span data-stu-id="4600a-274">Elastic database client library</span></span>](sql-database-elastic-database-client-library.md) |
| | [<span data-ttu-id="4600a-275">Divisão e mesclagem do banco de dados elástico</span><span class="sxs-lookup"><span data-stu-id="4600a-275">Elastic database split and merge</span></span>](sql-database-elastic-scale-overview-split-and-merge.md) |

## <a name="summary"></a><span data-ttu-id="4600a-276">Resumo</span><span class="sxs-lookup"><span data-stu-id="4600a-276">Summary</span></span>
<span data-ttu-id="4600a-277">Os requisitos de isolamento de locatário são importantes para a maioria dos aplicativos SaaS multilocatários.</span><span class="sxs-lookup"><span data-stu-id="4600a-277">Tenant isolation requirements are important for most SaaS multi-tenant applications.</span></span> <span data-ttu-id="4600a-278">A melhor opção para fornecer isolamento é voltada fortemente para a abordagem banco de dados por locatário.</span><span class="sxs-lookup"><span data-stu-id="4600a-278">The best option to provide isolation leans heavily toward the database-per-tenant approach.</span></span> <span data-ttu-id="4600a-279">As outras duas abordagens exigem investimentos em camadas de aplicativo complexas que exigem uma equipe de desenvolvimento especializada para fornecer isolamento, que aumenta significativamente custos e riscos.</span><span class="sxs-lookup"><span data-stu-id="4600a-279">The other two approaches require investments in complex application layers that require skilled development staff to provide isolation, which significantly increases cost and risk.</span></span> <span data-ttu-id="4600a-280">Se os requisitos de isolamento não forem considerados no início do desenvolvimento de serviços, retrocedê-los poderá ser ainda mais oneroso do que os primeiros dois modelos.</span><span class="sxs-lookup"><span data-stu-id="4600a-280">If isolation requirements are not accounted for early in the service development, retrofitting them can be even more costly in the first two models.</span></span> <span data-ttu-id="4600a-281">As principais desvantagens associadas ao modelo de banco de dados por locatário estão relacionadas aos custos dos recursos de nuvem maiores devido à redução de compartilhamento e à manutenção e gerenciamento de um grande número de bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="4600a-281">The main drawbacks associated with the database-per-tenant model are related to increased cloud resource costs due to reduced sharing, and maintaining and managing many databases.</span></span> <span data-ttu-id="4600a-282">Os desenvolvedores de aplicativos SaaS muitas vezes têm dificuldades ao fazer essas compensações.</span><span class="sxs-lookup"><span data-stu-id="4600a-282">SaaS application developers often struggle when they make these trade-offs.</span></span>

<span data-ttu-id="4600a-283">Enquanto essas compensações podem ser grandes barreiras para a maioria dos provedores de serviço de banco de dados de nuvem, o Banco de Dados SQL do Azure elimina essas barreiras com o pool elástico e os recursos de banco de dados elástico.</span><span class="sxs-lookup"><span data-stu-id="4600a-283">Although trade-offs might be major barriers with most cloud database service providers, Azure SQL Database eliminates the barriers with its elastic pool and elastic database capabilities.</span></span> <span data-ttu-id="4600a-284">Os desenvolvedores de SaaS podem combinar as características de isolamento do modelo de banco de dados por locatário e otimizar o compartilhamento de recursos e os aprimoramentos no gerenciamento de um grande número de bancos de dados com pools elásticos e ferramentas associadas.</span><span class="sxs-lookup"><span data-stu-id="4600a-284">SaaS developers can combine the isolation characteristics of a database-per-tenant model and optimize resource sharing and the manageability improvements of many databases by using elastic pools and associated tools.</span></span>

<span data-ttu-id="4600a-285">Provedores de aplicativos multilocatários que não têm requisitos de isolamento de locatário e são capazes de empacotar locatários em banco de dados em uma densidade alta podem considerar que os modelos de dados compartilhados resultam em eficiência adicional no compartilhamento de recursos e na redução do custo geral.</span><span class="sxs-lookup"><span data-stu-id="4600a-285">Multi-tenant application providers who have no tenant isolation requirements and who can pack tenants in a database at a high density might find that shared data models result in additional efficiency in resource sharing and reduce overall cost.</span></span> <span data-ttu-id="4600a-286">As ferramentas de banco de dados elástico do Banco de Dados SQL do Azure, as bibliotecas de fragmentação e os recursos de segurança ajudam os provedores de SaaS a criar e gerenciar esses aplicativos multilocatários.</span><span class="sxs-lookup"><span data-stu-id="4600a-286">Azure SQL Database elastic database tools, sharding libraries, and security features help SaaS providers build and manage multi-tenant applications.</span></span>

## <a name="next-steps"></a><span data-ttu-id="4600a-287">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="4600a-287">Next steps</span></span>
<span data-ttu-id="4600a-288">[Introdução às ferramentas do banco de dados elástico](sql-database-elastic-scale-get-started.md) .</span><span class="sxs-lookup"><span data-stu-id="4600a-288">[Get started with elastic database tools](sql-database-elastic-scale-get-started.md) with a sample app that demonstrates the client library.</span></span>

<span data-ttu-id="4600a-289">Crie um [painel personalizado do pool elástico para SaaS](https://github.com/Microsoft/sql-server-samples/tree/master/samples/manage/azure-sql-db-elastic-pools-custom-dashboard) com um aplicativo de exemplo que usa pools elásticos para uma solução de banco de dados econômica e escalonável.</span><span class="sxs-lookup"><span data-stu-id="4600a-289">Create an [elastic pool custom dashboard for SaaS](https://github.com/Microsoft/sql-server-samples/tree/master/samples/manage/azure-sql-db-elastic-pools-custom-dashboard) with a sample app that uses elastic pools for a cost-effective, scalable database solution.</span></span>

<span data-ttu-id="4600a-290">Use as ferramentas de Banco de Dados SQL para [migrar bancos de dados existentes para escalar horizontalmente](sql-database-elastic-convert-to-use-elastic-tools.md).</span><span class="sxs-lookup"><span data-stu-id="4600a-290">Use the Azure SQL Database tools to [migrate existing databases to scale out](sql-database-elastic-convert-to-use-elastic-tools.md).</span></span>

<span data-ttu-id="4600a-291">Para criar um pool elástico usando o Portal do Azure, consulte [criar um pool elástico](sql-database-elastic-pool-manage-portal.md).</span><span class="sxs-lookup"><span data-stu-id="4600a-291">To create an elastic pool using the Azure portal, see [create an elastic pool](sql-database-elastic-pool-manage-portal.md).</span></span>  

<span data-ttu-id="4600a-292">Aprenda como [monitorar e gerenciar um pool elástico](sql-database-elastic-pool-manage-portal.md).</span><span class="sxs-lookup"><span data-stu-id="4600a-292">Learn how to [monitor and manage an elastic pool](sql-database-elastic-pool-manage-portal.md).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="4600a-293">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="4600a-293">Additional resources</span></span>

* [<span data-ttu-id="4600a-294">Implantar e explorar um aplicativo multilocatário que usa o Banco de dados SQL do Azure - Wingtip SaaS</span><span class="sxs-lookup"><span data-stu-id="4600a-294">Deploy and explore a multi-tenant application that uses Azure SQL Database - Wingtip SaaS</span></span>](sql-database-saas-tutorial.md)
* [<span data-ttu-id="4600a-295">O que é um pool elástico do Azure?</span><span class="sxs-lookup"><span data-stu-id="4600a-295">What is an Azure elastic pool?</span></span>](sql-database-elastic-pool.md)
* [<span data-ttu-id="4600a-296">Escalando horizontalmente com o Banco de Dados SQL do Azure</span><span class="sxs-lookup"><span data-stu-id="4600a-296">Scaling out with Azure SQL Database</span></span>](sql-database-elastic-scale-introduction.md)
* [<span data-ttu-id="4600a-297">Aplicativos multilocatários com ferramentas de banco de dados elástico e segurança em nível de linha</span><span class="sxs-lookup"><span data-stu-id="4600a-297">multi-tenant applications with elastic database tools and row-level security</span></span>](sql-database-elastic-tools-multi-tenant-row-level-security.md)
* [<span data-ttu-id="4600a-298">Autenticação em aplicativos multilocatários usando o Azure Active Directory e o OpenID Connect</span><span class="sxs-lookup"><span data-stu-id="4600a-298">Authentication in multi-tenant apps by using Azure Active Directory and OpenID Connect</span></span>](../guidance/guidance-multitenant-identity-authenticate.md)
* [<span data-ttu-id="4600a-299">Aplicativo Tailspin Surveys</span><span class="sxs-lookup"><span data-stu-id="4600a-299">Tailspin Surveys application</span></span>](../guidance/guidance-multitenant-identity-tailspin.md)


## <a name="questions-and-feature-requests"></a><span data-ttu-id="4600a-300">Perguntas e solicitações de recursos</span><span class="sxs-lookup"><span data-stu-id="4600a-300">Questions and feature requests</span></span>

<span data-ttu-id="4600a-301">Para fazer perguntas, encontre-se no [Fórum do Banco de Dados SQL](http://social.msdn.microsoft.com/forums/azure/home?forum=ssdsgetstarted).</span><span class="sxs-lookup"><span data-stu-id="4600a-301">For questions, find us in the [SQL Database forum](http://social.msdn.microsoft.com/forums/azure/home?forum=ssdsgetstarted).</span></span> <span data-ttu-id="4600a-302">Adicione uma solicitação de recursos no [Fórum de comentários do Banco de Dados SQL](https://feedback.azure.com/forums/217321-sql-database/).</span><span class="sxs-lookup"><span data-stu-id="4600a-302">Add a feature request in the [SQL Database feedback forum](https://feedback.azure.com/forums/217321-sql-database/).</span></span>

