---
title: "Autenticação do Azure Active Directory – SQL do Azure (Visão Geral) | Microsoft Docs"
description: "Saiba como usar o Azure Active Directory para autenticação com o Banco de Dados SQL e o SQL Data Warehouse"
services: sql-database
documentationcenter: 
author: BYHAM
manager: jhubbard
editor: 
tags: 
ms.assetid: 7e2508a1-347e-4f15-b060-d46602c5ce7e
ms.service: sql-database
ms.custom: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 08/11/2017
ms.author: rickbyh
ms.openlocfilehash: c83d482eaf476388a174dfb02ae6ef53ebe921bc
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/18/2017
---
# <a name="use-azure-active-directory-authentication-for-authentication-with-sql-database-or-sql-data-warehouse"></a><span data-ttu-id="c0189-103">Usar o Azure Active Directory para autenticação com o Banco de Dados SQL ou o SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="c0189-103">Use Azure Active Directory Authentication for authentication with SQL Database or SQL Data Warehouse</span></span>
<span data-ttu-id="c0189-104">A autenticação do Azure Active Directory é um mecanismo de conexão com o Banco de Dados SQL do Microsoft Azure e o [SQL Data Warehouse](../sql-data-warehouse/sql-data-warehouse-overview-what-is.md) usando identidades no Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="c0189-104">Azure Active Directory authentication is a mechanism of connecting to Microsoft Azure SQL Database and [SQL Data Warehouse](../sql-data-warehouse/sql-data-warehouse-overview-what-is.md) by using identities in Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="c0189-105">Com a autenticação do Azure AD, é possível gerenciar centralmente as identidades de usuários do banco de dados e outros serviços da Microsoft em uma única localização central.</span><span class="sxs-lookup"><span data-stu-id="c0189-105">With Azure AD authentication, you can centrally manage the identities of database users and other Microsoft services in one central location.</span></span> <span data-ttu-id="c0189-106">O gerenciamento central de IDs fornece um único local para gerenciar os usuários do banco de dados e simplifica o gerenciamento de permissões.</span><span class="sxs-lookup"><span data-stu-id="c0189-106">Central ID management provides a single place to manage database users and simplifies permission management.</span></span> <span data-ttu-id="c0189-107">Os benefícios incluem o seguinte:</span><span class="sxs-lookup"><span data-stu-id="c0189-107">Benefits include the following:</span></span>

* <span data-ttu-id="c0189-108">Ele fornece uma alternativa para autenticação do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c0189-108">It provides an alternative to SQL Server authentication.</span></span>
* <span data-ttu-id="c0189-109">Ajuda a interromper a proliferação de identidades de usuário entre os servidores de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="c0189-109">Helps stop the proliferation of user identities across database servers.</span></span>
* <span data-ttu-id="c0189-110">Permite o rodízio de senhas em um único lugar</span><span class="sxs-lookup"><span data-stu-id="c0189-110">Allows password rotation in a single place</span></span>
* <span data-ttu-id="c0189-111">Os clientes podem gerenciar permissões de banco de dados usando grupos (AAD) externos.</span><span class="sxs-lookup"><span data-stu-id="c0189-111">Customers can manage database permissions using external (AAD) groups.</span></span>
* <span data-ttu-id="c0189-112">Pode eliminar o armazenamento de senhas, permitindo a autenticação integrada do Windows e outras formas de autenticação às quais o Active Directory do Azure dá suporte.</span><span class="sxs-lookup"><span data-stu-id="c0189-112">It can eliminate storing passwords by enabling integrated Windows authentication and other forms of authentication supported by Azure Active Directory.</span></span>
* <span data-ttu-id="c0189-113">A autenticação do Azure AD usa usuários de banco de dados independente para autenticar identidades no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="c0189-113">Azure AD authentication uses contained database users to authenticate identities at the database level.</span></span>
* <span data-ttu-id="c0189-114">O Azure AD dá suporte à autenticação baseada em token em aplicativos que se conectam ao Banco de Dados SQL.</span><span class="sxs-lookup"><span data-stu-id="c0189-114">Azure AD supports token-based authentication for applications connecting to SQL Database.</span></span>
* <span data-ttu-id="c0189-115">A autenticação do Azure AD dá suporte ao ADFS (federação de domínio) ou à autenticação nativa de senha/usuário para um local do Azure Active Directory sem a sincronização de domínio.</span><span class="sxs-lookup"><span data-stu-id="c0189-115">Azure AD authentication supports ADFS (domain federation) or native user/password authentication for a local Azure Active Directory without domain synchronization.</span></span>  
* <span data-ttu-id="c0189-116">O Azure AD dá suporte a conexões do SQL Server Management Studio que usam a Autenticação Universal do Active Directory, que inclui o MFA (Autenticação Multifator).</span><span class="sxs-lookup"><span data-stu-id="c0189-116">Azure AD supports connections from SQL Server Management Studio that use Active Directory Universal Authentication, which includes Multi-Factor Authentication (MFA).</span></span>  <span data-ttu-id="c0189-117">A MFA inclui autenticação eficiente com uma variedade de opções de verificação fáceis como chamada telefônica, mensagem de texto, cartões inteligentes com PIN ou notificação por aplicativos móveis.</span><span class="sxs-lookup"><span data-stu-id="c0189-117">MFA includes strong authentication with a range of easy verification options — phone call, text message, smart cards with pin, or mobile app notification.</span></span> <span data-ttu-id="c0189-118">Para saber mais, confira [Suporte do SSMS para MFA do Azure AD com o Banco de Dados SQL e o SQL Data Warehouse](sql-database-ssms-mfa-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="c0189-118">For more information, see [SSMS support for Azure AD MFA with SQL Database and SQL Data Warehouse](sql-database-ssms-mfa-authentication.md).</span></span>  

>  [!NOTE]  
>  <span data-ttu-id="c0189-119">Não há suporte para conectar ao SQL Server em execução em uma VM do Azure usando uma conta do Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c0189-119">Connecting to SQL Server running on an Azure VM is not supported using an Azure Active Directory account.</span></span> <span data-ttu-id="c0189-120">Use um conta de domínio do Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c0189-120">Use a domain Active Directory account instead.</span></span>  

<span data-ttu-id="c0189-121">As etapas de configuração incluem os procedimentos a seguir para configurar e usar a autenticação do Active Directory do Azure.</span><span class="sxs-lookup"><span data-stu-id="c0189-121">The configuration steps include the following procedures to configure and use Azure Active Directory authentication.</span></span>

1. <span data-ttu-id="c0189-122">Criar e popular o Azure AD.</span><span class="sxs-lookup"><span data-stu-id="c0189-122">Create and populate Azure AD.</span></span>
2. <span data-ttu-id="c0189-123">Opcional: associe ou altere o Active Directory que está associado atualmente à sua Assinatura do Azure.</span><span class="sxs-lookup"><span data-stu-id="c0189-123">Optional: Associate or change the active directory that is currently associated with your Azure Subscription.</span></span>
3. <span data-ttu-id="c0189-124">Crie um administrador do Azure Active Directory para o Azure SQL Server ou o [SQL Data Warehouse do Azure](https://azure.microsoft.com/services/sql-data-warehouse/).</span><span class="sxs-lookup"><span data-stu-id="c0189-124">Create an Azure Active Directory administrator for Azure SQL server or [Azure SQL Data Warehouse](https://azure.microsoft.com/services/sql-data-warehouse/).</span></span>
4. <span data-ttu-id="c0189-125">Configure os computadores cliente.</span><span class="sxs-lookup"><span data-stu-id="c0189-125">Configure your client computers.</span></span>
5. <span data-ttu-id="c0189-126">Crie usuários de banco de dados independente em seu banco de dados, mapeados para identidades do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="c0189-126">Create contained database users in your database mapped to Azure AD identities.</span></span>
6. <span data-ttu-id="c0189-127">Conecte-se ao banco de dados usando identidades do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="c0189-127">Connect to your database by using Azure AD identities.</span></span>

> [!NOTE]
> <span data-ttu-id="c0189-128">Para saber como criar e popular o Azure AD e, em seguida, configurar o Azure AD com o Banco de Dados SQL do Azure e SQL Data Warehouse, consulte [Configurar o Azure AD com o Banco de Dados SQL](sql-database-aad-authentication-configure.md).</span><span class="sxs-lookup"><span data-stu-id="c0189-128">To learn how to create and populate Azure AD, and then configure Azure AD with Azure SQL Database and SQL Data Warehouse, see [Configure Azure AD with Azure SQL Database](sql-database-aad-authentication-configure.md).</span></span>
>

## <a name="trust-architecture"></a><span data-ttu-id="c0189-129">Confiar na arquitetura</span><span class="sxs-lookup"><span data-stu-id="c0189-129">Trust architecture</span></span>
<span data-ttu-id="c0189-130">O diagrama de alto nível a seguir resume a arquitetura da solução de usar a autenticação do Azure AD com o Banco de Dados SQL do Azure.</span><span class="sxs-lookup"><span data-stu-id="c0189-130">The following high-level diagram summarizes the solution architecture of using Azure AD authentication with Azure SQL Database.</span></span> <span data-ttu-id="c0189-131">Os mesmos conceitos se aplicam ao SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="c0189-131">The same concepts apply to SQL Data Warehouse.</span></span> <span data-ttu-id="c0189-132">Para dar suporte à senha de usuário nativo do Azure AD, será considerada apenas a parte da Nuvem e o Azure AD/Banco de Dados SQL do Azure.</span><span class="sxs-lookup"><span data-stu-id="c0189-132">To support Azure AD native user password, only the Cloud portion and Azure AD/Azure SQL Database is considered.</span></span> <span data-ttu-id="c0189-133">Para dar suporte à Autenticação federada (ou a usuário/senha para as credenciais do Windows), será necessária a comunicação com o bloco do ADFS.</span><span class="sxs-lookup"><span data-stu-id="c0189-133">To support Federated authentication (or user/password for Windows credentials), the communication with ADFS block is required.</span></span> <span data-ttu-id="c0189-134">As setas indicam caminhos para comunicação.</span><span class="sxs-lookup"><span data-stu-id="c0189-134">The arrows indicate communication pathways.</span></span>

![diagrama de autenticação do aad][1]

<span data-ttu-id="c0189-136">O diagrama a seguir indica as relações de federação, confiança e hospedagem que permitem que um cliente se conecte a um banco de dados enviando um token.</span><span class="sxs-lookup"><span data-stu-id="c0189-136">The following diagram indicates the federation, trust, and hosting relationships that allow a client to connect to a database by submitting a token.</span></span> <span data-ttu-id="c0189-137">O token é autenticado pelo Azure AD e é considerado confiável pelo banco de dados.</span><span class="sxs-lookup"><span data-stu-id="c0189-137">The token is authenticated by an Azure AD, and is trusted by the database.</span></span> <span data-ttu-id="c0189-138">O Cliente 1 pode representar um Azure Active Directory com usuários nativos ou um Azure AD com usuários federados.</span><span class="sxs-lookup"><span data-stu-id="c0189-138">Customer 1 can represent an Azure Active Directory with native users or an Azure AD with federated users.</span></span> <span data-ttu-id="c0189-139">O Cliente 2 representa uma solução possível, incluindo os usuários importados; neste exemplo, provenientes de um Azure Active Directory federado com o ADFS sendo sincronizado com o Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c0189-139">Customer 2 represents a possible solution including imported users; in this example coming from a federated Azure Active Directory with ADFS being synchronized with Azure Active Directory.</span></span> <span data-ttu-id="c0189-140">É importante entender que o acesso a um banco de dados com a autenticação do Azure AD exige que a assinatura de hospedagem esteja associada ao Azure AD.</span><span class="sxs-lookup"><span data-stu-id="c0189-140">It's important to understand that access to a database using Azure AD authentication requires that the hosting subscription is associated to the Azure AD.</span></span> <span data-ttu-id="c0189-141">A mesma assinatura deve ser usada para criar o SQL Server que hospeda o Banco de Dados SQL ou o SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="c0189-141">The same subscription must be used to create the SQL Server hosting the Azure SQL Database or SQL Data Warehouse.</span></span>

![relação de assinatura][2]

## <a name="administrator-structure"></a><span data-ttu-id="c0189-143">Estrutura do administrador</span><span class="sxs-lookup"><span data-stu-id="c0189-143">Administrator structure</span></span>
<span data-ttu-id="c0189-144">Ao usar a autenticação do Azure AD, haverá duas contas de administrador para o servidor do Banco de Dados SQL: o administrador original do SQL Server e o administrador do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="c0189-144">When using Azure AD authentication, there are two Administrator accounts for the SQL Database server; the original SQL Server administrator and the Azure AD administrator.</span></span> <span data-ttu-id="c0189-145">Os mesmos conceitos se aplicam ao SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="c0189-145">The same concepts apply to SQL Data Warehouse.</span></span> <span data-ttu-id="c0189-146">Somente o administrador com base em uma conta do AD do Azure pode criar o primeiro usuário de banco de dados do AD do Azure contido em um banco de dados de usuário.</span><span class="sxs-lookup"><span data-stu-id="c0189-146">Only the administrator based on an Azure AD account can create the first Azure AD contained database user in a user database.</span></span> <span data-ttu-id="c0189-147">O logon de administrador do AD do Azure pode ser um usuário ou um grupo do AD do Azure.</span><span class="sxs-lookup"><span data-stu-id="c0189-147">The Azure AD administrator login can be an Azure AD user or an Azure AD group.</span></span> <span data-ttu-id="c0189-148">Quando o administrador é uma conta de grupo, ele pode ser usado por qualquer membro do grupo, permitindo múltiplos administradores do AD do Azure para a instância do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c0189-148">When the administrator is a group account, it can be used by any group member, enabling multiple Azure AD administrators for the SQL Server instance.</span></span> <span data-ttu-id="c0189-149">Usar a conta de grupo como um administrador aprimora a capacidade de gerenciamento, permitindo que você adicione e remova membros do grupo no AD do Azure centralmente, sem alterar os usuários ou permissões no Banco de Dados SQL.</span><span class="sxs-lookup"><span data-stu-id="c0189-149">Using group account as an administrator enhances manageability by allowing you to centrally add and remove group members in Azure AD without changing the users or permissions in SQL Database.</span></span> <span data-ttu-id="c0189-150">Somente um administrador do AD do Azure (um usuário ou grupo) pode ser configurado por vez, a qualquer momento.</span><span class="sxs-lookup"><span data-stu-id="c0189-150">Only one Azure AD administrator (a user or group) can be configured at any time.</span></span>

![estrutura de administrador][3]

## <a name="permissions"></a><span data-ttu-id="c0189-152">Permissões</span><span class="sxs-lookup"><span data-stu-id="c0189-152">Permissions</span></span>
<span data-ttu-id="c0189-153">Para criar novos usuários, você deve ter a permissão `ALTER ANY USER` no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="c0189-153">To create new users, you must have the `ALTER ANY USER` permission in the database.</span></span> <span data-ttu-id="c0189-154">A permissão `ALTER ANY USER` pode ser concedida a qualquer usuário do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="c0189-154">The `ALTER ANY USER` permission can be granted to any database user.</span></span> <span data-ttu-id="c0189-155">A permissão `ALTER ANY USER` também é mantida pelas contas de administrador do servidor e usuários de banco de dados com a permissão `CONTROL ON DATABASE` ou `ALTER ON DATABASE` para esse banco de dados e por membros da função de banco de dados `db_owner`.</span><span class="sxs-lookup"><span data-stu-id="c0189-155">The `ALTER ANY USER` permission is also held by the server administrator accounts, and database users with the `CONTROL ON DATABASE` or `ALTER ON DATABASE` permission for that database, and by members of the `db_owner` database role.</span></span>

<span data-ttu-id="c0189-156">Para criar um usuário do banco de dados contido no Banco de Dados SQL do Azure ou no SQL Data Warehouse, você deverá conectar-se ao banco de dados usando uma identidade do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="c0189-156">To create a contained database user in Azure SQL Database or SQL Data Warehouse, you must connect to the database using an Azure AD identity.</span></span> <span data-ttu-id="c0189-157">Para criar o primeiro usuário de banco de dados independente, você deve se conectar ao banco de dados usando o administrador do AD do Azure (que é o proprietário do banco de dados).</span><span class="sxs-lookup"><span data-stu-id="c0189-157">To create the first contained database user, you must connect to the database by using an Azure AD administrator (who is the owner of the database).</span></span> <span data-ttu-id="c0189-158">Isso é demonstrado nas etapas 4 e 5 abaixo.</span><span class="sxs-lookup"><span data-stu-id="c0189-158">This is demonstrated in steps 4 and 5 below.</span></span> <span data-ttu-id="c0189-159">Qualquer autenticação do Azure AD só será possível se o administrador do Azure AD tiver sido criado para o Banco de Dados SQL do Azure ou para o servidor SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="c0189-159">Any Azure AD authentication is only possible if the Azure AD admin was created for Azure SQL Database or SQL Data Warehouse server.</span></span> <span data-ttu-id="c0189-160">Se o administrador do Azure Active Directory tiver sido removido do servidor, os usuários existentes do Azure Active Directory criados anteriormente dentro do SQL Server não poderão mais se conectar ao banco de dados usando suas credenciais do Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c0189-160">If the Azure Active Directory admin was removed from the server, existing Azure Active Directory users created previously inside SQL Server can no longer connect to the database using their Azure Active Directory credentials.</span></span>

## <a name="azure-ad-features-and-limitations"></a><span data-ttu-id="c0189-161">Limitações e recursos do AD do Azure</span><span class="sxs-lookup"><span data-stu-id="c0189-161">Azure AD features and limitations</span></span>
<span data-ttu-id="c0189-162">Os membros do Azure AD a seguir podem ser provisionados no Azure SQL Server ou no SQL Data Warehouse:</span><span class="sxs-lookup"><span data-stu-id="c0189-162">The following members of Azure AD can be provisioned in Azure SQL server or SQL Data Warehouse:</span></span>

* <span data-ttu-id="c0189-163">Membros nativos: membro criado no Azure AD no domínio gerenciado ou em um domínio do cliente.</span><span class="sxs-lookup"><span data-stu-id="c0189-163">Native members: A member created in Azure AD in the managed domain or in a customer domain.</span></span> <span data-ttu-id="c0189-164">Para saber mais, confira [Adicionar seu nome de domínio ao Azure AD](../active-directory/active-directory-add-domain.md).</span><span class="sxs-lookup"><span data-stu-id="c0189-164">For more information, see [Add your own domain name to Azure AD](../active-directory/active-directory-add-domain.md).</span></span>
* <span data-ttu-id="c0189-165">Membros de domínio federado: membro criado no Azure AD com um domínio federado.</span><span class="sxs-lookup"><span data-stu-id="c0189-165">Federated domain members: A member created in Azure AD with a federated domain.</span></span> <span data-ttu-id="c0189-166">Para saber mais, confira [O Microsoft Azure agora dá suporte à federação com o Active Directory do Windows Server](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/).</span><span class="sxs-lookup"><span data-stu-id="c0189-166">For more information, see [Microsoft Azure now supports federation with Windows Server Active Directory](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/).</span></span>
* <span data-ttu-id="c0189-167">Membros importados de outros Azure ADs que são membros de domínio nativo ou federado.</span><span class="sxs-lookup"><span data-stu-id="c0189-167">Imported members from other Azure AD's who are native or federated domain members.</span></span>
* <span data-ttu-id="c0189-168">Grupos do Active Directory criados como grupos de segurança.</span><span class="sxs-lookup"><span data-stu-id="c0189-168">Active Directory groups created as security groups.</span></span>

<span data-ttu-id="c0189-169">Não há suporte para contas da Microsoft (por exemplo, outlook.com, hotmail.com, live.com) nem para outras contas de convidado (por exemplo, gmail.com, yahoo.com).</span><span class="sxs-lookup"><span data-stu-id="c0189-169">Microsoft accounts (for example outlook.com, hotmail.com, live.com) or other guest accounts (for example gmail.com, yahoo.com) are not supported.</span></span> <span data-ttu-id="c0189-170">Se você pode fizer logon em [https://login.live.com](https://login.live.com) usando a conta e senha, isso significará que você está usando uma conta da Microsoft para a qual não há suporte para autenticação do Azure AD para o Banco de Dados SQL do Azure ou para o SQL Data Warehouse do Azure.</span><span class="sxs-lookup"><span data-stu-id="c0189-170">If you can log in to [https://login.live.com](https://login.live.com) using the account and password, then you are using a Microsoft account, which is not supported for Azure AD authentication for Azure SQL Database or Azure SQL Data Warehouse.</span></span>

## <a name="connecting-using-azure-ad-identities"></a><span data-ttu-id="c0189-171">Conectar-se usando as identidades do Azure AD</span><span class="sxs-lookup"><span data-stu-id="c0189-171">Connecting using Azure AD identities</span></span>

<span data-ttu-id="c0189-172">A autenticação do Active Directory do Azure dá suporte aos seguintes métodos de conexão a um banco de dados usando identidades do AD do Azure:</span><span class="sxs-lookup"><span data-stu-id="c0189-172">Azure Active Directory authentication supports the following methods of connecting to a database using Azure AD identities:</span></span>

* <span data-ttu-id="c0189-173">Usando a autenticação integrada do Windows</span><span class="sxs-lookup"><span data-stu-id="c0189-173">Using integrated Windows authentication</span></span>
* <span data-ttu-id="c0189-174">Uso de um nome principal e de uma senha do Azure AD</span><span class="sxs-lookup"><span data-stu-id="c0189-174">Using an Azure AD principal name and a password</span></span>
* <span data-ttu-id="c0189-175">Uso da autenticação de token do aplicativo</span><span class="sxs-lookup"><span data-stu-id="c0189-175">Using Application token authentication</span></span>

### <a name="additional-considerations"></a><span data-ttu-id="c0189-176">Considerações adicionais</span><span class="sxs-lookup"><span data-stu-id="c0189-176">Additional considerations</span></span>

* <span data-ttu-id="c0189-177">Para aumentar a capacidade de gerenciamento, recomendamos provisionar um grupo dedicado do Azure AD como administrador.</span><span class="sxs-lookup"><span data-stu-id="c0189-177">To enhance manageability, we recommended you provision a dedicated Azure AD group as an administrator.</span></span>   
* <span data-ttu-id="c0189-178">Somente um administrador do Azure AD (um usuário ou grupo) pode ser configurado por vez, em qualquer determinado momento, para um Azure SQL Server ou SQL Data Warehouse do Azure.</span><span class="sxs-lookup"><span data-stu-id="c0189-178">Only one Azure AD administrator (a user or group) can be configured for an Azure SQL server or Azure SQL Data Warehouse at any time.</span></span>   
* <span data-ttu-id="c0189-179">Somente um administrador do Azure AD do SQL Server pode conectar-se inicialmente ao Azure SQL Server ou ao SQL Data Warehouse do Azure usando uma conta do Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c0189-179">Only an Azure AD administrator for SQL Server can initially connect to the Azure SQL server or Azure SQL Data Warehouse using an Azure Active Directory account.</span></span> <span data-ttu-id="c0189-180">O administrador do Active Directory pode configurar os próximos usuários do banco de dados do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="c0189-180">The Active Directory administrator can configure subsequent Azure AD database users.</span></span>   
* <span data-ttu-id="c0189-181">É recomendável configurar o tempo limite da conexão para 30 segundos.</span><span class="sxs-lookup"><span data-stu-id="c0189-181">We recommend setting the connection timeout to 30 seconds.</span></span>   
* <span data-ttu-id="c0189-182">O SQL Server 2016 Management Studio e o SQL Server Data Tools para Visual Studio 2015 (versão 14.0.60311.1 de abril de 2016 ou posterior) dão suporte à autenticação do Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c0189-182">SQL Server 2016 Management Studio and SQL Server Data Tools for Visual Studio 2015 (version 14.0.60311.1April 2016 or later) support Azure Active Directory authentication.</span></span> <span data-ttu-id="c0189-183">(Há suporte para a autenticação do Azure AD no **Provedor de Dados .NET Framework para SqlServer**; é necessária, no mínimo, a versão 4.6 do .NET Framework).</span><span class="sxs-lookup"><span data-stu-id="c0189-183">(Azure AD authentication is supported by the **.NET Framework Data Provider for SqlServer**; at least version .NET Framework 4.6).</span></span> <span data-ttu-id="c0189-184">Portanto, as versões mais novas dessas ferramentas e os aplicativos de camada de dados (DAC e .bacpac) podem usar a autenticação do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="c0189-184">Therefore the newest versions of these tools and data-tier applications (DAC and .bacpac) can use Azure AD authentication.</span></span>   
* <span data-ttu-id="c0189-185">O [ODBC versão 13.1](https://www.microsoft.com/download/details.aspx?id=53339) dá suporte à autenticação do Azure Active Directory. No entanto, o `bcp.exe` não pode se conectar usando a autenticação do Azure Active Directory, pois usa um provedor ODBC mais antigo.</span><span class="sxs-lookup"><span data-stu-id="c0189-185">[ODBC version 13.1](https://www.microsoft.com/download/details.aspx?id=53339) supports Azure Active Directory authentication however `bcp.exe` cannot connect using Azure Active Directory authentication because it uses an older ODBC provider.</span></span>   
* <span data-ttu-id="c0189-186">`sqlcmd` oferece suporte à autenticação do Azure Active Directory a partir da versão 13.1 disponível no [Centro de Download](http://go.microsoft.com/fwlink/?LinkID=825643).</span><span class="sxs-lookup"><span data-stu-id="c0189-186">`sqlcmd` supports Azure Active Directory authentication beginning with version 13.1 available from the [Download Center](http://go.microsoft.com/fwlink/?LinkID=825643).</span></span>   
* <span data-ttu-id="c0189-187">O SQL Server Data Tools para Visual Studio 2015 requer pelo menos a versão de abril de 2016 do Data Tools (versão 14.0.60311.1).</span><span class="sxs-lookup"><span data-stu-id="c0189-187">SQL Server Data Tools for Visual Studio 2015 requires at least the April 2016 version of the Data Tools (version 14.0.60311.1).</span></span> <span data-ttu-id="c0189-188">Atualmente, os usuários do Azure AD não são mostrados no Pesquisador de Objetos do SSDT.</span><span class="sxs-lookup"><span data-stu-id="c0189-188">Currently Azure AD users are not shown in SSDT Object Explorer.</span></span> <span data-ttu-id="c0189-189">Como alternativa, exiba os usuários em [sys.database_principals](https://msdn.microsoft.com/library/ms187328.aspx).</span><span class="sxs-lookup"><span data-stu-id="c0189-189">As a workaround, view the users in [sys.database_principals](https://msdn.microsoft.com/library/ms187328.aspx).</span></span>   
* <span data-ttu-id="c0189-190">O [Microsoft JDBC Driver 6.0 para SQL Server](https://www.microsoft.com/download/details.aspx?id=11774) dá suporte à autenticação do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="c0189-190">[Microsoft JDBC Driver 6.0 for SQL Server](https://www.microsoft.com/download/details.aspx?id=11774) supports Azure AD authentication.</span></span> <span data-ttu-id="c0189-191">Confira também [Configuração das propriedades de conexão](https://msdn.microsoft.com/library/ms378988.aspx).</span><span class="sxs-lookup"><span data-stu-id="c0189-191">Also, see [Setting the Connection Properties](https://msdn.microsoft.com/library/ms378988.aspx).</span></span>   
* <span data-ttu-id="c0189-192">O PolyBase não pode ser autenticado com a autenticação do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="c0189-192">PolyBase cannot authenticate by using Azure AD authentication.</span></span>   
* <span data-ttu-id="c0189-193">Há suporte para a autenticação do Azure AD no Banco de Dados SQL por meio das folhas **Importar Banco de Dados** e **Exportar Banco de Dados** do portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="c0189-193">Azure AD authentication is supported for SQL Database by the Azure portal **Import Database** and **Export Database** blades.</span></span> <span data-ttu-id="c0189-194">Também há suporte para importação e exportação com a autenticação do Azure AD no comando do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="c0189-194">Import and export using Azure AD authentication is also supported from the PowerShell command.</span></span>   
* <span data-ttu-id="c0189-195">Há suporte para a autenticação do Azure AD no Banco de Dados SQL e SQL Data Warehouse usando a CLI.</span><span class="sxs-lookup"><span data-stu-id="c0189-195">Azure AD authentication is supported for SQL Database and SQL Data Warehouse by use CLI.</span></span> <span data-ttu-id="c0189-196">Para saber mais, veja [Configurar e gerenciar o Azure Active Directory para autenticação com o Banco de Dados SQL ou o SQL Data Warehouse](sql-database-aad-authentication-configure.md) e [SQL Server – az sql server](https://docs.microsoft.com/en-us/cli/azure/sql/server).</span><span class="sxs-lookup"><span data-stu-id="c0189-196">For more information, see [Configure and manage Azure Active Directory authentication with SQL Database or SQL Data Warehouse](sql-database-aad-authentication-configure.md) and [SQL Server - az sql server](https://docs.microsoft.com/en-us/cli/azure/sql/server).</span></span>

## <a name="next-steps"></a><span data-ttu-id="c0189-197">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="c0189-197">Next steps</span></span>
- <span data-ttu-id="c0189-198">Para saber como criar e preencher o AD do Azure e, em seguida, configurar o Azure AD com o banco de dados do SQL Azure ou Azure SQL Data Warehouse, veja [Configurar e gerenciar a autenticação do Azure Active Directory com o Banco de Dados SQL ou SQL Data Warehouse](sql-database-aad-authentication-configure.md).</span><span class="sxs-lookup"><span data-stu-id="c0189-198">To learn how to create and populate Azure AD, and then configure Azure AD with Azure SQL Database or Azure SQL Data Warehouse, see [Configure and manage Azure Active Directory authentication with SQL Database or SQL Data Warehouse](sql-database-aad-authentication-configure.md).</span></span>
- <span data-ttu-id="c0189-199">Para obter uma visão geral de acesso e controle no Banco de Dados SQL, confira [Acesso e controle de Banco de Dados SQL](sql-database-control-access.md).</span><span class="sxs-lookup"><span data-stu-id="c0189-199">For an overview of access and control in SQL Database, see [SQL Database access and control](sql-database-control-access.md).</span></span>
- <span data-ttu-id="c0189-200">Para obter uma visão geral de logons, usuários e funções de banco de dados no Banco de Dados SQL, confira [Logons, usuários e funções de banco de dados](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="c0189-200">For an overview of logins, users, and database roles in SQL Database, see [Logins, users, and database roles](sql-database-manage-logins.md).</span></span>
- <span data-ttu-id="c0189-201">Para obter mais informações sobre objetos de banco de dados, confira [Entidades](https://msdn.microsoft.com/library/ms181127.aspx).</span><span class="sxs-lookup"><span data-stu-id="c0189-201">For more information about database principals, see [Principals](https://msdn.microsoft.com/library/ms181127.aspx).</span></span>
- <span data-ttu-id="c0189-202">Para obter mais informações sobre as funções de banco de dados, confira [Funções de banco de dados](https://msdn.microsoft.com/library/ms189121.aspx).</span><span class="sxs-lookup"><span data-stu-id="c0189-202">For more information about database roles, see [Database roles](https://msdn.microsoft.com/library/ms189121.aspx).</span></span>
- <span data-ttu-id="c0189-203">Para obter mais informações sobre as regras de firewall no Banco de Dados SQL, confira [Regras de firewall de Banco de Dados SQL](sql-database-firewall-configure.md).</span><span class="sxs-lookup"><span data-stu-id="c0189-203">For more information about firewall rules in SQL Database, see [SQL Database firewall rules](sql-database-firewall-configure.md).</span></span>

<!--Image references-->

[1]: ./media/sql-database-aad-authentication/1aad-auth-diagram.png
[2]: ./media/sql-database-aad-authentication/2subscription-relationship.png
[3]: ./media/sql-database-aad-authentication/3admin-structure.png
[4]: ./media/sql-database-aad-authentication/4select-subscription.png
[5]: ./media/sql-database-aad-authentication/5ad-settings-portal.png
[6]: ./media/sql-database-aad-authentication/6edit-directory-select.png
[7]: ./media/sql-database-aad-authentication/7edit-directory-confirm.png
[8]: ./media/sql-database-aad-authentication/8choose-ad.png
[9]: ./media/sql-database-aad-authentication/9ad-settings.png
[10]: ./media/sql-database-aad-authentication/10choose-admin.png
[11]: ./media/sql-database-aad-authentication/11connect-using-int-auth.png
[12]: ./media/sql-database-aad-authentication/12connect-using-pw-auth.png
[13]: ./media/sql-database-aad-authentication/13connect-to-db.png

