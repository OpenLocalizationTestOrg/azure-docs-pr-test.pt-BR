---
title: "Banco de Dados SQL: O que é um DTU? | Microsoft Docs"
description: "Noções básicas sobre o que uma unidade de transação do Banco de Dados SQL."
keywords: "opções de banco de dados, desempenho do banco de dados"
services: sql-database
documentationcenter: 
author: CarlRabeler
manager: jhubbard
editor: CarlRabeler
ms.assetid: 89e3e9ce-2eeb-4949-b40f-6fc3bf520538
ms.service: sql-database
ms.custom: DBs & servers
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: NA
ms.date: 04/13/2017
ms.author: carlrab
ms.openlocfilehash: ba1fe580b32826259edaf6c8dc124faaf5b3d234
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="explaining-database-transaction-units-dtus-and-elastic-database-transaction-units-edtus"></a><span data-ttu-id="4d1b7-105">Explicação de DTUs (Unidades de transação de banco de dados) e eDTUs (Unidades de transação de banco de dados elástico)</span><span class="sxs-lookup"><span data-stu-id="4d1b7-105">Explaining Database Transaction Units (DTUs) and elastic Database Transaction Units (eDTUs)</span></span>
<span data-ttu-id="4d1b7-106">Este artigo explica como unidades de transação do banco de dados (DTUs) e unidades de transação de banco de dados Elástico (eDTUs) e o que acontece quando você atinge Olá máximo de DTUs ou eDTUs.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-106">This article explains Database Transaction Units (DTUs) and elastic Database Transaction Units (eDTUs) and what happens when you hit hello maximum DTUs or eDTUs.</span></span>  

## <a name="what-are-database-transaction-units-dtus"></a><span data-ttu-id="4d1b7-107">O que são DTUs (Unidades de transação do banco de dados)</span><span class="sxs-lookup"><span data-stu-id="4d1b7-107">What are Database Transaction Units (DTUs)</span></span>
<span data-ttu-id="4d1b7-108">Para um único banco de dados do SQL Azure em um nível de desempenho específicos dentro de um [camada de serviço](sql-database-service-tiers.md#single-database-service-tiers-and-performance-levels), Microsoft garante um certo nível de recursos do banco de dados (independente de qualquer outro banco de dados na nuvem do Azure de saudação) e fornecendo um previsível nível de desempenho.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-108">For a single Azure SQL database at a specific performance level within a [service tier](sql-database-service-tiers.md#single-database-service-tiers-and-performance-levels), Microsoft guarantees a certain level of resources for that database (independent of any other database in hello Azure cloud) and providing a predictable level of performance.</span></span> <span data-ttu-id="4d1b7-109">Essa quantidade de recursos é calculada como um número de unidades de transação do banco de dados ou DTUs e é uma medida combinada de CPU, memória, E/S (E/S de dados e log de transações).</span><span class="sxs-lookup"><span data-stu-id="4d1b7-109">This amount of resources is calculated as a number of Database Transaction Units or DTUs, and is a blended measure of CPU, memory, I/O (data and transaction log I/O).</span></span> <span data-ttu-id="4d1b7-110">taxa de saudação entre esses recursos originalmente foi determinada por uma [carga de trabalho OLTP benchmark](sql-database-benchmark-overview.md) projetado toobe típico de cargas de trabalho OLTP reais.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-110">hello ratio amongst these resources was originally determined by an [OLTP benchmark workload](sql-database-benchmark-overview.md) designed toobe typical of real-world OLTP workloads.</span></span> <span data-ttu-id="4d1b7-111">Quando sua carga de trabalho excede a quantidade de saudação de qualquer um desses recursos, a taxa de transferência está limitado - resultando em desempenho mais lento e tempos limite.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-111">When your workload exceeds hello amount of any of these resources, your throughput is throttled - resulting in slower performance and timeouts.</span></span> <span data-ttu-id="4d1b7-112">recursos de saudação usados pela sua carga de trabalho não afetem Olá recursos tooother disponíveis bancos de dados SQL Olá nuvem do Azure e o recurso de saudação usado por outras cargas de trabalho não afeta o banco de dados SQL tooyour disponíveis de recursos de saudação.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-112">hello resources used by your workload do not impact hello resources available tooother SQL databases in hello Azure cloud, and hello resource used by other workloads do not impact hello resources available tooyour SQL database.</span></span>

![caixa delimitadora](./media/sql-database-what-is-a-dtu/bounding-box.png)

<span data-ttu-id="4d1b7-114">DTUs são mais úteis para a quantidade relativa do hello compreensão de recursos entre bancos de dados SQL Azure em diferentes níveis de desempenho e as camadas de serviço.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-114">DTUs are most useful for understanding hello relative amount of resources between Azure SQL Databases at different performance levels and service tiers.</span></span> <span data-ttu-id="4d1b7-115">Por exemplo, dobrar Olá DTUs aumentando o nível de desempenho de saudação do banco de dados equivale toodoubling conjunto de saudação do banco de dados do recurso toothat disponíveis.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-115">For example, doubling hello DTUs by increasing hello performance level of a database equates toodoubling hello set of resource available toothat database.</span></span> <span data-ttu-id="4d1b7-116">Por exemplo, um banco de dados Premium P11 com 1.750 DTUs fornece 350x mais capacidade de computação DTU que um banco de dados básico com 5 DTUs.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-116">For example, a Premium P11 database with 1750 DTUs provides 350x more DTU compute power than a Basic database with 5 DTUs.</span></span>  

<span data-ttu-id="4d1b7-117">toogain mais aprofundado sobre consumo de recursos (DTU) de saudação da carga de trabalho, use [análise de desempenho de consulta do banco de dados de SQL do Azure](sql-database-query-performance.md) para:</span><span class="sxs-lookup"><span data-stu-id="4d1b7-117">toogain deeper insight into hello resource (DTU) consumption of your workload, use [Azure SQL Database Query Performance Insight](sql-database-query-performance.md) to:</span></span>

- <span data-ttu-id="4d1b7-118">Identificar as principais consultas de saudação por contagem de duração/CPU/execução potencialmente pode ser ajustada para melhorar o desempenho.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-118">Identify hello top queries by CPU/Duration/Execution count that can potentially be tuned for improved performance.</span></span> <span data-ttu-id="4d1b7-119">Por exemplo, uma consulta com uso intensivo de e/s pode se beneficiar do uso de saudação do [técnicas de otimização de memória](sql-database-in-memory.md) toomake melhor o uso de memória disponível de saudação em determinados níveis de serviço da camada e o desempenho.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-119">For example, an I/O intensive query might benefit from hello use of [in-memory optimization techniques](sql-database-in-memory.md) toomake better use of hello available memory at a certain service tier and performance level.</span></span>
- <span data-ttu-id="4d1b7-120">Fazer drill down nos detalhes de saudação de uma consulta, exibir seu texto e o histórico de utilização de recursos.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-120">Drill down into hello details of a query, view its text and history of resource utilization.</span></span>
- <span data-ttu-id="4d1b7-121">Acesse recomendações de ajuste de desempenho que mostram as ações executadas pelo [Assistente do Banco de Dados SQL do Azure](sql-database-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="4d1b7-121">Access performance tuning recommendations that show actions performed by [SQL Database Advisor](sql-database-advisor.md).</span></span>

<span data-ttu-id="4d1b7-122">Você pode [alterar as camadas de serviço](sql-database-service-tiers.md) a qualquer momento com aplicativos do tempo de inatividade mínimo tooyour (geralmente média em quatro segundos).</span><span class="sxs-lookup"><span data-stu-id="4d1b7-122">You can [change service tiers](sql-database-service-tiers.md) at any time with minimal downtime tooyour application (generally averaging under four seconds).</span></span> <span data-ttu-id="4d1b7-123">Para muitas empresas e aplicativos, sendo toocreate capaz de bancos de dados e desempenho para cima ou para baixo sob demanda de discagem é suficiente, principalmente se os padrões de uso são relativamente previsíveis.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-123">For many businesses and apps, being able toocreate databases and dial performance up or down on demand is enough, especially if usage patterns are relatively predictable.</span></span> <span data-ttu-id="4d1b7-124">Mas se você tiver os padrões de uso imprevisíveis, ele pode tornar os custos de disco rígido toomanage e seu modelo de negócios.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-124">But if you have unpredictable usage patterns, it can make it hard toomanage costs and your business model.</span></span> <span data-ttu-id="4d1b7-125">Para este cenário, você pode usar um pool Elástico com um determinado número de eDTUs que são compartilhadas entre várias banco de dados no pool de saudação.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-125">For this scenario, you use an elastic pool with a certain number of eDTUs that are shared among multiple database in hello pool.</span></span>

![Introdução tooSQL banco de dados: único DTUs de banco de dados da camada e nível](./media/sql-database-what-is-a-dtu/single_db_dtus.png)

## <a name="what-are-elastic-database-transaction-units-edtus"></a><span data-ttu-id="4d1b7-127">O que são eDTUs (Unidades de transação de banco de dados elástico)</span><span class="sxs-lookup"><span data-stu-id="4d1b7-127">What are elastic Database Transaction Units (eDTUs)</span></span>
<span data-ttu-id="4d1b7-128">Em vez de fornecer um conjunto dedicado de recursos (DTUs) tooa banco de dados SQL que está sempre disponível independentemente de se não necessário, você pode colocar bancos de dados em um [pool Elástico](sql-database-elastic-pool.md) em um servidor de banco de dados SQL que compartilha um pool de recursos entre os banco de dados.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-128">Rather than provide a dedicated set of resources (DTUs) tooa SQL Database that is always available regardless of whether needed not, you can place databases into an [elastic pool](sql-database-elastic-pool.md) on a SQL Database server that shares a pool of resources among those database.</span></span> <span data-ttu-id="4d1b7-129">recursos de saudação compartilhado em um pool Elástico medido por Elástico unidades de transação do banco de dados ou eDTUs.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-129">hello shared resources in an elastic pool measured by elastic Database Transaction Units or eDTUs.</span></span> <span data-ttu-id="4d1b7-130">Pools Elásticos fornecem uma solução econômica simples toomanage metas de desempenho de saudação para vários bancos de dados com diferentes amplamente e padrões de uso imprevisível.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-130">Elastic pools provide a simple cost effective solution toomanage hello performance goals for multiple databases that have widely varying and unpredictable usage patterns.</span></span> <span data-ttu-id="4d1b7-131">Em um pool Elástico, você pode garantir que não há um banco de dados usa todos os recursos de saudação no pool de saudação e também que uma quantidade mínima de recursos é sempre o banco de dados tooa disponível em um pool Elástico.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-131">In an elastic pool, you can guarantee that no one database uses all of hello resources in hello pool and also that a minimum amount of resources is always available tooa database in an elastic pool.</span></span> <span data-ttu-id="4d1b7-132">Confira [pools elásticos](sql-database-elastic-pool.md) para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-132">See  [elastic pools](sql-database-elastic-pool.md) for more information.</span></span>

![Introdução tooSQL banco de dados: eDTUs por camada e nível](./media/sql-database-what-is-a-dtu/sqldb_elastic_pools.png)

<span data-ttu-id="4d1b7-134">Um pool é fornecido com um número definido de eDTUs por um preço definido.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-134">A pool is given a set number of eDTUs, for a set price.</span></span> <span data-ttu-id="4d1b7-135">Em pool Elástico de hello, bancos de dados individuais recebem Olá flexibilidade tooauto escala dentro dos limites de saudação configurado.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-135">Within hello elastic pool, individual databases are given hello flexibility tooauto-scale within hello configured boundaries.</span></span> <span data-ttu-id="4d1b7-136">Sob carga pesada, um banco de dados pode consumir mais demanda de toomeet eDTUs enquanto bancos de dados sob carga leve consumam menos, bancos de dados em nenhuma carga não consomem nenhum eDTUs de ponto de toohello.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-136">Under heavy load, a database can consume more eDTUs toomeet demand while databases under light loads consume less, up toohello point that databases under no load consume no eDTUs.</span></span> <span data-ttu-id="4d1b7-137">Provisionando recursos para o pool inteiro Olá, em vez de por banco de dados, as tarefas de gerenciamento são simplificadas e têm um orçamento previsível para o pool de saudação.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-137">By provisioning resources for hello entire pool, rather than per database, management tasks are simplified and you have a predictable budget for hello pool.</span></span>

<span data-ttu-id="4d1b7-138">EDTUs adicionais podem ser adicionados tooan o pool existente sem tempo de inatividade do banco de dados e sem nenhum impacto em bancos de dados Olá no pool de saudação.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-138">Additional eDTUs can be added tooan existing pool with no database downtime and with no impact on hello databases in hello pool.</span></span> <span data-ttu-id="4d1b7-139">Da mesma forma, se eDTUs extras não forem mais necessários, eles poderão ser removidos de um pool existente a qualquer momento.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-139">Similarly, if extra eDTUs are no longer needed, they can be removed from an existing pool at any point in time.</span></span> <span data-ttu-id="4d1b7-140">Você pode adicionar ou subtrair o pool de toohello de bancos de dados, ou o valor do limite de saudação do eDTUs de um banco de dados pode usar sob carga pesada tooreserve eDTUs para outros bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-140">You can add or subtract databases toohello pool, or limit hello amount of eDTUs a database can use under heavy load tooreserve eDTUs for other databases.</span></span> <span data-ttu-id="4d1b7-141">Se um banco de dados é previsível subutilizados recursos, você pode movê-lo do pool de saudação e configurá-lo como um único banco de dados com uma quantidade previsível de recursos necessários.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-141">If a database is predictably under-utilizing resources, you can move it out of hello pool and configure it as a single database with predictable amount of resources it requires.</span></span>

## <a name="how-can-i-determine-hello-number-of-dtus-needed-by-my-workload"></a><span data-ttu-id="4d1b7-142">Como determinar o número de saudação de DTUs necessários ao meu carga de trabalho?</span><span class="sxs-lookup"><span data-stu-id="4d1b7-142">How can I determine hello number of DTUs needed by my workload?</span></span>
<span data-ttu-id="4d1b7-143">Se você estiver procurando toomigrate local existente ou tooAzure de carga de trabalho de máquina virtual do SQL Server banco de dados SQL, você pode usar o hello [DTU Calculadora](http://dtucalculator.azurewebsites.net/) tooapproximate o número de saudação de DTUs necessário.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-143">If you are looking toomigrate an existing on-premises or SQL Server virtual machine workload tooAzure SQL Database, you can use hello [DTU Calculator](http://dtucalculator.azurewebsites.net/) tooapproximate hello number of DTUs needed.</span></span> <span data-ttu-id="4d1b7-144">Para uma carga de trabalho existente do banco de dados SQL, você pode usar [análise de desempenho de consulta de banco de dados SQL](sql-database-query-performance.md) toounderstand seu banco de dados recurso consumo (DTUs) tooget mais informações sobre como toooptimize sua carga de trabalho.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-144">For an existing Azure SQL Database workload, you can use [SQL Database Query Performance Insight](sql-database-query-performance.md) toounderstand your database resource consumption (DTUs) tooget deeper insight into how toooptimize your workload.</span></span> <span data-ttu-id="4d1b7-145">Você também pode usar o hello [sys.dm_db_ resource_stats](https://msdn.microsoft.com/library/dn800981.aspx) DMV tooget Olá consumo informações de recursos para Olá última hora.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-145">You can also use hello [sys.dm_db_ resource_stats](https://msdn.microsoft.com/library/dn800981.aspx) DMV tooget hello resource consumption information for hello last one hour.</span></span> <span data-ttu-id="4d1b7-146">Olá como alternativa, o modo de exibição de catálogo [sys. resource_stats](http://msdn.microsoft.com/library/dn269979.aspx) podem também ser consultado tooget Olá mesmos dados para Olá últimos 14 dias, ainda que com uma menor fidelidade de médias de cinco minutos.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-146">Alternatively, hello catalog view [sys.resource_stats](http://msdn.microsoft.com/library/dn269979.aspx) can also be queried tooget hello same data for hello last 14 days, although at a lower fidelity of five-minute averages.</span></span>

## <a name="how-do-i-know-if-i-could-benefit-from-an-elastic-pool-of-resources"></a><span data-ttu-id="4d1b7-147">Como posso saber se eu teria benefícios com um pool elástico de recursos?</span><span class="sxs-lookup"><span data-stu-id="4d1b7-147">How do I know if I could benefit from an elastic pool of resources?</span></span>
<span data-ttu-id="4d1b7-148">Pools também são indicados para um grande número de bancos de dados com padrões de utilização específicos.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-148">Pools are suited for a large number of databases with specific utilization patterns.</span></span> <span data-ttu-id="4d1b7-149">Para um determinado banco de dados, esse padrão é caracterizado por baixa utilização média com picos de utilização relativamente pouco frequentes.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-149">For a given database, this pattern is characterized by low average utilization with relatively infrequent utilization spikes.</span></span> <span data-ttu-id="4d1b7-150">Banco de dados SQL avalia Olá históricos de uso dos bancos de dados em um servidor de banco de dados SQL e recomenda Olá configuração de pool apropriado no portal do Azure de saudação automaticamente.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-150">SQL Database automatically evaluates hello historical resource usage of databases in an existing SQL Database server and recommends hello appropriate pool configuration in hello Azure portal.</span></span> <span data-ttu-id="4d1b7-151">Para saber mais , confira [Quando um pool elástico deve ser usado?](sql-database-elastic-pool.md)</span><span class="sxs-lookup"><span data-stu-id="4d1b7-151">For more information, see [when should an elastic pool be used?](sql-database-elastic-pool.md)</span></span>

## <a name="what-happens-when-i-hit-my-maximum-dtus"></a><span data-ttu-id="4d1b7-152">O que acontece quando eu atinjo o máximo de DTUs</span><span class="sxs-lookup"><span data-stu-id="4d1b7-152">What happens when I hit my maximum DTUs</span></span>
<span data-ttu-id="4d1b7-153">Níveis de desempenho são calibrados e tooprovide controlados Olá necessária recursos toorun sua carga de trabalho do banco de dados para cima toohello limites máximo permitido para seu nível de camada e desempenho do serviço selecionado.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-153">Performance levels are calibrated and governed tooprovide hello needed resources toorun your database workload up toohello max limits allowed for your selected service tier/performance level.</span></span> <span data-ttu-id="4d1b7-154">Se sua carga de trabalho está atingindo os limites de saudação em um dos limites de dados de CPU/es/Log es, continuar recursos de saudação tooreceive nível Olá máximo permitido, mas são provavelmente toosee aumentado latências de suas consultas.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-154">If your workload is hitting hello limits in one of CPU/Data IO/Log IO limits, you continue tooreceive hello resources at hello maximum allowed level, but you are likely toosee increased latencies for your queries.</span></span> <span data-ttu-id="4d1b7-155">Esses limites não resultam em erros, mas em vez disso, uma diminuição na carga de trabalho hello, a menos que lentidão Olá fica tão grave que consultas iniciam o tempo. Se você está atingindo os limites do máximo permitido de sessões/solicitações de usuários simultâneos (threads de trabalho), você verá erros explícitos.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-155">These limits do not result in any errors, but rather a slowdown in hello workload, unless hello slowdown becomes so severe that queries start timing out. If you are hitting limits of maximum allowed concurrent user sessions/requests (worker threads), you see explicit errors.</span></span> <span data-ttu-id="4d1b7-156">Confira [Limites de recursos do Banco de Dados SQL](sql-database-resource-limits.md) para saber mais sobre limite de recursos, além de CPU, memória, E/S de dados e E/S do log de transações.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-156">See [Azure SQL Database resource limits](sql-database-resource-limits.md) for information on limit on resources other than CPU, memory, data I/O, and transaction log I/O.</span></span>

## <a name="next-steps"></a><span data-ttu-id="4d1b7-157">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="4d1b7-157">Next steps</span></span>
* <span data-ttu-id="4d1b7-158">Consulte [camada de serviço](sql-database-service-tiers.md) para obter informações sobre Olá DTUs e eDTUs disponível para bancos de dados único e pools elásticos.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-158">See [Service tier](sql-database-service-tiers.md) for information on hello DTUs and eDTUs available for single databases and for elastic pools.</span></span>
* <span data-ttu-id="4d1b7-159">Confira [Limites de recursos do Banco de Dados SQL](sql-database-resource-limits.md) para saber mais sobre limite de recursos, além de CPU, memória, E/S de dados e E/S do log de transações.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-159">See [Azure SQL Database resource limits](sql-database-resource-limits.md) for information on limit on resources other than CPU, memory, data I/O, and transaction log I/O.</span></span>
* <span data-ttu-id="4d1b7-160">Consulte [análise de desempenho de consulta de banco de dados SQL](sql-database-query-performance.md) toounderstand seu consumo (DTUs).</span><span class="sxs-lookup"><span data-stu-id="4d1b7-160">See [SQL Database Query Performance Insight](sql-database-query-performance.md) toounderstand your (DTUs) consumption.</span></span>
* <span data-ttu-id="4d1b7-161">Consulte [visão geral do banco de dados SQL benchmark](sql-database-benchmark-overview.md) metodologia de saudação toounderstand por trás da carga de trabalho de parâmetro de comparação OLTP Olá usado Olá toodetermine DTU de mesclagem.</span><span class="sxs-lookup"><span data-stu-id="4d1b7-161">See [SQL Database benchmark overview](sql-database-benchmark-overview.md) toounderstand hello methodology behind hello OLTP benchmark workload used toodetermine hello DTU blend.</span></span>
