---
title: "soluções de recuperação de desastres aaaDesign - banco de dados do SQL Azure | Microsoft Docs"
description: "Saiba como toodesign sua solução de nuvem para recuperação de desastres por escolhendo Olá failover direito padrão."
services: sql-database
documentationcenter: 
author: anosov1960
manager: jhubbard
editor: monicar
ms.assetid: 2db99057-0c79-4fb0-a7f1-d1c057ec787f
ms.service: sql-database
ms.custom: business continuity
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 04/07/2017
ms.author: sashan;carlrab
ms.openlocfilehash: 9d9eca7570c7a01c992d0b33d449721709b471c3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="disaster-recovery-strategies-for-applications-using-sql-database-elastic-pools"></a><span data-ttu-id="16807-103">Estratégias de recuperação de desastres para aplicativos que usam o Pool Elástico do banco de dados SQL</span><span class="sxs-lookup"><span data-stu-id="16807-103">Disaster recovery strategies for applications using SQL Database elastic pools</span></span>
<span data-ttu-id="16807-104">Ao longo de anos de saudação aprendemos que os serviços de nuvem não são à prova de falhas e incidentes catastróficos acontecem.</span><span class="sxs-lookup"><span data-stu-id="16807-104">Over hello years we have learned that cloud services are not foolproof and catastrophic incidents happen.</span></span> <span data-ttu-id="16807-105">Banco de dados SQL fornece vários tooprovide de recursos Olá para continuidade de negócios do seu aplicativo quando esses incidentes ocorrem.</span><span class="sxs-lookup"><span data-stu-id="16807-105">SQL Database provides several capabilities tooprovide for hello business continuity of your application when these incidents occur.</span></span> <span data-ttu-id="16807-106">[Pools Elásticos](sql-database-elastic-pool.md) e suportam a bancos de dados único Olá mesmo tipo de recursos de recuperação de desastres.</span><span class="sxs-lookup"><span data-stu-id="16807-106">[Elastic pools](sql-database-elastic-pool.md) and single databases support hello same kind of disaster recovery capabilities.</span></span> <span data-ttu-id="16807-107">Este artigo descreve diversas estratégias de recuperação de desastres para pools elásticos que aproveitam esses recursos de continuidade de negócios do Banco de Dados SQL.</span><span class="sxs-lookup"><span data-stu-id="16807-107">This article describes several DR strategies for elastic pools that leverage these SQL Database business continuity features.</span></span>

<span data-ttu-id="16807-108">Este artigo usa o saudação padrão de aplicativo SaaS ISV canônico a seguir:</span><span class="sxs-lookup"><span data-stu-id="16807-108">This article uses hello following canonical SaaS ISV application pattern:</span></span>

<span data-ttu-id="16807-109"><i>Um aplicativo web baseado em nuvem modernos provisiona um banco de dados do SQL para cada usuário final. Olá ISV tem muitos clientes e, portanto, usa muitos bancos de dados, conhecidos como bancos de dados de locatário. Como bancos de dados de locatário Olá normalmente têm os padrões de atividade imprevisíveis, Olá ISV usa um pool Elástico toomake Olá banco de dados custo muito previsível por longos períodos de tempo. pool Elástico Olá também simplifica o gerenciamento de desempenho de saudação quando houver picos de atividade de usuário hello. Além do aplicativo hello do toohello locatário bancos de dados também usa vários bancos de dados toomanage perfis de usuário, segurança, coletam padrões de uso etc. Disponibilidade de locatários individuais Olá não afeta a disponibilidade do aplicativo hello como todo. No entanto, hello disponibilidade e o desempenho de bancos de dados de gerenciamento é essenciais para a função do aplicativo hello e se bancos de dados de gerenciamento Olá todo o aplicativo hello offline está offline.</i></span><span class="sxs-lookup"><span data-stu-id="16807-109"><i>A modern cloud-based web application provisions one SQL database for each end user. hello ISV has many customers and therefore uses many databases, known as tenant databases. Because hello tenant databases typically have unpredictable activity patterns, hello ISV uses an elastic pool toomake hello database cost very predictable over extended periods of time. hello elastic pool also simplifies hello performance management when hello user activity spikes. In addition toohello tenant databases hello application also uses several databases toomanage user profiles, security, collect usage patterns etc. Availability of hello individual tenants does not impact hello application’s availability as whole. However, hello availability and performance of management databases is critical for hello application’s function and if hello management databases are offline hello entire application is offline.</i></span></span>  

<span data-ttu-id="16807-110">Este artigo discute estratégias de recuperação de desastres que abrangem uma variedade de cenários de custo inicialização confidenciais aplicativos tooones com requisitos rigorosos de disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="16807-110">This article discusses DR strategies covering a range of scenarios from cost sensitive startup applications tooones with stringent availability requirements.</span></span>

## <a name="scenario-1-cost-sensitive-startup"></a><span data-ttu-id="16807-111">Cenário 1.</span><span class="sxs-lookup"><span data-stu-id="16807-111">Scenario 1.</span></span> <span data-ttu-id="16807-112">Inicialização econômica</span><span class="sxs-lookup"><span data-stu-id="16807-112">Cost sensitive startup</span></span>
<span data-ttu-id="16807-113"><i>Sou uma startup e dependo muito do custo das coisas.  Desejo toosimplify implantação e gerenciamento de aplicativo hello e tenho um SLA limitado para clientes individuais. Mas aplicativo hello de tooensure como um todo nunca está offline.</i></span><span class="sxs-lookup"><span data-stu-id="16807-113"><i>I am a startup business and am extremely cost sensitive.  I want toosimplify deployment and management of hello application and I can have a limited SLA for individual customers. But I want tooensure hello application as a whole is never offline.</i></span></span>

<span data-ttu-id="16807-114">requisito de simplicidade de saudação toosatisfy, implantar todos os bancos de dados de locatário em um pool Elástico em Olá região do Azure de sua escolha e implantar bancos de dados de gerenciamento como o único banco de dados replicada geograficamente.</span><span class="sxs-lookup"><span data-stu-id="16807-114">toosatisfy hello simplicity requirement, deploy all tenant databases into one elastic pool in hello Azure region of your choice and deploy management databases as geo-replicated single databases.</span></span> <span data-ttu-id="16807-115">Olá para recuperação de desastres de locatários, use a restauração geográfica, que é fornecido sem custo adicional.</span><span class="sxs-lookup"><span data-stu-id="16807-115">For hello disaster recovery of tenants, use geo-restore, which comes at no additional cost.</span></span> <span data-ttu-id="16807-116">disponibilidade de saudação tooensure de Olá bancos de dados de gerenciamento, replicar geograficamente-los região tooanother usando um grupo de failover automático (em visualização) (etapa 1).</span><span class="sxs-lookup"><span data-stu-id="16807-116">tooensure hello availability of hello management databases, geo-replicate them tooanother region using an auto-failover group (in-preview) (step 1).</span></span> <span data-ttu-id="16807-117">custos contínuos Olá configuração de recuperação de desastres Olá neste cenário é igual toohello o custo total de bancos de dados secundários hello.</span><span class="sxs-lookup"><span data-stu-id="16807-117">hello ongoing cost of hello disaster recovery configuration in this scenario is equal toohello total cost of hello secondary databases.</span></span> <span data-ttu-id="16807-118">Essa configuração é ilustrada no próximo diagrama de saudação.</span><span class="sxs-lookup"><span data-stu-id="16807-118">This configuration is illustrated on hello next diagram.</span></span>

![A figura 1](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-1.png)

<span data-ttu-id="16807-120">Se ocorrer uma interrupção na região primária hello, Olá toobring de etapas de recuperação online, seu aplicativo são ilustrado pelo diagrama Avançar hello.</span><span class="sxs-lookup"><span data-stu-id="16807-120">If an outage occurs in hello primary region, hello recovery steps toobring your application online are illustrated by hello next diagram.</span></span>

* <span data-ttu-id="16807-121">grupo de failover Olá iniciará o failover automático de região de DR de toohello do hello Gerenciamento banco de dados.</span><span class="sxs-lookup"><span data-stu-id="16807-121">hello failover group initiates automatic failover of hello management database toohello DR region.</span></span> <span data-ttu-id="16807-122">aplicativo Hello é reconectada automaticamente toohello novas contas de principal e todos os novos e bancos de dados de locatário são criados na região de DR hello.</span><span class="sxs-lookup"><span data-stu-id="16807-122">hello application is automatically reconnected toohello new primary and all new accounts and tenant databases are created in hello DR region.</span></span> <span data-ttu-id="16807-123">os clientes existentes do Hello veem seus dados temporariamente indisponíveis.</span><span class="sxs-lookup"><span data-stu-id="16807-123">hello existing customers see their data temporarily unavailable.</span></span>
* <span data-ttu-id="16807-124">Criar o pool Elástico Olá com hello mesma configuração de pool original da saudação (2).</span><span class="sxs-lookup"><span data-stu-id="16807-124">Create hello elastic pool with hello same configuration as hello original pool (2).</span></span>
* <span data-ttu-id="16807-125">Use a restauração geográfica toocreate cópias de bancos de dados de locatário de saudação (3).</span><span class="sxs-lookup"><span data-stu-id="16807-125">Use geo-restore toocreate copies of hello tenant databases (3).</span></span> <span data-ttu-id="16807-126">Você pode considerar disparo restaurações individuais Olá por conexões de usuário final hello ou usar outro esquema de prioridade específica do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="16807-126">You can consider triggering hello individual restores by hello end-user connections or use some other application-specific priority scheme.</span></span>


<span data-ttu-id="16807-127">Neste ponto o aplicativo está novamente online na região de DR Olá, mas alguns clientes observem atraso ao acessar seus dados.</span><span class="sxs-lookup"><span data-stu-id="16807-127">At this point your application is back online in hello DR region, but some customers experience delay when accessing their data.</span></span>

![Figura 2](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-2.png)

<span data-ttu-id="16807-129">Se interrupção Olá temporária, é possível que região primária Olá é recuperado do Azure antes de todas as restaurações de banco de dados de saudação completas na região Olá DR.</span><span class="sxs-lookup"><span data-stu-id="16807-129">If hello outage was temporary, it is possible that hello primary region is recovered by Azure before all hello database restores are complete in hello DR region.</span></span> <span data-ttu-id="16807-130">Nesse caso, orquestra móvel Olá aplicativo back toohello região primária.</span><span class="sxs-lookup"><span data-stu-id="16807-130">In this case, orchestrate moving hello application back toohello primary region.</span></span> <span data-ttu-id="16807-131">processo de saudação leva etapas Olá ilustradas no diagrama seguinte hello.</span><span class="sxs-lookup"><span data-stu-id="16807-131">hello process takes hello steps illustrated on hello next diagram.</span></span>

* <span data-ttu-id="16807-132">Cancele todas as solicitações de restauração geográfica pendentes.</span><span class="sxs-lookup"><span data-stu-id="16807-132">Cancel all outstanding geo-restore requests.</span></span>   
* <span data-ttu-id="16807-133">Região de primária toohello (5) de bancos de dados de gerenciamento Olá o failover.</span><span class="sxs-lookup"><span data-stu-id="16807-133">Fail over hello management databases toohello primary region (5).</span></span> <span data-ttu-id="16807-134">Após a recuperação da região hello, primárias antigo Olá automaticamente tornaram secundários.</span><span class="sxs-lookup"><span data-stu-id="16807-134">After hello region’s recovery, hello old primaries have automatically become secondaries.</span></span> <span data-ttu-id="16807-135">Agora eles alternam funções novamente.</span><span class="sxs-lookup"><span data-stu-id="16807-135">Now they switch roles again.</span></span> 
* <span data-ttu-id="16807-136">Altere conexão cadeia de caracteres toopoint toohello back principal de região do aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="16807-136">Change hello application's connection string toopoint back toohello primary region.</span></span> <span data-ttu-id="16807-137">Agora todas as novas contas e bancos de dados de locatário são criados na região primária hello.</span><span class="sxs-lookup"><span data-stu-id="16807-137">Now all new accounts and tenant databases are created in hello primary region.</span></span> <span data-ttu-id="16807-138">Alguns clientes existentes verão seus dados como temporariamente indisponíveis.</span><span class="sxs-lookup"><span data-stu-id="16807-138">Some existing customers see their data temporarily unavailable.</span></span>   
* <span data-ttu-id="16807-139">Conjunto de todos os bancos de dados em Olá DR pool somente tooread tooensure que elas não podem ser modificadas na região de DR hello (6).</span><span class="sxs-lookup"><span data-stu-id="16807-139">Set all databases in hello DR pool tooread-only tooensure they cannot be modified in hello DR region (6).</span></span> 
* <span data-ttu-id="16807-140">Para cada banco de dados Olá pool DR que foi alterado desde a recuperação hello, renomear ou excluir bancos de dados correspondentes no pool principal da saudação (7) hello.</span><span class="sxs-lookup"><span data-stu-id="16807-140">For each database in hello DR pool that has changed since hello recovery, rename or delete hello corresponding databases in hello primary pool (7).</span></span> 
* <span data-ttu-id="16807-141">Saudação de cópia atualizada bancos de dados de saudação pool principal de toohello pool da recuperação de desastres (8).</span><span class="sxs-lookup"><span data-stu-id="16807-141">Copy hello updated databases from hello DR pool toohello primary pool (8).</span></span> 
* <span data-ttu-id="16807-142">Excluir o pool de DR hello (9)</span><span class="sxs-lookup"><span data-stu-id="16807-142">Delete hello DR pool (9)</span></span>

<span data-ttu-id="16807-143">Agora seu aplicativo está online na região primária do hello com todos os locatários bancos de dados disponíveis no pool principal hello.</span><span class="sxs-lookup"><span data-stu-id="16807-143">At this point your application is online in hello primary region with all tenant databases available in hello primary pool.</span></span>

![A figura 3](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-3.png)

<span data-ttu-id="16807-145">chave de saudação **se beneficiar** dessa estratégia é baixo custo em andamento para a redundância de camada de dados.</span><span class="sxs-lookup"><span data-stu-id="16807-145">hello key **benefit** of this strategy is low ongoing cost for data tier redundancy.</span></span> <span data-ttu-id="16807-146">Os backups são obtidos automaticamente pelo Olá serviço de banco de dados SQL com nenhuma reconfiguração de aplicativos e sem nenhum custo adicional.</span><span class="sxs-lookup"><span data-stu-id="16807-146">Backups are taken automatically by hello SQL Database service with no application rewrite and at no additional cost.</span></span>  <span data-ttu-id="16807-147">custo de saudação incorrido somente quando os bancos de dados Elástico Olá são restaurados.</span><span class="sxs-lookup"><span data-stu-id="16807-147">hello cost is incurred only when hello elastic databases are restored.</span></span> <span data-ttu-id="16807-148">Olá **compensação** está completa de recuperação de todos os bancos de dados de locatário Olá leva um tempo significativo.</span><span class="sxs-lookup"><span data-stu-id="16807-148">hello **trade-off** is that hello complete recovery of all tenant databases takes significant time.</span></span> <span data-ttu-id="16807-149">Olá período de tempo depende Olá número total de restauração que você iniciar o hello DR região e o tamanho total da saudação bancos de dados de locatário.</span><span class="sxs-lookup"><span data-stu-id="16807-149">hello length of time depends on hello total number of restores you initiate in hello DR region and overall size of hello tenant databases.</span></span> <span data-ttu-id="16807-150">Mesmo que você pode priorizar restaurações alguns locatários por outras pessoas, estão competindo por hello todas as outras restaurações iniciadas no hello mesma região como serviço de saudação arbitra e limita toominimize Olá impacto geral nos bancos de dados dos clientes Olá existente.</span><span class="sxs-lookup"><span data-stu-id="16807-150">Even if you prioritize some tenants' restores over others, you are competing with all hello other restores that are initiated in hello same region as hello service arbitrates and throttles toominimize hello overall impact on hello existing customers' databases.</span></span> <span data-ttu-id="16807-151">Além disso, recuperação de saudação de bancos de dados de locatário Olá não pode iniciar até que o novo pool Elástico Olá na região de DR Olá é criado.</span><span class="sxs-lookup"><span data-stu-id="16807-151">In addition, hello recovery of hello tenant databases cannot start until hello new elastic pool in hello DR region is created.</span></span>

## <a name="scenario-2-mature-application-with-tiered-service"></a><span data-ttu-id="16807-152">Cenário 2:</span><span class="sxs-lookup"><span data-stu-id="16807-152">Scenario 2.</span></span> <span data-ttu-id="16807-153">Aplicativo maduro com o serviço em camadas</span><span class="sxs-lookup"><span data-stu-id="16807-153">Mature application with tiered service</span></span>
<span data-ttu-id="16807-154"><i>Tenho um aplicativo SaaS evoluído com ofertas de serviço em camadas e diferentes SLAs para clientes de avaliação e para clientes pagantes. Para clientes de avaliação hello, tenho tooreduce Olá custo tanto quanto possível. Clientes de teste podem levar um tempo de inatividade, mas quero tooreduce sua probabilidade. Para os clientes pagantes de Olá, nenhum tempo de inatividade é um risco de voo. Forma desejada toomake se clientes pagantes estão sempre tooaccess capaz de seus dados.</i></span><span class="sxs-lookup"><span data-stu-id="16807-154"><i>I am a mature SaaS application with tiered service offers and different SLAs for trial customers and for paying customers. For hello trial customers, I have tooreduce hello cost as much as possible. Trial customers can take downtime but I want tooreduce its likelihood. For hello paying customers, any downtime is a flight risk. So I want toomake sure that paying customers are always able tooaccess their data.</i></span></span> 

<span data-ttu-id="16807-155">toosupport neste cenário, separado Olá locatários de avaliação de paga locatários colocando-os em pools Elásticos separados.</span><span class="sxs-lookup"><span data-stu-id="16807-155">toosupport this scenario, separate hello trial tenants from paid tenants by putting them into separate elastic pools.</span></span> <span data-ttu-id="16807-156">os clientes de avaliação do Hello têm inferior eDTU por locatário e SLA inferior com um tempo de recuperação.</span><span class="sxs-lookup"><span data-stu-id="16807-156">hello trial customers have lower eDTU per tenant and lower SLA with a longer recovery time.</span></span> <span data-ttu-id="16807-157">clientes que pagam Olá estão em um pool com maior eDTU por locatário e um SLA mais alto.</span><span class="sxs-lookup"><span data-stu-id="16807-157">hello paying customers are in a pool with higher eDTU per tenant and a higher SLA.</span></span> <span data-ttu-id="16807-158">tempo de recuperação mais baixo saudação de tooguarantee, bancos de dados dos clientes pagantes Olá locatário são replicadas geograficamente.</span><span class="sxs-lookup"><span data-stu-id="16807-158">tooguarantee hello lowest recovery time, hello paying customers' tenant databases are geo-replicated.</span></span> <span data-ttu-id="16807-159">Essa configuração é ilustrada no próximo diagrama de saudação.</span><span class="sxs-lookup"><span data-stu-id="16807-159">This configuration is illustrated on hello next diagram.</span></span> 

![Figura 4](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-4.png)

<span data-ttu-id="16807-161">Como o primeiro cenário de hello, bancos de dados de gerenciamento de saudação são muito ativos para usar um banco de dados único replicado geograficamente para (1).</span><span class="sxs-lookup"><span data-stu-id="16807-161">As in hello first scenario, hello management databases are quite active so you use a single geo-replicated database for it (1).</span></span> <span data-ttu-id="16807-162">Isso garante um desempenho previsível Olá para novas assinaturas de clientes, atualizações de perfil e outras operações de gerenciamento.</span><span class="sxs-lookup"><span data-stu-id="16807-162">This ensures hello predictable performance for new customer subscriptions, profile updates, and other management operations.</span></span> <span data-ttu-id="16807-163">região na qual residem primários da saudação de bancos de dados de gerenciamento Olá Hello é região primária hello e Olá no qual residem secundários Olá de bancos de dados de gerenciamento Olá Olá DR a região é.</span><span class="sxs-lookup"><span data-stu-id="16807-163">hello region in which hello primaries of hello management databases reside is hello primary region and hello region in which hello secondaries of hello management databases reside is hello DR region.</span></span>

<span data-ttu-id="16807-164">Olá locatário bancos de dados clientes pagantes têm bancos de dados ativos em hello "pago" pool provisionado na região primária hello.</span><span class="sxs-lookup"><span data-stu-id="16807-164">hello paying customers’ tenant databases have active databases in hello “paid” pool provisioned in hello primary region.</span></span> <span data-ttu-id="16807-165">Provisione um pool secundário com hello mesmo nome na região Olá DR.</span><span class="sxs-lookup"><span data-stu-id="16807-165">Provision a secondary pool with hello same name in hello DR region.</span></span> <span data-ttu-id="16807-166">Cada locatário é replicado geograficamente toohello secundário pool (2).</span><span class="sxs-lookup"><span data-stu-id="16807-166">Each tenant is geo-replicated toohello secondary pool (2).</span></span> <span data-ttu-id="16807-167">Isso permite a recuperação rápida de todos os bancos de dados do locatário usando o failover.</span><span class="sxs-lookup"><span data-stu-id="16807-167">This enables quick recovery of all tenant databases using failover.</span></span> 

<span data-ttu-id="16807-168">Se ocorrer uma interrupção na região primária hello, Olá toobring de etapas de recuperação online, seu aplicativo são ilustradas no diagrama de Avançar hello:</span><span class="sxs-lookup"><span data-stu-id="16807-168">If an outage occurs in hello primary region, hello recovery steps toobring your application online are illustrated in hello next diagram:</span></span>

![Figura 5](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-5.png)

* <span data-ttu-id="16807-170">Failover imediatamente região Olá gerenciamento bancos de dados toohello DR (3).</span><span class="sxs-lookup"><span data-stu-id="16807-170">Immediately fail over hello management databases toohello DR region (3).</span></span>
* <span data-ttu-id="16807-171">Altere conexão cadeia de caracteres toopoint toohello DR de região do aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="16807-171">Change hello application’s connection string toopoint toohello DR region.</span></span> <span data-ttu-id="16807-172">Agora todas as novas contas e bancos de dados de locatário são criados na região de DR hello.</span><span class="sxs-lookup"><span data-stu-id="16807-172">Now all new accounts and tenant databases are created in hello DR region.</span></span> <span data-ttu-id="16807-173">clientes de teste existente Olá veem seus dados temporariamente indisponíveis.</span><span class="sxs-lookup"><span data-stu-id="16807-173">hello existing trial customers see their data temporarily unavailable.</span></span>
* <span data-ttu-id="16807-174">Failover Olá paga o pool de toohello de bancos de dados do locatário em Olá DR região tooimmediately restaurar sua disponibilidade (4).</span><span class="sxs-lookup"><span data-stu-id="16807-174">Fail over hello paid tenant's databases toohello pool in hello DR region tooimmediately restore their availability (4).</span></span> <span data-ttu-id="16807-175">Como Olá failover é uma alteração do nível de metadados rápido, considere uma otimização onde failovers individuais Olá são disparadas sob demanda por conexões de usuário final hello.</span><span class="sxs-lookup"><span data-stu-id="16807-175">Since hello failover is a quick metadata level change, consider an optimization where hello individual failovers are triggered on demand by hello end-user connections.</span></span> 
* <span data-ttu-id="16807-176">Se o tamanho de eDTU do pool secundário era inferior a saudação primária porque os bancos de dados secundários Olá apenas Olá necessária capacidade tooprocess Olá alteração logs ao mesmo tempo em que eles foram secundários, imediatamente aumentar capacidade do pool de saudação agora tooaccommodate Olá completo carga de trabalho de todos os locatários (5).</span><span class="sxs-lookup"><span data-stu-id="16807-176">If your secondary pool eDTU size was lower than hello primary because hello secondary databases only required hello capacity tooprocess hello change logs while they were secondaries, immediately increase hello pool capacity now tooaccommodate hello full workload of all tenants (5).</span></span> 
* <span data-ttu-id="16807-177">Criar novo pool Elástico de saudação com hello mesmo nome e Olá mesmo configuração na região Olá recuperação de desastres para bancos de dados dos clientes avaliação hello (6).</span><span class="sxs-lookup"><span data-stu-id="16807-177">Create hello new elastic pool with hello same name and hello same configuration in hello DR region for hello trial customers' databases (6).</span></span> 
* <span data-ttu-id="16807-178">Depois que o pool dos clientes Olá avaliação é criado, use bancos de dados de restauração geográfica toorestore Olá individuais de locatário de avaliação no novo pool de saudação (7).</span><span class="sxs-lookup"><span data-stu-id="16807-178">Once hello trial customers’ pool is created, use geo-restore toorestore hello individual trial tenant databases into hello new pool (7).</span></span> <span data-ttu-id="16807-179">Considere disparo restaurações individuais Olá por conexões de usuário final hello ou use outro esquema de prioridade específica do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="16807-179">Consider triggering hello individual restores by hello end-user connections or use some other application-specific priority scheme.</span></span>

<span data-ttu-id="16807-180">Agora seu aplicativo está novamente online na região de DR hello.</span><span class="sxs-lookup"><span data-stu-id="16807-180">At this point your application is back online in hello DR region.</span></span> <span data-ttu-id="16807-181">Todos os clientes pagantes têm acesso tootheir dados enquanto os clientes de avaliação Olá experiência atraso ao acessar seus dados.</span><span class="sxs-lookup"><span data-stu-id="16807-181">All paying customers have access tootheir data while hello trial customers experience delay when accessing their data.</span></span>

<span data-ttu-id="16807-182">Quando a região primária Olá é recuperado pelo Azure *depois* você restaurou o aplicativo hello na região Olá DR que você pode continuar executando o aplicativo hello nessa região ou você pode decidir região primária do toofail toohello voltar.</span><span class="sxs-lookup"><span data-stu-id="16807-182">When hello primary region is recovered by Azure *after* you have restored hello application in hello DR region you can continue running hello application in that region or you can decide toofail back toohello primary region.</span></span> <span data-ttu-id="16807-183">Se a região primária Olá é recuperado *antes de* Olá failover processo for concluído, considere com falha novamente imediatamente.</span><span class="sxs-lookup"><span data-stu-id="16807-183">If hello primary region is recovered *before* hello failover process is completed, consider failing back right away.</span></span> <span data-ttu-id="16807-184">Olá failback necessárias etapas de saudação ilustradas no diagrama seguinte hello:</span><span class="sxs-lookup"><span data-stu-id="16807-184">hello failback takes hello steps illustrated in hello next diagram:</span></span> 

![Figura 6](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-6.png)

* <span data-ttu-id="16807-186">Cancele todas as solicitações de restauração geográfica pendentes.</span><span class="sxs-lookup"><span data-stu-id="16807-186">Cancel all outstanding geo-restore requests.</span></span>   
* <span data-ttu-id="16807-187">Failover de bancos de dados de gerenciamento de saudação (8).</span><span class="sxs-lookup"><span data-stu-id="16807-187">Fail over hello management databases (8).</span></span> <span data-ttu-id="16807-188">Após a recuperação da região hello, hello antigo primário se torna automaticamente Olá secundário.</span><span class="sxs-lookup"><span data-stu-id="16807-188">After hello region’s recovery, hello old primary automatically become hello secondary.</span></span> <span data-ttu-id="16807-189">Agora ele se torna Olá primário novamente.</span><span class="sxs-lookup"><span data-stu-id="16807-189">Now it becomes hello primary again.</span></span>  
* <span data-ttu-id="16807-190">Failover Olá paga bancos de dados do locatário (9).</span><span class="sxs-lookup"><span data-stu-id="16807-190">Fail over hello paid tenant databases (9).</span></span> <span data-ttu-id="16807-191">Da mesma forma, após a recuperação da região hello, primários antigo da saudação se torna automaticamente secundários hello.</span><span class="sxs-lookup"><span data-stu-id="16807-191">Similarly, after hello region’s recovery, hello old primaries automatically become hello secondaries.</span></span> <span data-ttu-id="16807-192">Agora eles se tornam primárias Olá novamente.</span><span class="sxs-lookup"><span data-stu-id="16807-192">Now they become hello primaries again.</span></span> 
* <span data-ttu-id="16807-193">Olá conjunto restaurado avaliação bancos de dados que foram alterados na região de DR Olá somente tooread (10).</span><span class="sxs-lookup"><span data-stu-id="16807-193">Set hello restored trial databases that have changed in hello DR region tooread-only (10).</span></span>
* <span data-ttu-id="16807-194">Para cada banco de dados no pool de DR de clientes avaliação Olá que foram alteradas desde a recuperação hello, renomear ou excluir o banco de dados correspondente no pool principal de clientes de avaliações de saudação (11) hello.</span><span class="sxs-lookup"><span data-stu-id="16807-194">For each database in hello trial customers DR pool that changed since hello recovery, rename or delete hello corresponding database in hello trial customers primary pool (11).</span></span> 
* <span data-ttu-id="16807-195">Saudação de cópia atualizada bancos de dados de saudação pool principal de toohello pool da recuperação de desastres (12).</span><span class="sxs-lookup"><span data-stu-id="16807-195">Copy hello updated databases from hello DR pool toohello primary pool (12).</span></span> 
* <span data-ttu-id="16807-196">Excluir o pool de DR hello (13)</span><span class="sxs-lookup"><span data-stu-id="16807-196">Delete hello DR pool (13)</span></span> 

> [!NOTE]
> <span data-ttu-id="16807-197">a operação de failover Olá é assíncrona.</span><span class="sxs-lookup"><span data-stu-id="16807-197">hello failover operation is asynchronous.</span></span> <span data-ttu-id="16807-198">tempo de recuperação de saudação toominimize é importante que você execute o comando de failover Olá locatário dos bancos de dados em lotes de pelo menos 20 bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="16807-198">toominimize hello recovery time it is important that you execute hello tenant databases' failover command in batches of at least 20 databases.</span></span> 
> 
> 

<span data-ttu-id="16807-199">chave de saudação **se beneficiar** dessa estratégia é que ele fornece SLA mais alto Olá para Olá clientes pagantes.</span><span class="sxs-lookup"><span data-stu-id="16807-199">hello key **benefit** of this strategy is that it provides hello highest SLA for hello paying customers.</span></span> <span data-ttu-id="16807-200">Ela também garante que avaliações novo Olá estiverem desbloqueadas, assim como Olá avaliação DR pool é criado.</span><span class="sxs-lookup"><span data-stu-id="16807-200">It also guarantees that hello new trials are unblocked as soon as hello trial DR pool is created.</span></span> <span data-ttu-id="16807-201">Olá **compensação** essa configuração aumenta Olá o custo total de bancos de dados de locatário Olá pelo custo de saudação do pool de DR secundário Olá para clientes pago.</span><span class="sxs-lookup"><span data-stu-id="16807-201">hello **trade-off** is that this setup increases hello total cost of hello tenant databases by hello cost of hello secondary DR pool for paid customers.</span></span> <span data-ttu-id="16807-202">Além disso, se o pool secundário Olá tem um tamanho diferente, clientes pagantes Olá experiência menor desempenho depois do failover até hello pool na região Olá DR conclusão da atualização.</span><span class="sxs-lookup"><span data-stu-id="16807-202">In addition, if hello secondary pool has a different size, hello paying customers experience lower performance after failover until hello pool upgrade in hello DR region is completed.</span></span> 

## <a name="scenario-3-geographically-distributed-application-with-tiered-service"></a><span data-ttu-id="16807-203">Cenário 3:</span><span class="sxs-lookup"><span data-stu-id="16807-203">Scenario 3.</span></span> <span data-ttu-id="16807-204">Aplicativo distribuído geograficamente com o serviço em camadas</span><span class="sxs-lookup"><span data-stu-id="16807-204">Geographically distributed application with tiered service</span></span>
<span data-ttu-id="16807-205"><i>Eu tenho um aplicativo SaaS evoluído com ofertas de serviço em camadas. Desejo toooffer um toomy SLA muito agressiva paga clientes e minimizar o risco de saudação do impacto quando ocorrem falhas porque o mesmo breves interrupções podem causar insatisfação dos clientes. É importante que os clientes pagantes de saudação sempre pode acessar seus dados. avaliações de saudação são gratuitas e um SLA não é oferecido durante o período de avaliação hello.</i></span><span class="sxs-lookup"><span data-stu-id="16807-205"><i>I have a mature SaaS application with tiered service offers. I want toooffer a very aggressive SLA toomy paid customers and minimize hello risk of impact when outages occur because even brief interruption can cause customer dissatisfaction. It is critical that hello paying customers can always access their data. hello trials are free and an SLA is not offered during hello trial period. </i></span></span> 

<span data-ttu-id="16807-206">toosupport neste cenário, três pools Elásticos separado use.</span><span class="sxs-lookup"><span data-stu-id="16807-206">toosupport this scenario, use three separate elastic pools.</span></span> <span data-ttu-id="16807-207">Dois pools de tamanho igual provisionar com alta eDTUs por banco de dados em dois Olá toocontain de regiões diferentes pagos, bancos de dados de locatário de clientes.</span><span class="sxs-lookup"><span data-stu-id="16807-207">Provision two equal size pools with high eDTUs per database in two different regions toocontain hello paid customers' tenant databases.</span></span> <span data-ttu-id="16807-208">pool de terceiro Olá contendo locatários de avaliação Olá pode ter eDTUs inferior por banco de dados e ser provisionado em uma das duas regiões de saudação.</span><span class="sxs-lookup"><span data-stu-id="16807-208">hello third pool containing hello trial tenants can have lower eDTUs per database and be provisioned in one of hello two regions.</span></span>

<span data-ttu-id="16807-209">tempo menor de recuperação durante interrupções da saudação tooguarantee, bancos de dados dos clientes pagantes Olá locatário são replicados geograficamente com 50% de bancos de dados primário em cada uma das regiões Olá dois hello.</span><span class="sxs-lookup"><span data-stu-id="16807-209">tooguarantee hello lowest recovery time during outages, hello paying customers' tenant databases are geo-replicated with 50% of hello primary databases in each of hello two regions.</span></span> <span data-ttu-id="16807-210">Da mesma forma, cada região tem 50% dos bancos de dados secundários hello.</span><span class="sxs-lookup"><span data-stu-id="16807-210">Similarly, each region has 50% of hello secondary databases.</span></span> <span data-ttu-id="16807-211">Dessa forma, se uma região estiver offline, somente 50% da saudação paga bancos de dados de clientes são afetados e têm toofail sobre.</span><span class="sxs-lookup"><span data-stu-id="16807-211">This way, if a region is offline, only 50% of hello paid customers' databases are impacted and have toofail over.</span></span> <span data-ttu-id="16807-212">Olá a outros bancos de dados permanecem intactos.</span><span class="sxs-lookup"><span data-stu-id="16807-212">hello other databases remain intact.</span></span> <span data-ttu-id="16807-213">Essa configuração é ilustrada no diagrama a seguir de saudação:</span><span class="sxs-lookup"><span data-stu-id="16807-213">This configuration is illustrated in hello following diagram:</span></span>

![Figura 4](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-7.png)

<span data-ttu-id="16807-215">Como em cenários de anterior hello, bancos de dados de gerenciamento de saudação são muito ativos para configurá-los como uma única replicado geograficamente bancos de dados (1).</span><span class="sxs-lookup"><span data-stu-id="16807-215">As in hello previous scenarios, hello management databases are quite active so configure them as single geo-replicated databases (1).</span></span> <span data-ttu-id="16807-216">Isso garante um desempenho previsível Olá de novas assinaturas de cliente hello, atualizações de perfil e outras operações de gerenciamento.</span><span class="sxs-lookup"><span data-stu-id="16807-216">This ensures hello predictable performance of hello new customer subscriptions, profile updates and other management operations.</span></span> <span data-ttu-id="16807-217">A saudação primário a região é para bancos de dados de gerenciamento hello e região Olá B é usado para recuperação de bancos de dados de gerenciamento de saudação.</span><span class="sxs-lookup"><span data-stu-id="16807-217">Region A is hello primary region for hello management databases and hello region B is used for recovery of hello management databases.</span></span>

<span data-ttu-id="16807-218">bancos de dados dos clientes pagantes Olá locatário também são replicados geograficamente, mas com cores primárias e secundárias divididos entre regiões A e B (2).</span><span class="sxs-lookup"><span data-stu-id="16807-218">hello paying customers’ tenant databases are also geo-replicated but with primaries and secondaries split between region A and region B (2).</span></span> <span data-ttu-id="16807-219">Dessa forma, Olá locatário bancos de dados primários afetados pela interrupção Olá failover toohello outra região e ficam disponíveis.</span><span class="sxs-lookup"><span data-stu-id="16807-219">This way, hello tenant primary databases impacted by hello outage can fail over toohello other region and become available.</span></span> <span data-ttu-id="16807-220">Olá outros metade dos bancos de dados de locatário Olá não são afetados em todos os.</span><span class="sxs-lookup"><span data-stu-id="16807-220">hello other half of hello tenant databases are not be impacted at all.</span></span> 

<span data-ttu-id="16807-221">Olá próximo diagrama ilustra Olá tootake de etapas de recuperação se ocorrer uma interrupção na região A.</span><span class="sxs-lookup"><span data-stu-id="16807-221">hello next diagram illustrates hello recovery steps tootake if  an outage occurs in region A.</span></span>

![Figura 5](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-8.png)

* <span data-ttu-id="16807-223">Failover imediatamente tooregion de bancos de dados de gerenciamento Olá B (3).</span><span class="sxs-lookup"><span data-stu-id="16807-223">Immediately fail over hello management databases tooregion B (3).</span></span>
* <span data-ttu-id="16807-224">Alterar bancos de dados do aplicativo hello conexão cadeia de caracteres toopoint toohello gerenciamento na região B. modificar Olá gerenciamento bancos de dados toomake se Olá novas contas e bancos de dados de locatário são criados na região B e os bancos de dados do locatário existente Olá são encontrados como também.</span><span class="sxs-lookup"><span data-stu-id="16807-224">Change hello application’s connection string toopoint toohello management databases in region B. Modify hello management databases toomake sure hello new accounts and tenant databases are created in region B and hello existing tenant databases are found there as well.</span></span> <span data-ttu-id="16807-225">clientes de teste existente Olá veem seus dados temporariamente indisponíveis.</span><span class="sxs-lookup"><span data-stu-id="16807-225">hello existing trial customers see their data temporarily unavailable.</span></span>
* <span data-ttu-id="16807-226">Failover Olá paga toopool de bancos de dados do locatário 2 na região B tooimmediately restaurar sua disponibilidade (4).</span><span class="sxs-lookup"><span data-stu-id="16807-226">Fail over hello paid tenant's databases toopool 2 in region B tooimmediately restore their availability (4).</span></span> <span data-ttu-id="16807-227">Como Olá failover é uma alteração do nível de metadados rápido, você pode considerar uma otimização onde failovers individuais Olá são disparadas sob demanda por conexões de usuário final hello.</span><span class="sxs-lookup"><span data-stu-id="16807-227">Since hello failover is a quick metadata level change, you may consider an optimization where hello individual failovers are triggered on demand by hello end-user connections.</span></span> 
* <span data-ttu-id="16807-228">Desde agora, pool 2 contém apenas bancos de dados primários, Olá a carga de trabalho total no hello pool aumenta e imediatamente pode aumentar o tamanho de eDTU (5).</span><span class="sxs-lookup"><span data-stu-id="16807-228">Since now pool 2 contains only primary databases, hello total workload in hello pool increases and can immediately increase its eDTU size (5).</span></span> 
* <span data-ttu-id="16807-229">Criar novo pool Elástico de saudação com hello mesmo nome e Olá mesmo configuração na região Olá B para bancos de dados dos clientes avaliação hello (6).</span><span class="sxs-lookup"><span data-stu-id="16807-229">Create hello new elastic pool with hello same name and hello same configuration in hello region B for hello trial customers' databases (6).</span></span> 
* <span data-ttu-id="16807-230">Depois que o pool de saudação é criado usar a restauração geográfica toorestore Olá locatário de avaliação individuais banco de dados no pool de saudação (7).</span><span class="sxs-lookup"><span data-stu-id="16807-230">Once hello pool is created use geo-restore toorestore hello individual trial tenant database into hello pool (7).</span></span> <span data-ttu-id="16807-231">Você pode considerar disparo restaurações individuais Olá por conexões de usuário final hello ou usar outro esquema de prioridade específica do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="16807-231">You can consider triggering hello individual restores by hello end-user connections or use some other application-specific priority scheme.</span></span>

> [!NOTE]
> <span data-ttu-id="16807-232">a operação de failover Olá é assíncrona.</span><span class="sxs-lookup"><span data-stu-id="16807-232">hello failover operation is asynchronous.</span></span> <span data-ttu-id="16807-233">tempo de recuperação de saudação toominimize, é importante que você execute o comando de failover Olá locatário dos bancos de dados em lotes de pelo menos 20 bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="16807-233">toominimize hello recovery time, it is important that you execute hello tenant databases' failover command in batches of at least 20 databases.</span></span> 
> 

<span data-ttu-id="16807-234">Agora seu aplicativo esteja online novamente na região B. Todos os clientes pagantes têm acesso tootheir dados enquanto os clientes de avaliação Olá experiência atraso ao acessar seus dados.</span><span class="sxs-lookup"><span data-stu-id="16807-234">At this point your application is back online in region B. All paying customers have access tootheir data while hello trial customers experience delay when accessing their data.</span></span>

<span data-ttu-id="16807-235">Quando for recuperado região A precisar toodecide se você quiser região toouse B para clientes de avaliação ou pool de avaliação de clientes do failback toousing Olá na região A. Um critério pode ser Olá % de bancos de dados de locatário de avaliação modificado desde a recuperação de saudação.</span><span class="sxs-lookup"><span data-stu-id="16807-235">When region A is recovered you need toodecide if you want toouse region B for trial customers or failback toousing hello trial customers pool in region A. One criteria could be hello % of trial tenant databases modified since hello recovery.</span></span> <span data-ttu-id="16807-236">Independentemente dessa decisão, você precisa balancear toore Olá paga locatários entre dois pools de.</span><span class="sxs-lookup"><span data-stu-id="16807-236">Regardless of that decision, you need toore-balance hello paid tenants between two pools.</span></span> <span data-ttu-id="16807-237">Olá próximo diagrama ilustra o processo de saudação quando os bancos de dados de locatário de avaliação Olá falham a tooregion voltar.</span><span class="sxs-lookup"><span data-stu-id="16807-237">hello next diagram illustrates hello process when hello trial tenant databases fail back tooregion A.</span></span>  

![Figura 6](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-9.png)

* <span data-ttu-id="16807-239">Cancele todas as pool de tootrial DR de solicitações pendentes de restauração geográfica.</span><span class="sxs-lookup"><span data-stu-id="16807-239">Cancel all outstanding geo-restore requests tootrial DR pool.</span></span>   
* <span data-ttu-id="16807-240">Failover de banco de dados de gerenciamento de saudação (8).</span><span class="sxs-lookup"><span data-stu-id="16807-240">Fail over hello management database (8).</span></span> <span data-ttu-id="16807-241">Após a recuperação da região hello, primário antigo Olá automaticamente se tornou Olá secundário.</span><span class="sxs-lookup"><span data-stu-id="16807-241">After hello region’s recovery, hello old primary automatically became hello secondary.</span></span> <span data-ttu-id="16807-242">Agora ele se torna Olá primário novamente.</span><span class="sxs-lookup"><span data-stu-id="16807-242">Now it becomes hello primary again.</span></span>  
* <span data-ttu-id="16807-243">Selecione quais bancos de dados do locatário paga falharem toopool back 1 e iniciar failover tootheir secundários (9).</span><span class="sxs-lookup"><span data-stu-id="16807-243">Select which paid tenant databases fail back toopool 1 and initiate failover tootheir secondaries (9).</span></span> <span data-ttu-id="16807-244">Após a recuperação da região hello, todos os bancos de dados no pool de 1 automaticamente se tornou secundários.</span><span class="sxs-lookup"><span data-stu-id="16807-244">After hello region’s recovery, all databases in pool 1 automatically became secondaries.</span></span> <span data-ttu-id="16807-245">Agora, 50% deles se tornarão primários novamente.</span><span class="sxs-lookup"><span data-stu-id="16807-245">Now 50% of them become primaries again.</span></span> 
* <span data-ttu-id="16807-246">Reduza o tamanho de saudação do eDTU do pool 2 toohello original (10).</span><span class="sxs-lookup"><span data-stu-id="16807-246">Reduce hello size of pool 2 toohello original eDTU (10).</span></span>
* <span data-ttu-id="16807-247">Conjunto de todos os restaurado avaliação bancos de dados na região Olá B somente tooread (11).</span><span class="sxs-lookup"><span data-stu-id="16807-247">Set all restored trial databases in hello region B tooread-only (11).</span></span>
* <span data-ttu-id="16807-248">Para cada banco de dados no pool DR avaliação Olá que foi alterado desde a recuperação hello, renomear ou excluir o banco de dados correspondente no pool (12) primário avaliação Olá Olá.</span><span class="sxs-lookup"><span data-stu-id="16807-248">For each database in hello trial DR pool that has changed since hello recovery, rename or delete hello corresponding database in hello trial primary pool (12).</span></span> 
* <span data-ttu-id="16807-249">Saudação de cópia atualizada bancos de dados de saudação pool principal de toohello pool da recuperação de desastres (13).</span><span class="sxs-lookup"><span data-stu-id="16807-249">Copy hello updated databases from hello DR pool toohello primary pool (13).</span></span> 
* <span data-ttu-id="16807-250">Excluir o pool de DR hello (14)</span><span class="sxs-lookup"><span data-stu-id="16807-250">Delete hello DR pool (14)</span></span> 

<span data-ttu-id="16807-251">chave de saudação **benefícios** dessa estratégia são:</span><span class="sxs-lookup"><span data-stu-id="16807-251">hello key **benefits** of this strategy are:</span></span>

* <span data-ttu-id="16807-252">Dá suporte à SLA mais agressivo Olá Olá clientes pagantes porque garante que uma interrupção não pode afetar mais de 50% dos bancos de dados de locatário hello.</span><span class="sxs-lookup"><span data-stu-id="16807-252">It supports hello most aggressive SLA for hello paying customers because it ensures that an outage cannot impact more than 50% of hello tenant databases.</span></span> 
* <span data-ttu-id="16807-253">Ela garante que avaliações novo Olá estiverem desbloqueadas como trilha Olá DR pool é criada durante a recuperação de saudação.</span><span class="sxs-lookup"><span data-stu-id="16807-253">It guarantees that hello new trials are unblocked as soon as hello trail DR pool is created during hello recovery.</span></span> 
* <span data-ttu-id="16807-254">Permite um uso mais eficiente da capacidade de pool hello como 50% dos bancos de dados secundários no pool de 1 e 2 do pool são garantidas toobe menos ativas de bancos de dados primários hello.</span><span class="sxs-lookup"><span data-stu-id="16807-254">It allows more efficient use of hello pool capacity as 50% of secondary databases in pool 1 and pool 2 are guaranteed toobe less active than hello primary databases.</span></span>

<span data-ttu-id="16807-255">Olá principal **compensações** são:</span><span class="sxs-lookup"><span data-stu-id="16807-255">hello main **trade-offs** are:</span></span>

* <span data-ttu-id="16807-256">as operações CRUD Olá em bancos de dados de gerenciamento de saudação tem menor latência de saudação usuários finais conectados tooregion A que para Olá usuários finais conectados tooregion B conforme elas são executadas em Olá primária dos bancos de dados de gerenciamento de saudação.</span><span class="sxs-lookup"><span data-stu-id="16807-256">hello CRUD operations against hello management databases have lower latency for hello end users connected tooregion A than for hello end users connected tooregion B as they are executed against hello primary of hello management databases.</span></span>
* <span data-ttu-id="16807-257">Ele exige mais complexo do design de banco de dados de gerenciamento de saudação.</span><span class="sxs-lookup"><span data-stu-id="16807-257">It requires more complex design of hello management database.</span></span> <span data-ttu-id="16807-258">Por exemplo, cada registro de Inquilino tem uma marca de local que precisa toobe alterado durante o failover e failback.</span><span class="sxs-lookup"><span data-stu-id="16807-258">For example, each tenant record has a location tag that needs toobe changed during failover and failback.</span></span>  
* <span data-ttu-id="16807-259">Olá clientes pagantes pode enfrentar desempenho mais baixo do que o usual até hello pool atualização na região B é concluída.</span><span class="sxs-lookup"><span data-stu-id="16807-259">hello paying customers may experience lower performance than usual until hello pool upgrade in region B is completed.</span></span> 

## <a name="summary"></a><span data-ttu-id="16807-260">Resumo</span><span class="sxs-lookup"><span data-stu-id="16807-260">Summary</span></span>
<span data-ttu-id="16807-261">Este artigo se concentra em estratégias de recuperação de desastres Olá para Olá da camada de banco de dados usado por um aplicativo do ISV SaaS multilocatário.</span><span class="sxs-lookup"><span data-stu-id="16807-261">This article focuses on hello disaster recovery strategies for hello database tier used by a SaaS ISV multi-tenant application.</span></span> <span data-ttu-id="16807-262">Hello estratégia que você escolher é com base nas necessidades de saudação do aplicativo hello, como o modelo de negócios hello, Olá SLA toooffer tooyour clientes, orçamento restrição etc. Cada descrita estratégia contornos Olá benefícios e compensação para que você pode tomar uma decisão informada.</span><span class="sxs-lookup"><span data-stu-id="16807-262">hello strategy you choose is based on hello needs of hello application, such as hello business model, hello SLA you want toooffer tooyour customers, budget constraint etc. Each described strategy outlines hello benefits and trade-off so you could make an informed decision.</span></span> <span data-ttu-id="16807-263">Além disso, seu aplicativo específico provavelmente incluirá outros componentes do Azure.</span><span class="sxs-lookup"><span data-stu-id="16807-263">Also, your specific application likely includes other Azure components.</span></span> <span data-ttu-id="16807-264">Para que você revise sua orientação de continuidade de negócios e coordenar a recuperação de saudação da camada de banco de dados de saudação com eles.</span><span class="sxs-lookup"><span data-stu-id="16807-264">So you review their business continuity guidance and orchestrate hello recovery of hello database tier with them.</span></span> <span data-ttu-id="16807-265">toolearn mais sobre o gerenciamento de recuperação de aplicativos de banco de dados no Azure, consulte muito[criação de soluções de nuvem para recuperação de desastres](sql-database-designing-cloud-solutions-for-disaster-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="16807-265">toolearn more about managing recovery of database applications in Azure, refer too[Designing cloud solutions for disaster recovery](sql-database-designing-cloud-solutions-for-disaster-recovery.md).</span></span>  

## <a name="next-steps"></a><span data-ttu-id="16807-266">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="16807-266">Next steps</span></span>
* <span data-ttu-id="16807-267">toolearn sobre backups de banco de dados do SQL Azure automatizadas, consulte [backups automatizados de banco de dados SQL](sql-database-automated-backups.md).</span><span class="sxs-lookup"><span data-stu-id="16807-267">toolearn about Azure SQL Database automated backups, see [SQL Database automated backups](sql-database-automated-backups.md).</span></span>
* <span data-ttu-id="16807-268">Para obter uma visão geral e os cenários de continuidade dos negócios, consulte [Visão geral da continuidade dos negócios](sql-database-business-continuity.md).</span><span class="sxs-lookup"><span data-stu-id="16807-268">For a business continuity overview and scenarios, see [Business continuity overview](sql-database-business-continuity.md).</span></span>
* <span data-ttu-id="16807-269">toolearn sobre como usar backups automatizados para recuperação, consulte [restaurar um banco de dados de backups de iniciadas pelo serviço de saudação](sql-database-recovery-using-backups.md).</span><span class="sxs-lookup"><span data-stu-id="16807-269">toolearn about using automated backups for recovery, see [restore a database from hello service-initiated backups](sql-database-recovery-using-backups.md).</span></span>
* <span data-ttu-id="16807-270">toolearn sobre as opções de recuperação mais rápidas, consulte [replicação geográfica ativa](sql-database-geo-replication-overview.md).</span><span class="sxs-lookup"><span data-stu-id="16807-270">toolearn about faster recovery options, see [active geo-replication](sql-database-geo-replication-overview.md).</span></span>
* <span data-ttu-id="16807-271">toolearn sobre como usar backups automatizados para arquivamento, consulte [cópia de banco de dados](sql-database-copy.md).</span><span class="sxs-lookup"><span data-stu-id="16807-271">toolearn about using automated backups for archiving, see [database copy](sql-database-copy.md).</span></span>

