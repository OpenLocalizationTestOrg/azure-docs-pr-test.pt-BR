---
title: "problemas de conexão comuns aaaTroubleshoot tooAzure banco de dados SQL"
description: "Etapas tooidentify e resolver conexão erros comuns para o banco de dados do SQL Azure."
services: sql-database
documentationcenter: 
author: dalechen
manager: cshepard
editor: 
ms.assetid: ac463d1c-aec8-443d-b66e-fa5eadcccfa8
ms.service: sql-database
ms.custom: monitor & tune
ms.workload: data-management
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/13/2017
ms.author: daleche
ms.openlocfilehash: eb5f2d7b123a76942c7e4a84a7f475344fbcb144
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="troubleshoot-connection-issues-tooazure-sql-database"></a><span data-ttu-id="e09d5-103">Solucionar problemas de conexão tooAzure banco de dados SQL</span><span class="sxs-lookup"><span data-stu-id="e09d5-103">Troubleshoot connection issues tooAzure SQL Database</span></span>
<span data-ttu-id="e09d5-104">Quando a conexão de saudação tooAzure banco de dados SQL falha, você receberá [mensagens de erro](sql-database-develop-error-messages.md).</span><span class="sxs-lookup"><span data-stu-id="e09d5-104">When hello connection tooAzure SQL Database fails, you receive [error messages](sql-database-develop-error-messages.md).</span></span> <span data-ttu-id="e09d5-105">Este artigo é um tópico centralizado que ajuda a solucionar problemas de conectividade do Banco de Dados SQL do Azure.</span><span class="sxs-lookup"><span data-stu-id="e09d5-105">This article is a centralized topic that helps you troubleshoot Azure SQL Database connectivity issues.</span></span> <span data-ttu-id="e09d5-106">Ele apresenta [Olá causas comuns](#cause) de problemas de conexão, recomenda [uma ferramenta de solução de problemas](#try-the-troubleshooter-for-azure-sql-database-connectivity-issues) que ajuda você a problema de saudação de identidade e fornece toosolve de etapas de solução de problemas [ erros transitórios](#troubleshoot-transient-errors) e [persistentes ou não transitório erros](#troubleshoot-persistent-errors).</span><span class="sxs-lookup"><span data-stu-id="e09d5-106">It introduces [hello common causes](#cause) of connection issues, recommends [a troubleshooting tool](#try-the-troubleshooter-for-azure-sql-database-connectivity-issues) that helps you identity hello problem, and provides troubleshooting steps toosolve [transient errors](#troubleshoot-transient-errors) and [persistent or non-transient errors](#troubleshoot-persistent-errors).</span></span> 

<span data-ttu-id="e09d5-107">Se você encontrar problemas de conexão hello, tente Olá solucionar os passos descritos neste artigo.</span><span class="sxs-lookup"><span data-stu-id="e09d5-107">If you encounter hello connection issues, try hello troubleshoot steps that are described in this article.</span></span>
[!INCLUDE [support-disclaimer](../../includes/support-disclaimer.md)]

## <a name="cause"></a><span data-ttu-id="e09d5-108">Causa</span><span class="sxs-lookup"><span data-stu-id="e09d5-108">Cause</span></span>
<span data-ttu-id="e09d5-109">Problemas de Conexão podem ser causados por qualquer uma das seguintes hello:</span><span class="sxs-lookup"><span data-stu-id="e09d5-109">Connection problems may be caused by any of hello following:</span></span>

* <span data-ttu-id="e09d5-110">Práticas recomendadas de tooapply falha e diretrizes de design durante o processo de design de aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="e09d5-110">Failure tooapply best practices and design guidelines during hello application design process.</span></span>  <span data-ttu-id="e09d5-111">Consulte [visão geral do desenvolvimento de banco de dados SQL](sql-database-develop-overview.md) tooget iniciado.</span><span class="sxs-lookup"><span data-stu-id="e09d5-111">See [SQL Database Development Overview](sql-database-develop-overview.md) tooget started.</span></span>
* <span data-ttu-id="e09d5-112">Reconfiguração do Banco de Dados SQL do Azure</span><span class="sxs-lookup"><span data-stu-id="e09d5-112">Azure SQL Database reconfiguration</span></span>
* <span data-ttu-id="e09d5-113">Configurações de firewall</span><span class="sxs-lookup"><span data-stu-id="e09d5-113">Firewall settings</span></span>
* <span data-ttu-id="e09d5-114">Tempo limite da conexão</span><span class="sxs-lookup"><span data-stu-id="e09d5-114">Connection time-out</span></span>
* <span data-ttu-id="e09d5-115">Informações de logon incorretas</span><span class="sxs-lookup"><span data-stu-id="e09d5-115">Incorrect login information</span></span>
* <span data-ttu-id="e09d5-116">Limite máximo é atingido para alguns recursos do Banco de Dados SQL do Azure</span><span class="sxs-lookup"><span data-stu-id="e09d5-116">Maximum limit reached on some Azure SQL Database resources</span></span>

<span data-ttu-id="e09d5-117">Em geral, problemas de conexão tooAzure banco de dados SQL pode ser classificado da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="e09d5-117">Generally, connection issues tooAzure SQL Database can be classified as follows:</span></span>

* [<span data-ttu-id="e09d5-118">Erros transitórios (de curta duração ou intermitentes)</span><span class="sxs-lookup"><span data-stu-id="e09d5-118">Transient errors (short-lived or intermittent)</span></span>](#troubleshoot-transient-errors)
* [<span data-ttu-id="e09d5-119">Erros persistentes ou não transitórios (erros regularmente recorrentes)</span><span class="sxs-lookup"><span data-stu-id="e09d5-119">Persistent or non-transient errors (errors that regularly recur)</span></span>](#troubleshoot-persistent-errors)

## <a name="try-hello-troubleshooter-for-azure-sql-database-connectivity-issues"></a><span data-ttu-id="e09d5-120">Tente Olá a solução de problemas para problemas de conectividade de banco de dados SQL</span><span class="sxs-lookup"><span data-stu-id="e09d5-120">Try hello troubleshooter for Azure SQL Database connectivity issues</span></span>
<span data-ttu-id="e09d5-121">Se você se deparar com um erro de conexão específico, tente [esta ferramenta](https://support.microsoft.com/help/10085/troubleshooting-connectivity-issues-with-microsoft-azure-sql-database), que vai ajudá-lo a identificar e resolver rapidamente o problema.</span><span class="sxs-lookup"><span data-stu-id="e09d5-121">If you encounter a specific connection error, try [this tool](https://support.microsoft.com/help/10085/troubleshooting-connectivity-issues-with-microsoft-azure-sql-database), which will help you quickly identity and resolve your problem.</span></span>

## <a name="troubleshoot-transient-errors"></a><span data-ttu-id="e09d5-122">Solucionar problemas de erros transitórios</span><span class="sxs-lookup"><span data-stu-id="e09d5-122">Troubleshoot transient errors</span></span>

<span data-ttu-id="e09d5-123">Quando um aplicativo se conecta tooan banco de dados do SQL Azure, você receberá Olá a seguinte mensagem de erro:</span><span class="sxs-lookup"><span data-stu-id="e09d5-123">When an application connects tooan Azure SQL database, you receive hello following error message:</span></span>

```
Error code 40613: "Database <x> on server <y> is not currently available. Please retry hello connection later. If hello problem persists, contact customer support, and provide them hello session tracing ID of <z>"
```

> [!NOTE]
> <span data-ttu-id="e09d5-124">Essa mensagem de erro normalmente é transitória (de vida curta).</span><span class="sxs-lookup"><span data-stu-id="e09d5-124">This error message is typically transient (short-lived).</span></span>
> 
> 

<span data-ttu-id="e09d5-125">Esse erro ocorre quando hello banco de dados do Azure está sendo movido (ou reconfigurado) e o aplicativo perde seu banco de dados SQL de toohello de conexão.</span><span class="sxs-lookup"><span data-stu-id="e09d5-125">This error occurs when hello Azure database is being moved (or reconfigured) and your application loses its connection toohello SQL database.</span></span> <span data-ttu-id="e09d5-126">Eventos de reconfiguração do banco de dados SQL ocorrem devido a um evento planejado (por exemplo, um upgrade de software) ou um evento não planejado (por exemplo, uma falha no processo ou balanceamento de carga).</span><span class="sxs-lookup"><span data-stu-id="e09d5-126">SQL database reconfiguration events occur because of a planned event (for example, a software upgrade) or an unplanned event (for example, a process crash, or load balancing).</span></span> <span data-ttu-id="e09d5-127">A maioria dos eventos de reconfiguração geralmente é de curta duração e deve ser concluída em, no máximo, de 60 segundos.</span><span class="sxs-lookup"><span data-stu-id="e09d5-127">Most reconfiguration events are generally short-lived and should be completed in less than 60 seconds at most.</span></span> <span data-ttu-id="e09d5-128">No entanto, esses eventos, ocasionalmente, podem levar mais toofinish, como quando uma transação faz com que a recuperação de longa execução.</span><span class="sxs-lookup"><span data-stu-id="e09d5-128">However, these events can occasionally take longer toofinish, such as when a large transaction causes a long-running recovery.</span></span>

### <a name="steps-tooresolve-transient-connectivity-issues"></a><span data-ttu-id="e09d5-129">Problemas de conectividade transitória tooresolve etapas</span><span class="sxs-lookup"><span data-stu-id="e09d5-129">Steps tooresolve transient connectivity issues</span></span>

1. <span data-ttu-id="e09d5-130">Verificar Olá [painel de serviço do Microsoft Azure](https://azure.microsoft.com/status) para quaisquer interrupções conhecidas que ocorreram durante o tempo de saudação durante o qual Olá erro foi relatado pelo aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="e09d5-130">Check hello [Microsoft Azure Service Dashboard](https://azure.microsoft.com/status) for any known outages that occurred during hello time during which hello errors were reported by hello application.</span></span>
2. <span data-ttu-id="e09d5-131">Aplicativos que se conectam tooa serviço em nuvem como banco de dados do SQL Azure deve esperar que os eventos de reconfiguração periódica e implementar novamente lógica toohandle esses erros em vez de adicionar esses como toousers de erros do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="e09d5-131">Applications that connect tooa cloud service such as Azure SQL Database should expect periodic reconfiguration events and implement retry logic toohandle these errors instead of surfacing these as application errors toousers.</span></span> <span data-ttu-id="e09d5-132">Saudação de revisão [erros transitórios](sql-database-connectivity-issues.md) seção Olá práticas recomendadas e diretrizes em de design [visão geral do desenvolvimento de banco de dados SQL](sql-database-develop-overview.md) estratégias de repetição para obter mais informações e geral.</span><span class="sxs-lookup"><span data-stu-id="e09d5-132">Review hello [Transient errors](sql-database-connectivity-issues.md) section and hello best practices and design guidelines at [SQL Database Development Overview](sql-database-develop-overview.md) for more information and general retry strategies.</span></span> <span data-ttu-id="e09d5-133">Em seguida, confira os exemplos de código em [Bibliotecas de Conexões para Banco de Dados SQL e SQL Server](sql-database-libraries.md) para obter as especificações.</span><span class="sxs-lookup"><span data-stu-id="e09d5-133">Then, see code samples at [Connection Libraries for SQL Database and SQL Server](sql-database-libraries.md) for specifics.</span></span>
3. <span data-ttu-id="e09d5-134">Como um banco de dados se aproximar seus limites de recurso, ele pode parecer toobe um problema de conectividade transitória.</span><span class="sxs-lookup"><span data-stu-id="e09d5-134">As a database approaches its resource limits, it can seem toobe a transient connectivity issue.</span></span> <span data-ttu-id="e09d5-135">Confira [Solução de problemas de desempenho](sql-database-troubleshoot-performance.md).</span><span class="sxs-lookup"><span data-stu-id="e09d5-135">See [Troubleshooting Performance Issues](sql-database-troubleshoot-performance.md).</span></span>
4. <span data-ttu-id="e09d5-136">Se continuam a problemas de conectividade ou se hello duração para as quais seu aplicativo encontrar erro Olá excede 60 segundos ou se você vir várias ocorrências do erro de saudação em um determinado dia, uma solicitação de suporte do Azure de arquivos selecionando **obter suporte** em Olá [suporte do Azure](https://azure.microsoft.com/support/options) site.</span><span class="sxs-lookup"><span data-stu-id="e09d5-136">If connectivity problems continue, or if hello duration for which your application encounters hello error exceeds 60 seconds or if you see multiple occurrences of hello error in a given day, file an Azure support request by selecting **Get Support** on hello [Azure Support](https://azure.microsoft.com/support/options) site.</span></span>

## <a name="troubleshoot-persistent-errors"></a><span data-ttu-id="e09d5-137">Solucionar erros persistentes</span><span class="sxs-lookup"><span data-stu-id="e09d5-137">Troubleshoot persistent errors</span></span>
<span data-ttu-id="e09d5-138">Se aplicativo hello persistentemente falhar tooconnect tooAzure banco de dados SQL, ele normalmente indica um problema com um dos seguintes hello:</span><span class="sxs-lookup"><span data-stu-id="e09d5-138">If hello application persistently fails tooconnect tooAzure SQL Database, it usually indicates an issue with one of hello following:</span></span>

* <span data-ttu-id="e09d5-139">Configuração do firewall.</span><span class="sxs-lookup"><span data-stu-id="e09d5-139">Firewall configuration.</span></span> <span data-ttu-id="e09d5-140">firewall de banco de dados ou do lado do cliente do SQL Azure Hello está bloqueando conexões tooAzure banco de dados SQL.</span><span class="sxs-lookup"><span data-stu-id="e09d5-140">hello Azure SQL database or client-side firewall is blocking connections tooAzure SQL Database.</span></span>
* <span data-ttu-id="e09d5-141">Reconfiguração do lado do cliente de saudação de rede: por exemplo, um novo endereço IP ou um servidor proxy.</span><span class="sxs-lookup"><span data-stu-id="e09d5-141">Network reconfiguration on hello client side: for example, a new IP address or a proxy server.</span></span>
* <span data-ttu-id="e09d5-142">Erro do usuário: por exemplo, parâmetros de conexão, como o nome do servidor de saudação na cadeia de caracteres de conexão de saudação de erro de digitação.</span><span class="sxs-lookup"><span data-stu-id="e09d5-142">User error: for example, mistyped connection parameters, such as hello server name in hello connection string.</span></span>

### <a name="steps-tooresolve-persistent-connectivity-issues"></a><span data-ttu-id="e09d5-143">Problemas de conectividade persistente tooresolve etapas</span><span class="sxs-lookup"><span data-stu-id="e09d5-143">Steps tooresolve persistent connectivity issues</span></span>
1. <span data-ttu-id="e09d5-144">Configurar [as regras de firewall](sql-database-configure-firewall-settings.md) tooallow endereço IP do cliente de saudação.</span><span class="sxs-lookup"><span data-stu-id="e09d5-144">Set up [firewall rules](sql-database-configure-firewall-settings.md) tooallow hello client IP address.</span></span> <span data-ttu-id="e09d5-145">Para fins de teste temporárias, configure uma regra de firewall usando 0.0.0.0 como saudação inicial do intervalo de endereços IP e usando 255.255.255.255 como Olá final do intervalo de endereços IP.</span><span class="sxs-lookup"><span data-stu-id="e09d5-145">For temporary testing purposes, set up a firewall rule using 0.0.0.0 as hello starting IP address range and using 255.255.255.255 as hello ending IP address range.</span></span> <span data-ttu-id="e09d5-146">Isso abrirá Olá tooall endereços IP.</span><span class="sxs-lookup"><span data-stu-id="e09d5-146">This will open hello server tooall IP addresses.</span></span> <span data-ttu-id="e09d5-147">Se isso resolver seu problema de conectividade, remova essa regra e crie uma regra de firewall para um intervalo de endereçamento ou um endereço IP adequadamente limitado.</span><span class="sxs-lookup"><span data-stu-id="e09d5-147">If this resolves your connectivity issue, remove this rule and create a firewall rule for an appropriately limited IP address or address range.</span></span> 
2. <span data-ttu-id="e09d5-148">Em todos os firewalls entre o cliente hello e hello da Internet, certifique-se de que a porta 1433 está aberta para conexões de saída.</span><span class="sxs-lookup"><span data-stu-id="e09d5-148">On all firewalls between hello client and hello Internet, make sure that port 1433 is open for outbound connections.</span></span> <span data-ttu-id="e09d5-149">Revisão [configurar o Firewall do Windows de saudação tooAllow acesso ao SQL Server](https://msdn.microsoft.com/library/cc646023.aspx) e [protocolos e portas necessárias de identidade híbrida](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-ports) para ponteiros adicionais relacionadas tooadditional portas que você precisa tooopen para Autenticação do Active Directory do Azure.</span><span class="sxs-lookup"><span data-stu-id="e09d5-149">Review [Configure hello Windows Firewall tooAllow SQL Server Access](https://msdn.microsoft.com/library/cc646023.aspx) and [Hybrid Identity Required Ports and Protocols](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-ports) for additional pointers related tooadditional ports that you need tooopen for Azure Active Directory authentication.</span></span>
3. <span data-ttu-id="e09d5-150">Verifique a cadeia de conexão e outras configurações de conexão.</span><span class="sxs-lookup"><span data-stu-id="e09d5-150">Verify your connection string and other connection settings.</span></span> <span data-ttu-id="e09d5-151">Consulte Olá seção da cadeia de caracteres de Conexão no hello [tópico de problemas de conectividade](sql-database-connectivity-issues.md#connections-to-azure-sql-database).</span><span class="sxs-lookup"><span data-stu-id="e09d5-151">See hello Connection String section in hello [connectivity issues topic](sql-database-connectivity-issues.md#connections-to-azure-sql-database).</span></span>
4. <span data-ttu-id="e09d5-152">Verifique a integridade do serviço no painel de saudação.</span><span class="sxs-lookup"><span data-stu-id="e09d5-152">Check service health in hello dashboard.</span></span> <span data-ttu-id="e09d5-153">Se você acha que houver uma interrupção regional, consulte [recuperar de uma paralisação](sql-database-disaster-recovery.md) para nova região de etapas toorecover tooa.</span><span class="sxs-lookup"><span data-stu-id="e09d5-153">If you think there’s a regional outage, see [Recover from an outage](sql-database-disaster-recovery.md) for steps toorecover tooa new region.</span></span>

## <a name="next-steps"></a><span data-ttu-id="e09d5-154">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="e09d5-154">Next steps</span></span>
* [<span data-ttu-id="e09d5-155">Solucionar problemas de desempenho no Banco de Dados SQL do Azure</span><span class="sxs-lookup"><span data-stu-id="e09d5-155">Troubleshoot Azure SQL Database performance issues</span></span>](sql-database-troubleshoot-performance.md)
* [<span data-ttu-id="e09d5-156">Documentação de saudação de pesquisa no Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="e09d5-156">Search hello documentation on Microsoft Azure</span></span>](http://azure.microsoft.com/search/documentation/)
* [<span data-ttu-id="e09d5-157">Saudação de exibição atualizações mais recentes toohello serviço de banco de dados SQL</span><span class="sxs-lookup"><span data-stu-id="e09d5-157">View hello latest updates toohello Azure SQL Database service</span></span>](http://azure.microsoft.com/updates/?service=sql-database)

## <a name="additional-resources"></a><span data-ttu-id="e09d5-158">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="e09d5-158">Additional resources</span></span>
* [<span data-ttu-id="e09d5-159">Visão geral do desenvolvimento de Banco de Dados SQL</span><span class="sxs-lookup"><span data-stu-id="e09d5-159">SQL Database Development Overview</span></span>](sql-database-develop-overview.md)
* [<span data-ttu-id="e09d5-160">Diretrizes gerais para tratamento de falhas transitórias</span><span class="sxs-lookup"><span data-stu-id="e09d5-160">General transient fault-handling guidance</span></span>](../best-practices-retry-general.md)
* [<span data-ttu-id="e09d5-161">Bibliotecas de conexão para Banco de Dados SQL e SQL Server</span><span class="sxs-lookup"><span data-stu-id="e09d5-161">Connection libraries for SQL Database and SQL Server</span></span>](sql-database-libraries.md)

