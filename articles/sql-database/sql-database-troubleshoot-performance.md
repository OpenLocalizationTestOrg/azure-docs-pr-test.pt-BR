---
title: "Monitoramento e ajuste de desempenho – Banco de Dados SQL do Azure | Microsoft Docs"
description: "Dicas de ajuste de desempenho no Banco de Dados SQL por meio de avaliação e melhoria."
services: sql-database
documentationcenter: 
author: v-shysun
manager: felixwu
editor: 
keywords: ajuste de desempenho de sql, ajuste de desempenho de banco de dados, dicas de ajuste de desempenho do sql, ajuste de desempenho de banco de dados sql
ms.assetid: eb7b3f66-3b33-4e1b-84fb-424a928a6672
ms.service: sql-database
ms.custom: monitor & tune
ms.workload: data-management
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/13/2017
ms.author: v-shysun
ms.openlocfilehash: 7a2f1199a56e0bd32eafef9f420879c756673e7f
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="monitoring-and-performance-tuning"></a><span data-ttu-id="d7ca6-104">Monitoramento e ajuste de desempenho</span><span class="sxs-lookup"><span data-stu-id="d7ca6-104">Monitoring and performance tuning</span></span>

<span data-ttu-id="d7ca6-105">O Banco de Dados SQL do Azure é um serviço de dados flexível e gerenciado automaticamente no qual você pode facilmente monitorar o uso, adicionar ou remover recursos (CPU, memória, E/S), encontrar recomendações que podem melhorar o desempenho do banco de dados ou permitir que o banco de dados se adapte à carga de trabalho e otimize o desempenho automaticamente.</span><span class="sxs-lookup"><span data-stu-id="d7ca6-105">Azure SQL Database is automatically managed and flexible data service where you can easily monitor usage, add or remove resources (CPU, memory, io), find recommendations that can improve performance of your database, or let database adapt to your workload and automatically optimize performance.</span></span>

<span data-ttu-id="d7ca6-106">Este artigo fornece uma visão geral das opções de monitoramento e ajuste de desempenho disponíveis no Banco de Dados SQL do Azure.</span><span class="sxs-lookup"><span data-stu-id="d7ca6-106">This article provides overview of monitoring and performance tuning options that are available in Azure SQL Database.</span></span>

[!INCLUDE [support-disclaimer](../../includes/support-disclaimer.md)]

## <a name="monitoring-and-troubleshooting-database-performance"></a><span data-ttu-id="d7ca6-107">Monitorando e solucionando problemas de desempenho do banco de dados</span><span class="sxs-lookup"><span data-stu-id="d7ca6-107">Monitoring and troubleshooting database performance</span></span>

<span data-ttu-id="d7ca6-108">O Banco de Dados SQL do Azure permite que você monitore facilmente o uso do banco de dados e identifique as consultas que podem causar problemas de desempenho.</span><span class="sxs-lookup"><span data-stu-id="d7ca6-108">Azure SQL Database enables you to easily monitor your database usage and identify queries that might cause the performance issues.</span></span> <span data-ttu-id="d7ca6-109">Monitore o desempenho do banco de dados usando o portal do Azure ou exibições do sistema.</span><span class="sxs-lookup"><span data-stu-id="d7ca6-109">You can monitor database performance using Azure portal or system views.</span></span> <span data-ttu-id="d7ca6-110">Você tem as seguintes opções para monitorar e solucionar problemas de desempenho do banco de dados:</span><span class="sxs-lookup"><span data-stu-id="d7ca6-110">You have the following options for monitoring and troubleshooting database performance:</span></span>

1. <span data-ttu-id="d7ca6-111">No [portal do Azure](https://portal.azure.com), clique em **Bancos de dados SQL**, selecione o banco de dados e, depois, use o gráfico de Monitoramento para procurar recursos que estão atingindo o limite.</span><span class="sxs-lookup"><span data-stu-id="d7ca6-111">In the [Azure portal](https://portal.azure.com), click **SQL databases**, select the database, and then use the Monitoring chart to look for resources approaching their maximum.</span></span> <span data-ttu-id="d7ca6-112">O consumo de DTU é exibido por padrão.</span><span class="sxs-lookup"><span data-stu-id="d7ca6-112">DTU consumption is shown by default.</span></span> <span data-ttu-id="d7ca6-113">Clique em **Editar** para alterar o intervalo de tempo e os valores mostrados.</span><span class="sxs-lookup"><span data-stu-id="d7ca6-113">Click **Edit** to change the time range and values shown.</span></span>
2. <span data-ttu-id="d7ca6-114">Use a [Análise de Desempenho de Consultas](sql-database-query-performance.md) para identificar as consultas que gastam a maioria dos recursos.</span><span class="sxs-lookup"><span data-stu-id="d7ca6-114">Use [Query Performance Insight](sql-database-query-performance.md) to identify the queries that spend the most of resources.</span></span>
3. <span data-ttu-id="d7ca6-115">Você pode usar DMVs (exibições de gerenciamento dinâmico), Eventos Estendidos (`XEvents`) e o Repositório de Consultas no SSMS para obter parâmetros de desempenho em tempo real.</span><span class="sxs-lookup"><span data-stu-id="d7ca6-115">You can use dynamic management views (DMVs), Extended Events (`XEvents`), and the Query Store in SSMS to get performance parameters in real time.</span></span>

<span data-ttu-id="d7ca6-116">Consulte o [tópico de diretrizes de desempenho](sql-database-performance-guidance.md) para descobrir técnicas que você pode usar para melhorar o desempenho do Banco de Dados SQL do Azure, caso você identifique algum problema ao usar esses relatórios ou essas exibições.</span><span class="sxs-lookup"><span data-stu-id="d7ca6-116">See the [performance guidance topic](sql-database-performance-guidance.md) to find techniques that you can use to improve performance of Azure SQL Database if you identify some issue using these reports or views.</span></span>

> [!IMPORTANT] 
> <span data-ttu-id="d7ca6-117">Recomendamos que você sempre use a versão mais recente do Management Studio a fim de permanecer sincronizado com as atualizações no Microsoft Azure e no Banco de Dados SQL.</span><span class="sxs-lookup"><span data-stu-id="d7ca6-117">It is recommended that you always use the latest version of Management Studio to remain synchronized with updates to Microsoft Azure and SQL Database.</span></span> <span data-ttu-id="d7ca6-118">[Atualizar o SQL Server Management Studio](https://msdn.microsoft.com/library/mt238290.aspx).</span><span class="sxs-lookup"><span data-stu-id="d7ca6-118">[Update SQL Server Management Studio](https://msdn.microsoft.com/library/mt238290.aspx).</span></span>
>

## <a name="optimize-database-to-improve-performance"></a><span data-ttu-id="d7ca6-119">Otimizar o banco de dados para melhorar o desempenho</span><span class="sxs-lookup"><span data-stu-id="d7ca6-119">Optimize database to improve performance</span></span>

<span data-ttu-id="d7ca6-120">O Banco de Dados SQL do Azure permite identificar oportunidades para melhorar e otimizar o desempenho de consultas sem alterar recursos examinando as [recomendações de ajuste de desempenho](sql-database-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="d7ca6-120">Azure SQL Database enables you to identify opportunities to improve and optimize query performance without changing resources by reviewing [performance tuning recommendations](sql-database-advisor.md).</span></span> <span data-ttu-id="d7ca6-121">Índices ausentes e consultas precárias são motivos comuns de um desempenho ruim do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="d7ca6-121">Missing indexes and poorly optimized queries are common reasons for poor database performance.</span></span> <span data-ttu-id="d7ca6-122">Aplique essas recomendações de ajuste para melhorar o desempenho de sua carga de trabalho.</span><span class="sxs-lookup"><span data-stu-id="d7ca6-122">You can apply these tuning recommendations to improve performance of your workload.</span></span>
<span data-ttu-id="d7ca6-123">Você também pode permitir que o banco de dados SQL do Azure [otimize o desempenho das consultas automaticamente](sql-database-automatic-tuning.md), aplicando todas as recomendações identificadas e verificando se elas melhoram o desempenho do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="d7ca6-123">You can also let Azure SQL database to [automatically optimize performance of your queries](sql-database-automatic-tuning.md) by applying all identified recommendations and verifying that they improve database performance.</span></span> <span data-ttu-id="d7ca6-124">Use as seguintes opções para melhorar o desempenho do banco de dados:</span><span class="sxs-lookup"><span data-stu-id="d7ca6-124">You can use the following options to improve performance of your database:</span></span>

1. <span data-ttu-id="d7ca6-125">Use o [Assistente do Banco de Dados SQL](sql-database-advisor-portal.md) para exibir recomendações para criar e remover índices, parametrizar consultas e corrigir problemas de esquema.</span><span class="sxs-lookup"><span data-stu-id="d7ca6-125">Use [SQL Database Advisor](sql-database-advisor-portal.md) to view recommendations for creating and dropping indexes, parameterizing queries, and fixing schema issues.</span></span>
2. <span data-ttu-id="d7ca6-126">[Habilite o ajuste automático](sql-database-automatic-tuning-enable.md) e permita que o banco de dados SQL do Azure corrija os problemas de desempenho identificados automaticamente.</span><span class="sxs-lookup"><span data-stu-id="d7ca6-126">[Enable automatic tuning](sql-database-automatic-tuning-enable.md) and let Azure SQL database automatically fix identified performance issues.</span></span>

## <a name="improving-database-performance-with-more-resources"></a><span data-ttu-id="d7ca6-127">Melhorando o desempenho do banco de dados com mais recursos</span><span class="sxs-lookup"><span data-stu-id="d7ca6-127">Improving database performance with more resources</span></span>

<span data-ttu-id="d7ca6-128">Por fim, se não houver nenhum item acionável que possa melhorar o desempenho do banco de dados, você poderá alterar a quantidade de recursos disponíveis no Banco de Dados SQL do Azure.</span><span class="sxs-lookup"><span data-stu-id="d7ca6-128">Finally, if there are no actionable items that can improve performance of your database, you can change the amount of resources available in Azure SQL Database.</span></span> <span data-ttu-id="d7ca6-129">Atribua mais recursos alterando a [camada de serviço](sql-database-service-tiers.md) de um banco de dados autônomo ou aumente as eDTUs de um pool elástico a qualquer momento.</span><span class="sxs-lookup"><span data-stu-id="d7ca6-129">You can assign more resources by changing the [service tier](sql-database-service-tiers.md) of a standalone database or increase the eDTUs of an elastic pool at any time.</span></span>
1. <span data-ttu-id="d7ca6-130">Para bancos de dados independentes, é possível [alterar as camadas de serviço](sql-database-service-tiers.md) sob demanda para melhorar o desempenho do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="d7ca6-130">For standalone databases, you can [change service tiers](sql-database-service-tiers.md) on-demand to improve database performance.</span></span>
2. <span data-ttu-id="d7ca6-131">Para vários bancos de dados, considere o uso de [pools elásticos](sql-database-elastic-pool-guidance.md) para dimensionar os recursos automaticamente.</span><span class="sxs-lookup"><span data-stu-id="d7ca6-131">For multiple databases, consider using [elastic pools](sql-database-elastic-pool-guidance.md) to scale resources automatically.</span></span>

## <a name="tune-and-refactor-application-or-database-code"></a><span data-ttu-id="d7ca6-132">Ajustar e refatorar o código do aplicativo ou do banco de dados</span><span class="sxs-lookup"><span data-stu-id="d7ca6-132">Tune and refactor application or database code</span></span>

<span data-ttu-id="d7ca6-133">Você pode alterar o código do aplicativo para usar o banco de dados de forma mais otimizada, alterar índices, forçar planos ou usar dicas para adaptar manualmente o banco de dados à sua carga de trabalho.</span><span class="sxs-lookup"><span data-stu-id="d7ca6-133">You can change application code to more optimally use the database, change indexes, force plans, or use hints to manually adapt the database to your workload.</span></span> <span data-ttu-id="d7ca6-134">Encontre algumas diretrizes e dicas para o ajuste manual e a reescrita do código no artigo [tópico de diretrizes de desempenho](sql-database-performance-guidance.md).</span><span class="sxs-lookup"><span data-stu-id="d7ca6-134">Find some guidance and tips for manual tuning and rewriting the code in the [performance guidance topic](sql-database-performance-guidance.md) article.</span></span>


## <a name="next-steps"></a><span data-ttu-id="d7ca6-135">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="d7ca6-135">Next steps</span></span>

- <span data-ttu-id="d7ca6-136">Para habilitar o ajuste automático no Banco de Dados SQL do Azure e permitir que o recurso de ajuste automático gerencie a carga de trabalho por completo, consulte [Habilitar o ajuste automático](sql-database-automatic-tuning-enable.md).</span><span class="sxs-lookup"><span data-stu-id="d7ca6-136">To enable automatic tuning in Azure SQL Database and let automatic tuning feature fully manage your workload, see [Enable automatic tuning](sql-database-automatic-tuning-enable.md).</span></span>
- <span data-ttu-id="d7ca6-137">Para usar o ajuste manual, examine as [Recomendações de ajuste no portal do Azure](sql-database-advisor-portal.md) e aplique manualmente aquelas que melhoram o desempenho de suas consultas.</span><span class="sxs-lookup"><span data-stu-id="d7ca6-137">To use manual tuning, you can review [Tuning recommendations in Azure portal](sql-database-advisor-portal.md) and manually apply the ones that improve performance of your queries.</span></span>
- <span data-ttu-id="d7ca6-138">Altere os recursos que estão disponíveis no banco de dados alterando as [camadas de serviço do Banco de Dados SQL do Azure](sql-database-performance-guidance.md)</span><span class="sxs-lookup"><span data-stu-id="d7ca6-138">Change resources that are available in your database by changing [Azure SQL Database service tiers](sql-database-performance-guidance.md)</span></span>