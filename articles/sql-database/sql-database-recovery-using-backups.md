---
title: Restaurar um banco de dados SQL do Azure de um backup | Microsoft Docs
description: "Saiba mais sobre a Restauração Pontual, que permite que você reverta um Banco de Dados SQL do Azure para um ponto anterior no tempo (até 35 dias)."
services: sql-database
documentationcenter: 
author: CarlRabeler
manager: jhubbard
editor: monicar
ms.assetid: fd1d334d-a035-4a55-9446-d1cf750d9cf7
ms.service: sql-database
ms.custom: business continuity
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 06/15/2017
ms.author: carlrab
ms.openlocfilehash: 20b33edbb3fade08c0f25e2fd5089b7ebf285fdd
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/29/2017
---
# <a name="recover-an-azure-sql-database-using-automated-database-backups"></a><span data-ttu-id="62b8e-103">Recuperar um banco de dados SQL do Azure usando backups de banco de dados automatizados</span><span class="sxs-lookup"><span data-stu-id="62b8e-103">Recover an Azure SQL database using automated database backups</span></span>
<span data-ttu-id="62b8e-104">O Banco de Dados SQL fornece essas opções para recuperação de banco de dados usando [backups automáticos de banco de dados](sql-database-automated-backups.md) e [backups de retenção de longo prazo](sql-database-long-term-retention.md).</span><span class="sxs-lookup"><span data-stu-id="62b8e-104">SQL Database provides these options for database recovery using [automated database backups](sql-database-automated-backups.md) and [backups in long-term retention](sql-database-long-term-retention.md).</span></span> <span data-ttu-id="62b8e-105">Você pode restaurar de um backup de banco de dados para:</span><span class="sxs-lookup"><span data-stu-id="62b8e-105">You can restore from a database backup to:</span></span>

* <span data-ttu-id="62b8e-106">Um novo banco de dados no mesmo servidor lógico recuperado para um ponto específico no tempo durante o período de retenção.</span><span class="sxs-lookup"><span data-stu-id="62b8e-106">A new database on the same logical server recovered to a specified point in time within the retention period.</span></span> 
* <span data-ttu-id="62b8e-107">Um banco de dados no mesmo servidor lógico recuperado para o tempo de exclusão de um banco de dados excluído.</span><span class="sxs-lookup"><span data-stu-id="62b8e-107">A database on the same logical server recovered to the deletion time for a deleted database.</span></span>
* <span data-ttu-id="62b8e-108">Um novo banco de dados em qualquer servidor lógico em qualquer região recuperado para os backups diários mais recentes no armazenamento de blobs com replicação geográfica (RA-GRS).</span><span class="sxs-lookup"><span data-stu-id="62b8e-108">A new database on any logical server in any region recovered to the point of the most recent daily backups in geo-replicated blob storage (RA-GRS).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="62b8e-109">Não é possível substituir um banco de dados existente durante a restauração.</span><span class="sxs-lookup"><span data-stu-id="62b8e-109">You cannot overwrite an existing database during restore.</span></span>
>

<span data-ttu-id="62b8e-110">Você também pode usar [backups de banco de dados automatizados](sql-database-automated-backups.md) para criar uma [cópia de banco de dados](sql-database-copy.md) em qualquer servidor lógico em qualquer região.</span><span class="sxs-lookup"><span data-stu-id="62b8e-110">You can also use [automated database backups](sql-database-automated-backups.md) to create a [database copy](sql-database-copy.md) on any logical server in any region.</span></span> 

## <a name="recovery-time"></a><span data-ttu-id="62b8e-111">Tempo de recuperação</span><span class="sxs-lookup"><span data-stu-id="62b8e-111">Recovery time</span></span>
<span data-ttu-id="62b8e-112">O tempo de recuperação para restaurar um banco de dados usando backups de banco de dados automatizado é afetado por vários fatores:</span><span class="sxs-lookup"><span data-stu-id="62b8e-112">The recovery time to restore a database using automated database backups is impacted by several factors:</span></span> 

* <span data-ttu-id="62b8e-113">O tamanho do banco de dados</span><span class="sxs-lookup"><span data-stu-id="62b8e-113">The size of the database</span></span>
* <span data-ttu-id="62b8e-114">O nível de desempenho do banco de dados</span><span class="sxs-lookup"><span data-stu-id="62b8e-114">The performance level of the database</span></span>
* <span data-ttu-id="62b8e-115">O número de logs de transações envolvidos</span><span class="sxs-lookup"><span data-stu-id="62b8e-115">The number of transaction logs involved</span></span>
* <span data-ttu-id="62b8e-116">A quantidade de atividade que precisa ser repetida para recuperar até o ponto de restauração</span><span class="sxs-lookup"><span data-stu-id="62b8e-116">The amount of activity that needs to be replayed to recover to the restore point</span></span>
* <span data-ttu-id="62b8e-117">A largura de banda de rede se a restauração for para uma região diferente</span><span class="sxs-lookup"><span data-stu-id="62b8e-117">The network bandwidth if the restore is to a different region</span></span> 
* <span data-ttu-id="62b8e-118">O número de solicitações simultâneas de restauração que estão sendo processadas na região de destino.</span><span class="sxs-lookup"><span data-stu-id="62b8e-118">The number of concurrent restore requests being processed in the target region.</span></span> 
  
  <span data-ttu-id="62b8e-119">Para um banco de dados muito grande e/ou ativo, a restauração pode levar várias horas.</span><span class="sxs-lookup"><span data-stu-id="62b8e-119">For a very large and/or active database, the restore may take several hours.</span></span> <span data-ttu-id="62b8e-120">Caso haja uma interrupção prolongada em uma região, é possível que haja muitas solicitações de restauração geográfica sendo processadas por outras regiões.</span><span class="sxs-lookup"><span data-stu-id="62b8e-120">If there is prolonged outage in a region, it is possible that there are large numbers of geo-restore requests being processed by other regions.</span></span> <span data-ttu-id="62b8e-121">Quando houver muitas solicitações, o tempo de recuperação dos bancos de dados nessa região poderá aumentar.</span><span class="sxs-lookup"><span data-stu-id="62b8e-121">When there are many requests, the recovery time may increase for databases in that region.</span></span> <span data-ttu-id="62b8e-122">A maioria das restaurações de banco de dados é concluída em 12 horas.</span><span class="sxs-lookup"><span data-stu-id="62b8e-122">Most database restores complete within 12 hours.</span></span>
  
<span data-ttu-id="62b8e-123">Não há nenhuma funcionalidade interna para restauração em massa.</span><span class="sxs-lookup"><span data-stu-id="62b8e-123">There is no built-in functionality to do bulk restore.</span></span> <span data-ttu-id="62b8e-124">O [banco de dados SQL do Azure: o script recuperação de servidor completa](https://gallery.technet.microsoft.com/Azure-SQL-Database-Full-82941666) é um exemplo de uma maneira de realizar essa tarefa.</span><span class="sxs-lookup"><span data-stu-id="62b8e-124">The [Azure SQL Database: Full Server Recovery](https://gallery.technet.microsoft.com/Azure-SQL-Database-Full-82941666) script is an example of one way of accomplishing this task.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="62b8e-125">Para recuperar usando backups automatizados, você deverá ser um membro da função Contribuidor do SQL Server na assinatura ou o proprietário da assinatura.</span><span class="sxs-lookup"><span data-stu-id="62b8e-125">To recover using automated backups, you must be a member of the SQL Server Contributor role in the subscription or be the subscription owner.</span></span> <span data-ttu-id="62b8e-126">Você pode recuperar usando o Portal do Azure, o PowerShell ou a API REST.</span><span class="sxs-lookup"><span data-stu-id="62b8e-126">You can recover using the Azure portal, PowerShell, or the REST API.</span></span> <span data-ttu-id="62b8e-127">Você não pode usar o Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="62b8e-127">You cannot use Transact-SQL.</span></span> 
> 

## <a name="point-in-time-restore"></a><span data-ttu-id="62b8e-128">Restauração pontual</span><span class="sxs-lookup"><span data-stu-id="62b8e-128">Point-In-Time Restore</span></span>

<span data-ttu-id="62b8e-129">Você pode restaurar um banco de dados existente para um ponto anterior no tempo como um novo banco de dados no mesmo servidor lógico usando o portal do Azure, o [PowerShell](https://docs.microsoft.com/en-us/powershell/module/azurerm.sql/restore-azurermsqldatabase) ou a [API REST](https://msdn.microsoft.com/library/azure/mt163685.aspx).</span><span class="sxs-lookup"><span data-stu-id="62b8e-129">You can restore an existing database to an earlier point in time as a new database on the same logical server using the Azure portal, [PowerShell](https://docs.microsoft.com/en-us/powershell/module/azurerm.sql/restore-azurermsqldatabase), or the [REST API](https://msdn.microsoft.com/library/azure/mt163685.aspx).</span></span> 

> [!TIP]
> <span data-ttu-id="62b8e-130">Para obter um script de exemplo do PowerShell que mostra como executar uma recuperação pontual de um banco de dados, consulte [Restaurar um banco de dados SQL usando o PowerShell](scripts/sql-database-restore-database-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="62b8e-130">For a sample PowerShell script showing how to perform a point-in-time restore of a database, see [Restore a SQL database using PowerShell](scripts/sql-database-restore-database-powershell.md).</span></span>
>

<span data-ttu-id="62b8e-131">O banco de dados pode ser restaurado para qualquer nível de desempenho ou de camada de serviço e como um banco de dados individual ou em um pool elástico.</span><span class="sxs-lookup"><span data-stu-id="62b8e-131">The database can be restored to any service tier or performance level, and as a single database or into an elastic pool.</span></span> <span data-ttu-id="62b8e-132">Certifique-se de ter recursos suficientes no servidor lógico ou no pool elástico para o qual você está restaurando o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="62b8e-132">Ensure you have sufficient resources on the logical server or in the elastic pool to which you are restoring the database.</span></span> <span data-ttu-id="62b8e-133">Uma vez concluído, o banco de dados restaurado é um banco de dados online normal e totalmente acessível.</span><span class="sxs-lookup"><span data-stu-id="62b8e-133">Once complete, the restored database is a normal, fully accessible, online database.</span></span> <span data-ttu-id="62b8e-134">O banco de dados restaurado é cobrado a taxas normais com base em seu nível de desempenho e na camada de serviço.</span><span class="sxs-lookup"><span data-stu-id="62b8e-134">The restored database is charged at normal rates based on its service tier and performance level.</span></span> <span data-ttu-id="62b8e-135">Você não incorrerá encargos até que a restauração do banco de dados seja concluída.</span><span class="sxs-lookup"><span data-stu-id="62b8e-135">You do not incur charges until the database restore is complete.</span></span>

<span data-ttu-id="62b8e-136">Um banco de dados geralmente é restaurado para um ponto anterior para fins de recuperação.</span><span class="sxs-lookup"><span data-stu-id="62b8e-136">You generally restore a database to an earlier point for recovery purposes.</span></span> <span data-ttu-id="62b8e-137">Ao fazê-lo, você poderá tratar o banco de dados restaurado como um substituto do banco de dados original ou usá-lo para recuperar os dados e, em seguida, atualizar o banco de dados original.</span><span class="sxs-lookup"><span data-stu-id="62b8e-137">When doing so, you can treat the restored database as a replacement for the original database or use it to retrieve data from and then update the original database.</span></span> 

* <span data-ttu-id="62b8e-138">***Substituição de banco de dados:*** se o banco de dados restaurado se destinar a ser um substituto do banco de dados original, você deverá verificar se o nível de desempenho e/ou a camada de serviço são adequados e escalar o banco de dados, se necessário.</span><span class="sxs-lookup"><span data-stu-id="62b8e-138">***Database replacement:*** If the restored database is intended as a replacement for the original database, you should verify the performance level and/or service tier are appropriate and scale the database if necessary.</span></span> <span data-ttu-id="62b8e-139">Você pode renomear o banco de dados original e, em seguida, dar ao banco de dados restaurado o nome original usando o comando ALTER DATABASE no T-SQL.</span><span class="sxs-lookup"><span data-stu-id="62b8e-139">You can rename the original database and then give the restored database the original name using the ALTER DATABASE command in T-SQL.</span></span> 
* <span data-ttu-id="62b8e-140">***Recuperação de dados:*** se planejar recuperar dados do banco de dados restaurado para se recuperar de um erro de aplicativo ou de usuário, você precisará escrever e executar os scripts de recuperação de dados necessários para extrair dados do banco de dados restaurado para o banco de dados original.</span><span class="sxs-lookup"><span data-stu-id="62b8e-140">***Data recovery:*** If you plan to retrieve data from the restored database to recover from a user or application error, you need to write and execute the necessary data recovery scripts to extract data from the restored database to the original database.</span></span> <span data-ttu-id="62b8e-141">Embora a operação de restauração possa demorar muito para concluir, o banco de dados em restauração é visível na lista de banco de dados por todo o processo de restauração.</span><span class="sxs-lookup"><span data-stu-id="62b8e-141">Although the restore operation may take a long time to complete, the restoring database is visible in the database list throughout the restore process.</span></span> <span data-ttu-id="62b8e-142">Se você excluir o banco de dados durante a restauração, a operação de restauração será cancelada e você não será cobrado pelo banco de dados cuja restauração não foi concluída.</span><span class="sxs-lookup"><span data-stu-id="62b8e-142">If you delete the database during the restore, the restore operation is canceled and you are not charged for the database that did not complete the restore.</span></span> 

### <a name="azure-portal"></a><span data-ttu-id="62b8e-143">Portal do Azure</span><span class="sxs-lookup"><span data-stu-id="62b8e-143">Azure portal</span></span>

<span data-ttu-id="62b8e-144">Para recuperar para um ponto no tempo usando o Portal do Azure, abra a página do banco de dados e clique em **Restaurar** na barra de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="62b8e-144">To recover to a point in time using the Azure portal, open the page for your database and click **Restore** on the toolbar.</span></span>

![restauração pontual](./media/sql-database-recovery-using-backups/point-in-time-recovery.png)

## <a name="deleted-database-restore"></a><span data-ttu-id="62b8e-146">Restauração de banco de dados excluído</span><span class="sxs-lookup"><span data-stu-id="62b8e-146">Deleted database restore</span></span>
<span data-ttu-id="62b8e-147">Você pode restaurar um banco de dados excluído para o momento da exclusão de um banco de dados excluído no mesmo servidor lógico usando o Portal do Azure, o [PowerShell](https://docs.microsoft.com/en-us/powershell/module/azurerm.sql/restore-azurermsqldatabase) ou o [REST (createMode=Restore)](https://msdn.microsoft.com/library/azure/mt163685.aspx).</span><span class="sxs-lookup"><span data-stu-id="62b8e-147">You can restore a deleted database to the deletion time for a deleted database on the same logical server using the Azure portal, [PowerShell](https://docs.microsoft.com/en-us/powershell/module/azurerm.sql/restore-azurermsqldatabase), or the [REST (createMode=Restore)](https://msdn.microsoft.com/library/azure/mt163685.aspx).</span></span> 

> [!TIP]
> <span data-ttu-id="62b8e-148">Para obter um script de exemplo do PowerShell que mostra como restaurar um banco de dados excluído, consulte [Restaurar um banco de dados SQL usando o PowerShell](scripts/sql-database-restore-database-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="62b8e-148">For a sample PowerShell script showing how to restore a deleted database, see [Restore a SQL database using PowerShell](scripts/sql-database-restore-database-powershell.md).</span></span>
>

> [!IMPORTANT]
> <span data-ttu-id="62b8e-149">Se você excluir uma instância de servidor de Banco de Dados SQL do Azure, todos os seus bancos de dados também serão excluídos e não poderão ser recuperados.</span><span class="sxs-lookup"><span data-stu-id="62b8e-149">If you delete an Azure SQL Database server instance, all its databases are also deleted and cannot be recovered.</span></span> <span data-ttu-id="62b8e-150">No momento, não há suporte para restaurar um servidor excluído.</span><span class="sxs-lookup"><span data-stu-id="62b8e-150">There is currently no support for restoring a deleted server.</span></span>
> 

### <a name="azure-portal"></a><span data-ttu-id="62b8e-151">Portal do Azure</span><span class="sxs-lookup"><span data-stu-id="62b8e-151">Azure portal</span></span>

<span data-ttu-id="62b8e-152">Para recuperar um banco de dados excluído durante seu [período de retenção](sql-database-service-tiers.md) usando o Portal do Azure, abra a página do seu servidor e, na área de Operações, clique em **Bancos de dados excluídos**.</span><span class="sxs-lookup"><span data-stu-id="62b8e-152">To recover a deleted database during its [retention period](sql-database-service-tiers.md) using the Azure portal, open the page for your server and in the Operations area, click **Deleted databases**.</span></span>

![deleted-database-restore-1](./media/sql-database-recovery-using-backups/deleted-database-restore-1.png)


![deleted-database-restore-2](./media/sql-database-recovery-using-backups/deleted-database-restore-2.png)

## <a name="geo-restore"></a><span data-ttu-id="62b8e-155">Restauração geográfica</span><span class="sxs-lookup"><span data-stu-id="62b8e-155">Geo-restore</span></span>
<span data-ttu-id="62b8e-156">Você pode restaurar um Banco de Dados SQL em qualquer servidor e em qualquer região do Azure nos backups diferenciais e completos com replicação geográfica mais recentes.</span><span class="sxs-lookup"><span data-stu-id="62b8e-156">You can restore a SQL database on any server in any Azure region from the most recent geo-replicated full and differential backups.</span></span> <span data-ttu-id="62b8e-157">A restauração geográfica usa um backup com redundância geográfica como sua fonte e pode ser usada para recuperar um banco de dados, mesmo se o banco de dados ou o datacenter está inacessível devido a uma interrupção.</span><span class="sxs-lookup"><span data-stu-id="62b8e-157">Geo-restore uses a geo-redundant backup as its source and can be used to recover a database even if the database or datacenter is inaccessible due to an outage.</span></span> 

<span data-ttu-id="62b8e-158">A restauração geográfica é a opção de recuperação padrão quando seu banco de dados não estiver disponível devido a um incidente na região em que ele está hospedado.</span><span class="sxs-lookup"><span data-stu-id="62b8e-158">Geo-restore is the default recovery option when your database is unavailable because of an incident in the region where the database is hosted.</span></span> <span data-ttu-id="62b8e-159">Se um incidente de grande escala em uma região resultar na indisponibilidade do seu aplicativo de banco de dados, você poderá restaurar um banco de dados do backup com replicação geográfica para um servidor em qualquer outra região.</span><span class="sxs-lookup"><span data-stu-id="62b8e-159">If a large-scale incident in a region results in unavailability of your database application, you can restore a database from the geo-replicated backups to a server in any other region.</span></span> <span data-ttu-id="62b8e-160">Há um atraso entre quando é um backup diferencial é realizado e quando ele é replicado geograficamente para um blob do Azure em uma região diferente.</span><span class="sxs-lookup"><span data-stu-id="62b8e-160">There is a delay between when a differential backup is taken and when it is geo-replicated to an Azure blob in a different region.</span></span> <span data-ttu-id="62b8e-161">Esse atraso pode ser de até uma hora, então, em caso de desastre pode haver perda de dados de até uma hora.</span><span class="sxs-lookup"><span data-stu-id="62b8e-161">This delay can be up to an hour, so, if a disaster occurs, there can be up to one hour data loss.</span></span> <span data-ttu-id="62b8e-162">A ilustração a seguir mostra a restauração do banco de dados desde o último backup disponível em outra região.</span><span class="sxs-lookup"><span data-stu-id="62b8e-162">The following illustration shows restore of the database from the last available backup in another region.</span></span>

![Restauração geográfica](./media/sql-database-geo-restore/geo-restore-2.png)

> [!TIP]
> <span data-ttu-id="62b8e-164">Para obter um script de exemplo do PowerShell que mostra como executar uma restauração geográfica, consulte [Restaurar um banco de dados SQL usando o PowerShell](scripts/sql-database-restore-database-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="62b8e-164">For a sample PowerShell script showing how to perform a geo-restore, see [Restore a SQL database using PowerShell](scripts/sql-database-restore-database-powershell.md).</span></span>
> 

<span data-ttu-id="62b8e-165">Atualmente, não há suporte para a restauração pontual em uma área geográfica secundária.</span><span class="sxs-lookup"><span data-stu-id="62b8e-165">Point-in-time restore on a geo-secondary is not currently supported.</span></span> <span data-ttu-id="62b8e-166">A restauração pontual pode ser feita somente em um banco de dados primário.</span><span class="sxs-lookup"><span data-stu-id="62b8e-166">Point-in-time restore can be done only on a primary database.</span></span> <span data-ttu-id="62b8e-167">Para obter informações detalhadas sobre como usar a restauração geográfica para se recuperar de uma interrupção, consulte [Recuperação de uma interrupção](sql-database-disaster-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="62b8e-167">For detailed information about using geo-restore to recover from an outage, see [Recover from an outage](sql-database-disaster-recovery.md).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="62b8e-168">A recuperação de backups é a mais básica dentre as soluções de recuperação de desastre disponíveis no Banco de Dados SQL com RPO e ERT (Tempo de Recuperação Estimado) mais longos.</span><span class="sxs-lookup"><span data-stu-id="62b8e-168">Recovery from backups is the most basic of the disaster recovery solutions available in SQL Database with the longest RPO and Estimate Recovery Time (ERT).</span></span> <span data-ttu-id="62b8e-169">Para soluções que usam os bancos de dados básicos, a restauração geográfica é uma solução frequentemente razoável de recuperação de desastres com um ERT de 12 horas.</span><span class="sxs-lookup"><span data-stu-id="62b8e-169">For solutions using Basic databases, geo-restore is frequently a reasonable DR solution with an ERT of 12 hours.</span></span> <span data-ttu-id="62b8e-170">Para soluções que usam bancos de dados Standard ou Premium maiores que exigem tempos de recuperação menores, você deve considerar o uso da [replicação geográfica ativa](sql-database-geo-replication-overview.md).</span><span class="sxs-lookup"><span data-stu-id="62b8e-170">For solutions using larger Standard or Premium databases that require shorter recovery times, you should consider using [active geo-replication](sql-database-geo-replication-overview.md).</span></span> <span data-ttu-id="62b8e-171">A replicação geográfica ativa oferece um RPO e um ERT muito menores, pois exige somente que você inicie um failover para um secundário replicado continuamente.</span><span class="sxs-lookup"><span data-stu-id="62b8e-171">Active geo-replication offers a much lower RPO and ERT as it only requires you initiate a failover to a continuously replicated secondary.</span></span> <span data-ttu-id="62b8e-172">Para obter mais informações sobre as opções de continuidade dos negócios, consulte [Recuperação da continuidade de negócios](sql-database-business-continuity.md).</span><span class="sxs-lookup"><span data-stu-id="62b8e-172">For more information on business contiuity choices, see [over of business continuity](sql-database-business-continuity.md).</span></span>
> 

### <a name="azure-portal"></a><span data-ttu-id="62b8e-173">Portal do Azure</span><span class="sxs-lookup"><span data-stu-id="62b8e-173">Azure portal</span></span>

<span data-ttu-id="62b8e-174">Para realizar a restauração geográfica de um banco de dados durante seu [período de retenção](sql-database-service-tiers.md) usando o Portal do Azure, abra a página de Bancos de Dados SQL e, em seguida, clique em **Adicionar**.</span><span class="sxs-lookup"><span data-stu-id="62b8e-174">To geo-restore a database during its [retention period](sql-database-service-tiers.md) using the Azure portal, open the SQL Databases page and then click **Add**.</span></span> <span data-ttu-id="62b8e-175">Na caixa de texto **Selecionar fonte**, selecione **Backup**.</span><span class="sxs-lookup"><span data-stu-id="62b8e-175">In the **Select source** text box, select **Backup**.</span></span> <span data-ttu-id="62b8e-176">Especifique o backup do qual fazer a recuperação, na região e no servidor de sua escolha.</span><span class="sxs-lookup"><span data-stu-id="62b8e-176">Specify the backup from which to perform the recovery in the region and on the server of your choice.</span></span> 

## <a name="programmatically-performing-recovery-using-automated-backups"></a><span data-ttu-id="62b8e-177">Executar recuperação programaticamente usando backups automatizados</span><span class="sxs-lookup"><span data-stu-id="62b8e-177">Programmatically performing recovery using automated backups</span></span>
<span data-ttu-id="62b8e-178">Conforme discutido anteriormente, além do Portal do Azure, a recuperação de banco de dados pode ser realizada programaticamente usando o Azure PowerShell ou a API REST.</span><span class="sxs-lookup"><span data-stu-id="62b8e-178">As previously discussed, in addition to the Azure portal, database recovery can be performed programmatically using Azure PowerShell or the REST API.</span></span> <span data-ttu-id="62b8e-179">As tabelas a seguir descrevem o conjunto de comandos disponíveis.</span><span class="sxs-lookup"><span data-stu-id="62b8e-179">The following tables describe the set of commands available.</span></span>

### <a name="powershell"></a><span data-ttu-id="62b8e-180">PowerShell</span><span class="sxs-lookup"><span data-stu-id="62b8e-180">PowerShell</span></span>
| <span data-ttu-id="62b8e-181">Cmdlet</span><span class="sxs-lookup"><span data-stu-id="62b8e-181">Cmdlet</span></span> | <span data-ttu-id="62b8e-182">Descrição</span><span class="sxs-lookup"><span data-stu-id="62b8e-182">Description</span></span> |
| --- | --- |
| [<span data-ttu-id="62b8e-183">Get-AzureRmSqlDatabase</span><span class="sxs-lookup"><span data-stu-id="62b8e-183">Get-AzureRmSqlDatabase</span></span>](/powershell/module/azurerm.sql/get-azurermsqldatabase) |<span data-ttu-id="62b8e-184">Obtém um ou mais bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="62b8e-184">Gets one or more databases.</span></span> |
| [<span data-ttu-id="62b8e-185">Get-AzureRMSqlDeletedDatabaseBackup</span><span class="sxs-lookup"><span data-stu-id="62b8e-185">Get-AzureRMSqlDeletedDatabaseBackup</span></span>](/powershell/module/azurerm.sql/get-azurermsqldeleteddatabasebackup) | <span data-ttu-id="62b8e-186">Obtém um banco de dados excluído que você pode restaurar.</span><span class="sxs-lookup"><span data-stu-id="62b8e-186">Gets a deleted database that you can restore.</span></span> |
| [<span data-ttu-id="62b8e-187">Get-AzureRmSqlDatabaseGeoBackup</span><span class="sxs-lookup"><span data-stu-id="62b8e-187">Get-AzureRmSqlDatabaseGeoBackup</span></span>](/powershell/module/azurerm.sql/get-azurermsqldatabasegeobackup) |<span data-ttu-id="62b8e-188">Obtém um backup com redundância geográfica de um banco de dados.</span><span class="sxs-lookup"><span data-stu-id="62b8e-188">Gets a geo-redundant backup of a database.</span></span> |
| [<span data-ttu-id="62b8e-189">Restore-AzureRmSqlDatabase</span><span class="sxs-lookup"><span data-stu-id="62b8e-189">Restore-AzureRmSqlDatabase</span></span>](/powershell/module/azurerm.sql/restore-azurermsqldatabase) |<span data-ttu-id="62b8e-190">Restaura um banco de dados SQL.</span><span class="sxs-lookup"><span data-stu-id="62b8e-190">Restores a SQL database.</span></span> |
|  | |

### <a name="rest-api"></a><span data-ttu-id="62b8e-191">API REST</span><span class="sxs-lookup"><span data-stu-id="62b8e-191">REST API</span></span>
| <span data-ttu-id="62b8e-192">API</span><span class="sxs-lookup"><span data-stu-id="62b8e-192">API</span></span> | <span data-ttu-id="62b8e-193">Descrição</span><span class="sxs-lookup"><span data-stu-id="62b8e-193">Description</span></span> |
| --- | --- |
| [<span data-ttu-id="62b8e-194">REST (createMode=Recovery)</span><span class="sxs-lookup"><span data-stu-id="62b8e-194">REST (createMode=Recovery)</span></span>](https://msdn.microsoft.com/library/azure/mt163685.aspx) |<span data-ttu-id="62b8e-195">Restaura um banco de dados</span><span class="sxs-lookup"><span data-stu-id="62b8e-195">Restores a database</span></span> |
| [<span data-ttu-id="62b8e-196">Obter, Criar ou Atualizar o Status de um Banco de Dados</span><span class="sxs-lookup"><span data-stu-id="62b8e-196">Get Create or Update Database Status</span></span>](https://msdn.microsoft.com/library/azure/mt643934.aspx) |<span data-ttu-id="62b8e-197">Retorna o status durante uma operação de restauração</span><span class="sxs-lookup"><span data-stu-id="62b8e-197">Returns the status during a restore operation</span></span> |
|  | |

## <a name="summary"></a><span data-ttu-id="62b8e-198">Resumo</span><span class="sxs-lookup"><span data-stu-id="62b8e-198">Summary</span></span>
<span data-ttu-id="62b8e-199">Backups automáticos protegem seus bancos de dados contra erros de usuário e de aplicativo, exclusão acidental do banco de dados e interrupções prolongadas.</span><span class="sxs-lookup"><span data-stu-id="62b8e-199">Automatic backups protect your databases from user and application errors, accidental database deletion, and prolonged outages.</span></span> <span data-ttu-id="62b8e-200">Essa funcionalidade interna está disponível para todas as camadas de serviço e níveis de desempenho.</span><span class="sxs-lookup"><span data-stu-id="62b8e-200">This built-in capability is available for all service tiers and performance levels.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="62b8e-201">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="62b8e-201">Next steps</span></span>
* <span data-ttu-id="62b8e-202">Para obter uma visão geral e os cenários de continuidade dos negócios, confira [Visão geral da continuidade dos negócios](sql-database-business-continuity.md)</span><span class="sxs-lookup"><span data-stu-id="62b8e-202">For a business continuity overview and scenarios, see [Business continuity overview](sql-database-business-continuity.md)</span></span>
* <span data-ttu-id="62b8e-203">Para saber mais sobre backups automatizados do Banco de Dados SQL do Azure, consulte [Backups automatizados do Banco de Dados SQL](sql-database-automated-backups.md)</span><span class="sxs-lookup"><span data-stu-id="62b8e-203">To learn about Azure SQL Database automated backups, see [SQL Database automated backups](sql-database-automated-backups.md)</span></span>
* <span data-ttu-id="62b8e-204">Para saber mais sobre a retenção de backup de longo prazo, consulte [Retenção de backup de longo prazo](sql-database-long-term-retention.md)</span><span class="sxs-lookup"><span data-stu-id="62b8e-204">To learn about long-term backup retention, see [Long-term backup retention](sql-database-long-term-retention.md)</span></span>
* <span data-ttu-id="62b8e-205">Para configurar, gerenciar e restaurar da retenção de longo prazo de backups automatizados em um cofre dos Serviços de Recuperação do Azure usando o Portal do Azure, consulte [Configurar e usar a retenção de backup de longo prazo](sql-database-long-term-backup-retention-configure.md).</span><span class="sxs-lookup"><span data-stu-id="62b8e-205">To configure, manage, and restore from long-term retention of automated backups in an Azure Recovery Services vault using the Azure portal, see [Configure and use long-term backup retention](sql-database-long-term-backup-retention-configure.md).</span></span> 
* <span data-ttu-id="62b8e-206">Para saber mais sobre opções de recuperação mais rápidas, confira [replicação geográfica ativa](sql-database-geo-replication-overview.md)</span><span class="sxs-lookup"><span data-stu-id="62b8e-206">To learn about faster recovery options, see [active geo-replication](sql-database-geo-replication-overview.md)</span></span>  
