---
title: "bancos de dados de nuvem expansíveis aaaManaging | Microsoft Docs"
description: "Ilustra o serviço de trabalho de banco de dados Elástico Olá"
metakeywords: azure sql database elastic databases
services: sql-database
documentationcenter: 
manager: jhubbard
author: ddove
ms.assetid: 6fa47cf2-1162-4534-a206-6e2d95b78580
ms.service: sql-database
ms.custom: scale out apps
ms.workload: sql-database
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 10/24/2016
ms.author: ddove
ms.openlocfilehash: b6d330cd712421b8cba781e835830772e6e5b77e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="managing-scaled-out-cloud-databases"></a><span data-ttu-id="b82ec-103">Gerenciando bancos de dados de nuvem com escalonamento horizontal</span><span class="sxs-lookup"><span data-stu-id="b82ec-103">Managing scaled-out cloud databases</span></span>
<span data-ttu-id="b82ec-104">Olá toomanage expansíveis bancos de dados fragmentados, **trabalhos do banco de dados Elástico** recurso habilita (visualização) tooreliably você executar um script Transact-SQL (T-SQL) em um grupo de bancos de dados, incluindo:</span><span class="sxs-lookup"><span data-stu-id="b82ec-104">toomanage scaled-out sharded databases, hello **Elastic Database jobs** feature (preview) enables you tooreliably execute a Transact-SQL (T-SQL) script across a group of databases, including:</span></span>

* <span data-ttu-id="b82ec-105">um conjunto personalizado de bancos de dados (explicado abaixo)</span><span class="sxs-lookup"><span data-stu-id="b82ec-105">a custom-defined collection of databases (explained below)</span></span>
* <span data-ttu-id="b82ec-106">todos os bancos de dados em um [pool elástico](sql-database-elastic-pool.md)</span><span class="sxs-lookup"><span data-stu-id="b82ec-106">all databases in an [elastic pool](sql-database-elastic-pool.md)</span></span>
* <span data-ttu-id="b82ec-107">um conjunto de fragmentos (criado usando a [biblioteca de cliente do Banco de Dados Elástico](sql-database-elastic-database-client-library.md)).</span><span class="sxs-lookup"><span data-stu-id="b82ec-107">a shard set (created using [Elastic Database client library](sql-database-elastic-database-client-library.md)).</span></span> 

## <a name="documentation"></a><span data-ttu-id="b82ec-108">Documentação</span><span class="sxs-lookup"><span data-stu-id="b82ec-108">Documentation</span></span>
* <span data-ttu-id="b82ec-109">[Instalar componentes de trabalho de banco de dados Elástico Olá](sql-database-elastic-jobs-service-installation.md).</span><span class="sxs-lookup"><span data-stu-id="b82ec-109">[Install hello Elastic Database job components](sql-database-elastic-jobs-service-installation.md).</span></span> 
* <span data-ttu-id="b82ec-110">[Introdução aos trabalhos do Banco de Dados Elástico](sql-database-elastic-jobs-getting-started.md).</span><span class="sxs-lookup"><span data-stu-id="b82ec-110">[Get started with Elastic Database jobs](sql-database-elastic-jobs-getting-started.md).</span></span>
* <span data-ttu-id="b82ec-111">[Criar e gerenciar trabalhos usando o PowerShell](sql-database-elastic-jobs-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="b82ec-111">[Create and manage jobs using PowerShell](sql-database-elastic-jobs-powershell.md).</span></span>
* [<span data-ttu-id="b82ec-112">Criar e gerenciar Bancos de Dados SQL do Azure com escala horizontal</span><span class="sxs-lookup"><span data-stu-id="b82ec-112">Create and manage scaled out Azure SQL Databases</span></span>](sql-database-elastic-jobs-getting-started.md)

<span data-ttu-id="b82ec-113">**Trabalhos do banco de dados Elásticos** atualmente é um serviço de nuvem para Azure hospedado pelo cliente que permite a execução de saudação do ad hoc e tarefas administrativas agendadas, que são chamadas de **trabalhos**.</span><span class="sxs-lookup"><span data-stu-id="b82ec-113">**Elastic Database jobs** is currently a customer-hosted Azure Cloud Service that enables hello execution of ad-hoc and scheduled administrative tasks, which are called **jobs**.</span></span> <span data-ttu-id="b82ec-114">Com trabalhos, você pode facilmente e gerenciar com confiança grandes grupos de bancos de dados do SQL Azure, executando operações administrativas de tooperform de scripts de Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="b82ec-114">With jobs, you can easily and reliably manage large groups of Azure SQL Databases by running Transact-SQL scripts tooperform administrative operations.</span></span> 

![Serviço do trabalho de banco de dados elástico][1]

## <a name="why-use-jobs"></a><span data-ttu-id="b82ec-116">Por que usar os trabalhos?</span><span class="sxs-lookup"><span data-stu-id="b82ec-116">Why use jobs?</span></span>
<span data-ttu-id="b82ec-117">**Gerenciar**</span><span class="sxs-lookup"><span data-stu-id="b82ec-117">**Manage**</span></span>

<span data-ttu-id="b82ec-118">Realize facilmente alterações de esquema, gerenciamento de credenciais, atualizações de dados de referência, desempenho de coleta de dados ou coleção de telemetria do locatário (cliente).</span><span class="sxs-lookup"><span data-stu-id="b82ec-118">Easily do schema changes, credentials management, reference data updates, performance data collection or tenant (customer) telemetry collection.</span></span>

<span data-ttu-id="b82ec-119">**Relatórios**</span><span class="sxs-lookup"><span data-stu-id="b82ec-119">**Reports**</span></span>

<span data-ttu-id="b82ec-120">Agregue dados de uma coleção de Bancos de Dados SQL do Azure em uma tabela de destino único.</span><span class="sxs-lookup"><span data-stu-id="b82ec-120">Aggregate data from a collection of Azure SQL Databases into a single destination table.</span></span>

<span data-ttu-id="b82ec-121">**Reduzir a sobrecarga**</span><span class="sxs-lookup"><span data-stu-id="b82ec-121">**Reduce overhead**</span></span>

<span data-ttu-id="b82ec-122">Normalmente, você deve conectar tooeach banco de dados independentemente de instruções de Transact-SQL toorun ordem ou executar outras tarefas administrativas.</span><span class="sxs-lookup"><span data-stu-id="b82ec-122">Normally, you must connect tooeach database independently in order toorun Transact-SQL statements or perform other administrative tasks.</span></span> <span data-ttu-id="b82ec-123">Um trabalho trata a tarefa de saudação de registro em log no banco de dados tooeach no grupo de destino hello.</span><span class="sxs-lookup"><span data-stu-id="b82ec-123">A job handles hello task of logging in tooeach database in hello target group.</span></span> <span data-ttu-id="b82ec-124">Você também define, manter e manter toobe de scripts Transact-SQL executado em um grupo de bancos de dados do SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="b82ec-124">You also define, maintain and persist Transact-SQL scripts toobe executed across a group of Azure SQL Databases.</span></span>

<span data-ttu-id="b82ec-125">**Contabilização**</span><span class="sxs-lookup"><span data-stu-id="b82ec-125">**Accounting**</span></span>

<span data-ttu-id="b82ec-126">Trabalhos executados status de saudação script e o log de saudação de execução para cada banco de dados.</span><span class="sxs-lookup"><span data-stu-id="b82ec-126">Jobs run hello script and log hello status of execution for each database.</span></span> <span data-ttu-id="b82ec-127">Você também tem a repetição automática quando ocorrem falhas.</span><span class="sxs-lookup"><span data-stu-id="b82ec-127">You also get automatic retry when failures occur.</span></span>

<span data-ttu-id="b82ec-128">**Flexibilidade**</span><span class="sxs-lookup"><span data-stu-id="b82ec-128">**Flexibility**</span></span>

<span data-ttu-id="b82ec-129">Defina grupos personalizados de Bancos de Dados SQL do Azure e defina agendas para executar um trabalho.</span><span class="sxs-lookup"><span data-stu-id="b82ec-129">Define custom groups of Azure SQL Databases, and define schedules for running a job.</span></span>

> [!NOTE]
> <span data-ttu-id="b82ec-130">Olá portal do Azure, somente um conjunto reduzido de funções limitado tooSQL Azure Elástico pools está disponível.</span><span class="sxs-lookup"><span data-stu-id="b82ec-130">In hello Azure portal, only a reduced set of functions limited tooSQL Azure elastic pools is available.</span></span> <span data-ttu-id="b82ec-131">Use Olá conjunto completo de APIs do PowerShell tooaccess Olá da funcionalidade atual.</span><span class="sxs-lookup"><span data-stu-id="b82ec-131">Use hello PowerShell APIs tooaccess hello full set of current functionality.</span></span>
> 
> 

## <a name="applications"></a><span data-ttu-id="b82ec-132">Aplicativos</span><span class="sxs-lookup"><span data-stu-id="b82ec-132">Applications</span></span>
* <span data-ttu-id="b82ec-133">Realize tarefas administrativas, como a implantação de um novo esquema.</span><span class="sxs-lookup"><span data-stu-id="b82ec-133">Perform administrative tasks, such as deploying a new schema.</span></span>
* <span data-ttu-id="b82ec-134">Atualize informações de dados de referência do produto comuns a todos os bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="b82ec-134">Update reference data-product information common across all databases.</span></span> <span data-ttu-id="b82ec-135">Ou agende atualizações automáticas a cada dia da semana, após o expediente.</span><span class="sxs-lookup"><span data-stu-id="b82ec-135">Or schedules automatic updates every weekday, after hours.</span></span>
* <span data-ttu-id="b82ec-136">Recrie o desempenho da consulta tooimprove índices.</span><span class="sxs-lookup"><span data-stu-id="b82ec-136">Rebuild indexes tooimprove query performance.</span></span> <span data-ttu-id="b82ec-137">Olá recriação pode ser configurado tooexecute em uma coleção de bancos de dados de forma recorrente, como horário de pico.</span><span class="sxs-lookup"><span data-stu-id="b82ec-137">hello rebuilding can be configured tooexecute across a collection of databases on a recurring basis, such as during off-peak hours.</span></span>
* <span data-ttu-id="b82ec-138">Coletar resultados de consulta de um conjunto de bancos de dados em uma tabela central em uma base contínua.</span><span class="sxs-lookup"><span data-stu-id="b82ec-138">Collect query results from a set of databases into a central table on an on-going basis.</span></span> <span data-ttu-id="b82ec-139">Consultas de desempenho podem ser executadas continuamente e configurado tootrigger tarefas adicionais toobe executado.</span><span class="sxs-lookup"><span data-stu-id="b82ec-139">Performance queries can be continually executed and configured tootrigger additional tasks toobe executed.</span></span>
* <span data-ttu-id="b82ec-140">Executar consultas de processamento de dados mais longas em execução em um conjunto grande de bancos de dados, por exemplo hello coleção de telemetria do cliente.</span><span class="sxs-lookup"><span data-stu-id="b82ec-140">Execute longer running data processing queries across a large set of databases, for example hello collection of customer telemetry.</span></span> <span data-ttu-id="b82ec-141">Resultados são coletados em uma única tabela de destino para análise posterior.</span><span class="sxs-lookup"><span data-stu-id="b82ec-141">Results are collected into a single destination table for further analysis.</span></span>

## <a name="elastic-database-jobs-end-to-end"></a><span data-ttu-id="b82ec-142">Trabalhos de Banco de Dados Elástico: ponta a ponta</span><span class="sxs-lookup"><span data-stu-id="b82ec-142">Elastic Database jobs: end-to-end</span></span>
1. <span data-ttu-id="b82ec-143">Instalar Olá **trabalhos do banco de dados Elástico** componentes.</span><span class="sxs-lookup"><span data-stu-id="b82ec-143">Install hello **Elastic Database jobs** components.</span></span> <span data-ttu-id="b82ec-144">Para saber mais informações, consulte [Instalando trabalhos de banco de dados elástico](sql-database-elastic-jobs-service-installation.md).</span><span class="sxs-lookup"><span data-stu-id="b82ec-144">For more information, see [Installing Elastic Database jobs](sql-database-elastic-jobs-service-installation.md).</span></span> <span data-ttu-id="b82ec-145">Se a instalação Olá falhar, consulte [como toouninstall](sql-database-elastic-jobs-uninstall.md).</span><span class="sxs-lookup"><span data-stu-id="b82ec-145">If hello installation fails, see [how toouninstall](sql-database-elastic-jobs-uninstall.md).</span></span>
2. <span data-ttu-id="b82ec-146">Use Olá tooaccess de APIs do PowerShell mais funcionalidade, por exemplo, criar coleções de banco de dados personalizadas, adicionando agendas e/ou coleta conjuntos de resultados.</span><span class="sxs-lookup"><span data-stu-id="b82ec-146">Use hello PowerShell APIs tooaccess more functionality, for example creating custom-defined database collections, adding schedules and/or gathering results sets.</span></span> <span data-ttu-id="b82ec-147">Portal de saudação de uso para instalação simples e criação/monitoramento de trabalhos de limitado tooexecution contra um **pool Elástico**.</span><span class="sxs-lookup"><span data-stu-id="b82ec-147">Use hello portal for simple installation and creation/monitoring of jobs limited tooexecution against a **elastic pool**.</span></span> 
3. <span data-ttu-id="b82ec-148">Criar credenciais criptografadas para execução do trabalho e [adicionar Olá usuário (ou função) tooeach banco de dados no grupo de saudação](sql-database-security-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b82ec-148">Create encrypted credentials for job execution and [add hello user (or role) tooeach database in hello group](sql-database-security-overview.md).</span></span>
4. <span data-ttu-id="b82ec-149">Crie um script T-SQL que pode ser executado em cada banco de dados no grupo de saudação idempotentes.</span><span class="sxs-lookup"><span data-stu-id="b82ec-149">Create an idempotent T-SQL script that can be run against every database in hello group.</span></span> 
5. <span data-ttu-id="b82ec-150">Execute trabalhos de toocreate essas etapas usando o portal do Azure de saudação: [criando e gerenciando trabalhos do banco de dados Elástico](sql-database-elastic-jobs-create-and-manage.md).</span><span class="sxs-lookup"><span data-stu-id="b82ec-150">Follow these steps toocreate jobs using hello Azure portal: [Creating and managing Elastic Database jobs](sql-database-elastic-jobs-create-and-manage.md).</span></span> 
6. <span data-ttu-id="b82ec-151">Ou use scripts do PowerShell: [Criar e gerenciar trabalhos de banco de dados elástico de Banco de Dados SQL usando o PowerShell (visualização)](sql-database-elastic-jobs-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="b82ec-151">Or use PowerShell scripts: [Create and manage a SQL Database elastic database jobs using PowerShell (preview)](sql-database-elastic-jobs-powershell.md).</span></span>

## <a name="idempotent-scripts"></a><span data-ttu-id="b82ec-152">Scripts idempotentes</span><span class="sxs-lookup"><span data-stu-id="b82ec-152">Idempotent scripts</span></span>
<span data-ttu-id="b82ec-153">Olá scripts devem ser [idempotente](https://en.wikipedia.org/wiki/Idempotence).</span><span class="sxs-lookup"><span data-stu-id="b82ec-153">hello scripts must be [idempotent](https://en.wikipedia.org/wiki/Idempotence).</span></span> <span data-ttu-id="b82ec-154">Em termos simples, "idempotente" significa que se o script hello tiver êxito, e ele é executado novamente, hello mesmo resultado ocorre.</span><span class="sxs-lookup"><span data-stu-id="b82ec-154">In simple terms, "idempotent" means that if hello script succeeds, and it is run again, hello same result occurs.</span></span> <span data-ttu-id="b82ec-155">Um script pode falhar devido a problemas de rede tootransient.</span><span class="sxs-lookup"><span data-stu-id="b82ec-155">A script may fail due tootransient network issues.</span></span> <span data-ttu-id="b82ec-156">Nesse caso, o trabalho Olá repetirá automaticamente um número predefinido de vezes antes de desisting executando o script hello.</span><span class="sxs-lookup"><span data-stu-id="b82ec-156">In that case, hello job will automatically retry running hello script a preset number of times before desisting.</span></span> <span data-ttu-id="b82ec-157">Um script idempotente tem Olá mesmo resultado, mesmo que tenha sido executado com êxito duas vezes.</span><span class="sxs-lookup"><span data-stu-id="b82ec-157">An idempotent script has hello same result even if has been successfully run twice.</span></span> 

<span data-ttu-id="b82ec-158">Uma tática simple é tootest existência de saudação de um objeto antes de criá-lo.</span><span class="sxs-lookup"><span data-stu-id="b82ec-158">A simple tactic is tootest for hello existence of an object before creating it.</span></span>  

    IF NOT EXIST (some_object)
    -- Create hello object 
    -- If it exists, drop hello object before recreating it.

<span data-ttu-id="b82ec-159">Da mesma forma, um script deve ser capaz de tooexecute com êxito logicamente Testando e responder a quaisquer condições de encontrar.</span><span class="sxs-lookup"><span data-stu-id="b82ec-159">Similarly, a script must be able tooexecute successfully by logically testing for and countering any conditions it finds.</span></span>

## <a name="failures-and-logs"></a><span data-ttu-id="b82ec-160">Falhas e logs</span><span class="sxs-lookup"><span data-stu-id="b82ec-160">Failures and logs</span></span>
<span data-ttu-id="b82ec-161">Se um script falhar após várias tentativas, o trabalho de saudação registra Olá erro e continua.</span><span class="sxs-lookup"><span data-stu-id="b82ec-161">If a script fails after multiple attempts, hello job logs hello error and continues.</span></span> <span data-ttu-id="b82ec-162">Após o término de um trabalho (ou seja, uma execução em todos os bancos de dados no grupo de saudação), você pode verificar sua lista de tentativas com falha.</span><span class="sxs-lookup"><span data-stu-id="b82ec-162">After a job ends (meaning a run against all databases in hello group), you can check its list of failed attempts.</span></span> <span data-ttu-id="b82ec-163">Olá logs fornecem detalhes scripts com defeito toodebug.</span><span class="sxs-lookup"><span data-stu-id="b82ec-163">hello logs provide details toodebug faulty scripts.</span></span> 

## <a name="group-types-and-creation"></a><span data-ttu-id="b82ec-164">Tipos de grupos e criação</span><span class="sxs-lookup"><span data-stu-id="b82ec-164">Group types and creation</span></span>
<span data-ttu-id="b82ec-165">Há dois tipos de grupos:</span><span class="sxs-lookup"><span data-stu-id="b82ec-165">There are two kinds of groups:</span></span> 

1. <span data-ttu-id="b82ec-166">Conjuntos de fragmento</span><span class="sxs-lookup"><span data-stu-id="b82ec-166">Shard sets</span></span>
2. <span data-ttu-id="b82ec-167">Grupos personalizados</span><span class="sxs-lookup"><span data-stu-id="b82ec-167">Custom groups</span></span>

<span data-ttu-id="b82ec-168">Grupos de conjunto de fragmentos são criados usando Olá [ferramentas de banco de dados Elástico](sql-database-elastic-scale-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="b82ec-168">Shard set groups are created using hello [Elastic Database tools](sql-database-elastic-scale-introduction.md).</span></span> <span data-ttu-id="b82ec-169">Quando você cria um grupo de conjunto de fragmentos, bancos de dados são adicionados ou removidos do grupo de saudação automaticamente.</span><span class="sxs-lookup"><span data-stu-id="b82ec-169">When you create a shard set group, databases are added or removed from hello group automatically.</span></span> <span data-ttu-id="b82ec-170">Por exemplo, um novo fragmento será automaticamente no grupo hello quando você adiciona o mapa do fragmento toohello.</span><span class="sxs-lookup"><span data-stu-id="b82ec-170">For example, a new shard will be automatically in hello group when you add it toohello shard map.</span></span> <span data-ttu-id="b82ec-171">Um trabalho pode ser executado, em seguida, no grupo de saudação.</span><span class="sxs-lookup"><span data-stu-id="b82ec-171">A job can then be run against hello group.</span></span>

<span data-ttu-id="b82ec-172">Grupos personalizados, Olá outro lado, rigidamente são definidos.</span><span class="sxs-lookup"><span data-stu-id="b82ec-172">Custom groups, on hello other hand, are rigidly defined.</span></span> <span data-ttu-id="b82ec-173">Você deve adicionar ou remover explicitamente bancos de dados de grupos personalizados.</span><span class="sxs-lookup"><span data-stu-id="b82ec-173">You must explicitly add or remove databases from custom groups.</span></span> <span data-ttu-id="b82ec-174">Se um banco de dados no grupo de saudação for descartado, trabalho Olá tentará toorun script hello banco de dados de saudação resultando em uma falha de eventual.</span><span class="sxs-lookup"><span data-stu-id="b82ec-174">If a database in hello group is dropped, hello job will attempt toorun hello script against hello database resulting in an eventual failure.</span></span> <span data-ttu-id="b82ec-175">Grupos criados usando Olá portal do Azure no momento são grupos personalizados.</span><span class="sxs-lookup"><span data-stu-id="b82ec-175">Groups created using hello Azure portal currently are custom groups.</span></span> 

## <a name="components-and-pricing"></a><span data-ttu-id="b82ec-176">Componentes e preços</span><span class="sxs-lookup"><span data-stu-id="b82ec-176">Components and pricing</span></span>
<span data-ttu-id="b82ec-177">Olá seguintes componentes trabalham juntos toocreate um serviço de nuvem do Azure que permite a execução do ad-hoc de trabalhos administrativos.</span><span class="sxs-lookup"><span data-stu-id="b82ec-177">hello following components work together toocreate an Azure Cloud service that enables ad-hoc execution of administrative jobs.</span></span> <span data-ttu-id="b82ec-178">componentes de saudação são instalados e configurados automaticamente durante a instalação, na sua assinatura.</span><span class="sxs-lookup"><span data-stu-id="b82ec-178">hello components are installed and configured automatically during setup, in your subscription.</span></span> <span data-ttu-id="b82ec-179">Você pode identificar serviços hello como todos eles têm Olá mesmo gerado automaticamente nome.</span><span class="sxs-lookup"><span data-stu-id="b82ec-179">You can identify hello services as they all have hello same auto-generated name.</span></span> <span data-ttu-id="b82ec-180">Olá nome é exclusivo e consiste em prefixo hello "edj" seguido por 21 caracteres geradas aleatoriamente.</span><span class="sxs-lookup"><span data-stu-id="b82ec-180">hello name is unique, and consists of hello prefix "edj" followed by 21 randomly generated characters.</span></span>

* <span data-ttu-id="b82ec-181">**Serviço de nuvem do Azure**: trabalhos de banco de dados Elástico (visualização) é fornecida como uma nuvem do Azure hospedado cliente serviço tooperform a execução de saudação solicitado tarefas.</span><span class="sxs-lookup"><span data-stu-id="b82ec-181">**Azure Cloud Service**: elastic database jobs (preview) is delivered as a customer-hosted Azure Cloud service tooperform execution of hello requested tasks.</span></span> <span data-ttu-id="b82ec-182">No portal de hello, serviço de saudação é implantado e hospedado em sua assinatura do Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="b82ec-182">From hello portal, hello service is deployed and hosted in your Microsoft Azure subscription.</span></span> <span data-ttu-id="b82ec-183">serviço de padrão implantado de saudação é executado com um mínimo de saudação de duas funções de trabalho para alta disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="b82ec-183">hello default deployed service runs with hello minimum of two worker roles for high availability.</span></span> <span data-ttu-id="b82ec-184">tamanho padrão de saudação de cada função de trabalho (ElasticDatabaseJobWorker) é executado em uma instância de A0.</span><span class="sxs-lookup"><span data-stu-id="b82ec-184">hello default size of each worker role (ElasticDatabaseJobWorker) runs on an A0 instance.</span></span> <span data-ttu-id="b82ec-185">Para obter os preços, confira [preços dos serviços de Nuvem](https://azure.microsoft.com/pricing/details/cloud-services/).</span><span class="sxs-lookup"><span data-stu-id="b82ec-185">For pricing, see [Cloud services pricing](https://azure.microsoft.com/pricing/details/cloud-services/).</span></span> 
* <span data-ttu-id="b82ec-186">**Banco de dados do SQL Azure**: serviço Olá usa um banco de dados do SQL do Azure conhecido como Olá **banco de dados de controle** toostore todos os metadados do trabalho hello.</span><span class="sxs-lookup"><span data-stu-id="b82ec-186">**Azure SQL Database**: hello service uses an Azure SQL Database known as hello **control database** toostore all of hello job metadata.</span></span> <span data-ttu-id="b82ec-187">camada de serviço saudação padrão é um S0.</span><span class="sxs-lookup"><span data-stu-id="b82ec-187">hello default service tier is a S0.</span></span> <span data-ttu-id="b82ec-188">Para obter os preços, confira [Preços de Banco de Dados SQL](https://azure.microsoft.com/pricing/details/sql-database/).</span><span class="sxs-lookup"><span data-stu-id="b82ec-188">For pricing, see [SQL Database Pricing](https://azure.microsoft.com/pricing/details/sql-database/).</span></span>
* <span data-ttu-id="b82ec-189">**Barramento de serviço do Azure**: é um barramento de serviço do Azure para a coordenação de trabalho hello dentro Olá serviço de nuvem do Azure.</span><span class="sxs-lookup"><span data-stu-id="b82ec-189">**Azure Service Bus**: An Azure Service Bus is for coordination of hello work within hello Azure Cloud Service.</span></span> <span data-ttu-id="b82ec-190">Consulte [Preços de Barramento de Serviço](https://azure.microsoft.com/pricing/details/service-bus/).</span><span class="sxs-lookup"><span data-stu-id="b82ec-190">See [Service Bus Pricing](https://azure.microsoft.com/pricing/details/service-bus/).</span></span>
* <span data-ttu-id="b82ec-191">**Armazenamento do Azure**: conta de um armazenamento do Azure é usada toostore diagnóstico de saída de log no evento de saudação que um problema requer a depuração adicional (consulte [habilitando o diagnóstico nos serviços de nuvem do Azure e máquinas virtuais](../cloud-services/cloud-services-dotnet-diagnostics.md)).</span><span class="sxs-lookup"><span data-stu-id="b82ec-191">**Azure Storage**: An Azure Storage account is used toostore diagnostic output logging in hello event that an issue requires further debugging (see [Enabling Diagnostics in Azure Cloud Services and Virtual Machines](../cloud-services/cloud-services-dotnet-diagnostics.md)).</span></span> <span data-ttu-id="b82ec-192">Para obter os preços, confira [Preços de Armazenamento do Azure](https://azure.microsoft.com/pricing/details/storage/).</span><span class="sxs-lookup"><span data-stu-id="b82ec-192">For pricing, see [Azure Storage Pricing](https://azure.microsoft.com/pricing/details/storage/).</span></span>

## <a name="how-elastic-database-jobs-work"></a><span data-ttu-id="b82ec-193">Como os trabalhos de banco de dados elástico funcionam</span><span class="sxs-lookup"><span data-stu-id="b82ec-193">How Elastic Database jobs work</span></span>
1. <span data-ttu-id="b82ec-194">Um **banco de dados de controle** , que armazena todos os dados de estado e metadados, é atribuído a um banco de dados SQL do Azure.</span><span class="sxs-lookup"><span data-stu-id="b82ec-194">An Azure SQL Database is designated a **control database** which stores all meta-data and state data.</span></span>
2. <span data-ttu-id="b82ec-195">banco de dados de controle de saudação é acessado pelo Olá **serviço de trabalho** toolaunch e rastrear tooexecute de trabalhos.</span><span class="sxs-lookup"><span data-stu-id="b82ec-195">hello control database is accessed by hello **job service** toolaunch and track jobs tooexecute.</span></span>
3. <span data-ttu-id="b82ec-196">Duas diferentes funções se comunicam com o banco de dados de controle de saudação:</span><span class="sxs-lookup"><span data-stu-id="b82ec-196">Two different roles communicate with hello control database:</span></span> 
   * <span data-ttu-id="b82ec-197">Controlador: Determina quais trabalhos exigem Olá de tooperform tarefas solicitadas trabalho e trabalhos de novas tentativas com falha, criando novas tarefas de trabalho.</span><span class="sxs-lookup"><span data-stu-id="b82ec-197">Controller: Determines which jobs require tasks tooperform hello requested job, and retries failed jobs by creating new job tasks.</span></span>
   * <span data-ttu-id="b82ec-198">Execução de tarefa do trabalho: Executa tarefas de trabalho hello.</span><span class="sxs-lookup"><span data-stu-id="b82ec-198">Job Task Execution: Carries out hello job tasks.</span></span>

### <a name="job-task-types"></a><span data-ttu-id="b82ec-199">Tipos de tarefa de trabalho</span><span class="sxs-lookup"><span data-stu-id="b82ec-199">Job task types</span></span>
<span data-ttu-id="b82ec-200">Há vários tipos de tarefas de trabalho que realizarão a execução de trabalhos:</span><span class="sxs-lookup"><span data-stu-id="b82ec-200">There are multiple types of job tasks that carry out execution of jobs:</span></span>

* <span data-ttu-id="b82ec-201">ShardMapRefresh: Consultas Olá toodetermine de mapa do fragmento todos os bancos de dados de saudação usados como fragmentos</span><span class="sxs-lookup"><span data-stu-id="b82ec-201">ShardMapRefresh: Queries hello shard map toodetermine all hello databases used as shards</span></span>
* <span data-ttu-id="b82ec-202">ScriptSplit: Divide o script hello em instruções 'GO' em lotes</span><span class="sxs-lookup"><span data-stu-id="b82ec-202">ScriptSplit: Splits hello script across ‘GO’ statements into batches</span></span>
* <span data-ttu-id="b82ec-203">ExpandJob: cria trabalhos filho para cada banco de dados de um trabalho que se destina a um grupo de bancos de dados</span><span class="sxs-lookup"><span data-stu-id="b82ec-203">ExpandJob: Creates child jobs for each database from a job that targets a group of databases</span></span>
* <span data-ttu-id="b82ec-204">ScriptExecution: executa um script em um banco de dados específico usando credenciais definidas</span><span class="sxs-lookup"><span data-stu-id="b82ec-204">ScriptExecution: Executes a script against a particular database using defined credentials</span></span>
* <span data-ttu-id="b82ec-205">Dacpac: Aplica-se um DACPAC tooa banco de dados específico usando credenciais específicas</span><span class="sxs-lookup"><span data-stu-id="b82ec-205">Dacpac: Applies a DACPAC tooa particular database using particular credentials</span></span>

## <a name="end-to-end-job-execution-work-flow"></a><span data-ttu-id="b82ec-206">Fluxo de trabalho de execução de trabalho de ponta a ponta</span><span class="sxs-lookup"><span data-stu-id="b82ec-206">End-to-end job execution work-flow</span></span>
1. <span data-ttu-id="b82ec-207">Usando o hello Portal ou Olá API do PowerShell, um trabalho é inserido em Olá **banco de dados de controle**.</span><span class="sxs-lookup"><span data-stu-id="b82ec-207">Using either hello Portal or hello PowerShell API, a job is inserted into hello  **control database**.</span></span> <span data-ttu-id="b82ec-208">trabalho de saudação solicita a execução de um script Transact-SQL para um grupo de bancos de dados usando credenciais específicas.</span><span class="sxs-lookup"><span data-stu-id="b82ec-208">hello job requests execution of a Transact-SQL script against a group of databases using specific credentials.</span></span>
2. <span data-ttu-id="b82ec-209">controlador Olá identifica o novo trabalho de saudação.</span><span class="sxs-lookup"><span data-stu-id="b82ec-209">hello controller identifies hello new job.</span></span> <span data-ttu-id="b82ec-210">Tarefas de trabalho são criadas e executado o script de saudação toosplit e bancos de dados do grupo de saudação toorefresh.</span><span class="sxs-lookup"><span data-stu-id="b82ec-210">Job tasks are created and executed toosplit hello script and toorefresh hello group’s databases.</span></span> <span data-ttu-id="b82ec-211">Por fim, um novo trabalho é criado e executado o trabalho de saudação tooexpand e cria novo filho trabalhos onde cada trabalho filho é especificado tooexecute Olá script Transact-SQL em relação a um banco de dados individual no grupo de saudação.</span><span class="sxs-lookup"><span data-stu-id="b82ec-211">Lastly, a new job is created and executed tooexpand hello job and create new child jobs where each child job is specified tooexecute hello Transact-SQL script against an individual database in hello group.</span></span>
3. <span data-ttu-id="b82ec-212">controlador Olá identifica Olá criado trabalhos filhos.</span><span class="sxs-lookup"><span data-stu-id="b82ec-212">hello controller identifies hello created child jobs.</span></span> <span data-ttu-id="b82ec-213">Para cada trabalho, o controlador de saudação cria e aciona um script de saudação do trabalho tarefa tooexecute em relação a um banco de dados.</span><span class="sxs-lookup"><span data-stu-id="b82ec-213">For each job, hello controller creates and triggers a job task tooexecute hello script against a database.</span></span> 
4. <span data-ttu-id="b82ec-214">Depois de concluir todas as tarefas de trabalho, controlador Olá atualiza o estado do hello trabalhos tooa concluída.</span><span class="sxs-lookup"><span data-stu-id="b82ec-214">After all job tasks have completed, hello controller updates hello jobs tooa completed state.</span></span> 
   <span data-ttu-id="b82ec-215">A qualquer momento durante a execução do trabalho, Olá API PowerShell pode ser usado tooview Olá o estado atual da execução do trabalho.</span><span class="sxs-lookup"><span data-stu-id="b82ec-215">At any point during job execution, hello PowerShell API can be used tooview hello current state of job execution.</span></span> <span data-ttu-id="b82ec-216">Sempre retornado por Olá APIs do PowerShell são representados no UTC.</span><span class="sxs-lookup"><span data-stu-id="b82ec-216">All times returned by hello PowerShell APIs are represented in UTC.</span></span> <span data-ttu-id="b82ec-217">Se desejado, uma solicitação de cancelamento pode ser iniciada toostop um trabalho.</span><span class="sxs-lookup"><span data-stu-id="b82ec-217">If desired, a cancellation request can be initiated toostop a job.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="b82ec-218">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="b82ec-218">Next steps</span></span>
<span data-ttu-id="b82ec-219">[Instalar componentes de saudação](sql-database-elastic-jobs-service-installation.md), em seguida, [criar e adicionar um log no banco de dados tooeach no grupo de saudação de bancos de dados](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="b82ec-219">[Install hello components](sql-database-elastic-jobs-service-installation.md), then [create and add a log in tooeach database in hello group of databases](sql-database-manage-logins.md).</span></span> <span data-ttu-id="b82ec-220">toofurther entender o trabalho de criação e gerenciamento, consulte [criar e gerenciar trabalhos do banco de dados Elástico](sql-database-elastic-jobs-create-and-manage.md).</span><span class="sxs-lookup"><span data-stu-id="b82ec-220">toofurther understand job creation and management, see [creating and managing elastic database jobs](sql-database-elastic-jobs-create-and-manage.md).</span></span> <span data-ttu-id="b82ec-221">Consulte também a [Introdução aos trabalhos de Banco de Dados Elástico](sql-database-elastic-jobs-getting-started.md).</span><span class="sxs-lookup"><span data-stu-id="b82ec-221">See also [Getting started with Elastic Database jobs](sql-database-elastic-jobs-getting-started.md).</span></span>

[!INCLUDE [elastic-scale-include](../../includes/elastic-scale-include.md)]

<!--Image references-->
[1]: ./media/sql-database-elastic-jobs-overview/elastic-jobs.png
<!--anchors-->


