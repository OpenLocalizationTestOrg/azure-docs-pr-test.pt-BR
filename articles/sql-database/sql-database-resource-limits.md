---
title: Limites de recursos do Banco de Dados SQL do Azure | Microsoft Docs
description: "Esta página descreve alguns limites de recurso comuns para o Banco de Dados SQL do Azure."
services: sql-database
documentationcenter: na
author: CarlRabeler
manager: jhubbard
editor: 
ms.assetid: 884e519f-23bb-4b73-a718-00658629646a
ms.service: sql-database
ms.custom: DBs & servers
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 07/12/2017
ms.author: carlrab
ms.openlocfilehash: e75458db79e6c15f8d5155b71f04a20fa21818ff
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/03/2017
---
# <a name="azure-sql-database-resource-limits"></a><span data-ttu-id="29cc5-103">Limites de recursos do Banco de Dados SQL do Azure</span><span class="sxs-lookup"><span data-stu-id="29cc5-103">Azure SQL Database resource limits</span></span>
## <a name="overview"></a><span data-ttu-id="29cc5-104">Visão geral</span><span class="sxs-lookup"><span data-stu-id="29cc5-104">Overview</span></span>
<span data-ttu-id="29cc5-105">O Banco de Dados SQL do Azure gerencia os recursos disponíveis para um banco de dados usando dois mecanismos diferentes: **Governança de Recursos** e **Imposição de Limites**.</span><span class="sxs-lookup"><span data-stu-id="29cc5-105">Azure SQL Database manages the resources available to a database using two different mechanisms: **Resources Governance** and **Enforcement of Limits**.</span></span> <span data-ttu-id="29cc5-106">Este tópico explica essas duas áreas principais do gerenciamento de recursos.</span><span class="sxs-lookup"><span data-stu-id="29cc5-106">This topic explains these two main areas of resource management.</span></span>

## <a name="resource-governance"></a><span data-ttu-id="29cc5-107">Governança de recursos</span><span class="sxs-lookup"><span data-stu-id="29cc5-107">Resource governance</span></span>
<span data-ttu-id="29cc5-108">Uma das metas de design das camadas de serviço Básico, Standard, Premium e Premium RS é que o Banco de Dados SQL do Azure se comporte como se o banco de dados estivesse sendo executado em seu próprio computador, isolado de outros bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="29cc5-108">One of the design goals of the Basic, Standard, Premium, and Premium RS service tiers is for Azure SQL Database to behave as if the database is running on its own machine, isolated from other databases.</span></span> <span data-ttu-id="29cc5-109">A governança de recursos emula esse comportamento.</span><span class="sxs-lookup"><span data-stu-id="29cc5-109">Resource governance emulates this behavior.</span></span> <span data-ttu-id="29cc5-110">Se a utilização de recursos agregada atingir o máximo de recursos da CPU, Memória, E/S de Log e de E/S de Dados disponíveis atribuídos ao banco de dados, a governança de recursos colocará na fila as consultas em execução e atribuirá recursos às consultas na fila conforme eles são liberados.</span><span class="sxs-lookup"><span data-stu-id="29cc5-110">If the aggregated resource utilization reaches the maximum available CPU, Memory, Log I/O, and Data I/O resources assigned to the database, resource governance queues queries in execution and assign resources to the queued queries as they free up.</span></span>

<span data-ttu-id="29cc5-111">Assim como ocorre em um computador dedicado, a utilização de todos os recursos disponíveis resultará em uma execução mais longa das consultas em execução, o que poderá resultar em tempos limite de comando no cliente.</span><span class="sxs-lookup"><span data-stu-id="29cc5-111">As on a dedicated machine, utilizing all available resources results in a longer execution of currently executing queries, which can result in command timeouts on the client.</span></span> <span data-ttu-id="29cc5-112">Aplicativos com uma lógica de repetição agressiva e aplicativos que executam consultas no banco de dados com uma alta frequência podem encontrar mensagens de erro ao tentar executar novas consultas quando o limite de solicitações simultâneas for atingido.</span><span class="sxs-lookup"><span data-stu-id="29cc5-112">Applications with aggressive retry logic and applications that execute queries against the database with a high frequency can encounter errors messages when trying to execute new queries when the limit of concurrent requests has been reached.</span></span>

### <a name="recommendations"></a><span data-ttu-id="29cc5-113">Recomendações:</span><span class="sxs-lookup"><span data-stu-id="29cc5-113">Recommendations:</span></span>
<span data-ttu-id="29cc5-114">Monitore a utilização de recursos e os tempos de resposta médios das consultas quando estiver próximo da utilização máxima de um banco de dados.</span><span class="sxs-lookup"><span data-stu-id="29cc5-114">Monitor the resource utilization and the average response times of queries when nearing the maximum utilization of a database.</span></span> <span data-ttu-id="29cc5-115">Quando encontrar latências maiores de consulta, você geralmente terá três opções:</span><span class="sxs-lookup"><span data-stu-id="29cc5-115">When encountering higher query latencies you generally have three options:</span></span>

1. <span data-ttu-id="29cc5-116">Reduzir o número de solicitações de entrada para o banco de dados para prevenir o tempo limite e o acúmulo de solicitações.</span><span class="sxs-lookup"><span data-stu-id="29cc5-116">Reduce the number of incoming requests to the database to prevent timeout and the pile up of requests.</span></span>
2. <span data-ttu-id="29cc5-117">Atribuir um nível mais alto de desempenho ao banco de dados.</span><span class="sxs-lookup"><span data-stu-id="29cc5-117">Assign a higher performance level to the database.</span></span>
3. <span data-ttu-id="29cc5-118">Otimizar consultas para reduzir a utilização de recursos de cada consulta.</span><span class="sxs-lookup"><span data-stu-id="29cc5-118">Optimize queries to reduce the resource utilization of each query.</span></span> <span data-ttu-id="29cc5-119">Para obter mais informações, veja a seção Ajuste/dicas de consulta no artigo Diretrizes de desempenho do Banco de Dados SQL do Azure.</span><span class="sxs-lookup"><span data-stu-id="29cc5-119">For more information, see the Query Tuning/Hinting section in the Azure SQL Database Performance Guidance article.</span></span>

## <a name="enforcement-of-limits"></a><span data-ttu-id="29cc5-120">Imposição de limites</span><span class="sxs-lookup"><span data-stu-id="29cc5-120">Enforcement of limits</span></span>
<span data-ttu-id="29cc5-121">Os recursos, além da CPU, Memória, E/S de log e E/S de dados, são impostos pela negação de novas solicitações quando os limites são atingidos.</span><span class="sxs-lookup"><span data-stu-id="29cc5-121">Resources other than CPU, Memory, Log I/O, and Data I/O are enforced by denying new requests when limits are reached.</span></span> <span data-ttu-id="29cc5-122">Quando um banco de dados atinge o limite de tamanho máximo configurado, inserções e atualizações que aumentam a falha do tamanho de dados, enquanto selecionar e excluir continua a funcionar.</span><span class="sxs-lookup"><span data-stu-id="29cc5-122">When a database reaches the configured maximum size limit, inserts and updates that increase data size fail, while selects and deletes continue to work.</span></span> <span data-ttu-id="29cc5-123">Os clientes recebem uma [mensagem de erro](sql-database-develop-error-messages.md) dependendo do limite que foi atingido.</span><span class="sxs-lookup"><span data-stu-id="29cc5-123">Clients receive an [error message](sql-database-develop-error-messages.md) depending on the limit that has been reached.</span></span>

<span data-ttu-id="29cc5-124">Por exemplo, o número de conexões a um Banco de Dados SQL e o número de solicitações simultâneas que podem ser processadas, é restrito.</span><span class="sxs-lookup"><span data-stu-id="29cc5-124">For example, the number of connections to a SQL database and the number of concurrent requests that can be processed are restricted.</span></span> <span data-ttu-id="29cc5-125">O Banco de Dados SQL permite que o número de conexões ao banco de dados seja maior que o número de solicitações simultâneas para dar suporte ao pooling de conexões.</span><span class="sxs-lookup"><span data-stu-id="29cc5-125">SQL Database allows the number of connections to the database to be greater than the number of concurrent requests to support connection pooling.</span></span> <span data-ttu-id="29cc5-126">Embora o número de conexões disponíveis possa facilmente ser controlado pelo aplicativo, o número de solicitações paralelas costuma ser mais difícil de ser estimado e controlado.</span><span class="sxs-lookup"><span data-stu-id="29cc5-126">While the number of connections that are available can easily be controlled by the application, the number of parallel requests is often times harder to estimate and to control.</span></span> <span data-ttu-id="29cc5-127">Especialmente durante os picos de carga quando o aplicativo envia um número excessivo de solicitações ou quando o banco de dados atinge seus limites de recursos e começa a acumular threads de trabalho devido a consultas com execução mais longa, é possível encontrar erros.</span><span class="sxs-lookup"><span data-stu-id="29cc5-127">Especially during peak loads when the application either sends too many requests or the database reaches its resource limits and starts piling up worker threads due to longer running queries, errors can be encountered.</span></span>

## <a name="service-tiers-and-performance-levels"></a><span data-ttu-id="29cc5-128">Camadas de serviço e níveis de desempenho</span><span class="sxs-lookup"><span data-stu-id="29cc5-128">Service tiers and performance levels</span></span>
<span data-ttu-id="29cc5-129">Há camadas de serviço e níveis de desempenho para o banco de dados individual e pools elásticos.</span><span class="sxs-lookup"><span data-stu-id="29cc5-129">There are service tiers and performance levels for both single database and elastic pools.</span></span>

### <a name="single-databases"></a><span data-ttu-id="29cc5-130">Bancos de dados únicos</span><span class="sxs-lookup"><span data-stu-id="29cc5-130">Single databases</span></span>
<span data-ttu-id="29cc5-131">Para um banco de dados individual, os limites são definidos pelo nível de serviço e de desempenho do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="29cc5-131">For a single database, the limits of a database are defined by the database service tier and performance level.</span></span> <span data-ttu-id="29cc5-132">A tabela a seguir descreve as características dos bancos de dados Básico, Standard, Premium e Premium RS em vários níveis de desempenho.</span><span class="sxs-lookup"><span data-stu-id="29cc5-132">The following table describes the characteristics of Basic, Standard, Premium, and Premium RS databases at varying performance levels.</span></span>

[!INCLUDE [SQL DB service tiers table](../../includes/sql-database-service-tiers-table.md)]

> [!IMPORTANT]
> <span data-ttu-id="29cc5-133">Os clientes que usam os níveis de desempenho P11 e P15 podem usar até 4 TB de armazenamento incluído sem custo adicional.</span><span class="sxs-lookup"><span data-stu-id="29cc5-133">Customers using P11 and P15 performance levels can use up to 4 TB of included storage at no additional charge.</span></span> <span data-ttu-id="29cc5-134">Essa opção de 4 TB está atualmente disponível nas seguintes regiões: Leste dos EUA 2, Oeste dos EUA, US Gov – Virginia, Europa Ocidental, Alemanha Central, Sudeste Asiático, Leste do Japão, Leste da Austrália, Canadá Central e Leste do Canadá.</span><span class="sxs-lookup"><span data-stu-id="29cc5-134">This 4 TB option is currently available in the following regions: US East2, West US, US Gov Virginia, West Europe, Germany Central, South East Asia, Japan East, Australia East, Canada Central, and Canada East.</span></span>
>

### <a name="elastic-pools"></a><span data-ttu-id="29cc5-135">Pools elásticos</span><span class="sxs-lookup"><span data-stu-id="29cc5-135">Elastic pools</span></span>
<span data-ttu-id="29cc5-136">[Pools elásticos](sql-database-elastic-pool.md) compartilham recursos entre bancos de dados no pool.</span><span class="sxs-lookup"><span data-stu-id="29cc5-136">[Elastic pools](sql-database-elastic-pool.md) share resources across databases in the pool.</span></span> <span data-ttu-id="29cc5-137">A tabela a seguir descreve as características dos pools elásticos Básico, Standard, Premium e Premium RS.</span><span class="sxs-lookup"><span data-stu-id="29cc5-137">The following table describes the characteristics of Basic, Standard, Premium, and Premium RS elastic pools.</span></span>

[!INCLUDE [SQL DB service tiers table for elastic databases](../../includes/sql-database-service-tiers-table-elastic-pools.md)]

<span data-ttu-id="29cc5-138">Para obter uma definição expandida de cada recurso listado nas tabelas anteriores, consulte as descrições em [Limites e recursos das camadas de serviço](sql-database-performance-guidance.md#service-tier-capabilities-and-limits).</span><span class="sxs-lookup"><span data-stu-id="29cc5-138">For an expanded definition of each resource listed in the previous tables, see the descriptions in [Service tier capabilities and limits](sql-database-performance-guidance.md#service-tier-capabilities-and-limits).</span></span> <span data-ttu-id="29cc5-139">Para obter uma visão geral das camadas de serviço, consulte [Camadas de serviço e níveis de desempenho do Banco de Dados SQL do Azure](sql-database-service-tiers.md).</span><span class="sxs-lookup"><span data-stu-id="29cc5-139">For an overview of service tiers, see [Azure SQL Database Service Tiers and Performance Levels](sql-database-service-tiers.md).</span></span>

## <a name="other-sql-database-limits"></a><span data-ttu-id="29cc5-140">Outros limites de Banco de Dados SQL</span><span class="sxs-lookup"><span data-stu-id="29cc5-140">Other SQL Database limits</span></span>
| <span data-ttu-id="29cc5-141">Área</span><span class="sxs-lookup"><span data-stu-id="29cc5-141">Area</span></span> | <span data-ttu-id="29cc5-142">Limite</span><span class="sxs-lookup"><span data-stu-id="29cc5-142">Limit</span></span> | <span data-ttu-id="29cc5-143">Descrição</span><span class="sxs-lookup"><span data-stu-id="29cc5-143">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="29cc5-144">Bancos de dados usando a exportação Automatizada por assinatura</span><span class="sxs-lookup"><span data-stu-id="29cc5-144">Databases using Automated export per subscription</span></span> |<span data-ttu-id="29cc5-145">10</span><span class="sxs-lookup"><span data-stu-id="29cc5-145">10</span></span> |<span data-ttu-id="29cc5-146">A exportação automatizada permite que você crie uma agenda personalizada para realização do backup de seus bancos de dados SQL.</span><span class="sxs-lookup"><span data-stu-id="29cc5-146">Automated export allows you to create a custom schedule for backing up your SQL databases.</span></span> <span data-ttu-id="29cc5-147">A visualização desse recurso será encerrada em 1º de março de 2017.</span><span class="sxs-lookup"><span data-stu-id="29cc5-147">The preview of this feature will end on March 1, 2017.</span></span>  |
| <span data-ttu-id="29cc5-148">Bancos de dados por servidor</span><span class="sxs-lookup"><span data-stu-id="29cc5-148">Databases per server</span></span> |<span data-ttu-id="29cc5-149">Até 5.000</span><span class="sxs-lookup"><span data-stu-id="29cc5-149">Up to 5000</span></span> |<span data-ttu-id="29cc5-150">Até 5.000 bancos de dados são permitidos por servidor.</span><span class="sxs-lookup"><span data-stu-id="29cc5-150">Up to 5000 databases are allowed per server.</span></span> |
| <span data-ttu-id="29cc5-151">DTUs por servidor</span><span class="sxs-lookup"><span data-stu-id="29cc5-151">DTUs per server</span></span> |<span data-ttu-id="29cc5-152">45000</span><span class="sxs-lookup"><span data-stu-id="29cc5-152">45000</span></span> |<span data-ttu-id="29cc5-153">São permitidas 45.000 DTUs por servidor para o provisionamento de bancos de dados autônomos e pools elásticos.</span><span class="sxs-lookup"><span data-stu-id="29cc5-153">45000 DTUs are allowed per server for provisioning standalone databases and elastic pools.</span></span> <span data-ttu-id="29cc5-154">O número total de bancos de dados independentes e pools permitidos por servidor é limitado somente pelo número de DTUs do servidor.</span><span class="sxs-lookup"><span data-stu-id="29cc5-154">The total number of standalone databases and pools allowed per server is limited only by the number of server DTUs.</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="29cc5-155">A Exportação Automatizada do Banco de Dados SQL do Azure está agora em visualização e será desativada em 1º de março de 2017.</span><span class="sxs-lookup"><span data-stu-id="29cc5-155">Azure SQL Database Automated Export is now in preview and will be retired on March 1, 2017.</span></span> <span data-ttu-id="29cc5-156">A partir de 1º de dezembro de 2016, não será mais possível configurar a exportação automatizada em um banco de dados SQL.</span><span class="sxs-lookup"><span data-stu-id="29cc5-156">Starting December 1st, 2016, you will no longer be able to configure automated export on any SQL database.</span></span> <span data-ttu-id="29cc5-157">Todos os trabalhos de exportação automatizada existentes continuarão funcionando até 1º de março de 2017.</span><span class="sxs-lookup"><span data-stu-id="29cc5-157">All your existing automated export jobs will continue to work until March 1st, 2017.</span></span> <span data-ttu-id="29cc5-158">Após 1º de dezembro de 2016, você poderá usar a [retenção de backup de longo prazo](sql-database-long-term-retention.md) ou a [Automação do Azure](../automation/automation-intro.md) para arquivar bancos de dados SQL periodicamente, usando o PowerShell periodicamente de acordo com um agendamento de sua escolha.</span><span class="sxs-lookup"><span data-stu-id="29cc5-158">After December 1st, 2016, you can use [long-term backup retention](sql-database-long-term-retention.md) or [Azure Automation](../automation/automation-intro.md) to archive SQL databases periodically using PowerShell periodically according to a schedule of your choice.</span></span> <span data-ttu-id="29cc5-159">Para obter um script de exemplo, baixe o [script de exemplo no GitHub](https://github.com/Microsoft/sql-server-samples/tree/master/samples/manage/azure-automation-automated-export).</span><span class="sxs-lookup"><span data-stu-id="29cc5-159">For a sample script, you can download the [sample script from GitHub](https://github.com/Microsoft/sql-server-samples/tree/master/samples/manage/azure-automation-automated-export).</span></span>
>


## <a name="resources"></a><span data-ttu-id="29cc5-160">Recursos</span><span class="sxs-lookup"><span data-stu-id="29cc5-160">Resources</span></span>
[<span data-ttu-id="29cc5-161">Assinatura do Azure e limites de serviços, cotas e restrições</span><span class="sxs-lookup"><span data-stu-id="29cc5-161">Azure Subscription and Service Limits, Quotas, and Constraints</span></span>](../azure-subscription-service-limits.md)

[<span data-ttu-id="29cc5-162">Faixas de Serviço de Banco de Dados SQL do Azure e Níveis de Desempenho</span><span class="sxs-lookup"><span data-stu-id="29cc5-162">Azure SQL Database Service Tiers and Performance Levels</span></span>](sql-database-service-tiers.md)

[<span data-ttu-id="29cc5-163">Mensagens de erro para programas cliente do Banco de Dados SQL</span><span class="sxs-lookup"><span data-stu-id="29cc5-163">Error messages for SQL Database client programs</span></span>](sql-database-develop-error-messages.md)
