---
title: 'Backup do Azure: Recuperar arquivos e pastas de um backup de VM do Azure | Microsoft Docs'
description: "Recuperar arquivos de um ponto de recuperação de uma máquina virtual do Azure"
services: backup
documentationcenter: dev-center-name
author: pvrk
manager: shivamg
keywords: "recuperação a nível de item; recuperação de arquivos de backup da VM do Azure; restaurar arquivos de uma VM do Azure"
ms.assetid: f1c067a2-4826-4da4-b97a-c5fd6c189a77
ms.service: backup
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: storage-backup-recovery
ms.date: 07/20/2017
ms.author: pullabhk;markgal
ms.openlocfilehash: 1a62a0ed83d61272c032ac0377a54099ed118db4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="recover-files-from-azure-virtual-machine-backup"></a><span data-ttu-id="f545d-104">Recuperar arquivos de um backup de máquina virtual do Azure</span><span class="sxs-lookup"><span data-stu-id="f545d-104">Recover files from Azure virtual machine backup</span></span>

<span data-ttu-id="f545d-105">O backup do Azure fornece Olá recurso toorestore [VMs do Azure e discos](./backup-azure-arm-restore-vms.md) de backups de máquina virtual do Azure.</span><span class="sxs-lookup"><span data-stu-id="f545d-105">Azure backup provides hello capability toorestore [Azure VMs and disks](./backup-azure-arm-restore-vms.md) from Azure VM backups.</span></span> <span data-ttu-id="f545d-106">Este artigo explica como você pode recuperar itens, como arquivos e pastas, de um backup de VM do Azure.</span><span class="sxs-lookup"><span data-stu-id="f545d-106">Now this article explains how you can recover items such as files and folders from an Azure VM backup.</span></span>

> [!Note]
> <span data-ttu-id="f545d-107">Este recurso está disponível para máquinas virtuais do Azure implantados usando o modelo do Gerenciador de recursos de saudação e protegido tooa Cofre de serviços de recuperação.</span><span class="sxs-lookup"><span data-stu-id="f545d-107">This feature is available for Azure VMs deployed using hello Resource Manager model and protected tooa Recovery services vault.</span></span>
> <span data-ttu-id="f545d-108">Não há suporte para a recuperação de arquivos de um backup criptografado de VM.</span><span class="sxs-lookup"><span data-stu-id="f545d-108">File recovery from an encrypted VM backup is not supported.</span></span>
>

## <a name="mount-hello-volume-and-copy-files"></a><span data-ttu-id="f545d-109">Montar o volume e copiar arquivos de saudação</span><span class="sxs-lookup"><span data-stu-id="f545d-109">Mount hello volume and copy files</span></span>

1. <span data-ttu-id="f545d-110">O logon no hello [portal do Azure](http://portal.Azure.com).</span><span class="sxs-lookup"><span data-stu-id="f545d-110">Sign into hello [Azure portal](http://portal.Azure.com).</span></span> <span data-ttu-id="f545d-111">Localize o Cofre de serviços de recuperação relevante hello e fazer backup do item Olá necessário.</span><span class="sxs-lookup"><span data-stu-id="f545d-111">Find hello relevant Recovery services vault and hello required backup item.</span></span>

2. <span data-ttu-id="f545d-112">Na folha de Item de Backup hello, clique em **recuperação de arquivos**</span><span class="sxs-lookup"><span data-stu-id="f545d-112">On hello Backup Item blade, click **File Recovery**</span></span>

    ![Abra o item de backup do cofre de Serviços de Recuperação](./media/backup-azure-restore-files-from-vm/open-vault-item.png)

    <span data-ttu-id="f545d-114">Olá **recuperação de arquivo** folha é aberta.</span><span class="sxs-lookup"><span data-stu-id="f545d-114">hello **File Recovery** blade opens.</span></span>

    ![Folha de recuperação de arquivo](./media/backup-azure-restore-files-from-vm/file-recovery-blade.png)

3. <span data-ttu-id="f545d-116">De saudação **Selecionar ponto de recuperação** menu suspenso, o ponto de recuperação Olá select que contém arquivos de saudação desejado.</span><span class="sxs-lookup"><span data-stu-id="f545d-116">From hello **Select recovery point** drop-down menu, select hello recovery point that contains hello files you want.</span></span> <span data-ttu-id="f545d-117">Por padrão, o último ponto de recuperação Olá já está selecionado.</span><span class="sxs-lookup"><span data-stu-id="f545d-117">By default, hello latest recovery point is already selected.</span></span>

4. <span data-ttu-id="f545d-118">Clique em **executável baixar** (para VM do Windows Azure) ou **baixar Script** (para VM do Azure Linux) software de saudação toodownload que você usará toocopy arquivos de ponto de recuperação de saudação.</span><span class="sxs-lookup"><span data-stu-id="f545d-118">Click **Download Executable** (for Windows Azure VM) or **Download Script** (for Linux Azure VM) toodownload hello software that you'll use toocopy files from hello recovery point.</span></span>

  <span data-ttu-id="f545d-119">executável/script Hello cria uma conexão entre o computador local hello e hello especificado ponto de recuperação.</span><span class="sxs-lookup"><span data-stu-id="f545d-119">hello executable/script creates a connection between hello local computer and hello specified recovery point.</span></span>

5. <span data-ttu-id="f545d-120">Você precisa de um script executável Olá baixado senha toorun.</span><span class="sxs-lookup"><span data-stu-id="f545d-120">You need a password toorun hello downloaded script/executable.</span></span> <span data-ttu-id="f545d-121">Você pode copiar senha de saudação do portal hello usando Olá cópia botão ao lado de senha Olá gerado</span><span class="sxs-lookup"><span data-stu-id="f545d-121">You can copy hello password from hello portal using hello copy button beside hello generated password</span></span>

    ![Senha gerada](./media/backup-azure-restore-files-from-vm/generated-pswd.png)

6. <span data-ttu-id="f545d-123">No computador de saudação onde deseja toorecover Olá arquivos, execute o executável/script hello.</span><span class="sxs-lookup"><span data-stu-id="f545d-123">On hello computer where you want toorecover hello files, run hello executable/script.</span></span> <span data-ttu-id="f545d-124">Execute o script com credenciais de administrador.</span><span class="sxs-lookup"><span data-stu-id="f545d-124">You must run it with Administrator credentials.</span></span> <span data-ttu-id="f545d-125">Se você executar o script hello em um computador com acesso restrito, certifique-se de que há acesso a:</span><span class="sxs-lookup"><span data-stu-id="f545d-125">If you run hello script on a computer with restricted access, ensure there is access to:</span></span>

    - <span data-ttu-id="f545d-126">download.microsoft.com</span><span class="sxs-lookup"><span data-stu-id="f545d-126">download.microsoft.com</span></span>
    - <span data-ttu-id="f545d-127">Pontos de extremidade do Azure usados para backups de VM do Azure</span><span class="sxs-lookup"><span data-stu-id="f545d-127">Azure endpoints used for Azure VM backups</span></span>
    - <span data-ttu-id="f545d-128">porta de saída 3260</span><span class="sxs-lookup"><span data-stu-id="f545d-128">outbound port 3260</span></span>

   <span data-ttu-id="f545d-129">Para o Linux, script hello exige componentes 'open-iscsi' e 'lshw' ponto de recuperação de toohello tooconnect.</span><span class="sxs-lookup"><span data-stu-id="f545d-129">For Linux, hello script requires 'open-iscsi' and 'lshw' components tooconnect toohello recovery point.</span></span> <span data-ttu-id="f545d-130">Se aqueles não existe no computador de saudação em que é executado, ele solicita para componentes relevantes da permissão tooinstall hello e instala-os mediante consentimento.</span><span class="sxs-lookup"><span data-stu-id="f545d-130">If those do not exist on hello machine where it is run, it asks for permission tooinstall hello relevant components and installs them upon consent.</span></span>
   
   <span data-ttu-id="f545d-131">Digite a senha de saudação copiada do portal de saudação quando solicitado.</span><span class="sxs-lookup"><span data-stu-id="f545d-131">Enter hello password copied from hello portal when prompted.</span></span> <span data-ttu-id="f545d-132">Depois que a senha válida Olá é inserida scripts Olá conecta toohello ponto de recuperação.</span><span class="sxs-lookup"><span data-stu-id="f545d-132">Once hello valid password is entered hello scripts connects toohello recovery point.</span></span>
      
    ![Folha de recuperação de arquivo](./media/backup-azure-restore-files-from-vm/executable-output.png)
    
   
   <span data-ttu-id="f545d-134">Você pode executar o script hello em qualquer computador que tenha o sistema operacional de saudação mesmo (ou compatíveis) como Olá backup VM.</span><span class="sxs-lookup"><span data-stu-id="f545d-134">You can run hello script on any machine that has hello same (or compatible) operating system as hello backed-up VM.</span></span> <span data-ttu-id="f545d-135">Consulte Olá [tabela de sistema operacional compatível](backup-azure-restore-files-from-vm.md#compatible-os) para sistemas operacionais compatíveis.</span><span class="sxs-lookup"><span data-stu-id="f545d-135">See hello [Compatible OS table](backup-azure-restore-files-from-vm.md#compatible-os) for compatible operating systems.</span></span> <span data-ttu-id="f545d-136">Se Olá protegido virtual do Azure usa máquina que arrays(for Linux VMs) LVM/RAID ou espaços de armazenamento do Windows (para VMs do Windows Azure), e você não pode executar Olá executável/script hello mesma máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="f545d-136">If hello protected Azure virtual machine uses Windows Storage Spaces (for Windows Azure VMs) or LVM/RAID Arrays(for Linux VMs), then you can't run hello executable/script on hello same virtual machine.</span></span> <span data-ttu-id="f545d-137">Em vez disso, execute-o em qualquer outra máquina com um sistema operacional compatível.</span><span class="sxs-lookup"><span data-stu-id="f545d-137">Instead, run it on any other machine with a compatible operating system.</span></span>

### <a name="compatible-os"></a><span data-ttu-id="f545d-138">Sistema operacional compatível</span><span class="sxs-lookup"><span data-stu-id="f545d-138">Compatible OS</span></span>

#### <a name="for-windows"></a><span data-ttu-id="f545d-139">Para Windows</span><span class="sxs-lookup"><span data-stu-id="f545d-139">For Windows</span></span>

<span data-ttu-id="f545d-140">Olá a seguinte tabela mostra Olá compatibilidade entre os sistemas operacionais de servidor e o computador.</span><span class="sxs-lookup"><span data-stu-id="f545d-140">hello following table shows hello compatibility between server and computer operating systems.</span></span> <span data-ttu-id="f545d-141">Ao recuperar arquivos, você não pode restaurar arquivos entre sistemas operacionais incompatíveis.</span><span class="sxs-lookup"><span data-stu-id="f545d-141">When recovering files, you can't restore files between incompatible operating systems.</span></span>

|<span data-ttu-id="f545d-142">Sistema operacional de servidor</span><span class="sxs-lookup"><span data-stu-id="f545d-142">Server OS</span></span> | <span data-ttu-id="f545d-143">Sistema operacional de cliente compatível</span><span class="sxs-lookup"><span data-stu-id="f545d-143">Compatible client OS</span></span>  |
| --------------- | ---- |
| <span data-ttu-id="f545d-144">Windows Server 2012 R2</span><span class="sxs-lookup"><span data-stu-id="f545d-144">Windows Server 2012 R2</span></span> | <span data-ttu-id="f545d-145">Windows 8.1</span><span class="sxs-lookup"><span data-stu-id="f545d-145">Windows 8.1</span></span> |
| <span data-ttu-id="f545d-146">Windows Server 2012</span><span class="sxs-lookup"><span data-stu-id="f545d-146">Windows Server 2012</span></span>    | <span data-ttu-id="f545d-147">Windows 8</span><span class="sxs-lookup"><span data-stu-id="f545d-147">Windows 8</span></span>  |
| <span data-ttu-id="f545d-148">Windows Server 2008 R2</span><span class="sxs-lookup"><span data-stu-id="f545d-148">Windows Server 2008 R2</span></span> | <span data-ttu-id="f545d-149">Windows 7</span><span class="sxs-lookup"><span data-stu-id="f545d-149">Windows 7</span></span>   |

#### <a name="for-linux"></a><span data-ttu-id="f545d-150">Para Linux</span><span class="sxs-lookup"><span data-stu-id="f545d-150">For Linux</span></span>

<span data-ttu-id="f545d-151">No Linux, o requisito fundamental Olá é que Olá sistema operacional da máquina de saudação onde é executado o script hello deve dar suporte a saudação de sistema de arquivos de saudação arquivos presentes no hello backup VM do Linux.</span><span class="sxs-lookup"><span data-stu-id="f545d-151">In Linux, hello fundamental requirement is that hello OS of hello machine where hello script is run should support hello filesystem of hello files present in hello backed-up Linux VM.</span></span> <span data-ttu-id="f545d-152">Ao selecionar um script da máquina toorun hello, verifique se que ele tem versões compatíveis de sistema operacional e Olá Olá conforme mencionado na tabela de saudação abaixo.</span><span class="sxs-lookup"><span data-stu-id="f545d-152">While selecting a machine toorun hello script, please ensure it has hello compatible OS and hello versions as mentioned in hello table below.</span></span>

|<span data-ttu-id="f545d-153">Sistema operacional Linux</span><span class="sxs-lookup"><span data-stu-id="f545d-153">Linux OS</span></span> | <span data-ttu-id="f545d-154">Versões</span><span class="sxs-lookup"><span data-stu-id="f545d-154">Versions</span></span>  |
| --------------- | ---- |
| <span data-ttu-id="f545d-155">Ubuntu</span><span class="sxs-lookup"><span data-stu-id="f545d-155">Ubuntu</span></span> | <span data-ttu-id="f545d-156">12.04 e acima</span><span class="sxs-lookup"><span data-stu-id="f545d-156">12.04 and above</span></span> |
| <span data-ttu-id="f545d-157">CentOS</span><span class="sxs-lookup"><span data-stu-id="f545d-157">CentOS</span></span> | <span data-ttu-id="f545d-158">6.5 e acima</span><span class="sxs-lookup"><span data-stu-id="f545d-158">6.5 and above</span></span>  |
| <span data-ttu-id="f545d-159">RHEL</span><span class="sxs-lookup"><span data-stu-id="f545d-159">RHEL</span></span> | <span data-ttu-id="f545d-160">6.7 e acima</span><span class="sxs-lookup"><span data-stu-id="f545d-160">6.7 and above</span></span> |
| <span data-ttu-id="f545d-161">Debian</span><span class="sxs-lookup"><span data-stu-id="f545d-161">Debian</span></span> | <span data-ttu-id="f545d-162">7 e acima</span><span class="sxs-lookup"><span data-stu-id="f545d-162">7 and above</span></span> |
| <span data-ttu-id="f545d-163">Oracle Linux</span><span class="sxs-lookup"><span data-stu-id="f545d-163">Oracle Linux</span></span> | <span data-ttu-id="f545d-164">6.4 e acima</span><span class="sxs-lookup"><span data-stu-id="f545d-164">6.4 and above</span></span> |

<span data-ttu-id="f545d-165">Olá script também requer python e bash tooexecute de componentes e se conectar com segurança toohello ponto de recuperação.</span><span class="sxs-lookup"><span data-stu-id="f545d-165">hello script also requires python and bash components tooexecute and connect securely toohello recovery point.</span></span>

|<span data-ttu-id="f545d-166">Componente</span><span class="sxs-lookup"><span data-stu-id="f545d-166">Component</span></span> | <span data-ttu-id="f545d-167">Versão</span><span class="sxs-lookup"><span data-stu-id="f545d-167">Version</span></span>  |
| --------------- | ---- |
| <span data-ttu-id="f545d-168">bash</span><span class="sxs-lookup"><span data-stu-id="f545d-168">bash</span></span> | <span data-ttu-id="f545d-169">4 e acima</span><span class="sxs-lookup"><span data-stu-id="f545d-169">4 and above</span></span> |
| <span data-ttu-id="f545d-170">python</span><span class="sxs-lookup"><span data-stu-id="f545d-170">python</span></span> | <span data-ttu-id="f545d-171">2.6.6 e acima</span><span class="sxs-lookup"><span data-stu-id="f545d-171">2.6.6 and above</span></span>  |


### <a name="identifying-volumes"></a><span data-ttu-id="f545d-172">Identificação de Volumes</span><span class="sxs-lookup"><span data-stu-id="f545d-172">Identifying Volumes</span></span>

#### <a name="for-windows"></a><span data-ttu-id="f545d-173">Para Windows</span><span class="sxs-lookup"><span data-stu-id="f545d-173">For Windows</span></span>

<span data-ttu-id="f545d-174">Quando você executa exectuable hello, o sistema de operacional de Olá monta volumes novo hello e atribui letras de unidade.</span><span class="sxs-lookup"><span data-stu-id="f545d-174">When you run hello exectuable, hello operating system mounts hello new volumes and assigns drive letters.</span></span> <span data-ttu-id="f545d-175">Você pode usar o Windows Explorer ou do Explorador de arquivos toobrowse essas unidades.</span><span class="sxs-lookup"><span data-stu-id="f545d-175">You can use Windows Explorer or File Explorer toobrowse those drives.</span></span> <span data-ttu-id="f545d-176">Olá letras de unidade atribuídas toohello volumes podem não ser Olá letras mesmo como hello máquina virtual original, no entanto, Olá nome do volume é preservada.</span><span class="sxs-lookup"><span data-stu-id="f545d-176">hello drive letters assigned toohello volumes may not be hello same letters as hello original virtual machine, however, hello volume name is preserved.</span></span> <span data-ttu-id="f545d-177">Por exemplo, se hello volume na máquina virtual original de saudação foi "disco de dados (e:\)", que o volume pode ser conectado como "disco de dados ('Qualquer letra de unidade disponível':\) no computador local hello.</span><span class="sxs-lookup"><span data-stu-id="f545d-177">For example, if hello volume on hello original virtual machine was “Data Disk (E:\)”, that volume can be attached as “Data Disk ('Any drive letter available':\) on hello local computer.</span></span> <span data-ttu-id="f545d-178">Procure por meio de todos os volumes mencionados na saída do script hello até encontrar a pasta/arquivos.</span><span class="sxs-lookup"><span data-stu-id="f545d-178">Browse through all volumes mentioned in hello script output until you find your files/folder.</span></span>  
       
   ![Folha de recuperação de arquivo](./media/backup-azure-restore-files-from-vm/volumes-attached.png)
           
#### <a name="for-linux"></a><span data-ttu-id="f545d-180">Para Linux</span><span class="sxs-lookup"><span data-stu-id="f545d-180">For Linux</span></span>

<span data-ttu-id="f545d-181">No Linux, volumes Olá Olá do ponto de recuperação são montados toohello pasta onde o script hello é executado.</span><span class="sxs-lookup"><span data-stu-id="f545d-181">In Linux, hello volumes of hello recovery point are mounted toohello folder where hello script is run.</span></span> <span data-ttu-id="f545d-182">Olá anexar discos, volumes e montagem correspondente Olá caminhos são mostrados adequadamente.</span><span class="sxs-lookup"><span data-stu-id="f545d-182">hello attached disks, volumes and hello corresponding mount paths are shown accordingly.</span></span> <span data-ttu-id="f545d-183">Esses caminhos de montagem são visíveis toousers ter acesso ao nível raiz.</span><span class="sxs-lookup"><span data-stu-id="f545d-183">These mount paths are visible toousers having root level access.</span></span> <span data-ttu-id="f545d-184">Navegar pelos volumes Olá mencionados na saída do script hello.</span><span class="sxs-lookup"><span data-stu-id="f545d-184">Browse through hello volumes mentioned in hello script output.</span></span>

  ![Folha Recuperação de Arquivo do Linux](./media/backup-azure-restore-files-from-vm/linux-mount-paths.png)
  

## <a name="closing-hello-connection"></a><span data-ttu-id="f545d-186">Fechando a conexão de saudação</span><span class="sxs-lookup"><span data-stu-id="f545d-186">Closing hello connection</span></span>

<span data-ttu-id="f545d-187">Depois de identificar arquivos hello e copiá-los tooa local de armazenamento local, remover ou desmontar unidades adicionais hello.</span><span class="sxs-lookup"><span data-stu-id="f545d-187">After identifying hello files and copying them tooa local storage location, remove (or unmount) hello additional drives.</span></span> <span data-ttu-id="f545d-188">toounmount Olá unidades, Olá **a recuperação de arquivos** folha em Olá portal do Azure, clique em **desmontar discos**.</span><span class="sxs-lookup"><span data-stu-id="f545d-188">toounmount hello drives, on hello **File Recovery** blade in hello Azure portal, click **Unmount Disks**.</span></span>

![Desmontar discos](./media/backup-azure-restore-files-from-vm/unmount-disks3.png)

<span data-ttu-id="f545d-190">Quando discos Olá tiverem sido desmontados, você receberá uma mensagem informando que ela foi bem-sucedida.</span><span class="sxs-lookup"><span data-stu-id="f545d-190">Once hello disks have been unmounted, you receive a message letting you know it was successful.</span></span> <span data-ttu-id="f545d-191">Ele pode levar alguns minutos para Olá toorefresh de conexão para que você possa remover discos hello.</span><span class="sxs-lookup"><span data-stu-id="f545d-191">It may take a few minutes for hello connection toorefresh so that you can remove hello disks.</span></span>

<span data-ttu-id="f545d-192">No Linux, após o ponto de recuperação Olá conexão toohello for rompido, Olá SO não remove caminhos de montagem correspondente Olá automaticamente.</span><span class="sxs-lookup"><span data-stu-id="f545d-192">In Linux, after hello connection toohello recovery point is severed, hello OS doesn't remove hello corresponding mount paths automatically.</span></span> <span data-ttu-id="f545d-193">Eles existem como volumes "órfãos" e são visíveis, mas gera um erro quando você arquivos Olá acesso/gravação.</span><span class="sxs-lookup"><span data-stu-id="f545d-193">These exist as "orphan" volumes and they are visible but throw an error when you access/write hello files.</span></span> <span data-ttu-id="f545d-194">Eles podem ser removidos manualmente.</span><span class="sxs-lookup"><span data-stu-id="f545d-194">They can be manually removed.</span></span> <span data-ttu-id="f545d-195">script Hello, quando executado, identifica esses volumes existentes de pontos de recuperação anterior e limpa mediante consentimento.</span><span class="sxs-lookup"><span data-stu-id="f545d-195">hello script, when run, identifies any such volumes existing from any previous recovery points and cleans them up upon consent.</span></span>

## <a name="special-configurations"></a><span data-ttu-id="f545d-196">Configurações especiais</span><span class="sxs-lookup"><span data-stu-id="f545d-196">Special configurations</span></span>

### <a name="dynamic-disks"></a><span data-ttu-id="f545d-197">Discos Dinâmicos</span><span class="sxs-lookup"><span data-stu-id="f545d-197">Dynamic Disks</span></span>

<span data-ttu-id="f545d-198">Se Olá VM do Azure que foi feito o backup tem volumes que abrangem vários discos (volumes estendidos e distribuídos) e/ou tolerância volumes (volumes espelhados e RAID-5) em discos dinâmicos, você não pode executar o script executável Olá Olá mesma VM.</span><span class="sxs-lookup"><span data-stu-id="f545d-198">If hello Azure VM that was backed up has volumes that span multiple disks (spanned and striped volumes) and/or fault-tolerant volumes (mirrored and RAID-5 volumes) on dynamic disks, then you can't run hello executable script on hello same VM.</span></span> <span data-ttu-id="f545d-199">Em vez disso, execute o script executável hello em qualquer outro computador com um sistema operacional compatível.</span><span class="sxs-lookup"><span data-stu-id="f545d-199">Instead, run hello executable script on any other machine with a compatible operating system.</span></span>

### <a name="windows-storage-spaces"></a><span data-ttu-id="f545d-200">Espaços de Armazenamento do Windows</span><span class="sxs-lookup"><span data-stu-id="f545d-200">Windows Storage Spaces</span></span>

<span data-ttu-id="f545d-201">Espaços de armazenamento do Windows é uma tecnologia no armazenamento do Windows que permite que você toovirtualize armazenamento.</span><span class="sxs-lookup"><span data-stu-id="f545d-201">Windows Storage Spaces is a technology in Windows storage that enables you toovirtualize storage.</span></span> <span data-ttu-id="f545d-202">Com espaços de armazenamento do Windows, você pode agrupar os discos de padrão industrial nos pools de armazenamento e, em seguida, criar discos virtuais, chamados de espaços de armazenamento do espaço disponível de saudação desses pools de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="f545d-202">With Windows Storage Spaces you can group industry-standard disks into storage pools, and then create virtual disks, called storage spaces, from hello available space in those storage pools.</span></span>

<span data-ttu-id="f545d-203">Se Olá VM do Azure que foi feito o backup usa espaços de armazenamento do Windows, em seguida, você não pode executar o script executável Olá Olá mesma VM.</span><span class="sxs-lookup"><span data-stu-id="f545d-203">If hello Azure VM that was backed up uses Windows Storage Spaces, then you can't run hello executable script on hello same VM.</span></span> <span data-ttu-id="f545d-204">Em vez disso, execute o script executável hello em qualquer outro computador com um sistema operacional compatível.</span><span class="sxs-lookup"><span data-stu-id="f545d-204">Instead, run hello executable script on any other machine with a compatible operating system.</span></span>

### <a name="lvmraid-arrays"></a><span data-ttu-id="f545d-205">Matrizes LVM/RAID</span><span class="sxs-lookup"><span data-stu-id="f545d-205">LVM/RAID Arrays</span></span>

<span data-ttu-id="f545d-206">No Linux, o Gerenciador de volumes lógicos (LVM) e/ou software matrizes RAID são volumes lógicos usados toomanage através de vários discos.</span><span class="sxs-lookup"><span data-stu-id="f545d-206">In Linux, Logical volume manager (LVM) and/or software RAID Arrays are used toomanage logical volumes over multiple disks.</span></span> <span data-ttu-id="f545d-207">Se Olá backup VM Linux usa LVM e/ou matrizes RAID, você não pode executar o script hello em hello mesma VM.</span><span class="sxs-lookup"><span data-stu-id="f545d-207">If hello backed up Linux VM uses LVM and/or RAID Arrays, you can't run hello script on hello same VM.</span></span> <span data-ttu-id="f545d-208">Em vez disso, execute o script hello em qualquer outro computador com sistema operacional compatível e que oferece suporte ao sistema de arquivos de backup de VM de hello.</span><span class="sxs-lookup"><span data-stu-id="f545d-208">Instead run hello script on any other machine with compatible OS and which supports filesystem of hello backed up VM.</span></span>

<span data-ttu-id="f545d-209">saída do script Hello exibe hello LVM e/ou discos de matrizes RAID e volumes de saudação com tipo de partição Olá conforme mostrado abaixo</span><span class="sxs-lookup"><span data-stu-id="f545d-209">hello script output displays hello LVM and/or RAID Arrays disks and hello volumes with hello partition type as shown below</span></span>

   ![Folha Saída de LVM do Linux](./media/backup-azure-restore-files-from-vm/linux-LVMOutput.png)
   
<span data-ttu-id="f545d-211">Olá seguir comandos precisa toobe executar por Olá usuário toobring essas partições online.</span><span class="sxs-lookup"><span data-stu-id="f545d-211">hello following commands need toobe run by hello user toobring these partitions online.</span></span> 

<span data-ttu-id="f545d-212">**Para partições LVM**</span><span class="sxs-lookup"><span data-stu-id="f545d-212">**For LVM Partitions**</span></span>

```
$ pvs <volume name as shown above in hello script output> 
```
<span data-ttu-id="f545d-213">Lista nomes de grupo de volume Olá em um volume físico.</span><span class="sxs-lookup"><span data-stu-id="f545d-213">This lists hello volume group names under a physical volume.</span></span>

```
$ lvdisplay <volume-group-name from hello pvs command’s results> 
```
<span data-ttu-id="f545d-214">Isso lista todos os volumes lógicos, os nomes e os seus caminhos em um grupo de volumes.</span><span class="sxs-lookup"><span data-stu-id="f545d-214">This lists all logical volumes, names and their paths in a volume group.</span></span>

```
$ mount <LV path> </mountpath>
```
<span data-ttu-id="f545d-215">caminho de toohello toomount Olá volumes lógicos de sua escolha.</span><span class="sxs-lookup"><span data-stu-id="f545d-215">toomount hello logical volumes toohello path of your choice.</span></span>


<span data-ttu-id="f545d-216">**Para Matrizes RAID**</span><span class="sxs-lookup"><span data-stu-id="f545d-216">**For RAID Arrays**</span></span>

```
$ mdadm –detail –scan
```
<span data-ttu-id="f545d-217">Isso exibe detalhes sobre todos os discos raid.</span><span class="sxs-lookup"><span data-stu-id="f545d-217">This displays details about all raid disks.</span></span> <span data-ttu-id="f545d-218">disco RAID relevante Hello será exibido como`/dev/mdm/<RAID array name in hello backed up VM>`</span><span class="sxs-lookup"><span data-stu-id="f545d-218">hello relevant RAID disk will be displayed as `/dev/mdm/<RAID array name in hello backed up VM>`</span></span>

<span data-ttu-id="f545d-219">Use o comando de montagem de saudação se o disco RAID Olá tem volumes físicos.</span><span class="sxs-lookup"><span data-stu-id="f545d-219">Use hello mount command if hello RAID disk has physical volumes.</span></span>
```
$ mount [RAID Disk Path] [/mounthpath]
```

<span data-ttu-id="f545d-220">Se esse disco RAID tiver outro LVM definida siga Olá mesmo procedimento, conforme descrito acima para partições LVM com o nome do volume Olá sendo Olá nome de disco RAID</span><span class="sxs-lookup"><span data-stu-id="f545d-220">If this RAID disk has another LVM configured in it then follow hello same procedure as outlined above for LVM partitions with hello volume name being hello RAID Disk name</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="f545d-221">Solucionar problemas</span><span class="sxs-lookup"><span data-stu-id="f545d-221">Troubleshooting</span></span>

<span data-ttu-id="f545d-222">Se você tiver problemas durante a recuperação de arquivos de máquinas virtuais de saudação, verifique Olá tabela para obter informações adicionais a seguir.</span><span class="sxs-lookup"><span data-stu-id="f545d-222">If you have problems while recovering files from hello virtual machines, check hello following table for additional information.</span></span>

| <span data-ttu-id="f545d-223">Mensagem de erro/Cenário</span><span class="sxs-lookup"><span data-stu-id="f545d-223">Error Message / Scenario</span></span> | <span data-ttu-id="f545d-224">Causas prováveis</span><span class="sxs-lookup"><span data-stu-id="f545d-224">Probable Cause</span></span> | <span data-ttu-id="f545d-225">Ação recomendada</span><span class="sxs-lookup"><span data-stu-id="f545d-225">Recommended action</span></span> |
| ------------------------ | -------------- | ------------------ |
| <span data-ttu-id="f545d-226">Saída de exe: *exceção conectando toohello destino*</span><span class="sxs-lookup"><span data-stu-id="f545d-226">Exe output: *Exception connecting toohello target*</span></span> |<span data-ttu-id="f545d-227">Script não é capaz de tooaccess ponto de recuperação de saudação</span><span class="sxs-lookup"><span data-stu-id="f545d-227">Script is not able tooaccess hello recovery point</span></span> | <span data-ttu-id="f545d-228">Verifique se o computador Olá atende aos requisitos de acesso de saudação mencionados acima</span><span class="sxs-lookup"><span data-stu-id="f545d-228">Check whether hello machine fulfills hello access requirements mentioned above</span></span>|  
|   <span data-ttu-id="f545d-229">Saída de exe: *destino Olá já foi registrado por meio de uma sessão ISCSI.*</span><span class="sxs-lookup"><span data-stu-id="f545d-229">Exe output: *hello target has already been logged in via an ISCSI session.*</span></span> |   <span data-ttu-id="f545d-230">script Hello já foi executado no hello mesmas unidades de máquina e hello foram anexadas</span><span class="sxs-lookup"><span data-stu-id="f545d-230">hello script was already executed on hello same machine and hello drives have been attached</span></span> |   <span data-ttu-id="f545d-231">volumes de saudação do ponto de recuperação Olá já foram anexados.</span><span class="sxs-lookup"><span data-stu-id="f545d-231">hello volumes of hello recovery point have already been attached.</span></span> <span data-ttu-id="f545d-232">NÃO pode ser montados com hello mesmo de letras de unidade Olá VM original.</span><span class="sxs-lookup"><span data-stu-id="f545d-232">They may NOT be mounted with hello same drive letters of hello original VM.</span></span> <span data-ttu-id="f545d-233">Navegar por todos os volumes de saudação disponíveis no Explorador de arquivos Olá para o arquivo</span><span class="sxs-lookup"><span data-stu-id="f545d-233">Browse through all hello available volumes in hello file explorer for your file</span></span> |
| <span data-ttu-id="f545d-234">Saída de exe: *esse script é inválido porque discos Olá tem sido desmontados por meio de limite de RH 12 Olá portal/excedido. Baixe um novo script do portal de saudação.*</span><span class="sxs-lookup"><span data-stu-id="f545d-234">Exe output: *This script is invalid because hello disks have been dismounted via portal/exceeded hello 12-hr limit. Please download a new script from hello portal.*</span></span> |    <span data-ttu-id="f545d-235">discos Olá tem sido desmontados de portal hello ou limite de RH 12 Olá excedido</span><span class="sxs-lookup"><span data-stu-id="f545d-235">hello disks have been dismounted from hello portal or hello 12-hr limit exceeded</span></span> |  <span data-ttu-id="f545d-236">Esse exe é inválido e não pode ser executado.</span><span class="sxs-lookup"><span data-stu-id="f545d-236">This particular exe is now invalid and can’t be run.</span></span> <span data-ttu-id="f545d-237">Se você quiser tooaccess Olá arquivos essa recuperação point-in-time, visite o portal de saudação para um novo. exe</span><span class="sxs-lookup"><span data-stu-id="f545d-237">If you want tooaccess hello files of that recovery point-in-time, visit hello portal for a new exe</span></span>|
| <span data-ttu-id="f545d-238">Na máquina de saudação onde Olá exe é executado: novos volumes de saudação não são desmontados depois Olá desmontagem botão é clicado</span><span class="sxs-lookup"><span data-stu-id="f545d-238">On hello machine where hello exe is run: hello new volumes are not dismounted after hello dismount button is clicked</span></span> |    <span data-ttu-id="f545d-239">Iniciador ISCSI Olá na máquina de saudação não esteja respondendo/atualizar o seu destino de toohello de conexão e manter o cache de saudação</span><span class="sxs-lookup"><span data-stu-id="f545d-239">hello ISCSI initiator on hello machine is not responding/refreshing its connection toohello target and maintaining hello cache</span></span> |    <span data-ttu-id="f545d-240">Aguarde alguns minutos depois Olá desmontagem botão é pressionado.</span><span class="sxs-lookup"><span data-stu-id="f545d-240">Wait for some mins after hello dismount button is pressed.</span></span> <span data-ttu-id="f545d-241">Se novos volumes de saudação não ainda são desmontados, procure por meio de todos os volumes de saudação.</span><span class="sxs-lookup"><span data-stu-id="f545d-241">If hello new volumes are still not dismounted, please browse through all hello volumes.</span></span> <span data-ttu-id="f545d-242">Isso força Olá iniciador toorefresh Olá conexão Olá volume e é desmontado com uma mensagem de erro que Olá disco não está disponível</span><span class="sxs-lookup"><span data-stu-id="f545d-242">This forces hello initiator toorefresh hello connection and hello volume is dismounted with an error message that hello disk is not available</span></span>|
| <span data-ttu-id="f545d-243">Saída de exe: Script é executado com êxito, mas "Novos volumes anexados" não são exibidos na saída do script hello</span><span class="sxs-lookup"><span data-stu-id="f545d-243">Exe output: Script is run successfully but “New volumes attached” is not displayed on hello script output</span></span> |   <span data-ttu-id="f545d-244">Esse é um problema temporário</span><span class="sxs-lookup"><span data-stu-id="f545d-244">This is a transient error</span></span>   | <span data-ttu-id="f545d-245">volumes Olá seriam foram já anexados.</span><span class="sxs-lookup"><span data-stu-id="f545d-245">hello volumes would have been already attached.</span></span> <span data-ttu-id="f545d-246">Abra o Explorer toobrowse.</span><span class="sxs-lookup"><span data-stu-id="f545d-246">Open Explorer toobrowse.</span></span> <span data-ttu-id="f545d-247">Se você estiver usando Olá mesmo computador para executar scripts sempre, considere Reiniciar computador hello e Olá lista deve ser exibida nas execuções de exe subsequentes hello.</span><span class="sxs-lookup"><span data-stu-id="f545d-247">If you are using hello same machine for running scripts every time, consider restarting hello machine and hello list should be displayed in hello subsequent exe runs.</span></span> |
| <span data-ttu-id="f545d-248">Específicas do Linux: não é possível tooview Olá desejado volumes</span><span class="sxs-lookup"><span data-stu-id="f545d-248">Linux specific: Not able tooview hello desired volumes</span></span> | <span data-ttu-id="f545d-249">Olá sistema operacional da máquina de saudação onde o script hello é executado pode não reconhecer Olá o sistema de arquivos subjacente de saudação backup de VM</span><span class="sxs-lookup"><span data-stu-id="f545d-249">hello OS of hello machine where hello script is run may not recognize hello underlying filesystem of hello backed up VM</span></span> | <span data-ttu-id="f545d-250">Verifique se o ponto de recuperação de saudação é falha consistente ou consistentes de arquivos.</span><span class="sxs-lookup"><span data-stu-id="f545d-250">Check whether hello recovery point is crash consistent or file-consistent.</span></span> <span data-ttu-id="f545d-251">Se o script em outro computador cujo sistema operacional reconhece Olá Olá consistente, execute do arquivo de backup do sistema de arquivos da VM</span><span class="sxs-lookup"><span data-stu-id="f545d-251">If file consistent, run hello script on another machine whose OS recognizes hello backed up VM's filesystem</span></span> |
| <span data-ttu-id="f545d-252">Específicas do Windows: não é possível tooview Olá desejado volumes</span><span class="sxs-lookup"><span data-stu-id="f545d-252">Windows specific: Not able tooview hello desired volumes</span></span> | <span data-ttu-id="f545d-253">discos Olá podem ter sido anexados, mas não foram configurados volumes Olá</span><span class="sxs-lookup"><span data-stu-id="f545d-253">hello disks may have been attached but hello volumes were not configured</span></span> | <span data-ttu-id="f545d-254">Na tela de gerenciamento de disco hello, identificar o ponto de recuperação de toohello relacionados de discos adicionais de saudação.</span><span class="sxs-lookup"><span data-stu-id="f545d-254">From hello disk management screen, identify hello additional disks related toohello recovery point.</span></span> <span data-ttu-id="f545d-255">Se qualquer um desses discos estiverem offline no estado tente torná-los online clicando em disco hello e clique em 'Online'</span><span class="sxs-lookup"><span data-stu-id="f545d-255">If any of these disks are in offline state try making them online by right-clicking on hello disk and click 'Online'</span></span>|
