---
title: 'Backup do Azure: backups consistentes com o aplicativo de VMs Linux | Microsoft Docs'
description: "Use scripts para garantir backups consistentes com o aplicativo no Azure, para máquinas virtuais do Linux. Os scripts se aplicam somente às VMs do Linux em uma implantação do Resource Manager. Os scripts não se aplicam a VMs do Windows ou implantações do Service Manager. Este artigo o guiará durante as etapas para configurar os scripts, incluindo a solução de problemas."
services: backup
documentationcenter: dev-center-name
author: anuragmehrotra
manager: shivamg
keywords: backup consistente com o aplicativo; backup de VM do Azure consistente com o aplicativo; Backup de VM Linux; Backup do Azure
ms.assetid: bbb99cf2-d8c7-4b3d-8b29-eadc0fed3bef
ms.service: backup
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: storage-backup-recovery
ms.date: 4/12/2017
ms.author: anuragm;markgal
ms.openlocfilehash: 378c65bec8fd1f880ed459e76f5e4b5d85e49d2a
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="application-consistent-backup-of-azure-linux-vms-preview"></a><span data-ttu-id="432ac-106">Backup consistente com o aplicativo de VMs Linux do Azure (versão prévia)</span><span class="sxs-lookup"><span data-stu-id="432ac-106">Application-consistent backup of Azure Linux VMs (preview)</span></span>

<span data-ttu-id="432ac-107">Este artigo fala sobre a estrutura pré e pós-script do Linux e como ela pode ser usada para fazer backups consistentes com o aplicativo de VMs Linux do Azure.</span><span class="sxs-lookup"><span data-stu-id="432ac-107">This article talks about the Linux pre-script and post-script framework, and how it can be used to take application-consistent backups of Azure Linux VMs.</span></span>

> [!Note]
> <span data-ttu-id="432ac-108">Só há suporte para a estrutura pré e pós-script para máquinas virtuais Linux implantadas pelo Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="432ac-108">The pre-script and post-script framework is supported only for Azure Resource Manager-deployed Linux virtual machines.</span></span> <span data-ttu-id="432ac-109">Não há suporte a scripts para consistência com aplicativos em máquinas virtuais implantadas pelo Service Manager ou máquinas virtuais do Windows.</span><span class="sxs-lookup"><span data-stu-id="432ac-109">Scripts for application consistency are not supported for Service Manager-deployed virtual machines or Windows virtual machines.</span></span>
>

## <a name="how-the-framework-works"></a><span data-ttu-id="432ac-110">Como funciona a estrutura</span><span class="sxs-lookup"><span data-stu-id="432ac-110">How the framework works</span></span>

<span data-ttu-id="432ac-111">A estrutura fornece uma opção para executar pré e pós-scripts personalizados ao obter instantâneos de VM.</span><span class="sxs-lookup"><span data-stu-id="432ac-111">The framework provides an option to run custom pre-scripts and post-scripts while you're taking VM snapshots.</span></span> <span data-ttu-id="432ac-112">Os pré-scripts são executados imediatamente antes de você obter o instantâneo da VM e os pós-scripts são executados imediatamente após você obter o instantâneo da VM.</span><span class="sxs-lookup"><span data-stu-id="432ac-112">Pre-scripts are run just before you take the VM snapshot, and post-scripts are run immediately after you take the VM snapshot.</span></span> <span data-ttu-id="432ac-113">Isso oferece a flexibilidade para controlar seus aplicativos e o ambiente enquanto está obtendo instantâneos da VM.</span><span class="sxs-lookup"><span data-stu-id="432ac-113">This gives you the flexibility to control your application and environment while you're taking VM snapshots.</span></span>

<span data-ttu-id="432ac-114">Neste cenário, é importante garantir o backup da VM de forma consistente com o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="432ac-114">In this scenario, it's important to ensure application-consistent VM backup.</span></span> <span data-ttu-id="432ac-115">O pré-script de pode invocar as APIs nativas do aplicativo para desativar as E/Ss e liberar o conteúdo da memória para o disco.</span><span class="sxs-lookup"><span data-stu-id="432ac-115">The pre-script can invoke application-native APIs to quiesce the IOs and flush in-memory content to the disk.</span></span> <span data-ttu-id="432ac-116">Isso garante que o instantâneo seja consistente com o aplicativo (isto é, que o aplicativo surja quando a VM for iniciada após a restauração).</span><span class="sxs-lookup"><span data-stu-id="432ac-116">This ensures that the snapshot is application-consistent (that is, that the application comes up when the VM is booted post-restore).</span></span> <span data-ttu-id="432ac-117">O pós-script pode ser usado para descongelar as E/Ss.</span><span class="sxs-lookup"><span data-stu-id="432ac-117">Post-script can be used to thaw the IOs.</span></span> <span data-ttu-id="432ac-118">Ele faz isso usando APIs nativas do aplicativo, de modo que o aplicativo possa retomar as operações normais após o instantâneo da VM.</span><span class="sxs-lookup"><span data-stu-id="432ac-118">It does this by using application-native APIs so that the application can resume normal operations post-VM snapshot.</span></span>

## <a name="steps-to-configure-pre-script-and-post-script"></a><span data-ttu-id="432ac-119">Etapas para configurar o pré-script e o pós-script</span><span class="sxs-lookup"><span data-stu-id="432ac-119">Steps to configure pre-script and post-script</span></span>

1. <span data-ttu-id="432ac-120">Entre como o usuário raiz da VM do Linux da qual você deseja fazer backup.</span><span class="sxs-lookup"><span data-stu-id="432ac-120">Sign in as the root user to the Linux VM that you want to back up.</span></span>

2. <span data-ttu-id="432ac-121">Baixe **VMSnapshotScriptPluginConfig.json** do [GitHub](https://github.com/MicrosoftAzureBackup/VMSnapshotPluginConfig) e copie-o para a pasta **/etc/azure** em todas as VMs das quais fará o backup.</span><span class="sxs-lookup"><span data-stu-id="432ac-121">Download **VMSnapshotScriptPluginConfig.json** from [GitHub](https://github.com/MicrosoftAzureBackup/VMSnapshotPluginConfig), and then copy it to the **/etc/azure** folder on all the VMs that you're going to back up.</span></span> <span data-ttu-id="432ac-122">Crie o diretório **/etc/azure** se ele ainda não existir.</span><span class="sxs-lookup"><span data-stu-id="432ac-122">Create the **/etc/azure** directory if it doesn't exist already.</span></span>

3. <span data-ttu-id="432ac-123">Copie o pré-script e o pós-script para seu aplicativo em todas as VMs das quais você planeja fazer backup.</span><span class="sxs-lookup"><span data-stu-id="432ac-123">Copy the pre-script and post-script for your application on all the VMs that you plan to back up.</span></span> <span data-ttu-id="432ac-124">Você pode copiar os scripts em qualquer local na VM.</span><span class="sxs-lookup"><span data-stu-id="432ac-124">You can copy the scripts to any location on the VM.</span></span> <span data-ttu-id="432ac-125">Certifique-se de atualizar o caminho completo dos arquivos de script no arquivo **VMSnapshotScriptPluginConfig.json**.</span><span class="sxs-lookup"><span data-stu-id="432ac-125">Be sure to update the full path of the script files in the **VMSnapshotScriptPluginConfig.json** file.</span></span>

4. <span data-ttu-id="432ac-126">Verifique se estas permissões existem para os arquivos:</span><span class="sxs-lookup"><span data-stu-id="432ac-126">Ensure the following permissions for these files:</span></span>

   - <span data-ttu-id="432ac-127">**VMSnapshotScriptPluginConfig.json**: permissão “600.”</span><span class="sxs-lookup"><span data-stu-id="432ac-127">**VMSnapshotScriptPluginConfig.json**: Permission “600.”</span></span> <span data-ttu-id="432ac-128">Por exemplo, apenas o usuário "raiz" deve ter permissões de "leitura" e "gravação" para esse arquivo e nenhum usuário deve ter permissões de "execução".</span><span class="sxs-lookup"><span data-stu-id="432ac-128">For example, only “root” user should have “read” and “write” permissions to this file, and no user should have “execute” permissions.</span></span>

   - <span data-ttu-id="432ac-129">**Arquivo de pré-script**: permissão "700".</span><span class="sxs-lookup"><span data-stu-id="432ac-129">**Pre-script file**: Permission “700.”</span></span>  <span data-ttu-id="432ac-130">Por exemplo, apenas o usuário "raiz" deve ter permissões de "leitura", "gravação" e "execução" para esse arquivo.</span><span class="sxs-lookup"><span data-stu-id="432ac-130">For example, only “root” user should have “read”, “write”, and “execute” permissions to this file.</span></span>
  
   - <span data-ttu-id="432ac-131">**Pós-script** permissão "700".</span><span class="sxs-lookup"><span data-stu-id="432ac-131">**Post-script** Permission “700.”</span></span> <span data-ttu-id="432ac-132">Por exemplo, apenas o usuário "raiz" deve ter permissões de "leitura", "gravação" e "execução" para esse arquivo.</span><span class="sxs-lookup"><span data-stu-id="432ac-132">For example, only “root” user should have “read”, “write”, and “execute” permissions to this file.</span></span>

   > [!Important]
   > <span data-ttu-id="432ac-133">A estrutura concede aos usuários muito poder.</span><span class="sxs-lookup"><span data-stu-id="432ac-133">The framework gives users a lot of power.</span></span> <span data-ttu-id="432ac-134">É importante que ela seja segura e que apenas o usuário “raiz” tenha acesso aos arquivos de script e JSON críticos.</span><span class="sxs-lookup"><span data-stu-id="432ac-134">It’s important that it's secure and that only “root” user has access to critical JSON and script files.</span></span>
   > <span data-ttu-id="432ac-135">Se os requisitos anteriores não forem atendidos, o script não será executado.</span><span class="sxs-lookup"><span data-stu-id="432ac-135">If the previous requirements aren't met, the script doesn't run.</span></span> <span data-ttu-id="432ac-136">Isso resulta em backup consistente de sistema de arquivos/falha.</span><span class="sxs-lookup"><span data-stu-id="432ac-136">This results in file system/crash consistent backup.</span></span>
   >

5. <span data-ttu-id="432ac-137">Configure o **VMSnapshotScriptPluginConfig.json** conforme descrito aqui:</span><span class="sxs-lookup"><span data-stu-id="432ac-137">Configure **VMSnapshotScriptPluginConfig.json** as described here:</span></span>
    - <span data-ttu-id="432ac-138">**pluginName**: deixe esse campo como está ou os scripts podem não funcionar conforme o esperado.</span><span class="sxs-lookup"><span data-stu-id="432ac-138">**pluginName**: Leave this field as is or your scripts might not work as expected.</span></span>

    - <span data-ttu-id="432ac-139">**preScriptLocation**: forneça o caminho completo do pré-script na VM que passará pelo backup.</span><span class="sxs-lookup"><span data-stu-id="432ac-139">**preScriptLocation**: Provide the full path of the pre-script on the VM that's going to be backed up.</span></span>

    - <span data-ttu-id="432ac-140">**postScriptLocation**: forneça o caminho completo do pós-script na VM que passará pelo backup.</span><span class="sxs-lookup"><span data-stu-id="432ac-140">**postScriptLocation**: Provide the full path of the post-script on the VM that's going to be backed up.</span></span>

    - <span data-ttu-id="432ac-141">**preScriptParams**: forneça os parâmetros opcionais que precisam ser passados para o pré-script.</span><span class="sxs-lookup"><span data-stu-id="432ac-141">**preScriptParams**: Provide the optional parameters that need to be passed to the pre-script.</span></span> <span data-ttu-id="432ac-142">Todos os parâmetros deverão estar entre aspas e deverão ser separados por vírgulas se houver vários parâmetros.</span><span class="sxs-lookup"><span data-stu-id="432ac-142">All parameters should be in quotes, and should be comma-separated if there are multiple parameters.</span></span>

    - <span data-ttu-id="432ac-143">**postScriptParams**: forneça os parâmetros opcionais que precisam ser passados para o pós-script.</span><span class="sxs-lookup"><span data-stu-id="432ac-143">**postScriptParams**: Provide the optional parameters that need to be passed to the post-script.</span></span> <span data-ttu-id="432ac-144">Todos os parâmetros deverão estar entre aspas e deverão ser separados por vírgulas se houver vários parâmetros.</span><span class="sxs-lookup"><span data-stu-id="432ac-144">All parameters should be in quotes, and should be comma-separated if there are multiple parameters.</span></span>

    - <span data-ttu-id="432ac-145">**preScriptNoOfRetries**: defina o número de vezes que o pré-script deve ser repetido caso haja qualquer erro antes do encerramento.</span><span class="sxs-lookup"><span data-stu-id="432ac-145">**preScriptNoOfRetries**: Set the number of times the pre-script should be retried if there is any error before terminating.</span></span> <span data-ttu-id="432ac-146">Zero significa apenas uma tentativa e nenhuma repetição se houver uma falha.</span><span class="sxs-lookup"><span data-stu-id="432ac-146">Zero means only one try and no retry if there is a failure.</span></span>

    - <span data-ttu-id="432ac-147">**postScriptNoOfRetries**: defina o número de vezes que o pós-script deve ser repetido caso haja qualquer erro antes do encerramento.</span><span class="sxs-lookup"><span data-stu-id="432ac-147">**postScriptNoOfRetries**:  Set the number of times the post-script should be retried if there is any error before terminating.</span></span> <span data-ttu-id="432ac-148">Zero significa apenas uma tentativa e nenhuma repetição se houver uma falha.</span><span class="sxs-lookup"><span data-stu-id="432ac-148">Zero means only one try and no retry if there is a failure.</span></span>
    
    - <span data-ttu-id="432ac-149">**timeoutInSeconds**: especifique os tempos limites individuais para o pré-script e o pós-script.</span><span class="sxs-lookup"><span data-stu-id="432ac-149">**timeoutInSeconds**: Specify individual timeouts for the pre-script and the post-script.</span></span>

    - <span data-ttu-id="432ac-150">**continueBackupOnFailure**: defina esse valor como **true** se você quiser que o Backup do Azure passe por fallback para um backup consistente com falha/ consistente com o sistema de arquivos, se o pré-script ou pós-script falhar.</span><span class="sxs-lookup"><span data-stu-id="432ac-150">**continueBackupOnFailure**: Set this value to **true** if you want Azure Backup to fall back to a file system consistent/crash consistent backup if pre-script or post-script fails.</span></span> <span data-ttu-id="432ac-151">Definir isso como **false** causará a falha do backup no caso de falha do script (exceto quando você tiver uma VM de disco único que passa por fallback par a um backup consistente com a falha independentemente dessa configuração).</span><span class="sxs-lookup"><span data-stu-id="432ac-151">Setting this to **false** fails the backup in case of script failure (except when you have single-disk VM that falls back to crash-consistent backup regardless of this setting).</span></span>

    - <span data-ttu-id="432ac-152">**fsFreezeEnabled**: especifique se Linux fsfreeze deve ser chamado durante a obtenção do instantâneo da VM para garantir a consistência do sistema de arquivos.</span><span class="sxs-lookup"><span data-stu-id="432ac-152">**fsFreezeEnabled**: Specify whether Linux fsfreeze should be called while you're taking the VM snapshot to ensure file system consistency.</span></span> <span data-ttu-id="432ac-153">Recomendamos manter essa configuração como **true**, a menos que seu aplicativo tenha dependência na desabilitação do fsfreeze.</span><span class="sxs-lookup"><span data-stu-id="432ac-153">We recommend keeping this setting set to **true** unless your application has a dependency on disabling fsfreeze.</span></span>

6. <span data-ttu-id="432ac-154">A estrutura de script está configurada.</span><span class="sxs-lookup"><span data-stu-id="432ac-154">The script framework is now configured.</span></span> <span data-ttu-id="432ac-155">Se o backup da VM já estiver configurado, o próximo backup invocará os scripts e disparará o backup consistente com o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="432ac-155">If the VM backup is already configured, the next backup invokes the scripts and triggers application-consistent backup.</span></span> <span data-ttu-id="432ac-156">Se o backup da VM não estiver configurado, configure-o usando [Fazer backup de máquinas virtuais do Azure em cofres dos Serviços de Recuperação.](https://docs.microsoft.com/azure/backup/backup-azure-vms-first-look-arm)</span><span class="sxs-lookup"><span data-stu-id="432ac-156">If the VM backup is not configured, configure it by using [Back up Azure virtual machines to Recovery Services vaults.](https://docs.microsoft.com/azure/backup/backup-azure-vms-first-look-arm)</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="432ac-157">Solucionar problemas</span><span class="sxs-lookup"><span data-stu-id="432ac-157">Troubleshooting</span></span>

<span data-ttu-id="432ac-158">Adicione os logs apropriados ao escrever seu pré-script e pós-script e examine os logs de script para corrigir quaisquer problemas de script.</span><span class="sxs-lookup"><span data-stu-id="432ac-158">Make sure you add appropriate logging while writing your pre-script and post-script, and review your script logs to fix any script issues.</span></span> <span data-ttu-id="432ac-159">Se você ainda tiver problemas para executar scripts, veja a tabela a seguir para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="432ac-159">If you still have problems running scripts, refer to the following table for more information.</span></span>

| <span data-ttu-id="432ac-160">Erro</span><span class="sxs-lookup"><span data-stu-id="432ac-160">Error</span></span> | <span data-ttu-id="432ac-161">Mensagem de erro</span><span class="sxs-lookup"><span data-stu-id="432ac-161">Error message</span></span> | <span data-ttu-id="432ac-162">Ação recomendada</span><span class="sxs-lookup"><span data-stu-id="432ac-162">Recommended action</span></span> |
| ------------------------ | -------------- | ------------------ |
| <span data-ttu-id="432ac-163">Pre-ScriptExecutionFailed</span><span class="sxs-lookup"><span data-stu-id="432ac-163">Pre-ScriptExecutionFailed</span></span> |<span data-ttu-id="432ac-164">O pré-script retornou um erro, portanto talvez o backup não seja consistente com o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="432ac-164">The pre-script returned an error, so backup might not be application-consistent.</span></span>   | <span data-ttu-id="432ac-165">Examine os logs de falha do script para corrigir o problema.</span><span class="sxs-lookup"><span data-stu-id="432ac-165">Look at the failure logs for your script to fix the issue.</span></span>|  
|   <span data-ttu-id="432ac-166">Post-ScriptExecutionFailed</span><span class="sxs-lookup"><span data-stu-id="432ac-166">Post-ScriptExecutionFailed</span></span> |    <span data-ttu-id="432ac-167">O pós-script retornou um erro que pode afetar o estado do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="432ac-167">The post-script returned an error that might impact application state.</span></span> |    <span data-ttu-id="432ac-168">Examine os logs de falha do script para corrigir o problema e verificar o estado do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="432ac-168">Look at the failure logs for your script to fix the issue and check the application state.</span></span> |
| <span data-ttu-id="432ac-169">Pre-ScriptNotFound</span><span class="sxs-lookup"><span data-stu-id="432ac-169">Pre-ScriptNotFound</span></span> |  <span data-ttu-id="432ac-170">O pré-script não foi encontrado no local especificado no arquivo de configuração **VMSnapshotScriptPluginConfig.json**.</span><span class="sxs-lookup"><span data-stu-id="432ac-170">The pre-script was not found at the location that's specified in the **VMSnapshotScriptPluginConfig.json** config file.</span></span> |   <span data-ttu-id="432ac-171">Verifique se o pré-script está presente no caminho especificado no arquivo de configuração para garantir o backup consistente com o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="432ac-171">Make sure that pre-script is present at the path that's specified in the config file to ensure application-consistent backup.</span></span>|
| <span data-ttu-id="432ac-172">Post-ScriptNotFound</span><span class="sxs-lookup"><span data-stu-id="432ac-172">Post-ScriptNotFound</span></span> | <span data-ttu-id="432ac-173">O pós-script não foi encontrado no local especificado no arquivo de configuração **VMSnapshotScriptPluginConfig.json**.</span><span class="sxs-lookup"><span data-stu-id="432ac-173">The post-script wasn't found at the location that's specified in the **VMSnapshotScriptPluginConfig.json** config file.</span></span> |   <span data-ttu-id="432ac-174">Verifique se o pós-script está presente no caminho especificado no arquivo de configuração para garantir o backup consistente com o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="432ac-174">Make sure that post-script is present at the path that's specified in the config file to ensure application-consistent backup.</span></span>|
| <span data-ttu-id="432ac-175">IncorrectPluginhostFile</span><span class="sxs-lookup"><span data-stu-id="432ac-175">IncorrectPluginhostFile</span></span> | <span data-ttu-id="432ac-176">O arquivo **Pluginhost**, que vem com a extensão VmSnapshotLinux, está corrompido, portanto, o pré-script e o pós-script não podem ser executados e o backup não será consistente com o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="432ac-176">The **Pluginhost** file, which comes with the VmSnapshotLinux extension, is corrupted, so pre-script and post-script cannot run and the backup won't be application-consistent.</span></span> | <span data-ttu-id="432ac-177">Desinstale a extensão **VmSnapshotLinux** e ela será automaticamente instalada novamente com o próximo backup para corrigir o problema.</span><span class="sxs-lookup"><span data-stu-id="432ac-177">Uninstall the **VmSnapshotLinux** extension, and it will automatically be reinstalled with the next backup to fix the problem.</span></span> |
| <span data-ttu-id="432ac-178">IncorrectJSONConfigFile</span><span class="sxs-lookup"><span data-stu-id="432ac-178">IncorrectJSONConfigFile</span></span> | <span data-ttu-id="432ac-179">O arquivo **VMSnapshotScriptPluginConfig.json** está incorreto, portanto, o pré-script e pós-script não podem ser executados e o backup não será consistente com o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="432ac-179">The **VMSnapshotScriptPluginConfig.json** file is incorrect, so pre-script and post-script cannot run and the backup won't be application-consistent.</span></span> | <span data-ttu-id="432ac-180">Baixe a cópia do [GitHub](https://github.com/MicrosoftAzureBackup/VMSnapshotPluginConfig) e configure-a novamente.</span><span class="sxs-lookup"><span data-stu-id="432ac-180">Download the copy from [GitHub](https://github.com/MicrosoftAzureBackup/VMSnapshotPluginConfig) and configure it again.</span></span> |
| <span data-ttu-id="432ac-181">InsufficientPermissionforPre-Script</span><span class="sxs-lookup"><span data-stu-id="432ac-181">InsufficientPermissionforPre-Script</span></span> | <span data-ttu-id="432ac-182">Para executar scripts, o usuário "raiz" deve ser o proprietário do arquivo e o arquivo deve ter permissões "700" (ou seja, somente o proprietário deve ter permissões de "leitura", "gravação" e "execução").</span><span class="sxs-lookup"><span data-stu-id="432ac-182">For running scripts, "root" user should be the owner of the file and the file should have “700” permissions (that is, only "owner" should have “read”, “write”, and “execute” permissions).</span></span> | <span data-ttu-id="432ac-183">Verifique se o usuário "raiz" é o "proprietário" do arquivo de script e se somente o "proprietário" tem permissões de "leitura", "gravação" e "execução".</span><span class="sxs-lookup"><span data-stu-id="432ac-183">Make sure “root” user is the “owner” of the script file and that only "owner" has “read”, “write” and “execute” permissions.</span></span> |
| <span data-ttu-id="432ac-184">InsufficientPermissionforPost-Script</span><span class="sxs-lookup"><span data-stu-id="432ac-184">InsufficientPermissionforPost-Script</span></span> | <span data-ttu-id="432ac-185">Para executar scripts, o usuário raiz deve ser o proprietário do arquivo e o arquivo deve ter permissões "700" (ou seja, somente o proprietário deve ter permissões de "leitura", "gravação" e "execução").</span><span class="sxs-lookup"><span data-stu-id="432ac-185">For running scripts, root user should be the owner of the file and the file should have “700” permissions (that is, only "owner" should have “read”, “write”, and “execute” permissions).</span></span> | <span data-ttu-id="432ac-186">Verifique se o usuário "raiz" é o "proprietário" do arquivo de script e se somente o "proprietário" tem permissões de "leitura", "gravação" e "execução".</span><span class="sxs-lookup"><span data-stu-id="432ac-186">Make sure “root” user is the “owner” of the script file and that only "owner" has “read”, “write” and “execute” permissions.</span></span> |
| <span data-ttu-id="432ac-187">Pre-ScriptTimeout</span><span class="sxs-lookup"><span data-stu-id="432ac-187">Pre-ScriptTimeout</span></span> | <span data-ttu-id="432ac-188">A execução do pré-script de backup consistente com o aplicativo atingiu o tempo limite.</span><span class="sxs-lookup"><span data-stu-id="432ac-188">The execution of the application-consistent backup pre-script timed-out.</span></span> | <span data-ttu-id="432ac-189">Verifique o script e aumente o tempo limite no arquivo **VMSnapshotScriptPluginConfig.json** que está localizado em **/etc/azure**.</span><span class="sxs-lookup"><span data-stu-id="432ac-189">Check the script and increase the timeout in the **VMSnapshotScriptPluginConfig.json** file that's located at **/etc/azure**.</span></span> |
| <span data-ttu-id="432ac-190">Post-ScriptTimeout</span><span class="sxs-lookup"><span data-stu-id="432ac-190">Post-ScriptTimeout</span></span> | <span data-ttu-id="432ac-191">A execução do pós-script de backup consistente com o aplicativo atingiu o tempo limite.</span><span class="sxs-lookup"><span data-stu-id="432ac-191">The execution of the application-consistent backup post-script timed out.</span></span> | <span data-ttu-id="432ac-192">Verifique o script e aumente o tempo limite no arquivo **VMSnapshotScriptPluginConfig.json** que está localizado em **/etc/azure**.</span><span class="sxs-lookup"><span data-stu-id="432ac-192">Check the script and increase the timeout in the **VMSnapshotScriptPluginConfig.json** file that's located at **/etc/azure**.</span></span> |

## <a name="next-steps"></a><span data-ttu-id="432ac-193">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="432ac-193">Next steps</span></span>
[<span data-ttu-id="432ac-194">Configurar o backup da VM para um cofre dos Serviços de Recuperação</span><span class="sxs-lookup"><span data-stu-id="432ac-194">Configure VM backup to a Recovery Services vault</span></span>](https://docs.microsoft.com/azure/backup/backup-azure-arm-vms)
