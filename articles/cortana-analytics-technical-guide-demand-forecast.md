---
title: "Guia técnico de previsão de demanda em energia | Microsoft Docs"
description: "Um guia técnico para o Modelo de Solução com o Microsoft Cortana Intelligence para previsão de demanda de energia"
services: cortana-analytics
documentationcenter: 
author: yijichen
manager: ilanr9
editor: yijichen
ms.assetid: 7f1a866b-79b7-4b97-ae3e-bc6bebe8c756
ms.service: cortana-analytics
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/16/2016
ms.author: inqiu;yijichen;ilanr9
ms.openlocfilehash: c3bbef8fee018dc54e7d3edb86e3f9434999bdae
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="technical-guide-to-the-cortana-intelligence-solution-template-for-demand-forecast-in-energy"></a><span data-ttu-id="3bf8a-103">Guia técnico para o Modelo de Solução do Cortana Intelligence para previsão de demanda em energia</span><span class="sxs-lookup"><span data-stu-id="3bf8a-103">Technical guide to the Cortana Intelligence Solution Template for demand forecast in energy</span></span>
## <a name="overview"></a><span data-ttu-id="3bf8a-104">**Visão geral**</span><span class="sxs-lookup"><span data-stu-id="3bf8a-104">**Overview**</span></span>
<span data-ttu-id="3bf8a-105">Os Modelos de Solução foram projetados para acelerar o processo de criação de uma demonstração E2E sobre o Cortana Intelligence Suite.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-105">Solution Templates are designed to accelerate the process of building an E2E demo on top of Cortana Intelligence Suite.</span></span> <span data-ttu-id="3bf8a-106">Um modelo implantado provisionará à sua assinatura os componentes necessários do Cortana Intelligence e estabelecerá as relações entre eles.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-106">A deployed template will provision your subscription with necessary Cortana Intelligence component and build the relationships between.</span></span> <span data-ttu-id="3bf8a-107">Ele também alimenta o pipeline de dados com amostras de dados geradas em um aplicativo de simulação de dados.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-107">It also seeds the data pipeline with sample data getting generated from a data simulation application.</span></span> <span data-ttu-id="3bf8a-108">Baixe o simulador de dados do link fornecido e instale-o em seu computador local. Consulte o arquivo readme.txt para obter instruções sobre o uso do simulador.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-108">Download the data simulator from the link provided and install it on your local machine, refer to the readme.txt file for instruction on using the simulator.</span></span> <span data-ttu-id="3bf8a-109">Os dados gerados pelo simulador hidratarão o pipeline de dados e começarão a gerar previsões de aprendizado de máquina, que poderão ser visualizadas no painel do Power BI.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-109">Data generated from the simulator will hydrate the data pipeline and start generating machine learning prediction which can then be visualized on the Power BI dashboard.</span></span>

<span data-ttu-id="3bf8a-110">O modelo de solução pode ser encontrado [aqui](https://gallery.cortanaintelligence.com/SolutionTemplate/Demand-Forecasting-for-Energy-1)</span><span class="sxs-lookup"><span data-stu-id="3bf8a-110">The solution template can be found [here](https://gallery.cortanaintelligence.com/SolutionTemplate/Demand-Forecasting-for-Energy-1)</span></span>

<span data-ttu-id="3bf8a-111">O processo de implantação guiará você pelas diversas etapas para configurar as credenciais da sua solução.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-111">The deployment process will guide you through several steps to set up your solution credentials.</span></span> <span data-ttu-id="3bf8a-112">Registre essas credenciais, como o nome da solução, o nome de usuário e a senha fornecidos durante a implantação.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-112">Make sure you record these credentials such as solution name, username, and password you provide during the deployment.</span></span>

<span data-ttu-id="3bf8a-113">A meta deste documento é explicar a arquitetura de referência e os diferentes componentes provisionados em sua assinatura como parte deste Modelo de Solução.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-113">The goal of this document is to explain the reference architecture and different components provisioned in your subscription as part of this Solution Template.</span></span> <span data-ttu-id="3bf8a-114">O documento também fala sobre como substituir as amostras de dados por dados reais, para que você possa ver informações/previsões obtidas de seus próprios dados.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-114">The document also talks about how to replace the sample data, with real data of your own to be able to see insights/predictions from you won data.</span></span> <span data-ttu-id="3bf8a-115">Além disso, o documento discute as partes do Modelo de Solução que precisarão ser modificadas caso você queira personalizar a solução com seus próprios dados.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-115">Additionally, the document talks about the parts of the Solution Template that would need to be modified if you want to customize the solution with your own data.</span></span> <span data-ttu-id="3bf8a-116">As instruções sobre como criar o painel do Power BI para esse Modelo de Solução serão fornecidas ao final.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-116">Instructions on how to build the Power BI dashboard for this Solution Template are provided at the end.</span></span>

## <a name="big-picture"></a><span data-ttu-id="3bf8a-117">**Visão global**</span><span class="sxs-lookup"><span data-stu-id="3bf8a-117">**Big Picture**</span></span>
![](media/cortana-analytics-technical-guide-demand-forecast/ca-topologies-energy-forecasting.png)

### <a name="architecture-explained"></a><span data-ttu-id="3bf8a-118">Arquitetura explicada</span><span class="sxs-lookup"><span data-stu-id="3bf8a-118">Architecture Explained</span></span>
<span data-ttu-id="3bf8a-119">Quando a solução for implantada, diversos serviços do Azure no Cortana Analytics Suite serão ativados (*ou seja,* o Hub de Eventos, o Stream Analytics, o HDInsight, o Data Factory, o Machine Learning, *etc.*).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-119">When the solution is deployed, various Azure services within Cortana Analytics Suite are activated (*i.e.* Event Hub, Stream Analytics, HDInsight, Data Factory, Machine Learning, *etc.*).</span></span> <span data-ttu-id="3bf8a-120">O diagrama da arquitetura acima mostra, em alto nível, como o Modelo de Solução de Previsão de demanda para energia é criado de ponta a ponta.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-120">The architecture diagram above shows, at a high level, how the Demand Forecasting for Energy Solution Template is constructed from end-to-end.</span></span> <span data-ttu-id="3bf8a-121">Você poderá investigar esses serviços clicando neles no diagrama de modelo de solução criado com a implantação da solução.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-121">You will be able to investigate these services by clicking on them on the solution template diagram created with the deployment of the solution.</span></span> <span data-ttu-id="3bf8a-122">As seções a seguir descrevem cada parte.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-122">The following sections describe each piece.</span></span>

## <a name="data-source-and-ingestion"></a><span data-ttu-id="3bf8a-123">**Fonte de dados e ingestão**</span><span class="sxs-lookup"><span data-stu-id="3bf8a-123">**Data Source and Ingestion**</span></span>
### <a name="synthetic-data-source"></a><span data-ttu-id="3bf8a-124">Fonte de dados sintética</span><span class="sxs-lookup"><span data-stu-id="3bf8a-124">Synthetic Data Source</span></span>
<span data-ttu-id="3bf8a-125">Para esse modelo, a fonte de dados usada é gerada de um aplicativo da área de trabalho que você baixará e executará localmente após a implantação bem-sucedida.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-125">For this template the data source used is generated from a desktop application that you will download and run locally after successful deployment.</span></span> <span data-ttu-id="3bf8a-126">Você encontrará as instruções para baixar e instalar esse aplicativo na barra de propriedades, quando selecionar o primeiro nó chamado Simulador de Dados de Previsão de Energia no diagrama do modelo de solução.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-126">You will find the instructions to download and install this application in the properties bar when you select the first node called Energy Forecasting Data Simulator on the solution template diagram.</span></span> <span data-ttu-id="3bf8a-127">Esse aplicativo alimenta o serviço [Hub de Eventos do Azure](#azure-event-hub) com pontos de dados, ou eventos, que serão usados no restante do fluxo da solução.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-127">This application feeds the [Azure Event Hub](#azure-event-hub) service with data points, or events, that will be used in the rest of the solution flow.</span></span>

<span data-ttu-id="3bf8a-128">O aplicativo de geração de eventos só preencherá o Hub de Eventos do Azure enquanto ele estiver em execução no computador.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-128">The event generation application will populate the Azure Event Hub only while it's executing on your computer.</span></span>

### <a name="azure-event-hub"></a><span data-ttu-id="3bf8a-129">Hub de Eventos do Azure</span><span class="sxs-lookup"><span data-stu-id="3bf8a-129">Azure Event Hub</span></span>
<span data-ttu-id="3bf8a-130">O serviço [Hub de Eventos do Azure](https://azure.microsoft.com/services/event-hubs/) é o destinatário da entrada fornecida pela Fonte de Dados Sintética descrita acima.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-130">The [Azure Event Hub](https://azure.microsoft.com/services/event-hubs/) service is the recipient of the input provided by the Synthetic Data Source described above.</span></span>

## <a name="data-preparation-and-analysis"></a><span data-ttu-id="3bf8a-131">**Preparação e análise de dados**</span><span class="sxs-lookup"><span data-stu-id="3bf8a-131">**Data Preparation and Analysis**</span></span>
### <a name="azure-stream-analytics"></a><span data-ttu-id="3bf8a-132">Stream Analytics do Azure</span><span class="sxs-lookup"><span data-stu-id="3bf8a-132">Azure Stream Analytics</span></span>
<span data-ttu-id="3bf8a-133">O serviço [Stream Analytics do Azure](https://azure.microsoft.com/services/stream-analytics/) é usado para fornecer uma análise quase em tempo real no fluxo de entrada do serviço [Hub de Eventos do Azure](#azure-event-hub) e para publicar os resultados em um painel do [Power BI](https://powerbi.microsoft.com), bem como para arquivar todos os eventos brutos de entrada no serviço [Armazenamento do Azure](https://azure.microsoft.com/services/storage/) para um processamento posterior pelo serviço [Azure Data Factory](https://azure.microsoft.com/documentation/services/data-factory/).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-133">The [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/) service is used to provide near real-time analytics on the input stream from the [Azure Event Hub](#azure-event-hub) service and publish results onto a [Power BI](https://powerbi.microsoft.com) dashboard as well as archiving all raw incoming events to the [Azure Storage](https://azure.microsoft.com/services/storage/) service for later processing by the [Azure Data Factory](https://azure.microsoft.com/documentation/services/data-factory/) service.</span></span>

### <a name="hd-insights-custom-aggregation"></a><span data-ttu-id="3bf8a-134">Agregação personalizada do HDInsight</span><span class="sxs-lookup"><span data-stu-id="3bf8a-134">HD Insights Custom Aggregation</span></span>
<span data-ttu-id="3bf8a-135">O serviço Azure HDInsight é usado para executar scripts do [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) (orquestrados pelo Azure Data Factory), de modo a fornecer agregações nos eventos brutos arquivados usando o serviço Stream Analytics do Azure.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-135">The Azure HD Insight service is used to run [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) scripts (orchestrated by Azure Data Factory) to provide aggregations on the raw events that were archived using the Azure Stream Analytics service.</span></span>

### <a name="azure-machine-learning"></a><span data-ttu-id="3bf8a-136">Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="3bf8a-136">Azure Machine Learning</span></span>
<span data-ttu-id="3bf8a-137">O serviço [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) é usado (orquestrado pelo Azure Data Factory) para fazer previsões sobre o consumo futuro de energia de uma região específica com base nos dados recebidos.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-137">The [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) service is used (orchestrated by Azure Data Factory) to make forecast on future power consumption of a particular region given the inputs received.</span></span>

## <a name="data-publishing"></a><span data-ttu-id="3bf8a-138">**Publicação de dados**</span><span class="sxs-lookup"><span data-stu-id="3bf8a-138">**Data Publishing**</span></span>
### <a name="azure-sql-database-service"></a><span data-ttu-id="3bf8a-139">Serviço Banco de Dados SQL do Azure</span><span class="sxs-lookup"><span data-stu-id="3bf8a-139">Azure SQL Database Service</span></span>
<span data-ttu-id="3bf8a-140">O serviço [Banco de Dados SQL do Azure](https://azure.microsoft.com/services/sql-database/) é usado para armazenar (gerenciado pelo Azure Data Factory) as previsões recebidas pelo serviço Azure Machine Learning que serão consumidas no painel do [Power BI](https://powerbi.microsoft.com).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-140">The [Azure SQL Database](https://azure.microsoft.com/services/sql-database/) service is used to store (managed by Azure Data Factory) the predictions received by the Azure Machine Learning service that will be consumed in the [Power BI](https://powerbi.microsoft.com) dashboard.</span></span>

## <a name="data-consumption"></a><span data-ttu-id="3bf8a-141">**Consumo de dados**</span><span class="sxs-lookup"><span data-stu-id="3bf8a-141">**Data Consumption**</span></span>
### <a name="power-bi"></a><span data-ttu-id="3bf8a-142">Power BI</span><span class="sxs-lookup"><span data-stu-id="3bf8a-142">Power BI</span></span>
<span data-ttu-id="3bf8a-143">O serviço [Power BI](https://powerbi.microsoft.com) é usado para mostrar um painel que contém as agregações fornecidas pelo serviço [Stream Analytics do Azure](https://azure.microsoft.com/services/stream-analytics/), bem como os resultados das previsões de demanda no [Banco de Dados SQL do Azure](https://azure.microsoft.com/services/sql-database/) que foram produzidos usando o serviço [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-143">The [Power BI](https://powerbi.microsoft.com) service is used to show a dashboard that contains aggregations provided by the [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/) service as well as demand forecast results stored in [Azure SQL Database](https://azure.microsoft.com/services/sql-database/) that were produced using the [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) service.</span></span> <span data-ttu-id="3bf8a-144">Para obter instruções sobre como criar o painel do Power BI para esse Modelo de Solução, consulte a seção abaixo.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-144">For Instructions on how to build the Power BI dashboard for this Solution Template, refer to the section below.</span></span>

## <a name="how-to-bring-in-your-own-data"></a><span data-ttu-id="3bf8a-145">**Como inserir seus próprios dados**</span><span class="sxs-lookup"><span data-stu-id="3bf8a-145">**How to bring in your own data**</span></span>
<span data-ttu-id="3bf8a-146">Esta seção descreve como inserir seus próprios dados no Azure e quais áreas exigiriam alterações nos dados trazidos para essa arquitetura.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-146">This section describes how to bring your own data to Azure, and what areas would require changes for the data you bring into this architecture.</span></span>

<span data-ttu-id="3bf8a-147">É improvável que algum conjunto de dados que você coloque corresponda ao conjunto de dados usado para esse modelo de solução.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-147">It's unlikely that any dataset you bring would match the dataset used for this solution template.</span></span> <span data-ttu-id="3bf8a-148">Compreender seus dados e os requisitos será fundamental para a forma como você modificará esse modelo para que ele funcione com seus próprios dados.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-148">Understanding your data and the requirements will be crucial in how you modify this template to work with your own data.</span></span> <span data-ttu-id="3bf8a-149">Se esta for sua primeira experiência com o serviço Azure Machine Learning, você poderá obter uma introdução a ele usando o exemplo em [Como criar sua primeira experiência](machine-learning/machine-learning-create-experiment.md).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-149">If this is your first exposure to the Azure Machine Learning service, you can get an introduction to it by using the example in [How to create your first experiment](machine-learning/machine-learning-create-experiment.md).</span></span>

<span data-ttu-id="3bf8a-150">As seções a seguir discutirão as seções do modelo que exigirão modificações quando um novo conjunto de dados for introduzido.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-150">The following sections will discuss the sections of the template that will require modifications when a new dataset is introduced.</span></span>

### <a name="azure-event-hub"></a><span data-ttu-id="3bf8a-151">Hub de Eventos do Azure</span><span class="sxs-lookup"><span data-stu-id="3bf8a-151">Azure Event Hub</span></span>
<span data-ttu-id="3bf8a-152">O serviço [Hub de Eventos do Azure](https://azure.microsoft.com/services/event-hubs/) é muito genérico, já que esses dados podem ser publicados no hub no formato CSV ou JSON.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-152">The [Azure Event Hub](https://azure.microsoft.com/services/event-hubs/) service is very generic, such that data can be posted to the hub in either CSV or JSON format.</span></span> <span data-ttu-id="3bf8a-153">Não ocorrerá qualquer processamento especial no Hub de Eventos do Azure, mas é importante que você compreenda os dados inseridos nele.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-153">No special processing occurs in the Azure Event Hub, but it is important you understand the data that is fed into it.</span></span>

<span data-ttu-id="3bf8a-154">Este documento não descreve como ingerir seus dados, mas é possível enviar com facilidade eventos ou dados para um Hub de Eventos do Azure usando a [API do Hub de Eventos](event-hubs/event-hubs-programming-guide.md).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-154">This document does not describe how to ingest your data, but one can easily send events or data to an Azure Event Hub, using the [Event Hub API](event-hubs/event-hubs-programming-guide.md).</span></span>

### <a name="azure-stream-analytics"></a><span data-ttu-id="3bf8a-155">Stream Analytics do Azure</span><span class="sxs-lookup"><span data-stu-id="3bf8a-155">Azure Stream Analytics</span></span>
<span data-ttu-id="3bf8a-156">O serviço [Stream Analytics do Azure](https://azure.microsoft.com/services/stream-analytics/) é usado para fornecer uma análise quase em tempo real ao ler os fluxos de dados e produzir como saída dados para várias fontes.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-156">The [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/) service is used to provide near real-time analytics by reading from data streams and outputting data to any number of sources.</span></span>

<span data-ttu-id="3bf8a-157">Para o Modelo de Solução de Previsão de demanda para energia, a consulta do Stream Analytics do Azure é formada por duas subconsultas, cada uma consumindo eventos do serviço Hub de Eventos do Azure e produzindo saídas para dois locais distintos.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-157">For the Demand Forecasting for Energy Solution Template, the Azure Stream Analytics query consists of two sub-queries, each consuming events from the Azure Event Hub service as inputs and having outputs to two distinct locations.</span></span> <span data-ttu-id="3bf8a-158">Essas saídas são formadas por um conjunto de dados do Power BI e em um local do Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-158">These outputs consist of one Power BI dataset and one Azure Storage location.</span></span>

<span data-ttu-id="3bf8a-159">A consulta [Stream Analytics do Azure](https://azure.microsoft.com/services/stream-analytics/) pode ser encontrada:</span><span class="sxs-lookup"><span data-stu-id="3bf8a-159">The [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/) query can be found by:</span></span>

* <span data-ttu-id="3bf8a-160">Entrando no [portal de gerenciamento do Azure](https://manage.windowsazure.com/)</span><span class="sxs-lookup"><span data-stu-id="3bf8a-160">Logging into the [Azure management portal](https://manage.windowsazure.com/)</span></span>
* <span data-ttu-id="3bf8a-161">Localizando os trabalhos do Stream Analytics ![](media/cortana-analytics-technical-guide-demand-forecast/icon-stream-analytics.png) que foram gerados durante a implantação da solução.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-161">Locating the stream analytics jobs ![](media/cortana-analytics-technical-guide-demand-forecast/icon-stream-analytics.png) that were generated when the solution was deployed.</span></span> <span data-ttu-id="3bf8a-162">Um serve para enviar dados ao armazenamento de blobs (por exemplo, mytest1streaming432822asablob) e o outro é para publicar dados no Power BI (por exemplo, mytest1streaming432822asapbi).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-162">One is for pushing data to blob storage (e.g. mytest1streaming432822asablob) and the other one is for pushing data to Power BI (e.g. mytest1streaming432822asapbi).</span></span>
* <span data-ttu-id="3bf8a-163">Seleção</span><span class="sxs-lookup"><span data-stu-id="3bf8a-163">Selecting</span></span>

  * <span data-ttu-id="3bf8a-164">***INPUTS*** para exibir a entrada da consulta</span><span class="sxs-lookup"><span data-stu-id="3bf8a-164">***INPUTS*** to view the query input</span></span>
  * <span data-ttu-id="3bf8a-165">***QUERY*** para exibir a consulta</span><span class="sxs-lookup"><span data-stu-id="3bf8a-165">***QUERY*** to view the query itself</span></span>
  * <span data-ttu-id="3bf8a-166">***OUTPUTS*** para exibir as diferentes saídas</span><span class="sxs-lookup"><span data-stu-id="3bf8a-166">***OUTPUTS*** to view the different outputs</span></span>

<span data-ttu-id="3bf8a-167">As informações sobre a criação da consulta do Stream Analytics do Azure podem ser encontradas em [Stream Analytics Query Reference](https://msdn.microsoft.com/library/azure/dn834998.aspx) , no MSDN.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-167">Information about Azure Stream Analytics query construction can be found in the [Stream Analytics Query Reference](https://msdn.microsoft.com/library/azure/dn834998.aspx) on MSDN.</span></span>

<span data-ttu-id="3bf8a-168">Nesta solução, o trabalho do Stream Analytics do Azure que produz como saída um conjunto de dados com informações de análise quase em tempo real sobre o fluxo de dados de entrada para um painel do Power BI, é fornecido como parte desse modelo de solução.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-168">In this solution, the Azure Stream Analytics job which outputs dataset with near real-time analytics information about the incoming data stream to a Power BI dashboard is provided as part of this solution template.</span></span> <span data-ttu-id="3bf8a-169">Como há um conhecimento implícito sobre o formato de dados de entrada, essas consultas precisariam ser alteradas com base em seu formato de dados.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-169">Because there's implicit knowledge about the incoming data format, these queries would need to be altered based on your data format.</span></span>

<span data-ttu-id="3bf8a-170">O outro trabalho do Stream Analytics do Azure produz todos os eventos do [Hub de Eventos](https://azure.microsoft.com/services/event-hubs/) no [Armazenamento do Azure](https://azure.microsoft.com/services/storage/) e, portanto, não exige alteração, independentemente do formato dos dados, já que as informações completas do evento são transmitidas para o armazenamento.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-170">The other Azure Stream Analytics job outputs all [Event Hub](https://azure.microsoft.com/services/event-hubs/) events to [Azure Storage](https://azure.microsoft.com/services/storage/) and hence requires no alteration regardless of your data format as the full event information is streamed to storage.</span></span>

### <a name="azure-data-factory"></a><span data-ttu-id="3bf8a-171">Fábrica de dados do Azure</span><span class="sxs-lookup"><span data-stu-id="3bf8a-171">Azure Data Factory</span></span>
<span data-ttu-id="3bf8a-172">O serviço [Azure Data Factory](https://azure.microsoft.com/documentation/services/data-factory/) orquestra a movimentação e o processamento dos dados.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-172">The [Azure Data Factory](https://azure.microsoft.com/documentation/services/data-factory/) service orchestrates the movement and processing of data.</span></span> <span data-ttu-id="3bf8a-173">No Modelo de Previsão de Demanda para Solução de Energia, o data factory é composto por 12 [pipelines](data-factory/data-factory-create-pipelines.md) que movem e processam os dados usando diversas tecnologias.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-173">In the Demand Forecasting for Energy Solution Template the data factory is made up of twelve [pipelines](data-factory/data-factory-create-pipelines.md) that move and process the data using various technologies.</span></span>

  <span data-ttu-id="3bf8a-174">Você pode acessar seu data factory abrindo o nó Data Factory na parte inferior do diagrama do modelo de solução criado com a implantação da solução.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-174">You can access your data factory by opening the Data Factory node at the bottom of the solution template diagram created with the deployment of the solution.</span></span> <span data-ttu-id="3bf8a-175">Você será levado ao data factory no portal de gerenciamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-175">This will take you to the data factory on your Azure management portal.</span></span> <span data-ttu-id="3bf8a-176">Se você encontrar erros em seus conjuntos de dados, poderá ignorá-los, já que eles ocorrem porque a implantação do data factory foi anterior ao início do gerador de dados.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-176">If you see errors under your datasets, you can ignore those as they are due to data factory being deployed before the data generator was started.</span></span> <span data-ttu-id="3bf8a-177">Esses erros não impedem o funcionamento do seu data factory.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-177">Those errors do not prevent your data factory from functioning.</span></span>

<span data-ttu-id="3bf8a-178">Esta seção analisa os [pipelines](data-factory/data-factory-create-pipelines.md) e as [atividades](data-factory/data-factory-create-pipelines.md) necessários contidos no [Azure Data Factory](https://azure.microsoft.com/documentation/services/data-factory/).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-178">This section discusses the necessary [pipelines](data-factory/data-factory-create-pipelines.md) and [activities](data-factory/data-factory-create-pipelines.md) contained in the [Azure Data Factory](https://azure.microsoft.com/documentation/services/data-factory/).</span></span> <span data-ttu-id="3bf8a-179">A seguir, o modo de exibição de diagrama da solução.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-179">Below is the diagram view of the solution.</span></span>

![](media/cortana-analytics-technical-guide-demand-forecast/ADF2.png)

<span data-ttu-id="3bf8a-180">Cinco dos pipelines desse data factory contêm scripts do [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) usados para particionar e agregar os dados.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-180">Five of the pipelines of this factory contain [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) scripts that are used to partition and aggregate the data.</span></span> <span data-ttu-id="3bf8a-181">Quando observado o contrário, os scripts estarão localizados na conta do [Armazenamento do Azure](https://azure.microsoft.com/services/storage/) criada durante a instalação.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-181">When noted, the scripts will be located in the [Azure Storage](https://azure.microsoft.com/services/storage/) account created during setup.</span></span> <span data-ttu-id="3bf8a-182">A localização deles será: demandforecasting\\\\script\\\\hive\\\\ (ou https://[nome da sua solução].blob.core.windows.net/demandforecasting).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-182">Their location will be: demandforecasting\\\\script\\\\hive\\\\ (or https://[Your solution name].blob.core.windows.net/demandforecasting).</span></span>

<span data-ttu-id="3bf8a-183">Da mesma forma como nas consultas do [Stream Analytics do Azure](#azure-stream-analytics-1), os scripts do [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) têm um conhecimento implícito sobre o formato dos dados de entrada. Essas consultas precisariam ser alteradas com base em seu formato de dados e nos requisitos da [engenharia de recursos](machine-learning/machine-learning-feature-selection-and-engineering.md).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-183">Similar to the [Azure Stream Analytics](#azure-stream-analytics-1) queries, the [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) scripts have implicit knowledge about the incoming data format, these queries would need to be altered based on your data format and [feature engineering](machine-learning/machine-learning-feature-selection-and-engineering.md) requirements.</span></span>

#### <a name="aggregatedemanddatato1hrpipeline"></a><span data-ttu-id="3bf8a-184">*AggregateDemandDataTo1HrPipeline*</span><span class="sxs-lookup"><span data-stu-id="3bf8a-184">*AggregateDemandDataTo1HrPipeline*</span></span>
<span data-ttu-id="3bf8a-185">Esse [pipeline](data-factory/data-factory-create-pipelines.md) contém uma única atividade – uma atividade [HDInsightHive](data-factory/data-factory-hive-activity.md) usando um [HDInsightLinkedService](https://msdn.microsoft.com/library/azure/dn893526.aspx) que executa um script do [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) para agregar os dados transmitidos sob demanda a cada 10 segundos no nível da subestação ao nível da região por hora e colocá-los no [Armazenamento do Azure](https://azure.microsoft.com/services/storage/) por meio do trabalho do Stream Analytics do Azure.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-185">This [pipeline](data-factory/data-factory-create-pipelines.md) pipeline contains a single activity - an [HDInsightHive](data-factory/data-factory-hive-activity.md) activity using a [HDInsightLinkedService](https://msdn.microsoft.com/library/azure/dn893526.aspx) that runs a [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) script to aggregate the every 10 seconds streamed in demand data in substation level to hourly region level and put in [Azure Storage](https://azure.microsoft.com/services/storage/) through the Azure Stream Analytics job.</span></span>

<span data-ttu-id="3bf8a-186">O script do [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) para essa tarefa de particionamento é ***AggregateDemandRegion1Hr.hql***</span><span class="sxs-lookup"><span data-stu-id="3bf8a-186">The [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) script for this partitioning task is ***AggregateDemandRegion1Hr.hql***</span></span>

#### <a name="loadhistorydemanddatapipeline"></a><span data-ttu-id="3bf8a-187">*LoadHistoryDemandDataPipeline*</span><span class="sxs-lookup"><span data-stu-id="3bf8a-187">*LoadHistoryDemandDataPipeline*</span></span>
<span data-ttu-id="3bf8a-188">Esse [pipeline](data-factory/data-factory-create-pipelines.md) contém duas atividades:</span><span class="sxs-lookup"><span data-stu-id="3bf8a-188">This [pipeline](data-factory/data-factory-create-pipelines.md) contains two activities:</span></span>

* <span data-ttu-id="3bf8a-189">A atividade [HDInsightHive](data-factory/data-factory-hive-activity.md) usando um [HDInsightLinkedService](https://msdn.microsoft.com/library/azure/dn893526.aspx) que executa um script do Hive para agregar os dados de demanda de histórico por hora no nível da subestação ao nível da região por hora e colocá-los no Armazenamento do Azure durante o trabalho do Stream Analytics do Azure</span><span class="sxs-lookup"><span data-stu-id="3bf8a-189">[HDInsightHive](data-factory/data-factory-hive-activity.md) activity using a [HDInsightLinkedService](https://msdn.microsoft.com/library/azure/dn893526.aspx) that runs a  Hive script to aggregate the hourly history demand data in substation level to hourly region level and put in Azure Storage during the Azure Stream Analytics job</span></span>
* <span data-ttu-id="3bf8a-190">[Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx) que move os dados agregados do Blob de Armazenamento do Azure para o Banco de Dados SQL do Azure provisionado como parte da instalação do modelo de solução.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-190">[Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx) activity that moves the aggregated data from Azure Storage blob to the Azure SQL Database that was provisioned as part of the solution template installation.</span></span>

<span data-ttu-id="3bf8a-191">O script do [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) para essa tarefa é ***AggregateDemandHistoryRegion.hql***.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-191">The [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) script for this task is ***AggregateDemandHistoryRegion.hql***.</span></span>

#### <a name="mlscoringregionxpipeline"></a><span data-ttu-id="3bf8a-192">*MLScoringRegionXPipeline*</span><span class="sxs-lookup"><span data-stu-id="3bf8a-192">*MLScoringRegionXPipeline*</span></span>
<span data-ttu-id="3bf8a-193">Esses [pipelines](data-factory/data-factory-create-pipelines.md) contêm várias atividades cujos resultados finais são as previsões pontuadas do experimento do Azure Machine Learning associadas a esse modelo de solução.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-193">These [pipelines](data-factory/data-factory-create-pipelines.md) contain several activities and whose end result is the scored predictions from the Azure Machine Learning experiment associated with this solution template.</span></span> <span data-ttu-id="3bf8a-194">Eles são quase idênticos, exceto pelo fato de que cada um trata apenas da região diferente, que está sendo concluída por uma RegionID diferente passada no pipeline do ADF e no script do Hive para cada região.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-194">They are almost identical except each of them only handles the different region which is being done by different RegionID passed in the ADF pipeline and the hive script for each region.</span></span>  
<span data-ttu-id="3bf8a-195">As atividades contidas aqui são:</span><span class="sxs-lookup"><span data-stu-id="3bf8a-195">The activities contained in this are:</span></span>

* <span data-ttu-id="3bf8a-196">A atividade [HDInsightHive](data-factory/data-factory-hive-activity.md) usando um [HDInsightLinkedService](https://msdn.microsoft.com/library/azure/dn893526.aspx) que executa um script do Hive para realizar as agregações e os recursos de engenharia necessários para o experimento do Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-196">[HDInsightHive](data-factory/data-factory-hive-activity.md) activity using a [HDInsightLinkedService](https://msdn.microsoft.com/library/azure/dn893526.aspx) that runs a  Hive script to perform aggregations and feature engineering necessary for the Azure Machine Learning experiment.</span></span> <span data-ttu-id="3bf8a-197">Os scripts do Hive para essa tarefa são os respectivos ***PrepareMLInputRegionX.hql***.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-197">The Hive scripts for this task are respective ***PrepareMLInputRegionX.hql***.</span></span>
* <span data-ttu-id="3bf8a-198">A atividade [Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx), que move os resultados da atividade [HDInsightHive](data-factory/data-factory-hive-activity.md) para um único Azure Storage Blob, que pode ser acessado pela atividade [AzureMLBatchScoring](https://msdn.microsoft.com/library/azure/dn894009.aspx).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-198">[Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx) activity that moves the results from the [HDInsightHive](data-factory/data-factory-hive-activity.md) activity to a single Azure Storage blob that can be access by the  [AzureMLBatchScoring](https://msdn.microsoft.com/library/azure/dn894009.aspx) activity.</span></span>
* <span data-ttu-id="3bf8a-199">
            [AzureMLBatchScoring](https://msdn.microsoft.com/library/azure/dn894009.aspx) , que chama o experimento do Azure Machine Learning, que faz com que os resultados sejam colocados em um único blob de Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-199">[AzureMLBatchScoring](https://msdn.microsoft.com/library/azure/dn894009.aspx) activity that calls the Azure Machine Learning experiment which results in the results being put in a single Azure Storage blob.</span></span>

#### <a name="copyscoredresultregionxpipeline"></a><span data-ttu-id="3bf8a-200">*CopyScoredResultRegionXPipeline*</span><span class="sxs-lookup"><span data-stu-id="3bf8a-200">*CopyScoredResultRegionXPipeline*</span></span>
<span data-ttu-id="3bf8a-201">Esses [pipelines](data-factory/data-factory-create-pipelines.md) contêm uma única atividade – uma atividade [Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx) que move os resultados do experimento do Azure Machine Learning do respectivo ***MLScoringRegionXPipeline*** para o Banco de Dados SQL do Azure que foi provisionado como parte da instalação do modelo de solução.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-201">These [pipelines](data-factory/data-factory-create-pipelines.md) contain a single activity - a [Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx) activity that moves the results of the Azure Machine Learning experiment from the respective ***MLScoringRegionXPipeline*** to the Azure SQL Database that was provisioned as part of the solution template installation.</span></span>

#### <a name="copyaggdemandpipeline"></a><span data-ttu-id="3bf8a-202">*CopyAggDemandPipeline*</span><span class="sxs-lookup"><span data-stu-id="3bf8a-202">*CopyAggDemandPipeline*</span></span>
<span data-ttu-id="3bf8a-203">Esses [pipelines](data-factory/data-factory-create-pipelines.md) contêm uma única atividade – uma atividade [Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx) que move os dados de demanda contínua agregados do ***LoadHistoryDemandDataPipeline*** para o Banco de Dados SQL do Azure que foi provisionado como parte da instalação do modelo de solução.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-203">This [pipelines](data-factory/data-factory-create-pipelines.md) contain a single activity - a [Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx) activity that moves the aggregated ongoing demand data from ***LoadHistoryDemandDataPipeline*** to the Azure SQL Database that was provisioned as part of the solution template installation.</span></span>

#### <a name="copyregiondatapipeline-copysubstationdatapipeline-copytopologydatapipeline"></a><span data-ttu-id="3bf8a-204">*CopyRegionDataPipeline, CopySubstationDataPipeline, CopyTopologyDataPipeline*</span><span class="sxs-lookup"><span data-stu-id="3bf8a-204">*CopyRegionDataPipeline, CopySubstationDataPipeline, CopyTopologyDataPipeline*</span></span>
<span data-ttu-id="3bf8a-205">Esses [pipelines](data-factory/data-factory-create-pipelines.md) contêm uma única atividade – uma atividade [Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx) que move os dados de referência da Região/Subestação/Geotopologia que são carregados no Azure Storage Blob como parte da instalação do modelo de solução para o Banco de Dados SQL que foi provisionado como parte da instalação do modelo de solução.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-205">These [pipelines](data-factory/data-factory-create-pipelines.md) contain a single activity - a [Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx) activity that moves the reference data of Region/Substation/Topologygeo that are uploaded to Azure Storage blob as part of the solution template installation to the Azure SQL Database that was provisioned as part of the solution template installation.</span></span>

### <a name="azure-machine-learning"></a><span data-ttu-id="3bf8a-206">Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="3bf8a-206">Azure Machine Learning</span></span>
<span data-ttu-id="3bf8a-207">O experimento do [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) usado para esse modelo de solução fornece a previsão de demanda da região.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-207">The [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) experiment used for this solution template provides the prediction of demand of region.</span></span> <span data-ttu-id="3bf8a-208">O experimento é específico ao conjunto de dados consumido e, portanto, exigirá modificação ou substituição específica para os dados trazidos.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-208">The experiment is specific to the data set consumed and therefore will require modification or replacement specific to the data that is brought in.</span></span>

## <a name="monitor-progress"></a><span data-ttu-id="3bf8a-209">**Monitorar o progresso**</span><span class="sxs-lookup"><span data-stu-id="3bf8a-209">**Monitor Progress**</span></span>
<span data-ttu-id="3bf8a-210">Depois que o Gerador de Dados é iniciado, o pipeline começa a obter os hidratados e os diferentes componentes de sua solução começam a entrar em ação seguindo os comandos emitidos pelo Data Factory.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-210">Once the Data Generator is launched, the pipeline begins to get hydrated and the different components of your solution start kicking into action following the commands issued by the Data Factory.</span></span> <span data-ttu-id="3bf8a-211">Há duas maneiras possíveis de monitorar o pipeline.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-211">There are two ways you can monitor the pipeline.</span></span>

1. <span data-ttu-id="3bf8a-212">Verificar os dados do Armazenamento de Blobs do Azure</span><span class="sxs-lookup"><span data-stu-id="3bf8a-212">Check the data from Azure Blob Storage.</span></span>

    <span data-ttu-id="3bf8a-213">Um dos trabalhos do Stream Analytics grava os dados brutos de entrada no armazenamento de blobs.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-213">One of the Stream Analytics job writes the raw incoming data to blob storage.</span></span> <span data-ttu-id="3bf8a-214">Se você clicar no componente **Armazenamento de Blobs do Azure** de sua solução na tela na qual implantou a solução com êxito e clicar em **Abrir** no painel à direita, irá para o [Portal de Gerenciamento do Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-214">If you click on **Azure Blob Storage** component of your solution from the screen you successfully deployed the solution and then click **Open** in the right panel, it will take you to the [Azure management portal](https://portal.azure.com).</span></span> <span data-ttu-id="3bf8a-215">Uma vez lá, clique em **Blobs**.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-215">Once there, click on **Blobs**.</span></span> <span data-ttu-id="3bf8a-216">No painel seguinte, você verá uma lista de Contêineres.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-216">In the next panel, you will see a list of Containers.</span></span> <span data-ttu-id="3bf8a-217">Clique em **"energysadata"**.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-217">Click on **"energysadata"**.</span></span> <span data-ttu-id="3bf8a-218">No painel seguinte, você verá a pasta **"demandongoing"**.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-218">In the next panel, you will see the **"demandongoing"** folder.</span></span> <span data-ttu-id="3bf8a-219">Dentro da pasta rawdata, você verá pastas com nomes como date=2016-01-28 etc. Caso você visualize essas pastas, isso indica que os dados brutos estão sendo gerados com êxito no computador e armazenados no armazenamento de blobs.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-219">Inside the rawdata folder, you will see folders with names such as date=2016-01-28 etc. If you see these folders, it indicates that the raw data is successfully being generated on your computer and stored in blob storage.</span></span> <span data-ttu-id="3bf8a-220">Você deverá ver arquivos com tamanhos finitos em MB nessas pastas.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-220">You should see files that should have finite sizes in MB in those folders.</span></span>
2. <span data-ttu-id="3bf8a-221">Verifique os dados do Banco de Dados SQL do Azure.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-221">Check the data from Azure SQL Database.</span></span>

    <span data-ttu-id="3bf8a-222">A última etapa do pipeline é gravar dados (por exemplo, previsões do aprendizado de máquina) no Banco de Dados SQL.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-222">The last step of the pipeline is to write data (e.g. predictions from machine learning) into SQL Database.</span></span> <span data-ttu-id="3bf8a-223">Talvez seja necessário esperar até duas horas no máximo para que os dados apareçam no Banco de Dados SQL.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-223">You might have to wait a maximum of 2 hours for the data to appear in SQL Database.</span></span> <span data-ttu-id="3bf8a-224">Uma forma de monitorar o volume de dados disponível no Banco de Dados SQL é pelo [portal de gerenciamento do Azure](https://manage.windowsazure.com/).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-224">One way to monitor how much data is available in your SQL Database is through [Azure management portal](https://manage.windowsazure.com/).</span></span> <span data-ttu-id="3bf8a-225">No painel à esquerda, localize BANCOS DE DADOS SQL![](media/cortana-analytics-technical-guide-demand-forecast/SQLicon2.png) e clique.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-225">On the left panel locate SQL DATABASES![](media/cortana-analytics-technical-guide-demand-forecast/SQLicon2.png)  and click it.</span></span> <span data-ttu-id="3bf8a-226">Em seguida, localize seu banco de dados (ou seja, demo123456db) e clique nele.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-226">Then locate your database (i.e. demo123456db) and click on it.</span></span> <span data-ttu-id="3bf8a-227">Na próxima página, na seção **"Conectar seu banco de dados"**, clique em **"Executar Consultas Transact-SQL em seu Banco de Dados SQL"**.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-227">On the next page under **"Connect to your database"** section, click **"Run Transact-SQL queries against your SQL database"**.</span></span>

    <span data-ttu-id="3bf8a-228">Aqui, você poderá clicar em Nova Consulta e consultar o número de linhas (por exemplo, "select count(*) de DemandRealHourly)". À medida que seu banco de dados cresce, o número de linhas na tabela aumenta).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-228">Here, you can click on New Query and query for the number of rows (e.g. "select count(*) from DemandRealHourly)" As your database grows, the number of rows in the table should increase.)</span></span>
3. <span data-ttu-id="3bf8a-229">Verifique os dados no painel do Power BI.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-229">Check the data from Power BI dashboard.</span></span>

    <span data-ttu-id="3bf8a-230">Você pode configurar o painel de afunilamento do Power BI para monitorar os dados brutos de entrada.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-230">You can set up Power BI hot path dashboard to monitor the raw incoming data.</span></span> <span data-ttu-id="3bf8a-231">Siga as instruções na seção "Painel do Power BI".</span><span class="sxs-lookup"><span data-stu-id="3bf8a-231">Please follow the instruction in the "Power BI Dashboard" section.</span></span>

## <a name="power-bi-dashboard"></a><span data-ttu-id="3bf8a-232">**Painel do Power BI**</span><span class="sxs-lookup"><span data-stu-id="3bf8a-232">**Power BI Dashboard**</span></span>
### <a name="overview"></a><span data-ttu-id="3bf8a-233">Visão geral</span><span class="sxs-lookup"><span data-stu-id="3bf8a-233">Overview</span></span>
<span data-ttu-id="3bf8a-234">Esta seção descreve como configurar o painel do Power BI para visualizar os dados em tempo real do Stream Analytics do Azure (afunilamento), bem como os resultados de previsão do Aprendizado de Máquina do Azure (dados em lote/caminho frio).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-234">This section describes how to set up Power BI dashboard to visualize your real time data from Azure stream analytics (hot path), as well as forecast results from Azure machine learning (cold path).</span></span>

### <a name="setup-hot-path-dashboard"></a><span data-ttu-id="3bf8a-235">Configurar o painel de afunilamento</span><span class="sxs-lookup"><span data-stu-id="3bf8a-235">Setup Hot Path Dashboard</span></span>
<span data-ttu-id="3bf8a-236">As etapas a seguir mostrarão como visualizar a saída de dados em tempo real de trabalhos do Stream Analytics gerados no momento da implantação da solução.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-236">The following steps will guide you how to visualize real time data output from Stream Analytics jobs that were generated at the time of solution deployment.</span></span> <span data-ttu-id="3bf8a-237">Será necessária uma conta do [Power BI online](http://www.powerbi.com/) para executar as etapas a seguir.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-237">A [Power BI online](http://www.powerbi.com/) account is required to perform the following steps.</span></span> <span data-ttu-id="3bf8a-238">Se não tiver uma conta, você poderá [criar uma](https://powerbi.microsoft.com/pricing).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-238">If you don't have an account, you can [create one](https://powerbi.microsoft.com/pricing).</span></span>

1. <span data-ttu-id="3bf8a-239">Adicione a saída do Power BI ao Stream Analytics (ASA).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-239">Add Power BI output in Azure Stream Analytics (ASA).</span></span>

   * <span data-ttu-id="3bf8a-240">Você precisará seguir as instruções em [Stream Analytics do Azure e Power BI: um painel de análise em tempo real para a visibilidade em tempo real dos dados de streaming](stream-analytics/stream-analytics-power-bi-dashboard.md) para configurar a saída do seu trabalho do Stream Analytics do Azure como seu painel do Power BI.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-240">You will need to follow the instructions in [Azure Stream Analytics & Power BI: A real-time analytics dashboard for real-time visibility of streaming data](stream-analytics/stream-analytics-power-bi-dashboard.md) to set up the output of your Azure Stream Analytics job as your Power BI dashboard.</span></span>
   * <span data-ttu-id="3bf8a-241">Localize o trabalho do stream analytics em seu [portal de gerenciamento do Azure](https://manage.windowsazure.com).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-241">Locate the stream analytics job in your [Azure management portal](https://manage.windowsazure.com).</span></span> <span data-ttu-id="3bf8a-242">O nome do trabalho deve ser: NomeSolução+"trabalhostreaming"+número aleatório+"asapbi" (ou seja, demostreamingjob123456asapbi).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-242">The name of the job should be: YourSolutionName+"streamingjob"+random number+"asapbi" (i.e. demostreamingjob123456asapbi).</span></span>
   * <span data-ttu-id="3bf8a-243">Adicione uma saída do Power BI para o trabalho do ASA.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-243">Add a PowerBI output for the ASA job.</span></span> <span data-ttu-id="3bf8a-244">Defina o **Alias de Saída** como **‘PBIoutput’**.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-244">Set the **Output Alias** as **‘PBIoutput’**.</span></span> <span data-ttu-id="3bf8a-245">Defina o **Nome do Conjunto de Dados** e o **Nome da Tabela** como **‘EnergyStreamData’**.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-245">Set your **Dataset Name** and **Table Name** as **‘EnergyStreamData’**.</span></span> <span data-ttu-id="3bf8a-246">Depois de adicionar a saída, clique em **"Iniciar"** na parte inferior da página para iniciar o trabalho do Stream Analytics.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-246">Once you have added the output, click **"Start"** at the bottom of the page to start the Stream Analytics job.</span></span> <span data-ttu-id="3bf8a-247">Você deverá receber uma mensagem de confirmação (*por exemplo*, "Iniciando o trabalho do stream analytics myteststreamingjob12345asablob com êxito").</span><span class="sxs-lookup"><span data-stu-id="3bf8a-247">You should get a confirmation message (*e.g.*, "Starting stream analytics job myteststreamingjob12345asablob succeeded").</span></span>
2. <span data-ttu-id="3bf8a-248">Faça logon no [Power BI online](http://www.powerbi.com)</span><span class="sxs-lookup"><span data-stu-id="3bf8a-248">Log in to [Power BI online](http://www.powerbi.com)</span></span>

   * <span data-ttu-id="3bf8a-249">Na seção Conjuntos de Dados do painel esquerdo em Meu Espaço de Trabalho, você deverá ver um novo conjunto de dados no painel esquerdo do Power BI.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-249">On the left panel Datasets section in My Workspace, you should be able to see a new dataset showing on the left panel of Power BI.</span></span> <span data-ttu-id="3bf8a-250">Esses são os dados de streaming enviados do Stream Analytics do Azure na etapa anterior.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-250">This is the streaming data you pushed from Azure Stream Analytics in the previous step.</span></span>
   * <span data-ttu-id="3bf8a-251">Verifique se o painel ***Visualizações*** está aberto e se é mostrado no lado direito da tela.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-251">Make sure the ***Visualizations*** pane is open and is shown on the right side of the screen.</span></span>
3. <span data-ttu-id="3bf8a-252">Crie o bloco "Demanda por Carimbo de Data/Hora":</span><span class="sxs-lookup"><span data-stu-id="3bf8a-252">Create the "Demand by Timestamp" tile:</span></span>

   * <span data-ttu-id="3bf8a-253">Clique no conjunto de dados **'EnergyStreamData'** na seção Conjuntos de Dados do painel à esquerda.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-253">Click dataset **‘EnergyStreamData’** on the left panel Datasets section.</span></span>
   * <span data-ttu-id="3bf8a-254">Clique no ícone **"Gráfico de Linhas"**![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic8.png).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-254">Click **"Line Chart"** icon ![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic8.png).</span></span>
   * <span data-ttu-id="3bf8a-255">Clique em 'EnergyStreamData' no painel **Campos** .</span><span class="sxs-lookup"><span data-stu-id="3bf8a-255">Click ‘EnergyStreamData’ in **Fields** panel.</span></span>
   * <span data-ttu-id="3bf8a-256">Clique em **“Timestamp”** e verifique se isso é exibido em "Eixo".</span><span class="sxs-lookup"><span data-stu-id="3bf8a-256">Click **“Timestamp”** and make sure it shows under "Axis".</span></span> <span data-ttu-id="3bf8a-257">Clique em **"Carregar"** e verifique se isso é exibido em "Valores".</span><span class="sxs-lookup"><span data-stu-id="3bf8a-257">Click **“Load”** and make sure it shows under "Values".</span></span>
   * <span data-ttu-id="3bf8a-258">Clique em **SALVAR** na parte superior e nomeie o relatório como "EnergyStreamDataReport".</span><span class="sxs-lookup"><span data-stu-id="3bf8a-258">Click **SAVE** on the top and name the report as “EnergyStreamDataReport”.</span></span> <span data-ttu-id="3bf8a-259">O relatório chamado "EnergyStreamDataReport" será exibido na seção Relatórios do painel Navegador à esquerda.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-259">The report named “EnergyStreamDataReport” will be shown in Reports section in the Navigator pane on left.</span></span>
   * <span data-ttu-id="3bf8a-260">Clique no ícone **"Fixação Visual"**![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic6.png) no canto superior direito deste gráfico de linha; uma janela "Fixar no Painel" pode aparecer para que você escolha um painel.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-260">Click **“Pin Visual”**![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic6.png) icon on top right corner of this line chart, a "Pin to Dashboard" window may show up for you to choose a dashboard.</span></span> <span data-ttu-id="3bf8a-261">Selecione "EnergyStreamDataReport" e clique em "Fixar".</span><span class="sxs-lookup"><span data-stu-id="3bf8a-261">Please select "EnergyStreamDataReport", then click "Pin".</span></span>
   * <span data-ttu-id="3bf8a-262">Passe o mouse sobre esse bloco no painel, clique no ícone "editar" no canto superior direito para alterar seu título para "Demandar por Carimbo de Data/Hora"</span><span class="sxs-lookup"><span data-stu-id="3bf8a-262">Hover the mouse over this tile on the dashboard, click "edit" icon on top right corner to change its title as "Demand by Timestamp"</span></span>
4. <span data-ttu-id="3bf8a-263">Crie outros blocos de painel com base em conjuntos de dados apropriados.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-263">Create other dashboard tiles based on appropriate datasets.</span></span> <span data-ttu-id="3bf8a-264">A exibição final do painel é mostrada abaixo.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-264">The final dashboard view is shown below.</span></span>
     ![](media/cortana-analytics-technical-guide-demand-forecast/PBIFullScreen.png)

### <a name="setup-cold-path-dashboard"></a><span data-ttu-id="3bf8a-265">Configurar o painel de caminho frio</span><span class="sxs-lookup"><span data-stu-id="3bf8a-265">Setup Cold Path Dashboard</span></span>
<span data-ttu-id="3bf8a-266">No pipeline de dados de caminho frio, o principal objetivo é obter a previsão de demanda de cada região.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-266">In cold path data pipeline, the essential goal is to get the demand forecast of each region.</span></span> <span data-ttu-id="3bf8a-267">O Power BI se conecta a um banco de dados SQL do Azure como fonte de dados, onde os resultados de previsão são armazenados.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-267">Power BI connects to an Azure SQL database as its data source, where the prediction results are stored.</span></span>

> [!NOTE]
> 1) <span data-ttu-id="3bf8a-268">Demora algumas horas para coletar resultados de previsão suficientes para o painel.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-268">It takes few hours to collect enough forecast results for the dashboard.</span></span> <span data-ttu-id="3bf8a-269">Recomendamos o início desse processo duas a três horas após a inicialização do gerador de dados.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-269">We recommend you start this process 2-3 hours after you lunch the data generator.</span></span> <span data-ttu-id="3bf8a-270">2) Nesta etapa, o pré-requisito é baixar e instalar o software gratuito [Power BI desktop](https://powerbi.microsoft.com/desktop).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-270">2) In this step, the prerequisite is to download and install the free software [Power BI desktop](https://powerbi.microsoft.com/desktop).</span></span>
>
>

1. <span data-ttu-id="3bf8a-271">Obtenha as credenciais do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-271">Get the database credentials.</span></span>

   <span data-ttu-id="3bf8a-272">Você precisará do **nome do servidor de banco de dados, nome do banco de dados, nome de usuário e senha** antes de passar para as próximas etapas.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-272">You will need **database server name, database name, user name and password** before moving to next steps.</span></span> <span data-ttu-id="3bf8a-273">Veja algumas etapas para mostrar como encontrá-las.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-273">Here are the steps to guide you how to find them.</span></span>

   * <span data-ttu-id="3bf8a-274">Quando **"Banco de Dados SQL do Azure"** ficar verde no diagrama do modelo da solução, clique nele e em **"Abrir"**.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-274">Once **"Azure SQL Database"** on your solution template diagram turns green, click it and then click **"Open"**.</span></span> <span data-ttu-id="3bf8a-275">Você será orientado até o Portal de Gerenciamento do Azure, e sua página de informações do banco de dados também será aberta.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-275">You will be guided to Azure management portal and your database information page will be opened as well.</span></span>
   * <span data-ttu-id="3bf8a-276">Na página, você pode encontrar uma seção "Banco de dados".</span><span class="sxs-lookup"><span data-stu-id="3bf8a-276">On the page, you can find a "Database" section.</span></span> <span data-ttu-id="3bf8a-277">Ela lista o banco de dados que você criou.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-277">It lists out the database you have created.</span></span> <span data-ttu-id="3bf8a-278">O nome de seu banco de dados deve ser **"Nome Solução + Número Aleatório + db"** (por exemplo, "meuteste12345db").</span><span class="sxs-lookup"><span data-stu-id="3bf8a-278">The name of your database should be **"Your Solution Name + Random Number + 'db'"** (e.g. "mytest12345db").</span></span>
   * <span data-ttu-id="3bf8a-279">Clique em seu banco de dados e, no novo painel pop-up, você encontrará o nome do servidor de banco de dados na parte superior.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-279">Click your database, in the new pop out panel, you can find your database server name on the top.</span></span> <span data-ttu-id="3bf8a-280">O nome do servidor de banco de dados deve ser **“Nome da Solução + Número Aleatório + 'database.windows.net,1433'”** (por exemplo, “mytest12345.database.windows.net,1433”).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-280">Your database server name should be **"Your Solution Name + Random Number + 'database.windows.net,1433'"** (e.g. "mytest12345.database.windows.net,1433").</span></span>
   * <span data-ttu-id="3bf8a-281">O **nome de usuário** e a **senha** do banco de dados são iguais ao nome de usuário e a senha previamente gravados durante a implantação da solução.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-281">Your database **username** and **password** are the same as the username and password previously recorded during deployment of the solution.</span></span>
2. <span data-ttu-id="3bf8a-282">Atualizar a fonte de dados do arquivo de dados em lote (caminho frio) do Power BI</span><span class="sxs-lookup"><span data-stu-id="3bf8a-282">Update the data source of the cold path Power BI file</span></span>

   * <span data-ttu-id="3bf8a-283">Verifique se você instalou a versão mais recente do [Power BI desktop](https://powerbi.microsoft.com/desktop).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-283">Make sure you have installed the latest version of [Power BI desktop](https://powerbi.microsoft.com/desktop).</span></span>
   * <span data-ttu-id="3bf8a-284">Na pasta **"DemandForecastingDataGeneratorv1.0"** que você baixou, clique duas vezes no arquivo **"Power BI Template\DemandForecastPowerBI.pbix"**.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-284">In the **"DemandForecastingDataGeneratorv1.0"** folder you downloaded, double click the **‘Power BI Template\DemandForecastPowerBI.pbix’** file.</span></span> <span data-ttu-id="3bf8a-285">As visualizações inicias se baseiam em dados fictícios.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-285">The initial visualizations are based on dummy data.</span></span> <span data-ttu-id="3bf8a-286">**Observação:** se você vir uma mensagem de erro, verifique se instalou a versão mais recente do Power BI Desktop.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-286">**Note:** If you see an error massage, please make sure you have installed the latest version of Power BI Desktop.</span></span>

     <span data-ttu-id="3bf8a-287">Depois de abri-lo, na parte superior do arquivo, clique em **’Editar Consultas’**.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-287">Once you open it, on the top of the file, click **‘Edit Queries’**.</span></span> <span data-ttu-id="3bf8a-288">Na janela pop-up, clique duas vezes em **’Fonte’** no painel à direita.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-288">In the pop out window, double click **‘Source’** on the right panel.</span></span>
     ![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic1.png)
   * <span data-ttu-id="3bf8a-289">Na janela aberta, substitua **"Servidor"** e **"Banco de Dados"** por seus próprios nomes do servidor e do banco de dados e clique em **"OK"**.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-289">In the pop out window, replace **"Server"** and **"Database"** with your own server and database names, and then click **"OK"**.</span></span> <span data-ttu-id="3bf8a-290">Para o nome do servidor, especifique a porta 1433 (**NomeSolução.database.windows.net, 1433**).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-290">For server name, make sure you specify the port 1433 (**YourSolutionName.database.windows.net, 1433**).</span></span> <span data-ttu-id="3bf8a-291">Ignore as mensagens de aviso que aparecem na tela.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-291">Ignore the warning messages that appear on the screen.</span></span>
   * <span data-ttu-id="3bf8a-292">Na próxima janela aberta, você verá duas opções no painel à esquerda (**Windows** e **Banco de Dados**).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-292">In the next pop out window, you'll see two options on the left pane (**Windows** and **Database**).</span></span> <span data-ttu-id="3bf8a-293">Clique em **"Banco de Dados"**, preencha o **"Nome de usuário"** e a **"Senha"** (são o nome de usuário e a senha inseridos quando você implantou pela primeira vez a solução e criou um Banco de Dados SQL do Azure).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-293">Click **"Database"**, fill in your **"Username"** and **"Password"** (this is the username and password you entered when you first deployed the solution and created an Azure SQL database).</span></span> <span data-ttu-id="3bf8a-294">Em ***Selecione o nível no qual aplicar essas configurações***, marque a opção do nível do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-294">In ***Select which level to apply these settings to***, check database level option.</span></span> <span data-ttu-id="3bf8a-295">Clique em **"Conectar"**.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-295">Then click **"Connect"**.</span></span>
   * <span data-ttu-id="3bf8a-296">Depois de ser guiado de volta à página anterior, feche a janela.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-296">Once you're guided back to the previous page, close the window.</span></span> <span data-ttu-id="3bf8a-297">Será exibida uma mensagem - clique em **Aplicar**.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-297">A message will pop out - click **Apply**.</span></span> <span data-ttu-id="3bf8a-298">Por fim, clique no botão **Salvar** para salvar as alterações.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-298">Lastly, click the **Save** button to save the changes.</span></span> <span data-ttu-id="3bf8a-299">Seu arquivo do Power BI agora estabeleceu uma conexão com o servidor.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-299">Your Power BI file has now established connection to the server.</span></span> <span data-ttu-id="3bf8a-300">Se suas visualizações estiverem vazias, limpe as seleções nas visualizações para visualizar todos os dados clicando no ícone de borracha no canto superior direito das legendas.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-300">If your visualizations are empty, make sure you clear the selections on the visualizations to visualize all the data by clicking the eraser icon on the upper right corner of the legends.</span></span> <span data-ttu-id="3bf8a-301">Use o botão de atualização para refletir os novos dados nas visualizações.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-301">Use the refresh button to reflect new data on the visualizations.</span></span> <span data-ttu-id="3bf8a-302">Inicialmente, você só verá os dados de propagação em suas visualizações, já que a atualização do Data Factory está agendada para a cada três horas.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-302">Initially, you will only see the seed data on your visualizations as the data factory is scheduled to refresh every 3 hours.</span></span> <span data-ttu-id="3bf8a-303">Após três horas, você verá novas previsões refletidas nas visualizações quando atualizar os dados.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-303">After 3 hours, you will see new predictions reflected in your visualizations when you refresh the data.</span></span>
3. <span data-ttu-id="3bf8a-304">(Opcional) Publique o painel de caminho frio no [Power BI online](http://www.powerbi.com/).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-304">(Optional) Publish the cold path dashboard to [Power BI online](http://www.powerbi.com/).</span></span> <span data-ttu-id="3bf8a-305">Observe que esta etapa precisa de uma conta do Power BI (ou de uma conta do Office 365).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-305">Note that this step needs a Power BI account (or Office 365 account).</span></span>

   * <span data-ttu-id="3bf8a-306">Clique em **"Publicar"** e, depois de alguns segundos, será exibida uma janela mostrando "Êxito ao publicar no Power BI!".</span><span class="sxs-lookup"><span data-stu-id="3bf8a-306">Click **"Publish"** and few seconds later a window appears displaying "Publishing to Power BI Success!"</span></span> <span data-ttu-id="3bf8a-307">com uma marca de seleção verde.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-307">with a green check mark.</span></span> <span data-ttu-id="3bf8a-308">Clique no link abaixo "Abrir demoprediction.pbix abrir no Power BI".</span><span class="sxs-lookup"><span data-stu-id="3bf8a-308">Click the link below "Open demoprediction.pbix in Power BI".</span></span> <span data-ttu-id="3bf8a-309">Para obter instruções detalhadas, consulte [Publicar do Power BI Desktop](https://support.powerbi.com/knowledgebase/articles/461278-publish-from-power-bi-desktop).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-309">To find detailed instructions, see [Publish from Power BI Desktop](https://support.powerbi.com/knowledgebase/articles/461278-publish-from-power-bi-desktop).</span></span>
   * <span data-ttu-id="3bf8a-310">Para criar um novo painel: clique no sinal **+** ao lado da seção **Painéis** no painel à esquerda.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-310">To create a new dashboard: click the **+** sign next to the **Dashboards** section on the left pane.</span></span> <span data-ttu-id="3bf8a-311">Insira o nome "Demonstração de previsão de demanda" para esse novo painel.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-311">Enter the name "Demand Forecasting Demo" for this new dashboard.</span></span>
   * <span data-ttu-id="3bf8a-312">Depois de abrir o relatório, clique em ![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic6.png) para fixar todas as visualizações no painel.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-312">Once you open the report, click ![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic6.png) to pin all the visualizations to your dashboard.</span></span> <span data-ttu-id="3bf8a-313">Para obter instruções detalhadas, confira [Fixar um bloco em um painel do Power BI por meio de um relatório](https://support.powerbi.com/knowledgebase/articles/430323-pin-a-tile-to-a-power-bi-dashboard-from-a-report).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-313">To find detailed instructions, see [Pin a tile to a Power BI dashboard from a report](https://support.powerbi.com/knowledgebase/articles/430323-pin-a-tile-to-a-power-bi-dashboard-from-a-report).</span></span>
     <span data-ttu-id="3bf8a-314">Vá para a página do painel e ajuste o tamanho e o local de suas visualizações e edite os títulos delas.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-314">Go to the dashboard page and adjust the size and location of your visualizations and edit their titles.</span></span> <span data-ttu-id="3bf8a-315">Para obter instruções detalhadas sobre como editar seus blocos, confira [Editar um bloco — redimensionar, mover, renomear, fixar, excluir, adicionar hiperlink](https://powerbi.microsoft.com/documentation/powerbi-service-edit-a-tile-in-a-dashboard/#rename).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-315">To find detailed instructions on how to edit your tiles, see [Edit a tile -- resize, move, rename, pin, delete, add hyperlink](https://powerbi.microsoft.com/documentation/powerbi-service-edit-a-tile-in-a-dashboard/#rename).</span></span> <span data-ttu-id="3bf8a-316">Veja um painel de exemplo com algumas visualizações de caminho frio fixadas nele.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-316">Here is an example dashboard with some cold path visualizations pinned to it.</span></span>

     ![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic7.png)
4. <span data-ttu-id="3bf8a-317">(Opcional) Agendar a atualização da fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-317">(Optional) Schedule refresh of the data source.</span></span>

   * <span data-ttu-id="3bf8a-318">Para agendar a atualização dos dados, passe o mouse sobre o conjunto de dados **EnergyBPI-Final**, clique em ![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic3.png) e escolha **Agendar Atualização**.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-318">To schedule refresh of the data, hover your mouse over the **EnergyBPI-Final** dataset, click ![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic3.png) and then choose **Schedule Refresh**.</span></span>
     <span data-ttu-id="3bf8a-319">**Observação:** se for exibida uma mensagem de aviso, clique em **Editar Credenciais** e verifique se suas credenciais do banco de dados são iguais às descritas na etapa 1.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-319">**Note:** If you see a warning massage, click **Edit Credentials** and make sure your database credentials are the same as those described in step 1.</span></span>

     ![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic4.png)
   * <span data-ttu-id="3bf8a-320">Expanda a seção **Agendar Atualização** .</span><span class="sxs-lookup"><span data-stu-id="3bf8a-320">Expand the **Schedule Refresh** section.</span></span> <span data-ttu-id="3bf8a-321">Ative "manter os dados atualizados".</span><span class="sxs-lookup"><span data-stu-id="3bf8a-321">Turn on "keep your data up-to-date".</span></span>
   * <span data-ttu-id="3bf8a-322">Agende a atualização com base em suas necessidades.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-322">Schedule the refresh based on your needs.</span></span> <span data-ttu-id="3bf8a-323">Para saber mais, consulte [Atualizar dados no Power BI](https://powerbi.microsoft.com/documentation/powerbi-refresh-data/).</span><span class="sxs-lookup"><span data-stu-id="3bf8a-323">To find more information, see [Data refresh in Power BI](https://powerbi.microsoft.com/documentation/powerbi-refresh-data/).</span></span>

## <a name="how-to-delete-your-solution"></a><span data-ttu-id="3bf8a-324">**Como excluir a solução**</span><span class="sxs-lookup"><span data-stu-id="3bf8a-324">**How to delete your solution**</span></span>
<span data-ttu-id="3bf8a-325">Não se esqueça de parar o gerador de dados quando não estiver usando ativamente a solução, pois a execução dele incorrerá em custos mais altos.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-325">Please ensure that you stop the data generator when not actively using the solution as running the data generator will incur higher costs.</span></span> <span data-ttu-id="3bf8a-326">Se não estiver usando a solução, exclua-a.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-326">Please delete the solution if you are not using it.</span></span> <span data-ttu-id="3bf8a-327">A exclusão da solução excluirá todos os componentes provisionados em sua assinatura quando você implantou a solução.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-327">Deleting your solution will delete all the components provisioned in your subscription when you deployed the solution.</span></span> <span data-ttu-id="3bf8a-328">Para excluir a solução, clique com botão no nome da solução no painel esquerdo do modelo de solução e clique em Excluir.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-328">To delete the solution click on your solution name in the left panel of the solution template and click on delete.</span></span>

## <a name="cost-estimation-tools"></a><span data-ttu-id="3bf8a-329">**Ferramentas de estimativa de custo**</span><span class="sxs-lookup"><span data-stu-id="3bf8a-329">**Cost Estimation Tools**</span></span>
<span data-ttu-id="3bf8a-330">As duas ferramentas a seguir estão disponíveis para ajudar você a entender melhor os custos totais envolvidos do Modelo de Solução de Previsão de demanda para energia em sua assinatura:</span><span class="sxs-lookup"><span data-stu-id="3bf8a-330">The following two tools are available to help you better understand the total costs involved in running the Demand Forecasting for Energy Solution Template in your subscription:</span></span>

* [<span data-ttu-id="3bf8a-331">Ferramenta Calculadora de Preço do Microsoft Azure (online)</span><span class="sxs-lookup"><span data-stu-id="3bf8a-331">Microsoft Azure Cost Estimator Tool (online)</span></span>](https://azure.microsoft.com/pricing/calculator/)
* [<span data-ttu-id="3bf8a-332">Ferramenta Calculadora de Preço do Microsoft Azure (área de trabalho)</span><span class="sxs-lookup"><span data-stu-id="3bf8a-332">Microsoft Azure Cost Estimator Tool (desktop)</span></span>](http://www.microsoft.com/download/details.aspx?id=43376)

## <a name="acknowledgements"></a><span data-ttu-id="3bf8a-333">**Confirmações**</span><span class="sxs-lookup"><span data-stu-id="3bf8a-333">**Acknowledgements**</span></span>
<span data-ttu-id="3bf8a-334">Este artigo foi escrito pelo cientista de dados Yijing Chen e pelo engenheiro de software Qiu Min da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="3bf8a-334">This article is authored by data scientist Yijing Chen and software engineer Qiu Min at Microsoft.</span></span>
