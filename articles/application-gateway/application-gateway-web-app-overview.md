---
title: "aaaOverview de multilocatário back termina com o Gateway de aplicativo do Azure | Microsoft Docs"
description: "Esta página fornece uma visão geral do suporte do Application Gateway Olá para vários locatários back-ends."
documentationcenter: na
services: application-gateway
author: georgewallace
manager: timlt
editor: 
ms.service: application-gateway
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/26/2017
ms.author: gwallace
ms.openlocfilehash: b7da8c9c68e34bd83ad2b828fab62c00caea354a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="application-gateway-support-for-multi-tenant-back-ends"></a><span data-ttu-id="61565-103">O Gateway de Aplicativo dá suporte a back-ends com vários locatários</span><span class="sxs-lookup"><span data-stu-id="61565-103">Application Gateway support for multi-tenant back ends</span></span>

<span data-ttu-id="61565-104">O Gateway de Aplicativo do Azure dá suporte a conjuntos de dimensionamento de máquina virtual, adaptadores de rede, IPs públicos/privados ou FQDN (nomes de domínio totalmente qualificados) como parte de seus pools de back-end.</span><span class="sxs-lookup"><span data-stu-id="61565-104">Azure Application Gateway supports virtual machine scale sets, network interfaces, public/private IP, or fully qualified domain name (FQDN) as part of its back end pools.</span></span> <span data-ttu-id="61565-105">Por padrão, gateway do aplicativo não altera cabeçalho de host HTTP entrado hello de cliente hello e envia Olá back-end toohello inalterado de cabeçalho.</span><span class="sxs-lookup"><span data-stu-id="61565-105">By default, application gateway does not change hello incoming HTTP host header from hello client and sends hello header unaltered toohello back end.</span></span> <span data-ttu-id="61565-106">Há muitos serviços como [aplicativos Web do Azure](../app-service-web/app-service-web-overview.md) e [gerenciamento de API](../api-management/api-management-key-concepts.md) que são multilocatário por natureza e contam com um cabeçalho de host específico ou SNI extensão tooresolve toohello ponto de extremidade correto.</span><span class="sxs-lookup"><span data-stu-id="61565-106">There are many services like [Azure Web Apps](../app-service-web/app-service-web-overview.md) and [API Management](../api-management/api-management-key-concepts.md) that are multi-tenant in nature and rely on a specific host header or SNI extension tooresolve toohello correct endpoint.</span></span> <span data-ttu-id="61565-107">Application Gateway agora oferece suporte a capacidade de saudação para usuários toooverwrite Olá entrado cabeçalho de host HTTP com base nas configurações de back-end HTTP hello.</span><span class="sxs-lookup"><span data-stu-id="61565-107">Application Gateway now supports hello ability for users toooverwrite hello incoming HTTP host header based on hello back end HTTP settings.</span></span> <span data-ttu-id="61565-108">Esse recurso habilita o suporte a Aplicativos Web do Azure e ao Gerenciamento de APIs com back-ends com vários locatários.</span><span class="sxs-lookup"><span data-stu-id="61565-108">This capability enables support for multi-tenant back ends Azure web apps and API management.</span></span> <span data-ttu-id="61565-109">Esse recurso está disponível para o saudação padrão e WAF SKU.</span><span class="sxs-lookup"><span data-stu-id="61565-109">This capability is available for both hello standard and WAF SKU.</span></span> <span data-ttu-id="61565-110">Multilocatário back-end suporte também funciona com cenários SSL de tooend de encerramento e de término SSL.</span><span class="sxs-lookup"><span data-stu-id="61565-110">Multi-tenant back end support also works with SSL termination and end tooend SSL scenarios.</span></span>

![cenário de aplicativo Web](./media/application-gateway-web-app-overview/scenario.png)

<span data-ttu-id="61565-112">Olá capacidade toospecify uma substituição de host está definida no hello configurações HTTP e pode ser aplicado tooany volta terminar pool durante a criação da regra.</span><span class="sxs-lookup"><span data-stu-id="61565-112">hello ability toospecify a host override is defined at hello HTTP settings and can be applied tooany back end pool during rule creation.</span></span> <span data-ttu-id="61565-113">Multilocatário volta termina Olá suporte a dois modos de substituição de cabeçalho de host e extensão SNI a seguir.</span><span class="sxs-lookup"><span data-stu-id="61565-113">Multi-tenant back ends support hello following two ways of overriding host header and SNI extension.</span></span>

1. <span data-ttu-id="61565-114">Olá capacidade tooset Olá host nome tooa fixa valor Olá configurações de HTTP.</span><span class="sxs-lookup"><span data-stu-id="61565-114">hello ability tooset hello host name tooa fixed value in hello HTTP settings.</span></span> <span data-ttu-id="61565-115">Esse recurso garante que esse cabeçalho de host Olá é substituído toothis valor para todo pool de back-end do toohello tráfego em que são aplicadas as configurações de saudação HTTP.</span><span class="sxs-lookup"><span data-stu-id="61565-115">This capability ensures that hello host header is overridden toothis value for all traffic toohello back end pool where hello HTTP settings are applied.</span></span> <span data-ttu-id="61565-116">Ao usar final tooend SSL, esse nome de host substituído é usado em Olá extensão SNI.</span><span class="sxs-lookup"><span data-stu-id="61565-116">When using end tooend SSL, this overridden host name is used in hello SNI extension.</span></span> <span data-ttu-id="61565-117">Esse recurso habilita cenários onde um farm de pool de back-end espera um cabeçalho de host que é diferente do cabeçalho de host de cliente de entrada hello.</span><span class="sxs-lookup"><span data-stu-id="61565-117">This capability enables scenarios where a back end pool farm expects a host header that is different from hello incoming customer host header.</span></span>

2. <span data-ttu-id="61565-118">Olá capacidade tooderive Olá nome do host da saudação IP ou FQDN de membros do pool de back-end de saudação.</span><span class="sxs-lookup"><span data-stu-id="61565-118">hello ability tooderive hello host name from hello IP or FQDN of hello back end pool members.</span></span> <span data-ttu-id="61565-119">Configurações HTTP também fornecem um nome de host opção toopick Olá do FQDN de um membro pool de back-end se configurado com o nome de host do hello opção tooderive de um membro do pool de back-end individuais.</span><span class="sxs-lookup"><span data-stu-id="61565-119">HTTP settings also provide an option toopick hello host name from a back end pool member's FQDN if configured with hello option tooderive host name from an individual back end pool member.</span></span> <span data-ttu-id="61565-120">Ao usar final tooend SSL, esse nome de host é derivado do hello FQDN e é usado em Olá extensão SNI.</span><span class="sxs-lookup"><span data-stu-id="61565-120">When using end tooend SSL, this host name is derived from hello FQDN and is used in hello SNI extension.</span></span> <span data-ttu-id="61565-121">Esse recurso permite cenários em que um pool de back-end pode ter dois ou mais serviços de PaaS multilocatários como aplicativos web do Azure e membro de tooeach de cabeçalho de host da solicitação Olá contém o nome do host de saudação derivado de seu FQDN.</span><span class="sxs-lookup"><span data-stu-id="61565-121">This capability enables scenarios where a back end pool can have two or more multi-tenant PaaS services like Azure web apps and hello request's host header tooeach member contains hello host name derived from its FQDN.</span></span>

> [!NOTE]
> <span data-ttu-id="61565-122">Em ambos Olá anterior casos Olá só afetam comportamento de tráfego ao vivo hello e não Olá comportamento de investigação de integridade.</span><span class="sxs-lookup"><span data-stu-id="61565-122">In both of hello preceding cases hello settings only affect hello live traffic behavior and not hello health probe behavior.</span></span> <span data-ttu-id="61565-123">Personalizado já testes suporte Olá capacidade toospecify um cabeçalho de host na configuração de investigação de saudação.</span><span class="sxs-lookup"><span data-stu-id="61565-123">Custom probes already support hello ability toospecify a host header in hello probe configuration.</span></span> <span data-ttu-id="61565-124">Testes personalizados também dão suporte a saudação capacidade tooderive Olá host cabeçalho comportamento das configurações de HTTP de saudação configurada no momento.</span><span class="sxs-lookup"><span data-stu-id="61565-124">Custom probes now also support hello ability tooderive hello host header behavior from hello currently configured HTTP settings.</span></span> <span data-ttu-id="61565-125">Essa configuração pode ser especificada usando Olá `PickHostNameFromback endAddress` parâmetro na configuração de investigação de saudação.</span><span class="sxs-lookup"><span data-stu-id="61565-125">This configuration can be specified by using hello `PickHostNameFromback endAddress` parameter in hello probe configuration.</span></span> <span data-ttu-id="61565-126">Para final tooend funcionalidade toowork, investigação hello e configurações de HTTP Olá devem ser configuração correta de saudação tooreflect modificado.</span><span class="sxs-lookup"><span data-stu-id="61565-126">For end tooend functionality toowork, both hello probe and hello HTTP settings must be modified tooreflect hello correct configuration.</span></span>

<span data-ttu-id="61565-127">Com essa funcionalidade, os clientes especificar opções Olá nas configurações de HTTP hello e personalizadas sondas de configuração apropriado toohello.</span><span class="sxs-lookup"><span data-stu-id="61565-127">With this capability, customers specify hello options in hello HTTP settings and custom probes toohello appropriate configuration.</span></span> <span data-ttu-id="61565-128">Essa configuração está ligada, em seguida, tooa ouvinte e um back end pool, usando uma regra.</span><span class="sxs-lookup"><span data-stu-id="61565-128">This setting is then tied tooa listener and a back end pool by using a rule.</span></span>

## <a name="next-steps"></a><span data-ttu-id="61565-129">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="61565-129">Next steps</span></span>

<span data-ttu-id="61565-130">Saiba como tooset a um gateway de aplicativo com um aplicativo da web como um back end membro do pool visitando: [aplicativos da web de configurar o serviço de aplicativo com o Application Gateway](application-gateway-web-app-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="61565-130">Learn how tooset up an application gateway with a web app as a back end pool member by visiting: [Configure App Service web apps with Application Gateway](application-gateway-web-app-powershell.md)</span></span>
