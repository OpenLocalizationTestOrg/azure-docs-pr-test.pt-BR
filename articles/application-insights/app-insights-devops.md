---
title: Monitoramento de desempenho de aplicativos Web - Azure Application Insights | Microsoft Docs
description: Como o Application Insights se encaixa no ciclo do devOps
services: application-insights
documentationcenter: 
author: CFreemanwa
manager: carmonm
ms.assetid: 479522a9-ff5c-471e-a405-b8fa221aedb3
ms.service: application-insights
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.devlang: multiple
ms.topic: article
ms.date: 03/14/2017
ms.author: bwren
ms.openlocfilehash: de94633cabaa7a1562a5a4839a8a8924da91a283
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/18/2017
---
# <a name="deep-diagnostics-for-web-apps-and-services-with-application-insights"></a><span data-ttu-id="1a5fd-103">Diagnósticos detalhados para aplicativos Web e serviços com o Application Insights</span><span class="sxs-lookup"><span data-stu-id="1a5fd-103">Deep diagnostics for web apps and services with Application Insights</span></span>
## <a name="why-do-i-need-application-insights"></a><span data-ttu-id="1a5fd-104">Por que eu preciso do Application Insights?</span><span class="sxs-lookup"><span data-stu-id="1a5fd-104">Why do I need Application Insights?</span></span>
<span data-ttu-id="1a5fd-105">O Application Insights monitora seu aplicativo Web em execução.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-105">Application Insights monitors your running web app.</span></span> <span data-ttu-id="1a5fd-106">Ele informa sobre problemas de desempenho e falhas e ajuda você a analisar como os clientes usam seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-106">It tells you about failures and performance issues, and helps you analyze how customers use your app.</span></span> <span data-ttu-id="1a5fd-107">Ele funciona para aplicativos executados em várias plataformas (ASP.NET, J2EE, Node.js,...) e é hospedado na nuvem ou localmente.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-107">It works for apps running on many platforms (ASP.NET, J2EE, Node.js, ...) and is hosted either in the Cloud or on-premises.</span></span> 

![Aspectos da complexidade do fornecimento de aplicativos Web](./media/app-insights-devops/010.png)

<span data-ttu-id="1a5fd-109">É essencial monitorar um aplicativo moderno enquanto ele está em execução.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-109">It's essential to monitor a modern application while it is running.</span></span> <span data-ttu-id="1a5fd-110">Acima de tudo, você deseja detectar falhas antes que a maioria de seus clientes o faça.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-110">Most importantly, you want to detect failures before most of your customers do.</span></span> <span data-ttu-id="1a5fd-111">Você também deseja descobrir e corrigir problemas de desempenho que, embora não sejam catastróficos, talvez deixem as coisas mais lentas ou causem alguma inconveniência para seus usuários.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-111">You also want to discover and fix performance issues that, while not catastrophic, perhaps slow things down or cause some inconvenience to your users.</span></span> <span data-ttu-id="1a5fd-112">E quando o sistema estiver funcionando bem, você vai querer saber o que os usuários estão fazendo com ele: eles estão usando o recurso mais recente?</span><span class="sxs-lookup"><span data-stu-id="1a5fd-112">And when the system is performing to your satisfaction, you want to know what the users are doing with it: Are they using the latest feature?</span></span> <span data-ttu-id="1a5fd-113">Eles estão tendo êxito com ele?</span><span class="sxs-lookup"><span data-stu-id="1a5fd-113">Are they succeeding with it?</span></span>

<span data-ttu-id="1a5fd-114">Os aplicativos Web modernos são desenvolvidos em um ciclo de fornecimento contínuo: liberar um novo recurso ou aperfeiçoamento; observar como ele funciona para os usuários; planejar o próximo incremento de desenvolvimento com base nesse conhecimento.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-114">Modern web applications are developed in a cycle of continuous delivery: release a new feature or improvement; observe how well it works for the users; plan the next increment of development based on that knowledge.</span></span> <span data-ttu-id="1a5fd-115">Uma parte importante deste ciclo é a fase de observação.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-115">A key part of this cycle is the observation phase.</span></span> <span data-ttu-id="1a5fd-116">O Application Insights fornece as ferramentas para monitorar o desempenho e uso de um aplicativo Web.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-116">Application Insights provides the tools to monitor a web application for performance and usage.</span></span>

<span data-ttu-id="1a5fd-117">O aspecto mais importante deste processo é o diagnóstico e a detecção.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-117">The most important aspect of this process is diagnostics and diagnosis.</span></span> <span data-ttu-id="1a5fd-118">Falhas em aplicativos constituem uma indicação de que negócios podem estar sendo perdidos.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-118">If the application fails, then business is being lost.</span></span> <span data-ttu-id="1a5fd-119">A função principal de uma estrutura de monitoramento é, portanto, detectar falhas de forma confiável, notificá-lo imediatamente e apresentar a você as informações necessárias para diagnosticar o problema.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-119">The prime role of a monitoring framework is therefore to detect failures reliably, notify you immediately, and to present you with the information needed to diagnose the problem.</span></span> <span data-ttu-id="1a5fd-120">Isso é exatamente o que o Application Insights faz.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-120">This is exactly what Application Insights does.</span></span>

### <a name="where-do-bugs-come-from"></a><span data-ttu-id="1a5fd-121">De onde vêm os bugs?</span><span class="sxs-lookup"><span data-stu-id="1a5fd-121">Where do bugs come from?</span></span>
<span data-ttu-id="1a5fd-122">Falhas em sistemas da web geralmente surgem de problemas de configuração ou interações ruins entre seus vários componentes.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-122">Failures in web systems typically arise from configuration issues or bad interactions between their many components.</span></span> <span data-ttu-id="1a5fd-123">A primeira tarefa ao lidar com um incidente de site ativo é, portanto, identificar o local do problema: qual componente ou relação é a causa?</span><span class="sxs-lookup"><span data-stu-id="1a5fd-123">The first task when tackling a live site incident is therefore to identify the locus of the problem: which component or relationship is the cause?</span></span>

<span data-ttu-id="1a5fd-124">Alguns de nós, aqueles com cabelos grisalhos, podem se lembrar de uma era mais simples na qual um programa de computador era executado em um computador.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-124">Some of us, those with gray hair, can remember a simpler era in which a computer program ran in one computer.</span></span> <span data-ttu-id="1a5fd-125">Os desenvolvedores o testavam exaustivamente antes de enviá-lo e após o envio, raramente viam ou pensavam sobre ele novamente.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-125">The developers would test it thoroughly before shipping it; and having shipped it, would rarely see or think about it again.</span></span> <span data-ttu-id="1a5fd-126">Os usuários tinham que lidar com os bugs remanescentes por muitos anos.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-126">The users would have to put up with the residual bugs for many years.</span></span> 

<span data-ttu-id="1a5fd-127">Hoje em dia tudo é diferente.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-127">Things are so very different now.</span></span> <span data-ttu-id="1a5fd-128">Seu aplicativo é executado em uma infinidade de diferentes dispositivos e é impossível garantir exatamente o mesmo comportamento em todos eles.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-128">Your app has a plethora of different devices to run on, and it can be difficult to guarantee the exact same behavior on each one.</span></span> <span data-ttu-id="1a5fd-129">Hospedar aplicativos na nuvem significa que os bugs podem ser corrigidos rapidamente, mas também significa uma competição contínua e a expectativa de novos recursos em intervalos frequentes.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-129">Hosting apps in the cloud means bugs can be fixed fast, but it also means continuous competition and the expectation of new features at frequent intervals.</span></span> 

<span data-ttu-id="1a5fd-130">Nessas condições, a única maneira de manter um controle firme sobre a contagem de bugs é a realização de testes de unidade automatizados.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-130">In these conditions, the only way to keep a firm control on the bug count is automated unit testing.</span></span> <span data-ttu-id="1a5fd-131">Seria impossível testar tudo novamente de forma manual em cada entrega.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-131">It would be impossible to manually re-test everything on every delivery.</span></span> <span data-ttu-id="1a5fd-132">O teste de unidade agora é uma parte comum do processo de build.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-132">Unit test is now a commonplace part of the build process.</span></span> <span data-ttu-id="1a5fd-133">Ferramentas como o Xamarin Test Cloud ajudam oferecendo o teste de interface do usuário automatizado a várias versões de navegador.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-133">Tools such as the Xamarin Test Cloud help by providing automated UI testing on multiple browser versions.</span></span> <span data-ttu-id="1a5fd-134">Esses regimes de teste nos permitem esperar que a taxa de bugs encontrados dentro de um aplicativo possa ser mantida no mínimo.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-134">These testing regimes allow us to hope that the rate of bugs found inside an app can be kept to a minimum.</span></span>

<span data-ttu-id="1a5fd-135">Os aplicativos Web típicos têm muitos componentes em tempo real.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-135">Typical web applications have many live components.</span></span> <span data-ttu-id="1a5fd-136">Além do cliente (em um aplicativo de navegador ou de dispositivo) e o servidor Web, é provável que seja processamento substancial de back-end.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-136">In addition to the client (in a browser or device app) and the web server, there's likely to be substantial backend processing.</span></span> <span data-ttu-id="1a5fd-137">Talvez o back-end seja um pipeline de componentes ou uma coleção menos rígida de partes de colaboração.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-137">Perhaps the backend is a pipeline of components, or a looser collection of collaborating pieces.</span></span> <span data-ttu-id="1a5fd-138">E muitos deles não estarão sob seu controle, são serviços externos dos quais você depende.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-138">And many of them won't be in your control - they're external services on which you depend.</span></span>

<span data-ttu-id="1a5fd-139">Em configurações como essas, pode ser difícil e antieconômico realizar o teste para, ou prever, todos os modos de falha que não o próprio sistema ativo.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-139">In configurations like these, it can be difficult and uneconomical to test for, or foresee, every possible failure mode, other than in the live system itself.</span></span> 

### <a name="questions-"></a><span data-ttu-id="1a5fd-140">Perguntas...</span><span class="sxs-lookup"><span data-stu-id="1a5fd-140">Questions ...</span></span>
<span data-ttu-id="1a5fd-141">Algumas perguntas que fazemos quando estamos desenvolvendo um sistema Web:</span><span class="sxs-lookup"><span data-stu-id="1a5fd-141">Some questions we ask when we're developing a web system:</span></span>

* <span data-ttu-id="1a5fd-142">Meu aplicativo está falhando?</span><span class="sxs-lookup"><span data-stu-id="1a5fd-142">Is my app crashing?</span></span> 
* <span data-ttu-id="1a5fd-143">O que aconteceu exatamente?</span><span class="sxs-lookup"><span data-stu-id="1a5fd-143">What exactly happened?</span></span> <span data-ttu-id="1a5fd-144">Se ocorreu uma falha em uma solicitação, desejo saber como isso aconteceu.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-144">- If it failed a request, I want to know how it got there.</span></span> <span data-ttu-id="1a5fd-145">Precisamos de um rastreamento de eventos...</span><span class="sxs-lookup"><span data-stu-id="1a5fd-145">We need a trace of events...</span></span>
* <span data-ttu-id="1a5fd-146">Meu aplicativo é rápido o suficiente?</span><span class="sxs-lookup"><span data-stu-id="1a5fd-146">Is my app fast enough?</span></span> <span data-ttu-id="1a5fd-147">Quanto tempo ele demora para responder a solicitações típicas?</span><span class="sxs-lookup"><span data-stu-id="1a5fd-147">How long does it take to respond to typical requests?</span></span>
* <span data-ttu-id="1a5fd-148">O servidor pode lidar com a carga?</span><span class="sxs-lookup"><span data-stu-id="1a5fd-148">Can the server handle the load?</span></span> <span data-ttu-id="1a5fd-149">Ao aumentar a taxa de solicitações, o tempo de resposta se mantém constante?</span><span class="sxs-lookup"><span data-stu-id="1a5fd-149">When the rate of requests rises, does the response time hold steady?</span></span>
* <span data-ttu-id="1a5fd-150">Qual o nível de resposta das minhas dependências, como as APIs REST, os bancos de dados e outros componentes que o aplicativo chama.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-150">How responsive are my dependencies - the REST APIs, databases and other components that my app calls.</span></span> <span data-ttu-id="1a5fd-151">Especificamente, a lentidão do sistema é resultante do meu componente ou estou recebendo respostas lentas de outra pessoa?</span><span class="sxs-lookup"><span data-stu-id="1a5fd-151">In particular, if the system is slow, is it my component, or am I getting slow responses from someone else?</span></span>
* <span data-ttu-id="1a5fd-152">Meu aplicativo está ativo ou inativo?</span><span class="sxs-lookup"><span data-stu-id="1a5fd-152">Is my app Up or Down?</span></span> <span data-ttu-id="1a5fd-153">Ele pode ser visto em todo o mundo?</span><span class="sxs-lookup"><span data-stu-id="1a5fd-153">Can it be seen from around the world?</span></span> <span data-ttu-id="1a5fd-154">Avise-me se ele parar...</span><span class="sxs-lookup"><span data-stu-id="1a5fd-154">Let me know if it stops....</span></span>
* <span data-ttu-id="1a5fd-155">Qual é a causa raiz?</span><span class="sxs-lookup"><span data-stu-id="1a5fd-155">What is the root cause?</span></span> <span data-ttu-id="1a5fd-156">A falha foi no meu componente ou em uma dependência?</span><span class="sxs-lookup"><span data-stu-id="1a5fd-156">Was the failure in my component or a dependency?</span></span> <span data-ttu-id="1a5fd-157">É um problema de comunicação?</span><span class="sxs-lookup"><span data-stu-id="1a5fd-157">Is it a communication issue?</span></span>
* <span data-ttu-id="1a5fd-158">Quantos usuários foram afetados?</span><span class="sxs-lookup"><span data-stu-id="1a5fd-158">How many users are impacted?</span></span> <span data-ttu-id="1a5fd-159">Se tiver mais de um problema para resolver, qual será o mais importante?</span><span class="sxs-lookup"><span data-stu-id="1a5fd-159">If I have more than one issue to tackle, which is the most important?</span></span>

## <a name="what-is-application-insights"></a><span data-ttu-id="1a5fd-160">O que é o Application Insights?</span><span class="sxs-lookup"><span data-stu-id="1a5fd-160">What is Application Insights?</span></span>
![Fluxo de trabalho básico do Application Insights](./media/app-insights-devops/020.png)

1. <span data-ttu-id="1a5fd-162">O Application Insights instrumentaliza seu aplicativo e envia a telemetria sobre ele enquanto o aplicativo está em execução.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-162">Application Insights instruments your app and sends telemetry about it while the app is running.</span></span> <span data-ttu-id="1a5fd-163">Você pode compilar o SDK do Application Insights no aplicativo ou você pode aplicar a instrumentação no tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-163">Either you can build the Application Insights SDK into the app, or you can apply instrumentation at runtime.</span></span> <span data-ttu-id="1a5fd-164">O primeiro método é mais flexível, uma vez que você pode adicionar sua própria telemetria aos módulos regulares.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-164">The former method is more flexible, as you can add your own telemetry to the regular modules.</span></span>
2. <span data-ttu-id="1a5fd-165">A telemetria é enviada para o portal do Application Insights, no qual é armazenada e processada.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-165">The telemetry is sent to the Application Insights portal, where it is stored and processed.</span></span> <span data-ttu-id="1a5fd-166">(Embora o Application Insights esteja hospedado no Microsoft Azure, ele pode monitorar quaisquer aplicativos Web, não apenas os do Azure.)</span><span class="sxs-lookup"><span data-stu-id="1a5fd-166">(Although Application Insights is hosted in Microsoft Azure, it can monitor any web apps - not just Azure apps.)</span></span>
3. <span data-ttu-id="1a5fd-167">A telemetria é apresentada na forma de gráficos e tabelas de eventos.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-167">The telemetry is presented to you in the form of charts and tables of events.</span></span>

<span data-ttu-id="1a5fd-168">Há dois tipos principais de telemetria: instâncias agregadas e brutas.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-168">There are two main types of telemetry: aggregated and raw instances.</span></span> 

* <span data-ttu-id="1a5fd-169">Os dados de instância incluem, por exemplo, um relatório de uma solicitação que foi recebida pelo seu aplicativo Web.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-169">Instance data includes, for example, a report of a request that has been received by your web app.</span></span> <span data-ttu-id="1a5fd-170">Você pode localizar e inspecionar os detalhes de uma solicitação usando a ferramenta Pesquisar no portal do Application Insights.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-170">You can find for and inspect the details of a request using the Search tool in the Application Insights portal.</span></span> <span data-ttu-id="1a5fd-171">A instância pode incluir dados como quanto tempo levou para seu aplicativo responder à solicitação, bem como a URL solicitada, a localização aproximada do cliente e outros dados.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-171">The instance would include data such as how long your app took to respond to the request, as well as the requested URL, approximate location of the client, and other data.</span></span>
* <span data-ttu-id="1a5fd-172">Os dados agregados incluem o número de eventos por unidade de tempo, para que você possa comparar a taxa de solicitações com os tempos de resposta.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-172">Aggregated data includes counts of events per unit time, so that you can compare the rate of requests with the response times.</span></span> <span data-ttu-id="1a5fd-173">Ele também inclui as médias de métricas, como tempos de resposta de solicitação.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-173">It also includes averages of metrics such as request response times.</span></span>

<span data-ttu-id="1a5fd-174">As principais categorias de dados são:</span><span class="sxs-lookup"><span data-stu-id="1a5fd-174">The main categories of data are:</span></span>

* <span data-ttu-id="1a5fd-175">Solicitações para seu aplicativo (normalmente solicitações HTTP), com os dados na URL, o tempo de resposta e o êxito ou falha.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-175">Requests to your app (usually HTTP requests), with data on URL, response time, and success or failure.</span></span>
* <span data-ttu-id="1a5fd-176">Dependências, chamadas REST e SQL feitas pelo seu aplicativo, também com o URI, tempos de resposta e êxito</span><span class="sxs-lookup"><span data-stu-id="1a5fd-176">Dependencies - REST and SQL calls made by your app, also with URI, response times and success</span></span>
* <span data-ttu-id="1a5fd-177">Exceções, incluindo os rastreamentos de pilha.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-177">Exceptions, including stack traces.</span></span>
* <span data-ttu-id="1a5fd-178">Dados de exibição de página, que vêm de navegadores dos usuários.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-178">Page view data, which come from the users' browsers.</span></span>
* <span data-ttu-id="1a5fd-179">As métricas, como contadores de desempenho, bem como as métricas que você escreve.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-179">Metrics such as performance counters, as well as metrics you write yourself.</span></span> 
* <span data-ttu-id="1a5fd-180">Eventos personalizados que você pode usar para controlar os eventos de negócios</span><span class="sxs-lookup"><span data-stu-id="1a5fd-180">Custom events that you can use to track business events</span></span>
* <span data-ttu-id="1a5fd-181">Rastreamentos de log usados para depuração.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-181">Log traces used for debugging.</span></span>

## <a name="case-study-real-madrid-fc"></a><span data-ttu-id="1a5fd-182">Estudo de caso: Real Madrid F.C.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-182">Case Study: Real Madrid F.C.</span></span>
<span data-ttu-id="1a5fd-183">O serviço Web do [Clube de Futebol Real Madrid](http://www.realmadrid.com/) atende a aproximadamente 450 milhões de fãs em todo o mundo.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-183">The web service of [Real Madrid Football Club](http://www.realmadrid.com/) serves about 450 million fans around the world.</span></span> <span data-ttu-id="1a5fd-184">Os fãs o acessam por navegadores da Web e os aplicativos móveis do Clube.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-184">Fans access it both through web browsers and the Club's mobile apps.</span></span> <span data-ttu-id="1a5fd-185">Os fãs podem não apenas podem reservar ingressos, mas também acessar informações e videoclipes sobre os resultados, jogadores e próximos jogos.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-185">Fans can not only book tickets, but also access information and video clips on results, players and upcoming games.</span></span> <span data-ttu-id="1a5fd-186">Eles podem pesquisar com filtros como os números de gols marcados.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-186">They can search with filters such as numbers of goals scored.</span></span> <span data-ttu-id="1a5fd-187">Também há links para mídia social.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-187">There are also links to social media.</span></span> <span data-ttu-id="1a5fd-188">A experiência do usuário altamente personalizada e é projetada como uma comunicação bidirecional para envolver os fãs.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-188">The user experience is highly personalized, and is designed as a two-way communication to engage fans.</span></span>

<span data-ttu-id="1a5fd-189">A solução [é um sistema de serviços e aplicativos no Microsoft Azure](https://www.microsoft.com/en-us/enterprise/microsoftcloud/realmadrid.aspx).</span><span class="sxs-lookup"><span data-stu-id="1a5fd-189">The solution [is a system of services and applications on Microsoft Azure](https://www.microsoft.com/en-us/enterprise/microsoftcloud/realmadrid.aspx).</span></span> <span data-ttu-id="1a5fd-190">A escalabilidade é um requisito fundamental: o tráfego é variável e pode atingir volumes muito grandes durante e próximo das partidas.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-190">Scalability is a key requirement: traffic is variable and can reach very high volumes during and around matches.</span></span>

<span data-ttu-id="1a5fd-191">Para o Real Madrid, é vital monitorar o desempenho do sistema.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-191">For Real Madrid, it's vital to monitor the system's performance.</span></span> <span data-ttu-id="1a5fd-192">O Azure Application Insights fornece uma exibição abrangente de todo o sistema, garantindo um nível de serviço elevado e confiável.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-192">Azure Application Insights provides a comprehensive view across the system, ensuring a reliable and high level of service.</span></span> 

<span data-ttu-id="1a5fd-193">O Clube obtém ainda uma compreensão detalhada dos fãs: onde estão (apenas 3% estão na Espanha), que interesse têm nos jogadores, resultados históricos e jogos futuros e como eles respondem aos resultados das partidas.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-193">The Club also gets in-depth understanding of its fans: where they are (only 3% are in Spain), what interest they have in players, historical results, and upcoming games, and how they respond to match outcomes.</span></span>

<span data-ttu-id="1a5fd-194">A maioria desses dados de telemetria é coletada automaticamente sem nenhum código adicionado, o que simplificou a solução e reduziu a complexidade operacional.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-194">Most of this telemetry data is automatically collected with no added code, which  simplified the solution and reduced operational complexity.</span></span>  <span data-ttu-id="1a5fd-195">Para o Real Madrid, o Application Insights lida com 3,8 bilhões de pontos de telemetria por mês.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-195">For Real Madrid, Application Insights deals with 3.8 billion telemetry points each month.</span></span>

<span data-ttu-id="1a5fd-196">O Real Madrid usa o módulo do Power BI para exibir sua telemetria.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-196">Real Madrid uses the Power BI module to view their telemetry.</span></span>

![Exibição do Power BI de telemetria do Application Insights](./media/app-insights-devops/080.png)

## <a name="smart-detection"></a><span data-ttu-id="1a5fd-198">Detecção inteligente</span><span class="sxs-lookup"><span data-stu-id="1a5fd-198">Smart detection</span></span>
<span data-ttu-id="1a5fd-199">O [diagnóstico proativo](app-insights-proactive-diagnostics.md) é um recurso recente.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-199">[Proactive diagnostics](app-insights-proactive-diagnostics.md) is a recent feature.</span></span> <span data-ttu-id="1a5fd-200">Sem qualquer configuração especial determinada por você, o Application Insights detecta e o alerta automaticamente sobre aumentos incomuns nas taxas de falhas do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-200">Without any special configuration by you, Application Insights automatically detects and alerts you about unusual rises in failure rates in your app.</span></span> <span data-ttu-id="1a5fd-201">Ele é inteligente o suficiente para ignorar um histórico de falhas eventuais e aumentos que são proporcionais a um aumento das solicitações.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-201">It's smart enough to ignore a background of occasional failures, and also rises that are simply proportionate to a rise in requests.</span></span> <span data-ttu-id="1a5fd-202">Por exemplo, se houver uma falha em um dos serviços dos quais você depende ou se o novo build que acabou de ser implantado não estiver funcionando muito bem, você saberá assim que consultar seu email.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-202">So for example, if there's a failure in one of the services you depend on, or if the new build you just deployed isn't working so well, then you'll know about it as soon as you look at your email.</span></span> <span data-ttu-id="1a5fd-203">(E há webhooks para que você possa disparar outros aplicativos.)</span><span class="sxs-lookup"><span data-stu-id="1a5fd-203">(And there are webhooks so that you can trigger other apps.)</span></span>

<span data-ttu-id="1a5fd-204">Outro aspecto desse recurso executa uma análise aprofundada diária da sua telemetria, procurando padrões incomuns de desempenho que são difíceis de descobrir.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-204">Another aspect of this feature performs a daily in-depth analysis of your telemetry, looking for unusual patterns of performance that are hard to discover.</span></span> <span data-ttu-id="1a5fd-205">Por exemplo, ela pode localizar lentidão no desempenho associada a uma determinada área geográfica ou com a versão de navegador específico.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-205">For example, it can find slow performance associated with a particular geographical area, or with a particular browser version.</span></span>

<span data-ttu-id="1a5fd-206">Em ambos os casos, o alerta não apenas informa os sintomas descobertos, mas também fornece dados que serão necessários para ajudar a diagnosticar o problema, como relatórios de exceção relevantes.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-206">In both cases, the alert not only tells you the symptoms it's discovered, but also gives you data you need to help diagnose the problem, such as relevant exception reports.</span></span>

![Email do diagnóstico proativo](./media/app-insights-devops/030.png)

<span data-ttu-id="1a5fd-208">O cliente Samtec disse: "Durante uma migração de recurso recente, encontramos um banco de dados subdimensionado que estava atingindo seus limites de recursos e causando tempos limite.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-208">Customer Samtec said: "During a recent feature cutover, we found an under-scaled database that was hitting its resource limits and causing timeouts.</span></span> <span data-ttu-id="1a5fd-209">Os alertas de detecção proativos foram emitidos enquanto realizávamos a triagem do problema, quase em tempo real, conforme anunciado.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-209">Proactive detection alerts came through literally as we were triaging the issue, very near real time as advertised.</span></span> <span data-ttu-id="1a5fd-210">Esse alerta juntamente com os alertas da plataforma Azure nos ajudou a corrigir o problema quase instantaneamente.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-210">This alert coupled with the Azure platform alerts helped us almost instantly fix the issue.</span></span> <span data-ttu-id="1a5fd-211">O tempo de inatividade total foi menor que 10 minutos."</span><span class="sxs-lookup"><span data-stu-id="1a5fd-211">Total downtime < 10 minutes."</span></span>

## <a name="live-metrics-stream"></a><span data-ttu-id="1a5fd-212">Live Metrics Stream</span><span class="sxs-lookup"><span data-stu-id="1a5fd-212">Live Metrics Stream</span></span>
<span data-ttu-id="1a5fd-213">A implantação do build mais recente pode causar certa ansiedade.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-213">Deploying the latest build can be an anxious experience.</span></span> <span data-ttu-id="1a5fd-214">Se houver algum problema, você desejará saber sobre ele imediatamente para que possa recuar, se necessário.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-214">If there are any problems, you want to know about them right away, so that you can back out if necessary.</span></span> <span data-ttu-id="1a5fd-215">O Live Metrics Stream fornece métricas importantes com uma latência de aproximadamente um segundo.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-215">Live Metrics Stream gives you key metrics with a latency of about one second.</span></span>

![Métricas em tempo real](./media/app-insights-devops/040.png)

<span data-ttu-id="1a5fd-217">E permite que você inspecione imediatamente uma amostra de quaisquer falhas ou exceções.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-217">And lets you immediately inspect a sample of any failures or exceptions.</span></span>

![Eventos de falha em tempo real](./media/app-insights-devops/live-stream-failures.png)

## <a name="application-map"></a><span data-ttu-id="1a5fd-219">Mapa de aplicativo</span><span class="sxs-lookup"><span data-stu-id="1a5fd-219">Application Map</span></span>
<span data-ttu-id="1a5fd-220">O mapa de aplicativo detecta automaticamente a topologia do aplicativo, colocando as informações de desempenho sobre ela para permitir que você identifique facilmente os afunilamentos de desempenho e fluxos problemáticos em ambientes distribuídos.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-220">Application Map automatically discovers your application topology, laying the performance information on top of it, to let you easily identify performance bottlenecks and problematic flows across your distributed environment.</span></span> <span data-ttu-id="1a5fd-221">Ele permite que você descubra dependências de aplicativos nos Serviços do Azure.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-221">It allows you to discover application dependencies on Azure Services.</span></span> <span data-ttu-id="1a5fd-222">Você pode fazer a triagem do problema entendendo se ele é relacionado ao código ou à dependência e, de um único lugar, detalhar a experiência de diagnóstico relacionada.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-222">You can triage the problem by understanding if it is code-related or dependency related and from a single place drill into related diagnostics experience.</span></span> <span data-ttu-id="1a5fd-223">Por exemplo, seu aplicativo pode estar falhando devido à degradação do desempenho na camada SQL.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-223">For example, your application may be failing due to performance degradation in SQL tier.</span></span> <span data-ttu-id="1a5fd-224">Com o mapa de aplicativo, você pode vê-lo imediatamente e detalhar a experiência do SQL Index Advisor ou Insights de Consulta.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-224">With application map, you can see it immediately and drill into the SQL Index Advisor or Query Insights experience.</span></span>

![Mapa de aplicativo](./media/app-insights-devops/050.png)

## <a name="application-insights-analytics"></a><span data-ttu-id="1a5fd-226">Análise do Application Insights</span><span class="sxs-lookup"><span data-stu-id="1a5fd-226">Application Insights Analytics</span></span>
<span data-ttu-id="1a5fd-227">Com a [Análise](app-insights-analytics.md), você pode escrever consultas arbitrárias em uma poderosa linguagem semelhante a SQL.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-227">With [Analytics](app-insights-analytics.md), you can write arbitrary queries in a powerful SQL-like language.</span></span>  <span data-ttu-id="1a5fd-228">O diagnóstico em toda a pilha do aplicativo fica fácil, conforme várias perspectivas são conectadas e você pode fazer as perguntas certas para correlacionar o desempenho do serviço às métricas de negócios e à experiência do cliente.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-228">Diagnosing across the entire app stack becomes easy as various perspectives get connected and you can ask the right questions to correlate Service Performance with Business Metrics and Customer Experience.</span></span> 

<span data-ttu-id="1a5fd-229">Você pode consultar todos os dados brutos de métrica e instância de telemetria armazenados no portal.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-229">You can query all your telemetry instance and metric raw data stored in the portal.</span></span> <span data-ttu-id="1a5fd-230">A linguagem inclui as operações de filtragem, adição, agregação e outras.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-230">The language includes filter, join, aggregation, and other operations.</span></span> <span data-ttu-id="1a5fd-231">Você pode calcular campos e realizar a análise estatística.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-231">You can calculate fields and perform statistical analysis.</span></span> <span data-ttu-id="1a5fd-232">Há visualizações de tabela e gráficas.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-232">There are both tabular and graphical visualizations.</span></span>

![Gráfico de consulta e os resultados da análise](./media/app-insights-devops/025.png)

<span data-ttu-id="1a5fd-234">Por exemplo, é fácil:</span><span class="sxs-lookup"><span data-stu-id="1a5fd-234">For example, it's easy to:</span></span>

* <span data-ttu-id="1a5fd-235">Segmentar os dados de desempenho de solicitação do aplicativo pelas camadas do cliente para entender sua experiência.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-235">Segment your application’s request performance data by customer tiers to understand their experience.</span></span>
* <span data-ttu-id="1a5fd-236">Pesquisar códigos de erro específicos ou nomes de evento personalizados durante investigações do site ativo.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-236">Search for specific error codes or custom event names during live site investigations.</span></span>
* <span data-ttu-id="1a5fd-237">Analisar o uso do aplicativo de clientes específicos para entender como os recursos são adquiridos e adotados.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-237">Drill down into the app usage of specific customers to understand how features are acquired and adopted.</span></span>
* <span data-ttu-id="1a5fd-238">Controlar as sessões e os tempos de resposta para usuários específicos para permitir que as equipes de operações e suporte forneçam suporte ao cliente instantâneo.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-238">Track sessions and response times for specific users to enable support and operations teams to provide instant customer support.</span></span>
* <span data-ttu-id="1a5fd-239">Determinar os recursos de aplicativo usados com frequência para responder a perguntas de priorização de recurso.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-239">Determine frequently used app features to answer feature prioritization questions.</span></span>

<span data-ttu-id="1a5fd-240">Um cliente DNN afirma: "O Application Insights nos forneceu a parte que faltava para que pudéssemos combinar, classificar, consultar e filtrar os dados, conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-240">Customer DNN said: "Application Insights has provided us with the missing part of the equation for being able to combine, sort, query, and filter data as needed.</span></span> <span data-ttu-id="1a5fd-241">Permitindo que a nossa equipe usasse sua própria experiência e criatividade para localizar dados, com uma linguagem de consulta eficiente, nos permitiu ter insights e resolver problemas que nem mesmo sabíamos que tínhamos.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-241">Allowing our team to use their own ingenuity and experience to find data with a powerful query language has allowed us to find insights and solve problems we didn't even know we had.</span></span> <span data-ttu-id="1a5fd-242">Muitas respostas interessantes surgem das perguntas começando com *'Eu me pergunto se...'.*"</span><span class="sxs-lookup"><span data-stu-id="1a5fd-242">A lot of interesting answers come from the questions starting with *'I wonder if...'.*"</span></span>

## <a name="development-tools-integration"></a><span data-ttu-id="1a5fd-243">Integração de ferramentas de desenvolvimento</span><span class="sxs-lookup"><span data-stu-id="1a5fd-243">Development tools integration</span></span>
### <a name="configuring-application-insights"></a><span data-ttu-id="1a5fd-244">Configurando o Application Insights</span><span class="sxs-lookup"><span data-stu-id="1a5fd-244">Configuring Application Insights</span></span>
<span data-ttu-id="1a5fd-245">O Visual Studio e o Eclipse têm ferramentas para configurar os pacotes SDK corretos para o projeto que você está desenvolvendo.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-245">Visual Studio and Eclipse have tools to configure the correct SDK packages for the project you are developing.</span></span> <span data-ttu-id="1a5fd-246">Há um comando de menu adicionar Application Insights.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-246">There's a menu command to add Application Insights.</span></span>

<span data-ttu-id="1a5fd-247">Caso você esteja usando uma estrutura de registros de rastreamento, como o Log4N, NLog ou System.Diagnostics.Trace, receberá a opção de enviar os logs para o Application Insights juntamente com a telemetria, para que você possa correlacionar facilmente os rastreamentos com solicitações, chamadas de dependência e exceções.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-247">If you happen to be using a trace logging framework such as Log4N, NLog, or System.Diagnostics.Trace, then you get the option to send the logs to Application Insights along with the other telemetry, so that you can easily correlate the traces with requests, dependency calls, and exceptions.</span></span>

### <a name="search-telemetry-in-visual-studio"></a><span data-ttu-id="1a5fd-248">Pesquisar telemetria no Visual Studio</span><span class="sxs-lookup"><span data-stu-id="1a5fd-248">Search telemetry in Visual Studio</span></span>
<span data-ttu-id="1a5fd-249">Durante o desenvolvimento e depuração de um recurso, você pode exibir e pesquisar a telemetria diretamente no Visual Studio, usando as mesmas funcionalidades de pesquisa que no portal da Web.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-249">While developing and debugging a feature, you can view and search the telemetry directly in Visual Studio, using the same search facilities as in the web portal.</span></span>

<span data-ttu-id="1a5fd-250">E quando o Application Insights registra uma exceção, você pode exibir o ponto de dados no Visual Studio e ir diretamente para o código relevante.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-250">And when Application Insights logs an exception, you can view the data point in Visual Studio and jump straight to the relevant code.</span></span>

![Pesquisa do Visual Studio](./media/app-insights-devops/060.png)

<span data-ttu-id="1a5fd-252">Durante a depuração, você tem a opção de manter a telemetria no computador de desenvolvimento, exibindo-a no Visual Studio, mas sem enviá-la para o portal.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-252">During debugging, you have the option to keep the telemetry in your development machine, viewing it in Visual Studio but without sending it to the portal.</span></span> <span data-ttu-id="1a5fd-253">Essa opção local evita a mistura da telemetria de produção com a de depuração.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-253">This local option avoids mixing debugging with production telemetry.</span></span>

### <a name="build-annotations"></a><span data-ttu-id="1a5fd-254">Anotações do build</span><span class="sxs-lookup"><span data-stu-id="1a5fd-254">Build annotations</span></span>
<span data-ttu-id="1a5fd-255">Se você usar o Visual Studio Team Services para compilar e implantar seu aplicativo, as anotações de implantação aparecerão em gráficos no portal.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-255">If you use Visual Studio Team Services to build and deploy your app, deployment annotations show up on charts in the portal.</span></span> <span data-ttu-id="1a5fd-256">Se a versão mais recente tiver qualquer efeito sobre as métricas, isso se tornará óbvio.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-256">If your latest release had any effect on the metrics, it becomes obvious.</span></span>

![Anotações do build](./media/app-insights-devops/070.png)

### <a name="work-items"></a><span data-ttu-id="1a5fd-258">Itens de trabalho</span><span class="sxs-lookup"><span data-stu-id="1a5fd-258">Work items</span></span>
<span data-ttu-id="1a5fd-259">Quando um alerta é gerado, o Application Insights pode criar automaticamente um item de trabalho no seu sistema de controle de trabalho.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-259">When an alert is raised, Application Insights can automatically create a work item in your work tracking system.</span></span>

## <a name="but-what-about"></a><span data-ttu-id="1a5fd-260">Mas e...?</span><span class="sxs-lookup"><span data-stu-id="1a5fd-260">But what about...?</span></span>
* <span data-ttu-id="1a5fd-261">[Privacidade e armazenamento](app-insights-data-retention-privacy.md) : sua telemetria é mantida em servidores seguros do Azure.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-261">[Privacy and storage](app-insights-data-retention-privacy.md) - Your telemetry is kept on Azure secure servers.</span></span>
* <span data-ttu-id="1a5fd-262">Desempenho: o impacto é muito baixo.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-262">Performance - the impact is very low.</span></span> <span data-ttu-id="1a5fd-263">A telemetria é feita em lotes.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-263">Telemetry is batched.</span></span>
* <span data-ttu-id="1a5fd-264">[Preço](app-insights-pricing.md) - você pode começar a usar gratuitamente e isso continua enquanto estiver no volume baixo.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-264">[Pricing](app-insights-pricing.md) - You can get started for free, and that continues while you're in low volume.</span></span>


## <a name="video"></a><span data-ttu-id="1a5fd-265">Vídeo</span><span class="sxs-lookup"><span data-stu-id="1a5fd-265">Video</span></span>

> [!VIDEO https://channel9.msdn.com/events/Connect/2016/112/player]

## <a name="next-steps"></a><span data-ttu-id="1a5fd-266">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="1a5fd-266">Next steps</span></span>
<span data-ttu-id="1a5fd-267">É fácil começar a usar o Application Insights.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-267">Getting started with Application Insights is easy.</span></span> <span data-ttu-id="1a5fd-268">As principais opções são:</span><span class="sxs-lookup"><span data-stu-id="1a5fd-268">The main options are:</span></span>

* <span data-ttu-id="1a5fd-269">Instrumentar um aplicativo Web já em execução.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-269">Instrument an already-running web app.</span></span> <span data-ttu-id="1a5fd-270">Isso lhe fornece toda a telemetria de desempenho interna.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-270">This gives you all the built-in performance telemetry.</span></span> <span data-ttu-id="1a5fd-271">Isso está disponível para [Java](app-insights-java-live.md) e [servidores IIS](app-insights-monitor-performance-live-website-now.md) e também para [aplicativos Web do Azure](app-insights-azure.md).</span><span class="sxs-lookup"><span data-stu-id="1a5fd-271">It's available for [Java](app-insights-java-live.md) and [IIS servers](app-insights-monitor-performance-live-website-now.md), and also for [Azure web apps](app-insights-azure.md).</span></span>
* <span data-ttu-id="1a5fd-272">Instrumentar seu projeto durante o desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-272">Instrument your project during development.</span></span> <span data-ttu-id="1a5fd-273">Você pode fazer isso para aplicativos [ASP.NET](app-insights-asp-net.md) ou [Java](app-insights-java-get-started.md), bem como [Node.js](app-insights-nodejs.md) e um host de [outros tipos](app-insights-platforms.md).</span><span class="sxs-lookup"><span data-stu-id="1a5fd-273">You can do this for [ASP.NET](app-insights-asp-net.md) or [Java](app-insights-java-get-started.md) apps, as well as [Node.js](app-insights-nodejs.md) and a host of [other types](app-insights-platforms.md).</span></span> 
* <span data-ttu-id="1a5fd-274">Instrumentar [qualquer página da Web](app-insights-javascript.md) adicionando um trecho de código curto.</span><span class="sxs-lookup"><span data-stu-id="1a5fd-274">Instrument [any web page](app-insights-javascript.md) by adding a short code snippet.</span></span>

