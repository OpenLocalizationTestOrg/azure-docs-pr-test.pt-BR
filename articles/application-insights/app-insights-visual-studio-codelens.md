---
title: Application Insights Telemetry no Visual Studio CodeLens | Microsoft Docs
description: "Acesse rapidamente a solicitação do Application Insights e a telemetria de exceções com o CodeLens no Visual Studio."
services: application-insights
documentationcenter: .net
author: numberbycolors
manager: carmonm
ms.assetid: 93559e44-23cb-4b9d-8425-60f7f0d0a82c
ms.service: application-insights
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.devlang: na
ms.topic: article
ms.date: 03/17/2017
ms.author: bwren
ms.openlocfilehash: 20933afab55043ccc5ce908c04c6e4a7a28e3538
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/18/2017
---
# <a name="application-insights-telemetry-in-visual-studio-codelens"></a><span data-ttu-id="9ce98-103">Telemetria do Application Insights no Visual Studio CodeLens</span><span class="sxs-lookup"><span data-stu-id="9ce98-103">Application Insights telemetry in Visual Studio CodeLens</span></span>
<span data-ttu-id="9ce98-104">Métodos no código de seu aplicativo Web podem ser anotados com telemetria sobre exceções de tempo de execução e tempos de resposta de solicitação.</span><span class="sxs-lookup"><span data-stu-id="9ce98-104">Methods in the code of your web app can be annotated with telemetry about run-time exceptions and request response times.</span></span> <span data-ttu-id="9ce98-105">Se você instalar o [Application Insights do Azure](app-insights-overview.md) em seu aplicativo, a telemetria aparecerá no Visual Studio [CodeLens](https://msdn.microsoft.com/library/dn269218.aspx) -as anotações na parte superior de cada função em que você está acostumado a ver informações úteis, como o número de casas em que a função é referenciada ou a última pessoa que o editou.</span><span class="sxs-lookup"><span data-stu-id="9ce98-105">If you install [Azure Application Insights](app-insights-overview.md) in your application, the telemetry appears in Visual Studio [CodeLens](https://msdn.microsoft.com/library/dn269218.aspx) - the notes at the top of each function where you're used to seeing useful information such as the number of places the function is referenced or the last person who edited it.</span></span>

![CodeLens](./media/app-insights-visual-studio-codelens/codelens-overview.png)

> [!NOTE]
> <span data-ttu-id="9ce98-107">O Application Insights no CodeLens está disponível no Visual Studio 2015 Atualização 3 e posterior ou com a versão mais recente da [extensão de Ferramentas de Análise de Desenvolvedor](https://visualstudiogallery.msdn.microsoft.com/82367b81-3f97-4de1-bbf1-eaf52ddc635a).</span><span class="sxs-lookup"><span data-stu-id="9ce98-107">Application Insights in CodeLens is available in Visual Studio 2015 Update 3 and later, or with the latest version of [Developer Analytics Tools extension](https://visualstudiogallery.msdn.microsoft.com/82367b81-3f97-4de1-bbf1-eaf52ddc635a).</span></span> <span data-ttu-id="9ce98-108">O CodeLens está disponível nas edições Enterprise e Professional do Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="9ce98-108">CodeLens is available in the Enterprise and Professional editions of Visual Studio.</span></span>
> 
> 

## <a name="where-to-find-application-insights-data"></a><span data-ttu-id="9ce98-109">Onde localizar os dados do Application Insights</span><span class="sxs-lookup"><span data-stu-id="9ce98-109">Where to find Application Insights data</span></span>
<span data-ttu-id="9ce98-110">Procure a telemetria do Application Insights nos indicadores do CodeLens dos métodos públicos de solicitação do aplicativo Web.</span><span class="sxs-lookup"><span data-stu-id="9ce98-110">Look for Application Insights telemetry in the CodeLens indicators of the public request methods of your web application.</span></span> <span data-ttu-id="9ce98-111">Os indicadores do CodeLens são mostrados acima do método e outras declarações no código do C# e do Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="9ce98-111">CodeLens indicators are shown above method and other declarations in C# and Visual Basic code.</span></span> <span data-ttu-id="9ce98-112">Se os dados do Application Insights estiverem disponíveis para um método, você verá indicadores para solicitações e exceções, como "100 solicitações, falha de 1%" ou "10 exceções".</span><span class="sxs-lookup"><span data-stu-id="9ce98-112">If Application Insights data is available for a method, you'll see indicators for requests and exceptions such as "100 requests, 1% failed" or "10 exceptions."</span></span> <span data-ttu-id="9ce98-113">Clique em um indicador do CodeLens para obter mais detalhes.</span><span class="sxs-lookup"><span data-stu-id="9ce98-113">Click a CodeLens indicator for more details.</span></span> 

> [!TIP]
> <span data-ttu-id="9ce98-114">Os indicadores de solicitação e exceção do Application Insights podem levar alguns segundos extras para serem carregados após outros indicadores do CodeLens aparecerem.</span><span class="sxs-lookup"><span data-stu-id="9ce98-114">Application Insights request and exception indicators may take a few extra seconds to load after other CodeLens indicators appear.</span></span>
> 
> 

## <a name="exceptions-in-codelens"></a><span data-ttu-id="9ce98-115">Exceções em CodeLens</span><span class="sxs-lookup"><span data-stu-id="9ce98-115">Exceptions in CodeLens</span></span>
![TBD](./media/app-insights-visual-studio-codelens/codelens-exceptions.png)

<span data-ttu-id="9ce98-117">O indicador de exceção do CodeLens mostra o número de exceções que ocorreram nas últimas 24 horas das 15 exceções mais frequentes no aplicativo durante esse período, enquanto processa a solicitação fornecida pelo método.</span><span class="sxs-lookup"><span data-stu-id="9ce98-117">The exception CodeLens indicator shows the number of exceptions that have occurred in the past 24 hours from the 15 most frequently occurring exceptions in your application during that period, while processing the request served by the method.</span></span>

<span data-ttu-id="9ce98-118">Para obter mais detalhes, clique no indicador de exceções do CodeLens:</span><span class="sxs-lookup"><span data-stu-id="9ce98-118">To see more details, click the exceptions CodeLens indicator:</span></span>

* <span data-ttu-id="9ce98-119">A alteração de porcentagem no número de exceções das últimas 24 horas em relação às 24 horas anteriores</span><span class="sxs-lookup"><span data-stu-id="9ce98-119">The percentage change in number of exceptions from the most recent 24 hours relative to the prior 24 hours</span></span>
* <span data-ttu-id="9ce98-120">Escolha **Ir para código** para navegar até o código-fonte da função que está lançando a exceção</span><span class="sxs-lookup"><span data-stu-id="9ce98-120">Choose **Go to code** to navigate to the source code for the function throwing the exception</span></span>
* <span data-ttu-id="9ce98-121">Escolha **Pesquisar** para consultar todas as instâncias dessa exceção que ocorreram nas últimas 24 horas</span><span class="sxs-lookup"><span data-stu-id="9ce98-121">Choose **Search** to query all instances of this exception that have occurred in the past 24 hours</span></span>
* <span data-ttu-id="9ce98-122">Escolha **Tendência** para exibir uma visualização de tendência das ocorrências dessa exceção nas últimas 24 horas</span><span class="sxs-lookup"><span data-stu-id="9ce98-122">Choose **Trend** to view a trend visualization for occurrences of this exception in the past 24 hours</span></span>
* <span data-ttu-id="9ce98-123">Escolha **Exibir todas as exceções neste aplicativo** para consultar todas as exceções que ocorreram nas últimas 24 horas</span><span class="sxs-lookup"><span data-stu-id="9ce98-123">Choose **View all exceptions in this app** to query all exceptions that have occurred in the past 24 hours</span></span>
* <span data-ttu-id="9ce98-124">Escolha **Explorar tendências de exceção** para exibir uma visualização de tendências de todas as exceções que ocorreram nas últimas 24 horas.</span><span class="sxs-lookup"><span data-stu-id="9ce98-124">Choose **Explore exception trends** to view a trend visualization for all exceptions that have occurred in the past 24 hours.</span></span> 

> [!TIP]
> <span data-ttu-id="9ce98-125">Se você vir "0 exceções" no CodeLens, mas souber que deve haver exceções, verifique se o recurso do Application Insights correto está selecionado no CodeLens.</span><span class="sxs-lookup"><span data-stu-id="9ce98-125">If you see "0 exceptions" in CodeLens but you know there should be exceptions, check to make sure the right Application Insights resource is selected in CodeLens.</span></span> <span data-ttu-id="9ce98-126">Para selecionar outro recurso, clique no projeto no Gerenciador de Soluções e escolha **Application Insights > Escolher Fonte de Telemetria**.</span><span class="sxs-lookup"><span data-stu-id="9ce98-126">To select another resource, right-click on your project in the Solution Explorer and choose **Application Insights > Choose Telemetry Source**.</span></span> <span data-ttu-id="9ce98-127">O CodeLens só é exibido para as 15 exceções que ocorreram com mais frequência no aplicativo nas últimas 24 horas. Assim, se uma exceção for a 16ª mais frequente ou menos, você verá "0 exceções".</span><span class="sxs-lookup"><span data-stu-id="9ce98-127">CodeLens is only shown for the 15 most frequently occurring exceptions in your application in the past 24 hours, so if an exception is the 16th most frequently or less, you'll see "0 exceptions."</span></span> <span data-ttu-id="9ce98-128">Exceções de exibições do ASP.NET podem não aparecer nos métodos de controlador que geraram essas exibições.</span><span class="sxs-lookup"><span data-stu-id="9ce98-128">Exceptions from ASP.NET views may not appear on the controller methods that generated those views.</span></span>
> 
> [!TIP]
> <span data-ttu-id="9ce98-129">Se vir "?</span><span class="sxs-lookup"><span data-stu-id="9ce98-129">If you see "?</span></span> <span data-ttu-id="9ce98-130">exceções"no CodeLens, você precisará associar sua conta do Azure ao Visual Studio, ou suas credenciais de conta do Azure podem ter expirado.</span><span class="sxs-lookup"><span data-stu-id="9ce98-130">exceptions" in CodeLens, you need to associate your Azure account with Visual Studio or your Azure account credential may have expired.</span></span> <span data-ttu-id="9ce98-131">Em ambos os casos, clique em "?</span><span class="sxs-lookup"><span data-stu-id="9ce98-131">In either case, click "?</span></span> <span data-ttu-id="9ce98-132">exceções"e escolha **Adicionar uma conta...** para inserir suas credenciais.</span><span class="sxs-lookup"><span data-stu-id="9ce98-132">exceptions" and choose **Add an account...** to enter your credentials.</span></span>
> 
> 

## <a name="requests-in-codelens"></a><span data-ttu-id="9ce98-133">Solicitações no CodeLens</span><span class="sxs-lookup"><span data-stu-id="9ce98-133">Requests in CodeLens</span></span>
![TBD](./media/app-insights-visual-studio-codelens/codelens-requests.png)

<span data-ttu-id="9ce98-135">A solicitação de indicador do CodeLens mostra o número de solicitações HTTP que foram atendidas por um método nas últimas 24 horas, mais a porcentagem de solicitações que falharam.</span><span class="sxs-lookup"><span data-stu-id="9ce98-135">The request CodeLens indicator shows the number of HTTP requests that been serviced by a method in the past 24 hours, plus the percentage of those requests that failed.</span></span>

<span data-ttu-id="9ce98-136">Para obter mais detalhes, clique nas solicitações no indicador do CodeLens:</span><span class="sxs-lookup"><span data-stu-id="9ce98-136">To see more details, click the requests CodeLens indicator:</span></span>

* <span data-ttu-id="9ce98-137">As alterações absolutas e percentuais no número de solicitações, solicitações com falha e tempos de resposta médios nas últimas 24 horas em comparação com as 24 horas anteriores</span><span class="sxs-lookup"><span data-stu-id="9ce98-137">The absolute and percentage changes in number of requests, failed requests, and average response times over the past 24 hours compared to the prior 24 hours</span></span>
* <span data-ttu-id="9ce98-138">A confiabilidade do método, calculada como a porcentagem de solicitações que não falharam nas últimas 24 horas</span><span class="sxs-lookup"><span data-stu-id="9ce98-138">The reliability of the method, calculated as the percentage of requests that did not fail in the past 24 hours</span></span>
* <span data-ttu-id="9ce98-139">Escolha **Pesquisar** para solicitações ou solicitações com falha para consultar todas as solicitações (com falha) que ocorreram nas últimas 24 horas</span><span class="sxs-lookup"><span data-stu-id="9ce98-139">Choose **Search** for requests or failed requests to query all the (failed) requests that occurred in the past 24 hours</span></span>
* <span data-ttu-id="9ce98-140">Escolha **Tendência** para exibir uma visualização de tendências de solicitações, solicitações com falha ou tempos de resposta médios nas últimas 24 horas.</span><span class="sxs-lookup"><span data-stu-id="9ce98-140">Choose **Trend** to view a trend visualization for requests, failed requests, or average response times in the past 24 hours.</span></span>
* <span data-ttu-id="9ce98-141">Escolha o nome do recurso do Application Insights no canto superior esquerdo da exibição de detalhes do CodeLens para alterar o recurso que é a fonte de dados do CodeLens.</span><span class="sxs-lookup"><span data-stu-id="9ce98-141">Choose the name of the Application Insights resource in the upper left corner of the CodeLens details view to change which resource is the source for CodeLens data.</span></span>

## <span data-ttu-id="9ce98-142"><a name="next"></a>Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="9ce98-142"><a name="next"></a>Next steps</span></span>
|  |  |
| --- | --- |
| <span data-ttu-id="9ce98-143">**[Trabalhando com o Application Insights no Visual Studio](app-insights-visual-studio.md)**</span><span class="sxs-lookup"><span data-stu-id="9ce98-143">**[Working with Application Insights in Visual Studio](app-insights-visual-studio.md)**</span></span><br/><span data-ttu-id="9ce98-144">Pesquisar telemetria, ver dados em CodeLens e configurar o Application Insights.</span><span class="sxs-lookup"><span data-stu-id="9ce98-144">Search telemetry, see data in CodeLens, and configure Application Insights.</span></span> <span data-ttu-id="9ce98-145">Tudo no Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="9ce98-145">All within Visual Studio.</span></span> |![Clique com o botão direito no projeto e escolha Application Insights, Pesquisar.](./media/app-insights-visual-studio-codelens/34.png) |
| <span data-ttu-id="9ce98-147">**[Adicionar mais dados](app-insights-asp-net-more.md)**</span><span class="sxs-lookup"><span data-stu-id="9ce98-147">**[Add more data](app-insights-asp-net-more.md)**</span></span><br/><span data-ttu-id="9ce98-148">Monitorar o uso, a disponibilidade, as dependências e as exceções.</span><span class="sxs-lookup"><span data-stu-id="9ce98-148">Monitor usage, availability, dependencies, exceptions.</span></span> <span data-ttu-id="9ce98-149">Integrar rastreamentos de estruturas de logs.</span><span class="sxs-lookup"><span data-stu-id="9ce98-149">Integrate traces from logging frameworks.</span></span> <span data-ttu-id="9ce98-150">Escrever telemetria personalizada.</span><span class="sxs-lookup"><span data-stu-id="9ce98-150">Write custom telemetry.</span></span> |![Visual Studio](./media/app-insights-visual-studio-codelens/64.png) |
| <span data-ttu-id="9ce98-152">**[Trabalhando com o portal do Application Insights](app-insights-dashboards.md)**</span><span class="sxs-lookup"><span data-stu-id="9ce98-152">**[Working with the Application Insights portal](app-insights-dashboards.md)**</span></span><br/><span data-ttu-id="9ce98-153">Painéis, poderosas ferramentas de diagnóstico e análise, alertas, um mapa de dependências em tempo real de seu aplicativo e a exportação de telemetria.</span><span class="sxs-lookup"><span data-stu-id="9ce98-153">Dashboards, powerful diagnostic and analytic tools, alerts, a live dependency map of your application, and telemetry export.</span></span> |![Visual Studio](./media/app-insights-visual-studio-codelens/62.png) |

