---
title: SQL Azure com o Azure RemoteApp | Microsoft Docs
description: Saiba como usar o SQL Azure com o Azure RemoteApp.
services: remoteapp
documentationcenter: 
author: ericorman
manager: mbaldwin
editor: 
ms.assetid: 35f81d75-bfd7-4980-807e-00339f2cb2a4
ms.service: remoteapp
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: na
ms.workload: compute
ms.date: 04/26/2017
ms.author: mbaldwin
ms.openlocfilehash: e3148a66ea65e78d47bd6c69742e288fa1afe12f
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="sql-azure-with-azure-remoteapp"></a><span data-ttu-id="8670f-103">SQL Azure com o Azure RemoteApp</span><span class="sxs-lookup"><span data-stu-id="8670f-103">SQL Azure with Azure RemoteApp</span></span>
> [!IMPORTANT]
> <span data-ttu-id="8670f-104">O Azure RemoteApp será descontinuado até 31 de agosto de 2017.</span><span class="sxs-lookup"><span data-stu-id="8670f-104">Azure RemoteApp is being discontinued on August 31, 2017.</span></span> <span data-ttu-id="8670f-105">Leia o [comunicado](https://go.microsoft.com/fwlink/?linkid=821148) para obter detalhes.</span><span class="sxs-lookup"><span data-stu-id="8670f-105">Read the [announcement](https://go.microsoft.com/fwlink/?linkid=821148) for details.</span></span>
> 
> 

<span data-ttu-id="8670f-106">Geralmente, quando os clientes optam por hospedar seus aplicativos do Windows na nuvem com o Azure RemoteApp, também querem migrar seus dados, como servidores SQL, para a nuvem para uma implantação de nuvem completa.</span><span class="sxs-lookup"><span data-stu-id="8670f-106">Often when customers choose to host their Windows applications in the cloud with Azure RemoteApp they also want to migrate their data such as SQL servers into the cloud for an entire cloud deployment.</span></span> <span data-ttu-id="8670f-107">Isso possibilita a solução hospedada de nuvem completa que pode ser acessada a qualquer momento por qualquer dispositivo em qualquer lugar usando o Azure RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="8670f-107">This allows for entire cloud hosted solution that can be accessed anytime by any device anywhere using Azure RemoteApp.</span></span> <span data-ttu-id="8670f-108">A seguir, os links e as referências juntamente com as orientações para ajudar você neste processo.</span><span class="sxs-lookup"><span data-stu-id="8670f-108">Below are links and references along with guidance to help you with this process.</span></span>  

## <a name="migrate-your-sql-data"></a><span data-ttu-id="8670f-109">Migrar os dados SQL</span><span class="sxs-lookup"><span data-stu-id="8670f-109">Migrate your SQL data</span></span>
<span data-ttu-id="8670f-110">Comece com [Migrando um banco de dados do SQL Server para o Banco de Dados SQL do Azure](../sql-database/sql-database-cloud-migrate.md).</span><span class="sxs-lookup"><span data-stu-id="8670f-110">Start with [Migrating a SQL Server database to Azure SQL Database](../sql-database/sql-database-cloud-migrate.md).</span></span> 

## <a name="configure-azure-remoteapp"></a><span data-ttu-id="8670f-111">Configurar o Azure RemoteApp</span><span class="sxs-lookup"><span data-stu-id="8670f-111">Configure Azure RemoteApp</span></span>
<span data-ttu-id="8670f-112">Hospede seu aplicativo do Windows no Azure RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="8670f-112">Host your Windows application in Azure RemoteApp.</span></span> <span data-ttu-id="8670f-113">A seguir, um passo a passo de nível muito alto:</span><span class="sxs-lookup"><span data-stu-id="8670f-113">Below is a very high level step-by-step:</span></span>

1. <span data-ttu-id="8670f-114">Crie a [VM de modelo do RemoteApp do Azure](remoteapp-imageoptions.md).</span><span class="sxs-lookup"><span data-stu-id="8670f-114">Create the [Azure RemoteApp template VM](remoteapp-imageoptions.md).</span></span> 
2. <span data-ttu-id="8670f-115">Instale o aplicativo necessário na VM.</span><span class="sxs-lookup"><span data-stu-id="8670f-115">Install the required application on the VM.</span></span>
3. <span data-ttu-id="8670f-116">Configure o aplicativo para que ele se conecte ao banco de dados SQL e confirme se ele funciona.</span><span class="sxs-lookup"><span data-stu-id="8670f-116">Configure the application so it connects to the SQL DB and confirm that it works.</span></span>
4. <span data-ttu-id="8670f-117">Execute o sysprep e desligue a máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="8670f-117">Sysprep and shutdown the VM.</span></span> <span data-ttu-id="8670f-118">Capture isso como uma imagem para usá-la com o Azure.</span><span class="sxs-lookup"><span data-stu-id="8670f-118">Capture this as an image for use with Azure.</span></span> <span data-ttu-id="8670f-119">**Observação:** você precisará garantir que o aplicativo seja capaz de manter as informações de conectividade do banco de dados por meio do processo sysprep.</span><span class="sxs-lookup"><span data-stu-id="8670f-119">**Note:** You will need to ensure that the application is able to retain the DB connectivity information through the sysprep process.</span></span> <span data-ttu-id="8670f-120">Se o aplicativo for incapaz de reter as informações de conexão do banco de dados, talvez seja melhor entrar em contato com o fornecedor do aplicativo para verificar como podemos especificar a cadeia de conexão.</span><span class="sxs-lookup"><span data-stu-id="8670f-120">If the application is unable to retain the DB connection information, you might want to engage the vendor of the application to check how we can specify the connection string.</span></span>
5. <span data-ttu-id="8670f-121">Importe a imagem personalizada para a biblioteca do Azure RemoteApp selecionando a localização geográfica adequada da sua implantação do SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="8670f-121">Import the custom image into your Azure RemoteApp library selecting the proper geographical location that your SQL Azure deployment resides.</span></span> 
6. <span data-ttu-id="8670f-122">Implante uma coleção do RemoteApp no mesmo data center como a implantação do SQL Azure usando o modelo acima e publique o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="8670f-122">Deploy a RemoteApp collection in the same data center as your SQL Azure deployment using the above template and publish the application.</span></span> <span data-ttu-id="8670f-123">A implantação do Azure RemoteApp no mesmo data center que a implantação do SQL Azure ajuda a garantir velocidades de conexão mais rápidas e a reduzir a latência.</span><span class="sxs-lookup"><span data-stu-id="8670f-123">Deploying Azure RemoteApp in the same data center as your SQL Azure deployment helps ensure the fastest connection speeds and reduce latency.</span></span> 

## <a name="app-and-sql-configuration-considerations"></a><span data-ttu-id="8670f-124">Considerações sobre a configuração do aplicativo e do SQL:</span><span class="sxs-lookup"><span data-stu-id="8670f-124">App and SQL configuration considerations:</span></span>
<span data-ttu-id="8670f-125">Há alguns pontos a considerar quando você estiver usando o SQL Azure com o RemoteApp:</span><span class="sxs-lookup"><span data-stu-id="8670f-125">There are a few points to consider when using Azure SQL with RemoteApp:</span></span>

<span data-ttu-id="8670f-126">Saiba [como configurar um firewall do banco de dados SQL do Azure](../sql-database/sql-database-firewall-configure.md).</span><span class="sxs-lookup"><span data-stu-id="8670f-126">Learn [how to configure an Azure SQL database firewall](../sql-database/sql-database-firewall-configure.md).</span></span> <span data-ttu-id="8670f-127">Um trecho do artigo declara “Inicialmente, todo acesso ao seu servidor do Banco de Dados SQL do Azure é bloqueado pelo firewall.</span><span class="sxs-lookup"><span data-stu-id="8670f-127">An excerpt from the article states, "Initially, all access to your Azure SQL Database server is blocked by the firewall.</span></span> <span data-ttu-id="8670f-128">Para começar a usar seu servidor de Banco de Dados SQL do Azure, você deve acessar o Portal Clássico e especificar uma ou mais regras de firewall no nível do servidor que permitem acesso ao seu servidor de Banco de Dados SQL do Azure.</span><span class="sxs-lookup"><span data-stu-id="8670f-128">In order to begin using your Azure SQL Database server, you must go to the Classic Portal and specify one or more server-level firewall rules that enable access to your Azure SQL Database server.</span></span> <span data-ttu-id="8670f-129">Use as regras de firewall para especificar quais intervalos de endereço IP da Internet têm permissão e se os aplicativos do Azure podem tentar se conectar ao seu servidor de Banco de Dados SQL”.</span><span class="sxs-lookup"><span data-stu-id="8670f-129">Use the firewall rules to specify which IP address ranges from the Internet are allowed, and whether or not Azure applications can attempt to connect to your Azure SQL Database server."</span></span>

<span data-ttu-id="8670f-130">Além disso, quando um computador tenta se conectar ao seu servidor de banco de dados pela Internet, o firewall verifica o endereço IP de origem da solicitação com base no conjunto completo de regras de firewall no nível do servidor e (se necessário) no nível do banco de dados:</span><span class="sxs-lookup"><span data-stu-id="8670f-130">Also, when a computer attempts to connect to your database server from the Internet, the firewall checks the originating IP address of the request against the full set of server-level and (if required) database-level firewall rules.</span></span> <span data-ttu-id="8670f-131">“Se o endereço IP da solicitação estiver dentro de um dos intervalos especificados nas regras de firewall no nível do servidor, a conexão será concedida ao seu servidor de Banco de Dados SQL do Azure.”</span><span class="sxs-lookup"><span data-stu-id="8670f-131">"If the IP address of the request is within one of the ranges specified in the server-level firewall rules, the connection is granted to your Azure SQL Database server."</span></span> <span data-ttu-id="8670f-132">Portanto, podemos usar Intervalos de IP e não apenas os endereços IP de origem individuais.</span><span class="sxs-lookup"><span data-stu-id="8670f-132">Hence, we can make use of IP Ranges and not just individual source IP addresses.</span></span>

<span data-ttu-id="8670f-133">Siga as instruções passo a passo em [Como definir as configurações de firewall no Banco de Dados SQL usando o Portal do Azure](../sql-database/sql-database-configure-firewall-settings.md) para especificar o intervalo de IPs.</span><span class="sxs-lookup"><span data-stu-id="8670f-133">Follow the step by step instructions in [How to: Configure firewall settings on SQL Database using the Azure Portal](../sql-database/sql-database-configure-firewall-settings.md) to specify the IP range.</span></span> <span data-ttu-id="8670f-134">Quando você estiver configurando as regras do Firewall do SQL, forneça o intervalo de IP da sub-rede especificada para a coleção do Azure RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="8670f-134">When you are configuring the SQL Firewall rules, please provide the IP range of the subnet that is specified for the Azure RemoteApp collection.</span></span> <span data-ttu-id="8670f-135">Isso deve permitir que os servidores ARA se conectem ao banco de dados SQL, embora eles tenham Endereços IP atribuídos dinamicamente.</span><span class="sxs-lookup"><span data-stu-id="8670f-135">This should allow the ARA servers to connect to the SQL DB even though they will have dynamically-assigned IP Addresses.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="8670f-136">Solucionar problemas</span><span class="sxs-lookup"><span data-stu-id="8670f-136">Troubleshooting</span></span>
<span data-ttu-id="8670f-137">Se a experiência de usar um aplicativo cliente hospedado no Azure RemoteApp que se conecta a um banco de dados SQL quando hospedado no Azure ou no local estiver lenta, pode haver alguns motivos para isso.</span><span class="sxs-lookup"><span data-stu-id="8670f-137">If the experience of using a client application hosted in Azure RemoteApp that connects to a SQL database where hosted on Azure or on-premises is slow there could be a few reasons why.</span></span>  

* <span data-ttu-id="8670f-138">A latência de rede do dispositivo até o Azure é alta.</span><span class="sxs-lookup"><span data-stu-id="8670f-138">Network latency from your device to Azure is high.</span></span> <span data-ttu-id="8670f-139">Mova para uma conexão de rede que seja melhor e mais rápida para obter o melhor desempenho.</span><span class="sxs-lookup"><span data-stu-id="8670f-139">Move to the best and fastest network connection you can for best performance.</span></span> <span data-ttu-id="8670f-140">Use [azurespeed.com](http://azurespeed.com/) como uma ferramenta geral para testar a latência dos dispositivos para o data center do Azure.</span><span class="sxs-lookup"><span data-stu-id="8670f-140">Use [azurespeed.com](http://azurespeed.com/) as a general tool to test your devices latency to Azure data center.</span></span>  
* <span data-ttu-id="8670f-141">O aplicativo cliente hospedado no Azure RemoteApp está sob carga excessiva.</span><span class="sxs-lookup"><span data-stu-id="8670f-141">Client app hosted in Azure RemoteApp is under stress.</span></span> <span data-ttu-id="8670f-142">Escolher um plano de cobrança diferente, como a cobrança Premium, melhorará o desempenho.</span><span class="sxs-lookup"><span data-stu-id="8670f-142">Selecting a different billing plan such as Premium billing will improve performance.</span></span> <span data-ttu-id="8670f-143">Outro truque é monitorar os recursos que o aplicativo está consumindo: durante uma sessão ativa, execute uma sequência de teclas ctrl-alt-end para iniciar a tela SAS, selecione o Gerenciador de Tarefas e observe a utilização de recursos para seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="8670f-143">Another trick is to monitor the resources your application is consuming: during an active session perform a ctrl-alt-end key sequence which will launch the SAS screen, select Task Manager and observe resource utilization for your app.</span></span>
* <span data-ttu-id="8670f-144">O servidor SQL está sob carga excessiva ou não está otimizado.</span><span class="sxs-lookup"><span data-stu-id="8670f-144">SQL server is under stress or not optimized.</span></span> <span data-ttu-id="8670f-145">Siga as diretrizes do SQL para solução de problemas.</span><span class="sxs-lookup"><span data-stu-id="8670f-145">Follow SQL guidance for troubleshooting.</span></span> 

