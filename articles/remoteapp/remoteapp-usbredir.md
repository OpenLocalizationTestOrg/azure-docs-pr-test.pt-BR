---
title: Como redirecionar dispositivos USB no Azure RemoteApp? | Microsoft Docs
description: Saiba como usar o redirecionamento para dispositivos USB no Azure RemoteApp.
services: remoteapp
documentationcenter: 
author: msmbaldwin
manager: mbaldwin
ms.assetid: 191d98af-2f5a-4307-9042-aae0e4049f9f
ms.service: remoteapp
ms.workload: compute
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 04/26/2017
ms.author: mbaldwin
ms.openlocfilehash: 3d7165d2c3dafe87b829e588b9e7f2c377552a35
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="how-do-you-redirect-usb-devices-in-azure-remoteapp"></a><span data-ttu-id="cffd8-104">Como redirecionar dispositivos USB no Azure RemoteApp?</span><span class="sxs-lookup"><span data-stu-id="cffd8-104">How do you redirect USB devices in Azure RemoteApp?</span></span>
> [!IMPORTANT]
> <span data-ttu-id="cffd8-105">O Azure RemoteApp será descontinuado até 31 de agosto de 2017.</span><span class="sxs-lookup"><span data-stu-id="cffd8-105">Azure RemoteApp is being discontinued on August 31, 2017.</span></span> <span data-ttu-id="cffd8-106">Leia o [comunicado](https://go.microsoft.com/fwlink/?linkid=821148) para obter detalhes.</span><span class="sxs-lookup"><span data-stu-id="cffd8-106">Read the [announcement](https://go.microsoft.com/fwlink/?linkid=821148) for details.</span></span>
> 
> 

<span data-ttu-id="cffd8-107">O redirecionamento de dispositivo permite que os usuários usem os dispositivos USB conectados ao seu computador ou tablet com os aplicativos no Azure RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="cffd8-107">Device redirection lets users use the USB devices attached to their computer or tablet with the apps in Azure RemoteApp.</span></span> <span data-ttu-id="cffd8-108">Por exemplo, se você compartilhou o Skype por meio do Azure RemoteApp, os usuários terão de conseguir usar as câmeras de seus dispositivos.</span><span class="sxs-lookup"><span data-stu-id="cffd8-108">For example, if you shared Skype through Azure RemoteApp, your users need to be able to use their device cameras.</span></span>

<span data-ttu-id="cffd8-109">Antes de continuar, lembre-se de ler as informações de redirecionamento de USB em [Usando o redirecionamento no Azure RemoteApp](remoteapp-redirection.md).</span><span class="sxs-lookup"><span data-stu-id="cffd8-109">Before you go further, make sure you read the USB redirection information in [Using redirection in Azure RemoteApp](remoteapp-redirection.md).</span></span> <span data-ttu-id="cffd8-110">No entanto, o nusbdevicestoredirect:s:* recomendado não funcionará para webcams USB e pode não funcionar para algumas impressoras USB ou dispositivos USB multifuncionais.</span><span class="sxs-lookup"><span data-stu-id="cffd8-110">However the recommended  nusbdevicestoredirect:s:* won't work for USB web cameras and may not work for some USB printers or USB multifunctional devices.</span></span> <span data-ttu-id="cffd8-111">Por motivos de design e de segurança, o administrador do Azure RemoteApp precisa habilitar o redirecionamento por GUID de classe de dispositivo ou por ID de instância de dispositivo antes que seus usuários possam usar esses dispositivos.</span><span class="sxs-lookup"><span data-stu-id="cffd8-111">By design and for security reasons, the Azure RemoteApp administrator has to enable redirection either by device class GUID or by device instance ID before your users can use those devices.</span></span>

<span data-ttu-id="cffd8-112">Embora este artigo fale sobre o redirecionamento da webcam, você pode usar uma abordagem semelhante para redirecionar impressoras USB e outros dispositivos USB multifuncionais que não são redirecionados pelo comando **nusbdevicestoredirect:s:***.</span><span class="sxs-lookup"><span data-stu-id="cffd8-112">Although this article talks about web camera redirection, you can use a similar approach to redirect USB printers and other USB multifunctional devices that are not redirected by the **nusbdevicestoredirect:s:*** command.</span></span>

## <a name="redirection-options-for-usb-devices"></a><span data-ttu-id="cffd8-113">Opções de redirecionamento para dispositivos USB</span><span class="sxs-lookup"><span data-stu-id="cffd8-113">Redirection options for USB devices</span></span>
<span data-ttu-id="cffd8-114">O Azure RemoteApp usa mecanismos muito semelhantes para redirecionar dispositivos USB como os que estão disponíveis para os Serviços de Área de Trabalho Remota.</span><span class="sxs-lookup"><span data-stu-id="cffd8-114">Azure RemoteApp uses very similar mechanisms for redirecting USB devices as the ones available for Remote Desktop Services.</span></span> <span data-ttu-id="cffd8-115">A tecnologia subjacente permite que você escolha o método de redirecionamento correto para um determinado dispositivo, para obter o melhor do redirecionamento de dispositivo USB de alto nível e RemoteFX usando o comando **usbdevicestoredirect:s:** .</span><span class="sxs-lookup"><span data-stu-id="cffd8-115">The underlying technology lets you choose the correct redirection method for a given device, to get the best of both high-level and RemoteFX USB device redirection using the **usbdevicestoredirect:s:** command.</span></span> <span data-ttu-id="cffd8-116">Há quatro elementos neste comando:</span><span class="sxs-lookup"><span data-stu-id="cffd8-116">There are four elements to this command:</span></span>

| <span data-ttu-id="cffd8-117">Ordem de processamento</span><span class="sxs-lookup"><span data-stu-id="cffd8-117">Processing order</span></span> | <span data-ttu-id="cffd8-118">Parâmetro</span><span class="sxs-lookup"><span data-stu-id="cffd8-118">Parameter</span></span> | <span data-ttu-id="cffd8-119">Descrição</span><span class="sxs-lookup"><span data-stu-id="cffd8-119">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="cffd8-120">1</span><span class="sxs-lookup"><span data-stu-id="cffd8-120">1</span></span> |* |<span data-ttu-id="cffd8-121">Seleciona todos os dispositivos que não são captados pelo redirecionamento de alto nível.</span><span class="sxs-lookup"><span data-stu-id="cffd8-121">Selects all devices that aren't picked up by high-level redirection.</span></span> <span data-ttu-id="cffd8-122">Observação: por design, o * não funciona para webcams USB.</span><span class="sxs-lookup"><span data-stu-id="cffd8-122">Note: By design, * doesn't work for USB web cameras.</span></span> |
| <span data-ttu-id="cffd8-123">{GUID de classe do dispositivo}</span><span class="sxs-lookup"><span data-stu-id="cffd8-123">{Device class GUID}</span></span> |<span data-ttu-id="cffd8-124">Seleciona todos os dispositivos que correspondem à classe de instalação do dispositivo especificado.</span><span class="sxs-lookup"><span data-stu-id="cffd8-124">Selects all devices that match the specified device setup class.</span></span> | |
| <span data-ttu-id="cffd8-125">USB\InstanceID</span><span class="sxs-lookup"><span data-stu-id="cffd8-125">USB\InstanceID</span></span> |<span data-ttu-id="cffd8-126">Seleciona um dispositivo USB especificado para a ID de instância indicada.</span><span class="sxs-lookup"><span data-stu-id="cffd8-126">Selects a USB device specified for the given instance ID.</span></span> | |
| <span data-ttu-id="cffd8-127">2</span><span class="sxs-lookup"><span data-stu-id="cffd8-127">2</span></span> |<span data-ttu-id="cffd8-128">-USB\Instance ID</span><span class="sxs-lookup"><span data-stu-id="cffd8-128">-USB\Instance ID</span></span> |<span data-ttu-id="cffd8-129">Remove as configurações de redirecionamento para o dispositivo especificado.</span><span class="sxs-lookup"><span data-stu-id="cffd8-129">Removes the redirection settings for the specified device.</span></span> |

## <a name="redirecting-a-usb-device-by-using-the-device-class-guid"></a><span data-ttu-id="cffd8-130">Redirecionando um dispositivo USB usando o GUID de classe do dispositivo</span><span class="sxs-lookup"><span data-stu-id="cffd8-130">Redirecting a USB device by using the device class GUID</span></span>
<span data-ttu-id="cffd8-131">Há duas maneiras para encontrar o GUID de classe do dispositivo que pode ser usado no redirecionamento.</span><span class="sxs-lookup"><span data-stu-id="cffd8-131">There are two ways to find the device class GUID that can be used for redirection.</span></span> 

<span data-ttu-id="cffd8-132">A primeira opção é usar as [Classes de instalação de dispositivo definidas pelo sistema disponíveis para fornecedores](https://msdn.microsoft.com/library/windows/hardware/ff553426.aspx).</span><span class="sxs-lookup"><span data-stu-id="cffd8-132">The first option is to use the [System-Defined Device Setup Classes Available to Vendors](https://msdn.microsoft.com/library/windows/hardware/ff553426.aspx).</span></span> <span data-ttu-id="cffd8-133">Selecione a classe que mais se aproxima do dispositivo conectado ao computador local.</span><span class="sxs-lookup"><span data-stu-id="cffd8-133">Pick the class that most closely matches the device attached to the local computer.</span></span> <span data-ttu-id="cffd8-134">Para câmeras digitais, isso pode ser uma classe de Dispositivo de Imagem ou de Dispositivo de Captura de Vídeo.</span><span class="sxs-lookup"><span data-stu-id="cffd8-134">For digital cameras this could be an Imaging Device class or Video Capture Device class.</span></span> <span data-ttu-id="cffd8-135">Você precisará fazer alguns testes com as classes de dispositivo para encontrar o GUID de classe correto que funciona com o dispositivo USB conectado localmente (em nosso caso, a webcam).</span><span class="sxs-lookup"><span data-stu-id="cffd8-135">You'll need to do some experimentation with the device classes to find the correct class GUID that works with the locally attached USB device (in our case the web camera).</span></span>

<span data-ttu-id="cffd8-136">Uma maneira melhor, ou a segunda opção, é seguir estas etapas para encontrar o GUID de classe de dispositivo específico:</span><span class="sxs-lookup"><span data-stu-id="cffd8-136">A better way, or the second option, is to follow these steps to find the specific device class GUID:</span></span>

1. <span data-ttu-id="cffd8-137">Abra o Gerenciador de Dispositivos, localize o dispositivo que será redirecionado e clique com o botão direito do mouse nele e, em seguida, abra as propriedades.</span><span class="sxs-lookup"><span data-stu-id="cffd8-137">Open the Device Manager, locate the device that will be redirected and right-click it, and then open the properties.</span></span>
   <span data-ttu-id="cffd8-138">![Abrir o Gerenciador de Dispositivos](./media/remoteapp-usbredir/ra-devicemanager.png)</span><span class="sxs-lookup"><span data-stu-id="cffd8-138">![Open the Device Manager](./media/remoteapp-usbredir/ra-devicemanager.png)</span></span>
2. <span data-ttu-id="cffd8-139">Na guia **Detalhes**, escolha a propriedade **Guid de Classe**.</span><span class="sxs-lookup"><span data-stu-id="cffd8-139">On the **Details** tab, choose the property **Class Guid**.</span></span> <span data-ttu-id="cffd8-140">O valor que aparece é o GUID de Classe para esse tipo de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="cffd8-140">The value which appears is the Class GUID for that type of device.</span></span>
   <span data-ttu-id="cffd8-141">![Propriedades da câmera](./media/remoteapp-usbredir/ra-classguid.png)</span><span class="sxs-lookup"><span data-stu-id="cffd8-141">![Camera properties](./media/remoteapp-usbredir/ra-classguid.png)</span></span>
3. <span data-ttu-id="cffd8-142">Use o valor de GUID de classe para redirecionar dispositivos que correspondem a ele.</span><span class="sxs-lookup"><span data-stu-id="cffd8-142">Use the Class Guid value to redirect devices that match it.</span></span>

<span data-ttu-id="cffd8-143">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="cffd8-143">For example:</span></span>

        Set-AzureRemoteAppCollection -CollectionName <collection name> -CustomRdpProperty "nusbdevicestoredirect:s:<Class Guid value>"

<span data-ttu-id="cffd8-144">É possível combinar vários redirecionamentos de dispositivo no mesmo cmdlet.</span><span class="sxs-lookup"><span data-stu-id="cffd8-144">You can combine multiple device redirections in the same cmdlet.</span></span> <span data-ttu-id="cffd8-145">Por exemplo: para redirecionar o armazenamento local e uma webcam USB, o cmdlet tem esta aparência:</span><span class="sxs-lookup"><span data-stu-id="cffd8-145">For example: to redirect local storage and a USB web camera, cmdlet looks like this:</span></span>

        Set-AzureRemoteAppCollection -CollectionName <collection name> -CustomRdpProperty "drivestoredirect:s:*`nusbdevicestoredirect:s:<Class Guid value>"

<span data-ttu-id="cffd8-146">Ao definir o redirecionamento de dispositivo pelo GUID de classe, todos os dispositivos que correspondem ao GUID de classe na coleção especificada são redirecionados.</span><span class="sxs-lookup"><span data-stu-id="cffd8-146">When you set device redirection by class GUID all devices that match that class GUID in the specified collection are redirected.</span></span> <span data-ttu-id="cffd8-147">Por exemplo, se houver vários computadores na rede local que tenham as mesmas webcams USB, você poderá executar um único cmdlet para redirecionar todas as webcams.</span><span class="sxs-lookup"><span data-stu-id="cffd8-147">For example, if there are multiple computers on the local network that have the same USB web cameras, you can run a single cmdlet to redirect all of the web cameras.</span></span>

## <a name="redirecting-a-usb-device-by-using-the-device-instance-id"></a><span data-ttu-id="cffd8-148">Redirecionando um dispositivo USB usando a ID de instância do dispositivo</span><span class="sxs-lookup"><span data-stu-id="cffd8-148">Redirecting a USB device by using the device instance ID</span></span>
<span data-ttu-id="cffd8-149">Se desejar um controle mais refinado e controlar o redirecionamento por dispositivo, você poderá usar o parâmetro de redirecionamento **USB\InstanceID**.</span><span class="sxs-lookup"><span data-stu-id="cffd8-149">If you want more fine-grained control and want to control redirection per device, you can use the **USB\InstanceID** redirection parameter.</span></span>

<span data-ttu-id="cffd8-150">A parte mais difícil deste método é encontrar a ID de instância do dispositivo USB.</span><span class="sxs-lookup"><span data-stu-id="cffd8-150">The hardest part of this method is finding the USB device instance ID.</span></span> <span data-ttu-id="cffd8-151">Você precisará ter acesso ao computador e ao dispositivo USB específico.</span><span class="sxs-lookup"><span data-stu-id="cffd8-151">You'll need access to the computer and the specific USB device.</span></span> <span data-ttu-id="cffd8-152">Depois, siga estas etapas:</span><span class="sxs-lookup"><span data-stu-id="cffd8-152">Then follow these steps:</span></span>

1. <span data-ttu-id="cffd8-153">Habilite o redirecionamento de dispositivo na Sessão de Área de Trabalho Remota, como descrito em [Como posso usar meus dispositivos e recursos em uma sessão de Área de Trabalho Remota?](http://windows.microsoft.com/en-us/windows7/How-can-I-use-my-devices-and-resources-in-a-Remote-Desktop-session)</span><span class="sxs-lookup"><span data-stu-id="cffd8-153">Enable the device redirection in Remote Desktop Session as described in [How can I use my devices and resources in a Remote Desktop session?](http://windows.microsoft.com/en-us/windows7/How-can-I-use-my-devices-and-resources-in-a-Remote-Desktop-session)</span></span>
2. <span data-ttu-id="cffd8-154">Abra uma Conexão de Área de Trabalho Remota e clique em **Mostrar Opções**.</span><span class="sxs-lookup"><span data-stu-id="cffd8-154">Open a Remote Desktop Connection and click **Show Options**.</span></span>
3. <span data-ttu-id="cffd8-155">Clique em **Salvar como** para salvar as configurações atuais de conexão em um arquivo RDP.</span><span class="sxs-lookup"><span data-stu-id="cffd8-155">Click **Save as** to save the current connection settings to an RDP file.</span></span>  
    <span data-ttu-id="cffd8-156">![Salvar as configurações como um arquivo RDP](./media/remoteapp-usbredir/ra-saveasrdp.png)</span><span class="sxs-lookup"><span data-stu-id="cffd8-156">![Save the settings as an RDP file](./media/remoteapp-usbredir/ra-saveasrdp.png)</span></span>
4. <span data-ttu-id="cffd8-157">Escolha um nome de arquivo e um local, por exemplo, “MyConnection.rdp” e “This PC\Documents” e salve o arquivo.</span><span class="sxs-lookup"><span data-stu-id="cffd8-157">Choose a file name and a location, for example MyConnection.rdp and This PC\Documents, and save the file.</span></span>
5. <span data-ttu-id="cffd8-158">Abra o arquivo MyConnection.rdp usando um editor de texto e encontre a ID de instância do dispositivo que você deseja redirecionar.</span><span class="sxs-lookup"><span data-stu-id="cffd8-158">Open the MyConnection.rdp file using a text editor and find the instance ID of the device you want to redirect.</span></span>

<span data-ttu-id="cffd8-159">Agora, use a ID de instância no seguinte cmdlet:</span><span class="sxs-lookup"><span data-stu-id="cffd8-159">Now, use the instance ID in the following cmdlet:</span></span>

    Set-AzureRemoteAppCollection -CollectionName <collection name> -CustomRdpProperty "nusbdevicestoredirect:s: USB\<Device InstanceID value>"



### <a name="help-us-help-you"></a><span data-ttu-id="cffd8-160">Ajude-nos a ajudar você</span><span class="sxs-lookup"><span data-stu-id="cffd8-160">Help us help you</span></span>
<span data-ttu-id="cffd8-161">Você sabia que, além de classificar este artigo e fazer comentários, você pode alterar o próprio artigo?</span><span class="sxs-lookup"><span data-stu-id="cffd8-161">Did you know that in addition to rating this article and making comments down below, you can make changes to the article itself?</span></span> <span data-ttu-id="cffd8-162">Falta alguma coisa?</span><span class="sxs-lookup"><span data-stu-id="cffd8-162">Something missing?</span></span> <span data-ttu-id="cffd8-163">Há algo errado?</span><span class="sxs-lookup"><span data-stu-id="cffd8-163">Something wrong?</span></span> <span data-ttu-id="cffd8-164">Escrevi algo que não ficou muito claro?</span><span class="sxs-lookup"><span data-stu-id="cffd8-164">Did I write something that's just confusing?</span></span> <span data-ttu-id="cffd8-165">Role para cima e clique em **Editar no GitHub** para fazer alterações - elas serão enviadas para que as examinemos e, assim que elas forem desconectadas, você verá suas alterações e aprimoramentos bem aqui.</span><span class="sxs-lookup"><span data-stu-id="cffd8-165">Scroll up and click **Edit on GitHub** to make changes - those will come to us for review, and then, once we sign off on them, you'll see your changes and improvements right here.</span></span>

