---
title: "aaaCreating uma imagem de máquina virtual para hello Azure Marketplace | Microsoft Docs"
description: "Instruções detalhadas sobre como toocreate uma máquina virtual de imagem hello Azure Marketplace para outros toopurchase."
services: Azure Marketplace
documentationcenter: 
author: HannibalSII
manager: hascipio
editor: 
ms.assetid: 5c937b8e-e28d-4007-9fef-624046bca2ae
ms.service: marketplace
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: Azure
ms.workload: na
ms.date: 01/05/2017
ms.author: hascipio; v-divte
ms.openlocfilehash: 65e1c0530bb050fb379a52544e36c55faacd84df
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="guide-toocreate-a-virtual-machine-image-for-hello-azure-marketplace"></a><span data-ttu-id="f30e3-103">Guia toocreate uma imagem de máquina virtual para hello Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="f30e3-103">Guide toocreate a virtual machine image for hello Azure Marketplace</span></span>
<span data-ttu-id="f30e3-104">Neste artigo, **etapa 2**, orienta Preparando Olá discos de rígidos virtuais (VHDs) que você implantará toohello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="f30e3-104">This article, **Step 2**, walks you through preparing hello virtual hard disks (VHDs) that you will deploy toohello Azure Marketplace.</span></span> <span data-ttu-id="f30e3-105">Seus VHDs são a base de saudação do seu SKU.</span><span class="sxs-lookup"><span data-stu-id="f30e3-105">Your VHDs are hello foundation of your SKU.</span></span> <span data-ttu-id="f30e3-106">processo de saudação difere dependendo se você está fornecendo um SKU baseado em Windows ou Linux.</span><span class="sxs-lookup"><span data-stu-id="f30e3-106">hello process differs depending on whether you are providing a Linux-based or Windows-based SKU.</span></span> <span data-ttu-id="f30e3-107">Este artigo aborda ambos os cenários.</span><span class="sxs-lookup"><span data-stu-id="f30e3-107">This article covers both scenarios.</span></span> <span data-ttu-id="f30e3-108">Esse processo pode ser executado em paralelo com [Criação e registro de conta][link-acct-creation].</span><span class="sxs-lookup"><span data-stu-id="f30e3-108">This process can be performed in parallel with [Account creation and registration][link-acct-creation].</span></span>

## <a name="1-define-offers-and-skus"></a><span data-ttu-id="f30e3-109">1. Definir ofertas e SKUs</span><span class="sxs-lookup"><span data-stu-id="f30e3-109">1. Define Offers and SKUs</span></span>
<span data-ttu-id="f30e3-110">Nesta seção, você aprenderá toodefine Olá ofertas e seus SKUs associados.</span><span class="sxs-lookup"><span data-stu-id="f30e3-110">In this section, you learn toodefine hello offers and their associated SKUs.</span></span>

<span data-ttu-id="f30e3-111">Uma oferta é um tooall "pai" de seus SKUs.</span><span class="sxs-lookup"><span data-stu-id="f30e3-111">An offer is a "parent" tooall of its SKUs.</span></span> <span data-ttu-id="f30e3-112">Pode haver várias ofertas.</span><span class="sxs-lookup"><span data-stu-id="f30e3-112">You can have multiple offers.</span></span> <span data-ttu-id="f30e3-113">Como decidir toostructure suas ofertas é tooyou.</span><span class="sxs-lookup"><span data-stu-id="f30e3-113">How you decide toostructure your offers is up tooyou.</span></span> <span data-ttu-id="f30e3-114">Quando uma oferta é impulsionada toostaging, ele é enviado junto com todos os seus SKUs.</span><span class="sxs-lookup"><span data-stu-id="f30e3-114">When an offer is pushed toostaging, it is pushed along with all of its SKUs.</span></span> <span data-ttu-id="f30e3-115">Considere cuidadosamente seu identificadores SKU, porque eles estarão visíveis na URL de saudação:</span><span class="sxs-lookup"><span data-stu-id="f30e3-115">Carefully consider your SKU identifiers, because they will be visible in hello URL:</span></span>

* <span data-ttu-id="f30e3-116">Azure.com: http://azure.microsoft.com/marketplace/partners/{PartnerNamespace}/{OfferIdentifier}-{SKUidentifier}</span><span class="sxs-lookup"><span data-stu-id="f30e3-116">Azure.com: http://azure.microsoft.com/marketplace/partners/{PartnerNamespace}/{OfferIdentifier}-{SKUidentifier}</span></span>
* <span data-ttu-id="f30e3-117">Versão Prévia do Portal do Azure: https://portal.azure.com/#gallery/{PublisherNamespace}.{OfferIdentifier}{SKUIDdentifier}</span><span class="sxs-lookup"><span data-stu-id="f30e3-117">Azure preview portal: https://portal.azure.com/#gallery/{PublisherNamespace}.{OfferIdentifier}{SKUIDdentifier}</span></span>  

<span data-ttu-id="f30e3-118">Um SKU é Olá comercial de uma imagem de VM.</span><span class="sxs-lookup"><span data-stu-id="f30e3-118">A SKU is hello commercial name for a VM image.</span></span> <span data-ttu-id="f30e3-119">Uma imagem de VM contém um disco de sistema operacional e zero ou mais discos de dados.</span><span class="sxs-lookup"><span data-stu-id="f30e3-119">A VM image contains one operating system disk and zero or more data disks.</span></span> <span data-ttu-id="f30e3-120">É essencialmente o perfil de armazenamento completa Olá para uma máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="f30e3-120">It is essentially hello complete storage profile for a virtual machine.</span></span> <span data-ttu-id="f30e3-121">É necessário um VHD por disco.</span><span class="sxs-lookup"><span data-stu-id="f30e3-121">One VHD is needed per disk.</span></span> <span data-ttu-id="f30e3-122">Discos de dados em branco até mesmo exigem um toobe VHD criado.</span><span class="sxs-lookup"><span data-stu-id="f30e3-122">Even blank data disks require a VHD toobe created.</span></span>

<span data-ttu-id="f30e3-123">Independentemente de qual sistema operacional que você usar, adicione somente Olá número mínimo de discos de dados necessários ao Olá SKU.</span><span class="sxs-lookup"><span data-stu-id="f30e3-123">Regardless of which operating system you use, add only hello minimum number of data disks needed by hello SKU.</span></span> <span data-ttu-id="f30e3-124">Os clientes não é possível remover os discos que fazem parte de uma imagem em tempo de saudação de implantação, mas sempre poderá adicionar discos durante ou após a implantação se necessário.</span><span class="sxs-lookup"><span data-stu-id="f30e3-124">Customers cannot remove disks that are part of an image at hello time of deployment but can always add disks during or after deployment if they need them.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f30e3-125">**Não altere a contagem de discos em uma nova versão da imagem.**</span><span class="sxs-lookup"><span data-stu-id="f30e3-125">**Do not change disk count in a new image version.**</span></span> <span data-ttu-id="f30e3-126">Se você deve reconfigurar os discos de dados na imagem hello, defina um SKU de novo.</span><span class="sxs-lookup"><span data-stu-id="f30e3-126">If you must reconfigure Data disks in hello image, define a new SKU.</span></span> <span data-ttu-id="f30e3-127">Publicar uma nova versão de imagem com contagens de disco diferente terá o potencial de saudação da nova implantação baseada em hello, a nova versão de imagem em caso de implantações de dimensionamento automático e automáticas das soluções através de modelos ARM e outros cenários de quebra.</span><span class="sxs-lookup"><span data-stu-id="f30e3-127">Publishing a new image version with different disk counts will have hello potential of breaking new deployment based on hello new image version in cases of auto-scaling, automatic deployments of solutions through ARM templates and other scenarios.</span></span>
>
>

### <a name="11-add-an-offer"></a><span data-ttu-id="f30e3-128">1.1 Adicionar uma oferta</span><span class="sxs-lookup"><span data-stu-id="f30e3-128">1.1 Add an offer</span></span>
1. <span data-ttu-id="f30e3-129">Entrar toohello [Portal de publicação] [ link-pubportal] usando sua conta do vendedor.</span><span class="sxs-lookup"><span data-stu-id="f30e3-129">Sign in toohello [Publishing Portal][link-pubportal] by using your seller account.</span></span>
2. <span data-ttu-id="f30e3-130">Selecione Olá **máquinas virtuais** guia da saudação Portal de publicação.</span><span class="sxs-lookup"><span data-stu-id="f30e3-130">Select hello **Virtual Machines** tab of hello Publishing Portal.</span></span> <span data-ttu-id="f30e3-131">No campo de entrada solicitada do hello, insira seu nome de oferta.</span><span class="sxs-lookup"><span data-stu-id="f30e3-131">In hello prompted entry field, enter your offer name.</span></span> <span data-ttu-id="f30e3-132">Olá oferta nome é normalmente saudação do produto de saudação ou serviço que você planeje toosell em hello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="f30e3-132">hello offer name is typically hello name of hello product or service that you plan toosell in hello Azure Marketplace.</span></span>
3. <span data-ttu-id="f30e3-133">Selecione **Criar**.</span><span class="sxs-lookup"><span data-stu-id="f30e3-133">Select **Create**.</span></span>

### <a name="12-define-a-sku"></a><span data-ttu-id="f30e3-134">1.2 Defina uma SKU</span><span class="sxs-lookup"><span data-stu-id="f30e3-134">1.2 Define a SKU</span></span>
<span data-ttu-id="f30e3-135">Depois de ter adicionado uma oferta, você precisa toodefine e identifique seus SKUs.</span><span class="sxs-lookup"><span data-stu-id="f30e3-135">After you have added an offer, you need toodefine and identify your SKUs.</span></span> <span data-ttu-id="f30e3-136">Você pode ter várias ofertas e cada oferta pode ter várias SKUs abaixo dela.</span><span class="sxs-lookup"><span data-stu-id="f30e3-136">You can have multiple offers, and each offer can have multiple SKUs under it.</span></span> <span data-ttu-id="f30e3-137">Quando uma oferta é impulsionada toostaging, ele é enviado junto com todos os seus SKUs.</span><span class="sxs-lookup"><span data-stu-id="f30e3-137">When an offer is pushed toostaging, it is pushed along with all of its SKUs.</span></span>

1. <span data-ttu-id="f30e3-138">**Adicionar uma SKU.**</span><span class="sxs-lookup"><span data-stu-id="f30e3-138">**Add a SKU.**</span></span> <span data-ttu-id="f30e3-139">Olá SKU exige um identificador, que é usado na URL de saudação.</span><span class="sxs-lookup"><span data-stu-id="f30e3-139">hello SKU requires an identifier, which is used in hello URL.</span></span> <span data-ttu-id="f30e3-140">Identificador de saudação deve ser exclusivo dentro de seu perfil de publicação, mas não há nenhum risco de colisão de identificador com outros editores.</span><span class="sxs-lookup"><span data-stu-id="f30e3-140">hello identifier must be unique within your publishing profile, but there is no risk of identifier collision with other publishers.</span></span>

   > [!NOTE]
   > <span data-ttu-id="f30e3-141">oferta de saudação e identificadores SKU são exibidos em URL oferta Olá Olá Marketplace.</span><span class="sxs-lookup"><span data-stu-id="f30e3-141">hello offer and SKU identifiers are displayed in hello offer URL in hello Marketplace.</span></span>
   >
   >
2. <span data-ttu-id="f30e3-142">**Adicionar uma descrição resumida para a sua SKU.**</span><span class="sxs-lookup"><span data-stu-id="f30e3-142">**Add a summary description for your SKU.**</span></span> <span data-ttu-id="f30e3-143">Descrições resumidas são toocustomers visível, portanto, você deverá torná-los facilmente legível.</span><span class="sxs-lookup"><span data-stu-id="f30e3-143">Summary descriptions are visible toocustomers, so you should make them easily readable.</span></span> <span data-ttu-id="f30e3-144">Essas informações não precisam toobe bloqueado até que a fase de "Push tooStaging" hello.</span><span class="sxs-lookup"><span data-stu-id="f30e3-144">This information does not need toobe locked until hello "Push tooStaging" phase.</span></span> <span data-ttu-id="f30e3-145">Até lá, você está livre tooedit-lo.</span><span class="sxs-lookup"><span data-stu-id="f30e3-145">Until then, you are free tooedit it.</span></span>
3. <span data-ttu-id="f30e3-146">Se você estiver usando SKUs do Windows, siga links sugerido Olá Olá tooacquire aprovadas versões do Windows Server.</span><span class="sxs-lookup"><span data-stu-id="f30e3-146">If you are using Windows-based SKUs, follow hello suggested links tooacquire hello approved versions of Windows Server.</span></span>

## <a name="2-create-an-azure-compatible-vhd-linux-based"></a><span data-ttu-id="f30e3-147">2. Criar VHD compatível com o Azure (baseado em Linux)</span><span class="sxs-lookup"><span data-stu-id="f30e3-147">2. Create an Azure-compatible VHD (Linux-based)</span></span>
<span data-ttu-id="f30e3-148">Esta seção aborda as práticas recomendadas para criar uma imagem VM baseadas em Linux para hello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="f30e3-148">This section focuses on best practices for creating a Linux-based VM image for hello Azure Marketplace.</span></span> <span data-ttu-id="f30e3-149">Para obter instruções passo a passo, consulte toohello documentação a seguir: [criando e carregando um disco rígido Virtual que contém Olá o sistema operacional Linux](../virtual-machines/linux/classic/create-upload-vhd.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json)</span><span class="sxs-lookup"><span data-stu-id="f30e3-149">For a step-by-step walkthrough, refer toohello following documentation: [Creating and Uploading a Virtual Hard Disk that Contains hello Linux Operating System](../virtual-machines/linux/classic/create-upload-vhd.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json)</span></span>

## <a name="3-create-an-azure-compatible-vhd-windows-based"></a><span data-ttu-id="f30e3-150">3. Criar um VHD compatível com Azure (baseado no Windows)</span><span class="sxs-lookup"><span data-stu-id="f30e3-150">3. Create an Azure-compatible VHD (Windows-based)</span></span>
<span data-ttu-id="f30e3-151">Esta seção discute Olá etapas toocreate uma SKU baseada no Windows Server para hello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="f30e3-151">This section focuses on hello steps toocreate a SKU based on Windows Server for hello Azure Marketplace.</span></span>

### <a name="31-ensure-that-you-are-using-hello-correct-base-vhds"></a><span data-ttu-id="f30e3-152">3.1 Certifique-se de que você está usando Olá corrigir VHDs de base</span><span class="sxs-lookup"><span data-stu-id="f30e3-152">3.1 Ensure that you are using hello correct base VHDs</span></span>
<span data-ttu-id="f30e3-153">Olá VHD do sistema operacional para a imagem VM deve ser baseada em uma imagem de base aprovada do Azure que contém o Windows Server ou SQL Server.</span><span class="sxs-lookup"><span data-stu-id="f30e3-153">hello operating system VHD for your VM image must be based on an Azure-approved base image that contains Windows Server or SQL Server.</span></span>

<span data-ttu-id="f30e3-154">toobegin, criar uma máquina virtual de uma saudação imagens, localizadas em Olá a seguir [portal do Microsoft Azure][link-azure-portal]:</span><span class="sxs-lookup"><span data-stu-id="f30e3-154">toobegin, create a VM from one of hello following images, located at hello [Microsoft Azure portal][link-azure-portal]:</span></span>

* <span data-ttu-id="f30e3-155">Windows Server ([2012 R2 Datacenter][link-datactr-2012-r2], [2012 Datacenter][link-datactr-2012], [2008 R2 SP1][link-datactr-2008-r2])</span><span class="sxs-lookup"><span data-stu-id="f30e3-155">Windows Server ([2012 R2 Datacenter][link-datactr-2012-r2], [2012 Datacenter][link-datactr-2012], [2008 R2 SP1][link-datactr-2008-r2])</span></span>
* <span data-ttu-id="f30e3-156">SQL Server 2014 ([Enterprise][link-sql-2014-ent], [Standard][link-sql-2014-std], [Web][link-sql-2014-web])</span><span class="sxs-lookup"><span data-stu-id="f30e3-156">SQL Server 2014 ([Enterprise][link-sql-2014-ent], [Standard][link-sql-2014-std], [Web][link-sql-2014-web])</span></span>
* <span data-ttu-id="f30e3-157">SQL Server 2012 SP2 ([Enterprise][link-sql-2012-ent], [Standard][link-sql-2012-std], [Web][link-sql-2012-web])</span><span class="sxs-lookup"><span data-stu-id="f30e3-157">SQL Server 2012 SP2 ([Enterprise][link-sql-2012-ent], [Standard][link-sql-2012-std], [Web][link-sql-2012-web])</span></span>

<span data-ttu-id="f30e3-158">Esses links também podem ser encontrados no hello Portal de publicação na página SKU de saudação.</span><span class="sxs-lookup"><span data-stu-id="f30e3-158">These links can also be found in hello Publishing Portal under hello SKU page.</span></span>

> [!TIP]
> <span data-ttu-id="f30e3-159">Se você estiver usando o portal do Azure atual de saudação ou o PowerShell, as imagens do Windows Server publicadas em 8 de setembro de 2014 e versões posteriores são aprovadas.</span><span class="sxs-lookup"><span data-stu-id="f30e3-159">If you are using hello current Azure portal or PowerShell, Windows Server images published on September 8, 2014 and later are approved.</span></span>
>
>

### <a name="32-create-your-windows-based-vm"></a><span data-ttu-id="f30e3-160">3.2 Criar sua VM baseada em Windows</span><span class="sxs-lookup"><span data-stu-id="f30e3-160">3.2 Create your Windows-based VM</span></span>
<span data-ttu-id="f30e3-161">No portal do Microsoft Azure hello, você pode criar sua VM com base em uma imagem de base aprovada em apenas algumas etapas simples.</span><span class="sxs-lookup"><span data-stu-id="f30e3-161">From hello Microsoft Azure portal, you can create your VM based on an approved base image in just a few simple steps.</span></span> <span data-ttu-id="f30e3-162">a seguir Olá é uma visão geral do processo de saudação:</span><span class="sxs-lookup"><span data-stu-id="f30e3-162">hello following is an overview of hello process:</span></span>

1. <span data-ttu-id="f30e3-163">Na página de imagem base do hello, selecione **criar Máquina Virtual** toobe direcionado toohello novo [portal do Microsoft Azure][link-azure-portal].</span><span class="sxs-lookup"><span data-stu-id="f30e3-163">From hello base image page, select **Create Virtual Machine** toobe directed toohello new [Microsoft Azure portal][link-azure-portal].</span></span>

    ![desenho][img-acom-1]
2. <span data-ttu-id="f30e3-165">Faça logon no portal de toohello com hello conta da Microsoft e a senha para Olá assinatura do Azure que você deseja toouse.</span><span class="sxs-lookup"><span data-stu-id="f30e3-165">Sign in toohello portal with hello Microsoft account and password for hello Azure subscription you want toouse.</span></span>
3. <span data-ttu-id="f30e3-166">Siga Olá prompts toocreate uma VM usando Olá imagem base que você selecionou.</span><span class="sxs-lookup"><span data-stu-id="f30e3-166">Follow hello prompts toocreate a VM by using hello base image you have selected.</span></span> <span data-ttu-id="f30e3-167">Você precisa tooprovide um nome de host (nome do computador de saudação), o nome de usuário (registrado como administrador) e a senha para Olá VM.</span><span class="sxs-lookup"><span data-stu-id="f30e3-167">You need tooprovide a host name (name of hello computer), user name (registered as an administrator), and password for hello VM.</span></span>

    ![desenho][img-portal-vm-create]
4. <span data-ttu-id="f30e3-169">Selecione o tamanho de saudação do hello VM toodeploy:</span><span class="sxs-lookup"><span data-stu-id="f30e3-169">Select hello size of hello VM toodeploy:</span></span>

    <span data-ttu-id="f30e3-170">a.</span><span class="sxs-lookup"><span data-stu-id="f30e3-170">a.</span></span>    <span data-ttu-id="f30e3-171">Se você planejar toodevelop Olá VHD local, tamanho de saudação não importa.</span><span class="sxs-lookup"><span data-stu-id="f30e3-171">If you plan toodevelop hello VHD on-premises, hello size does not matter.</span></span> <span data-ttu-id="f30e3-172">Considere usar uma saudação VMs menores.</span><span class="sxs-lookup"><span data-stu-id="f30e3-172">Consider using one of hello smaller VMs.</span></span>

    <span data-ttu-id="f30e3-173">b.</span><span class="sxs-lookup"><span data-stu-id="f30e3-173">b.</span></span>    <span data-ttu-id="f30e3-174">Se você planejar a imagem de saudação toodevelop no Azure, considere usando uma saudação recomendado tamanhos de VM para imagem selecionada hello.</span><span class="sxs-lookup"><span data-stu-id="f30e3-174">If you plan toodevelop hello image in Azure, consider using one of hello recommended VM sizes for hello selected image.</span></span>

    <span data-ttu-id="f30e3-175">c.</span><span class="sxs-lookup"><span data-stu-id="f30e3-175">c.</span></span>    <span data-ttu-id="f30e3-176">Para obter informações sobre preços, consulte toohello **recomendado camadas de preços** exibido no portal de saudação do seletor.</span><span class="sxs-lookup"><span data-stu-id="f30e3-176">For pricing information, refer toohello **Recommended pricing tiers** selector displayed on hello portal.</span></span> <span data-ttu-id="f30e3-177">Ele fornecerá Olá três tamanhos recomendados fornecidos pelo editor de saudação.</span><span class="sxs-lookup"><span data-stu-id="f30e3-177">It will provide hello three recommended sizes provided by hello publisher.</span></span> <span data-ttu-id="f30e3-178">(Nesse caso, o publicador Olá é Microsoft.)</span><span class="sxs-lookup"><span data-stu-id="f30e3-178">(In this case, hello publisher is Microsoft.)</span></span>

    ![desenho][img-portal-vm-size]
5. <span data-ttu-id="f30e3-180">Defina as propriedades:</span><span class="sxs-lookup"><span data-stu-id="f30e3-180">Set properties:</span></span>

    <span data-ttu-id="f30e3-181">a.</span><span class="sxs-lookup"><span data-stu-id="f30e3-181">a.</span></span>    <span data-ttu-id="f30e3-182">Para implantação rápida, você pode deixar Olá valores padrão para propriedades de saudação em **configuração opcional** e **grupo de recursos**.</span><span class="sxs-lookup"><span data-stu-id="f30e3-182">For quick deployment, you can leave hello default values for hello properties under **Optional Configuration** and **Resource Group**.</span></span>

    <span data-ttu-id="f30e3-183">b.</span><span class="sxs-lookup"><span data-stu-id="f30e3-183">b.</span></span>    <span data-ttu-id="f30e3-184">Em **conta de armazenamento**, você pode opcionalmente Selecionar conta de armazenamento Olá em qual sistema operacional de saudação VHD será armazenado.</span><span class="sxs-lookup"><span data-stu-id="f30e3-184">Under **Storage Account**, you can optionally select hello storage account in which hello operating system VHD will be stored.</span></span>

    <span data-ttu-id="f30e3-185">c.</span><span class="sxs-lookup"><span data-stu-id="f30e3-185">c.</span></span>    <span data-ttu-id="f30e3-186">Em **grupo de recursos**, você pode opcionalmente Selecionar grupo lógico de saudação no qual tooplace Olá VM.</span><span class="sxs-lookup"><span data-stu-id="f30e3-186">Under **Resource Group**, you can optionally select hello logical group in which tooplace hello VM.</span></span>
6. <span data-ttu-id="f30e3-187">Selecione Olá **local** para implantação:</span><span class="sxs-lookup"><span data-stu-id="f30e3-187">Select hello **Location** for deployment:</span></span>

    <span data-ttu-id="f30e3-188">a.</span><span class="sxs-lookup"><span data-stu-id="f30e3-188">a.</span></span>    <span data-ttu-id="f30e3-189">Se você planejar toodevelop Olá VHD local, local de saudação não importa porque você fará o upload Olá imagem tooAzure mais tarde.</span><span class="sxs-lookup"><span data-stu-id="f30e3-189">If you plan toodevelop hello VHD on-premises, hello location does not matter because you will upload hello image tooAzure later.</span></span>

    <span data-ttu-id="f30e3-190">b.</span><span class="sxs-lookup"><span data-stu-id="f30e3-190">b.</span></span>    <span data-ttu-id="f30e3-191">Se você planejar a imagem de saudação toodevelop no Azure, considere usar uma saudação baseado nos EUA regiões do Microsoft Azure desde o início de saudação.</span><span class="sxs-lookup"><span data-stu-id="f30e3-191">If you plan toodevelop hello image in Azure, consider using one of hello US-based Microsoft Azure regions from hello beginning.</span></span> <span data-ttu-id="f30e3-192">Isso acelera a saudação VHD processo de cópia que executa Microsoft em seu nome, ao enviar sua imagem para certificação.</span><span class="sxs-lookup"><span data-stu-id="f30e3-192">This speeds up hello VHD copying process that Microsoft performs on your behalf when you submit your image for certification.</span></span>

    ![desenho][img-portal-vm-location]
7. <span data-ttu-id="f30e3-194">Clique em **Criar**.</span><span class="sxs-lookup"><span data-stu-id="f30e3-194">Click **Create**.</span></span> <span data-ttu-id="f30e3-195">Olá VM inicia toodeploy.</span><span class="sxs-lookup"><span data-stu-id="f30e3-195">hello VM starts toodeploy.</span></span> <span data-ttu-id="f30e3-196">Em minutos, você terá uma implantação bem-sucedida e pode começar a imagem de saudação toocreate para o SKU.</span><span class="sxs-lookup"><span data-stu-id="f30e3-196">Within minutes, you will have a successful deployment and can begin toocreate hello image for your SKU.</span></span>

### <a name="33-develop-your-vhd-in-hello-cloud"></a><span data-ttu-id="f30e3-197">3.3 desenvolver seu VHD na nuvem Olá</span><span class="sxs-lookup"><span data-stu-id="f30e3-197">3.3 Develop your VHD in hello cloud</span></span>
<span data-ttu-id="f30e3-198">É altamente recomendável que você desenvolver seu VHD na nuvem hello usando o protocolo de área de trabalho remota (RDP).</span><span class="sxs-lookup"><span data-stu-id="f30e3-198">We strongly recommend that you develop your VHD in hello cloud by using Remote Desktop Protocol (RDP).</span></span> <span data-ttu-id="f30e3-199">Você se conectar tooRDP Olá nome e a senha especificada durante o provisionamento.</span><span class="sxs-lookup"><span data-stu-id="f30e3-199">You connect tooRDP with hello user name and password specified during provisioning.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f30e3-200">Se você desenvolve seu VHD no local (não recomendado), consulte [Criando um imagem de máquina virtual no local](marketplace-publishing-vm-image-creation-on-premise.md).</span><span class="sxs-lookup"><span data-stu-id="f30e3-200">If you develop your VHD on-premises (which is not recommended), see [Creating a virtual machine image on-premises](marketplace-publishing-vm-image-creation-on-premise.md).</span></span> <span data-ttu-id="f30e3-201">Baixar o VHD não é necessário se você estiver desenvolvendo em nuvem hello.</span><span class="sxs-lookup"><span data-stu-id="f30e3-201">Downloading your VHD is not necessary if you are developing in hello cloud.</span></span>
>
>

<span data-ttu-id="f30e3-202">**Conectar via RDP usando Olá [portal do Microsoft Azure][link-azure-portal]**</span><span class="sxs-lookup"><span data-stu-id="f30e3-202">**Connect via RDP using hello [Microsoft Azure portal][link-azure-portal]**</span></span>

1. <span data-ttu-id="f30e3-203">Selecione **Procurar** > **VMs**.</span><span class="sxs-lookup"><span data-stu-id="f30e3-203">Select **Browse** > **VMs**.</span></span>
2. <span data-ttu-id="f30e3-204">Abre a folha de máquinas virtuais de saudação.</span><span class="sxs-lookup"><span data-stu-id="f30e3-204">hello Virtual machines blade opens.</span></span> <span data-ttu-id="f30e3-205">Verifique se essa máquina virtual que você deseja tooconnect com hello está em execução e, em seguida, selecione-o na lista de saudação de VMs implantadas.</span><span class="sxs-lookup"><span data-stu-id="f30e3-205">Ensure that hello VM that you want tooconnect with is running, and then select it from hello list of deployed VMs.</span></span>
3. <span data-ttu-id="f30e3-206">Abre um blade que descreve a saudação selecionado de VM.</span><span class="sxs-lookup"><span data-stu-id="f30e3-206">A blade opens that describes hello selected VM.</span></span> <span data-ttu-id="f30e3-207">Na parte superior da saudação, clique em **conectar**.</span><span class="sxs-lookup"><span data-stu-id="f30e3-207">At hello top, click **Connect**.</span></span>
4. <span data-ttu-id="f30e3-208">Você está tooenter solicitadas Olá nome e a senha que você especificou durante o provisionamento.</span><span class="sxs-lookup"><span data-stu-id="f30e3-208">You are prompted tooenter hello user name and password that you specified during provisioning.</span></span>

<span data-ttu-id="f30e3-209">**Conecte-se via RDP usando PowerShell**</span><span class="sxs-lookup"><span data-stu-id="f30e3-209">**Connect via RDP using PowerShell**</span></span>

<span data-ttu-id="f30e3-210">toodownload uma máquina local do tooa de arquivo de área de trabalho remota, use Olá [cmdlet Get-AzureRemoteDesktopFile][link-technet-2].</span><span class="sxs-lookup"><span data-stu-id="f30e3-210">toodownload a remote desktop file tooa local machine, use hello [Get-AzureRemoteDesktopFile cmdlet][link-technet-2].</span></span> <span data-ttu-id="f30e3-211">Em ordem toouse esse cmdlet, é necessário tooknow nome de saudação do serviço de saudação e o nome do hello VM.</span><span class="sxs-lookup"><span data-stu-id="f30e3-211">In order toouse this cmdlet, you need tooknow hello name of hello service and name of hello VM.</span></span> <span data-ttu-id="f30e3-212">Se você criou Olá VM do hello [portal do Microsoft Azure][link-azure-portal], você pode encontrar essas informações em Propriedades da VM:</span><span class="sxs-lookup"><span data-stu-id="f30e3-212">If you created hello VM from hello [Microsoft Azure portal][link-azure-portal], you can find this information under VM properties:</span></span>

1. <span data-ttu-id="f30e3-213">No portal do Microsoft Azure hello, selecione **procurar** > **VMs**.</span><span class="sxs-lookup"><span data-stu-id="f30e3-213">In hello Microsoft Azure portal, select **Browse** > **VMs**.</span></span>
2. <span data-ttu-id="f30e3-214">Abre a folha de máquinas virtuais de saudação.</span><span class="sxs-lookup"><span data-stu-id="f30e3-214">hello Virtual machines blade opens.</span></span> <span data-ttu-id="f30e3-215">Selecione Olá VM implantado.</span><span class="sxs-lookup"><span data-stu-id="f30e3-215">Select hello VM that you deployed.</span></span>
3. <span data-ttu-id="f30e3-216">Abre um blade que descreve a saudação selecionado de VM.</span><span class="sxs-lookup"><span data-stu-id="f30e3-216">A blade opens that describes hello selected VM.</span></span>
4. <span data-ttu-id="f30e3-217">Clique em **Propriedades**.</span><span class="sxs-lookup"><span data-stu-id="f30e3-217">Click **Properties**.</span></span>
5. <span data-ttu-id="f30e3-218">a primeira parte do nome de domínio Olá Olá é o nome do serviço de saudação.</span><span class="sxs-lookup"><span data-stu-id="f30e3-218">hello first portion of hello domain name is hello service name.</span></span> <span data-ttu-id="f30e3-219">nome de host de saudação é o nome VM de saudação.</span><span class="sxs-lookup"><span data-stu-id="f30e3-219">hello host name is hello VM name.</span></span>

    ![desenho][img-portal-vm-rdp]
6. <span data-ttu-id="f30e3-221">arquivo Hello cmdlet toodownload Olá RDP para a área de trabalho do administrador do hello criado VM toohello local é o seguinte.</span><span class="sxs-lookup"><span data-stu-id="f30e3-221">hello cmdlet toodownload hello RDP file for hello created VM toohello administrator's local desktop is as follows.</span></span>

        Get‐AzureRemoteDesktopFile ‐ServiceName “baseimagevm‐6820cq00” ‐Name “BaseImageVM” –LocalPath “C:\Users\Administrator\Desktop\BaseImageVM.rdp”

<span data-ttu-id="f30e3-222">Para obter mais informações sobre o RDP podem ser localizadas no MSDN no artigo Olá [conectar tooan VM do Azure com RDP ou SSH](http://msdn.microsoft.com/library/azure/dn535788.aspx).</span><span class="sxs-lookup"><span data-stu-id="f30e3-222">More information about RDP can be found on MSDN in hello article [Connect tooan Azure VM with RDP or SSH](http://msdn.microsoft.com/library/azure/dn535788.aspx).</span></span>

<span data-ttu-id="f30e3-223">**Configure uma VM e crie sua SKU**</span><span class="sxs-lookup"><span data-stu-id="f30e3-223">**Configure a VM and create your SKU**</span></span>

<span data-ttu-id="f30e3-224">Depois que o sistema de operacional Olá que VHD é baixado, use o Hyper-v e configurar um toobegin VM criando o SKU.</span><span class="sxs-lookup"><span data-stu-id="f30e3-224">After hello operating system VHD is downloaded, use Hyper­V and configure a VM toobegin creating your SKU.</span></span> <span data-ttu-id="f30e3-225">Etapas detalhadas podem ser encontradas em Olá TechNet link a seguir: [instalar o Hyper-v e configurar uma VM](http://technet.microsoft.com/library/hh846766.aspx).</span><span class="sxs-lookup"><span data-stu-id="f30e3-225">Detailed steps can be found at hello following TechNet link: [Install Hyper­V and Configure a VM](http://technet.microsoft.com/library/hh846766.aspx).</span></span>

### <a name="34-choose-hello-correct-vhd-size"></a><span data-ttu-id="f30e3-226">3.4 escolher o tamanho correto de VHD Olá</span><span class="sxs-lookup"><span data-stu-id="f30e3-226">3.4 Choose hello correct VHD size</span></span>
<span data-ttu-id="f30e3-227">sistema operacional Windows Hello VHD em sua imagem VM deve ser criado como um VHD de formato fixo de 128 GB.</span><span class="sxs-lookup"><span data-stu-id="f30e3-227">hello Windows operating system VHD in your VM image should be created as a 128-GB fixed-format VHD.</span></span>  

<span data-ttu-id="f30e3-228">Se o tamanho físico da saudação é menos de 128 GB, Olá VHD deve ser esparso.</span><span class="sxs-lookup"><span data-stu-id="f30e3-228">If hello physical size is less than 128 GB, hello VHD should be sparse.</span></span> <span data-ttu-id="f30e3-229">Olá Windows e SQL Server imagens básicas fornecidas já atender a esses requisitos, portanto, não altere Olá formato ou Olá o tamanho da saudação obtido do VHD.</span><span class="sxs-lookup"><span data-stu-id="f30e3-229">hello base Windows and SQL Server images provided already meet these requirements, so do not change hello format or hello size of hello VHD obtained.</span></span>  

<span data-ttu-id="f30e3-230">Discos de dados podem ser de até 1 TB.</span><span class="sxs-lookup"><span data-stu-id="f30e3-230">Data disks can be as large as 1 TB.</span></span> <span data-ttu-id="f30e3-231">Ao decidir sobre o tamanho do disco hello, lembre-se de que os clientes não é possível redimensionar VHDs dentro de uma imagem em tempo de saudação da implantação.</span><span class="sxs-lookup"><span data-stu-id="f30e3-231">When deciding on hello disk size, remember that customers cannot resize VHDs within an image at hello time of deployment.</span></span> <span data-ttu-id="f30e3-232">Os VHDs de disco de dados devem ser criados como um VHD de formato fixo.</span><span class="sxs-lookup"><span data-stu-id="f30e3-232">Data disk VHDs should be created as a fixed-format VHD.</span></span> <span data-ttu-id="f30e3-233">Eles também devem ser esparsos.</span><span class="sxs-lookup"><span data-stu-id="f30e3-233">They should also be sparse.</span></span> <span data-ttu-id="f30e3-234">Discos de dados podem estar vazios ou conter dados.</span><span class="sxs-lookup"><span data-stu-id="f30e3-234">Data disks can be empty or contain data.</span></span>

### <a name="35-install-hello-latest-windows-patches"></a><span data-ttu-id="f30e3-235">3.5 instalar patches do Windows mais recentes Olá</span><span class="sxs-lookup"><span data-stu-id="f30e3-235">3.5 Install hello latest Windows patches</span></span>
<span data-ttu-id="f30e3-236">Olá base imagens contêm o patches mais recentes Olá backup tootheir data de publicação.</span><span class="sxs-lookup"><span data-stu-id="f30e3-236">hello base images contain hello latest patches up tootheir published date.</span></span> <span data-ttu-id="f30e3-237">Antes de publicar o sistema operacional de saudação VHD que você criou, certifique-se de que o Windows Update foi executado e que todos os Olá crítico mais recente e atualizações de segurança importantes foram instaladas.</span><span class="sxs-lookup"><span data-stu-id="f30e3-237">Before publishing hello operating system VHD you have created, ensure that Windows Update has been run and that all hello latest Critical and Important security updates have been installed.</span></span>

### <a name="36-perform-additional-configuration-and-schedule-tasks-as-necessary"></a><span data-ttu-id="f30e3-238">3.6 Execute as tarefas de configuração e programação adicionais, conforme necessário</span><span class="sxs-lookup"><span data-stu-id="f30e3-238">3.6 Perform additional configuration and schedule tasks as necessary</span></span>
<span data-ttu-id="f30e3-239">Se a configuração adicional é necessária, considere o uso de uma tarefa agendada que é executado na inicialização toomake toohello quaisquer alterações finais VM após ele ter sido implantado:</span><span class="sxs-lookup"><span data-stu-id="f30e3-239">If additional configuration is needed, consider using a scheduled task that runs at startup toomake any final changes toohello VM after it has been deployed:</span></span>

* <span data-ttu-id="f30e3-240">É uma tarefa de saudação de toohave de prática recomendada excluir a mesmo após a execução bem-sucedida.</span><span class="sxs-lookup"><span data-stu-id="f30e3-240">It is a best practice toohave hello task delete itself upon successful execution.</span></span>
* <span data-ttu-id="f30e3-241">Nenhuma configuração deve confiar em unidades diferentes unidades C ou D, pois elas são apenas duas unidades de saudação sempre garantidos tooexist.</span><span class="sxs-lookup"><span data-stu-id="f30e3-241">No configuration should rely on drives other than drives C or D, because these are hello only two drives that are always guaranteed tooexist.</span></span> <span data-ttu-id="f30e3-242">A unidade C é o disco do sistema operacional hello e unidade D é o disco local temporário de saudação.</span><span class="sxs-lookup"><span data-stu-id="f30e3-242">Drive C is hello operating system disk, and drive D is hello temporary local disk.</span></span>

### <a name="37-generalize-hello-image"></a><span data-ttu-id="f30e3-243">3.7 generalizar a imagem de saudação</span><span class="sxs-lookup"><span data-stu-id="f30e3-243">3.7 Generalize hello image</span></span>
<span data-ttu-id="f30e3-244">Todas as imagens em hello Azure Marketplace devem ser reutilizáveis de forma genérica.</span><span class="sxs-lookup"><span data-stu-id="f30e3-244">All images in hello Azure Marketplace must be reusable in a generic fashion.</span></span> <span data-ttu-id="f30e3-245">Em outras palavras, a saudação no VHD do sistema operacional deve ser generalizado:</span><span class="sxs-lookup"><span data-stu-id="f30e3-245">In other words, hello operating system VHD must be generalized:</span></span>

* <span data-ttu-id="f30e3-246">Para Windows, a imagem de saudação deve ser "Sysprep", e nenhuma configuração deve ser feita que não dão suporte a saudação **sysprep** comando.</span><span class="sxs-lookup"><span data-stu-id="f30e3-246">For Windows, hello image should be "sysprepped," and no configurations should be done that do not support hello **sysprep** command.</span></span>
* <span data-ttu-id="f30e3-247">Você pode executar Olá Olá diretório WINDIR%\System32\Sysprep após o comando.</span><span class="sxs-lookup"><span data-stu-id="f30e3-247">You can run hello following command from hello directory %windir%\System32\Sysprep.</span></span>

        sysprep.exe /generalize /oobe /shutdown

  <span data-ttu-id="f30e3-248">Orientação sobre como sistema de operacional Olá toosysprep é fornecido na etapa de saudação seguinte artigo do MSDN: [criar e carregar um VHD do Windows Server tooAzure](../virtual-machines/windows/classic/createupload-vhd.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="f30e3-248">Guidance on how toosysprep hello operating system is provided in Step of hello following MSDN article: [Create and upload a Windows Server VHD tooAzure](../virtual-machines/windows/classic/createupload-vhd.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span></span>

## <a name="4-deploy-a-vm-from-your-vhds"></a><span data-ttu-id="f30e3-249">4. Implantar uma VM por meio dos seus VHDs</span><span class="sxs-lookup"><span data-stu-id="f30e3-249">4. Deploy a VM from your VHDs</span></span>
<span data-ttu-id="f30e3-250">Depois de carregar seus VHDs (Olá generalizado no VHD do sistema operacional e dados de zero ou mais VHDs em disco) tooan conta de armazenamento do Azure, você pode registrá-los como uma imagem VM do usuário.</span><span class="sxs-lookup"><span data-stu-id="f30e3-250">After you have uploaded your VHDs (hello generalized operating system VHD and zero or more data disk VHDs) tooan Azure storage account, you can register them as a user VM image.</span></span> <span data-ttu-id="f30e3-251">Em seguida, você pode testar essa imagem.</span><span class="sxs-lookup"><span data-stu-id="f30e3-251">Then you can test that image.</span></span> <span data-ttu-id="f30e3-252">Observe que como seu VHD do sistema operacional é generalizada, você não pode diretamente implantar Olá VM fornecendo Olá URL do VHD.</span><span class="sxs-lookup"><span data-stu-id="f30e3-252">Note that because your operating system VHD is generalized, you cannot directly deploy hello VM by providing hello VHD URL.</span></span>

<span data-ttu-id="f30e3-253">toolearn mais sobre imagens de VM, examine Olá postagens de blog a seguir:</span><span class="sxs-lookup"><span data-stu-id="f30e3-253">toolearn more about VM images, review hello following blog posts:</span></span>

* [<span data-ttu-id="f30e3-254">Image da VM</span><span class="sxs-lookup"><span data-stu-id="f30e3-254">VM Image</span></span>](https://azure.microsoft.com/blog/vm-image-blog-post/)
* [<span data-ttu-id="f30e3-255">Guia do PowerShell da Imagem da VM</span><span class="sxs-lookup"><span data-stu-id="f30e3-255">VM Image PowerShell How To</span></span>](https://azure.microsoft.com/blog/vm-image-powershell-how-to-blog-post/)
* [<span data-ttu-id="f30e3-256">Sobre imagens VM no Azure</span><span class="sxs-lookup"><span data-stu-id="f30e3-256">About VM images in Azure</span></span>](https://msdn.microsoft.com/library/azure/dn790290.aspx)

### <a name="set-up-hello-necessary-tools-powershell-and-azure-cli"></a><span data-ttu-id="f30e3-257">Configurar as ferramentas necessárias hello, PowerShell e a CLI do Azure</span><span class="sxs-lookup"><span data-stu-id="f30e3-257">Set up hello necessary tools, PowerShell and Azure CLI</span></span>
* [<span data-ttu-id="f30e3-258">Como toosetup PowerShell</span><span class="sxs-lookup"><span data-stu-id="f30e3-258">How toosetup PowerShell</span></span>](/powershell/azure/overview)
* [<span data-ttu-id="f30e3-259">Como toosetup CLI do Azure</span><span class="sxs-lookup"><span data-stu-id="f30e3-259">How toosetup Azure CLI</span></span>](../cli-install-nodejs.md)

### <a name="41-create-a-user-vm-image"></a><span data-ttu-id="f30e3-260">4.1 Criar uma imagem VM de usuário</span><span class="sxs-lookup"><span data-stu-id="f30e3-260">4.1 Create a user VM image</span></span>
#### <a name="capture-vm"></a><span data-ttu-id="f30e3-261">Capturar VM</span><span class="sxs-lookup"><span data-stu-id="f30e3-261">Capture VM</span></span>
<span data-ttu-id="f30e3-262">Leia os links de saudação fornecidos abaixo para obter orientação sobre como capturar Olá VM usando a CLI do PowerShell/API/Azure.</span><span class="sxs-lookup"><span data-stu-id="f30e3-262">Please read hello links given below for guidance on capturing hello VM using API/PowerShell/Azure CLI.</span></span>

* [<span data-ttu-id="f30e3-263">API</span><span class="sxs-lookup"><span data-stu-id="f30e3-263">API</span></span>](https://msdn.microsoft.com/library/mt163560.aspx)
* [<span data-ttu-id="f30e3-264">PowerShell</span><span class="sxs-lookup"><span data-stu-id="f30e3-264">PowerShell</span></span>](../virtual-machines/windows/capture-image.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="f30e3-265">CLI do Azure</span><span class="sxs-lookup"><span data-stu-id="f30e3-265">Azure CLI</span></span>](../virtual-machines/linux/capture-image.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)

### <a name="generalize-image"></a><span data-ttu-id="f30e3-266">Generalizar uma imagem</span><span class="sxs-lookup"><span data-stu-id="f30e3-266">Generalize Image</span></span>
<span data-ttu-id="f30e3-267">Leia os links de saudação fornecidos abaixo para obter orientação sobre como capturar Olá VM usando a CLI do PowerShell/API/Azure.</span><span class="sxs-lookup"><span data-stu-id="f30e3-267">Please read hello links given below for guidance on capturing hello VM using API/PowerShell/Azure CLI.</span></span>

* [<span data-ttu-id="f30e3-268">API</span><span class="sxs-lookup"><span data-stu-id="f30e3-268">API</span></span>](https://msdn.microsoft.com/library/mt269439.aspx)
* [<span data-ttu-id="f30e3-269">PowerShell</span><span class="sxs-lookup"><span data-stu-id="f30e3-269">PowerShell</span></span>](../virtual-machines/windows/capture-image.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="f30e3-270">CLI do Azure</span><span class="sxs-lookup"><span data-stu-id="f30e3-270">Azure CLI</span></span>](../virtual-machines/linux/capture-image.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)

### <a name="42-deploy-a-vm-from-a-user-vm-image"></a><span data-ttu-id="f30e3-271">4.2 Implante uma VM usando uma imagem de VM de usuário</span><span class="sxs-lookup"><span data-stu-id="f30e3-271">4.2 Deploy a VM from a user VM image</span></span>
<span data-ttu-id="f30e3-272">toodeploy uma VM de uma imagem VM do usuário, você pode usar o hello atual [portal do Azure](https://manage.windowsazure.com) ou o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f30e3-272">toodeploy a VM from a user VM image, you can use hello current [Azure portal](https://manage.windowsazure.com) or PowerShell.</span></span>

<span data-ttu-id="f30e3-273">**Implantar uma VM do portal do Azure atual de saudação**</span><span class="sxs-lookup"><span data-stu-id="f30e3-273">**Deploy a VM from hello current Azure portal**</span></span>

1. <span data-ttu-id="f30e3-274">Vá muito**novo** > **de computação** > **Máquina Virtual** > **da galeria**.</span><span class="sxs-lookup"><span data-stu-id="f30e3-274">Go too**New** > **Compute** > **Virtual machine** > **From gallery**.</span></span>

    ![desenho][img-manage-vm-new]
2. <span data-ttu-id="f30e3-276">Vá muito**Minhas imagens**, e, em seguida, selecione Olá imagem VM da qual toodeploy uma VM:</span><span class="sxs-lookup"><span data-stu-id="f30e3-276">Go too**My images**, and then select hello VM image from which toodeploy a VM:</span></span>

   1. <span data-ttu-id="f30e3-277">Imagem de toowhich atenção de pagamento selecionar, pois Olá **Minhas imagens** exibir listas de imagens do sistema operacional e imagens da VM.</span><span class="sxs-lookup"><span data-stu-id="f30e3-277">Pay close attention toowhich image you select, because hello **My images** view lists both operating system images and VM images.</span></span>
   2. <span data-ttu-id="f30e3-278">Observando o número de saudação de discos pode ajudar a determinar que tipo de imagem que você está implantando, porque a maioria de saudação de imagens VM tem mais de um disco.</span><span class="sxs-lookup"><span data-stu-id="f30e3-278">Looking at hello number of disks can help determine what type of image you are deploying, because hello majority of VM images have more than one disk.</span></span> <span data-ttu-id="f30e3-279">No entanto, é possível toohave uma imagem de VM com apenas um único disco do sistema operacional que teria **número de discos** definir too1.</span><span class="sxs-lookup"><span data-stu-id="f30e3-279">However, it is still possible toohave a VM image with only a single operating system disk, which would then have **Number of disks** set too1.</span></span>

      ![desenho][img-manage-vm-select]
3. <span data-ttu-id="f30e3-281">Siga o Assistente para criação de VM hello e especifique o nome da VM hello, tamanho VM, local, nome de usuário e senha.</span><span class="sxs-lookup"><span data-stu-id="f30e3-281">Follow hello VM creation wizard and specify hello VM name, VM size, location, user name, and password.</span></span>

<span data-ttu-id="f30e3-282">**Implantar uma VM a partir do PowerShell**</span><span class="sxs-lookup"><span data-stu-id="f30e3-282">**Deploy a VM from PowerShell**</span></span>

<span data-ttu-id="f30e3-283">toodeploy que uma VM grande de saudação generalizado imagem VM que acabou de criar, você pode usar o hello cmdlets a seguir.</span><span class="sxs-lookup"><span data-stu-id="f30e3-283">toodeploy a large VM from hello generalized VM image just created, you can use hello following cmdlets.</span></span>

    $img = Get-AzureVMImage -ImageName "myVMImage"
    $user = "user123"
    $pass = "adminPassword123"
    $myVM = New-AzureVMConfig -Name "VMImageVM" -InstanceSize "Large" -ImageName $img.ImageName | Add-AzureProvisioningConfig -Windows -AdminUsername $user -Password $pass
    New-AzureVM -ServiceName "VMImageCloudService" -VMs $myVM -Location "West US" -WaitForBoot

> [!IMPORTANT]
> <span data-ttu-id="f30e3-284">Consulte [solução de problemas comuns encontrados durante a criação do VHD] para obter assistência adicional.</span><span class="sxs-lookup"><span data-stu-id="f30e3-284">Please refer [Troubleshooting common issues encountered during VHD creation] for additional assistance.</span></span>
>
>

## <a name="5-obtain-certification-for-your-vm-image"></a><span data-ttu-id="f30e3-285">5. Obter a certificação para a sua Imagem VM</span><span class="sxs-lookup"><span data-stu-id="f30e3-285">5. Obtain certification for your VM image</span></span>
<span data-ttu-id="f30e3-286">Olá próxima etapa de preparar sua imagem VM para hello Azure Marketplace é toohave que ele certificado.</span><span class="sxs-lookup"><span data-stu-id="f30e3-286">hello next step in preparing your VM image for hello Azure Marketplace is toohave it certified.</span></span>

<span data-ttu-id="f30e3-287">Esse processo inclui a execução de uma ferramenta de certificação especial, carregando toohello de resultados de verificação de saudação imagem de contêiner do Azure onde residem os seus VHDs, adicionando uma oferta, definindo o SKU e enviar sua VM para certificação.</span><span class="sxs-lookup"><span data-stu-id="f30e3-287">This process includes running a special certification tool, uploading hello verification results toohello Azure container where your VHDs reside, adding an offer, defining your SKU, and submitting your VM image for certification.</span></span>

### <a name="51-download-and-run-hello-certification-test-tool-for-azure-certified"></a><span data-ttu-id="f30e3-288">5.1 Baixe e execute Olá, ferramenta de teste de certificação do Azure Certified</span><span class="sxs-lookup"><span data-stu-id="f30e3-288">5.1 Download and run hello Certification Test Tool for Azure Certified</span></span>
<span data-ttu-id="f30e3-289">ferramenta de certificação de saudação é executada em uma VM em execução, provisionada de sua imagem VM do usuário, tooensure que Olá a imagem da VM é compatível com o Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="f30e3-289">hello certification tool runs on a running VM, provisioned from your user VM image, tooensure that hello VM image is compatible with Microsoft Azure.</span></span> <span data-ttu-id="f30e3-290">Ele verificará se requisitos sobre como preparar o VHD e orientação Olá foram atendidos.</span><span class="sxs-lookup"><span data-stu-id="f30e3-290">It will verify that hello guidance and requirements about preparing your VHD have been met.</span></span> <span data-ttu-id="f30e3-291">saída de saudação da ferramenta de saudação é um relatório de compatibilidade, o que deve ser carregado no hello Portal de publicação ao solicitante de certificação.</span><span class="sxs-lookup"><span data-stu-id="f30e3-291">hello output of hello tool is a compatibility report, which should be uploaded on hello Publishing Portal while requesting certification.</span></span>

<span data-ttu-id="f30e3-292">ferramenta de certificação de saudação pode ser usada com o Windows e VMs do Linux.</span><span class="sxs-lookup"><span data-stu-id="f30e3-292">hello certification tool can be used with both Windows and Linux VMs.</span></span> <span data-ttu-id="f30e3-293">Ele se conecta com base em tooWindows VMs por meio do PowerShell e se conecta tooLinux VMs via SSH.Net:</span><span class="sxs-lookup"><span data-stu-id="f30e3-293">It connects tooWindows-based VMs via PowerShell and connects tooLinux VMs via SSH.Net:</span></span>

1. <span data-ttu-id="f30e3-294">Primeiro, baixe a ferramenta de certificação de saudação em Olá [site de download da Microsoft][link-msft-download].</span><span class="sxs-lookup"><span data-stu-id="f30e3-294">First, download hello certification tool at hello [Microsoft download site][link-msft-download].</span></span>
2. <span data-ttu-id="f30e3-295">Abra a ferramenta de certificação Olá e clique em Olá **Iniciar novo teste** botão.</span><span class="sxs-lookup"><span data-stu-id="f30e3-295">Open hello certification tool, and then click hello **Start New Test** button.</span></span>
3. <span data-ttu-id="f30e3-296">De saudação **teste informações** tela, insira um nome para a execução de teste de saudação.</span><span class="sxs-lookup"><span data-stu-id="f30e3-296">From hello **Test Information** screen, enter a name for hello test run.</span></span>
4. <span data-ttu-id="f30e3-297">Escolha se a VM está em Linux ou Windows.</span><span class="sxs-lookup"><span data-stu-id="f30e3-297">Choose whether your VM is on Linux or Windows.</span></span> <span data-ttu-id="f30e3-298">Dependendo do que você escolher, selecione opções subsequentes hello.</span><span class="sxs-lookup"><span data-stu-id="f30e3-298">Depending on which you choose, select hello subsequent options.</span></span>

### <a name="connect-hello-certification-tool-tooa-linux-vm-image"></a><span data-ttu-id="f30e3-299">**Conecte-se Olá certificação ferramenta tooa imagem de VM do Linux**</span><span class="sxs-lookup"><span data-stu-id="f30e3-299">**Connect hello certification tool tooa Linux VM image**</span></span>
1. <span data-ttu-id="f30e3-300">Modo de autenticação SSH selecione Olá: arquivo de senha ou chave.</span><span class="sxs-lookup"><span data-stu-id="f30e3-300">Select hello SSH authentication mode: password or key file.</span></span>
2. <span data-ttu-id="f30e3-301">Se usar autenticação baseada em senha, insira o nome de sistema de nome de domínio (DNS) do hello, nome de usuário e senha.</span><span class="sxs-lookup"><span data-stu-id="f30e3-301">If using password-­based authentication, enter hello Domain Name System (DNS) name, user name, and password.</span></span>
3. <span data-ttu-id="f30e3-302">Se usando a autenticação de arquivo de chave, insira o nome DNS hello, o nome de usuário e o local da chave privada.</span><span class="sxs-lookup"><span data-stu-id="f30e3-302">If using key file authentication, enter hello DNS name, user name, and private key location.</span></span>

   ![Autenticação de senha da Imagem de VM do Linux][img-cert-vm-pswd-lnx]

   ![Autenticação de chave de arquivo da Imagem de VM do Linux][img-cert-vm-key-lnx]

### <a name="connect-hello-certification-tool-tooa-windows-based-vm-image"></a><span data-ttu-id="f30e3-305">**Conecte-se a imagem VM baseadas em Windows hello certificação ferramenta tooa**</span><span class="sxs-lookup"><span data-stu-id="f30e3-305">**Connect hello certification tool tooa Windows-based VM image**</span></span>
1. <span data-ttu-id="f30e3-306">Insira o nome DNS da VM Olá totalmente qualificado (por exemplo, MyVMName.Cloudapp.net).</span><span class="sxs-lookup"><span data-stu-id="f30e3-306">Enter hello fully qualified VM DNS name (for example, MyVMName.Cloudapp.net).</span></span>
2. <span data-ttu-id="f30e3-307">Insira a senha e nome de usuário de saudação.</span><span class="sxs-lookup"><span data-stu-id="f30e3-307">Enter hello user name and password.</span></span>

   ![Autenticação de senha de Imagem de VM do Windows][img-cert-vm-pswd-win]

<span data-ttu-id="f30e3-309">Depois de selecionar opções de saudação correto para a imagem VM de baseados em Windows ou Linux, selecione **Conexão de teste** tooensure que SSH.Net ou o PowerShell tem uma conexão válida para fins de teste.</span><span class="sxs-lookup"><span data-stu-id="f30e3-309">After you have selected hello correct options for your Linux or Windows-based VM image, select **Test Connection** tooensure that SSH.Net or PowerShell has a valid connection for testing purposes.</span></span> <span data-ttu-id="f30e3-310">Depois que uma conexão é estabelecida, selecione **próximo** toostart teste de saudação.</span><span class="sxs-lookup"><span data-stu-id="f30e3-310">After a connection is established, select **Next** toostart hello test.</span></span>

<span data-ttu-id="f30e3-311">Quando o teste de saudação for concluído, você receberá resultados hello (passagem/aviso/falha) para cada elemento de teste.</span><span class="sxs-lookup"><span data-stu-id="f30e3-311">When hello test is complete, you will receive hello results (Pass/Fail/Warning) for each test element.</span></span>

![Casos de teste para a Imagem de VM do Linux][img-cert-vm-test-lnx]

![Casos de teste para a Imagem de VM do Windows][img-cert-vm-test-win]

<span data-ttu-id="f30e3-314">Se algum dos testes de saudação falhar, a imagem não ser certificada.</span><span class="sxs-lookup"><span data-stu-id="f30e3-314">If any of hello tests fail, your image will not be certified.</span></span> <span data-ttu-id="f30e3-315">Se isso ocorrer, verifique os requisitos de saudação e faça as alterações necessárias.</span><span class="sxs-lookup"><span data-stu-id="f30e3-315">If this occurs, review hello requirements and make any necessary changes.</span></span>

<span data-ttu-id="f30e3-316">Depois que o teste automatizado de Olá, você será solicitado a entrada adicional tooprovide em sua imagem VM por meio de uma tela de questionário.</span><span class="sxs-lookup"><span data-stu-id="f30e3-316">After hello automated test, you are asked tooprovide additional input on your VM image via a questionnaire screen.</span></span>  <span data-ttu-id="f30e3-317">Concluir perguntas hello e, em seguida, selecione **próximo**.</span><span class="sxs-lookup"><span data-stu-id="f30e3-317">Complete hello questions, and then select **Next**.</span></span>

![Questionário da Ferramenta de Certificação][img-cert-vm-questionnaire]

![Questionário da Ferramenta de Certificação][img-cert-vm-questionnaire-2]

<span data-ttu-id="f30e3-320">Depois de concluir questionário hello, você pode fornecer informações adicionais, como informações de acesso SSH para Olá imagem de VM do Linux e uma explicação para todas as avaliações de falha.</span><span class="sxs-lookup"><span data-stu-id="f30e3-320">After you have completed hello questionnaire, you can provide additional information such as SSH access information for hello Linux VM image and an explanation for any failed assessments.</span></span> <span data-ttu-id="f30e3-321">Você pode baixar os resultados de teste hello e arquivos de log para casos de teste Olá executado em questionário de toohello adição tooyour respostas.</span><span class="sxs-lookup"><span data-stu-id="f30e3-321">You can download hello test results and log files for hello executed test cases in addition tooyour answers toohello questionnaire.</span></span> <span data-ttu-id="f30e3-322">Salvar resultados de saudação em Olá mesmo contêiner que seus VHDs.</span><span class="sxs-lookup"><span data-stu-id="f30e3-322">Save hello results in hello same container as your VHDs.</span></span>

![Salvar resultados do teste de certificação][img-cert-vm-results]

### <a name="52-get-hello-shared-access-signature-uri-for-your-vm-images"></a><span data-ttu-id="f30e3-324">5.2 obter o URI de assinatura de acesso compartilhado Olá para as imagens VM</span><span class="sxs-lookup"><span data-stu-id="f30e3-324">5.2 Get hello shared access signature URI for your VM images</span></span>
<span data-ttu-id="f30e3-325">Durante a saudação ao processo de publicação, você deve especificar Olá URIs uniform resource identifiers () que levam tooeach de saudação VHDs que você criou para o SKU.</span><span class="sxs-lookup"><span data-stu-id="f30e3-325">During hello publishing process, you specify hello uniform resource identifiers (URIs) that lead tooeach of hello VHDs you have created for your SKU.</span></span> <span data-ttu-id="f30e3-326">A Microsoft precisa acesso toothese VHDs durante o processo de certificação hello.</span><span class="sxs-lookup"><span data-stu-id="f30e3-326">Microsoft needs access toothese VHDs during hello certification process.</span></span> <span data-ttu-id="f30e3-327">Portanto, você precisa toocreate um URI de assinatura de acesso compartilhado para cada VHD.</span><span class="sxs-lookup"><span data-stu-id="f30e3-327">Therefore, you need toocreate a shared access signature URI for each VHD.</span></span> <span data-ttu-id="f30e3-328">Isso é hello URI que deve ser inserido no **imagens** guia Olá Portal de publicação.</span><span class="sxs-lookup"><span data-stu-id="f30e3-328">This is hello URI that should be entered in the **Images** tab in hello Publishing Portal.</span></span>

<span data-ttu-id="f30e3-329">assinatura de acesso compartilhado Olá URI criado deve aderir toohello requisitos a seguir:</span><span class="sxs-lookup"><span data-stu-id="f30e3-329">hello shared access signature URI created should adhere toohello following requirements:</span></span>

* <span data-ttu-id="f30e3-330">Ao gerar um URI de assinatura de acesso compartilhado para seus VHDs, as permissões de leitura e lista são suficientes.</span><span class="sxs-lookup"><span data-stu-id="f30e3-330">When generating shared access signature URIs for your VHDs, List and Read­ permissions are sufficient.</span></span> <span data-ttu-id="f30e3-331">Não forneça acesso para gravação ou exclusão.</span><span class="sxs-lookup"><span data-stu-id="f30e3-331">Do not provide Write or Delete access.</span></span>
* <span data-ttu-id="f30e3-332">duração de saudação para acesso deve ser um mínimo de três (3) semanas a partir de quando o URI de assinatura de acesso compartilhado Olá é criado.</span><span class="sxs-lookup"><span data-stu-id="f30e3-332">hello duration for access should be a minimum of three (3) weeks from when hello shared access signature URI is created.</span></span>
* <span data-ttu-id="f30e3-333">toosafeguard para o horário UTC dia selecione Olá antes Olá data atual.</span><span class="sxs-lookup"><span data-stu-id="f30e3-333">toosafeguard for UTC time, select hello day before hello current date.</span></span> <span data-ttu-id="f30e3-334">Por exemplo, se Olá a data atual for 6 de outubro de 2014, selecione 5/10/2014.</span><span class="sxs-lookup"><span data-stu-id="f30e3-334">For example, if hello current date is October 6, 2014, select 10/5/2014.</span></span>

<span data-ttu-id="f30e3-335">URL da SAS pode ser gerada na tooshare de várias maneiras o VHD para o Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="f30e3-335">SAS URL can be generated in multiple ways tooshare your VHD for Azure Marketplace.</span></span>
<span data-ttu-id="f30e3-336">A seguir são Olá 3 ferramentas recomendadas:</span><span class="sxs-lookup"><span data-stu-id="f30e3-336">Following are hello 3 recommended tools:</span></span>

1.  <span data-ttu-id="f30e3-337">Gerenciador de Armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="f30e3-337">Azure Storage Explorer</span></span>
2.  <span data-ttu-id="f30e3-338">Microsoft Storage Explorer</span><span class="sxs-lookup"><span data-stu-id="f30e3-338">Microsoft Storage Explorer</span></span>
3.  <span data-ttu-id="f30e3-339">CLI do Azure</span><span class="sxs-lookup"><span data-stu-id="f30e3-339">Azure CLI</span></span>

<span data-ttu-id="f30e3-340">**Gerenciador de Armazenamento do Azure (recomendado para usuários do Windows)**</span><span class="sxs-lookup"><span data-stu-id="f30e3-340">**Azure Storage Explorer (Recommended for Windows Users)**</span></span>

<span data-ttu-id="f30e3-341">Estas são as etapas de saudação para gerar a URL de SAS usando o Azure Storage Explorer</span><span class="sxs-lookup"><span data-stu-id="f30e3-341">Following are hello steps for generating SAS URL by using Azure Storage Explorer</span></span>

1. <span data-ttu-id="f30e3-342">Baixe o [Gerenciador de Armazenamento do Azure 6 Visualização 3](https://azurestorageexplorer.codeplex.com/) do CodePlex.</span><span class="sxs-lookup"><span data-stu-id="f30e3-342">Download [Azure Storage Explorer 6 Preview 3](https://azurestorageexplorer.codeplex.com/) from CodePlex.</span></span> <span data-ttu-id="f30e3-343">Vá muito[visualização do Azure Storage Explorer 6](https://azurestorageexplorer.codeplex.com/) e clique em **"Baixa"**.</span><span class="sxs-lookup"><span data-stu-id="f30e3-343">Go too[Azure Storage Explorer 6 Preview](https://azurestorageexplorer.codeplex.com/) and click **"Downloads"**.</span></span>

    ![desenho](media/marketplace-publishing-vm-image-creation/img5.2_01.png)

2. <span data-ttu-id="f30e3-345">Baixe [AzureStorageExplorer6Preview3.zip](https://azurestorageexplorer.codeplex.com/downloads/get/891668) e instale-lo após descompactá-lo.</span><span class="sxs-lookup"><span data-stu-id="f30e3-345">Download [AzureStorageExplorer6Preview3.zip](https://azurestorageexplorer.codeplex.com/downloads/get/891668) and install after unzipping it.</span></span>

    ![desenho](media/marketplace-publishing-vm-image-creation/img5.2_02.png)

3. <span data-ttu-id="f30e3-347">Após a instalação, abra o aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="f30e3-347">After it is installed, open hello application.</span></span>
4. <span data-ttu-id="f30e3-348">Clique em **Adicionar Conta**.</span><span class="sxs-lookup"><span data-stu-id="f30e3-348">Click **Add Account**.</span></span>

    ![desenho](media/marketplace-publishing-vm-image-creation/img5.2_03.png)

5. <span data-ttu-id="f30e3-350">Especifique o nome de conta de armazenamento hello, chave de conta de armazenamento e domínio de pontos de extremidade de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="f30e3-350">Specify hello storage account name, storage account key, and storage endpoints domain.</span></span> <span data-ttu-id="f30e3-351">Essa é a conta de armazenamento de saudação na sua assinatura do Azure onde você manteve o VHD no portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="f30e3-351">This is hello storage account in your Azure subscription where you have kept your VHD on Azure portal.</span></span>

    ![desenho](media/marketplace-publishing-vm-image-creation/img5.2_04.png)

6. <span data-ttu-id="f30e3-353">Depois que o Azure Storage Explorer é conectado tooyour conta de armazenamento específica, ela será iniciada mostrando todos Olá contém na conta de armazenamento hello.</span><span class="sxs-lookup"><span data-stu-id="f30e3-353">Once Azure Storage Explorer is connected tooyour specific storage account, it will start showing all of hello contains within hello storage account.</span></span> <span data-ttu-id="f30e3-354">Selecione o contêiner Olá onde você copiou o arquivo VHD de disco de sistema operacional de Olá (também discos de dados se elas forem aplicáveis para seu cenário).</span><span class="sxs-lookup"><span data-stu-id="f30e3-354">Select hello container where you copied hello operating system disk VHD file (also data disks if they are applicable for your scenario).</span></span>

    ![desenho](media/marketplace-publishing-vm-image-creation/img5.2_05.png)

7. <span data-ttu-id="f30e3-356">Depois de selecionar o contêiner de blob hello, Azure Storage Explorer inicia mostrando arquivos Olá contêiner hello.</span><span class="sxs-lookup"><span data-stu-id="f30e3-356">After selecting hello blob container, Azure Storage Explorer starts showing hello files within hello container.</span></span> <span data-ttu-id="f30e3-357">Selecione o arquivo de imagem da saudação (. vhd) que precisa toobe enviada.</span><span class="sxs-lookup"><span data-stu-id="f30e3-357">Select hello image file (.vhd) that needs toobe submitted.</span></span>

    ![desenho](media/marketplace-publishing-vm-image-creation/img5.2_06.png)

8.  <span data-ttu-id="f30e3-359">Depois de selecionar o arquivo. vhd de saudação no contêiner de saudação, clique em Olá **segurança** guia.</span><span class="sxs-lookup"><span data-stu-id="f30e3-359">After selecting hello .vhd file in hello container, click hello **Security** tab.</span></span>

    ![desenho](media/marketplace-publishing-vm-image-creation/img5.2_07.png)

9.  <span data-ttu-id="f30e3-361">Em Olá **segurança de contêiner de Blob** caixa de diálogo, deixe padrões Olá Olá **nível de acesso** guia e, em seguida, clique em **assinaturas de acesso compartilhado** guia.</span><span class="sxs-lookup"><span data-stu-id="f30e3-361">In hello **Blob Container Security** dialog box, leave hello defaults on hello **Access Level** tab, and then click **Shared Access Signatures** tab.</span></span>

    ![desenho](media/marketplace-publishing-vm-image-creation/img5.2_08.png)

10. <span data-ttu-id="f30e3-363">Siga as próximas etapas, Olá toogenerate um URI de assinatura de acesso compartilhado para a imagem de VHD hello:</span><span class="sxs-lookup"><span data-stu-id="f30e3-363">Follow hello steps below toogenerate a shared access signature URI for hello .vhd image:</span></span>

    ![desenho](media/marketplace-publishing-vm-image-creation/img5.2_09.png)

    <span data-ttu-id="f30e3-365">a.</span><span class="sxs-lookup"><span data-stu-id="f30e3-365">a.</span></span> <span data-ttu-id="f30e3-366">**O acesso permitido do:** toosafeguard para o horário UTC dia selecione Olá antes Olá data atual.</span><span class="sxs-lookup"><span data-stu-id="f30e3-366">**Access permitted from:** toosafeguard for UTC time, select hello day before hello current date.</span></span> <span data-ttu-id="f30e3-367">Por exemplo, se Olá a data atual for 6 de outubro de 2014, selecione 5/10/2014.</span><span class="sxs-lookup"><span data-stu-id="f30e3-367">For example, if hello current date is October 6, 2014, select 10/5/2014.</span></span>

    <span data-ttu-id="f30e3-368">b.</span><span class="sxs-lookup"><span data-stu-id="f30e3-368">b.</span></span> <span data-ttu-id="f30e3-369">**O acesso permitido para:** selecionar uma data que seja pelo menos três semanas após Olá **acesso permitido do** Data.</span><span class="sxs-lookup"><span data-stu-id="f30e3-369">**Access permitted to:** Select a date that is at least 3 weeks after hello **Access permitted from** date.</span></span>

    <span data-ttu-id="f30e3-370">c.</span><span class="sxs-lookup"><span data-stu-id="f30e3-370">c.</span></span> <span data-ttu-id="f30e3-371">**Ações permitidas:** Olá selecione **lista** e **leitura** permissões.</span><span class="sxs-lookup"><span data-stu-id="f30e3-371">**Actions permitted:** Select hello **List** and **Read** permissions.</span></span>

    <span data-ttu-id="f30e3-372">d.</span><span class="sxs-lookup"><span data-stu-id="f30e3-372">d.</span></span> <span data-ttu-id="f30e3-373">Se você selecionou corretamente o arquivo. vhd, o arquivo é exibido no **tooaccess nome de Blob** com extensão VHD.</span><span class="sxs-lookup"><span data-stu-id="f30e3-373">If you have selected your .vhd file correctly, then your file appears in **Blob name tooaccess** with extension .vhd.</span></span>

    <span data-ttu-id="f30e3-374">e.</span><span class="sxs-lookup"><span data-stu-id="f30e3-374">e.</span></span> <span data-ttu-id="f30e3-375">Clique em **Gerar Assinatura**.</span><span class="sxs-lookup"><span data-stu-id="f30e3-375">Click **Generate Signature**.</span></span>

    <span data-ttu-id="f30e3-376">f.</span><span class="sxs-lookup"><span data-stu-id="f30e3-376">f.</span></span> <span data-ttu-id="f30e3-377">Em **gerado compartilhado acesso assinatura URI desse contêiner**, procure Olá a seguir como destacado acima:</span><span class="sxs-lookup"><span data-stu-id="f30e3-377">In **Generated Shared Access Signature URI of this container**, check for hello following as highlighted above:</span></span>

       - <span data-ttu-id="f30e3-378">Certifique-se de que a imagem do nome do arquivo e **". vhd"** no hello URI.</span><span class="sxs-lookup"><span data-stu-id="f30e3-378">Make sure that your image file name and **".vhd"** are in hello URI.</span></span>
       - <span data-ttu-id="f30e3-379">No final da saudação da assinatura hello, verifique se **"= rl"** é exibida.</span><span class="sxs-lookup"><span data-stu-id="f30e3-379">At hello end of hello signature, make sure that **"=rl"** appears.</span></span> <span data-ttu-id="f30e3-380">Isso demonstra que os acessos de leitura e lista foram fornecidos com êxito.</span><span class="sxs-lookup"><span data-stu-id="f30e3-380">This demonstrates that Read and List access was provided successfully.</span></span>
       - <span data-ttu-id="f30e3-381">No meio da assinatura hello, verifique se **"sr = c"** é exibida.</span><span class="sxs-lookup"><span data-stu-id="f30e3-381">In middle of hello signature, make sure that **"sr=c"** appears.</span></span> <span data-ttu-id="f30e3-382">Isso demonstra que você tem acesso ao nível de contêiner</span><span class="sxs-lookup"><span data-stu-id="f30e3-382">This demonstrates that you have container level access</span></span>

11. <span data-ttu-id="f30e3-383">tooensure Olá gerado compartilhados funciona URI de assinatura de acesso, clique em **teste no navegador**.</span><span class="sxs-lookup"><span data-stu-id="f30e3-383">tooensure that hello generated shared access signature URI works, click **Test in Browser**.</span></span> <span data-ttu-id="f30e3-384">Ele deve iniciar o processo de download de saudação.</span><span class="sxs-lookup"><span data-stu-id="f30e3-384">It should start hello download process.</span></span>

12. <span data-ttu-id="f30e3-385">Copie o URI de assinatura de acesso compartilhado hello.</span><span class="sxs-lookup"><span data-stu-id="f30e3-385">Copy hello shared access signature URI.</span></span> <span data-ttu-id="f30e3-386">Isso é Olá URI toopaste em Olá Portal de publicação.</span><span class="sxs-lookup"><span data-stu-id="f30e3-386">This is hello URI toopaste into hello Publishing Portal.</span></span>

13. <span data-ttu-id="f30e3-387">Repita as etapas 6-10 para cada VHD em Olá SKU.</span><span class="sxs-lookup"><span data-stu-id="f30e3-387">Repeat steps 6-10 for each VHD in hello SKU.</span></span>

<span data-ttu-id="f30e3-388">**Gerenciador de Armazenamento do Microsoft Azure (Windows/MAC/Linux)**</span><span class="sxs-lookup"><span data-stu-id="f30e3-388">**Microsoft Azure Storage Explorer (Windows/MAC/Linux)**</span></span>

<span data-ttu-id="f30e3-389">Estas são as etapas de saudação para gerar a URL de SAS usando o Microsoft Azure Storage Explorer</span><span class="sxs-lookup"><span data-stu-id="f30e3-389">Following are hello steps for generating SAS URL by using Microsoft Azure Storage Explorer</span></span>

1.  <span data-ttu-id="f30e3-390">Baixe o formulário do Gerenciador de Armazenamento do Microsoft Azure no site [http://storageexplorer.com/](http://storageexplorer.com/).</span><span class="sxs-lookup"><span data-stu-id="f30e3-390">Download Microsoft Azure Storage Explorer form [http://storageexplorer.com/](http://storageexplorer.com/) website.</span></span> <span data-ttu-id="f30e3-391">Vá muito[Microsoft Azure Storage Explorer](http://storageexplorer.com/releasenotes.html) e clique em **"Fazer Download do Windows"**.</span><span class="sxs-lookup"><span data-stu-id="f30e3-391">Go too[Microsoft Azure Storage Explorer](http://storageexplorer.com/releasenotes.html) and click **“Download for Windows”**.</span></span>

    ![desenho](media/marketplace-publishing-vm-image-creation/img5.2_10.png)

2.  <span data-ttu-id="f30e3-393">Após a instalação, abra o aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="f30e3-393">After it is installed, open hello application.</span></span>

3.  <span data-ttu-id="f30e3-394">Clique em **Adicionar Conta**.</span><span class="sxs-lookup"><span data-stu-id="f30e3-394">Click **Add Account**.</span></span>

4.  <span data-ttu-id="f30e3-395">Configurar a assinatura do Microsoft Azure Storage Explorer tooyour por conta tooyour de entrada</span><span class="sxs-lookup"><span data-stu-id="f30e3-395">Configure Microsoft Azure Storage Explorer tooyour subscription by sign in tooyour account</span></span>

    ![desenho](media/marketplace-publishing-vm-image-creation/img5.2_11.png)

5.  <span data-ttu-id="f30e3-397">Vá toostorage conta e selecione Olá contêiner</span><span class="sxs-lookup"><span data-stu-id="f30e3-397">Go toostorage account and select hello Container</span></span>

6.  <span data-ttu-id="f30e3-398">Selecione **“Obter a assinatura de acesso ao compartilhamento...”**</span><span class="sxs-lookup"><span data-stu-id="f30e3-398">Select **“Get Share Access Signature..”**</span></span> <span data-ttu-id="f30e3-399">usando o botão direito do mouse do hello **contêiner**</span><span class="sxs-lookup"><span data-stu-id="f30e3-399">by using Right Click of hello **container**</span></span>

    ![desenho](media/marketplace-publishing-vm-image-creation/img5.2_12.png)

7.  <span data-ttu-id="f30e3-401">Hora de início da atualização, Hora de expiração e Permissões conforme mostrado no seguinte</span><span class="sxs-lookup"><span data-stu-id="f30e3-401">Update Start time, Expiry time and Permissions as per following</span></span>

    ![desenho](media/marketplace-publishing-vm-image-creation/img5.2_13.png)

    <span data-ttu-id="f30e3-403">a.</span><span class="sxs-lookup"><span data-stu-id="f30e3-403">a.</span></span>  <span data-ttu-id="f30e3-404">**Hora de início:** toosafeguard para o horário UTC dia selecione Olá antes Olá data atual.</span><span class="sxs-lookup"><span data-stu-id="f30e3-404">**Start Time:** toosafeguard for UTC time, select hello day before hello current date.</span></span> <span data-ttu-id="f30e3-405">Por exemplo, se Olá a data atual for 6 de outubro de 2014, selecione 5/10/2014.</span><span class="sxs-lookup"><span data-stu-id="f30e3-405">For example, if hello current date is October 6, 2014, select 10/5/2014.</span></span>

    <span data-ttu-id="f30e3-406">b.</span><span class="sxs-lookup"><span data-stu-id="f30e3-406">b.</span></span>  <span data-ttu-id="f30e3-407">**Tempo de expiração:** selecionar uma data que seja pelo menos três semanas após Olá **Start Time** Data.</span><span class="sxs-lookup"><span data-stu-id="f30e3-407">**Expiry Time:** Select a date that is at least 3 weeks after hello **Start Time** date.</span></span>

    <span data-ttu-id="f30e3-408">c.</span><span class="sxs-lookup"><span data-stu-id="f30e3-408">c.</span></span>  <span data-ttu-id="f30e3-409">**Permissões:** Olá selecione **lista** e **leitura** permissões</span><span class="sxs-lookup"><span data-stu-id="f30e3-409">**Permissions:** Select hello **List** and **Read** permissions</span></span>

8.  <span data-ttu-id="f30e3-410">Copie o URI da assinatura de acesso compartilhado do contêiner</span><span class="sxs-lookup"><span data-stu-id="f30e3-410">Copy Container shared access signature URI</span></span>

    ![desenho](media/marketplace-publishing-vm-image-creation/img5.2_14.png)

    <span data-ttu-id="f30e3-412">URL SAS gerada é de nível de contêiner e agora precisamos de nome do VHD tooadd nele.</span><span class="sxs-lookup"><span data-stu-id="f30e3-412">Generated SAS URL is for container Level and now we need tooadd VHD name in it.</span></span>

    <span data-ttu-id="f30e3-413">Formato da URL SAS de nível de contêiner: `https://testrg009.blob.core.windows.net/vhds?st=2016-04-22T23%3A05%3A00Z&se=2016-04-30T23%3A05%3A00Z&sp=rl&sv=2015-04-05&sr=c&sig=J3twCQZv4L4EurvugRW2klE2l2EFB9XyM6K9FkuVB58%3D`</span><span class="sxs-lookup"><span data-stu-id="f30e3-413">Format of Container Level SAS URL: `https://testrg009.blob.core.windows.net/vhds?st=2016-04-22T23%3A05%3A00Z&se=2016-04-30T23%3A05%3A00Z&sp=rl&sv=2015-04-05&sr=c&sig=J3twCQZv4L4EurvugRW2klE2l2EFB9XyM6K9FkuVB58%3D`</span></span>

    <span data-ttu-id="f30e3-414">Insira o nome do VHD após o nome de contêiner de saudação na URL SAS como abaixo`https://testrg009.blob.core.windows.net/vhds/<VHD NAME>?st=2016-04-22T23%3A05%3A00Z&se=2016-04-30T23%3A05%3A00Z&sp=rl&sv=2015-04-05&sr=c&sig=J3twCQZv4L4EurvugRW2klE2l2EFB9XyM6K9FkuVB58%3D`</span><span class="sxs-lookup"><span data-stu-id="f30e3-414">Insert VHD name after hello container name in SAS URL as below `https://testrg009.blob.core.windows.net/vhds/<VHD NAME>?st=2016-04-22T23%3A05%3A00Z&se=2016-04-30T23%3A05%3A00Z&sp=rl&sv=2015-04-05&sr=c&sig=J3twCQZv4L4EurvugRW2klE2l2EFB9XyM6K9FkuVB58%3D`</span></span>

    <span data-ttu-id="f30e3-415">Exemplo:</span><span class="sxs-lookup"><span data-stu-id="f30e3-415">Example:</span></span>

    ![desenho](media/marketplace-publishing-vm-image-creation/img5.2_15.png)

    <span data-ttu-id="f30e3-417">TestRGVM201631920152.vhd é hello VHD nome, URL de SAS do VHD será`https://testrg009.blob.core.windows.net/vhds/TestRGVM201631920152.vhd?st=2016-04-22T23%3A05%3A00Z&se=2016-04-30T23%3A05%3A00Z&sp=rl&sv=2015-04-05&sr=c&sig=J3twCQZv4L4EurvugRW2klE2l2EFB9XyM6K9FkuVB58%3D`</span><span class="sxs-lookup"><span data-stu-id="f30e3-417">TestRGVM201631920152.vhd is hello VHD Name then VHD SAS URL will be `https://testrg009.blob.core.windows.net/vhds/TestRGVM201631920152.vhd?st=2016-04-22T23%3A05%3A00Z&se=2016-04-30T23%3A05%3A00Z&sp=rl&sv=2015-04-05&sr=c&sig=J3twCQZv4L4EurvugRW2klE2l2EFB9XyM6K9FkuVB58%3D`</span></span>

    - <span data-ttu-id="f30e3-418">Certifique-se de que a imagem do nome do arquivo e **". vhd"** no hello URI.</span><span class="sxs-lookup"><span data-stu-id="f30e3-418">Make sure that your image file name and **".vhd"** are in hello URI.</span></span>
    - <span data-ttu-id="f30e3-419">No meio da assinatura hello, verifique se **"sp = rl"** é exibida.</span><span class="sxs-lookup"><span data-stu-id="f30e3-419">In middle of hello signature, make sure that **"sp=rl"** appears.</span></span> <span data-ttu-id="f30e3-420">Isso demonstra que os acessos de leitura e lista foram fornecidos com êxito.</span><span class="sxs-lookup"><span data-stu-id="f30e3-420">This demonstrates that Read and List access was provided successfully.</span></span>
    - <span data-ttu-id="f30e3-421">No meio da assinatura hello, verifique se **"sr = c"** é exibida.</span><span class="sxs-lookup"><span data-stu-id="f30e3-421">In middle of hello signature, make sure that **"sr=c"** appears.</span></span> <span data-ttu-id="f30e3-422">Isso demonstra que você tem acesso ao nível de contêiner</span><span class="sxs-lookup"><span data-stu-id="f30e3-422">This demonstrates that you have container level access</span></span>

9.  <span data-ttu-id="f30e3-423">tooensure que Olá funciona URI de assinatura de acesso compartilhado gerada, testá-lo no navegador.</span><span class="sxs-lookup"><span data-stu-id="f30e3-423">tooensure that hello generated shared access signature URI works, test it in browser.</span></span> <span data-ttu-id="f30e3-424">Ele deve iniciar o processo de download de saudação</span><span class="sxs-lookup"><span data-stu-id="f30e3-424">It should start hello download process</span></span>

10. <span data-ttu-id="f30e3-425">Copie o URI de assinatura de acesso compartilhado hello.</span><span class="sxs-lookup"><span data-stu-id="f30e3-425">Copy hello shared access signature URI.</span></span> <span data-ttu-id="f30e3-426">Isso é Olá URI toopaste em Olá Portal de publicação.</span><span class="sxs-lookup"><span data-stu-id="f30e3-426">This is hello URI toopaste into hello Publishing Portal.</span></span>

11. <span data-ttu-id="f30e3-427">Repita essas etapas para cada VHD em Olá SKU.</span><span class="sxs-lookup"><span data-stu-id="f30e3-427">Repeat these steps for each VHD in hello SKU.</span></span>

<span data-ttu-id="f30e3-428">**CLI do Azure (recomendado para não Windows e Integração Contínua)**</span><span class="sxs-lookup"><span data-stu-id="f30e3-428">**Azure CLI (Recommended for Non-Windows & Continuous Integration)**</span></span>

<span data-ttu-id="f30e3-429">Estas são as etapas de saudação para gerar a URL de SAS usando a CLI do Azure</span><span class="sxs-lookup"><span data-stu-id="f30e3-429">Following are hello steps for generating SAS URL by using Azure CLI</span></span>

1.  <span data-ttu-id="f30e3-430">Baixe a CLI do Microsoft Azure [aqui](https://azure.microsoft.com/en-in/documentation/articles/xplat-cli-install/).</span><span class="sxs-lookup"><span data-stu-id="f30e3-430">Download Microsoft Azure CLI from [here](https://azure.microsoft.com/en-in/documentation/articles/xplat-cli-install/).</span></span> <span data-ttu-id="f30e3-431">Você também pode encontrar links diferentes para **[Windows](http://aka.ms/webpi-azure-cli)** e **[MAC OS](http://aka.ms/mac-azure-cli)**.</span><span class="sxs-lookup"><span data-stu-id="f30e3-431">You can also find different links for **[Windows](http://aka.ms/webpi-azure-cli)** and **[MAC OS](http://aka.ms/mac-azure-cli)**.</span></span>

2.  <span data-ttu-id="f30e3-432">Após concluir o download, instale-o</span><span class="sxs-lookup"><span data-stu-id="f30e3-432">Once it is downloaded, please install</span></span>

3.  <span data-ttu-id="f30e3-433">Crie um arquivo do PowerShell com o código a seguir e salve-o no local</span><span class="sxs-lookup"><span data-stu-id="f30e3-433">Create a PowerShell file with following code and save it in local</span></span>

          $conn="DefaultEndpointsProtocol=https;AccountName=<StorageAccountName>;AccountKey=<Storage Account Key>"
          azure storage container list vhds -c $conn
          azure storage container sas create vhds rl <Permission End Date> -c $conn --start <Permission Start Date>  

    <span data-ttu-id="f30e3-434">Atualizar a seguir Olá parâmetros acima</span><span class="sxs-lookup"><span data-stu-id="f30e3-434">Update hello following parameters in above</span></span>

    <span data-ttu-id="f30e3-435">a.</span><span class="sxs-lookup"><span data-stu-id="f30e3-435">a.</span></span> <span data-ttu-id="f30e3-436">**`<StorageAccountName>`**: informe o nome da conta de armazenamento</span><span class="sxs-lookup"><span data-stu-id="f30e3-436">**`<StorageAccountName>`**: Give your storage account name</span></span>

    <span data-ttu-id="f30e3-437">b.</span><span class="sxs-lookup"><span data-stu-id="f30e3-437">b.</span></span> <span data-ttu-id="f30e3-438">**`<Storage Account Key>`**: informe a chave de conta de armazenamento</span><span class="sxs-lookup"><span data-stu-id="f30e3-438">**`<Storage Account Key>`**: Give your storage account key</span></span>

    <span data-ttu-id="f30e3-439">c.</span><span class="sxs-lookup"><span data-stu-id="f30e3-439">c.</span></span> <span data-ttu-id="f30e3-440">**`<Permission Start Date>`**: toosafeguard para o horário UTC dia selecione Olá antes Olá data atual.</span><span class="sxs-lookup"><span data-stu-id="f30e3-440">**`<Permission Start Date>`**: toosafeguard for UTC time, select hello day before hello current date.</span></span> <span data-ttu-id="f30e3-441">Por exemplo, se hello data atual for 26 de outubro de 2016, em seguida, o valor deve ser 25/10/2016</span><span class="sxs-lookup"><span data-stu-id="f30e3-441">For example, if hello current date is October 26, 2016, then value should be 10/25/2016</span></span>

    <span data-ttu-id="f30e3-442">d.</span><span class="sxs-lookup"><span data-stu-id="f30e3-442">d.</span></span> <span data-ttu-id="f30e3-443">**`<Permission End Date>`**: Selecione uma data que seja pelo menos três semanas após Olá **data de início**.</span><span class="sxs-lookup"><span data-stu-id="f30e3-443">**`<Permission End Date>`**: Select a date that is at least 3 weeks after hello **Start Date**.</span></span> <span data-ttu-id="f30e3-444">O valor deverá ser **02/11/2016**.</span><span class="sxs-lookup"><span data-stu-id="f30e3-444">Then value should be **11/02/2016**.</span></span>

    <span data-ttu-id="f30e3-445">A seguir é o código de exemplo hello depois de atualizar os parâmetros corretos</span><span class="sxs-lookup"><span data-stu-id="f30e3-445">Following is hello example code after updating proper parameters</span></span>

          $conn="DefaultEndpointsProtocol=https;AccountName=st20151;AccountKey=TIQE5QWMKHpT5q2VnF1bb+NUV7NVMY2xmzVx1rdgIVsw7h0pcI5nMM6+DVFO65i4bQevx21dmrflA91r0Vh2Yw=="
          azure storage container list vhds -c $conn
          azure storage container sas create vhds rl 11/02/2016 -c $conn --start 10/25/2016  

4.  <span data-ttu-id="f30e3-446">Abra o editor do Powershell com o modo de “Executar como Administrador” e abra o arquivo na etapa 3.</span><span class="sxs-lookup"><span data-stu-id="f30e3-446">Open Powershell editor with “Run as Administrator” mode and open file in step #3.</span></span>

5.  <span data-ttu-id="f30e3-447">Script de execução hello e fornecerá que Olá URL SAS para acesso de nível de contêiner</span><span class="sxs-lookup"><span data-stu-id="f30e3-447">Run hello script and it will provide you hello SAS URL for container level access</span></span>

    <span data-ttu-id="f30e3-448">A seguir serão saída Olá Olá assinatura SAS e cópia Olá realçado partes em um bloco de notas</span><span class="sxs-lookup"><span data-stu-id="f30e3-448">Following will be hello output of hello SAS Signature and copy hello highlighted part in a notepad</span></span>

    ![desenho](media/marketplace-publishing-vm-image-creation/img5.2_16.png)

6.  <span data-ttu-id="f30e3-450">Agora, você receberá o nível de contêiner URL SAS e você precisará tooadd VHD nome nele.</span><span class="sxs-lookup"><span data-stu-id="f30e3-450">Now you will get container level SAS URL and you need tooadd VHD name in it.</span></span>

    <span data-ttu-id="f30e3-451">No. de URL de SAS de nível de contêiner</span><span class="sxs-lookup"><span data-stu-id="f30e3-451">Container level SAS URL #</span></span>

    `https://st20151.blob.core.windows.net/vhds?st=2016-10-25T07%3A00%3A00Z&se=2016-11-02T07%3A00%3A00Z&sp=rl&sv=2015-12-11&sr=c&sig=wnEw9RfVKeSmVgqDfsDvC9IHhis4x0fc9Hu%2FW4yvBxk%3D`

7.  <span data-ttu-id="f30e3-452">Inserir nome do VHD após o nome do contêiner de saudação na URL SAS, conforme mostrado abaixo`https://st20151.blob.core.windows.net/vhds/<VHDName>?st=2016-10-25T07%3A00%3A00Z&se=2016-11-02T07%3A00%3A00Z&sp=rl&sv=2015-12-11&sr=c&sig=wnEw9RfVKeSmVgqDfsDvC9IHhis4x0fc9Hu%2FW4yvBxk%3D`</span><span class="sxs-lookup"><span data-stu-id="f30e3-452">Insert VHD name after hello container name in SAS URL as shown below `https://st20151.blob.core.windows.net/vhds/<VHDName>?st=2016-10-25T07%3A00%3A00Z&se=2016-11-02T07%3A00%3A00Z&sp=rl&sv=2015-12-11&sr=c&sig=wnEw9RfVKeSmVgqDfsDvC9IHhis4x0fc9Hu%2FW4yvBxk%3D`</span></span>

    <span data-ttu-id="f30e3-453">Exemplo:</span><span class="sxs-lookup"><span data-stu-id="f30e3-453">Example:</span></span>

    <span data-ttu-id="f30e3-454">TestRGVM201631920152.vhd é hello VHD nome, URL de SAS do VHD será</span><span class="sxs-lookup"><span data-stu-id="f30e3-454">TestRGVM201631920152.vhd is hello VHD Name then VHD SAS URL will be</span></span>

    `https://st20151.blob.core.windows.net/vhds/ TestRGVM201631920152.vhd?st=2016-10-25T07%3A00%3A00Z&se=2016-11-02T07%3A00%3A00Z&sp=rl&sv=2015-12-11&sr=c&sig=wnEw9RfVKeSmVgqDfsDvC9IHhis4x0fc9Hu%2FW4yvBxk%3D`

    - <span data-ttu-id="f30e3-455">Certifique-se de que seu nome de arquivo de imagem e ". vhd" são Olá URI.</span><span class="sxs-lookup"><span data-stu-id="f30e3-455">Make sure that your image file name and ".vhd" are in hello URI.</span></span>
    -   <span data-ttu-id="f30e3-456">No meio da assinatura hello, verifique se "sp = rl" é exibida.</span><span class="sxs-lookup"><span data-stu-id="f30e3-456">In middle of hello signature, make sure that "sp=rl" appears.</span></span> <span data-ttu-id="f30e3-457">Isso demonstra que os acessos de leitura e lista foram fornecidos com êxito.</span><span class="sxs-lookup"><span data-stu-id="f30e3-457">This demonstrates that Read and List access was provided successfully.</span></span>
    -   <span data-ttu-id="f30e3-458">No meio da assinatura hello, verifique se "sr = c" é exibida.</span><span class="sxs-lookup"><span data-stu-id="f30e3-458">In middle of hello signature, make sure that "sr=c" appears.</span></span> <span data-ttu-id="f30e3-459">Isso demonstra que você tem acesso ao nível de contêiner</span><span class="sxs-lookup"><span data-stu-id="f30e3-459">This demonstrates that you have container level access</span></span>

8.  <span data-ttu-id="f30e3-460">tooensure que Olá funciona URI de assinatura de acesso compartilhado gerada, testá-lo no navegador.</span><span class="sxs-lookup"><span data-stu-id="f30e3-460">tooensure that hello generated shared access signature URI works, test it in browser.</span></span> <span data-ttu-id="f30e3-461">Ele deve iniciar o processo de download de saudação</span><span class="sxs-lookup"><span data-stu-id="f30e3-461">It should start hello download process</span></span>

9.  <span data-ttu-id="f30e3-462">Copie o URI de assinatura de acesso compartilhado hello.</span><span class="sxs-lookup"><span data-stu-id="f30e3-462">Copy hello shared access signature URI.</span></span> <span data-ttu-id="f30e3-463">Isso é Olá URI toopaste em Olá Portal de publicação.</span><span class="sxs-lookup"><span data-stu-id="f30e3-463">This is hello URI toopaste into hello Publishing Portal.</span></span>

10. <span data-ttu-id="f30e3-464">Repita essas etapas para cada VHD em Olá SKU.</span><span class="sxs-lookup"><span data-stu-id="f30e3-464">Repeat these steps for each VHD in hello SKU.</span></span>


### <a name="53-provide-information-about-hello-vm-image-and-request-certification-in-hello-publishing-portal"></a><span data-ttu-id="f30e3-465">5.3 fornecem informações sobre a imagem da VM hello e solicitação de certificação no Portal de publicação de saudação</span><span class="sxs-lookup"><span data-stu-id="f30e3-465">5.3 Provide information about hello VM image and request certification in hello Publishing Portal</span></span>
<span data-ttu-id="f30e3-466">Depois que você criou sua oferta e SKU, você deve inserir os detalhes da imagem Olá associados SKU:</span><span class="sxs-lookup"><span data-stu-id="f30e3-466">After you have created your offer and SKU, you should enter hello image details associated with that SKU:</span></span>

1. <span data-ttu-id="f30e3-467">Vá toohello [Portal de publicação][link-pubportal]e entre com sua conta do vendedor.</span><span class="sxs-lookup"><span data-stu-id="f30e3-467">Go toohello [Publishing Portal][link-pubportal], and then sign in with your seller account.</span></span>
2. <span data-ttu-id="f30e3-468">Selecione Olá **imagens da VM** guia.</span><span class="sxs-lookup"><span data-stu-id="f30e3-468">Select hello **VM images** tab.</span></span>
3. <span data-ttu-id="f30e3-469">Identificador de Olá listada na parte superior de saudação da página de saudação é realmente o identificador de oferta hello e identificador SKU de saudação não.</span><span class="sxs-lookup"><span data-stu-id="f30e3-469">hello identifier listed at hello top of hello page is actually hello offer identifier and not hello SKU identifier.</span></span>
4. <span data-ttu-id="f30e3-470">Preencha as propriedades Olá Olá **SKUs** seção.</span><span class="sxs-lookup"><span data-stu-id="f30e3-470">Fill out hello properties under hello **SKUs** section.</span></span>
5. <span data-ttu-id="f30e3-471">Em **família de sistemas operacionais**, clique em tipo de sistema operacional Olá associado Olá no VHD do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="f30e3-471">Under **Operating system family**, click hello operating system type associated with hello operating system VHD.</span></span>
6. <span data-ttu-id="f30e3-472">Em Olá **sistema operacional** caixa, descrevem o sistema operacional de saudação.</span><span class="sxs-lookup"><span data-stu-id="f30e3-472">In hello **Operating system** box, describe hello operating system.</span></span> <span data-ttu-id="f30e3-473">Considere um formato como família do sistema operacional, tipo, versão e atualizações.</span><span class="sxs-lookup"><span data-stu-id="f30e3-473">Consider a format such as operating system family, type, version, and updates.</span></span> <span data-ttu-id="f30e3-474">Um exemplo é o “Windows Server Datacenter 2014 R2”.</span><span class="sxs-lookup"><span data-stu-id="f30e3-474">An example is "Windows Server Datacenter 2014 R2."</span></span>
7. <span data-ttu-id="f30e3-475">Selecione toosix recomendado tamanhos de máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="f30e3-475">Select up toosix recommended virtual machine sizes.</span></span> <span data-ttu-id="f30e3-476">Essas são as recomendações que obtém cliente toohello exibidas na folha de camada de preços Olá no hello Portal do Azure quando decidir toopurchase e implantar a imagem.</span><span class="sxs-lookup"><span data-stu-id="f30e3-476">These are recommendations that get displayed toohello customer in hello Pricing tier blade in hello Azure Portal when they decide toopurchase and deploy your image.</span></span> <span data-ttu-id="f30e3-477">**Essas são apenas recomendações. Prezado cliente é capaz de tooselect qualquer tamanho VM que acomoda discos Olá especificado em sua imagem.**</span><span class="sxs-lookup"><span data-stu-id="f30e3-477">**These are only recommendations. hello customer is able tooselect any VM size that accommodates hello disks specified in your image.**</span></span>
8. <span data-ttu-id="f30e3-478">Insira a versão de saudação.</span><span class="sxs-lookup"><span data-stu-id="f30e3-478">Enter hello version.</span></span> <span data-ttu-id="f30e3-479">o campo de versão Olá encapsula uma versão semântica tooidentify hello e as atualizações:</span><span class="sxs-lookup"><span data-stu-id="f30e3-479">hello version field encapsulates a semantic version tooidentify hello product and its updates:</span></span>
   * <span data-ttu-id="f30e3-480">Versões devem ser do formato de saudação X.Y.Z, onde X, Y e Z são números inteiros.</span><span class="sxs-lookup"><span data-stu-id="f30e3-480">Versions should be of hello form X.Y.Z, where X, Y, and Z are integers.</span></span>
   * <span data-ttu-id="f30e3-481">Imagens em SKUs diferentes podem ter diferentes versões principais e secundárias.</span><span class="sxs-lookup"><span data-stu-id="f30e3-481">Images in different SKUs can have different major and minor versions.</span></span>
   * <span data-ttu-id="f30e3-482">Versões dentro de uma SKU só devem ser alterações incrementais, o que aumentam a versão de patch da saudação (Z de X.Y.Z).</span><span class="sxs-lookup"><span data-stu-id="f30e3-482">Versions within a SKU should only be incremental changes, which increase hello patch version (Z from X.Y.Z).</span></span>
9. <span data-ttu-id="f30e3-483">Em Olá **URL do VHD de sistema operacional** , digite o URI criado para o VHD do sistema operacional Olá de assinatura de acesso compartilhado hello.</span><span class="sxs-lookup"><span data-stu-id="f30e3-483">In hello **OS VHD URL** box, enter hello shared access signature URI created for hello operating system VHD.</span></span>
10. <span data-ttu-id="f30e3-484">Se houver discos de dados associados a este SKU, selecione Olá unidade lógica número (LUN) toowhich você gostaria que este toobe de disco de dados montado após a implantação.</span><span class="sxs-lookup"><span data-stu-id="f30e3-484">If there are data disks associated with this SKU, select hello logical unit number (LUN) toowhich you would like this data disk toobe mounted upon deployment.</span></span>
11. <span data-ttu-id="f30e3-485">Em Olá **URL do VHD do LUN X** , digite o URI criado para dados primeiro saudação VHD de assinatura de acesso compartilhado hello.</span><span class="sxs-lookup"><span data-stu-id="f30e3-485">In hello **LUN X VHD URL** box, enter hello shared access signature URI created for hello first data VHD.</span></span>

    ![desenho](media/marketplace-publishing-vm-image-creation/vm-image-pubportal-skus-3.png)


## <a name="common-sas-url-issues--fixes"></a><span data-ttu-id="f30e3-487">Problemas comuns e correções da URL de SAS</span><span class="sxs-lookup"><span data-stu-id="f30e3-487">Common SAS URL issues & fixes</span></span>

|<span data-ttu-id="f30e3-488">Problema</span><span class="sxs-lookup"><span data-stu-id="f30e3-488">Issue</span></span>|<span data-ttu-id="f30e3-489">Mensagem de Falha</span><span class="sxs-lookup"><span data-stu-id="f30e3-489">Failure Message</span></span>|<span data-ttu-id="f30e3-490">Correção</span><span class="sxs-lookup"><span data-stu-id="f30e3-490">Fix</span></span>|<span data-ttu-id="f30e3-491">Link da Documentação</span><span class="sxs-lookup"><span data-stu-id="f30e3-491">Documentation Link</span></span>|
|---|---|---|---|
|<span data-ttu-id="f30e3-492">Falha ao copiar imagens – "?" não foi encontrado na URL SAS</span><span class="sxs-lookup"><span data-stu-id="f30e3-492">Failure in copying images - "?" is not found in SAS url</span></span>|<span data-ttu-id="f30e3-493">Falha: Copiando Imagens.</span><span class="sxs-lookup"><span data-stu-id="f30e3-493">Failure: Copying Images.</span></span> <span data-ttu-id="f30e3-494">Não é possível toodownload blob desde Uri SAS.</span><span class="sxs-lookup"><span data-stu-id="f30e3-494">Not able toodownload blob using provided SAS Uri.</span></span>|<span data-ttu-id="f30e3-495">Atualização Olá Url SAS usando ferramentas recomendadas</span><span class="sxs-lookup"><span data-stu-id="f30e3-495">Update hello SAS Url using recommended tools</span></span>|[<span data-ttu-id="f30e3-496">https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span><span class="sxs-lookup"><span data-stu-id="f30e3-496">https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span></span>](https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/)|
|<span data-ttu-id="f30e3-497">Falha ao copiar imagens – Os parâmetros “st” e “se” não existem na URL SAS</span><span class="sxs-lookup"><span data-stu-id="f30e3-497">Failure in copying images - “st” and “se” parameters not in SAS url</span></span>|<span data-ttu-id="f30e3-498">Falha: Copiando Imagens.</span><span class="sxs-lookup"><span data-stu-id="f30e3-498">Failure: Copying Images.</span></span> <span data-ttu-id="f30e3-499">Não é possível toodownload blob desde Uri SAS.</span><span class="sxs-lookup"><span data-stu-id="f30e3-499">Not able toodownload blob using provided SAS Uri.</span></span>|<span data-ttu-id="f30e3-500">Atualizar Olá Url SAS com datas de início e término nele</span><span class="sxs-lookup"><span data-stu-id="f30e3-500">Update hello SAS Url with Start and End dates on it</span></span>|[<span data-ttu-id="f30e3-501">https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span><span class="sxs-lookup"><span data-stu-id="f30e3-501">https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span></span>](https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/)|
|<span data-ttu-id="f30e3-502">Falha ao copiar as imagens – “sp=rl” não existe URL SAS</span><span class="sxs-lookup"><span data-stu-id="f30e3-502">Failure in copying images - “sp=rl” not in SAS url</span></span>|<span data-ttu-id="f30e3-503">Falha: Copiando Imagens.</span><span class="sxs-lookup"><span data-stu-id="f30e3-503">Failure: Copying Images.</span></span> <span data-ttu-id="f30e3-504">Não é possível toodownload blob desde Uri SAS</span><span class="sxs-lookup"><span data-stu-id="f30e3-504">Not able toodownload blob using provided SAS Uri</span></span>|<span data-ttu-id="f30e3-505">Atualizar Olá Url SAS com as permissões definidas como "Ler" e "lista</span><span class="sxs-lookup"><span data-stu-id="f30e3-505">Update hello SAS Url with permissions set as “Read” & “List</span></span>|[<span data-ttu-id="f30e3-506">https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span><span class="sxs-lookup"><span data-stu-id="f30e3-506">https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span></span>](https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/)|
|<span data-ttu-id="f30e3-507">Falha ao copiar imagens – A URL SAS tem espaços em branco no nome do vhd</span><span class="sxs-lookup"><span data-stu-id="f30e3-507">Failure in copying images - SAS url have white spaces in vhd name</span></span>|<span data-ttu-id="f30e3-508">Falha: Copiando Imagens.</span><span class="sxs-lookup"><span data-stu-id="f30e3-508">Failure: Copying Images.</span></span> <span data-ttu-id="f30e3-509">Não é possível toodownload blob desde Uri SAS.</span><span class="sxs-lookup"><span data-stu-id="f30e3-509">Not able toodownload blob using provided SAS Uri.</span></span>|<span data-ttu-id="f30e3-510">Atualizar Olá Url SAS, sem espaços em branco</span><span class="sxs-lookup"><span data-stu-id="f30e3-510">Update hello SAS Url without white spaces</span></span>|[<span data-ttu-id="f30e3-511">https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span><span class="sxs-lookup"><span data-stu-id="f30e3-511">https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span></span>](https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/)|
|<span data-ttu-id="f30e3-512">Falha ao copiar imagens – Erro de autorização da URL SAS</span><span class="sxs-lookup"><span data-stu-id="f30e3-512">Failure in copying images – SAS Url Authorization error</span></span>|<span data-ttu-id="f30e3-513">Falha: Copiando Imagens.</span><span class="sxs-lookup"><span data-stu-id="f30e3-513">Failure: Copying Images.</span></span> <span data-ttu-id="f30e3-514">Blob toodownload não é possível devido a erro de tooauthorization</span><span class="sxs-lookup"><span data-stu-id="f30e3-514">Not able toodownload blob due tooauthorization error</span></span>|<span data-ttu-id="f30e3-515">Regenerar Olá Url SAS</span><span class="sxs-lookup"><span data-stu-id="f30e3-515">Regenerate hello SAS Url</span></span>|[<span data-ttu-id="f30e3-516">https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span><span class="sxs-lookup"><span data-stu-id="f30e3-516">https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span></span>](https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/)|


## <a name="next-step"></a><span data-ttu-id="f30e3-517">Próxima etapa</span><span class="sxs-lookup"><span data-stu-id="f30e3-517">Next step</span></span>
<span data-ttu-id="f30e3-518">Depois de terminar com detalhes SKU hello, você pode mover forward toohello [guia de conteúdo de marketing do Azure Marketplace][link-pushstaging].</span><span class="sxs-lookup"><span data-stu-id="f30e3-518">After you are done with hello SKU details, you can move forward toohello [Azure Marketplace marketing content guide][link-pushstaging].</span></span> <span data-ttu-id="f30e3-519">Essa etapa do processo de publicação de saudação, você fornece Olá marketing conteúdo, preço e antes de necessárias outras informações muito**etapa 3: testar sua VM oferecem em preparo**, onde você testar vários cenários de caso de uso antes de implantar Olá oferta toohello Azure Marketplace para visibilidade pública e compra.</span><span class="sxs-lookup"><span data-stu-id="f30e3-519">In that step of hello publishing process, you provide hello marketing content, pricing, and other information necessary prior too**Step 3: Testing your VM offer in staging**, where you test various use-case scenarios before deploying hello offer toohello Azure Marketplace for public visibility and purchase.</span></span>  

## <a name="see-also"></a><span data-ttu-id="f30e3-520">Consulte também</span><span class="sxs-lookup"><span data-stu-id="f30e3-520">See also</span></span>
* [<span data-ttu-id="f30e3-521">Guia de Introdução: como toopublish toohello uma oferta do Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="f30e3-521">Getting started: How toopublish an offer toohello Azure Marketplace</span></span>](marketplace-publishing-getting-started.md)

[img-acom-1]:media/marketplace-publishing-vm-image-creation/vm-image-acom-datacenter.png
[img-portal-vm-size]:media/marketplace-publishing-vm-image-creation/vm-image-portal-size.png
[img-portal-vm-create]:media/marketplace-publishing-vm-image-creation/vm-image-portal-create-vm.png
[img-portal-vm-location]:media/marketplace-publishing-vm-image-creation/vm-image-portal-location.png
[img-portal-vm-rdp]:media/marketplace-publishing-vm-image-creation/vm-image-portal-rdp.png
[img-azstg-add]:media/marketplace-publishing-vm-image-creation/vm-image-storage-add.png
[img-manage-vm-new]:media/marketplace-publishing-vm-image-creation/vm-image-manage-new.png
[img-manage-vm-select]:media/marketplace-publishing-vm-image-creation/vm-image-manage-select.png
[img-cert-vm-key-lnx]:media/marketplace-publishing-vm-image-creation/vm-image-certification-keyfile-linux.png
[img-cert-vm-pswd-lnx]:media/marketplace-publishing-vm-image-creation/vm-image-certification-password-linux.png
[img-cert-vm-pswd-win]:media/marketplace-publishing-vm-image-creation/vm-image-certification-password-win.png
[img-cert-vm-test-lnx]:media/marketplace-publishing-vm-image-creation/vm-image-certification-test-sample-linux.png
[img-cert-vm-test-win]:media/marketplace-publishing-vm-image-creation/vm-image-certification-test-sample-win.png
[img-cert-vm-results]:media/marketplace-publishing-vm-image-creation/vm-image-certification-results.png
[img-cert-vm-questionnaire]:media/marketplace-publishing-vm-image-creation/vm-image-certification-questionnaire.png
[img-cert-vm-questionnaire-2]:media/marketplace-publishing-vm-image-creation/vm-image-certification-questionnaire-2.png
[img-pubportal-vm-skus]:media/marketplace-publishing-vm-image-creation/vm-image-pubportal-skus.png
[img-pubportal-vm-skus-2]:media/marketplace-publishing-vm-image-creation/vm-image-pubportal-skus-2.png

[link-pushstaging]:marketplace-publishing-push-to-staging.md
[link-github-waagent]:https://github.com/Azure/WALinuxAgent
[link-azure-codeplex]:https://azurestorageexplorer.codeplex.com/
[link-azure-2]:../storage/blobs/storage-dotnet-shared-access-signature-part-2.md
[link-azure-1]:../storage/common/storage-dotnet-shared-access-signature-part-1.md
[link-msft-download]:http://www.microsoft.com/download/details.aspx?id=44299
[link-technet-3]:https://technet.microsoft.com/library/hh846766.aspx
[link-technet-2]:https://msdn.microsoft.com/library/dn495261.aspx
[link-azure-portal]:https://portal.azure.com
[link-pubportal]:https://publish.windowsazure.com
[link-sql-2014-ent]:http://azure.microsoft.com/marketplace/partners/microsoft/sqlserver2014enterprisewindowsserver2012r2/
[link-sql-2014-std]:http://azure.microsoft.com/marketplace/partners/microsoft/sqlserver2014standardwindowsserver2012r2/
[link-sql-2014-web]:http://azure.microsoft.com/marketplace/partners/microsoft/sqlserver2014webwindowsserver2012r2/
[link-sql-2012-ent]:http://azure.microsoft.com/marketplace/partners/microsoft/sqlserver2012sp2enterprisewindowsserver2012/
[link-sql-2012-std]:http://azure.microsoft.com/marketplace/partners/microsoft/sqlserver2012sp2standardwindowsserver2012/
[link-sql-2012-web]:http://azure.microsoft.com/marketplace/partners/microsoft/sqlserver2012sp2webwindowsserver2012/
[link-datactr-2012-r2]:http://azure.microsoft.com/marketplace/partners/microsoft/windowsserver2012r2datacenter/
[link-datactr-2012]:http://azure.microsoft.com/marketplace/partners/microsoft/windowsserver2012datacenter/
[link-datactr-2008-r2]:http://azure.microsoft.com/marketplace/partners/microsoft/windowsserver2008r2sp1/
[link-acct-creation]:marketplace-publishing-accounts-creation-registration.md
[link-technet-1]:https://technet.microsoft.com/library/hh848454.aspx
[link-azure-vm-2]:./virtual-machines-linux-agent-user-guide/
[link-openssl]:https://www.openssl.org/
[link-intsvc]:http://www.microsoft.com/download/details.aspx?id=41554
[link-python]:https://www.python.org/
