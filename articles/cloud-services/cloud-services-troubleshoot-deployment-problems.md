---
title: "Solucionar problemas de implantação do serviço de nuvem | Microsoft Docs"
description: "Existem alguns problemas comuns que você experimentar ao implantar um serviço de nuvem no Azure. Este artigo fornece soluções para alguns deles."
services: cloud-services
documentationcenter: 
author: simonxjx
manager: felixwu
editor: 
tags: top-support-issue
ms.assetid: a18ae415-0d1c-4bc4-ab6c-c1ddea02c870
ms.service: cloud-services
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: tbd
ms.date: 7/26/2017
ms.author: v-six
ms.openlocfilehash: 60e06ba292ff1e43d00cd69c1a422f9237d5e5a4
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/03/2017
---
# <a name="troubleshoot-cloud-service-deployment-problems"></a><span data-ttu-id="f6f95-104">Solucionar problemas de implantação do serviço de nuvem</span><span class="sxs-lookup"><span data-stu-id="f6f95-104">Troubleshoot cloud service deployment problems</span></span>
<span data-ttu-id="f6f95-105">Quando você implanta um pacote de aplicativos do serviço de nuvem no Azure, é possível obter informações sobre a implantação no painel **Propriedades** no portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="f6f95-105">When you deploy a cloud service application package to Azure, you can obtain information about the deployment from the **Properties** pane in the Azure portal.</span></span> <span data-ttu-id="f6f95-106">Você pode usar os detalhes nesse painel para ajudá-lo a solucionar problemas com o serviço de nuvem, e pode fornecer essas informações ao suporte do Azure ao abrir uma nova solicitação de suporte.</span><span class="sxs-lookup"><span data-stu-id="f6f95-106">You can use the details in this pane to help you troubleshoot problems with the cloud service, and you can provide this information to Azure Support when opening a new support request.</span></span>

<span data-ttu-id="f6f95-107">Você pode encontrar o painel **Propriedades** da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="f6f95-107">You can find the **Properties** pane as follows:</span></span>

* <span data-ttu-id="f6f95-108">No portal do Azure, clique na implantação de seu serviço de nuvem, clique em **Todas as configurações** e em **Propriedades**.</span><span class="sxs-lookup"><span data-stu-id="f6f95-108">In the Azure portal, click the deployment of your cloud service, click **All settings**, and then click **Properties**.</span></span>
* <span data-ttu-id="f6f95-109">No portal clássico do Azure, clique na implantação de seu serviço de nuvem e clique em **PAINEL**, localizado no canto inferior direito da página (em **visão rápida**).</span><span class="sxs-lookup"><span data-stu-id="f6f95-109">In the Azure classic portal, click the deployment of your cloud service, click **DASHBOARD**, located at the lower-right corner of the page (under **quick glance**).</span></span> <span data-ttu-id="f6f95-110">Lembre-se de que não há um rótulo de "Propriedades" nesse painel.</span><span class="sxs-lookup"><span data-stu-id="f6f95-110">Be aware that there's no "Properties" label on this pane.</span></span>

> [!NOTE]
> <span data-ttu-id="f6f95-111">Você pode copiar o conteúdo do painel **Propriedades** para a área de transferência clicando no ícone no canto superior direito do painel.</span><span class="sxs-lookup"><span data-stu-id="f6f95-111">You can copy the contents of the **Properties** pane to the clipboard by clicking the icon in the upper-right corner of the pane.</span></span>
>
>

[!INCLUDE [support-disclaimer](../../includes/support-disclaimer.md)]

## <a name="problem-i-cannot-access-my-website-but-my-deployment-is-started-and-all-role-instances-are-ready"></a><span data-ttu-id="f6f95-112">Problema: não consigo acessar meu site, mas minha implantação foi iniciada e todas as instâncias de função estão prontas</span><span class="sxs-lookup"><span data-stu-id="f6f95-112">Problem: I cannot access my website, but my deployment is started and all role instances are ready</span></span>
<span data-ttu-id="f6f95-113">O link da URL do site exibido no portal não inclui a porta.</span><span class="sxs-lookup"><span data-stu-id="f6f95-113">The website URL link shown in the portal does not include the port.</span></span> <span data-ttu-id="f6f95-114">A porta padrão para sites é 80.</span><span class="sxs-lookup"><span data-stu-id="f6f95-114">The default port for websites is 80.</span></span> <span data-ttu-id="f6f95-115">Se o seu aplicativo for configurado para ser executado em uma porta diferente, você deverá adicionar o número de porta correto à URL ao acessar o site.</span><span class="sxs-lookup"><span data-stu-id="f6f95-115">If your application is configured to run in a different port, you must add the correct port number to the URL when accessing the website.</span></span>

1. <span data-ttu-id="f6f95-116">No portal do Azure, clique na implantação do serviço de nuvem.</span><span class="sxs-lookup"><span data-stu-id="f6f95-116">In the Azure portal, click the deployment of your cloud service.</span></span>
2. <span data-ttu-id="f6f95-117">No painel **Propriedades** do Portal do Azure, verifique as portas para as instâncias de função (em **Pontos de Extremidade de Entrada**).</span><span class="sxs-lookup"><span data-stu-id="f6f95-117">In the **Properties** pane of the Azure portal, check the ports for the role instances (under **Input Endpoints**).</span></span>
3. <span data-ttu-id="f6f95-118">Se a porta não for 80, adicione o valor de porta correto à URL ao acessar o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f6f95-118">If the port is not 80, add the correct port value to the URL when you access the application.</span></span> <span data-ttu-id="f6f95-119">Para especificar uma porta não padrão, digite a URL, seguida de dois-pontos (:) e do número da porta sem espaços.</span><span class="sxs-lookup"><span data-stu-id="f6f95-119">To specify a non-default port, type the URL, followed by a colon (:), followed by the port number, with no spaces.</span></span>

## <a name="problem-my-role-instances-recycled-without-me-doing-anything"></a><span data-ttu-id="f6f95-120">Problema: minhas instâncias de funções foram recicladas sem que eu tenha realizado nenhuma ação</span><span class="sxs-lookup"><span data-stu-id="f6f95-120">Problem: My role instances recycled without me doing anything</span></span>
<span data-ttu-id="f6f95-121">A recuperação de serviço ocorre automaticamente quando o Azure detecta nós com problemas e, assim, move as instâncias de função para novos nós.</span><span class="sxs-lookup"><span data-stu-id="f6f95-121">Service healing occurs automatically when Azure detects problem nodes and therefore moves role instances to new nodes.</span></span> <span data-ttu-id="f6f95-122">Quando isso ocorrer, você poderá ver suas instâncias de função serem recicladas automaticamente.</span><span class="sxs-lookup"><span data-stu-id="f6f95-122">When this occurs, you might see your role instances recycling automatically.</span></span> <span data-ttu-id="f6f95-123">Para descobrir se a recuperação de serviço ocorreu:</span><span class="sxs-lookup"><span data-stu-id="f6f95-123">To find out if service healing occurred:</span></span>

1. <span data-ttu-id="f6f95-124">No portal do Azure, clique na implantação do serviço de nuvem.</span><span class="sxs-lookup"><span data-stu-id="f6f95-124">In the Azure portal, click the deployment of your cloud service.</span></span>
2. <span data-ttu-id="f6f95-125">No painel **Propriedades** do Portal do Azure, examine as informações e determine se a recuperação de serviço ocorreu durante o tempo em que você observou a reciclagem das funções.</span><span class="sxs-lookup"><span data-stu-id="f6f95-125">In the **Properties** pane of the Azure portal, review the information and determine whether service healing occurred during the time that you observed the roles recycling.</span></span>

<span data-ttu-id="f6f95-126">As funções também serão recicladas aproximadamente uma vez por mês durante as atualizações do SO host e do SO convidado.</span><span class="sxs-lookup"><span data-stu-id="f6f95-126">Roles will also recycle roughly once per month during host-OS and guest-OS updates.</span></span>  
<span data-ttu-id="f6f95-127">Para saber mais, confira a postagem no blog [A instância de função é reinicializada devido às atualizações do SO](http://blogs.msdn.com/b/kwill/archive/2012/09/19/role-instance-restarts-due-to-os-upgrades.aspx)</span><span class="sxs-lookup"><span data-stu-id="f6f95-127">For more information, see the blog post [Role Instance Restarts Due to OS Upgrades](http://blogs.msdn.com/b/kwill/archive/2012/09/19/role-instance-restarts-due-to-os-upgrades.aspx)</span></span>

## <a name="problem-i-cannot-do-a-vip-swap-and-receive-an-error"></a><span data-ttu-id="f6f95-128">Problema: não consigo fazer uma permuta de VIP. Recebi uma mensagem de erro</span><span class="sxs-lookup"><span data-stu-id="f6f95-128">Problem: I cannot do a VIP swap and receive an error</span></span>
<span data-ttu-id="f6f95-129">Uma permuta de VIP não é permitida se uma atualização de implantação estiver em andamento.</span><span class="sxs-lookup"><span data-stu-id="f6f95-129">A VIP swap is not allowed if a deployment update is in progress.</span></span> <span data-ttu-id="f6f95-130">As atualizações de implantação podem ocorrer automaticamente quando:</span><span class="sxs-lookup"><span data-stu-id="f6f95-130">Deployment updates can occur automatically when:</span></span>

* <span data-ttu-id="f6f95-131">Um novo sistema operacional convidado está disponível e você está configurado para receber atualizações automáticas.</span><span class="sxs-lookup"><span data-stu-id="f6f95-131">A new guest operating system is available and you are configured for automatic updates.</span></span>
* <span data-ttu-id="f6f95-132">A recuperação de serviço ocorre.</span><span class="sxs-lookup"><span data-stu-id="f6f95-132">Service healing occurs.</span></span>

<span data-ttu-id="f6f95-133">Para descobrir se uma atualização automática está impedindo que você faça uma permuta de VIP:</span><span class="sxs-lookup"><span data-stu-id="f6f95-133">To find out if an automatic update is preventing you from doing a VIP swap:</span></span>

1. <span data-ttu-id="f6f95-134">No portal do Azure, clique na implantação do serviço de nuvem.</span><span class="sxs-lookup"><span data-stu-id="f6f95-134">In the Azure portal, click the deployment of your cloud service.</span></span>
2. <span data-ttu-id="f6f95-135">No painel **Propriedades** do Portal do Azure, observe o valor de **Status**.</span><span class="sxs-lookup"><span data-stu-id="f6f95-135">In the **Properties** pane of the Azure portal, look at the value of **Status**.</span></span> <span data-ttu-id="f6f95-136">Se ele estiver **Pronto**, verifique a **Última operação** para ver se ocorreu uma operação recentemente que possa impedir a permuta de VIP.</span><span class="sxs-lookup"><span data-stu-id="f6f95-136">If it is **Ready**, then check **Last operation** to see if one recently happened that might prevent the VIP swap.</span></span>
3. <span data-ttu-id="f6f95-137">Repita as etapas 1 e 2 para a implantação de produção.</span><span class="sxs-lookup"><span data-stu-id="f6f95-137">Repeat steps 1 and 2 for the production deployment.</span></span>
4. <span data-ttu-id="f6f95-138">Se uma atualização automática estiver em andamento, aguarde sua conclusão antes de tentar fazer a permuta de VIP.</span><span class="sxs-lookup"><span data-stu-id="f6f95-138">If an automatic update is in process, wait for it to finish before trying to do the VIP swap.</span></span>

## <a name="problem-a-role-instance-is-looping-between-started-initializing-busy-and-stopped"></a><span data-ttu-id="f6f95-139">Problema: uma instância de função está alternando entre os estados Iniciado, Inicializando, Ocupado e Parado</span><span class="sxs-lookup"><span data-stu-id="f6f95-139">Problem: A role instance is looping between Started, Initializing, Busy, and Stopped</span></span>
<span data-ttu-id="f6f95-140">Essa condição pode indicar um problema com o código, pacote ou arquivo de configuração do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f6f95-140">This condition could indicate a problem with your application code, package, or configuration file.</span></span> <span data-ttu-id="f6f95-141">Nesse caso, você deverá ver o status sendo alterado em intervalos de alguns minutos e o Portal do Azure poderá indicar algo como **Reciclando**, **Ocupado** ou **Inicializando**.</span><span class="sxs-lookup"><span data-stu-id="f6f95-141">In that case, you should be able to see the status changing every few minutes and the Azure portal may say something like **Recycling**, **Busy**, or **Initializing**.</span></span> <span data-ttu-id="f6f95-142">Isso indica que há algo errado com o aplicativo que está impedindo a execução da instância de função.</span><span class="sxs-lookup"><span data-stu-id="f6f95-142">This indicates that there is something wrong with the application that is keeping the role instance from running.</span></span>

<span data-ttu-id="f6f95-143">Para saber mais sobre como solucionar o problema, confira a postagem de blog [Dados de Diagnóstico de Computação do Azure PaaS](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx) e [Problemas comuns que fazem as funções serem recicladas](cloud-services-troubleshoot-common-issues-which-cause-roles-recycle.md).</span><span class="sxs-lookup"><span data-stu-id="f6f95-143">For more information on how to troubleshoot for this problem, see the blog post [Azure PaaS Compute Diagnostics Data](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx) and [Common issues that cause roles to recycle](cloud-services-troubleshoot-common-issues-which-cause-roles-recycle.md).</span></span>

## <a name="problem-my-application-stopped-working"></a><span data-ttu-id="f6f95-144">Problema: meu aplicativo parou de funcionar</span><span class="sxs-lookup"><span data-stu-id="f6f95-144">Problem: My application stopped working</span></span>
1. <span data-ttu-id="f6f95-145">No portal do Azure, clique na instância de função.</span><span class="sxs-lookup"><span data-stu-id="f6f95-145">In the Azure portal, click the role instance.</span></span>
2. <span data-ttu-id="f6f95-146">No painel **Propriedades** do Portal do Azure, considere as seguintes condições para resolver o problema:</span><span class="sxs-lookup"><span data-stu-id="f6f95-146">In the **Properties** pane of the Azure portal, consider the following conditions to resolve your problem:</span></span>
   * <span data-ttu-id="f6f95-147">Se a instância de função tiver sido interrompida recentemente (é possível verificar o valor de **Anular contagem**), a implantação pode estar sendo atualizada.</span><span class="sxs-lookup"><span data-stu-id="f6f95-147">If the role instance has recently stopped (you can check the value of **Abort count**), the deployment could be updating.</span></span> <span data-ttu-id="f6f95-148">Aguarde para ver se a instância de função retoma o funcionamento por conta própria.</span><span class="sxs-lookup"><span data-stu-id="f6f95-148">Wait to see if the role instance resumes functioning on its own.</span></span>
   * <span data-ttu-id="f6f95-149">Se a instância de função estiver **Ocupada**, verifique o código do aplicativo para ver se o evento [StatusCheck](https://msdn.microsoft.com/library/microsoft.windowsazure.serviceruntime.roleenvironment.statuscheck) foi manipulado.</span><span class="sxs-lookup"><span data-stu-id="f6f95-149">If the role instance is **Busy**, check your application code to see if the [StatusCheck](https://msdn.microsoft.com/library/microsoft.windowsazure.serviceruntime.roleenvironment.statuscheck) event is handled.</span></span> <span data-ttu-id="f6f95-150">Talvez seja necessário adicionar ou corrigir algum código que manipula esse evento.</span><span class="sxs-lookup"><span data-stu-id="f6f95-150">You might need to add or fix some code that handles this event.</span></span>
   * <span data-ttu-id="f6f95-151">Examine os dados de diagnóstico e os cenários de solução de problemas na postagem no blog [Dados de diagnóstico de computação de PaaS do Azure](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx).</span><span class="sxs-lookup"><span data-stu-id="f6f95-151">Go through the diagnostic data and troubleshooting scenarios in the blog post [Azure PaaS Compute Diagnostics Data](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx).</span></span>

> [!WARNING]
> <span data-ttu-id="f6f95-152">Se você reciclar o serviço de nuvem, redefina as propriedades da implantação apagando de maneira efetiva as informações do problema original.</span><span class="sxs-lookup"><span data-stu-id="f6f95-152">If you recycle your cloud service, you reset the properties for the deployment, effectively erasing the information for the original problem.</span></span>
>
>

## <a name="next-steps"></a><span data-ttu-id="f6f95-153">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="f6f95-153">Next steps</span></span>
<span data-ttu-id="f6f95-154">Confira mais [artigos sobre solução de problemas](https://azure.microsoft.com/documentation/articles/?tag=top-support-issue&product=cloud-services) para serviços de nuvem.</span><span class="sxs-lookup"><span data-stu-id="f6f95-154">View more [troubleshooting articles](https://azure.microsoft.com/documentation/articles/?tag=top-support-issue&product=cloud-services) for cloud services.</span></span>

<span data-ttu-id="f6f95-155">Para saber como solucionar problemas das funções do serviço de nuvem usando os dados de diagnóstico do computador Azure PaaS, confira a [série de blogs de Kevin Williamson](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx).</span><span class="sxs-lookup"><span data-stu-id="f6f95-155">To learn how to troubleshoot cloud service role issues by using Azure PaaS computer diagnostics data, see [Kevin Williamson's blog series](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx).</span></span>
