---
title: "aaaStage uma implantação de serviço de nuvem (Node. js) | Microsoft Docs"
description: "Saiba como toodeploy tooa seu aplicativo do Azure que ambiente de preparo, em seguida, implantar o ambiente de produção tooa usando a troca de IP Virtual (VIP)."
services: cloud-services
documentationcenter: nodejs
author: TomArcher
manager: routlaw
editor: 
ms.assetid: d65d26a6-b424-49cd-a88c-7ef46bb112a8
ms.service: cloud-services
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: nodejs
ms.topic: article
ms.date: 08/17/2017
ms.author: tarcher
ms.openlocfilehash: 0656c84ac444a10f152f441265f85141347bf1fb
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="staging-an-application-in-azure"></a><span data-ttu-id="b3a30-103">Preparando um aplicativo no Azure</span><span class="sxs-lookup"><span data-stu-id="b3a30-103">Staging an Application in Azure</span></span>
<span data-ttu-id="b3a30-104">Um aplicativo empacotado pode ser implantado toohello preparo ambiente no Azure toobe testado antes de movê-lo toohello produção ambiente no qual Olá aplicativo está acessível na saudação da Internet.</span><span class="sxs-lookup"><span data-stu-id="b3a30-104">A packaged application can be deployed toohello staging environment in Azure toobe tested before you move it toohello production environment in which hello application is accessible on hello Internet.</span></span> <span data-ttu-id="b3a30-105">O ambiente de preparo é exatamente como o ambiente de produção de hello, exceto que você pode apenas Olá acesso preparado o aplicativo com uma URL ofuscado que é gerado pelo Azure.</span><span class="sxs-lookup"><span data-stu-id="b3a30-105">The staging environment is exactly like hello production environment, except that you can only access hello staged application with an obfuscated URL that is generated by Azure.</span></span> <span data-ttu-id="b3a30-106">Após ter verificado que seu aplicativo está funcionando corretamente, pode ser implantado toohello ambiente de produção, executando uma permuta de VIP (IP Virtual).</span><span class="sxs-lookup"><span data-stu-id="b3a30-106">After you have verified that your application is working correctly, it can be deployed toohello production environment by performing a Virtual IP (VIP) swap.</span></span>

> [!NOTE]
> <span data-ttu-id="b3a30-107">Olá etapas neste artigo se aplicam somente aplicativos toonode hospedados como um serviço de nuvem do Azure.</span><span class="sxs-lookup"><span data-stu-id="b3a30-107">hello steps in this article only apply toonode applications hosted as an Azure Cloud Service.</span></span>
> 
> 

## <a name="step-1-stage-an-application"></a><span data-ttu-id="b3a30-108">Etapa 1: Preparar um aplicativo</span><span class="sxs-lookup"><span data-stu-id="b3a30-108">Step 1: Stage an Application</span></span>
<span data-ttu-id="b3a30-109">Essa tarefa aborda como um aplicativo por meio de toostage Olá **Microsoft Azure PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="b3a30-109">This task covers how toostage an application by using hello **Microsoft Azure PowerShell**.</span></span>

1. <span data-ttu-id="b3a30-110">Ao publicar um serviço, basta passar Olá **-Slot** parâmetro à saudação **AzureServiceProject publicar** cmdlet.</span><span class="sxs-lookup"><span data-stu-id="b3a30-110">When publishing a service, simply pass hello **-Slot** parameter to hello **Publish-AzureServiceProject** cmdlet.</span></span>
   
   ```powershell
   Publish-AzureServiceProject -Slot staging
   ```
2. <span data-ttu-id="b3a30-111">Faça logon no toohello [portal clássico do Azure] e selecione **serviços de nuvem**.</span><span class="sxs-lookup"><span data-stu-id="b3a30-111">Log on toohello [Azure classic portal] and select **Cloud Services**.</span></span> <span data-ttu-id="b3a30-112">Após o serviço de nuvem Olá é criado e Olá **preparo** status de coluna tiver sido atualizado muito**executando**, clique no nome do serviço de saudação.</span><span class="sxs-lookup"><span data-stu-id="b3a30-112">After hello cloud service is created and hello **Staging** column status has been updated too**Running**, click on hello service name.</span></span>
   
   ![portal exibindo um serviço em execução][cloud-service]
3. <span data-ttu-id="b3a30-114">Selecione Olá **painel**e, em seguida, selecione **preparo**.</span><span class="sxs-lookup"><span data-stu-id="b3a30-114">Select hello **Dashboard**, and then select **Staging**.</span></span>
   
   ![painel de serviço de nuvem][cloud-service-dashboard]
4. <span data-ttu-id="b3a30-116">Observe o valor Olá Olá **URL do Site** direita de toohello de entrada.</span><span class="sxs-lookup"><span data-stu-id="b3a30-116">Note hello value in hello **Site URL** entry toohello right.</span></span> <span data-ttu-id="b3a30-117">nome DNS de saudação é um identificador interno ofuscado Azure gerado.</span><span class="sxs-lookup"><span data-stu-id="b3a30-117">hello DNS name is an obfuscated internal ID that Azure generated.</span></span>
   
    ![URL do Site][cloud-service-staging-url]

<span data-ttu-id="b3a30-119">Agora você pode verificar se o aplicativo hello está funcionando corretamente no ambiente de preparo usando a URL do site de preparo de saudação do hello.</span><span class="sxs-lookup"><span data-stu-id="b3a30-119">Now you can verify that hello application is working correctly in hello staging environment by using hello staging site URL.</span></span>

## <a name="step-2-upgrade-an-application-in-production-by-swapping-vips"></a><span data-ttu-id="b3a30-120">Etapa 2: Atualizar um aplicativo em produção permutando VIPs</span><span class="sxs-lookup"><span data-stu-id="b3a30-120">Step 2: Upgrade an Application in Production by Swapping VIPs</span></span>
<span data-ttu-id="b3a30-121">Após ter verificado Olá a versão atualizada de um aplicativo no ambiente de preparo, você pode torná-lo disponível em produção, trocando Olá IPs virtuais (VIPs) de ambientes de preparo e produção de hello.</span><span class="sxs-lookup"><span data-stu-id="b3a30-121">After you have verified hello upgraded version of an application in the staging environment, you can quickly make it available in production by swapping hello virtual IPs (VIPs) of hello staging and production environments.</span></span>

> [!NOTE]
> <span data-ttu-id="b3a30-122">Esta etapa pressupõe que você já ter implantado um aplicativo tooproduction e preparado Olá a versão atualizada do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="b3a30-122">This step assumes that you have already deployed an application tooproduction and staged hello upgraded version of the application.</span></span>
> 
> 

1. <span data-ttu-id="b3a30-123">Faça logon no hello [portal clássico do Azure], clique em **serviços de nuvem** e, em seguida, selecione o nome do serviço de saudação.</span><span class="sxs-lookup"><span data-stu-id="b3a30-123">Log into hello [Azure classic portal], click **Cloud Services** and then select hello service name.</span></span>
2. <span data-ttu-id="b3a30-124">De saudação **painel**, selecione **preparo**e, em seguida, clique em **trocar** final Olá Olá página.</span><span class="sxs-lookup"><span data-stu-id="b3a30-124">From hello **Dashboard**, select **Staging**, and then click **Swap** at hello bottom of hello page.</span></span> <span data-ttu-id="b3a30-125">Olá permuta de VIP de caixa de diálogo é aberta.</span><span class="sxs-lookup"><span data-stu-id="b3a30-125">This opens hello VIP Swap dialog.</span></span>
   
   ![caixa de diálogo permuta de vip][vip-swap-dialog]
3. <span data-ttu-id="b3a30-127">Revise as informações de saudação e, em seguida, clique em **Okey**.</span><span class="sxs-lookup"><span data-stu-id="b3a30-127">Review hello information, and then click **OK**.</span></span> <span data-ttu-id="b3a30-128">duas implantações do Hello começam a atualização como Olá implantação comutadores tooproduction e hello produção implantação comutadores toostaging de preparo.</span><span class="sxs-lookup"><span data-stu-id="b3a30-128">hello two deployments begin updating as hello staging deployment switches tooproduction and hello production deployment switches toostaging.</span></span>

<span data-ttu-id="b3a30-129">Ter uma implantação de teste e atualizado de uma implantação de produção por permuta de VIPs com a implantação de saudação em preparação com êxito.</span><span class="sxs-lookup"><span data-stu-id="b3a30-129">You have successfully staged a deployment and upgraded a production deployment by swapping VIPs with hello deployment in staging.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="b3a30-130">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="b3a30-130">Additional Resources</span></span>
* <span data-ttu-id="b3a30-131">[Como tooDeploy uma tooProduction de atualização de serviço por VIPs de permuta no Azure]</span><span class="sxs-lookup"><span data-stu-id="b3a30-131">[How tooDeploy a Service Upgrade tooProduction by Swapping VIPs in Azure]</span></span>

[Portal clássico do Azure]: http://manage.windowsazure.com
[cloud-service]: ./media/cloud-services-nodejs-stage-application/staging-cloud-service-running.png
[cloud-service-dashboard]: ./media/cloud-services-nodejs-stage-application/cloud-service-dashboard-staging.png
[cloud-service-staging-url]: ./media/cloud-services-nodejs-stage-application/cloud-service-staging-url.png
[vip-swap-dialog]: ./media/cloud-services-nodejs-stage-application/vip-swap-dialog.png
[Como tooDeploy uma tooProduction de atualização de serviço por VIPs de permuta no Azure]: cloud-services-how-to-manage.md#how-to-swap-deployments-to-promote-a-staged-deployment-to-production
