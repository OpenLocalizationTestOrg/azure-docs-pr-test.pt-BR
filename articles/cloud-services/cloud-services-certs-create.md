---
title: "certificados de serviços e o gerenciamento de aaaCloud | Microsoft Docs"
description: Saiba como toocreate e usar certificados com o Microsoft Azure
services: cloud-services
documentationcenter: .net
author: Thraka
manager: timlt
editor: 
ms.assetid: fc70d00d-899b-4771-855f-44574dc4bfc6
ms.service: cloud-services
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 04/19/2017
ms.author: adegeo
ms.openlocfilehash: 69cb5467ece58a91dae06b4120954aeb2826bde1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="certificates-overview-for-azure-cloud-services"></a><span data-ttu-id="92eff-103">Visão geral sobre certificados para os Serviços de Nuvem do Azure</span><span class="sxs-lookup"><span data-stu-id="92eff-103">Certificates overview for Azure Cloud Services</span></span>
<span data-ttu-id="92eff-104">Certificados são usados no Azure para serviços de nuvem ([certificados de serviço](#what-are-service-certificates)) e para autenticar com a API de gerenciamento da saudação ([certificados de gerenciamento](#what-are-management-certificates) quando usando Olá portal clássico do Azure e não Olá não clássico portal do Azure).</span><span class="sxs-lookup"><span data-stu-id="92eff-104">Certificates are used in Azure for cloud services ([service certificates](#what-are-service-certificates)) and for authenticating with hello management API ([management certificates](#what-are-management-certificates) when using hello Azure classic portal and not hello non-classic Azure portal).</span></span> <span data-ttu-id="92eff-105">Este tópico fornece uma visão geral de ambos os tipos de certificado, como muito[criar](#create) e [implantar](#deploy) -los tooAzure.</span><span class="sxs-lookup"><span data-stu-id="92eff-105">This topic gives a general overview of both certificate types, how too[create](#create) and [deploy](#deploy) them tooAzure.</span></span>

<span data-ttu-id="92eff-106">Os certificados usados no Azure são certificados x.509 v3, que podem ser assinados por outro certificado confiável ou ser autoassinados.</span><span class="sxs-lookup"><span data-stu-id="92eff-106">Certificates used in Azure are x.509 v3 certificates and can be signed by another trusted certificate or they can be self-signed.</span></span> <span data-ttu-id="92eff-107">Um certificado autoassinado é assinado por seu próprio criador, portanto não é considerado confiável por padrão.</span><span class="sxs-lookup"><span data-stu-id="92eff-107">A self-signed certificate is signed by its own creator, therefore it is not trusted by default.</span></span> <span data-ttu-id="92eff-108">A maioria dos navegadores pode ignorar esse problema.</span><span class="sxs-lookup"><span data-stu-id="92eff-108">Most browsers can ignore this problem.</span></span> <span data-ttu-id="92eff-109">Você só deve usar certificados autoassinados ao desenvolver e testar seus serviços de nuvem.</span><span class="sxs-lookup"><span data-stu-id="92eff-109">You should only use self-signed certificates when developing and testing your cloud services.</span></span> 

<span data-ttu-id="92eff-110">Os certificados usados pelo Azure podem conter uma chave particular ou pública.</span><span class="sxs-lookup"><span data-stu-id="92eff-110">Certificates used by Azure can contain a private or a public key.</span></span> <span data-ttu-id="92eff-111">Certificados têm uma impressão digital que fornece um meio tooidentify-los de forma inequívoca.</span><span class="sxs-lookup"><span data-stu-id="92eff-111">Certificates have a thumbprint that provides a means tooidentify them in an unambiguous way.</span></span> <span data-ttu-id="92eff-112">Essa impressão digital é usada em hello Azure [arquivo de configuração](cloud-services-configure-ssl-certificate.md) tooidentify que um serviço de nuvem do certificado deve usar.</span><span class="sxs-lookup"><span data-stu-id="92eff-112">This thumbprint is used in hello Azure [configuration file](cloud-services-configure-ssl-certificate.md) tooidentify which certificate a cloud service should use.</span></span> 

## <a name="what-are-service-certificates"></a><span data-ttu-id="92eff-113">O que são certificados de serviço?</span><span class="sxs-lookup"><span data-stu-id="92eff-113">What are service certificates?</span></span>
<span data-ttu-id="92eff-114">Certificados de serviço são serviços toocloud anexado e habilitar a comunicação segura tooand do serviço de saudação.</span><span class="sxs-lookup"><span data-stu-id="92eff-114">Service certificates are attached toocloud services and enable secure communication tooand from hello service.</span></span> <span data-ttu-id="92eff-115">Por exemplo, se você implantou uma função web, você desejaria toosupply um certificado que pode autenticar um ponto de extremidade HTTPS exposto.</span><span class="sxs-lookup"><span data-stu-id="92eff-115">For example, if you deployed a web role, you would want toosupply a certificate that can authenticate an exposed HTTPS endpoint.</span></span> <span data-ttu-id="92eff-116">Certificados de serviço, definidos em sua definição de serviço, são automaticamente implantado toohello máquina de virtual que está executando uma instância de sua função.</span><span class="sxs-lookup"><span data-stu-id="92eff-116">Service certificates, defined in your service definition, are automatically deployed toohello virtual machine that is running an instance of your role.</span></span> 

<span data-ttu-id="92eff-117">Você pode carregar clássico de tooAzure de certificados de serviço hello usando portal clássico do Azure portal ou usando o modelo de implantação clássico hello.</span><span class="sxs-lookup"><span data-stu-id="92eff-117">You can upload service certificates tooAzure classic portal either using hello Azure classic portal or by using hello classic deployment model.</span></span> <span data-ttu-id="92eff-118">Os certificados de serviço são associados um serviço de nuvem específico.</span><span class="sxs-lookup"><span data-stu-id="92eff-118">Service certificates are associated with a specific cloud service.</span></span> <span data-ttu-id="92eff-119">Implantação de tooa no arquivo de definição de serviço Olá são atribuídos.</span><span class="sxs-lookup"><span data-stu-id="92eff-119">They are assigned tooa deployment in hello service definition file.</span></span>

<span data-ttu-id="92eff-120">Certificados de serviço podem ser gerenciados separadamente de seus serviços e podem ser gerenciados por indivíduos diferentes.</span><span class="sxs-lookup"><span data-stu-id="92eff-120">Service certificates can be managed separately from your services, and may be managed by different individuals.</span></span> <span data-ttu-id="92eff-121">Por exemplo, um desenvolvedor pode carregar um pacote de serviço que se refere a tooa certificado que um gerente de TI tem tooAzure carregados anteriormente.</span><span class="sxs-lookup"><span data-stu-id="92eff-121">For example, a developer may upload a service package that refers tooa certificate that an IT manager has previously uploaded tooAzure.</span></span> <span data-ttu-id="92eff-122">Um gerente de TI pode gerenciar e renovar o certificado (alterando a configuração de saudação do serviço de saudação) sem a necessidade de tooupload um novo pacote de serviço.</span><span class="sxs-lookup"><span data-stu-id="92eff-122">An IT manager can manage and renew that certificate (changing hello configuration of hello service) without needing tooupload a new service package.</span></span> <span data-ttu-id="92eff-123">Atualizando sem um novo pacote de serviço é possível porque nome lógico de saudação e nome do repositório local do certificado de saudação está no arquivo de definição de serviço hello e enquanto a impressão digital do certificado Olá é especificado no arquivo de configuração de serviço hello.</span><span class="sxs-lookup"><span data-stu-id="92eff-123">Updating without a new service package is possible because hello logical name, store name, and location of hello certificate is in hello service definition file and while hello certificate thumbprint is specified in hello service configuration file.</span></span> <span data-ttu-id="92eff-124">certificado de saudação tooupdate, é somente necessário tooupload um novo certificado e a impressão digital de saudação de alteração de valor no arquivo de configuração do serviço de saudação.</span><span class="sxs-lookup"><span data-stu-id="92eff-124">tooupdate hello certificate, it's only necessary tooupload a new certificate and change hello thumbprint value in hello service configuration file.</span></span>

>[!Note]
><span data-ttu-id="92eff-125">Olá [perguntas frequentes sobre serviços de nuvem](cloud-services-faq.md) artigo tem algumas informações úteis sobre certificados.</span><span class="sxs-lookup"><span data-stu-id="92eff-125">hello [Cloud Services FAQ](cloud-services-faq.md) article has some helpful information about certificates.</span></span>

## <a name="what-are-management-certificates"></a><span data-ttu-id="92eff-126">O que são certificados de gerenciamento?</span><span class="sxs-lookup"><span data-stu-id="92eff-126">What are management certificates?</span></span>
<span data-ttu-id="92eff-127">Certificados de gerenciamento permitem que você tooauthenticate com o modelo de implantação clássico hello.</span><span class="sxs-lookup"><span data-stu-id="92eff-127">Management certificates allow you tooauthenticate with hello classic deployment model.</span></span> <span data-ttu-id="92eff-128">Muitos programas e ferramentas (como o Visual Studio ou saudação do SDK do Azure) usam esses configuração tooautomate de certificados e a implantação de vários serviços do Azure.</span><span class="sxs-lookup"><span data-stu-id="92eff-128">Many programs and tools (such as Visual Studio or hello Azure SDK) use these certificates tooautomate configuration and deployment of various Azure services.</span></span> <span data-ttu-id="92eff-129">Eles não são realmente relacionados toocloud serviços.</span><span class="sxs-lookup"><span data-stu-id="92eff-129">These are not really related toocloud services.</span></span> 

> [!WARNING]
> <span data-ttu-id="92eff-130">Portanto, tenha cuidado!</span><span class="sxs-lookup"><span data-stu-id="92eff-130">Be careful!</span></span> <span data-ttu-id="92eff-131">Esses tipos de certificados que qualquer pessoa que se autentica com eles toomanage assinatura de saudação que estão associados.</span><span class="sxs-lookup"><span data-stu-id="92eff-131">These types of certificates allow anyone who authenticates with them toomanage hello subscription they are associated with.</span></span> 
> 
> 

### <a name="limitations"></a><span data-ttu-id="92eff-132">Limitações</span><span class="sxs-lookup"><span data-stu-id="92eff-132">Limitations</span></span>
<span data-ttu-id="92eff-133">Há um limite de 100 certificados de gerenciamento por assinatura.</span><span class="sxs-lookup"><span data-stu-id="92eff-133">There is a limit of 100 management certificates per subscription.</span></span> <span data-ttu-id="92eff-134">Também há um limite de 100 certificados de gerenciamento para todas as assinaturas com a ID de usuário de um administrador de serviços específico.</span><span class="sxs-lookup"><span data-stu-id="92eff-134">There is also a limit of 100 management certificates for all subscriptions under a specific service administrator’s user ID.</span></span> <span data-ttu-id="92eff-135">Se Olá ID de usuário de administrador da conta Olá já foi usado tooadd 100 certificados de gerenciamento e não há necessidade de mais certificados, você pode adicionar um coadministrador tooadd Olá certificados.</span><span class="sxs-lookup"><span data-stu-id="92eff-135">If hello user ID for hello account administrator has already been used tooadd 100 management certificates and there is a need for more certificates, you can add a co-administrator tooadd hello additional certificates.</span></span> 

<span data-ttu-id="92eff-136">Antes de adicionar mais de 100 certificados, veja se é possível reutilizar um certificado existente.</span><span class="sxs-lookup"><span data-stu-id="92eff-136">Before adding more than 100 certificates, see if you can reuse an existing certificate.</span></span> <span data-ttu-id="92eff-137">Uso de coadministradores adiciona complexidade desnecessária potencialmente tooyour certificado gerenciamento processo.</span><span class="sxs-lookup"><span data-stu-id="92eff-137">Using co-administrators adds potentially unneeded complexity tooyour certificate management process.</span></span>

<a name="create"></a>
## <a name="create-a-new-self-signed-certificate"></a><span data-ttu-id="92eff-138">Criar um Novo certificado autoassinado</span><span class="sxs-lookup"><span data-stu-id="92eff-138">Create a new self-signed certificate</span></span>
<span data-ttu-id="92eff-139">Você pode usar qualquer toocreate disponíveis da ferramenta um certificado autoassinado como aderem configurações toothese:</span><span class="sxs-lookup"><span data-stu-id="92eff-139">You can use any tool available toocreate a self-signed certificate as long as they adhere toothese settings:</span></span>

* <span data-ttu-id="92eff-140">Um certificado X.509.</span><span class="sxs-lookup"><span data-stu-id="92eff-140">An X.509 certificate.</span></span>
* <span data-ttu-id="92eff-141">Contém uma chave privada.</span><span class="sxs-lookup"><span data-stu-id="92eff-141">Contains a private key.</span></span>
* <span data-ttu-id="92eff-142">Criado para troca de chaves (arquivo. pfx).</span><span class="sxs-lookup"><span data-stu-id="92eff-142">Created for key exchange (.pfx file).</span></span>
* <span data-ttu-id="92eff-143">Nome da entidade deve corresponder o serviço de nuvem do hello domínio usado tooaccess hello.</span><span class="sxs-lookup"><span data-stu-id="92eff-143">Subject name must match hello domain used tooaccess hello cloud service.</span></span>

    > <span data-ttu-id="92eff-144">Não é possível adquirir um certificado SSL para cloudapp.net hello (ou para qualquer relacionadas ao Azure) domínio; nome da entidade do certificado Olá deve corresponder a saudação domínio personalizado nome usado tooaccess seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="92eff-144">You cannot acquire an SSL certificate for hello cloudapp.net (or for any Azure-related) domain; hello certificate's subject name must match hello custom domain name used tooaccess your application.</span></span> <span data-ttu-id="92eff-145">Por exemplo, **contoso.net** e não **contoso.cloudapp.net**.</span><span class="sxs-lookup"><span data-stu-id="92eff-145">For example, **contoso.net**, not **contoso.cloudapp.net**.</span></span>

* <span data-ttu-id="92eff-146">Mínimo de criptografia de 2048 bits.</span><span class="sxs-lookup"><span data-stu-id="92eff-146">Minimum of 2048-bit encryption.</span></span>
* <span data-ttu-id="92eff-147">**Serviço de certificado somente**: certificado do cliente deve residir no hello *pessoal* repositório de certificados.</span><span class="sxs-lookup"><span data-stu-id="92eff-147">**Service Certificate Only**: Client-side certificate must reside in hello *Personal* certificate store.</span></span>

<span data-ttu-id="92eff-148">Há dois toocreate de maneiras fáceis um certificado no Windows, com hello `makecert.exe` utilitário ou IIS.</span><span class="sxs-lookup"><span data-stu-id="92eff-148">There are two easy ways toocreate a certificate on Windows, with hello `makecert.exe` utility, or IIS.</span></span>

### <a name="makecertexe"></a><span data-ttu-id="92eff-149">Makecert.exe</span><span class="sxs-lookup"><span data-stu-id="92eff-149">Makecert.exe</span></span>
<span data-ttu-id="92eff-150">Esse utilitário foi preterido e não está documentado aqui.</span><span class="sxs-lookup"><span data-stu-id="92eff-150">This utility has been deprecated and is no longer documented here.</span></span> <span data-ttu-id="92eff-151">Para obter mais informações, consulte [este artigo do MSDN](https://msdn.microsoft.com/library/windows/desktop/aa386968).</span><span class="sxs-lookup"><span data-stu-id="92eff-151">For more information, see [this MSDN article](https://msdn.microsoft.com/library/windows/desktop/aa386968).</span></span>

### <a name="powershell"></a><span data-ttu-id="92eff-152">PowerShell</span><span class="sxs-lookup"><span data-stu-id="92eff-152">PowerShell</span></span>
```powershell
$cert = New-SelfSignedCertificate -DnsName yourdomain.cloudapp.net -CertStoreLocation "cert:\LocalMachine\My"
$password = ConvertTo-SecureString -String "your-password" -Force -AsPlainText
Export-PfxCertificate -Cert $cert -FilePath ".\my-cert-file.pfx" -Password $password
```

> [!NOTE]
> <span data-ttu-id="92eff-153">Se desejar que o certificado de saudação toouse com um endereço IP em vez de um domínio, use o endereço IP de saudação no parâmetro de - DnsName hello.</span><span class="sxs-lookup"><span data-stu-id="92eff-153">If you want toouse hello certificate with an IP address instead of a domain, use hello IP address in hello -DnsName parameter.</span></span>


<span data-ttu-id="92eff-154">Se você deseja toouse [certificado com o portal de gerenciamento Olá](../azure-api-management-certs.md), exportá-lo tooa **. cer** arquivo:</span><span class="sxs-lookup"><span data-stu-id="92eff-154">If you want toouse this [certificate with hello management portal](../azure-api-management-certs.md), export it tooa **.cer** file:</span></span>

```powershell
Export-Certificate -Type CERT -Cert $cert -FilePath .\my-cert-file.cer
```

### <a name="internet-information-services-iis"></a><span data-ttu-id="92eff-155">IIS (Serviços de Informações da Internet)</span><span class="sxs-lookup"><span data-stu-id="92eff-155">Internet Information Services (IIS)</span></span>
<span data-ttu-id="92eff-156">Existem muitas páginas Olá internet que abrangem como toodo isso com o IIS.</span><span class="sxs-lookup"><span data-stu-id="92eff-156">There are many pages on hello internet that cover how toodo this with IIS.</span></span> <span data-ttu-id="92eff-157">[Este](https://www.sslshopper.com/article-how-to-create-a-self-signed-certificate-in-iis-7.html) é um ótimo site que descobri e que acho que explica bem.</span><span class="sxs-lookup"><span data-stu-id="92eff-157">[Here](https://www.sslshopper.com/article-how-to-create-a-self-signed-certificate-in-iis-7.html) is a great one I found that I think explains it well.</span></span> 

### <a name="java"></a><span data-ttu-id="92eff-158">Java</span><span class="sxs-lookup"><span data-stu-id="92eff-158">Java</span></span>
<span data-ttu-id="92eff-159">Você pode usar o Java muito[criar um certificado](../app-service-web/java-create-azure-website-using-java-sdk.md#create-a-certificate).</span><span class="sxs-lookup"><span data-stu-id="92eff-159">You can use Java too[create a certificate](../app-service-web/java-create-azure-website-using-java-sdk.md#create-a-certificate).</span></span>

### <a name="linux"></a><span data-ttu-id="92eff-160">Linux</span><span class="sxs-lookup"><span data-stu-id="92eff-160">Linux</span></span>
<span data-ttu-id="92eff-161">[Isso](../virtual-machines/linux/mac-create-ssh-keys.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) artigo descreve como toocreate certificados com o SSH.</span><span class="sxs-lookup"><span data-stu-id="92eff-161">[This](../virtual-machines/linux/mac-create-ssh-keys.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) article describes how toocreate certificates with SSH.</span></span>

## <a name="next-steps"></a><span data-ttu-id="92eff-162">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="92eff-162">Next steps</span></span>
<span data-ttu-id="92eff-163">[Carregue seu certificado de serviço toohello portal clássico do Azure](cloud-services-configure-ssl-certificate.md) (ou hello [portal do Azure](cloud-services-configure-ssl-certificate-portal.md)).</span><span class="sxs-lookup"><span data-stu-id="92eff-163">[Upload your service certificate toohello Azure classic portal](cloud-services-configure-ssl-certificate.md) (or hello [Azure portal](cloud-services-configure-ssl-certificate-portal.md)).</span></span>

<span data-ttu-id="92eff-164">Carregar um [certificado de gerenciamento de API](../azure-api-management-certs.md) toohello portal clássico do Azure.</span><span class="sxs-lookup"><span data-stu-id="92eff-164">Upload a [management API certificate](../azure-api-management-certs.md) toohello Azure classic portal.</span></span> <span data-ttu-id="92eff-165">Olá portal do Azure não usa certificados de gerenciamento para autenticação.</span><span class="sxs-lookup"><span data-stu-id="92eff-165">hello Azure portal does not use management certificates for authentication.</span></span>

