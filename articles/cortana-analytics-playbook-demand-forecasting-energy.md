---
title: "Manual do Modelo de Solução do Cortana Intelligence para a previsão de demanda de energia | Microsoft Docs"
description: "Um Modelo de Solução com o Microsoft Cortana Intelligence que ajuda a prever a demanda para uma concessionária de energia elétrica."
services: cortana-analytics
documentationcenter: 
author: ilanr9
manager: ilanr9
editor: yijichen
ms.assetid: 8855dbb9-8543-45b9-b4c6-aa743a04d547
ms.service: cortana-analytics
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/24/2016
ms.author: ilanr9;yijichen;garye
ms.openlocfilehash: 275e387878900154660d044b26ff5ac03a17a65a
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/03/2017
---
# <a name="cortana-intelligence-solution-template-playbook-for-demand-forecasting-of-energy"></a><span data-ttu-id="29b45-103">Manual do Modelo de Solução do Cortana Intelligence para a previsão de demanda de energia</span><span class="sxs-lookup"><span data-stu-id="29b45-103">Cortana Intelligence Solution Template Playbook for Demand Forecasting of Energy</span></span>
## <a name="executive-summary"></a><span data-ttu-id="29b45-104">Resumo executivo</span><span class="sxs-lookup"><span data-stu-id="29b45-104">Executive Summary</span></span>
<span data-ttu-id="29b45-105">Nos últimos anos, a Internet das Coisas (IoT), fontes de energia alternativas e Big Data foram mesclados para criar grandes oportunidades no domínio de serviços e de energia.</span><span class="sxs-lookup"><span data-stu-id="29b45-105">In the past few years, Internet of Things (IoT), alternative energy sources, and big data have merged to create vast opportunities in the utility and energy domain.</span></span> <span data-ttu-id="29b45-106">Ao mesmo tempo, o setor de energia e o setor de serviços têm visto a estagnação do consumo, com os clientes exigindo maneiras melhores de controlar o uso da energia.</span><span class="sxs-lookup"><span data-stu-id="29b45-106">At the same time, the utility and the entire energy sector have seen consumption flattening out with consumers demanding better ways to control their use of energy.</span></span> <span data-ttu-id="29b45-107">Portanto, as empresas de rede inteligente e de serviços têm grande necessidade de inovar e de renovar a si mesmos.</span><span class="sxs-lookup"><span data-stu-id="29b45-107">Hence, the utility and smart grid companies are in great need to innovate and renew themselves.</span></span> <span data-ttu-id="29b45-108">Além disso, muitas redes de energia e de serviços estão ficando desatualizadas e muito caras de manter e de gerenciar.</span><span class="sxs-lookup"><span data-stu-id="29b45-108">Furthermore, many power and utility grids are becoming outdated and very costly to maintain and manage.</span></span> <span data-ttu-id="29b45-109">No ano passado, a equipe trabalhou em vários compromissos no domínio da energia.</span><span class="sxs-lookup"><span data-stu-id="29b45-109">During the last year, the team has been working on a number of engagements within the energy domain.</span></span> <span data-ttu-id="29b45-110">Durante esses compromissos, encontramos muitos casos em que os ISVs (fornecedores independentes de software) ou as empresas de serviços procuravam previsões sobre a futura demanda de energia.</span><span class="sxs-lookup"><span data-stu-id="29b45-110">During these engagements, we have encountered many cases in which the utilities or ISVs (Independent Software Vendors) have been looking into forecasting for future energy demand.</span></span> <span data-ttu-id="29b45-111">Essas previsões desempenham um papel importante nos negócios atuais e futuros e tornaram-se a base para vários casos de uso.</span><span class="sxs-lookup"><span data-stu-id="29b45-111">These forecasts play an important role in their current and future business and have become the foundation for various use cases.</span></span> <span data-ttu-id="29b45-112">Elas incluem, a curto e a longo prazos, a previsão, comércio, balanceamento de carga e otimização da rede da carga de energia, entre outras. Os métodos de big data e de Análise Avançada (AA), como o Machine Learning, são os principais motivadores para a produção de previsões precisas e confiáveis.</span><span class="sxs-lookup"><span data-stu-id="29b45-112">These include short and long-term power load forecast, trading, load balancing, grid optimization etc. Big data and Advanced Analytics (AA) methods such as Machine Learning (ML) are the key enablers for producing accurate and reliable forecasts.</span></span>  

<span data-ttu-id="29b45-113">Neste manual, reunimos as diretrizes de negócios e analíticas necessárias para o desenvolvimento e a implantação bem-sucedidos de uma solução de previsão de demanda de energia.</span><span class="sxs-lookup"><span data-stu-id="29b45-113">In this playbook, we put together the business and analytical guidelines needed for a successful development and deployment of energy demand forecast solution.</span></span> <span data-ttu-id="29b45-114">Essas diretrizes propostas podem ajudar empresas de serviços, cientistas de dados e engenheiros de dados no estabelecimento de soluções totalmente operacionalizadas, baseadas em nuvem, de previsão de demanda.</span><span class="sxs-lookup"><span data-stu-id="29b45-114">These proposed guidelines can help utilities, data scientists, and data engineers in establishing fully operationalized, cloud-based, demand-forecasting solutions.</span></span> <span data-ttu-id="29b45-115">Para as empresas que estejam começando sua jornada de big data e de análise avançada, essa solução poderá representar a semente da estratégia de rede inteligente a longo prazo.</span><span class="sxs-lookup"><span data-stu-id="29b45-115">For companies who are just starting their big data and advanced analytics journey, such a solution can represent the initial seed in their long-term smart grid strategy.</span></span>

> [!TIP]
> <span data-ttu-id="29b45-116">Para baixar um diagrama que fornece uma visão geral da arquitetura do modelo, consulte [Arquitetura do Modelo de Solução do Cortana Intelligence para previsão de demanda de energia](cortana-analytics-architecture-demand-forecasting-energy.md).</span><span class="sxs-lookup"><span data-stu-id="29b45-116">To download a diagram that provides an architectural overview of this template, see [Cortana Intelligence Solution Template architecture for demand forecasting of energy](cortana-analytics-architecture-demand-forecasting-energy.md).</span></span>  
> 
> 

## <a name="overview"></a><span data-ttu-id="29b45-117">Visão geral</span><span class="sxs-lookup"><span data-stu-id="29b45-117">Overview</span></span>
<span data-ttu-id="29b45-118">Este documento aborda os negócios, os dados e os aspectos técnicos do uso do Cortana Intelligence e, especialmente, o AML (Azure Machine Learning) para a implementação e implantação de Soluções de Previsão de Energia.</span><span class="sxs-lookup"><span data-stu-id="29b45-118">This document covers the business, data, and technical aspects of using Cortana Intelligence and in particular Azure Machine Learning (AML) for the implementation and deployment of Energy Forecasting Solutions.</span></span> <span data-ttu-id="29b45-119">O documento consiste em três partes principais:</span><span class="sxs-lookup"><span data-stu-id="29b45-119">The document consists of three main parts:</span></span>  

1. <span data-ttu-id="29b45-120">Noções básicas sobre negócios</span><span class="sxs-lookup"><span data-stu-id="29b45-120">Business understanding</span></span>  
2. <span data-ttu-id="29b45-121">Noções básicas sobre dados</span><span class="sxs-lookup"><span data-stu-id="29b45-121">Data understanding</span></span>  
3. <span data-ttu-id="29b45-122">Implementação técnica</span><span class="sxs-lookup"><span data-stu-id="29b45-122">Technical implementation</span></span>

<span data-ttu-id="29b45-123">A parte **Noções Básicas sobre Negócios** descreve o aspecto comercial que você precisa compreender e considerar antes de tomar uma decisão de investimento.</span><span class="sxs-lookup"><span data-stu-id="29b45-123">The **Business Understanding** part outlines the business aspect one needs to understand and consider prior to making an investment decision.</span></span> <span data-ttu-id="29b45-124">Ela explica como qualificar o problema comercial existente para garantir que a análise preditiva e o aprendizado de máquina sejam realmente eficazes e aplicáveis.</span><span class="sxs-lookup"><span data-stu-id="29b45-124">It explains how to qualify the business problem at hand to ensure that predictive analytics and machine learning are indeed effective and applicable.</span></span> <span data-ttu-id="29b45-125">O documento explica ainda mais as noções básicas sobre o aprendizado de máquina e como ele é usado para resolver os problemas de previsão de energia.</span><span class="sxs-lookup"><span data-stu-id="29b45-125">The document further explains the basics of machine learning and how it is used to address energy-forecasting problems.</span></span> <span data-ttu-id="29b45-126">Descreve os pré-requisitos e os critérios de qualificação de um caso de uso.</span><span class="sxs-lookup"><span data-stu-id="29b45-126">It outlines the prerequisites and the qualification criteria of a use case.</span></span> <span data-ttu-id="29b45-127">Alguns casos de uso e cenários de caso de uso de exemplo também são fornecidos.</span><span class="sxs-lookup"><span data-stu-id="29b45-127">Some sample use cases and business case scenarios are also provided.</span></span>

<span data-ttu-id="29b45-128">Os dados são o principal ingrediente para qualquer solução de aprendizado de máquina.</span><span class="sxs-lookup"><span data-stu-id="29b45-128">Data is the main ingredient for any machine learning solution.</span></span> <span data-ttu-id="29b45-129">A parte **Noções Básicas de Dados** deste documento aborda alguns aspectos importantes dos dados.</span><span class="sxs-lookup"><span data-stu-id="29b45-129">The **Data Understanding** part of this document covers some important aspects of the data.</span></span> <span data-ttu-id="29b45-130">Ela descreve o tipo de dados necessário para a previsão de energia, requisitos de qualidade de dados e quais fontes de dados normalmente existem.</span><span class="sxs-lookup"><span data-stu-id="29b45-130">It outlines the kind of data that is needed for energy forecasting, data quality requirements, and what data sources typically exist.</span></span> <span data-ttu-id="29b45-131">Nós também explicamos como os dados brutos são usados para preparar recursos de dados que, na verdade, orientam a parte de modelagem.</span><span class="sxs-lookup"><span data-stu-id="29b45-131">We also explain how the raw data is used to prepare data features that actually drive the modeling part.</span></span>

<span data-ttu-id="29b45-132">A terceira parte do documento aborda o aspecto **Implementação Técnica** de uma solução.</span><span class="sxs-lookup"><span data-stu-id="29b45-132">The third part of the document covers the **Technical Implementation** aspect of a solution.</span></span> <span data-ttu-id="29b45-133">A engenharia e a modelagem de recursos são a essência do processo de ciência de dados e, portanto, serão discutidos em detalhes.</span><span class="sxs-lookup"><span data-stu-id="29b45-133">Feature engineering and modeling are at the core of the data science process and are therefore being discussed in some detail.</span></span> <span data-ttu-id="29b45-134">Ela aborda o conceito de serviços Web, que são um importante veículo para a implantação de soluções de análise preditiva na nuvem.</span><span class="sxs-lookup"><span data-stu-id="29b45-134">It covers the concept of web services, which are an important vehicle for cloud deployment of predictive analytics solutions.</span></span> <span data-ttu-id="29b45-135">Nós também descrevemos uma arquitetura típica de uma solução operacionalizada completa.</span><span class="sxs-lookup"><span data-stu-id="29b45-135">We also outline a typical architecture of an end-to-end operationalized solution.</span></span>

<span data-ttu-id="29b45-136">Além disso, o documento inclui material de referência que você pode usar para obter mais conhecimentos sobre o domínio e a tecnologia.</span><span class="sxs-lookup"><span data-stu-id="29b45-136">In addition, the document includes reference material that you can use to gain further understanding of the domain and technology.</span></span>

<span data-ttu-id="29b45-137">É importante observar que, neste documento, não pretendemos abordar o processo de ciência de dados mais profundo, seus aspectos técnicos e matemáticos.</span><span class="sxs-lookup"><span data-stu-id="29b45-137">It is important to note that we do not intend to cover in this document the deeper data science process, its mathematical and technical aspects.</span></span> <span data-ttu-id="29b45-138">Esses detalhes podem ser encontrados na documentação do [AM do Azure](http://azure.microsoft.com/services/machine-learning/) e em [blogs](http://blogs.microsoft.com/blog/tag/azure-machine-learning/).</span><span class="sxs-lookup"><span data-stu-id="29b45-138">These details can be found in [Azure ML documentation](http://azure.microsoft.com/services/machine-learning/) and [blogs](http://blogs.microsoft.com/blog/tag/azure-machine-learning/).</span></span>

### <a name="target-audience"></a><span data-ttu-id="29b45-139">Público-alvo</span><span class="sxs-lookup"><span data-stu-id="29b45-139">Target Audience</span></span>
<span data-ttu-id="29b45-140">O público-alvo deste documento é o pessoal comercial e técnico que deseja obter conhecimento e compreensão das soluções baseadas em Machine Learning e como elas estão sendo usadas especificamente no domínio da previsão de energia.</span><span class="sxs-lookup"><span data-stu-id="29b45-140">The target audience for this document is both business and technical personnel who would like to gain knowledge and understanding of Machine Learning based solutions and how these are being used specifically within the energy-forecasting domain.</span></span>

<span data-ttu-id="29b45-141">Os cientistas de dados também podem se beneficiar da leitura deste documento para obter uma melhor compreensão do processo de alto nível que orienta a implantação de uma solução de previsão de energia.</span><span class="sxs-lookup"><span data-stu-id="29b45-141">Data scientists can also benefit from reading this document to gain a better understanding of the high level process that drives the deployment of an energy forecasting solution.</span></span> <span data-ttu-id="29b45-142">Neste contexto, ele também pode ser usado para estabelecer uma boa linha de base e um ponto de partida para um material mais detalhado e mais avançado.</span><span class="sxs-lookup"><span data-stu-id="29b45-142">In this context it can also be used to establish a good baseline and starting point for more detailed and advanced material.</span></span>

### <a name="industry-trends"></a><span data-ttu-id="29b45-143">Tendências do Setor</span><span class="sxs-lookup"><span data-stu-id="29b45-143">Industry Trends</span></span>
<span data-ttu-id="29b45-144">Nos últimos anos, a IoT, fontes de energia alternativas e Big Data foram mesclados para criar grandes oportunidades no espaço dos serviços e de energia.</span><span class="sxs-lookup"><span data-stu-id="29b45-144">In the past few years, IoT, alternative energy sources, and big data have merged to create vast opportunities in the utility and energy space.</span></span> <span data-ttu-id="29b45-145">Ao mesmo tempo, os setores de energia e de serviços têm visto o nivelamento de consumo, com os clientes exigindo maneiras melhores de controlar o uso de energia.</span><span class="sxs-lookup"><span data-stu-id="29b45-145">At the same time, the utility and the entire energy sectors have seen consumption flattening out with consumers demanding better ways to control their use of energy.</span></span>

<span data-ttu-id="29b45-146">Muitas empresas de serviços e de energia inteligente têm sido pioneiras na [rede inteligente](https://en.wikipedia.org/wiki/Smart_grid) ao implantar vários casos de uso que utilizam os dados gerados pela rede.</span><span class="sxs-lookup"><span data-stu-id="29b45-146">Many utility and smart energy companies have been pioneering the [smart grid](https://en.wikipedia.org/wiki/Smart_grid) by deploying a number of use cases that make use of the data generated by the grid.</span></span> <span data-ttu-id="29b45-147">Muitos casos de uso giram em torno de características inerentes da produção de eletricidade: ela não pode ser acumulada nem armazenada separadamente como um estoque.</span><span class="sxs-lookup"><span data-stu-id="29b45-147">Many use cases revolve around the inherent characteristics of electricity production: it cannot be accumulated nor stored aside as inventory.</span></span> <span data-ttu-id="29b45-148">Portanto, o que é produzido deve ser usado.</span><span class="sxs-lookup"><span data-stu-id="29b45-148">So, what is produced must be used.</span></span> <span data-ttu-id="29b45-149">As empresas de serviços que quiserem se tornar mais eficientes precisam prever o consumo de energia simplesmente porque isso dará a elas maior capacidade de **equilibrar o fornecimento e a demanda**, impedindo o desperdício de energia, **reduzir a emissão de gases de efeito estufa** e controlar os custos.</span><span class="sxs-lookup"><span data-stu-id="29b45-149">Utilities that want to become more efficient need to forecast power consumption simply because that will give them greater ability to **balance supply and demand**, thus preventing energy wastage, **reduce greenhouse gas emission**, and control cost.</span></span>

<span data-ttu-id="29b45-150">Quando falamos de custos, há outro aspecto importante, o preço.</span><span class="sxs-lookup"><span data-stu-id="29b45-150">When talking of costs, there is another important aspect, which is price.</span></span> <span data-ttu-id="29b45-151">As novas capacidades de negociar a energia entre empresas de serviços geraram uma grande necessidade de **prever a demanda futura e o preço futuro da eletricidade**.</span><span class="sxs-lookup"><span data-stu-id="29b45-151">New abilities to trade power between utilities have brought in a great need to **forecast future demand and future price of electricity**.</span></span> <span data-ttu-id="29b45-152">Isso pode ajudar as empresas a determinar seus volumes de produção.</span><span class="sxs-lookup"><span data-stu-id="29b45-152">This can help companies determine their production volumes.</span></span>

<span data-ttu-id="29b45-153">Quando usamos a palavra “inteligente”, na verdade, nos referimos a uma rede que pode aprender e então fazer previsões.</span><span class="sxs-lookup"><span data-stu-id="29b45-153">When we use the word 'smart', we actually refer to a grid that can learn and then make predictions.</span></span> <span data-ttu-id="29b45-154">Ela pode prever alterações sazonais no consumo, bem como **prever situações de sobrecarga temporária e ajustar-se automaticamente a elas**.</span><span class="sxs-lookup"><span data-stu-id="29b45-154">It can anticipate seasonal changes in consumption as well as **foresee temporary overload situations and automatically adjust for it**.</span></span> <span data-ttu-id="29b45-155">Ao regular remotamente o consumo (com a ajuda desses medidores inteligentes), as situações de sobrecarga localizada poderão ser tratadas.</span><span class="sxs-lookup"><span data-stu-id="29b45-155">By remotely regulating consumption (with the help of these smart meters), localized overload situations can be handled.</span></span> <span data-ttu-id="29b45-156">**Ao prever primeiro e então agir**, a rede fica mais inteligente ao longo do tempo.</span><span class="sxs-lookup"><span data-stu-id="29b45-156">**By first predicting and then acting**, the grid makes itself smarter over time.</span></span>

<span data-ttu-id="29b45-157">No restante deste documento, nos concentraremos em uma família específica de casos de uso que abrangem a previsão da demanda de energia futura, a curto e a longo prazos.</span><span class="sxs-lookup"><span data-stu-id="29b45-157">For the rest of this document we will focus on a specific family of use cases that cover forecasting of future, short term, and long-term energy demand.</span></span> <span data-ttu-id="29b45-158">Temos trabalhado nessas áreas há alguns meses e obtivemos conhecimentos e habilidades que nos permitem produzir resultados na rede do setor.</span><span class="sxs-lookup"><span data-stu-id="29b45-158">We have been working in these areas for a few months and have gained some knowledge and skill that allow us to produce industry grade results.</span></span> <span data-ttu-id="29b45-159">Outros casos de uso também serão abordados no documento em um futuro próximo.</span><span class="sxs-lookup"><span data-stu-id="29b45-159">Other use cases will be covered as well in the document in the near future.</span></span>

## <a name="business-understanding"></a><span data-ttu-id="29b45-160">Noções básicas sobre negócios</span><span class="sxs-lookup"><span data-stu-id="29b45-160">Business Understanding</span></span>
### <a name="business-goals"></a><span data-ttu-id="29b45-161">Metas de Negócios</span><span class="sxs-lookup"><span data-stu-id="29b45-161">Business Goals</span></span>
<span data-ttu-id="29b45-162">A meta **Demonstração de Energia** serve para demonstrar uma análise preditiva e uma solução de aprendizado de máquina típica que podem ser implantadas em um período muito curto.</span><span class="sxs-lookup"><span data-stu-id="29b45-162">The **Energy Demo** goal is to demonstrate a typical predictive analytics and machine learning solution that can be deployed in a very short time frame.</span></span> <span data-ttu-id="29b45-163">Especificamente, nosso foco atual é habilitar as soluções de previsão de demanda de energia para que seu valor de negócios possa ser percebido e aproveitado com rapidez.</span><span class="sxs-lookup"><span data-stu-id="29b45-163">Specifically, our current focus is on enabling energy demand forecast solutions so that its business value can be quickly realized and leveraged upon.</span></span> <span data-ttu-id="29b45-164">As informações contidas neste manual podem ajudar o cliente cumprir as seguintes metas:</span><span class="sxs-lookup"><span data-stu-id="29b45-164">The information in this playbook can help the customer accomplishing the following goals:</span></span>

* <span data-ttu-id="29b45-165">Pouco tempo para avaliar a solução baseada em aprendizado de máquina</span><span class="sxs-lookup"><span data-stu-id="29b45-165">Short time to value of machine learning based solution</span></span>
* <span data-ttu-id="29b45-166">Capacidade de expandir um caso de uso piloto para outros casos de uso ou para ampliar o escopo com base na necessidade de negócios</span><span class="sxs-lookup"><span data-stu-id="29b45-166">Ability to expand a pilot use case to other use cases or to a broader scope based on their business need</span></span>
* <span data-ttu-id="29b45-167">Obter rapidamente o conhecimento sobre o produto Cortana Intelligence Suite</span><span class="sxs-lookup"><span data-stu-id="29b45-167">Quickly gain Cortana Intelligence Suite product knowledge</span></span>

<span data-ttu-id="29b45-168">Com essas metas em mente, este manual tem como objetivo fornecer o conhecimento comercial e técnico que ajudará você a atingir essas metas.</span><span class="sxs-lookup"><span data-stu-id="29b45-168">With these goals in mind, this playbook aims at delivering the business and technical knowledge that will assist in achieving these goals.</span></span>

### <a name="power-load-and-demand-forecasting"></a><span data-ttu-id="29b45-169">Carga de Energia e Previsão de Demanda</span><span class="sxs-lookup"><span data-stu-id="29b45-169">Power Load and Demand Forecasting</span></span>
<span data-ttu-id="29b45-170">No setor de energia, pode haver muitas maneiras nas quais a previsão de demanda pode ajudar a resolver problemas críticos de negócios.</span><span class="sxs-lookup"><span data-stu-id="29b45-170">Within the energy sector, there could be many ways in which demand forecasting can help solve critical business problems.</span></span> <span data-ttu-id="29b45-171">Na verdade, a previsão de demanda pode ser considerada a base para muitos dos principais casos de uso do setor.</span><span class="sxs-lookup"><span data-stu-id="29b45-171">In fact, demand forecasting can be considered the foundation for many core use cases in the industry.</span></span> <span data-ttu-id="29b45-172">Em geral, consideramos dois tipos de previsões de demanda de energia: a curto prazo e a longo prazo.</span><span class="sxs-lookup"><span data-stu-id="29b45-172">In general, we consider two types of energy demand forecasts: short term and long term.</span></span> <span data-ttu-id="29b45-173">Cada um pode servir a uma finalidade diferente e utilizar uma abordagem diferente.</span><span class="sxs-lookup"><span data-stu-id="29b45-173">Each one may serve a different purpose and utilize a different approach.</span></span> <span data-ttu-id="29b45-174">A principal diferença entre os dois é o horizonte de previsão, que significa o intervalo de tempo no futuro para o qual podemos prever.</span><span class="sxs-lookup"><span data-stu-id="29b45-174">The main difference between the two is the forecasting horizon, meaning the range of time into the future for which we would forecast.</span></span>

#### <a name="short-term-load-forecasting"></a><span data-ttu-id="29b45-175">Previsão de Carga a Curto Prazo</span><span class="sxs-lookup"><span data-stu-id="29b45-175">Short Term Load Forecasting</span></span>
<span data-ttu-id="29b45-176">No contexto de demanda de energia, a Previsão de Carga a Curto Prazo (STLF) é definida como a carga agregada que é prevista em um futuro próximo em várias partes da rede (ou a rede como um todo).</span><span class="sxs-lookup"><span data-stu-id="29b45-176">Within the context of energy demand, Short Term Load Forecasting (STLF) is defined as the aggregated load that is forecasted in the near future on various parts of the grid (or the grid as a whole).</span></span> <span data-ttu-id="29b45-177">Nesse contexto, a curto prazo é definido como o horizonte de tempo no intervalo de uma hora a 24 horas.</span><span class="sxs-lookup"><span data-stu-id="29b45-177">In this context, short term is defined to be time horizon within the range of 1 hour to 24 hours.</span></span> <span data-ttu-id="29b45-178">Em alguns casos, um limite de 48 horas também é possível.</span><span class="sxs-lookup"><span data-stu-id="29b45-178">In some cases, a horizon of 48 hours is also possible.</span></span> <span data-ttu-id="29b45-179">Portanto, a STLF é muito comum em casos de uso operacional da rede.</span><span class="sxs-lookup"><span data-stu-id="29b45-179">Therefore, STLF is very common in an operational use case of the grid.</span></span> <span data-ttu-id="29b45-180">Veja alguns exemplos de casos de uso orientados pela STLF:</span><span class="sxs-lookup"><span data-stu-id="29b45-180">Here are some examples of STLF driven use cases:</span></span>

* <span data-ttu-id="29b45-181">Equilíbrio do fornecimento e da demanda</span><span class="sxs-lookup"><span data-stu-id="29b45-181">Supply and demand balancing</span></span>
* <span data-ttu-id="29b45-182">Suporte à comercialização de energia</span><span class="sxs-lookup"><span data-stu-id="29b45-182">Power trading support</span></span>
* <span data-ttu-id="29b45-183">Tomada de mercado (definição do preço da energia)</span><span class="sxs-lookup"><span data-stu-id="29b45-183">Market making (setting power price)</span></span>
* <span data-ttu-id="29b45-184">Otimização operacional da rede</span><span class="sxs-lookup"><span data-stu-id="29b45-184">Grid operational optimization</span></span>
* [<span data-ttu-id="29b45-185">Resposta da demanda</span><span class="sxs-lookup"><span data-stu-id="29b45-185">Demand response</span></span>](https://en.wikipedia.org/wiki/Demand_response)
* <span data-ttu-id="29b45-186">Previsão da demanda de pico</span><span class="sxs-lookup"><span data-stu-id="29b45-186">Peak demand forecasting</span></span>
* <span data-ttu-id="29b45-187">Gerenciamento do lado da demanda</span><span class="sxs-lookup"><span data-stu-id="29b45-187">Demand side management</span></span>
* <span data-ttu-id="29b45-188">Balanceamento de carga e prevenção de sobrecarga</span><span class="sxs-lookup"><span data-stu-id="29b45-188">Load balancing and overload prevention</span></span>
* <span data-ttu-id="29b45-189">Previsão de Carga a Longo Prazo</span><span class="sxs-lookup"><span data-stu-id="29b45-189">Long Term Load Forecasting</span></span>
* <span data-ttu-id="29b45-190">Detecção de anomalias e de falhas</span><span class="sxs-lookup"><span data-stu-id="29b45-190">Fault and anomaly detection</span></span>
* <span data-ttu-id="29b45-191">Redução/nivelamento do pico</span><span class="sxs-lookup"><span data-stu-id="29b45-191">Peak curtailment/leveling</span></span> 

<span data-ttu-id="29b45-192">O modelo STLF baseia-se principalmente no consumo de dados no passado próximo (último dia ou semana) e na temperatura prevista de uso como um indicador importante.</span><span class="sxs-lookup"><span data-stu-id="29b45-192">STLF model are mostly based on the near past (last day or week) consumption data and use forecasted temperature as an important predictor.</span></span> <span data-ttu-id="29b45-193">A obtenção da previsão de temperatura precisa para a próxima hora e para até 24 horas tem se tornado menos desafiadora nos dias de hoje.</span><span class="sxs-lookup"><span data-stu-id="29b45-193">Obtaining accurate temperature forecast for the next hour and up to 24 hours is becoming less of a challenge now days.</span></span> <span data-ttu-id="29b45-194">Esses modelos são menos sensíveis aos padrões sazonais ou às tendências de consumo a longo prazo.</span><span class="sxs-lookup"><span data-stu-id="29b45-194">These models are less sensitive to seasonal patterns or long-term consumption trends.</span></span>

<span data-ttu-id="29b45-195">As soluções SLTF também têm a probabilidade de gerar um alto volume de chamadas de previsão (solicitações de serviço), já que estão sendo invocadas por hora e, em alguns casos, até com uma frequência maior.</span><span class="sxs-lookup"><span data-stu-id="29b45-195">SLTF solutions are also likely to generate high volume of prediction calls (service requests) since they are being invoked on an hourly basis and in some cases even with higher frequency.</span></span> <span data-ttu-id="29b45-196">Também é muito comum ver a implantação onde cada subestação ou transformador individual representa um modelo autônomo. Sendo assim, o volume de solicitações de previsão é ainda maior.</span><span class="sxs-lookup"><span data-stu-id="29b45-196">It is also very common to see implantation where each individual substation or transformer is represented as a standalone model and therefore the volume of prediction requests are even greater.</span></span>

#### <a name="long-term-load-forecasting"></a><span data-ttu-id="29b45-197">Previsão de Carga a Longo Prazo</span><span class="sxs-lookup"><span data-stu-id="29b45-197">Long Term Load Forecasting</span></span>
<span data-ttu-id="29b45-198">A meta Previsão de Carga a Longo Prazo (LTLF) serve para prever a demanda de energia com um prazo que varia de uma semana a vários meses (e, em alguns casos, alguns anos).</span><span class="sxs-lookup"><span data-stu-id="29b45-198">The goal of Long Term Load Forecasting (LTLF) is to forecast power demand with a time horizon ranging from 1 week to multiple months (and in some cases for a number of years).</span></span> <span data-ttu-id="29b45-199">Esse intervalo de horizonte é aplicável principalmente aos casos de uso de planejamento e de investimento.</span><span class="sxs-lookup"><span data-stu-id="29b45-199">This range of horizon is mostly applicable for planning and investment use cases.</span></span>

<span data-ttu-id="29b45-200">Para cenários a longo prazo, é importante ter dados de alta qualidade que cubram um intervalo de vários anos (três anos, no mínimo).</span><span class="sxs-lookup"><span data-stu-id="29b45-200">For long-term scenarios, it is important to have high quality data that covers a span of multiple years (minimum 3 years).</span></span> <span data-ttu-id="29b45-201">Esses modelos normalmente extrairão padrões de periodicidade dos dados históricos e usarão previsões externas, como padrões de tempo e de clima.</span><span class="sxs-lookup"><span data-stu-id="29b45-201">These models will typically extract seasonality patterns from the historical data and make use of external predicators such as weather and climate patterns.</span></span>

<span data-ttu-id="29b45-202">É importante esclarecer que quanto mais distante estiver o horizonte de previsão, menos precisa será a previsão.</span><span class="sxs-lookup"><span data-stu-id="29b45-202">It is important to clarify that the longer the forecasting horizon is, the less accurate the forecast may be.</span></span> <span data-ttu-id="29b45-203">Portanto, é importante produzir alguns intervalos de confiança com a previsão real que permitam que os seres humanos considerem a variação possível no processo de planejamento.</span><span class="sxs-lookup"><span data-stu-id="29b45-203">It is therefore important to produce some confidence intervals along with the actual forecast that would allow humans to factor the possible variation into their planning process.</span></span>

<span data-ttu-id="29b45-204">Uma vez que o cenário de consumo para a LTLF é composto principalmente de planejamento, podemos esperar volumes de previsão muito menores (em comparação à STLF).</span><span class="sxs-lookup"><span data-stu-id="29b45-204">Since the consumption scenario for LTLF is mostly planning, we can expect much lower prediction volumes (as compared to STLF).</span></span> <span data-ttu-id="29b45-205">Geralmente, veríamos essas previsões inseridas em ferramentas de visualização como o Excel ou o PowerBI e invocadas manualmente pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="29b45-205">We would typically see these predictions embedded into visualization tools such as Excel or PowerBI and be invoked manually by the user.</span></span>

### <a name="short-term-vs-long-term-prediction"></a><span data-ttu-id="29b45-206">Previsão a Curto Prazo versus a Longo Prazo</span><span class="sxs-lookup"><span data-stu-id="29b45-206">Short Term vs. Long Term Prediction</span></span>
<span data-ttu-id="29b45-207">A tabela a seguir compara a STLF e a LTLF em relação aos atributos mais importantes:</span><span class="sxs-lookup"><span data-stu-id="29b45-207">The following table compares STLF and LTLF in respect to the most important attributes:</span></span>

| <span data-ttu-id="29b45-208">Atributo</span><span class="sxs-lookup"><span data-stu-id="29b45-208">Attribute</span></span> | <span data-ttu-id="29b45-209">Previsão de Carga a Curto Prazo</span><span class="sxs-lookup"><span data-stu-id="29b45-209">Short Term Load Forecast</span></span> | <span data-ttu-id="29b45-210">Previsão de Carga a Longo Prazo</span><span class="sxs-lookup"><span data-stu-id="29b45-210">Long Term Load Forecast</span></span> |
| --- | --- | --- |
| <span data-ttu-id="29b45-211">Horizonte de Previsão</span><span class="sxs-lookup"><span data-stu-id="29b45-211">Forecast Horizon</span></span> |<span data-ttu-id="29b45-212">De uma hora a 48 horas</span><span class="sxs-lookup"><span data-stu-id="29b45-212">From 1 hour to 48 hours</span></span> |<span data-ttu-id="29b45-213">De 1 a 6 meses ou mais</span><span class="sxs-lookup"><span data-stu-id="29b45-213">From 1 to 6 months or more</span></span> |
| <span data-ttu-id="29b45-214">Granularidade de dados</span><span class="sxs-lookup"><span data-stu-id="29b45-214">Data granularity</span></span> |<span data-ttu-id="29b45-215">Por hora</span><span class="sxs-lookup"><span data-stu-id="29b45-215">Hourly</span></span> |<span data-ttu-id="29b45-216">Por hora ou por dia</span><span class="sxs-lookup"><span data-stu-id="29b45-216">Hourly or daily</span></span> |
| <span data-ttu-id="29b45-217">Casos de uso típicos</span><span class="sxs-lookup"><span data-stu-id="29b45-217">Typical use cases</span></span> |<ul><li><span data-ttu-id="29b45-218">Balanceamento de demanda/fornecimento</span><span class="sxs-lookup"><span data-stu-id="29b45-218">Demand/Supply balancing</span></span></li><li><span data-ttu-id="29b45-219">Selecionar a hora de previsão</span><span class="sxs-lookup"><span data-stu-id="29b45-219">Pick hour forecasting</span></span></li><li><span data-ttu-id="29b45-220">Resposta da demanda</span><span class="sxs-lookup"><span data-stu-id="29b45-220">Demand response</span></span></li></ul> |<ul><li><span data-ttu-id="29b45-221">Planejamento a longo prazo</span><span class="sxs-lookup"><span data-stu-id="29b45-221">Long term planning</span></span></li><li><span data-ttu-id="29b45-222">Planejamento de ativos de grade</span><span class="sxs-lookup"><span data-stu-id="29b45-222">Grid assets planning</span></span></li><li><span data-ttu-id="29b45-223">Planejamento de recursos</span><span class="sxs-lookup"><span data-stu-id="29b45-223">Resource planning</span></span></li></ul> |
| <span data-ttu-id="29b45-224">Indicadores típicos</span><span class="sxs-lookup"><span data-stu-id="29b45-224">Typical predictors</span></span> |<ul><li><span data-ttu-id="29b45-225">Dia ou semana</span><span class="sxs-lookup"><span data-stu-id="29b45-225">Day or week</span></span></li><li><span data-ttu-id="29b45-226">Hora do dia</span><span class="sxs-lookup"><span data-stu-id="29b45-226">Hour of day</span></span></li><li><span data-ttu-id="29b45-227">Temperatura por hora</span><span class="sxs-lookup"><span data-stu-id="29b45-227">Hourly temperature</span></span></li></ul> |<ul><li><span data-ttu-id="29b45-228">Mês do ano</span><span class="sxs-lookup"><span data-stu-id="29b45-228">Month of year</span></span></li><li><span data-ttu-id="29b45-229">Dia do mês</span><span class="sxs-lookup"><span data-stu-id="29b45-229">Day of month</span></span></li><li><span data-ttu-id="29b45-230">Clima e temperatura a longo prazo</span><span class="sxs-lookup"><span data-stu-id="29b45-230">Long term temperature and climate</span></span></li></ul> |
| <span data-ttu-id="29b45-231">Intervalo de dados históricos</span><span class="sxs-lookup"><span data-stu-id="29b45-231">Historical data range</span></span> |<span data-ttu-id="29b45-232">Dois a três anos de dados</span><span class="sxs-lookup"><span data-stu-id="29b45-232">Two to three years' worth of data</span></span> |<span data-ttu-id="29b45-233">Cinco a dez anos de dados</span><span class="sxs-lookup"><span data-stu-id="29b45-233">Five to 10 years' worth of data</span></span> |
| <span data-ttu-id="29b45-234">Precisão típica</span><span class="sxs-lookup"><span data-stu-id="29b45-234">Typical accuracy</span></span> |<span data-ttu-id="29b45-235">MAPE* de 5% ou menos</span><span class="sxs-lookup"><span data-stu-id="29b45-235">MAPE* of 5% or lower</span></span> |<span data-ttu-id="29b45-236">MAPE* de 25% ou menos</span><span class="sxs-lookup"><span data-stu-id="29b45-236">MAPE* of 25% or lower</span></span> |
| <span data-ttu-id="29b45-237">Frequência de previsão</span><span class="sxs-lookup"><span data-stu-id="29b45-237">Forecast frequency</span></span> |<span data-ttu-id="29b45-238">Produzida a cada hora ou a cada 24 horas</span><span class="sxs-lookup"><span data-stu-id="29b45-238">Produced every hour or every 24 hours</span></span> |<span data-ttu-id="29b45-239">Produzida uma vez por mês, trimestre ou ano</span><span class="sxs-lookup"><span data-stu-id="29b45-239">Produced once monthly, quarterly or yearly</span></span> |

<span data-ttu-id="29b45-240">\*[MAPE](https://en.wikipedia.org/wiki/Mean_absolute_percentage_error) – Erro Percentual Médio</span><span class="sxs-lookup"><span data-stu-id="29b45-240">\*[MAPE](https://en.wikipedia.org/wiki/Mean_absolute_percentage_error) – Mean Average Percent Error</span></span>

<span data-ttu-id="29b45-241">Como pode ser visto nesta tabela, é muito importante distinguir entre os cenários de previsão a curto e a longo prazo, já que eles representam necessidades comerciais diferentes e podem ter padrões de implantação e de consumo diferentes.</span><span class="sxs-lookup"><span data-stu-id="29b45-241">As can be seen from this table, it is quite important to distinguish between the short and the long term forecasting scenarios as these represent different business needs and may have different deployment and consumption patterns.</span></span>

### <a name="example-use-case-1-esmart-systems--overload-optimization"></a><span data-ttu-id="29b45-242">Caso de Uso do Exemplo 1: Sistemas eSmart – otimização de sobrecarga</span><span class="sxs-lookup"><span data-stu-id="29b45-242">Example Use Case 1: eSmart Systems – Overload optimization</span></span>
<span data-ttu-id="29b45-243">Uma função importante de uma [rede inteligente](https://en.wikipedia.org/wiki/Smart_grid) é otimizar e ajustar de forma dinâmica e constante de acordo com os padrões de consumo à medida que eles são alterados.</span><span class="sxs-lookup"><span data-stu-id="29b45-243">An important role of a [smart grid](https://en.wikipedia.org/wiki/Smart_grid) is to dynamically and constantly optimize and adjust for the changing consumption patterns.</span></span> <span data-ttu-id="29b45-244">O consumo de energia pode ser afetado por alterações a curto prazo causadas principalmente por flutuações de temperatura (*por exemplo*, mais energia é usada em sistemas de ar condicionado ou de aquecimento).</span><span class="sxs-lookup"><span data-stu-id="29b45-244">Power consumption can be impacted by short-term changes that are mainly caused by temperature fluctuations (*e.g.*, more power is used for air condition or heating).</span></span> <span data-ttu-id="29b45-245">Ao mesmo tempo, o consumo de energia também é influenciado pelas tendências a longo prazo.</span><span class="sxs-lookup"><span data-stu-id="29b45-245">At the same time, power consumption is also influenced by long-term trends.</span></span> <span data-ttu-id="29b45-246">Elas podem incluir efeitos de periodicidade, feriados nacionais, crescimento do consumo a longo prazo e até fatores econômicos como o índice do consumidor, o preço do petróleo e o PIB.</span><span class="sxs-lookup"><span data-stu-id="29b45-246">These may include seasonality effects, national holidays, long-term consumption growth, and even economic factors such as consumer index, oil price, and GDP.</span></span>

<span data-ttu-id="29b45-247">Neste caso de uso, o [eSmart](http://www.esmartsystems.com/) queria implantar uma solução baseada em nuvem que permitia prever a propensão a uma situação de sobrecarga em uma determinada subestação da rede.</span><span class="sxs-lookup"><span data-stu-id="29b45-247">In this use case, [eSmart](http://www.esmartsystems.com/) wanted to deploy a cloud-based solution that enables predicting the propensity of an overload situation on any given substation of the grid.</span></span> <span data-ttu-id="29b45-248">Em particular, o eSmart queria identificar as subestações que provavelmente seriam sobrecarregadas na hora seguinte, para que uma ação imediata pudesse ser tomada para evitar ou resolver a situação.</span><span class="sxs-lookup"><span data-stu-id="29b45-248">In particular, eSmart wanted to identify substations that are likely to overload within the next hour, so an immediate action could be taken to avoid or resolve that situation.</span></span>

<span data-ttu-id="29b45-249">Uma previsão de execução precisa e rápida exige a implementação de três modelos de previsão:</span><span class="sxs-lookup"><span data-stu-id="29b45-249">An accurate and fast performing prediction requires implementation of three predictive models:</span></span>

* <span data-ttu-id="29b45-250">O modelo a longo prazo que permite a previsão do consumo de energia em cada subestação durante as próximas semanas ou meses</span><span class="sxs-lookup"><span data-stu-id="29b45-250">Long term model that enables forecasting of power consumption on each substation during the next few weeks or months</span></span>
* <span data-ttu-id="29b45-251">O modelo a curto prazo que permite a previsão de uma situação de sobrecarga em uma determinada subestação durante a próxima hora</span><span class="sxs-lookup"><span data-stu-id="29b45-251">Short term model that enables prediction of overload situation on a given substation during the next hour</span></span>
* <span data-ttu-id="29b45-252">O modelo de temperatura que fornece a previsão de temperatura futura em vários cenários</span><span class="sxs-lookup"><span data-stu-id="29b45-252">Temperature model that provides forecasting of future temperature over multiple scenarios</span></span>

<span data-ttu-id="29b45-253">O objetivo do modelo a longo prazo é classificar as subestações por sua propensão à sobrecarga (dada a capacidade de transmissão de energia delas) durante a semana ou o próximo mês.</span><span class="sxs-lookup"><span data-stu-id="29b45-253">The objective of the long-term model is to rank the substations by their propensity to overload (given their power transmission capacity) during the next week or month.</span></span> <span data-ttu-id="29b45-254">Isso permite a criação de uma pequena lista de subestações que serviria como uma entrada para a previsão a curto prazo.</span><span class="sxs-lookup"><span data-stu-id="29b45-254">This allows the creation of a short list of substations that would serve as an input for the short-term prediction.</span></span> <span data-ttu-id="29b45-255">Como a temperatura é um importante indicador para o modelo a longo prazo, não há necessidade de produzir constantemente previsões de temperatura de vários cenários e adicioná-las como entradas no modelo a longo prazo.</span><span class="sxs-lookup"><span data-stu-id="29b45-255">As temperature is an important predictor for the long-term model, there is a need to constantly produce multi-scenario temperature forecasts and feed them as input into to the long-term model.</span></span> <span data-ttu-id="29b45-256">A previsão a curto prazo é então invocada para prever qual subestação provavelmente será sobrecarregada na próxima hora.</span><span class="sxs-lookup"><span data-stu-id="29b45-256">The short term forecast is then invoked to predict which substation is likely to overload over the next hour.</span></span>

<span data-ttu-id="29b45-257">Os modelos a curto e a longo prazo são implantados individualmente por cada subestação.</span><span class="sxs-lookup"><span data-stu-id="29b45-257">The short-term and long-term models are deployed individually per each substation.</span></span> <span data-ttu-id="29b45-258">Portanto, a execução prática desses modelos requer uma orquestração abrangente.</span><span class="sxs-lookup"><span data-stu-id="29b45-258">Therefore, the practical execution of these models requires extensive orchestration.</span></span> <span data-ttu-id="29b45-259">Para obter uma maior precisão da previsão a curto prazo, um modelo mais granular é dedicado a cada hora do dia.</span><span class="sxs-lookup"><span data-stu-id="29b45-259">To gain higher prediction accuracy in the short term, a more granular model is dedicated for each hour of the day.</span></span> <span data-ttu-id="29b45-260">Todos esses modelos são executados a cada hora e sua execução é concluída em alguns minutos, para permitir que haja tempo suficiente para responder e tomar ações preventivas, se necessário.</span><span class="sxs-lookup"><span data-stu-id="29b45-260">All these models are executed every hour and finish execution within a few minutes to allow sufficient time to respond and take preventive actions if needed.</span></span> <span data-ttu-id="29b45-261">Essa coleção de modelos é mantida atualizada por meio da readaptação periódica com os dados mais recentes.</span><span class="sxs-lookup"><span data-stu-id="29b45-261">This collection of models is kept up-to-date by periodical retraining using the most recent data.</span></span>

<span data-ttu-id="29b45-262">Mais informações sobre este caso de uso podem ser encontradas [aqui](https://customers.microsoft.com/Pages/CustomerStory.aspx?recid=18945).</span><span class="sxs-lookup"><span data-stu-id="29b45-262">More information about this use case can be found [here](https://customers.microsoft.com/Pages/CustomerStory.aspx?recid=18945).</span></span>

#### <a name="use-case-qualification-criteria--prerequisites"></a><span data-ttu-id="29b45-263">Usar Critérios de Qualificação de Caso – Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="29b45-263">Use Case Qualification Criteria – Prerequisites</span></span>
<span data-ttu-id="29b45-264">A principal força do Cortana Intelligence está em sua poderosa capacidade de implantar e escalar soluções centradas no aprendizado de máquina.</span><span class="sxs-lookup"><span data-stu-id="29b45-264">The main strength of Cortana Intelligence is in its powerful ability to deploy and scale machine learning centric solutions.</span></span> <span data-ttu-id="29b45-265">Ele foi projetado para dar suporte a milhares de previsões executadas simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="29b45-265">It is designed to support thousands of predictions that are executed concurrently.</span></span> <span data-ttu-id="29b45-266">Ele pode ser dimensionado automaticamente para atender a uma alteração no padrão de consumo.</span><span class="sxs-lookup"><span data-stu-id="29b45-266">It can automatically scale to meet a changing consumption pattern.</span></span> <span data-ttu-id="29b45-267">Portanto, o foco da solução é a precisão e o desempenho computacional.</span><span class="sxs-lookup"><span data-stu-id="29b45-267">A solution's focus therefore, is on accuracy and computational performance.</span></span> <span data-ttu-id="29b45-268">Por exemplo, uma empresa está interessada em produzir uma previsão precisa da demanda de energia para a próxima hora e para cada hora do dia.</span><span class="sxs-lookup"><span data-stu-id="29b45-268">For example, a utility company is interested in producing accurate energy demand forecast for the next hour, and for each hour of the day.</span></span> <span data-ttu-id="29b45-269">Por outro lado, estamos menos interessados em responder à pergunta sobre o motivo da demanda ser prevista dessa forma (o próprio modelo cuidará disso).</span><span class="sxs-lookup"><span data-stu-id="29b45-269">On the other hand, we are less interested in answering the question of why the demand is predicted to be as it is (the model itself will take care of that).</span></span>

<span data-ttu-id="29b45-270">Portanto, é importante perceber que nem todos os casos de uso e os problemas de negócios podem ser efetivamente solucionados usando o aprendizado de máquina.</span><span class="sxs-lookup"><span data-stu-id="29b45-270">It is therefore important to realize that not all use cases and business problems can be effectively solved using machine learning.</span></span>

<span data-ttu-id="29b45-271">O Cortana Intelligence e o aprendizado de máquina podem ser altamente eficazes na resolução de um determinado problema de negócios quando os critérios a seguir forem atendidos:</span><span class="sxs-lookup"><span data-stu-id="29b45-271">Cortana Intelligence and machine learning could be highly effective in solving a given business problem when the following criteria are met:</span></span>

* <span data-ttu-id="29b45-272">O problema de negócios em questão é **previsível** por natureza.</span><span class="sxs-lookup"><span data-stu-id="29b45-272">The business problem in hand is **predictive** in nature.</span></span> <span data-ttu-id="29b45-273">Um exemplo de caso de uso previsível é o de uma empresa de serviços que gostaria de prever a carga de energia em uma determinada subestação durante a próxima hora.</span><span class="sxs-lookup"><span data-stu-id="29b45-273">A predictive use case example is a utility company that would like to predict power load on a given substation during the next hour.</span></span> <span data-ttu-id="29b45-274">Por outro lado, a análise e a classificação de acionadores de demanda histórica seriam **descritivas** por natureza e, portanto, menos aplicáveis.</span><span class="sxs-lookup"><span data-stu-id="29b45-274">On the other hand, analyzing and ranking drivers of historical demand would be **descriptive** in nature and therefore less applicable.</span></span>
* <span data-ttu-id="29b45-275">Há um claro **caminho da ação** a ser tomado assim que a previsão estiver disponível.</span><span class="sxs-lookup"><span data-stu-id="29b45-275">There is a clear **path of action** to be taken once the prediction is available.</span></span> <span data-ttu-id="29b45-276">Por exemplo, prever uma sobrecarga em uma subestação durante a próxima hora pode disparar uma ação proativa de redução da carga associada à subestação, potencialmente impedindo uma sobrecarga.</span><span class="sxs-lookup"><span data-stu-id="29b45-276">For example, predicting an overload on a substation during the next hour can trigger a proactive action of reducing load that is associated with that substation and thus potentially preventing an overload.</span></span>
* <span data-ttu-id="29b45-277">O caso de uso representa um **tipo de problema típico** de modo que, quando resolvido, pode preparar o caminho para solucionar outros casos de uso semelhantes.</span><span class="sxs-lookup"><span data-stu-id="29b45-277">The use case represents a **typical type of problem** such that when solved it can pave the way to solving other similar use cases.</span></span>
* <span data-ttu-id="29b45-278">O cliente pode definir **metas quantitativas e qualitativas** para demonstrar a implementação de uma solução bem-sucedida.</span><span class="sxs-lookup"><span data-stu-id="29b45-278">The customer can set **quantitative and qualitative goals** to demonstrate a successful solution implementation.</span></span> <span data-ttu-id="29b45-279">Por exemplo, uma boa meta quantitativa para a previsão da demanda de energia seria o limite de precisão necessária (*por exemplo*, um erro de até 5% é permitido) ou na previsão da sobrecarga da subestação, a precisão (taxa de verdadeiros positivos) e a recuperação (extensão de verdadeiros positivos) deveriam ficar acima de um determinado limite.</span><span class="sxs-lookup"><span data-stu-id="29b45-279">For example, a good quantitative goal for energy demand forecast would be the required accuracy threshold (*e.g.*, up to 5% error is allowed) or when predicting substation overload then the precision (rate of true positives) and recall (extent of true positives) should be above a given threshold.</span></span> <span data-ttu-id="29b45-280">Essas metas devem ser derivadas de metas de negócios do cliente.</span><span class="sxs-lookup"><span data-stu-id="29b45-280">These goals should be derived from the customer's business goals.</span></span>
* <span data-ttu-id="29b45-281">Há um claro **cenário de integração** com o fluxo de trabalho de negócios da empresa.</span><span class="sxs-lookup"><span data-stu-id="29b45-281">There is a clear **integration scenario** with the company's business workflow.</span></span> <span data-ttu-id="29b45-282">Por exemplo, a previsão de carga da subestação pode ser integrada à central de controle da rede para permitir atividades de prevenção de sobrecarga.</span><span class="sxs-lookup"><span data-stu-id="29b45-282">For example, the substation load forecast can be integrated into the grid control center to allow overload prevention activities.</span></span>
* <span data-ttu-id="29b45-283">O cliente tem **dados com qualidade suficiente** prontos para uso para dar suporte ao caso de uso (veja mais na próxima seção, **Qualidade de Dados**, neste manual).</span><span class="sxs-lookup"><span data-stu-id="29b45-283">The customer has ready to use **data with sufficient quality** to support the use case (see more in the next section, **Data Quality**, of this playbook).</span></span>
* <span data-ttu-id="29b45-284">O cliente adota a arquitetura de dados centrada na nuvem ou o **aprendizado de máquina baseado em nuvem**, incluindo o AM do Azure e outros componentes do Cortana Intelligence Suite.</span><span class="sxs-lookup"><span data-stu-id="29b45-284">The customer embraces cloud centric data architecture or **cloud-based machine learning**, including Azure ML and other Cortana Intelligence Suite components.</span></span>
* <span data-ttu-id="29b45-285">O cliente está disposto a estabelecer **um fluxo de dados completo** que facilite a entrega de dados na nuvem de forma contínua e está disposto a **operacionalizar** a solução.</span><span class="sxs-lookup"><span data-stu-id="29b45-285">The customer is willing to establish **an end to end data flow** that facilities the delivery of data into the cloud on an ongoing basis, and is willing to **operationalize** the solution.</span></span>
* <span data-ttu-id="29b45-286">O cliente está pronto para **dedicar recursos** que serão ativamente envolvidos durante a implementação piloto inicial para que o conhecimento e a propriedade da solução possam ser transferidos para o cliente após a conclusão bem-sucedida.</span><span class="sxs-lookup"><span data-stu-id="29b45-286">The customer is ready to **dedicate resources** who will be actively engaged during the initial pilot implementation so that knowledge and ownership of the solution can be transferred to the customer upon successful completion.</span></span>
* <span data-ttu-id="29b45-287">O recurso do cliente deve ser um **profissional de dados experiente**, preferencialmente um cientista de dados.</span><span class="sxs-lookup"><span data-stu-id="29b45-287">The customer resource should be a **skilled data professional**, preferably a data scientist.</span></span>

<span data-ttu-id="29b45-288">A qualificação de um caso de uso baseado nos critérios acima pode melhorar significativamente as taxas de êxito de um caso de uso e estabelecer uma boa base para a implementação de casos de uso futuros.</span><span class="sxs-lookup"><span data-stu-id="29b45-288">Qualification of a use case based on the above criteria can greatly improve the success rates of a use case and establish a good beachhead for the implementation of future use cases.</span></span>

### <a name="cloud-based-solutions"></a><span data-ttu-id="29b45-289">Soluções Baseadas em Nuvem</span><span class="sxs-lookup"><span data-stu-id="29b45-289">Cloud-Based Solutions</span></span>
<span data-ttu-id="29b45-290">O Cortana Intelligence Suite no Azure é um ambiente integrado que reside na nuvem.</span><span class="sxs-lookup"><span data-stu-id="29b45-290">Cortana Intelligence Suite on Azure is an integrated environment that resides in the cloud.</span></span> <span data-ttu-id="29b45-291">A implantação de uma solução de análise avançada em um ambiente de nuvem contém benefícios substanciais para as empresas e, ao mesmo tempo, pode significar uma grande mudança para as empresas que ainda usam soluções de TI locais.</span><span class="sxs-lookup"><span data-stu-id="29b45-291">The deployment of an advanced analytics solution in a cloud environment holds substantial benefits for businesses and at the same time may mean big change for companies that still use on-premises IT solutions.</span></span> <span data-ttu-id="29b45-292">No setor de energia, há uma clara tendência de migração gradual de operações para a nuvem.</span><span class="sxs-lookup"><span data-stu-id="29b45-292">Within the energy sector, there is a clear trend of gradual migration of operations into the cloud.</span></span> <span data-ttu-id="29b45-293">Essa tendência anda de mãos dadas com o desenvolvimento da rede inteligente, como discutido acima, em **Tendências do Setor**.</span><span class="sxs-lookup"><span data-stu-id="29b45-293">This trend goes hand in hand along with the development of the smart grid as discussed above, in **Industry Trends**.</span></span> <span data-ttu-id="29b45-294">Como este manual se concentra em uma solução baseada em nuvem no domínio de energia, é importante explicar os benefícios e outras considerações de implantação de uma solução baseada em nuvem.</span><span class="sxs-lookup"><span data-stu-id="29b45-294">As this playbook is focused on a cloud-based solution in the energy domain, it is important to explain the benefits and other considerations of deploying a cloud-based solution.</span></span>

<span data-ttu-id="29b45-295">Talvez a maior vantagem de uma solução baseada em nuvem seja o custo.</span><span class="sxs-lookup"><span data-stu-id="29b45-295">Perhaps the biggest advantage of a cloud-based solution is the cost.</span></span> <span data-ttu-id="29b45-296">Como as soluções utilizam componentes implantados na nuvem, não há custos iniciais ou COGS (Custo dos Bens Vendidos) associados a elas.</span><span class="sxs-lookup"><span data-stu-id="29b45-296">As a solution makes use of cloud-deployed components, there is no upfront costs or COGS (Cost of Goods Sold) component costs associated with it.</span></span> <span data-ttu-id="29b45-297">Isso significa que não é necessário investir em hardware, software e na manutenção de TI e, portanto, há uma redução substancial dos riscos para o negócio.</span><span class="sxs-lookup"><span data-stu-id="29b45-297">That means that there is no need to invest in hardware, software, and IT maintenance, and therefore there is a substantial reduction in business risk.</span></span>

<span data-ttu-id="29b45-298">Outra vantagem importante é a estrutura de custo pré-pago das soluções baseadas em nuvem.</span><span class="sxs-lookup"><span data-stu-id="29b45-298">Another important advantage is the pay-as-you-go cost structure of cloud-based solutions.</span></span> <span data-ttu-id="29b45-299">Os servidores baseados em nuvem para computação ou armazenamento podem ser implantados e dimensionados conforme o necessário.</span><span class="sxs-lookup"><span data-stu-id="29b45-299">Cloud-based servers for computing or storage can be deployed and scaled on a just-as-needed basis.</span></span> <span data-ttu-id="29b45-300">Isso representa a vantagem da eficiência de custo de uma solução baseada em nuvem.</span><span class="sxs-lookup"><span data-stu-id="29b45-300">This represents the cost efficiency advantage of a cloud-based solution.</span></span>

<span data-ttu-id="29b45-301">Por fim, não há necessidade de investir em manutenção de TI ou em desenvolvimento de infraestrutura futura, já que tudo isso faz parte da oferta baseada em nuvem.</span><span class="sxs-lookup"><span data-stu-id="29b45-301">Finally, there is no need for investing in IT maintenance or future infrastructure development as all this is part of the cloud-based offering.</span></span> <span data-ttu-id="29b45-302">Nesta medida, o Cortana Intelligence Suite inclui os melhores serviços e seu roteiro se mantém em evolução.</span><span class="sxs-lookup"><span data-stu-id="29b45-302">To that extent, Cortana Intelligence Suite includes the best in class services and its road map keeps evolving.</span></span> <span data-ttu-id="29b45-303">Novos recursos e componentes são constantemente introduzidos e evoluem.</span><span class="sxs-lookup"><span data-stu-id="29b45-303">New features, components, and capabilities are constantly being introduced and evolve.</span></span>

<span data-ttu-id="29b45-304">Para uma empresa que esteja iniciando sua transição para a nuvem, é altamente recomendável adotar uma abordagem gradual ao implementar um roteiro de migração na nuvem.</span><span class="sxs-lookup"><span data-stu-id="29b45-304">For a company that is just starting its transition into the cloud, we are highly recommending to take a gradual approach by implementing a cloud migration road map.</span></span> <span data-ttu-id="29b45-305">Acreditamos que, para empresas de serviços e para as empresas no domínio de energia, os casos de uso abordados neste manual representam uma excelente oportunidade para a criação de pilotos de soluções de análise preditiva na nuvem.</span><span class="sxs-lookup"><span data-stu-id="29b45-305">We believe that for utilities and companies in the energy domain, the use cases that are discussed in this playbook represent an excellent opportunity for piloting predictive analytics solutions in the cloud.</span></span>

#### <a name="business-case-justification-considerations"></a><span data-ttu-id="29b45-306">Considerações sobre a Justificativa de Casos de Negócios</span><span class="sxs-lookup"><span data-stu-id="29b45-306">Business Case Justification Considerations</span></span>
<span data-ttu-id="29b45-307">Em muitos casos, o cliente pode estar interessado em criar uma justificativa de negócios para um determinado caso de uso em que uma solução baseada em nuvem e o Machine Learning são componentes importantes.</span><span class="sxs-lookup"><span data-stu-id="29b45-307">In many cases, the customer may be interested in making a business justification for a given use case in which a cloud-based solution and Machine Learning are important components.</span></span> <span data-ttu-id="29b45-308">Ao contrário de uma solução local, no caso de uma solução baseada em nuvem, o componente de custo inicial é mínimo e a maioria dos elementos de custo está associada ao uso real.</span><span class="sxs-lookup"><span data-stu-id="29b45-308">Unlike an on-premises solution, in the case of a cloud-based solution, the upfront cost component is minimal and most of the cost elements are associated with actual usage.</span></span> <span data-ttu-id="29b45-309">Quando se trata de implantar uma solução de previsão de energia no Cortana Intelligence Suite, vários serviços podem ser integrados a uma única estrutura de custo comum.</span><span class="sxs-lookup"><span data-stu-id="29b45-309">When it comes to deploying an energy forecasting solution on Cortana Intelligence Suite, multiple services can be integrated with a single common cost structure.</span></span> <span data-ttu-id="29b45-310">Por exemplo, os bancos de dados (*por exemplo*, o SQL Azure) podem ser usados para armazenar os dados brutos e, para as previsões reais, o AM do Azure será usado para hospedar os serviços de previsão.</span><span class="sxs-lookup"><span data-stu-id="29b45-310">For example, databases (*e.g.*, SQL Azure) can be used to store the raw data and then for the actual forecasts Azure ML is used to host the forecasting services.</span></span> <span data-ttu-id="29b45-311">Neste exemplo, a estrutura de custo poderia incluir componentes transacionais e de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="29b45-311">In this example, the cost structure could include storage and transactional components.</span></span>

<span data-ttu-id="29b45-312">Por outro lado, você deve ter uma boa compreensão do valor de negócio da operação de uma previsão de demanda de energia (a curto ou a longo prazo).</span><span class="sxs-lookup"><span data-stu-id="29b45-312">On the other hand, one should have a good understanding of the business value of operating an energy demand forecasting (short or long term).</span></span> <span data-ttu-id="29b45-313">Na verdade, é importante perceber o valor de negócio de cada operação de previsão.</span><span class="sxs-lookup"><span data-stu-id="29b45-313">In fact, it is important to realize the business value of each forecast operation.</span></span> <span data-ttu-id="29b45-314">Por exemplo, prever uma carga de energia para as próximas 24 horas com precisão pode impedir a produção em excesso ou pode ajudar a impedir sobrecargas na rede, Isso pode ser quantificado em termos de economia financeira diariamente.</span><span class="sxs-lookup"><span data-stu-id="29b45-314">For example, accurately forecasting power load for the next 24 hours can prevent overproduction or can help prevent overloads on the grid and this can be quantified in terms of financial savings on a daily basis.</span></span>

<span data-ttu-id="29b45-315">Uma fórmula básica para calcular as vantagens financeiras de demanda de previsão solução seria: ![Fórmula básica para calcular as vantagens financeiras da solução de previsão de demanda](media/cortana-analytics-playbook-demand-forecasting-energy/financial-benefit-formula.png)</span><span class="sxs-lookup"><span data-stu-id="29b45-315">A basic formula for calculating the financial benefit of demand forecast solution would be: ![Basic formula for calculating the financial benefit of demand forecast solution](media/cortana-analytics-playbook-demand-forecasting-energy/financial-benefit-formula.png)</span></span>

<span data-ttu-id="29b45-316">Como o Cortana Intelligence Suite fornece um modelo de preços pré-pagos, não é necessário incorrer em um componente de custo fixo para essa fórmula.</span><span class="sxs-lookup"><span data-stu-id="29b45-316">Since Cortana Intelligence Suite provides a pay-as-you-go pricing model, there is no need for incurring a fixed cost component to this formula.</span></span> <span data-ttu-id="29b45-317">Esta fórmula pode ser calculada de forma diária, mensal ou anual.</span><span class="sxs-lookup"><span data-stu-id="29b45-317">This formula can be calculated on a daily, monthly, or annual basis.</span></span>

<span data-ttu-id="29b45-318">Os planos de preços atuais do Cortana Intelligence Suite e do AM do Azure podem ser encontrados [aqui](http://azure.microsoft.com/pricing/details/machine-learning/).</span><span class="sxs-lookup"><span data-stu-id="29b45-318">Current Cortana Intelligence Suite and Azure ML pricing plans can be found [here](http://azure.microsoft.com/pricing/details/machine-learning/).</span></span>

### <a name="solution-development-process"></a><span data-ttu-id="29b45-319">Processo de Desenvolvimento da Solução</span><span class="sxs-lookup"><span data-stu-id="29b45-319">Solution Development Process</span></span>
<span data-ttu-id="29b45-320">O ciclo de desenvolvimento de uma solução de previsão de demanda de energia geralmente envolve quatro fases, em que usamos as tecnologias e os serviços baseados em nuvem do Cortana Intelligence Suite.</span><span class="sxs-lookup"><span data-stu-id="29b45-320">The development cycle of an energy demand forecasting solution typically involves 4 phases, in all of which we make use of cloud-based technologies and services within the Cortana Intelligence Suite.</span></span>

<span data-ttu-id="29b45-321">Isso é ilustrado no diagrama a seguir:</span><span class="sxs-lookup"><span data-stu-id="29b45-321">This is illustrated in the following diagram:</span></span>

![Ciclo de Rede Inteligente](media/cortana-analytics-playbook-demand-forecasting-energy/smart-grid-cycle.png)

<span data-ttu-id="29b45-323">O parágrafo a seguir descreve esse processo da 4 etapas:</span><span class="sxs-lookup"><span data-stu-id="29b45-323">The following paragraph describes this 4 step process:</span></span>

1. <span data-ttu-id="29b45-324">**Coleta de Dados** – qualquer solução baseada em análise avançada baseia-se em dados (veja **Noções básicas sobre dados**).</span><span class="sxs-lookup"><span data-stu-id="29b45-324">**Data Collection** – Any advanced analytics based solution relies on data (see **Data Understanding**).</span></span> <span data-ttu-id="29b45-325">Especificamente, quando se trata de análise preditiva e de previsão, nos baseamos em um fluxo de dados dinâmico e contínuo.</span><span class="sxs-lookup"><span data-stu-id="29b45-325">Specifically, when it comes to predictive analytics and forecasting, we rely on ongoing, dynamic flow of data.</span></span> <span data-ttu-id="29b45-326">No caso da previsão de demanda de energia, esses dados podem ser obtidos diretamente dos medidores inteligentes ou já podem estar agregados a um banco de dados local.</span><span class="sxs-lookup"><span data-stu-id="29b45-326">In the case of energy demand forecasting, this data can be sourced directly from smart meters, or be already aggregated on an on-prem database.</span></span> <span data-ttu-id="29b45-327">Nós também utilizamos fontes de dados externas, como o clima e a temperatura.</span><span class="sxs-lookup"><span data-stu-id="29b45-327">We also rely on other external sources of data such as weather and temperature.</span></span> <span data-ttu-id="29b45-328">Esse fluxo contínuo de dados deve ser organizado, agendado e armazenado.</span><span class="sxs-lookup"><span data-stu-id="29b45-328">This ongoing flow of data must be orchestrated, scheduled, and stored.</span></span> <span data-ttu-id="29b45-329">[Data Factory do Azure](http://azure.microsoft.com/services/data-factory/) (ADF) é a nossa força de trabalho principal para realizar essa tarefa.</span><span class="sxs-lookup"><span data-stu-id="29b45-329">[Azure Data Factory](http://azure.microsoft.com/services/data-factory/) (ADF) is our main workhorse for accomplishing this task.</span></span>
2. <span data-ttu-id="29b45-330">**Modelagem** – para previsões de energia precisas e confiáveis, você deve desenvolver (treinar) e manter um excelente modelo que use os dados históricos e extraia os padrões significativos e de previsão dos dados.</span><span class="sxs-lookup"><span data-stu-id="29b45-330">**Modeling** – For accurate and reliable energy forecasts, one must develop (train) and maintain a great model that makes use of the historical data and extracts the meaningful and predictive patterns in the data.</span></span> <span data-ttu-id="29b45-331">A área do Machine Learning (ML) tem crescido rapidamente com algoritmos mais avançados, desenvolvidos de forma rotineira.</span><span class="sxs-lookup"><span data-stu-id="29b45-331">The area of Machine Learning (ML) has been growing rapidly with more advanced algorithms being routinely developed.</span></span> <span data-ttu-id="29b45-332">O Estúdio AM do Azure fornece uma excelente experiência de usuário que ajuda a utilizar os algoritmos de AM mais avançados em um fluxo de trabalho completo.</span><span class="sxs-lookup"><span data-stu-id="29b45-332">Azure ML Studio provides a great user experience that helps utilize the most advanced ML algorithms within a complete work flow.</span></span> <span data-ttu-id="29b45-333">Esse fluxo de trabalho é ilustrado em um diagrama de fluxo intuitivo e inclui a preparação de dados, extração de recursos, modelagem e avaliação de modelos.</span><span class="sxs-lookup"><span data-stu-id="29b45-333">That workflow is illustrated in an intuitive flow diagram and includes the data preparation, feature extraction, modeling, and model evaluation.</span></span> <span data-ttu-id="29b45-334">O usuário pode reunir centenas de modelos variados que estão incluídos nesse ambiente.</span><span class="sxs-lookup"><span data-stu-id="29b45-334">The user can pull in hundreds of various models that are included in this environment.</span></span> <span data-ttu-id="29b45-335">Até o final dessa fase, um cientista de dados terá um modelo de trabalho completamente avaliado e pronto para implantação.</span><span class="sxs-lookup"><span data-stu-id="29b45-335">By the end of this phase a data scientist will have a working model that is fully evaluated and ready for deployment.</span></span>
   
   <span data-ttu-id="29b45-336">O diagrama a seguir é uma ilustração de um fluxo de trabalho típico:</span><span class="sxs-lookup"><span data-stu-id="29b45-336">The following diagram is an illustration of a typical workflow:</span></span>
   
   ![Fluxo de Trabalho de Modelagem](media/cortana-analytics-playbook-demand-forecasting-energy/modeling-workflow.png)
3. <span data-ttu-id="29b45-338">**Implantação** – com um modelo de trabalho em mãos, a próxima etapa será a implantação.</span><span class="sxs-lookup"><span data-stu-id="29b45-338">**Deployment** – With a working model in hand, the next step is deployment.</span></span> <span data-ttu-id="29b45-339">Aqui, o modelo é convertido em um serviço Web que expõe uma API RESTful que pode ser invocada simultaneamente pela Internet de vários clientes de consumo.</span><span class="sxs-lookup"><span data-stu-id="29b45-339">Here the model is converted into a web service that exposes a RESTful API that can be concurrently invoked over the     Internet from various consumption clients.</span></span> <span data-ttu-id="29b45-340">O AM do Azure fornece uma maneira simples de implantar um modelo diretamente do Estúdio AM do Azure com um único clique de botão.</span><span class="sxs-lookup"><span data-stu-id="29b45-340">Azure ML provides a simple way of deploying a model directly from the Azure ML Studio with a single click of a button.</span></span> <span data-ttu-id="29b45-341">Todo o processo de implantação acontece nos bastidores.</span><span class="sxs-lookup"><span data-stu-id="29b45-341">The entire deployment process happens under the hood.</span></span> <span data-ttu-id="29b45-342">Essa solução pode ser automaticamente dimensionada para atingir o consumo necessário.</span><span class="sxs-lookup"><span data-stu-id="29b45-342">This solution can automatically scale to meet the required consumption.</span></span>
4. <span data-ttu-id="29b45-343">**Consumo** – nesta fase, podemos realmente usar o modelo de previsão para produzir previsões.</span><span class="sxs-lookup"><span data-stu-id="29b45-343">**Consumption** – In this phase, we actually make use of the forecasting model to produce predictions.</span></span> <span data-ttu-id="29b45-344">O consumo pode ser gerado por um aplicativo do usuário (*por exemplo*, um painel) ou diretamente de um sistema operacional como um sistema de equilíbrio de demanda/fornecimento ou de uma solução de otimização de rede.</span><span class="sxs-lookup"><span data-stu-id="29b45-344">The consumption can be driven from a user application (*e.g.*, dashboard) or directly from an operational system such as demand/supply balancing system or a grid optimization solution.</span></span> <span data-ttu-id="29b45-345">Vários casos de uso podem ser obtidos de um único modelo.</span><span class="sxs-lookup"><span data-stu-id="29b45-345">Multiple use cases can be driven from a single model.</span></span>

## <a name="data-understanding"></a><span data-ttu-id="29b45-346">Noções básicas sobre dados</span><span class="sxs-lookup"><span data-stu-id="29b45-346">Data Understanding</span></span>
<span data-ttu-id="29b45-347">Depois de abordar as considerações de negócios (veja **Noções Básicas sobre Negócios**) de uma solução de previsão de demanda de energia, agora estamos prontos para discutir a parte de dados.</span><span class="sxs-lookup"><span data-stu-id="29b45-347">After covering the business considerations (see **Business Understanding**) of an energy demand forecasting solution, we are now ready to discuss the data part.</span></span> <span data-ttu-id="29b45-348">Qualquer solução de análise preditiva se baseia em dados confiáveis.</span><span class="sxs-lookup"><span data-stu-id="29b45-348">Any predictive analytics solution relies on reliable data.</span></span> <span data-ttu-id="29b45-349">Para a previsão de demanda de energia, podemos contar com dados históricos de consumo com vários níveis de granularidade.</span><span class="sxs-lookup"><span data-stu-id="29b45-349">For energy demand forecasting, we rely on historical consumption data with various levels of granularity.</span></span> <span data-ttu-id="29b45-350">Esses dados históricos são usados como matéria-prima.</span><span class="sxs-lookup"><span data-stu-id="29b45-350">That historical data is used as the raw material.</span></span> <span data-ttu-id="29b45-351">Eles passarão por uma análise cuidadosa na qual o cientista de dados identificará indicadores (também conhecidos como recursos) que poderão ser colocados em um modelo que, eventualmente, gerará as previsões necessárias.</span><span class="sxs-lookup"><span data-stu-id="29b45-351">It will undergo a careful analysis in which the data scientist will identify predictors (also referred to as features) that can be put into a model which will eventually generate the required forecasts.</span></span>

<span data-ttu-id="29b45-352">No restante desta seção, descreveremos as diversas etapas e considerações para entender os dados e como colocá-los em um formato utilizável.</span><span class="sxs-lookup"><span data-stu-id="29b45-352">In the rest of this section, we will describe the various steps and considerations for understanding the data and how to bring it to a usable form.</span></span>

### <a name="the-model-development-cycle"></a><span data-ttu-id="29b45-353">O Ciclo de Desenvolvimento do Modelo</span><span class="sxs-lookup"><span data-stu-id="29b45-353">The Model Development Cycle</span></span>
<span data-ttu-id="29b45-354">A produção de bons modelos requer uma preparação e um planejamento cuidadosos.</span><span class="sxs-lookup"><span data-stu-id="29b45-354">Producing good forecasting models requires some careful preparation and planning.</span></span> <span data-ttu-id="29b45-355">A divisão do processo de modelagem em várias etapas e a concentração em uma etapa por vez pode aprimorar drasticamente o resultado de todo o processo.</span><span class="sxs-lookup"><span data-stu-id="29b45-355">Breaking down the modeling process into multiple steps and focusing on one step at a time could dramatically improve the outcome of the entire process.</span></span>

<span data-ttu-id="29b45-356">O diagrama a seguir ilustra como o processo de modelagem pode ser dividido em várias etapas:</span><span class="sxs-lookup"><span data-stu-id="29b45-356">The following diagram illustrates how the modeling process could be broken down into multiple steps:</span></span>

![Ciclo de Desenvolvimento do Modelo](media/cortana-analytics-playbook-demand-forecasting-energy/model-development-cycle.png)

<span data-ttu-id="29b45-358">Como se pode ver, o ciclo consiste em seis etapas:</span><span class="sxs-lookup"><span data-stu-id="29b45-358">As can be seen the cycle consists of six steps:</span></span>

* <span data-ttu-id="29b45-359">Formulação do problema</span><span class="sxs-lookup"><span data-stu-id="29b45-359">Problem formulation</span></span>
* <span data-ttu-id="29b45-360">Ingestão de dados e exploração de dados</span><span class="sxs-lookup"><span data-stu-id="29b45-360">Data ingestion and data exploration</span></span>
* <span data-ttu-id="29b45-361">Preparação de dados e engenharia de recursos</span><span class="sxs-lookup"><span data-stu-id="29b45-361">Data preparation and feature engineering</span></span>
* <span data-ttu-id="29b45-362">Modelagem</span><span class="sxs-lookup"><span data-stu-id="29b45-362">Modeling</span></span>
* <span data-ttu-id="29b45-363">Avaliação do modelo</span><span class="sxs-lookup"><span data-stu-id="29b45-363">Model evaluation</span></span>
* <span data-ttu-id="29b45-364">Desenvolvimento</span><span class="sxs-lookup"><span data-stu-id="29b45-364">Development</span></span>

<span data-ttu-id="29b45-365">No restante desta seção, descreveremos as etapas individuais e os itens a serem considerados em cada etapa.</span><span class="sxs-lookup"><span data-stu-id="29b45-365">In the rest of this section we will describe the individual steps and items to consider at each step.</span></span>

### <a name="problem-formulation"></a><span data-ttu-id="29b45-366">Formulação do problema</span><span class="sxs-lookup"><span data-stu-id="29b45-366">Problem Formulation</span></span>
<span data-ttu-id="29b45-367">Podemos considerar a formulação do problema como a etapa mais crítica pela qual alguém precisa passar antes de implementar qualquer solução de análise preditiva.</span><span class="sxs-lookup"><span data-stu-id="29b45-367">We can consider the problem formulation as the most critical step one needs to take prior to implementing any predictive analytics solution.</span></span> <span data-ttu-id="29b45-368">Aqui, transformaríamos o problema de negócios e o decomporíamos em elementos específicos, que poderiam ser solucionados com os dados e as técnicas de modelagem.</span><span class="sxs-lookup"><span data-stu-id="29b45-368">Here we would transform the business problem and decompose it to specific elements which can be solved by using data and modeling techniques.</span></span> <span data-ttu-id="29b45-369">É uma boa prática formular o problema como um conjunto de perguntas que gostaríamos de responder.</span><span class="sxs-lookup"><span data-stu-id="29b45-369">It is a good practice to formulate the problem as a set of questions we would like to answer.</span></span> <span data-ttu-id="29b45-370">Veja algumas perguntas possíveis que podem ser aplicáveis ao escopo de previsão da demanda de energia:</span><span class="sxs-lookup"><span data-stu-id="29b45-370">Here are some possible questions that might be applicable within the scope of energy demand forecasting:</span></span>

* <span data-ttu-id="29b45-371">Qual é a carga esperada em uma subestação individual na próxima hora ou no próximo dia?</span><span class="sxs-lookup"><span data-stu-id="29b45-371">What is the expected load on an individual substation in the next hour or day?</span></span>
* <span data-ttu-id="29b45-372">A que hora do dia minha rede sofrerá a demanda de pico?</span><span class="sxs-lookup"><span data-stu-id="29b45-372">At what time of the day will my grid experience peak demand?</span></span>
* <span data-ttu-id="29b45-373">Qual é a probabilidade da minha rede manter a carga de pico esperada?</span><span class="sxs-lookup"><span data-stu-id="29b45-373">How likely is my grid to sustain the expected peak load?</span></span>
* <span data-ttu-id="29b45-374">Quanta energia a estação de energia deverá gerar durante cada hora do dia?</span><span class="sxs-lookup"><span data-stu-id="29b45-374">How much power should the power station generate during each hour of the day?</span></span>

<span data-ttu-id="29b45-375">A formulação dessas perguntas permite que nos concentremos na obtenção dos dados corretos e na implementação de uma solução totalmente alinhada aos problemas de negócios em questão.</span><span class="sxs-lookup"><span data-stu-id="29b45-375">Formulating these questions allows us to focus on getting the right data and implementing a solution that is fully aligned with the business problem at hand.</span></span> <span data-ttu-id="29b45-376">Além disso, poderemos assim definir algumas métricas chave que nos permitirão avaliar o desempenho do modelo.</span><span class="sxs-lookup"><span data-stu-id="29b45-376">Furthermore, we can then set some key metrics that allow us to evaluate the performance of the model.</span></span> <span data-ttu-id="29b45-377">Por exemplo, que grau de exatidão a previsão deverá ter e qual é o intervalo de erros que ainda seria aceitável para a empresa?</span><span class="sxs-lookup"><span data-stu-id="29b45-377">For example, how accurate should the forecast be and what is the range of error that would still be acceptable by the business?</span></span>

### <a name="data-sources"></a><span data-ttu-id="29b45-378">Fontes de dados</span><span class="sxs-lookup"><span data-stu-id="29b45-378">Data Sources</span></span>
<span data-ttu-id="29b45-379">A rede inteligente moderna coleta dados de várias partes e componentes da rede.</span><span class="sxs-lookup"><span data-stu-id="29b45-379">The modern smart grid collects data from various parts and components of the grid.</span></span> <span data-ttu-id="29b45-380">Esses dados representam vários aspectos da operação e da utilização da rede de energia.</span><span class="sxs-lookup"><span data-stu-id="29b45-380">This data represents various aspects of the operation and the utilization of the power grid.</span></span> <span data-ttu-id="29b45-381">No escopo da previsão da demanda de energia, estamos limitando a discussão a fontes de dados que reflitam o consumo de demanda real.</span><span class="sxs-lookup"><span data-stu-id="29b45-381">Within the scope of the energy demand forecast, we are limiting the discussion on data sources that reflect the actual demand consumption.</span></span> <span data-ttu-id="29b45-382">Uma fonte do consumo de energia importante é composta pelos medidores inteligentes.</span><span class="sxs-lookup"><span data-stu-id="29b45-382">One important source of energy consumption are smart meters.</span></span> <span data-ttu-id="29b45-383">As empresas de serviços em todo o mundo têm implantado medidores inteligentes para seus consumidores.</span><span class="sxs-lookup"><span data-stu-id="29b45-383">Utilities around the globe are rapidly deploying smart meters for their consumers.</span></span> <span data-ttu-id="29b45-384">Os medidores inteligentes registram o consumo de energia real e retransmitem constantemente esses dados à empresa de serviço.</span><span class="sxs-lookup"><span data-stu-id="29b45-384">Smart meters record the actual power consumption and constantly relay this data back to the utility company.</span></span> <span data-ttu-id="29b45-385">Os dados são coletados e enviados de volta em um intervalo fixo, desde a cada cinco minutos até a cada hora.</span><span class="sxs-lookup"><span data-stu-id="29b45-385">Data is collected and sent back at a fixed interval, ranging from every 5 minutes to 1 hour.</span></span> <span data-ttu-id="29b45-386">Medidores inteligentes mais avançados podem ser programados remotamente para controlar e equilibrar o consumo real em uma casa.</span><span class="sxs-lookup"><span data-stu-id="29b45-386">More advanced smart meters can be programmed remotely to control and balance the actual consumption within a household.</span></span> <span data-ttu-id="29b45-387">Os dados dos medidores inteligentes são relativamente confiáveis e incluem um carimbo de data/hora.</span><span class="sxs-lookup"><span data-stu-id="29b45-387">Smart meter data is relatively reliable and includes a time stamp.</span></span> <span data-ttu-id="29b45-388">Dessa maneira, é um ingrediente importante para a previsão da demanda.</span><span class="sxs-lookup"><span data-stu-id="29b45-388">That makes it an important ingredient for demand forecast.</span></span> <span data-ttu-id="29b45-389">Os dados do medidor podem ser agregados (somados) em vários níveis na topologia da rede: transformador, subestação, região *etc*. Podemos então escolher o nível de agregação necessária para criar um modelo de previsão para ele.</span><span class="sxs-lookup"><span data-stu-id="29b45-389">Meter data can be aggregated (summed up) at various levels within the grid topology: transformer, substation, region, *etc*. We can then pick the required aggregation level to build a forecasting model for it.</span></span> <span data-ttu-id="29b45-390">Por exemplo, se a empresa de serviço quiser prever a carga futura em cada uma das subestações da rede, então todos os dados dos medidores poderão ser agregados para cada subestação individual e usados como uma entrada para o modelo de previsão.</span><span class="sxs-lookup"><span data-stu-id="29b45-390">For example, if the utility company would like to forecast future load on each of its grid substations then all meters' data can be aggregated for each individual substation and used as an input for the forecasting model.</span></span> <span data-ttu-id="29b45-391">Podemos nos referir aos medidores inteligentes como uma fonte de dados interna.</span><span class="sxs-lookup"><span data-stu-id="29b45-391">We refer to smart meters as an internal data source.</span></span>

<span data-ttu-id="29b45-392">Uma previsão de demanda de energia confiável também se baseará em outras fontes de dados externas.</span><span class="sxs-lookup"><span data-stu-id="29b45-392">A reliable energy demand forecast will also rely on other external data sources.</span></span> <span data-ttu-id="29b45-393">Um importante fator que afeta o consumo de energia é o clima ou, mais precisamente, a temperatura.</span><span class="sxs-lookup"><span data-stu-id="29b45-393">One important factor that affects power consumption is the weather, or more precisely the temperature.</span></span> <span data-ttu-id="29b45-394">Os dados históricos mostram uma forte correlação entre a temperatura externa e o consumo de energia.</span><span class="sxs-lookup"><span data-stu-id="29b45-394">Historical data shows strong correlation between outside temperature and power consumption.</span></span> <span data-ttu-id="29b45-395">Nos dias quentes de verão, os consumidores usarão seus aparelhos de ar-condicionado e, durante o inverno, usarão os sistemas de energia ou de aquecimento.</span><span class="sxs-lookup"><span data-stu-id="29b45-395">During hot summer days, consumers make use of their air conditioners and during the winter power on heating systems.</span></span> <span data-ttu-id="29b45-396">Portanto, uma fonte confiável de temperaturas históricas no local da rede é fundamental.</span><span class="sxs-lookup"><span data-stu-id="29b45-396">A reliable source of historical temperatures at the grid location is therefore key.</span></span> <span data-ttu-id="29b45-397">Além disso, também contamos com a previsão exata da temperatura como um indicador do consumo de energia.</span><span class="sxs-lookup"><span data-stu-id="29b45-397">Furthermore, we also rely on accurate forecast of temperature as a predictor of power consumption.</span></span>

<span data-ttu-id="29b45-398">Outras fontes de dados externas também podem ajudar na criação de modelos de previsão de demanda de energia.</span><span class="sxs-lookup"><span data-stu-id="29b45-398">Other external data sources can also help in building energy demand forecast models.</span></span> <span data-ttu-id="29b45-399">Elas podem incluir alterações de clima a longo prazo, índices econômicos (*por exemplo*, o PIB), entre outros.</span><span class="sxs-lookup"><span data-stu-id="29b45-399">These may include long term climate changes, economical indexes (*e.g.*, GDP), and others.</span></span> <span data-ttu-id="29b45-400">Neste documento, não incluiremos essas fontes de dados.</span><span class="sxs-lookup"><span data-stu-id="29b45-400">In this document we will not include these other data sources.</span></span>

### <a name="data-structure"></a><span data-ttu-id="29b45-401">Estrutura de Dados</span><span class="sxs-lookup"><span data-stu-id="29b45-401">Data Structure</span></span>
<span data-ttu-id="29b45-402">Depois de identificar as fontes de dados necessárias, gostaríamos de garantir que os dados brutos coletados incluíssem os recursos de dados corretos.</span><span class="sxs-lookup"><span data-stu-id="29b45-402">After identifying the required data sources, we would like to ensure that raw data that has been collected includes the correct data features.</span></span> <span data-ttu-id="29b45-403">Para criar um modelo de previsão de demanda confiável, teríamos que garantir que os dados coletados incluíssem elementos de dados que poderiam ajudar a prever a demanda futura.</span><span class="sxs-lookup"><span data-stu-id="29b45-403">To build a reliable demand forecast model, we would need to ensure that the data collected includes data elements that can help predict the future demand.</span></span> <span data-ttu-id="29b45-404">Veja alguns requisitos básicos sobre a estrutura de dados (esquema) dos dados brutos.</span><span class="sxs-lookup"><span data-stu-id="29b45-404">Here are some basic requirements concerning the data structure (schema) of the raw data.</span></span>

<span data-ttu-id="29b45-405">Os dados brutos consistem em linhas e colunas.</span><span class="sxs-lookup"><span data-stu-id="29b45-405">The raw data consists of rows and columns.</span></span> <span data-ttu-id="29b45-406">Cada medição é representada como uma única linha de dados.</span><span class="sxs-lookup"><span data-stu-id="29b45-406">Each measurement is represented as a single row of data.</span></span> <span data-ttu-id="29b45-407">Cada linha de dados inclui várias colunas (também conhecidas como campos ou recursos).</span><span class="sxs-lookup"><span data-stu-id="29b45-407">Each row of data includes multiple columns (also referred to as features or fields).</span></span>

1. <span data-ttu-id="29b45-408">**Carimbo de data/hora** – o campo de carimbo de data/hora representa a hora real em que a medição foi registrada.</span><span class="sxs-lookup"><span data-stu-id="29b45-408">**Time stamp** – the timestamp field represents the actual time when the measurement was recorded.</span></span> <span data-ttu-id="29b45-409">Ele deve ser compatível com um dos formatos de data/hora comuns.</span><span class="sxs-lookup"><span data-stu-id="29b45-409">It should comply with one of the common date/time formats.</span></span> <span data-ttu-id="29b45-410">Ambas as partes de data e de hora devem ser incluídas.</span><span class="sxs-lookup"><span data-stu-id="29b45-410">Both date and time parts should be included.</span></span> <span data-ttu-id="29b45-411">Na maioria dos casos, não é preciso que a hora seja registrada até o segundo nível de granularidade.</span><span class="sxs-lookup"><span data-stu-id="29b45-411">In most cases, there is no need for the time to be recorded till the second level of granularity.</span></span> <span data-ttu-id="29b45-412">É importante especificar o fuso horário no qual os dados são registrados.</span><span class="sxs-lookup"><span data-stu-id="29b45-412">It is important to specify the time zone in which the data is recorded.</span></span>
2. <span data-ttu-id="29b45-413">**ID do medidor** - esse campo identifica o medidor ou o dispositivo de medição.</span><span class="sxs-lookup"><span data-stu-id="29b45-413">**Meter ID** - This field identifies the meter or the measurement device.</span></span> <span data-ttu-id="29b45-414">É uma variável categórica e pode ser uma combinação de caracteres e de dígitos.</span><span class="sxs-lookup"><span data-stu-id="29b45-414">It is a categorical variable and can be a combination of digits and characters.</span></span>
3. <span data-ttu-id="29b45-415">**Valor de consumo** – é o consumo real em uma determinada data/hora.</span><span class="sxs-lookup"><span data-stu-id="29b45-415">**Consumption value** – This is the actual consumption at a given date/time.</span></span> <span data-ttu-id="29b45-416">O consumo pode ser medido em kWh (kilowatt-hora) ou em qualquer outra unidade de sua preferência.</span><span class="sxs-lookup"><span data-stu-id="29b45-416">The consumption can be measured in kWh (kilowatt-hour) or any other preferred units.</span></span> <span data-ttu-id="29b45-417">É importante observar que a unidade de medição deve permanecer consistente em todas as medições nos dados.</span><span class="sxs-lookup"><span data-stu-id="29b45-417">It is important to note that the measurement unit must stay consistent across all measurements in the data.</span></span> <span data-ttu-id="29b45-418">Em alguns casos, o consumo pode ser fornecido em mais de três fases de energia.</span><span class="sxs-lookup"><span data-stu-id="29b45-418">In some cases, consumption can be supplied over 3 power phases.</span></span> <span data-ttu-id="29b45-419">Nesse caso, será necessário coletar todas as fases independentes do consumo.</span><span class="sxs-lookup"><span data-stu-id="29b45-419">In that case we would need to collect all the independent consumption phases.</span></span>
4. <span data-ttu-id="29b45-420">**Temperatura** – a temperatura normalmente é coletada de uma fonte independente.</span><span class="sxs-lookup"><span data-stu-id="29b45-420">**Temperature** – the temperature is typically collected from an independent source.</span></span> <span data-ttu-id="29b45-421">No entanto, ela deve ser compatível com os dados de consumo.</span><span class="sxs-lookup"><span data-stu-id="29b45-421">However, it should be compatible with the consumption data.</span></span> <span data-ttu-id="29b45-422">Ela deve incluir um carimbo de data/hora conforme descrito acima, que permitirá sua sincronização com os dados de consumo real.</span><span class="sxs-lookup"><span data-stu-id="29b45-422">It should include a timestamp as described above that will allow it to be synchronized with the actual consumption data.</span></span> <span data-ttu-id="29b45-423">O valor da temperatura pode ser especificado em graus Celsius ou Fahrenheit, mas deve permanecer consistente em todas as medições.</span><span class="sxs-lookup"><span data-stu-id="29b45-423">The temperature value can be specified in degrees Celsius or Fahrenheit but should stay consistent across all measurements.</span></span>
5. <span data-ttu-id="29b45-424">**Local –** o campo de local está geralmente associado ao local onde os dados de temperatura foram coletados.</span><span class="sxs-lookup"><span data-stu-id="29b45-424">**Location –** The location field is typically associated with the place where the temperature data has been collected.</span></span> <span data-ttu-id="29b45-425">Ele pode ser representado em forma de um número de código postal ou no formato de latitude/longitude (lat/long).</span><span class="sxs-lookup"><span data-stu-id="29b45-425">It can be represented as a zip-code number or in latitude/longitude (lat/long) format.</span></span>

<span data-ttu-id="29b45-426">As tabelas a seguir mostram exemplos de um bom formato de dados de consumo e de temperatura:</span><span class="sxs-lookup"><span data-stu-id="29b45-426">The following tables shows examples of a good consumption and temperature data format:</span></span>

| <span data-ttu-id="29b45-427">**Data**</span><span class="sxs-lookup"><span data-stu-id="29b45-427">**Date**</span></span> | <span data-ttu-id="29b45-428">**Hora**</span><span class="sxs-lookup"><span data-stu-id="29b45-428">**Time**</span></span> | <span data-ttu-id="29b45-429">**ID de medidor**</span><span class="sxs-lookup"><span data-stu-id="29b45-429">**Meter ID**</span></span> | <span data-ttu-id="29b45-430">**Fase 1**</span><span class="sxs-lookup"><span data-stu-id="29b45-430">**Phase 1**</span></span> | <span data-ttu-id="29b45-431">**Fase 2**</span><span class="sxs-lookup"><span data-stu-id="29b45-431">**Phase 2**</span></span> | <span data-ttu-id="29b45-432">**Fase 3**</span><span class="sxs-lookup"><span data-stu-id="29b45-432">**Phase 3**</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="29b45-433">1/7/2015</span><span class="sxs-lookup"><span data-stu-id="29b45-433">7/1/2015</span></span> |<span data-ttu-id="29b45-434">10:00:00</span><span class="sxs-lookup"><span data-stu-id="29b45-434">10:00:00</span></span> |<span data-ttu-id="29b45-435">ABC1234</span><span class="sxs-lookup"><span data-stu-id="29b45-435">ABC1234</span></span> |<span data-ttu-id="29b45-436">7.0</span><span class="sxs-lookup"><span data-stu-id="29b45-436">7.0</span></span> |<span data-ttu-id="29b45-437">2,1</span><span class="sxs-lookup"><span data-stu-id="29b45-437">2.1</span></span> |<span data-ttu-id="29b45-438">5,3</span><span class="sxs-lookup"><span data-stu-id="29b45-438">5.3</span></span> |
| <span data-ttu-id="29b45-439">1/7/2015</span><span class="sxs-lookup"><span data-stu-id="29b45-439">7/1/2015</span></span> |<span data-ttu-id="29b45-440">10:00:01</span><span class="sxs-lookup"><span data-stu-id="29b45-440">10:00:01</span></span> |<span data-ttu-id="29b45-441">ABC1234</span><span class="sxs-lookup"><span data-stu-id="29b45-441">ABC1234</span></span> |<span data-ttu-id="29b45-442">7.1</span><span class="sxs-lookup"><span data-stu-id="29b45-442">7.1</span></span> |<span data-ttu-id="29b45-443">2.2</span><span class="sxs-lookup"><span data-stu-id="29b45-443">2.2</span></span> |<span data-ttu-id="29b45-444">4.3</span><span class="sxs-lookup"><span data-stu-id="29b45-444">4.3</span></span> |
| <span data-ttu-id="29b45-445">1/7/2015</span><span class="sxs-lookup"><span data-stu-id="29b45-445">7/1/2015</span></span> |<span data-ttu-id="29b45-446">10:00:02</span><span class="sxs-lookup"><span data-stu-id="29b45-446">10:00:02</span></span> |<span data-ttu-id="29b45-447">ABC1234</span><span class="sxs-lookup"><span data-stu-id="29b45-447">ABC1234</span></span> |<span data-ttu-id="29b45-448">6,0</span><span class="sxs-lookup"><span data-stu-id="29b45-448">6.0</span></span> |<span data-ttu-id="29b45-449">2,1</span><span class="sxs-lookup"><span data-stu-id="29b45-449">2.1</span></span> |<span data-ttu-id="29b45-450">4,0</span><span class="sxs-lookup"><span data-stu-id="29b45-450">4.0</span></span> |

| <span data-ttu-id="29b45-451">**Data**</span><span class="sxs-lookup"><span data-stu-id="29b45-451">**Date**</span></span> | <span data-ttu-id="29b45-452">**Hora**</span><span class="sxs-lookup"><span data-stu-id="29b45-452">**Time**</span></span> | <span data-ttu-id="29b45-453">**Localidade**</span><span class="sxs-lookup"><span data-stu-id="29b45-453">**Location**</span></span> | <span data-ttu-id="29b45-454">**Temperatura**</span><span class="sxs-lookup"><span data-stu-id="29b45-454">**Temperature**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="29b45-455">1/7/2015</span><span class="sxs-lookup"><span data-stu-id="29b45-455">7/1/2015</span></span> |<span data-ttu-id="29b45-456">10:00:00</span><span class="sxs-lookup"><span data-stu-id="29b45-456">10:00:00</span></span> |<span data-ttu-id="29b45-457">11242</span><span class="sxs-lookup"><span data-stu-id="29b45-457">11242</span></span> |<span data-ttu-id="29b45-458">24,4</span><span class="sxs-lookup"><span data-stu-id="29b45-458">24.4</span></span> |
| <span data-ttu-id="29b45-459">1/7/2015</span><span class="sxs-lookup"><span data-stu-id="29b45-459">7/1/2015</span></span> |<span data-ttu-id="29b45-460">10:00:01</span><span class="sxs-lookup"><span data-stu-id="29b45-460">10:00:01</span></span> |<span data-ttu-id="29b45-461">11242</span><span class="sxs-lookup"><span data-stu-id="29b45-461">11242</span></span> |<span data-ttu-id="29b45-462">24,4</span><span class="sxs-lookup"><span data-stu-id="29b45-462">24.4</span></span> |
| <span data-ttu-id="29b45-463">1/7/2015</span><span class="sxs-lookup"><span data-stu-id="29b45-463">7/1/2015</span></span> |<span data-ttu-id="29b45-464">10:00:02</span><span class="sxs-lookup"><span data-stu-id="29b45-464">10:00:02</span></span> |<span data-ttu-id="29b45-465">11242</span><span class="sxs-lookup"><span data-stu-id="29b45-465">11242</span></span> |<span data-ttu-id="29b45-466">24,5</span><span class="sxs-lookup"><span data-stu-id="29b45-466">24.5</span></span> |

<span data-ttu-id="29b45-467">Como pode ser visto acima, este exemplo inclui três valores diferentes para o consumo associado a três fases de energia.</span><span class="sxs-lookup"><span data-stu-id="29b45-467">As can be seen above, this example includes 3 different values for consumption associated with 3 power phases.</span></span> <span data-ttu-id="29b45-468">Além disso, observe que os campos de data e de hora estão separados, mas também podem ser combinados em uma única coluna.</span><span class="sxs-lookup"><span data-stu-id="29b45-468">Also, note that the date and time fields are separated, however they can also be combined into a single column.</span></span> <span data-ttu-id="29b45-469">Nesse caso, a coluna de local é representada em formato de código postal de cinco dígitos e a temperatura em formato de graus Celsius.</span><span class="sxs-lookup"><span data-stu-id="29b45-469">In this case the location column is represented in a 5-digit zip-code format and the temperature in a degree Celsius format.</span></span>

### <a name="data-format"></a><span data-ttu-id="29b45-470">Formato de Dados</span><span class="sxs-lookup"><span data-stu-id="29b45-470">Data Format</span></span>
<span data-ttu-id="29b45-471">O Cortana Intelligence Suite pode dar suporte à maioria dos formatos de dados comuns, como CSV, TSV, JSON *etc*. É importante que o formato de dados permaneça consistente durante todo o ciclo de vida do projeto.</span><span class="sxs-lookup"><span data-stu-id="29b45-471">Cortana Intelligence Suite can support the most common data formats like CSV, TSV, JSON, *etc*. It is important that the data format stays consistent for the entire life cycle of the project.</span></span>

### <a name="data-ingestion"></a><span data-ttu-id="29b45-472">Ingestão de dados</span><span class="sxs-lookup"><span data-stu-id="29b45-472">Data Ingestion</span></span>
<span data-ttu-id="29b45-473">Como a previsão da demanda de energia é prevista com constância e com frequência, devemos garantir que os dados brutos estejam fluindo por meio de um processo de ingestão de dados sólido e confiável.</span><span class="sxs-lookup"><span data-stu-id="29b45-473">Since energy demand forecast is constantly and frequently predicted, we must ensure that the raw data is flowing by means of a solid and reliable data ingestion process.</span></span> <span data-ttu-id="29b45-474">O processo de ingestão deve garantir que os dados brutos estejam disponíveis para o processo de previsão no tempo necessário.</span><span class="sxs-lookup"><span data-stu-id="29b45-474">The ingestion process must guarantee that the raw data is available for the forecasting process at the required time.</span></span> <span data-ttu-id="29b45-475">Isso significa que a frequência da ingestão de dados deve ser maior do que a frequência de previsão.</span><span class="sxs-lookup"><span data-stu-id="29b45-475">That implies that the data ingestion frequency should be greater than the forecasting frequency.</span></span>

<span data-ttu-id="29b45-476">Por exemplo: se nossa solução de previsão de demanda gerasse uma nova previsão às 8:00 diariamente, precisaríamos garantir que todos os dados coletados durante as últimas 24 horas tivessem sido totalmente ingeridos até esse ponto e tivessem incluído até a última hora de dados.</span><span class="sxs-lookup"><span data-stu-id="29b45-476">For example: If our demand forecasting solution would generate a new forecast at 8:00AM on a daily basis then we need to ensure that all the data that has been collected during the last 24 hours has been fully ingested till that point and has to even include the last hour of data.</span></span>

<span data-ttu-id="29b45-477">Para fazer isso, o Cortana Intelligence Suite oferece várias maneiras de dar suporte a um processo de ingestão de dados confiável.</span><span class="sxs-lookup"><span data-stu-id="29b45-477">In order to accomplish this, Cortana Intelligence Suite offers various ways to support a reliable data ingestion process.</span></span> <span data-ttu-id="29b45-478">Isso será discutido em mais detalhes na seção **Implantação** deste documento.</span><span class="sxs-lookup"><span data-stu-id="29b45-478">This will be further discussed in the **Deployment** section of this document.</span></span>

### <a name="data-quality"></a><span data-ttu-id="29b45-479">Qualidade de Dados</span><span class="sxs-lookup"><span data-stu-id="29b45-479">Data Quality</span></span>
<span data-ttu-id="29b45-480">A fonte de dados brutos necessária para executar a previsão de demanda precisa e confiável deve atender a alguns critérios básicos de qualidade de dados.</span><span class="sxs-lookup"><span data-stu-id="29b45-480">The raw data source that is required for performing reliable and accurate demand forecasting must meet some basic data quality criteria.</span></span> <span data-ttu-id="29b45-481">Embora métodos estatísticos avançados possam ser usados para compensar algum problema de qualidade de dados possível, ainda será necessário garantir que estejamos cruzando algum limite de qualidade de dados de base ao ingerirmos novos dados.</span><span class="sxs-lookup"><span data-stu-id="29b45-481">Although advanced statistical methods can be used to compensate for some possible data quality issue, we still need to ensure that we are crossing some base data quality threshold when ingesting new data.</span></span> <span data-ttu-id="29b45-482">Veja algumas considerações em relação à qualidade dos dados brutos:</span><span class="sxs-lookup"><span data-stu-id="29b45-482">Here are a few considerations concerning raw data quality:</span></span>

* <span data-ttu-id="29b45-483">**Valor ausente** – refere-se à situação quando a medição específica não foi coletada.</span><span class="sxs-lookup"><span data-stu-id="29b45-483">**Missing value** – this refers to the situation when specific measurement was not collected.</span></span> <span data-ttu-id="29b45-484">O requisito básico aqui é que a taxa de valor ausente não deve ser maior do que 10% para qualquer período de tempo determinado.</span><span class="sxs-lookup"><span data-stu-id="29b45-484">The basic requirement here is that the missing value rate should not be greater than 10% for any given time period.</span></span> <span data-ttu-id="29b45-485">No caso em que um único valor esteja ausente, ele deverá ser indicado usando um valor predefinido (por exemplo: “9999”) e não “0”, que pode ser uma medição válida.</span><span class="sxs-lookup"><span data-stu-id="29b45-485">In case that a single value is missing it should be indicated by using a pre-defined value (for example: '9999') and not '0' which could be a valid measurement.</span></span>
* <span data-ttu-id="29b45-486">**Precisão da medição** – o valor real de consumo ou de temperatura deve ser registrado com precisão.</span><span class="sxs-lookup"><span data-stu-id="29b45-486">**Measurement accuracy** – the actual value of consumption or temperature should be accurately recorded.</span></span> <span data-ttu-id="29b45-487">Medição imprecisas produzirão previsões imprecisas.</span><span class="sxs-lookup"><span data-stu-id="29b45-487">Inaccurate measurements will produce inaccurate forecasts.</span></span> <span data-ttu-id="29b45-488">Normalmente, o erro de medição deve ser inferior a 1% em relação ao valor verdadeiro.</span><span class="sxs-lookup"><span data-stu-id="29b45-488">Typically, the measurement error should be lower than 1% relative to the true value.</span></span>
* <span data-ttu-id="29b45-489">**Hora da medição** – é necessário que o carimbo de data/hora real dos dados coletados não desviem por mais de 10 segundos em relação ao horário da medição real.</span><span class="sxs-lookup"><span data-stu-id="29b45-489">**Time of measurement** – it is required that the actual timestamp of the data collected will not deviate by more than 10 seconds relative to the true time of the actual measurement.</span></span>
* <span data-ttu-id="29b45-490">**Sincronização** – quando várias fontes de dados são usadas (*por exemplo*, temperatura e consumo), devemos garantir que não haja problemas de sincronização de horas entre elas.</span><span class="sxs-lookup"><span data-stu-id="29b45-490">**Synchronization** – When multiple data sources are being used (*e.g.*, consumption and temperature) we must ensure that there are no time synchronization issues between them.</span></span> <span data-ttu-id="29b45-491">Isso significa que a diferença de tempo entre o carimbo de data/hora coletado de cada duas fontes de dados independentes não exceda 10 segundos.</span><span class="sxs-lookup"><span data-stu-id="29b45-491">This means that the time difference between the collected timestamp from any two independent data sources should not exceed more than 10 seconds.</span></span>
* <span data-ttu-id="29b45-492">**Latência** - como discutido acima, em **Ingestão de Dados**, dependemos de um fluxo de dados e de um processo de ingestão confiáveis.</span><span class="sxs-lookup"><span data-stu-id="29b45-492">**Latency** - As discussed above, in **Data Ingestion**, we are dependent on a reliable data flow and ingestion process.</span></span> <span data-ttu-id="29b45-493">Para controlarmos isso, devemos garantir que a latência de dados esteja sob controle.</span><span class="sxs-lookup"><span data-stu-id="29b45-493">To control that we must ensure that we control the data latency.</span></span> <span data-ttu-id="29b45-494">Isso é especificado como a diferença de tempo entre a hora em que a medição real foi feita e a hora na qual ela foi carregada no armazenamento do Cortana Intelligence Suite e está pronta para uso.</span><span class="sxs-lookup"><span data-stu-id="29b45-494">This is specified as the time difference between the time that the actual measurement was taken and the time at which it has been loaded into the Cortana Intelligence Suite storage and is ready for use.</span></span> <span data-ttu-id="29b45-495">Para a previsão de carga a longo prazo, a latência total não deverá ser maior do que 30 minutos.</span><span class="sxs-lookup"><span data-stu-id="29b45-495">For short term load forecasting the total latency should not be greater than 30 minutes.</span></span> <span data-ttu-id="29b45-496">Para a previsão de carga a longo prazo, a latência total não deverá ser maior do que um dia.</span><span class="sxs-lookup"><span data-stu-id="29b45-496">For long term load forecasting the total latency should not be greater than 1 day.</span></span>

### <a name="data-preparation-and-feature-engineering"></a><span data-ttu-id="29b45-497">Preparação de dados e engenharia de recursos</span><span class="sxs-lookup"><span data-stu-id="29b45-497">Data Preparation and Feature Engineering</span></span>
<span data-ttu-id="29b45-498">Depois que os dados brutos tiverem sido ingeridos (veja **Ingestão de Dados**) e tiverem sido armazenados de forma segura, estarão prontos para o processamento.</span><span class="sxs-lookup"><span data-stu-id="29b45-498">Once the raw data has been ingested (see **Data Ingestion**) and has been securely stored, it is ready to be processed.</span></span> <span data-ttu-id="29b45-499">A fase de preparação de dados consiste basicamente em pegar os dados brutos e convertê-los (transformá-los, dar nova forma a eles) em um formulário para a fase de modelagem.</span><span class="sxs-lookup"><span data-stu-id="29b45-499">The data preparation phase is basically taking the raw data and converting (transforming, reshaping) it into a form for the modeling phase.</span></span> <span data-ttu-id="29b45-500">Isso pode incluir operações simples, como o uso da coluna de dados brutos como ela está com seu valor medido real, valores padronizados, operações mais complexas como o [retardo de tempo](https://en.wikipedia.org/wiki/Lag_operator), entre outros.</span><span class="sxs-lookup"><span data-stu-id="29b45-500">That may include simple operations such as using the raw data column as is with its actual measured value, standardized values,  more complex operations such as [time lagging](https://en.wikipedia.org/wiki/Lag_operator), and others.</span></span> <span data-ttu-id="29b45-501">As colunas de dados recém-criadas são conhecidas como recursos de dados e o processo de gerá-las é chamado de engenharia de recursos.</span><span class="sxs-lookup"><span data-stu-id="29b45-501">The newly created data columns are referred to as data features and the process of generating these is referred to as feature engineering.</span></span> <span data-ttu-id="29b45-502">No final desse processo, teríamos um novo conjunto de dados derivado dos dados brutos que pode ser usado para modelagem.</span><span class="sxs-lookup"><span data-stu-id="29b45-502">By the end of this process we would have a new data set that has been derived from the raw data and can be used for modeling.</span></span> <span data-ttu-id="29b45-503">Além disso, a fase de preparação de dados precisa cuidar dos valores ausentes (veja **Qualidade de Dados**) e compensá-los.</span><span class="sxs-lookup"><span data-stu-id="29b45-503">In addition, the data preparation phase needs to take care of missing values (see **Data Quality**) and compensate for them.</span></span> <span data-ttu-id="29b45-504">Em alguns casos, também seria preciso normalizar os dados para garantir que todos os valores fossem representados na mesma escala.</span><span class="sxs-lookup"><span data-stu-id="29b45-504">In some cases, we would also need to normalize the data to ensure that all values are represented in the same scale.</span></span>

<span data-ttu-id="29b45-505">Nesta seção, listamos alguns dos recursos de dados comuns incluídos nos modelos de previsão de demanda de energia.</span><span class="sxs-lookup"><span data-stu-id="29b45-505">In this section we list some of the common data features that are included in the energy demand forecast models.</span></span>

<span data-ttu-id="29b45-506">**Recursos controlados pelo tempo:** esses recursos são derivados dos dados de carimbo de data/hora.</span><span class="sxs-lookup"><span data-stu-id="29b45-506">**Time driven features:** These features are derived from the date/timestamp data.</span></span> <span data-ttu-id="29b45-507">Eles são extraídos e convertidos em recursos categóricos como:</span><span class="sxs-lookup"><span data-stu-id="29b45-507">These are extracted and converted into categorical features like:</span></span>

* <span data-ttu-id="29b45-508">Hora do dia – é a hora do dia que recebe valores de 0 a 23</span><span class="sxs-lookup"><span data-stu-id="29b45-508">Time of day – This is the hour of the day which takes values from 0 to 23</span></span>
* <span data-ttu-id="29b45-509">Dia da semana – representa o dia da semana e recebe valores de 1 (domingo) a 7 (sábado)</span><span class="sxs-lookup"><span data-stu-id="29b45-509">Day of week – This represents the day of the week and takes values from 1 (Sunday) to 7 (Saturday)</span></span>
* <span data-ttu-id="29b45-510">Dia do mês – representa a data real e pode receber valores de 1 a 31</span><span class="sxs-lookup"><span data-stu-id="29b45-510">Day of month – This represents the actual date and can take values from 1 to 31</span></span>
* <span data-ttu-id="29b45-511">Mês do ano – representa o mês e recebe valores de 1 (janeiro) a 12 (dezembro)</span><span class="sxs-lookup"><span data-stu-id="29b45-511">Month of year – This represents the month and takes values from 1 (January) to 12 (December)</span></span>
* <span data-ttu-id="29b45-512">Fim de semana – é um recurso de valor binário que recebe os valores 0 para dias da semana ou 1 para o fim de semana</span><span class="sxs-lookup"><span data-stu-id="29b45-512">Weekend – This is a binary value feature that takes the values of 0 for weekdays or 1 for weekend</span></span>
* <span data-ttu-id="29b45-513">Feriado – é um recurso de valor binário que recebe os valores 0 para um dia comum ou 1 para um feriado</span><span class="sxs-lookup"><span data-stu-id="29b45-513">Holiday - This is a binary value feature that takes the values of 0 for a regular day or 1 for a holiday</span></span>
* <span data-ttu-id="29b45-514">Termos de Fourier – os termos de Fourier são pesos que derivam do carimbo de data/hora e são usados para capturar a periodicidade (ciclos) nos dados.</span><span class="sxs-lookup"><span data-stu-id="29b45-514">Fourier terms – The Fourier terms are weights that are derived from the timestamp and are used to capture the seasonality (cycles) in the data.</span></span> <span data-ttu-id="29b45-515">Como podemos ter várias estações em nossos dados, talvez sejam necessários vários termos de Fourier.</span><span class="sxs-lookup"><span data-stu-id="29b45-515">Since we may have multiple seasons in our data we may need multiple Fourier terms.</span></span> <span data-ttu-id="29b45-516">Por exemplo, os valores da demanda podem ter estações/ciclos anuais, semanais e diários, o que resultará em três termos de Fourier.</span><span class="sxs-lookup"><span data-stu-id="29b45-516">For example, demand values may have yearly, weekly, and daily seasons/cycles which will result in 3 Fourier terms.</span></span>

<span data-ttu-id="29b45-517">**Recursos de medição independentes:** os recursos independentes incluem todos os elementos de dados que gostaríamos de usar como indicadores em nosso modelo.</span><span class="sxs-lookup"><span data-stu-id="29b45-517">**Independent measurement features:** The independent features include all the data elements that we would like to use as predictors in our model.</span></span> <span data-ttu-id="29b45-518">Aqui, podemos excluir o recurso dependente que precisamos prever.</span><span class="sxs-lookup"><span data-stu-id="29b45-518">Here we exclude the dependent feature which we would need to predict.</span></span>

* <span data-ttu-id="29b45-519">Recurso de retardo – são valores de tempo deslocados da demanda real.</span><span class="sxs-lookup"><span data-stu-id="29b45-519">Lag feature – these are time shifted values of the actual demand.</span></span> <span data-ttu-id="29b45-520">Por exemplo, os recursos de retardo 1 conterão o valor de demanda na hora anterior (supondo que sejam os dados por hora) relativo ao carimbo de data/hora atual.</span><span class="sxs-lookup"><span data-stu-id="29b45-520">For example, lag 1 features will hold the demand value in the previous hour (assuming hourly data) relative to the current timestamp.</span></span> <span data-ttu-id="29b45-521">Da mesma forma, podemos adicionar o retardo 2, o retardo 3 *etc*. A combinação real dos recursos de retardo usados é determinada durante a fase de modelagem por meio da avaliação dos resultados do modelo.</span><span class="sxs-lookup"><span data-stu-id="29b45-521">Similarly, we can add lag 2, lag 3, *etc*. The actual combination of lag features that are used are determined during the modeling phase by evaluation of the model results.</span></span>
* <span data-ttu-id="29b45-522">Tendências a longo prazo – esse recurso representa o crescimento linear em demanda entre os anos.</span><span class="sxs-lookup"><span data-stu-id="29b45-522">Long term trending – this feature represents the linear growth in demand between years.</span></span>

<span data-ttu-id="29b45-523">**Recurso dependente:** recurso dependente é a coluna de dados que gostaríamos que nosso modelo previsse.</span><span class="sxs-lookup"><span data-stu-id="29b45-523">**Dependent feature:** The dependent feature is the data column which we would like our model to predict.</span></span> <span data-ttu-id="29b45-524">Com o [aprendizado de máquina supervisionado](https://en.wikipedia.org/wiki/Supervised_learning), primeiro precisamos treinar o modelo usando os recursos dependentes (também conhecidos como rótulos).</span><span class="sxs-lookup"><span data-stu-id="29b45-524">With [supervised machine learning](https://en.wikipedia.org/wiki/Supervised_learning), we need to first train the model using the dependent features (which is also referred to as labels).</span></span> <span data-ttu-id="29b45-525">Isso permite que o modelo aprenda os padrões nos dados associados ao recurso dependente.</span><span class="sxs-lookup"><span data-stu-id="29b45-525">This allows the model to learn the patterns in the data associated with the dependent feature.</span></span> <span data-ttu-id="29b45-526">Na previsão da demanda de energia, geralmente desejamos prever a demanda real e, portanto, poderíamos usá-la como o recurso dependente.</span><span class="sxs-lookup"><span data-stu-id="29b45-526">In energy demand forecast we typically want to predict the actual demand and therefore we would use it as the dependent feature.</span></span>

<span data-ttu-id="29b45-527">**Tratamento de valores ausentes:** durante a fase de preparação de dados, seria preciso determinar a melhor estratégia para lidar com os valores ausentes.</span><span class="sxs-lookup"><span data-stu-id="29b45-527">**Handling of missing values:** During the data preparation phase, we would need to determine the best strategy to handle missing values.</span></span> <span data-ttu-id="29b45-528">Isso é feito principalmente usando as diversas estatísticas [métodos de imputação de dados](https://en.wikipedia.org/wiki/Imputation_\(statistics\)).</span><span class="sxs-lookup"><span data-stu-id="29b45-528">This is mostly done by using the various statistical [data imputation methods](https://en.wikipedia.org/wiki/Imputation_\(statistics\)).</span></span> <span data-ttu-id="29b45-529">No caso da previsão da demanda de energia, nós geralmente imputamos valores ausentes usando a média da movimentação de pontos de dados disponíveis anteriores.</span><span class="sxs-lookup"><span data-stu-id="29b45-529">In the case of energy demand forecasting, we typically impute missing values by using moving average from previous available data points.</span></span>

<span data-ttu-id="29b45-530">**Normalização de Dados:** a normalização dos dados é outro tipo de transformação usado para colocar todos os dados numéricos, como a previsão de demanda, em uma escala semelhante.</span><span class="sxs-lookup"><span data-stu-id="29b45-530">**Data Normalization:** Data normalization is another type of transformation which is used to bring all numeric data such as demand forecast into a similar scale.</span></span> <span data-ttu-id="29b45-531">Normalmente, isso ajuda a melhorar a exatidão e a precisão do modelo.</span><span class="sxs-lookup"><span data-stu-id="29b45-531">This typically helps improve the model accuracy and precision.</span></span> <span data-ttu-id="29b45-532">Geralmente, faríamos isso dividindo o valor real pelo intervalo dos dados.</span><span class="sxs-lookup"><span data-stu-id="29b45-532">We would typically do this by dividing the actual value by the range of the data.</span></span>
<span data-ttu-id="29b45-533">Isso dimensionará o valor original para um intervalo menor, normalmente entre -1 e 1.</span><span class="sxs-lookup"><span data-stu-id="29b45-533">This will scale the original value down into a smaller range, typically between -1 and 1.</span></span>

## <a name="modeling"></a><span data-ttu-id="29b45-534">Modelagem</span><span class="sxs-lookup"><span data-stu-id="29b45-534">Modeling</span></span>
<span data-ttu-id="29b45-535">A fase de modelagem é onde ocorre a conversão de dados em um modelo.</span><span class="sxs-lookup"><span data-stu-id="29b45-535">The modeling phase is where the conversion of the data into a model takes place.</span></span> <span data-ttu-id="29b45-536">No centro desse processo, estão os algoritmos avançados que examinam os dados históricos (dados de treinamento), que extraem os padrões e que criam um modelo.</span><span class="sxs-lookup"><span data-stu-id="29b45-536">In the core of this process there are advanced algorithms that scan the historical data (training data), extract patterns, and build a model.</span></span> <span data-ttu-id="29b45-537">Posteriormente, esse modelo poderá ser usado para prever novos dados que não tenham sido usados para criar o modelo.</span><span class="sxs-lookup"><span data-stu-id="29b45-537">That model can be later used to predict on new data that has not been used to build the model.</span></span>

<span data-ttu-id="29b45-538">Assim que tivermos um modelo confiável funcional, poderemos então usá-lo para pontuar novos dados estruturados para incluir os recursos necessários (X).</span><span class="sxs-lookup"><span data-stu-id="29b45-538">Once we have a working reliable model we can then use it to score new data that is structured to include the required features (X).</span></span> <span data-ttu-id="29b45-539">O processo de pontuação usará o modelo persistente (objeto da fase de treinamento) e preverá a variável de destino indicada por Ŷ.</span><span class="sxs-lookup"><span data-stu-id="29b45-539">The scoring process will make use of the persisted model (object from the training phase) and predict the target variable that is denoted by Ŷ.</span></span>

### <a name="demand-forecasting-modeling-techniques"></a><span data-ttu-id="29b45-540">Técnicas de Modelagem da Previsão da Demanda</span><span class="sxs-lookup"><span data-stu-id="29b45-540">Demand Forecasting Modeling Techniques</span></span>
<span data-ttu-id="29b45-541">No caso da previsão da demanda, usamos os dados históricos ordenados por hora.</span><span class="sxs-lookup"><span data-stu-id="29b45-541">In the case of demand forecasting we make use of historical data which is ordered by time.</span></span> <span data-ttu-id="29b45-542">Geralmente, nos referimos aos dados que incluem a dimensão de tempo como [série temporal](https://en.wikipedia.org/wiki/Time_series).</span><span class="sxs-lookup"><span data-stu-id="29b45-542">We generally refer to data that includes the time dimension as [time series](https://en.wikipedia.org/wiki/Time_series).</span></span> <span data-ttu-id="29b45-543">A meta na modelagem da série temporal é encontrar tendências relacionadas ao tempo, a periodicidade, a correlação automática (correlação ao longo do tempo) e formular tudo em um modelo.</span><span class="sxs-lookup"><span data-stu-id="29b45-543">The goal in time series modeling is to find time related trends, seasonality, auto-correlation (correlation over time), and formulate those into a model.</span></span>

<span data-ttu-id="29b45-544">Nos últimos anos, algoritmos avançados foram desenvolvidos para acomodar a previsão da série temporal e aumentar a precisão da previsão.</span><span class="sxs-lookup"><span data-stu-id="29b45-544">In recent years advanced algorithms have been developed to accommodate time series forecasting and to improve forecasting accuracy.</span></span> <span data-ttu-id="29b45-545">Discutiremos brevemente alguns deles aqui.</span><span class="sxs-lookup"><span data-stu-id="29b45-545">We briefly discuss a few of them here.</span></span>

> [!NOTE]
> <span data-ttu-id="29b45-546">Esta seção não destina-se a ser usada como uma visão geral do aprendizado de máquina e da previsão, mas como uma pesquisa rápida de técnicas de modelagem comumente usadas para a previsão da demanda.</span><span class="sxs-lookup"><span data-stu-id="29b45-546">This section is not intended to be used as a machine learning and forecasting overview but rather as a short survey of modeling techniques that are commonly used for demand forecasting.</span></span> <span data-ttu-id="29b45-547">Para saber mais e para obter material educativo sobre a previsão da série temporal, é altamente recomendável ler o livro online [Forecasting: principles and practice (Previsão: princípios e prática)](https://www.otexts.org/book/fpp).</span><span class="sxs-lookup"><span data-stu-id="29b45-547">For more information and educational material about time series forecasting, we highly recommend the online book [Forecasting: principles and practice](https://www.otexts.org/book/fpp).</span></span>
> 
> 

#### <a name="ma-moving-averagehttpswwwotextsorgfpp62"></a>[<span data-ttu-id="29b45-548">**MA (Média de Movimentação)**</span><span class="sxs-lookup"><span data-stu-id="29b45-548">**MA (Moving Average)**</span></span>](https://www.otexts.org/fpp/6/2)
<span data-ttu-id="29b45-549">A média de movimentação é uma das primeiras técnicas analíticas que foram usadas para a previsão da série temporal e ainda hoje é uma das técnicas mais comumente usadas.</span><span class="sxs-lookup"><span data-stu-id="29b45-549">Moving average is one of the first analytical techniques that has been used for time series forecasting and it is still one of the most commonly used techniques as of today.</span></span> <span data-ttu-id="29b45-550">Também é a base para técnicas de previsão mais avançadas.</span><span class="sxs-lookup"><span data-stu-id="29b45-550">It is also the foundation for more advanced forecasting techniques.</span></span> <span data-ttu-id="29b45-551">Com a média de movimentação, estamos prevendo o próximo ponto de dados ao calcular a média nos pontos K mais recentes, onde K indica a ordem da média de movimentação.</span><span class="sxs-lookup"><span data-stu-id="29b45-551">With moving average we are forecasting the next data point by averaging over the K most recent points, where K denotes the order of the moving average.</span></span>

<span data-ttu-id="29b45-552">A técnica da média de movimentação tem o efeito de suavização da previsão e, portanto, não pode manipular bem a grande volatilidade nos dados.</span><span class="sxs-lookup"><span data-stu-id="29b45-552">The moving average technique has the effect of smoothing the forecast and therefore may not handle well large volatility in the data.</span></span>

#### <a name="ets-exponential-smoothinghttpswwwotextsorgfpp75"></a>[<span data-ttu-id="29b45-553">**ETS (Suavização Exponencial)**</span><span class="sxs-lookup"><span data-stu-id="29b45-553">**ETS (Exponential Smoothing)**</span></span>](https://www.otexts.org/fpp/7/5)
<span data-ttu-id="29b45-554">A Suavização Exponencial (ETS) é uma família de vários métodos que usam a média ponderada de pontos de dados recentes para prever o próximo ponto de dados.</span><span class="sxs-lookup"><span data-stu-id="29b45-554">Exponential Smoothing (ETS) is a family of various methods which use weighted average of recent data points in order to predict the next data point.</span></span> <span data-ttu-id="29b45-555">A ideia é atribuir pesos mais altos a valores mais recentes e diminuir gradualmente esse peso para valores medidos mais antigos.</span><span class="sxs-lookup"><span data-stu-id="29b45-555">The idea is to assign higher weights to more recent values and gradually decrease this weight for older measured values.</span></span> <span data-ttu-id="29b45-556">Há vários métodos diferentes nessa família, alguns deles incluem o tratamento da periodicidade dos dados como o [Método Sazonal Holt-Winters](https://www.otexts.org/fpp/7/5).</span><span class="sxs-lookup"><span data-stu-id="29b45-556">There are a number of different methods with this family, some of them include handling of seasonality in the data such as [Holt-Winters Seasonal Method](https://www.otexts.org/fpp/7/5).</span></span>

<span data-ttu-id="29b45-557">Alguns desses métodos também consideram a periodicidade dos dados.</span><span class="sxs-lookup"><span data-stu-id="29b45-557">Some of these methods also factor in the seasonality of the data.</span></span>

#### <a name="arima-auto-regression-integrated-moving-averagehttpswwwotextsorgfpp8"></a>[<span data-ttu-id="29b45-558">**ARIMA (Média de Movimentação Integrada de Regressão Automática)**</span><span class="sxs-lookup"><span data-stu-id="29b45-558">**ARIMA (Auto Regression Integrated Moving Average)**</span></span>](https://www.otexts.org/fpp/8)
<span data-ttu-id="29b45-559">A Média de Movimentação Integrada de Regressão Automática (ARIMA) é outra família de métodos que é normalmente usada na previsão da série temporal.</span><span class="sxs-lookup"><span data-stu-id="29b45-559">Auto Regression Integrated Moving Average (ARIMA) is another family of methods which is commonly used for time series forecasting.</span></span> <span data-ttu-id="29b45-560">Ela praticamente combina métodos de regressão automática à média de movimentação.</span><span class="sxs-lookup"><span data-stu-id="29b45-560">It practically combines auto-regression methods with moving average.</span></span> <span data-ttu-id="29b45-561">Os métodos de regressão automática usam modelos de regressão ao receberem valores anteriores da série temporal para calcular o próximo ponto de data.</span><span class="sxs-lookup"><span data-stu-id="29b45-561">Auto-regression methods use regression models by taking previous time series values in order to compute the next date point.</span></span> <span data-ttu-id="29b45-562">Os métodos ARIMA também se aplicam a métodos de diferenciação, que incluem o cálculo da diferença entre os pontos de dados e o uso deles em vez do valor original medido.</span><span class="sxs-lookup"><span data-stu-id="29b45-562">ARIMA methods also apply differencing methods that include calculating the difference between data points and using those instead of the original measured value.</span></span> <span data-ttu-id="29b45-563">Por fim, a ARIMA também usa as técnicas de média de movimentação discutidas acima.</span><span class="sxs-lookup"><span data-stu-id="29b45-563">Finally, ARIMA also makes use of the moving average techniques that are discussed above.</span></span> <span data-ttu-id="29b45-564">A combinação de todos esses métodos de várias maneiras é o que constrói a família dos métodos ARIMA.</span><span class="sxs-lookup"><span data-stu-id="29b45-564">The combination of all of these methods in various ways is what constructs the family of ARIMA methods.</span></span>

<span data-ttu-id="29b45-565">Atualmente, os métodos ETS e ARIMA são amplamente usados na previsão da demanda de energia e em muitos outros problemas de previsão.</span><span class="sxs-lookup"><span data-stu-id="29b45-565">ETS and ARIMA are widely used today for energy demand forecasting and many other forecasting problems.</span></span> <span data-ttu-id="29b45-566">Em muitos casos, eles são combinados para oferecer resultados muito precisos.</span><span class="sxs-lookup"><span data-stu-id="29b45-566">In many cases these are combined together to deliver very accurate results.</span></span>

<span data-ttu-id="29b45-567">**Regressão Múltipla Geral** os modelos de regressão podem ser a abordagem de modelagem mais importante no domínio de aprendizado de máquina e de estatísticas.</span><span class="sxs-lookup"><span data-stu-id="29b45-567">**General Multiple Regression** Regression models could be the most important modeling approach within the domain of machine learning and statistics.</span></span> <span data-ttu-id="29b45-568">No contexto de série temporal, usamos a regressão para prever os valores futuros (*por exemplo*, de demanda).</span><span class="sxs-lookup"><span data-stu-id="29b45-568">In the context of time series we use regression to predict the future values (*e.g.*, of demand).</span></span> <span data-ttu-id="29b45-569">Na regressão, pegamos uma combinação linear das previsões e aprendemos os pesos (também conhecidos como coeficientes) desses indicadores durante o processo de treinamento.</span><span class="sxs-lookup"><span data-stu-id="29b45-569">In regression we take a linear combination of the predictors and learn the weights (also referred to as coefficients) of those predictors during the training process.</span></span> <span data-ttu-id="29b45-570">A meta é produzir uma linha de regressão que preveja nosso valor previsto.</span><span class="sxs-lookup"><span data-stu-id="29b45-570">The goal is to produce a regression line that will forecast our predicted value.</span></span> <span data-ttu-id="29b45-571">Os métodos de regressão serão adequados quando a variável de destino for numérica e, portanto, também se adapte à previsão de série temporal.</span><span class="sxs-lookup"><span data-stu-id="29b45-571">Regression methods are suitable when the target variable is numeric and therefore also fits time series forecasting.</span></span> <span data-ttu-id="29b45-572">Há uma grande variedade de métodos de regressão, incluindo modelos de regressão muito simples, como a [Regressão Linear](https://en.wikipedia.org/wiki/Linear_regression), e mais avançados, como as árvores de decisão, as [Florestas Aleatórias](https://en.wikipedia.org/wiki/Random_forest), as [Redes Neurais](https://en.wikipedia.org/wiki/Artificial_neural_network) e as Árvores de Decisão Aumentadas.</span><span class="sxs-lookup"><span data-stu-id="29b45-572">There is a wide range of regression methods including very simple regression models such as [Linear Regression](https://en.wikipedia.org/wiki/Linear_regression) and more advanced ones such as decision trees, [Random Forests](https://en.wikipedia.org/wiki/Random_forest), [Neural Networks](https://en.wikipedia.org/wiki/Artificial_neural_network), and Boosted Decision Trees.</span></span>

<span data-ttu-id="29b45-573">A construção da previsão de demanda de energia como um problema de regressão nos dá muita flexibilidade para a seleção de nossos recursos de dados, que podem ser combinados a partir dos dados reais de série temporal e dos fatores externos, como a temperatura.</span><span class="sxs-lookup"><span data-stu-id="29b45-573">Constructing energy demand forecasting as a regression problem gives us a lot of flexibility in selecting our data features which can be combined from the actual demand time series data and external factors such as temperature.</span></span> <span data-ttu-id="29b45-574">Para saber mais sobre os recursos selecionados, confira a seção Engenharia de Recursos (confira **Preparação de Dados e Engenharia de Recursos**) deste manual.</span><span class="sxs-lookup"><span data-stu-id="29b45-574">More information about the selected features are discussed in the Feature Engineering (see **Data Preparation and Feature Engineering**) section of this playbook.</span></span>

<span data-ttu-id="29b45-575">Em nossa experiência com a implementação e a implantação do piloto de previsões de demanda de energia, descobrimos que os modelos de regressão avançados disponíveis no AM do Azure tendem a produzir os melhores resultados e por isso nós os utilizamos.</span><span class="sxs-lookup"><span data-stu-id="29b45-575">From our experience with implementation and deployment of energy demand forecasts pilot, we have found that the advanced regression models that are available in Azure ML tend to produce the best results and we make use of them.</span></span>

## <a name="model-evaluation"></a><span data-ttu-id="29b45-576">Avaliação do modelo</span><span class="sxs-lookup"><span data-stu-id="29b45-576">Model Evaluation</span></span>
<span data-ttu-id="29b45-577">A avaliação do modelo tem um papel fundamental no **Ciclo de Desenvolvimento do Modelo**.</span><span class="sxs-lookup"><span data-stu-id="29b45-577">Model evaluation has a critical role within the **Model Development Cycle**.</span></span> <span data-ttu-id="29b45-578">Nesta etapa, examinamos a validação do modelo e seu desempenho com dados reais.</span><span class="sxs-lookup"><span data-stu-id="29b45-578">At this step we look into validating the model and its performance with real life data.</span></span> <span data-ttu-id="29b45-579">Durante a etapa de modelagem, usamos uma parte dos dados disponíveis para treinar o modelo.</span><span class="sxs-lookup"><span data-stu-id="29b45-579">During the modeling step we use a part of the available data for training the model.</span></span> <span data-ttu-id="29b45-580">Durante a fase de avaliação, pegamos o restante dos dados para testar o modelo.</span><span class="sxs-lookup"><span data-stu-id="29b45-580">During the evaluation phase we take the remainder of the data to test the model.</span></span> <span data-ttu-id="29b45-581">Praticamente, isso significa que estamos alimentando o modelo com dados novos que foram restruturados e que contêm os mesmos recursos do conjunto de dados de treinamento.</span><span class="sxs-lookup"><span data-stu-id="29b45-581">Practically it means that we are feeding the model new data that has been restructured and contains the same features as the training dataset.</span></span> <span data-ttu-id="29b45-582">No entanto, durante o processo de validação, usamos o modelo para prever a variável de destino em vez de fornecer a variável de destino disponível.</span><span class="sxs-lookup"><span data-stu-id="29b45-582">However, during the validation process, we use the model to predict the target variable rather than provide the available target variable.</span></span> <span data-ttu-id="29b45-583">Normalmente, nos referimos a esse processo como pontuação de modelo.</span><span class="sxs-lookup"><span data-stu-id="29b45-583">We often refer to this process as model scoring.</span></span> <span data-ttu-id="29b45-584">Usaríamos, então, os valores de destino verdadeiros e os compararíamos aos previstos.</span><span class="sxs-lookup"><span data-stu-id="29b45-584">We would then use the true target values and compare them with the predicted ones.</span></span> <span data-ttu-id="29b45-585">A meta aqui é medir e minimizar o erro de previsão, que significa a diferença entre as previsões e o valor verdadeiro.</span><span class="sxs-lookup"><span data-stu-id="29b45-585">The goal here is to measure and minimize the prediction error, meaning the difference between the predictions and the true value.</span></span> <span data-ttu-id="29b45-586">A quantificação da medição do erro é fundamental já que gostaríamos de ajustar o modelo e validar se o erro está realmente diminuindo.</span><span class="sxs-lookup"><span data-stu-id="29b45-586">Quantifying the error measurement is key since we would like to fine-tune the model and validate whether the error is actually decreasing.</span></span> <span data-ttu-id="29b45-587">O ajuste do modelo pode ser feito por meio da modificação dos parâmetros do modelo que controlam o processo de aprendizagem ou por meio da adição ou da remoção dos recursos de dados (conhecido como [varredura de parâmetros](https://channel9.msdn.com/Blogs/Azure/Data-Science-Series-Building-an-Optimal-Model-With-Parameter-Sweep)).</span><span class="sxs-lookup"><span data-stu-id="29b45-587">Fine-tuning the model can be done by modifying model parameters that control the learning process, or by adding or removing data features (referred to as [parameters sweep](https://channel9.msdn.com/Blogs/Azure/Data-Science-Series-Building-an-Optimal-Model-With-Parameter-Sweep)).</span></span> <span data-ttu-id="29b45-588">Praticamente, isso significa que talvez seja necessário iterar entre as fases de engenharia de recursos, de modelagem e de avaliação do modelo várias vezes até podermos reduzir o erro até o nível exigido.</span><span class="sxs-lookup"><span data-stu-id="29b45-588">Practically that means that we may need to iterate between the feature engineering, modeling, and model evaluation phases multiple times until we are able to reduce the error to the required level.</span></span>

<span data-ttu-id="29b45-589">É importante enfatizar que o erro de previsão nunca será zero, já que nunca haverá um modelo que possa prever com perfeição todos os resultados.</span><span class="sxs-lookup"><span data-stu-id="29b45-589">It is important to emphasis that the prediction error will never be zero as there is never a model that can perfectly predict every outcome.</span></span> <span data-ttu-id="29b45-590">No entanto, há uma determinada magnitude de erro que é aceitável para os negócios.</span><span class="sxs-lookup"><span data-stu-id="29b45-590">However, there is a certain magnitude of error that is acceptable by the business.</span></span> <span data-ttu-id="29b45-591">Durante o processo de validação, queremos garantir que nosso erro do modelo de previsão seja igual ou que seja melhor do que o nível da tolerância do negócio.</span><span class="sxs-lookup"><span data-stu-id="29b45-591">During the validation process, we would like to ensure that our model prediction error is at the level or better than the business tolerance level.</span></span> <span data-ttu-id="29b45-592">Portanto, é importante definir o nível de erro tolerável no início do ciclo durante a fase **Formulação do Problema** .</span><span class="sxs-lookup"><span data-stu-id="29b45-592">It is therefore important to set the level of the tolerable error at the beginning of the cycle during the **Problem Formulation** phase.</span></span>

### <a name="typical-evaluation-techniques"></a><span data-ttu-id="29b45-593">Técnicas de Avaliação Típicas</span><span class="sxs-lookup"><span data-stu-id="29b45-593">Typical Evaluation Techniques</span></span>
<span data-ttu-id="29b45-594">Há várias maneiras nas quais o erro de previsão pode ser medido e quantificado.</span><span class="sxs-lookup"><span data-stu-id="29b45-594">There are various ways in which prediction error can be measured and quantified.</span></span> <span data-ttu-id="29b45-595">Nesta seção, nos concentraremos na discussão sobre as técnicas de avaliação relevantes à série temporal e, especificamente, para a previsão da demanda de energia.</span><span class="sxs-lookup"><span data-stu-id="29b45-595">In this section we will focus the discussion on evaluation techniques relevant to time series and in specific for energy demand forecast.</span></span>

#### <a name="mapehttpsenwikipediaorgwikimeanabsolutepercentageerror"></a>[<span data-ttu-id="29b45-596">**MAPE**</span><span class="sxs-lookup"><span data-stu-id="29b45-596">**MAPE**</span></span>](https://en.wikipedia.org/wiki/Mean_absolute_percentage_error)
<span data-ttu-id="29b45-597">MAPE significa Erro Médio de Porcentagem Absoluta.</span><span class="sxs-lookup"><span data-stu-id="29b45-597">MAPE stands for Mean Absolute Percentage Error.</span></span> <span data-ttu-id="29b45-598">Com o MAPE, estamos calculando a diferença entre cada ponto previsto e o valor real desse ponto.</span><span class="sxs-lookup"><span data-stu-id="29b45-598">With MAPE we are computing the difference between each forecasted point and the actual value of that point.</span></span> <span data-ttu-id="29b45-599">Em seguida, quantificamos o erro por ponto ao calcularmos a proporção da diferença em relação ao valor real.</span><span class="sxs-lookup"><span data-stu-id="29b45-599">We then quantify the error per point by calculating the proportion of the difference relative to the actual value.</span></span> <span data-ttu-id="29b45-600">Na última etapa, fazemos a média desses valores.</span><span class="sxs-lookup"><span data-stu-id="29b45-600">At the last step we average these values.</span></span> <span data-ttu-id="29b45-601">A fórmula matemática usada para o MAPE é a seguinte:</span><span class="sxs-lookup"><span data-stu-id="29b45-601">The mathematical formula used for MAPE is the following:</span></span>

<span data-ttu-id="29b45-602">![Fórmula MAPE](media/cortana-analytics-playbook-demand-forecasting-energy/mape-formula.png)
*Onde A<sub>t</sub> é o valor real, F<sub>t</sub> é o valor previsto e n é o horizonte de previsão.*</span><span class="sxs-lookup"><span data-stu-id="29b45-602">![MAPE Formula](media/cortana-analytics-playbook-demand-forecasting-energy/mape-formula.png)
*Where A<sub>t</sub> is the actual value, F<sub>t</sub> is the predicted value, and n is the forecast horizon.*</span></span>

## <a name="deployment"></a><span data-ttu-id="29b45-603">Implantação</span><span class="sxs-lookup"><span data-stu-id="29b45-603">Deployment</span></span>
<span data-ttu-id="29b45-604">Depois de concluirmos a fase de modelagem e de validarmos o desempenho do modelo, estaremos prontos para a fase de implantação.</span><span class="sxs-lookup"><span data-stu-id="29b45-604">Once we have nailed down the modeling phase and validated the model performance we are ready to go into the deployment phase.</span></span> <span data-ttu-id="29b45-605">Nesse contexto, implantar significa permitir que o cliente consuma o modelo ao executar previsões reais nele em larga escala.</span><span class="sxs-lookup"><span data-stu-id="29b45-605">In this context, deployment means enabling the customer to consume the model by running actual predictions on it at large scale.</span></span> <span data-ttu-id="29b45-606">O conceito de implantação é fundamental no AM do Azure, já que nossa meta principal é invocar constantemente as previsões, em vez de apenas obter as informações dos dados.</span><span class="sxs-lookup"><span data-stu-id="29b45-606">The concept of deployment is key in Azure ML since our main goal is to constantly invoke predictions as opposed to just obtaining the insight from the data.</span></span> <span data-ttu-id="29b45-607">A fase de implantação é a parte onde permitimos que o modelo seja consumido em larga escala.</span><span class="sxs-lookup"><span data-stu-id="29b45-607">The deployment phase is the part where we enable the model to be consumed at large scale.</span></span>

<span data-ttu-id="29b45-608">No contexto da previsão da demanda de energia, nosso objetivo é invocar previsões periódicas e contínuas, garantindo que os dados atualizados estejam disponíveis para o modelo e que os dados previstos sejam enviados para o cliente consumidor.</span><span class="sxs-lookup"><span data-stu-id="29b45-608">Within the context of energy demand forecast, our aim is to invoke continuous and periodic forecasts while ensuring that fresh data is available for the model and that the forecasted data is sent back to the consuming client.</span></span>

### <a name="web-services-deployment"></a><span data-ttu-id="29b45-609">Implantação de Serviços Web</span><span class="sxs-lookup"><span data-stu-id="29b45-609">Web Services Deployment</span></span>
<span data-ttu-id="29b45-610">O principal bloco de construção implantável no AM do Azure é o serviço Web.</span><span class="sxs-lookup"><span data-stu-id="29b45-610">The main deployable building block in Azure ML is the web service.</span></span> <span data-ttu-id="29b45-611">Essa é a maneira mais eficiente de habilitar o consumo de um modelo preditivo na nuvem.</span><span class="sxs-lookup"><span data-stu-id="29b45-611">This is the most effective way to enable consumption of a predictive model in the cloud.</span></span> <span data-ttu-id="29b45-612">O serviço Web encapsula o modelo e o encerra com uma API (Application Programming Interface, Interface de Programação de Aplicativo) [RESTful](http://www.restapitutorial.com/) .</span><span class="sxs-lookup"><span data-stu-id="29b45-612">The Web service encapsulates the model and wraps it up with a [RESTful](http://www.restapitutorial.com/) API (Application Programming Interface).</span></span> <span data-ttu-id="29b45-613">A API pode ser usada como parte de qualquer código de cliente, como ilustrado no diagrama a seguir.</span><span class="sxs-lookup"><span data-stu-id="29b45-613">The API can be used as part of any client code as illustrated in the diagram below.</span></span>

![Implantação e Consumo do Serviço Web](media/cortana-analytics-playbook-demand-forecasting-energy/web-service-deployment-and-consumption.png)

<span data-ttu-id="29b45-615">Como se pode ver, o serviço Web é implantado na nuvem do Cortana Intelligence Suite e pode ser invocado em seu ponto de extremidade de API REST exposto.</span><span class="sxs-lookup"><span data-stu-id="29b45-615">As can be seen, the web service is deployed in the Cortana Intelligence Suite cloud and can be invoked over its exposed REST API endpoint.</span></span> <span data-ttu-id="29b45-616">Tipos diferentes de clientes em vários domínios podem invocar o serviço por meio da API Web de forma simultânea.</span><span class="sxs-lookup"><span data-stu-id="29b45-616">Different type of clients across various domains can invoke the service through the Web API simultaneously.</span></span> <span data-ttu-id="29b45-617">O serviço Web também pode ser dimensionado para dar suporte a milhares de chamadas simultâneas.</span><span class="sxs-lookup"><span data-stu-id="29b45-617">The web service can also scale to support thousands of concurrent calls.</span></span>

### <a name="a-typical-solution-architecture"></a><span data-ttu-id="29b45-618">Uma Arquitetura de Solução Típica</span><span class="sxs-lookup"><span data-stu-id="29b45-618">A Typical Solution Architecture</span></span>
<span data-ttu-id="29b45-619">Ao implantarmos uma solução de previsão de demanda de energia, estamos interessados na implantação de uma solução completa que vá além do serviço Web de previsão e que facilite todo o fluxo de dados.</span><span class="sxs-lookup"><span data-stu-id="29b45-619">When deploying an energy demand forecasting solution, we are interested in deploying an end to end solution that goes beyond the prediction web service and facilitates the entire data flow.</span></span> <span data-ttu-id="29b45-620">No momento que invocamos uma nova previsão, precisamos garantir que o modelo seja alimentado com os recursos de dados atualizados.</span><span class="sxs-lookup"><span data-stu-id="29b45-620">At the time we invoke a new forecast, we would need to make sure that the model is fed with the up-to-date data features.</span></span> <span data-ttu-id="29b45-621">Isso implica em que os dados brutos recém-coletados sejam constantemente ingeridos, processados e transformados no conjunto de recursos necessário no qual o modelo foi criado.</span><span class="sxs-lookup"><span data-stu-id="29b45-621">That implies that the newly collected raw data is constantly ingested, processed, and transformed into the required feature set on which the model was built.</span></span> <span data-ttu-id="29b45-622">Ao mesmo tempo, gostaríamos de disponibilizar os dados previstos para os clientes consumidores finais.</span><span class="sxs-lookup"><span data-stu-id="29b45-622">At the same time, we would like to make the forecasted data available for the end consuming clients.</span></span> <span data-ttu-id="29b45-623">Um exemplo de ciclo de fluxo de dados (ou de pipeline de dados) é ilustrado no diagrama a seguir:</span><span class="sxs-lookup"><span data-stu-id="29b45-623">An example data flow cycle (or data pipeline) is illustrated in the diagram below:</span></span>

![Fluxo de Dados Completo de Previsão da Demanda de Energia](media/cortana-analytics-playbook-demand-forecasting-energy/energy-demand-forecase-end-data-flow.png)

<span data-ttu-id="29b45-625">Estas são as etapas que ocorrem como parte do ciclo de previsão da demanda de energia:</span><span class="sxs-lookup"><span data-stu-id="29b45-625">These are the steps that take place as part of the energy demand forecast cycle:</span></span>

1. <span data-ttu-id="29b45-626">Milhões de medidores de dados implantados estão constantemente gerando dados de consumo de energia em tempo real.</span><span class="sxs-lookup"><span data-stu-id="29b45-626">Millions of deployed data meters are constantly generating power consumption data in real time.</span></span>
2. <span data-ttu-id="29b45-627">Esses dados estão sendo coletados e carregados em um repositório da nuvem (*por exemplo*, o Blob do Azure).</span><span class="sxs-lookup"><span data-stu-id="29b45-627">This data is being collected and uploaded into a cloud repository (*e.g.*, Azure Blob).</span></span>
3. <span data-ttu-id="29b45-628">Antes de serem processados, os dados brutos são agregados no nível da subestação ou no nível regional, conforme definido pela empresa.</span><span class="sxs-lookup"><span data-stu-id="29b45-628">Before being processed, the raw data is aggregated to a substation or regional level as defined by the business.</span></span>
4. <span data-ttu-id="29b45-629">O processamento de recursos (confira **Preparação de Dados e Processamento de Recursos**) ocorre e produz os dados necessários para o treinamento ou para a pontuação do modelo. Os dados do conjunto de recursos são armazenados em um banco de dados (*por exemplo*, o SQL Azure).</span><span class="sxs-lookup"><span data-stu-id="29b45-629">The feature processing (see **Data Preparation and Feature Processing**) then takes place and produces the data that is required for model training or scoring – the feature set data is stored in a database (*e.g.*, SQL Azure).</span></span>
5. <span data-ttu-id="29b45-630">O serviço de readaptação é invocado para readaptar o modelo de previsão. A versão atualizada do modelo é mantida para que ele possa ser usado pelo serviço Web de pontuação.</span><span class="sxs-lookup"><span data-stu-id="29b45-630">The re-training service is invoked to re-train the forecasting model – that updated version of the model is persisted so that it can be used by the scoring web service.</span></span>
6. <span data-ttu-id="29b45-631">O serviço Web de pontuação é invocado em uma agenda que se ajuste à frequência de previsão necessária.</span><span class="sxs-lookup"><span data-stu-id="29b45-631">The scoring web service is invoked on a schedule that fits the required forecast frequency.</span></span>
7. <span data-ttu-id="29b45-632">Os dados previstos são armazenados em um banco de dados que pode ser acessado pelo cliente consumidor final.</span><span class="sxs-lookup"><span data-stu-id="29b45-632">The forecasted data is stored in a database that can be accessed by the end consumption client.</span></span>
8. <span data-ttu-id="29b45-633">O cliente consumidor recupera as previsões, as aplica novamente na rede e as consome de acordo com o caso de uso exigido.</span><span class="sxs-lookup"><span data-stu-id="29b45-633">The consumption client retrieves the forecasts, applies it back into the grid, and consumes it in accordance with the required use case.</span></span>

<span data-ttu-id="29b45-634">É importante observar que todo esse ciclo é totalmente automatizado e executado em uma agenda.</span><span class="sxs-lookup"><span data-stu-id="29b45-634">It is important to note that this entire cycle is fully automated and runs on a schedule.</span></span> <span data-ttu-id="29b45-635">Toda a orquestração desse ciclo de dados pode ser concluída usando ferramentas como o [Data Factory do Azure](http://azure.microsoft.com/services/data-factory/).</span><span class="sxs-lookup"><span data-stu-id="29b45-635">The entire orchestration of this data cycle can be done by using tools such as [Azure Data Factory](http://azure.microsoft.com/services/data-factory/).</span></span>

### <a name="end-to-end-deployment-architecture"></a><span data-ttu-id="29b45-636">Arquitetura de Implantação Completa</span><span class="sxs-lookup"><span data-stu-id="29b45-636">End to End Deployment Architecture</span></span>
<span data-ttu-id="29b45-637">Para implantar de maneira prática uma solução de previsão de demanda de energia no Cortana Intelligence, precisamos garantir que os componentes necessários sejam estabelecidos e configurados corretamente.</span><span class="sxs-lookup"><span data-stu-id="29b45-637">In order to practically deploy an energy demand forecast solution on Cortana Intelligence, we need to ensure that the required components are established and configured correctly.</span></span>

<span data-ttu-id="29b45-638">O diagrama a seguir ilustra uma arquitetura típica do Cortana Intelligence que implementa e gerencia o ciclo de fluxo de dados descrito acima:</span><span class="sxs-lookup"><span data-stu-id="29b45-638">The following diagram illustrates a typical Cortana Intelligence based architecture that implements and orchestrates the data flow cycle that is described above:</span></span>

![Arquitetura de Implantação Completa](media/cortana-analytics-playbook-demand-forecasting-energy/architecture.png)

<span data-ttu-id="29b45-640">Para saber mais sobre cada um dos componentes e sobre a arquitetura inteira, veja o Modelo de Solução de Energia.</span><span class="sxs-lookup"><span data-stu-id="29b45-640">For more information about each of the components and the entire architecture please refer to the Energy Solution Template.</span></span>

