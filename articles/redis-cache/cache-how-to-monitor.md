---
title: Como monitorar o Cache Redis do Azure | Microsoft Docs
description: "Saiba como monitorar a integridade e o desempenho de suas instâncias do Cache Redis do Azure"
services: redis-cache
documentationcenter: 
author: steved0x
manager: douge
editor: 
ms.assetid: 7e70b153-9c87-4290-85af-2228f31df118
ms.service: cache
ms.workload: tbd
ms.tgt_pltfrm: cache-redis
ms.devlang: na
ms.topic: article
ms.date: 07/13/2017
ms.author: sdanie
ms.openlocfilehash: 8996f5ce03e39557d9cc9c3de1ec214f5cd664b4
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/03/2017
---
# <a name="how-to-monitor-azure-redis-cache"></a><span data-ttu-id="6298a-103">Como monitorar o Cache Redis do Azure</span><span class="sxs-lookup"><span data-stu-id="6298a-103">How to monitor Azure Redis Cache</span></span>
<span data-ttu-id="6298a-104">O Cache Redis do Azure usa o [Azure Monitor](https://docs.microsoft.com/azure/monitoring-and-diagnostics/) para fornecer várias opções para monitorar suas instâncias de cache.</span><span class="sxs-lookup"><span data-stu-id="6298a-104">Azure Redis Cache uses [Azure Monitor](https://docs.microsoft.com/azure/monitoring-and-diagnostics/) to provide several options for monitoring your cache instances.</span></span> <span data-ttu-id="6298a-105">Você pode exibir métricas, fixar gráficos de métricas ao quadro inicial, personalizar o intervalo de data e hora de gráficos de monitoramento, adicionar/remover as métricas de gráficos e definir alertas quando determinadas condições forem atendidas.</span><span class="sxs-lookup"><span data-stu-id="6298a-105">You can view metrics, pin metrics charts to the Startboard, customize the date and time range of monitoring charts, add and remove metrics from the charts, and set alerts when certain conditions are met.</span></span> <span data-ttu-id="6298a-106">Essas ferramentas permitem monitorar a integridade de suas instâncias de Cache Redis do Azure e ajudá-lo a gerenciar seus aplicativos de cache.</span><span class="sxs-lookup"><span data-stu-id="6298a-106">These tools enable you to monitor the health of your Azure Redis Cache instances and help you manage your caching applications.</span></span>

<span data-ttu-id="6298a-107">As métricas para instâncias do Cache Redis do Azure são coletadas usando o comando [INFO](http://redis.io/commands/info) de Redis aproximadamente duas vezes por minuto, e são armazenadas automaticamente por 30 dias (consulte [Exportar as métricas de cache](#export-cache-metrics) para configurar uma política de retenção diferente) para que possam ser exibidas nos gráficos de métricas e avaliadas por regras de alerta.</span><span class="sxs-lookup"><span data-stu-id="6298a-107">Metrics for Azure Redis Cache instances are collected using the Redis [INFO](http://redis.io/commands/info) command approximately twice per minute and automatically stored for 30 days (see [Export cache metrics](#export-cache-metrics) to configure a different retention policy) so they can be displayed in the metrics charts and evaluated by alert rules.</span></span> <span data-ttu-id="6298a-108">Para saber mais sobre os diferentes valores INFO usados para cada métrica de cache, confira [Métricas disponíveis e intervalos de relatórios](#available-metrics-and-reporting-intervals).</span><span class="sxs-lookup"><span data-stu-id="6298a-108">For more information about the different INFO values used for each cache metric, see [Available metrics and reporting intervals](#available-metrics-and-reporting-intervals).</span></span>

<a name="view-cache-metrics"></a>

<span data-ttu-id="6298a-109">Para exibir as métricas de cache, [procure](cache-configure.md#configure-redis-cache-settings) sua instância de cache no [portal do Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="6298a-109">To view cache metrics, [browse](cache-configure.md#configure-redis-cache-settings) to your cache instance in the [Azure portal](https://portal.azure.com).</span></span>  <span data-ttu-id="6298a-110">O Cache Redis do Azure fornece alguns gráficos internos na folha **Visão geral** e na folha **Métricas de Redis**.</span><span class="sxs-lookup"><span data-stu-id="6298a-110">Azure Redis Cache provides some built-in charts on the **Overview** blade and the **Redis metrics** blade.</span></span> <span data-ttu-id="6298a-111">Cada gráfico pode ser personalizado com a adição ou remoção de métricas e a alteração do intervalo de relatório.</span><span class="sxs-lookup"><span data-stu-id="6298a-111">Each chart can be customized by adding or removing metrics and changing the reporting interval.</span></span>

![Métricas do Redis](./media/cache-how-to-monitor/redis-cache-redis-metrics-blade.png)

## <a name="view-pre-configured-metrics-charts"></a><span data-ttu-id="6298a-113">Exibir gráficos de métricas pré-configurados</span><span class="sxs-lookup"><span data-stu-id="6298a-113">View pre-configured metrics charts</span></span>

<span data-ttu-id="6298a-114">A folha **Visão geral** tem os seguintes gráficos de monitoramento pré-configurados.</span><span class="sxs-lookup"><span data-stu-id="6298a-114">The **Overview** blade has the following pre-configured monitoring charts.</span></span>

* [<span data-ttu-id="6298a-115">Gráficos de monitoramento</span><span class="sxs-lookup"><span data-stu-id="6298a-115">Monitoring charts</span></span>](#monitoring-charts)
* [<span data-ttu-id="6298a-116">Gráficos de uso</span><span class="sxs-lookup"><span data-stu-id="6298a-116">Usage charts</span></span>](#usage-charts)

### <a name="monitoring-charts"></a><span data-ttu-id="6298a-117">Gráficos de monitoramento</span><span class="sxs-lookup"><span data-stu-id="6298a-117">Monitoring charts</span></span>
<span data-ttu-id="6298a-118">A seção **Monitoramento** na folha **Visão geral** tem os gráficos **Acertos e Erros**, **Gets e Sets**, **Conexões** e **Total de Comandos**.</span><span class="sxs-lookup"><span data-stu-id="6298a-118">The **Monitoring** section in the **Overview** blade has **Hits and Misses**, **Gets and Sets**, **Connections**, and **Total Commands** charts.</span></span>

![Gráficos de monitoramento](./media/cache-how-to-monitor/redis-cache-monitoring-part.png)

### <a name="usage-charts"></a><span data-ttu-id="6298a-120">Gráficos de uso</span><span class="sxs-lookup"><span data-stu-id="6298a-120">Usage charts</span></span>
<span data-ttu-id="6298a-121">A seção **Uso** na folha **Visão geral** tem os gráficos **Carga do Servidor Redis**, **Uso de Memória**, **Largura de Banda de Rede** e **Uso de CPU** e também exibe o **Tipo de preço** para a instância de cache.</span><span class="sxs-lookup"><span data-stu-id="6298a-121">The **Usage** section in the **Overview** blade has **Redis Server Load**, **Memory Usage**, **Network Bandwith**, and **CPU Usage** charts, and also displays the **Pricing tier** for the cache instance.</span></span>

![Gráficos de uso](./media/cache-how-to-monitor/redis-cache-usage-part.png)

<span data-ttu-id="6298a-123">A **Tipo de preço** exibe a tipo de preço do cache e pode ser usada para [dimensionar](cache-how-to-scale.md) o cache para um tipo de preço diferente.</span><span class="sxs-lookup"><span data-stu-id="6298a-123">The **Pricing tier** displays the cache pricing tier, and can be used to [scale](cache-how-to-scale.md) the cache to a different pricing tier.</span></span>

## <a name="view-metrics-with-azure-monitor"></a><span data-ttu-id="6298a-124">Ver métricas com o Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="6298a-124">View metrics with Azure monitor</span></span>
<span data-ttu-id="6298a-125">Para exibir as métricas do Redis e criar gráficos personalizados usando o Azure Monitor, clique em **Métricas** no **menu Recursos** e personalize o gráfico usando as métricas desejadas, intervalo de relatórios, o tipo de gráfico e muito mais.</span><span class="sxs-lookup"><span data-stu-id="6298a-125">To view Redis metrics and create custom charts using Azure Monitor, click **Metrics** from the **Resource menu**, and customize your chart using the desired metrics, reporting interval, chart type, and more.</span></span>

![Métricas do Redis](./media/cache-how-to-monitor/redis-cache-monitor.png)

<span data-ttu-id="6298a-127">Para saber mais sobre como trabalhar com as métricas usando o Azure Monitor, consulte [Visão geral das métricas no Microsoft Azure](../monitoring-and-diagnostics/monitoring-overview-metrics.md).</span><span class="sxs-lookup"><span data-stu-id="6298a-127">For more information on working with metrics using Azure Monitor, see [Overview of metrics in Microsoft Azure](../monitoring-and-diagnostics/monitoring-overview-metrics.md).</span></span>

<a name="how-to-view-metrics-and-customize-chart"></a>
<a name="enable-cache-diagnostics"></a>
## <a name="export-cache-metrics"></a><span data-ttu-id="6298a-128">Exportar métricas de cache</span><span class="sxs-lookup"><span data-stu-id="6298a-128">Export cache metrics</span></span>
<span data-ttu-id="6298a-129">Por padrão, as métricas de cache no Azure Monitor são [armazenadas durante 30 dias](../monitoring-and-diagnostics/monitoring-overview-azure-monitor.md#store-and-archive) e, em seguida, excluídas.</span><span class="sxs-lookup"><span data-stu-id="6298a-129">By default, cache metrics in Azure Monitor are [stored for 30 days](../monitoring-and-diagnostics/monitoring-overview-azure-monitor.md#store-and-archive) and then deleted.</span></span> <span data-ttu-id="6298a-130">Para persistir suas métricas de cache por mais de 30 dias, [indique uma conta de armazenamento](../monitoring-and-diagnostics/monitoring-archive-diagnostic-logs.md) e especifique uma política de **Retenção (dias)** para suas métricas de cache.</span><span class="sxs-lookup"><span data-stu-id="6298a-130">To persist your cache metrics for longer than 30 days, you can [designate a storage account](../monitoring-and-diagnostics/monitoring-archive-diagnostic-logs.md) and specify a **Retention (days)** policy for your cache metrics.</span></span> 

<span data-ttu-id="6298a-131">Para configurar uma conta de armazenamento para suas métricas de cache:</span><span class="sxs-lookup"><span data-stu-id="6298a-131">To configure a storage account for your cache metrics:</span></span>

1. <span data-ttu-id="6298a-132">Clique em **Diagnóstico** no **menu Recursos** na folha **Cache Redis**.</span><span class="sxs-lookup"><span data-stu-id="6298a-132">Click **Diagnostics** from the **Resource menu** in the **Redis Cache** blade.</span></span>
2. <span data-ttu-id="6298a-133">Clique em **Ativado**.</span><span class="sxs-lookup"><span data-stu-id="6298a-133">Click **On**.</span></span>
3. <span data-ttu-id="6298a-134">Marque **Arquivar em uma conta de armazenamento**.</span><span class="sxs-lookup"><span data-stu-id="6298a-134">Check **Archive to a storage account**.</span></span>
4. <span data-ttu-id="6298a-135">Selecione a conta de armazenamento para armazenar as métricas de cache.</span><span class="sxs-lookup"><span data-stu-id="6298a-135">Select the storage account in which to store the cache metrics.</span></span>
5. <span data-ttu-id="6298a-136">Marque a caixa de seleção **1 minuto** e especifique uma política de **Retenção (dias)**.</span><span class="sxs-lookup"><span data-stu-id="6298a-136">Check the **1 minute** checkbox and specify a **Retention (days)** policy.</span></span> <span data-ttu-id="6298a-137">Se você não quiser aplicar qualquer política de retenção e manter os dados indefinidamente, defina **Retenção (dias)** como **0**.</span><span class="sxs-lookup"><span data-stu-id="6298a-137">If you do not want to apply any retention policy and retain data forever, set **Retention (days)** to **0**.</span></span>
6. <span data-ttu-id="6298a-138">Clique em **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="6298a-138">Click **Save**.</span></span>

![Diagnóstico do Redis](./media/cache-how-to-monitor/redis-cache-diagnostics.png)

>[!NOTE]
><span data-ttu-id="6298a-140">Além de arquivar suas métricas de cache no armazenamento, você também pode [transmiti-las para um Hub de Eventos ou enviá-las para o Log Analytics](../monitoring-and-diagnostics/monitoring-overview-metrics.md#export-metrics).</span><span class="sxs-lookup"><span data-stu-id="6298a-140">In addition to archiving your cache metrics to storage, you can also [stream them to an Event hub or send them to Log Analytics](../monitoring-and-diagnostics/monitoring-overview-metrics.md#export-metrics).</span></span>
>
>

<span data-ttu-id="6298a-141">Para acessar suas métricas, você pode exibi-las no Portal do Azure conforme descrito anteriormente neste artigo, e também pode acessá-las usando a [API REST das métricas do Azure Monitor](../monitoring-and-diagnostics/monitoring-overview-metrics.md#access-metrics-via-the-rest-api).</span><span class="sxs-lookup"><span data-stu-id="6298a-141">To access your metrics, you can view them in the Azure portal as previously described in this article, and you can also access them using the [Azure Monitor Metrics REST API](../monitoring-and-diagnostics/monitoring-overview-metrics.md#access-metrics-via-the-rest-api).</span></span>

> [!NOTE]
> <span data-ttu-id="6298a-142">Se você alterar contas de armazenamento, os dados na conta de armazenamento configurada anteriormente permanecerão disponíveis para download, mas não serão exibidos no portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="6298a-142">If you change storage accounts, the data in the previously configured storage account remains available for download, but it is not displayed in the Azure portal.</span></span>  
> 
> 

## <a name="available-metrics-and-reporting-intervals"></a><span data-ttu-id="6298a-143">Métricas disponíveis e intervalos de relatórios</span><span class="sxs-lookup"><span data-stu-id="6298a-143">Available metrics and reporting intervals</span></span>
<span data-ttu-id="6298a-144">As métricas de cache são relatadas usando vários intervalos de relatórios, incluindo **Última hora**, **Hoje**, **Semana passada** e **Personalizado**.</span><span class="sxs-lookup"><span data-stu-id="6298a-144">Cache metrics are reported using several reporting intervals, including **Past hour**, **Today**, **Past week**, and **Custom**.</span></span> <span data-ttu-id="6298a-145">A folha **Métrica** para cada gráfico de métricas exibe os valores médio, mínimo e máximo para cada métrica no gráfico, e algumas métricas exibem um total para o intervalo de relatório.</span><span class="sxs-lookup"><span data-stu-id="6298a-145">The **Metric** blade for each metrics chart displays the average, minimum, and maximum values for each metric in the chart, and some metrics display a total for the reporting interval.</span></span> 

<span data-ttu-id="6298a-146">Cada métrica inclui duas versões.</span><span class="sxs-lookup"><span data-stu-id="6298a-146">Each metric includes two versions.</span></span> <span data-ttu-id="6298a-147">Uma métrica mede o desempenho de todo o cache, e para os caches que usam [cluster](cache-how-to-premium-clustering.md), uma segunda versão da métrica que inclui `(Shard 0-9)` no nome mede o desempenho de um único fragmento em um cache.</span><span class="sxs-lookup"><span data-stu-id="6298a-147">One metric measures performance for the entire cache, and for caches that use [clustering](cache-how-to-premium-clustering.md), a second version of the metric that includes `(Shard 0-9)` in the name measures performance for a single shard in a cache.</span></span> <span data-ttu-id="6298a-148">Por exemplo, se um cache tiver quatro fragmentos, `Cache Hits` será a quantidade total de ocorrências para todo o cache, e `Cache Hits (Shard 3)` será apenas as ocorrências para esse fragmento do cache.</span><span class="sxs-lookup"><span data-stu-id="6298a-148">For example if a cache has 4 shards, `Cache Hits` is the total amount of hits for the entire cache, and `Cache Hits (Shard 3)` is just the hits for that shard of the cache.</span></span>

> [!NOTE]
> <span data-ttu-id="6298a-149">Mesmo quando o cache está ocioso sem aplicativos de cliente ativos conectados, você pode ver alguma atividade no cache, como clientes conectados, uso de memória e operações que estão sendo executadas.</span><span class="sxs-lookup"><span data-stu-id="6298a-149">Even when the cache is idle with no connected active client applications, you may see some cache activity, such as connected clients, memory usage, and operations being performed.</span></span> <span data-ttu-id="6298a-150">Essa atividade é normal durante a operação de uma instância do Cache Redis do Azure.</span><span class="sxs-lookup"><span data-stu-id="6298a-150">This activity is normal during the operation of an Azure Redis Cache instance.</span></span>
> 
> 

| <span data-ttu-id="6298a-151">Métrica</span><span class="sxs-lookup"><span data-stu-id="6298a-151">Metric</span></span> | <span data-ttu-id="6298a-152">Descrição</span><span class="sxs-lookup"><span data-stu-id="6298a-152">Description</span></span> |
| --- | --- |
| <span data-ttu-id="6298a-153">Acertos do Cache</span><span class="sxs-lookup"><span data-stu-id="6298a-153">Cache Hits</span></span> |<span data-ttu-id="6298a-154">O número de pesquisas de chave com êxito durante o intervalo de relatório especificado.</span><span class="sxs-lookup"><span data-stu-id="6298a-154">The number of successful key lookups during the specified reporting interval.</span></span> <span data-ttu-id="6298a-155">Esse número é mapeado para `keyspace_hits` do comando [INFO](http://redis.io/commands/info) do Redis.</span><span class="sxs-lookup"><span data-stu-id="6298a-155">This maps to `keyspace_hits` from the Redis [INFO](http://redis.io/commands/info) command.</span></span> |
| <span data-ttu-id="6298a-156">Erros de Cache</span><span class="sxs-lookup"><span data-stu-id="6298a-156">Cache Misses</span></span> |<span data-ttu-id="6298a-157">O número de pesquisas de chave com falha durante o intervalo de relatório especificado.</span><span class="sxs-lookup"><span data-stu-id="6298a-157">The number of failed key lookups during the specified reporting interval.</span></span> <span data-ttu-id="6298a-158">Esse número é mapeado para `keyspace_misses` do comando INFO do Redis.</span><span class="sxs-lookup"><span data-stu-id="6298a-158">This maps to `keyspace_misses` from the Redis INFO command.</span></span> <span data-ttu-id="6298a-159">Erros de cache não significam necessariamente que há um problema com o cache.</span><span class="sxs-lookup"><span data-stu-id="6298a-159">Cache misses do not necessarily mean there is an issue with the cache.</span></span> <span data-ttu-id="6298a-160">Por exemplo, ao se usar o padrão de programação cache-aside, um aplicativo procura um item no cache primeiro.</span><span class="sxs-lookup"><span data-stu-id="6298a-160">For example, when using the cache-aside programming pattern, an application looks first in the cache for an item.</span></span> <span data-ttu-id="6298a-161">Se o item não estiver lá (erro de cache), o item será recuperado do banco de dados e adicionado ao cache na próxima vez.</span><span class="sxs-lookup"><span data-stu-id="6298a-161">If the item is not there (cache miss), the item is retrieved from the database and added to the cache for next time.</span></span> <span data-ttu-id="6298a-162">Erros de cache são o comportamento normal para o padrão de programação cache-aside.</span><span class="sxs-lookup"><span data-stu-id="6298a-162">Cache misses are normal behavior for the cache-aside programming pattern.</span></span> <span data-ttu-id="6298a-163">Se o número de erros de cache for maior do que o esperado, examine a lógica do aplicativo que popula e lê do cache.</span><span class="sxs-lookup"><span data-stu-id="6298a-163">If the number of cache misses is higher than expected, examine the application logic that populates and reads from the cache.</span></span> <span data-ttu-id="6298a-164">Se os itens estiverem sendo removidos do cache devido à pressão de memória, poderá haver alguns erros de cache, mas uma métrica melhor para monitorar a pressão de memória seria `Used Memory` ou `Evicted Keys`.</span><span class="sxs-lookup"><span data-stu-id="6298a-164">If items are being evicted from the cache due to memory pressure then there may be some cache misses, but a better metric to monitor for memory pressure would be `Used Memory` or `Evicted Keys`.</span></span> |
| <span data-ttu-id="6298a-165">Clientes conectados</span><span class="sxs-lookup"><span data-stu-id="6298a-165">Connected Clients</span></span> |<span data-ttu-id="6298a-166">O número de conexões de cliente com o cache durante o intervalo de relatório especificado.</span><span class="sxs-lookup"><span data-stu-id="6298a-166">The number of client connections to the cache during the specified reporting interval.</span></span> <span data-ttu-id="6298a-167">Esse número é mapeado para `connected_clients` do comando INFO do Redis.</span><span class="sxs-lookup"><span data-stu-id="6298a-167">This maps to `connected_clients` from the Redis INFO command.</span></span> <span data-ttu-id="6298a-168">Assim que o [limite de conexão](cache-configure.md#default-redis-server-configuration) for atingido, as tentativas de conexão subsequentes ao cache falharão.</span><span class="sxs-lookup"><span data-stu-id="6298a-168">Once the [connection limit](cache-configure.md#default-redis-server-configuration) is reached subsequent connection attempts to the cache will fail.</span></span> <span data-ttu-id="6298a-169">Observe que, mesmo que não haja um aplicativo cliente ativo, pode haver ainda algumas instâncias de clientes conectados devido a conexões e processos internos.</span><span class="sxs-lookup"><span data-stu-id="6298a-169">Note that even if there are no active client application, there may still be a few instances of connected clients due to internal processes and connections.</span></span> |
| <span data-ttu-id="6298a-170">Chaves removidas</span><span class="sxs-lookup"><span data-stu-id="6298a-170">Evicted Keys</span></span> |<span data-ttu-id="6298a-171">O número de itens removidos do cache durante o intervalo de relatório especificado devido ao limite de `maxmemory` .</span><span class="sxs-lookup"><span data-stu-id="6298a-171">The number of items evicted from the cache during the specified reporting interval due to the `maxmemory` limit.</span></span> <span data-ttu-id="6298a-172">Esse número é mapeado para `evicted_keys` do comando INFO do Redis.</span><span class="sxs-lookup"><span data-stu-id="6298a-172">This maps to `evicted_keys` from the Redis INFO command.</span></span> |
| <span data-ttu-id="6298a-173">Chaves expiradas</span><span class="sxs-lookup"><span data-stu-id="6298a-173">Expired Keys</span></span> |<span data-ttu-id="6298a-174">O número de itens expirados do cache durante o intervalo de relatório especificado.</span><span class="sxs-lookup"><span data-stu-id="6298a-174">The number of items expired from the cache during the specified reporting interval.</span></span> <span data-ttu-id="6298a-175">Esse valor é mapeado para `expired_keys` do comando INFO do Redis.</span><span class="sxs-lookup"><span data-stu-id="6298a-175">This value maps to `expired_keys` from the Redis INFO command.</span></span> |
| <span data-ttu-id="6298a-176">Total de chaves</span><span class="sxs-lookup"><span data-stu-id="6298a-176">Total Keys</span></span>  | <span data-ttu-id="6298a-177">O número máximo de chaves no cache durante o período de relatório anterior.</span><span class="sxs-lookup"><span data-stu-id="6298a-177">The maximum number of keys in the cache during the past reporting time period.</span></span> <span data-ttu-id="6298a-178">Esse número é mapeado para `keyspace` do comando INFO do Redis.</span><span class="sxs-lookup"><span data-stu-id="6298a-178">This maps to `keyspace` from the Redis INFO command.</span></span> <span data-ttu-id="6298a-179">Devido a uma limitação do sistema subjacente de métricas, para os caches com clustering habilitado, o Total de Chaves retorna o número máximo de chaves do fragmento que tinha o número máximo de chaves durante o intervalo do relatório.</span><span class="sxs-lookup"><span data-stu-id="6298a-179">Due to a limitation of the underlying metrics system, for caches with clustering enabled, Total Keys returns the maximum number of keys of the shard that had the maximum number of keys during the reporting interval.</span></span>  |
| <span data-ttu-id="6298a-180">Gets</span><span class="sxs-lookup"><span data-stu-id="6298a-180">Gets</span></span> |<span data-ttu-id="6298a-181">O número de operações get do cache durante o intervalo de relatório especificado.</span><span class="sxs-lookup"><span data-stu-id="6298a-181">The number of get operations from the cache during the specified reporting interval.</span></span> <span data-ttu-id="6298a-182">Esse valor é a soma dos seguintes valores de informações do comando INFO all do Redis: `cmdstat_get`, `cmdstat_hget`, `cmdstat_hgetall`, `cmdstat_hmget`, `cmdstat_mget`, `cmdstat_getbit` e `cmdstat_getrange`. Ele é equivalente à soma de acertos e erros de cache durante o intervalo de relatório.</span><span class="sxs-lookup"><span data-stu-id="6298a-182">This value is the sum of the following values from the Redis INFO all command: `cmdstat_get`, `cmdstat_hget`, `cmdstat_hgetall`, `cmdstat_hmget`, `cmdstat_mget`, `cmdstat_getbit`, and `cmdstat_getrange`, and is equivalent to the sum of cache hits and misses during the reporting interval.</span></span> |
| <span data-ttu-id="6298a-183">Carga do Servidor Redis</span><span class="sxs-lookup"><span data-stu-id="6298a-183">Redis Server Load</span></span> |<span data-ttu-id="6298a-184">O percentual de ciclos em que o servidor Redis está ocupado processando, em vez de ocioso esperando por mensagens.</span><span class="sxs-lookup"><span data-stu-id="6298a-184">The percentage of cycles in which the Redis server is busy processing and not waiting idle for messages.</span></span> <span data-ttu-id="6298a-185">Se esse contador atingir 100, isso indicará que o servidor Redis atingiu um limite de desempenho, e a CPU não pode processar o trabalho mais depressa.</span><span class="sxs-lookup"><span data-stu-id="6298a-185">If this counter reaches 100 it means the Redis server has hit a performance ceiling and the CPU can't process work any faster.</span></span> <span data-ttu-id="6298a-186">Se houver alta Carga do Servidor Redis, haverá exceções de tempo limite no cliente.</span><span class="sxs-lookup"><span data-stu-id="6298a-186">If you are seeing high Redis Server Load then you will see timeout exceptions in the client.</span></span> <span data-ttu-id="6298a-187">Nesse caso, considere escalar verticalmente ou particionar seus dados em vários caches.</span><span class="sxs-lookup"><span data-stu-id="6298a-187">In this case you should consider scaling up or partitioning your data into multiple caches.</span></span> |
| <span data-ttu-id="6298a-188">Sets</span><span class="sxs-lookup"><span data-stu-id="6298a-188">Sets</span></span> |<span data-ttu-id="6298a-189">O número de operações set para o cache durante o intervalo de relatório especificado.</span><span class="sxs-lookup"><span data-stu-id="6298a-189">The number of set operations to the cache during the specified reporting interval.</span></span> <span data-ttu-id="6298a-190">Esse valor é a soma dos seguintes valores de informações do comando INFO all do Redis : `cmdstat_set`, `cmdstat_hset`, `cmdstat_hmset`, `cmdstat_hsetnx`, `cmdstat_lset`, `cmdstat_mset`, `cmdstat_msetnx`, `cmdstat_setbit`, `cmdstat_setex`, `cmdstat_setrange` e `cmdstat_setnx`.</span><span class="sxs-lookup"><span data-stu-id="6298a-190">This value is the sum of the following values from the Redis INFO all command: `cmdstat_set`, `cmdstat_hset`, `cmdstat_hmset`, `cmdstat_hsetnx`, `cmdstat_lset`, `cmdstat_mset`, `cmdstat_msetnx`, `cmdstat_setbit`, `cmdstat_setex`, `cmdstat_setrange`, and `cmdstat_setnx`.</span></span> |
| <span data-ttu-id="6298a-191">Total de Operações</span><span class="sxs-lookup"><span data-stu-id="6298a-191">Total Operations</span></span> |<span data-ttu-id="6298a-192">O número total de comandos processados pelo servidor de cache durante o intervalo de relatório especificado.</span><span class="sxs-lookup"><span data-stu-id="6298a-192">The total number of commands processed by the cache server during the specified reporting interval.</span></span> <span data-ttu-id="6298a-193">Esse valor é mapeado para `total_commands_processed` do comando INFO do Redis.</span><span class="sxs-lookup"><span data-stu-id="6298a-193">This value maps to `total_commands_processed` from the Redis INFO command.</span></span> <span data-ttu-id="6298a-194">Observe que, quando o Cache Redis do Azure for usado somente para publicação/assinatura, não haverá métricas para `Cache Hits`, `Cache Misses`, `Gets` ou `Sets`, mas haverá métricas de `Total Operations` que refletem o uso do cache para operações de publicação/assinatura.</span><span class="sxs-lookup"><span data-stu-id="6298a-194">Note that when Azure Redis Cache is used purely for pub/sub there will be no metrics for `Cache Hits`, `Cache Misses`, `Gets`, or `Sets`, but there will be `Total Operations` metrics that reflect the cache usage for pub/sub operations.</span></span> |
| <span data-ttu-id="6298a-195">Memória Usada</span><span class="sxs-lookup"><span data-stu-id="6298a-195">Used Memory</span></span> |<span data-ttu-id="6298a-196">A quantidade de memória de cache usada para os pares de chave/valor no cache, em MB, durante o intervalo de relatório especificado.</span><span class="sxs-lookup"><span data-stu-id="6298a-196">The amount of cache memory used for key/value pairs in the cache in MB during the specified reporting interval.</span></span> <span data-ttu-id="6298a-197">Esse valor é mapeado para `used_memory` do comando INFO do Redis.</span><span class="sxs-lookup"><span data-stu-id="6298a-197">This value maps to `used_memory` from the Redis INFO command.</span></span> <span data-ttu-id="6298a-198">Isso não inclui metadados ou fragmentação.</span><span class="sxs-lookup"><span data-stu-id="6298a-198">This does not include metadata or fragmentation.</span></span> |
| <span data-ttu-id="6298a-199">Memória RSS Usada</span><span class="sxs-lookup"><span data-stu-id="6298a-199">Used Memory RSS</span></span> |<span data-ttu-id="6298a-200">A quantidade de memória de cache usada, em MB, durante o intervalo de relatório especificado, incluindo fragmentação e metadados.</span><span class="sxs-lookup"><span data-stu-id="6298a-200">The amount of cache memory used in MB during the specified reporting interval, including fragmentation and metadata.</span></span> <span data-ttu-id="6298a-201">Esse valor é mapeado para `used_memory_rss` do comando INFO do Redis.</span><span class="sxs-lookup"><span data-stu-id="6298a-201">This value maps to `used_memory_rss` from the Redis INFO command.</span></span> |
| <span data-ttu-id="6298a-202">CPU</span><span class="sxs-lookup"><span data-stu-id="6298a-202">CPU</span></span> |<span data-ttu-id="6298a-203">A utilização da CPU do servidor do Cache Redis do Azure como um percentual durante o intervalo de relatório especificado.</span><span class="sxs-lookup"><span data-stu-id="6298a-203">The CPU utilization of the Azure Redis Cache server as a percentage during the specified reporting interval.</span></span> <span data-ttu-id="6298a-204">Esse valor é mapeado para o contador de desempenho `\Processor(_Total)\% Processor Time` do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="6298a-204">This value maps to the operating system `\Processor(_Total)\% Processor Time` performance counter.</span></span> |
| <span data-ttu-id="6298a-205">Cache Lido</span><span class="sxs-lookup"><span data-stu-id="6298a-205">Cache Read</span></span> |<span data-ttu-id="6298a-206">A quantidade de dados lidos do cache, em MB/s, durante o intervalo de relatório especificado.</span><span class="sxs-lookup"><span data-stu-id="6298a-206">The amount of data read from the cache in Megabytes per second (MB/s) during the specified reporting interval.</span></span> <span data-ttu-id="6298a-207">Esse valor é derivado das placas de adaptador de rede que dão suporte à máquina virtual que hospeda o cache e não é específico do Redis.</span><span class="sxs-lookup"><span data-stu-id="6298a-207">This value is derived from the network interface cards that support the virtual machine that hosts the cache and is not Redis specific.</span></span> <span data-ttu-id="6298a-208">**Esse valor corresponde à largura de banda da rede usada por esse cache. Se você deseja configurar alertas para limites de largura de banda de rede no servidor, crie-os usando o contador `Cache Read`. Confira [esta tabela](cache-faq.md#cache-performance) para ver os limites de largura de banda observados para vários tamanhos e tipos de preço de cache.**</span><span class="sxs-lookup"><span data-stu-id="6298a-208">**This value corresponds to the network bandwidth used by this cache. If you want to set up alerts for server side network bandwidth limits, then create it using this `Cache Read` counter. See [this table](cache-faq.md#cache-performance) for the observed bandwidth limits for various cache pricing tiers and sizes.**</span></span> |
| <span data-ttu-id="6298a-209">Gravação no Cache</span><span class="sxs-lookup"><span data-stu-id="6298a-209">Cache Write</span></span> |<span data-ttu-id="6298a-210">A quantidade de dados gravados no cache, em MB/s, durante o intervalo de relatório especificado.</span><span class="sxs-lookup"><span data-stu-id="6298a-210">The amount of data written to the cache in Megabytes per second (MB/s) during the specified reporting interval.</span></span> <span data-ttu-id="6298a-211">Esse valor é derivado das placas de adaptador de rede que dão suporte à máquina virtual que hospeda o cache e não é específico do Redis.</span><span class="sxs-lookup"><span data-stu-id="6298a-211">This value is derived from the network interface cards that support the virtual machine that hosts the cache and is not Redis specific.</span></span> <span data-ttu-id="6298a-212">Esse valor corresponde à largura de banda de rede de dados enviados para o cache do cliente.</span><span class="sxs-lookup"><span data-stu-id="6298a-212">This value corresponds to the network bandwidth of data sent to the cache from the client.</span></span> |

<a name="operations-and-alerts"></a>
## <a name="alerts"></a><span data-ttu-id="6298a-213">Alertas</span><span class="sxs-lookup"><span data-stu-id="6298a-213">Alerts</span></span>
<span data-ttu-id="6298a-214">É possível configurar para receber alertas com base em métricas e logs de atividades.</span><span class="sxs-lookup"><span data-stu-id="6298a-214">You can configure to receive alerts based on metrics and activity logs.</span></span> <span data-ttu-id="6298a-215">O Azure Monitor permite configurar um alerta para que ele faça o seguinte quando for acionado:</span><span class="sxs-lookup"><span data-stu-id="6298a-215">Azure Monitor allows you to configure an alert to do the following when it triggers:</span></span>

* <span data-ttu-id="6298a-216">Enviar uma notificação por email</span><span class="sxs-lookup"><span data-stu-id="6298a-216">Send an email notification</span></span>
* <span data-ttu-id="6298a-217">Chamar um webhook</span><span class="sxs-lookup"><span data-stu-id="6298a-217">Call a webhook</span></span>
* <span data-ttu-id="6298a-218">Invocar um aplicativo lógico do Azure</span><span class="sxs-lookup"><span data-stu-id="6298a-218">Invoke an Azure Logic App</span></span>

<span data-ttu-id="6298a-219">Para configurar regras de Alerta para seu cache, clique em **Regras de alerta** no **menu Recursos**.</span><span class="sxs-lookup"><span data-stu-id="6298a-219">To configure Alert rules for your cache, click **Alert rules** from the **Resource menu**.</span></span>

![Monitoramento](./media/cache-how-to-monitor/redis-cache-monitoring.png)

<span data-ttu-id="6298a-221">Para saber mais sobre como configurar e usar Alertas, consulte [Visão geral dos alertas](../monitoring-and-diagnostics/insights-alerts-portal.md).</span><span class="sxs-lookup"><span data-stu-id="6298a-221">For more information about configuring and using Alerts, see [Overview of Alerts](../monitoring-and-diagnostics/insights-alerts-portal.md).</span></span>

## <a name="activity-logs"></a><span data-ttu-id="6298a-222">Logs de atividade</span><span class="sxs-lookup"><span data-stu-id="6298a-222">Activity Logs</span></span>
<span data-ttu-id="6298a-223">Os logs de atividades fornecem informações sobre as operações realizadas em suas instâncias do Cache Redis do Azure.</span><span class="sxs-lookup"><span data-stu-id="6298a-223">Activity logs provide insight into the operations that were performed on your Azure Redis Cache instances.</span></span> <span data-ttu-id="6298a-224">Anteriormente eles eram conhecidos como "logs de auditoria" ou "logs operacionais".</span><span class="sxs-lookup"><span data-stu-id="6298a-224">It was previously known as "audit logs" or "operational logs".</span></span> <span data-ttu-id="6298a-225">Usando logs de atividades, é possível determinar “o que, quem e quando” para quaisquer operações de gravação (PUT, POST, DELETE) realizadas em suas instâncias do Cache Redis do Azure.</span><span class="sxs-lookup"><span data-stu-id="6298a-225">Using activity logs, you can determine the "what, who, and when" for any write operations (PUT, POST, DELETE) taken on your Azure Redis Cache instances.</span></span> 

> [!NOTE]
> <span data-ttu-id="6298a-226">Os logs de atividade não incluem operações de leitura (GET).</span><span class="sxs-lookup"><span data-stu-id="6298a-226">Activity logs do not include read (GET) operations.</span></span>
>
>

<span data-ttu-id="6298a-227">Para exibir logs de atividade do seu cache, clique em **Logs de atividade** no **menu Recursos**.</span><span class="sxs-lookup"><span data-stu-id="6298a-227">To view activity logs for your cache, click **Activity logs** from the **Resource menu**.</span></span>

<span data-ttu-id="6298a-228">Para saber mais sobre como Logs de atividade, consulte [Visão geral dos logs de atividade do Azure](../monitoring-and-diagnostics/monitoring-overview-activity-logs.md).</span><span class="sxs-lookup"><span data-stu-id="6298a-228">For more information about Activity logs, see [Overview of the Azure Activity Log](../monitoring-and-diagnostics/monitoring-overview-activity-logs.md).</span></span>











