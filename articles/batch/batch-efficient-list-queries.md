---
title: consultas de lista eficiente aaaDesign - lote do Azure | Microsoft Docs
description: "Aumente o desempenho filtrando suas consultas ao solicitar informações sobre os recursos do Lote, como pools, trabalhos, tarefas e nós de computação."
services: batch
documentationcenter: .net
author: tamram
manager: timlt
editor: 
ms.assetid: 031fefeb-248e-4d5a-9bc2-f07e46ddd30d
ms.service: batch
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: vm-windows
ms.workload: big-compute
ms.date: 08/02/2017
ms.author: tamram
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: b7e554119ec9d0e9e8007ccfb1ca80fe142a5e27
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="create-queries-toolist-batch-resources-efficiently"></a><span data-ttu-id="282c1-103">Criar consultas de recursos de lote toolist com eficiência</span><span class="sxs-lookup"><span data-stu-id="282c1-103">Create queries toolist Batch resources efficiently</span></span>

<span data-ttu-id="282c1-104">Aqui você aprenderá como tooincrease desempenho do seu aplicativo do Azure Batch reduzindo Olá quantidade de dados que são retornados pelo serviço de hello quando você consulta trabalhos, tarefas e nós de computação com hello [Batch .NET] [ api_net] biblioteca.</span><span class="sxs-lookup"><span data-stu-id="282c1-104">Here you'll learn how tooincrease your Azure Batch application's performance by reducing hello amount of data that is returned by hello service when you query jobs, tasks, and compute nodes with hello [Batch .NET][api_net] library.</span></span>

<span data-ttu-id="282c1-105">Quase todos os aplicativos de lote necessário tooperform algum tipo de monitoramento ou outra operação que consulta o serviço de lote hello, geralmente em intervalos regulares.</span><span class="sxs-lookup"><span data-stu-id="282c1-105">Nearly all Batch applications need tooperform some type of monitoring or other operation that queries hello Batch service, often at regular intervals.</span></span> <span data-ttu-id="282c1-106">Por exemplo, toodetermine se houver qualquer tarefa em fila restantes em um trabalho, você deve obter dados em todas as tarefas no trabalho de saudação.</span><span class="sxs-lookup"><span data-stu-id="282c1-106">For example, toodetermine whether there are any queued tasks remaining in a job, you must get data on every task in hello job.</span></span> <span data-ttu-id="282c1-107">status de saudação toodetermine de nós em seu pool, você deve obter dados em cada nó no pool de saudação.</span><span class="sxs-lookup"><span data-stu-id="282c1-107">toodetermine hello status of nodes in your pool, you must get data on every node in hello pool.</span></span> <span data-ttu-id="282c1-108">Este artigo explica como tooexecute como as consultas em Olá modo mais eficiente.</span><span class="sxs-lookup"><span data-stu-id="282c1-108">This article explains how tooexecute such queries in hello most efficient way.</span></span>

> [!NOTE]
> <span data-ttu-id="282c1-109">Olá serviço de lote fornece suporte de API especial para o cenário comum de saudação de contagem de tarefas em um trabalho.</span><span class="sxs-lookup"><span data-stu-id="282c1-109">hello Batch service provides special API support for hello common scenario of counting tasks in a job.</span></span> <span data-ttu-id="282c1-110">Em vez de usar uma consulta de lista para eles, você pode chamar hello [obter contagens de tarefa] [ rest_get_task_counts] operação.</span><span class="sxs-lookup"><span data-stu-id="282c1-110">Instead of using a list query for these, you can call hello [Get Task Counts][rest_get_task_counts] operation.</span></span> <span data-ttu-id="282c1-111">Obter Contagens de Tarefas indica quantas tarefas estão pendentes, em execução ou concluídas e quantas tarefas tiveram êxito ou falharam.</span><span class="sxs-lookup"><span data-stu-id="282c1-111">Get Task Counts indicates how many tasks are pending, running or complete, and how many tasks have succeeded or failed.</span></span> <span data-ttu-id="282c1-112">Obter Contagens de Tarefas é mais eficiente do que uma consulta de lista.</span><span class="sxs-lookup"><span data-stu-id="282c1-112">Get Task Counts is more efficient than a list query.</span></span> <span data-ttu-id="282c1-113">Para obter mais informações, consulte [Contar tarefas para um trabalho por estado (versão prévia)](batch-get-task-counts.md).</span><span class="sxs-lookup"><span data-stu-id="282c1-113">For more information, see [Count tasks for a job by state (Preview)](batch-get-task-counts.md).</span></span> 
>
> <span data-ttu-id="282c1-114">Olá operação obter contagens de tarefa não está disponível em versões de serviço de lote anterior ao 2017-06-01.5.1.</span><span class="sxs-lookup"><span data-stu-id="282c1-114">hello Get Task Counts operation is not available in Batch service versions earlier than 2017-06-01.5.1.</span></span> <span data-ttu-id="282c1-115">Se você estiver usando uma versão mais antiga do serviço hello, em seguida, use uma lista de tarefas de toocount de consulta em um trabalho.</span><span class="sxs-lookup"><span data-stu-id="282c1-115">If you are using an older version of hello service, then use a list query toocount tasks in a job instead.</span></span>
>
> 

## <a name="meet-hello-detaillevel"></a><span data-ttu-id="282c1-116">Atender Olá DetailLevel</span><span class="sxs-lookup"><span data-stu-id="282c1-116">Meet hello DetailLevel</span></span>
<span data-ttu-id="282c1-117">Em um aplicativo de lote de produção, podem número de entidades, como trabalhos, tarefas e os nós de computação em Olá milhares.</span><span class="sxs-lookup"><span data-stu-id="282c1-117">In a production Batch application, entities like jobs, tasks, and compute nodes can number in hello thousands.</span></span> <span data-ttu-id="282c1-118">Quando você solicita informações sobre esses recursos, uma potencialmente grande quantidade de dados deve "ocupar durante a transmissão hello" do aplicativo de tooyour de serviço de lote hello em cada consulta.</span><span class="sxs-lookup"><span data-stu-id="282c1-118">When you request information on these resources, a potentially large amount of data must "cross hello wire" from hello Batch service tooyour application on each query.</span></span> <span data-ttu-id="282c1-119">Limitando o número de saudação de itens e o tipo de informações retornadas por uma consulta, você pode aumentar a velocidade de saudação de suas consultas e hello, portanto, o desempenho de seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="282c1-119">By limiting hello number of items and type of information that is returned by a query, you can increase hello speed of your queries, and therefore hello performance of your application.</span></span>

<span data-ttu-id="282c1-120">Isso [.NET em lotes] [ api_net] listas de trecho de código API *cada* tarefa que está associada com um trabalho, juntamente com *todas as* das propriedades de saudação de cada tarefa:</span><span class="sxs-lookup"><span data-stu-id="282c1-120">This [Batch .NET][api_net] API code snippet lists *every* task that is associated with a job, along with *all* of hello properties of each task:</span></span>

```csharp
// Get a collection of all of hello tasks and all of their properties for job-001
IPagedEnumerable<CloudTask> allTasks =
    batchClient.JobOperations.ListTasks("job-001");
```

<span data-ttu-id="282c1-121">Você pode executar uma consulta de lista muito mais eficiente, no entanto, ao aplicar uma consulta de tooyour "nível de detalhe".</span><span class="sxs-lookup"><span data-stu-id="282c1-121">You can perform a much more efficient list query, however, by applying a "detail level" tooyour query.</span></span> <span data-ttu-id="282c1-122">Isso é feito fornecendo uma [ODATADetailLevel] [ odata] objeto toohello [JobOperations.ListTasks] [ net_list_tasks] método.</span><span class="sxs-lookup"><span data-stu-id="282c1-122">You do this by supplying an [ODATADetailLevel][odata] object toohello [JobOperations.ListTasks][net_list_tasks] method.</span></span> <span data-ttu-id="282c1-123">Este trecho de código retorna apenas ID hello, linha de comando e propriedades de informações de nó de computação de tarefas concluídas:</span><span class="sxs-lookup"><span data-stu-id="282c1-123">This snippet returns only hello ID, command line, and compute node information properties of completed tasks:</span></span>

```csharp
// Configure an ODATADetailLevel specifying a subset of tasks and
// their properties tooreturn
ODATADetailLevel detailLevel = new ODATADetailLevel();
detailLevel.FilterClause = "state eq 'completed'";
detailLevel.SelectClause = "id,commandLine,nodeInfo";

// Supply hello ODATADetailLevel toohello ListTasks method
IPagedEnumerable<CloudTask> completedTasks =
    batchClient.JobOperations.ListTasks("job-001", detailLevel);
```

<span data-ttu-id="282c1-124">Nesse cenário de exemplo, se houver milhares de tarefas no trabalho hello, Olá resultados da consulta segundo Olá normalmente serão muito mais rápido do que Olá retornado pela primeira vez.</span><span class="sxs-lookup"><span data-stu-id="282c1-124">In this example scenario, if there are thousands of tasks in hello job, hello results from hello second query will typically be returned much quicker than hello first.</span></span> <span data-ttu-id="282c1-125">Há mais informações sobre como usar ODATADetailLevel, quando você lista itens com hello lote .NET API [abaixo](#efficient-querying-in-batch-net).</span><span class="sxs-lookup"><span data-stu-id="282c1-125">More information about using ODATADetailLevel when you list items with hello Batch .NET API is included [below](#efficient-querying-in-batch-net).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="282c1-126">É altamente recomendável que você *sempre* forneça uma lista de .NET API ODATADetailLevel objeto tooyour chama tooensure máxima eficiência e o desempenho do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="282c1-126">We highly recommend that you *always* supply an ODATADetailLevel object tooyour .NET API list calls tooensure maximum efficiency and performance of your application.</span></span> <span data-ttu-id="282c1-127">Ao especificar um nível de detalhe, você pode ajudar a toolower tempos de resposta do serviço de lote, melhorar a utilização de rede e minimizar o uso de memória por aplicativos cliente.</span><span class="sxs-lookup"><span data-stu-id="282c1-127">By specifying a detail level, you can help toolower Batch service response times, improve network utilization, and minimize memory usage by client applications.</span></span>
> 
> 

## <a name="filter-select-and-expand"></a><span data-ttu-id="282c1-128">Filtrar, selecionar e expandir</span><span class="sxs-lookup"><span data-stu-id="282c1-128">Filter, select, and expand</span></span>
<span data-ttu-id="282c1-129">Olá [Batch .NET] [ api_net] e [restante do lote] [ api_rest] APIs fornecem Olá capacidade tooreduce ambos de número de itens que são retornados em uma lista, Olá Assim como Olá a quantidade de informações que são retornadas para cada um.</span><span class="sxs-lookup"><span data-stu-id="282c1-129">hello [Batch .NET][api_net] and [Batch REST][api_rest] APIs provide hello ability tooreduce both hello number of items that are returned in a list, as well as hello amount of information that is returned for each.</span></span> <span data-ttu-id="282c1-130">Você faz isso especificando **filter**, **select** e **expand strings** ao executar as consultas da lista.</span><span class="sxs-lookup"><span data-stu-id="282c1-130">You do so by specifying **filter**, **select**, and **expand strings** when performing list queries.</span></span>

### <a name="filter"></a><span data-ttu-id="282c1-131">Filter</span><span class="sxs-lookup"><span data-stu-id="282c1-131">Filter</span></span>
<span data-ttu-id="282c1-132">cadeia de caracteres de filtro de saudação é uma expressão que reduz o número de saudação de itens que são retornados.</span><span class="sxs-lookup"><span data-stu-id="282c1-132">hello filter string is an expression that reduces hello number of items that are returned.</span></span> <span data-ttu-id="282c1-133">Por exemplo, lista apenas hello tarefas para um trabalho ou lista somente nós de computação que estão prontos toorun tarefas em execução.</span><span class="sxs-lookup"><span data-stu-id="282c1-133">For example, list only hello running tasks for a job, or list only compute nodes that are ready toorun tasks.</span></span>

* <span data-ttu-id="282c1-134">cadeia de caracteres de filtro de saudação consiste em uma ou mais expressões, com uma expressão que consiste em um nome de propriedade, um operador e um valor.</span><span class="sxs-lookup"><span data-stu-id="282c1-134">hello filter string consists of one or more expressions, with an expression that consists of a property name, operator, and value.</span></span> <span data-ttu-id="282c1-135">Propriedades de saudação que podem ser especificadas são tipo de entidade tooeach específico que você consulta, assim como operadores Olá que têm suporte para cada propriedade.</span><span class="sxs-lookup"><span data-stu-id="282c1-135">hello properties that can be specified are specific tooeach entity type that you query, as are hello operators that are supported for each property.</span></span>
* <span data-ttu-id="282c1-136">Várias expressões podem ser combinadas usando operadores lógicos Olá `and` e `or`.</span><span class="sxs-lookup"><span data-stu-id="282c1-136">Multiple expressions can be combined by using hello logical operators `and` and `or`.</span></span>
* <span data-ttu-id="282c1-137">Este exemplo filtrar listas de cadeia de caracteres somente tarefas Olá executando "renderizar": `(state eq 'running') and startswith(id, 'renderTask')`.</span><span class="sxs-lookup"><span data-stu-id="282c1-137">This example filter string lists only hello running "render" tasks: `(state eq 'running') and startswith(id, 'renderTask')`.</span></span>

### <a name="select"></a><span data-ttu-id="282c1-138">Selecionar</span><span class="sxs-lookup"><span data-stu-id="282c1-138">Select</span></span>
<span data-ttu-id="282c1-139">cadeia de caracteres selecione Olá limita os valores de propriedade Olá são retornados para cada item.</span><span class="sxs-lookup"><span data-stu-id="282c1-139">hello select string limits hello property values that are returned for each item.</span></span> <span data-ttu-id="282c1-140">Especificar uma lista de nomes de propriedade e apenas os valores de propriedade são retornados para itens de Olá Olá resultados da consulta.</span><span class="sxs-lookup"><span data-stu-id="282c1-140">You specify a list of property names, and only those property values are returned for hello items in hello query results.</span></span>

* <span data-ttu-id="282c1-141">cadeia de caracteres selecione Olá consiste em uma lista separada por vírgulas de nomes de propriedade.</span><span class="sxs-lookup"><span data-stu-id="282c1-141">hello select string consists of a comma-separated list of property names.</span></span> <span data-ttu-id="282c1-142">Você pode especificar qualquer uma das propriedades Olá Olá tipo de entidade que está sendo consultada.</span><span class="sxs-lookup"><span data-stu-id="282c1-142">You can specify any of hello properties for hello entity type you are querying.</span></span>
* <span data-ttu-id="282c1-143">Esta cadeia de caracteres select de exemplo especifica que apenas três valores da propriedade devem ser retornados para cada tarefa: `id, state, stateTransitionTime`.</span><span class="sxs-lookup"><span data-stu-id="282c1-143">This example select string specifies that only three property values should be returned for each task: `id, state, stateTransitionTime`.</span></span>

### <a name="expand"></a><span data-ttu-id="282c1-144">Expanda</span><span class="sxs-lookup"><span data-stu-id="282c1-144">Expand</span></span>
<span data-ttu-id="282c1-145">Olá expanda cadeia de caracteres reduz o número de saudação de chamadas de API que são necessária tooobtain certas informações.</span><span class="sxs-lookup"><span data-stu-id="282c1-145">hello expand string reduces hello number of API calls that are required tooobtain certain information.</span></span> <span data-ttu-id="282c1-146">Quando você usa uma cadeia de caracteres expand, é possível obter mais informações sobre cada item com uma única chamada de API.</span><span class="sxs-lookup"><span data-stu-id="282c1-146">When you use an expand string, more information about each item can be obtained with a single API call.</span></span> <span data-ttu-id="282c1-147">Em vez de primeira lista Olá obtenção de entidades, solicitação de informações para cada item na lista de saudação, você use uma cadeia de caracteres de expansão tooobtain Olá mesmas informações em uma única chamada de API.</span><span class="sxs-lookup"><span data-stu-id="282c1-147">Rather than first obtaining hello list of entities, then requesting information for each item in hello list, you use an expand string tooobtain hello same information in a single API call.</span></span> <span data-ttu-id="282c1-148">Menos chamadas de API significam um desempenho melhor.</span><span class="sxs-lookup"><span data-stu-id="282c1-148">Less API calls means better performance.</span></span>

* <span data-ttu-id="282c1-149">Toohello selecione cadeia de caracteres semelhante, Olá expandir os controles de cadeia de caracteres se determinados dados são incluídos nos resultados da consulta de lista.</span><span class="sxs-lookup"><span data-stu-id="282c1-149">Similar toohello select string, hello expand string controls whether certain data is included in list query results.</span></span>
* <span data-ttu-id="282c1-150">Olá expanda cadeia de caracteres é suportado apenas quando ele é usado na lista de trabalhos, agendas de trabalho, tarefas e pools.</span><span class="sxs-lookup"><span data-stu-id="282c1-150">hello expand string is only supported when it is used in listing jobs, job schedules, tasks, and pools.</span></span> <span data-ttu-id="282c1-151">Atualmente, dá suporte apenas a informações de estatísticas.</span><span class="sxs-lookup"><span data-stu-id="282c1-151">Currently, it only supports statistics information.</span></span>
* <span data-ttu-id="282c1-152">Quando todas as propriedades são necessárias e selecione nenhuma cadeia de caracteres for especificada, Olá expanda cadeia de caracteres *deve* ser tooget usadas as informações de estatísticas.</span><span class="sxs-lookup"><span data-stu-id="282c1-152">When all properties are required and no select string is specified, hello expand string *must* be used tooget statistics information.</span></span> <span data-ttu-id="282c1-153">Se uma cadeia de select é tooobtain usado um subconjunto de propriedades, em seguida, `stats` pode ser especificada na cadeia de caracteres selecione hello e Olá expanda cadeia de caracteres não precisa toobe especificado.</span><span class="sxs-lookup"><span data-stu-id="282c1-153">If a select string is used tooobtain a subset of properties, then `stats` can be specified in hello select string, and hello expand string does not need toobe specified.</span></span>
* <span data-ttu-id="282c1-154">Este exemplo expanda cadeia de caracteres Especifica que as informações de estatísticas devem ser retornadas para cada item na lista de saudação: `stats`.</span><span class="sxs-lookup"><span data-stu-id="282c1-154">This example expand string specifies that statistics information should be returned for each item in hello list: `stats`.</span></span>

> [!NOTE]
> <span data-ttu-id="282c1-155">Ao construir qualquer Olá três tipos de cadeia de caracteres de consulta (filtrar, selecione e expanda), você deve garantir que os nomes de propriedade hello e case correspondem ao que suas contrapartes de elemento da API REST.</span><span class="sxs-lookup"><span data-stu-id="282c1-155">When constructing any of hello three query string types (filter, select, and expand), you must ensure that hello property names and case match that of their REST API element counterparts.</span></span> <span data-ttu-id="282c1-156">Por exemplo, ao trabalhar com hello .NET [CloudTask](https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudtask) classe, você deve especificar **estado** em vez de **estado**, embora Olá propriedade .NET é [ CloudTask.State](https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudtask.state).</span><span class="sxs-lookup"><span data-stu-id="282c1-156">For example, when working with hello .NET [CloudTask](https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudtask) class, you must specify **state** instead of **State**, even though hello .NET property is [CloudTask.State](https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudtask.state).</span></span> <span data-ttu-id="282c1-157">Consulte as tabelas de saudação abaixo para mapeamentos de propriedade entre Olá .NET e APIs REST.</span><span class="sxs-lookup"><span data-stu-id="282c1-157">See hello tables below for property mappings between hello .NET and REST APIs.</span></span>
> 
> 

### <a name="rules-for-filter-select-and-expand-strings"></a><span data-ttu-id="282c1-158">Especificações das cadeias de caracteres filter, select e expand</span><span class="sxs-lookup"><span data-stu-id="282c1-158">Rules for filter, select, and expand strings</span></span>
* <span data-ttu-id="282c1-159">Nomes de propriedades no filtro, selecione e expanda cadeias de caracteres deve aparecer como fazem em Olá [restante do lote] [ api_rest] API – mesmo quando você usa [Batch .NET] [ api_net] ou um dos Olá outros SDKs do lote.</span><span class="sxs-lookup"><span data-stu-id="282c1-159">Properties names in filter, select, and expand strings should appear as they do in hello [Batch REST][api_rest] API--even when you use [Batch .NET][api_net] or one of hello other Batch SDKs.</span></span>
* <span data-ttu-id="282c1-160">Todos os nomes de propriedade diferenciam maiúsculas de minúsculas, mas valores de propriedade não diferenciam maiúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="282c1-160">All property names are case-sensitive, but property values are case insensitive.</span></span>
* <span data-ttu-id="282c1-161">As cadeias de caracteres de data/hora podem ter um dos dois formatos e devem ser precedidas por `DateTime`.</span><span class="sxs-lookup"><span data-stu-id="282c1-161">Date/time strings can be one of two formats, and must be preceded with `DateTime`.</span></span>
  
  * <span data-ttu-id="282c1-162">Exemplo de formato W3C-DTF: `creationTime gt DateTime'2011-05-08T08:49:37Z'`</span><span class="sxs-lookup"><span data-stu-id="282c1-162">W3C-DTF format example: `creationTime gt DateTime'2011-05-08T08:49:37Z'`</span></span>
  * <span data-ttu-id="282c1-163">Exemplo de formato RFC 1123: `creationTime gt DateTime'Sun, 08 May 2011 08:49:37 GMT'`</span><span class="sxs-lookup"><span data-stu-id="282c1-163">RFC 1123 format example: `creationTime gt DateTime'Sun, 08 May 2011 08:49:37 GMT'`</span></span>
* <span data-ttu-id="282c1-164">As cadeias de caracteres boolianas são `true` ou `false`.</span><span class="sxs-lookup"><span data-stu-id="282c1-164">Boolean strings are either `true` or `false`.</span></span>
* <span data-ttu-id="282c1-165">Se uma propriedade ou operador inválido for especificado, o resultado será um erro `400 (Bad Request)` .</span><span class="sxs-lookup"><span data-stu-id="282c1-165">If an invalid property or operator is specified, a `400 (Bad Request)` error will result.</span></span>

## <a name="efficient-querying-in-batch-net"></a><span data-ttu-id="282c1-166">Consulta eficiente no .NET de Lote</span><span class="sxs-lookup"><span data-stu-id="282c1-166">Efficient querying in Batch .NET</span></span>
<span data-ttu-id="282c1-167">Dentro de saudação [Batch .NET] [ api_net] API, Olá [ODATADetailLevel] [ odata] classe é usada para fornecimento de filtro, selecione e expanda cadeias de caracteres operações de toolist.</span><span class="sxs-lookup"><span data-stu-id="282c1-167">Within hello [Batch .NET][api_net] API, hello [ODATADetailLevel][odata] class is used for supplying filter, select, and expand strings toolist operations.</span></span> <span data-ttu-id="282c1-168">Olá ODataDetailLevel classe tem três propriedades de cadeia de caracteres pública que podem ser especificadas no construtor de saudação ou definidas diretamente no objeto de saudação.</span><span class="sxs-lookup"><span data-stu-id="282c1-168">hello ODataDetailLevel class has three public string properties that can be specified in hello constructor, or set directly on hello object.</span></span> <span data-ttu-id="282c1-169">Você, em seguida, passa Olá ODataDetailLevel objeto como um parâmetro toohello várias operações de lista como [ListPools][net_list_pools], [ListJobs][net_list_jobs], e [ListTasks][net_list_tasks].</span><span class="sxs-lookup"><span data-stu-id="282c1-169">You then pass hello ODataDetailLevel object as a parameter toohello various list operations such as [ListPools][net_list_pools], [ListJobs][net_list_jobs], and [ListTasks][net_list_tasks].</span></span>

* <span data-ttu-id="282c1-170">[ODATADetailLevel][odata].[ FilterClause][odata_filter]: limitar o número de saudação de itens que são retornados.</span><span class="sxs-lookup"><span data-stu-id="282c1-170">[ODATADetailLevel][odata].[FilterClause][odata_filter]: Limit hello number of items that are returned.</span></span>
* <span data-ttu-id="282c1-171">[ODATADetailLevel][odata].[SelectClause][odata_select]: especificar quais valores da propriedade são retornados com cada item.</span><span class="sxs-lookup"><span data-stu-id="282c1-171">[ODATADetailLevel][odata].[SelectClause][odata_select]: Specify which property values are returned with each item.</span></span>
* <span data-ttu-id="282c1-172">[ODATADetailLevel][odata].[ExpandClause][odata_expand]: recuperar dados de todos os itens em uma única chamada à API, em vez de chamadas separadas para cada item.</span><span class="sxs-lookup"><span data-stu-id="282c1-172">[ODATADetailLevel][odata].[ExpandClause][odata_expand]: Retrieve data for all items in a single API call instead of separate calls for each item.</span></span>

<span data-ttu-id="282c1-173">Hello trecho de código a seguir usa Olá lote .NET API tooefficiently consulta Olá serviço de lote para estatísticas de saudação de um conjunto específico de pools de.</span><span class="sxs-lookup"><span data-stu-id="282c1-173">hello following code snippet uses hello Batch .NET API tooefficiently query hello Batch service for hello statistics of a specific set of pools.</span></span> <span data-ttu-id="282c1-174">Nesse cenário, o usuário de lote de saudação tem pools de teste e produção.</span><span class="sxs-lookup"><span data-stu-id="282c1-174">In this scenario, hello Batch user has both test and production pools.</span></span> <span data-ttu-id="282c1-175">pool de teste Olá IDs são prefixados com "test" e o grupo de produção de hello IDs são prefixados com "produção".</span><span class="sxs-lookup"><span data-stu-id="282c1-175">hello test pool IDs are prefixed with "test", and hello production pool IDs are prefixed with "prod".</span></span> <span data-ttu-id="282c1-176">No trecho hello, *myBatchClient* é uma instância inicializada corretamente do hello [BatchClient](https://msdn.microsoft.com/library/azure/microsoft.azure.batch.batchclient) classe.</span><span class="sxs-lookup"><span data-stu-id="282c1-176">In hello snippet, *myBatchClient* is a properly initialized instance of hello [BatchClient](https://msdn.microsoft.com/library/azure/microsoft.azure.batch.batchclient) class.</span></span>

```csharp
// First we need an ODATADetailLevel instance on which tooset hello filter, select,
// and expand clause strings
ODATADetailLevel detailLevel = new ODATADetailLevel();

// We want toopull only hello "test" pools, so we limit hello number of items returned
// by using a FilterClause and specifying that hello pool IDs must start with "test"
detailLevel.FilterClause = "startswith(id, 'test')";

// toofurther limit hello data that crosses hello wire, configure hello SelectClause to
// limit hello properties that are returned on each CloudPool object tooonly
// CloudPool.Id and CloudPool.Statistics
detailLevel.SelectClause = "id, stats";

// Specify hello ExpandClause so that hello .NET API pulls hello statistics for the
// CloudPools in a single underlying REST API call. Note that we use hello pool's
// REST API element name "stats" here as opposed too"Statistics" as it appears in
// hello .NET API (CloudPool.Statistics)
detailLevel.ExpandClause = "stats";

// Now get our collection of pools, minimizing hello amount of data that is returned
// by specifying hello detail level that we configured above
List<CloudPool> testPools =
    await myBatchClient.PoolOperations.ListPools(detailLevel).ToListAsync();
```

> [!TIP]
> <span data-ttu-id="282c1-177">Uma instância de [ODATADetailLevel] [ odata] configurado com Select e cláusulas de expansão também podem ser passadas tooappropriate Get métodos, como [PoolOperations.GetPool](https://msdn.microsoft.com/library/azure/microsoft.azure.batch.pooloperations.getpool.aspx) , quantidade de saudação toolimit de dados que é retornado.</span><span class="sxs-lookup"><span data-stu-id="282c1-177">An instance of [ODATADetailLevel][odata] that is configured with Select and Expand clauses can also be passed tooappropriate Get methods, such as [PoolOperations.GetPool](https://msdn.microsoft.com/library/azure/microsoft.azure.batch.pooloperations.getpool.aspx), toolimit hello amount of data that is returned.</span></span>
> 
> 

## <a name="batch-rest-toonet-api-mappings"></a><span data-ttu-id="282c1-178">Mapeamentos REST too.NET API de lote</span><span class="sxs-lookup"><span data-stu-id="282c1-178">Batch REST too.NET API mappings</span></span>
<span data-ttu-id="282c1-179">Os nomes de propriedade nas cadeias de caracteres de filtro, seleção e expansão *devem* refletir os seus equivalentes da API REST, no nome e no caso.</span><span class="sxs-lookup"><span data-stu-id="282c1-179">Property names in filter, select, and expand strings *must* reflect their REST API counterparts, both in name and case.</span></span> <span data-ttu-id="282c1-180">tabelas de saudação abaixo fornecem mapeamentos entre hello .NET e contrapartes da API REST.</span><span class="sxs-lookup"><span data-stu-id="282c1-180">hello tables below provide mappings between hello .NET and REST API counterparts.</span></span>

### <a name="mappings-for-filter-strings"></a><span data-ttu-id="282c1-181">Mapeamentos para cadeias de caracteres de filtro</span><span class="sxs-lookup"><span data-stu-id="282c1-181">Mappings for filter strings</span></span>
* <span data-ttu-id="282c1-182">**Métodos de lista do .NET**: cada um dos métodos de API .NET Olá nesta coluna aceita um [ODATADetailLevel] [ odata] objeto como um parâmetro.</span><span class="sxs-lookup"><span data-stu-id="282c1-182">**.NET list methods**: Each of hello .NET API methods in this column accepts an [ODATADetailLevel][odata] object as a parameter.</span></span>
* <span data-ttu-id="282c1-183">**Solicitações REST de lista**: API de REST de cada página vinculada tooin esta coluna contém uma tabela que especifica propriedades hello e operações que é permitido em *filtro* cadeias de caracteres.</span><span class="sxs-lookup"><span data-stu-id="282c1-183">**REST list requests**: Each REST API page linked tooin this column contains a table that specifies hello properties and operations that are allowed in *filter* strings.</span></span> <span data-ttu-id="282c1-184">Você usará esses nomes de propriedade e operações ao construir uma cadeia de caracteres [ODATADetailLevel.FilterClause][odata_filter].</span><span class="sxs-lookup"><span data-stu-id="282c1-184">You will use these property names and operations when you construct an [ODATADetailLevel.FilterClause][odata_filter] string.</span></span>

| <span data-ttu-id="282c1-185">Métodos da lista .NET</span><span class="sxs-lookup"><span data-stu-id="282c1-185">.NET list methods</span></span> | <span data-ttu-id="282c1-186">Solicitações da lista REST</span><span class="sxs-lookup"><span data-stu-id="282c1-186">REST list requests</span></span> |
| --- | --- |
| <span data-ttu-id="282c1-187">[CertificateOperations.ListCertificates][net_list_certs]</span><span class="sxs-lookup"><span data-stu-id="282c1-187">[CertificateOperations.ListCertificates][net_list_certs]</span></span> |<span data-ttu-id="282c1-188">[Listar certificados de saudação em uma conta][rest_list_certs]</span><span class="sxs-lookup"><span data-stu-id="282c1-188">[List hello certificates in an account][rest_list_certs]</span></span> |
| <span data-ttu-id="282c1-189">[CloudTask.ListNodeFiles][net_list_task_files]</span><span class="sxs-lookup"><span data-stu-id="282c1-189">[CloudTask.ListNodeFiles][net_list_task_files]</span></span> |<span data-ttu-id="282c1-190">[Listar arquivos de saudação associados à tarefa][rest_list_task_files]</span><span class="sxs-lookup"><span data-stu-id="282c1-190">[List hello files associated with a task][rest_list_task_files]</span></span> |
| <span data-ttu-id="282c1-191">[JobOperations.ListJobPreparationAndReleaseTaskStatus][net_list_jobprep_status]</span><span class="sxs-lookup"><span data-stu-id="282c1-191">[JobOperations.ListJobPreparationAndReleaseTaskStatus][net_list_jobprep_status]</span></span> |<span data-ttu-id="282c1-192">[Lista o status de saudação de preparação de trabalho hello e tarefas de versão para um trabalho][rest_list_jobprep_status]</span><span class="sxs-lookup"><span data-stu-id="282c1-192">[List hello status of hello job preparation and job release tasks for a job][rest_list_jobprep_status]</span></span> |
| <span data-ttu-id="282c1-193">[JobOperations.ListJobs][net_list_jobs]</span><span class="sxs-lookup"><span data-stu-id="282c1-193">[JobOperations.ListJobs][net_list_jobs]</span></span> |<span data-ttu-id="282c1-194">[Listar trabalhos de saudação em uma conta][rest_list_jobs]</span><span class="sxs-lookup"><span data-stu-id="282c1-194">[List hello jobs in an account][rest_list_jobs]</span></span> |
| <span data-ttu-id="282c1-195">[JobOperations.ListNodeFiles][net_list_nodefiles]</span><span class="sxs-lookup"><span data-stu-id="282c1-195">[JobOperations.ListNodeFiles][net_list_nodefiles]</span></span> |<span data-ttu-id="282c1-196">[Lista Olá arquivos em um nó][rest_list_nodefiles]</span><span class="sxs-lookup"><span data-stu-id="282c1-196">[List hello files on a node][rest_list_nodefiles]</span></span> |
| <span data-ttu-id="282c1-197">[JobOperations.ListTasks][net_list_tasks]</span><span class="sxs-lookup"><span data-stu-id="282c1-197">[JobOperations.ListTasks][net_list_tasks]</span></span> |<span data-ttu-id="282c1-198">[Lista de tarefas Olá associada a um trabalho][rest_list_tasks]</span><span class="sxs-lookup"><span data-stu-id="282c1-198">[List hello tasks associated with a job][rest_list_tasks]</span></span> |
| <span data-ttu-id="282c1-199">[JobScheduleOperations.ListJobSchedules][net_list_job_schedules]</span><span class="sxs-lookup"><span data-stu-id="282c1-199">[JobScheduleOperations.ListJobSchedules][net_list_job_schedules]</span></span> |<span data-ttu-id="282c1-200">[Lista Olá agendas de trabalho em uma conta][rest_list_job_schedules]</span><span class="sxs-lookup"><span data-stu-id="282c1-200">[List hello job schedules in an account][rest_list_job_schedules]</span></span> |
| <span data-ttu-id="282c1-201">[JobScheduleOperations.ListJobs][net_list_schedule_jobs]</span><span class="sxs-lookup"><span data-stu-id="282c1-201">[JobScheduleOperations.ListJobs][net_list_schedule_jobs]</span></span> |<span data-ttu-id="282c1-202">[Listar trabalhos de saudação associados com uma agenda de trabalho][rest_list_schedule_jobs]</span><span class="sxs-lookup"><span data-stu-id="282c1-202">[List hello jobs associated with a job schedule][rest_list_schedule_jobs]</span></span> |
| <span data-ttu-id="282c1-203">[PoolOperations.ListComputeNodes][net_list_compute_nodes]</span><span class="sxs-lookup"><span data-stu-id="282c1-203">[PoolOperations.ListComputeNodes][net_list_compute_nodes]</span></span> |<span data-ttu-id="282c1-204">[Olá lista nós de computação em um pool][rest_list_compute_nodes]</span><span class="sxs-lookup"><span data-stu-id="282c1-204">[List hello compute nodes in a pool][rest_list_compute_nodes]</span></span> |
| <span data-ttu-id="282c1-205">[PoolOperations.ListPools][net_list_pools]</span><span class="sxs-lookup"><span data-stu-id="282c1-205">[PoolOperations.ListPools][net_list_pools]</span></span> |<span data-ttu-id="282c1-206">[Listar pools de saudação em uma conta][rest_list_pools]</span><span class="sxs-lookup"><span data-stu-id="282c1-206">[List hello pools in an account][rest_list_pools]</span></span> |

### <a name="mappings-for-select-strings"></a><span data-ttu-id="282c1-207">Mapeamentos para cadeias de caracteres de seleção</span><span class="sxs-lookup"><span data-stu-id="282c1-207">Mappings for select strings</span></span>
* <span data-ttu-id="282c1-208">**Tipos de Lote .NET**: tipos de API do Lote .NET.</span><span class="sxs-lookup"><span data-stu-id="282c1-208">**Batch .NET types**: Batch .NET API types.</span></span>
* <span data-ttu-id="282c1-209">**Entidades da API REST**: cada página nesta coluna contém uma ou mais tabelas que listam os nomes de propriedade Olá API REST para o tipo de saudação.</span><span class="sxs-lookup"><span data-stu-id="282c1-209">**REST API entities**: Each page in this column contains one or more tables that list hello REST API property names for hello type.</span></span> <span data-ttu-id="282c1-210">Esses nomes de propriedade são usados ao construir as cadeias de caracteres *select* .</span><span class="sxs-lookup"><span data-stu-id="282c1-210">These property names are used when you construct *select* strings.</span></span> <span data-ttu-id="282c1-211">Você usará esses mesmos nomes de propriedade ao construir uma cadeia de caracteres [ODATADetailLevel.SelectClause][odata_select].</span><span class="sxs-lookup"><span data-stu-id="282c1-211">You will use these same property names when you construct an [ODATADetailLevel.SelectClause][odata_select] string.</span></span>

| <span data-ttu-id="282c1-212">Tipos de Lote .NET</span><span class="sxs-lookup"><span data-stu-id="282c1-212">Batch .NET types</span></span> | <span data-ttu-id="282c1-213">Entidades da API REST</span><span class="sxs-lookup"><span data-stu-id="282c1-213">REST API entities</span></span> |
| --- | --- |
| <span data-ttu-id="282c1-214">[Certificate][net_cert]</span><span class="sxs-lookup"><span data-stu-id="282c1-214">[Certificate][net_cert]</span></span> |<span data-ttu-id="282c1-215">[Obter informações sobre um certificado][rest_get_cert]</span><span class="sxs-lookup"><span data-stu-id="282c1-215">[Get information about a certificate][rest_get_cert]</span></span> |
| <span data-ttu-id="282c1-216">[CloudJob][net_job]</span><span class="sxs-lookup"><span data-stu-id="282c1-216">[CloudJob][net_job]</span></span> |<span data-ttu-id="282c1-217">[Obter informações sobre um trabalho][rest_get_job]</span><span class="sxs-lookup"><span data-stu-id="282c1-217">[Get information about a job][rest_get_job]</span></span> |
| <span data-ttu-id="282c1-218">[CloudJobSchedule][net_schedule]</span><span class="sxs-lookup"><span data-stu-id="282c1-218">[CloudJobSchedule][net_schedule]</span></span> |<span data-ttu-id="282c1-219">[Obter informações sobre um cronograma de trabalho][rest_get_schedule]</span><span class="sxs-lookup"><span data-stu-id="282c1-219">[Get information about a job schedule][rest_get_schedule]</span></span> |
| <span data-ttu-id="282c1-220">[ComputeNode][net_node]</span><span class="sxs-lookup"><span data-stu-id="282c1-220">[ComputeNode][net_node]</span></span> |<span data-ttu-id="282c1-221">[Obter informações sobre um nó][rest_get_node]</span><span class="sxs-lookup"><span data-stu-id="282c1-221">[Get information about a node][rest_get_node]</span></span> |
| <span data-ttu-id="282c1-222">[CloudPool][net_pool]</span><span class="sxs-lookup"><span data-stu-id="282c1-222">[CloudPool][net_pool]</span></span> |<span data-ttu-id="282c1-223">[Obter informações sobre um pool][rest_get_pool]</span><span class="sxs-lookup"><span data-stu-id="282c1-223">[Get information about a pool][rest_get_pool]</span></span> |
| <span data-ttu-id="282c1-224">[CloudTask][net_task]</span><span class="sxs-lookup"><span data-stu-id="282c1-224">[CloudTask][net_task]</span></span> |<span data-ttu-id="282c1-225">[Obter informações sobre uma tarefa][rest_get_task]</span><span class="sxs-lookup"><span data-stu-id="282c1-225">[Get information about a task][rest_get_task]</span></span> |

## <a name="example-construct-a-filter-string"></a><span data-ttu-id="282c1-226">Exemplo: construir uma cadeia de caracteres filter</span><span class="sxs-lookup"><span data-stu-id="282c1-226">Example: construct a filter string</span></span>
<span data-ttu-id="282c1-227">Quando você cria uma cadeia de caracteres de filtro para [ODATADetailLevel.FilterClause][odata_filter], consulte a tabela Olá acima em "Mapeamentos para cadeias de caracteres de filtro" toofind Olá API REST documentação página correspondente operação de lista de toohello que você deseja tooperform.</span><span class="sxs-lookup"><span data-stu-id="282c1-227">When you construct a filter string for [ODATADetailLevel.FilterClause][odata_filter], consult hello table above under "Mappings for filter strings" toofind hello REST API documentation page that corresponds toohello list operation that you wish tooperform.</span></span> <span data-ttu-id="282c1-228">Você encontrará as propriedades de saudação e os operadores com suporte na primeira tabela multilinha Olá nessa página.</span><span class="sxs-lookup"><span data-stu-id="282c1-228">You will find hello filterable properties and their supported operators in hello first multirow table on that page.</span></span> <span data-ttu-id="282c1-229">Se você desejar tooretrieve todas as tarefas cujo código de saída era diferente de zero, por exemplo, essa linha no [lista Olá as tarefas associadas a um trabalho] [ rest_list_tasks] Especifica a cadeia de caracteres de propriedade aplicável hello e operadores permitidos:</span><span class="sxs-lookup"><span data-stu-id="282c1-229">If you wish tooretrieve all tasks whose exit code was nonzero, for example, this row on [List hello tasks associated with a job][rest_list_tasks] specifies hello applicable property string and allowable operators:</span></span>

| <span data-ttu-id="282c1-230">Propriedade</span><span class="sxs-lookup"><span data-stu-id="282c1-230">Property</span></span> | <span data-ttu-id="282c1-231">Operações permitidas</span><span class="sxs-lookup"><span data-stu-id="282c1-231">Operations allowed</span></span> | <span data-ttu-id="282c1-232">Tipo</span><span class="sxs-lookup"><span data-stu-id="282c1-232">Type</span></span> |
|:--- |:--- |:--- |
| `executionInfo/exitCode` |`eq, ge, gt, le , lt` |`Int` |

<span data-ttu-id="282c1-233">Assim, a cadeia de caracteres de filtro de saudação para listar todas as tarefas com um código de saída diferente de zero seria:</span><span class="sxs-lookup"><span data-stu-id="282c1-233">Thus, hello filter string for listing all tasks with a nonzero exit code would be:</span></span>

`(executionInfo/exitCode lt 0) or (executionInfo/exitCode gt 0)`

## <a name="example-construct-a-select-string"></a><span data-ttu-id="282c1-234">Exemplo: construir uma cadeia de caracteres select</span><span class="sxs-lookup"><span data-stu-id="282c1-234">Example: construct a select string</span></span>
<span data-ttu-id="282c1-235">tooconstruct [ODATADetailLevel.SelectClause][odata_select], consulte a tabela Olá acima em "Mapeamentos para cadeias de caracteres selecionados" e navegue toohello página de API REST que corresponde a toohello tipo de entidade que você Listar.</span><span class="sxs-lookup"><span data-stu-id="282c1-235">tooconstruct [ODATADetailLevel.SelectClause][odata_select], consult hello table above under "Mappings for select strings" and navigate toohello REST API page that corresponds toohello type of entity that you are listing.</span></span> <span data-ttu-id="282c1-236">Você encontrará propriedades selecionável hello e os operadores com suporte na primeira tabela multilinha Olá nessa página.</span><span class="sxs-lookup"><span data-stu-id="282c1-236">You will find hello selectable properties and their supported operators in hello first multirow table on that page.</span></span> <span data-ttu-id="282c1-237">Se você deseja tooretrieve somente Olá ID e a linha de comando para cada tarefa em uma lista, por exemplo, você encontrará essas linhas na tabela aplicável Olá em [obter informações sobre uma tarefa][rest_get_task]:</span><span class="sxs-lookup"><span data-stu-id="282c1-237">If you wish tooretrieve only hello ID and command line for each task in a list, for example, you will find these rows in hello applicable table on [Get information about a task][rest_get_task]:</span></span>

| <span data-ttu-id="282c1-238">Propriedade</span><span class="sxs-lookup"><span data-stu-id="282c1-238">Property</span></span> | <span data-ttu-id="282c1-239">Tipo</span><span class="sxs-lookup"><span data-stu-id="282c1-239">Type</span></span> | <span data-ttu-id="282c1-240">Observações</span><span class="sxs-lookup"><span data-stu-id="282c1-240">Notes</span></span> |
|:--- |:--- |:--- |
| `id` |`String` |`hello ID of hello task.` |
| `commandLine` |`String` |`hello command line of hello task.` |

<span data-ttu-id="282c1-241">cadeia de caracteres Selecione para incluir somente Olá ID e a linha de comando com cada tarefa listada Olá seria:</span><span class="sxs-lookup"><span data-stu-id="282c1-241">hello select string for including only hello ID and command line with each listed task would then be:</span></span>

`id, commandLine`

## <a name="code-samples"></a><span data-ttu-id="282c1-242">Exemplos de código</span><span class="sxs-lookup"><span data-stu-id="282c1-242">Code samples</span></span>
### <a name="efficient-list-queries-code-sample"></a><span data-ttu-id="282c1-243">Exemplo de código de consultas de lista eficientes</span><span class="sxs-lookup"><span data-stu-id="282c1-243">Efficient list queries code sample</span></span>
<span data-ttu-id="282c1-244">Check-out Olá [EfficientListQueries] [ efficient_query_sample] projeto de exemplo no GitHub toosee como eficiente consulta lista pode afetar o desempenho em um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="282c1-244">Check out hello [EfficientListQueries][efficient_query_sample] sample project on GitHub toosee how efficient list querying can affect performance in an application.</span></span> <span data-ttu-id="282c1-245">Este aplicativo de console c# cria e adiciona um grande número de tarefas tooa trabalho.</span><span class="sxs-lookup"><span data-stu-id="282c1-245">This C# console application creates and adds a large number of tasks tooa job.</span></span> <span data-ttu-id="282c1-246">Em seguida, faz várias toohello de chamadas [JobOperations.ListTasks] [ net_list_tasks] método e passa [ODATADetailLevel] [ odata] objetos configurado com propriedades diferentes valores toovary Olá total toobe dados retornado.</span><span class="sxs-lookup"><span data-stu-id="282c1-246">Then, it makes multiple calls toohello [JobOperations.ListTasks][net_list_tasks] method and passes [ODATADetailLevel][odata] objects that are configured with different property values toovary hello amount of data toobe returned.</span></span> <span data-ttu-id="282c1-247">Ele produz o seguinte de toohello semelhante de saída:</span><span class="sxs-lookup"><span data-stu-id="282c1-247">It produces output similar toohello following:</span></span>

```
Adding 5000 tasks toojob jobEffQuery...
5000 tasks added in 00:00:47.3467587, hit ENTER tooquery tasks...

4943 tasks retrieved in 00:00:04.3408081 (ExpandClause:  | FilterClause: state eq 'active' | SelectClause: id,state)
0 tasks retrieved in 00:00:00.2662920 (ExpandClause:  | FilterClause: state eq 'running' | SelectClause: id,state)
59 tasks retrieved in 00:00:00.3337760 (ExpandClause:  | FilterClause: state eq 'completed' | SelectClause: id,state)
5000 tasks retrieved in 00:00:04.1429881 (ExpandClause:  | FilterClause:  | SelectClause: id,state)
5000 tasks retrieved in 00:00:15.1016127 (ExpandClause:  | FilterClause:  | SelectClause: id,state,environmentSettings)
5000 tasks retrieved in 00:00:17.0548145 (ExpandClause: stats | FilterClause:  | SelectClause: )

Sample complete, hit ENTER toocontinue...
```

<span data-ttu-id="282c1-248">Conforme mostrado no tempo de saudação, você pode diminuir significativamente tempos de resposta de consulta limitando propriedades hello e número de saudação de itens retornados.</span><span class="sxs-lookup"><span data-stu-id="282c1-248">As shown in hello elapsed times, you can greatly lower query response times by limiting hello properties and hello number of items that are returned.</span></span> <span data-ttu-id="282c1-249">Você pode encontrar esse e outros projetos de exemplo no hello [exemplos de lote do azure] [ github_samples] repositório no GitHub.</span><span class="sxs-lookup"><span data-stu-id="282c1-249">You can find this and other sample projects in hello [azure-batch-samples][github_samples] repository on GitHub.</span></span>

### <a name="batchmetrics-library-and-code-sample"></a><span data-ttu-id="282c1-250">Biblioteca BatchMetrics e exemplo de código</span><span class="sxs-lookup"><span data-stu-id="282c1-250">BatchMetrics library and code sample</span></span>
<span data-ttu-id="282c1-251">Além disso toohello EfficientListQueries código de exemplo acima, você pode encontrar hello [BatchMetrics] [ batch_metrics] projeto no hello [exemplos de lote do azure] [ github_samples] Repositório do GitHub.</span><span class="sxs-lookup"><span data-stu-id="282c1-251">In addition toohello EfficientListQueries code sample above, you can find hello [BatchMetrics][batch_metrics] project in hello [azure-batch-samples][github_samples] GitHub repository.</span></span> <span data-ttu-id="282c1-252">projeto de exemplo Hello BatchMetrics demonstra como tooefficiently monitorar o andamento do trabalho de lote do Azure usando a API de lote de saudação.</span><span class="sxs-lookup"><span data-stu-id="282c1-252">hello BatchMetrics sample project demonstrates how tooefficiently monitor Azure Batch job progress using hello Batch API.</span></span>

<span data-ttu-id="282c1-253">Olá [BatchMetrics] [ batch_metrics] exemplo inclui um projeto de biblioteca de classes .NET que você pode incorporar em seus próprios projetos e um simples de linha de comando tooexercise de programa e demonstrar o uso de saudação do hello biblioteca.</span><span class="sxs-lookup"><span data-stu-id="282c1-253">hello [BatchMetrics][batch_metrics] sample includes a .NET class library project which you can incorporate into your own projects, and a simple command-line program tooexercise and demonstrate hello use of hello library.</span></span>

<span data-ttu-id="282c1-254">aplicativo de exemplo Hello dentro do projeto Olá demonstra Olá operações a seguir:</span><span class="sxs-lookup"><span data-stu-id="282c1-254">hello sample application within hello project demonstrates hello following operations:</span></span>

1. <span data-ttu-id="282c1-255">Selecionar atributos específicos nas propriedades de saudação ordem toodownload somente é necessário</span><span class="sxs-lookup"><span data-stu-id="282c1-255">Selecting specific attributes in order toodownload only hello properties you need</span></span>
2. <span data-ttu-id="282c1-256">Filtrando em tempos de transição de estado no toodownload ordem somente alterações desde a última consulta de saudação</span><span class="sxs-lookup"><span data-stu-id="282c1-256">Filtering on state transition times in order toodownload only changes since hello last query</span></span>

<span data-ttu-id="282c1-257">Por exemplo, Olá método a seguir aparece no hello BatchMetrics biblioteca.</span><span class="sxs-lookup"><span data-stu-id="282c1-257">For example, hello following method appears in hello BatchMetrics library.</span></span> <span data-ttu-id="282c1-258">Ele retorna um ODATADetailLevel que especifica que somente Olá `id` e `state` propriedades devem ser obtidas para entidades de saudação que são consultadas.</span><span class="sxs-lookup"><span data-stu-id="282c1-258">It returns an ODATADetailLevel that specifies that only hello `id` and `state` properties should be obtained for hello entities that are queried.</span></span> <span data-ttu-id="282c1-259">Ela também especifica que apenas as entidades cujo estado foi alterado desde a saudação especificada `DateTime` parâmetro deve ser retornado.</span><span class="sxs-lookup"><span data-stu-id="282c1-259">It also specifies that only entities whose state has changed since hello specified `DateTime` parameter should be returned.</span></span>

```csharp
internal static ODATADetailLevel OnlyChangedAfter(DateTime time)
{
    return new ODATADetailLevel(
        selectClause: "id, state",
        filterClause: string.Format("stateTransitionTime gt DateTime'{0:o}'", time)
    );
}
```

## <a name="next-steps"></a><span data-ttu-id="282c1-260">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="282c1-260">Next steps</span></span>
### <a name="parallel-node-tasks"></a><span data-ttu-id="282c1-261">Tarefas paralelas do nó</span><span class="sxs-lookup"><span data-stu-id="282c1-261">Parallel node tasks</span></span>
<span data-ttu-id="282c1-262">[Maximizar o uso de recursos de computação do Azure Batch com tarefas simultâneas do nó](batch-parallel-node-tasks.md) é outro artigo relacionados ao desempenho do aplicativo tooBatch.</span><span class="sxs-lookup"><span data-stu-id="282c1-262">[Maximize Azure Batch compute resource usage with concurrent node tasks](batch-parallel-node-tasks.md) is another article related tooBatch application performance.</span></span> <span data-ttu-id="282c1-263">Alguns tipos de cargas de trabalho podem aproveitar a execução de tarefas paralelas nos nós de computação maiores, porém em menor número.</span><span class="sxs-lookup"><span data-stu-id="282c1-263">Some types of workloads can benefit from executing parallel tasks on larger--but fewer--compute nodes.</span></span> <span data-ttu-id="282c1-264">Check-out Olá [cenário de exemplo](batch-parallel-node-tasks.md#example-scenario) artigo Olá para obter detalhes sobre esse cenário.</span><span class="sxs-lookup"><span data-stu-id="282c1-264">Check out hello [example scenario](batch-parallel-node-tasks.md#example-scenario) in hello article for details on such a scenario.</span></span>

### <a name="batch-forum"></a><span data-ttu-id="282c1-265">Fórum do Lote</span><span class="sxs-lookup"><span data-stu-id="282c1-265">Batch Forum</span></span>
<span data-ttu-id="282c1-266">Olá [Fórum do lote do Azure] [ forum] no MSDN é um ótimo colocar toodiscuss em lotes e fazer perguntas sobre o serviço de saudação.</span><span class="sxs-lookup"><span data-stu-id="282c1-266">hello [Azure Batch Forum][forum] on MSDN is a great place toodiscuss Batch and ask questions about hello service.</span></span> <span data-ttu-id="282c1-267">Acesse diretamente as postagens “fixas” úteis e poste suas dúvidas conforme elas surgirem enquanto você cria suas soluções do Lote.</span><span class="sxs-lookup"><span data-stu-id="282c1-267">Head on over for helpful "sticky" posts, and post your questions as they arise while you build your Batch solutions.</span></span>

[api_net]: http://msdn.microsoft.com/library/azure/mt348682.aspx
[api_net_listjobs]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.joboperations.listjobs.aspx
[api_rest]: http://msdn.microsoft.com/library/azure/dn820158.aspx
[batch_metrics]: https://github.com/Azure/azure-batch-samples/tree/master/CSharp/BatchMetrics
[efficient_query_sample]: https://github.com/Azure/azure-batch-samples/tree/master/CSharp/ArticleProjects/EfficientListQueries
[forum]: https://social.msdn.microsoft.com/forums/azure/en-US/home?forum=azurebatch
[github_samples]: https://github.com/Azure/azure-batch-samples
[odata]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.odatadetaillevel.aspx
[odata_ctor]: https://msdn.microsoft.com/library/azure/dn866178.aspx
[odata_expand]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.odatadetaillevel.expandclause.aspx
[odata_filter]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.odatadetaillevel.filterclause.aspx
[odata_select]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.odatadetaillevel.selectclause.aspx

[net_list_certs]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.certificateoperations.listcertificates.aspx
[net_list_compute_nodes]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.pooloperations.listcomputenodes.aspx
[net_list_job_schedules]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.jobscheduleoperations.listjobschedules.aspx
[net_list_jobprep_status]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.joboperations.listjobpreparationandreleasetaskstatus.aspx
[net_list_jobs]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.joboperations.listjobs.aspx
[net_list_nodefiles]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.joboperations.listnodefiles.aspx
[net_list_pools]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.pooloperations.listpools.aspx
[net_list_schedule_jobs]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.jobscheduleoperations.listjobs.aspx
[net_list_task_files]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudtask.listnodefiles.aspx
[net_list_tasks]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.joboperations.listtasks.aspx

[rest_list_certs]: https://msdn.microsoft.com/library/azure/dn820154.aspx
[rest_list_compute_nodes]: https://msdn.microsoft.com/library/azure/dn820159.aspx
[rest_list_job_schedules]: https://msdn.microsoft.com/library/azure/mt282174.aspx
[rest_list_jobprep_status]: https://msdn.microsoft.com/library/azure/mt282170.aspx
[rest_list_jobs]: https://msdn.microsoft.com/library/azure/dn820117.aspx
[rest_list_nodefiles]: https://msdn.microsoft.com/library/azure/dn820151.aspx
[rest_list_pools]: https://msdn.microsoft.com/library/azure/dn820101.aspx
[rest_list_schedule_jobs]: https://msdn.microsoft.com/library/azure/mt282169.aspx
[rest_list_task_files]: https://msdn.microsoft.com/library/azure/dn820142.aspx
[rest_list_tasks]: https://msdn.microsoft.com/library/azure/dn820187.aspx

[rest_get_cert]: https://msdn.microsoft.com/library/azure/dn820176.aspx
[rest_get_job]: https://msdn.microsoft.com/library/azure/dn820106.aspx
[rest_get_node]: https://msdn.microsoft.com/library/azure/dn820168.aspx
[rest_get_pool]: https://msdn.microsoft.com/library/azure/dn820165.aspx
[rest_get_schedule]: https://msdn.microsoft.com/library/azure/mt282171.aspx
[rest_get_task]: https://msdn.microsoft.com/library/azure/dn820133.aspx

[net_cert]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.certificate.aspx
[net_job]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.aspx
[net_node]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.aspx
[net_pool]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudpool.aspx
[net_schedule]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjobschedule.aspx
[net_task]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudtask.aspx

[rest_get_task_counts]: https://docs.microsoft.com/rest/api/batchservice/get-the-task-counts-for-a-job