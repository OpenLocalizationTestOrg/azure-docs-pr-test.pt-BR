---
title: "Manter resultados ou logs de trabalhos e tarefas concluídos para um armazenamento de dados – Lote do Azure | Microsoft Docs"
description: "Saiba mais sobre as diferentes opções para persistir dados de saída de trabalhos e tarefas em Lote. Você pode manter dados no Armazenamento do Azure ou em outro armazenamento de dados."
services: batch
author: tamram
manager: timlt
editor: 
ms.assetid: 16e12d0e-958c-46c2-a6b8-7843835d830e
ms.service: batch
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: vm-windows
ms.workload: big-compute
ms.date: 06/16/2017
ms.author: tamram
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 3ca93e823f02b1483ed290cf89de191937d1e2c3
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="persist-job-and-task-output"></a><span data-ttu-id="cc6b6-104">Persistir saída de tarefa e de trabalho</span><span class="sxs-lookup"><span data-stu-id="cc6b6-104">Persist job and task output</span></span>

[!INCLUDE [batch-task-output-include](../../includes/batch-task-output-include.md)]

<span data-ttu-id="cc6b6-105">Alguns exemplos comuns de saída de tarefa incluem:</span><span class="sxs-lookup"><span data-stu-id="cc6b6-105">Some common examples of task output include:</span></span>

- <span data-ttu-id="cc6b6-106">Arquivos criados quando a tarefa processa dados de entrada.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-106">Files created when the task processes input data.</span></span>
- <span data-ttu-id="cc6b6-107">Arquivos de log associados à execução da tarefa.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-107">Log files associated with task execution.</span></span> 

<span data-ttu-id="cc6b6-108">Este artigo descreve várias opções para persistir a saída da tarefa e os cenários para os quais cada opção é mais apropriada.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-108">This article describes various options for persisting task output and the scenarios for which each option is most appropriate.</span></span>   

## <a name="about-the-batch-file-conventions-standard"></a><span data-ttu-id="cc6b6-109">Sobre o padrão Convenções do Arquivo em Lotes</span><span class="sxs-lookup"><span data-stu-id="cc6b6-109">About the Batch File Conventions standard</span></span>

<span data-ttu-id="cc6b6-110">Lote define um conjunto opcional de convenções de nomenclatura de arquivos de saída de tarefa no Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-110">Batch defines an optional set of conventions for naming task output files in Azure Storage.</span></span> <span data-ttu-id="cc6b6-111">O [padrão de Convenções de Arquivo em Lotes](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions) descreve essas convenções.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-111">The [Batch File Conventions standard](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions) describes these conventions.</span></span> <span data-ttu-id="cc6b6-112">O padrão de Convenções de Arquivo determina os nomes do caminho de blob e do contêiner de destino no Armazenamento do Azure para um determinado arquivo de saída com base nos nomes do trabalho e da tarefa.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-112">The File Conventions standard determines the names of the destination container and blob path in Azure Storage for a given output file based on the names of the job and task.</span></span>

<span data-ttu-id="cc6b6-113">Cabe a você decidir usar o padrão de Convenções de Arquivo para nomear seus arquivos de dados de saída.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-113">It's up to you whether you decide to use the File Conventions standard for naming your output data files.</span></span> <span data-ttu-id="cc6b6-114">Você também pode nomear o contêiner de destino e o blob como desejar.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-114">You can also name the destination container and blob however you wish.</span></span> <span data-ttu-id="cc6b6-115">Se você usar o padrão de Convenções de Arquivo para nomear arquivos de saída, os arquivos de saída estarão disponíveis para exibição no [portal do Azure][portal].</span><span class="sxs-lookup"><span data-stu-id="cc6b6-115">If you do use the File Conventions standard for naming output files, then your output files are available for viewing in the [Azure portal][portal].</span></span>

<span data-ttu-id="cc6b6-116">Há algumas maneiras diferentes de usar o padrão de Convenções de Arquivo:</span><span class="sxs-lookup"><span data-stu-id="cc6b6-116">There are a few different ways that you can use the File Conventions standard:</span></span>

- <span data-ttu-id="cc6b6-117">Se você estiver usando a API de serviço em Lote para manter os arquivos de saída, poderá optar por nomear contêineres e blobs de destino de acordo com o padrão de Convenções de Arquivo.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-117">If you are using the Batch service API to persist output files, you can choose to name destination containers and blobs according to the File Conventions standard.</span></span> <span data-ttu-id="cc6b6-118">A API do serviço de Lote permite manter os arquivos de saída no código do cliente sem modificar seu aplicativo de tarefa.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-118">The Batch service API enables you to persist output files from client code, without modifying your task application.</span></span>
- <span data-ttu-id="cc6b6-119">Se você estiver desenvolvendo com o .NET, poderá usar a [biblioteca Convenções de Arquivo em Lote do Azure para .NET][nuget_package].</span><span class="sxs-lookup"><span data-stu-id="cc6b6-119">If you are developing with .NET, you can use the [Azure Batch File Conventions library for .NET][nuget_package].</span></span> <span data-ttu-id="cc6b6-120">Uma vantagem de usar essa biblioteca é que ela dá suporte a consultas de seus arquivos de saída de acordo com sua ID ou finalidade.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-120">An advantage of using this library is that it supports querying your output files according to their ID or purpose.</span></span> <span data-ttu-id="cc6b6-121">A funcionalidade de consulta interna facilita o acesso a arquivos de saída de um aplicativo cliente ou de outras tarefas.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-121">The built-in querying functionality makes it easy to access output files from a client application or from other tasks.</span></span> <span data-ttu-id="cc6b6-122">No entanto, seu aplicativo de tarefa deve ser modificado para chamar a biblioteca de Convenções de Arquivo.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-122">However, your task application must be modified to call File Conventions library.</span></span> <span data-ttu-id="cc6b6-123">Para obter mais informações, consulte a referência para a [biblioteca Convenções de Arquivo para .NET](https://msdn.microsoft.com/library/microsoft.azure.batch.conventions.files.aspx).</span><span class="sxs-lookup"><span data-stu-id="cc6b6-123">For more information, see the reference for the [File Conventions library for .NET](https://msdn.microsoft.com/library/microsoft.azure.batch.conventions.files.aspx).</span></span>
- <span data-ttu-id="cc6b6-124">Se você estiver desenvolvendo com uma linguagem que não .NET, você mesmo poderá implementar o padrão de Convenções de Arquivo em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-124">If you are developing with a language other than .NET, you can implement the File Conventions standard in your application.</span></span>

## <a name="design-considerations-for-persisting-output"></a><span data-ttu-id="cc6b6-125">Considerações de design para manter a saída</span><span class="sxs-lookup"><span data-stu-id="cc6b6-125">Design considerations for persisting output</span></span> 

<span data-ttu-id="cc6b6-126">Ao projetar sua solução em Lote, considere os seguintes fatores relacionados às saídas de trabalho e tarefa.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-126">When designing your Batch solution, consider the following factors related to job and task outputs.</span></span>

* <span data-ttu-id="cc6b6-127">**Tempo de vida de nó de computação**: os nós de computação geralmente são transitórios, especialmente em pools com dimensionamento automático habilitado.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-127">**Compute node lifetime**: Compute nodes are often transient, especially in autoscale-enabled pools.</span></span> <span data-ttu-id="cc6b6-128">Saída de uma tarefa que é executada em um nó está disponível somente enquanto o nó existe e somente dentro do período de retenção de arquivo definido para a tarefa.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-128">Output from a task that runs on a node is available only while the node exists, and only within the file retention period you've set for the task.</span></span> <span data-ttu-id="cc6b6-129">Se uma tarefa produzir saída que possa ser necessária após a tarefa ter sido concluída, a tarefa deverá carregar seus arquivos de saída para um repositório durável, como o Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-129">If a task produces output that may be needed after the task is complete, then the task must upload its output files to a durable store such as Azure Storage.</span></span>

* <span data-ttu-id="cc6b6-130">**Armazenamento de saída**: o Armazenamento do Azure é recomendado como um armazenamento de dados para a saída da tarefa, mas você pode usar qualquer armazenamento durável.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-130">**Output storage**: Azure Storage is recommended as a data store for task output, but you can use any durable storage.</span></span> <span data-ttu-id="cc6b6-131">A gravação da saída da tarefa no Armazenamento do Azure é integrada à API de serviço de Lote.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-131">Writing task output to Azure Storage is integrated into the Batch service API.</span></span> <span data-ttu-id="cc6b6-132">Se você usar outra forma de armazenamento durável, precisará escrever a lógica do aplicativo para manter a saída da tarefa você mesmo.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-132">If you use another form of durable storage, you'll need to write the application logic to persist task output yourself.</span></span>   

* <span data-ttu-id="cc6b6-133">**Recuperação de saída**: você poderá recuperar a saída da tarefa diretamente dos nós de computação no seu pool ou do Armazenamento do Azure ou de outro armazenamento de dados, se tiver mantido a saída da tarefa.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-133">**Output retrieval**: You can retrieve task output directly from the compute nodes in your pool, or from Azure Storage or another data store if you have persisted task output.</span></span> <span data-ttu-id="cc6b6-134">Para recuperar a saída da tarefa diretamente de um nó de computação, você precisa do nome do arquivo e do local de saída no nó.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-134">To retrieve a task's output directly from a compute node, you need the file name and its output location on the node.</span></span> <span data-ttu-id="cc6b6-135">Se você mantiver a saída da tarefa no Armazenamento do Azure, precisará do caminho completo para o arquivo no Armazenamento do Azure para baixar os arquivos de saída com o SDK de Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-135">If you persist task output to Azure Storage, then you need the full path to the file in Azure Storage to download the output files with the Azure Storage SDK.</span></span>

* <span data-ttu-id="cc6b6-136">**Exibição da saída**: quando você navegar para uma tarefa do Lote no portal do Azure e selecionar **Arquivos no nó**, verá todos os arquivos associados à tarefa, não apenas os arquivos de saída em que está interessado.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-136">**Viewing output**: When you navigate to a Batch task in the Azure portal and select **Files on node**, you are presented with all files associated with the task, not just the output files you're interested in.</span></span> <span data-ttu-id="cc6b6-137">Novamente, os arquivos em nós de computação estão disponíveis apenas enquanto o nó existe e apenas no tempo de retenção de arquivo definido para a tarefa.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-137">Again, files on compute nodes are available only while the node exists and only within the file retention time you've set for the task.</span></span> <span data-ttu-id="cc6b6-138">Para exibir a saída da tarefa mantida no Armazenamento do Azure, você pode usar o portal do Azure ou um aplicativo de cliente de Armazenamento do Azure, como o [Gerenciador de Armazenamento do Azure][storage_explorer].</span><span class="sxs-lookup"><span data-stu-id="cc6b6-138">To view task output that you've persisted to Azure Storage, you can use the Azure portal or an Azure Storage client application such as the [Azure Storage Explorer][storage_explorer].</span></span> <span data-ttu-id="cc6b6-139">Para exibir dados de saída no armazenamento do Azure com o portal ou outra ferramenta, você deve saber o local do arquivo e navegar diretamente até ele.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-139">To view output data in Azure Storage with the portal or another tool, you must know the file's location and navigate to it directly.</span></span>

## <a name="options-for-persisting-output"></a><span data-ttu-id="cc6b6-140">Opções para manter a saída</span><span class="sxs-lookup"><span data-stu-id="cc6b6-140">Options for persisting output</span></span>

<span data-ttu-id="cc6b6-141">Dependendo do seu cenário, há algumas abordagens diferentes que podem ser adotadas para manter a saída da tarefa:</span><span class="sxs-lookup"><span data-stu-id="cc6b6-141">Depending on your scenario, there are a few different approaches you can take to persist task output:</span></span>

- <span data-ttu-id="cc6b6-142">Usar a API de serviço de Lote.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-142">Use the Batch service API.</span></span>  
- <span data-ttu-id="cc6b6-143">Usar biblioteca Convenções de Arquivo em Lote para .NET.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-143">Use the Batch File Conventions library for .NET.</span></span>  
- <span data-ttu-id="cc6b6-144">Implementar o padrão de Convenções de Arquivo em Lote em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-144">Implement the Batch File Conventions standard in your application.</span></span>
- <span data-ttu-id="cc6b6-145">Implementar uma solução de movimentação de arquivo personalizada.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-145">Implement a custom file movement solution.</span></span>

<span data-ttu-id="cc6b6-146">As seções a seguir descrevem cada abordagem mais detalhadamente.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-146">The following sections describe each approach in more detail.</span></span>

### <a name="use-the-batch-service-api"></a><span data-ttu-id="cc6b6-147">Usar a API de serviço de Lote</span><span class="sxs-lookup"><span data-stu-id="cc6b6-147">Use the Batch service API</span></span>

<span data-ttu-id="cc6b6-148">Com a versão de 01/05/2017, o serviço de Lote adiciona suporte para especificar os arquivos de saída no Armazenamento do Azure para dados de tarefa quando você [adiciona uma tarefa a um trabalho](https://docs.microsoft.com/rest/api/batchservice/add-a-task-to-a-job) ou [adiciona uma coleção de tarefas a um trabalho](https://docs.microsoft.com/rest/api/batchservice/add-a-collection-of-tasks-to-a-job).</span><span class="sxs-lookup"><span data-stu-id="cc6b6-148">With version 2017-05-01, the Batch service adds support for specifying output files in Azure Storage for task data when you [add a task to a job](https://docs.microsoft.com/rest/api/batchservice/add-a-task-to-a-job) or [add a collection of tasks to a job](https://docs.microsoft.com/rest/api/batchservice/add-a-collection-of-tasks-to-a-job).</span></span>

<span data-ttu-id="cc6b6-149">A API do serviço de Lote dá suporte a manter dados de tarefa para uma conta de Armazenamento do Azure de pools criados com a configuração de máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-149">The Batch service API supports persisting task data to an Azure Storage account from pools created with the virtual machine configuration.</span></span> <span data-ttu-id="cc6b6-150">Com a API de serviço de lote, você pode manter dados de tarefa sem modificar o aplicativo que sua tarefa executa.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-150">With the Batch service API, you can persist task data without modifying the application that your task runs.</span></span> <span data-ttu-id="cc6b6-151">Opcionalmente, você pode cumprir o [padrão de Convenções de Arquivo em Lotes](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions) para nomear os arquivos que você mantém no Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-151">You can optionally adhere to the [Batch File Conventions standard](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions) for naming the files that you persist to Azure Storage.</span></span> 

<span data-ttu-id="cc6b6-152">Use a API do serviço de Lote para manter a saída da tarefa quando:</span><span class="sxs-lookup"><span data-stu-id="cc6b6-152">Use the Batch service API to persist task output when:</span></span>

- <span data-ttu-id="cc6b6-153">Você desejar manter os dados das tarefas em Lote e as tarefas do gerenciador de trabalho em pools criados com a configuração de máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-153">You want to persist data from Batch tasks and job manager tasks in pools created with the virtual machine configuration.</span></span>
- <span data-ttu-id="cc6b6-154">Você desejar manter os dados a um contêiner de Armazenamento do Azure com um nome arbitrário.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-154">You want to persist data to an Azure Storage container with an arbitrary name.</span></span>
- <span data-ttu-id="cc6b6-155">Você desejar manter os dados em um contêiner de Armazenamento do Azure nomeado de acordo com o [padrão de Convenções de Arquivo em Lotes](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions).</span><span class="sxs-lookup"><span data-stu-id="cc6b6-155">You want to persist data to an Azure Storage container named according to the [Batch File Conventions standard](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions).</span></span> 

> [!NOTE]
> <span data-ttu-id="cc6b6-156">A API do serviço de Lote não dá suporte a manter dados de tarefas em execução em pools criados com a configuração de serviço de nuvem.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-156">The Batch service API does not support persisting data from tasks running in pools created with the cloud service configuration.</span></span> <span data-ttu-id="cc6b6-157">Para obter informações sobre manter a saída de tarefas de pools que estejam executando a configuração de serviços de nuvem, consulte [Manter dados de trabalhos e tarefas no Armazenamento do Azure com a biblioteca de Convenções de Arquivo em Lotes para .NET para manter ](batch-task-output-file-conventions.md)</span><span class="sxs-lookup"><span data-stu-id="cc6b6-157">For information about persisting task output from pools running the cloud services configuration, see [Persist job and task data to Azure Storage with the Batch File Conventions library for .NET to persist ](batch-task-output-file-conventions.md)</span></span>
> 
> 

<span data-ttu-id="cc6b6-158">Para obter mais informações sobre manter a saída da tarefa com a API de serviço de Lote, consulte [Manter dados de tarefa para o Armazenamento do Azure com a API de serviço de Lote](batch-task-output-files.md).</span><span class="sxs-lookup"><span data-stu-id="cc6b6-158">For more information on persisting task output with the Batch service API, see [Persist task data to Azure Storage with the Batch service API](batch-task-output-files.md).</span></span> <span data-ttu-id="cc6b6-159">Consulte também o projeto de exemplo [PersistOutputs][github_persistoutputs] no GitHub, que demonstra como usar a biblioteca cliente de Lote para .NET para manter a saída da tarefa para o armazenamento durável.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-159">Also see the [PersistOutputs][github_persistoutputs] sample project on GitHub, which demonstrates how to use the Batch client library for .NET to persist task output to durable storage.</span></span>

### <a name="use-the-batch-file-conventions-library-for-net"></a><span data-ttu-id="cc6b6-160">Usar biblioteca Convenções de Arquivo em Lotes para .NET</span><span class="sxs-lookup"><span data-stu-id="cc6b6-160">Use the Batch File Conventions library for .NET</span></span>

<span data-ttu-id="cc6b6-161">Os desenvolvedores que criam soluções de Lote com C# e .NET podem usar a [biblioteca Convenções de Arquivo para .NET][nuget_package] para manter dados de tarefa para uma conta de Armazenamento do Azure, de acordo com o [padrão de Convenções de Arquivo em Lotes](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions).</span><span class="sxs-lookup"><span data-stu-id="cc6b6-161">Developers building Batch solutions with C# and .NET can use the [File Conventions library for .NET][nuget_package] to persist task data to an Azure Storage account, according to the [Batch File Conventions standard](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions).</span></span> <span data-ttu-id="cc6b6-162">A biblioteca de convenções de arquivo trata a movimentação de arquivos de saída para o Armazenamento do Azure e nomear contêineres e blobs de destino de uma maneira bem conhecida.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-162">The File Conventions library handles moving output files to Azure Storage and naming destination containers and blobs in a well-known way.</span></span>

<span data-ttu-id="cc6b6-163">A biblioteca de convenções de arquivo dá suporte à consulta de arquivos de saída por ID ou finalidade, tornando fácil localizá-los sem necessidade de URIs de arquivo completos.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-163">The File Conventions library supports querying output files by either ID or purpose, making it easy to locate them without needing the complete file URIs.</span></span> 

<span data-ttu-id="cc6b6-164">Use a biblioteca de Convenções de Arquivo em Lotes para .NET para manter a saída de tarefa quando:</span><span class="sxs-lookup"><span data-stu-id="cc6b6-164">Use the Batch File Conventions library for .NET to persist task output when:</span></span>

- <span data-ttu-id="cc6b6-165">Você desejar transmitir dados para o Armazenamento do Azure enquanto a tarefa ainda está em execução.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-165">You want to stream data to Azure Storage while the task is still running.</span></span>
- <span data-ttu-id="cc6b6-166">Você desejar manter os dados dos pools criados com a configuração do serviço de nuvem ou a configuração de máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-166">You want to persist data from pools created with either the cloud service configuration or the virtual machine configuration.</span></span>
- <span data-ttu-id="cc6b6-167">O aplicativo cliente ou outras tarefas no trabalho precisar localizar e baixar arquivos de saída de tarefas por ID ou por finalidade.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-167">Your client application or other tasks in the job needs to locate and download task output files by ID or by purpose.</span></span> 
- <span data-ttu-id="cc6b6-168">Você desejar executar a verificação de pontos ou o upload precoce dos resultados iniciais.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-168">You want to perform check-pointing or early upload of initial results.</span></span>
- <span data-ttu-id="cc6b6-169">Você desejar exibir a saída da tarefa no portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-169">You want to view task output in the Azure portal.</span></span>

<span data-ttu-id="cc6b6-170">Para obter mais informações sobre manter a saída da tarefa com a biblioteca de Convenções de Arquivo para .NET, consulte [Manter dados de trabalho e tarefa no Armazenamento do Azure com a biblioteca de Convenções de Arquivo em Lotes para .NET para manter ](batch-task-output-file-conventions.md).</span><span class="sxs-lookup"><span data-stu-id="cc6b6-170">For more information on persisting task output with the File Conventions library for .NET, see [Persist job and task data to Azure Storage with the Batch File Conventions library for .NET to persist ](batch-task-output-file-conventions.md).</span></span> <span data-ttu-id="cc6b6-171">Consulte também o projeto de exemplo [PersistOutputs][github_persistoutputs] no GitHub, que demonstra como usar a biblioteca de Convenções de Arquivo para .NET para manter a saída da tarefa para o armazenamento durável.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-171">Also see the [PersistOutputs][github_persistoutputs] sample project on GitHub, which demonstrates how to use the File Conventions library for .NET to persist task output to durable storage.</span></span>

<span data-ttu-id="cc6b6-172">O exemplo de projeto [PersistOutputs][github_persistoutputs] no GitHub demonstra como usar a biblioteca cliente de Lote para .NET para manter a saída da tarefa para o armazenamento durável.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-172">The [PersistOutputs][github_persistoutputs] sample project on GitHub demonstrates how to use the Batch client library for .NET to persist task output to durable storage.</span></span>

### <a name="implement-the-batch-file-conventions-standard"></a><span data-ttu-id="cc6b6-173">Implementar o padrão Convenções do Arquivo em Lotes</span><span class="sxs-lookup"><span data-stu-id="cc6b6-173">Implement the Batch File Conventions standard</span></span>

<span data-ttu-id="cc6b6-174">Se você estiver usando uma linguagem diferente de .NET, poderá implementar o [padrão de Convenções de Arquivo em Lotes](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions) em seu próprio aplicativo.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-174">If you are using a language other than .NET, you can implement the [Batch File Conventions standard](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions) in your own application.</span></span> 

<span data-ttu-id="cc6b6-175">Talvez você mesmo queira implementar o padrão de nomenclatura de Convenções de Arquivo quando quiser um esquema de nomenclatura comprovado ou quando quiser exibir a saída da tarefa no portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-175">You may want to implement the File Conventions naming standard yourself when you want a proven naming scheme, or when you want to view task output in the Azure portal.</span></span>

### <a name="implement-a-custom-file-movement-solution"></a><span data-ttu-id="cc6b6-176">Implementar uma solução de movimentação de arquivo personalizada</span><span class="sxs-lookup"><span data-stu-id="cc6b6-176">Implement a custom file movement solution</span></span>

<span data-ttu-id="cc6b6-177">Você também pode implementar sua própria solução de movimentação de arquivo completa.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-177">You can also implement your own complete file movement solution.</span></span> <span data-ttu-id="cc6b6-178">Use esta abordagem quando:</span><span class="sxs-lookup"><span data-stu-id="cc6b6-178">Use this approach when:</span></span>

- <span data-ttu-id="cc6b6-179">Você desejar manter os dados de tarefa em um armazenamento de dados diferente do Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-179">You want to persist task data to a data store other than Azure Storage.</span></span> <span data-ttu-id="cc6b6-180">Para carregar arquivos para um armazenamento de dados como o SQL Azure ou o Azure DataLake, crie um script personalizado ou um executável para carregar para esse local.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-180">To upload files to a data store like Azure SQL or Azure DataLake, you can create a custom script or executable to upload to that location.</span></span> <span data-ttu-id="cc6b6-181">Em seguida, você pode chamá-lo na linha de comando depois de executar o executável principal.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-181">You can then call it on the command line after running your primary executable.</span></span> <span data-ttu-id="cc6b6-182">Por exemplo, em um nó do Windows, você pode chamar estes dois comandos:`doMyWork.exe && uploadMyFilesToSql.exe`</span><span class="sxs-lookup"><span data-stu-id="cc6b6-182">For example, on a Windows node, you might call these two commands: `doMyWork.exe && uploadMyFilesToSql.exe`</span></span>
- <span data-ttu-id="cc6b6-183">Você desejar executar a verificação de pontos ou o upload precoce dos resultados iniciais.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-183">You want to perform check-pointing or early upload of initial results.</span></span>
- <span data-ttu-id="cc6b6-184">Você deseja manter controle granular sobre o tratamento de erro.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-184">You want to maintain granular control over error handling.</span></span> <span data-ttu-id="cc6b6-185">Por exemplo, talvez você queira implementar sua própria solução se quiser usar ações de dependência de tarefas para executar determinadas ações de upload com base em códigos de saída de tarefa específicos.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-185">For example, you may want to implement your own solution if you want to use task dependency actions to take certain upload actions based on specific task exit codes.</span></span> <span data-ttu-id="cc6b6-186">Para obter mais informações sobre ações de dependência de tarefas, consulte [Criar dependências de tarefas para executar tarefas que dependem de outras tarefas](batch-task-dependencies.md).</span><span class="sxs-lookup"><span data-stu-id="cc6b6-186">For more information on task dependency actions, see [Create task dependencies to run tasks that depend on other tasks](batch-task-dependencies.md).</span></span> 

## <a name="next-steps"></a><span data-ttu-id="cc6b6-187">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="cc6b6-187">Next steps</span></span>

- <span data-ttu-id="cc6b6-188">Explore usando os novos recursos na API do serviço de Lote para manter dados da tarefa em [Manter dados da tarefa no Armazenamento do Azure com a API de serviço de Lote](batch-task-output-files.md).</span><span class="sxs-lookup"><span data-stu-id="cc6b6-188">Explore using the new features in the Batch service API to persist task data in [Persist task data to Azure Storage with the Batch service API](batch-task-output-files.md).</span></span>
- <span data-ttu-id="cc6b6-189">Saiba como usar a biblioteca de Convenções de Arquivo em Lotes para .NET em [Manter dados de trabalhos e tarefas no Armazenamento do Azure com a biblioteca de Convenções de Arquivo em Lotes para .NET para manter ](batch-task-output-file-conventions.md).</span><span class="sxs-lookup"><span data-stu-id="cc6b6-189">Learn about using the Batch File Conventions library for .NET in [Persist job and task data to Azure Storage with the Batch File Conventions library for .NET to persist ](batch-task-output-file-conventions.md).</span></span>
- <span data-ttu-id="cc6b6-190">Consulte o projeto de exemplo [PersistOutputs][github_persistoutputs] no GitHub, que demonstra como usar a biblioteca cliente de Lote para .NET e a biblioteca de Convenções de Arquivo para .NET para manter a saída da tarefa para o armazenamento durável.</span><span class="sxs-lookup"><span data-stu-id="cc6b6-190">See the [PersistOutputs][github_persistoutputs] sample project on GitHub, which demonstrates how to use both the Batch client library for .NET and the File Conventions library for .NET to persist task output to durable storage.</span></span>

[nuget_package]: https://www.nuget.org/packages/Microsoft.Azure.Batch.Conventions.Files
[portal]: https://portal.azure.com
[storage_explorer]: http://storageexplorer.com/
