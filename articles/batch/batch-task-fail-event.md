---
title: Eventos de falha de tarefa em lote do Azure | Documentos do Microsoft
description: "Referência de evento de falha de tarefa de lote."
services: batch
author: tamram
manager: timlt
ms.assetid: 
ms.service: batch
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: vm-windows
ms.workload: big-compute
ms.date: 04/20/2017
ms.author: tamram
ms.openlocfilehash: 08feb4ec34bb1635f8ea744b54a10b677b94ab3e
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="task-fail-event"></a><span data-ttu-id="f2b99-103">Evento de falha da tarefa</span><span class="sxs-lookup"><span data-stu-id="f2b99-103">Task fail event</span></span>

 <span data-ttu-id="f2b99-104">Esse evento é emitido quando uma tarefa é concluída com falha.</span><span class="sxs-lookup"><span data-stu-id="f2b99-104">This event is emitted when a task completes with a failure.</span></span> <span data-ttu-id="f2b99-105">Atualmente, todos os códigos de saída diferente de zero são considerados falhas.</span><span class="sxs-lookup"><span data-stu-id="f2b99-105">Currently all nonzero exit codes are considered failures.</span></span> <span data-ttu-id="f2b99-106">Esse evento será emitido *além* de um evento de conclusão de tarefa e pode ser usado para detectar falha de uma tarefa.</span><span class="sxs-lookup"><span data-stu-id="f2b99-106">This event will be emitted *in addition to* a task complete event and can be used to detect when a task has failed.</span></span>


 <span data-ttu-id="f2b99-107">O exemplo a seguir mostra o corpo de um evento de falha da tarefa.</span><span class="sxs-lookup"><span data-stu-id="f2b99-107">The following example shows the body of a task fail event.</span></span>

```
{
    "jobId": "job-0000000001",
    "id": "task-5",
    "taskType": "User",
    "systemTaskVersion": 0,
    "nodeInfo": {
        "poolId": "pool-001",
        "nodeId": "tvm-257509324_1-20160908t162728z"
    },
    "multiInstanceSettings": {
        "numberOfInstances": 1
    },
    "constraints": {
        "maxTaskRetryCount": 2
    },
    "executionInfo": {
        "startTime": "2016-09-08T16:32:23.799Z",
        "endTime": "2016-09-08T16:34:00.666Z",
        "exitCode": 1,
        "retryCount": 2,
        "requeueCount": 0
    }
}
```

|<span data-ttu-id="f2b99-108">Nome do elemento</span><span class="sxs-lookup"><span data-stu-id="f2b99-108">Element name</span></span>|<span data-ttu-id="f2b99-109">Tipo</span><span class="sxs-lookup"><span data-stu-id="f2b99-109">Type</span></span>|<span data-ttu-id="f2b99-110">Observações</span><span class="sxs-lookup"><span data-stu-id="f2b99-110">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="f2b99-111">jobId</span><span class="sxs-lookup"><span data-stu-id="f2b99-111">jobId</span></span>|<span data-ttu-id="f2b99-112">Cadeia de caracteres</span><span class="sxs-lookup"><span data-stu-id="f2b99-112">String</span></span>|<span data-ttu-id="f2b99-113">A ID do trabalho que contém a tarefa.</span><span class="sxs-lookup"><span data-stu-id="f2b99-113">The id of the job containing the task.</span></span>|
|<span data-ttu-id="f2b99-114">ID</span><span class="sxs-lookup"><span data-stu-id="f2b99-114">id</span></span>|<span data-ttu-id="f2b99-115">Cadeia de caracteres</span><span class="sxs-lookup"><span data-stu-id="f2b99-115">String</span></span>|<span data-ttu-id="f2b99-116">A ID da tarefa.</span><span class="sxs-lookup"><span data-stu-id="f2b99-116">The id of the task.</span></span>|
|<span data-ttu-id="f2b99-117">taskType</span><span class="sxs-lookup"><span data-stu-id="f2b99-117">taskType</span></span>|<span data-ttu-id="f2b99-118">Cadeia de caracteres</span><span class="sxs-lookup"><span data-stu-id="f2b99-118">String</span></span>|<span data-ttu-id="f2b99-119">O tipo de tarefa.</span><span class="sxs-lookup"><span data-stu-id="f2b99-119">The type of the task.</span></span> <span data-ttu-id="f2b99-120">Pode ser “JobManager” indicando que é uma tarefa do gerenciador de trabalhos ou “Usuário”, indicando que não é uma tarefa do gerenciador de trabalhos.</span><span class="sxs-lookup"><span data-stu-id="f2b99-120">This can either be 'JobManager' indicating it is a job manager task or 'User' indicating it is not a job manager task.</span></span> <span data-ttu-id="f2b99-121">Esse evento não é emitido para tarefas de preparação, lançamento ou inicialização de trabalho.</span><span class="sxs-lookup"><span data-stu-id="f2b99-121">This event is not emitted for job preparation tasks, job release tasks or start tasks.</span></span>|
|<span data-ttu-id="f2b99-122">systemTaskVersion</span><span class="sxs-lookup"><span data-stu-id="f2b99-122">systemTaskVersion</span></span>|<span data-ttu-id="f2b99-123">Int32</span><span class="sxs-lookup"><span data-stu-id="f2b99-123">Int32</span></span>|<span data-ttu-id="f2b99-124">Esse é o contador interno de repetição de uma tarefa.</span><span class="sxs-lookup"><span data-stu-id="f2b99-124">This is the internal retry counter on a task.</span></span> <span data-ttu-id="f2b99-125">Internamente, o serviço em lotes pode repetir uma tarefa para contabilizar problemas transitórios.</span><span class="sxs-lookup"><span data-stu-id="f2b99-125">Internally the Batch service can retry a task to account for transient issues.</span></span> <span data-ttu-id="f2b99-126">Esses problemas podem incluir erros internos de agendamento ou tentativa de recuperar nós de computação em estado inválido.</span><span class="sxs-lookup"><span data-stu-id="f2b99-126">These issues can include internal scheduling errors or attempts to recover from compute nodes in a bad state.</span></span>|
|[<span data-ttu-id="f2b99-127">nodeInfo</span><span class="sxs-lookup"><span data-stu-id="f2b99-127">nodeInfo</span></span>](#nodeInfo)|<span data-ttu-id="f2b99-128">Tipo complexo</span><span class="sxs-lookup"><span data-stu-id="f2b99-128">Complex Type</span></span>|<span data-ttu-id="f2b99-129">Contém informações sobre o nó de computação em que a tarefa é executada.</span><span class="sxs-lookup"><span data-stu-id="f2b99-129">Contains information about the compute node on which the task ran.</span></span>|
|[<span data-ttu-id="f2b99-130">multiInstanceSettings</span><span class="sxs-lookup"><span data-stu-id="f2b99-130">multiInstanceSettings</span></span>](#multiInstanceSettings)|<span data-ttu-id="f2b99-131">Tipo complexo</span><span class="sxs-lookup"><span data-stu-id="f2b99-131">Complex Type</span></span>|<span data-ttu-id="f2b99-132">Especifica que a tarefa é uma tarefa com várias instâncias que precisa de vários nós de computação.</span><span class="sxs-lookup"><span data-stu-id="f2b99-132">Specifies that the task is a Multi-Instance Task requiring multiple compute nodes.</span></span>  <span data-ttu-id="f2b99-133">Consulte [multiInstanceSettings](https://docs.microsoft.com/rest/api/batchservice/get-information-about-a-task) para obter detalhes.</span><span class="sxs-lookup"><span data-stu-id="f2b99-133">See [multiInstanceSettings](https://docs.microsoft.com/rest/api/batchservice/get-information-about-a-task) for details.</span></span>|
|[<span data-ttu-id="f2b99-134">restrições</span><span class="sxs-lookup"><span data-stu-id="f2b99-134">constraints</span></span>](#constraints)|<span data-ttu-id="f2b99-135">Tipo complexo</span><span class="sxs-lookup"><span data-stu-id="f2b99-135">Complex Type</span></span>|<span data-ttu-id="f2b99-136">As restrições de execução aplicáveis a essa tarefa.</span><span class="sxs-lookup"><span data-stu-id="f2b99-136">The execution constraints that apply to this task.</span></span>|
|[<span data-ttu-id="f2b99-137">executionInfo</span><span class="sxs-lookup"><span data-stu-id="f2b99-137">executionInfo</span></span>](#executionInfo)|<span data-ttu-id="f2b99-138">Tipo complexo</span><span class="sxs-lookup"><span data-stu-id="f2b99-138">Complex Type</span></span>|<span data-ttu-id="f2b99-139">Contém informações sobre a execução da tarefa.</span><span class="sxs-lookup"><span data-stu-id="f2b99-139">Contains information about the execution of the task.</span></span>|

###  <span data-ttu-id="f2b99-140"><a name="nodeInfo"></a> nodeInfo</span><span class="sxs-lookup"><span data-stu-id="f2b99-140"><a name="nodeInfo"></a> nodeInfo</span></span>

|<span data-ttu-id="f2b99-141">Nome do elemento</span><span class="sxs-lookup"><span data-stu-id="f2b99-141">Element name</span></span>|<span data-ttu-id="f2b99-142">Tipo</span><span class="sxs-lookup"><span data-stu-id="f2b99-142">Type</span></span>|<span data-ttu-id="f2b99-143">Observações</span><span class="sxs-lookup"><span data-stu-id="f2b99-143">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="f2b99-144">poolId</span><span class="sxs-lookup"><span data-stu-id="f2b99-144">poolId</span></span>|<span data-ttu-id="f2b99-145">Cadeia de caracteres</span><span class="sxs-lookup"><span data-stu-id="f2b99-145">String</span></span>|<span data-ttu-id="f2b99-146">A ID do pool em que a tarefa foi executada.</span><span class="sxs-lookup"><span data-stu-id="f2b99-146">The id of the pool on which the task ran.</span></span>|
|<span data-ttu-id="f2b99-147">nodeId</span><span class="sxs-lookup"><span data-stu-id="f2b99-147">nodeId</span></span>|<span data-ttu-id="f2b99-148">Cadeia de caracteres</span><span class="sxs-lookup"><span data-stu-id="f2b99-148">String</span></span>|<span data-ttu-id="f2b99-149">A ID do nó em que a tarefa foi executada.</span><span class="sxs-lookup"><span data-stu-id="f2b99-149">The id of the node on which the task ran.</span></span>|

###  <span data-ttu-id="f2b99-150"><a name="multiInstanceSettings"></a> multiInstanceSettings</span><span class="sxs-lookup"><span data-stu-id="f2b99-150"><a name="multiInstanceSettings"></a> multiInstanceSettings</span></span>

|<span data-ttu-id="f2b99-151">Nome do elemento</span><span class="sxs-lookup"><span data-stu-id="f2b99-151">Element name</span></span>|<span data-ttu-id="f2b99-152">Tipo</span><span class="sxs-lookup"><span data-stu-id="f2b99-152">Type</span></span>|<span data-ttu-id="f2b99-153">Observações</span><span class="sxs-lookup"><span data-stu-id="f2b99-153">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="f2b99-154">numberOfInstances</span><span class="sxs-lookup"><span data-stu-id="f2b99-154">numberOfInstances</span></span>|<span data-ttu-id="f2b99-155">Int32</span><span class="sxs-lookup"><span data-stu-id="f2b99-155">Int32</span></span>|<span data-ttu-id="f2b99-156">O número de nós de computação que a tarefa precisa.</span><span class="sxs-lookup"><span data-stu-id="f2b99-156">The number of compute nodes required by the task.</span></span>|

###  <span data-ttu-id="f2b99-157"><a name="constraints"></a> restrições</span><span class="sxs-lookup"><span data-stu-id="f2b99-157"><a name="constraints"></a> constraints</span></span>

|<span data-ttu-id="f2b99-158">Nome do elemento</span><span class="sxs-lookup"><span data-stu-id="f2b99-158">Element name</span></span>|<span data-ttu-id="f2b99-159">Tipo</span><span class="sxs-lookup"><span data-stu-id="f2b99-159">Type</span></span>|<span data-ttu-id="f2b99-160">Observações</span><span class="sxs-lookup"><span data-stu-id="f2b99-160">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="f2b99-161">maxTaskRetryCount</span><span class="sxs-lookup"><span data-stu-id="f2b99-161">maxTaskRetryCount</span></span>|<span data-ttu-id="f2b99-162">Int32</span><span class="sxs-lookup"><span data-stu-id="f2b99-162">Int32</span></span>|<span data-ttu-id="f2b99-163">O número máximo de vezes que a tarefa pode ser repetida.</span><span class="sxs-lookup"><span data-stu-id="f2b99-163">The maximum number of times the task may be retried.</span></span> <span data-ttu-id="f2b99-164">O serviço em lotes repetirá uma tarefa se seu código de saída for diferente de zero.</span><span class="sxs-lookup"><span data-stu-id="f2b99-164">The Batch service retries a task if its exit code is nonzero.</span></span><br /><br /> <span data-ttu-id="f2b99-165">Observe que esse valor controla especificamente o número de tentativas.</span><span class="sxs-lookup"><span data-stu-id="f2b99-165">Note that this value specifically controls the number of retries.</span></span> <span data-ttu-id="f2b99-166">O serviço em lotes tentará a tarefa uma vez e, em seguida, pode tentar novamente até esse limite.</span><span class="sxs-lookup"><span data-stu-id="f2b99-166">The Batch service will try the task once, and may then retry up to this limit.</span></span> <span data-ttu-id="f2b99-167">Por exemplo, se a contagem máxima de repetição for 3, o lote tentará uma tarefa até 4 vezes (uma tentativa inicial e 3 repetições).</span><span class="sxs-lookup"><span data-stu-id="f2b99-167">For example, if the maximum retry count is 3, Batch tries a task up to 4 times (one initial try and 3 retries).</span></span><br /><br /> <span data-ttu-id="f2b99-168">Se a contagem máxima de repetição for 0, o serviço em lote não tentará repetir a tarefas.</span><span class="sxs-lookup"><span data-stu-id="f2b99-168">If the maximum retry count is 0, the Batch service does not retry tasks.</span></span><br /><br /> <span data-ttu-id="f2b99-169">Se a contagem máxima de repetição for -1, o serviço em lotes repetirá as tarefas ilimitadamente.</span><span class="sxs-lookup"><span data-stu-id="f2b99-169">If the maximum retry count is -1, the Batch service retries tasks without limit.</span></span><br /><br /> <span data-ttu-id="f2b99-170">O valor padrão é 0 (sem novas tentativas).</span><span class="sxs-lookup"><span data-stu-id="f2b99-170">The default value is 0 (no retries).</span></span>|


###  <span data-ttu-id="f2b99-171"><a name="executionInfo"></a> executionInfo</span><span class="sxs-lookup"><span data-stu-id="f2b99-171"><a name="executionInfo"></a> executionInfo</span></span>

|<span data-ttu-id="f2b99-172">Nome do elemento</span><span class="sxs-lookup"><span data-stu-id="f2b99-172">Element name</span></span>|<span data-ttu-id="f2b99-173">Tipo</span><span class="sxs-lookup"><span data-stu-id="f2b99-173">Type</span></span>|<span data-ttu-id="f2b99-174">Observações</span><span class="sxs-lookup"><span data-stu-id="f2b99-174">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="f2b99-175">startTime</span><span class="sxs-lookup"><span data-stu-id="f2b99-175">startTime</span></span>|<span data-ttu-id="f2b99-176">DateTime</span><span class="sxs-lookup"><span data-stu-id="f2b99-176">DateTime</span></span>|<span data-ttu-id="f2b99-177">A hora em que a tarefa começou a ser executada.</span><span class="sxs-lookup"><span data-stu-id="f2b99-177">The time at which the task started running.</span></span> <span data-ttu-id="f2b99-178">“Em execução” corresponde ao estado de **execução**, portanto, se a tarefa especificar arquivos de recursos ou pacotes de aplicativos, a hora de início refletirá a hora na qual a tarefa começou a baixar ou implantar esses arquivos ou pacotes.</span><span class="sxs-lookup"><span data-stu-id="f2b99-178">'Running' corresponds to the **running** state, so if the task specifies resource files or application packages, then the start time reflects the time at which the task started downloading or deploying these.</span></span>  <span data-ttu-id="f2b99-179">Se a tarefa foi reiniciada ou repetida, esta é a última vez em que a tarefa começou a ser executada.</span><span class="sxs-lookup"><span data-stu-id="f2b99-179">If the task has been restarted or retried, this is the most recent time at which the task started running.</span></span>|
|<span data-ttu-id="f2b99-180">endTime</span><span class="sxs-lookup"><span data-stu-id="f2b99-180">endTime</span></span>|<span data-ttu-id="f2b99-181">DateTime</span><span class="sxs-lookup"><span data-stu-id="f2b99-181">DateTime</span></span>|<span data-ttu-id="f2b99-182">A hora e conclusão da tarefa.</span><span class="sxs-lookup"><span data-stu-id="f2b99-182">The time at which the task completed.</span></span>|
|<span data-ttu-id="f2b99-183">exitCode</span><span class="sxs-lookup"><span data-stu-id="f2b99-183">exitCode</span></span>|<span data-ttu-id="f2b99-184">Int32</span><span class="sxs-lookup"><span data-stu-id="f2b99-184">Int32</span></span>|<span data-ttu-id="f2b99-185">O código de saída da tarefa.</span><span class="sxs-lookup"><span data-stu-id="f2b99-185">The exit code of the task.</span></span>|
|<span data-ttu-id="f2b99-186">retryCount</span><span class="sxs-lookup"><span data-stu-id="f2b99-186">retryCount</span></span>|<span data-ttu-id="f2b99-187">Int32</span><span class="sxs-lookup"><span data-stu-id="f2b99-187">Int32</span></span>|<span data-ttu-id="f2b99-188">O número de vezes que a tarefa foi repetida pelo serviço em lotes.</span><span class="sxs-lookup"><span data-stu-id="f2b99-188">The number of times the task has been retried by the Batch service.</span></span> <span data-ttu-id="f2b99-189">A tarefa será repetida se a saída tiver um código de saída diferente de zero, até a MaxTaskRetryCount especificada.</span><span class="sxs-lookup"><span data-stu-id="f2b99-189">The task is retried if it exits with a nonzero exit code, up to the specified MaxTaskRetryCount.</span></span>|
|<span data-ttu-id="f2b99-190">requeueCount</span><span class="sxs-lookup"><span data-stu-id="f2b99-190">requeueCount</span></span>|<span data-ttu-id="f2b99-191">Int32</span><span class="sxs-lookup"><span data-stu-id="f2b99-191">Int32</span></span>|<span data-ttu-id="f2b99-192">O número de vezes que a tarefa foi colocada em fila novamente pelo serviço em lotes, como resultado de uma solicitação de usuário.</span><span class="sxs-lookup"><span data-stu-id="f2b99-192">The number of times the task has been requeued by the Batch service as the result of a user request.</span></span><br /><br /> <span data-ttu-id="f2b99-193">Quando o usuário remove nós de um pool (redimensionando ou reduzindo o pool) ou quando o trabalho é desabilitado, o usuário pode especificar que as tarefas em execução nos nós sejam colocadas novamente na fila de execução.</span><span class="sxs-lookup"><span data-stu-id="f2b99-193">When the user removes nodes from a pool (by resizing or shrinking the pool) or when the job is being disabled, the user can specify that running tasks on the nodes be requeued for execution.</span></span> <span data-ttu-id="f2b99-194">Essa contagem controla quantas vezes a tarefa foi colocada novamente em fila por esses motivos.</span><span class="sxs-lookup"><span data-stu-id="f2b99-194">This count tracks how many times the task has been requeued for these reasons.</span></span>|
