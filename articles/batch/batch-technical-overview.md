---
title: "O Lote do Azure executa soluções de computação paralela em larga escala na nuvem | Microsoft Docs"
description: "Saiba mais sobre o uso do serviço Lote do Azure para cargas de trabalho paralelas e HPC em larga escala."
services: batch
documentationcenter: 
author: tamram
manager: timlt
editor: 
ms.assetid: 93e37d44-7585-495e-8491-312ed584ab79
ms.service: batch
ms.workload: big-compute
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 05/05/2017
ms.author: tamram
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 3bda4859e7ce45f5f7b8df6167e6e9d2cedd5c62
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="run-intrinsically-parallel-workloads-with-batch"></a><span data-ttu-id="7bd01-103">Executar cargas de trabalho intrinsecamente paralelas com o Lote</span><span class="sxs-lookup"><span data-stu-id="7bd01-103">Run intrinsically parallel workloads with Batch</span></span>

<span data-ttu-id="7bd01-104">O Lote do Azure é um serviço de plataforma para execução de aplicativos paralelos em grande escala e aplicativos HPC (computação de alto desempenho) com eficiência na nuvem.</span><span class="sxs-lookup"><span data-stu-id="7bd01-104">Azure Batch is a platform service for running large-scale parallel and high-performance computing (HPC) applications efficiently in the cloud.</span></span> <span data-ttu-id="7bd01-105">O Lote do Azure agenda o trabalho de computação intensiva para executar em uma coleção gerenciada de máquinas virtuais e que pode dimensionar automaticamente os recursos de computação para atender às necessidades dos trabalhos.</span><span class="sxs-lookup"><span data-stu-id="7bd01-105">Azure Batch schedules compute-intensive work to run on a managed collection of virtual machines, and can automatically scale compute resources to meet the needs of your jobs.</span></span>

<span data-ttu-id="7bd01-106">Com o Lote do Azure, você pode definir facilmente os recursos de computação do Azure para executar os aplicativos em paralelo e em escala.</span><span class="sxs-lookup"><span data-stu-id="7bd01-106">With Azure Batch, you can easily define Azure compute resources to execute your applications in parallel, and at scale.</span></span> <span data-ttu-id="7bd01-107">Não é necessário criar, configurar e gerenciar manualmente um cluster HPC, máquinas virtuais, redes virtuais ou um trabalho e infraestrutura de agendamento de tarefas complexos.</span><span class="sxs-lookup"><span data-stu-id="7bd01-107">There's no need to manually create, configure, and manage an HPC cluster, individual virtual machines, virtual networks, or a complex job and task scheduling infrastructure.</span></span> <span data-ttu-id="7bd01-108">O Lote do Azure automatiza ou simplifica essas tarefas para você.</span><span class="sxs-lookup"><span data-stu-id="7bd01-108">Azure Batch automates or simplifies these tasks for you.</span></span>

## <a name="use-cases-for-batch"></a><span data-ttu-id="7bd01-109">Casos de uso para o Lote</span><span class="sxs-lookup"><span data-stu-id="7bd01-109">Use cases for Batch</span></span>
<span data-ttu-id="7bd01-110">O Lote é um serviço do Azure gerenciado que é usado para *processamento em lotes* ou *computação em lotes*, executando grandes volumes de tarefas semelhantes para obter o resultado desejado.</span><span class="sxs-lookup"><span data-stu-id="7bd01-110">Batch is a managed Azure service that is used for *batch processing* or *batch computing*--running a large volume of similar tasks for a desired result.</span></span> <span data-ttu-id="7bd01-111">A computação em lote é mais comumente usada por organizações que processam, transformam e analisam grandes volumes de dados regularmente.</span><span class="sxs-lookup"><span data-stu-id="7bd01-111">Batch computing is most commonly used by organizations that regularly process, transform, and analyze large volumes of data.</span></span>

<span data-ttu-id="7bd01-112">O Lote funciona bem com cargas de trabalho e aplicativos intrinsecamente paralelos (também conhecidos como "excessivamente paralelos").</span><span class="sxs-lookup"><span data-stu-id="7bd01-112">Batch works well with intrinsically parallel (also known as "embarrassingly parallel") applications and workloads.</span></span> <span data-ttu-id="7bd01-113">Cargas de trabalho intrinsecamente paralelas são aquelas divididas com facilidade em várias tarefas que executam o trabalho simultaneamente em vários computadores.</span><span class="sxs-lookup"><span data-stu-id="7bd01-113">Intrinsically parallel workloads are those that are easily split into multiple tasks that perform work simultaneously on many computers.</span></span>

![Tarefas paralelas][1]<br/>

<span data-ttu-id="7bd01-115">Alguns exemplos de cargas de trabalho que normalmente são processadas usando essa técnica são:</span><span class="sxs-lookup"><span data-stu-id="7bd01-115">Some examples of workloads that are commonly processed using this technique are:</span></span>

* <span data-ttu-id="7bd01-116">Modelagem de riscos financeiros</span><span class="sxs-lookup"><span data-stu-id="7bd01-116">Financial risk modeling</span></span>
* <span data-ttu-id="7bd01-117">Análise de dados de clima e hidrologia</span><span class="sxs-lookup"><span data-stu-id="7bd01-117">Climate and hydrology data analysis</span></span>
* <span data-ttu-id="7bd01-118">Processamento, análise e renderização de imagens</span><span class="sxs-lookup"><span data-stu-id="7bd01-118">Image rendering, analysis, and processing</span></span>
* <span data-ttu-id="7bd01-119">Codificação e transcodificação de mídia</span><span class="sxs-lookup"><span data-stu-id="7bd01-119">Media encoding and transcoding</span></span>
* <span data-ttu-id="7bd01-120">Análise de sequência genética</span><span class="sxs-lookup"><span data-stu-id="7bd01-120">Genetic sequence analysis</span></span>
* <span data-ttu-id="7bd01-121">Análise de estresse de engenharia</span><span class="sxs-lookup"><span data-stu-id="7bd01-121">Engineering stress analysis</span></span>
* <span data-ttu-id="7bd01-122">Teste de software</span><span class="sxs-lookup"><span data-stu-id="7bd01-122">Software testing</span></span>

<span data-ttu-id="7bd01-123">O lote também pode realizar cálculos paralelos com uma etapa de redução no final, além de executar cargas de trabalho HPC mais complexas, como aplicativos [MPI (nterface de Transmissão de Mensagens)](batch-mpi.md) .</span><span class="sxs-lookup"><span data-stu-id="7bd01-123">Batch can also perform parallel calculations with a reduce step at the end, and execute more complex HPC workloads such as [Message Passing Interface (MPI)](batch-mpi.md) applications.</span></span>

<span data-ttu-id="7bd01-124">Para obter uma comparação entre o Lote e outras opções de solução HPC no Azure, confira [Soluções do Lote e HPC](batch-hpc-solutions.md).</span><span class="sxs-lookup"><span data-stu-id="7bd01-124">For a comparison between Batch and other HPC solution options in Azure, see [Batch and HPC solutions](batch-hpc-solutions.md).</span></span>

[!INCLUDE [batch-pricing-include](../../includes/batch-pricing-include.md)]

## <a name="scenario-scale-out-a-parallel-workload"></a><span data-ttu-id="7bd01-125">Cenário: escalar horizontalmente uma carga de trabalho paralela</span><span class="sxs-lookup"><span data-stu-id="7bd01-125">Scenario: Scale out a parallel workload</span></span>
<span data-ttu-id="7bd01-126">Uma solução comum que usa as APIs de Lote para interagir com o serviço de Lote envolve a expansão de trabalho intrinsecamente paralelo (como a renderização de imagens para cenas 3D) em um pool de nós de computação.</span><span class="sxs-lookup"><span data-stu-id="7bd01-126">A common solution that uses the Batch APIs to interact with the Batch service involves scaling out intrinsically parallel work--such as the rendering of images for 3D scenes--on a pool of compute nodes.</span></span> <span data-ttu-id="7bd01-127">Esse pool de nós de computação pode ser seu "farm de renderização" que oferece dezenas, centenas ou até milhares de núcleos para o trabalho de renderização, por exemplo.</span><span class="sxs-lookup"><span data-stu-id="7bd01-127">This pool of compute nodes can be your "render farm" that provides tens, hundreds, or even thousands of cores to your rendering job, for example.</span></span>

<span data-ttu-id="7bd01-128">O diagrama a seguir mostra um fluxo de trabalho do Lote comum, com um aplicativo cliente ou serviço hospedado usando o Lote para executar uma carga de trabalho paralela.</span><span class="sxs-lookup"><span data-stu-id="7bd01-128">The following diagram shows a common Batch workflow, with a client application or hosted service using Batch to run a parallel workload.</span></span>

![Fluxo de trabalho da solução do Lote][2]

<span data-ttu-id="7bd01-130">Nesse cenário comum, o aplicativo ou serviço processa uma carga de trabalho computacional no Lote do Azure, executando as seguintes etapas:</span><span class="sxs-lookup"><span data-stu-id="7bd01-130">In this common scenario, your application or service processes a computational workload in Azure Batch by performing the following steps:</span></span>

1. <span data-ttu-id="7bd01-131">Carregue os **arquivos de entrada** e o **aplicativo** que processará esses arquivos em sua conta do Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="7bd01-131">Upload the **input files** and the **application** that will process those files to your Azure Storage account.</span></span> <span data-ttu-id="7bd01-132">Os arquivos de entrada podem ser quaisquer dados que o aplicativo processará, como dados de modelagem financeira ou arquivos de vídeo a serem transcodificados.</span><span class="sxs-lookup"><span data-stu-id="7bd01-132">The input files can be any data that your application will process, such as financial modeling data, or video files to be transcoded.</span></span> <span data-ttu-id="7bd01-133">Os arquivos do aplicativo podem ser qualquer aplicativo que seja usado para processar os dados, como um aplicativo de renderização 3D ou um transcodificador de mídia.</span><span class="sxs-lookup"><span data-stu-id="7bd01-133">The application files can be any application that is used for processing the data, such as a 3D rendering application or media transcoder.</span></span>
2. <span data-ttu-id="7bd01-134">Crie um **pool** do Lote de nós de computação em sua conta do Lote. Esses nós são as máquinas virtuais que executarão suas tarefas.</span><span class="sxs-lookup"><span data-stu-id="7bd01-134">Create a Batch **pool** of compute nodes in your Batch account--these nodes are the virtual machines that will execute your tasks.</span></span> <span data-ttu-id="7bd01-135">Especifique propriedades, como o [tamanho de nó](../cloud-services/cloud-services-sizes-specs.md), o sistema operacional e o local no Armazenamento do Azure do aplicativo para instalação quando os nós ingressarem no pool (o aplicativo que você carregou na etapa 1).</span><span class="sxs-lookup"><span data-stu-id="7bd01-135">You specify properties such as the [node size](../cloud-services/cloud-services-sizes-specs.md), their operating system, and the location in Azure Storage of the application to install when the nodes join the pool (the application that you uploaded in step #1).</span></span> <span data-ttu-id="7bd01-136">Você também pode configurar o pool para ser [dimensionado automaticamente](batch-automatic-scaling.md) em resposta à carga de trabalho gerada pelas tarefas.</span><span class="sxs-lookup"><span data-stu-id="7bd01-136">You can also configure the pool to [automatically scale](batch-automatic-scaling.md) in response to the workload that your tasks generate.</span></span> <span data-ttu-id="7bd01-137">O dimensionamento automático ajusta dinamicamente o número de nós de computação no pool.</span><span class="sxs-lookup"><span data-stu-id="7bd01-137">Auto-scaling dynamically adjusts the number of compute nodes in the pool.</span></span>
3. <span data-ttu-id="7bd01-138">Crie um **trabalho** do Lote para executar a carga de trabalho no pool de nós de computação.</span><span class="sxs-lookup"><span data-stu-id="7bd01-138">Create a Batch **job** to run the workload on the pool of compute nodes.</span></span> <span data-ttu-id="7bd01-139">Ao criar um trabalho, você pode associá-lo a um pool do Lote.</span><span class="sxs-lookup"><span data-stu-id="7bd01-139">When you create a job, you associate it with a Batch pool.</span></span>
4. <span data-ttu-id="7bd01-140">Adicione **Tarefas** ao trabalho.</span><span class="sxs-lookup"><span data-stu-id="7bd01-140">Add **tasks** to the job.</span></span> <span data-ttu-id="7bd01-141">Quando você adiciona tarefas a um trabalho, o serviço de Lote agenda automaticamente as tarefas para execução em nós de computação no pool.</span><span class="sxs-lookup"><span data-stu-id="7bd01-141">When you add tasks to a job, the Batch service automatically schedules the tasks for execution on the compute nodes in the pool.</span></span> <span data-ttu-id="7bd01-142">Cada tarefa usa o aplicativo que você carregou para processar os arquivos de entrada.</span><span class="sxs-lookup"><span data-stu-id="7bd01-142">Each task uses the application that you uploaded to process the input files.</span></span>
   
   * <span data-ttu-id="7bd01-143">4a.</span><span class="sxs-lookup"><span data-stu-id="7bd01-143">4a.</span></span> <span data-ttu-id="7bd01-144">Antes da execução de uma tarefa, ela pode baixar os dados (os arquivos de entrada) que deve processar para o nó de computação ao qual está atribuída.</span><span class="sxs-lookup"><span data-stu-id="7bd01-144">Before a task executes, it can download the data (the input files) that it is to process to the compute node it is assigned to.</span></span> <span data-ttu-id="7bd01-145">Se o aplicativo ainda não tiver sido instalado no nó (confira a etapa nº 2), ele poderá ser baixado aqui em vez disso.</span><span class="sxs-lookup"><span data-stu-id="7bd01-145">If the application has not already been installed on the node (see step #2), it can be downloaded here instead.</span></span> <span data-ttu-id="7bd01-146">Quando os downloads forem concluídos, as tarefas serão executadas em seus nós atribuídos.</span><span class="sxs-lookup"><span data-stu-id="7bd01-146">When the downloads are complete, the tasks execute on their assigned nodes.</span></span>
5. <span data-ttu-id="7bd01-147">À medida que as tarefas são executadas, você pode consultar o Lote para monitorar o andamento do trabalho e suas tarefas.</span><span class="sxs-lookup"><span data-stu-id="7bd01-147">As the tasks run, you can query Batch to monitor the progress of the job and its tasks.</span></span> <span data-ttu-id="7bd01-148">O aplicativo cliente ou serviço se comunica com o serviço de Lote por HTTPS.</span><span class="sxs-lookup"><span data-stu-id="7bd01-148">Your client application or service communicates with the Batch service over HTTPS.</span></span> <span data-ttu-id="7bd01-149">Como você pode monitorar milhares de tarefas em execução em milhares de nós de computação, não se esqueça de [consultar o serviço do Lote com eficiência](batch-efficient-list-queries.md).</span><span class="sxs-lookup"><span data-stu-id="7bd01-149">Because you may be monitoring thousands of tasks running on thousands of compute nodes, be sure to [query the Batch service efficiently](batch-efficient-list-queries.md).</span></span>
6. <span data-ttu-id="7bd01-150">À medida que as tarefas são concluídas,elas podem carregar seus dados de resultados para o Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="7bd01-150">As the tasks complete, they can upload their result data to Azure Storage.</span></span> <span data-ttu-id="7bd01-151">Você também pode recuperar arquivos diretamente do sistema de arquivos em um nó de computação.</span><span class="sxs-lookup"><span data-stu-id="7bd01-151">You can also retrieve files directly from the file system on a compute node.</span></span>
7. <span data-ttu-id="7bd01-152">Quando o monitoramento detecta que as tarefas em seu trabalho foram concluídas, o aplicativo cliente ou serviço pode baixar os dados de saída para processamento adicional ou avaliação.</span><span class="sxs-lookup"><span data-stu-id="7bd01-152">When your monitoring detects that the tasks in your job have completed, your client application or service can download the output data for further processing or evaluation.</span></span>

<span data-ttu-id="7bd01-153">Lembre-se de que essa é apenas uma maneira de usar o Lote, e este cenário descreve apenas alguns de seus recursos disponíveis.</span><span class="sxs-lookup"><span data-stu-id="7bd01-153">Keep in mind this is just one way to use Batch, and this scenario describes only a few of its available features.</span></span> <span data-ttu-id="7bd01-154">Por exemplo, você pode executar [várias tarefas em paralelo](batch-parallel-node-tasks.md) em cada nó de computação e pode usar [tarefas de preparo e conclusão de trabalhos](batch-job-prep-release.md) para preparar os nós para os trabalhos e realizar a limpeza posteriormente.</span><span class="sxs-lookup"><span data-stu-id="7bd01-154">For example, you can execute [multiple tasks in parallel](batch-parallel-node-tasks.md) on each compute node, and you can use [job preparation and completion tasks](batch-job-prep-release.md) to prepare the nodes for your jobs, then clean up afterward.</span></span>

## <a name="next-steps"></a><span data-ttu-id="7bd01-155">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="7bd01-155">Next steps</span></span>
<span data-ttu-id="7bd01-156">Agora que você já viu uma visão geral de alto nível do serviço Lote, é hora de se aprofundar para saber como pode usá-lo para processar suas cargas de trabalho paralelas com uso intensivo de computação.</span><span class="sxs-lookup"><span data-stu-id="7bd01-156">Now that you have a high-level overview of the Batch service, it's time to dig deeper to learn how you can use it to process your compute-intensive parallel workloads.</span></span>

* <span data-ttu-id="7bd01-157">Leia ae [Visão geral de recursos do Lote para desenvolvedores](batch-api-basics.md), informações essenciais para qualquer pessoa que está se preparando para usar o Lote.</span><span class="sxs-lookup"><span data-stu-id="7bd01-157">Read the [Batch feature overview for developers](batch-api-basics.md), essential information for anyone preparing to use Batch.</span></span> <span data-ttu-id="7bd01-158">O artigo contém informações mais detalhadas sobre os recursos de serviço do Lote, como pools, nós, trabalhos e tarefas, e os muitos recursos da API que você pode usar ao criar o aplicativo do Lote.</span><span class="sxs-lookup"><span data-stu-id="7bd01-158">The article contains more detailed information about Batch service resources like pools, nodes, jobs, and tasks, and the many API features that you can use while building your Batch application.</span></span>
* <span data-ttu-id="7bd01-159">Saiba mais sobre as [Ferramentas e APIs do Lote](batch-apis-tools.md) disponíveis para a criação de soluções do Lote.</span><span class="sxs-lookup"><span data-stu-id="7bd01-159">Learn about the [Batch APIs and tools](batch-apis-tools.md) available for building Batch solutions.</span></span>
* <span data-ttu-id="7bd01-160">[Introdução à biblioteca do Lote do Azure para .NET](batch-dotnet-get-started.md) para aprender a usar o C# e a biblioteca do .NET do Lote para executar uma carga de trabalho simples usando um fluxo de trabalho comum do Lote.</span><span class="sxs-lookup"><span data-stu-id="7bd01-160">[Get started with the Azure Batch library for .NET](batch-dotnet-get-started.md) to learn how to use C# and the Batch .NET library to execute a simple workload using a common Batch workflow.</span></span> <span data-ttu-id="7bd01-161">Este artigo deve ser uma de suas primeiras etapas ao aprender a usar o serviço de Lote.</span><span class="sxs-lookup"><span data-stu-id="7bd01-161">This article should be one of your first stops while learning how to use the Batch service.</span></span> <span data-ttu-id="7bd01-162">Também há uma [Versão do Python](batch-python-tutorial.md) do tutorial.</span><span class="sxs-lookup"><span data-stu-id="7bd01-162">There is also a [Python version](batch-python-tutorial.md) of the tutorial.</span></span>
* <span data-ttu-id="7bd01-163">Baixe os [exemplos de código no GitHub][github_samples] para ver como o C# e o Python podem interagir com o Lote para agendar e processar cargas de trabalho de exemplo.</span><span class="sxs-lookup"><span data-stu-id="7bd01-163">Download the [code samples on GitHub][github_samples] to see how both C# and Python can interface with Batch to schedule and process sample workloads.</span></span>
* <span data-ttu-id="7bd01-164">Confira o [Roteiro de Aprendizagem do Lote][learning_path] para ter uma noção dos recursos disponíveis para você ao aprender a trabalhar com o Lote.</span><span class="sxs-lookup"><span data-stu-id="7bd01-164">Check out the [Batch Learning Path][learning_path] to get an idea of the resources available to you as you learn to work with Batch.</span></span>


[github_samples]: https://github.com/Azure/azure-batch-samples
[learning_path]: https://azure.microsoft.com/documentation/learning-paths/batch/

[1]: ./media/batch-technical-overview/tech_overview_01.png
[2]: ./media/batch-technical-overview/tech_overview_02.png
