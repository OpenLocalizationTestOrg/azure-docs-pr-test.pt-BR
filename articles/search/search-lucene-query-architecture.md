---
title: arquitetura de mecanismo (Lucene) de pesquisa de texto de aaaFull na pesquisa do Azure | Microsoft Docs
description: "Explicação dos conceitos de recuperação Lucene consulta processamento e o documento para pesquisa de texto completo, como tooAzure relacionado a pesquisa."
services: search
manager: jhubbard
author: yahnoosh
documentationcenter: 
ms.service: search
ms.devlang: NA
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 04/06/2017
ms.author: jlembicz
ms.openlocfilehash: c6d1bea8d40154fd9237b9e44584cdfcd193cbd9
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="how-full-text-search-works-in-azure-search"></a><span data-ttu-id="5153b-103">Como funciona a pesquisa de texto completo no Azure Search</span><span class="sxs-lookup"><span data-stu-id="5153b-103">How full text search works in Azure Search</span></span>

<span data-ttu-id="5153b-104">Este artigo é para desenvolvedores que precisam de uma compreensão mais profunda de como a pesquisa de texto completo do Lucene funciona no Azure Search.</span><span class="sxs-lookup"><span data-stu-id="5153b-104">This article is for developers who need a deeper understanding of how Lucene full text search works in Azure Search.</span></span> <span data-ttu-id="5153b-105">Para consultas de texto, o Azure Search fornecerá perfeitamente os resultados esperados na maioria dos cenários, mas, ocasionalmente, você pode obter um resultado que pode parecer "estranho".</span><span class="sxs-lookup"><span data-stu-id="5153b-105">For text queries, Azure Search will seamlessly deliver expected results in most scenarios, but occasionally you might get a result that seems "off" somehow.</span></span> <span data-ttu-id="5153b-106">Nessas situações, ter um plano de fundo em Olá quatro estágios da execução da consulta Lucene (análise lexical, análise de consulta, correspondência, a pontuação de documento) pode ajudar a identificar alterações específicas tooquery parâmetros ou configuração que fornecerão Olá de índice resultado desejado.</span><span class="sxs-lookup"><span data-stu-id="5153b-106">In these situations, having a background in hello four stages of Lucene query execution (query parsing, lexical analysis, document matching, scoring) can help you identify specific changes tooquery parameters or index configuration that will deliver hello desired outcome.</span></span> 

> [!Note] 
> <span data-ttu-id="5153b-107">O Azure Search usa o Lucene para pesquisa de texto completo, mas a integração do Lucene não é completa.</span><span class="sxs-lookup"><span data-stu-id="5153b-107">Azure Search uses Lucene for full text search, but Lucene integration is not exhaustive.</span></span> <span data-ttu-id="5153b-108">Estamos seletivamente expor e estender cenários Lucene funcionalidade tooenable Olá importante tooAzure pesquisa.</span><span class="sxs-lookup"><span data-stu-id="5153b-108">We selectively expose and extend Lucene functionality tooenable hello scenarios important tooAzure Search.</span></span> 

## <a name="architecture-overview-and-diagram"></a><span data-ttu-id="5153b-109">Diagrama e visão geral da arquitetura</span><span class="sxs-lookup"><span data-stu-id="5153b-109">Architecture overview and diagram</span></span>

<span data-ttu-id="5153b-110">Processamento de uma consulta de pesquisa de texto completo inicia com termos de pesquisa tooextract do texto de consulta de saudação de análise.</span><span class="sxs-lookup"><span data-stu-id="5153b-110">Processing a full text search query starts with parsing hello query text tooextract search terms.</span></span> <span data-ttu-id="5153b-111">mecanismo de pesquisa Olá usa um tooretrieve de indexar documentos com os termos correspondentes.</span><span class="sxs-lookup"><span data-stu-id="5153b-111">hello search engine uses an index tooretrieve documents with matching terms.</span></span> <span data-ttu-id="5153b-112">Termos de consulta individual, às vezes, são divididos e reconstituído em nova toocast de formulários uma rede mais ampla sobre o que poderia ser considerado como uma correspondência potencial.</span><span class="sxs-lookup"><span data-stu-id="5153b-112">Individual query terms are sometimes broken down and reconstituted into new forms toocast a broader net over what could be considered as a potential match.</span></span> <span data-ttu-id="5153b-113">Um conjunto de resultados, em seguida, é classificado por um relevância pontuação tooeach atribuído correspondente documento individual.</span><span class="sxs-lookup"><span data-stu-id="5153b-113">A result set is then sorted by a relevance score assigned tooeach individual matching document.</span></span> <span data-ttu-id="5153b-114">Aqueles na parte superior de saudação do hello classificado lista são retornados toohello aplicativo de chamada.</span><span class="sxs-lookup"><span data-stu-id="5153b-114">Those at hello top of hello ranked list are returned toohello calling application.</span></span>

<span data-ttu-id="5153b-115">A execução de consulta redefinida, tem quatro fases:</span><span class="sxs-lookup"><span data-stu-id="5153b-115">Restated, query execution has four stages:</span></span> 

1. <span data-ttu-id="5153b-116">Análise da consulta</span><span class="sxs-lookup"><span data-stu-id="5153b-116">Query parsing</span></span> 
2. <span data-ttu-id="5153b-117">Análise léxica</span><span class="sxs-lookup"><span data-stu-id="5153b-117">Lexical analysis</span></span> 
3. <span data-ttu-id="5153b-118">Recuperação de documentos</span><span class="sxs-lookup"><span data-stu-id="5153b-118">Document retrieval</span></span> 
4. <span data-ttu-id="5153b-119">Pontuação</span><span class="sxs-lookup"><span data-stu-id="5153b-119">Scoring</span></span> 

<span data-ttu-id="5153b-120">diagrama de saudação abaixo ilustra Olá componentes usados tooprocess uma solicitação de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="5153b-120">hello diagram below illustrates hello components used tooprocess a search request.</span></span> 

 ![Diagrama da arquitetura de consulta do Lucene no Azure Search][1]


| <span data-ttu-id="5153b-122">Principais componentes</span><span class="sxs-lookup"><span data-stu-id="5153b-122">Key components</span></span> | <span data-ttu-id="5153b-123">Descrição funcional</span><span class="sxs-lookup"><span data-stu-id="5153b-123">Functional description</span></span> | 
|----------------|------------------------|
|<span data-ttu-id="5153b-124">**Analisadores de consulta**</span><span class="sxs-lookup"><span data-stu-id="5153b-124">**Query parsers**</span></span> | <span data-ttu-id="5153b-125">Separar os termos de consulta de operadores de consulta e criar o mecanismo de pesquisa de toohello Olá consulta estrutura (árvore de consulta) toobe enviado.</span><span class="sxs-lookup"><span data-stu-id="5153b-125">Separate query terms from query operators and create hello query structure (a query tree) toobe sent toohello search engine.</span></span> |
|<span data-ttu-id="5153b-126">**Analisadores**</span><span class="sxs-lookup"><span data-stu-id="5153b-126">**Analyzers**</span></span> | <span data-ttu-id="5153b-127">Executam a análise léxica dos termos de consulta.</span><span class="sxs-lookup"><span data-stu-id="5153b-127">Perform lexical analysis on query terms.</span></span> <span data-ttu-id="5153b-128">Esse processo pode envolver a transformação, remoção ou expansão dos termos de consulta.</span><span class="sxs-lookup"><span data-stu-id="5153b-128">This process can involve transforming, removing, or expanding of query terms.</span></span> |
|<span data-ttu-id="5153b-129">**Índice**</span><span class="sxs-lookup"><span data-stu-id="5153b-129">**Index**</span></span> | <span data-ttu-id="5153b-130">Uma estrutura de dados eficiente usado toostore e organizar pesquisáveis termos extraídos de documentos indexados.</span><span class="sxs-lookup"><span data-stu-id="5153b-130">An efficient data structure used toostore and organize searchable terms extracted from indexed documents.</span></span> |
|<span data-ttu-id="5153b-131">**Mecanismo de pesquisa**</span><span class="sxs-lookup"><span data-stu-id="5153b-131">**Search engine**</span></span> | <span data-ttu-id="5153b-132">Recupera e pontuações de correspondência de documentos com base no conteúdo de saudação do índice Olá invertido.</span><span class="sxs-lookup"><span data-stu-id="5153b-132">Retrieves and scores matching documents based on hello contents of hello inverted index.</span></span> |

## <a name="anatomy-of-a-search-request"></a><span data-ttu-id="5153b-133">Anatomia de uma solicitação de pesquisa</span><span class="sxs-lookup"><span data-stu-id="5153b-133">Anatomy of a search request</span></span>

<span data-ttu-id="5153b-134">Uma solicitação de pesquisa é uma especificação completa do que deve ser retornado em um conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="5153b-134">A search request is a complete specification of what should be returned in a result set.</span></span> <span data-ttu-id="5153b-135">Na forma mais simples, é uma consulta vazia sem critérios de nenhum tipo.</span><span class="sxs-lookup"><span data-stu-id="5153b-135">In simplest form, it is an empty query with no criteria of any kind.</span></span> <span data-ttu-id="5153b-136">Um exemplo mais realista inclui parâmetros, vários termos, talvez com escopo toocertain campos, com possivelmente uma expressão de filtro e as regras de ordenação de consulta.</span><span class="sxs-lookup"><span data-stu-id="5153b-136">A more realistic example includes parameters, several query terms, perhaps scoped toocertain fields, with possibly a filter expression and ordering rules.</span></span>  

<span data-ttu-id="5153b-137">Olá, exemplo a seguir é uma solicitação de pesquisa que você pode enviar tooAzure pesquisa usando Olá [API REST](https://docs.microsoft.com/rest/api/searchservice/search-documents).</span><span class="sxs-lookup"><span data-stu-id="5153b-137">hello following example is a search request you might send tooAzure Search using hello [REST API](https://docs.microsoft.com/rest/api/searchservice/search-documents).</span></span>  

~~~~
POST /indexes/hotels/docs/search?api-version=2016-09-01 
{  
    "search": "Spacious, air-condition* +\"Ocean view\"",  
    "searchFields": "description, title",  
    "searchMode": "any",
    "filter": "price ge 60 and price lt 300",  
    "orderby": "geo.distance(location, geography'POINT(-159.476235 22.227659)')", 
    "queryType": "full" 
 } 
~~~~

<span data-ttu-id="5153b-138">Para essa solicitação, o mecanismo de pesquisa Olá Olá a seguir:</span><span class="sxs-lookup"><span data-stu-id="5153b-138">For this request, hello search engine does hello following:</span></span>

1. <span data-ttu-id="5153b-139">Filtra os documentos cujo preço de saudação é pelo menos US $60 e menor que US $300.</span><span class="sxs-lookup"><span data-stu-id="5153b-139">Filters out documents where hello price is at least $60 and less than $300.</span></span>
2. <span data-ttu-id="5153b-140">Executa a consulta de saudação.</span><span class="sxs-lookup"><span data-stu-id="5153b-140">Executes hello query.</span></span> <span data-ttu-id="5153b-141">Neste exemplo, consulta de pesquisa de saudação consiste de frases e termos: `"Spacious, air-condition* +\"Ocean view\""` (os usuários geralmente não insira pontuação, mas incluí-lo no exemplo hello permite tooexplain como analisadores de tratar).</span><span class="sxs-lookup"><span data-stu-id="5153b-141">In this example, hello search query consists of phrases and terms: `"Spacious, air-condition* +\"Ocean view\""` (users typically don't enter punctuation, but including it in hello example allows us tooexplain how analyzers handle it).</span></span> <span data-ttu-id="5153b-142">Para essa consulta, o mecanismo de pesquisa de saudação examina descrição Olá e campos de título especificado em `searchFields` para documentos que contenham "Exibição Oceano" e além no termo de hello "amplo" ou em termos que começam com hello prefixo "air-condition".</span><span class="sxs-lookup"><span data-stu-id="5153b-142">For this query, hello search engine scans hello description and title fields specified in `searchFields` for documents that contain "Ocean view", and additionally on hello term "spacious", or on terms that start with hello prefix "air-condition".</span></span> <span data-ttu-id="5153b-143">Olá `searchMode` parâmetro está toomatch usado em qualquer termo (padrão) ou todos eles, para casos em que um termo não é explicitamente necessário (`+`).</span><span class="sxs-lookup"><span data-stu-id="5153b-143">hello `searchMode` parameter is used toomatch on any term (default) or all of them, for cases where a term is not explicitly required (`+`).</span></span>
3. <span data-ttu-id="5153b-144">Pedidos Olá conjunto resultante de hotéis por proximidade tooa dado geografia local e, em seguida, retornado toohello aplicativo de chamada.</span><span class="sxs-lookup"><span data-stu-id="5153b-144">Orders hello resulting set of hotels by proximity tooa given geography location, and then returned toohello calling application.</span></span> 

<span data-ttu-id="5153b-145">Olá maior parte deste artigo é sobre o processamento de saudação *consulta de pesquisa*: `"Spacious, air-condition* +\"Ocean view\""`.</span><span class="sxs-lookup"><span data-stu-id="5153b-145">hello majority of this article is about processing of hello *search query*: `"Spacious, air-condition* +\"Ocean view\""`.</span></span> <span data-ttu-id="5153b-146">Filtragem e ordenação estão fora do escopo.</span><span class="sxs-lookup"><span data-stu-id="5153b-146">Filtering and ordering are out of scope.</span></span> <span data-ttu-id="5153b-147">Para obter mais informações, consulte Olá [documentação de referência de API de pesquisa](https://docs.microsoft.com/rest/api/searchservice/search-documents).</span><span class="sxs-lookup"><span data-stu-id="5153b-147">For more information, see hello [Search API reference documentation](https://docs.microsoft.com/rest/api/searchservice/search-documents).</span></span>

<a name="stage1"></a>
## <a name="stage-1-query-parsing"></a><span data-ttu-id="5153b-148">Estágio 1: Análise da consulta</span><span class="sxs-lookup"><span data-stu-id="5153b-148">Stage 1: Query parsing</span></span> 

<span data-ttu-id="5153b-149">Conforme observado, cadeia de caracteres de consulta de saudação é Olá primeira linha da solicitação de saudação:</span><span class="sxs-lookup"><span data-stu-id="5153b-149">As noted, hello query string is hello first line of hello request:</span></span> 

~~~~
 "search": "Spacious, air-condition* +\"Ocean view\"", 
~~~~

<span data-ttu-id="5153b-150">Analisador separa os operadores de consulta de saudação (como `*` e `+` no exemplo hello) da pesquisa de termos e deconstructs consulta de pesquisa de saudação em *subconsultas* de um tipo com suporte:</span><span class="sxs-lookup"><span data-stu-id="5153b-150">hello query parser separates operators (such as `*` and `+` in hello example) from search terms, and deconstructs hello search query into *subqueries* of a supported type:</span></span> 

+ <span data-ttu-id="5153b-151">*consulta de termo* para termos independentes (espaçoso, por exemplo)</span><span class="sxs-lookup"><span data-stu-id="5153b-151">*term query* for standalone terms (like spacious)</span></span>
+ <span data-ttu-id="5153b-152">*consulta de frase* para termos entre aspas (vista para o mar, por exemplo)</span><span class="sxs-lookup"><span data-stu-id="5153b-152">*phrase query* for quoted terms (like ocean view)</span></span>
+ <span data-ttu-id="5153b-153">*consulta de prefixo* por termos seguidos por um operador de prefixo `*` (ar-condicio, por exemplo)</span><span class="sxs-lookup"><span data-stu-id="5153b-153">*prefix query* for terms followed by a prefix operator `*` (like air-condition)</span></span>

<span data-ttu-id="5153b-154">Para obter uma lista completa dos tipos de consulta com suporte, consulte [sintaxe da consulta do Lucene](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search)</span><span class="sxs-lookup"><span data-stu-id="5153b-154">For a full list of supported query types see [Lucene query sytnax](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search)</span></span>

<span data-ttu-id="5153b-155">Operadores associados com uma subconsulta determinam se a consulta hello "deve ser" ou "deve ser" satisfeito para que um documento toobe considerados uma correspondência.</span><span class="sxs-lookup"><span data-stu-id="5153b-155">Operators associated with a subquery determine whether hello query "must be" or "should be" satisfied in order for a document toobe considered a match.</span></span> <span data-ttu-id="5153b-156">Por exemplo, `+"Ocean view"` é "deve" vencimento toohello `+` operador.</span><span class="sxs-lookup"><span data-stu-id="5153b-156">For example, `+"Ocean view"` is "must" due toohello `+` operator.</span></span> 

<span data-ttu-id="5153b-157">Analisador de consulta Olá reestrutura subconsultas Olá em um *árvore de consulta* (uma estrutura interna que representa a consulta Olá) passa no mecanismo de pesquisa toohello.</span><span class="sxs-lookup"><span data-stu-id="5153b-157">hello query parser restructures hello subqueries into a *query tree* (an internal structure representing hello query) it passes on toohello search engine.</span></span> <span data-ttu-id="5153b-158">No primeiro estágio da análise de consulta hello, árvore de consulta Olá tem esta aparência.</span><span class="sxs-lookup"><span data-stu-id="5153b-158">In hello first stage of query parsing, hello query tree looks like this.</span></span>  

 ![Booliano consulta modo de pesquisa qualquer][2]

### <a name="supported-parsers-simple-and-full-lucene"></a><span data-ttu-id="5153b-160">Analisadores com suporte: simples e Lucena completa</span><span class="sxs-lookup"><span data-stu-id="5153b-160">Supported parsers: Simple and Full Lucene</span></span> 

 <span data-ttu-id="5153b-161">O Azure Search apresenta duas linguagens de consulta diferentes, `simple` (padrão) e `full`.</span><span class="sxs-lookup"><span data-stu-id="5153b-161">Azure Search exposes two different query languages, `simple` (default) and `full`.</span></span> <span data-ttu-id="5153b-162">Por definição Olá `queryType` parâmetro com sua solicitação de pesquisa, você informar o analisador de consulta Olá a linguagem de consulta que você escolher para que ele saiba como toointerpret Olá operadores e sintaxe.</span><span class="sxs-lookup"><span data-stu-id="5153b-162">By setting hello `queryType` parameter with your search request, you tell hello query parser which query language you choose so that it knows how toointerpret hello operators and syntax.</span></span> <span data-ttu-id="5153b-163">Olá [idioma de consulta simples](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search) é intuitiva e robusta, geralmente adequado toointerpret entrada do usuário como-sem processamento no lado do cliente.</span><span class="sxs-lookup"><span data-stu-id="5153b-163">hello [Simple query langauge](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search) is intuitive and robust, often suitable toointerpret user input as-is without client-side processing.</span></span> <span data-ttu-id="5153b-164">Ela oferece suporte a operadores de consulta familiares de mecanismos de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="5153b-164">It supports query operators familiar from web search engines.</span></span> <span data-ttu-id="5153b-165">Olá [Lucene completo a linguagem de consulta](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search), que você obtém definindo `queryType=full`, estende o idioma de consulta simples saudação padrão adicionando suporte para mais operadores e tipos de consulta como caractere curinga, difusa, regex e consultas com escopo de campo.</span><span class="sxs-lookup"><span data-stu-id="5153b-165">hello [Full Lucene query language](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search), which you get by setting `queryType=full`, extends hello default Simple query language by adding support for more operators and query types like wildcard, fuzzy, regex, and field-scoped queries.</span></span> <span data-ttu-id="5153b-166">Por exemplo, uma expressão regular enviada na sintaxe de consulta simples será interpretada como uma cadeia de caracteres de consulta e não é uma expressão.</span><span class="sxs-lookup"><span data-stu-id="5153b-166">For example, a regular expression sent in Simple query syntax would be interpreted as a query string and not an expression.</span></span> <span data-ttu-id="5153b-167">solicitação de exemplo Hello neste artigo usa a linguagem de consulta Olá Lucene completo.</span><span class="sxs-lookup"><span data-stu-id="5153b-167">hello example request in this article uses hello Full Lucene query language.</span></span>

### <a name="impact-of-searchmode-on-hello-parser"></a><span data-ttu-id="5153b-168">Impacto de searchMode no analisador de saudação</span><span class="sxs-lookup"><span data-stu-id="5153b-168">Impact of searchMode on hello parser</span></span> 

<span data-ttu-id="5153b-169">Outro parâmetro de solicitação de pesquisa que afeta a análise é hello `searchMode` parâmetro.</span><span class="sxs-lookup"><span data-stu-id="5153b-169">Another search request parameter that affects parsing is hello `searchMode` parameter.</span></span> <span data-ttu-id="5153b-170">Ele controla o operador de padrão de saudação para consultas booleanas: qualquer (padrão) ou todos.</span><span class="sxs-lookup"><span data-stu-id="5153b-170">It controls hello default operator for Boolean queries: any (default) or all.</span></span>  

<span data-ttu-id="5153b-171">Quando `searchMode=any`, que é saudação padrão, o delimitador de espaço de saudação entre amplo e air-condition é ou (`||`), tornando o texto de consulta de exemplo hello equivalente a:</span><span class="sxs-lookup"><span data-stu-id="5153b-171">When `searchMode=any`, which is hello default, hello space delimiter between spacious and air-condition is OR (`||`), making hello sample query text equivalent to:</span></span> 

~~~~
Spacious,||air-condition*+"Ocean view" 
~~~~

<span data-ttu-id="5153b-172">Operadores explícitos, como `+` na `+"Ocean view"`, são sejam ambíguos na construção de consulta booliano (termo Olá *deve* correspondem).</span><span class="sxs-lookup"><span data-stu-id="5153b-172">Explicit operators, such as `+` in `+"Ocean view"`, are unambiguous in boolean query construction (hello term *must* match).</span></span> <span data-ttu-id="5153b-173">É menos óbvio como Olá toointerpret restantes termos: amplo e air-condition.</span><span class="sxs-lookup"><span data-stu-id="5153b-173">Less obvious is how toointerpret hello remaining terms: spacious and air-condition.</span></span> <span data-ttu-id="5153b-174">O mecanismo de pesquisa Olá deve localizar correspondências no mar *e* amplo *e* air-condition?</span><span class="sxs-lookup"><span data-stu-id="5153b-174">Should hello search engine find matches on ocean view *and* spacious *and* air-condition?</span></span> <span data-ttu-id="5153b-175">Ou ele deve localizar mar mais *um* de saudação restantes termos?</span><span class="sxs-lookup"><span data-stu-id="5153b-175">Or should it find ocean view plus *either one* of hello remaining terms?</span></span> 

<span data-ttu-id="5153b-176">Por padrão (`searchMode=any`), o mecanismo de pesquisa Olá assume interpretação mais ampla de saudação.</span><span class="sxs-lookup"><span data-stu-id="5153b-176">By default (`searchMode=any`), hello search engine assumes hello broader interpretation.</span></span> <span data-ttu-id="5153b-177">Cada campo *deve* ter uma correspondência, refletindo a semântica de "ou".</span><span class="sxs-lookup"><span data-stu-id="5153b-177">Either field *should* be matched, reflecting "or" semantics.</span></span> <span data-ttu-id="5153b-178">árvore de consulta inicial de saudação ilustrado anteriormente, com hello duas "deve" operações, mostra saudação padrão.</span><span class="sxs-lookup"><span data-stu-id="5153b-178">hello initial query tree illustrated previously, with hello two "should" operations, shows hello default.</span></span>  

<span data-ttu-id="5153b-179">Suponha que agora definimos `searchMode=all`.</span><span class="sxs-lookup"><span data-stu-id="5153b-179">Suppose that we now set `searchMode=all`.</span></span> <span data-ttu-id="5153b-180">Nesse caso, o espaço de saudação é interpretado como uma operação "e".</span><span class="sxs-lookup"><span data-stu-id="5153b-180">In this case, hello space is interpreted as an "and" operation.</span></span> <span data-ttu-id="5153b-181">Cada um dos termos de saudação restantes deve ambos estar presente na Olá documento tooqualify como uma correspondência.</span><span class="sxs-lookup"><span data-stu-id="5153b-181">Each of hello remaining terms must both be present in hello document tooqualify as a match.</span></span> <span data-ttu-id="5153b-182">consulta de exemplo Hello resultante será interpretada da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="5153b-182">hello resulting sample query would be interpreted as follows:</span></span> 

~~~~
+Spacious,+air-condition*+"Ocean view"  
~~~~

<span data-ttu-id="5153b-183">Uma árvore de consulta modificada para essa consulta seria a seguinte, onde um documento correspondente é a interseção de saudação de todas as três subconsultas:</span><span class="sxs-lookup"><span data-stu-id="5153b-183">A modified query tree for this query would be as follows, where a matching document is hello intersection of all three subqueries:</span></span> 

 ![Booliano consulta modo de pesquisa todos][3]

> [!Note] 
> <span data-ttu-id="5153b-185">Escolher `searchMode=any` em vez de `searchMode=all` é uma decisão melhor ao executar consultas representativas.</span><span class="sxs-lookup"><span data-stu-id="5153b-185">Choosing `searchMode=any` over `searchMode=all` is a decision best arrived at by running representative queries.</span></span> <span data-ttu-id="5153b-186">Os usuários que são provavelmente tooinclude operadores (comum ao documento pesquisando armazena) pode encontrar resultados mais intuitiva se `searchMode=all` informa construções de consulta boolean.</span><span class="sxs-lookup"><span data-stu-id="5153b-186">Users who are likely tooinclude operators (common when searching document stores) might find results more intuitive if `searchMode=all` informs boolean query constructs.</span></span> <span data-ttu-id="5153b-187">Para obter mais informações sobre a interação entre a saudação entre `searchMode` e operadores, consulte [sintaxe de consulta simples](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search).</span><span class="sxs-lookup"><span data-stu-id="5153b-187">For more about hello interplay between `searchMode` and operators, see [Simple query syntax](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search).</span></span>

<a name="stage2"></a>
## <a name="stage-2-lexical-analysis"></a><span data-ttu-id="5153b-188">Estágio 2: Análise léxica</span><span class="sxs-lookup"><span data-stu-id="5153b-188">Stage 2: Lexical analysis</span></span> 

<span data-ttu-id="5153b-189">Processo de analisadores léxicos *consultas de termos* e *consultas de frase* depois Olá árvore de consulta é estruturada.</span><span class="sxs-lookup"><span data-stu-id="5153b-189">Lexical analyzers process *term queries* and *phrase queries* after hello query tree is structured.</span></span> <span data-ttu-id="5153b-190">Um analisador aceita Olá texto entradas dadas tooit pelo analisador hello, processos Olá texto e, em seguida, envia de volta token termos toobe incorporadas Olá árvore de consulta.</span><span class="sxs-lookup"><span data-stu-id="5153b-190">An analyzer accepts hello text inputs given tooit by hello parser, processes hello text, and then sends back tokenized terms toobe incorporated into hello query tree.</span></span> 

<span data-ttu-id="5153b-191">saudação de forma mais comum de análise lexical é *análise linguística* que transforma os termos de consulta com base em regras tooa específico dado idioma:</span><span class="sxs-lookup"><span data-stu-id="5153b-191">hello most common form of lexical analysis is *linguistic analysis* which transforms query terms based on rules specific tooa given language:</span></span> 

* <span data-ttu-id="5153b-192">Reduzindo forma consulta termo toohello raiz de uma palavra</span><span class="sxs-lookup"><span data-stu-id="5153b-192">Reducing a query term toohello root form of a word</span></span> 
* <span data-ttu-id="5153b-193">Removendo palavras não-essenciais (palavras irrelevantes, como "o/a" ou "e" em português)</span><span class="sxs-lookup"><span data-stu-id="5153b-193">Removing non-essential words (stopwords, such as "the" or "and" in English)</span></span> 
* <span data-ttu-id="5153b-194">Dividir uma palavra composta em componentes</span><span class="sxs-lookup"><span data-stu-id="5153b-194">Breaking a composite word into component parts</span></span> 
* <span data-ttu-id="5153b-195">Colocando letras minúsculas em uma palavra de letras maiúsculas</span><span class="sxs-lookup"><span data-stu-id="5153b-195">Lower casing an upper case word</span></span> 

<span data-ttu-id="5153b-196">Todas essas operações tendem tooerase diferenças entre a entrada de texto de saudação fornecida pelos termos de usuário e hello de saudação armazenados no índice de saudação.</span><span class="sxs-lookup"><span data-stu-id="5153b-196">All of these operations tend tooerase differences between hello text input provided by hello user and hello terms stored in hello index.</span></span> <span data-ttu-id="5153b-197">Essas operações vão além do processamento de texto e exigem conhecimento profundo do idioma de saudação em si.</span><span class="sxs-lookup"><span data-stu-id="5153b-197">Such operations go beyond text processing and require in-depth knowledge of hello language itself.</span></span> <span data-ttu-id="5153b-198">tooadd essa camada de reconhecimento de linguística, pesquisa do Azure oferece suporte a uma lista extensa de [analisadores de idioma](https://docs.microsoft.com/rest/api/searchservice/language-support) do Lucene e Microsoft.</span><span class="sxs-lookup"><span data-stu-id="5153b-198">tooadd this layer of linguistic awareness, Azure Search supports a long list of [language analyzers](https://docs.microsoft.com/rest/api/searchservice/language-support) from both Lucene and Microsoft.</span></span>

> [!Note]
> <span data-ttu-id="5153b-199">Requisitos de análise podem variar de tooelaborate mínimo dependendo do cenário.</span><span class="sxs-lookup"><span data-stu-id="5153b-199">Analysis requirements can range from minimal tooelaborate depending on your scenario.</span></span> <span data-ttu-id="5153b-200">Você pode controlar a complexidade da análise lexical Olá selecionando um dos analisadores de saudação predefinida ou criando seu próprio [analisador personalizado](https://docs.microsoft.com/rest/api/searchservice/Custom-analyzers-in-Azure-Search).</span><span class="sxs-lookup"><span data-stu-id="5153b-200">You can control complexity of lexical analysis by hello selecting one of hello predefined analyzers or by creating your own [custom analyzer](https://docs.microsoft.com/rest/api/searchservice/Custom-analyzers-in-Azure-Search).</span></span> <span data-ttu-id="5153b-201">Analisadores são campos toosearchable no escopo e são especificadas como parte de uma definição de campo.</span><span class="sxs-lookup"><span data-stu-id="5153b-201">Analyzers are scoped toosearchable fields and are specified as part of a field definition.</span></span> <span data-ttu-id="5153b-202">Isso permite que você toovary lexicais em uma base por campo.</span><span class="sxs-lookup"><span data-stu-id="5153b-202">This allows you toovary lexical analysis on a per-field basis.</span></span> <span data-ttu-id="5153b-203">Não for especificado, Olá *padrão* Lucene analisador é usada.</span><span class="sxs-lookup"><span data-stu-id="5153b-203">Unspecified, hello *standard* Lucene analyzer is used.</span></span>

<span data-ttu-id="5153b-204">Em nosso exemplo, tooanalysis anterior, árvore de consulta inicial de saudação tem termo hello "Spacious" com um "S" maiuscula e uma vírgula que Olá analisador de consulta interpreta como parte do termo da consulta hello (uma vírgula não é considerada um operador de linguagem de consulta).</span><span class="sxs-lookup"><span data-stu-id="5153b-204">In our example, prior tooanalysis, hello initial query tree has hello term "Spacious," with an uppercase "S" and a comma that hello query parser interprets as a part of hello query term (a comma is not considered a query language operator).</span></span>  

<span data-ttu-id="5153b-205">Quando o analisador de padrão de saudação processa termo Olá, ele será minúsculas "exibição Oceano" e "amplo" e remover o caractere de vírgula hello.</span><span class="sxs-lookup"><span data-stu-id="5153b-205">When hello default analyzer processes hello term, it will lowercase "ocean view" and "spacious", and remove hello comma character.</span></span> <span data-ttu-id="5153b-206">árvore de consulta modificada Olá será semelhante ao seguinte:</span><span class="sxs-lookup"><span data-stu-id="5153b-206">hello modified query tree will look as follows:</span></span> 

 ![Consulta booliana com termos analisados][4]

### <a name="testing-analyzer-behaviors"></a><span data-ttu-id="5153b-208">Testando os comportamentos do analisador</span><span class="sxs-lookup"><span data-stu-id="5153b-208">Testing analyzer behaviors</span></span> 

<span data-ttu-id="5153b-209">comportamento de saudação de um analisador pode ser testado usando Olá [analisar API](https://docs.microsoft.com/rest/api/searchservice/test-analyzer).</span><span class="sxs-lookup"><span data-stu-id="5153b-209">hello behavior of an analyzer can be tested using hello [Analyze API](https://docs.microsoft.com/rest/api/searchservice/test-analyzer).</span></span> <span data-ttu-id="5153b-210">Forneça o texto de saudação que deseja tooanalyze toosee quais termos fornecidos analyzer irá gerar.</span><span class="sxs-lookup"><span data-stu-id="5153b-210">Provide hello text you want tooanalyze toosee what terms given analyzer will generate.</span></span> <span data-ttu-id="5153b-211">Por exemplo, toosee como processaria analisador padrão Olá Olá texto "air-condition", você pode emitir Olá solicitação a seguir:</span><span class="sxs-lookup"><span data-stu-id="5153b-211">For example, toosee how hello standard analyzer would process hello text "air-condition", you can issue hello following request:</span></span>

~~~~
{ 
    "text": "air-condition",
    "analyzer": "standard"
}
~~~~

<span data-ttu-id="5153b-212">Analisador padrão saudação quebra o texto de entrada hello em Olá dois tokens, anotando-las com atributos como iniciar e deslocamentos de término (usados para realçar as ocorrências), bem como sua posição (usada para correspondência de frase) a seguir:</span><span class="sxs-lookup"><span data-stu-id="5153b-212">hello standard analyzer breaks hello input text into hello following two tokens, annotating them with attributes like start and end offsets (used for hit highlighting) as well as their position (used for phrase matching):</span></span>

~~~~
{  
  "tokens": [
    {
      "token": "air",
      "startOffset": 0,
      "endOffset": 3,
      "position": 0
    },
    {
      "token": "condition",
      "startOffset": 4,
      "endOffset": 13,
      "position": 1
    }
  ]
}
~~~~

### <a name="exceptions-toolexical-analysis"></a><span data-ttu-id="5153b-213">Análise de toolexical de exceções</span><span class="sxs-lookup"><span data-stu-id="5153b-213">Exceptions toolexical analysis</span></span> 

<span data-ttu-id="5153b-214">Análise lexical aplica-se somente os tipos de tooquery que exigem termos completos – uma consulta de termo ou uma consulta de frase.</span><span class="sxs-lookup"><span data-stu-id="5153b-214">Lexical analysis applies only tooquery types that require complete terms – either a term query or a phrase query.</span></span> <span data-ttu-id="5153b-215">Ele não se aplica a tipos de tooquery com termos incompletos – consulta de prefixo, consulta curinga, regex consulta – ou consulta difusa tooa.</span><span class="sxs-lookup"><span data-stu-id="5153b-215">It doesn’t apply tooquery types with incomplete terms – prefix query, wildcard query, regex query – or tooa fuzzy query.</span></span> <span data-ttu-id="5153b-216">Os tipos, incluindo Olá prefixo consulta com o termo de consulta *air-condition\**  em nosso exemplo, são adicionados diretamente toohello árvore de consulta, ignorando o estágio de análise de saudação.</span><span class="sxs-lookup"><span data-stu-id="5153b-216">Those query types, including hello prefix query with term *air-condition\** in our example, are added directly toohello query tree, bypassing hello analysis stage.</span></span> <span data-ttu-id="5153b-217">Olá somente transformação executada em termos de consulta desses tipos é minúsculas.</span><span class="sxs-lookup"><span data-stu-id="5153b-217">hello only transformation performed on query terms of those types is lowercasing.</span></span>

<a name="stage3"></a>
## <a name="stage-3-document-retrieval"></a><span data-ttu-id="5153b-218">Estágio 3: Recuperação de documentos</span><span class="sxs-lookup"><span data-stu-id="5153b-218">Stage 3: Document retrieval</span></span> 

<span data-ttu-id="5153b-219">Recuperação de documentos se refere a documentos toofinding com os termos correspondentes no índice de saudação.</span><span class="sxs-lookup"><span data-stu-id="5153b-219">Document retrieval refers toofinding documents with matching terms in hello index.</span></span> <span data-ttu-id="5153b-220">Este estágio é melhor compreendido por meio de um exemplo.</span><span class="sxs-lookup"><span data-stu-id="5153b-220">This stage is understood best through an example.</span></span> <span data-ttu-id="5153b-221">Vamos começar com um índice de hotéis com hello esquema simples a seguir:</span><span class="sxs-lookup"><span data-stu-id="5153b-221">Let's start with a hotels index having hello following simple schema:</span></span> 

~~~~
{   
    "name": "hotels",     
    "fields": [     
        { "name": "id", "type": "Edm.String", "key": true, "searchable": false },     
        { "name": "title", "type": "Edm.String", "searchable": true },     
        { "name": "description", "type": "Edm.String", "searchable": true }
    ] 
} 
~~~~

<span data-ttu-id="5153b-222">Suponha ainda que esse índice contém Olá quatro documentos a seguir:</span><span class="sxs-lookup"><span data-stu-id="5153b-222">Further assume that this index contains hello following four documents:</span></span> 

~~~~
{ 
    "value": [
        {         
            "id": "1",         
            "title": "Hotel Atman",         
            "description": "Spacious rooms, ocean view, walking distance toohello beach."   
        },       
        {         
            "id": "2",         
            "title": "Beach Resort",        
            "description": "Located on hello north shore of hello island of Kauaʻi. Ocean view."     
        },       
        {         
            "id": "3",         
            "title": "Playa Hotel",         
            "description": "Comfortable, air-conditioned rooms with ocean view."
        },       
        {         
            "id": "4",         
            "title": "Ocean Retreat",         
            "description": "Quiet and secluded"
        }    
    ]
}
~~~~

<span data-ttu-id="5153b-223">**Como os termos são indexados**</span><span class="sxs-lookup"><span data-stu-id="5153b-223">**How terms are indexed**</span></span>

<span data-ttu-id="5153b-224">recuperação de toounderstand ajuda tooknow alguns conceitos básicos sobre indexação.</span><span class="sxs-lookup"><span data-stu-id="5153b-224">toounderstand retrieval, it helps tooknow a few basics about indexing.</span></span> <span data-ttu-id="5153b-225">unidade de saudação de armazenamento é um índice invertido, um para cada campo pesquisável.</span><span class="sxs-lookup"><span data-stu-id="5153b-225">hello unit of storage is an inverted index, one for each searchable field.</span></span> <span data-ttu-id="5153b-226">Dentro de um índice invertido está uma lista classificada de todos os termos de todos os documentos.</span><span class="sxs-lookup"><span data-stu-id="5153b-226">Within an inverted index is a sorted list of all terms from all documents.</span></span> <span data-ttu-id="5153b-227">Cada termo mapeia toohello lista de documentos em que ele ocorre, como demonstrados no exemplo hello abaixo.</span><span class="sxs-lookup"><span data-stu-id="5153b-227">Each term maps toohello list of documents in which it occurs, as evident in hello example below.</span></span>

<span data-ttu-id="5153b-228">termos de saudação tooproduce no índice invertido, mecanismo de pesquisa Olá executa análise lexical sobre o conteúdo da saudação de documentos, toowhat semelhante acontece durante o processamento de consulta.</span><span class="sxs-lookup"><span data-stu-id="5153b-228">tooproduce hello terms in an inverted index, hello search engine performs lexical analysis over hello content of documents, similar toowhat happens during query processing.</span></span> <span data-ttu-id="5153b-229">Entradas de texto são passadas tooan analyzer, em minúsculas, retirada de pontuação e assim por diante, dependendo da configuração do analisador de saudação.</span><span class="sxs-lookup"><span data-stu-id="5153b-229">Text inputs are passed tooan analyzer, lower-cased, stripped of punctuation, and so forth, depending on hello analyzer configuration.</span></span> <span data-ttu-id="5153b-230">É comum, mas não é necessária, toouse Olá mesmo analisadores de pesquisa e as operações de indexação para que os termos de consulta pareça mais com termos no índice de saudação.</span><span class="sxs-lookup"><span data-stu-id="5153b-230">It's common, but not required, toouse hello same analyzers for search and indexing operations so that query terms look more like terms inside hello index.</span></span>

> [!Note]
> <span data-ttu-id="5153b-231">O Azure Search permite especificar diferentes analisadores para indexação e pesquisa através dos parâmetros de campo adicionais `indexAnalyzer` e `searchAnalyzer`.</span><span class="sxs-lookup"><span data-stu-id="5153b-231">Azure Search lets you specify different analyzers for indexing and search via additional `indexAnalyzer` and `searchAnalyzer` field parameters.</span></span> <span data-ttu-id="5153b-232">Se não for especificado, Olá analisador com hello `analyzer` propriedade é usada para indexação e pesquisa.</span><span class="sxs-lookup"><span data-stu-id="5153b-232">If unspecified, hello analyzer set with hello `analyzer` property is used for both indexing and searching.</span></span>  

<span data-ttu-id="5153b-233">**Índice invertido para documentos de exemplo**</span><span class="sxs-lookup"><span data-stu-id="5153b-233">**Inverted index for example documents**</span></span>

<span data-ttu-id="5153b-234">Retornando tooour exemplo, para Olá **título** campo, índice invertida de saudação tem esta aparência:</span><span class="sxs-lookup"><span data-stu-id="5153b-234">Returning tooour example, for hello **title** field, hello inverted index looks like this:</span></span>

| <span data-ttu-id="5153b-235">Termo</span><span class="sxs-lookup"><span data-stu-id="5153b-235">Term</span></span> | <span data-ttu-id="5153b-236">Lista de documentos</span><span class="sxs-lookup"><span data-stu-id="5153b-236">Document list</span></span> |
|------|---------------|
| <span data-ttu-id="5153b-237">atman</span><span class="sxs-lookup"><span data-stu-id="5153b-237">atman</span></span> | <span data-ttu-id="5153b-238">1</span><span class="sxs-lookup"><span data-stu-id="5153b-238">1</span></span> |
| <span data-ttu-id="5153b-239">praia</span><span class="sxs-lookup"><span data-stu-id="5153b-239">beach</span></span> | <span data-ttu-id="5153b-240">2</span><span class="sxs-lookup"><span data-stu-id="5153b-240">2</span></span> |
| <span data-ttu-id="5153b-241">hotel</span><span class="sxs-lookup"><span data-stu-id="5153b-241">hotel</span></span> | <span data-ttu-id="5153b-242">1, 3</span><span class="sxs-lookup"><span data-stu-id="5153b-242">1, 3</span></span> |
| <span data-ttu-id="5153b-243">mar</span><span class="sxs-lookup"><span data-stu-id="5153b-243">ocean</span></span> | <span data-ttu-id="5153b-244">4</span><span class="sxs-lookup"><span data-stu-id="5153b-244">4</span></span>  |
| <span data-ttu-id="5153b-245">playa</span><span class="sxs-lookup"><span data-stu-id="5153b-245">playa</span></span> | <span data-ttu-id="5153b-246">3</span><span class="sxs-lookup"><span data-stu-id="5153b-246">3</span></span> |
| <span data-ttu-id="5153b-247">resort</span><span class="sxs-lookup"><span data-stu-id="5153b-247">resort</span></span> | <span data-ttu-id="5153b-248">3</span><span class="sxs-lookup"><span data-stu-id="5153b-248">3</span></span> |
| <span data-ttu-id="5153b-249">retiro</span><span class="sxs-lookup"><span data-stu-id="5153b-249">retreat</span></span> | <span data-ttu-id="5153b-250">4</span><span class="sxs-lookup"><span data-stu-id="5153b-250">4</span></span> |

<span data-ttu-id="5153b-251">No campo de título de hello, apenas *hotel* aparece em dois documentos: 1, 3.</span><span class="sxs-lookup"><span data-stu-id="5153b-251">In hello title field, only *hotel* shows up in two documents: 1, 3.</span></span>

<span data-ttu-id="5153b-252">Para Olá **descrição** campo, o índice de saudação é da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="5153b-252">For hello **description** field, hello index is as follows:</span></span>

| <span data-ttu-id="5153b-253">Termo</span><span class="sxs-lookup"><span data-stu-id="5153b-253">Term</span></span> | <span data-ttu-id="5153b-254">Lista de documentos</span><span class="sxs-lookup"><span data-stu-id="5153b-254">Document list</span></span> |
|------|---------------|
| <span data-ttu-id="5153b-255">ar</span><span class="sxs-lookup"><span data-stu-id="5153b-255">air</span></span> | <span data-ttu-id="5153b-256">3</span><span class="sxs-lookup"><span data-stu-id="5153b-256">3</span></span>
| <span data-ttu-id="5153b-257">e</span><span class="sxs-lookup"><span data-stu-id="5153b-257">and</span></span> | <span data-ttu-id="5153b-258">4</span><span class="sxs-lookup"><span data-stu-id="5153b-258">4</span></span>
| <span data-ttu-id="5153b-259">praia</span><span class="sxs-lookup"><span data-stu-id="5153b-259">beach</span></span> | <span data-ttu-id="5153b-260">1</span><span class="sxs-lookup"><span data-stu-id="5153b-260">1</span></span>
| <span data-ttu-id="5153b-261">condicionado</span><span class="sxs-lookup"><span data-stu-id="5153b-261">conditioned</span></span> | <span data-ttu-id="5153b-262">3</span><span class="sxs-lookup"><span data-stu-id="5153b-262">3</span></span>
| <span data-ttu-id="5153b-263">confortável</span><span class="sxs-lookup"><span data-stu-id="5153b-263">comfortable</span></span> | <span data-ttu-id="5153b-264">3</span><span class="sxs-lookup"><span data-stu-id="5153b-264">3</span></span>
| <span data-ttu-id="5153b-265">distância</span><span class="sxs-lookup"><span data-stu-id="5153b-265">distance</span></span> | <span data-ttu-id="5153b-266">1</span><span class="sxs-lookup"><span data-stu-id="5153b-266">1</span></span>
| <span data-ttu-id="5153b-267">ilha</span><span class="sxs-lookup"><span data-stu-id="5153b-267">island</span></span> | <span data-ttu-id="5153b-268">2</span><span class="sxs-lookup"><span data-stu-id="5153b-268">2</span></span>
| <span data-ttu-id="5153b-269">kauaʻi</span><span class="sxs-lookup"><span data-stu-id="5153b-269">kauaʻi</span></span> | <span data-ttu-id="5153b-270">2</span><span class="sxs-lookup"><span data-stu-id="5153b-270">2</span></span>
| <span data-ttu-id="5153b-271">local</span><span class="sxs-lookup"><span data-stu-id="5153b-271">located</span></span> | <span data-ttu-id="5153b-272">2</span><span class="sxs-lookup"><span data-stu-id="5153b-272">2</span></span>
| <span data-ttu-id="5153b-273">norte</span><span class="sxs-lookup"><span data-stu-id="5153b-273">north</span></span> | <span data-ttu-id="5153b-274">2</span><span class="sxs-lookup"><span data-stu-id="5153b-274">2</span></span>
| <span data-ttu-id="5153b-275">mar</span><span class="sxs-lookup"><span data-stu-id="5153b-275">ocean</span></span> | <span data-ttu-id="5153b-276">1, 2, 3</span><span class="sxs-lookup"><span data-stu-id="5153b-276">1, 2, 3</span></span>
| <span data-ttu-id="5153b-277">de</span><span class="sxs-lookup"><span data-stu-id="5153b-277">of</span></span> | <span data-ttu-id="5153b-278">2</span><span class="sxs-lookup"><span data-stu-id="5153b-278">2</span></span>
| <span data-ttu-id="5153b-279">em</span><span class="sxs-lookup"><span data-stu-id="5153b-279">on</span></span> |<span data-ttu-id="5153b-280">2</span><span class="sxs-lookup"><span data-stu-id="5153b-280">2</span></span>
| <span data-ttu-id="5153b-281">silencioso</span><span class="sxs-lookup"><span data-stu-id="5153b-281">quiet</span></span> | <span data-ttu-id="5153b-282">4</span><span class="sxs-lookup"><span data-stu-id="5153b-282">4</span></span>
| <span data-ttu-id="5153b-283">quartos</span><span class="sxs-lookup"><span data-stu-id="5153b-283">rooms</span></span>  | <span data-ttu-id="5153b-284">1, 3</span><span class="sxs-lookup"><span data-stu-id="5153b-284">1, 3</span></span>
| <span data-ttu-id="5153b-285">reservado</span><span class="sxs-lookup"><span data-stu-id="5153b-285">secluded</span></span> | <span data-ttu-id="5153b-286">4</span><span class="sxs-lookup"><span data-stu-id="5153b-286">4</span></span>
| <span data-ttu-id="5153b-287">beira-mar</span><span class="sxs-lookup"><span data-stu-id="5153b-287">shore</span></span> | <span data-ttu-id="5153b-288">2</span><span class="sxs-lookup"><span data-stu-id="5153b-288">2</span></span>
| <span data-ttu-id="5153b-289">espaçoso</span><span class="sxs-lookup"><span data-stu-id="5153b-289">spacious</span></span> | <span data-ttu-id="5153b-290">1</span><span class="sxs-lookup"><span data-stu-id="5153b-290">1</span></span>
| <span data-ttu-id="5153b-291">Olá</span><span class="sxs-lookup"><span data-stu-id="5153b-291">hello</span></span> | <span data-ttu-id="5153b-292">1, 2</span><span class="sxs-lookup"><span data-stu-id="5153b-292">1, 2</span></span>
| <span data-ttu-id="5153b-293">muito</span><span class="sxs-lookup"><span data-stu-id="5153b-293">too</span></span>| <span data-ttu-id="5153b-294">1</span><span class="sxs-lookup"><span data-stu-id="5153b-294">1</span></span>
| <span data-ttu-id="5153b-295">view</span><span class="sxs-lookup"><span data-stu-id="5153b-295">view</span></span> | <span data-ttu-id="5153b-296">1, 2, 3</span><span class="sxs-lookup"><span data-stu-id="5153b-296">1, 2, 3</span></span>
| <span data-ttu-id="5153b-297">a pé</span><span class="sxs-lookup"><span data-stu-id="5153b-297">walking</span></span> | <span data-ttu-id="5153b-298">1</span><span class="sxs-lookup"><span data-stu-id="5153b-298">1</span></span>
| <span data-ttu-id="5153b-299">por:</span><span class="sxs-lookup"><span data-stu-id="5153b-299">with</span></span> | <span data-ttu-id="5153b-300">3</span><span class="sxs-lookup"><span data-stu-id="5153b-300">3</span></span>


<span data-ttu-id="5153b-301">**Correspondência de termos de consulta com os termos indexados**</span><span class="sxs-lookup"><span data-stu-id="5153b-301">**Matching query terms against indexed terms**</span></span>

<span data-ttu-id="5153b-302">Considerando índices de saudação invertida acima, vamos retornar toohello exemplo de consulta e ver como correspondência de documentos são encontrados para a consulta de exemplo.</span><span class="sxs-lookup"><span data-stu-id="5153b-302">Given hello inverted indices above, let’s return toohello sample query and see how matching documents are found for our example query.</span></span> <span data-ttu-id="5153b-303">Lembre-se de que árvore de consulta final que Olá tem esta aparência:</span><span class="sxs-lookup"><span data-stu-id="5153b-303">Recall that hello final query tree looks like this:</span></span> 

 ![Consulta booliana com termos analisados][4]

<span data-ttu-id="5153b-305">Durante a execução de consulta, consultas individuais são executadas em campos pesquisáveis Olá independentemente.</span><span class="sxs-lookup"><span data-stu-id="5153b-305">During query execution, individual queries are executed against hello searchable fields independently.</span></span> 

+ <span data-ttu-id="5153b-306">TermQuery Hello, corresponde a "amplo", 1 (Hotel Atman) do documento.</span><span class="sxs-lookup"><span data-stu-id="5153b-306">hello TermQuery, "spacious", matches document 1 (Hotel Atman).</span></span> 

+ <span data-ttu-id="5153b-307">Olá PrefixQuery, "air-condition *", não corresponde a todos os documentos.</span><span class="sxs-lookup"><span data-stu-id="5153b-307">hello PrefixQuery, "air-condition*", doesn't match any documents.</span></span> 

  <span data-ttu-id="5153b-308">Esse é um comportamento que às vezes confunde os desenvolvedores.</span><span class="sxs-lookup"><span data-stu-id="5153b-308">This is a behavior that sometimes confuses developers.</span></span> <span data-ttu-id="5153b-309">Embora o termo de saudação com ar condicionado existe no documento hello, será dividida em dois termos pelo analisador de padrão de saudação.</span><span class="sxs-lookup"><span data-stu-id="5153b-309">Although hello term air-conditioned exists in hello document, it is split into two terms by hello default analyzer.</span></span> <span data-ttu-id="5153b-310">Lembre-se de que as consultas de prefixo, que contêm termos parciais, não são analisadas.</span><span class="sxs-lookup"><span data-stu-id="5153b-310">Recall that prefix queries, which contain partial terms, are not analyzed.</span></span> <span data-ttu-id="5153b-311">Portanto termos de prefixo "air-condition" é pesquisados no hello índice invertido e não encontrado.</span><span class="sxs-lookup"><span data-stu-id="5153b-311">Therefore terms with prefix "air-condition" are looked up in hello inverted index and not found.</span></span>

+ <span data-ttu-id="5153b-312">PhraseQuery Hello, "exibição Oceano", procura termos hello "ocean" e "Exibir" e verifica a proximidade de saudação de termos no documento original hello.</span><span class="sxs-lookup"><span data-stu-id="5153b-312">hello PhraseQuery, "ocean view", looks up hello terms "ocean" and "view" and checks hello proximity of terms in hello original document.</span></span> <span data-ttu-id="5153b-313">1, 2 e 3 de documentos correspondem a esta consulta no campo de descrição de saudação.</span><span class="sxs-lookup"><span data-stu-id="5153b-313">Documents 1, 2 and 3 match this query in hello description field.</span></span> <span data-ttu-id="5153b-314">Documento de aviso 4 tem azul-marinho Olá termo no título hello, mas não é considerado uma correspondência, como estamos procurando frase de "exibição Oceano" Olá, em vez de palavras individuais.</span><span class="sxs-lookup"><span data-stu-id="5153b-314">Notice document 4 has hello term ocean in hello title but isn’t considered a match, as we're looking for hello "ocean view" phrase rather than individual words.</span></span> 

> [!Note]
> <span data-ttu-id="5153b-315">Uma consulta de pesquisa é executada independentemente em todos os campos pesquisáveis Olá índice de pesquisa do Azure, a menos que você limitar campos Olá com hello `searchFields` parâmetro, conforme ilustrado na solicitação de pesquisa do exemplo hello.</span><span class="sxs-lookup"><span data-stu-id="5153b-315">A search query is executed independently against all searchable fields in hello Azure Search index unless you limit hello fields set with hello `searchFields` parameter, as illustrated in hello example search request.</span></span> <span data-ttu-id="5153b-316">Documentos que correspondam a qualquer um dos campos de saudação selecionado são retornados.</span><span class="sxs-lookup"><span data-stu-id="5153b-316">Documents that match in any of hello selected fields are returned.</span></span> 

<span data-ttu-id="5153b-317">Em Olá inteira, para consulta de saudação em questão, documentos Olá correspondentes são 1, 2, 3.</span><span class="sxs-lookup"><span data-stu-id="5153b-317">On hello whole, for hello query in question, hello documents that match are 1, 2, 3.</span></span> 

## <a name="stage-4-scoring"></a><span data-ttu-id="5153b-318">Estágio 4: Pontuação</span><span class="sxs-lookup"><span data-stu-id="5153b-318">Stage 4: Scoring</span></span>  

<span data-ttu-id="5153b-319">Todos os documentos em um conjunto de resultados de pesquisa recebe uma pontuação de relevância.</span><span class="sxs-lookup"><span data-stu-id="5153b-319">Every document in a search result set is assigned a relevance score.</span></span> <span data-ttu-id="5153b-320">função Hello da pontuação de relevância Olá é toorank superior esses documentos melhor responder a um usuário pergunta conforme expresso pela consulta de pesquisa de saudação.</span><span class="sxs-lookup"><span data-stu-id="5153b-320">hello function of hello relevance score is toorank higher those documents that best answer a user question as expressed by hello search query.</span></span> <span data-ttu-id="5153b-321">pontuação de saudação é calculada com base nas propriedades estatísticas dos termos correspondentes.</span><span class="sxs-lookup"><span data-stu-id="5153b-321">hello score is computed based on statistical properties of terms that matched.</span></span> <span data-ttu-id="5153b-322">Em Olá núcleo da saudação pontuação fórmula é [TF/IDF (frequência de documento inversa da frequência do termo)](https://en.wikipedia.org/wiki/Tf%E2%80%93idf).</span><span class="sxs-lookup"><span data-stu-id="5153b-322">At hello core of hello scoring formula is [TF/IDF (term frequency-inverse document frequency)](https://en.wikipedia.org/wiki/Tf%E2%80%93idf).</span></span> <span data-ttu-id="5153b-323">Em consultas que contêm termos comuns e raros, TF/IDF promove resultados que contenham o termo raros hello.</span><span class="sxs-lookup"><span data-stu-id="5153b-323">In queries containing rare and common terms, TF/IDF promotes results containing hello rare term.</span></span> <span data-ttu-id="5153b-324">Por exemplo, em um índice hipotético com todos os artigos da Wikipédia, de documentos de consulta Olá correspondentes *presidente Olá*, correspondência de documentos *presidente* são considerados mais relevantes do que correspondência de documentos *o*.</span><span class="sxs-lookup"><span data-stu-id="5153b-324">For example, in a hypothetical index with all Wikipedia articles, from documents that matched hello query *hello president*, documents matching on *president* are considered more relevant than documents matching on *the*.</span></span>


### <a name="scoring-example"></a><span data-ttu-id="5153b-325">Exemplo de pontuação</span><span class="sxs-lookup"><span data-stu-id="5153b-325">Scoring example</span></span>

<span data-ttu-id="5153b-326">Lembre-se de saudação três documentos que correspondem a consulta de exemplo:</span><span class="sxs-lookup"><span data-stu-id="5153b-326">Recall hello three documents that matched our example query:</span></span>
~~~~
search=Spacious, air-condition* +"Ocean view"  
~~~~
~~~~
{  
  "value": [
    {
      "@search.score": 0.25610128,
      "id": "1",
      "title": "Hotel Atman",
      "description": "Spacious rooms, ocean view, walking distance toohello beach."
    },
    {
      "@search.score": 0.08951007,
      "id": "3",
      "title": "Playa Hotel",
      "description": "Comfortable, air-conditioned rooms with ocean view."
    },
    {
      "@search.score": 0.05967338,
      "id": "2",
      "title": "Ocean Resort",
      "description": "Located on a cliff on hello north shore of hello island of Kauai. Ocean view."
    }
  ]
}
~~~~

<span data-ttu-id="5153b-327">Documento 1 consulta Olá correspondentes melhor porque ambos Olá termo *amplo* e frase necessário Olá *mar* ocorrer no campo de descrição de saudação.</span><span class="sxs-lookup"><span data-stu-id="5153b-327">Document 1 matched hello query best because both hello term *spacious* and hello required phrase *ocean view* occur in hello description field.</span></span> <span data-ttu-id="5153b-328">documentos próximas duas Olá correspondem apenas a frase de saudação *mar*.</span><span class="sxs-lookup"><span data-stu-id="5153b-328">hello next two documents match only hello phrase *ocean view*.</span></span> <span data-ttu-id="5153b-329">Talvez ele ser surpreendentes essa pontuação de relevância Olá para documento 2 e 3 é diferente, mesmo que eles correspondido consulta Olá Olá mesma maneira.</span><span class="sxs-lookup"><span data-stu-id="5153b-329">It might be surprising that hello relevance score for document 2 and 3 is different even though they matched hello query in hello same way.</span></span> <span data-ttu-id="5153b-330">Isso ocorre porque Olá pontuação fórmula tem mais componentes do que apenas TF/IDF.</span><span class="sxs-lookup"><span data-stu-id="5153b-330">It's because hello scoring formula has more components than just TF/IDF.</span></span> <span data-ttu-id="5153b-331">Nesse caso, o documento 3 recebeu uma pontuação ligeiramente mais alta porque sua descrição é mais curta.</span><span class="sxs-lookup"><span data-stu-id="5153b-331">In this case, document 3 was assigned a slightly higher score because its description is shorter.</span></span> <span data-ttu-id="5153b-332">Saiba mais sobre [prático pontuação fórmula do Lucene](https://lucene.apache.org/core/4_0_0/core/org/apache/lucene/search/similarities/TFIDFSimilarity.html) toounderstand como o tamanho do campo e outros fatores podem influenciar Olá pontuação de relevância.</span><span class="sxs-lookup"><span data-stu-id="5153b-332">Learn about [Lucene's Practical Scoring Formula](https://lucene.apache.org/core/4_0_0/core/org/apache/lucene/search/similarities/TFIDFSimilarity.html) toounderstand how field length and other factors can influence hello relevance score.</span></span>

<span data-ttu-id="5153b-333">Alguns tipos (curinga, prefixo, regex) de consulta sempre contribuir uma pontuação constante toohello geral de pontuação de documento.</span><span class="sxs-lookup"><span data-stu-id="5153b-333">Some query types (wildcard, prefix, regex) always contribute a constant score toohello overall document score.</span></span> <span data-ttu-id="5153b-334">Isso permite que as correspondências encontradas por meio de consulta expansão toobe incluído nos resultados da saudação, mas sem afetar a classificação de saudação.</span><span class="sxs-lookup"><span data-stu-id="5153b-334">This allows matches found through query expansion toobe included in hello results, but without affecting hello ranking.</span></span> 

<span data-ttu-id="5153b-335">Um exemplo ilustra por que isso é importante.</span><span class="sxs-lookup"><span data-stu-id="5153b-335">An example illustrates why this matters.</span></span> <span data-ttu-id="5153b-336">Pesquisas com curinga, inclusive pesquisas de prefixo, são ambíguas por definição, porque a entrada hello é uma cadeia de caracteres parcial com correspondências possíveis em um grande número de termos diferentes (considere uma entrada de "tour *", com correspondências encontradas em "viagens", "tourettes", e " tourmaline").</span><span class="sxs-lookup"><span data-stu-id="5153b-336">Wildcard searches, including prefix searches, are ambiguous by definition because hello input is a partial string with potential matches on a very large number of disparate terms (consider an input of "tour*", with matches found on “tours”, “tourettes”, and “tourmaline”).</span></span> <span data-ttu-id="5153b-337">Considerando a natureza Olá desses resultados, não é possível inferir tooreasonably quais termos são mais valiosos do que outras pessoas.</span><span class="sxs-lookup"><span data-stu-id="5153b-337">Given hello nature of these results, there is no way tooreasonably infer which terms are more valuable than others.</span></span> <span data-ttu-id="5153b-338">Por esse motivo, podemos ignorar as frequências dos termos ao pontuar resultados em consultas dos tipos caractere curinga, prefixo e regex.</span><span class="sxs-lookup"><span data-stu-id="5153b-338">For this reason, we ignore term frequencies when scoring results in queries of types wildcard, prefix and regex.</span></span> <span data-ttu-id="5153b-339">Em uma solicitação de pesquisa de várias partes que inclui termos parciais e completas, resultados de entrada parcial Olá são incorporados com uma constante de pontuação tooavoid tendência para correspondências potencialmente inesperadas.</span><span class="sxs-lookup"><span data-stu-id="5153b-339">In a multi-part search request that includes partial and complete terms, results from hello partial input are incorporated with a constant score tooavoid bias towards potentially unexpected matches.</span></span>

### <a name="score-tuning"></a><span data-ttu-id="5153b-340">Ajuste da pontuação</span><span class="sxs-lookup"><span data-stu-id="5153b-340">Score tuning</span></span>

<span data-ttu-id="5153b-341">Há duas maneiras de pontuações de relevância tootune na pesquisa do Azure:</span><span class="sxs-lookup"><span data-stu-id="5153b-341">There are two ways tootune relevance scores in Azure Search:</span></span>

1. <span data-ttu-id="5153b-342">**Perfis de pontuação** promover documentos Olá classificado lista de resultados com base em um conjunto de regras.</span><span class="sxs-lookup"><span data-stu-id="5153b-342">**Scoring profiles** promote documents in hello ranked list of results based on a set of rules.</span></span> <span data-ttu-id="5153b-343">Em nosso exemplo, é possível considerar documentos correspondentes no campo de título hello mais relevante do que os documentos correspondam no campo de descrição de saudação.</span><span class="sxs-lookup"><span data-stu-id="5153b-343">In our example, we could consider documents that matched in hello title field more relevant than documents that matched in hello description field.</span></span> <span data-ttu-id="5153b-344">Além disso, se o índice tiver um campo preço para cada hotel, poderíamos promover documentos com preços mais baixos.</span><span class="sxs-lookup"><span data-stu-id="5153b-344">Additionally, if our index had a price field for each hotel, we could promote documents with lower price.</span></span> <span data-ttu-id="5153b-345">Saiba mais como muito[adicionar um índice de pesquisa tooa perfis de pontuação.](https://docs.microsoft.com/rest/api/searchservice/add-scoring-profiles-to-a-search-index)</span><span class="sxs-lookup"><span data-stu-id="5153b-345">Learn more how too[add Scoring Profiles tooa search index.](https://docs.microsoft.com/rest/api/searchservice/add-scoring-profiles-to-a-search-index)</span></span>
2. <span data-ttu-id="5153b-346">**Aumento de termos** (disponível apenas na sintaxe da consulta completa Lucene Olá) fornece um operador de aumento `^` que podem ser aplicadas tooany parte da árvore de consulta hello.</span><span class="sxs-lookup"><span data-stu-id="5153b-346">**Term boosting** (available only in hello Full Lucene query syntax) provides a boosting operator `^` that can be applied tooany part of hello query tree.</span></span> <span data-ttu-id="5153b-347">Em nosso exemplo, em vez de procurar no prefixo Olá *air-condition*\*, um pode procurar qualquer uma das palavras exatas Olá *air-condition* ou prefixo hello, mas os documentos que correspondam Olá exata termo são com classificação mais alta por aumento toohello termo consulta: *ar condição ^ 2 | | AIR-condition**.</span><span class="sxs-lookup"><span data-stu-id="5153b-347">In our example, instead of searching on hello prefix *air-condition*\*, one could search for either hello exact term *air-condition* or hello prefix, but documents that match on hello exact term are ranked higher by applying boost toohello term query: *air-condition^2||air-condition**.</span></span> <span data-ttu-id="5153b-348">Saiba mais sobre [incremento do termo](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search#bkmk_termboost).</span><span class="sxs-lookup"><span data-stu-id="5153b-348">Learn more about [term boosting](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search#bkmk_termboost).</span></span>


### <a name="scoring-in-a-distributed-index"></a><span data-ttu-id="5153b-349">Pontuação em um índice distribuído</span><span class="sxs-lookup"><span data-stu-id="5153b-349">Scoring in a distributed index</span></span>

<span data-ttu-id="5153b-350">Todos os índices de pesquisa do Azure são automaticamente dividido em vários fragmentos, possibilitando tooquickly distribuir índice Olá entre vários nós durante a escala do serviço para cima ou reduzir.</span><span class="sxs-lookup"><span data-stu-id="5153b-350">All indexes in Azure Search are automatically split into multiple shards, allowing us tooquickly distribute hello index among multiple nodes during service scale up or scale down.</span></span> <span data-ttu-id="5153b-351">Quando uma solicitação de pesquisa é emitida, ela é emitida em relação a cada fragmento de forma independente.</span><span class="sxs-lookup"><span data-stu-id="5153b-351">When a search request is issued, it’s issued against each shard independently.</span></span> <span data-ttu-id="5153b-352">Olá resultados de cada fragmento são, em seguida, mesclados e ordenados pela classificação (se nenhuma outra ordem é definida).</span><span class="sxs-lookup"><span data-stu-id="5153b-352">hello results from each shard are then merged and ordered by score (if no other ordering is defined).</span></span> <span data-ttu-id="5153b-353">É importante tooknow que Olá pontuação função pesos consulta frequência do termo em relação a sua frequência de documento inversa em todos os documentos no fragmento hello, não em todos os fragmentos!</span><span class="sxs-lookup"><span data-stu-id="5153b-353">It is important tooknow that hello scoring function weights query term frequency against its inverse document frequency in all documents within hello shard, not across all shards!</span></span>

<span data-ttu-id="5153b-354">Isso significa que uma pontuação de relevância *pode* ser diferentes para documentos idênticos se estes estiverem em fragmentos diferentes.</span><span class="sxs-lookup"><span data-stu-id="5153b-354">This means a relevance score *could* be different for identical documents if they reside on different shards.</span></span> <span data-ttu-id="5153b-355">Felizmente, tais diferenças tendem toodisappear à medida que aumenta de número de saudação de documentos do índice de saudação devido a distribuição do mesmo termo toomore.</span><span class="sxs-lookup"><span data-stu-id="5153b-355">Fortunately, such differences tend toodisappear as hello number of documents in hello index grows due toomore even term distribution.</span></span> <span data-ttu-id="5153b-356">Não é possível tooassume no qual fragmento qualquer dado documento será colocado.</span><span class="sxs-lookup"><span data-stu-id="5153b-356">It’s not possible tooassume on which shard any given document will be placed.</span></span> <span data-ttu-id="5153b-357">No entanto, supondo que uma chave de documento não é alterado, será sempre atribuído toohello mesmo fragmento.</span><span class="sxs-lookup"><span data-stu-id="5153b-357">However, assuming a document key doesn't change, it will always be assigned toohello same shard.</span></span>

<span data-ttu-id="5153b-358">Em geral, a pontuação de documento não é atributo melhor Olá ordenação documentos se a estabilidade de ordem é importante.</span><span class="sxs-lookup"><span data-stu-id="5153b-358">In general, document score is not hello best attribute for ordering documents if order stability is important.</span></span> <span data-ttu-id="5153b-359">Por exemplo, não dado documento dois com pontuação idêntica, há nenhuma garantia de qual item aparecerá primeiro nas execuções subsequentes do hello mesma consulta.</span><span class="sxs-lookup"><span data-stu-id="5153b-359">For example, given two document with an identical score, there is no guarantee which one appears first in subsequent runs of hello same query.</span></span> <span data-ttu-id="5153b-360">Pontuação de documento somente dará uma ideia geral de relevância do documento relativo tooother documentos no conjunto de resultados de saudação.</span><span class="sxs-lookup"><span data-stu-id="5153b-360">Document score should only give a general sense of document relevance relative tooother documents in hello results set.</span></span>

## <a name="conclusion"></a><span data-ttu-id="5153b-361">Conclusão</span><span class="sxs-lookup"><span data-stu-id="5153b-361">Conclusion</span></span>

<span data-ttu-id="5153b-362">sucesso Olá dos mecanismos de pesquisa da internet gerou expectativas para pesquisa de texto completo em dados privados.</span><span class="sxs-lookup"><span data-stu-id="5153b-362">hello success of internet search engines has raised expectations for full text search over private data.</span></span> <span data-ttu-id="5153b-363">Para quase qualquer tipo de experiência de pesquisa, agora esperamos Olá mecanismo toounderstand nossa intenção, mesmo quando os termos estão incorretas ou incompleta.</span><span class="sxs-lookup"><span data-stu-id="5153b-363">For almost any kind of search experience, we now expect hello engine toounderstand our intent, even when terms are misspelled or incomplete.</span></span> <span data-ttu-id="5153b-364">Esperamos até correspondências com base em termos equivalentes ou sinônimos que nem especificamos.</span><span class="sxs-lookup"><span data-stu-id="5153b-364">We might even expect matches based on near equivalent terms or synonyms that we never actually specified.</span></span>

<span data-ttu-id="5153b-365">Do ponto de vista técnico, pesquisa de texto completo é altamente complexa, exigindo análise linguística sofisticada e tooprocessing uma abordagem sistemática de forma a processar, expanda e transformar os termos de consulta toodeliver um resultado relevante.</span><span class="sxs-lookup"><span data-stu-id="5153b-365">From a technical standpoint, full text search is highly complex, requiring sophisticated linguistic analysis and a systematic approach tooprocessing in ways that distill, expand, and transform query terms toodeliver a relevant result.</span></span> <span data-ttu-id="5153b-366">Devido a complexidades inerentes hello, há uma série de fatores que podem afetar o resultado de saudação de uma consulta.</span><span class="sxs-lookup"><span data-stu-id="5153b-366">Given hello inherent complexities, there are a lot of factors that can affect hello outcome of a query.</span></span> <span data-ttu-id="5153b-367">Por esse motivo, investir mecânica de saudação de toounderstand Olá tempo de pesquisa de texto completo oferece benefícios tangíveis durante a tentativa de toowork a resultados inesperados.</span><span class="sxs-lookup"><span data-stu-id="5153b-367">For this reason, investing hello time toounderstand hello mechanics of full text search offers tangible benefits when trying toowork through unexpected results.</span></span>  

<span data-ttu-id="5153b-368">Este artigo explorou a pesquisa de texto completo no contexto de saudação da pesquisa do Azure.</span><span class="sxs-lookup"><span data-stu-id="5153b-368">This article explored full text search in hello context of Azure Search.</span></span> <span data-ttu-id="5153b-369">Esperamos que ele fornece suficientes em segundo plano toorecognize possíveis causas e resoluções para tratar de problemas comuns de consulta.</span><span class="sxs-lookup"><span data-stu-id="5153b-369">We hope it gives you sufficient background toorecognize potential causes and resolutions for addressing common query problems.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="5153b-370">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="5153b-370">Next steps</span></span>

+ <span data-ttu-id="5153b-371">Criar índice de exemplo hello, experimente consultas diferentes e examine os resultados.</span><span class="sxs-lookup"><span data-stu-id="5153b-371">Build hello sample index, try out different queries and review results.</span></span> <span data-ttu-id="5153b-372">Para obter instruções, consulte [construir e consultar um índice no portal de saudação](search-get-started-portal.md#query-index).</span><span class="sxs-lookup"><span data-stu-id="5153b-372">For instructions, see [Build and query an index in hello portal](search-get-started-portal.md#query-index).</span></span>

+ <span data-ttu-id="5153b-373">Tente a sintaxe de consulta adicionais de saudação [procurar documentos](https://docs.microsoft.com/rest/api/searchservice/search-documents#examples) seção de exemplo ou de [sintaxe de consulta simples](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search) no Gerenciador de pesquisa no portal de saudação.</span><span class="sxs-lookup"><span data-stu-id="5153b-373">Try additional query syntax from hello [Search Documents](https://docs.microsoft.com/rest/api/searchservice/search-documents#examples) example section or from [Simple query syntax](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search) in Search explorer in hello portal.</span></span>

+ <span data-ttu-id="5153b-374">Revisão [perfis de pontuação](https://docs.microsoft.com/rest/api/searchservice/add-scoring-profiles-to-a-search-index) se você quiser tootune classificando em seu aplicativo de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="5153b-374">Review [scoring profiles](https://docs.microsoft.com/rest/api/searchservice/add-scoring-profiles-to-a-search-index) if you want tootune ranking in your search application.</span></span>

+ <span data-ttu-id="5153b-375">Saiba como tooapply [analisadores de idioma específico lexicais](https://docs.microsoft.com/rest/api/searchservice/language-support).</span><span class="sxs-lookup"><span data-stu-id="5153b-375">Learn how tooapply [language-specific lexical analyzers](https://docs.microsoft.com/rest/api/searchservice/language-support).</span></span>

+ <span data-ttu-id="5153b-376">[Configurar analisadores personalizados](https://docs.microsoft.com/rest/api/searchservice/custom-analyzers-in-azure-search) para o mínimo de processamento ou processamento especializado em campos específicos.</span><span class="sxs-lookup"><span data-stu-id="5153b-376">[Configure custom analyzers](https://docs.microsoft.com/rest/api/searchservice/custom-analyzers-in-azure-search) for either minimal processing or specialized processing on specific fields.</span></span>

+ <span data-ttu-id="5153b-377">[Compare os analisadores padrão e inglês](http://alice.unearth.ai/) lado a lado neste site da Web de demonstração.</span><span class="sxs-lookup"><span data-stu-id="5153b-377">[Compare standard and English analyzers](http://alice.unearth.ai/)) side-by-side on this demo web site.</span></span> 

## <a name="see-also"></a><span data-ttu-id="5153b-378">Consulte também</span><span class="sxs-lookup"><span data-stu-id="5153b-378">See also</span></span>

[<span data-ttu-id="5153b-379">API REST para pesquisar documentos</span><span class="sxs-lookup"><span data-stu-id="5153b-379">Search Documents REST API</span></span>](https://docs.microsoft.com/rest/api/searchservice/search-documents)

[<span data-ttu-id="5153b-380">Sintaxe de consulta simples</span><span class="sxs-lookup"><span data-stu-id="5153b-380">Simple query syntax</span></span>](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search)

[<span data-ttu-id="5153b-381">Sintaxe de consulta Lucene completa</span><span class="sxs-lookup"><span data-stu-id="5153b-381">Full Lucene query syntax</span></span>](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search)

[<span data-ttu-id="5153b-382">Controlar os resultados da pesquisa</span><span class="sxs-lookup"><span data-stu-id="5153b-382">Handle search results</span></span>](https://docs.microsoft.com/azure/search/search-pagination-page-layout)

<!--Image references-->
[1]: ./media/search-lucene-query-architecture/architecture-diagram2.png
[2]: ./media/search-lucene-query-architecture/azSearch-queryparsing-should2.png
[3]: ./media/search-lucene-query-architecture/azSearch-queryparsing-must2.png
[4]: ./media/search-lucene-query-architecture/azSearch-queryparsing-spacious2.png
