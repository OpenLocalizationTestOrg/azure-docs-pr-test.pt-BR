---
title: "Monitorar uso e estatísticas em um serviço do Azure Search | Microsoft Docs"
description: "Acompanhe o consumo de recursos e o tamanho de índice da Pesquisa do Azure, um serviço de pesquisa de nuvem hospedado do Microsoft Azure."
services: search
documentationcenter: 
author: bernitorres
manager: jlembicz
editor: 
tags: azure-portal
ms.assetid: 122948de-d29a-426e-88b4-58cbcee4bc23
ms.service: search
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: required
ms.date: 05/01/2017
ms.author: betorres
ms.openlocfilehash: 16cb5a1e16a59200f0e731622398efcf24c3f777
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="monitoring-an-azure-search-service"></a><span data-ttu-id="adfb8-103">Criar um serviço do Azure Search</span><span class="sxs-lookup"><span data-stu-id="adfb8-103">Monitoring an Azure Search service</span></span>

<span data-ttu-id="adfb8-104">O Azure Search oferece vários recursos para acompanhar o uso e o desempenho de serviços de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="adfb8-104">Azure Search offers various resources for tracking usage and performance of search services.</span></span> <span data-ttu-id="adfb8-105">Ele fornece acesso a recursos de monitoramento estendidos no Power BI, logs, estatísticas de índice e métrica.</span><span class="sxs-lookup"><span data-stu-id="adfb8-105">It gives you access to metrics, logs, index statistics, and extended monitoring capabilities on Power BI.</span></span> <span data-ttu-id="adfb8-106">Este artigo descreve como habilitar as diferentes estratégias de monitoramento e como interpretar os dados resultantes.</span><span class="sxs-lookup"><span data-stu-id="adfb8-106">This article describes how to enable the different monitoring strategies and how to interpret the resulting data.</span></span>

## <a name="azure-search-metrics"></a><span data-ttu-id="adfb8-107">Métrica do Azure Search</span><span class="sxs-lookup"><span data-stu-id="adfb8-107">Azure Search metrics</span></span>
<span data-ttu-id="adfb8-108">Métricas lhe dão visibilidade praticamente em tempo real de seu serviço de pesquisa e estão disponíveis para todos os serviços, sem nenhuma configuração adicional.</span><span class="sxs-lookup"><span data-stu-id="adfb8-108">Metrics give you near real-time visibility into your search service and are available for every service, with no additional setup.</span></span> <span data-ttu-id="adfb8-109">Elas permitem controlar o desempenho do seu serviço por até 30 dias.</span><span class="sxs-lookup"><span data-stu-id="adfb8-109">They let you track the performance of your service for up to 30 days.</span></span>

<span data-ttu-id="adfb8-110">O Azure Search coleta dados de três métricas diferentes:</span><span class="sxs-lookup"><span data-stu-id="adfb8-110">Azure Search collects data for three different metrics:</span></span>

* <span data-ttu-id="adfb8-111">Latência de pesquisa: o tempo que o serviço de pesquisa precisou para processar consultas de pesquisa, agregadas por minuto.</span><span class="sxs-lookup"><span data-stu-id="adfb8-111">Search latency: Time the search service needed to process search queries, aggregated per minute.</span></span>
* <span data-ttu-id="adfb8-112">QPS (consultas de pesquisa por segundo): o número de consultas de pesquisa recebidas por segundo, agregadas por minuto.</span><span class="sxs-lookup"><span data-stu-id="adfb8-112">Search queries per second (QPS): Number of search queries received per second, aggregated per minute.</span></span>
* <span data-ttu-id="adfb8-113">Percentual das consultas de pesquisa limitadas: o percentual de consultas de pesquisa que foram limitadas, agregadas por minuto.</span><span class="sxs-lookup"><span data-stu-id="adfb8-113">Throttled search queries percentage: Percentage of search queries that were throttled, aggregated per minute.</span></span>

![Captura de tela da atividade de QPS][1]

### <a name="set-up-alerts"></a><span data-ttu-id="adfb8-115">Configurar alertas</span><span class="sxs-lookup"><span data-stu-id="adfb8-115">Set up alerts</span></span>
<span data-ttu-id="adfb8-116">Da página de detalhes de métrica, você poderá configurar alertas para disparar uma notificação por email ou uma ação automatizada quando uma métrica ultrapassar um limite que você tiver definido.</span><span class="sxs-lookup"><span data-stu-id="adfb8-116">From the metric detail page, you can configure alerts to trigger an email notification or an automated action when a metric crosses a threshold that you have defined.</span></span>

<span data-ttu-id="adfb8-117">Para obter mais informações sobre métrica, consulte a documentação completa no Azure Monitor.</span><span class="sxs-lookup"><span data-stu-id="adfb8-117">For more information about metrics, check the full documentation on Azure Monitor.</span></span>  

## <a name="how-to-track-resource-usage"></a><span data-ttu-id="adfb8-118">Como controlar o uso de recursos</span><span class="sxs-lookup"><span data-stu-id="adfb8-118">How to track resource usage</span></span>
<span data-ttu-id="adfb8-119">Acompanhar o crescimento do tamanho dos índices e do documento pode ajudar você a ajustar a capacidade de forma proativa antes de atingir o limite superior que você estabeleceu para seu serviço.</span><span class="sxs-lookup"><span data-stu-id="adfb8-119">Tracking the growth of indexes and document size can help you proactively adjust capacity before hitting the upper limit you've established for your service.</span></span> <span data-ttu-id="adfb8-120">Você pode fazer isso no portal ou programaticamente usando a API REST.</span><span class="sxs-lookup"><span data-stu-id="adfb8-120">You can do this on the portal or programmatically using the REST API.</span></span>

### <a name="using-the-portal"></a><span data-ttu-id="adfb8-121">Usando o portal</span><span class="sxs-lookup"><span data-stu-id="adfb8-121">Using the portal</span></span>

<span data-ttu-id="adfb8-122">Para monitorar o uso de recursos, exiba as contagens e as estatísticas do serviço no [portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="adfb8-122">To monitor resource usage, view the counts and statistics for your service in the [portal](https://portal.azure.com).</span></span>

1. <span data-ttu-id="adfb8-123">Entre no [portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="adfb8-123">Sign in to the [portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="adfb8-124">Abra o painel de serviços de seu serviço de Pesquisa do Azure.</span><span class="sxs-lookup"><span data-stu-id="adfb8-124">Open the service dashboard of your Azure Search service.</span></span> <span data-ttu-id="adfb8-125">É possível encontrar blocos do serviço na Home page, ou você pode navegar até o serviço usando Procurar na Barra de navegação rápida.</span><span class="sxs-lookup"><span data-stu-id="adfb8-125">Tiles for the service can be found on the Home page, or you can browse to the service from Browse on the JumpBar.</span></span>

<span data-ttu-id="adfb8-126">A seção Uso inclui um medidor que informa qual parte dos recursos disponíveis estão atualmente em uso.</span><span class="sxs-lookup"><span data-stu-id="adfb8-126">The Usage section includes a meter that tells you what portion of available resources are currently in use.</span></span> <span data-ttu-id="adfb8-127">Para obter informações sobre os limites por serviço para índices, documentos e armazenamento, consulte [Limites de serviço](search-limits-quotas-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="adfb8-127">For information on per-service limits for indexes, documents, and storage, see [Service limits](search-limits-quotas-capacity.md).</span></span>

  ![Bloco Uso][2]

> [!NOTE]
> <span data-ttu-id="adfb8-129">A captura de tela acima é para o serviço Gratuito, que tem um máximo de uma réplica e uma partição cada, podendo hospedar somente três índices, 10.000 documentos ou 50 MB de dados, o que ocorrer primeiro.</span><span class="sxs-lookup"><span data-stu-id="adfb8-129">The screenshot above is for the Free service, which has a maximum of one replica and partition each, and can only host 3 indexes, 10,000 documents, or 50 MB of data, whichever comes first.</span></span> <span data-ttu-id="adfb8-130">Os serviços criados nos tipos de preço Básico ou Standard têm limites de serviço muito maiores.</span><span class="sxs-lookup"><span data-stu-id="adfb8-130">Services created at a Basic or Standard tier have much larger service limits.</span></span> <span data-ttu-id="adfb8-131">Para obter mais informações sobre como escolher um tipo de preço, consulte [Escolher um tipo de preço ou SKU](search-sku-tier.md).</span><span class="sxs-lookup"><span data-stu-id="adfb8-131">For more information on choosing a tier, see [Choose a tier or SKU](search-sku-tier.md).</span></span>
>
>

### <a name="using-the-rest-api"></a><span data-ttu-id="adfb8-132">Usando a API REST</span><span class="sxs-lookup"><span data-stu-id="adfb8-132">Using the REST API</span></span>
<span data-ttu-id="adfb8-133">A API REST da Pesquisa do Azure e o SDK do .NET fornecem acesso programático às métricas de serviço.</span><span class="sxs-lookup"><span data-stu-id="adfb8-133">Both the Azure Search REST API and the .NET SDK provide programmatic access to service metrics.</span></span>  <span data-ttu-id="adfb8-134">Se você estiver usando [indexadores](https://msdn.microsoft.com/library/azure/dn946891.aspx) para carregar um índice do Banco de Dados SQL do Azure ou do Azure Cosmos DB, uma API adicional estará disponível para obter os números dos quais você precisa.</span><span class="sxs-lookup"><span data-stu-id="adfb8-134">If you are using [indexers](https://msdn.microsoft.com/library/azure/dn946891.aspx) to load an index from Azure SQL Database or Azure Cosmos DB, an additional API is available to get the numbers you require.</span></span>

* [<span data-ttu-id="adfb8-135">Obter estatísticas de índice</span><span class="sxs-lookup"><span data-stu-id="adfb8-135">Get Index Statistics</span></span>](/rest/api/searchservice/get-index-statistics)
* [<span data-ttu-id="adfb8-136">Contar documentos</span><span class="sxs-lookup"><span data-stu-id="adfb8-136">Count Documents</span></span>](/rest/api/searchservice/count-documents)
* [<span data-ttu-id="adfb8-137">Obter o status do indexador</span><span class="sxs-lookup"><span data-stu-id="adfb8-137">Get Indexer Status</span></span>](/rest/api/searchservice/get-indexer-status)

## <a name="how-to-export-logs-and-metrics"></a><span data-ttu-id="adfb8-138">Como exportar logs e métrica</span><span class="sxs-lookup"><span data-stu-id="adfb8-138">How to export logs and metrics</span></span>

<span data-ttu-id="adfb8-139">Você pode exportar os logs de operação para o serviço e os dados brutos para as métricas descritas na seção anterior.</span><span class="sxs-lookup"><span data-stu-id="adfb8-139">You can export the operation logs for your service and the raw data for the metrics described in the preceding section.</span></span> <span data-ttu-id="adfb8-140">Os logs de operação permitem que você saiba como o serviço está sendo usado e podem ser consumidos pelo Power BI quando dados são copiados para uma conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="adfb8-140">Operation logs let you know how the service is being used and can be consumed from Power BI when data is copied to a storage account.</span></span> <span data-ttu-id="adfb8-141">O Azure Search fornece um pacote de conteúdo de monitoramento do Power BI para essa finalidade.</span><span class="sxs-lookup"><span data-stu-id="adfb8-141">Azure search provides a monitoring Power BI content pack for this purpose.</span></span>


### <a name="enabling-monitoring"></a><span data-ttu-id="adfb8-142">Habilitar o monitoramento</span><span class="sxs-lookup"><span data-stu-id="adfb8-142">Enabling monitoring</span></span>
<span data-ttu-id="adfb8-143">Abra o serviço Azure Search no [Portal do Azure](http://portal.azure.com) sob a opção de Habilitar o Monitoramento.</span><span class="sxs-lookup"><span data-stu-id="adfb8-143">Open your Azure Search service in the [Azure portal](http://portal.azure.com) under the Enable Monitoring option.</span></span>

<span data-ttu-id="adfb8-144">Escolha os dados que você deseja exportar: Logs, Métricas ou ambos.</span><span class="sxs-lookup"><span data-stu-id="adfb8-144">Choose the data you want to export: Logs, Metrics or both.</span></span> <span data-ttu-id="adfb8-145">Você pode copiá-los para uma conta de armazenamento, enviá-los para um hub de eventos ou exportá-los para o Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="adfb8-145">You can copy it to a storage account, send it to an event hub or export it to Log Analytics.</span></span>

![Como habilitar o monitoramento no portal][3]

<span data-ttu-id="adfb8-147">Para habilitar usando o PowerShell ou a CLI do Azure, consulte a documentação [aqui](https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview-of-diagnostic-logs#how-to-enable-collection-of-diagnostic-logs).</span><span class="sxs-lookup"><span data-stu-id="adfb8-147">To enable using PowerShell or the Azure CLI, see the documentation [here](https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview-of-diagnostic-logs#how-to-enable-collection-of-diagnostic-logs).</span></span>

### <a name="logs-and-metrics-schemas"></a><span data-ttu-id="adfb8-148">Esquemas de métrica e logs</span><span class="sxs-lookup"><span data-stu-id="adfb8-148">Logs and metrics schemas</span></span>
<span data-ttu-id="adfb8-149">Quando os dados são copiados para uma conta de armazenamento, os dados são formatados como JSON e são colocados em dois contêineres:</span><span class="sxs-lookup"><span data-stu-id="adfb8-149">When the data is copied to a storage account, the data is formatted as JSON and it's place in two containers:</span></span>

* <span data-ttu-id="adfb8-150">insights-logs-operationlogs: para logs de tráfego de pesquisa</span><span class="sxs-lookup"><span data-stu-id="adfb8-150">insights-logs-operationlogs: for search traffic logs</span></span>
* <span data-ttu-id="adfb8-151">insights-metrics-pt1m: para métrica</span><span class="sxs-lookup"><span data-stu-id="adfb8-151">insights-metrics-pt1m: for metrics</span></span>

<span data-ttu-id="adfb8-152">Haverá um blob por hora, por contêiner.</span><span class="sxs-lookup"><span data-stu-id="adfb8-152">There is one blob, per hour, per container.</span></span>

<span data-ttu-id="adfb8-153">Exemplo de caminho: `resourceId=/subscriptions/<subscriptionID>/resourcegroups/<resourceGroupName>/providers/microsoft.search/searchservices/<searchServiceName>/y=2015/m=12/d=25/h=01/m=00/name=PT1H.json`</span><span class="sxs-lookup"><span data-stu-id="adfb8-153">Example path: `resourceId=/subscriptions/<subscriptionID>/resourcegroups/<resourceGroupName>/providers/microsoft.search/searchservices/<searchServiceName>/y=2015/m=12/d=25/h=01/m=00/name=PT1H.json`</span></span>

#### <a name="log-schema"></a><span data-ttu-id="adfb8-154">Esquema do log</span><span class="sxs-lookup"><span data-stu-id="adfb8-154">Log schema</span></span>
<span data-ttu-id="adfb8-155">Os blobs de logs contêm seus logs de tráfego do serviço de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="adfb8-155">The logs blobs contain your search service traffic logs.</span></span>
<span data-ttu-id="adfb8-156">Cada blob tem um objeto-raiz chamado **registros** que contém uma matriz de objetos do log.</span><span class="sxs-lookup"><span data-stu-id="adfb8-156">Each blob has one root object called **records** that contains an array of log objects.</span></span>
<span data-ttu-id="adfb8-157">Cada blob tem registros na operação que ocorrem durante a mesma hora.</span><span class="sxs-lookup"><span data-stu-id="adfb8-157">Each blob has records on all the operation that took place during the same hour.</span></span>

| <span data-ttu-id="adfb8-158">Nome</span><span class="sxs-lookup"><span data-stu-id="adfb8-158">Name</span></span> | <span data-ttu-id="adfb8-159">Tipo</span><span class="sxs-lookup"><span data-stu-id="adfb8-159">Type</span></span> | <span data-ttu-id="adfb8-160">Exemplo</span><span class="sxs-lookup"><span data-stu-id="adfb8-160">Example</span></span> | <span data-ttu-id="adfb8-161">Observações</span><span class="sxs-lookup"><span data-stu-id="adfb8-161">Notes</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="adfb8-162">tempo real</span><span class="sxs-lookup"><span data-stu-id="adfb8-162">time</span></span> |<span data-ttu-id="adfb8-163">datetime</span><span class="sxs-lookup"><span data-stu-id="adfb8-163">datetime</span></span> |<span data-ttu-id="adfb8-164">"2015-12-07T00:00:43.6872559Z"</span><span class="sxs-lookup"><span data-stu-id="adfb8-164">"2015-12-07T00:00:43.6872559Z"</span></span> |<span data-ttu-id="adfb8-165">Carimbo de data/hora da operação</span><span class="sxs-lookup"><span data-stu-id="adfb8-165">Timestamp of the operation</span></span> |
| <span data-ttu-id="adfb8-166">resourceId</span><span class="sxs-lookup"><span data-stu-id="adfb8-166">resourceId</span></span> |<span data-ttu-id="adfb8-167">string</span><span class="sxs-lookup"><span data-stu-id="adfb8-167">string</span></span> |<span data-ttu-id="adfb8-168">"/SUBSCRIPTIONS/11111111-1111-1111-1111-111111111111/</span><span class="sxs-lookup"><span data-stu-id="adfb8-168">"/SUBSCRIPTIONS/11111111-1111-1111-1111-111111111111/</span></span><br/><span data-ttu-id="adfb8-169">RESOURCEGROUPS/DEFAULT/PROVIDERS/</span><span class="sxs-lookup"><span data-stu-id="adfb8-169">RESOURCEGROUPS/DEFAULT/PROVIDERS/</span></span><br/> <span data-ttu-id="adfb8-170">MICROSOFT.SEARCH/SEARCHSERVICES/SEARCHSERVICE"</span><span class="sxs-lookup"><span data-stu-id="adfb8-170">MICROSOFT.SEARCH/SEARCHSERVICES/SEARCHSERVICE"</span></span> |<span data-ttu-id="adfb8-171">Seu ResourceId</span><span class="sxs-lookup"><span data-stu-id="adfb8-171">Your ResourceId</span></span> |
| <span data-ttu-id="adfb8-172">operationName</span><span class="sxs-lookup"><span data-stu-id="adfb8-172">operationName</span></span> |<span data-ttu-id="adfb8-173">string</span><span class="sxs-lookup"><span data-stu-id="adfb8-173">string</span></span> |<span data-ttu-id="adfb8-174">"Query.Search"</span><span class="sxs-lookup"><span data-stu-id="adfb8-174">"Query.Search"</span></span> |<span data-ttu-id="adfb8-175">O nome da operação</span><span class="sxs-lookup"><span data-stu-id="adfb8-175">The name of the operation</span></span> |
| <span data-ttu-id="adfb8-176">operationVersion</span><span class="sxs-lookup"><span data-stu-id="adfb8-176">operationVersion</span></span> |<span data-ttu-id="adfb8-177">string</span><span class="sxs-lookup"><span data-stu-id="adfb8-177">string</span></span> |<span data-ttu-id="adfb8-178">"2015-02-28"</span><span class="sxs-lookup"><span data-stu-id="adfb8-178">"2015-02-28"</span></span> |<span data-ttu-id="adfb8-179">A api-version usada</span><span class="sxs-lookup"><span data-stu-id="adfb8-179">The api-version used</span></span> |
| <span data-ttu-id="adfb8-180">categoria</span><span class="sxs-lookup"><span data-stu-id="adfb8-180">category</span></span> |<span data-ttu-id="adfb8-181">string</span><span class="sxs-lookup"><span data-stu-id="adfb8-181">string</span></span> |<span data-ttu-id="adfb8-182">"OperationLogs"</span><span class="sxs-lookup"><span data-stu-id="adfb8-182">"OperationLogs"</span></span> |<span data-ttu-id="adfb8-183">constante</span><span class="sxs-lookup"><span data-stu-id="adfb8-183">constant</span></span> |
| <span data-ttu-id="adfb8-184">resultType</span><span class="sxs-lookup"><span data-stu-id="adfb8-184">resultType</span></span> |<span data-ttu-id="adfb8-185">string</span><span class="sxs-lookup"><span data-stu-id="adfb8-185">string</span></span> |<span data-ttu-id="adfb8-186">"Success"</span><span class="sxs-lookup"><span data-stu-id="adfb8-186">"Success"</span></span> |<span data-ttu-id="adfb8-187">Valores possíveis: Success ou Failure</span><span class="sxs-lookup"><span data-stu-id="adfb8-187">Possible values: Success or Failure</span></span> |
| <span data-ttu-id="adfb8-188">resultSignature</span><span class="sxs-lookup"><span data-stu-id="adfb8-188">resultSignature</span></span> |<span data-ttu-id="adfb8-189">int</span><span class="sxs-lookup"><span data-stu-id="adfb8-189">int</span></span> |<span data-ttu-id="adfb8-190">200</span><span class="sxs-lookup"><span data-stu-id="adfb8-190">200</span></span> |<span data-ttu-id="adfb8-191">Código do resultado HTTP</span><span class="sxs-lookup"><span data-stu-id="adfb8-191">HTTP result code</span></span> |
| <span data-ttu-id="adfb8-192">durationMS</span><span class="sxs-lookup"><span data-stu-id="adfb8-192">durationMS</span></span> |<span data-ttu-id="adfb8-193">int</span><span class="sxs-lookup"><span data-stu-id="adfb8-193">int</span></span> |<span data-ttu-id="adfb8-194">50</span><span class="sxs-lookup"><span data-stu-id="adfb8-194">50</span></span> |<span data-ttu-id="adfb8-195">Duração da operação em milissegundos</span><span class="sxs-lookup"><span data-stu-id="adfb8-195">Duration of the operation in milliseconds</span></span> |
| <span data-ttu-id="adfb8-196">propriedades</span><span class="sxs-lookup"><span data-stu-id="adfb8-196">properties</span></span> |<span data-ttu-id="adfb8-197">objeto</span><span class="sxs-lookup"><span data-stu-id="adfb8-197">object</span></span> |<span data-ttu-id="adfb8-198">confira a seguinte tabela</span><span class="sxs-lookup"><span data-stu-id="adfb8-198">see the following table</span></span> |<span data-ttu-id="adfb8-199">Objeto que contém os dados específicos da operação</span><span class="sxs-lookup"><span data-stu-id="adfb8-199">Object containing operation-specific data</span></span> |

<span data-ttu-id="adfb8-200">**Esquema de propriedades**</span><span class="sxs-lookup"><span data-stu-id="adfb8-200">**Properties schema**</span></span>
| <span data-ttu-id="adfb8-201">Nome</span><span class="sxs-lookup"><span data-stu-id="adfb8-201">Name</span></span> | <span data-ttu-id="adfb8-202">Tipo</span><span class="sxs-lookup"><span data-stu-id="adfb8-202">Type</span></span> | <span data-ttu-id="adfb8-203">Exemplo</span><span class="sxs-lookup"><span data-stu-id="adfb8-203">Example</span></span> | <span data-ttu-id="adfb8-204">Observações</span><span class="sxs-lookup"><span data-stu-id="adfb8-204">Notes</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="adfb8-205">Descrição</span><span class="sxs-lookup"><span data-stu-id="adfb8-205">Description</span></span> |<span data-ttu-id="adfb8-206">string</span><span class="sxs-lookup"><span data-stu-id="adfb8-206">string</span></span> |<span data-ttu-id="adfb8-207">"GET /indexes('content')/docs"</span><span class="sxs-lookup"><span data-stu-id="adfb8-207">"GET /indexes('content')/docs"</span></span> |<span data-ttu-id="adfb8-208">Ponto de extremidade da operação</span><span class="sxs-lookup"><span data-stu-id="adfb8-208">The operation's endpoint</span></span> |
| <span data-ttu-id="adfb8-209">Consultar</span><span class="sxs-lookup"><span data-stu-id="adfb8-209">Query</span></span> |<span data-ttu-id="adfb8-210">string</span><span class="sxs-lookup"><span data-stu-id="adfb8-210">string</span></span> |<span data-ttu-id="adfb8-211">"?search=AzureSearch&$count=true&api-version=2015-02-28"</span><span class="sxs-lookup"><span data-stu-id="adfb8-211">"?search=AzureSearch&$count=true&api-version=2015-02-28"</span></span> |<span data-ttu-id="adfb8-212">Parâmetros da consulta</span><span class="sxs-lookup"><span data-stu-id="adfb8-212">The query parameters</span></span> |
| <span data-ttu-id="adfb8-213">Documentos</span><span class="sxs-lookup"><span data-stu-id="adfb8-213">Documents</span></span> |<span data-ttu-id="adfb8-214">int</span><span class="sxs-lookup"><span data-stu-id="adfb8-214">int</span></span> |<span data-ttu-id="adfb8-215">42</span><span class="sxs-lookup"><span data-stu-id="adfb8-215">42</span></span> |<span data-ttu-id="adfb8-216">Número de documentos processados</span><span class="sxs-lookup"><span data-stu-id="adfb8-216">Number of documents processed</span></span> |
| <span data-ttu-id="adfb8-217">IndexName</span><span class="sxs-lookup"><span data-stu-id="adfb8-217">IndexName</span></span> |<span data-ttu-id="adfb8-218">string</span><span class="sxs-lookup"><span data-stu-id="adfb8-218">string</span></span> |<span data-ttu-id="adfb8-219">"testindex"</span><span class="sxs-lookup"><span data-stu-id="adfb8-219">"testindex"</span></span> |<span data-ttu-id="adfb8-220">Nome do índice associado à operação</span><span class="sxs-lookup"><span data-stu-id="adfb8-220">Name of the index associated with the operation</span></span> |

#### <a name="metrics-schema"></a><span data-ttu-id="adfb8-221">Esquema de métricas</span><span class="sxs-lookup"><span data-stu-id="adfb8-221">Metrics schema</span></span>
| <span data-ttu-id="adfb8-222">Nome</span><span class="sxs-lookup"><span data-stu-id="adfb8-222">Name</span></span> | <span data-ttu-id="adfb8-223">Tipo</span><span class="sxs-lookup"><span data-stu-id="adfb8-223">Type</span></span> | <span data-ttu-id="adfb8-224">Exemplo</span><span class="sxs-lookup"><span data-stu-id="adfb8-224">Example</span></span> | <span data-ttu-id="adfb8-225">Observações</span><span class="sxs-lookup"><span data-stu-id="adfb8-225">Notes</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="adfb8-226">resourceId</span><span class="sxs-lookup"><span data-stu-id="adfb8-226">resourceId</span></span> |<span data-ttu-id="adfb8-227">string</span><span class="sxs-lookup"><span data-stu-id="adfb8-227">string</span></span> |<span data-ttu-id="adfb8-228">"/SUBSCRIPTIONS/11111111-1111-1111-1111-111111111111/</span><span class="sxs-lookup"><span data-stu-id="adfb8-228">"/SUBSCRIPTIONS/11111111-1111-1111-1111-111111111111/</span></span><br/><span data-ttu-id="adfb8-229">RESOURCEGROUPS/DEFAULT/PROVIDERS/</span><span class="sxs-lookup"><span data-stu-id="adfb8-229">RESOURCEGROUPS/DEFAULT/PROVIDERS/</span></span><br/><span data-ttu-id="adfb8-230">MICROSOFT.SEARCH/SEARCHSERVICES/SEARCHSERVICE"</span><span class="sxs-lookup"><span data-stu-id="adfb8-230">MICROSOFT.SEARCH/SEARCHSERVICES/SEARCHSERVICE"</span></span> |<span data-ttu-id="adfb8-231">id do recurso</span><span class="sxs-lookup"><span data-stu-id="adfb8-231">your resource id</span></span> |
| <span data-ttu-id="adfb8-232">metricName</span><span class="sxs-lookup"><span data-stu-id="adfb8-232">metricName</span></span> |<span data-ttu-id="adfb8-233">string</span><span class="sxs-lookup"><span data-stu-id="adfb8-233">string</span></span> |<span data-ttu-id="adfb8-234">"Latency"</span><span class="sxs-lookup"><span data-stu-id="adfb8-234">"Latency"</span></span> |<span data-ttu-id="adfb8-235">o nome da métrica</span><span class="sxs-lookup"><span data-stu-id="adfb8-235">the name of the metric</span></span> |
| <span data-ttu-id="adfb8-236">tempo real</span><span class="sxs-lookup"><span data-stu-id="adfb8-236">time</span></span> |<span data-ttu-id="adfb8-237">datetime</span><span class="sxs-lookup"><span data-stu-id="adfb8-237">datetime</span></span> |<span data-ttu-id="adfb8-238">"2015-12-07T00:00:43.6872559Z"</span><span class="sxs-lookup"><span data-stu-id="adfb8-238">"2015-12-07T00:00:43.6872559Z"</span></span> |<span data-ttu-id="adfb8-239">carimbo de data/hora da operação</span><span class="sxs-lookup"><span data-stu-id="adfb8-239">the operation's timestamp</span></span> |
| <span data-ttu-id="adfb8-240">média</span><span class="sxs-lookup"><span data-stu-id="adfb8-240">average</span></span> |<span data-ttu-id="adfb8-241">int</span><span class="sxs-lookup"><span data-stu-id="adfb8-241">int</span></span> |<span data-ttu-id="adfb8-242">64</span><span class="sxs-lookup"><span data-stu-id="adfb8-242">64</span></span> |<span data-ttu-id="adfb8-243">O valor médio das amostras brutas no intervalo de agregação da métrica</span><span class="sxs-lookup"><span data-stu-id="adfb8-243">The average value of the raw samples in the metric time interval</span></span> |
| <span data-ttu-id="adfb8-244">mínimo</span><span class="sxs-lookup"><span data-stu-id="adfb8-244">minimum</span></span> |<span data-ttu-id="adfb8-245">int</span><span class="sxs-lookup"><span data-stu-id="adfb8-245">int</span></span> |<span data-ttu-id="adfb8-246">37</span><span class="sxs-lookup"><span data-stu-id="adfb8-246">37</span></span> |<span data-ttu-id="adfb8-247">O valor mínimo das amostras brutas no intervalo de agregação da métrica</span><span class="sxs-lookup"><span data-stu-id="adfb8-247">The minimum value of the raw samples in the metric time interval</span></span> |
| <span data-ttu-id="adfb8-248">máximo</span><span class="sxs-lookup"><span data-stu-id="adfb8-248">maximum</span></span> |<span data-ttu-id="adfb8-249">int</span><span class="sxs-lookup"><span data-stu-id="adfb8-249">int</span></span> |<span data-ttu-id="adfb8-250">78</span><span class="sxs-lookup"><span data-stu-id="adfb8-250">78</span></span> |<span data-ttu-id="adfb8-251">O valor máximo das amostras brutas no intervalo de agregação da métrica</span><span class="sxs-lookup"><span data-stu-id="adfb8-251">The maximum value of the raw samples in the metric time interval</span></span> |
| <span data-ttu-id="adfb8-252">total</span><span class="sxs-lookup"><span data-stu-id="adfb8-252">total</span></span> |<span data-ttu-id="adfb8-253">int</span><span class="sxs-lookup"><span data-stu-id="adfb8-253">int</span></span> |<span data-ttu-id="adfb8-254">258</span><span class="sxs-lookup"><span data-stu-id="adfb8-254">258</span></span> |<span data-ttu-id="adfb8-255">O valor total das amostras brutas no intervalo de agregação da métrica</span><span class="sxs-lookup"><span data-stu-id="adfb8-255">The total value of the raw samples in the metric time interval</span></span> |
| <span data-ttu-id="adfb8-256">count</span><span class="sxs-lookup"><span data-stu-id="adfb8-256">count</span></span> |<span data-ttu-id="adfb8-257">int</span><span class="sxs-lookup"><span data-stu-id="adfb8-257">int</span></span> |<span data-ttu-id="adfb8-258">4</span><span class="sxs-lookup"><span data-stu-id="adfb8-258">4</span></span> |<span data-ttu-id="adfb8-259">O número de amostras brutas usadas para gerar a métrica</span><span class="sxs-lookup"><span data-stu-id="adfb8-259">The number of raw samples used to generate the metric</span></span> |
| <span data-ttu-id="adfb8-260">intervalo de tempo</span><span class="sxs-lookup"><span data-stu-id="adfb8-260">timegrain</span></span> |<span data-ttu-id="adfb8-261">string</span><span class="sxs-lookup"><span data-stu-id="adfb8-261">string</span></span> |<span data-ttu-id="adfb8-262">"PT1M"</span><span class="sxs-lookup"><span data-stu-id="adfb8-262">"PT1M"</span></span> |<span data-ttu-id="adfb8-263">O intervalo de agregação da métrica no ISO 8601</span><span class="sxs-lookup"><span data-stu-id="adfb8-263">The time grain of the metric in ISO 8601</span></span> |

<span data-ttu-id="adfb8-264">Todas as métricas são reportadas em intervalos de um minuto.</span><span class="sxs-lookup"><span data-stu-id="adfb8-264">All metrics are reported in one-minute intervals.</span></span> <span data-ttu-id="adfb8-265">Cada métrica expõe valores mínimo, máximo e médios por minuto.</span><span class="sxs-lookup"><span data-stu-id="adfb8-265">Every metric exposes minimum, maximum and average values per minute.</span></span>

<span data-ttu-id="adfb8-266">Para a métrica SearchQueriesPerSecond, o valor mínimo é o valor mais baixo para consultas de pesquisa por segundo que foram registradas durante esse minuto.</span><span class="sxs-lookup"><span data-stu-id="adfb8-266">For the SearchQueriesPerSecond metric, minimum is the lowest value for search queries per second that was registered during that minute.</span></span> <span data-ttu-id="adfb8-267">O mesmo se aplica ao valor máximo.</span><span class="sxs-lookup"><span data-stu-id="adfb8-267">The same applies to the maximum value.</span></span> <span data-ttu-id="adfb8-268">O valor médio é a agregação durante todo o minuto.</span><span class="sxs-lookup"><span data-stu-id="adfb8-268">Average, is the aggregate across the entire minute.</span></span>
<span data-ttu-id="adfb8-269">Considere este cenário durante um minuto, um segundo com uma carga muito alta, que é o valor máximo para SearchQueriesPerSecond, seguido de 58 segundos de carga mediana, e, por fim, um segundo com apenas uma consulta, que será o valor mínimo.</span><span class="sxs-lookup"><span data-stu-id="adfb8-269">Think about this scenario during one minute: one second of high load that is the maximum for SearchQueriesPerSecond, followed by 58 seconds of average load, and finally one second with only one query, which is the minimum.</span></span>

<span data-ttu-id="adfb8-270">Para ThrottledSearchQueriesPercentage, os valores mínimo, máximo, médio e total possuem o mesmo valor: a porcentagem de consultas de pesquisa que foram limitadas, a partir do no número total de consultas de pesquisa durante um minuto.</span><span class="sxs-lookup"><span data-stu-id="adfb8-270">For ThrottledSearchQueriesPercentage, minimum, maximum, average and total, all have the same value: the percentage of search queries that were throttled, from the total number of search queries during one minute.</span></span>

## <a name="analyzing-your-data-with-power-bi"></a><span data-ttu-id="adfb8-271">Analisar seus dados com o Power BI</span><span class="sxs-lookup"><span data-stu-id="adfb8-271">Analyzing your data With Power BI</span></span>

<span data-ttu-id="adfb8-272">Recomendamos o uso do [Power BI](https://powerbi.microsoft.com) para explorar e visualizar seus dados.</span><span class="sxs-lookup"><span data-stu-id="adfb8-272">We recommend using [Power BI](https://powerbi.microsoft.com) to explore and visualize your data.</span></span> <span data-ttu-id="adfb8-273">Você pode conectá-lo facilmente à sua conta de Armazenamento do Azure e começar rapidamente a analisar os dados.</span><span class="sxs-lookup"><span data-stu-id="adfb8-273">You can easily connect it to your Azure Storage Account and quickly start analyzing your data.</span></span>

<span data-ttu-id="adfb8-274">O Azure Search fornece um [pacote de conteúdo do Power BI](https://app.powerbi.com/getdata/services/azure-search) que permite que você monitore e entenda seu tráfego de pesquisa com tabelas e gráficos predefinidos.</span><span class="sxs-lookup"><span data-stu-id="adfb8-274">Azure Search provides a [Power BI Content Pack](https://app.powerbi.com/getdata/services/azure-search) that allows you to monitor and understand your search traffic with predefined charts and tables.</span></span> <span data-ttu-id="adfb8-275">Ele contém um conjunto de relatórios do Power BI que conectam-se automaticamente a seus dados e fornecem análises visuais sobre o serviço de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="adfb8-275">It contains a set of Power BI reports that automatically connect to your data and provide visual insights about your search service.</span></span> <span data-ttu-id="adfb8-276">Para obter mais informações, consulte a [página de ajuda do pacote de conteúdo](https://powerbi.microsoft.com/documentation/powerbi-content-pack-azure-search/).</span><span class="sxs-lookup"><span data-stu-id="adfb8-276">For more information, see the [content pack help page](https://powerbi.microsoft.com/documentation/powerbi-content-pack-azure-search/).</span></span>

![Painel do Power BI para o Azure Search][4]

## <a name="next-steps"></a><span data-ttu-id="adfb8-278">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="adfb8-278">Next steps</span></span>
<span data-ttu-id="adfb8-279">Examine [Dimensionar réplicas e partições](search-limits-quotas-capacity.md) para obter diretrizes sobre como balancear a alocação de partições e de réplicas de um serviço existente.</span><span class="sxs-lookup"><span data-stu-id="adfb8-279">Review [Scale replicas and partitions](search-limits-quotas-capacity.md) for guidance on how to balance the allocation of partitions and replicas for an existing service.</span></span>

<span data-ttu-id="adfb8-280">Visite [Gerenciar o seu serviço do Search no Microsoft Azure](search-manage.md), para obter mais informações sobre a administração do serviço, ou [Desempenho e otimização](search-performance-optimization.md), para obter diretrizes de ajuste.</span><span class="sxs-lookup"><span data-stu-id="adfb8-280">Visit [Manage your Search service on Microsoft Azure](search-manage.md) for more information on service administration, or [Performance and optimization](search-performance-optimization.md) for tuning guidance.</span></span>

<span data-ttu-id="adfb8-281">Saiba mais sobre como criar relatórios incríveis.</span><span class="sxs-lookup"><span data-stu-id="adfb8-281">Learn more about creating amazing reports.</span></span> <span data-ttu-id="adfb8-282">Confira [Introdução ao Power BI Desktop](https://powerbi.microsoft.com/documentation/powerbi-desktop-getting-started/) para obter detalhes</span><span class="sxs-lookup"><span data-stu-id="adfb8-282">See [Getting started with Power BI Desktop](https://powerbi.microsoft.com/documentation/powerbi-desktop-getting-started/) for details</span></span>

<!--Image references-->
[1]: ./media/search-monitor-usage/AzSearch-Monitor-BarChart.PNG
[2]: ./media/search-monitor-usage/AzureSearch-Monitor1.PNG
[3]: ./media/search-monitor-usage/AzureSearch-Enable-Monitoring.PNG
[4]: ./media/search-monitor-usage/AzureSearch-PowerBI-Dashboard.png
