---
title: "Perfis de pontuação (API REST do Azure Search Versão 2015-02-28-Preview) | Microsoft Docs"
description: "A Pesquisa do Azure é um serviço de pesquisa de nuvem hospedado que dá suporte ao ajuste de resultados classificados com base em perfis de pontuação definidos pelo usuário."
services: search
documentationcenter: 
author: HeidiSteen
manager: jhubbard
editor: 
ms.assetid: bfd62649-13d7-40b3-a8fa-85521a15084d
ms.service: search
ms.devlang: rest-api
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.author: heidist
ms.date: 10/27/2016
ms.openlocfilehash: a67637d149a84313270c03d21acf8a9c1870be05
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="scoring-profiles-azure-search-rest-api-version-2015-02-28-preview"></a><span data-ttu-id="96c9a-103">Perfis de pontuação (API REST do Azure Search Versão 2015-02-28-Preview)</span><span class="sxs-lookup"><span data-stu-id="96c9a-103">Scoring Profiles (Azure Search REST API Version 2015-02-28-Preview)</span></span>
> [!NOTE]
> <span data-ttu-id="96c9a-104">Este artigo descreve os perfis de pontuação na versão [2015-02-28-Preview](search-api-2015-02-28-preview.md).</span><span class="sxs-lookup"><span data-stu-id="96c9a-104">This article describes scoring profiles in the [2015-02-28-Preview](search-api-2015-02-28-preview.md).</span></span> <span data-ttu-id="96c9a-105">No momento, não há nenhuma diferença entre a versão `2016-09-01` documentada no [MSDN](http://msdn.microsoft.com/library/azure/mt183328.aspx) e a versão `2015-02-28-Preview` descrita aqui, porém oferecemos este documento mesmo assim para fornecer uma abrangência de documentação em toda a API.</span><span class="sxs-lookup"><span data-stu-id="96c9a-105">Currently there is no difference between the `2016-09-01` version documented on [MSDN](http://msdn.microsoft.com/library/azure/mt183328.aspx) and the `2015-02-28-Preview` version described here, but we offer this document anyway in order to provide document coverage across the entire API.</span></span>
>
>

## <a name="overview"></a><span data-ttu-id="96c9a-106">Visão geral</span><span class="sxs-lookup"><span data-stu-id="96c9a-106">Overview</span></span>
<span data-ttu-id="96c9a-107">A pontuação refere-se ao cálculo de um resultado de pesquisa para cada item retornado nos resultados de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="96c9a-107">Scoring refers to the computation of a search score for every item returned in search results.</span></span> <span data-ttu-id="96c9a-108">A pontuação é um indicador de relevância de um item no contexto da operação de pesquisa atual.</span><span class="sxs-lookup"><span data-stu-id="96c9a-108">The score is an indicator of an item's relevance in the context of the current search operation.</span></span> <span data-ttu-id="96c9a-109">Quanto maior a pontuação, mais relevante será o item.</span><span class="sxs-lookup"><span data-stu-id="96c9a-109">The higher the score, the more relevant the item.</span></span> <span data-ttu-id="96c9a-110">Nos resultados de pesquisa, os itens são classificados na ordem de alto para baixo, com base na pontuação de pesquisa calculada para cada item.</span><span class="sxs-lookup"><span data-stu-id="96c9a-110">In search results, items are rank ordered from high to low, based on the search score calculated for each item.</span></span>

<span data-ttu-id="96c9a-111">O Azure Search usa a pontuação padrão para calcular uma pontuação inicial, mas você pode personalizar o cálculo com um perfil de pontuação.</span><span class="sxs-lookup"><span data-stu-id="96c9a-111">Azure Search uses default scoring to compute an initial score, but you can customize the calculation through a scoring profile.</span></span> <span data-ttu-id="96c9a-112">Os perfis de pontuação oferecem maior controle sobre a classificação de itens nos resultados da pesquisa.</span><span class="sxs-lookup"><span data-stu-id="96c9a-112">Scoring profiles give you greater control over the ranking of items in search results.</span></span> <span data-ttu-id="96c9a-113">Por exemplo, convém aumentar itens com base em seu potencial de receita, promover itens mais recentes ou talvez aumentar itens que estejam no inventário há muito tempo.</span><span class="sxs-lookup"><span data-stu-id="96c9a-113">For example, you might want to boost items based on their revenue potential, promote newer items, or perhaps boost items that have been in inventory too long.</span></span>

<span data-ttu-id="96c9a-114">Um perfil de pontuação faz parte da definição de índice, composta de campos, funções e parâmetros.</span><span class="sxs-lookup"><span data-stu-id="96c9a-114">A scoring profile is part of the index definition, composed of fields, functions, and parameters.</span></span>

<span data-ttu-id="96c9a-115">Para dar uma ideia da aparência de um perfil de pontuação, o exemplo a seguir mostra um perfil simples chamado 'geo'.</span><span class="sxs-lookup"><span data-stu-id="96c9a-115">To give you an idea of what a scoring profile looks like, the following example shows a simple profile named 'geo'.</span></span> <span data-ttu-id="96c9a-116">Ele aumenta a itens que têm o termo de pesquisa no campo `hotelName` .</span><span class="sxs-lookup"><span data-stu-id="96c9a-116">This one boosts items that have the search term in the `hotelName` field.</span></span> <span data-ttu-id="96c9a-117">Ele também usa a função `distance` para favorecer itens que estão em um raio de dez quilômetros do local atual.</span><span class="sxs-lookup"><span data-stu-id="96c9a-117">It also uses the `distance` function to favor items that are within ten kilometers of the current location.</span></span> <span data-ttu-id="96c9a-118">Se alguém pesquisar o termo 'estalagem', e 'estalagem' fizer parte do nome do hotel, documentos que incluem hotéis com 'estalagem' aparecerão em posição mais alta nos resultados de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="96c9a-118">If someone searches on the term 'inn', and 'inn' happens to be part of the hotel name, documents that include hotels with 'inn' will appear higher in the search results.</span></span>

    "scoringProfiles": [
      {
        "name": "geo",
        "text": {
          "weights": { "hotelName": 5 }
        },
        "functions": [
          {
            "type": "distance",
            "boost": 5,
            "fieldName": "location",
            "interpolation": "logarithmic",
            "distance": {
              "referencePointParameter": "currentLocation",
              "boostingDistance": 10
            }
          }
        ]
      }
    ]

<span data-ttu-id="96c9a-119">Para usar esse perfil de pontuação, sua consulta é formulada para especificar o perfil na cadeia de caracteres de consulta.</span><span class="sxs-lookup"><span data-stu-id="96c9a-119">To use this scoring profile, your query is formulated to specify the profile on the query string.</span></span> <span data-ttu-id="96c9a-120">Na consulta a seguir, observe o parâmetro de consulta `scoringProfile=geo` na solicitação.</span><span class="sxs-lookup"><span data-stu-id="96c9a-120">In the query below, notice the query parameter, `scoringProfile=geo` in the request.</span></span>

    GET /indexes/hotels/docs?search=inn&scoringProfile=geo&scoringParameter=currentLocation--122.123,44.77233&api-version=2015-02-28-Preview

<span data-ttu-id="96c9a-121">Essa consulta pesquisa o termo 'estalagem' e passa o local atual.</span><span class="sxs-lookup"><span data-stu-id="96c9a-121">This query searches on the term 'inn' and passes in the current location.</span></span> <span data-ttu-id="96c9a-122">Observe que essa consulta inclui outros parâmetros, como `scoringParameter`.</span><span class="sxs-lookup"><span data-stu-id="96c9a-122">Note that this query includes other parameters, such as `scoringParameter`.</span></span> <span data-ttu-id="96c9a-123">Os parâmetros de consulta são descritos em [Pesquisar documentos (API do Azure Search)](search-api-2015-02-28-preview.md#SearchDocs).</span><span class="sxs-lookup"><span data-stu-id="96c9a-123">Query parameters are described in [Search Documents (Azure Search API)](search-api-2015-02-28-preview.md#SearchDocs).</span></span>

<span data-ttu-id="96c9a-124">Clique em [Exemplo](#example) para examinar um exemplo mais detalhado de um perfil de pontuação.</span><span class="sxs-lookup"><span data-stu-id="96c9a-124">Click [Example](#example) to review a more detailed example of a scoring profile.</span></span>

## <a name="what-is-default-scoring"></a><span data-ttu-id="96c9a-125">O que é a pontuação padrão?</span><span class="sxs-lookup"><span data-stu-id="96c9a-125">What is default scoring?</span></span>
<span data-ttu-id="96c9a-126">A pontuação calcula um resultado de pesquisa para cada item em um conjunto de resultados ordenados por classificação.</span><span class="sxs-lookup"><span data-stu-id="96c9a-126">Scoring computes a search score for each item in a rank ordered result set.</span></span> <span data-ttu-id="96c9a-127">É atribuída uma pontuação de pesquisa a cada item em um conjunto de resultados de pesquisa, e depois eles são classificados do mais alto para o mais baixo.</span><span class="sxs-lookup"><span data-stu-id="96c9a-127">Every item in a search result set is assigned a search score, then ranked highest to lowest.</span></span> <span data-ttu-id="96c9a-128">Os itens com as pontuações mais altas são retornados para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="96c9a-128">Items with the higher scores are returned to the application.</span></span> <span data-ttu-id="96c9a-129">Por padrão, os 50 primeiros são retornados, mas você pode usar o parâmetro `$top` para retornar um número maior ou menor de itens (até 1000 em uma única resposta).</span><span class="sxs-lookup"><span data-stu-id="96c9a-129">By default, the top 50 are returned, but you can use the `$top` parameter to return a smaller or larger number of items (up to 1000 in a single response).</span></span>

<span data-ttu-id="96c9a-130">Por padrão, uma pontuação de pesquisa é calculada com base nas propriedades estatísticas dos dados e da consulta.</span><span class="sxs-lookup"><span data-stu-id="96c9a-130">By default, a search score is computed based on statistical properties of the data and the query.</span></span> <span data-ttu-id="96c9a-131">O Azure Search localiza documentos que incluem os termos de pesquisa na cadeia de caracteres de consulta (alguns deles ou todos, dependendo do `searchMode`), favorecendo documentos que contêm muitas instâncias do termo de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="96c9a-131">Azure Search finds documents that include the search terms in the query string (some or all, depending on `searchMode`), favoring documents that contain many instances of the search term.</span></span> <span data-ttu-id="96c9a-132">A pontuação de pesquisa aumentará ainda mais se o termo for raro no corpus de dados, mas comum no documento.</span><span class="sxs-lookup"><span data-stu-id="96c9a-132">The search score goes up even higher if the term is rare across the data corpus, but common within the document.</span></span> <span data-ttu-id="96c9a-133">A base para essa abordagem de cálculo de relevância é conhecida como TF-IDF (ou frequência do termo ‒ frequência inversa do documento).</span><span class="sxs-lookup"><span data-stu-id="96c9a-133">The basis for this approach to computing relevance is known as TF-IDF or (term frequency-inverse document frequency).</span></span>

<span data-ttu-id="96c9a-134">Supondo que não haja uma classificação personalizada, os resultados são então classificados pela pontuação de pesquisa antes de serem retornados ao aplicativo que fez a chamada.</span><span class="sxs-lookup"><span data-stu-id="96c9a-134">Assuming there is no custom sorting, results are then ranked by search score before they are returned to the calling application.</span></span> <span data-ttu-id="96c9a-135">Se `$top` não for especificado, 50 itens com a pontuação de pesquisa mais alta serão retornados.</span><span class="sxs-lookup"><span data-stu-id="96c9a-135">If `$top` is not specified, 50 items having the highest search score are returned.</span></span>

<span data-ttu-id="96c9a-136">Os valores de pontuação de pesquisa podem ser repetidos em todo um conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="96c9a-136">Search score values can be repeated throughout a result set.</span></span> <span data-ttu-id="96c9a-137">Por exemplo, você pode ter 10 itens com uma pontuação de 1,2, 20 itens com uma pontuação de 1,0 e 20 itens com uma pontuação de 0,5.</span><span class="sxs-lookup"><span data-stu-id="96c9a-137">For example, you might have 10 items with a score of 1.2, 20 items with a score of 1.0, and 20 items with a score of 0.5.</span></span> <span data-ttu-id="96c9a-138">Quando várias ocorrências têm a mesma pontuação de pesquisa, a ordenação dos mesmos itens pontuados não é definida e não é estável.</span><span class="sxs-lookup"><span data-stu-id="96c9a-138">When multiple hits have the same search score, the ordering of same scored items is not defined, and is not stable.</span></span> <span data-ttu-id="96c9a-139">Execute a consulta novamente, e você poderá ver itens mudando de posição.</span><span class="sxs-lookup"><span data-stu-id="96c9a-139">Run the query again, and you might see items shift position.</span></span> <span data-ttu-id="96c9a-140">Se houver dois itens com uma pontuação idêntica, não há garantia de qual deles aparecerá primeiro.</span><span class="sxs-lookup"><span data-stu-id="96c9a-140">Given two items with an identical score, there is no guarantee which one appears first.</span></span>

## <a name="when-to-use-custom-scoring"></a><span data-ttu-id="96c9a-141">Quando usar a pontuação personalizado</span><span class="sxs-lookup"><span data-stu-id="96c9a-141">When to use custom scoring</span></span>
<span data-ttu-id="96c9a-142">Você deve criar um ou mais perfis de pontuação quando o comportamento de classificação padrão não é suficiente para atender a seus objetivos de negócios.</span><span class="sxs-lookup"><span data-stu-id="96c9a-142">You should create one or more scoring profiles when the default ranking behavior doesn’t go far enough in meeting your business objectives.</span></span> <span data-ttu-id="96c9a-143">Por exemplo, você pode decidir que a relevância de pesquisa deve favorecer itens adicionados recentemente.</span><span class="sxs-lookup"><span data-stu-id="96c9a-143">For example, you might decide that search relevance should favor newly added items.</span></span> <span data-ttu-id="96c9a-144">Da mesma forma, você pode ter um campo que contenha a margem de lucro ou algum outro campo indicando o potencial de receita.</span><span class="sxs-lookup"><span data-stu-id="96c9a-144">Likewise, you might have a field that contains profit margin, or some other field indicating revenue potential.</span></span> <span data-ttu-id="96c9a-145">Aumentar as ocorrências que trazem benefícios para sua empresa pode ser um fator importante na decisão de usar perfis de pontuação.</span><span class="sxs-lookup"><span data-stu-id="96c9a-145">Boosting hits that bring benefits to your business can be an important factor in deciding to use scoring profiles.</span></span>

<span data-ttu-id="96c9a-146">A ordenação com base em relevância também é implementada por meio de perfis de pontuação.</span><span class="sxs-lookup"><span data-stu-id="96c9a-146">Relevancy-based ordering is also implemented through scoring profiles.</span></span> <span data-ttu-id="96c9a-147">Considere páginas de resultados de pesquisa que você usou no passado e que lhe permitem classificar por preço, data, classificação ou relevância.</span><span class="sxs-lookup"><span data-stu-id="96c9a-147">Consider search results pages you’ve used in the past that let you sort by price, date, rating, or relevance.</span></span> <span data-ttu-id="96c9a-148">No Azure Search, perfis de pontuação usam a opção 'relevância'.</span><span class="sxs-lookup"><span data-stu-id="96c9a-148">In Azure Search, scoring profiles drive the 'relevance' option.</span></span> <span data-ttu-id="96c9a-149">A definição de relevância é controlada por você, de acordo com objetivos de negócios e com o tipo de experiência de pesquisa que você deseja fornecer.</span><span class="sxs-lookup"><span data-stu-id="96c9a-149">The definition of relevance is controlled by you, predicated on business objectives and the type of search experience you want to deliver.</span></span>

<a name="example"></a>

## <a name="example"></a><span data-ttu-id="96c9a-150">Exemplo</span><span class="sxs-lookup"><span data-stu-id="96c9a-150">Example</span></span>
<span data-ttu-id="96c9a-151">Como observado, a pontuação personalizada é implementada por meio de perfis de pontuação definidos em um esquema de índice.</span><span class="sxs-lookup"><span data-stu-id="96c9a-151">As noted, customized scoring is implemented through scoring profiles defined in an index schema.</span></span>

<span data-ttu-id="96c9a-152">Este exemplo mostra o esquema de um índice com dois perfis de pontuação (`boostGenre`, `newAndHighlyRated`).</span><span class="sxs-lookup"><span data-stu-id="96c9a-152">This example shows the schema of an index with two scoring profiles (`boostGenre`, `newAndHighlyRated`).</span></span> <span data-ttu-id="96c9a-153">Qualquer consulta em relação a esse índice que inclua um dos perfis como um parâmetro de consulta usará o perfil para pontuar o conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="96c9a-153">Any query against this index that includes either profile as a query parameter will use the profile to score the result set.</span></span>

    {
      "name": "musicstoreindex",
      "fields": [
        { "name": "key", "type": "Edm.String", "key": true },
        { "name": "albumTitle", "type": "Edm.String" },
        { "name": "albumUrl", "type": "Edm.String", "filterable": false },
        { "name": "genre", "type": "Edm.String" },
        { "name": "genreDescription", "type": "Edm.String", "filterable": false },
        { "name": "artistName", "type": "Edm.String" },
        { "name": "orderableOnline", "type": "Edm.Boolean" },
        { "name": "rating", "type": "Edm.Int32" },
        { "name": "tags", "type": "Collection(Edm.String)" },
        { "name": "price", "type": "Edm.Double", "filterable": false },
        { "name": "margin", "type": "Edm.Int32", "retrievable": false },
        { "name": "inventory", "type": "Edm.Int32" },
        { "name": "lastUpdated", "type": "Edm.DateTimeOffset" }
      ],
      "scoringProfiles": [
        {
          "name": "boostGenre",
          "text": {
            "weights": {
              "albumTitle": 1.5,
              "genre": 5,
              "artistName": 2
            }
          }
        },
        {
          "name": "newAndHighlyRated",
          "functions": [
            {
              "type": "freshness",
              "fieldName": "lastUpdated",
              "boost": 10,
              "interpolation": "quadratic",
              "freshness": {
                "boostingDuration": "P365D"
              }
            },
            {
              "type": "magnitude",
              "fieldName": "rating",
              "boost": 10,
              "interpolation": "linear",
              "magnitude": {
                "boostingRangeStart": 1,
                "boostingRangeEnd": 5,
                "constantBoostBeyondRange": false
              }
            }
          ]
        }
      ],
      "suggesters": [
        {
          "name": "sg",
          "searchMode": "analyzingInfixMatching",
          "sourceFields": ["albumTitle", "artistName"]
        }
      ]
    }


## <a name="workflow"></a><span data-ttu-id="96c9a-154">Fluxo de trabalho</span><span class="sxs-lookup"><span data-stu-id="96c9a-154">Workflow</span></span>
<span data-ttu-id="96c9a-155">Para implementar um comportamento personalizado de pontuação, adicione um perfil de pontuação ao esquema que define o índice.</span><span class="sxs-lookup"><span data-stu-id="96c9a-155">To implement custom scoring behavior, add a scoring profile to the schema that defines the index.</span></span> <span data-ttu-id="96c9a-156">Você pode ter vários até 16 perfis de pontuação em um índice (consulte [Limites de serviço](search-limits-quotas-capacity.md)), mas é possível especificar somente um perfil de cada vez em qualquer consulta específica.</span><span class="sxs-lookup"><span data-stu-id="96c9a-156">You can have up to 16 scoring profiles within an index (see [Service Limits](search-limits-quotas-capacity.md)), but you can only specify one profile at time in any given query.</span></span>

<span data-ttu-id="96c9a-157">Comece com o [Modelo](#bkmk_template) fornecido neste tópico.</span><span class="sxs-lookup"><span data-stu-id="96c9a-157">Start with the [Template](#bkmk_template) provided in this topic.</span></span>

<span data-ttu-id="96c9a-158">Forneça um nome.</span><span class="sxs-lookup"><span data-stu-id="96c9a-158">Provide a name.</span></span> <span data-ttu-id="96c9a-159">Os perfis de pontuação são opcionais, mas se você adicionar um, o nome será obrigatório.</span><span class="sxs-lookup"><span data-stu-id="96c9a-159">Scoring profiles are optional, but if you add one, the name is required.</span></span> <span data-ttu-id="96c9a-160">Siga as convenções de nomenclatura para os campos (começa com uma letra, evita caracteres especiais e palavras reservadas).</span><span class="sxs-lookup"><span data-stu-id="96c9a-160">Be sure to follow the naming conventions for fields (starts with a letter, avoids special characters and reserved words).</span></span> <span data-ttu-id="96c9a-161">Consulte [Regras de nomenclatura](http://msdn.microsoft.com/library/azure/dn857353.aspx) para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="96c9a-161">See [Naming Rules](http://msdn.microsoft.com/library/azure/dn857353.aspx) for more information.</span></span>

<span data-ttu-id="96c9a-162">O corpo do perfil de pontuação é criado com campos ponderados e funções.</span><span class="sxs-lookup"><span data-stu-id="96c9a-162">The body of the scoring profile is constructed from weighted fields and functions.</span></span>

### <a name="weights"></a><span data-ttu-id="96c9a-163">Pesos</span><span class="sxs-lookup"><span data-stu-id="96c9a-163">Weights</span></span>
<span data-ttu-id="96c9a-164">A propriedade `weights` de um perfil de pontuação especifica os pares de nome-valor que atribuem um peso relativo a um campo.</span><span class="sxs-lookup"><span data-stu-id="96c9a-164">The `weights` property of a scoring profile specifies name-value pairs that assign a relative weight to a field.</span></span> <span data-ttu-id="96c9a-165">No [Exemplo](#example), os campos albumTitle, gênero e artistName são aumentados em 1,5, 5 e 2, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="96c9a-165">In the [Example](#example), the albumTitle, genre, and artistName fields are boosted 1.5, 5, and 2, respectively.</span></span> <span data-ttu-id="96c9a-166">Por que o campo gênero aumentou muito mais do que os outros?</span><span class="sxs-lookup"><span data-stu-id="96c9a-166">Why is genre boosted so much higher than the others?</span></span> <span data-ttu-id="96c9a-167">Se a pesquisa for realizada com dados que são um pouco homogêneos (como é o caso de 'gênero' em `musicstoreindex`), talvez seja necessária uma variação maior nos pesos relativos.</span><span class="sxs-lookup"><span data-stu-id="96c9a-167">If search is conducted over data that is somewhat homogeneous (as is the case with 'genre' in the `musicstoreindex`), you might need a larger variance in the relative weights.</span></span> <span data-ttu-id="96c9a-168">Por exemplo, em `musicstoreindex`, 'rock' é exibido como um gênero e em descrições de gênero escritas de forma idêntica.</span><span class="sxs-lookup"><span data-stu-id="96c9a-168">For example, in the `musicstoreindex`, 'rock' appears as both a genre and in identically phrased genre descriptions.</span></span> <span data-ttu-id="96c9a-169">Se você quiser que gênero tenha um peso maior do que a descrição do gênero, o campo gênero precisará ter um peso relativo muito mais alto.</span><span class="sxs-lookup"><span data-stu-id="96c9a-169">If you want genre to outweigh genre description, the genre field will need a much higher relative weight.</span></span>

### <a name="functions"></a><span data-ttu-id="96c9a-170">Funções</span><span class="sxs-lookup"><span data-stu-id="96c9a-170">Functions</span></span>
<span data-ttu-id="96c9a-171">As funções são usadas quando cálculos adicionais são necessários para contextos específicos.</span><span class="sxs-lookup"><span data-stu-id="96c9a-171">Functions are used when additional calculations are required for specific contexts.</span></span> <span data-ttu-id="96c9a-172">Os tipos de função válidos são `freshness`, `magnitude`, `distance` e `tag`.</span><span class="sxs-lookup"><span data-stu-id="96c9a-172">Valid function types are `freshness`, `magnitude`, `distance` and `tag`.</span></span> <span data-ttu-id="96c9a-173">Cada função tem parâmetros que são exclusivos.</span><span class="sxs-lookup"><span data-stu-id="96c9a-173">Each function has parameters that are unique to it.</span></span>

* <span data-ttu-id="96c9a-174">`freshness` deve ser usado quando você deseja aumentar de acordo com o quão novo ou antigo um item é.</span><span class="sxs-lookup"><span data-stu-id="96c9a-174">`freshness` should be used when you want to boost by how new or old an item is.</span></span> <span data-ttu-id="96c9a-175">Essa função só pode ser usada com campos datetime (`Edm.DataTimeOffset`).</span><span class="sxs-lookup"><span data-stu-id="96c9a-175">This function can only be used with datetime fields (`Edm.DataTimeOffset`).</span></span> <span data-ttu-id="96c9a-176">Observe que o atributo `boostingDuration` é usado apenas com a função de atualização.</span><span class="sxs-lookup"><span data-stu-id="96c9a-176">Note the `boostingDuration` attribute is used only with the freshness function.</span></span>
* <span data-ttu-id="96c9a-177">`magnitude` deve ser usado quando você deseja aumentar de acordo com o quão alto ou baixo um valor numérico é.</span><span class="sxs-lookup"><span data-stu-id="96c9a-177">`magnitude` should be used when you want to boost based on how high or low a numeric value is.</span></span> <span data-ttu-id="96c9a-178">Cenários que exigem essa função incluem aumentar de acordo com a margem de lucro, maior preço, menor preço ou uma contagem de downloads.</span><span class="sxs-lookup"><span data-stu-id="96c9a-178">Scenarios that call for this function include boosting by profit margin, highest price, lowest price, or a count of downloads.</span></span> <span data-ttu-id="96c9a-179">Você poderá reverter o intervalo de alto para baixo, se desejar o padrão inverso (por exemplo, para aumentar itens com preço inferior mais do que os itens com preço superior).</span><span class="sxs-lookup"><span data-stu-id="96c9a-179">You can reverse the range, high to low, if you want the inverse pattern (for example, to boost lower-priced items more than higher-priced items).</span></span> <span data-ttu-id="96c9a-180">Com um intervalo de preços de $100 a $1, você definiria `boostingRangeStart` como 100 e `boostingRangeEnd` como 1 para aumentar os itens com preço inferior.</span><span class="sxs-lookup"><span data-stu-id="96c9a-180">Given a range of prices from $100 to $1, you would set `boostingRangeStart` at 100 and `boostingRangeEnd` at 1 to boost the lower-priced items.</span></span> <span data-ttu-id="96c9a-181">Essa função só pode ser usada com campos duplo e inteiro.</span><span class="sxs-lookup"><span data-stu-id="96c9a-181">This function can only be used with double and integer fields.</span></span>
* <span data-ttu-id="96c9a-182">`distance` deve ser usado quando você desejar aumentar de acordo com a proximidade ou a localização geográfica.</span><span class="sxs-lookup"><span data-stu-id="96c9a-182">`distance` should be used when you want to boost by proximity or geographic location.</span></span> <span data-ttu-id="96c9a-183">Essa função só pode ser usada com campos `Edm.GeographyPoint` .</span><span class="sxs-lookup"><span data-stu-id="96c9a-183">This function can only be used with `Edm.GeographyPoint` fields.</span></span>
* <span data-ttu-id="96c9a-184">`tag` deve ser usado quando você desejar aumentar de acordo com as marcações em comum entre os documentos e as consultas de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="96c9a-184">`tag` should be used when you want to boost by tags in common between documents and search queries.</span></span> <span data-ttu-id="96c9a-185">Essa função só pode ser usada com campos `Edm.String` e `Collection(Edm.String)`.</span><span class="sxs-lookup"><span data-stu-id="96c9a-185">This function can only be used with `Edm.String` and `Collection(Edm.String)` fields.</span></span>

#### <a name="rules-for-using-functions"></a><span data-ttu-id="96c9a-186">Regras para o uso de funções</span><span class="sxs-lookup"><span data-stu-id="96c9a-186">Rules for using functions</span></span>
* <span data-ttu-id="96c9a-187">O tipo de função (freshness, magnitude, distance, tag) deve estar em minúsculas.</span><span class="sxs-lookup"><span data-stu-id="96c9a-187">Function type (freshness, magnitude, distance, tag) must be lower case.</span></span>
* <span data-ttu-id="96c9a-188">As funções não podem incluir valores nulos ou vazios.</span><span class="sxs-lookup"><span data-stu-id="96c9a-188">Functions cannot include null or empty values.</span></span> <span data-ttu-id="96c9a-189">Especificamente, se incluir o nome do campo, você precisará defini-lo como algo.</span><span class="sxs-lookup"><span data-stu-id="96c9a-189">Specifically, if you include fieldname, you have to set it to something.</span></span>
* <span data-ttu-id="96c9a-190">As funções só podem ser aplicadas a campos filtráveis.</span><span class="sxs-lookup"><span data-stu-id="96c9a-190">Functions can only be applied to filterable fields.</span></span> <span data-ttu-id="96c9a-191">Consulte [Criar índice](search-api-2015-02-28-preview.md#CreateIndex) para obter mais informações sobre campos filtráveis.</span><span class="sxs-lookup"><span data-stu-id="96c9a-191">See [Create Index](search-api-2015-02-28-preview.md#CreateIndex) for more information about filterable fields.</span></span>
* <span data-ttu-id="96c9a-192">As funções só podem ser aplicadas a campos que são definidos na coleção de campos de um índice.</span><span class="sxs-lookup"><span data-stu-id="96c9a-192">Functions can only be applied to fields that are defined in the fields collection of an index.</span></span>

<span data-ttu-id="96c9a-193">Depois que o índice for definido, crie o índice carregando o esquema de índice, seguido de documentos.</span><span class="sxs-lookup"><span data-stu-id="96c9a-193">After the index is defined, build the index by uploading the index schema, followed by documents.</span></span> <span data-ttu-id="96c9a-194">Consulte [Criar índice](search-api-2015-02-28-preview.md#CreateIndex) e [Adicionar ou atualizar documentos](search-api-2015-02-28-preview.md#AddOrUpdateDocuments) para obter instruções sobre essas operações.</span><span class="sxs-lookup"><span data-stu-id="96c9a-194">See [Create Index](search-api-2015-02-28-preview.md#CreateIndex) and [Add or Update Documents](search-api-2015-02-28-preview.md#AddOrUpdateDocuments) for instructions on these operations.</span></span> <span data-ttu-id="96c9a-195">Depois que o índice for criado, você deverá ter um perfil de pontuação funcional que funciona com seus dados de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="96c9a-195">Once the index is built, you should have a functional scoring profile that works with your search data.</span></span>

<a name="bkmk_template"></a>

## <a name="template"></a><span data-ttu-id="96c9a-196">Modelo</span><span class="sxs-lookup"><span data-stu-id="96c9a-196">Template</span></span>
<span data-ttu-id="96c9a-197">Esta seção mostra a sintaxe e o modelo para perfis de pontuação.</span><span class="sxs-lookup"><span data-stu-id="96c9a-197">This section shows the syntax and template for scoring profiles.</span></span> <span data-ttu-id="96c9a-198">Consulte [Referência de atributos de índice](#bkmk_indexref) na próxima seção para obter descrições dos atributos.</span><span class="sxs-lookup"><span data-stu-id="96c9a-198">Refer to [Index attribute reference](#bkmk_indexref) in the next section for descriptions of the attributes.</span></span>

    ...
    "scoringProfiles": [
      {
        "name": "name of scoring profile",
        "text": (optional, only applies to searchable fields) {
          "weights": {
            "searchable_field_name": relative_weight_value (positive #'s),
            ...
          }
        },
        "functions": (optional) [
          {
            "type": "magnitude | freshness | distance | tag",
            "boost": # (positive number used as multiplier for raw score != 1),
            "fieldName": "...",
            "interpolation": "constant | linear (default) | quadratic | logarithmic",

            "magnitude": {
              "boostingRangeStart": #,
              "boostingRangeEnd": #,
              "constantBoostBeyondRange": true | false (default)
            }

            // (- or -)

            "freshness": {
              "boostingDuration": "..." (value representing timespan over which boosting occurs)
            }

            // (- or -)

            "distance": {
              "referencePointParameter": "...", (parameter to be passed in queries to use as reference location)
              "boostingDistance": # (the distance in kilometers from the reference location where the boosting range ends)
            }

            // (- or -)

            "tag": {
              "tagsParameter": "..." (parameter to be passed in queries to specify list of tags to compare against target field)
            }
          }
        ],
        "functionAggregation": (optional, applies only when functions are specified)
            "sum (default) | average | minimum | maximum | firstMatching"
      }
    ],
    "defaultScoringProfile": (optional) "...",
    ...

<a name="bkmk_indexref"></a>

## <a name="scoring-profile-property-reference"></a><span data-ttu-id="96c9a-199">Referência de propriedades de perfil de pontuação</span><span class="sxs-lookup"><span data-stu-id="96c9a-199">Scoring profile property reference</span></span>
> [!NOTE]
> <span data-ttu-id="96c9a-200">Uma função de pontuação somente pode ser aplicada a campos filtráveis.</span><span class="sxs-lookup"><span data-stu-id="96c9a-200">A scoring function can only be applied to fields that are filterable.</span></span>
>
>

| <span data-ttu-id="96c9a-201">Propriedade</span><span class="sxs-lookup"><span data-stu-id="96c9a-201">Property</span></span> | <span data-ttu-id="96c9a-202">Descrição</span><span class="sxs-lookup"><span data-stu-id="96c9a-202">Description</span></span> |
| --- | --- |
| `name` |<span data-ttu-id="96c9a-203">Obrigatório.</span><span class="sxs-lookup"><span data-stu-id="96c9a-203">Required.</span></span> <span data-ttu-id="96c9a-204">Esse é o nome do perfil de pontuação.</span><span class="sxs-lookup"><span data-stu-id="96c9a-204">This is the name of the scoring profile.</span></span> <span data-ttu-id="96c9a-205">Ele segue as mesmas convenções de nomenclatura que os campos.</span><span class="sxs-lookup"><span data-stu-id="96c9a-205">It follows the same naming conventions of a field.</span></span> <span data-ttu-id="96c9a-206">Ele deve começar com uma letra, não pode conter pontos, dois-pontos ou símbolos @ e não pode se iniciar com a frase 'azureSearch' (diferencia maiúsculas de minúsculas).</span><span class="sxs-lookup"><span data-stu-id="96c9a-206">It must start with a letter, cannot contain dots, colons or @ symbols, and cannot start with the phrase "azureSearch" (case-sensitive).</span></span> |
| `text` |<span data-ttu-id="96c9a-207">Contém a propriedade Pesos.</span><span class="sxs-lookup"><span data-stu-id="96c9a-207">Contains the Weights property.</span></span> |
| `weights` |<span data-ttu-id="96c9a-208">Opcional.</span><span class="sxs-lookup"><span data-stu-id="96c9a-208">Optional.</span></span> <span data-ttu-id="96c9a-209">Um par de nome-valor que especifica um nome de campo e o peso relativo.</span><span class="sxs-lookup"><span data-stu-id="96c9a-209">A name-value pair that specifies a field name and relative weight.</span></span> <span data-ttu-id="96c9a-210">O peso relativo deve ser um inteiro positivo ou o número de ponto flutuante.</span><span class="sxs-lookup"><span data-stu-id="96c9a-210">Relative weight must be a positive integer or floating-point number.</span></span> <span data-ttu-id="96c9a-211">Você pode especificar o nome do campo sem um peso correspondente.</span><span class="sxs-lookup"><span data-stu-id="96c9a-211">You can specify the field name without a corresponding weight.</span></span> <span data-ttu-id="96c9a-212">Os pesos são usados para indicar a importância de um campo em relação aos outros.</span><span class="sxs-lookup"><span data-stu-id="96c9a-212">Weights are used to indicate the importance of one field relative to another.</span></span> |
| `functions` |<span data-ttu-id="96c9a-213">Opcional.</span><span class="sxs-lookup"><span data-stu-id="96c9a-213">Optional.</span></span> <span data-ttu-id="96c9a-214">Observe que uma função de pontuação só pode ser aplicada a campos filtráveis.</span><span class="sxs-lookup"><span data-stu-id="96c9a-214">Note that a scoring function can only be applied to fields that are filterable.</span></span> |
| `type` |<span data-ttu-id="96c9a-215">Necessário para funções de pontuação.</span><span class="sxs-lookup"><span data-stu-id="96c9a-215">Required for scoring functions.</span></span> <span data-ttu-id="96c9a-216">Indica o tipo de função a ser usada.</span><span class="sxs-lookup"><span data-stu-id="96c9a-216">Indicates the type of function to use.</span></span> <span data-ttu-id="96c9a-217">Os valores válidos incluem `magnitude`, `freshness`, `distance` e `tag`.</span><span class="sxs-lookup"><span data-stu-id="96c9a-217">Valid values include `magnitude`, `freshness`, `distance` and `tag`.</span></span> <span data-ttu-id="96c9a-218">Você pode incluir mais de uma função em cada perfil de pontuação.</span><span class="sxs-lookup"><span data-stu-id="96c9a-218">You can include more than one function in each scoring profile.</span></span> <span data-ttu-id="96c9a-219">O nome da função deve estar em letras minúsculas.</span><span class="sxs-lookup"><span data-stu-id="96c9a-219">The function name must be lower case.</span></span> |
| `boost` |<span data-ttu-id="96c9a-220">Necessário para funções de pontuação.</span><span class="sxs-lookup"><span data-stu-id="96c9a-220">Required for scoring functions.</span></span> <span data-ttu-id="96c9a-221">Um número positivo usado como multiplicador para pontuação bruta.</span><span class="sxs-lookup"><span data-stu-id="96c9a-221">A positive number used as multiplier for raw score.</span></span> <span data-ttu-id="96c9a-222">Não pode ser igual a 1.</span><span class="sxs-lookup"><span data-stu-id="96c9a-222">It cannot be equal to 1.</span></span> |
| `fieldName` |<span data-ttu-id="96c9a-223">Necessário para funções de pontuação.</span><span class="sxs-lookup"><span data-stu-id="96c9a-223">Required for scoring functions.</span></span> <span data-ttu-id="96c9a-224">Uma função de pontuação só pode ser aplicada a campos que fazem parte da coleção de campos do índice e que são filtráveis.</span><span class="sxs-lookup"><span data-stu-id="96c9a-224">A scoring function can only be applied to fields that are part of the field collection of the index, and that are filterable.</span></span> <span data-ttu-id="96c9a-225">Além disso, cada tipo de função introduz restrições adicionais (a atualização é usada com campos datetime, a magnitude com campos de inteiro ou duplo, a distância com campos de local e a marca com campos de cadeia de caracteres ou coleção de cadeias de caracteres).</span><span class="sxs-lookup"><span data-stu-id="96c9a-225">In addition, each function type introduces additional restrictions (freshness is used with datetime fields, magnitude with integer or double fields, distance with location fields and tag with string or string collection fields).</span></span> <span data-ttu-id="96c9a-226">Você só pode especificar um único campo por definição de função.</span><span class="sxs-lookup"><span data-stu-id="96c9a-226">You can only specify a single field per function definition.</span></span> <span data-ttu-id="96c9a-227">Por exemplo, para usar a magnitude duas vezes no mesmo perfil, você precisaria incluir duas definições de magnitude, uma para cada campo.</span><span class="sxs-lookup"><span data-stu-id="96c9a-227">For example, to use magnitude twice in the same profile, you would need to include two definitions magnitude, one for each field.</span></span> |
| `interpolation` |<span data-ttu-id="96c9a-228">Necessário para funções de pontuação.</span><span class="sxs-lookup"><span data-stu-id="96c9a-228">Required for scoring functions.</span></span> <span data-ttu-id="96c9a-229">Define a inclinação para a qual o aumento de pontuação ocorre, do início ao fim do intervalo.</span><span class="sxs-lookup"><span data-stu-id="96c9a-229">Defines the slope for which the score boosting increases from the start of the range to the end of the range.</span></span> <span data-ttu-id="96c9a-230">Os valores válidos incluem `linear` (padrão), `constant`, `quadratic` e `logarithmic`.</span><span class="sxs-lookup"><span data-stu-id="96c9a-230">Valid values include `linear` (default), `constant`, `quadratic`, and `logarithmic`.</span></span> <span data-ttu-id="96c9a-231">Confira [Set interpolations](#bkmk_interpolation) (Definir interpolações) para obter detalhes.</span><span class="sxs-lookup"><span data-stu-id="96c9a-231">See [Set interpolations](#bkmk_interpolation) for details.</span></span> |
| `magnitude` |<span data-ttu-id="96c9a-232">A função de pontuação magnitude é usada para alterar a classificação com base no intervalo de valores de um campo numérico.</span><span class="sxs-lookup"><span data-stu-id="96c9a-232">The magnitude scoring function is used to alter rankings based on the range of values for a numeric field.</span></span> <span data-ttu-id="96c9a-233">Alguns dos exemplos de uso mais comuns disso são:</span><span class="sxs-lookup"><span data-stu-id="96c9a-233">Some of the most common usage examples of this are:</span></span><ul><li><span data-ttu-id="96c9a-234">classificações por estrelas: alterar a pontuação com base no valor do campo "Classificação por estrelas".</span><span class="sxs-lookup"><span data-stu-id="96c9a-234">Star ratings: Alter the scoring based on the value within the "Star Rating" field.</span></span> <span data-ttu-id="96c9a-235">Quando dois itens forem relevantes, o item com a classificação mais alta será exibido primeiro.</span><span class="sxs-lookup"><span data-stu-id="96c9a-235">When two items are relevant, the item with the higher rating will be displayed first.</span></span></li><li><span data-ttu-id="96c9a-236">Margem: quando dois documentos forem relevantes, um varejista poderá aumentar documentos que tenham margens superiores primeiro.</span><span class="sxs-lookup"><span data-stu-id="96c9a-236">Margin: When two documents are relevant, a retailer may wish to boost documents that have higher margins first.</span></span></li><li><span data-ttu-id="96c9a-237">Contagens de cliques: para aplicativos que acompanham ações de clickthrough para produtos ou páginas, você pode usar a magnitude para aumentar os itens que tendem a obter mais tráfego.</span><span class="sxs-lookup"><span data-stu-id="96c9a-237">Click counts: For applications that track click through actions to products or pages, you could use magnitude to boost items that tend to get the most traffic.</span></span></li><li><span data-ttu-id="96c9a-238">Contagens de downloads: para aplicativos que acompanham downloads, a função de magnitude permite que você aumente os itens que têm mais downloads.</span><span class="sxs-lookup"><span data-stu-id="96c9a-238">Download counts: For applications that track downloads, the magnitude function lets you boost items that have the most downloads.</span></span></li></ul> |
| `magnitude:boostingRangeStart` |<span data-ttu-id="96c9a-239">Define o valor inicial do intervalo em que a magnitude é pontuada.</span><span class="sxs-lookup"><span data-stu-id="96c9a-239">Sets the start value of the range over which magnitude is scored.</span></span> <span data-ttu-id="96c9a-240">O valor deve ser um inteiro ou um número de ponto flutuante.</span><span class="sxs-lookup"><span data-stu-id="96c9a-240">The value must be an integer or floating-point number.</span></span> <span data-ttu-id="96c9a-241">Para classificações por estrelas de 1 a 4, isso seria 1.</span><span class="sxs-lookup"><span data-stu-id="96c9a-241">For star ratings of 1 through 4, this would be 1.</span></span> <span data-ttu-id="96c9a-242">Para mais acima de 50% de margens, isso seria 50.</span><span class="sxs-lookup"><span data-stu-id="96c9a-242">For margins over 50%, this would be 50.</span></span> |
| `magnitude:boostingRangeEnd` |<span data-ttu-id="96c9a-243">Define o valor final do intervalo em que a magnitude é pontuada.</span><span class="sxs-lookup"><span data-stu-id="96c9a-243">Sets the end value of the range over which magnitude is scored.</span></span> <span data-ttu-id="96c9a-244">O valor deve ser um inteiro ou um número de ponto flutuante.</span><span class="sxs-lookup"><span data-stu-id="96c9a-244">The value must be an integer or floating-point number.</span></span> <span data-ttu-id="96c9a-245">Para classificações por estrelas de 1 a 4, isso seria 4.</span><span class="sxs-lookup"><span data-stu-id="96c9a-245">For star ratings of 1 through 4, this would be 4.</span></span> |
| `magnitude:constantBoostBeyondRange` |<span data-ttu-id="96c9a-246">Os valores válidos são true ou false (padrão).</span><span class="sxs-lookup"><span data-stu-id="96c9a-246">Valid values are true or false (default).</span></span> <span data-ttu-id="96c9a-247">Quando definido como true, o aumento completo continuará a ser aplicado a documentos que tenham um valor para o campo de destino maior do que a extremidade superior do intervalo.</span><span class="sxs-lookup"><span data-stu-id="96c9a-247">When set to true, the full boost will continue to apply to documents that have a value for the target field that’s higher than the upper end of the range.</span></span> <span data-ttu-id="96c9a-248">Se for false, o aumento dessa função não será aplicado a documentos com um valor para o campo de destino que esteja fora do intervalo.</span><span class="sxs-lookup"><span data-stu-id="96c9a-248">If false, the boost of this function won’t be applied to documents having a value for the target field that falls outside of the range.</span></span> |
| `freshness` |<span data-ttu-id="96c9a-249">A função de pontuação atualização é usada para alterar as pontuações de classificação para os itens com base nos valores nos campos DateTimeOffset.</span><span class="sxs-lookup"><span data-stu-id="96c9a-249">The freshness scoring function is used to alter ranking scores for items based on values in DateTimeOffset fields.</span></span> <span data-ttu-id="96c9a-250">Por exemplo, um item com uma data mais recente pode ter classificação mais alta do que itens mais antigos.</span><span class="sxs-lookup"><span data-stu-id="96c9a-250">For example, an item with a more recent date can be ranked higher than older items.</span></span> <span data-ttu-id="96c9a-251">(Observe que também é possível classificar itens, como os eventos de calendário, com datas futuras, de modo que os itens mais próximos à data atual possam ter uma classificação superior do que itens com data mais distantes.) Na versão atual do serviço, uma extremidade do intervalo será corrigida para a hora atual.</span><span class="sxs-lookup"><span data-stu-id="96c9a-251">(Note that it is also possible to rank items like calendar events with future dates such that items closer to the present can be ranked higher than items further in the future.) In the current service release, one end of the range will be fixed to the current time.</span></span> <span data-ttu-id="96c9a-252">A outra extremidade é um momento no passado com base no `boostingDuration`.</span><span class="sxs-lookup"><span data-stu-id="96c9a-252">The other end is a time in the past based on the `boostingDuration`.</span></span> <span data-ttu-id="96c9a-253">Para aumentar um intervalo de horários no futuro, use um `boostingDuration` com valor negativo.</span><span class="sxs-lookup"><span data-stu-id="96c9a-253">To boost a range of times in the future use a negative `boostingDuration`.</span></span> <span data-ttu-id="96c9a-254">A taxa à qual o aumento é alterado em um intervalo máximo e mínimo é determinada pela Interpolação é aplicada ao perfil de pontuação (consulte a figura abaixo).</span><span class="sxs-lookup"><span data-stu-id="96c9a-254">The rate at which the boosting changes from a maximum and minimum range is determined by the Interpolation applied to the scoring profile (see the figure below).</span></span> <span data-ttu-id="96c9a-255">Para inverter o fator de aumento aplicado, escolha um fator de aumento que seja inferior a 1.</span><span class="sxs-lookup"><span data-stu-id="96c9a-255">To reverse the boosting factor applied, choose a boost factor of less than 1.</span></span> |
| `freshness:boostingDuration` |<span data-ttu-id="96c9a-256">Define um período de expiração após o qual o aumento será interrompido para um documento específico.</span><span class="sxs-lookup"><span data-stu-id="96c9a-256">Sets an expiration period after which boosting will stop for a particular document.</span></span> <span data-ttu-id="96c9a-257">Consulte [Definir boostingDuration](#bkmk_boostdur) na próxima seção para obter a sintaxe e exemplos.</span><span class="sxs-lookup"><span data-stu-id="96c9a-257">See [Set boostingDuration](#bkmk_boostdur) in the following section for syntax and examples.</span></span> |
| `distance` |<span data-ttu-id="96c9a-258">A função de pontuação distância é usada para afetar a pontuação de documentos com base em sua distância ou proximidade em relação a um local geográfico de referência.</span><span class="sxs-lookup"><span data-stu-id="96c9a-258">The distance scoring function is used to affect the score of documents based on how close or far they are relative to a reference geographic location.</span></span> <span data-ttu-id="96c9a-259">O local de referência é fornecido como parte da consulta em um parâmetro (usando o parâmetro de consulta `scoringParameter` ) como um argumento lon,lat.</span><span class="sxs-lookup"><span data-stu-id="96c9a-259">The reference location is given as part of the query in a parameter (using the `scoringParameter` query parameter) as a lon,lat argument.</span></span> |
| `distance:referencePointParameter` |<span data-ttu-id="96c9a-260">Um parâmetro a ser passado em consultas para usar como local de referência.</span><span class="sxs-lookup"><span data-stu-id="96c9a-260">A parameter to be passed in queries to use as reference location.</span></span> <span data-ttu-id="96c9a-261">scoringParameter é um parâmetro de consulta.</span><span class="sxs-lookup"><span data-stu-id="96c9a-261">scoringParameter is a query parameter.</span></span> <span data-ttu-id="96c9a-262">Consulte [Pesquisar documentos](search-api-2015-02-28-preview.md#SearchDocs) para obter descrições dos parâmetros de consulta.</span><span class="sxs-lookup"><span data-stu-id="96c9a-262">See [Search Documents](search-api-2015-02-28-preview.md#SearchDocs) for descriptions of query parameters.</span></span> |
| `distance:boostingDistance` |<span data-ttu-id="96c9a-263">Um número que indica a distância em quilômetros do local de referência em que o intervalo de aumento termina.</span><span class="sxs-lookup"><span data-stu-id="96c9a-263">A number that indicates the distance in kilometers from the reference location where the boosting range ends.</span></span> |
| `tag` |<span data-ttu-id="96c9a-264">A função de pontuação marca é usada para afetar a pontuação de documentos com base em marcas em documentos e consultas de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="96c9a-264">The tag scoring function is used to affect the score of documents based on tags in documents and search queries.</span></span> <span data-ttu-id="96c9a-265">Documentos com marcas em comum com a consulta de pesquisa serão ser aumentados.</span><span class="sxs-lookup"><span data-stu-id="96c9a-265">Documents that have tags in common with the search query will be boosted.</span></span> <span data-ttu-id="96c9a-266">As marcações para a consulta de pesquisa são fornecidas como um parâmetro de pontuação em cada solicitação de pesquisa (usando o parâmetro de consulta `scoringParameter` ).</span><span class="sxs-lookup"><span data-stu-id="96c9a-266">The tags for the search query is provided as a scoring parameter in each search request(using the `scoringParameter` query parameter).</span></span> |
| `tag:tagsParameter` |<span data-ttu-id="96c9a-267">Um parâmetro a ser passado em consultas para especificar as marcações para uma solicitação específica.</span><span class="sxs-lookup"><span data-stu-id="96c9a-267">A parameter to be passed in queries to specify tags for a particular request.</span></span> <span data-ttu-id="96c9a-268">`scoringParameter` é um parâmetro de consulta.</span><span class="sxs-lookup"><span data-stu-id="96c9a-268">`scoringParameter` is a query parameter.</span></span> <span data-ttu-id="96c9a-269">Consulte [Pesquisar documentos](search-api-2015-02-28-preview.md#SearchDocs) para obter descrições dos parâmetros de consulta.</span><span class="sxs-lookup"><span data-stu-id="96c9a-269">See [Search Documents](search-api-2015-02-28-preview.md#SearchDocs) for descriptions of query parameters.</span></span> |
| `functionAggregation` |<span data-ttu-id="96c9a-270">Opcional.</span><span class="sxs-lookup"><span data-stu-id="96c9a-270">Optional.</span></span> <span data-ttu-id="96c9a-271">Aplicável apenas quando funções são especificadas.</span><span class="sxs-lookup"><span data-stu-id="96c9a-271">Applies only when functions are specified.</span></span> <span data-ttu-id="96c9a-272">Os valores válidos incluem: `sum` (padrão), `average`, `minimum`, `maximum` e `firstMatching`.</span><span class="sxs-lookup"><span data-stu-id="96c9a-272">Valid values include: `sum` (default), `average`, `minimum`, `maximum`, and `firstMatching`.</span></span> <span data-ttu-id="96c9a-273">Uma pontuação de pesquisa é um valor único calculado por meio de diversas variáveis, incluindo várias funções.</span><span class="sxs-lookup"><span data-stu-id="96c9a-273">A search score is a single value that is computed from multiple variables, including multiple functions.</span></span> <span data-ttu-id="96c9a-274">Esses atributos indicam como os aumentos de todas as funções são combinados em um único aumento agregado que, em seguida, é aplicado à pontuação de documento de base.</span><span class="sxs-lookup"><span data-stu-id="96c9a-274">This attributes indicates how the boosts of all the functions are combined into a single aggregate boost that is then applied to the base document score.</span></span> <span data-ttu-id="96c9a-275">A pontuação de base é fundamentada no valor tf-idf calculado por meio do documento e da consulta de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="96c9a-275">The base score is based on the tf-idf value computed from the document and the search query.</span></span> |
| `defaultScoringProfile` |<span data-ttu-id="96c9a-276">Ao se executar uma solicitação de pesquisa, se nenhum perfil de pontuação for especificado, a pontuação padrão será usada (somente tf-idf).</span><span class="sxs-lookup"><span data-stu-id="96c9a-276">When executing a search request, if no scoring profile is specified, then default scoring is used (tf-idf only).</span></span> <span data-ttu-id="96c9a-277">Um nome de perfil de pontuação padrão pode ser definido aqui, fazendo com que o Azure Search use esse perfil quando nenhum perfil específico for fornecido na solicitação de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="96c9a-277">A default scoring profile name can be set here, causing Azure Search to use that profile when no specific profile is given in the search request.</span></span> |

<a name="bkmk_interpolation"></a>

## <a name="set-interpolations"></a><span data-ttu-id="96c9a-278">Set interpolations</span><span class="sxs-lookup"><span data-stu-id="96c9a-278">Set interpolations</span></span>
<span data-ttu-id="96c9a-279">As interpolações permitem que você defina a inclinação para a qual o aumento de pontuação ocorre, do início ao fim do intervalo.</span><span class="sxs-lookup"><span data-stu-id="96c9a-279">Interpolations allow you to define the slope for which the score boosting increases from the start of the range to the end of the range.</span></span> <span data-ttu-id="96c9a-280">As seguintes interpolações podem ser usadas:</span><span class="sxs-lookup"><span data-stu-id="96c9a-280">The following interpolations can be used:</span></span>

* <span data-ttu-id="96c9a-281">`Linear`: para itens que estão dentro do intervalo máximo e mínimo, o aumento aplicado ao item será realizado em um período constantemente decrescente.</span><span class="sxs-lookup"><span data-stu-id="96c9a-281">`Linear`: For items that are within the max and min range, the boost applied to the item will be done in a constantly decreasing amount.</span></span> <span data-ttu-id="96c9a-282">Linear é a interpolação padrão para um perfil de pontuação.</span><span class="sxs-lookup"><span data-stu-id="96c9a-282">Linear is the default interpolation for a scoring profile.</span></span>
* <span data-ttu-id="96c9a-283">`Constant`: para itens que estão no intervalo de início e de término, um aumento constante será aplicado aos resultados de classificação.</span><span class="sxs-lookup"><span data-stu-id="96c9a-283">`Constant`: For items that are within the start and ending range, a constant boost will be applied to the rank results.</span></span>
* <span data-ttu-id="96c9a-284">`Quadratic`: em comparação com uma interpolação Linear que tem um aumento que diminui constantemente, a opção Quadrática diminuirá inicialmente em um ritmo menor e, em seguida, à medida que se aproximar do intervalo de término, diminuirá em um intervalo muito maior.</span><span class="sxs-lookup"><span data-stu-id="96c9a-284">`Quadratic`: In comparison to a Linear interpolation that has a constantly decreasing boost, Quadratic will initially decrease at smaller pace and then as it approaches the end range, it decreases at a much higher interval.</span></span> <span data-ttu-id="96c9a-285">Essa opção de interpolação não é permitida em funções de pontuação de marca.</span><span class="sxs-lookup"><span data-stu-id="96c9a-285">This interpolation option is not allowed in tag scoring functions.</span></span>
* <span data-ttu-id="96c9a-286">`Logarithmic`: em comparação com uma interpolação Linear que tem um aumento que diminui constantemente, a opção Logarítmica diminuirá inicialmente em um ritmo maior e, em seguida, ao se aproximar do intervalo de término, será reduzida em um intervalo muito menor.</span><span class="sxs-lookup"><span data-stu-id="96c9a-286">`Logarithmic`: In comparison to a Linear interpolation that has a constantly decreasing boost, Logarithmic will initially decrease at higher pace and then as it approaches the end range, it decreases at a much smaller interval.</span></span> <span data-ttu-id="96c9a-287">Essa opção de interpolação não é permitida em funções de pontuação de marca.</span><span class="sxs-lookup"><span data-stu-id="96c9a-287">This interpolation option is not allowed in tag scoring functions.</span></span>

<span data-ttu-id="96c9a-288"><a name="Figure1"></a> ![][1]</span><span class="sxs-lookup"><span data-stu-id="96c9a-288"><a name="Figure1"></a> ![][1]</span></span>

<a name="bkmk_boostdur"></a>

## <a name="set-boostingduration"></a><span data-ttu-id="96c9a-289">Definir boostingDuration</span><span class="sxs-lookup"><span data-stu-id="96c9a-289">Set boostingDuration</span></span>
<span data-ttu-id="96c9a-290">`boostingDuration` é um atributo da função de atualização.</span><span class="sxs-lookup"><span data-stu-id="96c9a-290">`boostingDuration` is an attribute of the freshness function.</span></span> <span data-ttu-id="96c9a-291">Você pode usá-lo para definir um período de expiração após o qual o aumento será interrompido para um documento específico.</span><span class="sxs-lookup"><span data-stu-id="96c9a-291">You use it to set an expiration period after which boosting will stop for a particular document.</span></span> <span data-ttu-id="96c9a-292">Por exemplo, para aumentar uma linha de produtos ou marca por um período promocional de 10 dias, você especificaria o período de 10 dias como "P10D" para esses documentos.</span><span class="sxs-lookup"><span data-stu-id="96c9a-292">For example, to boost a product line or brand for a 10-day promotional period, you would specify the 10-day period as "P10D" for those documents.</span></span> <span data-ttu-id="96c9a-293">Ou, para aumentar eventos futuros na próxima semana especifique "-P7D".</span><span class="sxs-lookup"><span data-stu-id="96c9a-293">Or to boost upcoming events in the next week specify "-P7D".</span></span>

<span data-ttu-id="96c9a-294">`boostingDuration` deve ser formatado como um valor XSD de "dayTimeDuration" (um subconjunto restrito de um valor de duração ISO 8601).</span><span class="sxs-lookup"><span data-stu-id="96c9a-294">`boostingDuration` must be formatted as an XSD "dayTimeDuration" value (a restricted subset of an ISO 8601 duration value).</span></span> <span data-ttu-id="96c9a-295">O padrão para isso é: `[-]P[nD][T[nH][nM][nS]]`.</span><span class="sxs-lookup"><span data-stu-id="96c9a-295">The pattern for this is: `[-]P[nD][T[nH][nM][nS]]`.</span></span>

<span data-ttu-id="96c9a-296">A tabela a seguir fornece vários exemplos.</span><span class="sxs-lookup"><span data-stu-id="96c9a-296">The following table provides several examples.</span></span>

| <span data-ttu-id="96c9a-297">Duração</span><span class="sxs-lookup"><span data-stu-id="96c9a-297">Duration</span></span> | <span data-ttu-id="96c9a-298">boostingDuration</span><span class="sxs-lookup"><span data-stu-id="96c9a-298">boostingDuration</span></span> |
| --- | --- |
| <span data-ttu-id="96c9a-299">1 dia</span><span class="sxs-lookup"><span data-stu-id="96c9a-299">1 day</span></span> |<span data-ttu-id="96c9a-300">"P1D"</span><span class="sxs-lookup"><span data-stu-id="96c9a-300">"P1D"</span></span> |
| <span data-ttu-id="96c9a-301">2 dias e 12 horas</span><span class="sxs-lookup"><span data-stu-id="96c9a-301">2 days and 12 hours</span></span> |<span data-ttu-id="96c9a-302">"P2DT12H"</span><span class="sxs-lookup"><span data-stu-id="96c9a-302">"P2DT12H"</span></span> |
| <span data-ttu-id="96c9a-303">15 minutos</span><span class="sxs-lookup"><span data-stu-id="96c9a-303">15 minutes</span></span> |<span data-ttu-id="96c9a-304">"PT15M"</span><span class="sxs-lookup"><span data-stu-id="96c9a-304">"PT15M"</span></span> |
| <span data-ttu-id="96c9a-305">30 dias, 5 horas, 10 minutos e 6,334 segundos</span><span class="sxs-lookup"><span data-stu-id="96c9a-305">30 days, 5 hours, 10 minutes, and 6.334 seconds</span></span> |<span data-ttu-id="96c9a-306">"P30DT5H10M6.334S"</span><span class="sxs-lookup"><span data-stu-id="96c9a-306">"P30DT5H10M6.334S"</span></span> |

<span data-ttu-id="96c9a-307">Para obter mais exemplos, consulte [Esquema XML: tipos de dados (site W3.org)](http://www.w3.org/TR/xmlschema11-2/).</span><span class="sxs-lookup"><span data-stu-id="96c9a-307">For more examples, see [XML Schema: Datatypes (W3.org web site)](http://www.w3.org/TR/xmlschema11-2/).</span></span>

<span data-ttu-id="96c9a-308">**Veja também**
[API REST do Serviço do Azure Search](http://msdn.microsoft.com/library/azure/dn798935.aspx) no MSDN</span><span class="sxs-lookup"><span data-stu-id="96c9a-308">**See Also**
[Azure Search Service REST API](http://msdn.microsoft.com/library/azure/dn798935.aspx) on MSDN</span></span> <br/><span data-ttu-id="96c9a-309">
[Criar índice (API do Azure Search)](http://msdn.microsoft.com/library/azure/dn798941.aspx) no MSDN</span><span class="sxs-lookup"><span data-stu-id="96c9a-309">
[Create Index (Azure Search API)](http://msdn.microsoft.com/library/azure/dn798941.aspx) on MSDN</span></span><br/><span data-ttu-id="96c9a-310">
[Adicionar um perfil de pontuação a um índice de pesquisa](http://msdn.microsoft.com/library/azure/dn798928.aspx) no MSDN</span><span class="sxs-lookup"><span data-stu-id="96c9a-310">
[Add a scoring profile to a search index](http://msdn.microsoft.com/library/azure/dn798928.aspx) on MSDN</span></span><br/>

<!--Image references-->
[1]: ./media/search-api-scoring-profiles-2015-02-28-Preview/scoring_interpolations.png
