---
title: "aaaTroubleshooting diagnóstico do Azure | Microsoft Docs"
description: "Solucionar problemas ao usar o diagnóstico do Azure no Service Fabric, Serviços de Nuvem e Máquinas Virtuais do Azure."
services: monitoring-and-diagnostics
documentationcenter: .net
author: rboucher
manager: carmonm
editor: 
ms.assetid: 66469bce-d457-4d1e-b550-a08d2be4d28c
ms.service: monitoring-and-diagnostics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 07/12/2017
ms.author: robb
ms.openlocfilehash: daaf9fa4c40982eb9ba04030d7e8ea1ad9fe085b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-diagnostics-troubleshooting"></a><span data-ttu-id="62686-103">Solução de problemas do Diagnóstico do Azure</span><span class="sxs-lookup"><span data-stu-id="62686-103">Azure Diagnostics Troubleshooting</span></span>
<span data-ttu-id="62686-104">Solução de problemas informações relevantes toousing diagnóstico do Azure.</span><span class="sxs-lookup"><span data-stu-id="62686-104">Troubleshooting information relevant toousing Azure Diagnostics.</span></span> <span data-ttu-id="62686-105">Para obter mais informações sobre o Diagnóstico do Azure, confira [Visão geral do Diagnóstico do Azure](azure-diagnostics.md).</span><span class="sxs-lookup"><span data-stu-id="62686-105">For more information on Azure diagnostics, see [Azure Diagnostics Overview](azure-diagnostics.md).</span></span>

## <a name="logical-components"></a><span data-ttu-id="62686-106">Componentes lógicos</span><span class="sxs-lookup"><span data-stu-id="62686-106">Logical Components</span></span>
<span data-ttu-id="62686-107">**Iniciador de plug-in de diagnóstico (DiagnosticsPluginLauncher.exe)**: extensão de diagnóstico do Azure Olá é iniciado.</span><span class="sxs-lookup"><span data-stu-id="62686-107">**Diagnostics Plugin Launcher (DiagnosticsPluginLauncher.exe)**: Launches hello Azure Diagnostics extension.</span></span> <span data-ttu-id="62686-108">Serve como entrada hello o processo de ponto.</span><span class="sxs-lookup"><span data-stu-id="62686-108">Serves as hello entry point process.</span></span>

<span data-ttu-id="62686-109">**Plug-in de diagnóstico (DiagnosticsPlugin.exe)**: processo principal que é iniciado pelo iniciador da saudação acima e configura o agente de monitoramento de saudação, inicia e gerencia seu tempo de vida.</span><span class="sxs-lookup"><span data-stu-id="62686-109">**Diagnostics Plugin (DiagnosticsPlugin.exe)**: Main process that is launched by hello launcher above and configures hello Monitoring Agent, launches it and manages its lifetime.</span></span> 

<span data-ttu-id="62686-110">**Agente de monitoramento (MonAgent\*.exe processos)**: esses processos Olá em massa de trabalho Olá; ou seja, o monitoramento, coleção e a transferência de Olá dados de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="62686-110">**Monitoring Agent (MonAgent\*.exe processes)**: These processes do hello bulk of hello work; i.e., monitoring, collection and transfer of hello diagnostics data.</span></span>  

## <a name="logartifact-paths"></a><span data-ttu-id="62686-111">Caminhos de log/artefato</span><span class="sxs-lookup"><span data-stu-id="62686-111">Log/Artifact Paths</span></span>
<span data-ttu-id="62686-112">Aqui estão os artefatos e logs do hello caminhos toosome importantes.</span><span class="sxs-lookup"><span data-stu-id="62686-112">Here are hello paths toosome important logs and artifacts.</span></span> <span data-ttu-id="62686-113">Vamos manter referindo-se toothese em todo o restante de saudação do documento hello:</span><span class="sxs-lookup"><span data-stu-id="62686-113">We keep referring toothese throughout hello rest of hello document:</span></span>
### <a name="cloud-services"></a><span data-ttu-id="62686-114">Serviços de Nuvem</span><span class="sxs-lookup"><span data-stu-id="62686-114">Cloud Services</span></span>
| <span data-ttu-id="62686-115">Artefato</span><span class="sxs-lookup"><span data-stu-id="62686-115">Artifact</span></span> | <span data-ttu-id="62686-116">Caminho</span><span class="sxs-lookup"><span data-stu-id="62686-116">Path</span></span> |
| --- | --- |
| <span data-ttu-id="62686-117">**Arquivo de configuração de Diagnóstico do Microsoft Azure**</span><span class="sxs-lookup"><span data-stu-id="62686-117">**Azure Diagnostics configuration file**</span></span> | <span data-ttu-id="62686-118">%SystemDrive%\Packages\Plugins\Microsoft.Azure.Diagnostics.PaaSDiagnostics\<version>\Config.txt</span><span class="sxs-lookup"><span data-stu-id="62686-118">%SystemDrive%\Packages\Plugins\Microsoft.Azure.Diagnostics.PaaSDiagnostics\<version>\Config.txt</span></span> |
| <span data-ttu-id="62686-119">**Arquivos de log**</span><span class="sxs-lookup"><span data-stu-id="62686-119">**Log files**</span></span> | <span data-ttu-id="62686-120">C:\Logs\Plugins\Microsoft.Azure.Diagnostics.PaaSDiagnostics\<version>\\</span><span class="sxs-lookup"><span data-stu-id="62686-120">C:\Logs\Plugins\Microsoft.Azure.Diagnostics.PaaSDiagnostics\<version>\\</span></span> |
| <span data-ttu-id="62686-121">**Armazenamento local para dados de diagnóstico**</span><span class="sxs-lookup"><span data-stu-id="62686-121">**Local store for diagnostics data**</span></span> | <span data-ttu-id="62686-122">C:\Resources\Directory\<CloudServiceDeploymentID>.\<RoleName>.DiagnosticStore\WAD0107\Tables</span><span class="sxs-lookup"><span data-stu-id="62686-122">C:\Resources\Directory\<CloudServiceDeploymentID>.\<RoleName>.DiagnosticStore\WAD0107\Tables</span></span> |
| <span data-ttu-id="62686-123">**Arquivo de configuração do Agente de monitoramento**</span><span class="sxs-lookup"><span data-stu-id="62686-123">**Monitoring Agent configuration file**</span></span> | <span data-ttu-id="62686-124">C:\Resources\Directory\<CloudServiceDeploymentID>.\<RoleName>.DiagnosticStore\WAD0107\Configuration\MaConfig.xml</span><span class="sxs-lookup"><span data-stu-id="62686-124">C:\Resources\Directory\<CloudServiceDeploymentID>.\<RoleName>.DiagnosticStore\WAD0107\Configuration\MaConfig.xml</span></span> |
| <span data-ttu-id="62686-125">**Pacote de extensão do Diagnóstico do Azure**</span><span class="sxs-lookup"><span data-stu-id="62686-125">**Azure diagnostics extension package**</span></span> | <span data-ttu-id="62686-126">%SystemDrive%\Packages\Plugins\Microsoft.Azure.Diagnostics.PaaSDiagnostics\<version></span><span class="sxs-lookup"><span data-stu-id="62686-126">%SystemDrive%\Packages\Plugins\Microsoft.Azure.Diagnostics.PaaSDiagnostics\<version></span></span> |
| <span data-ttu-id="62686-127">**Caminho do utilitário de coleta de log**</span><span class="sxs-lookup"><span data-stu-id="62686-127">**Log collection utility path**</span></span> | <span data-ttu-id="62686-128">%SystemDrive%\Packages\GuestAgent\\</span><span class="sxs-lookup"><span data-stu-id="62686-128">%SystemDrive%\Packages\GuestAgent\\</span></span> |
| <span data-ttu-id="62686-129">**Arquivo de log MonAgentHost**</span><span class="sxs-lookup"><span data-stu-id="62686-129">**MonAgentHost log file**</span></span> | <span data-ttu-id="62686-130">C:\Resources\Directory\<CloudServiceDeploymentID>.\<RoleName>.DiagnosticStore\WAD0107\Configuration\MonAgentHost.<seq_num>.log</span><span class="sxs-lookup"><span data-stu-id="62686-130">C:\Resources\Directory\<CloudServiceDeploymentID>.\<RoleName>.DiagnosticStore\WAD0107\Configuration\MonAgentHost.<seq_num>.log</span></span> |

### <a name="virtual-machines"></a><span data-ttu-id="62686-131">Máquinas Virtuais</span><span class="sxs-lookup"><span data-stu-id="62686-131">Virtual Machines</span></span>
| <span data-ttu-id="62686-132">Artefato</span><span class="sxs-lookup"><span data-stu-id="62686-132">Artifact</span></span> | <span data-ttu-id="62686-133">Caminho</span><span class="sxs-lookup"><span data-stu-id="62686-133">Path</span></span> |
| --- | --- |
| <span data-ttu-id="62686-134">**Arquivo de configuração de Diagnóstico do Microsoft Azure**</span><span class="sxs-lookup"><span data-stu-id="62686-134">**Azure Diagnostics configuration file**</span></span> | <span data-ttu-id="62686-135">C:\Packages\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<version>\RuntimeSettings</span><span class="sxs-lookup"><span data-stu-id="62686-135">C:\Packages\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<version>\RuntimeSettings</span></span> |
| <span data-ttu-id="62686-136">**Arquivos de log**</span><span class="sxs-lookup"><span data-stu-id="62686-136">**Log files**</span></span> | <span data-ttu-id="62686-137">C:\Packages\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<version>\Logs\\</span><span class="sxs-lookup"><span data-stu-id="62686-137">C:\Packages\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<version>\Logs\\</span></span> |
| <span data-ttu-id="62686-138">**Armazenamento local para dados de diagnóstico**</span><span class="sxs-lookup"><span data-stu-id="62686-138">**Local store for diagnostics data**</span></span> | <span data-ttu-id="62686-139">C:\WindowsAzure\Logs\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<DiagnosticsVersion>\WAD0107\Tables</span><span class="sxs-lookup"><span data-stu-id="62686-139">C:\WindowsAzure\Logs\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<DiagnosticsVersion>\WAD0107\Tables</span></span> |
| <span data-ttu-id="62686-140">**Arquivo de configuração do Agente de monitoramento**</span><span class="sxs-lookup"><span data-stu-id="62686-140">**Monitoring Agent configuration file**</span></span> | <span data-ttu-id="62686-141">C:\WindowsAzure\Logs\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<DiagnosticsVersion>\WAD0107\Configuration\MaConfig.xml</span><span class="sxs-lookup"><span data-stu-id="62686-141">C:\WindowsAzure\Logs\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<DiagnosticsVersion>\WAD0107\Configuration\MaConfig.xml</span></span> |
| <span data-ttu-id="62686-142">**Arquivo de status**</span><span class="sxs-lookup"><span data-stu-id="62686-142">**Status file**</span></span> | <span data-ttu-id="62686-143">C:\Packages\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<version>\Status</span><span class="sxs-lookup"><span data-stu-id="62686-143">C:\Packages\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<version>\Status</span></span> |
| <span data-ttu-id="62686-144">**Pacote de extensão do Diagnóstico do Azure**</span><span class="sxs-lookup"><span data-stu-id="62686-144">**Azure diagnostics extension package**</span></span> | <span data-ttu-id="62686-145">C:\Packages\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<DiagnosticsVersion></span><span class="sxs-lookup"><span data-stu-id="62686-145">C:\Packages\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<DiagnosticsVersion></span></span>|
| <span data-ttu-id="62686-146">**Caminho do utilitário de coleta de log**</span><span class="sxs-lookup"><span data-stu-id="62686-146">**Log collection utility path**</span></span> | <span data-ttu-id="62686-147">C:\WindowsAzure\Packages</span><span class="sxs-lookup"><span data-stu-id="62686-147">C:\WindowsAzure\Packages</span></span> |
| <span data-ttu-id="62686-148">**Arquivo de log MonAgentHost**</span><span class="sxs-lookup"><span data-stu-id="62686-148">**MonAgentHost log file**</span></span> | <span data-ttu-id="62686-149">C:\WindowsAzure\Logs\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<DiagnosticsVersion>\WAD0107\Configuration\MonAgentHost.<seq_num>.log</span><span class="sxs-lookup"><span data-stu-id="62686-149">C:\WindowsAzure\Logs\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<DiagnosticsVersion>\WAD0107\Configuration\MonAgentHost.<seq_num>.log</span></span> |

## <a name="metric-data-doesnt-show-in-azure-portal"></a><span data-ttu-id="62686-150">Os dados de métrica não são exibidos no portal do Azure</span><span class="sxs-lookup"><span data-stu-id="62686-150">Metric data doesn't show in Azure portal</span></span>
<span data-ttu-id="62686-151">O Diagnóstico do Azure fornece um conjunto de dados de métrica, que podem ser exibidos no portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="62686-151">Azure Diagnostics provides a bunch of metric data, which can be displayed in Azure portal.</span></span> <span data-ttu-id="62686-152">Se você tiver problemas com ver esses dados no portal, a conta de armazenamento de diagnóstico seleção Olá -> WADMetrics\* tabela toosee se existem registros correspondentes de métrica hello.</span><span class="sxs-lookup"><span data-stu-id="62686-152">If you have problems with seeing these data in portal, check hello diagnostics storage account -> WADMetrics\* table toosee if hello corresponding metric records are there.</span></span> <span data-ttu-id="62686-153">Aqui, Olá PartitionKey da tabela de saudação é Olá ID do recurso de máquina virtual ou conjunto de escalas da máquina virtual e Olá RowKey é o nome da métrica hello ou seja, o nome de contador de desempenho.</span><span class="sxs-lookup"><span data-stu-id="62686-153">Here, hello PartitionKey of hello table is hello resource ID of virtual machine or virtual machine scale set, and hello RowKey is hello metric name i.e. performance counter name.</span></span>

<span data-ttu-id="62686-154">Se a ID de recurso Olá estiver incorreto, verifique a configuração de diagnóstico -> métricas -> ResourceId toosee se a ID de recurso hello está definida corretamente.</span><span class="sxs-lookup"><span data-stu-id="62686-154">If hello resource ID is incorrect, check Diagnostics Configuration -> Metrics -> ResourceId toosee if hello resource ID is set correctly.</span></span>

<span data-ttu-id="62686-155">Se não houver nenhum dado de métrica específica hello, verificação de configuração de diagnóstico -> PerformanceCounter toosee se a métrica de saudação (contador de desempenho) é incluída.</span><span class="sxs-lookup"><span data-stu-id="62686-155">If there's no data for hello specific metric, check Diagnostics Configuration -> PerformanceCounter toosee if hello metric(performance counter) is included.</span></span> <span data-ttu-id="62686-156">Habilitamos Olá contadores a seguir por padrão.</span><span class="sxs-lookup"><span data-stu-id="62686-156">We enable hello following counters by default.</span></span>
- <span data-ttu-id="62686-157">\Processador(_Total)\% Tempo do processador</span><span class="sxs-lookup"><span data-stu-id="62686-157">\Processor(_Total)\% Processor Time</span></span>
- <span data-ttu-id="62686-158">\Memória\Bytes Disponíveis</span><span class="sxs-lookup"><span data-stu-id="62686-158">\Memory\Available Bytes</span></span>
- <span data-ttu-id="62686-159">\Aplicativos ASP.NET (__Total__)\Solicitações/s</span><span class="sxs-lookup"><span data-stu-id="62686-159">\ASP.NET Applications(__Total__)\Requests/Sec</span></span>
- <span data-ttu-id="62686-160">\Aplicativos ASP.NET (__Total__)\Total de Erros/s</span><span class="sxs-lookup"><span data-stu-id="62686-160">\ASP.NET Applications(__Total__)\Errors Total/Sec</span></span>
- <span data-ttu-id="62686-161">\ASP.NET\Solicitações Enfileiradas</span><span class="sxs-lookup"><span data-stu-id="62686-161">\ASP.NET\Requests Queued</span></span>
- <span data-ttu-id="62686-162">\ASP.NET\Solicitações Rejeitadas</span><span class="sxs-lookup"><span data-stu-id="62686-162">\ASP.NET\Requests Rejected</span></span>
- <span data-ttu-id="62686-163">\Processador(w3wp)\% Tempo do Processador</span><span class="sxs-lookup"><span data-stu-id="62686-163">\Processor(w3wp)\% Processor Time</span></span>
- <span data-ttu-id="62686-164">\Processo(w3wp)\Bytes Privados</span><span class="sxs-lookup"><span data-stu-id="62686-164">\Process(w3wp)\Private Bytes</span></span>
- <span data-ttu-id="62686-165">\Processo(WaIISHost)\% Tempo do Processador</span><span class="sxs-lookup"><span data-stu-id="62686-165">\Process(WaIISHost)\% Processor Time</span></span>
- <span data-ttu-id="62686-166">\Processo(WaIISHost)\Bytes Privados</span><span class="sxs-lookup"><span data-stu-id="62686-166">\Process(WaIISHost)\Private Bytes</span></span>
- <span data-ttu-id="62686-167">\Processo(WaWorkerHost)\% Tempo do Processador</span><span class="sxs-lookup"><span data-stu-id="62686-167">\Process(WaWorkerHost)\% Processor Time</span></span>
- <span data-ttu-id="62686-168">\Processo(WaWorkerHost)\Bytes Privados</span><span class="sxs-lookup"><span data-stu-id="62686-168">\Process(WaWorkerHost)\Private Bytes</span></span>
- <span data-ttu-id="62686-169">\Memória\Falhas de Página/s</span><span class="sxs-lookup"><span data-stu-id="62686-169">\Memory\Page Faults/sec</span></span>
- <span data-ttu-id="62686-170">\.Memória CLR NET(_Global_)\% Tempo em GC</span><span class="sxs-lookup"><span data-stu-id="62686-170">\.NET CLR Memory(_Global_)\% Time in GC</span></span>
- <span data-ttu-id="62686-171">\LogicalDisk(C:)\Bytes de Gravação de Disco/s</span><span class="sxs-lookup"><span data-stu-id="62686-171">\LogicalDisk(C:)\Disk Write Bytes/sec</span></span>
- <span data-ttu-id="62686-172">\LogicalDisk(C:)\Bytes de Leitura de Disco/s</span><span class="sxs-lookup"><span data-stu-id="62686-172">\LogicalDisk(C:)\Disk Read Bytes/sec</span></span>
- <span data-ttu-id="62686-173">\LogicalDisk(D:)\Bytes de Gravação de Disco/s</span><span class="sxs-lookup"><span data-stu-id="62686-173">\LogicalDisk(D:)\Disk Write Bytes/sec</span></span>
- <span data-ttu-id="62686-174">\LogicalDisk(D:)\Bytes de Leitura de Disco/s</span><span class="sxs-lookup"><span data-stu-id="62686-174">\LogicalDisk(D:)\Disk Read Bytes/sec</span></span>

<span data-ttu-id="62686-175">Se a configuração hello está definida corretamente, mas você não pode ver dados de métrica hello, diretrizes Olá abaixo para investigação futura hello.</span><span class="sxs-lookup"><span data-stu-id="62686-175">If hello configuration is set correctly but you still cannot see hello metric data, follow hello guidelines below for hello further investigation.</span></span>


## <a name="azure-diagnostics-is-not-starting"></a><span data-ttu-id="62686-176">Azure Diagnostics não está iniciando</span><span class="sxs-lookup"><span data-stu-id="62686-176">Azure Diagnostics is not Starting</span></span>
<span data-ttu-id="62686-177">Examinar **DiagnosticsPluginLauncher.log** e **DiagnosticsPlugin.log** arquivos de log de arquivos do local de saudação do hello fornecido acima para obter informações sobre por que diagnóstico falha toostart.</span><span class="sxs-lookup"><span data-stu-id="62686-177">Look at **DiagnosticsPluginLauncher.log** and **DiagnosticsPlugin.log** files from hello location of hello log files provided above for information on why diagnostics failed toostart.</span></span> 

<span data-ttu-id="62686-178">Se esses logs indicam `Monitoring Agent not reporting success after launch`, isso significa que houve uma falha ao iniciar MonAgentHost.exe.</span><span class="sxs-lookup"><span data-stu-id="62686-178">If these logs indicate `Monitoring Agent not reporting success after launch`, it means there was a failure launching MonAgentHost.exe.</span></span> <span data-ttu-id="62686-179">Examine os logs de saudação para que no local de saudação indicado para `MonAgentHost log file` na seção de saudação acima.</span><span class="sxs-lookup"><span data-stu-id="62686-179">Look at hello logs for that in hello location indicated for `MonAgentHost log file` in hello section above.</span></span>

<span data-ttu-id="62686-180">a última linha Olá Olá dos arquivos de log contém código de saída de hello.</span><span class="sxs-lookup"><span data-stu-id="62686-180">hello last line of hello log files contains hello exit code.</span></span>  

```
DiagnosticsPluginLauncher.exe Information: 0 : [4/16/2016 6:24:15 AM] DiagnosticPlugin exited with code 0
```
<span data-ttu-id="62686-181">Se você encontrar um **negativo** código de saída, consulte toohello [tabela de código de saída](#azure-diagnostics-plugin-exit-codes) em Olá [referências](#references).</span><span class="sxs-lookup"><span data-stu-id="62686-181">If you find a **negative** exit code, refer toohello [exit code table](#azure-diagnostics-plugin-exit-codes) in hello [References](#references).</span></span>

## <a name="diagnostics-data-is-not-logged-tooazure-storage"></a><span data-ttu-id="62686-182">Dados de diagnóstico estão conectado não tooAzure armazenamento</span><span class="sxs-lookup"><span data-stu-id="62686-182">Diagnostics Data is Not Logged tooAzure Storage</span></span>
<span data-ttu-id="62686-183">Determine se nenhum dado é exibido ou apenas alguns dos dados de saudação não estão aparecendo.</span><span class="sxs-lookup"><span data-stu-id="62686-183">Determine if no data is showing up or only some of hello data is not showing up.</span></span>

### <a name="diagnostics-infrastructure-logs"></a><span data-ttu-id="62686-184">Logs de infraestrutura de diagnósticos</span><span class="sxs-lookup"><span data-stu-id="62686-184">Diagnostics Infrastructure Logs</span></span>
<span data-ttu-id="62686-185">Logs da Infraestrutura de diagnóstico é onde o diagnóstico do Azure registra quaisquer erros que são encontrados.</span><span class="sxs-lookup"><span data-stu-id="62686-185">Diagnostics Infrastructure Logs is where azure diagnostics logs any errors that it runs into.</span></span> <span data-ttu-id="62686-186">Verifique se você habilitou ([como?](#how-to-check-diagnostics-extension-configuration)) captura de logs de infraestrutura de diagnóstico em sua configuração e rapidamente procure erros relevantes que aparecem no hello `DiagnosticInfrastructureLogsTable` tabela em sua conta de armazenamento configurado.</span><span class="sxs-lookup"><span data-stu-id="62686-186">Make sure you have enabled ([how to?](#how-to-check-diagnostics-extension-configuration)) capturing of Diagnostics Infrastructure logs in your configuration and quickly look for any relevant errors that show up in hello `DiagnosticInfrastructureLogsTable` table in your configured storage account.</span></span>

### <a name="no-data-is-showing-up"></a><span data-ttu-id="62686-187">Nenhum dado está sendo exibido</span><span class="sxs-lookup"><span data-stu-id="62686-187">No data is showing up</span></span>
<span data-ttu-id="62686-188">Olá causa mais comum de dados de evento totalmente ausente é informações da conta de armazenamento definida incorretamente.</span><span class="sxs-lookup"><span data-stu-id="62686-188">hello most common cause of event data entirely missing is incorrectly defined storage account information.</span></span>

<span data-ttu-id="62686-189">Solução: corrija sua configuração do Diagnóstico e o reinstale.</span><span class="sxs-lookup"><span data-stu-id="62686-189">Solution: Correct your Diagnostics configuration and reinstall Diagnostics.</span></span>

<span data-ttu-id="62686-190">Se a conta de armazenamento de saudação está configurado corretamente, remoto da área de trabalho em make e máquina Olá se DiagnosticsPlugin.exe e MonAgentCore.exe estão em execução.</span><span class="sxs-lookup"><span data-stu-id="62686-190">If hello storage account is configured correctly, remote desktop into hello machine and make sure DiagnosticsPlugin.exe and MonAgentCore.exe are running.</span></span> <span data-ttu-id="62686-191">Se eles não estiverem em execução, siga [Diagnóstico do Azure não está iniciando](#azure-diagnostics-is-not-starting).</span><span class="sxs-lookup"><span data-stu-id="62686-191">If they are not running, follow [Azure Diagnostics is not Starting](#azure-diagnostics-is-not-starting).</span></span> <span data-ttu-id="62686-192">Se estiver executando processos hello, ir muito[dados obtendo capturados localmente](#is-data-getting-captured-locally) e siga este guia de lá.</span><span class="sxs-lookup"><span data-stu-id="62686-192">If hello processes are running, jump too[Is data getting captured locally](#is-data-getting-captured-locally) and follow this guide from there on.</span></span>

### <a name="part-of-hello-data-is-missing"></a><span data-ttu-id="62686-193">Parte dos dados hello está ausente</span><span class="sxs-lookup"><span data-stu-id="62686-193">Part of hello data is missing</span></span>
<span data-ttu-id="62686-194">Se você estiver obtendo alguns dados, mas não outros.</span><span class="sxs-lookup"><span data-stu-id="62686-194">If you are getting some data but not other.</span></span> <span data-ttu-id="62686-195">Isso significa que a coleta de dados Olá / pipeline de transferência está definida corretamente.</span><span class="sxs-lookup"><span data-stu-id="62686-195">This means hello data collection / transfer pipeline is set correctly.</span></span> <span data-ttu-id="62686-196">Siga subseções Olá aqui toonarrow o problema de saudação é:</span><span class="sxs-lookup"><span data-stu-id="62686-196">Follow hello subsections here toonarrow down what hello issue is:</span></span>
#### <a name="is-collection-configured"></a><span data-ttu-id="62686-197">A coleção foi configurada:</span><span class="sxs-lookup"><span data-stu-id="62686-197">Is Collection Configured:</span></span> 
<span data-ttu-id="62686-198">Configuração de diagnóstico contém parte Olá que instrui para um tipo específico de toobe dados coletado.</span><span class="sxs-lookup"><span data-stu-id="62686-198">Diagnostics Configuration contains hello part that instructs for a particular type of data toobe collected.</span></span> <span data-ttu-id="62686-199">[Examine a configuração](#how-to-check-diagnostics-extension-configuration) toomake-se de que você não está procurando dados você não tiver configurado para a coleção.</span><span class="sxs-lookup"><span data-stu-id="62686-199">[Review your configuration](#how-to-check-diagnostics-extension-configuration) toomake sure you are not looking for data you have not configured for collection.</span></span>
#### <a name="is-hello-host-generating-data"></a><span data-ttu-id="62686-200">É o host Olá gerando dados:</span><span class="sxs-lookup"><span data-stu-id="62686-200">Is hello host generating data:</span></span>
- <span data-ttu-id="62686-201">**Contadores de desempenho**: Abra o perfmon e verifique o contador de saudação.</span><span class="sxs-lookup"><span data-stu-id="62686-201">**Performance Counters**: open perfmon and check hello counter.</span></span>
- <span data-ttu-id="62686-202">**Logs de rastreamento**: área de trabalho remota Olá VM e adicione o arquivo de configuração do aplicativo de toohello um TextWriterTraceListener.</span><span class="sxs-lookup"><span data-stu-id="62686-202">**Trace Logs**:  Remote desktop into hello VM and add a TextWriterTraceListener toohello app’s config file.</span></span>  <span data-ttu-id="62686-203">Consulte tooset http://msdn.microsoft.com/library/sk36c28t.aspx o ouvinte de texto de saudação.</span><span class="sxs-lookup"><span data-stu-id="62686-203">See http://msdn.microsoft.com/library/sk36c28t.aspx tooset up hello text listener.</span></span>  <span data-ttu-id="62686-204">Verifique se Olá `<trace>` tem elemento `<trace autoflush="true">`.</span><span class="sxs-lookup"><span data-stu-id="62686-204">Make sure hello `<trace>` element has `<trace autoflush="true">`.</span></span><br />
<span data-ttu-id="62686-205">Se você não vir os logs de rastreamento sendo gerados, execute [Mais sobre logs de rastreamento ausentes](#more-about-trace-logs-missing).</span><span class="sxs-lookup"><span data-stu-id="62686-205">If you don't see trace logs getting generated, follow [More About Trace Logs Missing](#more-about-trace-logs-missing).</span></span>
- <span data-ttu-id="62686-206">**Rastreamentos ETW**: área de trabalho remota Olá VM e instalar PerfView.</span><span class="sxs-lookup"><span data-stu-id="62686-206">**ETW traces**: Remote desktop into hello VM and install PerfView.</span></span>  <span data-ttu-id="62686-207">No PerfView, execute Arquivo -> Comando de Usuário -> Escutar etwprovder1,etwprovider2,etc.  Observe que o comando de escuta Olá diferencia maiusculas de minúsculas e não pode haver espaços entre a lista separada por vírgulas Olá dos provedores do ETW.</span><span class="sxs-lookup"><span data-stu-id="62686-207">In PerfView run File -> User Command -> Listen etwprovder1, etwprovider2, etc.  Note that hello Listen command is case-sensitive and there cannot be spaces between hello comma-separated list of ETW providers.</span></span>  <span data-ttu-id="62686-208">Se o comando Olá falhar toorun, você pode clicar botão de 'Log' hello na parte inferior direita Olá da Olá Perfview ferramenta toosee que qual foi tentada toorun e o resultado de saudação foi.</span><span class="sxs-lookup"><span data-stu-id="62686-208">If hello command fails toorun, you can click hello 'Log' button in hello bottom-right of hello Perfview tool toosee what was attempted toorun and what hello result was.</span></span>  <span data-ttu-id="62686-209">Supondo que a entrada hello está correta, em seguida, uma nova janela será exibida para cima e em alguns segundos, você começará ver rastreamentos ETW.</span><span class="sxs-lookup"><span data-stu-id="62686-209">Assuming hello input is correct then a new window will pop up and in a few seconds you will begin seeing ETW traces.</span></span>
- <span data-ttu-id="62686-210">**Logs de eventos**: área de trabalho remota Olá VM.</span><span class="sxs-lookup"><span data-stu-id="62686-210">**Event Logs**: Remote desktop into hello VM.</span></span> <span data-ttu-id="62686-211">Abra `Event Viewer` e certifique-se de que existem Olá eventos.</span><span class="sxs-lookup"><span data-stu-id="62686-211">Open `Event Viewer` and ensure hello events exist.</span></span>
#### <a name="is-data-getting-captured-locally"></a><span data-ttu-id="62686-212">Os dados estão sendo capturados localmente:</span><span class="sxs-lookup"><span data-stu-id="62686-212">Is data getting captured locally:</span></span>
<span data-ttu-id="62686-213">Em seguida, certifique-se de dados saudação obtendo capturados localmente.</span><span class="sxs-lookup"><span data-stu-id="62686-213">Next make sure hello data is getting captured locally.</span></span>
<span data-ttu-id="62686-214">dados de saudação são armazenados localmente em `*.tsf` arquivos [repositório local de saudação para dados de diagnóstico](#log-artifacts-path).</span><span class="sxs-lookup"><span data-stu-id="62686-214">hello data is locally stored in `*.tsf` files in [hello local store for diagnostics data](#log-artifacts-path).</span></span> <span data-ttu-id="62686-215">Diferentes tipos de logs coletados em diferentes arquivos `.tsf`.</span><span class="sxs-lookup"><span data-stu-id="62686-215">Different kinds of logs get collected in different `.tsf` files.</span></span> <span data-ttu-id="62686-216">nomes de saudação são nomes de tabela toohello semelhantes no armazenamento do azure.</span><span class="sxs-lookup"><span data-stu-id="62686-216">hello names are similar toohello table names in azure storage.</span></span> <span data-ttu-id="62686-217">Por exemplo `Performance Counters` é coletado no `PerformanceCountersTable.tsf`, Logs de eventos coletados no `WindowsEventLogsTable.tsf`.</span><span class="sxs-lookup"><span data-stu-id="62686-217">For example `Performance Counters` get collected in `PerformanceCountersTable.tsf`, Event Logs get collected in `WindowsEventLogsTable.tsf`.</span></span> <span data-ttu-id="62686-218">Use instruções de saudação em [extração de Log Local](#local-log-extraction) tooopen Olá coleta local arquivos da seção e verifique se você vê-los obtendo coletados no disco.</span><span class="sxs-lookup"><span data-stu-id="62686-218">Use hello instructions in [Local Log Extraction](#local-log-extraction) section tooopen hello local collection files and make sure you see them getting collected on disk.</span></span>

<span data-ttu-id="62686-219">Se você não ver logs obtendo coletados localmente e já tiver verificado que o host hello está gerando dados, você provavelmente tem um problema de configuração.</span><span class="sxs-lookup"><span data-stu-id="62686-219">If you don't see logs getting collected locally and have already verified that hello host is generating data, you likely have a configuration issue.</span></span> <span data-ttu-id="62686-220">Examine a configuração cuidadosamente para seção apropriada de saudação.</span><span class="sxs-lookup"><span data-stu-id="62686-220">Review your configuration carefully for hello appropriate section.</span></span> <span data-ttu-id="62686-221">Revise também a configuração de saudação gerada para MonitoringAgent [MaConfig.xml](#log-artifacts-path) e verifique se há alguma seção que descreve a origem de log relevantes hello e que não sejam perdido em conversão entre a configuração de diagnóstico do azure e configuração do agente de monitoramento.</span><span class="sxs-lookup"><span data-stu-id="62686-221">Also review hello configuration generated for MonitoringAgent [MaConfig.xml](#log-artifacts-path) and make sure there is some section describing hello relevant log source and that it is not lost in translation between azure diagnostics configuration and monitoring agent configuration.</span></span>
#### <a name="is-data-getting-transferred"></a><span data-ttu-id="62686-222">Os dados estão sendo transferidos:</span><span class="sxs-lookup"><span data-stu-id="62686-222">Is data getting transferred:</span></span>
<span data-ttu-id="62686-223">Se você tiver verificado dados saudação obtendo capturados localmente, mas você ainda não estiver visível na sua conta de armazenamento:</span><span class="sxs-lookup"><span data-stu-id="62686-223">If you have verified hello data is getting captured locally but you still don't see it in your storage account:</span></span> 
- <span data-ttu-id="62686-224">Primeiramente, verifique se você forneceu uma conta de armazenamento correta e que você não rodado chaves etc.for Olá considerando a conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="62686-224">First and foremost, make sure that you have provided a correct storage account and that you have not rolled over keys etc.for hello given storage account.</span></span> <span data-ttu-id="62686-225">Para serviços de nuvem, às vezes, podemos ver que as pessoas não atualizam seus `useDevelopmentStorage=true`.</span><span class="sxs-lookup"><span data-stu-id="62686-225">For cloud services, sometimes we see that people don't update their `useDevelopmentStorage=true`.</span></span>
- <span data-ttu-id="62686-226">Se a conta de armazenamento fornecida está correta.</span><span class="sxs-lookup"><span data-stu-id="62686-226">If provided storage account is correct.</span></span> <span data-ttu-id="62686-227">Verifique se que você não tem algumas restrições de rede que não permitem componentes Olá tooreach pontos de extremidade de armazenamento público.</span><span class="sxs-lookup"><span data-stu-id="62686-227">Make sure you do not have some network restrictions that do not allow hello components tooreach public storage endpoints.</span></span> <span data-ttu-id="62686-228">Toodo unidirecional que é a área de trabalho tooremote saudação do computador e tente toowrite algo toohello mesmo armazenamento de conta por conta própria.</span><span class="sxs-lookup"><span data-stu-id="62686-228">One way toodo that is tooremote desktop into hello machine and try toowrite something toohello same storage account yourself.</span></span>
- <span data-ttu-id="62686-229">Por fim, você pode tentar e ver quais falhas estão sendo relatadas pelo Agente de monitoramento.</span><span class="sxs-lookup"><span data-stu-id="62686-229">Finally, you can try and see what failure are being reported by Monitoring Agent.</span></span> <span data-ttu-id="62686-230">Agente de monitoramento grava logs `maeventtable.tsf` localizado em [repositório local para dados de diagnóstico de Olá](#log-artifacts-path).</span><span class="sxs-lookup"><span data-stu-id="62686-230">Monitoring agent writes its logs in `maeventtable.tsf` located in [hello local store for diagnostics data](#log-artifacts-path).</span></span> <span data-ttu-id="62686-231">Siga as instruções em [extração de Log Local](#local-log-extraction) seção tooopen esse arquivo e tente e descobrir se há `errors` indicando arquivos locais do tooread falhas ou gravar toostorage.</span><span class="sxs-lookup"><span data-stu-id="62686-231">Follow instructions in [Local Log Extraction](#local-log-extraction) section tooopen this file and try and figure out if there are `errors` indicating failures tooread local files or write toostorage.</span></span>

### <a name="capturing--archiving-logs"></a><span data-ttu-id="62686-232">Capturando/arquivando logs</span><span class="sxs-lookup"><span data-stu-id="62686-232">Capturing / Archiving logs</span></span>
<span data-ttu-id="62686-233">Você passou pelo Olá acima etapas, mas não foi possível calcular o que estava incorreto e estão pensando sobre como contatar o suporte.</span><span class="sxs-lookup"><span data-stu-id="62686-233">You went through hello above steps but could not figure out what was wrong and are thinking about contacting support.</span></span> <span data-ttu-id="62686-234">Olá primeiro podem pedir que você é toocollect logs em seu computador.</span><span class="sxs-lookup"><span data-stu-id="62686-234">hello first thing they might ask you is toocollect logs from your machine.</span></span> <span data-ttu-id="62686-235">Você pode poupar tempo fazendo isso você mesmo.</span><span class="sxs-lookup"><span data-stu-id="62686-235">You can save time by doing that yourself.</span></span> <span data-ttu-id="62686-236">Executar Olá `CollectGuestLogs.exe` utilitário em [caminho de utilitário de coleta de Log](#log-artifacts-path) e gera um arquivo zip com todos os logs do azure relevantes no hello mesma pasta.</span><span class="sxs-lookup"><span data-stu-id="62686-236">Run hello `CollectGuestLogs.exe` utility at  [Log Collection Utility path](#log-artifacts-path) and it generates a zip file with all relevant azure logs in hello same folder.</span></span>

## <a name="diagnostics-data-tables-not-found"></a><span data-ttu-id="62686-237">Tabelas dos dados de diagnósticos não encontradas</span><span class="sxs-lookup"><span data-stu-id="62686-237">Diagnostics data Tables not found</span></span>
<span data-ttu-id="62686-238">tabelas de Olá no armazenamento do Azure, mantendo eventos ETW são nomeadas usando Olá código a seguir:</span><span class="sxs-lookup"><span data-stu-id="62686-238">hello tables in Azure storage holding ETW events are named using hello following code:</span></span>

```C#
        if (String.IsNullOrEmpty(eventDestination)) {
            if (e == "DefaultEvents")
                tableName = "WADDefault" + MD5(provider);
            else
                tableName = "WADEvent" + MD5(provider) + eventId;
        }
        else
            tableName = "WAD" + eventDestination;
```

<span data-ttu-id="62686-239">Aqui está um exemplo:</span><span class="sxs-lookup"><span data-stu-id="62686-239">Here is an example:</span></span>

```XML
        <EtwEventSourceProviderConfiguration provider="prov1">
          <Event id="1" />
          <Event id="2" eventDestination="dest1" />
          <DefaultEvents />
        </EtwEventSourceProviderConfiguration>
        <EtwEventSourceProviderConfiguration provider="prov2">
          <DefaultEvents eventDestination="dest2" />
        </EtwEventSourceProviderConfiguration>
```
```JSON
"EtwEventSourceProviderConfiguration": [
    {
        "provider": "prov1",
        "Event": [
            {
                "id": 1
            },
            {
                "id": 2,
                "eventDestination": "dest1"
            }
        ],
        "DefaultEvents": {
            "eventDestination": "DefaultEventDestination",
            "sinks": ""
        }
    },
    {
        "provider": "prov2",
        "DefaultEvents": {
            "eventDestination": "dest2"
        }
    }
]
```
<span data-ttu-id="62686-240">Isso gera quatro tabelas:</span><span class="sxs-lookup"><span data-stu-id="62686-240">That generates 4 tables:</span></span>

| <span data-ttu-id="62686-241">Evento</span><span class="sxs-lookup"><span data-stu-id="62686-241">Event</span></span> | <span data-ttu-id="62686-242">Nome da tabela</span><span class="sxs-lookup"><span data-stu-id="62686-242">Table Name</span></span> |
| --- | --- |
| <span data-ttu-id="62686-243">provider=”prov1” &lt;Event id=”1” /&gt;</span><span class="sxs-lookup"><span data-stu-id="62686-243">provider=”prov1” &lt;Event id=”1” /&gt;</span></span> |<span data-ttu-id="62686-244">WADEvent+MD5("prov1")+"1"</span><span class="sxs-lookup"><span data-stu-id="62686-244">WADEvent+MD5(“prov1”)+”1”</span></span> |
| <span data-ttu-id="62686-245">provider=”prov1” &lt;Event id=”2” eventDestination=”dest1” /&gt;</span><span class="sxs-lookup"><span data-stu-id="62686-245">provider=”prov1” &lt;Event id=”2” eventDestination=”dest1” /&gt;</span></span> |<span data-ttu-id="62686-246">WADdest1</span><span class="sxs-lookup"><span data-stu-id="62686-246">WADdest1</span></span> |
| <span data-ttu-id="62686-247">provider=”prov1” &lt;DefaultEvents /&gt;</span><span class="sxs-lookup"><span data-stu-id="62686-247">provider=”prov1” &lt;DefaultEvents /&gt;</span></span> |<span data-ttu-id="62686-248">WADDefault+MD5("prov1")</span><span class="sxs-lookup"><span data-stu-id="62686-248">WADDefault+MD5(“prov1”)</span></span> |
| <span data-ttu-id="62686-249">provider=”prov2” &lt;DefaultEvents eventDestination=”dest2” /&gt;</span><span class="sxs-lookup"><span data-stu-id="62686-249">provider=”prov2” &lt;DefaultEvents eventDestination=”dest2” /&gt;</span></span> |<span data-ttu-id="62686-250">WADdest2</span><span class="sxs-lookup"><span data-stu-id="62686-250">WADdest2</span></span> |

## <a name="references"></a><span data-ttu-id="62686-251">Referências</span><span class="sxs-lookup"><span data-stu-id="62686-251">References</span></span>

### <a name="how-toocheck-diagnostics-extension-configuration"></a><span data-ttu-id="62686-252">Como toocheck configuração de extensão de diagnóstico</span><span class="sxs-lookup"><span data-stu-id="62686-252">How toocheck Diagnostics Extension Configuration</span></span>
<span data-ttu-id="62686-253">Olá toocheck de maneira mais fácil a configuração de extensão toonavigate toohttp://resources.azure.com, navegar toohello virtual machine ou serviço em nuvem na qual extensão de diagnóstico do Azure hello (IaaSDiagnostics / PaaDiagnostics) em questão.</span><span class="sxs-lookup"><span data-stu-id="62686-253">hello easiest way toocheck your extension configuration is toonavigate toohttp://resources.azure.com, navigate toohello virtual machine or cloud service on which hello Azure Diagnostics extension (IaaSDiagnostics / PaaDiagnostics) is in question.</span></span>

<span data-ttu-id="62686-254">Como alternativa, área de trabalho remota na máquina hello e examine o arquivo de configuração de diagnóstico do Azure Olá descrito na seção apropriada de saudação [aqui](#log-artifacts-path).</span><span class="sxs-lookup"><span data-stu-id="62686-254">Alternatively, remote desktop into hello machine and look at hello Azure Diagnostics Configuration file described in hello appropriate section [here](#log-artifacts-path).</span></span>

<span data-ttu-id="62686-255">No caso procurar **Microsoft.Azure.Diagnostics** , em seguida, para Olá **xmlCfg** ou **WadCfg** campo.</span><span class="sxs-lookup"><span data-stu-id="62686-255">In either case search for **Microsoft.Azure.Diagnostics** then for hello **xmlCfg** or **WadCfg** field.</span></span> 

<span data-ttu-id="62686-256">No caso de máquinas virtuais, se Olá WadCfg campo não estiver presente, isso significa Olá configuração está em JSON.</span><span class="sxs-lookup"><span data-stu-id="62686-256">In case of virtual machines, if hello WadCfg field is present, it means hello config is in JSON.</span></span> <span data-ttu-id="62686-257">Se houver um campo de xmlCfg Olá, isso significa Olá config é em XML e é codificada em base64.</span><span class="sxs-lookup"><span data-stu-id="62686-257">If hello xmlCfg field is present, it means hello config is in XML and is base64 encoded.</span></span> <span data-ttu-id="62686-258">É necessário muito[decodificá-la](http://www.bing.com/search?q=base64+decoder) toosee Olá XML que foi carregado pelo diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="62686-258">You need too[decode it](http://www.bing.com/search?q=base64+decoder) toosee hello XML that was loaded by Diagnostics.</span></span>

<span data-ttu-id="62686-259">Para função de serviço de nuvem, se você escolher a configuração de saudação do disco, dados de saudação serão codificação base64 para que você precisará de muito[decodificá-la](http://www.bing.com/search?q=base64+decoder) toosee Olá XML que foi carregado pelo diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="62686-259">For Cloud Service role, if you pick hello configuration from disk, hello data is base64 encoded so you’ll need too[decode it](http://www.bing.com/search?q=base64+decoder) toosee hello XML that was loaded by Diagnostics.</span></span>

### <a name="azure-diagnostics-plugin-exit-codes"></a><span data-ttu-id="62686-260">Códigos de saída do plug-in do Diagnóstico do Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="62686-260">Azure Diagnostics Plugin Exit Codes</span></span>
<span data-ttu-id="62686-261">plug-in de saudação retorna Olá códigos de saída a seguir:</span><span class="sxs-lookup"><span data-stu-id="62686-261">hello plugin returns hello following exit codes:</span></span>

| <span data-ttu-id="62686-262">Código de Saída</span><span class="sxs-lookup"><span data-stu-id="62686-262">Exit Code</span></span> | <span data-ttu-id="62686-263">Descrição</span><span class="sxs-lookup"><span data-stu-id="62686-263">Description</span></span> |
| --- | --- |
| <span data-ttu-id="62686-264">0</span><span class="sxs-lookup"><span data-stu-id="62686-264">0</span></span> |<span data-ttu-id="62686-265">Sucesso.</span><span class="sxs-lookup"><span data-stu-id="62686-265">Success.</span></span> |
| <span data-ttu-id="62686-266">-1</span><span class="sxs-lookup"><span data-stu-id="62686-266">-1</span></span> |<span data-ttu-id="62686-267">Erro genérico.</span><span class="sxs-lookup"><span data-stu-id="62686-267">Generic Error.</span></span> |
| <span data-ttu-id="62686-268">-2</span><span class="sxs-lookup"><span data-stu-id="62686-268">-2</span></span> |<span data-ttu-id="62686-269">Arquivo de rcf de saudação tooload não é possível.</span><span class="sxs-lookup"><span data-stu-id="62686-269">Unable tooload hello rcf file.</span></span><p><span data-ttu-id="62686-270">Esse erro interno só deve acontecer se o iniciador de plug-in do agente de convidado Olá é invocada manualmente, incorretamente, em Olá VM.</span><span class="sxs-lookup"><span data-stu-id="62686-270">This internal error should only happen if hello guest agent plugin launcher is manually invoked, incorrectly, on hello VM.</span></span> |
| <span data-ttu-id="62686-271">-3</span><span class="sxs-lookup"><span data-stu-id="62686-271">-3</span></span> |<span data-ttu-id="62686-272">Não é possível carregar o arquivo de configuração de diagnóstico de saudação.</span><span class="sxs-lookup"><span data-stu-id="62686-272">Cannot load hello Diagnostics configuration file.</span></span><p><p><span data-ttu-id="62686-273">Solução: causado por um arquivo de configuração que não passa pela validação do esquema.</span><span class="sxs-lookup"><span data-stu-id="62686-273">Solution: Caused by a configuration file not passing schema validation.</span></span> <span data-ttu-id="62686-274">solução de saudação é tooprovide um arquivo de configuração que esteja em conformidade com o esquema de saudação.</span><span class="sxs-lookup"><span data-stu-id="62686-274">hello solution is tooprovide a configuration file that complies with hello schema.</span></span> |
| <span data-ttu-id="62686-275">-4</span><span class="sxs-lookup"><span data-stu-id="62686-275">-4</span></span> |<span data-ttu-id="62686-276">Outra instância do hello diagnóstico de agente de monitoramento já está usando o diretório do recurso local hello.</span><span class="sxs-lookup"><span data-stu-id="62686-276">Another instance of hello monitoring agent Diagnostics is already using hello local resource directory.</span></span><p><p><span data-ttu-id="62686-277">Solução: especifique um valor diferente para **LocalResourceDirectory**.</span><span class="sxs-lookup"><span data-stu-id="62686-277">Solution: Specify a different value for **LocalResourceDirectory**.</span></span> |
| <span data-ttu-id="62686-278">-6</span><span class="sxs-lookup"><span data-stu-id="62686-278">-6</span></span> |<span data-ttu-id="62686-279">iniciador de plug-in do agente de convidado Olá tentativa toolaunch diagnóstico com uma linha de comando inválida.</span><span class="sxs-lookup"><span data-stu-id="62686-279">hello guest agent plugin launcher attempted toolaunch Diagnostics with an invalid command line.</span></span><p><p><span data-ttu-id="62686-280">Esse erro interno só deve acontecer se o iniciador de plug-in do agente de convidado Olá é invocada manualmente, incorretamente, em Olá VM.</span><span class="sxs-lookup"><span data-stu-id="62686-280">This internal error should only happen if hello guest agent plugin launcher is manually invoked, incorrectly, on hello VM.</span></span> |
| <span data-ttu-id="62686-281">-10</span><span class="sxs-lookup"><span data-stu-id="62686-281">-10</span></span> |<span data-ttu-id="62686-282">Olá plug-in de diagnóstico foi encerrado com uma exceção sem tratamento.</span><span class="sxs-lookup"><span data-stu-id="62686-282">hello Diagnostics plugin exited with an unhandled exception.</span></span> |
| <span data-ttu-id="62686-283">-11</span><span class="sxs-lookup"><span data-stu-id="62686-283">-11</span></span> |<span data-ttu-id="62686-284">o agente convidado Olá era o processo de saudação de toocreate não é possível responsável por iniciar e monitorar Olá agente de monitoramento.</span><span class="sxs-lookup"><span data-stu-id="62686-284">hello guest agent was unable toocreate hello process responsible for launching and monitoring hello monitoring agent.</span></span><p><p><span data-ttu-id="62686-285">Solução: Verifique se os recursos de sistema suficientes disponíveis toolaunch novos processos.</span><span class="sxs-lookup"><span data-stu-id="62686-285">Solution: Verify that sufficient system resources are available toolaunch new processes.</span></span><p> |
| <span data-ttu-id="62686-286">-101</span><span class="sxs-lookup"><span data-stu-id="62686-286">-101</span></span> |<span data-ttu-id="62686-287">Argumentos inválidos ao chamar hello plug-in de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="62686-287">Invalid arguments when calling hello Diagnostics plugin.</span></span><p><p><span data-ttu-id="62686-288">Esse erro interno só deve acontecer se o iniciador de plug-in do agente de convidado Olá é invocada manualmente, incorretamente, em Olá VM.</span><span class="sxs-lookup"><span data-stu-id="62686-288">This internal error should only happen if hello guest agent plugin launcher is manually invoked, incorrectly, on hello VM.</span></span> |
| <span data-ttu-id="62686-289">-102</span><span class="sxs-lookup"><span data-stu-id="62686-289">-102</span></span> |<span data-ttu-id="62686-290">processo do plug-in de saudação é tooinitialize não é possível em si.</span><span class="sxs-lookup"><span data-stu-id="62686-290">hello plugin process is unable tooinitialize itself.</span></span><p><p><span data-ttu-id="62686-291">Solução: Verifique se os recursos de sistema suficientes disponíveis toolaunch novos processos.</span><span class="sxs-lookup"><span data-stu-id="62686-291">Solution: Verify that sufficient system resources are available toolaunch new processes.</span></span> |
| <span data-ttu-id="62686-292">-103</span><span class="sxs-lookup"><span data-stu-id="62686-292">-103</span></span> |<span data-ttu-id="62686-293">processo do plug-in de saudação é tooinitialize não é possível em si.</span><span class="sxs-lookup"><span data-stu-id="62686-293">hello plugin process is unable tooinitialize itself.</span></span> <span data-ttu-id="62686-294">Especificamente, é objeto de agente de log Olá toocreate não é possível.</span><span class="sxs-lookup"><span data-stu-id="62686-294">Specifically it is unable toocreate hello logger object.</span></span><p><p><span data-ttu-id="62686-295">Solução: Verifique se os recursos de sistema suficientes disponíveis toolaunch novos processos.</span><span class="sxs-lookup"><span data-stu-id="62686-295">Solution: Verify that sufficient system resources are available toolaunch new processes.</span></span> |
| <span data-ttu-id="62686-296">-104</span><span class="sxs-lookup"><span data-stu-id="62686-296">-104</span></span> |<span data-ttu-id="62686-297">Tooload não é possível Olá rcf o arquivo fornecido pelo agente de convidado hello.</span><span class="sxs-lookup"><span data-stu-id="62686-297">Unable tooload hello rcf file provided by hello guest agent.</span></span><p><p><span data-ttu-id="62686-298">Esse erro interno só deve acontecer se o iniciador de plug-in do agente de convidado Olá é invocada manualmente, incorretamente, em Olá VM.</span><span class="sxs-lookup"><span data-stu-id="62686-298">This internal error should only happen if hello guest agent plugin launcher is manually invoked, incorrectly, on hello VM.</span></span> |
| <span data-ttu-id="62686-299">-105</span><span class="sxs-lookup"><span data-stu-id="62686-299">-105</span></span> |<span data-ttu-id="62686-300">plug-in de diagnóstico de saudação não é possível abrir o arquivo de configuração de diagnóstico de saudação.</span><span class="sxs-lookup"><span data-stu-id="62686-300">hello Diagnostics plugin cannot open hello Diagnostics configuration file.</span></span><p><p><span data-ttu-id="62686-301">Esse erro interno só deve acontecer se o plug-in de diagnóstico de saudação é invocada manualmente, incorretamente, em Olá VM.</span><span class="sxs-lookup"><span data-stu-id="62686-301">This internal error should only happen if hello Diagnostics plugin is manually invoked, incorrectly, on hello VM.</span></span> |
| <span data-ttu-id="62686-302">-106</span><span class="sxs-lookup"><span data-stu-id="62686-302">-106</span></span> |<span data-ttu-id="62686-303">Não é possível ler o arquivo de configuração de diagnóstico de saudação.</span><span class="sxs-lookup"><span data-stu-id="62686-303">Cannot read hello Diagnostics configuration file.</span></span><p><p><span data-ttu-id="62686-304">Solução: causado por um arquivo de configuração que não passa pela validação do esquema.</span><span class="sxs-lookup"><span data-stu-id="62686-304">Solution: Caused by a configuration file not passing schema validation.</span></span> <span data-ttu-id="62686-305">Portanto, solução Olá é tooprovide um arquivo de configuração que esteja em conformidade com o esquema de saudação.</span><span class="sxs-lookup"><span data-stu-id="62686-305">So hello solution is tooprovide a configuration file that complies with hello schema.</span></span> <span data-ttu-id="62686-306">Consulte [como toocheck configuração de extensão de diagnóstico](#how-to-check-diagnostics-extension-configuration).</span><span class="sxs-lookup"><span data-stu-id="62686-306">See [How toocheck Diagnostics Extension Configuration](#how-to-check-diagnostics-extension-configuration).</span></span> |
| <span data-ttu-id="62686-307">-107</span><span class="sxs-lookup"><span data-stu-id="62686-307">-107</span></span> |<span data-ttu-id="62686-308">Olá recurso directory passagem toohello agente de monitoramento é inválido.</span><span class="sxs-lookup"><span data-stu-id="62686-308">hello resource directory pass toohello monitoring agent is invalid.</span></span><p><p><span data-ttu-id="62686-309">Esse erro interno só deve acontecer se Olá agente de monitoramento é invocada manualmente, incorretamente, em Olá VM.</span><span class="sxs-lookup"><span data-stu-id="62686-309">This internal error should only happen if hello monitoring agent is manually invoked, incorrectly, on hello VM.</span></span></p> |
| <span data-ttu-id="62686-310">-108</span><span class="sxs-lookup"><span data-stu-id="62686-310">-108</span></span> |<span data-ttu-id="62686-311">Não é possível tooconvert o arquivo de configuração de diagnóstico de saudação em Olá arquivo de configuração do agente de monitoramento.</span><span class="sxs-lookup"><span data-stu-id="62686-311">Unable tooconvert hello Diagnostics configuration file into hello monitoring agent configuration file.</span></span><p><p><span data-ttu-id="62686-312">Esse erro interno deve ocorrer somente se o plug-in de diagnóstico Olá manualmente é invocado com um arquivo de configuração inválido.</span><span class="sxs-lookup"><span data-stu-id="62686-312">This internal error should only happen if hello Diagnostics plugin is manually invoked with an invalid configuration file.</span></span> |
| <span data-ttu-id="62686-313">-110</span><span class="sxs-lookup"><span data-stu-id="62686-313">-110</span></span> |<span data-ttu-id="62686-314">Erro de configuração de diagnóstico geral.</span><span class="sxs-lookup"><span data-stu-id="62686-314">General Diagnostics configuration error.</span></span><p><p><span data-ttu-id="62686-315">Esse erro interno deve ocorrer somente se o plug-in de diagnóstico Olá manualmente é invocado com um arquivo de configuração inválido.</span><span class="sxs-lookup"><span data-stu-id="62686-315">This internal error should only happen if hello Diagnostics plugin is manually invoked with an invalid configuration file.</span></span> |
| <span data-ttu-id="62686-316">-111</span><span class="sxs-lookup"><span data-stu-id="62686-316">-111</span></span> |<span data-ttu-id="62686-317">Agente de monitoramento não é possível toostart hello.</span><span class="sxs-lookup"><span data-stu-id="62686-317">Unable toostart hello monitoring agent.</span></span><p><p><span data-ttu-id="62686-318">Solução: verifique se há recursos de sistema suficientes disponíveis para iniciar novos processos.</span><span class="sxs-lookup"><span data-stu-id="62686-318">Solution: Verify that sufficient system resources are available.</span></span> |
| <span data-ttu-id="62686-319">-112</span><span class="sxs-lookup"><span data-stu-id="62686-319">-112</span></span> |<span data-ttu-id="62686-320">Erro geral</span><span class="sxs-lookup"><span data-stu-id="62686-320">General error</span></span> |

### <a name="local-log-extraction"></a><span data-ttu-id="62686-321">Extração de log local</span><span class="sxs-lookup"><span data-stu-id="62686-321">Local Log Extraction</span></span>
<span data-ttu-id="62686-322">Olá, agente de monitoramento coleta logs e artefatos como `.tsf` arquivos.</span><span class="sxs-lookup"><span data-stu-id="62686-322">hello monitoring agent collects logs and artifacts as `.tsf` files.</span></span> <span data-ttu-id="62686-323">O arquivo `.tsf` não está legível, mas você pode convertê-lo em um `.csv` da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="62686-323">`.tsf` file is not readable but you can convert it into a `.csv` as follows:</span></span> 

```
<Azure diagnostics extension package>\Monitor\x64\table2csv.exe <relevantLogFile>.tsf
```
<span data-ttu-id="62686-324">Um novo arquivo chamado `<relevantLogFile>.csv` será criado no hello mesmo caminho como Olá correspondente `.tsf` arquivo.</span><span class="sxs-lookup"><span data-stu-id="62686-324">A new file called `<relevantLogFile>.csv` will be created in hello same path as hello corresponding `.tsf` file.</span></span>

<span data-ttu-id="62686-325">**Observação**: basta toorun este utilitário em arquivo tsf principal de saudação (por exemplo, PerformanceCountersTable.tsf).</span><span class="sxs-lookup"><span data-stu-id="62686-325">**NOTE**: You only need toorun this utility against hello main tsf file (e.g., PerformanceCountersTable.tsf).</span></span> <span data-ttu-id="62686-326">Olá arquivos complementares (por exemplo, PerformanceCountersTables_\*\*001.tsf, PerformanceCountersTables_\*\*002. tsf etc.) será processado automaticamente.</span><span class="sxs-lookup"><span data-stu-id="62686-326">hello accompanying files (e.g., PerformanceCountersTables_\*\*001.tsf, PerformanceCountersTables_\*\*002.tsf etc.) will automatically be processed.</span></span>

### <a name="more-about-trace-logs-missing"></a><span data-ttu-id="62686-327">Mais informações sobre Logs de rastreamento ausentes</span><span class="sxs-lookup"><span data-stu-id="62686-327">More About Trace Logs Missing</span></span>

<span data-ttu-id="62686-328">**Observação:** principalmente aplica-se serviços toocloud somente a menos que você configurou Olá DiagnosticsMonitorTraceListener em um aplicativo em execução na sua VM IaaS.</span><span class="sxs-lookup"><span data-stu-id="62686-328">**Note:** This mostly applies toocloud services only unless you have configured hello DiagnosticsMonitorTraceListener on an application running on your IaaS VM.</span></span> 

- <span data-ttu-id="62686-329">Verifique se Olá que diagnosticmonitortracelistener está configurado no Olá Web. config ou App. config.  Isso é configurado por padrão em projetos de serviço de nuvem, mas alguns clientes de comentário fora que fará com que a saudação toonot de instruções de rastreamento seja coletado pelo diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="62686-329">Make sure hello DiagnosticMonitorTraceListener is configured in hello web.config or app.config.  This is configured by default in cloud service projects, but some customers comment it out which will cause hello trace statements toonot be collected by diagnostics.</span></span> 
- <span data-ttu-id="62686-330">Se não estão obtendo gravados logs de Olá OnStart ou executar método Certifique-se de que Olá que diagnosticmonitortracelistener está em Olá App. config.  Por padrão, ele está em Olá Web. config, mas que se aplica apenas toocode em execução no w3wp.exe; Portanto, você precisa-lo em App. config toocapture rastreamentos em execução no WaIISHost.exe.</span><span class="sxs-lookup"><span data-stu-id="62686-330">If logs are not getting written from hello OnStart or Run method make sure hello DiagnosticMonitorTraceListener is in hello app.config.  By default it is in hello web.config, but that only applies toocode running within w3wp.exe; so you need it in app.config toocapture traces running in WaIISHost.exe.</span></span>
- <span data-ttu-id="62686-331">Certifique-se de que você está usando Diagnostics.Trace.TraceXXX em vez de Diagnostics.Debug.WriteXXX.</span><span class="sxs-lookup"><span data-stu-id="62686-331">Make sure you are using Diagnostics.Trace.TraceXXX instead of Diagnostics.Debug.WriteXXX.</span></span>  <span data-ttu-id="62686-332">Olá instruções de depuração serão removidas de uma compilação de versão.</span><span class="sxs-lookup"><span data-stu-id="62686-332">hello Debug statements will be removed from a Release build.</span></span>
- <span data-ttu-id="62686-333">Verifique se o código compilado de saudação realmente tem linhas de trace hello (use tooverify Reflector, ildasm ou ILSpy).</span><span class="sxs-lookup"><span data-stu-id="62686-333">Make sure hello compiled code actually has hello Diagnostics.Trace lines (use Reflector, ildasm or ILSpy tooverify).</span></span>  <span data-ttu-id="62686-334">Trace comandos são removidos do binário Olá compilado, a menos que você usar o símbolo de compilação condicional Olá rastreamento.</span><span class="sxs-lookup"><span data-stu-id="62686-334">Diagnostics.Trace commands are removed from hello compiled binary unless you use hello TRACE conditional compilation symbol.</span></span>  <span data-ttu-id="62686-335">Se usar o projeto do msbuild toobuild Olá, esta será uma toorun problema comum em.</span><span class="sxs-lookup"><span data-stu-id="62686-335">If using msbuild toobuild hello project then this is a common problem toorun into.</span></span>

## <a name="known-issues-and-mitigations"></a><span data-ttu-id="62686-336">Problemas e mitigações conhecidos</span><span class="sxs-lookup"><span data-stu-id="62686-336">Known Issues and Mitigations</span></span>
<span data-ttu-id="62686-337">Aqui está uma lista dos problemas conhecidos com mitigações conhecidas:</span><span class="sxs-lookup"><span data-stu-id="62686-337">Here is a list of known issues with known mitigations:</span></span>

<span data-ttu-id="62686-338">**1. Dependência do .NET 4.5:**</span><span class="sxs-lookup"><span data-stu-id="62686-338">**1. .NET 4.5 dependency:**</span></span>

<span data-ttu-id="62686-339">WAD tem uma dependência de tempo de execução no .NET framework 4.5 ou superior.</span><span class="sxs-lookup"><span data-stu-id="62686-339">WAD has a runtime dependency on .NET 4.5 framework or above.</span></span> <span data-ttu-id="62686-340">Em tempo de saudação de gravação de isso, todos os computadores provisionados para os serviços de nuvem, bem como todos os oficial do azure base imagens da máquina Virtual tem o .NET 4.5 ou acima instalado.</span><span class="sxs-lookup"><span data-stu-id="62686-340">At hello time of writing this, all machines provisioned for cloud services as well as all official azure Virtual Machine base images have .NET 4.5 or above installed.</span></span> <span data-ttu-id="62686-341">É possível ainda porém tooland em uma situação em que você tente toorun WAD em um computador que não tem o .NET 4.5 ou superior.</span><span class="sxs-lookup"><span data-stu-id="62686-341">It is still however possible tooland in a situation where you try toorun WAD on a machine which does not have .NET 4.5 or above.</span></span> <span data-ttu-id="62686-342">Isso acontece quando você cria seu computador fora de uma imagem antiga ou instantâneo; ou traz seu próprio disco personalizado.</span><span class="sxs-lookup"><span data-stu-id="62686-342">This happens when you create your machine off of an old image or snapshot; or bring your own custom disk.</span></span>

<span data-ttu-id="62686-343">Isso geralmente se manifesta como um código de saída **255** ao executar o DiagnosticsPluginLauncher.exe.</span><span class="sxs-lookup"><span data-stu-id="62686-343">This generally manifests as an exit code **255** when running DiagnosticsPluginLauncher.exe.</span></span> <span data-ttu-id="62686-344">Falha ocorre devido a toohello sem tratamento de exceção:</span><span class="sxs-lookup"><span data-stu-id="62686-344">Failure happens due toohello unhandled exception:</span></span> 
```
System.IO.FileLoadException: Could not load file or assembly 'System.Threading.Tasks, Version=1.5.11.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a' or one of its dependencies
```

<span data-ttu-id="62686-345">**Mitigação:** instala o .NET 4.5 ou superior no seu computador.</span><span class="sxs-lookup"><span data-stu-id="62686-345">**Mitigation:** Install .NET 4.5 or higher on your machine.</span></span>

<span data-ttu-id="62686-346">**2. Dados de Contadores de desempenho estão disponíveis no armazenamento, mas não são mostrados no portal**</span><span class="sxs-lookup"><span data-stu-id="62686-346">**2. Performance Counters data available in storage but not showing in portal**</span></span>

<span data-ttu-id="62686-347">A experiência do portal de máquinas virtuais mostra determinados contadores de desempenho por padrão.</span><span class="sxs-lookup"><span data-stu-id="62686-347">Virtual machines portal experience shows certain performance counters by default.</span></span> <span data-ttu-id="62686-348">Se você não vê-los e você sabe que estão sendo gerados dados saudação porque ele está disponível no armazenamento.</span><span class="sxs-lookup"><span data-stu-id="62686-348">If you don't see them and you know hello data is getting generated because it is available in storage.</span></span> <span data-ttu-id="62686-349">Verificação:</span><span class="sxs-lookup"><span data-stu-id="62686-349">Check:</span></span>
- <span data-ttu-id="62686-350">Se dados Olá no armazenamento possui nomes de contador em inglês.</span><span class="sxs-lookup"><span data-stu-id="62686-350">If hello data in storage has counter names in English.</span></span> <span data-ttu-id="62686-351">Se os nomes de contadores de saudação não estão em inglês, portal gráfico de métrica não será capaz de toorecognize-lo.</span><span class="sxs-lookup"><span data-stu-id="62686-351">If hello counter names are not in English, portal metric chart will not be able toorecognize it.</span></span>
- <span data-ttu-id="62686-352">Se você estiver usando caracteres curinga (\*) em seus nomes de contador de desempenho, o portal de Olá não será capaz de toocorrelate Olá configurado e coletados contador.</span><span class="sxs-lookup"><span data-stu-id="62686-352">If you are using wild cards (\*) in your performance counter names, hello portal will not be able toocorrelate hello configured and collected counter.</span></span>

<span data-ttu-id="62686-353">**Mitigação**: alterar tooEnglish de idioma do computador Olá para contas do sistema.</span><span class="sxs-lookup"><span data-stu-id="62686-353">**Mitigation**: Change hello machine's language tooEnglish for system accounts.</span></span> <span data-ttu-id="62686-354">Painel de controle -> região -> administrativo -> configurações de cópia -> desmarque "Bem-vindo ao sistema e tela contas" para que não seja de idioma personalizado Olá aplicado toosystem conta.</span><span class="sxs-lookup"><span data-stu-id="62686-354">Control Panel -> Region -> Administrative -> Copy Settings -> uncheck "Welcome screen and system accounts" so that hello custom language is not applied toosystem account.</span></span> <span data-ttu-id="62686-355">Verifique também se que você não usar curingas, se você quiser toobe portal sua experiência de consumo principal.</span><span class="sxs-lookup"><span data-stu-id="62686-355">Also make sure you do not use wild cards if you want portal toobe your primary consumption experience.</span></span>
