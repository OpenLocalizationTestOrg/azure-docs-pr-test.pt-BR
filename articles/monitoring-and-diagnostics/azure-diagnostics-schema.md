---
title: "aaaAzure diagnóstico versões de esquema de configuração de extensão e histórico | Microsoft Docs"
description: "Contadores de desempenho relevantes toocollecting em máquinas virtuais do Azure, conjuntos de escala de VM, serviço de malha e serviços de nuvem."
services: monitoring-and-diagnostics
documentationcenter: .net
author: rboucher
manager: carmonm
editor: 
ms.assetid: 
ms.service: monitoring-and-diagnostics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 05/16/2017
ms.author: robb
ms.openlocfilehash: 854ad118f660810aa38703670284794d658142c7
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-diagnostics-extention-configuration-schema-versions-and-history"></a><span data-ttu-id="cfdf1-103">Versões de esquema de configuração da extensão do Diagnóstico do Azure</span><span class="sxs-lookup"><span data-stu-id="cfdf1-103">Azure Diagnostics extention configuration schema versions and history</span></span>
<span data-ttu-id="cfdf1-104">Esta página de índices versões de esquema de extensão de diagnóstico do Azure é fornecido como parte do hello SDK do Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-104">This page indexes Azure Diagnostics extension schema versions shipped as part of hello Microsoft Azure SDK.</span></span>  

> [!NOTE]
> <span data-ttu-id="cfdf1-105">Olá extensão de diagnóstico do Azure é o componente Olá usado toocollect contadores de desempenho e outras estatísticas de:</span><span class="sxs-lookup"><span data-stu-id="cfdf1-105">hello Azure Diagnostics extension is hello component used toocollect performance counters and other statistics from:</span></span>
> - <span data-ttu-id="cfdf1-106">Máquinas Virtuais do Azure</span><span class="sxs-lookup"><span data-stu-id="cfdf1-106">Azure Virtual Machines</span></span> 
> - <span data-ttu-id="cfdf1-107">Conjuntos de Escala de Máquina Virtual</span><span class="sxs-lookup"><span data-stu-id="cfdf1-107">Virtual Machine Scale Sets</span></span>
> - <span data-ttu-id="cfdf1-108">Service Fabric</span><span class="sxs-lookup"><span data-stu-id="cfdf1-108">Service Fabric</span></span> 
> - <span data-ttu-id="cfdf1-109">Serviços de Nuvem</span><span class="sxs-lookup"><span data-stu-id="cfdf1-109">Cloud Services</span></span> 
> - <span data-ttu-id="cfdf1-110">Grupos de segurança de rede</span><span class="sxs-lookup"><span data-stu-id="cfdf1-110">Network Security Groups</span></span>
> 
> <span data-ttu-id="cfdf1-111">Esta página só é relevante se você estiver usando um desses serviços.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-111">This page is only relevant if you are using one of these services.</span></span>

<span data-ttu-id="cfdf1-112">Olá extensão de diagnóstico do Azure é usado com outros produtos da Microsoft diagnóstico como Monitor do Azure, Application Insights e análise de Log.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-112">hello Azure Diagnostics extension is used with other Microsoft diagnostics products like Azure Monitor, Application Insights, and Log Analytics.</span></span> <span data-ttu-id="cfdf1-113">Para saber mais, veja [Visão geral das ferramentas de monitoramento da Microsoft](monitoring-overview.md).</span><span class="sxs-lookup"><span data-stu-id="cfdf1-113">For more information see [Microsoft Monitoring Tools Overview](monitoring-overview.md).</span></span>

## <a name="azure-sdk-and-diagnostics-versions-shipping-chart"></a><span data-ttu-id="cfdf1-114">Gráfico de envio de versões do SDK e Diagnóstico do Azure</span><span class="sxs-lookup"><span data-stu-id="cfdf1-114">Azure SDK and diagnostics versions shipping chart</span></span>  

|<span data-ttu-id="cfdf1-115">Versão do SDK do Azure</span><span class="sxs-lookup"><span data-stu-id="cfdf1-115">Azure SDK version</span></span> | <span data-ttu-id="cfdf1-116">Versão da extensão do Diagnóstico</span><span class="sxs-lookup"><span data-stu-id="cfdf1-116">Diagnostics extension version</span></span> | <span data-ttu-id="cfdf1-117">Modelo</span><span class="sxs-lookup"><span data-stu-id="cfdf1-117">Model</span></span>|  
|------------------|-------------------------------|------|  
|<span data-ttu-id="cfdf1-118">1.x</span><span class="sxs-lookup"><span data-stu-id="cfdf1-118">1.x</span></span>               |<span data-ttu-id="cfdf1-119">1.0</span><span class="sxs-lookup"><span data-stu-id="cfdf1-119">1.0</span></span>                            |<span data-ttu-id="cfdf1-120">plug-in</span><span class="sxs-lookup"><span data-stu-id="cfdf1-120">plug-in</span></span>|  
|<span data-ttu-id="cfdf1-121">2.0 - 2.4</span><span class="sxs-lookup"><span data-stu-id="cfdf1-121">2.0 - 2.4</span></span>         |<span data-ttu-id="cfdf1-122">1.0</span><span class="sxs-lookup"><span data-stu-id="cfdf1-122">1.0</span></span>                            |<span data-ttu-id="cfdf1-123">plug-in</span><span class="sxs-lookup"><span data-stu-id="cfdf1-123">plug-in</span></span>|  
|<span data-ttu-id="cfdf1-124">2.5</span><span class="sxs-lookup"><span data-stu-id="cfdf1-124">2.5</span></span>               |<span data-ttu-id="cfdf1-125">1.2</span><span class="sxs-lookup"><span data-stu-id="cfdf1-125">1.2</span></span>                            |<span data-ttu-id="cfdf1-126">extensão</span><span class="sxs-lookup"><span data-stu-id="cfdf1-126">extension</span></span>|  
|<span data-ttu-id="cfdf1-127">2.6</span><span class="sxs-lookup"><span data-stu-id="cfdf1-127">2.6</span></span>               |<span data-ttu-id="cfdf1-128">1,3</span><span class="sxs-lookup"><span data-stu-id="cfdf1-128">1.3</span></span>                            |<span data-ttu-id="cfdf1-129">"</span><span class="sxs-lookup"><span data-stu-id="cfdf1-129">"</span></span>|  
|<span data-ttu-id="cfdf1-130">2.7</span><span class="sxs-lookup"><span data-stu-id="cfdf1-130">2.7</span></span>               |<span data-ttu-id="cfdf1-131">1.4</span><span class="sxs-lookup"><span data-stu-id="cfdf1-131">1.4</span></span>                            |<span data-ttu-id="cfdf1-132">"</span><span class="sxs-lookup"><span data-stu-id="cfdf1-132">"</span></span>|  
|<span data-ttu-id="cfdf1-133">2.8</span><span class="sxs-lookup"><span data-stu-id="cfdf1-133">2.8</span></span>               |<span data-ttu-id="cfdf1-134">1.5</span><span class="sxs-lookup"><span data-stu-id="cfdf1-134">1.5</span></span>                            |<span data-ttu-id="cfdf1-135">"</span><span class="sxs-lookup"><span data-stu-id="cfdf1-135">"</span></span>|  
|<span data-ttu-id="cfdf1-136">2,9</span><span class="sxs-lookup"><span data-stu-id="cfdf1-136">2.9</span></span>               |<span data-ttu-id="cfdf1-137">1.6</span><span class="sxs-lookup"><span data-stu-id="cfdf1-137">1.6</span></span>                            |<span data-ttu-id="cfdf1-138">"</span><span class="sxs-lookup"><span data-stu-id="cfdf1-138">"</span></span>|
|<span data-ttu-id="cfdf1-139">2.96</span><span class="sxs-lookup"><span data-stu-id="cfdf1-139">2.96</span></span>              |<span data-ttu-id="cfdf1-140">1.7</span><span class="sxs-lookup"><span data-stu-id="cfdf1-140">1.7</span></span>                            |<span data-ttu-id="cfdf1-141">"</span><span class="sxs-lookup"><span data-stu-id="cfdf1-141">"</span></span>|
|<span data-ttu-id="cfdf1-142">2.96</span><span class="sxs-lookup"><span data-stu-id="cfdf1-142">2.96</span></span>              |<span data-ttu-id="cfdf1-143">1.8</span><span class="sxs-lookup"><span data-stu-id="cfdf1-143">1.8</span></span>                            |<span data-ttu-id="cfdf1-144">"</span><span class="sxs-lookup"><span data-stu-id="cfdf1-144">"</span></span>|
|<span data-ttu-id="cfdf1-145">2.96</span><span class="sxs-lookup"><span data-stu-id="cfdf1-145">2.96</span></span>              |<span data-ttu-id="cfdf1-146">1.8.1</span><span class="sxs-lookup"><span data-stu-id="cfdf1-146">1.8.1</span></span>                          |<span data-ttu-id="cfdf1-147">"</span><span class="sxs-lookup"><span data-stu-id="cfdf1-147">"</span></span>|
|<span data-ttu-id="cfdf1-148">2.96</span><span class="sxs-lookup"><span data-stu-id="cfdf1-148">2.96</span></span>              |<span data-ttu-id="cfdf1-149">1.9</span><span class="sxs-lookup"><span data-stu-id="cfdf1-149">1.9</span></span>                            |<span data-ttu-id="cfdf1-150">"</span><span class="sxs-lookup"><span data-stu-id="cfdf1-150">"</span></span>|



 <span data-ttu-id="cfdf1-151">Diagnóstico do Azure versão 1.0 primeiro enviado em um modelo de plug-in--que significa que, quando você instalou Olá SDK do Azure, você obteve versão de saudação do diagnóstico do Azure acompanha a ele.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-151">Azure Diagnostics version 1.0 first shipped in a plug-in model -- meaning that when you installed hello Azure SDK, you got hello version of Azure diagnostics shipped with it.</span></span>  

 <span data-ttu-id="cfdf1-152">Começando com o SDK 2.5 (Diagnóstico versão 1.2), o diagnóstico do Azure deu tooan modelo de extensão.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-152">Starting with SDK 2.5 (diagnostics version 1.2), Azure diagnostics went tooan extension model.</span></span> <span data-ttu-id="cfdf1-153">novos recursos do Hello ferramentas tooutilize só estavam disponíveis em mais recente SDKs do Azure, mas qualquer serviço usando o diagnóstico do Azure escolheria a versão mais recente de envio Olá diretamente do Azure.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-153">hello tools tooutilize new features were only available in newer Azure SDKs, but any service using Azure diagnostics would pick up hello latest shipping version directly from Azure.</span></span> <span data-ttu-id="cfdf1-154">Por exemplo, qualquer pessoa ainda usando o SDK 2.5 seria Carregando versão mais recente do hello mostrado na tabela anterior de saudação, independentemente se eles estão usando recursos mais recentes de saudação.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-154">For example, anyone still using SDK 2.5 would be loading hello latest version shown in hello previous table, regardless if they are using hello newer features.</span></span>  

## <a name="schemas-index"></a><span data-ttu-id="cfdf1-155">Índice de esquemas</span><span class="sxs-lookup"><span data-stu-id="cfdf1-155">Schemas index</span></span>  
<span data-ttu-id="cfdf1-156">Versões diferentes do Diagnóstico do Azure usam esquemas de configuração diferentes.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-156">Different versions of Azure diagnostics use different configuration schemas.</span></span> 

[<span data-ttu-id="cfdf1-157">Esquema de Configuração do Diagnóstico 1.0</span><span class="sxs-lookup"><span data-stu-id="cfdf1-157">Diagnostics 1.0 Configuration Schema</span></span>](azure-diagnostics-schema-1dot0.md)  

[<span data-ttu-id="cfdf1-158">Esquema de Configuração do Diagnóstico 1.2</span><span class="sxs-lookup"><span data-stu-id="cfdf1-158">Diagnostics 1.2 Configuration Schema</span></span>](azure-diagnostics-schema-1dot2.md)  

[<span data-ttu-id="cfdf1-159">Esquema de Configuração do Diagnóstico 1.3 e posterior</span><span class="sxs-lookup"><span data-stu-id="cfdf1-159">Diagnostics 1.3 and later Configuration Schema</span></span>](azure-diagnostics-schema-1dot3-and-later.md)  

## <a name="version-history"></a><span data-ttu-id="cfdf1-160">Histórico de versão</span><span class="sxs-lookup"><span data-stu-id="cfdf1-160">Version history</span></span>


### <a name="diagnostics-extension-19"></a><span data-ttu-id="cfdf1-161">Extensão do Diagnóstico 1.9</span><span class="sxs-lookup"><span data-stu-id="cfdf1-161">Diagnostics extension 1.9</span></span> 
<span data-ttu-id="cfdf1-162">Adicionar suporte ao Docker.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-162">Added Docker support.</span></span>


### <a name="diagnostics-extension-181"></a><span data-ttu-id="cfdf1-163">Extensão do Diagnóstico 1.8.1</span><span class="sxs-lookup"><span data-stu-id="cfdf1-163">Diagnostics extension 1.8.1</span></span> 
<span data-ttu-id="cfdf1-164">Pode especificar um token SAS em vez de uma chave de conta de armazenamento na configuração privada hello. Se for fornecido um token SAS, chave de conta de armazenamento Olá será ignorado.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-164">Can specify a SAS token instead of a storage account key in hello private config. If a SAS token is provided, hello storage account key is ignored.</span></span>


```json
{
    "storageAccountName": "diagstorageaccount",
    "storageAccountEndPoint": "https://core.windows.net",
    "storageAccountSasToken": "{sas token}",
    "SecondaryStorageAccounts": {
        "StorageAccount": [
            {
                "name": "secondarydiagstorageaccount",
                "endpoint": "https://core.windows.net",
                "sasToken": "{sas token}"
            }
        ]
    }
}
```

```xml
<PrivateConfig>
    <StorageAccount name="diagstorageaccount" endpoint="https://core.windows.net" sasToken="{sas token}" />
    <SecondaryStorageAccounts>
        <StorageAccount name="secondarydiagstorageaccount" endpoint="https://core.windows.net" sasToken="{sas token}" />
    </SecondaryStorageAccounts>
</PrivateConfig>
```


### <a name="diagnostics-extension-18"></a><span data-ttu-id="cfdf1-165">Extensão do Diagnóstico 1.8</span><span class="sxs-lookup"><span data-stu-id="cfdf1-165">Diagnostics extension 1.8</span></span> 
<span data-ttu-id="cfdf1-166">Adicionado tooPublicConfig do tipo de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-166">Added Storage Type tooPublicConfig.</span></span> <span data-ttu-id="cfdf1-167">StorageType pode ser *Table*, *Blob*, *TableAndBlob*.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-167">StorageType can be *Table*, *Blob*, *TableAndBlob*.</span></span> <span data-ttu-id="cfdf1-168">*Tabela* é saudação padrão.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-168">*Table* is hello default.</span></span>


```json
{
    "WadCfg": {
    },
    "StorageAccount": "diagstorageaccount",
    "StorageType": "TableAndBlob"
}
```

```xml
<PublicConfig>
    <WadCfg />
    <StorageAccount>diagstorageaccount</StorageAccount>
    <StorageType>TableAndBlob</StorageType>
</PublicConfig>
```


### <a name="diagnostics-extension-17"></a><span data-ttu-id="cfdf1-169">Extensão do Diagnóstico 1.7</span><span class="sxs-lookup"><span data-stu-id="cfdf1-169">Diagnostics extension 1.7</span></span> 
<span data-ttu-id="cfdf1-170">Olá adicionado capacidade tooroute tooEventHub.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-170">Added hello ability tooroute tooEventHub.</span></span>

### <a name="diagnostics-extension-15"></a><span data-ttu-id="cfdf1-171">Extensão do diagnóstico 1.5</span><span class="sxs-lookup"><span data-stu-id="cfdf1-171">Diagnostics extension 1.5</span></span>
<span data-ttu-id="cfdf1-172">Adicionada a saudação Coletores de dados de diagnóstico do elemento e hello capacidade toosend muito[Application Insights](../application-insights/app-insights-cloudservices.md) tornando mais fácil problemas de toodiagnose em seu aplicativo, bem como o nível de sistema e a infraestrutura de saudação.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-172">Added hello sinks element and hello ability toosend diagnostics data too[Application Insights](../application-insights/app-insights-cloudservices.md) making it easier toodiagnose issues across your application as well as hello system and infrastructure level.</span></span>

### <a name="azure-sdk-26-and-diagnostics-extension-13"></a><span data-ttu-id="cfdf1-173">SDK 2.6 do Azure e esquema de extensão 1.3</span><span class="sxs-lookup"><span data-stu-id="cfdf1-173">Azure SDK 2.6 and diagnostics extension 1.3</span></span> 
<span data-ttu-id="cfdf1-174">Para projetos de serviço de nuvem no Visual Studio, Olá as seguintes alterações foram feita.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-174">For Cloud Service projects in Visual Studio, hello following changes were made.</span></span> <span data-ttu-id="cfdf1-175">(Essas alterações também se aplicam a versões toolater do SDK do Azure.)</span><span class="sxs-lookup"><span data-stu-id="cfdf1-175">(These changes also apply toolater versions of Azure SDK.)</span></span>

* <span data-ttu-id="cfdf1-176">emulador local Olá agora dá suporte a diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-176">hello local emulator now supports diagnostics.</span></span> <span data-ttu-id="cfdf1-177">Isso significa que você pode coletar dados de diagnóstico e certifique-se de que seu aplicativo está criando Olá rastreamentos direito enquanto você estiver desenvolvendo e testando no Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-177">This means you can collect diagnostics data and ensure your application is creating hello right traces while you're developing and testing in Visual Studio.</span></span> <span data-ttu-id="cfdf1-178">Olá a cadeia de caracteres de conexão `UseDevelopmentStorage=true` habilita a coleta de dados de diagnóstico durante a execução do seu projeto de serviço de nuvem no Visual Studio usando o emulador de armazenamento do Azure hello.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-178">hello connection string `UseDevelopmentStorage=true` enables diagnostics data collection while you're running your cloud service project in Visual Studio by using hello Azure storage emulator.</span></span> <span data-ttu-id="cfdf1-179">Todos os dados de diagnóstico são coletados na conta de armazenamento da saudação (armazenamento de desenvolvimento).</span><span class="sxs-lookup"><span data-stu-id="cfdf1-179">All diagnostics data is collected in hello (Development Storage) storage account.</span></span>
* <span data-ttu-id="cfdf1-180">cadeia de conexão de conta para armazenamento de diagnóstico Hello (windowsazure) é armazenada novamente no arquivo de configuração (. cscfg) do serviço de saudação.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-180">hello diagnostics storage account connection string (Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString) is stored once again in hello service configuration (.cscfg) file.</span></span> <span data-ttu-id="cfdf1-181">No Azure SDK 2.5 conta de armazenamento de diagnóstico Olá foi especificada no arquivo de wadcfgx de saudação.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-181">In Azure SDK 2.5 hello diagnostics storage account was specified in hello diagnostics.wadcfgx file.</span></span>

<span data-ttu-id="cfdf1-182">Há algumas diferenças importantes entre como cadeia de caracteres de conexão Olá funcionou no SDK do Azure 2.4 e anterior e como ele funciona no Azure SDK 2.6 e posterior.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-182">There are some notable differences between how hello connection string worked in Azure SDK 2.4 and earlier and how it works in Azure SDK 2.6 and later.</span></span>

* <span data-ttu-id="cfdf1-183">No Azure SDK 2.4 e anterior, cadeia de caracteres de conexão Olá foi usada como um tempo de execução por Olá diagnóstico plug-in tooget Olá informações conta de armazenamento para a transferência de logs de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-183">In Azure SDK 2.4 and earlier, hello connection string was used as a runtime by hello diagnostics plugin tooget hello storage account information for transferring diagnostics logs.</span></span>
* <span data-ttu-id="cfdf1-184">No Azure SDK 2.6 e posterior, a cadeia de caracteres de conexão de diagnóstico Olá é usada pela extensão de diagnóstico do Visual Studio tooconfigure Olá com informações de conta de armazenamento apropriado Olá durante a publicação.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-184">In Azure SDK 2.6 and later, hello diagnostics connection string is used by Visual Studio tooconfigure hello diagnostics extension with hello appropriate storage account information during publishing.</span></span> <span data-ttu-id="cfdf1-185">cadeia de caracteres de conexão Olá permite definir contas de armazenamento diferentes para as configurações de serviço diferente que o Visual Studio usará ao publicar.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-185">hello connection string lets you define different storage accounts for different service configurations that Visual Studio will use when publishing.</span></span> <span data-ttu-id="cfdf1-186">No entanto, porque o diagnóstico de saudação plug-in não está mais disponível (após 2.5 do SDK do Azure), arquivo. cscfg Olá por si só não é possível habilitar Olá extensão de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-186">However, because hello diagnostics plugin is no longer available (after Azure SDK 2.5), hello .cscfg file by itself can't enable hello Diagnostics Extension.</span></span> <span data-ttu-id="cfdf1-187">Você tem extensão de saudação tooenable separadamente através de ferramentas como o Visual Studio ou PowerShell.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-187">You have tooenable hello extension separately through tools such as Visual Studio or PowerShell.</span></span>
* <span data-ttu-id="cfdf1-188">processo de saudação toosimplify de configuração de extensão de diagnóstico Olá com o PowerShell, saída de pacote de saudação do Visual Studio também contém Olá pública XML de configuração para extensão de diagnóstico Olá para cada função.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-188">toosimplify hello process of configuring hello diagnostics extension with PowerShell, hello package output from Visual Studio also contains hello public configuration XML for hello diagnostics extension for each role.</span></span> <span data-ttu-id="cfdf1-189">O Visual Studio usa Olá diagnóstico conexão cadeia de caracteres toopopulate Olá armazenamento conta informações presentes na configuração pública hello.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-189">Visual Studio uses hello diagnostics connection string toopopulate hello storage account information present in hello public configuration.</span></span> <span data-ttu-id="cfdf1-190">arquivos de configuração pública Olá são criados na pasta de extensões hello e seguem o padrão de saudação PaaSDiagnostics. <RoleName>. PubConfig.xml.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-190">hello public config files are created in hello Extensions folder and follow hello pattern PaaSDiagnostics.<RoleName>.PubConfig.xml.</span></span> <span data-ttu-id="cfdf1-191">Todas as implantações do PowerShell com base podem usar este padrão toomap tooa cada configuração função.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-191">Any PowerShell based deployments can use this pattern toomap each configuration tooa Role.</span></span>
* <span data-ttu-id="cfdf1-192">Olá cadeia de caracteres de conexão no arquivo. cscfg de saudação também é usada por Olá dados de diagnóstico de saudação tooaccess portal do Azure para que possa aparecer em hello **monitoramento** cadeia de caracteres de conexão do guia Olá é necessário tooconfigure Olá serviço tooshow detalhado dados de monitoramento no portal de saudação.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-192">hello connection string in hello .cscfg file is also used by hello Azure portal tooaccess hello diagnostics data so it can appear in hello **Monitoring** tab. hello connection string is needed tooconfigure hello service tooshow verbose monitoring data in hello portal.</span></span>

#### <a name="migrating-projects-tooazure-sdk-26-and-later"></a><span data-ttu-id="cfdf1-193">Migrando projetos tooAzure SDK 2.6 e posterior</span><span class="sxs-lookup"><span data-stu-id="cfdf1-193">Migrating projects tooAzure SDK 2.6 and later</span></span>
<span data-ttu-id="cfdf1-194">Ao migrar do Azure SDK 2.5 tooAzure SDK 2.6 ou posterior, se você tiver uma conta de armazenamento de diagnóstico especificada no arquivo de .wadcfgx Olá, em seguida, ele permanecerá lá.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-194">When migrating from Azure SDK 2.5 tooAzure SDK 2.6 or later, if you had a diagnostics storage account specified in hello .wadcfgx file, then it will stay there.</span></span> <span data-ttu-id="cfdf1-195">contas tootake aproveitar a flexibilidade de saudação do uso de armazenamento diferentes para configurações de armazenamento diferente, você terá que toomanually Adicionar projeto de tooyour de cadeia de caracteres de conexão de saudação.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-195">tootake advantage of hello flexibility of using different storage accounts for different storage configurations, you'll have toomanually add hello connection string tooyour project.</span></span> <span data-ttu-id="cfdf1-196">Se você estiver migrando um projeto do SDK do Azure 2.4 ou tooAzure anterior 2.6 do SDK, em seguida, Olá diagnóstico cadeias de caracteres de conexão são preservadas.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-196">If you're migrating a project from Azure SDK 2.4 or earlier tooAzure SDK 2.6, then hello diagnostics connection strings are preserved.</span></span> <span data-ttu-id="cfdf1-197">No entanto, observe alterações hello como cadeias de caracteres de conexão são tratadas no SDK 2.6 do Azure conforme especificado na seção anterior hello.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-197">However, please note hello changes in how connection strings are treated in Azure SDK 2.6 as specified in hello previous section.</span></span>

#### <a name="how-visual-studio-determines-hello-diagnostics-storage-account"></a><span data-ttu-id="cfdf1-198">Como o Visual Studio determina a conta de armazenamento de diagnóstico Olá</span><span class="sxs-lookup"><span data-stu-id="cfdf1-198">How Visual Studio determines hello diagnostics storage account</span></span>
* <span data-ttu-id="cfdf1-199">Se uma cadeia de caracteres de conexão de diagnóstico é especificada no arquivo. cscfg de hello, Visual Studio usa-extensão de diagnóstico Olá tooconfigure durante a publicação e ao gerar os arquivos de xml de configuração pública Olá durante o empacotamento.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-199">If a diagnostics connection string is specified in hello .cscfg file, Visual Studio uses it tooconfigure hello diagnostics extension when publishing, and when generating hello public configuration xml files during packaging.</span></span>
* <span data-ttu-id="cfdf1-200">Se nenhuma cadeia de caracteres de conexão de diagnóstico é especificada no arquivo. cscfg de hello, em seguida, Visual Studio reverterá toousing conta de armazenamento de saudação especificada no hello .wadcfgx tooconfigure Olá diagnóstico extensão de arquivo ao publicar e gerando Olá público arquivos de xml de configuração ao empacotar.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-200">If no diagnostics connection string is specified in hello .cscfg file, then Visual Studio falls back toousing hello storage account specified in hello .wadcfgx file tooconfigure hello diagnostics extension when publishing, and generating hello public configuration xml files when packaging.</span></span>
* <span data-ttu-id="cfdf1-201">cadeia de conexão de diagnóstico Olá no arquivo. cscfg de saudação tem precedência sobre a conta de armazenamento Olá no arquivo de .wadcfgx hello.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-201">hello diagnostics connection string in hello .cscfg file takes precedence over hello storage account in hello .wadcfgx file.</span></span> <span data-ttu-id="cfdf1-202">Se uma cadeia de caracteres de conexão de diagnóstico é especificado no arquivo. cscfg hello, em seguida, Visual Studio usa e ignora a conta de armazenamento Olá .wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-202">If a diagnostics connection string is specified in hello .cscfg file, then Visual Studio uses that and ignores hello storage account in .wadcfgx.</span></span>

#### <a name="what-does-hello-update-development-storage-connection-strings-checkbox-do"></a><span data-ttu-id="cfdf1-203">O que does hello "Atualizar cadeias de conexão de armazenamento de desenvolvimento..."</span><span class="sxs-lookup"><span data-stu-id="cfdf1-203">What does hello "Update development storage connection strings…"</span></span> <span data-ttu-id="cfdf1-204">faz a caixa de seleção?</span><span class="sxs-lookup"><span data-stu-id="cfdf1-204">checkbox do?</span></span>
<span data-ttu-id="cfdf1-205">Olá a caixa de seleção **atualizar cadeias de conexão de armazenamento de desenvolvimento para diagnóstico e Caching com credenciais de conta de armazenamento do Microsoft Azure ao publicar tooMicrosoft Azure** oferece uma maneira conveniente tooupdate qualquer cadeias de conexão de conta de armazenamento de desenvolvimento com a conta de armazenamento do Azure Olá especificada durante a publicação.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-205">hello checkbox for **Update development storage connection strings for Diagnostics and Caching with Microsoft Azure storage account credentials when publishing tooMicrosoft Azure** gives you a convenient way tooupdate any development storage account connection strings with hello Azure storage account specified during publishing.</span></span>

<span data-ttu-id="cfdf1-206">Por exemplo, suponha que você selecionar essa caixa de seleção e especifica a cadeia de caracteres de conexão de diagnóstico Olá `UseDevelopmentStorage=true`.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-206">For example, suppose you select this checkbox and hello diagnostics connection string specifies `UseDevelopmentStorage=true`.</span></span> <span data-ttu-id="cfdf1-207">Quando você publica Olá projeto tooAzure, Visual Studio atualizará automaticamente o cadeia de caracteres de conexão de diagnóstico Olá com conta de armazenamento Olá especificada no Assistente de publicação de saudação.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-207">When you publish hello project tooAzure, Visual Studio will automatically update hello diagnostics connection string with hello storage account you specified in hello Publish wizard.</span></span> <span data-ttu-id="cfdf1-208">No entanto, se uma conta de armazenamento real foi especificada como cadeia de caracteres de conexão de diagnóstico Olá, em seguida, essa conta é usada em vez disso.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-208">However, if a real storage account was specified as hello diagnostics connection string, then that account is used instead.</span></span>

### <a name="diagnostics-functionality-differences-between-azure-sdk-24-and-earlier-and-azure-sdk-25-and-later"></a><span data-ttu-id="cfdf1-209">Diferenças de funcionalidade de diagnóstico entre SDK do Azure 2.4 e anteriores e SDK do Azure 2.5 e posteriores</span><span class="sxs-lookup"><span data-stu-id="cfdf1-209">Diagnostics functionality differences between Azure SDK 2.4 and earlier and Azure SDK 2.5 and later</span></span>
<span data-ttu-id="cfdf1-210">Se você estiver atualizando seu projeto do Azure SDK 2.4 tooAzure SDK 2.5 ou posterior, você deve ter em Olá mente diferenças de recursos de diagnóstico a seguir.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-210">If you're upgrading your project from Azure SDK 2.4 tooAzure SDK 2.5 or later, you should bear in mind hello following diagnostics functionality differences.</span></span>

* <span data-ttu-id="cfdf1-211">**APIs de configuração estão preteridos** – A configuração programática de diagnóstico está disponível no SDK do Azure 2.4 ou anteriores, mas foi preterida no SDK do Azure 2.5 e posteriores.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-211">**Configuration APIs are deprecated** – Programmatic configuration of diagnostics is available in Azure SDK 2.4 or earlier versions, but is deprecated in Azure SDK 2.5 and later.</span></span> <span data-ttu-id="cfdf1-212">Se sua configuração de diagnóstico está definida atualmente no código, você precisará tooreconfigure essas configurações a partir do zero no projeto migrado de saudação na ordem de trabalho de tookeep de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-212">If your diagnostics configuration is currently defined in code, you'll need tooreconfigure those settings from scratch in hello migrated project in order for diagnostics tookeep working.</span></span> <span data-ttu-id="cfdf1-213">arquivo de configuração de diagnóstico Olá para o SDK do Azure 2.4 é wadcfg e wadcfgx 2.5 do SDK do Azure e posterior.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-213">hello diagnostics configuration file for Azure SDK 2.4 is diagnostics.wadcfg, and diagnostics.wadcfgx for Azure SDK 2.5 and later.</span></span>
* <span data-ttu-id="cfdf1-214">**Diagnóstico para aplicativos de serviço de nuvem pode ser configurado somente no nível de função hello, não no nível de instância de saudação.**</span><span class="sxs-lookup"><span data-stu-id="cfdf1-214">**Diagnostics for cloud service applications can only be configured at hello role level, not at hello instance level.**</span></span>
* <span data-ttu-id="cfdf1-215">**Sempre que você implantar seu aplicativo, a configuração de diagnóstico de saudação é atualizada** – isso pode causar problemas de paridade, se você alterar a configuração de diagnóstico do Gerenciador de servidores e, em seguida, reimplante o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-215">**Every time you deploy your app, hello diagnostics configuration is updated** – This can cause parity issues if you change your diagnostics configuration from Server Explorer and then redeploy your app.</span></span>
* <span data-ttu-id="cfdf1-216">**No Azure SDK 2.5 e posterior, despejos de memória são configurados no arquivo de configuração de diagnóstico hello, não no código** – se você tiver despejos de memória configurados no código, você terá toomanually configuração de saudação de transferência de arquivo de configuração do código toohello, porque Olá despejos de memória não são transferidos durante a saudação migração tooAzure 2.6 do SDK.</span><span class="sxs-lookup"><span data-stu-id="cfdf1-216">**In Azure SDK 2.5 and later, crash dumps are configured in hello diagnostics configuration file, not in code** – If you have crash dumps configured in code, you'll have toomanually transfer hello configuration from code toohello configuration file, because hello crash dumps aren't transferred during hello migration tooAzure SDK 2.6.</span></span>

