---
title: "Métricas comuns de dimensionamento automático do Azure Monitor | Microsoft Docs"
description: "Saiba quais métricas são usadas comumente para fazer o dimensionamento automático dos Serviços de Nuvem, Máquinas Virtuais e Aplicativos Web."
author: anirudhcavale
manager: orenr
editor: 
services: monitoring-and-diagnostics
documentationcenter: monitoring-and-diagnostics
ms.assetid: 189b2a13-01c8-4aca-afd5-90711903ca59
ms.service: monitoring-and-diagnostics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 12/6/2016
ms.author: ancav
ms.openlocfilehash: 240a230d09680672ccd5316470a87d047fab9fd1
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/03/2017
---
# <a name="azure-monitor-autoscaling-common-metrics"></a><span data-ttu-id="1b602-103">Métricas comuns de dimensionamento automático do Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="1b602-103">Azure Monitor autoscaling common metrics</span></span>
<span data-ttu-id="1b602-104">O dimensionamento automático do Azure Monitor permite que você aumente ou reduza número de instâncias em execução com base nos dados de telemetria (métricas).</span><span class="sxs-lookup"><span data-stu-id="1b602-104">Azure Monitor autoscaling allows you to scale the number of running instances up or down, based on telemetry data (metrics).</span></span> <span data-ttu-id="1b602-105">Este documento descreve as métricas mais comuns que você pode querer usar.</span><span class="sxs-lookup"><span data-stu-id="1b602-105">This document describes common metrics that you might want to use.</span></span> <span data-ttu-id="1b602-106">No Portal do Azure para Serviços de Nuvem e Farms de Servidores, você pode escolher a métrica do recurso segundo a qual o dimensionamento será feito.</span><span class="sxs-lookup"><span data-stu-id="1b602-106">In the Azure portal  for Cloud Services and Server Farms, you can choose the metric of the resource to scale by.</span></span> <span data-ttu-id="1b602-107">No entanto, também é possível escolher qualquer métrica de um recurso diferente e fazer o dimensionamento com base nela.</span><span class="sxs-lookup"><span data-stu-id="1b602-107">However, you can also choose any metric from a different resource to scale by.</span></span>

<span data-ttu-id="1b602-108">O dimensionamento automático do Azure Monitor aplica-se somente aos [Conjuntos de Dimensionamento da Máquina Virtual](https://azure.microsoft.com/services/virtual-machine-scale-sets/), [Serviços de Nuvem](https://azure.microsoft.com/services/cloud-services/) e [Serviço de Aplicativo - Aplicativos Web](https://azure.microsoft.com/services/app-service/web/).</span><span class="sxs-lookup"><span data-stu-id="1b602-108">Azure Monitor autoscale applies only to [Virtual Machine Scale Sets](https://azure.microsoft.com/services/virtual-machine-scale-sets/), [Cloud Services](https://azure.microsoft.com/services/cloud-services/), and [App Service - Web Apps](https://azure.microsoft.com/services/app-service/web/).</span></span> <span data-ttu-id="1b602-109">Outros serviços do Azure usam métodos de dimensionamento diferentes.</span><span class="sxs-lookup"><span data-stu-id="1b602-109">Other Azure services use different scaling methods.</span></span>

## <a name="compute-metrics-for-resource-manager-based-vms"></a><span data-ttu-id="1b602-110">Computar métricas para VMs com base no Resource Manager</span><span class="sxs-lookup"><span data-stu-id="1b602-110">Compute metrics for Resource Manager-based VMs</span></span>
<span data-ttu-id="1b602-111">Por padrão, Máquinas Virtuais e Conjuntos de Dimensionamento de Máquinas Virtuais com base no Resource Manager emitem métricas básicas (nível do host).</span><span class="sxs-lookup"><span data-stu-id="1b602-111">By default, Resource Manager-based Virtual Machines and Virtual Machine Scale Sets emit basic (host-level) metrics.</span></span> <span data-ttu-id="1b602-112">Além disso, ao configurar a coleta de dados de diagnóstico para uma VM do Azure e VMSS, a extensão de diagnóstico do Azure também emite contadores de desempenho do SO convidado (conhecidos geralmente como “Métricas do SO convidado”).</span><span class="sxs-lookup"><span data-stu-id="1b602-112">In addition, when you configure diagnostics data collection for an Azure VM and VMSS,  the Azure diagnostic extension also emits guest-OS performance counters (commonly known as "guest-OS metrics").</span></span>  <span data-ttu-id="1b602-113">Você pode usar todas essas métricas em regras de dimensionamento automático.</span><span class="sxs-lookup"><span data-stu-id="1b602-113">You use all these metrics in autoscale rules.</span></span>

<span data-ttu-id="1b602-114">Você pode usar o PoSH/API/CLI `Get MetricDefinitions` para exibir as métricas disponíveis para o recurso de VMSS.</span><span class="sxs-lookup"><span data-stu-id="1b602-114">You can use the `Get MetricDefinitions` API/PoSH/CLI to view the metrics available for your VMSS resource.</span></span>

<span data-ttu-id="1b602-115">Se você estiver usando conjuntos de dimensionamento de VM e não vir uma métrica específica listada, provavelmente ela estará *desabilitada* em sua extensão de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="1b602-115">If you're using VM scale sets and you don't see a particular metric listed, then it is likely *disabled* in your diagnostics extension.</span></span>

<span data-ttu-id="1b602-116">Se uma determinada métrica não estiver sendo amostrada ou transferida com a frequência que você deseja, você poderá atualizar a configuração de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="1b602-116">If a particular metric is not being sampled or transferred at the frequency you want, you can update the diagnostics configuration.</span></span>

<span data-ttu-id="1b602-117">Se qualquer um dos casos acima for verdadeiro, consulte [Usar o PowerShell para habilitar o Diagnóstico do Azure em uma máquina virtual que executa o Windows](../virtual-machines/windows/ps-extensions-diagnostics.md) sobre o PowerShell para configurar e atualizar sua extensão de diagnóstico de VM do Azure para habilitar a métrica.</span><span class="sxs-lookup"><span data-stu-id="1b602-117">If either preceding case is true, then review [Use PowerShell to enable Azure Diagnostics in a virtual machine running Windows](../virtual-machines/windows/ps-extensions-diagnostics.md) about PowerShell to configure and update your Azure VM Diagnostics extension to enable the metric.</span></span> <span data-ttu-id="1b602-118">Esse artigo também inclui um arquivo de configuração de diagnóstico de exemplo.</span><span class="sxs-lookup"><span data-stu-id="1b602-118">That article also includes a sample diagnostics configuration file.</span></span>

### <a name="host-metrics-for-resource-manager-based-windows-and-linux-vms"></a><span data-ttu-id="1b602-119">Métricas de host para VMs Windows e Linux baseadas no Resource Manager</span><span class="sxs-lookup"><span data-stu-id="1b602-119">Host metrics for Resource Manager-based Windows and Linux VMs</span></span>
<span data-ttu-id="1b602-120">As seguintes métricas de nível de host são emitidas por padrão para a VM do Azure e VMSS em instâncias do Windows e Linux.</span><span class="sxs-lookup"><span data-stu-id="1b602-120">The following host-level metrics are emitted by default for Azure VM and VMSS in both Windows and Linux instances.</span></span> <span data-ttu-id="1b602-121">Essas métricas descrevem sua VM do Azure, mas são coletadas do host de VM do Azure em vez de por meio do agente instalado na VM convidada.</span><span class="sxs-lookup"><span data-stu-id="1b602-121">These metrics describe your Azure VM, but are collected from the Azure VM host rather than via agent installed on the guest VM.</span></span> <span data-ttu-id="1b602-122">Você pode usar essas métricas em regras de dimensionamento automático.</span><span class="sxs-lookup"><span data-stu-id="1b602-122">You may use these metrics in autoscaling rules.</span></span>

- [<span data-ttu-id="1b602-123">Métricas de host para VMs Windows e Linux baseadas no Resource Manager</span><span class="sxs-lookup"><span data-stu-id="1b602-123">Host metrics for Resource Manager-based Windows and Linux VMs</span></span>](monitoring-supported-metrics.md#microsoftcomputevirtualmachines)
- [<span data-ttu-id="1b602-124">Métricas de host para Conjuntos de Dimensionamento de VMs Windows e Linux baseadas no Resource Manager</span><span class="sxs-lookup"><span data-stu-id="1b602-124">Host metrics for Resource Manager-based Windows and Linux VM Scale Sets</span></span>](monitoring-supported-metrics.md#microsoftcomputevirtualmachinescalesets)

### <a name="guest-os-metrics-resource-manager-based-windows-vms"></a><span data-ttu-id="1b602-125">Métricas de SO convidado de VMs Windows baseadas no Resource Manager</span><span class="sxs-lookup"><span data-stu-id="1b602-125">Guest OS metrics Resource Manager-based Windows VMs</span></span>
<span data-ttu-id="1b602-126">Quando você cria uma VM no Azure, o diagnóstico é habilitado usando a extensão de Diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="1b602-126">When you create a VM in Azure, diagnostics is enabled by using the Diagnostics extension.</span></span> <span data-ttu-id="1b602-127">A extensão de diagnóstico emite um conjunto de métricas extraído de dentro da VM.</span><span class="sxs-lookup"><span data-stu-id="1b602-127">The diagnostics extension emits a set of metrics taken from inside of the VM.</span></span> <span data-ttu-id="1b602-128">Isso significa que você pode desativar o dimensionamento automático de métricas que não são emitidas por padrão.</span><span class="sxs-lookup"><span data-stu-id="1b602-128">This means you can autoscale off of metrics that are not emitted by default.</span></span>

<span data-ttu-id="1b602-129">Você pode gerar uma lista das métricas usando o seguinte comando do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="1b602-129">You can generate a list of the metrics by using the following command in PowerShell.</span></span>

```
Get-AzureRmMetricDefinition -ResourceId <resource_id> | Format-Table -Property Name,Unit
```

<span data-ttu-id="1b602-130">Você pode criar um alerta para as métricas a seguir:</span><span class="sxs-lookup"><span data-stu-id="1b602-130">You can create an alert for the following metrics:</span></span>

| <span data-ttu-id="1b602-131">Nome da métrica</span><span class="sxs-lookup"><span data-stu-id="1b602-131">Metric Name</span></span> | <span data-ttu-id="1b602-132">Unidade</span><span class="sxs-lookup"><span data-stu-id="1b602-132">Unit</span></span> |
| --- | --- |
| <span data-ttu-id="1b602-133">\Processador(_Total)\% Tempo do processador</span><span class="sxs-lookup"><span data-stu-id="1b602-133">\Processor(_Total)\% Processor Time</span></span> |<span data-ttu-id="1b602-134">Porcentagem</span><span class="sxs-lookup"><span data-stu-id="1b602-134">Percent</span></span> |
| <span data-ttu-id="1b602-135">\Processador(_Total)\% Tempo Privilegiado</span><span class="sxs-lookup"><span data-stu-id="1b602-135">\Processor(_Total)\% Privileged Time</span></span> |<span data-ttu-id="1b602-136">Porcentagem</span><span class="sxs-lookup"><span data-stu-id="1b602-136">Percent</span></span> |
| <span data-ttu-id="1b602-137">\Processador(_Total)\% Tempo de Usuário</span><span class="sxs-lookup"><span data-stu-id="1b602-137">\Processor(_Total)\% User Time</span></span> |<span data-ttu-id="1b602-138">Porcentagem</span><span class="sxs-lookup"><span data-stu-id="1b602-138">Percent</span></span> |
| <span data-ttu-id="1b602-139">\Informações do Processador (_Total)\Frequência do Processador</span><span class="sxs-lookup"><span data-stu-id="1b602-139">\Processor Information(_Total)\Processor Frequency</span></span> |<span data-ttu-id="1b602-140">Contagem</span><span class="sxs-lookup"><span data-stu-id="1b602-140">Count</span></span> |
| <span data-ttu-id="1b602-141">\Sistema\Processos</span><span class="sxs-lookup"><span data-stu-id="1b602-141">\System\Processes</span></span> |<span data-ttu-id="1b602-142">Contagem</span><span class="sxs-lookup"><span data-stu-id="1b602-142">Count</span></span> |
| <span data-ttu-id="1b602-143">\Processo(_Total)\Contagem de Thread</span><span class="sxs-lookup"><span data-stu-id="1b602-143">\Process(_Total)\Thread Count</span></span> |<span data-ttu-id="1b602-144">Contagem</span><span class="sxs-lookup"><span data-stu-id="1b602-144">Count</span></span> |
| <span data-ttu-id="1b602-145">\Processo(_Total)\Contagem de Manipulador</span><span class="sxs-lookup"><span data-stu-id="1b602-145">\Process(_Total)\Handle Count</span></span> |<span data-ttu-id="1b602-146">Contagem</span><span class="sxs-lookup"><span data-stu-id="1b602-146">Count</span></span> |
| <span data-ttu-id="1b602-147">\Memória\% Bytes Confirmados em Uso</span><span class="sxs-lookup"><span data-stu-id="1b602-147">\Memory\% Committed Bytes In Use</span></span> |<span data-ttu-id="1b602-148">Porcentagem</span><span class="sxs-lookup"><span data-stu-id="1b602-148">Percent</span></span> |
| <span data-ttu-id="1b602-149">\Memória\Bytes Disponíveis</span><span class="sxs-lookup"><span data-stu-id="1b602-149">\Memory\Available Bytes</span></span> |<span data-ttu-id="1b602-150">Bytes</span><span class="sxs-lookup"><span data-stu-id="1b602-150">Bytes</span></span> |
| <span data-ttu-id="1b602-151">\Memória\Bytes Confirmados</span><span class="sxs-lookup"><span data-stu-id="1b602-151">\Memory\Committed Bytes</span></span> |<span data-ttu-id="1b602-152">Bytes</span><span class="sxs-lookup"><span data-stu-id="1b602-152">Bytes</span></span> |
| <span data-ttu-id="1b602-153">\Memória\Limite de Confirmação</span><span class="sxs-lookup"><span data-stu-id="1b602-153">\Memory\Commit Limit</span></span> |<span data-ttu-id="1b602-154">Bytes</span><span class="sxs-lookup"><span data-stu-id="1b602-154">Bytes</span></span> |
| <span data-ttu-id="1b602-155">\Memória\Bytes de Pool Pagináveis</span><span class="sxs-lookup"><span data-stu-id="1b602-155">\Memory\Pool Paged Bytes</span></span> |<span data-ttu-id="1b602-156">Bytes</span><span class="sxs-lookup"><span data-stu-id="1b602-156">Bytes</span></span> |
| <span data-ttu-id="1b602-157">\Memória\Bytes de Pool Não Pagináveis</span><span class="sxs-lookup"><span data-stu-id="1b602-157">\Memory\Pool Nonpaged Bytes</span></span> |<span data-ttu-id="1b602-158">Bytes</span><span class="sxs-lookup"><span data-stu-id="1b602-158">Bytes</span></span> |
| <span data-ttu-id="1b602-159">\PhysicalDisk(_Total)\% Tempo de Disco</span><span class="sxs-lookup"><span data-stu-id="1b602-159">\PhysicalDisk(_Total)\% Disk Time</span></span> |<span data-ttu-id="1b602-160">Porcentagem</span><span class="sxs-lookup"><span data-stu-id="1b602-160">Percent</span></span> |
| <span data-ttu-id="1b602-161">\PhysicalDisk(_Total)\% Tempo de Leitura de Disco</span><span class="sxs-lookup"><span data-stu-id="1b602-161">\PhysicalDisk(_Total)\% Disk Read Time</span></span> |<span data-ttu-id="1b602-162">Porcentagem</span><span class="sxs-lookup"><span data-stu-id="1b602-162">Percent</span></span> |
| <span data-ttu-id="1b602-163">\PhysicalDisk(_Total)\% Tempo de Gravação de Disco</span><span class="sxs-lookup"><span data-stu-id="1b602-163">\PhysicalDisk(_Total)\% Disk Write Time</span></span> |<span data-ttu-id="1b602-164">Porcentagem</span><span class="sxs-lookup"><span data-stu-id="1b602-164">Percent</span></span> |
| <span data-ttu-id="1b602-165">\Disco físico(_Total)\Transferências do disco/seg</span><span class="sxs-lookup"><span data-stu-id="1b602-165">\PhysicalDisk(_Total)\Disk Transfers/sec</span></span> |<span data-ttu-id="1b602-166">CountPerSecond</span><span class="sxs-lookup"><span data-stu-id="1b602-166">CountPerSecond</span></span> |
| <span data-ttu-id="1b602-167">\PhysicalDisk(_Total)\Leituras de Disco/s</span><span class="sxs-lookup"><span data-stu-id="1b602-167">\PhysicalDisk(_Total)\Disk Reads/sec</span></span> |<span data-ttu-id="1b602-168">CountPerSecond</span><span class="sxs-lookup"><span data-stu-id="1b602-168">CountPerSecond</span></span> |
| <span data-ttu-id="1b602-169">\PhysicalDisk(_Total)\Gravações de Disco/s</span><span class="sxs-lookup"><span data-stu-id="1b602-169">\PhysicalDisk(_Total)\Disk Writes/sec</span></span> |<span data-ttu-id="1b602-170">CountPerSecond</span><span class="sxs-lookup"><span data-stu-id="1b602-170">CountPerSecond</span></span> |
| <span data-ttu-id="1b602-171">\PhysicalDisk(_Total)\Bytes de Disco/s</span><span class="sxs-lookup"><span data-stu-id="1b602-171">\PhysicalDisk(_Total)\Disk Bytes/sec</span></span> |<span data-ttu-id="1b602-172">BytesPerSecond</span><span class="sxs-lookup"><span data-stu-id="1b602-172">BytesPerSecond</span></span> |
| <span data-ttu-id="1b602-173">\PhysicalDisk(_Total)\Bytes de Leitura de Disco/s</span><span class="sxs-lookup"><span data-stu-id="1b602-173">\PhysicalDisk(_Total)\Disk Read Bytes/sec</span></span> |<span data-ttu-id="1b602-174">BytesPerSecond</span><span class="sxs-lookup"><span data-stu-id="1b602-174">BytesPerSecond</span></span> |
| <span data-ttu-id="1b602-175">\PhysicalDisk(_Total)\Bytes de Gravação de Disco/s</span><span class="sxs-lookup"><span data-stu-id="1b602-175">\PhysicalDisk(_Total)\Disk Write Bytes/sec</span></span> |<span data-ttu-id="1b602-176">BytesPerSecond</span><span class="sxs-lookup"><span data-stu-id="1b602-176">BytesPerSecond</span></span> |
| <span data-ttu-id="1b602-177">\PhysicalDisk(_Total)\Média</span><span class="sxs-lookup"><span data-stu-id="1b602-177">\PhysicalDisk(_Total)\Avg.</span></span> <span data-ttu-id="1b602-178">Tamanho da fila do disco</span><span class="sxs-lookup"><span data-stu-id="1b602-178">Disk Queue Length</span></span> |<span data-ttu-id="1b602-179">Contagem</span><span class="sxs-lookup"><span data-stu-id="1b602-179">Count</span></span> |
| <span data-ttu-id="1b602-180">\PhysicalDisk(_Total)\Média</span><span class="sxs-lookup"><span data-stu-id="1b602-180">\PhysicalDisk(_Total)\Avg.</span></span> <span data-ttu-id="1b602-181">Tamanho de Fila de Leitura de Disco</span><span class="sxs-lookup"><span data-stu-id="1b602-181">Disk Read Queue Length</span></span> |<span data-ttu-id="1b602-182">Contagem</span><span class="sxs-lookup"><span data-stu-id="1b602-182">Count</span></span> |
| <span data-ttu-id="1b602-183">\PhysicalDisk(_Total)\Média</span><span class="sxs-lookup"><span data-stu-id="1b602-183">\PhysicalDisk(_Total)\Avg.</span></span> <span data-ttu-id="1b602-184">Tamanho de Fila de Gravação de Disco</span><span class="sxs-lookup"><span data-stu-id="1b602-184">Disk Write Queue Length</span></span> |<span data-ttu-id="1b602-185">Contagem</span><span class="sxs-lookup"><span data-stu-id="1b602-185">Count</span></span> |
| <span data-ttu-id="1b602-186">\LogicalDisk(_Total)\% Espaço Livre</span><span class="sxs-lookup"><span data-stu-id="1b602-186">\LogicalDisk(_Total)\% Free Space</span></span> |<span data-ttu-id="1b602-187">Porcentagem</span><span class="sxs-lookup"><span data-stu-id="1b602-187">Percent</span></span> |
| <span data-ttu-id="1b602-188">\LogicalDisk(_Total)\Megabytes Livres</span><span class="sxs-lookup"><span data-stu-id="1b602-188">\LogicalDisk(_Total)\Free Megabytes</span></span> |<span data-ttu-id="1b602-189">Contagem</span><span class="sxs-lookup"><span data-stu-id="1b602-189">Count</span></span> |

### <a name="guest-os-metrics-linux-vms"></a><span data-ttu-id="1b602-190">Métricas de SO convidado de VMs Linux</span><span class="sxs-lookup"><span data-stu-id="1b602-190">Guest OS metrics Linux VMs</span></span>
<span data-ttu-id="1b602-191">Quando você cria uma VM no Azure, o diagnóstico é habilitado por padrão usando a extensão de Diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="1b602-191">When you create a VM in Azure, diagnostics is enabled by default by using Diagnostics extension.</span></span>

<span data-ttu-id="1b602-192">Você pode gerar uma lista das métricas usando o seguinte comando do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="1b602-192">You can generate a list of the metrics by using the following command in PowerShell.</span></span>

```
Get-AzureRmMetricDefinition -ResourceId <resource_id> | Format-Table -Property Name,Unit
```

 <span data-ttu-id="1b602-193">Você pode criar um alerta para as métricas a seguir:</span><span class="sxs-lookup"><span data-stu-id="1b602-193">You can create an alert for the following metrics:</span></span>

| <span data-ttu-id="1b602-194">Nome da métrica</span><span class="sxs-lookup"><span data-stu-id="1b602-194">Metric Name</span></span> | <span data-ttu-id="1b602-195">Unidade</span><span class="sxs-lookup"><span data-stu-id="1b602-195">Unit</span></span> |
| --- | --- |
| <span data-ttu-id="1b602-196">\Memory\AvailableMemory</span><span class="sxs-lookup"><span data-stu-id="1b602-196">\Memory\AvailableMemory</span></span> |<span data-ttu-id="1b602-197">Bytes</span><span class="sxs-lookup"><span data-stu-id="1b602-197">Bytes</span></span> |
| <span data-ttu-id="1b602-198">\Memory\PercentAvailableMemory</span><span class="sxs-lookup"><span data-stu-id="1b602-198">\Memory\PercentAvailableMemory</span></span> |<span data-ttu-id="1b602-199">Porcentagem</span><span class="sxs-lookup"><span data-stu-id="1b602-199">Percent</span></span> |
| <span data-ttu-id="1b602-200">\Memory\UsedMemory</span><span class="sxs-lookup"><span data-stu-id="1b602-200">\Memory\UsedMemory</span></span> |<span data-ttu-id="1b602-201">Bytes</span><span class="sxs-lookup"><span data-stu-id="1b602-201">Bytes</span></span> |
| <span data-ttu-id="1b602-202">\Memory\PercentUsedMemory</span><span class="sxs-lookup"><span data-stu-id="1b602-202">\Memory\PercentUsedMemory</span></span> |<span data-ttu-id="1b602-203">Porcentagem</span><span class="sxs-lookup"><span data-stu-id="1b602-203">Percent</span></span> |
| <span data-ttu-id="1b602-204">\Memory\PercentUsedByCache</span><span class="sxs-lookup"><span data-stu-id="1b602-204">\Memory\PercentUsedByCache</span></span> |<span data-ttu-id="1b602-205">Porcentagem</span><span class="sxs-lookup"><span data-stu-id="1b602-205">Percent</span></span> |
| <span data-ttu-id="1b602-206">\Memory\PagesPerSec</span><span class="sxs-lookup"><span data-stu-id="1b602-206">\Memory\PagesPerSec</span></span> |<span data-ttu-id="1b602-207">CountPerSecond</span><span class="sxs-lookup"><span data-stu-id="1b602-207">CountPerSecond</span></span> |
| <span data-ttu-id="1b602-208">\Memory\PagesReadPerSec</span><span class="sxs-lookup"><span data-stu-id="1b602-208">\Memory\PagesReadPerSec</span></span> |<span data-ttu-id="1b602-209">CountPerSecond</span><span class="sxs-lookup"><span data-stu-id="1b602-209">CountPerSecond</span></span> |
| <span data-ttu-id="1b602-210">\Memory\PagesWrittenPerSec</span><span class="sxs-lookup"><span data-stu-id="1b602-210">\Memory\PagesWrittenPerSec</span></span> |<span data-ttu-id="1b602-211">CountPerSecond</span><span class="sxs-lookup"><span data-stu-id="1b602-211">CountPerSecond</span></span> |
| <span data-ttu-id="1b602-212">\Memory\AvailableSwap</span><span class="sxs-lookup"><span data-stu-id="1b602-212">\Memory\AvailableSwap</span></span> |<span data-ttu-id="1b602-213">Bytes</span><span class="sxs-lookup"><span data-stu-id="1b602-213">Bytes</span></span> |
| <span data-ttu-id="1b602-214">\Memory\PercentAvailableSwap</span><span class="sxs-lookup"><span data-stu-id="1b602-214">\Memory\PercentAvailableSwap</span></span> |<span data-ttu-id="1b602-215">Porcentagem</span><span class="sxs-lookup"><span data-stu-id="1b602-215">Percent</span></span> |
| <span data-ttu-id="1b602-216">\Memory\UsedSwap</span><span class="sxs-lookup"><span data-stu-id="1b602-216">\Memory\UsedSwap</span></span> |<span data-ttu-id="1b602-217">Bytes</span><span class="sxs-lookup"><span data-stu-id="1b602-217">Bytes</span></span> |
| <span data-ttu-id="1b602-218">\Memory\PercentUsedSwap</span><span class="sxs-lookup"><span data-stu-id="1b602-218">\Memory\PercentUsedSwap</span></span> |<span data-ttu-id="1b602-219">Porcentagem</span><span class="sxs-lookup"><span data-stu-id="1b602-219">Percent</span></span> |
| <span data-ttu-id="1b602-220">\Processor\PercentIdleTime</span><span class="sxs-lookup"><span data-stu-id="1b602-220">\Processor\PercentIdleTime</span></span> |<span data-ttu-id="1b602-221">Porcentagem</span><span class="sxs-lookup"><span data-stu-id="1b602-221">Percent</span></span> |
| <span data-ttu-id="1b602-222">\Processor\PercentUserTime</span><span class="sxs-lookup"><span data-stu-id="1b602-222">\Processor\PercentUserTime</span></span> |<span data-ttu-id="1b602-223">Porcentagem</span><span class="sxs-lookup"><span data-stu-id="1b602-223">Percent</span></span> |
| <span data-ttu-id="1b602-224">\Processor\PercentNiceTime</span><span class="sxs-lookup"><span data-stu-id="1b602-224">\Processor\PercentNiceTime</span></span> |<span data-ttu-id="1b602-225">Porcentagem</span><span class="sxs-lookup"><span data-stu-id="1b602-225">Percent</span></span> |
| <span data-ttu-id="1b602-226">\Processor\PercentPrivilegedTime</span><span class="sxs-lookup"><span data-stu-id="1b602-226">\Processor\PercentPrivilegedTime</span></span> |<span data-ttu-id="1b602-227">Porcentagem</span><span class="sxs-lookup"><span data-stu-id="1b602-227">Percent</span></span> |
| <span data-ttu-id="1b602-228">\Processor\PercentInterruptTime</span><span class="sxs-lookup"><span data-stu-id="1b602-228">\Processor\PercentInterruptTime</span></span> |<span data-ttu-id="1b602-229">Porcentagem</span><span class="sxs-lookup"><span data-stu-id="1b602-229">Percent</span></span> |
| <span data-ttu-id="1b602-230">\Processor\PercentDPCTime</span><span class="sxs-lookup"><span data-stu-id="1b602-230">\Processor\PercentDPCTime</span></span> |<span data-ttu-id="1b602-231">Porcentagem</span><span class="sxs-lookup"><span data-stu-id="1b602-231">Percent</span></span> |
| <span data-ttu-id="1b602-232">\Processor\PercentProcessorTime</span><span class="sxs-lookup"><span data-stu-id="1b602-232">\Processor\PercentProcessorTime</span></span> |<span data-ttu-id="1b602-233">Porcentagem</span><span class="sxs-lookup"><span data-stu-id="1b602-233">Percent</span></span> |
| <span data-ttu-id="1b602-234">\Processor\PercentIOWaitTime</span><span class="sxs-lookup"><span data-stu-id="1b602-234">\Processor\PercentIOWaitTime</span></span> |<span data-ttu-id="1b602-235">Porcentagem</span><span class="sxs-lookup"><span data-stu-id="1b602-235">Percent</span></span> |
| <span data-ttu-id="1b602-236">\PhysicalDisk\BytesPerSecond</span><span class="sxs-lookup"><span data-stu-id="1b602-236">\PhysicalDisk\BytesPerSecond</span></span> |<span data-ttu-id="1b602-237">BytesPerSecond</span><span class="sxs-lookup"><span data-stu-id="1b602-237">BytesPerSecond</span></span> |
| <span data-ttu-id="1b602-238">\PhysicalDisk\ReadBytesPerSecond</span><span class="sxs-lookup"><span data-stu-id="1b602-238">\PhysicalDisk\ReadBytesPerSecond</span></span> |<span data-ttu-id="1b602-239">BytesPerSecond</span><span class="sxs-lookup"><span data-stu-id="1b602-239">BytesPerSecond</span></span> |
| <span data-ttu-id="1b602-240">\PhysicalDisk\WriteBytesPerSecond</span><span class="sxs-lookup"><span data-stu-id="1b602-240">\PhysicalDisk\WriteBytesPerSecond</span></span> |<span data-ttu-id="1b602-241">BytesPerSecond</span><span class="sxs-lookup"><span data-stu-id="1b602-241">BytesPerSecond</span></span> |
| <span data-ttu-id="1b602-242">\PhysicalDisk\TransfersPerSecond</span><span class="sxs-lookup"><span data-stu-id="1b602-242">\PhysicalDisk\TransfersPerSecond</span></span> |<span data-ttu-id="1b602-243">CountPerSecond</span><span class="sxs-lookup"><span data-stu-id="1b602-243">CountPerSecond</span></span> |
| <span data-ttu-id="1b602-244">\PhysicalDisk\ReadsPerSecond</span><span class="sxs-lookup"><span data-stu-id="1b602-244">\PhysicalDisk\ReadsPerSecond</span></span> |<span data-ttu-id="1b602-245">CountPerSecond</span><span class="sxs-lookup"><span data-stu-id="1b602-245">CountPerSecond</span></span> |
| <span data-ttu-id="1b602-246">\PhysicalDisk\WritesPerSecond</span><span class="sxs-lookup"><span data-stu-id="1b602-246">\PhysicalDisk\WritesPerSecond</span></span> |<span data-ttu-id="1b602-247">CountPerSecond</span><span class="sxs-lookup"><span data-stu-id="1b602-247">CountPerSecond</span></span> |
| <span data-ttu-id="1b602-248">\PhysicalDisk\AverageReadTime</span><span class="sxs-lookup"><span data-stu-id="1b602-248">\PhysicalDisk\AverageReadTime</span></span> |<span data-ttu-id="1b602-249">Segundos</span><span class="sxs-lookup"><span data-stu-id="1b602-249">Seconds</span></span> |
| <span data-ttu-id="1b602-250">\PhysicalDisk\AverageWriteTime</span><span class="sxs-lookup"><span data-stu-id="1b602-250">\PhysicalDisk\AverageWriteTime</span></span> |<span data-ttu-id="1b602-251">Segundos</span><span class="sxs-lookup"><span data-stu-id="1b602-251">Seconds</span></span> |
| <span data-ttu-id="1b602-252">\PhysicalDisk\AverageTransferTime</span><span class="sxs-lookup"><span data-stu-id="1b602-252">\PhysicalDisk\AverageTransferTime</span></span> |<span data-ttu-id="1b602-253">Segundos</span><span class="sxs-lookup"><span data-stu-id="1b602-253">Seconds</span></span> |
| <span data-ttu-id="1b602-254">\PhysicalDisk\AverageDiskQueueLength</span><span class="sxs-lookup"><span data-stu-id="1b602-254">\PhysicalDisk\AverageDiskQueueLength</span></span> |<span data-ttu-id="1b602-255">Contagem</span><span class="sxs-lookup"><span data-stu-id="1b602-255">Count</span></span> |
| <span data-ttu-id="1b602-256">\NetworkInterface\BytesTransmitted</span><span class="sxs-lookup"><span data-stu-id="1b602-256">\NetworkInterface\BytesTransmitted</span></span> |<span data-ttu-id="1b602-257">Bytes</span><span class="sxs-lookup"><span data-stu-id="1b602-257">Bytes</span></span> |
| <span data-ttu-id="1b602-258">\NetworkInterface\BytesReceived</span><span class="sxs-lookup"><span data-stu-id="1b602-258">\NetworkInterface\BytesReceived</span></span> |<span data-ttu-id="1b602-259">Bytes</span><span class="sxs-lookup"><span data-stu-id="1b602-259">Bytes</span></span> |
| <span data-ttu-id="1b602-260">\NetworkInterface\PacketsTransmitted</span><span class="sxs-lookup"><span data-stu-id="1b602-260">\NetworkInterface\PacketsTransmitted</span></span> |<span data-ttu-id="1b602-261">Contagem</span><span class="sxs-lookup"><span data-stu-id="1b602-261">Count</span></span> |
| <span data-ttu-id="1b602-262">\NetworkInterface\PacketsReceived</span><span class="sxs-lookup"><span data-stu-id="1b602-262">\NetworkInterface\PacketsReceived</span></span> |<span data-ttu-id="1b602-263">Contagem</span><span class="sxs-lookup"><span data-stu-id="1b602-263">Count</span></span> |
| <span data-ttu-id="1b602-264">\NetworkInterface\BytesTotal</span><span class="sxs-lookup"><span data-stu-id="1b602-264">\NetworkInterface\BytesTotal</span></span> |<span data-ttu-id="1b602-265">Bytes</span><span class="sxs-lookup"><span data-stu-id="1b602-265">Bytes</span></span> |
| <span data-ttu-id="1b602-266">\NetworkInterface\TotalRxErrors</span><span class="sxs-lookup"><span data-stu-id="1b602-266">\NetworkInterface\TotalRxErrors</span></span> |<span data-ttu-id="1b602-267">Contagem</span><span class="sxs-lookup"><span data-stu-id="1b602-267">Count</span></span> |
| <span data-ttu-id="1b602-268">\NetworkInterface\TotalTxErrors</span><span class="sxs-lookup"><span data-stu-id="1b602-268">\NetworkInterface\TotalTxErrors</span></span> |<span data-ttu-id="1b602-269">Contagem</span><span class="sxs-lookup"><span data-stu-id="1b602-269">Count</span></span> |
| <span data-ttu-id="1b602-270">\NetworkInterface\TotalCollisions</span><span class="sxs-lookup"><span data-stu-id="1b602-270">\NetworkInterface\TotalCollisions</span></span> |<span data-ttu-id="1b602-271">Contagem</span><span class="sxs-lookup"><span data-stu-id="1b602-271">Count</span></span> |

## <a name="commonly-used-web-server-farm-metrics"></a><span data-ttu-id="1b602-272">Métricas da Web (Farm de servidores) usadas normalmente</span><span class="sxs-lookup"><span data-stu-id="1b602-272">Commonly used Web (Server Farm) metrics</span></span>
<span data-ttu-id="1b602-273">Você também pode realizar a autoescala com base em métricas comuns do servidor Web, como o comprimento da fila Http.</span><span class="sxs-lookup"><span data-stu-id="1b602-273">You can also perform autoscale based on common web server metrics such as the Http queue length.</span></span> <span data-ttu-id="1b602-274">O nome da métrica é **HttpQueueLength**.</span><span class="sxs-lookup"><span data-stu-id="1b602-274">It's metric name is **HttpQueueLength**.</span></span>  <span data-ttu-id="1b602-275">A seção a seguir lista as métricas de farm de servidores (aplicativos Web) disponíveis.</span><span class="sxs-lookup"><span data-stu-id="1b602-275">The following section lists available server farm (Web Apps) metrics.</span></span>

### <a name="web-apps-metrics"></a><span data-ttu-id="1b602-276">Métricas de aplicativos Web</span><span class="sxs-lookup"><span data-stu-id="1b602-276">Web Apps metrics</span></span>
<span data-ttu-id="1b602-277">Você pode gerar uma lista das métricas de aplicativos Web usando o seguinte comando do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="1b602-277">You can generate a list of the Web Apps metrics by using the following command in PowerShell.</span></span>

```
Get-AzureRmMetricDefinition -ResourceId <resource_id> | Format-Table -Property Name,Unit
```

<span data-ttu-id="1b602-278">Você pode alertar ou dimensionar com base nessas métricas.</span><span class="sxs-lookup"><span data-stu-id="1b602-278">You can alert on or scale by these metrics.</span></span>

| <span data-ttu-id="1b602-279">Nome da métrica</span><span class="sxs-lookup"><span data-stu-id="1b602-279">Metric Name</span></span> | <span data-ttu-id="1b602-280">Unidade</span><span class="sxs-lookup"><span data-stu-id="1b602-280">Unit</span></span> |
| --- | --- |
| <span data-ttu-id="1b602-281">CpuPercentage</span><span class="sxs-lookup"><span data-stu-id="1b602-281">CpuPercentage</span></span> |<span data-ttu-id="1b602-282">Porcentagem</span><span class="sxs-lookup"><span data-stu-id="1b602-282">Percent</span></span> |
| <span data-ttu-id="1b602-283">MemoryPercentage</span><span class="sxs-lookup"><span data-stu-id="1b602-283">MemoryPercentage</span></span> |<span data-ttu-id="1b602-284">Porcentagem</span><span class="sxs-lookup"><span data-stu-id="1b602-284">Percent</span></span> |
| <span data-ttu-id="1b602-285">DiskQueueLength</span><span class="sxs-lookup"><span data-stu-id="1b602-285">DiskQueueLength</span></span> |<span data-ttu-id="1b602-286">Contagem</span><span class="sxs-lookup"><span data-stu-id="1b602-286">Count</span></span> |
| <span data-ttu-id="1b602-287">HttpQueueLength</span><span class="sxs-lookup"><span data-stu-id="1b602-287">HttpQueueLength</span></span> |<span data-ttu-id="1b602-288">Contagem</span><span class="sxs-lookup"><span data-stu-id="1b602-288">Count</span></span> |
| <span data-ttu-id="1b602-289">BytesReceived</span><span class="sxs-lookup"><span data-stu-id="1b602-289">BytesReceived</span></span> |<span data-ttu-id="1b602-290">Bytes</span><span class="sxs-lookup"><span data-stu-id="1b602-290">Bytes</span></span> |
| <span data-ttu-id="1b602-291">BytesSent</span><span class="sxs-lookup"><span data-stu-id="1b602-291">BytesSent</span></span> |<span data-ttu-id="1b602-292">Bytes</span><span class="sxs-lookup"><span data-stu-id="1b602-292">Bytes</span></span> |

## <a name="commonly-used-storage-metrics"></a><span data-ttu-id="1b602-293">Métricas de armazenamento usadas normalmente</span><span class="sxs-lookup"><span data-stu-id="1b602-293">Commonly used Storage metrics</span></span>
<span data-ttu-id="1b602-294">Você pode dimensionar segundo o comprimento da fila de armazenamento, que é o número de mensagens na fila de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="1b602-294">You can scale by Storage queue length, which is the number of messages in the storage queue.</span></span> <span data-ttu-id="1b602-295">O comprimento da fila de armazenamento é uma métrica especial e o limite aplicado será o número de mensagens por instância.</span><span class="sxs-lookup"><span data-stu-id="1b602-295">Storage queue length is a special metric and the threshold is the number of messages per instance.</span></span> <span data-ttu-id="1b602-296">Por exemplo se houver duas instâncias e o limite for definido como 100, ocorrerá um dimensionado quando o número total de mensagens na fila for 200.</span><span class="sxs-lookup"><span data-stu-id="1b602-296">For example, if there are two instances and if the threshold is set to 100, scaling occurs when the total number of messages in the queue is 200.</span></span> <span data-ttu-id="1b602-297">Podendo ser 100 mensagens por instância, 120, 80 ou qualquer outra combinação totalizando até 200 ou mais.</span><span class="sxs-lookup"><span data-stu-id="1b602-297">That can be 100 messages per instance, 120 and 80, or any other combination that adds up to 200 or more.</span></span>

<span data-ttu-id="1b602-298">Defina essas configurações na folha **Configurações** do Portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="1b602-298">Configure this setting in the Azure portal in the **Settings** blade.</span></span> <span data-ttu-id="1b602-299">Para Conjuntos de Dimensionamento de VMs, você pode atualizar a configuração de Dimensionamento Automático no modelo do Resource Manager para utilizar *metricName* como *ApproximateMessageCount* e passar a ID da fila de armazenamento como *metricResourceUri*.</span><span class="sxs-lookup"><span data-stu-id="1b602-299">For VM scale sets, you can update the Autoscale setting in the Resource Manager template to use *metricName* as *ApproximateMessageCount* and pass the ID of the storage queue as *metricResourceUri*.</span></span>

<span data-ttu-id="1b602-300">Por exemplo, com uma Conta de Armazenamento Clássico, a configuração de dimensionamento automático metricTrigger incluiria:</span><span class="sxs-lookup"><span data-stu-id="1b602-300">For example, with a Classic Storage Account the autoscale setting metricTrigger would include:</span></span>

```
"metricName": "ApproximateMessageCount",
 "metricNamespace": "",
 "metricResourceUri": "/subscriptions/SUBSCRIPTION_ID/resourceGroups/RES_GROUP_NAME/providers/Microsoft.ClassicStorage/storageAccounts/STORAGE_ACCOUNT_NAME/services/queue/queues/QUEUE_NAME"
 ```

<span data-ttu-id="1b602-301">Para uma conta de armazenamento (não clássica), o metricTrigger incluiria:</span><span class="sxs-lookup"><span data-stu-id="1b602-301">For a (non-classic) storage account, the metricTrigger would include:</span></span>

```
"metricName": "ApproximateMessageCount",
"metricNamespace": "",
"metricResourceUri": "/subscriptions/SUBSCRIPTION_ID/resourceGroups/RES_GROUP_NAME/providers/Microsoft.Storage/storageAccounts/STORAGE_ACCOUNT_NAME/services/queue/queues/QUEUE_NAME"
```

## <a name="commonly-used-service-bus-metrics"></a><span data-ttu-id="1b602-302">Métricas do Barramento de Serviço usadas frequentemente</span><span class="sxs-lookup"><span data-stu-id="1b602-302">Commonly used Service Bus metrics</span></span>
<span data-ttu-id="1b602-303">Você pode dimensionar segundo o comprimento da fila do Barramento de Serviço, que é o número de mensagens na fila do Barramento de Serviço.</span><span class="sxs-lookup"><span data-stu-id="1b602-303">You can scale by Service Bus queue length, which is the number of messages in the Service Bus queue.</span></span> <span data-ttu-id="1b602-304">O comprimento da fila de Barramento de Serviço é uma métrica especial e o limite aplicado será o número de mensagens por instância.</span><span class="sxs-lookup"><span data-stu-id="1b602-304">Service Bus queue length is a special metric and the threshold is the number of messages per instance.</span></span> <span data-ttu-id="1b602-305">Por exemplo se houver duas instâncias e o limite for definido como 100, ocorrerá um dimensionado quando o número total de mensagens na fila for 200.</span><span class="sxs-lookup"><span data-stu-id="1b602-305">For example, if there are two instances and if the threshold is set to 100, scaling occurs when the total number of messages in the queue is 200.</span></span> <span data-ttu-id="1b602-306">Podendo ser 100 mensagens por instância, 120, 80 ou qualquer outra combinação totalizando até 200 ou mais.</span><span class="sxs-lookup"><span data-stu-id="1b602-306">That can be 100 messages per instance, 120 and 80, or any other combination that adds up to 200 or more.</span></span>

<span data-ttu-id="1b602-307">Para Conjuntos de Dimensionamento de VMs, você pode atualizar a configuração de Dimensionamento Automático no modelo do Resource Manager para utilizar *metricName* como *ApproximateMessageCount* e passar a ID da fila de armazenamento como *metricResourceUri*.</span><span class="sxs-lookup"><span data-stu-id="1b602-307">For VM scale sets, you can update the Autoscale setting in the Resource Manager template to use *metricName* as *ApproximateMessageCount* and pass the ID of the storage queue as *metricResourceUri*.</span></span>

```
"metricName": "MessageCount",
 "metricNamespace": "",
"metricResourceUri": "/subscriptions/SUBSCRIPTION_ID/resourceGroups/RES_GROUP_NAME/providers/Microsoft.ServiceBus/namespaces/SB_NAMESPACE/queues/QUEUE_NAME"
```

> [!NOTE]
> <span data-ttu-id="1b602-308">Para o Barramento de Serviço, o conceito de grupo de recursos não existe, mas o Azure Resource Manager cria um grupo de recursos padrão por região.</span><span class="sxs-lookup"><span data-stu-id="1b602-308">For Service Bus, the resource group concept does not exist but Azure Resource Manager creates a default resource group per region.</span></span> <span data-ttu-id="1b602-309">O grupo de recursos geralmente está no formato 'Default - ServiceBus-[região]'.</span><span class="sxs-lookup"><span data-stu-id="1b602-309">The resource group is usually in the 'Default-ServiceBus-[region]' format.</span></span> <span data-ttu-id="1b602-310">Por exemplo, 'Default-ServiceBus-EastUS', 'Default-ServiceBus-WestUS', 'Default-ServiceBus-AustraliaEast' etc.</span><span class="sxs-lookup"><span data-stu-id="1b602-310">For example, 'Default-ServiceBus-EastUS', 'Default-ServiceBus-WestUS', 'Default-ServiceBus-AustraliaEast' etc.</span></span>
>
>
