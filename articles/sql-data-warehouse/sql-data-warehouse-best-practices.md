---
title: "Práticas recomendadas para o SQL Data Warehouse | Microsoft Docs"
description: "Recomendações e práticas recomendadas que você deve saber quando for desenvolver soluções para o SQL Data Warehouse do Azure. Isto irá ajudá-lo a alcançar o sucesso."
services: sql-data-warehouse
documentationcenter: NA
author: shivaniguptamsft
manager: jhubbard
editor: 
ms.assetid: 7b698cad-b152-4d33-97f5-5155dfa60f79
ms.service: sql-data-warehouse
ms.devlang: NA
ms.topic: get-started-article
ms.tgt_pltfrm: NA
ms.workload: data-services
ms.custom: performance
ms.date: 10/31/2016
ms.author: shigu;barbkess
ms.openlocfilehash: c1fb0d8790d8c97ac45db02ac76403e7a80fae5d
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="best-practices-for-azure-sql-data-warehouse"></a><span data-ttu-id="87e9d-104">Práticas recomendadas para o Azure SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="87e9d-104">Best practices for Azure SQL Data Warehouse</span></span>
<span data-ttu-id="87e9d-105">Este artigo é uma coleção de muitas práticas recomendadas que ajudarão você a obter o desempenho ideal do seu Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="87e9d-105">This article is a collection of many best practices that will help you to achieve optimal performance from your Azure SQL Data Warehouse.</span></span>  <span data-ttu-id="87e9d-106">Alguns conceitos neste artigo são básicos e fáceis de explicar, outros são mais avançados e os abordamos apenas superficialmente neste artigo.</span><span class="sxs-lookup"><span data-stu-id="87e9d-106">Some of the concepts in this article are basic and easy to explain, other concepts are more advanced and we just scratch the surface in this article.</span></span>  <span data-ttu-id="87e9d-107">A finalidade deste artigo é dar algumas orientações básicas e aumentar o reconhecimento dos pontos importantes a serem considerados ao criar seu data warehouse.</span><span class="sxs-lookup"><span data-stu-id="87e9d-107">The purpose of this article is to give you some basic guidance and to raise awareness of important areas to focus as you build your data warehouse.</span></span>  <span data-ttu-id="87e9d-108">Cada seção apresenta um conceito e aponta para artigos mais detalhados que abordam o conceito com maior profundidade.</span><span class="sxs-lookup"><span data-stu-id="87e9d-108">Each section introduces you to a concept and then point you to more detailed articles which cover the concept in more depth.</span></span>

<span data-ttu-id="87e9d-109">Se você está apenas começando a usar o SQL Data Warehouse, não deixe que este artigo assuste você.</span><span class="sxs-lookup"><span data-stu-id="87e9d-109">If you are just getting started with Azure SQL Data Warehouse, do not let this article overwhelm you.</span></span>  <span data-ttu-id="87e9d-110">A sequência dos tópicos está, em sua maioria, na ordem de importância.</span><span class="sxs-lookup"><span data-stu-id="87e9d-110">The sequence of the topics is mostly in the order of importance.</span></span>  <span data-ttu-id="87e9d-111">Se você começar focando nos primeiros conceitos, já está de bom tamanho.</span><span class="sxs-lookup"><span data-stu-id="87e9d-111">If you start by focusing on the first few concepts, you'll be in good shape.</span></span>  <span data-ttu-id="87e9d-112">Conforme você se familiariza e se sente mais à vontade usando o SQL Data Warehouse, volte e examine mais alguns conceitos.</span><span class="sxs-lookup"><span data-stu-id="87e9d-112">As you get more familiar and comfortable with using SQL Date Warehouse, come back and look at a few more concepts.</span></span>  <span data-ttu-id="87e9d-113">Não irá demorar muito para que tudo faça sentido.</span><span class="sxs-lookup"><span data-stu-id="87e9d-113">It won't take long for everything to make sense.</span></span>

## <a name="reduce-cost-with-pause-and-scale"></a><span data-ttu-id="87e9d-114">Reduzir custos com pausa e dimensionamento</span><span class="sxs-lookup"><span data-stu-id="87e9d-114">Reduce cost with pause and scale</span></span>
<span data-ttu-id="87e9d-115">Um recurso importante do SQL Data Warehouse é a capacidade de pausar quando você não está usando-o, o que interrompe a cobrança dos recursos de computação.</span><span class="sxs-lookup"><span data-stu-id="87e9d-115">A key feature of SQL Data Warehouse is the ability to pause when you are not using it, which stops the billing of compute resources.</span></span>  <span data-ttu-id="87e9d-116">Outro recurso importante é a capacidade de dimensionar os recursos.</span><span class="sxs-lookup"><span data-stu-id="87e9d-116">Another key feature is the ability to scale resources.</span></span>  <span data-ttu-id="87e9d-117">A Pausa e o Dimensionamento podem ser feitos no Portal do Azure ou pelos comandos do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="87e9d-117">Pausing and Scaling can be done via the Azure portal or through PowerShell commands.</span></span>  <span data-ttu-id="87e9d-118">Familiarize-se com esses recursos, pois eles podem reduzir bastante o custo do data warehouse quando ele não estiver em uso.</span><span class="sxs-lookup"><span data-stu-id="87e9d-118">Become familiar with these features as they can greatly reduce the cost of your data warehouse when it is not in use.</span></span>  <span data-ttu-id="87e9d-119">Se quiser seu data warehouse esteja sempre acessível, convém considerar dimensioná-lo para ter o menor tamanho, um DW100 em vez de pausar.</span><span class="sxs-lookup"><span data-stu-id="87e9d-119">If you always want your data warehouse accessible, you may want to consider scaling it down to the smallest size, a DW100 rather than pausing.</span></span>

<span data-ttu-id="87e9d-120">Confira também [Pausar os recursos de computação][Pause compute resources], [Retomar os recursos de computação][Resume compute resources], [Dimensionar os recursos de computação].</span><span class="sxs-lookup"><span data-stu-id="87e9d-120">See also [Pause compute resources][Pause compute resources], [Resume compute resources][Resume compute resources], [Scale compute resources].</span></span>

## <a name="drain-transactions-before-pausing-or-scaling"></a><span data-ttu-id="87e9d-121">Esvaziar as transações antes de pausar ou dimensionar</span><span class="sxs-lookup"><span data-stu-id="87e9d-121">Drain transactions before pausing or scaling</span></span>
<span data-ttu-id="87e9d-122">Ao pausar ou dimensionar o SQL Data Warehouse, nos bastidores, suas consultas são canceladas quando você inicia a pausa ou dimensionar a solicitação.</span><span class="sxs-lookup"><span data-stu-id="87e9d-122">When you pause or scale your SQL Data Warehouse, behind the scenes your queries are canceled when you initiate the pause or scale request.</span></span>  <span data-ttu-id="87e9d-123">Cancelar uma simples consulta SELECT é uma operação rápida e quase não terá impacto sobre o tempo que leva para pausar ou dimensionar sua instância.</span><span class="sxs-lookup"><span data-stu-id="87e9d-123">Canceling a simple SELECT query is a quick operation and has almost no impact to the time it takes to pause or scale your instance.</span></span>  <span data-ttu-id="87e9d-124">No entanto, as consultas transacionais, que modificam os dados ou a estrutura dos dados, não conseguirão parar rapidamente.</span><span class="sxs-lookup"><span data-stu-id="87e9d-124">However, transactional queries, which modify your data or the structure of the data, may not be able to stop quickly.</span></span>  <span data-ttu-id="87e9d-125">**As consultas transacionais, por definição, devem ser concluídas na íntegra ou reverter suas alterações.**</span><span class="sxs-lookup"><span data-stu-id="87e9d-125">**Transactional queries, by definition, must either complete in their entirety or rollback their changes.**</span></span>  <span data-ttu-id="87e9d-126">Reverter o trabalho concluído por uma consulta transacional pode levar tanto tempo, ou até mais, quanto a alteração original que a consulta estava aplicando.</span><span class="sxs-lookup"><span data-stu-id="87e9d-126">Rolling back the work completed by a transactional query can take as long, or even longer, than the original change the query was applying.</span></span>  <span data-ttu-id="87e9d-127">Por exemplo, se você cancelar uma consulta que estava excluindo linhas que já estava em execução por uma hora, poderá levar uma hora para o sistema inserir de volta as linhas que foram excluídas.</span><span class="sxs-lookup"><span data-stu-id="87e9d-127">For example, if you cancel a query which was deleting rows and has already been running for an hour, it could take the system an hour to insert back the rows which were deleted.</span></span>  <span data-ttu-id="87e9d-128">Se você executar a pausa ou o dimensionamento enquanto as transações estiverem em andamento, a pausa ou o dimensionamento poderão demorar muito tempo porque eles têm que esperar a reversão ser concluída antes de prosseguir.</span><span class="sxs-lookup"><span data-stu-id="87e9d-128">If you run pause or scaling while transactions are in flight, your pause or scaling may seem to take a long time because pausing and scaling has to wait for the rollback to complete before it can proceed.</span></span>

<span data-ttu-id="87e9d-129">Confira também [Compreendendo as transações][Understanding transactions], [Otimizando as transações][Optimizing transactions]</span><span class="sxs-lookup"><span data-stu-id="87e9d-129">See also [Understanding transactions][Understanding transactions], [Optimizing transactions][Optimizing transactions]</span></span>

## <a name="maintain-statistics"></a><span data-ttu-id="87e9d-130">Manter as estatísticas</span><span class="sxs-lookup"><span data-stu-id="87e9d-130">Maintain statistics</span></span>
<span data-ttu-id="87e9d-131">Ao contrário do SQL Server, que detecta e cria automaticamente ou atualiza as estatísticas em colunas, o SQL Data Warehouse requer uma manutenção manual das estatísticas.</span><span class="sxs-lookup"><span data-stu-id="87e9d-131">Unlike SQL Server, which automatically detects and creates or updates statistics on columns, SQL Data Warehouse requires manual maintenance of statistics.</span></span>  <span data-ttu-id="87e9d-132">Embora estejamos planejando alterar isso no futuro, por enquanto você deve manter as estatísticas para assegurar que os planos do SQL Data Warehouse sejam otimizados.</span><span class="sxs-lookup"><span data-stu-id="87e9d-132">While we do plan to change this in the future, for now you will want to maintain your statistics to ensure that the SQL Data Warehouse plans are optimized.</span></span>  <span data-ttu-id="87e9d-133">Os planos criados pelo otimizador são tão bons quanto as estatísticas disponíveis.</span><span class="sxs-lookup"><span data-stu-id="87e9d-133">The plans created by the optimizer are only as good as the available statistics.</span></span>  <span data-ttu-id="87e9d-134">**Criar estatísticas de exemplo em cada coluna é uma maneira fácil de começar a usar as estatísticas.**</span><span class="sxs-lookup"><span data-stu-id="87e9d-134">**Creating sampled statistics on every column is an easy way to get started with statistics.**</span></span>  <span data-ttu-id="87e9d-135">É igualmente importante atualizar as estatísticas quando ocorrem alterações significativas em seus dados.</span><span class="sxs-lookup"><span data-stu-id="87e9d-135">It's equally important to update statistics as significant changes happen to your data.</span></span>  <span data-ttu-id="87e9d-136">Pode ser uma abordagem conservadora atualizar as estatísticas diariamente ou após cada carga.</span><span class="sxs-lookup"><span data-stu-id="87e9d-136">A conservative approach may be to update your statistics daily or after each load.</span></span>  <span data-ttu-id="87e9d-137">Sempre há compensações entre o desempenho e o custo para a criação e a atualização das estatísticas.</span><span class="sxs-lookup"><span data-stu-id="87e9d-137">There are always trade-offs between performance and the cost to create and update statistics.</span></span> <span data-ttu-id="87e9d-138">Se você achar que está demorando muito para manter todas as estatísticas, convém tentar ser mais seletivo sobre quais colunas têm estatísticas ou quais colunas precisam de uma atualização frequente.</span><span class="sxs-lookup"><span data-stu-id="87e9d-138">If you find it is taking too long to maintain all of your statistics, you may want to try to be more selective about which columns have statistics or which columns need frequent updating.</span></span>  <span data-ttu-id="87e9d-139">Por exemplo, convém atualizar as colunas de data, onde novos valores podem ser adicionados, diariamente.</span><span class="sxs-lookup"><span data-stu-id="87e9d-139">For example, you might want to update date columns, where new values may be added, daily.</span></span> <span data-ttu-id="87e9d-140">**Você terá mais benefícios se tiver estatísticas em colunas envolvidas em junções, colunas usadas na cláusula WHERE e colunas encontradas em GROUP BY.**</span><span class="sxs-lookup"><span data-stu-id="87e9d-140">**You will gain the most benefit by having statistics on columns involved in joins, columns used in the WHERE clause and columns found in GROUP BY.**</span></span>

<span data-ttu-id="87e9d-141">Confira também [Gerenciar as estatísticas da tabela][Manage table statistics], [CREATE STATISTICS][CREATE STATISTICS], [UPDATE STATISTICS][UPDATE STATISTICS]</span><span class="sxs-lookup"><span data-stu-id="87e9d-141">See also [Manage table statistics][Manage table statistics], [CREATE STATISTICS][CREATE STATISTICS], [UPDATE STATISTICS][UPDATE STATISTICS]</span></span>

## <a name="group-insert-statements-into-batches"></a><span data-ttu-id="87e9d-142">Agrupar instruções INSERT em lotes</span><span class="sxs-lookup"><span data-stu-id="87e9d-142">Group INSERT statements into batches</span></span>
<span data-ttu-id="87e9d-143">Uma única carga para uma pequena tabela com uma instrução INSERT ou mesmo uma recarga periódica de uma pesquisa pode ser útil para satisfazer suas necessidades com uma instrução como `INSERT INTO MyLookup VALUES (1, 'Type 1')`.</span><span class="sxs-lookup"><span data-stu-id="87e9d-143">A one-time load to a small table with an INSERT statement or even a periodic reload of a look-up may perform just fine for your needs with a statement like `INSERT INTO MyLookup VALUES (1, 'Type 1')`.</span></span>  <span data-ttu-id="87e9d-144">No entanto, se você precisar carregar milhares ou milhões de linhas ao longo do dia, poderá achar que os INSERTS individuais poderão não dar conta.</span><span class="sxs-lookup"><span data-stu-id="87e9d-144">However, if you need to load thousands or millions of rows throughout the day, you might find that singleton INSERTS just can't keep up.</span></span>  <span data-ttu-id="87e9d-145">Em vez disso, desenvolva seus processos de modo que eles gravem em um arquivo e outro processo adiante-se periodicamente e carregue esse arquivo.</span><span class="sxs-lookup"><span data-stu-id="87e9d-145">Instead, develop your processes so that they write to a file and another process periodically comes along and loads this file.</span></span>

<span data-ttu-id="87e9d-146">Confira também [INSERT][INSERT]</span><span class="sxs-lookup"><span data-stu-id="87e9d-146">See also [INSERT][INSERT]</span></span>

## <a name="use-polybase-to-load-and-export-data-quickly"></a><span data-ttu-id="87e9d-147">Use o PolyBase para carregar e exportar dados rapidamente</span><span class="sxs-lookup"><span data-stu-id="87e9d-147">Use PolyBase to load and export data quickly</span></span>
<span data-ttu-id="87e9d-148">O SQL Data Warehouse oferece suporte ao carregamento e exportação dos dados por meio de várias ferramentas, incluindo o Azure Data Factory, PolyBase e BCP.</span><span class="sxs-lookup"><span data-stu-id="87e9d-148">SQL Data Warehouse supports loading and exporting data through several tools including Azure Data Factory, PolyBase, and BCP.</span></span>  <span data-ttu-id="87e9d-149">Para pequenas quantidades de dados em que o desempenho não é essencial, qualquer ferramenta poderá ser suficiente para satisfazer suas necessidades.</span><span class="sxs-lookup"><span data-stu-id="87e9d-149">For small amounts of data where performance isn't critical, any tool may be sufficient for your needs.</span></span>  <span data-ttu-id="87e9d-150">No entanto, quando você estiver carregando ou exportando grandes volumes de dados ou um desempenho rápido for necessário, o PolyBase será a melhor opção.</span><span class="sxs-lookup"><span data-stu-id="87e9d-150">However, when you are loading or exporting large volumes of data or fast performance is needed, PolyBase is the best choice.</span></span>  <span data-ttu-id="87e9d-151">O PolyBase foi projetado para aproveitar a arquitetura MPP (Processamento Paralelo Massivo) do SQL Data Warehouse e, portanto, carregará e exportará grandes quantidades de dados mais rapidamente do que qualquer outra ferramenta.</span><span class="sxs-lookup"><span data-stu-id="87e9d-151">PolyBase is designed to leverage the MPP (Massively Parallel Processing) architecture of SQL Data Warehouse and will therefore load and export data magnitudes faster than any other tool.</span></span>  <span data-ttu-id="87e9d-152">As cargas do PolyBase podem ser executadas usando CTAS ou INSERT INTO.</span><span class="sxs-lookup"><span data-stu-id="87e9d-152">PolyBase loads can be run using CTAS or INSERT INTO.</span></span>  <span data-ttu-id="87e9d-153">**Usar o CTAS minimizará o registro em log das transações e será o modo mais rápido de carregar os dados.**</span><span class="sxs-lookup"><span data-stu-id="87e9d-153">**Using CTAS will minimize transaction logging and the fastest way to load your data.**</span></span>  <span data-ttu-id="87e9d-154">O Azure Data Factory também oferece suporte para as cargas do PolyBase.</span><span class="sxs-lookup"><span data-stu-id="87e9d-154">Azure Data Factory also supports PolyBase loads.</span></span>  <span data-ttu-id="87e9d-155">O PolyBase oferece suporte a vários formatos de arquivo, incluindo os arquivos Gzip.</span><span class="sxs-lookup"><span data-stu-id="87e9d-155">PolyBase supports a variety of file formats including Gzip files.</span></span>  <span data-ttu-id="87e9d-156">**Para maximizar a taxa de transferência ao usar os arquivos de texto gzip, divida os arquivos em 60 ou mais arquivos para maximizar o paralelismo de sua carga.**</span><span class="sxs-lookup"><span data-stu-id="87e9d-156">**To maximize throughput when using gzip text files, break files up into 60 or more files to maximize parallelism of your load.**</span></span>  <span data-ttu-id="87e9d-157">Para ter uma taxa de transferência total mais rápida, considere carregar os dados simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="87e9d-157">For faster total throughput, consider loading data concurrently.</span></span>

<span data-ttu-id="87e9d-158">Confira também [Carregar dados][Load data], [Guia para usar o PolyBase][Guide for using PolyBase], [Padrões e estratégias de carregamento do SQL Data Warehouse do Azure][Azure SQL Data Warehouse loading patterns and strategies], [Carregar os Dados com o Azure Data Factory][Load Data with Azure Data Factory], [Mover dados com o Azure Data Factory][Move data with Azure Data Factory], [CREATE EXTERNAL FILE FORMAT][CREATE EXTERNAL FILE FORMAT], [CREATE EXTERNAL FILE FORMAT][Create table as select (CTAS)]</span><span class="sxs-lookup"><span data-stu-id="87e9d-158">See also [Load data][Load data], [Guide for using PolyBase][Guide for using PolyBase], [Azure SQL Data Warehouse loading patterns and strategies][Azure SQL Data Warehouse loading patterns and strategies], [Load Data with Azure Data Factory][Load Data with Azure Data Factory], [Move data with Azure Data Factory][Move data with Azure Data Factory], [CREATE EXTERNAL FILE FORMAT][CREATE EXTERNAL FILE FORMAT], [Create table as select (CTAS)][Create table as select (CTAS)]</span></span>

## <a name="load-then-query-external-tables"></a><span data-ttu-id="87e9d-159">Carregar e consultar tabelas externas</span><span class="sxs-lookup"><span data-stu-id="87e9d-159">Load then query external tables</span></span>
<span data-ttu-id="87e9d-160">Embora o Polybase, também conhecido como tabelas externas, possa ser a maneira mais rápida de carregar dados, ele não é o ideal para consultas.</span><span class="sxs-lookup"><span data-stu-id="87e9d-160">While Polybase, also known as external tables, can be the fastest way to load data, it is not optimal for queries.</span></span> <span data-ttu-id="87e9d-161">As tabelas Polybase do SQL Data Warehouse atualmente são compatíveis apenas com arquivos de blob do Azure.</span><span class="sxs-lookup"><span data-stu-id="87e9d-161">SQL Data Warehouse Polybase tables currently only support Azure blob files.</span></span> <span data-ttu-id="87e9d-162">Esses arquivos não tem quaisquer recursos de computação que os assegure.</span><span class="sxs-lookup"><span data-stu-id="87e9d-162">These files do not have any compute resources backing them.</span></span>  <span data-ttu-id="87e9d-163">Consequentemente, o SQL Data Warehouse não pode descarregar essa carga e, portanto, deve ler o arquivo todo carregando-o no tempdb a fim de ler os dados.</span><span class="sxs-lookup"><span data-stu-id="87e9d-163">As a result, SQL Data Warehouse cannot offload this work and therefore must read the entire file by loading it to tempdb in order to read the data.</span></span>  <span data-ttu-id="87e9d-164">Desse modo, se você tiver várias consultas que usarão esses dados, é melhor carregá-los apenas uma vez e fazer com que as consultas usem a tabela local.</span><span class="sxs-lookup"><span data-stu-id="87e9d-164">Therefore, if you have several queries that will be querying this data, it is better to load this data once and have queries use the local table.</span></span>

<span data-ttu-id="87e9d-165">Confira também [Guia para usar o PolyBase][Guide for using PolyBase]</span><span class="sxs-lookup"><span data-stu-id="87e9d-165">See also [Guide for using PolyBase][Guide for using PolyBase]</span></span>

## <a name="hash-distribute-large-tables"></a><span data-ttu-id="87e9d-166">Tabelas grandes com distribuição Hash</span><span class="sxs-lookup"><span data-stu-id="87e9d-166">Hash distribute large tables</span></span>
<span data-ttu-id="87e9d-167">Por padrão, as tabelas são distribuídas pelo método Round Robin.</span><span class="sxs-lookup"><span data-stu-id="87e9d-167">By default, tables are Round Robin distributed.</span></span>  <span data-ttu-id="87e9d-168">Isso facilita para os usuários começar a criar tabelas sem ter de decidir sobre como as tabelas deverão ser distribuídas.</span><span class="sxs-lookup"><span data-stu-id="87e9d-168">This makes it easy for users to get started creating tables without having to decide how their tables should be distributed.</span></span>  <span data-ttu-id="87e9d-169">Tabelas Round Robin podem apresentar desempenho suficiente para algumas cargas de trabalho, mas, na maioria das vezes, o desempenho será muito melhor se uma coluna de distribuição for escolhida.</span><span class="sxs-lookup"><span data-stu-id="87e9d-169">Round Robin tables may perform sufficiently for some workloads, but in most cases selecting a distribution column will perform much better.</span></span>  <span data-ttu-id="87e9d-170">O exemplo mais comum de quando uma tabela distribuída por uma coluna superará bastante uma tabela Round Robin ocorre quando duas tabelas de fatos grandes são unidas.</span><span class="sxs-lookup"><span data-stu-id="87e9d-170">The most common example of when a table distributed by a column will far outperform a Round Robin table is when two large fact tables are joined.</span></span>  <span data-ttu-id="87e9d-171">Por exemplo, se você tiver uma tabela de pedidos, que é distribuída por order_id, e uma tabela de transações, que também é distribuída por order_id, quando você unir a tabela de pedidos e a tabela de transações em order_id, a consulta se tornará uma consulta de passagem, o que significa que podemos eliminar as operações de movimentação de dados.</span><span class="sxs-lookup"><span data-stu-id="87e9d-171">For example, if you have an orders table, which is distributed by order_id, and a transactions table, which is also distributed by order_id, when you join your orders table to your transactions table on order_id, this query becomes a pass-through query, which means we eliminate data movement operations.</span></span>  <span data-ttu-id="87e9d-172">Menos etapas significam uma consulta mais rápida.</span><span class="sxs-lookup"><span data-stu-id="87e9d-172">Fewer steps mean a faster query.</span></span>  <span data-ttu-id="87e9d-173">Menos movimento de dados também resulta em consultas mais rápidas.</span><span class="sxs-lookup"><span data-stu-id="87e9d-173">Less data movement also makes for faster queries.</span></span>  <span data-ttu-id="87e9d-174">Essa explicação é bem superficial.</span><span class="sxs-lookup"><span data-stu-id="87e9d-174">This explanation just scratches the surface.</span></span> <span data-ttu-id="87e9d-175">Ao carregar uma tabela distribuída, verifique se os dados de entrada não estão classificados na chave de distribuição, pois isso reduzirá a velocidade das cargas.</span><span class="sxs-lookup"><span data-stu-id="87e9d-175">When loading a distributed table, be sure that your incoming data is not sorted on the distribution key as this will slow down your loads.</span></span>  <span data-ttu-id="87e9d-176">Consulte os links abaixo para obter muito mais detalhes sobre como escolher uma coluna de distribuição pode melhorar o desempenho e também como definir uma tabela distribuída na cláusula WITH da instrução CREATE TABLES.</span><span class="sxs-lookup"><span data-stu-id="87e9d-176">See the below links for much more details on how selecting a distribution column can improve performance as well as how to define a distributed table in the WITH clause of your CREATE TABLES statement.</span></span>

<span data-ttu-id="87e9d-177">Confira também [Visão geral das tabelas][Table overview], [Distribuição de tabelas][Table distribution], [Selecionando a distribuição de tabelas][Selecting table distribution], [CREATE TABLE][CREATE TABLE], [CREATE TABLE AS SELECT][CREATE TABLE AS SELECT]</span><span class="sxs-lookup"><span data-stu-id="87e9d-177">See also [Table overview][Table overview], [Table distribution][Table distribution], [Selecting table distribution][Selecting table distribution], [CREATE TABLE][CREATE TABLE], [CREATE TABLE AS SELECT][CREATE TABLE AS SELECT]</span></span>

## <a name="do-not-over-partition"></a><span data-ttu-id="87e9d-178">Não estender a partição</span><span class="sxs-lookup"><span data-stu-id="87e9d-178">Do not over-partition</span></span>
<span data-ttu-id="87e9d-179">Embora o particionamento dos dados possa ser muito eficiente para manter seus dados na troca de partições ou otimizar as varreduras com a eliminação de partições, ter muitas partições pode reduzir a velocidade de suas consultas.</span><span class="sxs-lookup"><span data-stu-id="87e9d-179">While partitioning data can be very effective for maintaining your data through partition switching or optimizing scans by with partition elimination, having too many partitions can slow down your queries.</span></span>  <span data-ttu-id="87e9d-180">Geralmente, uma estratégia de particionamento com alta granularidade que pode funcionar bem no SQL Server pode não funcionar bem no SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="87e9d-180">Often a high granularity partitioning strategy which may work well on SQL Server may not work well on SQL Data Warehouse.</span></span>  <span data-ttu-id="87e9d-181">Ter muitas partições também poderá reduzir a eficiência dos índices columnstore clusterizados se cada partição tiver menos de 1 milhão de linhas.</span><span class="sxs-lookup"><span data-stu-id="87e9d-181">Having too many partitions can also reduce the effectiveness of clustered columnstore indexes if each partition has fewer than 1 million rows.</span></span>  <span data-ttu-id="87e9d-182">Lembre-se que, internamente, o SQL Data Warehouse particiona os dados em 60 bancos de dados, portanto, se você criar uma tabela com 100 partições, isso realmente resultará em 6.000 partições.</span><span class="sxs-lookup"><span data-stu-id="87e9d-182">Keep in mind that behind the scenes, SQL Data Warehouse partitions your data for you into 60 databases, so if you create a table with 100 partitions, this actually results in 6000 partitions.</span></span>  <span data-ttu-id="87e9d-183">Cada carga de trabalho é diferente, assim, o melhor conselho é fazer experiências com o particionamento para ver o que funciona melhor para sua carga de trabalho.</span><span class="sxs-lookup"><span data-stu-id="87e9d-183">Each workload is different so the best advice is to experiment with partitioning to see what works best for your workload.</span></span>  <span data-ttu-id="87e9d-184">Considere uma granularidade menor do que pode ter funcionado para você no SQL Server.</span><span class="sxs-lookup"><span data-stu-id="87e9d-184">Consider lower granularity than what may have worked for you in SQL Server.</span></span>  <span data-ttu-id="87e9d-185">Por exemplo, considere usar partições semanais ou mensais, em vez de partições diárias.</span><span class="sxs-lookup"><span data-stu-id="87e9d-185">For example, consider using weekly or monthly partitions rather than daily partitions.</span></span>

<span data-ttu-id="87e9d-186">Confira também [Particionamento de tabelas][Table partitioning]</span><span class="sxs-lookup"><span data-stu-id="87e9d-186">See also [Table partitioning][Table partitioning]</span></span>

## <a name="minimize-transaction-sizes"></a><span data-ttu-id="87e9d-187">Minimizar os tamanhos das transações</span><span class="sxs-lookup"><span data-stu-id="87e9d-187">Minimize transaction sizes</span></span>
<span data-ttu-id="87e9d-188">As instruções INSERT, UPDATE e DELETE são executadas em uma transação e quando falham, devem ser revertidas.</span><span class="sxs-lookup"><span data-stu-id="87e9d-188">INSERT, UPDATE, and DELETE statements run in a transaction and when they fail they must be rolled back.</span></span>  <span data-ttu-id="87e9d-189">Para minimizar a possibilidade de uma reversão longa, minimize os tamanhos das transações sempre que possível.</span><span class="sxs-lookup"><span data-stu-id="87e9d-189">To minimize the potential for a long rollback, minimize transaction sizes whenever possible.</span></span>  <span data-ttu-id="87e9d-190">Isso pode ser feito dividindo as instruções INSERT, UPDATE e DELETE em partes.</span><span class="sxs-lookup"><span data-stu-id="87e9d-190">This can be done by dividing INSERT, UPDATE, and DELETE statements into parts.</span></span>  <span data-ttu-id="87e9d-191">Por exemplo, se você tiver uma instrução INSERT e esperar que ela demore uma hora, se possível, divida-a em quatro partes, sendo cada uma executada em 15 minutos.</span><span class="sxs-lookup"><span data-stu-id="87e9d-191">For example, if you have an INSERT which you expect to take 1 hour, if possible, break the INSERT up into 4 parts, which will each run in 15 minutes.</span></span>  <span data-ttu-id="87e9d-192">Aproveite os casos especiais de Registro em Log Mínimo, como CTAS, TRUNCATE, DROP TABLE ou INSERT, para esvaziar as tabelas, reduzindo o risco de reversão.</span><span class="sxs-lookup"><span data-stu-id="87e9d-192">Leverage special Minimal Logging cases, like CTAS, TRUNCATE, DROP TABLE or INSERT to empty tables, to reduce rollback risk.</span></span>  <span data-ttu-id="87e9d-193">Outra maneira de eliminar as reversões é usar as operações de Metadados Somente, como a troca de partição para o gerenciamento de dados.</span><span class="sxs-lookup"><span data-stu-id="87e9d-193">Another way to eliminate rollbacks is to use Metadata Only operations like partition switching for data management.</span></span>  <span data-ttu-id="87e9d-194">Por exemplo, em vez de executar uma instrução DELETE para excluir todas as linhas em uma tabela onde order_date foi em outubro de 2001, você poderia particionar os dados mensalmente e, em seguida, trocar a partição com os dados por uma partição vazia a partir de outra tabela (consulte exemplos de ALTER TABLE).</span><span class="sxs-lookup"><span data-stu-id="87e9d-194">For example, rather than execute a DELETE statement to delete all rows in a table where the order_date was in October of 2001, you could partition your data monthly and then switch out the partition with data for an empty partition from another table (see ALTER TABLE examples).</span></span>  <span data-ttu-id="87e9d-195">Para as tabelas não particionadas, considere usar um CTAS para gravar os dados que você deseja manter em uma tabela em vez de usar DELETE.</span><span class="sxs-lookup"><span data-stu-id="87e9d-195">For unpartitioned tables consider using a CTAS to write the data you want to keep in a table rather than using DELETE.</span></span>  <span data-ttu-id="87e9d-196">Se um CTAS demorar a mesma quantidade de tempo, será uma operação muito mais segura de executar quando ele tiver um log de transação mínimo e puder ser cancelado rapidamente, se necessário.</span><span class="sxs-lookup"><span data-stu-id="87e9d-196">If a CTAS takes the same amount of time, it is a much safer operation to run as it has very minimal transaction logging and can be canceled quickly if needed.</span></span>

<span data-ttu-id="87e9d-197">Confira também [Compreendendo as transações][Understanding transactions], [Otimizando as transações][Optimizing transactions], [Particionamento de tabelas][Table partitioning], [TRUNCATE TABLE][TRUNCATE TABLE], [ALTER TABLE][ALTER TABLE], [Create table as select (CTAS)][Create table as select (CTAS)]</span><span class="sxs-lookup"><span data-stu-id="87e9d-197">See also [Understanding transactions][Understanding transactions], [Optimizing transactions][Optimizing transactions], [Table partitioning][Table partitioning], [TRUNCATE TABLE][TRUNCATE TABLE], [ALTER TABLE][ALTER TABLE], [Create table as select (CTAS)][Create table as select (CTAS)]</span></span>

## <a name="use-the-smallest-possible-column-size"></a><span data-ttu-id="87e9d-198">Use o menor tamanho de coluna possível</span><span class="sxs-lookup"><span data-stu-id="87e9d-198">Use the smallest possible column size</span></span>
<span data-ttu-id="87e9d-199">Ao definir a DDL, usar o menor tipo de dados que oferece suporte a seus dados melhorará o desempenho da consulta.</span><span class="sxs-lookup"><span data-stu-id="87e9d-199">When defining your DDL, using the smallest data type which will support your data will improve query performance.</span></span>  <span data-ttu-id="87e9d-200">Isso é especialmente importante para as colunas CHAR e VARCHAR.</span><span class="sxs-lookup"><span data-stu-id="87e9d-200">This is especially important for CHAR and VARCHAR columns.</span></span>  <span data-ttu-id="87e9d-201">Se o maior valor em uma coluna for 25 caracteres, então, defina a coluna como VARCHAR(25).</span><span class="sxs-lookup"><span data-stu-id="87e9d-201">If the longest value in a column is 25 characters, then define your column as VARCHAR(25).</span></span>  <span data-ttu-id="87e9d-202">Evite definir todas as colunas de caractere para um tamanho grande padrão.</span><span class="sxs-lookup"><span data-stu-id="87e9d-202">Avoid defining all character columns to a large default length.</span></span>  <span data-ttu-id="87e9d-203">Além disso, defina as colunas como VARCHAR quando isso for realmente necessário em vez de usar NVARCHAR.</span><span class="sxs-lookup"><span data-stu-id="87e9d-203">In addition, define columns as VARCHAR when that is all that is needed rather than use NVARCHAR.</span></span>

<span data-ttu-id="87e9d-204">Confira também [Visão geral das tabelas][Table overview], [Tipos de dados da tabela][Table data types], [CREATE TABLE][CREATE TABLE]</span><span class="sxs-lookup"><span data-stu-id="87e9d-204">See also [Table overview][Table overview], [Table data types][Table data types], [CREATE TABLE][CREATE TABLE]</span></span>

## <a name="use-temporary-heap-tables-for-transient-data"></a><span data-ttu-id="87e9d-205">Usar tabelas de heap temporárias para dados transitórios</span><span class="sxs-lookup"><span data-stu-id="87e9d-205">Use temporary heap tables for transient data</span></span>
<span data-ttu-id="87e9d-206">Quando você estiver descarregando temporariamente os dados no SQL Data Warehouse, poderá achar que usar uma tabela de heap tornará o processo geral mais rápido.</span><span class="sxs-lookup"><span data-stu-id="87e9d-206">When you are temporarily landing data on SQL Data Warehouse, you may find that using a heap table will make the overall process faster.</span></span>  <span data-ttu-id="87e9d-207">Se estiver carregando os dados apenas para prepará-los antes de executar mais transformações, carregar a tabela na tabela de heap será muito mais rápido que carregar os dados em uma tabela columnstore clusterizado.</span><span class="sxs-lookup"><span data-stu-id="87e9d-207">If you are loading data only to stage it before running more transformations, loading the table to heap table will be much faster than loading the data to a clustered columnstore table.</span></span>  <span data-ttu-id="87e9d-208">Além disso, o carregamento de dados em uma tabela temporária também carregará muito mais rapidamente do que carregar uma tabela em um armazenamento permanente.</span><span class="sxs-lookup"><span data-stu-id="87e9d-208">In addition, loading data to a temp table will also load much faster than loading a table to permanent storage.</span></span>  <span data-ttu-id="87e9d-209">As tabelas temporárias começam por "#" e só podem ser acessadas pela sessão que as criou, portanto, elas podem funcionar em cenários limitados.</span><span class="sxs-lookup"><span data-stu-id="87e9d-209">Temporary tables start with a "#" and are only accessible by the session which created it, so they may only work in limited scenarios.</span></span>   <span data-ttu-id="87e9d-210">As tabelas de heap são definidas na cláusula WITH de CREATE TABLE.</span><span class="sxs-lookup"><span data-stu-id="87e9d-210">Heap tables are defined in the WITH clause of a CREATE TABLE.</span></span>  <span data-ttu-id="87e9d-211">Se você usar uma tabela temporária, lembre-se também de criar estatísticas nela.</span><span class="sxs-lookup"><span data-stu-id="87e9d-211">If you do use a temporary table, remember to create statistics on that temporary table too.</span></span>

<span data-ttu-id="87e9d-212">Confira também [Tabelas temporárias][Temporary tables], [CREATE TABLE][CREATE TABLE], [CREATE TABLE AS SELECT][CREATE TABLE AS SELECT]</span><span class="sxs-lookup"><span data-stu-id="87e9d-212">See also [Temporary tables][Temporary tables], [CREATE TABLE][CREATE TABLE], [CREATE TABLE AS SELECT][CREATE TABLE AS SELECT]</span></span>

## <a name="optimize-clustered-columnstore-tables"></a><span data-ttu-id="87e9d-213">Otimizar tabelas columnstore clusterizadas</span><span class="sxs-lookup"><span data-stu-id="87e9d-213">Optimize clustered columnstore tables</span></span>
<span data-ttu-id="87e9d-214">Os índices columnstore clusterizado são uma das maneiras mais eficientes de poder armazenar os dados no SQL Data Warehouse do Azure.</span><span class="sxs-lookup"><span data-stu-id="87e9d-214">Clustered columnstore indexes are one of the most efficient ways you can store your data in Azure SQL Data Warehouse.</span></span>  <span data-ttu-id="87e9d-215">Por padrão, as tabelas no SQL Data Warehouse são criadas como ColumnStore Clusterizado.</span><span class="sxs-lookup"><span data-stu-id="87e9d-215">By default, tables in SQL Data Warehouse are created as Clustered ColumnStore.</span></span>  <span data-ttu-id="87e9d-216">É importante ter um segmento de boa qualidade para obter o melhor desempenho para as consultas nas tabelas columnstore.</span><span class="sxs-lookup"><span data-stu-id="87e9d-216">To get the best performance for queries on columnstore tables, having good segment quality is important.</span></span>  <span data-ttu-id="87e9d-217">Quando as linhas são gravadas nas tabelas columnstore sob pressão da memória, a qualidade do segmento columnstore pode ficar prejudicada.</span><span class="sxs-lookup"><span data-stu-id="87e9d-217">When rows are written to columnstore tables under memory pressure, columnstore segment quality may suffer.</span></span>  <span data-ttu-id="87e9d-218">A qualidade de segmento pode ser medida pelo número de linhas em um grupo de linhas compactado.</span><span class="sxs-lookup"><span data-stu-id="87e9d-218">Segment quality can be measured by number of rows in a compressed Row Group.</span></span>  <span data-ttu-id="87e9d-219">Confira as [Causas da má qualidade de índice columnstore][Causes of poor columnstore index quality] no artigo sobre [Índices de tabela][Table indexes] para obter instruções passo a passo sobre como detectar e melhorar a qualidade do segmento para as tabelas columnstore clusterizadas.</span><span class="sxs-lookup"><span data-stu-id="87e9d-219">See the [Causes of poor columnstore index quality][Causes of poor columnstore index quality] in the [Table indexes][Table indexes] article for step by step instructions on detecting and improving segment quality for clustered columnstore tables.</span></span>  <span data-ttu-id="87e9d-220">Como a alta qualidade dos segmentos de columnstore é importante, é uma boa ideia usar ids de usuários que estão na classe de recurso de médio ou grande de carregamento de dados.</span><span class="sxs-lookup"><span data-stu-id="87e9d-220">Because high quality columnstore segments is important, it's a good idea to use users ids which are in the medium or large resource class for loading data.</span></span>  <span data-ttu-id="87e9d-221">Quanto menos DWUs você usar, maior será a classe de recurso que você desejará atribuir ao usuário do carregamento.</span><span class="sxs-lookup"><span data-stu-id="87e9d-221">The fewer DWUs you use, the larger the resource class you will want to assign to your loading user.</span></span>

<span data-ttu-id="87e9d-222">Como as tabelas columnstore geralmente não enviam os dados em um segmento columnstore compactado até haver mais de 1 milhão de linhas por tabela e cada tabela do SQL Data Warehouse é particionada em 60 tabelas, como regra geral, as tabelas columnstore não aproveitarão uma consulta a menos que a tabela tenha mais de 60 milhões de linhas.</span><span class="sxs-lookup"><span data-stu-id="87e9d-222">Since columnstore tables generally won't push data into a compressed columnstore segment until there are more than 1 million rows per table and each SQL Data Warehouse table is partitioned into 60 tables, as a rule of thumb, columnstore tables won't benefit a query unless the table has more than 60 million rows.</span></span>  <span data-ttu-id="87e9d-223">Para a tabela com menos de 60 milhões de linhas, talvez não faça sentido ter um índice columnstore.</span><span class="sxs-lookup"><span data-stu-id="87e9d-223">For table with less than 60 million rows, it may not make any sense to have a columnstore index.</span></span>  <span data-ttu-id="87e9d-224">Também pode não prejudicar.</span><span class="sxs-lookup"><span data-stu-id="87e9d-224">It also may not hurt.</span></span>  <span data-ttu-id="87e9d-225">Além disso, se você particionar seus dados, desejará considerar que cada partição precisará ter 1 milhão de linhas para se beneficiar de um índice columnstore clusterizado.</span><span class="sxs-lookup"><span data-stu-id="87e9d-225">Furthermore, if you partition your data, then you will want to consider that each partition will need to have 1 million rows to benefit from a clustered columnstore index.</span></span>  <span data-ttu-id="87e9d-226">Se uma tabela tiver 100 partições, será necessário ter pelo menos 6 bilhões de linhas para se beneficiar de um columnstore clusterizado (60 distribuições * 100 partições * 1 milhão de linhas).</span><span class="sxs-lookup"><span data-stu-id="87e9d-226">If a table has 100 partitions, then it will need to have at least 6 billion rows to benefit from a clustered columns store (60 distributions * 100 partitions * 1 million rows).</span></span>  <span data-ttu-id="87e9d-227">Se a tabela não tiver as 6 bilhões de linhas neste exemplo, reduza o número de partições ou considere usar uma tabela de heap.</span><span class="sxs-lookup"><span data-stu-id="87e9d-227">If your table does not have 6 billion rows in this example, either reduce the number of partitions or consider using a heap table instead.</span></span>  <span data-ttu-id="87e9d-228">Também pode valer a pena testar para ver se um melhor desempenho pode ser obtido com uma tabela de heap com índices secundários em vez de uma tabela columnstore.</span><span class="sxs-lookup"><span data-stu-id="87e9d-228">It also may be worth experimenting to see if better performance can be gained with a heap table with secondary indexes rather than a columnstore table.</span></span>  <span data-ttu-id="87e9d-229">As tabelas columnStore ainda não dão suporte aos índices secundários.</span><span class="sxs-lookup"><span data-stu-id="87e9d-229">Columnstore tables do not yet support secondary indexes.</span></span>

<span data-ttu-id="87e9d-230">Ao consultar uma tabela columnstore, as consultas serão executadas mais rapidamente se você selecionar apenas as colunas necessárias.</span><span class="sxs-lookup"><span data-stu-id="87e9d-230">When querying a columnstore table, queries will run faster if you select only the columns you need.</span></span>  

<span data-ttu-id="87e9d-231">Confira também [Índices de tabela][Table indexes], [Guia dos índices columnstore][Columnstore indexes guide], [Recriando índices columnstore][Rebuilding columnstore indexes]</span><span class="sxs-lookup"><span data-stu-id="87e9d-231">See also [Table indexes][Table indexes], [Columnstore indexes guide][Columnstore indexes guide], [Rebuilding columnstore indexes][Rebuilding columnstore indexes]</span></span>

## <a name="use-larger-resource-class-to-improve-query-performance"></a><span data-ttu-id="87e9d-232">Usar uma classe maior de recursos para melhorar o desempenho da consulta</span><span class="sxs-lookup"><span data-stu-id="87e9d-232">Use larger resource class to improve query performance</span></span>
<span data-ttu-id="87e9d-233">O SQL Data Warehouse usa grupos de recursos como uma maneira de alocar memória para as consultas.</span><span class="sxs-lookup"><span data-stu-id="87e9d-233">SQL Data Warehouse uses resource groups as a way to allocate memory to queries.</span></span>  <span data-ttu-id="87e9d-234">Para o uso imediato, todos os usuários são atribuídos à classe de recurso pequena, que concede 100 MB de memória por distribuição.</span><span class="sxs-lookup"><span data-stu-id="87e9d-234">Out of the box, all users are assigned to the small resource class which grants 100 MB of memory per distribution.</span></span>  <span data-ttu-id="87e9d-235">Como sempre há 60 distribuições e cada distribuição recebe um mínimo de 100 MB, a alocação de memória total de todo o sistema é de 6.000 MB ou menos de 6 GB.</span><span class="sxs-lookup"><span data-stu-id="87e9d-235">Since there are always 60 distributions and each distribution is given a minimum of 100 MB, system wide the total memory allocation is 6,000 MB, or just under 6 GB.</span></span>  <span data-ttu-id="87e9d-236">Determinadas consultas, como junções grandes ou cargas para as tabelas columnstore clusterizado, se beneficiarão das alocações de memória maiores.</span><span class="sxs-lookup"><span data-stu-id="87e9d-236">Certain queries, like large joins or loads to clustered columnstore tables, will benefit from larger memory allocations.</span></span>  <span data-ttu-id="87e9d-237">Algumas consultas, como as varreduras puras, não terão qualquer benefício.</span><span class="sxs-lookup"><span data-stu-id="87e9d-237">Some queries, like pure scans, will see no benefit.</span></span>  <span data-ttu-id="87e9d-238">Por outro lado, usar classes de recurso maiores afeta a simultaneidade, portanto, você deve levar isso em consideração antes de mover todos os usuários para uma classe de recurso grande.</span><span class="sxs-lookup"><span data-stu-id="87e9d-238">On the flip side, utilizing larger resource classes impacts concurrency, so you will want to take this into consideration before moving all of your users to a large resource class.</span></span>

<span data-ttu-id="87e9d-239">Confira também [Gerenciamento de simultaneidade e carga de trabalho][Concurrency and workload management]</span><span class="sxs-lookup"><span data-stu-id="87e9d-239">See also [Concurrency and workload management][Concurrency and workload management]</span></span>

## <a name="use-smaller-resource-class-to-increase-concurrency"></a><span data-ttu-id="87e9d-240">Usar uma Classe de Recurso Menor para Aumentar a Simultaneidade</span><span class="sxs-lookup"><span data-stu-id="87e9d-240">Use Smaller Resource Class to Increase Concurrency</span></span>
<span data-ttu-id="87e9d-241">Se você estiver percebendo que as consultas do usuário parecem atrasar muito, é possível que os usuários estejam executando classes de recurso maiores e consumindo muitos slots de simultaneidade, fazendo com que outras consultas entrem na fila.</span><span class="sxs-lookup"><span data-stu-id="87e9d-241">If you are noticing that user queries seem to have a long delay, it could be that your users are running in larger resource classes and are consuming a lot of concurrency slots causing other queries to queue up.</span></span>  <span data-ttu-id="87e9d-242">Para saber se as consultas dos usuários estão em fila, execute `SELECT * FROM sys.dm_pdw_waits` para ver se alguma linha é retornada.</span><span class="sxs-lookup"><span data-stu-id="87e9d-242">To see if users queries are queued, run `SELECT * FROM sys.dm_pdw_waits` to see if any rows are returned.</span></span>

<span data-ttu-id="87e9d-243">Confira também [Gerenciamento de simultaneidade e carga de trabalho][Concurrency and workload management], [sys.dm_pdw_waits][sys.dm_pdw_waits]</span><span class="sxs-lookup"><span data-stu-id="87e9d-243">See also [Concurrency and workload management][Concurrency and workload management], [sys.dm_pdw_waits][sys.dm_pdw_waits]</span></span>

## <a name="use-dmvs-to-monitor-and-optimize-your-queries"></a><span data-ttu-id="87e9d-244">Usar DMVs para monitorar e otimizar suas consultas</span><span class="sxs-lookup"><span data-stu-id="87e9d-244">Use DMVs to monitor and optimize your queries</span></span>
<span data-ttu-id="87e9d-245">O SQL Data Warehouse tem várias DMVs que podem ser usadas para monitorar a execução da consulta.</span><span class="sxs-lookup"><span data-stu-id="87e9d-245">SQL Data Warehouse has several DMVs which can be used to monitor query execution.</span></span>  <span data-ttu-id="87e9d-246">O artigo de monitoramento abaixo apresenta instruções passo a passo sobre como analisar os detalhes de uma consulta em execução.</span><span class="sxs-lookup"><span data-stu-id="87e9d-246">The monitoring article below walks through step-by-step instructions on how to look at the details of an executing query.</span></span>  <span data-ttu-id="87e9d-247">Para encontrar rapidamente as consultas nessas DMVs, usar a opção LABEL com suas consultas poderá ajudar.</span><span class="sxs-lookup"><span data-stu-id="87e9d-247">To quickly find queries in these DMVs, using the LABEL option with your queries can help.</span></span>

<span data-ttu-id="87e9d-248">Confira também [Monitore sua carga de trabalho usando DMVs][Monitor your workload using DMVs], [LABEL][LABEL], [OPTION][OPTION], [sys.dm_exec_sessions][sys.dm_exec_sessions], [sys.dm_pdw_exec_requests][sys.dm_pdw_exec_requests], [sys.dm_pdw_request_steps][sys.dm_pdw_request_steps], [sys.dm_pdw_sql_requests][sys.dm_pdw_sql_requests], [sys.dm_pdw_dms_workers], [DBCC PDW_SHOWEXECUTIONPLAN][DBCC PDW_SHOWEXECUTIONPLAN], [sys.dm_pdw_waits][sys.dm_pdw_waits]</span><span class="sxs-lookup"><span data-stu-id="87e9d-248">See also [Monitor your workload using DMVs][Monitor your workload using DMVs], [LABEL][LABEL], [OPTION][OPTION], [sys.dm_exec_sessions][sys.dm_exec_sessions], [sys.dm_pdw_exec_requests][sys.dm_pdw_exec_requests], [sys.dm_pdw_request_steps][sys.dm_pdw_request_steps], [sys.dm_pdw_sql_requests][sys.dm_pdw_sql_requests], [sys.dm_pdw_dms_workers], [DBCC PDW_SHOWEXECUTIONPLAN][DBCC PDW_SHOWEXECUTIONPLAN], [sys.dm_pdw_waits][sys.dm_pdw_waits]</span></span>

## <a name="other-resources"></a><span data-ttu-id="87e9d-249">Outros recursos</span><span class="sxs-lookup"><span data-stu-id="87e9d-249">Other resources</span></span>
<span data-ttu-id="87e9d-250">Confira também nosso artigo de [Solução de problemas][Troubleshooting] para conhecer os problemas e as soluções comuns.</span><span class="sxs-lookup"><span data-stu-id="87e9d-250">Also see our [Troubleshooting][Troubleshooting] article for common issues and solutions.</span></span>

<span data-ttu-id="87e9d-251">Se você não encontrar o que estava procurando nesse artigo, tente usar a "Pesquisa de documentos" à esquerda da página para pesquisar todos os documentos do SQL Data Warehouse do Azure.</span><span class="sxs-lookup"><span data-stu-id="87e9d-251">If you didn't find what you were looking for in this article, try using the "Search for docs" on the left side of this page to search all of the Azure SQL Data Warehouse documents.</span></span>  <span data-ttu-id="87e9d-252">O [Fórum no MSDN do SQL Data Warehouse do Azure][Azure SQL Data Warehouse MSDN Forum] foi criado como um local para você fazer perguntas a outros usuários e ao Grupo de Produtos do SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="87e9d-252">The [Azure SQL Data Warehouse MSDN Forum][Azure SQL Data Warehouse MSDN Forum] was create as a place for you to ask questions to other users and to the SQL Data Warehouse Product Group.</span></span>  <span data-ttu-id="87e9d-253">Monitoramos ativamente esse fórum para garantir que suas perguntas sejam respondidas por outro usuário ou um de nós.</span><span class="sxs-lookup"><span data-stu-id="87e9d-253">We actively monitor this forum to ensure that your questions are answered either by another user or one of us.</span></span>  <span data-ttu-id="87e9d-254">Caso você prefira fazer perguntas sobre o Stack Overflow, também temos um [Fórum sobre o Stack Overflow do SQL Data Warehouse do Azure][Azure SQL Data Warehouse Stack Overflow Forum].</span><span class="sxs-lookup"><span data-stu-id="87e9d-254">If you prefer to ask your questions on Stack Overflow, we also have an [Azure SQL Data Warehouse Stack Overflow Forum][Azure SQL Data Warehouse Stack Overflow Forum].</span></span>

<span data-ttu-id="87e9d-255">Por fim, use a página [Comentários do SQL Data Warehouse do Azure][Azure SQL Data Warehouse Feedback] para fazer solicitações de recurso.</span><span class="sxs-lookup"><span data-stu-id="87e9d-255">Finally, please do use the [Azure SQL Data Warehouse Feedback][Azure SQL Data Warehouse Feedback] page to make feature requests.</span></span>  <span data-ttu-id="87e9d-256">Adicionar suas solicitações ou recomendar outras solicitações realmente nos ajudará a priorizar os recursos.</span><span class="sxs-lookup"><span data-stu-id="87e9d-256">Adding your requests or up-voting other requests really helps us prioritize features.</span></span>

<!--Image references-->

<!--Article references-->
[Create a support ticket]: ./sql-data-warehouse-get-started-create-support-ticket.md
[Concurrency and workload management]: ./sql-data-warehouse-develop-concurrency.md
[Create table as select (CTAS)]: ./sql-data-warehouse-develop-ctas.md
[Table overview]: ./sql-data-warehouse-tables-overview.md
[Table data types]: ./sql-data-warehouse-tables-data-types.md
[Table distribution]: ./sql-data-warehouse-tables-distribute.md
[Table indexes]: ./sql-data-warehouse-tables-index.md
[Causes of poor columnstore index quality]: ./sql-data-warehouse-tables-index.md#causes-of-poor-columnstore-index-quality
[Rebuilding columnstore indexes]: ./sql-data-warehouse-tables-index.md#rebuilding-indexes-to-improve-segment-quality
[Table partitioning]: ./sql-data-warehouse-tables-partition.md
[Manage table statistics]: ./sql-data-warehouse-tables-statistics.md
[Temporary tables]: ./sql-data-warehouse-tables-temporary.md
[Guide for using PolyBase]: ./sql-data-warehouse-load-polybase-guide.md
[Load data]: ./sql-data-warehouse-overview-load.md
[Move data with Azure Data Factory]: ../data-factory/data-factory-azure-sql-data-warehouse-connector.md
[Load data with Azure Data Factory]: ./sql-data-warehouse-get-started-load-with-azure-data-factory.md
[Load data with bcp]: ./sql-data-warehouse-load-with-bcp.md
[Load data with PolyBase]: ./sql-data-warehouse-get-started-load-with-polybase.md
[Monitor your workload using DMVs]: ./sql-data-warehouse-manage-monitor.md
[Pause compute resources]: ./sql-data-warehouse-manage-compute-overview.md#pause-compute-bk
[Resume compute resources]: ./sql-data-warehouse-manage-compute-overview.md#resume-compute-bk
<span data-ttu-id="87e9d-257">[Dimensionar os recursos de computação]: ./sql-data-warehouse-manage-compute-overview.md#scale-compute</span><span class="sxs-lookup"><span data-stu-id="87e9d-257">[Scale compute resources]: ./sql-data-warehouse-manage-compute-overview.md#scale-compute</span></span>
[Understanding transactions]: ./sql-data-warehouse-develop-transactions.md
[Optimizing transactions]: ./sql-data-warehouse-develop-best-practices-transactions.md
[Troubleshooting]: ./sql-data-warehouse-troubleshoot.md
[LABEL]: ./sql-data-warehouse-develop-label.md

<!--MSDN references-->
[ALTER TABLE]: https://msdn.microsoft.com/library/ms190273.aspx
[CREATE EXTERNAL FILE FORMAT]: https://msdn.microsoft.com/library/dn935026.aspx
[CREATE STATISTICS]: https://msdn.microsoft.com/library/ms188038.aspx
[CREATE TABLE]: https://msdn.microsoft.com/library/mt203953.aspx
[CREATE TABLE AS SELECT]: https://msdn.microsoft.com/library/mt204041.aspx
[DBCC PDW_SHOWEXECUTIONPLAN]: https://msdn.microsoft.com/library/mt204017.aspx
[INSERT]: https://msdn.microsoft.com/library/ms174335.aspx
[OPTION]: https://msdn.microsoft.com/library/ms190322.aspx
[TRUNCATE TABLE]: https://msdn.microsoft.com/library/ms177570.aspx
[UPDATE STATISTICS]: https://msdn.microsoft.com/library/ms187348.aspx
[sys.dm_exec_sessions]: https://msdn.microsoft.com/library/ms176013.aspx
[sys.dm_pdw_exec_requests]: https://msdn.microsoft.com/library/mt203887.aspx
[sys.dm_pdw_request_steps]: https://msdn.microsoft.com/library/mt203913.aspx
[sys.dm_pdw_sql_requests]: https://msdn.microsoft.com/library/mt203889.aspx
<span data-ttu-id="87e9d-258">[sys.dm_pdw_dms_workers]: https://msdn.microsoft.com/library/mt203878.aspx</span><span class="sxs-lookup"><span data-stu-id="87e9d-258">[sys.dm_pdw_dms_workers]: https://msdn.microsoft.com/library/mt203878.aspx</span></span>
[sys.dm_pdw_waits]: https://msdn.microsoft.com/library/mt203893.aspx
[Columnstore indexes guide]: https://msdn.microsoft.com/library/gg492088.aspx

<!--Other Web references-->
[Selecting table distribution]: https://blogs.msdn.microsoft.com/sqlcat/2015/08/11/choosing-hash-distributed-table-vs-round-robin-distributed-table-in-azure-sql-dw-service/
[Azure SQL Data Warehouse Feedback]: https://feedback.azure.com/forums/307516-sql-data-warehouse
[Azure SQL Data Warehouse MSDN Forum]: https://social.msdn.microsoft.com/Forums/sqlserver/home?forum=AzureSQLDataWarehouse
[Azure SQL Data Warehouse Stack Overflow Forum]:  http://stackoverflow.com/questions/tagged/azure-sqldw
[Azure SQL Data Warehouse loading patterns and strategies]: https://blogs.msdn.microsoft.com/sqlcat/2016/02/06/azure-sql-data-warehouse-loading-patterns-and-strategies
