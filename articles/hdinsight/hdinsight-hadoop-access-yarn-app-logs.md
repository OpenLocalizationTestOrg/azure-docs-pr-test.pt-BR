---
title: aaaAccess aplicativo Hadoop YARN programaticamente - logs do Azure | Microsoft Docs
description: Acessar logs do aplicativo programaticamente em um cluster de Hadoop no HDInsight.
services: hdinsight
documentationcenter: 
tags: azure-portal
author: mumian
manager: jhubbard
editor: cgronlun
ms.assetid: 0198d6c9-7767-4682-bd34-42838cf48fc5
ms.service: hdinsight
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/25/2017
ms.author: jgao
ROBOTS: NOINDEX
ms.openlocfilehash: 064efee1ea6a864c29ab897692ead0152c926c0b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="access-yarn-application-logs-on-windows-based-hdinsight"></a><span data-ttu-id="319d8-103">Acessar logs de aplicativo YARN no HDInsight baseado em Windows</span><span class="sxs-lookup"><span data-stu-id="319d8-103">Access YARN application logs on Windows-based HDInsight</span></span>
<span data-ttu-id="319d8-104">Este tópico explica como tooaccess Olá logs de aplicativos do YARN (ainda outro recurso Negociador) que terminar em um cluster de Hadoop baseado em Windows no Azure HDInsight</span><span class="sxs-lookup"><span data-stu-id="319d8-104">This topic explains how tooaccess hello logs for YARN (Yet Another Resource Negotiator) applications that have finished on a Windows-based Hadoop cluster in Azure HDInsight</span></span>

> [!IMPORTANT]
> <span data-ttu-id="319d8-105">informações de Olá neste documento aplicam-se apenas com base em tooWindows clusters de HDInsight.</span><span class="sxs-lookup"><span data-stu-id="319d8-105">hello information in this document applies only tooWindows-based HDInsight clusters.</span></span> <span data-ttu-id="319d8-106">Linux é Olá sistema operacional somente de usado no HDInsight versão 3.4 ou posterior.</span><span class="sxs-lookup"><span data-stu-id="319d8-106">Linux is hello only operating system used on HDInsight version 3.4 or greater.</span></span> <span data-ttu-id="319d8-107">Para obter mais informações, confira [baixa do HDInsight no Windows](hdinsight-component-versioning.md#hdinsight-windows-retirement).</span><span class="sxs-lookup"><span data-stu-id="319d8-107">For more information, see [HDInsight retirement on Windows](hdinsight-component-versioning.md#hdinsight-windows-retirement).</span></span> <span data-ttu-id="319d8-108">Para obter informações sobre os logs de YARN nos clusters HDInsight baseados em Linux, consulte [Acessar logs do aplicativo YARN no Hadoop baseado em Linux no HDInsight](hdinsight-hadoop-access-yarn-app-logs-linux.md)</span><span class="sxs-lookup"><span data-stu-id="319d8-108">For information on accessing YARN logs on Linux-based HDInsight clusters, see [Access YARN application logs on Linux-based Hadoop on HDInsight](hdinsight-hadoop-access-yarn-app-logs-linux.md)</span></span>
>


### <a name="prerequisites"></a><span data-ttu-id="319d8-109">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="319d8-109">Prerequisites</span></span>
* <span data-ttu-id="319d8-110">Um cluster HDInsight baseado no Windows.</span><span class="sxs-lookup"><span data-stu-id="319d8-110">A Windows-based HDInsight cluster.</span></span>  <span data-ttu-id="319d8-111">Confira [Crie clusters Hadoop baseados no Windows no HDInsight](hdinsight-hadoop-provision-linux-clusters.md).</span><span class="sxs-lookup"><span data-stu-id="319d8-111">See [Create Windows-based Hadoop clusters in HDInsight](hdinsight-hadoop-provision-linux-clusters.md).</span></span>

## <a name="yarn-timeline-server"></a><span data-ttu-id="319d8-112">Servidor de linha do tempo do YARN</span><span class="sxs-lookup"><span data-stu-id="319d8-112">YARN Timeline Server</span></span>
<span data-ttu-id="319d8-113">Olá <a href="http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html" target="_blank">YARN linha do tempo de servidor</a> fornece informações genéricas sobre aplicativos concluídos, bem como informações específicas do framework aplicativo por meio de duas interfaces diferentes.</span><span class="sxs-lookup"><span data-stu-id="319d8-113">hello <a href="http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html" target="_blank">YARN Timeline Server</a> provides generic information on completed applications as well as framework-specific application information through two different interfaces.</span></span> <span data-ttu-id="319d8-114">Especificamente:</span><span class="sxs-lookup"><span data-stu-id="319d8-114">Specifically:</span></span>

* <span data-ttu-id="319d8-115">O armazenamento e a recuperação de informações do aplicativo genérico em clusters HDInsight estão habilitados na versão 3.1.1.374 ou superior.</span><span class="sxs-lookup"><span data-stu-id="319d8-115">Storage and retrieval of generic application information on HDInsight clusters has been enabled with version 3.1.1.374 or higher.</span></span>
* <span data-ttu-id="319d8-116">componente de informações de aplicativo específica da estrutura Olá de saudação da linha do tempo de servidor não está disponível atualmente em clusters de HDInsight.</span><span class="sxs-lookup"><span data-stu-id="319d8-116">hello framework-specific application information component of hello Timeline Server is not currently available on HDInsight clusters.</span></span>

<span data-ttu-id="319d8-117">Informações genéricas em aplicativos incluem Olá tipos de dados a seguir:</span><span class="sxs-lookup"><span data-stu-id="319d8-117">Generic information on applications includes hello following sorts of data:</span></span>

* <span data-ttu-id="319d8-118">ID do aplicativo Hello, um identificador exclusivo de um aplicativo</span><span class="sxs-lookup"><span data-stu-id="319d8-118">hello application ID, a unique identifier of an application</span></span>
* <span data-ttu-id="319d8-119">usuário de saudação que iniciou o aplicativo hello</span><span class="sxs-lookup"><span data-stu-id="319d8-119">hello user who started hello application</span></span>
* <span data-ttu-id="319d8-120">Obter informações sobre tentativas feitas aplicativo hello de toocomplete</span><span class="sxs-lookup"><span data-stu-id="319d8-120">Information on attempts made toocomplete hello application</span></span>
* <span data-ttu-id="319d8-121">contêineres de saudação usados por qualquer tentativa de determinado aplicativo</span><span class="sxs-lookup"><span data-stu-id="319d8-121">hello containers used by any given application attempt</span></span>

<span data-ttu-id="319d8-122">Em seus clusters HDInsight, essas informações serão armazenadas pelo repositório de histórico do Azure Resource Manager tooa no contêiner de padrão de saudação da sua conta de armazenamento do Azure padrão.</span><span class="sxs-lookup"><span data-stu-id="319d8-122">On your HDInsight clusters, this information will be stored by Azure Resource Manager tooa history store in hello default container of your default Azure Storage account.</span></span> <span data-ttu-id="319d8-123">Esses dados genéricos em aplicativos concluídos podem ser recuperados por meio de uma API REST:</span><span class="sxs-lookup"><span data-stu-id="319d8-123">This generic data on completed applications can be retrieved through a REST API:</span></span>

    GET on https://<cluster-dns-name>.azurehdinsight.net/ws/v1/applicationhistory/apps


## <a name="yarn-applications-and-logs"></a><span data-ttu-id="319d8-124">Aplicativos e logs YARN</span><span class="sxs-lookup"><span data-stu-id="319d8-124">YARN applications and logs</span></span>
<span data-ttu-id="319d8-125">O YARN dá suporte a vários modelos de programação (inclusive MapReduce), por separar o gerenciamento de recursos do agendamento/monitoramento de aplicativos.</span><span class="sxs-lookup"><span data-stu-id="319d8-125">YARN supports multiple programming models (MapReduce being one of them) by decoupling resource management from application scheduling/monitoring.</span></span> <span data-ttu-id="319d8-126">Isso é feito por meio de um RM (*Gerenciador de Recursos*) global, NMs (*Gerenciadores de Nós*) por nó de trabalho e AMs (*Mestres de Aplicativos*) por aplicativo.</span><span class="sxs-lookup"><span data-stu-id="319d8-126">This is done through a global *ResourceManager* (RM), per-worker-node *NodeManagers* (NMs), and per-application *ApplicationMasters* (AMs).</span></span> <span data-ttu-id="319d8-127">Olá por aplicativo AM negocia recursos (CPU, memória, disco, rede) para executar seu aplicativo com RM hello.</span><span class="sxs-lookup"><span data-stu-id="319d8-127">hello per-application AM negotiates resources (CPU, memory, disk, network) for running your application with hello RM.</span></span> <span data-ttu-id="319d8-128">Olá RM funciona com NMs toogrant desses recursos, que são concedidos como *contêineres*.</span><span class="sxs-lookup"><span data-stu-id="319d8-128">hello RM works with NMs toogrant these resources, which are granted as *containers*.</span></span> <span data-ttu-id="319d8-129">Olá AM é responsável por controlar o progresso de saudação da saudação tooit de contêineres atribuída pelo RM hello.</span><span class="sxs-lookup"><span data-stu-id="319d8-129">hello AM is responsible for tracking hello progress of hello containers assigned tooit by hello RM.</span></span> <span data-ttu-id="319d8-130">Um aplicativo pode exigir vários contêineres dependendo da natureza de saudação do aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="319d8-130">An application may require many containers depending on hello nature of hello application.</span></span>

<span data-ttu-id="319d8-131">Além disso, cada aplicativo pode consistir em vários *tentativas de aplicativo* em ordem toofinish na presença de saudação de falhas, seja devido à perda de toohello de comunicação entre um AM e um mecanismo de retenção.</span><span class="sxs-lookup"><span data-stu-id="319d8-131">Furthermore, each application may consist of multiple *application attempts* in order toofinish in hello presence of crashes or due toohello loss of communication between an AM and an RM.</span></span> <span data-ttu-id="319d8-132">Portanto, contêineres são concedidos a tentativa de tooa específico de um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="319d8-132">Hence, containers are granted tooa specific attempt of an application.</span></span> <span data-ttu-id="319d8-133">De certa forma, um contêiner fornece o contexto de saudação para a unidade básica de trabalho executado por um aplicativo YARN e todo o trabalho que é executado no contexto de saudação de um contêiner é executado no nó de único trabalhador de saudação em qual Olá contêiner foi alocado.</span><span class="sxs-lookup"><span data-stu-id="319d8-133">In a sense, a container provides hello context for basic unit of work performed by a YARN application, and all work that is done within hello context of a container is performed on hello single worker node on which hello container was allocated.</span></span> <span data-ttu-id="319d8-134">Confira [Conceitos de YARN][YARN-concepts] para referência adicional.</span><span class="sxs-lookup"><span data-stu-id="319d8-134">See [YARN Concepts][YARN-concepts] for further reference.</span></span>

<span data-ttu-id="319d8-135">Logs de aplicativo (e logs de contêiner Olá associada) são essenciais na depuração de aplicativos problemáticos do Hadoop.</span><span class="sxs-lookup"><span data-stu-id="319d8-135">Application logs (and hello associated container logs) are critical in debugging problematic Hadoop applications.</span></span> <span data-ttu-id="319d8-136">YARN fornece uma estrutura adequada para coletar, agregar e armazenar os logs do aplicativo com hello [Log agregação] [ log-aggregation] recurso.</span><span class="sxs-lookup"><span data-stu-id="319d8-136">YARN provides a nice framework for collecting, aggregating, and storing application logs with hello [Log Aggregation][log-aggregation] feature.</span></span> <span data-ttu-id="319d8-137">recurso de agregação de Log Olá torna acessar logs de aplicativo mais determinista, ele agrega logs em todos os contêineres em um nó de trabalho e as armazena como um agregado arquivo de log por nó de trabalho no sistema de arquivos padrão Olá após a conclusão de um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="319d8-137">hello Log Aggregation feature makes accessing application logs more deterministic, as it aggregates logs across all containers on a worker node and stores them as one aggregated log file per worker node on hello default file system after an application finishes.</span></span> <span data-ttu-id="319d8-138">Seu aplicativo pode usar centenas ou milhares de contêineres, mas os logs para todos os contêineres são executados em um nó único trabalho sempre será tooa agregado de arquivo único, resultando em um arquivo de log por nó de trabalho usado pelo seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="319d8-138">Your application may use hundreds or thousands of containers, but logs for all containers run on a single worker node will always be aggregated tooa single file, resulting in one log file per worker node used by your application.</span></span> <span data-ttu-id="319d8-139">Agregação de log é habilitada por padrão em clusters de HDInsight (versão 3.0 e posterior), e agregados de logs podem ser encontrados no contêiner de padrão de saudação do cluster em Olá local a seguir:</span><span class="sxs-lookup"><span data-stu-id="319d8-139">Log Aggregation is enabled by default on HDInsight clusters (version 3.0 and above), and aggregated logs can be found in hello default container of your cluster at hello following location:</span></span>

    wasb:///app-logs/<user>/logs/<applicationId>

<span data-ttu-id="319d8-140">Nesse local, *usuário* é Olá nome de usuário de saudação que iniciou o aplicativo hello, e *applicationId* é o identificador exclusivo de saudação de um aplicativo conforme atribuído pelo RM. YARN de saudação</span><span class="sxs-lookup"><span data-stu-id="319d8-140">In that location, *user* is hello name of hello user who started hello application, and *applicationId* is hello unique identifier of an application as assigned by hello YARN RM.</span></span>

<span data-ttu-id="319d8-141">Olá agregados logs não são diretamente legíveis, como eles são gravados um [TFile][T-file], [formato binário] [ binary-format] indexado pelo contêiner.</span><span class="sxs-lookup"><span data-stu-id="319d8-141">hello aggregated logs are not directly readable, as they are written in a [TFile][T-file], [binary format][binary-format] indexed by container.</span></span> <span data-ttu-id="319d8-142">YARN fornece CLI ferramentas toodump esses logs como texto sem formatação para aplicativos ou contêineres de interesse.</span><span class="sxs-lookup"><span data-stu-id="319d8-142">YARN provides CLI tools toodump these logs as plain text for applications or containers of interest.</span></span> <span data-ttu-id="319d8-143">Você pode exibir esses logs como texto sem formatação, executando uma saudação comandos YARN a seguir diretamente em nós de cluster de saudação (depois de se conectar tooit via RDP):</span><span class="sxs-lookup"><span data-stu-id="319d8-143">You can view these logs as plain text by running one of hello following YARN commands directly on hello cluster nodes (after connecting tooit through RDP):</span></span>

    yarn logs -applicationId <applicationId> -appOwner <user-who-started-the-application>
    yarn logs -applicationId <applicationId> -appOwner <user-who-started-the-application> -containerId <containerId> -nodeAddress <worker-node-address>


## <a name="yarn-resourcemanager-ui"></a><span data-ttu-id="319d8-144">IU do ResourceManager YARN</span><span class="sxs-lookup"><span data-stu-id="319d8-144">YARN ResourceManager UI</span></span>
<span data-ttu-id="319d8-145">Olá YARN ResourceManager UI é executado no nó principal do cluster hello e pode ser acessado por meio de saudação do painel portal do Azure:</span><span class="sxs-lookup"><span data-stu-id="319d8-145">hello YARN ResourceManager UI runs on hello cluster headnode, and can be accessed through hello Azure portal dashboard:</span></span>

1. <span data-ttu-id="319d8-146">Entrar muito[portal do Azure](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="319d8-146">Sign in too[Azure portal](https://portal.azure.com/).</span></span>
2. <span data-ttu-id="319d8-147">No menu à esquerda do hello, clique em **procurar**, clique em **Clusters HDInsight**, clique em um cluster baseado no Windows que você deseja tooaccess Olá YARN logs de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="319d8-147">On hello left menu, click **Browse**, click **HDInsight Clusters**, click a Windows-based cluster that you want tooaccess hello YARN application logs.</span></span>
3. <span data-ttu-id="319d8-148">Clique no menu superior Olá **painel**.</span><span class="sxs-lookup"><span data-stu-id="319d8-148">On hello top menu, click **Dashboard**.</span></span> <span data-ttu-id="319d8-149">Você verá uma página aberta em uma nova guia do navegador chamada **Console de Consulta do HDInsight**.</span><span class="sxs-lookup"><span data-stu-id="319d8-149">You will see a page opened on a new browser tab called **HDInsight Query Console**.</span></span>
4. <span data-ttu-id="319d8-150">Em **Console de Consulta do HDInsight**, clique em **Interface do Usuário do YARN**.</span><span class="sxs-lookup"><span data-stu-id="319d8-150">From **HDInsight Query Console**, click **Yarn UI**.</span></span>

[YARN-timeline-server]:http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html
[log-aggregation]:http://hortonworks.com/blog/simplifying-user-logs-management-and-access-in-yarn/
[T-file]:https://issues.apache.org/jira/secure/attachment/12396286/TFile%20Specification%2020081217.pdf
[binary-format]:https://issues.apache.org/jira/browse/HADOOP-3315
[YARN-concepts]:http://hortonworks.com/blog/apache-hadoop-yarn-concepts-and-applications/
