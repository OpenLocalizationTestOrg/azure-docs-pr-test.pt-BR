---
title: "Opções de contexto aaaCompute para o servidor do R no HDInsight - Azure | Microsoft Docs"
description: "Saiba mais sobre opções Olá computação diferentes contexto disponível toousers ao servidor do R no HDInsight"
services: HDInsight
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: 0deb0b1c-4094-459b-94fc-ec9b774c1f8a
ms.service: HDInsight
ms.custom: hdinsightactive
ms.devlang: R
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-services
ms.date: 06/19/2017
ms.author: bradsev
ms.openlocfilehash: b3b0d0cc3caa390797dcff8c73d66cd3ad78bcaa
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="compute-context-options-for-r-server-on-hdinsight"></a><span data-ttu-id="e054d-103">Opções de contexto de computação para o Servidor R no HDInsight</span><span class="sxs-lookup"><span data-stu-id="e054d-103">Compute context options for R Server on HDInsight</span></span>

<span data-ttu-id="e054d-104">Microsoft R Server no Azure HDInsight controla como as chamadas são executadas pelo contexto de computação Olá configuração.</span><span class="sxs-lookup"><span data-stu-id="e054d-104">Microsoft R Server on Azure HDInsight controls how calls are executed by setting hello compute context.</span></span> <span data-ttu-id="e054d-105">Este artigo descreve Olá opções toospecify disponível se e como a execução é paralelizada entre núcleos do nó de borda de saudação ou o cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="e054d-105">This article outlines hello options that are available toospecify whether and how execution is parallelized across cores of hello edge node or HDInsight cluster.</span></span>

<span data-ttu-id="e054d-106">nó de borda de saudação de um cluster fornece um local conveniente tooconnect toohello cluster e toorun seus scripts de R.</span><span class="sxs-lookup"><span data-stu-id="e054d-106">hello edge node of a cluster provides a convenient place tooconnect toohello cluster and toorun your R scripts.</span></span> <span data-ttu-id="e054d-107">Com um nó de borda, você deve ter funções de opção de execução hello paralelizado distribuída Olá de ScaleR entre núcleos de saudação do servidor de nó de borda hello.</span><span class="sxs-lookup"><span data-stu-id="e054d-107">With an edge node, you have hello option of running hello parallelized distributed functions of ScaleR across hello cores of hello edge node server.</span></span> <span data-ttu-id="e054d-108">Você também pode executá-los em nós de saudação do cluster Olá por meio do ScaleR Hadoop mapear redução ou Spark contextos de computação.</span><span class="sxs-lookup"><span data-stu-id="e054d-108">You can also run them across hello nodes of hello cluster by using ScaleR’s Hadoop Map Reduce or Spark compute contexts.</span></span>

## <a name="microsoft-r-server-on-azure-hdinsight"></a><span data-ttu-id="e054d-109">Microsoft R Server no Azure HDInsight</span><span class="sxs-lookup"><span data-stu-id="e054d-109">Microsoft R Server on Azure HDInsight</span></span>
<span data-ttu-id="e054d-110">[Microsoft R Server no Azure HDInsight](hdinsight-hadoop-r-server-overview.md) fornece recursos mais recentes Olá para análise de R.</span><span class="sxs-lookup"><span data-stu-id="e054d-110">[Microsoft R Server on Azure HDInsight](hdinsight-hadoop-r-server-overview.md) provides hello latest capabilities for R-based analytics.</span></span> <span data-ttu-id="e054d-111">Ele pode usar dados armazenados em um contêiner HDFS no seu [BLOBs do Azure](../storage/common/storage-introduction.md "armazenamento de BLOBs do Azure") conta de armazenamento, um repositório Data Lake ou sistema de arquivos Linux local hello.</span><span class="sxs-lookup"><span data-stu-id="e054d-111">It can use data that is stored in an HDFS container in your [Azure Blob](../storage/common/storage-introduction.md "Azure Blob storage") storage account, a Data Lake store, or hello local Linux file system.</span></span> <span data-ttu-id="e054d-112">Desde o R Server se baseia no R de software livre, Olá R aplicativos que você criar podem aplicar Olá 8000 + pacotes de software livre R.</span><span class="sxs-lookup"><span data-stu-id="e054d-112">Since R Server is built on open source R, hello R-based applications you build can apply any of hello 8000+ open source R packages.</span></span> <span data-ttu-id="e054d-113">Eles também podem usar rotinas de saudação em [RevoScaleR](https://msdn.microsoft.com/microsoft-r/scaler/scaler), pacote de análise de dados grande da Microsoft que acompanha o R Server.</span><span class="sxs-lookup"><span data-stu-id="e054d-113">They can also use hello routines in [RevoScaleR](https://msdn.microsoft.com/microsoft-r/scaler/scaler), Microsoft’s big data analytics package that is included with R Server.</span></span>  

## <a name="compute-contexts-for-an-edge-node"></a><span data-ttu-id="e054d-114">Contextos de computação para um nó de extremidade</span><span class="sxs-lookup"><span data-stu-id="e054d-114">Compute contexts for an edge node</span></span>
<span data-ttu-id="e054d-115">Em geral, um script R que é executado no servidor do R no nó de borda Olá é executado em interpretador Olá R nesse nó.</span><span class="sxs-lookup"><span data-stu-id="e054d-115">In general, an R script that's run in R Server on hello edge node runs within hello R interpreter on that node.</span></span> <span data-ttu-id="e054d-116">exceções de saudação são as etapas que chame uma função ScaleR.</span><span class="sxs-lookup"><span data-stu-id="e054d-116">hello exceptions are those steps that call a ScaleR function.</span></span> <span data-ttu-id="e054d-117">Olá ScaleR chamadas executados em um ambiente de computação que é determinado por como você definir o contexto de computação ScaleR hello.</span><span class="sxs-lookup"><span data-stu-id="e054d-117">hello ScaleR calls run in a compute environment that is determined by how you set hello ScaleR compute context.</span></span>  <span data-ttu-id="e054d-118">Quando você executa o script R de um nó de borda, os valores possíveis de Olá Olá computação contexto são:</span><span class="sxs-lookup"><span data-stu-id="e054d-118">When you run your R script from an edge node, hello possible values of hello compute context are:</span></span>

- <span data-ttu-id="e054d-119">local sequencial (*‘local’*)</span><span class="sxs-lookup"><span data-stu-id="e054d-119">local sequential (*‘local’*)</span></span>
- <span data-ttu-id="e054d-120">local paralelo (*‘localpar’*)</span><span class="sxs-lookup"><span data-stu-id="e054d-120">local parallel (*‘localpar’*)</span></span>
- <span data-ttu-id="e054d-121">Map Reduce</span><span class="sxs-lookup"><span data-stu-id="e054d-121">Map Reduce</span></span>
- <span data-ttu-id="e054d-122">Spark</span><span class="sxs-lookup"><span data-stu-id="e054d-122">Spark</span></span>

<span data-ttu-id="e054d-123">Olá *'local'* e *'localpar'* opções diferem apenas em como **rxExec** chamadas são executadas.</span><span class="sxs-lookup"><span data-stu-id="e054d-123">hello *‘local’* and *‘localpar’* options differ only in how **rxExec** calls are executed.</span></span> <span data-ttu-id="e054d-124">Ambos executar o outras chamadas de função rx de forma paralela entre núcleos disponíveis, a menos que especificado o contrário pelo uso da saudação ScaleR **numCoresToUse** opção, por exemplo `rxOptions(numCoresToUse=6)`.</span><span class="sxs-lookup"><span data-stu-id="e054d-124">They both execute other rx-function calls in a parallel manner across all available cores unless specified otherwise through use of hello ScaleR **numCoresToUse** option, for example `rxOptions(numCoresToUse=6)`.</span></span> <span data-ttu-id="e054d-125">Opções de execução paralela oferecem um desempenho ideal.</span><span class="sxs-lookup"><span data-stu-id="e054d-125">Parallel execution options offer optimal performance.</span></span>

<span data-ttu-id="e054d-126">Olá, a tabela a seguir resume Olá que vários computação tooset de opções de contexto, como as chamadas são executadas:</span><span class="sxs-lookup"><span data-stu-id="e054d-126">hello following table summarizes hello various compute context options tooset how calls are executed:</span></span>

| <span data-ttu-id="e054d-127">Contexto de computação</span><span class="sxs-lookup"><span data-stu-id="e054d-127">Compute context</span></span>  | <span data-ttu-id="e054d-128">Como tooset</span><span class="sxs-lookup"><span data-stu-id="e054d-128">How tooset</span></span>                      | <span data-ttu-id="e054d-129">Contexto de execução</span><span class="sxs-lookup"><span data-stu-id="e054d-129">Execution context</span></span>                        |
| ---------------- | ------------------------------- | ---------------------------------------- |
| <span data-ttu-id="e054d-130">Local sequencial</span><span class="sxs-lookup"><span data-stu-id="e054d-130">Local sequential</span></span> | <span data-ttu-id="e054d-131">rxSetComputeContext(‘local’)</span><span class="sxs-lookup"><span data-stu-id="e054d-131">rxSetComputeContext(‘local’)</span></span>    | <span data-ttu-id="e054d-132">Execução em paralelo entre núcleos de saudação do servidor de nó de borda hello, exceto para chamadas de rxExec, que são executados em série</span><span class="sxs-lookup"><span data-stu-id="e054d-132">Parallelized execution across hello cores of hello edge node server, except for rxExec calls, which are executed serially</span></span> |
| <span data-ttu-id="e054d-133">Local paralelo</span><span class="sxs-lookup"><span data-stu-id="e054d-133">Local parallel</span></span>   | <span data-ttu-id="e054d-134">rxSetComputeContext(‘localpar’)</span><span class="sxs-lookup"><span data-stu-id="e054d-134">rxSetComputeContext(‘localpar’)</span></span> | <span data-ttu-id="e054d-135">Execução em paralelo entre núcleos de saudação do servidor de nó de borda Olá</span><span class="sxs-lookup"><span data-stu-id="e054d-135">Parallelized execution across hello cores of hello edge node server</span></span> |
| <span data-ttu-id="e054d-136">Spark</span><span class="sxs-lookup"><span data-stu-id="e054d-136">Spark</span></span>            | <span data-ttu-id="e054d-137">RxSpark()</span><span class="sxs-lookup"><span data-stu-id="e054d-137">RxSpark()</span></span>                       | <span data-ttu-id="e054d-138">Execução distribuída em paralelo por meio do Spark em nós de saudação do cluster HDI Olá</span><span class="sxs-lookup"><span data-stu-id="e054d-138">Parallelized distributed execution via Spark across hello nodes of hello HDI cluster</span></span> |
| <span data-ttu-id="e054d-139">Map Reduce</span><span class="sxs-lookup"><span data-stu-id="e054d-139">Map Reduce</span></span>       | <span data-ttu-id="e054d-140">RxHadoopMR()</span><span class="sxs-lookup"><span data-stu-id="e054d-140">RxHadoopMR()</span></span>                    | <span data-ttu-id="e054d-141">Execução distribuída em paralelo por meio de mapear redução em nós de saudação do cluster HDI Olá</span><span class="sxs-lookup"><span data-stu-id="e054d-141">Parallelized distributed execution via Map Reduce across hello nodes of hello HDI cluster</span></span> |

## <a name="guidelines-for-deciding-on-a-compute-context"></a><span data-ttu-id="e054d-142">Diretrizes para decidir em um contexto de computação</span><span class="sxs-lookup"><span data-stu-id="e054d-142">Guidelines for deciding on a compute context</span></span>

<span data-ttu-id="e054d-143">Olá três opções você escolher que fornecem a execução em paralelo dependendo da natureza de saudação do seu trabalho de análise, o tamanho de saudação e o local de saudação de seus dados.</span><span class="sxs-lookup"><span data-stu-id="e054d-143">Which of hello three options you choose that provide parallelized execution depends on hello nature of your analytics work, hello size, and hello location of your data.</span></span> <span data-ttu-id="e054d-144">Não há nenhuma fórmula simple que informa quais toouse do contexto de computação.</span><span class="sxs-lookup"><span data-stu-id="e054d-144">There is no simple formula that tells you which compute context toouse.</span></span> <span data-ttu-id="e054d-145">No entanto, há alguns princípios que podem ajudá-lo a fazer a escolha certa hello, ou, pelo menos, ajudá-lo a restringir suas escolhas antes de executar um parâmetro de comparação.</span><span class="sxs-lookup"><span data-stu-id="e054d-145">There are, however, some guiding principles that can help you make hello right choice, or, at least, help you narrow down your choices before you run a benchmark.</span></span> <span data-ttu-id="e054d-146">Esses princípios básicos incluem:</span><span class="sxs-lookup"><span data-stu-id="e054d-146">These guiding principles include:</span></span>

- <span data-ttu-id="e054d-147">sistema de arquivos Linux local Olá é mais rápido do que o HDFS.</span><span class="sxs-lookup"><span data-stu-id="e054d-147">hello local Linux file system is faster than HDFS.</span></span>
- <span data-ttu-id="e054d-148">Análises repetidas são mais rápidas se dados saudação for locais, e se ele está em XDF.</span><span class="sxs-lookup"><span data-stu-id="e054d-148">Repeated analyses are faster if hello data is local, and if it's in XDF.</span></span>
- <span data-ttu-id="e054d-149">É preferível toostream pequenas quantidades de dados de uma fonte de dados de texto.</span><span class="sxs-lookup"><span data-stu-id="e054d-149">It's preferable toostream small amounts of data from a text data source.</span></span> <span data-ttu-id="e054d-150">Se a quantidade de saudação de dados for maior, converta tooXDF antes da análise.</span><span class="sxs-lookup"><span data-stu-id="e054d-150">If hello amount of data is larger, convert it tooXDF before analysis.</span></span>
- <span data-ttu-id="e054d-151">sobrecarga de saudação de cópia ou nó de borda de toohello Olá dados para análise de streaming se torna impossível para grandes quantidades de dados.</span><span class="sxs-lookup"><span data-stu-id="e054d-151">hello overhead of copying or streaming hello data toohello edge node for analysis becomes unmanageable for very large amounts of data.</span></span>
- <span data-ttu-id="e054d-152">Spark é mais rápido do que Map Reduce para análise no Hadoop.</span><span class="sxs-lookup"><span data-stu-id="e054d-152">Spark is faster than Map Reduce for analysis in Hadoop.</span></span>

<span data-ttu-id="e054d-153">Devido a esses princípios, hello seções a seguir oferecem alguns princípios gerais para selecionar um contexto de computação.</span><span class="sxs-lookup"><span data-stu-id="e054d-153">Given these principles, hello following sections offer some general rules of thumb for selecting a compute context.</span></span>

### <a name="local"></a><span data-ttu-id="e054d-154">Local</span><span class="sxs-lookup"><span data-stu-id="e054d-154">Local</span></span>
* <span data-ttu-id="e054d-155">Se a quantidade de saudação do tooanalyze de dados é pequena e não requer análise repetida, fluxo-lo diretamente no hello análise rotina usando *'local'* ou *'localpar'*.</span><span class="sxs-lookup"><span data-stu-id="e054d-155">If hello amount of data tooanalyze is small and does not require repeated analysis, then stream it directly into hello analysis routine using *'local'* or *'localpar'*.</span></span>
* <span data-ttu-id="e054d-156">Se a quantidade de saudação do tooanalyze de dados é pequeno ou médio porte e requer análises repetidas, em seguida, copie-o sistema de arquivos local toohello, importá-lo tooXDF e analisá-los por meio de *'local'* ou *'localpar'*.</span><span class="sxs-lookup"><span data-stu-id="e054d-156">If hello amount of data tooanalyze is small or medium-sized and requires repeated analysis, then copy it toohello local file system, import it tooXDF, and analyze it via *'local'* or *'localpar'*.</span></span>

### <a name="hadoop-spark"></a><span data-ttu-id="e054d-157">Hadoop Spark</span><span class="sxs-lookup"><span data-stu-id="e054d-157">Hadoop Spark</span></span>
* <span data-ttu-id="e054d-158">Se a quantidade de saudação do tooanalyze de dados for grande, em seguida, importá-lo tooa DataFrame Spark usando **RxHiveData** ou **RxParquetData**, ou tooXDF no HDFS (a menos que o armazenamento é um problema) e analisá-los usando Olá Spark contexto de computação.</span><span class="sxs-lookup"><span data-stu-id="e054d-158">If hello amount of data tooanalyze is large, then import it tooa Spark DataFrame using **RxHiveData** or **RxParquetData**, or tooXDF in HDFS (unless storage is an issue), and analyze it using hello Spark compute context.</span></span>

### <a name="hadoop-map-reduce"></a><span data-ttu-id="e054d-159">Hadoop Map Reduce</span><span class="sxs-lookup"><span data-stu-id="e054d-159">Hadoop Map Reduce</span></span>
* <span data-ttu-id="e054d-160">Use o contexto de computação de mapear redução Olá somente se você encontrar um problema insuperáveis com contexto de computação Spark Olá pois ela é geralmente mais lenta.</span><span class="sxs-lookup"><span data-stu-id="e054d-160">Use hello Map Reduce compute context only if you encounter an insurmountable problem with hello Spark compute context since it is generally slower.</span></span>  

## <a name="inline-help-on-rxsetcomputecontext"></a><span data-ttu-id="e054d-161">Ajuda embutida em rxSetComputeContext</span><span class="sxs-lookup"><span data-stu-id="e054d-161">Inline help on rxSetComputeContext</span></span>
<span data-ttu-id="e054d-162">Para obter mais informações e exemplos de ScaleR contextos de computação, consulte Olá embutido Ajuda em R no método de rxSetComputeContext hello, por exemplo:</span><span class="sxs-lookup"><span data-stu-id="e054d-162">For more information and examples of ScaleR compute contexts, see hello inline help in R on hello rxSetComputeContext method, for example:</span></span>

    > ?rxSetComputeContext

<span data-ttu-id="e054d-163">Você também pode consultar toohello "[ScaleR Distributed Computing guia](https://msdn.microsoft.com/microsoft-r/scaler-distributed-computing)" que está disponível na Olá [R Server MSDN](https://msdn.microsoft.com/library/mt674634.aspx "R Server no MSDN") biblioteca.</span><span class="sxs-lookup"><span data-stu-id="e054d-163">You can also refer toohello “[ScaleR Distributed Computing Guide](https://msdn.microsoft.com/microsoft-r/scaler-distributed-computing)” that's available from hello [R Server MSDN](https://msdn.microsoft.com/library/mt674634.aspx "R Server on MSDN") library.</span></span>

## <a name="next-steps"></a><span data-ttu-id="e054d-164">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="e054d-164">Next steps</span></span>
<span data-ttu-id="e054d-165">Neste artigo, você aprendeu sobre opções de saudação toospecify disponível se e como a execução é paralelizada entre núcleos do nó de borda de saudação ou o cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="e054d-165">In this article, you learned about hello options that are available toospecify whether and how execution is parallelized across cores of hello edge node or HDInsight cluster.</span></span> <span data-ttu-id="e054d-166">toolearn mais informações sobre como toouse R Server com HDInsight clusters, consulte Olá seguintes tópicos:</span><span class="sxs-lookup"><span data-stu-id="e054d-166">toolearn more about how toouse R Server with HDInsight clusters, see hello following topics:</span></span>

* [<span data-ttu-id="e054d-167">Visão geral do Servidor R no Hadoop</span><span class="sxs-lookup"><span data-stu-id="e054d-167">Overview of R Server for Hadoop</span></span>](hdinsight-hadoop-r-server-overview.md)
* [<span data-ttu-id="e054d-168">Introdução ao Servidor R para o Hadoop</span><span class="sxs-lookup"><span data-stu-id="e054d-168">Get started with R Server for Hadoop</span></span>](hdinsight-hadoop-r-server-get-started.md)
* [<span data-ttu-id="e054d-169">Adicionar servidor RStudio tooHDInsight (se não adicionado durante a criação do cluster)</span><span class="sxs-lookup"><span data-stu-id="e054d-169">Add RStudio Server tooHDInsight (if not added during cluster creation)</span></span>](hdinsight-hadoop-r-server-install-r-studio.md)
* [<span data-ttu-id="e054d-170">Opções de Armazenamento do Azure para o Servidor R no HDInsight</span><span class="sxs-lookup"><span data-stu-id="e054d-170">Azure Storage options for R Server on HDInsight</span></span>](hdinsight-hadoop-r-server-storage.md)

