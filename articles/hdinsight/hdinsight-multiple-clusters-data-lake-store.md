---
title: "aaaUse HDInsight vários clusters com uma conta do repositório Azure Data Lake - Azure | Microsoft Docs"
description: "Saiba como toouse mais de um HDInsight cluster com uma única conta do repositório Data Lake"
keywords: "armazenamento hdinsight, hdfs, dados estruturados, dados não estruturados, data lake store"
services: hdinsight,storage
documentationcenter: 
tags: azure-portal
author: nitinme
manager: jhubbard
editor: cgronlun
ms.service: hdinsight
ms.custom: hdinsightactive
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/02/2017
ms.author: nitinme
ms.openlocfilehash: 3a125b91fcc1e436270a1bd349f7a2d8f27e06fb
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="use-multiple-hdinsight-clusters-with-an-azure-data-lake-store-account"></a><span data-ttu-id="1eecf-104">Usar múltiplos clusters HDInsight com uma conta do Azure Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="1eecf-104">Use multiple HDInsight clusters with an Azure Data Lake Store account</span></span>

<span data-ttu-id="1eecf-105">A partir da versão 3.5 do HDInsight, você pode criar clusters de HDInsight com contas do repositório Azure Data Lake como sistema de arquivos saudação padrão.</span><span class="sxs-lookup"><span data-stu-id="1eecf-105">Starting with HDInsight version 3.5, you can create HDInsight clusters with  Azure Data Lake Store accounts as hello default filesystem.</span></span>
<span data-ttu-id="1eecf-106">O Data Lake Store dá suporte a armazenamento ilimitado, o que o torna ideal não apenas para hospedagem de grandes quantidades de dados, mas também para hospedar vários clusters HDInsight que compartilham uma única conta do Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="1eecf-106">Data Lake Store supports unlimited storage that makes it ideal not only for hosting large amounts of data; but also for hosting multiple HDInsight clusters that share a single Data Lake Store Account.</span></span> <span data-ttu-id="1eecf-107">Para instructionson como toocreate uma HDInsight cluster com repositório Data Lake como armazenamento hello, consulte [HDInsight criar clusters com repositório Data Lake](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span><span class="sxs-lookup"><span data-stu-id="1eecf-107">For instructionson how toocreate an HDInsight cluster with Data Lake Store as hello storage, see [Create HDInsight clusters with Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span></span>

<span data-ttu-id="1eecf-108">Este artigo fornece ao administrador de armazenamento em Data Lake recomendações toohello para configurar uma única e compartilhada Data Lake armazenar conta que pode ser usado em vários **active** clusters HDInsight.</span><span class="sxs-lookup"><span data-stu-id="1eecf-108">This article provides recommendations toohello Data Lake store administrator for setting up a single and shared Data Lake Store Account that can be used across multiple **active** HDInsight clusters.</span></span> <span data-ttu-id="1eecf-109">Essas recomendações se aplicam a toohosting Hadoop segura, bem como não seguro vários clusters em uma conta do repositório Data Lake compartilhada.</span><span class="sxs-lookup"><span data-stu-id="1eecf-109">These recommendations apply toohosting multiple secure as well as non-secure Hadoop clusters on a shared Data Lake store account.</span></span>


## <a name="data-lake-store-file-and-folder-level-acls"></a><span data-ttu-id="1eecf-110">ACLs no nível de pasta e de arquivo do Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="1eecf-110">Data Lake Store file and folder level ACLs</span></span>

<span data-ttu-id="1eecf-111">Olá restante deste artigo pressupõe que você tenha um bom conhecimento de nível de arquivo e pasta ACLs no repositório Azure Data Lake, que é descrito em detalhes em [controle de acesso no repositório Azure Data Lake](../data-lake-store/data-lake-store-access-control.md).</span><span class="sxs-lookup"><span data-stu-id="1eecf-111">hello rest of this article assumes that you have a good knowledge of file and folder level ACLs in Azure Data Lake Store, which is described in detail at [Access control in Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span></span>

## <a name="data-lake-store-setup-for-multiple-hdinsight-clusters"></a><span data-ttu-id="1eecf-112">Configuração do Data Lake Store para vários clusters HDInsight</span><span class="sxs-lookup"><span data-stu-id="1eecf-112">Data Lake Store setup for multiple HDInsight clusters</span></span>
<span data-ttu-id="1eecf-113">Vamos levar uma hierarquia de pastas de dois níveis recomendações de saudação do tooexplain para usar múltiplos clusters de HDInsight com uma conta do repositório Data Lake.</span><span class="sxs-lookup"><span data-stu-id="1eecf-113">Let us take a two-level folder hierarchy tooexplain hello recommendations for using mutilple HDInsight clusters with a Data Lake Store account.</span></span> <span data-ttu-id="1eecf-114">Considere a possibilidade de ter uma conta do repositório Data Lake com estrutura de pastas de saudação **clusters/Finanças**.</span><span class="sxs-lookup"><span data-stu-id="1eecf-114">Consider you have a Data Lake Store account with hello folder structure **/clusters/finance**.</span></span> <span data-ttu-id="1eecf-115">Com essa estrutura, todos os clusters Olá exigidos pela organização de finanças Olá podem usar /clusters/finance como local de armazenamento de saudação.</span><span class="sxs-lookup"><span data-stu-id="1eecf-115">With this structure, all hello clusters required by hello Finance organization can use /clusters/finance as hello storage location.</span></span> <span data-ttu-id="1eecf-116">Em Olá futuro, se outra organização, digamos que Marketing, quer a clusters de HDInsight toocreate usando Olá a mesma conta de repositório Data Lake, eles podem criar /clusters/marketing.</span><span class="sxs-lookup"><span data-stu-id="1eecf-116">In hello future, if another organization, say Marketing, wants toocreate HDInsight clusters using hello same Data Lake Store account, they could create /clusters/marketing.</span></span> <span data-ttu-id="1eecf-117">Por enquanto, usaremos apenas **/clusters/finance**.</span><span class="sxs-lookup"><span data-stu-id="1eecf-117">For now, let's just use **/clusters/finance**.</span></span>

<span data-ttu-id="1eecf-118">tooenable este toobe da estrutura de pasta efetivamente usado pelo clusters de HDInsight, administrador do repositório Data Lake Olá deve atribuir as permissões apropriadas, conforme descrito na tabela de saudação.</span><span class="sxs-lookup"><span data-stu-id="1eecf-118">tooenable this folder structure toobe effectively used by HDInsight clusters, hello Data Lake Store administrator must assign appropriate permissions, as described in hello table.</span></span> <span data-ttu-id="1eecf-119">permissões Olá mostradas na tabela Olá correspondem tooAccess ACLs e ACLs não padrão.</span><span class="sxs-lookup"><span data-stu-id="1eecf-119">hello permissions shown in hello table correspond tooAccess-ACLs, and not Default-ACLs.</span></span> 


|<span data-ttu-id="1eecf-120">Pasta</span><span class="sxs-lookup"><span data-stu-id="1eecf-120">Folder</span></span>  |<span data-ttu-id="1eecf-121">Permissões</span><span class="sxs-lookup"><span data-stu-id="1eecf-121">Permissions</span></span>  |<span data-ttu-id="1eecf-122">usuário proprietário</span><span class="sxs-lookup"><span data-stu-id="1eecf-122">Owning user</span></span>  |<span data-ttu-id="1eecf-123">grupo proprietário</span><span class="sxs-lookup"><span data-stu-id="1eecf-123">Owning group</span></span>  | <span data-ttu-id="1eecf-124">Usuário nomeado</span><span class="sxs-lookup"><span data-stu-id="1eecf-124">Named user</span></span> | <span data-ttu-id="1eecf-125">Permissões de usuário nomeado</span><span class="sxs-lookup"><span data-stu-id="1eecf-125">Named user permissions</span></span> | <span data-ttu-id="1eecf-126">Grupo nomeado</span><span class="sxs-lookup"><span data-stu-id="1eecf-126">Named group</span></span> | <span data-ttu-id="1eecf-127">Permissões de grupo nomeado</span><span class="sxs-lookup"><span data-stu-id="1eecf-127">Named group permissions</span></span> |
|---------|---------|---------|---------|---------|---------|---------|---------|
|/ | <span data-ttu-id="1eecf-128">rwxr-x--x</span><span class="sxs-lookup"><span data-stu-id="1eecf-128">rwxr-x--x</span></span>  |<span data-ttu-id="1eecf-129">admin</span><span class="sxs-lookup"><span data-stu-id="1eecf-129">admin</span></span> |<span data-ttu-id="1eecf-130">admin</span><span class="sxs-lookup"><span data-stu-id="1eecf-130">admin</span></span>  |<span data-ttu-id="1eecf-131">Entidade de serviço</span><span class="sxs-lookup"><span data-stu-id="1eecf-131">Service principal</span></span> |<span data-ttu-id="1eecf-132">--x</span><span class="sxs-lookup"><span data-stu-id="1eecf-132">--x</span></span>  |<span data-ttu-id="1eecf-133">FINGRP</span><span class="sxs-lookup"><span data-stu-id="1eecf-133">FINGRP</span></span>   |<span data-ttu-id="1eecf-134">r-x</span><span class="sxs-lookup"><span data-stu-id="1eecf-134">r-x</span></span>         |
|<span data-ttu-id="1eecf-135">/clusters</span><span class="sxs-lookup"><span data-stu-id="1eecf-135">/clusters</span></span> | <span data-ttu-id="1eecf-136">rwxr-x--x</span><span class="sxs-lookup"><span data-stu-id="1eecf-136">rwxr-x--x</span></span> |<span data-ttu-id="1eecf-137">admin</span><span class="sxs-lookup"><span data-stu-id="1eecf-137">admin</span></span> |<span data-ttu-id="1eecf-138">admin</span><span class="sxs-lookup"><span data-stu-id="1eecf-138">admin</span></span> |<span data-ttu-id="1eecf-139">Entidade de serviço</span><span class="sxs-lookup"><span data-stu-id="1eecf-139">Service principal</span></span> |<span data-ttu-id="1eecf-140">--x</span><span class="sxs-lookup"><span data-stu-id="1eecf-140">--x</span></span>  |<span data-ttu-id="1eecf-141">FINGRP</span><span class="sxs-lookup"><span data-stu-id="1eecf-141">FINGRP</span></span> |<span data-ttu-id="1eecf-142">r-x</span><span class="sxs-lookup"><span data-stu-id="1eecf-142">r-x</span></span>         |
|<span data-ttu-id="1eecf-143">/clusters/finance</span><span class="sxs-lookup"><span data-stu-id="1eecf-143">/clusters/finance</span></span> | <span data-ttu-id="1eecf-144">rwxr-x--t</span><span class="sxs-lookup"><span data-stu-id="1eecf-144">rwxr-x--t</span></span> |<span data-ttu-id="1eecf-145">admin</span><span class="sxs-lookup"><span data-stu-id="1eecf-145">admin</span></span> |<span data-ttu-id="1eecf-146">FINGRP</span><span class="sxs-lookup"><span data-stu-id="1eecf-146">FINGRP</span></span>  |<span data-ttu-id="1eecf-147">Entidade de serviço</span><span class="sxs-lookup"><span data-stu-id="1eecf-147">Service principal</span></span> |<span data-ttu-id="1eecf-148">rwx</span><span class="sxs-lookup"><span data-stu-id="1eecf-148">rwx</span></span>  |-  |-     |

<span data-ttu-id="1eecf-149">Na tabela de saudação</span><span class="sxs-lookup"><span data-stu-id="1eecf-149">In hello table,</span></span>

- <span data-ttu-id="1eecf-150">**administrador** é criador hello e administrador de conta do repositório Data Lake do hello.</span><span class="sxs-lookup"><span data-stu-id="1eecf-150">**admin** is hello creator and administrator of hello Data Lake Store account.</span></span>
- <span data-ttu-id="1eecf-151">**Entidade de serviço** é hello Azure Active Directory (AAD) entidade de serviço associada à conta de saudação.</span><span class="sxs-lookup"><span data-stu-id="1eecf-151">**Service principal** is hello Azure Active Directory (AAD) service principal associated with hello account.</span></span>
- <span data-ttu-id="1eecf-152">**FINGRP** é um grupo de usuário criado no AAD que contém usuários do hello organização de finanças.</span><span class="sxs-lookup"><span data-stu-id="1eecf-152">**FINGRP** is a user group created in AAD that contains users from hello Finance organization.</span></span>

<span data-ttu-id="1eecf-153">Para obter instruções sobre como toocreate um aplicativo AAD (que também cria uma entidade de serviço), consulte [criar um aplicativo AAD](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span><span class="sxs-lookup"><span data-stu-id="1eecf-153">For instructions on how toocreate an AAD application (that also creates a Service Principal), see [Create an AAD application](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span></span> <span data-ttu-id="1eecf-154">Para obter instruções sobre como toocreate um grupo de usuários no AAD, consulte [gerenciar grupos no Active Directory do Azure](../active-directory/active-directory-accessmanagement-manage-groups.md).</span><span class="sxs-lookup"><span data-stu-id="1eecf-154">For instructions on how toocreate a user group in AAD, see [Managing groups in Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span></span>

<span data-ttu-id="1eecf-155">Tooconsider alguns pontos-chave.</span><span class="sxs-lookup"><span data-stu-id="1eecf-155">Some key points tooconsider.</span></span>

- <span data-ttu-id="1eecf-156">estrutura de pasta de nível de saudação dois (**/clusters/Finanças/**) deve ser criado e provisionado com as permissões adequadas pelo administrador do repositório Data Lake Olá **antes de** usando a conta de armazenamento Olá para clusters.</span><span class="sxs-lookup"><span data-stu-id="1eecf-156">hello two level folder structure (**/clusters/finance/**) must be created and provisioned with appropriate permissions by hello Data Lake Store admin **before** using hello storage account for clusters.</span></span> <span data-ttu-id="1eecf-157">Essa estrutura não é criada automaticamente durante a criação de clusters.</span><span class="sxs-lookup"><span data-stu-id="1eecf-157">This structure is not created automatically while creating clusters.</span></span>
- <span data-ttu-id="1eecf-158">exemplo Hello acima recomenda a configuração Olá possui o grupo de **clusters/Finanças** como **FINGRP** e permitindo **r-x** acessar a hierarquia de pasta inteira toohello tooFINGRP iniciando na raiz de saudação.</span><span class="sxs-lookup"><span data-stu-id="1eecf-158">hello example above recommends setting hello owning group of **/clusters/finance** as **FINGRP** and permitting **r-x** access tooFINGRP toohello entire folder hierarchy starting from hello root.</span></span> <span data-ttu-id="1eecf-159">Isso garante que membros de saudação do FINGRP podem navegar a partir da raiz de estrutura de pastas de saudação.</span><span class="sxs-lookup"><span data-stu-id="1eecf-159">This ensures that hello members of FINGRP can navigate hello folder structure starting from root.</span></span>
- <span data-ttu-id="1eecf-160">No caso de Olá quando diferentes entidades de serviço AAD pode criar clusters em **clusters/Finanças**, Olá Autoadesivas bits (quando definido em Olá **Finanças** pasta) garante que as pastas criadas por um serviço Entidade de segurança não pode ser excluída por outros hello.</span><span class="sxs-lookup"><span data-stu-id="1eecf-160">In hello case when different AAD Service Principals can create clusters under **/clusters/finance**, hello sticky-bit (when set on hello **finance** folder) ensures that folders created by one Service Principal cannot be deleted by hello other.</span></span>
- <span data-ttu-id="1eecf-161">Depois que a estrutura de pasta hello e permissões entram em vigor, o processo de criação de cluster HDInsight cria um loaction de armazenamento de cluster específicos em **/clusters/Finanças/**.</span><span class="sxs-lookup"><span data-stu-id="1eecf-161">Once hello folder structure and permissions are in place, HDInsight cluster creation process creates a cluster-specific storage loaction under **/clusters/finance/**.</span></span> <span data-ttu-id="1eecf-162">Por exemplo, armazenamento Olá para um cluster com hello nome fincluster01 poderia ser **/clusters/finance/fincluster01**.</span><span class="sxs-lookup"><span data-stu-id="1eecf-162">For example, hello storage for a cluster with hello name fincluster01 could be **/clusters/finance/fincluster01**.</span></span> <span data-ttu-id="1eecf-163">Olá propriedade e permissões para pastas de saudação criadas pelo cluster do HDInsight é mostrado na tabela de saudação aqui.</span><span class="sxs-lookup"><span data-stu-id="1eecf-163">hello ownership and permissions for hello folders created by HDInsight cluster is shown in hello table here.</span></span>

    |<span data-ttu-id="1eecf-164">Pasta</span><span class="sxs-lookup"><span data-stu-id="1eecf-164">Folder</span></span>  |<span data-ttu-id="1eecf-165">Permissões</span><span class="sxs-lookup"><span data-stu-id="1eecf-165">Permissions</span></span>  |<span data-ttu-id="1eecf-166">usuário proprietário</span><span class="sxs-lookup"><span data-stu-id="1eecf-166">Owning user</span></span>  |<span data-ttu-id="1eecf-167">grupo proprietário</span><span class="sxs-lookup"><span data-stu-id="1eecf-167">Owning group</span></span>  | <span data-ttu-id="1eecf-168">Usuário nomeado</span><span class="sxs-lookup"><span data-stu-id="1eecf-168">Named user</span></span> | <span data-ttu-id="1eecf-169">Permissões de usuário nomeado</span><span class="sxs-lookup"><span data-stu-id="1eecf-169">Named user permissions</span></span> | <span data-ttu-id="1eecf-170">Grupo nomeado</span><span class="sxs-lookup"><span data-stu-id="1eecf-170">Named group</span></span> | <span data-ttu-id="1eecf-171">Permissões de grupo nomeado</span><span class="sxs-lookup"><span data-stu-id="1eecf-171">Named group permissions</span></span> |
    |---------|---------|---------|---------|---------|---------|---------|---------|
    |<span data-ttu-id="1eecf-172">/clusters/finanace/ fincluster01</span><span class="sxs-lookup"><span data-stu-id="1eecf-172">/clusters/finanace/ fincluster01</span></span> | <span data-ttu-id="1eecf-173">rwxr-x---</span><span class="sxs-lookup"><span data-stu-id="1eecf-173">rwxr-x---</span></span>  |<span data-ttu-id="1eecf-174">Entidade de Serviço</span><span class="sxs-lookup"><span data-stu-id="1eecf-174">Service Principal</span></span> |<span data-ttu-id="1eecf-175">FINGRP</span><span class="sxs-lookup"><span data-stu-id="1eecf-175">FINGRP</span></span>  |- |-  |-   |-  | 
   


## <a name="recommendations-for-job-input-and-output-data"></a><span data-ttu-id="1eecf-176">Recomendações para dados de entrada e saída do trabalho</span><span class="sxs-lookup"><span data-stu-id="1eecf-176">Recommendations for job input and output data</span></span>

<span data-ttu-id="1eecf-177">Nós recomendamos que o trabalho de tooa de dados de entrada e Olá saídas de um trabalho ser armazenado em uma pasta fora **/clusters**.</span><span class="sxs-lookup"><span data-stu-id="1eecf-177">We recommend that input data tooa job, and hello outputs from a job be stored in a folder outside **/clusters**.</span></span> <span data-ttu-id="1eecf-178">Isso garante que mesmo se a pasta de cluster específico de saudação for excluído tooreclaim espaço de armazenamento, entradas de trabalho de saudação e saídas ainda estão disponíveis para uso futuro.</span><span class="sxs-lookup"><span data-stu-id="1eecf-178">This ensures that even if hello cluster-specific folder is deleted tooreclaim some storage space,hello job inputs and outputs are still available for future use.</span></span> <span data-ttu-id="1eecf-179">Nesse caso, verifique se hierarquia de pastas Olá para armazenar Olá trabalho entradas e saídas permite que o nível apropriado de acesso para Olá entidade de serviço.</span><span class="sxs-lookup"><span data-stu-id="1eecf-179">In such a case, ensure that hello folder hierarchy for storing hello job inputs and outputs allows appropriate level of access for hello Service Principal.</span></span>

## <a name="limit-on-clusters-sharing-a-single-storage-account"></a><span data-ttu-id="1eecf-180">Limite de clusters compartilhando uma única conta de armazenamento</span><span class="sxs-lookup"><span data-stu-id="1eecf-180">Limit on clusters sharing a single storage account</span></span>

<span data-ttu-id="1eecf-181">limite saudação do número de saudação de clusters que podem compartilhar uma única conta do repositório Data Lake depende da carga de trabalho Olá sendo executada em um desses clusters.</span><span class="sxs-lookup"><span data-stu-id="1eecf-181">hello limit on hello number of clusters that can share a single Data Lake Store account depends on hello workload being run on those clusters.</span></span> <span data-ttu-id="1eecf-182">Ter muitos clusters ou cargas de trabalho muito pesadas em clusters de saudação que compartilham uma conta de armazenamento pode causar Olá armazenamento conta ingresso/egresso tooget limitada.</span><span class="sxs-lookup"><span data-stu-id="1eecf-182">Having too many clusters or very heavy workloads on hello clusters that share a storage account might cause hello storage account ingress/egress tooget throttled.</span></span>

## <a name="support-for-default-acls"></a><span data-ttu-id="1eecf-183">Suporte para ACLs padrão</span><span class="sxs-lookup"><span data-stu-id="1eecf-183">Support for Default-ACLs</span></span>

<span data-ttu-id="1eecf-184">Ao criar uma entidade de serviço com acesso de usuário nomeado (conforme mostrado na tabela de saudação acima), é recomendável **não** adicionando Olá-usuário nomeado com um padrão de ACL.</span><span class="sxs-lookup"><span data-stu-id="1eecf-184">When creating a Service Principal with named-user access (as shown in hello table above), we recommend **not** adding hello named-user with a default-ACL.</span></span> <span data-ttu-id="1eecf-185">O provisionamento de acesso de usuário nomeado usando ACLs padrão resultados na atribuição de saudação do 770 permissões para usuário proprietário, o grupo de propriedade e outros.</span><span class="sxs-lookup"><span data-stu-id="1eecf-185">Provisioning named-user access using default-ACLs results in hello assignment of 770 permissions for owning-user, owning-group, and others.</span></span> <span data-ttu-id="1eecf-186">Embora esse valor padrão de 770 não retire as permissões do usuário proprietário (7) ou grupo proprietário (7), ele retira todas as permissões para outros (0).</span><span class="sxs-lookup"><span data-stu-id="1eecf-186">While this default value of 770 does not take away permissions from owning-user (7) or owning-group (7), it takes away all permissions for others (0).</span></span> <span data-ttu-id="1eecf-187">Isso resulta em um problema conhecido com um determinado caso de uso que é discutido em detalhes no hello [problemas conhecidos e soluções alternativas](#known-issues-and-workarounds) seção.</span><span class="sxs-lookup"><span data-stu-id="1eecf-187">This results in a known issue with one particular use-case that is discussed in detail in hello [Known issues and workarounds](#known-issues-and-workarounds) section.</span></span>

## <a name="known-issues-and-workarounds"></a><span data-ttu-id="1eecf-188">Problemas conhecidos e limitações</span><span class="sxs-lookup"><span data-stu-id="1eecf-188">Known issues and workarounds</span></span>

<span data-ttu-id="1eecf-189">Esta seção lista Olá problemas para usar o HDInsight com repositório Data Lake e suas soluções alternativas.</span><span class="sxs-lookup"><span data-stu-id="1eecf-189">This section lists hello known issues for using HDInsight with Data Lake Store, and their workarounds.</span></span>

### <a name="publicly-visible-localized-yarn-resources"></a><span data-ttu-id="1eecf-190">Recursos localizados do YARN visíveis publicamente</span><span class="sxs-lookup"><span data-stu-id="1eecf-190">Publicly visible localized YARN resources</span></span>

<span data-ttu-id="1eecf-191">Quando uma nova conta de armazenamento do Azure Data Lake é criada, o diretório raiz de saudação é provisionado automaticamente com too770 de conjunto de bits de permissão de acesso ACL.</span><span class="sxs-lookup"><span data-stu-id="1eecf-191">When a new Azure Data Lake store account is created, hello root directory is automatically provisioned with Access-ACL permission bits set too770.</span></span> <span data-ttu-id="1eecf-192">pasta raiz de saudação possui usuário é definir toohello usuário que criou a conta de hello (Olá repositório Data Lake administrador) e grupo proprietário Olá é definido toohello de grupo primário Olá usuário que criou a conta de saudação.</span><span class="sxs-lookup"><span data-stu-id="1eecf-192">hello root folder’s owning user is set toohello user that created hello account (hello Data Lake Store admin) and hello owning group is set toohello primary group of hello user that created hello account.</span></span> <span data-ttu-id="1eecf-193">Nenhum acesso é fornecido para "outros".</span><span class="sxs-lookup"><span data-stu-id="1eecf-193">No access is provided for "others".</span></span>

<span data-ttu-id="1eecf-194">Essas configurações são conhecidas tooaffect um específico HDInsight caso de uso capturado no [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span><span class="sxs-lookup"><span data-stu-id="1eecf-194">These settings are known tooaffect one specific HDInsight use-case captured in [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span></span> <span data-ttu-id="1eecf-195">Envios de trabalho podem falhar com um toothis semelhante de mensagem de erro:</span><span class="sxs-lookup"><span data-stu-id="1eecf-195">Job submissions could fail with an error message similar toothis:</span></span>

    Resource XXXX is not publicly accessible and as such cannot be part of hello public cache.

<span data-ttu-id="1eecf-196">Conforme indicado na Olá que YARN JIRA anteriormente, vinculado ao localizar recursos públicos, hello localizador valida que todos os Olá recursos solicitados são realmente públicos Verificando suas permissões no sistema de arquivos remoto hello.</span><span class="sxs-lookup"><span data-stu-id="1eecf-196">As stated in hello YARN JIRA linked earlier, while localizing public resources, hello localizer validates that all hello requested resources are indeed public by checking their permissions on hello remote file-system.</span></span> <span data-ttu-id="1eecf-197">Qualquer LocalResource que não satisfaz essa condição é rejeitado para localização.</span><span class="sxs-lookup"><span data-stu-id="1eecf-197">Any LocalResource that does not fit that condition is rejected for localization.</span></span> <span data-ttu-id="1eecf-198">Olá verificação de permissões, inclui toohello de acesso de leitura de arquivo para "outros".</span><span class="sxs-lookup"><span data-stu-id="1eecf-198">hello check for permissions, includes read-access toohello file for "others".</span></span> <span data-ttu-id="1eecf-199">Esse cenário não funciona fora da caixa ao hospedar clusters HDInsight no Azure Data Lake, desde que o Azure Data Lake nega o acesso de todos os demais "outros" no nível da pasta raiz.</span><span class="sxs-lookup"><span data-stu-id="1eecf-199">This scenario does not work out-of-the-box when hosting HDInsight clusters on Azure Data Lake, since Azure Data Lake denies all access too"others" at root folder level.</span></span>

#### <a name="workaround"></a><span data-ttu-id="1eecf-200">Solução alternativa</span><span class="sxs-lookup"><span data-stu-id="1eecf-200">Workaround</span></span>
<span data-ttu-id="1eecf-201">Conjunto de leitura-permissões de execução para **outros** pela hierarquia de hello, por exemplo, no  **/** , **/clusters** e **clusters/Finanças**  conforme mostrado na tabela de saudação acima.</span><span class="sxs-lookup"><span data-stu-id="1eecf-201">Set read-execute permissions for **others** through hello hierarchy, for example,  at **/**, **/clusters** and **/clusters/finance** as shown in hello table above.</span></span>

## <a name="see-also"></a><span data-ttu-id="1eecf-202">Consulte também</span><span class="sxs-lookup"><span data-stu-id="1eecf-202">See also</span></span>

* [<span data-ttu-id="1eecf-203">Criar um cluster HDInsight com o Repositório Data Lake como armazenamento</span><span class="sxs-lookup"><span data-stu-id="1eecf-203">Create an HDInsight cluster with Data Lake Store as storage</span></span>](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md)


