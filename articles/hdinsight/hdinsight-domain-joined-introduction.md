---
title: "segurança aaaHadoop - domínio clusters HDInsight - Azure | Microsoft Docs"
description: Saiba como...
services: hdinsight
documentationcenter: 
author: saurinsh
manager: jhubbard
editor: cgronlun
tags: azure-portal
ms.assetid: 7dc6847d-10d4-4b5c-9c83-cc513cf91965
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 10/31/2016
ms.author: saurinsh
ms.openlocfilehash: 5a9469402a61bcba4017e1ff4bd06dfba23ac963
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="an-introduction-toohadoop-security-with-domain-joined-hdinsight-clusters-preview"></a><span data-ttu-id="2062b-103">Segurança de tooHadoop uma introdução aos clusters de HDInsight ingressado no domínio (visualização)</span><span class="sxs-lookup"><span data-stu-id="2062b-103">An introduction tooHadoop security with domain-joined HDInsight clusters (Preview)</span></span>

<span data-ttu-id="2062b-104">O Azure HDInsight até hoje dava suporte apenas a um administrador local de usuário único. Isso funcionava bem para equipes de aplicativos ou departamentos menores.</span><span class="sxs-lookup"><span data-stu-id="2062b-104">Azure HDInsight until today supported only a single user local admin. This worked great for smaller application teams or departments.</span></span> <span data-ttu-id="2062b-105">Como o Hadoop baseado em cargas de trabalho obtidas mais popularidade no setor, o enterprise Olá Olá necessário para a empresa recursos de classificação, como autenticação, suporte a vários usuários e controle de acesso baseado em função baseada no active directory se tornaram cada vez mais importantes.</span><span class="sxs-lookup"><span data-stu-id="2062b-105">As Hadoop based workloads gained more popularity in hello enterprise sector, hello need for enterprise grade capabilities like active directory based authentication, multi-user support, and role based access control became increasingly important.</span></span> <span data-ttu-id="2062b-106">Usando clusters HDInsight ingressado no domínio, você pode criar um domínio de Active Directory tooan HDInsight cluster associado, configure uma lista de funcionários da empresa de saudação que pode autenticar por meio do Active Directory do Azure toolog no cluster tooHDInsight.</span><span class="sxs-lookup"><span data-stu-id="2062b-106">Using Domain-joined HDInsight clusters, you can create an HDInsight cluster joined tooan Active Directory domain, configure a list of employees from hello enterprise who can authenticate through Azure Active Directory toolog on tooHDInsight cluster.</span></span> <span data-ttu-id="2062b-107">Qualquer pessoa fora da empresa Olá não pode logon ou acessam o cluster do HDInsight hello.</span><span class="sxs-lookup"><span data-stu-id="2062b-107">Anyone outside hello enterprise cannot log on or access hello HDInsight cluster.</span></span> <span data-ttu-id="2062b-108">Olá administrador de empresa pode configurar controle de acesso baseado em função para o uso da segurança de Hive [Apache Ranger](http://hortonworks.com/apache/ranger/), portanto, restringindo o acesso toodata tooonly tanto quanto necessário.</span><span class="sxs-lookup"><span data-stu-id="2062b-108">hello enterprise admin can configure role based access control for Hive security using [Apache Ranger](http://hortonworks.com/apache/ranger/), thus restricting access toodata tooonly as much as needed.</span></span> <span data-ttu-id="2062b-109">Finalmente, Olá administrador pode fazer auditoria de acesso a dados Olá pelos funcionários e quaisquer alterações feitas tooaccess controlar políticas, assim, atingir um alto grau de controle de seus recursos corporativos.</span><span class="sxs-lookup"><span data-stu-id="2062b-109">Finally, hello admin can audit hello data access by employees, and any changes done tooaccess control policies, thus achieving a high degree of governance of their corporate resources.</span></span>

> [!NOTE]
> <span data-ttu-id="2062b-110">novos recursos de saudação descritos nesta visualização estão disponíveis somente em clusters HDInsight baseados em Linux para carga de trabalho de Hive.</span><span class="sxs-lookup"><span data-stu-id="2062b-110">hello new features described in this preview are available only on Linux-based HDInsight clusters for Hive workload.</span></span> <span data-ttu-id="2062b-111">Olá outras cargas de trabalho, como HBase, Spark, tempestade e Kafka, será habilitado em futuras versões.</span><span class="sxs-lookup"><span data-stu-id="2062b-111">hello other workloads, such as HBase, Spark, Storm and Kafka, will be enabled in future releases.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="2062b-112">O Oozie não está habilitado no HDInsight ingressado no domínio.</span><span class="sxs-lookup"><span data-stu-id="2062b-112">Oozie is not enabled on domain-joined HDInsight.</span></span>

## <a name="benefits"></a><span data-ttu-id="2062b-113">Benefícios</span><span class="sxs-lookup"><span data-stu-id="2062b-113">Benefits</span></span>
<span data-ttu-id="2062b-114">I Enterprise Security contém quatro grandes pilares: segurança do perímetro, autenticação, autorização e criptografia.</span><span class="sxs-lookup"><span data-stu-id="2062b-114">Enterprise Security contains four big pillars – Perimeter Security, Authentication, Authorization, and Encryption.</span></span>

![Pilares de benefícios de clusters HDInsight associados ao domínio](./media/hdinsight-domain-joined-introduction/hdinsight-domain-joined-four-pillars.png)<span data-ttu-id="2062b-116">.</span><span class="sxs-lookup"><span data-stu-id="2062b-116">.</span></span>

### <a name="perimeter-security"></a><span data-ttu-id="2062b-117">Segurança de Perímetro</span><span class="sxs-lookup"><span data-stu-id="2062b-117">Perimeter Security</span></span>
<span data-ttu-id="2062b-118">A segurança de perímetro no HDInsight é obtida usando redes virtuais e serviço de Gateway.</span><span class="sxs-lookup"><span data-stu-id="2062b-118">Perimeter security in HDInsight is achieved using virtual networks and Gateway service.</span></span> <span data-ttu-id="2062b-119">Hoje, um administrador de empresa pode criar um cluster HDInsight dentro de uma rede virtual e usar grupos de segurança de rede (regras de firewall de entrada ou saída) toorestrict acesso toohello virtual rede.</span><span class="sxs-lookup"><span data-stu-id="2062b-119">Today, an enterprise admin can create an HDInsight cluster inside a virtual network and use Network Security Groups (inbound or outbound firewall rules) toorestrict access toohello virtual network.</span></span> <span data-ttu-id="2062b-120">Apenas hello endereços IP definidos no hello entrada regras de firewall será capaz de toocommunicate com cluster do HDInsight hello, proporcionando assim a segurança de perímetro.</span><span class="sxs-lookup"><span data-stu-id="2062b-120">Only hello IP addresses defined in hello inbound firewall rules will be able toocommunicate with hello HDInsight cluster, thus providing perimeter security.</span></span> <span data-ttu-id="2062b-121">Outra camada de segurança de perímetro é obtida com o serviço de Gateway.</span><span class="sxs-lookup"><span data-stu-id="2062b-121">Another layer of perimeter security is achieved using Gateway service.</span></span> <span data-ttu-id="2062b-122">Olá Gateway é o serviço de saudação que atua como a primeira linha de defesa para qualquer cluster do HDInsight de toohello solicitação entrada.</span><span class="sxs-lookup"><span data-stu-id="2062b-122">hello Gateway is hello service which acts as first line of defense for any incoming request toohello HDInsight cluster.</span></span> <span data-ttu-id="2062b-123">Ele aceita a solicitação de saudação, valida e só permite que Olá solicitação toopass toohello outros nós no cluster, proporcionando assim a segurança de perímetro tooother nós de nome e os dados no cluster hello.</span><span class="sxs-lookup"><span data-stu-id="2062b-123">It accepts hello request, validates it and only then allows hello request toopass toohello other nodes in cluster, thus providing perimeter security tooother name and data nodes in hello cluster.</span></span>

### <a name="authentication"></a><span data-ttu-id="2062b-124">Autenticação</span><span class="sxs-lookup"><span data-stu-id="2062b-124">Authentication</span></span>
<span data-ttu-id="2062b-125">Com essa visualização pública, um administrador de empresa pode provisionar um cluster HDInsight associado ao domínio, em uma [rede virtual](https://azure.microsoft.com/services/virtual-network/).</span><span class="sxs-lookup"><span data-stu-id="2062b-125">With this public preview, an enterprise admin can provision a Domain-joined HDInsight cluster, in a [virtual network](https://azure.microsoft.com/services/virtual-network/).</span></span> <span data-ttu-id="2062b-126">Olá nós do cluster do HDInsight Olá sejam toohello ingressado no domínio gerenciado pela empresa hello.</span><span class="sxs-lookup"><span data-stu-id="2062b-126">hello nodes of hello HDInsight cluster will be joined toohello domain managed by hello enterprise.</span></span> <span data-ttu-id="2062b-127">Isso é feito com o uso de [Active Directory Domain Services](../active-directory-domain-services/active-directory-ds-overview.md).</span><span class="sxs-lookup"><span data-stu-id="2062b-127">This is achieved through use of [Azure Active Directory Domain Services](../active-directory-domain-services/active-directory-ds-overview.md).</span></span> <span data-ttu-id="2062b-128">Todos os nós Olá cluster Olá são tooa ingressado no domínio que gerencia enterprise hello.</span><span class="sxs-lookup"><span data-stu-id="2062b-128">All hello nodes in hello cluster are joined tooa domain that hello enterprise manages.</span></span> <span data-ttu-id="2062b-129">Com essa configuração, os funcionários da empresa de saudação podem fazer logon toohello nós de cluster usando suas credenciais de domínio.</span><span class="sxs-lookup"><span data-stu-id="2062b-129">With this setup, hello enterprise employees can log on toohello cluster nodes using their domain credentials.</span></span> <span data-ttu-id="2062b-130">Eles também podem usar seu tooauthenticate de credenciais de domínio com outros pontos de extremidade aprovados como toointeract matiz, modos de exibição do Ambari, ODBC, JDBC, PowerShell e APIs REST com cluster hello.</span><span class="sxs-lookup"><span data-stu-id="2062b-130">They can also use their domain credentials tooauthenticate with other approved endpoints like Hue, Ambari Views, ODBC, JDBC, PowerShell and REST APIs toointeract with hello cluster.</span></span> <span data-ttu-id="2062b-131">Olá administrador tem controle total sobre limitação Olá número de usuários interagir com o cluster de saudação por esses pontos de extremidade.</span><span class="sxs-lookup"><span data-stu-id="2062b-131">hello admin has full control over limiting hello number of users interacting with hello cluster via these endpoints.</span></span>

### <a name="authorization"></a><span data-ttu-id="2062b-132">Autorização</span><span class="sxs-lookup"><span data-stu-id="2062b-132">Authorization</span></span>
<span data-ttu-id="2062b-133">Uma prática recomendada, seguida pela maioria das empresas é que nem todos os funcionários tem acesso tooall os recursos da empresa.</span><span class="sxs-lookup"><span data-stu-id="2062b-133">A best practice followed by most enterprises is that not every employee has access tooall enterprise resources.</span></span> <span data-ttu-id="2062b-134">Da mesma forma, com esta versão, Olá administrador pode definir políticas de controle de acesso baseado em função para recursos de cluster de saudação.</span><span class="sxs-lookup"><span data-stu-id="2062b-134">Likewise, with this release, hello admin can define role based access control policies for hello cluster resources.</span></span> <span data-ttu-id="2062b-135">Por exemplo, Olá administrador pode configurar [Apache Ranger](http://hortonworks.com/apache/ranger/) tooset políticas de controle de acesso para o Hive.</span><span class="sxs-lookup"><span data-stu-id="2062b-135">For example, hello admin can configure [Apache Ranger](http://hortonworks.com/apache/ranger/) tooset access control policies for Hive.</span></span> <span data-ttu-id="2062b-136">Essa funcionalidade garante que os funcionários sejam apenas tooaccess capaz de quantidade de dados que precisam toobe bem-sucedida em seus trabalhos.</span><span class="sxs-lookup"><span data-stu-id="2062b-136">This functionality ensures that employees will be able tooaccess only as much data as they need toobe successful in their jobs.</span></span> <span data-ttu-id="2062b-137">Cluster de toohello acesso SSH também é restrito toohello somente administrador.</span><span class="sxs-lookup"><span data-stu-id="2062b-137">SSH access toohello cluster is also restricted only toohello administrator.</span></span>

### <a name="auditing"></a><span data-ttu-id="2062b-138">Auditoria</span><span class="sxs-lookup"><span data-stu-id="2062b-138">Auditing</span></span>
<span data-ttu-id="2062b-139">Além de proteger a saudação HDInsight recursos do cluster de usuários não autorizados e dados hello, auditoria de segurança de todos os acessar os recursos de cluster toohello e Olá dados são necessário tootrack acesso não autorizado ou não intencional de recursos de saudação.</span><span class="sxs-lookup"><span data-stu-id="2062b-139">Along with protecting hello HDInsight cluster resources from unauthorized users, and securing hello data, auditing of all access toohello cluster resources, and hello data is necessary tootrack unauthorized or unintentional access of hello resources.</span></span> <span data-ttu-id="2062b-140">Com essa visualização, Olá administrador pode exibir e todos os recursos de cluster do HDInsight de toohello de acesso e os dados de relatório.</span><span class="sxs-lookup"><span data-stu-id="2062b-140">With this preview, hello admin can view and report all access toohello HDInsight cluster resources and data.</span></span> <span data-ttu-id="2062b-141">Olá administrador também pode exibir e relatório todas as alterações de políticas de controle de acesso de toohello feitas no Apache Ranger suporte para pontos de extremidade.</span><span class="sxs-lookup"><span data-stu-id="2062b-141">hello admin can also view and report all changes toohello access control policies done in Apache Ranger supported endpoints.</span></span> <span data-ttu-id="2062b-142">Um cluster HDInsight domínio usa os logs de auditoria do hello familiares da interface do usuário do Apache Ranger toosearch.</span><span class="sxs-lookup"><span data-stu-id="2062b-142">A Domain-joined HDInsight cluster uses hello familiar Apache Ranger UI toosearch audit logs.</span></span> <span data-ttu-id="2062b-143">No back-end hello, Ranger usa [Solr Apache](http://hortonworks.com/apache/solr/) para armazenar e pesquisa de logs de saudação.</span><span class="sxs-lookup"><span data-stu-id="2062b-143">On hello backend, Ranger uses [Apache Solr](http://hortonworks.com/apache/solr/) for storing and searching hello logs.</span></span>

### <a name="encryption"></a><span data-ttu-id="2062b-144">Criptografia</span><span class="sxs-lookup"><span data-stu-id="2062b-144">Encryption</span></span>
<span data-ttu-id="2062b-145">Proteção de dados é importante para os requisitos de conformidade e segurança organizacional de reunião e juntamente com acesso toodata impedir que os funcionários não autorizados, ele também deve ser protegido por criptografia.</span><span class="sxs-lookup"><span data-stu-id="2062b-145">Protecting data is important for meeting organizational security and compliance requirements, and along with restricting access toodata from unauthorized employees, it should also be secured by encrypting it.</span></span> <span data-ttu-id="2062b-146">Ambos Olá repositórios de dados para clusters de HDInsight, blobs de armazenamento do Azure, e o armazenamento do Azure Data Lake suporte transparente no lado do servidor [criptografia de dados](../storage/common/storage-service-encryption.md) em repouso.</span><span class="sxs-lookup"><span data-stu-id="2062b-146">Both hello data stores for HDInsight clusters, Azure Storage Blob, and Azure Data Lake Storage support transparent server-side [encryption of data](../storage/common/storage-service-encryption.md) at rest.</span></span> <span data-ttu-id="2062b-147">A proteção de clusters HDInsight funcionará perfeitamente com essa criptografia do lado do servidor de dados em capacidade em repouso.</span><span class="sxs-lookup"><span data-stu-id="2062b-147">Secure HDInsight clusters will seamlessly work with this server side encryption of data at rest capability.</span></span>

## <a name="next-steps"></a><span data-ttu-id="2062b-148">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="2062b-148">Next steps</span></span>
* <span data-ttu-id="2062b-149">Para configurar um cluster HDInsight associado a um domínio, confira [Configurar clusters HDInsight associados a domínio](hdinsight-domain-joined-configure.md).</span><span class="sxs-lookup"><span data-stu-id="2062b-149">For configuring a Domain-joined HDInsight cluster, see [Configure Domain-joined HDInsight clusters](hdinsight-domain-joined-configure.md).</span></span>
* <span data-ttu-id="2062b-150">Para gerenciar um cluster HDInsight associado a um domínio, confira [Gerenciar clusters HDInsight associados a domínio](hdinsight-domain-joined-manage.md).</span><span class="sxs-lookup"><span data-stu-id="2062b-150">For managing a Domain-joined HDInsight clusters, see [Manage Domain-joined HDInsight clusters](hdinsight-domain-joined-manage.md).</span></span>
* <span data-ttu-id="2062b-151">Para configurar políticas do Hive e executar consultas do Hive, confira [Configurar políticas do Hive para clusters HDInsight associados ao domínio](hdinsight-domain-joined-run-hive.md).</span><span class="sxs-lookup"><span data-stu-id="2062b-151">For configuring Hive policies and run Hive queries, see [Configure Hive policies for Domain-joined HDInsight clusters](hdinsight-domain-joined-run-hive.md).</span></span>
* <span data-ttu-id="2062b-152">Para executar consultas Hive usando SSH em clusters HDInsight adicionados ao domínio, confira [Usar SSH com HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md#domainjoined).</span><span class="sxs-lookup"><span data-stu-id="2062b-152">For running Hive queries using SSH on Domain-joined HDInsight clusters, see [Use SSH with HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md#domainjoined).</span></span>
