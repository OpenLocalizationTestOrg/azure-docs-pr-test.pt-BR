---
title: aplicativos de HDInsight aaaPublish - Azure | Microsoft Docs
description: Saiba como toocreate e publicar aplicativos de HDInsight.
services: hdinsight
documentationcenter: 
author: mumian
manager: jhubbard
editor: cgronlun
tags: azure-portal
ms.assetid: 14aef891-7a37-4cf1-8f7d-ca923565c783
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 05/25/2017
ms.author: jgao
ms.openlocfilehash: 7da0aa53828563e50ef372df901e1ba541fb40be
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="publish-hdinsight-applications-into-hello-azure-marketplace"></a><span data-ttu-id="68ea1-103">Publicar aplicativos HDInsight em hello Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="68ea1-103">Publish HDInsight applications into hello Azure Marketplace</span></span>
<span data-ttu-id="68ea1-104">Um aplicativo do HDInsight é um aplicativo que os usuários podem instalar em um cluster HDInsight baseado em Linux.</span><span class="sxs-lookup"><span data-stu-id="68ea1-104">An HDInsight application is an application that users can install on a Linux-based HDInsight cluster.</span></span> <span data-ttu-id="68ea1-105">Esses aplicativos podem ser desenvolvidos pela Microsoft, por ISVs (fornecedores independentes de software) ou por conta própria.</span><span class="sxs-lookup"><span data-stu-id="68ea1-105">These applications can be developed by Microsoft, independent software vendors (ISV) or by yourself.</span></span> <span data-ttu-id="68ea1-106">Neste artigo, você aprenderá como toopublish um aplicativo de HDInsight em hello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="68ea1-106">In this article, you learn how toopublish an HDInsight application into hello Azure Marketplace.</span></span>  <span data-ttu-id="68ea1-107">Para obter informações gerais sobre a publicação em hello Azure Marketplace, consulte [publicar uma oferta toohello Azure Marketplace](../marketplace-publishing/marketplace-publishing-getting-started.md).</span><span class="sxs-lookup"><span data-stu-id="68ea1-107">For general information about publishing into hello Azure Marketplace, see [publish an offer toohello Azure Marketplace](../marketplace-publishing/marketplace-publishing-getting-started.md).</span></span>

<span data-ttu-id="68ea1-108">Aplicativos de HDInsight usar Olá *Traga sua própria licença (BYOL)* modelo, onde o provedor do aplicativo é responsável por licenciamento tooend-usuários do aplicativo hello e os usuários finais só é cobrado pelo Azure para recursos de saudação eles Crie, como cluster de HDInsight hello e suas VMs/nós.</span><span class="sxs-lookup"><span data-stu-id="68ea1-108">HDInsight applications use hello *Bring Your Own License (BYOL)* model, where application provider is responsible for licensing hello application tooend-users, and end-users are only charged by Azure for hello resources they create, such as hello HDInsight cluster and its VMs/nodes.</span></span> <span data-ttu-id="68ea1-109">No momento, a cobrança por aplicativo hello em si não é feita por meio do Azure.</span><span class="sxs-lookup"><span data-stu-id="68ea1-109">Currently, billing for hello application itself is not done through Azure.</span></span>

<span data-ttu-id="68ea1-110">Outro artigo relacionado ao aplicativo do HDInsight:</span><span class="sxs-lookup"><span data-stu-id="68ea1-110">Other HDInsight application-related article:</span></span>

* <span data-ttu-id="68ea1-111">[Instalar aplicativos de HDInsight](hdinsight-apps-install-applications.md): Saiba como clusters de tooinstall um tooyour de aplicativo do HDInsight.</span><span class="sxs-lookup"><span data-stu-id="68ea1-111">[Install HDInsight applications](hdinsight-apps-install-applications.md): Learn how tooinstall an HDInsight application tooyour clusters.</span></span>
* <span data-ttu-id="68ea1-112">[Instalar aplicativos personalizados do HDInsight](hdinsight-apps-install-custom-applications.md): Saiba como tooinstall e testar aplicativos HDInsight personalizados.</span><span class="sxs-lookup"><span data-stu-id="68ea1-112">[Install custom HDInsight applications](hdinsight-apps-install-custom-applications.md): Learn how tooinstall and test custom HDInsight applications.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="68ea1-113">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="68ea1-113">Prerequisites</span></span>
<span data-ttu-id="68ea1-114">toosubmit marketplace de toohello seu aplicativo personalizado, você deve ter criado e testado seu aplicativo personalizado.</span><span class="sxs-lookup"><span data-stu-id="68ea1-114">toosubmit your custom application toohello marketplace, you must have created and tested your custom application.</span></span> <span data-ttu-id="68ea1-115">Consulte Olá artigos a seguir:</span><span class="sxs-lookup"><span data-stu-id="68ea1-115">See hello following articles:</span></span>

* <span data-ttu-id="68ea1-116">[Instalar aplicativos personalizados do HDInsight](hdinsight-apps-install-custom-applications.md): Saiba como tooinstall e testar aplicativos HDInsight personalizados.</span><span class="sxs-lookup"><span data-stu-id="68ea1-116">[Install custom HDInsight applications](hdinsight-apps-install-custom-applications.md): Learn how tooinstall and test custom HDInsight applications.</span></span>

<span data-ttu-id="68ea1-117">Você também deve ter registrado sua conta de desenvolvedor.</span><span class="sxs-lookup"><span data-stu-id="68ea1-117">You must also have registered your developer account.</span></span> <span data-ttu-id="68ea1-118">Consulte [publicar uma oferta toohello Azure Marketplace](../marketplace-publishing/marketplace-publishing-getting-started.md) e [criar uma conta do Microsoft Developer](../marketplace-publishing/marketplace-publishing-accounts-creation-registration.md).</span><span class="sxs-lookup"><span data-stu-id="68ea1-118">See [publish an offer toohello Azure Marketplace](../marketplace-publishing/marketplace-publishing-getting-started.md) and [Create a Microsoft Developer account](../marketplace-publishing/marketplace-publishing-accounts-creation-registration.md).</span></span>

## <a name="define-application"></a><span data-ttu-id="68ea1-119">Definir o aplicativo</span><span class="sxs-lookup"><span data-stu-id="68ea1-119">Define application</span></span>
<span data-ttu-id="68ea1-120">Há duas etapas envolvidas para publicar aplicativos toohello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="68ea1-120">There are two steps involved for publishing applications toohello Azure Marketplace.</span></span>  <span data-ttu-id="68ea1-121">Primeiro você define uma **createUiDef.json** tooindicate de arquivo que seu aplicativo de clusters é compatível com; e, em seguida, você publicar o modelo de saudação do hello portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="68ea1-121">First you define a **createUiDef.json** file tooindicate which clusters your application is compatible with; and then you publish hello template from hello Azure portal.</span></span> <span data-ttu-id="68ea1-122">Olá seção a seguir é um arquivo de exemplo createUiDef.json.</span><span class="sxs-lookup"><span data-stu-id="68ea1-122">hello following section is a sample createUiDef.json file.</span></span>

    {
        "handler": "Microsoft.HDInsight",
        "version": "0.0.1-preview",
        "clusterFilters": {
            "types": ["Hadoop", "HBase", "Storm", "Spark"],
            "tiers": ["Standard", "Premium"],
            "versions": ["3.4"]
        }
    }


| <span data-ttu-id="68ea1-123">Campo</span><span class="sxs-lookup"><span data-stu-id="68ea1-123">Field</span></span> | <span data-ttu-id="68ea1-124">Descrição</span><span class="sxs-lookup"><span data-stu-id="68ea1-124">Description</span></span> | <span data-ttu-id="68ea1-125">Valores possíveis</span><span class="sxs-lookup"><span data-stu-id="68ea1-125">Possible values</span></span> |
| --- | --- | --- |
| <span data-ttu-id="68ea1-126">tipos</span><span class="sxs-lookup"><span data-stu-id="68ea1-126">types</span></span> |<span data-ttu-id="68ea1-127">tipos de cluster de saudação aplicativo hello é compatível com.</span><span class="sxs-lookup"><span data-stu-id="68ea1-127">hello cluster types that hello application is compatible with.</span></span> |<span data-ttu-id="68ea1-128">Hadoop, HBase, Storm, Spark (ou qualquer combinação destes)</span><span class="sxs-lookup"><span data-stu-id="68ea1-128">Hadoop, HBase, Storm, Spark, (or any combination of these)</span></span> |
| <span data-ttu-id="68ea1-129">camadas</span><span class="sxs-lookup"><span data-stu-id="68ea1-129">tiers</span></span> |<span data-ttu-id="68ea1-130">Olá camadas de cluster que o aplicativo hello é compatível com.</span><span class="sxs-lookup"><span data-stu-id="68ea1-130">hello cluster tiers that hello application is compatible with.</span></span> |<span data-ttu-id="68ea1-131">Standard, Premium (ou ambos)</span><span class="sxs-lookup"><span data-stu-id="68ea1-131">Standard, Premium, (or both)</span></span> |
| <span data-ttu-id="68ea1-132">versões</span><span class="sxs-lookup"><span data-stu-id="68ea1-132">versions</span></span> |<span data-ttu-id="68ea1-133">tipos de cluster do HDInsight Olá Olá aplicativo é compatível com.</span><span class="sxs-lookup"><span data-stu-id="68ea1-133">hello HDInsight cluster types that hello application is compatible with.</span></span> |<span data-ttu-id="68ea1-134">3.4</span><span class="sxs-lookup"><span data-stu-id="68ea1-134">3.4</span></span> |

## <a name="application-install-script"></a><span data-ttu-id="68ea1-135">Script de instalação do aplicativo</span><span class="sxs-lookup"><span data-stu-id="68ea1-135">Application install script</span></span>
<span data-ttu-id="68ea1-136">Sempre que um aplicativo é instalado em um cluster (um já existente ou um novo), um nó de borda é criado e script de instalação do aplicativo hello é executada nele.</span><span class="sxs-lookup"><span data-stu-id="68ea1-136">Whenever an application is installed on a cluster (either an existing one or a new one), an edge node is created and hello application install script is run on it.</span></span>
  > [!IMPORTANT]
  > <span data-ttu-id="68ea1-137">nome de saudação de nomes de script de instalação de aplicativo hello deve ser exclusivo para um determinado cluster com hello formato a seguir.</span><span class="sxs-lookup"><span data-stu-id="68ea1-137">hello name of hello application install script names must be unique for a particular cluster with hello following format.</span></span>
  > 
  > <span data-ttu-id="68ea1-138">name": "[concat('hue-install-v0','-' ,uniquestring(‘applicationName’)]"</span><span class="sxs-lookup"><span data-stu-id="68ea1-138">name": "[concat('hue-install-v0','-' ,uniquestring(‘applicationName’)]"</span></span>
  > 
  > <span data-ttu-id="68ea1-139">Observe que existem em nome de script de toohello de três partes:</span><span class="sxs-lookup"><span data-stu-id="68ea1-139">Note there are three parts toohello script name:</span></span>
  > 
  > 1. <span data-ttu-id="68ea1-140">Um prefixo de nome de script, que deve incluir o nome do aplicativo hello ou um aplicativo de toohello relevantes do nome.</span><span class="sxs-lookup"><span data-stu-id="68ea1-140">A script name prefix, which shall include either hello application name or a name relevant toohello application.</span></span>
  > 2. <span data-ttu-id="68ea1-141">Um "-" para facilitar a leitura.</span><span class="sxs-lookup"><span data-stu-id="68ea1-141">A "-" for readability.</span></span>
  > 3. <span data-ttu-id="68ea1-142">Uma função de cadeia de caracteres exclusiva com o nome do aplicativo hello como Olá parâmetro.</span><span class="sxs-lookup"><span data-stu-id="68ea1-142">A unique string function with hello application name as hello parameter.</span></span>
  > 
  > <span data-ttu-id="68ea1-143">Um exemplo é Olá acima acaba ficando: Matiz-install-v0-4wkahss55hlas em Olá persistente a lista de ações de script.</span><span class="sxs-lookup"><span data-stu-id="68ea1-143">An example is hello above ends up becoming: hue-install-v0-4wkahss55hlas in hello persisted script action list.</span></span> <span data-ttu-id="68ea1-144">Para uma carga JSON de exemplo, consulte [https://raw.githubusercontent.com/hdinsight/Iaas-Applications/master/Hue/azuredeploy.json](https://raw.githubusercontent.com/hdinsight/Iaas-Applications/master/Hue/azuredeploy.json).</span><span class="sxs-lookup"><span data-stu-id="68ea1-144">For a sample JSON payload, see [https://raw.githubusercontent.com/hdinsight/Iaas-Applications/master/Hue/azuredeploy.json](https://raw.githubusercontent.com/hdinsight/Iaas-Applications/master/Hue/azuredeploy.json).</span></span>
  > 
<span data-ttu-id="68ea1-145">o script de instalação Olá deve ter Olá características a seguir:</span><span class="sxs-lookup"><span data-stu-id="68ea1-145">hello installation script must have hello following characteristics:</span></span>
1. <span data-ttu-id="68ea1-146">Certifique-se de que o script hello é idempotente.</span><span class="sxs-lookup"><span data-stu-id="68ea1-146">Ensure that hello script is idempotent.</span></span> <span data-ttu-id="68ea1-147">Várias chamadas toohello script deve produzir Olá mesmo resultado.</span><span class="sxs-lookup"><span data-stu-id="68ea1-147">Multiple calls toohello script should produce hello same result.</span></span>
2. <span data-ttu-id="68ea1-148">Olá script deve ser corretamente com controle de versão.</span><span class="sxs-lookup"><span data-stu-id="68ea1-148">hello script should be properly versioned.</span></span> <span data-ttu-id="68ea1-149">Use um local diferente para o script hello quando você estiver atualizando ou testar as alterações para que os clientes que estão tentando aplicativo hello de tooinstall não são afetados.</span><span class="sxs-lookup"><span data-stu-id="68ea1-149">Use a different location for hello script when you are upgrading or testing out changes so that customers that are trying tooinstall hello application are not affected.</span></span> 
3. <span data-ttu-id="68ea1-150">Adicione scripts de toohello de log adequado em cada ponto.</span><span class="sxs-lookup"><span data-stu-id="68ea1-150">Add adequate logging toohello scripts at each point.</span></span> <span data-ttu-id="68ea1-151">Olá geralmente logs de script é Olá somente modo toodebug problemas de instalação do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="68ea1-151">Usually hello script logs are hello only way toodebug application installation issues.</span></span>
4. <span data-ttu-id="68ea1-152">Certifique-se de chamadas tooexternal serviços ou recursos têm repetições adequadas para que a instalação de saudação não é afetada por problemas de rede transitório.</span><span class="sxs-lookup"><span data-stu-id="68ea1-152">Ensure that calls tooexternal services or resources have adequate retries so that hello installation is not affected by transient network issues.</span></span>
5. <span data-ttu-id="68ea1-153">Se o script está iniciando os serviços em nós hello, verifique se serviços Olá são monitorados e configurado toostart automaticamente em caso de reinicializações de nó.</span><span class="sxs-lookup"><span data-stu-id="68ea1-153">If your script is starting services on hello nodes, ensure that hello services are monitored and configured toostart automatically in case of node reboots.</span></span>

## <a name="package-application"></a><span data-ttu-id="68ea1-154">Aplicativo de pacote</span><span class="sxs-lookup"><span data-stu-id="68ea1-154">Package application</span></span>
<span data-ttu-id="68ea1-155">Crie um arquivo zip que contém todos os arquivos necessários para instalar os aplicativos do HDInsight.</span><span class="sxs-lookup"><span data-stu-id="68ea1-155">Create a zip file that contains all required files for installing your HDInsight applications.</span></span> <span data-ttu-id="68ea1-156">Você precisa Olá arquivo zip em [publicar aplicativo](#publish-application).</span><span class="sxs-lookup"><span data-stu-id="68ea1-156">You need hello zip file in [Publish application](#publish-application).</span></span>

* <span data-ttu-id="68ea1-157">[createUiDefinition.json](#define-application).</span><span class="sxs-lookup"><span data-stu-id="68ea1-157">[createUiDefinition.json](#define-application).</span></span>
* <span data-ttu-id="68ea1-158">mainTemplate.json.</span><span class="sxs-lookup"><span data-stu-id="68ea1-158">mainTemplate.json.</span></span> <span data-ttu-id="68ea1-159">Confira um exemplo em [Instalar aplicativos personalizados do HDInsight](hdinsight-apps-install-custom-applications.md).</span><span class="sxs-lookup"><span data-stu-id="68ea1-159">See a sample at [Install custom HDInsight applications](hdinsight-apps-install-custom-applications.md).</span></span>
* <span data-ttu-id="68ea1-160">Todos os scripts obrigatórios.</span><span class="sxs-lookup"><span data-stu-id="68ea1-160">All required scripts.</span></span>

> [!NOTE]
> <span data-ttu-id="68ea1-161">Olá arquivos de aplicativo (incluindo arquivos de aplicativo web se houver algum) pode estar localizado em qualquer ponto de extremidade publicamente acessível.</span><span class="sxs-lookup"><span data-stu-id="68ea1-161">hello application files (including web application files if there is any) can be located on any publicly accessible endpoint.</span></span>
> 

## <a name="publish-application"></a><span data-ttu-id="68ea1-162">aplicativo Publicar</span><span class="sxs-lookup"><span data-stu-id="68ea1-162">Publish application</span></span>
<span data-ttu-id="68ea1-163">Execute Olá etapas toopublish um aplicativo de HDInsight a seguir:</span><span class="sxs-lookup"><span data-stu-id="68ea1-163">Follow hello following steps toopublish an HDInsight application:</span></span>

1. <span data-ttu-id="68ea1-164">Logon toohello [portal do Azure publicação](https://publish.windowsazure.com/).</span><span class="sxs-lookup"><span data-stu-id="68ea1-164">Sign on toohello [Azure Publishing portal](https://publish.windowsazure.com/).</span></span>
2. <span data-ttu-id="68ea1-165">Clique em **modelos de solução** de saudação esquerdo toocreate um novo modelo de solução.</span><span class="sxs-lookup"><span data-stu-id="68ea1-165">Click **Solution templates** from hello left toocreate a new solution template.</span></span>
3. <span data-ttu-id="68ea1-166">Digite um título e clique em **Criar um novo modelo de solução**.</span><span class="sxs-lookup"><span data-stu-id="68ea1-166">Enter a title, and then click **Create a new solution template**.</span></span>
4. <span data-ttu-id="68ea1-167">Clique em **criar Centro de desenvolvimento e junção Olá programa Azure** tooregister sua empresa se você ainda não tiver feito isso.</span><span class="sxs-lookup"><span data-stu-id="68ea1-167">Click **Create Dev Center account and join hello Azure program** tooregister your company if you haven't done so.</span></span>  <span data-ttu-id="68ea1-168">Confira [Criar uma conta do Microsoft Developer](../marketplace-publishing/marketplace-publishing-accounts-creation-registration.md).</span><span class="sxs-lookup"><span data-stu-id="68ea1-168">See [Create a Microsoft Developer account](../marketplace-publishing/marketplace-publishing-accounts-creation-registration.md).</span></span>
5. <span data-ttu-id="68ea1-169">Clique em **definir tooget algumas topologias iniciado**.</span><span class="sxs-lookup"><span data-stu-id="68ea1-169">Click **Define some Topologies tooget Started**.</span></span> <span data-ttu-id="68ea1-170">Um modelo de solução é um "pai" tooall suas topologias.</span><span class="sxs-lookup"><span data-stu-id="68ea1-170">A solution template is a "parent" tooall its topologies.</span></span> <span data-ttu-id="68ea1-171">Você pode definir várias topologias em uma oferta/modelo de solução.</span><span class="sxs-lookup"><span data-stu-id="68ea1-171">You can define multiple topologies in one offer/solution template.</span></span> <span data-ttu-id="68ea1-172">Quando uma oferta é impulsionada toostaging, ela é enviada por push com todas as suas topologias.</span><span class="sxs-lookup"><span data-stu-id="68ea1-172">When an offer is pushed toostaging, it is pushed with all its topologies.</span></span> 
6. <span data-ttu-id="68ea1-173">Insira um nome de topologia e, em seguida, clique em hello mais o sinal.</span><span class="sxs-lookup"><span data-stu-id="68ea1-173">Enter a topology name, and then click hello plus sign.</span></span>
7. <span data-ttu-id="68ea1-174">Insira uma nova versão e clique em Olá sinal de adição.</span><span class="sxs-lookup"><span data-stu-id="68ea1-174">Enter a new version, and then click hello Plus sign.</span></span>
8. <span data-ttu-id="68ea1-175">Carregar arquivo zip do hello preparado na [empacotar aplicativo](#package-application).</span><span class="sxs-lookup"><span data-stu-id="68ea1-175">Upload hello zip file prepared in [Package application](#package-application).</span></span>  
9. <span data-ttu-id="68ea1-176">Clique em **Solicitar Certificação**.</span><span class="sxs-lookup"><span data-stu-id="68ea1-176">Click **Request Certification**.</span></span> <span data-ttu-id="68ea1-177">equipe de certificação da Microsoft Hello analisará arquivos hello e certificar topologia hello.</span><span class="sxs-lookup"><span data-stu-id="68ea1-177">hello Microsoft certification team will review hello files and certify hello topology.</span></span>

## <a name="next-steps"></a><span data-ttu-id="68ea1-178">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="68ea1-178">Next steps</span></span>
* <span data-ttu-id="68ea1-179">[Instalar aplicativos de HDInsight](hdinsight-apps-install-applications.md): Saiba como clusters de tooinstall um tooyour de aplicativo do HDInsight.</span><span class="sxs-lookup"><span data-stu-id="68ea1-179">[Install HDInsight applications](hdinsight-apps-install-applications.md): Learn how tooinstall an HDInsight application tooyour clusters.</span></span>
* <span data-ttu-id="68ea1-180">[Instalar aplicativos personalizados do HDInsight](hdinsight-apps-install-custom-applications.md): Saiba como toodeploy uma tooHDInsight de aplicativo do HDInsight não publicado.</span><span class="sxs-lookup"><span data-stu-id="68ea1-180">[Install custom HDInsight applications](hdinsight-apps-install-custom-applications.md): learn how toodeploy an unpublished HDInsight application tooHDInsight.</span></span>
* <span data-ttu-id="68ea1-181">[Personalizar clusters HDInsight baseados em Linux usando a ação de Script](hdinsight-hadoop-customize-cluster-linux.md): Saiba como aplicativos adicionais do tooinstall toouse ação de Script.</span><span class="sxs-lookup"><span data-stu-id="68ea1-181">[Customize Linux-based HDInsight clusters using Script Action](hdinsight-hadoop-customize-cluster-linux.md): learn how toouse Script Action tooinstall additional applications.</span></span>
* <span data-ttu-id="68ea1-182">[Criar clusters baseados em Linux Hadoop no HDInsight usando modelos do Azure Resource Manager](hdinsight-hadoop-create-linux-clusters-arm-templates.md): Saiba como clusters de toocall Gerenciador de recursos modelos toocreate HDInsight.</span><span class="sxs-lookup"><span data-stu-id="68ea1-182">[Create Linux-based Hadoop clusters in HDInsight using Azure Resource Manager templates](hdinsight-hadoop-create-linux-clusters-arm-templates.md): learn how toocall Resource Manager templates toocreate HDInsight clusters.</span></span>
* <span data-ttu-id="68ea1-183">[Use nós de borda vazia no HDInsight](hdinsight-apps-use-edge-node.md): Saiba como toouse vazio de borda nó para acessar o cluster HDInsight, teste de aplicativos de HDInsight e hospedagem de aplicativos de HDInsight.</span><span class="sxs-lookup"><span data-stu-id="68ea1-183">[Use empty edge nodes in HDInsight](hdinsight-apps-use-edge-node.md): learn how toouse an empty edge node for accessing HDInsight cluster, testing HDInsight applications, and hosting HDInsight applications.</span></span>

