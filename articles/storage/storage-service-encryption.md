---
title: "aaaAzure criptografia do serviço de armazenamento de dados em repouso | Microsoft Docs"
description: "Use tooencrypt de recurso de criptografia do serviço de armazenamento do Azure Olá seu armazenamento de BLOBs do Azure no lado do serviço de saudação ao armazenar dados de saudação e descriptografá-lo ao recuperar dados de saudação."
services: storage
documentationcenter: .net
author: robinsh
manager: timlt
editor: tysonn
ms.assetid: edabe3ee-688b-41e0-b34f-613ac9c3fdfd
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/09/2017
ms.author: robinsh
ms.openlocfilehash: 304f1c21200f86f2084ce98788b2fc7ca893d1f1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-storage-service-encryption-for-data-at-rest"></a><span data-ttu-id="72b14-103">Criptografia do Serviço de Armazenamento do Azure para dados em repouso</span><span class="sxs-lookup"><span data-stu-id="72b14-103">Azure Storage Service Encryption for Data at Rest</span></span>
<span data-ttu-id="72b14-104">Azure Storage Service criptografia (SSE) para dados em repouso ajuda você a proteger e proteger seu dados toomeet seu compromissos de conformidade e segurança da organização.</span><span class="sxs-lookup"><span data-stu-id="72b14-104">Azure Storage Service Encryption (SSE) for Data at Rest helps you protect and safeguard your data toomeet your organizational security and compliance commitments.</span></span> <span data-ttu-id="72b14-105">Com esse recurso, o armazenamento do Azure automaticamente criptografa seu toostorage toopersisting anteriores de dados e descriptografa tooretrieval anterior.</span><span class="sxs-lookup"><span data-stu-id="72b14-105">With this feature, Azure Storage automatically encrypts your data prior toopersisting toostorage and decrypts prior tooretrieval.</span></span> <span data-ttu-id="72b14-106">Olá criptografia, descriptografia e gerenciamento de chaves são toousers totalmente transparente.</span><span class="sxs-lookup"><span data-stu-id="72b14-106">hello encryption, decryption, and key management are totally transparent toousers.</span></span>

<span data-ttu-id="72b14-107">Olá seções a seguir fornecem orientação detalhada sobre como recursos de criptografia do serviço de armazenamento de saudação toouse bem como Olá suporte para cenários e as experiências do usuário.</span><span class="sxs-lookup"><span data-stu-id="72b14-107">hello following sections provide detailed guidance on how toouse hello Storage Service Encryption features as well as hello supported scenarios and user experiences.</span></span>

## <a name="overview"></a><span data-ttu-id="72b14-108">Visão geral</span><span class="sxs-lookup"><span data-stu-id="72b14-108">Overview</span></span>
<span data-ttu-id="72b14-109">Armazenamento do Azure fornece um conjunto abrangente de recursos de segurança que juntos permitem que os desenvolvedores de aplicativos seguros toobuild.</span><span class="sxs-lookup"><span data-stu-id="72b14-109">Azure Storage provides a comprehensive set of security capabilities which together enable developers toobuild secure applications.</span></span> <span data-ttu-id="72b14-110">Os dados podem ser protegidos em trânsito, entre um aplicativo e o Azure, usando a [Criptografia do lado do cliente](storage-client-side-encryption.md), HTTPs ou SMB 3.0.</span><span class="sxs-lookup"><span data-stu-id="72b14-110">Data can be secured in transit between an application and Azure by using [Client-Side Encryption](storage-client-side-encryption.md), HTTPs, or SMB 3.0.</span></span> <span data-ttu-id="72b14-111">A Criptografia do Serviço de Armazenamento fornece criptografia em repouso, lidando com a criptografia, a descriptografia e o gerenciamento de chaves de forma totalmente transparente.</span><span class="sxs-lookup"><span data-stu-id="72b14-111">Storage Service Encryption provides encryption at rest, handling encryption, decryption, and key management in a totally transparent fashion.</span></span> <span data-ttu-id="72b14-112">Todos os dados são criptografados usando 256 bits [criptografia AES](https://en.wikipedia.org/wiki/Advanced_Encryption_Standard), um bloqueio mais forte Olá codificações disponíveis.</span><span class="sxs-lookup"><span data-stu-id="72b14-112">All data is encrypted using 256-bit [AES encryption](https://en.wikipedia.org/wiki/Advanced_Encryption_Standard), one of hello strongest block ciphers available.</span></span>

<span data-ttu-id="72b14-113">SSE funciona por meio da criptografia de dados de saudação quando ele é gravado tooAzure armazenamento e pode ser usado para o armazenamento de arquivo e armazenamento de BLOBs do Azure.</span><span class="sxs-lookup"><span data-stu-id="72b14-113">SSE works by encrypting hello data when it is written tooAzure Storage, and can be used for Azure Blob Storage and File Storage.</span></span> <span data-ttu-id="72b14-114">Ele funciona para os seguintes hello:</span><span class="sxs-lookup"><span data-stu-id="72b14-114">It works for hello following:</span></span>

* <span data-ttu-id="72b14-115">Armazenamento Standard: contas de armazenamento de uso geral para o armazenamento de Blobs e Arquivos e contas de armazenamento de Blobs</span><span class="sxs-lookup"><span data-stu-id="72b14-115">Standard Storage: General purpose storage accounts for Blobs and File storage and Blob storage accounts</span></span>
* <span data-ttu-id="72b14-116">Armazenamento Premium</span><span class="sxs-lookup"><span data-stu-id="72b14-116">Premium storage</span></span> 
* <span data-ttu-id="72b14-117">Todos os níveis de redundância (LRS, ZRS, GRS e RA-GRS)</span><span class="sxs-lookup"><span data-stu-id="72b14-117">All redundancy levels (LRS, ZRS, GRS, RA-GRS)</span></span>
* <span data-ttu-id="72b14-118">Contas de armazenamento do Azure Resource Manager (mas não clássico)</span><span class="sxs-lookup"><span data-stu-id="72b14-118">Azure Resource Manager storage accounts (but not classic)</span></span> 
* <span data-ttu-id="72b14-119">Todas as regiões.</span><span class="sxs-lookup"><span data-stu-id="72b14-119">All regions.</span></span>

<span data-ttu-id="72b14-120">toolearn mais, consulte Perguntas frequentes sobre o toohello.</span><span class="sxs-lookup"><span data-stu-id="72b14-120">toolearn more, please refer toohello FAQ.</span></span>

<span data-ttu-id="72b14-121">tooenable ou desabilitar a criptografia do serviço de armazenamento para uma conta de armazenamento, faça logon no hello [portal do Azure](https://portal.azure.com) e selecione uma conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="72b14-121">tooenable or disable Storage Service Encryption for a storage account, log into hello [Azure portal](https://portal.azure.com) and select a storage account.</span></span> <span data-ttu-id="72b14-122">Na folha de configurações hello, procure Olá seção do serviço Blob, conforme mostrado nesta captura de tela e clique em criptografia.</span><span class="sxs-lookup"><span data-stu-id="72b14-122">On hello Settings blade, look for hello Blob Service section as shown in this screenshot and click Encryption.</span></span>

<span data-ttu-id="72b14-123">![Captura de tela do Portal mostrando a opção Criptografia](./media/storage-service-encryption/image1.png)
</span><span class="sxs-lookup"><span data-stu-id="72b14-123">![Portal Screenshot showing Encryption option](./media/storage-service-encryption/image1.png)
</span></span><br/><span data-ttu-id="72b14-124">*Figura 1: habilitar a SSE para serviço Blob (etapa 1)*</span><span class="sxs-lookup"><span data-stu-id="72b14-124">*Figure 1: Enable SSE for Blob Service (Step1)*</span></span>

<span data-ttu-id="72b14-125">![Captura de tela do Portal mostrando a opção Criptografia](./media/storage-service-encryption/image3.png)
</span><span class="sxs-lookup"><span data-stu-id="72b14-125">![Portal Screenshot showing Encryption option](./media/storage-service-encryption/image3.png)
</span></span><br/><span data-ttu-id="72b14-126">*Figura 2: habilitar a SSE para serviço de arquivo (etapa 1)*</span><span class="sxs-lookup"><span data-stu-id="72b14-126">*Figure 2: Enable SSE for File Service (Step1)*</span></span>

<span data-ttu-id="72b14-127">Depois de clicar em configuração de criptografia hello, você pode habilitar ou desabilitar a criptografia do serviço de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="72b14-127">After you click hello Encryption setting, you can enable or disable Storage Service Encryption.</span></span>

<span data-ttu-id="72b14-128">![Captura de tela do Portal mostrando as propriedades da criptografia](./media/storage-service-encryption/image2.png)
</span><span class="sxs-lookup"><span data-stu-id="72b14-128">![Portal Screenshot showing Encryption properties](./media/storage-service-encryption/image2.png)
</span></span><br/><span data-ttu-id="72b14-129">*Figura 3: Habilitar a SSE para o Serviço Blob e Arquivo (etapa 2)*</span><span class="sxs-lookup"><span data-stu-id="72b14-129">*Figure 3: Enable SSE for Blob and File Service (Step2)*</span></span>

## <a name="encryption-scenarios"></a><span data-ttu-id="72b14-130">Cenários de criptografia</span><span class="sxs-lookup"><span data-stu-id="72b14-130">Encryption Scenarios</span></span>
<span data-ttu-id="72b14-131">A Criptografia do Serviço de Armazenamento pode ser habilitada no nível da conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="72b14-131">Storage Service Encryption can be enabled at a storage account level.</span></span> <span data-ttu-id="72b14-132">Uma vez habilitada, os clientes escolherão tooencrypt quais serviços.</span><span class="sxs-lookup"><span data-stu-id="72b14-132">Once enabled, customers will choose which services tooencrypt.</span></span> <span data-ttu-id="72b14-133">Ele dá suporte a saudação os seguintes cenários de cliente:</span><span class="sxs-lookup"><span data-stu-id="72b14-133">It supports hello following customer scenarios:</span></span>

* <span data-ttu-id="72b14-134">Criptografia do Armazenamento de Blobs e do Armazenamento de Arquivos em contas do Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="72b14-134">Encryption of Blob Storage and File Storage in Resource Manager accounts.</span></span>
* <span data-ttu-id="72b14-135">Criptografia de Blob e o serviço de arquivos em contas de armazenamento clássicas uma vez migrados contas de armazenamento do Gerenciador de tooResource.</span><span class="sxs-lookup"><span data-stu-id="72b14-135">Encryption of Blob and File Service in classic storage accounts once migrated tooResource Manager storage accounts.</span></span>

<span data-ttu-id="72b14-136">SSE tem Olá seguintes limitações:</span><span class="sxs-lookup"><span data-stu-id="72b14-136">SSE has hello following limitations:</span></span>

* <span data-ttu-id="72b14-137">Não há suporte para a criptografia de contas de armazenamento clássicas.</span><span class="sxs-lookup"><span data-stu-id="72b14-137">Encryption of classic storage accounts is not supported.</span></span>
* <span data-ttu-id="72b14-138">Os dados existentes - SSE somente criptografa os dados recém-criado depois Olá a criptografia está habilitada.</span><span class="sxs-lookup"><span data-stu-id="72b14-138">Existing Data - SSE only encrypts newly created data after hello encryption is enabled.</span></span> <span data-ttu-id="72b14-139">Se, por exemplo você cria uma nova conta de armazenamento do Gerenciador de recursos, mas não ativa a criptografia e, em seguida, você carregar blobs ou conta de armazenamento de toothat VHDs arquivada e, em seguida, ativa SSE, os blobs não serão criptografados, a menos que eles sejam reconfigurados ou copiados.</span><span class="sxs-lookup"><span data-stu-id="72b14-139">If for example you create a new Resource Manager storage account but don't turn on encryption, and then you upload blobs or archived VHDs toothat storage account and then turn on SSE, those blobs will not be encrypted unless they are rewritten or copied.</span></span>
* <span data-ttu-id="72b14-140">Suporte de mercado - habilitar criptografia de máquinas virtuais criada a partir Olá Marketplace usando Olá [portal do Azure](https://portal.azure.com), PowerShell e a CLI do Azure.</span><span class="sxs-lookup"><span data-stu-id="72b14-140">Marketplace Support - Enable encryption of VMs created from hello Marketplace using hello [Azure portal](https://portal.azure.com), PowerShell, and Azure CLI.</span></span> <span data-ttu-id="72b14-141">imagem base do VHD Olá permanecerá não criptografada; No entanto, gravações feitas depois Olá VM girado backup serão criptografadas.</span><span class="sxs-lookup"><span data-stu-id="72b14-141">hello VHD base image will remain unencrypted; however, any writes done after hello VM has spun up will be encrypted.</span></span>
* <span data-ttu-id="72b14-142">Dados de filas e tabelas não serão criptografados.</span><span class="sxs-lookup"><span data-stu-id="72b14-142">Table and Queues data will not be encrypted.</span></span>

## <a name="getting-started"></a><span data-ttu-id="72b14-143">Introdução</span><span class="sxs-lookup"><span data-stu-id="72b14-143">Getting Started</span></span>
### <a name="step-1-create-a-new-storage-accountstorage-create-storage-accountmd"></a><span data-ttu-id="72b14-144">Etapa 1: [Criar uma nova conta de armazenamento](storage-create-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="72b14-144">Step 1: [Create a new storage account](storage-create-storage-account.md).</span></span>
### <a name="step-2-enable-encryption"></a><span data-ttu-id="72b14-145">Etapa 2: Habilitar a criptografia.</span><span class="sxs-lookup"><span data-stu-id="72b14-145">Step 2: Enable encryption.</span></span>
<span data-ttu-id="72b14-146">Você pode habilitar a criptografia usando Olá [portal do Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="72b14-146">You can enable encryption using hello [Azure portal](https://portal.azure.com).</span></span>

> [!NOTE]
> <span data-ttu-id="72b14-147">Se você desejar tooprogrammatically habilitar ou desabilitar Olá criptografia do serviço de armazenamento em uma conta de armazenamento, você pode usar o hello [API de REST do provedor de recursos de armazenamento do Azure](https://msdn.microsoft.com/library/azure/mt163683.aspx), Olá [biblioteca de cliente do provedor de recursos de armazenamento para .NET](https://msdn.microsoft.com/library/azure/mt131037.aspx), [Azure PowerShell](/powershell/azureps-cmdlets-docs), ou hello [CLI do Azure](storage-azure-cli.md).</span><span class="sxs-lookup"><span data-stu-id="72b14-147">If you want tooprogrammatically enable or disable hello Storage Service Encryption on a storage account, you can use hello [Azure Storage Resource Provider REST API](https://msdn.microsoft.com/library/azure/mt163683.aspx), hello [Storage Resource Provider Client Library for .NET](https://msdn.microsoft.com/library/azure/mt131037.aspx), [Azure PowerShell](/powershell/azureps-cmdlets-docs), or hello [Azure CLI](storage-azure-cli.md).</span></span>
> 
> 

### <a name="step-3-copy-data-toostorage-account"></a><span data-ttu-id="72b14-148">Etapa 3: Copie dados toostorage</span><span class="sxs-lookup"><span data-stu-id="72b14-148">Step 3: Copy data toostorage account</span></span>
<span data-ttu-id="72b14-149">Se você habilitar SSE para Olá serviço Blob, todos os blobs gravados toothat conta de armazenamento serão criptografados.</span><span class="sxs-lookup"><span data-stu-id="72b14-149">If you enable SSE for hello Blob service, any blobs written toothat storage account will be encrypted.</span></span> <span data-ttu-id="72b14-150">Blobs que já estiverem na conta de armazenamento não serão criptografados até que sejam gravados novamente.</span><span class="sxs-lookup"><span data-stu-id="72b14-150">Any blobs already located in that storage account will not be encrypted until they are rewritten.</span></span> <span data-ttu-id="72b14-151">Você pode copiar dados saudação do armazenamento de uma conta tooone com SSE criptografado, ou até mesmo habilitar SSE e copiar blobs de saudação de um contêiner tooanother toosure que os dados anteriores serão criptografados.</span><span class="sxs-lookup"><span data-stu-id="72b14-151">You can copy hello data from one storage account tooone with SSE encrypted, or even enable SSE and copy hello blobs from one container tooanother toosure that previous data is encrypted.</span></span> <span data-ttu-id="72b14-152">Você pode usar qualquer Olá tooaccomplish ferramentas a seguir para isso.</span><span class="sxs-lookup"><span data-stu-id="72b14-152">You can use any of hello following tools tooaccomplish this.</span></span> <span data-ttu-id="72b14-153">Isso também é Olá mesmo comportamento para armazenamento de arquivos.</span><span class="sxs-lookup"><span data-stu-id="72b14-153">This is hello same behavior for File Storage as well.</span></span>

#### <a name="using-azcopy"></a><span data-ttu-id="72b14-154">Como usar o AzCopy</span><span class="sxs-lookup"><span data-stu-id="72b14-154">Using AzCopy</span></span>
<span data-ttu-id="72b14-155">AzCopy é um utilitário de linha de comando do Windows criado para copiar dados tooand do armazenamento de BLOBs do Microsoft Azure, o arquivo e a tabela usando comandos simples com um desempenho ideal.</span><span class="sxs-lookup"><span data-stu-id="72b14-155">AzCopy is a Windows command-line utility designed for copying data tooand from Microsoft Azure Blob, File, and Table storage using simple commands with optimal performance.</span></span> <span data-ttu-id="72b14-156">Você pode usar este toocopy seus blobs ou arquivos de um tooanother de conta de armazenamento tem SSE habilitado.</span><span class="sxs-lookup"><span data-stu-id="72b14-156">You can use this toocopy your blobs or files from one storage account tooanother one that has SSE enabled.</span></span> 

<span data-ttu-id="72b14-157">toolearn mais, visite [transferir dados com o utilitário de linha de comando AzCopy de hello](storage-use-azcopy.md).</span><span class="sxs-lookup"><span data-stu-id="72b14-157">toolearn more, please visit [Transfer data with hello AzCopy Command-Line Utility](storage-use-azcopy.md).</span></span>

#### <a name="using-smb"></a><span data-ttu-id="72b14-158">Como usar o SMB</span><span class="sxs-lookup"><span data-stu-id="72b14-158">Using SMB</span></span>
<span data-ttu-id="72b14-159">Armazenamento de arquivo do Azure oferece compartilhamentos de arquivos na nuvem hello usando o protocolo SMB padrão de saudação.</span><span class="sxs-lookup"><span data-stu-id="72b14-159">Azure File storage offers file shares in hello cloud using hello standard SMB protocol.</span></span> <span data-ttu-id="72b14-160">Você pode montar um compartilhamento de arquivo de um cliente no local ou no Azure.</span><span class="sxs-lookup"><span data-stu-id="72b14-160">You can mount a file share from a client on premises or in Azure.</span></span> <span data-ttu-id="72b14-161">Quando montado, ferramentas, como o Robocopy podem ser usados toocopy arquivos over tooAzure que compartilhamentos de arquivos.</span><span class="sxs-lookup"><span data-stu-id="72b14-161">Once mounted, tools such as Robocopy can be used toocopy files over tooAzure File shares.</span></span> <span data-ttu-id="72b14-162">Para obter mais informações, consulte [como toomount Azure compartilhamento de arquivos no Windows](storage-file-how-to-use-files-windows.md) e [como toomount arquivo Azure compartilhar no Linux](storage-how-to-use-files-linux.md).</span><span class="sxs-lookup"><span data-stu-id="72b14-162">For more information, see [how toomount Azure File Share on Windows](storage-file-how-to-use-files-windows.md) and [how toomount Azure File share on Linux](storage-how-to-use-files-linux.md).</span></span>


#### <a name="using-hello-storage-client-libraries"></a><span data-ttu-id="72b14-163">Usando bibliotecas de cliente de armazenamento Olá</span><span class="sxs-lookup"><span data-stu-id="72b14-163">Using hello Storage Client Libraries</span></span>
<span data-ttu-id="72b14-164">Você pode copiar o blob ou arquivo tooand de dados do armazenamento de blob ou entre contas de armazenamento usando nosso conjunto completo de bibliotecas de cliente de armazenamento, incluindo .NET, C++, Java, Android, Node.js, PHP, Python e Ruby.</span><span class="sxs-lookup"><span data-stu-id="72b14-164">You can copy blob or file data tooand from blob storage or between storage accounts using our rich set of Storage Client Libraries including .NET, C++, Java, Android, Node.js, PHP, Python, and Ruby.</span></span>

<span data-ttu-id="72b14-165">toolearn mais, visite nosso [Introdução ao armazenamento de BLOBs do Azure usando o .NET](storage-dotnet-how-to-use-blobs.md).</span><span class="sxs-lookup"><span data-stu-id="72b14-165">toolearn more, please visit our [Get started with Azure Blob storage using .NET](storage-dotnet-how-to-use-blobs.md).</span></span>

#### <a name="using-a-storage-explorer"></a><span data-ttu-id="72b14-166">Como usar o Gerenciador de Armazenamento</span><span class="sxs-lookup"><span data-stu-id="72b14-166">Using a Storage Explorer</span></span>
<span data-ttu-id="72b14-167">Você pode usar contas de armazenamento de armazenamento explorer toocreate, carregar e baixar os dados, exibir o conteúdo dos blobs e navegar pelos diretórios.</span><span class="sxs-lookup"><span data-stu-id="72b14-167">You can use a Storage explorer toocreate storage accounts, upload and download data, view contents of blobs, and navigate through directories.</span></span> <span data-ttu-id="72b14-168">Você pode usar uma dessas contas de armazenamento tooyour tooupload blobs com criptografia ativada.</span><span class="sxs-lookup"><span data-stu-id="72b14-168">You can use one of these tooupload blobs tooyour storage account with encryption enabled.</span></span> <span data-ttu-id="72b14-169">Com alguns gerenciadores de armazenamento, você também pode copiar dados de blob tooa outro contêiner de armazenamento existente na conta de armazenamento hello ou uma nova conta de armazenamento que tem SSE habilitado.</span><span class="sxs-lookup"><span data-stu-id="72b14-169">With some storage explorers, you can also copy data from existing blob storage tooa different container in hello storage account or a new storage account that has SSE enabled.</span></span>

<span data-ttu-id="72b14-170">toolearn mais, visite [gerenciadores de armazenamento do Azure](storage-explorers.md).</span><span class="sxs-lookup"><span data-stu-id="72b14-170">toolearn more, please visit [Azure Storage Explorers](storage-explorers.md).</span></span>

### <a name="step-4-query-hello-status-of-hello-encrypted-data"></a><span data-ttu-id="72b14-171">Etapa 4: Consultar o status de saudação do hello os dados criptografados</span><span class="sxs-lookup"><span data-stu-id="72b14-171">Step 4: Query hello status of hello encrypted data</span></span>
<span data-ttu-id="72b14-172">Uma versão atualizada de bibliotecas de saudação do cliente de armazenamento foi implantada e permite que você tooquery estado de saudação do toodetermine objeto se ele está criptografado ou não.</span><span class="sxs-lookup"><span data-stu-id="72b14-172">An updated version of hello Storage Client libraries has been deployed that allows you tooquery hello state of an object toodetermine if it is encrypted or not.</span></span> <span data-ttu-id="72b14-173">Disponível apenas para armazenamento de blobs.</span><span class="sxs-lookup"><span data-stu-id="72b14-173">This is currently only available for Blob storage.</span></span> <span data-ttu-id="72b14-174">Suporte para armazenamento de arquivos é no roteiro hello.</span><span class="sxs-lookup"><span data-stu-id="72b14-174">Support for File storage is on hello roadmap.</span></span> 

<span data-ttu-id="72b14-175">Olá enquanto isso, você pode chamar [obter propriedades de conta](https://msdn.microsoft.com/library/azure/mt163553.aspx) tooverify que Olá conta de armazenamento tem criptografia habilitada ou Olá propriedades de conta de armazenamento no portal do Azure de saudação do modo de exibição.</span><span class="sxs-lookup"><span data-stu-id="72b14-175">In hello meantime, you can call [Get Account Properties](https://msdn.microsoft.com/library/azure/mt163553.aspx) tooverify that hello storage account has encryption enabled or view hello storage account properties in hello Azure portal.</span></span>

## <a name="encryption-and-decryption-workflow"></a><span data-ttu-id="72b14-176">Fluxo de trabalho da criptografia e da descriptografia</span><span class="sxs-lookup"><span data-stu-id="72b14-176">Encryption and Decryption Workflow</span></span>
<span data-ttu-id="72b14-177">Aqui está uma breve descrição do fluxo de trabalho de criptografia/descriptografia hello:</span><span class="sxs-lookup"><span data-stu-id="72b14-177">Here is a brief description of hello encryption/decryption workflow:</span></span>

* <span data-ttu-id="72b14-178">Prezado cliente habilita a criptografia na conta de armazenamento hello.</span><span class="sxs-lookup"><span data-stu-id="72b14-178">hello customer enables encryption on hello storage account.</span></span>
* <span data-ttu-id="72b14-179">Quando o cliente Olá grava novos tooBlob de dados (Blob PUT, coloque o bloco, PUT Page, colocar arquivos etc.) ou o armazenamento de arquivos; todas as gravações são criptografadas por meio de 256 bits [criptografia AES](https://en.wikipedia.org/wiki/Advanced_Encryption_Standard), um bloqueio mais forte Olá codificações disponíveis.</span><span class="sxs-lookup"><span data-stu-id="72b14-179">When hello customer writes new data (PUT Blob, PUT Block, PUT Page, PUT File etc.) tooBlob or File storage; every write is encrypted using 256-bit [AES encryption](https://en.wikipedia.org/wiki/Advanced_Encryption_Standard), one of hello strongest block ciphers available.</span></span>
* <span data-ttu-id="72b14-180">Quando o cliente Olá precisa de dados de tooaccess (obter Blob, etc.), os dados são automaticamente descriptografados antes de retornar o usuário toohello.</span><span class="sxs-lookup"><span data-stu-id="72b14-180">When hello customer needs tooaccess data (GET Blob, etc.), data is automatically decrypted before returning toohello user.</span></span>
* <span data-ttu-id="72b14-181">Se a criptografia está desabilitada, novas gravações não são criptografadas e dados criptografados existentes permanecem criptografados até que recriado pelo usuário hello.</span><span class="sxs-lookup"><span data-stu-id="72b14-181">If encryption is disabled, new writes are no longer encrypted and existing encrypted data remains encrypted until rewritten by hello user.</span></span> <span data-ttu-id="72b14-182">Embora a criptografia estiver habilitada, grava tooBlob ou armazenamento de arquivos será criptografado.</span><span class="sxs-lookup"><span data-stu-id="72b14-182">While encryption is enabled, writes tooBlob or File storage will be encrypted.</span></span> <span data-ttu-id="72b14-183">estado Olá dos dados não é alterada com usuário Olá alternando entre a habilitação e desabilitação de criptografia para a conta de armazenamento hello.</span><span class="sxs-lookup"><span data-stu-id="72b14-183">hello state of data does not change with hello user toggling between enabling/disabling encryption for hello storage account.</span></span>
* <span data-ttu-id="72b14-184">Todas as chaves de criptografia são armazenadas, criptografadas e gerenciadas pela Microsoft.</span><span class="sxs-lookup"><span data-stu-id="72b14-184">All encryption keys are stored, encrypted, and managed by Microsoft.</span></span>

## <a name="frequently-asked-questions-about-storage-service-encryption-for-data-at-rest"></a><span data-ttu-id="72b14-185">Perguntas frequentes sobre a Criptografia do Serviço de Armazenamento de dados em repouso</span><span class="sxs-lookup"><span data-stu-id="72b14-185">Frequently asked questions about Storage Service Encryption for Data at Rest</span></span>
<span data-ttu-id="72b14-186">**P: Tenho uma conta de armazenamento clássica. Posso habilitar o SSE nela?**</span><span class="sxs-lookup"><span data-stu-id="72b14-186">**Q: I have an existing classic storage account. Can I enable SSE on it?**</span></span>

<span data-ttu-id="72b14-187">R: Não, apenas contas de armazenamento do Resource Manager dão suporte à SSE.</span><span class="sxs-lookup"><span data-stu-id="72b14-187">A: No, SSE is only supported on Resource Manager storage accounts.</span></span>

<span data-ttu-id="72b14-188">**P: Como posso criptografar os dados em minha conta de armazenamento clássica?**</span><span class="sxs-lookup"><span data-stu-id="72b14-188">**Q: How can I encrypt data in my classic storage account?**</span></span>

<span data-ttu-id="72b14-189">R: você pode criar uma nova conta de armazenamento do Gerenciador de recursos e copie seus dados usando [AzCopy](storage-use-azcopy.md) de sua conta de armazenamento clássicos existentes tooyour recentemente criado a conta de armazenamento do Gerenciador de recursos.</span><span class="sxs-lookup"><span data-stu-id="72b14-189">A: You can create a new Resource Manager storage account and copy your data using [AzCopy](storage-use-azcopy.md) from your existing classic storage account tooyour newly created Resource Manager storage account.</span></span> 

<span data-ttu-id="72b14-190">Se você migrar sua conta de armazenamento clássicas tooa conta de armazenamento do Gerenciador de recursos, esta operação é instantânea, ele altera o tipo de saudação da sua conta, mas não afeta os dados existentes.</span><span class="sxs-lookup"><span data-stu-id="72b14-190">If you migrate your classic storage account tooa Resource Manager storage account, this operation is instantaneous, it changes hello type of your account but does not effect your existing data.</span></span> <span data-ttu-id="72b14-191">Todos os novos dados gravados serão criptografados somente depois que a criptografia for habilitada.</span><span class="sxs-lookup"><span data-stu-id="72b14-191">Any new data written will be encrypted only after enabling encryption.</span></span> <span data-ttu-id="72b14-192">Para obter mais informações, consulte [plataforma com suporte de IaaS recursos de migração de clássico tooResource Manager](https://azure.microsoft.com/blog/iaas-migration-classic-resource-manager/).</span><span class="sxs-lookup"><span data-stu-id="72b14-192">For more information, see [Platform Supported Migration of IaaS Resources from Classic tooResource Manager](https://azure.microsoft.com/blog/iaas-migration-classic-resource-manager/).</span></span> <span data-ttu-id="72b14-193">Observe que há suporte para isso apenas nos serviços Blob e Arquivo.</span><span class="sxs-lookup"><span data-stu-id="72b14-193">Please note that this is supported only for Blob and File services.</span></span>

<span data-ttu-id="72b14-194">**P: posso ter uma conta de armazenamento do Resource Manager existente. Posso habilitar o SSE nela?**</span><span class="sxs-lookup"><span data-stu-id="72b14-194">**Q: I have an existing Resource Manager storage account. Can I enable SSE on it?**</span></span>

<span data-ttu-id="72b14-195">R: Sim, mas apenas dados gravados recentemente serão criptografados.</span><span class="sxs-lookup"><span data-stu-id="72b14-195">A: Yes, but only newly written data will be encrypted.</span></span> <span data-ttu-id="72b14-196">Ela não criptografa dados que já existiam anteriormente.</span><span class="sxs-lookup"><span data-stu-id="72b14-196">It does not go back and encrypt data that was already present.</span></span> <span data-ttu-id="72b14-197">Isso ainda não é suportado para Olá visualização do armazenamento de arquivo.</span><span class="sxs-lookup"><span data-stu-id="72b14-197">This is not yet supported for hello File Storage Preview.</span></span>

<span data-ttu-id="72b14-198">**P: eu gostaria que os dados atuais do hello tooencrypt em uma conta de armazenamento do Gerenciador de recursos existente?**</span><span class="sxs-lookup"><span data-stu-id="72b14-198">**Q: I would like tooencrypt hello current data in an existing Resource Manager storage account?**</span></span>

<span data-ttu-id="72b14-199">R: Você pode habilitar a SSE a qualquer momento em uma conta de armazenamento do Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="72b14-199">A: You can enable SSE at any time in a Resource Manager storage account.</span></span> <span data-ttu-id="72b14-200">No entanto, dados que já existiam não serão criptografados.</span><span class="sxs-lookup"><span data-stu-id="72b14-200">However, data that were already present will not be encrypted.</span></span> <span data-ttu-id="72b14-201">tooencrypt os dados existentes, você pode copiá-los tooanother nome ou outro contêiner e, em seguida, remover versões Olá sem criptografia.</span><span class="sxs-lookup"><span data-stu-id="72b14-201">tooencrypt existing data, you can copy them tooanother name or another container and then remove hello unencrypted versions.</span></span>

<span data-ttu-id="72b14-202">**P: Estou usando o armazenamento Premium. Posso usar o SSE?**</span><span class="sxs-lookup"><span data-stu-id="72b14-202">**Q: I'm using Premium storage; can I use SSE?**</span></span>

<span data-ttu-id="72b14-203">R: Sim, o SSE recebe suporte no Armazenamento Standard e no Armazenamento Premium.</span><span class="sxs-lookup"><span data-stu-id="72b14-203">A: Yes, SSE is supported on both Standard Storage and Premium Storage.</span></span>  <span data-ttu-id="72b14-204">Armazenamento Premium não há suporte para Olá serviço de arquivo.</span><span class="sxs-lookup"><span data-stu-id="72b14-204">Premium Storage is not supported for hello File Service.</span></span>

<span data-ttu-id="72b14-205">**P: Se eu criar uma nova conta de armazenamento, habilitar o SSE e depois criar uma nova VM usando a conta de armazenamento, isso significa que minha VM está criptografada?**</span><span class="sxs-lookup"><span data-stu-id="72b14-205">**Q: If I create a new storage account and enable SSE, then create a new VM using that storage account, does that mean my VM is encrypted?**</span></span>

<span data-ttu-id="72b14-206">R: Sim.</span><span class="sxs-lookup"><span data-stu-id="72b14-206">A: Yes.</span></span> <span data-ttu-id="72b14-207">Todos os discos criados que usam a nova conta de armazenamento hello serão criptografados, desde que eles são criados depois SSE está habilitado.</span><span class="sxs-lookup"><span data-stu-id="72b14-207">Any disks created that use hello new storage account will be encrypted, as long as they are created after SSE is enabled.</span></span> <span data-ttu-id="72b14-208">Se Olá que VM foi criada usando o Azure Marketplace, imagem base do VHD Olá permanecerá não criptografada; No entanto, gravações feitas depois Olá VM girado backup serão criptografadas.</span><span class="sxs-lookup"><span data-stu-id="72b14-208">If hello VM was created using Azure Market Place, hello VHD base image will remain unencrypted; however, any writes done after hello VM has spun up will be encrypted.</span></span>

<span data-ttu-id="72b14-209">**P: Posso criar novas contas de armazenamento com o SSE habilitado usando o Azure PowerShell e a CLI do Azure?**</span><span class="sxs-lookup"><span data-stu-id="72b14-209">**Q: Can I create new storage accounts with SSE enabled using Azure PowerShell and Azure CLI?**</span></span>

<span data-ttu-id="72b14-210">R: Sim.</span><span class="sxs-lookup"><span data-stu-id="72b14-210">A: Yes.</span></span>

<span data-ttu-id="72b14-211">**P: Há algum custo adicional no Armazenamento do Azure se o SSE estiver habilitado?**</span><span class="sxs-lookup"><span data-stu-id="72b14-211">**Q: How much more does Azure Storage cost if SSE is enabled?**</span></span>

<span data-ttu-id="72b14-212">R: Não há qualquer custo adicional.</span><span class="sxs-lookup"><span data-stu-id="72b14-212">A: There is no additional cost.</span></span>

<span data-ttu-id="72b14-213">**P: que gerencia chaves de criptografia Olá?**</span><span class="sxs-lookup"><span data-stu-id="72b14-213">**Q: Who manages hello encryption keys?**</span></span>

<span data-ttu-id="72b14-214">R: Olá chaves são gerenciadas pela Microsoft.</span><span class="sxs-lookup"><span data-stu-id="72b14-214">A: hello keys are managed by Microsoft.</span></span>

<span data-ttu-id="72b14-215">**P: Posso usar minhas próprias chaves de criptografia?**</span><span class="sxs-lookup"><span data-stu-id="72b14-215">**Q: Can I use my own encryption keys?**</span></span>

<span data-ttu-id="72b14-216">R: estamos trabalhando em fornecer recursos para os clientes toobring suas próprias chaves de criptografia.</span><span class="sxs-lookup"><span data-stu-id="72b14-216">A: We are working on providing capabilities for customers toobring their own encryption keys.</span></span>

<span data-ttu-id="72b14-217">**P: pode revogar o acesso chaves de criptografia de toohello?**</span><span class="sxs-lookup"><span data-stu-id="72b14-217">**Q: Can I revoke access toohello encryption keys?**</span></span>

<span data-ttu-id="72b14-218">R: não no momento; chaves de saudação são totalmente gerenciadas pela Microsoft.</span><span class="sxs-lookup"><span data-stu-id="72b14-218">A: Not at this time; hello keys are fully managed by Microsoft.</span></span>

<span data-ttu-id="72b14-219">**P: O SSE é habilitado por padrão quando eu crio uma nova conta de armazenamento?**</span><span class="sxs-lookup"><span data-stu-id="72b14-219">**Q: Is SSE enabled by default when I create a new storage account?**</span></span>

<span data-ttu-id="72b14-220">R: SSE não está habilitado por padrão. Você pode usar o hello tooenable portal do Azure-lo.</span><span class="sxs-lookup"><span data-stu-id="72b14-220">A: SSE is not enabled by default; you can use hello Azure portal tooenable it.</span></span> <span data-ttu-id="72b14-221">Também por meio de programação, você pode habilitar esse recurso usando Olá API de REST do provedor de recursos de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="72b14-221">You can also programmatically enable this feature using hello Storage Resource Provider REST API.</span></span>

<span data-ttu-id="72b14-222">**P: Qual é a diferença para o Azure Disk Encryption?**</span><span class="sxs-lookup"><span data-stu-id="72b14-222">**Q: How is this different from Azure Disk Encryption?**</span></span>

<span data-ttu-id="72b14-223">R: esse recurso é usado tooencrypt dados no armazenamento de BLOBs do Azure.</span><span class="sxs-lookup"><span data-stu-id="72b14-223">A: This feature is used tooencrypt data in Azure Blob storage.</span></span> <span data-ttu-id="72b14-224">Olá criptografia de disco do Azure é usado tooencrypt SO e discos de dados em VMs de IaaS.</span><span class="sxs-lookup"><span data-stu-id="72b14-224">hello Azure Disk Encryption is used tooencrypt OS and Data disks in IaaS VMs.</span></span> <span data-ttu-id="72b14-225">Para obter mais detalhes, visite nosso [Guia de segurança do armazenamento](storage-security-guide.md).</span><span class="sxs-lookup"><span data-stu-id="72b14-225">For more details, please visit our [Storage Security Guide](storage-security-guide.md).</span></span>

<span data-ttu-id="72b14-226">**P: E se eu habilitar SSE e, em seguida, entrar e habilitar a criptografia de disco do Azure em discos Olá?**</span><span class="sxs-lookup"><span data-stu-id="72b14-226">**Q: What if I enable SSE, and then go in and enable Azure Disk Encryption on hello disks?**</span></span>

<span data-ttu-id="72b14-227">R: Isso funcionará perfeitamente.</span><span class="sxs-lookup"><span data-stu-id="72b14-227">A: This will work seamlessly.</span></span> <span data-ttu-id="72b14-228">Os dados serão criptografados pelos dois métodos.</span><span class="sxs-lookup"><span data-stu-id="72b14-228">Your data will be encrypted by both methods.</span></span>

<span data-ttu-id="72b14-229">**P: minha conta de armazenamento é configurada toobe replicado geograficamente redundante. Se eu habilitar o SSE, minha cópia redundante também será criptografada?**</span><span class="sxs-lookup"><span data-stu-id="72b14-229">**Q: My storage account is set up toobe replicated geo-redundantly. If I enable SSE, will my redundant copy also be encrypted?**</span></span>

<span data-ttu-id="72b14-230">R: Sim, todas as cópias da conta de armazenamento Olá são criptografadas e todas as opções de redundância – armazenamento localmente redundante (LRS), armazenamento redundante de zona (ZRS), armazenamento com redundância geográfica (GRS) e armazenamento com redundância geográfica de acesso de leitura (RA-GRS) – têm suporte.</span><span class="sxs-lookup"><span data-stu-id="72b14-230">A: Yes, all copies of hello storage account are encrypted, and all redundancy options – Locally Redundant Storage (LRS), Zone-Redundant Storage (ZRS), Geo-Redundant Storage (GRS), and Read Access Geo-Redundant Storage (RA-GRS) – are supported.</span></span>

<span data-ttu-id="72b14-231">**P: Não consigo habilitar a criptografia em minha conta de armazenamento.**</span><span class="sxs-lookup"><span data-stu-id="72b14-231">**Q: I can't enable encryption on my storage account.**</span></span>

<span data-ttu-id="72b14-232">R: A conta é uma conta de armazenamento do Resource Manager?</span><span class="sxs-lookup"><span data-stu-id="72b14-232">A: Is it a Resource Manager storage account?</span></span> <span data-ttu-id="72b14-233">Não há suporte para contas de armazenamento clássicas.</span><span class="sxs-lookup"><span data-stu-id="72b14-233">Classic storage accounts are not supported.</span></span> 

<span data-ttu-id="72b14-234">**P: A SSE é permitida somente em regiões específicas?**</span><span class="sxs-lookup"><span data-stu-id="72b14-234">**Q: Is SSE only permitted in specific regions?**</span></span>

<span data-ttu-id="72b14-235">R: Olá SSE está disponível em todas as regiões para armazenamento de Blob.</span><span class="sxs-lookup"><span data-stu-id="72b14-235">A: hello SSE is available in all regions for Blob storage.</span></span> <span data-ttu-id="72b14-236">Verifique se o hello seção de disponibilidade para o armazenamento de arquivos.</span><span class="sxs-lookup"><span data-stu-id="72b14-236">Please check hello Availability Section for File storage.</span></span> 

<span data-ttu-id="72b14-237">**P: como contatar alguém se eu tiver problemas ou quiser tooprovide comentários?**</span><span class="sxs-lookup"><span data-stu-id="72b14-237">**Q: How do I contact someone if I have any issues or want tooprovide feedback?**</span></span>

<span data-ttu-id="72b14-238">R: entre em contato com [ ssediscussions@microsoft.com ](mailto:ssediscussions@microsoft.com) para qualquer problema relacionado a tooStorage criptografia do serviço.</span><span class="sxs-lookup"><span data-stu-id="72b14-238">A: Please contact [ssediscussions@microsoft.com](mailto:ssediscussions@microsoft.com) for any issues related tooStorage Service Encryption.</span></span>

## <a name="next-steps"></a><span data-ttu-id="72b14-239">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="72b14-239">Next Steps</span></span>
<span data-ttu-id="72b14-240">Armazenamento do Azure fornece um conjunto abrangente de recursos de segurança que juntos permitem que os desenvolvedores de aplicativos seguros toobuild.</span><span class="sxs-lookup"><span data-stu-id="72b14-240">Azure Storage provides a comprehensive set of security capabilities which together enable developers toobuild secure applications.</span></span> <span data-ttu-id="72b14-241">Para obter mais detalhes, visite Olá [guia de segurança do armazenamento](storage-security-guide.md).</span><span class="sxs-lookup"><span data-stu-id="72b14-241">For more details, visit hello [Storage Security Guide](storage-security-guide.md).</span></span>

