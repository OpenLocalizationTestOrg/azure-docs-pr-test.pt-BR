---
title: "aaaRepairing um trabalho de importação de importação/exportação do Azure - v1 | Microsoft Docs"
description: "Saiba como toorepair um trabalho de importação foi criado e executado usando Olá importação/exportação do Azure service."
author: muralikk
manager: syadav
editor: tysonn
services: storage
documentationcenter: 
ms.assetid: 38cc16bd-ad55-4625-9a85-e1726c35fd1b
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/23/2017
ms.author: muralikk
ms.openlocfilehash: a9ed81f50cffd8ae6e0cb21b25a04815c2b51ee5
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="repairing-an-import-job"></a><span data-ttu-id="035d9-103">Reparação de um trabalho de importação</span><span class="sxs-lookup"><span data-stu-id="035d9-103">Repairing an import job</span></span>
<span data-ttu-id="035d9-104">Olá serviço de importação/exportação do Microsoft Azure pode falhar toocopy alguns dos arquivos ou partes de um arquivo de toohello serviço Blob do Windows Azure.</span><span class="sxs-lookup"><span data-stu-id="035d9-104">hello Microsoft Azure Import/Export service may fail toocopy some of your files or parts of a file toohello Windows Azure Blob service.</span></span> <span data-ttu-id="035d9-105">Alguns motivos para as falhas incluem:</span><span class="sxs-lookup"><span data-stu-id="035d9-105">Some reasons for failures include:</span></span>  
  
-   <span data-ttu-id="035d9-106">Arquivos corrompidos</span><span class="sxs-lookup"><span data-stu-id="035d9-106">Corrupted files</span></span>  
  
-   <span data-ttu-id="035d9-107">Unidades danificadas</span><span class="sxs-lookup"><span data-stu-id="035d9-107">Damaged drives</span></span>  
  
-   <span data-ttu-id="035d9-108">chave de conta de armazenamento Olá alterado enquanto estava sendo transferido arquivo hello.</span><span class="sxs-lookup"><span data-stu-id="035d9-108">hello storage account key changed while hello file was being transferred.</span></span>  
  
<span data-ttu-id="035d9-109">Olá, ferramenta de importação/exportação do Microsoft Azure pode ser executado com a importação de saudação arquivos de log de cópia do trabalho e ferramenta de saudação carregará arquivos ausentes hello (ou partes de um arquivo) o trabalho de importação do tooyour do Windows Azure storage conta toocomplete.</span><span class="sxs-lookup"><span data-stu-id="035d9-109">You can run hello Microsoft Azure Import/Export Tool with hello import job's copy log files, and hello tool will upload hello missing files (or parts of a file) tooyour Windows Azure storage account toocomplete import job.</span></span>  
  
## <a name="repairimport-parameters"></a><span data-ttu-id="035d9-110">Parâmetros de RepairImport</span><span class="sxs-lookup"><span data-stu-id="035d9-110">RepairImport parameters</span></span>

<span data-ttu-id="035d9-111">Olá parâmetros a seguir podem ser especificados com **RepairImport**:</span><span class="sxs-lookup"><span data-stu-id="035d9-111">hello following parameters can be specified with **RepairImport**:</span></span> 
  
|||  
|-|-|  
|<span data-ttu-id="035d9-112">**/r:**<RepairFile\></span><span class="sxs-lookup"><span data-stu-id="035d9-112">**/r:**<RepairFile\></span></span>|<span data-ttu-id="035d9-113">**Obrigatório.**</span><span class="sxs-lookup"><span data-stu-id="035d9-113">**Required.**</span></span> <span data-ttu-id="035d9-114">Arquivo de reparo do toohello de caminho, que controla o progresso de saudação de reparo do hello e permite que você tooresume um reparo interrompido.</span><span class="sxs-lookup"><span data-stu-id="035d9-114">Path toohello repair file, which tracks hello progress of hello repair, and allows you tooresume an interrupted repair.</span></span> <span data-ttu-id="035d9-115">Cada unidade deve ter um, e somente um, arquivo de reparo.</span><span class="sxs-lookup"><span data-stu-id="035d9-115">Each drive must have one and only one repair file.</span></span> <span data-ttu-id="035d9-116">Quando você inicia um reparo para uma determinada unidade, passará no hello caminho tooa arquivo de reparo que ainda não existe.</span><span class="sxs-lookup"><span data-stu-id="035d9-116">When you start a repair for a given drive, you will pass in hello path tooa repair file which does not yet exist.</span></span> <span data-ttu-id="035d9-117">tooresume um reparo interrompido, você deve passar no nome de saudação de um arquivo de reparo existente.</span><span class="sxs-lookup"><span data-stu-id="035d9-117">tooresume an interrupted repair, you should pass in hello name of an existing repair file.</span></span> <span data-ttu-id="035d9-118">unidade de destino do Hello reparo arquivo correspondente toohello sempre deve ser especificada.</span><span class="sxs-lookup"><span data-stu-id="035d9-118">hello repair file corresponding toohello target drive must always be specified.</span></span>|  
|<span data-ttu-id="035d9-119">**/logdir:**<LogDirectory\></span><span class="sxs-lookup"><span data-stu-id="035d9-119">**/logdir:**<LogDirectory\></span></span>|<span data-ttu-id="035d9-120">**Opcional**</span><span class="sxs-lookup"><span data-stu-id="035d9-120">**Optional.**</span></span> <span data-ttu-id="035d9-121">diretório de log Hello.</span><span class="sxs-lookup"><span data-stu-id="035d9-121">hello log directory.</span></span> <span data-ttu-id="035d9-122">Arquivos de log detalhados serão gravados toothis directory.</span><span class="sxs-lookup"><span data-stu-id="035d9-122">Verbose log files will be written toothis directory.</span></span> <span data-ttu-id="035d9-123">Se nenhum diretório de log for especificado, diretório atual Olá será usado como diretório de log hello.</span><span class="sxs-lookup"><span data-stu-id="035d9-123">If no log directory is specified, hello current directory will be used as hello log directory.</span></span>|  
|<span data-ttu-id="035d9-124">**/d:**<TargetDirectories\></span><span class="sxs-lookup"><span data-stu-id="035d9-124">**/d:**<TargetDirectories\></span></span>|<span data-ttu-id="035d9-125">**Obrigatório.**</span><span class="sxs-lookup"><span data-stu-id="035d9-125">**Required.**</span></span> <span data-ttu-id="035d9-126">Um ou mais diretórios de separados por ponto e vírgula que contenham Olá arquivos originais que foram importados.</span><span class="sxs-lookup"><span data-stu-id="035d9-126">One or more semicolon-separated directories that contain hello original files that were imported.</span></span> <span data-ttu-id="035d9-127">unidade de importação de saudação também pode ser usada, mas não será necessária se locais alternativos dos arquivos originais estão disponíveis.</span><span class="sxs-lookup"><span data-stu-id="035d9-127">hello import drive may also be used, but is not required if alternate locations of original files are available.</span></span>|  
|<span data-ttu-id="035d9-128">**/bk:**<BitLockerKey\></span><span class="sxs-lookup"><span data-stu-id="035d9-128">**/bk:**<BitLockerKey\></span></span>|<span data-ttu-id="035d9-129">**Opcional**</span><span class="sxs-lookup"><span data-stu-id="035d9-129">**Optional.**</span></span> <span data-ttu-id="035d9-130">Você deve especificar a chave do BitLocker Olá se você quiser Olá ferramenta toounlock uma unidade criptografada onde os arquivos originais Olá estão disponíveis.</span><span class="sxs-lookup"><span data-stu-id="035d9-130">You should specify hello BitLocker key if you want hello tool toounlock an encrypted drive where hello original files are available.</span></span>|  
|<span data-ttu-id="035d9-131">**/sn:**<StorageAccountName\></span><span class="sxs-lookup"><span data-stu-id="035d9-131">**/sn:**<StorageAccountName\></span></span>|<span data-ttu-id="035d9-132">**Obrigatório.**</span><span class="sxs-lookup"><span data-stu-id="035d9-132">**Required.**</span></span> <span data-ttu-id="035d9-133">nome de Olá Olá da conta de armazenamento para Olá o trabalho de importação.</span><span class="sxs-lookup"><span data-stu-id="035d9-133">hello name of hello storage account for hello import job.</span></span>|  
|<span data-ttu-id="035d9-134">**/sk:**<StorageAccountKey\></span><span class="sxs-lookup"><span data-stu-id="035d9-134">**/sk:**<StorageAccountKey\></span></span>|<span data-ttu-id="035d9-135">**Necessário** somente se uma SAS do contêiner não for especificada.</span><span class="sxs-lookup"><span data-stu-id="035d9-135">**Required** if and only if a container SAS is not specified.</span></span> <span data-ttu-id="035d9-136">chave de conta Olá para conta de armazenamento Olá Olá o trabalho de importação.</span><span class="sxs-lookup"><span data-stu-id="035d9-136">hello account key for hello storage account for hello import job.</span></span>|  
|<span data-ttu-id="035d9-137">**/csas:**<ContainerSas\></span><span class="sxs-lookup"><span data-stu-id="035d9-137">**/csas:**<ContainerSas\></span></span>|<span data-ttu-id="035d9-138">**Necessário** se e somente se Olá chave de conta de armazenamento não for especificada.</span><span class="sxs-lookup"><span data-stu-id="035d9-138">**Required** if and only if hello storage account key is not specified.</span></span> <span data-ttu-id="035d9-139">Olá SAS do contêiner para acessar blobs Olá associados ao trabalho de importação de saudação.</span><span class="sxs-lookup"><span data-stu-id="035d9-139">hello container SAS for accessing hello blobs associated with hello import job.</span></span>|  
|<span data-ttu-id="035d9-140">**/CopyLogFile:**<DriveCopyLogFile\></span><span class="sxs-lookup"><span data-stu-id="035d9-140">**/CopyLogFile:**<DriveCopyLogFile\></span></span>|<span data-ttu-id="035d9-141">**Obrigatório.**</span><span class="sxs-lookup"><span data-stu-id="035d9-141">**Required.**</span></span> <span data-ttu-id="035d9-142">Caminho toohello unidade copiar arquivo de log (log detalhado ou log de erros).</span><span class="sxs-lookup"><span data-stu-id="035d9-142">Path toohello drive copy log file (either verbose log or error log).</span></span> <span data-ttu-id="035d9-143">arquivo Hello é gerado pelo Olá serviço de importação/exportação do Windows Azure e pode ser baixado do armazenamento de blob Olá associado ao trabalho hello.</span><span class="sxs-lookup"><span data-stu-id="035d9-143">hello file is generated by hello Windows Azure Import/Export service and can be downloaded from hello blob storage associated with hello job.</span></span> <span data-ttu-id="035d9-144">arquivo de log de cópia Olá contém informações sobre blobs com falha ou arquivos que são toobe reparado.</span><span class="sxs-lookup"><span data-stu-id="035d9-144">hello copy log file contains information about failed blobs or files which are toobe repaired.</span></span>|  
|<span data-ttu-id="035d9-145">**/PathMapFile:**<DrivePathMapFile\></span><span class="sxs-lookup"><span data-stu-id="035d9-145">**/PathMapFile:**<DrivePathMapFile\></span></span>|<span data-ttu-id="035d9-146">**Opcional**</span><span class="sxs-lookup"><span data-stu-id="035d9-146">**Optional.**</span></span> <span data-ttu-id="035d9-147">Arquivo de texto do caminho tooa que pode ser usado tooresolve ambiguidades se você tiver vários arquivos com hello mesmo nome que foram importados no hello mesmo trabalho.</span><span class="sxs-lookup"><span data-stu-id="035d9-147">Path tooa text file that can be used tooresolve ambiguities if you have multiple files with hello same name that you were importing in hello same job.</span></span> <span data-ttu-id="035d9-148">Olá primeiro tempo Olá ferramenta é executada, ela pode preencher este arquivo com todos os nomes ambíguos hello.</span><span class="sxs-lookup"><span data-stu-id="035d9-148">hello first time hello tool is run, it can populate this file with all of hello ambiguous names.</span></span> <span data-ttu-id="035d9-149">Execuções subsequentes da ferramenta Olá usará esse ambiguidades de saudação do arquivo tooresolve.</span><span class="sxs-lookup"><span data-stu-id="035d9-149">Subsequent runs of hello tool will use this file tooresolve hello ambiguities.</span></span>|  
  
## <a name="using-hello-repairimport-command"></a><span data-ttu-id="035d9-150">Usando o comando RepairImport de saudação</span><span class="sxs-lookup"><span data-stu-id="035d9-150">Using hello RepairImport command</span></span>  
<span data-ttu-id="035d9-151">toorepair importar dados por fluxo de dados de saudação pela rede hello, você deve especificar diretórios de saudação que contêm Olá arquivos originais que você estava importando usando Olá `/d` parâmetro.</span><span class="sxs-lookup"><span data-stu-id="035d9-151">toorepair import data by streaming hello data over hello network, you must specify hello directories that contain hello original files you were importing using hello `/d` parameter.</span></span> <span data-ttu-id="035d9-152">Você também deve especificar o arquivo de log de cópia de saudação que você baixou da conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="035d9-152">You must also specify hello copy log file that you downloaded from your storage account.</span></span> <span data-ttu-id="035d9-153">Uma linha de comando típica toorepair um trabalho de importação com falhas parciais é semelhante a:</span><span class="sxs-lookup"><span data-stu-id="035d9-153">A typical command line toorepair an import job with partial failures looks like:</span></span>  
  
```  
WAImportExport.exe RepairImport /r:C:\WAImportExport\9WM35C2V.rep /d:C:\Users\bob\Pictures;X:\BobBackup\photos /sn:bobmediaaccount /sk:VkGbrUqBWLYJ6zg1m29VOTrxpBgdNOlp+kp0C9MEdx3GELxmBw4hK94f7KysbbeKLDksg7VoN1W/a5UuM2zNgQ== /CopyLogFile:C:\WAImportExport\9WM35C2V.log  
```  
  
<span data-ttu-id="035d9-154">a seguir Olá é um exemplo de um arquivo de log de cópia.</span><span class="sxs-lookup"><span data-stu-id="035d9-154">hello following is an example of a copy log file.</span></span> <span data-ttu-id="035d9-155">Nesse caso, uma parte de 64K de um arquivo foi corrompida na unidade de saudação que foi enviada para o trabalho de importação hello.</span><span class="sxs-lookup"><span data-stu-id="035d9-155">In this case, one 64K piece of a file was corrupted on hello drive that was shipped for hello import job.</span></span> <span data-ttu-id="035d9-156">Como essa é a única falha de saudação indicada, rest Olá de blobs Olá trabalho Olá foram importados com êxito.</span><span class="sxs-lookup"><span data-stu-id="035d9-156">Since this is hello only failure indicated, hello rest of hello blobs in hello job were successfully imported.</span></span>  
  
```xml
<?xml version="1.0" encoding="utf-8"?>  
<DriveLog>  
 <DriveId>9WM35C2V</DriveId>  
 <Blob Status="CompletedWithErrors">  
 <BlobPath>pictures/animals/koala.jpg</BlobPath>  
 <FilePath>\animals\koala.jpg</FilePath>  
 <Length>163840</Length>  
 <ImportDisposition Status="Overwritten">overwrite</ImportDisposition>  
 <PageRangeList>  
  <PageRange Offset="65536" Length="65536" Hash="AA2585F6F6FD01C4AD4256E018240CD4" Status="Corrupted" />  
 </PageRangeList>  
 </Blob>  
 <Status>CompletedWithErrors</Status>  
</DriveLog>  
```
  
<span data-ttu-id="035d9-157">Quando esse log de cópia for passado toohello ferramenta de importação/exportação do Azure, ferramenta Olá tentará toofinish importação Olá desse arquivo copiando o conteúdo ausente Olá pela rede hello.</span><span class="sxs-lookup"><span data-stu-id="035d9-157">When this copy log is passed toohello Azure Import/Export Tool, hello tool will try toofinish hello import for this file by copying hello missing contents across hello network.</span></span> <span data-ttu-id="035d9-158">Seguindo o exemplo hello acima, Olá ferramenta procurará arquivo original Olá `\animals\koala.jpg` nos diretórios de saudação dois `C:\Users\bob\Pictures` e `X:\BobBackup\photos`.</span><span class="sxs-lookup"><span data-stu-id="035d9-158">Following hello example above, hello tool will look for hello original file `\animals\koala.jpg` within hello two directories `C:\Users\bob\Pictures` and `X:\BobBackup\photos`.</span></span> <span data-ttu-id="035d9-159">Se hello arquivo `C:\Users\bob\Pictures\animals\koala.jpg` existir, Olá, ferramenta de importação/exportação do Azure copiará o intervalo de blob correspondente do dados toohello ausente Olá `http://bobmediaaccount.blob.core.windows.net/pictures/animals/koala.jpg`.</span><span class="sxs-lookup"><span data-stu-id="035d9-159">If hello file `C:\Users\bob\Pictures\animals\koala.jpg` exists, hello Azure Import/Export Tool will copy hello missing range of data toohello corresponding blob `http://bobmediaaccount.blob.core.windows.net/pictures/animals/koala.jpg`.</span></span>  
  
## <a name="resolving-conflicts-when-using-repairimport"></a><span data-ttu-id="035d9-160">Resolvendo conflitos ao usar RepairImport</span><span class="sxs-lookup"><span data-stu-id="035d9-160">Resolving conflicts when using RepairImport</span></span>  
<span data-ttu-id="035d9-161">Em algumas situações, a ferramenta de saudação não pode ser capaz de toofind ou arquivo necessário do hello aberto para um dos motivos a seguir de saudação: não foi possível encontrar o arquivo hello, Olá arquivo não está acessível, o nome de arquivo hello é ambíguo ou Olá conteúdo do arquivo hello não está mais correto.</span><span class="sxs-lookup"><span data-stu-id="035d9-161">In some situations, hello tool may not be able toofind or open hello necessary file for one of hello following reasons: hello file could not be found, hello file is not accessible, hello file name is ambiguous, or hello content of hello file is no longer correct.</span></span>  
  
<span data-ttu-id="035d9-162">Um erro ambíguo poderá ocorrer se a ferramenta hello está tentando toolocate `\animals\koala.jpg` e há um arquivo com esse nome em `C:\Users\bob\pictures` e `X:\BobBackup\photos`.</span><span class="sxs-lookup"><span data-stu-id="035d9-162">An ambiguous error could occur if hello tool is trying toolocate `\animals\koala.jpg` and there is a file with that name under both `C:\Users\bob\pictures` and `X:\BobBackup\photos`.</span></span> <span data-ttu-id="035d9-163">Ou seja, ambos `C:\Users\bob\pictures\animals\koala.jpg` e `X:\BobBackup\photos\animals\koala.jpg` existe em unidades de trabalho de importação hello.</span><span class="sxs-lookup"><span data-stu-id="035d9-163">That is, both `C:\Users\bob\pictures\animals\koala.jpg` and `X:\BobBackup\photos\animals\koala.jpg` exist on hello import job drives.</span></span>  
  
<span data-ttu-id="035d9-164">Olá `/PathMapFile` opção permitirá tooresolve esses erros.</span><span class="sxs-lookup"><span data-stu-id="035d9-164">hello `/PathMapFile` option will allow you tooresolve these errors.</span></span> <span data-ttu-id="035d9-165">Você pode especificar o nome de saudação do arquivo de saudação que será contém a lista de saudação de arquivos que Olá ferramenta não foi capaz de identificar toocorrectly.</span><span class="sxs-lookup"><span data-stu-id="035d9-165">You can specify hello name of hello file which will contains hello list of files that hello tool was not able toocorrectly identify.</span></span> <span data-ttu-id="035d9-166">Olá, a seguir é uma linha de comando de exemplo que preenche `9WM35C2V_pathmap.txt`:</span><span class="sxs-lookup"><span data-stu-id="035d9-166">hello following is an example command line that would populate `9WM35C2V_pathmap.txt`:</span></span>  
  
```
WAImportExport.exe RepairImport /r:C:\WAImportExport\9WM35C2V.rep /d:C:\Users\bob\Pictures;X:\BobBackup\photos /sn:bobmediaaccount /sk:VkGbrUqBWLYJ6zg1m29VOTrxpBgdNOlp+kp0C9MEdx3GELxmBw4hK94f7KysbbeKLDksg7VoN1W/a5UuM2zNgQ== /CopyLogFile:C:\WAImportExport\9WM35C2V.log /PathMapFile:C:\WAImportExport\9WM35C2V_pathmap.txt  
```
  
<span data-ttu-id="035d9-167">Olá ferramenta gravará os caminhos de arquivo problemáticos Olá muito`9WM35C2V_pathmap.txt`, um em cada linha.</span><span class="sxs-lookup"><span data-stu-id="035d9-167">hello tool will then write hello problematic file paths too`9WM35C2V_pathmap.txt`, one on each line.</span></span> <span data-ttu-id="035d9-168">Por exemplo, arquivo hello pode conter Olá entradas a seguir depois de executar o comando hello:</span><span class="sxs-lookup"><span data-stu-id="035d9-168">For instance, hello file may contain hello following entries after running hello command:</span></span>  
 
```
\animals\koala.jpg  
\animals\kangaroo.jpg  
```
  
 <span data-ttu-id="035d9-169">Para cada arquivo na lista de hello, você deve tentar toolocate e abra Olá arquivo tooensure é ferramenta toohello disponíveis.</span><span class="sxs-lookup"><span data-stu-id="035d9-169">For each file in hello list, you should attempt toolocate and open hello file tooensure it is available toohello tool.</span></span> <span data-ttu-id="035d9-170">Se desejar que a ferramenta de saudação tootell explicitamente onde toofind um arquivo, você pode modificar caminho Olá mapear o arquivo e adicionar Olá caminho tooeach arquivo em Olá mesma linha, separada por um caractere de tabulação:</span><span class="sxs-lookup"><span data-stu-id="035d9-170">If you wish tootell hello tool explicitly where toofind a file, you can modify hello path map file and add hello path tooeach file on hello same line, separated by a tab character:</span></span>  
  
```
\animals\koala.jpg           C:\Users\bob\Pictures\animals\koala.jpg  
\animals\kangaroo.jpg        X:\BobBackup\photos\animals\kangaroo.jpg  
```
  
<span data-ttu-id="035d9-171">Depois de fazer ferramenta do hello arquivos necessários toohello disponível, ou arquivo de mapa de caminho de atualização hello, você pode executar novamente o processo de importação de saudação do hello ferramenta toocomplete.</span><span class="sxs-lookup"><span data-stu-id="035d9-171">After making hello necessary files available toohello tool, or updating hello path map file, you can rerun hello tool toocomplete hello import process.</span></span>  
  
## <a name="next-steps"></a><span data-ttu-id="035d9-172">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="035d9-172">Next steps</span></span>
 
* [<span data-ttu-id="035d9-173">Configurando Olá ferramenta de importação/exportação do Azure</span><span class="sxs-lookup"><span data-stu-id="035d9-173">Setting Up hello Azure Import/Export Tool</span></span>](storage-import-export-tool-setup-v1.md)   
* [<span data-ttu-id="035d9-174">Preparação de discos rígidos para um trabalho de importação</span><span class="sxs-lookup"><span data-stu-id="035d9-174">Preparing hard drives for an import job</span></span>](storage-import-export-tool-preparing-hard-drives-import-v1.md)   
* [<span data-ttu-id="035d9-175">Revisão do status do trabalho com arquivos de log de cópia</span><span class="sxs-lookup"><span data-stu-id="035d9-175">Reviewing job status with copy log files</span></span>](storage-import-export-tool-reviewing-job-status-v1.md)   
* [<span data-ttu-id="035d9-176">Reparação de um trabalho de exportação</span><span class="sxs-lookup"><span data-stu-id="035d9-176">Repairing an export job</span></span>](storage-import-export-tool-repairing-an-export-job-v1.md)   
* [<span data-ttu-id="035d9-177">Olá, ferramenta de importação/exportação do Azure de solução de problemas</span><span class="sxs-lookup"><span data-stu-id="035d9-177">Troubleshooting hello Azure Import/Export Tool</span></span>](storage-import-export-tool-troubleshooting-v1.md)
