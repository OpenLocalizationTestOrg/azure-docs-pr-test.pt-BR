---
title: "blobs do aaaUsing hello Azure CDN tooaccess com domínios personalizados por HTTPS"
description: "Saiba como blobs toointegrate Olá CDN do Azure com tooaccess de armazenamento de blob com domínios personalizados HTTPS"
services: storage
documentationcenter: 
author: michaelhauss
manager: vamshik
editor: tysonn
ms.assetid: 
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/04/2017
ms.author: mihauss
ms.openlocfilehash: f6cee36ca5495983545f2f6a8ff140677cf6914b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="using-hello-azure-cdn-tooaccess-blobs-with-custom-domains-over-https"></a><span data-ttu-id="1b3b6-103">Usando blobs do hello Azure CDN tooaccess com domínios personalizados por HTTPS</span><span class="sxs-lookup"><span data-stu-id="1b3b6-103">Using hello Azure CDN tooaccess blobs with custom domains over HTTPS</span></span>

<span data-ttu-id="1b3b6-104">A CDN (Rede de Distribuição de Conteúdo) do Azure agora dá suporte a HTTPS para nomes de domínio personalizados.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-104">Azure Content Delivery Network (CDN) now supports HTTPS for custom domain names.</span></span>
<span data-ttu-id="1b3b6-105">Você pode aproveitar os blobs de armazenamento de tooaccess esse recurso usando seu domínio personalizado sobre HTTPS.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-105">You can leverage this feature tooaccess storage blobs using your custom domain over HTTPS.</span></span> <span data-ttu-id="1b3b6-106">toodo assim, você precisará tooenable CDN do Azure no seu blob ponto de extremidade e mapear Olá CDN tooa nome de domínio personalizado.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-106">toodo so, you’ll first need tooenable Azure CDN on your blob endpoint and map hello CDN tooa custom domain name.</span></span> <span data-ttu-id="1b3b6-107">Depois que você seguir essas etapas, habilitar HTTPS para seu domínio personalizado foi simplificada por meio de um botão do mouse, gerenciamento de certificados completo e tudo com nenhum custo adicional toonormal CDN preços.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-107">Once you take these steps, enabling HTTPS for your custom domain is simplified via one-click enablement, complete certificate management, and all with no additional cost toonormal CDN pricing.</span></span>

<span data-ttu-id="1b3b6-108">Essa capacidade é importante porque ela permite que você tooprotect Olá privacidade e integridade dos dados de seus dados de aplicativo web confidenciais em trânsito.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-108">This ability is important because it enables you tooprotect hello privacy and data integrity of your sensitive web application data while in transit.</span></span> <span data-ttu-id="1b3b6-109">Usar o tráfego de tooserve de protocolo hello SSL por HTTPS garante que os dados são criptografados quando ela é enviada pela Olá internet.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-109">Using hello SSL protocol tooserve traffic via HTTPS ensures that data is encrypted when it is sent across hello internet.</span></span> <span data-ttu-id="1b3b6-110">O HTTPS fornece confiabilidade, autenticação e protege seus aplicativos Web contra ataques.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-110">HTTPS provides trust and authentication, and protects your web applications from attacks.</span></span>

> [!NOTE]
> <span data-ttu-id="1b3b6-111">Além disso tooproviding suporte a SSL para nomes de domínio personalizado, Olá CDN do Azure pode ajudar a dimensionar seu conteúdo de alta largura de banda do aplicativo toodeliver em torno de Olá, mundo.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-111">In addition tooproviding SSL support for custom domain names, hello Azure CDN can help you scale your application toodeliver high-bandwidth content around hello world.</span></span>
> <span data-ttu-id="1b3b6-112">toolearn mais, confira [visão geral de saudação do Azure CDN](../../cdn/cdn-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1b3b6-112">toolearn more, check out [Overview of hello Azure CDN](../../cdn/cdn-overview.md).</span></span>
>
>

## <a name="quick-start"></a><span data-ttu-id="1b3b6-113">Início rápido</span><span class="sxs-lookup"><span data-stu-id="1b3b6-113">Quick start</span></span>

<span data-ttu-id="1b3b6-114">Estes são Olá etapas necessárias tooenable HTTPS para o ponto de extremidade de armazenamento de blob personalizado:</span><span class="sxs-lookup"><span data-stu-id="1b3b6-114">These are hello steps required tooenable HTTPS for your custom blob storage endpoint:</span></span>

1.  <span data-ttu-id="1b3b6-115">[Integrar uma conta de armazenamento do Azure com a CDN do Azure](../../cdn/cdn-create-a-storage-account-with-cdn.md).</span><span class="sxs-lookup"><span data-stu-id="1b3b6-115">[Integrate an Azure storage account with Azure CDN](../../cdn/cdn-create-a-storage-account-with-cdn.md).</span></span>
    <span data-ttu-id="1b3b6-116">Este artigo o orienta por meio de criar uma conta de armazenamento no hello Portal do Azure, se você ainda não fez isso.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-116">This article walks you through creating a storage account in hello Azure Portal if you have not done so already.</span></span>
2.  <span data-ttu-id="1b3b6-117">[Domínio personalizado do mapa do Azure CDN tooa conteúdo](../../cdn/cdn-map-content-to-custom-domain.md).</span><span class="sxs-lookup"><span data-stu-id="1b3b6-117">[Map Azure CDN content tooa custom domain](../../cdn/cdn-map-content-to-custom-domain.md).</span></span>
3.  <span data-ttu-id="1b3b6-118">[Habilite HTTPS em um domínio personalizado da CDN do Azure](../../cdn/cdn-custom-ssl.md).</span><span class="sxs-lookup"><span data-stu-id="1b3b6-118">[Enable HTTPS on an Azure CDN custom domain](../../cdn/cdn-custom-ssl.md).</span></span>

## <a name="shared-access-signatures"></a><span data-ttu-id="1b3b6-119">As Assinaturas de Acesso Compartilhado</span><span class="sxs-lookup"><span data-stu-id="1b3b6-119">Shared Access Signatures</span></span>

<span data-ttu-id="1b3b6-120">Se o ponto de extremidade de armazenamento de blob é o acesso de leitura anônimo toodisallow configurado, você precisará tooprovide um [assinatura de acesso compartilhado (SAS)](../common/storage-dotnet-shared-access-signature-part-1.md?toc=%2fazure%2fstorage%2fblobs%2ftoc.json) token em cada solicitação que domínio personalizado tooyour.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-120">If your blob storage endpoint is configured toodisallow anonymous read access, you will need tooprovide a [Shared Access Signature (SAS)](../common/storage-dotnet-shared-access-signature-part-1.md?toc=%2fazure%2fstorage%2fblobs%2ftoc.json) token in each request you make tooyour custom domain.</span></span> <span data-ttu-id="1b3b6-121">Por padrão, os pontos de extremidade de Armazenamento de Blobs não permitem acesso de leitura anônimo.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-121">By default, blob storage endpoints disallow anonymous read access.</span></span> <span data-ttu-id="1b3b6-122">Para obter mais informações sobre assinaturas de acesso compartilhado, veja [Gerenciar acesso de leitura anônimo a contêineres e blobs](storage-manage-access-to-resources.md).</span><span class="sxs-lookup"><span data-stu-id="1b3b6-122">See [Managing anonymous read access to containers and blobs](storage-manage-access-to-resources.md) for more information on shared access signatures.</span></span>

<span data-ttu-id="1b3b6-123">CDN do Azure não respeita qualquer token SAS restrições toohello adicionado.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-123">Azure CDN does not respect any restrictions added toohello SAS token.</span></span> <span data-ttu-id="1b3b6-124">Por exemplo, todos os tokens SAS têm uma hora da expiração.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-124">For example, all SAS tokens have an expiration time.</span></span> <span data-ttu-id="1b3b6-125">Isso significa que o conteúdo ainda pode ser acessada com uma SAS expirada até que o conteúdo é limpo de nós de extremidade CDN hello.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-125">This means that content can still be accessed with an expired SAS until that content is purged from hello CDN edge nodes.</span></span> <span data-ttu-id="1b3b6-126">Você pode controlar quanto tempo os dados em cache em Olá CDN pelo cabeçalho de resposta de configuração de cache no hello.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-126">You can control how long data is cached on hello CDN by setting hello cache response header.</span></span> <span data-ttu-id="1b3b6-127">Veja [Gerenciar a expiração dos blobs de Armazenamento do Azure na CDN do Azure](../../cdn/cdn-manage-expiration-of-blob-content.md) para obter instruções.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-127">See [Managing expiration of Azure Storage blobs in Azure CDN](../../cdn/cdn-manage-expiration-of-blob-content.md) for instructions.</span></span>

<span data-ttu-id="1b3b6-128">Se você criar várias URLs da SAS para Olá mesmo ponto de extremidade de blob, é recomendável ativar o cache de cadeia de caracteres de consulta para o Azure CDN.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-128">If you create multiple SAS URLs for hello same blob endpoint, we recommend turning on query string caching for your Azure CDN.</span></span> <span data-ttu-id="1b3b6-129">Isso é tooensure que cada URL é tratado como uma entidade única.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-129">This is tooensure that each URL is treated as a unique entity.</span></span> <span data-ttu-id="1b3b6-130">Para obter mais informações, confira [Controlar o comportamento de caching da CDN do Azure com cadeias de consulta](../../cdn/cdn-query-string.md).</span><span class="sxs-lookup"><span data-stu-id="1b3b6-130">See [Controlling Azure CDN caching behavior with query strings](../../cdn/cdn-query-string.md) for more information.</span></span>

## <a name="http-toohttps-redirection"></a><span data-ttu-id="1b3b6-131">Redirecionamento de HTTP tooHTTPS</span><span class="sxs-lookup"><span data-stu-id="1b3b6-131">HTTP tooHTTPS redirection</span></span>

<span data-ttu-id="1b3b6-132">Você pode optar por tooredirect tooHTTPS de tráfego HTTP.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-132">You can elect tooredirect HTTP traffic tooHTTPS.</span></span> <span data-ttu-id="1b3b6-133">Isso requer o uso de oferta de premium Olá CDN do Azure da Verizon.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-133">This requires use of hello Azure CDN premium offering from Verizon.</span></span> <span data-ttu-id="1b3b6-134">É necessário muito[comportamento substituir HTTP usando o mecanismo de regras do Azure CDN](../../cdn/cdn-rules-engine.md) com a seguinte regra:</span><span class="sxs-lookup"><span data-stu-id="1b3b6-134">You need too[Override HTTP behavior using the Azure CDN rules engine](../../cdn/cdn-rules-engine.md) with the following rule:</span></span>

![](./media/storage-https-custom-domain-cdn/redirect-to-https.png)

<span data-ttu-id="1b3b6-135">"Nome de ponto de extremidade Cdn" refere-se nome toohello que você configurou para seu ponto de extremidade CDN.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-135">“Cdn-endpoint-name” refers toohello name that you configured for your CDN endpoint.</span></span> <span data-ttu-id="1b3b6-136">Você pode selecionar esse valor na lista suspensa de saudação.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-136">You can select this value from hello dropdown.</span></span> <span data-ttu-id="1b3b6-137">"Caminho de origem" se refere ao caminho hello dentro de sua conta de armazenamento de origem onde reside o conteúdo estático.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-137">“Origin-path” refers to hello path within your origin storage account where your static content resides.</span></span>
<span data-ttu-id="1b3b6-138">Se você estiver hospedando todo o conteúdo estático em um único contêiner, substitua "caminho de origem" pelo nome de saudação do contêiner.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-138">If you are hosting all static content in a single container, replace “origin-path” with hello name of that container.</span></span>

<span data-ttu-id="1b3b6-139">Para se aprofundar em regras, consulte Olá [recursos do mecanismo de regras do Azure CDN](../../cdn/cdn-rules-engine-reference-features.md).</span><span class="sxs-lookup"><span data-stu-id="1b3b6-139">For a deeper dive into rules, please see hello [Azure CDN rules engine features](../../cdn/cdn-rules-engine-reference-features.md).</span></span>

## <a name="pricing-and-billing"></a><span data-ttu-id="1b3b6-140">Preços e cobrança</span><span class="sxs-lookup"><span data-stu-id="1b3b6-140">Pricing and billing</span></span>

<span data-ttu-id="1b3b6-141">Quando você acessar blobs por meio de uma CDN do Azure, você paga [os preços de armazenamento de Blob](https://azure.microsoft.com/pricing/details/storage/blobs/) para o tráfego entre nós de borda hello e da origem da saudação (armazenamento de Blob), e [preços CDN](https://azure.microsoft.com/pricing/details/cdn/) para dados acessados a partir de nós de borda hello.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-141">When you access blobs through an Azure CDN, you pay [Blob storage prices](https://azure.microsoft.com/pricing/details/storage/blobs/) for traffic between hello edge nodes and hello origin (Blob storage), and [CDN prices](https://azure.microsoft.com/pricing/details/cdn/) for data accessed from hello edge nodes.</span></span>

<span data-ttu-id="1b3b6-142">Por exemplo, digamos que você tenha uma conta de armazenamento no Oeste dos EUA que está sendo acessada usando uma CDN do Azure.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-142">For example, say you have a storage account in West US that is being accessed using an Azure CDN.</span></span> <span data-ttu-id="1b3b6-143">Se alguém de saudação do Reino Unido tenta tooaccess uma saudação blobs na conta de armazenamento por meio de saudação CDN, o Azure verifica primeiro nó de borda hello mais próximo à saudação do Reino Unido para esse blob.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-143">If someone in hello UK tries tooaccess one of hello blobs in that storage account via hello CDN, Azure first checks hello edge node closest to hello UK for that blob.</span></span> <span data-ttu-id="1b3b6-144">Se encontrado, ele acessa essa cópia de blob hello e usará CDN sobre preços, porque ele está sendo acessado no hello CDN.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-144">If found, it accesses that copy of hello blob and will use CDN pricing, because it is being accessed on hello CDN.</span></span> <span data-ttu-id="1b3b6-145">Se não for encontrado, o Azure copiará Olá blob toohello borda nó, o que resultará na saída e encargos de transação como especificado no hello preços de armazenamento de Blob e acessar o arquivo hello no nó de borda hello, que resultará na cobrança da CDN.</span><span class="sxs-lookup"><span data-stu-id="1b3b6-145">If not found, Azure will copy hello blob toohello edge node, which will result in egress and transaction charges as specified in hello Blob storage pricing, and then access hello file on hello edge node, which will result in CDN billing.</span></span>

<span data-ttu-id="1b3b6-146">Ao examinar a saudação [CDN página de preços](https://azure.microsoft.com/pricing/details/cdn/), observe que dão suporte a HTTPS para nomes de domínio personalizado está disponível somente para CDN do Azure de produtos Verizon (Standard e Premium).</span><span class="sxs-lookup"><span data-stu-id="1b3b6-146">When looking at hello [CDN pricing page](https://azure.microsoft.com/pricing/details/cdn/), note that HTTPS support for custom domain names is only available for Azure CDN from Verizon products (Standard and Premium).</span></span>

## <a name="next-steps"></a><span data-ttu-id="1b3b6-147">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="1b3b6-147">Next steps</span></span>

[<span data-ttu-id="1b3b6-148">Configurar um nome de domínio personalizado para seu ponto de extremidade de Armazenamento de Blobs</span><span class="sxs-lookup"><span data-stu-id="1b3b6-148">Configure a custom domain name for your Blob storage endpoint</span></span>](storage-custom-domain-name.md)
