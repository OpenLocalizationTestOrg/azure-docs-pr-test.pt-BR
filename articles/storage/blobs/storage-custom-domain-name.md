---
title: "Configurar um nome de domínio personalizado para seu ponto de extremidade de Armazenamento de Blobs do Azure| Microsoft Docs"
description: "Use o Portal do Azure para mapear seu próprio nome canônico (CNAME) para o ponto de extremidade do Armazenamento de Blobs em uma conta de Armazenamento do Azure."
services: storage
documentationcenter: 
author: mmacy
manager: timlt
editor: tysonn
ms.assetid: aaafd8c5-eacb-49dc-8c8b-3f7011ad5e92
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/25/2017
ms.author: marsma
ms.openlocfilehash: 67a197ffa04d284e9251d7f79b36a86d03637fd9
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/29/2017
---
# <a name="configure-a-custom-domain-name-for-your-blob-storage-endpoint"></a><span data-ttu-id="0a07c-103">Configurar um nome de domínio personalizado para seu ponto de extremidade de Armazenamento de Blobs</span><span class="sxs-lookup"><span data-stu-id="0a07c-103">Configure a custom domain name for your Blob storage endpoint</span></span>

<span data-ttu-id="0a07c-104">Você pode configurar um domínio personalizado para acessar os dados de blob em sua conta de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="0a07c-104">You can configure a custom domain for accessing blob data in your Azure storage account.</span></span> <span data-ttu-id="0a07c-105">O ponto de extremidade para o Armazenamento de Blobs é `<storage-account-name>.blob.core.windows.net`.</span><span class="sxs-lookup"><span data-stu-id="0a07c-105">The default endpoint for Blob storage is `<storage-account-name>.blob.core.windows.net`.</span></span> <span data-ttu-id="0a07c-106">Se você mapear um domínio personalizado e um subdomínio como **www.contoso.com** para o ponto de extremidade do blob para sua conta de armazenamento, os usuários também poderão acessar dados do blob em sua conta de armazenamento usando esse domínio.</span><span class="sxs-lookup"><span data-stu-id="0a07c-106">If you map a custom domain and subdomain like **www.contoso.com** to the blob endpoint for your storage account, your users can then access blob data in your storage account using that domain.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="0a07c-107">O Armazenamento do Azure ainda não dá suporte nativo a HTTPS com domínios personalizados.</span><span class="sxs-lookup"><span data-stu-id="0a07c-107">Azure Storage does not yet natively support HTTPS with custom domains.</span></span> <span data-ttu-id="0a07c-108">No momento, você pode [Usar a CDN do Azure para acessar blobs com domínios personalizados por HTTPS](storage-https-custom-domain-cdn.md).</span><span class="sxs-lookup"><span data-stu-id="0a07c-108">You can currently [Use the Azure CDN to access blobs with custom domains over HTTPS](storage-https-custom-domain-cdn.md).</span></span>
>

<span data-ttu-id="0a07c-109">A tabela a seguir mostra exemplos de URLs para acessar os dados do blob em uma conta de armazenamento denominada **mystorageaccount**.</span><span class="sxs-lookup"><span data-stu-id="0a07c-109">The following table shows a few sample URLs for blob data located in a storage account named **mystorageaccount**.</span></span> <span data-ttu-id="0a07c-110">O domínio personalizado registrado para a conta de armazenamento é **www.contoso.com**.</span><span class="sxs-lookup"><span data-stu-id="0a07c-110">The custom domain registered for the storage account is **www.contoso.com**:</span></span>

| <span data-ttu-id="0a07c-111">Tipo de recurso</span><span class="sxs-lookup"><span data-stu-id="0a07c-111">Resource Type</span></span> | <span data-ttu-id="0a07c-112">URL padrão</span><span class="sxs-lookup"><span data-stu-id="0a07c-112">Default URL</span></span> | <span data-ttu-id="0a07c-113">URL de domínio personalizada</span><span class="sxs-lookup"><span data-stu-id="0a07c-113">Custom domain URL</span></span> |
| --- | --- | --- |
| <span data-ttu-id="0a07c-114">Conta de armazenamento</span><span class="sxs-lookup"><span data-stu-id="0a07c-114">Storage account</span></span> | <span data-ttu-id="0a07c-115">http://mystorageaccount.blob.core.windows.net</span><span class="sxs-lookup"><span data-stu-id="0a07c-115">http://mystorageaccount.blob.core.windows.net</span></span> | <span data-ttu-id="0a07c-116">http://www.contoso.com</span><span class="sxs-lookup"><span data-stu-id="0a07c-116">http://www.contoso.com</span></span> |
| <span data-ttu-id="0a07c-117">Blob</span><span class="sxs-lookup"><span data-stu-id="0a07c-117">Blob</span></span> |<span data-ttu-id="0a07c-118">http://mystorageaccount.blob.core.windows.net/mycontainer/myblob</span><span class="sxs-lookup"><span data-stu-id="0a07c-118">http://mystorageaccount.blob.core.windows.net/mycontainer/myblob</span></span> | <span data-ttu-id="0a07c-119">http://www.contoso.com/mycontainer/myblob</span><span class="sxs-lookup"><span data-stu-id="0a07c-119">http://www.contoso.com/mycontainer/myblob</span></span> |
| <span data-ttu-id="0a07c-120">Contêiner raiz</span><span class="sxs-lookup"><span data-stu-id="0a07c-120">Root container</span></span> | <span data-ttu-id="0a07c-121">http://mystorageaccount.blob.core.windows.net/myblob ou http://mystorageaccount.blob.core.windows.net/$root/myblob</span><span class="sxs-lookup"><span data-stu-id="0a07c-121">http://mystorageaccount.blob.core.windows.net/myblob or http://mystorageaccount.blob.core.windows.net/$root/myblob</span></span>| <span data-ttu-id="0a07c-122">http://www.contoso.com/myblob ou http://www.contoso.com/$root/myblob</span><span class="sxs-lookup"><span data-stu-id="0a07c-122">http://www.contoso.com/myblob or http://www.contoso.com/$root/myblob</span></span> |

## <a name="direct-vs-intermediary-domain-mapping"></a><span data-ttu-id="0a07c-123">Mapeamento de domínio direto versus intermediário</span><span class="sxs-lookup"><span data-stu-id="0a07c-123">Direct vs. intermediary domain mapping</span></span>

<span data-ttu-id="0a07c-124">Há duas maneiras de apontar seu domínio personalizado para o ponto de extremidade de blob para sua conta de armazenamento: mapeamento de CNAME direto e usar o subdomínio intermediário *asverify*.</span><span class="sxs-lookup"><span data-stu-id="0a07c-124">There are two ways to point your custom domain to the blob endpoint for your storage account: direct CNAME mapping, and using the *asverify* intermediary subdomain.</span></span>

### <a name="direct-cname-mapping"></a><span data-ttu-id="0a07c-125">Mapeamento direto de CNAME</span><span class="sxs-lookup"><span data-stu-id="0a07c-125">Direct CNAME mapping</span></span>

<span data-ttu-id="0a07c-126">O primeiro método, que é também o mais simples, é criar um registro de nome canônico (CNAME) que mapeia seu domínio e subdomínio personalizados diretamente para o ponto de extremidade do blob.</span><span class="sxs-lookup"><span data-stu-id="0a07c-126">The first, and simplest, method is to create a canonical name (CNAME) record that maps your custom domain and subdomain directly to the blob endpoint.</span></span> <span data-ttu-id="0a07c-127">Um registro CNAME é um recurso de DNS que mapeia um domínio de origem a um domínio de destino.</span><span class="sxs-lookup"><span data-stu-id="0a07c-127">A CNAME record is a domain name system (DNS) feature that maps a source domain to a destination domain.</span></span> <span data-ttu-id="0a07c-128">Nesse caso, o domínio de origem é seu próprio domínio e subdomínio personalizados, por exemplo *www.contoso.com*. O domínio de destino é o ponto de extremidade de serviço Blob, por exemplo *mystorageaccount.blob.core.windows.net*.</span><span class="sxs-lookup"><span data-stu-id="0a07c-128">In this case, the source domain is your own custom domain and subdomain, for example *www.contoso.com*. The destination domain is your Blob service endpoint, for example *mystorageaccount.blob.core.windows.net*.</span></span>

<span data-ttu-id="0a07c-129">O método direto é abordado em [Registrar um domínio personalizado](#register-a-custom-domain).</span><span class="sxs-lookup"><span data-stu-id="0a07c-129">The direct method is covered in [Register a custom domain](#register-a-custom-domain).</span></span>

### <a name="intermediary-mapping-with-asverify"></a><span data-ttu-id="0a07c-130">Mapeamento intermediário com *asverify*</span><span class="sxs-lookup"><span data-stu-id="0a07c-130">Intermediary mapping with *asverify*</span></span>

<span data-ttu-id="0a07c-131">O segundo método também usa registros CNAME, mas primeiro emprega um subdomínio especial reconhecido pelo Azure para evitar tempo de inatividade: **asverify**.</span><span class="sxs-lookup"><span data-stu-id="0a07c-131">The second method also uses CNAME records, but first employs a special subdomain recognized by Azure to avoid downtime: **asverify**.</span></span>

<span data-ttu-id="0a07c-132">O processo de mapear seu domínio personalizado para um ponto de extremidade de blobs pode, no entanto, resultar em um breve período de inatividade para o domínio, enquanto você está registrando o domínio no [Portal do Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="0a07c-132">The process of mapping your custom domain to a blob endpoint can result in a brief period of downtime for the domain while you are registering it in the [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="0a07c-133">Se atualmente seu domínio personalizado dá suporte a um aplicativo com um SLA (contrato de nível de serviço) que exige tempo de inatividade zero, você pode usar o subdomínio *asverify* do Azure como uma etapa intermediária de registro.</span><span class="sxs-lookup"><span data-stu-id="0a07c-133">If your custom domain is currently supporting an application with a service-level agreement (SLA) that requires zero downtime, then you can use the Azure *asverify* subdomain as an intermediate registration step.</span></span> <span data-ttu-id="0a07c-134">Essa etapa intermediária garante que os usuários possam acessar seu domínio enquanto ocorre o mapeamento do DNS.</span><span class="sxs-lookup"><span data-stu-id="0a07c-134">This intermediate step ensures users are able to access your domain while the DNS mapping takes place.</span></span>

<span data-ttu-id="0a07c-135">O método intermediário é abordado em [Registrar um domínio personalizado usando o subdomínio *asverify*](#register-a-custom-domain-using-the-asverify-subdomain).</span><span class="sxs-lookup"><span data-stu-id="0a07c-135">The intermediary method is covered in [Register a custom domain using the *asverify* subdomain](#register-a-custom-domain-using-the-asverify-subdomain).</span></span>

## <a name="register-a-custom-domain"></a><span data-ttu-id="0a07c-136">Registrar um domínio personalizado</span><span class="sxs-lookup"><span data-stu-id="0a07c-136">Register a custom domain</span></span>
<span data-ttu-id="0a07c-137">Use este procedimento para registrar seu domínio personalizado se você não se importar com a indisponibilidade temporária do domínio para os usuários ou se seu domínio personalizado não estiver hospedando um aplicativo no momento.</span><span class="sxs-lookup"><span data-stu-id="0a07c-137">Use this procedure to register your custom domain if you have no concerns about the domain being briefly unavailable to your users, or if your custom domain is not currently hosting an application.</span></span>

<span data-ttu-id="0a07c-138">Se seu domínio personalizado der suporte atualmente a um aplicativo que não pode ter nenhum tempo de inatividade, use o procedimento descrito em [Registrar um domínio personalizado usando o subdomínio *asverify*](#register-a-custom-domain-using-the-asverify-subdomain).</span><span class="sxs-lookup"><span data-stu-id="0a07c-138">If your custom domain is currently supporting an application that cannot have any downtime, follow the procedure outlined in [Register a custom domain using the *asverify* subdomain](#register-a-custom-domain-using-the-asverify-subdomain).</span></span>

<span data-ttu-id="0a07c-139">Para configurar um nome de domínio personalizado, você deve criar um novo registro CNAME no DNS.</span><span class="sxs-lookup"><span data-stu-id="0a07c-139">To configure a custom domain name, you must create a new CNAME record in DNS.</span></span> <span data-ttu-id="0a07c-140">O registro CNAME especifica um alias para um nome de domínio.</span><span class="sxs-lookup"><span data-stu-id="0a07c-140">The CNAME record specifies an alias for a domain name.</span></span> <span data-ttu-id="0a07c-141">Nesse caso, ele mapeia o endereço do seu domínio personalizado ao ponto de extremidade de Armazenamento de Blobs para sua conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="0a07c-141">In this case, it maps the address of your custom domain to the Blob storage endpoint for your storage account.</span></span>

<span data-ttu-id="0a07c-142">Normalmente, você pode gerenciar as configurações de DNS do seu domínio no site do registrador de domínios.</span><span class="sxs-lookup"><span data-stu-id="0a07c-142">Typically, you can manage your domain's DNS settings on your domain registrar's website.</span></span> <span data-ttu-id="0a07c-143">Cada registrador tem um método semelhante, mas ligeiramente diferente, para especificar um registro CNAME, mas o conceito é o mesmo.</span><span class="sxs-lookup"><span data-stu-id="0a07c-143">Each registrar has a similar but slightly different method of specifying a CNAME record, but the concept is the same.</span></span> <span data-ttu-id="0a07c-144">Alguns pacotes de registro de domínio básicos não oferecem a configuração do DNS, portanto, pode ser necessário atualizar o pacote de registro de domínio antes de criar o registro CNAME.</span><span class="sxs-lookup"><span data-stu-id="0a07c-144">Some basic domain registration packages do not offer DNS configuration, so you may need to upgrade your domain registration package before you can create the CNAME record.</span></span>

1. <span data-ttu-id="0a07c-145">Navegue até sua conta de armazenamento no [portal do Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="0a07c-145">Navigate to your storage account in the [Azure portal](https://portal.azure.com).</span></span>
1. <span data-ttu-id="0a07c-146">Em **SERVIÇO BLOB** na folha do menu, selecione **Domínio personalizado** para abrir a folha *Domínio personalizado*.</span><span class="sxs-lookup"><span data-stu-id="0a07c-146">Under **BLOB SERVICE** on the menu blade, select **Custom domain** to open the *Custom domain* blade.</span></span>
1. <span data-ttu-id="0a07c-147">Faça logon no site do registrador de domínios e acesse a página de gerenciamento de DNS.</span><span class="sxs-lookup"><span data-stu-id="0a07c-147">Log on to your domain registrar's website and go to the page for managing DNS.</span></span> <span data-ttu-id="0a07c-148">Você pode encontrá-lo em uma seção como **Nome de Domínio**, **DNS** ou **Gerenciamento de Servidor de Nomes**.</span><span class="sxs-lookup"><span data-stu-id="0a07c-148">You might find this in a section such as **Domain Name**, **DNS**, or **Name Server Management**.</span></span>
1. <span data-ttu-id="0a07c-149">Localize a seção de gerenciamento de CNAMEs.</span><span class="sxs-lookup"><span data-stu-id="0a07c-149">Find the section for managing CNAMEs.</span></span> <span data-ttu-id="0a07c-150">Talvez você precise acessar uma página de configurações avançadas e procurar as palavras **CNAME**, **Alias** ou **Subdomínios**.</span><span class="sxs-lookup"><span data-stu-id="0a07c-150">You may have to go to an advanced settings page and look for the words **CNAME**, **Alias**, or **Subdomains**.</span></span>
1. <span data-ttu-id="0a07c-151">Crie um novo registro CNAME e forneça um alias de subdomínio, como **www** ou **photos**.</span><span class="sxs-lookup"><span data-stu-id="0a07c-151">Create a new CNAME record and provide a subdomain alias such as **www** or **photos**.</span></span> <span data-ttu-id="0a07c-152">Em seguida, forneça um nome do host, que é o ponto de extremidade de serviço Blob, no formato **mystorageaccount.blob.core.windows.net** (em que *mystorageaccount* é o nome da sua conta de armazenamento).</span><span class="sxs-lookup"><span data-stu-id="0a07c-152">Then provide a host name, which is your Blob service endpoint, in the format **mystorageaccount.blob.core.windows.net** (where *mystorageaccount* is the name of your storage account).</span></span> <span data-ttu-id="0a07c-153">O nome de host a ser usado aparece no item nº 1 da folha *Domínio personalizado* no [Portal do Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="0a07c-153">The host name to use appears in item #1 of the *Custom domain* blade in the [Azure portal](https://portal.azure.com).</span></span>
1. <span data-ttu-id="0a07c-154">Na caixa de texto na folha *Domínio personalizado* no [Portal do Azure](https://portal.azure.com), digite o nome do seu domínio personalizado, incluindo o subdomínio.</span><span class="sxs-lookup"><span data-stu-id="0a07c-154">In the text box on the *Custom domain* blade in the [Azure portal](https://portal.azure.com), enter the name of your custom domain, including the subdomain.</span></span> <span data-ttu-id="0a07c-155">Por exemplo, se o domínio for **contoso.com** e o alias de subdomínio for **www**, digite **www.contoso.com**. Se o seu subdomínio for **photos**, digite **photos.contoso.com**. O subdomínio é *obrigatório*.</span><span class="sxs-lookup"><span data-stu-id="0a07c-155">For example, if your domain is **contoso.com** and your subdomain alias is **www**, enter **www.contoso.com**. If your subdomain is **photos**, enter **photos.contoso.com**. The subdomain is *required*.</span></span>
1. <span data-ttu-id="0a07c-156">Selecione **Salvar** na folha *Domínio personalizado* para registrar seu domínio personalizado.</span><span class="sxs-lookup"><span data-stu-id="0a07c-156">Select **Save** on the *Custom domain* blade to register your custom domain.</span></span> <span data-ttu-id="0a07c-157">Se o registro for bem-sucedido, você verá uma notificação no portal de que sua conta de armazenamento foi atualizada com êxito.</span><span class="sxs-lookup"><span data-stu-id="0a07c-157">If the registration is successful, you will see a portal notification that your storage account was successfully updated.</span></span>

<span data-ttu-id="0a07c-158">Depois que o novo registro CNAME for propagado pelo DNS, os usuários poderão exibir dados de blobs usando seu domínio personalizado, desde que tenham as permissões apropriadas.</span><span class="sxs-lookup"><span data-stu-id="0a07c-158">Once your new CNAME record has propagated through DNS, your users can view blob data by using your custom domain, so long as they have the appropriate permissions.</span></span>

## <a name="register-a-custom-domain-using-the-asverify-subdomain"></a><span data-ttu-id="0a07c-159">Registrar um domínio personalizado usando o subdomínio *asverify*</span><span class="sxs-lookup"><span data-stu-id="0a07c-159">Register a custom domain using the *asverify* subdomain</span></span>
<span data-ttu-id="0a07c-160">Use este procedimento para registrar seu personalizado domínio se o seu domínio personalizado atualmente der suporte a um aplicativo com um SLA que não permita nenhum tempo de inatividade.</span><span class="sxs-lookup"><span data-stu-id="0a07c-160">Use this procedure to register your custom domain if your custom domain is currently supporting an application with an SLA that requires that there be no downtime.</span></span> <span data-ttu-id="0a07c-161">Criando um CNAME que aponta de `asverify.<subdomain>.<customdomain>` para `asverify.<storageaccount>.blob.core.windows.net`, você pode registrar previamente seu domínio com o Azure.</span><span class="sxs-lookup"><span data-stu-id="0a07c-161">By creating a CNAME that points from `asverify.<subdomain>.<customdomain>` to `asverify.<storageaccount>.blob.core.windows.net`, you can pre-register your domain with Azure.</span></span> <span data-ttu-id="0a07c-162">Depois, é possível criar um segundo CNAME que aponta de `<subdomain>.<customdomain>` para `<storageaccount>.blob.core.windows.net`, quando então o tráfego de ponto para seu domínio personalizado será direcionado para o ponto de extremidade do blob.</span><span class="sxs-lookup"><span data-stu-id="0a07c-162">You can then create a second CNAME that points from `<subdomain>.<customdomain>` to `<storageaccount>.blob.core.windows.net`, at which point traffic to your custom domain will be directed to your blob endpoint.</span></span>

<span data-ttu-id="0a07c-163">O subdomínio **asverify** é um subdomínio especial reconhecido pelo Azure.</span><span class="sxs-lookup"><span data-stu-id="0a07c-163">The **asverify** subdomain is a special subdomain recognized by Azure.</span></span> <span data-ttu-id="0a07c-164">Ao preceder `asverify` em seu próprio subdomínio, você permite que o Azure reconheça seu domínio personalizado sem modificar o registro DNS dele.</span><span class="sxs-lookup"><span data-stu-id="0a07c-164">By prepending `asverify` to your own subdomain, you permit Azure to recognize your custom domain without modifying the DNS record for the domain.</span></span> <span data-ttu-id="0a07c-165">Quando você modificar o registro DNS do domínio, ele será mapeado para o ponto de extremidade do blob sem nenhum tempo de inatividade.</span><span class="sxs-lookup"><span data-stu-id="0a07c-165">When you do modify the DNS record for the domain, it will be mapped to the blob endpoint with no downtime.</span></span>

1. <span data-ttu-id="0a07c-166">Navegue até sua conta de armazenamento no [portal do Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="0a07c-166">Navigate to your storage account in the [Azure portal](https://portal.azure.com).</span></span>
1. <span data-ttu-id="0a07c-167">Em **SERVIÇO BLOB** na folha do menu, selecione **Domínio personalizado** para abrir a folha *Domínio personalizado*.</span><span class="sxs-lookup"><span data-stu-id="0a07c-167">Under **BLOB SERVICE** on the menu blade, select **Custom domain** to open the *Custom domain* blade.</span></span>
1. <span data-ttu-id="0a07c-168">Faça logon no site do provedor de DNS e acesse a página de gerenciamento de DNS.</span><span class="sxs-lookup"><span data-stu-id="0a07c-168">Log on to your DNS provider's website and go to the page for managing DNS.</span></span> <span data-ttu-id="0a07c-169">Você pode encontrá-lo em uma seção como **Nome de Domínio**, **DNS** ou **Gerenciamento de Servidor de Nomes**.</span><span class="sxs-lookup"><span data-stu-id="0a07c-169">You might find this in a section such as **Domain Name**, **DNS**, or **Name Server Management**.</span></span>
1. <span data-ttu-id="0a07c-170">Localize a seção de gerenciamento de CNAMEs.</span><span class="sxs-lookup"><span data-stu-id="0a07c-170">Find the section for managing CNAMEs.</span></span> <span data-ttu-id="0a07c-171">Talvez você precise acessar uma página de configurações avançadas e procurar as palavras **CNAME**, **Alias** ou **Subdomínios**.</span><span class="sxs-lookup"><span data-stu-id="0a07c-171">You may have to go to an advanced settings page and look for the words **CNAME**, **Alias**, or **Subdomains**.</span></span>
1. <span data-ttu-id="0a07c-172">Crie um novo registro CNAME e forneça um alias de subdomínio que inclui o subdomínio *asverify*.</span><span class="sxs-lookup"><span data-stu-id="0a07c-172">Create a new CNAME record, and provide a subdomain alias that includes the *asverify* subdomain.</span></span> <span data-ttu-id="0a07c-173">Por exemplo, **asverify. www** ou **asverify.photos**.</span><span class="sxs-lookup"><span data-stu-id="0a07c-173">For example, **asverify.www** or **asverify.photos**.</span></span> <span data-ttu-id="0a07c-174">Em seguida, forneça um nome do host, que é o ponto de extremidade de serviço Blob, no formato **asverify.mystorageaccount.blob.core.windows.net** (em que **mystorageaccount** é o nome da sua conta de armazenamento).</span><span class="sxs-lookup"><span data-stu-id="0a07c-174">Then provide a host name, which is your Blob service endpoint, in the format **asverify.mystorageaccount.blob.core.windows.net** (where **mystorageaccount** is the name of your storage account).</span></span> <span data-ttu-id="0a07c-175">O nome de host a ser usado aparece no item nº 2 da folha *Domínio personalizado* no [Portal do Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="0a07c-175">The host name to use appears in item #2 of the *Custom domain* blade in the [Azure portal](https://portal.azure.com).</span></span>
1. <span data-ttu-id="0a07c-176">Na caixa de texto na folha *Domínio personalizado* no [Portal do Azure](https://portal.azure.com), digite o nome do seu domínio personalizado, incluindo o subdomínio.</span><span class="sxs-lookup"><span data-stu-id="0a07c-176">In the text box on the *Custom domain* blade in the [Azure portal](https://portal.azure.com), enter the name of your custom domain, including the subdomain.</span></span> <span data-ttu-id="0a07c-177">Não inclua *asverify*.</span><span class="sxs-lookup"><span data-stu-id="0a07c-177">Do not include *asverify*.</span></span> <span data-ttu-id="0a07c-178">Por exemplo, se o domínio for **contoso.com** e o alias de subdomínio for **www**, digite **www.contoso.com**. Se o seu subdomínio for **photos**, digite **photos.contoso.com**. O subdomínio é obrigatório.</span><span class="sxs-lookup"><span data-stu-id="0a07c-178">For example, if your domain is **contoso.com** and your subdomain alias is **www**, enter **www.contoso.com**. If your subdomain is **photos**, enter **photos.contoso.com**. The subdomain is required.</span></span>
1. <span data-ttu-id="0a07c-179">Marque a caixa de seleção **Usar validação indireta de CNAME**.</span><span class="sxs-lookup"><span data-stu-id="0a07c-179">Select the **Use indirect CNAME validation** checkbox.</span></span>
1. <span data-ttu-id="0a07c-180">Selecione **Salvar** na folha *Domínio personalizado* para registrar seu domínio personalizado.</span><span class="sxs-lookup"><span data-stu-id="0a07c-180">Select **Save** on the *Custom domain* blade to register your custom domain.</span></span> <span data-ttu-id="0a07c-181">Se o registro for bem-sucedido, você verá uma notificação no portal informando que sua conta de armazenamento foi atualizada com êxito.</span><span class="sxs-lookup"><span data-stu-id="0a07c-181">If the registration is successful, you will see a portal notification stating that your storage account was successfully updated.</span></span> <span data-ttu-id="0a07c-182">Nesse ponto, seu domínio personalizado foi verificado pelo Azure, mas o tráfego para seu domínio ainda não está sendo roteado para sua conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="0a07c-182">At this point, your custom domain has been verified by Azure, but traffic to your domain is not yet being routed to your storage account.</span></span>
1. <span data-ttu-id="0a07c-183">Volte ao site do provedor de DNS e crie outro registro CNAME que mapeia seu subdomínio para o ponto de extremidade do serviço Blob.</span><span class="sxs-lookup"><span data-stu-id="0a07c-183">Return to your DNS provider's website, and create another CNAME record that maps your subdomain to your Blob service endpoint.</span></span> <span data-ttu-id="0a07c-184">Por exemplo, especifique o subdomínio como **www** ou **photos** (sem o *asverify*) e o nome do host como **mystorageaccount.blob.core.windows.net** (em que **mystorageaccount** é o nome da sua conta de armazenamento).</span><span class="sxs-lookup"><span data-stu-id="0a07c-184">For example, specify the subdomain as **www** or **photos** (without the *asverify*), and the hostname as **mystorageaccount.blob.core.windows.net** (where **mystorageaccount** is the name of your storage account).</span></span> <span data-ttu-id="0a07c-185">Com essa etapa, o registro do seu domínio personalizado está concluído.</span><span class="sxs-lookup"><span data-stu-id="0a07c-185">With this step, the registration of your custom domain is complete.</span></span>
1. <span data-ttu-id="0a07c-186">Por fim, você pode excluir o registro CNAME criado contendo o subdomínio **asverify**, já que ele era necessário apenas como uma etapa intermediária.</span><span class="sxs-lookup"><span data-stu-id="0a07c-186">Finally, you can delete the CNAME record you created containing the **asverify** subdomain, as it was necessary only as an intermediary step.</span></span>

<span data-ttu-id="0a07c-187">Depois que o novo registro CNAME for propagado pelo DNS, os usuários poderão exibir dados de blobs usando seu domínio personalizado, desde que tenham as permissões apropriadas.</span><span class="sxs-lookup"><span data-stu-id="0a07c-187">Once your new CNAME record has propagated through DNS, your users can view blob data by using your custom domain, so long as they have the appropriate permissions.</span></span>

## <a name="test-your-custom-domain"></a><span data-ttu-id="0a07c-188">Testar seu domínio personalizado</span><span class="sxs-lookup"><span data-stu-id="0a07c-188">Test your custom domain</span></span>

<span data-ttu-id="0a07c-189">Para confirmar se seu domínio personalizado está de fato mapeado para o ponto de extremidade do serviço Blob, crie um blob em um contêiner público em sua conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="0a07c-189">To confirm your custom domain is indeed mapped to your Blob service endpoint, create a blob in a public container within your storage account.</span></span> <span data-ttu-id="0a07c-190">Em seguida, em um navegador da Web, use um URI no seguinte formato para acessar o blob:</span><span class="sxs-lookup"><span data-stu-id="0a07c-190">Then, in a web browser, use a URI in the following format to access the blob:</span></span>

`http://<subdomain.customdomain>/<mycontainer>/<myblob>`

<span data-ttu-id="0a07c-191">Por exemplo, você pode usar o seguinte URI para acessar um formulário da Web por meio de um contêiner **myforms** no subdomínio personalizado **photos.contoso.com**:</span><span class="sxs-lookup"><span data-stu-id="0a07c-191">For example, you might use the following URI to access a web form in the **myforms** container in the **photos.contoso.com** custom subdomain:</span></span>

`http://photos.contoso.com/myforms/applicationform.htm`

## <a name="deregister-a-custom-domain"></a><span data-ttu-id="0a07c-192">Cancelar o registro de um domínio personalizado</span><span class="sxs-lookup"><span data-stu-id="0a07c-192">Deregister a custom domain</span></span>

<span data-ttu-id="0a07c-193">Para cancelar o registro de um domínio personalizado para seu ponto de extremidade do Armazenamento de Blobs, use um dos procedimentos a seguir.</span><span class="sxs-lookup"><span data-stu-id="0a07c-193">To deregister a custom domain for your Blob storage endpoint, use one of the following procedures.</span></span>

### <a name="azure-portal"></a><span data-ttu-id="0a07c-194">Portal do Azure</span><span class="sxs-lookup"><span data-stu-id="0a07c-194">Azure portal</span></span>

<span data-ttu-id="0a07c-195">Execute o seguinte no Portal do Azure para remover a configuração de domínio personalizado:</span><span class="sxs-lookup"><span data-stu-id="0a07c-195">Perform the following in the Azure portal to remove the custom domain setting:</span></span>

1. <span data-ttu-id="0a07c-196">Navegue até sua conta de armazenamento no [portal do Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="0a07c-196">Navigate to your storage account in the [Azure portal](https://portal.azure.com).</span></span>
1. <span data-ttu-id="0a07c-197">Em **SERVIÇO BLOB** na folha do menu, selecione **Domínio personalizado** para abrir a folha *Domínio personalizado*.</span><span class="sxs-lookup"><span data-stu-id="0a07c-197">Under **BLOB SERVICE** on the menu blade, select **Custom domain** to open the *Custom domain* blade.</span></span>
1. <span data-ttu-id="0a07c-198">Limpe o conteúdo da caixa de texto que contém o nome de domínio personalizado.</span><span class="sxs-lookup"><span data-stu-id="0a07c-198">Clear the contents of the text box containing your custom domain name.</span></span>
1. <span data-ttu-id="0a07c-199">Selecione o botão **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="0a07c-199">Select the **Save** button.</span></span>

<span data-ttu-id="0a07c-200">Após a remoção do domínio personalizado, você verá uma notificação no portal informando que sua conta de armazenamento foi atualizada com êxito.</span><span class="sxs-lookup"><span data-stu-id="0a07c-200">When the custom domain has been removed successfully, you will see a portal notification stating that your storage account was successfully updated.</span></span>

### <a name="azure-cli-20"></a><span data-ttu-id="0a07c-201">CLI 2.0 do Azure</span><span class="sxs-lookup"><span data-stu-id="0a07c-201">Azure CLI 2.0</span></span>

<span data-ttu-id="0a07c-202">Use o comando de CLI [az storage account update](https://docs.microsoft.com/cli/azure/storage/account#update) e especifique uma cadeia de caracteres vazia (`""`) para o valor do argumento `--custom-domain` para remover um registro de domínio personalizado.</span><span class="sxs-lookup"><span data-stu-id="0a07c-202">Use the [az storage account update](https://docs.microsoft.com/cli/azure/storage/account#update) CLI command and specify an empty string (`""`) for the `--custom-domain` argument value to remove a custom domain registration.</span></span>

* <span data-ttu-id="0a07c-203">Formato do comando:</span><span class="sxs-lookup"><span data-stu-id="0a07c-203">Command format:</span></span>

  ```azurecli
  az storage account update \
      --name <storage-account-name> \
      --resource-group <resource-group-name> \
      --custom-domain ""
  ```

* <span data-ttu-id="0a07c-204">Exemplo de comando:</span><span class="sxs-lookup"><span data-stu-id="0a07c-204">Command example:</span></span>

  ```azurecli
  az storage account update \
      --name mystorageaccount \
      --resource-group myresourcegroup \
      --custom-domain ""
  ```

### <a name="powershell"></a><span data-ttu-id="0a07c-205">PowerShell</span><span class="sxs-lookup"><span data-stu-id="0a07c-205">PowerShell</span></span>

<span data-ttu-id="0a07c-206">Use o cmdlet do PowerShell [Set-AzureRmStorageAccount](/powershell/module/azurerm.storage/set-azurermstorageaccount) e especifique uma cadeia de caracteres vazia (`""`) para o valor do argumento `-CustomDomainName` para remover um registro de domínio personalizado.</span><span class="sxs-lookup"><span data-stu-id="0a07c-206">Use the [Set-AzureRmStorageAccount](/powershell/module/azurerm.storage/set-azurermstorageaccount) PowerShell cmdlet and specify an empty string (`""`) for the `-CustomDomainName` argument value to remove a custom domain registration.</span></span>

* <span data-ttu-id="0a07c-207">Formato do comando:</span><span class="sxs-lookup"><span data-stu-id="0a07c-207">Command format:</span></span>

  ```powershell
  Set-AzureRmStorageAccount `
      -ResourceGroupName "<resource-group-name>" `
      -AccountName "<storage-account-name>" `
      -CustomDomainName ""
  ```

* <span data-ttu-id="0a07c-208">Exemplo de comando:</span><span class="sxs-lookup"><span data-stu-id="0a07c-208">Command example:</span></span>

  ```powershell
  Set-AzureRmStorageAccount `
      -ResourceGroupName "myresourcegroup" `
      -AccountName "mystorageaccount" `
      -CustomDomainName ""
  ```

## <a name="next-steps"></a><span data-ttu-id="0a07c-209">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="0a07c-209">Next steps</span></span>
* [<span data-ttu-id="0a07c-210">Mapear o domínio personalizado para o ponto de extremidade de uma CDN (Rede de Distribuição de Conteúdo) do Azure</span><span class="sxs-lookup"><span data-stu-id="0a07c-210">Map a custom domain to an Azure Content Delivery Network (CDN) endpoint</span></span>](../../cdn/cdn-map-content-to-custom-domain.md)
* [<span data-ttu-id="0a07c-211">Usar a CDN do Azure para acessar blobs com domínios personalizados por HTTPS</span><span class="sxs-lookup"><span data-stu-id="0a07c-211">Using the Azure CDN to access blobs with custom domains over HTTPS</span></span>](storage-https-custom-domain-cdn.md)
