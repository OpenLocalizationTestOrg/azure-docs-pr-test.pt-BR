---
title: Como usar o Hudson com o Armazenamento de Blobs | Microsoft Docs
description: "Descreve como usar o Hudson com o armazenamento de Blob do Azure como um repositório para artefatos de compilação."
services: storage
documentationcenter: java
author: seguler
manager: jahogg
editor: tysonn
ms.assetid: 119becdd-72c4-4ade-a439-070233c1e1ac
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: Java
ms.topic: article
ms.date: 02/28/2017
ms.author: seguler
ms.openlocfilehash: eb57fe20c13fd6dc5a617f949a517bfcce5836ff
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="using-azure-storage-with-a-hudson-continuous-integration-solution"></a><span data-ttu-id="be5b6-103">Usando o Armazenamento do Azure com uma solução Hudson Continuous Integration</span><span class="sxs-lookup"><span data-stu-id="be5b6-103">Using Azure Storage with a Hudson Continuous Integration solution</span></span>
## <a name="overview"></a><span data-ttu-id="be5b6-104">Visão geral</span><span class="sxs-lookup"><span data-stu-id="be5b6-104">Overview</span></span>
<span data-ttu-id="be5b6-105">As informações a seguir mostram como usar o Armazenamento de Blobs como um repositório de artefatos de compilação criado por uma solução de CI (Integração Contínua) Hudson, ou como uma fonte de arquivos baixáveis a serem usados em um processo de compilação.</span><span class="sxs-lookup"><span data-stu-id="be5b6-105">The following information shows how to use Blob storage as a repository of build artifacts created by a Hudson Continuous Integration (CI) solution, or as a source of downloadable files to be used in a build process.</span></span> <span data-ttu-id="be5b6-106">Um dos cenários em que isso poderia ser útil é quando você está codificando em um ambiente de desenvolvimento ágil (usando Java ou outras linguagens), as compilações estão sendo executadas com base na integração contínua e você precisa de um repositório para seus artefatos de compilação, para que possa, por exemplo, compartilhá-los com outros membros da organização, com seus clientes ou mantê-los em um arquivo.</span><span class="sxs-lookup"><span data-stu-id="be5b6-106">One of the scenarios where you would find this useful is when you're coding in an agile development environment (using Java or other languages), builds are running based on continuous integration, and you need a repository for your build artifacts, so that you could, for example, share them with other organization members, your customers, or maintain an archive.</span></span>  <span data-ttu-id="be5b6-107">Outro cenário é quando o seu próprio trabalho de compilação requer outros arquivos, por exemplo, dependências a serem baixadas como parte da entrada da compilação.</span><span class="sxs-lookup"><span data-stu-id="be5b6-107">Another scenario is when your build job itself requires other files, for example, dependencies to download as part of the build input.</span></span>

<span data-ttu-id="be5b6-108">Neste tutorial, você usará o plug-in do Armazenamento do Azure para o Hudson CI disponibilizado pela Microsoft.</span><span class="sxs-lookup"><span data-stu-id="be5b6-108">In this tutorial you will be using the Azure Storage plugin for Hudson CI made available by Microsoft.</span></span>

## <a name="introduction-to-hudson"></a><span data-ttu-id="be5b6-109">Introdução ao Hudson</span><span class="sxs-lookup"><span data-stu-id="be5b6-109">Introduction to Hudson</span></span>
<span data-ttu-id="be5b6-110">O Hudson possibilita a integração contínua de um projeto de software permitindo que os desenvolvedores integrem de forma fácil as alterações de código e fazendo com que as compilações sejam produzidas automaticamente e com frequência, aumentando, assim, a produtividade dos desenvolvedores.</span><span class="sxs-lookup"><span data-stu-id="be5b6-110">Hudson enables continuous integration of a software project by allowing developers to easily integrate their code changes and have builds produced automatically and frequently, thereby increasing the productivity of the developers.</span></span> <span data-ttu-id="be5b6-111">As compilações têm uma versão e os artefatos de compilação podem ser carregados em vários repositórios.</span><span class="sxs-lookup"><span data-stu-id="be5b6-111">Builds are versioned, and build artifacts can be uploaded to various repositories.</span></span> <span data-ttu-id="be5b6-112">Este artigo mostra como usar o armazenamento de Blob do Azure como o repositório dos artefatos de compilação.</span><span class="sxs-lookup"><span data-stu-id="be5b6-112">This article will show how to use Azure Blob storage as the repository of the build artifacts.</span></span> <span data-ttu-id="be5b6-113">Ele também mostra como baixar as dependências do armazenamento de Blob do Azure.</span><span class="sxs-lookup"><span data-stu-id="be5b6-113">It will also show how to download dependencies from Azure Blob storage.</span></span>

<span data-ttu-id="be5b6-114">Mais informações sobre o Hudson podem ser encontradas em [Conheça o Hudson (a página pode estar em inglês)](http://wiki.eclipse.org/Hudson-ci/Meet_Hudson).</span><span class="sxs-lookup"><span data-stu-id="be5b6-114">More information about Hudson can be found at [Meet Hudson](http://wiki.eclipse.org/Hudson-ci/Meet_Hudson).</span></span>

## <a name="benefits-of-using-the-blob-service"></a><span data-ttu-id="be5b6-115">Benefícios do uso do serviço Blob</span><span class="sxs-lookup"><span data-stu-id="be5b6-115">Benefits of using the Blob service</span></span>
<span data-ttu-id="be5b6-116">Alguns dos benefícios de usar o serviço Blob para hospedar seus artefatos de compilação de desenvolvimento ágil incluem:</span><span class="sxs-lookup"><span data-stu-id="be5b6-116">Benefits of using the Blob service to host your agile development build artifacts include:</span></span>

* <span data-ttu-id="be5b6-117">Alta disponibilidade de seus artefatos de compilação e/ou dependências baixáveis.</span><span class="sxs-lookup"><span data-stu-id="be5b6-117">High availability of your build artifacts and/or downloadable dependencies.</span></span>
* <span data-ttu-id="be5b6-118">O desempenho quando sua solução Hudson CI carrega seus artefatos de compilação.</span><span class="sxs-lookup"><span data-stu-id="be5b6-118">Performance when your Hudson CI solution uploads your build artifacts.</span></span>
* <span data-ttu-id="be5b6-119">Desempenho quando seus clientes e parceiros baixam seus artefatos de compilação.</span><span class="sxs-lookup"><span data-stu-id="be5b6-119">Performance when your customers and partners download your build artifacts.</span></span>
* <span data-ttu-id="be5b6-120">O controle sobre as políticas de acesso do usuário, com uma opção entre acesso anônimo, acesso compartilhado com base em expiração, acesso de assinatura, acesso particular, etc.</span><span class="sxs-lookup"><span data-stu-id="be5b6-120">Control over user access policies, with a choice between anonymous access, expiration-based shared access signature access, private access, etc.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="be5b6-121">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="be5b6-121">Prerequisites</span></span>
<span data-ttu-id="be5b6-122">Será necessário o seguinte para usar o serviço Blob com a solução Hudson CI:</span><span class="sxs-lookup"><span data-stu-id="be5b6-122">You will need the following to use the Blob service with your Hudson CI solution:</span></span>

* <span data-ttu-id="be5b6-123">Uma solução Hudson Continuous Integration.</span><span class="sxs-lookup"><span data-stu-id="be5b6-123">A Hudson Continuous Integration solution.</span></span>
  
    <span data-ttu-id="be5b6-124">Se não tem uma solução Hudson CI no momento, você pode executá-la usando a técnica a seguir:</span><span class="sxs-lookup"><span data-stu-id="be5b6-124">If you currently don't have a Hudson CI solution, you can run a Hudson CI solution using the following technique:</span></span>
  
  1. <span data-ttu-id="be5b6-125">Em um computador com Java, baixe o Hudson WAR de <http://hudson-ci.org/>.</span><span class="sxs-lookup"><span data-stu-id="be5b6-125">On a Java-enabled machine, download the Hudson WAR from <http://hudson-ci.org/>.</span></span>
  2. <span data-ttu-id="be5b6-126">Em um prompt de comando aberto para a pasta que contém o Hudson WAR, execute o Hudson WAR.</span><span class="sxs-lookup"><span data-stu-id="be5b6-126">At a command prompt that is opened to the folder that contains the Hudson WAR, run the Hudson WAR.</span></span> <span data-ttu-id="be5b6-127">Por exemplo, se você baixou a versão 3.1.2:</span><span class="sxs-lookup"><span data-stu-id="be5b6-127">For example, if you have downloaded version 3.1.2:</span></span>
     
      `java -jar hudson-3.1.2.war`

  3. <span data-ttu-id="be5b6-128">No seu navegador, abra `http://localhost:8080/`.</span><span class="sxs-lookup"><span data-stu-id="be5b6-128">In your browser, open `http://localhost:8080/`.</span></span> <span data-ttu-id="be5b6-129">Isso abrirá o painel do Hudson.</span><span class="sxs-lookup"><span data-stu-id="be5b6-129">This will open the Hudson dashboard.</span></span>
  4. <span data-ttu-id="be5b6-130">Na primeira utilização do Hudson, conclua a configuração inicial em `http://localhost:8080/`.</span><span class="sxs-lookup"><span data-stu-id="be5b6-130">Upon first use of Hudson, complete the initial setup at `http://localhost:8080/`.</span></span>
  5. <span data-ttu-id="be5b6-131">Depois de concluir a configuração inicial, cancele a instância em execução do Hudson WAR, inicie o Hudson WAR novamente e reabra o painel do Hudson, `http://localhost:8080/`, que você usará para instalar e configurar o plug-in de Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="be5b6-131">After you complete the initial setup, cancel the running instance of the Hudson WAR, start the Hudson WAR again, and  re-open the Hudson dashboard, `http://localhost:8080/`, which you will use to install and configure the Azure Storage plugin.</span></span>
     
      <span data-ttu-id="be5b6-132">Embora uma solução Hudson CI típica possa ser configurada para ser executada como um serviço, a execução do war do Hudson na linha de comando será suficiente para este tutorial.</span><span class="sxs-lookup"><span data-stu-id="be5b6-132">While a typical Hudson CI solution would be set up to run as a service, running the Hudson war at the command line will be sufficient for this tutorial.</span></span>
* <span data-ttu-id="be5b6-133">Uma conta do Azure.</span><span class="sxs-lookup"><span data-stu-id="be5b6-133">An Azure account.</span></span> <span data-ttu-id="be5b6-134">Você pode criar uma conta do Azure em <http://www.azure.com>.</span><span class="sxs-lookup"><span data-stu-id="be5b6-134">You can sign up for an Azure account at <http://www.azure.com>.</span></span>
* <span data-ttu-id="be5b6-135">Uma conta de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="be5b6-135">An Azure storage account.</span></span> <span data-ttu-id="be5b6-136">Se você não tiver uma conta de armazenamento, crie uma usando as etapas em [Criar uma Conta de Armazenamento](storage-create-storage-account.md#create-a-storage-account).</span><span class="sxs-lookup"><span data-stu-id="be5b6-136">If you don't already have a storage account, you can create one using the steps at [Create a Storage Account](storage-create-storage-account.md#create-a-storage-account).</span></span>
* <span data-ttu-id="be5b6-137">Estar familiarizado com a solução Hudson CI é recomendável, mas não é obrigatório, já que o conteúdo a seguir usará um exemplo básico para mostrar a você as etapas necessárias ao usar o serviço Blob como um repositório para os artefatos de compilação do Hudson CI.</span><span class="sxs-lookup"><span data-stu-id="be5b6-137">Familiarity with the Hudson CI solution is recommended but not required, as the following content will use a basic example to show you the steps needed when using the Blob service as a repository for Hudson CI build artifacts.</span></span>

## <a name="how-to-use-the-blob-service-with-hudson-ci"></a><span data-ttu-id="be5b6-138">Como usar o serviço Blob com o Hudson CI</span><span class="sxs-lookup"><span data-stu-id="be5b6-138">How to use the Blob service with Hudson CI</span></span>
<span data-ttu-id="be5b6-139">Para usar o serviço Blob com o Hudson, você deverá instalar o plug-in Armazenamento do Azure, configurá-lo para usar sua conta de armazenamento e criar uma ação de pós-compilação que carregue os artefatos de compilação para a sua conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="be5b6-139">To use the Blob service with Hudson, you'll need to install the Azure Storage plugin, configure the plugin to use your storage account, and then create a post-build action that uploads your build artifacts to your storage account.</span></span> <span data-ttu-id="be5b6-140">Essas etapas estão descritas nas seções a seguir.</span><span class="sxs-lookup"><span data-stu-id="be5b6-140">These steps are described in the following sections.</span></span>

## <a name="how-to-install-the-azure-storage-plugin"></a><span data-ttu-id="be5b6-141">Como instalar o plug-in Armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="be5b6-141">How to install the Azure Storage plugin</span></span>
1. <span data-ttu-id="be5b6-142">No painel do Hudson, clique em **Manage Hudson**.</span><span class="sxs-lookup"><span data-stu-id="be5b6-142">Within the Hudson dashboard, click **Manage Hudson**.</span></span>
2. <span data-ttu-id="be5b6-143">Na página **Gerenciar Hudson**, clique em **Gerenciar Plug-ins**.</span><span class="sxs-lookup"><span data-stu-id="be5b6-143">On the **Manage Hudson** page, click **Manage Plugins**.</span></span>
3. <span data-ttu-id="be5b6-144">Clique na guia **Disponível** .</span><span class="sxs-lookup"><span data-stu-id="be5b6-144">Click the **Available** tab.</span></span>
4. <span data-ttu-id="be5b6-145">Clique em **Others**.</span><span class="sxs-lookup"><span data-stu-id="be5b6-145">Click **Others**.</span></span>
5. <span data-ttu-id="be5b6-146">Na seção **Carregadores de Artefatos**, selecione Plug-in do **Armazenamento do Microsoft Azure**.</span><span class="sxs-lookup"><span data-stu-id="be5b6-146">In the **Artifact Uploaders** section, select **Microsoft Azure Storage plugin**.</span></span>
6. <span data-ttu-id="be5b6-147">Clique em **Instalar**.</span><span class="sxs-lookup"><span data-stu-id="be5b6-147">Click **Install**.</span></span>
7. <span data-ttu-id="be5b6-148">Após a conclusão da instalação, reinicie o Hudson.</span><span class="sxs-lookup"><span data-stu-id="be5b6-148">After the installation is complete, restart Hudson.</span></span>

## <a name="how-to-configure-the-azure-storage-plugin-to-use-your-storage-account"></a><span data-ttu-id="be5b6-149">Como configurar o plug-in Armazenamento do Azure para usar sua conta de armazenamento</span><span class="sxs-lookup"><span data-stu-id="be5b6-149">How to configure the Azure Storage plugin to use your storage account</span></span>
1. <span data-ttu-id="be5b6-150">No painel do Hudson, clique em **Manage Hudson**.</span><span class="sxs-lookup"><span data-stu-id="be5b6-150">Within the Hudson dashboard, click **Manage Hudson**.</span></span>
2. <span data-ttu-id="be5b6-151">Na página **Gerenciar Hudson**, clique em **Configurar Sistema**.</span><span class="sxs-lookup"><span data-stu-id="be5b6-151">On the **Manage Hudson** page, click **Configure System**.</span></span>
3. <span data-ttu-id="be5b6-152">Na seção **Configuração da Conta de Armazenamento do Microsoft Azure** :</span><span class="sxs-lookup"><span data-stu-id="be5b6-152">In the **Microsoft Azure Storage Account Configuration** section:</span></span>
   
    <span data-ttu-id="be5b6-153">a.</span><span class="sxs-lookup"><span data-stu-id="be5b6-153">a.</span></span> <span data-ttu-id="be5b6-154">Insira o nome da conta de armazenamento, que pode ser obtido no [portal do Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="be5b6-154">Enter your storage account name, which you can obtain from the [Azure Portal](https://portal.azure.com).</span></span>
   
    <span data-ttu-id="be5b6-155">b.</span><span class="sxs-lookup"><span data-stu-id="be5b6-155">b.</span></span> <span data-ttu-id="be5b6-156">Insira a chave de conta de armazenamento, que também pode ser obtida no [portal do Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="be5b6-156">Enter your storage account key, also obtainable from the [Azure Portal](https://portal.azure.com).</span></span>
   
    <span data-ttu-id="be5b6-157">c.</span><span class="sxs-lookup"><span data-stu-id="be5b6-157">c.</span></span> <span data-ttu-id="be5b6-158">Use o valor padrão para **URL de Ponto de Extremidade de Serviço Blob** , se você estiver usando a nuvem pública do Azure.</span><span class="sxs-lookup"><span data-stu-id="be5b6-158">Use the default value for **Blob Service Endpoint URL** if you are using the public Azure cloud.</span></span> <span data-ttu-id="be5b6-159">Se estiver usando uma nuvem do Azure diferente, use o ponto de extremidade como especificado no [portal do Azure](https://portal.azure.com) para a sua conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="be5b6-159">If you are using a different Azure cloud, use the endpoint as specified in the [Azure Portal](https://portal.azure.com) for your storage account.</span></span>
   
    <span data-ttu-id="be5b6-160">d.</span><span class="sxs-lookup"><span data-stu-id="be5b6-160">d.</span></span> <span data-ttu-id="be5b6-161">Clique em **Validar credenciais de armazenamento** para validar sua conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="be5b6-161">Click **Validate storage credentials** to validate your storage account.</span></span>
   
    <span data-ttu-id="be5b6-162">e.</span><span class="sxs-lookup"><span data-stu-id="be5b6-162">e.</span></span> <span data-ttu-id="be5b6-163">[Opcional] Se você tiver contas de armazenamento adicionais que queira disponibilizar para o Hudson CI, clique em **Adicionar mais contas de armazenamento**.</span><span class="sxs-lookup"><span data-stu-id="be5b6-163">[Optional] If you have additional storage accounts that you want made available to your Hudson CI, click **Add more storage accounts**.</span></span>
   
    <span data-ttu-id="be5b6-164">f.</span><span class="sxs-lookup"><span data-stu-id="be5b6-164">f.</span></span> <span data-ttu-id="be5b6-165">Para salvar suas configurações, clique em **Salvar** .</span><span class="sxs-lookup"><span data-stu-id="be5b6-165">Click **Save** to save your settings.</span></span>

## <a name="how-to-create-a-post-build-action-that-uploads-your-build-artifacts-to-your-storage-account"></a><span data-ttu-id="be5b6-166">Como criar uma ação de pós-compilação que carrega os artefatos de compilação para a sua conta de armazenamento</span><span class="sxs-lookup"><span data-stu-id="be5b6-166">How to create a post-build action that uploads your build artifacts to your storage account</span></span>
<span data-ttu-id="be5b6-167">Para fins de instrução, primeiro será necessário criar um trabalho que crie vários arquivos e, em seguida, adicioná-lo à ação de pós-compilação para carregar os arquivos para a sua conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="be5b6-167">For instruction purposes, first we'll need to create a job that will create several files, and then add in the post-build action to upload the files to your storage account.</span></span>

1. <span data-ttu-id="be5b6-168">No painel do Hudson, clique em **New Job**.</span><span class="sxs-lookup"><span data-stu-id="be5b6-168">Within the Hudson dashboard, click **New Job**.</span></span>
2. <span data-ttu-id="be5b6-169">Nomeie o trabalho como **MyJob**, clique em **Build a free-style software job** e em **OK**.</span><span class="sxs-lookup"><span data-stu-id="be5b6-169">Name the job **MyJob**, click **Build a free-style software job**, and then click **OK**.</span></span>
3. <span data-ttu-id="be5b6-170">Na seção **Compilar** da configuração do trabalho, clique em **Adicionar etapa de compilação** e selecione **Executar comando em lote do Windows**.</span><span class="sxs-lookup"><span data-stu-id="be5b6-170">In the **Build** section of the job configuration, click **Add build step** and choose **Execute Windows batch command**.</span></span>
4. <span data-ttu-id="be5b6-171">Em **Comando**, use os seguintes comandos:</span><span class="sxs-lookup"><span data-stu-id="be5b6-171">In **Command**, use the following commands:</span></span>

    ```   
        md text
        cd text
        echo Hello Azure Storage from Hudson > hello.txt
        date /t > date.txt
        time /t >> date.txt
    ```

5. <span data-ttu-id="be5b6-172">Na seção **Post-build Actions** de configuração do trabalho, clique em **Upload artifacts to Microsoft Azure Blob storage**.</span><span class="sxs-lookup"><span data-stu-id="be5b6-172">In the **Post-build Actions** section of the job configuration, click **Upload artifacts to Microsoft Azure Blob storage**.</span></span>
6. <span data-ttu-id="be5b6-173">Em **Nome de Conta de Armazenamento**, selecione a conta de armazenamento a ser usada.</span><span class="sxs-lookup"><span data-stu-id="be5b6-173">For **Storage Account Name**, select the storage account to use.</span></span>
7. <span data-ttu-id="be5b6-174">Em **Nome do contêiner**, especifique o nome do contêiner.</span><span class="sxs-lookup"><span data-stu-id="be5b6-174">For **Container Name**, specify the container name.</span></span> <span data-ttu-id="be5b6-175">(O contêiner será criado se ele ainda não existir quando os artefatos de compilação forem carregados.) É possível usar variáveis do ambiente, portanto, para este exemplo, insira **${JOB_NAME}** como o nome do contêiner.</span><span class="sxs-lookup"><span data-stu-id="be5b6-175">(The container will be created if it does not already exist when the build artifacts are uploaded.) You can use environment variables, so for this example enter **${JOB_NAME}** as the container name.</span></span>
   
    <span data-ttu-id="be5b6-176">**Dica**</span><span class="sxs-lookup"><span data-stu-id="be5b6-176">**Tip**</span></span>
   
    <span data-ttu-id="be5b6-177">Abaixo da seção **Command** em que você inseriu um script para **Execute Windows batch command**, existe um link para as variáveis de ambiente reconhecidas pelo Hudson.</span><span class="sxs-lookup"><span data-stu-id="be5b6-177">Below the **Command** section where you entered a script for **Execute Windows batch command** is a link to the environment variables recognized by Hudson.</span></span> <span data-ttu-id="be5b6-178">Clique nesse link para obter os nomes de variáveis de ambiente e as descrições.</span><span class="sxs-lookup"><span data-stu-id="be5b6-178">Click that link to learn the environment variable names and descriptions.</span></span> <span data-ttu-id="be5b6-179">Observe que as variáveis de ambiente que contêm caracteres especiais, como a variável de ambiente **BUILD_URL**, não são permitidas como um nome de contêiner ou um caminho virtual comum.</span><span class="sxs-lookup"><span data-stu-id="be5b6-179">Note that environment variables that contain special characters, such as the **BUILD_URL** environment variable, are not allowed as a container name or common virtual path.</span></span>
8. <span data-ttu-id="be5b6-180">Clique em **Tornar o novo contêiner público por padrão** para este exemplo.</span><span class="sxs-lookup"><span data-stu-id="be5b6-180">Click **Make new container public by default** for this example.</span></span> <span data-ttu-id="be5b6-181">Se desejar usar um contêiner particular, você precisará criar uma assinatura de acesso compartilhado para permitir o acesso.</span><span class="sxs-lookup"><span data-stu-id="be5b6-181">(If you want to use a private container, you'll need to create a shared access signature to allow access.</span></span> <span data-ttu-id="be5b6-182">Isso está além do escopo deste artigo.</span><span class="sxs-lookup"><span data-stu-id="be5b6-182">That is beyond the scope of this article.</span></span> <span data-ttu-id="be5b6-183">Você pode saber mais sobre assinaturas de acesso compartilhado em [Uso de SAS (Assinaturas de Acesso Compartilhado)](storage-dotnet-shared-access-signature-part-1.md).</span><span class="sxs-lookup"><span data-stu-id="be5b6-183">You can learn more about shared access signatures at [Using Shared Access Signatures (SAS)](storage-dotnet-shared-access-signature-part-1.md).)</span></span>
9. <span data-ttu-id="be5b6-184">[Opcional] Clique em **Limpar contêiner antes de carregar** se quiser que o contêiner seja limpo de conteúdo antes que os artefatos de compilação sejam carregados (deixe a opção desmarcada se não quiser limpar o conteúdo do contêiner).</span><span class="sxs-lookup"><span data-stu-id="be5b6-184">[Optional] Click **Clean container before uploading** if you want the container to be cleared of contents before build artifacts are uploaded (leave it unchecked if you do not want to clean the contents of the container).</span></span>
10. <span data-ttu-id="be5b6-185">Em **Lista de artefatos a serem carregados**, insira **text/*.txt**.</span><span class="sxs-lookup"><span data-stu-id="be5b6-185">For **List of Artifacts to upload**, enter **text/*.txt**.</span></span>
11. <span data-ttu-id="be5b6-186">Em **Common virtual path for uploaded artifacts**, digite **${BUILD\_ID}/${BUILD\_NUMBER}**.</span><span class="sxs-lookup"><span data-stu-id="be5b6-186">For **Common virtual path for uploaded artifacts**, enter **${BUILD\_ID}/${BUILD\_NUMBER}**.</span></span>
12. <span data-ttu-id="be5b6-187">Para salvar suas configurações, clique em **Salvar** .</span><span class="sxs-lookup"><span data-stu-id="be5b6-187">Click **Save** to save your settings.</span></span>
13. <span data-ttu-id="be5b6-188">No painel do Hudson, clique em **Build Now** para executar **MyJob**.</span><span class="sxs-lookup"><span data-stu-id="be5b6-188">In the Hudson dashboard, click **Build Now** to run **MyJob**.</span></span> <span data-ttu-id="be5b6-189">Examine a saída do console para o status.</span><span class="sxs-lookup"><span data-stu-id="be5b6-189">Examine the console output for status.</span></span> <span data-ttu-id="be5b6-190">As mensagens de status do Armazenamento do Azure serão incluídas na saída do console quando a ação de pós-compilação iniciar o carregamento dos artefatos de compilação.</span><span class="sxs-lookup"><span data-stu-id="be5b6-190">Status messages for Azure Storage will be included in the console output when the post-build action starts to upload build artifacts.</span></span>
14. <span data-ttu-id="be5b6-191">Após a conclusão bem-sucedida do trabalho, você poderá examinar os artefatos de compilação abrindo o blob público.</span><span class="sxs-lookup"><span data-stu-id="be5b6-191">Upon successful completion of the job, you can examine the build artifacts by opening the public blob.</span></span>
    
    <span data-ttu-id="be5b6-192">a.</span><span class="sxs-lookup"><span data-stu-id="be5b6-192">a.</span></span> <span data-ttu-id="be5b6-193">Entre no [Portal do Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="be5b6-193">Sign in to the [Azure Portal](https://portal.azure.com).</span></span>
    
    <span data-ttu-id="be5b6-194">b.</span><span class="sxs-lookup"><span data-stu-id="be5b6-194">b.</span></span> <span data-ttu-id="be5b6-195">Clique em **Armazenamento**.</span><span class="sxs-lookup"><span data-stu-id="be5b6-195">Click **Storage**.</span></span>
    
    <span data-ttu-id="be5b6-196">c.</span><span class="sxs-lookup"><span data-stu-id="be5b6-196">c.</span></span> <span data-ttu-id="be5b6-197">Clique no nome da conta de armazenamento usada para o Hudson.</span><span class="sxs-lookup"><span data-stu-id="be5b6-197">Click the storage account name that you used for Hudson.</span></span>
    
    <span data-ttu-id="be5b6-198">d.</span><span class="sxs-lookup"><span data-stu-id="be5b6-198">d.</span></span> <span data-ttu-id="be5b6-199">Clique em **Contêineres**.</span><span class="sxs-lookup"><span data-stu-id="be5b6-199">Click **Containers**.</span></span>
    
    <span data-ttu-id="be5b6-200">e.</span><span class="sxs-lookup"><span data-stu-id="be5b6-200">e.</span></span> <span data-ttu-id="be5b6-201">Clique no contêiner chamado **myjob**, que é a versão em letra minúscula do nome do trabalho que você atribuiu ao criar o trabalho do Hudson.</span><span class="sxs-lookup"><span data-stu-id="be5b6-201">Click the container named **myjob**, which is the lowercase version of the job name that you assigned when you created the Hudson job.</span></span> <span data-ttu-id="be5b6-202">Os nomes de contêineres e de blob são escritos em letra minúscula (e diferenciam maiúsculas de minúsculas) no Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="be5b6-202">Container names and blob names are lowercase (and case-sensitive) in Azure Storage.</span></span> <span data-ttu-id="be5b6-203">Na lista de blobs do contêiner chamado **myjob**, você deverá visualizar **hello.txt** e **date.txt**.</span><span class="sxs-lookup"><span data-stu-id="be5b6-203">Within the list of blobs for the container named **myjob** you should see **hello.txt** and **date.txt**.</span></span> <span data-ttu-id="be5b6-204">Copie a URL de um desses itens e abra-a em seu navegador.</span><span class="sxs-lookup"><span data-stu-id="be5b6-204">Copy the URL for either of these items and open it in your browser.</span></span> <span data-ttu-id="be5b6-205">Você visualizará o arquivo de texto carregado como um artefato de compilação.</span><span class="sxs-lookup"><span data-stu-id="be5b6-205">You will see the text file that was uploaded as a build artifact.</span></span>

<span data-ttu-id="be5b6-206">Somente uma ação pós-compilação que carrega artefatos no armazenamento de Blob do Azure pode ser criada por trabalho.</span><span class="sxs-lookup"><span data-stu-id="be5b6-206">Only one post-build action that uploads artifacts to Azure Blob storage can be created per job.</span></span> <span data-ttu-id="be5b6-207">Observe que uma única ação pós-compilação para carregar artefatos no armazenamento de Blob do Azure pode especificar arquivos diferentes (inclusive curingas) e caminhos para arquivos na **Lista de Artefatos a serem carregados** usando um ponto-e-vírgula como o separador.</span><span class="sxs-lookup"><span data-stu-id="be5b6-207">Note that the single post-build action to upload artifacts to Azure Blob storage can specify different files (including wildcards) and paths to files within **List of Artifacts to upload** using a semi-colon as a separator.</span></span> <span data-ttu-id="be5b6-208">Por exemplo, se a compilação Hudson produzir arquivos JAR e arquivos TXT na pasta **build** do espaço de trabalho e você quiser carregar os dois tipos de arquivos no Armazenamento de Blobs do Azure, use o seguinte como o valor da **Lista de Artefatos** a serem carregados: **build/\*.jar;build/\*.txt**.</span><span class="sxs-lookup"><span data-stu-id="be5b6-208">For example, if your Hudson build produces JAR files and TXT files in your workspace's **build** folder, and you want to upload both to Azure Blob storage, use the following for the **List of Artifacts to upload** value: **build/\*.jar;build/\*.txt**.</span></span> <span data-ttu-id="be5b6-209">Você também pode usar a sintaxe de dois-pontos duplos para especificar um caminho a ser usado dentro do nome do blob.</span><span class="sxs-lookup"><span data-stu-id="be5b6-209">You can also use double-colon syntax to specify a path to use within the blob name.</span></span> <span data-ttu-id="be5b6-210">Por exemplo, se você quiser que os JARs sejam carregados usando **binários** no caminho do blob e os arquivos TXT sejam carregados usando **notificações** no caminho do blob, use o seguinte para o valor da **Lista de Artefatos a serem carregados**: **build/\*.jar::binaries;build/\*.txt::notices**.</span><span class="sxs-lookup"><span data-stu-id="be5b6-210">For example, if you want the JARs to get uploaded using **binaries** in the blob path and the TXT files to get uploaded using **notices** in the blob path, use the following for the **List of Artifacts to upload** value: **build/\*.jar::binaries;build/\*.txt::notices**.</span></span>

## <a name="how-to-create-a-build-step-that-downloads-from-azure-blob-storage"></a><span data-ttu-id="be5b6-211">Como criar uma etapa de compilação baixada do armazenamento de Blob do Azure</span><span class="sxs-lookup"><span data-stu-id="be5b6-211">How to create a build step that downloads from Azure Blob storage</span></span>
<span data-ttu-id="be5b6-212">As etapas a seguir mostram como configurar uma etapa de compilação para baixar itens do armazenamento de Blob do Azure.</span><span class="sxs-lookup"><span data-stu-id="be5b6-212">The following steps show how to configure a build step to download items from Azure Blob storage.</span></span> <span data-ttu-id="be5b6-213">Isso poderá ser útil se você quiser incluir itens na compilação, por exemplo, JARs que você mantém no armazenamento de Blob do Azure.</span><span class="sxs-lookup"><span data-stu-id="be5b6-213">This would be useful if you want to include items in your build, for example, JARs that you keep in Azure Blob storage.</span></span>

1. <span data-ttu-id="be5b6-214">Na seção **Compilar** da configuração do trabalho, clique em **Adicionar etapa de compilação** e selecione **Baixar no armazenamento de Blob do Azure**.</span><span class="sxs-lookup"><span data-stu-id="be5b6-214">In the **Build** section of the job configuration, click **Add build step** and choose **Download from Azure Blob storage**.</span></span>
2. <span data-ttu-id="be5b6-215">Em **Nome de conta de armazenamento**, selecione a conta de armazenamento a ser usada.</span><span class="sxs-lookup"><span data-stu-id="be5b6-215">For **Storage account name**, select the storage account to use.</span></span>
3. <span data-ttu-id="be5b6-216">Em **Nome do contêiner**, especifique o nome do contêiner que contém os blobs que você quer baixar.</span><span class="sxs-lookup"><span data-stu-id="be5b6-216">For **Container name**, specify the name of the container that has the blobs you want to download.</span></span> <span data-ttu-id="be5b6-217">É possível usar variáveis de ambiente.</span><span class="sxs-lookup"><span data-stu-id="be5b6-217">You can use environment variables.</span></span>
4. <span data-ttu-id="be5b6-218">Em **Nome do blob**, especifique o nome do blob.</span><span class="sxs-lookup"><span data-stu-id="be5b6-218">For **Blob name**, specify the blob name.</span></span> <span data-ttu-id="be5b6-219">É possível usar variáveis de ambiente.</span><span class="sxs-lookup"><span data-stu-id="be5b6-219">You can use environment variables.</span></span> <span data-ttu-id="be5b6-220">Além disso, você pode usar um asterisco como um curinga depois de especificar a letra inicial do nome do blob.</span><span class="sxs-lookup"><span data-stu-id="be5b6-220">Also, you can use an asterisk, as a wildcard after you specify the initial letter(s) of the blob name.</span></span> <span data-ttu-id="be5b6-221">Por exemplo, **project\*** deve especificar todos os blobs cujos nomes começam com **project**.</span><span class="sxs-lookup"><span data-stu-id="be5b6-221">For example, **project\*** would specify all blobs whose names start with **project**.</span></span>
5. <span data-ttu-id="be5b6-222">[Opcional] Em **Caminho do download**, especifique o caminho no computador Hudson, onde você quer baixar arquivos do armazenamento de Blob do Azure.</span><span class="sxs-lookup"><span data-stu-id="be5b6-222">[Optional] For **Download path**, specify the path on the Hudson machine where you want to download files from Azure Blob storage.</span></span> <span data-ttu-id="be5b6-223">Também é possível usar variáveis de ambiente.</span><span class="sxs-lookup"><span data-stu-id="be5b6-223">Environment variables can also be used.</span></span> <span data-ttu-id="be5b6-224">(Se você não fornecer um valor para **Caminho do download**, os arquivos no armazenamento de Blob do Azure serão baixados no espaço de trabalho da tarefa).</span><span class="sxs-lookup"><span data-stu-id="be5b6-224">(If you do not provide a value for **Download path**, the files from Azure Blob storage will be downloaded to the job's workspace.)</span></span>

<span data-ttu-id="be5b6-225">Se houver itens adicionais que deseja baixar do armazenamento de Blob do Azure, você poderá criar etapas de compilação adicionais.</span><span class="sxs-lookup"><span data-stu-id="be5b6-225">If you have additional items you want to download from Azure Blob storage, you can create additional build steps.</span></span>

<span data-ttu-id="be5b6-226">Depois de executar uma compilação, você pode verificar a saída do console de histórico da compilação ou verificar o local de download para ver se os blobs esperados foram baixados com êxito.</span><span class="sxs-lookup"><span data-stu-id="be5b6-226">After you run a build, you can check the build history console output, or look at your download location, to see whether the blobs you expected were successfully downloaded.</span></span>

## <a name="components-used-by-the-blob-service"></a><span data-ttu-id="be5b6-227">Componentes usados pelo serviço Blob</span><span class="sxs-lookup"><span data-stu-id="be5b6-227">Components used by the Blob service</span></span>
<span data-ttu-id="be5b6-228">Segue abaixo uma visão geral dos componentes do serviço Blob.</span><span class="sxs-lookup"><span data-stu-id="be5b6-228">The following provides an overview of the Blob service components.</span></span>

* <span data-ttu-id="be5b6-229">**Conta de armazenamento**: todo o acesso ao Armazenamento do Azure é feito por meio de uma conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="be5b6-229">**Storage account**: All access to Azure Storage is done through a storage account.</span></span> <span data-ttu-id="be5b6-230">Este é o nível mais alto do namespace para o acesso de blobs.</span><span class="sxs-lookup"><span data-stu-id="be5b6-230">This is the highest level of the namespace for accessing blobs.</span></span> <span data-ttu-id="be5b6-231">Uma conta pode conter um número ilimitado de contêineres, desde que seu tamanho total seja inferior a 100 TB.</span><span class="sxs-lookup"><span data-stu-id="be5b6-231">An account can contain an unlimited number of containers, as long as their total size is under 100 TB.</span></span>
* <span data-ttu-id="be5b6-232">**Contêiner**: o contêiner fornece um agrupamento de conjunto de blobs.</span><span class="sxs-lookup"><span data-stu-id="be5b6-232">**Container**: A container provides a grouping of a set of blobs.</span></span> <span data-ttu-id="be5b6-233">Todos os blobs devem ter um contêiner.</span><span class="sxs-lookup"><span data-stu-id="be5b6-233">All blobs must be in a container.</span></span> <span data-ttu-id="be5b6-234">Uma conta pode conter um número ilimitado de contêineres.</span><span class="sxs-lookup"><span data-stu-id="be5b6-234">An account can contain an unlimited number of containers.</span></span> <span data-ttu-id="be5b6-235">Um contêiner pode armazenar um número ilimitado de blobs.</span><span class="sxs-lookup"><span data-stu-id="be5b6-235">A container can store an unlimited number of blobs.</span></span>
* <span data-ttu-id="be5b6-236">**Blob**: um arquivo de qualquer tipo e tamanho.</span><span class="sxs-lookup"><span data-stu-id="be5b6-236">**Blob**: A file of any type and size.</span></span> <span data-ttu-id="be5b6-237">Existem dois tipos de blobs que podem ser armazenados no Armazenamento do Azure: blobs de blocos e de páginas.</span><span class="sxs-lookup"><span data-stu-id="be5b6-237">There are two types of blobs that can be stored in Azure Storage: block and page blobs.</span></span> <span data-ttu-id="be5b6-238">A maioria dos arquivos são blobs de bloco.</span><span class="sxs-lookup"><span data-stu-id="be5b6-238">Most files are block blobs.</span></span> <span data-ttu-id="be5b6-239">Um único blob de blocos pode ter até 200 GB de tamanho.</span><span class="sxs-lookup"><span data-stu-id="be5b6-239">A single block blob can be up to 200 GB in size.</span></span> <span data-ttu-id="be5b6-240">Este tutorial usa blobs de bloco.</span><span class="sxs-lookup"><span data-stu-id="be5b6-240">This tutorial uses block blobs.</span></span> <span data-ttu-id="be5b6-241">Os blobs de página, um outro tipo de blob, podem ter até 1 TB de tamanho e são mais eficientes quando os intervalos de bytes em um arquivo são modificados com frequência.</span><span class="sxs-lookup"><span data-stu-id="be5b6-241">Page blobs, another blob type, can be up to 1 TB in size, and are more efficient when ranges of bytes in a file are modified frequently.</span></span> <span data-ttu-id="be5b6-242">Para obter mais informações sobre os blobs, consulte [Compreendendo os Blobs de Bloco, Blobs de Anexo e Blobs de Página](http://msdn.microsoft.com/library/azure/ee691964.aspx).</span><span class="sxs-lookup"><span data-stu-id="be5b6-242">For more information about blobs, see [Understanding Block Blobs, Append Blobs, and Page Blobs](http://msdn.microsoft.com/library/azure/ee691964.aspx).</span></span>
* <span data-ttu-id="be5b6-243">**Formato de URL**: os blobs são endereçáveis usando o seguinte formato de URL:</span><span class="sxs-lookup"><span data-stu-id="be5b6-243">**URL format**: Blobs are addressable using the following URL format:</span></span>
  
    `http://storageaccount.blob.core.windows.net/container_name/blob_name`
  
    <span data-ttu-id="be5b6-244">(O formato acima aplica-se a uma nuvem pública do Azure.</span><span class="sxs-lookup"><span data-stu-id="be5b6-244">(The format above applies to the public Azure cloud.</span></span> <span data-ttu-id="be5b6-245">Se estiver usando uma nuvem do Azure diferente, use o ponto de extremidade localizado no [portal do Azure](https://portal.azure.com) para determinar o ponto de extremidade de sua URL).</span><span class="sxs-lookup"><span data-stu-id="be5b6-245">If you are using a different Azure cloud, use the endpoint within the [Azure Portal](https://portal.azure.com) to determine your URL endpoint.)</span></span>
  
    <span data-ttu-id="be5b6-246">No formato acima, `storageaccount` representa o nome da sua conta de armazenamento, `container_name` representa o nome do seu contêiner e `blob_name` representa o nome do seu blob, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="be5b6-246">In the format above, `storageaccount` represents the name of your storage account, `container_name` represents the name of your container, and `blob_name` represents the name of your blob, respectively.</span></span> <span data-ttu-id="be5b6-247">Dentro do nome do contêiner, é possível ter vários caminhos, separados por uma barra, **/**.</span><span class="sxs-lookup"><span data-stu-id="be5b6-247">Within the container name, you can have multiple paths, separated by a forward slash, **/**.</span></span> <span data-ttu-id="be5b6-248">O exemplo de nome do contêiner neste tutorial foi **MyJob** e **${BUILD\_ID}/${BUILD\_NUMBER}** foi usado para o caminho virtual comum, fazendo com que o blob tivesse uma URL no seguinte formato:</span><span class="sxs-lookup"><span data-stu-id="be5b6-248">The example container name in this tutorial was **MyJob**, and **${BUILD\_ID}/${BUILD\_NUMBER}** was used for the common virtual path, resulting in the blob having a URL of the following form:</span></span>
  
    `http://example.blob.core.windows.net/myjob/2014-05-01_11-56-22/1/hello.txt`

## <a name="next-steps"></a><span data-ttu-id="be5b6-249">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="be5b6-249">Next steps</span></span>
* [<span data-ttu-id="be5b6-250">Conheça o Hudson</span><span class="sxs-lookup"><span data-stu-id="be5b6-250">Meet Hudson</span></span>](http://wiki.eclipse.org/Hudson-ci/Meet_Hudson)
* [<span data-ttu-id="be5b6-251">SDK de Armazenamento do Azure para Java</span><span class="sxs-lookup"><span data-stu-id="be5b6-251">Azure Storage SDK for Java</span></span>](https://github.com/azure/azure-storage-java)
* [<span data-ttu-id="be5b6-252">Referência de SDK do Cliente de Armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="be5b6-252">Azure Storage Client SDK Reference</span></span>](http://dl.windowsazure.com/storage/javadoc/)
* [<span data-ttu-id="be5b6-253">API REST de serviços de armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="be5b6-253">Azure Storage Services REST API</span></span>](https://msdn.microsoft.com/library/azure/dd179355.aspx)
* [<span data-ttu-id="be5b6-254">Blog da equipe de Armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="be5b6-254">Azure Storage Team Blog</span></span>](http://blogs.msdn.com/b/windowsazurestorage/)

<span data-ttu-id="be5b6-255">Para obter mais informações, consulte também o [Centro de desenvolvedores do Java](https://azure.microsoft.com/develop/java/).</span><span class="sxs-lookup"><span data-stu-id="be5b6-255">For more information, also see the [Java Developer Center](https://azure.microsoft.com/develop/java/).</span></span>