---
title: "verificação de desempenho e escalabilidade do armazenamento de aaaAzure | Microsoft Docs"
description: "Uma lista de verificação de práticas comprovadas para uso com o Armazenamento do Azure no desenvolvimento de aplicativos de alto desempenho."
services: storage
documentationcenter: 
author: robinsh
manager: timlt
editor: tysonn
ms.assetid: 959d831b-a4fd-4634-a646-0d2c0c462ef8
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 12/08/2016
ms.author: robinsh
ms.openlocfilehash: c0cd77da4a1abda42c018255ed93215b71f4fad8
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="microsoft-azure-storage-performance-and-scalability-checklist"></a><span data-ttu-id="8e71f-103">Lista de verificação de desempenho e escalabilidade do armazenamento do Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="8e71f-103">Microsoft Azure Storage Performance and Scalability Checklist</span></span>
## <a name="overview"></a><span data-ttu-id="8e71f-104">Visão geral</span><span class="sxs-lookup"><span data-stu-id="8e71f-104">Overview</span></span>
<span data-ttu-id="8e71f-105">Desde o lançamento de saudação do serviços de armazenamento do Microsoft Azure Olá, a Microsoft desenvolveu várias práticas comprovadas para usar esses serviços em um modo de alto desempenho, e este artigo serve tooconsolidate hello mais importante deles em uma lista de estilo de lista de verificação.</span><span class="sxs-lookup"><span data-stu-id="8e71f-105">Since hello release of hello Microsoft Azure Storage services, Microsoft has developed a number of proven practices for using these services in a performant manner, and this article serves tooconsolidate hello most important of them into a checklist-style list.</span></span> <span data-ttu-id="8e71f-106">Olá intenção deste artigo é toohelp os desenvolvedores de aplicativos, verifique se que eles estão usando práticas comprovadas com toohelp-los identificam outras práticas comprovadas, que eles devem considerar a adoção e o armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="8e71f-106">hello intention of this article is toohelp application developers verify they are using proven practices with Azure Storage and toohelp them identify other proven practices they should consider adopting.</span></span> <span data-ttu-id="8e71f-107">Este artigo não tenta toocover cada possível otimização de desempenho e escalabilidade — ele exclui os que são pequenos em seu impacto ou não é amplamente aplicável.</span><span class="sxs-lookup"><span data-stu-id="8e71f-107">This article does not attempt toocover every possible performance and scalability optimization — it excludes those that are small in their impact or not broadly applicable.</span></span> <span data-ttu-id="8e71f-108">extensão de toohello Olá o comportamento do aplicativo pode ser prevista durante o design, é útil tookeep em mente desde o início tooavoid designs que serão executado em problemas de desempenho.</span><span class="sxs-lookup"><span data-stu-id="8e71f-108">toohello extent that hello application's behavior can be predicted during design, it's useful tookeep these in mind early on tooavoid designs that will run into performance problems.</span></span>  

<span data-ttu-id="8e71f-109">Todos os desenvolvedores de aplicativos usando o armazenamento do Azure devem levar Olá tempo tooread neste artigo e verifique que seus aplicativos seguem cada Olá listadas abaixo de práticas comprovadas.</span><span class="sxs-lookup"><span data-stu-id="8e71f-109">Every application developer using Azure Storage should take hello time tooread this article, and check that his or her application follows each of hello proven practices listed below.</span></span>  

## <a name="checklist"></a><span data-ttu-id="8e71f-110">Lista de verificação</span><span class="sxs-lookup"><span data-stu-id="8e71f-110">Checklist</span></span>
<span data-ttu-id="8e71f-111">Este artigo organiza práticas comprovada de saudação em Olá grupos a seguir.</span><span class="sxs-lookup"><span data-stu-id="8e71f-111">This article organizes hello proven practices into hello following groups.</span></span> <span data-ttu-id="8e71f-112">As práticas comprovadas aplicam-se a:</span><span class="sxs-lookup"><span data-stu-id="8e71f-112">Proven practices applicable to:</span></span>  

* <span data-ttu-id="8e71f-113">Todos os serviços de armazenamento do Azure (blobs, tabelas, filas e arquivos)</span><span class="sxs-lookup"><span data-stu-id="8e71f-113">All Azure Storage services (blobs, tables, queues, and files)</span></span>
* <span data-ttu-id="8e71f-114">Blobs</span><span class="sxs-lookup"><span data-stu-id="8e71f-114">Blobs</span></span>
* <span data-ttu-id="8e71f-115">Tabelas</span><span class="sxs-lookup"><span data-stu-id="8e71f-115">Tables</span></span>
* <span data-ttu-id="8e71f-116">Filas</span><span class="sxs-lookup"><span data-stu-id="8e71f-116">Queues</span></span>  

| <span data-ttu-id="8e71f-117">Concluído</span><span class="sxs-lookup"><span data-stu-id="8e71f-117">Done</span></span> | <span data-ttu-id="8e71f-118">Área</span><span class="sxs-lookup"><span data-stu-id="8e71f-118">Area</span></span> | <span data-ttu-id="8e71f-119">Categoria</span><span class="sxs-lookup"><span data-stu-id="8e71f-119">Category</span></span> | <span data-ttu-id="8e71f-120">Pergunta</span><span class="sxs-lookup"><span data-stu-id="8e71f-120">Question</span></span> |
| --- | --- | --- | --- |
| &nbsp; | <span data-ttu-id="8e71f-121">Todos os serviços</span><span class="sxs-lookup"><span data-stu-id="8e71f-121">All Services</span></span> |<span data-ttu-id="8e71f-122">Metas de escalabilidade</span><span class="sxs-lookup"><span data-stu-id="8e71f-122">Scalability Targets</span></span> |[<span data-ttu-id="8e71f-123">Seu aplicativo criado tooavoid está se aproximando metas de escalabilidade Olá?</span><span class="sxs-lookup"><span data-stu-id="8e71f-123">Is your application designed tooavoid approaching hello scalability targets?</span></span>](#subheading1) |
| &nbsp; | <span data-ttu-id="8e71f-124">Todos os serviços</span><span class="sxs-lookup"><span data-stu-id="8e71f-124">All Services</span></span> |<span data-ttu-id="8e71f-125">Metas de escalabilidade</span><span class="sxs-lookup"><span data-stu-id="8e71f-125">Scalability Targets</span></span> |[<span data-ttu-id="8e71f-126">É o tooenable convenção projetada nomenclatura melhor balanceamento de carga?</span><span class="sxs-lookup"><span data-stu-id="8e71f-126">Is your naming convention designed tooenable better load-balancing?</span></span>](#subheading47) |
| &nbsp; | <span data-ttu-id="8e71f-127">Todos os serviços</span><span class="sxs-lookup"><span data-stu-id="8e71f-127">All Services</span></span> |<span data-ttu-id="8e71f-128">Rede</span><span class="sxs-lookup"><span data-stu-id="8e71f-128">Networking</span></span> |[<span data-ttu-id="8e71f-129">Dispositivos do lado cliente tem suficientemente alta largura de banda e o desempenho de saudação tooachieve de baixa latência necessárias?</span><span class="sxs-lookup"><span data-stu-id="8e71f-129">Do client side devices have sufficiently high bandwidth and low latency tooachieve hello performance needed?</span></span>](#subheading2) |
| &nbsp; | <span data-ttu-id="8e71f-130">Todos os serviços</span><span class="sxs-lookup"><span data-stu-id="8e71f-130">All Services</span></span> |<span data-ttu-id="8e71f-131">Rede</span><span class="sxs-lookup"><span data-stu-id="8e71f-131">Networking</span></span> |[<span data-ttu-id="8e71f-132">Os dispositivos cliente têm um link de alta qualidade?</span><span class="sxs-lookup"><span data-stu-id="8e71f-132">Do client side devices have a high enough quality link?</span></span>](#subheading3) |
| &nbsp; | <span data-ttu-id="8e71f-133">Todos os serviços</span><span class="sxs-lookup"><span data-stu-id="8e71f-133">All Services</span></span> |<span data-ttu-id="8e71f-134">Rede</span><span class="sxs-lookup"><span data-stu-id="8e71f-134">Networking</span></span> |[<span data-ttu-id="8e71f-135">Aplicativo de cliente hello está localizado "próximo" conta de armazenamento Olá?</span><span class="sxs-lookup"><span data-stu-id="8e71f-135">Is hello client application located "near" hello storage account?</span></span>](#subheading4) |
| &nbsp; | <span data-ttu-id="8e71f-136">Todos os serviços</span><span class="sxs-lookup"><span data-stu-id="8e71f-136">All Services</span></span> |<span data-ttu-id="8e71f-137">Distribuição de conteúdo</span><span class="sxs-lookup"><span data-stu-id="8e71f-137">Content Distribution</span></span> |[<span data-ttu-id="8e71f-138">Você usa um CDN para distribuir conteúdo?</span><span class="sxs-lookup"><span data-stu-id="8e71f-138">Are you using a CDN for content distribution?</span></span>](#subheading5) |
| &nbsp; | <span data-ttu-id="8e71f-139">Todos os serviços</span><span class="sxs-lookup"><span data-stu-id="8e71f-139">All Services</span></span> |<span data-ttu-id="8e71f-140">Acesso direto do cliente</span><span class="sxs-lookup"><span data-stu-id="8e71f-140">Direct Client Access</span></span> |[<span data-ttu-id="8e71f-141">Você está usando a SAS e CORS acesso direto de tooallow toostorage em vez de proxy?</span><span class="sxs-lookup"><span data-stu-id="8e71f-141">Are you using SAS and CORS tooallow direct access toostorage instead of proxy?</span></span>](#subheading6) |
| &nbsp; | <span data-ttu-id="8e71f-142">Todos os serviços</span><span class="sxs-lookup"><span data-stu-id="8e71f-142">All Services</span></span> |<span data-ttu-id="8e71f-143">Cache</span><span class="sxs-lookup"><span data-stu-id="8e71f-143">Caching</span></span> |[<span data-ttu-id="8e71f-144">Seu aplicativo armazena em cache os dados que são usados com frequência e que raramente mudam?</span><span class="sxs-lookup"><span data-stu-id="8e71f-144">Is your application caching data that is repeatedly used and changes rarely?</span></span>](#subheading7) |
| &nbsp; | <span data-ttu-id="8e71f-145">Todos os serviços</span><span class="sxs-lookup"><span data-stu-id="8e71f-145">All Services</span></span> |<span data-ttu-id="8e71f-146">Cache</span><span class="sxs-lookup"><span data-stu-id="8e71f-146">Caching</span></span> |[<span data-ttu-id="8e71f-147">Seu aplicativo compila atualizações, armazenando-as em cache no cliente e carregando-as em grandes conjuntos?</span><span class="sxs-lookup"><span data-stu-id="8e71f-147">Is your application batching updates (caching them client side and then uploading in larger sets)?</span></span>](#subheading8) |
| &nbsp; | <span data-ttu-id="8e71f-148">Todos os serviços</span><span class="sxs-lookup"><span data-stu-id="8e71f-148">All Services</span></span> |<span data-ttu-id="8e71f-149">Configuração .NET</span><span class="sxs-lookup"><span data-stu-id="8e71f-149">.NET Configuration</span></span> |[<span data-ttu-id="8e71f-150">Você configurou seu toouse um número suficiente de conexões simultâneas do cliente?</span><span class="sxs-lookup"><span data-stu-id="8e71f-150">Have you configured your client toouse a sufficient number of concurrent connections?</span></span>](#subheading9) |
| &nbsp; | <span data-ttu-id="8e71f-151">Todos os serviços</span><span class="sxs-lookup"><span data-stu-id="8e71f-151">All Services</span></span> |<span data-ttu-id="8e71f-152">Configuração .NET</span><span class="sxs-lookup"><span data-stu-id="8e71f-152">.NET Configuration</span></span> |[<span data-ttu-id="8e71f-153">Você configurou .NET toouse um número suficiente de threads?</span><span class="sxs-lookup"><span data-stu-id="8e71f-153">Have you configured .NET toouse a sufficient number of threads?</span></span>](#subheading10) |
| &nbsp; | <span data-ttu-id="8e71f-154">Todos os serviços</span><span class="sxs-lookup"><span data-stu-id="8e71f-154">All Services</span></span> |<span data-ttu-id="8e71f-155">Configuração .NET</span><span class="sxs-lookup"><span data-stu-id="8e71f-155">.NET Configuration</span></span> |[<span data-ttu-id="8e71f-156">Você usa o .NET 4.5 ou posterior, versões com recurso aprimorado de coleta de lixo?</span><span class="sxs-lookup"><span data-stu-id="8e71f-156">Are you using .NET 4.5 or later, which has improved garbage collection?</span></span>](#subheading11) |
| &nbsp; | <span data-ttu-id="8e71f-157">Todos os serviços</span><span class="sxs-lookup"><span data-stu-id="8e71f-157">All Services</span></span> |<span data-ttu-id="8e71f-158">Paralelismo</span><span class="sxs-lookup"><span data-stu-id="8e71f-158">Parallelism</span></span> |[<span data-ttu-id="8e71f-159">Você garante que o paralelismo é limitado adequadamente para que você não sobrecarregar a recursos de cliente ou destinos de escalabilidade de saudação?</span><span class="sxs-lookup"><span data-stu-id="8e71f-159">Have you ensured that parallelism is bounded appropriately so that you don't overload either your client capabilities or hello scalability targets?</span></span>](#subheading12) |
| &nbsp; | <span data-ttu-id="8e71f-160">Todos os serviços</span><span class="sxs-lookup"><span data-stu-id="8e71f-160">All Services</span></span> |<span data-ttu-id="8e71f-161">Ferramentas</span><span class="sxs-lookup"><span data-stu-id="8e71f-161">Tools</span></span> |[<span data-ttu-id="8e71f-162">Usando a versão mais recente de saudação da Microsoft é fornecidos ferramentas e bibliotecas de cliente?</span><span class="sxs-lookup"><span data-stu-id="8e71f-162">Are you using hello latest version of Microsoft provided client libraries and tools?</span></span>](#subheading13) |
| &nbsp; | <span data-ttu-id="8e71f-163">Todos os serviços</span><span class="sxs-lookup"><span data-stu-id="8e71f-163">All Services</span></span> |<span data-ttu-id="8e71f-164">Novas tentativas</span><span class="sxs-lookup"><span data-stu-id="8e71f-164">Retries</span></span> |[<span data-ttu-id="8e71f-165">Você usa uma política de nova tentativa de retirada exponencial para diminuir os erros e a ocorrência de tempos limite?</span><span class="sxs-lookup"><span data-stu-id="8e71f-165">Are you using an exponential backoff retry policy for throttling errors and timeouts?</span></span>](#subheading14) |
| &nbsp; | <span data-ttu-id="8e71f-166">Todos os serviços</span><span class="sxs-lookup"><span data-stu-id="8e71f-166">All Services</span></span> |<span data-ttu-id="8e71f-167">Novas tentativas</span><span class="sxs-lookup"><span data-stu-id="8e71f-167">Retries</span></span> |[<span data-ttu-id="8e71f-168">Seu aplicativo evita novas tentativas para erros que não admitem novas tentativas?</span><span class="sxs-lookup"><span data-stu-id="8e71f-168">Is your application avoiding retries for non-retryable errors?</span></span>](#subheading15) |
| &nbsp; | <span data-ttu-id="8e71f-169">Blobs</span><span class="sxs-lookup"><span data-stu-id="8e71f-169">Blobs</span></span> |<span data-ttu-id="8e71f-170">Metas de escalabilidade</span><span class="sxs-lookup"><span data-stu-id="8e71f-170">Scalability Targets</span></span> |[<span data-ttu-id="8e71f-171">Você tem um grande número de clientes que acessam um único objeto simultaneamente?</span><span class="sxs-lookup"><span data-stu-id="8e71f-171">Do you have a large number of clients accessing a single object concurrently?</span></span>](#subheading46) |
| &nbsp; | <span data-ttu-id="8e71f-172">Blobs</span><span class="sxs-lookup"><span data-stu-id="8e71f-172">Blobs</span></span> |<span data-ttu-id="8e71f-173">Metas de escalabilidade</span><span class="sxs-lookup"><span data-stu-id="8e71f-173">Scalability Targets</span></span> |[<span data-ttu-id="8e71f-174">Seu aplicativo permanecer dentro da meta de escalabilidade da largura de banda ou operações de saudação para um único blob?</span><span class="sxs-lookup"><span data-stu-id="8e71f-174">Is your application staying within hello bandwidth or operations scalability target for a single blob?</span></span>](#subheading16) |
| &nbsp; | <span data-ttu-id="8e71f-175">Blobs</span><span class="sxs-lookup"><span data-stu-id="8e71f-175">Blobs</span></span> |<span data-ttu-id="8e71f-176">Cópia de blobs</span><span class="sxs-lookup"><span data-stu-id="8e71f-176">Copying Blobs</span></span> |[<span data-ttu-id="8e71f-177">Seu método de cópia de blobs é eficiente?</span><span class="sxs-lookup"><span data-stu-id="8e71f-177">Are you copying blobs in an efficient manner?</span></span>](#subheading17) |
| &nbsp; | <span data-ttu-id="8e71f-178">Blobs</span><span class="sxs-lookup"><span data-stu-id="8e71f-178">Blobs</span></span> |<span data-ttu-id="8e71f-179">Cópia de blobs</span><span class="sxs-lookup"><span data-stu-id="8e71f-179">Copying Blobs</span></span> |[<span data-ttu-id="8e71f-180">Você usa o AzCopy para copiar blobs em massa?</span><span class="sxs-lookup"><span data-stu-id="8e71f-180">Are you using AzCopy for bulk copies of blobs?</span></span>](#subheading18) |
| &nbsp; | <span data-ttu-id="8e71f-181">Blobs</span><span class="sxs-lookup"><span data-stu-id="8e71f-181">Blobs</span></span> |<span data-ttu-id="8e71f-182">Cópia de blobs</span><span class="sxs-lookup"><span data-stu-id="8e71f-182">Copying Blobs</span></span> |[<span data-ttu-id="8e71f-183">Você está usando a importação/exportação do Azure tootransfer muito grandes volumes de dados?</span><span class="sxs-lookup"><span data-stu-id="8e71f-183">Are you using Azure Import/Export tootransfer very large volumes of data?</span></span>](#subheading19) |
| &nbsp; | <span data-ttu-id="8e71f-184">Blobs</span><span class="sxs-lookup"><span data-stu-id="8e71f-184">Blobs</span></span> |<span data-ttu-id="8e71f-185">Uso de metadados</span><span class="sxs-lookup"><span data-stu-id="8e71f-185">Use Metadata</span></span> |[<span data-ttu-id="8e71f-186">Você armazena os metadados sobre blobs usados com frequência?</span><span class="sxs-lookup"><span data-stu-id="8e71f-186">Are you storing frequently used metadata about blobs in their metadata?</span></span>](#subheading20) |
| &nbsp; | <span data-ttu-id="8e71f-187">Blobs</span><span class="sxs-lookup"><span data-stu-id="8e71f-187">Blobs</span></span> |<span data-ttu-id="8e71f-188">Carregamento rápido</span><span class="sxs-lookup"><span data-stu-id="8e71f-188">Uploading Fast</span></span> |[<span data-ttu-id="8e71f-189">Durante a tentativa de um blob de tooupload rapidamente, você está carregando blocos em paralelo?</span><span class="sxs-lookup"><span data-stu-id="8e71f-189">When trying tooupload one blob quickly, are you uploading blocks in parallel?</span></span>](#subheading21) |
| &nbsp; | <span data-ttu-id="8e71f-190">Blobs</span><span class="sxs-lookup"><span data-stu-id="8e71f-190">Blobs</span></span> |<span data-ttu-id="8e71f-191">Carregamento rápido</span><span class="sxs-lookup"><span data-stu-id="8e71f-191">Uploading Fast</span></span> |[<span data-ttu-id="8e71f-192">Durante a tentativa de tooupload muitos blobs rapidamente, você está carregando blobs em paralelo?</span><span class="sxs-lookup"><span data-stu-id="8e71f-192">When trying tooupload many blobs quickly, are you uploading blobs in parallel?</span></span>](#subheading22) |
| &nbsp; | <span data-ttu-id="8e71f-193">Blobs</span><span class="sxs-lookup"><span data-stu-id="8e71f-193">Blobs</span></span> |<span data-ttu-id="8e71f-194">Tipo de blob correto</span><span class="sxs-lookup"><span data-stu-id="8e71f-194">Correct Blob Type</span></span> |[<span data-ttu-id="8e71f-195">Você usa blobs de página ou de bloco quando necessário?</span><span class="sxs-lookup"><span data-stu-id="8e71f-195">Are you using page blobs or block blobs when appropriate?</span></span>](#subheading23) |
| &nbsp; | <span data-ttu-id="8e71f-196">Tabelas</span><span class="sxs-lookup"><span data-stu-id="8e71f-196">Tables</span></span> |<span data-ttu-id="8e71f-197">Metas de escalabilidade</span><span class="sxs-lookup"><span data-stu-id="8e71f-197">Scalability Targets</span></span> |[<span data-ttu-id="8e71f-198">São você aproxima Olá metas de escalabilidade para entidades por segundo?</span><span class="sxs-lookup"><span data-stu-id="8e71f-198">Are you approaching hello scalability targets for entities per second?</span></span>](#subheading24) |
| &nbsp; | <span data-ttu-id="8e71f-199">Tabelas</span><span class="sxs-lookup"><span data-stu-id="8e71f-199">Tables</span></span> |<span data-ttu-id="8e71f-200">Configuração</span><span class="sxs-lookup"><span data-stu-id="8e71f-200">Configuration</span></span> |[<span data-ttu-id="8e71f-201">Você usa JSON para suas solicitações de tabela?</span><span class="sxs-lookup"><span data-stu-id="8e71f-201">Are you using JSON for your table requests?</span></span>](#subheading25) |
| &nbsp; | <span data-ttu-id="8e71f-202">Tabelas</span><span class="sxs-lookup"><span data-stu-id="8e71f-202">Tables</span></span> |<span data-ttu-id="8e71f-203">Configuração</span><span class="sxs-lookup"><span data-stu-id="8e71f-203">Configuration</span></span> |[<span data-ttu-id="8e71f-204">Você desativou o Nagle tooimprove desempenho de saudação de solicitações pequenos?</span><span class="sxs-lookup"><span data-stu-id="8e71f-204">Have you turned Nagle off tooimprove hello performance of small requests?</span></span>](#subheading26) |
| &nbsp; | <span data-ttu-id="8e71f-205">Tabelas</span><span class="sxs-lookup"><span data-stu-id="8e71f-205">Tables</span></span> |<span data-ttu-id="8e71f-206">Tabelas e partições</span><span class="sxs-lookup"><span data-stu-id="8e71f-206">Tables and Partitions</span></span> |[<span data-ttu-id="8e71f-207">Você particionou seus dados corretamente?</span><span class="sxs-lookup"><span data-stu-id="8e71f-207">Have you properly partitioned your data?</span></span>](#subheading27) |
| &nbsp; | <span data-ttu-id="8e71f-208">Tabelas</span><span class="sxs-lookup"><span data-stu-id="8e71f-208">Tables</span></span> |<span data-ttu-id="8e71f-209">Partições mais acessadas</span><span class="sxs-lookup"><span data-stu-id="8e71f-209">Hot Partitions</span></span> |[<span data-ttu-id="8e71f-210">Você evita padrões do tipo "somente anexar" e "somente incluir"?</span><span class="sxs-lookup"><span data-stu-id="8e71f-210">Are you avoiding append-only and prepend-only patterns?</span></span>](#subheading28) |
| &nbsp; | <span data-ttu-id="8e71f-211">Tabelas</span><span class="sxs-lookup"><span data-stu-id="8e71f-211">Tables</span></span> |<span data-ttu-id="8e71f-212">Partições mais acessadas</span><span class="sxs-lookup"><span data-stu-id="8e71f-212">Hot Partitions</span></span> |[<span data-ttu-id="8e71f-213">Suas inserções/atualizações valem para diversas partições?</span><span class="sxs-lookup"><span data-stu-id="8e71f-213">Are your inserts/updates spread across many partitions?</span></span>](#subheading29) |
| &nbsp; | <span data-ttu-id="8e71f-214">Tabelas</span><span class="sxs-lookup"><span data-stu-id="8e71f-214">Tables</span></span> |<span data-ttu-id="8e71f-215">Escopo da consulta</span><span class="sxs-lookup"><span data-stu-id="8e71f-215">Query Scope</span></span> |[<span data-ttu-id="8e71f-216">Você criou seu tooallow de esquema para o ponto de consultas toobe usado na maioria dos casos e toobe de consultas de tabela usado com moderação?</span><span class="sxs-lookup"><span data-stu-id="8e71f-216">Have you designed your schema tooallow for point queries toobe used in most cases, and table queries toobe used sparingly?</span></span>](#subheading30) |
| &nbsp; | <span data-ttu-id="8e71f-217">Tabelas</span><span class="sxs-lookup"><span data-stu-id="8e71f-217">Tables</span></span> |<span data-ttu-id="8e71f-218">Densidade da consulta</span><span class="sxs-lookup"><span data-stu-id="8e71f-218">Query Density</span></span> |[<span data-ttu-id="8e71f-219">As suas consultas geralmente verificam e indicam quais linhas o aplicativo usará?</span><span class="sxs-lookup"><span data-stu-id="8e71f-219">Do your queries typically only scan and return rows that your application will use?</span></span>](#subheading31) |
| &nbsp; | <span data-ttu-id="8e71f-220">Tabelas</span><span class="sxs-lookup"><span data-stu-id="8e71f-220">Tables</span></span> |<span data-ttu-id="8e71f-221">Limitação dos dados retornados</span><span class="sxs-lookup"><span data-stu-id="8e71f-221">Limiting Returned Data</span></span> |[<span data-ttu-id="8e71f-222">Você está usando filtragem entidades retornando tooavoid que não são necessários?</span><span class="sxs-lookup"><span data-stu-id="8e71f-222">Are you using filtering tooavoid returning entities that are not needed?</span></span>](#subheading32) |
| &nbsp; | <span data-ttu-id="8e71f-223">Tabelas</span><span class="sxs-lookup"><span data-stu-id="8e71f-223">Tables</span></span> |<span data-ttu-id="8e71f-224">Limitação dos dados retornados</span><span class="sxs-lookup"><span data-stu-id="8e71f-224">Limiting Returned Data</span></span> |[<span data-ttu-id="8e71f-225">Você está usando tooavoid de projeção retornando propriedades que não são necessários?</span><span class="sxs-lookup"><span data-stu-id="8e71f-225">Are you using projection tooavoid returning properties that are not needed?</span></span>](#subheading33) |
| &nbsp; | <span data-ttu-id="8e71f-226">Tabelas</span><span class="sxs-lookup"><span data-stu-id="8e71f-226">Tables</span></span> |<span data-ttu-id="8e71f-227">Desnormalização</span><span class="sxs-lookup"><span data-stu-id="8e71f-227">Denormalization</span></span> |[<span data-ttu-id="8e71f-228">Você tem desnormalizada seus dados, de modo que você evitar consultas ineficientes ou várias solicitações de leitura durante a tentativa de tooget dados?</span><span class="sxs-lookup"><span data-stu-id="8e71f-228">Have you denormalized your data such that you avoid inefficient queries or multiple read requests when trying tooget data?</span></span>](#subheading34) |
| &nbsp; | <span data-ttu-id="8e71f-229">Tabelas</span><span class="sxs-lookup"><span data-stu-id="8e71f-229">Tables</span></span> |<span data-ttu-id="8e71f-230">Inserção/atualização/exclusão</span><span class="sxs-lookup"><span data-stu-id="8e71f-230">Insert/Update/Delete</span></span> |[<span data-ttu-id="8e71f-231">É você envio em lote solicitações que precisam de toobe transacional ou podem ser feitas em Olá mesmo tempo de ida e volta de tooreduce?</span><span class="sxs-lookup"><span data-stu-id="8e71f-231">Are you batching requests that need toobe transactional or can be done at hello same time tooreduce round-trips?</span></span>](#subheading35) |
| &nbsp; | <span data-ttu-id="8e71f-232">Tabelas</span><span class="sxs-lookup"><span data-stu-id="8e71f-232">Tables</span></span> |<span data-ttu-id="8e71f-233">Inserção/atualização/exclusão</span><span class="sxs-lookup"><span data-stu-id="8e71f-233">Insert/Update/Delete</span></span> |[<span data-ttu-id="8e71f-234">Você está evitando recuperando toodetermine de apenas uma entidade se toocall inserir ou atualizar?</span><span class="sxs-lookup"><span data-stu-id="8e71f-234">Are you avoiding retrieving an entity just toodetermine whether toocall insert or update?</span></span>](#subheading36) |
| &nbsp; | <span data-ttu-id="8e71f-235">Tabelas</span><span class="sxs-lookup"><span data-stu-id="8e71f-235">Tables</span></span> |<span data-ttu-id="8e71f-236">Inserção/atualização/exclusão</span><span class="sxs-lookup"><span data-stu-id="8e71f-236">Insert/Update/Delete</span></span> |[<span data-ttu-id="8e71f-237">Você já pensou em armazenar séries de dados que serão recuperados em conjunto frequentemente, em uma única entidade e como propriedades, em vez de serem recuperados como diversas entidades?</span><span class="sxs-lookup"><span data-stu-id="8e71f-237">Have you considered storing series of data that will frequently be retrieved together in a single entity as properties instead of multiple entities?</span></span>](#subheading37) |
| &nbsp; | <span data-ttu-id="8e71f-238">Tabelas</span><span class="sxs-lookup"><span data-stu-id="8e71f-238">Tables</span></span> |<span data-ttu-id="8e71f-239">Inserção/atualização/exclusão</span><span class="sxs-lookup"><span data-stu-id="8e71f-239">Insert/Update/Delete</span></span> |[<span data-ttu-id="8e71f-240">Você já pensou em usar blobs no lugar das tabelas para as entidades que serão recuperadas em conjunto e que podem ser escritas em lotes (por exemplo, dados de séries temporais)?</span><span class="sxs-lookup"><span data-stu-id="8e71f-240">For entities that will always be retrieved together and can be written in batches (e.g. time series data), have you considered using blobs instead of tables?</span></span>](#subheading38) |
| &nbsp; | <span data-ttu-id="8e71f-241">Filas</span><span class="sxs-lookup"><span data-stu-id="8e71f-241">Queues</span></span> |<span data-ttu-id="8e71f-242">Metas de escalabilidade</span><span class="sxs-lookup"><span data-stu-id="8e71f-242">Scalability Targets</span></span> |[<span data-ttu-id="8e71f-243">São você aproxima Olá metas de escalabilidade para mensagens por segundo?</span><span class="sxs-lookup"><span data-stu-id="8e71f-243">Are you approaching hello scalability targets for messages per second?</span></span>](#subheading39) |
| &nbsp; | <span data-ttu-id="8e71f-244">Filas</span><span class="sxs-lookup"><span data-stu-id="8e71f-244">Queues</span></span> |<span data-ttu-id="8e71f-245">Configuração</span><span class="sxs-lookup"><span data-stu-id="8e71f-245">Configuration</span></span> |[<span data-ttu-id="8e71f-246">Você desativou o Nagle tooimprove desempenho de saudação de solicitações pequenos?</span><span class="sxs-lookup"><span data-stu-id="8e71f-246">Have you turned Nagle off tooimprove hello performance of small requests?</span></span>](#subheading40) |
| &nbsp; | <span data-ttu-id="8e71f-247">Filas</span><span class="sxs-lookup"><span data-stu-id="8e71f-247">Queues</span></span> |<span data-ttu-id="8e71f-248">Tamanho da mensagem</span><span class="sxs-lookup"><span data-stu-id="8e71f-248">Message Size</span></span> |[<span data-ttu-id="8e71f-249">São mensagens tooimprove compact Olá desempenho da fila de Olá?</span><span class="sxs-lookup"><span data-stu-id="8e71f-249">Are your messages compact tooimprove hello performance of hello queue?</span></span>](#subheading41) |
| &nbsp; | <span data-ttu-id="8e71f-250">Filas</span><span class="sxs-lookup"><span data-stu-id="8e71f-250">Queues</span></span> |<span data-ttu-id="8e71f-251">Recuperação em massa</span><span class="sxs-lookup"><span data-stu-id="8e71f-251">Bulk Retrieve</span></span> |[<span data-ttu-id="8e71f-252">Você recupera diversas mensagens com uma única operação "Obter"?</span><span class="sxs-lookup"><span data-stu-id="8e71f-252">Are you retrieving multiple messages in a single "Get" operation?</span></span>](#subheading42) |
| &nbsp; | <span data-ttu-id="8e71f-253">Filas</span><span class="sxs-lookup"><span data-stu-id="8e71f-253">Queues</span></span> |<span data-ttu-id="8e71f-254">Frequência de votação</span><span class="sxs-lookup"><span data-stu-id="8e71f-254">Polling Frequency</span></span> |[<span data-ttu-id="8e71f-255">Você esteja sondando com frequência suficiente Olá tooreduce percebida latência do seu aplicativo?</span><span class="sxs-lookup"><span data-stu-id="8e71f-255">Are you polling frequently enough tooreduce hello perceived latency of your application?</span></span>](#subheading43) |
| &nbsp; | <span data-ttu-id="8e71f-256">Filas</span><span class="sxs-lookup"><span data-stu-id="8e71f-256">Queues</span></span> |<span data-ttu-id="8e71f-257">Atualização de mensagem</span><span class="sxs-lookup"><span data-stu-id="8e71f-257">Update Message</span></span> |[<span data-ttu-id="8e71f-258">Você está usando UpdateMessage toostore progresso no processamento de mensagens, evitando ter tooreprocess Olá toda a mensagem se ocorrer um erro?</span><span class="sxs-lookup"><span data-stu-id="8e71f-258">Are you using UpdateMessage toostore progress in processing messages, avoiding having tooreprocess hello entire message if an error occurs?</span></span>](#subheading44) |
| &nbsp; | <span data-ttu-id="8e71f-259">Filas</span><span class="sxs-lookup"><span data-stu-id="8e71f-259">Queues</span></span> |<span data-ttu-id="8e71f-260">Arquitetura</span><span class="sxs-lookup"><span data-stu-id="8e71f-260">Architecture</span></span> |[<span data-ttu-id="8e71f-261">Você está usando filas toomake todo o seu aplicativo mais escalonável, mantendo cargas de trabalho de longa execução fora do caminho crítico hello e escala, em seguida, independentemente?</span><span class="sxs-lookup"><span data-stu-id="8e71f-261">Are you using queues toomake your entire application more scalable by keeping long-running workloads out of hello critical path and scale then independently?</span></span>](#subheading45) |

## <span data-ttu-id="8e71f-262"><a name="allservices"></a>Todos os serviços</span><span class="sxs-lookup"><span data-stu-id="8e71f-262"><a name="allservices"></a>All Services</span></span>
<span data-ttu-id="8e71f-263">Esta seção lista as práticas comprovadas que usam toohello aplicável de qualquer um dos serviços de armazenamento do Azure hello (blobs, tabelas, filas ou arquivos).</span><span class="sxs-lookup"><span data-stu-id="8e71f-263">This section lists proven practices that are applicable toohello use of any of hello Azure Storage services (blobs, tables, queues, or files).</span></span>  

### <span data-ttu-id="8e71f-264"><a name="subheading1"></a>Metas de escalabilidade</span><span class="sxs-lookup"><span data-stu-id="8e71f-264"><a name="subheading1"></a>Scalability Targets</span></span>
<span data-ttu-id="8e71f-265">Cada um dos serviços de armazenamento do Azure Olá tem metas de escalabilidade de capacidade (GB), a taxa de transações e largura de banda.</span><span class="sxs-lookup"><span data-stu-id="8e71f-265">Each of hello Azure Storage services has scalability targets for capacity (GB), transaction rate, and bandwidth.</span></span> <span data-ttu-id="8e71f-266">Se seu aplicativo se aproximar ou excede qualquer um dos destinos de escalabilidade Olá, ele pode encontrar as latências de transação aumentada ou limitação.</span><span class="sxs-lookup"><span data-stu-id="8e71f-266">If your application approaches or exceeds any of hello scalability targets, it may encounter increased transaction latencies or throttling.</span></span> <span data-ttu-id="8e71f-267">Quando um serviço de armazenamento limita seu aplicativo, o serviço de saudação começa tooreturn "servidor 503 ocupado" ou "500 tempo limite da operação" códigos de erro para algumas transações de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="8e71f-267">When a Storage service throttles your application, hello service begins tooreturn "503 Server busy" or "500 Operation timeout" error codes for some storage transactions.</span></span> <span data-ttu-id="8e71f-268">Esta seção aborda os dois toodealing abordagem geral de Olá com destinos de escalabilidade e metas de escalabilidade de largura de banda em particular.</span><span class="sxs-lookup"><span data-stu-id="8e71f-268">This section discusses both hello general approach toodealing with scalability targets and bandwidth scalability targets in particular.</span></span> <span data-ttu-id="8e71f-269">As seções posteriores que lidam com os serviços de armazenamento individual discutem metas de escalabilidade no contexto de saudação do serviço específico:</span><span class="sxs-lookup"><span data-stu-id="8e71f-269">Later sections that deal with individual storage services discuss scalability targets in hello context of that specific service:</span></span>  

* [<span data-ttu-id="8e71f-270">Largura de banda do blob e solicitações por segundo</span><span class="sxs-lookup"><span data-stu-id="8e71f-270">Blob bandwidth and requests per second</span></span>](#subheading16)
* [<span data-ttu-id="8e71f-271">Entidades de tabela por segundo</span><span class="sxs-lookup"><span data-stu-id="8e71f-271">Table entities per second</span></span>](#subheading24)
* [<span data-ttu-id="8e71f-272">Fila de mensagens por segundo</span><span class="sxs-lookup"><span data-stu-id="8e71f-272">Queue messages per second</span></span>](#subheading39)  

#### <span data-ttu-id="8e71f-273"><a name="sub1bandwidth"></a>Meta de escalabilidade de largura de banda para todos os serviços</span><span class="sxs-lookup"><span data-stu-id="8e71f-273"><a name="sub1bandwidth"></a>Bandwidth Scalability Target for All Services</span></span>
<span data-ttu-id="8e71f-274">No momento da saudação de gravação, destinos de largura de banda de saudação em conta hello dos EUA para um armazenamento com redundância geográfica (GRS) são 10 gigabits por segundo (Gbps) de entrada (os dados enviados toohello conta de armazenamento) e 20 Gbps para saída (dados enviados da conta de armazenamento Olá).</span><span class="sxs-lookup"><span data-stu-id="8e71f-274">At hello time of writing, hello bandwidth targets in hello US for a geo-redundant storage (GRS) account are 10 gigabits per second (Gbps) for ingress (data sent toohello storage account) and 20 Gbps for egress (data sent from hello storage account).</span></span> <span data-ttu-id="8e71f-275">Para uma conta de armazenamento localmente redundante (LRS), os limites de saudação são superior – 20 Gbps para entrada e 30 Gbps para saída.</span><span class="sxs-lookup"><span data-stu-id="8e71f-275">For a locally redundant storage (LRS) account, hello limits are higher – 20 Gbps for ingress and 30 Gbps for egress.</span></span>  <span data-ttu-id="8e71f-276">Os limites de largura de banda internacional podem ser menores e constam na nossa [página de metas de escalabilidade](http://msdn.microsoft.com/library/azure/dn249410.aspx).</span><span class="sxs-lookup"><span data-stu-id="8e71f-276">International bandwidth limits may be lower and can be found on our [scalability targets page](http://msdn.microsoft.com/library/azure/dn249410.aspx).</span></span>  <span data-ttu-id="8e71f-277">Para obter mais informações sobre as opções de redundância de armazenamento hello, consulte os links de saudação em [recursos úteis](#sub1useful) abaixo.</span><span class="sxs-lookup"><span data-stu-id="8e71f-277">For more information on hello storage redundancy options, see hello links in [Useful Resources](#sub1useful) below.</span></span>  

#### <a name="what-toodo-when-approaching-a-scalability-target"></a><span data-ttu-id="8e71f-278">Quais toodo quando se aproximando de uma meta de escalabilidade</span><span class="sxs-lookup"><span data-stu-id="8e71f-278">What toodo when approaching a scalability target</span></span>
<span data-ttu-id="8e71f-279">Se seu aplicativo estiver se aproximando alvos de escalabilidade de saudação para uma única conta de armazenamento, considere adotando uma saudação abordagens a seguir:</span><span class="sxs-lookup"><span data-stu-id="8e71f-279">If your application is approaching hello scalability targets for a single storage account, consider adopting one of hello following approaches:</span></span>  

* <span data-ttu-id="8e71f-280">Reconsidere a carga de trabalho de saudação que faz com que seu aplicativo tooapproach ou exceder a meta de escalabilidade de saudação.</span><span class="sxs-lookup"><span data-stu-id="8e71f-280">Reconsider hello workload that causes your application tooapproach or exceed hello scalability target.</span></span> <span data-ttu-id="8e71f-281">Pode criá-lo diferentemente toouse menos largura de banda ou capacidade ou poucas transações?</span><span class="sxs-lookup"><span data-stu-id="8e71f-281">Can you design it differently toouse less bandwidth or capacity, or fewer transactions?</span></span>
* <span data-ttu-id="8e71f-282">Se um aplicativo deve exceder um dos destinos de escalabilidade hello, você deve criar várias contas de armazenamento e partição os dados do aplicativo entre essas várias contas de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="8e71f-282">If an application must exceed one of hello scalability targets, you should create multiple storage accounts and partition your application data across those multiple storage accounts.</span></span> <span data-ttu-id="8e71f-283">Se você usar esse padrão, em seguida, ser toodesign-se de que seu aplicativo para que você pode adicionar mais contas de armazenamento no hello futura para balanceamento de carga.</span><span class="sxs-lookup"><span data-stu-id="8e71f-283">If you use this pattern, then be sure toodesign your application so that you can add more storage accounts in hello future for load balancing.</span></span> <span data-ttu-id="8e71f-284">No momento da publicação, cada assinatura do Azure pode ter até too100 contas de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="8e71f-284">At time of writing, each Azure subscription can have up too100 storage accounts.</span></span>  <span data-ttu-id="8e71f-285">O único custo das contas de armazenamento é o uso dos dados armazenados, das transações feitas ou dos dados transferidos.</span><span class="sxs-lookup"><span data-stu-id="8e71f-285">Storage accounts also have no cost other than your usage in terms of data stored, transactions made, or data transferred.</span></span>
* <span data-ttu-id="8e71f-286">Se seu aplicativo atinge destinos de largura de banda hello, considere a compactação de dados no hello cliente tooreduce Olá largura de banda necessária toosend Olá dados toohello serviço de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="8e71f-286">If your application hits hello bandwidth targets, consider compressing data in hello client tooreduce hello bandwidth required toosend hello data toohello storage service.</span></span>  <span data-ttu-id="8e71f-287">Apesar de economizar a largura de banda e melhorar o desempenho da rede, isso também pode ter impactos negativos.</span><span class="sxs-lookup"><span data-stu-id="8e71f-287">Note that while this may save bandwidth and improve network performance, it can also have some negative impacts.</span></span>  <span data-ttu-id="8e71f-288">Você deve avaliar o impacto no desempenho Olá deste devido a requisitos de processamento adicionais toohello para compactar e descompactar os dados no cliente de saudação.</span><span class="sxs-lookup"><span data-stu-id="8e71f-288">You should evaluate hello performance impact of this due toohello additional processing requirements for compressing and decompressing data in hello client.</span></span> <span data-ttu-id="8e71f-289">Além disso, armazenar dados compactados pode tornar mais difícil problemas de tootroubleshoot desde que ele pode ser mais difícil dados tooview armazenado usando ferramentas padrão.</span><span class="sxs-lookup"><span data-stu-id="8e71f-289">In addition, storing compressed data can make it more difficult tootroubleshoot issues since it could be more difficult tooview stored data using standard tools.</span></span>
* <span data-ttu-id="8e71f-290">Se seu aplicativo atinge as metas de escalabilidade de hello, em seguida, certifique-se de que você está usando uma retirada exponencial para repetições (consulte [tentativas](#subheading14)).</span><span class="sxs-lookup"><span data-stu-id="8e71f-290">If your application hits hello scalability targets, then ensure that you are using an exponential backoff for retries (see [Retries](#subheading14)).</span></span>  <span data-ttu-id="8e71f-291">É melhor toomake-se de que você nunca aborda as metas de escalabilidade de saudação (usando um Olá acima métodos), mas isso irá garantir que seu aplicativo não apenas manter repetir rapidamente, tornando Olá limitação pior.</span><span class="sxs-lookup"><span data-stu-id="8e71f-291">It's better toomake sure you never approach hello scalability targets (by using one of hello above methods), but this will ensure your application won't just keep retrying rapidly, making hello throttling worse.</span></span>  

#### <a name="useful-resources"></a><span data-ttu-id="8e71f-292">Recursos úteis</span><span class="sxs-lookup"><span data-stu-id="8e71f-292">Useful Resources</span></span>
<span data-ttu-id="8e71f-293">Olá links a seguir fornece detalhes adicionais sobre metas de escalabilidade:</span><span class="sxs-lookup"><span data-stu-id="8e71f-293">hello following links provide additional detail on scalability targets:</span></span>

* <span data-ttu-id="8e71f-294">Confira [Metas de desempenho e escalabilidade do Armazenamento do Azure](storage-scalability-targets.md) para saber mais sobre metas de escalabilidade.</span><span class="sxs-lookup"><span data-stu-id="8e71f-294">See [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md) for information about scalability targets.</span></span>
* <span data-ttu-id="8e71f-295">Consulte [replicação de armazenamento do Azure](storage-redundancy.md) e postagem de blog Olá [opções de redundância de armazenamento do Azure e armazenamento geograficamente redundante de acesso de leitura](http://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/11/introducing-read-access-geo-replicated-storage-ra-grs-for-windows-azure-storage.aspx) para obter informações sobre opções de redundância de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="8e71f-295">See [Azure Storage replication](storage-redundancy.md) and hello blog post [Azure Storage Redundancy Options and Read Access Geo Redundant Storage](http://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/11/introducing-read-access-geo-replicated-storage-ra-grs-for-windows-azure-storage.aspx) for information about storage redundancy options.</span></span>
* <span data-ttu-id="8e71f-296">Para obter informações atualizadas sobre os preços dos serviços Azure, confira [Preços do Azure](https://azure.microsoft.com/pricing/overview/).</span><span class="sxs-lookup"><span data-stu-id="8e71f-296">For current information about pricing for Azure services, see [Azure pricing](https://azure.microsoft.com/pricing/overview/).</span></span>  

### <span data-ttu-id="8e71f-297"><a name="subheading47"></a>Convenção de nomenclatura de partição</span><span class="sxs-lookup"><span data-stu-id="8e71f-297"><a name="subheading47"></a>Partition Naming Convention</span></span>
<span data-ttu-id="8e71f-298">Armazenamento do Azure usa um baseada em intervalo particionamento esquema tooscale e carga saldo Olá sistema.</span><span class="sxs-lookup"><span data-stu-id="8e71f-298">Azure Storage uses a range-based partitioning scheme tooscale and load balance hello system.</span></span> <span data-ttu-id="8e71f-299">chave de partição Olá é usado toopartition dados em intervalos e esses intervalos são com balanceamento de carga em todo sistema hello.</span><span class="sxs-lookup"><span data-stu-id="8e71f-299">hello partition key is used toopartition data into ranges and these ranges are load-balanced across hello system.</span></span> <span data-ttu-id="8e71f-300">Isso significa que as convenções de nomenclatura como lexical ordenação (por exemplo, msftpayroll, msftperformance, msftemployees, etc.) ou usando os carimbos de hora (log20160101, log20160102, log20160102, etc.) serão prestam toohello partições sendo potencialmente co-localizados no Olá mesmo servidor de partição, até que uma operação de balanceamento de carga divide-los em intervalos menores.</span><span class="sxs-lookup"><span data-stu-id="8e71f-300">This means naming conventions such as lexical ordering (e.g. msftpayroll, msftperformance, msftemployees, etc) or using time-stamps (log20160101, log20160102, log20160102, etc) will lend itself toohello partitions being potentially co-located on hello same partition server, until a load balancing operation splits them out into smaller ranges.</span></span> <span data-ttu-id="8e71f-301">Por exemplo, todos os blobs dentro de um contêiner podem ser atendidos por um único servidor até hello carga esses blobs exigir mais rebalanceamento de intervalos de partição hello.</span><span class="sxs-lookup"><span data-stu-id="8e71f-301">For example, all blobs within a container can be served by a single server until hello load on these blobs requires further rebalancing of hello partition ranges.</span></span> <span data-ttu-id="8e71f-302">Da mesma forma, um grupo de contas pouco carregados com seus nomes organizados em ordem léxica pode ser atendido por um único servidor até Olá carregar em uma ou todas essas contas exigem-los toobe dividido em vários servidores de partições.</span><span class="sxs-lookup"><span data-stu-id="8e71f-302">Similarly, a group of lightly loaded accounts with their names arranged in lexical order may be served by a single server until hello load on one or all of these accounts require them toobe split across multiple partitions servers.</span></span> <span data-ttu-id="8e71f-303">Cada operação de balanceamento de carga pode afeta a latência de saudação de chamadas de armazenamento durante a operação de saudação.</span><span class="sxs-lookup"><span data-stu-id="8e71f-303">Each load balancing operation may impact hello latency of storage calls during hello operation.</span></span> <span data-ttu-id="8e71f-304">toohandle de capacidade do sistema Olá que uma intermitência repentina de partição de tooa de tráfego é limitada por escalabilidade de saudação do servidor de uma única partição até que a operação de balanceamento de carga de saudação é ativada no e redistribui o intervalo de chave de partição de saudação.</span><span class="sxs-lookup"><span data-stu-id="8e71f-304">hello system's ability toohandle a sudden burst of traffic tooa partition is limited by hello scalability of a single partition server until hello load balancing operation kicks-in and rebalances hello partition key range.</span></span>  

<span data-ttu-id="8e71f-305">Você pode seguir algumas melhores práticas tooreduce Olá frequência essas operações.</span><span class="sxs-lookup"><span data-stu-id="8e71f-305">You can follow some best practices tooreduce hello frequency of such operations.</span></span>  

* <span data-ttu-id="8e71f-306">Examine a convenção de nomenclatura Olá usada para contas, contêineres, blobs, tabelas e filas em conjunto.</span><span class="sxs-lookup"><span data-stu-id="8e71f-306">Examine hello naming convention you use for accounts, containers, blobs, tables and queues, closely.</span></span> <span data-ttu-id="8e71f-307">Considere prefixar os nomes de conta com um hash de três dígitos usando uma função de hash que melhor atenda às suas necessidades.</span><span class="sxs-lookup"><span data-stu-id="8e71f-307">Consider prefixing account names with a 3-digit hash using a hashing function that best suits your needs.</span></span>  
* <span data-ttu-id="8e71f-308">Se você organizar seus dados usando os carimbos de hora ou identificadores numéricos, você tem tooensure não estiver usando um padrões de tráfego somente de acréscimo (ou preceda somente).</span><span class="sxs-lookup"><span data-stu-id="8e71f-308">If you organize your data using timestamps or numerical identifiers, you have tooensure you are not using an append-only (or prepend-only) traffic patterns.</span></span> <span data-ttu-id="8e71f-309">Esses padrões não são adequados para um intervalo de-com base particionamento sistema e podem lead tooall Olá tráfego vai tooa única partição e sistema de Olá limitação de efetivamente o balanceamento de carga.</span><span class="sxs-lookup"><span data-stu-id="8e71f-309">These patterns are not suitable for a range -based partitioning system, and could lead tooall hello traffic going tooa single partition and limiting hello system from effectively load balancing.</span></span> <span data-ttu-id="8e71f-310">Por exemplo, se você tiver diariamente operações que usam um objeto de blob com um carimbo de hora, como AAAAMMDD, em seguida, todos os tráfego de saudação para operação diária é direcionado tooa único objeto que é fornecido por um único servidor de partições.</span><span class="sxs-lookup"><span data-stu-id="8e71f-310">For instance, if you have daily operations that use a blob object with a timestamp such as yyyymmdd, then all hello traffic for that daily operation is directed tooa single object which is served by a single partition server.</span></span> <span data-ttu-id="8e71f-311">Examine se limita a saudação por blob e por partição limites atender às suas necessidades e considere dividir essa operação em vários blobs, se necessário.</span><span class="sxs-lookup"><span data-stu-id="8e71f-311">Look at whether hello per blob limits and per partition limits meet your needs, and consider breaking this operation into multiple blobs if needed.</span></span> <span data-ttu-id="8e71f-312">Da mesma forma, se você armazenar dados de série temporal em suas tabelas, todo o tráfego Olá pode ser direcionado toohello última parte do espaço para nome de chave de saudação.</span><span class="sxs-lookup"><span data-stu-id="8e71f-312">Similarly, if you store time series data in your tables, all hello traffic could be directed toohello last part of hello key namespace.</span></span> <span data-ttu-id="8e71f-313">Se você deve usar os carimbos de hora ou IDs numéricos, um prefixo de id Olá com um hash de 3 dígitos, ou no caso de saudação de carimbos de hora prefixo Olá parte dos segundos de tempo de saudação como ssyyyymmdd.</span><span class="sxs-lookup"><span data-stu-id="8e71f-313">If you must use timestamps or numerical IDs, prefix hello id with a 3-digit hash, or in hello case of timestamps prefix hello seconds part of hello time such as ssyyyymmdd.</span></span> <span data-ttu-id="8e71f-314">Se as operações de listagem e de consulta forem executadas rotineiramente, escolha uma função de hash que limite o número de consultas.</span><span class="sxs-lookup"><span data-stu-id="8e71f-314">If listing and querying operations are routinely performed, choose a hashing function that will limit your number of queries.</span></span> <span data-ttu-id="8e71f-315">Em outros casos, um prefixo aleatório pode ser suficiente.</span><span class="sxs-lookup"><span data-stu-id="8e71f-315">In other cases, a random prefix may be sufficient.</span></span>  
* <span data-ttu-id="8e71f-316">Para obter informações adicionais sobre Olá particionamento esquema usado no armazenamento do Azure, leia o white paper do SOSP Olá [aqui](http://sigops.org/sosp/sosp11/current/2011-Cascais/printable/11-calder.pdf).</span><span class="sxs-lookup"><span data-stu-id="8e71f-316">For additional information on hello partitioning scheme used in Azure Storage, read hello SOSP paper [here](http://sigops.org/sosp/sosp11/current/2011-Cascais/printable/11-calder.pdf).</span></span>

### <a name="networking"></a><span data-ttu-id="8e71f-317">Rede</span><span class="sxs-lookup"><span data-stu-id="8e71f-317">Networking</span></span>
<span data-ttu-id="8e71f-318">Enquanto Olá API chama a questão, geralmente as restrições de rede física saudação do aplicativo hello tem um impacto significativo no desempenho.</span><span class="sxs-lookup"><span data-stu-id="8e71f-318">While hello API calls matter, often hello physical network constraints of hello application have a significant impact on performance.</span></span> <span data-ttu-id="8e71f-319">a seguir Olá descreve algumas das limitações que os usuários podem encontrar.</span><span class="sxs-lookup"><span data-stu-id="8e71f-319">hello following describe some of limitations users may encounter.</span></span>  

#### <a name="client-network-capability"></a><span data-ttu-id="8e71f-320">Funcionalidade da rede do cliente</span><span class="sxs-lookup"><span data-stu-id="8e71f-320">Client Network Capability</span></span>
##### <span data-ttu-id="8e71f-321"><a name="subheading2"></a>Produtividade</span><span class="sxs-lookup"><span data-stu-id="8e71f-321"><a name="subheading2"></a>Throughput</span></span>
<span data-ttu-id="8e71f-322">Largura de banda, problema Olá costuma ser recursos de saudação do cliente hello.</span><span class="sxs-lookup"><span data-stu-id="8e71f-322">For bandwidth, hello problem is often hello capabilities of hello client.</span></span> <span data-ttu-id="8e71f-323">Por exemplo, durante uma única conta de armazenamento pode lidar com 10 Gbps ou mais de entrada (consulte [metas de escalabilidade de largura de banda](#sub1bandwidth)), velocidade da rede Olá em uma instância de função de trabalho "Pequeno" só é capaz de aproximadamente 100 Mbps.</span><span class="sxs-lookup"><span data-stu-id="8e71f-323">For example, while a single storage account can handle 10 Gbps or more of ingress (see [bandwidth scalability targets](#sub1bandwidth)), hello network speed in a "Small" Azure Worker Role instance is only capable of approximately 100 Mbps.</span></span> <span data-ttu-id="8e71f-324">As instâncias maiores do Azure têm NICs com mais capacidade. Por isso, você pode usar uma instância maior ou mais VMs se precisar de limites de rede mais altos em um único computador.</span><span class="sxs-lookup"><span data-stu-id="8e71f-324">Larger Azure instances have NICs with greater capacity, so you should consider using a larger instance or more VM's if you need higher network limits from a single machine.</span></span> <span data-ttu-id="8e71f-325">Se você estiver acessando um serviço de armazenamento de um aplicativo local em, hello mesma regra se aplica: entender os recursos de rede de saudação do dispositivo do cliente hello e toohello de conectividade de rede Olá local de armazenamento do Azure e o aprimorá-los conforme necessário ou Crie toowork seu aplicativo em seus recursos.</span><span class="sxs-lookup"><span data-stu-id="8e71f-325">If you are accessing a Storage service from an on premises application, then hello same rule applies: understand hello network capabilities of hello client device and hello network connectivity toohello Azure Storage location and either improve them as needed or design your application toowork within their capabilities.</span></span>  

##### <span data-ttu-id="8e71f-326"><a name="subheading3"></a>Qualidade do vínculo</span><span class="sxs-lookup"><span data-stu-id="8e71f-326"><a name="subheading3"></a>Link Quality</span></span>
<span data-ttu-id="8e71f-327">Como é necessário com qualquer uso de rede, as condições de rede que resultam em erros e na perda de pacote desaceleram a taxa de transferência.</span><span class="sxs-lookup"><span data-stu-id="8e71f-327">As with any network usage, be aware that network conditions resulting in errors and packet loss will slow effective throughput.</span></span>  <span data-ttu-id="8e71f-328">Usar WireShark ou NetMon pode ajudar a identificar esse problema.</span><span class="sxs-lookup"><span data-stu-id="8e71f-328">Using WireShark or NetMon may help in diagnosing this issue.</span></span>  

##### <a name="useful-resources"></a><span data-ttu-id="8e71f-329">Recursos úteis</span><span class="sxs-lookup"><span data-stu-id="8e71f-329">Useful Resources</span></span>
<span data-ttu-id="8e71f-330">Para saber mais sobre os tamanhos de máquina virtual e sobre a largura de banda alocada, veja [Tamanhos de VM do Windows](../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) ou [Tamanhos de VM do Linux](../virtual-machines/linux/sizes.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="8e71f-330">For more information about virtual machine sizes and allocated bandwidth, see [Windows VM sizes](../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) or [Linux VM sizes](../virtual-machines/linux/sizes.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>  

#### <span data-ttu-id="8e71f-331"><a name="subheading4"></a>Local</span><span class="sxs-lookup"><span data-stu-id="8e71f-331"><a name="subheading4"></a>Location</span></span>
<span data-ttu-id="8e71f-332">Em qualquer ambiente distribuído, colocar cliente Olá próximo servidor toohello fornece em um melhor desempenho de saudação.</span><span class="sxs-lookup"><span data-stu-id="8e71f-332">In any distributed environment, placing hello client near toohello server delivers in hello best performance.</span></span> <span data-ttu-id="8e71f-333">Para acessar o armazenamento do Azure com a menor latência de hello, Olá melhor local para o cliente é dentro Olá mesma região do Azure.</span><span class="sxs-lookup"><span data-stu-id="8e71f-333">For accessing Azure Storage with hello lowest latency, hello best location for your client is within hello same Azure region.</span></span> <span data-ttu-id="8e71f-334">Por exemplo, se você tem um site do Azure que usa o armazenamento do Azure, ambos devem estar na mesma região (por exemplo, no oeste dos EUA ou no sudeste asiático).</span><span class="sxs-lookup"><span data-stu-id="8e71f-334">For example, if you have an Azure Web Site that uses Azure Storage, you should locate them both within a single region (for example, US West or Asia Southeast).</span></span> <span data-ttu-id="8e71f-335">Isso reduz a latência de saudação e Olá custo — no momento da saudação de gravação, uso de largura de banda em uma única região é gratuito.</span><span class="sxs-lookup"><span data-stu-id="8e71f-335">This reduces hello latency and hello cost — at hello time of writing, bandwidth usage within a single region is free.</span></span>  

<span data-ttu-id="8e71f-336">Se o cliente de aplicativos não são hospedados no Azure (como aplicativos de dispositivos móveis ou nos serviços de local da empresa), em seguida, novamente colocando conta de armazenamento de saudação em uma região próximo dispositivos toohello poderá acessá-lo, será geralmente reduzir a latência.</span><span class="sxs-lookup"><span data-stu-id="8e71f-336">If your client applications are not hosted within Azure (such as mobile device apps or on premises enterprise services), then again placing hello storage account in a region near toohello devices that will access it, will generally reduce latency.</span></span> <span data-ttu-id="8e71f-337">Se seus clientes estiverem amplamente distribuídos (por exemplo, alguns na América do Norte e alguns na Europa), você deve considerar o uso de várias contas de armazenamento: uma localizada em uma região na América do Norte e outra em uma região na Europa.</span><span class="sxs-lookup"><span data-stu-id="8e71f-337">If your clients are broadly distributed (for example, some in North America, and some in Europe), then you should consider using multiple storage accounts: one located in a North American region and one in a European region.</span></span> <span data-ttu-id="8e71f-338">Isso ajudará a latência tooreduce para usuários em ambas as regiões.</span><span class="sxs-lookup"><span data-stu-id="8e71f-338">This will help tooreduce latency for users in both regions.</span></span> <span data-ttu-id="8e71f-339">Essa abordagem é geralmente mais fácil tooimplement se hello armazenamentos de dados de aplicativo hello tooindividual específico de usuários e não requer replicando dados entre contas de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="8e71f-339">This approach is usually easier tooimplement if hello data hello application stores is specific tooindividual users, and does not require replicating data between storage accounts.</span></span>  <span data-ttu-id="8e71f-340">Para ampla distribuição de conteúdo, recomenda-se um CDN – consulte Olá próxima seção para obter mais detalhes.</span><span class="sxs-lookup"><span data-stu-id="8e71f-340">For broad content distribution, a CDN is recommended – see hello next section for more details.</span></span>  

### <span data-ttu-id="8e71f-341"><a name="subheading5"></a>Distribuição de conteúdo</span><span class="sxs-lookup"><span data-stu-id="8e71f-341"><a name="subheading5"></a>Content Distribution</span></span>
<span data-ttu-id="8e71f-342">Às vezes, uma saudação de tooserve aplicativo necessidades de usuários do mesmo conteúdo toomany (por exemplo, um produto de demonstração usado na saudação da home page de um site de vídeo), localizado no hello mesmo ou em várias regiões.</span><span class="sxs-lookup"><span data-stu-id="8e71f-342">Sometimes, an application needs tooserve hello same content toomany users (e.g. a product demo video used in hello home page of a website), located in either hello same or multiple regions.</span></span> <span data-ttu-id="8e71f-343">Nesse cenário, você deve usar uma rede de entrega de conteúdo (CDN) como CDN do Azure e Olá CDN usaria o armazenamento do Azure como origem de saudação do dados saudação.</span><span class="sxs-lookup"><span data-stu-id="8e71f-343">In this scenario, you should use a Content Delivery Network (CDN) such as Azure CDN, and hello CDN would use Azure storage as hello origin of hello data.</span></span> <span data-ttu-id="8e71f-344">Ao contrário de uma conta de armazenamento do Azure que existem em uma única região e que não pode entregar conteúdo com baixa latência tooother regiões, o CDN do Azure usa servidores em vários data centers ao redor Olá, mundo.</span><span class="sxs-lookup"><span data-stu-id="8e71f-344">Unlike an Azure Storage account that exists in a single region and that cannot deliver content with low latency tooother regions, Azure CDN uses servers in multiple data centers around hello world.</span></span> <span data-ttu-id="8e71f-345">Além disso, uma CDN geralmente tem limites de saída muito maiores do que as contas de armazenamento individuais.</span><span class="sxs-lookup"><span data-stu-id="8e71f-345">Additionally, a CDN can typically support much higher egress limits than a single storage account.</span></span>  

<span data-ttu-id="8e71f-346">Para obter mais informações, confira [CDN do Azure](https://azure.microsoft.com/services/cdn/).</span><span class="sxs-lookup"><span data-stu-id="8e71f-346">For more information about Azure CDN, see [Azure CDN](https://azure.microsoft.com/services/cdn/).</span></span>  

### <span data-ttu-id="8e71f-347"><a name="subheading6"></a>Usando SAS e CORS</span><span class="sxs-lookup"><span data-stu-id="8e71f-347"><a name="subheading6"></a>Using SAS and CORS</span></span>
<span data-ttu-id="8e71f-348">Quando você precisar de código tooauthorize como JavaScript no navegador da web de um usuário ou um dados de tooaccess do aplicativo de telefone celular no armazenamento do Azure, uma abordagem é toouse um aplicativo em função da web como um proxy: dispositivo do usuário Olá autentica com a função de web de saudação, que por sua vez autentica com o serviço de armazenamento de saudação.</span><span class="sxs-lookup"><span data-stu-id="8e71f-348">When you need tooauthorize code such as JavaScript in a user's web browser or a mobile phone app tooaccess data in Azure Storage, one approach is toouse an application in web role as a proxy: hello user's device authenticates with hello web role, which in turn authenticates with hello storage service.</span></span> <span data-ttu-id="8e71f-349">Dessa forma, você pode evitar a exposição das chaves de conta de armazenamento em dispositivos que não são seguros.</span><span class="sxs-lookup"><span data-stu-id="8e71f-349">In this way, you can avoid exposing your storage account keys on insecure devices.</span></span> <span data-ttu-id="8e71f-350">No entanto, isso coloca uma grande sobrecarga em função da web de saudação porque todos os dados de saudação transferidos entre o dispositivo do usuário hello e hello serviço de armazenamento precisa passar por função de web hello.</span><span class="sxs-lookup"><span data-stu-id="8e71f-350">However, this places a big overhead on hello web role because all hello data transferred between hello user's device and hello storage service must pass through hello web role.</span></span> <span data-ttu-id="8e71f-351">Você pode evitar usando uma função web como um proxy para o serviço de armazenamento hello usando assinaturas de acesso compartilhado (SAS), às vezes, em conjunto com cabeçalhos de compartilhamento de recursos entre origens (CORS).</span><span class="sxs-lookup"><span data-stu-id="8e71f-351">You can avoid using a web role as a proxy for hello storage service by using Shared Access Signatures (SAS), sometimes in conjunction with Cross-Origin Resource Sharing headers (CORS).</span></span> <span data-ttu-id="8e71f-352">Usando a SAS, você pode permitir que solicitações de toomake de dispositivo do usuário diretamente tooa armazenamento de serviço por meio de um token de acesso limitado.</span><span class="sxs-lookup"><span data-stu-id="8e71f-352">Using SAS, you can allow your user's device toomake requests directly tooa storage service by means of a limited access token.</span></span> <span data-ttu-id="8e71f-353">Por exemplo, se um usuário quiser tooupload um aplicativo de tooyour foto, sua função web pode gerar e enviar o dispositivo do usuário toohello um token SAS que concede permissão toowrite tooa específico blob ou contêiner para Olá Avançar 30 minutos (após o qual hello token SAS expira).</span><span class="sxs-lookup"><span data-stu-id="8e71f-353">For example, if a user wants tooupload a photo tooyour application, your web role can generate and send toohello user's device a SAS token that grants permission toowrite tooa specific blob or container for hello next 30 minutes (after which hello SAS token expires).</span></span>

<span data-ttu-id="8e71f-354">Normalmente, um navegador não permitirá que o JavaScript em uma página hospedada por um site em um domínio tooperform específico as operações, como um domínio de tooanother "PUT".</span><span class="sxs-lookup"><span data-stu-id="8e71f-354">Normally, a browser will not allow JavaScript in a page hosted by a website on one domain tooperform specific operations such as a "PUT" tooanother domain.</span></span> <span data-ttu-id="8e71f-355">Por exemplo, se você hospedar uma função web em "contosomarketing.cloudapp.net" e deseja toouse cliente lado JavaScript tooupload uma conta de armazenamento do blob tooyour em "contosoproducts.blob.core.windows.net", Olá do navegador "política de mesma origem" será proíba isso operação.</span><span class="sxs-lookup"><span data-stu-id="8e71f-355">For example, if you host a web role at "contosomarketing.cloudapp.net," and want toouse client side JavaScript tooupload a blob tooyour storage account at "contosoproducts.blob.core.windows.net," hello browser's "same origin policy" will forbid this operation.</span></span> <span data-ttu-id="8e71f-356">CORS é um recurso de navegador que permite Olá domínio (por esta conta de armazenamento Olá maiusculas) toocommunicate toohello navegador de destino que ele confia solicitações originadas no domínio de origem da saudação (por essa função de web hello maiusculas).</span><span class="sxs-lookup"><span data-stu-id="8e71f-356">CORS is a browser feature that allows hello target domain (in this case hello storage account) toocommunicate toohello browser that it trusts requests originating in hello source domain (in this case hello web role).</span></span>  

<span data-ttu-id="8e71f-357">As duas tecnologias podem ajudar você a evitar cargas e gargalos desnecessários no seu aplicativo Web.</span><span class="sxs-lookup"><span data-stu-id="8e71f-357">Both of these technologies can help you avoid unnecessary load (and bottlenecks) on your web application.</span></span>  

#### <a name="useful-resources"></a><span data-ttu-id="8e71f-358">Recursos úteis</span><span class="sxs-lookup"><span data-stu-id="8e71f-358">Useful Resources</span></span>
<span data-ttu-id="8e71f-359">Para obter mais informações sobre SAS, consulte [assinaturas de acesso compartilhado, parte 1: Olá Noções básicas sobre o modelo de SAS](storage-dotnet-shared-access-signature-part-1.md).</span><span class="sxs-lookup"><span data-stu-id="8e71f-359">For more information about SAS, see [Shared Access Signatures, Part 1: Understanding hello SAS Model](storage-dotnet-shared-access-signature-part-1.md).</span></span>  

<span data-ttu-id="8e71f-360">Para obter mais informações sobre CORS, consulte [suporte de compartilhamento de recursos entre origens (CORS) para Olá serviços de armazenamento do Azure](http://msdn.microsoft.com/library/azure/dn535601.aspx).</span><span class="sxs-lookup"><span data-stu-id="8e71f-360">For more information about CORS, see [Cross-Origin Resource Sharing (CORS) Support for hello Azure Storage Services](http://msdn.microsoft.com/library/azure/dn535601.aspx).</span></span>  

### <a name="caching"></a><span data-ttu-id="8e71f-361">Cache</span><span class="sxs-lookup"><span data-stu-id="8e71f-361">Caching</span></span>
#### <span data-ttu-id="8e71f-362"><a name="subheading7"></a>Obtenção de dados</span><span class="sxs-lookup"><span data-stu-id="8e71f-362"><a name="subheading7"></a>Getting Data</span></span>
<span data-ttu-id="8e71f-363">Em geral, obter os dados de um serviço uma única vez é melhor do que obtê-los duas vezes.</span><span class="sxs-lookup"><span data-stu-id="8e71f-363">In general, getting data from a service once is better than getting it twice.</span></span> <span data-ttu-id="8e71f-364">Considere o exemplo hello de um aplicativo web do MVC em execução em uma função web que já tem recuperados a um blob de 50MB de saudação tooserve de serviço de armazenamento como usuário tooa conteúdo.</span><span class="sxs-lookup"><span data-stu-id="8e71f-364">Consider hello example of an MVC web application running in a web role that has already retrieved a 50MB blob from hello storage service tooserve as content tooa user.</span></span> <span data-ttu-id="8e71f-365">aplicativo Hello pode, em seguida, recuperar esse mesmo blob toda vez que um usuário solicita a ele, ou ele pode armazenar em cache-localmente toodisk e reutilização Olá em cache versão para solicitações subsequentes de usuário.</span><span class="sxs-lookup"><span data-stu-id="8e71f-365">hello application could then retrieve that same blob every time a user requests it, or it could cache it locally toodisk and reuse hello cached version for subsequent user requests.</span></span> <span data-ttu-id="8e71f-366">Além disso, sempre que um usuário solicita dados hello, Olá aplicativo poderia problema obter com um cabeçalho condicional para a hora de modificação, o que seria evitar blob inteiro Olá se ele não tenha sido modificado.</span><span class="sxs-lookup"><span data-stu-id="8e71f-366">Furthermore, whenever a user requests hello data, hello application could issue GET with a conditional header for modification time, which would avoid getting hello entire blob if it hasn't been modified.</span></span> <span data-ttu-id="8e71f-367">Você pode aplicar esse mesmo tooworking de padrão com entidades de tabela.</span><span class="sxs-lookup"><span data-stu-id="8e71f-367">You can apply this same pattern tooworking with table entities.</span></span>  

<span data-ttu-id="8e71f-368">Em alguns casos, você pode decidir que seu aplicativo possa assumir o que blob Olá permanece válido por um curto período depois de recuperá-lo, e que durante esse período Olá aplicativo não precisa toocheck se Olá blob foi modificado.</span><span class="sxs-lookup"><span data-stu-id="8e71f-368">In some cases, you may decide that your application can assume that hello blob remains valid for a short period after retrieving it, and that during this period hello application does not need toocheck if hello blob was modified.</span></span>

<span data-ttu-id="8e71f-369">Configuração, pesquisa e outros dados que são sempre usados pelo aplicativo hello são ótimos candidatos para armazenamento em cache.</span><span class="sxs-lookup"><span data-stu-id="8e71f-369">Configuration, lookup, and other data that are always used by hello application are great candidates for caching.</span></span>  

<span data-ttu-id="8e71f-370">Para obter um exemplo de como tooget Olá de toodiscover de propriedades do blob Data da última modificação usando .NET, consulte [definir e recuperar propriedades e metadados](storage-properties-metadata.md).</span><span class="sxs-lookup"><span data-stu-id="8e71f-370">For an example of how tooget a blob's properties toodiscover hello last modified date using .NET, see [Set and Retrieve Properties and Metadata](storage-properties-metadata.md).</span></span> <span data-ttu-id="8e71f-371">Para saber mais sobre downloads condicionais, consulte [Atualização condicional de uma cópia local de um blob](http://msdn.microsoft.com/library/azure/dd179371.aspx).</span><span class="sxs-lookup"><span data-stu-id="8e71f-371">For more information about conditional downloads, see [Conditionally Refresh a Local Copy of a Blob](http://msdn.microsoft.com/library/azure/dd179371.aspx).</span></span>  

#### <span data-ttu-id="8e71f-372"><a name="subheading8"></a>Carregamento de dados em lotes</span><span class="sxs-lookup"><span data-stu-id="8e71f-372"><a name="subheading8"></a>Uploading Data in Batches</span></span>
<span data-ttu-id="8e71f-373">Em algumas situações nos aplicativos, é possível agregar dados localmente e carregá-los em lotes em vez de carregar cada dado imediatamente.</span><span class="sxs-lookup"><span data-stu-id="8e71f-373">In some application scenarios, you can aggregate data locally, and then periodically upload it in a batch instead of uploading each piece of data immediately.</span></span> <span data-ttu-id="8e71f-374">Por exemplo, um aplicativo web pode manter um arquivo de log de atividades: Olá aplicativo poderia seja a carregar detalhes de cada atividade conforme ela ocorre como uma entidade de tabela (que exige várias operações de armazenamento) ou ele foi possível salvar a atividade detalhes tooa arquivo de log local e, em seguida, periodicamente, carregar todos os detalhes da atividade como um blob de tooa arquivo delimitado.</span><span class="sxs-lookup"><span data-stu-id="8e71f-374">For example, a web application might keep a log file of activities: hello application could either upload details of every activity as it happens as a table entity (which requires many storage operations), or it could save activity details tooa local log file, and then periodically upload all activity details as a delimited file tooa blob.</span></span> <span data-ttu-id="8e71f-375">Se cada entrada de log é de 1KB de tamanho, você pode carregar milhares em uma única transação de "Colocar Blob" (você pode carregar um blob de backup too64MB de tamanho em uma única transação).</span><span class="sxs-lookup"><span data-stu-id="8e71f-375">If each log entry is 1KB in size, you can upload thousands in a single "Put Blob" transaction (you can upload a blob of up too64MB in size in a single transaction).</span></span> <span data-ttu-id="8e71f-376">É claro que, se máquina local Olá falhas de carregamento toohello anterior, potencialmente perderá alguns dados de log: desenvolvedor do aplicativo hello deve projetar a possibilidade de saudação do dispositivo cliente ou falhas de carregamento.</span><span class="sxs-lookup"><span data-stu-id="8e71f-376">Of course, if hello local machine crashes prior toohello upload, you will potentially lose some log data: hello application developer must design for hello possibility of client device or upload failures.</span></span>  <span data-ttu-id="8e71f-377">Se precisarem de dados de atividade de saudação toobe baixado para períodos de tempo (não apenas única atividade), blobs são recomendados em tabelas.</span><span class="sxs-lookup"><span data-stu-id="8e71f-377">If hello activity data needs toobe downloaded for timespans (not just single activity), then blobs are recommended over tables.</span></span>

### <a name="net-configuration"></a><span data-ttu-id="8e71f-378">Configuração .NET</span><span class="sxs-lookup"><span data-stu-id="8e71f-378">.NET Configuration</span></span>
<span data-ttu-id="8e71f-379">Se usar hello do .NET Framework, esta seção lista várias configurações rápida que você pode usar toomake melhorias significativas no desempenho.</span><span class="sxs-lookup"><span data-stu-id="8e71f-379">If using hello .NET Framework, this section lists several quick configuration settings that you can use toomake significant performance improvements.</span></span>  <span data-ttu-id="8e71f-380">Se estiver usando outros idiomas, verifique toosee se aplicam conceitos semelhantes em seu idioma escolhido.</span><span class="sxs-lookup"><span data-stu-id="8e71f-380">If using other languages, check toosee if similar concepts apply in your chosen language.</span></span>  

#### <span data-ttu-id="8e71f-381"><a name="subheading9"></a>Aumentar o limite de conexão padrão</span><span class="sxs-lookup"><span data-stu-id="8e71f-381"><a name="subheading9"></a>Increase default connection limit</span></span>
<span data-ttu-id="8e71f-382">No .NET, Olá código a seguir aumenta o limite de conexão do saudação padrão (que geralmente é 2 em um ambiente de cliente ou 10 em um ambiente de servidor) too100.</span><span class="sxs-lookup"><span data-stu-id="8e71f-382">In .NET, hello following code increases hello default connection limit (which is usually 2 in a client environment or 10 in a server environment) too100.</span></span> <span data-ttu-id="8e71f-383">Normalmente, você deve definir número de saudação do hello valor tooapproximately de threads usados por seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="8e71f-383">Typically, you should set hello value tooapproximately hello number of threads used by your application.</span></span>  

```csharp
ServicePointManager.DefaultConnectionLimit = 100; //(Or More)  
```

<span data-ttu-id="8e71f-384">Você deve definir o limite de conexão de saudação antes de abrir todas as conexões.</span><span class="sxs-lookup"><span data-stu-id="8e71f-384">You must set hello connection limit before opening any connections.</span></span>  

<span data-ttu-id="8e71f-385">Para outras linguagens de programação, consulte toodetermine de documentação do idioma como limitar a conexão de saudação tooset.</span><span class="sxs-lookup"><span data-stu-id="8e71f-385">For other programming languages, see that language's documentation toodetermine how tooset hello connection limit.</span></span>  

<span data-ttu-id="8e71f-386">Para obter mais informações, consulte Olá postagem de blog [serviços da Web: conexões simultâneas](http://blogs.msdn.com/b/darrenj/archive/2005/03/07/386655.aspx).</span><span class="sxs-lookup"><span data-stu-id="8e71f-386">For additional information, see hello blog post [Web Services: Concurrent Connections](http://blogs.msdn.com/b/darrenj/archive/2005/03/07/386655.aspx).</span></span>  

#### <span data-ttu-id="8e71f-387"><a name="subheading10"></a>Aumentar o mínimo dos Threads de ThreadPool, caso esteja usando código síncrono com tarefas assíncronas</span><span class="sxs-lookup"><span data-stu-id="8e71f-387"><a name="subheading10"></a>Increase ThreadPool Min Threads if using synchronous code with Async Tasks</span></span>
<span data-ttu-id="8e71f-388">Esse código aumentará Olá min threads do pool:</span><span class="sxs-lookup"><span data-stu-id="8e71f-388">This code will increase hello thread pool min threads:</span></span>  

```csharp
ThreadPool.SetMinThreads(100,100); //(Determine hello right number for your application)  
```

<span data-ttu-id="8e71f-389">Para saber mais, veja [Método ThreadPool.SetMinThreads](http://msdn.microsoft.com/library/system.threading.threadpool.setminthreads%28v=vs.110%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="8e71f-389">For more information, see [ThreadPool.SetMinThreads Method](http://msdn.microsoft.com/library/system.threading.threadpool.setminthreads%28v=vs.110%29.aspx).</span></span>  

#### <span data-ttu-id="8e71f-390"><a name="subheading11"></a>Aproveitar a coleta de lixo do .NET 4.5</span><span class="sxs-lookup"><span data-stu-id="8e71f-390"><a name="subheading11"></a>Take advantage of .NET 4.5 Garbage Collection</span></span>
<span data-ttu-id="8e71f-391">Use o .NET 4.5 ou posterior para Olá cliente aplicativo tootake aproveitar as melhorias de desempenho na coleta de lixo do servidor.</span><span class="sxs-lookup"><span data-stu-id="8e71f-391">Use .NET 4.5 or later for hello client application tootake advantage of performance improvements in server garbage collection.</span></span>

<span data-ttu-id="8e71f-392">Para obter mais informações, consulte o artigo Olá [uma visão geral das melhorias de desempenho no .NET 4.5](http://msdn.microsoft.com/magazine/hh882452.aspx).</span><span class="sxs-lookup"><span data-stu-id="8e71f-392">For more information, see hello article [An Overview of Performance Improvements in .NET 4.5](http://msdn.microsoft.com/magazine/hh882452.aspx).</span></span>  

### <span data-ttu-id="8e71f-393"><a name="subheading12"></a>Paralelismo não associado</span><span class="sxs-lookup"><span data-stu-id="8e71f-393"><a name="subheading12"></a>Unbounded Parallelism</span></span>
<span data-ttu-id="8e71f-394">Enquanto o paralelismo pode ser ótimo para desempenho, ter cuidado usando várias partições de paralelismo não vinculado (sem limite no número de saudação de threads de e/ou solicitações paralelas) tooupload ou baixar dados usando várias tooaccess de trabalhadores (contêineres, filas, ou partições de tabela) em Olá a mesma conta de armazenamento ou tooaccess vários itens no hello mesma partição.</span><span class="sxs-lookup"><span data-stu-id="8e71f-394">While parallelism can be great for performance, be careful about using unbounded parallelism (no limit on hello number of threads and/or parallel requests) tooupload or download data, using multiple workers tooaccess multiple partitions (containers, queues, or table partitions) in hello same storage account or tooaccess multiple items in hello same partition.</span></span> <span data-ttu-id="8e71f-395">Se paralelismo Olá é não vinculado, seu aplicativo pode exceder os recursos do dispositivo do cliente de saudação ou Olá metas de escalabilidade da conta de armazenamento resultando em latências mais longas e limitação.</span><span class="sxs-lookup"><span data-stu-id="8e71f-395">If hello parallelism is unbounded, your application can exceed hello client device's capabilities or hello storage account's scalability targets resulting in longer latencies and throttling.</span></span>  

### <span data-ttu-id="8e71f-396"><a name="subheading13"></a>Ferramentas e bibliotecas cliente para armazenamento</span><span class="sxs-lookup"><span data-stu-id="8e71f-396"><a name="subheading13"></a>Storage Client Libraries and Tools</span></span>
<span data-ttu-id="8e71f-397">Sempre use ferramentas e bibliotecas de cliente hello mais recentes fornecido pela Microsoft.</span><span class="sxs-lookup"><span data-stu-id="8e71f-397">Always use hello latest Microsoft provided client libraries and tools.</span></span> <span data-ttu-id="8e71f-398">No momento da saudação de gravação, há bibliotecas de cliente disponíveis para .NET, Windows Phone, Windows Runtime, Java e C++, bem como bibliotecas de visualização para outros idiomas.</span><span class="sxs-lookup"><span data-stu-id="8e71f-398">At hello time of writing, there are client libraries available for .NET, Windows Phone, Windows Runtime, Java, and C++, as well as preview libraries for other languages.</span></span> <span data-ttu-id="8e71f-399">Além disso, a Microsoft liberou cmdlets do PowerShell e os comandos da CLI do Azure para trabalhar com o Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="8e71f-399">In addition, Microsoft has released PowerShell cmdlets and Azure CLI commands for working with Azure Storage.</span></span> <span data-ttu-id="8e71f-400">Microsoft ativamente desenvolve essas ferramentas com o desempenho em mente, mantém o toodate com versões mais recentes de serviço hello e garante a lidar com muitas Olá comprovada práticas recomendadas de desempenho internamente.</span><span class="sxs-lookup"><span data-stu-id="8e71f-400">Microsoft actively develops these tools with performance in mind, keeps them up toodate with hello latest service versions, and ensures they handle many of hello proven performance practices internally.</span></span>  

### <a name="retries"></a><span data-ttu-id="8e71f-401">Novas tentativas</span><span class="sxs-lookup"><span data-stu-id="8e71f-401">Retries</span></span>
#### <span data-ttu-id="8e71f-402"><a name="subheading14"></a>Limitação/Servidor ocupado</span><span class="sxs-lookup"><span data-stu-id="8e71f-402"><a name="subheading14"></a>Throttling/ServerBusy</span></span>
<span data-ttu-id="8e71f-403">Em alguns casos, Olá serviço de armazenamento pode acelerar o seu aplicativo ou pode simplesmente ser tooserve não é possível Olá solicitação devido a condição transitória toosome e retornar uma mensagem de "503 servidor ocupado" ou "tempo limite de 500".</span><span class="sxs-lookup"><span data-stu-id="8e71f-403">In some cases, hello storage service may throttle your application or may simply be unable tooserve hello request due toosome transient condition and return a "503 Server busy" message or "500 Timeout".</span></span>  <span data-ttu-id="8e71f-404">Isso pode acontecer se qualquer uma das metas de escalabilidade hello está se aproximando do seu aplicativo, ou se o sistema Olá é rebalanceamento tooallow seus dados particionados para maior taxa de transferência.</span><span class="sxs-lookup"><span data-stu-id="8e71f-404">This can happen if your application is approaching any of hello scalability targets, or if hello system is rebalancing your partitioned data tooallow for higher throughput.</span></span>  <span data-ttu-id="8e71f-405">aplicativo de cliente Hello normalmente deverá repetir a operação de saudação que causa um erro: tentativa de saudação mesma solicitação mais tarde pode ter êxito.</span><span class="sxs-lookup"><span data-stu-id="8e71f-405">hello client application should typically retry hello operation that causes such an error: attempting hello same request later can succeed.</span></span> <span data-ttu-id="8e71f-406">No entanto, se o serviço de armazenamento de saudação está otimizando seu aplicativo porque ele está excedendo metas de escalabilidade, ou mesmo se o serviço de saudação foi solicitação de saudação tooserve não é possível por algum outro motivo, tentativas agressivas geralmente faz pior do problema de saudação.</span><span class="sxs-lookup"><span data-stu-id="8e71f-406">However, if hello storage service is throttling your application because it is exceeding scalability targets, or even if hello service was unable tooserve hello request for some other reason, aggressive retries usually make hello problem worse.</span></span> <span data-ttu-id="8e71f-407">Por esse motivo, você deve usar um (Olá cliente bibliotecas padrão toothis comportamento) de retirada exponencial.</span><span class="sxs-lookup"><span data-stu-id="8e71f-407">For this reason, you should use an exponential back off (hello client libraries default toothis behavior).</span></span> <span data-ttu-id="8e71f-408">Por exemplo, o aplicativo pode fazer uma nova tentativa em 2 segundos, 4 segundos, 10 segundos e 30 segundos para então abandonar o processo.</span><span class="sxs-lookup"><span data-stu-id="8e71f-408">For example, your application may retry after 2 seconds, then 4 seconds, then 10 seconds, then 30 seconds, and then give up completely.</span></span> <span data-ttu-id="8e71f-409">Esse comportamento resulta em seu aplicativo significativamente reduzindo sua carga no serviço de saudação em vez de agrava ainda mais os problemas.</span><span class="sxs-lookup"><span data-stu-id="8e71f-409">This behavior results in your application significantly reducing its load on hello service rather than exacerbating any problems.</span></span>  

<span data-ttu-id="8e71f-410">Observe que os erros de conectividade podem ser repetidos imediatamente, porque eles não são resultado de saudação de limitação e são esperado toobe transitório.</span><span class="sxs-lookup"><span data-stu-id="8e71f-410">Note that connectivity errors can be retried immediately, because they are not hello result of throttling and are expected toobe transient.</span></span>  

#### <span data-ttu-id="8e71f-411"><a name="subheading15"></a>Erros sem nova tentativa</span><span class="sxs-lookup"><span data-stu-id="8e71f-411"><a name="subheading15"></a>Non-Retryable Errors</span></span>
<span data-ttu-id="8e71f-412">bibliotecas de saudação do cliente estão cientes de que os erros são capazes de repetição e quais não são.</span><span class="sxs-lookup"><span data-stu-id="8e71f-412">hello client libraries are aware of which errors are retry-able and which are not.</span></span> <span data-ttu-id="8e71f-413">No entanto, se você estiver escrevendo seu próprio código em relação ao armazenamento Olá API REST, lembre-se há alguns erros que você não deverá tentar novamente: por exemplo, o erro 400 (solicitação incorreta) resposta indica que esse aplicativo de cliente hello enviou uma solicitação que não pôde ser processada porque ele não estava no formato esperado.</span><span class="sxs-lookup"><span data-stu-id="8e71f-413">However, if you are writing your own code against hello storage REST API, remember there are some errors that you should not retry: for example, a 400 (Bad Request) response indicates that hello client application sent a request that could not be processed because it was not in an expected form.</span></span> <span data-ttu-id="8e71f-414">Reenviar desta solicitação resultará Olá mesma resposta sempre, portanto não faz sentido em tentar novamente a ele.</span><span class="sxs-lookup"><span data-stu-id="8e71f-414">Resending this request will result hello same response every time, so there is no point in retrying it.</span></span> <span data-ttu-id="8e71f-415">Se você estiver escrevendo seu próprio código em relação ao armazenamento Olá API REST, lembre-se de média e hello tooretry de maneira correta de códigos de erro que hello (ou não) para cada um deles.</span><span class="sxs-lookup"><span data-stu-id="8e71f-415">If you are writing your own code against hello storage REST API, be aware of what hello error codes mean and hello proper way tooretry (or not) for each of them.</span></span>  

#### <a name="useful-resources"></a><span data-ttu-id="8e71f-416">Recursos úteis</span><span class="sxs-lookup"><span data-stu-id="8e71f-416">Useful Resources</span></span>
<span data-ttu-id="8e71f-417">Para obter mais informações sobre códigos de erro de armazenamento, consulte [Status e códigos de erro](http://msdn.microsoft.com/library/azure/dd179382.aspx) no site do Microsoft Azure hello.</span><span class="sxs-lookup"><span data-stu-id="8e71f-417">For more information about storage error codes, see [Status and Error Codes](http://msdn.microsoft.com/library/azure/dd179382.aspx) on hello Microsoft Azure web site.</span></span>  

## <a name="blobs"></a><span data-ttu-id="8e71f-418">Blobs</span><span class="sxs-lookup"><span data-stu-id="8e71f-418">Blobs</span></span>
<span data-ttu-id="8e71f-419">Em adição toohello comprovadas práticas recomendadas para [todos os serviços](#allservices) descrito anteriormente, a seguir Olá práticas comprovadas se aplicam especificamente o serviço de blob toohello.</span><span class="sxs-lookup"><span data-stu-id="8e71f-419">In addition toohello proven practices for [All Services](#allservices) described previously, hello following proven practices apply specifically toohello blob service.</span></span>  

### <a name="blob-specific-scalability-targets"></a><span data-ttu-id="8e71f-420">Metas de escalabilidade específicas do blob</span><span class="sxs-lookup"><span data-stu-id="8e71f-420">Blob-Specific Scalability Targets</span></span>
#### <span data-ttu-id="8e71f-421"><a name="subheading46"></a>Vários clientes que acessam um único objeto simultaneamente</span><span class="sxs-lookup"><span data-stu-id="8e71f-421"><a name="subheading46"></a>Multiple clients accessing a single object concurrently</span></span>
<span data-ttu-id="8e71f-422">Se você tiver um grande número de clientes que acessam um único objeto ao mesmo tempo, você precisará tooconsider por metas de escalabilidade de conta de armazenamento e objeto.</span><span class="sxs-lookup"><span data-stu-id="8e71f-422">If you have a large number of clients accessing a single object concurrently you will need tooconsider per object and storage account scalability targets.</span></span> <span data-ttu-id="8e71f-423">número exato de saudação de clientes que podem acessar um único objeto irá variar dependendo de fatores como o número de saudação de clientes que solicitam o objeto Olá simultaneamente, tamanho de saudação do objeto hello, rede condições etc.</span><span class="sxs-lookup"><span data-stu-id="8e71f-423">hello exact number of clients that can access a single object will vary depending on factors such as hello number of clients requesting hello object simultaneously, hello size of hello object, network conditions etc.</span></span>

<span data-ttu-id="8e71f-424">Se o objeto Olá pode ser distribuído por meio de um CDN, como imagens ou vídeos atendidas a partir de um site, em seguida, você deve usar um CDN.</span><span class="sxs-lookup"><span data-stu-id="8e71f-424">If hello object can be distributed through a CDN such as images or videos served from a website then you should use a CDN.</span></span> <span data-ttu-id="8e71f-425">Consulte [aqui](#subheading5).</span><span class="sxs-lookup"><span data-stu-id="8e71f-425">See [here](#subheading5).</span></span>

<span data-ttu-id="8e71f-426">Em outros cenários, como Simulações científicas onde dados saudação são confidenciais, você tem duas opções.</span><span class="sxs-lookup"><span data-stu-id="8e71f-426">In other scenarios such as scientific simulations where hello data is confidential you have two options.</span></span> <span data-ttu-id="8e71f-427">Olá primeiro é toostagger access do sua carga de trabalho tal que Olá objeto é acessado por um período de tempo vs que está sendo acessado simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="8e71f-427">hello first is toostagger your workload's access such that hello object is accessed over a period of time vs being accessed simultaneously.</span></span> <span data-ttu-id="8e71f-428">Como alternativa, você pode copiar temporariamente as contas de armazenamento toomultiple objeto Olá aumentando Olá IOPS total por objeto e em contas de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="8e71f-428">Alternatively, you can temporarily copy hello object toomultiple storage accounts thus increasing hello total IOPS per object and across storage accounts.</span></span> <span data-ttu-id="8e71f-429">Em testes limitados descobrimos que aproximadamente 25 VMs simultaneamente podem baixar um blob de 100GB em paralelo (cada VM foi paralelizar download hello usando 32 encadeamentos).</span><span class="sxs-lookup"><span data-stu-id="8e71f-429">In limited testing we found that around 25 VMs could simultaneously download a 100GB blob in parallel (each VM was parallelizing hello download using 32 threads).</span></span> <span data-ttu-id="8e71f-430">Se você tiver 100 clientes que precisam de objeto do tooaccess Olá, primeiro copie-tooa segunda conta de armazenamento e, em seguida, ter Olá primeiros 50 VMs acesso Olá primeiro blob e Olá segundo 50 VMs acesso Olá segundo blob.</span><span class="sxs-lookup"><span data-stu-id="8e71f-430">If you had 100 clients needing tooaccess hello object, first copy it tooa second storage account and then have hello first 50 VMs access hello first blob and hello second 50 VMs access hello second blob.</span></span> <span data-ttu-id="8e71f-431">Os resultados variam de acordo com o comportamento dos seus aplicativos e, portanto, você deve fazer testes durante o design.</span><span class="sxs-lookup"><span data-stu-id="8e71f-431">Results will vary depending on your applications behavior so you should test this during design.</span></span> 

#### <span data-ttu-id="8e71f-432"><a name="subheading16"></a>Largura de banda e operações por blob</span><span class="sxs-lookup"><span data-stu-id="8e71f-432"><a name="subheading16"></a>Bandwidth and operations per Blob</span></span>
<span data-ttu-id="8e71f-433">Você pode ler ou gravar tooa único blob em backup tooa no máximo 60 MB/segundo (Isso é aproximadamente 480 Mbps que excede os recursos de saudação de várias redes de lado do cliente (incluindo Olá NIC física no dispositivo de cliente Olá).</span><span class="sxs-lookup"><span data-stu-id="8e71f-433">You can read or write tooa single blob at up tooa maximum of 60 MB/second (this is approximately 480 Mbps which exceeds hello capabilities of many client side networks (including hello physical NIC on hello client device).</span></span> <span data-ttu-id="8e71f-434">Além disso, um único blob dá suporte para até too500 solicitações por segundo.</span><span class="sxs-lookup"><span data-stu-id="8e71f-434">In addition, a single blob supports up too500 requests per second.</span></span> <span data-ttu-id="8e71f-435">Se você tiver vários clientes que precisam de tooread hello mesmo blob e você poderá exceder esses limites, considere o uso de uma CDN para distribuir blob hello.</span><span class="sxs-lookup"><span data-stu-id="8e71f-435">If you have multiple clients that need tooread hello same blob and you might exceed these limits, you should consider using a CDN for distributing hello blob.</span></span>  

<span data-ttu-id="8e71f-436">Para saber mais sobre a taxa de transferência alvo para os blobs, consulte [Metas de desempenho e escalabilidade do Armazenamento do Azure](storage-scalability-targets.md).</span><span class="sxs-lookup"><span data-stu-id="8e71f-436">For more information about target throughput for blobs, see [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md).</span></span>  

### <a name="copying-and-moving-blobs"></a><span data-ttu-id="8e71f-437">Copiando e movendo blobs</span><span class="sxs-lookup"><span data-stu-id="8e71f-437">Copying and Moving Blobs</span></span>
#### <span data-ttu-id="8e71f-438"><a name="subheading17"></a>Copiar blob</span><span class="sxs-lookup"><span data-stu-id="8e71f-438"><a name="subheading17"></a>Copy Blob</span></span>
<span data-ttu-id="8e71f-439">armazenamento Olá REST API versão 2012-02-12 introduzido blobs de toocopy capacidade útil Olá entre contas: um aplicativo cliente pode instruir toocopy de serviço de armazenamento de saudação um blob de outra origem (possivelmente em outra conta de armazenamento) e deixe Olá serviço executar cópia Olá assincronamente.</span><span class="sxs-lookup"><span data-stu-id="8e71f-439">hello storage REST API version 2012-02-12 introduced hello useful ability toocopy blobs across accounts: a client application can instruct hello storage service toocopy a blob from another source (possibly in a different storage account), and then let hello service perform hello copy asynchronously.</span></span> <span data-ttu-id="8e71f-440">Isso pode reduzir significativamente a largura de banda Olá necessária para o aplicativo hello quando você está migrando dados de outras contas de armazenamento porque você não precisa toodownload e carregar dados de saudação.</span><span class="sxs-lookup"><span data-stu-id="8e71f-440">This can significantly reduce hello bandwidth needed for hello application when you are migrating data from other storage accounts because you do not need toodownload and upload hello data.</span></span>  

<span data-ttu-id="8e71f-441">Uma consideração, no entanto, é que, ao copiar entre contas de armazenamento, não há nenhuma garantia de vez em quando a cópia de saudação será concluída.</span><span class="sxs-lookup"><span data-stu-id="8e71f-441">One consideration, however, is that, when copying between storage accounts, there is no time guarantee on when hello copy will complete.</span></span> <span data-ttu-id="8e71f-442">Se seu aplicativo precisa toocomplete um blob rapidamente copiar sob seu controle, pode ser melhor blob de saudação toocopy por download tooa VM e, em seguida, carregá-los toohello de destino.</span><span class="sxs-lookup"><span data-stu-id="8e71f-442">If your application needs toocomplete a blob copy quickly under your control, it may be better toocopy hello blob by downloading it tooa VM and then uploading it toohello destination.</span></span>  <span data-ttu-id="8e71f-443">Para previsibilidade completa nessa situação, certifique-se de que a cópia de saudação é executada por uma VM em execução no hello mesma região do Azure, caso contrário, as condições de rede pode (e provavelmente será) afetam o desempenho de cópia.</span><span class="sxs-lookup"><span data-stu-id="8e71f-443">For full predictability in that situation, ensure that hello copy is performed by a VM running in hello same Azure region, or else network conditions may (and probably will) affect your copy performance.</span></span>  <span data-ttu-id="8e71f-444">Além disso, você pode monitorar progresso de saudação de uma cópia assíncrona programaticamente.</span><span class="sxs-lookup"><span data-stu-id="8e71f-444">In addition, you can monitor hello progress of an asynchronous copy programmatically.</span></span>  

<span data-ttu-id="8e71f-445">Observe que copia em Olá a mesma conta de armazenamento em si geralmente são concluídas rapidamente.</span><span class="sxs-lookup"><span data-stu-id="8e71f-445">Note that copies within hello same storage account itself are generally completed quickly.</span></span>  

<span data-ttu-id="8e71f-446">Para saber mais, consulte [Copiar Blob](http://msdn.microsoft.com/library/azure/dd894037.aspx).</span><span class="sxs-lookup"><span data-stu-id="8e71f-446">For more information, see [Copy Blob](http://msdn.microsoft.com/library/azure/dd894037.aspx).</span></span>  

#### <span data-ttu-id="8e71f-447"><a name="subheading18"></a>Usar AzCopy</span><span class="sxs-lookup"><span data-stu-id="8e71f-447"><a name="subheading18"></a>Use AzCopy</span></span>
<span data-ttu-id="8e71f-448">equipe de armazenamento do Azure Olá lançou uma ferramenta de linha de comando "AzCopy" que é destinado toohelp com bulk transferindo muitos blobs para, de e em contas de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="8e71f-448">hello Azure Storage team has released a command-line tool "AzCopy" that is meant toohelp with bulk transferring many blobs to, from, and across storage accounts.</span></span>  <span data-ttu-id="8e71f-449">Essa ferramenta foi otimizada para esse cenário e pode alcançar altas taxas de transferência.</span><span class="sxs-lookup"><span data-stu-id="8e71f-449">This tool is optimized for this scenario, and can achieve high transfer rates.</span></span>  <span data-ttu-id="8e71f-450">Ela deve ser usada para baixar e carregar itens, bem como para copiar cenários, em massa.</span><span class="sxs-lookup"><span data-stu-id="8e71f-450">Its use is encouraged for bulk upload, download, and copy scenarios.</span></span> <span data-ttu-id="8e71f-451">toolearn mais sobre ele e baixá-lo, consulte [transferir dados com o utilitário de linha de comando AzCopy de hello](storage-use-azcopy.md).</span><span class="sxs-lookup"><span data-stu-id="8e71f-451">toolearn more about it and download it, see [Transfer data with hello AzCopy Command-Line Utility](storage-use-azcopy.md).</span></span>  

#### <span data-ttu-id="8e71f-452"><a name="subheading19"></a>Serviço de importação/exportação do Azure</span><span class="sxs-lookup"><span data-stu-id="8e71f-452"><a name="subheading19"></a>Azure Import/Export Service</span></span>
<span data-ttu-id="8e71f-453">Para grandes volumes de dados (mais de 1TB), Olá armazenamento do Azure oferece Olá serviço de importação/exportação, que permite o upload e download do armazenamento de blob pelo envio de unidades de disco rígido.</span><span class="sxs-lookup"><span data-stu-id="8e71f-453">For very large volumes of data (more than 1TB), hello Azure Storage offers hello Import/Export service, which allows for uploading and downloading from blob storage by shipping hard drives.</span></span>  <span data-ttu-id="8e71f-454">Você pode colocar seus dados em um disco rígido e enviá-lo tooMicrosoft para carregar ou enviar um disco rígido em branco tooMicrosoft toodownload de dados.</span><span class="sxs-lookup"><span data-stu-id="8e71f-454">You can put your data on a hard drive and send it tooMicrosoft for upload, or send a blank hard drive tooMicrosoft toodownload data.</span></span>  <span data-ttu-id="8e71f-455">Para obter mais informações, consulte [usar Olá serviço de importação/exportação do Microsoft Azure tooTransfer dados tooBlob armazenamento](storage-import-export-service.md).</span><span class="sxs-lookup"><span data-stu-id="8e71f-455">For more information, see [Use hello Microsoft Azure Import/Export Service tooTransfer Data tooBlob Storage](storage-import-export-service.md).</span></span>  <span data-ttu-id="8e71f-456">Isso pode ser muito mais eficiente que Upload/download esse volume de dados pela rede hello.</span><span class="sxs-lookup"><span data-stu-id="8e71f-456">This can be much more efficient than uploading/downloading this volume of data over hello network.</span></span>  

### <span data-ttu-id="8e71f-457"><a name="subheading20"></a>Uso de metadados</span><span class="sxs-lookup"><span data-stu-id="8e71f-457"><a name="subheading20"></a>Use metadata</span></span>
<span data-ttu-id="8e71f-458">serviço de blob Olá dá suporte a solicitações head, que podem incluir metadados sobre o blob de saudação.</span><span class="sxs-lookup"><span data-stu-id="8e71f-458">hello blob service supports head requests, which can include metadata about hello blob.</span></span> <span data-ttu-id="8e71f-459">Por exemplo, se seu aplicativo necessário dados EXIF Olá fora de uma foto, ele pode recuperar foto hello e extraí-lo.</span><span class="sxs-lookup"><span data-stu-id="8e71f-459">For example, if your application needed hello EXIF data out of a photo, it could retrieve hello photo and extract it.</span></span> <span data-ttu-id="8e71f-460">toosave largura de banda e melhorar o desempenho, seu aplicativo armazena os dados EXIF Olá nos metadados do blob hello quando o aplicativo hello carregado foto Olá: você pode recuperar dados EXIF Olá nos metadados usando apenas uma solicitação HEAD, economizando largura de banda significativa e tempo de processamento de saudação necessária tooextract Olá dados EXIF é de leitura de blob de saudação cada vez.</span><span class="sxs-lookup"><span data-stu-id="8e71f-460">toosave bandwidth and improve performance, your application could store hello EXIF data in hello blob's metadata when hello application uploaded hello photo: you can then retrieve hello EXIF data in metadata using only a HEAD request, saving significant bandwidth and hello processing time needed tooextract hello EXIF data each time hello blob is read.</span></span> <span data-ttu-id="8e71f-461">Isso pode ser útil em cenários onde você precisa apenas Olá metadados e não Olá conteúdo completo de um blob.</span><span class="sxs-lookup"><span data-stu-id="8e71f-461">This would be useful in scenarios where you only need hello metadata, and not hello full content of a blob.</span></span>  <span data-ttu-id="8e71f-462">Observe que apenas 8 KB de metadados podem ser armazenado por blob (serviço de saudação não aceitará uma solicitação toostore maior), para que se dados saudação não couberem em tamanho, você não pode ser capaz de toouse essa abordagem.</span><span class="sxs-lookup"><span data-stu-id="8e71f-462">Note that only 8 KB of metadata can be stored per blob (hello service will not accept a request toostore more than that), so if hello data does not fit in that size, you may not be able toouse this approach.</span></span>  

<span data-ttu-id="8e71f-463">Para obter um exemplo de como tooget metadados do blob usando .NET, consulte [definir e recuperar propriedades e metadados](storage-properties-metadata.md).</span><span class="sxs-lookup"><span data-stu-id="8e71f-463">For an example of how tooget a blob's metadata using .NET, see [Set and Retrieve Properties and Metadata](storage-properties-metadata.md).</span></span>  

### <a name="uploading-fast"></a><span data-ttu-id="8e71f-464">Carregamento rápido</span><span class="sxs-lookup"><span data-stu-id="8e71f-464">Uploading Fast</span></span>
<span data-ttu-id="8e71f-465">blobs tooupload rápidas, Olá primeira pergunta tooanswer é: são você carregar um blob ou muitas?</span><span class="sxs-lookup"><span data-stu-id="8e71f-465">tooupload blobs fast, hello first question tooanswer is: are you uploading one blob or many?</span></span>  <span data-ttu-id="8e71f-466">Use Olá abaixo orientação toodetermine Olá método correto toouse dependendo do cenário.</span><span class="sxs-lookup"><span data-stu-id="8e71f-466">Use hello below guidance toodetermine hello correct method toouse depending on your scenario.</span></span>  

#### <span data-ttu-id="8e71f-467"><a name="subheading21"></a>Carregamento rápido de um blob grande</span><span class="sxs-lookup"><span data-stu-id="8e71f-467"><a name="subheading21"></a>Uploading one large blob quickly</span></span>
<span data-ttu-id="8e71f-468">tooupload rapidamente de um único grande blob, o aplicativo cliente deve carregar seus blocos ou páginas em paralelo (sendo atento alvos de escalabilidade de saudação para blobs individuais e conta de armazenamento hello como um todo).</span><span class="sxs-lookup"><span data-stu-id="8e71f-468">tooupload a single large blob quickly, your client application should upload its blocks or pages in parallel (being mindful of hello scalability targets for individual blobs and hello storage account as a whole).</span></span>  <span data-ttu-id="8e71f-469">Observe que bibliotecas de fornecida pela Microsoft RTM do cliente de armazenamento oficiais hello (.NET, Java) têm Olá capacidade toodo isso.</span><span class="sxs-lookup"><span data-stu-id="8e71f-469">Note that hello official Microsoft-provided RTM Storage Client libraries (.NET, Java) have hello ability toodo this.</span></span>  <span data-ttu-id="8e71f-470">Para cada uma das bibliotecas de hello, use Olá abaixo do nível de saudação tooset especificado do objeto ou propriedade de simultaneidade:</span><span class="sxs-lookup"><span data-stu-id="8e71f-470">For each of hello libraries, use hello below specified object/property tooset hello level of concurrency:</span></span>  

* <span data-ttu-id="8e71f-471">.NET: ParallelOperationThreadCount de conjunto em um toobe de objeto BlobRequestOptions usado.</span><span class="sxs-lookup"><span data-stu-id="8e71f-471">.NET: Set ParallelOperationThreadCount on a BlobRequestOptions object toobe used.</span></span>
* <span data-ttu-id="8e71f-472">Java/Android: usar BlobRequestOptions.setConcurrentRequestCount()</span><span class="sxs-lookup"><span data-stu-id="8e71f-472">Java/Android: Use BlobRequestOptions.setConcurrentRequestCount()</span></span>
* <span data-ttu-id="8e71f-473">Node. js: Use parallelOperationThreadCount ou opções de solicitação hello ou no serviço de blob hello.</span><span class="sxs-lookup"><span data-stu-id="8e71f-473">Node.js: Use parallelOperationThreadCount on either hello request options or on hello blob service.</span></span>
* <span data-ttu-id="8e71f-474">C++: Método blob_request_options:: set_parallelism_factor usar hello.</span><span class="sxs-lookup"><span data-stu-id="8e71f-474">C++: Use hello blob_request_options::set_parallelism_factor method.</span></span>

#### <span data-ttu-id="8e71f-475"><a name="subheading22"></a>Carregamento rápido de diversos blobs</span><span class="sxs-lookup"><span data-stu-id="8e71f-475"><a name="subheading22"></a>Uploading many blobs quickly</span></span>
<span data-ttu-id="8e71f-476">tooupload muitos blobs rapidamente, carregar blobs em paralelo.</span><span class="sxs-lookup"><span data-stu-id="8e71f-476">tooupload many blobs quickly, upload blobs in parallel.</span></span> <span data-ttu-id="8e71f-477">Isso é mais rápido que carregar blobs único por vez com carregamentos de bloco paralelo porque ela espalha Olá carregamento por várias partições saudação do serviço de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="8e71f-477">This is faster than uploading single blobs at a time with parallel block uploads because it spreads hello upload across multiple partitions of hello storage service.</span></span> <span data-ttu-id="8e71f-478">Cada blob dá suporte a uma taxa de transferência de 60 MB/segundo (aproximadamente, 480 Mbps).</span><span class="sxs-lookup"><span data-stu-id="8e71f-478">A single blob only supports a throughput of 60 MB/second (approximately 480 Mbps).</span></span> <span data-ttu-id="8e71f-479">No momento da saudação de gravação, uma conta com base nos EUA LRS dá suporte para até too20 Gbps de entrada que é muito mais do que a taxa de transferência Olá suportada por um blob individual.</span><span class="sxs-lookup"><span data-stu-id="8e71f-479">At hello time of writing, a US-based LRS account supports up too20 Gbps ingress which is far more than hello throughput supported by an individual blob.</span></span>  <span data-ttu-id="8e71f-480">[AzCopy](#subheading18) executa os carregamentos em paralelo por padrão e é a opção recomendada nesse caso.</span><span class="sxs-lookup"><span data-stu-id="8e71f-480">[AzCopy](#subheading18) performs uploads in parallel by default, and is recommended for this scenario.</span></span>  

### <span data-ttu-id="8e71f-481"><a name="subheading23"></a>Escolhendo o tipo correto de saudação do blob</span><span class="sxs-lookup"><span data-stu-id="8e71f-481"><a name="subheading23"></a>Choosing hello correct type of blob</span></span>
<span data-ttu-id="8e71f-482">O armazenamento do Azure oferece suporte a dois tipos de blob: blobs de *página* e blobs de *blocos*.</span><span class="sxs-lookup"><span data-stu-id="8e71f-482">Azure Storage supports two types of blob: *page* blobs and *block* blobs.</span></span> <span data-ttu-id="8e71f-483">Para um cenário de uso específico, a escolha do tipo de blob afetará o desempenho de saudação e a escalabilidade de sua solução.</span><span class="sxs-lookup"><span data-stu-id="8e71f-483">For a given usage scenario, your choice of blob type will affect hello performance and scalability of your solution.</span></span> <span data-ttu-id="8e71f-484">Blobs de bloco são apropriados quando desejar grandes quantidades de tooupload de dados com eficiência: por exemplo, talvez seja necessário um aplicativo cliente fotos tooupload ou armazenamento de vídeo tooblob.</span><span class="sxs-lookup"><span data-stu-id="8e71f-484">Block blobs are appropriate when you want tooupload large amounts of data efficiently: for example, a client application may need tooupload photos or video tooblob storage.</span></span> <span data-ttu-id="8e71f-485">Blobs de página são apropriados se o aplicativo hello precisar tooperform as gravações aleatórias em dados Olá: por exemplo, os VHDs do Azure são armazenados como blobs de página.</span><span class="sxs-lookup"><span data-stu-id="8e71f-485">Page blobs are appropriate if hello application needs tooperform random writes on hello data: for example, Azure VHDs are stored as page blobs.</span></span>  

<span data-ttu-id="8e71f-486">Para saber mais, confira [Noções básicas sobre Blobs de bloco, Blobs de acréscimo e Blobs de página](http://msdn.microsoft.com/library/azure/ee691964.aspx).</span><span class="sxs-lookup"><span data-stu-id="8e71f-486">For more information, see [Understanding Block Blobs, Append Blobs, and Page Blobs](http://msdn.microsoft.com/library/azure/ee691964.aspx).</span></span>  

## <a name="tables"></a><span data-ttu-id="8e71f-487">Tabelas</span><span class="sxs-lookup"><span data-stu-id="8e71f-487">Tables</span></span>
<span data-ttu-id="8e71f-488">Em adição toohello comprovadas práticas recomendadas para [todos os serviços](#allservices) descrito anteriormente, a seguir Olá práticas comprovadas se aplicam especificamente o serviço de tabela toohello.</span><span class="sxs-lookup"><span data-stu-id="8e71f-488">In addition toohello proven practices for [All Services](#allservices) described previously, hello following proven practices apply specifically toohello table service.</span></span>  

### <span data-ttu-id="8e71f-489"><a name="subheading24"></a>Metas de escalabilidade específicas da tabela</span><span class="sxs-lookup"><span data-stu-id="8e71f-489"><a name="subheading24"></a>Table-Specific Scalability Targets</span></span>
<span data-ttu-id="8e71f-490">Limitações de largura de banda de toohello de adição de uma conta de armazenamento inteira, tabelas tem Olá após o limite de escalabilidade específico.</span><span class="sxs-lookup"><span data-stu-id="8e71f-490">In addition toohello bandwidth limitations of an entire storage account, tables have hello following specific scalability limit.</span></span>  <span data-ttu-id="8e71f-491">Observe que o sistema Olá carregará o saldo conforme aumenta o tráfego, mas se o tráfego tem intermitências repentinas, você não pode ser capaz de tooget esse volume de taxa de transferência imediatamente.</span><span class="sxs-lookup"><span data-stu-id="8e71f-491">Note that hello system will load balance as your traffic increases, but if your traffic has sudden bursts, you may not be able tooget this volume of throughput immediately.</span></span>  <span data-ttu-id="8e71f-492">Se seu padrão tem intermitências, você deve esperar a limitação de toosee e/ou tempos limite durante Olá intermitência como serviço de armazenamento de saudação automaticamente balanceia a carga da sua tabela.</span><span class="sxs-lookup"><span data-stu-id="8e71f-492">If your pattern has bursts, you should expect toosee throttling and/or timeouts during hello burst as hello storage service automatically load balances out your table.</span></span>  <span data-ttu-id="8e71f-493">Aumentando lentamente geralmente tem resultados melhores porque ele oferece o saldo de tooload Olá sistema tempo adequadamente.</span><span class="sxs-lookup"><span data-stu-id="8e71f-493">Ramping up slowly generally has better results as it gives hello system time tooload balance appropriately.</span></span>  

#### <a name="entities-per-second-account"></a><span data-ttu-id="8e71f-494">Entidades por segundo (conta)</span><span class="sxs-lookup"><span data-stu-id="8e71f-494">Entities per Second (Account)</span></span>
<span data-ttu-id="8e71f-495">limite de escalabilidade Olá para acessar tabelas é too20, 000 (1KB cada) de entidades por segundo para uma conta.</span><span class="sxs-lookup"><span data-stu-id="8e71f-495">hello scalability limit for accessing tables is up too20,000 entities (1KB each) per second for an account.</span></span>  <span data-ttu-id="8e71f-496">Em geral, cada entidade inserida, atualizada, excluída ou verificada é computada nessa meta.</span><span class="sxs-lookup"><span data-stu-id="8e71f-496">In general, each entity that is inserted, updated, deleted, or scanned counts toward this target.</span></span>  <span data-ttu-id="8e71f-497">Assim, uma inserção em lote com 100 entidades é computada como 100 entidades.</span><span class="sxs-lookup"><span data-stu-id="8e71f-497">So a batch insert that contains 100 entities would count as 100 entities.</span></span>  <span data-ttu-id="8e71f-498">Uma consulta que verifica 1000 entidades e retorna apenas 5 é computada como 1000 entidades.</span><span class="sxs-lookup"><span data-stu-id="8e71f-498">A query that scans 1000 entities and returns 5 would count as 1000 entities.</span></span>  

#### <a name="entities-per-second-partition"></a><span data-ttu-id="8e71f-499">Entidades por segundo (partição)</span><span class="sxs-lookup"><span data-stu-id="8e71f-499">Entities per Second (Partition)</span></span>
<span data-ttu-id="8e71f-500">Em uma única partição, Olá meta de escalabilidade para acessar tabelas é 2.000 entidades (1KB cada) por segundo, usando Olá contagem mesmo conforme descrito na seção anterior hello.</span><span class="sxs-lookup"><span data-stu-id="8e71f-500">Within a single partition, hello scalability target for accessing tables is 2,000 entities (1KB each) per second, using hello same counting as described in hello previous section.</span></span>  

### <a name="configuration"></a><span data-ttu-id="8e71f-501">Configuração</span><span class="sxs-lookup"><span data-stu-id="8e71f-501">Configuration</span></span>
<span data-ttu-id="8e71f-502">Esta seção lista várias configurações rápida que você pode usar toomake melhorias de desempenho significativas no serviço de tabela hello:</span><span class="sxs-lookup"><span data-stu-id="8e71f-502">This section lists several quick configuration settings that you can use toomake significant performance improvements in hello table service:</span></span>  

#### <span data-ttu-id="8e71f-503"><a name="subheading25"></a>Usar JSON</span><span class="sxs-lookup"><span data-stu-id="8e71f-503"><a name="subheading25"></a>Use JSON</span></span>
<span data-ttu-id="8e71f-504">A partir da versão do serviço de armazenamento 2013-08-15, o serviço de tabela Olá oferece suporte usando JSON em vez do formato do hello AtomPub baseado em XML para a transferência de dados da tabela.</span><span class="sxs-lookup"><span data-stu-id="8e71f-504">Beginning with storage service version 2013-08-15, hello table service supports using JSON instead of hello XML-based AtomPub format for transferring table data.</span></span> <span data-ttu-id="8e71f-505">Isso pode reduzir o tamanho de carga em 75% e pode melhorar significativamente o desempenho de saudação do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="8e71f-505">This can reduce payload sizes by as much as 75% and can significantly improve hello performance of your application.</span></span>

<span data-ttu-id="8e71f-506">Para obter mais informações, consulte Olá postagem [tabelas do Microsoft Azure: apresentando o JSON](http://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/05/windows-azure-tables-introducing-json.aspx) e [formato de carga para operações do serviço tabela](http://msdn.microsoft.com/library/azure/dn535600.aspx).</span><span class="sxs-lookup"><span data-stu-id="8e71f-506">For more information, see hello post [Microsoft Azure Tables: Introducing JSON](http://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/05/windows-azure-tables-introducing-json.aspx) and [Payload Format for Table Service Operations](http://msdn.microsoft.com/library/azure/dn535600.aspx).</span></span>

#### <span data-ttu-id="8e71f-507"><a name="subheading26"></a>Desativação do Nagle</span><span class="sxs-lookup"><span data-stu-id="8e71f-507"><a name="subheading26"></a>Nagle Off</span></span>
<span data-ttu-id="8e71f-508">Algoritmo do Nagle é amplamente implementado em redes TCP/IP como um meio de desempenho de rede de tooimprove.</span><span class="sxs-lookup"><span data-stu-id="8e71f-508">Nagle's algorithm is widely implemented across TCP/IP networks as a means tooimprove network performance.</span></span> <span data-ttu-id="8e71f-509">No entanto, ele não é ideal em todas as circunstâncias (como em ambientes altamente interativos).</span><span class="sxs-lookup"><span data-stu-id="8e71f-509">However, it is not optimal in all circumstances (such as highly interactive environments).</span></span> <span data-ttu-id="8e71f-510">Para o armazenamento do Azure, algoritmo do Nagle tem um impacto negativo no desempenho de saudação do serviços de tabela e fila de solicitações toohello e você deverá desabilitá-la se possível.</span><span class="sxs-lookup"><span data-stu-id="8e71f-510">For Azure Storage, Nagle's algorithm has a negative impact on hello performance of requests toohello table and queue services, and you should disable it if possible.</span></span>  

<span data-ttu-id="8e71f-511">Para obter mais informações, consulte nossa postagem de blog [algoritmo do Nagle não é amigável para solicitações de pequenas](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/06/25/nagle-s-algorithm-is-not-friendly-towards-small-requests.aspx), que explica por que o algoritmo do Nagle mal interage com solicitações de tabela e fila e mostra como toodisable-lo no seu cliente aplicativo.</span><span class="sxs-lookup"><span data-stu-id="8e71f-511">For more information, see our blog post [Nagle's Algorithm is Not Friendly towards Small Requests](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/06/25/nagle-s-algorithm-is-not-friendly-towards-small-requests.aspx), which explains why Nagle's algorithm interacts poorly with table and queue requests, and shows how toodisable it in your client application.</span></span>  

### <a name="schema"></a><span data-ttu-id="8e71f-512">Esquema</span><span class="sxs-lookup"><span data-stu-id="8e71f-512">Schema</span></span>
<span data-ttu-id="8e71f-513">Como você declara e consulta seus dados é Olá maiores único fator que afeta o desempenho de saudação do serviço de tabela de saudação.</span><span class="sxs-lookup"><span data-stu-id="8e71f-513">How you represent and query your data is hello biggest single factor that affects hello performance of hello table service.</span></span> <span data-ttu-id="8e71f-514">Embora cada aplicativo seja único, esta seção descreve algumas práticas gerais comprovadas relacionadas:</span><span class="sxs-lookup"><span data-stu-id="8e71f-514">While every application is different, this section outlines some general proven practices that relate to:</span></span>  

* <span data-ttu-id="8e71f-515">Ao design da tabela</span><span class="sxs-lookup"><span data-stu-id="8e71f-515">Table design</span></span>
* <span data-ttu-id="8e71f-516">A consultas eficientes</span><span class="sxs-lookup"><span data-stu-id="8e71f-516">Efficient queries</span></span>
* <span data-ttu-id="8e71f-517">A atualizações de dados eficientes</span><span class="sxs-lookup"><span data-stu-id="8e71f-517">Efficient data updates</span></span>  

#### <span data-ttu-id="8e71f-518"><a name="subheading27"></a>Tabelas e partições</span><span class="sxs-lookup"><span data-stu-id="8e71f-518"><a name="subheading27"></a>Tables and partitions</span></span>
<span data-ttu-id="8e71f-519">As tabelas são divididas em partições.</span><span class="sxs-lookup"><span data-stu-id="8e71f-519">Tables are divided into partitions.</span></span> <span data-ttu-id="8e71f-520">Cada entidade armazenada em uma partição compartilhamentos Olá a mesma chave de partição e tem um tooidentify de chave de linha exclusivo-la dentro dessa partição.</span><span class="sxs-lookup"><span data-stu-id="8e71f-520">Every entity stored in a partition shares hello same partition key and has a unique row key tooidentify it within that partition.</span></span> <span data-ttu-id="8e71f-521">As partições trazem benefícios, mas também criam limites de escalabilidade.</span><span class="sxs-lookup"><span data-stu-id="8e71f-521">Partitions provide benefits but also introduce scalability limits.</span></span>  

* <span data-ttu-id="8e71f-522">Benefícios: Você pode atualizar entidades na mesma partição em uma transação única, atômica, o lote que contém as operações de armazenamento separado de too100 (limite de tamanho total de 4MB) de saudação.</span><span class="sxs-lookup"><span data-stu-id="8e71f-522">Benefits: You can update entities in hello same partition in a single, atomic, batch transaction that contains up too100 separate storage operations (limit of 4MB total size).</span></span> <span data-ttu-id="8e71f-523">Supondo que Olá o mesmo número de entidades toobe de recuperados, você também pode consultar dados em uma única partição com mais eficiência do que os dados que abrange partições (embora continue lendo para obter mais recomendações sobre consultar dados de tabela).</span><span class="sxs-lookup"><span data-stu-id="8e71f-523">Assuming hello same number of entities toobe retrieved, you can also query data within a single partition more efficiently than data that spans partitions (though read on for further recommendations on querying table data).</span></span>
* <span data-ttu-id="8e71f-524">Limite de escalabilidade: tooentities de acesso armazenada em uma única partição não pode ser com balanceamento de carga porque partições oferecem suporte a transações em lote atômicas.</span><span class="sxs-lookup"><span data-stu-id="8e71f-524">Scalability limit: Access tooentities stored in a single partition cannot be load-balanced because partitions support atomic batch transactions.</span></span> <span data-ttu-id="8e71f-525">Por esse motivo, meta de escalabilidade de saudação para uma partição de tabela individual é menor do que o serviço de tabela hello como um todo.</span><span class="sxs-lookup"><span data-stu-id="8e71f-525">For this reason, hello scalability target for an individual table partition is lower than for hello table service as a whole.</span></span>  

<span data-ttu-id="8e71f-526">Devido a essas características de tabelas e partições, você deve adotar Olá princípios de design a seguir:</span><span class="sxs-lookup"><span data-stu-id="8e71f-526">Because of these characteristics of tables and partitions, you should adopt hello following design principles:</span></span>  

* <span data-ttu-id="8e71f-527">Dados que seu aplicativo cliente atualizado com frequência ou consultados Olá mesma unidade lógica de trabalho deve estar localizada em Olá mesma partição.</span><span class="sxs-lookup"><span data-stu-id="8e71f-527">Data that your client application frequently updated or queried in hello same logical unit of work should be located in hello same partition.</span></span>  <span data-ttu-id="8e71f-528">Isso pode ser porque seu aplicativo está agregando gravações, ou porque você deseja tootake proveito das operações em lote atômicas.</span><span class="sxs-lookup"><span data-stu-id="8e71f-528">This may be because your application is aggregating writes, or because you want tootake advantage of atomic batch operations.</span></span>  <span data-ttu-id="8e71f-529">Além disso, é possível consultar os dados em uma única partição com mais eficiência do que fazer a consulta em diversas partições.</span><span class="sxs-lookup"><span data-stu-id="8e71f-529">Also, data in a single partition can be more efficiently queried in a single query than data across partitions.</span></span>
* <span data-ttu-id="8e71f-530">Dados que seu aplicativo cliente não inserir/atualizar ou consultar em Olá mesma unidade lógica de trabalho (única consulta ou atualização em lotes) deve estar localizada em partições separam.</span><span class="sxs-lookup"><span data-stu-id="8e71f-530">Data that your client application does not insert/update or query in hello same logical unit of work (single query or batch update) should be located in separate partitions.</span></span>  <span data-ttu-id="8e71f-531">Uma observação importante é que não há nenhum toohello limitar o número de chaves de partição em uma única tabela, portanto ter milhões de chaves de partição não é um problema e não afetará o desempenho.</span><span class="sxs-lookup"><span data-stu-id="8e71f-531">One important note is that there is no limit toohello number of partition keys in a single table, so having millions of partition keys is not a problem and will not impact performance.</span></span>  <span data-ttu-id="8e71f-532">Por exemplo, se seu aplicativo for um site da Web popular com logon de usuário, usar Olá Id de usuário como chave de partição Olá poderia ser uma boa opção.</span><span class="sxs-lookup"><span data-stu-id="8e71f-532">For example, if your application is a popular website with user login, using hello User Id as hello partition key could be a good choice.</span></span>  

#### <a name="hot-partitions"></a><span data-ttu-id="8e71f-533">Partições mais acessadas</span><span class="sxs-lookup"><span data-stu-id="8e71f-533">Hot Partitions</span></span>
<span data-ttu-id="8e71f-534">Uma partição ativa é aquela que está recebendo uma porcentagem desproporcional de conta de tooan tráfego hello e não pode ser com balanceamento de carga porque é uma única partição.</span><span class="sxs-lookup"><span data-stu-id="8e71f-534">A hot partition is one that is receiving a disproportionate percentage of hello traffic tooan account, and cannot be load balanced because it is a single partition.</span></span>  <span data-ttu-id="8e71f-535">Em geral, essas partições são criadas de duas formas:</span><span class="sxs-lookup"><span data-stu-id="8e71f-535">In general, hot partitions are created one of two ways:</span></span>  

##### <span data-ttu-id="8e71f-536"><a name="subheading28"></a>Padrões somente anexar e somente incluir</span><span class="sxs-lookup"><span data-stu-id="8e71f-536"><a name="subheading28"></a>Append Only and Prepend Only patterns</span></span>
<span data-ttu-id="8e71f-537">Olá "Somente acréscimo" padrão é um onde todos os (ou quase todos) de saudação tráfego tooa fornecido PK aumentam e diminui o acordo toohello hora atual.</span><span class="sxs-lookup"><span data-stu-id="8e71f-537">hello "Append Only" pattern is one where all (or nearly all) of hello traffic tooa given PK increases and decreases according toohello current time.</span></span>  <span data-ttu-id="8e71f-538">Um exemplo é se o aplicativo usou Olá data atual como uma chave de partição para dados de log.</span><span class="sxs-lookup"><span data-stu-id="8e71f-538">An example is if your application used hello current date as a partition key for log data.</span></span>  <span data-ttu-id="8e71f-539">Isso resulta em todas as inserções de saudação vai toohello última partição na tabela e sistema Olá não pode balancear a carga porque todos Olá gravações estão indo toohello final da tabela.</span><span class="sxs-lookup"><span data-stu-id="8e71f-539">This results in all of hello inserts going toohello last partition in your table, and hello system cannot load balance because all of hello writes are going toohello end of your table.</span></span>  <span data-ttu-id="8e71f-540">Se volume Olá da partição de toothat de tráfego excede meta de escalabilidade de nível de partição de hello, ele resultará na limitação.</span><span class="sxs-lookup"><span data-stu-id="8e71f-540">If hello volume of traffic toothat partition exceeds hello partition-level scalability target, then it will result in throttling.</span></span>  <span data-ttu-id="8e71f-541">É melhor tooensure que toomultiple partições, o tráfego será enviado solicitações tooenable Olá de balanceamento de carga em sua tabela.</span><span class="sxs-lookup"><span data-stu-id="8e71f-541">It's better tooensure that traffic is sent toomultiple partitions, tooenable load balance hello requests across your table.</span></span>  

##### <span data-ttu-id="8e71f-542"><a name="subheading29"></a>Dados de tráfego intenso</span><span class="sxs-lookup"><span data-stu-id="8e71f-542"><a name="subheading29"></a>High-Traffic Data</span></span>
<span data-ttu-id="8e71f-543">Se os resultados de esquema de particionamento em uma única partição que tem apenas dados que é muito mais usados que as outras partições, você também poderá ver a limitação conforme meta de escalabilidade Olá para uma única partição se aproxima da partição.</span><span class="sxs-lookup"><span data-stu-id="8e71f-543">If your partitioning scheme results in a single partition that just has data that is far more used than other partitions, you may also see throttling as that partition approaches hello scalability target for a single partition.</span></span>  <span data-ttu-id="8e71f-544">É melhor toomake-se de que os resultados do esquema de partição em nenhum partição próximo metas de escalabilidade de saudação.</span><span class="sxs-lookup"><span data-stu-id="8e71f-544">It's better toomake sure that your partition scheme results in no single partition approaching hello scalability targets.</span></span>  

#### <a name="querying"></a><span data-ttu-id="8e71f-545">Consultas</span><span class="sxs-lookup"><span data-stu-id="8e71f-545">Querying</span></span>
<span data-ttu-id="8e71f-546">Esta seção descreve as práticas comprovadas para consultar o serviço de tabela de saudação.</span><span class="sxs-lookup"><span data-stu-id="8e71f-546">This section describes proven practices for querying hello table service.</span></span>  

##### <span data-ttu-id="8e71f-547"><a name="subheading30"></a>Escopo de consulta</span><span class="sxs-lookup"><span data-stu-id="8e71f-547"><a name="subheading30"></a>Query Scope</span></span>
<span data-ttu-id="8e71f-548">Há várias maneiras toospecify Olá variedade de tooquery de entidades.</span><span class="sxs-lookup"><span data-stu-id="8e71f-548">There are several ways toospecify hello range of entities tooquery.</span></span>  <span data-ttu-id="8e71f-549">a seguir Olá é uma discussão de usos de saudação de cada.</span><span class="sxs-lookup"><span data-stu-id="8e71f-549">hello following is a discussion of hello uses of each.</span></span>  

<span data-ttu-id="8e71f-550">Em geral, evite verificações (consultas maiores do que uma única entidade), mas se você deve examinar, tente tooorganize seus dados para que as varreduras recuperam dados de saudação sem verificação ou retornar uma quantidade significativa de entidades que não é necessário.</span><span class="sxs-lookup"><span data-stu-id="8e71f-550">In general, avoid scans (queries larger than a single entity), but if you must scan, try tooorganize your data so that your scans retrieve hello data you need without scanning or returning significant amounts of entities you don't need.</span></span>  

###### <a name="point-queries"></a><span data-ttu-id="8e71f-551">Consultas pontuais</span><span class="sxs-lookup"><span data-stu-id="8e71f-551">Point Queries</span></span>
<span data-ttu-id="8e71f-552">A consulta recupera exatamente uma entidade.</span><span class="sxs-lookup"><span data-stu-id="8e71f-552">A point query retrieves exactly one entity.</span></span> <span data-ttu-id="8e71f-553">Ele faz isso especificando a chave de partição hello e chave de linha de saudação tooretrieve de entidade.</span><span class="sxs-lookup"><span data-stu-id="8e71f-553">It does this by specifying both hello partition key and row key of hello entity tooretrieve.</span></span> <span data-ttu-id="8e71f-554">Essas consultas são muito eficientes e você deve usá-las sempre que possível.</span><span class="sxs-lookup"><span data-stu-id="8e71f-554">These queries are very efficient, and you should use them wherever possible.</span></span>  

###### <a name="partition-queries"></a><span data-ttu-id="8e71f-555">Consultas às partições</span><span class="sxs-lookup"><span data-stu-id="8e71f-555">Partition Queries</span></span>
<span data-ttu-id="8e71f-556">Esse tipo de consulta recupera um conjunto de dados que tem uma chave de partição em comum.</span><span class="sxs-lookup"><span data-stu-id="8e71f-556">A partition query is a query that retrieves a set of data that shares a common partition key.</span></span> <span data-ttu-id="8e71f-557">Normalmente, a consulta de saudação especifica um intervalo de valores de chave de linha ou um intervalo de valores para algumas propriedades de entidade na chave de partição tooa adição.</span><span class="sxs-lookup"><span data-stu-id="8e71f-557">Typically, hello query specifies a range of row key values or a range of values for some entity property in addition tooa partition key.</span></span> <span data-ttu-id="8e71f-558">Elas são menos eficientes do que as consultas pontuais e devem ser usados com critério.</span><span class="sxs-lookup"><span data-stu-id="8e71f-558">These are less efficient than point queries, and should be used sparingly.</span></span>  

###### <a name="table-queries"></a><span data-ttu-id="8e71f-559">Consultas às tabelas</span><span class="sxs-lookup"><span data-stu-id="8e71f-559">Table Queries</span></span>
<span data-ttu-id="8e71f-560">Esse tipo de consulta recupera um conjunto de entidades que não tem uma chave de partição em comum.</span><span class="sxs-lookup"><span data-stu-id="8e71f-560">A table query is a query that retrieves a set of entities that does not share a common partition key.</span></span> <span data-ttu-id="8e71f-561">Essas consultas não são eficientes e você deve evitá-las sempre que possível.</span><span class="sxs-lookup"><span data-stu-id="8e71f-561">These queries are not efficient and you should avoid them if possible.</span></span>  

##### <span data-ttu-id="8e71f-562"><a name="subheading31"></a>Densidade de consulta</span><span class="sxs-lookup"><span data-stu-id="8e71f-562"><a name="subheading31"></a>Query Density</span></span>
<span data-ttu-id="8e71f-563">Outro fator chave na eficiência da consulta é o número de saudação de entidades retornadas como toohello em comparação com o número de entidades toofind digitalizados hello retornada definido.</span><span class="sxs-lookup"><span data-stu-id="8e71f-563">Another key factor in query efficiency is hello number of entities returned as compared toohello number of entities scanned toofind hello returned set.</span></span> <span data-ttu-id="8e71f-564">Se o aplicativo executa uma consulta de tabela com um filtro para um valor de propriedade que apenas 1% dos compartilhamentos de dados hello, Olá consulta examinará 100 entidades para cada uma entidade que ele retorna.</span><span class="sxs-lookup"><span data-stu-id="8e71f-564">If your application performs a table query with a filter for a property value that only 1% of hello data shares, hello query will scan 100 entities for every one entity it returns.</span></span> <span data-ttu-id="8e71f-565">Hello metas de escalabilidade de tabela abordadas anteriormente todos se relacionam toohello número de entidades examinados e Olá não o número de entidades retornadas: uma densidade baixa de consulta pode facilmente fazer Olá toothrottle de serviço de tabela de seu aplicativo porque ele deve verificar tantas entidade de saudação de tooretrieve entidades que está procurando.</span><span class="sxs-lookup"><span data-stu-id="8e71f-565">hello table scalability targets discussed previously all relate toohello number of entities scanned, and not hello number of entities returned: a low query density can easily cause hello table service toothrottle your application because it must scan so many entities tooretrieve hello entity you are looking for.</span></span>  <span data-ttu-id="8e71f-566">Consulte a seção de saudação abaixo em [desnormalização](#subheading34) para obter mais informações sobre como tooavoid isso.</span><span class="sxs-lookup"><span data-stu-id="8e71f-566">See hello section below on [denormalization](#subheading34) for more information on how tooavoid this.</span></span>  

##### <a name="limiting-hello-amount-of-data-returned"></a><span data-ttu-id="8e71f-567">Limitando Olá a quantidade de dados retornados</span><span class="sxs-lookup"><span data-stu-id="8e71f-567">Limiting hello Amount of Data Returned</span></span>
###### <span data-ttu-id="8e71f-568"><a name="subheading32"></a>Filtragem</span><span class="sxs-lookup"><span data-stu-id="8e71f-568"><a name="subheading32"></a>Filtering</span></span>
<span data-ttu-id="8e71f-569">Quando você souber que uma consulta retornará entidades que não é necessário no aplicativo de cliente hello, considere o uso de um tamanho de saudação do filtro tooreduce de saudação retornada um conjunto de.</span><span class="sxs-lookup"><span data-stu-id="8e71f-569">Where you know that a query will return entities that you don't need in hello client application, consider using a filter tooreduce hello size of hello returned set.</span></span> <span data-ttu-id="8e71f-570">Ao entidades Olá retornado não toohello cliente ainda são contadas Olá limites de escalabilidade, desempenho do seu aplicativo será melhorar devido ao tamanho de carga de rede Olá reduzido e Olá redução do número de entidades que seu aplicativo cliente deve processar .</span><span class="sxs-lookup"><span data-stu-id="8e71f-570">While hello entities not returned toohello client still count toward hello scalability limits, your application performance will improve because of hello reduced network payload size and hello reduced number of entities that your client application must process.</span></span>  <span data-ttu-id="8e71f-571">Consulte acima Observação sobre [consulta densidade](#subheading31), porém – metas de escalabilidade Olá relacionam toohello número de entidades verificado, para uma consulta que filtra as muitas entidades ainda pode resultar na limitação, mesmo se algumas entidades são retornadas.</span><span class="sxs-lookup"><span data-stu-id="8e71f-571">See above note on [Query Density](#subheading31), however – hello scalability targets relate toohello number of entities scanned, so a query that filters out many entities may still result in throttling, even if few entities are returned.</span></span>  

###### <span data-ttu-id="8e71f-572"><a name="subheading33"></a>Projeção</span><span class="sxs-lookup"><span data-stu-id="8e71f-572"><a name="subheading33"></a>Projection</span></span>
<span data-ttu-id="8e71f-573">Se seu aplicativo cliente precisa apenas um conjunto limitado de propriedades de entidades de saudação em sua tabela, você pode usar o tamanho de saudação toolimit projeção de saudação retornada um conjunto de dados.</span><span class="sxs-lookup"><span data-stu-id="8e71f-573">If your client application needs only a limited set of properties from hello entities in your table, you can use projection toolimit hello size of hello returned data set.</span></span> <span data-ttu-id="8e71f-574">Com filtragem, isso ajuda a carga de rede tooreduce e processamento de cliente.</span><span class="sxs-lookup"><span data-stu-id="8e71f-574">As with filtering, this helps tooreduce network load and client processing.</span></span>  

##### <span data-ttu-id="8e71f-575"><a name="subheading34"></a>Desnormalização</span><span class="sxs-lookup"><span data-stu-id="8e71f-575"><a name="subheading34"></a>Denormalization</span></span>
<span data-ttu-id="8e71f-576">Ao contrário de trabalhar com bancos de dados relacionais, hello práticas comprovadas para consultar os dados da tabela com eficiência levam toodenormalizing seus dados.</span><span class="sxs-lookup"><span data-stu-id="8e71f-576">Unlike working with relational databases, hello proven practices for efficiently querying table data lead toodenormalizing your data.</span></span> <span data-ttu-id="8e71f-577">Ou seja, duplicando Olá os mesmos dados em várias entidades (uma para cada chave, você pode usar dados de saudação toofind) toominimize número de saudação de entidades que uma consulta deve verificar toofind Olá dados Olá cliente necessidades, em vez de ter tooscan grandes números de entidades toofind dados de saudação seu aplicativo precisa.</span><span class="sxs-lookup"><span data-stu-id="8e71f-577">That is, duplicating hello same data in multiple entities (one for each key you may use toofind hello data) toominimize hello number of entities that a query must scan toofind hello data hello client needs, rather than having tooscan large numbers of entities toofind hello data your application needs.</span></span>  <span data-ttu-id="8e71f-578">Por exemplo, em um site de comércio eletrônico, talvez você queira toofind uma ordem tanto por ID de cliente de saudação (dar pedidos do cliente) e pela data da saudação (me dar ordens em uma data).</span><span class="sxs-lookup"><span data-stu-id="8e71f-578">For example, in an e-commerce website, you may want toofind an order both by hello customer ID (give me this customer's orders) and by hello date (give me orders on a date).</span></span>  <span data-ttu-id="8e71f-579">No armazenamento de tabela, é melhor entidade de saudação toostore (ou uma referência tooit) duas vezes, uma vez com o nome da tabela, PK e trabalho Localizando toofacilitate por ID do cliente, uma vez toofacilitate localizá-lo por data de saudação.</span><span class="sxs-lookup"><span data-stu-id="8e71f-579">In Table Storage, it is best toostore hello entity (or a reference tooit) twice – once with Table Name, PK, and RK toofacilitate finding by customer ID, once toofacilitate finding it by hello date.</span></span>  

#### <a name="insertupdatedelete"></a><span data-ttu-id="8e71f-580">Inserção/atualização/exclusão</span><span class="sxs-lookup"><span data-stu-id="8e71f-580">Insert/Update/Delete</span></span>
<span data-ttu-id="8e71f-581">Esta seção descreve as práticas comprovadas para modificar entidades armazenadas no serviço de tabela de saudação.</span><span class="sxs-lookup"><span data-stu-id="8e71f-581">This section describes proven practices for modifying entities stored in hello table service.</span></span>  

##### <span data-ttu-id="8e71f-582"><a name="subheading35"></a>Envio em lote</span><span class="sxs-lookup"><span data-stu-id="8e71f-582"><a name="subheading35"></a>Batching</span></span>
<span data-ttu-id="8e71f-583">As transações em lotes são conhecidas como transações de grupo de entidade (ETG) no armazenamento do Azure; todas as operações de saudação dentro de um ETG devem estar em uma única partição em uma única tabela.</span><span class="sxs-lookup"><span data-stu-id="8e71f-583">Batch transactions are known as Entity Group Transactions (ETG) in Azure Storage; all hello operations within an ETG must be on a single partition in a single table.</span></span> <span data-ttu-id="8e71f-584">Sempre que possível, use ETGs tooperform inserções, atualizações e exclusões em lotes.</span><span class="sxs-lookup"><span data-stu-id="8e71f-584">Where possible, use ETGs tooperform inserts, updates, and deletes in batches.</span></span> <span data-ttu-id="8e71f-585">Isso reduz o número de saudação de viagens de ida e volta do seu servidor de toohello do aplicativo cliente, reduz Olá número de transações cobráveis (uma ETG contará como uma única transação para fins de cobrança e pode conter as operações de armazenamento too100) e habilita atômico atualizações (todas as operações de êxito ou todos falham dentro de um ETG).</span><span class="sxs-lookup"><span data-stu-id="8e71f-585">This reduces hello number of round trips from your client application toohello server, reduces hello number of billable transactions (an ETG counts as a single transaction for billing purposes and can contain up too100 storage operations), and enables atomic updates (all operations succeed or all fail within an ETG).</span></span> <span data-ttu-id="8e71f-586">Os ambientes com altos níveis de latência, como os dispositivos móveis, veem muitos benefícios no uso das ETGs.</span><span class="sxs-lookup"><span data-stu-id="8e71f-586">Environments with high latencies such as mobile devices will benefit greatly from using ETGs.</span></span>  

##### <span data-ttu-id="8e71f-587"><a name="subheading36"></a>Upsert</span><span class="sxs-lookup"><span data-stu-id="8e71f-587"><a name="subheading36"></a>Upsert</span></span>
<span data-ttu-id="8e71f-588">Use as operações de tabela **Upsert** sempre que possível.</span><span class="sxs-lookup"><span data-stu-id="8e71f-588">Use table **Upsert** operations wherever possible.</span></span> <span data-ttu-id="8e71f-589">Há dois tipos de **Upsert** e os dois podem ser mais eficientes do que as operações tradicionais **Insert** e **Update**:</span><span class="sxs-lookup"><span data-stu-id="8e71f-589">There are two types of **Upsert**, both of which can be more efficient than a traditional **Insert** and **Update** operations:</span></span>  

* <span data-ttu-id="8e71f-590">**InsertOrMerge**: Use essa opção quando quiser tooupload um subconjunto das propriedades da entidade hello, mas não tiver certeza se entidade Olá já existe.</span><span class="sxs-lookup"><span data-stu-id="8e71f-590">**InsertOrMerge**: Use this when you want tooupload a subset of hello entity's properties, but aren't sure whether hello entity already exists.</span></span> <span data-ttu-id="8e71f-591">Se existir a entidade hello, essa chamada atualiza propriedades de saudação incluídas no hello **Upsert** operação e deixa todas as propriedades existentes, como eles são, se hello entidade não existe, ele insere Olá nova entidade.</span><span class="sxs-lookup"><span data-stu-id="8e71f-591">If hello entity exists, this call updates hello properties included in hello **Upsert** operation, and leaves all existing properties as they are, if hello entity does not exist, it inserts hello new entity.</span></span> <span data-ttu-id="8e71f-592">Isso é semelhante projeção toousing em uma consulta, em que você só precisa de propriedades de saudação tooupload que estão alterando.</span><span class="sxs-lookup"><span data-stu-id="8e71f-592">This is similar toousing projection in a query, in that you only need tooupload hello properties that are changing.</span></span>
* <span data-ttu-id="8e71f-593">**InsertOrReplace**: Use essa opção quando desejar que tooupload uma entidade totalmente nova, mas você não tiver certeza se ele já existe.</span><span class="sxs-lookup"><span data-stu-id="8e71f-593">**InsertOrReplace**: Use this when you want tooupload an entirely new entity, but you aren't sure whether it already exists.</span></span> <span data-ttu-id="8e71f-594">Você deve usar isso apenas quando você sabe que Olá carregado recentemente a entidade está totalmente correto porque ela substitui completamente a entidade antiga hello.</span><span class="sxs-lookup"><span data-stu-id="8e71f-594">You should only use this when you know that hello newly uploaded entity is entirely correct because it completely overwrites hello old entity.</span></span> <span data-ttu-id="8e71f-595">Por exemplo, você deseja tooupdate entidade de saudação que armazena o local atual do usuário, independentemente de ou não aplicativo hello armazenou anteriormente dados de local para o usuário Olá; Olá nova entidade de local é concluída, e todas as informações de qualquer entidade anterior não é necessário.</span><span class="sxs-lookup"><span data-stu-id="8e71f-595">For example, you want tooupdate hello entity that stores a user's current location regardless of whether or not hello application has previously stored location data for hello user; hello new location entity is complete, and you do not need any information from any previous entity.</span></span>

##### <span data-ttu-id="8e71f-596"><a name="subheading37"></a>Armazenamento de séries de dados em uma única entidade</span><span class="sxs-lookup"><span data-stu-id="8e71f-596"><a name="subheading37"></a>Storing Data Series in a Single Entity</span></span>
<span data-ttu-id="8e71f-597">Às vezes, um aplicativo armazena uma série de dados que frequentemente precisa tooretrieve todos de uma vez: por exemplo, um aplicativo pode acompanhar o uso de CPU ao longo do tempo em ordem tooplot um gráfico sem interrupção de dados de saudação do hello últimas 24 horas.</span><span class="sxs-lookup"><span data-stu-id="8e71f-597">Sometimes, an application stores a series of data that it frequently needs tooretrieve all at once: for example, an application might track CPU usage over time in order tooplot a rolling chart of hello data from hello last 24 hours.</span></span> <span data-ttu-id="8e71f-598">Uma abordagem é a entidade de uma tabela de toohave por hora, com cada entidade que representa uma hora específica e armazenar o uso de CPU Olá para essa hora.</span><span class="sxs-lookup"><span data-stu-id="8e71f-598">One approach is toohave one table entity per hour, with each entity representing a specific hour and storing hello CPU usage for that hour.</span></span> <span data-ttu-id="8e71f-599">tooplot esses dados, o aplicativo hello precisam de entidades de saudação tooretrieve mantendo dados Olá Olá 24 horas mais recentes.</span><span class="sxs-lookup"><span data-stu-id="8e71f-599">tooplot this data, hello application needs tooretrieve hello entities holding hello data from hello 24 most recent hours.</span></span>  

<span data-ttu-id="8e71f-600">Como alternativa, seu aplicativo pode armazenar o uso de CPU de saudação para cada hora como uma propriedade separada de uma única entidade: tooupdate a cada hora, seu aplicativo pode usar um único **InsertOrMerge Upsert** pedir tooupdate valor de Olá Olá hora mais recente.</span><span class="sxs-lookup"><span data-stu-id="8e71f-600">Alternatively, your application could store hello CPU usage for each hour as a separate property of a single entity: tooupdate each hour, your application can use a single **InsertOrMerge Upsert** call tooupdate hello value for hello most recent hour.</span></span> <span data-ttu-id="8e71f-601">dados de saudação tooplot, o aplicativo hello só precisa tooretrieve uma única entidade em vez de 24, tornando-se para uma consulta muito eficiente (consulte acima discussão sobre [escopo de consulta](#subheading30)).</span><span class="sxs-lookup"><span data-stu-id="8e71f-601">tooplot hello data, hello application only needs tooretrieve a single entity instead of 24, making for a very efficient query (see above discussion on [query scope](#subheading30)).</span></span>

##### <span data-ttu-id="8e71f-602"><a name="subheading38"></a>Armazenando dados estruturados em blobs</span><span class="sxs-lookup"><span data-stu-id="8e71f-602"><a name="subheading38"></a>Storing structured data in blobs</span></span>
<span data-ttu-id="8e71f-603">Às vezes parece que os dados estruturados devem ser dispostos em tabelas, mas os intervalos das entidades sempre são recuperados em conjunto e podem ser inseridos em lote.</span><span class="sxs-lookup"><span data-stu-id="8e71f-603">Sometimes structured data feels like it should go in tables, but ranges of entities are always retrieved together and can be batch inserted.</span></span>  <span data-ttu-id="8e71f-604">Um bom exemplo disso são os arquivos de log.</span><span class="sxs-lookup"><span data-stu-id="8e71f-604">A good example of this is a log file.</span></span>  <span data-ttu-id="8e71f-605">Nesse caso, você pode considerar diversos minutos de log como um lote, inseri-los e recuperar diversos minutos de uma só vez.</span><span class="sxs-lookup"><span data-stu-id="8e71f-605">In this case, you can batch several minutes of logs, insert them, and then you are always retrieving several minutes of logs at a time as well.</span></span>  <span data-ttu-id="8e71f-606">Nesse caso, para o desempenho, é melhor blobs toouse em vez de tabelas, desde que você pode reduzir significativamente Olá número de objetos gravados/retornados, bem como Olá normalmente o número de solicitações que precisam feitas.</span><span class="sxs-lookup"><span data-stu-id="8e71f-606">In this case, for performance, it's better toouse blobs instead of tables, since you can significantly reduce hello number of objects written/returned, as well as usually hello number of requests that need made.</span></span>  

## <a name="queues"></a><span data-ttu-id="8e71f-607">Filas</span><span class="sxs-lookup"><span data-stu-id="8e71f-607">Queues</span></span>
<span data-ttu-id="8e71f-608">Em adição toohello comprovadas práticas recomendadas para [todos os serviços](#allservices) descrito anteriormente, a seguir Olá práticas comprovadas se aplicam especificamente o serviço de fila de toohello.</span><span class="sxs-lookup"><span data-stu-id="8e71f-608">In addition toohello proven practices for [All Services](#allservices) described previously, hello following proven practices apply specifically toohello queue service.</span></span>  

### <span data-ttu-id="8e71f-609"><a name="subheading39"></a>Limites de escalabilidade</span><span class="sxs-lookup"><span data-stu-id="8e71f-609"><a name="subheading39"></a>Scalability Limits</span></span>
<span data-ttu-id="8e71f-610">Uma única fila pode processar aproximadamente 2.000 mensagens (1 KB cada) por segundo (cada contagem AddMessage, GetMessage e DeleteMessage como uma mensagem aqui).</span><span class="sxs-lookup"><span data-stu-id="8e71f-610">A single queue can process approximately 2,000 messages (1KB each) per second (each AddMessage, GetMessage, and DeleteMessage count as a message here).</span></span> <span data-ttu-id="8e71f-611">Se isso for insuficiente para seu aplicativo, você deve usar várias filas e distribuir mensagens de saudação entre eles.</span><span class="sxs-lookup"><span data-stu-id="8e71f-611">If this is insufficient for your application, you should use multiple queues and spread hello messages across them.</span></span>  

<span data-ttu-id="8e71f-612">Exiba as metas atuais de escalabilidade em [Metas de desempenho e escalabilidade do Armazenamento do Azure](storage-scalability-targets.md).</span><span class="sxs-lookup"><span data-stu-id="8e71f-612">View current scalability targets at [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md).</span></span>  

### <span data-ttu-id="8e71f-613"><a name="subheading40"></a>Desativação do Nagle</span><span class="sxs-lookup"><span data-stu-id="8e71f-613"><a name="subheading40"></a>Nagle Off</span></span>
<span data-ttu-id="8e71f-614">Consulte a seção de saudação na configuração de tabela que descreve o algoritmo de Nagle hello – algoritmo de Nagle de saudação é geralmente negativamente o desempenho de saudação de solicitações de fila e, em seguida, você deverá desabilitá-la.</span><span class="sxs-lookup"><span data-stu-id="8e71f-614">See hello section on table configuration that discusses hello Nagle algorithm — hello Nagle algorithm is generally bad for hello performance of queue requests, and you should disable it.</span></span>  

### <span data-ttu-id="8e71f-615"><a name="subheading41"></a>Tamanho da mensagem</span><span class="sxs-lookup"><span data-stu-id="8e71f-615"><a name="subheading41"></a>Message Size</span></span>
<span data-ttu-id="8e71f-616">O desempenho e a escalabilidade da fila diminui quando o tamanho de mensagem aumenta.</span><span class="sxs-lookup"><span data-stu-id="8e71f-616">Queue performance and scalability decreases as message size increases.</span></span> <span data-ttu-id="8e71f-617">Você deve colocar somente Olá Olá receptor necessidades de informações em uma mensagem.</span><span class="sxs-lookup"><span data-stu-id="8e71f-617">You should place only hello information hello receiver needs in a message.</span></span>  

### <span data-ttu-id="8e71f-618"><a name="subheading42"></a>Recuperação de lote</span><span class="sxs-lookup"><span data-stu-id="8e71f-618"><a name="subheading42"></a>Batch Retrieval</span></span>
<span data-ttu-id="8e71f-619">Você pode recuperar as mensagens de too32 de uma fila em uma única operação.</span><span class="sxs-lookup"><span data-stu-id="8e71f-619">You can retrieve up too32 messages from a queue in a single operation.</span></span> <span data-ttu-id="8e71f-620">Isso pode reduzir o número de saudação de idas e voltas do aplicativo de cliente hello, que é especialmente útil em ambientes, como dispositivos móveis, com alta latência.</span><span class="sxs-lookup"><span data-stu-id="8e71f-620">This can reduce hello number of roundtrips from hello client application, which is especially useful for environments, such as mobile devices, with high latency.</span></span>  

### <span data-ttu-id="8e71f-621"><a name="subheading43"></a>Intervalo de sondagem de fila</span><span class="sxs-lookup"><span data-stu-id="8e71f-621"><a name="subheading43"></a>Queue Polling Interval</span></span>
<span data-ttu-id="8e71f-622">A maioria dos aplicativos a sondagem para mensagens de uma fila, que pode ser uma das fontes de saudação maior de transações para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="8e71f-622">Most applications poll for messages from a queue, which can be one of hello largest sources of transactions for that application.</span></span> <span data-ttu-id="8e71f-623">Selecione o intervalo de sondagem criteriosamente: com muita frequência de sondagem pode fazer com que seu aplicativo tooapproach alvos de escalabilidade de saudação para fila de saudação.</span><span class="sxs-lookup"><span data-stu-id="8e71f-623">Select your polling interval wisely: polling too frequently could cause your application tooapproach hello scalability targets for hello queue.</span></span> <span data-ttu-id="8e71f-624">No entanto, em 200.000 transações para US $0,01 (em tempo de saudação de gravação), um único processador quando a cada segundo por um mês custaria menos de 15 centavos assim o custo de sondagem não é normalmente um fator que afeta sua opção de intervalo de sondagem.</span><span class="sxs-lookup"><span data-stu-id="8e71f-624">However, at 200,000 transactions for $0.01 (at hello time of writing), a single processor polling once every second for a month would cost less than 15 cents so cost is not typically a factor that affects your choice of polling interval.</span></span>  

<span data-ttu-id="8e71f-625">Para obter informações atualizadas sobre custos, confira [Preços do Armazenamento do Azure](https://azure.microsoft.com/pricing/details/storage/).</span><span class="sxs-lookup"><span data-stu-id="8e71f-625">For up-to-date cost information, see [Azure Storage Pricing](https://azure.microsoft.com/pricing/details/storage/).</span></span>  

### <span data-ttu-id="8e71f-626"><a name="subheading44"></a>UpdateMessage</span><span class="sxs-lookup"><span data-stu-id="8e71f-626"><a name="subheading44"></a>UpdateMessage</span></span>
<span data-ttu-id="8e71f-627">Você pode usar **UpdateMessage** tooincrease Olá invisibilidade tooupdate ou tempo limite de informações de estado de uma mensagem.</span><span class="sxs-lookup"><span data-stu-id="8e71f-627">You can use **UpdateMessage** tooincrease hello invisibility timeout or tooupdate state information of a message.</span></span> <span data-ttu-id="8e71f-628">Embora seja eficiente, lembre-se de que cada **UpdateMessage** operação conta para a meta de escalabilidade de saudação.</span><span class="sxs-lookup"><span data-stu-id="8e71f-628">While this is powerful, remember that each **UpdateMessage** operation counts towards hello scalability target.</span></span> <span data-ttu-id="8e71f-629">No entanto, isso pode ser uma abordagem muito mais eficiente do que um fluxo de trabalho que passa um trabalho de uma fila toohello em seguida, como cada etapa de trabalho de saudação é concluída.</span><span class="sxs-lookup"><span data-stu-id="8e71f-629">However, this can be a much more efficient approach than having a workflow that passes a job from one queue toohello next, as each step of hello job is completed.</span></span> <span data-ttu-id="8e71f-630">Usando Olá **UpdateMessage** operação permite que a mensagem de toohello aplicativo toosave Olá trabalho estado e continue a trabalhar, em vez de mensagem de saudação do enfileiramento de mensagens novamente para a próxima etapa saudação do trabalho Olá toda vez que uma etapa for concluída.</span><span class="sxs-lookup"><span data-stu-id="8e71f-630">Using hello **UpdateMessage** operation allows your application toosave hello job state toohello message and then continue working, instead of re-queuing hello message for hello next step of hello job every time a step completes.</span></span>  

<span data-ttu-id="8e71f-631">Para obter mais informações, consulte o artigo Olá [como: alterar o conteúdo de saudação de uma mensagem na fila](storage-dotnet-how-to-use-queues.md#change-the-contents-of-a-queued-message).</span><span class="sxs-lookup"><span data-stu-id="8e71f-631">For more information, see hello article [How to: Change hello contents of a queued message](storage-dotnet-how-to-use-queues.md#change-the-contents-of-a-queued-message).</span></span>  

### <span data-ttu-id="8e71f-632"><a name="subheading45"></a>Arquitetura do aplicativo</span><span class="sxs-lookup"><span data-stu-id="8e71f-632"><a name="subheading45"></a>Application architecture</span></span>
<span data-ttu-id="8e71f-633">Você deve usar filas toomake a arquitetura do aplicativo escalonável.</span><span class="sxs-lookup"><span data-stu-id="8e71f-633">You should use queues toomake your application architecture scalable.</span></span> <span data-ttu-id="8e71f-634">lista a seguir de saudação algumas maneiras de usar filas toomake seu aplicativo mais escalonável:</span><span class="sxs-lookup"><span data-stu-id="8e71f-634">hello following lists some ways you can use queues toomake your application more scalable:</span></span>  

* <span data-ttu-id="8e71f-635">Você pode usar listas de pendências de toocreate de filas de trabalho para processamento e suavizam as cargas de trabalho em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="8e71f-635">You can use queues toocreate backlogs of work for processing and smooth out workloads in your application.</span></span> <span data-ttu-id="8e71f-636">Por exemplo, você pode enfileirar solicitações de trabalho intensivas de processador do tooperform de usuários como redimensionar imagens carregadas.</span><span class="sxs-lookup"><span data-stu-id="8e71f-636">For example, you could queue up requests from users tooperform processor intensive work such as resizing uploaded images.</span></span>
* <span data-ttu-id="8e71f-637">Você pode usar partes de toodecouple filas de seu aplicativo para que você pode dimensionar independentemente.</span><span class="sxs-lookup"><span data-stu-id="8e71f-637">You can use queues toodecouple parts of your application so that you can scale them independently.</span></span> <span data-ttu-id="8e71f-638">Por exemplo, um front-end da Web pode colocar os resultados de pesquisa dos usuários em uma fila para análise posterior e armazenamento.</span><span class="sxs-lookup"><span data-stu-id="8e71f-638">For example, a web front-end could place survey results from users into a queue for later analysis and storage.</span></span> <span data-ttu-id="8e71f-639">Você pode adicionar que mais tooprocess de instâncias de função de trabalho Olá dados da fila conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="8e71f-639">You could add more worker role instances tooprocess hello queue data as required.</span></span>  

## <a name="conclusion"></a><span data-ttu-id="8e71f-640">Conclusão</span><span class="sxs-lookup"><span data-stu-id="8e71f-640">Conclusion</span></span>
<span data-ttu-id="8e71f-641">Neste artigo, alguns hello mais comuns, discutido comprovadas práticas recomendadas para otimizar o desempenho ao usar o armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="8e71f-641">This article discussed some of hello most common, proven practices for optimizing performance when using Azure Storage.</span></span> <span data-ttu-id="8e71f-642">Podemos incentivar cada tooassess de desenvolvedor do aplicativo seu aplicativo em relação a cada Olá acima práticas e considerar agindo em Olá recomendações tooget excelente desempenho para os aplicativos que usam o armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="8e71f-642">We encourage every application developer tooassess their application against each of hello above practices and consider acting on hello recommendations tooget great performance for their applications that use Azure Storage.</span></span>
