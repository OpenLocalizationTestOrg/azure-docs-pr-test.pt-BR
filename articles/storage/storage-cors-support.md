---
title: Suporte a origens aaaCross recurso Compartilhamento (CORS) | Microsoft Docs
description: "Saiba como o suporte de CORS tooenable para Olá serviços de armazenamento do Microsoft Azure."
services: storage
documentationcenter: .net
author: cbrooksmsft
manager: carmonm
editor: tysonn
ms.assetid: a0229595-5b64-4898-b8d6-fa2625ea6887
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 2/22/2017
ms.author: cbrooks
ms.openlocfilehash: 0a6ec3bf6999c5faa7f0912dc2a47921aa01d3d4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="cross-origin-resource-sharing-cors-support-for-hello-azure-storage-services"></a><span data-ttu-id="ce9c3-103">Suporte a compartilhamento de recursos entre origens (CORS) Olá serviços de armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="ce9c3-103">Cross-Origin Resource Sharing (CORS) Support for hello Azure Storage Services</span></span>
<span data-ttu-id="ce9c3-104">Serviços de armazenamento do Azure Olá começando com a versão 2013-08-15, suportam a compartilhamento de recursos entre origens (CORS) para serviços de Blob, tabela, fila e arquivo hello.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-104">Beginning with version 2013-08-15, hello Azure storage services support Cross-Origin Resource Sharing (CORS) for hello Blob, Table, Queue, and File services.</span></span> <span data-ttu-id="ce9c3-105">CORS é um recurso HTTP que permite que um aplicativo web executando os recursos de tooaccess em um domínio em outro domínio.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-105">CORS is an HTTP feature that enables a web application running under one domain tooaccess resources in another domain.</span></span> <span data-ttu-id="ce9c3-106">Navegadores da Web implementam uma restrição de segurança, conhecida como [política de mesma origem](http://www.w3.org/Security/wiki/Same_Origin_Policy) que impede que uma página da web de APIs de chamada em um domínio diferente; CORS fornece uma maneira segura tooallow um domínio (domínio de origem Olá) toocall APIs em outro domínio.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-106">Web browsers implement a security restriction known as [same-origin policy](http://www.w3.org/Security/wiki/Same_Origin_Policy) that prevents a web page from calling APIs in a different domain; CORS provides a secure way tooallow one domain (hello origin domain) toocall APIs in another domain.</span></span> <span data-ttu-id="ce9c3-107">Consulte Olá [especificação CORS](http://www.w3.org/TR/cors/) para obter detalhes sobre o CORS.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-107">See hello [CORS specification](http://www.w3.org/TR/cors/) for details on CORS.</span></span>

<span data-ttu-id="ce9c3-108">Você pode definir regras de CORS individualmente para cada Olá serviços de armazenamento, chamando [definir propriedades do serviço Blob](https://msdn.microsoft.com/library/hh452235.aspx), [definir propriedades de serviço de fila](https://msdn.microsoft.com/library/hh452232.aspx), e [definir propriedades do serviço tabela](https://msdn.microsoft.com/library/hh452240.aspx).</span><span class="sxs-lookup"><span data-stu-id="ce9c3-108">You can set CORS rules individually for each of hello storage services, by calling [Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [Set Queue Service Properties](https://msdn.microsoft.com/library/hh452232.aspx), and [Set Table Service Properties](https://msdn.microsoft.com/library/hh452240.aspx).</span></span> <span data-ttu-id="ce9c3-109">Depois de definir regras de CORS Olá para serviço hello, uma solicitação autenticada corretamente feita no serviço de saudação de um domínio diferente será avaliada toodetermine se é permitido de acordo com as regras de toohello que você especificou.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-109">Once you set hello CORS rules for hello service, then a properly authenticated request made against hello service from a different domain will be evaluated toodetermine whether it is allowed according toohello rules you have specified.</span></span>

> [!NOTE]
> <span data-ttu-id="ce9c3-110">Observe que CORS não é um mecanismo de autenticação.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-110">Note that CORS is not an authentication mechanism.</span></span> <span data-ttu-id="ce9c3-111">Qualquer solicitação feita em um recurso de armazenamento quando CORS estiver habilitado deve ter uma assinatura de autenticação adequada ou deverá ser feita em um recurso público.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-111">Any request made against a storage resource when CORS is enabled must either have a proper authentication signature, or must be made against a public resource.</span></span>
> 
> 

## <a name="understanding-cors-requests"></a><span data-ttu-id="ce9c3-112">Noções básicas sobre solicitações CORS</span><span class="sxs-lookup"><span data-stu-id="ce9c3-112">Understanding CORS requests</span></span>
<span data-ttu-id="ce9c3-113">Uma solicitação CORS de um domínio de origem pode consistir em duas solicitações separadas:</span><span class="sxs-lookup"><span data-stu-id="ce9c3-113">A CORS request from an origin domain may consist of two separate requests:</span></span>

* <span data-ttu-id="ce9c3-114">Uma solicitação de simulação, que consulta as restrições de CORS Olá impostas pelo serviço de saudação.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-114">A preflight request, which queries hello CORS restrictions imposed by hello service.</span></span> <span data-ttu-id="ce9c3-115">solicitação de simulação de saudação é necessária a menos que seja o método de solicitação Olá um [método simples](http://www.w3.org/TR/cors/), significando GET, HEAD ou POST.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-115">hello preflight request is required unless hello request method is a [simple method](http://www.w3.org/TR/cors/), meaning GET, HEAD, or POST.</span></span>
* <span data-ttu-id="ce9c3-116">solicitação de real Hello, feita no recurso de saudação desejado.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-116">hello actual request, made against hello desired resource.</span></span>

### <a name="preflight-request"></a><span data-ttu-id="ce9c3-117">Solicitação de simulação</span><span class="sxs-lookup"><span data-stu-id="ce9c3-117">Preflight request</span></span>
<span data-ttu-id="ce9c3-118">consultas de solicitação de simulação Olá Olá restrições de CORS que foram estabelecidas pelo proprietário da conta Olá Olá para serviço de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-118">hello preflight request queries hello CORS restrictions that have been established for hello storage service by hello account owner.</span></span> <span data-ttu-id="ce9c3-119">navegador da web de Hello (ou outro agente do usuário) envia uma solicitação de opções que inclui os cabeçalhos de solicitação hello, domínio de origem e de método.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-119">hello web browser (or other user agent) sends an OPTIONS request that includes hello request headers, method and origin domain.</span></span> <span data-ttu-id="ce9c3-120">serviço de armazenamento de saudação é avaliada com base em um conjunto pré-configurado de regras CORS que especifique quais domínios de origem, métodos de solicitação de operação de saudação que se destina e cabeçalhos de solicitação podem ser especificados em uma solicitação real em relação a um recurso de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-120">hello storage service evaluates hello intended operation based on a pre-configured set of CORS rules that specify which origin domains, request methods, and request headers may be specified on an actual request against a storage resource.</span></span>

<span data-ttu-id="ce9c3-121">Se CORS estiver habilitado para o serviço de saudação e houver uma regra CORS que corresponda a solicitação de simulação Olá, serviço de Olá responderá com o código de status 200 (Okey) e inclui cabeçalhos de controle de acesso de saudação necessários na resposta de saudação.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-121">If CORS is enabled for hello service and there is a CORS rule that matches hello preflight request, hello service responds with status code 200 (OK), and includes hello required Access-Control headers in hello response.</span></span>

<span data-ttu-id="ce9c3-122">Se CORS não estiver habilitado para o serviço de saudação ou nenhuma regra CORS corresponder a solicitação de simulação hello, serviço Olá responderá com o código de status 403 (proibido).</span><span class="sxs-lookup"><span data-stu-id="ce9c3-122">If CORS is not enabled for hello service or no CORS rule matches hello preflight request, hello service will respond with status code 403 (Forbidden).</span></span>

<span data-ttu-id="ce9c3-123">Se Olá solicitação OPTIONS não contiver hello cabeçalhos de CORS obrigatórios (Olá origem e os cabeçalhos Access-Control-Request-Method), o serviço de saudação responderá com o código de status 400 (solicitação incorreta).</span><span class="sxs-lookup"><span data-stu-id="ce9c3-123">If hello OPTIONS request doesn't contain hello required CORS headers (hello Origin and Access-Control-Request-Method headers), hello service will respond with status code 400 (Bad request).</span></span>

<span data-ttu-id="ce9c3-124">Observe que uma solicitação de simulação é avaliada no serviço de saudação (Blob, fila e tabela) e não em relação ao Olá recurso solicitado.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-124">Note that a preflight request is evaluated against hello service (Blob, Queue, and Table) and not against hello requested resource.</span></span> <span data-ttu-id="ce9c3-125">proprietário da conta Olá deve ter habilitado CORS como parte das propriedades do serviço de conta Olá em ordem para Olá toosucceed de solicitação.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-125">hello account owner must have enabled CORS as part of hello account service properties in order for hello request toosucceed.</span></span>

### <a name="actual-request"></a><span data-ttu-id="ce9c3-126">Solicitação real</span><span class="sxs-lookup"><span data-stu-id="ce9c3-126">Actual request</span></span>
<span data-ttu-id="ce9c3-127">Depois de solicitação de simulação de saudação é aceita e Olá resposta é retornada, navegador Olá enviará a solicitação real Olá no recurso de armazenamento de saudação.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-127">Once hello preflight request is accepted and hello response is returned, hello browser will dispatch hello actual request against hello storage resource.</span></span> <span data-ttu-id="ce9c3-128">navegador Olá negará a solicitação real Olá imediatamente se hello solicitação de simulação será rejeitada.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-128">hello browser will deny hello actual request immediately if hello preflight request is rejected.</span></span>

<span data-ttu-id="ce9c3-129">solicitação real Olá é tratada como normal solicitação no serviço de armazenamento de saudação.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-129">hello actual request is treated as normal request against hello storage service.</span></span> <span data-ttu-id="ce9c3-130">presença de saudação do cabeçalho de origem Olá indica que Olá solicitação é uma solicitação CORS e serviço de saudação verificará Olá CORS regras de correspondência.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-130">hello presence of hello Origin header indicates that hello request is a CORS request and hello service will check hello matching CORS rules.</span></span> <span data-ttu-id="ce9c3-131">Se uma correspondência for encontrada, cabeçalhos de controle de acesso de saudação são adicionados toohello resposta e enviados toohello back cliente.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-131">If a match is found, hello Access-Control headers are added toohello response and sent back toohello client.</span></span> <span data-ttu-id="ce9c3-132">Se uma correspondência não for encontrada, os cabeçalhos de controle de acesso de CORS Olá não são retornados.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-132">If a match is not found, hello CORS Access-Control headers are not returned.</span></span>

## <a name="enabling-cors-for-hello-azure-storage-services"></a><span data-ttu-id="ce9c3-133">Habilitando CORS para serviços de armazenamento do Azure Olá</span><span class="sxs-lookup"><span data-stu-id="ce9c3-133">Enabling CORS for hello Azure Storage services</span></span>
<span data-ttu-id="ce9c3-134">Regras de CORS são definidas no nível de serviço hello, portanto, você precisa tooenable ou desabilitar CORS para cada serviço (Blob, fila e tabela) separadamente.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-134">CORS rules are set at hello service level, so you need tooenable or disable CORS for each service (Blob, Queue and Table) separately.</span></span> <span data-ttu-id="ce9c3-135">Por padrão, o CORS está desabilitado para cada serviço.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-135">By default, CORS is disabled for each service.</span></span> <span data-ttu-id="ce9c3-136">tooenable CORS, você precisa de propriedades de serviço adequadas Olá tooset usando a versão 2013-08-15 ou posterior e adicionar regras de CORS toohello propriedades de serviço.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-136">tooenable CORS, you need tooset hello appropriate service properties using version 2013-08-15 or later, and add CORS rules toohello service properties.</span></span> <span data-ttu-id="ce9c3-137">Para obter detalhes sobre como tooenable ou desabilitar CORS para um serviço e como tooset CORS regras, por favor consulte muito[definir propriedades do serviço Blob](https://msdn.microsoft.com/library/hh452235.aspx), [definir propriedades de serviço de fila](https://msdn.microsoft.com/library/hh452232.aspx), e [definir tabela Propriedades do serviço](https://msdn.microsoft.com/library/hh452240.aspx).</span><span class="sxs-lookup"><span data-stu-id="ce9c3-137">For details about how tooenable or disable CORS for a service and how tooset CORS rules, please refer too[Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [Set Queue Service Properties](https://msdn.microsoft.com/library/hh452232.aspx), and [Set Table Service Properties](https://msdn.microsoft.com/library/hh452240.aspx).</span></span>

<span data-ttu-id="ce9c3-138">Aqui está um exemplo de uma única regra CORS, especificada por meio de uma operação de definir propriedades do serviço:</span><span class="sxs-lookup"><span data-stu-id="ce9c3-138">Here is a sample of a single CORS rule, specified via a Set Service Properties operation:</span></span>

```xml
<Cors>    
    <CorsRule>
        <AllowedOrigins>http://www.contoso.com, http://www.fabrikam.com</AllowedOrigins>
        <AllowedMethods>PUT,GET</AllowedMethods>
        <AllowedHeaders>x-ms-meta-data*,x-ms-meta-target*,x-ms-meta-abc</AllowedHeaders>
        <ExposedHeaders>x-ms-meta-*</ExposedHeaders>
        <MaxAgeInSeconds>200</MaxAgeInSeconds>
    </CorsRule>
<Cors>
```

<span data-ttu-id="ce9c3-139">Cada elemento incluído na regra CORS Olá é descrito abaixo:</span><span class="sxs-lookup"><span data-stu-id="ce9c3-139">Each element included in hello CORS rule is described below:</span></span>

* <span data-ttu-id="ce9c3-140">**AllowedOrigins**: domínios de origem Olá permitidos toomake uma solicitação em relação ao armazenamento de saudação do serviço por meio de CORS.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-140">**AllowedOrigins**: hello origin domains that are permitted toomake a request against hello storage service via CORS.</span></span> <span data-ttu-id="ce9c3-141">Olá origem domínio é saudação do qual Olá se origina a solicitação.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-141">hello origin domain is hello domain from which hello request originates.</span></span> <span data-ttu-id="ce9c3-142">Observe que a origem Olá deve ser uma correspondência exata de maiusculas e minúsculas com idade de saudação do usuário envia toohello serviço de origem de saudação.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-142">Note that hello origin must be an exact case-sensitive match with hello origin that hello user age sends toohello service.</span></span> <span data-ttu-id="ce9c3-143">Você também pode usar o caractere curinga de saudação ' *' tooallow todas as solicitações de toomake de domínios de origem por meio de CORS.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-143">You can also use hello wildcard character '*' tooallow all origin domains toomake requests via CORS.</span></span> <span data-ttu-id="ce9c3-144">O exemplo hello acima, Olá domínios [http://www.contoso.com](http://www.contoso.com) e [http://www.fabrikam.com](http://www.fabrikam.com) podem fazer solicitações para o serviço de saudação usando CORS.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-144">In hello example above, hello domains [http://www.contoso.com](http://www.contoso.com) and [http://www.fabrikam.com](http://www.fabrikam.com) can make requests against hello service using CORS.</span></span>
* <span data-ttu-id="ce9c3-145">**AllowedMethods**: métodos de saudação (verbos de solicitação HTTP) desse domínio de origem Olá pode usar para uma solicitação de CORS.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-145">**AllowedMethods**: hello methods (HTTP request verbs) that hello origin domain may use for a CORS request.</span></span> <span data-ttu-id="ce9c3-146">No exemplo hello acima, somente as solicitações PUT e GET são permitidas.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-146">In hello example above, only PUT and GET requests are permitted.</span></span>
* <span data-ttu-id="ce9c3-147">**AllowedHeaders**: cabeçalhos de solicitação Olá desse domínio de origem Olá pode especificar na solicitação CORS hello.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-147">**AllowedHeaders**: hello request headers that hello origin domain may specify on hello CORS request.</span></span> <span data-ttu-id="ce9c3-148">No exemplo hello acima, todos os cabeçalhos de metadados, começando com o x-ms-meta-data, x-ms-meta-alvo e x-ms-meta-abc são permitidos.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-148">In hello example above, all metadata headers starting with x-ms-meta-data, x-ms-meta-target, and x-ms-meta-abc are permitted.</span></span> <span data-ttu-id="ce9c3-149">Observe o caractere curinga Olá ' *' indica que todos os cabeçalhos que começam com hello especificado é permitido um prefixo.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-149">Note that hello wildcard character '*' indicates that any header beginning with hello specified prefix is allowed.</span></span>
* <span data-ttu-id="ce9c3-150">**ExposedHeaders**: Olá cabeçalhos de resposta que podem ser enviados na solicitação CORS Olá resposta toohello e expostos pelo emissor da solicitação Olá navegador toohello.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-150">**ExposedHeaders**: hello response headers that may be sent in hello response toohello CORS request and exposed by hello browser toohello request issuer.</span></span> <span data-ttu-id="ce9c3-151">No exemplo hello acima, o navegador de saudação é instruções tooexpose partir qualquer cabeçalho x-ms-meta.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-151">In hello example above, hello browser is instructed tooexpose any header beginning with x-ms-meta.</span></span>
* <span data-ttu-id="ce9c3-152">**MaxAgeInSeconds**: Olá quantidade máxima de tempo que um navegador deve armazenar em cache de solicitação do hello simulação OPTIONS.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-152">**MaxAgeInSeconds**: hello maximum amount time that a browser should cache hello preflight OPTIONS request.</span></span>

<span data-ttu-id="ce9c3-153">Olá serviços de armazenamento do Azure dar suporte a especificação de cabeçalhos prefixados para ambos os Olá **AllowedHeaders** e **ExposedHeaders** elementos.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-153">hello Azure storage services support specifying prefixed headers for both hello **AllowedHeaders** and **ExposedHeaders** elements.</span></span> <span data-ttu-id="ce9c3-154">tooallow uma categoria de cabeçalhos, você pode especificar uma categoria de toothat prefixo comum.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-154">tooallow a category of headers, you can specify a common prefix toothat category.</span></span> <span data-ttu-id="ce9c3-155">Por exemplo, especificar *x-ms-meta** como um cabeçalho prefixado estabelece uma regra que corresponderá a todos os cabeçalhos que começam com x-ms-meta.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-155">For example, specifying *x-ms-meta** as a prefixed header establishes a rule that will match all headers that begin with x-ms-meta.</span></span>

<span data-ttu-id="ce9c3-156">Olá seguintes limitações se aplicam a regras tooCORS:</span><span class="sxs-lookup"><span data-stu-id="ce9c3-156">hello following limitations apply tooCORS rules:</span></span>

* <span data-ttu-id="ce9c3-157">Você pode especificar o toofive regras CORS por serviço de armazenamento (Blob, tabela e fila).</span><span class="sxs-lookup"><span data-stu-id="ce9c3-157">You can specify up toofive CORS rules per storage service (Blob, Table, and Queue).</span></span>
* <span data-ttu-id="ce9c3-158">tamanho máximo de saudação de todas as regras as configurações CORS na solicitação hello, excluindo as marcas XML, não deve exceder 2 KB.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-158">hello maximum size of all CORS rules settings on hello request, excluding XML tags, should not exceed 2 KB.</span></span>
* <span data-ttu-id="ce9c3-159">comprimento de saudação de um cabeçalho permitido, cabeçalho exposto ou origem permitida não deve exceder 256 caracteres.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-159">hello length of an allowed header, exposed header, or allowed origin should not exceed 256 characters.</span></span>
* <span data-ttu-id="ce9c3-160">Cabeçalhos expostos e cabeçalhos permitidos podem ser:</span><span class="sxs-lookup"><span data-stu-id="ce9c3-160">Allowed headers and exposed headers may be either:</span></span>
  * <span data-ttu-id="ce9c3-161">Cabeçalhos literais, onde nome exato do cabeçalho de saudação é fornecido, como **x-ms-meta-processed**.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-161">Literal headers, where hello exact header name is provided, such as **x-ms-meta-processed**.</span></span> <span data-ttu-id="ce9c3-162">Um máximo de 64 cabeçalhos literais pode ser especificado na solicitação de saudação.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-162">A maximum of 64 literal headers may be specified on hello request.</span></span>
  * <span data-ttu-id="ce9c3-163">Cabeçalhos prefixados, onde um prefixo Olá cabeçalho é fornecido, como **x-ms-meta-data***.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-163">Prefixed headers, where a prefix of hello header is provided, such as **x-ms-meta-data***.</span></span> <span data-ttu-id="ce9c3-164">Especificar um prefixo dessa maneira permite ou expõe qualquer cabeçalho que comece com hello fornecido prefixo.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-164">Specifying a prefix in this manner allows or exposes any header that begins with hello given prefix.</span></span> <span data-ttu-id="ce9c3-165">Um máximo de dois cabeçalhos prefixados pode ser especificado na solicitação de saudação.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-165">A maximum of two prefixed headers may be specified on hello request.</span></span>
* <span data-ttu-id="ce9c3-166">Olá métodos (ou verbos HTTP) especificados no hello **AllowedMethods** elemento deve estar de acordo com os métodos de toohello suportados pelas APIs do serviço de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-166">hello methods (or HTTP verbs) specified in hello **AllowedMethods** element must conform toohello methods supported by Azure storage service APIs.</span></span> <span data-ttu-id="ce9c3-167">Métodos com suporte são DELETE, GET, HEAD, MERGE, POST, OPTIONS e PUT.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-167">Supported methods are DELETE, GET, HEAD, MERGE, POST, OPTIONS and PUT.</span></span>

## <a name="understanding-cors-rule-evaluation-logic"></a><span data-ttu-id="ce9c3-168">Noções básicas sobre a lógica de avaliação da regra de CORS</span><span class="sxs-lookup"><span data-stu-id="ce9c3-168">Understanding CORS rule evaluation logic</span></span>
<span data-ttu-id="ce9c3-169">Quando um serviço de armazenamento recebe uma solicitação de simulação ou real, ele avalia que a solicitação com base nas regras CORS Olá estabelecida para o serviço Olá por meio da operação de definir propriedades de serviço apropriada hello.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-169">When a storage service receives a preflight or actual request, it evaluates that request based on hello CORS rules you have established for hello service via hello appropriate Set Service Properties operation.</span></span> <span data-ttu-id="ce9c3-170">Regras de CORS são avaliadas na ordem de saudação na qual eles foram definidos no corpo da solicitação de saudação da saudação operação definir propriedades de serviço.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-170">CORS rules are evaluated in hello order in which they were set in hello request body of hello Set Service Properties operation.</span></span>

<span data-ttu-id="ce9c3-171">As regras de CORS são avaliadas da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="ce9c3-171">CORS rules are evaluated as follows:</span></span>

1. <span data-ttu-id="ce9c3-172">Primeiro, o domínio de origem de saudação da solicitação de saudação é verificado em relação Olá domínios listados para Olá **AllowedOrigins** elemento.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-172">First, hello origin domain of hello request is checked against hello domains listed for hello **AllowedOrigins** element.</span></span> <span data-ttu-id="ce9c3-173">Se o domínio de origem hello está incluído na lista de hello, ou todos os domínios são permitidos com caractere curinga de saudação ' *', prossegue de avaliação de regras.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-173">If hello origin domain is included in hello list, or all domains are allowed with hello wildcard character '*', then rules evaluation proceeds.</span></span> <span data-ttu-id="ce9c3-174">Se o domínio de origem de saudação não for incluído, solicitação de saudação falhará.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-174">If hello origin domain is not included, then hello request fails.</span></span>
2. <span data-ttu-id="ce9c3-175">Em seguida, o método hello (ou verbo HTTP) da solicitação de saudação é verificado no hello métodos listados no hello **AllowedMethods** elemento.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-175">Next, hello method (or HTTP verb) of hello request is checked against hello methods listed in hello **AllowedMethods** element.</span></span> <span data-ttu-id="ce9c3-176">Se o método hello está incluído na lista de Olá, as regras avaliação serão continuadas; Se não, então Olá solicitação falhará.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-176">If hello method is included in hello list, then rules evaluation proceeds; if not, then hello request fails.</span></span>
3. <span data-ttu-id="ce9c3-177">Se a solicitação Olá corresponde a uma regra em seu domínio de origem e seu método, essa regra é selecionado tooprocess Olá solicitação e nenhuma regra adicional será avaliada.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-177">If hello request matches a rule in its origin domain and its method, that rule is selected tooprocess hello request and no further rules are evaluated.</span></span> <span data-ttu-id="ce9c3-178">Antes de solicitação de saudação pode ser bem-sucedida, no entanto, todos os cabeçalhos especificados na solicitação de saudação são comparados Olá cabeçalhos listados no hello **AllowedHeaders** elemento.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-178">Before hello request can succeed, however, any headers specified on hello request are checked against hello headers listed in hello **AllowedHeaders** element.</span></span> <span data-ttu-id="ce9c3-179">Se cabeçalhos de saudação enviados não corresponderem Olá cabeçalhos permitido, falha na solicitação de saudação.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-179">If hello headers sent do not match hello allowed headers, hello request fails.</span></span>

<span data-ttu-id="ce9c3-180">Regras de saudação são processadas na ordem de saudação estiverem presentes no corpo da solicitação Olá, práticas recomendadas recomendam que você especifique as regras mais restritivas Olá com respeitam tooorigins primeiro na lista de hello, para que elas sejam avaliadas primeiro.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-180">Since hello rules are processed in hello order they are present in hello request body, best practices recommend that you specify hello most restrictive rules with respect tooorigins first in hello list, so that these are evaluated first.</span></span> <span data-ttu-id="ce9c3-181">Especifica regras que são menos restritivas – por exemplo, um tooallow regra todas as origens – no final de saudação da lista de saudação.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-181">Specify rules that are less restrictive – for example, a rule tooallow all origins – at hello end of hello list.</span></span>

### <a name="example--cors-rules-evaluation"></a><span data-ttu-id="ce9c3-182">Exemplo – avaliação das regras de CORS</span><span class="sxs-lookup"><span data-stu-id="ce9c3-182">Example – CORS rules evaluation</span></span>
<span data-ttu-id="ce9c3-183">Olá, exemplo a seguir mostra um corpo de solicitação parcial para uma operação tooset as regras de CORS para os serviços de armazenamento de saudação.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-183">hello following example shows a partial request body for an operation tooset CORS rules for hello storage services.</span></span> <span data-ttu-id="ce9c3-184">Consulte [definir propriedades do serviço Blob](https://msdn.microsoft.com/library/hh452235.aspx), [definir propriedades de serviço de fila](https://msdn.microsoft.com/library/hh452232.aspx), e [definir propriedades do serviço de tabela](https://msdn.microsoft.com/library/hh452240.aspx) para obter detalhes sobre como construir a solicitação de saudação.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-184">See [Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [Set Queue Service Properties](https://msdn.microsoft.com/library/hh452232.aspx), and [Set Table Service Properties](https://msdn.microsoft.com/library/hh452240.aspx) for details on constructing hello request.</span></span>

```xml
<Cors>
    <CorsRule>
        <AllowedOrigins>http://www.contoso.com</AllowedOrigins>
        <AllowedMethods>PUT,HEAD</AllowedMethods>
        <MaxAgeInSeconds>5</MaxAgeInSeconds>
        <ExposedHeaders>x-ms-*</ExposedHeaders>
        <AllowedHeaders>x-ms-blob-content-type, x-ms-blob-content-disposition</AllowedHeaders>
    </CorsRule>
    <CorsRule>
        <AllowedOrigins>*</AllowedOrigins>
        <AllowedMethods>PUT,GET</AllowedMethods>
        <MaxAgeInSeconds>5</MaxAgeInSeconds>
        <ExposedHeaders>x-ms-*</ExposedHeaders>
        <AllowedHeaders>x-ms-blob-content-type, x-ms-blob-content-disposition</AllowedHeaders>
    </CorsRule>
    <CorsRule>
        <AllowedOrigins>http://www.contoso.com</AllowedOrigins>
        <AllowedMethods>GET</AllowedMethods>
        <MaxAgeInSeconds>5</MaxAgeInSeconds>
        <ExposedHeaders>x-ms-*</ExposedHeaders>
        <AllowedHeaders>x-ms-client-request-id</AllowedHeaders>
    </CorsRule>
</Cors>
```

<span data-ttu-id="ce9c3-185">Em seguida, considere Olá solicitações CORS a seguir:</span><span class="sxs-lookup"><span data-stu-id="ce9c3-185">Next, consider hello following CORS requests:</span></span>

| <span data-ttu-id="ce9c3-186">Solicitação</span><span class="sxs-lookup"><span data-stu-id="ce9c3-186">Request</span></span> |  |  | <span data-ttu-id="ce9c3-187">Resposta</span><span class="sxs-lookup"><span data-stu-id="ce9c3-187">Response</span></span> |  |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="ce9c3-188">**Método**</span><span class="sxs-lookup"><span data-stu-id="ce9c3-188">**Method**</span></span> |<span data-ttu-id="ce9c3-189">**Origem**</span><span class="sxs-lookup"><span data-stu-id="ce9c3-189">**Origin**</span></span> |<span data-ttu-id="ce9c3-190">**Cabeçalhos da solicitação**</span><span class="sxs-lookup"><span data-stu-id="ce9c3-190">**Request Headers**</span></span> |<span data-ttu-id="ce9c3-191">**Correspondência de regra**</span><span class="sxs-lookup"><span data-stu-id="ce9c3-191">**Rule Match**</span></span> |<span data-ttu-id="ce9c3-192">**Resultado**</span><span class="sxs-lookup"><span data-stu-id="ce9c3-192">**Result**</span></span> |
| <span data-ttu-id="ce9c3-193">**PUT**</span><span class="sxs-lookup"><span data-stu-id="ce9c3-193">**PUT**</span></span> |<span data-ttu-id="ce9c3-194">http://www.contoso.com</span><span class="sxs-lookup"><span data-stu-id="ce9c3-194">http://www.contoso.com</span></span> |<span data-ttu-id="ce9c3-195">x-ms-blob-content-type</span><span class="sxs-lookup"><span data-stu-id="ce9c3-195">x-ms-blob-content-type</span></span> |<span data-ttu-id="ce9c3-196">Primeira regra</span><span class="sxs-lookup"><span data-stu-id="ce9c3-196">First rule</span></span> |<span data-ttu-id="ce9c3-197">Sucesso</span><span class="sxs-lookup"><span data-stu-id="ce9c3-197">Success</span></span> |
| <span data-ttu-id="ce9c3-198">**GET**</span><span class="sxs-lookup"><span data-stu-id="ce9c3-198">**GET**</span></span> |<span data-ttu-id="ce9c3-199">http://www.contoso.com</span><span class="sxs-lookup"><span data-stu-id="ce9c3-199">http://www.contoso.com</span></span> |<span data-ttu-id="ce9c3-200">x-ms-blob-content-type</span><span class="sxs-lookup"><span data-stu-id="ce9c3-200">x-ms-blob-content-type</span></span> |<span data-ttu-id="ce9c3-201">Segunda regra</span><span class="sxs-lookup"><span data-stu-id="ce9c3-201">Second rule</span></span> |<span data-ttu-id="ce9c3-202">Sucesso</span><span class="sxs-lookup"><span data-stu-id="ce9c3-202">Success</span></span> |
| <span data-ttu-id="ce9c3-203">**GET**</span><span class="sxs-lookup"><span data-stu-id="ce9c3-203">**GET**</span></span> |<span data-ttu-id="ce9c3-204">http://www.contoso.com</span><span class="sxs-lookup"><span data-stu-id="ce9c3-204">http://www.contoso.com</span></span> |<span data-ttu-id="ce9c3-205">x-ms-client-request-id</span><span class="sxs-lookup"><span data-stu-id="ce9c3-205">x-ms-client-request-id</span></span> |<span data-ttu-id="ce9c3-206">Segunda regra</span><span class="sxs-lookup"><span data-stu-id="ce9c3-206">Second rule</span></span> |<span data-ttu-id="ce9c3-207">Failure</span><span class="sxs-lookup"><span data-stu-id="ce9c3-207">Failure</span></span> |

<span data-ttu-id="ce9c3-208">Olá primeira solicitação corresponde a primeira regra de hello – domínio de origem Olá corresponde Olá permitido origens, método hello corresponde Olá permitido métodos e cabeçalho Olá corresponde Olá cabeçalhos – permitido e portanto, tem êxito.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-208">hello first request matches hello first rule – hello origin domain matches hello allowed origins, hello method matches hello allowed methods, and hello header matches hello allowed headers – and so succeeds.</span></span>

<span data-ttu-id="ce9c3-209">segunda solicitação de saudação não corresponde a primeira regra de saudação porque método hello não coincide com hello permitido métodos.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-209">hello second request does not match hello first rule because hello method does not match hello allowed methods.</span></span> <span data-ttu-id="ce9c3-210">No entanto, ele, corresponder a segunda regra de hello, para que ele tenha êxito.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-210">It does, however, match hello second rule, so it succeeds.</span></span>

<span data-ttu-id="ce9c3-211">Olá terceira solicitação corresponde a segunda regra Olá em seu domínio de origem e o método, portanto nenhuma regra adicional será avaliada.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-211">hello third request matches hello second rule in its origin domain and method, so no further rules are evaluated.</span></span> <span data-ttu-id="ce9c3-212">No entanto, Olá *cabeçalho x-ms-client-request-id* não é permitido pela segunda regra de hello, para a solicitação de saudação falhar, apesar de saudação que semântica de saudação da regra de terceiro Olá teria permitido toosucceed.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-212">However, hello *x-ms-client-request-id header* is not allowed by hello second rule, so hello request fails, despite hello fact that hello semantics of hello third rule would have allowed it toosucceed.</span></span>

> [!NOTE]
> <span data-ttu-id="ce9c3-213">Embora este exemplo mostra uma regra menos restritiva antes de uma mais restritiva, em geral Olá melhor prática é regras mais restritivas do toolist Olá primeiro.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-213">Although this example shows a less restrictive rule before a more restrictive one, in general hello best practice is toolist hello most restrictive rules first.</span></span>
> 
> 

## <a name="understanding-how-hello-vary-header-is-set"></a><span data-ttu-id="ce9c3-214">Noções básicas sobre como o cabeçalho Vary de saudação é definido</span><span class="sxs-lookup"><span data-stu-id="ce9c3-214">Understanding how hello Vary header is set</span></span>
<span data-ttu-id="ce9c3-215">Olá *Vary* cabeçalho é um cabeçalho HTTP/1.1 padrão consiste em um conjunto de campos de cabeçalho de solicitação que recomendam o agente de navegador ou usuário Olá sobre critérios de saudação que foram selecionadas por Olá server tooprocess Olá solicitação.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-215">hello *Vary* header is a standard HTTP/1.1 header consisting of a set of request header fields that advise hello browser or user agent about hello criteria that were selected by hello server tooprocess hello request.</span></span> <span data-ttu-id="ce9c3-216">Olá *Vary* cabeçalho é usado principalmente para armazenar em cache por proxies, navegadores e CDNs, que o usam toodetermine como Olá resposta deve ser armazenada em cache.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-216">hello *Vary* header is mainly used for caching by proxies, browsers, and CDNs, which use it toodetermine how hello response should be cached.</span></span> <span data-ttu-id="ce9c3-217">Para obter detalhes, consulte a especificação Olá Olá [cabeçalho Vary](http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html).</span><span class="sxs-lookup"><span data-stu-id="ce9c3-217">For details, see hello specification for hello [Vary header](http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html).</span></span>

<span data-ttu-id="ce9c3-218">Quando o navegador hello ou outro agente de usuário armazena em cache a resposta saudação de uma solicitação CORS, domínio de origem de saudação é armazenado em cache como Olá permitido de origem.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-218">When hello browser or another user agent caches hello response from a CORS request, hello origin domain is cached as hello allowed origin.</span></span> <span data-ttu-id="ce9c3-219">Quando um segundo problemas de domínio Olá mesma solicitação para um recurso de armazenamento enquanto Olá cache está ativo, o agente do usuário Olá recupera o domínio de origem armazenada em cache hello.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-219">When a second domain issues hello same request for a storage resource while hello cache is active, hello user agent retrieves hello cached origin domain.</span></span> <span data-ttu-id="ce9c3-220">segundo domínio de saudação não coincide domínio armazenado em cache do hello, portanto solicitação Olá falhará quando ele teria êxito caso contrário.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-220">hello second domain does not match hello cached domain, so hello request fails when it would otherwise succeed.</span></span> <span data-ttu-id="ce9c3-221">Em alguns casos, o armazenamento do Azure define cabeçalho Vary de saudação muito**origem** tooinstruct Olá usuário toosend Olá subsequentes CORS solicitação toohello serviço agent quando Olá solicitando domínio difere da saudação armazenado em cache de origem.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-221">In certain cases, Azure Storage sets hello Vary header too**Origin** tooinstruct hello user agent toosend hello subsequent CORS request toohello service when hello requesting domain differs from hello cached origin.</span></span>

<span data-ttu-id="ce9c3-222">Armazenamento do Azure define Olá *Vary* cabeçalho muito**origem** para solicitações atuais de GET/HEAD nos Olá casos a seguir:</span><span class="sxs-lookup"><span data-stu-id="ce9c3-222">Azure Storage sets hello *Vary* header too**Origin** for actual GET/HEAD requests in hello following cases:</span></span>

* <span data-ttu-id="ce9c3-223">Quando a solicitação de Olá Olá coincide com origem permitida origem definida por uma regra CORS.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-223">When hello request origin exactly matches hello allowed origin defined by a CORS rule.</span></span> <span data-ttu-id="ce9c3-224">toobe uma correspondência exata, regra CORS Olá não pode incluir um caractere curinga ' * ' caracteres.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-224">toobe an exact match, hello CORS rule may not include a wildcard ' * ' character.</span></span>
* <span data-ttu-id="ce9c3-225">Não há nenhuma origem da solicitação correspondente Olá regra, mas CORS estiver habilitado para o serviço de armazenamento de saudação.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-225">There is no rule matching hello request origin, but CORS is enabled for hello storage service.</span></span>

<span data-ttu-id="ce9c3-226">No caso de Olá onde uma solicitação GET/HEAD corresponde a uma regra CORS que permite que todas as origens, resposta Olá indica que todas as origens são permitidas e cache de agente de usuário Olá permitirá solicitações subsequentes de qualquer domínio de origem enquanto Olá cache está ativo.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-226">In hello case where a GET/HEAD request matches a CORS rule that allows all origins, hello response indicates that all origins are allowed, and hello user agent cache will allow subsequent requests from any origin domain while hello cache is active.</span></span>

<span data-ttu-id="ce9c3-227">Observe que para solicitações que usam métodos diferentes de GET/HEAD, serviços de armazenamento hello serão não definir cabeçalho Vary de hello, como métodos de toothese respostas não são armazenadas em cache por agentes de usuário.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-227">Note that for requests using methods other than GET/HEAD, hello storage services will not set hello Vary header, since responses toothese methods are not cached by user agents.</span></span>

<span data-ttu-id="ce9c3-228">Olá, tabela a seguir indica como o Azure storage responderá a solicitações de tooGET/HEAD com base em Olá anteriormente mencionados casos:</span><span class="sxs-lookup"><span data-stu-id="ce9c3-228">hello following table indicates how Azure storage will respond tooGET/HEAD requests based on hello previously mentioned cases:</span></span>

| <span data-ttu-id="ce9c3-229">Solicitação</span><span class="sxs-lookup"><span data-stu-id="ce9c3-229">Request</span></span> | <span data-ttu-id="ce9c3-230">Configuração da conta e o resultado da avaliação da regra</span><span class="sxs-lookup"><span data-stu-id="ce9c3-230">Account setting and result of rule evaluation</span></span> |  |  | <span data-ttu-id="ce9c3-231">Resposta</span><span class="sxs-lookup"><span data-stu-id="ce9c3-231">Response</span></span> |  |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="ce9c3-232">**Cabeçalho da origem presente na solicitação**</span><span class="sxs-lookup"><span data-stu-id="ce9c3-232">**Origin header present on request**</span></span> |<span data-ttu-id="ce9c3-233">**Regra(s) de CORS especificada(s) para este serviço**</span><span class="sxs-lookup"><span data-stu-id="ce9c3-233">**CORS rule(s) specified for this service**</span></span> |<span data-ttu-id="ce9c3-234">**Existe uma regra correspondente que permite todas as origens(*)**</span><span class="sxs-lookup"><span data-stu-id="ce9c3-234">**Matching rule exists that allows all origins(*)**</span></span> |<span data-ttu-id="ce9c3-235">**Regra de correspondência existe para correspondência exata da origem**</span><span class="sxs-lookup"><span data-stu-id="ce9c3-235">**Matching rule exists for exact origin match**</span></span> |<span data-ttu-id="ce9c3-236">**A resposta inclui tooOrigin de conjunto de cabeçalho Vary**</span><span class="sxs-lookup"><span data-stu-id="ce9c3-236">**Response includes Vary header set tooOrigin**</span></span> |<span data-ttu-id="ce9c3-237">**Resposta inclui Access-Control-Allowed-Origin: "*"**</span><span class="sxs-lookup"><span data-stu-id="ce9c3-237">**Response includes Access-Control-Allowed-Origin: "*"**</span></span> |<span data-ttu-id="ce9c3-238">**Resposta inclui Access-Control-Exposed-Headers**</span><span class="sxs-lookup"><span data-stu-id="ce9c3-238">**Response includes Access-Control-Exposed-Headers**</span></span> |
| <span data-ttu-id="ce9c3-239">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-239">No</span></span> |<span data-ttu-id="ce9c3-240">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-240">No</span></span> |<span data-ttu-id="ce9c3-241">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-241">No</span></span> |<span data-ttu-id="ce9c3-242">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-242">No</span></span> |<span data-ttu-id="ce9c3-243">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-243">No</span></span> |<span data-ttu-id="ce9c3-244">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-244">No</span></span> |<span data-ttu-id="ce9c3-245">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-245">No</span></span> |
| <span data-ttu-id="ce9c3-246">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-246">No</span></span> |<span data-ttu-id="ce9c3-247">Sim</span><span class="sxs-lookup"><span data-stu-id="ce9c3-247">Yes</span></span> |<span data-ttu-id="ce9c3-248">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-248">No</span></span> |<span data-ttu-id="ce9c3-249">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-249">No</span></span> |<span data-ttu-id="ce9c3-250">Sim</span><span class="sxs-lookup"><span data-stu-id="ce9c3-250">Yes</span></span> |<span data-ttu-id="ce9c3-251">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-251">No</span></span> |<span data-ttu-id="ce9c3-252">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-252">No</span></span> |
| <span data-ttu-id="ce9c3-253">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-253">No</span></span> |<span data-ttu-id="ce9c3-254">Sim</span><span class="sxs-lookup"><span data-stu-id="ce9c3-254">Yes</span></span> |<span data-ttu-id="ce9c3-255">Sim</span><span class="sxs-lookup"><span data-stu-id="ce9c3-255">Yes</span></span> |<span data-ttu-id="ce9c3-256">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-256">No</span></span> |<span data-ttu-id="ce9c3-257">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-257">No</span></span> |<span data-ttu-id="ce9c3-258">Sim</span><span class="sxs-lookup"><span data-stu-id="ce9c3-258">Yes</span></span> |<span data-ttu-id="ce9c3-259">Sim</span><span class="sxs-lookup"><span data-stu-id="ce9c3-259">Yes</span></span> |
| <span data-ttu-id="ce9c3-260">Sim</span><span class="sxs-lookup"><span data-stu-id="ce9c3-260">Yes</span></span> |<span data-ttu-id="ce9c3-261">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-261">No</span></span> |<span data-ttu-id="ce9c3-262">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-262">No</span></span> |<span data-ttu-id="ce9c3-263">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-263">No</span></span> |<span data-ttu-id="ce9c3-264">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-264">No</span></span> |<span data-ttu-id="ce9c3-265">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-265">No</span></span> |<span data-ttu-id="ce9c3-266">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-266">No</span></span> |
| <span data-ttu-id="ce9c3-267">Sim</span><span class="sxs-lookup"><span data-stu-id="ce9c3-267">Yes</span></span> |<span data-ttu-id="ce9c3-268">Sim</span><span class="sxs-lookup"><span data-stu-id="ce9c3-268">Yes</span></span> |<span data-ttu-id="ce9c3-269">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-269">No</span></span> |<span data-ttu-id="ce9c3-270">Sim</span><span class="sxs-lookup"><span data-stu-id="ce9c3-270">Yes</span></span> |<span data-ttu-id="ce9c3-271">Sim</span><span class="sxs-lookup"><span data-stu-id="ce9c3-271">Yes</span></span> |<span data-ttu-id="ce9c3-272">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-272">No</span></span> |<span data-ttu-id="ce9c3-273">Sim</span><span class="sxs-lookup"><span data-stu-id="ce9c3-273">Yes</span></span> |
| <span data-ttu-id="ce9c3-274">Sim</span><span class="sxs-lookup"><span data-stu-id="ce9c3-274">Yes</span></span> |<span data-ttu-id="ce9c3-275">Sim</span><span class="sxs-lookup"><span data-stu-id="ce9c3-275">Yes</span></span> |<span data-ttu-id="ce9c3-276">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-276">No</span></span> |<span data-ttu-id="ce9c3-277">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-277">No</span></span> |<span data-ttu-id="ce9c3-278">Sim</span><span class="sxs-lookup"><span data-stu-id="ce9c3-278">Yes</span></span> |<span data-ttu-id="ce9c3-279">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-279">No</span></span> |<span data-ttu-id="ce9c3-280">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-280">No</span></span> |
| <span data-ttu-id="ce9c3-281">Sim</span><span class="sxs-lookup"><span data-stu-id="ce9c3-281">Yes</span></span> |<span data-ttu-id="ce9c3-282">Sim</span><span class="sxs-lookup"><span data-stu-id="ce9c3-282">Yes</span></span> |<span data-ttu-id="ce9c3-283">Sim</span><span class="sxs-lookup"><span data-stu-id="ce9c3-283">Yes</span></span> |<span data-ttu-id="ce9c3-284">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-284">No</span></span> |<span data-ttu-id="ce9c3-285">Não</span><span class="sxs-lookup"><span data-stu-id="ce9c3-285">No</span></span> |<span data-ttu-id="ce9c3-286">Sim</span><span class="sxs-lookup"><span data-stu-id="ce9c3-286">Yes</span></span> |<span data-ttu-id="ce9c3-287">Sim</span><span class="sxs-lookup"><span data-stu-id="ce9c3-287">Yes</span></span> |

## <a name="billing-for-cors-requests"></a><span data-ttu-id="ce9c3-288">Cobrança para solicitações CORS</span><span class="sxs-lookup"><span data-stu-id="ce9c3-288">Billing for CORS requests</span></span>
<span data-ttu-id="ce9c3-289">Solicitações de simulação com êxito são faturadas se você tiver habilitado CORS para qualquer um dos serviços de armazenamento Olá para sua conta (chamando [definir propriedades do serviço Blob](https://msdn.microsoft.com/library/hh452235.aspx), [definir propriedades de serviço de fila](https://msdn.microsoft.com/library/hh452232.aspx), ou [ Definir propriedades do serviço tabela](https://msdn.microsoft.com/library/hh452240.aspx)).</span><span class="sxs-lookup"><span data-stu-id="ce9c3-289">Successful preflight requests are billed if you have enabled CORS for any of hello storage services for your account (by calling [Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [Set Queue Service Properties](https://msdn.microsoft.com/library/hh452232.aspx), or [Set Table Service Properties](https://msdn.microsoft.com/library/hh452240.aspx)).</span></span> <span data-ttu-id="ce9c3-290">encargos de toominimize, considere definir Olá **MaxAgeInSeconds** elemento de CORS regras de valor grande tooa para que hello agente do usuário armazena em cache a solicitação de saudação.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-290">toominimize charges, consider setting hello **MaxAgeInSeconds** element in your CORS rules tooa large value so that hello user agent caches hello request.</span></span>

<span data-ttu-id="ce9c3-291">Solicitações de simulação malsucedidas não serão cobradas.</span><span class="sxs-lookup"><span data-stu-id="ce9c3-291">Unsuccessful preflight requests will not be billed.</span></span>

## <a name="next-steps"></a><span data-ttu-id="ce9c3-292">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="ce9c3-292">Next steps</span></span>
[<span data-ttu-id="ce9c3-293">Definir propriedades do serviço Blob</span><span class="sxs-lookup"><span data-stu-id="ce9c3-293">Set Blob Service Properties</span></span>](https://msdn.microsoft.com/library/hh452235.aspx)

[<span data-ttu-id="ce9c3-294">Definir propriedades do serviço Fila</span><span class="sxs-lookup"><span data-stu-id="ce9c3-294">Set Queue Service Properties</span></span>](https://msdn.microsoft.com/library/hh452232.aspx)

[<span data-ttu-id="ce9c3-295">Definir propriedades do serviço Tabela</span><span class="sxs-lookup"><span data-stu-id="ce9c3-295">Set Table Service Properties</span></span>](https://msdn.microsoft.com/library/hh452240.aspx)

[<span data-ttu-id="ce9c3-296">Especificação de compartilhamento de recursos entre origens W3C</span><span class="sxs-lookup"><span data-stu-id="ce9c3-296">W3C Cross-Origin Resource Sharing Specification</span></span>](http://www.w3.org/TR/cors/)

