---
title: "toodo aaaWhat no evento de saudação de uma interrupção de armazenamento do Azure | Microsoft Docs"
description: "Quais toodo no evento de saudação de uma interrupção de armazenamento do Azure"
services: storage
documentationcenter: .net
author: robinsh
manager: timlt
editor: tysonn
ms.assetid: 8f040b0f-8926-4831-ac07-79f646f31926
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 1/19/2017
ms.author: robinsh
ms.openlocfilehash: 93e1e831c35b96b8bf190fa2b56ab89350bbac13
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="what-toodo-if-an-azure-storage-outage-occurs"></a><span data-ttu-id="ef1f1-103">Quais toodo se ocorrer uma interrupção de armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="ef1f1-103">What toodo if an Azure Storage outage occurs</span></span>
<span data-ttu-id="ef1f1-104">Na Microsoft, trabalhamos toomake rígido se que nossos serviços estão sempre disponíveis.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-104">At Microsoft, we work hard toomake sure our services are always available.</span></span> <span data-ttu-id="ef1f1-105">Às vezes, forças além do nosso controle nos afetam de formas que causam interrupções de serviço não planejadas em uma ou mais regiões.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-105">Sometimes, forces beyond our control impact us in ways that cause unplanned service outages in one or more regions.</span></span> <span data-ttu-id="ef1f1-106">toohelp tratar essas ocorrências raras, fornecemos Olá seguindo as instruções de alto nível para serviços de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-106">toohelp you handle these rare occurrences, we provide hello following high-level guidance for Azure Storage services.</span></span>

## <a name="how-tooprepare"></a><span data-ttu-id="ef1f1-107">Como tooprepare</span><span class="sxs-lookup"><span data-stu-id="ef1f1-107">How tooprepare</span></span>
<span data-ttu-id="ef1f1-108">É essencial para cada cliente tooprepare seu próprio plano de recuperação de desastres.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-108">It is critical for every customer tooprepare their own disaster recovery plan.</span></span> <span data-ttu-id="ef1f1-109">Olá esforço toorecover uma queda de armazenamento normalmente envolve a equipe de operações e procedimentos automatizados na ordem tooreactivate seus aplicativos em um estado de funcionamento.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-109">hello effort toorecover from a storage outage typically involves both operations personnel and automated procedures in order tooreactivate your applications in a functioning state.</span></span> <span data-ttu-id="ef1f1-110">Consulte toohello documentação do Azure abaixo toobuild seu próprio plano de recuperação de desastres:</span><span class="sxs-lookup"><span data-stu-id="ef1f1-110">Please refer toohello Azure documentation below toobuild your own disaster recovery plan:</span></span>

* [<span data-ttu-id="ef1f1-111">Recuperação de desastre e alta disponibilidade para aplicativos do Azure</span><span class="sxs-lookup"><span data-stu-id="ef1f1-111">Disaster recovery and high availability for Azure applications</span></span>](/azure/architecture/resiliency/disaster-recovery-high-availability-azure-applications.md)
* [<span data-ttu-id="ef1f1-112">Orientações técnicas de resiliência do Azure</span><span class="sxs-lookup"><span data-stu-id="ef1f1-112">Azure resiliency technical guidance</span></span>](/azure/architecture/resiliency.md)
* [<span data-ttu-id="ef1f1-113">Serviço do Azure Site Recovery</span><span class="sxs-lookup"><span data-stu-id="ef1f1-113">Azure Site Recovery service</span></span>](https://azure.microsoft.com/services/site-recovery/)
* [<span data-ttu-id="ef1f1-114">Replicação de Armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="ef1f1-114">Azure Storage replication</span></span>](storage-redundancy.md)
* [<span data-ttu-id="ef1f1-115">Serviço de Backup do Azure</span><span class="sxs-lookup"><span data-stu-id="ef1f1-115">Azure Backup service</span></span>](https://azure.microsoft.com/services/backup/)

## <a name="how-toodetect"></a><span data-ttu-id="ef1f1-116">Como toodetect</span><span class="sxs-lookup"><span data-stu-id="ef1f1-116">How toodetect</span></span>
<span data-ttu-id="ef1f1-117">Olá recomendado Olá toodetermine de maneira status do serviço do Azure é toosubscribe toohello [painel de integridade do serviço Azure](https://azure.microsoft.com/status/).</span><span class="sxs-lookup"><span data-stu-id="ef1f1-117">hello recommended way toodetermine hello Azure service status is toosubscribe toohello [Azure Service Health Dashboard](https://azure.microsoft.com/status/).</span></span>

## <a name="what-toodo-if-a-storage-outage-occurs"></a><span data-ttu-id="ef1f1-118">Quais toodo se ocorrer uma interrupção de armazenamento</span><span class="sxs-lookup"><span data-stu-id="ef1f1-118">What toodo if a Storage outage occurs</span></span>
<span data-ttu-id="ef1f1-119">Se um ou mais serviços de armazenamento estão disponíveis no momento em uma ou mais regiões, há duas opções para você tooconsider.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-119">If one or more Storage services are temporarily unavailable at one or more regions, there are two options for you tooconsider.</span></span> <span data-ttu-id="ef1f1-120">Se desejar que os dados de tooyour acesso imediato, considere a opção 2.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-120">If you desire immediate access tooyour data, please consider Option 2.</span></span>

### <a name="option-1-wait-for-recovery"></a><span data-ttu-id="ef1f1-121">Opção 1: aguardar a recuperação</span><span class="sxs-lookup"><span data-stu-id="ef1f1-121">Option 1: Wait for recovery</span></span>
<span data-ttu-id="ef1f1-122">Nesse caso, nenhuma ação sua é necessária.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-122">In this case, no action on your part is required.</span></span> <span data-ttu-id="ef1f1-123">Estamos trabalhando cuidadosamente disponibilidade de serviço do Azure Olá toorestore.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-123">We are working diligently toorestore hello Azure service availability.</span></span> <span data-ttu-id="ef1f1-124">Você pode monitorar o status de serviço Olá Olá [painel de integridade do serviço Azure](https://azure.microsoft.com/status/).</span><span class="sxs-lookup"><span data-stu-id="ef1f1-124">You can monitor hello service status on hello [Azure Service Health Dashboard](https://azure.microsoft.com/status/).</span></span>

### <a name="option-2-copy-data-from-secondary"></a><span data-ttu-id="ef1f1-125">Opção 2: copiar os dados do secundário</span><span class="sxs-lookup"><span data-stu-id="ef1f1-125">Option 2: Copy data from secondary</span></span>
<span data-ttu-id="ef1f1-126">Se você escolheu [armazenamento com redundância geográfica com acesso de leitura (RA-GRS)](storage-redundancy.md#read-access-geo-redundant-storage) (recomendado) para suas contas de armazenamento, você terá acesso de leitura tooyour dados da região secundária hello.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-126">If you chose [Read-access geo-redundant storage (RA-GRS)](storage-redundancy.md#read-access-geo-redundant-storage) (recommended) for your storage accounts, you will have read access tooyour data from hello secondary region.</span></span> <span data-ttu-id="ef1f1-127">Você pode usar ferramentas como [AzCopy](storage-use-azcopy.md), [Azure PowerShell](storage-powershell-guide-full.md)e hello [biblioteca de movimentação de dados do Azure](https://azure.microsoft.com/blog/introducing-azure-storage-data-movement-library-preview-2/) toocopy dados da região de saudação secundária em outra conta de armazenamento em uma região unimpacted e aponte seu armazenamento de toothat aplicativos de conta para leitura e gravação de disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-127">You can use tools such as [AzCopy](storage-use-azcopy.md), [Azure PowerShell](storage-powershell-guide-full.md), and hello [Azure Data Movement library](https://azure.microsoft.com/blog/introducing-azure-storage-data-movement-library-preview-2/) toocopy data from hello secondary region into another storage account in an unimpacted region, and then point your applications toothat storage account for both read and write availability.</span></span>

## <a name="what-tooexpect-if-a-storage-failover-occurs"></a><span data-ttu-id="ef1f1-128">Quais tooexpect se ocorrer um failover de armazenamento</span><span class="sxs-lookup"><span data-stu-id="ef1f1-128">What tooexpect if a Storage failover occurs</span></span>
<span data-ttu-id="ef1f1-129">Se você tiver escolhido [GRS (armazenamento com redundância geográfica)](storage-redundancy.md#geo-redundant-storage) ou [RA-GRS (armazenamento com redundância geográfica de acesso de leitura)](storage-redundancy.md#read-access-geo-redundant-storage) (recomendado), o Armazenamento do Azure mantém seus dados duráveis em duas regiões (primária e secundária).</span><span class="sxs-lookup"><span data-stu-id="ef1f1-129">If you chose [Geo-redundant storage (GRS)](storage-redundancy.md#geo-redundant-storage) or [Read-access geo-redundant storage (RA-GRS)](storage-redundancy.md#read-access-geo-redundant-storage) (recommended), Azure Storage will keep your data durable in two regions (primary and secondary).</span></span> <span data-ttu-id="ef1f1-130">Em ambas as regiões, o Armazenamento do Azure mantém constantemente várias réplicas de seus dados.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-130">In both regions, Azure Storage constantly maintains multiple replicas of your data.</span></span>

<span data-ttu-id="ef1f1-131">Quando um desastre regional afeta sua região primária, tentaremos primeiro serviço de saudação toorestore nessa região.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-131">When a regional disaster affects your primary region, we will first try toorestore hello service in that region.</span></span> <span data-ttu-id="ef1f1-132">Depende da natureza Olá desastres hello e seus impactos, em algumas situações raras talvez não seja região primária do toorestore capaz de saudação.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-132">Dependent upon hello nature of hello disaster and its impacts, in some rare occasions we may not be able toorestore hello primary region.</span></span> <span data-ttu-id="ef1f1-133">Nesse ponto, executaremos um failover geográfico.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-133">At that point, we will perform a geo-failover.</span></span> <span data-ttu-id="ef1f1-134">replicação de dados entre regiões Olá é um processo assíncrono que pode envolver um atraso, portanto, é possível que as alterações que ainda não foram replicadas região secundária toohello pode ser perdido.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-134">hello cross-region data replication is an asynchronous process which can involve a delay, so it is possible that changes that have not yet been replicated toohello secondary region may be lost.</span></span> <span data-ttu-id="ef1f1-135">Você pode consultar Olá ["Hora da última sincronização" da sua conta de armazenamento](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/) tooget detalhes sobre o status de replicação de saudação.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-135">You can query hello ["Last Sync Time" of your storage account](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/) tooget details on hello replication status.</span></span>

<span data-ttu-id="ef1f1-136">Alguns pontos sobre Olá experiência de failover geográfico de armazenamento:</span><span class="sxs-lookup"><span data-stu-id="ef1f1-136">A couple of points regarding hello storage geo-failover experience:</span></span>

* <span data-ttu-id="ef1f1-137">Somente failover geográfico do armazenamento será disparado pela equipe de armazenamento do Azure hello – não é necessária nenhuma ação do cliente.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-137">Storage geo-failover will only be triggered by hello Azure Storage team – there is no customer action required.</span></span>
* <span data-ttu-id="ef1f1-138">O serviço de armazenamento existente, pontos de extremidade para blobs, tabelas, filas e arquivos permanecerão Olá mesmo após o failover de saudação; Olá entrada DNS será necessário tooswitch toobe atualizado da região secundária do toohello Olá região primária.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-138">Your existing storage service endpoints for blobs, tables, queues, and files will remain hello same after hello failover; hello DNS entry will need toobe updated tooswitch from hello primary region toohello secondary region.</span></span>
* <span data-ttu-id="ef1f1-139">Antes e durante a saudação failover geográfico, você não terá acesso de gravação tooyour conta de armazenamento devido toohello impacto do desastre Olá mas você pode ler de saudação secundária se sua conta de armazenamento tiver sido configurada como RA-GRS.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-139">Before and during hello geo-failover, you won't have write access tooyour storage account due toohello impact of hello disaster but you can still read from hello secondary if your storage account has been configured as RA-GRS.</span></span>
* <span data-ttu-id="ef1f1-140">Conta de armazenamento de acesso de leitura e gravação tooyour será retomada quando failover geográfico Olá foi concluído e Olá propagadas de alterações DNS, Isso indica toobe toowhat usado seu ponto de extremidade secundário.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-140">When hello geo-failover has been completed and hello DNS changes propagated, read and write access tooyour storage account will be resumed; this points toowhat used toobe your secondary endpoint.</span></span> 
* <span data-ttu-id="ef1f1-141">Observe que você terá acesso de gravação se você tiver o GRS ou RA-GRS configurado para a conta de armazenamento hello.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-141">Note that you will have write access if you have GRS or RA-GRS configured for hello storage account.</span></span> 
* <span data-ttu-id="ef1f1-142">Você pode consultar ["Último geográfica tempo de Failover" da sua conta de armazenamento](https://msdn.microsoft.com/library/azure/ee460802.aspx) tooget mais detalhes.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-142">You can query ["Last Geo Failover Time" of your storage account](https://msdn.microsoft.com/library/azure/ee460802.aspx) tooget more details.</span></span>
* <span data-ttu-id="ef1f1-143">Após o failover hello, sua conta de armazenamento será totalmente funcional, mas em um estado "degradado", como ela é realmente hospedada em uma região autônomo com nenhuma possíveis de replicação geográfica.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-143">After hello failover, your storage account will be fully functioning, but in a "degraded" status, as it is actually hosted in a standalone region with no geo-replication possible.</span></span> <span data-ttu-id="ef1f1-144">toomitigate risco, vamos restaurar região primária original do hello e, em seguida, fazer um failback geográfica toorestore Olá original estado.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-144">toomitigate this risk, we will restore hello original primary region and then do a geo-failback toorestore hello original state.</span></span> <span data-ttu-id="ef1f1-145">Se a região primária original de saudação é irrecuperável, podemos alocará outra região secundária.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-145">If hello original primary region is unrecoverable, we will allocate another secondary region.</span></span>
  <span data-ttu-id="ef1f1-146">Para obter mais detalhes sobre a infraestrutura de saudação de replicação geográfica de armazenamento do Azure, consulte toohello artigo no blog da equipe de armazenamento Olá sobre [opções de redundância e RA-GRS](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/).</span><span class="sxs-lookup"><span data-stu-id="ef1f1-146">For more details on hello infrastructure of Azure Storage geo replication, please refer toohello article on hello Storage team blog about [Redundancy Options and RA-GRS](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/).</span></span>

## <a name="best-practices-for-protecting-your-data"></a><span data-ttu-id="ef1f1-147">Melhores Práticas para proteger seus dados</span><span class="sxs-lookup"><span data-stu-id="ef1f1-147">Best Practices for protecting your data</span></span>
<span data-ttu-id="ef1f1-148">Há alguns tooback abordagens recomendadas backup de seus dados de armazenamento regularmente.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-148">There are some recommended approaches tooback up your storage data on a regular basis.</span></span>

* <span data-ttu-id="ef1f1-149">Discos de VM – Olá Use [serviço de Backup do Azure](https://azure.microsoft.com/services/backup/) tooback os discos VM Olá usados por suas máquinas virtuais do Azure.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-149">VM Disks – Use hello [Azure Backup service](https://azure.microsoft.com/services/backup/) tooback up hello VM disks used by your Azure virtual machines.</span></span>
* <span data-ttu-id="ef1f1-150">Os blobs de bloco – criar um [instantâneo](https://msdn.microsoft.com/library/azure/hh488361.aspx) de cada blob de bloco ou copie a conta de armazenamento Olá blobs tooanother em outra região usando [AzCopy](storage-use-azcopy.md), [Azure PowerShell](storage-powershell-guide-full.md), ou hello [ Biblioteca de movimentação de dados do Azure](https://azure.microsoft.com/blog/introducing-azure-storage-data-movement-library-preview-2/).</span><span class="sxs-lookup"><span data-stu-id="ef1f1-150">Block blobs –Create a [snapshot](https://msdn.microsoft.com/library/azure/hh488361.aspx) of each block blob, or copy hello blobs tooanother storage account in another region using [AzCopy](storage-use-azcopy.md), [Azure PowerShell](storage-powershell-guide-full.md), or hello [Azure Data Movement library](https://azure.microsoft.com/blog/introducing-azure-storage-data-movement-library-preview-2/).</span></span>
* <span data-ttu-id="ef1f1-151">Usar tabelas – [AzCopy](storage-use-azcopy.md) tooexport dados da tabela Olá em outra conta de armazenamento em outra região.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-151">Tables – use [AzCopy](storage-use-azcopy.md) tooexport hello table data into another storage account in another region.</span></span>
* <span data-ttu-id="ef1f1-152">Usar arquivos – [AzCopy](storage-use-azcopy.md) ou [Azure PowerShell](storage-powershell-guide-full.md) toocopy conta de armazenamento tooanother arquivos em outra região.</span><span class="sxs-lookup"><span data-stu-id="ef1f1-152">Files – use [AzCopy](storage-use-azcopy.md) or [Azure PowerShell](storage-powershell-guide-full.md) toocopy your files tooanother storage account in another region.</span></span>

<span data-ttu-id="ef1f1-153">Para obter informações sobre como criar aplicativos que se beneficiam do recurso Olá RA-GRS, faça check-out [criação altamente disponível de aplicativos usando o armazenamento de RA-GRS](../storage-designing-ha-apps-with-ragrs.md)</span><span class="sxs-lookup"><span data-stu-id="ef1f1-153">For information about creating applications that take full advantage of hello RA-GRS feature, please check out [Designing Highly Available Applications using RA-GRS Storage](../storage-designing-ha-apps-with-ragrs.md)</span></span>

