---
title: "aaaTroubleshooting de armazenamento do Azure com o diagnóstico & Message Analyzer | Microsoft Docs"
description: "Um tutorial que demonstra a solução de problemas ponta a ponta com Análise de Armazenamento do Azure, AzCopy e Analisador de Mensagem da Microsoft"
services: storage
documentationcenter: dotnet
author: robinsh
manager: timlt
ms.assetid: 643372a3-1c07-4e88-b4ef-042512a43086
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 03/15/2017
ms.author: robinsh
ms.openlocfilehash: 2d7a2a14b2e8da01b566ac3dec19996f0ef88cc2
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="end-to-end-troubleshooting-using-azure-storage-metrics-and-logging-azcopy-and-message-analyzer"></a><span data-ttu-id="bc649-103">Solução de problemas ponta a ponta usando métricas de Armazenamento do Azure e registro em log, AzCopy e Analisador de Mensagem</span><span class="sxs-lookup"><span data-stu-id="bc649-103">End-to-End Troubleshooting using Azure Storage metrics and logging, AzCopy, and Message Analyzer</span></span>
[!INCLUDE [storage-selector-portal-e2e-troubleshooting](../../../includes/storage-selector-portal-e2e-troubleshooting.md)]

<span data-ttu-id="bc649-104">Diagnóstico e solução de problemas são habilidades chaves para a criação e o suporte a aplicativos de clientes com o Armazenamento do Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="bc649-104">Diagnosing and troubleshooting is a key skill for building and supporting client applications with Microsoft Azure Storage.</span></span> <span data-ttu-id="bc649-105">Devido a natureza toohello distribuída de um aplicativo do Azure, diagnosticar e solucionar erros e problemas de desempenho podem ser mais complexos do que em ambientes tradicionais.</span><span class="sxs-lookup"><span data-stu-id="bc649-105">Due toohello distributed nature of an Azure application, diagnosing and troubleshooting errors and performance issues may be more complex than in traditional environments.</span></span>

<span data-ttu-id="bc649-106">Neste tutorial, demonstraremos como tooidentify determinados erros que podem afetar o desempenho e solucionar os erros de ponta a ponta usando as ferramentas fornecidas pela Microsoft e armazenamento do Azure, no aplicativo cliente do pedido toooptimize hello.</span><span class="sxs-lookup"><span data-stu-id="bc649-106">In this tutorial, we demonstrate how tooidentify certain errors that may affect performance, and troubleshoot those errors from end-to-end using tools provided by Microsoft and Azure Storage, in order toooptimize hello client application.</span></span>

<span data-ttu-id="bc649-107">Este tutorial fornece uma exploração prática de um cenário de solução de problemas de ponta a ponta.</span><span class="sxs-lookup"><span data-stu-id="bc649-107">This tutorial provides a hands-on exploration of an end-to-end troubleshooting scenario.</span></span> <span data-ttu-id="bc649-108">Para aplicativos de armazenamento do Azure uma tootroubleshooting guia conceituais detalhadas, consulte [monitorar, diagnosticar e solucionar problemas de armazenamento do Microsoft Azure](storage-monitoring-diagnosing-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="bc649-108">For an in-depth conceptual guide tootroubleshooting Azure storage applications, see [Monitor, diagnose, and troubleshoot Microsoft Azure Storage](storage-monitoring-diagnosing-troubleshooting.md).</span></span>

## <a name="tools-for-troubleshooting-azure-storage-applications"></a><span data-ttu-id="bc649-109">Ferramentas para solucionar problemas de aplicativos de armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="bc649-109">Tools for troubleshooting Azure Storage applications</span></span>
<span data-ttu-id="bc649-110">aplicativos de cliente tootroubleshoot usando o armazenamento do Microsoft Azure, você pode usar uma combinação de ferramentas toodetermine quando um problema ocorreu e que causa Olá problema Olá pode ser.</span><span class="sxs-lookup"><span data-stu-id="bc649-110">tootroubleshoot client applications using Microsoft Azure Storage, you can use a combination of tools toodetermine when an issue has occurred and what hello cause of hello problem may be.</span></span> <span data-ttu-id="bc649-111">Essas ferramentas incluem:</span><span class="sxs-lookup"><span data-stu-id="bc649-111">These tools include:</span></span>

* <span data-ttu-id="bc649-112">**Análise de Armazenamento do Azure**.</span><span class="sxs-lookup"><span data-stu-id="bc649-112">**Azure Storage Analytics**.</span></span> <span data-ttu-id="bc649-113">[A Análise de Armazenamento do Azure](/rest/api/storageservices/Storage-Analytics) fornece métricas e registro em log para o Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="bc649-113">[Azure Storage Analytics](/rest/api/storageservices/Storage-Analytics) provides metrics and logging for Azure Storage.</span></span>
  
  * <span data-ttu-id="bc649-114">**A métrica de armazenamento** controla as métricas de transação e as métricas de capacidade para sua conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="bc649-114">**Storage metrics** tracks transaction metrics and capacity metrics for your storage account.</span></span> <span data-ttu-id="bc649-115">Uso de métricas, você pode determinar como seu aplicativo está executando o acordo tooa várias medidas diferentes.</span><span class="sxs-lookup"><span data-stu-id="bc649-115">Using metrics, you can determine how your application is performing according tooa variety of different measures.</span></span> <span data-ttu-id="bc649-116">Consulte [esquema de tabela de métricas de análise de armazenamento](/rest/api/storageservices/Storage-Analytics-Metrics-Table-Schema) para obter mais informações sobre tipos de saudação de métricas controladas pela análise de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="bc649-116">See [Storage Analytics Metrics Table Schema](/rest/api/storageservices/Storage-Analytics-Metrics-Table-Schema) for more information about hello types of metrics tracked by Storage Analytics.</span></span>
  * <span data-ttu-id="bc649-117">**O log de armazenamento** registra cada log de solicitações de toohello lado de servidor de tooa de serviços de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="bc649-117">**Storage logging** logs each request toohello Azure Storage services tooa server-side log.</span></span> <span data-ttu-id="bc649-118">Olá log rastreia dados detalhados para cada solicitação, incluindo a operação de saudação executada, status de saudação de operação hello e informações de latência.</span><span class="sxs-lookup"><span data-stu-id="bc649-118">hello log tracks detailed data for each request, including hello operation performed, hello status of hello operation, and latency information.</span></span> <span data-ttu-id="bc649-119">Consulte [formato de Log de análise de armazenamento](/rest/api/storageservices/Storage-Analytics-Log-Format) para obter mais informações sobre os dados de solicitação e resposta Olá escrito toohello logs pela análise de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="bc649-119">See [Storage Analytics Log Format](/rest/api/storageservices/Storage-Analytics-Log-Format) for more information about hello request and response data that is written toohello logs by Storage Analytics.</span></span>

> [!NOTE]
> <span data-ttu-id="bc649-120">Contas de armazenamento com um tipo de replicação de armazenamento com redundância de zona (ZRS) não têm métricas hello ou recurso de log habilitado no momento.</span><span class="sxs-lookup"><span data-stu-id="bc649-120">Storage accounts with a replication type of Zone-Redundant Storage (ZRS) do not have hello metrics or logging capability enabled at this time.</span></span> 
> 
> 

* <span data-ttu-id="bc649-121">**Portal do Azure**.</span><span class="sxs-lookup"><span data-stu-id="bc649-121">**Azure portal**.</span></span> <span data-ttu-id="bc649-122">Você pode configurar o log e métricas para sua conta de armazenamento Olá [portal do Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="bc649-122">You can configure metrics and logging for your storage account in hello [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="bc649-123">Você também pode exibir gráficos que mostram o desempenho do seu aplicativo ao longo do tempo e configurar alertas toonotify que se seu aplicativo executa diferente que o esperado para uma métrica especificada.</span><span class="sxs-lookup"><span data-stu-id="bc649-123">You can also view charts and graphs that show how your application is performing over time, and configure alerts toonotify you if your application performs differently than expected for a specified metric.</span></span>
  
    <span data-ttu-id="bc649-124">Consulte [monitorar uma conta de armazenamento no portal do Azure de saudação](storage-monitor-storage-account.md) para obter informações sobre como configurar o monitoramento em Olá portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="bc649-124">See [Monitor a storage account in hello Azure portal](storage-monitor-storage-account.md) for information about configuring monitoring in hello Azure portal.</span></span>
* <span data-ttu-id="bc649-125">**AzCopy**.</span><span class="sxs-lookup"><span data-stu-id="bc649-125">**AzCopy**.</span></span> <span data-ttu-id="bc649-126">Logs do servidor para o armazenamento do Azure são armazenados como blobs, assim você pode usar AzCopy toocopy Olá log blobs tooa diretório local para análise usando o Microsoft Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="bc649-126">Server logs for Azure Storage are stored as blobs, so you can use AzCopy toocopy hello log blobs tooa local directory for analysis using Microsoft Message Analyzer.</span></span> <span data-ttu-id="bc649-127">Consulte [transferir dados com o utilitário de linha de comando AzCopy de hello](storage-use-azcopy.md) para obter mais informações sobre AzCopy.</span><span class="sxs-lookup"><span data-stu-id="bc649-127">See [Transfer data with hello AzCopy Command-Line Utility](storage-use-azcopy.md) for more information about AzCopy.</span></span>
* <span data-ttu-id="bc649-128">**Analisador de Mensagem da Microsoft**.</span><span class="sxs-lookup"><span data-stu-id="bc649-128">**Microsoft Message Analyzer**.</span></span> <span data-ttu-id="bc649-129">Analisador de mensagem é uma ferramenta que consome os arquivos de log e exibe dados de log em um formato visual que torna mais fácil toofilter, pesquisa e grupo de dados de log em conjuntos úteis que você pode usar tooanalyze erros e problemas de desempenho.</span><span class="sxs-lookup"><span data-stu-id="bc649-129">Message Analyzer is a tool that consumes log files and displays log data in a visual format that makes it easy toofilter, search, and group log data into useful sets that you can use tooanalyze errors and performance issues.</span></span> <span data-ttu-id="bc649-130">Consulte o [Guia Operacional do Analisador de Mensagem da Microsoft](http://technet.microsoft.com/library/jj649776.aspx) para obter mais informações sobre o Analisador de Mensagem.</span><span class="sxs-lookup"><span data-stu-id="bc649-130">See [Microsoft Message Analyzer Operating Guide](http://technet.microsoft.com/library/jj649776.aspx) for more information about Message Analyzer.</span></span>

## <a name="about-hello-sample-scenario"></a><span data-ttu-id="bc649-131">Sobre o cenário de exemplo hello</span><span class="sxs-lookup"><span data-stu-id="bc649-131">About hello sample scenario</span></span>
<span data-ttu-id="bc649-132">Para este tutorial, vamos examinar um cenário onde as métricas de armazenamento do Azure indicam uma taxa de sucesso de porcentagem baixa de um aplicativo que chama o armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="bc649-132">For this tutorial, we'll examine a scenario where Azure Storage metrics indicates a low percent success rate for an application that calls Azure storage.</span></span> <span data-ttu-id="bc649-133">Olá métrica de taxa baixa de êxito de porcentagem (mostrado como **PercentSuccess** em Olá [portal do Azure](https://portal.azure.com) e nas tabelas de métricas de saudação) controla as operações que tenha êxito, mas que retornam um código de status HTTP for maior que 299.</span><span class="sxs-lookup"><span data-stu-id="bc649-133">hello low percent success rate metric (shown as **PercentSuccess** in hello [Azure portal](https://portal.azure.com) and in hello metrics tables) tracks operations that succeed, but that return an HTTP status code that is greater than 299.</span></span> <span data-ttu-id="bc649-134">Nos arquivos de log de armazenamento no servidor de saudação, essas operações são registradas com um status de transação **ClientOtherErrors**.</span><span class="sxs-lookup"><span data-stu-id="bc649-134">In hello server-side storage log files, these operations are recorded with a transaction status of **ClientOtherErrors**.</span></span> <span data-ttu-id="bc649-135">Para obter mais detalhes sobre a métrica de sucesso de porcentagem baixa hello, consulte [métricas mostram PercentSuccess baixa ou entradas de log de análise possuem operações com status de transação de ClientOtherErrors](storage-monitoring-diagnosing-troubleshooting.md#metrics-show-low-percent-success).</span><span class="sxs-lookup"><span data-stu-id="bc649-135">For more details about hello low percent success metric, see [Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors](storage-monitoring-diagnosing-troubleshooting.md#metrics-show-low-percent-success).</span></span>

<span data-ttu-id="bc649-136">Operações de armazenamento do Azure podem retornar códigos de status HTTP maior 299 como parte de sua funcionalidade normal.</span><span class="sxs-lookup"><span data-stu-id="bc649-136">Azure Storage operations may return HTTP status codes greater than 299 as part of their normal functionality.</span></span> <span data-ttu-id="bc649-137">Mas esses erros em alguns casos indicam que você pode ser capaz de toooptimize seu aplicativo cliente para melhor desempenho.</span><span class="sxs-lookup"><span data-stu-id="bc649-137">But these errors in some cases indicate that you may be able toooptimize your client application for improved performance.</span></span>

<span data-ttu-id="bc649-138">Nesse cenário, consideraremos um toobe de taxa de sucesso de porcentagem baixa algo abaixo de 100%.</span><span class="sxs-lookup"><span data-stu-id="bc649-138">In this scenario, we'll consider a low percent success rate toobe anything below 100%.</span></span> <span data-ttu-id="bc649-139">Você pode escolher um métrico nível diferente, no entanto, de acordo com as necessidades de tooyour.</span><span class="sxs-lookup"><span data-stu-id="bc649-139">You can choose a different metric level, however, according tooyour needs.</span></span> <span data-ttu-id="bc649-140">É recomendável que, durante o teste do seu aplicativo, você estabeleça uma tolerância de linha de base para suas principais métricas de desempenho.</span><span class="sxs-lookup"><span data-stu-id="bc649-140">We recommend that during testing of your application, you establish a baseline tolerance for your key performance metrics.</span></span> <span data-ttu-id="bc649-141">Por exemplo, você pode determinar, com base nos testes, que seu aplicativo deve ter uma taxa de porcentagem de êxitos consistente de 90% ou 85%.</span><span class="sxs-lookup"><span data-stu-id="bc649-141">For example, you might determine, based on testing, that your application should have a consistent percent success rate of 90%, or 85%.</span></span> <span data-ttu-id="bc649-142">Se seus dados de métricas mostram que aplicativo hello é desviam-se de que esse número, você pode investigar o que pode estar causando o aumento de saudação.</span><span class="sxs-lookup"><span data-stu-id="bc649-142">If your metrics data shows that hello application is deviating from that number, then you can investigate what may be causing hello increase.</span></span>

<span data-ttu-id="bc649-143">Em nosso cenário de exemplo, quando estabelecemos métrica de taxa de sucesso de porcentagem hello está abaixo de 100%, podemos examinar Olá logs toofind Olá erros que correlacionam toohello métricas e usá-los toofigure o que está causando Olá inferior porcentagem sucesso.</span><span class="sxs-lookup"><span data-stu-id="bc649-143">For our sample scenario, once we've established that hello percent success rate metric is below 100%, we will examine hello logs toofind hello errors that correlate toohello metrics, and use them toofigure out what is causing hello lower percent success rate.</span></span> <span data-ttu-id="bc649-144">Vamos examinar especificamente erros no intervalo de 400 hello.</span><span class="sxs-lookup"><span data-stu-id="bc649-144">We'll look specifically at errors in hello 400 range.</span></span> <span data-ttu-id="bc649-145">Em seguida, examinaremos com mais detalhes os erros 404 (não encontrado).</span><span class="sxs-lookup"><span data-stu-id="bc649-145">Then we'll more closely investigate 404 (Not Found) errors.</span></span>

### <a name="some-causes-of-400-range-errors"></a><span data-ttu-id="bc649-146">Algumas causas de erros no intervalo 400</span><span class="sxs-lookup"><span data-stu-id="bc649-146">Some causes of 400-range errors</span></span>
<span data-ttu-id="bc649-147">exemplos de saudação abaixo mostra uma amostragem de alguns erros de intervalo de 400 para solicitações em relação ao armazenamento de Blob do Azure e suas causas possíveis.</span><span class="sxs-lookup"><span data-stu-id="bc649-147">hello examples below shows a sampling of some 400-range errors for requests against Azure Blob Storage, and their possible causes.</span></span> <span data-ttu-id="bc649-148">Qualquer um desses erros, bem como erros no intervalo de 300 hello e intervalo de 500 hello, podem contribuir taxa de sucesso de porcentagem baixa de tooa.</span><span class="sxs-lookup"><span data-stu-id="bc649-148">Any of these errors, as well as errors in hello 300 range and hello 500 range, can contribute tooa low percent success rate.</span></span>

<span data-ttu-id="bc649-149">Observe que listas de saudação abaixo estão distantes de conclusão.</span><span class="sxs-lookup"><span data-stu-id="bc649-149">Note that hello lists below are far from complete.</span></span> <span data-ttu-id="bc649-150">Consulte [Status e códigos de erro](http://msdn.microsoft.com/library/azure/dd179382.aspx) no MSDN para obter detalhes sobre erros gerais de armazenamento do Azure e tooeach de erros específicas dos serviços de armazenamento de saudação.</span><span class="sxs-lookup"><span data-stu-id="bc649-150">See [Status and Error Codes](http://msdn.microsoft.com/library/azure/dd179382.aspx) on MSDN for details about general Azure Storage errors and about errors specific tooeach of hello storage services.</span></span>

<span data-ttu-id="bc649-151">**Exemplos do Código de Status 404 (Não Encontrado)**</span><span class="sxs-lookup"><span data-stu-id="bc649-151">**Status Code 404 (Not Found) Examples**</span></span>

<span data-ttu-id="bc649-152">Ocorre quando uma operação de leitura em um contêiner ou blob falha porque Olá blob ou contêiner não foi encontrado.</span><span class="sxs-lookup"><span data-stu-id="bc649-152">Occurs when a read operation against a container or blob fails because hello blob or container is not found.</span></span>

* <span data-ttu-id="bc649-153">Ocorre se um contêiner ou blob tiver sido excluído por outro cliente antes desta solicitação.</span><span class="sxs-lookup"><span data-stu-id="bc649-153">Occurs if a container or blob has been deleted by another client before this request.</span></span>
* <span data-ttu-id="bc649-154">Ocorre se você estiver usando uma chamada de API que cria Olá contêiner ou blob depois de verificar se ele existe.</span><span class="sxs-lookup"><span data-stu-id="bc649-154">Occurs if you are using an API call that creates hello container or blob after checking whether it exists.</span></span> <span data-ttu-id="bc649-155">Olá CreateIfNotExists APIs tornar um cabeçalho chamar toocheck primeiro quanto à existência de saudação do hello contêiner ou blob; Se não existir, será retornado um erro 404 e, em seguida, uma segunda chamada PUT é feita toowrite Olá contêiner ou blob.</span><span class="sxs-lookup"><span data-stu-id="bc649-155">hello CreateIfNotExists APIs make a HEAD call first toocheck for hello existence of hello container or blob; if it does not exist, a 404 error is returned, and then a second PUT call is made toowrite hello container or blob.</span></span>

<span data-ttu-id="bc649-156">**Exemplos do Código de Status 409 (Conflito)**</span><span class="sxs-lookup"><span data-stu-id="bc649-156">**Status Code 409 (Conflict) Examples**</span></span>

* <span data-ttu-id="bc649-157">Ocorre se você usar um toocreate de API de criar um novo contêiner ou blob, sem verificar a existência do primeiro e um contêiner ou blob com esse nome já existe.</span><span class="sxs-lookup"><span data-stu-id="bc649-157">Occurs if you use a Create API toocreate a new container or blob, without checking for existence first, and a container or blob with that name already exists.</span></span>
* <span data-ttu-id="bc649-158">Ocorre se um contêiner que está sendo excluído e você tentar toocreate um novo contêiner com mesmo nome antes da conclusão operação de exclusão de saudação do hello.</span><span class="sxs-lookup"><span data-stu-id="bc649-158">Occurs if a container is being deleted, and you attempt toocreate a new container with hello same name before hello deletion operation is complete.</span></span>
* <span data-ttu-id="bc649-159">Ocorre se você especificar uma concessão em um contêiner ou blob e já houver uma concessão presente.</span><span class="sxs-lookup"><span data-stu-id="bc649-159">Occurs if you specify a lease on a container or blob, and there is already a lease present.</span></span>

<span data-ttu-id="bc649-160">**Exemplos do Código de Status 412 (Falha na Pré-condição)**</span><span class="sxs-lookup"><span data-stu-id="bc649-160">**Status Code 412 (Precondition Failed) Examples**</span></span>

* <span data-ttu-id="bc649-161">Ocorre quando a condição de saudação especificada por um cabeçalho condicional não foi atendida.</span><span class="sxs-lookup"><span data-stu-id="bc649-161">Occurs when hello condition specified by a conditional header has not been met.</span></span>
* <span data-ttu-id="bc649-162">Ocorre quando a ID de concessão Olá especificada não coincide com ID de concessão Olá Olá contêiner ou blob.</span><span class="sxs-lookup"><span data-stu-id="bc649-162">Occurs when hello lease ID specified does not match hello lease ID on hello container or blob.</span></span>

## <a name="generate-log-files-for-analysis"></a><span data-ttu-id="bc649-163">Gerar arquivos de log para análise</span><span class="sxs-lookup"><span data-stu-id="bc649-163">Generate log files for analysis</span></span>
<span data-ttu-id="bc649-164">Neste tutorial, usaremos Message Analyzer toowork com três tipos diferentes de arquivos de log, embora você poderia escolher toowork com qualquer uma destas:</span><span class="sxs-lookup"><span data-stu-id="bc649-164">In this tutorial, we'll use Message Analyzer toowork with three different types of log files, although you could choose toowork with any one of these:</span></span>

* <span data-ttu-id="bc649-165">Olá **log de servidor**, que é criado quando você habilita o log de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="bc649-165">hello **server log**, which is created when you enable Azure Storage logging.</span></span> <span data-ttu-id="bc649-166">log do servidor de saudação contém dados sobre cada operação chamado em um dos serviços de armazenamento do Azure Olá - blob, fila, tabela e arquivo.</span><span class="sxs-lookup"><span data-stu-id="bc649-166">hello server log contains data about each operation called against one of hello Azure Storage services - blob, queue, table, and file.</span></span> <span data-ttu-id="bc649-167">registro do servidor de saudação indica qual operação foi chamada e o código de status foi retornados, bem como outros detalhes sobre Olá solicitação e resposta.</span><span class="sxs-lookup"><span data-stu-id="bc649-167">hello server log indicates which operation was called and what status code was returned, as well as other details about hello request and response.</span></span>
* <span data-ttu-id="bc649-168">Olá **log do cliente .NET**, que é criado quando você habilita o log de cliente de dentro de seu aplicativo .NET.</span><span class="sxs-lookup"><span data-stu-id="bc649-168">hello **.NET client log**, which is created when you enable client-side logging from within your .NET application.</span></span> <span data-ttu-id="bc649-169">log de saudação do cliente inclui informações detalhadas sobre como cliente Olá prepara solicitação hello e recebe e processa a resposta de saudação.</span><span class="sxs-lookup"><span data-stu-id="bc649-169">hello client log includes detailed information about how hello client prepares hello request and receives and processes hello response.</span></span>
* <span data-ttu-id="bc649-170">Olá **log de rastreamento de rede HTTP**, que coleta dados sobre dados de solicitação e resposta HTTP/HTTPS, incluindo para operações no armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="bc649-170">hello **HTTP network trace log**, which collects data on HTTP/HTTPS request and response data, including for operations against Azure Storage.</span></span> <span data-ttu-id="bc649-171">Neste tutorial, vamos irá gerar o rastreamento de rede Olá por meio do analisador de mensagem.</span><span class="sxs-lookup"><span data-stu-id="bc649-171">In this tutorial, we'll generate hello network trace via Message Analyzer.</span></span>

### <a name="configure-server-side-logging-and-metrics"></a><span data-ttu-id="bc649-172">Configurar o log de servidor e métricas</span><span class="sxs-lookup"><span data-stu-id="bc649-172">Configure server-side logging and metrics</span></span>
<span data-ttu-id="bc649-173">Primeiro, vamos precisar tooconfigure log de armazenamento do Azure e métricas, para que tenhamos dados de saudação tooanalyze de aplicativo de cliente.</span><span class="sxs-lookup"><span data-stu-id="bc649-173">First, we'll need tooconfigure Azure Storage logging and metrics, so that we have data from hello client application tooanalyze.</span></span> <span data-ttu-id="bc649-174">Você pode configurar o registro em log e métricas de várias maneiras – via Olá [portal do Azure](https://portal.azure.com), usando o PowerShell, ou programaticamente.</span><span class="sxs-lookup"><span data-stu-id="bc649-174">You can configure logging and metrics in a variety of ways - via hello [Azure portal](https://portal.azure.com), by using PowerShell, or programmatically.</span></span> <span data-ttu-id="bc649-175">Consulte [Habilitando as métricas de armazenamento e Exibindo os dados da métrica](http://msdn.microsoft.com/library/azure/dn782843.aspx) e [Habilitando o registro em log de armazenamento e Acessando os dados de log](http://msdn.microsoft.com/library/azure/dn782840.aspx) no MSDN para obter detalhes sobre como configurar o registro em log e as métricas.</span><span class="sxs-lookup"><span data-stu-id="bc649-175">See [Enabling Storage Metrics and Viewing Metrics Data](http://msdn.microsoft.com/library/azure/dn782843.aspx) and [Enabling Storage Logging and Accessing Log Data](http://msdn.microsoft.com/library/azure/dn782840.aspx) on MSDN for details about configuring logging and metrics.</span></span>

<span data-ttu-id="bc649-176">**Por meio de saudação portal do Azure**</span><span class="sxs-lookup"><span data-stu-id="bc649-176">**Via hello Azure portal**</span></span>

<span data-ttu-id="bc649-177">Olá tooconfigure log e métricas para sua conta de armazenamento usando [portal do Azure](https://portal.azure.com), siga as instruções de saudação em [monitorar uma conta de armazenamento no portal do Azure de saudação](storage-monitor-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="bc649-177">tooconfigure logging and metrics for your storage account using hello [Azure portal](https://portal.azure.com), follow hello instructions at [Monitor a storage account in hello Azure portal](storage-monitor-storage-account.md).</span></span>

> [!NOTE]
> <span data-ttu-id="bc649-178">Não é possível tooset métricas de minuto usando Olá portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="bc649-178">It's not possible tooset minute metrics using hello Azure portal.</span></span> <span data-ttu-id="bc649-179">No entanto, é recomendável que você defini-las para fins deste tutorial hello e para investigar problemas de desempenho com o seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="bc649-179">However, we recommend that you do set them for hello purposes of this tutorial, and for investigating performance issues with your application.</span></span> <span data-ttu-id="bc649-180">Você pode definir as métricas de minuto usando o PowerShell, conforme mostrado abaixo, ou programaticamente usando a biblioteca de cliente de armazenamento hello.</span><span class="sxs-lookup"><span data-stu-id="bc649-180">You can set minute metrics using PowerShell as shown below, or programmatically using hello storage client library.</span></span>
> 
> <span data-ttu-id="bc649-181">Observe que Olá portal do Azure não pode exibir métricas por minuto, somente as métricas de hora.</span><span class="sxs-lookup"><span data-stu-id="bc649-181">Note that hello Azure portal cannot display minute metrics, only hourly metrics.</span></span>
> 
> 

<span data-ttu-id="bc649-182">**Por meio do PowerShell**</span><span class="sxs-lookup"><span data-stu-id="bc649-182">**Via PowerShell**</span></span>

<span data-ttu-id="bc649-183">tooget iniciado com o PowerShell do Azure, consulte [como tooinstall e configurar o Azure PowerShell](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="bc649-183">tooget started with PowerShell for Azure, see [How tooinstall and configure Azure PowerShell](/powershell/azure/overview).</span></span>

1. <span data-ttu-id="bc649-184">Saudação de uso [Add-AzureAccount](/powershell/module/azure/add-azureaccount?view=azuresmps-3.7.0) tooadd cmdlet toohello janela do PowerShell de conta de usuário do Azure:</span><span class="sxs-lookup"><span data-stu-id="bc649-184">Use hello [Add-AzureAccount](/powershell/module/azure/add-azureaccount?view=azuresmps-3.7.0) cmdlet tooadd your Azure user account toohello PowerShell window:</span></span>
   
    ```powershell
    Add-AzureAccount
    ```

2. <span data-ttu-id="bc649-185">Em Olá **entrar tooMicrosoft Azure** janela, digite Olá o endereço de email e senha associados à sua conta.</span><span class="sxs-lookup"><span data-stu-id="bc649-185">In hello **Sign in tooMicrosoft Azure** window, type hello email address and password associated with your account.</span></span> <span data-ttu-id="bc649-186">Azure autentica e salva informações de credencial hello e, em seguida, fecha a janela de saudação.</span><span class="sxs-lookup"><span data-stu-id="bc649-186">Azure authenticates and saves hello credential information, and then closes hello window.</span></span>
3. <span data-ttu-id="bc649-187">Definir saudação padrão armazenamento conta toohello conta de armazenamento que você está usando para o tutorial Olá executando esses comandos na janela do PowerShell hello:</span><span class="sxs-lookup"><span data-stu-id="bc649-187">Set hello default storage account toohello storage account you are using for hello tutorial by executing these commands in hello PowerShell window:</span></span>
   
    ```powershell
    $SubscriptionName = 'Your subscription name'
    $StorageAccountName = 'yourstorageaccount'
    Set-AzureSubscription -CurrentStorageAccountName $StorageAccountName -SubscriptionName $SubscriptionName
    ```

4. <span data-ttu-id="bc649-188">Habilite log para Olá serviço Blob de armazenamento:</span><span class="sxs-lookup"><span data-stu-id="bc649-188">Enable storage logging for hello Blob service:</span></span>
   
    ```powershell
    Set-AzureStorageServiceLoggingProperty -ServiceType Blob -LoggingOperations Read,Write,Delete -PassThru -RetentionDays 7 -Version 1.0
    ```

5. <span data-ttu-id="bc649-189">Habilitar as métricas de armazenamento para Olá serviço Blob, tornando-se de que tooset **- MetricsType** muito`Minute`:</span><span class="sxs-lookup"><span data-stu-id="bc649-189">Enable storage metrics for hello Blob service, making sure tooset **-MetricsType** too`Minute`:</span></span>
   
    ```powershell
    Set-AzureStorageServiceMetricsProperty -ServiceType Blob -MetricsType Minute -MetricsLevel ServiceAndApi -PassThru -RetentionDays 7 -Version 1.0
    ```

### <a name="configure-net-client-side-logging"></a><span data-ttu-id="bc649-190">Configurar o log de cliente .NET</span><span class="sxs-lookup"><span data-stu-id="bc649-190">Configure .NET client-side logging</span></span>
<span data-ttu-id="bc649-191">tooconfigure do cliente do registro em log para um aplicativo .NET, habilitar o diagnóstico do .NET no arquivo de configuração do aplicativo hello (Web. config ou App. config).</span><span class="sxs-lookup"><span data-stu-id="bc649-191">tooconfigure client-side logging for a .NET application, enable .NET diagnostics in hello application's configuration file (web.config or app.config).</span></span> <span data-ttu-id="bc649-192">Consulte [cliente fazendo com hello biblioteca de cliente de armazenamento do .NET](http://msdn.microsoft.com/library/azure/dn782839.aspx) e [em log com o SDK de armazenamento do Microsoft Azure para Java de saudação do cliente](http://msdn.microsoft.com/library/azure/dn782844.aspx) no MSDN para obter detalhes.</span><span class="sxs-lookup"><span data-stu-id="bc649-192">See [Client-side Logging with hello .NET Storage Client Library](http://msdn.microsoft.com/library/azure/dn782839.aspx) and [Client-side Logging with hello Microsoft Azure Storage SDK for Java](http://msdn.microsoft.com/library/azure/dn782844.aspx) on MSDN for details.</span></span>

<span data-ttu-id="bc649-193">log de cliente de saudação inclui informações detalhadas sobre como cliente Olá prepara solicitação hello e recebe e processa a resposta de saudação.</span><span class="sxs-lookup"><span data-stu-id="bc649-193">hello client-side log includes detailed information about how hello client prepares hello request and receives and processes hello response.</span></span>

<span data-ttu-id="bc649-194">Olá biblioteca de cliente de armazenamento armazena dados de log do lado do cliente no local de saudação especificado no arquivo de configuração do aplicativo hello (Web. config ou App. config).</span><span class="sxs-lookup"><span data-stu-id="bc649-194">hello Storage Client Library stores client-side log data in hello location specified in hello application's configuration file (web.config or app.config).</span></span>

### <a name="collect-a-network-trace"></a><span data-ttu-id="bc649-195">Coletar um rastreamento de rede</span><span class="sxs-lookup"><span data-stu-id="bc649-195">Collect a network trace</span></span>
<span data-ttu-id="bc649-196">Você pode usar o analisador de mensagem toocollect um rastreamento de rede HTTP/HTTPS enquanto seu aplicativo cliente está em execução.</span><span class="sxs-lookup"><span data-stu-id="bc649-196">You can use Message Analyzer toocollect an HTTP/HTTPS network trace while your client application is running.</span></span> <span data-ttu-id="bc649-197">Usos do analisador de mensagem [Fiddler](http://www.telerik.com/fiddler) em Olá back-end.</span><span class="sxs-lookup"><span data-stu-id="bc649-197">Message Analyzer uses [Fiddler](http://www.telerik.com/fiddler) on hello back end.</span></span> <span data-ttu-id="bc649-198">Antes de você coletar o rastreamento de rede hello, recomendamos que você configure o tráfego HTTPS do Fiddler toorecord sem criptografia:</span><span class="sxs-lookup"><span data-stu-id="bc649-198">Before you collect hello network trace, we recommend that you configure Fiddler toorecord unencrypted HTTPS traffic:</span></span>

1. <span data-ttu-id="bc649-199">Instale o [Fiddler](http://www.telerik.com/download/fiddler).</span><span class="sxs-lookup"><span data-stu-id="bc649-199">Install [Fiddler](http://www.telerik.com/download/fiddler).</span></span>
2. <span data-ttu-id="bc649-200">Inicie o Fiddler.</span><span class="sxs-lookup"><span data-stu-id="bc649-200">Launch Fiddler.</span></span>
3. <span data-ttu-id="bc649-201">Selecione **Ferramentas| Opções do Fiddler**.</span><span class="sxs-lookup"><span data-stu-id="bc649-201">Select **Tools | Fiddler Options**.</span></span>
4. <span data-ttu-id="bc649-202">Na caixa de diálogo de opções de saudação, certifique-se de que **capturar HTTPS conecta** e **descriptografar o tráfego HTTPS** estiverem selecionadas, conforme mostrado abaixo.</span><span class="sxs-lookup"><span data-stu-id="bc649-202">In hello Options dialog, ensure that **Capture HTTPS CONNECTs** and **Decrypt HTTPS Traffic** are both selected, as shown below.</span></span>

![Configurar Opções do Fiddler](./media/storage-e2e-troubleshooting/fiddler-options-1.png)

<span data-ttu-id="bc649-204">Tutorial Olá, coletar e salvar um rastreamento de rede pela primeira vez no analisador de mensagem, em seguida, criar um rastreamento do analysis sessão tooanalyze hello e Olá logs.</span><span class="sxs-lookup"><span data-stu-id="bc649-204">For hello tutorial, collect and save a network trace first in Message Analyzer, then create an analysis session tooanalyze hello trace and hello logs.</span></span> <span data-ttu-id="bc649-205">toocollect um rastreamento de rede no analisador de mensagem:</span><span class="sxs-lookup"><span data-stu-id="bc649-205">toocollect a network trace in Message Analyzer:</span></span>

1. <span data-ttu-id="bc649-206">No Analisador de Mensagem, selecione **Arquivo | Rastreamento Rápido | HTTPS Sem Criptografia**.</span><span class="sxs-lookup"><span data-stu-id="bc649-206">In Message Analyzer, select **File | Quick Trace | Unencrypted HTTPS**.</span></span>
2. <span data-ttu-id="bc649-207">rastreamento de saudação começará imediatamente.</span><span class="sxs-lookup"><span data-stu-id="bc649-207">hello trace will begin immediately.</span></span> <span data-ttu-id="bc649-208">Selecione **parar** toostop Olá rastreamento de modo que é possível configurar somente o tráfego de armazenamento tootrace.</span><span class="sxs-lookup"><span data-stu-id="bc649-208">Select **Stop** toostop hello trace so that we can configure it tootrace storage traffic only.</span></span>
3. <span data-ttu-id="bc649-209">Selecione **editar** tooedit sessão de rastreamento de saudação.</span><span class="sxs-lookup"><span data-stu-id="bc649-209">Select **Edit** tooedit hello tracing session.</span></span>
4. <span data-ttu-id="bc649-210">Selecione Olá **configurar** link toohello direito da saudação **Microsoft-Pef-WebProxy** provedor ETW.</span><span class="sxs-lookup"><span data-stu-id="bc649-210">Select hello **Configure** link toohello right of hello **Microsoft-Pef-WebProxy** ETW provider.</span></span>
5. <span data-ttu-id="bc649-211">Em Olá **configurações avançadas** caixa de diálogo, clique em Olá **provedor** guia.</span><span class="sxs-lookup"><span data-stu-id="bc649-211">In hello **Advanced Settings** dialog, click hello **Provider** tab.</span></span>
6. <span data-ttu-id="bc649-212">Em Olá **filtro de nome de host** , especifique os pontos de extremidade de armazenamento, separados por espaços.</span><span class="sxs-lookup"><span data-stu-id="bc649-212">In hello **Hostname Filter** field, specify your storage endpoints, separated by spaces.</span></span> <span data-ttu-id="bc649-213">Por exemplo, você pode especificar os pontos de extremidade: alterar `storagesample` toohello nome de sua conta de armazenamento:</span><span class="sxs-lookup"><span data-stu-id="bc649-213">For example, you can specify your endpoints as follows; change `storagesample` toohello name of your storage account:</span></span>

    ```   
    storagesample.blob.core.windows.net storagesample.queue.core.windows.net storagesample.table.core.windows.net
    ```

7. <span data-ttu-id="bc649-214">Sair da caixa de diálogo hello e, em seguida, clique em **reiniciar** toobegin coleta de rastreamento Olá com filtro de nome de host de saudação em vigor, para que somente o tráfego de rede de armazenamento do Azure está incluído no rastreamento de saudação.</span><span class="sxs-lookup"><span data-stu-id="bc649-214">Exit hello dialog, and click **Restart** toobegin collecting hello trace with hello hostname filter in place, so that only Azure Storage network traffic is included in hello trace.</span></span>

> [!NOTE]
> <span data-ttu-id="bc649-215">Após coletar o rastreamento de rede, é altamente recomendável que você reverter as configurações de saudação que você pode ter sido alterado no tráfego do Fiddler toodecrypt HTTPS.</span><span class="sxs-lookup"><span data-stu-id="bc649-215">After you have finished collecting your network trace, we strongly recommend that you revert hello settings that you may have changed in Fiddler toodecrypt HTTPS traffic.</span></span> <span data-ttu-id="bc649-216">Na caixa de diálogo de opções do Fiddler hello, desmarque Olá **capturar HTTPS conecta** e **descriptografar o tráfego HTTPS** caixas de seleção.</span><span class="sxs-lookup"><span data-stu-id="bc649-216">In hello Fiddler Options dialog, deselect hello **Capture HTTPS CONNECTs** and **Decrypt HTTPS Traffic** checkboxes.</span></span>
> 
> 

<span data-ttu-id="bc649-217">Consulte [usando recursos de rastreamento de rede Olá](http://technet.microsoft.com/library/jj674819.aspx) no Technet para obter mais detalhes.</span><span class="sxs-lookup"><span data-stu-id="bc649-217">See [Using hello Network Tracing Features](http://technet.microsoft.com/library/jj674819.aspx) on Technet for more details.</span></span>

## <a name="review-metrics-data-in-hello-azure-portal"></a><span data-ttu-id="bc649-218">Analisar dados de métricas em Olá portal do Azure</span><span class="sxs-lookup"><span data-stu-id="bc649-218">Review metrics data in hello Azure portal</span></span>
<span data-ttu-id="bc649-219">Depois que seu aplicativo estiver sendo executada por um período de tempo, você pode examinar os gráficos de métricas Olá que aparecem no hello [portal do Azure](https://portal.azure.com) tooobserve como seu serviço esteve executando.</span><span class="sxs-lookup"><span data-stu-id="bc649-219">Once your application has been running for a period of time, you can review hello metrics charts that appear in hello [Azure portal](https://portal.azure.com) tooobserve how your service has been performing.</span></span>

<span data-ttu-id="bc649-220">Navega pela primeira vez, a conta de armazenamento tooyour Olá portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="bc649-220">First, navigate tooyour storage account in hello Azure portal.</span></span> <span data-ttu-id="bc649-221">Por padrão, o monitoramento de um gráfico com hello **percentagem de sucesso** métrica é exibida na folha de conta hello.</span><span class="sxs-lookup"><span data-stu-id="bc649-221">By default, a monitoring chart with hello **Success percentage** metric is displayed on hello account blade.</span></span> <span data-ttu-id="bc649-222">Se você modificou anteriormente diferentes métricas do hello gráfico toodisplay, adicione Olá **percentagem de sucesso** métrica.</span><span class="sxs-lookup"><span data-stu-id="bc649-222">If you've previously modified hello chart toodisplay different metrics, add hello **Success percentage** metric.</span></span>

<span data-ttu-id="bc649-223">Você verá agora **percentagem de sucesso** no gráfico de monitoramento de hello, juntamente com quaisquer outras métricas você tiver adicionado.</span><span class="sxs-lookup"><span data-stu-id="bc649-223">You'll now see **Success percentage** in hello monitoring chart, along with any other metrics you may have added.</span></span> <span data-ttu-id="bc649-224">Cenário de saudação que vamos investigar lado analisando logs Olá no analisador de mensagem, taxa de sucesso de porcentagem de saudação é um pouco abaixo de 100%.</span><span class="sxs-lookup"><span data-stu-id="bc649-224">In hello scenario we'll investigate next by analyzing hello logs in Message Analyzer, hello percent success rate is somewhat below 100%.</span></span>

<span data-ttu-id="bc649-225">Para obter mais detalhes sobre como adicionar e personalizar gráficos de métricas, consulte [Personalizar gráficos de métricas](storage-monitor-storage-account.md#customize-metrics-charts).</span><span class="sxs-lookup"><span data-stu-id="bc649-225">For more details on adding and customizing metrics charts, see [Customize metrics charts](storage-monitor-storage-account.md#customize-metrics-charts).</span></span>

> [!NOTE]
> <span data-ttu-id="bc649-226">Ele pode demorar algum tempo para que sua tooappear de dados de métricas em Olá portal do Azure depois de habilitar as métricas de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="bc649-226">It may take some time for your metrics data tooappear in hello Azure portal after you enable storage metrics.</span></span> <span data-ttu-id="bc649-227">Isso ocorre porque as métricas de hora para Olá hora anterior não são exibidas no hello portal do Azure até Olá hora atual expirou.</span><span class="sxs-lookup"><span data-stu-id="bc649-227">This is because hourly metrics for hello previous hour are not displayed in hello Azure portal until hello current hour has elapsed.</span></span> <span data-ttu-id="bc649-228">Além disso, métricas de minutos não são atualmente exibidas no hello portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="bc649-228">Also, minute metrics are not currently displayed in hello Azure portal.</span></span> <span data-ttu-id="bc649-229">Portanto, dependendo de quando você habilita as métricas, pode levar a dados de métricas de toosee tootwo horas.</span><span class="sxs-lookup"><span data-stu-id="bc649-229">So depending on when you enable metrics, it may take up tootwo hours toosee metrics data.</span></span>
> 
> 

## <a name="use-azcopy-toocopy-server-logs-tooa-local-directory"></a><span data-ttu-id="bc649-230">Use AzCopy toocopy server logs tooa diretório local</span><span class="sxs-lookup"><span data-stu-id="bc649-230">Use AzCopy toocopy server logs tooa local directory</span></span>
<span data-ttu-id="bc649-231">Armazenamento do Azure grava tooblobs de dados de log do servidor, enquanto as métricas são gravadas tootables.</span><span class="sxs-lookup"><span data-stu-id="bc649-231">Azure Storage writes server log data tooblobs, while metrics are written tootables.</span></span> <span data-ttu-id="bc649-232">Blobs de log estão disponíveis no hello conhecido `$logs` contêiner para sua conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="bc649-232">Log blobs are available in hello well-known `$logs` container for your storage account.</span></span> <span data-ttu-id="bc649-233">Blobs de log são nomeados hierarquicamente por ano, mês, dia e hora, para que você possa localizar facilmente o intervalo de saudação de tempo que você deseja tooinvestigate.</span><span class="sxs-lookup"><span data-stu-id="bc649-233">Log blobs are named hierarchically by year, month, day, and hour, so that you can easily locate hello range of time you wish tooinvestigate.</span></span> <span data-ttu-id="bc649-234">Por exemplo, em Olá `storagesample` conta, contêiner Olá para blobs de log Olá para 01/02/2015, de 8-9: 00, é `https://storagesample.blob.core.windows.net/$logs/blob/2015/01/08/0800`.</span><span class="sxs-lookup"><span data-stu-id="bc649-234">For example, in hello `storagesample` account, hello container for hello log blobs for 01/02/2015, from 8-9 am, is `https://storagesample.blob.core.windows.net/$logs/blob/2015/01/08/0800`.</span></span> <span data-ttu-id="bc649-235">os blobs individuais Olá neste contêiner são nomeados em sequência, começando com `000000.log`.</span><span class="sxs-lookup"><span data-stu-id="bc649-235">hello individual blobs in this container are named sequentially, beginning with `000000.log`.</span></span>

<span data-ttu-id="bc649-236">Você pode usar toodownload de ferramenta de linha de comando AzCopy Olá esses local do log do lado do servidor de arquivos tooa de sua escolha na sua máquina local.</span><span class="sxs-lookup"><span data-stu-id="bc649-236">You can use hello AzCopy command-line tool toodownload these server-side log files tooa location of your choice on your local machine.</span></span> <span data-ttu-id="bc649-237">Por exemplo, você pode usar o hello seguindo os arquivos de log do comando toodownload Olá para operações de blob que levaram colocar em 2 de janeiro de 2015 toohello pasta `C:\Temp\Logs\Server`; substituir `<storageaccountname>` com o nome de saudação da sua conta de armazenamento e `<storageaccountkey>` com seu chave de acesso da conta:</span><span class="sxs-lookup"><span data-stu-id="bc649-237">For example, you can use hello following command toodownload hello log files for blob operations that took place on January 2, 2015 toohello folder `C:\Temp\Logs\Server`; replace `<storageaccountname>` with hello name of your storage account, and `<storageaccountkey>` with your account access key:</span></span>

```azcopy
AzCopy.exe /Source:http://<storageaccountname>.blob.core.windows.net/$logs /Dest:C:\Temp\Logs\Server /Pattern:"blob/2015/01/02" /SourceKey:<storageaccountkey> /S /V
```
<span data-ttu-id="bc649-238">AzCopy está disponível para download em Olá [Downloads do Azure](https://azure.microsoft.com/downloads/) página.</span><span class="sxs-lookup"><span data-stu-id="bc649-238">AzCopy is available for download on hello [Azure Downloads](https://azure.microsoft.com/downloads/) page.</span></span> <span data-ttu-id="bc649-239">Para obter detalhes sobre como usar AzCopy, consulte [transferir dados com o utilitário de linha de comando AzCopy de hello](storage-use-azcopy.md).</span><span class="sxs-lookup"><span data-stu-id="bc649-239">For details about using AzCopy, see [Transfer data with hello AzCopy Command-Line Utility](storage-use-azcopy.md).</span></span>

<span data-ttu-id="bc649-240">Para obter informações adicionais sobre como baixar os logs do servidor, confira [Download Storage Logging log data](http://msdn.microsoft.com/library/azure/dn782840.aspx#DownloadingStorageLogginglogdata)(Baixar dados de log do Log de Armazenamento).</span><span class="sxs-lookup"><span data-stu-id="bc649-240">For additional information about downloading server-side logs, see [Download Storage Logging log data](http://msdn.microsoft.com/library/azure/dn782840.aspx#DownloadingStorageLogginglogdata).</span></span>

## <a name="use-microsoft-message-analyzer-tooanalyze-log-data"></a><span data-ttu-id="bc649-241">Usar dados de log do Microsoft Message Analyzer tooanalyze</span><span class="sxs-lookup"><span data-stu-id="bc649-241">Use Microsoft Message Analyzer tooanalyze log data</span></span>
<span data-ttu-id="bc649-242">O Analisador de Mensagem da Microsoft é uma ferramenta para capturar, exibir e analisar o tráfego, eventos e outras mensagens de sistema ou aplicativo em cenários de diagnóstico e solução de problemas de mensagens de protocolo.</span><span class="sxs-lookup"><span data-stu-id="bc649-242">Microsoft Message Analyzer is a tool for capturing, displaying, and analyzing protocol messaging traffic, events, and other system or application messages in troubleshooting and diagnostic scenarios.</span></span> <span data-ttu-id="bc649-243">Analisador de mensagem também permite que você tooload, agregação e analisar dados de log e arquivos de rastreamento salvos.</span><span class="sxs-lookup"><span data-stu-id="bc649-243">Message Analyzer also enables you tooload, aggregate, and analyze data from log and saved trace files.</span></span> <span data-ttu-id="bc649-244">Para obter mais informações sobre o Analisador de Mensagem, consulte [Guia Operacional do Analisador de Mensagem da Microsoft](http://technet.microsoft.com/library/jj649776.aspx).</span><span class="sxs-lookup"><span data-stu-id="bc649-244">For more information about Message Analyzer, see [Microsoft Message Analyzer Operating Guide](http://technet.microsoft.com/library/jj649776.aspx).</span></span>

<span data-ttu-id="bc649-245">Analisador de mensagem inclui ativos para o armazenamento do Azure que o ajudarão a tooanalyze logs do servidor, cliente e rede.</span><span class="sxs-lookup"><span data-stu-id="bc649-245">Message Analyzer includes assets for Azure Storage that help you tooanalyze server, client, and network logs.</span></span> <span data-ttu-id="bc649-246">Nesta seção, discutiremos como toouse tooaddress essas ferramentas Olá problema de baixo percentual sucesso Olá logs de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="bc649-246">In this section, we'll discuss how toouse those tools tooaddress hello issue of low percent success in hello storage logs.</span></span>

### <a name="download-and-install-message-analyzer-and-hello-azure-storage-assets"></a><span data-ttu-id="bc649-247">Baixe e instale o analisador de mensagem e hello ativos de armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="bc649-247">Download and install Message Analyzer and hello Azure Storage Assets</span></span>
1. <span data-ttu-id="bc649-248">Baixar [Message Analyzer](http://www.microsoft.com/download/details.aspx?id=44226) de Olá Microsoft Download Center e execute o instalador de saudação.</span><span class="sxs-lookup"><span data-stu-id="bc649-248">Download [Message Analyzer](http://www.microsoft.com/download/details.aspx?id=44226) from hello Microsoft Download Center, and run hello installer.</span></span>
2. <span data-ttu-id="bc649-249">Inicie o Analisador de Mensagem.</span><span class="sxs-lookup"><span data-stu-id="bc649-249">Launch Message Analyzer.</span></span>
3. <span data-ttu-id="bc649-250">De saudação **ferramentas** menu, selecione **Asset Manager**.</span><span class="sxs-lookup"><span data-stu-id="bc649-250">From hello **Tools** menu, select **Asset Manager**.</span></span> <span data-ttu-id="bc649-251">Em Olá **Asset Manager** caixa de diálogo, selecione **Downloads**, em seguida, filtre **armazenamento do Azure**.</span><span class="sxs-lookup"><span data-stu-id="bc649-251">In hello **Asset Manager** dialog, select **Downloads**, then filter on **Azure Storage**.</span></span> <span data-ttu-id="bc649-252">Você verá Olá ativos de armazenamento do Azure, conforme mostrado na imagem de saudação abaixo.</span><span class="sxs-lookup"><span data-stu-id="bc649-252">You will see hello Azure Storage Assets, as shown in hello picture below.</span></span>
4. <span data-ttu-id="bc649-253">Clique em **sincronização de todos os itens exibidos** tooinstall Olá ativos de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="bc649-253">Click **Sync All Displayed Items** tooinstall hello Azure Storage Assets.</span></span> <span data-ttu-id="bc649-254">ativos de saudação disponíveis incluem:</span><span class="sxs-lookup"><span data-stu-id="bc649-254">hello available assets include:</span></span>
   * <span data-ttu-id="bc649-255">**Regras de cores do armazenamento do Azure:** regras de cores do armazenamento do Azure permitem que você toodefine filtros especiais que usam a cor do texto, e os estilos toohighlight mensagens que contêm informações específicas em um rastreamento.</span><span class="sxs-lookup"><span data-stu-id="bc649-255">**Azure Storage Color Rules:** Azure Storage color rules enable you toodefine special filters that use color, text, and font styles toohighlight messages that contain specific information in a trace.</span></span>
   * <span data-ttu-id="bc649-256">**Gráficos de Armazenamento do Azure:** os gráficos de Armazenamento do Azure são gráficos predefinidos que representam os dados de log do servidor.</span><span class="sxs-lookup"><span data-stu-id="bc649-256">**Azure Storage Charts:** Azure Storage charts are predefined charts that graph server log data.</span></span> <span data-ttu-id="bc649-257">Observe que toouse gráficos de armazenamento do Azure no momento, você talvez só carga log do servidor de saudação em Olá grade de análise.</span><span class="sxs-lookup"><span data-stu-id="bc649-257">Note that toouse Azure Storage charts at this time, you may only load hello server log into hello Analysis Grid.</span></span>
   * <span data-ttu-id="bc649-258">**Analisadores de armazenamento do Azure:** saudação do cliente de armazenamento do Azure analisadores análise Olá armazenamento do Azure, o servidor e o HTTP registra em log em ordem toodisplay em Olá grade de análise.</span><span class="sxs-lookup"><span data-stu-id="bc649-258">**Azure Storage Parsers:** hello Azure Storage parsers parse hello Azure Storage client, server, and HTTP logs in order toodisplay them in hello Analysis Grid.</span></span>
   * <span data-ttu-id="bc649-259">**Filtros de armazenamento do Azure:** filtros de armazenamento do Azure são critérios predefinidos que você pode usar tooquery seus dados em Olá grade de análise.</span><span class="sxs-lookup"><span data-stu-id="bc649-259">**Azure Storage Filters:** Azure Storage filters are predefined criteria that you can use tooquery your data in hello Analysis Grid.</span></span>
   * <span data-ttu-id="bc649-260">**Layouts do modo de armazenamento do Azure:** layouts do modo de armazenamento do Azure são layouts de coluna predefinidos e agrupamentos em Olá grade de análise.</span><span class="sxs-lookup"><span data-stu-id="bc649-260">**Azure Storage View Layouts:** Azure Storage view layouts are predefined column layouts and groupings in hello Analysis Grid.</span></span>
5. <span data-ttu-id="bc649-261">Reinicie o analisador de mensagem depois de instalar os ativos de saudação.</span><span class="sxs-lookup"><span data-stu-id="bc649-261">Restart Message Analyzer after you've installed hello assets.</span></span>

![Gerenciador de Ativos do Analisador de Mensagem](./media/storage-e2e-troubleshooting/mma-start-page-1.png)

> [!NOTE]
> <span data-ttu-id="bc649-263">Instale todos os ativos de armazenamento do Azure Olá mostrados para fins de saudação deste tutorial.</span><span class="sxs-lookup"><span data-stu-id="bc649-263">Install all of hello Azure Storage assets shown for hello purposes of this tutorial.</span></span>
> 
> 

### <a name="import-your-log-files-into-message-analyzer"></a><span data-ttu-id="bc649-264">Importar os arquivos de log para o Analisador de Mensagem</span><span class="sxs-lookup"><span data-stu-id="bc649-264">Import your log files into Message Analyzer</span></span>
<span data-ttu-id="bc649-265">Você pode importar todos os arquivos de log salvos (do servidor, cliente e rede) para uma única sessão do Analisador de Mensagem da Microsoft para análise.</span><span class="sxs-lookup"><span data-stu-id="bc649-265">You can import all of your saved log files (server-side, client-side, and network) into a single session in Microsoft Message Analyzer for analysis.</span></span>

1. <span data-ttu-id="bc649-266">Em Olá **arquivo** no analisador de mensagem da Microsoft, clique em **nova sessão**e, em seguida, clique em **sessão em branco**.</span><span class="sxs-lookup"><span data-stu-id="bc649-266">On hello **File** menu in Microsoft Message Analyzer, click **New Session**, and then click **Blank Session**.</span></span> <span data-ttu-id="bc649-267">Em Olá **nova sessão** caixa de diálogo, digite um nome para sua sessão de análise.</span><span class="sxs-lookup"><span data-stu-id="bc649-267">In hello **New Session** dialog, enter a name for your analysis session.</span></span> <span data-ttu-id="bc649-268">Em Olá **detalhes da sessão** do painel, clique em Olá **arquivos** botão.</span><span class="sxs-lookup"><span data-stu-id="bc649-268">In hello **Session Details** panel, click on hello **Files** button.</span></span>
2. <span data-ttu-id="bc649-269">dados de rastreamento tooload Olá rede gerados pelo analisador de mensagem, clique em **adicionar arquivos**, procurar toohello no local onde você salvou o arquivo .matp da sessão de rastreamento da web, arquivo de .matp Olá select, e clique em **abrir**.</span><span class="sxs-lookup"><span data-stu-id="bc649-269">tooload hello network trace data generated by Message Analyzer, click on **Add Files**, browse toohello location where you saved your .matp file from your web tracing session, select hello .matp file, and click **Open**.</span></span>
3. <span data-ttu-id="bc649-270">dados de log do servidor de saudação tooload, clique em **adicionar arquivos**, procure toohello local onde você baixou os logs do servidor, selecione os arquivos de log Olá para o intervalo de tempo Olá desejado tooanalyze e clique em **abrir**.</span><span class="sxs-lookup"><span data-stu-id="bc649-270">tooload hello server-side log data, click on **Add Files**, browse toohello location where you downloaded your server-side logs, select hello log files for hello time range you want tooanalyze, and click **Open**.</span></span> <span data-ttu-id="bc649-271">Em seguida, no hello **detalhes da sessão** painel, a saudação do conjunto **configuração de Log de texto** suspenso para cada arquivo de log do lado do servidor de muito**AzureStorageLog** tooensure que a Microsoft Analisador de mensagem pode analisar o arquivo de log Olá corretamente.</span><span class="sxs-lookup"><span data-stu-id="bc649-271">Then, in hello **Session Details** panel, set hello **Text Log Configuration** drop-down for each server-side log file too**AzureStorageLog** tooensure that Microsoft Message Analyzer can parse hello log file correctly.</span></span>
4. <span data-ttu-id="bc649-272">dados de log do cliente de saudação tooload, clique em **adicionar arquivos**, procure toohello local onde você salvou os logs do lado do cliente, selecione os arquivos de log Olá desejado tooanalyze e clique em **abrir**.</span><span class="sxs-lookup"><span data-stu-id="bc649-272">tooload hello client-side log data, click on **Add Files**, browse toohello location where you saved your client-side logs, select hello log files you want tooanalyze, and click **Open**.</span></span> <span data-ttu-id="bc649-273">Em seguida, no hello **detalhes da sessão** painel, a saudação do conjunto **configuração de Log de texto** suspenso para cada arquivo de log do lado do cliente muito**AzureStorageClientDotNetV4** tooensure que Microsoft Message Analyzer pode analisar o arquivo de log Olá corretamente.</span><span class="sxs-lookup"><span data-stu-id="bc649-273">Then, in hello **Session Details** panel, set hello **Text Log Configuration** drop-down for each client-side log file too**AzureStorageClientDotNetV4** tooensure that Microsoft Message Analyzer can parse hello log file correctly.</span></span>
5. <span data-ttu-id="bc649-274">Clique em **iniciar** em Olá **nova sessão** dados de log de saudação de tooload e análise de caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="bc649-274">Click **Start** in hello **New Session** dialog tooload and parse hello log data.</span></span> <span data-ttu-id="bc649-275">Exibe dados de log de saudação na grade de análise do analisador de mensagem de saudação.</span><span class="sxs-lookup"><span data-stu-id="bc649-275">hello log data displays in hello Message Analyzer Analysis Grid.</span></span>

<span data-ttu-id="bc649-276">imagem de saudação abaixo mostra uma sessão de exemplo configurada com o servidor, cliente e arquivos de log de rastreamento de rede.</span><span class="sxs-lookup"><span data-stu-id="bc649-276">hello picture below shows an example session configured with server, client, and network trace log files.</span></span>

![Configurar Sessão do Analisador de Mensagem](./media/storage-e2e-troubleshooting/configure-mma-session-1.png)

<span data-ttu-id="bc649-278">Observe que o Analisador de Mensagem carrega arquivos de log na memória.</span><span class="sxs-lookup"><span data-stu-id="bc649-278">Note that Message Analyzer loads log files into memory.</span></span> <span data-ttu-id="bc649-279">Se você tiver um grande conjunto de dados de log, você desejará toofilter na ordem tooget Olá melhor desempenho do analisador de mensagem.</span><span class="sxs-lookup"><span data-stu-id="bc649-279">If you have a large set of log data, you will want toofilter it in order tooget hello best performance from Message Analyzer.</span></span>

<span data-ttu-id="bc649-280">Primeiro, determinar o período de tempo de saudação que você está interessado em examinar e manter esse período de tempo menor possível.</span><span class="sxs-lookup"><span data-stu-id="bc649-280">First, determine hello time frame that you are interested in reviewing, and keep this time frame as small as possible.</span></span> <span data-ttu-id="bc649-281">Em muitos casos, você desejará tooreview um período de minutos ou horas no máximo.</span><span class="sxs-lookup"><span data-stu-id="bc649-281">In many cases you will want tooreview a period of minutes or hours at most.</span></span> <span data-ttu-id="bc649-282">Importe o menor conjunto Olá logs que pode atender às suas necessidades.</span><span class="sxs-lookup"><span data-stu-id="bc649-282">Import hello smallest set of logs that can meet your needs.</span></span>

<span data-ttu-id="bc649-283">Se você ainda tiver uma grande quantidade de dados de log, em seguida, convém toospecify um toofilter de filtro de sessão seus dados de log antes de carregá-lo.</span><span class="sxs-lookup"><span data-stu-id="bc649-283">If you still have a large amount of log data, then you may want toospecify a session filter toofilter your log data before you load it.</span></span> <span data-ttu-id="bc649-284">Em Olá **sessão filtro** caixa, selecione Olá **biblioteca** botão toochoose um filtro predefinido; por exemplo, escolha **Global tempo filtro I** de saudação filtros de armazenamento do Azure toofilter em um intervalo de tempo.</span><span class="sxs-lookup"><span data-stu-id="bc649-284">In hello **Session Filter** box, select hello **Library** button toochoose a predefined filter; for example, choose **Global Time Filter I** from hello Azure Storage filters toofilter on a time interval.</span></span> <span data-ttu-id="bc649-285">Você pode editar Olá filtro critérios toospecify Olá começando e terminando o carimbo de hora para o intervalo de saudação deseja toosee.</span><span class="sxs-lookup"><span data-stu-id="bc649-285">You can then edit hello filter criteria toospecify hello starting and ending timestamp for hello interval you want toosee.</span></span> <span data-ttu-id="bc649-286">Você também pode filtrar em um código de status específico; Por exemplo, você pode escolher as entradas de log somente tooload onde o código de status de saudação é 404.</span><span class="sxs-lookup"><span data-stu-id="bc649-286">You can also filter on a particular status code; for example, you can choose tooload only log entries where hello status code is 404.</span></span>

<span data-ttu-id="bc649-287">Para obter mais informações sobre como importar os dados de log para o Analisador de Mensagem da Microsoft, consulte [Recuperar Dados da Mensagem](http://technet.microsoft.com/library/dn772437.aspx) no TechNet.</span><span class="sxs-lookup"><span data-stu-id="bc649-287">For more information about importing log data into Microsoft Message Analyzer, see [Retrieving Message Data](http://technet.microsoft.com/library/dn772437.aspx) on TechNet.</span></span>

### <a name="use-hello-client-request-id-toocorrelate-log-file-data"></a><span data-ttu-id="bc649-288">Usar dados de arquivo hello cliente solicitação ID toocorrelate log</span><span class="sxs-lookup"><span data-stu-id="bc649-288">Use hello client request ID toocorrelate log file data</span></span>
<span data-ttu-id="bc649-289">Olá biblioteca de cliente de armazenamento do Azure gera automaticamente uma ID de solicitação de cliente exclusivos para cada solicitação.</span><span class="sxs-lookup"><span data-stu-id="bc649-289">hello Azure Storage Client Library automatically generates a unique client request ID for every request.</span></span> <span data-ttu-id="bc649-290">Esse valor é escrito toohello log do cliente, log de servidor de saudação e rastreamento de rede hello, para que você pode usá-lo toocorrelate dados em todos os três logs no analisador de mensagem.</span><span class="sxs-lookup"><span data-stu-id="bc649-290">This value is written toohello client log, hello server log, and hello network trace, so you can use it toocorrelate data across all three logs within Message Analyzer.</span></span> <span data-ttu-id="bc649-291">Consulte [ID de solicitação do cliente](storage-monitoring-diagnosing-troubleshooting.md#client-request-id) para obter informações adicionais sobre o cliente Olá ID da solicitação</span><span class="sxs-lookup"><span data-stu-id="bc649-291">See [Client request ID](storage-monitoring-diagnosing-troubleshooting.md#client-request-id) for additional information about hello client request ID.</span></span>

<span data-ttu-id="bc649-292">seções de saudação abaixo descrevem como toouse pré-configurado e modos de exibição de layout personalizado toocorrelate e agrupar dados com base na solicitação de cliente de saudação ID.</span><span class="sxs-lookup"><span data-stu-id="bc649-292">hello sections below describe how toouse pre-configured and custom layout views toocorrelate and group data based on hello client request ID.</span></span>

### <a name="select-a-view-layout-toodisplay-in-hello-analysis-grid"></a><span data-ttu-id="bc649-293">Selecione um toodisplay de layout do modo de exibição no hello grade de análise</span><span class="sxs-lookup"><span data-stu-id="bc649-293">Select a view layout toodisplay in hello Analysis Grid</span></span>
<span data-ttu-id="bc649-294">saudação de ativos de armazenamento para o analisador de mensagem incluir Layouts de exibição de armazenamento do Azure, são exibições pré-configurado que você pode usar toodisplay seus dados com colunas e agrupamentos útil para cenários diferentes.</span><span class="sxs-lookup"><span data-stu-id="bc649-294">hello Storage Assets for Message Analyzer include Azure Storage View Layouts, which are pre-configured views that you can use toodisplay your data with useful groupings and columns for different scenarios.</span></span> <span data-ttu-id="bc649-295">Você também pode criar layouts de modo de exibição personalizado e salvá-los para reutilização.</span><span class="sxs-lookup"><span data-stu-id="bc649-295">You can also create custom view layouts and save them for reuse.</span></span>

<span data-ttu-id="bc649-296">Olá figura abaixo mostra o hello **exibição Layout** menu, disponível ao selecionar **exibição Layout** da faixa de opções de barra de ferramentas de saudação.</span><span class="sxs-lookup"><span data-stu-id="bc649-296">hello picture below shows hello **View Layout** menu, available by selecting **View Layout** from hello toolbar ribbon.</span></span> <span data-ttu-id="bc649-297">layouts do modo Olá para o armazenamento do Azure são agrupados em Olá **armazenamento do Azure** nó no menu de saudação.</span><span class="sxs-lookup"><span data-stu-id="bc649-297">hello view layouts for Azure Storage are grouped under hello **Azure Storage** node in hello menu.</span></span> <span data-ttu-id="bc649-298">Você pode procurar `Azure Storage` no hello toofilter de caixa de pesquisa no armazenamento do Azure exiba apenas os layouts.</span><span class="sxs-lookup"><span data-stu-id="bc649-298">You can search for `Azure Storage` in hello search box toofilter on Azure Storage view layouts only.</span></span> <span data-ttu-id="bc649-299">Você também pode selecionar Olá estrela próxima tooa exibição layout toomake it um favorito e exibi-lo na parte superior de saudação do menu hello.</span><span class="sxs-lookup"><span data-stu-id="bc649-299">You can also select hello star next tooa view layout toomake it a favorite and display it at hello top of hello menu.</span></span>

![Menu Layout de Exibição](./media/storage-e2e-troubleshooting/view-layout-menu.png)

<span data-ttu-id="bc649-301">toobegin com select **agrupados por módulo e ClientRequestID**.</span><span class="sxs-lookup"><span data-stu-id="bc649-301">toobegin with, select **Grouped by ClientRequestID and Module**.</span></span> <span data-ttu-id="bc649-302">Esse layout de exibição agrupa os dados de log de todos os três logs, primeiro pela ID de solicitação do cliente, depois pelo arquivo de log de origem (ou **Módulo** no Analisador de Mensagem).</span><span class="sxs-lookup"><span data-stu-id="bc649-302">This view layout groups log data from all three logs first by client request ID, then by source log file (or **Module** in Message Analyzer).</span></span> <span data-ttu-id="bc649-303">Nesta exibição, você pode fazer uma busca detalhada em uma ID de solicitação de cliente específico e ver os dados de todos os três arquivos de log para essa ID de solicitação de cliente.</span><span class="sxs-lookup"><span data-stu-id="bc649-303">With this view, you can drill down into a particular client request ID, and see data from all three log files for that client request ID.</span></span>

<span data-ttu-id="bc649-304">imagem de saudação abaixo mostra estes layout exibir aplicado toohello log dados de exemplo, com um subconjunto de colunas exibidas.</span><span class="sxs-lookup"><span data-stu-id="bc649-304">hello picture below shows this layout view applied toohello sample log data, with a subset of columns displayed.</span></span> <span data-ttu-id="bc649-305">Você pode ver que para uma ID de solicitação de cliente específico, Olá Analysis grade exibe dados de log de saudação do cliente, o log do servidor e o rastreamento de rede.</span><span class="sxs-lookup"><span data-stu-id="bc649-305">You can see that for a particular client request ID, hello Analysis Grid displays data from hello client log, server log, and network trace.</span></span>

![Layout de Exibição do Armazenamento do Azure](./media/storage-e2e-troubleshooting/view-layout-client-request-id-module.png)

> [!NOTE]
> <span data-ttu-id="bc649-307">Arquivos de log diferentes têm diferentes colunas, para que quando os dados de vários arquivos de log são exibidos em Olá grade de análise, algumas colunas não podem conter todos os dados para uma determinada linha.</span><span class="sxs-lookup"><span data-stu-id="bc649-307">Different log files have different columns, so when data from multiple log files is displayed in hello Analysis Grid, some columns may not contain any data for a given row.</span></span> <span data-ttu-id="bc649-308">Por exemplo, na Figura Olá acima, as linhas de log do cliente não mostram nenhum dado para Olá **Timestamp**, **TimeElapsed**, **fonte**, e **dedestino** colunas, porque essas colunas não existem no log de saudação do cliente, mas existem no rastreamento de rede hello.</span><span class="sxs-lookup"><span data-stu-id="bc649-308">For example, in hello picture above, the client log rows do not show any data for hello **Timestamp**, **TimeElapsed**, **Source**, and **Destination** columns, because these columns do not exist in hello client log, but do exist in hello network trace.</span></span> <span data-ttu-id="bc649-309">Da mesma forma, Olá **Timestamp** coluna exibe dados de carimbo de hora de log do servidor de saudação, mas nenhum dado é exibido para Olá **TimeElapsed**, **fonte**, e  **Destino** colunas, que não fazem parte do log de saudação do servidor.</span><span class="sxs-lookup"><span data-stu-id="bc649-309">Similarly, hello **Timestamp** column displays timestamp data from hello server log, but no data is displayed for hello **TimeElapsed**, **Source**, and **Destination** columns, which are not part of hello server log.</span></span>
> 
> 

<span data-ttu-id="bc649-310">Além disso layouts do modo de armazenamento do Azure de saudação de toousing, também pode definir e salvar seus próprios layouts do modo de exibição.</span><span class="sxs-lookup"><span data-stu-id="bc649-310">In addition toousing hello Azure Storage view layouts, you can also define and save your own view layouts.</span></span> <span data-ttu-id="bc649-311">Você pode selecionar outros campos desejados para o agrupamento de dados e salve o agrupamento de saudação como parte de seu layout personalizado também.</span><span class="sxs-lookup"><span data-stu-id="bc649-311">You can select other desired fields for grouping data and save hello grouping as part of your custom layout as well.</span></span>

### <a name="apply-color-rules-toohello-analysis-grid"></a><span data-ttu-id="bc649-312">Aplicar regras de cor toohello grade de análise</span><span class="sxs-lookup"><span data-stu-id="bc649-312">Apply color rules toohello Analysis Grid</span></span>
<span data-ttu-id="bc649-313">Olá ativos de armazenamento também incluem regras de cor, que oferecem que um visual significa tooidentify diferentes tipos de erros em Olá grade de análise.</span><span class="sxs-lookup"><span data-stu-id="bc649-313">hello Storage Assets also include color rules, which offer a visual means tooidentify different types of errors in hello Analysis Grid.</span></span> <span data-ttu-id="bc649-314">Olá regras de cor predefinidos aplicam tooHTTP erros, para que eles aparecem somente para rastreamento de log e de rede do servidor de saudação.</span><span class="sxs-lookup"><span data-stu-id="bc649-314">hello predefined color rules apply tooHTTP errors, so they appear only for hello server log and network trace.</span></span>

<span data-ttu-id="bc649-315">regras de cores tooapply, selecione **regras de cores** da faixa de opções do hello barra de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="bc649-315">tooapply color rules, select **Color Rules** from hello toolbar ribbon.</span></span> <span data-ttu-id="bc649-316">Você verá as regras de cores de armazenamento do Azure Olá no menu de saudação.</span><span class="sxs-lookup"><span data-stu-id="bc649-316">You'll see hello Azure Storage color rules in hello menu.</span></span> <span data-ttu-id="bc649-317">Tutorial de saudação, selecione **erros de cliente (StatusCode entre 400 e 499)**, conforme mostrado na imagem de saudação abaixo.</span><span class="sxs-lookup"><span data-stu-id="bc649-317">For hello tutorial, select **Client Errors (StatusCode between 400 and 499)**, as shown in hello picture below.</span></span>

![Layout de Exibição do Armazenamento do Azure](./media/storage-e2e-troubleshooting/color-rules-menu.png)

<span data-ttu-id="bc649-319">Além disso toousing Olá armazenamento do Azure regras de cores, você também pode definir e salvar suas próprias regras de cor.</span><span class="sxs-lookup"><span data-stu-id="bc649-319">In addition toousing hello Azure Storage color rules, you can also define and save your own color rules.</span></span>

### <a name="group-and-filter-log-data-toofind-400-range-errors"></a><span data-ttu-id="bc649-320">Agrupar e filtrar dados de log toofind erros de intervalo de 400</span><span class="sxs-lookup"><span data-stu-id="bc649-320">Group and filter log data toofind 400-range errors</span></span>
<span data-ttu-id="bc649-321">Em seguida, vamos agrupar e filtrar toofind de dados de log Olá todos os erros no intervalo de saudação 400.</span><span class="sxs-lookup"><span data-stu-id="bc649-321">Next, we'll group and filter hello log data toofind all errors in hello 400 range.</span></span>

1. <span data-ttu-id="bc649-322">Localizar Olá **StatusCode** coluna Olá grade de análise, coluna de saudação atalho título e selecione **grupo**.</span><span class="sxs-lookup"><span data-stu-id="bc649-322">Locate hello **StatusCode** column in hello Analysis Grid, right-click hello column heading, and select **Group**.</span></span>
2. <span data-ttu-id="bc649-323">Em seguida, agrupa Olá **ClientRequestId** coluna.</span><span class="sxs-lookup"><span data-stu-id="bc649-323">Next, group on hello **ClientRequestId** column.</span></span> <span data-ttu-id="bc649-324">Você verá que dados Olá Olá que Analysis grade agora é organizada por status de código e por solicitação do cliente ID.</span><span class="sxs-lookup"><span data-stu-id="bc649-324">You'll see that hello data in hello Analysis Grid is now organized by status code and by client request ID.</span></span>
3. <span data-ttu-id="bc649-325">Exibir janela de ferramenta do filtro de exibição Olá se ainda não estiver sendo exibida.</span><span class="sxs-lookup"><span data-stu-id="bc649-325">Display hello View Filter tool window if it is not already displayed.</span></span> <span data-ttu-id="bc649-326">Na faixa de opções de barra de ferramentas hello, selecione **janelas de ferramentas**, em seguida, **filtro de exibição**.</span><span class="sxs-lookup"><span data-stu-id="bc649-326">On hello toolbar ribbon, select **Tool Windows**, then **View Filter**.</span></span>
4. <span data-ttu-id="bc649-327">erros toofilter Olá log dados toodisplay apenas do intervalo de 400, adicionar Olá toohello de critérios de filtro a seguir **filtro de exibição** janela e clique em **aplicar**:</span><span class="sxs-lookup"><span data-stu-id="bc649-327">toofilter hello log data toodisplay only 400-range errors, add hello following filter criteria toohello **View Filter** window, and click **Apply**:</span></span>

    ```   
    (AzureStorageLog.StatusCode >= 400 && AzureStorageLog.StatusCode <=499) || (HTTP.StatusCode >= 400 && HTTP.StatusCode <= 499)
    ```

<span data-ttu-id="bc649-328">imagem de saudação abaixo mostra os resultados de saudação desse agrupamento e o filtro.</span><span class="sxs-lookup"><span data-stu-id="bc649-328">hello picture below shows hello results of this grouping and filter.</span></span> <span data-ttu-id="bc649-329">Olá expansão **ClientRequestID** campo abaixo Olá agrupamento para o código de status 409, por exemplo, mostra uma operação que resultou no código de status.</span><span class="sxs-lookup"><span data-stu-id="bc649-329">Expanding hello **ClientRequestID** field beneath hello grouping for status code 409, for example, shows an operation that resulted in that status code.</span></span>

![Layout de Exibição do Armazenamento do Azure](./media/storage-e2e-troubleshooting/400-range-errors1.png)

<span data-ttu-id="bc649-331">Depois de aplicar esse filtro, você verá que são excluídas linhas do log de saudação do cliente, como Olá log do cliente não inclui um **StatusCode** coluna.</span><span class="sxs-lookup"><span data-stu-id="bc649-331">After applying this filter, you'll see that rows from hello client log are excluded, as hello client log does not include a **StatusCode** column.</span></span> <span data-ttu-id="bc649-332">toobegin com, vamos examinar o servidor de saudação e rede rastreamento registra toolocate 404 erros e, em seguida, retornaremos toohello cliente tooexamine Olá cliente operações de log que levaram toothem.</span><span class="sxs-lookup"><span data-stu-id="bc649-332">toobegin with, we'll review hello server and network trace logs toolocate 404 errors, and then we'll return toohello client log tooexamine hello client operations that led toothem.</span></span>

> [!NOTE]
> <span data-ttu-id="bc649-333">Você pode filtrar Olá **StatusCode** coluna e ainda exibir dados de todos os três logs, incluindo Olá log do cliente, se você adicionar uma expressão de filtro de toohello que inclui entradas de log em que o código de status de saudação é nulo.</span><span class="sxs-lookup"><span data-stu-id="bc649-333">You can filter on hello **StatusCode** column and still display data from all three logs, including hello client log, if you add an expression toohello filter that includes log entries where hello status code is null.</span></span> <span data-ttu-id="bc649-334">tooconstruct esta expressão de filtro, use:</span><span class="sxs-lookup"><span data-stu-id="bc649-334">tooconstruct this filter expression, use:</span></span>
> 
> <code>&#42;StatusCode >= 400 or !&#42;StatusCode</code>
> 
> <span data-ttu-id="bc649-335">Esse filtro retorna todas as linhas de cliente Olá log e somente as linhas do log de saudação do servidor e o log HTTP onde o código de status de saudação é maior que 400.</span><span class="sxs-lookup"><span data-stu-id="bc649-335">This filter returns all rows from hello client log and only rows from hello server log and HTTP log where hello status code is greater than 400.</span></span> <span data-ttu-id="bc649-336">Se você o aplicar layout de exibição toohello agrupada por ID de solicitação do cliente e o módulo, você pode pesquisar ou toofind de entradas de log a rolar Olá aquelas em que todos os três logs são representados.</span><span class="sxs-lookup"><span data-stu-id="bc649-336">If you apply it toohello view layout grouped by client request ID and module, you can search or scroll through hello log entries toofind ones where all three logs are represented.</span></span>   
> 
> 

### <a name="filter-log-data-toofind-404-errors"></a><span data-ttu-id="bc649-337">Filtrar dados de log toofind 404 erros</span><span class="sxs-lookup"><span data-stu-id="bc649-337">Filter log data toofind 404 errors</span></span>
<span data-ttu-id="bc649-338">Olá ativos de armazenamento incluem filtros predefinidos que você pode usar toonarrow erros de saudação de toofind de dados de log ou tendências que você está procurando.</span><span class="sxs-lookup"><span data-stu-id="bc649-338">hello Storage Assets include predefined filters that you can use toonarrow log data toofind hello errors or trends you are looking for.</span></span> <span data-ttu-id="bc649-339">Em seguida, podemos vai aplicar dois filtros predefinidos: uma que filtra o servidor de saudação e logs de rastreamento de rede para 404 erros e outra que filtra dados Olá em um intervalo de tempo especificado.</span><span class="sxs-lookup"><span data-stu-id="bc649-339">Next, we'll apply two predefined filters: one that filters hello server and network trace logs for 404 errors, and one that filters hello data on a specified time range.</span></span>

1. <span data-ttu-id="bc649-340">Exibir janela de ferramenta do filtro de exibição Olá se ainda não estiver sendo exibida.</span><span class="sxs-lookup"><span data-stu-id="bc649-340">Display hello View Filter tool window if it is not already displayed.</span></span> <span data-ttu-id="bc649-341">Na faixa de opções de barra de ferramentas hello, selecione **janelas de ferramentas**, em seguida, **filtro de exibição**.</span><span class="sxs-lookup"><span data-stu-id="bc649-341">On hello toolbar ribbon, select **Tool Windows**, then **View Filter**.</span></span>
2. <span data-ttu-id="bc649-342">Na janela de filtro de exibição hello, selecione **biblioteca**e pesquisar `Azure Storage` Olá toofind filtros de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="bc649-342">In hello View Filter window, select **Library**, and search on `Azure Storage` toofind hello Azure Storage filters.</span></span> <span data-ttu-id="bc649-343">Filtro de saudação Select para **404 (não encontrado) de mensagens em todos os logs**.</span><span class="sxs-lookup"><span data-stu-id="bc649-343">Select hello filter for **404 (Not Found) messages in all logs**.</span></span>
3. <span data-ttu-id="bc649-344">Saudação de exibição **biblioteca** menu novamente, localize e selecione Olá **filtro de tempo Global**.</span><span class="sxs-lookup"><span data-stu-id="bc649-344">Display hello **Library** menu again, and locate and select hello **Global Time Filter**.</span></span>
4. <span data-ttu-id="bc649-345">Edite os carimbos de hora Olá mostrados no intervalo de toohello filtro Olá que desejar tooview.</span><span class="sxs-lookup"><span data-stu-id="bc649-345">Edit hello timestamps shown in hello filter toohello range you wish tooview.</span></span> <span data-ttu-id="bc649-346">Isso ajudará o intervalo de saudação do toonarrow de tooanalyze de dados.</span><span class="sxs-lookup"><span data-stu-id="bc649-346">This will help toonarrow hello range of data tooanalyze.</span></span>
5. <span data-ttu-id="bc649-347">O filtro deve aparecer semelhante toohello exemplo a seguir.</span><span class="sxs-lookup"><span data-stu-id="bc649-347">Your filter should appear similar toohello example below.</span></span> <span data-ttu-id="bc649-348">Clique em **aplicar** tooapply Olá filtro toohello grade de análise.</span><span class="sxs-lookup"><span data-stu-id="bc649-348">Click **Apply** tooapply hello filter toohello Analysis Grid.</span></span>

    ```   
    ((AzureStorageLog.StatusCode == 404 || HTTP.StatusCode == 404)) And
    (#Timestamp >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39)
    ```

    ![Layout de Exibição do Armazenamento do Azure](./media/storage-e2e-troubleshooting/404-filtered-errors1.png)

### <a name="analyze-your-log-data"></a><span data-ttu-id="bc649-350">Analisar os dados de log</span><span class="sxs-lookup"><span data-stu-id="bc649-350">Analyze your log data</span></span>
<span data-ttu-id="bc649-351">Agora que agrupadas e filtrar os dados, você pode examinar os detalhes de saudação de solicitações individuais que geraram 404 erros.</span><span class="sxs-lookup"><span data-stu-id="bc649-351">Now that you have grouped and filtered your data, you can examine hello details of individual requests that generated 404 errors.</span></span> <span data-ttu-id="bc649-352">No layout de exibição atual hello, dados de saudação são agrupados por ID de solicitação do cliente, em seguida, pela fonte de log.</span><span class="sxs-lookup"><span data-stu-id="bc649-352">In hello current view layout, hello data is grouped by client request ID, then by log source.</span></span> <span data-ttu-id="bc649-353">Desde que nós estamos filtrando em solicitações onde o campo de StatusCode Olá contém 404, veremos apenas servidor hello e dados de rastreamento de rede, não Olá cliente dados de log.</span><span class="sxs-lookup"><span data-stu-id="bc649-353">Since we are filtering on requests where hello StatusCode field contains 404, we'll see only hello server and network trace data, not hello client log data.</span></span>

<span data-ttu-id="bc649-354">imagem de saudação abaixo mostra uma solicitação específica em que uma operação obter Blob gerou 404 porque não existia blob hello.</span><span class="sxs-lookup"><span data-stu-id="bc649-354">hello picture below shows a specific request where a Get Blob operation yielded a 404 because hello blob did not exist.</span></span> <span data-ttu-id="bc649-355">Observe que algumas colunas foram removidas do modo de exibição padrão nos dados relevantes do pedido toodisplay Olá Olá.</span><span class="sxs-lookup"><span data-stu-id="bc649-355">Note that some columns have been removed from hello standard view in order toodisplay hello relevant data.</span></span>

![Logs de Rastreamento Filtrados do Servidor e da Rede](./media/storage-e2e-troubleshooting/server-filtered-404-error.png)

<span data-ttu-id="bc649-357">Em seguida, vai correlacionamos essa ID de solicitação do cliente com hello toosee de dados de log de cliente que cliente de saudação ações estava demorando quando ocorreu um erro de saudação.</span><span class="sxs-lookup"><span data-stu-id="bc649-357">Next, we'll correlate this client request ID with hello client log data toosee what actions hello client was taking when hello error happened.</span></span> <span data-ttu-id="bc649-358">Você pode exibir uma nova exibição de grade de análise para estas sessão tooview Olá log dados do cliente, que é aberto em uma segunda guia:</span><span class="sxs-lookup"><span data-stu-id="bc649-358">You can display a new Analysis Grid view for this session tooview hello client log data, which opens in a second tab:</span></span>

1. <span data-ttu-id="bc649-359">Primeiro, copie o valor de saudação do hello **ClientRequestId** área de transferência do campo toohello.</span><span class="sxs-lookup"><span data-stu-id="bc649-359">First, copy hello value of hello **ClientRequestId** field toohello clipboard.</span></span> <span data-ttu-id="bc649-360">Você pode fazer isso marcando ou linha, localizando Olá **ClientRequestId** campo, clicando duas vezes no valor dos dados hello e escolhendo **cópia 'ClientRequestId'**.</span><span class="sxs-lookup"><span data-stu-id="bc649-360">You can do this by selecting either row, locating hello **ClientRequestId** field, right-clicking on hello data value, and choosing **Copy 'ClientRequestId'**.</span></span>
2. <span data-ttu-id="bc649-361">Na faixa de opções de barra de ferramentas hello, selecione **novo Visualizador**, em seguida, selecione **Analysis grade** tooopen uma nova guia do novo guia Olá mostra todos os dados nos arquivos de log, sem agrupamento, filtragem ou regras de cores.</span><span class="sxs-lookup"><span data-stu-id="bc649-361">On hello toolbar ribbon, select **New Viewer**, then select **Analysis Grid** tooopen a new tab. hello new tab shows all data in your log files, without grouping, filtering, or color rules.</span></span>
3. <span data-ttu-id="bc649-362">Na faixa de opções de barra de ferramentas hello, selecione **exibição Layout**, em seguida, selecione **todas as colunas de cliente .NET** em Olá **armazenamento do Azure** seção.</span><span class="sxs-lookup"><span data-stu-id="bc649-362">On hello toolbar ribbon, select **View Layout**, then select **All .NET Client Columns** under hello **Azure Storage** section.</span></span> <span data-ttu-id="bc649-363">Este layout de exibição mostra dados de log de saudação do cliente, bem como Olá logs de rastreamento de rede e o servidor.</span><span class="sxs-lookup"><span data-stu-id="bc649-363">This view layout shows data from hello client log as well as hello server and network trace logs.</span></span> <span data-ttu-id="bc649-364">Por padrão, ela é classificada em Olá **MessageNumber** coluna.</span><span class="sxs-lookup"><span data-stu-id="bc649-364">By default it is sorted on hello **MessageNumber** column.</span></span>
4. <span data-ttu-id="bc649-365">Em seguida, procure o log de cliente Olá Olá ID de solicitação de cliente</span><span class="sxs-lookup"><span data-stu-id="bc649-365">Next, search hello client log for hello client request ID.</span></span> <span data-ttu-id="bc649-366">Na faixa de opções de barra de ferramentas hello, selecione **encontrar mensagens**, em seguida, especifique um filtro personalizado na ID de solicitação de cliente de saudação do hello **localizar** campo.</span><span class="sxs-lookup"><span data-stu-id="bc649-366">On hello toolbar ribbon, select **Find Messages**, then specify a custom filter on hello client request ID in hello **Find** field.</span></span> <span data-ttu-id="bc649-367">Use esta sintaxe para filtro hello, especificando sua ID de solicitação do cliente:</span><span class="sxs-lookup"><span data-stu-id="bc649-367">Use this syntax for hello filter, specifying your own client request ID:</span></span>

    ```
    *ClientRequestId == "398bac41-7725-484b-8a69-2a9e48fc669a"
    ```

<span data-ttu-id="bc649-368">Analisador de mensagem localiza e seleciona Olá primeira entrada de log em que os critérios de pesquisa Olá corresponde Olá ID de solicitação de cliente</span><span class="sxs-lookup"><span data-stu-id="bc649-368">Message Analyzer locates and selects hello first log entry where hello search criteria matches hello client request ID.</span></span> <span data-ttu-id="bc649-369">No log de cliente hello, existem várias entradas para cada ID de solicitação do cliente, portanto, talvez você queira toogroup-los em hello **ClientRequestId** toomake de campo-lo mais fácil toosee-los todos juntos.</span><span class="sxs-lookup"><span data-stu-id="bc649-369">In hello client log, there are several entries for each client request ID, so you may want toogroup them on hello **ClientRequestId** field toomake it easier toosee them all together.</span></span> <span data-ttu-id="bc649-370">imagem Olá abaixo mostra todas as mensagens de saudação no cliente de saudação de log para Olá especificado a ID de solicitação do cliente.</span><span class="sxs-lookup"><span data-stu-id="bc649-370">hello picture below shows all of hello messages in hello client log for hello specified client request ID.</span></span>

![Log do cliente mostrando erros 404](./media/storage-e2e-troubleshooting/client-log-analysis-grid1.png)

<span data-ttu-id="bc649-372">Usando dados Olá mostrados em layouts de exibição Olá nessas duas guias, você pode analisar Olá toodetermine de dados de solicitação que pode ter causado o erro hello.</span><span class="sxs-lookup"><span data-stu-id="bc649-372">Using hello data shown in hello view layouts in these two tabs, you can analyze hello request data toodetermine what may have caused hello error.</span></span> <span data-ttu-id="bc649-373">Você também pode examinar solicitações que antecederam esse um toosee se um evento anterior talvez possam ter levado erro 404 toohello.</span><span class="sxs-lookup"><span data-stu-id="bc649-373">You can also look at requests that preceded this one toosee if a previous event may have led toohello 404 error.</span></span> <span data-ttu-id="bc649-374">Por exemplo, você pode examinar as entradas de log do cliente Olá anterior neste toodetermine de ID de solicitação do cliente se o blob Olá pode ter sido excluído, ou se o erro Olá venceu toohello aplicativo de cliente chamar uma API CreateIfNotExists em um contêiner ou blob.</span><span class="sxs-lookup"><span data-stu-id="bc649-374">For example, you can review hello client log entries preceding this client request ID toodetermine whether hello blob may have been deleted, or if hello error was due toohello client application calling a CreateIfNotExists API on a container or blob.</span></span> <span data-ttu-id="bc649-375">No log de cliente Olá, você pode encontrar o endereço de saudação do blob no hello **descrição** campo; no servidor de saudação e logs de rastreamento de rede, essas informações aparecem no hello **resumo** campo.</span><span class="sxs-lookup"><span data-stu-id="bc649-375">In hello client log, you can find hello blob's address in hello **Description** field; in hello server and network trace logs, this information appears in hello **Summary** field.</span></span>

<span data-ttu-id="bc649-376">Depois que você sabe o endereço de saudação do blob de saudação que gerou o erro 404 de saudação, você poderá investigar mais.</span><span class="sxs-lookup"><span data-stu-id="bc649-376">Once you know hello address of hello blob that yielded hello 404 error, you can investigate further.</span></span> <span data-ttu-id="bc649-377">Se você pesquisar entradas de log de saudação para outras mensagens associadas com operações em Olá mesmo blob, você pode verificar se o cliente Olá excluído anteriormente entidade hello.</span><span class="sxs-lookup"><span data-stu-id="bc649-377">If you search hello log entries for other messages associated with operations on hello same blob, you can check whether hello client previously deleted hello entity.</span></span>

## <a name="analyze-other-types-of-storage-errors"></a><span data-ttu-id="bc649-378">Analisar outros tipos de erros de armazenamento</span><span class="sxs-lookup"><span data-stu-id="bc649-378">Analyze other types of storage errors</span></span>
<span data-ttu-id="bc649-379">Agora que você estiver familiarizado com o analisador de mensagem tooanalyze seus dados de log, você pode analisar outros tipos de erros usando o modo de exibição de pesquisa/filtragem, regras de cores e layouts.</span><span class="sxs-lookup"><span data-stu-id="bc649-379">Now that you are familiar with using Message Analyzer tooanalyze your log data, you can analyze other types of errors using view layouts, color rules, and searching/filtering.</span></span> <span data-ttu-id="bc649-380">Olá tabelas abaixo lista alguns problemas que você pode encontrar e Olá critérios de filtro, você pode usar toolocate-los.</span><span class="sxs-lookup"><span data-stu-id="bc649-380">hello tables below lists some issues you may encounter and hello filter criteria you can use toolocate them.</span></span> <span data-ttu-id="bc649-381">Para obter mais informações sobre como construir filtros e o analisador de mensagem de saudação filtragem de idioma, consulte [filtrando dados de mensagem](http://technet.microsoft.com/library/jj819365.aspx).</span><span class="sxs-lookup"><span data-stu-id="bc649-381">For more information on constructing filters and hello Message Analyzer filtering language, see [Filtering Message Data](http://technet.microsoft.com/library/jj819365.aspx).</span></span>

| <span data-ttu-id="bc649-382">tooInvestigate...</span><span class="sxs-lookup"><span data-stu-id="bc649-382">tooInvestigate…</span></span> | <span data-ttu-id="bc649-383">Use a Expressão do Filtro...</span><span class="sxs-lookup"><span data-stu-id="bc649-383">Use Filter Expression…</span></span> | <span data-ttu-id="bc649-384">Expressão aplica-se tooLog (cliente, servidor, rede, todos)</span><span class="sxs-lookup"><span data-stu-id="bc649-384">Expression Applies tooLog (Client, Server,   Network, All)</span></span> |
| --- | --- | --- |
| <span data-ttu-id="bc649-385">Atrasos inesperados na entrega de mensagens em uma fila</span><span class="sxs-lookup"><span data-stu-id="bc649-385">Unexpected delays in message delivery on a queue</span></span> |<span data-ttu-id="bc649-386">AzureStorageClientDotNetV4.Description contém "Repetindo a operação que falhou".</span><span class="sxs-lookup"><span data-stu-id="bc649-386">AzureStorageClientDotNetV4.Description   contains "Retrying failed operation."</span></span> |<span data-ttu-id="bc649-387">Cliente</span><span class="sxs-lookup"><span data-stu-id="bc649-387">Client</span></span> |
| <span data-ttu-id="bc649-388">Aumento de HTTP no PercentThrottlingError</span><span class="sxs-lookup"><span data-stu-id="bc649-388">HTTP Increase in PercentThrottlingError</span></span> |<span data-ttu-id="bc649-389">HTTP.Response.StatusCode   == 500 &#124;&#124; HTTP.Response.StatusCode == 503</span><span class="sxs-lookup"><span data-stu-id="bc649-389">HTTP.Response.StatusCode   == 500 &#124;&#124; HTTP.Response.StatusCode == 503</span></span> |<span data-ttu-id="bc649-390">Rede</span><span class="sxs-lookup"><span data-stu-id="bc649-390">Network</span></span> |
| <span data-ttu-id="bc649-391">Aumento em PercentTimeoutError</span><span class="sxs-lookup"><span data-stu-id="bc649-391">Increase in PercentTimeoutError</span></span> |<span data-ttu-id="bc649-392">HTTP.Response.StatusCode   == 500</span><span class="sxs-lookup"><span data-stu-id="bc649-392">HTTP.Response.StatusCode   == 500</span></span> |<span data-ttu-id="bc649-393">Rede</span><span class="sxs-lookup"><span data-stu-id="bc649-393">Network</span></span> |
| <span data-ttu-id="bc649-394">Aumento em PercentTimeoutError (todos)</span><span class="sxs-lookup"><span data-stu-id="bc649-394">Increase in PercentTimeoutError (all)</span></span> |<span data-ttu-id="bc649-395">*StatusCode   == 500</span><span class="sxs-lookup"><span data-stu-id="bc649-395">*StatusCode   == 500</span></span> |<span data-ttu-id="bc649-396">Todos</span><span class="sxs-lookup"><span data-stu-id="bc649-396">All</span></span> |
| <span data-ttu-id="bc649-397">Aumento em PercentNetworkError</span><span class="sxs-lookup"><span data-stu-id="bc649-397">Increase in PercentNetworkError</span></span> |<span data-ttu-id="bc649-398">AzureStorageClientDotNetV4.EventLogEntry.Level   < 2</span><span class="sxs-lookup"><span data-stu-id="bc649-398">AzureStorageClientDotNetV4.EventLogEntry.Level   < 2</span></span> |<span data-ttu-id="bc649-399">Cliente</span><span class="sxs-lookup"><span data-stu-id="bc649-399">Client</span></span> |
| <span data-ttu-id="bc649-400">Mensagens HTTP 403 (Proibido)</span><span class="sxs-lookup"><span data-stu-id="bc649-400">HTTP 403 (Forbidden) messages</span></span> |<span data-ttu-id="bc649-401">HTTP.Response.StatusCode   == 403</span><span class="sxs-lookup"><span data-stu-id="bc649-401">HTTP.Response.StatusCode   == 403</span></span> |<span data-ttu-id="bc649-402">Rede</span><span class="sxs-lookup"><span data-stu-id="bc649-402">Network</span></span> |
| <span data-ttu-id="bc649-403">Mensagens HTTP 404 (Não encontrado)</span><span class="sxs-lookup"><span data-stu-id="bc649-403">HTTP 404 (Not found) messages</span></span> |<span data-ttu-id="bc649-404">HTTP.Response.StatusCode   == 404</span><span class="sxs-lookup"><span data-stu-id="bc649-404">HTTP.Response.StatusCode   == 404</span></span> |<span data-ttu-id="bc649-405">Rede</span><span class="sxs-lookup"><span data-stu-id="bc649-405">Network</span></span> |
| <span data-ttu-id="bc649-406">404 (todos)</span><span class="sxs-lookup"><span data-stu-id="bc649-406">404 (all)</span></span> |<span data-ttu-id="bc649-407">*StatusCode   == 404</span><span class="sxs-lookup"><span data-stu-id="bc649-407">*StatusCode   == 404</span></span> |<span data-ttu-id="bc649-408">Todos</span><span class="sxs-lookup"><span data-stu-id="bc649-408">All</span></span> |
| <span data-ttu-id="bc649-409">Problema de autorização de SAS (Assinatura de Acesso Compartilhado)</span><span class="sxs-lookup"><span data-stu-id="bc649-409">Shared Access Signature (SAS) authorization issue</span></span> |<span data-ttu-id="bc649-410">AzureStorageLog.RequestStatus ==  "SASAuthorizationError"</span><span class="sxs-lookup"><span data-stu-id="bc649-410">AzureStorageLog.RequestStatus ==  "SASAuthorizationError"</span></span> |<span data-ttu-id="bc649-411">Rede</span><span class="sxs-lookup"><span data-stu-id="bc649-411">Network</span></span> |
| <span data-ttu-id="bc649-412">Mensagens HTTP 409 (Conflito)</span><span class="sxs-lookup"><span data-stu-id="bc649-412">HTTP 409 (Conflict) messages</span></span> |<span data-ttu-id="bc649-413">HTTP.Response.StatusCode   == 409</span><span class="sxs-lookup"><span data-stu-id="bc649-413">HTTP.Response.StatusCode   == 409</span></span> |<span data-ttu-id="bc649-414">Rede</span><span class="sxs-lookup"><span data-stu-id="bc649-414">Network</span></span> |
| <span data-ttu-id="bc649-415">409 (todos)</span><span class="sxs-lookup"><span data-stu-id="bc649-415">409 (all)</span></span> |<span data-ttu-id="bc649-416">*StatusCode   == 409</span><span class="sxs-lookup"><span data-stu-id="bc649-416">*StatusCode   == 409</span></span> |<span data-ttu-id="bc649-417">Todos</span><span class="sxs-lookup"><span data-stu-id="bc649-417">All</span></span> |
| <span data-ttu-id="bc649-418">Baixo PercentSuccess ou as entradas de log analíticas têm operações com status de transação de ClientOtherErrors</span><span class="sxs-lookup"><span data-stu-id="bc649-418">Low PercentSuccess or analytics log entries have   operations with transaction status of ClientOtherErrors</span></span> |<span data-ttu-id="bc649-419">AzureStorageLog.RequestStatus ==   "ClientOtherError"</span><span class="sxs-lookup"><span data-stu-id="bc649-419">AzureStorageLog.RequestStatus ==   "ClientOtherError"</span></span> |<span data-ttu-id="bc649-420">Servidor</span><span class="sxs-lookup"><span data-stu-id="bc649-420">Server</span></span> |
| <span data-ttu-id="bc649-421">Aviso Nagle</span><span class="sxs-lookup"><span data-stu-id="bc649-421">Nagle   Warning</span></span> |<span data-ttu-id="bc649-422">((AzureStorageLog.EndToEndLatencyMS   - AzureStorageLog.ServerLatencyMS) > (AzureStorageLog.ServerLatencyMS *   1.5)) and (AzureStorageLog.RequestPacketSize <1460) and (AzureStorageLog.EndToEndLatencyMS -   AzureStorageLog.ServerLatencyMS >= 200)</span><span class="sxs-lookup"><span data-stu-id="bc649-422">((AzureStorageLog.EndToEndLatencyMS   - AzureStorageLog.ServerLatencyMS) > (AzureStorageLog.ServerLatencyMS *   1.5)) and (AzureStorageLog.RequestPacketSize <1460) and (AzureStorageLog.EndToEndLatencyMS -   AzureStorageLog.ServerLatencyMS >= 200)</span></span> |<span data-ttu-id="bc649-423">Servidor</span><span class="sxs-lookup"><span data-stu-id="bc649-423">Server</span></span> |
| <span data-ttu-id="bc649-424">Intervalo de horas nos logs de Servidor e Rede</span><span class="sxs-lookup"><span data-stu-id="bc649-424">Range of   time in Server and Network logs</span></span> |<span data-ttu-id="bc649-425">#Timestamp   >= 2014-10-20T16:36:38 e #Timestamp <= 2014-10-20T16:36:39</span><span class="sxs-lookup"><span data-stu-id="bc649-425">#Timestamp   >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39</span></span> |<span data-ttu-id="bc649-426">Servidor, Rede</span><span class="sxs-lookup"><span data-stu-id="bc649-426">Server, Network</span></span> |
| <span data-ttu-id="bc649-427">Intervalo de horas nos logs de Servidor</span><span class="sxs-lookup"><span data-stu-id="bc649-427">Range of   time in Server logs</span></span> |<span data-ttu-id="bc649-428">AzureStorageLog.Timestamp   >= 2014-10-20T16:36:38 e AzureStorageLog.Timestamp <=   2014-10-20T16:36:39</span><span class="sxs-lookup"><span data-stu-id="bc649-428">AzureStorageLog.Timestamp   >= 2014-10-20T16:36:38 and AzureStorageLog.Timestamp <=   2014-10-20T16:36:39</span></span> |<span data-ttu-id="bc649-429">Servidor</span><span class="sxs-lookup"><span data-stu-id="bc649-429">Server</span></span> |

## <a name="next-steps"></a><span data-ttu-id="bc649-430">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="bc649-430">Next steps</span></span>
<span data-ttu-id="bc649-431">Para obter mais informações sobre cenários de ponta a ponta para solução de problemas no Armazenamento do Azure, consulte estes recursos:</span><span class="sxs-lookup"><span data-stu-id="bc649-431">For more information about troubleshooting end-to-end scenarios in Azure Storage, see these resources:</span></span>

* [<span data-ttu-id="bc649-432">Monitoramento, diagnóstico e solução de problemas de Armazenamento do Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="bc649-432">Monitor, diagnose, and troubleshoot Microsoft Azure Storage</span></span>](storage-monitoring-diagnosing-troubleshooting.md)
* [<span data-ttu-id="bc649-433">Análise de Armazenamento</span><span class="sxs-lookup"><span data-stu-id="bc649-433">Storage Analytics</span></span>](http://msdn.microsoft.com/library/azure/hh343270.aspx)
* [<span data-ttu-id="bc649-434">Monitorar uma conta de armazenamento Olá portal do Azure</span><span class="sxs-lookup"><span data-stu-id="bc649-434">Monitor a storage account in hello Azure portal</span></span>](storage-monitor-storage-account.md)
* [<span data-ttu-id="bc649-435">Transferência de dados com hello AzCopy utilitário de linha de comando</span><span class="sxs-lookup"><span data-stu-id="bc649-435">Transfer data with hello AzCopy Command-Line Utility</span></span>](storage-use-azcopy.md)
* [<span data-ttu-id="bc649-436">Guia Operacional do Analisador de Mensagem da Microsoft</span><span class="sxs-lookup"><span data-stu-id="bc649-436">Microsoft Message Analyzer Operating Guide</span></span>](http://technet.microsoft.com/library/jj649776.aspx)
