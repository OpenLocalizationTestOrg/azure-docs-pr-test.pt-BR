---
title: 'Armazenamento Premium do Azure: projetado para desempenho | Microsoft Docs'
description: "Crie aplicativos de alto desempenho usando o Armazenamento Premium do Azure. O Armazenamento Premium dá suporte ao disco de alto desempenho e baixa latência para cargas de trabalho que usam muita E/S em execução em máquinas virtuais do Azure."
services: storage
documentationcenter: na
author: aungoo-msft
manager: tadb
editor: tysonn
ms.assetid: e6a409c3-d31a-4704-a93c-0a04fdc95960
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/27/2017
ms.author: aungoo
ms.openlocfilehash: dde3e60ae4c8387150b65f0715166b5d549891e3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-premium-storage-design-for-high-performance"></a><span data-ttu-id="9a70b-104">Armazenamento Premium do Azure: projeto para alto desempenho</span><span class="sxs-lookup"><span data-stu-id="9a70b-104">Azure Premium Storage: Design for High Performance</span></span>
## <a name="overview"></a><span data-ttu-id="9a70b-105">Visão geral</span><span class="sxs-lookup"><span data-stu-id="9a70b-105">Overview</span></span>
<span data-ttu-id="9a70b-106">Este artigo fornece diretrizes para a criação de aplicativos de alto desempenho usando o Armazenamento Premium do Azure.</span><span class="sxs-lookup"><span data-stu-id="9a70b-106">This article provides guidelines for building high performance applications using Azure Premium Storage.</span></span> <span data-ttu-id="9a70b-107">Você pode usar instruções Olá fornecidas neste documento combinado com desempenho melhores práticas aplicável tootechnologies usados pelo seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-107">You can use hello instructions provided in this document combined with performance best practices applicable tootechnologies used by your application.</span></span> <span data-ttu-id="9a70b-108">diretrizes de saudação tooillustrate, usamos SQL Server em execução no armazenamento Premium como exemplo neste documento.</span><span class="sxs-lookup"><span data-stu-id="9a70b-108">tooillustrate hello guidelines, we have used SQL Server running on Premium Storage as an example throughout this document.</span></span>

<span data-ttu-id="9a70b-109">Enquanto estamos abordam cenários de desempenho para a camada de armazenamento Olá neste artigo, você precisará de camada de aplicativo hello toooptimize.</span><span class="sxs-lookup"><span data-stu-id="9a70b-109">While we address performance scenarios for hello Storage layer in this article, you will need toooptimize hello application layer.</span></span> <span data-ttu-id="9a70b-110">Por exemplo, se você estiver hospedando um Farm do SharePoint no armazenamento do Azure Premium, você pode usar exemplos do SQL Server Olá deste servidor de banco de dados do artigo toooptimize hello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-110">For example, if you are hosting a SharePoint Farm on Azure Premium Storage, you can use hello SQL Server examples from this article toooptimize hello database server.</span></span> <span data-ttu-id="9a70b-111">Além disso, otimize o servidor de Web do Farm do SharePoint hello e saudação do aplicativo servidor tooget a maioria dos desempenho.</span><span class="sxs-lookup"><span data-stu-id="9a70b-111">Additionally, optimize hello SharePoint Farm's Web server and Application server tooget hello most performance.</span></span>

<span data-ttu-id="9a70b-112">Este artigo ajudará a responder às perguntas comuns a seguir sobre como otimizar o desempenho de aplicativos no Armazenamento Premium do Azure.</span><span class="sxs-lookup"><span data-stu-id="9a70b-112">This article will help answer following common questions about optimizing application performance on Azure Premium Storage,</span></span>

* <span data-ttu-id="9a70b-113">Como toomeasure o desempenho do aplicativo?</span><span class="sxs-lookup"><span data-stu-id="9a70b-113">How toomeasure your application performance?</span></span>  
* <span data-ttu-id="9a70b-114">Por que você não está vendo o alto desempenho esperado?</span><span class="sxs-lookup"><span data-stu-id="9a70b-114">Why are you not seeing expected high performance?</span></span>  
* <span data-ttu-id="9a70b-115">Quais fatores influenciam o desempenho do aplicativo no Armazenamento Premium?</span><span class="sxs-lookup"><span data-stu-id="9a70b-115">Which factors influence your application performance on Premium Storage?</span></span>  
* <span data-ttu-id="9a70b-116">Como esses fatores influenciam o desempenho do aplicativo no Armazenamento Premium?</span><span class="sxs-lookup"><span data-stu-id="9a70b-116">How do these factors influence performance of your application on Premium Storage?</span></span>  
* <span data-ttu-id="9a70b-117">Como você pode otimizar para IOPS, Largura de Banda e Latência?</span><span class="sxs-lookup"><span data-stu-id="9a70b-117">How can you optimize for IOPS, Bandwidth and Latency?</span></span>  

<span data-ttu-id="9a70b-118">Fornecemos estas diretrizes especificamente para Armazenamento Premium porque as cargas de trabalho em execução no Armazenamento Premium são altamente sensíveis ao desempenho.</span><span class="sxs-lookup"><span data-stu-id="9a70b-118">We have provided these guidelines specifically for Premium Storage because workloads running on Premium Storage are highly performance sensitive.</span></span> <span data-ttu-id="9a70b-119">Fornecemos exemplos onde apropriado.</span><span class="sxs-lookup"><span data-stu-id="9a70b-119">We have provided examples where appropriate.</span></span> <span data-ttu-id="9a70b-120">Você também pode aplicar alguns desses tooapplications diretrizes em execução em VMs de IaaS com discos de armazenamento padrão.</span><span class="sxs-lookup"><span data-stu-id="9a70b-120">You can also apply some of these guidelines tooapplications running on IaaS VMs with Standard Storage disks.</span></span>

<span data-ttu-id="9a70b-121">Antes de começar, se você estiver tooPremium novo armazenamento, leia primeiro Olá [armazenamento Premium: armazenamento de alto desempenho para cargas de trabalho de máquina Virtual do Azure](../storage-premium-storage.md) e [escalabilidade do armazenamento do Azure e metas de desempenho](storage-scalability-targets.md)artigos.</span><span class="sxs-lookup"><span data-stu-id="9a70b-121">Before you begin, if you are new tooPremium Storage, first read hello [Premium Storage: High-Performance Storage for Azure Virtual Machine Workloads](../storage-premium-storage.md) and [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md) articles.</span></span>

## <a name="application-performance-indicators"></a><span data-ttu-id="9a70b-122">Indicadores de desempenho de aplicativo</span><span class="sxs-lookup"><span data-stu-id="9a70b-122">Application Performance Indicators</span></span>
<span data-ttu-id="9a70b-123">Podemos avaliar se um aplicativo está executando o bem ou não usar como indicadores de desempenho, rapidez um aplicativo está processando uma solicitação de usuário, a quantidade de dados está processando um aplicativo por solicitação, quantas solicitações é um aplicativo de processamento em uma determinada período de tempo, quanto tempo que um usuário tiver uma resposta toowait tooget depois de enviar a solicitação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-123">We assess whether an application is performing well or not using performance indicators like, how fast an application is processing a user request, how much data an application is processing per request, how many requests is an application processing in a specific period of time, how long a user has toowait tooget a response after submitting their request.</span></span> <span data-ttu-id="9a70b-124">termos de saudação técnico para esses indicadores de desempenho são IOPS, taxa de transferência ou largura de banda e latência.</span><span class="sxs-lookup"><span data-stu-id="9a70b-124">hello technical terms for these performance indicators are, IOPS, Throughput or Bandwidth, and Latency.</span></span>

<span data-ttu-id="9a70b-125">Nesta seção, discutiremos indicadores de desempenho comuns Olá no contexto de saudação do armazenamento Premium.</span><span class="sxs-lookup"><span data-stu-id="9a70b-125">In this section, we will discuss hello common performance indicators in hello context of Premium Storage.</span></span> <span data-ttu-id="9a70b-126">Olá a seção seguinte, reunir os requisitos de aplicativo, você aprenderá como toomeasure esses indicadores de desempenho para o seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-126">In hello following section, Gathering Application Requirements, you will learn how toomeasure these performance indicators for your application.</span></span> <span data-ttu-id="9a70b-127">Mais tarde otimizando o desempenho do aplicativo, você aprenderá sobre fatores de saudação que afetam essas toooptimize de indicadores e recomendações de desempenho-los.</span><span class="sxs-lookup"><span data-stu-id="9a70b-127">Later in Optimizing Application Performance, you will learn about hello factors affecting these performance indicators and recommendations toooptimize them.</span></span>

## <a name="iops"></a><span data-ttu-id="9a70b-128">IOPS</span><span class="sxs-lookup"><span data-stu-id="9a70b-128">IOPS</span></span>
<span data-ttu-id="9a70b-129">IOPS é o número de solicitações que seu aplicativo está enviando toohello discos de armazenamento em um segundo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-129">IOPS is number of requests that your application is sending toohello storage disks in one second.</span></span> <span data-ttu-id="9a70b-130">Uma operação de entrada/saída pode ser de leitura ou gravação, sequencial ou aleatória.</span><span class="sxs-lookup"><span data-stu-id="9a70b-130">An input/output operation could be read or write, sequential or random.</span></span> <span data-ttu-id="9a70b-131">Aplicativos OLTP como um site de varejo online precisam tooprocess muitos usuários simultâneos solicitações imediatamente.</span><span class="sxs-lookup"><span data-stu-id="9a70b-131">OLTP applications like an online retail website need tooprocess many concurrent user requests immediately.</span></span> <span data-ttu-id="9a70b-132">Olá solicitações do usuário são inserir e atualizar transações de banco de dados de uso intensivo, o aplicativo hello deve processar rapidamente.</span><span class="sxs-lookup"><span data-stu-id="9a70b-132">hello user requests are insert and update intensive database transactions, which hello application must process quickly.</span></span> <span data-ttu-id="9a70b-133">Desse modo, os aplicativos OLTP exigem IOPS bastante alta.</span><span class="sxs-lookup"><span data-stu-id="9a70b-133">Therefore, OLTP applications require very high IOPS.</span></span> <span data-ttu-id="9a70b-134">Tais aplicativos tratam milhões de solicitações de E/S aleatórias e pequenas.</span><span class="sxs-lookup"><span data-stu-id="9a70b-134">Such applications handle millions of small and random IO requests.</span></span> <span data-ttu-id="9a70b-135">Se você tiver um aplicativo desse tipo, você deve projetar Olá toooptimize de infraestrutura de aplicativo para o IOPS.</span><span class="sxs-lookup"><span data-stu-id="9a70b-135">If you have such an application, you must design hello application infrastructure toooptimize for IOPS.</span></span> <span data-ttu-id="9a70b-136">Em Olá seção mais tarde, *otimizando o desempenho do aplicativo*, discutiremos detalhadamente todos os fatores de saudação que você deve considerar tooget IOPS alta.</span><span class="sxs-lookup"><span data-stu-id="9a70b-136">In hello later section, *Optimizing Application Performance*, we discuss in detail all hello factors that you must consider tooget high IOPS.</span></span>

<span data-ttu-id="9a70b-137">Quando você anexa uma premium armazenamento em disco tooyour alta escala de VM, provisões do Azure para você um número garantido de IOPS de acordo com a especificação de disco hello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-137">When you attach a premium storage disk tooyour high scale VM, Azure provisions for you a guaranteed number of IOPS as per hello disk specification.</span></span> <span data-ttu-id="9a70b-138">Por exemplo, um disco P50 provisiona 7500 IOPS.</span><span class="sxs-lookup"><span data-stu-id="9a70b-138">For example, a P50 disk provisions 7500 IOPS.</span></span> <span data-ttu-id="9a70b-139">Cada tamanho de VM de alta escala também tem um limite específico de IOPS que ela pode manter.</span><span class="sxs-lookup"><span data-stu-id="9a70b-139">Each high scale VM size also has a specific IOPS limit that it can sustain.</span></span> <span data-ttu-id="9a70b-140">Por exemplo, uma VM GS5 Padrão tem um limite de 80.000 IOPS.</span><span class="sxs-lookup"><span data-stu-id="9a70b-140">For example, a Standard GS5 VM has 80,000 IOPS limit.</span></span>

## <a name="throughput"></a><span data-ttu-id="9a70b-141">Taxa de transferência</span><span class="sxs-lookup"><span data-stu-id="9a70b-141">Throughput</span></span>
<span data-ttu-id="9a70b-142">Taxa de transferência ou largura de banda é a quantidade de saudação de dados que seu aplicativo está enviando toohello discos de armazenamento em um intervalo especificado.</span><span class="sxs-lookup"><span data-stu-id="9a70b-142">Throughput or Bandwidth is hello amount of data that your application is sending toohello storage disks in a specified interval.</span></span> <span data-ttu-id="9a70b-143">Se o aplicativo estiver executando operações de entrada/saída com tamanhos grandes de unidade de E/S, ele exigirá Taxa de Transferência alta.</span><span class="sxs-lookup"><span data-stu-id="9a70b-143">If your application is performing input/output operations with large IO unit sizes, it requires high Throughput.</span></span> <span data-ttu-id="9a70b-144">Aplicativos de data warehouse tendem tooissue verificação operações intensivas que acessam grandes porções de dados por vez e geralmente executam operações em massa.</span><span class="sxs-lookup"><span data-stu-id="9a70b-144">Data warehouse applications tend tooissue scan intensive operations that access large portions of data at a time and commonly perform bulk operations.</span></span> <span data-ttu-id="9a70b-145">Em outras palavras, tais aplicativos exigem Taxa de Transferência mais alta.</span><span class="sxs-lookup"><span data-stu-id="9a70b-145">In other words, such applications require higher Throughput.</span></span> <span data-ttu-id="9a70b-146">Se você tiver um aplicativo desse tipo, você deve projetar sua infra-estrutura toooptimize para taxa de transferência.</span><span class="sxs-lookup"><span data-stu-id="9a70b-146">If you have such an application, you must design its infrastructure toooptimize for Throughput.</span></span> <span data-ttu-id="9a70b-147">Na próxima seção, Olá, discutiremos nos fatores de saudação de detalhes deve ajustar tooachieve isso.</span><span class="sxs-lookup"><span data-stu-id="9a70b-147">In hello next section, we discuss in detail hello factors you must tune tooachieve this.</span></span>

<span data-ttu-id="9a70b-148">Quando você anexa uma premium armazenamento em disco tooa alta escala de VM do Azure provisiona taxa de transferência de acordo com a especificação desse disco.</span><span class="sxs-lookup"><span data-stu-id="9a70b-148">When you attach a premium storage disk tooa high scale VM, Azure provisions Throughput as per that disk specification.</span></span> <span data-ttu-id="9a70b-149">Por exemplo, um disco P50 provisiona Taxa de Transferência de disco de 250 MB por segundo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-149">For example, a P50 disk provisions 250 MB per second disk Throughput.</span></span> <span data-ttu-id="9a70b-150">Cada tamanho de VM de alta escala também tem um limite específico de Taxa de Transferência que ela pode manter.</span><span class="sxs-lookup"><span data-stu-id="9a70b-150">Each high scale VM size also has as specific Throughput limit that it can sustain.</span></span> <span data-ttu-id="9a70b-151">Por exemplo, a VM GS5 padrão tem uma Taxa de Transferência máxima de 2.000 MB por segundo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-151">For example, Standard GS5 VM has a maximum throughput of 2,000 MB per second.</span></span> 

<span data-ttu-id="9a70b-152">Há uma relação entre a taxa de transferência e IOPS, conforme mostrado na fórmula de saudação abaixo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-152">There is a relation between Throughput and IOPS as shown in hello formula below.</span></span>

![](media/storage-premium-storage-performance/image1.png)

<span data-ttu-id="9a70b-153">Portanto, é importante toodetermine Olá taxa de transferência e IOPS valores ideais que seu aplicativo requer.</span><span class="sxs-lookup"><span data-stu-id="9a70b-153">Therefore, it is important toodetermine hello optimal Throughput and IOPS values that your application requires.</span></span> <span data-ttu-id="9a70b-154">Como você tentar toooptimize um, Olá outros também obtém afetado.</span><span class="sxs-lookup"><span data-stu-id="9a70b-154">As you try toooptimize one, hello other also gets affected.</span></span> <span data-ttu-id="9a70b-155">Em uma seção mais adiante, *Otimizando o desempenho do aplicativo*, abordaremos em mais detalhes como otimizar a IOPS e Taxa de Transferência.</span><span class="sxs-lookup"><span data-stu-id="9a70b-155">In a later section, *Optimizing Application Performance*, we will discuss in more details about optimizing IOPS and Throughput.</span></span>

## <a name="latency"></a><span data-ttu-id="9a70b-156">Latência</span><span class="sxs-lookup"><span data-stu-id="9a70b-156">Latency</span></span>
<span data-ttu-id="9a70b-157">Latência é Olá tempo que leva a um aplicativo tooreceive uma única solicitação, enviá-la em discos de armazenamento toohello e enviar Olá resposta toohello cliente.</span><span class="sxs-lookup"><span data-stu-id="9a70b-157">Latency is hello time it takes an application tooreceive a single request, send it toohello storage disks and send hello response toohello client.</span></span> <span data-ttu-id="9a70b-158">Esta é uma medida crítica de desempenho de um aplicativo em adição tooIOPS e taxa de transferência.</span><span class="sxs-lookup"><span data-stu-id="9a70b-158">This is a critical measure of an application's performance in addition tooIOPS and Throughput.</span></span> <span data-ttu-id="9a70b-159">Olá latência de um disco de armazenamento premium é tempo de saudação necessário tooretrieve Olá informações de uma solicitação e se comunicar aplicativo tooyour-o novamente.</span><span class="sxs-lookup"><span data-stu-id="9a70b-159">hello Latency of a premium storage disk is hello time it takes tooretrieve hello information for a request and communicate it back tooyour application.</span></span> <span data-ttu-id="9a70b-160">O Armazenamento Premium fornece baixas latências consistentes.</span><span class="sxs-lookup"><span data-stu-id="9a70b-160">Premium Storage provides consistent low latencies.</span></span> <span data-ttu-id="9a70b-161">Ao habilitar o cache do host ReadOnly nos discos do Armazenamento Premium, você obtém latência de leitura mais baixa.</span><span class="sxs-lookup"><span data-stu-id="9a70b-161">If you enable ReadOnly host caching on premium storage disks, you can get much lower read latency.</span></span> <span data-ttu-id="9a70b-162">Abordaremos o Cache de Disco em mais detalhes na seção *Otimizando o desempenho do aplicativo*.</span><span class="sxs-lookup"><span data-stu-id="9a70b-162">We will discuss Disk Caching in more detail in later section on *Optimizing Application Performance*.</span></span>

<span data-ttu-id="9a70b-163">Ao otimizar seu aplicativo tooget superior IOPS e taxa de transferência, isso afetará Olá latência do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-163">When you are optimizing your application tooget higher IOPS and Throughput, it will affect hello Latency of your application.</span></span> <span data-ttu-id="9a70b-164">Depois de ajustar o desempenho do aplicativo hello, sempre retornam Olá latência de saudação aplicativo tooavoid comportamento inesperado de alta latência.</span><span class="sxs-lookup"><span data-stu-id="9a70b-164">After tuning hello application performance, always evaluate hello Latency of hello application tooavoid unexpected high latency behavior.</span></span>

## <a name="gather-application-performance-requirements"></a><span data-ttu-id="9a70b-165">Entender os requisitos de desempenho do aplicativo</span><span class="sxs-lookup"><span data-stu-id="9a70b-165">Gather Application Performance Requirements</span></span>
<span data-ttu-id="9a70b-166">Olá primeira etapa na criação de aplicativos de alto desempenho em execução no armazenamento do Azure Premium é, requisitos de desempenho de saudação toounderstand do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-166">hello first step in designing high performance applications running on Azure Premium Storage is, toounderstand hello performance requirements of your application.</span></span> <span data-ttu-id="9a70b-167">Depois de reunir os requisitos de desempenho, você pode otimizar o desempenho ideal do aplicativo tooachieve hello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-167">After you gather performance requirements, you can optimize your application tooachieve hello most optimal performance.</span></span>

<span data-ttu-id="9a70b-168">Na seção anterior do hello, explicamos Olá comuns indicadores de desempenho, IOPS, taxa de transferência e latência.</span><span class="sxs-lookup"><span data-stu-id="9a70b-168">In hello previous section, we explained hello common performance indicators, IOPS, Throughput and Latency.</span></span> <span data-ttu-id="9a70b-169">Você deve identificar qual esses indicadores de desempenho são a experiência do usuário do tooyour crítico aplicativo toodeliver Olá desejado.</span><span class="sxs-lookup"><span data-stu-id="9a70b-169">You must identify which of these performance indicators are critical tooyour application toodeliver hello desired user experience.</span></span> <span data-ttu-id="9a70b-170">Por exemplo, um IOPS alto importa a maioria dos aplicativos de tooOLTP processar milhões de transações em um segundo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-170">For example, high IOPS matters most tooOLTP applications processing millions of transactions in a second.</span></span> <span data-ttu-id="9a70b-171">Já a Taxa de Transferência alta é essencial para aplicativos de data warehouse que processam grandes volumes de dados em um segundo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-171">Whereas, high Throughput is critical for Data Warehouse applications processing large amounts of data in a second.</span></span> <span data-ttu-id="9a70b-172">A Latência extremamente baixa é essencial para aplicativos em tempo real, como sites de streaming de vídeo ao vivo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-172">Extremely low Latency is crucial for real-time applications like live video streaming websites.</span></span>

<span data-ttu-id="9a70b-173">Em seguida, avaliar requisitos de desempenho máximo de saudação do seu aplicativo durante seu tempo de vida.</span><span class="sxs-lookup"><span data-stu-id="9a70b-173">Next, measure hello maximum performance requirements of your application throughout its lifetime.</span></span> <span data-ttu-id="9a70b-174">Use a lista de verificação de exemplo de hello abaixo como uma inicialização.</span><span class="sxs-lookup"><span data-stu-id="9a70b-174">Use hello sample checklist below as a start.</span></span> <span data-ttu-id="9a70b-175">Requisitos de desempenho máximo do registro Olá durante normal, períodos de carga de trabalho de pico e fora do horário comercial.</span><span class="sxs-lookup"><span data-stu-id="9a70b-175">Record hello maximum performance requirements during normal, peak and off-hours workload periods.</span></span> <span data-ttu-id="9a70b-176">Identificando os requisitos para todos os níveis de cargas de trabalho, você será capaz de toodetermine Olá requisito geral de desempenho do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-176">By identifying requirements for all workloads levels, you will be able toodetermine hello overall performance requirement of your application.</span></span> <span data-ttu-id="9a70b-177">Por exemplo, a carga de trabalho normal de um site de comércio eletrônico hello serão transações de saudação serve durante a maioria dos dias em um ano.</span><span class="sxs-lookup"><span data-stu-id="9a70b-177">For example, hello normal workload of an e-commerce website will be hello transactions it serves during most days in a year.</span></span> <span data-ttu-id="9a70b-178">carga de trabalho de pico de Olá do site Olá será transações Olá serve durante a temporada ou eventos de venda especial.</span><span class="sxs-lookup"><span data-stu-id="9a70b-178">hello peak workload of hello website will be hello transactions it serves during holiday season or special sale events.</span></span> <span data-ttu-id="9a70b-179">carga de trabalho de pico de saudação é normalmente experiente por um período limitado, mas pode exigir tooscale seu aplicativo duas ou mais vezes sua operação normal.</span><span class="sxs-lookup"><span data-stu-id="9a70b-179">hello peak workload is typically experienced for a limited period, but can require your application tooscale two or more times its normal operation.</span></span> <span data-ttu-id="9a70b-180">Descubra 99 requisitos de percentil, 90 percentil e percentual de 50 hello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-180">Find out hello 50 percentile, 90 percentile and 99 percentile requirements.</span></span> <span data-ttu-id="9a70b-181">Isso ajuda a filtrar quaisquer exceções em requisitos de desempenho de saudação e você possa concentrar seus esforços em otimizar para valores de saudação à direita.</span><span class="sxs-lookup"><span data-stu-id="9a70b-181">This helps filter out any outliers in hello performance requirements and you can focus your efforts on optimizing for hello right values.</span></span>

<span data-ttu-id="9a70b-182">**Lista de verificação dos requisitos de desempenho do aplicativo**</span><span class="sxs-lookup"><span data-stu-id="9a70b-182">**Application Performance Requirements Checklist**</span></span>

| <span data-ttu-id="9a70b-183">**Requisitos de desempenho**</span><span class="sxs-lookup"><span data-stu-id="9a70b-183">**Performance requirements**</span></span> | <span data-ttu-id="9a70b-184">**Percentil 50**</span><span class="sxs-lookup"><span data-stu-id="9a70b-184">**50 Percentile**</span></span> | <span data-ttu-id="9a70b-185">**Percentil 90**</span><span class="sxs-lookup"><span data-stu-id="9a70b-185">**90 Percentile**</span></span> | <span data-ttu-id="9a70b-186">**Percentil 99**</span><span class="sxs-lookup"><span data-stu-id="9a70b-186">**99  Percentile**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="9a70b-187">Máx.</span><span class="sxs-lookup"><span data-stu-id="9a70b-187">Max.</span></span> <span data-ttu-id="9a70b-188">Transações por segundo</span><span class="sxs-lookup"><span data-stu-id="9a70b-188">Transactions per second</span></span> | | | |
| <span data-ttu-id="9a70b-189">% de operações de Leitura</span><span class="sxs-lookup"><span data-stu-id="9a70b-189">% Read operations</span></span> | | | |
| <span data-ttu-id="9a70b-190">% de operações de Gravação</span><span class="sxs-lookup"><span data-stu-id="9a70b-190">% Write operations</span></span> | | | |
| <span data-ttu-id="9a70b-191">% de operações Aleatórias</span><span class="sxs-lookup"><span data-stu-id="9a70b-191">% Random operations</span></span> | | | |
| <span data-ttu-id="9a70b-192">% de operações Sequenciais</span><span class="sxs-lookup"><span data-stu-id="9a70b-192">% Sequential operations</span></span> | | | |
| <span data-ttu-id="9a70b-193">Tamanho da solicitação de E/S</span><span class="sxs-lookup"><span data-stu-id="9a70b-193">IO request size</span></span> | | | |
| <span data-ttu-id="9a70b-194">Taxa de transferência média</span><span class="sxs-lookup"><span data-stu-id="9a70b-194">Average Throughput</span></span> | | | |
| <span data-ttu-id="9a70b-195">Máx.</span><span class="sxs-lookup"><span data-stu-id="9a70b-195">Max.</span></span> <span data-ttu-id="9a70b-196">Taxa de transferência</span><span class="sxs-lookup"><span data-stu-id="9a70b-196">Throughput</span></span> | | | |
| <span data-ttu-id="9a70b-197">Mín.</span><span class="sxs-lookup"><span data-stu-id="9a70b-197">Min.</span></span> <span data-ttu-id="9a70b-198">Latência</span><span class="sxs-lookup"><span data-stu-id="9a70b-198">Latency</span></span> | | | |
| <span data-ttu-id="9a70b-199">Latência Média</span><span class="sxs-lookup"><span data-stu-id="9a70b-199">Average Latency</span></span> | | | |
| <span data-ttu-id="9a70b-200">Máx.</span><span class="sxs-lookup"><span data-stu-id="9a70b-200">Max.</span></span> <span data-ttu-id="9a70b-201">CPU</span><span class="sxs-lookup"><span data-stu-id="9a70b-201">CPU</span></span> | | | |
| <span data-ttu-id="9a70b-202">CPU Média</span><span class="sxs-lookup"><span data-stu-id="9a70b-202">Average CPU</span></span> | | | |
| <span data-ttu-id="9a70b-203">Máx.</span><span class="sxs-lookup"><span data-stu-id="9a70b-203">Max.</span></span> <span data-ttu-id="9a70b-204">Memória</span><span class="sxs-lookup"><span data-stu-id="9a70b-204">Memory</span></span> | | | |
| <span data-ttu-id="9a70b-205">Memória Média</span><span class="sxs-lookup"><span data-stu-id="9a70b-205">Average Memory</span></span> | | | |
| <span data-ttu-id="9a70b-206">Profundidade da Fila</span><span class="sxs-lookup"><span data-stu-id="9a70b-206">Queue Depth</span></span> | | | |

> [!NOTE]
> <span data-ttu-id="9a70b-207">você deve considerar o dimensionamento desses números com base no futuro crescimento esperado do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-207">You should consider scaling these numbers based on expected future growth of your application.</span></span> <span data-ttu-id="9a70b-208">É tooplan uma boa ideia para crescimento antecipadamente, pois pode ser mais difícil infra-estrutura de saudação toochange para melhorar o desempenho mais tarde.</span><span class="sxs-lookup"><span data-stu-id="9a70b-208">It is a good idea tooplan for growth ahead of time, because it could be harder toochange hello infrastructure for improving performance later.</span></span>
>
>

<span data-ttu-id="9a70b-209">Se você tiver um aplicativo existente e quiser toomove tooPremium armazenamento, primeiro crie a lista de verificação do hello acima para o aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-209">If you have an existing application and want toomove tooPremium Storage, first build hello checklist above for hello existing application.</span></span> <span data-ttu-id="9a70b-210">Em seguida, crie um protótipo do seu aplicativo no armazenamento Premium e o design de aplicativo hello com base nas diretrizes descritas em *otimizando o desempenho do aplicativo* em uma seção posterior deste documento.</span><span class="sxs-lookup"><span data-stu-id="9a70b-210">Then, build a prototype of your application on Premium Storage and design hello application based on guidelines described in *Optimizing Application Performance* in a later section of this document.</span></span> <span data-ttu-id="9a70b-211">Olá próxima seção descreve ferramentas Olá você pode usar medidas de desempenho toogather hello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-211">hello next section describes hello tools you can use toogather hello performance measurements.</span></span>

<span data-ttu-id="9a70b-212">Crie um lista de verificação semelhante tooyour aplicativo existente para o protótipo de saudação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-212">Create a checklist similar tooyour existing application for hello prototype.</span></span> <span data-ttu-id="9a70b-213">Usando as ferramentas de Benchmarking pode simular cargas de trabalho hello e medir o desempenho do aplicativo de protótipo hello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-213">Using Benchmarking tools you can simulate hello workloads and measure performance on hello prototype application.</span></span> <span data-ttu-id="9a70b-214">Consulte a seção de saudação em [Benchmarking](#benchmarking) toolearn mais.</span><span class="sxs-lookup"><span data-stu-id="9a70b-214">See hello section on [Benchmarking](#benchmarking) toolearn more.</span></span> <span data-ttu-id="9a70b-215">Com isso, você pode determinar se o Armazenamento Premium pode corresponder ou superar os requisitos de desempenho do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-215">By doing so you can determine whether Premium Storage can match or surpass your application performance requirements.</span></span> <span data-ttu-id="9a70b-216">Em seguida, você pode implementar Olá mesmas diretrizes para seu aplicativo de produção.</span><span class="sxs-lookup"><span data-stu-id="9a70b-216">Then you can implement hello same guidelines for your production application.</span></span>

### <a name="counters-toomeasure-application-performance-requirements"></a><span data-ttu-id="9a70b-217">Contadores de toomeasure requisitos de desempenho de aplicativo</span><span class="sxs-lookup"><span data-stu-id="9a70b-217">Counters toomeasure application performance requirements</span></span>
<span data-ttu-id="9a70b-218">Olá melhor toomeasure requisitos de desempenho de maneira do seu aplicativo, é toouse ferramentas de monitoramento de desempenho fornecidas pelo sistema operacional de saudação do servidor de saudação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-218">hello best way toomeasure performance requirements of your application, is toouse performance-monitoring tools provided by hello operating system of hello server.</span></span> <span data-ttu-id="9a70b-219">Você pode usar o PerfMon para Windows e iostat para Linux.</span><span class="sxs-lookup"><span data-stu-id="9a70b-219">You can use PerfMon for Windows and iostat for Linux.</span></span> <span data-ttu-id="9a70b-220">Essas ferramentas capturam contadores medida tooeach correspondente é explicada em Olá acima de seção.</span><span class="sxs-lookup"><span data-stu-id="9a70b-220">These tools capture counters corresponding tooeach measure explained in hello above section.</span></span> <span data-ttu-id="9a70b-221">Você deve capturar os valores desses contadores hello quando seu aplicativo está executando seu normal, cargas de trabalho de pico e fora do horário comercial.</span><span class="sxs-lookup"><span data-stu-id="9a70b-221">You must capture hello values of these counters when your application is running its normal, peak and off-hours workloads.</span></span>

<span data-ttu-id="9a70b-222">contadores de desempenho de saudação estão disponíveis para o processador, memória e, em cada disco lógico e o disco físico do seu servidor.</span><span class="sxs-lookup"><span data-stu-id="9a70b-222">hello PerfMon counters are available for processor, memory and, each logical disk and physical disk of your server.</span></span> <span data-ttu-id="9a70b-223">Quando você usar discos de armazenamento premium com uma VM, contadores de disco físico Olá são para cada disco de armazenamento premium, e os contadores de disco lógico são para cada volume criado nos discos de armazenamento premium Olá.</span><span class="sxs-lookup"><span data-stu-id="9a70b-223">When you use premium storage disks with a VM, hello physical disk counters are for each premium storage disk, and logical disk counters are for each volume created on hello premium storage disks.</span></span> <span data-ttu-id="9a70b-224">Você deve capturar os valores hello discos Olá sua carga de trabalho do aplicativo de host.</span><span class="sxs-lookup"><span data-stu-id="9a70b-224">You must capture hello values for hello disks that host your application workload.</span></span> <span data-ttu-id="9a70b-225">Se houver um mapeamento de tooone um entre discos lógicos e físicos, você pode consultar os contadores de disco toophysical; Caso contrário, consulte toohello contadores de disco lógico.</span><span class="sxs-lookup"><span data-stu-id="9a70b-225">If there is a one tooone mapping between logical and physical disks, you can refer toophysical disk counters; otherwise refer toohello logical disk counters.</span></span> <span data-ttu-id="9a70b-226">No Linux, o comando de iostat Olá gera um relatório de utilização de CPU e disco.</span><span class="sxs-lookup"><span data-stu-id="9a70b-226">On Linux, hello iostat command generates a CPU and disk utilization report.</span></span> <span data-ttu-id="9a70b-227">relatório de utilização de disco Olá fornece estatísticas por partição ou o dispositivo físico.</span><span class="sxs-lookup"><span data-stu-id="9a70b-227">hello disk utilization report provides statistics per physical device or partition.</span></span> <span data-ttu-id="9a70b-228">Se você tiver um servidor de banco de dados com seus dados e registrados em discos separados, colete esses dados de ambos os discos.</span><span class="sxs-lookup"><span data-stu-id="9a70b-228">If you have a database server with its data and log on separate disks, collect this data for both disks.</span></span> <span data-ttu-id="9a70b-229">A tabela abaixo descreve contadores de discos, processador e memória:</span><span class="sxs-lookup"><span data-stu-id="9a70b-229">Below table describes counters for disks, processor and memory:</span></span>

| <span data-ttu-id="9a70b-230">Contador</span><span class="sxs-lookup"><span data-stu-id="9a70b-230">Counter</span></span> | <span data-ttu-id="9a70b-231">Descrição</span><span class="sxs-lookup"><span data-stu-id="9a70b-231">Description</span></span> | <span data-ttu-id="9a70b-232">PerfMon</span><span class="sxs-lookup"><span data-stu-id="9a70b-232">PerfMon</span></span> | <span data-ttu-id="9a70b-233">Iostat</span><span class="sxs-lookup"><span data-stu-id="9a70b-233">Iostat</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="9a70b-234">**IOPS ou Transações por segundo**</span><span class="sxs-lookup"><span data-stu-id="9a70b-234">**IOPS or Transactions per second**</span></span> |<span data-ttu-id="9a70b-235">Número de solicitações de e/s emitida toohello de disco de armazenamento por segundo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-235">Number of I/O requests issued toohello storage disk per second.</span></span> |<span data-ttu-id="9a70b-236">Leituras de Disco/s </span><span class="sxs-lookup"><span data-stu-id="9a70b-236">Disk Reads/sec</span></span> <br> <span data-ttu-id="9a70b-237">Gravações de Disco/s</span><span class="sxs-lookup"><span data-stu-id="9a70b-237">Disk Writes/sec</span></span> |<span data-ttu-id="9a70b-238">tps </span><span class="sxs-lookup"><span data-stu-id="9a70b-238">tps</span></span> <br> <span data-ttu-id="9a70b-239">r/s </span><span class="sxs-lookup"><span data-stu-id="9a70b-239">r/s</span></span> <br> <span data-ttu-id="9a70b-240">w/s</span><span class="sxs-lookup"><span data-stu-id="9a70b-240">w/s</span></span> |
| <span data-ttu-id="9a70b-241">**Leituras e gravações de discos**</span><span class="sxs-lookup"><span data-stu-id="9a70b-241">**Disk Reads and Writes**</span></span> |<span data-ttu-id="9a70b-242">% de leituras de operações realizadas no disco de saudação e gravação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-242">% of Reads and Write operations performed on hello disk.</span></span> |<span data-ttu-id="9a70b-243">% de Tempo de Leitura de Disco </span><span class="sxs-lookup"><span data-stu-id="9a70b-243">% Disk Read Time</span></span> <br> <span data-ttu-id="9a70b-244">% de Tempo de Gravação de Disco</span><span class="sxs-lookup"><span data-stu-id="9a70b-244">% Disk Write Time</span></span> |<span data-ttu-id="9a70b-245">r/s </span><span class="sxs-lookup"><span data-stu-id="9a70b-245">r/s</span></span> <br> <span data-ttu-id="9a70b-246">w/s</span><span class="sxs-lookup"><span data-stu-id="9a70b-246">w/s</span></span> |
| <span data-ttu-id="9a70b-247">**Taxa de transferência**</span><span class="sxs-lookup"><span data-stu-id="9a70b-247">**Throughput**</span></span> |<span data-ttu-id="9a70b-248">Quantidade de dados lida ou gravada toohello de disco por segundo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-248">Amount of data read from or written toohello disk per second.</span></span> |<span data-ttu-id="9a70b-249">Bytes Lidos no Disco/s </span><span class="sxs-lookup"><span data-stu-id="9a70b-249">Disk Read Bytes/sec</span></span> <br> <span data-ttu-id="9a70b-250">Bytes Gravados no Disco/s</span><span class="sxs-lookup"><span data-stu-id="9a70b-250">Disk Write Bytes/sec</span></span> |<span data-ttu-id="9a70b-251">kB_read/s</span><span class="sxs-lookup"><span data-stu-id="9a70b-251">kB_read/s</span></span> <br> <span data-ttu-id="9a70b-252">kB_wrtn/s</span><span class="sxs-lookup"><span data-stu-id="9a70b-252">kB_wrtn/s</span></span> |
| <span data-ttu-id="9a70b-253">**Latência**</span><span class="sxs-lookup"><span data-stu-id="9a70b-253">**Latency**</span></span> |<span data-ttu-id="9a70b-254">Total de tempo toocomplete uma solicitação de e/s de disco.</span><span class="sxs-lookup"><span data-stu-id="9a70b-254">Total time toocomplete a disk IO request.</span></span> |<span data-ttu-id="9a70b-255">Média por Segundo do Disco/Leitura </span><span class="sxs-lookup"><span data-stu-id="9a70b-255">Average Disk sec/Read</span></span> <br> <span data-ttu-id="9a70b-256">Média por segundo do disco/Gravação</span><span class="sxs-lookup"><span data-stu-id="9a70b-256">Average disk sec/Write</span></span> |<span data-ttu-id="9a70b-257">await </span><span class="sxs-lookup"><span data-stu-id="9a70b-257">await</span></span> <br> <span data-ttu-id="9a70b-258">svctm</span><span class="sxs-lookup"><span data-stu-id="9a70b-258">svctm</span></span> |
| <span data-ttu-id="9a70b-259">**Tamanho de E/S**</span><span class="sxs-lookup"><span data-stu-id="9a70b-259">**IO size**</span></span> |<span data-ttu-id="9a70b-260">tamanho de saudação de solicitações de e/s emite toohello discos de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="9a70b-260">hello size of I/O requests issues toohello storage disks.</span></span> |<span data-ttu-id="9a70b-261">Média de Bytes do Disco/Leitura </span><span class="sxs-lookup"><span data-stu-id="9a70b-261">Average Disk Bytes/Read</span></span> <br> <span data-ttu-id="9a70b-262">Média de Bytes do Disco/Gravação</span><span class="sxs-lookup"><span data-stu-id="9a70b-262">Average Disk Bytes/Write</span></span> |<span data-ttu-id="9a70b-263">avgrq-sz</span><span class="sxs-lookup"><span data-stu-id="9a70b-263">avgrq-sz</span></span> |
| <span data-ttu-id="9a70b-264">**Profundidade da Fila**</span><span class="sxs-lookup"><span data-stu-id="9a70b-264">**Queue Depth**</span></span> |<span data-ttu-id="9a70b-265">Número de e/s pendentes solicitações toobe espera ler formulário ou gravados em disco de armazenamento toohello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-265">Number of outstanding I/O requests waiting toobe read form or written toohello storage disk.</span></span> |<span data-ttu-id="9a70b-266">Comprimento da Fila do Disco Atual</span><span class="sxs-lookup"><span data-stu-id="9a70b-266">Current Disk Queue Length</span></span> |<span data-ttu-id="9a70b-267">avgqu-sz</span><span class="sxs-lookup"><span data-stu-id="9a70b-267">avgqu-sz</span></span> |
| <span data-ttu-id="9a70b-268">**IOPS Máxima**</span><span class="sxs-lookup"><span data-stu-id="9a70b-268">**Max. Memory**</span></span> |<span data-ttu-id="9a70b-269">Quantidade de memória exigida toorun aplicativo sem problemas</span><span class="sxs-lookup"><span data-stu-id="9a70b-269">Amount of memory required toorun application smoothly</span></span> |<span data-ttu-id="9a70b-270">% de Bytes Confirmados em Uso</span><span class="sxs-lookup"><span data-stu-id="9a70b-270">% Committed Bytes in Use</span></span> |<span data-ttu-id="9a70b-271">Usar o vmstat</span><span class="sxs-lookup"><span data-stu-id="9a70b-271">Use vmstat</span></span> |
| <span data-ttu-id="9a70b-272">**IOPS Máxima**</span><span class="sxs-lookup"><span data-stu-id="9a70b-272">**Max. CPU**</span></span> |<span data-ttu-id="9a70b-273">Quantidade de CPU necessário toorun aplicativo sem problemas</span><span class="sxs-lookup"><span data-stu-id="9a70b-273">Amount CPU required toorun application smoothly</span></span> |<span data-ttu-id="9a70b-274">% do Tempo do Processador</span><span class="sxs-lookup"><span data-stu-id="9a70b-274">% Processor time</span></span> |<span data-ttu-id="9a70b-275">%util</span><span class="sxs-lookup"><span data-stu-id="9a70b-275">%util</span></span> |

<span data-ttu-id="9a70b-276">Saiba mais sobre o [iostat](http://linuxcommand.org/man_pages/iostat1.html) e [PerfMon](https://msdn.microsoft.com/library/aa645516.aspx).</span><span class="sxs-lookup"><span data-stu-id="9a70b-276">Learn more about [iostat](http://linuxcommand.org/man_pages/iostat1.html) and [PerfMon](https://msdn.microsoft.com/library/aa645516.aspx).</span></span>

## <a name="optimizing-application-performance"></a><span data-ttu-id="9a70b-277">Otimizando o desempenho do aplicativo</span><span class="sxs-lookup"><span data-stu-id="9a70b-277">Optimizing Application Performance</span></span>
<span data-ttu-id="9a70b-278">Olá principais fatores que influenciam o desempenho de um aplicativo em execução no armazenamento Premium são natureza de e/s solicitações, tamanho da VM, o tamanho do disco, o número de discos, Multithreading, cache de disco e a profundidade da fila.</span><span class="sxs-lookup"><span data-stu-id="9a70b-278">hello main factors that influence performance of an application running on Premium Storage are Nature of IO Requests, VM size, Disk size, Number of disks, Disk Caching, Multithreading and Queue Depth.</span></span> <span data-ttu-id="9a70b-279">Você pode controlar alguns desses fatores com botões fornecidos pelo sistema de saudação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-279">You can control some of these factors with knobs provided by hello system.</span></span> <span data-ttu-id="9a70b-280">A maioria dos aplicativos podem não oferecer Olá de tooalter uma opção de e/s e a profundidade de fila diretamente.</span><span class="sxs-lookup"><span data-stu-id="9a70b-280">Most applications may not give you an option tooalter hello IO size and Queue Depth directly.</span></span> <span data-ttu-id="9a70b-281">Por exemplo, se você estiver usando o SQL Server, você não pode escolher a profundidade de fila e tamanho de e/s hello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-281">For example, if you are using SQL Server, you cannot choose hello IO size and queue depth.</span></span> <span data-ttu-id="9a70b-282">SQL Server escolhe Olá ideal i / o tamanho e a fila de profundidade valores tooget Olá maioria do desempenho.</span><span class="sxs-lookup"><span data-stu-id="9a70b-282">SQL Server chooses hello optimal IO size and queue depth values tooget hello most performance.</span></span> <span data-ttu-id="9a70b-283">É importante toounderstand os efeitos de saudação de ambos os tipos de fatores no desempenho do aplicativo, para que você pode provisionar os recursos adequados às necessidades de desempenho de toomeet.</span><span class="sxs-lookup"><span data-stu-id="9a70b-283">It is important toounderstand hello effects of both types of factors on your application performance, so that you can provision appropriate resources toomeet performance needs.</span></span>

<span data-ttu-id="9a70b-284">Ao longo desta seção, consulte toohello aplicativo requisitos lista de verificação que você criou, tooidentify quanto precisar toooptimize o desempenho do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-284">Throughout this section, refer toohello application requirements checklist that you created, tooidentify how much you need toooptimize your application performance.</span></span> <span data-ttu-id="9a70b-285">Com base no que, você será capaz de toodetermine quais fatores desta seção que você precisará tootune.</span><span class="sxs-lookup"><span data-stu-id="9a70b-285">Based on that, you will be able toodetermine which factors from this section you will need tootune.</span></span> <span data-ttu-id="9a70b-286">toowitness Olá efeitos de cada fator no desempenho do seu aplicativo, executar análise comparativa ferramentas na sua configuração de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-286">toowitness hello effects of each factor on your application performance, run benchmarking tools on your application setup.</span></span> <span data-ttu-id="9a70b-287">Consulte toohello [Benchmarking](#Benchmarking) seção Olá final deste artigo para etapas toorun comuns benchmark ferramentas no Windows e VMs do Linux.</span><span class="sxs-lookup"><span data-stu-id="9a70b-287">Refer toohello [Benchmarking](#Benchmarking) section at hello end of this article for steps toorun common benchmarking tools on Windows and Linux VMs.</span></span>

### <a name="optimizing-iops-throughput-and-latency-at-a-glance"></a><span data-ttu-id="9a70b-288">Otimizando a IOPS, a Taxa de Transferência e a latência em segundos</span><span class="sxs-lookup"><span data-stu-id="9a70b-288">Optimizing IOPS, Throughput and Latency at a glance</span></span>
<span data-ttu-id="9a70b-289">Olá tabela a seguir resume todos os fatores de desempenho hello e Olá etapas toooptimize IOPS, taxa de transferência e latência.</span><span class="sxs-lookup"><span data-stu-id="9a70b-289">hello table below summarizes all hello performance factors and hello steps toooptimize IOPS, Throughput and Latency.</span></span> <span data-ttu-id="9a70b-290">Olá seções seguintes esse resumo descreve cada fator é muito mais profundidade.</span><span class="sxs-lookup"><span data-stu-id="9a70b-290">hello sections following this summary will describe each factor is much more depth.</span></span>

| &nbsp; | <span data-ttu-id="9a70b-291">**IOPS**</span><span class="sxs-lookup"><span data-stu-id="9a70b-291">**IOPS**</span></span> | <span data-ttu-id="9a70b-292">**Taxa de transferência**</span><span class="sxs-lookup"><span data-stu-id="9a70b-292">**Throughput**</span></span> | <span data-ttu-id="9a70b-293">**Latência**</span><span class="sxs-lookup"><span data-stu-id="9a70b-293">**Latency**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="9a70b-294">**Cenário de exemplo**</span><span class="sxs-lookup"><span data-stu-id="9a70b-294">**Example Scenario**</span></span> |<span data-ttu-id="9a70b-295">Aplicativo OLTP corporativo que exige taxa muito alta de transações por segundo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-295">Enterprise OLTP application requiring very high transactions per second rate.</span></span> |<span data-ttu-id="9a70b-296">Aplicativo de data warehouse corporativo que processa grandes volumes de dados.</span><span class="sxs-lookup"><span data-stu-id="9a70b-296">Enterprise Data warehousing application processing large amounts of data.</span></span> |<span data-ttu-id="9a70b-297">Próximo a aplicativos em tempo real que exigem a solicitações de toouser respostas instantâneas, como jogos online.</span><span class="sxs-lookup"><span data-stu-id="9a70b-297">Near real-time applications requiring instant responses toouser requests, like online gaming.</span></span> |
| <span data-ttu-id="9a70b-298">Fatores de desempenho</span><span class="sxs-lookup"><span data-stu-id="9a70b-298">Performance factors</span></span> | &nbsp; | &nbsp; | &nbsp; |
| <span data-ttu-id="9a70b-299">**Tamanho de E/S**</span><span class="sxs-lookup"><span data-stu-id="9a70b-299">**IO size**</span></span> |<span data-ttu-id="9a70b-300">E/S menores geram IOPS mais altas.</span><span class="sxs-lookup"><span data-stu-id="9a70b-300">Smaller IO size yields higher IOPS.</span></span> |<span data-ttu-id="9a70b-301">Tooyields de tamanho de e/s maior taxa de transferência mais alta.</span><span class="sxs-lookup"><span data-stu-id="9a70b-301">Larger IO size tooyields higher Throughput.</span></span> | &nbsp;|
| <span data-ttu-id="9a70b-302">**Tamanho da VM**</span><span class="sxs-lookup"><span data-stu-id="9a70b-302">**VM size**</span></span> |<span data-ttu-id="9a70b-303">Use um tamanho de VM que ofereça IOPS maior que o requisito do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-303">Use a VM size that offers IOPS greater than your application requirement.</span></span> <span data-ttu-id="9a70b-304">Veja os tamanhos de VM e respectivos limites de IOPS aqui.</span><span class="sxs-lookup"><span data-stu-id="9a70b-304">See VM sizes and their IOPS limits here.</span></span> |<span data-ttu-id="9a70b-305">Use um tamanho de VM com limite de Taxa de Transferência maior que o requisito do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-305">Use a VM size with Throughput limit greater than your application requirement.</span></span> <span data-ttu-id="9a70b-306">Veja os tamanhos de VM e respectivos limites de Taxa de Transferência aqui.</span><span class="sxs-lookup"><span data-stu-id="9a70b-306">See VM sizes and their Throughput limits here.</span></span> |<span data-ttu-id="9a70b-307">Use um tamanho de VM que ofereça limites de escala maiores que o requisito do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-307">Use a VM size that offers scale limits greater than your application requirement.</span></span> <span data-ttu-id="9a70b-308">Veja os tamanhos de VM e os respectivos limites aqui.</span><span class="sxs-lookup"><span data-stu-id="9a70b-308">See VM sizes and their limits here.</span></span> |
| <span data-ttu-id="9a70b-309">**Tamanho do disco**</span><span class="sxs-lookup"><span data-stu-id="9a70b-309">**Disk size**</span></span> |<span data-ttu-id="9a70b-310">Use um tamanho de disco que ofereça IOPS maior que o requisito de seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-310">Use a disk size that offers IOPS greater than your application requirement.</span></span> <span data-ttu-id="9a70b-311">Veja os tamanhos de disco e respectivos limites de IOPS aqui.</span><span class="sxs-lookup"><span data-stu-id="9a70b-311">See disk sizes and their IOPS limits here.</span></span> |<span data-ttu-id="9a70b-312">Use um tamanho de disco com limite de Taxa de Transferência maior que o requisito do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-312">Use a disk size with Throughput limit greater than your application requirement.</span></span> <span data-ttu-id="9a70b-313">Veja os tamanhos de disco e respectivos limites de Taxa de Transferência aqui.</span><span class="sxs-lookup"><span data-stu-id="9a70b-313">See disk sizes and their Throughput limits here.</span></span> |<span data-ttu-id="9a70b-314">Use um tamanho de disco que ofereça limites de escala maiores que o requisito do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-314">Use a disk size that offers scale limits greater than your application requirement.</span></span> <span data-ttu-id="9a70b-315">Veja os tamanhos de disco e respectivos limites aqui.</span><span class="sxs-lookup"><span data-stu-id="9a70b-315">See disk sizes and their limits here.</span></span> |
| <span data-ttu-id="9a70b-316">**Limites de escala de VM e disco**</span><span class="sxs-lookup"><span data-stu-id="9a70b-316">**VM and Disk Scale Limits**</span></span> |<span data-ttu-id="9a70b-317">Limite de IOPS de escolhida de tamanho VM Olá deve ser maior que o IOPS total orientada por discos de armazenamento premium anexado tooit.</span><span class="sxs-lookup"><span data-stu-id="9a70b-317">IOPS limit of hello VM size chosen should be greater than total IOPS driven by premium storage disks attached tooit.</span></span> |<span data-ttu-id="9a70b-318">Limite de taxa de transferência de escolhida de tamanho VM Olá deve ser maior que a taxa de transferência total é orientada por discos de armazenamento premium anexado tooit.</span><span class="sxs-lookup"><span data-stu-id="9a70b-318">Throughput limit of hello VM size chosen should be greater than total Throughput driven by premium storage disks attached tooit.</span></span> |<span data-ttu-id="9a70b-319">Limites de escala de escolhida de tamanho VM Olá devem ser maiores que os limites de escala total de discos de armazenamento premium anexado.</span><span class="sxs-lookup"><span data-stu-id="9a70b-319">Scale limits of hello VM size chosen must be greater than total scale limits of attached premium storage disks.</span></span> |
| <span data-ttu-id="9a70b-320">**Cache de disco**</span><span class="sxs-lookup"><span data-stu-id="9a70b-320">**Disk Caching**</span></span> |<span data-ttu-id="9a70b-321">Habilite o Cache de somente leitura em discos de armazenamento premium com tooget de operações pesadas de leitura superior IOPS de leitura.</span><span class="sxs-lookup"><span data-stu-id="9a70b-321">Enable ReadOnly Cache on premium storage disks with Read heavy operations tooget higher Read IOPS.</span></span> | &nbsp; |<span data-ttu-id="9a70b-322">Habilite o Cache de somente leitura em discos de armazenamento premium com latências de leitura pronto operações pesadas tooget muito baixas.</span><span class="sxs-lookup"><span data-stu-id="9a70b-322">Enable ReadOnly Cache on premium storage disks with Ready heavy operations tooget very low Read latencies.</span></span> |
| <span data-ttu-id="9a70b-323">**Distribuição de disco**</span><span class="sxs-lookup"><span data-stu-id="9a70b-323">**Disk Striping**</span></span> |<span data-ttu-id="9a70b-324">Use vários discos e distribua-los junto tooget um combinado de IOPS superior e o limite de taxa de transferência.</span><span class="sxs-lookup"><span data-stu-id="9a70b-324">Use multiple disks and stripe them together tooget a combined higher IOPS and Throughput limit.</span></span> <span data-ttu-id="9a70b-325">Observe que Olá combinado limite por VM deve ser maior do que o hello limites combinados de discos anexados premium.</span><span class="sxs-lookup"><span data-stu-id="9a70b-325">Note that hello combined limit per VM should be higher than hello combined limits of attached premium disks.</span></span> | &nbsp; | &nbsp; |
| <span data-ttu-id="9a70b-326">**Tamanho da distribuição**</span><span class="sxs-lookup"><span data-stu-id="9a70b-326">**Stripe Size**</span></span> |<span data-ttu-id="9a70b-327">Tamanho menor de distribuição para padrão pequeno de E/S aleatório visto em aplicativos OLTP.</span><span class="sxs-lookup"><span data-stu-id="9a70b-327">Smaller stripe size for random small IO pattern seen in OLTP applications.</span></span> <span data-ttu-id="9a70b-328">Por exemplo, use o tamanho de distribuição de 64 KB para aplicativo OLTP do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="9a70b-328">E.g., use stripe size of 64KB for SQL Server OLTP application.</span></span> |<span data-ttu-id="9a70b-329">Tamanho maior de distribuição para padrão grande de E/S sequencial visto em aplicativos de data warehouse.</span><span class="sxs-lookup"><span data-stu-id="9a70b-329">Larger stripe size for sequential large IO pattern seen in Data Warehouse applications.</span></span> <span data-ttu-id="9a70b-330">Por exemplo, use o tamanho de distribuição de 256 KB para aplicativo de data warehouse do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="9a70b-330">E.g., use 256KB stripe size for SQL Server Data warehouse application.</span></span> | &nbsp; |
| <span data-ttu-id="9a70b-331">**Multithreading**</span><span class="sxs-lookup"><span data-stu-id="9a70b-331">**Multithreading**</span></span> |<span data-ttu-id="9a70b-332">Use multithreading toopush um maior número de solicitações tooPremium armazenamento que levará toohigher IOPS e taxa de transferência.</span><span class="sxs-lookup"><span data-stu-id="9a70b-332">Use multithreading toopush higher number of requests tooPremium Storage that will lead toohigher IOPS and Throughput.</span></span> <span data-ttu-id="9a70b-333">Por exemplo, no SQL Server definir uma alta tooallocate de valor MAXDOP mais CPUs tooSQL Server.</span><span class="sxs-lookup"><span data-stu-id="9a70b-333">For example, on SQL Server set a high MAXDOP value tooallocate more CPUs tooSQL Server.</span></span> | &nbsp; | &nbsp; |
| <span data-ttu-id="9a70b-334">**Profundidade da Fila**</span><span class="sxs-lookup"><span data-stu-id="9a70b-334">**Queue Depth**</span></span> |<span data-ttu-id="9a70b-335">Profundidade da fila maior gera IOPS mais alta.</span><span class="sxs-lookup"><span data-stu-id="9a70b-335">Larger Queue Depth yields higher IOPS.</span></span> |<span data-ttu-id="9a70b-336">Uma Profundidade da Fila maior gera uma Taxa de Transferência mais alta.</span><span class="sxs-lookup"><span data-stu-id="9a70b-336">Larger Queue Depth yields higher Throughput.</span></span> |<span data-ttu-id="9a70b-337">Profundidade da fila menor gera latências mais baixas.</span><span class="sxs-lookup"><span data-stu-id="9a70b-337">Smaller Queue Depth yields lower latencies.</span></span> |

## <a name="nature-of-io-requests"></a><span data-ttu-id="9a70b-338">Natureza das solicitações de E/S</span><span class="sxs-lookup"><span data-stu-id="9a70b-338">Nature of IO Requests</span></span>
<span data-ttu-id="9a70b-339">Uma solicitação de E/S é uma unidade da operação de entrada/saída que seu aplicativo executará.</span><span class="sxs-lookup"><span data-stu-id="9a70b-339">An IO request is a unit of input/output operation that your application will be performing.</span></span> <span data-ttu-id="9a70b-340">Identificar a natureza da saudação de solicitações de e/s aleatórias ou sequenciais, leitura ou gravação, pequena ou grande, o ajudará a determinar os requisitos de desempenho de saudação do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-340">Identifying hello nature of IO requests, random or sequential, read or write, small or large, will help you determine hello performance requirements of your application.</span></span> <span data-ttu-id="9a70b-341">É muito importante toounderstand natureza de saudação de solicitações de e/s, toomake Olá as decisões certas durante a criação de sua infraestrutura de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-341">It is very important toounderstand hello nature of IO requests, toomake hello right decisions when designing your application infrastructure.</span></span>

<span data-ttu-id="9a70b-342">Tamanho de e/s é uma saudação fatores mais importantes.</span><span class="sxs-lookup"><span data-stu-id="9a70b-342">IO size is one of hello more important factors.</span></span> <span data-ttu-id="9a70b-343">saudação de e/s é o tamanho de saudação da solicitação de operação de entrada/saída Olá gerado pelo seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-343">hello IO size is hello size of hello input/output operation request generated by your application.</span></span> <span data-ttu-id="9a70b-344">saudação de e/s tem um impacto significativo no desempenho, especialmente em Olá IOPS e largura de banda Olá aplicativo é capaz de tooachieve.</span><span class="sxs-lookup"><span data-stu-id="9a70b-344">hello IO size has a significant impact on performance especially on hello IOPS and Bandwidth that hello application is able tooachieve.</span></span> <span data-ttu-id="9a70b-345">Olá, fórmula a seguir mostra a relação Olá entre IOPS, tamanho de e/s e largura de banda/taxa de transferência.</span><span class="sxs-lookup"><span data-stu-id="9a70b-345">hello following formula shows hello relationship between IOPS, IO size and Bandwidth/Throughput.</span></span>  
    ![](media/storage-premium-storage-performance/image1.png)

<span data-ttu-id="9a70b-346">Alguns aplicativos permitem tooalter suas e/s de tamanho, enquanto alguns aplicativos não.</span><span class="sxs-lookup"><span data-stu-id="9a70b-346">Some applications allow you tooalter their IO size, while some applications do not.</span></span> <span data-ttu-id="9a70b-347">Por exemplo, SQL Server determina o tamanho e/s ideal Olá em si e não fornecer aos usuários qualquer toochange botões-lo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-347">For example, SQL Server determines hello optimal IO size itself, and does not provide users with any knobs toochange it.</span></span> <span data-ttu-id="9a70b-348">Em Olá outro lado, a Oracle fornece um parâmetro chamado [DB\_bloquear\_tamanho](https://docs.oracle.com/cd/B19306_01/server.102/b14211/iodesign.htm#i28815) com o qual você pode configurar Olá tamanho da solicitação de e/s de banco de dados de saudação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-348">On hello other hand, Oracle provides a parameter called [DB\_BLOCK\_SIZE](https://docs.oracle.com/cd/B19306_01/server.102/b14211/iodesign.htm#i28815) using which you can configure hello I/O request size of hello database.</span></span>

<span data-ttu-id="9a70b-349">Se você estiver usando um aplicativo, que não permite que você toochange Olá de e/s, use as diretrizes de saudação neste artigo toooptimize Olá KPI de desempenho com aplicativo tooyour mais relevantes.</span><span class="sxs-lookup"><span data-stu-id="9a70b-349">If you are using an application, which does not allow you toochange hello IO size, use hello guidelines in this article toooptimize hello performance KPI that is most relevant tooyour application.</span></span> <span data-ttu-id="9a70b-350">Por exemplo,</span><span class="sxs-lookup"><span data-stu-id="9a70b-350">For example,</span></span>

* <span data-ttu-id="9a70b-351">Um aplicativo OLTP gera milhões de solicitações de E/S pequenas e aleatórias.</span><span class="sxs-lookup"><span data-stu-id="9a70b-351">An OLTP application generates millions of small and random IO requests.</span></span> <span data-ttu-id="9a70b-352">solicitações de toohandle esses tipo de e/s, você deve projetar seu tooget de infraestrutura de aplicativo mais IOPS.</span><span class="sxs-lookup"><span data-stu-id="9a70b-352">toohandle these type of IO requests, you must design your application infrastructure tooget higher IOPS.</span></span>  
* <span data-ttu-id="9a70b-353">Um aplicativo de data warehouse gera solicitações de E/S grandes e sequenciais.</span><span class="sxs-lookup"><span data-stu-id="9a70b-353">A data warehousing application generates large and sequential IO requests.</span></span> <span data-ttu-id="9a70b-354">toohandle esses tipo de solicitações de e/s, você deve projetar seu tooget de infraestrutura do aplicativo maior largura de banda ou de taxa de transferência.</span><span class="sxs-lookup"><span data-stu-id="9a70b-354">toohandle these type of IO requests, you must design your application infrastructure tooget higher Bandwidth or Throughput.</span></span>

<span data-ttu-id="9a70b-355">Se você estiver usando um aplicativo, o que permite o tamanho de e/s de saudação toochange, use esta regra geral para hello e/s de tamanho além tooother diretrizes de desempenho,</span><span class="sxs-lookup"><span data-stu-id="9a70b-355">If you are using an application, which allows you toochange hello IO size, use this rule of thumb for hello IO size in addition tooother performance guidelines,</span></span>

* <span data-ttu-id="9a70b-356">Menor tooget de tamanho de e/s IOPS superior.</span><span class="sxs-lookup"><span data-stu-id="9a70b-356">Smaller IO size tooget higher IOPS.</span></span> <span data-ttu-id="9a70b-357">Por exemplo, 8 KB para um aplicativo OLTP.</span><span class="sxs-lookup"><span data-stu-id="9a70b-357">For example, 8 KB for an OLTP application.</span></span>  
* <span data-ttu-id="9a70b-358">Tooget de tamanho de e/s maior largura de banda/taxa de transferência mais alta.</span><span class="sxs-lookup"><span data-stu-id="9a70b-358">Larger IO size tooget higher Bandwidth/Throughput.</span></span> <span data-ttu-id="9a70b-359">Por exemplo, 1024 KB para um aplicativo de data warehouse.</span><span class="sxs-lookup"><span data-stu-id="9a70b-359">For example, 1024 KB for a data warehouse application.</span></span>

<span data-ttu-id="9a70b-360">Aqui está um exemplo sobre como você pode calcular hello IOPS e largura de banda/taxa de transferência para o seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-360">Here is an example on how you can calculate hello IOPS and Throughput/Bandwidth for your application.</span></span> <span data-ttu-id="9a70b-361">Considere um aplicativo usando um disco P30.</span><span class="sxs-lookup"><span data-stu-id="9a70b-361">Consider an application using a P30 disk.</span></span> <span data-ttu-id="9a70b-362">Olá IOPS máximo e taxa de transferência/largura de banda pode obter um disco de P30 é 5.000 IOPS e 200 MB por segundo respectivamente.</span><span class="sxs-lookup"><span data-stu-id="9a70b-362">hello maximum IOPS and Throughput/Bandwidth a P30 disk can achieve is 5000 IOPS and 200 MB per second respectively.</span></span> <span data-ttu-id="9a70b-363">Agora, se seu aplicativo exigir Olá que IOPS máximo do disco Olá P30 e você usar um tamanho menor de e/s como 8 KB, hello resultante da largura de banda será capaz de tooget é 40 MB por segundo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-363">Now, if your application requires hello maximum IOPS from hello P30 disk and you use a smaller IO size like 8 KB, hello resulting Bandwidth you will be able tooget is 40 MB per second.</span></span> <span data-ttu-id="9a70b-364">No entanto, se seu aplicativo exigir Olá taxa de transferência/largura de banda máxima de disco P30 e você usar um tamanho maior de e/s como 1024 KB, hello IOPS resultante será menor, 200 IOPS.</span><span class="sxs-lookup"><span data-stu-id="9a70b-364">However, if your application requires hello maximum Throughput/Bandwidth from P30 disk, and you use a larger IO size like 1024 KB, hello resulting IOPS will be less, 200 IOPS.</span></span> <span data-ttu-id="9a70b-365">Portanto, ajuste o tamanho de e/s de hello, de modo que ele atende aos requisitos de IOPS e largura de banda/taxa de transferência de ambos do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-365">Therefore, tune hello IO size such that it meets both your application's IOPS and Throughput/Bandwidth requirement.</span></span> <span data-ttu-id="9a70b-366">Tabela a seguir resume os tamanhos diferentes de e/s hello e suas IOPS e taxa de transferência para um disco P30.</span><span class="sxs-lookup"><span data-stu-id="9a70b-366">Table below summarizes hello different IO sizes and their corresponding IOPS and Throughput for a P30 disk.</span></span>

| <span data-ttu-id="9a70b-367">Requisito de aplicativo</span><span class="sxs-lookup"><span data-stu-id="9a70b-367">Application Requirement</span></span> | <span data-ttu-id="9a70b-368">Tamanho de E/S</span><span class="sxs-lookup"><span data-stu-id="9a70b-368">I/O size</span></span> | <span data-ttu-id="9a70b-369">IOPS</span><span class="sxs-lookup"><span data-stu-id="9a70b-369">IOPS</span></span> | <span data-ttu-id="9a70b-370">Taxa de Transferência/Largura de Banda</span><span class="sxs-lookup"><span data-stu-id="9a70b-370">Throughput/Bandwidth</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="9a70b-371">IOPS Máxima</span><span class="sxs-lookup"><span data-stu-id="9a70b-371">Max IOPS</span></span> |<span data-ttu-id="9a70b-372">8 KB</span><span class="sxs-lookup"><span data-stu-id="9a70b-372">8 KB</span></span> |<span data-ttu-id="9a70b-373">5.000</span><span class="sxs-lookup"><span data-stu-id="9a70b-373">5,000</span></span> |<span data-ttu-id="9a70b-374">40 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="9a70b-374">40 MB per second</span></span> |
| <span data-ttu-id="9a70b-375">Taxa de Transferência Máxima</span><span class="sxs-lookup"><span data-stu-id="9a70b-375">Max Throughput</span></span> |<span data-ttu-id="9a70b-376">1024 KB</span><span class="sxs-lookup"><span data-stu-id="9a70b-376">1024 KB</span></span> |<span data-ttu-id="9a70b-377">200</span><span class="sxs-lookup"><span data-stu-id="9a70b-377">200</span></span> |<span data-ttu-id="9a70b-378">200 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="9a70b-378">200 MB per second</span></span> |
| <span data-ttu-id="9a70b-379">Taxa de Transferência Máxima + IOPS alta</span><span class="sxs-lookup"><span data-stu-id="9a70b-379">Max Throughput + high IOPS</span></span> |<span data-ttu-id="9a70b-380">64 KB</span><span class="sxs-lookup"><span data-stu-id="9a70b-380">64 KB</span></span> |<span data-ttu-id="9a70b-381">3.200</span><span class="sxs-lookup"><span data-stu-id="9a70b-381">3,200</span></span> |<span data-ttu-id="9a70b-382">200 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="9a70b-382">200 MB per second</span></span> |
| <span data-ttu-id="9a70b-383">IOPS máxima + Taxa de Transferência alta</span><span class="sxs-lookup"><span data-stu-id="9a70b-383">Max IOPS + high Throughput</span></span> |<span data-ttu-id="9a70b-384">32 KB</span><span class="sxs-lookup"><span data-stu-id="9a70b-384">32 KB</span></span> |<span data-ttu-id="9a70b-385">5.000</span><span class="sxs-lookup"><span data-stu-id="9a70b-385">5,000</span></span> |<span data-ttu-id="9a70b-386">160 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="9a70b-386">160 MB per second</span></span> |

<span data-ttu-id="9a70b-387">tooget IOPS e largura de banda maior do que o valor máximo de saudação de um disco de armazenamento premium única, use vários discos de premium distribuídos juntos.</span><span class="sxs-lookup"><span data-stu-id="9a70b-387">tooget IOPS and Bandwidth higher than hello maximum value of a single premium storage disk, use multiple premium disks striped together.</span></span> <span data-ttu-id="9a70b-388">Por exemplo, distribua dois tooget de discos P30 um IOPS combinado de IOPS de 10.000 ou uma taxa de transferência combinada de 400 MB por segundo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-388">For example, stripe two P30 disks tooget a combined IOPS of 10,000 IOPS or a combined Throughput of 400 MB per second.</span></span> <span data-ttu-id="9a70b-389">Conforme explicado na próxima seção, Olá, você deve usar um tamanho VM que oferece suporte a saudação combinada IOPS de disco e taxa de transferência.</span><span class="sxs-lookup"><span data-stu-id="9a70b-389">As explained in hello next section, you must use a VM size that supports hello combined disk IOPS and Throughput.</span></span>

> [!NOTE]
> <span data-ttu-id="9a70b-390">Como aumentar o IOPS ou saudação de taxa de transferência outros também aumenta, verifique se que você não clicar em taxa de transferência ou limites IOPS de disco de saudação ou VM quando aumentar um.</span><span class="sxs-lookup"><span data-stu-id="9a70b-390">As you increase either IOPS or Throughput hello other also increases, make sure you do not hit throughput or IOPS limits of hello disk or VM when increasing either one.</span></span>
>
>

<span data-ttu-id="9a70b-391">toowitness Olá efeitos de tamanho de e/s no desempenho do aplicativo, você pode executar ferramentas de avaliação no VM e discos.</span><span class="sxs-lookup"><span data-stu-id="9a70b-391">toowitness hello effects of IO size on application performance, you can run benchmarking tools on your VM and disks.</span></span> <span data-ttu-id="9a70b-392">Criar várias execuções de teste e usar o tamanho diferente de e/s para cada impacto de saudação toosee de execução.</span><span class="sxs-lookup"><span data-stu-id="9a70b-392">Create multiple test runs and use different IO size for each run toosee hello impact.</span></span> <span data-ttu-id="9a70b-393">Consulte toohello [Benchmarking](#Benchmarking) seção Olá final deste artigo para obter mais detalhes.</span><span class="sxs-lookup"><span data-stu-id="9a70b-393">Refer toohello [Benchmarking](#Benchmarking) section at hello end of this article for more details.</span></span>

## <a name="high-scale-vm-sizes"></a><span data-ttu-id="9a70b-394">Tamanhos de VM de alta escala</span><span class="sxs-lookup"><span data-stu-id="9a70b-394">High Scale VM Sizes</span></span>
<span data-ttu-id="9a70b-395">Quando você começar a criar um aplicativo, uma saudação primeiro coisas toodo é, escolha uma VM toohost seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-395">When you start designing an application, one of hello first things toodo is, choose a VM toohost your application.</span></span> <span data-ttu-id="9a70b-396">O Armazenamento Premium surge com os tamanhos de VM de alta escala que podem executar aplicativos que exigem potência mais alta de computação e um alto desempenho de E/S do disco local.</span><span class="sxs-lookup"><span data-stu-id="9a70b-396">Premium Storage comes with High Scale VM sizes that can run applications requiring higher compute power and a high local disk I/O performance.</span></span> <span data-ttu-id="9a70b-397">Essas VMs fornecem processadores mais rápidos, uma maior taxa de memória por núcleo e um Solid-State unidade (SSD) para o disco local hello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-397">These VMs provide faster processors, a higher memory-to-core ratio, and a Solid-State Drive (SSD) for hello local disk.</span></span> <span data-ttu-id="9a70b-398">Exemplos de alta VMs de escala, dando suporte a armazenamento Premium são Olá DS, série DSv2 e GS VMs da série.</span><span class="sxs-lookup"><span data-stu-id="9a70b-398">Examples of High Scale VMs supporting Premium Storage are hello DS, DSv2 and GS series VMs.</span></span>

<span data-ttu-id="9a70b-399">As VMs de alta escala estão disponíveis em diferentes tamanhos com diferentes números de núcleos de CPU, memória, sistema operacional e tamanho de disco temporário.</span><span class="sxs-lookup"><span data-stu-id="9a70b-399">High Scale VMs are available in different sizes with a different number of CPU cores, memory, OS and temporary disk size.</span></span> <span data-ttu-id="9a70b-400">Cada tamanho VM também tem o número máximo de discos de dados que você pode anexar toohello VM.</span><span class="sxs-lookup"><span data-stu-id="9a70b-400">Each VM size also has maximum number of data disks that you can attach toohello VM.</span></span> <span data-ttu-id="9a70b-401">Portanto, o tamanho da VM Olá escolhido afetará quanta capacidade de processamento, memória e armazenamento está disponível para seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-401">Therefore, hello chosen VM size will affect how much processing, memory, and storage capacity is available for your application.</span></span> <span data-ttu-id="9a70b-402">Isso também afeta hello computação e o custo de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="9a70b-402">It also affects hello Compute and Storage cost.</span></span> <span data-ttu-id="9a70b-403">Por exemplo, abaixo estão as especificações de Olá Olá maior do tamanho da VM em uma série DS, série DSv2 série e uma série GS:</span><span class="sxs-lookup"><span data-stu-id="9a70b-403">For example, below are hello specifications of hello largest VM size in a DS series, DSv2 series and a GS series:</span></span>

| <span data-ttu-id="9a70b-404">Tamanho da VM</span><span class="sxs-lookup"><span data-stu-id="9a70b-404">VM size</span></span> | <span data-ttu-id="9a70b-405">Núcleos de CPU</span><span class="sxs-lookup"><span data-stu-id="9a70b-405">CPU cores</span></span> | <span data-ttu-id="9a70b-406">Memória</span><span class="sxs-lookup"><span data-stu-id="9a70b-406">Memory</span></span> | <span data-ttu-id="9a70b-407">Tamanhos de disco da VM</span><span class="sxs-lookup"><span data-stu-id="9a70b-407">VM disk sizes</span></span> | <span data-ttu-id="9a70b-408">Máx.</span><span class="sxs-lookup"><span data-stu-id="9a70b-408">Max.</span></span> <span data-ttu-id="9a70b-409">de discos de dados</span><span class="sxs-lookup"><span data-stu-id="9a70b-409">data disks</span></span> | <span data-ttu-id="9a70b-410">Tamanho do cache</span><span class="sxs-lookup"><span data-stu-id="9a70b-410">Cache size</span></span> | <span data-ttu-id="9a70b-411">IOPS</span><span class="sxs-lookup"><span data-stu-id="9a70b-411">IOPS</span></span> | <span data-ttu-id="9a70b-412">Limites de E/S do cache da largura de banda</span><span class="sxs-lookup"><span data-stu-id="9a70b-412">Bandwidth Cache IO limits</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="9a70b-413">Standard_DS14</span><span class="sxs-lookup"><span data-stu-id="9a70b-413">Standard_DS14</span></span> |<span data-ttu-id="9a70b-414">16</span><span class="sxs-lookup"><span data-stu-id="9a70b-414">16</span></span> |<span data-ttu-id="9a70b-415">112 GB</span><span class="sxs-lookup"><span data-stu-id="9a70b-415">112 GB</span></span> |<span data-ttu-id="9a70b-416">SO = 1023 GB </span><span class="sxs-lookup"><span data-stu-id="9a70b-416">OS = 1023 GB</span></span> <br> <span data-ttu-id="9a70b-417">SSD local = 224 GB</span><span class="sxs-lookup"><span data-stu-id="9a70b-417">Local SSD = 224 GB</span></span> |<span data-ttu-id="9a70b-418">32</span><span class="sxs-lookup"><span data-stu-id="9a70b-418">32</span></span> |<span data-ttu-id="9a70b-419">576 GB</span><span class="sxs-lookup"><span data-stu-id="9a70b-419">576 GB</span></span> |<span data-ttu-id="9a70b-420">50.000 IOPS </span><span class="sxs-lookup"><span data-stu-id="9a70b-420">50,000 IOPS</span></span> <br> <span data-ttu-id="9a70b-421">512 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="9a70b-421">512 MB per second</span></span> |<span data-ttu-id="9a70b-422">4.000 IOPS e 33 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="9a70b-422">4,000 IOPS and 33 MB per second</span></span> |
| <span data-ttu-id="9a70b-423">Standard_GS5</span><span class="sxs-lookup"><span data-stu-id="9a70b-423">Standard_GS5</span></span> |<span data-ttu-id="9a70b-424">32</span><span class="sxs-lookup"><span data-stu-id="9a70b-424">32</span></span> |<span data-ttu-id="9a70b-425">448 GB</span><span class="sxs-lookup"><span data-stu-id="9a70b-425">448 GB</span></span> |<span data-ttu-id="9a70b-426">SO = 1023 GB </span><span class="sxs-lookup"><span data-stu-id="9a70b-426">OS = 1023 GB</span></span> <br> <span data-ttu-id="9a70b-427">SSD local = 896 GB</span><span class="sxs-lookup"><span data-stu-id="9a70b-427">Local SSD = 896 GB</span></span> |<span data-ttu-id="9a70b-428">64</span><span class="sxs-lookup"><span data-stu-id="9a70b-428">64</span></span> |<span data-ttu-id="9a70b-429">4224 GB</span><span class="sxs-lookup"><span data-stu-id="9a70b-429">4224 GB</span></span> |<span data-ttu-id="9a70b-430">80.000 IOPS </span><span class="sxs-lookup"><span data-stu-id="9a70b-430">80,000 IOPS</span></span> <br> <span data-ttu-id="9a70b-431">2.000 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="9a70b-431">2,000 MB per second</span></span> |<span data-ttu-id="9a70b-432">5.000 IOPS e 50 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="9a70b-432">5,000 IOPS and 50 MB per second</span></span> |

<span data-ttu-id="9a70b-433">tooview uma lista completa de todos os tamanhos de VM do Azure disponíveis, consulte muito[tamanhos de VM do Windows](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) ou [tamanhos de VM do Linux](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="9a70b-433">tooview a complete list of all available Azure VM sizes, refer too[Windows VM sizes](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) or [Linux VM sizes](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span> <span data-ttu-id="9a70b-434">Escolha um tamanho VM que pode atender e dimensionar os requisitos de desempenho de aplicativo tooyour desejado.</span><span class="sxs-lookup"><span data-stu-id="9a70b-434">Choose a VM size that can meet and scale tooyour desired application performance requirements.</span></span> <span data-ttu-id="9a70b-435">Além disso toothis, leve em consideração a seguir considerações importantes ao escolher tamanhos de VM.</span><span class="sxs-lookup"><span data-stu-id="9a70b-435">In addition toothis, take into account following important considerations when choosing VM sizes.</span></span>

<span data-ttu-id="9a70b-436">*Limites de Escala*</span><span class="sxs-lookup"><span data-stu-id="9a70b-436">*Scale Limits*</span></span>  
<span data-ttu-id="9a70b-437">Olá limites máximos de IOPS por VM e por disco são diferentes e independentes um do outro.</span><span class="sxs-lookup"><span data-stu-id="9a70b-437">hello maximum IOPS limits per VM and per disk are different and independent of each other.</span></span> <span data-ttu-id="9a70b-438">Certifique-se de que o aplicativo hello está gerando IOPS dentro dos limites de saudação VM, bem como Olá premium discos anexados tooit hello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-438">Make sure that hello application is driving IOPS within hello limits of hello VM as well as hello premium disks attached tooit.</span></span> <span data-ttu-id="9a70b-439">Caso contrário, o desempenho do aplicativo será limitado.</span><span class="sxs-lookup"><span data-stu-id="9a70b-439">Otherwise, application performance will experience throttling.</span></span>

<span data-ttu-id="9a70b-440">Por exemplo, suponha que o requisito de um aplicativo seja de 4.000 IOPS.</span><span class="sxs-lookup"><span data-stu-id="9a70b-440">As an example, suppose an application requirement is a maximum of 4,000 IOPS.</span></span> <span data-ttu-id="9a70b-441">tooachieve isso, você provisionar um disco P30 em uma VM DS1.</span><span class="sxs-lookup"><span data-stu-id="9a70b-441">tooachieve this, you provision a P30 disk on a DS1 VM.</span></span> <span data-ttu-id="9a70b-442">disco de P30 Olá proporcionam até too5, IOPS, 000.</span><span class="sxs-lookup"><span data-stu-id="9a70b-442">hello P30 disk can deliver up too5,000 IOPS.</span></span> <span data-ttu-id="9a70b-443">No entanto, Olá VM DS1 é limitado too3, 200 IOPS.</span><span class="sxs-lookup"><span data-stu-id="9a70b-443">However, hello DS1 VM is limited too3,200 IOPS.</span></span> <span data-ttu-id="9a70b-444">Consequentemente, o desempenho do aplicativo hello será limitado pelo limite VM Olá em 3.200 IOPS e haverá degradação do desempenho.</span><span class="sxs-lookup"><span data-stu-id="9a70b-444">Consequently, hello application performance will be constrained by hello VM limit at 3,200 IOPS and there will be degraded performance.</span></span> <span data-ttu-id="9a70b-445">tooprevent nessa situação, escolha uma máquina virtual e tamanho que ambos os requisitos do aplicativo atenda de disco.</span><span class="sxs-lookup"><span data-stu-id="9a70b-445">tooprevent this situation, choose a VM and disk size that will both meet application requirements.</span></span>

<span data-ttu-id="9a70b-446">*Custo da operação*</span><span class="sxs-lookup"><span data-stu-id="9a70b-446">*Cost of Operation*</span></span>  
<span data-ttu-id="9a70b-447">Em muitos casos, é possível que o custo geral de operação usando o Armazenamento Premium seja menor do que usando o Armazenamento Padrão.</span><span class="sxs-lookup"><span data-stu-id="9a70b-447">In many cases, it is possible that your overall cost of operation using Premium Storage is lower than using Standard Storage.</span></span>

<span data-ttu-id="9a70b-448">Por exemplo, considere um aplicativo que exija 16.000 IOPS.</span><span class="sxs-lookup"><span data-stu-id="9a70b-448">For example, consider an application requiring 16,000 IOPS.</span></span> <span data-ttu-id="9a70b-449">tooachieve esse desempenho, você precisará de um padrão\_D14 Azure IaaS VM, o que pode dar a um máximo de IOPS de 16.000 usando 32 discos de 1 TB de armazenamento padrão.</span><span class="sxs-lookup"><span data-stu-id="9a70b-449">tooachieve this performance, you will need a Standard\_D14 Azure IaaS VM, which can give a maximum IOPS of 16,000 using 32 standard storage 1TB disks.</span></span> <span data-ttu-id="9a70b-450">Cada disco de armazenamento padrão de 1TB pode atingir um máximo de 500 IOPS.</span><span class="sxs-lookup"><span data-stu-id="9a70b-450">Each 1TB standard storage disk can achieve a maximum of 500 IOPS.</span></span> <span data-ttu-id="9a70b-451">Olá estimativa de custo desta VM por mês será de US $1,570.</span><span class="sxs-lookup"><span data-stu-id="9a70b-451">hello estimated cost of this VM per month will be $1,570.</span></span> <span data-ttu-id="9a70b-452">custo mensal de saudação do 32 discos de armazenamento padrão será $1,638.</span><span class="sxs-lookup"><span data-stu-id="9a70b-452">hello monthly cost of 32 standard storage disks will be $1,638.</span></span> <span data-ttu-id="9a70b-453">Olá estimativa de custo mensal total será $3,208.</span><span class="sxs-lookup"><span data-stu-id="9a70b-453">hello estimated total monthly cost will be $3,208.</span></span>

<span data-ttu-id="9a70b-454">No entanto, se você hospedado Olá mesmo aplicativo no armazenamento Premium, será necessário um tamanho menor de VM e discos de armazenamento premium menos, reduzindo o custo geral de saudação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-454">However, if you hosted hello same application on Premium Storage, you will need a smaller VM size and fewer premium storage disks, thus reducing hello overall cost.</span></span> <span data-ttu-id="9a70b-455">Um padrão\_DS13 VM pode atender aos requisitos de IOPS Olá 16.000 usando quatro discos P30.</span><span class="sxs-lookup"><span data-stu-id="9a70b-455">A Standard\_DS13 VM can meet hello 16,000 IOPS requirement using four P30 disks.</span></span> <span data-ttu-id="9a70b-456">Olá DS13 VM tem um máximo de IOPS 25,600 e cada disco P30 tem um máximo de IOPS de 5.000.</span><span class="sxs-lookup"><span data-stu-id="9a70b-456">hello DS13 VM has a maximum IOPS of 25,600 and each P30 disk has a maximum IOPS of 5,000.</span></span> <span data-ttu-id="9a70b-457">Em geral, essa configuração pode alcançar 5.000 x 4 = 20.000 IOPS.</span><span class="sxs-lookup"><span data-stu-id="9a70b-457">Overall, this configuration can achieve 5,000 x 4 = 20,000 IOPS.</span></span> <span data-ttu-id="9a70b-458">Olá estimativa de custo desta VM por mês será de US $1,003.</span><span class="sxs-lookup"><span data-stu-id="9a70b-458">hello estimated cost of this VM per month will be $1,003.</span></span> <span data-ttu-id="9a70b-459">custo mensal de saudação do quatro discos de armazenamento premium P30 será $544.34.</span><span class="sxs-lookup"><span data-stu-id="9a70b-459">hello monthly cost of four P30 premium storage disks will be $544.34.</span></span> <span data-ttu-id="9a70b-460">Olá estimativa de custo mensal total será $1,544.</span><span class="sxs-lookup"><span data-stu-id="9a70b-460">hello estimated total monthly cost will be $1,544.</span></span>

<span data-ttu-id="9a70b-461">Tabela a seguir resume a divisão de custo Olá deste cenário para Standard e Premium armazenamento.</span><span class="sxs-lookup"><span data-stu-id="9a70b-461">Table below summarizes hello cost breakdown of this scenario for Standard and Premium Storage.</span></span>

| &nbsp; | <span data-ttu-id="9a70b-462">**Standard**</span><span class="sxs-lookup"><span data-stu-id="9a70b-462">**Standard**</span></span> | <span data-ttu-id="9a70b-463">**Premium**</span><span class="sxs-lookup"><span data-stu-id="9a70b-463">**Premium**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="9a70b-464">**Custo de VM por mês**</span><span class="sxs-lookup"><span data-stu-id="9a70b-464">**Cost of VM per month**</span></span> |<span data-ttu-id="9a70b-465">US$ 1.570,58 (Standard\_D14)</span><span class="sxs-lookup"><span data-stu-id="9a70b-465">$1,570.58 (Standard\_D14)</span></span> |<span data-ttu-id="9a70b-466">US$ 1.003,66 (Standard\_DS13)</span><span class="sxs-lookup"><span data-stu-id="9a70b-466">$1,003.66 (Standard\_DS13)</span></span> |
| <span data-ttu-id="9a70b-467">**Custo de discos por mês**</span><span class="sxs-lookup"><span data-stu-id="9a70b-467">**Cost of Disks per month**</span></span> |<span data-ttu-id="9a70b-468">US$ 1.638,40 (32 discos x 1 TB)</span><span class="sxs-lookup"><span data-stu-id="9a70b-468">$1,638.40 (32 x 1 TB disks)</span></span> |<span data-ttu-id="9a70b-469">US$ 544,34 (4 discos x P30)</span><span class="sxs-lookup"><span data-stu-id="9a70b-469">$544.34 (4 x P30 disks)</span></span> |
| <span data-ttu-id="9a70b-470">**Custo geral por mês**</span><span class="sxs-lookup"><span data-stu-id="9a70b-470">**Overall Cost per month**</span></span> |<span data-ttu-id="9a70b-471">US$ 3.208,98</span><span class="sxs-lookup"><span data-stu-id="9a70b-471">$3,208.98</span></span> |<span data-ttu-id="9a70b-472">US$ 1.544,34</span><span class="sxs-lookup"><span data-stu-id="9a70b-472">$1,544.34</span></span> |

<span data-ttu-id="9a70b-473">*Distribuições do Linux*</span><span class="sxs-lookup"><span data-stu-id="9a70b-473">*Linux Distros*</span></span>  

<span data-ttu-id="9a70b-474">Com o armazenamento do Azure Premium, você obtém Olá mesmo nível de desempenho para as VMs que executam o Windows e Linux.</span><span class="sxs-lookup"><span data-stu-id="9a70b-474">With Azure Premium Storage, you get hello same level of Performance for VMs running Windows and Linux.</span></span> <span data-ttu-id="9a70b-475">Há suporte para vários tipos de distribuições de Linux, e você pode ver a lista completa de saudação [aqui](../../virtual-machines/linux/endorsed-distros.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="9a70b-475">We support many flavors of Linux distros, and you can see hello complete list [here](../../virtual-machines/linux/endorsed-distros.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span> <span data-ttu-id="9a70b-476">É importante toonote que diferentes distribuições são melhores adequado para diferentes tipos de cargas de trabalho.</span><span class="sxs-lookup"><span data-stu-id="9a70b-476">It is important toonote that different distros are better suited for different types of workloads.</span></span> <span data-ttu-id="9a70b-477">Você verá diferentes níveis de desempenho, dependendo da distribuição Olá que sua carga de trabalho está em execução no.</span><span class="sxs-lookup"><span data-stu-id="9a70b-477">You will see different levels of performance depending on hello distro your workload is running on.</span></span> <span data-ttu-id="9a70b-478">Olá distribuições de Linux com o seu aplicativo de teste e escolha Olá que funciona melhor.</span><span class="sxs-lookup"><span data-stu-id="9a70b-478">Test hello Linux distros with your application and choose hello one that works best.</span></span>

<span data-ttu-id="9a70b-479">Quando executando o Linux com o armazenamento Premium, verifica se há atualizações mais recentes de saudação sobre drivers necessários tooensure de alto desempenho.</span><span class="sxs-lookup"><span data-stu-id="9a70b-479">When running Linux with Premium Storage, check hello latest updates about required drivers tooensure high performance.</span></span>

## <a name="premium-storage-disk-sizes"></a><span data-ttu-id="9a70b-480">Tamanhos de disco do Armazenamento Premium</span><span class="sxs-lookup"><span data-stu-id="9a70b-480">Premium Storage Disk Sizes</span></span>
<span data-ttu-id="9a70b-481">Atualmente, o Armazenamento Premium do Azure oferece sete tamanhos de disco.</span><span class="sxs-lookup"><span data-stu-id="9a70b-481">Azure Premium Storage offers seven disk sizes currently.</span></span> <span data-ttu-id="9a70b-482">Cada tamanho de disco tem um limite de escala diferente para IOPS, largura de banda e armazenamento.</span><span class="sxs-lookup"><span data-stu-id="9a70b-482">Each disk size has a different scale limit for IOPS, Bandwidth and Storage.</span></span> <span data-ttu-id="9a70b-483">Escolha o tamanho correto de disco de armazenamento Premium Olá dependendo requisitos do aplicativo hello e escala de alta Olá tamanho da VM.</span><span class="sxs-lookup"><span data-stu-id="9a70b-483">Choose hello right Premium Storage Disk size depending on hello application requirements and hello high scale VM size.</span></span> <span data-ttu-id="9a70b-484">tabela de Olá abaixo mostra os tamanhos de discos sete hello e seus recursos.</span><span class="sxs-lookup"><span data-stu-id="9a70b-484">hello table below shows hello seven disks sizes and their capabilities.</span></span> <span data-ttu-id="9a70b-485">Atualmente, os tamanhos de disco P4 e P6 têm suporte somente para o Managed Disks.</span><span class="sxs-lookup"><span data-stu-id="9a70b-485">P4 and P6 sizes are currently only supported for Managed Disks.</span></span>

| <span data-ttu-id="9a70b-486">Tipo de discos premium</span><span class="sxs-lookup"><span data-stu-id="9a70b-486">Premium Disks Type</span></span>  | <span data-ttu-id="9a70b-487">P4</span><span class="sxs-lookup"><span data-stu-id="9a70b-487">P4</span></span>    | <span data-ttu-id="9a70b-488">P6</span><span class="sxs-lookup"><span data-stu-id="9a70b-488">P6</span></span>    | <span data-ttu-id="9a70b-489">P10</span><span class="sxs-lookup"><span data-stu-id="9a70b-489">P10</span></span>   | <span data-ttu-id="9a70b-490">P20</span><span class="sxs-lookup"><span data-stu-id="9a70b-490">P20</span></span>   | <span data-ttu-id="9a70b-491">P30</span><span class="sxs-lookup"><span data-stu-id="9a70b-491">P30</span></span>   | <span data-ttu-id="9a70b-492">P40</span><span class="sxs-lookup"><span data-stu-id="9a70b-492">P40</span></span>   | <span data-ttu-id="9a70b-493">P50</span><span class="sxs-lookup"><span data-stu-id="9a70b-493">P50</span></span>   | 
|---------------------|-------|-------|-------|-------|-------|-------|-------|
| <span data-ttu-id="9a70b-494">Tamanho do disco</span><span class="sxs-lookup"><span data-stu-id="9a70b-494">Disk size</span></span>           | <span data-ttu-id="9a70b-495">32 GB</span><span class="sxs-lookup"><span data-stu-id="9a70b-495">32 GB</span></span> | <span data-ttu-id="9a70b-496">64 GB</span><span class="sxs-lookup"><span data-stu-id="9a70b-496">64 GB</span></span> | <span data-ttu-id="9a70b-497">128 GB</span><span class="sxs-lookup"><span data-stu-id="9a70b-497">128 GB</span></span>| <span data-ttu-id="9a70b-498">512 GB</span><span class="sxs-lookup"><span data-stu-id="9a70b-498">512 GB</span></span>            | <span data-ttu-id="9a70b-499">1024 GB (1 TB)</span><span class="sxs-lookup"><span data-stu-id="9a70b-499">1024 GB (1 TB)</span></span>    | <span data-ttu-id="9a70b-500">2048 GB (2 TB)</span><span class="sxs-lookup"><span data-stu-id="9a70b-500">2048 GB (2 TB)</span></span>    | <span data-ttu-id="9a70b-501">4095 GB (4 TB)</span><span class="sxs-lookup"><span data-stu-id="9a70b-501">4095 GB (4 TB)</span></span>    | 
| <span data-ttu-id="9a70b-502">IOPS por disco</span><span class="sxs-lookup"><span data-stu-id="9a70b-502">IOPS per disk</span></span>       | <span data-ttu-id="9a70b-503">120</span><span class="sxs-lookup"><span data-stu-id="9a70b-503">120</span></span>   | <span data-ttu-id="9a70b-504">240</span><span class="sxs-lookup"><span data-stu-id="9a70b-504">240</span></span>   | <span data-ttu-id="9a70b-505">500</span><span class="sxs-lookup"><span data-stu-id="9a70b-505">500</span></span>   | <span data-ttu-id="9a70b-506">2.300</span><span class="sxs-lookup"><span data-stu-id="9a70b-506">2300</span></span>              | <span data-ttu-id="9a70b-507">5.000</span><span class="sxs-lookup"><span data-stu-id="9a70b-507">5000</span></span>              | <span data-ttu-id="9a70b-508">7500</span><span class="sxs-lookup"><span data-stu-id="9a70b-508">7500</span></span>              | <span data-ttu-id="9a70b-509">7500</span><span class="sxs-lookup"><span data-stu-id="9a70b-509">7500</span></span>              | 
| <span data-ttu-id="9a70b-510">Taxa de transferência por disco</span><span class="sxs-lookup"><span data-stu-id="9a70b-510">Throughput per disk</span></span> | <span data-ttu-id="9a70b-511">25 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="9a70b-511">25 MB per second</span></span>  | <span data-ttu-id="9a70b-512">50 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="9a70b-512">50 MB per second</span></span>  | <span data-ttu-id="9a70b-513">100 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="9a70b-513">100 MB per second</span></span> | <span data-ttu-id="9a70b-514">150 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="9a70b-514">150 MB per second</span></span> | <span data-ttu-id="9a70b-515">200 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="9a70b-515">200 MB per second</span></span> | <span data-ttu-id="9a70b-516">250 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="9a70b-516">250 MB per second</span></span> | <span data-ttu-id="9a70b-517">250 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="9a70b-517">250 MB per second</span></span> | 


<span data-ttu-id="9a70b-518">Quantos discos que você escolher depende de disco Olá tamanho escolhido.</span><span class="sxs-lookup"><span data-stu-id="9a70b-518">How many disks you choose depends on hello disk size chosen.</span></span> <span data-ttu-id="9a70b-519">Você pode usar um disco de P50 único ou vários toomeet de discos P10 seu requisito de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-519">You could use a single P50 disk or multiple P10 disks toomeet your application requirement.</span></span> <span data-ttu-id="9a70b-520">Leve em considerações de conta listadas abaixo ao fazer a escolha de saudação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-520">Take into account considerations listed below when making hello choice.</span></span>

<span data-ttu-id="9a70b-521">*Limites de Escala (IOPS e Taxa de Transferência)*</span><span class="sxs-lookup"><span data-stu-id="9a70b-521">*Scale Limits (IOPS and Throughput)*</span></span>  
<span data-ttu-id="9a70b-522">limites IOPS e taxa de transferência de saudação de cada tamanho de disco Premium é diferente e independente de limites de escala VM hello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-522">hello IOPS and Throughput limits of each Premium disk size is different and independent from hello VM scale limits.</span></span> <span data-ttu-id="9a70b-523">Certifique-se de que Olá IOPS total e taxa de transferência de discos Olá estão dentro dos limites de escala de saudação escolhida tamanho da VM.</span><span class="sxs-lookup"><span data-stu-id="9a70b-523">Make sure that hello total IOPS and Throughput from hello disks are within scale limits of hello chosen VM size.</span></span>

<span data-ttu-id="9a70b-524">Por exemplo, se o requisito de um aplicativo for de, no máximo, 250 MB/s de Taxa de Transferência e você estiver usando uma VM DS4 com um único disco P30.</span><span class="sxs-lookup"><span data-stu-id="9a70b-524">For example, if an application requirement is a maximum of 250 MB/sec Throughput and you are using a DS4 VM with a single P30 disk.</span></span> <span data-ttu-id="9a70b-525">Olá DS4 VM pode fornecer a taxa de transferência too256 MB/s.</span><span class="sxs-lookup"><span data-stu-id="9a70b-525">hello DS4 VM can give up too256 MB/sec Throughput.</span></span> <span data-ttu-id="9a70b-526">No entanto, um único disco P30 tem limite de taxa de transferência de 200 MB/s. Consequentemente, o aplicativo hello será limitado em 200 MB/s de vencimento toohello limite de disco.</span><span class="sxs-lookup"><span data-stu-id="9a70b-526">However, a single P30 disk has Throughput limit of 200 MB/sec. Consequently, hello application will be constrained at 200 MB/sec due toohello disk limit.</span></span> <span data-ttu-id="9a70b-527">tooovercome esse limite, provisionar toohello de discos de dados mais de uma VM ou redimensionar seus discos tooP40 ou P50.</span><span class="sxs-lookup"><span data-stu-id="9a70b-527">tooovercome this limit, provision more than one data disks toohello VM or resize your disks tooP40 or P50.</span></span>

> [!NOTE]
> <span data-ttu-id="9a70b-528">Leituras atendidas pelo cache de saudação não são incluídas no disco Olá IOPS e taxa de transferência, portanto, não sujeito toodisk limites.</span><span class="sxs-lookup"><span data-stu-id="9a70b-528">Reads served by hello cache are not included in hello disk IOPS and Throughput, hence not subject toodisk limits.</span></span> <span data-ttu-id="9a70b-529">O cache tem seu limite de IOPS e Taxa de Transferência separado por VM.</span><span class="sxs-lookup"><span data-stu-id="9a70b-529">Cache has its separate IOPS and Throughput limit per VM.</span></span>
>
> <span data-ttu-id="9a70b-530">Por exemplo, inicialmente as leituras e gravações são de 60 MB/s e 40 MB/s, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="9a70b-530">For example, initially your reads and writes are 60MB/sec and 40MB/sec respectively.</span></span> <span data-ttu-id="9a70b-531">Ao longo do tempo, o cache de saudação aquecido e serve mais Olá leituras do cache de saudação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-531">Over time, hello cache warms up and serves more and more of hello reads from hello cache.</span></span> <span data-ttu-id="9a70b-532">Em seguida, você pode obter gravação maior taxa de transferência do disco hello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-532">Then, you can get higher write Throughput from hello disk.</span></span>
>
>

<span data-ttu-id="9a70b-533">*Número de discos*</span><span class="sxs-lookup"><span data-stu-id="9a70b-533">*Number of Disks*</span></span>  
<span data-ttu-id="9a70b-534">Determine o número de saudação de discos, que você precisará avaliando requisitos do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-534">Determine hello number of disks you will need by assessing application requirements.</span></span> <span data-ttu-id="9a70b-535">Cada tamanho VM também tem um limite no número de saudação de discos que você pode anexar toohello VM.</span><span class="sxs-lookup"><span data-stu-id="9a70b-535">Each VM size also has a limit on hello number of disks that you can attach toohello VM.</span></span> <span data-ttu-id="9a70b-536">Normalmente, isso é Olá dobro de núcleos.</span><span class="sxs-lookup"><span data-stu-id="9a70b-536">Typically, this is twice hello number of cores.</span></span> <span data-ttu-id="9a70b-537">Certifique-se de que o tamanho de VM escolhido pode dar suporte Olá número de discos necessário hello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-537">Ensure that hello VM size you choose can support hello number of disks needed.</span></span>

<span data-ttu-id="9a70b-538">Lembre-se de que os discos de armazenamento Premium Olá tem desempenho superior tooStandard recursos em comparação com discos de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="9a70b-538">Remember, hello Premium Storage disks have higher performance capabilities compared tooStandard Storage disks.</span></span> <span data-ttu-id="9a70b-539">Portanto, se você estiver migrando seu aplicativo do Azure IaaS VM usando o armazenamento padrão tooPremium armazenamento, você provavelmente precisará menos discos premium tooachieve Olá desempenho igual ou superior para o seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-539">Therefore, if you are migrating your application from Azure IaaS VM using Standard Storage tooPremium Storage, you will likely need fewer premium disks tooachieve hello same or higher performance for your application.</span></span>

## <a name="disk-caching"></a><span data-ttu-id="9a70b-540">Cache de disco</span><span class="sxs-lookup"><span data-stu-id="9a70b-540">Disk Caching</span></span>
<span data-ttu-id="9a70b-541">As VMs de alta escala que aproveitam o Armazenamento Premium do Azure têm uma tecnologia de cache de várias camadas chamada BlobCache.</span><span class="sxs-lookup"><span data-stu-id="9a70b-541">High Scale VMs that leverage Azure Premium Storage have a multi-tier caching technology called BlobCache.</span></span> <span data-ttu-id="9a70b-542">BlobCache usa uma combinação de hello RAM de máquina Virtual e SSD local para armazenar em cache.</span><span class="sxs-lookup"><span data-stu-id="9a70b-542">BlobCache uses a combination of hello Virtual Machine RAM and local SSD for caching.</span></span> <span data-ttu-id="9a70b-543">Esse cache está disponível para discos persistentes de armazenamento Premium Olá e os discos locais de VM de saudação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-543">This cache is available for hello Premium Storage persistent disks and hello VM local disks.</span></span> <span data-ttu-id="9a70b-544">Por padrão, essa configuração de cache é definida tooRead/gravação para discos do sistema operacional e ReadOnly para discos de dados hospedados no armazenamento Premium.</span><span class="sxs-lookup"><span data-stu-id="9a70b-544">By default, this cache setting is set tooRead/Write for OS disks and ReadOnly for data disks hosted on Premium Storage.</span></span> <span data-ttu-id="9a70b-545">Com o cache de disco habilitado em discos de armazenamento Premium Olá, escala de alta Olá VMs pode obter extremamente altos níveis de desempenho que excedem o desempenho do disco subjacente hello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-545">With disk caching enabled on hello Premium Storage disks, hello high scale VMs can achieve extremely high levels of performance that exceed hello underlying disk performance.</span></span>

> [!WARNING]
> <span data-ttu-id="9a70b-546">Alterando a configuração de cache de saudação de um disco do Azure desanexa e anexa novamente o disco de destino hello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-546">Changing hello cache setting of an Azure disk detaches and re-attaches hello target disk.</span></span> <span data-ttu-id="9a70b-547">Se o disco de sistema operacional Olá, Olá VM for reiniciado.</span><span class="sxs-lookup"><span data-stu-id="9a70b-547">If it is hello operating system disk, hello VM is restarted.</span></span> <span data-ttu-id="9a70b-548">Pare todos os aplicativos/serviços que podem ser afetados por essa interrupção antes de alterar a configuração de cache de disco de saudação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-548">Stop all applications/services that might be affected by this disruption before changing hello disk cache setting.</span></span>
>
>

<span data-ttu-id="9a70b-549">toolearn mais informações sobre como BlobCache funciona, consulte toohello dentro de [armazenamento Premium do Azure](https://azure.microsoft.com/blog/azure-premium-storage-now-generally-available-2/) postagem de blog.</span><span class="sxs-lookup"><span data-stu-id="9a70b-549">toolearn more about how BlobCache works, refer toohello Inside [Azure Premium Storage](https://azure.microsoft.com/blog/azure-premium-storage-now-generally-available-2/) blog post.</span></span>

<span data-ttu-id="9a70b-550">É importante tooenable cache em Olá certo conjunto de discos.</span><span class="sxs-lookup"><span data-stu-id="9a70b-550">It is important tooenable cache on hello right set of disks.</span></span> <span data-ttu-id="9a70b-551">Você deve habilitar o cache de disco em um disco premium ou não dependem padrão de carga de trabalho Olá desse disco será manipula.</span><span class="sxs-lookup"><span data-stu-id="9a70b-551">Whether you should enable disk caching on a premium disk or not will depend on hello workload pattern that disk will be handling.</span></span> <span data-ttu-id="9a70b-552">Tabela a seguir mostra o padrão de saudação configurações de cache para o sistema operacional e discos de dados.</span><span class="sxs-lookup"><span data-stu-id="9a70b-552">Table below shows hello default cache settings for OS and Data disks.</span></span>

| <span data-ttu-id="9a70b-553">**Tipo de disco**</span><span class="sxs-lookup"><span data-stu-id="9a70b-553">**Disk Type**</span></span> | <span data-ttu-id="9a70b-554">**Configuração padrão de cache**</span><span class="sxs-lookup"><span data-stu-id="9a70b-554">**Default Cache Setting**</span></span> |
| --- | --- |
| <span data-ttu-id="9a70b-555">Disco do sistema operacional</span><span class="sxs-lookup"><span data-stu-id="9a70b-555">OS disk</span></span> |<span data-ttu-id="9a70b-556">ReadWrite</span><span class="sxs-lookup"><span data-stu-id="9a70b-556">ReadWrite</span></span> |
| <span data-ttu-id="9a70b-557">Disco de dados</span><span class="sxs-lookup"><span data-stu-id="9a70b-557">Data disk</span></span> |<span data-ttu-id="9a70b-558">Nenhum</span><span class="sxs-lookup"><span data-stu-id="9a70b-558">None</span></span> |

<span data-ttu-id="9a70b-559">A seguir são Olá configurações de cache em disco recomendado para discos de dados</span><span class="sxs-lookup"><span data-stu-id="9a70b-559">Following are hello recommended disk cache settings for data disks,</span></span>

| <span data-ttu-id="9a70b-560">**Configuração do cache de disco**</span><span class="sxs-lookup"><span data-stu-id="9a70b-560">**Disk Caching Setting**</span></span> | <span data-ttu-id="9a70b-561">**Recomendação sobre quando toouse essa configuração**</span><span class="sxs-lookup"><span data-stu-id="9a70b-561">**Recommendation on when toouse this setting**</span></span> |
| --- | --- |
| <span data-ttu-id="9a70b-562">Nenhum</span><span class="sxs-lookup"><span data-stu-id="9a70b-562">None</span></span> |<span data-ttu-id="9a70b-563">Configure o cache do host como None para discos de gravação pesada e somente gravação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-563">Configure host-cache as None for write-only and write-heavy disks.</span></span> |
| <span data-ttu-id="9a70b-564">ReadOnly</span><span class="sxs-lookup"><span data-stu-id="9a70b-564">ReadOnly</span></span> |<span data-ttu-id="9a70b-565">Configure o cache do host como ReadOnly para discos de leitura/gravação e somente leitura.</span><span class="sxs-lookup"><span data-stu-id="9a70b-565">Configure host-cache as ReadOnly for read-only and read-write disks.</span></span> |
| <span data-ttu-id="9a70b-566">ReadWrite</span><span class="sxs-lookup"><span data-stu-id="9a70b-566">ReadWrite</span></span> |<span data-ttu-id="9a70b-567">Configure o cache de host como ReadWrite somente se o seu aplicativo lida corretamente com gravação em cache os discos de dados toopersistent quando necessário.</span><span class="sxs-lookup"><span data-stu-id="9a70b-567">Configure host-cache as ReadWrite only if your application properly  handles writing cached data toopersistent disks when needed.</span></span> |

<span data-ttu-id="9a70b-568">*ReadOnly*</span><span class="sxs-lookup"><span data-stu-id="9a70b-568">*ReadOnly*</span></span>  
<span data-ttu-id="9a70b-569">Ao configurar o cache ReadOnly em discos de dados do Armazenamento Premium, você pode obter baixa latência de leitura e IOPS de leitura e Taxa de Transferência muito altas para seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-569">By configuring ReadOnly caching on Premium Storage data disks, you can achieve low Read latency and get very high Read IOPS and Throughput for your application.</span></span> <span data-ttu-id="9a70b-570">Isso se deve a dois motivos:</span><span class="sxs-lookup"><span data-stu-id="9a70b-570">This is due two reasons,</span></span>

1. <span data-ttu-id="9a70b-571">Leituras executadas do cache, que está na memória da VM hello e SSD local, são muito mais rápidas do que as leituras de disco de dados hello, que está no hello armazenamento de BLOBs do Azure.</span><span class="sxs-lookup"><span data-stu-id="9a70b-571">Reads performed from cache, which is on hello VM memory and local SSD, are much faster than reads from hello data disk, which is on hello Azure blob storage.</span></span>  
2. <span data-ttu-id="9a70b-572">Armazenamento Premium não conta Olá leituras servidas do cache, em direção de IOPS de disco hello e taxa de transferência.</span><span class="sxs-lookup"><span data-stu-id="9a70b-572">Premium Storage does not count hello Reads served from cache, towards hello disk IOPS and Throughput.</span></span> <span data-ttu-id="9a70b-573">Portanto, o aplicativo é capaz de tooachieve superior total de IOPS e taxa de transferência.</span><span class="sxs-lookup"><span data-stu-id="9a70b-573">Therefore, your application is able tooachieve higher total IOPS and Throughput.</span></span>

<span data-ttu-id="9a70b-574">*ReadWrite*</span><span class="sxs-lookup"><span data-stu-id="9a70b-574">*ReadWrite*</span></span>  
<span data-ttu-id="9a70b-575">Por padrão, os discos de SO Olá têm ReadWrite cache habilitado.</span><span class="sxs-lookup"><span data-stu-id="9a70b-575">By default, hello OS disks have ReadWrite caching enabled.</span></span> <span data-ttu-id="9a70b-576">Recentemente, adicionamos suporte ao cache ReadWrite também nos discos de dados.</span><span class="sxs-lookup"><span data-stu-id="9a70b-576">We have recently added support for ReadWrite caching on data disks as well.</span></span> <span data-ttu-id="9a70b-577">Se você estiver usando o armazenamento em cache ReadWrite, você deve ter um modo adequado toowrite Olá os dados de discos de toopersistent de cache.</span><span class="sxs-lookup"><span data-stu-id="9a70b-577">If you are using ReadWrite caching, you must have a proper way toowrite hello data from cache toopersistent disks.</span></span> <span data-ttu-id="9a70b-578">Por exemplo, gravação de identificadores SQL Server armazenados em cache discos de armazenamento persistente toohello dados por conta própria.</span><span class="sxs-lookup"><span data-stu-id="9a70b-578">For example, SQL Server handles writing cached data toohello persistent storage disks on its own.</span></span> <span data-ttu-id="9a70b-579">Usando o cache de ReadWrite com um aplicativo que não processa Olá persistente necessário dados podem levar a perda de toodata se Olá VM falhar.</span><span class="sxs-lookup"><span data-stu-id="9a70b-579">Using ReadWrite cache with an application that does not handle persisting hello required data can lead toodata loss, if hello VM crashes.</span></span>

<span data-ttu-id="9a70b-580">Por exemplo, você pode aplicar essas diretrizes tooSQL Server em execução no armazenamento Premium Olá seguinte,</span><span class="sxs-lookup"><span data-stu-id="9a70b-580">As an example, you can apply these guidelines tooSQL Server running on Premium Storage by doing hello following,</span></span>

1. <span data-ttu-id="9a70b-581">Configure o cache "ReadOnly" em discos do Armazenamento Premium que hospedam arquivos de dados.</span><span class="sxs-lookup"><span data-stu-id="9a70b-581">Configure "ReadOnly" cache on premium storage disks hosting data files.</span></span>  
   <span data-ttu-id="9a70b-582">a.</span><span class="sxs-lookup"><span data-stu-id="9a70b-582">a.</span></span>  <span data-ttu-id="9a70b-583">Olá rápida lê do tempo de consulta do cache inferior saudação do SQL Server como páginas de dados são recuperadas muito mais rápido do hello cache comparado toodirectly de discos de dados de saudação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-583">hello fast reads from cache lower hello SQL Server query time since data pages are retrieved much faster from hello cache compared toodirectly from hello data disks.</span></span>  
   <span data-ttu-id="9a70b-584">b.</span><span class="sxs-lookup"><span data-stu-id="9a70b-584">b.</span></span>  <span data-ttu-id="9a70b-585">Atender às leituras no cache, significa que há Taxa de Transferência adicional disponível nos discos de dados premium.</span><span class="sxs-lookup"><span data-stu-id="9a70b-585">Serving reads from cache, means there is additional Throughput available from premium data disks.</span></span> <span data-ttu-id="9a70b-586">O SQL Server pode usar essa Taxa de Transferência adicional para recuperar mais páginas de dados e outras operações, como backup/restauração, cargas em lote e recriações de índice.</span><span class="sxs-lookup"><span data-stu-id="9a70b-586">SQL Server can use this additional Throughput towards retrieving more data pages and other operations like backup/restore, batch loads, and index rebuilds.</span></span>  
2. <span data-ttu-id="9a70b-587">Configurar "None" cache em armazenamento premium discos hospedagem Olá os arquivos de log.</span><span class="sxs-lookup"><span data-stu-id="9a70b-587">Configure "None" cache on premium storage disks hosting hello log files.</span></span>  
   <span data-ttu-id="9a70b-588">a.</span><span class="sxs-lookup"><span data-stu-id="9a70b-588">a.</span></span>  <span data-ttu-id="9a70b-589">Os arquivos de log têm basicamente operações pesadas de gravação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-589">Log files have primarily write-heavy operations.</span></span> <span data-ttu-id="9a70b-590">Portanto, eles não se beneficiam da saudação cache somente leitura.</span><span class="sxs-lookup"><span data-stu-id="9a70b-590">Therefore, they do not benefit from hello ReadOnly cache.</span></span>

## <a name="disk-striping"></a><span data-ttu-id="9a70b-591">Distribuição de disco</span><span class="sxs-lookup"><span data-stu-id="9a70b-591">Disk Striping</span></span>
<span data-ttu-id="9a70b-592">Quando uma alta escala que VM é anexada com vários premium armazenamento persistente discos, Olá pode ser juntos distribuídos tooaggregate seus IOPs, a largura de banda e a capacidade de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="9a70b-592">When a high scale VM is attached with several premium storage persistent disks, hello disks can be striped together tooaggregate their IOPs, bandwidth, and storage capacity.</span></span>

<span data-ttu-id="9a70b-593">No Windows, você pode usar discos de toostripe de espaços de armazenamento em conjunto.</span><span class="sxs-lookup"><span data-stu-id="9a70b-593">On Windows, you can use Storage Spaces toostripe disks together.</span></span> <span data-ttu-id="9a70b-594">É preciso configurar uma coluna para cada disco em um pool.</span><span class="sxs-lookup"><span data-stu-id="9a70b-594">You must configure one column for each disk in a pool.</span></span> <span data-ttu-id="9a70b-595">Caso contrário, hello desempenho geral do volume distribuído pode ser menor que o esperado, devido a toouneven distribuição do tráfego entre os discos de saudação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-595">Otherwise, hello overall performance of striped volume can be lower than expected, due toouneven distribution of traffic across hello disks.</span></span>

<span data-ttu-id="9a70b-596">Importante: Usando o Gerenciador do servidor UI, você pode definir o número total de saudação de colunas de too8 para um volume distribuído.</span><span class="sxs-lookup"><span data-stu-id="9a70b-596">Important: Using Server Manager UI, you can set hello total number of columns up too8 for a striped volume.</span></span> <span data-ttu-id="9a70b-597">Ao anexar mais de 8 discos, use o volume de saudação do PowerShell toocreate.</span><span class="sxs-lookup"><span data-stu-id="9a70b-597">When attaching more than 8 disks, use PowerShell toocreate hello volume.</span></span> <span data-ttu-id="9a70b-598">Usando o PowerShell, você pode definir Olá número de colunas iguais toohello número de discos.</span><span class="sxs-lookup"><span data-stu-id="9a70b-598">Using PowerShell, you can set hello number of columns equal toohello number of disks.</span></span> <span data-ttu-id="9a70b-599">Por exemplo, se houver 16 discos em um conjunto único de distribuição; especificar 16 colunas em Olá *NumberOfColumns* parâmetro hello *New-VirtualDisk* cmdlet do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="9a70b-599">For example, if there are 16 disks in a single stripe set; specify 16 columns in hello *NumberOfColumns* parameter of hello *New-VirtualDisk* PowerShell cmdlet.</span></span>

<span data-ttu-id="9a70b-600">No Linux, use discos de toostripe Olá MDADM utilitário juntos.</span><span class="sxs-lookup"><span data-stu-id="9a70b-600">On Linux, use hello MDADM utility toostripe disks together.</span></span> <span data-ttu-id="9a70b-601">Para obter etapas detalhadas sobre discos de distribuição no Linux, consulte muito[configurar RAID de Software no Linux](../../virtual-machines/linux/configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="9a70b-601">For detailed steps on striping disks on Linux refer too[Configure Software RAID on Linux](../../virtual-machines/linux/configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

<span data-ttu-id="9a70b-602">*Tamanho da distribuição*</span><span class="sxs-lookup"><span data-stu-id="9a70b-602">*Stripe Size*</span></span>  
<span data-ttu-id="9a70b-603">Uma configuração importante na distribuição de disco é o tamanho do stripe hello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-603">An important configuration in disk striping is hello stripe size.</span></span> <span data-ttu-id="9a70b-604">tamanho da faixa Hello ou tamanho de bloco é parte de menor Olá de dados que o aplicativo pode resolver em um volume distribuído.</span><span class="sxs-lookup"><span data-stu-id="9a70b-604">hello stripe size or block size is hello smallest chunk of data that application can address on a striped volume.</span></span> <span data-ttu-id="9a70b-605">você configurar o tamanho do stripe Olá depende do tipo de saudação do aplicativo e o padrão de solicitação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-605">hello stripe size you configure depends on hello type of application and its request pattern.</span></span> <span data-ttu-id="9a70b-606">Se você escolher o tamanho do stripe errado hello, isso pode levar desalinhamento tooIO, o que aumenta o desempenho toodegraded de seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-606">If you choose hello wrong stripe size, it could lead tooIO misalignment, which leads toodegraded performance of your application.</span></span>

<span data-ttu-id="9a70b-607">Por exemplo, se uma solicitação de e/s gerada pelo seu aplicativo é maior do que o tamanho de distribuição de disco hello, sistema de armazenamento Olá grava em faixa limites de unidade em mais de um disco.</span><span class="sxs-lookup"><span data-stu-id="9a70b-607">For example, if an IO request generated by your application is bigger than hello disk stripe size, hello storage system writes it across stripe unit boundaries on more than one disk.</span></span> <span data-ttu-id="9a70b-608">Quando ele é tempo tooaccess dados, ele terá tooseek em mais de uma distribuição unidades toocomplete Olá solicitação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-608">When it is time tooaccess that data, it will have tooseek across more than one stripe units toocomplete hello request.</span></span> <span data-ttu-id="9a70b-609">efeito cumulativo de saudação de tal comportamento pode levar toosubstantial degradação do desempenho.</span><span class="sxs-lookup"><span data-stu-id="9a70b-609">hello cumulative effect of such behavior can lead toosubstantial performance degradation.</span></span> <span data-ttu-id="9a70b-610">Em Olá outro lado, se Olá tamanho da solicitação de e/s é menor do que o tamanho de distribuição e, se for aleatória, solicitações de e/s de saudação podem adiciona Olá mesmo disco provocando um afunilamento e, por fim, comprometer o desempenho de e/s de saudação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-610">On hello other hand, if hello IO request size is smaller than stripe size, and if it is random in nature, hello IO requests may add up on hello same disk causing a bottleneck and ultimately degrading hello IO performance.</span></span>

<span data-ttu-id="9a70b-611">Dependendo do tipo de saudação da carga de seu aplicativo estiver em execução, escolha um tamanho de distribuição apropriados.</span><span class="sxs-lookup"><span data-stu-id="9a70b-611">Depending on hello type of workload your application is running, choose an appropriate stripe size.</span></span> <span data-ttu-id="9a70b-612">Para solicitações pequenas e aleatórias de E/S, use um tamanho de distribuição menor.</span><span class="sxs-lookup"><span data-stu-id="9a70b-612">For random small IO requests, use a smaller stripe size.</span></span> <span data-ttu-id="9a70b-613">Já para solicitações de E/S grandes e sequenciais, use um tamanho de distribuição maior.</span><span class="sxs-lookup"><span data-stu-id="9a70b-613">Whereas, for large sequential IO requests use a larger stripe size.</span></span> <span data-ttu-id="9a70b-614">Descubra Olá stripe recomendações de tamanho para o aplicativo hello que serão executados em armazenamento Premium.</span><span class="sxs-lookup"><span data-stu-id="9a70b-614">Find out hello stripe size recommendations for hello application you will be running on Premium Storage.</span></span> <span data-ttu-id="9a70b-615">Para SQL Server, configure o tamanho da distribuição de 64 KB para cargas de trabalho OLTP e 256 KB para cargas de trabalho de data warehouse.</span><span class="sxs-lookup"><span data-stu-id="9a70b-615">For SQL Server, configure stripe size of 64KB for OLTP workloads and 256KB for data warehousing workloads.</span></span> <span data-ttu-id="9a70b-616">Consulte [práticas recomendadas de desempenho do SQL Server em máquinas virtuais do Azure](../../virtual-machines/windows/sql/virtual-machines-windows-sql-performance.md#disks-guidance) toolearn mais.</span><span class="sxs-lookup"><span data-stu-id="9a70b-616">See [Performance best practices for SQL Server on Azure VMs](../../virtual-machines/windows/sql/virtual-machines-windows-sql-performance.md#disks-guidance) toolearn more.</span></span>

> [!NOTE]
> <span data-ttu-id="9a70b-617">você pode usar a distribuição com um máximo de 32 discos do armazenamento premium em uma VM série DS e 64 discos do armazenamento premium em uma VM série GS.</span><span class="sxs-lookup"><span data-stu-id="9a70b-617">You can stripe together a maximum of 32 premium storage disks on a DS series VM and 64 premium storage disks on a GS series VM.</span></span>
>
>

## <a name="multi-threading"></a><span data-ttu-id="9a70b-618">Multithreading</span><span class="sxs-lookup"><span data-stu-id="9a70b-618">Multi-threading</span></span>
<span data-ttu-id="9a70b-619">Azure projetou toobe de plataforma de armazenamento Premium paralela em grande escala.</span><span class="sxs-lookup"><span data-stu-id="9a70b-619">Azure has designed Premium Storage platform toobe massively parallel.</span></span> <span data-ttu-id="9a70b-620">Portanto, um aplicativo com multithread atinge desempenho muito mais alto que um aplicativo de único thread.</span><span class="sxs-lookup"><span data-stu-id="9a70b-620">Therefore, a multi-threaded application achieves much higher performance than a single-threaded application.</span></span> <span data-ttu-id="9a70b-621">Um aplicativo multithread divide o suas tarefas entre vários threads e aumenta a eficiência de sua execução por Olá utilizando VM e toohello de recursos de disco máximo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-621">A multi-threaded application splits up its tasks across multiple threads and increases efficiency of its execution by utilizing hello VM and disk resources toohello maximum.</span></span>

<span data-ttu-id="9a70b-622">Por exemplo, se seu aplicativo estiver em execução em um único núcleo VM usando dois threads, Olá CPU pode alternar entre a eficiência de tooachieve dois threads hello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-622">For example, if your application is running on a single core VM using two threads, hello CPU can switch between hello two threads tooachieve efficiency.</span></span> <span data-ttu-id="9a70b-623">Enquanto um thread está aguardando um toocomplete de e/s de disco, a saudação da CPU pode alternar toohello outro thread.</span><span class="sxs-lookup"><span data-stu-id="9a70b-623">While one thread is waiting on a disk IO toocomplete, hello CPU can switch toohello other thread.</span></span> <span data-ttu-id="9a70b-624">Dessa forma, dois threads podem fazer mais do que um único thread.</span><span class="sxs-lookup"><span data-stu-id="9a70b-624">In this way, two threads can accomplish more than a single thread would.</span></span> <span data-ttu-id="9a70b-625">Se Olá VM tem mais de um núcleo, ele diminui ainda mais tempo de execução desde que cada principal pode executar tarefas em paralelo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-625">If hello VM has more than one core, it further decreases running time since each core can execute tasks in parallel.</span></span>

<span data-ttu-id="9a70b-626">Forma de saudação toochange capaz de um aplicativo comercial implementa único pode não ser threading ou vários threads.</span><span class="sxs-lookup"><span data-stu-id="9a70b-626">You may not be able toochange hello way an off-the-shelf application implements single threading or multi-threading.</span></span> <span data-ttu-id="9a70b-627">Por exemplo, o SQL Server é capaz de lidar com várias CPUs e vários núcleos.</span><span class="sxs-lookup"><span data-stu-id="9a70b-627">For example, SQL Server is capable of handling multi-CPU and multi-core.</span></span> <span data-ttu-id="9a70b-628">No entanto, o SQL Server decide sob que condições, ele utilizará um ou mais threads tooprocess uma consulta.</span><span class="sxs-lookup"><span data-stu-id="9a70b-628">However, SQL Server decides under what conditions it will leverage one or more threads tooprocess a query.</span></span> <span data-ttu-id="9a70b-629">Ele pode executar consultas e criar índices usando multithreading.</span><span class="sxs-lookup"><span data-stu-id="9a70b-629">It can run queries and build indexes using multi-threading.</span></span> <span data-ttu-id="9a70b-630">Para uma consulta que envolve a junção de tabelas grandes e classificando dados antes de retornar o usuário toohello, SQL Server provavelmente usará vários threads.</span><span class="sxs-lookup"><span data-stu-id="9a70b-630">For a query that involves joining large tables and sorting data before returning toohello user, SQL Server will likely use multiple threads.</span></span> <span data-ttu-id="9a70b-631">No entanto, um usuário não pode controlar se o SQL Server executará uma consulta usando um único thread ou vários threads.</span><span class="sxs-lookup"><span data-stu-id="9a70b-631">However, a user cannot control whether SQL Server executes a query using a single thread or multiple threads.</span></span>

<span data-ttu-id="9a70b-632">Há configurações que você pode alterar tooinfluence nesse multi-thread ou paralela de processamento de um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-632">There are configuration settings that you can alter tooinfluence this multi-threading or parallel processing of an application.</span></span> <span data-ttu-id="9a70b-633">Por exemplo, no caso do SQL Server é configuração de grau de paralelismo máximo hello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-633">For example, in case of SQL Server it is hello maximum Degree of Parallelism configuration.</span></span> <span data-ttu-id="9a70b-634">Essa configuração chamada MAXDOP, permite que você número máximo de saudação de tooconfigure de processadores do SQL Server pode usar ao processamento paralelo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-634">This setting called MAXDOP, allows you tooconfigure hello maximum number of processors SQL Server can use when parallel processing.</span></span> <span data-ttu-id="9a70b-635">É possível configurar MAXDOP para consultas individuais ou operações de índice.</span><span class="sxs-lookup"><span data-stu-id="9a70b-635">You can configure MAXDOP for individual queries or index operations.</span></span> <span data-ttu-id="9a70b-636">Isso é útil quando você deseja toobalance recursos do sistema para um aplicativo crítico de desempenho.</span><span class="sxs-lookup"><span data-stu-id="9a70b-636">This is beneficial when you want toobalance resources of your system for a performance critical application.</span></span>

<span data-ttu-id="9a70b-637">Por exemplo, digamos que seu aplicativo usando o SQL Server está executando uma consulta grande e uma operação de índice no hello simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="9a70b-637">For example, say your application using SQL Server is executing a large query and an index operation at hello same time.</span></span> <span data-ttu-id="9a70b-638">Vamos supor que você desejava Olá toobe de operação de índice mais consultas grandes toohello de alto desempenho em comparação com.</span><span class="sxs-lookup"><span data-stu-id="9a70b-638">Let us assume that you wanted hello index operation toobe more performant compared toohello large query.</span></span> <span data-ttu-id="9a70b-639">Nesse caso, você pode definir o valor MAXDOP de Olá maior Olá valor MAXDOP para consulta de saudação de toobe de operação de índice.</span><span class="sxs-lookup"><span data-stu-id="9a70b-639">In such a case, you can set MAXDOP value of hello index operation toobe higher than hello MAXDOP value for hello query.</span></span> <span data-ttu-id="9a70b-640">Dessa forma, o SQL Server tem mais de número de processadores que ele pode aproveitar para Olá índice operação comparado toohello número de processadores podem dedicar consulta grande toohello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-640">This way, SQL Server has more number of processors that it can leverage for hello index operation compared toohello number of processors it can dedicate toohello large query.</span></span> <span data-ttu-id="9a70b-641">Lembre-se de que você não controlar o número de saudação de threads do SQL Server usará para cada operação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-641">Remember, you do not control hello number of threads SQL Server will use for each operation.</span></span> <span data-ttu-id="9a70b-642">Você pode controlar o número máximo de saudação de processadores sendo dedicada para multithreading.</span><span class="sxs-lookup"><span data-stu-id="9a70b-642">You can control hello maximum number of processors being dedicated for multi-threading.</span></span>

<span data-ttu-id="9a70b-643">Saiba mais sobre [Graus de Paralelismo](https://technet.microsoft.com/library/ms188611.aspx) no SQL Server.</span><span class="sxs-lookup"><span data-stu-id="9a70b-643">Learn more about [Degrees of Parallelism](https://technet.microsoft.com/library/ms188611.aspx) in SQL Server.</span></span> <span data-ttu-id="9a70b-644">Descobrir essas configurações influenciam multithreading em seu aplicativo e o desempenho de toooptimize suas configurações.</span><span class="sxs-lookup"><span data-stu-id="9a70b-644">Find out such settings that influence multi-threading in your application and their configurations toooptimize performance.</span></span>

## <a name="queue-depth"></a><span data-ttu-id="9a70b-645">Profundidade da Fila</span><span class="sxs-lookup"><span data-stu-id="9a70b-645">Queue Depth</span></span>
<span data-ttu-id="9a70b-646">Olá profundidade da fila ou o comprimento da fila ou o tamanho da fila é o número de saudação de solicitações de e/s pendentes no sistema de saudação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-646">hello Queue Depth or Queue Length or Queue Size is hello number of pending IO requests in hello system.</span></span> <span data-ttu-id="9a70b-647">valor de saudação da profundidade da fila determina quantas operações e/s seu aplicativo pode preparar os discos de armazenamento Olá processará.</span><span class="sxs-lookup"><span data-stu-id="9a70b-647">hello value of Queue Depth determines how many IO operations your application can line up, which hello storage disks will be processing.</span></span> <span data-ttu-id="9a70b-648">Ela afeta todas as Olá três aplicativos indicadores de desempenho que abordamos na viz. neste artigo, IOPS, taxa de transferência e latência.</span><span class="sxs-lookup"><span data-stu-id="9a70b-648">It affects all hello three application performance indicators that we discussed in this article viz., IOPS, Throughput and Latency.</span></span>

<span data-ttu-id="9a70b-649">A profundidade da fila e o multithreading estão intimamente relacionados.</span><span class="sxs-lookup"><span data-stu-id="9a70b-649">Queue Depth and multi-threading are closely related.</span></span> <span data-ttu-id="9a70b-650">Olá valor profundidade da fila indica quanto multi-thread pode ser obtida com o aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-650">hello Queue Depth value indicates how much multi-threading can be achieved by hello application.</span></span> <span data-ttu-id="9a70b-651">Se a profundidade da fila de saudação for grande, aplicativo pode executar operações mais simultaneamente, em outras palavras, mais multithreading.</span><span class="sxs-lookup"><span data-stu-id="9a70b-651">If hello Queue Depth is large, application can execute more operations concurrently, in other words, more multi-threading.</span></span> <span data-ttu-id="9a70b-652">Se Olá profundidade da fila é pequeno, mesmo que o aplicativo é multi-threaded, ele não terá suficiente solicitações programadas para execução simultânea.</span><span class="sxs-lookup"><span data-stu-id="9a70b-652">If hello Queue Depth is small, even though application is multi-threaded, it will not have enough requests lined up for concurrent execution.</span></span>

<span data-ttu-id="9a70b-653">Normalmente, desativar Olá prateleira aplicativos não permitem que você toochange a profundidade da fila hello, porque se definida incorretamente, ele fará mais mal do que bem.</span><span class="sxs-lookup"><span data-stu-id="9a70b-653">Typically, off hello shelf applications do not allow you toochange hello queue depth, because if set incorrectly it will do more harm than good.</span></span> <span data-ttu-id="9a70b-654">Aplicativos definirá o valor à direita de saudação do desempenho ideal da fila de profundidade tooget hello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-654">Applications will set hello right value of queue depth tooget hello optimal performance.</span></span> <span data-ttu-id="9a70b-655">No entanto, ele é importante toounderstand esse conceito para que você pode solucionar problemas de desempenho com o seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-655">However, it is important toounderstand this concept so that you can troubleshoot performance issues with your application.</span></span> <span data-ttu-id="9a70b-656">Você também pode observar efeitos de saudação da profundidade da fila executando as ferramentas de avaliação em seu sistema.</span><span class="sxs-lookup"><span data-stu-id="9a70b-656">You can also observe hello effects of queue depth by running benchmarking tools on your system.</span></span>

<span data-ttu-id="9a70b-657">Alguns aplicativos fornecem configurações tooinfluence Olá profundidade da fila.</span><span class="sxs-lookup"><span data-stu-id="9a70b-657">Some applications provide settings tooinfluence hello Queue Depth.</span></span> <span data-ttu-id="9a70b-658">Por exemplo, a configuração de MAXDOP (grau máximo de paralelismo) saudação no SQL Server explicado na seção anterior.</span><span class="sxs-lookup"><span data-stu-id="9a70b-658">For example, hello MAXDOP (maximum degree of parallelism) setting in SQL Server explained in previous section.</span></span> <span data-ttu-id="9a70b-659">MAXDOP é uma maneira tooinfluence a profundidade da fila e multithreading, embora ele não alterar valor de profundidade da fila de saudação do SQL Server diretamente.</span><span class="sxs-lookup"><span data-stu-id="9a70b-659">MAXDOP is a way tooinfluence Queue Depth and multi-threading, although it does not directly change hello Queue Depth value of SQL Server.</span></span>

<span data-ttu-id="9a70b-660">*Profundidade Alta de Fila*</span><span class="sxs-lookup"><span data-stu-id="9a70b-660">*High Queue Depth*</span></span>  
<span data-ttu-id="9a70b-661">Uma profundidade de fila alta linhas mais operações no disco hello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-661">A high queue depth lines up more operations on hello disk.</span></span> <span data-ttu-id="9a70b-662">disco Olá sabe a próxima solicitação Olá em sua fila antecipadamente.</span><span class="sxs-lookup"><span data-stu-id="9a70b-662">hello disk knows hello next request in its queue ahead of time.</span></span> <span data-ttu-id="9a70b-663">Consequentemente, disco Olá pode agendar operações antecipadamente e processá-los em uma sequência ideal.</span><span class="sxs-lookup"><span data-stu-id="9a70b-663">Consequently, hello disk can schedule operations ahead of time and process them in an optimal sequence.</span></span> <span data-ttu-id="9a70b-664">Desde que o aplicativo hello está enviando o disco de toohello mais solicitações, disco Olá pode processar mais IOs paralelos.</span><span class="sxs-lookup"><span data-stu-id="9a70b-664">Since hello application is sending more requests toohello disk, hello disk can process more parallel IOs.</span></span> <span data-ttu-id="9a70b-665">Por fim, o aplicativo hello serão tooachieve capaz de IOPS superior.</span><span class="sxs-lookup"><span data-stu-id="9a70b-665">Ultimately, hello application will be able tooachieve higher IOPS.</span></span> <span data-ttu-id="9a70b-666">Desde que o aplicativo é processar mais solicitações, hello taxa de transferência total do aplicativo hello também aumenta.</span><span class="sxs-lookup"><span data-stu-id="9a70b-666">Since application is processing more requests, hello total Throughput of hello application also increases.</span></span>

<span data-ttu-id="9a70b-667">Normalmente, um aplicativo pode atingir a taxa máxima de transferência com 8 a pouco mais de 16 E/S pendentes por disco anexado.</span><span class="sxs-lookup"><span data-stu-id="9a70b-667">Typically, an application can achieve maximum Throughput with 8-16+ outstanding IOs per attached disk.</span></span> <span data-ttu-id="9a70b-668">Se uma profundidade de fila, aplicativo não é força suficiente sistema toohello de IOs e processará menor quantidade de em um determinado período.</span><span class="sxs-lookup"><span data-stu-id="9a70b-668">If a Queue Depth is one, application is not pushing enough IOs toohello system, and it will process less amount of in a given period.</span></span> <span data-ttu-id="9a70b-669">Em outras palavras, Taxa de Transferência menor.</span><span class="sxs-lookup"><span data-stu-id="9a70b-669">In other words, less Throughput.</span></span>

<span data-ttu-id="9a70b-670">Por exemplo, no SQL Server, Olá configuração MAXDOP valor para uma consulta muito "4" informa que ele pode usar a consulta de saudação do toofour núcleos tooexecute SQL Server.</span><span class="sxs-lookup"><span data-stu-id="9a70b-670">For example, in SQL Server, setting hello MAXDOP value for a query too"4" informs SQL Server that it can use up toofour cores tooexecute hello query.</span></span> <span data-ttu-id="9a70b-671">SQL Server determinará o que é melhor fila profundidade valor e hello número de núcleos para a execução da consulta hello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-671">SQL Server will determine what is best queue depth value and hello number of cores for hello query execution.</span></span>

<span data-ttu-id="9a70b-672">*Profundidade Ideal de Fila*</span><span class="sxs-lookup"><span data-stu-id="9a70b-672">*Optimal Queue Depth*</span></span>  
<span data-ttu-id="9a70b-673">Um valor muito alto de profundidade de fila também tem suas desvantagens.</span><span class="sxs-lookup"><span data-stu-id="9a70b-673">Very high queue depth value also has its drawbacks.</span></span> <span data-ttu-id="9a70b-674">Se o valor de profundidade de fila é muito alta, o aplicativo hello tentará toodrive IOPS muito alto.</span><span class="sxs-lookup"><span data-stu-id="9a70b-674">If queue depth value is too high, hello application will try toodrive very high IOPS.</span></span> <span data-ttu-id="9a70b-675">A menos que o aplicativo tenha discos persistentes com provisão suficiente de IOPS, isso pode afetar negativamente as latências do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-675">Unless application has persistent disks with sufficient provisioned IOPS, this can negatively affect application latencies.</span></span> <span data-ttu-id="9a70b-676">Fórmula a seguir mostra a relação de saudação entre IOPS, latência e a profundidade da fila.</span><span class="sxs-lookup"><span data-stu-id="9a70b-676">Following formula shows hello relationship between IOPS, Latency and Queue Depth.</span></span>  
    ![](media/storage-premium-storage-performance/image6.png)

<span data-ttu-id="9a70b-677">Você não deve configurar a profundidade da fila tooany alto valor, mas tooan ideal, que pode oferecer IOPS suficientes para o aplicativo hello sem afetar as latências.</span><span class="sxs-lookup"><span data-stu-id="9a70b-677">You should not configure Queue Depth tooany high value, but tooan optimal value, which can deliver enough IOPS for hello application without affecting latencies.</span></span> <span data-ttu-id="9a70b-678">Por exemplo, se precisar de latência do aplicativo hello toobe 1 milissegundo, Olá profundidade da fila necessário tooachieve é 5.000 IOPS, QD = 5000 x 0,001 = 5.</span><span class="sxs-lookup"><span data-stu-id="9a70b-678">For example, if hello application latency needs toobe 1 millisecond, hello Queue Depth required tooachieve 5,000 IOPS is, QD = 5000 x 0.001 = 5.</span></span>

<span data-ttu-id="9a70b-679">*Profundidade da fila para volume distribuído*</span><span class="sxs-lookup"><span data-stu-id="9a70b-679">*Queue Depth for Striped Volume*</span></span>  
<span data-ttu-id="9a70b-680">Para um volume distribuído, mantenha uma profundidade de fila alta o suficiente, de tal forma que cada disco tenha uma profundidade de fila de pico individualmente.</span><span class="sxs-lookup"><span data-stu-id="9a70b-680">For a striped volume, maintain a high enough queue depth such that, every disk has a peak queue depth individually.</span></span> <span data-ttu-id="9a70b-681">Por exemplo, considere um aplicativo que envia uma profundidade da fila de 2 e há 4 discos na faixa de saudação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-681">For example, consider an application that pushes a queue depth of 2 and there are 4 disks in hello stripe.</span></span> <span data-ttu-id="9a70b-682">duas solicitações de e/s Olá irá tootwo discos e restantes dois discos serão ocioso.</span><span class="sxs-lookup"><span data-stu-id="9a70b-682">hello two IO requests will go tootwo disks and remaining two disks will be idle.</span></span> <span data-ttu-id="9a70b-683">Portanto, configure a profundidade da fila hello, de modo que todos os discos de saudação podem estar ocupados.</span><span class="sxs-lookup"><span data-stu-id="9a70b-683">Therefore, configure hello queue depth such that all hello disks can be busy.</span></span> <span data-ttu-id="9a70b-684">Fórmula a seguir mostra como toodetermine Olá profundidade da fila de volumes distribuídos.</span><span class="sxs-lookup"><span data-stu-id="9a70b-684">Formula below shows how toodetermine hello queue depth of striped volumes.</span></span>  
    ![](media/storage-premium-storage-performance/image7.png)

## <a name="throttling"></a><span data-ttu-id="9a70b-685">Limitação</span><span class="sxs-lookup"><span data-stu-id="9a70b-685">Throttling</span></span>
<span data-ttu-id="9a70b-686">Provisões de armazenamento Premium do Azure especificado o número de IOPS e taxa de transferência dependendo de tamanhos de VM hello e tamanhos de disco que você escolher.</span><span class="sxs-lookup"><span data-stu-id="9a70b-686">Azure Premium Storage provisions specified number of IOPS and Throughput depending on hello VM sizes and disk sizes you choose.</span></span> <span data-ttu-id="9a70b-687">Sempre que o aplicativo tenta toodrive IOPS ou a taxa de transferência acima desses limites de quais Olá VM ou o disco pode manipular, o armazenamento Premium limite-lo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-687">Anytime your application tries toodrive IOPS or Throughput above these limits of what hello VM or disk can handle, Premium Storage will throttle it.</span></span> <span data-ttu-id="9a70b-688">Isso se manifesta na forma de saudação de degradação do desempenho em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-688">This manifests in hello form of degraded performance in your application.</span></span> <span data-ttu-id="9a70b-689">Isso pode significar latência mais alta, Taxa de Transferência mais baixa ou IOPS mais baixa.</span><span class="sxs-lookup"><span data-stu-id="9a70b-689">This can mean higher latency, lower Throughput or lower IOPS.</span></span> <span data-ttu-id="9a70b-690">Se o Armazenamento Premium não for restrito, o aplicativo poderá falhar completamente, excedendo o que seus recursos são capazes de alcançar.</span><span class="sxs-lookup"><span data-stu-id="9a70b-690">If Premium Storage does not throttle, your application could completely fail by exceeding what its resources are capable of achieving.</span></span> <span data-ttu-id="9a70b-691">Assim, o desempenho tooavoid emite devido toothrottling, sempre provisionamento de recursos suficientes para o seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-691">So, tooavoid performance issues due toothrottling, always provision sufficient resources for your application.</span></span> <span data-ttu-id="9a70b-692">Leve em consideração é discutido nas seções de tamanhos de disco acima e tamanhos de VM hello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-692">Take into consideration what we discussed in hello VM sizes and Disk sizes sections above.</span></span> <span data-ttu-id="9a70b-693">Análise comparativa é Olá melhor maneira toofigure quais recursos você precisará toohost seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-693">Benchmarking is hello best way toofigure out what resources you will need toohost your application.</span></span>

## <a name="benchmarking"></a><span data-ttu-id="9a70b-694">Parâmetros de comparação</span><span class="sxs-lookup"><span data-stu-id="9a70b-694">Benchmarking</span></span>
<span data-ttu-id="9a70b-695">Análise comparativa é o processo de saudação de simular cargas de trabalho diferentes em seu aplicativo e medir o desempenho do aplicativo hello para cada carga de trabalho.</span><span class="sxs-lookup"><span data-stu-id="9a70b-695">Benchmarking is hello process of simulating different workloads on your application and measuring hello application performance for each workload.</span></span> <span data-ttu-id="9a70b-696">Usando as etapas de saudação descritas em uma seção anterior, você coletou requisitos de desempenho de aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-696">Using hello steps described in an earlier section, you have gathered hello application performance requirements.</span></span> <span data-ttu-id="9a70b-697">Ao executar o benchmark ferramentas em VMs de saudação hospedando o aplicativo hello, você pode determinar níveis de desempenho de saudação que seu aplicativo pode obter com o armazenamento Premium.</span><span class="sxs-lookup"><span data-stu-id="9a70b-697">By running benchmarking tools on hello VMs hosting hello application, you can determine hello performance levels that your application can achieve with Premium Storage.</span></span> <span data-ttu-id="9a70b-698">Nesta seção, forneceremos exemplos de parâmetros de comparação de uma VM DS14 padrão provisionada com discos do Armazenamento Premium do Azure.</span><span class="sxs-lookup"><span data-stu-id="9a70b-698">In this section, we provide you examples of benchmarking a Standard DS14 VM provisioned with Azure Premium Storage disks.</span></span>

<span data-ttu-id="9a70b-699">Usamos ferramentas comuns de parâmetros de comparação, Iometer e FIO, para Windows e Linux, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="9a70b-699">We have used common benchmarking tools Iometer and FIO, for Windows and Linux respectively.</span></span> <span data-ttu-id="9a70b-700">Essas ferramentas geram vários threads simulando uma carga de trabalho e desempenho do sistema Olá medidas de produção.</span><span class="sxs-lookup"><span data-stu-id="9a70b-700">These tools spawn multiple threads simulating a production like workload, and measure hello system performance.</span></span> <span data-ttu-id="9a70b-701">Usando as ferramentas de saudação você também pode configurar parâmetros, como bloco tamanho e a fila de profundidade, que normalmente não é possível alterar para um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-701">Using hello tools you can also configure parameters like block size and queue depth, which you normally cannot change for an application.</span></span> <span data-ttu-id="9a70b-702">Isso proporciona mais flexibilidade toodrive Olá máximo desempenho em alta escala VM provisionado com discos de premium para diferentes tipos de cargas de trabalho do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-702">This gives you more flexibility toodrive hello maximum performance on a high scale VM provisioned with premium disks for different types of application workloads.</span></span> <span data-ttu-id="9a70b-703">toolearn mais sobre cada ferramenta de avaliação, visite [Iometer](http://www.iometer.org/) e [FIO](http://freecode.com/projects/fio).</span><span class="sxs-lookup"><span data-stu-id="9a70b-703">toolearn more about each benchmarking tool visit [Iometer](http://www.iometer.org/) and [FIO](http://freecode.com/projects/fio).</span></span>

<span data-ttu-id="9a70b-704">exemplos de saudação toofollow abaixo, crie uma VM DS14 padrão e anexe 11 toohello de discos de armazenamento Premium VM.</span><span class="sxs-lookup"><span data-stu-id="9a70b-704">toofollow hello examples below, create a Standard DS14 VM and attach 11 Premium Storage disks toohello VM.</span></span> <span data-ttu-id="9a70b-705">De discos Olá 11, configurar 10 discos com o host de cache como "Nenhum" e distribua-os em um volume chamado NoCacheWrites.</span><span class="sxs-lookup"><span data-stu-id="9a70b-705">Of hello 11 disks, configure 10 disks with host caching as "None" and stripe them into a volume called NoCacheWrites.</span></span> <span data-ttu-id="9a70b-706">Configurar o cache como "ReadOnly" em disco restante de saudação do host e criar um volume chamado CacheReads com esse disco.</span><span class="sxs-lookup"><span data-stu-id="9a70b-706">Configure host caching as "ReadOnly" on hello remaining disk and create a volume called CacheReads with this disk.</span></span> <span data-ttu-id="9a70b-707">Usando esta configuração, você será capaz de toosee Olá leitura e gravação desempenho máximo de uma VM DS14 padrão.</span><span class="sxs-lookup"><span data-stu-id="9a70b-707">Using this setup, you will be able toosee hello maximum Read and Write performance from a Standard DS14 VM.</span></span> <span data-ttu-id="9a70b-708">Para obter etapas detalhadas sobre como criar uma VM DS14 com discos premium, ir muito[criar e usar a conta de armazenamento Premium para um disco de dados de máquina virtual](../storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="9a70b-708">For detailed steps about creating a DS14 VM with premium disks, go too[Create and use a Premium Storage account for a virtual machine data disk](../storage-premium-storage.md).</span></span>

<span data-ttu-id="9a70b-709">*Aquecendo Olá Cache*</span><span class="sxs-lookup"><span data-stu-id="9a70b-709">*Warming up hello Cache*</span></span>  
<span data-ttu-id="9a70b-710">disco de Olá com cache de host de somente leitura será capaz de toogive IOPS maior que o limite de disco hello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-710">hello disk with ReadOnly host caching will be able toogive higher IOPS than hello disk limit.</span></span> <span data-ttu-id="9a70b-711">tooget esse máximo o desempenho de leitura do cache de host hello, primeiro você deve aquecimento cache Olá desse disco.</span><span class="sxs-lookup"><span data-stu-id="9a70b-711">tooget this maximum read performance from hello host cache, first you must warm up hello cache of this disk.</span></span> <span data-ttu-id="9a70b-712">Isso garante que Olá IOs leitura conduzirão qual ferramenta de avaliação no volume CacheReads realmente acertos do cache hello e não o disco Olá diretamente.</span><span class="sxs-lookup"><span data-stu-id="9a70b-712">This ensures that hello Read IOs which benchmarking tool will drive on CacheReads volume actually hits hello cache and not hello disk directly.</span></span> <span data-ttu-id="9a70b-713">resultado de acertos de cache Olá no IOPS adicionais do cache único Olá habilitado em disco.</span><span class="sxs-lookup"><span data-stu-id="9a70b-713">hello cache hits result in additional IOPS from hello single cache enabled disk.</span></span>

> <span data-ttu-id="9a70b-714">**Importante:**</span><span class="sxs-lookup"><span data-stu-id="9a70b-714">**Important:**</span></span>  
> <span data-ttu-id="9a70b-715">Você deve aquecimento cache Olá antes de executar a análise comparativa, sempre que a VM é reiniciada.</span><span class="sxs-lookup"><span data-stu-id="9a70b-715">You must warm up hello cache before running benchmarking, every time VM is rebooted.</span></span>
>
>

#### <a name="iometer"></a><span data-ttu-id="9a70b-716">Iometer</span><span class="sxs-lookup"><span data-stu-id="9a70b-716">Iometer</span></span>
<span data-ttu-id="9a70b-717">[Baixar a ferramenta de Iometer Olá](http://sourceforge.net/projects/iometer/files/iometer-stable/2006-07-27/iometer-2006.07.27.win32.i386-setup.exe/download) em Olá VM.</span><span class="sxs-lookup"><span data-stu-id="9a70b-717">[Download hello Iometer tool](http://sourceforge.net/projects/iometer/files/iometer-stable/2006-07-27/iometer-2006.07.27.win32.i386-setup.exe/download) on hello VM.</span></span>

<span data-ttu-id="9a70b-718">*Arquivo de teste*</span><span class="sxs-lookup"><span data-stu-id="9a70b-718">*Test file*</span></span>  
<span data-ttu-id="9a70b-719">Iometer usa um arquivo de teste que é armazenado no volume Olá no qual você executará Olá teste de benchmark.</span><span class="sxs-lookup"><span data-stu-id="9a70b-719">Iometer uses a test file that is stored on hello volume on which you will run hello benchmarking test.</span></span> <span data-ttu-id="9a70b-720">Unidades de leituras e gravações neste teste IOPS de disco do arquivo toomeasure hello e taxa de transferência.</span><span class="sxs-lookup"><span data-stu-id="9a70b-720">It drives Reads and Writes on this test file toomeasure hello disk IOPS and Throughput.</span></span> <span data-ttu-id="9a70b-721">O Iometer criará esse arquivo de teste caso você não tenha fornecido um.</span><span class="sxs-lookup"><span data-stu-id="9a70b-721">Iometer creates this test file if you have not provided one.</span></span> <span data-ttu-id="9a70b-722">Crie um arquivo de teste de 200GB chamado iobw.tst em volumes de CacheReads e NoCacheWrites hello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-722">Create a 200GB test file called iobw.tst on hello CacheReads and NoCacheWrites volumes.</span></span>

<span data-ttu-id="9a70b-723">*Especificações de Acesso*</span><span class="sxs-lookup"><span data-stu-id="9a70b-723">*Access Specifications*</span></span>  
<span data-ttu-id="9a70b-724">Hello especificações, solicitação de tamanho de e/s, % de leitura/gravação, % aleatória/sequencial são configurados usando o guia de "Acesso especificações" hello Iometer.</span><span class="sxs-lookup"><span data-stu-id="9a70b-724">hello specifications, request IO size, % read/write, % random/sequential are configured using hello "Access Specifications" tab in Iometer.</span></span> <span data-ttu-id="9a70b-725">Crie uma especificação de acesso para cada um dos cenários de saudação descritos a seguir.</span><span class="sxs-lookup"><span data-stu-id="9a70b-725">Create an access specification for each of hello scenarios described below.</span></span> <span data-ttu-id="9a70b-726">Criar especificações de acesso hello e "Salvar" com um número apropriado nome – RandomWrites\_8K, RandomReads\_8 KB.</span><span class="sxs-lookup"><span data-stu-id="9a70b-726">Create hello access specifications and "Save" with an appropriate name like – RandomWrites\_8K, RandomReads\_8K.</span></span> <span data-ttu-id="9a70b-727">Selecione especificação de saudação correspondente ao executar o cenário de teste de saudação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-727">Select hello corresponding specification when running hello test scenario.</span></span>

<span data-ttu-id="9a70b-728">Um exemplo de especificações de acesso para o cenário de IOPS de gravação máxima é mostrado abaixo, </span><span class="sxs-lookup"><span data-stu-id="9a70b-728">An example of access specifications for maximum Write IOPS scenario is shown below,</span></span>  
    ![](media/storage-premium-storage-performance/image8.png)

<span data-ttu-id="9a70b-729">*Especificações de teste de IOPS máxima*</span><span class="sxs-lookup"><span data-stu-id="9a70b-729">*Maximum IOPS Test Specifications*</span></span>  
<span data-ttu-id="9a70b-730">máximo de toodemonstrate IOPs, use o menor tamanho de solicitação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-730">toodemonstrate maximum IOPs, use smaller request size.</span></span> <span data-ttu-id="9a70b-731">Use o tamanho de solicitação de 8 K e crie especificações para gravações e leituras aleatórias.</span><span class="sxs-lookup"><span data-stu-id="9a70b-731">Use 8K request size and create specifications for Random Writes and Reads.</span></span>

| <span data-ttu-id="9a70b-732">Especificação de acesso</span><span class="sxs-lookup"><span data-stu-id="9a70b-732">Access Specification</span></span> | <span data-ttu-id="9a70b-733">Tamanho da solicitação</span><span class="sxs-lookup"><span data-stu-id="9a70b-733">Request size</span></span> | <span data-ttu-id="9a70b-734">Aleatório %</span><span class="sxs-lookup"><span data-stu-id="9a70b-734">Random %</span></span> | <span data-ttu-id="9a70b-735">Leitura %</span><span class="sxs-lookup"><span data-stu-id="9a70b-735">Read %</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="9a70b-736">RandomWrites\_8K</span><span class="sxs-lookup"><span data-stu-id="9a70b-736">RandomWrites\_8K</span></span> |<span data-ttu-id="9a70b-737">8 K</span><span class="sxs-lookup"><span data-stu-id="9a70b-737">8K</span></span> |<span data-ttu-id="9a70b-738">100</span><span class="sxs-lookup"><span data-stu-id="9a70b-738">100</span></span> |<span data-ttu-id="9a70b-739">0</span><span class="sxs-lookup"><span data-stu-id="9a70b-739">0</span></span> |
| <span data-ttu-id="9a70b-740">RandomReads\_8K</span><span class="sxs-lookup"><span data-stu-id="9a70b-740">RandomReads\_8K</span></span> |<span data-ttu-id="9a70b-741">8 K</span><span class="sxs-lookup"><span data-stu-id="9a70b-741">8K</span></span> |<span data-ttu-id="9a70b-742">100</span><span class="sxs-lookup"><span data-stu-id="9a70b-742">100</span></span> |<span data-ttu-id="9a70b-743">100</span><span class="sxs-lookup"><span data-stu-id="9a70b-743">100</span></span> |

<span data-ttu-id="9a70b-744">*Especificações de Teste de Taxa de Transferência Máxima*</span><span class="sxs-lookup"><span data-stu-id="9a70b-744">*Maximum Throughput Test Specifications*</span></span>  
<span data-ttu-id="9a70b-745">toodemonstrate taxa de transferência máxima, use maior tamanho da solicitação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-745">toodemonstrate maximum Throughput, use larger request size.</span></span> <span data-ttu-id="9a70b-746">Use o tamanho de solicitação de 64 K e crie especificações para gravações e leituras aleatórias.</span><span class="sxs-lookup"><span data-stu-id="9a70b-746">Use 64K request size and create specifications for Random Writes and Reads.</span></span>

| <span data-ttu-id="9a70b-747">Especificação de acesso</span><span class="sxs-lookup"><span data-stu-id="9a70b-747">Access Specification</span></span> | <span data-ttu-id="9a70b-748">Tamanho da solicitação</span><span class="sxs-lookup"><span data-stu-id="9a70b-748">Request size</span></span> | <span data-ttu-id="9a70b-749">Aleatório %</span><span class="sxs-lookup"><span data-stu-id="9a70b-749">Random %</span></span> | <span data-ttu-id="9a70b-750">Leitura %</span><span class="sxs-lookup"><span data-stu-id="9a70b-750">Read %</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="9a70b-751">RandomWrites\_64K</span><span class="sxs-lookup"><span data-stu-id="9a70b-751">RandomWrites\_64K</span></span> |<span data-ttu-id="9a70b-752">64 K</span><span class="sxs-lookup"><span data-stu-id="9a70b-752">64K</span></span> |<span data-ttu-id="9a70b-753">100</span><span class="sxs-lookup"><span data-stu-id="9a70b-753">100</span></span> |<span data-ttu-id="9a70b-754">0</span><span class="sxs-lookup"><span data-stu-id="9a70b-754">0</span></span> |
| <span data-ttu-id="9a70b-755">RandomReads\_64K</span><span class="sxs-lookup"><span data-stu-id="9a70b-755">RandomReads\_64K</span></span> |<span data-ttu-id="9a70b-756">64 K</span><span class="sxs-lookup"><span data-stu-id="9a70b-756">64K</span></span> |<span data-ttu-id="9a70b-757">100</span><span class="sxs-lookup"><span data-stu-id="9a70b-757">100</span></span> |<span data-ttu-id="9a70b-758">100</span><span class="sxs-lookup"><span data-stu-id="9a70b-758">100</span></span> |

<span data-ttu-id="9a70b-759">*Executando Olá Iometer teste*</span><span class="sxs-lookup"><span data-stu-id="9a70b-759">*Running hello Iometer Test*</span></span>  
<span data-ttu-id="9a70b-760">Olá as etapas abaixo toowarm o cache</span><span class="sxs-lookup"><span data-stu-id="9a70b-760">Perform hello steps below toowarm up cache</span></span>

1. <span data-ttu-id="9a70b-761">Crie duas especificações de acesso com os valores mostrados abaixo:</span><span class="sxs-lookup"><span data-stu-id="9a70b-761">Create two access specifications with values shown below,</span></span>

   | <span data-ttu-id="9a70b-762">Nome</span><span class="sxs-lookup"><span data-stu-id="9a70b-762">Name</span></span> | <span data-ttu-id="9a70b-763">Tamanho da solicitação</span><span class="sxs-lookup"><span data-stu-id="9a70b-763">Request size</span></span> | <span data-ttu-id="9a70b-764">Aleatório %</span><span class="sxs-lookup"><span data-stu-id="9a70b-764">Random %</span></span> | <span data-ttu-id="9a70b-765">Leitura %</span><span class="sxs-lookup"><span data-stu-id="9a70b-765">Read %</span></span> |
   | --- | --- | --- | --- |
   | <span data-ttu-id="9a70b-766">RandomWrites\_1MB</span><span class="sxs-lookup"><span data-stu-id="9a70b-766">RandomWrites\_1MB</span></span> |<span data-ttu-id="9a70b-767">1 MB</span><span class="sxs-lookup"><span data-stu-id="9a70b-767">1MB</span></span> |<span data-ttu-id="9a70b-768">100</span><span class="sxs-lookup"><span data-stu-id="9a70b-768">100</span></span> |<span data-ttu-id="9a70b-769">0</span><span class="sxs-lookup"><span data-stu-id="9a70b-769">0</span></span> |
   | <span data-ttu-id="9a70b-770">RandomReads\_1MB</span><span class="sxs-lookup"><span data-stu-id="9a70b-770">RandomReads\_1MB</span></span> |<span data-ttu-id="9a70b-771">1 MB</span><span class="sxs-lookup"><span data-stu-id="9a70b-771">1MB</span></span> |<span data-ttu-id="9a70b-772">100</span><span class="sxs-lookup"><span data-stu-id="9a70b-772">100</span></span> |<span data-ttu-id="9a70b-773">100</span><span class="sxs-lookup"><span data-stu-id="9a70b-773">100</span></span> |
2. <span data-ttu-id="9a70b-774">Execute teste de Iometer Olá para inicializar o disco de cache com os seguintes parâmetros.</span><span class="sxs-lookup"><span data-stu-id="9a70b-774">Run hello Iometer test for initializing cache disk with following parameters.</span></span> <span data-ttu-id="9a70b-775">Use três threads de trabalho para o volume de destino hello e uma profundidade de fila de 128.</span><span class="sxs-lookup"><span data-stu-id="9a70b-775">Use three worker threads for hello target volume and a queue depth of 128.</span></span> <span data-ttu-id="9a70b-776">Definir Olá durante saudação too2hrs de teste na guia de "Configuração de teste" hello "Tempo de execução".</span><span class="sxs-lookup"><span data-stu-id="9a70b-776">Set hello "Run time" duration of hello test too2hrs on hello "Test Setup" tab.</span></span>

   | <span data-ttu-id="9a70b-777">Cenário</span><span class="sxs-lookup"><span data-stu-id="9a70b-777">Scenario</span></span> | <span data-ttu-id="9a70b-778">Volume de destino</span><span class="sxs-lookup"><span data-stu-id="9a70b-778">Target Volume</span></span> | <span data-ttu-id="9a70b-779">Nome</span><span class="sxs-lookup"><span data-stu-id="9a70b-779">Name</span></span> | <span data-ttu-id="9a70b-780">Duração</span><span class="sxs-lookup"><span data-stu-id="9a70b-780">Duration</span></span> |
   | --- | --- | --- | --- |
   | <span data-ttu-id="9a70b-781">Inicializar disco do cache</span><span class="sxs-lookup"><span data-stu-id="9a70b-781">Initialize Cache Disk</span></span> |<span data-ttu-id="9a70b-782">CacheReads</span><span class="sxs-lookup"><span data-stu-id="9a70b-782">CacheReads</span></span> |<span data-ttu-id="9a70b-783">RandomWrites\_1MB</span><span class="sxs-lookup"><span data-stu-id="9a70b-783">RandomWrites\_1MB</span></span> |<span data-ttu-id="9a70b-784">2 horas</span><span class="sxs-lookup"><span data-stu-id="9a70b-784">2hrs</span></span> |
3. <span data-ttu-id="9a70b-785">Execute teste de Iometer Olá para aquecer o disco de cache com os seguintes parâmetros.</span><span class="sxs-lookup"><span data-stu-id="9a70b-785">Run hello Iometer test for warming up cache disk with following parameters.</span></span> <span data-ttu-id="9a70b-786">Use três threads de trabalho para o volume de destino hello e uma profundidade de fila de 128.</span><span class="sxs-lookup"><span data-stu-id="9a70b-786">Use three worker threads for hello target volume and a queue depth of 128.</span></span> <span data-ttu-id="9a70b-787">Definir Olá durante saudação too2hrs de teste na guia de "Configuração de teste" hello "Tempo de execução".</span><span class="sxs-lookup"><span data-stu-id="9a70b-787">Set hello "Run time" duration of hello test too2hrs on hello "Test Setup" tab.</span></span>

   | <span data-ttu-id="9a70b-788">Cenário</span><span class="sxs-lookup"><span data-stu-id="9a70b-788">Scenario</span></span> | <span data-ttu-id="9a70b-789">Volume de destino</span><span class="sxs-lookup"><span data-stu-id="9a70b-789">Target Volume</span></span> | <span data-ttu-id="9a70b-790">Nome</span><span class="sxs-lookup"><span data-stu-id="9a70b-790">Name</span></span> | <span data-ttu-id="9a70b-791">Duração</span><span class="sxs-lookup"><span data-stu-id="9a70b-791">Duration</span></span> |
   | --- | --- | --- | --- |
   | <span data-ttu-id="9a70b-792">Aquecer o disco do cache</span><span class="sxs-lookup"><span data-stu-id="9a70b-792">Warm up Cache Disk</span></span> |<span data-ttu-id="9a70b-793">CacheReads</span><span class="sxs-lookup"><span data-stu-id="9a70b-793">CacheReads</span></span> |<span data-ttu-id="9a70b-794">RandomReads\_1MB</span><span class="sxs-lookup"><span data-stu-id="9a70b-794">RandomReads\_1MB</span></span> |<span data-ttu-id="9a70b-795">2 horas</span><span class="sxs-lookup"><span data-stu-id="9a70b-795">2hrs</span></span> |

<span data-ttu-id="9a70b-796">Após o disco do cache é aquecido, continue com cenários de teste de saudação listados abaixo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-796">After cache disk is warmed up, proceed with hello test scenarios listed below.</span></span> <span data-ttu-id="9a70b-797">Olá toorun Iometer teste, use pelo menos três threads de trabalho para **cada** volume de destino.</span><span class="sxs-lookup"><span data-stu-id="9a70b-797">toorun hello Iometer test, use at least three worker threads for **each** target volume.</span></span> <span data-ttu-id="9a70b-798">Para cada thread de trabalho, selecione o volume de destino Olá, definir a profundidade da fila e selecione uma das especificações de teste Olá salvada, conforme mostrado na tabela Olá abaixo, o cenário de teste correspondente toorun hello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-798">For each worker thread, select hello target volume, set queue depth and select one of hello saved test specifications, as shown in hello table below, toorun hello corresponding test scenario.</span></span> <span data-ttu-id="9a70b-799">tabela de Olá também mostra os resultados esperados para IOPS e taxa de transferência quando a execução desses testes.</span><span class="sxs-lookup"><span data-stu-id="9a70b-799">hello table also shows expected results for IOPS and Throughput when running these tests.</span></span> <span data-ttu-id="9a70b-800">Em todos os cenários são usados um tamanho pequeno de 8 KB de E/S e uma profundidade de fila alta de 128.</span><span class="sxs-lookup"><span data-stu-id="9a70b-800">For all scenarios, a small IO size of 8KB and a high queue depth of 128 is used.</span></span>

| <span data-ttu-id="9a70b-801">Cenário de teste</span><span class="sxs-lookup"><span data-stu-id="9a70b-801">Test Scenario</span></span> | <span data-ttu-id="9a70b-802">Volume de destino</span><span class="sxs-lookup"><span data-stu-id="9a70b-802">Target Volume</span></span> | <span data-ttu-id="9a70b-803">Nome</span><span class="sxs-lookup"><span data-stu-id="9a70b-803">Name</span></span> | <span data-ttu-id="9a70b-804">Result</span><span class="sxs-lookup"><span data-stu-id="9a70b-804">Result</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="9a70b-805">Máx.</span><span class="sxs-lookup"><span data-stu-id="9a70b-805">Max.</span></span> <span data-ttu-id="9a70b-806">IOPS de leitura</span><span class="sxs-lookup"><span data-stu-id="9a70b-806">Read IOPS</span></span> |<span data-ttu-id="9a70b-807">CacheReads</span><span class="sxs-lookup"><span data-stu-id="9a70b-807">CacheReads</span></span> |<span data-ttu-id="9a70b-808">RandomWrites\_8K</span><span class="sxs-lookup"><span data-stu-id="9a70b-808">RandomWrites\_8K</span></span> |<span data-ttu-id="9a70b-809">50.000 IOPS </span><span class="sxs-lookup"><span data-stu-id="9a70b-809">50,000 IOPS</span></span> |
| <span data-ttu-id="9a70b-810">Máx.</span><span class="sxs-lookup"><span data-stu-id="9a70b-810">Max.</span></span> <span data-ttu-id="9a70b-811">IOPS de gravação</span><span class="sxs-lookup"><span data-stu-id="9a70b-811">Write IOPS</span></span> |<span data-ttu-id="9a70b-812">NoCacheWrites</span><span class="sxs-lookup"><span data-stu-id="9a70b-812">NoCacheWrites</span></span> |<span data-ttu-id="9a70b-813">RandomReads\_8K</span><span class="sxs-lookup"><span data-stu-id="9a70b-813">RandomReads\_8K</span></span> |<span data-ttu-id="9a70b-814">64.000 IOPS</span><span class="sxs-lookup"><span data-stu-id="9a70b-814">64,000 IOPS</span></span> |
| <span data-ttu-id="9a70b-815">Máx.</span><span class="sxs-lookup"><span data-stu-id="9a70b-815">Max.</span></span> <span data-ttu-id="9a70b-816">IOPS combinada</span><span class="sxs-lookup"><span data-stu-id="9a70b-816">Combined IOPS</span></span> |<span data-ttu-id="9a70b-817">CacheReads</span><span class="sxs-lookup"><span data-stu-id="9a70b-817">CacheReads</span></span> |<span data-ttu-id="9a70b-818">RandomWrites\_8K</span><span class="sxs-lookup"><span data-stu-id="9a70b-818">RandomWrites\_8K</span></span> |<span data-ttu-id="9a70b-819">100.000 IOPS</span><span class="sxs-lookup"><span data-stu-id="9a70b-819">100,000 IOPS</span></span> |
| <span data-ttu-id="9a70b-820">NoCacheWrites</span><span class="sxs-lookup"><span data-stu-id="9a70b-820">NoCacheWrites</span></span> |<span data-ttu-id="9a70b-821">RandomReads\_8K</span><span class="sxs-lookup"><span data-stu-id="9a70b-821">RandomReads\_8K</span></span> | &nbsp; | &nbsp; |
| <span data-ttu-id="9a70b-822">Máx.</span><span class="sxs-lookup"><span data-stu-id="9a70b-822">Max.</span></span> <span data-ttu-id="9a70b-823">MB/s de leitura</span><span class="sxs-lookup"><span data-stu-id="9a70b-823">Read MB/sec</span></span> |<span data-ttu-id="9a70b-824">CacheReads</span><span class="sxs-lookup"><span data-stu-id="9a70b-824">CacheReads</span></span> |<span data-ttu-id="9a70b-825">RandomWrites\_64K</span><span class="sxs-lookup"><span data-stu-id="9a70b-825">RandomWrites\_64K</span></span> |<span data-ttu-id="9a70b-826">524 MB/s</span><span class="sxs-lookup"><span data-stu-id="9a70b-826">524 MB/sec</span></span> |
| <span data-ttu-id="9a70b-827">Máx.</span><span class="sxs-lookup"><span data-stu-id="9a70b-827">Max.</span></span> <span data-ttu-id="9a70b-828">MB/s de gravação</span><span class="sxs-lookup"><span data-stu-id="9a70b-828">Write MB/sec</span></span> |<span data-ttu-id="9a70b-829">NoCacheWrites</span><span class="sxs-lookup"><span data-stu-id="9a70b-829">NoCacheWrites</span></span> |<span data-ttu-id="9a70b-830">RandomReads\_64K</span><span class="sxs-lookup"><span data-stu-id="9a70b-830">RandomReads\_64K</span></span> |<span data-ttu-id="9a70b-831">524 MB/s</span><span class="sxs-lookup"><span data-stu-id="9a70b-831">524 MB/sec</span></span> |
| <span data-ttu-id="9a70b-832">MB/s combinado</span><span class="sxs-lookup"><span data-stu-id="9a70b-832">Combined MB/sec</span></span> |<span data-ttu-id="9a70b-833">CacheReads</span><span class="sxs-lookup"><span data-stu-id="9a70b-833">CacheReads</span></span> |<span data-ttu-id="9a70b-834">RandomWrites\_64K</span><span class="sxs-lookup"><span data-stu-id="9a70b-834">RandomWrites\_64K</span></span> |<span data-ttu-id="9a70b-835">1000 MB/s</span><span class="sxs-lookup"><span data-stu-id="9a70b-835">1000 MB/sec</span></span> |
| <span data-ttu-id="9a70b-836">NoCacheWrites</span><span class="sxs-lookup"><span data-stu-id="9a70b-836">NoCacheWrites</span></span> |<span data-ttu-id="9a70b-837">RandomReads\_64K</span><span class="sxs-lookup"><span data-stu-id="9a70b-837">RandomReads\_64K</span></span> | &nbsp; | &nbsp; |

<span data-ttu-id="9a70b-838">Abaixo estão capturas de tela de saudação Iometer resultados de teste para cenários combinados de IOPS e taxa de transferência.</span><span class="sxs-lookup"><span data-stu-id="9a70b-838">Below are screenshots of hello Iometer test results for combined IOPS and Throughput scenarios.</span></span>

<span data-ttu-id="9a70b-839">*IOPS Máxima de Leituras e Gravações Combinadas*</span><span class="sxs-lookup"><span data-stu-id="9a70b-839">*Combined Reads and Writes Maximum IOPS*</span></span>  
![](media/storage-premium-storage-performance/image9.png)

<span data-ttu-id="9a70b-840">*Taxa de Transferência Máxima de Leituras e Gravações Combinadas*</span><span class="sxs-lookup"><span data-stu-id="9a70b-840">*Combined Reads and Writes Maximum Throughput*</span></span>  
![](media/storage-premium-storage-performance/image10.png)

### <a name="fio"></a><span data-ttu-id="9a70b-841">FIO</span><span class="sxs-lookup"><span data-stu-id="9a70b-841">FIO</span></span>
<span data-ttu-id="9a70b-842">FIO é um armazenamento de toobenchmark popular ferramenta no hello VMs do Linux.</span><span class="sxs-lookup"><span data-stu-id="9a70b-842">FIO is a popular tool toobenchmark storage on hello Linux VMs.</span></span> <span data-ttu-id="9a70b-843">Ele tem Olá flexibilidade tooselect diferentes e/s tamanhos, sequenciais ou aleatórias leituras e gravações.</span><span class="sxs-lookup"><span data-stu-id="9a70b-843">It has hello flexibility tooselect different IO sizes, sequential or random reads and writes.</span></span> <span data-ttu-id="9a70b-844">Ele gera threads de trabalho ou saudação de tooperform processos especificados operações de e/s.</span><span class="sxs-lookup"><span data-stu-id="9a70b-844">It spawns worker threads or processes tooperform hello specified I/O operations.</span></span> <span data-ttu-id="9a70b-845">Você pode especificar o tipo de saudação de operações de e/s, que cada thread de trabalho deve executar usando os arquivos de trabalho.</span><span class="sxs-lookup"><span data-stu-id="9a70b-845">You can specify hello type of I/O operations each worker thread must perform using job files.</span></span> <span data-ttu-id="9a70b-846">Criamos um arquivo de trabalho por cenário ilustrado nos exemplos de saudação abaixo.</span><span class="sxs-lookup"><span data-stu-id="9a70b-846">We created one job file per scenario illustrated in hello examples below.</span></span> <span data-ttu-id="9a70b-847">Você pode alterar as especificações de saudação essas trabalho arquivos toobenchmark diferentes cargas de trabalho em execução no armazenamento Premium.</span><span class="sxs-lookup"><span data-stu-id="9a70b-847">You can change hello specifications in these job files toobenchmark different workloads running on Premium Storage.</span></span> <span data-ttu-id="9a70b-848">Exemplos de hello, estamos usando um execução de VM padrão de 14 DS **Ubuntu**.</span><span class="sxs-lookup"><span data-stu-id="9a70b-848">In hello examples, we are using a Standard DS 14 VM running **Ubuntu**.</span></span> <span data-ttu-id="9a70b-849">Olá Use mesma configuração descrita no início de saudação do hello [benchmark seção](#Benchmarking) e passiva cache Olá antes de executar testes de benchmark do hello.</span><span class="sxs-lookup"><span data-stu-id="9a70b-849">Use hello same setup described in hello beginning of hello [Benchmarking section](#Benchmarking) and warm up hello cache before running hello benchmarking tests.</span></span>

<span data-ttu-id="9a70b-850">Antes de começar, [baixe o FIO](https://github.com/axboe/fio) e instale-o em sua máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="9a70b-850">Before you begin, [download FIO](https://github.com/axboe/fio) and install it on your virtual machine.</span></span>

<span data-ttu-id="9a70b-851">Olá executar comando a seguir para Ubuntu,</span><span class="sxs-lookup"><span data-stu-id="9a70b-851">Run hello following command for Ubuntu,</span></span>

```
apt-get install fio
```

<span data-ttu-id="9a70b-852">Usaremos quatro threads de trabalho para orientar operações de gravação e quatro threads de trabalho principais para operações de leitura em discos de saudação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-852">We will use four worker threads for driving Write operations and four worker threads for driving Read operations on hello disks.</span></span> <span data-ttu-id="9a70b-853">Olá trabalhadores de gravação serão dirigindo tráfego no volume nocache"hello", que tem 10 discos com o cache configurado muito "None".</span><span class="sxs-lookup"><span data-stu-id="9a70b-853">hello Write workers will be driving traffic on hello "nocache" volume, which has 10 disks with cache set too"None".</span></span> <span data-ttu-id="9a70b-854">Olá trabalhadores de leitura serão dirigindo tráfego no volume readcache"hello", que tem o 1 disco com o conjunto de cache muito "ReadOnly".</span><span class="sxs-lookup"><span data-stu-id="9a70b-854">hello Read workers will be driving traffic on hello "readcache" volume, which has 1 disk with cache set too"ReadOnly".</span></span>

<span data-ttu-id="9a70b-855">*IOPS máxima de gravação*</span><span class="sxs-lookup"><span data-stu-id="9a70b-855">*Maximum Write IOPS*</span></span>  
<span data-ttu-id="9a70b-856">Criar arquivo de saudação do trabalho com tooget de especificações seguintes máximo de IOPS de gravação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-856">Create hello job file with following specifications tooget maximum Write IOPS.</span></span> <span data-ttu-id="9a70b-857">Dê o nome de "fiowrite.ini".</span><span class="sxs-lookup"><span data-stu-id="9a70b-857">Name it "fiowrite.ini".</span></span>

```
[global]
size=30g
direct=1
iodepth=256
ioengine=libaio
bs=8k

[writer1]
rw=randwrite
directory=/mnt/nocache
[writer2]
rw=randwrite
directory=/mnt/nocache
[writer3]
rw=randwrite
directory=/mnt/nocache
[writer4]
rw=randwrite
directory=/mnt/nocache
```

<span data-ttu-id="9a70b-858">Saudação de Observação Siga procedimentos essenciais que estejam de acordo com as diretrizes de design de saudação descritas nas seções anteriores.</span><span class="sxs-lookup"><span data-stu-id="9a70b-858">Note hello follow key things that are in line with hello design guidelines discussed in previous sections.</span></span> <span data-ttu-id="9a70b-859">Essas especificações são essencial toodrive IOPS máximo,</span><span class="sxs-lookup"><span data-stu-id="9a70b-859">These specifications are essential toodrive maximum IOPS,</span></span>  

* <span data-ttu-id="9a70b-860">Uma profundidade de fila alta de 256.</span><span class="sxs-lookup"><span data-stu-id="9a70b-860">A high queue depth of 256.</span></span>  
* <span data-ttu-id="9a70b-861">Um bloco pequeno de 8 KB.</span><span class="sxs-lookup"><span data-stu-id="9a70b-861">A small block size of 8KB.</span></span>  
* <span data-ttu-id="9a70b-862">Vários threads que executam gravações aleatórias.</span><span class="sxs-lookup"><span data-stu-id="9a70b-862">Multiple threads performing random writes.</span></span>

<span data-ttu-id="9a70b-863">Executar Olá tookick comando off Olá FIO de teste para 30 segundos, a seguir</span><span class="sxs-lookup"><span data-stu-id="9a70b-863">Run hello following command tookick off hello FIO test for 30 seconds,</span></span>  

```
sudo fio --runtime 30 fiowrite.ini
```

<span data-ttu-id="9a70b-864">Enquanto Olá teste é executado, você será toosee capaz de número de saudação de entrega de discos VM e Premium Olá IOPS de gravação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-864">While hello test runs, you will be able toosee hello number of write IOPS hello VM and Premium disks are delivering.</span></span> <span data-ttu-id="9a70b-865">Conforme mostrado no exemplo hello abaixo, Olá DS14 VM está oferecendo seu limite de IOPS de 50.000 IOPS de gravação máxima.</span><span class="sxs-lookup"><span data-stu-id="9a70b-865">As shown in hello sample below, hello DS14 VM is delivering its maximum write IOPS limit of 50,000 IOPS.</span></span>  
    ![](media/storage-premium-storage-performance/image11.png)

<span data-ttu-id="9a70b-866">*IOPS máxima de leitura*</span><span class="sxs-lookup"><span data-stu-id="9a70b-866">*Maximum Read IOPS*</span></span>  
<span data-ttu-id="9a70b-867">Criar arquivo de saudação do trabalho com tooget de especificações seguintes máximo de IOPS de leitura.</span><span class="sxs-lookup"><span data-stu-id="9a70b-867">Create hello job file with following specifications tooget maximum Read IOPS.</span></span> <span data-ttu-id="9a70b-868">Dê o nome de "fioread.ini".</span><span class="sxs-lookup"><span data-stu-id="9a70b-868">Name it "fioread.ini".</span></span>

```
[global]
size=30g
direct=1
iodepth=256
ioengine=libaio
bs=8k

[reader1]
rw=randread
directory=/mnt/readcache
[reader2]
rw=randread
directory=/mnt/readcache
[reader3]
rw=randread
directory=/mnt/readcache
[reader4]
rw=randread
directory=/mnt/readcache
```

<span data-ttu-id="9a70b-869">Saudação de Observação Siga procedimentos essenciais que estejam de acordo com as diretrizes de design de saudação descritas nas seções anteriores.</span><span class="sxs-lookup"><span data-stu-id="9a70b-869">Note hello follow key things that are in line with hello design guidelines discussed in previous sections.</span></span> <span data-ttu-id="9a70b-870">Essas especificações são essencial toodrive IOPS máximo,</span><span class="sxs-lookup"><span data-stu-id="9a70b-870">These specifications are essential toodrive maximum IOPS,</span></span>

* <span data-ttu-id="9a70b-871">Uma profundidade de fila alta de 256.</span><span class="sxs-lookup"><span data-stu-id="9a70b-871">A high queue depth of 256.</span></span>  
* <span data-ttu-id="9a70b-872">Um bloco pequeno de 8 KB.</span><span class="sxs-lookup"><span data-stu-id="9a70b-872">A small block size of 8KB.</span></span>  
* <span data-ttu-id="9a70b-873">Vários threads que executam gravações aleatórias.</span><span class="sxs-lookup"><span data-stu-id="9a70b-873">Multiple threads performing random writes.</span></span>

<span data-ttu-id="9a70b-874">Executar Olá tookick comando off Olá FIO de teste para 30 segundos, a seguir</span><span class="sxs-lookup"><span data-stu-id="9a70b-874">Run hello following command tookick off hello FIO test for 30 seconds,</span></span>

```
sudo fio --runtime 30 fioread.ini
```

<span data-ttu-id="9a70b-875">Enquanto Olá teste é executado, você será o número de saudação do toosee capaz de leitura IOPS Olá VM e discos Premium estão entregando.</span><span class="sxs-lookup"><span data-stu-id="9a70b-875">While hello test runs, you will be able toosee hello number of read IOPS hello VM and Premium disks are delivering.</span></span> <span data-ttu-id="9a70b-876">Conforme mostrado no exemplo hello abaixo, Olá DS14 VM está oferecendo mais de 64.000 IOPS de leitura.</span><span class="sxs-lookup"><span data-stu-id="9a70b-876">As shown in hello sample below, hello DS14 VM is delivering more than 64,000 Read IOPS.</span></span> <span data-ttu-id="9a70b-877">Isso é uma combinação de disco hello e desempenho de cache de saudação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-877">This is a combination of hello disk and hello cache performance.</span></span>  
    ![](media/storage-premium-storage-performance/image12.png)

<span data-ttu-id="9a70b-878">*IOPS Máxima de Leitura e Gravação*</span><span class="sxs-lookup"><span data-stu-id="9a70b-878">*Maximum Read and Write IOPS*</span></span>  
<span data-ttu-id="9a70b-879">Criar arquivo de saudação do trabalho com as seguintes especificações de tooget máximo combinado de leitura e gravação IOPS.</span><span class="sxs-lookup"><span data-stu-id="9a70b-879">Create hello job file with following specifications tooget maximum combined Read and Write IOPS.</span></span> <span data-ttu-id="9a70b-880">Dê o nome de "fioreadwrite.ini".</span><span class="sxs-lookup"><span data-stu-id="9a70b-880">Name it "fioreadwrite.ini".</span></span>

```
[global]
size=30g
direct=1
iodepth=128
ioengine=libaio
bs=4k

[reader1]
rw=randread
directory=/mnt/readcache
[reader2]
rw=randread
directory=/mnt/readcache
[reader3]
rw=randread
directory=/mnt/readcache
[reader4]
rw=randread
directory=/mnt/readcache

[writer1]
rw=randwrite
directory=/mnt/nocache
rate_iops=12500
[writer2]
rw=randwrite
directory=/mnt/nocache
rate_iops=12500
[writer3]
rw=randwrite
directory=/mnt/nocache
rate_iops=12500
[writer4]
rw=randwrite
directory=/mnt/nocache
rate_iops=12500
```

<span data-ttu-id="9a70b-881">Saudação de Observação Siga procedimentos essenciais que estejam de acordo com as diretrizes de design de saudação descritas nas seções anteriores.</span><span class="sxs-lookup"><span data-stu-id="9a70b-881">Note hello follow key things that are in line with hello design guidelines discussed in previous sections.</span></span> <span data-ttu-id="9a70b-882">Essas especificações são essencial toodrive IOPS máximo,</span><span class="sxs-lookup"><span data-stu-id="9a70b-882">These specifications are essential toodrive maximum IOPS,</span></span>

* <span data-ttu-id="9a70b-883">Uma profundidade alta de fila de 128.</span><span class="sxs-lookup"><span data-stu-id="9a70b-883">A high queue depth of 128.</span></span>  
* <span data-ttu-id="9a70b-884">Um bloco pequeno de 4 KB.</span><span class="sxs-lookup"><span data-stu-id="9a70b-884">A small block size of 4KB.</span></span>  
* <span data-ttu-id="9a70b-885">Vários threads que executam leituras e gravações aleatórias.</span><span class="sxs-lookup"><span data-stu-id="9a70b-885">Multiple threads performing random reads and writes.</span></span>

<span data-ttu-id="9a70b-886">Executar Olá tookick comando off Olá FIO de teste para 30 segundos, a seguir</span><span class="sxs-lookup"><span data-stu-id="9a70b-886">Run hello following command tookick off hello FIO test for 30 seconds,</span></span>

```
sudo fio --runtime 30 fioreadwrite.ini
```

<span data-ttu-id="9a70b-887">Enquanto executa o teste Olá, será ser capaz de toosee Olá número de leitura combinada e IOPS de gravação Olá VM e entrega de discos Premium.</span><span class="sxs-lookup"><span data-stu-id="9a70b-887">While hello test runs, you will be able toosee hello number of combined read and write IOPS hello VM and Premium disks are delivering.</span></span> <span data-ttu-id="9a70b-888">Conforme mostrado no exemplo hello abaixo, Olá DS14 VM está oferecendo mais de 100.000 leitura combinada e IOPS de gravação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-888">As shown in hello sample below, hello DS14 VM is delivering more than 100,000 combined Read and Write IOPS.</span></span> <span data-ttu-id="9a70b-889">Isso é uma combinação de disco hello e desempenho de cache de saudação.</span><span class="sxs-lookup"><span data-stu-id="9a70b-889">This is a combination of hello disk and hello cache performance.</span></span>  
    ![](media/storage-premium-storage-performance/image13.png)

<span data-ttu-id="9a70b-890">*Taxa de Transferência Máxima Combinada*</span><span class="sxs-lookup"><span data-stu-id="9a70b-890">*Maximum Combined Throughput*</span></span>  
<span data-ttu-id="9a70b-891">tooget Olá máximo combinado de leitura e gravação taxa de transferência, use um tamanho de bloco maior e a profundidade da fila grande com vários threads de execução de leituras e gravações.</span><span class="sxs-lookup"><span data-stu-id="9a70b-891">tooget hello maximum combined Read and Write Throughput, use a larger block size and large queue depth with multiple threads performing reads and writes.</span></span> <span data-ttu-id="9a70b-892">É possível usar um tamanho de bloco de 64 KB e uma profundidade de fila de 128.</span><span class="sxs-lookup"><span data-stu-id="9a70b-892">You can use a block size of 64KB and queue depth of 128.</span></span>

## <a name="next-steps"></a><span data-ttu-id="9a70b-893">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="9a70b-893">Next Steps</span></span>
<span data-ttu-id="9a70b-894">Saiba mais sobre o Armazenamento Premium do Azure:</span><span class="sxs-lookup"><span data-stu-id="9a70b-894">Learn more about Azure Premium Storage:</span></span>

* [<span data-ttu-id="9a70b-895">Armazenamento Premium: Armazenamento de Alto Desempenho para as Cargas de Trabalho da Máquina Virtual do Azure</span><span class="sxs-lookup"><span data-stu-id="9a70b-895">Premium Storage: High-Performance Storage for Azure Virtual Machine Workloads</span></span>](../storage-premium-storage.md)  

<span data-ttu-id="9a70b-896">Para usuários do SQL Server, leia os artigos sobre Práticas recomendadas de desempenho para o SQL Server:</span><span class="sxs-lookup"><span data-stu-id="9a70b-896">For SQL Server users, read articles on Performance Best Practices for SQL Server:</span></span>

* [<span data-ttu-id="9a70b-897">Práticas recomendadas para o SQL Server em Máquinas Virtuais do Azure</span><span class="sxs-lookup"><span data-stu-id="9a70b-897">Performance Best Practices for SQL Server in Azure Virtual Machines</span></span>](../../virtual-machines/windows/sql/virtual-machines-windows-sql-performance.md)
* [<span data-ttu-id="9a70b-898">Armazenamento Premium do Azure fornece desempenho mais alto para SQL Server na VM do Azure</span><span class="sxs-lookup"><span data-stu-id="9a70b-898">Azure Premium Storage provides highest performance for SQL Server in Azure VM</span></span>](http://blogs.technet.com/b/dataplatforminsider/archive/2015/04/23/azure-premium-storage-provides-highest-performance-for-sql-server-in-azure-vm.aspx)
