---
title: "APIs de Cobrança do Azure | Microsoft Docs"
description: "Aprenda sobre as APIs RateCard e de Uso de Cobrança do Azure, que são usadas para fornecer informações sobre o consumo de recursos e as tendências do Azure."
services: 
documentationcenter: 
author: BryanLa
manager: tonguyen
editor: 
tags: billing
ms.assetid: 3e817b43-0696-400c-a02e-47b7817f9b77
ms.service: billing
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: billing
ms.date: 04/18/2017
ms.author: mobandyo;bryanla
ms.openlocfilehash: 394ed29ed468fe80f47a6517c9521a81a5ddb7fd
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="use-azure-billing-apis-to-programmatically-get-insight-into-your-azure-usage"></a><span data-ttu-id="60049-103">Usar APIs de Cobrança do Azure para obter informações programaticamente sobre o uso do Azure</span><span class="sxs-lookup"><span data-stu-id="60049-103">Use Azure Billing APIs to programmatically get insight into your Azure usage</span></span>
<span data-ttu-id="60049-104">Use APIs de cobrança do Azure para efetuar pull de dados de uso e de recurso em suas ferramentas de análise de dados preferidas.</span><span class="sxs-lookup"><span data-stu-id="60049-104">Use Azure Billing APIs to pull usage and resource data into your preferred data analysis tools.</span></span> <span data-ttu-id="60049-105">As APIs RateCard e de Uso de Recursos do Azure e podem ajudá-lo a prever e gerenciar seus custos com precisão.</span><span class="sxs-lookup"><span data-stu-id="60049-105">The Azure Resource Usage and RateCard APIs can help you accurately predict and manage your costs.</span></span> <span data-ttu-id="60049-106">As APIs são implementadas como um Provedor de Recursos e como parte da família de APIs expostas pelo Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="60049-106">The APIs are implemented as a Resource Provider and part of the family of APIs exposed by the Azure Resource Manager.</span></span>  

## <a name="azure-invoice-download-api-preview"></a><span data-ttu-id="60049-107">API de Download de fatura do Azure (Visualização)</span><span class="sxs-lookup"><span data-stu-id="60049-107">Azure Invoice Download API (Preview)</span></span>
<span data-ttu-id="60049-108">Após a [conclusão da aceitação](billing-manage-access.md#opt-in), baixe as faturas usando a versão de visualização da [API de Fatura](/rest/api/billing).</span><span class="sxs-lookup"><span data-stu-id="60049-108">Once the [opt-in has been complete](billing-manage-access.md#opt-in), download invoices using the preview version of [Invoice API](/rest/api/billing).</span></span> <span data-ttu-id="60049-109">Os recursos incluem:</span><span class="sxs-lookup"><span data-stu-id="60049-109">The features include:</span></span>

* <span data-ttu-id="60049-110">**Controle de Acesso baseado em Funções do Azure** – configure suas políticas de acesso no [Portal do Azure](https://portal.azure.com) ou através dos [cmdlets do Azure PowerShell](/powershell/azure/overview) para especificarem quais usuários ou aplicativos podem ter acesso aos dados de uso da assinatura.</span><span class="sxs-lookup"><span data-stu-id="60049-110">**Azure Role-based Access Control** - Configure access policies on the [Azure portal](https://portal.azure.com) or through [Azure PowerShell cmdlets](/powershell/azure/overview) to specify which users or applications can get access to the subscription’s usage data.</span></span> <span data-ttu-id="60049-111">Os chamadores devem usar tokens padrão do Azure Active Directory para autenticação.</span><span class="sxs-lookup"><span data-stu-id="60049-111">Callers must use standard Azure Active Directory tokens for authentication.</span></span> <span data-ttu-id="60049-112">Adicione o chamador à função Leitor de Fatura, Leitor, Proprietário ou Colaborador para obter acesso aos dados de uso para uma assinatura específica do Azure.</span><span class="sxs-lookup"><span data-stu-id="60049-112">Add the caller to either the Billing Reader, Reader, Owner, or Contributor role to get access to the usage data for a specific Azure subscription.</span></span>
* <span data-ttu-id="60049-113">**Filtragem de Data** - Use o parâmetro `$filter` para obter todas as faturas em ordem cronológica inversa por data de término do período da fatura.</span><span class="sxs-lookup"><span data-stu-id="60049-113">**Date Filtering** - Use the `$filter` parameter to get all the invoices in reverse chronological order by the invoice period end date.</span></span> 

> [!NOTE]
> <span data-ttu-id="60049-114">Esse recurso está na primeira versão de visualização e pode estar sujeito a alterações incompatíveis com versões anteriores.</span><span class="sxs-lookup"><span data-stu-id="60049-114">This feature is in first version of preview and may be subject to backward-incompatible changes.</span></span> <span data-ttu-id="60049-115">Atualmente, ele não está disponível para determinadas ofertas de assinatura (não há suporte para EA, CSP, AIO) e para o Azure na Alemanha.</span><span class="sxs-lookup"><span data-stu-id="60049-115">Currently, it's not available for certain subscription offers (EA, CSP, AIO not supported) and Azure Germany.</span></span>

## <a name="azure-resource-usage-api-preview"></a><span data-ttu-id="60049-116">API de uso de recursos do Azure (visualização)</span><span class="sxs-lookup"><span data-stu-id="60049-116">Azure Resource Usage API (Preview)</span></span>
<span data-ttu-id="60049-117">Use as [API de Uso de Recursos](https://msdn.microsoft.com/library/azure/mt219003) do Azure para obter seus dados de consumo estimado do Azure.</span><span class="sxs-lookup"><span data-stu-id="60049-117">Use the Azure [Resource Usage API](https://msdn.microsoft.com/library/azure/mt219003) to get your estimated Azure consumption data.</span></span> <span data-ttu-id="60049-118">A API inclui:</span><span class="sxs-lookup"><span data-stu-id="60049-118">The API includes:</span></span>

* <span data-ttu-id="60049-119">**Controle de Acesso baseado em Funções do Azure** – configure suas políticas de acesso no [Portal do Azure](https://portal.azure.com) ou através dos [cmdlets do Azure PowerShell](/powershell/azure/overview) para especificarem quais usuários ou aplicativos podem ter acesso aos dados de uso da assinatura.</span><span class="sxs-lookup"><span data-stu-id="60049-119">**Azure Role-based Access Control** - Configure access policies on the [Azure portal](https://portal.azure.com) or through [Azure PowerShell cmdlets](/powershell/azure/overview) to specify which users or applications can get access to the subscription’s usage data.</span></span> <span data-ttu-id="60049-120">Os chamadores devem usar tokens padrão do Azure Active Directory para autenticação.</span><span class="sxs-lookup"><span data-stu-id="60049-120">Callers must use standard Azure Active Directory tokens for authentication.</span></span> <span data-ttu-id="60049-121">Adicione o chamador à função Leitor de Fatura, Leitor, Proprietário ou Colaborador para obter acesso aos dados de uso para uma assinatura específica do Azure.</span><span class="sxs-lookup"><span data-stu-id="60049-121">Add the caller to either the Billing Reader, Reader, Owner, or Contributor role to get access to the usage data for a specific Azure subscription.</span></span>
* <span data-ttu-id="60049-122">**Agregações diárias ou por hora** - os chamadores podem especificar se eles desejam seus dados de uso do Azure em buckets por hora ou buckets diários.</span><span class="sxs-lookup"><span data-stu-id="60049-122">**Hourly or Daily Aggregations** - Callers can specify whether they want their Azure usage data in hourly buckets or daily buckets.</span></span> <span data-ttu-id="60049-123">O padrão é diário.</span><span class="sxs-lookup"><span data-stu-id="60049-123">The default is daily.</span></span>
* <span data-ttu-id="60049-124">**Metadados da instância (inclui as marcas do recurso)** – obtenha detalhes no nível da instância, como o URI de recurso totalmente qualificado (/subscriptions/{subscription-id}/..), as informações do grupo de recursos e marcas do recurso.</span><span class="sxs-lookup"><span data-stu-id="60049-124">**Instance metadata (includes resource tags)** – Get instance-level detail like the fully qualified resource uri (/subscriptions/{subscription-id}/..), the resource group information, and resource tags.</span></span> <span data-ttu-id="60049-125">Esses metadados ajudam você a alocar de forma determinista e programática o uso por marcas, para casos de uso como cobrança cruzada.</span><span class="sxs-lookup"><span data-stu-id="60049-125">This metadata helps you deterministically and programmatically allocate usage by the tags, for use-cases like cross-charging.</span></span>
* <span data-ttu-id="60049-126">**Metadados de recurso** – detalhes de recurso como nome do medidor, categoria do medidor, subcategoria do medidor, unidade e região proporcionam ao chamador um melhor entendimento do que foi consumido.</span><span class="sxs-lookup"><span data-stu-id="60049-126">**Resource metadata** - Resource details such as the meter name, meter category, meter sub category, unit, and region give the caller a better understanding of what was consumed.</span></span> <span data-ttu-id="60049-127">Também estamos trabalhando para alinhar a terminologia de metadados de recursos entre o portal do Azure, o CSV de uso do Azure, o CSV de cobrança EA e outras experiências públicas, para permitir que você correlacione dados entre as experiências.</span><span class="sxs-lookup"><span data-stu-id="60049-127">We're also working to align resource metadata terminology across the Azure portal, Azure usage CSV, EA billing CSV, and other public-facing experiences, to let you correlate data across experiences.</span></span>
* <span data-ttu-id="60049-128">**Uso para todos os tipos de oferta** – os dados de uso estão disponíveis para todos os tipos de oferta, assim como pré-pago, MSDN, investimento e crédito monetário e EA.</span><span class="sxs-lookup"><span data-stu-id="60049-128">**Usage for all offer types** – Usage data is available for all offer types like Pay-as-you-go, MSDN, Monetary commitment, Monetary credit, and EA.</span></span>

## <a name="azure-resource-ratecard-api-preview"></a><span data-ttu-id="60049-129">API RateCard de Recursos do Azure (visualização)</span><span class="sxs-lookup"><span data-stu-id="60049-129">Azure Resource RateCard API (Preview)</span></span>
<span data-ttu-id="60049-130">Use a [API RateCard de Recursos do Azure](https://msdn.microsoft.com/library/azure/mt219005) para obter a lista de recursos do Azure disponíveis, juntamente com as informações estimadas de preço para cada um deles.</span><span class="sxs-lookup"><span data-stu-id="60049-130">Use the [Azure Resource RateCard API](https://msdn.microsoft.com/library/azure/mt219005) to get the list of available Azure resources and estimated pricing information for each.</span></span> <span data-ttu-id="60049-131">A API inclui:</span><span class="sxs-lookup"><span data-stu-id="60049-131">The API includes:</span></span>

* <span data-ttu-id="60049-132">**Controle de Acesso baseado em Funções do Azure** – configure suas políticas de acesso no [Portal do Azure](https://portal.azure.com) ou através dos [cmdlets do Azure PowerShell](/powershell/azure/overview) para especificarem quais usuários ou aplicativos podem ter acesso aos dados do RateCard.</span><span class="sxs-lookup"><span data-stu-id="60049-132">**Azure Role-based Access Control** - Configure your access policies on the [Azure portal](https://portal.azure.com) or through [Azure PowerShell cmdlets](/powershell/azure/overview) to specify which users or applications can get access to the RateCard data.</span></span> <span data-ttu-id="60049-133">Os chamadores devem usar tokens padrão do Azure Active Directory para autenticação.</span><span class="sxs-lookup"><span data-stu-id="60049-133">Callers must use standard Azure Active Directory tokens for authentication.</span></span> <span data-ttu-id="60049-134">Adicione o chamador à função Leitor, Proprietário ou Colaborador para obter acesso aos dados de uso para uma assinatura particular do Azure.</span><span class="sxs-lookup"><span data-stu-id="60049-134">Add the caller to either the Reader, Owner, or Contributor role to get access to the usage data for a particular Azure subscription.</span></span>
* <span data-ttu-id="60049-135">**Suporte para pré-pago, MSDN, ofertas de investimento e crédito monetário (EA não tem suporte)** – Esta API fornece informações de taxa no nível da oferta do Azure.</span><span class="sxs-lookup"><span data-stu-id="60049-135">**Support for Pay-as-you-go, MSDN, Monetary commitment, and Monetary credit offers (EA not supported)** - This API provides Azure offer-level rate information.</span></span>  <span data-ttu-id="60049-136">O chamador dessa API deve passar as informações de oferta para obter taxas e detalhes do recurso.</span><span class="sxs-lookup"><span data-stu-id="60049-136">The caller of this API must pass in the offer information to get resource details and rates.</span></span> <span data-ttu-id="60049-137">Já que as ofertas de EA têm taxas personalizadas por registro, não seremos capazes de fornecer as taxas de EA neste momento.</span><span class="sxs-lookup"><span data-stu-id="60049-137">We're currently unable to provide EA rates because EA offers have customized rates per enrollment.</span></span> 

## <a name="scenarios"></a><span data-ttu-id="60049-138">Cenários</span><span class="sxs-lookup"><span data-stu-id="60049-138">Scenarios</span></span>
<span data-ttu-id="60049-139">Aqui estão alguns dos cenários possíveis com a combinação das APIs de Uso e RateCard:</span><span class="sxs-lookup"><span data-stu-id="60049-139">Here are some of the scenarios that are made possible with the combination of the Usage and the RateCard APIs:</span></span>

* <span data-ttu-id="60049-140">**Gasto do Azure durante o mês** – use a combinação das APIs RateCard e de uso para obter melhores informações sobre o seu gasto com nuvem durante o mês.</span><span class="sxs-lookup"><span data-stu-id="60049-140">**Azure spend during the month** - Use the combination of the Usage and RateCard APIs to get better insights into your cloud spend during the month.</span></span> <span data-ttu-id="60049-141">Você pode analisar os buckets horários e diários de uso e as estimativas de custo.</span><span class="sxs-lookup"><span data-stu-id="60049-141">You can analyze the hourly and daily buckets of usage and charge estimates.</span></span>
* <span data-ttu-id="60049-142">**Configurar alertas** – use as APIs RateCard e de uso para obter o consumo de nuvem e encargos estimados e configurar alertas com base em recursos ou em valores financeiros.</span><span class="sxs-lookup"><span data-stu-id="60049-142">**Set up alerts** – Use the Usage and the RateCard APIs to get estimated cloud consumption and charges, and set up resource-based or monetary-based alerts.</span></span>
* <span data-ttu-id="60049-143">**Previsão de fatura** – obtenha seu consumo estimado e gasto de nuvem e aplicar algoritmos de aprendizado de máquina para prever qual seria sua fatura no final do ciclo de cobrança.</span><span class="sxs-lookup"><span data-stu-id="60049-143">**Predict bill** – Get your estimated consumption and cloud spend, and apply machine learning algorithms to predict what the bill would be at the end of the billing cycle.</span></span>
* <span data-ttu-id="60049-144">**Análise de custo de pré-consumo** – usar a API RateCard para prever quanto sua fatura seria para seu uso esperado ao mover suas cargas de trabalho para o Azure.</span><span class="sxs-lookup"><span data-stu-id="60049-144">**Pre-consumption cost analysis** – Use the RateCard API to predict how much your bill would be for your expected usage when you move your workloads to Azure.</span></span> <span data-ttu-id="60049-145">Se você tem cargas de trabalho existentes em outras nuvens ou nuvens privadas, você também pode mapear seu uso com as taxas do Azure para obter uma melhor estimativa do seu gasto com o Azure.</span><span class="sxs-lookup"><span data-stu-id="60049-145">If you have existing workloads in other clouds or private clouds, you can also map your usage with the Azure rates to get a better estimate of Azure spend.</span></span> <span data-ttu-id="60049-146">Essa estimativa fornece a capacidade de dinamizar a oferta e comparar e contrastar os tipos diferentes de oferta além de pré-pago, tais como o compromisso monetário e o crédito monetário.</span><span class="sxs-lookup"><span data-stu-id="60049-146">This estimate gives you the ability to pivot on offer, and compare and contrast between the different offer types beyond Pay-As-You-Go, like Monetary commitment and Monetary credit.</span></span> <span data-ttu-id="60049-147">A API também oferece a capacidade de ver as diferenças de custo por região e permite que você faça uma análise hipotética do custo para lhe ajudar a tomar decisões de implantação.</span><span class="sxs-lookup"><span data-stu-id="60049-147">The API also gives you the ability to see cost differences by region and allows you to do a what-if cost analysis to help you make deployment decisions.</span></span>
* <span data-ttu-id="60049-148">**Hipóteses** -</span><span class="sxs-lookup"><span data-stu-id="60049-148">**What-if analysis** -</span></span>
  
  * <span data-ttu-id="60049-149">Você pode determinar se é mais econômico executar suas cargas de trabalho em outra região ou em outra configuração do recurso do Azure.</span><span class="sxs-lookup"><span data-stu-id="60049-149">You can determine whether it is more cost-effective to run workloads in another region, or on another configuration of the Azure resource.</span></span> <span data-ttu-id="60049-150">Os custos de recursos do Azure podem mudar com base na região do Azure que você está usando.</span><span class="sxs-lookup"><span data-stu-id="60049-150">Azure resource costs may differ based on the Azure region you're using.</span></span>
  * <span data-ttu-id="60049-151">Você também pode determinar se outro tipo de oferta do Azure oferece uma melhor taxa em um recurso do Azure.</span><span class="sxs-lookup"><span data-stu-id="60049-151">You can also determine if another Azure offer type gives a better rate on an Azure resource.</span></span>
  
## <a name="partner-solutions"></a><span data-ttu-id="60049-152">Soluções de parceiros</span><span class="sxs-lookup"><span data-stu-id="60049-152">Partner solutions</span></span>
<span data-ttu-id="60049-153">[As APIs de Uso e RateCard do Microsoft Azure APIs permitem Cloudyn para fornecer ITFM para clientes](billing-usage-rate-card-partner-solution-cloudyn.md) descrevem a experiência de integração oferecida pelo parceiro de API de cobrança do Azure [Cloudyn](https://www.cloudyn.com/microsoft-azure/).</span><span class="sxs-lookup"><span data-stu-id="60049-153">[Microsoft Azure Usage and RateCard APIs Enable Cloudyn to Provide ITFM for Customers](billing-usage-rate-card-partner-solution-cloudyn.md) describes the integration experience offered by Azure Billing API partner [Cloudyn](https://www.cloudyn.com/microsoft-azure/).</span></span> <span data-ttu-id="60049-154">Este artigo fala sobre suas experiências e inclui um vídeo que mostra como você pode usar Cloudyn e as APIs de Cobrança do Azure para obter informações sobre dados de consumo do Azure.</span><span class="sxs-lookup"><span data-stu-id="60049-154">This article talks about their experiences and includes a video that shows how you can use Cloudyn and the Azure Billing APIs to get insights from Azure consumption data.</span></span>

<span data-ttu-id="60049-155">[Integração da API de Cobrança do Microsoft Azure e Cloud Cruiser](billing-usage-rate-card-partner-solution-cloudcruiser.md) descreve como o [Express do Cloud Cruiser para Azure Pack](http://www.cloudcruiser.com/partners/microsoft/) funciona diretamente do portal do WAP (Microsoft Azure Pack).</span><span class="sxs-lookup"><span data-stu-id="60049-155">[Cloud Cruiser and Microsoft Azure Billing API Integration](billing-usage-rate-card-partner-solution-cloudcruiser.md) describes how [Cloud Cruiser's Express for Azure Pack](http://www.cloudcruiser.com/partners/microsoft/) works directly from the Windows Azure Pack (WAP) portal.</span></span> <span data-ttu-id="60049-156">Você pode gerenciar sem inconvenientes os aspectos operacionais e financeiros da nuvem pública particular ou hospedada do Microsoft Azure de uma única interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="60049-156">You can seamlessly manage both the operational and financial aspects of the Microsoft Azure private or hosted public cloud from a single user interface.</span></span>   

## <a name="next-steps"></a><span data-ttu-id="60049-157">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="60049-157">Next steps</span></span>
* <span data-ttu-id="60049-158">Confira as amostras de código no GitHub:</span><span class="sxs-lookup"><span data-stu-id="60049-158">Check out the code samples on GitHub:</span></span>
  * [<span data-ttu-id="60049-159">Exemplo de código da API de Fatura</span><span class="sxs-lookup"><span data-stu-id="60049-159">Invoice API code sample</span></span>](https://go.microsoft.com/fwlink/?linkid=845124)

  * [<span data-ttu-id="60049-160">Exemplo de código da API de Uso</span><span class="sxs-lookup"><span data-stu-id="60049-160">Usage API code sample</span></span>](https://github.com/Azure-Samples/billing-dotnet-usage-api)

  * [<span data-ttu-id="60049-161">Exemplo de código da API RateCard</span><span class="sxs-lookup"><span data-stu-id="60049-161">RateCard API code sample</span></span>](https://github.com/Azure-Samples/billing-dotnet-ratecard-api)

* <span data-ttu-id="60049-162">Para saber mais sobre o Azure Resource Manager, confira [Visão geral do Azure Resource Manager](../azure-resource-manager/resource-group-overview.md).</span><span class="sxs-lookup"><span data-stu-id="60049-162">To learn more about the Azure Resource Manager, see [Azure Resource Manager Overview](../azure-resource-manager/resource-group-overview.md).</span></span> 

* <span data-ttu-id="60049-163">Para obter mais informações sobre o pacote de ferramentas necessárias para ajudá-lo a compreender os gastos de nuvem, consulte o artigo da Gartner [Guia de mercado para as ferramentas de gestão financeira de TI (ITFM)](http://www.gartner.com/technology/reprints.do?id=1-212F7AL&ct=140909&st=sb).</span><span class="sxs-lookup"><span data-stu-id="60049-163">For more information on the suite of tools necessary to help you get an understanding of cloud spend, see the Gartner article [Market Guide for IT Financial Management (ITFM) Tools](http://www.gartner.com/technology/reprints.do?id=1-212F7AL&ct=140909&st=sb).</span></span>

