---
title: "Tipos de endereços IP no Azure (Clássico) | Microsoft Docs"
description: "Saiba mais sobre endereços IP (clássicos) públicos e privados no Azure."
services: virtual-network
documentationcenter: na
author: jimdial
manager: carmonm
editor: tysonn
tags: azure-service-management
ms.assetid: 2f8664ab-2daf-43fa-bbeb-be9773efc978
ms.service: virtual-network
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 02/11/2016
ms.author: jdial
ms.openlocfilehash: aa99d3ebd181a76d582670c5219f29858c462d30
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/29/2017
---
# <a name="ip-address-types-and-allocation-methods-classic-in-azure"></a><span data-ttu-id="6b524-103">Tipos de endereço IP e métodos de alocação (clássico) no Azure</span><span class="sxs-lookup"><span data-stu-id="6b524-103">IP address types and allocation methods (classic) in Azure</span></span>
<span data-ttu-id="6b524-104">Você pode atribuir endereços IP aos recursos do Azure para se comunicar com outros recursos do Azure, sua rede local e a Internet.</span><span class="sxs-lookup"><span data-stu-id="6b524-104">You can assign IP addresses to Azure resources to communicate with other Azure resources, your on-premises network, and the Internet.</span></span> <span data-ttu-id="6b524-105">Há dois tipos de endereços IP que você pode usar no Azure: público e privado.</span><span class="sxs-lookup"><span data-stu-id="6b524-105">There are two types of IP addresses you can use in Azure: public and private.</span></span>

<span data-ttu-id="6b524-106">Endereços IP públicos são usados para comunicação com a Internet, incluindo serviços públicos do Azure.</span><span class="sxs-lookup"><span data-stu-id="6b524-106">Public IP addresses are used for communication with the Internet, including Azure public-facing services.</span></span>

<span data-ttu-id="6b524-107">Endereços IP privados são usados para comunicação em uma VNet (rede virtual) do Azure, um serviço de nuvem e na sua rede local quando você usa um gateway de VPN ou circuito de ExpressRoute para estender sua rede para o Azure.</span><span class="sxs-lookup"><span data-stu-id="6b524-107">Private IP addresses are used for communication within an Azure virtual network (VNet), a cloud service, and your on-premises network when you use a VPN gateway or ExpressRoute circuit to extend your network to Azure.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="6b524-108">O Azure tem dois modelos de implantação diferentes para criar e trabalhar com recursos: [Gerenciador de Recursos e clássico](../resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="6b524-108">Azure has two different deployment models for creating and working with resources:  [Resource Manager and classic](../resource-manager-deployment-model.md).</span></span>  <span data-ttu-id="6b524-109">Este artigo aborda o uso do modelo de implantação clássica.</span><span class="sxs-lookup"><span data-stu-id="6b524-109">This article covers using the classic deployment model.</span></span> <span data-ttu-id="6b524-110">A Microsoft recomenda que a maioria das implantações novas use o Gerenciador de Recursos.</span><span class="sxs-lookup"><span data-stu-id="6b524-110">Microsoft recommends that most new deployments use Resource Manager.</span></span> <span data-ttu-id="6b524-111">Saiba mais sobre endereços IP no Gerenciador de Recursos lendo o artigo [endereços IP](virtual-network-ip-addresses-overview-arm.md).</span><span class="sxs-lookup"><span data-stu-id="6b524-111">Learn about IP addresses in Resource Manager by reading the [IP addresses](virtual-network-ip-addresses-overview-arm.md) article.</span></span>

## <a name="public-ip-addresses"></a><span data-ttu-id="6b524-112">Endereços IP públicos</span><span class="sxs-lookup"><span data-stu-id="6b524-112">Public IP addresses</span></span>
<span data-ttu-id="6b524-113">Endereços IP públicos permitem que os recursos do Azure comuniquem-se com os serviços públicos do Azure, como [Cache Redis do Azure](https://azure.microsoft.com/services/cache/), [Hubs de eventos do Azure](https://azure.microsoft.com/services/event-hubs/), [bancos de dados SQL](../sql-database/sql-database-technical-overview.md) e [armazenamento do Azure](../storage/common/storage-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="6b524-113">Public IP addresses allow Azure resources to communicate with Internet and Azure public-facing services such as [Azure Redis Cache](https://azure.microsoft.com/services/cache/), [Azure Event Hubs](https://azure.microsoft.com/services/event-hubs/), [SQL databases](../sql-database/sql-database-technical-overview.md), and [Azure storage](../storage/common/storage-introduction.md).</span></span>

<span data-ttu-id="6b524-114">Um endereço IP público é associado aos seguintes tipos de recursos:</span><span class="sxs-lookup"><span data-stu-id="6b524-114">A public IP address is associated with the following resource types:</span></span>

* <span data-ttu-id="6b524-115">Serviços de Nuvem</span><span class="sxs-lookup"><span data-stu-id="6b524-115">Cloud services</span></span>
* <span data-ttu-id="6b524-116">VMs (Máquinas Virtuais) de IaaS</span><span class="sxs-lookup"><span data-stu-id="6b524-116">IaaS Virtual Machines (VMs)</span></span>
* <span data-ttu-id="6b524-117">Instâncias de função de PaaS</span><span class="sxs-lookup"><span data-stu-id="6b524-117">PaaS role instances</span></span>
* <span data-ttu-id="6b524-118">Gateways VPN</span><span class="sxs-lookup"><span data-stu-id="6b524-118">VPN gateways</span></span>
* <span data-ttu-id="6b524-119">Application gateways</span><span class="sxs-lookup"><span data-stu-id="6b524-119">Application gateways</span></span>

### <a name="allocation-method"></a><span data-ttu-id="6b524-120">Método de alocação</span><span class="sxs-lookup"><span data-stu-id="6b524-120">Allocation method</span></span>
<span data-ttu-id="6b524-121">Quando precisa de um endereço IP público precisa ser atribuído a um recurso do Azure, ele é *dinamicamente* alocado de um pool de endereço IP público disponível no local em que o recurso é criado.</span><span class="sxs-lookup"><span data-stu-id="6b524-121">When a public IP address needs to be assigned to an Azure resource, it is *dynamically* allocated from a pool of available public IP address within the location the resource is created.</span></span> <span data-ttu-id="6b524-122">Esse endereço IP é liberado quando o recurso é interrompido.</span><span class="sxs-lookup"><span data-stu-id="6b524-122">This IP address is released when the resource is stopped.</span></span> <span data-ttu-id="6b524-123">No caso de um serviço de nuvem, isso acontece quando todas as instâncias de função são interrompidas, o que pode ser evitado usando um endereço IP *estático* (reservado) (consulte [Serviços de Nuvem](#Cloud-services)).</span><span class="sxs-lookup"><span data-stu-id="6b524-123">In case of a cloud service, this happens when all the role instances are stopped, which can be avoided by using a *static* (reserved) IP address (see [Cloud Services](#Cloud-services)).</span></span>

> [!NOTE]
> <span data-ttu-id="6b524-124">A lista de intervalos IP do qual os endereços IP públicos são alocados a recursos do Azure é publicada em [intervalos de IP do Datacenter do Azure](https://www.microsoft.com/download/details.aspx?id=41653).</span><span class="sxs-lookup"><span data-stu-id="6b524-124">The list of IP ranges from which public IP addresses are allocated to Azure resources is published at [Azure Datacenter IP ranges](https://www.microsoft.com/download/details.aspx?id=41653).</span></span>
> 
> 

### <a name="dns-hostname-resolution"></a><span data-ttu-id="6b524-125">Resolução de nome de host DNS</span><span class="sxs-lookup"><span data-stu-id="6b524-125">DNS hostname resolution</span></span>
<span data-ttu-id="6b524-126">Quando você cria um serviço de nuvem ou em uma VM de IaaS, precisa fornecer um nome DNS do serviço de nuvem que seja exclusivo entre todos os recursos no Azure.</span><span class="sxs-lookup"><span data-stu-id="6b524-126">When you create a cloud service or an IaaS VM, you need to provide a cloud service DNS name which is unique across all resources in Azure.</span></span> <span data-ttu-id="6b524-127">Isso cria um mapeamento nos servidores DNS gerenciados do Azure para *dnsname*. cloudapp.net para o endereço IP público do recurso.</span><span class="sxs-lookup"><span data-stu-id="6b524-127">This creates a mapping in the Azure-managed DNS servers for *dnsname*.cloudapp.net to the public IP address of the resource.</span></span> <span data-ttu-id="6b524-128">Por exemplo, ao criar um serviço de nuvem com um nome DNS do serviço de nuvem de **contoso**, o FQDN (nome de domínio totalmente qualificado) **contoso.cloudapp.net** será resolvido para um endereço VIP (IP público) do serviço de nuvem.</span><span class="sxs-lookup"><span data-stu-id="6b524-128">For instance, when you create a cloud service with a cloud service DNS name of **contoso**, the fully-qualified domain name (FQDN) **contoso.cloudapp.net** will resolve to a public IP address (VIP) of the cloud service.</span></span> <span data-ttu-id="6b524-129">Você pode usar o FQDN para criar um registro CNAME do domínio personalizado apontando para o endereço IP público no Azure.</span><span class="sxs-lookup"><span data-stu-id="6b524-129">You can use this FQDN to create a custom domain CNAME record pointing to the public IP address in Azure.</span></span>

### <a name="cloud-services"></a><span data-ttu-id="6b524-130">Serviços de Nuvem</span><span class="sxs-lookup"><span data-stu-id="6b524-130">Cloud services</span></span>
<span data-ttu-id="6b524-131">Um serviço de nuvem sempre tem um endereço IP público, conhecido como VIP (endereço IP virtual).</span><span class="sxs-lookup"><span data-stu-id="6b524-131">A cloud service always has a public IP address referred to as a virtual IP address (VIP).</span></span> <span data-ttu-id="6b524-132">Você pode criar pontos de extremidade em um serviço de nuvem para associar portas diferentes no VIP para portas internas em VMs e instâncias de função no serviço de nuvem.</span><span class="sxs-lookup"><span data-stu-id="6b524-132">You can create endpoints in a cloud service to associate different ports in the VIP to internal ports on VMs and role instances within the cloud service.</span></span> 

<span data-ttu-id="6b524-133">Um serviço de nuvem pode conter várias VMs de IaaS ou instâncias de função de PaaS, todos expostos por meio do mesmo VIP de serviço de nuvem.</span><span class="sxs-lookup"><span data-stu-id="6b524-133">A cloud service can contain multiple IaaS VMs, or PaaS role instances, all exposed through the same cloud service VIP.</span></span> <span data-ttu-id="6b524-134">Você também pode atribuir [vários VIPs a um serviço de nuvem](../load-balancer/load-balancer-multivip.md), o que permite cenários multiVIP como um ambiente multilocatário com sites baseados em SSL.</span><span class="sxs-lookup"><span data-stu-id="6b524-134">You can also assign [multiple VIPs to a cloud service](../load-balancer/load-balancer-multivip.md), which enables multi-VIP scenarios like multi-tenant environment with SSL-based websites.</span></span>

<span data-ttu-id="6b524-135">Você pode garantir que o endereço IP público de um serviço de nuvem permaneça igual, mesmo quando todas as instâncias de função são interrompidas, usando um endereço IP público *estático* , conhecido como [IP Reservado](virtual-networks-reserved-public-ip.md).</span><span class="sxs-lookup"><span data-stu-id="6b524-135">You can ensure the public IP address of a cloud service remains the same, even when all the role instances are stopped, by using a *static* public IP address, referred to as [Reserved IP](virtual-networks-reserved-public-ip.md).</span></span> <span data-ttu-id="6b524-136">Você pode criar um recurso IP (reservado) estático em um local específico e atribuí-lo a qualquer serviço de nuvem naquele local.</span><span class="sxs-lookup"><span data-stu-id="6b524-136">You can create a static (reserved) IP resource in a specific location and assign it to any cloud service in that location.</span></span> <span data-ttu-id="6b524-137">Não é possível especificar o endereço IP real para o IP reservado, ele é alocado do pool de endereços IP disponíveis no local em que é criado.</span><span class="sxs-lookup"><span data-stu-id="6b524-137">You cannot specify the actual IP address for the reserved IP, it is allocated from pool of available IP addresses in the location it is created.</span></span> <span data-ttu-id="6b524-138">Esse endereço IP não é liberado até você explicitamente excluí-lo.</span><span class="sxs-lookup"><span data-stu-id="6b524-138">This IP address is not released until you explicitly delete it.</span></span>

<span data-ttu-id="6b524-139">Endereços IP públicos (reservados) estáticos são usados nos cenários em que um serviço de nuvem:</span><span class="sxs-lookup"><span data-stu-id="6b524-139">Static (reserved) public IP addresses are commonly used in the scenarios where a cloud service:</span></span>

* <span data-ttu-id="6b524-140">requer regras de firewall para ser configurado por usuários finais.</span><span class="sxs-lookup"><span data-stu-id="6b524-140">requires firewall rules to be setup by end-users.</span></span>
* <span data-ttu-id="6b524-141">depende da resolução de nome DNS externa, e um IP dinâmico exigiria atualizar registros A.</span><span class="sxs-lookup"><span data-stu-id="6b524-141">depends on external DNS name resolution, and a dynamic IP would require updating A records.</span></span>
* <span data-ttu-id="6b524-142">consome serviços Web externos que usam o modelo de segurança com base em IP.</span><span class="sxs-lookup"><span data-stu-id="6b524-142">consumes external web services which use IP based security model.</span></span>
* <span data-ttu-id="6b524-143">usa certificados SSL vinculados a um endereço IP.</span><span class="sxs-lookup"><span data-stu-id="6b524-143">uses SSL certificates linked to an IP address.</span></span>

> [!NOTE]
> <span data-ttu-id="6b524-144">Quando você cria uma VM clássica, um contêiner *serviço de nuvem* é criado pelo Azure, que tem um endereço IP virtual (VIP).</span><span class="sxs-lookup"><span data-stu-id="6b524-144">When you create a classic VM, a container *cloud service* is created by Azure, which has a virtual IP address (VIP).</span></span> <span data-ttu-id="6b524-145">Quando a criação é feita por meio do portal, um padrão de *ponto de extremidade* RDP ou SSH é configurado pelo portal para conectar-se à VM por meio do VIP de serviço de nuvem.</span><span class="sxs-lookup"><span data-stu-id="6b524-145">When the creation is done through portal, a default RDP or SSH *endpoint* is configured by the portal so you can connect to the VM through the cloud service VIP.</span></span> <span data-ttu-id="6b524-146">Este VIP de serviço de nuvem pode ser reservado, o que efetivamente fornece um endereço IP reservado para se conectar à VM.</span><span class="sxs-lookup"><span data-stu-id="6b524-146">This cloud service VIP can be reserved, which effectively provides a reserved IP address to connect to the VM.</span></span> <span data-ttu-id="6b524-147">Você pode abrir portas adicionais configurando mais pontos de extremidade.</span><span class="sxs-lookup"><span data-stu-id="6b524-147">You can open additional ports by configuring more endpoints.</span></span>
> 
> 

### <a name="iaas-vms-and-paas-role-instances"></a><span data-ttu-id="6b524-148">VMs de IaaS e instâncias de função PaaS</span><span class="sxs-lookup"><span data-stu-id="6b524-148">IaaS VMs and PaaS role instances</span></span>
<span data-ttu-id="6b524-149">É possível atribuir um endereço IP público diretamente a uma [VM](../virtual-machines/virtual-machines-linux-about.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) IaaS ou a uma instância de função PaaS em um serviço de nuvem.</span><span class="sxs-lookup"><span data-stu-id="6b524-149">You can assign a public IP address directly to an IaaS [VM](../virtual-machines/virtual-machines-linux-about.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) or PaaS role instance within a cloud service.</span></span> <span data-ttu-id="6b524-150">Isso é conhecido como[ILPIP](virtual-networks-instance-level-public-ip.md)(endereço IP público em nível de instância).</span><span class="sxs-lookup"><span data-stu-id="6b524-150">This is referred to as an instance-level public IP address ([ILPIP](virtual-networks-instance-level-public-ip.md)).</span></span> <span data-ttu-id="6b524-151">Esse endereço IP público pode ser apenas dinâmico.</span><span class="sxs-lookup"><span data-stu-id="6b524-151">This public IP address can be dynamic only.</span></span>

> [!NOTE]
> <span data-ttu-id="6b524-152">Isso é diferente do VIP do serviço em nuvem, que é um contêiner para VMs de instâncias de função IaaS ou PaaS, como um serviço de nuvem pode conter várias VMs de IaaS ou instâncias de função de PaaS, expostos por meio do mesmo VIP de serviço de nuvem.</span><span class="sxs-lookup"><span data-stu-id="6b524-152">This is different from the VIP of the cloud service, which is a container for IaaS VMs or PaaS role instances, since a cloud service can contain multiple IaaS VMs, or PaaS role instances, all exposed through the same cloud service VIP.</span></span>
> 
> 

### <a name="vpn-gateways"></a><span data-ttu-id="6b524-153">Gateways VPN</span><span class="sxs-lookup"><span data-stu-id="6b524-153">VPN gateways</span></span>
<span data-ttu-id="6b524-154">Um [gateway de VPN](../vpn-gateway/vpn-gateway-about-vpngateways.md) pode ser usado para conectar uma VNet do Azure a outra VNet do Azure ou a redes locais.</span><span class="sxs-lookup"><span data-stu-id="6b524-154">A [VPN gateway](../vpn-gateway/vpn-gateway-about-vpngateways.md) can be used to connect an Azure VNet to other Azure VNets or on-premises networks.</span></span> <span data-ttu-id="6b524-155">Um gateway de VPN recebe um endereço IP público *dinamicamente*, que permite a comunicação com a rede remota.</span><span class="sxs-lookup"><span data-stu-id="6b524-155">A VPN gateway is assigned a public IP address *dynamically*, which enables communication with the remote network.</span></span>

### <a name="application-gateways"></a><span data-ttu-id="6b524-156">Application gateways</span><span class="sxs-lookup"><span data-stu-id="6b524-156">Application gateways</span></span>
<span data-ttu-id="6b524-157">O [Application Gateway](../application-gateway/application-gateway-introduction.md) do Azure pode ser usado para balanceamento de carga Layer7 para rotear tráfego de rede com base em HTTP.</span><span class="sxs-lookup"><span data-stu-id="6b524-157">An Azure [Application gateway](../application-gateway/application-gateway-introduction.md) can be used for Layer7 load-balancing to route network traffic based on HTTP.</span></span> <span data-ttu-id="6b524-158">O Application Gateway recebe um endereço IP público *dinamicamente*, que serve como o VIP com balanceamento de carga.</span><span class="sxs-lookup"><span data-stu-id="6b524-158">Application gateway is assigned a public IP address *dynamically*, which serves as the load-balanced VIP.</span></span>

### <a name="at-a-glance"></a><span data-ttu-id="6b524-159">Visão rápida</span><span class="sxs-lookup"><span data-stu-id="6b524-159">At a glance</span></span>
<span data-ttu-id="6b524-160">A tabela a seguir mostra cada tipo de recurso com os métodos de alocação possíveis (dinâmico/estático) e capacidade de atribuir vários endereços IP públicos.</span><span class="sxs-lookup"><span data-stu-id="6b524-160">The table below shows each resource type with the possible allocation methods (dynamic/static), and ability to assign multiple public IP addresses.</span></span>

| <span data-ttu-id="6b524-161">Recurso</span><span class="sxs-lookup"><span data-stu-id="6b524-161">Resource</span></span> | <span data-ttu-id="6b524-162">Dinâmico</span><span class="sxs-lookup"><span data-stu-id="6b524-162">Dynamic</span></span> | <span data-ttu-id="6b524-163">estático</span><span class="sxs-lookup"><span data-stu-id="6b524-163">Static</span></span> | <span data-ttu-id="6b524-164">Vários endereços IP</span><span class="sxs-lookup"><span data-stu-id="6b524-164">Multiple IP addresses</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="6b524-165">serviço de nuvem</span><span class="sxs-lookup"><span data-stu-id="6b524-165">Cloud service</span></span> |<span data-ttu-id="6b524-166">Sim</span><span class="sxs-lookup"><span data-stu-id="6b524-166">Yes</span></span> |<span data-ttu-id="6b524-167">Sim</span><span class="sxs-lookup"><span data-stu-id="6b524-167">Yes</span></span> |<span data-ttu-id="6b524-168">Sim</span><span class="sxs-lookup"><span data-stu-id="6b524-168">Yes</span></span> |
| <span data-ttu-id="6b524-169">Instância de função de PaaS ou VM de IaaS</span><span class="sxs-lookup"><span data-stu-id="6b524-169">IaaS VM or PaaS role instance</span></span> |<span data-ttu-id="6b524-170">Sim</span><span class="sxs-lookup"><span data-stu-id="6b524-170">Yes</span></span> |<span data-ttu-id="6b524-171">Não</span><span class="sxs-lookup"><span data-stu-id="6b524-171">No</span></span> |<span data-ttu-id="6b524-172">Não</span><span class="sxs-lookup"><span data-stu-id="6b524-172">No</span></span> |
| <span data-ttu-id="6b524-173">gateway de VPN</span><span class="sxs-lookup"><span data-stu-id="6b524-173">VPN gateway</span></span> |<span data-ttu-id="6b524-174">Sim</span><span class="sxs-lookup"><span data-stu-id="6b524-174">Yes</span></span> |<span data-ttu-id="6b524-175">Não</span><span class="sxs-lookup"><span data-stu-id="6b524-175">No</span></span> |<span data-ttu-id="6b524-176">Não</span><span class="sxs-lookup"><span data-stu-id="6b524-176">No</span></span> |
| <span data-ttu-id="6b524-177">Application Gateway</span><span class="sxs-lookup"><span data-stu-id="6b524-177">Application gateway</span></span> |<span data-ttu-id="6b524-178">Sim</span><span class="sxs-lookup"><span data-stu-id="6b524-178">Yes</span></span> |<span data-ttu-id="6b524-179">Não</span><span class="sxs-lookup"><span data-stu-id="6b524-179">No</span></span> |<span data-ttu-id="6b524-180">Não</span><span class="sxs-lookup"><span data-stu-id="6b524-180">No</span></span> |

## <a name="private-ip-addresses"></a><span data-ttu-id="6b524-181">Endereços IP privados</span><span class="sxs-lookup"><span data-stu-id="6b524-181">Private IP addresses</span></span>
<span data-ttu-id="6b524-182">Endereços IP privados permitem que os recursos do Azure comuniquem-se com outros recursos em um serviço de nuvem ou em uma VNet ( [rede virtual](virtual-networks-overview.md)), ou na rede local (por meio de um gateway de VPN ou circuito de ExpressRoute), sem usar um endereço IP acessível pela Internet.</span><span class="sxs-lookup"><span data-stu-id="6b524-182">Private IP addresses allow Azure resources to communicate with other resources in a cloud service or a [virtual network](virtual-networks-overview.md)(VNet), or to on-premises network (through a VPN gateway or ExpressRoute circuit), without using an Internet-reachable IP address.</span></span>

<span data-ttu-id="6b524-183">No modelo de implantação clássico do Azure, um endereço IP privado pode ser atribuído aos seguintes recursos do Azure:</span><span class="sxs-lookup"><span data-stu-id="6b524-183">In Azure classic deployment model, a private IP address can be assigned to the following Azure resources:</span></span>

* <span data-ttu-id="6b524-184">VMs de IaaS e instâncias de função PaaS</span><span class="sxs-lookup"><span data-stu-id="6b524-184">IaaS VMs and PaaS role instances</span></span>
* <span data-ttu-id="6b524-185">Balanceador de carga interno</span><span class="sxs-lookup"><span data-stu-id="6b524-185">Internal load balancer</span></span>
* <span data-ttu-id="6b524-186">Application Gateway</span><span class="sxs-lookup"><span data-stu-id="6b524-186">Application gateway</span></span>

### <a name="iaas-vms-and-paas-role-instances"></a><span data-ttu-id="6b524-187">VMs de IaaS e instâncias de função PaaS</span><span class="sxs-lookup"><span data-stu-id="6b524-187">IaaS VMs and PaaS role instances</span></span>
<span data-ttu-id="6b524-188">As VMs (máquinas virtuais) criadas com o modelo de implantação clássico sempre são colocadas em um serviço de nuvem, semelhante às instâncias de função de PaaS.</span><span class="sxs-lookup"><span data-stu-id="6b524-188">Virtual machines (VMs) created with the classic deployment model are always placed in a cloud service, similar to PaaS role instances.</span></span> <span data-ttu-id="6b524-189">O comportamento de endereços IP privados, portanto, é semelhante para esses recursos.</span><span class="sxs-lookup"><span data-stu-id="6b524-189">The behavior of private IP addresses are thus similar for these resources.</span></span>

<span data-ttu-id="6b524-190">É importante observar que um serviço de nuvem pode ser implantado de duas maneiras:</span><span class="sxs-lookup"><span data-stu-id="6b524-190">It is important to note that a cloud service can be deployed in two ways:</span></span>

* <span data-ttu-id="6b524-191">Como um serviço de nuvem *autônomo* , em que ele não está dentro de uma rede virtual.</span><span class="sxs-lookup"><span data-stu-id="6b524-191">As a *standalone* cloud service, where it is not within a virtual network.</span></span>
* <span data-ttu-id="6b524-192">Como parte de uma rede virtual.</span><span class="sxs-lookup"><span data-stu-id="6b524-192">As part of a virtual network.</span></span>

#### <a name="allocation-method"></a><span data-ttu-id="6b524-193">Método de alocação</span><span class="sxs-lookup"><span data-stu-id="6b524-193">Allocation method</span></span>
<span data-ttu-id="6b524-194">No caso de um serviço de nuvem *autônomo*, os recursos recebem um endereço IP privado alocado *dinamicamente* do intervalo de endereços IP privados do datacenter do Azure.</span><span class="sxs-lookup"><span data-stu-id="6b524-194">In case of a *standalone* cloud service, resources get a private IP address allocated *dynamically* from the Azure datacenter private IP address range.</span></span> <span data-ttu-id="6b524-195">Ele pode ser usado apenas para comunicação com outras VMs no mesmo serviço de nuvem.</span><span class="sxs-lookup"><span data-stu-id="6b524-195">It can be used only for communication with other VMs within the same cloud service.</span></span> <span data-ttu-id="6b524-196">Esse endereço IP pode mudar quando o recurso for interrompido e iniciado.</span><span class="sxs-lookup"><span data-stu-id="6b524-196">This IP address can change when the resource is stopped and started.</span></span>

<span data-ttu-id="6b524-197">No caso de um serviço de nuvem implantado em uma rede virtual, os recursos recebem endereços IP privados do intervalo de endereços das sub-redes associadas (conforme especificado na configuração de rede).</span><span class="sxs-lookup"><span data-stu-id="6b524-197">In case of a cloud service deployed within a virtual network, resources get private IP address(es) allocated from the address range of the associated subnet(s) (as specified in its network configuration).</span></span> <span data-ttu-id="6b524-198">Esses endereços IP privados podem ser usados para comunicação entre todas as VMs na VNet.</span><span class="sxs-lookup"><span data-stu-id="6b524-198">This private IP address(es) can be used for communication between all VMs within the VNet.</span></span>

<span data-ttu-id="6b524-199">Além disso, no caso de serviços de nuvem em uma rede virtual, um endereço IP privado é alocado *dinamicamente* (usando DHCP) por padrão.</span><span class="sxs-lookup"><span data-stu-id="6b524-199">Additionally, in case of cloud services within a VNet, a private IP address is allocated *dynamically* (using DHCP) by default.</span></span> <span data-ttu-id="6b524-200">Ele pode mudar quando o recurso for interrompido e iniciado.</span><span class="sxs-lookup"><span data-stu-id="6b524-200">It can change when the resource is stopped and started.</span></span> <span data-ttu-id="6b524-201">Para garantir que o endereço IP permaneça o mesmo, defina o método de alocação para *estático*e forneça um endereço IP válido dentro do intervalo de endereços correspondente.</span><span class="sxs-lookup"><span data-stu-id="6b524-201">To ensure the IP address remains the same, you need to set the allocation method to *static*, and provide a valid IP address within the corresponding address range.</span></span>

<span data-ttu-id="6b524-202">Os endereços IP privados estáticos costumam ser usados para:</span><span class="sxs-lookup"><span data-stu-id="6b524-202">Static private IP addresses are commonly used for:</span></span>

* <span data-ttu-id="6b524-203">VMs que atuam como controladores de domínio ou servidores DNS.</span><span class="sxs-lookup"><span data-stu-id="6b524-203">VMs that act as domain controllers or DNS servers.</span></span>
* <span data-ttu-id="6b524-204">VMs que exigem regras de firewall usando endereços IP.</span><span class="sxs-lookup"><span data-stu-id="6b524-204">VMs that require firewall rules using IP addresses.</span></span>
* <span data-ttu-id="6b524-205">VMs executando serviços acessados por outros aplicativos por meio de um endereço IP.</span><span class="sxs-lookup"><span data-stu-id="6b524-205">VMs running services accessed by other apps through an IP address.</span></span>

#### <a name="internal-dns-hostname-resolution"></a><span data-ttu-id="6b524-206">Resolução do nome do host DNS interno</span><span class="sxs-lookup"><span data-stu-id="6b524-206">Internal DNS hostname resolution</span></span>
<span data-ttu-id="6b524-207">Todas as VMs do Azure e instâncias de função de PaaS são configuradas com [servidores DNS gerenciados pelo Azure](virtual-networks-name-resolution-for-vms-and-role-instances.md#azure-provided-name-resolution) por padrão, a menos que você explicitamente configure servidores DNS personalizados.</span><span class="sxs-lookup"><span data-stu-id="6b524-207">All Azure VMs and PaaS role instances are configured with [Azure-managed DNS servers](virtual-networks-name-resolution-for-vms-and-role-instances.md#azure-provided-name-resolution) by default, unless you explicitly configure custom DNS servers.</span></span> <span data-ttu-id="6b524-208">Esses servidores DNS fornecem resolução de nomes interna para VMs e instâncias de função que residem no mesmo serviço de nuvem ou rede virtual.</span><span class="sxs-lookup"><span data-stu-id="6b524-208">These DNS servers provide internal name resolution for VMs and role instances that reside within the same VNet or cloud service.</span></span>

<span data-ttu-id="6b524-209">Quando você cria uma VM, um mapeamento para o nome de host para seu endereço IP privado é adicionado aos servidores DNS gerenciados pelo Azure.</span><span class="sxs-lookup"><span data-stu-id="6b524-209">When you create a VM, a mapping for the hostname to its private IP address is added to the Azure-managed DNS servers.</span></span> <span data-ttu-id="6b524-210">No caso de uma VM com várias NICs, o nome do host é mapeado para o endereço IP privado da NIC principal.</span><span class="sxs-lookup"><span data-stu-id="6b524-210">In case of a multi-NIC VM, the hostname is mapped to the private IP address of the primary NIC.</span></span> <span data-ttu-id="6b524-211">No entanto, essa informação de mapeamento é restrita a recursos dentro do mesmo serviço de nuvem ou rede virtual.</span><span class="sxs-lookup"><span data-stu-id="6b524-211">However, this mapping information is restricted to resources within the same cloud service or VNet.</span></span>

<span data-ttu-id="6b524-212">No caso de um serviço de nuvem *autônomo* , você será capaz de resolver nomes de host de todas as instâncias de VMs/função dentro do mesmo serviço de nuvem apenas.</span><span class="sxs-lookup"><span data-stu-id="6b524-212">In case of a *standalone* cloud service, you will be able to resolve hostnames of all VMs/role instances within the same cloud service only.</span></span> <span data-ttu-id="6b524-213">No caso de um serviço de nuvem em uma rede virtual, você será capaz de resolver nomes de host de todas as instâncias de função/VMs na rede virtual.</span><span class="sxs-lookup"><span data-stu-id="6b524-213">In case of a cloud service within a VNet, you will be able to resolve hostnames of all the VMs/role instances within the VNet.</span></span>

### <a name="internal-load-balancers-ilb--application-gateways"></a><span data-ttu-id="6b524-214">Balanceadores de carga internos (ILB) e gateways de aplicativo</span><span class="sxs-lookup"><span data-stu-id="6b524-214">Internal load balancers (ILB) & Application gateways</span></span>
<span data-ttu-id="6b524-215">Você pode atribuir um endereço IP privado para a configuração de **front end** de um [balanceador de carga interno do Azure](../load-balancer/load-balancer-internal-overview.md) (ILB) ou um [Gateway de Aplicativo do Azure](../application-gateway/application-gateway-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="6b524-215">You can assign a private IP address to the **front end** configuration of an [Azure Internal Load Balancer](../load-balancer/load-balancer-internal-overview.md) (ILB) or an [Azure Application Gateway](../application-gateway/application-gateway-introduction.md).</span></span> <span data-ttu-id="6b524-216">Esse endereço IP privado serve como ponto de extremidade interno, acessível somente aos recursos dentro da sua rede virtual (VNet) e de redes remotas conectadas à VNet.</span><span class="sxs-lookup"><span data-stu-id="6b524-216">This private IP address serves as an internal endpoint, accessible only to the resources within its virtual network (VNet) and the remote networks connected to the VNet.</span></span> <span data-ttu-id="6b524-217">Você pode atribuir a um endereço IP privado dinâmico ou estático à configuração de front-end.</span><span class="sxs-lookup"><span data-stu-id="6b524-217">You can assign either a dynamic or static private IP address to the front end configuration.</span></span> <span data-ttu-id="6b524-218">Você também pode atribuir vários endereços IP privados para habilitar cenários de multi-vip.</span><span class="sxs-lookup"><span data-stu-id="6b524-218">You can also assign multiple private IP addresses to enable multi-vip scenarios.</span></span>

### <a name="at-a-glance"></a><span data-ttu-id="6b524-219">Visão rápida</span><span class="sxs-lookup"><span data-stu-id="6b524-219">At a glance</span></span>
<span data-ttu-id="6b524-220">A tabela a seguir mostra cada tipo de recurso com os métodos de alocação possíveis (dinâmico/estático) e capacidade de atribuir vários endereços IP privados.</span><span class="sxs-lookup"><span data-stu-id="6b524-220">The table below shows each resource type with the possible allocation methods (dynamic/static), and ability to assign multiple private IP addresses.</span></span>

| <span data-ttu-id="6b524-221">Recurso</span><span class="sxs-lookup"><span data-stu-id="6b524-221">Resource</span></span> | <span data-ttu-id="6b524-222">Dinâmico</span><span class="sxs-lookup"><span data-stu-id="6b524-222">Dynamic</span></span> | <span data-ttu-id="6b524-223">estático</span><span class="sxs-lookup"><span data-stu-id="6b524-223">Static</span></span> | <span data-ttu-id="6b524-224">Vários endereços IP</span><span class="sxs-lookup"><span data-stu-id="6b524-224">Multiple IP addresses</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="6b524-225">VM (em um serviço de nuvem *autônomo* )</span><span class="sxs-lookup"><span data-stu-id="6b524-225">VM (in a *standalone* cloud service)</span></span> |<span data-ttu-id="6b524-226">Sim</span><span class="sxs-lookup"><span data-stu-id="6b524-226">Yes</span></span> |<span data-ttu-id="6b524-227">Sim</span><span class="sxs-lookup"><span data-stu-id="6b524-227">Yes</span></span> |<span data-ttu-id="6b524-228">Sim</span><span class="sxs-lookup"><span data-stu-id="6b524-228">Yes</span></span> |
| <span data-ttu-id="6b524-229">Instância de função de PaaS (em um serviço de nuvem *autônomo* )</span><span class="sxs-lookup"><span data-stu-id="6b524-229">PaaS role instance (in a *standalone* cloud service)</span></span> |<span data-ttu-id="6b524-230">Sim</span><span class="sxs-lookup"><span data-stu-id="6b524-230">Yes</span></span> |<span data-ttu-id="6b524-231">Não</span><span class="sxs-lookup"><span data-stu-id="6b524-231">No</span></span> |<span data-ttu-id="6b524-232">Sim</span><span class="sxs-lookup"><span data-stu-id="6b524-232">Yes</span></span> |
| <span data-ttu-id="6b524-233">Instância de função VM ou PaaS (em uma rede virtual)</span><span class="sxs-lookup"><span data-stu-id="6b524-233">VM or PaaS role instance (in a VNet)</span></span> |<span data-ttu-id="6b524-234">Sim</span><span class="sxs-lookup"><span data-stu-id="6b524-234">Yes</span></span> |<span data-ttu-id="6b524-235">Sim</span><span class="sxs-lookup"><span data-stu-id="6b524-235">Yes</span></span> |<span data-ttu-id="6b524-236">Sim</span><span class="sxs-lookup"><span data-stu-id="6b524-236">Yes</span></span> |
| <span data-ttu-id="6b524-237">Front-end do balanceador de carga interno</span><span class="sxs-lookup"><span data-stu-id="6b524-237">Internal load balancer front end</span></span> |<span data-ttu-id="6b524-238">Sim</span><span class="sxs-lookup"><span data-stu-id="6b524-238">Yes</span></span> |<span data-ttu-id="6b524-239">Sim</span><span class="sxs-lookup"><span data-stu-id="6b524-239">Yes</span></span> |<span data-ttu-id="6b524-240">Sim</span><span class="sxs-lookup"><span data-stu-id="6b524-240">Yes</span></span> |
| <span data-ttu-id="6b524-241">Front-end do Application Gateway</span><span class="sxs-lookup"><span data-stu-id="6b524-241">Application gateway front end</span></span> |<span data-ttu-id="6b524-242">Sim</span><span class="sxs-lookup"><span data-stu-id="6b524-242">Yes</span></span> |<span data-ttu-id="6b524-243">Sim</span><span class="sxs-lookup"><span data-stu-id="6b524-243">Yes</span></span> |<span data-ttu-id="6b524-244">Sim</span><span class="sxs-lookup"><span data-stu-id="6b524-244">Yes</span></span> |

## <a name="limits"></a><span data-ttu-id="6b524-245">Limites</span><span class="sxs-lookup"><span data-stu-id="6b524-245">Limits</span></span>
<span data-ttu-id="6b524-246">A tabela abaixo mostra os limites impostos ao endereçamento IP no Azure por assinatura.</span><span class="sxs-lookup"><span data-stu-id="6b524-246">The table below shows the limits imposed on IP addressing in Azure per subscription.</span></span> <span data-ttu-id="6b524-247">Você pode [entrar em contato com o suporte](https://portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade) para aumentar os limites padrão até os limites máximos com base nas necessidades de sua empresa.</span><span class="sxs-lookup"><span data-stu-id="6b524-247">You can [contact support](https://portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade) to increase the default limits up to the maximum limits based on your business needs.</span></span>

|  | <span data-ttu-id="6b524-248">Limite padrão</span><span class="sxs-lookup"><span data-stu-id="6b524-248">Default limit</span></span> | <span data-ttu-id="6b524-249">Limite máximo</span><span class="sxs-lookup"><span data-stu-id="6b524-249">Maximum limit</span></span> |
| --- | --- | --- |
| <span data-ttu-id="6b524-250">Endereços IP públicos (dinâmicos)</span><span class="sxs-lookup"><span data-stu-id="6b524-250">Public IP addresses (dynamic)</span></span> |<span data-ttu-id="6b524-251">5</span><span class="sxs-lookup"><span data-stu-id="6b524-251">5</span></span> |<span data-ttu-id="6b524-252">entrar em contato com o suporte</span><span class="sxs-lookup"><span data-stu-id="6b524-252">contact support</span></span> |
| <span data-ttu-id="6b524-253">Endereços IP públicos reservados</span><span class="sxs-lookup"><span data-stu-id="6b524-253">Reserved public IP addresses</span></span> |<span data-ttu-id="6b524-254">20</span><span class="sxs-lookup"><span data-stu-id="6b524-254">20</span></span> |<span data-ttu-id="6b524-255">entrar em contato com o suporte</span><span class="sxs-lookup"><span data-stu-id="6b524-255">contact support</span></span> |
| <span data-ttu-id="6b524-256">VIP público por implantação (serviço de nuvem)</span><span class="sxs-lookup"><span data-stu-id="6b524-256">Public VIP per deployment (cloud service)</span></span> |<span data-ttu-id="6b524-257">5</span><span class="sxs-lookup"><span data-stu-id="6b524-257">5</span></span> |<span data-ttu-id="6b524-258">entrar em contato com o suporte</span><span class="sxs-lookup"><span data-stu-id="6b524-258">contact support</span></span> |
| <span data-ttu-id="6b524-259">VIP privado (ILB) por implantação (serviço de nuvem)</span><span class="sxs-lookup"><span data-stu-id="6b524-259">Private VIP (ILB) per deployment (cloud service)</span></span> |<span data-ttu-id="6b524-260">1</span><span class="sxs-lookup"><span data-stu-id="6b524-260">1</span></span> |<span data-ttu-id="6b524-261">1</span><span class="sxs-lookup"><span data-stu-id="6b524-261">1</span></span> |

<span data-ttu-id="6b524-262">Leia o conjunto completo de [limites de rede](../azure-subscription-service-limits.md#networking-limits) do Azure.</span><span class="sxs-lookup"><span data-stu-id="6b524-262">Make sure you read the full set of [limits for Networking](../azure-subscription-service-limits.md#networking-limits) in Azure.</span></span>

## <a name="pricing"></a><span data-ttu-id="6b524-263">Preços</span><span class="sxs-lookup"><span data-stu-id="6b524-263">Pricing</span></span>
<span data-ttu-id="6b524-264">Na maioria dos casos, endereços IP públicos são gratuitos.</span><span class="sxs-lookup"><span data-stu-id="6b524-264">In most cases, public IP addresses are free.</span></span> <span data-ttu-id="6b524-265">Há um custo nominal para usar endereços IP públicos adicionais e/ou estáticos.</span><span class="sxs-lookup"><span data-stu-id="6b524-265">There is a nominal charge to use additional and/or static public IP addresses.</span></span> <span data-ttu-id="6b524-266">Certifique-se de compreender a [estrutura de preços para IPs públicos](https://azure.microsoft.com/pricing/details/ip-addresses/).</span><span class="sxs-lookup"><span data-stu-id="6b524-266">Make sure you understand the [pricing structure for public IPs](https://azure.microsoft.com/pricing/details/ip-addresses/).</span></span>

## <a name="differences-between-resource-manager-and-classic-deployments"></a><span data-ttu-id="6b524-267">Diferenças entre as implantações do Gerenciador de recursos e clássica</span><span class="sxs-lookup"><span data-stu-id="6b524-267">Differences between Resource Manager and classic deployments</span></span>
<span data-ttu-id="6b524-268">A seguir está uma comparação dos recursos de endereçamento IP no Gerenciador de Recursos com o modelo de implantação clássico.</span><span class="sxs-lookup"><span data-stu-id="6b524-268">Below is a comparison of IP addressing features in Resource Manager and the classic deployment model.</span></span>

|  | <span data-ttu-id="6b524-269">Recurso</span><span class="sxs-lookup"><span data-stu-id="6b524-269">Resource</span></span> | <span data-ttu-id="6b524-270">Clássico</span><span class="sxs-lookup"><span data-stu-id="6b524-270">Classic</span></span> | <span data-ttu-id="6b524-271">Gerenciador de Recursos</span><span class="sxs-lookup"><span data-stu-id="6b524-271">Resource Manager</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="6b524-272">**Endereço IP público**</span><span class="sxs-lookup"><span data-stu-id="6b524-272">**Public IP Address**</span></span> |<span data-ttu-id="6b524-273">***VM***</span><span class="sxs-lookup"><span data-stu-id="6b524-273">***VM***</span></span> |<span data-ttu-id="6b524-274">Conhecido como um ILPIP (somente dinâmico)</span><span class="sxs-lookup"><span data-stu-id="6b524-274">Referred to as an ILPIP (dynamic only)</span></span> |<span data-ttu-id="6b524-275">Conhecido como um IP público (dinâmico ou estático)</span><span class="sxs-lookup"><span data-stu-id="6b524-275">Referred to as a public IP (dynamic or static)</span></span> |
|  ||<span data-ttu-id="6b524-276">Atribuído a uma VM IaaS ou a uma instância de função de PaaS</span><span class="sxs-lookup"><span data-stu-id="6b524-276">Assigned to an IaaS VM or a PaaS role instance</span></span> |<span data-ttu-id="6b524-277">Associado à NIC da VM</span><span class="sxs-lookup"><span data-stu-id="6b524-277">Associated to the VM's NIC</span></span> | |
|  |<span data-ttu-id="6b524-278">***Balanceador de carga para a Internet***</span><span class="sxs-lookup"><span data-stu-id="6b524-278">***Internet facing load balancer***</span></span> |<span data-ttu-id="6b524-279">Conhecido como VIP (dinâmico) ou IP Reservado (estático)</span><span class="sxs-lookup"><span data-stu-id="6b524-279">Referred to as VIP (dynamic) or Reserved IP (static)</span></span> |<span data-ttu-id="6b524-280">Conhecido como um IP público (dinâmico ou estático)</span><span class="sxs-lookup"><span data-stu-id="6b524-280">Referred to as a public IP (dynamic or static)</span></span> | |
|  ||<span data-ttu-id="6b524-281">Atribuído a um serviço de nuvem</span><span class="sxs-lookup"><span data-stu-id="6b524-281">Assigned to a cloud service</span></span> |<span data-ttu-id="6b524-282">Associado à configuração de front-end do Balanceador de Carga</span><span class="sxs-lookup"><span data-stu-id="6b524-282">Associated to the load balancer's front end config</span></span> | |
|  | | | |
| <span data-ttu-id="6b524-283">**Endereço IP privado**</span><span class="sxs-lookup"><span data-stu-id="6b524-283">**Private IP Address**</span></span> |<span data-ttu-id="6b524-284">***VM***</span><span class="sxs-lookup"><span data-stu-id="6b524-284">***VM***</span></span> |<span data-ttu-id="6b524-285">Conhecido como um DIP</span><span class="sxs-lookup"><span data-stu-id="6b524-285">Referred to as a DIP</span></span> |<span data-ttu-id="6b524-286">Conhecido como um endereço IP privado</span><span class="sxs-lookup"><span data-stu-id="6b524-286">Referred to as a private IP address</span></span> |
|  ||<span data-ttu-id="6b524-287">Atribuído a uma VM IaaS ou a uma instância de função de PaaS</span><span class="sxs-lookup"><span data-stu-id="6b524-287">Assigned to an IaaS VM or a PaaS role instance</span></span> |<span data-ttu-id="6b524-288">Atribuído à NIC da VM</span><span class="sxs-lookup"><span data-stu-id="6b524-288">Assigned to the VM's NIC</span></span> | |
|  |<span data-ttu-id="6b524-289">***Balanceador de carga interno (ILB)***</span><span class="sxs-lookup"><span data-stu-id="6b524-289">***Internal load balancer (ILB)***</span></span> |<span data-ttu-id="6b524-290">Atribuído ao ILB (dinâmico ou estático)</span><span class="sxs-lookup"><span data-stu-id="6b524-290">Assigned to the ILB (dynamic or static)</span></span> |<span data-ttu-id="6b524-291">Atribuído à configuração de front-end do ILB (dinâmico ou estático)</span><span class="sxs-lookup"><span data-stu-id="6b524-291">Assigned to the ILB's front end configuration (dynamic or static)</span></span> | |

## <a name="next-steps"></a><span data-ttu-id="6b524-292">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="6b524-292">Next steps</span></span>
* <span data-ttu-id="6b524-293">[Implantar uma VM com um endereço IP privado estático](virtual-networks-static-private-ip-classic-pportal.md) usando o portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="6b524-293">[Deploy a VM with a static private IP address](virtual-networks-static-private-ip-classic-pportal.md) using the Azure portal.</span></span>

