---
title: "Criar um emparelhamento de rede virtual do Azure – modelos de implantação diferentes – mesma assinatura | Microsoft Docs"
description: "Saiba como criar um emparelhamento de rede virtual entre redes virtuais criadas com modelos de implantação diferentes que existem na mesma assinatura do Azure."
services: virtual-network
documentationcenter: 
author: jimdial
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 
ms.service: virtual-network
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/17/2017
ms.author: jdial;narayan;annahar
ms.openlocfilehash: 7d75d85863ce4b06ef1f552e0d583dec302f7ace
ms.sourcegitcommit: 422efcbac5b6b68295064bd545132fcc98349d01
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/29/2017
---
# <a name="create-a-virtual-network-peering---different-deployment-models-same-subscription"></a><span data-ttu-id="fe67b-103">Criar um emparelhamento de rede virtual – modelos de implantação diferentes e na mesma assinatura</span><span class="sxs-lookup"><span data-stu-id="fe67b-103">Create a virtual network peering - different deployment models, same subscription</span></span> 

<span data-ttu-id="fe67b-104">Neste tutorial, você aprende a criar um emparelhamento de rede virtual entre redes virtuais criadas por modelos de implantação diferentes.</span><span class="sxs-lookup"><span data-stu-id="fe67b-104">In this tutorial, you learn to create a virtual network peering between virtual networks created through different deployment models.</span></span> <span data-ttu-id="fe67b-105">Ambas as redes virtuais existem na mesma assinatura.</span><span class="sxs-lookup"><span data-stu-id="fe67b-105">Both virtual networks exist in the same subscription.</span></span> <span data-ttu-id="fe67b-106">O emparelhamento de duas redes virtuais permite que recursos em diferentes redes virtuais se comuniquem com a mesma largura de banda e latência, como se os recursos estivessem na mesma rede virtual.</span><span class="sxs-lookup"><span data-stu-id="fe67b-106">Peering two virtual networks enables resources in different virtual networks to communicate with each other with the same bandwidth and latency as though the resources were in the same virtual network.</span></span> <span data-ttu-id="fe67b-107">Saiba mais sobre [Emparelhamento de rede virtual](virtual-network-peering-overview.md).</span><span class="sxs-lookup"><span data-stu-id="fe67b-107">Learn more about [Virtual network peering](virtual-network-peering-overview.md).</span></span> 

<span data-ttu-id="fe67b-108">As etapas para criar um emparelhamento de rede virtual são diferentes, dependendo de as redes virtuais estarem na mesma ou em diferentes assinaturas e do [modelo de implantação do Azure](../azure-resource-manager/resource-manager-deployment-model.md?toc=%2fazure%2fvirtual-network%2ftoc.json) pelo qual as redes virtuais são criadas.</span><span class="sxs-lookup"><span data-stu-id="fe67b-108">The steps to create a virtual network peering are different, depending on whether the virtual networks are in the same, or different, subscriptions, and which [Azure deployment model](../azure-resource-manager/resource-manager-deployment-model.md?toc=%2fazure%2fvirtual-network%2ftoc.json) the virtual networks are created through.</span></span> <span data-ttu-id="fe67b-109">Saiba como criar um emparelhamento de rede virtual em outros cenários clicando no cenário na tabela a seguir:</span><span class="sxs-lookup"><span data-stu-id="fe67b-109">Learn how to create a virtual network peering in other scenarios by clicking the scenario from the following table:</span></span>

|<span data-ttu-id="fe67b-110">Modelo de implantação do Azure</span><span class="sxs-lookup"><span data-stu-id="fe67b-110">Azure deployment model</span></span>  | <span data-ttu-id="fe67b-111">Assinatura do Azure</span><span class="sxs-lookup"><span data-stu-id="fe67b-111">Azure subscription</span></span>  |
|--------- |---------|
|[<span data-ttu-id="fe67b-112">Ambos Resource Manager</span><span class="sxs-lookup"><span data-stu-id="fe67b-112">Both Resource Manager</span></span>](virtual-network-create-peering.md) |<span data-ttu-id="fe67b-113">Idêntico</span><span class="sxs-lookup"><span data-stu-id="fe67b-113">Same</span></span>|
|[<span data-ttu-id="fe67b-114">Ambos Resource Manager</span><span class="sxs-lookup"><span data-stu-id="fe67b-114">Both Resource Manager</span></span>](create-peering-different-subscriptions.md) |<span data-ttu-id="fe67b-115">Diferente</span><span class="sxs-lookup"><span data-stu-id="fe67b-115">Different</span></span>|
|[<span data-ttu-id="fe67b-116">Um Resource Manager, um clássico</span><span class="sxs-lookup"><span data-stu-id="fe67b-116">One Resource Manager, one classic</span></span>](create-peering-different-deployment-models-subscriptions.md) |<span data-ttu-id="fe67b-117">Diferente</span><span class="sxs-lookup"><span data-stu-id="fe67b-117">Different</span></span>|

<span data-ttu-id="fe67b-118">Não é possível criar um emparelhamento de rede virtual entre duas redes virtuais implantadas por meio do modelo de implantação clássico.</span><span class="sxs-lookup"><span data-stu-id="fe67b-118">A virtual network peering cannot be created between two virtual networks deployed through the classic deployment model.</span></span> <span data-ttu-id="fe67b-119">Um emparelhamento de rede virtual só pode ser criado entre duas redes virtuais que existem na mesma região do Azure.</span><span class="sxs-lookup"><span data-stu-id="fe67b-119">A virtual network peering can only be created between two virtual networks that exist in the same Azure region.</span></span> <span data-ttu-id="fe67b-120">Se você precisar conectar-se a redes virtuais que foram ambas criadas por meio do modelo de implantação clássico ou que existem em diferentes regiões do Azure, poderá usar um [Gateway de VPN](../vpn-gateway/vpn-gateway-howto-site-to-site-resource-manager-portal.md?toc=%2fazure%2fvirtual-network%2ftoc.json) do Azure para conectar as redes virtuais.</span><span class="sxs-lookup"><span data-stu-id="fe67b-120">If you need to connect virtual networks that were both created through the classic deployment model, or that exist in different Azure regions, you can use an Azure [VPN Gateway](../vpn-gateway/vpn-gateway-howto-site-to-site-resource-manager-portal.md?toc=%2fazure%2fvirtual-network%2ftoc.json) to connect the virtual networks.</span></span> 

<span data-ttu-id="fe67b-121">Você pode usar o [portal do Azure](#portal), a [CLI](#cli) (interface de linha de comando) do Azure ou o [Azure PowerShell](#powershell) para criar um emparelhamento de rede virtual.</span><span class="sxs-lookup"><span data-stu-id="fe67b-121">You can use the [Azure portal](#portal), the Azure [command-line interface](#cli) (CLI), or Azure [PowerShell](#powershell) to create a virtual network peering.</span></span> <span data-ttu-id="fe67b-122">Clique em um dos links de ferramentas anteriores para ir diretamente para as etapas para a criação de um emparelhamento de rede virtual usando a ferramenta de sua escolha.</span><span class="sxs-lookup"><span data-stu-id="fe67b-122">Click any of the previous tool links to go directly to the steps for creating a virtual network peering using your tool of choice.</span></span>

## <span data-ttu-id="fe67b-123"><a name="cli"></a>Criar emparelhamento – Portal</span><span class="sxs-lookup"><span data-stu-id="fe67b-123"><a name="cli"></a>Create peering - Portal</span></span>

1. <span data-ttu-id="fe67b-124">Faça logon no [Portal do Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="fe67b-124">Log in to the [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="fe67b-125">A conta com a qual você faz logon deve ter as permissões necessárias para criar um emparelhamento de rede virtual.</span><span class="sxs-lookup"><span data-stu-id="fe67b-125">The account you log in with must have the necessary permissions to create a virtual network peering.</span></span> <span data-ttu-id="fe67b-126">Consulte a seção [Permissões](#permissions) deste artigo para obter detalhes.</span><span class="sxs-lookup"><span data-stu-id="fe67b-126">See the [Permissions](#permissions) section of this article for details.</span></span>
2. <span data-ttu-id="fe67b-127">Clique em **+ Novo**, em **Rede** e, em seguida, em **Rede virtual**.</span><span class="sxs-lookup"><span data-stu-id="fe67b-127">Click **+ New**, click **Networking**, then click **Virtual network**.</span></span>
3. <span data-ttu-id="fe67b-128">Na folha **Criar rede virtual**, insira ou selecione valores para as seguintes configurações e, depois, clique em **Criar**:</span><span class="sxs-lookup"><span data-stu-id="fe67b-128">In the **Create virtual network** blade, enter, or select values for the following settings, then click **Create**:</span></span>
    - <span data-ttu-id="fe67b-129">**Nome**: *myVnet1*</span><span class="sxs-lookup"><span data-stu-id="fe67b-129">**Name**: *myVnet1*</span></span>
    - <span data-ttu-id="fe67b-130">**Espaço de endereço**: *10.0.0.0/16*</span><span class="sxs-lookup"><span data-stu-id="fe67b-130">**Address space**: *10.0.0.0/16*</span></span>
    - <span data-ttu-id="fe67b-131">**Nome da sub-rede**: *padrão*</span><span class="sxs-lookup"><span data-stu-id="fe67b-131">**Subnet name**: *default*</span></span>
    - <span data-ttu-id="fe67b-132">**Intervalo de endereços da sub-rede**: *10.0.0.0/24*</span><span class="sxs-lookup"><span data-stu-id="fe67b-132">**Subnet address range**: *10.0.0.0/24*</span></span>
    - <span data-ttu-id="fe67b-133">**Assinatura**: selecione sua assinatura</span><span class="sxs-lookup"><span data-stu-id="fe67b-133">**Subscription**: Select your subscription</span></span>
    - <span data-ttu-id="fe67b-134">**Grupo de recursos**: selecione **Criar novo** e insira *myResourceGroup*</span><span class="sxs-lookup"><span data-stu-id="fe67b-134">**Resource group**: Select **Create new** and enter *myResourceGroup*</span></span>
    - <span data-ttu-id="fe67b-135">**Localização**: *Leste dos EUA*</span><span class="sxs-lookup"><span data-stu-id="fe67b-135">**Location**: *East US*</span></span>
4. <span data-ttu-id="fe67b-136">Clique em **+ Novo**.</span><span class="sxs-lookup"><span data-stu-id="fe67b-136">Click **+ New**.</span></span> <span data-ttu-id="fe67b-137">No campo **Pesquisar no Marketplace**, digite *Rede virtual*.</span><span class="sxs-lookup"><span data-stu-id="fe67b-137">In the **Search the Marketplace** box, type *Virtual network*.</span></span> <span data-ttu-id="fe67b-138">Clique em **Rede virtual** quando essa opção aparecer entre os resultados da pesquisa.</span><span class="sxs-lookup"><span data-stu-id="fe67b-138">Click **Virtual network** when it appears in the search results.</span></span> 
5. <span data-ttu-id="fe67b-139">Na folha **Rede virtual**, selecione **Clássico** na caixa **Selecionar um modelo de implantação** e clique em **Criar**.</span><span class="sxs-lookup"><span data-stu-id="fe67b-139">In the **Virtual network** blade, select **Classic** in the **Select a deployment model** box, and then click **Create**.</span></span>
6. <span data-ttu-id="fe67b-140">Na folha **Criar rede virtual**, insira ou selecione valores para as seguintes configurações e, depois, clique em **Criar**:</span><span class="sxs-lookup"><span data-stu-id="fe67b-140">In the **Create virtual network** blade, enter, or select values for the following settings, then click **Create**:</span></span>
    - <span data-ttu-id="fe67b-141">**Nome**: *myVnet2*</span><span class="sxs-lookup"><span data-stu-id="fe67b-141">**Name**: *myVnet2*</span></span>
    - <span data-ttu-id="fe67b-142">**Espaço de endereço**: *10.1.0.0/16*</span><span class="sxs-lookup"><span data-stu-id="fe67b-142">**Address space**: *10.1.0.0/16*</span></span>
    - <span data-ttu-id="fe67b-143">**Nome da sub-rede**: *padrão*</span><span class="sxs-lookup"><span data-stu-id="fe67b-143">**Subnet name**: *default*</span></span>
    - <span data-ttu-id="fe67b-144">**Intervalo de endereços da sub-rede**: *10.1.0.0/24*</span><span class="sxs-lookup"><span data-stu-id="fe67b-144">**Subnet address range**: *10.1.0.0/24*</span></span>
    - <span data-ttu-id="fe67b-145">**Assinatura**: selecione sua assinatura</span><span class="sxs-lookup"><span data-stu-id="fe67b-145">**Subscription**: Select your subscription</span></span>
    - <span data-ttu-id="fe67b-146">**Grupo de recursos**: selecione **Usar existente** e selecione *myResourceGroup*</span><span class="sxs-lookup"><span data-stu-id="fe67b-146">**Resource group**: Select **Use existing** and select *myResourceGroup*</span></span>
    - <span data-ttu-id="fe67b-147">**Localização**: *Leste dos EUA*</span><span class="sxs-lookup"><span data-stu-id="fe67b-147">**Location**: *East US*</span></span>
7. <span data-ttu-id="fe67b-148">Na caixa **Pesquisar recursos** na parte superior do portal, digite *myResourceGroup*.</span><span class="sxs-lookup"><span data-stu-id="fe67b-148">In the **Search resources** box at the top of the portal, type *myResourceGroup*.</span></span> <span data-ttu-id="fe67b-149">Clique em **myResourceGroup** quando ele for exibido nos resultados da pesquisa.</span><span class="sxs-lookup"><span data-stu-id="fe67b-149">Click **myResourceGroup** when it appears in the search results.</span></span> <span data-ttu-id="fe67b-150">Uma folha é exibida para o grupo de recursos **myresourcegroup**.</span><span class="sxs-lookup"><span data-stu-id="fe67b-150">A blade appears for the **myresourcegroup** resource group.</span></span> <span data-ttu-id="fe67b-151">O grupo de recursos contém as duas redes virtuais criadas nas etapas anteriores.</span><span class="sxs-lookup"><span data-stu-id="fe67b-151">The resource group contains the two virtual networks created in previous steps.</span></span>
8. <span data-ttu-id="fe67b-152">Clique em **myVNet1**.</span><span class="sxs-lookup"><span data-stu-id="fe67b-152">Click **myVNet1**.</span></span>
9. <span data-ttu-id="fe67b-153">Na folha **myVnet1** exibida, clique em **Emparelhamentos** na lista vertical de opções no lado esquerdo da folha.</span><span class="sxs-lookup"><span data-stu-id="fe67b-153">In the **myVnet1** blade that appears, click **Peerings** from the vertical list of options on the left side of the blade.</span></span>
10. <span data-ttu-id="fe67b-154">Na folha **myVnet1 – Emparelhamentos** exibida, clique em **+ Adicionar**</span><span class="sxs-lookup"><span data-stu-id="fe67b-154">In the **myVnet1 - Peerings** blade that appeared, click **+ Add**</span></span>
11. <span data-ttu-id="fe67b-155">Na folha **Adicionar emparelhamento** exibida, insira ou selecione as seguintes opções e clique em **OK**:</span><span class="sxs-lookup"><span data-stu-id="fe67b-155">In the **Add peering** blade that appears, enter, or select the following options, then click **OK**:</span></span>
     - <span data-ttu-id="fe67b-156">**Nome**: *myVnet1ToMyVnet2*</span><span class="sxs-lookup"><span data-stu-id="fe67b-156">**Name**: *myVnet1ToMyVnet2*</span></span>
     - <span data-ttu-id="fe67b-157">**Modelo de implantação de rede virtual**: selecione **Clássico**.</span><span class="sxs-lookup"><span data-stu-id="fe67b-157">**Virtual network deployment model**:  Select **Classic**.</span></span> 
     - <span data-ttu-id="fe67b-158">**Assinatura**: selecione sua assinatura</span><span class="sxs-lookup"><span data-stu-id="fe67b-158">**Subscription**: Select your subscription</span></span>
     - <span data-ttu-id="fe67b-159">**Rede virtual**: clique em **Escolher uma rede virtual** e, em seguida, clique em **myVnet2**.</span><span class="sxs-lookup"><span data-stu-id="fe67b-159">**Virtual network**:  Click **Choose a virtual network**, then click **myVnet2**.</span></span>
     - <span data-ttu-id="fe67b-160">**Permitir acesso à rede virtual:** verifique se a opção **Habilitado** está selecionada.</span><span class="sxs-lookup"><span data-stu-id="fe67b-160">**Allow virtual network access:** Ensure that **Enabled** is selected.</span></span>
    <span data-ttu-id="fe67b-161">Nenhuma outra configuração é usada neste tutorial.</span><span class="sxs-lookup"><span data-stu-id="fe67b-161">No other settings are used in this tutorial.</span></span> <span data-ttu-id="fe67b-162">Para saber mais sobre todas as configurações de emparelhamento, leia [Gerenciar emparelhamentos de rede virtual](virtual-network-manage-peering.md#create-a-peering).</span><span class="sxs-lookup"><span data-stu-id="fe67b-162">To learn about all peering settings, read [Manage virtual network peerings](virtual-network-manage-peering.md#create-a-peering).</span></span>
12. <span data-ttu-id="fe67b-163">Depois de clicar em **OK** na etapa anterior, a folha **Adicionar emparelhamento** será fechada e você verá a folha **myVnet1 – Emparelhamentos** novamente.</span><span class="sxs-lookup"><span data-stu-id="fe67b-163">After clicking **OK** in the previous step, the **Add peering** blade closes and you see the **myVnet1 - Peerings** blade again.</span></span> <span data-ttu-id="fe67b-164">Depois de alguns segundos, o emparelhamento que você criou será exibido na folha.</span><span class="sxs-lookup"><span data-stu-id="fe67b-164">After a few seconds, the peering you created appears in the blade.</span></span> <span data-ttu-id="fe67b-165">**Conectado** é listado na coluna **STATUS DE EMPARELHAMENTO** do emparelhamento de **myVnet1ToMyVnet2** criado.</span><span class="sxs-lookup"><span data-stu-id="fe67b-165">**Connected** is listed in the **PEERING STATUS** column for the **myVnet1ToMyVnet2** peering you created.</span></span>

    <span data-ttu-id="fe67b-166">O emparelhamento agora está estabelecido.</span><span class="sxs-lookup"><span data-stu-id="fe67b-166">The peering is now established.</span></span> <span data-ttu-id="fe67b-167">Todos os recursos do Azure criados na rede virtual agora podem se comunicar entre si por meio de seus endereços IP.</span><span class="sxs-lookup"><span data-stu-id="fe67b-167">Any Azure resources you create in either virtual network are now able to communicate with each other through their IP addresses.</span></span> <span data-ttu-id="fe67b-168">Se você estiver usando a resolução de nomes padrão do Azure para as redes virtuais, os recursos nas redes virtuais não poderão resolver nomes entre as redes virtuais.</span><span class="sxs-lookup"><span data-stu-id="fe67b-168">If you're using default Azure name resolution for the virtual networks, the resources in the virtual networks are not able to resolve names across the virtual networks.</span></span> <span data-ttu-id="fe67b-169">Se você desejar resolver nomes entre redes virtuais em um emparelhamento, deverá criar seu próprio servidor DNS.</span><span class="sxs-lookup"><span data-stu-id="fe67b-169">If you want to resolve names across virtual networks in a peering, you must create your own DNS server.</span></span> <span data-ttu-id="fe67b-170">Saiba como configurar a [Resolução de nomes usando seu próprio servidor DNS](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="fe67b-170">Learn how to set up [Name resolution using your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span></span>
13. <span data-ttu-id="fe67b-171">**Opcional**: embora a criação de máquinas virtuais não seja abordada neste tutorial, você poderá criar uma máquina virtual em cada rede virtual e conectar-se de uma máquina virtual a outra, para validar a conectividade.</span><span class="sxs-lookup"><span data-stu-id="fe67b-171">**Optional**: Though creating virtual machines is not covered in this tutorial, you can create a virtual machine in each virtual network and connect from one virtual machine to the other, to validate connectivity.</span></span>
14. <span data-ttu-id="fe67b-172">**Opcional**: para excluir os recursos criados neste tutorial, conclua as etapas da seção [Excluir recursos](#delete-portal) deste artigo.</span><span class="sxs-lookup"><span data-stu-id="fe67b-172">**Optional**: To delete the resources that you create in this tutorial, complete the steps in the [Delete resources](#delete-portal) section of this article.</span></span>

## <span data-ttu-id="fe67b-173"><a name="cli"></a>Criar emparelhamento – CLI do Azure</span><span class="sxs-lookup"><span data-stu-id="fe67b-173"><a name="cli"></a>Create peering - Azure CLI</span></span>

1. <span data-ttu-id="fe67b-174">[Instale](../cli-install-nodejs.md?toc=%2fazure%2fvirtual-network%2ftoc.json) a CLI do Azure 1.0 para criar a rede virtual (clássico).</span><span class="sxs-lookup"><span data-stu-id="fe67b-174">[Install](../cli-install-nodejs.md?toc=%2fazure%2fvirtual-network%2ftoc.json) the Azure CLI 1.0 to create the virtual network (classic).</span></span>
2. <span data-ttu-id="fe67b-175">Abra uma sessão de comando e faça logon no Azure usando o comando `azure login`.</span><span class="sxs-lookup"><span data-stu-id="fe67b-175">Open a command session and log in to Azure using the `azure login` command.</span></span>
3. <span data-ttu-id="fe67b-176">Execute a CLI no modo de Gerenciamento de Serviços digitando o comando `azure config mode asm`.</span><span class="sxs-lookup"><span data-stu-id="fe67b-176">Run the CLI in Service Management mode by entering the `azure config mode asm` command.</span></span>
4. <span data-ttu-id="fe67b-177">Para criar um grupo de recursos para a rede virtual (clássico), digite o comando a seguir:</span><span class="sxs-lookup"><span data-stu-id="fe67b-177">Enter the following command to create the virtual network (classic):</span></span>
 
    ```azurecli
    azure network vnet create --vnet myVnet2 --address-space 10.1.0.0 --cidr 16 --location "East US"
    ```

5. <span data-ttu-id="fe67b-178">Crie um grupo de recursos e uma rede virtual (Resource Manager).</span><span class="sxs-lookup"><span data-stu-id="fe67b-178">Create a resource group and a virtual network (Resource Manager).</span></span> <span data-ttu-id="fe67b-179">Você pode usar a CLI 1.0 ou 2.0 ([instalar](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json)).</span><span class="sxs-lookup"><span data-stu-id="fe67b-179">You can use either the CLI 1.0 or 2.0 ([install](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json)).</span></span> <span data-ttu-id="fe67b-180">Neste tutorial, a CLI 2.0 é usada para criar a rede virtual (Resource Manager), já que a 2.0 deve ser usada para criar o emparelhamento.</span><span class="sxs-lookup"><span data-stu-id="fe67b-180">In this tutorial, the CLI 2.0 is used to create the virtual network (Resource Manager), since 2.0 must be used to create the peering.</span></span> <span data-ttu-id="fe67b-181">Execute o script de CLI de Bash a seguir do computador local com a CLI 2.0.4 ou posterior instalada.</span><span class="sxs-lookup"><span data-stu-id="fe67b-181">Execute the following bash CLI script from your local machine with the CLI 2.0.4 or later installed.</span></span> <span data-ttu-id="fe67b-182">Para opções de como executar scripts da CLI de busca em um cliente Windows, veja [Execução da CLI do Azure no Windows](../virtual-machines/windows/cli-options.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="fe67b-182">For options on running bash CLI scripts on Windows client, see [Running the Azure CLI in Windows](../virtual-machines/windows/cli-options.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span> <span data-ttu-id="fe67b-183">Você também pode executar o script usando o Azure Cloud Shell.</span><span class="sxs-lookup"><span data-stu-id="fe67b-183">You can also run the script using the Azure Cloud Shell.</span></span> <span data-ttu-id="fe67b-184">O Azure Cloud Shell é um shell Bash gratuito que podem ser executado diretamente no portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="fe67b-184">The Azure Cloud Shell is a free Bash shell that you can run directly within the Azure portal.</span></span> <span data-ttu-id="fe67b-185">Ele tem a CLI do Azure instalada e configurada para usar com sua conta.</span><span class="sxs-lookup"><span data-stu-id="fe67b-185">It has the Azure CLI preinstalled and configured to use with your account.</span></span> <span data-ttu-id="fe67b-186">Clique no botão **Experimente** no script a seguir, o que invoca um Cloud Shell com o qual você pode fazer logon em sua conta do Azure.</span><span class="sxs-lookup"><span data-stu-id="fe67b-186">Click the **Try it** button in the script that follows, which invokes a Cloud Shell that logs you can log in to your Azure account with.</span></span> <span data-ttu-id="fe67b-187">Para executar o script, clique no botão **Copiar** e cole o conteúdo para o Cloud Shell, em seguida, pressione `Enter`.</span><span class="sxs-lookup"><span data-stu-id="fe67b-187">To execute the script, click the **Copy** button and paste, the contents into your Cloud Shell, then press `Enter`.</span></span>

    ```azurecli-interactive
    #!/bin/bash

    # Create a resource group.
    az group create \
      --name myResourceGroup \
      --location eastus

    # Create the virtual network (Resource Manager).
    az network vnet create \
      --name myVnet1 \
      --resource-group myResourceGroup \
      --location eastus \
      --address-prefix 10.0.0.0/16
    ```

6. <span data-ttu-id="fe67b-188">Crie um emparelhamento de rede virtual entre as duas redes virtuais criadas por meio dos modelos de implantação diferentes.</span><span class="sxs-lookup"><span data-stu-id="fe67b-188">Create a virtual network peering between the two virtual networks created through the different deployment models.</span></span> <span data-ttu-id="fe67b-189">Copie o script a seguir em um editor de texto em seu computador.</span><span class="sxs-lookup"><span data-stu-id="fe67b-189">Copy the following script to a text editor on your PC.</span></span> <span data-ttu-id="fe67b-190">Substitua `<subscription id>` por sua ID da assinatura.</span><span class="sxs-lookup"><span data-stu-id="fe67b-190">Replace `<subscription id>` with your subscription Id.</span></span> <span data-ttu-id="fe67b-191">Se você não souber a ID da assinatura, insira o comando `az account show`.</span><span class="sxs-lookup"><span data-stu-id="fe67b-191">If you don't know your subscription Id, enter the `az account show` command.</span></span> <span data-ttu-id="fe67b-192">O valor da **ID** na saída é sua ID da assinatura.</span><span class="sxs-lookup"><span data-stu-id="fe67b-192">The value for **id** in the output is your subscription Id.</span></span> <span data-ttu-id="fe67b-193">Cole o script modificado em sua sessão da CLI e, em seguida, pressione `Enter`.</span><span class="sxs-lookup"><span data-stu-id="fe67b-193">Paste the modified script in to your CLI session, and then press `Enter`.</span></span>

    ```azurecli-interactive
    # Get the id for VNet1.
    vnet1Id=$(az network vnet show \
      --resource-group myResourceGroup \
      --name myVnet1 \
      --query id --out tsv)

    # Peer VNet1 to VNet2.
    az network vnet peering create \
      --name myVnet1ToMyVnet2 \
      --resource-group myResourceGroup \
      --vnet-name myVnet1 \
      --remote-vnet-id /subscriptions/<subscription id>/resourceGroups/Default-Networking/providers/Microsoft.ClassicNetwork/virtualNetworks/myVnet2 \
      --allow-vnet-access
    ```
7. <span data-ttu-id="fe67b-194">Após a execução do script, examine o emparelhamento da rede virtual (Resource Manager).</span><span class="sxs-lookup"><span data-stu-id="fe67b-194">After the script executes, review the peering for the virtual network (Resource Manager).</span></span> <span data-ttu-id="fe67b-195">Copie o comando a seguir, cole-o na sua sessão da CLI e, em seguida, pressione `Enter`:</span><span class="sxs-lookup"><span data-stu-id="fe67b-195">Copy the following command, paste it in your CLI session, and then press `Enter`:</span></span>

    ```azurecli-interactive
    az network vnet peering list \
      --resource-group myResourceGroup \
      --vnet-name myVnet1 \
      --output table
    ```
    
    <span data-ttu-id="fe67b-196">A saída mostra **Conectado** na coluna **PeeringState**.</span><span class="sxs-lookup"><span data-stu-id="fe67b-196">The output shows **Connected** in the **PeeringState** column.</span></span> 

    <span data-ttu-id="fe67b-197">Todos os recursos do Azure criados na rede virtual agora podem se comunicar entre si por meio de seus endereços IP.</span><span class="sxs-lookup"><span data-stu-id="fe67b-197">Any Azure resources you create in either virtual network are now able to communicate with each other through their IP addresses.</span></span> <span data-ttu-id="fe67b-198">Se você estiver usando a resolução de nomes padrão do Azure para as redes virtuais, os recursos nas redes virtuais não poderão resolver nomes entre as redes virtuais.</span><span class="sxs-lookup"><span data-stu-id="fe67b-198">If you're using default Azure name resolution for the virtual networks, the resources in the virtual networks are not able to resolve names across the virtual networks.</span></span> <span data-ttu-id="fe67b-199">Se você desejar resolver nomes entre redes virtuais em um emparelhamento, deverá criar seu próprio servidor DNS.</span><span class="sxs-lookup"><span data-stu-id="fe67b-199">If you want to resolve names across virtual networks in a peering, you must create your own DNS server.</span></span> <span data-ttu-id="fe67b-200">Saiba como configurar a [Resolução de nomes usando seu próprio servidor DNS](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="fe67b-200">Learn how to set up [Name resolution using your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span></span>
8. <span data-ttu-id="fe67b-201">**Opcional**: embora a criação de máquinas virtuais não seja abordada neste tutorial, você poderá criar uma máquina virtual em cada rede virtual e conectar-se de uma máquina virtual a outra, para validar a conectividade.</span><span class="sxs-lookup"><span data-stu-id="fe67b-201">**Optional**: Though creating virtual machines is not covered in this tutorial, you can create a virtual machine in each virtual network and connect from one virtual machine to the other, to validate connectivity.</span></span>
9. <span data-ttu-id="fe67b-202">**Opcional**: Para excluir os recursos criados neste tutorial, conclua as etapas em [Excluir recursos](#delete-cli) deste artigo.</span><span class="sxs-lookup"><span data-stu-id="fe67b-202">**Optional**: To delete the resources that you create in this tutorial, complete the steps in [Delete resources](#delete-cli) in this article.</span></span>

## <span data-ttu-id="fe67b-203"><a name="powershell"></a>Criar emparelhamento – PowerShell</span><span class="sxs-lookup"><span data-stu-id="fe67b-203"><a name="powershell"></a>Create peering - PowerShell</span></span>

1. <span data-ttu-id="fe67b-204">Instale a última versão dos módulos [Azure](https://www.powershellgallery.com/packages/Azure) e [AzureRm](https://www.powershellgallery.com/packages/AzureRM/) do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="fe67b-204">Install the latest version of the PowerShell [Azure](https://www.powershellgallery.com/packages/Azure) and [AzureRm](https://www.powershellgallery.com/packages/AzureRM/) modules.</span></span> <span data-ttu-id="fe67b-205">Se você for novo no Azure PowerShell, consulte [Visão geral do Azure PowerShell](/powershell/azure/overview?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="fe67b-205">If you're new to Azure PowerShell, see [Azure PowerShell overview](/powershell/azure/overview?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span>
2. <span data-ttu-id="fe67b-206">Inicie uma sessão do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="fe67b-206">Start a PowerShell session.</span></span>
3. <span data-ttu-id="fe67b-207">No PowerShell, faça logon no Azure inserindo o comando `Add-AzureAccount`.</span><span class="sxs-lookup"><span data-stu-id="fe67b-207">In PowerShell, log in to Azure by entering the `Add-AzureAccount` command.</span></span>
4. <span data-ttu-id="fe67b-208">Para criar uma rede virtual (clássico) com o PowerShell, você deve criar um arquivo de configuração de rede novo ou modificar um existente.</span><span class="sxs-lookup"><span data-stu-id="fe67b-208">To create a virtual network (classic) with PowerShell, you must create a new, or modify an existing, network configuration file.</span></span> <span data-ttu-id="fe67b-209">Saiba como [exportar, atualizar e importar arquivos de configuração de rede](virtual-networks-using-network-configuration-file.md).</span><span class="sxs-lookup"><span data-stu-id="fe67b-209">Learn how to [export, update, and import network configuration files](virtual-networks-using-network-configuration-file.md).</span></span> <span data-ttu-id="fe67b-210">O arquivo deve incluir o elemento **VirtualNetworkSite** a seguir para a rede virtual usada neste tutorial:</span><span class="sxs-lookup"><span data-stu-id="fe67b-210">The file should include the following **VirtualNetworkSite** element for the virtual network used in this tutorial:</span></span>

    ```xml
    <VirtualNetworkSite name="myVnet2" Location="East US">
      <AddressSpace>
        <AddressPrefix>10.1.0.0/16</AddressPrefix>
      </AddressSpace>
      <Subnets>
        <Subnet name="default">
          <AddressPrefix>10.1.0.0/24</AddressPrefix>
        </Subnet>
      </Subnets>
    </VirtualNetworkSite>
    ```

    > [!WARNING]
    > <span data-ttu-id="fe67b-211">Importar um arquivo de configuração de rede alterado pode causar alterações em redes virtuais existentes (clássico) na sua assinatura.</span><span class="sxs-lookup"><span data-stu-id="fe67b-211">Importing a changed network configuration file can cause changes to existing virtual networks (classic) in your subscription.</span></span> <span data-ttu-id="fe67b-212">Verifique se você adicionou apenas a rede virtual anterior e se você não alterou nem removeu nenhuma rede virtual existente da sua assinatura.</span><span class="sxs-lookup"><span data-stu-id="fe67b-212">Ensure you only add the previous virtual network and that you don't change or remove any existing virtual networks from your subscription.</span></span> 
5. <span data-ttu-id="fe67b-213">Faça logon no Azure para criar a rede virtual (Resource Manager), inserindo o comando `login-azurermaccount`.</span><span class="sxs-lookup"><span data-stu-id="fe67b-213">Log in to Azure to create the virtual network (Resource Manager) by entering the `login-azurermaccount` command.</span></span> <span data-ttu-id="fe67b-214">A conta com a qual você faz logon deve ter as permissões necessárias para criar um emparelhamento de rede virtual.</span><span class="sxs-lookup"><span data-stu-id="fe67b-214">The account you log in with must have the necessary permissions to create a virtual network peering.</span></span> <span data-ttu-id="fe67b-215">Consulte a seção [Permissões](#permissions) deste artigo para obter detalhes.</span><span class="sxs-lookup"><span data-stu-id="fe67b-215">See the [Permissions](#permissions) section of this article for details.</span></span>
6. <span data-ttu-id="fe67b-216">Crie um grupo de recursos e uma rede virtual (Resource Manager).</span><span class="sxs-lookup"><span data-stu-id="fe67b-216">Create a resource group and a virtual network (Resource Manager).</span></span> <span data-ttu-id="fe67b-217">Copie o script, cole-o no PowerShell e pressione `Enter`.</span><span class="sxs-lookup"><span data-stu-id="fe67b-217">Copy the script, paste it into PowerShell, and then press `Enter`.</span></span>

    ```powershell
    # Create a resource group.
      New-AzureRmResourceGroup -Name myResourceGroup -Location eastus

    # Create the virtual network (Resource Manager).
      $vnet1 = New-AzureRmVirtualNetwork `
      -ResourceGroupName myResourceGroup `
      -Name 'myVnet1' `
      -AddressPrefix '10.0.0.0/16' `
      -Location eastus
    ```

7. <span data-ttu-id="fe67b-218">Crie um emparelhamento de rede virtual entre as duas redes virtuais criadas por meio dos modelos de implantação diferentes.</span><span class="sxs-lookup"><span data-stu-id="fe67b-218">Create a virtual network peering between the two virtual networks created through the different deployment models.</span></span> <span data-ttu-id="fe67b-219">Copie o script a seguir em um editor de texto em seu computador.</span><span class="sxs-lookup"><span data-stu-id="fe67b-219">Copy the following script to a text editor on your PC.</span></span> <span data-ttu-id="fe67b-220">Substitua `<subscription id>` por sua ID da assinatura.</span><span class="sxs-lookup"><span data-stu-id="fe67b-220">Replace `<subscription id>` with your subscription Id.</span></span> <span data-ttu-id="fe67b-221">Se você não souber a ID da assinatura, insira o comando `Get-AzureRmSubscription` para exibi-la.</span><span class="sxs-lookup"><span data-stu-id="fe67b-221">If you don't know your subscription Id, enter the `Get-AzureRmSubscription` command to view it.</span></span> <span data-ttu-id="fe67b-222">O valor da **ID** na saída retornada é sua ID da assinatura.</span><span class="sxs-lookup"><span data-stu-id="fe67b-222">The value for **Id** in the returned output is your subscription ID.</span></span> <span data-ttu-id="fe67b-223">Para executar o script, copie o script modificado do seu editor de texto e, em seguida, clique com o botão direito do mouse em sua sessão do PowerShell e pressione `Enter`.</span><span class="sxs-lookup"><span data-stu-id="fe67b-223">To execute the script, copy the modified script from your text editor, then right-click in your PowerShell session, and then press `Enter`.</span></span>

    ```powershell
    # Peer VNet1 to VNet2.
    Add-AzureRmVirtualNetworkPeering `
      -Name myVnet1ToMyVnet2 `
      -VirtualNetwork $vnet1 `
      -RemoteVirtualNetworkId /subscriptions/<subscription Id>/resourceGroups/Default-Networking/providers/Microsoft.ClassicNetwork/virtualNetworks/myVnet2
    ```

8. <span data-ttu-id="fe67b-224">Após a execução do script, examine o emparelhamento da rede virtual (Resource Manager).</span><span class="sxs-lookup"><span data-stu-id="fe67b-224">After the script executes, review the peering for the virtual network (Resource Manager).</span></span> <span data-ttu-id="fe67b-225">Copie o comando a seguir, cole-o na sua sessão do PowerShell e, em seguida, pressione `Enter`:</span><span class="sxs-lookup"><span data-stu-id="fe67b-225">Copy the following command, paste it in your PowerShell session, and then press `Enter`:</span></span>

    ```powershell
    Get-AzureRmVirtualNetworkPeering `
      -ResourceGroupName myResourceGroup `
      -VirtualNetworkName myVnet1 `
      | Format-Table VirtualNetworkName, PeeringState
    ```

    <span data-ttu-id="fe67b-226">A saída mostra **Conectado** na coluna **PeeringState**.</span><span class="sxs-lookup"><span data-stu-id="fe67b-226">The output shows **Connected** in the **PeeringState** column.</span></span>

    <span data-ttu-id="fe67b-227">Todos os recursos do Azure criados na rede virtual agora podem se comunicar entre si por meio de seus endereços IP.</span><span class="sxs-lookup"><span data-stu-id="fe67b-227">Any Azure resources you create in either virtual network are now able to communicate with each other through their IP addresses.</span></span> <span data-ttu-id="fe67b-228">Se você estiver usando a resolução de nomes padrão do Azure para as redes virtuais, os recursos nas redes virtuais não poderão resolver nomes entre as redes virtuais.</span><span class="sxs-lookup"><span data-stu-id="fe67b-228">If you're using default Azure name resolution for the virtual networks, the resources in the virtual networks are not able to resolve names across the virtual networks.</span></span> <span data-ttu-id="fe67b-229">Se você desejar resolver nomes entre redes virtuais em um emparelhamento, deverá criar seu próprio servidor DNS.</span><span class="sxs-lookup"><span data-stu-id="fe67b-229">If you want to resolve names across virtual networks in a peering, you must create your own DNS server.</span></span> <span data-ttu-id="fe67b-230">Saiba como configurar a [Resolução de nomes usando seu próprio servidor DNS](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="fe67b-230">Learn how to set up [Name resolution using your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span></span>

9. <span data-ttu-id="fe67b-231">**Opcional**: embora a criação de máquinas virtuais não seja abordada neste tutorial, você poderá criar uma máquina virtual em cada rede virtual e conectar-se de uma máquina virtual a outra, para validar a conectividade.</span><span class="sxs-lookup"><span data-stu-id="fe67b-231">**Optional**: Though creating virtual machines is not covered in this tutorial, you can create a virtual machine in each virtual network and connect from one virtual machine to the other, to validate connectivity.</span></span>
10. <span data-ttu-id="fe67b-232">**Opcional**: Para excluir os recursos criados neste tutorial, conclua as etapas em [Excluir recursos](#delete-powershell) deste artigo.</span><span class="sxs-lookup"><span data-stu-id="fe67b-232">**Optional**: To delete the resources that you create in this tutorial, complete the steps in [Delete resources](#delete-powershell) in this article.</span></span>
 
## <span data-ttu-id="fe67b-233"><a name="permissions"></a>Permissões</span><span class="sxs-lookup"><span data-stu-id="fe67b-233"><a name="permissions"></a>Permissions</span></span>

<span data-ttu-id="fe67b-234">As contas usadas para criar um emparelhamento de rede virtual devem ter a função ou as permissões necessárias.</span><span class="sxs-lookup"><span data-stu-id="fe67b-234">The accounts you use to create a virtual network peering must have the necessary role or permissions.</span></span> <span data-ttu-id="fe67b-235">Por exemplo, se você pretende emparelhar duas redes virtuais, chamadas myVnet1 e myVnet2, será necessário atribuir à sua conta a seguinte função mínima ou permissões mínimas para cada rede virtual:</span><span class="sxs-lookup"><span data-stu-id="fe67b-235">For example, if you were peering two virtual networks named myVnet1 and myVnet2, your account must be assigned the following minimum role or permissions for each virtual network:</span></span>
    
|<span data-ttu-id="fe67b-236">Rede virtual</span><span class="sxs-lookup"><span data-stu-id="fe67b-236">Virtual network</span></span>|<span data-ttu-id="fe67b-237">Modelo de implantação</span><span class="sxs-lookup"><span data-stu-id="fe67b-237">Deployment model</span></span>|<span data-ttu-id="fe67b-238">Função</span><span class="sxs-lookup"><span data-stu-id="fe67b-238">Role</span></span>|<span data-ttu-id="fe67b-239">Permissões</span><span class="sxs-lookup"><span data-stu-id="fe67b-239">Permissions</span></span>|
|---|---|---|---|
|<span data-ttu-id="fe67b-240">myVnet1</span><span class="sxs-lookup"><span data-stu-id="fe67b-240">myVnet1</span></span>|<span data-ttu-id="fe67b-241">Gerenciador de Recursos</span><span class="sxs-lookup"><span data-stu-id="fe67b-241">Resource Manager</span></span>|[<span data-ttu-id="fe67b-242">Colaborador de rede</span><span class="sxs-lookup"><span data-stu-id="fe67b-242">Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor)|<span data-ttu-id="fe67b-243">Microsoft.Network/virtualNetworks/virtualNetworkPeerings/write</span><span class="sxs-lookup"><span data-stu-id="fe67b-243">Microsoft.Network/virtualNetworks/virtualNetworkPeerings/write</span></span>|
| |<span data-ttu-id="fe67b-244">Clássico</span><span class="sxs-lookup"><span data-stu-id="fe67b-244">Classic</span></span>|[<span data-ttu-id="fe67b-245">Colaborador de rede clássica</span><span class="sxs-lookup"><span data-stu-id="fe67b-245">Classic Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#classic-network-contributor)|<span data-ttu-id="fe67b-246">N/D</span><span class="sxs-lookup"><span data-stu-id="fe67b-246">N/A</span></span>|
|<span data-ttu-id="fe67b-247">myVnet2</span><span class="sxs-lookup"><span data-stu-id="fe67b-247">myVnet2</span></span>|<span data-ttu-id="fe67b-248">Gerenciador de Recursos</span><span class="sxs-lookup"><span data-stu-id="fe67b-248">Resource Manager</span></span>|[<span data-ttu-id="fe67b-249">Colaborador de rede</span><span class="sxs-lookup"><span data-stu-id="fe67b-249">Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor)|<span data-ttu-id="fe67b-250">Microsoft.Network/virtualNetworks/peer</span><span class="sxs-lookup"><span data-stu-id="fe67b-250">Microsoft.Network/virtualNetworks/peer</span></span>|
||<span data-ttu-id="fe67b-251">Clássico</span><span class="sxs-lookup"><span data-stu-id="fe67b-251">Classic</span></span>|[<span data-ttu-id="fe67b-252">Colaborador de rede clássica</span><span class="sxs-lookup"><span data-stu-id="fe67b-252">Classic Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#classic-network-contributor)|<span data-ttu-id="fe67b-253">Microsoft.ClassicNetwork/virtualNetworks/peer</span><span class="sxs-lookup"><span data-stu-id="fe67b-253">Microsoft.ClassicNetwork/virtualNetworks/peer</span></span>|

<span data-ttu-id="fe67b-254">Saiba mais sobre [funções internas](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) e como atribuir permissões específicas a [funções personalizadas](../active-directory/role-based-access-control-custom-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json) (somente para o Resource Manager).</span><span class="sxs-lookup"><span data-stu-id="fe67b-254">Learn more about [built-in roles](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) and assigning specific permissions to [custom roles](../active-directory/role-based-access-control-custom-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json) (Resource Manager only).</span></span>

## <span data-ttu-id="fe67b-255"><a name="delete"></a>Excluir recursos</span><span class="sxs-lookup"><span data-stu-id="fe67b-255"><a name="delete"></a>Delete resources</span></span>
<span data-ttu-id="fe67b-256">Ao concluir este tutorial, talvez você deseje excluir os recursos criados no tutorial para não incorrer em encargos de uso.</span><span class="sxs-lookup"><span data-stu-id="fe67b-256">When you've finished this tutorial, you might want to delete the resources you created in the tutorial, so you don't incur usage charges.</span></span> <span data-ttu-id="fe67b-257">A exclusão de um grupo de recursos também exclui todos os recursos que estão no grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="fe67b-257">Deleting a resource group also deletes all resources that are in the resource group.</span></span>

### <span data-ttu-id="fe67b-258"><a name="delete-portal"></a>Portal do Azure</span><span class="sxs-lookup"><span data-stu-id="fe67b-258"><a name="delete-portal"></a>Azure portal</span></span>

1. <span data-ttu-id="fe67b-259">Na caixa de pesquisa do portal, insira **myResourceGroup**.</span><span class="sxs-lookup"><span data-stu-id="fe67b-259">In the portal search box, enter **myResourceGroup**.</span></span> <span data-ttu-id="fe67b-260">Nos resultados da pesquisa, clique em **myResourceGroup**.</span><span class="sxs-lookup"><span data-stu-id="fe67b-260">In the search results, click **myResourceGroup**.</span></span>
2. <span data-ttu-id="fe67b-261">Na folha **myResourceGroup**, clique no ícone **Excluir**.</span><span class="sxs-lookup"><span data-stu-id="fe67b-261">On the **myResourceGroup** blade, click the **Delete** icon.</span></span>
3. <span data-ttu-id="fe67b-262">Para confirmar a exclusão, na caixa **DIGITAR O NOME DO GRUPO DE RECURSOS**, insira **myResourceGroup** e, depois, clique em **Excluir**.</span><span class="sxs-lookup"><span data-stu-id="fe67b-262">To confirm the deletion, in the **TYPE THE RESOURCE GROUP NAME** box, enter **myResourceGroup**, and then click **Delete**.</span></span>

### <span data-ttu-id="fe67b-263"><a name="delete-cli"></a>Azure CLI</span><span class="sxs-lookup"><span data-stu-id="fe67b-263"><a name="delete-cli"></a>Azure CLI</span></span>

1. <span data-ttu-id="fe67b-264">Use a CLI do Azure 2.0 para excluir a rede virtual (Resource Manager) com o seguinte comando:</span><span class="sxs-lookup"><span data-stu-id="fe67b-264">Use the Azure CLI 2.0 to delete the virtual network (Resource Manager) with the following command:</span></span>

    ```azurecli-interactive
    az group delete --name myResourceGroup --yes
    ```

2. <span data-ttu-id="fe67b-265">Use a CLI do Azure 1.0 para excluir a rede virtual (clássico) com os seguintes comandos:</span><span class="sxs-lookup"><span data-stu-id="fe67b-265">Use the Azure CLI 1.0 to delete the virtual network (classic) with the following commands:</span></span>

    ```azurecli
    azure config mode asm

    azure network vnet delete --vnet myVnet2 --quiet
    ```

### <span data-ttu-id="fe67b-266"><a name="delete-powershell"></a>PowerShell</span><span class="sxs-lookup"><span data-stu-id="fe67b-266"><a name="delete-powershell"></a>PowerShell</span></span>

1. <span data-ttu-id="fe67b-267">Digite o seguinte comando para excluir a rede virtual (Resource Manager):</span><span class="sxs-lookup"><span data-stu-id="fe67b-267">Enter the following command to delete the virtual network (Resource Manager):</span></span>

    ```powershell
    Remove-AzureRmResourceGroup -Name myResourceGroup -Force
    ```

2. <span data-ttu-id="fe67b-268">Para excluir a rede virtual (clássico) com o PowerShell, você deve modificar um arquivo de configuração de rede existente.</span><span class="sxs-lookup"><span data-stu-id="fe67b-268">To delete the virtual network (classic) with PowerShell, you must modify an existing network configuration file.</span></span> <span data-ttu-id="fe67b-269">Saiba como [exportar, atualizar e importar arquivos de configuração de rede](virtual-networks-using-network-configuration-file.md).</span><span class="sxs-lookup"><span data-stu-id="fe67b-269">Learn how to [export, update, and import network configuration files](virtual-networks-using-network-configuration-file.md).</span></span> <span data-ttu-id="fe67b-270">Remova o elemento VirtualNetworkSite a seguir para a rede virtual usada neste tutorial:</span><span class="sxs-lookup"><span data-stu-id="fe67b-270">Remove the following VirtualNetworkSite element for the virtual network used in this tutorial:</span></span>

    ```xml
    <VirtualNetworkSite name="myVnet2" Location="East US">
      <AddressSpace>
        <AddressPrefix>10.1.0.0/16</AddressPrefix>
      </AddressSpace>
      <Subnets>
        <Subnet name="default">
          <AddressPrefix>10.1.0.0/24</AddressPrefix>
        </Subnet>
      </Subnets>
    </VirtualNetworkSite>
    ```

    > [!WARNING]
    > <span data-ttu-id="fe67b-271">Importar um arquivo de configuração de rede alterado pode causar alterações em redes virtuais existentes (clássico) na sua assinatura.</span><span class="sxs-lookup"><span data-stu-id="fe67b-271">Importing a changed network configuration file can cause changes to existing virtual networks (classic) in your subscription.</span></span> <span data-ttu-id="fe67b-272">Verifique se você removeu apenas a rede virtual anterior e se você não alterou nem removeu nenhuma outra rede virtual existente da sua assinatura.</span><span class="sxs-lookup"><span data-stu-id="fe67b-272">Ensure you only remove the previous virtual network and that you don't change or remove any other existing virtual networks from your subscription.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="fe67b-273">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="fe67b-273">Next steps</span></span>

- <span data-ttu-id="fe67b-274">Familiarize por completo com [comportamentos e restrições importantes do emparelhamento de rede virtual](virtual-network-manage-peering.md#requirements-and-constraints) antes de criar um emparelhamento de rede virtual para uso em produção.</span><span class="sxs-lookup"><span data-stu-id="fe67b-274">Thoroughly familiarize yourself with important [virtual network peering constraints and behaviors](virtual-network-manage-peering.md#requirements-and-constraints) before creating a virtual network peering for production use.</span></span>
- <span data-ttu-id="fe67b-275">Saiba mais sobre todas as [configurações de emparelhamento de rede virtual](virtual-network-manage-peering.md#create-a-peering).</span><span class="sxs-lookup"><span data-stu-id="fe67b-275">Learn about all [virtual network peering settings](virtual-network-manage-peering.md#create-a-peering).</span></span>
- <span data-ttu-id="fe67b-276">Saiba como [criar uma topologia de rede hub e spoke](/azure/architecture/reference-architectures/hybrid-networking/hub-spoke?toc=%2fazure%2fvirtual-network%2ftoc.json#vnet-peering) com o emparelhamento de rede virtual.</span><span class="sxs-lookup"><span data-stu-id="fe67b-276">Learn how to [create a hub and spoke network topology](/azure/architecture/reference-architectures/hybrid-networking/hub-spoke?toc=%2fazure%2fvirtual-network%2ftoc.json#vnet-peering) with virtual network peering.</span></span>
