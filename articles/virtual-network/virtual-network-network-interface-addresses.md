---
title: "Configurar endereços IP para um adaptador de rede do Azure | Microsoft Docs"
description: "Saiba como adicionar, alterar e remover endereços IP públicos e privados para um adaptador de rede."
services: virtual-network
documentationcenter: na
author: jimdial
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 
ms.service: virtual-network
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/24/2017
ms.author: jdial
ms.openlocfilehash: 17ddb30c87d757176ce9428264135252c02bf713
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/18/2017
---
# <a name="add-change-or-remove-ip-addresses-for-an-azure-network-interface"></a><span data-ttu-id="93ed6-103">Adicionar, alterar ou remover endereços IP para um adaptador de rede do Azure</span><span class="sxs-lookup"><span data-stu-id="93ed6-103">Add, change, or remove IP addresses for an Azure network interface</span></span>

<span data-ttu-id="93ed6-104">Saiba como adicionar, alterar e remover endereços IP públicos e privados para um adaptador de rede.</span><span class="sxs-lookup"><span data-stu-id="93ed6-104">Learn how to add, change, and remove public and private IP addresses for a network interface.</span></span> <span data-ttu-id="93ed6-105">Endereços IP privados atribuídos a um adaptador de rede permitem que uma máquina virtual se comunique com outros recursos em uma rede virtual do Azure e redes conectadas.</span><span class="sxs-lookup"><span data-stu-id="93ed6-105">Private IP addresses assigned to a network interface enable a virtual machine to communicate with other resources in an Azure virtual network and connected networks.</span></span> <span data-ttu-id="93ed6-106">Um endereço IP privado também permite a comunicação de saída com a Internet usando um endereço IP imprevisível.</span><span class="sxs-lookup"><span data-stu-id="93ed6-106">A private IP address also enables outbound communication to the Internet using an unpredictable IP address.</span></span> <span data-ttu-id="93ed6-107">Um [Endereço IP público](virtual-network-public-ip-address.md) atribuído a um adaptador de rede permite a comunicação de entrada com uma máquina virtual a partir da Internet.</span><span class="sxs-lookup"><span data-stu-id="93ed6-107">A [Public IP address](virtual-network-public-ip-address.md) assigned to a network interface enables inbound communication to a virtual machine from the Internet.</span></span> <span data-ttu-id="93ed6-108">O endereço também permite a comunicação de saída da máquina virtual com a Internet usando um endereço IP previsível.</span><span class="sxs-lookup"><span data-stu-id="93ed6-108">The address also enables outbound communication from the virtual machine to the Internet using a predictable IP address.</span></span> <span data-ttu-id="93ed6-109">Para obter detalhes, confira [Entender as conexões de saída no Azure](../load-balancer/load-balancer-outbound-connections.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="93ed6-109">For details, see [Understanding outbound connections in Azure](../load-balancer/load-balancer-outbound-connections.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span> 

<span data-ttu-id="93ed6-110">Se você precisar criar, alterar ou excluir um adaptador de rede, leia o artigo [Gerenciar adaptadores de rede](virtual-network-network-interface.md).</span><span class="sxs-lookup"><span data-stu-id="93ed6-110">If you need to create, change, or delete a network interface, read the [Manage a network interface](virtual-network-network-interface.md) article.</span></span> <span data-ttu-id="93ed6-111">Se você precisar adicionar, ou remover, adaptadores de rede de uma máquina virtual, leia o artigo [Adicionar ou remover adaptadores de rede](virtual-network-network-interface-vm.md).</span><span class="sxs-lookup"><span data-stu-id="93ed6-111">If you need to add network interfaces to or remove network interfaces from a virtual machine, read the [Add or remove network interfaces](virtual-network-network-interface-vm.md) article.</span></span> 


## <a name="before-you-begin"></a><span data-ttu-id="93ed6-112">Antes de começar</span><span class="sxs-lookup"><span data-stu-id="93ed6-112">Before you begin</span></span>

<span data-ttu-id="93ed6-113">Conclua as seguintes tarefas antes de concluir quaisquer etapas em qualquer seção deste artigo:</span><span class="sxs-lookup"><span data-stu-id="93ed6-113">Complete the following tasks before completing any steps in any section of this article:</span></span>

- <span data-ttu-id="93ed6-114">Examine o artigo [Limites do Azure](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits) para saber mais sobre os limites para endereços IP públicos e privados.</span><span class="sxs-lookup"><span data-stu-id="93ed6-114">Review the [Azure limits](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits) article to learn about limits for public and private IP addresses.</span></span>
- <span data-ttu-id="93ed6-115">Faça logon no [Portal](https://portal.azure.com) do Azure, na CLI (interface de linha de comando) do Azure ou no Azure PowerShell com uma conta do Azure.</span><span class="sxs-lookup"><span data-stu-id="93ed6-115">Log in to the Azure [portal](https://portal.azure.com), Azure command-line interface (CLI), or Azure PowerShell with an Azure account.</span></span> <span data-ttu-id="93ed6-116">Caso ainda não tenha uma conta do Azure, inscreva-se para obter uma [conta de avaliação gratuita](https://azure.microsoft.com/free).</span><span class="sxs-lookup"><span data-stu-id="93ed6-116">If you don't already have an Azure account, sign up for a [free trial account](https://azure.microsoft.com/free).</span></span>
- <span data-ttu-id="93ed6-117">Se usar comandos do PowerShell para concluir as tarefas neste artigo, [instale e configure o Azure PowerShell](/powershell/azureps-cmdlets-docs?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="93ed6-117">If using PowerShell commands to complete tasks in this article, [install and configure Azure PowerShell](/powershell/azureps-cmdlets-docs?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span> <span data-ttu-id="93ed6-118">Verifique se você tem a versão mais recente dos commandlets do Azure PowerShell instalada.</span><span class="sxs-lookup"><span data-stu-id="93ed6-118">Ensure you have the most recent version of the Azure PowerShell commandlets installed.</span></span> <span data-ttu-id="93ed6-119">Para obter ajuda com os comandos do PowerShell, com exemplos, digite `get-help <command> -full`.</span><span class="sxs-lookup"><span data-stu-id="93ed6-119">To get help for PowerShell commands, with examples, type `get-help <command> -full`.</span></span>
- <span data-ttu-id="93ed6-120">Se você for usar os comandos da CLI (interface de linha de comando) do Azure para concluir as tarefas neste artigo, [instale e configure a CLI do Azure](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="93ed6-120">If using Azure command-line interface (CLI) commands to complete tasks in this article, [install and configure the Azure CLI](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span> <span data-ttu-id="93ed6-121">Verifique se você tem a versão mais recente da CLI do Azure instalada.</span><span class="sxs-lookup"><span data-stu-id="93ed6-121">Ensure you have the most recent version of the Azure CLI installed.</span></span> <span data-ttu-id="93ed6-122">Para obter ajuda sobre os comandos da CLI, digite `az <command> --help`.</span><span class="sxs-lookup"><span data-stu-id="93ed6-122">To get help for CLI commands, type `az <command> --help`.</span></span> <span data-ttu-id="93ed6-123">Em vez de instalar a CLI e seus pré-requisitos, use o Azure Cloud Shell.</span><span class="sxs-lookup"><span data-stu-id="93ed6-123">Rather than installing the CLI and its pre-requisites, you can use the Azure Cloud Shell.</span></span> <span data-ttu-id="93ed6-124">O Azure Cloud Shell é um shell Bash gratuito que podem ser executado diretamente no portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="93ed6-124">The Azure Cloud Shell is a free Bash shell that you can run directly within the Azure portal.</span></span> <span data-ttu-id="93ed6-125">Ele tem a CLI do Azure instalada e configurada para usar com sua conta.</span><span class="sxs-lookup"><span data-stu-id="93ed6-125">It has the Azure CLI preinstalled and configured to use with your account.</span></span> <span data-ttu-id="93ed6-126">Para usar o Cloud Shell, clique no botão **>_** do Cloud Shell na parte superior do [Portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="93ed6-126">To use the Cloud Shell, click the Cloud Shell **>_** button at the top of the [portal](https://portal.azure.com).</span></span>

## <a name="add-ip-addresses"></a><span data-ttu-id="93ed6-127">Adicionar endereços IP</span><span class="sxs-lookup"><span data-stu-id="93ed6-127">Add IP addresses</span></span>

<span data-ttu-id="93ed6-128">Você pode adicionar quantos endereços [IPv4](#ipv4) [privados](#private) e [públicos](#public) forem necessários a um adaptador de rede, desde que respeite os limites listados no artigo [Limites do Azure](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits).</span><span class="sxs-lookup"><span data-stu-id="93ed6-128">You can add as many [private](#private) and [public](#public) [IPv4](#ipv4) addresses as necessary to a network interface, within the limits listed in the [Azure limits](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits) article.</span></span> <span data-ttu-id="93ed6-129">Não é possível usar o portal para adicionar um endereço IPv6 a um adaptador de rede existente (embora seja possível usar o portal para adicionar um endereço IPv6 privado durante a criação do adaptador de rede).</span><span class="sxs-lookup"><span data-stu-id="93ed6-129">You cannot use the portal to add an IPv6 address to an existing network interface (though you can use the portal to add a private IPv6 address to a network interface when you create the network interface).</span></span> <span data-ttu-id="93ed6-130">Use o PowerShell ou a CLI para adicionar um endereço IPv6 privado a uma [configuração de IP secundário](#secondary) (desde que não haja uma configuração de IP secundário) de um adaptador de rede não anexado a uma máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="93ed6-130">You can use PowerShell or the CLI to add a private IPv6 address to one [secondary IP configuration](#secondary) (as long as there are no existing secondary IP configurations) for an existing network interface that is not attached to a virtual machine.</span></span> <span data-ttu-id="93ed6-131">Não é possível usar qualquer ferramenta para adicionar um endereço IPv6 público a um adaptador de rede.</span><span class="sxs-lookup"><span data-stu-id="93ed6-131">You cannot use any tool to add a public IPv6 address to a network interface.</span></span> <span data-ttu-id="93ed6-132">Confira [IPv6](#ipv6) para obter detalhes sobre como usar endereços IPv6.</span><span class="sxs-lookup"><span data-stu-id="93ed6-132">See [IPv6](#ipv6) for details about using IPv6 addresses.</span></span> 

1. <span data-ttu-id="93ed6-133">Faça logon no [portal do Azure](https://portal.azure.com) com uma conta que tenha, no mínimo, permissões para a função de Colaborador de rede para a sua assinatura.</span><span class="sxs-lookup"><span data-stu-id="93ed6-133">Log in to the [Azure portal](https://portal.azure.com) with an account that is assigned (at a minimum) permissions for the Network Contributor role for your subscription.</span></span> <span data-ttu-id="93ed6-134">Leia o artigo [Funções internas para o controle de acesso baseado em função do Azure](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) para saber mais sobre como atribuir funções e permissões às contas.</span><span class="sxs-lookup"><span data-stu-id="93ed6-134">Read the [Built-in roles for Azure role-based access control](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) article to learn more about assigning roles and permissions to accounts.</span></span>
2. <span data-ttu-id="93ed6-135">Na caixa que contém o texto *Pesquisar recursos*, na parte superior do portal do Azure, digite *adaptadores de rede*.</span><span class="sxs-lookup"><span data-stu-id="93ed6-135">In the box that contains the text *Search resources* at the top of the Azure portal, type *network interfaces*.</span></span> <span data-ttu-id="93ed6-136">Quando o texto **adaptadores de rede** aparecer nos resultados da pesquisa, clique nele.</span><span class="sxs-lookup"><span data-stu-id="93ed6-136">When **network interfaces** appears in the search results, click it.</span></span>
3. <span data-ttu-id="93ed6-137">Na folha **Adaptadores de rede** exibida, clique no adaptador de rede ao qual deseja adicionar um endereço IPv4.</span><span class="sxs-lookup"><span data-stu-id="93ed6-137">In the **Network interfaces** blade that appears, click the network interface you want to add an IPv4 address for.</span></span>
4. <span data-ttu-id="93ed6-138">Clique em **Configurações de IP** na seção **CONFIGURAÇÕES** da folha do adaptador de rede selecionado.</span><span class="sxs-lookup"><span data-stu-id="93ed6-138">Click **IP configurations** in the **SETTINGS** section of the blade for the network interface you selected.</span></span>
5. <span data-ttu-id="93ed6-139">Clique em **+ Adicionar** na folha de configurações de IP que é exibida.</span><span class="sxs-lookup"><span data-stu-id="93ed6-139">Click **+ Add** in the blade that opens for IP configurations.</span></span>
6. <span data-ttu-id="93ed6-140">Especifique o seguinte e clique em **OK** para fechar a folha **Adicionar configuração de IP**:</span><span class="sxs-lookup"><span data-stu-id="93ed6-140">Specify the following, then click **OK** to close the **Add IP configuration** blade:</span></span>

    |<span data-ttu-id="93ed6-141">Configuração</span><span class="sxs-lookup"><span data-stu-id="93ed6-141">Setting</span></span>|<span data-ttu-id="93ed6-142">Obrigatório?</span><span class="sxs-lookup"><span data-stu-id="93ed6-142">Required?</span></span>|<span data-ttu-id="93ed6-143">Detalhes</span><span class="sxs-lookup"><span data-stu-id="93ed6-143">Details</span></span>|
    |---|---|---|
    |<span data-ttu-id="93ed6-144">Nome</span><span class="sxs-lookup"><span data-stu-id="93ed6-144">Name</span></span>|<span data-ttu-id="93ed6-145">Sim</span><span class="sxs-lookup"><span data-stu-id="93ed6-145">Yes</span></span>|<span data-ttu-id="93ed6-146">Deve ser exclusivo ao adaptador de rede</span><span class="sxs-lookup"><span data-stu-id="93ed6-146">Must be unique for the network interface</span></span>|
    |<span data-ttu-id="93ed6-147">Tipo</span><span class="sxs-lookup"><span data-stu-id="93ed6-147">Type</span></span>|<span data-ttu-id="93ed6-148">Sim</span><span class="sxs-lookup"><span data-stu-id="93ed6-148">Yes</span></span>|<span data-ttu-id="93ed6-149">Como você está adicionando uma configuração de IP a um adaptador de rede existente, e cada adaptador de rede deve ter uma configuração de IP [primária](#primary), sua única opção é **Secundária**.</span><span class="sxs-lookup"><span data-stu-id="93ed6-149">Since you're adding an IP configuration to an existing network interface, and each network interface must have a [primary](#primary) IP configuration, your only option is **Secondary**.</span></span>|
    |<span data-ttu-id="93ed6-150">Método de atribuição de endereço IP privado</span><span class="sxs-lookup"><span data-stu-id="93ed6-150">Private IP address assignment method</span></span>|<span data-ttu-id="93ed6-151">Sim</span><span class="sxs-lookup"><span data-stu-id="93ed6-151">Yes</span></span>|<span data-ttu-id="93ed6-152">Os endereços [**dinâmicos**](#dynamic) podem mudar se a máquina virtual for reiniciada após permanecer em um estado de interrompida (desalocada).</span><span class="sxs-lookup"><span data-stu-id="93ed6-152">[**Dynamic**](#dynamic) addresses can change if the virtual machine is restarted after having been in the stopped (deallocated) state.</span></span> <span data-ttu-id="93ed6-153">O Azure atribui um endereço disponível do espaço de endereços da sub-rede à qual o adaptador de rede está conectado.</span><span class="sxs-lookup"><span data-stu-id="93ed6-153">Azure assigns an available address from the address space of the subnet the network interface is connected to.</span></span> <span data-ttu-id="93ed6-154">Os endereços [**estáticos**](#static) não serão liberados até que o adaptador de rede seja excluído.</span><span class="sxs-lookup"><span data-stu-id="93ed6-154">[**Static**](#static) addresses aren't released until the network interface is deleted.</span></span> <span data-ttu-id="93ed6-155">Especifique um endereço IP do intervalo de espaço de endereço da sub-rede que não esteja em uso por outra configuração de IP.</span><span class="sxs-lookup"><span data-stu-id="93ed6-155">Specify an IP address from the subnet address space range that is not currently in use by another IP configuration.</span></span>|
    |<span data-ttu-id="93ed6-156">Endereço IP público</span><span class="sxs-lookup"><span data-stu-id="93ed6-156">Public IP address</span></span>|<span data-ttu-id="93ed6-157">Não</span><span class="sxs-lookup"><span data-stu-id="93ed6-157">No</span></span>|<span data-ttu-id="93ed6-158">**Desabilitado:** no momento, nenhum recurso de endereço IP público está associado à configuração de IP.</span><span class="sxs-lookup"><span data-stu-id="93ed6-158">**Disabled:** No public IP address resource is currently associated to the IP configuration.</span></span> <span data-ttu-id="93ed6-159">**Habilitado:** selecione um endereço IP público IPv4 existente ou crie um novo.</span><span class="sxs-lookup"><span data-stu-id="93ed6-159">**Enabled:** Select an existing IPv4 Public IP address, or create a new one.</span></span> <span data-ttu-id="93ed6-160">Para saber como criar um endereço IP público, leia o artigo [Endereços IP públicos](virtual-network-public-ip-address.md#create-a-public-ip-address).</span><span class="sxs-lookup"><span data-stu-id="93ed6-160">To learn how to create a public IP address, read the [Public IP addresses](virtual-network-public-ip-address.md#create-a-public-ip-address) article.</span></span>|
7. <span data-ttu-id="93ed6-161">Adicione manualmente endereços IP privados secundários ao sistema operacional da máquina virtual seguindo as instruções do artigo [Como atribuir vários endereços IP a sistemas operacionais de máquina virtual](virtual-network-multiple-ip-addresses-portal.md#os-config).</span><span class="sxs-lookup"><span data-stu-id="93ed6-161">Manually add secondary private IP addresses to the virtual machine operating system by completing the instructions in the [Assign multiple IP addresses to virtual machine operating systems](virtual-network-multiple-ip-addresses-portal.md#os-config) article.</span></span> <span data-ttu-id="93ed6-162">Confira endereços IP [privados](#private) para ver considerações especiais antes de adicionar manualmente os endereços IP ao sistema operacional de uma máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="93ed6-162">See [private](#private) IP addresses for special considerations before manually adding IP addresses to a virtual machine operating system.</span></span> <span data-ttu-id="93ed6-163">Não adicione endereços IP públicos ao sistema operacional da máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="93ed6-163">Do not add any public IP addresses to the virtual machine operating system.</span></span>

<span data-ttu-id="93ed6-164">**Comandos**</span><span class="sxs-lookup"><span data-stu-id="93ed6-164">**Commands**</span></span>

|<span data-ttu-id="93ed6-165">Ferramenta</span><span class="sxs-lookup"><span data-stu-id="93ed6-165">Tool</span></span>|<span data-ttu-id="93ed6-166">Command</span><span class="sxs-lookup"><span data-stu-id="93ed6-166">Command</span></span>|
|---|---|
|<span data-ttu-id="93ed6-167">CLI</span><span class="sxs-lookup"><span data-stu-id="93ed6-167">CLI</span></span>|[<span data-ttu-id="93ed6-168">az network nic ip-config create</span><span class="sxs-lookup"><span data-stu-id="93ed6-168">az network nic ip-config create</span></span>](/cli/azure/network/nic/ip-config?toc=%2fazure%2fvirtual-network%2ftoc.json#create)|
|<span data-ttu-id="93ed6-169">PowerShell</span><span class="sxs-lookup"><span data-stu-id="93ed6-169">PowerShell</span></span>|[<span data-ttu-id="93ed6-170">Add-AzureRmNetworkInterfaceIpConfig</span><span class="sxs-lookup"><span data-stu-id="93ed6-170">Add-AzureRmNetworkInterfaceIpConfig</span></span>](/powershell/module/azurerm.network/add-azurermnetworkinterfaceipconfig?toc=%2fazure%2fvirtual-network%2ftoc.json)|

## <a name="change-ip-address-settings"></a><span data-ttu-id="93ed6-171">Alterar configurações de endereço IP</span><span class="sxs-lookup"><span data-stu-id="93ed6-171">Change IP address settings</span></span>

<span data-ttu-id="93ed6-172">Você pode precisar alterar o método de atribuição de endereço IPv4, alterar o endereço IPv4 estático ou alterar o endereço IP público atribuído a um adaptador de rede.</span><span class="sxs-lookup"><span data-stu-id="93ed6-172">You may need to change the assignment method of an IPv4 address, change the static IPv4 address, or change the public IP address assigned to a network interface.</span></span> <span data-ttu-id="93ed6-173">Se você estiver alterando o endereço IPv4 privado de uma configuração de IP secundário associada a um adaptador de rede secundário em uma máquina virtual (saiba mais sobre [adaptadores de rede primário e secundário](virtual-network-network-interface-vm.md#about)), coloque a máquina virtual no estado interrompido (desalocado) antes de concluir as etapas a seguir:</span><span class="sxs-lookup"><span data-stu-id="93ed6-173">If you're changing the private IPv4 address of a secondary IP configuration associated with a secondary network interface in a virtual machine (learn more about [primary and secondary network interfaces](virtual-network-network-interface-vm.md#about)), place the virtual machine into the stopped (deallocated) state before completing the following steps:</span></span> 

1. <span data-ttu-id="93ed6-174">Faça logon no [portal do Azure](https://portal.azure.com) com uma conta que tenha, no mínimo, permissões para a função de Colaborador de rede para a sua assinatura.</span><span class="sxs-lookup"><span data-stu-id="93ed6-174">Log in to the [Azure portal](https://portal.azure.com) with an account that is assigned (at a minimum) permissions for the Network Contributor role for your subscription.</span></span> <span data-ttu-id="93ed6-175">Leia o artigo [Funções internas para o controle de acesso baseado em função do Azure](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) para saber mais sobre como atribuir funções e permissões às contas.</span><span class="sxs-lookup"><span data-stu-id="93ed6-175">Read the [Built-in roles for Azure role-based access control](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) article to learn more about assigning roles and permissions to accounts.</span></span>
2. <span data-ttu-id="93ed6-176">Na caixa que contém o texto *Pesquisar recursos*, na parte superior do portal do Azure, digite *adaptadores de rede*.</span><span class="sxs-lookup"><span data-stu-id="93ed6-176">In the box that contains the text *Search resources* at the top of the Azure portal, type *network interfaces*.</span></span> <span data-ttu-id="93ed6-177">Quando o texto **adaptadores de rede** aparecer nos resultados da pesquisa, clique nele.</span><span class="sxs-lookup"><span data-stu-id="93ed6-177">When **network interfaces** appears in the search results, click it.</span></span>
3. <span data-ttu-id="93ed6-178">Na folha **Adaptadores de rede** que aparece, clique no adaptador de rede que você deseja exibir ou do qual deseja alterar as configurações de endereço IP.</span><span class="sxs-lookup"><span data-stu-id="93ed6-178">In the **Network interfaces** blade that appears, click the network interface you want to view or change IP address settings for.</span></span>
4. <span data-ttu-id="93ed6-179">Clique em **Configurações de IP** na seção **CONFIGURAÇÕES** da folha do adaptador de rede selecionado.</span><span class="sxs-lookup"><span data-stu-id="93ed6-179">Click **IP configurations** in the **SETTINGS** section of the blade for the network interface you selected.</span></span>
5. <span data-ttu-id="93ed6-180">Clique na configuração de IP que você deseja modificar na lista da folha que será aberta para as configurações de IP.</span><span class="sxs-lookup"><span data-stu-id="93ed6-180">Click the IP configuration you want to modify from the list in the blade that opens for IP configurations.</span></span>
6. <span data-ttu-id="93ed6-181">Altere as configurações, conforme desejado, usando as informações sobre as configurações na etapa 6 da seção [Adicionar uma configuração de IP](#create-ip-config) deste artigo.</span><span class="sxs-lookup"><span data-stu-id="93ed6-181">Change the settings, as desired, using the information about the settings in step 6 of the [Add an IP configuration](#create-ip-config) section of this article.</span></span> <span data-ttu-id="93ed6-182">Clique em **Salvar** para fechar a folha de configuração de IP alterada.</span><span class="sxs-lookup"><span data-stu-id="93ed6-182">Click **Save** to close the blade for the IP configuration you changed.</span></span>

>[!NOTE]
><span data-ttu-id="93ed6-183">Se o adaptador de rede primário tiver várias configurações de IP, e você alterar o endereço IP privado da configuração de IP primário, será necessário reatribuir manualmente todos os endereços IP secundários para o adaptador de rede no Windows (isso não é necessário para Linux).</span><span class="sxs-lookup"><span data-stu-id="93ed6-183">If the primary network interface has multiple IP configurations and you change the private IP address of the primary IP configuration, you must manually reassign the primary and secondary IP addresses to the network interface within Windows (not required for Linux).</span></span> <span data-ttu-id="93ed6-184">Para atribuir manualmente endereços IP a um adaptador de rede em um sistema operacional, leia o artigo [Como atribuir vários endereços IP a máquinas virtuais](virtual-network-multiple-ip-addresses-portal.md#os-config).</span><span class="sxs-lookup"><span data-stu-id="93ed6-184">To manually assign IP addresses to a network interface within an operating system, read the [Assign multiple IP addresses to virtual machines](virtual-network-multiple-ip-addresses-portal.md#os-config) article.</span></span> <span data-ttu-id="93ed6-185">Confira endereços IP [privados](#private) para ver considerações especiais antes de adicionar manualmente os endereços IP ao sistema operacional de uma máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="93ed6-185">See [private](#private) IP addresses for special considerations before manually adding IP addresses to a virtual machine operating system.</span></span> <span data-ttu-id="93ed6-186">Não adicione endereços IP públicos ao sistema operacional da máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="93ed6-186">Do not add any public IP addresses to the virtual machine operating system.</span></span>

<span data-ttu-id="93ed6-187">**Comandos**</span><span class="sxs-lookup"><span data-stu-id="93ed6-187">**Commands**</span></span>

|<span data-ttu-id="93ed6-188">Ferramenta</span><span class="sxs-lookup"><span data-stu-id="93ed6-188">Tool</span></span>|<span data-ttu-id="93ed6-189">Command</span><span class="sxs-lookup"><span data-stu-id="93ed6-189">Command</span></span>|
|---|---|
|<span data-ttu-id="93ed6-190">CLI</span><span class="sxs-lookup"><span data-stu-id="93ed6-190">CLI</span></span>|[<span data-ttu-id="93ed6-191">az network nic ip-config update</span><span class="sxs-lookup"><span data-stu-id="93ed6-191">az network nic ip-config update</span></span>](/cli/azure/network/nic/ip-config?toc=%2fazure%2fvirtual-network%2ftoc.json#update)|
|<span data-ttu-id="93ed6-192">PowerShell</span><span class="sxs-lookup"><span data-stu-id="93ed6-192">PowerShell</span></span>|[<span data-ttu-id="93ed6-193">Set-AzureRMNetworkInterfaceIpConfig</span><span class="sxs-lookup"><span data-stu-id="93ed6-193">Set-AzureRMNetworkInterfaceIpConfig</span></span>](/powershell/module/azurerm.network/set-azurermnetworkinterfaceipconfig?toc=%2fazure%2fvirtual-network%2ftoc.json)|

## <a name="remove-ip-addresses"></a><span data-ttu-id="93ed6-194">Remover endereços IP</span><span class="sxs-lookup"><span data-stu-id="93ed6-194">Remove IP addresses</span></span>

<span data-ttu-id="93ed6-195">Você pode remover endereços IP [privados](#private) e [públicos ](#public) de um adaptador de rede, mas um adaptador de rede deve sempre ter pelo menos um endereço IPv4 privado atribuído a ele.</span><span class="sxs-lookup"><span data-stu-id="93ed6-195">You can remove [private](#private) and [public](#public) IP addresses from a network interface, but a network interface must always have at least one private IPv4 address assigned to it.</span></span>

1. <span data-ttu-id="93ed6-196">Faça logon no [portal do Azure](https://portal.azure.com) com uma conta que tenha, no mínimo, permissões para a função de Colaborador de rede para a sua assinatura.</span><span class="sxs-lookup"><span data-stu-id="93ed6-196">Log in to the [Azure portal](https://portal.azure.com) with an account that is assigned (at a minimum) permissions for the Network Contributor role for your subscription.</span></span> <span data-ttu-id="93ed6-197">Leia o artigo [Funções internas para o controle de acesso baseado em função do Azure](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) para saber mais sobre como atribuir funções e permissões às contas.</span><span class="sxs-lookup"><span data-stu-id="93ed6-197">Read the [Built-in roles for Azure role-based access control](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) article to learn more about assigning roles and permissions to accounts.</span></span>
2. <span data-ttu-id="93ed6-198">Na caixa que contém o texto *Pesquisar recursos*, na parte superior do portal do Azure, digite *adaptadores de rede*.</span><span class="sxs-lookup"><span data-stu-id="93ed6-198">In the box that contains the text *Search resources* at the top of the Azure portal, type *network interfaces*.</span></span> <span data-ttu-id="93ed6-199">Quando o texto **adaptadores de rede** aparecer nos resultados da pesquisa, clique nele.</span><span class="sxs-lookup"><span data-stu-id="93ed6-199">When **network interfaces** appears in the search results, click it.</span></span>
3. <span data-ttu-id="93ed6-200">Na folha **Adaptadores de rede** exibida, clique no adaptador de rede do qual você deseja remover endereços IP.</span><span class="sxs-lookup"><span data-stu-id="93ed6-200">In the **Network interfaces** blade that appears, click the network interface you want to remove IP addresses from.</span></span>
4. <span data-ttu-id="93ed6-201">Clique em **Configurações de IP** na seção **CONFIGURAÇÕES** da folha do adaptador de rede selecionado.</span><span class="sxs-lookup"><span data-stu-id="93ed6-201">Click **IP configurations** in the **SETTINGS** section of the blade for the network interface you selected.</span></span>
5. <span data-ttu-id="93ed6-202">Clique com o botão direito em uma configuração de IP [secundária](#secondary) (não é possível excluir a configuração [primária](#primary)) que você deseja excluir, clique em **Excluir** e, depois, clique em **Sim** para confirmar a exclusão.</span><span class="sxs-lookup"><span data-stu-id="93ed6-202">Right-click a [secondary](#secondary) IP configuration (you cannot delete the [primary](#primary) configuration) you want to delete, click **Delete**, then click **Yes** to confirm the deletion.</span></span> <span data-ttu-id="93ed6-203">Se a configuração tem um recurso de endereço IP público associado a ela, o recurso é dissociado da configuração de IP, mas o recurso não é excluído.</span><span class="sxs-lookup"><span data-stu-id="93ed6-203">If the configuration had a public IP address resource associated to it, the resource is dissociated from the IP configuration, but the resource is not deleted.</span></span>
6. <span data-ttu-id="93ed6-204">Feche a folha das **configurações de IP**.</span><span class="sxs-lookup"><span data-stu-id="93ed6-204">Close the **IP configurations** blade.</span></span>

<span data-ttu-id="93ed6-205">**Comandos**</span><span class="sxs-lookup"><span data-stu-id="93ed6-205">**Commands**</span></span>

|<span data-ttu-id="93ed6-206">Ferramenta</span><span class="sxs-lookup"><span data-stu-id="93ed6-206">Tool</span></span>|<span data-ttu-id="93ed6-207">Command</span><span class="sxs-lookup"><span data-stu-id="93ed6-207">Command</span></span>|
|---|---|
|<span data-ttu-id="93ed6-208">CLI</span><span class="sxs-lookup"><span data-stu-id="93ed6-208">CLI</span></span>|[<span data-ttu-id="93ed6-209">az network nic ip-config delete</span><span class="sxs-lookup"><span data-stu-id="93ed6-209">az network nic ip-config delete</span></span>](/cli/azure/network/nic/ip-config?toc=%2fazure%2fvirtual-network%2ftoc.json#delete)|
|<span data-ttu-id="93ed6-210">PowerShell</span><span class="sxs-lookup"><span data-stu-id="93ed6-210">PowerShell</span></span>|[<span data-ttu-id="93ed6-211">Remove-AzureRmNetworkInterfaceIpConfig</span><span class="sxs-lookup"><span data-stu-id="93ed6-211">Remove-AzureRmNetworkInterfaceIpConfig</span></span>](/powershell/module/azurerm.network/remove-azurermnetworkinterfaceipconfig?toc=%2fazure%2fvirtual-network%2ftoc.json)|

## <a name="ip-configurations"></a><span data-ttu-id="93ed6-212">Configurações de IP</span><span class="sxs-lookup"><span data-stu-id="93ed6-212">IP configurations</span></span>

<span data-ttu-id="93ed6-213">Os endereços IP [privados](#private) e (opcionalmente) [públicos](#public) são atribuídos a uma ou mais configurações de IP atribuídas a um adaptador de rede.</span><span class="sxs-lookup"><span data-stu-id="93ed6-213">[Private](#private) and (optionally) [public](#public) IP addresses are assigned to one or more IP configurations assigned to a network interface.</span></span> <span data-ttu-id="93ed6-214">Há dois tipos de configurações de IP:</span><span class="sxs-lookup"><span data-stu-id="93ed6-214">There are two types of IP configurations:</span></span>

### <a name="primary"></a><span data-ttu-id="93ed6-215">Primário</span><span class="sxs-lookup"><span data-stu-id="93ed6-215">Primary</span></span>

<span data-ttu-id="93ed6-216">Cada adaptador de rede recebe uma configuração de IP primário.</span><span class="sxs-lookup"><span data-stu-id="93ed6-216">Each network interface is assigned one primary IP configuration.</span></span> <span data-ttu-id="93ed6-217">Uma configuração de IP primário:</span><span class="sxs-lookup"><span data-stu-id="93ed6-217">A primary IP configuration:</span></span>

- <span data-ttu-id="93ed6-218">Tem um endereço [privado](#private) [IPv4](#ipv4) atribuído a ela.</span><span class="sxs-lookup"><span data-stu-id="93ed6-218">Has a [private](#private) [IPv4](#ipv4) address assigned to it.</span></span> <span data-ttu-id="93ed6-219">Não é possível atribuir um endereço [IPv6](#ipv6) privado a uma configuração de IP primário.</span><span class="sxs-lookup"><span data-stu-id="93ed6-219">You cannot assign a private [IPv6](#ipv6) address to a primary IP configuration.</span></span>
- <span data-ttu-id="93ed6-220">Também pode ter tem um endereço IPv4 [público](#public) atribuído a ela.</span><span class="sxs-lookup"><span data-stu-id="93ed6-220">May also have a [public](#public) IPv4 address assigned to it.</span></span> <span data-ttu-id="93ed6-221">Não é possível atribuir um endereço IPv6 público a uma configuração de IP secundário.</span><span class="sxs-lookup"><span data-stu-id="93ed6-221">You cannot assign a public IPv6 address to a primary or secondary IP configuration.</span></span> <span data-ttu-id="93ed6-222">No entanto, você pode atribuir um endereço IPv6 público a um balanceador de carga do Azure, que pode equilibrar o tráfego para o endereço IPv6 privado de uma máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="93ed6-222">You can however, assign a public IPv6 address to an Azure load balancer, which can load balance traffic to a virtual machine's private IPv6 address.</span></span> <span data-ttu-id="93ed6-223">Para saber mais, confira [detalhes e limitações do IPv6](../load-balancer/load-balancer-ipv6-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json#details-and-limitations).</span><span class="sxs-lookup"><span data-stu-id="93ed6-223">For more information, see [details and limitations for IPv6](../load-balancer/load-balancer-ipv6-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json#details-and-limitations).</span></span>

### <a name="secondary"></a><span data-ttu-id="93ed6-224">Secundário</span><span class="sxs-lookup"><span data-stu-id="93ed6-224">Secondary</span></span>

<span data-ttu-id="93ed6-225">Além de uma configuração de IP primário, um adaptador de rede pode ter várias ou nenhuma configuração de IP secundário atribuída a ele.</span><span class="sxs-lookup"><span data-stu-id="93ed6-225">In addition to a primary IP configuration, a network interface may have zero or more secondary IP configurations assigned to it.</span></span> <span data-ttu-id="93ed6-226">Uma configuração de IP secundário:</span><span class="sxs-lookup"><span data-stu-id="93ed6-226">A secondary IP configuration:</span></span>

- <span data-ttu-id="93ed6-227">Deve ter um endereço IPv4 ou IPv6 privado atribuído a ela.</span><span class="sxs-lookup"><span data-stu-id="93ed6-227">Must have a private IPv4 or IPv6 address assigned to it.</span></span> <span data-ttu-id="93ed6-228">Se o endereço for IPv6, o adaptador de rede poderá ter apenas uma configuração de IP secundário.</span><span class="sxs-lookup"><span data-stu-id="93ed6-228">If the address is IPv6, the network interface can only have one secondary IP configuration.</span></span> <span data-ttu-id="93ed6-229">Se o endereço for IPv4, o adaptador de rede poderá ter várias configurações de IP secundário atribuídas a ele.</span><span class="sxs-lookup"><span data-stu-id="93ed6-229">If the address is IPv4, the network interface may have multiple secondary IP configurations assigned to it.</span></span> <span data-ttu-id="93ed6-230">Para saber mais sobre quantos endereços IPv4 públicos e privados podem ser atribuídos a um adaptador de rede, confira o artigo [Limites do Azure](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits).</span><span class="sxs-lookup"><span data-stu-id="93ed6-230">To learn more about how many private and public IPv4 addresses can be assigned to a network interface, see the [Azure limits](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits) article.</span></span>  
- <span data-ttu-id="93ed6-231">Também pode ter um endereço IPv4 público atribuído a ela, se o endereço IP privado for IPv4.</span><span class="sxs-lookup"><span data-stu-id="93ed6-231">May also have a public IPv4 address assigned to it, if the private IP address is IPv4.</span></span> <span data-ttu-id="93ed6-232">Se o endereço IP privado for IPv6, não será possível atribuir um endereço IPv4 ou IPv6 público para a configuração de IP.</span><span class="sxs-lookup"><span data-stu-id="93ed6-232">If the private IP address is IPv6, you cannot assign a public IPv4 or IPv6 address to the IP configuration.</span></span> <span data-ttu-id="93ed6-233">Atribuir vários endereços IP a um adaptador de rede é útil em cenários como:</span><span class="sxs-lookup"><span data-stu-id="93ed6-233">Assigning multiple IP addresses to a network interface is helpful in scenarios such as:</span></span>
    - <span data-ttu-id="93ed6-234">Hospede vários sites ou serviços com diferentes endereços IP e os certificados SSL em um único servidor.</span><span class="sxs-lookup"><span data-stu-id="93ed6-234">Hosting multiple websites or services with different IP addresses and SSL certificates on a single server.</span></span>
    - <span data-ttu-id="93ed6-235">Uma máquina virtual usada como dispositivo de rede virtual, como um firewall ou balanceador de carga.</span><span class="sxs-lookup"><span data-stu-id="93ed6-235">A virtual machine serving as a network virtual appliance, such as a firewall or load balancer.</span></span>
    - <span data-ttu-id="93ed6-236">A capacidade de adicionar qualquer um dos endereços IPv4 privados para qualquer um dos adaptadores de rede a um pool de back-ends do Azure Load Balancer.</span><span class="sxs-lookup"><span data-stu-id="93ed6-236">The ability to add any of the private IPv4 addresses for any of the network interfaces to an Azure Load Balancer back-end pool.</span></span> <span data-ttu-id="93ed6-237">No passado, somente o endereço IPv4 primário para o adaptador de rede primário podia ser adicionado a um pool de back-end.</span><span class="sxs-lookup"><span data-stu-id="93ed6-237">In the past, only the primary IPv4 address for the primary network interface could be added to a back-end pool.</span></span> <span data-ttu-id="93ed6-238">Para saber mais sobre como balancear a carga de várias configurações de IPv4, confira o artigo [Balanceamento de carga de várias configurações de IP](../load-balancer/load-balancer-multiple-ip.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="93ed6-238">To learn more about how to load balance multiple IPv4 configurations, see the [Load balancing multiple IP configurations](../load-balancer/load-balancer-multiple-ip.md?toc=%2fazure%2fvirtual-network%2ftoc.json) article.</span></span> 
    - <span data-ttu-id="93ed6-239">A capacidade de balancear a carga de um endereço IPv6 atribuído a um adaptador de rede.</span><span class="sxs-lookup"><span data-stu-id="93ed6-239">The ability to load balance one IPv6 address assigned to a network interface.</span></span> <span data-ttu-id="93ed6-240">Para saber mais sobre como balancear a carga de um endereço IPv6, confira o artigo [Balancear a carga de endereços IPv6](../load-balancer/load-balancer-ipv6-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="93ed6-240">To learn more about how to load balance to a private IPv6 address, see the [Load balance IPv6 addresses](../load-balancer/load-balancer-ipv6-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json) article.</span></span>


## <a name="address-types"></a><span data-ttu-id="93ed6-241">Tipos de endereço</span><span class="sxs-lookup"><span data-stu-id="93ed6-241">Address types</span></span>

<span data-ttu-id="93ed6-242">Você pode atribuir os seguintes tipos de endereços IP a uma [configuração de IP](#ip-configurations):</span><span class="sxs-lookup"><span data-stu-id="93ed6-242">You can assign the following types of IP addresses to an [IP configuration](#ip-configurations):</span></span>

### <a name="private"></a><span data-ttu-id="93ed6-243">Privado</span><span class="sxs-lookup"><span data-stu-id="93ed6-243">Private</span></span>

<span data-ttu-id="93ed6-244">Os endereços [IPv4](#ipv4) privados permitem que uma máquina virtual se comunique com outros recursos em uma rede virtual ou outras redes conectadas.</span><span class="sxs-lookup"><span data-stu-id="93ed6-244">Private [IPv4](#ipv4) addresses enable a virtual machine to communicate with other resources in a virtual network or other connected networks.</span></span> <span data-ttu-id="93ed6-245">Uma máquina virtual não pode se comunicar internamente, nem externamente com um endereço [IPv6](#ipv6) privado, com uma exceção.</span><span class="sxs-lookup"><span data-stu-id="93ed6-245">A virtual machine cannot be communicated inbound to, nor can the virtual machine communicate outbound with a private [IPv6](#ipv6) address, with one exception.</span></span> <span data-ttu-id="93ed6-246">Uma máquina virtual pode se comunicar com o balanceador de carga do Azure usando um endereço IPv6.</span><span class="sxs-lookup"><span data-stu-id="93ed6-246">A virtual machine can communicate with the Azure load balancer using an IPv6 address.</span></span> <span data-ttu-id="93ed6-247">Para saber mais, confira [detalhes e limitações do IPv6](../load-balancer/load-balancer-ipv6-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json#details-and-limitations).</span><span class="sxs-lookup"><span data-stu-id="93ed6-247">For more information, see [details and limitations for IPv6](../load-balancer/load-balancer-ipv6-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json#details-and-limitations).</span></span> 

<span data-ttu-id="93ed6-248">Por padrão, os servidores DHCP do Azure atribuem o endereço IPv4 privado à [configuração de IP primário](#primary) do adaptador de rede ao adaptador de rede dentro do sistema operacional da máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="93ed6-248">By default, the Azure DHCP servers assign the private IPv4 address for the [primary IP configuration](#primary) of the network interface to the network interface within the virtual machine operating system.</span></span> <span data-ttu-id="93ed6-249">A menos que seja necessário, nunca defina manualmente o endereço IP de um adaptador de rede no sistema operacional da máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="93ed6-249">Unless necessary, you should never manually set the IP address of a network interface within the virtual machine's operating system.</span></span> 

> [!WARNING]
> <span data-ttu-id="93ed6-250">Se o endereço IPv4 definido como o endereço IP primário de um adaptador de rede no sistema operacional de uma máquina virtual for sempre diferente de endereço IPv4 privado atribuído à configuração de IP primário do adaptador de rede primário anexado a uma máquina virtual no Azure, você perderá a conectividade com a máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="93ed6-250">If the IPv4 address set as the primary IP address of a network interface within a virtual machine's operating system is ever different than the private IPv4 address assigned to the primary IP configuration of the primary network interface attached to a virtual machine within Azure, you lose connectivity to the virtual machine.</span></span>

<span data-ttu-id="93ed6-251">Há cenários nos quais é necessário definir manualmente o endereço IP de um adaptador de rede no sistema operacional da máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="93ed6-251">There are scenarios where it's necessary to manually set the IP address of a network interface within the virtual machine's operating system.</span></span> <span data-ttu-id="93ed6-252">Por exemplo, você deve definir manualmente os endereços IP primários e secundários de um sistema operacional Windows ao adicionar vários endereços IP a uma máquina virtual do Azure.</span><span class="sxs-lookup"><span data-stu-id="93ed6-252">For example, you must manually set the primary and secondary IP addresses of a Windows operating system when adding multiple IP addresses to an Azure virtual machine.</span></span> <span data-ttu-id="93ed6-253">Para uma máquina virtual Linux, talvez você só precise definir manualmente os endereços IP secundários.</span><span class="sxs-lookup"><span data-stu-id="93ed6-253">For a Linux virtual machine, you may only need to manually set the secondary IP addresses.</span></span> <span data-ttu-id="93ed6-254">Confira [Adicionar endereços IP a um sistema operacional de VM](virtual-network-multiple-ip-addresses-portal.md#os-config) para obter detalhes.</span><span class="sxs-lookup"><span data-stu-id="93ed6-254">See [Add IP addresses to a VM operating system](virtual-network-multiple-ip-addresses-portal.md#os-config) for details.</span></span> <span data-ttu-id="93ed6-255">Quando você define manualmente o endereço IP dentro do sistema operacional, é recomendável sempre atribuir os endereços à configuração de IP de um adaptador de rede usando o método estático (em vez de dinâmico) de atribuição.</span><span class="sxs-lookup"><span data-stu-id="93ed6-255">When you manually set the IP address within the operating system, it's recommended that you always assign the addresses to the IP configuration for a network interface using the static (rather than dynamic) assignment method.</span></span> <span data-ttu-id="93ed6-256">A atribuição do endereço usando o método estático assegura que o endereço não mude no Azure.</span><span class="sxs-lookup"><span data-stu-id="93ed6-256">Assigning the address using the static method ensures that the address does not change within Azure.</span></span> <span data-ttu-id="93ed6-257">Se algum dia você precisar alterar o endereço atribuído a uma configuração de IP, é recomendável que você:</span><span class="sxs-lookup"><span data-stu-id="93ed6-257">If you ever need to change the address assigned to an IP configuration, it's recommended that you:</span></span>

1. <span data-ttu-id="93ed6-258">A fim de garantir que a máquina virtual receba um endereço de servidores DHCP do Azure, altere a atribuição do endereço IP novamente para DHCP dentro do sistema operacional e reinicie a máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="93ed6-258">To ensure the virtual machine is receiving an address from the Azure DHCP servers, change the assignment of the IP address back to DHCP within the operating system and restart the virtual machine.</span></span>
2. <span data-ttu-id="93ed6-259">Interrompa (desaloque) a máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="93ed6-259">Stop (deallocate) the virtual machine.</span></span>
3. <span data-ttu-id="93ed6-260">Altere o endereço IP da configuração de IP no Azure.</span><span class="sxs-lookup"><span data-stu-id="93ed6-260">Change the IP address for the IP configuration within Azure.</span></span>
4. <span data-ttu-id="93ed6-261">Iniciar a máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="93ed6-261">Start the virtual machine.</span></span>
5. <span data-ttu-id="93ed6-262">[Configure manualmente](virtual-network-multiple-ip-addresses-portal.md#os-config) os endereços IP secundários dentro do sistema operacional (e também o endereço IP primário no Windows) para corresponder com o que você definiu no Azure.</span><span class="sxs-lookup"><span data-stu-id="93ed6-262">[Manually configure](virtual-network-multiple-ip-addresses-portal.md#os-config) the secondary IP addresses within the operating system (and also the primary IP address within Windows) to match what you set within Azure.</span></span>
 
<span data-ttu-id="93ed6-263">Com as etapas anteriores, o endereço IP atribuído ao adaptador de rede no Azure, e no sistema de operacional de uma máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="93ed6-263">By following the previous steps, the private IP address assigned to the network interface within Azure, and within a virtual machine's operating system, remain the same.</span></span> <span data-ttu-id="93ed6-264">Para controlar em quais máquinas virtuais dentro de sua assinatura você definiu manualmente os endereços IP dentro de um sistema operacional, considere a adição de uma [marca](../azure-resource-manager/resource-group-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json#tags) do Azure às máquinas virtuais.</span><span class="sxs-lookup"><span data-stu-id="93ed6-264">To keep track of which virtual machines within your subscription that you've manually set IP addresses within an operating system for, consider adding an Azure [tag](../azure-resource-manager/resource-group-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json#tags) to the virtual machines.</span></span> <span data-ttu-id="93ed6-265">Você pode usar "Atribuição de endereço IP: estático", por exemplo.</span><span class="sxs-lookup"><span data-stu-id="93ed6-265">You might use "IP address assignment: Static", for example.</span></span> <span data-ttu-id="93ed6-266">Dessa forma, você pode localizar facilmente, dentro de sua assinatura, as máquinas virtuais para as quais você definiu manualmente o endereço IP para dentro do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="93ed6-266">This way, you can easily find the virtual machines within your subscription that you've manually set the IP address for within the operating system.</span></span>

<span data-ttu-id="93ed6-267">Além de permitir que uma máquina virtual se comunique com outros recursos na mesma rede, ou em redes virtuais conectadas, um endereço IP privado também permite que uma máquina virtual se comunique externamente com a Internet.</span><span class="sxs-lookup"><span data-stu-id="93ed6-267">In addition to enabling a virtual machine to communicate with other resources within the same, or connected virtual networks, a private IP address also enables a virtual machine to communicate outbound to the Internet.</span></span> <span data-ttu-id="93ed6-268">Conexões de saída são endereços de rede de origem convertidos pelo Azure em um endereço IP público imprevisível.</span><span class="sxs-lookup"><span data-stu-id="93ed6-268">Outbound connections are source network address translated by Azure to an unpredictable public IP address.</span></span> <span data-ttu-id="93ed6-269">Para saber mais sobre a conectividade de Internet de saída do Azure, leia o artigo [Conectividade de Internet de saída do Azure](../load-balancer/load-balancer-outbound-connections.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="93ed6-269">To learn more about Azure outbound Internet connectivity, read the [Azure outbound Internet connectivity](../load-balancer/load-balancer-outbound-connections.md?toc=%2fazure%2fvirtual-network%2ftoc.json) article.</span></span> <span data-ttu-id="93ed6-270">Você não pode realizar comunicação de entrada com o endereço IP privado de uma máquina virtual pela Internet.</span><span class="sxs-lookup"><span data-stu-id="93ed6-270">You cannot communicate inbound to a virtual machine's private IP address from the Internet.</span></span>

### <a name="public"></a><span data-ttu-id="93ed6-271">Público</span><span class="sxs-lookup"><span data-stu-id="93ed6-271">Public</span></span>

<span data-ttu-id="93ed6-272">Os endereços IP públicos habilitam a conectividade de entrada para uma máquina virtual da Internet.</span><span class="sxs-lookup"><span data-stu-id="93ed6-272">Public IP addresses enable inbound connectivity to a virtual machine from the Internet.</span></span> <span data-ttu-id="93ed6-273">As conexões de saída com a Internet usam um endereço IP previsível.</span><span class="sxs-lookup"><span data-stu-id="93ed6-273">Outbound connections to the Internet use a predictable IP address.</span></span> <span data-ttu-id="93ed6-274">Para obter detalhes, confira [Entender as conexões de saída no Azure](../load-balancer/load-balancer-outbound-connections.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="93ed6-274">See [Understanding outbound connections in Azure](../load-balancer/load-balancer-outbound-connections.md?toc=%2fazure%2fvirtual-network%2ftoc.json) for details.</span></span> <span data-ttu-id="93ed6-275">Você pode atribuir um endereço IP público a uma configuração de IP, mas isso não é necessário.</span><span class="sxs-lookup"><span data-stu-id="93ed6-275">You may assign a public IP address to an IP configuration, but aren't required to.</span></span> <span data-ttu-id="93ed6-276">Se você não atribuir um endereço IP público a uma máquina virtual, ela ainda poderá se comunicar externamente com a Internet usando seu endereço IP privado.</span><span class="sxs-lookup"><span data-stu-id="93ed6-276">If you don't assign a public IP address to a virtual machine, it can still communicate outbound to the Internet using its private IP address.</span></span> <span data-ttu-id="93ed6-277">Para saber mais sobre endereços IP públicos, leia o artigo [Endereços IP públicos](virtual-network-public-ip-address.md).</span><span class="sxs-lookup"><span data-stu-id="93ed6-277">To learn more about public IP addresses, read the [Public IP address](virtual-network-public-ip-address.md) article.</span></span>

<span data-ttu-id="93ed6-278">Há limites para o número de endereços IP públicos e privados que você pode atribuir a um adaptador de rede.</span><span class="sxs-lookup"><span data-stu-id="93ed6-278">There are limits to the number of private and public IP addresses that you can assign to a network interface.</span></span> <span data-ttu-id="93ed6-279">Leia o artigo [Limites do Azure](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits) para obter detalhes.</span><span class="sxs-lookup"><span data-stu-id="93ed6-279">For details, read the [Azure limits](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits) article.</span></span>

> [!NOTE]
> <span data-ttu-id="93ed6-280">O Azure converte o endereço IP privado de uma máquina virtual em um endereço IP público.</span><span class="sxs-lookup"><span data-stu-id="93ed6-280">Azure translates a virtual machine's private IP address to a public IP address.</span></span> <span data-ttu-id="93ed6-281">Como resultado, o sistema operacional não fica ciente dos endereços IP públicos atribuídos a ele, portanto, nunca será necessário atribuir manualmente um endereço IP público dentro do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="93ed6-281">As a result, the operating system is unaware of any public IP addresses assigned to it, so there is no need to ever manually assign a public IP address within the operating system.</span></span>

## <a name="assignment-methods"></a><span data-ttu-id="93ed6-282">Métodos de atribuição</span><span class="sxs-lookup"><span data-stu-id="93ed6-282">Assignment methods</span></span>

<span data-ttu-id="93ed6-283">Os endereços IP públicos e privados são atribuídos usando os seguintes métodos de atribuição:</span><span class="sxs-lookup"><span data-stu-id="93ed6-283">Public and private IP addresses are assigned using the following assignment methods:</span></span>

### <a name="dynamic"></a><span data-ttu-id="93ed6-284">Dinâmico</span><span class="sxs-lookup"><span data-stu-id="93ed6-284">Dynamic</span></span>

<span data-ttu-id="93ed6-285">Endereços IPv4 e (opcionalmente) IPv6 privados dinâmicos são atribuídos por padrão.</span><span class="sxs-lookup"><span data-stu-id="93ed6-285">Dynamic private IPv4 and IPv6 (optionally) addresses are assigned by default.</span></span> <span data-ttu-id="93ed6-286">Os endereços dinâmicos poderão mudar se a máquina virtual for colocada em estado interrompido (desalocado) e então reiniciada.</span><span class="sxs-lookup"><span data-stu-id="93ed6-286">Dynamic addresses can change if the virtual machine is put into the stopped (deallocated) state, then started.</span></span> <span data-ttu-id="93ed6-287">Se você não quiser que os endereços IPv4 mudem permanentemente para a máquina virtual, atribua os endereços usando o método estático.</span><span class="sxs-lookup"><span data-stu-id="93ed6-287">If you don't want IPv4 addresses to change for the life of the virtual machine, assign the addresses using the static method.</span></span> <span data-ttu-id="93ed6-288">Você só pode atribuir um endereço IPv6 privado usando o método de atribuição dinâmica.</span><span class="sxs-lookup"><span data-stu-id="93ed6-288">You can only assign a private IPv6 address using the dynamic assignment method.</span></span> <span data-ttu-id="93ed6-289">Não é possível atribuir um endereço IPv6 público a uma configuração de IP usando qualquer método.</span><span class="sxs-lookup"><span data-stu-id="93ed6-289">You cannot assign a public IPv6 address to an IP configuration using either method.</span></span>

### <a name="static"></a><span data-ttu-id="93ed6-290">estático</span><span class="sxs-lookup"><span data-stu-id="93ed6-290">Static</span></span>

<span data-ttu-id="93ed6-291">Os endereços atribuídos usando o método estático não mudam até que uma máquina virtual seja excluída.</span><span class="sxs-lookup"><span data-stu-id="93ed6-291">Addresses assigned using the static method do not change until a virtual machine is deleted.</span></span> <span data-ttu-id="93ed6-292">Atribua manualmente um endereço IPv4 privado estático a uma configuração de IP a partir do espaço de endereços da sub-rede na qual reside o adaptador de rede.</span><span class="sxs-lookup"><span data-stu-id="93ed6-292">You manually assign a static private IPv4 address to an IP configuration from the address space for the subnet the network interface is in.</span></span> <span data-ttu-id="93ed6-293">Você pode, como opção, atribuir um endereço IPv4 estático público ou privado a uma configuração de IP.</span><span class="sxs-lookup"><span data-stu-id="93ed6-293">You can (optionally) assign a public or private static IPv4 address to an IP configuration.</span></span> <span data-ttu-id="93ed6-294">Não é possível atribuir um endereço IPv6 estático público ou privado a uma configuração de IP.</span><span class="sxs-lookup"><span data-stu-id="93ed6-294">You cannot assign a static public or private IPv6 address to an IP configuration.</span></span> <span data-ttu-id="93ed6-295">Para saber mais sobre como o Azure atribui endereços IPv4 estáticos públicos, confira o artigo [Endereço IP público](virtual-network-public-ip-address.md).</span><span class="sxs-lookup"><span data-stu-id="93ed6-295">To learn more about how Azure assigns static public IPv4 addresses, see the [Public IP address](virtual-network-public-ip-address.md) article.</span></span>

## <a name="ip-address-versions"></a><span data-ttu-id="93ed6-296">Versões de endereço IP</span><span class="sxs-lookup"><span data-stu-id="93ed6-296">IP address versions</span></span>

<span data-ttu-id="93ed6-297">Especifique as seguintes versões ao atribuir endereços:</span><span class="sxs-lookup"><span data-stu-id="93ed6-297">You can specify the following versions when assigning addresses:</span></span>

### <a name="ipv4"></a><span data-ttu-id="93ed6-298">IPv4</span><span class="sxs-lookup"><span data-stu-id="93ed6-298">IPv4</span></span>

<span data-ttu-id="93ed6-299">Cada adaptador de rede deve ter uma configuração de IP [primário](#primary) com um endereço [IPv4](#ipv4) [privado](#private) atribuído.</span><span class="sxs-lookup"><span data-stu-id="93ed6-299">Each network interface must have one [primary](#primary) IP configuration with an assigned [private](#private) [IPv4](#ipv4) address.</span></span> <span data-ttu-id="93ed6-300">Você pode adicionar uma ou mais configurações de IP [secundário](#secondary) que possuem um endereço IPv4 privado e (opcionalmente) um IPv4 [público](#public).</span><span class="sxs-lookup"><span data-stu-id="93ed6-300">You can add one or more [secondary](#secondary) IP configurations that each have an IPv4 private and (optionally) an IPv4 [public](#public) IP address.</span></span>

### <a name="ipv6"></a><span data-ttu-id="93ed6-301">IPv6</span><span class="sxs-lookup"><span data-stu-id="93ed6-301">IPv6</span></span>

<span data-ttu-id="93ed6-302">Você pode atribuir um ou nenhum endereço [IPv6](#ipv6) privado a uma configuração de IP secundário de um adaptador de rede.</span><span class="sxs-lookup"><span data-stu-id="93ed6-302">You can assign zero or one private [IPv6](#ipv6) address to one secondary IP configuration of a network interface.</span></span> <span data-ttu-id="93ed6-303">O adaptador de rede não pode ter configurações de IP secundário.</span><span class="sxs-lookup"><span data-stu-id="93ed6-303">The network interface cannot have any existing secondary IP configurations.</span></span> <span data-ttu-id="93ed6-304">Não é possível adicionar uma configuração de IP com um endereço IPv6 usando o portal.</span><span class="sxs-lookup"><span data-stu-id="93ed6-304">You cannot add an IP configuration with an IPv6 address using the portal.</span></span> <span data-ttu-id="93ed6-305">Use o PowerShell ou a CLI para adicionar uma configuração de IP com um endereço IPv6 privado a um adaptador de rede existente.</span><span class="sxs-lookup"><span data-stu-id="93ed6-305">Use PowerShell or the CLI to add an IP configuration with a private IPv6 address to an existing network interface.</span></span> <span data-ttu-id="93ed6-306">O adaptador de rede não pode ser conectado a uma VM existente.</span><span class="sxs-lookup"><span data-stu-id="93ed6-306">The network interface cannot be attached to an existing VM.</span></span>

> [!NOTE]
> <span data-ttu-id="93ed6-307">Embora você possa criar uma interface de rede com um endereço IPv6 usando o portal, você não pode adicionar uma interface de rede existente para uma máquina virtual nova ou existente, usando o portal.</span><span class="sxs-lookup"><span data-stu-id="93ed6-307">Though you can create a network interface with an IPv6 address using the portal, you can't add an existing network interface to a new, or existing virtual machine, using the portal.</span></span> <span data-ttu-id="93ed6-308">Use o PowerShell ou a CLI 2.0 do Azure para criar um adaptador de rede com um endereço IPv6 privado, e depois anexá-lo ao criar uma máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="93ed6-308">Use PowerShell or the Azure CLI 2.0 to create a network interface with a private IPv6 address, then attach the network interface when creating a virtual machine.</span></span> <span data-ttu-id="93ed6-309">Não é possível anexar um adaptador de rede, com um endereço IPv6 privado atribuído a ele, a uma máquina virtual existente.</span><span class="sxs-lookup"><span data-stu-id="93ed6-309">You cannot attach a network interface with a private IPv6 address assigned to it to an existing virtual machine.</span></span> <span data-ttu-id="93ed6-310">Você não pode adicionar um endereço IPv6 privado a uma configuração de IP de qualquer adaptador de rede conectado a uma máquina virtual usando quaisquer ferramentas (portal, CLI ou PowerShell).</span><span class="sxs-lookup"><span data-stu-id="93ed6-310">You cannot add a private IPv6 address to an IP configuration for any network interface attached to a virtual machine using any tools (portal, CLI, or PowerShell).</span></span>

<span data-ttu-id="93ed6-311">Não é possível atribuir um endereço IPv6 público a uma configuração de IP secundário.</span><span class="sxs-lookup"><span data-stu-id="93ed6-311">You can't assign a public IPv6 address to a primary or secondary IP configuration.</span></span>

## <a name="next-steps"></a><span data-ttu-id="93ed6-312">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="93ed6-312">Next steps</span></span>
<span data-ttu-id="93ed6-313">Para criar uma máquina virtual com diferentes configurações de IP, leia os seguintes artigos:</span><span class="sxs-lookup"><span data-stu-id="93ed6-313">To create a virtual machine with different IP configurations, read the following articles:</span></span>

|<span data-ttu-id="93ed6-314">Tarefa</span><span class="sxs-lookup"><span data-stu-id="93ed6-314">Task</span></span>|<span data-ttu-id="93ed6-315">Ferramenta</span><span class="sxs-lookup"><span data-stu-id="93ed6-315">Tool</span></span>|
|---|---|
|<span data-ttu-id="93ed6-316">Criar uma VM com diversos NICs</span><span class="sxs-lookup"><span data-stu-id="93ed6-316">Create a VM with multiple NICs</span></span>|<span data-ttu-id="93ed6-317">[CLI](../virtual-machines/linux/multiple-nics.md?toc=%2fazure%2fvirtual-network%2ftoc.json), [PowerShell](../virtual-machines/windows/multiple-nics.md?toc=%2fazure%2fvirtual-network%2ftoc.json)</span><span class="sxs-lookup"><span data-stu-id="93ed6-317">[CLI](../virtual-machines/linux/multiple-nics.md?toc=%2fazure%2fvirtual-network%2ftoc.json), [PowerShell](../virtual-machines/windows/multiple-nics.md?toc=%2fazure%2fvirtual-network%2ftoc.json)</span></span>|
|<span data-ttu-id="93ed6-318">Criar uma VM com um NIC com vários endereços IPv4</span><span class="sxs-lookup"><span data-stu-id="93ed6-318">Create a single NIC VM with multiple IPv4 addresses</span></span>|<span data-ttu-id="93ed6-319">[CLI](virtual-network-multiple-ip-addresses-cli.md), [PowerShell](virtual-network-multiple-ip-addresses-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="93ed6-319">[CLI](virtual-network-multiple-ip-addresses-cli.md), [PowerShell](virtual-network-multiple-ip-addresses-powershell.md)</span></span>|
|<span data-ttu-id="93ed6-320">Criar uma VM com um NIC com um endereço IPv6 privado (atrás de um Azure Load Balancer)</span><span class="sxs-lookup"><span data-stu-id="93ed6-320">Create a single NIC VM with a private IPv6 address (behind an Azure Load Balancer)</span></span>|<span data-ttu-id="93ed6-321">[CLI](../load-balancer/load-balancer-ipv6-internet-cli.md?toc=%2fazure%2fvirtual-network%2ftoc.json), [PowerShell](../load-balancer/load-balancer-ipv6-internet-ps.md?toc=%2fazure%2fvirtual-network%2ftoc.json), [modelo do Azure Resource Manager](../load-balancer/load-balancer-ipv6-internet-template.md?toc=%2fazure%2fvirtual-network%2ftoc.json)</span><span class="sxs-lookup"><span data-stu-id="93ed6-321">[CLI](../load-balancer/load-balancer-ipv6-internet-cli.md?toc=%2fazure%2fvirtual-network%2ftoc.json), [PowerShell](../load-balancer/load-balancer-ipv6-internet-ps.md?toc=%2fazure%2fvirtual-network%2ftoc.json), [Azure Resource Manager template](../load-balancer/load-balancer-ipv6-internet-template.md?toc=%2fazure%2fvirtual-network%2ftoc.json)</span></span>|
