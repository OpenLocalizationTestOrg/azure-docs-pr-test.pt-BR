---
title: Adicionar, alterar ou excluir uma sub-rede de rede virtual do Azure | Microsoft Docs
description: Saiba como adicionar, alterar ou excluir uma sub-rede de rede virtual no Azure.
services: virtual-network
documentationcenter: na
author: jimdial
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 
ms.service: virtual-network
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/10/2017
ms.author: jdial
ms.openlocfilehash: 85ba6ef3e51c339a77eb9b4198c4f87e2a64cf09
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/03/2017
---
# <a name="add-change-or-delete-a-virtual-network-subnet"></a><span data-ttu-id="d1530-103">Adicionar, alterar ou excluir uma sub-rede da rede virtual</span><span class="sxs-lookup"><span data-stu-id="d1530-103">Add, change, or delete a virtual network subnet</span></span>

<span data-ttu-id="d1530-104">Saiba como adicionar, alterar ou excluir uma sub-rede de rede virtual.</span><span class="sxs-lookup"><span data-stu-id="d1530-104">Learn how to add, change, or delete a virtual network subnet.</span></span> 

<span data-ttu-id="d1530-105">Se você não estiver familiarizado com as redes virtuais, antes de adicionar, alterar ou excluir uma sub-rede recomendamos que você leia [Visão geral da rede virtual do Azure](virtual-networks-overview.md) e [Criar, alterar ou excluir uma rede virtual](virtual-network-manage-network.md).</span><span class="sxs-lookup"><span data-stu-id="d1530-105">If you're not familiar with virtual networks, before you add, change, or delete a subnet, we recommend that you read [Azure Virtual Network overview](virtual-networks-overview.md) and [Create, change, or delete a virtual network](virtual-network-manage-network.md).</span></span> <span data-ttu-id="d1530-106">Todos os recursos do Azure implantados em uma rede virtual são implantados em uma sub-rede dentro de uma rede virtual.</span><span class="sxs-lookup"><span data-stu-id="d1530-106">All Azure resources deployed into a virtual network are deployed into a subnet within a virtual network.</span></span> <span data-ttu-id="d1530-107">Normalmente, várias sub-redes são criadas dentro de uma rede virtual para:</span><span class="sxs-lookup"><span data-stu-id="d1530-107">Usually, multiple subnets are created within a virtual network to:</span></span>
- <span data-ttu-id="d1530-108">**Filtra o tráfego entre sub-redes**.</span><span class="sxs-lookup"><span data-stu-id="d1530-108">**Filter traffic between subnets**.</span></span> <span data-ttu-id="d1530-109">É possível aplicar grupos de segurança de rede às sub-redes para filtrar tráfego de rede de entrada e saída para todos os recursos (como máquinas virtuais) que estão na rede virtual.</span><span class="sxs-lookup"><span data-stu-id="d1530-109">You can apply network security groups to subnets to filter inbound and outbound network traffic for all resources (like virtual machines) that are in the virtual network.</span></span> <span data-ttu-id="d1530-110">Para saber mais sobre como criar um grupo de segurança de rede, consulte [Criar grupos de segurança de rede](virtual-networks-create-nsg-arm-pportal.md).</span><span class="sxs-lookup"><span data-stu-id="d1530-110">To learn more about how to create a network security group, see [Create network security groups](virtual-networks-create-nsg-arm-pportal.md).</span></span>
- <span data-ttu-id="d1530-111">**Controlar o roteamento entre sub-redes**.</span><span class="sxs-lookup"><span data-stu-id="d1530-111">**Control routing between subnets**.</span></span> <span data-ttu-id="d1530-112">O Azure cria rotas padrão para que o tráfego seja roteado automaticamente entre sub-redes.</span><span class="sxs-lookup"><span data-stu-id="d1530-112">Azure creates default routes so that traffic is automatically routed between subnets.</span></span> <span data-ttu-id="d1530-113">Você pode substituir as rotas padrão do Azure, criando rotas definidas pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="d1530-113">You can override Azure default routes by creating user-defined routes.</span></span> <span data-ttu-id="d1530-114">Para saber mais sobre as rotas definidas pelo usuário, consulte [Criar rotas definidas pelo usuário](virtual-network-create-udr-arm-ps.md).</span><span class="sxs-lookup"><span data-stu-id="d1530-114">To learn more about user-defined routes, see [Create user-defined routes](virtual-network-create-udr-arm-ps.md).</span></span> 

<span data-ttu-id="d1530-115">Este artigo explica como adicionar, alterar e excluir uma sub-rede de redes virtuais que foram criadas utilizando o modelo de implantação do Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="d1530-115">This article explains how to add, change, and delete a subnet for virtual networks that were created by using the Azure Resource Manager deployment model.</span></span>
 
## <span data-ttu-id="d1530-116"><a name="before"></a>Antes de começar</span><span class="sxs-lookup"><span data-stu-id="d1530-116"><a name="before"></a>Before you begin</span></span>

<span data-ttu-id="d1530-117">Antes de iniciar as tarefas descritas neste artigo, complete os seguintes pré-requisitos:</span><span class="sxs-lookup"><span data-stu-id="d1530-117">Before you begin the tasks that are described in this article, complete the following prerequisites:</span></span>

- <span data-ttu-id="d1530-118">Caso não tenha experiência em trabalhar com redes virtuais, recomendamos que você examine o exercício em [Criar sua primeira rede virtual do Azure](virtual-network-get-started-vnet-subnet.md).</span><span class="sxs-lookup"><span data-stu-id="d1530-118">If you're new to working with virtual networks, we recommend that you review the exercise in [Create your first Azure virtual network](virtual-network-get-started-vnet-subnet.md).</span></span> <span data-ttu-id="d1530-119">Esse exercício pode ajudá-lo a se familiarizar melhor com as redes virtuais.</span><span class="sxs-lookup"><span data-stu-id="d1530-119">This exercise can help you become more familiar with virtual networks.</span></span>
- <span data-ttu-id="d1530-120">Para saber mais sobre os limites para redes virtuais, examine [Limites do Azure](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits).</span><span class="sxs-lookup"><span data-stu-id="d1530-120">To learn about limits for virtual networks, review [Azure limits](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits).</span></span>
- <span data-ttu-id="d1530-121">Entre no portal do Azure, na ferramenta de linha de comando do Azure (CLI do Azure) ou no Azure PowerShell utilizando sua conta do Azure.</span><span class="sxs-lookup"><span data-stu-id="d1530-121">Sign in to the Azure portal, the Azure command-line tool (Azure CLI), or Azure PowerShell by using your Azure account.</span></span> <span data-ttu-id="d1530-122">Caso você não tenha uma conta do Azure, inscreva-se para obter uma [conta de avaliação gratuita](https://azure.microsoft.com/free).</span><span class="sxs-lookup"><span data-stu-id="d1530-122">If you don't have an Azure account, sign up for a [free trial account](https://azure.microsoft.com/free).</span></span>
- <span data-ttu-id="d1530-123">Se você pretende utilizar os comandos do PowerShell para completar as tarefas descritas, primeiro deverá [instalar e configurar o Azure PowerShell](/powershell/azureps-cmdlets-docs?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="d1530-123">If you plan to use PowerShell commands to complete the tasks described in this article, you must first [install and configure Azure PowerShell](/powershell/azureps-cmdlets-docs?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span> <span data-ttu-id="d1530-124">Certifique-se de ter a versão mais recente dos cmdlets do Azure PowerShell instalada.</span><span class="sxs-lookup"><span data-stu-id="d1530-124">Ensure that you have the most recent version of the Azure PowerShell cmdlets installed.</span></span> <span data-ttu-id="d1530-125">Para obter ajuda sobre os comandos do PowerShell nos exemplos, digite `get-help <command> -full`.</span><span class="sxs-lookup"><span data-stu-id="d1530-125">To get help for PowerShell commands in the examples, enter `get-help <command> -full`.</span></span>
- <span data-ttu-id="d1530-126">Se você pretende utilizar os comandos CLI do Azure para completar as tarefas descritas neste artigo, primeiro deverá:</span><span class="sxs-lookup"><span data-stu-id="d1530-126">If you plan to use Azure CLI commands to complete the tasks described in this article, you must either:</span></span>
    - <span data-ttu-id="d1530-127">[Instalar e configurar a CLI do Azure](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="d1530-127">[Install and configure the Azure CLI](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span> <span data-ttu-id="d1530-128">Certifique-se de ter a versão mais recente da CLI do Azure instalada.</span><span class="sxs-lookup"><span data-stu-id="d1530-128">Ensure that you have the most recent version of Azure CLI installed.</span></span>
    - <span data-ttu-id="d1530-129">Use o Azure Cloud Shell.</span><span class="sxs-lookup"><span data-stu-id="d1530-129">Use the Azure Cloud Shell.</span></span> <span data-ttu-id="d1530-130">Em vez de instalar a CLI e suas dependências, você pode usar o Azure Cloud Shell.</span><span class="sxs-lookup"><span data-stu-id="d1530-130">Instead of installing the CLI and its dependencies, you can use the Azure Cloud Shell.</span></span> <span data-ttu-id="d1530-131">O Azure Cloud Shell é um shell Bash gratuito que podem ser executado diretamente no portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="d1530-131">The Azure Cloud Shell is a free Bash shell that you can run directly within the Azure portal.</span></span> <span data-ttu-id="d1530-132">Ele tem a CLI do Azure instalada e configurada para usar com sua conta.</span><span class="sxs-lookup"><span data-stu-id="d1530-132">It has the Azure CLI preinstalled and configured to use with your account.</span></span> <span data-ttu-id="d1530-133">Para usar o Cloud Shell, clique no ícone (**>_**) do Cloud Shell na parte superior do Portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="d1530-133">To use the Cloud Shell, click the Cloud Shell (**>_**) icon at the top of the Azure portal.</span></span> 

  <span data-ttu-id="d1530-134">Para obter ajuda com os comandos CLI do Azure, digite `az <command> --help`.</span><span class="sxs-lookup"><span data-stu-id="d1530-134">To get help with Azure CLI commands, enter `az <command> --help`.</span></span>

## <span data-ttu-id="d1530-135"><a name="create-subnet"></a>Adicionar uma sub-rede</span><span class="sxs-lookup"><span data-stu-id="d1530-135"><a name="create-subnet"></a>Add a subnet</span></span>

<span data-ttu-id="d1530-136">Para adicionar uma sub-rede:</span><span class="sxs-lookup"><span data-stu-id="d1530-136">To add a subnet:</span></span>

1. <span data-ttu-id="d1530-137">Entre no [portal](https://portal.azure.com) com uma conta que é atribuída permissões para a função Colaborador de Rede (no mínimo) para sua assinatura.</span><span class="sxs-lookup"><span data-stu-id="d1530-137">Sign in to the [portal](https://portal.azure.com) with an account that is assigned permissions for the Network Contributor role (at a minimum) for your subscription.</span></span> <span data-ttu-id="d1530-138">Para saber mais sobre como atribuir funções e permissões às contas, consulte [Funções internas para o controle de acesso baseado em função do Azure](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor).</span><span class="sxs-lookup"><span data-stu-id="d1530-138">To learn more about assigning roles and permissions to accounts, see [Built-in roles for Azure role-based access control](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor).</span></span>
2. <span data-ttu-id="d1530-139">Na caixa de pesquisa do portal, insira **redes virtuais**.</span><span class="sxs-lookup"><span data-stu-id="d1530-139">In the portal search box, enter **virtual networks**.</span></span> <span data-ttu-id="d1530-140">Nos resultados da pesquisa, clique em **Redes virtuais**.</span><span class="sxs-lookup"><span data-stu-id="d1530-140">In the search results, click **Virtual networks**.</span></span>
3. <span data-ttu-id="d1530-141">Na folha **Redes virtuais** clique na rede virtual à qual você deseja adicionar uma sub-rede.</span><span class="sxs-lookup"><span data-stu-id="d1530-141">On the **Virtual networks** blade, click the virtual network you want to add a subnet to.</span></span>
4. <span data-ttu-id="d1530-142">Na folha da rede virtual, clique em **Sub-redes**.</span><span class="sxs-lookup"><span data-stu-id="d1530-142">On the virtual network blade, click **Subnets**.</span></span>
5. <span data-ttu-id="d1530-143">Clique em **+Sub-rede**.</span><span class="sxs-lookup"><span data-stu-id="d1530-143">Click **+Subnet**.</span></span>
6. <span data-ttu-id="d1530-144">Na folha **Adicionar sub-rede** insira os valores para os seguintes parâmetros:</span><span class="sxs-lookup"><span data-stu-id="d1530-144">On the **Add subnet** blade, enter values for the following parameters:</span></span>
    - <span data-ttu-id="d1530-145">**Nome**: o nome deve ser exclusivo na rede virtual.</span><span class="sxs-lookup"><span data-stu-id="d1530-145">**Name**: The name must be unique within the virtual network.</span></span>
    - <span data-ttu-id="d1530-146">**Intervalo de endereços**: o intervalo deve ser exclusivo dentro do espaço de endereços para a rede virtual.</span><span class="sxs-lookup"><span data-stu-id="d1530-146">**Address range**: The range must be unique within the address space for the virtual network.</span></span> <span data-ttu-id="d1530-147">O intervalo não pode sobrepor-se com outros intervalos de endereços de sub-rede dentro da rede virtual.</span><span class="sxs-lookup"><span data-stu-id="d1530-147">The range cannot overlap with other subnet address ranges within the virtual network.</span></span> <span data-ttu-id="d1530-148">O espaço de endereçamento deve ser especificado utilizando a notação CIDR (Roteamento Entre Domínios sem Classes).</span><span class="sxs-lookup"><span data-stu-id="d1530-148">The address space must be specified by using Classless Inter-Domain Routing (CIDR) notation.</span></span> <span data-ttu-id="d1530-149">Por exemplo, em uma rede virtual com espaço de endereçamento 10.0.0.0/16, você pode definir um espaço de endereçamento de sub-rede de 10.0.0.0/24.</span><span class="sxs-lookup"><span data-stu-id="d1530-149">For example, in a virtual network with address space 10.0.0.0/16, you might define a subnet address space of 10.0.0.0/24.</span></span> <span data-ttu-id="d1530-150">O menor intervalo que você pode especificar é de /29, que fornece oito endereços IP para a sub-rede.</span><span class="sxs-lookup"><span data-stu-id="d1530-150">The smallest range you can specify is /29, which provides eight IP addresses for the subnet.</span></span> <span data-ttu-id="d1530-151">O Azure reserva o primeiro e o último endereço em cada sub-rede para conformidade de protocolo.</span><span class="sxs-lookup"><span data-stu-id="d1530-151">Azure reserves the first and last address in each subnet for protocol conformance.</span></span> <span data-ttu-id="d1530-152">Três endereços adicionais são reservados para uso pelo serviço do Azure.</span><span class="sxs-lookup"><span data-stu-id="d1530-152">Three additional addresses are reserved for Azure service usage.</span></span> <span data-ttu-id="d1530-153">Como resultado, definir uma sub-rede com um intervalo de endereços /29 resulta em três endereços IP utilizáveis na sub-rede.</span><span class="sxs-lookup"><span data-stu-id="d1530-153">As a result, defining a subnet with a /29 address range results in three usable IP addresses in the subnet.</span></span> <span data-ttu-id="d1530-154">Caso pretenda conectar uma rede virtual a um gateway de VPN, será necessário criar uma sub-rede de gateway.</span><span class="sxs-lookup"><span data-stu-id="d1530-154">If you plan to connect a virtual network to a VPN gateway, you must create a gateway subnet.</span></span> <span data-ttu-id="d1530-155">Saiba mais sobre [considerações de intervalo de endereços específico para sub-redes de gateway](../vpn-gateway/vpn-gateway-about-vpn-gateway-settings.md?toc=%2fazure%2fvirtual-network%2ftoc.json#gwsub).</span><span class="sxs-lookup"><span data-stu-id="d1530-155">Learn more about [specific address range considerations for gateway subnets](../vpn-gateway/vpn-gateway-about-vpn-gateway-settings.md?toc=%2fazure%2fvirtual-network%2ftoc.json#gwsub).</span></span> <span data-ttu-id="d1530-156">Sob condições específicas, você pode alterar o intervalo de endereços depois que a sub-rede é adicionada.</span><span class="sxs-lookup"><span data-stu-id="d1530-156">You can change the address range after the subnet is added, under specific conditions.</span></span> <span data-ttu-id="d1530-157">Para saber como alterar um intervalo de endereços de sub-rede, consulte [Alterar as configurações de sub-rede](#change-subnet) neste artigo.</span><span class="sxs-lookup"><span data-stu-id="d1530-157">To learn how to change a subnet address range, see [Change subnet settings](#change-subnet) in this article.</span></span>
    - <span data-ttu-id="d1530-158">**Grupo de segurança de rede**: opcionalmente, é possível associar um grupo de segurança de rede existente à sub-rede para controlar a filtragem de tráfego de rede de entrada e saída para a sub-rede.</span><span class="sxs-lookup"><span data-stu-id="d1530-158">**Network security group**: Optionally, you can associate an existing network security group with the subnet to control inbound and outbound network traffic filtering for the subnet.</span></span> <span data-ttu-id="d1530-159">O grupo de segurança da rede deve existir na mesma assinatura e local da rede virtual.</span><span class="sxs-lookup"><span data-stu-id="d1530-159">The network security group must exist in the same subscription and location as the virtual network.</span></span> <span data-ttu-id="d1530-160">Além disso, deve ser criado utilizando o modelo de implantação Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="d1530-160">It also must be created by using the Resource Manager deployment model.</span></span> <span data-ttu-id="d1530-161">Para saber mais sobre como criar um grupo de segurança de rede, consulte [Grupos de segurança de rede](virtual-networks-create-nsg-arm-pportal.md).</span><span class="sxs-lookup"><span data-stu-id="d1530-161">To learn more about how to create a network security group, see [Network security groups](virtual-networks-create-nsg-arm-pportal.md).</span></span>
    - <span data-ttu-id="d1530-162">**Tabela de rotas**: opcionalmente, é possível associar uma tabela de rota existente à sub-rede para controlar o roteamento de tráfego da rede para outras redes.</span><span class="sxs-lookup"><span data-stu-id="d1530-162">**Route table**: Optionally, you can associate an existing route table with the subnet to control network traffic routing to other networks.</span></span> <span data-ttu-id="d1530-163">A tabela de rotas deve existir na mesma assinatura e localização da rede virtual.</span><span class="sxs-lookup"><span data-stu-id="d1530-163">The route table must exist in the same subscription and location as the virtual network.</span></span> <span data-ttu-id="d1530-164">Além disso, deve ser criado utilizando o modelo de implantação Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="d1530-164">It also must be created by using the Resource Manager deployment model.</span></span> <span data-ttu-id="d1530-165">Para saber mais sobre como criar tabelas de rotas, consulte [Rotas definidas pelo usuário](virtual-network-create-udr-arm-ps.md).</span><span class="sxs-lookup"><span data-stu-id="d1530-165">To learn more about how to create route tables, see [User-defined routes](virtual-network-create-udr-arm-ps.md).</span></span>
    - <span data-ttu-id="d1530-166">**Usuários**: é possível controlar o acesso à sub-rede utilizando funções internas ou suas próprias funções personalizadas.</span><span class="sxs-lookup"><span data-stu-id="d1530-166">**Users**: You can control access to the subnet by using built-in roles or your own custom roles.</span></span> <span data-ttu-id="d1530-167">Para saber mais sobre como atribuir funções e usuários para acessar a sub-rede, consulte [Utilizar atribuição de função para gerenciar o acesso aos recursos do Azure](../active-directory/role-based-access-control-configure.md?toc=%2fazure%2fvirtual-network%2ftoc.json#add-access).</span><span class="sxs-lookup"><span data-stu-id="d1530-167">To learn more about assigning roles and users to access the subnet, see [Use role assignment to manage access to your Azure resources](../active-directory/role-based-access-control-configure.md?toc=%2fazure%2fvirtual-network%2ftoc.json#add-access).</span></span>
7. <span data-ttu-id="d1530-168">Para adicionar a sub-rede à rede virtual que você selecionou, clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="d1530-168">To add the subnet to the virtual network that you selected, click **OK**.</span></span>

<span data-ttu-id="d1530-169">**Comandos**</span><span class="sxs-lookup"><span data-stu-id="d1530-169">**Commands**</span></span>

|<span data-ttu-id="d1530-170">Ferramenta</span><span class="sxs-lookup"><span data-stu-id="d1530-170">Tool</span></span>|<span data-ttu-id="d1530-171">Command</span><span class="sxs-lookup"><span data-stu-id="d1530-171">Command</span></span>|
|---|---|
|<span data-ttu-id="d1530-172">CLI do Azure</span><span class="sxs-lookup"><span data-stu-id="d1530-172">Azure CLI</span></span>|[<span data-ttu-id="d1530-173">az network vnet subnet create</span><span class="sxs-lookup"><span data-stu-id="d1530-173">az network vnet subnet create</span></span>](/cli/azure/network/vnet/subnet?toc=%2fazure%2fvirtual-network%2ftoc.json#create)|
|<span data-ttu-id="d1530-174">PowerShell</span><span class="sxs-lookup"><span data-stu-id="d1530-174">PowerShell</span></span>|<span data-ttu-id="d1530-175">[New-AzureRmVirtualNetworkSubnetConfig](/powershell/module/azurerm.network/new-azurermvirtualnetworksubnetconfig?toc=%2fazure%2fvirtual-network%2ftoc.json), [Add-AzureRmVirtualNetworkSubnetConfig](/powershell/module/azurerm.network/add-azurermvirtualnetworksubnetconfig?toc=%2fazure%2fvirtual-network%2ftoc.json)</span><span class="sxs-lookup"><span data-stu-id="d1530-175">[New-AzureRmVirtualNetworkSubnetConfig](/powershell/module/azurerm.network/new-azurermvirtualnetworksubnetconfig?toc=%2fazure%2fvirtual-network%2ftoc.json), [Add-AzureRmVirtualNetworkSubnetConfig](/powershell/module/azurerm.network/add-azurermvirtualnetworksubnetconfig?toc=%2fazure%2fvirtual-network%2ftoc.json)</span></span>|

## <span data-ttu-id="d1530-176"><a name="change-subnet"></a>Alterar as configurações de sub-rede</span><span class="sxs-lookup"><span data-stu-id="d1530-176"><a name="change-subnet"></a>Change subnet settings</span></span>

<span data-ttu-id="d1530-177">É possível alterar grupos de segurança de rede, tabelas de rotas e acesso de usuário de uma sub-rede gerenciando recursos que estão em uma sub-rede.</span><span class="sxs-lookup"><span data-stu-id="d1530-177">You can change network security groups, route tables, and user access to a subnet by managing resources that are in a subnet.</span></span> <span data-ttu-id="d1530-178">Para saber mais sobre essas configurações, em [Adicionar uma sub-rede](#create-subnet), veja a etapa 6.</span><span class="sxs-lookup"><span data-stu-id="d1530-178">To learn about these settings, in [Add a subnet](#create-subnet), see step 6.</span></span> <span data-ttu-id="d1530-179">Caso queira alterar o espaço de endereçamento de uma sub-rede, primeiro você deverá excluir todos os recursos que estão na sub-rede.</span><span class="sxs-lookup"><span data-stu-id="d1530-179">If you want to change the address space of a subnet, you must first delete any resources that are in the subnet.</span></span> <span data-ttu-id="d1530-180">As etapas necessárias para excluir um recurso variam de acordo com o recurso.</span><span class="sxs-lookup"><span data-stu-id="d1530-180">The steps you take to delete a resource vary depending on the resource.</span></span> <span data-ttu-id="d1530-181">Para saber como excluir os recursos que estão nas sub-redes, leia a documentação para cada tipo de recurso que deseja excluir.</span><span class="sxs-lookup"><span data-stu-id="d1530-181">To learn how to delete resources that are in subnets, read the documentation for each resource type that you want to delete.</span></span> <span data-ttu-id="d1530-182">Para alterar o intervalo de endereços de uma sub-rede:</span><span class="sxs-lookup"><span data-stu-id="d1530-182">To change the address range for a subnet:</span></span>

1. <span data-ttu-id="d1530-183">Entre no [portal](https://portal.azure.com) com uma conta que é atribuída permissões para a função Colaborador de Rede (no mínimo) para sua assinatura.</span><span class="sxs-lookup"><span data-stu-id="d1530-183">Sign in to the [portal](https://portal.azure.com) with an account that is assigned permissions for the Network Contributor role (at a minimum) for your subscription.</span></span> <span data-ttu-id="d1530-184">Para saber mais sobre como atribuir funções e permissões às contas, consulte [Funções internas para o controle de acesso baseado em função do Azure](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor).</span><span class="sxs-lookup"><span data-stu-id="d1530-184">To learn more about assigning roles and permissions to accounts, see [Built-in roles for Azure role-based access control](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor).</span></span>
2. <span data-ttu-id="d1530-185">Na caixa de pesquisa do portal, insira **redes virtuais**.</span><span class="sxs-lookup"><span data-stu-id="d1530-185">In the portal search box, enter **virtual networks**.</span></span> <span data-ttu-id="d1530-186">Nos resultados da pesquisa, clique em **Redes virtuais**.</span><span class="sxs-lookup"><span data-stu-id="d1530-186">In the search results, click **Virtual networks**.</span></span>
3. <span data-ttu-id="d1530-187">Na folha **Redes virtuais** clique na rede virtual para a qual deseja alterar um intervalo de endereços de sub-rede.</span><span class="sxs-lookup"><span data-stu-id="d1530-187">On the **Virtual networks** blade, click the virtual network for which you want to change a subnet address range.</span></span>
4. <span data-ttu-id="d1530-188">Clique na sub-rede para a qual deseja alterar o intervalo de endereços.</span><span class="sxs-lookup"><span data-stu-id="d1530-188">Click the subnet for which you want to change the address range.</span></span>
5. <span data-ttu-id="d1530-189">Na folha de sub-rede, na caixa **Intervalo de endereços** digite o novo intervalo de endereços.</span><span class="sxs-lookup"><span data-stu-id="d1530-189">On the subnet blade, in the **Address range** box, enter the new address range.</span></span> <span data-ttu-id="d1530-190">O intervalo deve ser exclusivo dentro do espaço de endereçamento para a rede virtual.</span><span class="sxs-lookup"><span data-stu-id="d1530-190">The range must be unique within the address space for the virtual network.</span></span> <span data-ttu-id="d1530-191">O intervalo não pode sobrepor-se com outros intervalos de endereços de sub-rede dentro da rede virtual.</span><span class="sxs-lookup"><span data-stu-id="d1530-191">The range cannot overlap with other subnet address ranges within the virtual network.</span></span> <span data-ttu-id="d1530-192">O espaço de endereçamento deve ser especificado utilizando a notação CIDR.</span><span class="sxs-lookup"><span data-stu-id="d1530-192">The address space must be specified by using CIDR notation.</span></span> <span data-ttu-id="d1530-193">Por exemplo, em uma rede virtual com espaço de endereçamento 10.0.0.0/16, você pode definir um espaço de endereçamento de sub-rede de 10.0.0.0/24.</span><span class="sxs-lookup"><span data-stu-id="d1530-193">For example, in a virtual network with address space 10.0.0.0/16, you might define a subnet address space of 10.0.0.0/24.</span></span> <span data-ttu-id="d1530-194">O menor intervalo que você pode especificar é de /29, que fornece oito endereços IP para a sub-rede.</span><span class="sxs-lookup"><span data-stu-id="d1530-194">The smallest range you can specify is /29, which provides eight IP addresses for the subnet.</span></span> <span data-ttu-id="d1530-195">O Azure reserva o primeiro e o último endereço em cada sub-rede para conformidade de protocolo.</span><span class="sxs-lookup"><span data-stu-id="d1530-195">Azure reserves the first and last address in each subnet for protocol conformance.</span></span> <span data-ttu-id="d1530-196">Três endereços adicionais são reservados para uso pelo serviço do Azure.</span><span class="sxs-lookup"><span data-stu-id="d1530-196">Three additional addresses are reserved for Azure service usage.</span></span> <span data-ttu-id="d1530-197">Como resultado, uma sub-rede com um intervalo de endereços /29 tem três endereços IP utilizáveis.</span><span class="sxs-lookup"><span data-stu-id="d1530-197">As a result, a subnet with a /29 address range has three usable IP addresses.</span></span> <span data-ttu-id="d1530-198">Caso pretenda conectar uma rede virtual a um gateway de VPN, será necessário criar uma sub-rede de gateway.</span><span class="sxs-lookup"><span data-stu-id="d1530-198">If you plan to connect a virtual network to a VPN gateway, you must create a gateway subnet.</span></span> <span data-ttu-id="d1530-199">Saiba mais sobre [considerações de intervalo de endereços específico para sub-redes de gateway](../vpn-gateway/vpn-gateway-about-vpn-gateway-settings.md?toc=%2fazure%2fvirtual-network%2ftoc.json#gwsub).</span><span class="sxs-lookup"><span data-stu-id="d1530-199">Learn more about [specific address range considerations for gateway subnets](../vpn-gateway/vpn-gateway-about-vpn-gateway-settings.md?toc=%2fazure%2fvirtual-network%2ftoc.json#gwsub).</span></span> <span data-ttu-id="d1530-200">Sob condições específicas, você pode alterar o intervalo de endereços depois que a sub-rede é criada.</span><span class="sxs-lookup"><span data-stu-id="d1530-200">You can change the address range after the subnet is created, under specific conditions.</span></span> <span data-ttu-id="d1530-201">Para saber como alterar um intervalo de endereços de sub-rede, consulte [Alterar as configurações de sub-rede](#change-subnet) neste artigo.</span><span class="sxs-lookup"><span data-stu-id="d1530-201">To learn how to change a subnet address range, see [Change subnet settings](#change-subnet) in this article.</span></span>
6. <span data-ttu-id="d1530-202">Clique em **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="d1530-202">Click **Save**.</span></span>

<span data-ttu-id="d1530-203">**Comandos**</span><span class="sxs-lookup"><span data-stu-id="d1530-203">**Commands**</span></span>

|<span data-ttu-id="d1530-204">Ferramenta</span><span class="sxs-lookup"><span data-stu-id="d1530-204">Tool</span></span>|<span data-ttu-id="d1530-205">Command</span><span class="sxs-lookup"><span data-stu-id="d1530-205">Command</span></span>|
|---|---|
|<span data-ttu-id="d1530-206">CLI do Azure</span><span class="sxs-lookup"><span data-stu-id="d1530-206">Azure CLI</span></span>|[<span data-ttu-id="d1530-207">az network vnet subnet update</span><span class="sxs-lookup"><span data-stu-id="d1530-207">az network vnet subnet update</span></span>](/cli/azure/network/vnet?toc=%2fazure%2fvirtual-network%2ftoc.json#update)|
|<span data-ttu-id="d1530-208">PowerShell</span><span class="sxs-lookup"><span data-stu-id="d1530-208">PowerShell</span></span>|[<span data-ttu-id="d1530-209">Set-AzureRmVirtualNetworkSubnetConfig</span><span class="sxs-lookup"><span data-stu-id="d1530-209">Set-AzureRmVirtualNetworkSubnetConfig</span></span>](/powershell/module/azurerm.network/set-azurermvirtualnetworksubnetconfig?toc=%2fazure%2fvirtual-network%2ftoc.json)|


## <span data-ttu-id="d1530-210"><a name="delete-subnet"></a>Excluir uma sub-rede</span><span class="sxs-lookup"><span data-stu-id="d1530-210"><a name="delete-subnet"></a>Delete a subnet</span></span>

<span data-ttu-id="d1530-211">Uma sub-rede somente pode ser excluída se não houver recursos na sub-rede.</span><span class="sxs-lookup"><span data-stu-id="d1530-211">You can delete a subnet only if there are no resources in the subnet.</span></span> <span data-ttu-id="d1530-212">Se houver recursos na sub-rede, será necessário excluir os recursos na sub-rede antes de excluí-la.</span><span class="sxs-lookup"><span data-stu-id="d1530-212">If there are resources in the subnet, you must delete the resources that are in the subnet before you can delete the subnet.</span></span> <span data-ttu-id="d1530-213">As etapas necessárias para excluir um recurso variam de acordo com o recurso.</span><span class="sxs-lookup"><span data-stu-id="d1530-213">The steps you take to delete a resource vary depending on the resource.</span></span> <span data-ttu-id="d1530-214">Para saber como excluir os recursos que estão nas sub-redes, leia a documentação para cada tipo de recurso que deseja excluir.</span><span class="sxs-lookup"><span data-stu-id="d1530-214">To learn how to delete resources that are in subnets, read the documentation for each resource type that you want to delete.</span></span> <span data-ttu-id="d1530-215">Para excluir uma sub-rede:</span><span class="sxs-lookup"><span data-stu-id="d1530-215">To delete a subnet:</span></span>

1. <span data-ttu-id="d1530-216">Entre no [portal](https://portal.azure.com) com uma conta que é atribuída permissões para a função Colaborador de Rede (no mínimo) para sua assinatura.</span><span class="sxs-lookup"><span data-stu-id="d1530-216">Sign in to the [portal](https://portal.azure.com) with an account that is assigned permissions for the Network Contributor role (at a minimum) for your subscription.</span></span> <span data-ttu-id="d1530-217">Para saber mais sobre como atribuir funções e permissões às contas, consulte [Funções internas para o controle de acesso baseado em função do Azure](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor).</span><span class="sxs-lookup"><span data-stu-id="d1530-217">To learn more about assigning roles and permissions to accounts, see [Built-in roles for Azure role-based access control](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor).</span></span>
2. <span data-ttu-id="d1530-218">Na caixa de pesquisa do portal, insira **redes virtuais**.</span><span class="sxs-lookup"><span data-stu-id="d1530-218">In the portal search box, enter **virtual networks**.</span></span> <span data-ttu-id="d1530-219">Nos resultados da pesquisa, clique em **Redes virtuais**.</span><span class="sxs-lookup"><span data-stu-id="d1530-219">In the search results, click **Virtual networks**.</span></span>
3. <span data-ttu-id="d1530-220">Na folha **Redes virtuais**, clique na rede virtual da qual você deseja excluir uma sub-rede.</span><span class="sxs-lookup"><span data-stu-id="d1530-220">On the **Virtual networks** blade, click the virtual network you want to delete a subnet from.</span></span>
4. <span data-ttu-id="d1530-221">Na folha da rede virtual, em **SETTINGS**, clique em **Sub-redes**.</span><span class="sxs-lookup"><span data-stu-id="d1530-221">On the virtual network blade, under **SETTINGS**, click **Subnets**.</span></span>
5. <span data-ttu-id="d1530-222">Na lista de sub-redes que aparece na folha de sub-redes, clique com o botão direito do mouse na sub-rede que deseja excluir, clique em **Excluir** e, em seguida, clique em **Sim** para excluir a sub-rede.</span><span class="sxs-lookup"><span data-stu-id="d1530-222">In the list of subnets that appears on the subnets blade, right-click the subnet you want to delete, click **Delete**, and then click **Yes** to delete the subnet.</span></span>

<span data-ttu-id="d1530-223">**Comandos**</span><span class="sxs-lookup"><span data-stu-id="d1530-223">**Commands**</span></span>

|<span data-ttu-id="d1530-224">Ferramenta</span><span class="sxs-lookup"><span data-stu-id="d1530-224">Tool</span></span>|<span data-ttu-id="d1530-225">Command</span><span class="sxs-lookup"><span data-stu-id="d1530-225">Command</span></span>|
|---|---|
|<span data-ttu-id="d1530-226">CLI do Azure</span><span class="sxs-lookup"><span data-stu-id="d1530-226">Azure CLI</span></span>|[<span data-ttu-id="d1530-227">az network vnet delete</span><span class="sxs-lookup"><span data-stu-id="d1530-227">az network vnet delete</span></span>](/cli/azure/network/vnet?toc=%2fazure%2fvirtual-network%2ftoc.json#delete)|
|<span data-ttu-id="d1530-228">PowerShell</span><span class="sxs-lookup"><span data-stu-id="d1530-228">PowerShell</span></span>|[<span data-ttu-id="d1530-229">Remove-AzureRmVirtualNetworkSubnetConfig</span><span class="sxs-lookup"><span data-stu-id="d1530-229">Remove-AzureRmVirtualNetworkSubnetConfig</span></span>](/powershell/module/azurerm.network/remove-azurermvirtualnetworksubnetconfig?toc=%2fazure%2fvirtual-network%2ftoc.json)|

## <span data-ttu-id="d1530-230"><a name="next-steps"></a>Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="d1530-230"><a name="next-steps"></a>Next steps</span></span>

<span data-ttu-id="d1530-231">Para criar uma máquina virtual em uma sub-rede, veja [Criar uma rede virtual e implantar VMs na sub-rede](virtual-network-get-started-vnet-subnet.md#create-vms).</span><span class="sxs-lookup"><span data-stu-id="d1530-231">To create a virtual machine in a subnet, see [Create a virtual network and deploy VMs in the subnet](virtual-network-get-started-vnet-subnet.md#create-vms).</span></span>
