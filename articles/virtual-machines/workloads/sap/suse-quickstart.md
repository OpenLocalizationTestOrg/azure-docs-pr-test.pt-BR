---
title: Testando o SAP NetWeaver em VMs SUSE Linux no Microsoft Azure| Microsoft Docs
description: Testando o SAP NetWeaver em VMs SUSE Linux no Microsoft Azure
services: virtual-machines-linux
documentationcenter: 
author: hermanndms
manager: timlt
editor: 
tags: azure-resource-manager
keywords: 
ms.assetid: 645e358b-3ca1-4d3d-bf70-b0f287498d7a
ms.service: virtual-machines-linux
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-linux
ms.workload: infrastructure-services
ms.date: 02/14/2017
ms.author: hermannd
ms.openlocfilehash: 118b56376eace80788a20625497849181ad2e253
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="running-sap-netweaver-on-microsoft-azure-suse-linux-vms"></a><span data-ttu-id="fdf72-103">Executando o SAP NetWeaver em VMs do SUSE Linux no Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="fdf72-103">Running SAP NetWeaver on Microsoft Azure SUSE Linux VMs</span></span>
<span data-ttu-id="fdf72-104">Este artigo descreve fatores que devem ser levados em consideração quando você estiver executando o SAP NetWeaver em VMs (máquinas virtuais) do SUSE Linux no Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="fdf72-104">This article describes various things to consider when you're running SAP NetWeaver on Microsoft Azure SUSE Linux virtual machines (VMs).</span></span> <span data-ttu-id="fdf72-105">A partir de 19 de maio de 2016, o SAP NetWeaver tem suporte oficial em VMs do SUSE Linux no Azure.</span><span class="sxs-lookup"><span data-stu-id="fdf72-105">As of May 19 2016 SAP NetWeaver is officially supported on SUSE Linux VMs on Azure.</span></span> <span data-ttu-id="fdf72-106">Todos os detalhes relativos a versões do Linux, versões de kernel do SAP e assim por diante podem ser encontrados na nota do SAP 1928533 "Aplicativos SAP no Azure: produtos com suporte e tipos de VM do Azure".</span><span class="sxs-lookup"><span data-stu-id="fdf72-106">All details regarding Linux versions, SAP kernel versions and so on can be found in SAP Note 1928533 "SAP Applications on Azure: Supported Products and Azure VM types".</span></span>
<span data-ttu-id="fdf72-107">Mais documentação sobre o SAP em VMs Linux podem ser encontrados aqui: [Usando o SAP em VMs (máquinas virtuais) do Linux](get-started.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="fdf72-107">Further documentation about SAP on Linux VMs can be found here : [Using SAP on Linux virtual machines (VMs)](get-started.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

<span data-ttu-id="fdf72-108">As informações a seguir devem ajudar você a evitar algumas possíveis armadilhas.</span><span class="sxs-lookup"><span data-stu-id="fdf72-108">The following information should help you avoid some potential pitfalls.</span></span>

## <a name="suse-images-on-azure-for-running-sap"></a><span data-ttu-id="fdf72-109">Imagens do SUSE no Azure para executar o SAP</span><span class="sxs-lookup"><span data-stu-id="fdf72-109">SUSE images on Azure for running SAP</span></span>
<span data-ttu-id="fdf72-110">Para executar o SAP NetWeaver no Azure, use apenas o SUSE Linux Enterprise Server SLES 12 ( SPx ) - consulte também nota do SAP 1928533.</span><span class="sxs-lookup"><span data-stu-id="fdf72-110">For running SAP NetWeaver on Azure, use only SUSE Linux Enterprise Server SLES 12 ( SPx ) - see also SAP note 1928533.</span></span> <span data-ttu-id="fdf72-111">Há uma imagem SUSE especial no Azure Marketplace: ("CAL do SLES 11 SP3 para SAP"), mas ela não se destina ao uso geral.</span><span class="sxs-lookup"><span data-stu-id="fdf72-111">A special SUSE image is in the Azure Marketplace ("SLES 11 SP3 for SAP CAL"), but this is not intended for general usage.</span></span> <span data-ttu-id="fdf72-112">Não use esta imagem porque ela é reservada para a solução [SAP Cloud Appliance Library](https://cal.sap.com/) .</span><span class="sxs-lookup"><span data-stu-id="fdf72-112">Do not use this image because it's reserved for the [SAP Cloud Appliance Library](https://cal.sap.com/) solution.</span></span>  

<span data-ttu-id="fdf72-113">Use o Azure Resource Manager para todos os novos testes e instalações no Azure.</span><span class="sxs-lookup"><span data-stu-id="fdf72-113">You should use Azure Resource Manager for all new tests and installations on Azure.</span></span> <span data-ttu-id="fdf72-114">Para procurar imagens e versões SLES do SUSE usando o Azure PowerShell ou a CLI (interface de linha de comando) do Azure, use os comandos a seguir.</span><span class="sxs-lookup"><span data-stu-id="fdf72-114">To look for SUSE SLES images and versions by using Azure PowerShell or the Azure command-line interface (CLI), use the following commands.</span></span> <span data-ttu-id="fdf72-115">Você pode usar a saída, por exemplo, para definir a imagem do sistema operacional em um modelo JSON para a implantação de uma nova VM do SUSE Linux.</span><span class="sxs-lookup"><span data-stu-id="fdf72-115">You can then use the output, for example, to define the OS image in a JSON template for deploying a new SUSE Linux VM.</span></span>
<span data-ttu-id="fdf72-116">Estes comandos do PowerShell são válidos para a versão do Azure PowerShell 1.0.1 e posteriores.</span><span class="sxs-lookup"><span data-stu-id="fdf72-116">These PowerShell commands are valid for Azure PowerShell version 1.0.1 and later.</span></span>

<span data-ttu-id="fdf72-117">Enquanto ainda é possível usar as imagens SLES padrão para instalações de SAP, recomendamos o uso do novo SLES para imagens SAP que já estão disponíveis na Galeria de imagens do Azure.</span><span class="sxs-lookup"><span data-stu-id="fdf72-117">While it's still possible to use the standard SLES images for SAP installations it's recommended to make use of the new SLES for SAP images which are available now on the Azure image gallery.</span></span> <span data-ttu-id="fdf72-118">Encontre mais informações sobre essas imagens na [página correspondente do Azure Marketplace]( https://azuremarketplace.microsoft.com/en-us/marketplace/apps/SUSE.SLES-SAP ) ou na [página da Web de perguntas frequentes do SUSE sobre SLES para SAP]( https://www.suse.com/products/sles-for-sap/frequently-asked-questions/ ).</span><span class="sxs-lookup"><span data-stu-id="fdf72-118">More information about these images can be found on the corresponding [Azure Marketplace page]( https://azuremarketplace.microsoft.com/en-us/marketplace/apps/SUSE.SLES-SAP ) or the [SUSE FAQ web page about SLES for SAP]( https://www.suse.com/products/sles-for-sap/frequently-asked-questions/ ).</span></span>


* <span data-ttu-id="fdf72-119">Procure por editores existentes, incluindo o SUSE:</span><span class="sxs-lookup"><span data-stu-id="fdf72-119">Look for existing publishers, including SUSE:</span></span>
  
   ```
   PS  : Get-AzureRmVMImagePublisher -Location "West Europe"  | where-object { $_.publishername -like "*US*"  }
   CLI : azure vm image list-publishers westeurope | grep "US"
   ```
* <span data-ttu-id="fdf72-120">Procure por ofertas existentes do SUSE:</span><span class="sxs-lookup"><span data-stu-id="fdf72-120">Look for existing offerings from SUSE:</span></span>
  
   ```
   PS  : Get-AzureRmVMImageOffer -Location "West Europe" -Publisher "SUSE"
   CLI : azure vm image list-offers westeurope SUSE
   ```
* <span data-ttu-id="fdf72-121">Procure por ofertas do SLES SUSE:</span><span class="sxs-lookup"><span data-stu-id="fdf72-121">Look for SUSE SLES offerings:</span></span>
  
   ```
   PS  : Get-AzureRmVMImageSku -Location "West Europe" -Publisher "SUSE" -Offer "SLES"
   PS  : Get-AzureRmVMImageSku -Location "West Europe" -Publisher "SUSE" -Offer "SLES-SAP"
   CLI : azure vm image list-skus westeurope SUSE SLES
   CLI : azure vm image list-skus westeurope SUSE SLES-SAP
   ```
* <span data-ttu-id="fdf72-122">Procure por uma versão específica do SKU do SLES:</span><span class="sxs-lookup"><span data-stu-id="fdf72-122">Look for a specific version of a SLES SKU:</span></span>
  
   ```
   PS  : Get-AzureRmVMImage -Location "West Europe" -Publisher "SUSE" -Offer "SLES" -skus "12-SP2"
   PS  : Get-AzureRmVMImage -Location "West Europe" -Publisher "SUSE" -Offer "SLES-SAP" -skus "12-SP2"
   CLI : azure vm image list westeurope SUSE SLES 12-SP2
   CLI : azure vm image list westeurope SUSE SLES-SAP 12-SP2
   ```

## <a name="installing-walinuxagent-in-a-suse-vm"></a><span data-ttu-id="fdf72-123">Instalando o WALinuxAgent em uma VM SUSE</span><span class="sxs-lookup"><span data-stu-id="fdf72-123">Installing WALinuxAgent in a SUSE VM</span></span>
<span data-ttu-id="fdf72-124">O agente chamado WALinuxAgent faz parte das imagens do SLES no Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="fdf72-124">The agent called WALinuxAgent is part of the SLES images in the Azure Marketplace.</span></span> <span data-ttu-id="fdf72-125">Para saber mais sobre como instalá-lo manualmente (por exemplo, ao carregar um VHD (disco rígido virtual) do sistema operacional SLES no local), confira:</span><span class="sxs-lookup"><span data-stu-id="fdf72-125">For information about installing it manually (for example, when uploading a SLES OS virtual hard disk (VHD) from on-premises), see:</span></span>

* [<span data-ttu-id="fdf72-126">OpenSUSE</span><span class="sxs-lookup"><span data-stu-id="fdf72-126">OpenSUSE</span></span>](http://software.opensuse.org/package/WALinuxAgent)
* [<span data-ttu-id="fdf72-127">As tabelas</span><span class="sxs-lookup"><span data-stu-id="fdf72-127">Azure</span></span>](../../linux/endorsed-distros.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
* [<span data-ttu-id="fdf72-128">SUSE</span><span class="sxs-lookup"><span data-stu-id="fdf72-128">SUSE</span></span>](https://www.suse.com/communities/blog/suse-linux-enterprise-server-configuration-for-windows-azure/)

## <a name="sap-enhanced-monitoring"></a><span data-ttu-id="fdf72-129">"Monitoramento avançado" do SAP</span><span class="sxs-lookup"><span data-stu-id="fdf72-129">SAP "enhanced monitoring"</span></span>
<span data-ttu-id="fdf72-130">O "monitoramento avançado" do SAP é um pré-requisito obrigatório para executar o SAP no Azure.</span><span class="sxs-lookup"><span data-stu-id="fdf72-130">SAP "enhanced monitoring" is a mandatory prerequisite to run SAP on Azure.</span></span> <span data-ttu-id="fdf72-131">Verifique os detalhes na nota do SAP 2191498 "SAP no Linux com o Azure: monitoramento aprimorado".</span><span class="sxs-lookup"><span data-stu-id="fdf72-131">Please check details in SAP note 2191498 "SAP on Linux with Azure: Enhanced Monitoring".</span></span>

## <a name="attaching-azure-data-disks-to-an-azure-linux-vm"></a><span data-ttu-id="fdf72-132">Anexar discos de dados do Azure em uma VM Linux do Azure</span><span class="sxs-lookup"><span data-stu-id="fdf72-132">Attaching Azure data disks to an Azure Linux VM</span></span>
<span data-ttu-id="fdf72-133">Você nunca deve montar discos de dados do Azure em uma VM Linux do Azure usando a ID do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="fdf72-133">You should never mount Azure data disks to an Azure Linux VM by using the device ID.</span></span> <span data-ttu-id="fdf72-134">Em vez disso, use o identificador universal exclusivo (UUID).</span><span class="sxs-lookup"><span data-stu-id="fdf72-134">Instead, use the universally unique identifier (UUID).</span></span> <span data-ttu-id="fdf72-135">Tenha cuidado ao usar, por exemplo, ferramentas gráficas para montar discos de dados do Azure.</span><span class="sxs-lookup"><span data-stu-id="fdf72-135">Be careful when you use graphical tools to mount Azure data disks, for example.</span></span> <span data-ttu-id="fdf72-136">Verifique as entradas em /etc/fstab.</span><span class="sxs-lookup"><span data-stu-id="fdf72-136">Double-check the entries in /etc/fstab.</span></span>

<span data-ttu-id="fdf72-137">O problema com a ID do dispositivo é que ela pode mudar, e a VM do Azure pode travar no processo de inicialização.</span><span class="sxs-lookup"><span data-stu-id="fdf72-137">The issue with the device ID is that it might change, and then the Azure VM might hang in the boot process.</span></span> <span data-ttu-id="fdf72-138">Você pode adicionar o parâmetro nofail em /etc/fstab para atenuar o problema.</span><span class="sxs-lookup"><span data-stu-id="fdf72-138">To mitigate the issue, you could add the nofail parameter in /etc/fstab.</span></span> <span data-ttu-id="fdf72-139">Mas tenha cuidado com o nofail, pois os aplicativos podem usar o ponto de montagem como antes e talvez gravar no sistema de arquivos raiz caso um disco de dados do Azure externo não tenha sido montado durante a inicialização.</span><span class="sxs-lookup"><span data-stu-id="fdf72-139">But, be careful with nofail because applications might use the mount point as before, and might write into the root file system in case an external Azure data disk wasn't mounted during the boot.</span></span>

<span data-ttu-id="fdf72-140">A única exceção na montagem via UUID está relacionada a anexar um disco do sistema operacional para fins de solução de problemas, conforme descrito na seção a seguir.</span><span class="sxs-lookup"><span data-stu-id="fdf72-140">The only exception to mounting via UUID is attaching an OS disk for troubleshooting purposes, as described in the following section.</span></span>

## <a name="troubleshooting-a-suse-vm-that-isnt-accessible-anymore"></a><span data-ttu-id="fdf72-141">Solução de problemas de uma VM SUSE que não está mais acessível</span><span class="sxs-lookup"><span data-stu-id="fdf72-141">Troubleshooting a SUSE VM that isn't accessible anymore</span></span>
<span data-ttu-id="fdf72-142">Pode haver situações em que uma VM SUSE no Azure trava no processo de inicialização (por exemplo, com um erro relacionado à montagem de discos).</span><span class="sxs-lookup"><span data-stu-id="fdf72-142">There might be situations where a SUSE VM on Azure hangs in the boot process (for example, with an error related to mounting disks).</span></span> <span data-ttu-id="fdf72-143">Você pode verificar esse problema usando o recurso de diagnóstico de inicialização para Máquinas Virtuais v2 do Azure no portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="fdf72-143">You can verify this issue by using the boot diagnostics feature for Azure Virtual Machines v2 in the Azure portal.</span></span> <span data-ttu-id="fdf72-144">Para saber mais, consulte [Diagnóstico de inicialização](https://azure.microsoft.com/blog/boot-diagnostics-for-virtual-machines-v2/).</span><span class="sxs-lookup"><span data-stu-id="fdf72-144">For more information, see [Boot diagnostics](https://azure.microsoft.com/blog/boot-diagnostics-for-virtual-machines-v2/).</span></span>

<span data-ttu-id="fdf72-145">Uma maneira de resolver o problema é anexar o disco do sistema operacional da VM danificada a outra VM SUSE no Azure.</span><span class="sxs-lookup"><span data-stu-id="fdf72-145">One way to solve the problem is to attach the OS disk from the damaged VM to another SUSE VM on Azure.</span></span> <span data-ttu-id="fdf72-146">Faça as alterações apropriadas, como editar o /etc/fstab ou remover as regras de udev de rede, conforme descrito na próxima seção.</span><span class="sxs-lookup"><span data-stu-id="fdf72-146">Then make appropriate changes like editing /etc/fstab or removing network udev rules, as described in the next section.</span></span>

<span data-ttu-id="fdf72-147">No entanto, há uma coisa importante a considerar.</span><span class="sxs-lookup"><span data-stu-id="fdf72-147">There is one important thing to consider.</span></span> <span data-ttu-id="fdf72-148">Implantar várias VMs SUSE da mesma imagem do Azure Marketplace (por exemplo, SLES 11 SP4) mostra que o disco do sistema operacional sempre será montado pelo mesmo UUID.</span><span class="sxs-lookup"><span data-stu-id="fdf72-148">Deploying several SUSE VMs from the same Azure Marketplace image (for example, SLES 11 SP4) causes the OS disk to always be mounted by the same UUID.</span></span> <span data-ttu-id="fdf72-149">Portanto, anexar um disco do sistema operacional de uma VM diferente por UUID que foi implantado usando a mesma imagem do Azure Marketplace resultará, portanto, em dois UUIDs idênticos.</span><span class="sxs-lookup"><span data-stu-id="fdf72-149">Therefore, using the UUID to attach an OS disk from a different VM that was deployed by using the same Azure Marketplace image will result in two identical UUIDs.</span></span> <span data-ttu-id="fdf72-150">Isso causa problemas e poderia significar que, na verdade, a VM está destinada à solução de problemas do sistema operacional anexado e danificado no disco do SO em vez do original.</span><span class="sxs-lookup"><span data-stu-id="fdf72-150">This causes problems and could mean that the VM meant for troubleshooting will in fact boot from the attached and damaged OS disk instead of the original one.</span></span>

<span data-ttu-id="fdf72-151">Há duas maneiras de evitar isso:</span><span class="sxs-lookup"><span data-stu-id="fdf72-151">There are two ways to avoid this:</span></span>

* <span data-ttu-id="fdf72-152">Usar uma imagem diferente do Azure Marketplace para a VM para solução de problemas (por exemplo, SLES 11 SPx em vez do SLES 12).</span><span class="sxs-lookup"><span data-stu-id="fdf72-152">Use a different Azure Marketplace image for the troubleshooting VM (for example, SLES 11 SPx instead of SLES 12 ).</span></span>
* <span data-ttu-id="fdf72-153">Não anexar o disco do sistema operacional danificado de outra VM por meio de UUID, mas usar algo.</span><span class="sxs-lookup"><span data-stu-id="fdf72-153">Don't attach the damaged OS disk from another VM by using UUID--use something else.</span></span>

## <a name="uploading-a-suse-vm-from-on-premises-to-azure"></a><span data-ttu-id="fdf72-154">Carregando uma VM SUSE do local no Azure</span><span class="sxs-lookup"><span data-stu-id="fdf72-154">Uploading a SUSE VM from on-premises to Azure</span></span>
<span data-ttu-id="fdf72-155">Para obter uma descrição das etapas para carregar uma VM SUSE do local para o Azure, veja [Preparar uma máquina virtual do SLES ou openSUSE para o Azure](../../linux/suse-create-upload-vhd.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="fdf72-155">For a description of the steps to upload a SUSE VM from on-premises to Azure, see [Prepare a SLES or openSUSE virtual machine for Azure](../../linux/suse-create-upload-vhd.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

<span data-ttu-id="fdf72-156">Se você quiser carregar uma VM sem a etapa de desprovisionamento no final para manter, por exemplo, uma instalação existente do SAP, bem como o nome do host, verifique os itens a seguir:</span><span class="sxs-lookup"><span data-stu-id="fdf72-156">If you want to upload a VM without the deprovision step at the end (for example, to keep an existing SAP installation, as well as the host name), check the following items:</span></span>

* <span data-ttu-id="fdf72-157">Verifique se o disco do sistema operacional foi montado com o UUID e não com a ID do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="fdf72-157">Make sure that the OS disk is mounted by using UUID and not the device ID.</span></span> <span data-ttu-id="fdf72-158">Alterar para o UUID somente em /etc/fstab não é suficiente para o disco do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="fdf72-158">Changing to UUID just in /etc/fstab is not enough for the OS disk.</span></span> <span data-ttu-id="fdf72-159">Além disso, não se esqueça de adaptar o carregador de inicialização por meio do YaST ou editando /boot/grub/menu.lst.</span><span class="sxs-lookup"><span data-stu-id="fdf72-159">Also, don't forget to adapt the boot loader through YaST or by editing /boot/grub/menu.lst.</span></span>
* <span data-ttu-id="fdf72-160">Se você usa o formato VHDX para o disco do sistema operacional do SUSE e convertido em VHD para carregar no Azure, é muito provável que o dispositivo de rede tenha mudado de eth0 para eth1.</span><span class="sxs-lookup"><span data-stu-id="fdf72-160">If you use the VHDX format for the SUSE OS disk and convert it to VHD for uploading to Azure, it's very likely that the network device will change from eth0 to eth1.</span></span> <span data-ttu-id="fdf72-161">Para evitar problemas quando você estiver inicializando o Azure, mude de volta para eth0, como descrito em [Como corrigir eth0 no VMware SLES 11 clonado](https://dartron.wordpress.com/2013/09/27/fixing-eth1-in-cloned-sles-11-vmware/).</span><span class="sxs-lookup"><span data-stu-id="fdf72-161">To avoid issues when you're booting on Azure later, change back to eth0 as described in [Fixing eth0 in cloned SLES 11 VMware](https://dartron.wordpress.com/2013/09/27/fixing-eth1-in-cloned-sles-11-vmware/).</span></span>

<span data-ttu-id="fdf72-162">Além do que está descrito neste artigo, também recomendamos a remoção do seguinte:</span><span class="sxs-lookup"><span data-stu-id="fdf72-162">In addition to what's described in the article, we recommend that you remove this:</span></span>

   <span data-ttu-id="fdf72-163">/lib/udev/rules.d/75-persistent-net-generator.rules</span><span class="sxs-lookup"><span data-stu-id="fdf72-163">/lib/udev/rules.d/75-persistent-net-generator.rules</span></span>

<span data-ttu-id="fdf72-164">Você também pode instalar o Agente Linux do Azure (waagent) para ajudar a evitar possíveis problemas, desde que não haja várias NICs.</span><span class="sxs-lookup"><span data-stu-id="fdf72-164">You can also install the Azure Linux Agent (waagent) to help you avoid potential issues, as long as there are not multiple NICs.</span></span>

## <a name="deploying-a-suse-vm-on-azure"></a><span data-ttu-id="fdf72-165">Implantando uma VM SUSE no Azure</span><span class="sxs-lookup"><span data-stu-id="fdf72-165">Deploying a SUSE VM on Azure</span></span>
<span data-ttu-id="fdf72-166">Você deve criar novas VMs SUSE usando arquivos de modelo JSON no novo modelo do Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="fdf72-166">You should create new SUSE VMs by using JSON template files in the new Azure Resource Manager model.</span></span> <span data-ttu-id="fdf72-167">Após a criação do arquivo de modelo JSON, será possível implantar a VM usando o seguinte comando da CLI como uma alternativa ao PowerShell:</span><span class="sxs-lookup"><span data-stu-id="fdf72-167">After the JSON template file is created, you can deploy the VM by using the following CLI command as an alternative to PowerShell:</span></span>

   ```
   azure group deployment create "<deployment name>" -g "<resource group name>" --template-file "<../../filename.json>"

   ```
<span data-ttu-id="fdf72-168">Para obter mais detalhes sobre os arquivos de modelo JSON, veja [Criação de modelos do Azure Resource Manager](../../../resource-group-authoring-templates.md) e [Modelos de início rápido do Azure](https://azure.microsoft.com/documentation/templates/).</span><span class="sxs-lookup"><span data-stu-id="fdf72-168">For more details about JSON template files, see [Authoring Azure Resource Manager templates](../../../resource-group-authoring-templates.md) and [Azure quickstart templates](https://azure.microsoft.com/documentation/templates/).</span></span>

<span data-ttu-id="fdf72-169">Para obter mais detalhes sobre o CLI e o Azure Resource Manager, veja [Usar a CLI do Azure para Mac, Linux e Windows com o Azure Resource Manager](../../../xplat-cli-azure-resource-manager.md).</span><span class="sxs-lookup"><span data-stu-id="fdf72-169">For more details about CLI and Azure Resource Manager, see [Use the Azure CLI for Mac, Linux, and Windows with Azure Resource Manager](../../../xplat-cli-azure-resource-manager.md).</span></span>

## <a name="sap-license-and-hardware-key"></a><span data-ttu-id="fdf72-170">Chave de licença e hardware do SAP</span><span class="sxs-lookup"><span data-stu-id="fdf72-170">SAP license and hardware key</span></span>
<span data-ttu-id="fdf72-171">Para a certificação oficial SAP-Azure, um novo mecanismo foi introduzido para calcular a chave de hardware do SAP usada para a licença do SAP.</span><span class="sxs-lookup"><span data-stu-id="fdf72-171">For the official SAP-Azure certification, a new mechanism was introduced to calculate the SAP hardware key that's used for the SAP license.</span></span> <span data-ttu-id="fdf72-172">O kernel do SAP precisou ser adaptado para fazer uso dele.</span><span class="sxs-lookup"><span data-stu-id="fdf72-172">The SAP kernel had to be adapted to make use of this.</span></span> <span data-ttu-id="fdf72-173">As versões anteriores de kernel do SAP para Linux não incluíam essa alteração de código.</span><span class="sxs-lookup"><span data-stu-id="fdf72-173">Former SAP kernel versions for Linux did not include this code change.</span></span> <span data-ttu-id="fdf72-174">Portanto, pode acontecer que, em certas situações (por exemplo, no redimensionamento da VM do Azure), a chave de hardware do SAP tenha sido alterada e a licença do SAP não fosse mais válida.</span><span class="sxs-lookup"><span data-stu-id="fdf72-174">Therefore, in certain situations (for example, Azure VM resizing), the SAP hardware key changed and the SAP license was no longer be valid.</span></span> <span data-ttu-id="fdf72-175">Isso é resolvido nos kernels do SAP para Linux mais recentes.</span><span class="sxs-lookup"><span data-stu-id="fdf72-175">This is solved in the latest SAP Linux kernels.</span></span> <span data-ttu-id="fdf72-176">Para obter detalhes, consulte nota do SAP 1928533.</span><span class="sxs-lookup"><span data-stu-id="fdf72-176">For details please check SAP note 1928533.</span></span>

## <a name="suse-sapconf-package--tuned-adm"></a><span data-ttu-id="fdf72-177">SUSE sapconf package / tuned-adm</span><span class="sxs-lookup"><span data-stu-id="fdf72-177">SUSE sapconf package / tuned-adm</span></span>
<span data-ttu-id="fdf72-178">O SUSE fornece um pacote chamado "sapconf", que gerencia um conjunto de configurações específicas do SAP.</span><span class="sxs-lookup"><span data-stu-id="fdf72-178">SUSE provides a package called "sapconf" that manages a set of SAP-specific settings.</span></span> <span data-ttu-id="fdf72-179">Para obter mais detalhes sobre o que este pacote faz e como instalá-lo e usá-lo, veja [Como usar sapconf para preparar o SUSE Linux Enterprise Server para executar sistemas SAP](https://www.suse.com/communities/blog/using-sapconf-to-prepare-suse-linux-enterprise-server-to-run-sap-systems/) e [Como preparar um SUSE Linux Enterprise Server para executar sistemas SAP ou o que é sapconf?](http://scn.sap.com/community/linux/blog/2014/03/31/what-is-sapconf-or-how-to-prepare-a-suse-linux-enterprise-server-for-running-sap-systems).</span><span class="sxs-lookup"><span data-stu-id="fdf72-179">For more details about what this package does, and how to install and use it, see [Using sapconf to prepare a SUSE Linux Enterprise Server to run SAP systems](https://www.suse.com/communities/blog/using-sapconf-to-prepare-suse-linux-enterprise-server-to-run-sap-systems/) and [What is sapconf or how to prepare a SUSE Linux Enterprise Server for running SAP systems?](http://scn.sap.com/community/linux/blog/2014/03/31/what-is-sapconf-or-how-to-prepare-a-suse-linux-enterprise-server-for-running-sap-systems).</span></span>

<span data-ttu-id="fdf72-180">Enquanto isso, há uma nova ferramenta que substitui sapconf - tuned-adm.</span><span class="sxs-lookup"><span data-stu-id="fdf72-180">In the meantime there is a new tool which replaces sapconf - tuned-adm.</span></span> <span data-ttu-id="fdf72-181">Há mais detalhes sobre essa ferramenta nos dois links a seguir.</span><span class="sxs-lookup"><span data-stu-id="fdf72-181">One can find more details about this tool following the two links below.</span></span>

<span data-ttu-id="fdf72-182">A documentação do SLES sobre tuned-adm profile sap-hana pode ser encontrada [aqui](https://www.suse.com/documentation/sles-for-sap-12/book_s4s/data/sec_s4s_configure_sapconf.html)</span><span class="sxs-lookup"><span data-stu-id="fdf72-182">SLES documentation about tuned-adm profile sap-hana can be found [here](https://www.suse.com/documentation/sles-for-sap-12/book_s4s/data/sec_s4s_configure_sapconf.html)</span></span> 

<span data-ttu-id="fdf72-183">Ajustes de sistemas para cargas de trabalho do SAP com tuned-adm - podem ser encontrados [aqui](https://www.suse.com/documentation/sles-for-sap-12/pdfdoc/book_s4s/book_s4s.pdf) no capítulo 6.2</span><span class="sxs-lookup"><span data-stu-id="fdf72-183">Tuning Systems for SAP Workloads with tuned-adm - can be found [here](https://www.suse.com/documentation/sles-for-sap-12/pdfdoc/book_s4s/book_s4s.pdf) in chapter 6.2</span></span>

## <a name="nfs-share-in-distributed-sap-installations"></a><span data-ttu-id="fdf72-184">Compartilhamento de NFS em instalações SAP distribuídas</span><span class="sxs-lookup"><span data-stu-id="fdf72-184">NFS share in distributed SAP installations</span></span>
<span data-ttu-id="fdf72-185">No caso de uma instalação distribuída na qual você deseja instalar, por exemplo, o banco de dados e os servidores de aplicativos SAP em VMs separadas, é possível compartilhar o diretório /sapmnt por meio dos Serviços de NFS (Network File System).</span><span class="sxs-lookup"><span data-stu-id="fdf72-185">If you have a distributed installation--for example, where you want to install the database and the SAP application servers in separate VMs--you can share the /sapmnt directory via Network File System (NFS).</span></span> <span data-ttu-id="fdf72-186">Caso haja problemas com as etapas de instalação após a criação do compartilhamento de NFS para /sapmnt, verifique se "no_root_squash" está definido para o compartilhamento.</span><span class="sxs-lookup"><span data-stu-id="fdf72-186">If you have problems with the installation steps after you create the NFS share for /sapmnt, check to see if "no_root_squash" is set for the share.</span></span>

## <a name="logical-volumes"></a><span data-ttu-id="fdf72-187">Volumes lógicos</span><span class="sxs-lookup"><span data-stu-id="fdf72-187">Logical volumes</span></span>
<span data-ttu-id="fdf72-188">No passado, se alguém precisasse de um grande volume lógico em vários discos de dados do Azure (por exemplo, para o banco de dados SAP), seria recomendável usar o mdadm, pois o lvm ainda não estava totalmente validado no Azure.</span><span class="sxs-lookup"><span data-stu-id="fdf72-188">In the past if one needed a large logical volume across multiple Azure data disks (for example, for the SAP database), it was recommended to use mdadm as lvm wasn't fully validated yet on Azure.</span></span> <span data-ttu-id="fdf72-189">Para saber como configurar o RAID do Linux no Azure usando o mdadm, veja [Configurar o software RAID no Linux](../../linux/configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="fdf72-189">To learn how to set up Linux RAID on Azure by using mdadm, see [Configure software RAID on Linux](../../linux/configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span> <span data-ttu-id="fdf72-190">Enquanto isso, a partir do início de maio de 2016, o lvm também tem suporte total no Azure e pode ser usado como uma alternativa para o mdadm.</span><span class="sxs-lookup"><span data-stu-id="fdf72-190">In the meantime as of beginning of May 2016 also lvm is fully supported on Azure and can be used as an alternative to mdadm.</span></span> <span data-ttu-id="fdf72-191">Para obter informações adicionais sobre o lvm no Azure, veja [Configurar o LVM em uma VM do Linux no Azure](../../linux/configure-lvm.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="fdf72-191">For additional information regarding lvm on Azure see [Configure LVM on a Linux VM in Azure](../../linux/configure-lvm.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

## <a name="azure-suse-repository"></a><span data-ttu-id="fdf72-192">Repositório SUSE do Azure</span><span class="sxs-lookup"><span data-stu-id="fdf72-192">Azure SUSE repository</span></span>
<span data-ttu-id="fdf72-193">Se houver um problema com o acesso ao repositório SUSE padrão do Azure, você pode usar um comando simples para redefini-lo.</span><span class="sxs-lookup"><span data-stu-id="fdf72-193">If you have an issue with access to the standard Azure SUSE repository, you can use a simple command to reset it.</span></span> <span data-ttu-id="fdf72-194">Isso pode acontecer quando você cria uma imagem de sistema operacional particular em uma região do Azure e, depois, copia a imagem para uma região diferente em que você quer implantar novas VMs com base nesta imagem de sistema operacional particular.</span><span class="sxs-lookup"><span data-stu-id="fdf72-194">This might happen if you create a private OS image in an Azure region and then copy the image to a different region where you want to deploy new VMs that are based on this private OS image.</span></span> <span data-ttu-id="fdf72-195">Basta executar o seguinte comando na VM:</span><span class="sxs-lookup"><span data-stu-id="fdf72-195">Just run the following command inside the VM:</span></span>

   ```
   service guestregister restart
   ```

## <a name="gnome-desktop"></a><span data-ttu-id="fdf72-196">Área de trabalho Gnome</span><span class="sxs-lookup"><span data-stu-id="fdf72-196">Gnome desktop</span></span>
<span data-ttu-id="fdf72-197">Se você deseja usar a área de trabalho Gnome para instalar um sistema de demonstração completo SAP em uma única VM, incluindo um SAP GUI, navegador, console de gerenciamento SAP e assim por diante, aqui vai uma dica para instalá-lo nas imagens SLES do Azure:</span><span class="sxs-lookup"><span data-stu-id="fdf72-197">If you want to use the Gnome desktop to install a complete SAP demo system inside a single VM--including a SAP GUI, browser, and SAP management console--use this hint to install it on the Azure SLES images:</span></span>

   <span data-ttu-id="fdf72-198">Para o SLES 11:</span><span class="sxs-lookup"><span data-stu-id="fdf72-198">For SLES 11:</span></span>

   ```
   zypper in -t pattern gnome
   ```

   <span data-ttu-id="fdf72-199">Para o SLES 12:</span><span class="sxs-lookup"><span data-stu-id="fdf72-199">For SLES 12:</span></span>

   ```
   zypper in -t pattern gnome-basic
   ```

## <a name="sap-support-for-oracle-on-linux-in-the-cloud"></a><span data-ttu-id="fdf72-200">Suporte de SAP para Oracle no Linux na nuvem</span><span class="sxs-lookup"><span data-stu-id="fdf72-200">SAP support for Oracle on Linux in the cloud</span></span>
<span data-ttu-id="fdf72-201">Há uma restrição de suporte da Oracle para Linux em ambientes virtualizados.</span><span class="sxs-lookup"><span data-stu-id="fdf72-201">There is a support restriction from Oracle on Linux in virtualized environments.</span></span> <span data-ttu-id="fdf72-202">Embora este não seja um tópico específico do Azure, é importante entender.</span><span class="sxs-lookup"><span data-stu-id="fdf72-202">Although this is not an Azure-specific topic, it's important to understand.</span></span> <span data-ttu-id="fdf72-203">O SAP não oferece suporte ao Oracle no SUSE ou ao Red Hat em uma nuvem pública como o Azure.</span><span class="sxs-lookup"><span data-stu-id="fdf72-203">SAP does not support Oracle on SUSE or Red Hat in a public cloud like Azure.</span></span> <span data-ttu-id="fdf72-204">Para discutir sobre este tópico, contate diretamente o Oracle.</span><span class="sxs-lookup"><span data-stu-id="fdf72-204">To discuss this topic, contact Oracle directly.</span></span>

