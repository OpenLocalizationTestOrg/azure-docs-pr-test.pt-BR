---
title: "aaaAzure máquinas virtuais de planejamento e implementação do SAP NetWeaver | Microsoft Docs"
description: "Planejamento e implementação de Máquinas Virtuais do Azure para SAP NetWeaver"
services: virtual-machines-linux,virtual-machines-windows
documentationcenter: 
author: MSSedusch
manager: timlt
editor: 
tags: azure-resource-manager
keywords: 
ms.assetid: d7c59cc1-b2d0-4d90-9126-628f9c7a5538
ms.service: virtual-machines-linux
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: vm-linux
ms.workload: infrastructure-services
ms.date: 11/08/2016
ms.author: sedusch
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 0d1e9fa13d847e4d8abb3c34fd352d1f4ece3717
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-virtual-machines-planning-and-implementation-for-sap-netweaver"></a><span data-ttu-id="31d3b-103">Planejamento e implementação de Máquinas Virtuais do Azure para SAP NetWeaver</span><span class="sxs-lookup"><span data-stu-id="31d3b-103">Azure Virtual Machines planning and implementation for SAP NetWeaver</span></span>
[767598]:https://launchpad.support.sap.com/#/notes/767598
[773830]:https://launchpad.support.sap.com/#/notes/773830
[826037]:https://launchpad.support.sap.com/#/notes/826037
[965908]:https://launchpad.support.sap.com/#/notes/965908
[1031096]:https://launchpad.support.sap.com/#/notes/1031096
[1139904]:https://launchpad.support.sap.com/#/notes/1139904
[1173395]:https://launchpad.support.sap.com/#/notes/1173395
[1245200]:https://launchpad.support.sap.com/#/notes/1245200
[1409604]:https://launchpad.support.sap.com/#/notes/1409604
[1558958]:https://launchpad.support.sap.com/#/notes/1558958
[1585981]:https://launchpad.support.sap.com/#/notes/1585981
[1588316]:https://launchpad.support.sap.com/#/notes/1588316
[1590719]:https://launchpad.support.sap.com/#/notes/1590719
[1597355]:https://launchpad.support.sap.com/#/notes/1597355
[1605680]:https://launchpad.support.sap.com/#/notes/1605680
[1619720]:https://launchpad.support.sap.com/#/notes/1619720
[1619726]:https://launchpad.support.sap.com/#/notes/1619726
[1619967]:https://launchpad.support.sap.com/#/notes/1619967
[1750510]:https://launchpad.support.sap.com/#/notes/1750510
[1752266]:https://launchpad.support.sap.com/#/notes/1752266
[1757924]:https://launchpad.support.sap.com/#/notes/1757924
[1757928]:https://launchpad.support.sap.com/#/notes/1757928
[1758182]:https://launchpad.support.sap.com/#/notes/1758182
[1758496]:https://launchpad.support.sap.com/#/notes/1758496
[1772688]:https://launchpad.support.sap.com/#/notes/1772688
[1814258]:https://launchpad.support.sap.com/#/notes/1814258
[1882376]:https://launchpad.support.sap.com/#/notes/1882376
[1909114]:https://launchpad.support.sap.com/#/notes/1909114
[1922555]:https://launchpad.support.sap.com/#/notes/1922555
[1928533]:https://launchpad.support.sap.com/#/notes/1928533
[1941500]:https://launchpad.support.sap.com/#/notes/1941500
[1956005]:https://launchpad.support.sap.com/#/notes/1956005
[1973241]:https://launchpad.support.sap.com/#/notes/1973241
[1984787]:https://launchpad.support.sap.com/#/notes/1984787
[1999351]:https://launchpad.support.sap.com/#/notes/1999351
[2002167]:https://launchpad.support.sap.com/#/notes/2002167
[2015553]:https://launchpad.support.sap.com/#/notes/2015553
[2039619]:https://launchpad.support.sap.com/#/notes/2039619
[2069760]:https://launchpad.support.sap.com/#/notes/2069760
[2121797]:https://launchpad.support.sap.com/#/notes/2121797
[2134316]:https://launchpad.support.sap.com/#/notes/2134316
[2178632]:https://launchpad.support.sap.com/#/notes/2178632
[2191498]:https://launchpad.support.sap.com/#/notes/2191498
[2233094]:https://launchpad.support.sap.com/#/notes/2233094
[2243692]:https://launchpad.support.sap.com/#/notes/2243692

[azure-cli]:../../../cli-install-nodejs.md
[azure-portal]:https://portal.azure.com
[azure-ps]:/powershell/azureps-cmdlets-docs
[azure-quickstart-templates-github]:https://github.com/Azure/azure-quickstart-templates
[azure-script-ps]:https://go.microsoft.com/fwlink/p/?LinkID=395017
[azure-subscription-service-limits]:../../../azure-subscription-service-limits.md
[azure-subscription-service-limits-subscription]:../../../azure-subscription-service-limits.md#subscription-limits

[dbms-guide]:dbms-guide.md
[dbms-guide-2.1]:dbms-guide.md#c7abf1f0-c927-4a7c-9c1d-c7b5b3b7212f
[dbms-guide-2.2]:dbms-guide.md#c8e566f9-21b7-4457-9f7f-126036971a91
[dbms-guide-2.3]:dbms-guide.md#10b041ef-c177-498a-93ed-44b3441ab152
[dbms-guide-2]:dbms-guide.md#65fa79d6-a85f-47ee-890b-22e794f51a64
[dbms-guide-3]:dbms-guide.md#871dfc27-e509-4222-9370-ab1de77021c3
[dbms-guide-5.5.1]:dbms-guide.md#0fef0e79-d3fe-4ae2-85af-73666a6f7268
[dbms-guide-5.5.2]:dbms-guide.md#f9071eff-9d72-4f47-9da4-1852d782087b
[dbms-guide-5.6]:dbms-guide.md#1b353e38-21b3-4310-aeb6-a77e7c8e81c8
[dbms-guide-5.8]:dbms-guide.md#9053f720-6f3b-4483-904d-15dc54141e30
[dbms-guide-5]:dbms-guide.md#3264829e-075e-4d25-966e-a49dad878737
[dbms-guide-8.4.1]:dbms-guide.md#b48cfe3b-48e9-4f5b-a783-1d29155bd573
[dbms-guide-8.4.2]:dbms-guide.md#23c78d3b-ca5a-4e72-8a24-645d141a3f5d
[dbms-guide-8.4.3]:dbms-guide.md#77cd2fbb-307e-4cbf-a65f-745553f72d2c
[dbms-guide-8.4.4]:dbms-guide.md#f77c1436-9ad8-44fb-a331-8671342de818
[dbms-guide-900-sap-cache-server-on-premises]:dbms-guide.md#642f746c-e4d4-489d-bf63-73e80177a0a8

[dbms-guide-figure-100]:media/virtual-machines-shared-sap-dbms-guide/100_storage_account_types.png
[dbms-guide-figure-200]:media/virtual-machines-shared-sap-dbms-guide/200-ha-set-for-dbms-ha.png
[dbms-guide-figure-300]:media/virtual-machines-shared-sap-dbms-guide/300-reference-config-iaas.png
[dbms-guide-figure-400]:media/virtual-machines-shared-sap-dbms-guide/400-sql-2012-backup-to-blob-storage.png
[dbms-guide-figure-500]:media/virtual-machines-shared-sap-dbms-guide/500-sql-2012-backup-to-blob-storage-different-containers.png
[dbms-guide-figure-600]:media/virtual-machines-shared-sap-dbms-guide/600-iaas-maxdb.png
[dbms-guide-figure-700]:media/virtual-machines-shared-sap-dbms-guide/700-livecach-prod.png
[dbms-guide-figure-800]:media/virtual-machines-shared-sap-dbms-guide/800-azure-vm-sap-content-server.png
[dbms-guide-figure-900]:media/virtual-machines-shared-sap-dbms-guide/900-sap-cache-server-on-premises.png

[deployment-guide]:deployment-guide.md
[deployment-guide-2.2]:deployment-guide.md#42ee2bdb-1efc-4ec7-ab31-fe4c22769b94
[deployment-guide-3.1.2]:deployment-guide.md#3688666f-281f-425b-a312-a77e7db2dfab
[deployment-guide-3.2]:deployment-guide.md#db477013-9060-4602-9ad4-b0316f8bb281
[deployment-guide-3.3]:deployment-guide.md#54a1fc6d-24fd-4feb-9c57-ac588a55dff2
[deployment-guide-3.4]:deployment-guide.md#a9a60133-a763-4de8-8986-ac0fa33aa8c1
[deployment-guide-3]:deployment-guide.md#b3253ee3-d63b-4d74-a49b-185e76c4088e
[deployment-guide-4.1]:deployment-guide.md#604bcec2-8b6e-48d2-a944-61b0f5dee2f7
[deployment-guide-4.2]:deployment-guide.md#7ccf6c3e-97ae-4a7a-9c75-e82c37beb18e
[deployment-guide-4.3]:deployment-guide.md#31d9ecd6-b136-4c73-b61e-da4a29bbc9cc
[deployment-guide-4.4.2]:deployment-guide.md#6889ff12-eaaf-4f3c-97e1-7c9edc7f7542
[deployment-guide-4.4]:deployment-guide.md#c7cbb0dc-52a4-49db-8e03-83e7edc2927d
[deployment-guide-4.5.1]:deployment-guide.md#987cf279-d713-4b4c-8143-6b11589bb9d4
[deployment-guide-4.5.2]:deployment-guide.md#408f3779-f422-4413-82f8-c57a23b4fc2f
[deployment-guide-4.5]:deployment-guide.md#d98edcd3-f2a1-49f7-b26a-07448ceb60ca
[deployment-guide-5.1]:deployment-guide.md#bb61ce92-8c5c-461f-8c53-39f5e5ed91f2
[deployment-guide-5.2]:deployment-guide.md#e2d592ff-b4ea-4a53-a91a-e5521edb6cd1
[deployment-guide-5.3]:deployment-guide.md#fe25a7da-4e4e-4388-8907-8abc2d33cfd8

[deployment-guide-configure-monitoring-scenario-1]:deployment-guide.md#ec323ac3-1de9-4c3a-b770-4ff701def65b
[deployment-guide-configure-proxy]:deployment-guide.md#baccae00-6f79-4307-ade4-40292ce4e02d
[deployment-guide-figure-100]:media/virtual-machines-shared-sap-deployment-guide/100-deploy-vm-image.png
[deployment-guide-figure-1000]:media/virtual-machines-shared-sap-deployment-guide/1000-service-properties.png
[deployment-guide-figure-11]:deployment-guide.md#figure-11
[deployment-guide-figure-1100]:media/virtual-machines-shared-sap-deployment-guide/1100-azperflib.png
[deployment-guide-figure-1200]:media/virtual-machines-shared-sap-deployment-guide/1200-cmd-test-login.png
[deployment-guide-figure-1300]:media/virtual-machines-shared-sap-deployment-guide/1300-cmd-test-executed.png
[deployment-guide-figure-14]:deployment-guide.md#figure-14
[deployment-guide-figure-1400]:media/virtual-machines-shared-sap-deployment-guide/1400-azperflib-error-servicenotstarted.png
[deployment-guide-figure-300]:media/virtual-machines-shared-sap-deployment-guide/300-deploy-private-image.png
[deployment-guide-figure-400]:media/virtual-machines-shared-sap-deployment-guide/400-deploy-using-disk.png
[deployment-guide-figure-5]:deployment-guide.md#figure-5
[deployment-guide-figure-50]:media/virtual-machines-shared-sap-deployment-guide/50-forced-tunneling-suse.png
[deployment-guide-figure-500]:media/virtual-machines-shared-sap-deployment-guide/500-install-powershell.png
[deployment-guide-figure-6]:deployment-guide.md#figure-6
[deployment-guide-figure-600]:media/virtual-machines-shared-sap-deployment-guide/600-powershell-version.png
[deployment-guide-figure-7]:deployment-guide.md#figure-7
[deployment-guide-figure-700]:media/virtual-machines-shared-sap-deployment-guide/700-install-powershell-installed.png
[deployment-guide-figure-760]:media/virtual-machines-shared-sap-deployment-guide/760-azure-cli-version.png
[deployment-guide-figure-900]:media/virtual-machines-shared-sap-deployment-guide/900-cmd-update-executed.png
[deployment-guide-figure-azure-cli-installed]:deployment-guide.md#402488e5-f9bb-4b29-8063-1c5f52a892d0
[deployment-guide-figure-azure-cli-version]:deployment-guide.md#0ad010e6-f9b5-4c21-9c09-bb2e5efb3fda
[deployment-guide-install-vm-agent-windows]:deployment-guide.md#b2db5c9a-a076-42c6-9835-16945868e866
[deployment-guide-troubleshooting-chapter]:deployment-guide.md#564adb4f-5c95-4041-9616-6635e83a810b

[deploy-template-cli]:../../../resource-group-template-deploy-cli.md
[deploy-template-portal]:../../../resource-group-template-deploy-portal.md
[deploy-template-powershell]:../../../resource-group-template-deploy.md

[dr-guide-classic]:http://go.microsoft.com/fwlink/?LinkID=521971

[getting-started]:get-started.md
[getting-started-dbms]:get-started.md#1343ffe1-8021-4ce6-a08d-3a1553a4db82
[getting-started-deployment]:get-started.md#6aadadd2-76b5-46d8-8713-e8d63630e955
[getting-started-planning]:get-started.md#3da0389e-708b-4e82-b2a2-e92f132df89c

[getting-started-windows-classic]:../../virtual-machines-windows-classic-sap-get-started.md
[getting-started-windows-classic-dbms]:../../virtual-machines-windows-classic-sap-get-started.md#c5b77a14-f6b4-44e9-acab-4d28ff72a930
[getting-started-windows-classic-deployment]:../../virtual-machines-windows-classic-sap-get-started.md#f84ea6ce-bbb4-41f7-9965-34d31b0098ea
[getting-started-windows-classic-dr]:../../virtual-machines-windows-classic-sap-get-started.md#cff10b4a-01a5-4dc3-94b6-afb8e55757d3
[getting-started-windows-classic-ha-sios]:../../virtual-machines-windows-classic-sap-get-started.md#4bb7512c-0fa0-4227-9853-4004281b1037
[getting-started-windows-classic-planning]:../../virtual-machines-windows-classic-sap-get-started.md#f2a5e9d8-49e4-419e-9900-af783173481c

[ha-guide-classic]:http://go.microsoft.com/fwlink/?LinkId=613056

[install-extension-cli]:virtual-machines-linux-enable-aem.md

[Logo_Linux]:media/virtual-machines-shared-sap-shared/Linux.png
[Logo_Windows]:media/virtual-machines-shared-sap-shared/Windows.png

[msdn-set-azurermvmaemextension]:https://msdn.microsoft.com/library/azure/mt670598.aspx

[planning-guide]:planning-guide.md  
[planning-guide-1.2]:planning-guide.md#e55d1e22-c2c8-460b-9897-64622a34fdff
[planning-guide-11]:planning-guide.md#7cf991a1-badd-40a9-944e-7baae842a058
[planning-guide-11.4.1]:planning-guide.md#5d9d36f9-9058-435d-8367-5ad05f00de77
[planning-guide-11.5]:planning-guide.md#4e165b58-74ca-474f-a7f4-5e695a93204f
[planning-guide-2.1]:planning-guide.md#1625df66-4cc6-4d60-9202-de8a0b77f803
[planning-guide-2.2]:planning-guide.md#f5b3b18c-302c-4bd8-9ab2-c388f1ab3d10
[planning-guide-3.1]:planning-guide.md#be80d1b9-a463-4845-bd35-f4cebdb5424a
[planning-guide-3.2.1]:planning-guide.md#df49dc09-141b-4f34-a4a2-990913b30358
[planning-guide-3.2.2]:planning-guide.md#fc1ac8b2-e54a-487c-8581-d3cc6625e560
[planning-guide-3.2.3]:planning-guide.md#18810088-f9be-4c97-958a-27996255c665
[planning-guide-3.2]:planning-guide.md#8d8ad4b8-6093-4b91-ac36-ea56d80dbf77
[planning-guide-3.3.2]:planning-guide.md#ff5ad0f9-f7f4-4022-9102-af07aef3bc92
[planning-guide-5.1.1]:planning-guide.md#4d175f1b-7353-4137-9d2f-817683c26e53
[planning-guide-5.1.2]:planning-guide.md#e18f7839-c0e2-4385-b1e6-4538453a285c
[planning-guide-5.2.1]:planning-guide.md#1b287330-944b-495d-9ea7-94b83aff73ef
[planning-guide-5.2.2]:planning-guide.md#57f32b1c-0cba-4e57-ab6e-c39fe22b6ec3
[planning-guide-5.2]:planning-guide.md#6ffb9f41-a292-40bf-9e70-8204448559e7
[planning-guide-5.3.1]:planning-guide.md#6e835de8-40b1-4b71-9f18-d45b20959b79
[planning-guide-5.3.2]:planning-guide.md#a43e40e6-1acc-4633-9816-8f095d5a7b6a
[planning-guide-5.4.2]:planning-guide.md#9789b076-2011-4afa-b2fe-b07a8aba58a1
[planning-guide-5.5.1]:planning-guide.md#4efec401-91e0-40c0-8e64-f2dceadff646
[planning-guide-5.5.3]:planning-guide.md#17e0d543-7e8c-4160-a7da-dd7117a1ad9d
[planning-guide-7.1]:planning-guide.md#3e9c3690-da67-421a-bc3f-12c520d99a30
[planning-guide-7]:planning-guide.md#96a77628-a05e-475d-9df3-fb82217e8f14
[planning-guide-9.1]:planning-guide.md#6f0a47f3-a289-4090-a053-2521618a28c3
[planning-guide-azure-premium-storage]:planning-guide.md#ff5ad0f9-f7f4-4022-9102-af07aef3bc92

[planning-guide-figure-100]:media/virtual-machines-shared-sap-planning-guide/100-single-vm-in-azure.png
[planning-guide-figure-1300]:media/virtual-machines-shared-sap-planning-guide/1300-ref-config-iaas-for-sap.png
[planning-guide-figure-1400]:media/virtual-machines-shared-sap-planning-guide/1400-attach-detach-disks.png
[planning-guide-figure-1600]:media/virtual-machines-shared-sap-planning-guide/1600-firewall-port-rule.png
[planning-guide-figure-1700]:media/virtual-machines-shared-sap-planning-guide/1700-single-vm-demo.png
[planning-guide-figure-1900]:media/virtual-machines-shared-sap-planning-guide/1900-vm-set-vnet.png
[planning-guide-figure-200]:media/virtual-machines-shared-sap-planning-guide/200-multiple-vms-in-azure.png
[planning-guide-figure-2100]:media/virtual-machines-shared-sap-planning-guide/2100-s2s.png
[planning-guide-figure-2200]:media/virtual-machines-shared-sap-planning-guide/2200-network-printing.png
[planning-guide-figure-2300]:media/virtual-machines-shared-sap-planning-guide/2300-sapgui-stms.png
[planning-guide-figure-2400]:media/virtual-machines-shared-sap-planning-guide/2400-vm-extension-overview.png
[planning-guide-figure-2500]:media/virtual-machines-shared-sap-planning-guide/planning-monitoring-overview-2502.png
[planning-guide-figure-2600]:media/virtual-machines-shared-sap-planning-guide/2600-sap-router-connection.png
[planning-guide-figure-2700]:media/virtual-machines-shared-sap-planning-guide/2700-exposed-sap-portal.png
[planning-guide-figure-2800]:media/virtual-machines-shared-sap-planning-guide/2800-endpoint-config.png
[planning-guide-figure-2900]:media/virtual-machines-shared-sap-planning-guide/2900-azure-ha-sap-ha.png
[planning-guide-figure-2901]:media/virtual-machines-shared-sap-planning-guide/2901-azure-ha-sap-ha-md.png
[planning-guide-figure-300]:media/virtual-machines-shared-sap-planning-guide/300-vpn-s2s.png
[planning-guide-figure-3000]:media/virtual-machines-shared-sap-planning-guide/3000-sap-ha-on-azure.png
[planning-guide-figure-3200]:media/virtual-machines-shared-sap-planning-guide/3200-sap-ha-with-sql.png
[planning-guide-figure-3201]:media/virtual-machines-shared-sap-planning-guide/3201-sap-ha-with-sql-md.png
[planning-guide-figure-400]:media/virtual-machines-shared-sap-planning-guide/400-vm-services.png
[planning-guide-figure-600]:media/virtual-machines-shared-sap-planning-guide/600-s2s-details.png
[planning-guide-figure-700]:media/virtual-machines-shared-sap-planning-guide/700-decision-tree-deploy-to-azure.png
[planning-guide-figure-800]:media/virtual-machines-shared-sap-planning-guide/800-portal-vm-overview.png
[planning-guide-microsoft-azure-networking]:planning-guide.md#61678387-8868-435d-9f8c-450b2424f5bd
[planning-guide-storage-microsoft-azure-storage-and-data-disks]:planning-guide.md#a72afa26-4bf4-4a25-8cf7-855d6032157f

[powershell-install-configure]:https://docs.microsoft.com/powershell/azure/install-azurerm-ps
[resource-group-authoring-templates]:../../../resource-group-authoring-templates.md
[resource-group-overview]:../../../azure-resource-manager/resource-group-overview.md
[resource-groups-networking]:../../../virtual-network/resource-groups-networking.md
[sap-pam]:https://support.sap.com/pam
[sap-templates-2-tier-marketplace-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-marketplace-image%2Fazuredeploy.json
[sap-templates-2-tier-os-disk]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-user-disk%2Fazuredeploy.json
[sap-templates-2-tier-user-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-user-image%2Fazuredeploy.json
[sap-templates-3-tier-marketplace-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-3-tier-marketplace-image%2Fazuredeploy.json
[sap-templates-3-tier-user-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-3-tier-user-image%2Fazuredeploy.json
[storage-azure-cli]:../../../storage/common/storage-azure-cli.md
[storage-azure-cli-copy-blobs]:../../../storage/common/storage-azure-cli.md#copy-blobs
[storage-introduction]:../../../storage/common/storage-introduction.md
[storage-powershell-guide-full-copy-vhd]:../../../storage/common/storage-powershell-guide-full.md#how-to-copy-blobs-from-one-storage-container-to-another
[storage-premium-storage-preview-portal]:../../../storage/common/storage-premium-storage.md
[storage-redundancy]:../../../storage/common/storage-redundancy.md
[storage-scalability-targets]:../../../storage/common/storage-scalability-targets.md
[storage-use-azcopy]:../../../storage/common/storage-use-azcopy.md
[template-201-vm-from-specialized-vhd]:https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-from-specialized-vhd
[templates-101-simple-windows-vm]:https://github.com/Azure/azure-quickstart-templates/tree/master/101-simple-windows-vm
[templates-101-vm-from-user-image]:https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-from-user-image
[virtual-machines-linux-attach-disk-portal]:../../linux/attach-disk-portal.md
[virtual-machines-azure-resource-manager-architecture]:../../../resource-manager-deployment-model.md
[virtual-machines-azurerm-versus-azuresm]:virtual-machines-linux-compare-deployment-models.md
[virtual-machines-windows-classic-configure-oracle-data-guard]:../../virtual-machines-windows-classic-configure-oracle-data-guard.md
[virtual-machines-linux-cli-deploy-templates]:../../linux/cli-deploy-templates.md
[virtual-machines-deploy-rmtemplates-powershell]:../../virtual-machines-windows-ps-manage.md
[virtual-machines-linux-agent-user-guide]:../../linux/agent-user-guide.md
[virtual-machines-linux-agent-user-guide-command-line-options]:../../linux/agent-user-guide.md#command-line-options
[virtual-machines-linux-capture-image]:../../linux/capture-image.md
[virtual-machines-linux-capture-image-resource-manager]:../../linux/capture-image.md
[virtual-machines-linux-capture-image-resource-manager-capture]:../../linux/capture-image.md#step-2-capture-the-vm
[virtual-machines-windows-capture-image-resource-manager]:../../windows/capture-image.md
[virtual-machines-windows-capture-image]:../../virtual-machines-windows-generalize-vhd.md
[virtual-machines-windows-capture-image-prepare-the-vm-for-image-capture]:../../virtual-machines-windows-generalize-vhd.md
[virtual-machines-linux-configure-raid]:../../linux/configure-raid.md
[virtual-machines-linux-configure-lvm]:../../linux/configure-lvm.md
[virtual-machines-linux-classic-create-upload-vhd-step-1]:../../virtual-machines-linux-classic-create-upload-vhd.md#step-1-prepare-the-image-to-be-uploaded
[virtual-machines-linux-create-upload-vhd-suse]:../../linux/suse-create-upload-vhd.md
[virtual-machines-linux-create-upload-vhd-oracle]:../../linux/oracle-create-upload-vhd.md
[virtual-machines-linux-redhat-create-upload-vhd]:../../linux/redhat-create-upload-vhd.md
[virtual-machines-linux-how-to-attach-disk]:../../linux/add-disk.md
[virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux]:../../linux/add-disk.md#connect-to-the-linux-vm-to-mount-the-new-disk
[virtual-machines-linux-tutorial]:../../linux/quick-create-cli.md
[virtual-machines-linux-update-agent]:../../linux/update-agent.md
[virtual-machines-manage-availability]:../../linux/manage-availability.md
[virtual-machines-ps-create-preconfigure-windows-resource-manager-vms]:virtual-machines-windows-create-powershell.md
[virtual-machines-sizes-linux]:../../linux/sizes.md
[virtual-machines-sizes-windows]:../../windows/sizes.md
[virtual-machines-windows-classic-ps-sql-alwayson-availability-groups]:./../../windows/sqlclassic/virtual-machines-windows-classic-ps-sql-alwayson-availability-groups.md
[virtual-machines-windows-classic-ps-sql-int-listener]:./../../windows/sqlclassic/virtual-machines-windows-classic-ps-sql-int-listener.md
[virtual-machines-sql-server-high-availability-and-disaster-recovery-solutions]:./../../windows/sql/virtual-machines-windows-sql-high-availability-dr.md
[virtual-machines-sql-server-infrastructure-services]:./../../windows/sql/virtual-machines-windows-sql-server-iaas-overview.md
[virtual-machines-sql-server-performance-best-practices]:./../../windows/sql/virtual-machines-windows-sql-performance.md
[virtual-machines-upload-image-windows-resource-manager]:../../virtual-machines-windows-upload-image.md
[virtual-machines-windows-tutorial]:../../virtual-machines-windows-hero-tutorial.md
[virtual-machines-workload-template-sql-alwayson]:https://azure.microsoft.com/documentation/templates/sql-server-2014-alwayson-dsc/
[virtual-network-deploy-multinic-arm-cli]:../../../virtual-network/virtual-network-deploy-multinic-arm-cli.md
[virtual-network-deploy-multinic-arm-ps]:../../../virtual-network/virtual-network-deploy-multinic-arm-ps.md
[virtual-network-deploy-multinic-arm-template]:../../../virtual-network/virtual-network-deploy-multinic-arm-template.md
[virtual-networks-configure-vnet-to-vnet-connection]:../../../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md
[virtual-networks-create-vnet-arm-pportal]:../../../virtual-network/virtual-networks-create-vnet-arm-pportal.md
[virtual-networks-manage-dns-in-vnet]:../../../virtual-network/virtual-networks-name-resolution-for-vms-and-role-instances.md
[virtual-networks-multiple-nics-windows]:../../windows/multiple-nics.md
[virtual-networks-multiple-nics-linux]:../../linux/multiple-nics.md
[virtual-networks-nsg]:../../../virtual-network/virtual-networks-nsg.md
[virtual-networks-reserved-private-ip]:../../../virtual-network/virtual-networks-static-private-ip-arm-ps.md
[virtual-networks-static-private-ip-arm-pportal]:../../../virtual-network/virtual-networks-static-private-ip-arm-pportal.md
[virtual-networks-udr-overview]:../../../virtual-network/virtual-networks-udr-overview.md
[vpn-gateway-about-vpn-devices]:../../../vpn-gateway/vpn-gateway-about-vpn-devices.md
[vpn-gateway-create-site-to-site-rm-powershell]:../../../vpn-gateway/vpn-gateway-create-site-to-site-rm-powershell.md
[vpn-gateway-cross-premises-options]:../../../vpn-gateway/vpn-gateway-plan-design.md
[vpn-gateway-site-to-site-create]:../../../vpn-gateway/vpn-gateway-site-to-site-create.md
[vpn-gateway-vpn-faq]:../../../vpn-gateway/vpn-gateway-vpn-faq.md
[xplat-cli]:../../../cli-install-nodejs.md
[xplat-cli-azure-resource-manager]:../../../xplat-cli-azure-resource-manager.md
[capture-image-linux-step-2-create-vm-image]:../../linux/capture-image.md#step-2-create-vm-image

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-rm-include.md)]

<span data-ttu-id="31d3b-117">Microsoft Azure permite que os recursos de computação e armazenamento de tooacquire empresas no tempo mínimo sem ciclos de compra longos.</span><span class="sxs-lookup"><span data-stu-id="31d3b-117">Microsoft Azure enables companies tooacquire compute and storage resources in minimal time without lengthy procurement cycles.</span></span> <span data-ttu-id="31d3b-118">Máquinas virtuais do Azure permitem empresas toodeploy de aplicativos clássicos, como aplicativos no Azure baseados no SAP NetWeaver e estender a confiabilidade e disponibilidade sem a necessidade de mais recursos disponíveis no local.</span><span class="sxs-lookup"><span data-stu-id="31d3b-118">Azure Virtual Machines allow companies toodeploy classical applications, like SAP NetWeaver based applications into Azure and extend their reliability and availability without having further resources available on-premises.</span></span> <span data-ttu-id="31d3b-119">Serviços de máquina Virtual do Azure também oferece suporte à conectividade entre locais, tooactively de empresas que permite integrar máquinas virtuais do Azure em seus domínios locais, suas nuvens privadas e seu ambiente de sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-119">Azure Virtual Machine Services also supports cross-premises connectivity, which enables companies tooactively integrate Azure Virtual Machines into their on-premises domains, their Private Clouds and their SAP System Landscape.</span></span>
<span data-ttu-id="31d3b-120">Este white paper descreve os conceitos básicos de saudação da máquina Virtual do Microsoft Azure e fornece uma passo a passo das considerações de planejamento e implementação para instalações do SAP NetWeaver no Azure e como tal deve ser Olá documento tooread antes de iniciar implantações reais do SAP NetWeaver no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-120">This white paper describes hello fundamentals of Microsoft Azure Virtual Machine and provides a walk-through of planning and implementation considerations for SAP NetWeaver installations in Azure and as such should be hello document tooread before starting actual deployments of SAP NetWeaver on Azure.</span></span>
<span data-ttu-id="31d3b-121">Olá papel complementa Olá documentação de instalação do SAP e observações sobre o SAP, que representam os recursos principais de saudação para instalações e implantações de software SAP em fornecidos plataformas.</span><span class="sxs-lookup"><span data-stu-id="31d3b-121">hello paper complements hello SAP Installation Documentation and SAP Notes, which represent hello primary resources for installations and deployments of SAP software on given platforms.</span></span>

## <a name="summary"></a><span data-ttu-id="31d3b-122">Resumo</span><span class="sxs-lookup"><span data-stu-id="31d3b-122">Summary</span></span>
<span data-ttu-id="31d3b-123">Computação em nuvem é um termo amplamente usado, o que está adquirindo cada vez mais importância no hello setor de TI de empresas de pequenas porte a empresas toolarge e multinacional.</span><span class="sxs-lookup"><span data-stu-id="31d3b-123">Cloud Computing is a widely used term, which is gaining more and more importance within hello IT industry, from small companies up toolarge and multinational corporations.</span></span>

<span data-ttu-id="31d3b-124">Microsoft Azure é hello plataforma de serviços de nuvem da Microsoft, que oferece uma ampla variedade de novas possibilidades.</span><span class="sxs-lookup"><span data-stu-id="31d3b-124">Microsoft Azure is hello Cloud Services Platform from Microsoft, which offers a wide spectrum of new possibilities.</span></span> <span data-ttu-id="31d3b-125">Agora, os clientes estão toorapidly capaz de provisionar e provisionamento de aplicativos como um serviço em nuvem hello, para que eles não são limitado tootechnical ou restrições de orçamentos.</span><span class="sxs-lookup"><span data-stu-id="31d3b-125">Now customers are able toorapidly provision and de-provision applications as a service in hello cloud, so they are not limited tootechnical or budgeting restrictions.</span></span> <span data-ttu-id="31d3b-126">Em vez de investir tempo e dinheiro na infraestrutura de hardware, as empresas podem concentrar no aplicativo hello, processos de negócios e suas vantagens para os clientes e usuários.</span><span class="sxs-lookup"><span data-stu-id="31d3b-126">Instead of investing time and budget into hardware infrastructure, companies can focus on hello application, business processes, and its benefits for customers and users.</span></span>

<span data-ttu-id="31d3b-127">Com os Serviços de Máquina Virtual do Microsoft Azure, a Microsoft oferece uma plataforma abrangente de IaaS (Infraestrutura como Serviço).</span><span class="sxs-lookup"><span data-stu-id="31d3b-127">With Microsoft Azure Virtual Machine Services, Microsoft offers a comprehensive Infrastructure as a Service (IaaS) platform.</span></span> <span data-ttu-id="31d3b-128">Os aplicativos baseados no SAP NetWeaver têm suporte em Máquinas Virtuais do Azure (IaaS).</span><span class="sxs-lookup"><span data-stu-id="31d3b-128">SAP NetWeaver based applications are supported on Azure Virtual Machines (IaaS).</span></span> <span data-ttu-id="31d3b-129">Este white paper descreve como tooplan e implementar SAP NetWeaver com base em aplicativos no Microsoft Azure como plataforma Olá preferencial.</span><span class="sxs-lookup"><span data-stu-id="31d3b-129">This whitepaper describes how tooplan and implement SAP NetWeaver based applications within Microsoft Azure as hello platform of choice.</span></span>

<span data-ttu-id="31d3b-130">documento de saudação se concentra-se em dois aspectos principais:</span><span class="sxs-lookup"><span data-stu-id="31d3b-130">hello paper itself focuses on two main aspects:</span></span>

* <span data-ttu-id="31d3b-131">Olá primeira parte descreve dois padrões de implantação com suporte para aplicativos baseados no SAP NetWeaver no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-131">hello first part describes two supported deployment patterns for SAP NetWeaver based applications on Azure.</span></span> <span data-ttu-id="31d3b-132">Ele também descreve a manipulação geral do Azure com implantações do SAP em mente.</span><span class="sxs-lookup"><span data-stu-id="31d3b-132">It also describes general handling of Azure with SAP deployments in mind.</span></span>
* <span data-ttu-id="31d3b-133">Olá segunda parte detalhes implementando Olá dois cenários diferentes descritos na primeira parte do hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-133">hello second part details implementing hello two different scenarios described in hello first part.</span></span>

<span data-ttu-id="31d3b-134">Para obter recursos adicionais, confira o capítulo [Recursos][planning-guide-1.2] neste documento.</span><span class="sxs-lookup"><span data-stu-id="31d3b-134">For additional resources see chapter [Resources][planning-guide-1.2] in this document.</span></span>

### <a name="definitions-upfront"></a><span data-ttu-id="31d3b-135">Definições prévias</span><span class="sxs-lookup"><span data-stu-id="31d3b-135">Definitions upfront</span></span>
<span data-ttu-id="31d3b-136">Em todo o documento hello, usamos Olá termos a seguir:</span><span class="sxs-lookup"><span data-stu-id="31d3b-136">Throughout hello document, we use hello following terms:</span></span>

* <span data-ttu-id="31d3b-137">IaaS: Infraestrutura como Serviço</span><span class="sxs-lookup"><span data-stu-id="31d3b-137">IaaS: Infrastructure as a Service</span></span>
* <span data-ttu-id="31d3b-138">PaaS: Plataforma como Serviço</span><span class="sxs-lookup"><span data-stu-id="31d3b-138">PaaS: Platform as a Service</span></span>
* <span data-ttu-id="31d3b-139">SaaS: Software como Serviço</span><span class="sxs-lookup"><span data-stu-id="31d3b-139">SaaS: Software as a Service</span></span>
* <span data-ttu-id="31d3b-140">ARM: Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="31d3b-140">ARM: Azure Resource Manager</span></span>
* <span data-ttu-id="31d3b-141">Componente SAP: um aplicativo SAP individual como ECC, BW, Solution Manager ou EP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-141">SAP Component: an individual SAP application such as ECC, BW, Solution Manager, or EP.</span></span>  <span data-ttu-id="31d3b-142">Os componentes SAP podem ser baseados em tecnologias ABAP ou Java tradicionais ou em um aplicativo não baseado em NetWeaver, como o Business Objects.</span><span class="sxs-lookup"><span data-stu-id="31d3b-142">SAP components can be based on traditional ABAP or Java technologies or a non-NetWeaver based application such as Business Objects.</span></span>
* <span data-ttu-id="31d3b-143">Ambiente SAP: um ou mais componentes SAP logicamente agrupados tooperform uma função empresarial como desenvolvimento, QAS, treinamento, DR ou produção.</span><span class="sxs-lookup"><span data-stu-id="31d3b-143">SAP Environment: one or more SAP components logically grouped tooperform a business function such as Development, QAS, Training, DR, or Production.</span></span>
* <span data-ttu-id="31d3b-144">Estrutura SAP: Refere-se toohello inteiros ativos SAP em um cliente cenário de TI.</span><span class="sxs-lookup"><span data-stu-id="31d3b-144">SAP Landscape: This refers toohello entire SAP assets in a customer’s IT landscape.</span></span> <span data-ttu-id="31d3b-145">Olá estrutura SAP inclui todos os ambientes de produção e não seja de produção.</span><span class="sxs-lookup"><span data-stu-id="31d3b-145">hello SAP landscape includes all production and non-production environments.</span></span>
* <span data-ttu-id="31d3b-146">Sistema SAP: combinação de saudação da camada de DBMS e camada de aplicativo de, por exemplo, um sistema de desenvolvimento SAP ERP, sistema de teste do SAP BW, sistema de produção SAP CRM, etc...</span><span class="sxs-lookup"><span data-stu-id="31d3b-146">SAP System: hello combination of DBMS layer and application layer of, for example, an SAP ERP development system, SAP BW test system, SAP CRM production system, etc..</span></span> <span data-ttu-id="31d3b-147">Em implantações do Azure, não é suportado toodivide essas duas camadas entre local e o Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-147">In Azure deployments, it is not supported toodivide these two layers between on-premises and Azure.</span></span> <span data-ttu-id="31d3b-148">Isso significa que um sistema SAP é implantado localmente ou no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-148">This means an SAP system is either deployed on-premises or it is deployed in Azure.</span></span> <span data-ttu-id="31d3b-149">No entanto, você pode implantar sistemas diferentes de saudação de uma estrutura SAP no Azure ou no local.</span><span class="sxs-lookup"><span data-stu-id="31d3b-149">However, you can deploy hello different systems of an SAP landscape into either Azure or on-premises.</span></span> <span data-ttu-id="31d3b-150">Por exemplo, você pode implantar os sistemas Olá desenvolvimento e teste de SAP CRM no Azure, mas Olá SAP CRM produção sistema local.</span><span class="sxs-lookup"><span data-stu-id="31d3b-150">For example, you could deploy hello SAP CRM development and test systems in Azure but hello SAP CRM production system on-premises.</span></span>
* <span data-ttu-id="31d3b-151">Implantação somente em nuvem: uma implantação onde Olá assinatura do Azure não está conectado por meio de uma site a site ou rota expressa conexão toohello local infraestrutura de rede.</span><span class="sxs-lookup"><span data-stu-id="31d3b-151">Cloud-Only deployment: A deployment where hello Azure subscription is not connected via a site-to-site or ExpressRoute connection toohello on-premises network infrastructure.</span></span> <span data-ttu-id="31d3b-152">Na documentação comum do Azure, esses tipos de implantações também são descritos como implantações 'Somente em nuvem'.</span><span class="sxs-lookup"><span data-stu-id="31d3b-152">In common Azure documentation these kinds of deployments are also described as ‘Cloud-Only’ deployments.</span></span> <span data-ttu-id="31d3b-153">Máquinas virtuais implantadas com esse método são acessadas por meio de Olá internet e um endereço IP público e/ou um DNS público nome atribuído toohello VMs no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-153">Virtual Machines deployed with this method are accessed through hello internet and a public IP address and/or a public DNS name assigned toohello VMs in Azure.</span></span> <span data-ttu-id="31d3b-154">Para o Microsoft Windows hello local Active Directory (AD) e o DNS não for estendido tooAzure nesses tipos de implantações.</span><span class="sxs-lookup"><span data-stu-id="31d3b-154">For Microsoft Windows hello on-premises Active Directory (AD) and DNS is not extended tooAzure in these types of deployments.</span></span> <span data-ttu-id="31d3b-155">Portanto, Olá VMs não fazem parte de saudação do Active Directory local.</span><span class="sxs-lookup"><span data-stu-id="31d3b-155">Hence hello VMs are not part of hello on-premises Active Directory.</span></span> <span data-ttu-id="31d3b-156">O mesmo é verdadeiro para implementações de Linux usando, por exemplo, OpenLDAP + Kerberos.</span><span class="sxs-lookup"><span data-stu-id="31d3b-156">Same is true for Linux implementations using, for example, OpenLDAP + Kerberos.</span></span>

> [!NOTE]
> <span data-ttu-id="31d3b-157">As implantações de Somente Nuvem neste documento são definidas como cenários SAP completos executados exclusivamente no Azure sem a extensão do Active Directory / OpenLDAP ou a resolução de nome do local para a nuvem pública.</span><span class="sxs-lookup"><span data-stu-id="31d3b-157">Cloud-Only deployment in this document is defined as complete SAP landscapes are running exclusively in Azure without extension of Active Directory / OpenLDAP  or name resolution from on-premises into public cloud.</span></span> <span data-ttu-id="31d3b-158">Não há suporte para configurações somente em nuvem para sistemas SAP de produção ou configurações onde STMS SAP ou outros recursos de local precisam toobe usado entre os sistemas SAP hospedados no Azure e os recursos que residem no local.</span><span class="sxs-lookup"><span data-stu-id="31d3b-158">Cloud-Only configurations are not supported for production SAP systems or configurations where SAP STMS or other on-premises resources need toobe used between SAP systems hosted on Azure and resources residing on-premises.</span></span>
>
>

* <span data-ttu-id="31d3b-159">Entre locais: Descreve um cenário onde as VMs são implantada tooan assinatura do Azure que tem conectividade de rota expressa entre Olá local datacenter(s) e o Azure, de vários locais ou de site a site.</span><span class="sxs-lookup"><span data-stu-id="31d3b-159">Cross-premises: Describes a scenario where VMs are deployed tooan Azure subscription that has site-to-site, multi-site, or ExpressRoute connectivity between hello on-premises datacenter(s) and Azure.</span></span> <span data-ttu-id="31d3b-160">Na documentação comum do Azure, esses tipos de implantações também são descritas como cenários entre instalações.</span><span class="sxs-lookup"><span data-stu-id="31d3b-160">In common Azure documentation, these kinds of deployments are also described as cross-premises scenarios.</span></span> <span data-ttu-id="31d3b-161">Olá motivo conexão Olá é tooextend domínios locais, Active Directory/OpenLDAP local e local DNS no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-161">hello reason for hello connection is tooextend on-premises domains, on-premises Active Directory/OpenLDAP, and on-premises DNS into Azure.</span></span> <span data-ttu-id="31d3b-162">Olá paisagem local é estendido toohello ativos do Azure da assinatura de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-162">hello on-premises landscape is extended toohello Azure assets of hello subscription.</span></span> <span data-ttu-id="31d3b-163">Com esta extensão, Olá VMs pode ser parte do domínio de local de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-163">Having this extension, hello VMs can be part of hello on-premises domain.</span></span> <span data-ttu-id="31d3b-164">Usuários de domínio do domínio do hello local podem acessar servidores hello e podem executar serviços nas VMs (como serviços DBMS).</span><span class="sxs-lookup"><span data-stu-id="31d3b-164">Domain users of hello on-premises domain can access hello servers and can run services on those VMs (like DBMS services).</span></span> <span data-ttu-id="31d3b-165">A comunicação e resolução de nomes entre máquinas virtuais implantadas localmente e VMs implantadas no Azure são possíveis.</span><span class="sxs-lookup"><span data-stu-id="31d3b-165">Communication and name resolution between VMs deployed on-premises and Azure deployed VMs is possible.</span></span> <span data-ttu-id="31d3b-166">Esse é o cenário de saudação que esperamos que a maioria dos toobe de ativos SAP implantado no.</span><span class="sxs-lookup"><span data-stu-id="31d3b-166">This is hello scenario we expect most SAP assets toobe deployed in.</span></span> <span data-ttu-id="31d3b-167">Para obter mais informações, veja [este][vpn-gateway-cross-premises-options] artigo e [este][vpn-gateway-site-to-site-create].</span><span class="sxs-lookup"><span data-stu-id="31d3b-167">For more information, see [this][vpn-gateway-cross-premises-options] article and [this][vpn-gateway-site-to-site-create].</span></span>

> [!NOTE]
> <span data-ttu-id="31d3b-168">Implantações entre instalações de sistemas SAP em que máquinas virtuais do Azure que executam sistemas SAP são membros de um domínio local têm suporte para sistemas SAP de produção.</span><span class="sxs-lookup"><span data-stu-id="31d3b-168">Cross-premises deployments of SAP systems where Azure Virtual Machines running SAP systems are members of an on-premises domain are supported for production SAP systems.</span></span> <span data-ttu-id="31d3b-169">Configurações entre locais têm suporte para a implantação de partes ou estruturas da SAP completas no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-169">Cross-premises configurations are supported for deploying parts or complete SAP landscapes into Azure.</span></span> <span data-ttu-id="31d3b-170">Até mesmo em execução estrutura SAP completa de saudação no Azure, é necessário ter as VMs sendo parte do domínio local e anúncios/OpenLDAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-170">Even running hello complete SAP landscape in Azure requires having those VMs being part of on-premises domain and ADS/OpenLDAP.</span></span> <span data-ttu-id="31d3b-171">Em versões anteriores da documentação de saudação, falamos sobre cenários de TI híbrida, onde o termo de saudação 'Híbrida' está enraizado no Olá fato de haver uma conectividade entre locais entre local e o Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-171">In former versions of hello documentation, we talked about Hybrid-IT scenarios, where hello term ‘Hybrid’ is rooted in hello fact that there is a cross-premises connectivity between on-premises and Azure.</span></span> <span data-ttu-id="31d3b-172">Além disso, fato Olá que Olá VMs no Azure fazem parte da saudação local do Active Directory / OpenLDAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-172">Plus, hello fact that hello VMs in Azure are part of hello on-premises Active Directory / OpenLDAP.</span></span>
>
>

<span data-ttu-id="31d3b-173">Algumas documentações da Microsoft descrevem cenários entre instalações de modo um pouco diferente, especialmente para configurações de HA do DBMS.</span><span class="sxs-lookup"><span data-stu-id="31d3b-173">Some Microsoft documentation describes cross-premises scenarios a bit differently, especially for DBMS HA configurations.</span></span> <span data-ttu-id="31d3b-174">No caso de saudação de documentos relacionados à SAP do hello, cenário entre locais de saudação apenas resume toohaving um site a site ou privado (rota expressa) conectividade e hello fato que o cenário SAP Olá é distribuído entre local e o Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-174">In hello case of hello SAP-related documents, hello cross-premises scenario just boils down toohaving a site-to-site or private (ExpressRoute) connectivity and hello fact that hello SAP landscape is distributed between on-premises and Azure.</span></span>  

### <span data-ttu-id="31d3b-175"><a name="e55d1e22-c2c8-460b-9897-64622a34fdff"></a>Recursos</span><span class="sxs-lookup"><span data-stu-id="31d3b-175"><a name="e55d1e22-c2c8-460b-9897-64622a34fdff"></a>Resources</span></span>
<span data-ttu-id="31d3b-176">Olá a seguintes guias adicionais estão disponíveis para o tópico Olá das implantações do SAP no Azure:</span><span class="sxs-lookup"><span data-stu-id="31d3b-176">hello following additional guides are available for hello topic of SAP deployments on Azure:</span></span>

* <span data-ttu-id="31d3b-177">[Planejamento e implementação de Máquinas Virtuais do Azure para SAP NetWeaver (este documento)][planning-guide]</span><span class="sxs-lookup"><span data-stu-id="31d3b-177">[Azure Virtual Machines planning and implementation for SAP NetWeaver (this document)][planning-guide]</span></span>
* <span data-ttu-id="31d3b-178">[Implantação de Máquinas Virtuais do Azure para SAP NetWeaver][deployment-guide]</span><span class="sxs-lookup"><span data-stu-id="31d3b-178">[Azure Virtual Machines deployment for SAP NetWeaver][deployment-guide]</span></span>
* <span data-ttu-id="31d3b-179">[Implantação de Máquinas Virtuais do Azure do DBMS para SAP NetWeaver][dbms-guide]</span><span class="sxs-lookup"><span data-stu-id="31d3b-179">[Azure Virtual Machines DBMS deployment for SAP NetWeaver][dbms-guide]</span></span>

> [!IMPORTANT]
> <span data-ttu-id="31d3b-180">Sempre que possível um toohello link referindo-se o guia de instalação do SAP é usado (referência de InstGuide-01, consulte <http://service.sap.com/instguides>).</span><span class="sxs-lookup"><span data-stu-id="31d3b-180">Wherever possible a link toohello referring SAP Installation Guide is used (Reference InstGuide-01, see <http://service.sap.com/instguides>).</span></span> <span data-ttu-id="31d3b-181">Quando se trata de toohello pré-requisitos e o processo de instalação, guias de instalação do hello SAP NetWeaver deve sempre ser lidos com atenção, pois este documento só abrange tarefas específicas para sistemas SAP NetWeaver instalados em uma máquina Virtual Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-181">When it comes toohello prerequisites and installation process, hello SAP NetWeaver Installation Guides should always be read carefully, as this document only covers specific tasks for SAP NetWeaver systems installed in a Microsoft Azure Virtual Machine.</span></span>
>
>

<span data-ttu-id="31d3b-182">Olá SAP observações a seguir está relacionadas toohello tópico do SAP no Azure:</span><span class="sxs-lookup"><span data-stu-id="31d3b-182">hello following SAP Notes are related toohello topic of SAP on Azure:</span></span>

| <span data-ttu-id="31d3b-183">Número da observação</span><span class="sxs-lookup"><span data-stu-id="31d3b-183">Note number</span></span> | <span data-ttu-id="31d3b-184">Title</span><span class="sxs-lookup"><span data-stu-id="31d3b-184">Title</span></span> |
| --- | --- |
| <span data-ttu-id="31d3b-185">[1928533]</span><span class="sxs-lookup"><span data-stu-id="31d3b-185">[1928533]</span></span> |<span data-ttu-id="31d3b-186">Aplicativos SAP no Azure: dimensionamento e produtos com suporte</span><span class="sxs-lookup"><span data-stu-id="31d3b-186">SAP Applications on Azure: Supported Products and Sizing</span></span> |
| <span data-ttu-id="31d3b-187">[2015553]</span><span class="sxs-lookup"><span data-stu-id="31d3b-187">[2015553]</span></span> |<span data-ttu-id="31d3b-188">SAP no Microsoft Azure: pré-requisitos de suporte</span><span class="sxs-lookup"><span data-stu-id="31d3b-188">SAP on Microsoft Azure: Support Prerequisites</span></span> |
| <span data-ttu-id="31d3b-189">[1999351]</span><span class="sxs-lookup"><span data-stu-id="31d3b-189">[1999351]</span></span> |<span data-ttu-id="31d3b-190">Solução de problemas de monitoramento aprimorado do Azure para SAP</span><span class="sxs-lookup"><span data-stu-id="31d3b-190">Troubleshooting Enhanced Azure Monitoring for SAP</span></span> |
| <span data-ttu-id="31d3b-191">[2178632]</span><span class="sxs-lookup"><span data-stu-id="31d3b-191">[2178632]</span></span> |<span data-ttu-id="31d3b-192">Métricas-chave de monitoramento para SAP no Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-192">Key Monitoring Metrics for SAP on Microsoft Azure</span></span> |
| <span data-ttu-id="31d3b-193">[1409604]</span><span class="sxs-lookup"><span data-stu-id="31d3b-193">[1409604]</span></span> |<span data-ttu-id="31d3b-194">Virtualização no Windows: monitoramento avançado</span><span class="sxs-lookup"><span data-stu-id="31d3b-194">Virtualization on Windows: Enhanced Monitoring</span></span> |
| <span data-ttu-id="31d3b-195">[2191498]</span><span class="sxs-lookup"><span data-stu-id="31d3b-195">[2191498]</span></span> |<span data-ttu-id="31d3b-196">SAP no Linux com o Azure: monitoramento avançado</span><span class="sxs-lookup"><span data-stu-id="31d3b-196">SAP on Linux with Azure: Enhanced Monitoring</span></span> |
| <span data-ttu-id="31d3b-197">[2243692]</span><span class="sxs-lookup"><span data-stu-id="31d3b-197">[2243692]</span></span> |<span data-ttu-id="31d3b-198">Linux na VM do Microsoft Azure (IaaS): problemas de licença SAP</span><span class="sxs-lookup"><span data-stu-id="31d3b-198">Linux on Microsoft Azure (IaaS) VM: SAP license issues</span></span> |
| <span data-ttu-id="31d3b-199">[1984787]</span><span class="sxs-lookup"><span data-stu-id="31d3b-199">[1984787]</span></span> |<span data-ttu-id="31d3b-200">SUSE LINUX Enterprise Server 12: notas de instalação</span><span class="sxs-lookup"><span data-stu-id="31d3b-200">SUSE LINUX Enterprise Server 12: Installation notes</span></span> |
| <span data-ttu-id="31d3b-201">[2002167]</span><span class="sxs-lookup"><span data-stu-id="31d3b-201">[2002167]</span></span> |<span data-ttu-id="31d3b-202">Red Hat Enterprise Linux 7.x: instalação e atualização</span><span class="sxs-lookup"><span data-stu-id="31d3b-202">Red Hat Enterprise Linux 7.x: Installation and Upgrade</span></span> |
| <span data-ttu-id="31d3b-203">[2069760]</span><span class="sxs-lookup"><span data-stu-id="31d3b-203">[2069760]</span></span> |<span data-ttu-id="31d3b-204">Atualização e instalação do SAP do Oracle Linux 7.x</span><span class="sxs-lookup"><span data-stu-id="31d3b-204">Oracle Linux 7.x SAP Installation and Upgrade</span></span> |
| <span data-ttu-id="31d3b-205">[1597355]</span><span class="sxs-lookup"><span data-stu-id="31d3b-205">[1597355]</span></span> |<span data-ttu-id="31d3b-206">Recomendação de troca de espaço para Linux</span><span class="sxs-lookup"><span data-stu-id="31d3b-206">Swap-space recommendation for Linux</span></span> |

<span data-ttu-id="31d3b-207">Leia também Olá [Wiki de SCN](https://wiki.scn.sap.com/wiki/display/HOME/SAPonLinuxNotes) que contém todas as observações sobre o SAP para Linux.</span><span class="sxs-lookup"><span data-stu-id="31d3b-207">Also read hello [SCN Wiki](https://wiki.scn.sap.com/wiki/display/HOME/SAPonLinuxNotes) that contains all SAP Notes for Linux.</span></span>

<span data-ttu-id="31d3b-208">As limitações gerais padrão e as limitações máximas das assinaturas do Azure podem ser encontradas [neste artigo][azure-subscription-service-limits-subscription].</span><span class="sxs-lookup"><span data-stu-id="31d3b-208">General default limitations and maximum limitations of Azure subscriptions can be found in [this article][azure-subscription-service-limits-subscription].</span></span>

## <a name="possible-scenarios"></a><span data-ttu-id="31d3b-209">Cenários possíveis</span><span class="sxs-lookup"><span data-stu-id="31d3b-209">Possible Scenarios</span></span>
<span data-ttu-id="31d3b-210">SAP geralmente é visto como um dos aplicativos de missão crítica Olá em empresas.</span><span class="sxs-lookup"><span data-stu-id="31d3b-210">SAP is often seen as one of hello most mission-critical applications within enterprises.</span></span> <span data-ttu-id="31d3b-211">arquitetura de saudação e as operações desses aplicativos geralmente é muito complexo e é muito importante garantir que você atenda aos requisitos de disponibilidade e desempenho.</span><span class="sxs-lookup"><span data-stu-id="31d3b-211">hello architecture and operations of these applications is mostly very complex and ensuring that you meet requirements on availability and performance is important.</span></span>

<span data-ttu-id="31d3b-212">Assim, as empresas têm toothink cuidadosamente sobre quais aplicativos podem ser executados em um ambiente de nuvem pública, independente do provedor de nuvem Olá escolhido.</span><span class="sxs-lookup"><span data-stu-id="31d3b-212">Thus enterprises have toothink carefully about which applications can be run in a public cloud environment, independent of hello chosen cloud provider.</span></span>

<span data-ttu-id="31d3b-213">Os tipos de sistema possíveis para implantação da SAP NetWeaver com base em aplicativos em ambientes de nuvem pública estão listados abaixo:</span><span class="sxs-lookup"><span data-stu-id="31d3b-213">Possible system types for deploying SAP NetWeaver based applications within public cloud environments are listed below:</span></span>

1. <span data-ttu-id="31d3b-214">Sistemas de produção de médio porte</span><span class="sxs-lookup"><span data-stu-id="31d3b-214">Medium-sized production systems</span></span>
2. <span data-ttu-id="31d3b-215">Sistemas de desenvolvimento</span><span class="sxs-lookup"><span data-stu-id="31d3b-215">Development systems</span></span>
3. <span data-ttu-id="31d3b-216">Sistemas de teste</span><span class="sxs-lookup"><span data-stu-id="31d3b-216">Testing systems</span></span>
4. <span data-ttu-id="31d3b-217">Protótipos de sistema</span><span class="sxs-lookup"><span data-stu-id="31d3b-217">Prototype systems</span></span>
5. <span data-ttu-id="31d3b-218">Sistemas de demonstração/aprendizado</span><span class="sxs-lookup"><span data-stu-id="31d3b-218">Learning / Demonstration systems</span></span>

<span data-ttu-id="31d3b-219">Em ordem toosuccessfully implantar sistemas SAP na IaaS do Azure ou IaaS em geral, é importante toounderstand diferenças significativas sobre Olá entre Olá ofertas dos fornecedores terceirizados tradicionais ou hosters e IaaS.</span><span class="sxs-lookup"><span data-stu-id="31d3b-219">In order toosuccessfully deploy SAP systems into either Azure IaaS or IaaS in general, it is important toounderstand hello significant differences between hello offerings of traditional outsourcers or hosters and IaaS offerings.</span></span> <span data-ttu-id="31d3b-220">Enquanto o hoster tradicional hello ou terceiros se adapta a carga de trabalho infraestrutura (tipo de servidor, rede e armazenamento) toohello um cliente desejar toohost, em vez disso, é responsabilidade toochoose Olá carga de trabalho certa do cliente Olá para implantações de IaaS.</span><span class="sxs-lookup"><span data-stu-id="31d3b-220">Whereas hello traditional hoster or outsourcer adapts infrastructure (network, storage and server type) toohello workload a customer wants toohost, it is instead hello customer’s responsibility toochoose hello right workload for IaaS deployments.</span></span>

<span data-ttu-id="31d3b-221">Como uma primeira etapa, os clientes precisam Olá tooverify itens a seguir:</span><span class="sxs-lookup"><span data-stu-id="31d3b-221">As a first step, customers need tooverify hello following items:</span></span>

* <span data-ttu-id="31d3b-222">Olá SAP com suporte a tipos de VM do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-222">hello SAP supported VM types of Azure</span></span>
* <span data-ttu-id="31d3b-223">Olá SAP produtos/versões com suporte no Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-223">hello SAP supported products/releases on Azure</span></span>
* <span data-ttu-id="31d3b-224">Olá suporte para versões de sistema operacional e DBMS para Olá que libera SAP específicas no Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-224">hello supported OS and DBMS releases for hello specific SAP releases in Azure</span></span>
* <span data-ttu-id="31d3b-225">Taxa de transferência de SAPS fornecida por diferentes SKUs do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-225">SAPS throughput provided by different Azure SKUs</span></span>

<span data-ttu-id="31d3b-226">Olá respostas toothese perguntas podem ser lidos na nota da SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="31d3b-226">hello answers toothese questions can be read in SAP Note [1928533].</span></span>

<span data-ttu-id="31d3b-227">Como uma segunda etapa, limitações de largura de banda e recursos do Azure precisam de consumo de recursos de tooactual toobe comparado de sistemas locais.</span><span class="sxs-lookup"><span data-stu-id="31d3b-227">As a second step, Azure resource and bandwidth limitations need toobe compared tooactual resource consumption of on-premises systems.</span></span> <span data-ttu-id="31d3b-228">Portanto, os clientes necessidade toobe familiarizado com recursos diferentes de saudação do hello Azure tipos compatíveis com a SAP na área de saudação do:</span><span class="sxs-lookup"><span data-stu-id="31d3b-228">Therefore, customers need toobe familiar with hello different capabilities of hello Azure types supported with SAP in hello area of:</span></span>

* <span data-ttu-id="31d3b-229">Recursos de CPU e memória de diferentes tipos de VM e</span><span class="sxs-lookup"><span data-stu-id="31d3b-229">CPU and memory resources of different VM types and</span></span>
* <span data-ttu-id="31d3b-230">Largura de banda IOPS de diferentes tipos de VM e</span><span class="sxs-lookup"><span data-stu-id="31d3b-230">IOPS bandwidth of different VM types and</span></span>
* <span data-ttu-id="31d3b-231">Recursos de rede de diferentes tipos de VM.</span><span class="sxs-lookup"><span data-stu-id="31d3b-231">Network capabilities of different VM types.</span></span>

<span data-ttu-id="31d3b-232">A maioria desses dados pode ser encontrada [aqui (Linux)][virtual-machines-sizes-linux] e [aqui (Windows)][virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="31d3b-232">Most of that data can be found [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="31d3b-233">Tenha em mente que Olá limites listados no link de saudação acima são os limites superiores.</span><span class="sxs-lookup"><span data-stu-id="31d3b-233">Keep in mind that hello limits listed in hello link above are upper limits.</span></span> <span data-ttu-id="31d3b-234">Isso não significa que limites Olá para qualquer um dos recursos de hello, por exemplo IOPS pode ser fornecido em todas as circunstâncias.</span><span class="sxs-lookup"><span data-stu-id="31d3b-234">It does not mean that hello limits for any of hello resources, for example IOPS can be provided under all circumstances.</span></span> <span data-ttu-id="31d3b-235">exceções de saudação embora são recursos de CPU e memória de saudação de um tipo VM escolhido.</span><span class="sxs-lookup"><span data-stu-id="31d3b-235">hello exceptions though are hello CPU and memory resources of a chosen VM type.</span></span> <span data-ttu-id="31d3b-236">Para tipos VM Olá suportados pelo SAP, os recursos de CPU e memória Olá são reservados e como tal, disponíveis em qualquer ponto no tempo para consumo Olá VM.</span><span class="sxs-lookup"><span data-stu-id="31d3b-236">For hello VM types supported by SAP, hello CPU and memory resources are reserved and as such available at any point in time for consumption within hello VM.</span></span>

<span data-ttu-id="31d3b-237">plataforma do Microsoft Azure Hello como outras plataformas de IaaS é uma plataforma de multilocatária.</span><span class="sxs-lookup"><span data-stu-id="31d3b-237">hello Microsoft Azure platform like other IaaS platforms is a multi-tenant platform.</span></span> <span data-ttu-id="31d3b-238">Isso significa que os recursos de armazenamento, rede e outros são compartilhados entre locatários.</span><span class="sxs-lookup"><span data-stu-id="31d3b-238">This means that storage, network, and other resources are shared between tenants.</span></span> <span data-ttu-id="31d3b-239">Lógica inteligente de limitação e cota é tooprevent usado um locatário afete o desempenho de saudação do outro locatário (vizinho barulhento) de forma significativa.</span><span class="sxs-lookup"><span data-stu-id="31d3b-239">Intelligent throttling and quota logic is used tooprevent one tenant from impacting hello performance of another tenant (noisy neighbor) in a drastic way.</span></span> <span data-ttu-id="31d3b-240">Embora a lógica do Azure tenta tookeep variações de largura de banda pequenas, plataformas altamente compartilhadas tendem toointroduce variações maiores na disponibilidade de recursos/largura de banda de muitos clientes estão tooin usado suas implantações no local.</span><span class="sxs-lookup"><span data-stu-id="31d3b-240">Though logic in Azure tries tookeep variances in bandwidth experienced small, highly shared platforms tend toointroduce larger variances in resource/bandwidth availability than many customers are used tooin their on-premises deployments.</span></span> <span data-ttu-id="31d3b-241">Como resultado, você pode experimentar diferentes níveis de largura de banda em relação à rede ou armazenamento de e/s (Olá, bem como latência) do toominute minuto.</span><span class="sxs-lookup"><span data-stu-id="31d3b-241">As a result, you might experience different levels of bandwidth regarding networking or storage I/O (hello volume as well as latency) from minute toominute.</span></span> <span data-ttu-id="31d3b-242">probabilidade de saudação que um sistema SAP no Azure pode apresentar variações maiores do que em um sistema local precisa toobe levada em conta.</span><span class="sxs-lookup"><span data-stu-id="31d3b-242">hello probability that an SAP system on Azure could experience larger variances than in an on-premises system needs toobe taken into account.</span></span>

<span data-ttu-id="31d3b-243">A última etapa é tooevaluate requisitos de disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="31d3b-243">A last step is tooevaluate availability requirements.</span></span> <span data-ttu-id="31d3b-244">Isso pode acontecer, essa Olá subjacente a infraestrutura do Azure precisa tooget atualizado e requer hosts Olá executando toobe VMs reinicializado.</span><span class="sxs-lookup"><span data-stu-id="31d3b-244">It can happen, that hello underlying Azure infrastructure needs tooget updated and requires hello hosts running VMs toobe rebooted.</span></span> <span data-ttu-id="31d3b-245">Nesses casos, as VMs em execução nesses hosts seriam desligadas e reiniciadas também.</span><span class="sxs-lookup"><span data-stu-id="31d3b-245">In these cases, VMs running on those hosts would be shut down and restarted as well.</span></span> <span data-ttu-id="31d3b-246">tempo de saudação de manutenção, é feito durante o horário comercial não essenciais para uma região específica, mas Olá intervalo de horas durante o qual uma reinicialização ocorrerá é relativamente longo.</span><span class="sxs-lookup"><span data-stu-id="31d3b-246">hello timing of such maintenance is done during non-core business hours for a particular region but hello potential window of a few hours during which a restart will occur is relatively wide.</span></span> <span data-ttu-id="31d3b-247">Há diversas tecnologias na Olá plataforma Windows Azure que pode ser configurado toomitigate alguns ou todos os Olá impacto dessas atualizações.</span><span class="sxs-lookup"><span data-stu-id="31d3b-247">There are various technologies within hello Azure platform that can be configured toomitigate some or all of hello impact of such updates.</span></span> <span data-ttu-id="31d3b-248">Aperfeiçoamentos futuros do hello plataforma Windows Azure, o DBMS, e aplicativos SAP são projetados toominimize impacto Olá essas reinicializações.</span><span class="sxs-lookup"><span data-stu-id="31d3b-248">Future enhancements of hello Azure platform, DBMS, and SAP application are designed toominimize hello impact of such restarts.</span></span>

<span data-ttu-id="31d3b-249">Toosuccessfully implantar um sistema SAP no Azure, Olá sistemas SAP sistema operacional, banco de dados, locais e aplicativos SAP devem aparecer em hello Azure SAP pode fornecer a matriz de suporte, ajustem Olá recursos Olá infraestrutura do Azure e que pode trabalhar com hello que oferece disponibilidade SLAs Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-249">In order toosuccessfully deploy an SAP system onto Azure, hello on-premises SAP system(s) Operating System, Database, and SAP applications must appear on hello SAP Azure support matrix, fit within hello resources hello Azure infrastructure can provide and which can work with hello Availability SLAs Microsoft Azure offers.</span></span> <span data-ttu-id="31d3b-250">Como esses sistemas são identificados, você precisa toodecide em uma saudação dois cenários de implantação a seguir.</span><span class="sxs-lookup"><span data-stu-id="31d3b-250">As those systems are identified, you need toodecide on one of hello following two deployment scenarios.</span></span>

### <span data-ttu-id="31d3b-251"><a name="1625df66-4cc6-4d60-9202-de8a0b77f803"></a>Somente em nuvem - implantações de máquina Virtual no Azure sem dependências nos Olá local rede de cliente</span><span class="sxs-lookup"><span data-stu-id="31d3b-251"><a name="1625df66-4cc6-4d60-9202-de8a0b77f803"></a>Cloud-Only - Virtual Machine deployments into Azure without dependencies on hello on-premises customer network</span></span>
![VM única com cenário de demonstração ou treinamento SAP implantado no Azure][planning-guide-figure-100]

<span data-ttu-id="31d3b-253">Esse cenário é típico para treinamento ou sistemas de demonstração, onde todos os componentes de saudação do SAP e o software SAP não estão instalados em uma única VM.</span><span class="sxs-lookup"><span data-stu-id="31d3b-253">This scenario is typical for trainings or demo systems, where all hello components of SAP and non-SAP software are installed within a single VM.</span></span> <span data-ttu-id="31d3b-254">Nesse cenário de implantação, não há suporte para sistemas SAP de produção.</span><span class="sxs-lookup"><span data-stu-id="31d3b-254">Production SAP systems are not supported in this deployment scenario.</span></span> <span data-ttu-id="31d3b-255">Em geral, este cenário atende Olá requisitos a seguir:</span><span class="sxs-lookup"><span data-stu-id="31d3b-255">In general, this scenario meets hello following requirements:</span></span>

* <span data-ttu-id="31d3b-256">próprias Olá VMs são acessíveis pela rede pública hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-256">hello VMs themselves are accessible over hello public network.</span></span> <span data-ttu-id="31d3b-257">Conectividade de rede direta para aplicativos de saudação em execução dentro de saudação VMs toohello rede de qualquer empresa Olá possui Olá demonstrações ou treinamentos conteúdo local ou cliente Olá não é necessário.</span><span class="sxs-lookup"><span data-stu-id="31d3b-257">Direct network connectivity for hello applications running within hello VMs toohello on-premises network of either hello company owning hello demos or trainings content or hello customer is not necessary.</span></span>
* <span data-ttu-id="31d3b-258">No caso de várias VMs que representam o cenário de demonstração ou treinamentos hello, resolução de nomes e as comunicações de rede precisa toowork entre VMs hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-258">In case of multiple VMs representing hello trainings or demo scenario, network communications and name resolution needs toowork between hello VMs.</span></span> <span data-ttu-id="31d3b-259">Mas as comunicações entre o conjunto de saudação de VMs precisam toobe a isoladas para que vários conjuntos de máquinas virtuais podem ser implantados lado a lado sem interferência.</span><span class="sxs-lookup"><span data-stu-id="31d3b-259">But communications between hello set of VMs need toobe isolated so that several sets of VMs can be deployed side by side without interference.</span></span>  
* <span data-ttu-id="31d3b-260">Conectividade com a Internet é necessária para logon de tooremote do usuário final Olá em toohello que VMs hospedadas no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-260">Internet connectivity is required for hello end user tooremote login into toohello VMs hosted in Azure.</span></span> <span data-ttu-id="31d3b-261">Dependendo do sistema operacional convidado do hello, serviços de Terminal/RDS ou VNC/ssh é usado tooaccess Olá VM tooeither cumprir Olá treinamento tarefas ou executar demonstrações hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-261">Depending on hello guest OS, Terminal Services/RDS or VNC/ssh is used tooaccess hello VM tooeither fulfill hello training tasks or perform hello demos.</span></span> <span data-ttu-id="31d3b-262">Se as portas de SAP como 3200, 3300 & 3600 podem também ser exposto instância do aplicativo SAP Olá pode ser acessada de qualquer área de trabalho conectada à Internet.</span><span class="sxs-lookup"><span data-stu-id="31d3b-262">If SAP ports such as 3200, 3300 & 3600 can also be exposed hello SAP application instance can be accessed from any Internet connected desktop.</span></span>
* <span data-ttu-id="31d3b-263">Olá sistemas SAP (e VM(s)) representam um cenário independente no Azure, que somente requer conectividade com a internet pública para acesso do usuário final e não requer uma conexão tooother VMs no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-263">hello SAP system(s) (and VM(s)) represent a standalone scenario in Azure, which only requires public internet connectivity for end-user access and does not require a connection tooother VMs in Azure.</span></span>
* <span data-ttu-id="31d3b-264">O SAPGUI e um navegador estão instalados e executados diretamente em Olá VM.</span><span class="sxs-lookup"><span data-stu-id="31d3b-264">SAPGUI and a browser are installed and run directly on hello VM.</span></span>
* <span data-ttu-id="31d3b-265">É necessário uma redefinição rápida de um estado da VM toohello original e a nova implantação desse estado original novamente.</span><span class="sxs-lookup"><span data-stu-id="31d3b-265">A fast reset of a VM toohello original state and new deployment of that original state again is required.</span></span>
* <span data-ttu-id="31d3b-266">No caso de saudação de demonstração e cenários de treinamento, que é realizado em várias VMs, um Active Directory / serviço OpenLDAP e/ou o DNS é necessário para cada conjunto de VMs.</span><span class="sxs-lookup"><span data-stu-id="31d3b-266">In hello case of demo and training scenarios, which are realized in multiple VMs, an Active Directory / OpenLDAP and/or DNS service is required for each set of VMs.</span></span>

![Grupo de VMs que representam um cenário de demonstração ou treinamento em um serviço de nuvem do Azure][planning-guide-figure-200]

<span data-ttu-id="31d3b-268">É importante tookeep em mente que Olá VMs em cada Olá define necessidade toobe implantado em paralelo, em que os nomes de VM de saudação em cada conjunto de saudação são Olá mesmo.</span><span class="sxs-lookup"><span data-stu-id="31d3b-268">It is important tookeep in mind that hello VM(s) in each of hello sets need toobe deployed in parallel, where hello VM names in each of hello set are hello same.</span></span>

### <span data-ttu-id="31d3b-269"><a name="f5b3b18c-302c-4bd8-9ab2-c388f1ab3d10"></a>Entre locais - implantação de uma ou várias VMs SAP no Azure com o requisito de saudação de integração completa à rede do local de saudação</span><span class="sxs-lookup"><span data-stu-id="31d3b-269"><a name="f5b3b18c-302c-4bd8-9ab2-c388f1ab3d10"></a>Cross-Premises - Deployment of single or multiple SAP VMs into Azure with hello requirement of being fully integrated into hello on-premises network</span></span>
![VPN com conectividade Site a Site (entre instalações)][planning-guide-figure-300]

<span data-ttu-id="31d3b-271">Esse é um cenário entre instalações com muitos padrões de implantação possíveis.</span><span class="sxs-lookup"><span data-stu-id="31d3b-271">This scenario is a cross-premises scenario with many possible deployment patterns.</span></span> <span data-ttu-id="31d3b-272">Ele pode ser descrito simplesmente como a execução de algumas partes do hello SAP paisagem no local e outras partes da saudação estrutura SAP no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-272">It can be described as simply as running some parts of hello SAP landscape on-premises and other parts of hello SAP landscape on Azure.</span></span> <span data-ttu-id="31d3b-273">Todos os aspectos do fato de saudação parte dos componentes do hello SAP em execução no Azure devem ser transparentes para os usuários finais.</span><span class="sxs-lookup"><span data-stu-id="31d3b-273">All aspects of hello fact that part of hello SAP components are running on Azure should be transparent for end users.</span></span> <span data-ttu-id="31d3b-274">Olá, portanto, SAP transporte correção System (STMS), comunicação RFC, imprimir, etc., de segurança (como SSO) funcionam perfeitamente para sistemas SAP de saudação em execução no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-274">Hence hello SAP Transport Correction System (STMS), RFC Communication, Printing, Security (like SSO), etc. work seamlessly for hello SAP systems running on Azure.</span></span> <span data-ttu-id="31d3b-275">Mas o cenário entre locais de saudação também descreve um cenário onde a estrutura SAP completa de saudação é executado no Azure com domínio saudação do cliente e estendidos de DNS para o Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-275">But hello cross-premises scenario also describes a scenario where hello complete SAP landscape runs in Azure with hello customer’s domain and DNS extended into Azure.</span></span>

> [!NOTE]
> <span data-ttu-id="31d3b-276">Este é o cenário de implantação hello, que tem suporte para a execução de sistemas SAP de produção.</span><span class="sxs-lookup"><span data-stu-id="31d3b-276">This is hello deployment scenario, which is supported for running productive SAP systems.</span></span>
>
>

<span data-ttu-id="31d3b-277">Leitura [neste artigo] [ vpn-gateway-create-site-to-site-rm-powershell] para obter mais informações sobre como tooconnect seu local de rede tooMicrosoft do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-277">Read [this article][vpn-gateway-create-site-to-site-rm-powershell] for more information on how tooconnect your on-premises network tooMicrosoft Azure</span></span>

> [!IMPORTANT]
> <span data-ttu-id="31d3b-278">Quando falamos sobre cenários entre locais entre implantações de clientes locais e do Azure, estamos procurando na granularidade de saudação de todos os sistemas SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-278">When we are talking about cross-premises scenarios between Azure and on-premises customer deployments, we are looking at hello granularity of whole SAP systems.</span></span> <span data-ttu-id="31d3b-279">Cenários que *não têm suporte* para cenários entre instalações são:</span><span class="sxs-lookup"><span data-stu-id="31d3b-279">Scenarios which are *not supported* for cross-premises scenarios are:</span></span>
>
> * <span data-ttu-id="31d3b-280">Executar diferentes camadas de aplicativos SAP em diferentes métodos de implantação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-280">Running different layers of SAP applications in different deployment methods.</span></span> <span data-ttu-id="31d3b-281">Por exemplo, executando Olá DBMS camada no local, mas a camada do aplicativo SAP Olá em VMs implantadas como VMs do Azure ou vice-versa.</span><span class="sxs-lookup"><span data-stu-id="31d3b-281">For example running hello DBMS layer on-premises, but hello SAP application layer in VMs deployed as Azure VMs or vice versa.</span></span>
> * <span data-ttu-id="31d3b-282">Alguns componentes de uma camada SAP no Azure e alguns localmente.</span><span class="sxs-lookup"><span data-stu-id="31d3b-282">Some components of an SAP layer in Azure and some on-premises.</span></span> <span data-ttu-id="31d3b-283">Por exemplo, dividir instâncias da camada do aplicativo SAP Olá entre locais e VMs do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-283">For example splitting Instances of hello SAP application layer between on-premises and Azure VMs.</span></span>
> * <span data-ttu-id="31d3b-284">Não há suporte para a distribuição de VMs que executam instâncias SAP de um sistema por várias Regiões do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-284">Distribution of VMs running SAP instances of one system over multiple Azure Regions is not supported.</span></span>
>
> <span data-ttu-id="31d3b-285">motivo Olá dessas restrições é o requisito de saudação para uma rede de alto desempenho de latência muito baixa dentro de um sistema SAP, especialmente entre instâncias do aplicativo hello e camada de DBMS Olá de um sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-285">hello reason for these restrictions is hello requirement for a very low latency high-performance network within one SAP system, especially between hello application instances and hello DBMS layer of an SAP system.</span></span>
>
>

### <a name="supported-os-and-database-releases"></a><span data-ttu-id="31d3b-286">Versões de banco de dados e SO com suporte</span><span class="sxs-lookup"><span data-stu-id="31d3b-286">Supported OS and Database Releases</span></span>
* <span data-ttu-id="31d3b-287">O software do servidor da Microsoft com suporte para os Serviços da Máquina Virtual do Azure está listado neste artigo: <http://support.microsoft.com/kb/2721672>.</span><span class="sxs-lookup"><span data-stu-id="31d3b-287">Microsoft server software supported for Azure Virtual Machine Services is listed in this article: <http://support.microsoft.com/kb/2721672>.</span></span>
* <span data-ttu-id="31d3b-288">As versões do sistema de operacional e versões do sistema de banco de dados para as quais há suporte pelos Serviços da Máquina Virtual do Azure em conjunto com o software SAP estão documentadas na Nota do SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="31d3b-288">Supported operating system releases, database system releases supported on Azure Virtual Machine Services in conjunction with SAP software are documented in SAP Note [1928533].</span></span>
* <span data-ttu-id="31d3b-289">As versões e aplicativos do SAP para os quais há suporte nos Serviços da Máquina Virtual do Azure estão documentadas na Nota do SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="31d3b-289">SAP applications and releases supported on Azure Virtual Machine Services are documented in SAP Note [1928533].</span></span>
* <span data-ttu-id="31d3b-290">Somente imagens de 64 bits são toorun com suporte como VMs convidadas no Azure em cenários SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-290">Only 64Bit images are supported toorun as Guest VMs in Azure for SAP scenarios.</span></span> <span data-ttu-id="31d3b-291">Isso também significa que apenas aplicativos e bancos de dados SAP de 64 bits têm suporte.</span><span class="sxs-lookup"><span data-stu-id="31d3b-291">This also means that only 64-bit SAP applications and databases are supported.</span></span>

## <a name="microsoft-azure-virtual-machine-services"></a><span data-ttu-id="31d3b-292">Serviços da Máquina Virtual do Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-292">Microsoft Azure Virtual Machine Services</span></span>
<span data-ttu-id="31d3b-293">Olá Microsoft Azure é uma nuvem de escala da internet plataforma de serviços hospedados e operada no Microsoft data centers.</span><span class="sxs-lookup"><span data-stu-id="31d3b-293">hello Microsoft Azure platform is an internet-scale cloud services platform hosted and operated in Microsoft data centers.</span></span> <span data-ttu-id="31d3b-294">plataforma de saudação inclui serviços de máquina Virtual Olá Microsoft Azure (infraestrutura como um serviço ou IaaS) e um conjunto de plataforma rica como recursos de um serviço (PaaS).</span><span class="sxs-lookup"><span data-stu-id="31d3b-294">hello platform includes hello Microsoft Azure Virtual Machine Services (Infrastructure as a Service, or IaaS) and a set of rich Platform as a Service (PaaS) capabilities.</span></span>

<span data-ttu-id="31d3b-295">Olá plataforma Azure reduz a necessidade de saudação de prévias de tecnologia e infraestrutura de compras.</span><span class="sxs-lookup"><span data-stu-id="31d3b-295">hello Azure platform reduces hello need for up-front technology and infrastructure purchases.</span></span> <span data-ttu-id="31d3b-296">Ele simplifica a manutenção e operação de aplicativos fornecendo toohost de computação e armazenamento sob demanda, dimensionar e gerenciar aplicativos web e aplicativos conectados.</span><span class="sxs-lookup"><span data-stu-id="31d3b-296">It simplifies maintaining and operating applications by providing on-demand compute and storage toohost, scale, and manage web application and connected applications.</span></span> <span data-ttu-id="31d3b-297">Gerenciamento de infraestrutura é automatizado com uma plataforma projetada para alta disponibilidade e dimensionamento toomatch necessidades de uso com a opção de saudação de um modelo de preços pré-pago dinâmico.</span><span class="sxs-lookup"><span data-stu-id="31d3b-297">Infrastructure management is automated with a platform that is designed for high availability and dynamic scaling toomatch usage needs with hello option of a pay-as-you-go pricing model.</span></span>

![Posicionamento de Serviços da Máquina Virtual do Microsoft Azure][planning-guide-figure-400]

<span data-ttu-id="31d3b-299">Com os serviços de máquina Virtual do Azure, a Microsoft permite toodeploy tooAzure de imagens de servidor personalizado como instâncias de IaaS (consulte a Figura 4).</span><span class="sxs-lookup"><span data-stu-id="31d3b-299">With Azure Virtual Machine Services, Microsoft is enabling you toodeploy custom server images tooAzure as IaaS instances (see Figure 4).</span></span> <span data-ttu-id="31d3b-300">Olá máquinas virtuais no Azure se baseiam em discos rígidos virtuais (VHD) do Hyper-V e são toorun capaz de diferentes sistemas operacionais, como o sistema operacional convidado.</span><span class="sxs-lookup"><span data-stu-id="31d3b-300">hello Virtual Machines in Azure are based on Hyper-V virtual hard drives (VHD) and are able toorun different operating systems as Guest OS.</span></span>

<span data-ttu-id="31d3b-301">Do ponto de vista operacional, Olá que serviço de máquina Virtual do Azure oferece semelhante apresenta como máquinas virtuais implantadas no local.</span><span class="sxs-lookup"><span data-stu-id="31d3b-301">From an operational perspective, hello Azure Virtual Machine Service offers similar experiences as virtual machines deployed on premises.</span></span> <span data-ttu-id="31d3b-302">No entanto, ele tem a vantagem significativa de saudação não é necessário tooprocure, administrar e gerenciar infraestrutura de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-302">However, it has hello significant advantage that you don’t need tooprocure, administer, and manage hello infrastructure.</span></span> <span data-ttu-id="31d3b-303">Os desenvolvedores e administradores têm controle total da imagem do sistema operacional Olá nessas máquinas virtuais.</span><span class="sxs-lookup"><span data-stu-id="31d3b-303">Developers and Administrators have full control of hello operating system image within these virtual machines.</span></span> <span data-ttu-id="31d3b-304">Os administradores podem fazer logon remotamente em toothose máquinas virtuais tooperform manutenção e solução de problemas de tarefas, bem como tarefas de implantação de software.</span><span class="sxs-lookup"><span data-stu-id="31d3b-304">Administrators can log on remotely in toothose virtual machines tooperform maintenance and troubleshooting tasks as well as software deployment tasks.</span></span> <span data-ttu-id="31d3b-305">Em toodeployment de relação, a saudação únicas restrições são tamanhos hello e os recursos de máquinas virtuais do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-305">In regard toodeployment, hello only restrictions are hello sizes and capabilities of Azure VMs.</span></span> <span data-ttu-id="31d3b-306">Elas podem não ter uma configuração tão refinada, já que isso pode ser feito localmente.</span><span class="sxs-lookup"><span data-stu-id="31d3b-306">These may not be as fine granular in configuration as this could be done on premises.</span></span> <span data-ttu-id="31d3b-307">Há uma variedade de tipos VM que representam uma combinação de:</span><span class="sxs-lookup"><span data-stu-id="31d3b-307">There is a choice of VM types that represent a combination of:</span></span>

* <span data-ttu-id="31d3b-308">Número de vCPUs,</span><span class="sxs-lookup"><span data-stu-id="31d3b-308">Number of vCPUs,</span></span>
* <span data-ttu-id="31d3b-309">Memória,</span><span class="sxs-lookup"><span data-stu-id="31d3b-309">Memory,</span></span>
* <span data-ttu-id="31d3b-310">Número de VHDs que podem ser anexados,</span><span class="sxs-lookup"><span data-stu-id="31d3b-310">Number of VHDs that can be attached,</span></span>
* <span data-ttu-id="31d3b-311">Larguras de banda de rede e de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="31d3b-311">Network and Storage bandwidths.</span></span>

<span data-ttu-id="31d3b-312">tamanho de saudação e as limitações de vários tamanhos de máquinas virtuais diferentes oferecidos podem ser vistos em uma tabela em [neste artigo (Linux)] [ virtual-machines-sizes-linux] e [neste artigo (Windows)] [ virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="31d3b-312">hello size and limitations of various different virtual machines sizes offered can be seen in a table in [this article (Linux)][virtual-machines-sizes-linux] and [this article (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="31d3b-313">Como você pode perceber, existem diferentes famílias ou séries de máquinas virtuais.</span><span class="sxs-lookup"><span data-stu-id="31d3b-313">As you realize, there are different families or series of virtual machines.</span></span> <span data-ttu-id="31d3b-314">Você pode distinguir Olá famílias de máquinas virtuais a seguir:</span><span class="sxs-lookup"><span data-stu-id="31d3b-314">You can distinguish hello following families of VMs:</span></span>

* <span data-ttu-id="31d3b-315">Tipos de VM A0-A7: nem todas elas são certificadas para SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-315">A0-A7 VM types: Not all of those are certified for SAP.</span></span> <span data-ttu-id="31d3b-316">Primeira série de VMs com a qual o IaaS do Azure foi introduzido.</span><span class="sxs-lookup"><span data-stu-id="31d3b-316">First VM series that Azure IaaS got introduced with.</span></span>
* <span data-ttu-id="31d3b-317">Tipos de VM A8-A11: instâncias de computação de alto desempenho.</span><span class="sxs-lookup"><span data-stu-id="31d3b-317">A8-A11 VM types: High Performance computing instances.</span></span> <span data-ttu-id="31d3b-318">Em execução em hosts de computação diferentes e com melhor desempenho que outras VMs da série A.</span><span class="sxs-lookup"><span data-stu-id="31d3b-318">Running on different better performing compute hosts than other A-series VMs.</span></span>
* <span data-ttu-id="31d3b-319">Tipos de VM série D/Dv2: Desempenho superior a A0-A7.</span><span class="sxs-lookup"><span data-stu-id="31d3b-319">D/Dv2-Series VM types: Better performing than A0-A7.</span></span> <span data-ttu-id="31d3b-320">Nem todos os tipos de VM Olá certificados com o SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-320">Not all of hello VM types are certified with SAP.</span></span>
* <span data-ttu-id="31d3b-321">Tipos de VM da série DS/série DSv2: semelhantes tooD/Dv2-series, mas são tooAzure tooconnect capaz de armazenamento Premium (consulte o capítulo [armazenamento Premium do Azure] [ planning-guide-3.3.2] deste documento).</span><span class="sxs-lookup"><span data-stu-id="31d3b-321">DS/DSv2-Series VM types: Similar tooD/Dv2-series, but are able tooconnect tooAzure Premium Storage (see chapter [Azure Premium Storage][planning-guide-3.3.2] of this document).</span></span> <span data-ttu-id="31d3b-322">Outra vez, nem todos os tipos de VM são certificados com SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-322">Again not all VM types are certified with SAP.</span></span>
* <span data-ttu-id="31d3b-323">Tipos de VM da série G: tipos de VM de memória alta.</span><span class="sxs-lookup"><span data-stu-id="31d3b-323">G-Series VM types: High memory VM types.</span></span>
* <span data-ttu-id="31d3b-324">Tipos de VM série GS: como a série G mas incluindo Olá opção toouse armazenamento Premium do Azure (consulte o capítulo [armazenamento Premium do Azure] [ planning-guide-3.3.2] deste documento).</span><span class="sxs-lookup"><span data-stu-id="31d3b-324">GS-Series VM types: like G-Series but including hello option toouse Azure Premium Storage (see chapter [Azure Premium Storage][planning-guide-3.3.2] of this document).</span></span> <span data-ttu-id="31d3b-325">Ao usar as VMs da série GS como servidores de banco de dados, é obrigatório toouse armazenamento Premium para arquivos de log de transações e dados do banco de dados</span><span class="sxs-lookup"><span data-stu-id="31d3b-325">When using GS-Series VMs as database servers, it's mandatory toouse Premium Storage for DB data and transaction log files</span></span>

<span data-ttu-id="31d3b-326">Você pode achar Olá mesmas configurações de CPU e memória em outra série VM.</span><span class="sxs-lookup"><span data-stu-id="31d3b-326">You may find hello same CPU and memory configurations in different VM series.</span></span> <span data-ttu-id="31d3b-327">No entanto, ao analisar o desempenho de taxa de transferência Olá essas VMs fora de séries diferentes Olá elas podem diferir significativamente.</span><span class="sxs-lookup"><span data-stu-id="31d3b-327">Nevertheless, when you look up hello throughput performance of these VMs out of hello different series they might differ significantly.</span></span> <span data-ttu-id="31d3b-328">Apesar de terem Olá a mesma configuração de CPU e memória.</span><span class="sxs-lookup"><span data-stu-id="31d3b-328">Despite having hello same CPU and memory configuration.</span></span> <span data-ttu-id="31d3b-329">Motivo é que hardware servidor host de Olá subjacente na introdução de saudação de diferentes tipos de VM Olá características diferentes de taxa de transferência.</span><span class="sxs-lookup"><span data-stu-id="31d3b-329">Reason is that hello underlying host server hardware at hello introduction of hello different VM types had different throughput characteristics.</span></span>  <span data-ttu-id="31d3b-330">Geralmente diferença Olá mostrada no desempenho da taxa de transferência também é refletida no preço Olá Olá diferentes VMs.</span><span class="sxs-lookup"><span data-stu-id="31d3b-330">Usually hello difference shown in throughput performance also is reflected in hello price of hello different VMs.</span></span>

<span data-ttu-id="31d3b-331">Nem todas as séries de VMs diferentes podem ser oferecidas em cada uma das regiões do Azure da saudação (para regiões do Azure consulte próximo capítulo).</span><span class="sxs-lookup"><span data-stu-id="31d3b-331">Not all different VM series might be offered in each one of hello Azure Regions (for Azure Regions see next chapter).</span></span> <span data-ttu-id="31d3b-332">Além disso, lembre-se de que nem todas as VMs ou séries de VMs são certificadas para SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-332">Also be aware that not all VMs or VM-Series are certified for SAP.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="31d3b-333">Para uso de saudação do aplicativos baseados no SAP NetWeaver, somente subconjunto de saudação de tipos de VM e as configurações listadas na nota da SAP [1928533] têm suporte.</span><span class="sxs-lookup"><span data-stu-id="31d3b-333">For hello use of SAP NetWeaver based applications, only hello subset of VM types and configurations listed in SAP Note [1928533] are supported.</span></span>
>
>

### <span data-ttu-id="31d3b-334"><a name="be80d1b9-a463-4845-bd35-f4cebdb5424a"></a>Regiões do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-334"><a name="be80d1b9-a463-4845-bd35-f4cebdb5424a"></a>Azure Regions</span></span>
<span data-ttu-id="31d3b-335">Microsoft permite toodeploy máquinas virtuais em chamado 'regiões do Azure'.</span><span class="sxs-lookup"><span data-stu-id="31d3b-335">Microsoft allows toodeploy Virtual Machines into so called ‘Azure Regions’.</span></span> <span data-ttu-id="31d3b-336">Uma Região do Azure pode ser um ou vários data centers cuja localização é muito próxima.</span><span class="sxs-lookup"><span data-stu-id="31d3b-336">An Azure Region may be one or multiple data centers that are located in close proximity.</span></span> <span data-ttu-id="31d3b-337">Para a maioria dos Olá geopolíticas regiões no Olá, mundo Microsoft tem pelo menos duas regiões do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-337">For most of hello geopolitical regions in hello world Microsoft has at least two Azure Regions.</span></span> <span data-ttu-id="31d3b-338">Por exemplo, na Europa, há uma Região do Azure da ‘Europa Setentrional’ e uma da ‘Europa Ocidental’.</span><span class="sxs-lookup"><span data-stu-id="31d3b-338">For example, in Europe there is an Azure Region of ‘North Europe’ and one of ‘West Europe’.</span></span> <span data-ttu-id="31d3b-339">Essas duas regiões do Azure dentro de uma região geopolíticas são separados por distância significativa o suficiente para que a desastres naturais ou técnicas não afetam as duas regiões do Azure no hello mesma região geopolíticas.</span><span class="sxs-lookup"><span data-stu-id="31d3b-339">Such two Azure Regions within a geopolitical region are separated by significant enough distance so that natural or technical disasters do not affect both Azure Regions in hello same geopolitical region.</span></span> <span data-ttu-id="31d3b-340">Desde que a Microsoft está constantemente desenvolvendo novas regiões do Azure em diferentes regiões geopolíticas globalmente, o número de saudação dessas regiões está crescendo e a partir de dezembro de 2015 atingiu o número de saudação 20 regiões do Azure com regiões adicionais anunciadas já.</span><span class="sxs-lookup"><span data-stu-id="31d3b-340">Since Microsoft is steadily building out new Azure Regions in different geopolitical regions globally, hello number of these regions is steadily growing and as of Dec 2015 reached hello number of 20 Azure Regions with additional Regions announced already.</span></span> <span data-ttu-id="31d3b-341">Você, como um cliente pode implantar sistemas SAP em todas essas regiões, incluindo Olá duas regiões do Azure na China.</span><span class="sxs-lookup"><span data-stu-id="31d3b-341">You as a customer can deploy SAP systems into all these regions, including hello two Azure Regions in China.</span></span> <span data-ttu-id="31d3b-342">Para obter informações atualizadas sobre as regiões do Azure, confira este site: <https://azure.microsoft.com/regions/></span><span class="sxs-lookup"><span data-stu-id="31d3b-342">For current up-to-date information about Azure regions see this website: <https://azure.microsoft.com/regions/></span></span>

### <span data-ttu-id="31d3b-343"><a name="8d8ad4b8-6093-4b91-ac36-ea56d80dbf77"></a>Olá conceito de máquina Virtual do Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-343"><a name="8d8ad4b8-6093-4b91-ac36-ea56d80dbf77"></a>hello Microsoft Azure Virtual Machine Concept</span></span>
<span data-ttu-id="31d3b-344">Microsoft Azure oferece uma infraestrutura como um toohost de solução de serviço (IaaS) máquinas virtuais com funcionalidades semelhantes como uma solução de virtualização local.</span><span class="sxs-lookup"><span data-stu-id="31d3b-344">Microsoft Azure offers an Infrastructure as a Service (IaaS) solution toohost Virtual Machines with similar functionalities as an on-premises virtualization solution.</span></span> <span data-ttu-id="31d3b-345">Você é capaz de toocreate máquinas virtuais de dentro de saudação portal do Azure, PowerShell ou CLI, que também oferecem recursos de gerenciamento e implantação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-345">You are able toocreate Virtual Machines from within hello Azure portal, PowerShell or CLI, which also offer deployment and management capabilities.</span></span>

<span data-ttu-id="31d3b-346">Gerenciador de recursos do Azure permite que você tooprovision seus aplicativos usando um modelo declarativo.</span><span class="sxs-lookup"><span data-stu-id="31d3b-346">Azure Resource Manager allows you tooprovision your applications using a declarative template.</span></span> <span data-ttu-id="31d3b-347">Em um modelo único, você pode implantar vários serviços, juntamente com suas dependências.</span><span class="sxs-lookup"><span data-stu-id="31d3b-347">In a single template, you can deploy multiple services along with their dependencies.</span></span> <span data-ttu-id="31d3b-348">Use Olá toorepeatedly do mesmo modelo implantar seu aplicativo durante cada estágio do ciclo de vida do aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-348">You use hello same template toorepeatedly deploy your application during every stage of hello application life cycle.</span></span>

<span data-ttu-id="31d3b-349">Mais informações sobre o uso de modelos do Resource Manager podem ser encontradas aqui:</span><span class="sxs-lookup"><span data-stu-id="31d3b-349">More information about using Resource Manager templates can be found here:</span></span>

* <span data-ttu-id="31d3b-350">[Implantar e gerenciar máquinas virtuais usando modelos do Gerenciador de recursos do Azure e hello CLI do Azure] [.. /.. / linux/create-ssh-secured-vm-from-template.md]</span><span class="sxs-lookup"><span data-stu-id="31d3b-350">[Deploy and manage virtual machines by using Azure Resource Manager templates and hello Azure CLI][../../linux/create-ssh-secured-vm-from-template.md]</span></span>
* <span data-ttu-id="31d3b-351">[Gerenciar máquinas virtuais usando o Azure Resource Manager e o PowerShell][virtual-machines-deploy-rmtemplates-powershell]</span><span class="sxs-lookup"><span data-stu-id="31d3b-351">[Manage virtual machines using Azure Resource Manager and PowerShell][virtual-machines-deploy-rmtemplates-powershell]</span></span>
* <span data-ttu-id="31d3b-352"><https://azure.microsoft.com/documentation/templates/></span><span class="sxs-lookup"><span data-stu-id="31d3b-352"><https://azure.microsoft.com/documentation/templates/></span></span>

<span data-ttu-id="31d3b-353">Outro recurso interessante é imagens de toocreate Olá capacidade das máquinas virtuais, que permite a você tooprepare determinado repositórios do qual você está tooquickly capaz de implantar instâncias de máquina Virtual que atender às suas necessidades.</span><span class="sxs-lookup"><span data-stu-id="31d3b-353">Another interesting feature is hello ability toocreate images from Virtual Machines, which allows you tooprepare certain repositories from which you are able tooquickly deploy Virtual machine instances, which meet your requirements.</span></span>

<span data-ttu-id="31d3b-354">Mais informações sobre a criação de imagens de Máquinas Virtuais podem ser encontradas [neste artigo (Linux)][virtual-machines-linux-capture-image-resource-manager] ou [neste artigo (Windows)][virtual-machines-windows-capture-image-resource-manager].</span><span class="sxs-lookup"><span data-stu-id="31d3b-354">More information about creating images from Virtual Machines can be found in [this article (Linux)][virtual-machines-linux-capture-image-resource-manager] and [this article (Windows)][virtual-machines-windows-capture-image-resource-manager].</span></span>

#### <span data-ttu-id="31d3b-355"><a name="df49dc09-141b-4f34-a4a2-990913b30358"></a>Domínios com falhas</span><span class="sxs-lookup"><span data-stu-id="31d3b-355"><a name="df49dc09-141b-4f34-a4a2-990913b30358"></a>Fault Domains</span></span>
<span data-ttu-id="31d3b-356">Domínios de falha representam uma unidade física de falha, a infraestrutura física de toohello intimamente relacionados contida em data centers e, embora um blade ou rack físico possa ser considerada um domínio de falha, não há nenhum mapeamento direto entre hello dois.</span><span class="sxs-lookup"><span data-stu-id="31d3b-356">Fault Domains represent a physical unit of failure, very closely related toohello physical infrastructure contained in data centers, and while a physical blade or rack can be considered a Fault Domain, there is no direct one-to-one mapping between hello two.</span></span>

<span data-ttu-id="31d3b-357">Quando você implanta várias máquinas virtuais como parte de um sistema SAP nos serviços de máquina Virtual do Microsoft Azure, você pode influenciar Olá controlador de malha do Azure toodeploy seu aplicativo em diferentes domínios de falha, assim, atendendo aos requisitos de saudação do hello SLA do Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-357">When you deploy multiple Virtual Machines as part of one SAP system in Microsoft Azure Virtual Machine Services, you can influence hello Azure Fabric Controller toodeploy your application into different Fault Domains, thereby meeting hello requirements of hello Microsoft Azure SLA.</span></span> <span data-ttu-id="31d3b-358">Olá, no entanto, a distribuição de domínios de falha em uma unidade de escala do Azure (coleção de centenas de nós de computação ou nós de armazenamento e rede) ou atribuição de saudação de VMs tooa específicos de domínio de falha é algo sobre o qual você não tem controle direto.</span><span class="sxs-lookup"><span data-stu-id="31d3b-358">However, hello distribution of Fault Domains over an Azure Scale Unit (collection of hundreds of Compute nodes or Storage nodes and networking) or hello assignment of VMs tooa specific Fault Domain is something over which you do not have direct control.</span></span> <span data-ttu-id="31d3b-359">Em ordem toodirect Olá malha do Azure controlador toodeploy um conjunto de máquinas virtuais em diferentes domínios de falha, você precisa tooassign um toohello conjunto de disponibilidade do Azure VMs no momento da implantação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-359">In order toodirect hello Azure fabric controller toodeploy a set of VMs over different Fault Domains, you need tooassign an Azure Availability Set toohello VMs at deployment time.</span></span> <span data-ttu-id="31d3b-360">Para saber mais sobre Conjuntos de Disponibilidade do Azure, confira o capítulo [Conjuntos de Disponibilidade do Azure][planning-guide-3.2.3] deste documento.</span><span class="sxs-lookup"><span data-stu-id="31d3b-360">For more information on Azure Availability Sets, see chapter [Azure Availability Sets][planning-guide-3.2.3] in this document.</span></span>

#### <span data-ttu-id="31d3b-361"><a name="fc1ac8b2-e54a-487c-8581-d3cc6625e560"></a>Domínios de Atualização</span><span class="sxs-lookup"><span data-stu-id="31d3b-361"><a name="fc1ac8b2-e54a-487c-8581-d3cc6625e560"></a>Upgrade Domains</span></span>
<span data-ttu-id="31d3b-362">Domínios de atualização representam uma unidade lógica que ajudam a toodetermine como uma VM em um sistema SAP, que consiste em instâncias SAP em execução em várias VMs, é atualizada.</span><span class="sxs-lookup"><span data-stu-id="31d3b-362">Upgrade Domains represent a logical unit that help toodetermine how a VM within an SAP system, that consists of SAP instances running in multiple VMs, is updated.</span></span> <span data-ttu-id="31d3b-363">Quando ocorre uma atualização, o Microsoft Azure atravessa Olá processo de atualizar esses domínios de atualização um por um.</span><span class="sxs-lookup"><span data-stu-id="31d3b-363">When an upgrade occurs, Microsoft Azure goes through hello process of updating these Upgrade Domains one by one.</span></span> <span data-ttu-id="31d3b-364">Ao distribuir as VMs no momento da implantação em diferentes domínios de atualização, você pode proteger seu sistema SAP parcialmente contra um potencial tempo de inatividade.</span><span class="sxs-lookup"><span data-stu-id="31d3b-364">By spreading VMs at deployment time over different Upgrade Domains, you can protect your SAP system partly from potential downtime.</span></span> <span data-ttu-id="31d3b-365">Em ordem tooforce toodeploy Azure Olá VMs de um sistema SAP distribuídas entre diferentes domínios de atualização, é necessário tooset um atributo específico no momento da implantação de cada VM.</span><span class="sxs-lookup"><span data-stu-id="31d3b-365">In order tooforce Azure toodeploy hello VMs of an SAP system spread over different Upgrade Domains, you need tooset a specific attribute at deployment time of each VM.</span></span> <span data-ttu-id="31d3b-366">Domínios de tooFault semelhante, uma unidade de escala do Azure é dividido em vários domínios de atualização.</span><span class="sxs-lookup"><span data-stu-id="31d3b-366">Similar tooFault Domains, an Azure Scale Unit is divided into multiple Upgrade Domains.</span></span> <span data-ttu-id="31d3b-367">Em ordem toodirect Olá malha do Azure controlador toodeploy um conjunto de VMs entre diferentes domínios de atualização, você precisa tooassign um toohello conjunto de disponibilidade do Azure VMs no momento da implantação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-367">In order toodirect hello Azure fabric controller toodeploy a set of VMs over different Upgrade Domains, you need tooassign an Azure Availability Set toohello VMs at deployment time.</span></span> <span data-ttu-id="31d3b-368">Para saber mais sobre Conjuntos de Disponibilidade do Azure, confira o capítulo [Conjuntos de Disponibilidade do Azure][planning-guide-3.2.3] abaixo.</span><span class="sxs-lookup"><span data-stu-id="31d3b-368">For more information on Azure Availability Sets, see chapter [Azure Availability Sets][planning-guide-3.2.3] below.</span></span>

#### <span data-ttu-id="31d3b-369"><a name="18810088-f9be-4c97-958a-27996255c665"></a>Conjuntos de Disponibilidade do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-369"><a name="18810088-f9be-4c97-958a-27996255c665"></a>Azure Availability Sets</span></span>
<span data-ttu-id="31d3b-370">Máquinas virtuais do Azure em um conjunto de disponibilidade do Azure são distribuídas por Olá controlador de malha do Azure em diferentes domínios de falha e atualização.</span><span class="sxs-lookup"><span data-stu-id="31d3b-370">Azure Virtual Machines within one Azure Availability Set are distributed by hello Azure Fabric Controller over different Fault and Upgrade Domains.</span></span> <span data-ttu-id="31d3b-371">Olá finalidade distribuição Olá em diferentes domínios de falha e atualização é tooprevent que todas as VMs de um sistema SAP seja desligadas em caso de saudação de manutenção da infraestrutura ou uma falha em um domínio de falha.</span><span class="sxs-lookup"><span data-stu-id="31d3b-371">hello purpose of hello distribution over different Fault and Upgrade Domains is tooprevent all VMs of an SAP system from being shut down in hello case of infrastructure maintenance or a failure within one Fault Domain.</span></span> <span data-ttu-id="31d3b-372">Por padrão, VMs não fazem parte de um conjunto de disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="31d3b-372">By default, VMs are not part of an Availability Set.</span></span> <span data-ttu-id="31d3b-373">participação de saudação de uma VM em um conjunto de disponibilidade é definida no momento da implantação ou posteriormente através da reconfiguração ou reimplantação da VM.</span><span class="sxs-lookup"><span data-stu-id="31d3b-373">hello participation of a VM in an Availability Set is defined at deployment time or later on by a reconfiguration and re-deployment of a VM.</span></span>

<span data-ttu-id="31d3b-374">conceito de saudação toounderstand da forma de conjuntos de disponibilidade do Azure e hello conjuntos de disponibilidade relacionar tooFault e domínios de atualização, leia [neste artigo][virtual-machines-manage-availability]</span><span class="sxs-lookup"><span data-stu-id="31d3b-374">toounderstand hello concept of Azure Availability Sets and hello way Availability Sets relate tooFault and Upgrade Domains, read [this article][virtual-machines-manage-availability]</span></span>

<span data-ttu-id="31d3b-375">Consulte toodefine conjuntos de disponibilidade para ARM por meio de um modelo json [Olá especificações de api rest](https://github.com/Azure/azure-rest-api-specs/blob/master/arm-compute/2015-06-15/swagger/compute.json) e procure "disponibilidade".</span><span class="sxs-lookup"><span data-stu-id="31d3b-375">toodefine availability sets for ARM via a json template see [hello rest-api specs](https://github.com/Azure/azure-rest-api-specs/blob/master/arm-compute/2015-06-15/swagger/compute.json) and search for "availability".</span></span>

### <span data-ttu-id="31d3b-376"><a name="a72afa26-4bf4-4a25-8cf7-855d6032157f"></a>Armazenamento: armazenamento do Microsoft Azure e discos de dados</span><span class="sxs-lookup"><span data-stu-id="31d3b-376"><a name="a72afa26-4bf4-4a25-8cf7-855d6032157f"></a>Storage: Microsoft Azure Storage and Data Disks</span></span>
<span data-ttu-id="31d3b-377">Máquinas Virtuais do Microsoft Azure utilizam diferentes tipos de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="31d3b-377">Microsoft Azure Virtual Machines utilize different storage types.</span></span> <span data-ttu-id="31d3b-378">Ao implementar aplicativos SAP nos serviços de máquina Virtual do Azure, é importante toounderstand diferenças de saudação entre esses dois tipos principais de armazenamento:</span><span class="sxs-lookup"><span data-stu-id="31d3b-378">When implementing SAP on Azure Virtual Machine Services, it is important toounderstand hello differences between these two main types of storage:</span></span>

* <span data-ttu-id="31d3b-379">Armazenamento volátil não persistente.</span><span class="sxs-lookup"><span data-stu-id="31d3b-379">Non-Persistent, volatile storage.</span></span>
* <span data-ttu-id="31d3b-380">Armazenamento persistente.</span><span class="sxs-lookup"><span data-stu-id="31d3b-380">Persistent storage.</span></span>

<span data-ttu-id="31d3b-381">armazenamento não persistente Olá é diretamente conectado toohello máquinas virtuais em execução e reside em nós de computação Olá próprios – armazenamento de instância local da saudação (armazenamento temporário).</span><span class="sxs-lookup"><span data-stu-id="31d3b-381">hello non-persistent storage is directly attached toohello running Virtual Machines and resides on hello compute nodes themselves – hello local instance storage (temporary storage).</span></span> <span data-ttu-id="31d3b-382">tamanho Olá depende de tamanho de saudação do hello Máquina Virtual escolhida na implantação Olá iniciada.</span><span class="sxs-lookup"><span data-stu-id="31d3b-382">hello size depends on hello size of hello Virtual Machine chosen when hello deployment started.</span></span> <span data-ttu-id="31d3b-383">Esse tipo de armazenamento é volátil e, portanto, o disco de saudação é inicializado quando uma instância de máquina Virtual for reiniciada.</span><span class="sxs-lookup"><span data-stu-id="31d3b-383">This storage type is volatile and therefore hello disk is initialized when a Virtual Machine instance is restarted.</span></span> <span data-ttu-id="31d3b-384">Normalmente, a saudação de arquivo de paginação para o sistema operacional de saudação está localizado nesse disco temporário.</span><span class="sxs-lookup"><span data-stu-id="31d3b-384">Typically, hello pagefile for hello operating system is located on this temporary disk.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="31d3b-386">Windows</span><span class="sxs-lookup"><span data-stu-id="31d3b-386">Windows</span></span>
>
> <span data-ttu-id="31d3b-387">Em máquinas virtuais do Windows unidade temporária hello está montada como a unidade D:\ em uma VM implantada.</span><span class="sxs-lookup"><span data-stu-id="31d3b-387">On Windows VMs hello temp drive is mounted as drive D:\ in a deployed VM.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="31d3b-389">Linux</span><span class="sxs-lookup"><span data-stu-id="31d3b-389">Linux</span></span>
>
> <span data-ttu-id="31d3b-390">Em VMs Linux, ela está montada como /mnt/resource ou /mnt.</span><span class="sxs-lookup"><span data-stu-id="31d3b-390">On Linux VMs, it's mounted as /mnt/resource or /mnt.</span></span> <span data-ttu-id="31d3b-391">Veja mais detalhes aqui:</span><span class="sxs-lookup"><span data-stu-id="31d3b-391">See more details here:</span></span>
>
> * <span data-ttu-id="31d3b-392">[Como tooAttach tooa um disco de dados Máquina Virtual do Linux][virtual-machines-linux-how-to-attach-disk]</span><span class="sxs-lookup"><span data-stu-id="31d3b-392">[How tooAttach a Data Disk tooa Linux Virtual Machine][virtual-machines-linux-how-to-attach-disk]</span></span>
> * <span data-ttu-id="31d3b-393"><https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-linux#temporary-disk></span><span class="sxs-lookup"><span data-stu-id="31d3b-393"><https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-linux#temporary-disk></span></span>
>
>

- - -
<span data-ttu-id="31d3b-394">unidade real Olá é volátil porque ela é armazenada no próprio servidor de host hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-394">hello actual drive is volatile because it is getting stored on hello host server itself.</span></span> <span data-ttu-id="31d3b-395">Se Olá VM movida em uma reimplantação (por exemplo devido toomaintenance no host de saudação ou desligamento e reinicialização) conteúdo Olá unidade Olá é perdido.</span><span class="sxs-lookup"><span data-stu-id="31d3b-395">If hello VM moved in a redeployment (for example due toomaintenance on hello host or shutdown and restart) hello content of hello drive is lost.</span></span> <span data-ttu-id="31d3b-396">Portanto, não é uma opção toostore dados importantes nessa unidade.</span><span class="sxs-lookup"><span data-stu-id="31d3b-396">Therefore, it is not an option toostore any important data on this drive.</span></span> <span data-ttu-id="31d3b-397">tipo de saudação de mídia usado para esse tipo de armazenamento difere entre séries de VMs diferentes com características de desempenho muito diferentes que se parecem com a partir de junho de 2015:</span><span class="sxs-lookup"><span data-stu-id="31d3b-397">hello type of media used for this type of storage differs between different VM series with very different performance characteristics which as of June 2015 look like:</span></span>

* <span data-ttu-id="31d3b-398">A5-A7: desempenho muito limitado.</span><span class="sxs-lookup"><span data-stu-id="31d3b-398">A5-A7: Very limited performance.</span></span> <span data-ttu-id="31d3b-399">Não recomendado para nada além do arquivo de paginação</span><span class="sxs-lookup"><span data-stu-id="31d3b-399">Not recommended for anything beyond page file</span></span>
* <span data-ttu-id="31d3b-400">A8-A11: características de desempenho excelentes, com aproximadamente dez mil IOPS e taxa de transferência superior a 1 GB/s.</span><span class="sxs-lookup"><span data-stu-id="31d3b-400">A8-A11: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput.</span></span>
* <span data-ttu-id="31d3b-401">Série D: características de desempenho excelentes, com aproximadamente dez mil IOPS e taxa de transferência superior a 1 GB/s.</span><span class="sxs-lookup"><span data-stu-id="31d3b-401">D-Series: Very good performance characteristics with some then thousand IOPS and >1GB/sec throughput.</span></span>
* <span data-ttu-id="31d3b-402">Série DS: características de desempenho excelentes, com aproximadamente dez mil IOPS e taxa de transferência superior a 1 GB/s.</span><span class="sxs-lookup"><span data-stu-id="31d3b-402">DS-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput.</span></span>
* <span data-ttu-id="31d3b-403">Série G: características de desempenho excelentes, com aproximadamente dez mil IOPS e taxa de transferência superior a 1 GB/s.</span><span class="sxs-lookup"><span data-stu-id="31d3b-403">G-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput.</span></span>
* <span data-ttu-id="31d3b-404">Série GS: características de desempenho excelentes, com aproximadamente dez mil IOPS e taxa de transferência superior a 1 GB/s.</span><span class="sxs-lookup"><span data-stu-id="31d3b-404">GS-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput.</span></span>

<span data-ttu-id="31d3b-405">Instruções acima estiver aplicando os tipos de VM toohello certificados com o SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-405">Statements above are applying toohello VM types that are certified with SAP.</span></span> <span data-ttu-id="31d3b-406">Olá séries de VMs com excelente IOPS e taxa de transferência se qualificam para aproveitar alguns recursos do DBMS.</span><span class="sxs-lookup"><span data-stu-id="31d3b-406">hello VM-series with excellent IOPS and throughput qualify for leverage by some DBMS features.</span></span> <span data-ttu-id="31d3b-407">Para obter mais informações, consulte Olá [guia de implantação de DBMS][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="31d3b-407">For more information, see hello [DBMS Deployment Guide][dbms-guide].</span></span>

<span data-ttu-id="31d3b-408">Armazenamento do Microsoft Azure fornece persistente armazenamento e hello típicos níveis de proteção e redundância no armazenamento SAN.</span><span class="sxs-lookup"><span data-stu-id="31d3b-408">Microsoft Azure Storage provides persisted storage and hello typical levels of protection and redundancy seen on SAN storage.</span></span> <span data-ttu-id="31d3b-409">Discos de armazenamento do Azure são discos rígidos virtuais (VHDs) localizados nos serviços de armazenamento do Azure hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-409">Disks based on Azure Storage are virtual hard disk (VHDs) located in hello Azure Storage Services.</span></span> <span data-ttu-id="31d3b-410">Olá local de disco do sistema operacional (c: do Windows\, Linux/desenvolvimento/sda1) é armazenado no hello armazenamento do Azure e Volumes/discos adicionais montado toohello VM obter armazenadas lá, muito.</span><span class="sxs-lookup"><span data-stu-id="31d3b-410">hello local OS-Disk (Windows C:\, Linux /dev/sda1) is stored on hello Azure Storage, and additional Volumes/Disks mounted toohello VM get stored there, too.</span></span>

<span data-ttu-id="31d3b-411">É possível tooupload um VHD existente do local ou criar novos vazios no Azure e anexar essas VMs toodeployed.</span><span class="sxs-lookup"><span data-stu-id="31d3b-411">It is possible tooupload an existing VHD from on-premises or create empty ones from within Azure and attach those toodeployed VMs.</span></span>

<span data-ttu-id="31d3b-412">Depois de criar ou carregar um VHD no armazenamento do Azure, é possível toomount e anexar os tooan Máquina Virtual e toocopy existentes (desmontado) VHD existentes.</span><span class="sxs-lookup"><span data-stu-id="31d3b-412">After creating or uploading a VHD into Azure Storage, it is possible toomount and attach those tooan existing Virtual Machine and toocopy existing (unmounted) VHD.</span></span>

<span data-ttu-id="31d3b-413">Como esses VHDs são persistentes, os dados e alterações presentes em tais VHDs são preservados ao reinicializar e recriar uma instância de Máquina Virtual.</span><span class="sxs-lookup"><span data-stu-id="31d3b-413">As those VHDs are persisted, data and changes within those are safe when rebooting and recreating a Virtual Machine instance.</span></span> <span data-ttu-id="31d3b-414">Mesmo que uma instância for excluída, esses VHDs e manter a seguros podem ser reimplantados ou no caso de discos de SO não podem ser montado tooother VMs.</span><span class="sxs-lookup"><span data-stu-id="31d3b-414">Even if an instance is deleted, these VHDs stay safe and can be redeployed or in case of non-OS disks can be mounted tooother VMs.</span></span>

<span data-ttu-id="31d3b-415">Olá dentro de rede de níveis diferentes de redundância de armazenamento do Azure pode ser configurada:</span><span class="sxs-lookup"><span data-stu-id="31d3b-415">Within hello network of Azure Storage different redundancy levels can be configured:</span></span>

* <span data-ttu-id="31d3b-416">Nível mínimo que pode ser selecionado é 'local redundância', que é o equivalente toothree-réplica dos dados de saudação em Olá mesmo data center de uma região do Azure (consulte o capítulo [regiões do Azure][planning-guide-3.1]).</span><span class="sxs-lookup"><span data-stu-id="31d3b-416">Minimum level that can be selected is ‘local redundancy’, which is equivalent toothree-replica of hello data within hello same data center of an Azure Region (see chapter [Azure Regions][planning-guide-3.1]).</span></span>
* <span data-ttu-id="31d3b-417">Armazenamento de redundância de zona, quais imagens de saudação três visualizações em data centers diferentes em Olá mesma região do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-417">Zone redundant storage, which spreads hello three images over different data centers within hello same Azure Region.</span></span>
* <span data-ttu-id="31d3b-418">Nível de redundância do padrão é a redundância geográfica, que replica de forma assíncrona o conteúdo de saudação em outro três imagens de dados de saudação em outra região do Azure, que está hospedado no hello mesma região geopolíticas.</span><span class="sxs-lookup"><span data-stu-id="31d3b-418">Default redundancy level is geographic redundancy, which asynchronously replicates hello content into another three images of hello data into another Azure Region, which is hosted in hello same geopolitical region.</span></span>

<span data-ttu-id="31d3b-419">Consulte também tabela Olá na parte superior deste artigo sobre opções de redundância diferentes Olá: <https://azure.microsoft.com/pricing/details/storage/></span><span class="sxs-lookup"><span data-stu-id="31d3b-419">Also see hello table on top of this article regarding hello different redundancy options: <https://azure.microsoft.com/pricing/details/storage/></span></span>

<span data-ttu-id="31d3b-420">Mais informações sobre o armazenamento do Azure podem ser encontradas aqui:</span><span class="sxs-lookup"><span data-stu-id="31d3b-420">More information about Azure Storage can be found here:</span></span>

* <span data-ttu-id="31d3b-421"><https://azure.microsoft.com/documentation/services/storage/></span><span class="sxs-lookup"><span data-stu-id="31d3b-421"><https://azure.microsoft.com/documentation/services/storage/></span></span>
* <span data-ttu-id="31d3b-422"><https://azure.microsoft.com/services/site-recovery></span><span class="sxs-lookup"><span data-stu-id="31d3b-422"><https://azure.microsoft.com/services/site-recovery></span></span>
* <span data-ttu-id="31d3b-423"><https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs></span><span class="sxs-lookup"><span data-stu-id="31d3b-423"><https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs></span></span>
* <span data-ttu-id="31d3b-424"><https://blogs.msdn.com/b/azuresecurity/archive/2015/11/17/azure-disk-encryption-for-linux-and-windows-virtual-machines-public-preview.aspx></span><span class="sxs-lookup"><span data-stu-id="31d3b-424"><https://blogs.msdn.com/b/azuresecurity/archive/2015/11/17/azure-disk-encryption-for-linux-and-windows-virtual-machines-public-preview.aspx></span></span>

#### <a name="azure-standard-storage"></a><span data-ttu-id="31d3b-425">Armazenamento Standard do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-425">Azure Standard Storage</span></span>
<span data-ttu-id="31d3b-426">O armazenamento do Azure padrão era o tipo de saudação de armazenamento disponível quando IaaS do Azure foi lançado.</span><span class="sxs-lookup"><span data-stu-id="31d3b-426">Azure Standard storage was hello type of storage available when Azure IaaS was released.</span></span> <span data-ttu-id="31d3b-427">Havia cotas IOPS impostas para cada disco.</span><span class="sxs-lookup"><span data-stu-id="31d3b-427">There were IOPS quotas enforced per single disk.</span></span> <span data-ttu-id="31d3b-428">Latência apresentou não estava no hello mesma classe como dispositivos de SAN/NAS normalmente implantados para sistemas SAP avançados hospedado no local.</span><span class="sxs-lookup"><span data-stu-id="31d3b-428">Latency experienced was not in hello same class as SAN/NAS devices typically deployed for high-end SAP systems hosted on-premises.</span></span> <span data-ttu-id="31d3b-429">No entanto, Olá armazenamento padrão do Azure tornava suficiente para muitas centenas sistemas SAP enquanto isso implantado no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-429">Nevertheless, hello Azure Standard Storage proved sufficient for many hundreds SAP systems meanwhile deployed in Azure.</span></span>

<span data-ttu-id="31d3b-430">Discos que são armazenados em contas de armazenamento padrão do Azure são cobrados com base em Olá dados reais que são armazenados, volume de saudação de transações de armazenamento, transferências de dados de saída e a opção de redundância escolhido.</span><span class="sxs-lookup"><span data-stu-id="31d3b-430">Disks that are stored on Azure Standard Storage Accounts are charged based on hello actual data that is stored, hello volume of storage transactions, outbound data transfers, and redundancy option chosen.</span></span> <span data-ttu-id="31d3b-431">Muitos discos podem ser criados no hello máximo 1 TB de tamanho, mas, como aqueles permanecerem em branco não são cobrados.</span><span class="sxs-lookup"><span data-stu-id="31d3b-431">Many disks can be created at hello maximum 1TB in size, but as long as those remain empty there is no charge.</span></span> <span data-ttu-id="31d3b-432">Se você preencher, em seguida, um VHD com 100GB, você é cobrado para armazenar 100GB e não para Olá Olá de tamanho nominal com que VHD foi criado.</span><span class="sxs-lookup"><span data-stu-id="31d3b-432">If you then fill one VHD with 100GB each, you are charged for storing 100GB and not for hello nominal size hello VHD got created with.</span></span>

#### <span data-ttu-id="31d3b-433"><a name="ff5ad0f9-f7f4-4022-9102-af07aef3bc92"></a>Armazenamento Premium do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-433"><a name="ff5ad0f9-f7f4-4022-9102-af07aef3bc92"></a>Azure Premium Storage</span></span>
<span data-ttu-id="31d3b-434">Em abril de 2015, a Microsoft introduziu o Armazenamento Premium do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-434">In April 2015, Microsoft introduced Azure Premium Storage.</span></span> <span data-ttu-id="31d3b-435">Armazenamento Premium foi introduzido com hello meta tooprovide:</span><span class="sxs-lookup"><span data-stu-id="31d3b-435">Premium Storage got introduced with hello goal tooprovide:</span></span>

* <span data-ttu-id="31d3b-436">Melhor latência de E/S.</span><span class="sxs-lookup"><span data-stu-id="31d3b-436">Better I/O latency.</span></span>
* <span data-ttu-id="31d3b-437">Melhor taxa de transferência.</span><span class="sxs-lookup"><span data-stu-id="31d3b-437">Better throughput.</span></span>
* <span data-ttu-id="31d3b-438">Menos variação na latência de E/S.</span><span class="sxs-lookup"><span data-stu-id="31d3b-438">Less variability in I/O latency.</span></span>

<span data-ttu-id="31d3b-439">Para essa finalidade, muitas alterações foram introduzidas de quais hello dois principais são:</span><span class="sxs-lookup"><span data-stu-id="31d3b-439">For that purpose, many changes were introduced of which hello two most significant are:</span></span>

* <span data-ttu-id="31d3b-440">Uso de discos SSD em nós de armazenamento do Azure Olá</span><span class="sxs-lookup"><span data-stu-id="31d3b-440">Usage of SSD disks in hello Azure Storage nodes</span></span>
* <span data-ttu-id="31d3b-441">Um novo cache de leitura que é apoiado por Olá SSD local de um nó de computação do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-441">A new read cache that is backed by hello local SSD of an Azure compute node</span></span>

<span data-ttu-id="31d3b-442">No armazenamento de tooStandard oposta em que os recursos não foram alterada depende do tamanho de saudação do disco de saudação (ou VHD), armazenamento Premium atualmente tem três categorias de disco diferente, que são mostradas neste artigo: <https://azure.microsoft.com/ preços/detalhes / / não gerenciado-discos de armazenamento /></span><span class="sxs-lookup"><span data-stu-id="31d3b-442">In opposite tooStandard storage where capabilities did not change dependent on hello size of hello disk (or VHD), Premium Storage currently has three different disk categories, which are shown in this article: <https://azure.microsoft.com/pricing/details/storage/unmanaged-disks/></span></span>

<span data-ttu-id="31d3b-443">Consulte o que IOPS/disco e taxa de transferência/disco dependem da categoria de tamanho de saudação de discos Olá</span><span class="sxs-lookup"><span data-stu-id="31d3b-443">You see that IOPS/disk and disk throughput/disk are dependent on hello size category of hello disks</span></span>

<span data-ttu-id="31d3b-444">Custo base no caso de saudação de armazenamento Premium não é um volume de dados reais Olá armazenado em tais discos, mas a categoria de tamanho de saudação desse disco, independentemente da quantidade de saudação de dados de saudação que são armazenados em disco hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-444">Cost basis in hello case of Premium Storage is not hello actual data volume stored in such disks, but hello size category of such a disk, independent of hello amount of hello data that is stored within hello disk.</span></span>

<span data-ttu-id="31d3b-445">Você também pode criar discos no armazenamento Premium que não esteja mapeando diretamente em categorias de tamanho de saudação mostradas.</span><span class="sxs-lookup"><span data-stu-id="31d3b-445">You also can create disks on Premium Storage that are not directly mapping into hello size categories shown.</span></span> <span data-ttu-id="31d3b-446">Isso pode ser o caso de Olá, especialmente quando copiando discos de armazenamento padrão para armazenamento Premium.</span><span class="sxs-lookup"><span data-stu-id="31d3b-446">This may be hello case, especially when copying disks from Standard Storage into Premium Storage.</span></span> <span data-ttu-id="31d3b-447">Nesses casos, uma mapeamento toohello próximo maior armazenamento Premium disco opção é executada.</span><span class="sxs-lookup"><span data-stu-id="31d3b-447">In such cases a mapping toohello next largest Premium Storage disk option is performed.</span></span>

<span data-ttu-id="31d3b-448">Lembre-se de que somente determinado série VM pode se beneficiar de saudação armazenamento Premium do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-448">Be aware that only certain VM series can benefit from hello Azure Premium Storage.</span></span> <span data-ttu-id="31d3b-449">A partir de dezembro de 2015, esses são hello e GS-série DS.</span><span class="sxs-lookup"><span data-stu-id="31d3b-449">As of Dec 2015, these are hello DS- and GS-series.</span></span> <span data-ttu-id="31d3b-450">Olá série DS é basicamente Olá mesmo como D-series, com exceção de saudação da série DS tem capacidade de saudação toomount armazenamento Premium baseados em VMs Além disso toodisks que são hospedadas no armazenamento padrão do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-450">hello DS-series is basically hello same as D-series with hello exception that DS-series has hello ability toomount Premium Storage based VMs additionally toodisks that are hosted on Azure Standard Storage.</span></span> <span data-ttu-id="31d3b-451">Mesmo é válido para a série G-series comparados tooGS.</span><span class="sxs-lookup"><span data-stu-id="31d3b-451">Same thing is valid for G-series compared tooGS-series.</span></span>

<span data-ttu-id="31d3b-452">Se você check-out parte Olá Olá série DS de VMs em [neste artigo (Linux)] [ virtual-machines-sizes-linux] e [neste artigo (Windows)][virtual-machines-sizes-windows], você percebe que há dados volume limitações tooPremium discos de armazenamento granularidade de saudação do hello nível da VM.</span><span class="sxs-lookup"><span data-stu-id="31d3b-452">If you are checking out hello part of hello DS-series VMs in [this article (Linux)][virtual-machines-sizes-linux] and [this article (Windows)][virtual-machines-sizes-windows], you realize that there are data volume limitations tooPremium Storage disks on hello granularity of hello VM level.</span></span> <span data-ttu-id="31d3b-453">Diferente de série DS ou série GS VMs também tem limitações diferentes no que diz respeito toohello número de discos de dados que podem ser montados.</span><span class="sxs-lookup"><span data-stu-id="31d3b-453">Different DS-series or GS-series VMs also have different limitations in regards toohello number of data disks that can be mounted.</span></span> <span data-ttu-id="31d3b-454">Esses limites estão documentados no artigo Olá mencionado acima, bem como.</span><span class="sxs-lookup"><span data-stu-id="31d3b-454">These limits are documented in hello article mentioned above as well.</span></span> <span data-ttu-id="31d3b-455">Mas, em essência, isso significa que se, por exemplo, montar 32 tooa de discos x P30 única VM DS14 não conseguir 32 x taxa de transferência máxima de um disco P30 hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-455">But in essence it means that if you, for example, mount 32 x P30 disks tooa single DS14 VM you can NOT get 32 x hello maximum throughput of a P30 disk.</span></span> <span data-ttu-id="31d3b-456">Olá em vez disso, a taxa de transferência máxima no nível da VM conforme documentado na taxa de transferência de dados do hello artigo limites.</span><span class="sxs-lookup"><span data-stu-id="31d3b-456">Instead hello maximum throughput on VM level as documented in hello article limits data throughput.</span></span>

<span data-ttu-id="31d3b-457">Mais informações sobre o Armazenamento Premium podem ser encontradas aqui: <http://azure.microsoft.com/blog/2015/04/16/azure-premium-storage-now-generally-available-2></span><span class="sxs-lookup"><span data-stu-id="31d3b-457">More information on Premium Storage can be found here: <http://azure.microsoft.com/blog/2015/04/16/azure-premium-storage-now-generally-available-2></span></span>

#### <span data-ttu-id="31d3b-458"><a name="c55b2c6e-3ca1-4476-be16-16c81927550f"></a>Managed Disks</span><span class="sxs-lookup"><span data-stu-id="31d3b-458"><a name="c55b2c6e-3ca1-4476-be16-16c81927550f"></a>Managed Disks</span></span>
<span data-ttu-id="31d3b-459">Managed Disks são um novo tipo de recurso no Azure Resource Manager que pode ser usado em vez de VHDs armazenados em Contas de Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-459">Managed Disks are a new resource type in Azure Resource Manager that can be used instead of VHDs that are stored in Azure Storage Accounts.</span></span> <span data-ttu-id="31d3b-460">Discos gerenciados alinham automaticamente com hello conjunto de disponibilidade da máquina virtual de saudação estiverem anexados tooand, portanto, aumentar a disponibilidade de sua máquina virtual e serviços Olá em execução na máquina virtual de Olá Olá.</span><span class="sxs-lookup"><span data-stu-id="31d3b-460">Managed Disks automatically align with hello Availability Set of hello virtual machine they are attached tooand therefore increase hello availability of your virtual machine and hello services that are running on hello virtual machine.</span></span> <span data-ttu-id="31d3b-461">Para obter mais informações, leia Olá [artigo de visão geral](https://docs.microsoft.com/azure/storage/storage-managed-disks-overview).</span><span class="sxs-lookup"><span data-stu-id="31d3b-461">For more information, read hello [overview article](https://docs.microsoft.com/azure/storage/storage-managed-disks-overview).</span></span>

<span data-ttu-id="31d3b-462">Recomendamos o uso de tooyou disco gerenciado, porque eles simplificam a implantação hello e gerenciamento de suas máquinas virtuais.</span><span class="sxs-lookup"><span data-stu-id="31d3b-462">We recommend tooyou use Managed disk, because they simplify hello deployment and management of your virtual machines.</span></span>
<span data-ttu-id="31d3b-463">O SAP atualmente dá suporte apenas a Managed Disks Premium.</span><span class="sxs-lookup"><span data-stu-id="31d3b-463">SAP currently only supports Premium Managed Disks.</span></span> <span data-ttu-id="31d3b-464">Para obter mais informações, leia a Nota SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="31d3b-464">For more information, read SAP Note [1928533].</span></span>

#### <a name="azure-storage-accounts"></a><span data-ttu-id="31d3b-465">Contas de Armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-465">Azure Storage Accounts</span></span>
<span data-ttu-id="31d3b-466">Ao implantar serviços ou VMs no Azure, a implantação de VHDs e Imagens de VM pode ser organizada em unidades chamadas Contas de Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-466">When deploying services or VMs in Azure, deployment of VHDs and VM Images can be organized in units called Azure Storage Accounts.</span></span> <span data-ttu-id="31d3b-467">Ao planejar uma implantação do Azure, você precisa toocarefully considere Olá restrições do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-467">When planning an Azure deployment, you need toocarefully consider hello restrictions of Azure.</span></span> <span data-ttu-id="31d3b-468">Em um lado de saudação, há um número limitado de contas de armazenamento por assinatura do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-468">On hello one side, there is a limited number of Storage Accounts per Azure subscription.</span></span> <span data-ttu-id="31d3b-469">Embora cada conta de armazenamento do Azure pode conter um grande número de arquivos VHD, há um limite fixo no hello total de IOPS por conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="31d3b-469">Although each Azure Storage Account can hold a large number of VHD files, there is a fixed limit on hello total IOPS per Storage Account.</span></span> <span data-ttu-id="31d3b-470">Ao implantar centenas de VMs SAP com sistemas DBMS criar chamadas de e/s significativas, é recomendável toodistribute alta VMs de DBMS IOPS entre várias contas de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-470">When deploying hundreds of SAP VMs with DBMS systems creating significant IO calls, it is recommended toodistribute high IOPS DBMS VMs between multiple Azure Storage Accounts.</span></span> <span data-ttu-id="31d3b-471">Tome cuidado não tooexceed Olá limite atual de contas de armazenamento do Azure por assinatura.</span><span class="sxs-lookup"><span data-stu-id="31d3b-471">Care must be taken not tooexceed hello current limit of Azure Storage Accounts per subscription.</span></span> <span data-ttu-id="31d3b-472">Como o armazenamento é uma parte essencial da implantação de banco de dados de saudação para um sistema SAP, esse conceito é abordado em mais detalhes em Olá já referenciado [guia de implantação de DBMS][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="31d3b-472">Because storage is a vital part of hello database deployment for an SAP system, this concept is discussed in more detail in hello already referenced [DBMS Deployment Guide][dbms-guide].</span></span>

<span data-ttu-id="31d3b-473">Mais informações sobre as Contas de Armazenamento do Azure podem ser encontradas [neste artigo][storage-scalability-targets].</span><span class="sxs-lookup"><span data-stu-id="31d3b-473">More information about Azure Storage Accounts can be found in [this article][storage-scalability-targets].</span></span> <span data-ttu-id="31d3b-474">Lendo este artigo, você percebe que há diferenças nas limitações de saudação entre contas de armazenamento padrão do Azure e contas de armazenamento Premium.</span><span class="sxs-lookup"><span data-stu-id="31d3b-474">Reading this article, you realize that there are differences in hello limitations between Azure Standard Storage Accounts and Premium Storage Accounts.</span></span> <span data-ttu-id="31d3b-475">Principais diferenças são volume Olá de dados que podem ser armazenados em tal uma conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="31d3b-475">Major differences are hello volume of data that can be stored within such a Storage Account.</span></span> <span data-ttu-id="31d3b-476">No armazenamento padrão volume Olá é uma magnitude maior do que com o armazenamento Premium.</span><span class="sxs-lookup"><span data-stu-id="31d3b-476">In Standard Storage hello volume is a magnitude larger than with Premium Storage.</span></span> <span data-ttu-id="31d3b-477">Em Olá outro lado, a conta de armazenamento padrão de saudação severos é limitado em IOPS (consulte a coluna 'Taxa Total de solicitação'), enquanto Olá conta de armazenamento do Azure Premium tem sem essa limitação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-477">On hello other side, hello Standard Storage Account is severely limited in IOPS (see column ‘Total Request Rate’), whereas hello Azure Premium Storage Account has no such limitation.</span></span> <span data-ttu-id="31d3b-478">Vamos discutir detalhes e os resultados dessas diferenças ao discutir as implantações de saudação de sistemas SAP, especialmente servidores DBMS hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-478">We will discuss details and results of these differences when discussing hello deployments of SAP systems, especially hello DBMS servers.</span></span>

<span data-ttu-id="31d3b-479">Em uma conta de armazenamento, você tem Olá possibilidade toocreate diferentes contêineres para finalidade de saudação de organizar e classificando diferentes VHDs.</span><span class="sxs-lookup"><span data-stu-id="31d3b-479">Within a Storage Account, you have hello possibility toocreate different containers for hello purpose of organizing and categorizing different VHDs.</span></span> <span data-ttu-id="31d3b-480">Esses contêineres são geralmente usados para, por exemplo, separar os VHDs de VMs diferentes.</span><span class="sxs-lookup"><span data-stu-id="31d3b-480">These containers are usually used to, for example, separate VHDs of different VMs.</span></span> <span data-ttu-id="31d3b-481">Não há nenhuma implicação de desempenho em usar apenas um contêiner ou vários contêineres sob uma única Conta de Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-481">There are no performance implications in using just one container or multiple containers underneath a single Azure Storage Account.</span></span>

<span data-ttu-id="31d3b-482">No Azure um nome VHD segue Olá após a conexão de nomenclatura que precisa tooprovide um nome exclusivo para Olá VHD no Azure:</span><span class="sxs-lookup"><span data-stu-id="31d3b-482">Within Azure a VHD name follows hello following naming connection that needs tooprovide a unique name for hello VHD within Azure:</span></span>

    http(s)://<storage account name>.blob.core.windows.net/<container name>/<vhd name>

<span data-ttu-id="31d3b-483">Como cadeia de caracteres de saudação mencionados acima, precisa toouniquely identificar Olá VHD é armazenado no armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-483">As mentioned hello string above needs toouniquely identify hello VHD that is stored on Azure Storage.</span></span>

### <span data-ttu-id="31d3b-484"><a name="61678387-8868-435d-9f8c-450b2424f5bd"></a>Rede do Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-484"><a name="61678387-8868-435d-9f8c-450b2424f5bd"></a>Microsoft Azure Networking</span></span>
<span data-ttu-id="31d3b-485">O Microsoft Azure fornece uma infraestrutura de rede, que permite o mapeamento de saudação de todos os cenários, o que queremos toorealize com o software SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-485">Microsoft Azure provides a network infrastructure, which allows hello mapping of all scenarios, which we want toorealize with SAP software.</span></span> <span data-ttu-id="31d3b-486">Olá recursos estão:</span><span class="sxs-lookup"><span data-stu-id="31d3b-486">hello capabilities are:</span></span>

* <span data-ttu-id="31d3b-487">Acesso de saudação fora diretamente toohello máquinas virtuais por meio de serviços de Terminal do Windows ou o ssh/VNC</span><span class="sxs-lookup"><span data-stu-id="31d3b-487">Access from hello outside, directly toohello VMs via Windows Terminal Services or ssh/VNC</span></span>
* <span data-ttu-id="31d3b-488">Acesso tooservices e usadas por aplicativos nas VMs da saudação de portas específicas</span><span class="sxs-lookup"><span data-stu-id="31d3b-488">Access tooservices and specific ports used by applications within hello VMs</span></span>
* <span data-ttu-id="31d3b-489">Comunicação interna e resolução de nomes entre um grupo de VMs implantadas como VMs do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-489">Internal Communication and Name Resolution between a group of VMs deployed as Azure VMs</span></span>
* <span data-ttu-id="31d3b-490">Conectividade entre locais entre a rede local e rede Azure de saudação do cliente</span><span class="sxs-lookup"><span data-stu-id="31d3b-490">Cross-premises Connectivity between a customer’s on-premises network and hello Azure network</span></span>
* <span data-ttu-id="31d3b-491">Conectividade entre Regiões do Azure ou data centers entre sites do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-491">Cross Azure Region or data center connectivity between Azure sites</span></span>

<span data-ttu-id="31d3b-492">Mais informações podem ser encontradas aqui: <https://azure.microsoft.com/documentation/services/virtual-network/></span><span class="sxs-lookup"><span data-stu-id="31d3b-492">More information can be found here: <https://azure.microsoft.com/documentation/services/virtual-network/></span></span>

<span data-ttu-id="31d3b-493">Há muitos nome de tooconfigure possibilidades diferentes e a resolução IP no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-493">There are many different possibilities tooconfigure name and IP resolution in Azure.</span></span> <span data-ttu-id="31d3b-494">Neste documento, somente em nuvem cenários dependem do padrão de saudação do uso de DNS do Azure (em contraste toodefining um serviço DNS próprio).</span><span class="sxs-lookup"><span data-stu-id="31d3b-494">In this document, Cloud-Only scenarios rely on hello default of using Azure DNS (in contrast toodefining an own DNS service).</span></span> <span data-ttu-id="31d3b-495">Também há um novo serviço DNS do Azure que pode ser usado, em vez de configurar seu próprio servidor DNS.</span><span class="sxs-lookup"><span data-stu-id="31d3b-495">There is also a new Azure DNS service, which can be used instead of setting up your own DNS server.</span></span> <span data-ttu-id="31d3b-496">Encontre mais informações [neste artigo][virtual-networks-manage-dns-in-vnet] e [nesta página](https://azure.microsoft.com/services/dns/).</span><span class="sxs-lookup"><span data-stu-id="31d3b-496">More information can be found in [this article][virtual-networks-manage-dns-in-vnet] and on [this page](https://azure.microsoft.com/services/dns/).</span></span>

<span data-ttu-id="31d3b-497">Para cenários de entre locais, contamos fatos Olá que Olá OpenLDAP/AD/DNS tiver sido estendido por meio de VPN ou conexão privada tooAzure ao local.</span><span class="sxs-lookup"><span data-stu-id="31d3b-497">For cross-premises scenarios, we are relying on hello fact that hello on-premises AD/OpenLDAP/DNS has been extended via VPN or private connection tooAzure.</span></span> <span data-ttu-id="31d3b-498">Para determinados cenários, conforme documentado aqui, talvez seja necessário toohave uma réplica do AD/OpenLDAP instalada no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-498">For certain scenarios as documented here, it might be necessary toohave an AD/OpenLDAP replica installed in Azure.</span></span>

<span data-ttu-id="31d3b-499">Como a rede e resolução de nome é uma parte essencial da implantação de banco de dados de saudação para um sistema SAP, esse conceito é abordado em mais detalhes em Olá [guia de implantação de DBMS][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="31d3b-499">Because networking and name resolution is a vital part of hello database deployment for an SAP system, this concept is discussed in more detail in hello [DBMS Deployment Guide][dbms-guide].</span></span>

##### <a name="azure-virtual-networks"></a><span data-ttu-id="31d3b-500">Redes Virtuais do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-500">Azure Virtual Networks</span></span>
<span data-ttu-id="31d3b-501">Ao criar uma rede Virtual do Azure, você pode definir o intervalo de endereços de saudação do hello endereços IP alocados pela funcionalidade DHCP do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-501">By building up an Azure Virtual Network, you can define hello address range of hello private IP addresses allocated by Azure DHCP functionality.</span></span> <span data-ttu-id="31d3b-502">Em cenários entre locais, intervalo de endereços IP hello definido ainda esteja alocado usando DHCP pelo Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-502">In cross-premises scenarios, hello IP address range defined is still allocated using DHCP by Azure.</span></span> <span data-ttu-id="31d3b-503">No entanto, a resolução de nome de domínio é feita no local (supondo que Olá VMs são uma parte de um domínio local) e, portanto, pode resolver endereços além diferentes serviços de nuvem do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-503">However, Domain Name resolution is done on-premises (assuming that hello VMs are a part of an on-premises domain) and hence can resolve addresses beyond different Azure Cloud Services.</span></span>

<span data-ttu-id="31d3b-504">Cada máquina Virtual no Azure necessidades toobe conectado tooa rede Virtual.</span><span class="sxs-lookup"><span data-stu-id="31d3b-504">Every Virtual Machine in Azure needs toobe connected tooa Virtual Network.</span></span>

<span data-ttu-id="31d3b-505">Mais detalhes podem ser encontrados [neste artigo][resource-groups-networking] e [nesta página](https://azure.microsoft.com/documentation/services/virtual-network/).</span><span class="sxs-lookup"><span data-stu-id="31d3b-505">More details can be found in [this article][resource-groups-networking] and on [this page](https://azure.microsoft.com/documentation/services/virtual-network/).</span></span>

[comment]: <> (MShermannd TODO não foi possível encontrar um artigo que inclui o tópico de OpenLDAP Olá + ARM;)
[comment]: <> (MSSedusch <https://channel9.msdn.com/Blogs/Open/Load-balancing-highly-available-Linux-services-on-Windows-Azure-OpenLDAP-and-MySQL>)

> [!NOTE]
> <span data-ttu-id="31d3b-508">Por padrão, quando uma VM é implantada, não é possível alterar configuração da rede Virtual hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-508">By default, once a VM is deployed you cannot change hello Virtual Network configuration.</span></span> <span data-ttu-id="31d3b-509">configurações de TCP/IP Hello devem ser deixadas toohello servidor de DHCP do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-509">hello TCP/IP settings must be left toohello Azure DHCP server.</span></span> <span data-ttu-id="31d3b-510">O comportamento padrão é a atribuição de IP dinâmico.</span><span class="sxs-lookup"><span data-stu-id="31d3b-510">Default behavior is Dynamic IP assignment.</span></span>
>
>

<span data-ttu-id="31d3b-511">Olá endereço MAC da placa de rede virtual Olá pode mudar, por exemplo depois de redimensionar e o Windows hello ou sistema operacional de convidado do Linux pega a nova placa de rede hello e usa automaticamente os endereços IP e DNS de saudação de tooassign do DHCP nesse caso.</span><span class="sxs-lookup"><span data-stu-id="31d3b-511">hello MAC address of hello virtual network card may change, for example after resize and hello Windows or Linux guest OS picks up hello new network card and automatically uses DHCP tooassign hello IP and DNS addresses in this case.</span></span>

##### <a name="static-ip-assignment"></a><span data-ttu-id="31d3b-512">Atribuição de endereço IP estático</span><span class="sxs-lookup"><span data-stu-id="31d3b-512">Static IP Assignment</span></span>
<span data-ttu-id="31d3b-513">É possível tooassign fixada ou tooVMs em uma rede Virtual do Azure de endereços IP reservados.</span><span class="sxs-lookup"><span data-stu-id="31d3b-513">It is possible tooassign fixed or reserved IP addresses tooVMs within an Azure Virtual Network.</span></span> <span data-ttu-id="31d3b-514">VMs de saudação em execução em uma rede Virtual do Azure abre uma ótima possibilidade tooleverage essa funcionalidade se necessário ou alguns cenários.</span><span class="sxs-lookup"><span data-stu-id="31d3b-514">Running hello VMs in an Azure Virtual Network opens a great possibility tooleverage this functionality if needed or required for some scenarios.</span></span> <span data-ttu-id="31d3b-515">atribuição de IP Hello permanece válida durante toda a existência de saudação do hello VM, independentemente de se Olá VM está em execução ou desligamento.</span><span class="sxs-lookup"><span data-stu-id="31d3b-515">hello IP assignment remains valid throughout hello existence of hello VM, independent of whether hello VM is running or shutdown.</span></span> <span data-ttu-id="31d3b-516">Como resultado, você precisa tootake Olá número total de VMs (máquinas virtuais em execução e interrompidas) em consideração ao definir Olá intervalo de endereços IP para rede Virtual de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-516">As a result, you need tootake hello overall number of VMs (running and stopped VMS) into account when defining hello range of IP addresses for hello Virtual Network.</span></span> <span data-ttu-id="31d3b-517">endereço IP Hello permanece atribuído até que seja excluída hello VM e sua Interface de rede ou até que o endereço IP hello desatribuído novamente.</span><span class="sxs-lookup"><span data-stu-id="31d3b-517">hello IP address remains assigned either until hello VM and its Network Interface is deleted or until hello IP address gets de-assigned again.</span></span> <span data-ttu-id="31d3b-518">Para obter mais informações, leia [este artigo][virtual-networks-static-private-ip-arm-pportal].</span><span class="sxs-lookup"><span data-stu-id="31d3b-518">For more information, read [this article][virtual-networks-static-private-ip-arm-pportal].</span></span>

##### <a name="multiple-nics-per-vm"></a><span data-ttu-id="31d3b-519">Várias NICs por VM</span><span class="sxs-lookup"><span data-stu-id="31d3b-519">Multiple NICs per VM</span></span>
<span data-ttu-id="31d3b-520">Você pode definir várias vNICs (placas de interface de rede virtual) para uma Máquina Virtual do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-520">You can define multiple virtual network interface cards (vNIC) for an Azure Virtual Machine.</span></span> <span data-ttu-id="31d3b-521">Com hello capacidade toohave vNICs vários você pode iniciar tooset a separação do tráfego de rede em que, por exemplo, o tráfego de cliente é roteado por um vNIC e tráfego de back-end é roteado por uma segundo vNIC.</span><span class="sxs-lookup"><span data-stu-id="31d3b-521">With hello ability toohave multiple vNICs you can start tooset up network traffic separation where, for example, client traffic is routed through one vNIC and backend traffic is routed through a second vNIC.</span></span> <span data-ttu-id="31d3b-522">Dependente do tipo de saudação da VM que existem limitações diferentes em considera toohello inúmeros vNICs.</span><span class="sxs-lookup"><span data-stu-id="31d3b-522">Dependent on hello type of VM there are different limitations in regards toohello number of vNICs.</span></span> <span data-ttu-id="31d3b-523">Restrições, funcionalidades e detalhes exatos podem ser encontradas nesses artigos:</span><span class="sxs-lookup"><span data-stu-id="31d3b-523">Exact details, functionality, and restrictions can be found in these articles:</span></span>

* <span data-ttu-id="31d3b-524">[Criar uma VM Windows com várias NICs][virtual-networks-multiple-nics-windows]</span><span class="sxs-lookup"><span data-stu-id="31d3b-524">[Create a Windows VM with multiple NICs][virtual-networks-multiple-nics-windows]</span></span>
* <span data-ttu-id="31d3b-525">[Criar uma VM Linux com várias NICs][virtual-networks-multiple-nics-linux]</span><span class="sxs-lookup"><span data-stu-id="31d3b-525">[Create a Linux VM with multiple NICs][virtual-networks-multiple-nics-linux]</span></span>
* <span data-ttu-id="31d3b-526">[Implantar VMs com diversas NICs usando um modelo][virtual-network-deploy-multinic-arm-template]</span><span class="sxs-lookup"><span data-stu-id="31d3b-526">[Deploy multi NIC VMs using a template][virtual-network-deploy-multinic-arm-template]</span></span>
* <span data-ttu-id="31d3b-527">[Implantar VMs com diversas NICs usando o PowerShell][virtual-network-deploy-multinic-arm-ps]</span><span class="sxs-lookup"><span data-stu-id="31d3b-527">[Deploy multi NIC VMs using PowerShell][virtual-network-deploy-multinic-arm-ps]</span></span>
* <span data-ttu-id="31d3b-528">[Implantar várias VMs de NIC usando Olá CLI do Azure][virtual-network-deploy-multinic-arm-cli]</span><span class="sxs-lookup"><span data-stu-id="31d3b-528">[Deploy multi NIC VMs using hello Azure CLI][virtual-network-deploy-multinic-arm-cli]</span></span>

#### <a name="site-to-site-connectivity"></a><span data-ttu-id="31d3b-529">Conectividade site a site</span><span class="sxs-lookup"><span data-stu-id="31d3b-529">Site-to-Site Connectivity</span></span>
<span data-ttu-id="31d3b-530">Entre instalações refere-se a VMs do Azure e locais vinculadas por uma conexão VPN permanente e transparente.</span><span class="sxs-lookup"><span data-stu-id="31d3b-530">Cross-premises is Azure VMs and On-Premises linked with a transparent and permanent VPN connection.</span></span> <span data-ttu-id="31d3b-531">É esperado toobecome hello mais comuns padrão de implantação SAP no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-531">It is expected toobecome hello most common SAP deployment pattern in Azure.</span></span> <span data-ttu-id="31d3b-532">Olá pressupõe-se que os procedimentos operacionais e processos com instâncias SAP no Azure funcionem de forma transparente.</span><span class="sxs-lookup"><span data-stu-id="31d3b-532">hello assumption is that operational procedures and processes with SAP instances in Azure should work transparently.</span></span> <span data-ttu-id="31d3b-533">Isso significa que você deve ser capaz de tooprint partir desses sistemas, bem como usar Olá tootransport do sistema de gerenciamento de transporte SAP (TMS) muda de um sistema de desenvolvimento no sistema de teste de tooa do Azure, que é implantado no local.</span><span class="sxs-lookup"><span data-stu-id="31d3b-533">This means you should be able tooprint out of these systems as well as use hello SAP Transport Management System (TMS) tootransport changes from a development system in Azure tooa test system, which is deployed on-premises.</span></span> <span data-ttu-id="31d3b-534">Encontre mais documentações relacionadas ao site a site [neste artigo][vpn-gateway-create-site-to-site-rm-powershell]</span><span class="sxs-lookup"><span data-stu-id="31d3b-534">More documentation around site-to-site can be found in [this article][vpn-gateway-create-site-to-site-rm-powershell]</span></span>

##### <a name="vpn-tunnel-device"></a><span data-ttu-id="31d3b-535">Dispositivo de túnel VPN</span><span class="sxs-lookup"><span data-stu-id="31d3b-535">VPN Tunnel Device</span></span>
<span data-ttu-id="31d3b-536">No pedido toocreate uma conexão site a site (no data center tooAzure data center local), você precisa tooeither obter e configurar um dispositivo VPN ou usar o roteamento e acesso remoto (RRAS) que foi introduzida como um componente de software com o Windows Server 2012.</span><span class="sxs-lookup"><span data-stu-id="31d3b-536">In order toocreate a site-to-site connection (on-premises data center tooAzure data center), you need tooeither obtain and configure a VPN device, or use Routing and Remote Access Service (RRAS) which was introduced as a software component with Windows Server 2012.</span></span>

* <span data-ttu-id="31d3b-537">[Criar uma rede virtual com uma conexão VPN site a site usando PowerShell][vpn-gateway-create-site-to-site-rm-powershell]</span><span class="sxs-lookup"><span data-stu-id="31d3b-537">[Create a virtual network with a site-to-site VPN connection using PowerShell][vpn-gateway-create-site-to-site-rm-powershell]</span></span>
* <span data-ttu-id="31d3b-538">[Sobre dispositivos VPN para conexões de Gateway de VPN Site a Site][vpn-gateway-about-vpn-devices]</span><span class="sxs-lookup"><span data-stu-id="31d3b-538">[About VPN devices for Site-to-Site VPN Gateway connections][vpn-gateway-about-vpn-devices]</span></span>
* <span data-ttu-id="31d3b-539">[Perguntas frequentes sobre o Gateway de VPN][vpn-gateway-vpn-faq]</span><span class="sxs-lookup"><span data-stu-id="31d3b-539">[VPN Gateway FAQ][vpn-gateway-vpn-faq]</span></span>

![Conexão site a site entre locais e o Azure][planning-guide-figure-600]

<span data-ttu-id="31d3b-541">Olá figura acima mostra duas assinaturas do Azure têm subintervalos de endereços IP reservados para uso em redes virtuais no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-541">hello Figure above shows two Azure subscriptions have IP address subranges reserved for usage in Virtual Networks in Azure.</span></span> <span data-ttu-id="31d3b-542">conectividade de saudação do hello local tooAzure de rede é estabelecida via VPN.</span><span class="sxs-lookup"><span data-stu-id="31d3b-542">hello connectivity from hello on-premises network tooAzure is established via VPN.</span></span>

#### <a name="point-to-site-vpn"></a><span data-ttu-id="31d3b-543">VPN ponto a site</span><span class="sxs-lookup"><span data-stu-id="31d3b-543">Point-to-Site VPN</span></span>
<span data-ttu-id="31d3b-544">VPN ponto a site requer que cada tooconnect de máquina do cliente com seu próprio VPN no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-544">Point-to-site VPN requires every client machine tooconnect with its own VPN into Azure.</span></span> <span data-ttu-id="31d3b-545">Para cenários SAP Olá que vemos, conectividade ponto a site não é prática.</span><span class="sxs-lookup"><span data-stu-id="31d3b-545">For hello SAP scenarios we are looking at, point-to-site connectivity is not practical.</span></span> <span data-ttu-id="31d3b-546">Portanto, nenhuma outra referência terá conectividade de VPN site a toopoint.</span><span class="sxs-lookup"><span data-stu-id="31d3b-546">Therefore, no further references are given toopoint-to-site VPN connectivity.</span></span>

<span data-ttu-id="31d3b-547">Mais informações podem ser encontradas aqui</span><span class="sxs-lookup"><span data-stu-id="31d3b-547">More information can be found here</span></span>
* [<span data-ttu-id="31d3b-548">Configurar uma conexão de ponto para Site tooa VNet usando Olá portal do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-548">Configure a Point-to-Site connection tooa VNet using hello Azure portal</span></span>](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-howto-point-to-site-resource-manager-portal)
* [<span data-ttu-id="31d3b-549">Configurar uma conexão de ponto para Site tooa redes usando o PowerShell</span><span class="sxs-lookup"><span data-stu-id="31d3b-549">Configure a Point-to-Site connection tooa VNet using PowerShell</span></span>](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-howto-point-to-site-rm-ps)

#### <a name="multi-site-vpn"></a><span data-ttu-id="31d3b-550">VPN de múltiplos sites</span><span class="sxs-lookup"><span data-stu-id="31d3b-550">Multi-Site VPN</span></span>
<span data-ttu-id="31d3b-551">O Azure também atualmente oferece conectividade de VPN de multissite do hello possibilidade toocreate para uma assinatura do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-551">Azure also nowadays offers hello possibility toocreate Multi-Site VPN connectivity for one Azure subscription.</span></span> <span data-ttu-id="31d3b-552">Anteriormente, uma única assinatura foi conexão de VPN site a site tooone limitado.</span><span class="sxs-lookup"><span data-stu-id="31d3b-552">Previously a single subscription was limited tooone site-to-site VPN connection.</span></span> <span data-ttu-id="31d3b-553">Essa limitação desapareceu com ligações VPN de múltiplos sites para uma única assinatura.</span><span class="sxs-lookup"><span data-stu-id="31d3b-553">This limitation went away with Multi-Site VPN connections for a single subscription.</span></span> <span data-ttu-id="31d3b-554">Isso torna possível tooleverage mais de uma região do Azure para uma assinatura específica por meio de configurações entre locais.</span><span class="sxs-lookup"><span data-stu-id="31d3b-554">This makes it possible tooleverage more than one Azure Region for a specific subscription through cross-premises configurations.</span></span>

<span data-ttu-id="31d3b-555">Para obter mais documentação, veja [este artigo][vpn-gateway-create-site-to-site-rm-powershell]</span><span class="sxs-lookup"><span data-stu-id="31d3b-555">For more documentation, please see [this article][vpn-gateway-create-site-to-site-rm-powershell]</span></span>

[comment]: <> (MShermannd TODO: nenhum link de documentação do ARM encontrado)

#### <a name="vnet-toovnet-connection"></a><span data-ttu-id="31d3b-557">Rede virtual tooVNet Conexão</span><span class="sxs-lookup"><span data-stu-id="31d3b-557">VNet tooVNet Connection</span></span>
<span data-ttu-id="31d3b-558">Usando VPN de multissite, você precisa tooconfigure uma rede Virtual do Azure separada em cada uma das regiões de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-558">Using Multi-Site VPN, you need tooconfigure a separate Azure Virtual Network in each of hello regions.</span></span> <span data-ttu-id="31d3b-559">No entanto, muito frequentemente, você tem o requisito de Olá que componentes de software Olá em regiões diferentes Olá devem se comunicar entre si.</span><span class="sxs-lookup"><span data-stu-id="31d3b-559">However very often you have hello requirement that hello software components in hello different regions should communicate with each other.</span></span> <span data-ttu-id="31d3b-560">Idealmente essa comunicação deve ser roteada não de uma região do Azure tooon local e de lá toohello outra região do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-560">Ideally this communication should not be routed from one Azure Region tooon-premises and from there toohello other Azure Region.</span></span> <span data-ttu-id="31d3b-561">tooshortcut, o Azure oferece a saudação possibilidade tooconfigure uma conexão de uma rede Virtual do Azure no tooanother de região uma que rede Virtual do Azure hospedada em outra região.</span><span class="sxs-lookup"><span data-stu-id="31d3b-561">tooshortcut, Azure offers hello possibility tooconfigure a connection from one Azure Virtual Network in one region tooanother Azure Virtual Network hosted in another region.</span></span> <span data-ttu-id="31d3b-562">Essa funcionalidade é chamada de conexão de VNet a VNet.</span><span class="sxs-lookup"><span data-stu-id="31d3b-562">This functionality is called VNet-to-VNet connection.</span></span> <span data-ttu-id="31d3b-563">Mais detalhes sobre essa funcionalidade podem ser encontrados aqui: <https://azure.microsoft.com/documentation/articles/vpn-gateway-vnet-vnet-rm-ps/>.</span><span class="sxs-lookup"><span data-stu-id="31d3b-563">More details on this functionality can be found here: <https://azure.microsoft.com/documentation/articles/vpn-gateway-vnet-vnet-rm-ps/>.</span></span>

#### <a name="private-connection-tooazure--expressroute"></a><span data-ttu-id="31d3b-564">TooAzure de Conexão privada – rota expressa</span><span class="sxs-lookup"><span data-stu-id="31d3b-564">Private Connection tooAzure – ExpressRoute</span></span>
<span data-ttu-id="31d3b-565">O Microsoft Azure ExpressRoute permite a criação de saudação de conexões privadas entre data centers do Azure e infraestrutura de local do cliente ou hello, ou em um ambiente de colocalização.</span><span class="sxs-lookup"><span data-stu-id="31d3b-565">Microsoft Azure ExpressRoute allows hello creation of private connections between Azure data centers and either hello customer's on-premises infrastructure or in a co-location environment.</span></span> <span data-ttu-id="31d3b-566">O ExpressRoute é oferecido por diversos provedores VPN MPLS (com pacotes comutados) ou outros Provedores de Serviços de Rede.</span><span class="sxs-lookup"><span data-stu-id="31d3b-566">ExpressRoute is offered by various MPLS (packet switched) VPN providers or other Network Service Providers.</span></span> <span data-ttu-id="31d3b-567">Conexões de rota expressa não passam pela Olá Internet pública.</span><span class="sxs-lookup"><span data-stu-id="31d3b-567">ExpressRoute connections do not go over hello public Internet.</span></span> <span data-ttu-id="31d3b-568">Conexões de rota expressa oferecem maior segurança, mais confiabilidade através de vários circuitos paralelos, velocidades mais rápidas e latências menores que as conexões típicas Olá da Internet.</span><span class="sxs-lookup"><span data-stu-id="31d3b-568">ExpressRoute connections offer higher security, more reliability through multiple parallel circuits, faster speeds, and lower latencies than typical connections over hello Internet.</span></span>

<span data-ttu-id="31d3b-569">Encontre mais detalhes sobre a Azure ExpressRoute e ofertas aqui:</span><span class="sxs-lookup"><span data-stu-id="31d3b-569">Find more details on Azure ExpressRoute and offerings here:</span></span>

* <span data-ttu-id="31d3b-570"><https://azure.microsoft.com/documentation/services/expressroute/></span><span class="sxs-lookup"><span data-stu-id="31d3b-570"><https://azure.microsoft.com/documentation/services/expressroute/></span></span>
* <span data-ttu-id="31d3b-571"><https://azure.microsoft.com/pricing/details/expressroute/></span><span class="sxs-lookup"><span data-stu-id="31d3b-571"><https://azure.microsoft.com/pricing/details/expressroute/></span></span>
* <span data-ttu-id="31d3b-572"><https://azure.microsoft.com/documentation/articles/expressroute-faqs/></span><span class="sxs-lookup"><span data-stu-id="31d3b-572"><https://azure.microsoft.com/documentation/articles/expressroute-faqs/></span></span>

<span data-ttu-id="31d3b-573">O ExpressRoute permite várias assinaturas do Azure por meio de um circuito de ExpressRoute, conforme documentado aqui</span><span class="sxs-lookup"><span data-stu-id="31d3b-573">Express Route enables multiple Azure subscriptions through one ExpressRoute circuit as documented here</span></span>

* <span data-ttu-id="31d3b-574"><https://azure.microsoft.com/documentation/articles/expressroute-howto-linkvnet-arm/></span><span class="sxs-lookup"><span data-stu-id="31d3b-574"><https://azure.microsoft.com/documentation/articles/expressroute-howto-linkvnet-arm/></span></span>
* <span data-ttu-id="31d3b-575"><https://azure.microsoft.com/documentation/articles/expressroute-howto-circuit-arm/></span><span class="sxs-lookup"><span data-stu-id="31d3b-575"><https://azure.microsoft.com/documentation/articles/expressroute-howto-circuit-arm/></span></span>

#### <a name="forced-tunneling-in-case-of-cross-premises"></a><span data-ttu-id="31d3b-576">Túnel forçado em caso de instalações cruzadas</span><span class="sxs-lookup"><span data-stu-id="31d3b-576">Forced tunneling in case of cross-premises</span></span>
<span data-ttu-id="31d3b-577">Para ingressar em domínios locais através de site a site, ponto a site ou rota expressa de VMs, você precisa toomake-se de que as configurações de proxy de Internet Olá são implantadas para todos os usuários de saudação nessas VMs também.</span><span class="sxs-lookup"><span data-stu-id="31d3b-577">For VMs joining on-premises domains through site-to-site, point-to-site or ExpressRoute, you need toomake sure that hello Internet proxy settings are getting deployed for all hello users in those VMs as well.</span></span> <span data-ttu-id="31d3b-578">Por padrão, o software em execução nessas VMs ou usuários usando uma saudação de tooaccess navegador internet não passariam pelo proxy de empresa hello, mas deve se conectar diretamente por meio do Azure toohello internet.</span><span class="sxs-lookup"><span data-stu-id="31d3b-578">By default, software running in those VMs or users using a browser tooaccess hello internet would not go through hello company proxy, but would connect straight through Azure toohello internet.</span></span> <span data-ttu-id="31d3b-579">Mas a configuração do proxy Olá mesmo não é um solução 100% toodirect Olá o tráfego por meio do proxy de empresa Olá, pois é responsabilidade do toocheck softwares e serviços de proxy de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-579">But even hello proxy setting is not a 100% solution toodirect hello traffic through hello company proxy since it is responsibility of software and services toocheck for hello proxy.</span></span> <span data-ttu-id="31d3b-580">Se o software em execução no hello VM não fizer isso ou um administrador manipular as configurações de hello, toohello de tráfego da Internet pode ser novamente desviado diretamente através do Azure toohello da Internet.</span><span class="sxs-lookup"><span data-stu-id="31d3b-580">If software running in hello VM is not doing that or an administrator manipulates hello settings, traffic toohello Internet can be detoured again directly through Azure toohello Internet.</span></span>

<span data-ttu-id="31d3b-581">Em ordem tooavoid isso, você pode configurar o túnel forçado com conectividade site a site entre locais e o Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-581">In order tooavoid this, you can configure Forced Tunneling with site-to-site connectivity between on-premises and Azure.</span></span> <span data-ttu-id="31d3b-582">Olá descrição detalhada do recurso de túnel forçado Olá é publicada aqui <https://azure.microsoft.com/documentation/articles/vpn-gateway-forced-tunneling-rm/></span><span class="sxs-lookup"><span data-stu-id="31d3b-582">hello detailed description of hello Forced Tunneling feature is published here <https://azure.microsoft.com/documentation/articles/vpn-gateway-forced-tunneling-rm/></span></span>

<span data-ttu-id="31d3b-583">Encapsulamento forçado com o ExpressRoute é habilitado por clientes anuncia uma rota padrão por meio de saudação ExpressRoute BGP sessões de emparelhamento.</span><span class="sxs-lookup"><span data-stu-id="31d3b-583">Forced Tunneling with ExpressRoute is enabled by customers advertising a default route via hello ExpressRoute BGP peering sessions.</span></span>

#### <a name="summary-of-azure-networking"></a><span data-ttu-id="31d3b-584">Resumo da Rede do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-584">Summary of Azure Networking</span></span>
<span data-ttu-id="31d3b-585">Este capítulo continha muitos pontos importantes sobre a Rede do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-585">This chapter contained many important points about Azure Networking.</span></span> <span data-ttu-id="31d3b-586">Aqui está um resumo dos pontos principais hello:</span><span class="sxs-lookup"><span data-stu-id="31d3b-586">Here is a summary of hello main points:</span></span>

* <span data-ttu-id="31d3b-587">Redes virtuais do Azure permite tooset rede Olá de acordo com tooyour próprias necessidades</span><span class="sxs-lookup"><span data-stu-id="31d3b-587">Azure Virtual Networks allows tooset up hello network according tooyour own needs</span></span>
* <span data-ttu-id="31d3b-588">Redes virtuais do Azure pode ser utilizado tooassign tooVMs de intervalos de endereço IP ou atribuir tooVMs de endereços IP fixos</span><span class="sxs-lookup"><span data-stu-id="31d3b-588">Azure Virtual Networks can be leveraged tooassign IP address ranges tooVMs or assign fixed IP addresses tooVMs</span></span>
* <span data-ttu-id="31d3b-589">tooset uma conexão ponto a Site é necessário toocreate uma rede Virtual do Azure pela primeira vez ou um Site a Site</span><span class="sxs-lookup"><span data-stu-id="31d3b-589">tooset up a Site-To-Site or Point-To-Site connection you need toocreate an Azure Virtual Network first</span></span>
* <span data-ttu-id="31d3b-590">Quando uma máquina virtual tiver sido implantada, não é mais possível toochange Olá que rede Virtual atribuída toohello VM</span><span class="sxs-lookup"><span data-stu-id="31d3b-590">Once a virtual machine has been deployed, it is no longer possible toochange hello Virtual Network assigned toohello VM</span></span>

### <a name="quotas-in-azure-virtual-machine-services"></a><span data-ttu-id="31d3b-591">Cotas nos Serviços da Máquina Virtual do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-591">Quotas in Azure Virtual Machine Services</span></span>
<span data-ttu-id="31d3b-592">É necessário toobe limpar sobre fatos Olá que o armazenamento hello e infraestrutura de rede é compartilhada entre VMs que executam uma variedade de serviços em Olá infraestrutura do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-592">We need toobe clear about hello fact that hello storage and network infrastructure is shared between VMs running a variety of services in hello Azure infrastructure.</span></span> <span data-ttu-id="31d3b-593">E assim como Olá centros de dados do cliente, o excesso de provisionamento de alguns dos recursos de infraestrutura Olá local tooa grau.</span><span class="sxs-lookup"><span data-stu-id="31d3b-593">And just as in hello customer’s own data centers, over-provisioning of some of hello infrastructure resources does take place tooa degree.</span></span> <span data-ttu-id="31d3b-594">Olá plataforma Microsoft Azure usa o disco, CPU, rede e o consumo de recursos do cotas toolimit hello e desempenho consistente e previsível de toopreserve.</span><span class="sxs-lookup"><span data-stu-id="31d3b-594">hello Microsoft Azure Platform uses disk, CPU, network, and other quotas toolimit hello resource consumption and toopreserve consistent and deterministic performance.</span></span>  <span data-ttu-id="31d3b-595">Olá diferentes tipos VM (A5, A6, etc.) tem cotas específicas para o número de saudação de discos, CPU, RAM e de rede.</span><span class="sxs-lookup"><span data-stu-id="31d3b-595">hello different VM types (A5, A6, etc.) have different quotas for hello number of disks, CPU, RAM, and Network.</span></span>

> [!NOTE]
> <span data-ttu-id="31d3b-596">Recursos de CPU e memória dos tipos de VM Olá suportados pelo SAP são pré-alocados em nós de host hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-596">CPU and memory resources of hello VM types supported by SAP are pre-allocated on hello host nodes.</span></span> <span data-ttu-id="31d3b-597">Isso significa que, quando Olá VM é implantada, recursos Olá no host Olá estarão disponíveis conforme definido pelo Olá tipo de VM.</span><span class="sxs-lookup"><span data-stu-id="31d3b-597">This means that once hello VM is deployed, hello resources on hello host are available as defined by hello VM type.</span></span>
>
>

<span data-ttu-id="31d3b-598">Deve ser considerado ao planejar e dimensionar implantações SAP nas soluções do Azure Olá cotas para cada tamanho de máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="31d3b-598">When planning and sizing SAP on Azure solutions hello quotas for each virtual machine size must be considered.</span></span> <span data-ttu-id="31d3b-599">cotas VM Olá descritas [aqui (Linux)] [ virtual-machines-sizes-linux] e [aqui (Windows)][virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="31d3b-599">hello VM quotas are described [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="31d3b-600">cotas de saudação descritas representam valores máximos teóricos de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-600">hello quotas described represent hello theoretical maximum values.</span></span>  <span data-ttu-id="31d3b-601">limite de saudação de IOPS por disco pode ser obtida com o IOs pequenos (8kb), mas possivelmente não pode ser obtida com o IOs grandes (1Mb).</span><span class="sxs-lookup"><span data-stu-id="31d3b-601">hello limit of IOPS per disk may be achieved with small IOs (8kb) but possibly may not be achieved with large IOs (1Mb).</span></span>  <span data-ttu-id="31d3b-602">limite de IOPS Olá é imposta na granularidade de saudação do disco único.</span><span class="sxs-lookup"><span data-stu-id="31d3b-602">hello IOPS limit is enforced on hello granularity of single disk.</span></span>

<span data-ttu-id="31d3b-603">Como um toodecide da árvore de decisão complexa se um sistema SAP se adapta a seus recursos e serviços de máquina Virtual do Azure ou se um sistema existente precisa toobe configurado de forma diferente no sistema de saudação toodeploy pedidos no Azure, abaixo da árvore de decisão de saudação pode ser usada:</span><span class="sxs-lookup"><span data-stu-id="31d3b-603">As a rough decision tree toodecide whether an SAP system fits into Azure Virtual Machine Services and its capabilities or whether an existing system needs toobe configured differently in order toodeploy hello system on Azure, hello decision tree below can be used:</span></span>

![Decisão árvore toodecide capacidade toodeploy SAP no Azure][planning-guide-figure-700]

<span data-ttu-id="31d3b-605">**Etapa 1**: Olá toostart de informações mais importante com é o requisito de SAPS Olá para um determinado sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-605">**Step 1**: hello most important information toostart with is hello SAPS requirement for a given SAP system.</span></span> <span data-ttu-id="31d3b-606">Olá SAPS requisitos necessidade toobe separado em parte do DBMS hello e parte do aplicativo SAP hello, mesmo que Olá sistema SAP já esteja implantado localmente em uma configuração de camada 2.</span><span class="sxs-lookup"><span data-stu-id="31d3b-606">hello SAPS requirements need toobe separated out into hello DBMS part and hello SAP application part, even if hello SAP system is already deployed on-premises in a 2-tier configuration.</span></span> <span data-ttu-id="31d3b-607">Para sistemas existentes, Olá SAPS relacionado toohello hardware em uso geralmente pode ser determinado ou estimado com base em parâmetros de comparação SAP existentes.</span><span class="sxs-lookup"><span data-stu-id="31d3b-607">For existing systems, hello SAPS related toohello hardware in use often can be determined or estimated based on existing SAP benchmarks.</span></span> <span data-ttu-id="31d3b-608">resultados de saudação podem ser encontrados aqui: <http://global.sap.com/campaigns/benchmark/index.epx>.</span><span class="sxs-lookup"><span data-stu-id="31d3b-608">hello results can be found here: <http://global.sap.com/campaigns/benchmark/index.epx>.</span></span>
<span data-ttu-id="31d3b-609">Para sistemas SAP recém-implantados, você deverá ter feito um exercício de dimensionamento, que deve determinar os requisitos de SAPS de saudação do sistema hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-609">For newly deployed SAP systems, you should have gone through a sizing exercise, which should determine hello SAPS requirements of hello system.</span></span>
<span data-ttu-id="31d3b-610">Confira também o blog e o documento em anexo para dimensionamento do SAP no Azure: <http://blogs.msdn.com/b/saponsqlserver/archive/2015/12/01/new-white-paper-on-sizing-sap-solutions-on-azure-public-cloud.aspx></span><span class="sxs-lookup"><span data-stu-id="31d3b-610">See also this blog and attached document for SAP sizing on Azure: <http://blogs.msdn.com/b/saponsqlserver/archive/2015/12/01/new-white-paper-on-sizing-sap-solutions-on-azure-public-cloud.aspx></span></span>

<span data-ttu-id="31d3b-611">**Etapa 2**: para sistemas existentes, Olá volume de e/s e operações de e/s por segundo no servidor DBMS Olá devem ser medidas.</span><span class="sxs-lookup"><span data-stu-id="31d3b-611">**Step 2**: For existing systems, hello I/O volume and I/O operations per second on hello DBMS server should be measured.</span></span> <span data-ttu-id="31d3b-612">Para sistemas novos planejados, Olá dimensionamento exercício para o novo sistema de saudação também deve dar uma ideia geral dos requisitos de e/s de saudação em Olá parte do DBMS.</span><span class="sxs-lookup"><span data-stu-id="31d3b-612">For newly planned systems, hello sizing exercise for hello new system also should give rough ideas of hello I/O requirements on hello DBMS side.</span></span> <span data-ttu-id="31d3b-613">Se não tiver certeza, você precisa eventualmente tooconduct uma prova de conceito.</span><span class="sxs-lookup"><span data-stu-id="31d3b-613">If unsure, you eventually need tooconduct a Proof of Concept.</span></span>

<span data-ttu-id="31d3b-614">**Etapa 3**: comparar requisito de SAPS Olá para Olá servidor DBMS com hello SAPS Olá diferentes tipos de VM do Azure pode fornecer.</span><span class="sxs-lookup"><span data-stu-id="31d3b-614">**Step 3**: Compare hello SAPS requirement for hello DBMS server with hello SAPS hello different VM types of Azure can provide.</span></span> <span data-ttu-id="31d3b-615">informações de saudação no SAPS dos diferentes tipos de VM do Azure Olá estão documentadas na nota da SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="31d3b-615">hello information on SAPS of hello different Azure VM types is documented in SAP Note [1928533].</span></span> <span data-ttu-id="31d3b-616">foco de Olá deve ser primeiro na VM do DBMS de saudação como camada de banco de dados de saudação é camada Olá em um sistema SAP NetWeaver que não se escala horizontalmente na maioria de saudação de implantações.</span><span class="sxs-lookup"><span data-stu-id="31d3b-616">hello focus should be on hello DBMS VM first since hello database layer is hello layer in an SAP NetWeaver system that does not scale out in hello majority of deployments.</span></span> <span data-ttu-id="31d3b-617">Por outro lado, camada do aplicativo SAP Olá pode ser expandida. Se nenhum Olá SAP suporte tipos de VM do Azure podem oferecer SAPS Olá necessários, carga de trabalho de saudação do sistema do SAP Olá planejado não pode ser executada no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-617">In contrast, hello SAP application layer can be scaled out. If none of hello SAP supported Azure VM types can deliver hello required SAPS, hello workload of hello planned SAP system can’t be run on Azure.</span></span> <span data-ttu-id="31d3b-618">É necessário toodeploy Olá sistema local ou precisar de volume de carga de trabalho do toochange Olá para sistema hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-618">You either need toodeploy hello system on-premises or you need toochange hello workload volume for hello system.</span></span>

<span data-ttu-id="31d3b-619">**Etapa 4**: conforme documentado [aqui (Linux)][virtual-machines-sizes-linux] e [aqui (Windows)][virtual-machines-sizes-windows], o Azure impõe uma cota de IOPS por disco independentemente de você usar o Armazenamento Standard ou o Armazenamento Premium.</span><span class="sxs-lookup"><span data-stu-id="31d3b-619">**Step 4**: As documented [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows], Azure enforces an IOPS quota per disk independent whether you use Standard Storage or Premium Storage.</span></span> <span data-ttu-id="31d3b-620">Dependente de saudação tipo de VM, Olá número de discos de dados, que podem ser montados varia.</span><span class="sxs-lookup"><span data-stu-id="31d3b-620">Dependent on hello VM type, hello number of data disks, which can be mounted varies.</span></span> <span data-ttu-id="31d3b-621">Como resultado, você pode calcular um número IOPS máximo que pode ser alcançado com cada um dos diferentes tipos de VM hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-621">As a result, you can calculate a maximum IOPS number that can be achieved with each of hello different VM types.</span></span> <span data-ttu-id="31d3b-622">Dependente de layout de arquivo de banco de dados hello, você pode distribuir discos toobecome um volume no sistema operacional convidado de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-622">Dependent on hello database file layout, you can stripe disks toobecome one volume in hello guest OS.</span></span> <span data-ttu-id="31d3b-623">No entanto, se volume Olá de IOPS atual de um sistema SAP implantado excede os limites de saudação calculado Olá maior do tipo de VM do Azure e se não há nenhum toocompensate chance com mais memória, carga de trabalho de saudação do hello sistema SAP poderá ser gravemente afetada.</span><span class="sxs-lookup"><span data-stu-id="31d3b-623">However, if hello current IOPS volume of a deployed SAP system exceeds hello calculated limits of hello largest VM type of Azure and if there is no chance toocompensate with more memory, hello workload of hello SAP system can be impacted severely.</span></span> <span data-ttu-id="31d3b-624">Nesses casos, você pode atingir um ponto em que você não deve implantar o sistema Olá no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-624">In such cases, you can hit a point where you should not deploy hello system on Azure.</span></span>

<span data-ttu-id="31d3b-625">**Etapa 5**: especialmente em sistemas SAP, que são implantados no local em configurações da camada 2, a probabilidade de saudação é que o sistema Olá talvez precise toobe configurado no Azure em uma configuração de camada 3.</span><span class="sxs-lookup"><span data-stu-id="31d3b-625">**Step 5**: Especially in SAP systems, which are deployed on-premises in 2-Tier configurations, hello chances are that hello system might need toobe configured on Azure in a 3-Tier configuration.</span></span> <span data-ttu-id="31d3b-626">Nesta etapa, você precisa toocheck se há um componente no hello camada do aplicativo SAP, que não pode ser expandido e que não se ajusta a saudação da CPU e memória recursos Olá oferta diferente de tipos de VM do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-626">In this step, you need toocheck whether there is a component in hello SAP application layer, which can’t be scaled out and which would not fit into hello CPU and memory resources hello different Azure VM types offer.</span></span> <span data-ttu-id="31d3b-627">Se não existir de fato um componente, sistema do SAP hello e sua carga de trabalho não podem ser implantados no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-627">If there indeed is such a component, hello SAP system and its workload can’t be deployed into Azure.</span></span> <span data-ttu-id="31d3b-628">Mas se você pode expandir componentes do aplicativo SAP Olá em várias VMs do Azure, o sistema Olá pode ser implantado no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-628">But if you can scale out hello SAP application components into multiple Azure VMs, hello system can be deployed into Azure.</span></span>

<span data-ttu-id="31d3b-629">**Etapa 6**: se hello DBMS e componentes de camada de aplicativo SAP podem ser executados em máquinas virtuais do Azure, a configuração de saudação deve toobe definida em relação ao:</span><span class="sxs-lookup"><span data-stu-id="31d3b-629">**Step 6**: If hello DBMS and SAP application layer components can be run in Azure VMs, hello configuration needs toobe defined with regard to:</span></span>

* <span data-ttu-id="31d3b-630">Número de VMs do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-630">Number of Azure VMs</span></span>
* <span data-ttu-id="31d3b-631">Tipos de VM para componentes individuais Olá</span><span class="sxs-lookup"><span data-stu-id="31d3b-631">VM types for hello individual components</span></span>
* <span data-ttu-id="31d3b-632">Número de VHDs na VM do DBMS tooprovide IOPS suficientes</span><span class="sxs-lookup"><span data-stu-id="31d3b-632">Number of VHDs in DBMS VM tooprovide enough IOPS</span></span>

## <a name="managing-azure-assets"></a><span data-ttu-id="31d3b-633">Gerenciando Ativos do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-633">Managing Azure Assets</span></span>
### <a name="azure-portal"></a><span data-ttu-id="31d3b-634">Portal do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-634">Azure Portal</span></span>
<span data-ttu-id="31d3b-635">Olá portal do Azure é uma das três interfaces toomanage VM do Azure implantações.</span><span class="sxs-lookup"><span data-stu-id="31d3b-635">hello Azure portal is one of three interfaces toomanage Azure VM deployments.</span></span> <span data-ttu-id="31d3b-636">tarefas básicas de gerenciamento de saudação, como implantar VMs a partir de imagens, podem ser feitas por meio de saudação portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-636">hello basic management tasks, like deploying VMs from images, can be done through hello Azure portal.</span></span> <span data-ttu-id="31d3b-637">Olá Além disso, a criação de contas de armazenamento, redes virtuais, e outros componentes do Azure também são tarefas Olá portal do Azure pode tratar muito bem.</span><span class="sxs-lookup"><span data-stu-id="31d3b-637">In addition, hello creation of Storage Accounts, Virtual Networks, and other Azure components are also tasks hello Azure portal can handle very well.</span></span> <span data-ttu-id="31d3b-638">No entanto, funcionalidades como carregar VHDs do local tooAzure ou copiando um VHD no Azure são tarefas que exigem ferramentas de terceiros ou administração através do PowerShell ou CLI.</span><span class="sxs-lookup"><span data-stu-id="31d3b-638">However, functionality like uploading VHDs from on-premises tooAzure or copying a VHD within Azure are tasks, which require either third-party tools or administration through PowerShell or CLI.</span></span>

![Portal do Microsoft Azure - Visão geral sobre máquina virtual][planning-guide-figure-800]

[comment]: <> (MSSedusch * <https://azure.microsoft.com/documentation/articles/virtual-networks-create-vnet-arm-pportal/>)
[comment]: <> (MSSedusch * <https://azure.microsoft.com/documentation/articles/virtual-machines-windows-tutorial/>)

<span data-ttu-id="31d3b-642">Tarefas de administração e configuração para a instância de máquina Virtual de saudação são possíveis em Olá portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-642">Administration and configuration tasks for hello Virtual Machine instance are possible from within hello Azure portal.</span></span>

<span data-ttu-id="31d3b-643">Além de reiniciar e desligar uma máquina Virtual também pode anexar, desanexar e criar discos de dados para a instância de máquina Virtual hello, instância de saudação toocapture para preparação de imagem e configurar o tamanho de saudação da instância de máquina Virtual de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-643">Besides restarting and shutting down a Virtual Machine you can also attach, detach, and create data disks for hello Virtual Machine instance, toocapture hello instance for image preparation and configure hello size of hello Virtual Machine instance.</span></span>

<span data-ttu-id="31d3b-644">Olá portal do Azure fornece a funcionalidade básica toodeploy e configurar VMs e muitos outros serviços do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-644">hello Azure portal provides basic functionality toodeploy and configure VMs and many other Azure services.</span></span> <span data-ttu-id="31d3b-645">No entanto não todas as funcionalidades disponíveis é coberta por Olá portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-645">However not all available functionality is covered by hello Azure portal.</span></span> <span data-ttu-id="31d3b-646">Olá portal do Azure, não é possível tooperform tarefas como:</span><span class="sxs-lookup"><span data-stu-id="31d3b-646">In hello Azure portal, it’s not possible tooperform tasks like:</span></span>

* <span data-ttu-id="31d3b-647">Carregando VHDs tooAzure</span><span class="sxs-lookup"><span data-stu-id="31d3b-647">Uploading VHDs tooAzure</span></span>
* <span data-ttu-id="31d3b-648">Copiar VMs</span><span class="sxs-lookup"><span data-stu-id="31d3b-648">Copying VMs</span></span>

[comment]: <> (MShermannd TODO: e o serviço de automação para as VMs SAP? )
[comment]: <> (MSSedusch: implantação de vários SOs de VMs ao mesmo tempo possível)
[comment]: <> (Também MSSedusch qualquer tipo de automação em relação a implantação não é possível com hello portal do Azure. Tarefas como implantação de scripts de várias VMs não é possível por meio de saudação portal do Azure.)

### <a name="management-via-microsoft-azure-powershell-cmdlets"></a><span data-ttu-id="31d3b-652">Gerenciamento via cmdlets do Microsoft Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="31d3b-652">Management via Microsoft Azure PowerShell cmdlets</span></span>
<span data-ttu-id="31d3b-653">O Windows PowerShell é uma estrutura poderosa e extensível que foi amplamente adotada por clientes implantando grandes quantidades de sistemas no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-653">Windows PowerShell is a powerful and extensible framework that has been widely adopted by customers deploying larger numbers of systems in Azure.</span></span> <span data-ttu-id="31d3b-654">Após a instalação de saudação de cmdlets do PowerShell em um desktop, laptop ou estação de gerenciamento dedicada, Olá cmdlets do PowerShell pode ser executado remotamente.</span><span class="sxs-lookup"><span data-stu-id="31d3b-654">After hello installation of PowerShell cmdlets on a desktop, laptop or dedicated management station, hello PowerShell cmdlets can be run remotely.</span></span>

<span data-ttu-id="31d3b-655">Olá processo tooenable um computador desktop/laptop local para o uso de saudação de cmdlets do PowerShell do Azure e como tooconfigure de Olá uso com hello Azure assinaturas são descrita em [neste artigo][powershell-install-configure].</span><span class="sxs-lookup"><span data-stu-id="31d3b-655">hello process tooenable a local desktop/laptop for hello usage of Azure PowerShell cmdlets and how tooconfigure those for hello usage with hello Azure subscription(s) is described in [this article][powershell-install-configure].</span></span>

<span data-ttu-id="31d3b-656">Etapas mais detalhadas sobre como tooinstall, atualizar e configurar os cmdlets do PowerShell do Azure Olá também podem ser encontradas em [neste capítulo de guia de implantação do hello][deployment-guide-4.1].</span><span class="sxs-lookup"><span data-stu-id="31d3b-656">More detailed steps on how tooinstall, update, and configure hello Azure PowerShell cmdlets can also be found in [this chapter of hello Deployment Guide][deployment-guide-4.1].</span></span>

<span data-ttu-id="31d3b-657">Experiência do cliente até o momento foi PowerShell (PS) é certamente hello mais poderosa ferramenta toodeploy VMs e as etapas de toocreate personalizado na implantação de saudação de VMs.</span><span class="sxs-lookup"><span data-stu-id="31d3b-657">Customer experience so far has been that PowerShell (PS) is certainly hello more powerful tool toodeploy VMs and toocreate custom steps in hello deployment of VMs.</span></span> <span data-ttu-id="31d3b-658">Todos os clientes de saudação que executam instâncias SAP no Azure são usando PS cmdlets toosupplement tarefas de gerenciamento que eles em Olá portal do Azure ou até mesmo estiver usando cmdlets do PS exclusivamente toomanage suas implantações no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-658">All of hello customers running SAP instances in Azure are using PS cmdlets toosupplement management tasks they do in hello Azure portal or are even using PS cmdlets exclusively toomanage their deployments in Azure.</span></span> <span data-ttu-id="31d3b-659">Como o compartilhamento de cmdlets específicos do Azure Olá Olá a mesma convenção de nomenclatura como hello mais de 2000 cmdlets relacionados ao Windows, é uma forma fácil de tarefas para Windows administradores tooleverage esses cmdlets.</span><span class="sxs-lookup"><span data-stu-id="31d3b-659">Since hello Azure-specific cmdlets share hello same naming convention as hello more than 2000 Windows-related cmdlets, it is an easy task for Windows administrators tooleverage those cmdlets.</span></span>

<span data-ttu-id="31d3b-660">Confira o exemplo aqui: <http://blogs.technet.com/b/keithmayer/archive/2015/07/07/18-steps-for-end-to-end-iaas-provisioning-in-the-cloud-with-azure-resource-manager-arm-powershell-and-desired-state-configuration-dsc.aspx></span><span class="sxs-lookup"><span data-stu-id="31d3b-660">See example here: <http://blogs.technet.com/b/keithmayer/archive/2015/07/07/18-steps-for-end-to-end-iaas-provisioning-in-the-cloud-with-azure-resource-manager-arm-powershell-and-desired-state-configuration-dsc.aspx></span></span>

[comment]: <> (MShermannd TODO: descrever o novo comando da CLI quando testado )
<span data-ttu-id="31d3b-662">Implantação de saudação extensão de monitoramento do Azure para SAP (consulte o capítulo [solução de monitoramento do Azure para SAP] [ planning-guide-9.1] neste documento) só é possível por meio do PowerShell ou CLI.</span><span class="sxs-lookup"><span data-stu-id="31d3b-662">Deployment of hello Azure Monitoring Extension for SAP (see chapter [Azure Monitoring Solution for SAP][planning-guide-9.1] in this document) is only possible via PowerShell or CLI.</span></span> <span data-ttu-id="31d3b-663">Portanto é obrigatório tooset backup e configurar o PowerShell ou CLI ao implantar ou administrar um sistema SAP NetWeaver no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-663">Therefore it is mandatory tooset up and configure PowerShell or CLI when deploying or administering an SAP NetWeaver system in Azure.</span></span>  

<span data-ttu-id="31d3b-664">Como o Azure oferece mais funcionalidade, novos cmdlets do PS vai toobe adicionado requer uma atualização dos cmdlets de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-664">As Azure provides more functionality, new PS cmdlets are going toobe added that requires an update of hello cmdlets.</span></span> <span data-ttu-id="31d3b-665">Ele torna saudação do sentido toocheck site de Download do Azure pelo menos uma vez por mês de saudação <https://azure.microsoft.com/downloads/> para uma nova versão de hello cmdlets.</span><span class="sxs-lookup"><span data-stu-id="31d3b-665">Therefore it makes sense toocheck hello Azure Download site at least once hello month <https://azure.microsoft.com/downloads/> for a new version of hello cmdlets.</span></span> <span data-ttu-id="31d3b-666">Olá nova versão será instalada sobre a versão mais antiga do hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-666">hello new version is installed on top of hello older version.</span></span>

<span data-ttu-id="31d3b-667">Para ver uma lista geral dos comandos do PowerShell relacionados ao Azure, verifique aqui: <https://docs.microsoft.com/powershell/azure/overview>.</span><span class="sxs-lookup"><span data-stu-id="31d3b-667">For a general list of Azure-related PowerShell commands check here: <https://docs.microsoft.com/powershell/azure/overview>.</span></span>

### <a name="management-via-microsoft-azure-cli-commands"></a><span data-ttu-id="31d3b-668">Gerenciamento por meio de comandos da CLI do Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-668">Management via Microsoft Azure CLI commands</span></span>
<span data-ttu-id="31d3b-669">Para clientes que usam o Linux e deseja toomanage Azure recursos do Powershell não podem ser uma opção.</span><span class="sxs-lookup"><span data-stu-id="31d3b-669">For customers who use Linux and want toomanage Azure resources Powershell might not be an option.</span></span> <span data-ttu-id="31d3b-670">Como alternativa, a Microsoft oferece a CLI do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-670">Microsoft offers Azure CLI as an alternative.</span></span>
<span data-ttu-id="31d3b-671">Olá CLI do Azure fornece um conjunto de software livre, multiplataforma comandos para trabalhar com hello plataforma Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-671">hello Azure CLI provides a set of open source, cross-platform commands for working with hello Azure Platform.</span></span> <span data-ttu-id="31d3b-672">Olá CLI do Azure fornece grande parte da mesma funcionalidade encontrada no portal do Azure de saudação do hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-672">hello Azure CLI provides much of hello same functionality found in hello Azure portal.</span></span>

<span data-ttu-id="31d3b-673">Para obter informações sobre instalação, configuração e como os comandos tooaccomplish toouse CLI tarefas do Azure, consulte</span><span class="sxs-lookup"><span data-stu-id="31d3b-673">For information about installation, configuration and how toouse CLI commands tooaccomplish Azure tasks see</span></span>

* <span data-ttu-id="31d3b-674">[Instalar Olá CLI do Azure][xplat-cli]</span><span class="sxs-lookup"><span data-stu-id="31d3b-674">[Install hello Azure CLI][xplat-cli]</span></span>
* <span data-ttu-id="31d3b-675">[Implantar e gerenciar máquinas virtuais usando modelos do Gerenciador de recursos do Azure e hello CLI do Azure] [.. /.. / linux/create-ssh-secured-vm-from-template.md]</span><span class="sxs-lookup"><span data-stu-id="31d3b-675">[Deploy and manage virtual machines by using Azure Resource Manager templates and hello Azure CLI][../../linux/create-ssh-secured-vm-from-template.md]</span></span>
* <span data-ttu-id="31d3b-676">[Use Olá CLI do Azure para Mac, Linux e Windows com o Gerenciador de recursos do Azure][xplat-cli-azure-resource-manager]</span><span class="sxs-lookup"><span data-stu-id="31d3b-676">[Use hello Azure CLI for Mac, Linux, and Windows with Azure Resource Manager][xplat-cli-azure-resource-manager]</span></span>

<span data-ttu-id="31d3b-677">Leia também o capítulo [CLI do Azure para VMs do Linux] [ deployment-guide-4.5.2] em Olá [guia de implantação] [ planning-guide] em como toouse CLI do Azure toodeploy Olá monitoramento do Azure Extensão para SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-677">Also read chapter [Azure CLI for Linux VMs][deployment-guide-4.5.2] in hello [Deployment Guide][planning-guide] on how toouse Azure CLI toodeploy hello Azure Monitoring Extension for SAP.</span></span>

## <a name="different-ways-toodeploy-vms-for-sap-in-azure"></a><span data-ttu-id="31d3b-678">Diferentes maneiras toodeploy VMs para SAP no Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-678">Different ways toodeploy VMs for SAP in Azure</span></span>
<span data-ttu-id="31d3b-679">Neste capítulo, você aprenderá diferentes maneiras de saudação toodeploy uma VM no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-679">In this chapter, you learn hello different ways toodeploy a VM in Azure.</span></span> <span data-ttu-id="31d3b-680">Procedimentos adicionais de preparação, bem como a manipulação de VHDs e VMs no Azure, são abordados neste capítulo.</span><span class="sxs-lookup"><span data-stu-id="31d3b-680">Additional preparation procedures, as well as handling of VHDs and VMs in Azure are covered in this chapter.</span></span>

### <a name="deployment-of-vms-for-sap"></a><span data-ttu-id="31d3b-681">Implantação de VMs para SAP</span><span class="sxs-lookup"><span data-stu-id="31d3b-681">Deployment of VMs for SAP</span></span>
<span data-ttu-id="31d3b-682">Microsoft Azure oferece várias maneiras toodeploy VMs e discos associados.</span><span class="sxs-lookup"><span data-stu-id="31d3b-682">Microsoft Azure offers multiple ways toodeploy VMs and associated disks.</span></span> <span data-ttu-id="31d3b-683">Assim é muito importante toounderstand diferenças de saudação pois os preparativos das VMs de saudação podem diferir dependendo do método de saudação da implantação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-683">Thus it is very important toounderstand hello differences since preparations of hello VMs might differ depending on hello method of deployment.</span></span> <span data-ttu-id="31d3b-684">Em geral, vamos dar uma olhada em Olá os seguintes cenários:</span><span class="sxs-lookup"><span data-stu-id="31d3b-684">In general, we take a look at hello following scenarios:</span></span>

#### <span data-ttu-id="31d3b-685"><a name="4d175f1b-7353-4137-9d2f-817683c26e53"></a>Mover uma VM do tooAzure local com um disco não generalizado</span><span class="sxs-lookup"><span data-stu-id="31d3b-685"><a name="4d175f1b-7353-4137-9d2f-817683c26e53"></a>Moving a VM from on-premises tooAzure with a non-generalized disk</span></span>
<span data-ttu-id="31d3b-686">Planejar toomove um sistema SAP específico de tooAzure local.</span><span class="sxs-lookup"><span data-stu-id="31d3b-686">You plan toomove a specific SAP system from on-premises tooAzure.</span></span> <span data-ttu-id="31d3b-687">Isso pode ser feito Carregando Olá VHD, que contém Olá SO, Olá binários de DBMS e SAP binários mais Olá VHDs com arquivos de dados e log de saudação do hello DBMS tooAzure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-687">This can be done by uploading hello VHD, which contains hello OS, hello SAP Binaries, and DBMS binaries plus hello VHDs with hello data and log files of hello DBMS tooAzure.</span></span> <span data-ttu-id="31d3b-688">Em contraste muito[cenário #2 abaixo][planning-guide-5.1.2], lembre-Olá hostname, o SID do SAP, SAP contas de usuário e em Olá VM do Azure como eles foram configurados no ambiente local de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-688">In contrast too[scenario #2 below][planning-guide-5.1.2], you keep hello hostname, SAP SID, and SAP user accounts in hello Azure VM as they were configured in hello on-premises environment.</span></span> <span data-ttu-id="31d3b-689">Portanto, não é necessário generalizar a imagem de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-689">Therefore, generalizing hello image is not necessary.</span></span> <span data-ttu-id="31d3b-690">Consulte capítulos [preparação para mover uma VM do tooAzure local com um disco não generalizado] [ planning-guide-5.2.1] deste documento para etapas de preparação de local e o carregamento de tooAzure VMs ou VHDs não generalizados.</span><span class="sxs-lookup"><span data-stu-id="31d3b-690">See chapters [Preparation for moving a VM from on-premises tooAzure with a non-generalized disk][planning-guide-5.2.1] of this document for on-premises preparation steps and upload of non-generalized VMs or VHDs tooAzure.</span></span> <span data-ttu-id="31d3b-691">Capítulo de leitura [cenário 3: mover uma VM do local usando um VHD do Azure não generalizado com o SAP] [ deployment-guide-3.4] em Olá [guia de implantação] [ deployment-guide] Para obter etapas detalhadas de implantação dessa imagem no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-691">Read chapter [Scenario 3: Moving a VM from on-premises using a non-generalized Azure VHD with SAP][deployment-guide-3.4] in hello [Deployment Guide][deployment-guide] for detailed steps of deploying such an image in Azure.</span></span>

#### <span data-ttu-id="31d3b-692"><a name="e18f7839-c0e2-4385-b1e6-4538453a285c"></a>Implantando uma VM com uma imagem específica do cliente</span><span class="sxs-lookup"><span data-stu-id="31d3b-692"><a name="e18f7839-c0e2-4385-b1e6-4538453a285c"></a>Deploying a VM with a customer-specific image</span></span>
<span data-ttu-id="31d3b-693">Devido a requisitos de patch toospecific da sua versão de SO ou DBMS, imagens de saudação fornecida em hello Azure Marketplace podem não atender às suas necessidades.</span><span class="sxs-lookup"><span data-stu-id="31d3b-693">Due toospecific patch requirements of your OS or DBMS version, hello provided images in hello Azure Marketplace might not fit your needs.</span></span> <span data-ttu-id="31d3b-694">Portanto, talvez seja necessário toocreate uma VM usando sua própria imagem de VM do SO/DBMS 'private', que pode ser implantada várias vezes depois.</span><span class="sxs-lookup"><span data-stu-id="31d3b-694">Therefore, you might need toocreate a VM using your own ‘private’ OS/DBMS VM image, which can be deployed several times afterwards.</span></span> <span data-ttu-id="31d3b-695">tooprepare uma imagem 'private' para eliminação de duplicação, Olá itens a seguir têm toobe considerado:</span><span class="sxs-lookup"><span data-stu-id="31d3b-695">tooprepare such a ‘private’ image for duplication, hello following items have toobe considered:</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="31d3b-697">Windows</span><span class="sxs-lookup"><span data-stu-id="31d3b-697">Windows</span></span>
>
> <span data-ttu-id="31d3b-698">Para obter mais detalhes aqui: <https://docs.microsoft.com/azure/virtual-machines/windows/upload-generalized-managed> configurações do Windows hello (como o SID do Windows e o nome de host) devem ser abstraídas/generalizadas Olá local VM por meio do comando do sysprep hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-698">See more details here: <https://docs.microsoft.com/azure/virtual-machines/windows/upload-generalized-managed> hello Windows settings (like Windows SID and hostname) must be abstracted/generalized on hello on-premises VM via hello sysprep command.</span></span>
>
>
> ![Linux][Logo_Linux] <span data-ttu-id="31d3b-700">Linux</span><span class="sxs-lookup"><span data-stu-id="31d3b-700">Linux</span></span>
>
> <span data-ttu-id="31d3b-701">Execute as etapas de saudação descritas nesses artigos para [SUSE][virtual-machines-linux-create-upload-vhd-suse], [Red Hat][virtual-machines-linux-redhat-create-upload-vhd], ou [Oracle Linux] [ virtual-machines-linux-create-upload-vhd-oracle], tooprepare toobe um VHD carregado tooAzure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-701">Follow hello steps described in these articles for [SUSE][virtual-machines-linux-create-upload-vhd-suse], [Red Hat][virtual-machines-linux-redhat-create-upload-vhd], or [Oracle Linux][virtual-machines-linux-create-upload-vhd-oracle], tooprepare a VHD toobe uploaded tooAzure.</span></span>
>
>

- - -
<span data-ttu-id="31d3b-702">Se você já tiver instalado conteúdo SAP em sua VM local (especialmente para sistemas de camada 2), você pode adaptar configurações do sistema SAP Olá depois de implantação de saudação do hello VM do Azure por meio da instância de saudação renomear procedimento Olá provisionamento de Software SAP com suporte Manager (nota da SAP [1619720]).</span><span class="sxs-lookup"><span data-stu-id="31d3b-702">If you have already installed SAP content in your on-premises VM (especially for 2-Tier systems), you can adapt hello SAP system settings after hello deployment of hello Azure VM through hello instance rename procedure supported by hello SAP Software Provisioning Manager (SAP Note [1619720]).</span></span> <span data-ttu-id="31d3b-703">Consulte capítulos [preparação para implantar uma VM com uma imagem específica do cliente para SAP] [ planning-guide-5.2.2] e [carregando um VHD do local tooAzure] [ planning-guide-5.3.2]deste documento para etapas de preparação de local e o carregamento de um tooAzure VM generalizado.</span><span class="sxs-lookup"><span data-stu-id="31d3b-703">See chapters [Preparation for deploying a VM with a customer-specific image for SAP][planning-guide-5.2.2] and [Uploading a VHD from on-premises tooAzure][planning-guide-5.3.2] of this document for on-premises preparation steps and upload of a generalized VM tooAzure.</span></span> <span data-ttu-id="31d3b-704">Capítulo de leitura [cenário 2: Implantando uma VM com uma imagem personalizada para SAP] [ deployment-guide-3.3] em Olá [guia de implantação] [ deployment-guide] para obter etapas detalhadas de implantação Essa imagem no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-704">Read chapter [Scenario 2: Deploying a VM with a custom image for SAP][deployment-guide-3.3] in hello [Deployment Guide][deployment-guide] for detailed steps of deploying such an image in Azure.</span></span>

#### <a name="deploying-a-vm-out-of-hello-azure-marketplace"></a><span data-ttu-id="31d3b-705">Implantando uma VM hello Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="31d3b-705">Deploying a VM out of hello Azure Marketplace</span></span>
<span data-ttu-id="31d3b-706">Você deseja que toouse da Microsoft ou terceiros fornecido a imagem VM de saudação do Azure Marketplace toodeploy sua VM.</span><span class="sxs-lookup"><span data-stu-id="31d3b-706">You would like toouse a Microsoft or third-party provided VM image from hello Azure Marketplace toodeploy your VM.</span></span> <span data-ttu-id="31d3b-707">Depois de implantar a VM no Azure, você seguir Olá mesmas diretrizes e ferramentas tooinstall Olá software SAP e/ou DBMS na VM como você faria em um ambiente local.</span><span class="sxs-lookup"><span data-stu-id="31d3b-707">After you deployed your VM in Azure, you follow hello same guidelines and tools tooinstall hello SAP software and/or DBMS inside your VM as you would do in an on-premises environment.</span></span> <span data-ttu-id="31d3b-708">Para obter descrição de implantação mais detalhadas, consulte o capítulo [cenário 1: Implantando uma VM hello Azure Marketplace para SAP] [ deployment-guide-3.2] em Olá [guia de implantação] [ deployment-guide].</span><span class="sxs-lookup"><span data-stu-id="31d3b-708">For more detailed deployment description, please see chapter [Scenario 1: Deploying a VM out of hello Azure Marketplace for SAP][deployment-guide-3.2] in hello [Deployment Guide][deployment-guide].</span></span>

### <span data-ttu-id="31d3b-709"><a name="6ffb9f41-a292-40bf-9e70-8204448559e7"></a>Preparando VMs com SAP para o Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-709"><a name="6ffb9f41-a292-40bf-9e70-8204448559e7"></a>Preparing VMs with SAP for Azure</span></span>
<span data-ttu-id="31d3b-710">Antes de carregar VMs no Azure, você precisa toomake se Olá VMs e VHDs atenderem a certos requisitos.</span><span class="sxs-lookup"><span data-stu-id="31d3b-710">Before uploading VMs into Azure you need toomake sure hello VMs and VHDs fulfill certain requirements.</span></span> <span data-ttu-id="31d3b-711">Há pequenas diferenças dependendo do método de implantação de saudação que é usado.</span><span class="sxs-lookup"><span data-stu-id="31d3b-711">There are small differences depending on hello deployment method that is used.</span></span>

#### <span data-ttu-id="31d3b-712"><a name="1b287330-944b-495d-9ea7-94b83aff73ef"></a>Preparação para mover uma VM do tooAzure local com um disco não generalizado</span><span class="sxs-lookup"><span data-stu-id="31d3b-712"><a name="1b287330-944b-495d-9ea7-94b83aff73ef"></a>Preparation for moving a VM from on-premises tooAzure with a non-generalized disk</span></span>
<span data-ttu-id="31d3b-713">Um método de implantação comum é toomove uma VM existente que executa um sistema SAP de tooAzure local.</span><span class="sxs-lookup"><span data-stu-id="31d3b-713">A common deployment method is toomove an existing VM which runs an SAP system from on-premises tooAzure.</span></span> <span data-ttu-id="31d3b-714">VM e hello sistema SAP em Olá VM apenas deve ser executado no Azure usando Olá o mesmo nome de host e muito provavelmente Olá mesmo SID do SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-714">That VM and hello SAP system in hello VM just should run in Azure using hello same hostname and very likely hello same SAP SID.</span></span> <span data-ttu-id="31d3b-715">Nesse caso convidado Olá SO da VM não deve ser generalizado para várias implantações.</span><span class="sxs-lookup"><span data-stu-id="31d3b-715">In this case hello guest OS of VM should not be generalized for multiple deployments.</span></span> <span data-ttu-id="31d3b-716">Se a rede de local de saudação foi estendida para o Azure (consulte o capítulo [entre locais - implantação de uma ou várias VMs SAP no Azure com o requisito de saudação de integração completa à rede do local de saudação] [ planning-guide-2.2] neste documento), até mesmo, em seguida, Olá mesmas contas de domínio podem ser usadas em Olá VM que eram usadas antes de local.</span><span class="sxs-lookup"><span data-stu-id="31d3b-716">If hello on-premises network got extended into Azure (see chapter [cross-premises - Deployment of single or multiple SAP VMs into Azure with hello requirement of being fully integrated into hello on-premises network][planning-guide-2.2] in this document), then even hello same domain accounts can be used within hello VM as those were used before on-premises.</span></span>

<span data-ttu-id="31d3b-717">Os requisitos ao preparar seu próprio Disco de VM do Azure são:</span><span class="sxs-lookup"><span data-stu-id="31d3b-717">Requirements when preparing your own Azure VM Disk are:</span></span>

* <span data-ttu-id="31d3b-718">Originalmente Olá VHD contendo sistema operacional Olá pode ter apenas um tamanho máximo de 127GB.</span><span class="sxs-lookup"><span data-stu-id="31d3b-718">Originally hello VHD containing hello operating system could have a maximum size of 127GB only.</span></span> <span data-ttu-id="31d3b-719">Essa limitação foi eliminada no final de saudação de março de 2015.</span><span class="sxs-lookup"><span data-stu-id="31d3b-719">This limitation got eliminated at hello end of March 2015.</span></span> <span data-ttu-id="31d3b-720">Agora hello VHD que contém o sistema operacional de saudação pode ser o too1TB tamanho como qualquer outro armazenamento do Azure hospedado VHD também.</span><span class="sxs-lookup"><span data-stu-id="31d3b-720">Now hello VHD containing hello operating system can be up too1TB in size as any other Azure Storage hosted VHD as well.</span></span>
* <span data-ttu-id="31d3b-721">Ele precisa toobe em Olá formato VHD fixo.</span><span class="sxs-lookup"><span data-stu-id="31d3b-721">It needs toobe in hello fixed VHD format.</span></span> <span data-ttu-id="31d3b-722">VHDs dinâmicos ou VHDs no formato VHDx ainda não têm suporte no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-722">Dynamic VHDs or VHDs in VHDx format are not yet supported on Azure.</span></span> <span data-ttu-id="31d3b-723">VHDs dinâmicos será convertido toostatic VHDs quando você carregar Olá VHD com cmdlets do PowerShell ou CLI</span><span class="sxs-lookup"><span data-stu-id="31d3b-723">Dynamic VHDs will be converted toostatic VHDs when you upload hello VHD with PowerShell commandlets or CLI</span></span>
* <span data-ttu-id="31d3b-724">VHDs montado toohello VM e devem ser montados novamente no Azure toohello VM necessidade toobe em um formato VHD fixo.</span><span class="sxs-lookup"><span data-stu-id="31d3b-724">VHDs which are mounted toohello VM and should be mounted again in Azure toohello VM need toobe in a fixed VHD format as well.</span></span> <span data-ttu-id="31d3b-725">Leia [neste artigo (Linux)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-linux) e [neste artigo (Windows)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-windows) para limites de tamanho dos discos de dados.</span><span class="sxs-lookup"><span data-stu-id="31d3b-725">Please read [this article (Linux)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-linux) and [this article (Windows)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-windows) for size limits of data disks.</span></span> <span data-ttu-id="31d3b-726">VHDs dinâmicos será convertido toostatic VHDs quando você carregar Olá VHD com cmdlets do PowerShell ou CLI</span><span class="sxs-lookup"><span data-stu-id="31d3b-726">Dynamic VHDs will be converted toostatic VHDs when you upload hello VHD with PowerShell commandlets or CLI</span></span>
* <span data-ttu-id="31d3b-727">Adicione outra conta local com privilégios de administrador que pode ser usado pelo suporte da Microsoft ou que possa ser atribuída como contexto para serviços e aplicativos toorun em até Olá que VM é implantada e os usuários mais apropriados pode ser usada.</span><span class="sxs-lookup"><span data-stu-id="31d3b-727">Add another local account with administrator privileges which can be used by Microsoft support or which can be assigned as context for services and applications toorun in until hello VM is deployed and more appropriate users can be used.</span></span>
* <span data-ttu-id="31d3b-728">Para o caso de saudação do uso de um cenário de implantação somente em nuvem (consulte o capítulo [somente em nuvem - implantações de máquina Virtual no Azure sem dependências nos Olá local rede cliente] [ planning-guide-2.1] deste um documento) em combinação com esse método de implantação, o domínio de contas podem não funcionar depois de saudação do disco do Azure é implantada no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-728">For hello case of using a Cloud-Only deployment scenario (see chapter [Cloud-Only - Virtual Machine deployments into Azure without dependencies on hello on-premises customer network][planning-guide-2.1] of this document) in combination with this deployment method, domain accounts might not work once hello Azure Disk is deployed in Azure.</span></span> <span data-ttu-id="31d3b-729">Isso é especialmente verdadeiro para contas que são usadas toorun serviços como o hello DBMS e aplicativos SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-729">This is especially true for accounts which are used toorun services like hello DBMS or SAP applications.</span></span> <span data-ttu-id="31d3b-730">Portanto, você precisa tooreplace essas contas de domínio com contas locais da VM e excluir contas de domínio local Olá no hello VM.</span><span class="sxs-lookup"><span data-stu-id="31d3b-730">Therefore you need tooreplace such domain accounts with VM local accounts and delete hello on-premises domain accounts in hello VM.</span></span> <span data-ttu-id="31d3b-731">Manter os usuários do domínio local na imagem VM Olá não é um problema quando Olá VM é implantada no hello cenário entre locais como descrito no capítulo [entre locais - implantação de uma ou várias VMs SAP no Azure com o requisito de saudação do sendo totalmente integrado à rede de local de saudação] [ planning-guide-2.2] neste documento.</span><span class="sxs-lookup"><span data-stu-id="31d3b-731">Keeping on-premises domain users in hello VM image is not an issue when hello VM is deployed in hello cross-premises scenario as described in chapter [Cross-Premises - Deployment of single or multiple SAP VMs into Azure with hello requirement of being fully integrated into hello on-premises network][planning-guide-2.2] in this document.</span></span>
* <span data-ttu-id="31d3b-732">Se as contas de domínio eram usadas como logons DBMS ou os usuários ao executar Olá sistema local e as VMs devem toobe implantado em cenários de nuvem, os usuários do domínio Olá necessário toobe excluído.</span><span class="sxs-lookup"><span data-stu-id="31d3b-732">If domain accounts were used as DBMS logins or users when running hello system on-premises and those VMs are supposed toobe deployed in Cloud-Only scenarios, hello domain users need toobe deleted.</span></span> <span data-ttu-id="31d3b-733">É necessário toomake se Olá administrador local e mais outro usuário local da VM é adicionado como um logon/usuário em Olá DBMS como administradores.</span><span class="sxs-lookup"><span data-stu-id="31d3b-733">You need toomake sure that hello local administrator plus another VM local user is added as a login/user into hello DBMS as administrators.</span></span>
* <span data-ttu-id="31d3b-734">Adicione outras contas locais, como elas podem ser necessárias para o cenário de implantação específico hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-734">Add other local accounts as those might be needed for hello specific deployment scenario.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="31d3b-736">Windows</span><span class="sxs-lookup"><span data-stu-id="31d3b-736">Windows</span></span>
>
> <span data-ttu-id="31d3b-737">Neste cenário nenhuma generalização (sysprep) do hello VM é tooupload necessário e implantar Olá VM no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-737">In this scenario no generalization (sysprep) of hello VM is required tooupload and deploy hello VM on Azure.</span></span>
> <span data-ttu-id="31d3b-738">Verifique se a unidade D:\ não é usada.</span><span class="sxs-lookup"><span data-stu-id="31d3b-738">Make sure that drive D:\ is not used.</span></span>
> <span data-ttu-id="31d3b-739">Defina a montagem automática de disco para discos anexados conforme descrito no capítulo [Definindo a montagem automática para os discos anexados][planning-guide-5.5.3] deste documento.</span><span class="sxs-lookup"><span data-stu-id="31d3b-739">Set disk automount for attached disks as described in chapter [Setting automount for attached disks][planning-guide-5.5.3] in this document.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="31d3b-741">Linux</span><span class="sxs-lookup"><span data-stu-id="31d3b-741">Linux</span></span>
>
> <span data-ttu-id="31d3b-742">Neste cenário nenhuma generalização (waagent-desprovisionamento) do hello VM é tooupload necessário e implantar Olá VM no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-742">In this scenario no generalization (waagent -deprovision) of hello VM is required tooupload and deploy hello VM on Azure.</span></span>
> <span data-ttu-id="31d3b-743">Certifique-se de que /mnt/resource não é usado e que todos os discos são montados por meio de uuid.</span><span class="sxs-lookup"><span data-stu-id="31d3b-743">Make sure that /mnt/resource is not used and that ALL disks are mounted via uuid.</span></span> <span data-ttu-id="31d3b-744">Disco Olá sistema operacional, certifique-se de que entrada do carregador de inicialização Olá também reflete montagem com base em uuid de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-744">For hello OS disk, make sure that hello bootloader entry also reflects hello uuid-based mount.</span></span>
>
>

- - -
#### <span data-ttu-id="31d3b-745"><a name="57f32b1c-0cba-4e57-ab6e-c39fe22b6ec3"></a>Preparação para implantar uma VM com uma imagem específica do cliente para SAP</span><span class="sxs-lookup"><span data-stu-id="31d3b-745"><a name="57f32b1c-0cba-4e57-ab6e-c39fe22b6ec3"></a>Preparation for deploying a VM with a customer-specific image for SAP</span></span>
<span data-ttu-id="31d3b-746">Os arquivos VHD que contêm um SO generalizado também são armazenados em contêineres nas Contas de Armazenamento do Azure ou como imagens do Managed Disk.</span><span class="sxs-lookup"><span data-stu-id="31d3b-746">VHD files that contain a generalized OS are stored in containers on Azure Storage Accounts or as Managed Disk images.</span></span> <span data-ttu-id="31d3b-747">Você pode implantar uma nova VM de uma imagem referenciando Olá VHD ou gerenciadas imagem de disco como uma fonte em seus arquivos de modelo de implantação, conforme descrito no capítulo [cenário 2: Implantando uma VM com uma imagem personalizada para SAP] [ deployment-guide-3.3]de saudação [guia de implantação][deployment-guide].</span><span class="sxs-lookup"><span data-stu-id="31d3b-747">You can deploy a new VM from such an image by referencing hello VHD or Managed Disk image as a source in your deployment template files as described in chapter [Scenario 2: Deploying a VM with a custom image for SAP][deployment-guide-3.3] of hello [Deployment Guide][deployment-guide].</span></span>

<span data-ttu-id="31d3b-748">Os requisitos ao preparar sua própria Imagem de VM do Azure são:</span><span class="sxs-lookup"><span data-stu-id="31d3b-748">Requirements when preparing your own Azure VM Image are:</span></span>

* <span data-ttu-id="31d3b-749">Originalmente Olá VHD contendo sistema operacional Olá pode ter apenas um tamanho máximo de 127GB.</span><span class="sxs-lookup"><span data-stu-id="31d3b-749">Originally hello VHD containing hello operating system could have a maximum size of 127GB only.</span></span> <span data-ttu-id="31d3b-750">Essa limitação foi eliminada no final de saudação de março de 2015.</span><span class="sxs-lookup"><span data-stu-id="31d3b-750">This limitation got eliminated at hello end of March 2015.</span></span> <span data-ttu-id="31d3b-751">Agora hello VHD que contém o sistema operacional de saudação pode ser o too1TB tamanho como qualquer outro armazenamento do Azure hospedado VHD também.</span><span class="sxs-lookup"><span data-stu-id="31d3b-751">Now hello VHD containing hello operating system can be up too1TB in size as any other Azure Storage hosted VHD as well.</span></span>
* <span data-ttu-id="31d3b-752">Ele precisa toobe em Olá formato VHD fixo.</span><span class="sxs-lookup"><span data-stu-id="31d3b-752">It needs toobe in hello fixed VHD format.</span></span> <span data-ttu-id="31d3b-753">VHDs dinâmicos ou VHDs no formato VHDx ainda não têm suporte no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-753">Dynamic VHDs or VHDs in VHDx format are not yet supported on Azure.</span></span> <span data-ttu-id="31d3b-754">VHDs dinâmicos será convertido toostatic VHDs quando você carregar Olá VHD com cmdlets do PowerShell ou CLI</span><span class="sxs-lookup"><span data-stu-id="31d3b-754">Dynamic VHDs will be converted toostatic VHDs when you upload hello VHD with PowerShell commandlets or CLI</span></span>
* <span data-ttu-id="31d3b-755">VHDs montado toohello VM e devem ser montados novamente no Azure toohello VM necessidade toobe em um formato VHD fixo.</span><span class="sxs-lookup"><span data-stu-id="31d3b-755">VHDs which are mounted toohello VM and should be mounted again in Azure toohello VM need toobe in a fixed VHD format as well.</span></span> <span data-ttu-id="31d3b-756">Leia [neste artigo (Linux)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-linux) e [neste artigo (Windows)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-windows) para limites de tamanho dos discos de dados.</span><span class="sxs-lookup"><span data-stu-id="31d3b-756">Please read [this article (Linux)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-linux) and [this article (Windows)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-windows) for size limits of data disks.</span></span> <span data-ttu-id="31d3b-757">VHDs dinâmicos será convertido toostatic VHDs quando você carregar Olá VHD com cmdlets do PowerShell ou CLI</span><span class="sxs-lookup"><span data-stu-id="31d3b-757">Dynamic VHDs will be converted toostatic VHDs when you upload hello VHD with PowerShell commandlets or CLI</span></span>
* <span data-ttu-id="31d3b-758">Desde que todos os usuários de domínio registrados como usuários em Olá VM não existirão em um cenário somente em nuvem de hello (consulte o capítulo [somente em nuvem - implantações de máquina Virtual no Azure sem dependências nos Olá local rede cliente] [ planning-guide-2.1] deste documento), os serviços usando esse domínio de contas podem não funcionar depois que Olá imagem é implantada no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-758">Since all hello Domain users registered as users in hello VM will not exist in a Cloud-Only scenario (see chapter [Cloud-Only - Virtual Machine deployments into Azure without dependencies on hello on-premises customer network][planning-guide-2.1] of this document), services using such domain accounts might not work once hello Image is deployed in Azure.</span></span> <span data-ttu-id="31d3b-759">Isso é especialmente verdadeiro para contas que são usadas toorun serviços como DBMS e aplicativos SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-759">This is especially true for accounts which are used toorun services like DBMS or SAP applications.</span></span> <span data-ttu-id="31d3b-760">Portanto, você precisa tooreplace essas contas de domínio com contas locais da VM e excluir contas de domínio local Olá no hello VM.</span><span class="sxs-lookup"><span data-stu-id="31d3b-760">Therefore you need tooreplace such domain accounts with VM local accounts and delete hello on-premises domain accounts in hello VM.</span></span> <span data-ttu-id="31d3b-761">Manter os usuários do domínio local na imagem VM Olá pode não ser um problema quando Olá VM é implantada no hello cenário entre locais como descrito no capítulo [entre locais - implantação de uma ou várias VMs SAP no Azure com o requisito de saudação do integração completa à rede do local de saudação] [ planning-guide-2.2] neste documento.</span><span class="sxs-lookup"><span data-stu-id="31d3b-761">Keeping on-premises domain users in hello VM image might not be an issue when hello VM is deployed in hello cross-premises scenario as described in chapter [Cross-Premises - Deployment of single or multiple SAP VMs into Azure with hello requirement of being fully integrated into hello on-premises network][planning-guide-2.2] in this document.</span></span>
* <span data-ttu-id="31d3b-762">Adicione outra conta local com privilégios de administrador que pode ser usado pelo suporte da Microsoft na investigação de problemas ou que possa ser atribuída como contexto para serviços e aplicativos toorun em até Olá que VM é implantada e os usuários mais apropriados pode ser usada.</span><span class="sxs-lookup"><span data-stu-id="31d3b-762">Add another local account with administrator privileges which can be used by Microsoft support in problem investigations or which can be assigned as context for services and applications toorun in until hello VM is deployed and more appropriate users can be used.</span></span>
* <span data-ttu-id="31d3b-763">Em implantações somente em nuvem e onde as contas de domínio eram usadas como logons DBMS ou usuários durante a execução Olá sistema local, os usuários do domínio Olá devem ser excluídos.</span><span class="sxs-lookup"><span data-stu-id="31d3b-763">In Cloud-Only deployments and where domain accounts were used as DBMS logins or users when running hello system on-premises, hello domain users should be deleted.</span></span> <span data-ttu-id="31d3b-764">É necessário toomake se Olá administrador local e mais outro usuário local da VM é adicionado como um logon/usuário do hello DBMS como administradores.</span><span class="sxs-lookup"><span data-stu-id="31d3b-764">You need toomake sure that hello local administrator plus another VM local user is added as a login/user of hello DBMS as administrators.</span></span>
* <span data-ttu-id="31d3b-765">Adicione outras contas locais, como elas podem ser necessárias para o cenário de implantação específico hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-765">Add other local accounts as those might be needed for hello specific deployment scenario.</span></span>
* <span data-ttu-id="31d3b-766">Se imagem Olá contém uma instalação do SAP NetWeaver e renomeação de nome de host de saudação do nome original do hello no ponto de saudação da saudação implantação do Azure for provável, é recomendado toocopy versões mais recentes do Olá Olá SAP Software Provisioning Manager DVD em modelo de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-766">If hello image contains an installation of SAP NetWeaver and renaming of hello host name from hello original name at hello point of hello Azure deployment is likely, it is recommended toocopy hello latest versions of hello SAP Software Provisioning Manager DVD into hello template.</span></span> <span data-ttu-id="31d3b-767">Isso permitirá que você tooeasily use Olá SAP fornecido renomear funcionalidade tooadapt Olá alterado alteração e/ou nome de host Olá SID da saudação sistema SAP na Olá implantado a imagem da VM assim que uma nova cópia é iniciada.</span><span class="sxs-lookup"><span data-stu-id="31d3b-767">This will enable you tooeasily use hello SAP provided rename functionality tooadapt hello changed hostname and/or change hello SID of hello SAP system within hello deployed VM image as soon as a new copy is started.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="31d3b-769">Windows</span><span class="sxs-lookup"><span data-stu-id="31d3b-769">Windows</span></span>
>
> <span data-ttu-id="31d3b-770">Verifique se a unidade D:\ não é usada. Defina a montagem automática de disco para discos anexados conforme descrito no capítulo [Definindo a montagem automática para os discos anexados][planning-guide-5.5.3] deste documento.</span><span class="sxs-lookup"><span data-stu-id="31d3b-770">Make sure that drive D:\ is not used Set disk automount for attached disks as described in chapter [Setting automount for attached disks][planning-guide-5.5.3] in this document.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="31d3b-772">Linux</span><span class="sxs-lookup"><span data-stu-id="31d3b-772">Linux</span></span>
>
> <span data-ttu-id="31d3b-773">Certifique-se de que /mnt/resource não é usado e que todos os discos são montados por meio de uuid.</span><span class="sxs-lookup"><span data-stu-id="31d3b-773">Make sure that /mnt/resource is not used and that ALL disks are mounted via uuid.</span></span> <span data-ttu-id="31d3b-774">Disco Olá sistema operacional, certifique-se de entrada do carregador de inicialização Olá também reflete montagem com base em uuid de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-774">For hello OS disk, make sure hello bootloader entry also reflects hello uuid-based mount.</span></span>
>
>

- - -
* <span data-ttu-id="31d3b-775">A GUI da SAP (para fins administrativos e de instalação) podem ser pré-instalados em um modelo desse tipo.</span><span class="sxs-lookup"><span data-stu-id="31d3b-775">SAP GUI (for administrative and setup purposes) can be pre-installed in such a template.</span></span>
* <span data-ttu-id="31d3b-776">Outro software necessário toorun Olá VMs com êxito em cenários entre locais podem ser instaladas como esse software pode trabalhar com hello renomear de saudação VM.</span><span class="sxs-lookup"><span data-stu-id="31d3b-776">Other software necessary toorun hello VMs successfully in cross-premises scenarios can be installed as long as this software can work with hello rename of hello VM.</span></span>

<span data-ttu-id="31d3b-777">Se Olá VM for preparada suficientemente toobe genérica e independente de contas/usuários não está disponíveis no hello direcionada cenário de implantação do Azure, Olá última etapa de preparação generalizar essa imagem é realizada.</span><span class="sxs-lookup"><span data-stu-id="31d3b-777">If hello VM is prepared sufficiently toobe generic and eventually independent of accounts/users not available in hello targeted Azure deployment scenario, hello last preparation step of generalizing such an image is conducted.</span></span>

##### <a name="generalizing-a-vm"></a><span data-ttu-id="31d3b-778">Generalizando uma VM</span><span class="sxs-lookup"><span data-stu-id="31d3b-778">Generalizing a VM</span></span>
- - -
> ![Windows][Logo_Windows] <span data-ttu-id="31d3b-780">Windows</span><span class="sxs-lookup"><span data-stu-id="31d3b-780">Windows</span></span>
>
> <span data-ttu-id="31d3b-781">Olá última etapa é toolog em tooa VM com uma conta de administrador.</span><span class="sxs-lookup"><span data-stu-id="31d3b-781">hello last step is toolog in tooa VM with an Administrator account.</span></span> <span data-ttu-id="31d3b-782">Abra uma janela de comando do Windows como “administrador”.</span><span class="sxs-lookup"><span data-stu-id="31d3b-782">Open a Windows command window as ‘administrator’.</span></span> <span data-ttu-id="31d3b-783">Vá too%windir%\windows\system32\sysprep e execute sysprep.exe.</span><span class="sxs-lookup"><span data-stu-id="31d3b-783">Go too%windir%\windows\system32\sysprep and execute sysprep.exe.</span></span>
> <span data-ttu-id="31d3b-784">Uma janela pequena será exibida.</span><span class="sxs-lookup"><span data-stu-id="31d3b-784">A small window will appear.</span></span> <span data-ttu-id="31d3b-785">É importante toocheck hello "Generalizar" opção (padrão de saudação é desmarcada) e alterar Olá opção de desligamento do padrão de 'Reiniciar' too'Shutdown'.</span><span class="sxs-lookup"><span data-stu-id="31d3b-785">It is important toocheck hello ‘Generalize’ option (hello default is un-checked) and change hello Shutdown Option from its default of ‘Reboot’ too‘Shutdown’.</span></span> <span data-ttu-id="31d3b-786">Este procedimento pressupõe que o processo do sysprep Olá é executado localmente em Olá sistema operacional convidado de uma máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="31d3b-786">This procedure assumes that hello sysprep process is executed on-premises in hello Guest OS of a VM.</span></span>
> <span data-ttu-id="31d3b-787">Se você quiser tooperform procedimento de saudação com uma VM já em execução no Azure, execute as etapas de saudação descritas em [neste artigo](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/capture-image-resource).</span><span class="sxs-lookup"><span data-stu-id="31d3b-787">If you want tooperform hello procedure with a VM already running in Azure, follow hello steps described in [this article](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/capture-image-resource).</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="31d3b-789">Linux</span><span class="sxs-lookup"><span data-stu-id="31d3b-789">Linux</span></span>
>
> <span data-ttu-id="31d3b-790">[Como toocapture uma toouse de máquina virtual Linux como um modelo do Gerenciador de recursos][capture-image-linux-step-2-create-vm-image]</span><span class="sxs-lookup"><span data-stu-id="31d3b-790">[How toocapture a Linux virtual machine toouse as a Resource Manager template][capture-image-linux-step-2-create-vm-image]</span></span>
>
>

- - -
### <a name="transferring-vms-and-vhds-between-on-premises-tooazure"></a><span data-ttu-id="31d3b-791">Transferindo VMs e VHDs entre tooAzure local</span><span class="sxs-lookup"><span data-stu-id="31d3b-791">Transferring VMs and VHDs between on-premises tooAzure</span></span>
<span data-ttu-id="31d3b-792">Como carregar tooAzure de imagens e discos VM não é possível por meio de saudação portal do Azure, você precisará toouse cmdlets do Azure PowerShell ou CLI.</span><span class="sxs-lookup"><span data-stu-id="31d3b-792">Since uploading VM images and disks tooAzure is not possible via hello Azure portal, you need toouse Azure PowerShell cmdlets or CLI.</span></span> <span data-ttu-id="31d3b-793">Outra possibilidade é usar saudação da ferramenta de saudação 'AzCopy'.</span><span class="sxs-lookup"><span data-stu-id="31d3b-793">Another possibility is hello use of hello tool ‘AzCopy’.</span></span> <span data-ttu-id="31d3b-794">ferramenta de saudação pode copiar VHDs entre local e o Azure (em ambas as direções).</span><span class="sxs-lookup"><span data-stu-id="31d3b-794">hello tool can copy VHDs between on-premises and Azure (in both directions).</span></span> <span data-ttu-id="31d3b-795">Ela também pode copiar VHDs entre Regiões do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-795">It also can copy VHDs between Azure Regions.</span></span> <span data-ttu-id="31d3b-796">Consulte [esta documentação][storage-use-azcopy] para download e uso do AzCopy.</span><span class="sxs-lookup"><span data-stu-id="31d3b-796">Please consult [this documentation][storage-use-azcopy] for download and usage of AzCopy.</span></span>

<span data-ttu-id="31d3b-797">Uma terceira alternativa seria toouse várias ferramentas de terceiros e orientada a interface gráfica do usuário.</span><span class="sxs-lookup"><span data-stu-id="31d3b-797">A third alternative would be toouse various third-party GUI-oriented tools.</span></span> <span data-ttu-id="31d3b-798">No entanto, certifique-se de que essas ferramentas dão suporte a Blobs de Páginas do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-798">However, please make sure that these tools are supporting Azure Page Blobs.</span></span> <span data-ttu-id="31d3b-799">Para nossas finalidades precisamos toouse Blob de páginas do Azure store (Olá diferenças são descritas aqui: <https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>).</span><span class="sxs-lookup"><span data-stu-id="31d3b-799">For our purposes we need toouse Azure Page Blob store (hello differences are described here: <https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>).</span></span> <span data-ttu-id="31d3b-800">Também ferramentas Olá fornecidas pelo Azure são muito eficientes em Compactar Olá VMs e VHDs que precisam toobe carregado.</span><span class="sxs-lookup"><span data-stu-id="31d3b-800">Also hello tools provided by Azure are very efficient in compressing hello VMs and VHDs which need toobe uploaded.</span></span> <span data-ttu-id="31d3b-801">Isso é importante porque essa eficiência na compactação reduz o tempo de carregamento de saudação (que varia assim mesmo Olá carregamento link toohello direcionado de internet por meio de recurso de local de saudação e região de implantação do Azure Olá).</span><span class="sxs-lookup"><span data-stu-id="31d3b-801">This is important because this efficiency in compression reduces hello upload time (which varies anyway depending on hello upload link toohello internet from hello on-premises facility and hello Azure deployment region targeted).</span></span> <span data-ttu-id="31d3b-802">É um sentido supor que carregar uma VM ou um VHD do local Europeu toohello dados do Azure baseado nos EUA centers levará mais tempo do que carregar Olá mesmos VHDs/VMs toohello Europeu Azure data centers.</span><span class="sxs-lookup"><span data-stu-id="31d3b-802">It is a fair assumption that uploading a VM or VHD from European location toohello U.S.-based Azure data centers will take longer than uploading hello same VMs/VHDs toohello European Azure data centers.</span></span>

#### <span data-ttu-id="31d3b-803"><a name="a43e40e6-1acc-4633-9816-8f095d5a7b6a"></a>Carregando um VHD do local tooAzure</span><span class="sxs-lookup"><span data-stu-id="31d3b-803"><a name="a43e40e6-1acc-4633-9816-8f095d5a7b6a"></a>Uploading a VHD from on-premises tooAzure</span></span>
<span data-ttu-id="31d3b-804">tooupload uma VM existente ou um VHD de saudação no local de rede essa VM ou VHD precisa requisitos de saudação toomeet conforme listado no capítulo [preparação para mover uma VM do tooAzure local com um disco não generalizado] [ planning-guide-5.2.1] deste documento.</span><span class="sxs-lookup"><span data-stu-id="31d3b-804">tooupload an existing VM or VHD from hello on-premises network such a VM or VHD needs toomeet hello requirements as listed in chapter [Preparation for moving a VM from on-premises tooAzure with a non-generalized disk][planning-guide-5.2.1] of this document.</span></span>

<span data-ttu-id="31d3b-805">Essa VM não precisa toobe generalizado e pode ser carregada no estado de saudação e forma tem após o desligamento no hello lado local.</span><span class="sxs-lookup"><span data-stu-id="31d3b-805">Such a VM does NOT need toobe generalized and can be uploaded in hello state and shape it has after shutdown on hello on-premises side.</span></span> <span data-ttu-id="31d3b-806">Olá mesmo é verdadeiro para VHDs adicionais que não contêm qualquer sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="31d3b-806">hello same is true for additional VHDs which don’t contain any operating system.</span></span>

##### <a name="uploading-a-vhd-and-making-it-an-azure-disk"></a><span data-ttu-id="31d3b-807">Carregando um VHD e tornando-o um Disco do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-807">Uploading a VHD and making it an Azure Disk</span></span>
<span data-ttu-id="31d3b-808">Nesse caso, deseja tooupload um VHD, com ou sem um sistema operacional e montá-lo tooa VM como um disco de dados ou usá-lo como o disco do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="31d3b-808">In this case we want tooupload a VHD, either with or without an OS in it, and mount it tooa VM as a data disk or use it as OS disk.</span></span> <span data-ttu-id="31d3b-809">Este é um processo de várias etapas</span><span class="sxs-lookup"><span data-stu-id="31d3b-809">This is a multi-step process</span></span>

<span data-ttu-id="31d3b-810">**Powershell**</span><span class="sxs-lookup"><span data-stu-id="31d3b-810">**Powershell**</span></span>

* <span data-ttu-id="31d3b-811">Faça logon na assinatura tooyour com *AzureRmAccount de logon*</span><span class="sxs-lookup"><span data-stu-id="31d3b-811">Log in tooyour subscription with *Login-AzureRmAccount*</span></span>
* <span data-ttu-id="31d3b-812">Definir a assinatura de saudação de seu contexto com *conjunto AzureRmContext* e parâmetro SubscriptionId ou nome de inscrição - consulte <https://docs.microsoft.com/powershell/module/azurerm.profile/set-azurermcontext></span><span class="sxs-lookup"><span data-stu-id="31d3b-812">Set hello subscription of your context with *Set-AzureRmContext* and parameter SubscriptionId or SubscriptionName - see <https://docs.microsoft.com/powershell/module/azurerm.profile/set-azurermcontext></span></span>
* <span data-ttu-id="31d3b-813">Carregar Olá VHD com *adicionar AzureRmVhd* tooan conta de armazenamento do Azure - consulte <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvhd></span><span class="sxs-lookup"><span data-stu-id="31d3b-813">Upload hello VHD with *Add-AzureRmVhd* tooan Azure Storage Account - see <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvhd></span></span>
* <span data-ttu-id="31d3b-814">(Opcional) Criar um disco gerenciado de saudação VHD com *New-AzureRmDisk* -consulte <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermdisk></span><span class="sxs-lookup"><span data-stu-id="31d3b-814">(Optional) Create a Managed Disk from hello VHD with *New-AzureRmDisk*  - see <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermdisk></span></span>
* <span data-ttu-id="31d3b-815">Definir disco Olá sistema operacional de um novo toohello de configuração VM VHD ou gerenciados com *conjunto AzureRmVMOSDisk* -consulte <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmosdisk></span><span class="sxs-lookup"><span data-stu-id="31d3b-815">Set hello OS disk of a new VM config toohello VHD or Managed Disk with *Set-AzureRmVMOSDisk* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmosdisk></span></span>
* <span data-ttu-id="31d3b-816">Criar uma nova VM a partir da configuração VM Olá com *New-AzureRmVM* -consulte <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermvm></span><span class="sxs-lookup"><span data-stu-id="31d3b-816">Create a new VM from hello VM config with *New-AzureRmVM* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermvm></span></span>
* <span data-ttu-id="31d3b-817">Adicionar uma tooa de disco de dados nova VM com *adicionar AzureRmVMDataDisk* -consulte <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvmdatadisk></span><span class="sxs-lookup"><span data-stu-id="31d3b-817">Add a data disk tooa new VM with *Add-AzureRmVMDataDisk* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvmdatadisk></span></span>

<span data-ttu-id="31d3b-818">**CLI 2.0 do Azure**</span><span class="sxs-lookup"><span data-stu-id="31d3b-818">**Azure CLI 2.0**</span></span>

* <span data-ttu-id="31d3b-819">Faça logon na assinatura tooyour com *logon az*</span><span class="sxs-lookup"><span data-stu-id="31d3b-819">Log in tooyour subscription with *az login*</span></span>
* <span data-ttu-id="31d3b-820">Selecione a assinatura com o *az account set --subscription `<subscription name or id`>*</span><span class="sxs-lookup"><span data-stu-id="31d3b-820">Select your subscription with *az account set --subscription `<subscription name or id`>*</span></span>
* <span data-ttu-id="31d3b-821">Carregar Olá VHD com *carregamento de blob de armazenamento az* -consulte [hello usando a CLI do Azure com o armazenamento do Azure][storage-azure-cli]</span><span class="sxs-lookup"><span data-stu-id="31d3b-821">Upload hello VHD with *az storage blob upload* - see [Using hello Azure CLI with Azure Storage][storage-azure-cli]</span></span>
* <span data-ttu-id="31d3b-822">(Opcional) Criar um disco gerenciado de saudação VHD com *criar disco az* -consulte https://docs.microsoft.com/cli/azure/disk#create</span><span class="sxs-lookup"><span data-stu-id="31d3b-822">(Optional) Create a Managed Disk from hello VHD with *az disk create* - see https://docs.microsoft.com/cli/azure/disk#create</span></span>
* <span data-ttu-id="31d3b-823">Criar uma nova VM especificando Olá carregado VHD ou disco gerenciados como disco do sistema operacional com *criar vm az* e parâmetro *– anexar-disco do SO*</span><span class="sxs-lookup"><span data-stu-id="31d3b-823">Create a new VM specifying hello uploaded VHD or Managed Disk as OS disk with *az vm create* and parameter *--attach-os-disk*</span></span>
* <span data-ttu-id="31d3b-824">Adicionar uma tooa de disco de dados nova VM com *anexar disco de vm az* e parâmetro *-novo*</span><span class="sxs-lookup"><span data-stu-id="31d3b-824">Add a data disk tooa new VM with *az vm disk attach* and parameter *--new*</span></span>

<span data-ttu-id="31d3b-825">**Modelo**</span><span class="sxs-lookup"><span data-stu-id="31d3b-825">**Template**</span></span>

* <span data-ttu-id="31d3b-826">Carregar Olá VHD com o Powershell ou CLI do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-826">Upload hello VHD with Powershell or Azure CLI</span></span>
* <span data-ttu-id="31d3b-827">(Opcional) Criar um disco gerenciado de saudação VHD com o Powershell, CLI do Azure ou Olá portal do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-827">(Optional) Create a Managed Disk from hello VHD with Powershell, Azure CLI or hello Azure portal</span></span>
* <span data-ttu-id="31d3b-828">Implantar Olá VM com um modelo JSON referenciando Olá VHD, conforme mostrado no [esse modelo JSON de exemplo](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/201-vm-specialized-vhd/azuredeploy.json) ou usando discos gerenciados, conforme mostrado no [esse modelo JSON de exemplo](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/sap-2-tier-user-disk-md/azuredeploy.json).</span><span class="sxs-lookup"><span data-stu-id="31d3b-828">Deploy hello VM with a JSON template referencing hello VHD as shown in [this example JSON template](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/201-vm-specialized-vhd/azuredeploy.json) or using Managed Disks as shown in [this example JSON template](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/sap-2-tier-user-disk-md/azuredeploy.json).</span></span>

#### <a name="deployment-of-a-vm-image"></a><span data-ttu-id="31d3b-829">Implantação de uma imagem de VM</span><span class="sxs-lookup"><span data-stu-id="31d3b-829">Deployment of a VM Image</span></span>
<span data-ttu-id="31d3b-830">tooupload uma VM existente ou um VHD de saudação no local de rede na ordem toouse-lo como uma imagem de VM do Azure essa VM ou VHD necessário toomeet requisitos de saudação listados no capítulo [preparação para implantar uma VM com uma imagem específica do cliente para SAP] [ planning-guide-5.2.2] deste documento.</span><span class="sxs-lookup"><span data-stu-id="31d3b-830">tooupload an existing VM or VHD from hello on-premises network in order toouse it as an Azure VM image such a VM or VHD need toomeet hello requirements listed in chapter [Preparation for deploying a VM with a customer-specific image for SAP][planning-guide-5.2.2] of this document.</span></span>

* <span data-ttu-id="31d3b-831">Use *sysprep* no Windows ou *waagent-desprovisionamento* no Linux toogeneralize sua VM - consulte [referência técnica do Sysprep](https://technet.microsoft.com/library/cc766049.aspx) para Windows ou [como toocapture um Toouse de máquina virtual Linux como um modelo do Gerenciador de recursos] [ capture-image-linux-step-2-create-vm-image] para Linux</span><span class="sxs-lookup"><span data-stu-id="31d3b-831">Use *sysprep* on Windows or *waagent -deprovision* on Linux toogeneralize your VM - see [Sysprep Technical Reference](https://technet.microsoft.com/library/cc766049.aspx) for Windows or [How toocapture a Linux virtual machine toouse as a Resource Manager template][capture-image-linux-step-2-create-vm-image] for Linux</span></span>
* <span data-ttu-id="31d3b-832">Faça logon na assinatura tooyour com *AzureRmAccount de logon*</span><span class="sxs-lookup"><span data-stu-id="31d3b-832">Log in tooyour subscription with *Login-AzureRmAccount*</span></span>
* <span data-ttu-id="31d3b-833">Definir a assinatura de saudação de seu contexto com *conjunto AzureRmContext* e parâmetro SubscriptionId ou nome de inscrição - consulte <https://docs.microsoft.com/powershell/module/azurerm.profile/set-azurermcontext></span><span class="sxs-lookup"><span data-stu-id="31d3b-833">Set hello subscription of your context with *Set-AzureRmContext* and parameter SubscriptionId or SubscriptionName - see <https://docs.microsoft.com/powershell/module/azurerm.profile/set-azurermcontext></span></span>
* <span data-ttu-id="31d3b-834">Carregar Olá VHD com *adicionar AzureRmVhd* tooan conta de armazenamento do Azure - consulte <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvhd></span><span class="sxs-lookup"><span data-stu-id="31d3b-834">Upload hello VHD with *Add-AzureRmVhd* tooan Azure Storage Account - see <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvhd></span></span>
* <span data-ttu-id="31d3b-835">(Opcional) Criar uma imagem de disco gerenciado de saudação VHD com *New-AzureRmImage* -consulte <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermimage></span><span class="sxs-lookup"><span data-stu-id="31d3b-835">(Optional) Create a Managed Disk Image from hello VHD with *New-AzureRmImage*  - see <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermimage></span></span>
* <span data-ttu-id="31d3b-836">Definir o disco do sistema operacional de saudação de uma nova configuração toothe da VM</span><span class="sxs-lookup"><span data-stu-id="31d3b-836">Set hello OS disk of a new VM config toothe</span></span>
  * <span data-ttu-id="31d3b-837">VHD com *Set-AzureRmVMOSDisk -SourceImageUri -CreateOption fromImage* - consulte <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmosdisk></span><span class="sxs-lookup"><span data-stu-id="31d3b-837">VHD with *Set-AzureRmVMOSDisk -SourceImageUri -CreateOption fromImage* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmosdisk></span></span>
  * <span data-ttu-id="31d3b-838">Imagem do Managed Disk *set-AzureRmVMSourceImage* -consulte <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmsourceimage></span><span class="sxs-lookup"><span data-stu-id="31d3b-838">Managed Disk Image *Set-AzureRmVMSourceImage* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmsourceimage></span></span>
* <span data-ttu-id="31d3b-839">Criar uma nova VM a partir da configuração VM Olá com *New-AzureRmVM* -consulte <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermvm></span><span class="sxs-lookup"><span data-stu-id="31d3b-839">Create a new VM from hello VM config with *New-AzureRmVM* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermvm></span></span>

<span data-ttu-id="31d3b-840">**CLI 2.0 do Azure**</span><span class="sxs-lookup"><span data-stu-id="31d3b-840">**Azure CLI 2.0**</span></span>

* <span data-ttu-id="31d3b-841">Use *sysprep* no Windows ou *waagent-desprovisionamento* no Linux toogeneralize sua VM - consulte [referência técnica do Sysprep](https://technet.microsoft.com/library/cc766049.aspx) para Windows ou [como toocapture um Toouse de máquina virtual Linux como um modelo do Gerenciador de recursos] [ capture-image-linux-step-2-create-vm-image] para Linux</span><span class="sxs-lookup"><span data-stu-id="31d3b-841">Use *sysprep* on Windows or *waagent -deprovision* on Linux toogeneralize your VM - see [Sysprep Technical Reference](https://technet.microsoft.com/library/cc766049.aspx) for Windows or [How toocapture a Linux virtual machine toouse as a Resource Manager template][capture-image-linux-step-2-create-vm-image] for Linux</span></span>
* <span data-ttu-id="31d3b-842">Faça logon na assinatura tooyour com *logon az*</span><span class="sxs-lookup"><span data-stu-id="31d3b-842">Log in tooyour subscription with *az login*</span></span>
* <span data-ttu-id="31d3b-843">Selecione a assinatura com o *az account set --subscription `<subscription name or id`>*</span><span class="sxs-lookup"><span data-stu-id="31d3b-843">Select your subscription with *az account set --subscription `<subscription name or id`>*</span></span>
* <span data-ttu-id="31d3b-844">Carregar Olá VHD com *carregamento de blob de armazenamento az* -consulte [hello usando a CLI do Azure com o armazenamento do Azure][storage-azure-cli]</span><span class="sxs-lookup"><span data-stu-id="31d3b-844">Upload hello VHD with *az storage blob upload* - see [Using hello Azure CLI with Azure Storage][storage-azure-cli]</span></span>
* <span data-ttu-id="31d3b-845">(Opcional) Criar uma imagem de disco gerenciado de saudação VHD com *criar imagem az* -consulte https://docs.microsoft.com/cli/azure/image#create</span><span class="sxs-lookup"><span data-stu-id="31d3b-845">(Optional) Create a Managed Disk Image from hello VHD with *az image create* - see https://docs.microsoft.com/cli/azure/image#create</span></span>
* <span data-ttu-id="31d3b-846">Criar uma nova VM especificando Olá carregado gerenciados imagem de disco ou VHD como disco do sistema operacional com *criar vm az* e parâmetro *-imagem*</span><span class="sxs-lookup"><span data-stu-id="31d3b-846">Create a new VM specifying hello uploaded VHD or Managed Disk Image as OS disk with *az vm create* and parameter *--image*</span></span>

<span data-ttu-id="31d3b-847">**Modelo**</span><span class="sxs-lookup"><span data-stu-id="31d3b-847">**Template**</span></span>

* <span data-ttu-id="31d3b-848">Use *sysprep* no Windows ou *waagent-desprovisionamento* no Linux toogeneralize sua VM - consulte [referência técnica do Sysprep](https://technet.microsoft.com/library/cc766049.aspx) para Windows ou [como toocapture um Toouse de máquina virtual Linux como um modelo do Gerenciador de recursos] [ capture-image-linux-step-2-create-vm-image] para Linux</span><span class="sxs-lookup"><span data-stu-id="31d3b-848">Use *sysprep* on Windows or *waagent -deprovision* on Linux toogeneralize your VM - see [Sysprep Technical Reference](https://technet.microsoft.com/library/cc766049.aspx) for Windows or [How toocapture a Linux virtual machine toouse as a Resource Manager template][capture-image-linux-step-2-create-vm-image] for Linux</span></span>
* <span data-ttu-id="31d3b-849">Carregar Olá VHD com o Powershell ou CLI do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-849">Upload hello VHD with Powershell or Azure CLI</span></span>
* <span data-ttu-id="31d3b-850">(Opcional) Criar uma imagem de disco gerenciado de saudação VHD com o Powershell, CLI do Azure ou Olá portal do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-850">(Optional) Create a Managed Disk Image from hello VHD with Powershell, Azure CLI or hello Azure portal</span></span>
* <span data-ttu-id="31d3b-851">Implantar Olá VM com um modelo JSON fazer referência a saudação imagem VHD conforme mostrado na [esse modelo JSON de exemplo](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/sap-2-tier-user-image/azuredeploy.json) ou usando Olá gerenciado a imagem de disco, conforme mostrado no [esse modelo JSON de exemplo](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/101-vm-from-user-image/azuredeploy.json).</span><span class="sxs-lookup"><span data-stu-id="31d3b-851">Deploy hello VM with a JSON template referencing hello image VHD as shown in [this example JSON template](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/sap-2-tier-user-image/azuredeploy.json) or using hello Managed Disk Image as shown in [this example JSON template](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/101-vm-from-user-image/azuredeploy.json).</span></span>

#### <a name="downloading-vhds-or-managed-disks-tooon-premises"></a><span data-ttu-id="31d3b-852">Baixando VHDs ou discos gerenciados tooon local</span><span class="sxs-lookup"><span data-stu-id="31d3b-852">Downloading VHDs or Managed Disks tooon-premises</span></span>
<span data-ttu-id="31d3b-853">Infraestrutura do Azure como um serviço não é um endereço unidirecional de apenas ser capaz de tooupload VHDs e sistemas SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-853">Azure Infrastructure as a Service is not a one-way street of only being able tooupload VHDs and SAP systems.</span></span> <span data-ttu-id="31d3b-854">Você pode mover SAP volta de sistemas do Azure para Olá, mundo de local também.</span><span class="sxs-lookup"><span data-stu-id="31d3b-854">You can move SAP systems from Azure back into hello on-premises world as well.</span></span>

<span data-ttu-id="31d3b-855">Durante o tempo de saudação do hello download Olá VHDs ou discos gerenciados não pode estar ativa.</span><span class="sxs-lookup"><span data-stu-id="31d3b-855">During hello time of hello download hello VHDs or Managed Disks can’t be active.</span></span> <span data-ttu-id="31d3b-856">Mesmo ao baixar os discos que são montados tooVMs, Olá VM necessidades toobe desligada e desalocada.</span><span class="sxs-lookup"><span data-stu-id="31d3b-856">Even when downloading disks which are mounted tooVMs, hello VM needs toobe shut down and deallocated.</span></span> <span data-ttu-id="31d3b-857">Se você quiser apenas o banco de dados de saudação do toodownload conteúdo, em seguida, que deve ser usado tooset um novo sistema local e se é aceitável que durante o tempo de saudação do hello baixar e Olá a instalação do sistema novo Olá Olá sistema no Azure ainda pode estar operacional , você pode evitar um longo tempo de inatividade executando um backup de banco de dados compactado em um disco e simplesmente baixar esse disco em vez de também baixar Olá VM de base do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="31d3b-857">If you only want toodownload hello database content which then should be used tooset up a new system on-premises and if it is acceptable that during hello time of hello download and hello setup of hello new system that hello system in Azure can still be operational, you could avoid a long downtime by performing a compressed database backup into a disk and just download that disk instead of also downloading hello OS base VM.</span></span>

#### <a name="powershell"></a><span data-ttu-id="31d3b-858">Powershell</span><span class="sxs-lookup"><span data-stu-id="31d3b-858">Powershell</span></span>

  * <span data-ttu-id="31d3b-859">Baixando um Managed Disk</span><span class="sxs-lookup"><span data-stu-id="31d3b-859">Downloading a Managed Disk</span></span>  
  <span data-ttu-id="31d3b-860">É necessário primeiro tooget acesso toohello subjacente blob da saudação disco gerenciado.</span><span class="sxs-lookup"><span data-stu-id="31d3b-860">You first need tooget access toohello underlying blob of hello Managed Disk.</span></span> <span data-ttu-id="31d3b-861">Em seguida, você pode copiar Olá subjacente tooa nova conta de armazenamento blob e baixar o blob de saudação desta conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="31d3b-861">Then you can copy hello underlying blob tooa new storage account and download hello blob from this storage account.</span></span>

  ```powershell
  $access = Grant-AzureRmDiskAccess -ResourceGroupName <resource group> -DiskName <disk name> -Access Read -DurationInSecond 3600
  $key = (Get-AzureRmStorageAccountKey -ResourceGroupName <resource group> -Name <storage account name>)[0].Value
  $destContext = (New-AzureStorageContext -StorageAccountName <storage account name -StorageAccountKey $key)
  Start-AzureStorageBlobCopy -AbsoluteUri $access.AccessSAS -DestContainer <container name> -DestBlob <blob name> -DestContext $destContext
  # Wait for blob copy toofinish
  Get-AzureStorageBlobCopyState -Container <container name> -Blob <blob name> -Context $destContext
  Save-AzureRmVhd -SourceUri <blob in new storage account> -LocalFilePath <local file path> -StorageKey $key
  # Wait for download toofinish
  Revoke-AzureRmDiskAccess -ResourceGroupName <resource group> -DiskName <disk name>
  ```

  * <span data-ttu-id="31d3b-862">Baixar um VHD</span><span class="sxs-lookup"><span data-stu-id="31d3b-862">Downloading a VHD</span></span>  
  <span data-ttu-id="31d3b-863">Quando Olá sistema SAP for interrompido e hello VM for desligada, você pode usar cmdlet do PowerShell Olá AzureRmVhd salvar em Olá local discos VHD do destino toodownload Olá fazer toohello mundo de local.</span><span class="sxs-lookup"><span data-stu-id="31d3b-863">Once hello SAP system is stopped and hello VM is shut down, you can use hello PowerShell cmdlet Save-AzureRmVhd on hello on-premises target toodownload hello VHD disks back toohello on-premises world.</span></span> <span data-ttu-id="31d3b-864">Em ordem toodo, é necessária URL Olá Olá VHD que você pode encontrar no hello seção do armazenamento de saudação (necessidade toonavigate toohello conta de armazenamento e hello contêiner de armazenamento onde hello VHD foi criado) do portal do Azure e você precisa tooknow onde hello VHD deve ser copiada.</span><span class="sxs-lookup"><span data-stu-id="31d3b-864">In order toodo that, you need hello URL of hello VHD which you can find in hello ‘Storage Section’ of hello Azure portal (need toonavigate toohello Storage Account and hello storage container where hello VHD was created) and you need tooknow where hello VHD should be copied to.</span></span>

  <span data-ttu-id="31d3b-865">Em seguida, você pode aproveitar o comando hello, basta definir o parâmetro hello SourceUri como URL de saudação do toodownload VHD hello e hello LocalFilePath como o local físico de saudação do hello VHD (incluindo seu nome).</span><span class="sxs-lookup"><span data-stu-id="31d3b-865">Then you can leverage hello command by simply defining hello parameter SourceUri as hello URL of hello VHD toodownload and hello LocalFilePath as hello physical location of hello VHD (including its name).</span></span> <span data-ttu-id="31d3b-866">comando Olá seria semelhante ao seguinte:</span><span class="sxs-lookup"><span data-stu-id="31d3b-866">hello command could look like:</span></span>

  ```powerhell
  Save-AzureRmVhd -ResourceGroupName <resource group name of storage account> -SourceUri http://<storage account name>.blob.core.windows.net/<container name>/sapidedata.vhd -LocalFilePath E:\Azure_downloads\sapidesdata.vhd
  ```

  <span data-ttu-id="31d3b-867">Para obter mais detalhes do cmdlet Olá AzureRmVhd salvar, verifique aqui <https://docs.microsoft.com/powershell/module/azurerm.compute/save-azurermvhd>.</span><span class="sxs-lookup"><span data-stu-id="31d3b-867">For more details of hello Save-AzureRmVhd cmdlet, please check here <https://docs.microsoft.com/powershell/module/azurerm.compute/save-azurermvhd>.</span></span>

#### <a name="cli-20"></a><span data-ttu-id="31d3b-868">CLI 2.0</span><span class="sxs-lookup"><span data-stu-id="31d3b-868">CLI 2.0</span></span>
  * <span data-ttu-id="31d3b-869">Baixando um Managed Disk</span><span class="sxs-lookup"><span data-stu-id="31d3b-869">Downloading a Managed Disk</span></span>  
  <span data-ttu-id="31d3b-870">É necessário primeiro tooget acesso toohello subjacente blob da saudação disco gerenciado.</span><span class="sxs-lookup"><span data-stu-id="31d3b-870">You first need tooget access toohello underlying blob of hello Managed Disk.</span></span> <span data-ttu-id="31d3b-871">Em seguida, você pode copiar Olá subjacente tooa nova conta de armazenamento blob e baixar o blob de saudação desta conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="31d3b-871">Then you can copy hello underlying blob tooa new storage account and download hello blob from this storage account.</span></span>
  ```
  az disk grant-access --ids "/subscriptions/<subscription id>/resourceGroups/<resource group>/providers/Microsoft.Compute/disks/<disk name>" --duration-in-seconds 3600
  az storage blob download --sas-token "<sas token>" --account-name <account name> --container-name <container name> --name <blob name> --file <local file>
  az disk revoke-access --ids "/subscriptions/<subscription id>/resourceGroups/<resource group>/providers/Microsoft.Compute/disks/<disk name>"
  ```

  * <span data-ttu-id="31d3b-872">Baixar um VHD</span><span class="sxs-lookup"><span data-stu-id="31d3b-872">Downloading a VHD</span></span>   
  <span data-ttu-id="31d3b-873">Quando Olá sistema SAP for interrompido e hello VM for desligada, você pode usar o comando CLI do Azure de saudação _download de blob de armazenamento do azure_ no destino de local de Olá Olá toodownload VHD discos toohello voltar mundo de local.</span><span class="sxs-lookup"><span data-stu-id="31d3b-873">Once hello SAP system is stopped and hello VM is shut down, you can use hello Azure CLI command _azure storage blob download_ on hello on-premises target toodownload hello VHD disks back toohello on-premises world.</span></span> <span data-ttu-id="31d3b-874">Em ordem toodo que, você precisa de nome hello e contêiner Olá Olá VHD que você pode encontrar no hello seção do armazenamento de saudação (necessidade toonavigate toohello conta de armazenamento e hello contêiner de armazenamento onde hello VHD foi criado) do portal do Azure e você precisa tooknow onde Olá VHD deve ser copiado.</span><span class="sxs-lookup"><span data-stu-id="31d3b-874">In order toodo that, you need hello name and hello container of hello VHD which you can find in hello ‘Storage Section’ of hello Azure portal (need toonavigate toohello Storage Account and hello storage container where hello VHD was created) and you need tooknow where hello VHD should be copied to.</span></span>

  <span data-ttu-id="31d3b-875">Em seguida, você pode aproveitar o comando hello, basta definir o contêiner de toodownload VHD hello e destino hello e blob de parâmetros de saudação como local físico de destino Olá Olá VHD (incluindo seu nome).</span><span class="sxs-lookup"><span data-stu-id="31d3b-875">Then you can leverage hello command by simply defining hello parameters blob and container of hello VHD toodownload and hello destination as hello physical target location of hello VHD (including its name).</span></span> <span data-ttu-id="31d3b-876">comando Olá seria semelhante ao seguinte:</span><span class="sxs-lookup"><span data-stu-id="31d3b-876">hello command could look like:</span></span>

  ```
  az storage blob download --name <name of hello VHD toodownload> --container-name <container of hello VHD toodownload> --account-name <storage account name of hello VHD toodownload> --account-key <storage account key> --file <destination of hello VHD toodownload>
  ```

### <a name="transferring-vms-and-disks-within-azure"></a><span data-ttu-id="31d3b-877">Transferindo VMs e discos no interior do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-877">Transferring VMs and disks within Azure</span></span>
#### <a name="copying-sap-systems-within-azure"></a><span data-ttu-id="31d3b-878">Copiando sistemas SAP no interior do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-878">Copying SAP systems within Azure</span></span>
<span data-ttu-id="31d3b-879">Um sistema SAP ou até mesmo um servidor DBMS dedicado dando suporte a uma camada de aplicativo SAP será provavelmente consistem em vários discos que contêm qualquer sistema operacional Olá com binários hello ou Olá dados e arquivos do banco de dados do SAP Olá de log.</span><span class="sxs-lookup"><span data-stu-id="31d3b-879">An SAP system or even a dedicated DBMS server supporting an SAP application layer will likely consist of several disks which contain either hello OS with hello binaries or hello data and log file(s) of hello SAP database.</span></span> <span data-ttu-id="31d3b-880">Olá a funcionalidade de cópia de discos do Azure nem a funcionalidade do Azure de salvar disco discos tooa hello tem um mecanismo de sincronização, o que seria instantâneo vários discos de forma síncrona.</span><span class="sxs-lookup"><span data-stu-id="31d3b-880">Neither hello Azure functionality of copying disks nor hello Azure functionality of saving disks tooa local disk has a synchronization mechanism, which would snapshot multiple disks synchronously.</span></span> <span data-ttu-id="31d3b-881">Portanto, o estado de saudação do hello copiados ou salvos discos, mesmo se eles estão montados em relação a saudação mesma VM seria diferente.</span><span class="sxs-lookup"><span data-stu-id="31d3b-881">Therefore, hello state of hello copied or saved disks even if those are mounted against hello same VM would be different.</span></span> <span data-ttu-id="31d3b-882">Isso significa que em Olá caso concreto com dados diferentes e os arquivos contidos em discos diferentes hello, Olá banco de dados no final da saudação seria inconsistente.</span><span class="sxs-lookup"><span data-stu-id="31d3b-882">This means that in hello concrete case of having different data and logfile(s) contained in hello different disks, hello database in hello end would be inconsistent.</span></span>

<span data-ttu-id="31d3b-883">**Conclusão: Toocopy ordem ou salvar os discos que fazem parte de uma configuração do sistema SAP precisa toostop Olá SAP sistema e também precisa tooshut inativo saudação implantado VM. Somente então você pode copiar ou baixar o conjunto de saudação de discos tooeither crie uma cópia de saudação sistema SAP no Azure ou no local.**</span><span class="sxs-lookup"><span data-stu-id="31d3b-883">**Conclusion: In order toocopy or save disks which are part of an SAP system configuration you need toostop hello SAP system and also need tooshut down hello deployed VM. Only then you can copy or download hello set of disks tooeither create a copy of hello SAP system in Azure or on-premises.**</span></span>

<span data-ttu-id="31d3b-884">Discos de dados podem ser armazenados como arquivos VHD em uma conta de armazenamento do Azure e podem ser a máquina virtual de tooa conectado diretamente ou ser usados como uma imagem.</span><span class="sxs-lookup"><span data-stu-id="31d3b-884">Data disks can be stored as VHD files in an Azure Storage Account and can be directly attached tooa virtual machine or be used as an image.</span></span> <span data-ttu-id="31d3b-885">Nesse caso, Olá VHD é copiado tooanother local antes de máquina virtual toohello anexado.</span><span class="sxs-lookup"><span data-stu-id="31d3b-885">In this case, hello VHD is copied tooanother location before being attached toohello virtual machine.</span></span> <span data-ttu-id="31d3b-886">nome completo de saudação do arquivo VHD Olá no Azure deve ser exclusivo dentro do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-886">hello full name of hello VHD file in Azure must be unique within Azure.</span></span> <span data-ttu-id="31d3b-887">Conforme mencionado anteriormente já, o nome de saudação é tipo de um nome de três partes que se parece com:</span><span class="sxs-lookup"><span data-stu-id="31d3b-887">As mentioned earlier already, hello name is kind of a three-part name that looks like:</span></span>

    http(s)://<storage account name>.blob.core.windows.net/<container name>/<vhd name>

<span data-ttu-id="31d3b-888">Discos de dados também podem ser Managed Disks.</span><span class="sxs-lookup"><span data-stu-id="31d3b-888">Data disks can also be Managed Disks.</span></span> <span data-ttu-id="31d3b-889">Nesse caso, Olá disco gerenciado é usado toocreate Managed novo disco antes de máquina virtual toohello anexado.</span><span class="sxs-lookup"><span data-stu-id="31d3b-889">In this case, hello Managed Disk is used toocreate a new Managed Disk before being attached toohello virtual machine.</span></span> <span data-ttu-id="31d3b-890">nome de saudação do hello disco gerenciado deve ser exclusivo dentro de um grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="31d3b-890">hello name of hello Managed Disk must be unique within a resource group.</span></span>

##### <a name="powershell"></a><span data-ttu-id="31d3b-891">Powershell</span><span class="sxs-lookup"><span data-stu-id="31d3b-891">Powershell</span></span>
<span data-ttu-id="31d3b-892">Você pode usar toocopy de cmdlets do PowerShell do Azure um VHD, conforme mostrado no [neste artigo][storage-powershell-guide-full-copy-vhd].</span><span class="sxs-lookup"><span data-stu-id="31d3b-892">You can use Azure PowerShell cmdlets toocopy a VHD as shown in [this article][storage-powershell-guide-full-copy-vhd].</span></span> <span data-ttu-id="31d3b-893">toocreate um novo disco gerenciado, use New-AzureRmDiskConfig e New-AzureRmDisk conforme mostrado no exemplo a seguir de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-893">toocreate a new Managed Disk, use New-AzureRmDiskConfig and New-AzureRmDisk as shown in hello following example.</span></span>

```powershell
$config = New-AzureRmDiskConfig -CreateOption Copy -SourceUri "/subscriptions/<subscription id>/resourceGroups/<resource group>/providers/Microsoft.Compute/disks/<disk name>" -Location <location>
New-AzureRmDisk -ResourceGroupName <resource group name> -DiskName <disk name> -Disk $config
```

##### <a name="cli-20"></a><span data-ttu-id="31d3b-894">CLI 2.0</span><span class="sxs-lookup"><span data-stu-id="31d3b-894">CLI 2.0</span></span>
<span data-ttu-id="31d3b-895">Você pode usar a CLI do Azure toocopy um VHD como mostrado na [neste artigo][storage-azure-cli-copy-blobs].</span><span class="sxs-lookup"><span data-stu-id="31d3b-895">You can use Azure CLI toocopy a VHD as shown in [this article][storage-azure-cli-copy-blobs].</span></span> <span data-ttu-id="31d3b-896">toocreate um novo disco gerenciado, use *criar disco az* conforme mostrado no exemplo a seguir de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-896">toocreate a new Managed Disk, use *az disk create* as shown in hello following example.</span></span>

```
az disk create --source "/subscriptions/<subscription id>/resourceGroups/<resource group>/providers/Microsoft.Compute/disks/<disk name>" --name <disk name> --resource-group <resource group name> --location <location>
```

##### <a name="azure-storage-tools"></a><span data-ttu-id="31d3b-897">Ferramentas do Armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-897">Azure Storage tools</span></span>
* <span data-ttu-id="31d3b-898"><http://storageexplorer.com/></span><span class="sxs-lookup"><span data-stu-id="31d3b-898"><http://storageexplorer.com/></span></span>

<span data-ttu-id="31d3b-899">Edições profissionais de Gerenciadores do Armazenamento do Azure que podem ser encontradas aqui:</span><span class="sxs-lookup"><span data-stu-id="31d3b-899">Professional editions of Azure Storage Explorers can be found here:</span></span>

* <span data-ttu-id="31d3b-900"><http://www.cerebrata.com/></span><span class="sxs-lookup"><span data-stu-id="31d3b-900"><http://www.cerebrata.com/></span></span>
* <span data-ttu-id="31d3b-901"><http://clumsyleaf.com/products/cloudxplorer></span><span class="sxs-lookup"><span data-stu-id="31d3b-901"><http://clumsyleaf.com/products/cloudxplorer></span></span>

<span data-ttu-id="31d3b-902">cópia de saudação de um VHD em uma conta de armazenamento é um processo que leva apenas alguns segundos (semelhante hardware tooSAN cria instantâneos com a cópia lenta e cópia na gravação).</span><span class="sxs-lookup"><span data-stu-id="31d3b-902">hello copy of a VHD itself within a storage account is a process which takes only a few seconds (similar tooSAN hardware creating snapshots with lazy copy and copy on write).</span></span> <span data-ttu-id="31d3b-903">Depois que você tiver uma cópia do arquivo VHD Olá anexar máquina de virtual tooa ou use-o como uma imagem tooattach copia de máquinas de toovirtual VHD hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-903">After you have a copy of hello VHD file you can attach it tooa virtual machine or use it as an image tooattach copies of hello VHD toovirtual machines.</span></span>

##### <a name="powershell"></a><span data-ttu-id="31d3b-904">Powershell</span><span class="sxs-lookup"><span data-stu-id="31d3b-904">Powershell</span></span>
```powershell
# attach a vhd tooa vm
$vm = Get-AzureRmVM -ResourceGroupName <resource group name> -Name <vm name>
$vm = Add-AzureRmVMDataDisk -VM $vm -Name newdatadisk -VhdUri <path toovhd> -Caching <caching option> -DiskSizeInGB $null -Lun <lun, for example 0> -CreateOption attach
$vm | Update-AzureRmVM

# attach a managed disk tooa vm
$vm = Get-AzureRmVM -ResourceGroupName <resource group name> -Name <vm name>
$vm = Add-AzureRmVMDataDisk -VM $vm -Name newdatadisk -ManagedDiskId <managed disk id> -Caching <caching option> -DiskSizeInGB $null -Lun <lun, for example 0> -CreateOption attach
$vm | Update-AzureRmVM

# attach a copy of hello vhd tooa vm
$vm = Get-AzureRmVM -ResourceGroupName <resource group name> -Name <vm name>
$vm = Add-AzureRmVMDataDisk -VM $vm -Name <disk name> -VhdUri <new path of vhd> -SourceImageUri <path tooimage vhd> -Caching <caching option> -DiskSizeInGB $null -Lun <lun, for example 0> -CreateOption fromImage
$vm | Update-AzureRmVM

# attach a copy of hello managed disk tooa vm
$vm = Get-AzureRmVM -ResourceGroupName <resource group name> -Name <vm name>
$diskConfig = New-AzureRmDiskConfig -Location $vm.Location -CreateOption Copy -SourceUri <source managed disk id>
$disk = New-AzureRmDisk -DiskName <disk name> -Disk $diskConfig -ResourceGroupName <resource group name>
$vm = Add-AzureRmVMDataDisk -VM $vm -Caching <caching option> -Lun <lun, for example 0> -CreateOption attach -ManagedDiskId $disk.Id
$vm | Update-AzureRmVM
```
##### <a name="cli-20"></a><span data-ttu-id="31d3b-905">CLI 2.0</span><span class="sxs-lookup"><span data-stu-id="31d3b-905">CLI 2.0</span></span>
```

# attach a vhd tooa vm
az vm unmanaged-disk attach --resource-group <resource group name> --vm-name <vm name> --vhd-uri <path toovhd>

# attach a managed disk tooa vm
az vm disk attach --resource-group <resource group name> --vm-name <vm name> --disk <managed disk id>

# attach a copy of hello vhd tooa vm
# this scenario is currently not possible with Azure CLI. A workaround is toomanually copy hello vhd toohello destination.

# attach a copy of a managed disk tooa vm
az disk create --name <new disk name> --resource-group <resource group name> --location <location of target virtual machine> --source <source managed disk id>
az vm disk attach --disk <new disk name or managed disk id> --resource-group <resource group name> --vm-name <vm name> --caching <caching option> --lun <lun, for example 0>
```

#### <span data-ttu-id="31d3b-906"><a name="9789b076-2011-4afa-b2fe-b07a8aba58a1"></a>Copiando discos entre Contas de Armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-906"><a name="9789b076-2011-4afa-b2fe-b07a8aba58a1"></a>Copying disks between Azure Storage Accounts</span></span>
<span data-ttu-id="31d3b-907">Não é possível executar esta tarefa Olá portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-907">This task cannot be performed on hello Azure portal.</span></span> <span data-ttu-id="31d3b-908">Você pode usar cmdlets do Azure PowerShell, a CLI do Azure ou um navegador de armazenamento de terceiros.</span><span class="sxs-lookup"><span data-stu-id="31d3b-908">You can use Azure PowerShell cmdlets, Azure CLI or a third-party storage browser.</span></span> <span data-ttu-id="31d3b-909">Olá cmdlets do PowerShell ou comandos CLI podem criar e gerenciar blobs, que incluem blobs de cópia Olá capacidade tooasynchronously entre contas de armazenamento e entre regiões dentro de saudação assinatura do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-909">hello PowerShell cmdlets or CLI commands can create and manage blobs, which include hello ability tooasynchronously copy blobs across Storage Accounts and across regions within hello Azure subscription.</span></span>

##### <a name="powershell"></a><span data-ttu-id="31d3b-910">Powershell</span><span class="sxs-lookup"><span data-stu-id="31d3b-910">Powershell</span></span>
<span data-ttu-id="31d3b-911">Você também pode copiar VHDs entre assinaturas.</span><span class="sxs-lookup"><span data-stu-id="31d3b-911">You can also copy VHDs between subscriptions.</span></span> <span data-ttu-id="31d3b-912">Para obter mais informações, leia [este artigo][storage-powershell-guide-full-copy-vhd].</span><span class="sxs-lookup"><span data-stu-id="31d3b-912">For more information read [this article][storage-powershell-guide-full-copy-vhd].</span></span>

<span data-ttu-id="31d3b-913">fluxo básico de saudação do hello lógica de cmdlet do PS tem esta aparência:</span><span class="sxs-lookup"><span data-stu-id="31d3b-913">hello basic flow of hello PS cmdlet logic looks like this:</span></span>

* <span data-ttu-id="31d3b-914">Criar um contexto de conta de armazenamento para Olá **fonte** conta de armazenamento com *New-AzureStorageContext* -consulte <https://msdn.microsoft.com/library/dn806380.aspx></span><span class="sxs-lookup"><span data-stu-id="31d3b-914">Create a storage account context for hello **source** storage account with *New-AzureStorageContext* - see <https://msdn.microsoft.com/library/dn806380.aspx></span></span>
* <span data-ttu-id="31d3b-915">Criar um contexto de conta de armazenamento para Olá **destino** conta de armazenamento com *New-AzureStorageContext* -consulte <https://msdn.microsoft.com/library/dn806380.aspx></span><span class="sxs-lookup"><span data-stu-id="31d3b-915">Create a storage account context for hello **target** storage account with *New-AzureStorageContext* - see <https://msdn.microsoft.com/library/dn806380.aspx></span></span>
* <span data-ttu-id="31d3b-916">Iniciar cópia de saudação com</span><span class="sxs-lookup"><span data-stu-id="31d3b-916">Start hello copy with</span></span>

```powershell
Start-AzureStorageBlobCopy -SrcBlob <source blob name> -SrcContainer <source container name> -SrcContext <variable containing context of source storage account> -DestBlob <target blob name> -DestContainer <target container name> -DestContext <variable containing context of target storage account>
```

* <span data-ttu-id="31d3b-917">Verificar o status de saudação da cópia de saudação em um loop com</span><span class="sxs-lookup"><span data-stu-id="31d3b-917">Check hello status of hello copy in a loop with</span></span>

```powershell
Get-AzureStorageBlobCopyState -Blob <target blob name> -Container <target container name> -Context <variable containing context of target storage account>
```

* <span data-ttu-id="31d3b-918">Anexe Olá nova VHD tooa máquina virtual, conforme descrito acima.</span><span class="sxs-lookup"><span data-stu-id="31d3b-918">Attach hello new VHD tooa virtual machine as described above.</span></span>

<span data-ttu-id="31d3b-919">Para obter exemplos, veja [este artigo][storage-powershell-guide-full-copy-vhd].</span><span class="sxs-lookup"><span data-stu-id="31d3b-919">For examples see [this article][storage-powershell-guide-full-copy-vhd].</span></span>

##### <a name="cli-20"></a><span data-ttu-id="31d3b-920">CLI 2.0</span><span class="sxs-lookup"><span data-stu-id="31d3b-920">CLI 2.0</span></span>
* <span data-ttu-id="31d3b-921">Iniciar cópia de saudação com</span><span class="sxs-lookup"><span data-stu-id="31d3b-921">Start hello copy with</span></span>

```
az storage blob copy start --source-blob <source blob name> --source-container <source container name> --source-account-name <source storage account name> --source-account-key <source storage account key> --destination-container <target container name> --destination-blob <target blob name> --account-name <target storage account name> --account-key <target storage account name>
```

* <span data-ttu-id="31d3b-922">Verificar o status de saudação se hello cópia em um loop com</span><span class="sxs-lookup"><span data-stu-id="31d3b-922">Check hello status if hello copy in a loop with</span></span>

```
az storage blob show --name <target blob name> --container <target container name> --account-name <target storage account name> --account-key <target storage account name>
```

* <span data-ttu-id="31d3b-923">Anexe Olá nova VHD tooa máquina virtual, conforme descrito acima.</span><span class="sxs-lookup"><span data-stu-id="31d3b-923">Attach hello new VHD tooa virtual machine as described above.</span></span>

<span data-ttu-id="31d3b-924">Para obter exemplos, veja [este artigo][storage-azure-cli-copy-blobs].</span><span class="sxs-lookup"><span data-stu-id="31d3b-924">For examples see [this article][storage-azure-cli-copy-blobs].</span></span>

### <a name="disk-handling"></a><span data-ttu-id="31d3b-925">Administração de discos</span><span class="sxs-lookup"><span data-stu-id="31d3b-925">Disk Handling</span></span>
#### <span data-ttu-id="31d3b-926"><a name="4efec401-91e0-40c0-8e64-f2dceadff646"></a>Estrutura de VM/disco para implantações SAP</span><span class="sxs-lookup"><span data-stu-id="31d3b-926"><a name="4efec401-91e0-40c0-8e64-f2dceadff646"></a>VM/disk structure for SAP deployments</span></span>
<span data-ttu-id="31d3b-927">Olá idealmente tratamento da estrutura de saudação de uma VM e discos de saudação associado devem ser bem simples.</span><span class="sxs-lookup"><span data-stu-id="31d3b-927">Ideally hello handling of hello structure of a VM and hello associated disks should be very simple.</span></span> <span data-ttu-id="31d3b-928">Em instalações locais, os clientes desenvolveram muitas formas de estruturar uma instalação de servidor.</span><span class="sxs-lookup"><span data-stu-id="31d3b-928">In on-premises installations, customers developed many ways of structuring a server installation.</span></span>

* <span data-ttu-id="31d3b-929">Um disco básico que contém Olá SO e todos os binários Olá Olá DBMS e/ou SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-929">One base disk which contains hello OS and all hello binaries of hello DBMS and/or SAP.</span></span> <span data-ttu-id="31d3b-930">Desde março de 2015, esse disco pode ser o too1TB em tamanho, em vez de restrições anteriores limitada-too127GB.</span><span class="sxs-lookup"><span data-stu-id="31d3b-930">Since March 2015, this disk can be up too1TB in size instead of earlier restrictions that limited it too127GB.</span></span>
* <span data-ttu-id="31d3b-931">Um ou vários discos que contém Olá DBMS arquivo de log do banco de dados do SAP hello e arquivo de log de saudação do hello área de armazenamento temporário de DBMS (se Olá DBMS dá suporte a isso).</span><span class="sxs-lookup"><span data-stu-id="31d3b-931">One or multiple disks which contains hello DBMS log file of hello SAP database and hello log file of hello DBMS temp storage area (if hello DBMS supports this).</span></span> <span data-ttu-id="31d3b-932">Se os requisitos de IOPS de log de banco de dados de saudação são altos, você precisa toostripe vários discos no volume de pedidos tooreach Olá IOPS necessários.</span><span class="sxs-lookup"><span data-stu-id="31d3b-932">If hello database log IOPS requirements are high, you need toostripe multiple disks in order tooreach hello IOPS volume required.</span></span>
* <span data-ttu-id="31d3b-933">Um número de discos que contém um ou dois arquivos de banco de dados do banco de dados do SAP hello e arquivos de dados temporários de DBMS Olá também (se Olá DBMS dá suporte a isso).</span><span class="sxs-lookup"><span data-stu-id="31d3b-933">A number of disks containing one or two database files of hello SAP database and hello DBMS temp data files as well (if hello DBMS supports this).</span></span>

![Configuração de referência da VM IaaS do Azure para SAP][planning-guide-figure-1300]

[comment]: <> (MShermannd TODO: descreva a estrutura do Linux )

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="31d3b-937">Windows</span><span class="sxs-lookup"><span data-stu-id="31d3b-937">Windows</span></span>
>
> <span data-ttu-id="31d3b-938">Com muitos clientes, vimos configurações em que, por exemplo, binários de DBMS e SAP não foram instalados na unidade c:\ de saudação onde hello SO estava instalado.</span><span class="sxs-lookup"><span data-stu-id="31d3b-938">With many customers we saw configurations where, for example, SAP and DBMS binaries were not installed on hello c:\ drive where hello OS was installed.</span></span> <span data-ttu-id="31d3b-939">Havia vários motivos para isso, mas quando analisamos toohello raiz, geralmente era que Olá unidades eram pequenas e atualizações do sistema operacional necessário espaço adicional 10 a 15 anos atrás.</span><span class="sxs-lookup"><span data-stu-id="31d3b-939">There were various reasons for this, but when we went back toohello root, it usually was that hello drives were small and OS upgrades needed additional space 10-15 years ago.</span></span> <span data-ttu-id="31d3b-940">Nenhuma das condições se aplica com muita frequência nos dias de hoje.</span><span class="sxs-lookup"><span data-stu-id="31d3b-940">Both conditions do not apply these days too often anymore.</span></span> <span data-ttu-id="31d3b-941">Atualmente a unidade c:\ de saudação pode ser mapeada em máquinas virtuais ou discos de grande volume.</span><span class="sxs-lookup"><span data-stu-id="31d3b-941">Today hello c:\ drive can be mapped on large volume disks or VMs.</span></span> <span data-ttu-id="31d3b-942">Em implantações de tookeep ordem simples em sua estrutura, é recomendável toofollow o seguinte padrão de implantação de sistemas SAP NetWeaver no Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-942">In order tookeep deployments simple in their structure, it is recommended toofollow the following deployment pattern for SAP NetWeaver systems in Azure</span></span>
>
> <span data-ttu-id="31d3b-943">arquivo de paginação do sistema operacional Olá Windows deve estar no hello unidade d: (disco não persistente)</span><span class="sxs-lookup"><span data-stu-id="31d3b-943">hello Windows operating system pagefile should be on hello D: drive (non-persistent disk)</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="31d3b-945">Linux</span><span class="sxs-lookup"><span data-stu-id="31d3b-945">Linux</span></span>
>
> <span data-ttu-id="31d3b-946">Colocar o arquivo de permuta Olá Linux em /mnt /mnt/Retention/ recursos no Linux conforme descrito em [neste artigo][virtual-machines-linux-agent-user-guide].</span><span class="sxs-lookup"><span data-stu-id="31d3b-946">Place hello Linux swapfile under /mnt /mnt/resource on Linux as described in [this article][virtual-machines-linux-agent-user-guide].</span></span> <span data-ttu-id="31d3b-947">arquivo de permuta Olá pode ser definido no arquivo de configuração de saudação do hello /etc/waagent.conf de agente Linux.</span><span class="sxs-lookup"><span data-stu-id="31d3b-947">hello swap file can be configured in hello configuration file of hello Linux Agent /etc/waagent.conf.</span></span> <span data-ttu-id="31d3b-948">Adicionar ou alterar Olá configurações a seguir:</span><span class="sxs-lookup"><span data-stu-id="31d3b-948">Add or change hello following settings:</span></span>
>
>

```
ResourceDisk.EnableSwap=y
ResourceDisk.SwapSizeMB=30720
```

<span data-ttu-id="31d3b-949">alterações de saudação tooactivate, você precisa toorestart Olá agente do Linux com</span><span class="sxs-lookup"><span data-stu-id="31d3b-949">tooactivate hello changes, you need toorestart hello Linux Agent with</span></span>

```
sudo service waagent restart
```

<span data-ttu-id="31d3b-950">Leia a nota SAP [1597355] para obter mais detalhes sobre Olá recomendado o tamanho do arquivo de permuta</span><span class="sxs-lookup"><span data-stu-id="31d3b-950">Please read SAP Note [1597355] for more details on hello recommended swap file size</span></span>

- - -
<span data-ttu-id="31d3b-951">número de saudação de discos usados para arquivos de dados do DBMS hello e o tipo de saudação do armazenamento do Azure esses discos são hospedados em deve ser determinado pelos requisitos de IOPS de saudação e latência de saudação necessário.</span><span class="sxs-lookup"><span data-stu-id="31d3b-951">hello number of disks used for hello DBMS data files and hello type of Azure Storage these disks are hosted on should be determined by hello IOPS requirements and hello latency required.</span></span> <span data-ttu-id="31d3b-952">Exatas cotas são descritas na [neste artigo (Linux)][virtual-machines-sizes-linux] e [neste artigo (Windows)][virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="31d3b-952">Exact quotas are described in [this article (Linux)][virtual-machines-sizes-linux] and [this article (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="31d3b-953">Experiência de implantações do SAP em Olá últimos 2 anos us ministrada algumas lições que podem ser resumidas como:</span><span class="sxs-lookup"><span data-stu-id="31d3b-953">Experience of SAP deployments over hello last 2 years taught us some lessons which can be summarized as:</span></span>

* <span data-ttu-id="31d3b-954">Arquivos de dados do IOPS tráfego toodifferent nem sempre é Olá mesmo desde sistemas existentes do cliente podem diferentemente dimensionado dados arquivos que representa a seus bancos de dados do SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-954">IOPS traffic toodifferent data files is not always hello same since existing customer systems might have differently sized data files representing their SAP database(s).</span></span> <span data-ttu-id="31d3b-955">Como resultado acontece toobe melhor usando uma configuração RAID em vários arquivos de dados Olá de discos de tooplace, que LUNs gravados fora das.</span><span class="sxs-lookup"><span data-stu-id="31d3b-955">As a result it turned out toobe better using a RAID configuration over multiple disks tooplace hello data files LUNs carved out of those.</span></span> <span data-ttu-id="31d3b-956">Não havia situações, especialmente com onde uma taxa IOPS ocorrências cota de saudação de um único disco com log de transações do DBMS de saudação padrão de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-956">There were situations, especially with Azure Standard Storage where an IOPS rate hit hello quota of a single disk against hello DBMS transaction log.</span></span> <span data-ttu-id="31d3b-957">Nesses cenários é recomendável usar Olá armazenamento Premium ou Alternativamente agregar armazenamento padrão de vários discos com um software de RAID.</span><span class="sxs-lookup"><span data-stu-id="31d3b-957">In such scenarios hello use of Premium Storage is recommended or alternatively aggregating multiple Standard Storage disks with a software RAID.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="31d3b-959">Windows</span><span class="sxs-lookup"><span data-stu-id="31d3b-959">Windows</span></span>
>
> * <span data-ttu-id="31d3b-960">[Performance best practices for SQL Server in Azure Virtual Machines][virtual-machines-sql-server-performance-best-practices] (Práticas recomendadas de desempenho para o SQL Server em Máquinas Virtuais do Azure)</span><span class="sxs-lookup"><span data-stu-id="31d3b-960">[Performance best practices for SQL Server in Azure Virtual Machines][virtual-machines-sql-server-performance-best-practices]</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="31d3b-962">Linux</span><span class="sxs-lookup"><span data-stu-id="31d3b-962">Linux</span></span>
>
> * <span data-ttu-id="31d3b-963">[Configurar RAID de software no Linux][virtual-machines-linux-configure-raid]</span><span class="sxs-lookup"><span data-stu-id="31d3b-963">[Configure Software RAID on Linux][virtual-machines-linux-configure-raid]</span></span>
> * <span data-ttu-id="31d3b-964">[Configurar o LVM em uma VM Linux no Azure][virtual-machines-linux-configure-lvm]</span><span class="sxs-lookup"><span data-stu-id="31d3b-964">[Configure LVM on a Linux VM in Azure][virtual-machines-linux-configure-lvm]</span></span>
> * [<span data-ttu-id="31d3b-965">Segredos do Armazenamento do Azure e otimizações de E/S do Linux</span><span class="sxs-lookup"><span data-stu-id="31d3b-965">Azure Storage secrets and Linux I/O optimizations</span></span>](http://blogs.msdn.com/b/igorpag/archive/2014/10/23/azure-storage-secrets-and-linux-i-o-optimizations.aspx)
>
>

- - -
* <span data-ttu-id="31d3b-966">O Armazenamento Premium está apresentando desempenho significativamente melhor, especialmente para gravações de log de transações críticas.</span><span class="sxs-lookup"><span data-stu-id="31d3b-966">Premium Storage is showing significant better performance, especially for critical transaction log writes.</span></span> <span data-ttu-id="31d3b-967">Para cenários SAP que são produção toodeliver esperado como o desempenho, é altamente recomendável toouse série de VM que pode aproveitar o armazenamento Premium do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-967">For SAP scenarios that are expected toodeliver production like performance, it is highly recommended toouse VM-Series that can leverage Azure Premium Storage.</span></span>

<span data-ttu-id="31d3b-968">Tenha em mente disco Olá que contém Olá SO e conforme Recomendamos, hello binários do banco de dados do SAP e hello (VM de base), não está mais limitado too127GB.</span><span class="sxs-lookup"><span data-stu-id="31d3b-968">Keep in mind that hello disk which contains hello OS, and as we recommend, hello binaries of SAP and hello database (base VM) as well, is not anymore limited too127GB.</span></span> <span data-ttu-id="31d3b-969">Ela agora pode ter até too1TB em tamanho.</span><span class="sxs-lookup"><span data-stu-id="31d3b-969">It now can have up too1TB in size.</span></span> <span data-ttu-id="31d3b-970">Isso deve ser suficiente tookeep espaço que todos Olá arquivo necessário incluir, por exemplo, os logs de trabalho em lotes do SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-970">This should be enough space tookeep all hello necessary file including, for example, SAP batch job logs.</span></span>

<span data-ttu-id="31d3b-971">Para mais sugestões e detalhes especificamente sobre VMs de DBMS, consulte Olá [guia de implantação de DBMS][dbms-guide]</span><span class="sxs-lookup"><span data-stu-id="31d3b-971">For more suggestions and more details, specifically for DBMS VMs, please consult hello [DBMS Deployment Guide][dbms-guide]</span></span>

#### <a name="disk-handling"></a><span data-ttu-id="31d3b-972">Administração de discos</span><span class="sxs-lookup"><span data-stu-id="31d3b-972">Disk Handling</span></span>
<span data-ttu-id="31d3b-973">Na maioria dos cenários, é necessário toocreate outros discos no banco de dados do pedido toodeploy Olá SAP em Olá VM.</span><span class="sxs-lookup"><span data-stu-id="31d3b-973">In most scenarios you need toocreate additional disks in order toodeploy hello SAP database into hello VM.</span></span> <span data-ttu-id="31d3b-974">Falamos sobre considerações de saudação no número de discos no capítulo [estrutura VM/disco para implantações SAP] [ planning-guide-5.5.1] deste documento.</span><span class="sxs-lookup"><span data-stu-id="31d3b-974">We talked about hello considerations on number of disks in chapter [VM/disk structure for SAP deployments][planning-guide-5.5.1] of this document.</span></span> <span data-ttu-id="31d3b-975">Olá portal do Azure permite tooattach e desvincular discos depois que uma VM de base é implantada.</span><span class="sxs-lookup"><span data-stu-id="31d3b-975">hello Azure portal allows tooattach and detach disks once a base VM is deployed.</span></span> <span data-ttu-id="31d3b-976">discos de saudação podem ser vinculados/desvinculados quando Olá VM está instalado e em execução, bem como quando ele é interrompido.</span><span class="sxs-lookup"><span data-stu-id="31d3b-976">hello disks can be attached/detached when hello VM is up and running as well as when it is stopped.</span></span> <span data-ttu-id="31d3b-977">Ao anexar um disco, hello portal do Azure oferece tooattach um disco vazio ou um disco existente que neste momento não é anexado tooanother VM.</span><span class="sxs-lookup"><span data-stu-id="31d3b-977">When attaching a disk, hello Azure portal offers tooattach an empty disk or an existing disk which at this point in time is not attached tooanother VM.</span></span>

<span data-ttu-id="31d3b-978">**Observação**: discos só podem ser anexado tooone VM em um determinado momento.</span><span class="sxs-lookup"><span data-stu-id="31d3b-978">**Note**: Disks can only be attached tooone VM at any given time.</span></span>

![Anexar/desanexar discos do Armazenamento Standard do Azure][planning-guide-figure-1400]

<span data-ttu-id="31d3b-980">Durante a implantação de saudação de uma nova máquina virtual, você pode decidir se deseja toouse gerenciados discos ou colocar os discos em contas de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-980">During hello deployment of a new virtual machine, you can decide whether you want toouse Managed Disks or place your disks on Azure Storage Accounts.</span></span> <span data-ttu-id="31d3b-981">Se você quiser toouse armazenamento Premium, é recomendável usar discos gerenciados.</span><span class="sxs-lookup"><span data-stu-id="31d3b-981">If you want toouse Premium Storage, we recommend using Managed Disks.</span></span>

<span data-ttu-id="31d3b-982">Em seguida, você precisa toodecide se você quiser toocreate um disco novo e vazio ou se você quer tooselect um disco existente que foi carregado anteriormente e deve ser anexado toohello VM agora.</span><span class="sxs-lookup"><span data-stu-id="31d3b-982">Next, you need toodecide whether you want toocreate a new and empty disk or whether you want tooselect an existing disk that was uploaded earlier and should be attached toohello VM now.</span></span>

<span data-ttu-id="31d3b-983">**IMPORTANTE**: você **não** deseja toouse Caching do Host com o armazenamento padrão do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-983">**IMPORTANT**: You **DO NOT** want toouse Host Caching with Azure Standard Storage.</span></span> <span data-ttu-id="31d3b-984">Você deve deixar a preferência de Cache de Host de saudação padrão Olá nenhum.</span><span class="sxs-lookup"><span data-stu-id="31d3b-984">You should leave hello Host Cache preference at hello default of NONE.</span></span> <span data-ttu-id="31d3b-985">Com o armazenamento do Azure Premium você deve habilitar o cache de leitura se a característica de e/s de saudação principalmente é lido como o tráfego de e/s comum em arquivos de dados do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="31d3b-985">With Azure Premium Storage you should enable Read Caching if hello I/O characteristic is mostly read like typical I/O traffic against database data files.</span></span> <span data-ttu-id="31d3b-986">No caso do arquivo de log de transações do banco de dados, é recomendado usar a opção sem cache.</span><span class="sxs-lookup"><span data-stu-id="31d3b-986">In case of database transaction log file no caching is recommended.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="31d3b-988">Windows</span><span class="sxs-lookup"><span data-stu-id="31d3b-988">Windows</span></span>
>
> <span data-ttu-id="31d3b-989">[Como tooattach dados de um disco em Olá portal do Azure][virtual-machines-linux-attach-disk-portal]</span><span class="sxs-lookup"><span data-stu-id="31d3b-989">[How tooattach a data disk in hello Azure portal][virtual-machines-linux-attach-disk-portal]</span></span>
>
> <span data-ttu-id="31d3b-990">Se discos forem vinculados, você precisa toolog em Olá tooopen da VM toohello Gerenciador de disco do Windows.</span><span class="sxs-lookup"><span data-stu-id="31d3b-990">If disks are attached, you need toolog in toohello VM tooopen hello Windows Disk Manager.</span></span> <span data-ttu-id="31d3b-991">Se a montagem automática não está habilitada conforme recomendado capítulo [definindo a montagem automática para discos anexados][planning-guide-5.5.3], volume recém-vinculado hello precisa toobe colocado online e inicializados.</span><span class="sxs-lookup"><span data-stu-id="31d3b-991">If automount is not enabled as recommended in chapter [Setting automount for attached disks][planning-guide-5.5.3], hello newly attached volume needs toobe taken online and initialized.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="31d3b-993">Linux</span><span class="sxs-lookup"><span data-stu-id="31d3b-993">Linux</span></span>
>
> <span data-ttu-id="31d3b-994">Se discos forem vinculados, você precisa toolog em toohello VM e inicializar discos hello, conforme descrito em [neste artigo][virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux]</span><span class="sxs-lookup"><span data-stu-id="31d3b-994">If disks are attached, you need toolog in toohello VM and initialize hello disks as described in [this article][virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux]</span></span>
>
>

- - -
<span data-ttu-id="31d3b-995">Se Olá novo disco for um disco vazio, será necessário tooformat Olá disco também.</span><span class="sxs-lookup"><span data-stu-id="31d3b-995">If hello new disk is an empty disk, you need tooformat hello disk as well.</span></span> <span data-ttu-id="31d3b-996">Para formatação, especialmente para DBMS, arquivos de log e dados Olá mesmas recomendações sobre implantações bare-metal de saudação que DBMS se aplicam.</span><span class="sxs-lookup"><span data-stu-id="31d3b-996">For formatting, especially for DBMS data and log files hello same recommendations as for bare-metal deployments of hello DBMS apply.</span></span>

<span data-ttu-id="31d3b-997">Como já mencionado no capítulo [Olá conceito de máquina Virtual do Microsoft Azure][planning-guide-3.2], uma conta de armazenamento do Azure não oferece recursos ilimitados em termos de volume de e/s, IOPS e volume de dados.</span><span class="sxs-lookup"><span data-stu-id="31d3b-997">As already mentioned in chapter [hello Microsoft Azure Virtual Machine Concept][planning-guide-3.2], an Azure Storage account does not provide infinite resources in terms of I/O volume, IOPS and data volume.</span></span> <span data-ttu-id="31d3b-998">Geralmente as VMs de DBMS são mais afetadas por isso.</span><span class="sxs-lookup"><span data-stu-id="31d3b-998">Usually DBMS VMs are most affected by this.</span></span> <span data-ttu-id="31d3b-999">Talvez seja melhor toouse uma conta de armazenamento separada para cada VM se você tiver poucos toodeploy alta de VMs de volume e/s em ordem toostay no limite de saudação de saudação volume de conta de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-999">It might be best toouse a separate Storage Account for each VM if you have few high I/O volume VMs toodeploy in order toostay within hello limit of hello Azure Storage Account volume.</span></span> <span data-ttu-id="31d3b-1000">Caso contrário, será necessário toosee como equilibrará essas VMs entre diferentes contas de armazenamento sem atingir o limite de saudação de cada conta de armazenamento único.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1000">Otherwise, you need toosee how you can balance these VMs between different Storage accounts without hitting hello limit of each single Storage Account.</span></span> <span data-ttu-id="31d3b-1001">Mais detalhes são abordados em Olá [guia de implantação de DBMS][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="31d3b-1001">More details are discussed in hello [DBMS Deployment Guide][dbms-guide].</span></span> <span data-ttu-id="31d3b-1002">Você também deve ter essas limitações em mente para VMs de servidor de aplicativos SAP puro ou outras VMs que eventualmente possam exigir VHDs adicionais.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1002">You should also keep these limitations in mind for pure SAP application server VMs or other VMs which eventually might require additional VHDs.</span></span> <span data-ttu-id="31d3b-1003">Essas restrições não se aplicam se você usar o Managed Disk.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1003">These restrictions do not apply if you use Managed Disk.</span></span> <span data-ttu-id="31d3b-1004">Se você planejar toouse armazenamento Premium, é recomendável usar o disco gerenciado.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1004">If you plan toouse Premium Storage, we recommend using Managed Disk.</span></span>

<span data-ttu-id="31d3b-1005">Outro tópico é relevante para contas de armazenamento é se Olá VHDs em uma conta de armazenamento são replicados geograficamente.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1005">Another topic which is relevant for Storage Accounts is whether hello VHDs in a Storage Account are getting Geo-replicated.</span></span> <span data-ttu-id="31d3b-1006">Replicação geográfica está habilitada ou desabilitada em Olá nível da conta de armazenamento e não em Olá nível da VM.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1006">Geo-replication is enabled or disabled on hello Storage Account level and not on hello VM level.</span></span> <span data-ttu-id="31d3b-1007">Se a replicação geográfica estiver habilitada, Olá VHDs em Olá em que conta de armazenamento será replicada para outro data center do Azure Olá mesma região.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1007">If geo-replication is enabled, hello VHDs within hello Storage Account would be replicated into another Azure data center within hello same region.</span></span> <span data-ttu-id="31d3b-1008">Antes de decidir sobre isso, você deve considerar Olá restrição a seguir:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1008">Before deciding on this, you should think about hello following restriction:</span></span>

<span data-ttu-id="31d3b-1009">Replicação geográfica do Azure funciona localmente em cada VHD em uma máquina virtual e não replica Olá IOs em ordem cronológica entre vários VHDs em uma máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1009">Azure Geo-replication works locally on each VHD in a VM and does not replicate hello IOs in chronological order across multiple VHDs in a VM.</span></span> <span data-ttu-id="31d3b-1010">Portanto, Olá VHD que representa Olá VM de base, bem como qualquer toohello de VHDs anexados VMs adicional são replicadas independentes um do outro.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1010">Therefore, hello VHD that represents hello base VM as well as any additional VHDs attached toohello VM are replicated independent of each other.</span></span> <span data-ttu-id="31d3b-1011">Isso significa que não há nenhuma sincronização entre alterações Olá Olá diferentes VHDs.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1011">This means there is no synchronization between hello changes in hello different VHDs.</span></span> <span data-ttu-id="31d3b-1012">Olá fato Olá IOs são replicadas independentemente da ordem de saudação na qual eles são gravados significa que a replicação geográfica não é do valor para os servidores de banco de dados com bancos de dados distribuídos entre vários VHDs.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1012">hello fact that hello IOs are replicated independently of hello order in which they are written means that geo-replication is not of value for database servers that have their databases distributed over multiple VHDs.</span></span> <span data-ttu-id="31d3b-1013">Em adição toohello DBMS, também pode haver outros aplicativos em que os processos gravam ou manipulam dados em diferentes VHDs e onde é importante tookeep Olá ordem das alterações.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1013">In addition toohello DBMS, there also might be other applications where processes write or manipulate data in different VHDs and where it is important tookeep hello order of changes.</span></span> <span data-ttu-id="31d3b-1014">Se isso for um requisito, a replicação geográfica no Azure não deverá ser habilitada.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1014">If that is a requirement, geo-replication in Azure should not be enabled.</span></span> <span data-ttu-id="31d3b-1015">Dependendo de você precisar/querer ou não a replicação geográfica para um conjunto de VMs, mas não para outro conjunto, você já pode categorizar VMs e os VHDs relacionados a elas em diferentes Contas de Armazenamento com replicação geográfica habilitada ou desabilitada.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1015">Dependent on whether you need or want geo-replication for a set of VMs, but not for another set, you can already categorize VMs and their related VHDs into different Storage Accounts that have geo-replication enabled or disabled.</span></span>

#### <span data-ttu-id="31d3b-1016"><a name="17e0d543-7e8c-4160-a7da-dd7117a1ad9d"></a>Definindo a montagem automática para os discos anexados</span><span class="sxs-lookup"><span data-stu-id="31d3b-1016"><a name="17e0d543-7e8c-4160-a7da-dd7117a1ad9d"></a>Setting automount for attached disks</span></span>
- - -
> ![Windows][Logo_Windows] <span data-ttu-id="31d3b-1018">Windows</span><span class="sxs-lookup"><span data-stu-id="31d3b-1018">Windows</span></span>
>
> <span data-ttu-id="31d3b-1019">Para VMs que são criadas a partir de imagens ou discos próprios, é necessário toocheck e possivelmente definir parâmetro de montagem automática de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1019">For VMs which are created from own Images or Disks, it is necessary toocheck and possibly set hello automount parameter.</span></span> <span data-ttu-id="31d3b-1020">A definição desse parâmetro permitirá Olá VM após uma reinicialização ou reimplantação no Azure toomount Olá anexado/unidades montadas novamente automaticamente.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1020">Setting this parameter will allow hello VM after a restart or redeployment in Azure toomount hello attached/mounted drives again automatically.</span></span>
> <span data-ttu-id="31d3b-1021">Olá parâmetro é definido para Olá imagens fornecidas pela Microsoft hello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1021">hello parameter is set for hello images provided by Microsoft in hello Azure Marketplace.</span></span>
>
> <span data-ttu-id="31d3b-1022">Em ordem tooset Olá montagem automática, consulte a documentação de saudação de saudação de linha de comando executável diskpart.exe aqui:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1022">In order tooset hello automount, please check hello documentation of hello command-line executable diskpart.exe here:</span></span>
>
> * [<span data-ttu-id="31d3b-1023">Opções de linha de comando do DiskPart</span><span class="sxs-lookup"><span data-stu-id="31d3b-1023">DiskPart Command-Line Options</span></span>](https://technet.microsoft.com/library/bb490893.aspx)
> * [<span data-ttu-id="31d3b-1024">Montagem automática</span><span class="sxs-lookup"><span data-stu-id="31d3b-1024">Automount</span></span>](http://technet.microsoft.com/library/cc753703.aspx)
>
> <span data-ttu-id="31d3b-1025">janela de linha de comando do Windows Hello deve ser aberta como administrador.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1025">hello Windows command-line window should be opened as administrator.</span></span>
>
> <span data-ttu-id="31d3b-1026">Se discos forem vinculados, você precisa toolog em Olá tooopen da VM toohello Gerenciador de disco do Windows.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1026">If disks are attached, you need toolog in toohello VM tooopen hello Windows Disk Manager.</span></span> <span data-ttu-id="31d3b-1027">Se a montagem automática não está habilitada conforme recomendado capítulo [definindo a montagem automática para discos anexados][planning-guide-5.5.3], Olá recentemente anexado volume > precisa toobe colocado online e inicializados.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1027">If automount is not enabled as recommended in chapter [Setting automount for attached disks][planning-guide-5.5.3],  hello newly attached volume >needs toobe taken online and initialized.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="31d3b-1029">Linux</span><span class="sxs-lookup"><span data-stu-id="31d3b-1029">Linux</span></span>
>
> <span data-ttu-id="31d3b-1030">Você precisa tooinitialize um disco vazio anexado recentemente, conforme descrito em [neste artigo][virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux].</span><span class="sxs-lookup"><span data-stu-id="31d3b-1030">You need tooinitialize a newly attached empty disk as described in [this article][virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux].</span></span>
> <span data-ttu-id="31d3b-1031">Você também precisa tooadd novos discos toohello /etc/fstab.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1031">You also need tooadd new disks toohello /etc/fstab.</span></span>
>
>

- - -
### <a name="final-deployment"></a><span data-ttu-id="31d3b-1032">Implantação final</span><span class="sxs-lookup"><span data-stu-id="31d3b-1032">Final Deployment</span></span>
<span data-ttu-id="31d3b-1033">Para Olá implantação final e as etapas exatas, especialmente com relação toohello implantação de SAP estendidos monitoramento, consulte toohello [guia de implantação][deployment-guide].</span><span class="sxs-lookup"><span data-stu-id="31d3b-1033">For hello final deployment and exact steps, especially with regards toohello deployment of SAP Extended Monitoring, please refer toohello [Deployment Guide][deployment-guide].</span></span>

## <a name="accessing-sap-systems-running-within-azure-vms"></a><span data-ttu-id="31d3b-1034">Acessando sistemas SAP em execução nas VMs do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-1034">Accessing SAP systems running within Azure VMs</span></span>
<span data-ttu-id="31d3b-1035">Para cenários de nuvem, talvez você queira sistemas SAP toothose tooconnect em Olá internet pública usando a GUI do SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1035">For Cloud-Only scenarios, you might want tooconnect toothose SAP systems across hello public internet using SAP GUI.</span></span> <span data-ttu-id="31d3b-1036">Para esses casos, hello procedimentos a seguir necessário toobe aplicado.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1036">For these cases, hello following procedures need toobe applied.</span></span>

<span data-ttu-id="31d3b-1037">Documento hello, discutiremos Olá outro cenário principal, conectar sistemas tooSAP em implantações entre locais que têm uma conexão site a site (túnel VPN) ou conexão de rota expressa do Azure entre sistemas de local de saudação e do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1037">Later in hello document we will discuss hello other major scenario, connecting tooSAP systems in cross-premises deployments which have a site-to-site connection (VPN tunnel) or Azure ExpressRoute connection between hello on-premises systems and Azure systems.</span></span>

### <a name="remote-access-toosap-systems"></a><span data-ttu-id="31d3b-1038">Sistemas de tooSAP de acesso remotos</span><span class="sxs-lookup"><span data-stu-id="31d3b-1038">Remote Access tooSAP systems</span></span>
<span data-ttu-id="31d3b-1039">Com o Azure Resource Manager há sem pontos de extremidade padrão mais como Olá antiga clássico modelo.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1039">With Azure Resource Manager there are no default endpoints anymore like in hello former classic model.</span></span> <span data-ttu-id="31d3b-1040">Todas as portas de uma VM do Azure ARM permanecem abertas desde que:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1040">All ports of an Azure ARM VM are open as long as:</span></span>

1. <span data-ttu-id="31d3b-1041">Nenhum grupo de segurança de rede é definido para a sub-rede de saudação ou interface de rede de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1041">No Network Security Group is defined for hello subnet or hello network interface.</span></span> <span data-ttu-id="31d3b-1042">Tráfego de rede tooAzure VMs pode ser protegido por meio de chamadas "grupos de segurança de rede".</span><span class="sxs-lookup"><span data-stu-id="31d3b-1042">Network traffic tooAzure VMs can be secured via so-called "Network Security Groups".</span></span> <span data-ttu-id="31d3b-1043">Para obter mais informações, consulte [O que é um NSG (Grupo de Segurança de Rede)?][virtual-networks-nsg]</span><span class="sxs-lookup"><span data-stu-id="31d3b-1043">For more information see [What is a Network Security Group (NSG)?][virtual-networks-nsg]</span></span>
2. <span data-ttu-id="31d3b-1044">Nenhum balanceador de carga do Azure é definido para a interface de rede Olá</span><span class="sxs-lookup"><span data-stu-id="31d3b-1044">No Azure Load Balancer is defined for hello network interface</span></span>   

<span data-ttu-id="31d3b-1045">Ver a diferença de arquitetura de saudação entre o modelo clássico e ARM conforme descrito em [neste artigo][virtual-machines-azure-resource-manager-architecture].</span><span class="sxs-lookup"><span data-stu-id="31d3b-1045">See hello architecture difference between classic model and ARM as described in [this article][virtual-machines-azure-resource-manager-architecture].</span></span>

#### <a name="configuration-of-hello-sap-system-and-sap-gui-connectivity-for-cloud-only-scenario"></a><span data-ttu-id="31d3b-1046">Configuração de saudação conectividade de sistema SAP e SAP GUI para o cenário de nuvem</span><span class="sxs-lookup"><span data-stu-id="31d3b-1046">Configuration of hello SAP System and SAP GUI connectivity for Cloud-Only scenario</span></span>
<span data-ttu-id="31d3b-1047">Consulte este artigo que descreve o tópico de toothis detalhes: <http://blogs.msdn.com/b/saponsqlserver/archive/2014/06/24/sap-gui-connection-closed-when-connecting-to-sap-system-in-azure.aspx></span><span class="sxs-lookup"><span data-stu-id="31d3b-1047">Please see this article which describes details toothis topic: <http://blogs.msdn.com/b/saponsqlserver/archive/2014/06/24/sap-gui-connection-closed-when-connecting-to-sap-system-in-azure.aspx></span></span>

#### <a name="changing-firewall-settings-within-vm"></a><span data-ttu-id="31d3b-1048">Alterando as configurações de Firewall na VM</span><span class="sxs-lookup"><span data-stu-id="31d3b-1048">Changing Firewall Settings within VM</span></span>
<span data-ttu-id="31d3b-1049">Talvez seja necessário tooconfigure firewall Olá tooallow suas máquinas virtuais tráfego tooyour SAP sistema de entrada.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1049">It might be necessary tooconfigure hello firewall on your virtual machines tooallow inbound traffic tooyour SAP system.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="31d3b-1051">Windows</span><span class="sxs-lookup"><span data-stu-id="31d3b-1051">Windows</span></span>
>
> <span data-ttu-id="31d3b-1052">Por padrão, a saudação Firewall do Windows em uma VM implantada do Azure é ativada.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1052">By default, hello Windows Firewall within an Azure deployed VM is turned on.</span></span> <span data-ttu-id="31d3b-1053">Agora, você precisa tooallow Olá porta SAP toobe aberto, caso contrário Olá SAP GUI não será capaz de tooconnect.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1053">You now need tooallow hello SAP Port toobe opened, otherwise hello SAP GUI will not be able tooconnect.</span></span>
> <span data-ttu-id="31d3b-1054">toodo isso:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1054">toodo this:</span></span>
>
> * <span data-ttu-id="31d3b-1055">Abra o controle de painel de controle\sistema e segurança \ Firewall too'Advanced configurações.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1055">Open Control Panel\System and Security\Windows Firewall too‘Advanced Settings’.</span></span>
> * <span data-ttu-id="31d3b-1056">Agora, clique com o botão direito do mouse em Regras de Entrada e escolha “Nova Regra”.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1056">Now right-click on Inbound Rules and chose ‘New Rule’.</span></span>
> * <span data-ttu-id="31d3b-1057">Olá o seguinte assistente escolheu toocreate uma nova regra de 'porta do '.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1057">In hello following Wizard chose toocreate a new ‘Port’ rule.</span></span>
> * <span data-ttu-id="31d3b-1058">Na próxima etapa do assistente Olá Olá, deixe Olá configuração TCP e o tipo de número de porta Olá que você deseja tooopen.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1058">In hello next step of hello wizard, leave hello setting at TCP and type in hello port number you want tooopen.</span></span> <span data-ttu-id="31d3b-1059">Como a ID da nossa instância SAP é 00, usamos 3200.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1059">Since our SAP instance ID is 00, we took 3200.</span></span> <span data-ttu-id="31d3b-1060">Se a instância tiver um número diferente de instância, porta Olá você definiu anteriormente com base no número de instância Olá deve ser aberta.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1060">If your instance has a different instance number, hello port you defined earlier based on hello instance number should be opened.</span></span>
> * <span data-ttu-id="31d3b-1061">A próxima parte do Assistente de Olá Olá, é necessário tooleave item de saudação 'Permitir Conexão' verificada.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1061">In hello next part of hello wizard, you need tooleave hello item ‘Allow Connection’ checked.</span></span>
> * <span data-ttu-id="31d3b-1062">A próxima etapa saudação do Assistente de saudação precisar toodefine se Olá regra aplica-se para a rede de domínio, privado e público.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1062">In hello next step of hello wizard you need toodefine whether hello rule applies for Domain, Private and Public network.</span></span> <span data-ttu-id="31d3b-1063">Faça o ajuste precisa tooyour necessário.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1063">Please adjust it if necessary tooyour needs.</span></span> <span data-ttu-id="31d3b-1064">No entanto, se conectando com a SAP GUI de saudação fora da rede pública Olá, é necessário rede pública do toohello toohave Olá regra aplicada.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1064">However, connecting with SAP GUI from hello outside through hello public network, you need toohave hello rule applied toohello public network.</span></span>
> * <span data-ttu-id="31d3b-1065">A última etapa do assistente Olá Olá, nome da regra de saudação e pressione 'Concluir' para salvar</span><span class="sxs-lookup"><span data-stu-id="31d3b-1065">In hello last step of hello wizard, name hello rule and save by pressing ‘Finish’</span></span>
>
> <span data-ttu-id="31d3b-1066">Olá regra entrará em vigor imediatamente.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1066">hello rule becomes effective immediately.</span></span>
>
> ![Definição da regra de porta][planning-guide-figure-1600]
>
> ![Linux][Logo_Linux] <span data-ttu-id="31d3b-1069">Linux</span><span class="sxs-lookup"><span data-stu-id="31d3b-1069">Linux</span></span>
>
> <span data-ttu-id="31d3b-1070">imagens Linux Olá Olá Azure Marketplace não habilitar o firewall de iptables de saudação por padrão e sistema SAP Olá conexão tooyour deve funcionar.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1070">hello Linux images in hello Azure Marketplace do not enable hello iptables firewall by default and hello connection tooyour SAP system should work.</span></span> <span data-ttu-id="31d3b-1071">Se você tiver habilitado iptables ou outro firewall, consulte a documentação toohello de iptables ou Olá usado firewall tooallow tráfego tcp de entrada muito porta 32xx (onde xx é o número de sistema de saudação do sistema SAP).</span><span class="sxs-lookup"><span data-stu-id="31d3b-1071">If you enabled iptables or another firewall, please refer toohello documentation of iptables or hello used firewall tooallow inbound tcp traffic too port 32xx (where xx is hello system number of your SAP system).</span></span>
>
>

- - -
#### <a name="security-recommendations"></a><span data-ttu-id="31d3b-1072">Recomendações de segurança</span><span class="sxs-lookup"><span data-stu-id="31d3b-1072">Security recommendations</span></span>
<span data-ttu-id="31d3b-1073">Olá SAP GUI não se conecta imediatamente tooany Olá de instâncias do SAP (porta 32xx) que estão em execução, mas primeiro se conecta por meio de saudação porta aberta toohello SAP mensagem processo do servidor (porta 36xx).</span><span class="sxs-lookup"><span data-stu-id="31d3b-1073">hello SAP GUI does not connect immediately tooany of hello SAP instances (port 32xx) which are running, but first connects via hello port opened toohello SAP message server process (port 36xx).</span></span> <span data-ttu-id="31d3b-1074">Olá após Olá mesma porta foi usado por servidor de mensagens de saudação para instâncias de aplicativo de toohello Olá comunicação interna.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1074">In hello past hello very same port was used by hello message server for hello internal communication toohello application instances.</span></span> <span data-ttu-id="31d3b-1075">tooprevent aplicativo servidores locais inadvertidamente se comunique com um servidor de mensagens no Azure Olá interna portas de comunicação podem ser alteradas.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1075">tooprevent on-premises application servers from inadvertently communicating with a message server in Azure hello internal communication ports can be changed.</span></span> <span data-ttu-id="31d3b-1076">É altamente recomendável comunicação interna do hello toochange entre o servidor de mensagens SAP hello e seu número de porta diferente do aplicativo instâncias tooa em sistemas que foram clonados a partir de sistemas locais, como um clone de desenvolvimento para projeto de teste etc. Isso pode ser feito com o parâmetro de perfil de padrão de saudação:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1076">It is highly recommended toochange hello internal communication between hello SAP message server and its application instances tooa different port number on systems that have been cloned from on-premises systems, such as a clone of development for project testing etc. This can be done with hello default profile parameter:</span></span>

> <span data-ttu-id="31d3b-1077">rdisp/msserv_internal</span><span class="sxs-lookup"><span data-stu-id="31d3b-1077">rdisp/msserv_internal</span></span>
>
>

<span data-ttu-id="31d3b-1078">conforme documentado no [configurações de segurança para Olá servidor de mensagens SAP](https://help.sap.com/saphelp_nwpi71/helpdata/en/47/c56a6938fb2d65e10000000a42189c/content.htm)</span><span class="sxs-lookup"><span data-stu-id="31d3b-1078">as documented in [Security Settings for hello SAP Message Server ](https://help.sap.com/saphelp_nwpi71/helpdata/en/47/c56a6938fb2d65e10000000a42189c/content.htm)</span></span>

## <span data-ttu-id="31d3b-1079"><a name="96a77628-a05e-475d-9df3-fb82217e8f14"></a>Conceitos de implantação somente em nuvem de instâncias do SAP</span><span class="sxs-lookup"><span data-stu-id="31d3b-1079"><a name="96a77628-a05e-475d-9df3-fb82217e8f14"></a>Concepts of Cloud-Only deployment of SAP instances</span></span>
### <span data-ttu-id="31d3b-1080"><a name="3e9c3690-da67-421a-bc3f-12c520d99a30"></a>Cenário de treinamento/demonstração de VM única com SAP NetWeaver</span><span class="sxs-lookup"><span data-stu-id="31d3b-1080"><a name="3e9c3690-da67-421a-bc3f-12c520d99a30"></a>Single VM with SAP NetWeaver demo/training scenario</span></span>
![Executando sistemas de demonstração SAP VM únicos com hello nomes iguais, isolados em serviços de nuvem do Azure][planning-guide-figure-1700]

<span data-ttu-id="31d3b-1082">Neste cenário (consulte o capítulo [somente em nuvem] [ planning-guide-2.1] deste documento), implementaremos um cenário de sistema de treinamento/demonstração típico em que o cenário de treinamento/demonstração completo hello está contido em uma única VM.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1082">In this scenario (see chapter [Cloud-Only][planning-guide-2.1] of this document) we are implementing a typical training/demo system scenario where hello complete training/demo scenario is contained in a single VM.</span></span> <span data-ttu-id="31d3b-1083">Vamos supor que a implantação de saudação é feita por meio de modelos de imagem VM.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1083">We assume that hello deployment is done through VM image templates.</span></span> <span data-ttu-id="31d3b-1084">Também pressupomos que várias essas toobe de necessidade de VMs demonstração/treinamento implantado com hello VMs com hello mesmo nome.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1084">We also assume that multiple of these demo/trainings VMs need toobe deployed with hello VMs having hello same name.</span></span>

<span data-ttu-id="31d3b-1085">Olá pressupõe-se que você criou uma imagem de VM, conforme descrito em algumas seções do capítulo [Preparando VMs com SAP para o Azure] [ planning-guide-5.2] neste documento.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1085">hello assumption is that you created a VM Image as described in some sections of chapter [Preparing VMs with SAP for Azure][planning-guide-5.2] in this document.</span></span>

<span data-ttu-id="31d3b-1086">sequência de saudação do cenário de saudação tooimplement eventos tem esta aparência:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1086">hello sequence of events tooimplement hello scenario looks like this:</span></span>

##### <a name="powershell"></a><span data-ttu-id="31d3b-1087">Powershell</span><span class="sxs-lookup"><span data-stu-id="31d3b-1087">Powershell</span></span>
* <span data-ttu-id="31d3b-1088">Criar um novo grupo de recursos para cada estrutura de treinamento/demonstração</span><span class="sxs-lookup"><span data-stu-id="31d3b-1088">Create a new resource group for every training/demo landscape</span></span>

```powershell
$rgName = "SAPERPDemo1"
New-AzureRmResourceGroup -Name $rgName -Location "North Europe"
```
* <span data-ttu-id="31d3b-1089">Criar uma nova conta de armazenamento se você não quiser toouse gerenciados discos</span><span class="sxs-lookup"><span data-stu-id="31d3b-1089">Create a new storage account if you don't want toouse Managed Disks</span></span>

```powershell
$suffix = Get-Random -Minimum 100000 -Maximum 999999
$account = New-AzureRmStorageAccount -ResourceGroupName $rgName -Name "saperpdemo$suffix" -SkuName Standard_LRS -Kind "Storage" -Location "North Europe"
```

* <span data-ttu-id="31d3b-1090">Criar uma nova rede virtual para cada uso treinamento/demonstração paisagem tooenable Olá Olá mesmo nome de host e endereços IP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1090">Create a new virtual network for every training/demo landscape tooenable hello usage of hello same hostname and IP addresses.</span></span> <span data-ttu-id="31d3b-1091">rede virtual Olá é protegido por um grupo de segurança de rede que só permite o acesso de área de trabalho remota do tráfego tooport tooenable 3389 e porta 22 SSH.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1091">hello virtual network is protected by a Network Security Group that only allows traffic tooport 3389 tooenable Remote Desktop access and port 22 for SSH.</span></span>

```powershell
# Create a new Virtual Network
$rdpRule = New-AzureRmNetworkSecurityRuleConfig -Name SAPERPDemoNSGRDP -Protocol * -SourcePortRange * -DestinationPortRange 3389 -Access Allow -Direction Inbound -SourceAddressPrefix * -DestinationAddressPrefix * -Priority 100
$sshRule = New-AzureRmNetworkSecurityRuleConfig -Name SAPERPDemoNSGSSH -Protocol * -SourcePortRange * -DestinationPortRange 22 -Access Allow -Direction Inbound -SourceAddressPrefix * -DestinationAddressPrefix * -Priority 101
$nsg = New-AzureRmNetworkSecurityGroup -Name SAPERPDemoNSG -ResourceGroupName $rgName -Location  "North Europe" -SecurityRules $rdpRule,$sshRule

$subnetConfig = New-AzureRmVirtualNetworkSubnetConfig -Name Subnet1 -AddressPrefix  10.0.1.0/24 -NetworkSecurityGroup $nsg
$vnet = New-AzureRmVirtualNetwork -Name SAPERPDemoVNet -ResourceGroupName $rgName -Location "North Europe"  -AddressPrefix 10.0.1.0/24 -Subnet $subnetConfig
```

* <span data-ttu-id="31d3b-1092">Criar um novo endereço IP público que pode ser usado tooaccess Olá máquina de virtual de saudação à internet</span><span class="sxs-lookup"><span data-stu-id="31d3b-1092">Create a new public IP address that can be used tooaccess hello virtual machine from hello internet</span></span>

```powershell
# Create a public IP address with a DNS name
$pip = New-AzureRmPublicIpAddress -Name SAPERPDemoPIP -ResourceGroupName $rgName -Location "North Europe" -DomainNameLabel $rgName.ToLower() -AllocationMethod Dynamic
```

* <span data-ttu-id="31d3b-1093">Criar uma nova interface de rede da máquina virtual de saudação</span><span class="sxs-lookup"><span data-stu-id="31d3b-1093">Create a new network interface for hello virtual machine</span></span>

```powershell
# Create a new Network Interface
$nic = New-AzureRmNetworkInterface -Name SAPERPDemoNIC -ResourceGroupName $rgName -Location "North Europe" -Subnet $vnet.Subnets[0] -PublicIpAddress $pip
```

* <span data-ttu-id="31d3b-1094">Crie uma máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1094">Create a virtual machine.</span></span> <span data-ttu-id="31d3b-1095">Cenário de saudação somente em nuvem todas as VMs terão Olá mesmo nome.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1095">For hello Cloud-Only scenario every VM will have hello same name.</span></span> <span data-ttu-id="31d3b-1096">Olá SID das Olá instâncias nessas VMs do SAP NetWeaver Olá mesmo assim.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1096">hello SAP SID of hello SAP NetWeaver instances in those VMs will be hello same as well.</span></span> <span data-ttu-id="31d3b-1097">No grupo de recursos do Azure de hello, nome de saudação do hello VM precisa toobe exclusivo, mas em diferentes grupos de recursos do Azure, você pode executar VMs com hello mesmo nome.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1097">Within hello Azure Resource Group, hello name of hello VM needs toobe unique, but in different Azure Resource Groups you can run VMs with hello same name.</span></span> <span data-ttu-id="31d3b-1098">Olá padrão '' conta do Windows ou raiz para Linux não é válido.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1098">hello default 'Administrator' account of Windows or 'root' for Linux are not valid.</span></span> <span data-ttu-id="31d3b-1099">Portanto, um novo nome de usuário administrador deve toobe definido junto com uma senha.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1099">Therefore, a new administrator user name needs toobe defined together with a password.</span></span> <span data-ttu-id="31d3b-1100">tamanho de saudação do hello VM também precisa toobe definido.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1100">hello size of hello VM also needs toobe defined.</span></span>

```powershell
#####
# Create a new virtual machine with an official image from hello Azure Marketplace
#####
$cred=Get-Credential -Message "Type hello name and password of hello local administrator account."
$vmconfig = New-AzureRmVMConfig -VMName SAPERPDemo -VMSize Standard_D11

# select image
$vmconfig = Set-AzureRmVMSourceImage -VM $vmconfig -PublisherName "MicrosoftWindowsServer" -Offer "WindowsServer" -Skus "2012-R2-Datacenter" -Version "latest"
$vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Windows -ComputerName "SAPERPDemo" -Credential $cred -ProvisionVMAgent -EnableAutoUpdate
# $vmconfig = Set-AzureRmVMSourceImage -VM $vmconfig -PublisherName "SUSE" -Offer "SLES-SAP" -Skus "12-SP1" -Version "latest"
# $vmconfig = Set-AzureRmVMSourceImage -VM $vmconfig -PublisherName "RedHat" -Offer "RHEL" -Skus "7.2" -Version "latest"
# $vmconfig = Set-AzureRmVMSourceImage -VM $vmconfig -PublisherName "Oracle" -Offer "Oracle-Linux" -Skus "7.2" -Version "latest"
# $vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Linux -ComputerName "SAPERPDemo" -Credential $cred

$vmconfig = Add-AzureRmVMNetworkInterface -VM $vmconfig -Id $nic.Id

$vmconfig = Set-AzureRmVMBootDiagnostics -Disable -VM $vmconfig
$vm = New-AzureRmVM -ResourceGroupName $rgName -Location "North Europe" -VM $vmconfig
```

```powershell
#####
# Create a new virtual machine with a VHD that contains hello private image that you want toouse
#####
$cred=Get-Credential -Message "Type hello name and password of hello local administrator account."
$vmconfig = New-AzureRmVMConfig -VMName SAPERPDemo -VMSize Standard_D11

$vmconfig = Add-AzureRmVMNetworkInterface -VM $vmconfig -Id $nic.Id

$diskName="osfromimage"
$osDiskUri=$account.PrimaryEndpoints.Blob.ToString() + "vhds/" + $diskName  + ".vhd"

$vmconfig = Set-AzureRmVMOSDisk -VM $vmconfig -Name $diskName -VhdUri $osDiskUri -CreateOption fromImage -SourceImageUri <path tooVHD that contains hello OS image> -Windows
$vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Windows -ComputerName "SAPERPDemo" -Credential $cred
#$vmconfig = Set-AzureRmVMOSDisk -VM $vmconfig -Name $diskName -VhdUri $osDiskUri -CreateOption fromImage -SourceImageUri <path tooVHD that contains hello OS image> -Linux
#$vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Linux -ComputerName "SAPERPDemo" -Credential $cred

$vmconfig = Set-AzureRmVMBootDiagnostics -Disable -VM $vmconfig
$vm = New-AzureRmVM -ResourceGroupName $rgName -Location "North Europe" -VM $vmconfig
```

```powershell
#####
# Create a new virtual machine with a Managed Disk Image
#####
$cred=Get-Credential -Message "Type hello name and password of hello local administrator account."
$vmconfig = New-AzureRmVMConfig -VMName SAPERPDemo -VMSize Standard_D11

$vmconfig = Add-AzureRmVMNetworkInterface -VM $vmconfig -Id $nic.Id

$vmconfig = Set-AzureRmVMSourceImage -VM $vmconfig -Id <Id of Managed Disk Image>
$vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Windows -ComputerName "SAPERPDemo" -Credential $cred
#$vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Linux -ComputerName "SAPERPDemo" -Credential $cred

$vmconfig = Set-AzureRmVMBootDiagnostics -Disable -VM $vmconfig
$vm = New-AzureRmVM -ResourceGroupName $rgName -Location "North Europe" -VM $vmconfig
```

* <span data-ttu-id="31d3b-1101">Opcionalmente, adicione discos adicionais e restaure o conteúdo necessário.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1101">Optionally add additional disks and restore necessary content.</span></span> <span data-ttu-id="31d3b-1102">Lembre-se de que todos os nomes de blob (URLs toohello blobs) devem ser exclusivos dentro do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1102">Be aware that all blob names (URLs toohello blobs) must be unique within Azure.</span></span>

```powershell
# Optional: Attach additional VHD data disks
$vm = Get-AzureRmVM -ResourceGroupName $rgName -Name SAPERPDemo
$dataDiskUri = $account.PrimaryEndpoints.Blob.ToString() + "vhds/datadisk.vhd"
Add-AzureRmVMDataDisk -VM $vm -Name datadisk -VhdUri $dataDiskUri -DiskSizeInGB 1023 -CreateOption empty | Update-AzureRmVM

# Optional: Attach additional Managed Disks
$vm = Get-AzureRmVM -ResourceGroupName $rgName -Name SAPERPDemo
Add-AzureRmVMDataDisk -VM $vm -Name datadisk -DiskSizeInGB 1023 -CreateOption empty -Lun 0 | Update-AzureRmVM
```

##### <a name="cli"></a><span data-ttu-id="31d3b-1103">CLI</span><span class="sxs-lookup"><span data-stu-id="31d3b-1103">CLI</span></span>
<span data-ttu-id="31d3b-1104">Olá, código de exemplo a seguir pode ser usado no Linux.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1104">hello following example code can be used on Linux.</span></span> <span data-ttu-id="31d3b-1105">Para Windows, por favor, use PowerShell conforme descrito acima ou adaptar Olá exemplo toouse % rgName %, em vez de $rgName e definir variável de ambiente hello usando o comando do Windows hello *definir*.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1105">For Windows, please either use PowerShell as described above or adapt hello example toouse %rgName% instead of $rgName and set hello environment variable using hello Windows command *set*.</span></span>

* <span data-ttu-id="31d3b-1106">Criar um novo grupo de recursos para cada estrutura de treinamento/demonstração</span><span class="sxs-lookup"><span data-stu-id="31d3b-1106">Create a new resource group for every training/demo landscape</span></span>

```
rgName=SAPERPDemo1
rgNameLower=saperpdemo1
az group create --name $rgName --location "North Europe"
```

* <span data-ttu-id="31d3b-1107">Criar uma nova conta de armazenamento</span><span class="sxs-lookup"><span data-stu-id="31d3b-1107">Create a new storage account</span></span>

```
az storage account create --resource-group $rgName --location "North Europe" --kind Storage --sku Standard_LRS --name $rgNameLower
```

* <span data-ttu-id="31d3b-1108">Criar uma nova rede virtual para cada uso treinamento/demonstração paisagem tooenable Olá Olá mesmo nome de host e endereços IP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1108">Create a new virtual network for every training/demo landscape tooenable hello usage of hello same hostname and IP addresses.</span></span> <span data-ttu-id="31d3b-1109">rede virtual Olá é protegido por um grupo de segurança de rede que só permite o acesso de área de trabalho remota do tráfego tooport tooenable 3389 e porta 22 SSH.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1109">hello virtual network is protected by a Network Security Group that only allows traffic tooport 3389 tooenable Remote Desktop access and port 22 for SSH.</span></span>

```
az network nsg create --resource-group $rgName --location "North Europe" --name SAPERPDemoNSG
az network nsg rule create --resource-group $rgName --nsg-name SAPERPDemoNSG --name SAPERPDemoNSGRDP --protocol \* --source-address-prefix \* --source-port-range \* --destination-address-prefix \* --destination-port-range 3389 --access Allow --priority 100 --direction Inbound
az network nsg rule create --resource-group $rgName --nsg-name SAPERPDemoNSG --name SAPERPDemoNSGSSH --protocol \* --source-address-prefix \* --source-port-range \* --destination-address-prefix \* --destination-port-range 22 --access Allow --priority 101 --direction Inbound

az network vnet create --resource-group $rgName --name SAPERPDemoVNet --location "North Europe" --address-prefixes 10.0.1.0/24
az network vnet subnet create --resource-group $rgName --vnet-name SAPERPDemoVNet --name Subnet1 --address-prefix 10.0.1.0/24 --network-security-group SAPERPDemoNSG
```

* <span data-ttu-id="31d3b-1110">Criar um novo endereço IP público que pode ser usado tooaccess Olá máquina de virtual de saudação à internet</span><span class="sxs-lookup"><span data-stu-id="31d3b-1110">Create a new public IP address that can be used tooaccess hello virtual machine from hello internet</span></span>

```
az network public-ip create --resource-group $rgName --name SAPERPDemoPIP --location "North Europe" --dns-name $rgNameLower --allocation-method Dynamic
```

* <span data-ttu-id="31d3b-1111">Criar uma nova interface de rede da máquina virtual de saudação</span><span class="sxs-lookup"><span data-stu-id="31d3b-1111">Create a new network interface for hello virtual machine</span></span>

```
az network nic create --resource-group $rgName --location "North Europe" --name SAPERPDemoNIC --public-ip-address SAPERPDemoPIP --subnet Subnet1 --vnet-name SAPERPDemoVNet
```

* <span data-ttu-id="31d3b-1112">Crie uma máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1112">Create a virtual machine.</span></span> <span data-ttu-id="31d3b-1113">Cenário de saudação somente em nuvem todas as VMs terão Olá mesmo nome.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1113">For hello Cloud-Only scenario every VM will have hello same name.</span></span> <span data-ttu-id="31d3b-1114">Olá SID das Olá instâncias nessas VMs do SAP NetWeaver Olá mesmo assim.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1114">hello SAP SID of hello SAP NetWeaver instances in those VMs will be hello same as well.</span></span> <span data-ttu-id="31d3b-1115">No grupo de recursos do Azure de hello, nome de saudação do hello VM precisa toobe exclusivo, mas em diferentes grupos de recursos do Azure, você pode executar VMs com hello mesmo nome.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1115">Within hello Azure Resource Group, hello name of hello VM needs toobe unique, but in different Azure Resource Groups you can run VMs with hello same name.</span></span> <span data-ttu-id="31d3b-1116">Olá padrão '' conta do Windows ou raiz para Linux não é válido.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1116">hello default 'Administrator' account of Windows or 'root' for Linux are not valid.</span></span> <span data-ttu-id="31d3b-1117">Portanto, um novo nome de usuário administrador deve toobe definido junto com uma senha.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1117">Therefore, a new administrator user name needs toobe defined together with a password.</span></span> <span data-ttu-id="31d3b-1118">tamanho de saudação do hello VM também precisa toobe definido.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1118">hello size of hello VM also needs toobe defined.</span></span>

```
#####
# Create virtual machines using storage accounts
#####
az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image MicrosoftWindowsServer:WindowsServer:2012-R2-Datacenter:latest --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image SUSE:SLES-SAP:12-SP1:latest --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os --authentication-type password
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image RedHat:RHEL:7.2:latest --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os --authentication-type password
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image "Oracle:Oracle-Linux:7.2:latest" --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os --authentication-type password

#####
# Create virtual machines using Managed Disks
#####
az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image MicrosoftWindowsServer:WindowsServer:2012-R2-Datacenter:latest --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image SUSE:SLES-SAP:12-SP1:latest --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os --authentication-type password
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image RedHat:RHEL:7.2:latest --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os --authentication-type password
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image "Oracle:Oracle-Linux:7.2:latest" --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os --authentication-type password
```

```
#####
# Create a new virtual machine with a VHD that contains hello private image that you want toouse
#####
az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --os-type Windows --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os --image <path tooimage vhd>
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --os-type Linux --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os --image <path tooimage vhd> --authentication-type password

#####
# Create a new virtual machine with a Managed Disk Image
#####
az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os --image <managed disk image id>
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os --image <managed disk image id> --authentication-type password
```

* <span data-ttu-id="31d3b-1119">Opcionalmente, adicione discos adicionais e restaure o conteúdo necessário.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1119">Optionally add additional disks and restore necessary content.</span></span> <span data-ttu-id="31d3b-1120">Lembre-se de que todos os nomes de blob (URLs toohello blobs) devem ser exclusivos dentro do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1120">Be aware that all blob names (URLs toohello blobs) must be unique within Azure.</span></span>

```
# Optional: Attach additional VHD data disks
az vm unmanaged-disk attach --resource-group $rgName --vm-name SAPERPDemo --size-gb 1023 --vhd-uri https://$rgNameLower.blob.core.windows.net/vhds/data.vhd  --new

# Optional: Attach additional Managed Disks
az vm disk attach --resource-group $rgName --vm-name SAPERPDemo --size-gb 1023 --disk datadisk --new
```

##### <a name="template"></a><span data-ttu-id="31d3b-1121">Modelo</span><span class="sxs-lookup"><span data-stu-id="31d3b-1121">Template</span></span>
<span data-ttu-id="31d3b-1122">Você pode usar modelos de exemplo hello no repositório de modelos do azure-quickstart Olá no github.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1122">You can use hello sample templates on hello azure-quickstart-templates repository on github.</span></span>

* [<span data-ttu-id="31d3b-1123">VM Linux Simples</span><span class="sxs-lookup"><span data-stu-id="31d3b-1123">Simple Linux VM</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-simple-linux)
* [<span data-ttu-id="31d3b-1124">VM Windows Simples</span><span class="sxs-lookup"><span data-stu-id="31d3b-1124">Simple Windows VM</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-simple-windows)
* [<span data-ttu-id="31d3b-1125">VM de imagem</span><span class="sxs-lookup"><span data-stu-id="31d3b-1125">VM from image</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-from-user-image)

### <a name="implement-a-set-of-vms-which-need-toocommunicate-within-azure"></a><span data-ttu-id="31d3b-1126">Implementar um conjunto de máquinas virtuais que precisam toocommunicate dentro do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-1126">Implement a set of VMs which need toocommunicate within Azure</span></span>
<span data-ttu-id="31d3b-1127">Este cenário somente em nuvem é um cenário típico para fins de demonstração e treinamento onde hello software representando Olá cenário de demonstração/treinamento é distribuído entre várias VMs.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1127">This Cloud-Only scenario is a typical scenario for training and demo purposes where hello software representing hello demo/training scenario is spread over multiple VMs.</span></span> <span data-ttu-id="31d3b-1128">Olá diferentes componentes instalados em Olá diferentes VMs necessidade toocommunicate entre si.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1128">hello different components installed in hello different VMs need toocommunicate with each other.</span></span> <span data-ttu-id="31d3b-1129">Novamente, nesse cenário, nenhuma comunicação de rede local ou cenário entre instalações é necessária.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1129">Again, in this scenario no on-premises network communication or cross-premises scenario is needed.</span></span>

<span data-ttu-id="31d3b-1130">Este cenário é uma extensão da instalação de saudação descrita nos capítulos [VM única com cenário de demonstração/treinamento do SAP NetWeaver] [ planning-guide-7.1] deste documento.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1130">This scenario is an extension of hello installation described in chapter [Single VM with SAP NetWeaver demo/training scenario][planning-guide-7.1] of this document.</span></span> <span data-ttu-id="31d3b-1131">Nesse caso mais máquinas virtuais serão adicionadas tooan grupo de recursos existente.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1131">In this case more virtual machines will be added tooan existing resource group.</span></span> <span data-ttu-id="31d3b-1132">Olá cenário de treinamento do seguinte exemplo hello consiste em uma VM do SAP ASCS/SCS, uma VM que executa um DBMS e uma instância de servidor de aplicativos SAP VM.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1132">In hello following example hello training landscape consists of an SAP ASCS/SCS VM, a VM running a DBMS and an SAP Application Server instance VM.</span></span>

<span data-ttu-id="31d3b-1133">Antes de desenvolver esse cenário, é necessário toothink sobre configurações básicas, conforme já realizado no cenário de saudação antes.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1133">Before you build this scenario you need toothink about basic settings as already exercised in hello scenario before.</span></span>

#### <a name="resource-group-and-virtual-machine-naming"></a><span data-ttu-id="31d3b-1134">Nomeação de grupos de recursos e máquinas virtuais</span><span class="sxs-lookup"><span data-stu-id="31d3b-1134">Resource Group and Virtual Machine naming</span></span>
<span data-ttu-id="31d3b-1135">Todos os nomes de grupos de recursos devem ser exclusivos.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1135">All resource group names must be unique.</span></span> <span data-ttu-id="31d3b-1136">Desenvolva seu próprio esquema de nomenclatura de seus recursos, como `<rg-name`>-sufixo.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1136">Develop your own naming scheme of your resources, such as `<rg-name`>-suffix.</span></span>

<span data-ttu-id="31d3b-1137">nome da máquina virtual Olá tem toobe exclusivo no grupo de recursos de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1137">hello virtual machine name has toobe unique within hello resource group.</span></span>

#### <a name="set-up-network-for-communication-between-hello-different-vms"></a><span data-ttu-id="31d3b-1138">Configurar a rede para comunicação entre Olá VMs diferentes</span><span class="sxs-lookup"><span data-stu-id="31d3b-1138">Set up Network for communication between hello different VMs</span></span>
![Conjunto de VMs em uma Rede Virtual do Azure][planning-guide-figure-1900]

<span data-ttu-id="31d3b-1140">tooprevent nomenclatura colisões com clones de saudação mesmo cenários de treinamento/demonstração, você precisa toocreate uma rede Virtual do Azure para cada cenário.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1140">tooprevent naming collisions with clones of hello same training/demo landscapes, you need toocreate an Azure Virtual Network for every landscape.</span></span> <span data-ttu-id="31d3b-1141">Resolução de nome DNS será fornecida pelo Azure ou você pode configurar seu próprio servidor DNS fora do Azure (não toobe mais discutido aqui).</span><span class="sxs-lookup"><span data-stu-id="31d3b-1141">DNS name resolution will be provided by Azure or you can configure your own DNS server outside Azure (not toobe further discussed here).</span></span> <span data-ttu-id="31d3b-1142">Neste cenário, não configuraremos nosso próprio DNS.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1142">In this scenario we do not configure our own DNS.</span></span> <span data-ttu-id="31d3b-1143">A comunicação por meio de nomes do host será habilitada para todas as máquinas virtuais dentro de uma Rede Virtual do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1143">For all virtual machines inside one Azure Virtual Network, communication via hostnames will be enabled.</span></span>

<span data-ttu-id="31d3b-1144">Olá motivos para cenários de treinamento ou demonstração tooseparate por redes virtuais e não apenas o recurso grupos podem ser:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1144">hello reasons tooseparate training or demo landscapes by virtual networks and not only resource groups could be:</span></span>

* <span data-ttu-id="31d3b-1145">Olá SAP paisagem configurados necessidades de seu próprio AD/OpenLDAP e uma parte do servidor de domínio necessidades toobe de cada um dos cenários de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1145">hello SAP landscape as set up needs its own AD/OpenLDAP and a Domain Server needs toobe part of each of hello landscapes.</span></span>  
* <span data-ttu-id="31d3b-1146">Olá estrutura SAP como conjunto de backup tem componentes que toowork necessidade com endereços IP fixos.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1146">hello SAP landscape as set up has components that need toowork with fixed IP addresses.</span></span>

<span data-ttu-id="31d3b-1147">Para obter mais detalhes sobre redes virtuais do Azure e como toodefine-los podem ser encontrados em [neste artigo][virtual-networks-create-vnet-arm-pportal].</span><span class="sxs-lookup"><span data-stu-id="31d3b-1147">More details about Azure Virtual Networks and how toodefine them can be found in [this article][virtual-networks-create-vnet-arm-pportal].</span></span>

## <a name="deploying-sap-vms-with-corporate-network-connectivity-cross-premises"></a><span data-ttu-id="31d3b-1148">Implantar VMs SAP com conectividade de rede corporativa (entre instalações)</span><span class="sxs-lookup"><span data-stu-id="31d3b-1148">Deploying SAP VMs with Corporate Network Connectivity (Cross-Premises)</span></span>
<span data-ttu-id="31d3b-1149">Executa uma estrutura SAP e quiser toodivide Olá implantação entre bare-metal para servidores DBMS de ponta, ambientes virtualizadas locais para camadas de aplicativo e da camada de 2 menor configurados sistemas SAP e IaaS do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1149">You run an SAP landscape and want toodivide hello deployment between bare-metal for high-end DBMS servers, on-premises virtualized environments for application layers and smaller 2-Tier configured SAP systems and Azure IaaS.</span></span> <span data-ttu-id="31d3b-1150">Olá hipótese geral é que os sistemas SAP em uma estrutura SAP precisam toocommunicate entre si e com muitos outros componentes de software implantados na empresa hello, independente da forma de implantação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1150">hello base assumption is that SAP systems within one SAP landscape need toocommunicate with each other and with many other software components deployed in hello company, independent of their deployment form.</span></span> <span data-ttu-id="31d3b-1151">Também não deve haver nenhuma diferença introduzida pelo formulário de implantação Olá para conectar-se com a SAP GUI ou outras interfaces dos usuários finais hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1151">There also should be no differences introduced by hello deployment form for hello end user connecting with SAP GUI or other interfaces.</span></span> <span data-ttu-id="31d3b-1152">Essas condições só podem ser atendidas quando temos Olá Active Directory/OpenLDAP local e serviços DNS estendido toohello sistemas do Azure por meio de conectividade de site-para-site/vários sites ou conexões privadas como rota expressa do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1152">These conditions can only be met when we have hello on-premises Active Directory/OpenLDAP and DNS services extended toohello Azure systems through site-to-site/multi-site connectivity or private connections like Azure ExpressRoute.</span></span>

<span data-ttu-id="31d3b-1153">Em tooget de ordem mais em segundo plano em detalhes de implementação de saudação do SAP no Azure, recomendamos que você tooread capítulo [implantação de conceitos de somente em nuvem de instâncias SAP] [ planning-guide-7] deste documento que explica alguns dos conceitos básicos de saudação constrói do Azure e como eles devem ser usados com aplicativos SAP no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1153">In order tooget more background on hello implementation details of SAP on Azure, we encourage you tooread chapter [Concepts of Cloud-Only deployment of SAP instances][planning-guide-7] of this document which explains some of hello basics constructs of Azure and how these should be used with SAP applications in Azure.</span></span>

### <a name="scenario-of-an-sap-landscape"></a><span data-ttu-id="31d3b-1154">Cenário de uma estrutura SAP</span><span class="sxs-lookup"><span data-stu-id="31d3b-1154">Scenario of an SAP landscape</span></span>
<span data-ttu-id="31d3b-1155">Olá cenário entre locais pode ser aproximadamente descrito como em gráficos de saudação abaixo:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1155">hello cross-premises scenario can be roughly described like in hello graphics below:</span></span>

![Conexão site a site entre ativos locais e no Azure][planning-guide-figure-2100]

<span data-ttu-id="31d3b-1157">cenário de saudação mostrado acima descreve um cenário onde Olá OpenLDAP/AD local e DNS é estendido tooAzure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1157">hello scenario shown above describes a scenario where hello on-premises AD/OpenLDAP and DNS are extended tooAzure.</span></span> <span data-ttu-id="31d3b-1158">No lado do local de saudação, um determinado intervalo de endereços IP é reservado por assinatura do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1158">On hello on-premises side, a certain IP address range is reserved per Azure subscription.</span></span> <span data-ttu-id="31d3b-1159">intervalo de endereços IP Hello será atribuído tooan rede Virtual do Azure em saudação do lado do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1159">hello IP address range will be assigned tooan Azure Virtual Network on hello Azure side.</span></span>

#### <a name="security-considerations"></a><span data-ttu-id="31d3b-1160">Considerações de segurança</span><span class="sxs-lookup"><span data-stu-id="31d3b-1160">Security considerations</span></span>
<span data-ttu-id="31d3b-1161">Olá requisito mínimo é Olá use protocolos de comunicação segura, como SSL/TLS para acesso do navegador ou conexões VPN para sistema acessar toohello Azure services.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1161">hello minimum requirement is hello use of secure communication protocols such as SSL/TLS for browser access or VPN-based connections for system access toohello Azure services.</span></span> <span data-ttu-id="31d3b-1162">Olá pressupõe-se que as empresas lidar com conexão de VPN Olá entre sua rede corporativa e o Azure muito diferente.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1162">hello assumption is that companies handle hello VPN connection between their corporate network and Azure very differently.</span></span> <span data-ttu-id="31d3b-1163">Algumas empresas sem restrições podem abrir todas as portas de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1163">Some companies might blankly open all hello ports.</span></span> <span data-ttu-id="31d3b-1164">Algumas outras empresas seja toobe muito precisos em quais portas precisam tooopen, etc.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1164">Some other companies might want toobe very precise in which ports they need tooopen, etc.</span></span>

<span data-ttu-id="31d3b-1165">Na tabela de saudação abaixo SAP típico portas de comunicação são listadas.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1165">In hello table below typical SAP communication ports are listed.</span></span> <span data-ttu-id="31d3b-1166">Basicamente, é suficiente tooopen Olá porta de gateway SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1166">Basically it is sufficient tooopen hello SAP gateway port.</span></span>

| <span data-ttu-id="31d3b-1167">O Barramento de</span><span class="sxs-lookup"><span data-stu-id="31d3b-1167">Service</span></span> | <span data-ttu-id="31d3b-1168">Número da Porta</span><span class="sxs-lookup"><span data-stu-id="31d3b-1168">Port Name</span></span> | <span data-ttu-id="31d3b-1169">Exemplo `<nn`> = 01</span><span class="sxs-lookup"><span data-stu-id="31d3b-1169">Example `<nn`> = 01</span></span> | <span data-ttu-id="31d3b-1170">Intervalo Padrão (Mín-Máx)</span><span class="sxs-lookup"><span data-stu-id="31d3b-1170">Default Range (min-max)</span></span> | <span data-ttu-id="31d3b-1171">Comentário</span><span class="sxs-lookup"><span data-stu-id="31d3b-1171">Comment</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="31d3b-1172">Dispatcher</span><span class="sxs-lookup"><span data-stu-id="31d3b-1172">Dispatcher</span></span> |<span data-ttu-id="31d3b-1173">sapdp`<nn>` confira *</span><span class="sxs-lookup"><span data-stu-id="31d3b-1173">sapdp`<nn>` see *</span></span> |<span data-ttu-id="31d3b-1174">3201</span><span class="sxs-lookup"><span data-stu-id="31d3b-1174">3201</span></span> |<span data-ttu-id="31d3b-1175">3200 – 3299</span><span class="sxs-lookup"><span data-stu-id="31d3b-1175">3200 – 3299</span></span> |<span data-ttu-id="31d3b-1176">Dispatcher SAP, usado pela GUI da SAP para Windows e Java</span><span class="sxs-lookup"><span data-stu-id="31d3b-1176">SAP Dispatcher, used by SAP GUI for Windows and Java</span></span> |
| <span data-ttu-id="31d3b-1177">Servidor de mensagens</span><span class="sxs-lookup"><span data-stu-id="31d3b-1177">Message server</span></span> |<span data-ttu-id="31d3b-1178">sapms`<sid`> confira **</span><span class="sxs-lookup"><span data-stu-id="31d3b-1178">sapms`<sid`> see **</span></span> |<span data-ttu-id="31d3b-1179">3600</span><span class="sxs-lookup"><span data-stu-id="31d3b-1179">3600</span></span> |<span data-ttu-id="31d3b-1180">número livre de sapms`<anySID`></span><span class="sxs-lookup"><span data-stu-id="31d3b-1180">free sapms`<anySID`></span></span> |<span data-ttu-id="31d3b-1181">sid = ID do sistema SAP</span><span class="sxs-lookup"><span data-stu-id="31d3b-1181">sid = SAP-System-ID</span></span> |
| <span data-ttu-id="31d3b-1182">Gateway</span><span class="sxs-lookup"><span data-stu-id="31d3b-1182">Gateway</span></span> |<span data-ttu-id="31d3b-1183">sapgw`<nn`> confira *</span><span class="sxs-lookup"><span data-stu-id="31d3b-1183">sapgw`<nn`> see *</span></span> |<span data-ttu-id="31d3b-1184">3301</span><span class="sxs-lookup"><span data-stu-id="31d3b-1184">3301</span></span> |<span data-ttu-id="31d3b-1185">livre</span><span class="sxs-lookup"><span data-stu-id="31d3b-1185">free</span></span> |<span data-ttu-id="31d3b-1186">Gateway SAP, usado para comunicação CPIC e RFC</span><span class="sxs-lookup"><span data-stu-id="31d3b-1186">SAP gateway, used for CPIC and RFC communication</span></span> |
| <span data-ttu-id="31d3b-1187">Roteador SAP</span><span class="sxs-lookup"><span data-stu-id="31d3b-1187">SAP router</span></span> |<span data-ttu-id="31d3b-1188">sapdp99</span><span class="sxs-lookup"><span data-stu-id="31d3b-1188">sapdp99</span></span> |<span data-ttu-id="31d3b-1189">3299</span><span class="sxs-lookup"><span data-stu-id="31d3b-1189">3299</span></span> |<span data-ttu-id="31d3b-1190">livre</span><span class="sxs-lookup"><span data-stu-id="31d3b-1190">free</span></span> |<span data-ttu-id="31d3b-1191">Apenas os nomes de serviço CI (instância central) podem ser reatribuídos em /etc/services tooan arbitrário valor após a instalação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1191">Only CI (central instance) Service names can be reassigned in /etc/services tooan arbitrary value after installation.</span></span> |

<span data-ttu-id="31d3b-1192">*) nn = Número da Instância SAP</span><span class="sxs-lookup"><span data-stu-id="31d3b-1192">*) nn = SAP Instance Number</span></span>

<span data-ttu-id="31d3b-1193">**) sid = ID do sistema SAP</span><span class="sxs-lookup"><span data-stu-id="31d3b-1193">**) sid = SAP-System-ID</span></span>

<span data-ttu-id="31d3b-1194">As informações mais detalhadas sobre as portas necessárias, para os diferentes produtos ou serviços do SAP, para os produtos do SAP podem ser encontradas aqui <http://scn.sap.com/docs/DOC-17124>.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1194">More detailed information on ports required for different SAP products or services by SAP products can be found here <http://scn.sap.com/docs/DOC-17124>.</span></span>
<span data-ttu-id="31d3b-1195">Com este documento, você deve ser capaz de tooopen dedicado portas no dispositivo VPN Olá necessário para cenários e produtos específicos do SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1195">With this document you should be able tooopen dedicated ports in hello VPN device necessary for specific SAP products and scenarios.</span></span>

<span data-ttu-id="31d3b-1196">Medidas de outros segurança quando implantar VMs nesse cenário pode ser toocreate um [grupo de segurança de rede] [ virtual-networks-nsg] toodefine as regras de acesso.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1196">Other security measures when deploying VMs in such a scenario could be toocreate a [Network Security Group][virtual-networks-nsg] toodefine access rules.</span></span>

### <a name="dealing-with-different-virtual-machine-series"></a><span data-ttu-id="31d3b-1197">Lidando com séries de máquina virtual diferentes</span><span class="sxs-lookup"><span data-stu-id="31d3b-1197">Dealing with different Virtual Machine Series</span></span>
<span data-ttu-id="31d3b-1198">No curso de saudação dos últimos 12 meses, a Microsoft adicionou muitos mais tipos VM que diferem no número de vCPUs, memória ou mais importantes no hardware que ele é executado em.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1198">In hello course of last 12 months Microsoft added many more VM types that differ either in number of vCPUs, memory or more important on hardware it is running on.</span></span> <span data-ttu-id="31d3b-1199">Nem todas essas VMs são compatíveis com o SAP (confira os tipos de VM com suporte na Nota do SAP [1928533]).</span><span class="sxs-lookup"><span data-stu-id="31d3b-1199">Not all those VMs are supported with SAP (see supported VM types in SAP Note [1928533]).</span></span> <span data-ttu-id="31d3b-1200">Algumas dessas VMs são executadas em diferentes gerações de hardware de host.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1200">Some of those VMs run on different host hardware generations.</span></span> <span data-ttu-id="31d3b-1201">Nessas gerações de hardware do host sejam implantadas na granularidade de saudação de uma unidade de escala do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1201">These host hardware generations are getting deployed in hello granularity of an Azure Scale-Unit.</span></span> <span data-ttu-id="31d3b-1202">Casos significa que podem surgir em tamanhos VM diferentes Olá que você escolheu não pode ser executado em Olá mesma unidade de escala.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1202">Means cases may arise where hello different VM sizes you chose can’t be run on hello same Scale-Unit.</span></span> <span data-ttu-id="31d3b-1203">Um conjunto de disponibilidade é limitado em Olá capacidade toospan que unidades de escala com base no hardware diferente.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1203">An Availability Set is limited in hello ability toospan Scale-Units based of different hardware.</span></span>  <span data-ttu-id="31d3b-1204">Por exemplo, se você quiser toorun Olá DBMS em VMs A5 A11 e hello camada do aplicativo SAP em VMs da série G, será forçada toodeploy diferentes sistemas SAP em diferentes conjuntos de disponibilidade ou um único sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1204">For example if you want toorun hello DBMS on A5-A11 VMs and hello SAP application layer on G-Series VMs, you would be forced toodeploy a single SAP system or different SAP systems within different Availability Sets.</span></span>

#### <a name="printing-on-a-local-network-printer-from-sap-instance-in-azure"></a><span data-ttu-id="31d3b-1205">Imprimindo em uma impressora de rede local da instância SAP no Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-1205">Printing on a local network printer from SAP instance in Azure</span></span>
##### <a name="printing-over-tcpip-in-cross-premises-scenario"></a><span data-ttu-id="31d3b-1206">Imprimindo via TCP/IP no cenário entre instalações</span><span class="sxs-lookup"><span data-stu-id="31d3b-1206">Printing over TCP/IP in Cross-Premises scenario</span></span>
<span data-ttu-id="31d3b-1207">A configuração de suas impressoras de rede TCP/IP com base no local em uma VM do Azure é Olá geral, mesmo que sua rede corporativa, supondo que você tenha um túnel VPN Site a Site ou conexão de rota expressa estabelecida.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1207">Setting up your on-premises TCP/IP based network printers in an Azure VM is overall hello same as in your corporate network, assuming you do have a VPN Site-To-Site tunnel or ExpressRoute connection established.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="31d3b-1209">Windows</span><span class="sxs-lookup"><span data-stu-id="31d3b-1209">Windows</span></span>
>
> <span data-ttu-id="31d3b-1210">toodo isso:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1210">toodo this:</span></span>
>
> * <span data-ttu-id="31d3b-1211">Algumas impressoras de rede vêm com um Assistente de configuração que torna fácil tooset sua impressora em uma VM do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1211">Some network printers come with a configuration wizard which makes it easy tooset up your printer in an Azure VM.</span></span> <span data-ttu-id="31d3b-1212">Se nenhum software de assistente foram distribuídas com o modo de "manual" hello impressora tooset impressora Olá é toocreate uma nova porta de impressora TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1212">If no wizard software has been distributed with the printer hello “manual” way tooset up hello printer is toocreate a new TCP/IP printer port.</span></span>
> * <span data-ttu-id="31d3b-1213">Abra o Painel de Controle -> Dispositivos e Impressoras -> Adicionar uma impressora</span><span class="sxs-lookup"><span data-stu-id="31d3b-1213">Open Control Panel -> Devices and Printers -> Add a printer</span></span>
> * <span data-ttu-id="31d3b-1214">Escolha Adicionar uma impressora usando um endereço TCP/IP ou nome do host</span><span class="sxs-lookup"><span data-stu-id="31d3b-1214">Choose Add a printer using a TCP/IP address or hostname</span></span>
> * <span data-ttu-id="31d3b-1215">Digite o endereço IP da impressora Olá Olá</span><span class="sxs-lookup"><span data-stu-id="31d3b-1215">Type in hello IP address of hello printer</span></span>
> * <span data-ttu-id="31d3b-1216">A porta de impressora padrão é 9100</span><span class="sxs-lookup"><span data-stu-id="31d3b-1216">Printer Port standard 9100</span></span>
> * <span data-ttu-id="31d3b-1217">Se for necessário instale manualmente o driver de impressora apropriadas hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1217">If necessary install hello appropriate printer driver manually.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="31d3b-1219">Linux</span><span class="sxs-lookup"><span data-stu-id="31d3b-1219">Linux</span></span>
>
> * <span data-ttu-id="31d3b-1220">como do Windows apenas siga Olá procedimento padrão tooinstall uma impressora de rede</span><span class="sxs-lookup"><span data-stu-id="31d3b-1220">like for Windows just follow hello standard procedure tooinstall a network printer</span></span>
> * <span data-ttu-id="31d3b-1221">Basta seguir públicos guias de Linux Olá para [SUSE](https://www.suse.com/documentation/sles-12/book_sle_deployment/data/sec_y2_hw_print.html) ou [Red Hat e Oracle Linux](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Deployment_Guide/sec-Printer_Configuration.html) sobre como tooadd uma impressora.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1221">just follow hello public Linux guides for [SUSE](https://www.suse.com/documentation/sles-12/book_sle_deployment/data/sec_y2_hw_print.html) or [Red Hat and Oracle Linux](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Deployment_Guide/sec-Printer_Configuration.html) on how tooadd a printer.</span></span>
>
>

- - -
![Impressão em rede][planning-guide-figure-2200]

##### <a name="host-based-printer-over-smb-shared-printer-in-cross-premises-scenario"></a><span data-ttu-id="31d3b-1223">Impressora baseada em host por SMB (impressora compartilhada) em cenário entre instalações</span><span class="sxs-lookup"><span data-stu-id="31d3b-1223">Host-based printer over SMB (shared printer) in Cross-Premises scenario</span></span>
<span data-ttu-id="31d3b-1224">Impressoras baseadas em host não são compatíveis com rede por design.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1224">Host-based printers are not network-compatible by design.</span></span> <span data-ttu-id="31d3b-1225">Mas uma impressora baseada em host pode ser compartilhada entre computadores em uma rede enquanto impressora Olá estiver conectado tooa do computador ligado.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1225">But a host-based printer can be shared among computers on a network as long as hello printer is connected tooa powered-on computer.</span></span> <span data-ttu-id="31d3b-1226">Conecte sua rede corporativa via site a site ou ExpressRoute e compartilhe a impressora local.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1226">Connect your corporate network either Site-To-Site or ExpressRoute and share your local printer.</span></span> <span data-ttu-id="31d3b-1227">Olá protocolo SMB usa o NetBIOS em vez de DNS como serviço de nomes.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1227">hello SMB protocol uses NetBIOS instead of DNS as name service.</span></span> <span data-ttu-id="31d3b-1228">nome de host NetBIOS Olá pode ser diferente do nome de host DNS hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1228">hello NetBIOS host name can be different from hello DNS host name.</span></span> <span data-ttu-id="31d3b-1229">caso de saudação padrão é que o nome de host NetBIOS hello e nome de host DNS Olá são idênticos.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1229">hello standard case is that hello NetBIOS host name and hello DNS host name are identical.</span></span> <span data-ttu-id="31d3b-1230">domínio do DNS Olá não faz sentido no espaço de nome de NetBIOS hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1230">hello DNS domain does not make sense in hello NetBIOS name space.</span></span> <span data-ttu-id="31d3b-1231">Olá adequadamente, o nome de host DNS totalmente qualificado consiste em nome de host DNS hello e não deve ser usado no espaço de nome de NetBIOS de saudação do domínio DNS.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1231">Accordingly, hello fully qualified DNS host name consisting of hello DNS host name and DNS domain must not be used in hello NetBIOS name space.</span></span>

<span data-ttu-id="31d3b-1232">compartilhamento de impressora Olá é identificado por um nome exclusivo na rede hello:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1232">hello printer share is identified by a unique name in hello network:</span></span>

* <span data-ttu-id="31d3b-1233">Nome do host do host SMB hello (sempre necessário).</span><span class="sxs-lookup"><span data-stu-id="31d3b-1233">Host name of hello SMB host (always needed).</span></span>
* <span data-ttu-id="31d3b-1234">Nome do compartilhamento de saudação (sempre necessário).</span><span class="sxs-lookup"><span data-stu-id="31d3b-1234">Name of hello share (always needed).</span></span>
* <span data-ttu-id="31d3b-1235">Nome do domínio de saudação se o compartilhamento de impressora não está em Olá mesmo domínio que o sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1235">Name of hello domain if printer share is not in hello same domain as SAP system.</span></span>
* <span data-ttu-id="31d3b-1236">Além disso, um nome de usuário e uma senha podem ser necessário tooaccess Olá compartilhamento da impressora.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1236">Additionally, a user name and a password may be required tooaccess hello printer share.</span></span>

<span data-ttu-id="31d3b-1237">Como:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1237">How to:</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="31d3b-1239">Windows</span><span class="sxs-lookup"><span data-stu-id="31d3b-1239">Windows</span></span>
>
> <span data-ttu-id="31d3b-1240">Compartilhe a impressora local.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1240">Share your local printer.</span></span>
> <span data-ttu-id="31d3b-1241">No hello VM do Azure, abra Olá Windows Explorer e digite nome de compartilhamento de saudação de impressora hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1241">In hello Azure VM, open hello Windows Explorer and type in hello share name of hello printer.</span></span>
> <span data-ttu-id="31d3b-1242">Um Assistente de instalação de impressora o guiará pelo processo de instalação de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1242">A printer installation wizard will guide you through hello installation process.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="31d3b-1244">Linux</span><span class="sxs-lookup"><span data-stu-id="31d3b-1244">Linux</span></span>
>
> <span data-ttu-id="31d3b-1245">Aqui estão alguns exemplos de documentação sobre configuração de impressoras de rede no Linux ou inclusão de um capítulo sobre impressão no Linux.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1245">Here are some examples of documentation about configuring network printers in Linux or including a chapter regarding printing in Linux.</span></span> <span data-ttu-id="31d3b-1246">Ele funcionará Olá mesmo modo em uma VM do Linux do Azure, desde que Olá VM faz parte de uma VPN:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1246">It will work hello same way in an Azure Linux VM as long as hello VM is part of a VPN:</span></span>
>
> * <span data-ttu-id="31d3b-1247">SLES <https://en.opensuse.org/SDB:Printing_via_SMB_(Samba)_Share_or_Windows_Share></span><span class="sxs-lookup"><span data-stu-id="31d3b-1247">SLES <https://en.opensuse.org/SDB:Printing_via_SMB_(Samba)_Share_or_Windows_Share></span></span>
> * <span data-ttu-id="31d3b-1248">RHEL ou Oracle Linux <https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/System_Administrators_Guide/sec-Printer_Configuration.html#s1-printing-smb-printer></span><span class="sxs-lookup"><span data-stu-id="31d3b-1248">RHEL or Oracle Linux <https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/System_Administrators_Guide/sec-Printer_Configuration.html#s1-printing-smb-printer></span></span>
>
>

- - -
##### <a name="usb-printer-printer-forwarding"></a><span data-ttu-id="31d3b-1249">Impressora USB (encaminhamento de impressora)</span><span class="sxs-lookup"><span data-stu-id="31d3b-1249">USB Printer (printer forwarding)</span></span>
<span data-ttu-id="31d3b-1250">Capacidade de saudação do Azure de acesso de Olá Olá Remote Desktop Services tooprovide usuários tootheir dispositivos de impressora locais em uma sessão remota não está disponível.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1250">In Azure hello ability of hello Remote Desktop Services tooprovide users hello access tootheir local printer devices in a remote session is not available.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="31d3b-1252">Windows</span><span class="sxs-lookup"><span data-stu-id="31d3b-1252">Windows</span></span>
>
> <span data-ttu-id="31d3b-1253">Mais detalhes sobre como imprimir com o Windows podem ser encontrados aqui: <http://technet.microsoft.com/library/jj590748.aspx>.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1253">More details on printing with Windows can be found here: <http://technet.microsoft.com/library/jj590748.aspx>.</span></span>
>
>

- - -
#### <a name="integration-of-sap-azure-systems-into-correction-and-transport-system-tms-in-cross-premises"></a><span data-ttu-id="31d3b-1254">Integração de sistemas SAP do Azure ao Sistema de Correção e Transporte (TMS) para cenáros entre instalações</span><span class="sxs-lookup"><span data-stu-id="31d3b-1254">Integration of SAP Azure Systems into Correction and Transport System (TMS) in Cross-Premises</span></span>
<span data-ttu-id="31d3b-1255">Olá tooexport toobe configurado de necessidades de alteração do SAP e transporte TMS (sistema) e importar solicitações de transporte entre sistemas em Paisagem hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1255">hello SAP Change and Transport System (TMS) needs toobe configured tooexport and import transport request across systems in hello landscape.</span></span> <span data-ttu-id="31d3b-1256">Vamos supor que instâncias de desenvolvimento de saudação de um sistema SAP (DEV) estejam localizadas no Azure enquanto Olá qualidade (QA) e sistemas de produção (PRD) são locais.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1256">We assume that hello development instances of an SAP system (DEV) are located in Azure whereas hello quality assurance (QA) and productive systems (PRD) are on-premises.</span></span> <span data-ttu-id="31d3b-1257">Além disso, pressupomos que exista um diretório de transporte central.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1257">Furthermore, we assume that there is a central transport directory.</span></span>

##### <a name="configuring-hello-transport-domain"></a><span data-ttu-id="31d3b-1258">Configurando Olá domínio de transporte</span><span class="sxs-lookup"><span data-stu-id="31d3b-1258">Configuring hello Transport Domain</span></span>
<span data-ttu-id="31d3b-1259">Configurar seu domínio de transporte no sistema de saudação designado como Olá controlador de domínio de transporte, conforme descrito em [Configurando Olá controlador de domínio de transporte](http://help.sap.com/erp2005_ehp_04/helpdata/en/44/b4a0b47acc11d1899e0000e829fbbd/content.htm).</span><span class="sxs-lookup"><span data-stu-id="31d3b-1259">Configure your Transport Domain on hello system you designated as hello Transport Domain Controller as described in [Configuring hello Transport Domain Controller](http://help.sap.com/erp2005_ehp_04/helpdata/en/44/b4a0b47acc11d1899e0000e829fbbd/content.htm).</span></span> <span data-ttu-id="31d3b-1260">Um usuário do sistema que TMSADM será criado e hello necessário destino RFC será gerado.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1260">A system user TMSADM will be created and hello required RFC destination will be generated.</span></span> <span data-ttu-id="31d3b-1261">Você pode verificar essas conexões RFC usando Olá transação SM59.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1261">You may check these RFC connections using hello transaction SM59.</span></span> <span data-ttu-id="31d3b-1262">A resolução do nome do host deve estar habilitada em seu domínio de transporte.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1262">Hostname resolution must be enabled across your transport domain.</span></span>

<span data-ttu-id="31d3b-1263">Como:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1263">How to:</span></span>

* <span data-ttu-id="31d3b-1264">Em nosso cenário, decidimos Olá sistema QAS será o controlador de domínio CTS Olá ao local.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1264">In our scenario we decided hello on-premises QAS system will be hello CTS domain controller.</span></span> <span data-ttu-id="31d3b-1265">Chame a transação STMS.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1265">Call transaction STMS.</span></span> <span data-ttu-id="31d3b-1266">caixa de diálogo TMS Olá é exibida.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1266">hello TMS dialog box appears.</span></span> <span data-ttu-id="31d3b-1267">Uma caixa de diálogo Configurar Domínio de Transporte é exibida.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1267">A Configure Transport Domain dialog box is displayed.</span></span> <span data-ttu-id="31d3b-1268">(Essa caixa de diálogo só aparece se você ainda não tiver configurado um domínio de transporte.)</span><span class="sxs-lookup"><span data-stu-id="31d3b-1268">(This dialog box only appears if you have not yet configured a transport domain.)</span></span>
* <span data-ttu-id="31d3b-1269">Certifique-se de que o usuário Olá criado automaticamente TMSADM está autorizado (SM59 -> Conexão ABAP -> TMSADM@E61.DOMAIN_E61 -> detalhes -> utilitários (m) -> teste de autorização).</span><span class="sxs-lookup"><span data-stu-id="31d3b-1269">Make sure that hello automatically created user TMSADM is authorized (SM59 -> ABAP Connection -> TMSADM@E61.DOMAIN_E61 -> Details -> Utilities(M) -> Authorization Test).</span></span> <span data-ttu-id="31d3b-1270">tela de saudação inicial da transação STMS deverá mostrar que esse sistema SAP agora estará funcionando como controlador de saudação do domínio de transporte Olá conforme mostrado aqui:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1270">hello initial screen of transaction STMS should show that this SAP System is now functioning as hello controller of hello transport domain as shown here:</span></span>

![Tela inicial da transação STMS no controlador de domínio Olá][planning-guide-figure-2300]

#### <a name="including-sap-systems-in-hello-transport-domain"></a><span data-ttu-id="31d3b-1272">Incluindo sistemas SAP no domínio de transporte de saudação</span><span class="sxs-lookup"><span data-stu-id="31d3b-1272">Including SAP Systems in hello Transport Domain</span></span>
<span data-ttu-id="31d3b-1273">sequência de saudação de inclusão de um sistema SAP em um domínio de transporte será semelhante ao seguinte:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1273">hello sequence of including an SAP system in a transport domain looks as follows:</span></span>

* <span data-ttu-id="31d3b-1274">No hello sistema DEV no Azure, vá toohello sistema de transporte (cliente 000) e chame a transação STMS.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1274">On hello DEV system in Azure, go toohello transport system (Client 000) and call transaction STMS.</span></span> <span data-ttu-id="31d3b-1275">Escolha outra configuração na caixa de diálogo hello e continue com incluir sistema no domínio.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1275">Choose Other Configuration from hello dialog box and continue with Include System in Domain.</span></span> <span data-ttu-id="31d3b-1276">Especificar Olá controlador de domínio como o host de destino ([incluindo sistemas SAP no domínio de transporte de saudação](http://help.sap.com/erp2005_ehp_04/helpdata/en/44/b4a0c17acc11d1899e0000e829fbbd/content.htm?frameset=/en/44/b4a0b47acc11d1899e0000e829fbbd/frameset.htm)).</span><span class="sxs-lookup"><span data-stu-id="31d3b-1276">Specify hello Domain Controller as target host ([Including SAP Systems in hello Transport Domain](http://help.sap.com/erp2005_ehp_04/helpdata/en/44/b4a0c17acc11d1899e0000e829fbbd/content.htm?frameset=/en/44/b4a0b47acc11d1899e0000e829fbbd/frameset.htm)).</span></span> <span data-ttu-id="31d3b-1277">sistema de Olá agora está aguardando toobe incluído no domínio de transporte de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1277">hello system is now waiting toobe included in hello transport domain.</span></span>
* <span data-ttu-id="31d3b-1278">Por motivos de segurança, você tem tooconfirm de controlador de domínio de backup toohello toogo sua solicitação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1278">For security reasons, you then have toogo back toohello domain controller tooconfirm your request.</span></span> <span data-ttu-id="31d3b-1279">Escolha visão geral do sistema e aprovar do sistema em espera hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1279">Choose System Overview and Approve of hello waiting system.</span></span> <span data-ttu-id="31d3b-1280">Em seguida, confirme configuração saudação de prompt e hello será distribuída.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1280">Then confirm hello prompt and hello configuration will be distributed.</span></span>

<span data-ttu-id="31d3b-1281">Esse sistema SAP agora contém informações necessárias de saudação sobre Olá todos os outros sistemas SAP no domínio de transporte hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1281">This SAP system now contains hello necessary information about all hello other SAP systems in hello transport domain.</span></span> <span data-ttu-id="31d3b-1282">A saudação mesmo momento, endereço de saudação dados do sistema SAP da nova Olá são enviados tooall Olá outros sistemas SAP e Olá sistema SAP é inserido no perfil de transporte de saudação do programa de controle de transporte hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1282">At hello same time, hello address data of hello new SAP system is sent tooall hello other SAP systems, and hello SAP system is entered in hello transport profile of hello transport control program.</span></span> <span data-ttu-id="31d3b-1283">Verifique se RFCs e acessar o diretório de transporte de toohello do domínio Olá funcionam.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1283">Check whether RFCs and access toohello transport directory of hello domain work.</span></span>

<span data-ttu-id="31d3b-1284">Continue com a configuração de saudação do seu sistema de transporte normalmente conforme descrito na documentação de saudação [Change and Transport System](http://help.sap.com/saphelp_nw70ehp3/helpdata/en/48/c4300fca5d581ce10000000a42189c/content.htm?frameset=/en/44/b4a0b47acc11d1899e0000e829fbbd/frameset.htm).</span><span class="sxs-lookup"><span data-stu-id="31d3b-1284">Continue with hello configuration of your transport system as usual as described in hello documentation [Change and Transport System](http://help.sap.com/saphelp_nw70ehp3/helpdata/en/48/c4300fca5d581ce10000000a42189c/content.htm?frameset=/en/44/b4a0b47acc11d1899e0000e829fbbd/frameset.htm).</span></span>

<span data-ttu-id="31d3b-1285">Como:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1285">How to:</span></span>

* <span data-ttu-id="31d3b-1286">Certificar-se de que o STMS local está configurado corretamente.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1286">Make sure your STMS on premises is configured correctly.</span></span>
* <span data-ttu-id="31d3b-1287">Verifique se o nome de host de saudação do hello controlador de domínio de transporte pode ser resolvido pela sua máquina virtual no Azure e vice-versa.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1287">Make sure hello hostname of hello Transport Domain Controller can be resolved by your virtual machine on Azure and vice visa.</span></span>
* <span data-ttu-id="31d3b-1288">Chamar a transação STMS -> Outras Configurações -> Incluir Sistema no Domínio.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1288">Call transaction STMS -> Other Configuration -> Include System in Domain.</span></span>
* <span data-ttu-id="31d3b-1289">Confirme conexão Olá em Olá no sistema TMS local.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1289">Confirm hello connection in hello on premises TMS system.</span></span>
* <span data-ttu-id="31d3b-1290">Configurar camadas, grupos e rotas de transporte como de costume.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1290">Configure transport routes, groups and layers as usual.</span></span>

<span data-ttu-id="31d3b-1291">No site a site conectado entre locais cenários, latência de saudação entre local e o Azure ainda pode ser significativa.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1291">In site-to-site connected cross-premises scenarios, hello latency between on-premises and Azure still can be substantial.</span></span> <span data-ttu-id="31d3b-1292">Se é seguir Olá sequência de transportar objetos através de tooproduction de sistemas de desenvolvimento e teste ou pensarmos em aplicar os transportes ou pacotes de suporte toohello diferentes sistemas, você percebe que, depende do local de saudação do transporte central Olá diretório, alguns Olá sistemas encontrará alta latência, ler ou gravar dados no diretório de transporte central hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1292">If we follow hello sequence of transporting objects through development and test systems tooproduction or think about applying transports or support packages toohello different systems, you realize that, dependent on hello location of hello central transport directory, some of hello systems will encounter high latency reading or writing data in hello central transport directory.</span></span> <span data-ttu-id="31d3b-1293">situação Olá é configurações semelhantes de paisagem tooSAP onde o hello diferentes sistemas estão distribuídos por meio de data centers diferentes substancial distância entre os data centers de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1293">hello situation is similar tooSAP landscape configurations where hello different systems are spread through different data centers with substantial distance between hello data centers.</span></span>

<span data-ttu-id="31d3b-1294">Em ordem toowork esse problema de latência e ter sistemas Olá funcionar rápida em ler ou gravar tooor do diretório de transporte hello, você pode configurar dois domínios de transporte STMS (um para o local. e outro com sistemas de saudação em domínios de transporte de saudação do Azure e link</span><span class="sxs-lookup"><span data-stu-id="31d3b-1294">In order toowork around such latency and have hello systems work fast in reading or writing tooor from hello transport directory, you can set up two STMS transport domains (one for on-premises and one with hello systems in Azure and link hello transport domains.</span></span> <span data-ttu-id="31d3b-1295">Verifique se esta documentação que explica os princípios de saudação por trás desse conceito no SAP TMS de saudação: <http://help.sap.com/saphelp_me60/helpdata/en/c4/6045377b52253de10000009b38f889/content.htm?frameset=/en/57/ 38dd924eb711d182bf0000e829fbfe/FRAMESET.htm>.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1295">Please check this documentation which explains hello principles behind this concept in hello SAP TMS: <http://help.sap.com/saphelp_me60/helpdata/en/c4/6045377b52253de10000009b38f889/content.htm?frameset=/en/57/38dd924eb711d182bf0000e829fbfe/frameset.htm>.</span></span>

<span data-ttu-id="31d3b-1296">Como:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1296">How to:</span></span>

* <span data-ttu-id="31d3b-1297">Configurar um domínio de transporte em cada localização (local e no Azure) usando a transação STMS <http://help.sap.com/saphelp_nw70ehp3/helpdata/en/44/b4a0b47acc11d1899e0000e829fbbd/content.htm></span><span class="sxs-lookup"><span data-stu-id="31d3b-1297">Set up a transport domain on each location (on-premises and Azure) using transaction STMS <http://help.sap.com/saphelp_nw70ehp3/helpdata/en/44/b4a0b47acc11d1899e0000e829fbbd/content.htm></span></span>
* <span data-ttu-id="31d3b-1298">Vincular domínios Olá com um link de domínio e confirme Olá link entre dois domínios de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1298">Link hello domains with a domain link and confirm hello link between hello two domains.</span></span>
  <span data-ttu-id="31d3b-1299"><http://help.sap.com/saphelp_nw73ehp1/helpdata/en/a3/139838280c4f18e10000009b38f8cf/content.htm></span><span class="sxs-lookup"><span data-stu-id="31d3b-1299"><http://help.sap.com/saphelp_nw73ehp1/helpdata/en/a3/139838280c4f18e10000009b38f8cf/content.htm></span></span>
* <span data-ttu-id="31d3b-1300">Distribua Olá configuração toohello vinculado sistema.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1300">Distribute hello configuration toohello linked system.</span></span>

#### <a name="rfc-traffic-between-sap-instances-located-in-azure-and-on-premises-cross-premises"></a><span data-ttu-id="31d3b-1301">Tráfego RFC entre instâncias SAP localizadas no Azure e localmente (entre instalações)</span><span class="sxs-lookup"><span data-stu-id="31d3b-1301">RFC traffic between SAP instances located in Azure and on-premises (Cross-Premises)</span></span>
<span data-ttu-id="31d3b-1302">Tráfego RFC entre os sistemas que estão no local e no Azure precisa toowork.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1302">RFC traffic between systems which are on-premises and in Azure needs toowork.</span></span> <span data-ttu-id="31d3b-1303">tooset se uma conexão chamada transação SM59 em um sistema de origem em que você precisa toodefine uma conexão RFC para o sistema de destino de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1303">tooset up a connection call transaction SM59 in a source system where you need toodefine an RFC connection towards hello target system.</span></span> <span data-ttu-id="31d3b-1304">configuração de saudação é uma configuração padrão do toohello semelhante de uma Conexão RFC.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1304">hello configuration is similar toohello standard setup of an RFC Connection.</span></span>

<span data-ttu-id="31d3b-1305">Vamos supor que no cenário entre locais de hello, Olá VMs que executavam sistemas SAP que precisam toocommunicate uns com os outros estão em Olá mesmo domínio.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1305">We assume that in hello cross-premises scenario, hello VMs which run SAP systems that need toocommunicate with each other are in hello same domain.</span></span> <span data-ttu-id="31d3b-1306">Portanto hello instalação de uma conexão RFC entre os sistemas SAP não difere entradas em cenários locais e etapas de instalação de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1306">Therefore hello setup of an RFC connection between SAP systems does not differ from hello setup steps and inputs in on-premises scenarios.</span></span>

#### <a name="accessing-local-fileshares-from-sap-instances-located-in-azure-or-vice-versa"></a><span data-ttu-id="31d3b-1307">Acessando compartilhamentos de arquivos 'locais' de instâncias SAP localizadas no Azure ou vice-versa</span><span class="sxs-lookup"><span data-stu-id="31d3b-1307">Accessing ‘local’ fileshares from SAP instances located in Azure or vice versa</span></span>
<span data-ttu-id="31d3b-1308">As instâncias SAP localizadas no Azure precisam tooaccess compartilhamentos de arquivos que estão nas instalações corporativas hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1308">SAP instances located in Azure need tooaccess file shares which are within hello corporate premises.</span></span> <span data-ttu-id="31d3b-1309">Além disso, as instâncias SAP locais precisam tooaccess compartilhamentos de arquivos que estão localizados no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1309">In addition, on-premises SAP instances need tooaccess file shares which are located in Azure.</span></span> <span data-ttu-id="31d3b-1310">compartilhamentos de arquivos de saudação tooenable você deve configurar permissões hello e opções de compartilhamento no sistema local hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1310">tooenable hello file shares you must configure hello permissions and sharing options on hello local system.</span></span> <span data-ttu-id="31d3b-1311">Certifique-se de que tooopen Olá portas Olá VPN ou conexão de rota expressa entre o Azure e seu datacenter.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1311">Make sure tooopen hello ports on hello VPN or ExpressRoute connection between Azure and your datacenter.</span></span>

## <a name="supportability"></a><span data-ttu-id="31d3b-1312">Capacidade de suporte</span><span class="sxs-lookup"><span data-stu-id="31d3b-1312">Supportability</span></span>
### <span data-ttu-id="31d3b-1313"><a name="6f0a47f3-a289-4090-a053-2521618a28c3"></a>Solução de monitoramento do Azure para SAP</span><span class="sxs-lookup"><span data-stu-id="31d3b-1313"><a name="6f0a47f3-a289-4090-a053-2521618a28c3"></a>Azure Monitoring Solution for SAP</span></span>
<span data-ttu-id="31d3b-1314">Em ordem tooenable Olá monitoramento de sistemas SAP essenciais no Azure Olá SAP ferramentas de monitoramento como SAPOSCOL e SAP Host Agent obtém dados de host de serviço de máquina Virtual do Azure Olá por meio de uma extensão de monitoramento do Azure para SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1314">In order tooenable hello monitoring of mission critical SAP systems on Azure hello SAP monitoring tools SAPOSCOL or SAP Host Agent get data off hello Azure Virtual Machine Service host via an Azure Monitoring Extension for SAP.</span></span> <span data-ttu-id="31d3b-1315">Como Olá demandas da SAP eram muito específicas tooSAP aplicativos, a Microsoft decidiu não toogenerically implementar Olá necessário funcionalidade no Azure, mas deixá-lo para os clientes toodeploy Olá necessário monitoramento componentes e as configurações tootheir Máquinas virtuais em execução no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1315">Since hello demands by SAP were very specific tooSAP applications, Microsoft decided not toogenerically implement hello required functionality into Azure, but leave it for customers toodeploy hello necessary monitoring components and configurations tootheir Virtual Machines running in Azure.</span></span> <span data-ttu-id="31d3b-1316">No entanto, implantação e o ciclo de vida do gerenciamento de saudação componentes de monitoramento será automatizado principalmente pelo Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1316">However, deployment and lifecycle management of hello monitoring components will be mostly automated by Azure.</span></span>

#### <a name="solution-design"></a><span data-ttu-id="31d3b-1317">Design da solução</span><span class="sxs-lookup"><span data-stu-id="31d3b-1317">Solution design</span></span>
<span data-ttu-id="31d3b-1318">solução de saudação desenvolvida tooenable que monitoramento do SAP se baseia na arquitetura de saudação do agente de VM do Azure e do framework de extensão.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1318">hello solution developed tooenable SAP Monitoring is based on hello architecture of Azure VM Agent and Extension framework.</span></span> <span data-ttu-id="31d3b-1319">ideia de saudação do framework de agente de VM do Azure e a extensão de saudação é tooallow instalação de aplicativos de software disponíveis na Galeria de extensão de VM do Azure hello dentro de uma máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1319">hello idea of hello Azure VM Agent and Extension framework is tooallow installation of software application(s) available in hello Azure VM Extension gallery within a VM.</span></span> <span data-ttu-id="31d3b-1320">Olá princípio ideia por trás desse conceito é tooallow (em casos como Olá extensão de monitoramento do Azure para SAP), Olá implantação de funcionalidades especiais em uma configuração de VM e hello desse software no momento da implantação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1320">hello principle idea behind this concept is tooallow (in cases like hello Azure Monitoring Extension for SAP), hello deployment of special functionality into a VM and hello configuration of such software at deployment time.</span></span>

<span data-ttu-id="31d3b-1321">Olá 'Azure VM Agent' que permite a manipulação de extensões de VM do Azure específico dentro da VM é injetada em VMs do Windows por padrão na criação de VM no portal do Azure de saudação do hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1321">hello 'Azure VM Agent' that enables handling of specific Azure VM Extensions within hello VM is injected into Windows VMs by default on VM creation in hello Azure portal.</span></span> <span data-ttu-id="31d3b-1322">No caso de SUSE, Red Hat ou Oracle Linux, agente de VM Olá já é parte da imagem do Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1322">In case of SUSE, Red Hat or Oracle Linux, hello VM agent is already part of the Azure Marketplace image.</span></span> <span data-ttu-id="31d3b-1323">No caso de um seria carregar uma VM do Linux do agente de VM do local tooAzure Olá tem toobe instalado manualmente.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1323">In case one would upload a Linux VM from on-premises tooAzure hello VM agent has toobe installed manually.</span></span>

<span data-ttu-id="31d3b-1324">Olá blocos de construção básicos da solução de monitoramento de saudação no Azure para SAP tem esta aparência:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1324">hello basic building blocks of hello Monitoring solution in Azure for SAP looks like this:</span></span>

![Componentes de extensão do Microsoft Azure][planning-guide-figure-2400]

<span data-ttu-id="31d3b-1326">Conforme mostrado no diagrama de bloco Olá acima, uma parte da solução de monitoramento para SAP de saudação é hospedada no hello imagem de VM do Azure e Galeria de extensões do Azure que é um repositório global replicado gerenciado por operações do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1326">As shown in hello block diagram above, one part of hello monitoring solution for SAP is hosted in hello Azure VM Image and Azure Extension Gallery which is a globally replicated repository that is managed by Azure Operations.</span></span> <span data-ttu-id="31d3b-1327">É responsabilidade de saudação da equipe SAP/MS conjunta Olá trabalhando Olá implementação do Azure do SAP toowork com operações do Azure toopublish novas versões do hello extensão de monitoramento do Azure para SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1327">It is hello responsibility of hello joint SAP/MS team working on hello Azure implementation of SAP toowork with Azure Operations toopublish new versions of hello Azure Monitoring Extension for SAP.</span></span>

<span data-ttu-id="31d3b-1328">Quando você implanta uma nova VM do Windows, Olá 'Agente de VM do Azure' é automaticamente adicionada ao Olá VM.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1328">When you deploy a new Windows VM, hello ‘Azure VM Agent’ is automatically added into hello VM.</span></span> <span data-ttu-id="31d3b-1329">função Hello desse agente é toocoordinate Olá carregamento e a configuração de saudação extensões do Azure para o monitoramento de sistemas SAP NetWeaver.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1329">hello function of this agent is toocoordinate hello loading and configuration of hello Azure Extensions for monitoring of SAP NetWeaver Systems.</span></span> <span data-ttu-id="31d3b-1330">Para VMs do Linux hello Azure VM Agent já é parte da imagem do sistema operacional do Azure Marketplace hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1330">For Linux VMs hello Azure VM Agent is already part of hello Azure Marketplace OS image.</span></span>

<span data-ttu-id="31d3b-1331">No entanto, há uma etapa que ainda precisa toobe executado pelo cliente de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1331">However, there is a step that still needs toobe executed by hello customer.</span></span> <span data-ttu-id="31d3b-1332">Isso é habilitação hello e a configuração de coleta de desempenho de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1332">This is hello enablement and configuration of hello performance collection.</span></span> <span data-ttu-id="31d3b-1333">processo de saudação relacionado toohello 'configuration' é automatizado por um script do PowerShell ou o comando CLI.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1333">hello process related toohello ‘configuration’ is automated by a PowerShell script or CLI command.</span></span> <span data-ttu-id="31d3b-1334">Olá script do PowerShell pode ser baixado em Olá Microsoft Azure Script Center, conforme descrito em hello [guia de implantação][deployment-guide].</span><span class="sxs-lookup"><span data-stu-id="31d3b-1334">hello PowerShell script can be downloaded in hello Microsoft Azure Script Center as described in hello [Deployment Guide][deployment-guide].</span></span>

<span data-ttu-id="31d3b-1335">Olá arquitetura geral do hello Azure solução de monitoramento para SAP é semelhante a:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1335">hello overall Architecture of hello Azure monitoring solution for SAP looks like:</span></span>

![Solução de monitoramento do Azure para SAP NetWeaver][planning-guide-figure-2500]

<span data-ttu-id="31d3b-1337">**Para Olá exatamente como-tooand para obter etapas detalhadas de como usar esses cmdlets do PowerShell ou o comando CLI durante as implantações, siga as instruções de saudação fornecidas em Olá [guia de implantação][deployment-guide].**</span><span class="sxs-lookup"><span data-stu-id="31d3b-1337">**For hello exact how-tooand for detailed steps of using these PowerShell cmdlets or CLI command during deployments, follow hello instructions given in hello [Deployment Guide][deployment-guide].**</span></span>

### <a name="integration-of-azure-located-sap-instance-into-saprouter"></a><span data-ttu-id="31d3b-1338">Integração de instância SAP localizada no Azure ao SAProuter</span><span class="sxs-lookup"><span data-stu-id="31d3b-1338">Integration of Azure located SAP instance into SAProuter</span></span>
<span data-ttu-id="31d3b-1339">Instâncias SAP em execução no Azure precisam toobe acessível a partir do SAProuter também.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1339">SAP instances running in Azure need toobe accessible from SAProuter as well.</span></span>

![Conexão de rede de roteador SAP][planning-guide-figure-2600]

<span data-ttu-id="31d3b-1341">Um SAProuter permite a comunicação de TCP/IP de saudação entre os sistemas participantes se não houver nenhuma conexão IP direta.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1341">A SAProuter enables hello TCP/IP communication between participating systems if there is no direct IP connection.</span></span> <span data-ttu-id="31d3b-1342">Isso fornece a vantagem de saudação que nenhuma conexão de ponta a ponta entre parceiros de comunicação de saudação é necessário no nível da rede.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1342">This provides hello advantage that no end-to-end connection between hello communication partners is necessary on network level.</span></span> <span data-ttu-id="31d3b-1343">Olá SAProuter está escutando na porta 3299 por padrão.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1343">hello SAProuter is listening on port 3299 by default.</span></span>
<span data-ttu-id="31d3b-1344">instâncias de tooconnect SAP através de um SAProuter necessário toogive Olá cadeia de caracteres do SAProuter e o nome de host com qualquer tentativa de tooconnect.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1344">tooconnect SAP instances through a SAProuter you need toogive hello SAProuter string and host name with any attempt tooconnect.</span></span>

## <a name="sap-netweaver-as-java"></a><span data-ttu-id="31d3b-1345">Servidor de Aplicativos para Java do SAP NetWeaver</span><span class="sxs-lookup"><span data-stu-id="31d3b-1345">SAP NetWeaver AS Java</span></span>
<span data-ttu-id="31d3b-1346">Até agora Olá foco Olá documento foi SAP NetWeaver em geral ou Olá pilha ABAP do SAP NetWeaver.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1346">So far hello focus of hello document has been SAP NetWeaver in general or hello SAP NetWeaver ABAP stack.</span></span> <span data-ttu-id="31d3b-1347">Nesta pequena seção, considerações específicas para pilha Java do SAP de saudação são listadas.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1347">In this small section, specific considerations for hello SAP Java stack are listed.</span></span> <span data-ttu-id="31d3b-1348">Uma saudação mais importante de que aplicativos Java do SAP NetWeaver exclusivamente com base é hello SAP Enterprise Portal.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1348">One of hello most important SAP NetWeaver Java exclusively based applications is hello SAP Enterprise Portal.</span></span> <span data-ttu-id="31d3b-1349">Outros SAP NetWeaver com base em aplicativos como SAP PI e o SAP Solution Manager usam Olá ABAP do SAP NetWeaver e pilhas de Java.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1349">Other SAP NetWeaver based applications like SAP PI and SAP Solution Manager use both hello SAP NetWeaver ABAP and Java stacks.</span></span> <span data-ttu-id="31d3b-1350">Portanto, certamente há uma necessidade tooconsider aspectos específicos relacionados toohello Java do SAP NetWeaver pilha também.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1350">Therefore, there certainly is a need tooconsider specific aspects related toohello SAP NetWeaver Java stack as well.</span></span>

### <a name="sap-enterprise-portal"></a><span data-ttu-id="31d3b-1351">SAP Enterprise Portal</span><span class="sxs-lookup"><span data-stu-id="31d3b-1351">SAP Enterprise Portal</span></span>
<span data-ttu-id="31d3b-1352">configuração de saudação de um SAP Portal em uma máquina Virtual do Azure não é a diferença entre uma instalação local em se você estiver implantando em cenários entre locais.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1352">hello setup of an SAP Portal in an Azure Virtual Machine does not differ from an on premises installation if you are deploying in cross-premises scenarios.</span></span> <span data-ttu-id="31d3b-1353">Desde Olá que DNS é feito por local, configurações de porta de saudação de instâncias individuais do hello podem ser feitas como configurado no local.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1353">Since hello DNS is done by on-premises, hello port settings of hello individual instances can be done as configured on-premises.</span></span> <span data-ttu-id="31d3b-1354">recomendações de saudação e restrições descritas neste documento até agora se aplicam para um aplicativo como o SAP Enterprise Portal ou a pilha de Java do SAP NetWeaver Olá em geral.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1354">hello recommendations and restrictions described in this document so far apply for an application like SAP Enterprise Portal or hello SAP NetWeaver Java stack in general.</span></span>

![Portal SAP exposto][planning-guide-figure-2700]

<span data-ttu-id="31d3b-1356">Um cenário de implantação especial por alguns clientes é a exposição direta Olá de saudação SAP Enterprise Portal toohello Internet enquanto host de máquina virtual de saudação é conectado toohello rede da empresa por meio do túnel VPN de site a site ou rota expressa.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1356">A special deployment scenario by some customers is hello direct exposure of hello SAP Enterprise Portal toohello Internet while hello virtual machine host is connected toohello company network via site-to-site VPN tunnel or ExpressRoute.</span></span> <span data-ttu-id="31d3b-1357">Para esse cenário, você deve ter toomake-se de que portas específicas são abertos e não está bloqueado por grupo de segurança de rede ou firewall.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1357">For such a scenario, you have toomake sure that specific ports are open and not blocked by firewall or network security group.</span></span> <span data-ttu-id="31d3b-1358">Olá mesma mecânica precisaria toobe aplicada quando você quiser tooconnect tooan SAP Java instância do local em um cenário somente em nuvem.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1358">hello same mechanics would need toobe applied when you want tooconnect tooan SAP Java instance from on-premises in a Cloud-Only scenario.</span></span>

<span data-ttu-id="31d3b-1359">Olá URI inicial do portal é http:`<Portalserver`>: 5XX00/irj onde porta Olá é formada por mais de 50000 (número de sistema × 100).</span><span class="sxs-lookup"><span data-stu-id="31d3b-1359">hello initial portal URI is http(s):`<Portalserver`>:5XX00/irj where hello port is formed by 50000 plus (Systemnumber × 100).</span></span> <span data-ttu-id="31d3b-1360">Olá padrão portal URI do sistema SAP 00 é `<dns name`>.`<azure region` >.Cloudapp.azure.com:PublicPort/irj.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1360">hello default portal URI of SAP system 00 is `<dns name`>.`<azure region`>.Cloudapp.azure.com:PublicPort/irj.</span></span> <span data-ttu-id="31d3b-1361">Para obter mais detalhes, veja <http://help.sap.com/saphelp_nw70ehp1/helpdata/de/a2/f9d7fed2adc340ab462ae159d19509/frameset.htm>.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1361">For more details, have a look at <http://help.sap.com/saphelp_nw70ehp1/helpdata/de/a2/f9d7fed2adc340ab462ae159d19509/frameset.htm>.</span></span>

![Configuração de ponto de extremidade][planning-guide-figure-2800]

<span data-ttu-id="31d3b-1363">Se você quiser toocustomize Olá URL e/ou as portas do seu SAP Enterprise Portal, consulte esta documentação:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1363">If you want toocustomize hello URL and/or ports of your SAP Enterprise Portal, please check this documentation:</span></span>

* [<span data-ttu-id="31d3b-1364">Alterar URL do portal</span><span class="sxs-lookup"><span data-stu-id="31d3b-1364">Change Portal URL</span></span>](http://wiki.scn.sap.com/wiki/display/EP/Change+Portal+URL)
* [<span data-ttu-id="31d3b-1365">Alterar os Números de porta padrão, Números de porta do portal</span><span class="sxs-lookup"><span data-stu-id="31d3b-1365">Change Default port numbers, Portal port numbers</span></span>](http://wiki.scn.sap.com/wiki/display/NWTech/Change+Default++port+numbers%2C+Portal+port+numbers)

## <a name="high-availability-ha-and-disaster-recovery-dr-for-sap-netweaver-running-on-azure-virtual-machines"></a><span data-ttu-id="31d3b-1366">HA (alta disponibilidade) e DR (recuperação de desastre) para SAP NetWeaver em execução em máquinas virtuais do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-1366">High Availability (HA) and Disaster Recovery (DR) for SAP NetWeaver running on Azure Virtual Machines</span></span>
### <a name="definition-of-terminologies"></a><span data-ttu-id="31d3b-1367">Definição de terminologias</span><span class="sxs-lookup"><span data-stu-id="31d3b-1367">Definition of terminologies</span></span>
<span data-ttu-id="31d3b-1368">termo Olá **alta disponibilidade (HA)** é geralmente relacionado tooa um conjunto de tecnologias que minimiza interrupções de IT, fornecendo a continuidade de negócios dos serviços de TI por meio de redundância, tolerantes a falhas ou componentes protegidos de failover dentro de saudação **mesmo** Centro de dados.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1368">hello term **high availability (HA)** is generally related tooa set of technologies that minimizes IT disruptions by providing business continuity of IT services through redundant, fault-tolerant or failover protected components inside hello **same** data center.</span></span> <span data-ttu-id="31d3b-1369">Em nosso caso, dentro de uma Região do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1369">In our case, within one Azure Region.</span></span>

<span data-ttu-id="31d3b-1370">**A DR (recuperação de desastre)** também está voltada para minimizar as interrupções dos serviços de TI e a recuperação de dados, mas em **diferentes** data centers, que estão normalmente localizados a centenas de quilômetros de distância.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1370">**Disaster recovery (DR)** is also targeting minimizing IT services disruption, and their recovery but across **different** data centers, that are usually located hundreds of kilometers away.</span></span> <span data-ttu-id="31d3b-1371">Em nosso caso geralmente entre diferentes regiões do Azure em Olá mesma região geopolíticas ou como definido por você, como um cliente.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1371">In our case usually between different Azure Regions within hello same geopolitical region or as established by you as a customer.</span></span>

### <a name="overview-of-high-availability"></a><span data-ttu-id="31d3b-1372">Visão Geral de Alta Disponibilidade</span><span class="sxs-lookup"><span data-stu-id="31d3b-1372">Overview of High Availability</span></span>
<span data-ttu-id="31d3b-1373">Poderá Separamos discussão Olá sobre SAP alta disponibilidade no Azure em duas partes:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1373">We can separate hello discussion about SAP high availability in Azure into two parts:</span></span>

* <span data-ttu-id="31d3b-1374">**Alta disponibilidade da infraestrutura do Azure**, por exemplo, alta disponibilidade de computação (VMs), rede, armazenamento etc., e seus benefícios para aumentar a disponibilidade do aplicativo SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1374">**Azure infrastructure high availability**, for example HA of compute (VMs), network, storage etc. and its benefits for increasing SAP application availability.</span></span>
* <span data-ttu-id="31d3b-1375">**Alta disponibilidade de aplicativos SAP**, por exemplo, alta disponibilidade de componentes de software SAP:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1375">**SAP application high availability**, for example HA of SAP software components:</span></span>
  * <span data-ttu-id="31d3b-1376">Servidores de aplicativos SAP</span><span class="sxs-lookup"><span data-stu-id="31d3b-1376">SAP application servers</span></span>
  * <span data-ttu-id="31d3b-1377">Instância ASCS/SCS SAP</span><span class="sxs-lookup"><span data-stu-id="31d3b-1377">SAP ASCS/SCS instance</span></span>
  * <span data-ttu-id="31d3b-1378">servidor do BD</span><span class="sxs-lookup"><span data-stu-id="31d3b-1378">DB server</span></span>

<span data-ttu-id="31d3b-1379">e como ele pode ser combinado com alta disponibilidade de infraestrutura do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1379">and how it can be combined with Azure infrastructure HA.</span></span>

<span data-ttu-id="31d3b-1380">Alta disponibilidade do SAP no Azure tem algumas tooSAP diferenças em comparação com alta disponibilidade em um ambiente do local físico ou virtual.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1380">SAP High Availability in Azure has some differences compared tooSAP High Availability in an on-premises physical or virtual environment.</span></span> <span data-ttu-id="31d3b-1381">Olá, documento a seguir da SAP descreve as configurações padrão de alta disponibilidade do SAP em ambientes virtualizados no Windows: <http://scn.sap.com/docs/DOC-44415>.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1381">hello following paper from SAP describes standard SAP High Availability configurations in virtualized environments on Windows: <http://scn.sap.com/docs/DOC-44415>.</span></span> <span data-ttu-id="31d3b-1382">Há não configuração de HA da SAP integrada com sapinst, para Linux, da mesma maneira que existe para o Windows.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1382">There is no sapinst-integrated SAP-HA configuration for Linux like it exists for Windows.</span></span> <span data-ttu-id="31d3b-1383">Em relação à alta disponibilidade local do SAP para Linux, encontre mais informações aqui: <http://scn.sap.com/docs/DOC-8541>.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1383">Regarding SAP HA on-premises for Linux find more information here: <http://scn.sap.com/docs/DOC-8541>.</span></span>

### <a name="azure-infrastructure-high-availability"></a><span data-ttu-id="31d3b-1384">Alta disponibilidade de infraestrutura do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-1384">Azure Infrastructure High Availability</span></span>
<span data-ttu-id="31d3b-1385">Atualmente, não há um SLA de 99,9% de VM individual.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1385">There is currently a single-VM SLA of 99.9%.</span></span> <span data-ttu-id="31d3b-1386">tooget uma ideia como disponibilidade de saudação de uma única VM pode parecer que você pode simplesmente criar produto Olá de Olá diferentes SLAs do Azure disponíveis: <https://azure.microsoft.com/support/legal/sla/>.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1386">tooget an idea how hello availability of a single VM might look like you can simply build hello product of hello different available Azure SLAs: <https://azure.microsoft.com/support/legal/sla/>.</span></span>

<span data-ttu-id="31d3b-1387">Base de saudação para cálculo de saudação é 30 dias por mês ou 43200 minutos.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1387">hello basis for hello calculation is 30 days per month, or 43200 minutes.</span></span> <span data-ttu-id="31d3b-1388">Portanto, 0,05% de tempo de inatividade corresponde too21.6 minutos.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1388">Therefore, 0.05% downtime corresponds too21.6 minutes.</span></span> <span data-ttu-id="31d3b-1389">Como de costume, disponibilidade Olá serviços diferentes hello serão multiplicar em Olá maneira a seguir:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1389">As usual, hello availability of hello different services will multiply in hello following way:</span></span>

<span data-ttu-id="31d3b-1390">(Serviço de disponibilidade nº 1/100) * (Serviço de disponibilidade nº 2/100) * (Serviço de disponibilidade nº 3/100) *…</span><span class="sxs-lookup"><span data-stu-id="31d3b-1390">(Availability Service #1/100) * (Availability Service #2/100) * (Availability Service #3/100) *…</span></span>

<span data-ttu-id="31d3b-1391">Assim como:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1391">Like:</span></span>

<span data-ttu-id="31d3b-1392">(99,95/100) * (99,9/100) * (99,9/100) = 0,9975 ou uma disponibilidade geral de 99,75%.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1392">(99.95/100) * (99.9/100) * (99.9/100) = 0.9975 or an overall availability of 99.75%.</span></span>

#### <a name="virtual-machine-vm-high-availability"></a><span data-ttu-id="31d3b-1393">Alta disponibilidade de VM (máquina virtual)</span><span class="sxs-lookup"><span data-stu-id="31d3b-1393">Virtual Machine (VM) High Availability</span></span>
<span data-ttu-id="31d3b-1394">Há dois tipos de eventos da plataforma Windows Azure que podem afetar a disponibilidade de saudação de suas máquinas virtuais: planejado de manutenção e a manutenção não planejada.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1394">There are two types of Azure platform events that can affect hello availability of your virtual machines: planned maintenance and unplanned maintenance.</span></span>

* <span data-ttu-id="31d3b-1395">Eventos de manutenção planejada são atualizações periódicas feitas pela Microsoft toohello subjacente a plataforma Windows Azure tooimprove geral confiabilidade, desempenho e segurança da infraestrutura de plataforma Olá que suas máquinas virtuais executadas em.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1395">Planned maintenance events are periodic updates made by Microsoft toohello underlying Azure platform tooimprove overall reliability, performance, and security of hello platform infrastructure that your virtual machines run on.</span></span>
* <span data-ttu-id="31d3b-1396">Eventos de manutenção não planejados ocorrem quando a infraestrutura física subjacente sua máquina virtual ou hardware de saudação apresentou falha de alguma forma.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1396">Unplanned maintenance events occur when hello hardware or physical infrastructure underlying your virtual machine has faulted in some way.</span></span> <span data-ttu-id="31d3b-1397">Isso inclui falhas na rede local, falhas no disco local ou outras falhas no nível de rack.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1397">This may include local network failures, local disk failures, or other rack level failures.</span></span> <span data-ttu-id="31d3b-1398">Quando uma falha é detectada, Olá plataforma Windows Azure migrará automaticamente sua máquina virtual de servidor físico não íntegro Olá sua máquinas virtuais tooa Íntegro físico no servidor de hospedagem.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1398">When such a failure is detected, hello Azure platform will automatically migrate your virtual machine from hello unhealthy physical server hosting your virtual machine tooa healthy physical server.</span></span> <span data-ttu-id="31d3b-1399">Esses eventos são raros, mas também podem causar tooreboot sua máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1399">Such events are rare, but may also cause your virtual machine tooreboot.</span></span>

<span data-ttu-id="31d3b-1400">Mais detalhes podem ser encontrados nesta documentação: <http://azure.microsoft.com/documentation/articles/virtual-machines-manage-availability></span><span class="sxs-lookup"><span data-stu-id="31d3b-1400">More details can be found in this documentation: <http://azure.microsoft.com/documentation/articles/virtual-machines-manage-availability></span></span>

#### <a name="azure-storage-redundancy"></a><span data-ttu-id="31d3b-1401">Redundância de Armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="31d3b-1401">Azure Storage Redundancy</span></span>
<span data-ttu-id="31d3b-1402">dados Olá na sua conta de armazenamento do Microsoft Azure são sempre replicado tooensure durabilidade e alta disponibilidade, Olá SLA de armazenamento do Azure, mesmo em face de saudação de falhas de hardware transitória de reunião.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1402">hello data in your Microsoft Azure Storage Account is always replicated tooensure durability and high availability, meeting hello Azure Storage SLA even in hello face of transient hardware failures.</span></span>

<span data-ttu-id="31d3b-1403">Como o armazenamento do Azure está se comportando três imagens de dados Olá por padrão, RAID5 ou RAID1 em vários discos do Azure não são necessárias.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1403">Since Azure Storage is keeping three images of hello data by default, RAID5 or RAID1 across multiple Azure disks are not necessary.</span></span>

<span data-ttu-id="31d3b-1404">Mais detalhes podem ser encontrados neste artigo: <http://azure.microsoft.com/documentation/articles/storage-redundancy/></span><span class="sxs-lookup"><span data-stu-id="31d3b-1404">More details can be found in this article: <http://azure.microsoft.com/documentation/articles/storage-redundancy/></span></span>

#### <a name="utilizing-azure-infrastructure-vm-restart-tooachieve-higher-availability-of-sap-applications"></a><span data-ttu-id="31d3b-1405">Utilizando o Azure infraestrutura VM reiniciar tooAchieve "Maior disponibilidade" de aplicativos SAP</span><span class="sxs-lookup"><span data-stu-id="31d3b-1405">Utilizing Azure Infrastructure VM Restart tooAchieve “Higher Availability” of SAP Applications</span></span>
<span data-ttu-id="31d3b-1406">Se você decidir não toouse funcionalidades como o Clustering de Failover do Windows Server (WSFC) ou Pacemaker no Linux (no momento, somente tem suporte para 12 SLES e superior), reinicie o Azure VM é tooprotect utilizada em um sistema SAP em tempo de inatividade planejado e de saudação Infraestrutura de servidor físico do Azure e global da plataforma subjacente do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1406">If you decide not toouse functionalities like Windows Server Failover Clustering (WSFC) or Pacemaker on Linux (currently only supported for SLES 12 and higher), Azure VM Restart is utilized tooprotect an SAP System against planned and unplanned downtime of hello Azure physical server infrastructure and overall underlying Azure platform.</span></span>

> [!NOTE]
> <span data-ttu-id="31d3b-1407">É importante toomention que principalmente Azure VM reiniciar protege as máquinas virtuais e não aplicativos.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1407">It is important toomention that Azure VM Restart primarily protects VMs and NOT applications.</span></span> <span data-ttu-id="31d3b-1408">A Reinicialização de VM não oferece alta disponibilidade para aplicativos SAP, mas oferece um certo nível de disponibilidade da infraestrutura e, portanto, indiretamente, "maior disponibilidade" de sistemas SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1408">VM Restart does not offer high availability for SAP applications, but it does offer a certain level of infrastructure availability and therefore indirectly “higher availability” of SAP systems.</span></span> <span data-ttu-id="31d3b-1409">Também há um SLA para tempo de saudação levará toorestart uma VM após uma interrupção planejada ou não planejada de host.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1409">There is also no SLA for hello time it will take toorestart a VM after a planned or unplanned host outage.</span></span> <span data-ttu-id="31d3b-1410">Portanto, esse método de 'alta disponibilidade' não é adequado para componentes críticos de um sistema SAP como (A)SCS ou DBMS.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1410">Therefore, this method of ‘high availability’ is not suitable for critical components of an SAP system like (A)SCS or DBMS.</span></span>
>
>

<span data-ttu-id="31d3b-1411">Outro elemento de infraestrutura importante para alta disponibilidade é o armazenamento.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1411">Another important infrastructure element for high availability is storage.</span></span> <span data-ttu-id="31d3b-1412">Por exemplo, o SLA do Armazenamento do Azure tem disponibilidade de 99,9%.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1412">For example Azure Storage SLA is 99,9 % availability.</span></span> <span data-ttu-id="31d3b-1413">Se alguém implantar todas as VMs com seus discos em uma única Conta de Armazenamento do Azure, a indisponibilidade potencial do Armazenamento do Azure causará indisponibilidade de todas as VMs localizadas na Conta de Armazenamento do Azure e também de todos os componentes SAP em execução dentro dessas VMs.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1413">If one deploys all VMs with its disks into a single Azure Storage Account, potential Azure Storage unavailability will cause unavailability of all VMs that are placed in that Azure Storage Account, and also all SAP components running inside of those VMs.</span></span>  

<span data-ttu-id="31d3b-1414">Em vez de colocar todas as VMs em uma única Conta de Armazenamento do Azure, você também pode contas de armazenamento dedicado para cada VM e, dessa forma, aumentar a disponibilidade geral da VM e do aplicativo SAP usando várias Contas de Armazenamento do Azure independentes.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1414">Instead of putting all VMs into one single Azure Storage Account, you can also use dedicated storage accounts for each VM, and in this way increase overall VM and SAP application availability by using multiple independent Azure Storage Accounts.</span></span>

<span data-ttu-id="31d3b-1415">Discos gerenciado do Azure são colocados automaticamente no hello domínio de falha de máquina virtual de saudação que eles estão conectados.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1415">Azure Managed Disks are automatically placed in hello Fault Domain of hello virtual machine they are attached to.</span></span> <span data-ttu-id="31d3b-1416">Se você colocar duas máquinas virtuais em um disponibilidade definir e usar discos gerenciados, será responsável por plataforma Olá distribuindo Olá gerenciados discos em diferentes domínios de falha.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1416">If you place two virtual machines in an availability set and use Managed Disks, hello platform will take care of distributing hello Managed Disks into different Fault Domains as well.</span></span> <span data-ttu-id="31d3b-1417">Se você planejar toouse armazenamento Premium, é altamente recomendável usar gerenciar discos também.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1417">If you plan toouse Premium Storage, we highly recommend using Manage Disks as well.</span></span>

<span data-ttu-id="31d3b-1418">Uma arquitetura de exemplo de um sistema SAP NetWeaver que usa alta disponibilidade de infraestrutura e contas de armazenamento do Azure poderia ter esta aparência:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1418">A sample architecture of an SAP NetWeaver system that uses Azure infrastructure HA and storage accounts could look like this:</span></span>

![Utilizando a infraestrutura do Azure HA tooachieve SAP "superior" da disponibilidade de aplicativos][planning-guide-figure-2900]

<span data-ttu-id="31d3b-1420">Uma arquitetura de exemplo de um sistema SAP NetWeaver que usa alta disponibilidade de infraestrutura e Managed Disks do Azure poderia ter esta aparência:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1420">A sample architecture of an SAP NetWeaver system that uses Azure infrastructure HA and Managed Disks could look like this:</span></span>

![Utilizando a infraestrutura do Azure HA tooachieve SAP "superior" da disponibilidade de aplicativos][planning-guide-figure-2901]

<span data-ttu-id="31d3b-1422">Para componentes essenciais do SAP é obtida Olá até a seguir:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1422">For critical SAP components we achieved hello following so far:</span></span>

* <span data-ttu-id="31d3b-1423">Alta disponibilidade de servidores de aplicativos (SA) SAP</span><span class="sxs-lookup"><span data-stu-id="31d3b-1423">High Availability of SAP Application Servers (AS)</span></span>

  <span data-ttu-id="31d3b-1424">As instâncias do servidor de aplicativos SAP são componentes redundantes.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1424">SAP application server instances are redundant components.</span></span> <span data-ttu-id="31d3b-1425">Cada instância de SA SAP está implantada em sua própria VM, que está em execução em um domínio de falha e de atualização diferente do Azure (confira os capítulos [Domínios de falha][planning-guide-3.2.1] e [Domínios de atualização][planning-guide-3.2.2]).</span><span class="sxs-lookup"><span data-stu-id="31d3b-1425">Each SAP AS instance is deployed on its own VM, that is running in a different Azure Fault and Upgrade Domain (see chapters [Fault Domains][planning-guide-3.2.1] and [Upgrade Domains][planning-guide-3.2.2]).</span></span> <span data-ttu-id="31d3b-1426">Isso é garantido pelo uso de Conjuntos de Disponibilidade do Azure (confira o capítulo [Conjuntos de disponibilidade do Azure][planning-guide-3.2.3]).</span><span class="sxs-lookup"><span data-stu-id="31d3b-1426">This is ensured by using Azure Availability Sets (see chapter [Azure Availability Sets][planning-guide-3.2.3]).</span></span> <span data-ttu-id="31d3b-1427">Potencial indisponibilidade planejada ou não planejada de um domínio de falha ou atualização do Azure causará indisponibilidade de um número restrito de VMs com suas instâncias SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1427">Potential planned or unplanned unavailability of an Azure Fault or Upgrade Domain will cause unavailability of a restricted number of VMs with their SAP AS instances.</span></span>

  <span data-ttu-id="31d3b-1428">Cada instância de SA SAP será colocada em sua própria conta de Armazenamento do Azure – a indisponibilidade potencial de uma Conta de Armazenamento do Azure causará indisponibilidade de apenas uma VM com sua instância de SA SAP.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1428">Each SAP AS instance is placed in its own Azure Storage account – potential unavailability of one Azure Storage Account will cause unavailability of only one VM with its SAP AS instance.</span></span> <span data-ttu-id="31d3b-1429">No entanto, lembre-se de que há um limite de Contas de Armazenamento do Azure dentro de uma assinatura do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1429">However, be aware that there is a limit of Azure Storage Accounts within one Azure subscription.</span></span> <span data-ttu-id="31d3b-1430">tooensure de início automático de instância (A) SCS após reinicializar Olá VM, certifique-se de parâmetro de Autostart Olá tooset na instância (A) SCS iniciar perfil descrita nos capítulos [usando Autostart para instâncias SAP] [ planning-guide-11.5].</span><span class="sxs-lookup"><span data-stu-id="31d3b-1430">tooensure automatic start of (A)SCS instance after hello VM reboot, make sure tooset hello Autostart parameter in (A)SCS instance start profile described in chapter [Using Autostart for SAP instances][planning-guide-11.5].</span></span>
  <span data-ttu-id="31d3b-1431">Leia também o capítulo [Alta disponibilidade para servidores de aplicativos SAP][planning-guide-11.4.1] para obter mais detalhes.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1431">Please also read chapter [High Availability for SAP Application Servers][planning-guide-11.4.1] for more details.</span></span>

  <span data-ttu-id="31d3b-1432">Mesmo que você use Managed Disks, esses discos também são armazenados em uma Conta de Armazenamento do Azure e podem não estar disponíveis no caso de uma interrupção de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1432">Even if you use Managed Disks, those disks are also stored in an Azure Storage Account and can be unavailable in an event of a storage outage.</span></span>

* <span data-ttu-id="31d3b-1433">*Maior* disponibilidade de instância do (A)SCS SAP</span><span class="sxs-lookup"><span data-stu-id="31d3b-1433">*Higher* Availability of SAP (A)SCS instance</span></span>

  <span data-ttu-id="31d3b-1434">Aqui, utilizamos Azure VM reiniciar Olá tooprotect VM com a instância do SAP (A) SCS instalada.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1434">Here we utilize Azure VM Restart tooprotect hello VM with installed SAP (A)SCS instance.</span></span> <span data-ttu-id="31d3b-1435">Em hello caso de tempo de inatividade planejado ou não planejado do Azure os servidores, máquinas virtuais serão reiniciados em outro servidor disponível.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1435">In hello case of planned or unplanned downtime of Azure severs, VMs will be restarted on another available server.</span></span> <span data-ttu-id="31d3b-1436">Como mencionado anteriormente, principalmente Azure VM reiniciar protege VMs e não aplicativos, nesse caso, Olá instância (A) SCS.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1436">As mentioned earlier, Azure VM Restart primarily protects VMs and NOT applications, in this case hello (A)SCS instance.</span></span> <span data-ttu-id="31d3b-1437">Por meio de saudação VM reiniciar entraremos em contato indiretamente "maior disponibilidade" da instância SAP (A) SCS.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1437">Through hello VM Restart we’ll reach indirectly “higher availability” of SAP (A)SCS instance.</span></span> <span data-ttu-id="31d3b-1438">tooinsure de início automático de instância (A) SCS após reinicializar Olá VM, certifique-se de parâmetro de Autostart tooset na instância (A) SCS iniciar perfil descrita nos capítulos [usando Autostart para instâncias SAP][planning-guide-11.5].</span><span class="sxs-lookup"><span data-stu-id="31d3b-1438">tooinsure automatic start of (A)SCS instance after hello VM reboot, make sure tooset Autostart parameter in (A)SCS instance start profile described in chapter [Using Autostart for SAP instances][planning-guide-11.5].</span></span> <span data-ttu-id="31d3b-1439">Isso significa que hello (A) SCS executando como um único ponto de falha (SPOF) em uma única VM será o fator determinante Olá disponibilidade Olá de toda a estrutura SAP hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1439">This means hello (A)SCS instance as a Single Point of Failure (SPOF) running in a single VM will be hello determinative factor for hello availability of hello whole SAP landscape.</span></span>

* <span data-ttu-id="31d3b-1440">*Maior* disponibilidade de servidor DBMS</span><span class="sxs-lookup"><span data-stu-id="31d3b-1440">*Higher* Availability of DBMS Server</span></span>

  <span data-ttu-id="31d3b-1441">Aqui, caso de uso de instância de SAP (A) SCS toohello semelhante, utilizamos Azure VM reiniciar Olá tooprotect VM com o software instalado do DBMS e atingir "disponibilidade" de software DBMS por meio de VM reiniciar.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1441">Here, similar toohello SAP (A)SCS instance use case, we utilize Azure VM Restart tooprotect hello VM with installed DBMS software, and we achieve “higher availability” of DBMS software through VM Restart.</span></span>
  <span data-ttu-id="31d3b-1442">DBMS em execução em uma única VM também é um SPOF e é o fator determinante Olá disponibilidade Olá de toda a estrutura SAP hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1442">DBMS running in a single VM is also a SPOF, and it is hello determinative factor for hello availability of hello whole SAP landscape.</span></span>

### <a name="sap-application-high-availability-on-azure-iaas"></a><span data-ttu-id="31d3b-1443">Alta disponibilidade de aplicativo SAP no Azure IaaS</span><span class="sxs-lookup"><span data-stu-id="31d3b-1443">SAP Application High Availability on Azure IaaS</span></span>
<span data-ttu-id="31d3b-1444">tooachieve completo SAP alta disponibilidade do sistema, é preciso tooprotect crítico de todos os componentes do sistema SAP, exemplo redundantes SAP para servidores de aplicativos e os componentes exclusivos (por exemplo ponto único de falha) como instância SAP (A) SCS e DBMS.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1444">tooachieve full SAP system high availability, we need tooprotect all critical SAP system components, for example redundant SAP application servers, and unique components (for example Single Point of Failure) like SAP (A)SCS instance and DBMS.</span></span>

#### <span data-ttu-id="31d3b-1445"><a name="5d9d36f9-9058-435d-8367-5ad05f00de77"></a>Alta disponibilidade para servidores de aplicativos SAP</span><span class="sxs-lookup"><span data-stu-id="31d3b-1445"><a name="5d9d36f9-9058-435d-8367-5ad05f00de77"></a>High Availability for SAP Application Servers</span></span>
<span data-ttu-id="31d3b-1446">Para instâncias de caixa de diálogo/servidores de aplicativo hello SAP não é necessário toothink sobre uma solução de alta disponibilidade específicas.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1446">For hello SAP application servers/dialog instances it’s not necessary toothink about a specific high availability solution.</span></span> <span data-ttu-id="31d3b-1447">A alta disponibilidade é obtida simplesmente pela redundância e, portanto, pela existência de um número suficiente deles em máquinas virtuais diferentes.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1447">High availability is simply achieved by redundancy and thereby having enough of them in different virtual machines.</span></span> <span data-ttu-id="31d3b-1448">Eles devem todos ser colocados em Olá tooavoid mesmo conjunto de disponibilidade do Azure que Olá VMs pode ser atualizado no hello mesmo tempo durante o tempo de inatividade de manutenção planejada.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1448">They should all be placed in hello same Azure Availability Set tooavoid that hello VMs might be updated at hello same time during planned maintenance downtime.</span></span> <span data-ttu-id="31d3b-1449">funcionalidade básica de saudação que tem como base diferente de atualização e domínios de falha em uma unidade de escala do Azure já foi introduzida no capítulo [atualizar domínios][planning-guide-3.2.2].</span><span class="sxs-lookup"><span data-stu-id="31d3b-1449">hello basic functionality which builds on different Upgrade and Fault Domains within an Azure Scale Unit was already introduced in chapter [Upgrade Domains][planning-guide-3.2.2].</span></span> <span data-ttu-id="31d3b-1450">Conjuntos de Disponibilidade do Azure foram apresentados no capítulo [Conjuntos de disponibilidade do Azure][planning-guide-3.2.3] deste documento.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1450">Azure Availability Sets were presented in chapter [Azure Availability Sets][planning-guide-3.2.3] of this document.</span></span>

<span data-ttu-id="31d3b-1451">Não há um número infinito de domínios de falha e atualização que possam ser usados por um conjunto de disponibilidade do Azure em uma unidade de escala do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1451">There is no infinite number of Fault and Upgrade Domains that can be used by an Azure Availability Set within an Azure Scale Unit.</span></span> <span data-ttu-id="31d3b-1452">Isso significa que colocar um número de VMs em um conjunto de disponibilidade, mais cedo ou mais tarde mais de uma VM termina em Olá mesmo falha ou atualização do domínio.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1452">This means that putting a number of VMs into one Availability Set, sooner or later more than one VM ends up in hello same Fault or Upgrade Domain.</span></span>

<span data-ttu-id="31d3b-1453">Implantação de servidor de aplicativos SAP algumas instâncias em suas máquinas virtuais dedicadas e supondo que nós temos cinco domínios de atualização, Olá figura abaixo surge no final da saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1453">Deploying a few SAP application server instances in their dedicated VMs and assuming that we got five Upgrade Domains, hello following picture emerges at hello end.</span></span> <span data-ttu-id="31d3b-1454">Olá máximo número de domínios de falha e atualização dentro de um conjunto de disponibilidade pode ser alteradas em futuras de saudação:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1454">hello actual max number of fault and update domains within an availability set might change in hello future:</span></span>

![Alta disponibilidade dos servidores de aplicativos SAP no Azure][planning-guide-figure-3000]

<span data-ttu-id="31d3b-1456">Mais detalhes podem ser encontrados nesta documentação: <http://azure.microsoft.com/documentation/articles/virtual-machines-manage-availability></span><span class="sxs-lookup"><span data-stu-id="31d3b-1456">More details can be found in this documentation: <http://azure.microsoft.com/documentation/articles/virtual-machines-manage-availability></span></span>

#### <a name="high-availability-for-hello-sap-ascs-instance-on-windows"></a><span data-ttu-id="31d3b-1457">Alta disponibilidade para a instância do SAP (A) SCS Olá no Windows</span><span class="sxs-lookup"><span data-stu-id="31d3b-1457">High Availability for hello SAP (A)SCS instance on Windows</span></span>
<span data-ttu-id="31d3b-1458">Windows Server Failover Cluster (WSFC) é uma instância de SAP (A) SCS de saudação de tooprotect de solução usados com frequência.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1458">Windows Server Failover Cluster (WSFC) is a frequently used solution tooprotect hello SAP (A)SCS instance.</span></span> <span data-ttu-id="31d3b-1459">Ele também é integrado ao sapinst na forma de uma "instalação de alta disponibilidade".</span><span class="sxs-lookup"><span data-stu-id="31d3b-1459">It is also integrated into sapinst in form of an "HA installation".</span></span> <span data-ttu-id="31d3b-1460">Neste momento Olá infraestrutura do Azure não é capaz de tooprovide Olá funcionalidade tooset a saudação de Cluster de Failover do Windows Server Olá necessário mesma maneira que é feito no local.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1460">At this point in time hello Azure infrastructure is not able tooprovide hello functionality tooset up hello required Windows Server Failover Cluster hello same way as it's done on-premises.</span></span>

<span data-ttu-id="31d3b-1461">A partir de janeiro de 2016 plataforma de nuvem do Azure Olá executando o sistema de operacional do Windows hello não oferece a possibilidade de saudação do uso de um volume compartilhado de cluster em um disco compartilhado entre duas VMs do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1461">As of January 2016 hello Azure cloud platform running hello Windows operating system does not provide hello possibility of using a cluster shared volume on a disk shared between two Azure VMs.</span></span>

<span data-ttu-id="31d3b-1462">Uma solução válida embora é o uso de saudação do software de terceiros 3º que oferece um volume compartilhado pela replicação síncrona e transparente de disco que pode ser integrada no WSFC.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1462">A valid solution though is hello usage of 3rd-party software which provides a shared volume by synchronous and transparent disk replication which can be integrated into WSFC.</span></span> <span data-ttu-id="31d3b-1463">Essa abordagem significa que esse nó de cluster ativo Olá somente é possível tooaccess um disco Olá copia em um ponto no tempo.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1463">This approach implies that only hello active cluster node is able tooaccess one of hello disk copies at a point in time.</span></span> <span data-ttu-id="31d3b-1464">A partir de janeiro de 2016 este HA configuração é instância de SAP (A) SCS Olá tooprotect com suporte no sistema operacional Windows convidado em máquinas virtuais do Azure em combinação com o software de terceiros para o 3º SIOS DataKeeper.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1464">As of January 2016 this HA configuration is supported tooprotect hello SAP (A)SCS instance on Windows guest OS on Azure VMs in combination with 3rd-party software SIOS DataKeeper.</span></span>

<span data-ttu-id="31d3b-1465">Olá SIOS DataKeeper solução fornece um tooWindows de recurso de cluster de disco compartilhado Clusters de Failover por ter:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1465">hello SIOS DataKeeper solution provides a shared disk cluster resource tooWindows Failover Clusters by having:</span></span>

* <span data-ttu-id="31d3b-1466">Um VHD do Azure adicionais anexado tooeach de saudação máquinas virtuais (VMs) estão em uma configuração de Cluster do Windows</span><span class="sxs-lookup"><span data-stu-id="31d3b-1466">An additional Azure VHD attached tooeach of hello virtual machines (VMs) that are in a Windows Cluster configuration</span></span>
* <span data-ttu-id="31d3b-1467">A Edição de Cluster do SIOS DataKeeper em execução em ambos os nós de VM</span><span class="sxs-lookup"><span data-stu-id="31d3b-1467">SIOS DataKeeper Cluster Edition running on both VM nodes</span></span>
* <span data-ttu-id="31d3b-1468">Tendo SIOS DataKeeper Cluster Edition está configurado de forma que ele sincronicamente espelha conteúdo Olá Olá adicional VHD anexado volume VMs tooadditional VHD anexado do volume de origem de VM de destino.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1468">Having SIOS DataKeeper Cluster Edition configured in a way that it synchronously mirrors hello content of hello additional VHD attached volume from source VMs tooadditional VHD attached volume of target VM.</span></span>
* <span data-ttu-id="31d3b-1469">SIOS DataKeeper é abstrair os volumes de local origem e destino hello e apresentar tooWindows Cluster de Failover como um único disco compartilhado.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1469">SIOS DataKeeper is abstracting hello source and target local volumes and presenting them tooWindows Failover Cluster as a single shared disk.</span></span>

<span data-ttu-id="31d3b-1470">Você pode encontrar todos os detalhes sobre como tooinstall um Cluster de Failover do Windows com SIOS DataKeeper e SAP em Olá [Clustering da instância SAP ASCS usando o Cluster de Failover do Windows Server no Azure com SIOS DataKeeper] [ ha-guide-classic]white paper.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1470">You can find all details on how tooinstall a Windows Failover Cluster with SIOS DataKeeper and SAP in hello [Clustering SAP ASCS Instance using Windows Server Failover Cluster on Azure with SIOS DataKeeper][ha-guide-classic] white paper.</span></span>

#### <a name="high-availability-for-hello-sap-ascs-instance-on-linux"></a><span data-ttu-id="31d3b-1471">Alta disponibilidade para a instância do SAP (A) SCS Olá no Linux</span><span class="sxs-lookup"><span data-stu-id="31d3b-1471">High Availability for hello SAP (A)SCS instance on Linux</span></span>
<span data-ttu-id="31d3b-1472">A partir de dezembro de 2015 também há um disco de tooshared equivalente WSFC para VMs do Linux no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1472">As of Dec 2015 there is also no equivalent tooshared disk WSFC for Linux VMs on Azure.</span></span> <span data-ttu-id="31d3b-1473">Soluções alternativas usando software de terceiros como SIOS para Windows ainda não são validadas para execução da SAP em Linux no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1473">Alternative solutions using 3rd-party software like SIOS for Windows are not validated yet for running SAP on Linux on Azure.</span></span>

#### <a name="high-availability-for-hello-sap-database-instance"></a><span data-ttu-id="31d3b-1474">Alta disponibilidade para a instância de banco de dados do SAP Olá</span><span class="sxs-lookup"><span data-stu-id="31d3b-1474">High Availability for hello SAP database instance</span></span>
<span data-ttu-id="31d3b-1475">Olá SAP DBMS HA instalação típica baseia-se em duas VMs de DBMS em que a funcionalidade de alta disponibilidade DBMS é usada tooreplicate dados Olá active DBMS instância toohello segundo VM em uma instância de DBMS passiva.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1475">hello typical SAP DBMS HA setup is based on two DBMS VMs where DBMS high-availability functionality is used tooreplicate data from hello active DBMS instance toohello second VM into a passive DBMS instance.</span></span>

<span data-ttu-id="31d3b-1476">Alta funcionalidade de recuperação de desastres e disponibilidade de DBMS em geral, bem como específicos de DBMS são descritos em Olá [guia de implantação de DBMS][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="31d3b-1476">High Availability and Disaster recovery functionality for DBMS in general as well as specific DBMS are described in hello [DBMS Deployment Guide][dbms-guide].</span></span>

#### <a name="end-to-end-high-availability-for-hello-complete-sap-system"></a><span data-ttu-id="31d3b-1477">Alta disponibilidade de ponta a ponta para Olá completa do sistema SAP</span><span class="sxs-lookup"><span data-stu-id="31d3b-1477">End-to-End High Availability for hello Complete SAP System</span></span>
<span data-ttu-id="31d3b-1478">Aqui estão dois exemplos de uma arquitetura de alta disponibilidade SAP NetWeaver completa no Azure - um para Windows e outro para Linux.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1478">Here are two examples of a complete SAP NetWeaver HA architecture in Azure - one for Windows and one for Linux.</span></span>

<span data-ttu-id="31d3b-1479">Não gerenciado apenas discos: conceitos Olá conforme explicado a seguir podem ser necessário toobe um pouco comprometida quando você implanta vários sistemas SAP e número de saudação de VMs implantadas é excedendo o limite máximo Olá de contas de armazenamento por assinatura.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1479">Unmanaged disks only: hello concepts as explained below may need toobe compromised a bit when you deploy many SAP systems and hello number of VMs deployed are exceeding hello maximum limit of Storage Accounts per subscription.</span></span> <span data-ttu-id="31d3b-1480">Nesses casos, os VHDs de VMs necessário toobe combinado dentro de uma conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1480">In such cases, VHDs of VMs need toobe combined within one Storage Account.</span></span> <span data-ttu-id="31d3b-1481">Normalmente você faria isso pela combinação de VHDs de VMs das camadas de aplicativo SAP de sistemas SAP diferentes.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1481">Usually you would do so by combining VHDs of SAP application layer VMs of different SAP systems.</span></span>  <span data-ttu-id="31d3b-1482">Também combinamos diferentes VHDs de diferentes VMs DBMS de sistemas SAP diferentes em uma conta de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1482">We also combined different VHDs of different DBMS VMs of different SAP systems in one Azure Storage Account.</span></span> <span data-ttu-id="31d3b-1483">Mantendo os limites de IOPS de saudação de contas de armazenamento do Azure em mente (<https://azure.microsoft.com/documentation/articles/storage-scalability-targets>)</span><span class="sxs-lookup"><span data-stu-id="31d3b-1483">Thereby keeping hello IOPS limits of Azure Storage Accounts in mind (<https://azure.microsoft.com/documentation/articles/storage-scalability-targets>)</span></span>


##### <a name="windowslogowindows-ha-on-windows"></a>![Windows][Logo_Windows] <span data-ttu-id="31d3b-1485">no Windows</span><span class="sxs-lookup"><span data-stu-id="31d3b-1485">HA on Windows</span></span>
![Arquitetura de alta disponibilidade de aplicativos SAP NetWeaver com o SQL Server no Azure IaaS][planning-guide-figure-3200]

<span data-ttu-id="31d3b-1487">Hello Azure construções a seguir é usada para sistema do SAP NetWeaver hello, impacto toominimize por problemas de infraestrutura e patches do host:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1487">hello following Azure constructs are used for hello SAP NetWeaver system, toominimize impact by infrastructure issues and host patching:</span></span>

* <span data-ttu-id="31d3b-1488">sistema completo de saudação é implantado no Azure (obrigatório: Olá a camada de DBMS, (A) instância SCS e aplicativo completo camada necessidade toorun no mesmo local).</span><span class="sxs-lookup"><span data-stu-id="31d3b-1488">hello complete system is deployed on Azure (required - DBMS layer, (A)SCS instance and complete application layer need toorun in hello same location).</span></span>
* <span data-ttu-id="31d3b-1489">sistema completo Olá é executado em uma assinatura do Azure (obrigatória).</span><span class="sxs-lookup"><span data-stu-id="31d3b-1489">hello complete system runs within one Azure subscription (required).</span></span>
* <span data-ttu-id="31d3b-1490">sistema completo Olá é executado em uma rede Virtual do Azure (obrigatório).</span><span class="sxs-lookup"><span data-stu-id="31d3b-1490">hello complete system runs within one Azure Virtual Network (required).</span></span>
* <span data-ttu-id="31d3b-1491">é possível separar a saudação da saudação VMs de um sistema SAP em três conjuntos de disponibilidade mesmo com todas as VMs Olá pertencentes toohello mesma rede Virtual.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1491">hello separation of hello VMs of one SAP system into three Availability Sets is possible even with all hello VMs belonging toohello same Virtual Network.</span></span>
* <span data-ttu-id="31d3b-1492">Todas as VMs que executam instâncias DBMS de um sistema SAP estão em um conjunto de disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1492">All VMs running DBMS instances of one SAP system are in one Availability Set.</span></span> <span data-ttu-id="31d3b-1493">Presumimos que haja mais de uma VM executando instâncias de DBMS por sistema, já que recursos nativos de alta disponibilidade de DBMS são usados, como o SQL Server AlwaysOn ou o Oracle Data Guard.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1493">We assume that there is more than one VM running DBMS instances per system since native DBMS high availability features are used, like SQL Server AlwaysOn or Oracle Data Guard.</span></span>
* <span data-ttu-id="31d3b-1494">Todas as VMs que executam instâncias de DBMS usam sua própria conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1494">All VMs running DBMS instances use their own storage account.</span></span> <span data-ttu-id="31d3b-1495">Arquivos de log e dados DBMS são replicados de uma conta de armazenamento tooanother de armazenamento de conta, usando as funções de alta disponibilidade DBMS que sincroniza dados hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1495">DBMS data and log files are replicated from one storage account tooanother storage account using DBMS high availability functions that synchronize hello data.</span></span> <span data-ttu-id="31d3b-1496">Indisponibilidade de uma conta de armazenamento fará com que a indisponibilidade de um nó de cluster do Windows do SQL, mas não Olá todo serviço do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1496">Unavailability of one storage account will cause unavailability of one SQL Windows cluster node, but not hello whole SQL Server service.</span></span>
* <span data-ttu-id="31d3b-1497">Todas as VMs que executam uma instância do (A)SCS de um sistema SAP estão em um conjunto de disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1497">All VMs running (A)SCS instance of one SAP system are in one Availability Set.</span></span> <span data-ttu-id="31d3b-1498">Um Cluster de Failover do Windows Server (WSFC) está configurado dentro de instância SCS essas VMs tooprotect hello (A).</span><span class="sxs-lookup"><span data-stu-id="31d3b-1498">A Windows Server Failover Cluster (WSFC) is configured inside of those VMs tooprotect hello (A)SCS instance.</span></span>
* <span data-ttu-id="31d3b-1499">Todas as VMs que executam instâncias do (A)SCS usam sua própria conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1499">All VMs running (A)SCS instances use their own storage account.</span></span> <span data-ttu-id="31d3b-1500">(A) Arquivos de instância SCS e pasta global do SAP são replicadas de uma conta de armazenamento tooanother de armazenamento de conta, usando a replicação SIOS DataKeeper.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1500">(A)SCS instance files and SAP global folder are replicated from one storage account tooanother storage account using SIOS DataKeeper replication.</span></span> <span data-ttu-id="31d3b-1501">Indisponibilidade de uma conta de armazenamento causará indisponibilidade de um (A) SCS Windows nó de cluster, mas não Olá todo serviço (A) SCS.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1501">Unavailability of one storage account will cause unavailability of one (A)SCS Windows cluster node, but not hello whole (A)SCS service.</span></span>
* <span data-ttu-id="31d3b-1502">Todas as VMs de saudação que representa a camada do servidor de aplicativo hello SAP estão em um terceiro conjunto de disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1502">ALL hello VMs representing hello SAP application server layer are in a third Availability Set.</span></span>
* <span data-ttu-id="31d3b-1503">Todas as VMs Olá executando servidores de aplicativos SAP usam sua própria conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1503">ALL hello VMs running SAP application servers use their own storage account.</span></span> <span data-ttu-id="31d3b-1504">Indisponibilidade de uma conta de armazenamento fará com que a indisponibilidade de um servidor de aplicativos SAP, em que AS outras SAP continuar toorun.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1504">Unavailability of one storage account will cause unavailability of one SAP application server, where other SAP AS continue toorun.</span></span>

<span data-ttu-id="31d3b-1505">a seguir Olá figura ilustrada Olá que mesmo cenário usando discos gerenciados.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1505">hello following figure illustrated hello same landscape using Managed Disks.</span></span>

![Arquitetura de alta disponibilidade de aplicativos SAP NetWeaver com o SQL Server no Azure IaaS][planning-guide-figure-3201]

##### <a name="linuxlogolinux-ha-on-linux"></a>![Linux][Logo_Linux] <span data-ttu-id="31d3b-1508">no Linux</span><span class="sxs-lookup"><span data-stu-id="31d3b-1508">HA on Linux</span></span>
<span data-ttu-id="31d3b-1509">arquitetura de saudação do SAP de HA em Linux no Azure é basicamente hello, mesmo que o Windows como descrito acima.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1509">hello architecture for SAP HA on Linux on Azure is basically hello same as for Windows as described above.</span></span> <span data-ttu-id="31d3b-1510">Desde janeiro de 2016, ainda não há uma solução de alta disponibilidade do (A)SCS SAP com suporte no Azure em Linux</span><span class="sxs-lookup"><span data-stu-id="31d3b-1510">As of Jan 2016 there is no SAP (A)SCS HA solution supported yet on Linux on Azure</span></span>

<span data-ttu-id="31d3b-1511">Como consequência como de janeiro de 2016 não pode obter um sistema SAP-Linux-Azure Olá disponibilidade mesmo como um sistema SAP-Windows-Azure devido à ausência de HA para instância do hello (A) SCS e Olá banco de dados de SAP ASE de instância única.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1511">As a consequence as of January 2016 an SAP-Linux-Azure system cannot achieve hello same availability as an SAP-Windows-Azure system because of missing HA for hello (A)SCS instance and hello single-instance SAP ASE database.</span></span>

### <span data-ttu-id="31d3b-1512"><a name="4e165b58-74ca-474f-a7f4-5e695a93204f"></a>Usando a inicialização automática para instâncias SAP</span><span class="sxs-lookup"><span data-stu-id="31d3b-1512"><a name="4e165b58-74ca-474f-a7f4-5e695a93204f"></a>Using Autostart for SAP instances</span></span>
<span data-ttu-id="31d3b-1513">SAP oferecido funcionalidade Olá toostart as instâncias SAP imediatamente após o início de saudação do hello SO na VM de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1513">SAP offered hello functionality toostart SAP instances immediately after hello start of hello OS within hello VM.</span></span> <span data-ttu-id="31d3b-1514">as etapas exatas Olá documentadas no artigo da Base de dados de Conhecimento SAP [1909114].</span><span class="sxs-lookup"><span data-stu-id="31d3b-1514">hello exact steps were documented in SAP Knowledge Base Article [1909114].</span></span> <span data-ttu-id="31d3b-1515">No entanto, SAP não recomendamos toouse hello mais configuração porque não há nenhum controle na ordem de saudação de reinicializações de instância, supondo que mais de uma máquina virtual foi afetada ou várias instâncias foi executado por VM.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1515">However, SAP is not recommending toouse hello setting anymore because there is no control in hello order of instance restarts, assuming more than one VM got affected or multiple instances ran per VM.</span></span> <span data-ttu-id="31d3b-1516">Supondo que um cenário típico do Azure de uma instância do servidor de aplicativos SAP em caso de uma única VM eventualmente obtendo reiniciado VM e hello, hello Autostart não é mais importante e pode ser habilitada adicionando este parâmetro:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1516">Assuming a typical Azure scenario of one SAP application server instance in a VM and hello case of a single VM eventually getting restarted, hello Autostart is not really critical and can be enabled by adding this parameter:</span></span>

    Autostart = 1

<span data-ttu-id="31d3b-1517">Em Olá iniciar o perfil da instância SAP ABAP e/ou Java de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1517">Into hello start profile of hello SAP ABAP and/or Java instance.</span></span>

> [!NOTE]
> <span data-ttu-id="31d3b-1518">parâmetro Autostart de saudação pode ter algumas dificuldades também.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1518">hello Autostart parameter can have some downfalls as well.</span></span> <span data-ttu-id="31d3b-1519">Mais detalhadamente, gatilhos de parâmetro Olá Olá início de uma instância SAP ABAP ou Java quando Olá relacionados ao serviço do Windows/Linux da instância de saudação é iniciado.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1519">In more detail, hello parameter triggers hello start of an SAP ABAP or Java instance when hello related Windows/Linux service of hello instance is started.</span></span> <span data-ttu-id="31d3b-1520">Que é certamente caso hello quando o sistema operacional de saudação é inicializado.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1520">That certainly is hello case when hello operating system boots up.</span></span> <span data-ttu-id="31d3b-1521">No entanto, reinicializações de serviços SAP também são uma coisa comum para a funcionalidade de gerenciamento de ciclo de vida do Software SAP, como SUM ou outras atualizações.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1521">However, restarts of SAP services are also a common thing for SAP Software Lifecycle Management functionality like SUM or other updates or upgrades.</span></span> <span data-ttu-id="31d3b-1522">Essas funcionalidades não estiver esperando um toobe instância reiniciado automaticamente em todos os.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1522">These functionalities are not expecting an instance toobe restarted automatically at all.</span></span> <span data-ttu-id="31d3b-1523">Portanto, o parâmetro Autostart de saudação deve ser desabilitado antes de executar essas tarefas.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1523">Therefore, hello Autostart parameter should be disabled before running such tasks.</span></span> <span data-ttu-id="31d3b-1524">Olá Autostart parâmetro também não deve ser usado para instâncias SAP que estão agrupadas, como ASCS/SCS/CI.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1524">hello Autostart parameter also should not be used for SAP instances that are clustered, like ASCS/SCS/CI.</span></span>
>
>

<span data-ttu-id="31d3b-1525">Consulte informações adicionais sobre a inicialização automática para instâncias SAP aqui:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1525">See additional information regarding autostart for SAP instances here:</span></span>

* [<span data-ttu-id="31d3b-1526">Iniciar/parar SAP ao iniciar/parar seu servidor Unix</span><span class="sxs-lookup"><span data-stu-id="31d3b-1526">Start/Stop SAP along with your Unix Server Start/Stop</span></span>](http://scn.sap.com/community/unix/blog/2012/08/07/startstop-sap-along-with-your-unix-server-startstop)
* [<span data-ttu-id="31d3b-1527">Iniciando e parando agentes de gerenciamento do SAP NetWeaver</span><span class="sxs-lookup"><span data-stu-id="31d3b-1527">Starting and Stopping SAP NetWeaver Management Agents</span></span>](https://help.sap.com/saphelp_nwpi711/helpdata/en/49/9a15525b20423ee10000000a421938/content.htm)
* [<span data-ttu-id="31d3b-1528">Como tooenable automaticamente Iniciar do HANA banco de dados</span><span class="sxs-lookup"><span data-stu-id="31d3b-1528">How tooenable auto Start of HANA Database</span></span>](http://www.freehanatutorials.com/2012/10/how-to-enable-auto-start-of-hana.html)

### <a name="larger-3-tier-sap-systems"></a><span data-ttu-id="31d3b-1529">Sistemas SAP maiores de 3 camadas</span><span class="sxs-lookup"><span data-stu-id="31d3b-1529">Larger 3-Tier SAP systems</span></span>
<span data-ttu-id="31d3b-1530">Aspectos de alta disponibilidade de configurações SAP de 3 camadas já foram discutidos nas seções anteriores.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1530">High-Availability aspects of 3-Tier SAP configurations got discussed in earlier sections already.</span></span> <span data-ttu-id="31d3b-1531">Mas e quanto a sistemas em que são muito grandes requisitos do servidor DBMS Olá toohave localizados no Azure, mas a camada do aplicativo SAP Olá pode ser implantada no Azure?</span><span class="sxs-lookup"><span data-stu-id="31d3b-1531">But what about systems where hello DBMS server requirements are too large toohave it located in Azure, but hello SAP application layer could be deployed into Azure?</span></span>

#### <a name="location-of-3-tier-sap-configurations"></a><span data-ttu-id="31d3b-1532">Localização de configurações SAP de 3 camadas</span><span class="sxs-lookup"><span data-stu-id="31d3b-1532">Location of 3-Tier SAP configurations</span></span>
<span data-ttu-id="31d3b-1533">Não é camada de aplicativo de saudação toosplit com suporte em si ou aplicativo hello e camada DBMS entre local e o Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1533">It is not supported toosplit hello application tier itself or hello application and DBMS tier between on-premises and Azure.</span></span> <span data-ttu-id="31d3b-1534">Um sistema SAP é completamente implantado localmente OU no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1534">An SAP system is either completely deployed on-premises OR in Azure.</span></span> <span data-ttu-id="31d3b-1535">Também não é suportada toohave alguns dos servidores de aplicativo hello execução local e outros no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1535">It is also not supported toohave some of hello application servers run on-premises and some others in Azure.</span></span> <span data-ttu-id="31d3b-1536">Que é hello ponto inicial da discussão hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1536">That is hello starting point of hello discussion.</span></span> <span data-ttu-id="31d3b-1537">Também não oferece suporte a componentes DBMS Olá toohave de um sistema SAP e Olá camada do servidor de aplicativo SAP implantada em duas regiões diferentes do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1537">We also are not supporting toohave hello DBMS components of an SAP system and hello SAP application server layer deployed in two different Azure Regions.</span></span> <span data-ttu-id="31d3b-1538">Por exemplo, o DBMS no Oeste dos EUA e camada de aplicativo SAP nos EUA Central.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1538">For example DBMS in West US and SAP application layer in Central US.</span></span> <span data-ttu-id="31d3b-1539">Razão para não dar suporte a essas configurações é sensibilidade de latência de saudação do hello arquitetura do SAP NetWeaver.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1539">Reason for not supporting such configurations is hello latency sensitivity of hello SAP NetWeaver architecture.</span></span>

<span data-ttu-id="31d3b-1540">No entanto, longo Olá de dados do último ano parceiros center desenvolvida locais colegas tooAzure regiões.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1540">However, over hello course of last year data center partners developed co-locations tooAzure Regions.</span></span> <span data-ttu-id="31d3b-1541">Esses locais colegas geralmente são nos dados do Azure do muito próximos toohello físico centers dentro de uma região do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1541">These co-locations often are in very close proximity toohello physical Azure data centers within an Azure Region.</span></span> <span data-ttu-id="31d3b-1542">curta distância de saudação e conexão de ativos no hello colocalização por meio de rota expressa no Azure podem resultar em uma latência que é menor que 2 ms.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1542">hello short distance and connection of assets in hello co-location through ExpressRoute into Azure can result in a latency that is less than 2ms.</span></span> <span data-ttu-id="31d3b-1543">Nesses casos, é possível toolocate Olá camada de DBMS (incluindo o armazenamento SAN/NAS) em uma localização conjunta e camada de aplicativo hello SAP no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1543">In such cases, toolocate hello DBMS layer (including storage SAN/NAS) in such a co-location and hello SAP application layer in Azure is possible.</span></span> <span data-ttu-id="31d3b-1544">Desde dezembro de 2015, não temos nenhuma implantação desse tipo.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1544">As of Dec 2015, we don’t have any deployments like that.</span></span> <span data-ttu-id="31d3b-1545">Mas diferentes clientes com implantações de aplicativos não SAP já estão usando essas abordagens.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1545">But different customers with non-SAP application deployments are using such approaches already.</span></span>

### <a name="offline-backup-of-sap-systems"></a><span data-ttu-id="31d3b-1546">Backup offline de sistemas SAP</span><span class="sxs-lookup"><span data-stu-id="31d3b-1546">Offline Backup of SAP systems</span></span>
<span data-ttu-id="31d3b-1547">Dependente de saudação configuração SAP escolhida (2 ou 3 camadas), há pode ser uma necessidade tooback backup.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1547">Dependent on hello SAP configuration chosen (2-Tier or 3-Tier) there could be a need tooback up.</span></span> <span data-ttu-id="31d3b-1548">conteúdo Olá Olá própria VM mais toohave um backup de banco de dados de saudação.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1548">hello content of hello VM itself plus toohave a backup of hello database.</span></span> <span data-ttu-id="31d3b-1549">os backups relacionados a DBMS de saudação são toobe esperado concluído métodos de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1549">hello DBMS-related backups are expected toobe done with database methods.</span></span> <span data-ttu-id="31d3b-1550">Uma descrição detalhada para bancos de dados diferentes hello, pode ser encontrada em [guia DBMS][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="31d3b-1550">A detailed description for hello different databases, can be found in [DBMS Guide][dbms-guide].</span></span> <span data-ttu-id="31d3b-1551">Em Olá outro lado, Olá dados SAP poderá ser feito backup de uma maneira offline (incluindo o conteúdo do banco de dados Olá também) conforme descrito nesta seção, ou online, conforme descrito na próxima seção, Olá.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1551">On hello other hand, hello SAP data can be backed up in an offline manner (including hello database content as well) as described in this section or online as described in hello next section.</span></span>

<span data-ttu-id="31d3b-1552">backup offline Olá basicamente exigiria um desligamento da VM por meio do portal do Azure de saudação do hello e uma cópia do disco VM base hello mais VM toohello de todos os discos anexados.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1552">hello offline backup would basically require a shutdown of hello VM through hello Azure portal and a copy of hello base VM disk plus all attached disks toohello VM.</span></span> <span data-ttu-id="31d3b-1553">Isso seria preservar um ponto na imagem de tempo de saudação VM e seus discos associados.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1553">This would preserve a point in time image of hello VM and its associated disk.</span></span> <span data-ttu-id="31d3b-1554">É recomendável toocopy hello "backups" em uma conta de armazenamento do Azure diferente.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1554">It is recommended toocopy hello ‘backups’ into a different Azure Storage Account.</span></span> <span data-ttu-id="31d3b-1555">Olá, portanto, o procedimento descrito no capítulo [copiando discos entre contas de armazenamento do Azure] [ planning-guide-5.4.2] deste documento seria aplicável.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1555">Hence hello procedure described in chapter [Copying disks between Azure Storage Accounts][planning-guide-5.4.2] of this document would apply.</span></span>
<span data-ttu-id="31d3b-1556">Além de desligamento hello usando hello Azure portal um também poderá fazer isso por meio do Powershell ou CLI conforme descrito aqui: <https://azure.microsoft.com/documentation/articles/virtual-machines-deploy-rmtemplates-powershell/></span><span class="sxs-lookup"><span data-stu-id="31d3b-1556">Besides hello shutdown using hello Azure portal one can also do it via Powershell or CLI as described here: <https://azure.microsoft.com/documentation/articles/virtual-machines-deploy-rmtemplates-powershell/></span></span>

<span data-ttu-id="31d3b-1557">Uma restauração de estado consiste da exclusão Olá VM de base, bem como Olá discos originais da saudação base VM e discos montados, copiando novamente Olá discos salvo toohello original conta de armazenamento ou grupo de recursos para discos gerenciados e, em seguida, reimplantar o sistema hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1557">A restore of that state would consist of deleting hello base VM as well as hello original disks of hello base VM and mounted disks, copying back hello saved disks toohello original Storage Account or resource group for managed disks and then redeploying hello system.</span></span>
<span data-ttu-id="31d3b-1558">Este artigo mostra um exemplo de como tooscript esse processo no Powershell: <http://www.westerndevs.com/azure-snapshots/></span><span class="sxs-lookup"><span data-stu-id="31d3b-1558">This article shows an example how tooscript this process in Powershell: <http://www.westerndevs.com/azure-snapshots/></span></span>

<span data-ttu-id="31d3b-1559">Verifique se tooinstall uma nova licença SAP como restaurar um backup VM conforme descrito acima, cria uma nova chave de hardware.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1559">Please make sure tooinstall a new SAP license since restoring a VM backup as described above creates a new hardware key.</span></span>

### <a name="online-backup-of-an-sap-system"></a><span data-ttu-id="31d3b-1560">Backup online de um sistema SAP</span><span class="sxs-lookup"><span data-stu-id="31d3b-1560">Online backup of an SAP system</span></span>
<span data-ttu-id="31d3b-1561">Backup de saudação DBMS é executado com métodos específicos de DBMS, conforme descrito em Olá [guia DBMS][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="31d3b-1561">Backup of hello DBMS is performed with DBMS-specific methods as described in hello [DBMS Guide][dbms-guide].</span></span>

<span data-ttu-id="31d3b-1562">Outras VMs no sistema SAP de saudação podem ser feitos usando a funcionalidade de Backup de máquinas virtuais do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1562">Other VMs within hello SAP system can be backed up using Azure Virtual Machine Backup functionality.</span></span> <span data-ttu-id="31d3b-1563">Backup de máquinas virtuais do Azure foi introduzido no início de 2015 e ao mesmo tempo é tooback um método padrão a uma VM completa no Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1563">Azure Virtual Machine Backup got introduced early in 2015 and meanwhile is a standard method tooback up a complete VM in Azure.</span></span> <span data-ttu-id="31d3b-1564">O Backup do Azure armazena backups Olá no Azure e permite uma restauração de uma máquina virtual novamente.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1564">Azure Backup stores hello backups in Azure and allows a restore of a VM again.</span></span>

> [!NOTE]
> <span data-ttu-id="31d3b-1565">A partir de dezembro de 2015 usando o Backup de VM não manter Olá exclusivo VM ID que é usado para SAP de licenciamento.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1565">As of Dec 2015 using VM Backup does NOT keep hello unique VM ID which is used for SAP licensing.</span></span> <span data-ttu-id="31d3b-1566">Isso significa que uma restauração de um backup VM exige a instalação de uma nova chave de licença do SAP como Olá restaurada VM é considerada toobe uma nova VM e não uma substituição de um antigo que foi salvo.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1566">This means that a restore from a VM backup requires installation of a new SAP license key as hello restored VM is considered toobe a new VM and not a replacement of the former one which was saved.</span></span>
>
> ![Windows][Logo_Windows] <span data-ttu-id="31d3b-1568">Windows</span><span class="sxs-lookup"><span data-stu-id="31d3b-1568">Windows</span></span>
>
> <span data-ttu-id="31d3b-1569">Teoricamente, as VMs que bancos de dados de execução poderá ser feitos backup de uma maneira consistente também se Olá sistema DBMS dá suporte a saudação Windows VSS (serviço de cópias de sombra de Volume <https://msdn.microsoft.com/library/windows/desktop/bb968832 (v=vs.85).aspx >) como, por exemplo, SQL Server faz.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1569">Theoretically, VMs that run databases can be backed up in a consistent manner as well if hello DBMS system supports hello Windows VSS (Volume Shadow Copy Service <https://msdn.microsoft.com/library/windows/desktop/bb968832(v=vs.85).aspx>) as, for example, SQL Server does.</span></span>
> <span data-ttu-id="31d3b-1570">No entanto, lembre-se de que com base nos backups de VM do Azure, as restaurações pontuais não são possíveis.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1570">However, be aware that based on Azure VM backups point-in-time restores of databases are not possible.</span></span> <span data-ttu-id="31d3b-1571">Portanto, a recomendação é tooperform backups de bancos de dados com a funcionalidade DBMS em vez de depender do Backup de VM do Azure.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1571">Therefore, the recommendation is tooperform backups of databases with DBMS functionality instead of relying on Azure VM Backup.</span></span>
>
> <span data-ttu-id="31d3b-1572">tooget familiarizado com o Backup de máquinas virtuais do Azure, comece aqui: <https://docs.microsoft.com/azure/backup/backup-azure-vms>.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1572">tooget familiar with Azure Virtual Machine Backup please start here: <https://docs.microsoft.com/azure/backup/backup-azure-vms>.</span></span>
>
> <span data-ttu-id="31d3b-1573">Outras possibilidades são toouse uma combinação do Microsoft Data Protection Manager é instalado em uma máquina virtual do Azure e o Azure Backup para backup/restauração de bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1573">Other possibilities are toouse a combination of Microsoft Data Protection Manager installed in an Azure VM and Azure Backup to backup/restore databases.</span></span> <span data-ttu-id="31d3b-1574">Mais informações podem ser encontradas aqui: <https://docs.microsoft.com/azure/backup/backup-azure-dpm-introduction/>.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1574">More information can be found here: <https://docs.microsoft.com/azure/backup/backup-azure-dpm-introduction>.</span></span>  
>
> ![Linux][Logo_Linux] <span data-ttu-id="31d3b-1576">Linux</span><span class="sxs-lookup"><span data-stu-id="31d3b-1576">Linux</span></span>
>
> <span data-ttu-id="31d3b-1577">Não há nenhum equivalente tooWindows VSS no Linux.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1577">There is no equivalent tooWindows VSS in Linux.</span></span> <span data-ttu-id="31d3b-1578">Portanto, apenas backups consistentes com arquivo são possíveis, enquanto os consistentes com aplicativo não são.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1578">Therefore only file-consistent backups are possible but not application-consistent backups.</span></span> <span data-ttu-id="31d3b-1579">Olá SAP DBMS deve ser feito backup usando a funcionalidade DBMS.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1579">hello SAP DBMS backup should be done using DBMS functionality.</span></span> <span data-ttu-id="31d3b-1580">Olá sistema de arquivos que inclui dados relacionados ao SAP de saudação pode ser salvos, por exemplo, usando o arquivo tar conforme descrito aqui: <http://help.sap.com/saphelp_nw70ehp2/helpdata/en/d3/c0da3ccbb04d35b186041ba6ac301f/content.htm></span><span class="sxs-lookup"><span data-stu-id="31d3b-1580">hello file system which includes hello SAP-related data can be saved, for example, using tar as described here: <http://help.sap.com/saphelp_nw70ehp2/helpdata/en/d3/c0da3ccbb04d35b186041ba6ac301f/content.htm></span></span>
>
>

### <a name="azure-as-dr-site-for-production-sap-landscapes"></a><span data-ttu-id="31d3b-1581">Azure como local de recuperação de desastre para estruturas da SAP de produção</span><span class="sxs-lookup"><span data-stu-id="31d3b-1581">Azure as DR site for production SAP landscapes</span></span>
<span data-ttu-id="31d3b-1582">Desde meados de 2014, componentes toovarious extensões Hyper-V, o System Center e o Azure habilitar uso de saudação do Azure como local de DR para VMs em execução com base no Hyper-V no local.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1582">Since Mid 2014, extensions toovarious components around Hyper-V, System Center and Azure enable hello usage of Azure as DR site for VMs running on-premises based on Hyper-V.</span></span>

<span data-ttu-id="31d3b-1583">Um blog detalhando como toodeploy essa solução é documentado aqui: <http://blogs.msdn.com/b/saponsqlserver/archive/2014/11/19/protecting-sap-solutions-with-azure-site-recovery.aspx>.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1583">A blog detailing how toodeploy this solution is documented here: <http://blogs.msdn.com/b/saponsqlserver/archive/2014/11/19/protecting-sap-solutions-with-azure-site-recovery.aspx>.</span></span>

## <a name="summary"></a><span data-ttu-id="31d3b-1584">Resumo</span><span class="sxs-lookup"><span data-stu-id="31d3b-1584">Summary</span></span>
<span data-ttu-id="31d3b-1585">Olá pontos principais de alta disponibilidade para sistemas SAP no Azure são:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1585">hello key points of High Availability for SAP systems in Azure are:</span></span>

* <span data-ttu-id="31d3b-1586">Neste momento, Olá ponto de falha único SAP não pode ser protegido exatamente Olá mesma maneira que ele pode ser feito em implantações locais.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1586">At this point in time, hello SAP single point of failure cannot be secured exactly hello same way as it can be done in on-premises deployments.</span></span> <span data-ttu-id="31d3b-1587">motivo de saudação é que os clusters de discos compartilhados ainda não podem ser criados no Azure sem o uso de saudação do 3º softwares de terceiros.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1587">hello reason is that Shared Disk clusters can’t yet be built in Azure without hello use of 3rd party software.</span></span>
* <span data-ttu-id="31d3b-1588">Para a camada de DBMS Olá você precisa de funcionalidade DBMS toouse que não dependem da tecnologia de cluster de disco compartilhado.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1588">For hello DBMS layer you need toouse DBMS functionality that does not rely on shared disk cluster technology.</span></span> <span data-ttu-id="31d3b-1589">Mais detalhes estão documentados no hello [guia DBMS][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="31d3b-1589">Details are documented in hello [DBMS Guide][dbms-guide].</span></span>
* <span data-ttu-id="31d3b-1590">impacto de saudação toominimize de problemas em domínios de falha no hello manutenção de host ou de infraestrutura do Azure, você deve usar conjuntos de disponibilidade do Azure:</span><span class="sxs-lookup"><span data-stu-id="31d3b-1590">toominimize hello impact of problems within Fault Domains in hello Azure infrastructure or host maintenance, you should use Azure Availability Sets:</span></span>
  * <span data-ttu-id="31d3b-1591">É recomendável toohave um conjunto de disponibilidade para a camada do aplicativo SAP hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1591">It is recommended toohave one Availability Set for hello SAP application layer.</span></span>
  * <span data-ttu-id="31d3b-1592">É recomendável toohave uma disponibilidade separado definida para a camada de DBMS SAP hello.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1592">It is recommended toohave a separate Availability Set for hello SAP DBMS layer.</span></span>
  * <span data-ttu-id="31d3b-1593">NÃO é recomendável Olá tooapply que conjunto de disponibilidade mesmo para VMs de sistemas SAP diferentes.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1593">It is NOT recommended tooapply hello same Availability set for VMs of different SAP systems.</span></span>
  * <span data-ttu-id="31d3b-1594">É recomendável toouse Premium gerenciados discos.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1594">It is recommended toouse Premium Managed Disks.</span></span>
* <span data-ttu-id="31d3b-1595">Para fins de Backup da camada de DBMS SAP hello, verifique Olá [guia DBMS][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="31d3b-1595">For Backup purposes of hello SAP DBMS layer, please check hello [DBMS Guide][dbms-guide].</span></span>
* <span data-ttu-id="31d3b-1596">Fazendo backup de instâncias de diálogo SAP faz pouco sentido, pois ela é normalmente mais rápidas instâncias de diálogo simples tooredeploy.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1596">Backing up SAP Dialog instances makes little sense since it is usually faster tooredeploy simple dialog instances.</span></span>
* <span data-ttu-id="31d3b-1597">Backup Olá VM que contém o diretório global de saudação do hello sistema SAP e com ele todos os perfis de saudação de instâncias diferentes do hello, faz sentido e deve ser realizado com o Backup do Windows ou, por exemplo, tar no Linux.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1597">Backing up hello VM which contains hello global directory of hello SAP system and with it all hello profiles of hello different instances, does make sense and should be performed with Windows Backup or, for example, tar on Linux.</span></span> <span data-ttu-id="31d3b-1598">Como há diferenças entre o Windows Server 2008 (R2) e o Windows Server 2012 (R2), que torna mais fácil tooback usando Olá versões mais recentes do Windows, é recomendável toorun Windows Server 2012 (R2) como o sistema operacional Windows.</span><span class="sxs-lookup"><span data-stu-id="31d3b-1598">Since there are differences between Windows Server 2008 (R2) and Windows Server 2012 (R2), which make it easier tooback up using hello more recent Windows Server releases, we recommend toorun Windows Server 2012 (R2) as Windows guest operating system.</span></span>
