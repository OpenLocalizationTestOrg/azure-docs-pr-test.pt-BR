---
title: "recuperação de desastres e disponibilidade de aaaHigh do SAP HANA no Azure (instâncias grandes) | Microsoft Docs"
description: "Estabeleça a alta disponibilidade e planeje a recuperação de desastre do SAP HANA no Azure (instâncias grandes)."
services: virtual-machines-linux
documentationcenter: 
author: RicksterCDN
manager: timlt
editor: 
ms.service: virtual-machines-linux
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: vm-linux
ms.workload: infrastructure
ms.date: 12/01/2016
ms.author: rclaus
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 0c0967f54cf29bbb275eb7cda9d36608488add9e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="sap-hana-large-instances-high-availability-and-disaster-recovery-on-azure"></a><span data-ttu-id="cf8d3-103">Alta disponibilidade e recuperação de desastre do SAP HANA (instâncias grandes) no Azure</span><span class="sxs-lookup"><span data-stu-id="cf8d3-103">SAP HANA (large instances) high availability and disaster recovery on Azure</span></span> 

<span data-ttu-id="cf8d3-104">A alta disponibilidade e a recuperação de desastre são aspectos importantes da execução crucial do SAP HANA em servidores do Azure (instâncias grandes).</span><span class="sxs-lookup"><span data-stu-id="cf8d3-104">High availability and disaster recovery are important aspects of running your mission-critical SAP HANA on Azure (large instances) servers.</span></span> <span data-ttu-id="cf8d3-105">Toowork importante de sua com o SAP, o integrador de sistema, ou arquiteto de tooproperly da Microsoft e implementar Olá estratégia direito alta-disponibilidade/recuperação de desastres.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-105">It's important toowork with SAP, your system integrator, or Microsoft tooproperly architect and implement hello right high-availability/disaster-recovery strategy.</span></span> <span data-ttu-id="cf8d3-106">Também é importante tooconsider objetivo de ponto de recuperação de saudação e objetivo de tempo de recuperação, que são específicos de tooyour ambiente.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-106">It is also important tooconsider hello recovery point objective and recovery time objective, which are specific tooyour environment.</span></span>

## <a name="high-availability"></a><span data-ttu-id="cf8d3-107">Alta disponibilidade</span><span class="sxs-lookup"><span data-stu-id="cf8d3-107">High availability</span></span>

<span data-ttu-id="cf8d3-108">Microsoft oferece suporte a métodos de alta disponibilidade da SAP HANA "fora da caixa hello," que incluem:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-108">Microsoft supports SAP HANA high-availability methods "out of hello box," which include:</span></span>

- <span data-ttu-id="cf8d3-109">**Replicação de armazenamento:** Olá tooreplicate de capacidade do sistema de armazenamento local de tooanother todos os dados (em, ou separado, Olá mesmo Data Center).</span><span class="sxs-lookup"><span data-stu-id="cf8d3-109">**Storage replication:** hello storage system's ability tooreplicate all data tooanother location (within, or separate from, hello same datacenter).</span></span> <span data-ttu-id="cf8d3-110">O SAP HANA funciona independentemente desse método.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-110">SAP HANA operates independently of this method.</span></span>
- <span data-ttu-id="cf8d3-111">**Replicação de sistema do HANA:** Olá replicação de todos os dados no sistema do SAP HANA tooa separado SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-111">**HANA system replication:** hello replication of all data in SAP HANA tooa separate SAP HANA system.</span></span> <span data-ttu-id="cf8d3-112">o objetivo de tempo de recuperação Olá é minimizado por meio da replicação de dados em intervalos regulares.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-112">hello recovery time objective is minimized through data replication at regular intervals.</span></span> <span data-ttu-id="cf8d3-113">SAP HANA dá suporte a modos de na memória, síncronos e assíncronos, síncronos (recomendado para o SAP HANA sistemas que estão dentro do hello mesmo datacenter ou menos de 100 KM distância).</span><span class="sxs-lookup"><span data-stu-id="cf8d3-113">SAP HANA supports asynchronous, synchronous in-memory, and synchronous modes (recommended only for SAP HANA systems that are within hello same datacenter or less than 100 KM apart).</span></span> <span data-ttu-id="cf8d3-114">No design atual de saudação de carimbos de instância grande HANA, replicação de sistema do HANA pode ser usada apenas para a alta disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-114">In hello current design of HANA large-instance stamps, HANA system replication can be used for high availability only.</span></span>
- <span data-ttu-id="cf8d3-115">**Failover automático de host:** um toouse de solução de recuperação de falhas locais como uma alternativa toosystem de replicação.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-115">**Host auto-failover:** A local fault-recovery solution toouse as an alternative toosystem replication.</span></span> <span data-ttu-id="cf8d3-116">Quando o nó de saudação mestre fica indisponível, um ou mais nós do SAP HANA em espera são configurados no modo de expansão e SAP HANA passam automaticamente tooanother nó.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-116">When hello master node becomes unavailable, one or more standby SAP HANA nodes are configured in scale-out mode and SAP HANA automatically fails over tooanother node.</span></span>

<span data-ttu-id="cf8d3-117">Para obter mais informações sobre a alta disponibilidade do SAP HANA, consulte Olá SAP informações a seguir:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-117">For more information on SAP HANA high availability, see hello following SAP information:</span></span>

- [<span data-ttu-id="cf8d3-118">Whitepaper de Alta Disponibilidade do SAP HANA</span><span class="sxs-lookup"><span data-stu-id="cf8d3-118">SAP HANA High-Availability Whitepaper</span></span>](http://go.sap.com/documents/2016/05/f8e5eeba-737c-0010-82c7-eda71af511fa.html)
- [<span data-ttu-id="cf8d3-119">Guia de administração do SAP HANA</span><span class="sxs-lookup"><span data-stu-id="cf8d3-119">SAP HANA Administration Guide</span></span>](http://help.sap.com/hana/SAP_HANA_Administration_Guide_en.pdf)
- [<span data-ttu-id="cf8d3-120">Vídeo do SAP Academy sobre Replicação do Sistema SAP HANA</span><span class="sxs-lookup"><span data-stu-id="cf8d3-120">SAP Academy Video on SAP HANA System Replication</span></span>](http://scn.sap.com/community/hana-in-memory/blog/2015/05/19/sap-hana-system-replication)
- [<span data-ttu-id="cf8d3-121">SAP Note de Suporte nº 1999880 – perguntas frequentes sobre replicação do sistema SAP HANA</span><span class="sxs-lookup"><span data-stu-id="cf8d3-121">SAP Support Note #1999880 – FAQ on SAP HANA System Replication</span></span>](https://bcs.wdf.sap.corp/sap/support/notes/1999880)
- <span data-ttu-id="cf8d3-122">[SAP Note de Suporte SAP nº 2165547 – backup e restauração do SAP HANA no ambiente de replicação do sistema SAP HANA](https://websmp230.sap-ag.de/sap(bD1lbiZjPTAwMQ==)/bc/bsp/sno/ui_entry/entry.htm?param=69765F6D6F64653D3030312669765F7361706E6F7465735F6E756D6265723D3231363535343726)</span><span class="sxs-lookup"><span data-stu-id="cf8d3-122">[SAP Support Note #2165547 – SAP HANA Backup and Restore within SAP HANA System Replication Environment](https://websmp230.sap-ag.de/sap(bD1lbiZjPTAwMQ==)/bc/bsp/sno/ui_entry/entry.htm?param=69765F6D6F64653D3030312669765F7361706E6F7465735F6E756D6265723D3231363535343726)</span></span>
- <span data-ttu-id="cf8d3-123">[SAP Note de Suporte SAP nº 1984882 – uso da replicação do sistema SAP HANA para troca de hardware com tempo de inatividade mínimo/zero](https://websmp230.sap-ag.de/sap(bD1lbiZjPTAwMQ==)/bc/bsp/sno/ui_entry/entry.htm?param=69765F6D6F64653D3030312669765F7361706E6F7465735F6E756D6265723D3139383438383226)</span><span class="sxs-lookup"><span data-stu-id="cf8d3-123">[SAP Support Note #1984882 – Using SAP HANA System Replication for Hardware Exchange with Minimum/Zero Downtime](https://websmp230.sap-ag.de/sap(bD1lbiZjPTAwMQ==)/bc/bsp/sno/ui_entry/entry.htm?param=69765F6D6F64653D3030312669765F7361706E6F7465735F6E756D6265723D3139383438383226)</span></span>

## <a name="disaster-recovery"></a><span data-ttu-id="cf8d3-124">Recuperação de desastre</span><span class="sxs-lookup"><span data-stu-id="cf8d3-124">Disaster recovery</span></span>

<span data-ttu-id="cf8d3-125">O SAP HANA no Azure (Instâncias Grandes) é oferecido em duas regiões do Azure em uma região geopolítica.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-125">SAP HANA on Azure (large instances) is offered in two Azure regions in a geopolitical region.</span></span> <span data-ttu-id="cf8d3-126">Entre dois carimbos de instância grande Olá das duas regiões diferentes é uma conectividade de rede direta para replicar dados durante a recuperação de desastres.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-126">Between hello two large-instance stamps of two different regions is a direct network connectivity for replicating data during disaster recovery.</span></span> <span data-ttu-id="cf8d3-127">replicação de saudação de dados saudação é com base na infraestrutura de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-127">hello replication of hello data is storage-infrastructure based.</span></span> <span data-ttu-id="cf8d3-128">replicação de saudação não é feita por padrão.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-128">hello replication is not done by default.</span></span> <span data-ttu-id="cf8d3-129">Ele é feito para as configurações de cliente de saudação que ordenados a recuperação de desastres hello.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-129">It is done for hello customer configurations that ordered hello disaster recovery.</span></span> <span data-ttu-id="cf8d3-130">No projeto atual do hello, replicação de sistema do HANA não pode ser usada para recuperação de desastres.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-130">In hello current design, HANA system replication can't be used for disaster recovery.</span></span>

<span data-ttu-id="cf8d3-131">No entanto, tootake vantagem Olá recuperação de desastres, você precisa toostart toodesign Olá rede conectividade toohello duas regiões diferentes do Azure.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-131">However, tootake advantage of hello disaster recovery, you need toostart toodesign hello network connectivity toohello two different Azure regions.</span></span> <span data-ttu-id="cf8d3-132">toodo, portanto, é necessário uma conexão de circuito de rota expressa do Azure do local em sua região do Azure principal e outra conexão de circuito de região de recuperação de desastres tooyour local.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-132">toodo so, you need an Azure ExpressRoute circuit connection from on-premises in your main Azure region and another circuit connection from on-premises tooyour disaster-recovery region.</span></span> <span data-ttu-id="cf8d3-133">Essa medida abrange uma situação em que uma região do Azure completa, incluindo local do MSEE (Microsoft Enterprise Edge Router), tem um problema.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-133">This measure would cover a situation in which a complete Azure region, including a Microsoft enterprise edge router (MSEE) location, has an issue.</span></span>

<span data-ttu-id="cf8d3-134">Como uma segunda medida, você pode se conectar a redes virtuais do Azure que se conectam tooSAP HANA no Azure (instâncias grandes) em uma saudação regiões tooboth os circuitos de rota expressa.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-134">As a second measure, you can connect all Azure virtual networks that connect tooSAP HANA on Azure (large instances) in one of hello regions tooboth of those ExpressRoute circuits.</span></span> <span data-ttu-id="cf8d3-135">Essa medida trata um caso em que apenas um dos locais de MSEE Olá que se conecta a sua localização no local com o Azure fica fora de serviço.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-135">This measure addresses a case where only one of hello MSEE locations that connects your on-premises location with Azure goes off duty.</span></span>

<span data-ttu-id="cf8d3-136">Olá figura a seguir mostra a configuração ideal Olá para recuperação de desastres:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-136">hello following figure shows hello optimal configuration for disaster recovery:</span></span>

![Configuração ideal para a recuperação de desastre](./media/hana-overview-high-availability-disaster-recovery/image1-optimal-configuration.png)

<span data-ttu-id="cf8d3-138">Olá, caso ideal para uma configuração de recuperação de desastres de rede de saudação é toohave dois circuitos de rota expressa do local toohello duas regiões diferentes do Azure.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-138">hello optimal case for a disaster-recovery configuration of hello network is toohave two ExpressRoute circuits from on-premises toohello two different Azure regions.</span></span> <span data-ttu-id="cf8d3-139">Um circuito vai tooregion #1, executando uma instância de produção.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-139">One circuit goes tooregion #1, running a production instance.</span></span> <span data-ttu-id="cf8d3-140">circuito de rota expressa segundo Olá vai tooregion #2, executando algumas instâncias do HANA de não produção.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-140">hello second ExpressRoute circuit goes tooregion #2, running some non-production HANA instances.</span></span> <span data-ttu-id="cf8d3-141">(Isso é importante se uma região do Azure inteira, incluindo hello MSEE e carimbo de data / instância grande ficar fora da grade hello.)</span><span class="sxs-lookup"><span data-stu-id="cf8d3-141">(This is important if an entire Azure region, including hello MSEE and large-instance stamp, goes off hello grid.)</span></span>

<span data-ttu-id="cf8d3-142">Como uma segunda medida, Olá várias redes virtuais é conectada toohello vários circuitos do ExpressRoute que estão conectado tooSAP HANA no Azure (instâncias grandes).</span><span class="sxs-lookup"><span data-stu-id="cf8d3-142">As a second measure, hello various virtual networks are connected toohello various ExpressRoute circuits that are connected tooSAP HANA on Azure (large instances).</span></span> <span data-ttu-id="cf8d3-143">Você pode ignorar Olá onde uma MSEE está falhando, local ou você pode reduzir o objetivo de ponto de recuperação Olá para recuperação de desastres, como abordamos mais tarde.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-143">You can bypass hello location where an MSEE is failing, or you can lower hello recovery point objective for disaster recovery, as we discuss later.</span></span>

<span data-ttu-id="cf8d3-144">requisitos de Avançar Olá para uma configuração de recuperação de desastre são:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-144">hello next requirements for a disaster-recovery setup are:</span></span>

- <span data-ttu-id="cf8d3-145">Você deve solicitar o SAP HANA em SKUs do Azure (instâncias grandes) de saudação mesmo tamanho de sua produção SKUs e implantá-las na região de recuperação de desastres hello.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-145">You must order SAP HANA on Azure (large instances) SKUs of hello same size as your production SKUs and deploy them in hello disaster-recovery region.</span></span> <span data-ttu-id="cf8d3-146">Essas instâncias podem ser usado toorun teste, área restrita ou QA HANA instâncias.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-146">These instances can be used toorun test, sandbox, or QA HANA instances.</span></span>
- <span data-ttu-id="cf8d3-147">Você deve solicitar um perfil de recuperação de desastres para cada um dos seus SAP HANA em SKUs do Azure (instâncias grandes) que você deseja toorecover no site de recuperação de desastres hello, se necessário.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-147">You must order a disaster-recovery profile for each of your SAP HANA on Azure (large instances) SKUs that you want toorecover in hello disaster-recovery site, if necessary.</span></span> <span data-ttu-id="cf8d3-148">Esta ação leva toohello alocação de volumes de armazenamento, que são alvo de saudação de replicação de armazenamento Olá da sua região de produção em região de recuperação de desastres hello.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-148">This action leads toohello allocation of storage volumes, which are hello target of hello storage replication from your production region into hello disaster-recovery region.</span></span>

<span data-ttu-id="cf8d3-149">Depois de atender a saudação anterior requisitos, é a replicação de armazenamento Olá responsabilidade toostart.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-149">After you meet hello preceding requirements, it is your responsibility toostart hello storage replication.</span></span> <span data-ttu-id="cf8d3-150">Na infraestrutura de armazenamento Olá usada para o SAP HANA no Azure (instâncias grandes), a base de saudação de replicação de armazenamento é instantâneos de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-150">In hello storage infrastructure used for SAP HANA on Azure (large instances), hello basis of storage replication is storage snapshots.</span></span> <span data-ttu-id="cf8d3-151">replicação de recuperação de desastres do toostart Olá, é necessário tooperform:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-151">toostart hello disaster-recovery replication, you need tooperform:</span></span>

- <span data-ttu-id="cf8d3-152">Um instantâneo do LUN de inicialização conforme descrito anteriormente.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-152">A snapshot of your boot LUN, as described earlier.</span></span>
- <span data-ttu-id="cf8d3-153">Um instantâneo dos volumes relacionados ao HANA conforme descrito anteriormente.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-153">A snapshot of your HANA-related volumes, as described earlier.</span></span>

<span data-ttu-id="cf8d3-154">Depois de executar esses instantâneos, a réplica inicial de volumes de saudação é propagada em volumes de saudação que estão associados ao seu perfil de recuperação de desastres na região de recuperação de desastres de saudação.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-154">After you execute these snapshots, an initial replica of hello volumes is seeded on hello volumes that are associated with your disaster-recovery profile in hello disaster-recovery region.</span></span>

<span data-ttu-id="cf8d3-155">Subsequentemente, o instantâneo mais recente de armazenamento Olá é usado a cada hora deltas de saudação tooreplicate que desenvolvem em volumes de armazenamento de saudação.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-155">Subsequently, hello most recent storage snapshot is used every hour tooreplicate hello deltas that develop on hello storage volumes.</span></span>

<span data-ttu-id="cf8d3-156">objetivo de ponto de recuperação de saudação que é obtido com essa configuração é de 60 minutos too90.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-156">hello recovery point objective that's achieved with this configuration is from 60 too90 minutes.</span></span> <span data-ttu-id="cf8d3-157">tooachieve uma melhor recuperação objetivo de ponto de caso de recuperação de desastres Olá, cópia Olá HANA transação backups de log do HANA SAP no Azure (instâncias grandes) toohello outra região do Azure.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-157">tooachieve a better recovery point objective in hello disaster-recovery case, copy hello HANA transaction log backups from SAP HANA on Azure (large instances) toohello other Azure region.</span></span> <span data-ttu-id="cf8d3-158">tooachieve este objetivo de ponto de recuperação, Olá a seguir:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-158">tooachieve this recovery point objective, do hello following:</span></span>

1. <span data-ttu-id="cf8d3-159">Fazer backup de transação do HANA Olá backup de log com a frequência possível muito/hana/log /.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-159">Back up hello HANA transaction log as frequently as possible too/hana/log/backup.</span></span>
2. <span data-ttu-id="cf8d3-160">Copie backups de log de transações hello quando elas estiverem concluído tooan Azure VM (máquina virtual), que está em uma rede virtual que tenha se conectado toohello SAP HANA no servidor do Azure (instâncias grandes).</span><span class="sxs-lookup"><span data-stu-id="cf8d3-160">Copy hello transaction log backups when they are finished tooan Azure virtual machine (VM), which is in a virtual network that's connected toohello SAP HANA on Azure (large instances) server.</span></span>
3. <span data-ttu-id="cf8d3-161">Dessa VM, copie Olá backup tooa VM que está em uma rede virtual na região de recuperação de desastres hello.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-161">From that VM, copy hello backup tooa VM that's in a virtual network in hello disaster-recovery region.</span></span>
4. <span data-ttu-id="cf8d3-162">Manter backups de log de transação de Olá Olá VM nessa região.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-162">Keep hello transaction log backups in that region in hello VM.</span></span>

<span data-ttu-id="cf8d3-163">Em caso de desastre, depois que o perfil de recuperação de desastres de saudação tiver sido implantado em um servidor real, copiem backups de log de transações Olá Olá VM toohello HANA SAP no Azure (instâncias grandes) que é servidor primário do hello agora na região de recuperação de desastres Olá, e Restaure os backups.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-163">In case of disaster, after hello disaster-recovery profile has been deployed on an actual server, copy hello transaction log backups from hello VM toohello SAP HANA on Azure (large instances) that is now hello primary server in hello disaster-recovery region, and restore those backups.</span></span> <span data-ttu-id="cf8d3-164">A recuperação é possível porque o estado de saudação do HANA em discos de recuperação de desastres Olá é que um instantâneo do HANA.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-164">This recovery is possible because hello state of HANA on hello disaster-recovery disks is that of a HANA snapshot.</span></span> <span data-ttu-id="cf8d3-165">Este é o ponto de deslocamento de saudação para restaurações adicionais de backups de log de transações.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-165">This is hello offset point for further restorations of transaction log backups.</span></span>

## <a name="backup-and-restore"></a><span data-ttu-id="cf8d3-166">Backup e restauração</span><span class="sxs-lookup"><span data-stu-id="cf8d3-166">Backup and restore</span></span>

<span data-ttu-id="cf8d3-167">Um banco de dados de toooperating aspectos mais importantes Olá é verificar se o banco de dados de saudação pode ser protegido de vários eventos catastróficos.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-167">One of hello most important aspects toooperating databases is making sure hello database can be protected from various catastrophic events.</span></span> <span data-ttu-id="cf8d3-168">Esses eventos podem ser causados por qualquer coisa de erros de usuário toosimple desastres naturais.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-168">These events can be caused by anything from natural disasters toosimple user errors.</span></span>

<span data-ttu-id="cf8d3-169">Backup de um banco de dados com toorestore de capacidade de saudação-tooany ponto no tempo (como antes que alguém excluído dados críticos), permite que o estado de tooa de restauração mais próximo possível maneira toohello antes da interrupção Olá ocorreu.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-169">Backing up a database, with hello ability toorestore it tooany point in time (such as before somebody deleted critical data), allows restoration tooa state that is as close as possible toohello way it was before hello disruption occurred.</span></span>

<span data-ttu-id="cf8d3-170">Dois tipos de backup devem ser executados para obter melhores resultados:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-170">Two types of backups must be performed for best results:</span></span>

- <span data-ttu-id="cf8d3-171">Backups de banco de dados</span><span class="sxs-lookup"><span data-stu-id="cf8d3-171">Database backups</span></span>
- <span data-ttu-id="cf8d3-172">Backups do log de transações</span><span class="sxs-lookup"><span data-stu-id="cf8d3-172">Transaction log backups</span></span>

<span data-ttu-id="cf8d3-173">Além disso toofull backups de banco de dados executados em um nível de aplicativo, você pode ser ainda mais completa ao realizar backups com instantâneos de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-173">In addition toofull database backups performed at an application-level, you can be even more thorough by performing backups with storage snapshots.</span></span> <span data-ttu-id="cf8d3-174">A execução de backups de log também é importante para restaurar o banco de dados da saudação (tooempty Olá logs e transações confirmadas já).</span><span class="sxs-lookup"><span data-stu-id="cf8d3-174">Performing log backups is also important for restoring hello database (and tooempty hello logs from already committed transactions).</span></span>

<span data-ttu-id="cf8d3-175">O SAP HANA no Azure (grandes instâncias) oferece duas opções de backup e de restauração:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-175">SAP HANA on Azure (large instances) offers two backup and restore options:</span></span>

- <span data-ttu-id="cf8d3-176">DIY (Faça Você Mesmo).</span><span class="sxs-lookup"><span data-stu-id="cf8d3-176">Do it yourself (DIY).</span></span> <span data-ttu-id="cf8d3-177">Depois de calcular tooensure espaço em disco suficiente, execute backups completos de banco de dados e de log usando os métodos de backup em disco (toothose discos).</span><span class="sxs-lookup"><span data-stu-id="cf8d3-177">After you calculate tooensure enough disk space, perform full database and log backups by using disk backup methods (toothose disks).</span></span> <span data-ttu-id="cf8d3-178">Ao longo do tempo, os backups de saudação são copiado tooan conta de armazenamento do Azure (depois de configurar um servidor de arquivos baseado no Azure com armazenamento praticamente ilimitada) ou usam um cofre de Backup do Azure ou o armazenamento do Azure frio.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-178">Over time, hello backups are copied tooan Azure storage account (after you set up an Azure-based file server with virtually unlimited storage), or use an Azure Backup vault or Azure cold storage.</span></span> <span data-ttu-id="cf8d3-179">Outra opção é toouse uma ferramenta de proteção de dados de terceiros, como Commvault, backups de saudação toostore depois que eles são copiados tooa conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-179">Another option is toouse a third-party data protection tool, such as Commvault, toostore hello backups after they are copied tooa storage account.</span></span> <span data-ttu-id="cf8d3-180">Olá DIY opção de backup também pode ser necessário para dados que precisa toobe armazenado por períodos mais longos para fins de auditoria e conformidade.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-180">hello DIY backup option might also be necessary for data that needs toobe stored for longer periods for compliancy and auditing purposes.</span></span>
- <span data-ttu-id="cf8d3-181">Use Olá backup e restaurar a funcionalidade que Olá infraestrutura subjacente do HANA SAP no Azure (instâncias grandes) fornece.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-181">Use hello backup and restore functionality that hello underlying infrastructure of SAP HANA on Azure (large instances) provides.</span></span> <span data-ttu-id="cf8d3-182">Essa opção atende a necessidade de saudação de backups e faz backups manuais quase obsoleto (exceto onde os backups de dados são necessários para fins de conformidade).</span><span class="sxs-lookup"><span data-stu-id="cf8d3-182">This option fulfills hello need for backups, and it makes manual backups nearly obsolete (except where data backups are required for compliance purposes).</span></span> <span data-ttu-id="cf8d3-183">rest Olá endereços essa seção Olá backup e restaurar a funcionalidade que é oferecida com HANA (instâncias grandes).</span><span class="sxs-lookup"><span data-stu-id="cf8d3-183">hello rest of this section addresses hello backup and restore functionality that's offered with HANA (large instances).</span></span>

> [!NOTE]
> <span data-ttu-id="cf8d3-184">tecnologia de instantâneo de saudação que é usada pela infraestrutura subjacente de saudação do HANA (instâncias grandes) tem uma dependência em instantâneos do SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-184">hello snapshot technology that is used by hello underlying infrastructure of HANA (large instances) has a dependency on SAP HANA snapshots.</span></span> <span data-ttu-id="cf8d3-185">Instantâneos do SAP HANA não funcionam junto com os Contêineres de Banco de Dados Multilocatário do SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-185">SAP HANA snapshots do not work in conjunction with SAP HANA Multitenant Database Containers.</span></span> <span data-ttu-id="cf8d3-186">Como resultado, esse método de backup não pode ser usado toodeploy SAP HANA multilocatário banco de dados de contêineres.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-186">As a result, this method of backup cannot be used toodeploy SAP HANA Multitenant Database Containers.</span></span>

### <a name="using-storage-snapshots-of-sap-hana-on-azure-large-instances"></a><span data-ttu-id="cf8d3-187">Usando instantâneos de armazenamento do SAP HANA no Azure (Instâncias Grandes)</span><span class="sxs-lookup"><span data-stu-id="cf8d3-187">Using storage snapshots of SAP HANA on Azure (large instances)</span></span>

<span data-ttu-id="cf8d3-188">infraestrutura de armazenamento de saudação subjacente HANA SAP no Azure (instâncias grandes) oferece suporte à noção de saudação de um instantâneo de volumes de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-188">hello storage infrastructure underlying SAP HANA on Azure (large instances) supports hello notion of a storage snapshot of volumes.</span></span> <span data-ttu-id="cf8d3-189">Backup e restauração de um volume específico são suportados, com hello considerações a seguir:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-189">Both backup and restoration of a particular volume are supported, with hello following considerations:</span></span>

- <span data-ttu-id="cf8d3-190">Em vez de backups de banco de dados, instantâneos de volume de armazenamento são executados com frequência.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-190">Instead of database backups, storage volume snapshots are taken on a frequent basis.</span></span>
- <span data-ttu-id="cf8d3-191">instantâneo de armazenamento Olá inicia um instantâneo do SAP HANA antes de executar o instantâneo de armazenamento hello.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-191">hello storage snapshot initiates an SAP HANA snapshot before it executes hello storage snapshot.</span></span> <span data-ttu-id="cf8d3-192">Esse instantâneo SAP HANA é o ponto de instalação de saudação para restaurações de log eventual após a recuperação do instantâneo de armazenamento de saudação.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-192">This SAP HANA snapshot is hello setup point for eventual log restorations after recovery of hello storage snapshot.</span></span>
- <span data-ttu-id="cf8d3-193">Ponto de saudação onde o instantâneo de armazenamento Olá é executado com êxito, Olá SAP HANA é excluído.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-193">At hello point where hello storage snapshot is executed successfully, hello SAP HANA snapshot is deleted.</span></span>
- <span data-ttu-id="cf8d3-194">Backups de log são usados frequentemente e armazenados no volume de backup de log hello ou no Azure.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-194">Log backups are taken frequently and stored in hello log backup volume or in Azure.</span></span>
- <span data-ttu-id="cf8d3-195">Se o banco de dados de saudação deve ser restaurado tooa determinado ponto no tempo, é feita uma solicitação tooMicrosoft suporte do Azure (interrupção de produção) ou SAP HANA no gerenciamento de serviços do Azure toorestore tooa determinados instantâneo de armazenamento (por exemplo, uma planejado restauração de um sistema de área restrita tooits estado original).</span><span class="sxs-lookup"><span data-stu-id="cf8d3-195">If hello database must be restored tooa certain point in time, a request is made tooMicrosoft Azure Support (production outage) or SAP HANA on Azure Service Management toorestore tooa certain storage snapshot (for example, a planned restoration of a sandbox system tooits original state).</span></span>
- <span data-ttu-id="cf8d3-196">instantâneo do SAP HANA Olá que está incluído no instantâneo de armazenamento Olá é um ponto de deslocamento para a aplicação de backups de log que foram executados e armazenados depois Olá armazenamento instantâneo foi tirado.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-196">hello SAP HANA snapshot that's included in hello storage snapshot is an offset point for applying log backups that have been executed and stored after hello storage snapshot was taken.</span></span>
- <span data-ttu-id="cf8d3-197">Esses backups de log são feitos toorestore tooa backup de banco de dados de saudação determinado ponto no tempo.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-197">These log backups are taken toorestore hello database back tooa certain point in time.</span></span>

<span data-ttu-id="cf8d3-198">Backup de saudação especificando\_nome cria um instantâneo de saudação volumes a seguir:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-198">Specifying hello backup\_name creates a snapshot of hello following volumes:</span></span>

- <span data-ttu-id="cf8d3-199">hana/data</span><span class="sxs-lookup"><span data-stu-id="cf8d3-199">hana/data</span></span>
- <span data-ttu-id="cf8d3-200">Hana/log</span><span class="sxs-lookup"><span data-stu-id="cf8d3-200">hana/log</span></span>
- <span data-ttu-id="cf8d3-201">Hana/log\_backup (montado como backup no hana/log)</span><span class="sxs-lookup"><span data-stu-id="cf8d3-201">hana/log\_backup (mounted as backup into hana/log)</span></span>
- <span data-ttu-id="cf8d3-202">hana/shared</span><span class="sxs-lookup"><span data-stu-id="cf8d3-202">hana/shared</span></span>

### <a name="storage-snapshot-considerations"></a><span data-ttu-id="cf8d3-203">Considerações sobre o instantâneo de armazenamento</span><span class="sxs-lookup"><span data-stu-id="cf8d3-203">Storage snapshot considerations</span></span>

>[!NOTE]
><span data-ttu-id="cf8d3-204">Os instantâneos de armazenamento _não_ são fornecidos gratuitamente, já que espaço de armazenamento adicional deve ser alocado.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-204">Storage snapshots are _not_ provided free of charge, because additional storage space must be allocated.</span></span>

<span data-ttu-id="cf8d3-205">mecanismos de saudação específico de instantâneos de armazenamento para o SAP HANA no Azure (instâncias grandes) incluem:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-205">hello specific mechanics of storage snapshots for SAP HANA on Azure (large instances) include:</span></span>

- <span data-ttu-id="cf8d3-206">Um instantâneo de armazenamento específico (a saudação momento quando ele é usado) consome muito pouco armazenamento.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-206">A specific storage snapshot (at hello point in time when it is taken) consumes very little storage.</span></span>
- <span data-ttu-id="cf8d3-207">Como alterações de conteúdo de dados e conteúdo Olá dados SAP HANA alteração dos arquivos no volume de armazenamento hello, instantâneo Olá precisa de conteúdo do bloco toostore Olá original.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-207">As data content changes and hello content in SAP HANA data files change on hello storage volume, hello snapshot needs toostore hello original block content.</span></span>
- <span data-ttu-id="cf8d3-208">instantâneo de armazenamento Olá aumenta de tamanho.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-208">hello storage snapshot increases in size.</span></span> <span data-ttu-id="cf8d3-209">instantâneo de hello mais Olá existir, maior instantâneo de armazenamento Olá Olá torna-se.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-209">hello longer hello snapshot exists, hello larger hello storage snapshot becomes.</span></span>
- <span data-ttu-id="cf8d3-210">Olá mais as alterações feitas toohello volume do banco de dados SAP HANA em tempo de vida de saudação de um instantâneo de armazenamento, torna-se aos consumo de espaço maior Olá de saudação do instantâneo de armazenamento de saudação.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-210">hello more changes made toohello SAP HANA database volume over hello lifetime of a storage snapshot, hello larger hello space consumption of hello storage snapshot becomes.</span></span>

<span data-ttu-id="cf8d3-211">SAP HANA no Azure (instâncias grandes) vem com tamanhos de volume fixo para o volume de dados e de log do SAP HANA hello.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-211">SAP HANA on Azure (large instances) comes with fixed volume sizes for hello SAP HANA data and log volume.</span></span> <span data-ttu-id="cf8d3-212">Executar instantâneos desses volumes consome em seu espaço de volume, portanto, é sua instantâneos de armazenamento responsabilidade tooschedule (dentro de saudação SAP HANA no processo do Azure [grandes instâncias]).</span><span class="sxs-lookup"><span data-stu-id="cf8d3-212">Performing snapshots of those volumes eats into your volume space, so it is your responsibility tooschedule storage snapshots (within hello SAP HANA on Azure [large instances] process).</span></span>

<span data-ttu-id="cf8d3-213">Olá seções a seguir fornecem informações para executar esses instantâneos, incluindo recomendações gerais:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-213">hello following sections provide information for performing these snapshots, including general recommendations:</span></span>

- <span data-ttu-id="cf8d3-214">Embora o hardware Olá pode sustentar 255 instantâneos por volume, é altamente recomendável que você fique bem abaixo desse limite.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-214">Though hello hardware can sustain 255 snapshots per volume, we highly recommend that you stay well below this number.</span></span>
- <span data-ttu-id="cf8d3-215">Antes de executar instantâneos de armazenamento, monitore e mantenha o controle do espaço livre.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-215">Before you perform storage snapshots, monitor and keep track of free space.</span></span>
- <span data-ttu-id="cf8d3-216">Número mais baixo de saudação de instantâneos de armazenamento com base no espaço livre.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-216">Lower hello number of storage snapshots based on free space.</span></span> <span data-ttu-id="cf8d3-217">Talvez seja necessário um número de saudação toolower de instantâneos que você mantenha ou talvez seja necessário tooextend volumes de saudação.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-217">You might need toolower hello number of snapshots that you keep, or you might need tooextend hello volumes.</span></span> <span data-ttu-id="cf8d3-218">(Você pode solicitar armazenamento adicional em unidades de 1 TB).</span><span class="sxs-lookup"><span data-stu-id="cf8d3-218">(You can order additional storage in 1-TB units.)</span></span>
- <span data-ttu-id="cf8d3-219">Durante as atividades como a movimentação de dados em SAP HANA com ferramentas de migração do sistema (com R3load ou restaurando bancos de dados do SAP HANA de backups), é altamente recomendável não executar quaisquer instantâneos de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-219">During activities such as moving data into SAP HANA with system migration tools (with R3load, or by restoring SAP HANA databases from backups), we highly recommended that you not perform any storage snapshots.</span></span> <span data-ttu-id="cf8d3-220">(Se estiver sendo feita uma migração de sistema em um novo sistema SAP HANA, instantâneos de armazenamento não precisaria toobe executada.)</span><span class="sxs-lookup"><span data-stu-id="cf8d3-220">(If a system migration is being done on a new SAP HANA system, storage snapshots would not need toobe performed.)</span></span>
- <span data-ttu-id="cf8d3-221">Durante a maior reorganizações de tabelas do SAP HANA, instantâneos de armazenamento devem ser evitados se possível.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-221">During larger reorganizations of SAP HANA tables, storage snapshots should be avoided if possible.</span></span>
- <span data-ttu-id="cf8d3-222">Os instantâneos de armazenamento são uma recursos de recuperação de desastres Olá tooengaging pré-requisitos do HANA SAP no Azure (instâncias grandes).</span><span class="sxs-lookup"><span data-stu-id="cf8d3-222">Storage snapshots are a prerequisite tooengaging hello disaster-recovery capabilities of SAP HANA on Azure (large instances).</span></span>

### <a name="setting-up-storage-snapshots"></a><span data-ttu-id="cf8d3-223">Configurar instantâneos de armazenamento</span><span class="sxs-lookup"><span data-stu-id="cf8d3-223">Setting up storage snapshots</span></span>

1. <span data-ttu-id="cf8d3-224">Certifique-se de que Perl está instalado no sistema de operacional Linux Olá no servidor do hello HANA (instâncias grandes).</span><span class="sxs-lookup"><span data-stu-id="cf8d3-224">Make sure that Perl is installed in hello Linux operating system on hello HANA (large instances) server.</span></span>
2. <span data-ttu-id="cf8d3-225">Modificar/etc/ssh/ssh\_linha de saudação do config tooadd _MACs hmac-sha1_.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-225">Modify /etc/ssh/ssh\_config tooadd hello line _MACs hmac-sha1_.</span></span>
3. <span data-ttu-id="cf8d3-226">Crie uma conta de usuário de backup do SAP HANA no nó de saudação mestre para cada instância do SAP HANA (se aplicável) estão em execução.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-226">Create an SAP HANA backup user account on hello master node for each SAP HANA instance you are running (if applicable).</span></span>
4. <span data-ttu-id="cf8d3-227">cliente do SAP HANA HDB Olá deve ser instalado em todos os servidores do SAP HANA (instâncias grandes).</span><span class="sxs-lookup"><span data-stu-id="cf8d3-227">hello SAP HANA HDB client must be installed on all SAP HANA (large instances) servers.</span></span>
5. <span data-ttu-id="cf8d3-228">Olá primeiro SAP HANA (instâncias grandes) servidor de cada região, uma chave pública deve ser criada Olá tooaccess subjacente a infraestrutura de armazenamento que controla a criação do instantâneo.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-228">On hello first SAP HANA (large instances) server of each region, a public key must be created tooaccess hello underlying storage infrastructure that controls snapshot creation.</span></span>
6. <span data-ttu-id="cf8d3-229">Copie o script de saudação do azure\_hana\_backup.pl do local de instalação /scripts toohello **hdbsql** de saudação instalação SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-229">Copy hello script azure\_hana\_backup.pl from /scripts toohello location of **hdbsql** of hello SAP HANA installation.</span></span>
7. <span data-ttu-id="cf8d3-230">Saudação de cópia HANABackupDetails.txt arquivo /scripts toohello mesmo local como Olá script Perl.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-230">Copy hello HANABackupDetails.txt file from /scripts toohello same location as hello Perl script.</span></span>
8. <span data-ttu-id="cf8d3-231">Modificar Olá HANABackupDetails.txt arquivo conforme necessário para as especificações do cliente apropriado hello.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-231">Modify hello HANABackupDetails.txt file as necessary for hello appropriate customer specifications.</span></span>

### <a name="step-1-install-sap-hana-hdbclient"></a><span data-ttu-id="cf8d3-232">Etapa 1: Instalar o HDBClient do SAP HANA</span><span class="sxs-lookup"><span data-stu-id="cf8d3-232">Step 1: Install SAP HANA HDBClient</span></span>

<span data-ttu-id="cf8d3-233">Olá Linux instalado em SAP HANA no Azure (instâncias grandes) inclui pastas hello e scripts de instantâneos de armazenamento do SAP HANA tooexecute necessário para fins de backup e recuperação de desastres.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-233">hello Linux installed on SAP HANA on Azure (large instances) includes hello folders and scripts necessary tooexecute SAP HANA storage snapshots for backup and disaster-recovery purposes.</span></span> <span data-ttu-id="cf8d3-234">No entanto, é sua responsabilidade tooinstall SAP HANA HDBclient enquanto você estiver instalando o SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-234">However, it is your responsibility tooinstall SAP HANA HDBclient while you are installing SAP HANA.</span></span> <span data-ttu-id="cf8d3-235">(Microsoft instala nem Olá HDBclient nem SAP HANA.)</span><span class="sxs-lookup"><span data-stu-id="cf8d3-235">(Microsoft installs neither hello HDBclient nor SAP HANA.)</span></span>

### <a name="step-2-change-etcsshsshconfig"></a><span data-ttu-id="cf8d3-236">Etapa 2: Alterar/etc/ssh/ssh\_config</span><span class="sxs-lookup"><span data-stu-id="cf8d3-236">Step 2: Change /etc/ssh/ssh\_config</span></span>

<span data-ttu-id="cf8d3-237">Altere /etc/ssh/ssh\_config adicionando a linha _MACs hmac-sha1_ conforme mostrado aqui:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-237">Change /etc/ssh/ssh\_config by adding _MACs hmac-sha1_ line as shown here:</span></span>
```
#   RhostsRSAAuthentication no
#   RSAAuthentication yes
#   PasswordAuthentication yes
#   HostbasedAuthentication no
#   GSSAPIAuthentication no
#   GSSAPIDelegateCredentials no
#   GSSAPIKeyExchange no
#   GSSAPITrustDNS no
#   BatchMode no
#   CheckHostIP yes
#   AddressFamily any
#   ConnectTimeout 0
#   StrictHostKeyChecking ask
#   IdentityFile ~/.ssh/identity
#   IdentityFile ~/.ssh/id_rsa
#   IdentityFile ~/.ssh/id_dsa
#   Port 22
Protocol 2
#   Cipher 3des
#   Ciphers aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc
#   MACs hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-ripemd160
MACs hmac-sha1
#   EscapeChar ~
#   Tunnel no
#   TunnelDevice any:any
#   PermitLocalCommand no
#   VisualHostKey no
#   ProxyCommand ssh -q -W %h:%p gateway.example.com
```

### <a name="step-3-create-a-public-key"></a><span data-ttu-id="cf8d3-238">Etapa 3: Criar uma chave pública</span><span class="sxs-lookup"><span data-stu-id="cf8d3-238">Step 3: Create a public key</span></span>

<span data-ttu-id="cf8d3-239">No hello primeiro SAP HANA no servidor do Azure (instâncias grandes) em cada região do Azure, crie uma infraestrutura de armazenamento de saudação de tooaccess toobe de chave pública usada para que você possa criar instantâneos.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-239">On hello first SAP HANA on Azure (large instances) server in each Azure region, create a public key toobe used tooaccess hello storage infrastructure so that you can create snapshots.</span></span> <span data-ttu-id="cf8d3-240">chave pública Olá garante que uma senha não é necessário toosign no armazenamento de toohello e que as credenciais de senha não são mantidas.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-240">hello public key ensures that a password is not required toosign in toohello storage and that password credentials are not maintained.</span></span> <span data-ttu-id="cf8d3-241">No Linux no servidor do SAP HANA (instâncias grandes) hello, execute Olá chave pública do comando toogenerate Olá a seguir:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-241">In Linux on hello SAP HANA (large instances) server, execute hello following command toogenerate hello public key:</span></span>
```
  ssh-keygen –t dsa –b 1024
```
<span data-ttu-id="cf8d3-242">Olá novo local é _/root/.ssh/id\_dsa.pub.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-242">hello new location is _/root/.ssh/id\_dsa.pub.</span></span> <span data-ttu-id="cf8d3-243">Não insira uma senha real, caso contrário, será necessário tooenter Olá senha cada vez que entrar.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-243">Do not enter an actual passphrase, or else you will be required tooenter hello passphrase each time you sign in.</span></span> <span data-ttu-id="cf8d3-244">Em vez disso, pressione **Enter** duas vezes tooremove Olá insira o requisito de senha para entrar.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-244">Instead, press **Enter** twice tooremove hello enter passphrase requirement for signing in.</span></span>

<span data-ttu-id="cf8d3-245">Verificar toomake-se de que a chave pública Olá foi corrigido conforme o esperado, alterando too/root/.ssh/ pastas e, em seguida, executar Olá **ls** comando.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-245">Check toomake sure that hello public key was corrected as expected by changing folders too/root/.ssh/ and then executing hello **ls** command.</span></span> <span data-ttu-id="cf8d3-246">Se a chave de saudação estiver presente, você pode copiá-lo executando o comando a seguir de saudação:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-246">If hello key is present, you can copy it by running hello following command:</span></span>

![Chave pública é copiada executando este comando](./media/hana-overview-high-availability-disaster-recovery/image2-public-key.png)

<span data-ttu-id="cf8d3-248">Neste ponto, entre em contato com o SAP HANA no gerenciamento de serviços do Azure e fornecer a chave de saudação.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-248">At this point, contact SAP HANA on Azure Service Management and provide hello key.</span></span> <span data-ttu-id="cf8d3-249">Olá, representante usa Olá tooregister de chave pública no hello infra-estrutura de armazenamento subjacente.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-249">hello service representative uses hello public key tooregister it in hello underlying storage infrastructure.</span></span>

### <a name="step-4-create-an-sap-hana-user-account"></a><span data-ttu-id="cf8d3-250">Etapa 4: Criar uma conta de usuário do SAP HANA</span><span class="sxs-lookup"><span data-stu-id="cf8d3-250">Step 4: Create an SAP HANA user account</span></span>

<span data-ttu-id="cf8d3-251">Crie uma conta de usuário do SAP HANA no Studio de SAP HANA para fins de backup.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-251">Create an SAP HANA user account within SAP HANA Studio for backup purposes.</span></span> <span data-ttu-id="cf8d3-252">Essa conta deve ter Olá seguintes privilégios: _Backup Admin_ e _catálogo leitura_.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-252">This account must have hello following privileges: _Backup Admin_ and _Catalog Read_.</span></span> <span data-ttu-id="cf8d3-253">Neste exemplo, o nome de usuário de saudação SCADMIN é criado.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-253">In this example, hello username SCADMIN is created.</span></span>

![Criando um usuário no Studio HANA](./media/hana-overview-high-availability-disaster-recovery/image3-creating-user.png)

### <a name="step-5-authorize-hello-sap-hana-user-account"></a><span data-ttu-id="cf8d3-255">Etapa 5: Autorizar a conta de usuário do SAP HANA Olá</span><span class="sxs-lookup"><span data-stu-id="cf8d3-255">Step 5: Authorize hello SAP HANA user account</span></span>

<span data-ttu-id="cf8d3-256">Autorize a conta de usuário do SAP HANA hello (toobe usado pelos scripts de saudação sem a necessidade de autorização sempre Olá script é executado).</span><span class="sxs-lookup"><span data-stu-id="cf8d3-256">Authorize hello SAP HANA user account (toobe used by hello scripts without requiring authorization every time hello script is run).</span></span> <span data-ttu-id="cf8d3-257">Olá comando SAP HANA `hdbuserstore` permite a criação de saudação de uma chave de usuário do SAP HANA, que é armazenada em um ou mais nós do SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-257">hello SAP HANA command `hdbuserstore` allows hello creation of an SAP HANA user key, which is stored on one or more SAP HANA nodes.</span></span> <span data-ttu-id="cf8d3-258">chave de usuário Olá também permite Olá usuário tooaccess SAP HANA sem ter que toomanage suas senhas no hello script processo que será abordado mais adiante.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-258">hello user key also allows hello user tooaccess SAP HANA without having toomanage passwords from within hello scripting process that's discussed later.</span></span>

>[!IMPORTANT]
><span data-ttu-id="cf8d3-259">Execução hello seguinte comando como `_root_`.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-259">Run hello following command as `_root_`.</span></span> <span data-ttu-id="cf8d3-260">Caso contrário, o script hello não pode funcionar corretamente.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-260">Otherwise, hello script cannot work properly.</span></span>

<span data-ttu-id="cf8d3-261">Digite hello `hdbuserstore` comando da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-261">Enter hello `hdbuserstore` command as follows:</span></span>

![Digite o comando de hdbuserstore Olá](./media/hana-overview-high-availability-disaster-recovery/image4-hdbuserstore-command.png)

<span data-ttu-id="cf8d3-263">Olá seguinte exemplo, em que usuário Olá é SCADMIN01 e Olá hostname é lhanad01, comando Olá é:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-263">In hello following example, where hello user is SCADMIN01 and hello hostname is lhanad01, hello command is:</span></span>
```
hdbuserstore set SCADMIN01 lhanad01:30115 <backup username> <password>
```
<span data-ttu-id="cf8d3-264">Gerencie todos os scripts de servidor único para instâncias de escala horizontal do HANA.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-264">Manage all scripting from a single server for scale-out HANA instances.</span></span> <span data-ttu-id="cf8d3-265">Neste exemplo, a chave de SAP HANA Olá SCADMIN01 deve ser alterado para cada host de forma que reflita host Olá chave toohello relacionados.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-265">In this example, hello SAP HANA key SCADMIN01 must be altered for each host in a way that reflects hello host that is related toohello key.</span></span> <span data-ttu-id="cf8d3-266">Ou seja, Olá conta backup SAP HANA é corrigida com número de instância de saudação de saudação HANA DB, **lhanad**.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-266">That is, hello SAP HANA backup account is amended with hello instance number of hello HANA DB, **lhanad**.</span></span> <span data-ttu-id="cf8d3-267">chave Olá deve ter privilégios administrativos no host de saudação a que é atribuído e usuário de backup Olá para expansão deve ter instâncias do SAP HANA de tooall de direitos de acesso.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-267">hello key must have administrative privileges on hello host it is assigned to, and hello backup user for scale-out must have access rights tooall SAP HANA instances.</span></span>
```
hdbuserstore set SCADMIN01 lhanad:30015 SCADMIN <password>
hdbuserstore set SCADMIN02 lhanad:30115 SCADMIN <password>
hdbuserstore set SCADMIN03 lhanad:30215 SCADMIN <password>
```

### <a name="step-6-copy-items-from-hello-scripts-folder"></a><span data-ttu-id="cf8d3-268">Etapa 6: Copiar itens de pasta de /scripts Olá</span><span class="sxs-lookup"><span data-stu-id="cf8d3-268">Step 6: Copy items from hello /scripts folder</span></span>

<span data-ttu-id="cf8d3-269">A seguir Olá copiar itens do hello/scripts pasta (incluído na imagem Olá gold da instalação Olá) toohello diretório de trabalho para **hdbsql**.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-269">Copy hello following items from hello /scripts folder (included on hello gold image of hello installation) toohello working directory for **hdbsql**.</span></span> <span data-ttu-id="cf8d3-270">Para instalações atuais do HANA, esse diretório é /hana/shared/D01/exe/linuxx86\_64/hdb.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-270">For current HANA installations, this directory is /hana/shared/D01/exe/linuxx86\_64/hdb.</span></span>
```
azure\_hana\_backup.pl
testHANAConnection.pl
testStorageSnapshotConnection.pl
removeTestStorageSnapshot.pl
HANABackupCustomerDetails.txt
```
<span data-ttu-id="cf8d3-271">Copiar itens a seguir se eles estiverem executando a expansão de saudação ou OLAP:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-271">Copy hello following items if they are running scale-out or OLAP:</span></span>
```
azure\_hana\_backup\_bw.pl
testHANAConnectionBW.pl
testStorageSnapshotConnectionBW.pl
removeTestStorageSnapshotBW.pl
HANABackupCustomerDetailsBW.txt
```
<span data-ttu-id="cf8d3-272">arquivo de HANABackupCustomerDetails.txt Olá é modificável da seguinte maneira para uma implantação de expansão.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-272">hello HANABackupCustomerDetails.txt file is modifiable as follows for a scale-up deployment.</span></span> <span data-ttu-id="cf8d3-273">É arquivo de configuração e controle de saudação para script hello executado instantâneos de armazenamento de saudação.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-273">It is hello control and configuration file for hello script that runs hello storage snapshots.</span></span> <span data-ttu-id="cf8d3-274">Você deve ter recebido Olá _nome do Backup de armazenamento_ e _endereço de IP de armazenamento_ do SAP HANA no gerenciamento de serviços do Azure quando suas instâncias foram implantadas.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-274">You should have received hello _Storage Backup Name_ and _Storage IP Address_ from SAP HANA on Azure Service Management when your instances were deployed.</span></span> <span data-ttu-id="cf8d3-275">Você não pode modificar a sequência de hello, ordenação ou espaçamento de qualquer uma das variáveis de saudação ou script hello não funciona corretamente.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-275">You cannot modify hello sequence, ordering, or spacing of any of hello variables, or hello script does not run properly.</span></span>

<span data-ttu-id="cf8d3-276">Para uma implantação de expansão, o arquivo de configuração de saudação pareceria com:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-276">For a scale-up deployment, hello configuration file would look like:</span></span>
```
#Provided by Microsoft Service Management
Storage Backup Name: lhanad01backup
Storage IP Address: 10.250.20.21
#Created by customer using hdbuserstore
HANA Backup Name: SCADMIND01
```
<span data-ttu-id="cf8d3-277">Para uma configuração de expansão, o arquivo de HANABackupCustomerDetailsBW.txt Olá pareceria com:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-277">For a scale-out configuration, hello HANABackupCustomerDetailsBW.txt file would look like:</span></span>
```
#Provided by Microsoft Service Management
Storage Backup Name: lhanad01backup
Storage IP Address: 10.250.20.21
#Node IP addresses, instance numbers, and HANA backup name
#provided by customer.  HANA backup name created using
#hdbuserstore utility.
Node 1 IP Address: 10.254.15.21
Node 1 HANA instance number: 01
Node 1 HANA Backup Name: SCADMIN01
Node 2 IP Address: 10.254.15.22
Node 2 HANA instance number: 02
Node 2 HANA Backup Name: SCADMIN02
Node 3 IP Address: 10.254.15.23
Node 3 HANA instance number: 03
Node 3 HANA Backup Name: SCADMIN03
Node 4 IP Address: 10.254.15.24
Node 4 HANA instance number: 04
Node 4 HANA Backup Name: SCADMIN04
Node 5 IP Address: 10.254.15.25
Node 5 HANA instance number: 05
Node 5 HANA Backup Name: SCADMIN05
Node 6 IP Address: 10.254.15.26
Node 6 HANA instance number: 06
Node 6 HANA Backup Name: SCADMIN06
Node 7 IP Address: 10.254.15.27
Node 7 HANA instance number: 07
Node 7 HANA Backup Name: SCADMIN07
Node 8 IP Address: 10.254.15.28
Node 8 HANA instance number: 08
Node 8 HANA Backup Name: SCADMIN08
```
>[!NOTE]
><span data-ttu-id="cf8d3-278">Atualmente, apenas o nó 1 detalhes são usados no script de instantâneo de saudação real HANA armazenamento.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-278">Currently, only Node 1 details are used in hello actual HANA storage snapshot script.</span></span> <span data-ttu-id="cf8d3-279">É recomendável que você teste tooor de acesso de todos os nós do HANA para que, se o nó de backup mestre Olá mudar, você já garante que qualquer outro nó poderá assumir seu lugar modificando detalhes Olá no nó 1.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-279">We recommend that you test access tooor from all HANA nodes so that, if hello master backup node ever changes, you have already ensured that any other node can take its place by modifying hello details in Node 1.</span></span>

<span data-ttu-id="cf8d3-280">toocheck para configurações de saudação correto no arquivo de configuração de saudação ou instâncias HANA toohello conectividade correta, executadas um dos Olá scripts a seguir:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-280">toocheck for hello correct configurations in hello configuration file or proper connectivity toohello HANA instances, run either of hello following scripts:</span></span>
- <span data-ttu-id="cf8d3-281">Para uma configuração de expansão (independente na carga de trabalho do SAP):</span><span class="sxs-lookup"><span data-stu-id="cf8d3-281">For a scale-up configuration (independent on SAP workload):</span></span>

 ```
testHANAConnection.pl
```
- <span data-ttu-id="cf8d3-282">Para configurações de escala horizontal:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-282">For a scale-out configuration:</span></span>

 ```
testHANAConnectionBW.pl
```

<span data-ttu-id="cf8d3-283">Certifique-se de que essa instância HANA mestre Olá tenha acesso tooall necessário HANA servidores.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-283">Ensure that hello master HANA instance has access tooall required HANA servers.</span></span> <span data-ttu-id="cf8d3-284">Não há nenhum script de toohello parâmetros, mas você deve concluir Olá apropriado HANABackupCustomerDetails HANABackupCustomerDetailsBW File para Olá script toorun corretamente.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-284">There are no parameters toohello script, but you must complete hello appropriate HANABackupCustomerDetails/ HANABackupCustomerDetailsBW file for hello script toorun properly.</span></span> <span data-ttu-id="cf8d3-285">Porque somente Olá shell comando códigos de erro são retornados, não é possível para Olá script tooerror Verifique cada instância.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-285">Because only hello shell command error codes are returned, it is not possible for hello script tooerror-check every instance.</span></span> <span data-ttu-id="cf8d3-286">Mesmo assim, o script hello fornecem alguns comentários úteis para toodouble verificação.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-286">Even so, hello script does provide some helpful comments for you toodouble-check.</span></span>

<span data-ttu-id="cf8d3-287">script de saudação toorun:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-287">toorun hello script:</span></span>
```
 ./testHANAConnection.pl
```
 <span data-ttu-id="cf8d3-288">Se o script hello com êxito obtém o status de saudação da instância do HANA Olá, ele exibe uma mensagem que a conexão do HANA Olá foi bem-sucedida.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-288">If hello script successfully obtains hello status of hello HANA instance, it displays a message that hello HANA connection was successful.</span></span>

<span data-ttu-id="cf8d3-289">Além disso, há um segundo tipo de script, você pode usar toosign de capacidade do servidor do toocheck Olá mestre HANA instância no armazenamento toohello.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-289">Additionally, there is a second type of script you can use toocheck hello master HANA instance server's ability toosign in toohello storage.</span></span> <span data-ttu-id="cf8d3-290">Antes de executar o azure Olá\_hana\_backup (\_bw). pl script, você deve executar o script seguinte hello.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-290">Before you execute hello azure\_hana\_backup(\_bw).pl script, you must execute hello next script.</span></span> <span data-ttu-id="cf8d3-291">Se um volume não contém nenhum instantâneo, é impossível toodetermine se o volume de saudação é simplesmente vazio ou há um ssh Olá de tooobtain falha detalhes do instantâneo.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-291">If a volume contains no snapshots, it is impossible toodetermine whether hello volume is simply empty or there is an ssh failure tooobtain hello snapshot details.</span></span> <span data-ttu-id="cf8d3-292">Por esse motivo, o script hello executa duas etapas:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-292">For this reason, hello script executes two steps:</span></span>

- <span data-ttu-id="cf8d3-293">Ele verifica que console Olá armazenamento está acessível.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-293">It verifies that hello storage console is accessible.</span></span>
- <span data-ttu-id="cf8d3-294">Ele cria um instantâneo de teste ou fictício para cada volume por instância do HANA.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-294">It creates a test, or dummy, snapshot for each volume by HANA instance.</span></span>

<span data-ttu-id="cf8d3-295">Por esse motivo, instância do HANA Olá é incluída como um argumento.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-295">For this reason, hello HANA instance is included as an argument.</span></span> <span data-ttu-id="cf8d3-296">Novamente, não é possível tooprovide verificação de erros de conexão de armazenamento hello, mas o script hello fornece dicas úteis se houver falha de execução de saudação.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-296">Again, it is not possible tooprovide error checking for hello storage connection, but hello script provides helpful hints if hello execution fails.</span></span>

<span data-ttu-id="cf8d3-297">Olá script é executado como:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-297">hello script is run as:</span></span>
```
 ./testStorageSnapshotConnection.pl <hana instance>
```
<span data-ttu-id="cf8d3-298">Ou é executado como:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-298">Or it is run as:</span></span>
```
./testStorageSnapshotConnectionBW.pl <hana instance>
```
<span data-ttu-id="cf8d3-299">script Hello também exibe uma mensagem que você é capaz de toosign adequadamente tooyour implantado armazenamento locatário, que é organizado em torno de números de unidade lógica de saudação (LUNs) que são usados por instâncias de servidor de saudação que você possui.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-299">hello script also displays a message that you are able toosign in appropriately tooyour deployed storage tenant, which is organized around hello logical unit numbers (LUNs) that are used by hello server instances you own.</span></span>

<span data-ttu-id="cf8d3-300">Antes de executar backups de instantâneo em armazenamento primeiro hello, execute Olá Avançar scripts toomake-se de que a configuração hello está correta.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-300">Before you execute hello first storage snapshot-based backups, run hello next scripts toomake sure that hello configuration is correct.</span></span>

<span data-ttu-id="cf8d3-301">Depois de executar esses scripts, você pode excluir instantâneos Olá executando:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-301">After running these scripts, you can delete hello snapshots by executing:</span></span>
```
./removeTestStorageSnapshot.pl <hana instance>
```
<span data-ttu-id="cf8d3-302">Ou</span><span class="sxs-lookup"><span data-stu-id="cf8d3-302">Or</span></span>
```
./removeTestStorageSnapshot.pl <hana instance>
```

### <a name="step-7-perform-on-demand-snapshots"></a><span data-ttu-id="cf8d3-303">Etapa 7: Executar instantâneos sob demanda</span><span class="sxs-lookup"><span data-stu-id="cf8d3-303">Step 7: Perform on-demand snapshots</span></span>

<span data-ttu-id="cf8d3-304">Execute instantâneos sob demanda (bem como agendar instantâneos regulares usando cron) conforme descrito aqui.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-304">Perform on-demand snapshots (as well as schedule regular snapshots by using cron) as described here.</span></span>

<span data-ttu-id="cf8d3-305">Para configurações de expansão, execute Olá script a seguir:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-305">For scale-up configurations, execute hello following script:</span></span>
```
./azure_hana_backup.pl lhanad01 customer 20
```
<span data-ttu-id="cf8d3-306">Para configurações de expansão, execute Olá script a seguir:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-306">For scale-out configurations, execute hello following script:</span></span>
```
./azure_hana_backup_bw.pl lhanad01 customer 20
```
<span data-ttu-id="cf8d3-307">script de expansão de saudação faz algumas adicional toomake verificando se todos os servidores do HANA podem ser acessados e todas as instâncias do HANA status de retorno apropriado da instância de saudação antes de continuar com a criação de instantâneos do SAP HANA ou armazenamento.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-307">hello scale-out script does some additional checking toomake sure that all HANA servers can be accessed, and all HANA instances return appropriate status of hello instance before proceeding with creating SAP HANA or storage snapshots.</span></span>

<span data-ttu-id="cf8d3-308">Olá argumentos a seguir é necessária:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-308">hello following arguments are required:</span></span>

- <span data-ttu-id="cf8d3-309">Olá HANA instância que necessitam de backup.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-309">hello HANA instance requiring backup.</span></span>
- <span data-ttu-id="cf8d3-310">prefixo de instantâneo Olá para instantâneo de armazenamento hello.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-310">hello snapshot prefix for hello storage snapshot.</span></span>
- <span data-ttu-id="cf8d3-311">número de saudação de toobe instantâneos mantido por prefixo específico hello.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-311">hello number of snapshots toobe kept for hello specific prefix.</span></span>

```
./azure_hana_backup.pl lhanad01 customer 20
```

<span data-ttu-id="cf8d3-312">execução de saudação do script hello cria o instantâneo de armazenamento de saudação essas três fases distintas:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-312">hello execution of hello script creates hello storage snapshot in these three distinct phases:</span></span>

- <span data-ttu-id="cf8d3-313">Execute um instantâneo do HANA.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-313">Execute a HANA snapshot.</span></span>
- <span data-ttu-id="cf8d3-314">Execute um instantâneo do armazenamento.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-314">Execute a storage snapshot.</span></span>
- <span data-ttu-id="cf8d3-315">Remova o instantâneo do HANA hello.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-315">Remove hello HANA snapshot.</span></span>

<span data-ttu-id="cf8d3-316">Execute script hello chamando-o por Olá HDB pasta do executável que ele foi copiado para o.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-316">Execute hello script by calling it from hello HDB executable folder that it was copied to.</span></span> <span data-ttu-id="cf8d3-317">Ele faz backup de pelo menos Olá volumes a seguir, mas também faz backup de qualquer volume que tem o nome da instância SAP HANA explícita Olá no nome do volume hello.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-317">It backs up at least hello following volumes, but it also backs up any volume that has hello explicit SAP HANA instance name in hello volume name.</span></span>
```
hana_data_<hana instance>_prod_t020_vol
hana_log_<hana instance>_prod_t020_vol
hana_log_backup_<hana instance>_prod_t020_vol
hana_shared_<hana instance>_prod_t020_vol
```
<span data-ttu-id="cf8d3-318">período de retenção de saudação é estritamente administrado com número de saudação de instantâneos enviado como um parâmetro quando você executar o script hello (por exemplo, 20, mostrada anteriormente).</span><span class="sxs-lookup"><span data-stu-id="cf8d3-318">hello retention period is strictly administered, with hello number of snapshots submitted as a parameter when you execute hello script (such as 20, shown previously).</span></span> <span data-ttu-id="cf8d3-319">Portanto Olá tempo é uma função do período de saudação do número de execução e hello de instantâneos na chamada de saudação do script hello.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-319">So hello amount of time is a function of hello period of execution and hello number of snapshots in hello call of hello script.</span></span> <span data-ttu-id="cf8d3-320">Se número Olá de instantâneos que são mantidos exceder o número de saudação que são nomeados como um parâmetro na chamada de saudação do script hello, Olá instantâneo mais antigo de armazenamento deste rótulo (no nosso caso anterior, _personalizado_) será excluído antes de é um novo instantâneo executado.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-320">If hello number of snapshots that are kept exceeds hello number that are named as a parameter in hello call of hello script, hello oldest storage snapshot of this label (in our previous case, _custom_) is deleted before a new snapshot is executed.</span></span> <span data-ttu-id="cf8d3-321">Isso significa que número Olá que dar como último parâmetro da chamada Olá Olá é número Olá que você pode usar toocontrol Olá número de instantâneos.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-321">This means hello number you give as hello last parameter of hello call is hello number you can use toocontrol hello number of snapshots.</span></span>

>[!NOTE]
><span data-ttu-id="cf8d3-322">Assim que você alterar o rótulo de hello, contando Olá começa novamente.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-322">As soon as you change hello label, hello counting starts again.</span></span>

<span data-ttu-id="cf8d3-323">Você precisará tooinclude Olá HANA nome de instância que é fornecido pelo SAP HANA no gerenciamento de serviços do Azure como um argumento se eles estão criando instantâneos em ambientes de vários nós.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-323">You need tooinclude hello HANA instance name that's provided by SAP HANA on Azure Service Management as an argument if they are creating snapshots in multi-node environments.</span></span> <span data-ttu-id="cf8d3-324">Em ambientes de nó único, nome Olá Olá SAP HANA na unidade do Azure (instâncias grandes) é suficiente, mas o nome da instância do HANA Olá ainda é recomendável.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-324">In single-node environments, hello name of hello SAP HANA on Azure (large instances) unit is sufficient, but hello HANA instance name is still recommended.</span></span>

<span data-ttu-id="cf8d3-325">Além disso, você pode fazer backup volumes\LUNs de inicialização usando Olá mesmo script.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-325">Additionally, you can back up boot volumes\LUNs by using hello same script.</span></span> <span data-ttu-id="cf8d3-326">Você deve fazer backup do volume de inicialização pelo menos uma vez ao executar o HANA pela primeira vez, embora seja recomendável o agendamento de backup semanal ou todas as noite para inicialização em cron.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-326">You must back up your boot volume at least once when you first run HANA, although we recommend a weekly or nightly backup schedule for booting in cron.</span></span> <span data-ttu-id="cf8d3-327">Em vez de adicionar um nome de instância do SAP HANA, inserir _inicialização_ como Olá argumento para o script hello da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-327">Rather than add an SAP HANA instance name, insert _boot_ as hello argument into hello script as follows:</span></span>
```
./azure_hana_backup boot customer 20
```
<span data-ttu-id="cf8d3-328">Olá mesma política de retenção é permitida toohello também volume de inicialização.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-328">hello same retention policy is afforded toohello boot volume as well.</span></span> <span data-ttu-id="cf8d3-329">Use instantâneos sob demanda, conforme descrito anteriormente, para casos especiais, como durante uma atualização de pacote (EHP) de aprimoramento do SAP, ou quando você precisar toocreate um instantâneo de armazenamento distintos.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-329">Use on-demand snapshots, as described previously, for special cases only, such as during an SAP enhancement package (EHP) upgrade, or when you need toocreate a distinct storage snapshot.</span></span>

<span data-ttu-id="cf8d3-330">Nós o incentivamos instantâneos de armazenamento tooperform agendada usando cron e é recomendável que você use o mesmo script de saudação para todos os backups e necessidades de recuperação de desastres (modificação Olá script entradas toomatch Olá vários solicitado tempos de backup).</span><span class="sxs-lookup"><span data-stu-id="cf8d3-330">We encourage you tooperform scheduled storage snapshots using cron, and we recommend that you use hello same script for all backups and disaster-recovery needs (modifying hello script inputs toomatch hello various requested backup times).</span></span> <span data-ttu-id="cf8d3-331">Esses são todos agendadas de forma diferente no cron dependendo de seu tempo de execução: por hora, 12 horas, diária ou semanal.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-331">These are all scheduled differently in cron depending on their execution time: hourly, 12-hour, daily, or weekly.</span></span> <span data-ttu-id="cf8d3-332">agendamento de cron Olá é projetado toocreate instantâneos de armazenamento que correspondem a saudação abordada anteriormente rótulos de retenção de backup externo de longo prazo.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-332">hello cron schedule is designed toocreate storage snapshots that match hello previously discussed retention labeling for long-term off-site backup.</span></span> <span data-ttu-id="cf8d3-333">script Hello inclui comandos tooback backup de todos os volumes de produção, dependendo de sua frequência solicitada (dados e arquivos de log são feitos por hora, enquanto o volume de inicialização de saudação é feito backup diário).</span><span class="sxs-lookup"><span data-stu-id="cf8d3-333">hello script includes commands tooback up all production volumes, depending on their requested frequency (data and log files are backed up hourly, whereas hello boot volume is backed up daily).</span></span>

<span data-ttu-id="cf8d3-334">as entradas Olá Olá cron script a seguir executadas a cada hora em Olá décimo minuto, cada 12 horas no hello décimo minuto e diariamente no hello décimo minuto.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-334">hello entries in hello following cron script run every hour at hello tenth minute, every 12 hours at hello tenth minute, and daily at hello tenth minute.</span></span> <span data-ttu-id="cf8d3-335">Olá cron trabalhos são criados de forma que apenas um instantâneo de armazenamento do SAP HANA ocorre durante a qualquer hora específica, que hello backups por hora e diários ocorra no hello (12:10 AM) a mesma hora.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-335">hello cron jobs are created in such a way that only one SAP HANA storage snapshot takes place during any particular hour, so that hello hourly and daily backups do not occur at hello same time (12:10 AM).</span></span> <span data-ttu-id="cf8d3-336">toohelp otimizar a criação do instantâneo e replicação, SAP HANA no gerenciamento de serviços do Azure fornece Olá recomendado tempo para você toorun seus backups.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-336">toohelp optimize your snapshot creation and replication, SAP HANA on Azure Service Management provides hello recommended time for you toorun your backups.</span></span>

<span data-ttu-id="cf8d3-337">saudação padrão cron /etc/crontab de agendamento é o seguinte:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-337">hello default cron scheduling in /etc/crontab is as follows:</span></span>
```
10 1-11,13-23 * * * ./azure_hana_backup.pl lhanad01 hourly 66
10 12 * * *  ./azure_hana_backup.pl lhanad01 12hour 14
```
<span data-ttu-id="cf8d3-338">Nas instruções de cron anterior hello, volumes do HANA hello (sem o volume de inicialização) obtém instantâneo com rótulo Olá por hora.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-338">In hello previous cron instructions, hello HANA volumes (without boot volume) get an hourly snapshot with hello label.</span></span> <span data-ttu-id="cf8d3-339">Esses instantâneos, 66 são mantidos.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-339">Of these snapshots, 66 are retained.</span></span> <span data-ttu-id="cf8d3-340">Além disso, 14 instantâneos com rótulo de 12 horas Olá são mantidos.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-340">Additionally, 14 snapshots with hello 12-hour label are retained.</span></span> <span data-ttu-id="cf8d3-341">Você possivelmente obterá instantâneos a cada hora por três dias, além de instantâneos de 12 horas por outro quatro dias, o que lhe dá uma semana inteira de instantâneos.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-341">You potentially get hourly snapshots for three days, plus 12-hour snapshots for another four days, which gives you an entire week of snapshots.</span></span>

<span data-ttu-id="cf8d3-342">Agendar dentro de cron pode ser difícil, porque somente um script deve ser executado em um determinado momento, a menos que os scripts de saudação são alternados por vários minutos.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-342">Scheduling within cron can be tricky, because only one script should be executed at any particular time, unless hello scripts are staggered by several minutes.</span></span> <span data-ttu-id="cf8d3-343">Se você quiser backups diários para retenção de longo prazo, um instantâneo diário é mantido junto com um instantâneo de 12 horas (com uma contagem de retenção de sete cada) ou instantâneo por hora Olá é escalonada tootake local 10 minutos mais tarde.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-343">If you want daily backups for long-term retention, either a daily snapshot is kept along with a 12-hour snapshot (with a retention count of seven each), or hello hourly snapshot is staggered tootake place 10 minutes later.</span></span> <span data-ttu-id="cf8d3-344">Apenas um instantâneo diário é mantido no volume de produção de hello.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-344">Only one daily snapshot is kept in hello production volume.</span></span>
```
10 1-11,13-23 * * * ./azure_hana_backup.pl lhanad01 hourly 66
10 12 * * *  ./azure_hana_backup.pl lhanad01 12hour 7
10 0 * * * ./azure_hana_backup.pl lhanad01 daily 7
```
<span data-ttu-id="cf8d3-345">frequências Olá listadas aqui são apenas exemplos.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-345">hello frequencies listed here are only examples.</span></span> <span data-ttu-id="cf8d3-346">tooderive o número ideal de instantâneos, use Olá critérios a seguir:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-346">tooderive your optimum number of snapshots, use hello following criteria:</span></span>

- <span data-ttu-id="cf8d3-347">Requisitos de objetivo de tempo de recuperação para recuperação pontual.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-347">Requirements in recovery time objective for point-in-time recovery.</span></span>
- <span data-ttu-id="cf8d3-348">Uso de espaço.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-348">Space usage.</span></span>
- <span data-ttu-id="cf8d3-349">Requisitos do objetivo de ponto de recuperação e objetivo de tempo de recuperação de desastre em potencial.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-349">Requirements in recovery point objective and recovery time objective for potential disaster recovery.</span></span>
- <span data-ttu-id="cf8d3-350">Execução eventual de backups completos de banco de dados do HANA em discos.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-350">Eventual execution of HANA full database backups against disks.</span></span> <span data-ttu-id="cf8d3-351">Sempre que um backup completo do banco de dados em discos, ou _backint_ interface, que é executada, falha na execução de saudação de instantâneos de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-351">Whenever a full database backup against disks, or _backint_ interface, is performed, hello execution of storage snapshots fails.</span></span> <span data-ttu-id="cf8d3-352">Se você planejar backups de banco de dados completo tooexecute sobre instantâneos de armazenamento, certifique-se de que a execução de saudação de instantâneos de armazenamento está desabilitada durante esse tempo.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-352">If you plan tooexecute full database backups on top of storage snapshots, make sure that hello execution of storage snapshots is disabled during this time.</span></span>

>[!IMPORTANT]
> <span data-ttu-id="cf8d3-353">uso de Olá de instantâneos de armazenamento para backups do SAP HANA é válido somente quando os instantâneos de saudação são executados em conjunto com backups de log do SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-353">hello use of storage snapshots for SAP HANA backups is valid only when hello snapshots are performed in conjunction with SAP HANA log backups.</span></span> <span data-ttu-id="cf8d3-354">Esses log backups necessidade toobe toocover capaz de saudação períodos de tempo entre os instantâneos de armazenamento hello.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-354">These log backups need toobe able toocover hello time periods between hello storage snapshots.</span></span> <span data-ttu-id="cf8d3-355">Se você tiver definido um toousers de comprometimento de uma recuperação point-in-time de 30 dias, você precisa seguir hello:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-355">If you've set a commitment toousers of a point-in-time recovery of 30 days, you need hello following:</span></span>

- <span data-ttu-id="cf8d3-356">Capacidade tooaccess um instantâneo de armazenamento que é de 30 dias.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-356">Ability tooaccess a storage snapshot that is 30 days old.</span></span>
- <span data-ttu-id="cf8d3-357">Backups de log de contígua sobre Olá últimos 30 dias.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-357">Contiguous log backups over hello last 30 days.</span></span>

<span data-ttu-id="cf8d3-358">No intervalo de saudação de backups de log, crie um instantâneo do volume de backup de log Olá também.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-358">In hello range of log backups, create a snapshot of hello backup log volume as well.</span></span> <span data-ttu-id="cf8d3-359">No entanto, ser tooperform-se de que os backups de log regular para que você possa:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-359">However, be sure tooperform regular log backups so that you can:</span></span>

- <span data-ttu-id="cf8d3-360">Backups de log de contígua de saudação necessário tooperform recuperações de point-in-time.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-360">Have hello contiguous log backups needed tooperform point-in-time recoveries.</span></span>
- <span data-ttu-id="cf8d3-361">Impedir que o volume de log do SAP HANA Olá falta de espaço.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-361">Prevent hello SAP HANA log volume from running out of space.</span></span>

<span data-ttu-id="cf8d3-362">Uma das últimas etapas de saudação é tooschedule logs de backup SAP HANA no SAP HANA Studio.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-362">One of hello last steps is tooschedule SAP HANA backup logs in SAP HANA Studio.</span></span> <span data-ttu-id="cf8d3-363">destino de backup de log SAP HANA Olá é Olá criada especialmente hana/log\_volume backups com ponto de montagem de saudação do /hana/log/backups.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-363">hello SAP HANA backup log target destination is hello specially created hana/log\_backups volume with hello mount point of /hana/log/backups.</span></span>

![Agendar logs de backup SAP HANA no Studio de SAP HANA](./media/hana-overview-high-availability-disaster-recovery/image5-schedule-backup.png)

<span data-ttu-id="cf8d3-365">Você pode escolher os backups com frequência maior que 15 minutos.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-365">You can choose backups that are more frequent than every 15 minutes.</span></span> <span data-ttu-id="cf8d3-366">Alguns usuários até mesmo executam backups de log a cada minuto, entretanto não é recomendado _ficar acima_ de 15 minutos.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-366">Some users even perform log backups every minute, although we do not recommend going _over_ 15 minutes.</span></span>

<span data-ttu-id="cf8d3-367">Olá última etapa é toocreate de backup (após a instalação inicial de saudação do SAP HANA) tooperform um arquivo com base em uma única entrada de backup que deve existir no catálogo de backup hello.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-367">hello final step is tooperform a file-based backup (after hello initial installation of SAP HANA) toocreate a single backup entry that must exist within hello backup catalog.</span></span> <span data-ttu-id="cf8d3-368">Caso contrário, SAP HANA não pode iniciar os backups de log indicados.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-368">Otherwise SAP HANA cannot initiate your specified log backups.</span></span>

![Faça um backup toocreate baseada em arquivo uma única entrada de backup](./media/hana-overview-high-availability-disaster-recovery/image6-make-backup.png)

### <a name="monitoring-hello-number-and-size-of-snapshots-on-hello-disk-volume"></a><span data-ttu-id="cf8d3-370">Número de Olá monitoramento e o tamanho de instantâneos no volume de disco Olá</span><span class="sxs-lookup"><span data-stu-id="cf8d3-370">Monitoring hello number and size of snapshots on hello disk volume</span></span>

<span data-ttu-id="cf8d3-371">Em um volume de armazenamento específico, você pode monitorar o número de saudação de instantâneos e o consumo de armazenamento de saudação de instantâneos.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-371">On a particular storage volume, you can monitor hello number of snapshots and hello storage consumption of snapshots.</span></span> <span data-ttu-id="cf8d3-372">Olá `ls` comando não mostra o diretório de instantâneos de saudação ou arquivos.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-372">hello `ls` command doesn't show hello snapshot directory or files.</span></span> <span data-ttu-id="cf8d3-373">No entanto, Olá comando do sistema operacional Linux `du` faz, com hello comandos a seguir:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-373">However, hello Linux OS command `du` does, with hello following commands:</span></span>

- <span data-ttu-id="cf8d3-374">`du –sh .snapshot`apresenta o total de todos os instantâneos no diretório de instantâneos de saudação.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-374">`du –sh .snapshot` provides a total of all snapshots within hello snapshot directory.</span></span>
- <span data-ttu-id="cf8d3-375">`du –sh --max-depth=1`lista todos os instantâneos são salvos na pasta de .snapshot hello e tamanho de saudação de cada instantâneo.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-375">`du –sh --max-depth=1` lists all snapshots that are saved in hello .snapshot folder and hello size of each snapshot.</span></span>
- <span data-ttu-id="cf8d3-376">`du –hc`fornece o tamanho total de saudação usado por todos os instantâneos.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-376">`du –hc` provides hello total size used by all snapshots.</span></span>

<span data-ttu-id="cf8d3-377">Use esses toomake comandos-se de que instantâneos de saudação que são executados e armazenados não estão consumindo todo o armazenamento de saudação em volumes de saudação.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-377">Use these commands toomake sure that hello snapshots that are taken and stored are not consuming all hello storage on hello volumes.</span></span>

### <a name="reducing-hello-number-of-snapshots-on-a-server"></a><span data-ttu-id="cf8d3-378">Reduzindo o número de saudação de instantâneos em um servidor</span><span class="sxs-lookup"><span data-stu-id="cf8d3-378">Reducing hello number of snapshots on a server</span></span>

<span data-ttu-id="cf8d3-379">Conforme explicado anteriormente, você pode reduzir o número de saudação de determinados rótulos de instantâneos que você armazena.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-379">As explained earlier, you can reduce hello number of certain labels of snapshots that you store.</span></span> <span data-ttu-id="cf8d3-380">Olá últimos dois parâmetros de saudação comando tooinitiate um instantâneo são um rótulo e hello o número de instantâneos que você deseja tooretain.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-380">hello last two parameters of hello command tooinitiate a snapshot are a label and hello number of snapshots you want tooretain.</span></span>
```
./azure_hana_backup.pl lhanad01 customer 20
```
<span data-ttu-id="cf8d3-381">No exemplo anterior de saudação, rótulo de instantâneo de saudação é _cliente_ e número de saudação de instantâneos com este toobe rótulo retidos _20_.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-381">In hello previous example, hello snapshot label is _customer_ and hello number of snapshots with this label toobe retained is _20_.</span></span> <span data-ttu-id="cf8d3-382">Como responder o consumo de espaço toodisk, talvez você queira tooreduce número de saudação de instantâneos armazenados.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-382">As you respond toodisk space consumption, you might want tooreduce hello number of stored snapshots.</span></span> <span data-ttu-id="cf8d3-383">número de saudação do tooreduce de instantâneos é toorun script Olá Olá último parâmetro conjunto too5 de modo fácil de saudação:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-383">hello easy way tooreduce hello number of snapshots is toorun hello script with hello last parameter set too5:</span></span>
```
./azure_hana_backup.pl lhanad01 customer 5
```
<span data-ttu-id="cf8d3-384">Como resultado do script hello em execução com essa configuração, o número de saudação de instantâneos, incluindo Olá armazenamento novo instantâneo, é _5_.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-384">As a result of running hello script with this setting, hello number of snapshots, including hello new storage snapshot, is _5_.</span></span>

 >[!NOTE]
 > <span data-ttu-id="cf8d3-385">Esse script reduz o número de saudação de instantâneos somente se o instantâneo anterior mais recente de saudação é de mais de uma hora antigo.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-385">This script reduces hello number of snapshots only if hello most recent previous snapshot is more than one hour old.</span></span> <span data-ttu-id="cf8d3-386">script Hello não exclui os instantâneos que são menos de uma hora antigos.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-386">hello script does not delete snapshots that are less than one hour old.</span></span>

<span data-ttu-id="cf8d3-387">Essas restrições são a funcionalidade de recuperação de desastres opcional toohello relacionados oferecida.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-387">These restrictions are related toohello optional disaster-recovery functionality offered.</span></span>

<span data-ttu-id="cf8d3-388">Se você não quiser mais toomaintain um conjunto de instantâneos com o prefixo, você pode executar o script hello com _0_ hello retenção número tooremove todos os instantâneos de correspondência de prefixo.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-388">If you no longer want toomaintain a set of snapshots with that prefix, you can execute hello script with _0_ as hello retention number tooremove all snapshots matching that prefix.</span></span> <span data-ttu-id="cf8d3-389">No entanto, remover todos os instantâneos pode afetar recursos Olá de recuperação de desastres.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-389">However, removing all snapshots can affect hello capabilities of disaster recovery.</span></span>

### <a name="recovering-toohello-most-recent-hana-snapshot"></a><span data-ttu-id="cf8d3-390">Recuperando o instantâneo mais recente de HANA toohello</span><span class="sxs-lookup"><span data-stu-id="cf8d3-390">Recovering toohello most recent HANA snapshot</span></span>

<span data-ttu-id="cf8d3-391">No evento de saudação a experiência de um cenário de produção para baixo, o processo de saudação de recuperação de um instantâneo de armazenamento pode ser iniciado como um incidente do cliente com o SAP HANA no gerenciamento de serviços do Azure.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-391">In hello event that you experience a production-down scenario, hello process of recovering from a storage snapshot can be initiated as a customer incident with SAP HANA on Azure Service Management.</span></span> <span data-ttu-id="cf8d3-392">Um cenário como esse inesperado poderá ser uma questão de alta urgência se dados foram excluídos de produção sistema Olá única forma e dados de saudação tooretrieve são o banco de dados de produção de hello toorestore.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-392">Such an unexpected scenario might be a high-urgency matter if data was deleted in a production system and hello only way tooretrieve hello data is toorestore hello production database.</span></span>

<span data-ttu-id="cf8d3-393">Em hello outro lado, uma recuperação point-in-time pode ser baixa urgência e planejadas para dias de antecedência.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-393">On hello other hand, a point-in-time recovery could be low urgency and planned for days in advance.</span></span> <span data-ttu-id="cf8d3-394">Você pode planejar essa recuperação com o SAP HANA no Gerenciamento de Serviços do Azure em vez de gerar um problema de alta prioridade.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-394">You can plan this recovery with SAP HANA on Azure Service Management instead of raising a high-priority issue.</span></span> <span data-ttu-id="cf8d3-395">Por exemplo, talvez planejamento tootry uma atualização de software SAP de saudação aplicando um novo pacote de aprimoramento e, em seguida, precisa toorevert fazer instantâneo tooa que representa o estado de saudação antes da atualização Olá EHP.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-395">For example, you might be planning tootry an upgrade of hello SAP software by applying a new enhancement package, and you then need toorevert back tooa snapshot that represents hello state before hello EHP upgrade.</span></span>

<span data-ttu-id="cf8d3-396">Antes de você emitir a solicitação Olá, é necessário toodo alguma preparação.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-396">Before you issue hello request, you need toodo some preparation.</span></span> <span data-ttu-id="cf8d3-397">SAP HANA na equipe de gerenciamento de serviços do Azure pode lidar com a solicitação de saudação e fornecer volumes Olá restaurado.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-397">SAP HANA on Azure Service Management team can then handle hello request and provide hello restored volumes.</span></span> <span data-ttu-id="cf8d3-398">Depois disso, é tooyou toorestore Olá HANA banco de dados com base em instantâneos de saudação.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-398">Afterward, it is up tooyou toorestore hello HANA database based on hello snapshots.</span></span> <span data-ttu-id="cf8d3-399">Aqui está como tooprepare para Olá solicitar:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-399">Here is how tooprepare for hello request:</span></span>

>[!NOTE]
><span data-ttu-id="cf8d3-400">A interface do usuário pode variar do hello capturas de tela, dependendo da saudação versão SAP HANA você estiver usando a seguir.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-400">Your user interface might vary from hello following screenshots, depending on hello SAP HANA release you are using.</span></span>

1. <span data-ttu-id="cf8d3-401">Decida qual toorestore de instantâneo.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-401">Decide which snapshot toorestore.</span></span> <span data-ttu-id="cf8d3-402">Somente o volume de hana/dados Olá seria restaurado, a menos que você está indicado o contrário.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-402">Only hello hana/data volume would be restored unless you are instructed otherwise.</span></span>

2. <span data-ttu-id="cf8d3-403">Desligar a instância do HANA hello.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-403">Shut down hello HANA instance.</span></span>

 ![Desligar a instância do HANA Olá](./media/hana-overview-high-availability-disaster-recovery/image7-shutdown-hana.png)

3. <span data-ttu-id="cf8d3-405">Desmonte volumes de dados de saudação em cada nó de banco de dados do HANA.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-405">Unmount hello data volumes on each HANA database node.</span></span> <span data-ttu-id="cf8d3-406">restauração de saudação do instantâneo Olá falhará se os volumes de dados de saudação não são desmontados.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-406">hello restoration of hello snapshot fails if hello data volumes are not unmounted.</span></span>

 ![Desmontar volumes de dados de saudação em cada nó de banco de dados do HANA](./media/hana-overview-high-availability-disaster-recovery/image8-unmount-data-volumes.png)

4. <span data-ttu-id="cf8d3-408">Abra uma restauração de saudação do suporte do Azure solicitação tooinstruct de um instantâneo específico.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-408">Open an Azure support request tooinstruct hello restoration of a specific snapshot.</span></span>

 - <span data-ttu-id="cf8d3-409">Durante a restauração da saudação: SAP HANA no gerenciamento de serviços do Azure pode solicitar que você tooattend tooensure uma chamada de conferência que nenhum dado é se perder.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-409">During hello restoration: SAP HANA on Azure Service Management might ask you tooattend a conference call tooensure that no data is getting lost.</span></span>

 - <span data-ttu-id="cf8d3-410">Após a restauração de saudação: SAP HANA no gerenciamento de serviços do Azure notifica quando Olá armazenamento instantâneo foi restaurado.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-410">After hello restoration: SAP HANA on Azure Service Management notifies you when hello storage snapshot has been restored.</span></span>

5. <span data-ttu-id="cf8d3-411">Após a conclusão do processo de restauração hello, remonte todos os volumes de dados.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-411">After hello restoration process is complete, remount all data volumes.</span></span>

 ![Montar novamente todos os volumes de dados](./media/hana-overview-high-availability-disaster-recovery/image9-remount-data-volumes.png)

6. <span data-ttu-id="cf8d3-413">Selecione as opções de recuperação do SAP HANA Studio, se eles não aparecer automaticamente quando você se reconectar tooHANA banco de dados por meio do SAP HANA Studio.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-413">Select recovery options within SAP HANA Studio, if they do not automatically come up when you reconnect tooHANA DB through SAP HANA Studio.</span></span> <span data-ttu-id="cf8d3-414">Olá, exemplo a seguir mostra um restauração toohello último HANA instantâneo.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-414">hello following example shows a restoration toohello last HANA snapshot.</span></span> <span data-ttu-id="cf8d3-415">Um instantâneo de armazenamento incorpora um instantâneo do HANA e se você estiver restaurando o instantâneo mais recente de armazenamento toohello, ele deve ser instantâneo mais recente de HANA hello.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-415">A storage snapshot embeds one HANA snapshot, and if you are restoring toohello most recent storage snapshot, it should be hello most recent HANA snapshot.</span></span> <span data-ttu-id="cf8d3-416">(Se você estiver restaurando tooolder instantâneos de armazenamento, você precisa toolocate Olá HANA instantâneo com base em Olá tempo Olá armazenamento instantâneo foi tirado.)</span><span class="sxs-lookup"><span data-stu-id="cf8d3-416">(If you are restoring tooolder storage snapshots, you need toolocate hello HANA snapshot based on hello time hello storage snapshot was taken.)</span></span>

 ![Selecionar as opções de recuperação no SAP HANA Studio](./media/hana-overview-high-availability-disaster-recovery/image10-recover-options-a.png)

7. <span data-ttu-id="cf8d3-418">Selecione **recuperar Olá banco de dados tooa específico de backup ou armazenamento de instantâneo de dados**.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-418">Select **Recover hello database tooa specific data backup or storage snapshot**.</span></span>

 ![janela de "Especificar o tipo de recuperação" Hello](./media/hana-overview-high-availability-disaster-recovery/image11-recover-options-b.png)

8. <span data-ttu-id="cf8d3-420">Selecione **Especificar backup sem catálogo**.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-420">Select **Specify backup without catalog**.</span></span>

 ![janela de "Especificar o local de Backup" Hello](./media/hana-overview-high-availability-disaster-recovery/image12-recover-options-c.png)

9. <span data-ttu-id="cf8d3-422">Em Olá **tipo de destino** lista, selecione **instantâneo**.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-422">In hello **Destination Type** list, select **Snapshot**.</span></span>

 ![janela de "Especificar Olá Backup tooRecover" Hello](./media/hana-overview-high-availability-disaster-recovery/image13-recover-options-d.png)

10. <span data-ttu-id="cf8d3-424">Clique em **concluir** toostart processo de recuperação de saudação.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-424">Click **Finish** toostart hello recovery process.</span></span>

 ![Clique em "Concluir" processo de recuperação de saudação toostart](./media/hana-overview-high-availability-disaster-recovery/image14-recover-options-e.png)

11. <span data-ttu-id="cf8d3-426">o banco de dados do Hello HANA é restaurado e recuperado instantâneo do HANA toohello que está incluído no instantâneo de armazenamento hello.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-426">hello HANA database is restored and recovered toohello HANA snapshot that's included in hello storage snapshot.</span></span>

 ![Banco de dados do HANA é restaurado e recuperado toohello instantâneo do HANA](./media/hana-overview-high-availability-disaster-recovery/image15-recover-options-f.png)

### <a name="recovering-toohello-most-recent-state"></a><span data-ttu-id="cf8d3-428">Recuperando o estado mais recente do toohello</span><span class="sxs-lookup"><span data-stu-id="cf8d3-428">Recovering toohello most recent state</span></span>

<span data-ttu-id="cf8d3-429">Olá processo a seguir restaura o instantâneo do HANA Olá que está incluído no instantâneo de armazenamento hello.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-429">hello following process restores hello HANA snapshot that is included in hello storage snapshot.</span></span> <span data-ttu-id="cf8d3-430">Ele restaura em seguida Olá transaction log backups toohello estado mais recente do banco de dados de saudação antes de restaurar o instantâneo de armazenamento hello.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-430">It then restores hello transaction log backups toohello most recent state of hello database before restoring hello storage snapshot.</span></span>

>[!IMPORTANT]
><span data-ttu-id="cf8d3-431">Antes de continuar, verifique se você tem uma cadeia completa e contígua de backups de log de transações.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-431">Before you proceed, make sure that you have a complete and contiguous chain of transaction log backups.</span></span> <span data-ttu-id="cf8d3-432">Sem esses backups, é possível restaurar o estado atual de saudação do banco de dados de saudação.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-432">Without these backups, you cannot restore hello current state of hello database.</span></span>

1. <span data-ttu-id="cf8d3-433">Conclua as etapas 1 a 6 de saudação que precedem o procedimento em "Recuperação toohello instantâneo mais recente HANA."</span><span class="sxs-lookup"><span data-stu-id="cf8d3-433">Complete steps 1-6 of hello preceding procedure in "Recovering toohello most recent HANA snapshot."</span></span>

2. <span data-ttu-id="cf8d3-434">Selecione **recuperar o estado mais recente do hello banco de dados tooits**.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-434">Select **Recover hello database tooits most recent state**.</span></span>

 ![Selecione "Recuperar o estado mais recente do tooits Olá banco de dados"](./media/hana-overview-high-availability-disaster-recovery/image16-recover-database-a.png)

3. <span data-ttu-id="cf8d3-436">Especifique o local de Olá Olá mais recentes HANA de backups de log.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-436">Specify hello location of hello most recent HANA log backups.</span></span> <span data-ttu-id="cf8d3-437">local de saudação precisa toocontain todos os backups de log de transações do HANA do estado mais recente do toohello Olá HANA instantâneo.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-437">hello location needs toocontain all HANA transaction log backups from hello HANA snapshot toohello most recent state.</span></span>

 ![Especificar local de Olá Olá mais recentes HANA de backups de log](./media/hana-overview-high-availability-disaster-recovery/image17-recover-database-b.png)

4. <span data-ttu-id="cf8d3-439">Selecione um backup como uma base de banco de dados que toorecover hello.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-439">Select a backup as a base from which toorecover hello database.</span></span> <span data-ttu-id="cf8d3-440">Em nosso exemplo, isso é instantâneo do HANA Olá que foi incluído no instantâneo de armazenamento hello.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-440">In our example, this is hello HANA snapshot that was included in hello storage snapshot.</span></span> <span data-ttu-id="cf8d3-441">(Apenas um instantâneo está listado no hello captura de tela a seguir).</span><span class="sxs-lookup"><span data-stu-id="cf8d3-441">(Only one snapshot is listed in hello following screenshot.)</span></span>

 ![Selecione um backup como uma base de banco de dados que toorecover Olá](./media/hana-overview-high-availability-disaster-recovery/image18-recover-database-c.png)

5. <span data-ttu-id="cf8d3-443">Olá limpar **usar Backups de Delta** caixa de seleção se não existirem deltas entre o tempo de saudação do instantâneo do HANA hello e estado mais recente hello.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-443">Clear hello **Use Delta Backups** check box if deltas do not exist between hello time of hello HANA snapshot and hello most recent state.</span></span>

 ![Olá desmarque caixa de seleção "Usar Backups de Delta" se nenhum deltas existe](./media/hana-overview-high-availability-disaster-recovery/image19-recover-database-d.png)

6. <span data-ttu-id="cf8d3-445">Na tela de resumo hello, clique em **concluir** toostart procedimento de restauração de saudação.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-445">On hello summary screen, click **Finish** toostart hello restoration procedure.</span></span>

 ![Clique em "Concluir" na tela de resumo da saudação](./media/hana-overview-high-availability-disaster-recovery/image20-recover-database-e.png)

### <a name="recovering-tooanother-point-in-time"></a><span data-ttu-id="cf8d3-447">Recuperando tooanother pontual</span><span class="sxs-lookup"><span data-stu-id="cf8d3-447">Recovering tooanother point in time</span></span>
<span data-ttu-id="cf8d3-448">toorecover tooa ponto no tempo entre o instantâneo do HANA hello (incluído no instantâneo de armazenamento Olá) e outro que é posterior de saudação HANA instantâneo recuperação point-in-time, Olá a seguir:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-448">toorecover tooa point in time between hello HANA snapshot (included in hello storage snapshot) and one that is later than hello HANA snapshot point-in-time recovery, do hello following:</span></span>

1. <span data-ttu-id="cf8d3-449">Certifique-se de que você tenha todos os backups de log de transação do hello HANA instantâneo toohello tempo toorecover.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-449">Make sure that you have all transaction log backups from hello HANA snapshot toohello time you want toorecover.</span></span>
2. <span data-ttu-id="cf8d3-450">Iniciar Olá procedimento em "Recuperação toohello mais recente estado".</span><span class="sxs-lookup"><span data-stu-id="cf8d3-450">Begin hello procedure under "Recovering toohello most recent state."</span></span>
3. <span data-ttu-id="cf8d3-451">Na etapa 2 do procedimento hello, Olá **especificar tipo de recuperação** janela, selecione **a seguir recuperar Olá banco de dados toohello ponto no tempo**, especifique Olá ponto no tempo e, em seguida, conclua as etapas 3 a 6.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-451">In step 2 of hello procedure, in hello **Specify Recovery Type** window, select **Recover hello database toohello following point in time**, specify hello point in time, and then complete steps 3-6.</span></span>

## <a name="monitoring-hello-execution-of-snapshots"></a><span data-ttu-id="cf8d3-452">Monitorando a execução de saudação de instantâneos</span><span class="sxs-lookup"><span data-stu-id="cf8d3-452">Monitoring hello execution of snapshots</span></span>

<span data-ttu-id="cf8d3-453">Você precisa de execução de saudação toomonitor de instantâneos de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-453">You need toomonitor hello execution of storage snapshots.</span></span> <span data-ttu-id="cf8d3-454">grava o arquivo de saída de tooa script Hello que executa um instantâneo de armazenamento e a salva toohello mesmo local que scripts Perl de saudação.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-454">hello script that executes a storage snapshot writes output tooa file and then saves it toohello same location as hello Perl scripts.</span></span> <span data-ttu-id="cf8d3-455">Um arquivo separado é criado para cada instantâneo.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-455">A separate file is written for each snapshot.</span></span> <span data-ttu-id="cf8d3-456">saída de saudação de cada arquivo mostra claramente saudação várias fases que executa o script de instantâneo hello:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-456">hello output of each file clearly shows hello various phases that hello snapshot script executes:</span></span>

- <span data-ttu-id="cf8d3-457">Localizando um instantâneo de volumes Olá que precisam toocreate</span><span class="sxs-lookup"><span data-stu-id="cf8d3-457">Finding hello volumes that need toocreate a snapshot</span></span>
- <span data-ttu-id="cf8d3-458">Localizando instantâneos Olá obtidos esses volumes</span><span class="sxs-lookup"><span data-stu-id="cf8d3-458">Finding hello snapshots taken from these volumes</span></span>
- <span data-ttu-id="cf8d3-459">Excluindo eventual existente instantâneos toomatch Olá número de instantâneos especificado</span><span class="sxs-lookup"><span data-stu-id="cf8d3-459">Deleting eventual existing snapshots toomatch hello number of snapshots you specified</span></span>
- <span data-ttu-id="cf8d3-460">Criando um instantâneo do HANA</span><span class="sxs-lookup"><span data-stu-id="cf8d3-460">Creating a HANA snapshot</span></span>
- <span data-ttu-id="cf8d3-461">A criação de instantâneo de armazenamento Olá em volumes Olá</span><span class="sxs-lookup"><span data-stu-id="cf8d3-461">Creating hello storage snapshot over hello volumes</span></span>
- <span data-ttu-id="cf8d3-462">Excluindo Olá HANA instantâneo</span><span class="sxs-lookup"><span data-stu-id="cf8d3-462">Deleting hello HANA snapshot</span></span>
- <span data-ttu-id="cf8d3-463">Renomeando hello mais recente instantâneo muito**.0**</span><span class="sxs-lookup"><span data-stu-id="cf8d3-463">Renaming hello most recent snapshot too**.0**</span></span>

<span data-ttu-id="cf8d3-464">a parte mais importante saudação do script hello é a seguinte:</span><span class="sxs-lookup"><span data-stu-id="cf8d3-464">hello most important part of hello script is this:</span></span>
```
**********************Creating HANA snapshot**********************
Creating hello HANA snapshot with command: "./hdbsql -n localhost -i 01 -U SCADMIN01 "backup data create snapshot"" ...
HANA snapshot created successfully.
**********************Creating Storage snapshot**********************
Taking snapshot hourly.recent for hana_data_lhanad01_t020_vol ...
Snapshot created successfully.
Taking snapshot hourly.recent for hana_log_backup_lhanad01_t020_vol ...
Snapshot created successfully.
Taking snapshot hourly.recent for hana_log_lhanad01_t020_vol ...
Snapshot created successfully.
Taking snapshot hourly.recent for hana_shared_lhanad01_t020_vol ...
Snapshot created successfully.
Taking snapshot hourly.recent for sapmnt_lhanad01_t020_vol ...
Snapshot created successfully.
**********************Deleting HANA snapshot**********************
Deleting hello HANA snapshot with command: "./hdbsql -n localhost -i 01 -U SCADMIN01 "backup data drop snapshot"" ...
HANA snapshot deletion successfully.
```
<span data-ttu-id="cf8d3-465">Você pode ver a este exemplo como registros de script Olá Olá criação do instantâneo do HANA hello.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-465">You can see from this sample how hello script records hello creation of hello HANA snapshot.</span></span> <span data-ttu-id="cf8d3-466">No caso de expansão Olá, esse processo é iniciado no nó mestre hello.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-466">In hello scale-out case, this process is initiated on hello master node.</span></span> <span data-ttu-id="cf8d3-467">nó mestre Olá inicia a criação de síncrona de saudação de instantâneos de saudação em cada um de nós de trabalho hello.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-467">hello master node initiates hello synchronous creation of hello snapshots on each of hello worker nodes.</span></span> <span data-ttu-id="cf8d3-468">Em seguida, Olá armazenamento instantâneo é obtido.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-468">Then hello storage snapshot is taken.</span></span> <span data-ttu-id="cf8d3-469">Após a execução bem-sucedida do hello de instantâneos de armazenamento Olá, Olá HANA é excluído.</span><span class="sxs-lookup"><span data-stu-id="cf8d3-469">After hello successful execution of hello storage snapshots, hello HANA snapshot is deleted.</span></span>
