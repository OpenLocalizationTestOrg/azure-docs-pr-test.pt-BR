---
title: "Práticas recomendadas de desempenho para o SQL Server no Azure | Microsoft Docs"
description: "Fornece as práticas recomendadas para aprimoramento do desempenho do SQL Server em VMs do Microsoft Azure."
services: virtual-machines-windows
documentationcenter: na
author: rothja
manager: jhubbard
editor: 
tags: azure-service-management
ms.assetid: a0c85092-2113-4982-b73a-4e80160bac36
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 06/27/2017
ms.author: jroth
ms.openlocfilehash: 5595ea016ab01d20cee82b75f56623bb0727a1b3
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/29/2017
---
# <a name="performance-best-practices-for-sql-server-in-azure-virtual-machines"></a><span data-ttu-id="974b8-103">Práticas recomendadas relacionadas ao desempenho para o SQL Server em máquinas virtuais do Azure</span><span class="sxs-lookup"><span data-stu-id="974b8-103">Performance best practices for SQL Server in Azure Virtual Machines</span></span>

## <a name="overview"></a><span data-ttu-id="974b8-104">Visão geral</span><span class="sxs-lookup"><span data-stu-id="974b8-104">Overview</span></span>

<span data-ttu-id="974b8-105">Este tópico fornece as práticas recomendadas para otimização do desempenho do SQL Server na Máquina Virtual do Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="974b8-105">This topic provides best practices for optimizing SQL Server performance in Microsoft Azure Virtual Machine.</span></span> <span data-ttu-id="974b8-106">Durante a execução do SQL Server em máquinas virtuais do Azure, recomendamos que você continue usando as mesmas opções de ajuste de desempenho aplicáveis ao SQL Server no ambiente de servidor local.</span><span class="sxs-lookup"><span data-stu-id="974b8-106">While running SQL Server in Azure Virtual Machines, we recommend that you continue using the same database performance tuning options that are applicable to SQL Server in on-premises server environment.</span></span> <span data-ttu-id="974b8-107">No entanto, o desempenho de um banco de dados relacional em uma nuvem pública depende de muitos fatores como, por exemplo, o tamanho de uma máquina virtual e a configuração dos discos de dados.</span><span class="sxs-lookup"><span data-stu-id="974b8-107">However, the performance of a relational database in a public cloud depends on many factors such as the size of a virtual machine, and the configuration of the data disks.</span></span>

<span data-ttu-id="974b8-108">Ao criar imagens do SQL Server, [considere o provisionamento de suas VMs no portal do Azure](virtual-machines-windows-portal-sql-server-provision.md).</span><span class="sxs-lookup"><span data-stu-id="974b8-108">When creating SQL Server images, [consider provisioning your VMs in the Azure portal](virtual-machines-windows-portal-sql-server-provision.md).</span></span> <span data-ttu-id="974b8-109">VMs do SQL Server provisionadas no Portal com o Resource Manager implementam todas essas práticas recomendadas, incluindo a configuração de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="974b8-109">SQL Server VMs provisioned in the Portal with Resource Manager implement all these best practices, including the storage configuration.</span></span>

<span data-ttu-id="974b8-110">Este artigo concentra-se na obtenção do *melhor* desempenho para o SQL Server em máquinas virtuais do Azure.</span><span class="sxs-lookup"><span data-stu-id="974b8-110">This article is focused on getting the *best* performance for SQL Server on Azure VMs.</span></span> <span data-ttu-id="974b8-111">Se sua carga de trabalho for menos exigente, talvez você não precise de todos os aprimoramentos relacionados abaixo.</span><span class="sxs-lookup"><span data-stu-id="974b8-111">If your workload is less demanding, you might not require every optimization listed below.</span></span> <span data-ttu-id="974b8-112">Considere suas necessidades de desempenho e padrões de carga de trabalho ao avaliar essas recomendações.</span><span class="sxs-lookup"><span data-stu-id="974b8-112">Consider your performance needs and workload patterns as you evaluate these recommendations.</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="quick-check-list"></a><span data-ttu-id="974b8-113">Lista de verificação rápida</span><span class="sxs-lookup"><span data-stu-id="974b8-113">Quick check list</span></span>

<span data-ttu-id="974b8-114">Veja a seguir uma lista de verificação rápida para obter o melhor desempenho do SQL Server em máquinas virtuais do Azure:</span><span class="sxs-lookup"><span data-stu-id="974b8-114">The following is a quick check list for optimal performance of SQL Server on Azure Virtual Machines:</span></span>

| <span data-ttu-id="974b8-115">Área</span><span class="sxs-lookup"><span data-stu-id="974b8-115">Area</span></span> | <span data-ttu-id="974b8-116">Otimizações</span><span class="sxs-lookup"><span data-stu-id="974b8-116">Optimizations</span></span> |
| --- | --- |
| [<span data-ttu-id="974b8-117">Tamanho da VM</span><span class="sxs-lookup"><span data-stu-id="974b8-117">VM size</span></span>](#vm-size-guidance) |<span data-ttu-id="974b8-118">[DS3](../../virtual-machines-windows-sizes-memory.md) ou superior para o SQL Enterprise Edition.</span><span class="sxs-lookup"><span data-stu-id="974b8-118">[DS3](../../virtual-machines-windows-sizes-memory.md) or higher for SQL Enterprise edition.</span></span><br/><br/><span data-ttu-id="974b8-119">[DS2](../../virtual-machines-windows-sizes-memory.md) ou superior para os SQL Standard e Web Editions.</span><span class="sxs-lookup"><span data-stu-id="974b8-119">[DS2](../../virtual-machines-windows-sizes-memory.md) or higher for SQL Standard and Web editions.</span></span> |
| [<span data-ttu-id="974b8-120">Armazenamento</span><span class="sxs-lookup"><span data-stu-id="974b8-120">Storage</span></span>](#storage-guidance) |<span data-ttu-id="974b8-121">Use o [Armazenamento Premium](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="974b8-121">Use [Premium Storage](../../../storage/common/storage-premium-storage.md).</span></span> <span data-ttu-id="974b8-122">O armazenamento padrão é recomendado somente para desenvolvimento/teste.</span><span class="sxs-lookup"><span data-stu-id="974b8-122">Standard storage is only recommended for dev/test.</span></span><br/><br/><span data-ttu-id="974b8-123">Mantenha a [conta de armazenamento](../../../storage/common/storage-create-storage-account.md) e a VM do SQL Server na mesma região.</span><span class="sxs-lookup"><span data-stu-id="974b8-123">Keep the [storage account](../../../storage/common/storage-create-storage-account.md) and SQL Server VM in the same region.</span></span><br/><br/><span data-ttu-id="974b8-124">Desabilite o [armazenamento com redundância geográfica](../../../storage/common/storage-redundancy.md) (replicação geográfica) do Azure na conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="974b8-124">Disable Azure [geo-redundant storage](../../../storage/common/storage-redundancy.md) (geo-replication) on the storage account.</span></span> |
| [<span data-ttu-id="974b8-125">Discos</span><span class="sxs-lookup"><span data-stu-id="974b8-125">Disks</span></span>](#disks-guidance) |<span data-ttu-id="974b8-126">Usar no mínimo dois [discos P30](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) (um para arquivos de log; um para arquivos de dados e o TempDB).</span><span class="sxs-lookup"><span data-stu-id="974b8-126">Use a minimum of 2 [P30 disks](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) (1 for log files; 1 for data files and TempDB).</span></span><br/><br/><span data-ttu-id="974b8-127">Evite usar o sistema operacional ou discos temporários para armazenamento de banco de dados ou registro em log.</span><span class="sxs-lookup"><span data-stu-id="974b8-127">Avoid using operating system or temporary disks for database storage or logging.</span></span><br/><br/><span data-ttu-id="974b8-128">Habilite o caching nos discos que hospedam os arquivos de dados e o TempDB.</span><span class="sxs-lookup"><span data-stu-id="974b8-128">Enable read caching on the disk(s) hosting the data files and TempDB.</span></span><br/><br/><span data-ttu-id="974b8-129">Não habilite o caching em discos que hospedam o arquivo de log.</span><span class="sxs-lookup"><span data-stu-id="974b8-129">Do not enable caching on disk(s) hosting the log file.</span></span><br/><br/><span data-ttu-id="974b8-130">Importante: interrompa o serviço do SQL Server ao alterar as configurações de cache para um disco de VM do Azure.</span><span class="sxs-lookup"><span data-stu-id="974b8-130">Important: Stop the SQL Server service when changing the cache settings for an Azure VM disk.</span></span><br/><br/><span data-ttu-id="974b8-131">Particione vários discos de dados do Azure para obter maior taxa de transferência de E/S.</span><span class="sxs-lookup"><span data-stu-id="974b8-131">Stripe multiple Azure data disks to get increased IO throughput.</span></span><br/><br/><span data-ttu-id="974b8-132">Formate com os tamanhos de alocação documentados.</span><span class="sxs-lookup"><span data-stu-id="974b8-132">Format with documented allocation sizes.</span></span> |
| [<span data-ttu-id="974b8-133">E/S</span><span class="sxs-lookup"><span data-stu-id="974b8-133">I/O</span></span>](#io-guidance) |<span data-ttu-id="974b8-134">Habilite a compactação de página do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="974b8-134">Enable database page compression.</span></span><br/><br/><span data-ttu-id="974b8-135">Habilite a inicialização instantânea de arquivos para arquivos de dados.</span><span class="sxs-lookup"><span data-stu-id="974b8-135">Enable instant file initialization for data files.</span></span><br/><br/><span data-ttu-id="974b8-136">Limite ou desabilite o crescimento automático no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="974b8-136">Limit or disable autogrow on the database.</span></span><br/><br/><span data-ttu-id="974b8-137">Desabilite a redução automática no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="974b8-137">Disable autoshrink on the database.</span></span><br/><br/><span data-ttu-id="974b8-138">Mova todos os bancos de dados para discos de dados, incluindo bancos de dados do sistema.</span><span class="sxs-lookup"><span data-stu-id="974b8-138">Move all databases to data disks, including system databases.</span></span><br/><br/><span data-ttu-id="974b8-139">Mova o log de erros do SQL Server e os diretórios de arquivos de rastreamento para discos de dados</span><span class="sxs-lookup"><span data-stu-id="974b8-139">Move SQL Server error log and trace file directories to data disks.</span></span><br/><br/><span data-ttu-id="974b8-140">Configure os locais do arquivo de banco de dados e backup padrão.</span><span class="sxs-lookup"><span data-stu-id="974b8-140">Setup default backup and database file locations.</span></span><br/><br/><span data-ttu-id="974b8-141">Habilite as páginas bloqueadas.</span><span class="sxs-lookup"><span data-stu-id="974b8-141">Enable locked pages.</span></span><br/><br/><span data-ttu-id="974b8-142">Aplique correções de desempenho do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="974b8-142">Apply SQL Server performance fixes.</span></span> |
| [<span data-ttu-id="974b8-143">Específico do recurso</span><span class="sxs-lookup"><span data-stu-id="974b8-143">Feature specific</span></span>](#feature-specific-guidance) |<span data-ttu-id="974b8-144">Faça backup diretamente no armazenamento de blob.</span><span class="sxs-lookup"><span data-stu-id="974b8-144">Back up directly to blob storage.</span></span> |

<span data-ttu-id="974b8-145">Para saber mais sobre *como* e *por que* fazer essas otimizações, examine os detalhes e diretrizes fornecidos nas seções a seguir.</span><span class="sxs-lookup"><span data-stu-id="974b8-145">For more information on *how* and *why* to make these optimizations, please review the details and guidance provided in following sections.</span></span>

## <a name="vm-size-guidance"></a><span data-ttu-id="974b8-146">Diretrizes de tamanho de VM</span><span class="sxs-lookup"><span data-stu-id="974b8-146">VM size guidance</span></span>

<span data-ttu-id="974b8-147">Para aplicativos sensíveis ao desempenho, é recomendável o uso dos seguintes [tamanhos de máquinas virtuais](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json):</span><span class="sxs-lookup"><span data-stu-id="974b8-147">For performance sensitive applications, it’s recommended that you use the following [virtual machines sizes](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json):</span></span>

* <span data-ttu-id="974b8-148">**SQL Server Enterprise Edition**: DS3 ou superior</span><span class="sxs-lookup"><span data-stu-id="974b8-148">**SQL Server Enterprise Edition**: DS3 or higher</span></span>
* <span data-ttu-id="974b8-149">**SQL Server Standard e Web Editions**: DS2 ou superior</span><span class="sxs-lookup"><span data-stu-id="974b8-149">**SQL Server Standard and Web Editions**: DS2 or higher</span></span>

## <a name="storage-guidance"></a><span data-ttu-id="974b8-150">Orientação de armazenamento</span><span class="sxs-lookup"><span data-stu-id="974b8-150">Storage guidance</span></span>

<span data-ttu-id="974b8-151">As VMs da série DS (com as séries DSv2 e GS) dão suporte ao [Armazenamento Premium](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="974b8-151">DS-series (along with DSv2-series and GS-series) VMs support [Premium Storage](../../../storage/common/storage-premium-storage.md).</span></span> <span data-ttu-id="974b8-152">O Armazenamento Premium é recomendado para todas as cargas de trabalho de produção.</span><span class="sxs-lookup"><span data-stu-id="974b8-152">Premium Storage is recommended for all production workloads.</span></span>

> [!WARNING]
> <span data-ttu-id="974b8-153">O Armazenamento Standard tem largura de banda e latências variáveis e só é recomendado para cargas de trabalho de desenvolvimento e teste.</span><span class="sxs-lookup"><span data-stu-id="974b8-153">Standard Storage has varying latencies and bandwidth and is only recommended for dev/test workloads.</span></span> <span data-ttu-id="974b8-154">As cargas de trabalho de produção devem usar o Armazenamento Premium.</span><span class="sxs-lookup"><span data-stu-id="974b8-154">Production workloads should use Premium Storage.</span></span>

<span data-ttu-id="974b8-155">Além disso, recomendamos a criação de sua conta de armazenamento do Azure no mesmo data center que suas máquinas virtuais do SQL Server a fim de reduzir os atrasos de transferência.</span><span class="sxs-lookup"><span data-stu-id="974b8-155">In addition, we recommend that you create your Azure storage account in the same data center as your SQL Server virtual machines to reduce transfer delays.</span></span> <span data-ttu-id="974b8-156">Ao criar uma conta de armazenamento, desabilite a replicação geográfica, pois não há garantia para uma ordem de gravação consistente em vários discos.</span><span class="sxs-lookup"><span data-stu-id="974b8-156">When creating a storage account, disable geo-replication as consistent write order across multiple disks is not guaranteed.</span></span> <span data-ttu-id="974b8-157">Em vez disso, considere a configuração de uma tecnologia de recuperação de desastres do SQL Server entre dois data centers do Azure.</span><span class="sxs-lookup"><span data-stu-id="974b8-157">Instead, consider configuring a SQL Server disaster recovery technology between two Azure data centers.</span></span> <span data-ttu-id="974b8-158">Para saber mais, confira [Alta disponibilidade e recuperação de desastre para o SQL Server em Máquinas Virtuais do Azure](virtual-machines-windows-sql-high-availability-dr.md).</span><span class="sxs-lookup"><span data-stu-id="974b8-158">For more information, see [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span></span>

## <a name="disks-guidance"></a><span data-ttu-id="974b8-159">Diretrizes de discos</span><span class="sxs-lookup"><span data-stu-id="974b8-159">Disks guidance</span></span>

<span data-ttu-id="974b8-160">Há três tipos principais de discos em uma VM do Azure:</span><span class="sxs-lookup"><span data-stu-id="974b8-160">There are three main disk types on an Azure VM:</span></span>

* <span data-ttu-id="974b8-161">**Disco do SO**: quando você cria uma Máquina Virtual do Azure, a plataforma anexa pelo menos um disco (identificado como unidade **C**) à VM para o disco do seu sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="974b8-161">**OS disk**: When you create an Azure Virtual Machine, the platform will attach at least one disk (labeled as the **C** drive) to the VM for your operating system disk.</span></span> <span data-ttu-id="974b8-162">Cada disco é um VHD armazenado como um blob de páginas no armazenamento.</span><span class="sxs-lookup"><span data-stu-id="974b8-162">This disk is a VHD stored as a page blob in storage.</span></span>
* <span data-ttu-id="974b8-163">**Disco temporário**: Máquinas Virtuais do Azure contêm outro disco denominado disco temporário (identificado como a unidade **D**:).</span><span class="sxs-lookup"><span data-stu-id="974b8-163">**Temporary disk**: Azure Virtual Machines contain another disk called the temporary disk (labeled as the **D**: drive).</span></span> <span data-ttu-id="974b8-164">É um disco localizado no nó que pode ser usado como espaço de rascunho.</span><span class="sxs-lookup"><span data-stu-id="974b8-164">This is a disk on the node that can be used for scratch space.</span></span>
* <span data-ttu-id="974b8-165">**Discos de dados**: você também pode anexar outros discos à sua máquina virtual como discos de dados, e eles serão armazenados no armazenamento como blobs de páginas.</span><span class="sxs-lookup"><span data-stu-id="974b8-165">**Data disks**: You can also attach additional disks to your virtual machine as data disks, and these will be stored in storage as page blobs.</span></span>

<span data-ttu-id="974b8-166">As seções a seguir descrevem as recomendações para usar esses diferentes discos.</span><span class="sxs-lookup"><span data-stu-id="974b8-166">The following sections describe recommendations for using these different disks.</span></span>

### <a name="operating-system-disk"></a><span data-ttu-id="974b8-167">Disco do sistema operacional</span><span class="sxs-lookup"><span data-stu-id="974b8-167">Operating system disk</span></span>

<span data-ttu-id="974b8-168">Um disco do sistema operacional é um VHD que pode ser inicializado e montado como uma versão em execução de um sistema operacional e é rotulado como a unidade **C** .</span><span class="sxs-lookup"><span data-stu-id="974b8-168">An operating system disk is a VHD that you can boot and mount as a running version of an operating system and is labeled as **C** drive.</span></span>

<span data-ttu-id="974b8-169">A política padrão de caching no disco do sistema operacional é de **Leitura/Gravação**.</span><span class="sxs-lookup"><span data-stu-id="974b8-169">Default caching policy on the operating system disk is **Read/Write**.</span></span> <span data-ttu-id="974b8-170">Para aplicativos sensíveis ao desempenho, recomendamos o uso de discos de dados em vez do disco do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="974b8-170">For performance sensitive applications, we recommend that you use data disks instead of the operating system disk.</span></span> <span data-ttu-id="974b8-171">Consulte a seção sobre Discos de Dados abaixo.</span><span class="sxs-lookup"><span data-stu-id="974b8-171">See the section on Data Disks below.</span></span>

### <a name="temporary-disk"></a><span data-ttu-id="974b8-172">Disco temporário</span><span class="sxs-lookup"><span data-stu-id="974b8-172">Temporary disk</span></span>

<span data-ttu-id="974b8-173">A unidade de armazenamento temporário, rotulada como a unidade **D**:, não é mantida no armazenamento de blob do Azure.</span><span class="sxs-lookup"><span data-stu-id="974b8-173">The temporary storage drive, labeled as the **D**: drive, is not persisted to Azure blob storage.</span></span> <span data-ttu-id="974b8-174">Não armazene seus arquivos de banco de dados do usuário ou arquivos de log de transações do usuário na unidade **D**:.</span><span class="sxs-lookup"><span data-stu-id="974b8-174">Do not store your user database files or user transaction log files on the **D**: drive.</span></span>

<span data-ttu-id="974b8-175">Para VMs da série D, série Dv2 e série G, a unidade temporária dessas VMs é baseada em SSD.</span><span class="sxs-lookup"><span data-stu-id="974b8-175">For D-series, Dv2-series, and G-series VMs, the temporary drive on these VMs is SSD-based.</span></span> <span data-ttu-id="974b8-176">Se sua carga de trabalho faz uso intenso de TempDB (por exemplo, para objetos temporários ou junções complexas), armazenar o TempDB na unidade **D** pode resultar em maior produtividade e menor latência de TempDB.</span><span class="sxs-lookup"><span data-stu-id="974b8-176">If your workload makes heavy use of TempDB (e.g. for temporary objects or complex joins), storing TempDB on the **D** drive could result in higher TempDB throughput and lower TempDB latency.</span></span>

<span data-ttu-id="974b8-177">Para VMs que têm suporte para Armazenamento Premium (séries DS, DSv2 e GS), é recomendável armazenar o TempDB em um disco que dê suporte ao Armazenamento Premium com o cache de leitura habilitado.</span><span class="sxs-lookup"><span data-stu-id="974b8-177">For VMs that support Premium Storage (DS-series, DSv2-series, and GS-series), we recommend storing TempDB on a disk that supports Premium Storage with read caching enabled.</span></span> <span data-ttu-id="974b8-178">Há uma exceção a essa recomendação. Se o uso do TempDB apresenta gravação intensa, obtenha um melhor desempenho armazenando o TempDB na unidade local **D**, que é também baseada em SSD nesses tamanhos de computador.</span><span class="sxs-lookup"><span data-stu-id="974b8-178">There is one exception to this recommendation; if your TempDB usage is write-intensive, you can achieve higher performance by storing TempDB on the local **D** drive, which is also SSD-based on these machine sizes.</span></span>

### <a name="data-disks"></a><span data-ttu-id="974b8-179">Discos de dados</span><span class="sxs-lookup"><span data-stu-id="974b8-179">Data disks</span></span>

* <span data-ttu-id="974b8-180">**Usar discos de dados para arquivos de dados e de log**: no mínimo, use dois [discos P30](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) do Armazenamento Premium: um deles com os arquivos de log e o outro com os arquivos de dados e do TempDB.</span><span class="sxs-lookup"><span data-stu-id="974b8-180">**Use data disks for data and log files**: At a minimum, use 2 Premium Storage [P30 disks](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) where one disk contains the log file(s) and the other contains the data and TempDB file(s).</span></span> <span data-ttu-id="974b8-181">Cada disco do Armazenamento Premium fornece um número de IOPs e largura de banda (MB/s), dependendo de seu tamanho, conforme descrito neste artigo: [Usando o Armazenamento Premium para discos](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="974b8-181">Each Premium Storage disk provides a number of IOPs and bandwidth (MB/s) depending on its size, as described in the following article: [Using Premium Storage for Disks](../../../storage/common/storage-premium-storage.md).</span></span>

* <span data-ttu-id="974b8-182">**Distribuição de Discos**: para produtividade mais alta, você pode adicionar outros discos de dados e usar a Distribuição de Discos.</span><span class="sxs-lookup"><span data-stu-id="974b8-182">**Disk Striping**: For more throughput, you can add additional data disks and use Disk Striping.</span></span> <span data-ttu-id="974b8-183">Para determinar o número de discos de dados, você precisa analisar o número de IOPS e a largura de banda necessários para os arquivos de log e para os arquivos de dados e do TempDB.</span><span class="sxs-lookup"><span data-stu-id="974b8-183">To determine the number of data disks, you need to analyze the number of IOPS and bandwidth required for your log file(s), and for your data and TempDB file(s).</span></span> <span data-ttu-id="974b8-184">Observe que diferentes tamanhos de VM têm diferentes limites no número de IOPS e na largura de banda com suporte; consulte as tabelas sobre IOPS por [tamanho de VM](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="974b8-184">Notice that different VM sizes have different limits on the number of IOPs and bandwidth supported, see the tables on IOPS per [VM size](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span> <span data-ttu-id="974b8-185">Use as seguintes diretrizes:</span><span class="sxs-lookup"><span data-stu-id="974b8-185">Use the following guidelines:</span></span>

  * <span data-ttu-id="974b8-186">Para Windows 8/Windows Server 2012 ou posterior, use os [Espaços de Armazenamento](https://technet.microsoft.com/library/hh831739.aspx) com as seguintes diretrizes:</span><span class="sxs-lookup"><span data-stu-id="974b8-186">For Windows 8/Windows Server 2012 or later, use [Storage Spaces](https://technet.microsoft.com/library/hh831739.aspx) with the following guidelines:</span></span>

      1. <span data-ttu-id="974b8-187">Defina a intercalação (tamanho de faixa) como 64 KB (65536 bytes) para cargas de trabalho OLTP e 256 KB (262144 bytes) para cargas de trabalho de data warehouse, a fim de evitar o impacto no desempenho devido ao desalinhamento da partição.</span><span class="sxs-lookup"><span data-stu-id="974b8-187">Set the interleave (stripe size) to 64 KB (65536 bytes) for OLTP workloads and 256 KB (262144 bytes) for data warehousing workloads to avoid performance impact due to partition misalignment.</span></span> <span data-ttu-id="974b8-188">Isso deve ser definido com o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="974b8-188">This must be set with PowerShell.</span></span>
      1. <span data-ttu-id="974b8-189">Defina a contagem de colunas = número de discos físicos.</span><span class="sxs-lookup"><span data-stu-id="974b8-189">Set column count = number of physical disks.</span></span> <span data-ttu-id="974b8-190">Use o PowerShell ao configurar mais de 8 discos (não interface do usuário do Gerenciador do Servidor).</span><span class="sxs-lookup"><span data-stu-id="974b8-190">Use PowerShell when configuring more than 8 disks (not Server Manager UI).</span></span> 

    <span data-ttu-id="974b8-191">Por exemplo, o PowerShell a seguir cria um novo pool de armazenamento com o tamanho de intercalação de 64 KB e o número de colunas de 2:</span><span class="sxs-lookup"><span data-stu-id="974b8-191">For example, the following PowerShell creates a new storage pool with the interleave size to 64 KB and the number of columns to 2:</span></span>

    ```powershell
    $PoolCount = Get-PhysicalDisk -CanPool $True
    $PhysicalDisks = Get-PhysicalDisk | Where-Object {$_.FriendlyName -like "*2" -or $_.FriendlyName -like "*3"}

    New-StoragePool -FriendlyName "DataFiles" -StorageSubsystemFriendlyName "Storage Spaces*" -PhysicalDisks $PhysicalDisks | New-VirtualDisk -FriendlyName "DataFiles" -Interleave 65536 -NumberOfColumns 2 -ResiliencySettingName simple –UseMaximumSize |Initialize-Disk -PartitionStyle GPT -PassThru |New-Partition -AssignDriveLetter -UseMaximumSize |Format-Volume -FileSystem NTFS -NewFileSystemLabel "DataDisks" -AllocationUnitSize 65536 -Confirm:$false 
    ```

  * <span data-ttu-id="974b8-192">Para o Windows 2008 R2 ou anterior, é possível usar discos dinâmicos (volumes de SO distribuídos) e o tamanho da faixa será sempre 64 KB.</span><span class="sxs-lookup"><span data-stu-id="974b8-192">For Windows 2008 R2 or earlier, you can use dynamic disks (OS striped volumes) and the stripe size is always 64 KB.</span></span> <span data-ttu-id="974b8-193">Observe que essa opção tornou-se obsoleta no Windows 8/Windows Server 2012.</span><span class="sxs-lookup"><span data-stu-id="974b8-193">Note that this option is deprecated as of Windows 8/Windows Server 2012.</span></span> <span data-ttu-id="974b8-194">Para obter informações, veja a declaração de suporte em [O Serviço de Disco Virtual está em transição para a API de Gerenciamento de Armazenamento do Windows](https://msdn.microsoft.com/library/windows/desktop/hh848071.aspx).</span><span class="sxs-lookup"><span data-stu-id="974b8-194">For information, see the support statement at [Virtual Disk Service is transitioning to Windows Storage Management API](https://msdn.microsoft.com/library/windows/desktop/hh848071.aspx).</span></span>

  * <span data-ttu-id="974b8-195">Se sua carga de trabalho não utilizar muito o log e não precisar de um IPS dedicado, você poderá configurar apenas um pool de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="974b8-195">If your workload is not log intensive and does not need dedicated IOPs, you can configure just one storage pool.</span></span> <span data-ttu-id="974b8-196">Caso contrário, crie dois pools de armazenamento, um para os arquivos de log e outro para os arquivos de dados e o TempDB.</span><span class="sxs-lookup"><span data-stu-id="974b8-196">Otherwise, create two storage pools, one for the log file(s) and another storage pool for the data file(s) and TempDB.</span></span> <span data-ttu-id="974b8-197">Determine o número de discos associados a cada pool de armazenamento com base em suas expectativas de carga.</span><span class="sxs-lookup"><span data-stu-id="974b8-197">Determine the number of disks associated with each storage pool based on your load expectations.</span></span> <span data-ttu-id="974b8-198">Tenha em mente que tamanhos de VM diferentes permitem quantidades diferentes de discos de dados anexados.</span><span class="sxs-lookup"><span data-stu-id="974b8-198">Keep in mind that different VM sizes allow different numbers of attached data disks.</span></span> <span data-ttu-id="974b8-199">Para obter mais informações, confira [Tamanhos das Máquinas Virtuais](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="974b8-199">For more information, see [Sizes for Virtual Machines](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

  * <span data-ttu-id="974b8-200">Se você não estiver usando o Armazenamento Premium (cenários de desenvolvimento/teste), a recomendação será adicionar o número máximo de discos de dados com suporte pelo [Tamanho da VM](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) e usar a Distribuição de Discos.</span><span class="sxs-lookup"><span data-stu-id="974b8-200">If you are not using Premium Storage (dev/test scenarios), the recommendation is to add the maximum number of data disks supported by your [VM size](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) and use Disk Striping.</span></span>

* <span data-ttu-id="974b8-201">**Política de cache**: para discos de dados de Armazenamento Premium, habilite o cache de leitura nos discos de dados que hospedam os arquivos de dados e o TempDB.</span><span class="sxs-lookup"><span data-stu-id="974b8-201">**Caching policy**: For Premium Storage data disks, enable read caching on the data disks hosting your data files and TempDB only.</span></span> <span data-ttu-id="974b8-202">Se você não estiver usando o Armazenamento Premium, não habilite o caching em discos de dados.</span><span class="sxs-lookup"><span data-stu-id="974b8-202">If you are not using Premium Storage, do not enable any caching on any data disks.</span></span> <span data-ttu-id="974b8-203">Para obter instruções sobre como configurar o caching de disco, confira os seguintes tópicos: [Set-AzureOSDisk](https://msdn.microsoft.com/library/azure/jj152847) e [Set-AzureDataDisk](https://msdn.microsoft.com/library/azure/jj152851.aspx).</span><span class="sxs-lookup"><span data-stu-id="974b8-203">For instructions on configuring disk caching, see the following topics: [Set-AzureOSDisk](https://msdn.microsoft.com/library/azure/jj152847) and [Set-AzureDataDisk](https://msdn.microsoft.com/library/azure/jj152851.aspx).</span></span>

  > [!WARNING]
  > <span data-ttu-id="974b8-204">Interrompa o serviço SQL Server ao alterar a configuração do cache dos discos da VM do Azure a fim de evitar a possibilidade de corrupção do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="974b8-204">Stop the SQL Server service when changing the cache setting of Azure VM disks to avoid the possibility of any database corruption.</span></span>

* <span data-ttu-id="974b8-205">**Tamanho de unidade de alocação de NTFS**: ao formatar o disco de dados, recomendamos o uso de um tamanho de unidade de alocação de 64 KB para arquivos de dados e de log e também para o TempDB.</span><span class="sxs-lookup"><span data-stu-id="974b8-205">**NTFS allocation unit size**: When formatting the data disk, it is recommended that you use a 64-KB allocation unit size for data and log files as well as TempDB.</span></span>

* <span data-ttu-id="974b8-206">**Práticas recomendadas de gerenciamento de disco**: ao remover um disco de dados ou alterar seu tipo de cache, interrompa o serviço SQL Server durante a alteração.</span><span class="sxs-lookup"><span data-stu-id="974b8-206">**Disk management best practices**: When removing a data disk or changing its cache type, stop the SQL Server service during the change.</span></span> <span data-ttu-id="974b8-207">Quando as configurações do cache são alteradas no disco do SO, o Azure interrompe a VM, altera o tipo de cache e reinicia a VM.</span><span class="sxs-lookup"><span data-stu-id="974b8-207">When the caching settings are changed on the OS disk, Azure stops the VM, changes the cache type, and restarts the VM.</span></span> <span data-ttu-id="974b8-208">Quando as configurações do cache de um disco de dados são alteradas, a VM não é interrompida, mas o disco de dados é desanexado da VM durante a mudança e depois reanexado.</span><span class="sxs-lookup"><span data-stu-id="974b8-208">When the cache settings of a data disk are changed, the VM is not stopped, but the data disk is detached from the VM during the change and then reattached.</span></span>

  > [!WARNING]
  > <span data-ttu-id="974b8-209">A não interrupção do serviço SQL Server durante essas operações pode causar corrupção no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="974b8-209">Failure to stop the SQL Server service during these operations can cause database corruption.</span></span>

## <a name="io-guidance"></a><span data-ttu-id="974b8-210">Diretrizes de E/S</span><span class="sxs-lookup"><span data-stu-id="974b8-210">I/O guidance</span></span>

* <span data-ttu-id="974b8-211">Os melhores resultados com o Armazenamento Premium são obtidos ao paralelizar seu aplicativo e as solicitações.</span><span class="sxs-lookup"><span data-stu-id="974b8-211">The best results with Premium Storage are achieved when you parallelize your application and requests.</span></span> <span data-ttu-id="974b8-212">O Armazenamento Premium foi projetado para cenários nos quais a profundidade da fila de E/S é maior do que um. Portanto, você verá pouco ou nenhum ganho de desempenho para solicitações em série de segmento único (mesmo se usarem muito armazenamento).</span><span class="sxs-lookup"><span data-stu-id="974b8-212">Premium Storage is designed for scenarios where the IO queue depth is greater than 1, so you will see little or no performance gains for single-threaded serial requests (even if they are storage intensive).</span></span> <span data-ttu-id="974b8-213">Por exemplo, isso pode afetar os resultados do teste de segmento único de ferramentas de análise de desempenho, por exemplo, o SQLIO.</span><span class="sxs-lookup"><span data-stu-id="974b8-213">For example, this could impact the single-threaded test results of performance analysis tools, such as SQLIO.</span></span>

* <span data-ttu-id="974b8-214">Considere o uso da [compactação de página do banco de dados](https://msdn.microsoft.com/library/cc280449.aspx) , pois isso pode ajudar a melhorar o desempenho de cargas de trabalho com uso intenso de E/S.</span><span class="sxs-lookup"><span data-stu-id="974b8-214">Consider using [database page compression](https://msdn.microsoft.com/library/cc280449.aspx) as it can help improve performance of I/O intensive workloads.</span></span> <span data-ttu-id="974b8-215">No entanto, a compactação de dados pode aumentar o consumo de CPU no servidor de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="974b8-215">However, the data compression might increase the CPU consumption on the database server.</span></span>

* <span data-ttu-id="974b8-216">Considere a habilitação da inicialização instantânea de arquivo a fim de reduzir o tempo necessário para alocação inicial do arquivo.</span><span class="sxs-lookup"><span data-stu-id="974b8-216">Consider enabling instant file initialization to reduce the time that is required for initial file allocation.</span></span> <span data-ttu-id="974b8-217">Para aproveitar a inicialização instantânea de arquivo, conceda a SE_MANAGE_VOLUME_NAME à conta de serviço do SQL Server (MSSQLSERVER) e adicione-a à política de segurança **Executar Tarefas de Manutenção de Volume**.</span><span class="sxs-lookup"><span data-stu-id="974b8-217">To take advantage of instant file initialization, you grant the SQL Server (MSSQLSERVER) service account with SE_MANAGE_VOLUME_NAME and add it to the **Perform Volume Maintenance Tasks** security policy.</span></span> <span data-ttu-id="974b8-218">Se você estiver usando uma imagem da plataforma do SQL Server para o Azure, a conta de serviço padrão (NT Service\MSSQLSERVER) não será adicionada à política de segurança **Executar Tarefas de Manutenção de volume**.</span><span class="sxs-lookup"><span data-stu-id="974b8-218">If you are using a SQL Server platform image for Azure, the default service account (NT Service\MSSQLSERVER) isn’t added to the **Perform Volume Maintenance Tasks** security policy.</span></span> <span data-ttu-id="974b8-219">Em outras palavras, a inicialização instantânea de arquivo não está habilitada em uma imagem de plataforma do SQL Server do Azure.</span><span class="sxs-lookup"><span data-stu-id="974b8-219">In other words, instant file initialization is not enabled in a SQL Server Azure platform image.</span></span> <span data-ttu-id="974b8-220">Depois de adicionar a conta de serviço do SQL Server à política de segurança **Executar Tarefas de Manutenção de Volume** , reinicie o serviço do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="974b8-220">After adding the SQL Server service account to the **Perform Volume Maintenance Tasks** security policy, restart the SQL Server service.</span></span> <span data-ttu-id="974b8-221">Talvez existam considerações de segurança sobre a utilização desse recurso.</span><span class="sxs-lookup"><span data-stu-id="974b8-221">There could be security considerations for using this feature.</span></span> <span data-ttu-id="974b8-222">Para obter mais informações, consulte [Inicialização de Arquivo de Banco de Dados](https://msdn.microsoft.com/library/ms175935.aspx).</span><span class="sxs-lookup"><span data-stu-id="974b8-222">For more information, see [Database File Initialization](https://msdn.microsoft.com/library/ms175935.aspx).</span></span>

* <span data-ttu-id="974b8-223">**aumento automático** é considerado meramente uma contingência para o aumento inesperado.</span><span class="sxs-lookup"><span data-stu-id="974b8-223">**autogrow** is considered to be merely a contingency for unexpected growth.</span></span> <span data-ttu-id="974b8-224">Não gerencie diariamente o crescimento de seus dados e do log com o crescimento automático.</span><span class="sxs-lookup"><span data-stu-id="974b8-224">Do not manage your data and log growth on a day-to-day basis with autogrow.</span></span> <span data-ttu-id="974b8-225">Se o crescimento automático for usado, aumente previamente o arquivo usando a opção Tamanho.</span><span class="sxs-lookup"><span data-stu-id="974b8-225">If autogrow is used, pre-grow the file using the Size switch.</span></span>

* <span data-ttu-id="974b8-226">Verifique se a **redução automática** está desabilitada a fim de evitar uma sobrecarga desnecessária que pode afetar negativamente o desempenho.</span><span class="sxs-lookup"><span data-stu-id="974b8-226">Make sure **autoshrink** is disabled to avoid unnecessary overhead that can negatively affect performance.</span></span>

* <span data-ttu-id="974b8-227">Mova todos os bancos de dados para discos de dados, incluindo bancos de dados do sistema.</span><span class="sxs-lookup"><span data-stu-id="974b8-227">Move all databases to data disks, including system databases.</span></span> <span data-ttu-id="974b8-228">Para saber mais, confira [Mover bancos de dados do sistema](https://msdn.microsoft.com/library/ms345408.aspx).</span><span class="sxs-lookup"><span data-stu-id="974b8-228">For more information, see [Move System Databases](https://msdn.microsoft.com/library/ms345408.aspx).</span></span>

* <span data-ttu-id="974b8-229">Mova o log de erros do SQL Server e os diretórios de arquivos de rastreamento para discos de dados</span><span class="sxs-lookup"><span data-stu-id="974b8-229">Move SQL Server error log and trace file directories to data disks.</span></span> <span data-ttu-id="974b8-230">Isso pode ser feito no SQL Server Configuration Manager clicando duas vezes na Instância do SQL Server e selecionando Propriedades.</span><span class="sxs-lookup"><span data-stu-id="974b8-230">This can be done in SQL Server Configuration Manager by right-clicking your SQL Server instance and selecting properties.</span></span> <span data-ttu-id="974b8-231">As configurações do arquivo de rastreamento e do log de erros podem ser alteradas na guia **Parâmetros de Inicialização**. O Diretório de Despejo é especificado na guia **Avançado**. A captura de tela a seguir mostra onde procurar o parâmetro de inicialização do log de erro.</span><span class="sxs-lookup"><span data-stu-id="974b8-231">The error log and trace file settings can be changed in the **Startup Parameters** tab. The Dump Directory is specified in the **Advanced** tab. The following screenshot shows where to look for the error log startup parameter.</span></span>

    ![Captura de Tela de Log de Erros do SQL](./media/virtual-machines-windows-sql-performance/sql_server_error_log_location.png)

* <span data-ttu-id="974b8-233">Configure os locais do arquivo de banco de dados e backup padrão.</span><span class="sxs-lookup"><span data-stu-id="974b8-233">Setup default backup and database file locations.</span></span> <span data-ttu-id="974b8-234">Use as recomendações neste tópico e faça as alterações na janela de propriedades do servidor.</span><span class="sxs-lookup"><span data-stu-id="974b8-234">Use the recommendations in this topic, and make the changes in the Server properties window.</span></span> <span data-ttu-id="974b8-235">Para obter instruções, confira [Exibir ou alterar os locais padrão de arquivos de log e de dados (SQL Server Management Studio)](https://msdn.microsoft.com/library/dd206993.aspx).</span><span class="sxs-lookup"><span data-stu-id="974b8-235">For instructions, see [View or Change the Default Locations for Data and Log Files (SQL Server Management Studio)](https://msdn.microsoft.com/library/dd206993.aspx).</span></span> <span data-ttu-id="974b8-236">A captura de tela a seguir demonstra onde fazer essas alterações.</span><span class="sxs-lookup"><span data-stu-id="974b8-236">The following screenshot demonstrates where to make these changes.</span></span>

    ![Log de Dados de SQL e Arquivos de Backup](./media/virtual-machines-windows-sql-performance/sql_server_default_data_log_backup_locations.png)
* <span data-ttu-id="974b8-238">Estabeleça páginas bloqueadas a fim de reduzir a ES e quaisquer atividades de paginação.</span><span class="sxs-lookup"><span data-stu-id="974b8-238">Enable locked pages to reduce IO and any paging activities.</span></span> <span data-ttu-id="974b8-239">Para saber mais, confira [Habilitar a opção Bloquear Páginas na Memória (Windows)](https://msdn.microsoft.com/library/ms190730.aspx).</span><span class="sxs-lookup"><span data-stu-id="974b8-239">For more information, see [Enable the Lock Pages in Memory Option (Windows)](https://msdn.microsoft.com/library/ms190730.aspx).</span></span>

* <span data-ttu-id="974b8-240">Se você estiver executando o SQL Server 2012, instale a Atualização Cumulativa 10 do Service Pack 1.</span><span class="sxs-lookup"><span data-stu-id="974b8-240">If you are running SQL Server 2012, install Service Pack 1 Cumulative Update 10.</span></span> <span data-ttu-id="974b8-241">Essa atualização contém a correção para o desempenho ruim de E/S ao executar a instrução seleção na tabela temporária no SQL Server 2012.</span><span class="sxs-lookup"><span data-stu-id="974b8-241">This update contains the fix for poor performance on I/O when you execute select into temporary table statement in SQL Server 2012.</span></span> <span data-ttu-id="974b8-242">Para obter informações, consulte este [artigo da base de dados de conhecimento](http://support.microsoft.com/kb/2958012).</span><span class="sxs-lookup"><span data-stu-id="974b8-242">For information, see this [knowledge base article](http://support.microsoft.com/kb/2958012).</span></span>

* <span data-ttu-id="974b8-243">Considere a compactação de qualquer arquivo de dados durante a transferência de entrada/saída do Azure.</span><span class="sxs-lookup"><span data-stu-id="974b8-243">Consider compressing any data files when transferring in/out of Azure.</span></span>

## <a name="feature-specific-guidance"></a><span data-ttu-id="974b8-244">Diretrizes específicas do recurso</span><span class="sxs-lookup"><span data-stu-id="974b8-244">Feature specific guidance</span></span>

<span data-ttu-id="974b8-245">Algumas implantações podem obter outros benefícios de desempenho usando técnicas mais avançadas de configuração.</span><span class="sxs-lookup"><span data-stu-id="974b8-245">Some deployments may achieve additional performance benefits using more advanced configuration techniques.</span></span> <span data-ttu-id="974b8-246">A lista a seguir destaca alguns recursos do SQL Server que podem ajudá-lo a obter um desempenho maior:</span><span class="sxs-lookup"><span data-stu-id="974b8-246">The following list highlights some SQL Server features that can help you to achieve better performance:</span></span>

* <span data-ttu-id="974b8-247">**Backup no armazenamento do Azure**: ao realizar backups do SQL Server em execução em máquinas virtuais do Azure, você poderá usar [Backup do SQL Server para URL](https://msdn.microsoft.com/library/dn435916.aspx).</span><span class="sxs-lookup"><span data-stu-id="974b8-247">**Backup to Azure storage**: When performing backups for SQL Server running in Azure virtual machines, you can use [SQL Server Backup to URL](https://msdn.microsoft.com/library/dn435916.aspx).</span></span> <span data-ttu-id="974b8-248">Esse recurso foi disponibilizado a partir do SQL Server 2012 SP1 CU2 e é recomendado para fazer o backup em discos de dados anexados.</span><span class="sxs-lookup"><span data-stu-id="974b8-248">This feature is available starting with SQL Server 2012 SP1 CU2 and recommended for backing up to the attached data disks.</span></span> <span data-ttu-id="974b8-249">Quando fizer backup ou restaurar de/para o armazenamento do Azure, siga as recomendações fornecidas em [Práticas Recomendadas de Backup do SQL Server para URL e Solução de Problemas e Restauração de Backups Armazenados no Armazenamento do Azure](https://msdn.microsoft.com/library/jj919149.aspx).</span><span class="sxs-lookup"><span data-stu-id="974b8-249">When you backup/restore to/from Azure storage, follow the recommendations provided at [SQL Server Backup to URL Best Practices and Troubleshooting and Restoring from Backups Stored in Azure Storage](https://msdn.microsoft.com/library/jj919149.aspx).</span></span> <span data-ttu-id="974b8-250">Você também pode automatizar esses backups usando o [Backup Automatizado para o SQL Server em Máquinas Virtuais do Azure](virtual-machines-windows-sql-automated-backup.md).</span><span class="sxs-lookup"><span data-stu-id="974b8-250">You can also automate these backups using [Automated Backup for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-backup.md).</span></span>

    <span data-ttu-id="974b8-251">Antes do SQL Server 2012, use a [Ferramenta de backup do SQL Server para o Azure](https://www.microsoft.com/download/details.aspx?id=40740).</span><span class="sxs-lookup"><span data-stu-id="974b8-251">Prior to SQL Server 2012, you can use [SQL Server Backup to Azure Tool](https://www.microsoft.com/download/details.aspx?id=40740).</span></span> <span data-ttu-id="974b8-252">Essa ferramenta pode ajudar a aumentar a taxa de transferência do backup utilizando vários alvos de distribuição de backup.</span><span class="sxs-lookup"><span data-stu-id="974b8-252">This tool can help to increase backup throughput using multiple backup stripe targets.</span></span>

* <span data-ttu-id="974b8-253">**Arquivos de dados do SQL Server no Azure**: este recurso novo, [Arquivos de dados do SQL Server no Azure](https://msdn.microsoft.com/library/dn385720.aspx), está disponível desde o SQL Server 2014.</span><span class="sxs-lookup"><span data-stu-id="974b8-253">**SQL Server Data Files in Azure**: This new feature, [SQL Server Data Files in Azure](https://msdn.microsoft.com/library/dn385720.aspx), is available starting with SQL Server 2014.</span></span> <span data-ttu-id="974b8-254">A execução do SQL Server com os arquivos de dados no Azure demonstra características de desempenho comparáveis as dos discos de dados do Azure.</span><span class="sxs-lookup"><span data-stu-id="974b8-254">Running SQL Server with data files in Azure demonstrates comparable performance characteristics as using Azure data disks.</span></span>

## <a name="next-steps"></a><span data-ttu-id="974b8-255">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="974b8-255">Next Steps</span></span>

<span data-ttu-id="974b8-256">Para conferir as práticas recomendadas de segurança, consulte [Considerações sobre segurança para o SQL Server em Máquinas Virtuais do Azure](virtual-machines-windows-sql-security.md).</span><span class="sxs-lookup"><span data-stu-id="974b8-256">For security best practices, see [Security Considerations for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-security.md).</span></span>

<span data-ttu-id="974b8-257">Examine outros tópicos sobre Máquinas Virtuais do SQL Server em [Visão geral do SQL Server nas Máquinas Virtuais do Azure](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="974b8-257">Review other SQL Server Virtual Machine topics at [SQL Server on Azure Virtual Machines Overview](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>
