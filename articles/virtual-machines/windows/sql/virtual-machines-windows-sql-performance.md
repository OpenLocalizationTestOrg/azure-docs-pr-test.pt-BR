---
title: "aaaPerformance práticas recomendadas para o SQL Server no Azure | Microsoft Docs"
description: "Fornece as práticas recomendadas para aprimoramento do desempenho do SQL Server em VMs do Microsoft Azure."
services: virtual-machines-windows
documentationcenter: na
author: rothja
manager: jhubbard
editor: 
tags: azure-service-management
ms.assetid: a0c85092-2113-4982-b73a-4e80160bac36
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 06/27/2017
ms.author: jroth
ms.openlocfilehash: 42ec9fbeb2dec3a654b93bbd08d666369835ee73
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="performance-best-practices-for-sql-server-in-azure-virtual-machines"></a><span data-ttu-id="1cdfe-103">Práticas recomendadas relacionadas ao desempenho para o SQL Server em máquinas virtuais do Azure</span><span class="sxs-lookup"><span data-stu-id="1cdfe-103">Performance best practices for SQL Server in Azure Virtual Machines</span></span>

## <a name="overview"></a><span data-ttu-id="1cdfe-104">Visão geral</span><span class="sxs-lookup"><span data-stu-id="1cdfe-104">Overview</span></span>

<span data-ttu-id="1cdfe-105">Este tópico fornece as práticas recomendadas para otimização do desempenho do SQL Server na Máquina Virtual do Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-105">This topic provides best practices for optimizing SQL Server performance in Microsoft Azure Virtual Machine.</span></span> <span data-ttu-id="1cdfe-106">Durante a execução do SQL Server em máquinas virtuais do Azure, recomendamos que você continue usando Olá as mesmas opções que são aplicável tooSQL Server no ambiente de servidor de local de ajuste de desempenho do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-106">While running SQL Server in Azure Virtual Machines, we recommend that you continue using hello same database performance tuning options that are applicable tooSQL Server in on-premises server environment.</span></span> <span data-ttu-id="1cdfe-107">No entanto, desempenho de saudação do banco de dados relacional em uma nuvem pública depende de muitos fatores, como tamanho de saudação de uma máquina virtual e a configuração de Olá Olá de discos de dados.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-107">However, hello performance of a relational database in a public cloud depends on many factors such as hello size of a virtual machine, and hello configuration of hello data disks.</span></span>

<span data-ttu-id="1cdfe-108">Ao criar imagens do SQL Server, [considere provisionamento suas VMs no portal do Azure de saudação](virtual-machines-windows-portal-sql-server-provision.md).</span><span class="sxs-lookup"><span data-stu-id="1cdfe-108">When creating SQL Server images, [consider provisioning your VMs in hello Azure portal](virtual-machines-windows-portal-sql-server-provision.md).</span></span> <span data-ttu-id="1cdfe-109">Provisionado no hello Portal com o Gerenciador de recursos de VMs do SQL Server implementa todas essas práticas recomendadas, incluindo a configuração de armazenamento de saudação.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-109">SQL Server VMs provisioned in hello Portal with Resource Manager implement all these best practices, including hello storage configuration.</span></span>

<span data-ttu-id="1cdfe-110">Este artigo destina-se em obter Olá *melhor* desempenho para o SQL Server em VMs do Azure.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-110">This article is focused on getting hello *best* performance for SQL Server on Azure VMs.</span></span> <span data-ttu-id="1cdfe-111">Se sua carga de trabalho for menos exigente, talvez você não precise de todos os aprimoramentos relacionados abaixo.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-111">If your workload is less demanding, you might not require every optimization listed below.</span></span> <span data-ttu-id="1cdfe-112">Considere suas necessidades de desempenho e padrões de carga de trabalho ao avaliar essas recomendações.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-112">Consider your performance needs and workload patterns as you evaluate these recommendations.</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="quick-check-list"></a><span data-ttu-id="1cdfe-113">Lista de verificação rápida</span><span class="sxs-lookup"><span data-stu-id="1cdfe-113">Quick check list</span></span>

<span data-ttu-id="1cdfe-114">a seguir Olá é uma lista de verificação rápida para otimizar o desempenho do SQL Server em máquinas virtuais do Azure:</span><span class="sxs-lookup"><span data-stu-id="1cdfe-114">hello following is a quick check list for optimal performance of SQL Server on Azure Virtual Machines:</span></span>

| <span data-ttu-id="1cdfe-115">Área</span><span class="sxs-lookup"><span data-stu-id="1cdfe-115">Area</span></span> | <span data-ttu-id="1cdfe-116">Otimizações</span><span class="sxs-lookup"><span data-stu-id="1cdfe-116">Optimizations</span></span> |
| --- | --- |
| [<span data-ttu-id="1cdfe-117">Tamanho da VM</span><span class="sxs-lookup"><span data-stu-id="1cdfe-117">VM size</span></span>](#vm-size-guidance) |<span data-ttu-id="1cdfe-118">[DS3](../../virtual-machines-windows-sizes-memory.md) ou superior para o SQL Enterprise Edition.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-118">[DS3](../../virtual-machines-windows-sizes-memory.md) or higher for SQL Enterprise edition.</span></span><br/><br/><span data-ttu-id="1cdfe-119">[DS2](../../virtual-machines-windows-sizes-memory.md) ou superior para os SQL Standard e Web Editions.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-119">[DS2](../../virtual-machines-windows-sizes-memory.md) or higher for SQL Standard and Web editions.</span></span> |
| [<span data-ttu-id="1cdfe-120">Armazenamento</span><span class="sxs-lookup"><span data-stu-id="1cdfe-120">Storage</span></span>](#storage-guidance) |<span data-ttu-id="1cdfe-121">Use o [Armazenamento Premium](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="1cdfe-121">Use [Premium Storage](../../../storage/common/storage-premium-storage.md).</span></span> <span data-ttu-id="1cdfe-122">O armazenamento padrão é recomendado somente para desenvolvimento/teste.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-122">Standard storage is only recommended for dev/test.</span></span><br/><br/><span data-ttu-id="1cdfe-123">Lembre-Olá [conta de armazenamento](../../../storage/common/storage-create-storage-account.md) e VM do SQL Server no hello mesma região.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-123">Keep hello [storage account](../../../storage/common/storage-create-storage-account.md) and SQL Server VM in hello same region.</span></span><br/><br/><span data-ttu-id="1cdfe-124">Desabilitar o Azure [armazenamento com redundância geográfica](../../../storage/common/storage-redundancy.md) (replicação geográfica) na conta de armazenamento hello.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-124">Disable Azure [geo-redundant storage](../../../storage/common/storage-redundancy.md) (geo-replication) on hello storage account.</span></span> |
| [<span data-ttu-id="1cdfe-125">Discos</span><span class="sxs-lookup"><span data-stu-id="1cdfe-125">Disks</span></span>](#disks-guidance) |<span data-ttu-id="1cdfe-126">Usar no mínimo dois [discos P30](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) (um para arquivos de log; um para arquivos de dados e o TempDB).</span><span class="sxs-lookup"><span data-stu-id="1cdfe-126">Use a minimum of 2 [P30 disks](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) (1 for log files; 1 for data files and TempDB).</span></span><br/><br/><span data-ttu-id="1cdfe-127">Evite usar o sistema operacional ou discos temporários para armazenamento de banco de dados ou registro em log.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-127">Avoid using operating system or temporary disks for database storage or logging.</span></span><br/><br/><span data-ttu-id="1cdfe-128">Habilite o cache de leitura em discos Olá hospeda os arquivos de dados hello e TempDB.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-128">Enable read caching on hello disk(s) hosting hello data files and TempDB.</span></span><br/><br/><span data-ttu-id="1cdfe-129">Não habilite o cache em discos que hospeda o arquivo de log de saudação.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-129">Do not enable caching on disk(s) hosting hello log file.</span></span><br/><br/><span data-ttu-id="1cdfe-130">Importante: Parar serviço de SQL Server Olá ao alterar as configurações de cache de saudação de um disco de VM do Azure.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-130">Important: Stop hello SQL Server service when changing hello cache settings for an Azure VM disk.</span></span><br/><br/><span data-ttu-id="1cdfe-131">Distribua vários rendimento de IO do tooget aumentado discos de dados do Azure.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-131">Stripe multiple Azure data disks tooget increased IO throughput.</span></span><br/><br/><span data-ttu-id="1cdfe-132">Formate com os tamanhos de alocação documentados.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-132">Format with documented allocation sizes.</span></span> |
| [<span data-ttu-id="1cdfe-133">E/S</span><span class="sxs-lookup"><span data-stu-id="1cdfe-133">I/O</span></span>](#io-guidance) |<span data-ttu-id="1cdfe-134">Habilite a compactação de página do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-134">Enable database page compression.</span></span><br/><br/><span data-ttu-id="1cdfe-135">Habilite a inicialização instantânea de arquivos para arquivos de dados.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-135">Enable instant file initialization for data files.</span></span><br/><br/><span data-ttu-id="1cdfe-136">Limitar ou desabilitar o crescimento automático no banco de dados de saudação.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-136">Limit or disable autogrow on hello database.</span></span><br/><br/><span data-ttu-id="1cdfe-137">Desabilite a redução automática no banco de dados de saudação.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-137">Disable autoshrink on hello database.</span></span><br/><br/><span data-ttu-id="1cdfe-138">Mova todos os discos de toodata de bancos de dados, incluindo bancos de dados do sistema.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-138">Move all databases toodata disks, including system databases.</span></span><br/><br/><span data-ttu-id="1cdfe-139">Mova do SQL Server erro log e rastreamento diretórios toodata discos de arquivo.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-139">Move SQL Server error log and trace file directories toodata disks.</span></span><br/><br/><span data-ttu-id="1cdfe-140">Configure os locais do arquivo de banco de dados e backup padrão.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-140">Setup default backup and database file locations.</span></span><br/><br/><span data-ttu-id="1cdfe-141">Habilite as páginas bloqueadas.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-141">Enable locked pages.</span></span><br/><br/><span data-ttu-id="1cdfe-142">Aplique correções de desempenho do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-142">Apply SQL Server performance fixes.</span></span> |
| [<span data-ttu-id="1cdfe-143">Específico do recurso</span><span class="sxs-lookup"><span data-stu-id="1cdfe-143">Feature specific</span></span>](#feature-specific-guidance) |<span data-ttu-id="1cdfe-144">Fazer backup diretamente tooblob armazenamento.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-144">Back up directly tooblob storage.</span></span> |

<span data-ttu-id="1cdfe-145">Para obter mais informações sobre *como* e *por* toomake dessas otimizações, examine os detalhes de saudação e orientações fornecidas nas seções a seguir.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-145">For more information on *how* and *why* toomake these optimizations, please review hello details and guidance provided in following sections.</span></span>

## <a name="vm-size-guidance"></a><span data-ttu-id="1cdfe-146">Diretrizes de tamanho de VM</span><span class="sxs-lookup"><span data-stu-id="1cdfe-146">VM size guidance</span></span>

<span data-ttu-id="1cdfe-147">Para aplicativos sensíveis ao desempenho, é recomendável que você use o seguinte Olá [tamanhos de máquinas virtuais](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json):</span><span class="sxs-lookup"><span data-stu-id="1cdfe-147">For performance sensitive applications, it’s recommended that you use hello following [virtual machines sizes](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json):</span></span>

* <span data-ttu-id="1cdfe-148">**SQL Server Enterprise Edition**: DS3 ou superior</span><span class="sxs-lookup"><span data-stu-id="1cdfe-148">**SQL Server Enterprise Edition**: DS3 or higher</span></span>
* <span data-ttu-id="1cdfe-149">**SQL Server Standard e Web Editions**: DS2 ou superior</span><span class="sxs-lookup"><span data-stu-id="1cdfe-149">**SQL Server Standard and Web Editions**: DS2 or higher</span></span>

## <a name="storage-guidance"></a><span data-ttu-id="1cdfe-150">Orientação de armazenamento</span><span class="sxs-lookup"><span data-stu-id="1cdfe-150">Storage guidance</span></span>

<span data-ttu-id="1cdfe-151">As VMs da série DS (com as séries DSv2 e GS) dão suporte ao [Armazenamento Premium](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="1cdfe-151">DS-series (along with DSv2-series and GS-series) VMs support [Premium Storage](../../../storage/common/storage-premium-storage.md).</span></span> <span data-ttu-id="1cdfe-152">O Armazenamento Premium é recomendado para todas as cargas de trabalho de produção.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-152">Premium Storage is recommended for all production workloads.</span></span>

> [!WARNING]
> <span data-ttu-id="1cdfe-153">O Armazenamento Standard tem largura de banda e latências variáveis e só é recomendado para cargas de trabalho de desenvolvimento e teste.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-153">Standard Storage has varying latencies and bandwidth and is only recommended for dev/test workloads.</span></span> <span data-ttu-id="1cdfe-154">As cargas de trabalho de produção devem usar o Armazenamento Premium.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-154">Production workloads should use Premium Storage.</span></span>

<span data-ttu-id="1cdfe-155">Além disso, é recomendável que você crie sua conta de armazenamento do Azure no hello mesmo data center que seu atrasos de transferência de tooreduce de máquinas virtuais do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-155">In addition, we recommend that you create your Azure storage account in hello same data center as your SQL Server virtual machines tooreduce transfer delays.</span></span> <span data-ttu-id="1cdfe-156">Ao criar uma conta de armazenamento, desabilite a replicação geográfica, pois não há garantia para uma ordem de gravação consistente em vários discos.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-156">When creating a storage account, disable geo-replication as consistent write order across multiple disks is not guaranteed.</span></span> <span data-ttu-id="1cdfe-157">Em vez disso, considere a configuração de uma tecnologia de recuperação de desastres do SQL Server entre dois data centers do Azure.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-157">Instead, consider configuring a SQL Server disaster recovery technology between two Azure data centers.</span></span> <span data-ttu-id="1cdfe-158">Para saber mais, confira [Alta disponibilidade e recuperação de desastre para o SQL Server em Máquinas Virtuais do Azure](virtual-machines-windows-sql-high-availability-dr.md).</span><span class="sxs-lookup"><span data-stu-id="1cdfe-158">For more information, see [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span></span>

## <a name="disks-guidance"></a><span data-ttu-id="1cdfe-159">Diretrizes de discos</span><span class="sxs-lookup"><span data-stu-id="1cdfe-159">Disks guidance</span></span>

<span data-ttu-id="1cdfe-160">Há três tipos principais de discos em uma VM do Azure:</span><span class="sxs-lookup"><span data-stu-id="1cdfe-160">There are three main disk types on an Azure VM:</span></span>

* <span data-ttu-id="1cdfe-161">**Disco do sistema operacional**: quando você cria uma máquina Virtual do Azure, plataforma Olá anexará pelo menos um disco (rotulado como Olá **C** unidade) toohello VM para o disco do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-161">**OS disk**: When you create an Azure Virtual Machine, hello platform will attach at least one disk (labeled as hello **C** drive) toohello VM for your operating system disk.</span></span> <span data-ttu-id="1cdfe-162">Cada disco é um VHD armazenado como um blob de páginas no armazenamento.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-162">This disk is a VHD stored as a page blob in storage.</span></span>
* <span data-ttu-id="1cdfe-163">**Disco temporário**: máquinas virtuais do Azure contêm outro disco chamado disco temporário hello (rotulado como Olá **D**: unidade).</span><span class="sxs-lookup"><span data-stu-id="1cdfe-163">**Temporary disk**: Azure Virtual Machines contain another disk called hello temporary disk (labeled as hello **D**: drive).</span></span> <span data-ttu-id="1cdfe-164">Este é um disco no nó de saudação que pode ser usado para o espaço transitório.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-164">This is a disk on hello node that can be used for scratch space.</span></span>
* <span data-ttu-id="1cdfe-165">**Discos de dados**: você também pode anexar discos adicionais tooyour VM como discos de dados e eles serão armazenados no armazenamento como blobs de página.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-165">**Data disks**: You can also attach additional disks tooyour virtual machine as data disks, and these will be stored in storage as page blobs.</span></span>

<span data-ttu-id="1cdfe-166">Olá seções a seguir descrevem as recomendações para usar esses discos diferentes.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-166">hello following sections describe recommendations for using these different disks.</span></span>

### <a name="operating-system-disk"></a><span data-ttu-id="1cdfe-167">Disco do sistema operacional</span><span class="sxs-lookup"><span data-stu-id="1cdfe-167">Operating system disk</span></span>

<span data-ttu-id="1cdfe-168">Um disco do sistema operacional é um VHD que pode ser inicializado e montado como uma versão em execução de um sistema operacional e é rotulado como a unidade **C** .</span><span class="sxs-lookup"><span data-stu-id="1cdfe-168">An operating system disk is a VHD that you can boot and mount as a running version of an operating system and is labeled as **C** drive.</span></span>

<span data-ttu-id="1cdfe-169">Cache de política no disco do sistema operacional de saudação padrão é **leitura/gravação**.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-169">Default caching policy on hello operating system disk is **Read/Write**.</span></span> <span data-ttu-id="1cdfe-170">Para aplicativos sensíveis ao desempenho, recomendamos que você use discos de dados em vez de disco do sistema operacional hello.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-170">For performance sensitive applications, we recommend that you use data disks instead of hello operating system disk.</span></span> <span data-ttu-id="1cdfe-171">Consulte a seção de saudação em discos de dados abaixo.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-171">See hello section on Data Disks below.</span></span>

### <a name="temporary-disk"></a><span data-ttu-id="1cdfe-172">Disco temporário</span><span class="sxs-lookup"><span data-stu-id="1cdfe-172">Temporary disk</span></span>

<span data-ttu-id="1cdfe-173">Olá unidade de armazenamento temporário, rotulada como Olá **D**: disco, não é persistente tooAzure armazenamento de blob.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-173">hello temporary storage drive, labeled as hello **D**: drive, is not persisted tooAzure blob storage.</span></span> <span data-ttu-id="1cdfe-174">Não armazenar arquivos de banco de dados de usuário ou arquivos de log de transações do usuário no hello **D**: unidade.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-174">Do not store your user database files or user transaction log files on hello **D**: drive.</span></span>

<span data-ttu-id="1cdfe-175">Para D-series, série Dv2 e VMs da série G, a unidade temporária Olá nessas máquinas virtuais é baseada em SSD.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-175">For D-series, Dv2-series, and G-series VMs, hello temporary drive on these VMs is SSD-based.</span></span> <span data-ttu-id="1cdfe-176">Se sua carga de trabalho faz uso intenso de TempDB (por exemplo, para objetos temporários ou junções complexas), armazenando o TempDB em Olá **D** unidade pode resultar em maior taxa de transferência de TempDB e reduzir a latência de TempDB.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-176">If your workload makes heavy use of TempDB (e.g. for temporary objects or complex joins), storing TempDB on hello **D** drive could result in higher TempDB throughput and lower TempDB latency.</span></span>

<span data-ttu-id="1cdfe-177">Para VMs que têm suporte para Armazenamento Premium (séries DS, DSv2 e GS), é recomendável armazenar o TempDB em um disco que dê suporte ao Armazenamento Premium com o cache de leitura habilitado.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-177">For VMs that support Premium Storage (DS-series, DSv2-series, and GS-series), we recommend storing TempDB on a disk that supports Premium Storage with read caching enabled.</span></span> <span data-ttu-id="1cdfe-178">Há uma recomendação de toothis exceção; Se o uso de TempDB for intensivo de gravação, você poderá obter maior desempenho armazenando TempDB no local de saudação **D** unidade, que também é baseada em SSD sobre esses tamanhos de máquina.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-178">There is one exception toothis recommendation; if your TempDB usage is write-intensive, you can achieve higher performance by storing TempDB on hello local **D** drive, which is also SSD-based on these machine sizes.</span></span>

### <a name="data-disks"></a><span data-ttu-id="1cdfe-179">Discos de dados</span><span class="sxs-lookup"><span data-stu-id="1cdfe-179">Data disks</span></span>

* <span data-ttu-id="1cdfe-180">**Usar discos de dados para dados e arquivos de log**: no mínimo, usar o armazenamento de Premium 2 [P30 discos](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) onde um disco contém os arquivos de log hello e Olá outros contém dados saudação e arquivos de TempDB.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-180">**Use data disks for data and log files**: At a minimum, use 2 Premium Storage [P30 disks](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) where one disk contains hello log file(s) and hello other contains hello data and TempDB file(s).</span></span> <span data-ttu-id="1cdfe-181">Cada disco de armazenamento Premium fornece um número de IOPs e largura de banda (MB/s) dependendo de seu tamanho, conforme descrito em Olá artigo a seguir: [usando o armazenamento Premium para discos](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="1cdfe-181">Each Premium Storage disk provides a number of IOPs and bandwidth (MB/s) depending on its size, as described in hello following article: [Using Premium Storage for Disks](../../../storage/common/storage-premium-storage.md).</span></span>

* <span data-ttu-id="1cdfe-182">**Distribuição de Discos**: para produtividade mais alta, você pode adicionar outros discos de dados e usar a Distribuição de Discos.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-182">**Disk Striping**: For more throughput, you can add additional data disks and use Disk Striping.</span></span> <span data-ttu-id="1cdfe-183">número de saudação toodetermine de discos de dados, é necessário tooanalyze Olá inúmeros IOPS e largura de banda necessária para os arquivos de log e para seus dados e arquivos de TempDB.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-183">toodetermine hello number of data disks, you need tooanalyze hello number of IOPS and bandwidth required for your log file(s), and for your data and TempDB file(s).</span></span> <span data-ttu-id="1cdfe-184">Observe que diferentes tamanhos de VM tem limites diferentes no número de saudação de IOPs e largura de banda com suporte, consulte as tabelas de saudação em IOPS por [tamanho da VM](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="1cdfe-184">Notice that different VM sizes have different limits on hello number of IOPs and bandwidth supported, see hello tables on IOPS per [VM size](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span> <span data-ttu-id="1cdfe-185">Olá Use as diretrizes a seguir:</span><span class="sxs-lookup"><span data-stu-id="1cdfe-185">Use hello following guidelines:</span></span>

  * <span data-ttu-id="1cdfe-186">Para Windows 8/Windows Server 2012 ou posterior, use [espaços de armazenamento](https://technet.microsoft.com/library/hh831739.aspx) com hello diretrizes a seguir:</span><span class="sxs-lookup"><span data-stu-id="1cdfe-186">For Windows 8/Windows Server 2012 or later, use [Storage Spaces](https://technet.microsoft.com/library/hh831739.aspx) with hello following guidelines:</span></span>

      1. <span data-ttu-id="1cdfe-187">Saudação de conjunto de intercalação (tamanho de distribuição) too64 KB (65536 bytes) para cargas de trabalho OLTP e 256 KB (262144 bytes) para cargas de trabalho tooavoid impacto sobre o desempenho devido toopartition desalinhamento de armazenagem de dados.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-187">Set hello interleave (stripe size) too64 KB (65536 bytes) for OLTP workloads and 256 KB (262144 bytes) for data warehousing workloads tooavoid performance impact due toopartition misalignment.</span></span> <span data-ttu-id="1cdfe-188">Isso deve ser definido com o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-188">This must be set with PowerShell.</span></span>
      1. <span data-ttu-id="1cdfe-189">Defina a contagem de colunas = número de discos físicos.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-189">Set column count = number of physical disks.</span></span> <span data-ttu-id="1cdfe-190">Use o PowerShell ao configurar mais de 8 discos (não interface do usuário do Gerenciador do Servidor).</span><span class="sxs-lookup"><span data-stu-id="1cdfe-190">Use PowerShell when configuring more than 8 disks (not Server Manager UI).</span></span> 

    <span data-ttu-id="1cdfe-191">Por exemplo, a saudação do PowerShell a seguir cria um novo pool de armazenamento com hello intercalar too64 KB e hello número de colunas too2:</span><span class="sxs-lookup"><span data-stu-id="1cdfe-191">For example, hello following PowerShell creates a new storage pool with hello interleave size too64 KB and hello number of columns too2:</span></span>

    ```powershell
    $PoolCount = Get-PhysicalDisk -CanPool $True
    $PhysicalDisks = Get-PhysicalDisk | Where-Object {$_.FriendlyName -like "*2" -or $_.FriendlyName -like "*3"}

    New-StoragePool -FriendlyName "DataFiles" -StorageSubsystemFriendlyName "Storage Spaces*" -PhysicalDisks $PhysicalDisks | New-VirtualDisk -FriendlyName "DataFiles" -Interleave 65536 -NumberOfColumns 2 -ResiliencySettingName simple –UseMaximumSize |Initialize-Disk -PartitionStyle GPT -PassThru |New-Partition -AssignDriveLetter -UseMaximumSize |Format-Volume -FileSystem NTFS -NewFileSystemLabel "DataDisks" -AllocationUnitSize 65536 -Confirm:$false 
    ```

  * <span data-ttu-id="1cdfe-192">Para o Windows 2008 R2 ou anterior, você pode usar discos dinâmicos (volumes com marcação) e o tamanho do stripe Olá é sempre 64 KB.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-192">For Windows 2008 R2 or earlier, you can use dynamic disks (OS striped volumes) and hello stripe size is always 64 KB.</span></span> <span data-ttu-id="1cdfe-193">Observe que essa opção tornou-se obsoleta no Windows 8/Windows Server 2012.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-193">Note that this option is deprecated as of Windows 8/Windows Server 2012.</span></span> <span data-ttu-id="1cdfe-194">Para obter informações, consulte a declaração de suporte de saudação em [serviço de disco Virtual está em transição tooWindows API de gerenciamento de armazenamento](https://msdn.microsoft.com/library/windows/desktop/hh848071.aspx).</span><span class="sxs-lookup"><span data-stu-id="1cdfe-194">For information, see hello support statement at [Virtual Disk Service is transitioning tooWindows Storage Management API](https://msdn.microsoft.com/library/windows/desktop/hh848071.aspx).</span></span>

  * <span data-ttu-id="1cdfe-195">Se sua carga de trabalho não utilizar muito o log e não precisar de um IPS dedicado, você poderá configurar apenas um pool de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-195">If your workload is not log intensive and does not need dedicated IOPs, you can configure just one storage pool.</span></span> <span data-ttu-id="1cdfe-196">Caso contrário, crie dois pools de armazenamento, um para os arquivos de log hello e outro pool de armazenamento para arquivos de dados hello e TempDB.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-196">Otherwise, create two storage pools, one for hello log file(s) and another storage pool for hello data file(s) and TempDB.</span></span> <span data-ttu-id="1cdfe-197">Determine o número de saudação de discos associados a cada pool de armazenamento com base em suas expectativas de carga.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-197">Determine hello number of disks associated with each storage pool based on your load expectations.</span></span> <span data-ttu-id="1cdfe-198">Tenha em mente que tamanhos de VM diferentes permitem quantidades diferentes de discos de dados anexados.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-198">Keep in mind that different VM sizes allow different numbers of attached data disks.</span></span> <span data-ttu-id="1cdfe-199">Para obter mais informações, confira [Tamanhos das Máquinas Virtuais](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="1cdfe-199">For more information, see [Sizes for Virtual Machines](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

  * <span data-ttu-id="1cdfe-200">Se você não estiver usando o armazenamento Premium (cenários de desenvolvimento/teste), recomendação Olá é o número de máximo de saudação do tooadd de discos de dados suportado pelo seu [tamanho da VM](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) e usar a distribuição de disco.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-200">If you are not using Premium Storage (dev/test scenarios), hello recommendation is tooadd hello maximum number of data disks supported by your [VM size](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) and use Disk Striping.</span></span>

* <span data-ttu-id="1cdfe-201">**Política de cache**: os discos de dados para o armazenamento Premium, habilitar o cache de leitura em discos de dados Olá hospeda os arquivos de dados e TempDB somente.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-201">**Caching policy**: For Premium Storage data disks, enable read caching on hello data disks hosting your data files and TempDB only.</span></span> <span data-ttu-id="1cdfe-202">Se você não estiver usando o Armazenamento Premium, não habilite o caching em discos de dados.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-202">If you are not using Premium Storage, do not enable any caching on any data disks.</span></span> <span data-ttu-id="1cdfe-203">Para obter instruções sobre como configurar o cache de disco, consulte Olá tópicos a seguir: [Set-AzureOSDisk](https://msdn.microsoft.com/library/azure/jj152847) e [Set-AzureDataDisk](https://msdn.microsoft.com/library/azure/jj152851.aspx).</span><span class="sxs-lookup"><span data-stu-id="1cdfe-203">For instructions on configuring disk caching, see hello following topics: [Set-AzureOSDisk](https://msdn.microsoft.com/library/azure/jj152847) and [Set-AzureDataDisk](https://msdn.microsoft.com/library/azure/jj152851.aspx).</span></span>

  > [!WARNING]
  > <span data-ttu-id="1cdfe-204">Pare serviço do SQL Server Olá ao alterar a configuração de cache de saudação da possibilidade de saudação de tooavoid de discos de VM do Azure de qualquer corrupção de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-204">Stop hello SQL Server service when changing hello cache setting of Azure VM disks tooavoid hello possibility of any database corruption.</span></span>

* <span data-ttu-id="1cdfe-205">**Tamanho da unidade de alocação NTFS**: ao formatar o disco de dados Olá, é recomendável que você use um tamanho de unidade de alocação de 64 KB para dados e arquivos de log, bem como TempDB.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-205">**NTFS allocation unit size**: When formatting hello data disk, it is recommended that you use a 64-KB allocation unit size for data and log files as well as TempDB.</span></span>

* <span data-ttu-id="1cdfe-206">**Práticas recomendadas de gerenciamento de disco**: quando o tipo de remoção de um disco de dados ou alterar seu cache, interromper o serviço de SQL Server de Olá durante a alteração da saudação.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-206">**Disk management best practices**: When removing a data disk or changing its cache type, stop hello SQL Server service during hello change.</span></span> <span data-ttu-id="1cdfe-207">Quando as configurações de caching Olá alterado no disco de SO de saudação Azure interrompe Olá VM, altera o tipo de cache hello e reinicia Olá VM.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-207">When hello caching settings are changed on hello OS disk, Azure stops hello VM, changes hello cache type, and restarts hello VM.</span></span> <span data-ttu-id="1cdfe-208">Quando as configurações de cache de saudação de um disco de dados são alteradas, Olá VM não for interrompido, mas o disco de dados Olá é separado da saudação VM durante a saudação alterar e, em seguida, reanexados.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-208">When hello cache settings of a data disk are changed, hello VM is not stopped, but hello data disk is detached from hello VM during hello change and then reattached.</span></span>

  > [!WARNING]
  > <span data-ttu-id="1cdfe-209">Saudação de toostop falha durante essas operações de serviço do SQL Server pode causar corrupção do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-209">Failure toostop hello SQL Server service during these operations can cause database corruption.</span></span>

## <a name="io-guidance"></a><span data-ttu-id="1cdfe-210">Diretrizes de E/S</span><span class="sxs-lookup"><span data-stu-id="1cdfe-210">I/O guidance</span></span>

* <span data-ttu-id="1cdfe-211">obter os melhores resultados Olá com o armazenamento Premium são obtidos quando paralelizar seu aplicativo e as solicitações.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-211">hello best results with Premium Storage are achieved when you parallelize your application and requests.</span></span> <span data-ttu-id="1cdfe-212">Armazenamento Premium foi projetado para cenários em que a profundidade da fila de e/s Olá é maior que 1, para que você veja pouca ou nenhuma ganhos de desempenho para solicitações seriais single-threaded (mesmo que sejam intensivas de armazenamento).</span><span class="sxs-lookup"><span data-stu-id="1cdfe-212">Premium Storage is designed for scenarios where hello IO queue depth is greater than 1, so you will see little or no performance gains for single-threaded serial requests (even if they are storage intensive).</span></span> <span data-ttu-id="1cdfe-213">Por exemplo, isso poderá afetar os resultados de teste de thread único Olá das ferramentas de análise de desempenho, como SQLIO.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-213">For example, this could impact hello single-threaded test results of performance analysis tools, such as SQLIO.</span></span>

* <span data-ttu-id="1cdfe-214">Considere o uso da [compactação de página do banco de dados](https://msdn.microsoft.com/library/cc280449.aspx) , pois isso pode ajudar a melhorar o desempenho de cargas de trabalho com uso intenso de E/S.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-214">Consider using [database page compression](https://msdn.microsoft.com/library/cc280449.aspx) as it can help improve performance of I/O intensive workloads.</span></span> <span data-ttu-id="1cdfe-215">No entanto, a compactação de dados Olá pode aumentar o consumo de CPU Olá no servidor de banco de dados de saudação.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-215">However, hello data compression might increase hello CPU consumption on hello database server.</span></span>

* <span data-ttu-id="1cdfe-216">Considere habilitar instantânea de arquivo inicialização tooreduce Olá tempo necessário para alocação de arquivo inicial.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-216">Consider enabling instant file initialization tooreduce hello time that is required for initial file allocation.</span></span> <span data-ttu-id="1cdfe-217">tootake vantagem de inicialização instantânea de arquivo, você pode conceder a conta de serviço do SQL Server (MSSQLSERVER) Olá SE_MANAGE_VOLUME_NAME e adicioná-lo toohello **executar tarefas de manutenção de Volume** política de segurança.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-217">tootake advantage of instant file initialization, you grant hello SQL Server (MSSQLSERVER) service account with SE_MANAGE_VOLUME_NAME and add it toohello **Perform Volume Maintenance Tasks** security policy.</span></span> <span data-ttu-id="1cdfe-218">Se você estiver usando uma imagem de plataforma do SQL Server para o Azure, a conta de serviço saudação padrão (NT Service\MSSQLSERVER) não é adicionada toohello **executar tarefas de manutenção de Volume** política de segurança.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-218">If you are using a SQL Server platform image for Azure, hello default service account (NT Service\MSSQLSERVER) isn’t added toohello **Perform Volume Maintenance Tasks** security policy.</span></span> <span data-ttu-id="1cdfe-219">Em outras palavras, a inicialização instantânea de arquivo não está habilitada em uma imagem de plataforma do SQL Server do Azure.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-219">In other words, instant file initialization is not enabled in a SQL Server Azure platform image.</span></span> <span data-ttu-id="1cdfe-220">Depois da adição de saudação do SQL Server service conta toohello **executar tarefas de manutenção de Volume** política de segurança, reinicialização saudação do SQL Server service.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-220">After adding hello SQL Server service account toohello **Perform Volume Maintenance Tasks** security policy, restart hello SQL Server service.</span></span> <span data-ttu-id="1cdfe-221">Talvez existam considerações de segurança sobre a utilização desse recurso.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-221">There could be security considerations for using this feature.</span></span> <span data-ttu-id="1cdfe-222">Para obter mais informações, consulte [Inicialização de Arquivo de Banco de Dados](https://msdn.microsoft.com/library/ms175935.aspx).</span><span class="sxs-lookup"><span data-stu-id="1cdfe-222">For more information, see [Database File Initialization](https://msdn.microsoft.com/library/ms175935.aspx).</span></span>

* <span data-ttu-id="1cdfe-223">**crescimento automático** é considerado toobe meramente uma contingência de crescimento inesperado.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-223">**autogrow** is considered toobe merely a contingency for unexpected growth.</span></span> <span data-ttu-id="1cdfe-224">Não gerencie diariamente o crescimento de seus dados e do log com o crescimento automático.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-224">Do not manage your data and log growth on a day-to-day basis with autogrow.</span></span> <span data-ttu-id="1cdfe-225">Se o crescimento automático for usado, crescer previamente arquivo hello usando a opção de tamanho de saudação.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-225">If autogrow is used, pre-grow hello file using hello Size switch.</span></span>

* <span data-ttu-id="1cdfe-226">Certifique-se de **autoshrink** tooavoid desabilitado sobrecarga desnecessária que pode afetar negativamente o desempenho.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-226">Make sure **autoshrink** is disabled tooavoid unnecessary overhead that can negatively affect performance.</span></span>

* <span data-ttu-id="1cdfe-227">Mova todos os discos de toodata de bancos de dados, incluindo bancos de dados do sistema.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-227">Move all databases toodata disks, including system databases.</span></span> <span data-ttu-id="1cdfe-228">Para saber mais, confira [Mover bancos de dados do sistema](https://msdn.microsoft.com/library/ms345408.aspx).</span><span class="sxs-lookup"><span data-stu-id="1cdfe-228">For more information, see [Move System Databases](https://msdn.microsoft.com/library/ms345408.aspx).</span></span>

* <span data-ttu-id="1cdfe-229">Mova do SQL Server erro log e rastreamento diretórios toodata discos de arquivo.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-229">Move SQL Server error log and trace file directories toodata disks.</span></span> <span data-ttu-id="1cdfe-230">Isso pode ser feito no SQL Server Configuration Manager clicando duas vezes na Instância do SQL Server e selecionando Propriedades.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-230">This can be done in SQL Server Configuration Manager by right-clicking your SQL Server instance and selecting properties.</span></span> <span data-ttu-id="1cdfe-231">Olá configurações de arquivo de log e rastreamento de erro podem ser alteradas no hello **parâmetros de inicialização** Olá na guia diretório de despejo especificado no hello **avançado** Olá guia captura de tela a seguir mostra onde toolook para parâmetro de inicialização do log do erro Hello.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-231">hello error log and trace file settings can be changed in hello **Startup Parameters** tab. hello Dump Directory is specified in hello **Advanced** tab. hello following screenshot shows where toolook for hello error log startup parameter.</span></span>

    ![Captura de Tela de Log de Erros do SQL](./media/virtual-machines-windows-sql-performance/sql_server_error_log_location.png)

* <span data-ttu-id="1cdfe-233">Configure os locais do arquivo de banco de dados e backup padrão.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-233">Setup default backup and database file locations.</span></span> <span data-ttu-id="1cdfe-234">Use as recomendações de saudação neste tópico e fazer alterações de saudação na janela de propriedades do servidor de saudação.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-234">Use hello recommendations in this topic, and make hello changes in hello Server properties window.</span></span> <span data-ttu-id="1cdfe-235">Para obter instruções, consulte [Olá exibir ou alterar locais padrão para dados e arquivos de Log (SQL Server Management Studio)](https://msdn.microsoft.com/library/dd206993.aspx).</span><span class="sxs-lookup"><span data-stu-id="1cdfe-235">For instructions, see [View or Change hello Default Locations for Data and Log Files (SQL Server Management Studio)](https://msdn.microsoft.com/library/dd206993.aspx).</span></span> <span data-ttu-id="1cdfe-236">Olá, seguinte captura de tela demonstra onde toomake essas alterações.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-236">hello following screenshot demonstrates where toomake these changes.</span></span>

    ![Log de Dados de SQL e Arquivos de Backup](./media/virtual-machines-windows-sql-performance/sql_server_default_data_log_backup_locations.png)
* <span data-ttu-id="1cdfe-238">Habilitar bloqueada tooreduce páginas e/s e qualquer atividade de paginação.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-238">Enable locked pages tooreduce IO and any paging activities.</span></span> <span data-ttu-id="1cdfe-239">Para obter mais informações, consulte [habilitar Olá opção Bloquear páginas na memória (Windows)](https://msdn.microsoft.com/library/ms190730.aspx).</span><span class="sxs-lookup"><span data-stu-id="1cdfe-239">For more information, see [Enable hello Lock Pages in Memory Option (Windows)](https://msdn.microsoft.com/library/ms190730.aspx).</span></span>

* <span data-ttu-id="1cdfe-240">Se você estiver executando o SQL Server 2012, instale a Atualização Cumulativa 10 do Service Pack 1.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-240">If you are running SQL Server 2012, install Service Pack 1 Cumulative Update 10.</span></span> <span data-ttu-id="1cdfe-241">Esta atualização contém a correção de saudação do desempenho insatisfatório em e/s ao executar a seleção para a instrução de tabela temporária no SQL Server 2012.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-241">This update contains hello fix for poor performance on I/O when you execute select into temporary table statement in SQL Server 2012.</span></span> <span data-ttu-id="1cdfe-242">Para obter informações, consulte este [artigo da base de dados de conhecimento](http://support.microsoft.com/kb/2958012).</span><span class="sxs-lookup"><span data-stu-id="1cdfe-242">For information, see this [knowledge base article](http://support.microsoft.com/kb/2958012).</span></span>

* <span data-ttu-id="1cdfe-243">Considere a compactação de qualquer arquivo de dados durante a transferência de entrada/saída do Azure.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-243">Consider compressing any data files when transferring in/out of Azure.</span></span>

## <a name="feature-specific-guidance"></a><span data-ttu-id="1cdfe-244">Diretrizes específicas do recurso</span><span class="sxs-lookup"><span data-stu-id="1cdfe-244">Feature specific guidance</span></span>

<span data-ttu-id="1cdfe-245">Algumas implantações podem obter outros benefícios de desempenho usando técnicas mais avançadas de configuração.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-245">Some deployments may achieve additional performance benefits using more advanced configuration techniques.</span></span> <span data-ttu-id="1cdfe-246">Olá lista a seguir destaca alguns recursos do SQL Server que podem ajudar a melhorar o desempenho tooachieve:</span><span class="sxs-lookup"><span data-stu-id="1cdfe-246">hello following list highlights some SQL Server features that can help you tooachieve better performance:</span></span>

* <span data-ttu-id="1cdfe-247">**Fazer backup de armazenamento de tooAzure**: ao realizar backups para o SQL Server em execução em máquinas virtuais do Azure, você pode usar [tooURL de Backup do SQL Server](https://msdn.microsoft.com/library/dn435916.aspx).</span><span class="sxs-lookup"><span data-stu-id="1cdfe-247">**Backup tooAzure storage**: When performing backups for SQL Server running in Azure virtual machines, you can use [SQL Server Backup tooURL](https://msdn.microsoft.com/library/dn435916.aspx).</span></span> <span data-ttu-id="1cdfe-248">Este recurso está disponível a partir do SQL Server 2012 SP1 CU2 e recomendado para fazer backup de discos de dados toohello anexado.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-248">This feature is available starting with SQL Server 2012 SP1 CU2 and recommended for backing up toohello attached data disks.</span></span> <span data-ttu-id="1cdfe-249">Quando você backup/restauração para/do armazenamento do Azure, siga as recomendações de saudação fornecidas no [Backup do SQL Server tooURL práticas recomendadas e solução de problemas e restauração de Backups armazenados no armazenamento do Azure](https://msdn.microsoft.com/library/jj919149.aspx).</span><span class="sxs-lookup"><span data-stu-id="1cdfe-249">When you backup/restore to/from Azure storage, follow hello recommendations provided at [SQL Server Backup tooURL Best Practices and Troubleshooting and Restoring from Backups Stored in Azure Storage](https://msdn.microsoft.com/library/jj919149.aspx).</span></span> <span data-ttu-id="1cdfe-250">Você também pode automatizar esses backups usando o [Backup Automatizado para o SQL Server em Máquinas Virtuais do Azure](virtual-machines-windows-sql-automated-backup.md).</span><span class="sxs-lookup"><span data-stu-id="1cdfe-250">You can also automate these backups using [Automated Backup for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-backup.md).</span></span>

    <span data-ttu-id="1cdfe-251">TooSQL anterior Server 2012, você pode usar [tooAzure de Backup do SQL Server ferramenta](https://www.microsoft.com/download/details.aspx?id=40740).</span><span class="sxs-lookup"><span data-stu-id="1cdfe-251">Prior tooSQL Server 2012, you can use [SQL Server Backup tooAzure Tool](https://www.microsoft.com/download/details.aspx?id=40740).</span></span> <span data-ttu-id="1cdfe-252">Essa ferramenta pode ajudar o rendimento do backup tooincrease utilizando vários alvos de marcação de backup.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-252">This tool can help tooincrease backup throughput using multiple backup stripe targets.</span></span>

* <span data-ttu-id="1cdfe-253">**Arquivos de dados do SQL Server no Azure**: este recurso novo, [Arquivos de dados do SQL Server no Azure](https://msdn.microsoft.com/library/dn385720.aspx), está disponível desde o SQL Server 2014.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-253">**SQL Server Data Files in Azure**: This new feature, [SQL Server Data Files in Azure](https://msdn.microsoft.com/library/dn385720.aspx), is available starting with SQL Server 2014.</span></span> <span data-ttu-id="1cdfe-254">A execução do SQL Server com os arquivos de dados no Azure demonstra características de desempenho comparáveis as dos discos de dados do Azure.</span><span class="sxs-lookup"><span data-stu-id="1cdfe-254">Running SQL Server with data files in Azure demonstrates comparable performance characteristics as using Azure data disks.</span></span>

## <a name="next-steps"></a><span data-ttu-id="1cdfe-255">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="1cdfe-255">Next Steps</span></span>

<span data-ttu-id="1cdfe-256">Para conferir as práticas recomendadas de segurança, consulte [Considerações sobre segurança para o SQL Server em Máquinas Virtuais do Azure](virtual-machines-windows-sql-security.md).</span><span class="sxs-lookup"><span data-stu-id="1cdfe-256">For security best practices, see [Security Considerations for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-security.md).</span></span>

<span data-ttu-id="1cdfe-257">Examine outros tópicos sobre Máquinas Virtuais do SQL Server em [Visão geral do SQL Server nas Máquinas Virtuais do Azure](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1cdfe-257">Review other SQL Server Virtual Machine topics at [SQL Server on Azure Virtual Machines Overview](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>
