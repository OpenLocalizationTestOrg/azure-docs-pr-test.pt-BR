---
title: "aaaSQL padrões de aplicativo de servidor em máquinas virtuais | Microsoft Docs"
description: "Este artigo aborda os padrões de aplicativo para o SQL Server em máquinas virtuais do Azure. Ele fornece aos desenvolvedores e arquitetos de soluções uma base para design e arquitetura de aplicativos de qualidade."
services: virtual-machines-windows
documentationcenter: na
author: ninarn
manager: jhubbard
editor: 
tags: azure-service-management,azure-resource-manager
ms.assetid: 41863c8d-f3a3-4584-ad86-b95094365e05
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 05/31/2017
ms.author: ninarn
ms.openlocfilehash: e18597598fdf9fe534ed07331d6f531d4dca0601
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="application-patterns-and-development-strategies-for-sql-server-in-azure-virtual-machines"></a><span data-ttu-id="a8013-104">Estratégias de Desenvolvimento e Padrões de Aplicativo para o SQL Server em Máquinas Virtuais do Azure</span><span class="sxs-lookup"><span data-stu-id="a8013-104">Application Patterns and Development Strategies for SQL Server in Azure Virtual Machines</span></span>
[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="summary"></a><span data-ttu-id="a8013-105">Resumo:</span><span class="sxs-lookup"><span data-stu-id="a8013-105">Summary:</span></span>
<span data-ttu-id="a8013-106">Determinar qual padrão de aplicativo ou padrões toouse para seus aplicativos SQL Server são baseados no Azure ambiente é uma decisão de design importantes e requer uma compreensão sólida de como o SQL Server e cada componente de infraestrutura do Azure funcionam em conjunto .</span><span class="sxs-lookup"><span data-stu-id="a8013-106">Determining which application pattern or patterns toouse for your SQL-Server-based applications in Azure environment is an important design decision and it requires a solid understanding of how SQL Server and each infrastructure component of Azure work together.</span></span> <span data-ttu-id="a8013-107">Com o SQL Server nos serviços de infraestrutura do Azure, você pode facilmente migrar, manter e monitorar seu SQL Server aplicativos integrados ao Windows Server toovirtual máquinas existentes no Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-107">With SQL Server in Azure Infrastructure Services, you can easily migrate, maintain, and monitor your existing SQL Server applications built-on Windows Server toovirtual machines in Azure.</span></span>

<span data-ttu-id="a8013-108">meta de saudação deste artigo é tooprovide arquitetos de soluções e desenvolvedores uma base para o aplicativo boa arquitetura e design, qual eles podem seguir ao migrar tooAzure de aplicativos existente como bem como desenvolver novos aplicativos no Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-108">hello goal of this article is tooprovide solution architects and developers a foundation for good application architecture and design, which they can follow when migrating existing applications tooAzure as well as developing new applications in Azure.</span></span>

<span data-ttu-id="a8013-109">Para cada padrão de aplicativo, você encontrará um cenário local, sua respectiva solução habilitada para a nuvem e Olá relacionados recomendações técnicas.</span><span class="sxs-lookup"><span data-stu-id="a8013-109">For each application pattern, you will find an on-premises scenario, its respective cloud-enabled solution, and hello related technical recommendations.</span></span> <span data-ttu-id="a8013-110">Além disso, o artigo Olá discute estratégias de desenvolvimento específicas do Azure para que você possa criar seus aplicativos corretamente.</span><span class="sxs-lookup"><span data-stu-id="a8013-110">In addition, hello article discusses Azure-specific development strategies so that you can design your applications correctly.</span></span> <span data-ttu-id="a8013-111">Vencimento toohello vários padrões de aplicativos, é recomendável que arquitetos e desenvolvedores devem escolher o padrão de saudação mais apropriado para seus aplicativos e usuários.</span><span class="sxs-lookup"><span data-stu-id="a8013-111">Due toohello many possible application patterns, it’s recommended that architects and developers should choose hello most appropriate pattern for their applications and users.</span></span>

<span data-ttu-id="a8013-112">**Colaboradores técnicos:** Luis Carlos Vargas Herring, Madhan Arumugam Ramakrishnan</span><span class="sxs-lookup"><span data-stu-id="a8013-112">**Technical Contributors:** Luis Carlos Vargas Herring, Madhan Arumugam Ramakrishnan</span></span>

<span data-ttu-id="a8013-113">**Revisores técnicos:** Corey Sanders, Drew McDaniel, Narayan Annamalai, Nir Mashkowski, Sanjay Mishra, Silvano Coriani, Stefan Schackow, Tim Hickey, Tim Wieman e Xin Jin</span><span class="sxs-lookup"><span data-stu-id="a8013-113">**Technical Reviewers:** Corey Sanders, Drew McDaniel, Narayan Annamalai, Nir Mashkowski, Sanjay Mishra, Silvano Coriani, Stefan Schackow, Tim Hickey, Tim Wieman, Xin Jin</span></span>

## <a name="introduction"></a><span data-ttu-id="a8013-114">Introdução</span><span class="sxs-lookup"><span data-stu-id="a8013-114">Introduction</span></span>
<span data-ttu-id="a8013-115">Você pode desenvolver vários tipos de aplicativos de n camadas, separando os componentes de saudação do hello diferentes camadas do aplicativo em computadores diferentes, bem como em componentes separados.</span><span class="sxs-lookup"><span data-stu-id="a8013-115">You can develop many types of n-tier applications by separating hello components of hello different application layers on different machines as well as in separate components.</span></span> <span data-ttu-id="a8013-116">Por exemplo, você pode colocar o aplicativo de cliente hello e regras de negócio componentes em uma máquina, a camada da web de front-end e componentes de camada de acesso de dados em outro computador e uma camada de banco de dados de back-end em outra máquina.</span><span class="sxs-lookup"><span data-stu-id="a8013-116">For example, you can place hello client application and business rules components in one machine, front-end web tier and data access tier components in another machine, and a back-end database tier in another machine.</span></span> <span data-ttu-id="a8013-117">Este tipo de estruturação ajuda a isolar as camadas entre si.</span><span class="sxs-lookup"><span data-stu-id="a8013-117">This kind of structuring helps isolate each tier from each other.</span></span> <span data-ttu-id="a8013-118">Se você alterar a origem dos dados, você não precisa toochange Olá cliente ou aplicativo web, mas somente Olá componentes de camada de acesso de dados.</span><span class="sxs-lookup"><span data-stu-id="a8013-118">If you change where data comes from, you don’t need toochange hello client or web application but only hello data access tier components.</span></span>

<span data-ttu-id="a8013-119">Um típico *de n camadas* aplicativo inclui da camada de apresentação Olá, camada de negócios hello e da camada de dados hello:</span><span class="sxs-lookup"><span data-stu-id="a8013-119">A typical *n-tier* application includes hello presentation tier, hello business tier, and hello data tier:</span></span>

| <span data-ttu-id="a8013-120">Camada</span><span class="sxs-lookup"><span data-stu-id="a8013-120">Tier</span></span> | <span data-ttu-id="a8013-121">Descrição</span><span class="sxs-lookup"><span data-stu-id="a8013-121">Description</span></span> |
| --- | --- |
| <span data-ttu-id="a8013-122">**Apresentação**</span><span class="sxs-lookup"><span data-stu-id="a8013-122">**Presentation**</span></span> |<span data-ttu-id="a8013-123">Olá *da camada de apresentação* (camada da web, camada front-end) é a camada de saudação na qual os usuários interagem com um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a8013-123">hello *presentation tier* (web tier, front-end tier) is hello layer in which users interact with an application.</span></span> |
| <span data-ttu-id="a8013-124">**Negócios**</span><span class="sxs-lookup"><span data-stu-id="a8013-124">**Business**</span></span> |<span data-ttu-id="a8013-125">Olá *camada de negócios* (camada intermediária) é camada Olá que Olá apresentação hello e camada de dados da camada use toocommunicate entre si e inclui a funcionalidade principal de saudação do sistema de saudação.</span><span class="sxs-lookup"><span data-stu-id="a8013-125">hello *business tier* (middle tier) is hello layer that hello presentation tier and hello data tier use toocommunicate with each other and includes hello core functionality of hello system.</span></span> |
| <span data-ttu-id="a8013-126">**Dados**</span><span class="sxs-lookup"><span data-stu-id="a8013-126">**Data**</span></span> |<span data-ttu-id="a8013-127">Olá *da camada de dados* é basicamente o servidor de saudação que armazena dados de um aplicativo (por exemplo, um servidor executando o SQL Server).</span><span class="sxs-lookup"><span data-stu-id="a8013-127">hello *data tier* is basically hello server that stores an application's data (for example, a server running SQL Server).</span></span> |

<span data-ttu-id="a8013-128">Camadas de aplicativo descrevem agrupamentos lógicos de saudação de funcionalidade hello e componentes em um aplicativo. enquanto as camadas de descrevem a distribuição física Olá Olá funcionalidade e dos componentes em servidores físicos separados, computadores, redes ou locais remotos.</span><span class="sxs-lookup"><span data-stu-id="a8013-128">Application layers describe hello logical groupings of hello functionality and components in an application; whereas tiers describe hello physical distribution of hello functionality and components on separate physical servers, computers, networks, or remote locations.</span></span> <span data-ttu-id="a8013-129">Olá camadas de um aplicativo podem residir em Olá mesmo computador físico (Olá a mesma camada) ou podem ser distribuídas em computadores separados (de n camadas) e Olá componentes em cada camada se comunicar com os componentes de outras camadas através de interfaces bem definidas.</span><span class="sxs-lookup"><span data-stu-id="a8013-129">hello layers of an application may reside on hello same physical computer (hello same tier) or may be distributed over separate computers (n-tier), and hello components in each layer communicate with components in other layers through well-defined interfaces.</span></span> <span data-ttu-id="a8013-130">Você pode pensar da camada de termo hello como se referindo a padrões de distribuição toophysical como duas camadas, três camadas e de n camadas.</span><span class="sxs-lookup"><span data-stu-id="a8013-130">You can think of hello term tier as referring toophysical distribution patterns such as two-tier, three-tier, and n-tier.</span></span> <span data-ttu-id="a8013-131">Um **padrão de aplicativo de duas camadas** contém duas camadas de aplicativo: o servidor de aplicativos e o servidor de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="a8013-131">A **2-tier application pattern** contains two application tiers: application server and database server.</span></span> <span data-ttu-id="a8013-132">comunicação direta Olá acontece entre servidores de aplicativo hello e Olá banco de dados.</span><span class="sxs-lookup"><span data-stu-id="a8013-132">hello direct communication happens between hello application server and hello database server.</span></span> <span data-ttu-id="a8013-133">servidor de aplicativo Hello contém componentes da camada da web e a camada de negócios.</span><span class="sxs-lookup"><span data-stu-id="a8013-133">hello application server contains both web-tier and business-tier components.</span></span> <span data-ttu-id="a8013-134">Em **padrão de aplicativo de camada 3**, há três níveis de aplicativos: servidor web, servidor de aplicativos, que contém a camada de lógica de negócios hello e/ou componentes de acesso de dados de camada comercial e o servidor de banco de dados de saudação.</span><span class="sxs-lookup"><span data-stu-id="a8013-134">In **3-tier application pattern**, there are three application tiers: web server, application server, which contains hello business logic tier and/or business tier data access components, and hello database server.</span></span> <span data-ttu-id="a8013-135">Olá a comunicação entre Olá web e servidor de banco de dados de saudação ocorra no servidor de aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="a8013-135">hello communication between hello web server and hello database server happens over hello application server.</span></span> <span data-ttu-id="a8013-136">Para obter informações detalhadas sobre as camadas de aplicativos, veja o [Guia de arquitetura de aplicativos da Microsoft](https://msdn.microsoft.com/library/ff650706.aspx).</span><span class="sxs-lookup"><span data-stu-id="a8013-136">For detailed information on application layers and tiers, see [Microsoft Application Architecture Guide](https://msdn.microsoft.com/library/ff650706.aspx).</span></span>

<span data-ttu-id="a8013-137">Antes de começar a ler este artigo, você deve ter conhecimento sobre os conceitos fundamentais de saudação do SQL Server e do Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-137">Before you start reading this article, you should have knowledge on hello fundamental concepts of SQL Server and Azure.</span></span> <span data-ttu-id="a8013-138">Para obter mais informações, confira [Manuais Online do SQL Server](https://msdn.microsoft.com/library/bb545450.aspx), [SQL Server nas Máquinas Virtuais do Azure](virtual-machines-windows-sql-server-iaas-overview.md) e [Azure.com](https://azure.microsoft.com/).</span><span class="sxs-lookup"><span data-stu-id="a8013-138">For information, see [SQL Server Books Online](https://msdn.microsoft.com/library/bb545450.aspx), [SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) and [Azure.com](https://azure.microsoft.com/).</span></span>

<span data-ttu-id="a8013-139">Este artigo descreve vários padrões de aplicativo que podem ser adequados para seus aplicativos simples, bem como aplicativos corporativos altamente complexos de saudação.</span><span class="sxs-lookup"><span data-stu-id="a8013-139">This article describes several application patterns that can be suitable for your simple applications as well as hello highly complex enterprise applications.</span></span> <span data-ttu-id="a8013-140">Antes de Detalhar cada padrão, é recomendável que você deve se familiarizar com os serviços de armazenamento de dados disponíveis Olá no Azure, como [armazenamento do Azure](../../../storage/common/storage-introduction.md), [banco de dados do SQL Azure](../../../sql-database/sql-database-technical-overview.md), e [ SQL Server em uma máquina Virtual do Azure](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="a8013-140">Before detailing each pattern, we recommend that you should familiarize yourself with hello available data storage services in Azure, such as [Azure Storage](../../../storage/common/storage-introduction.md), [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md), and [SQL Server in an Azure Virtual Machine](virtual-machines-windows-sql-server-iaas-overview.md).</span></span> <span data-ttu-id="a8013-141">toomake Olá melhores decisões de design para seus aplicativos, compreender quando toouse claramente o armazenamento de dados de serviço.</span><span class="sxs-lookup"><span data-stu-id="a8013-141">toomake hello best design decisions for your applications, understand when toouse which data storage service clearly.</span></span>

### <a name="choose-sql-server-in-an-azure-virtual-machine-when"></a><span data-ttu-id="a8013-142">Escolha o SQL Server em uma Máquina Virtual do Azure quando:</span><span class="sxs-lookup"><span data-stu-id="a8013-142">Choose SQL Server in an Azure Virtual Machine, when:</span></span>
* <span data-ttu-id="a8013-143">Você precisa ter controle no SQL Server e no Windows.</span><span class="sxs-lookup"><span data-stu-id="a8013-143">You need control on SQL Server and Windows.</span></span> <span data-ttu-id="a8013-144">Por exemplo, isso pode incluir a versão do SQL Server hello, hotfixes especiais, configuração de desempenho, etc.</span><span class="sxs-lookup"><span data-stu-id="a8013-144">For example, this might include hello SQL Server version, special hotfixes, performance configuration, etc.</span></span>
* <span data-ttu-id="a8013-145">Você precisa de uma compatibilidade total com o SQL Server local e deseja toomove tooAzure de aplicativos existente como-é.</span><span class="sxs-lookup"><span data-stu-id="a8013-145">You need a full compatibility with SQL Server on-premises and want toomove existing applications tooAzure as-is.</span></span>
* <span data-ttu-id="a8013-146">Você deseja tooleverage recursos de saudação de saudação ambiente do Azure, mas o banco de dados do Azure SQL não oferece suporte a todos os recursos de Olá que seu aplicativo requer.</span><span class="sxs-lookup"><span data-stu-id="a8013-146">You want tooleverage hello capabilities of hello Azure environment but Azure SQL Database does not support all hello features that your application requires.</span></span> <span data-ttu-id="a8013-147">Isso pode incluir Olá áreas a seguir:</span><span class="sxs-lookup"><span data-stu-id="a8013-147">This could include hello following areas:</span></span>
  
  * <span data-ttu-id="a8013-148">**Tamanho do banco de dados**: no momento da saudação este artigo foi atualizado, o banco de dados SQL dá suporte a um banco de dados de backup too1 TB de dados.</span><span class="sxs-lookup"><span data-stu-id="a8013-148">**Database size**: At hello time this article was updated, SQL Database supports a database of up too1 TB of data.</span></span> <span data-ttu-id="a8013-149">Se seu aplicativo exigir mais de 1 TB de dados e você não quiser tooimplement soluções de fragmentação personalizada, é recomendável que você usa o SQL Server em uma máquina Virtual do Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-149">If your application requires more than 1 TB of data and you don’t want tooimplement custom sharding solutions, it’s recommended that you use SQL Server in an Azure Virtual Machine.</span></span> <span data-ttu-id="a8013-150">Para obter informações mais recentes do hello, consulte [Scaling Out Azure bancos de dados SQL](https://msdn.microsoft.com/library/azure/dn495641.aspx) e [camadas de serviço de banco de dados SQL do Azure e níveis de desempenho](../../../sql-database/sql-database-service-tiers.md).</span><span class="sxs-lookup"><span data-stu-id="a8013-150">For hello latest information, see [Scaling Out Azure SQL Databases](https://msdn.microsoft.com/library/azure/dn495641.aspx) and [Azure SQL Database Service Tiers and Performance Levels](../../../sql-database/sql-database-service-tiers.md).</span></span>
  * <span data-ttu-id="a8013-151">**Conformidade com a HIPAA**: ISVs (Fornecedores de Software Independentes) e clientes do setor de serviços de saúde podem optar pelo [SQL Server nas Máquinas Virtuais do Azure](virtual-machines-windows-sql-server-iaas-overview.md) em vez do [Banco de Dados SQL do Azure](../../../sql-database/sql-database-technical-overview.md), pois o SQL Server em uma Máquina Virtual do Azure é coberto pelo BAA (Acordo de Parceiro Comercial) da HIPAA.</span><span class="sxs-lookup"><span data-stu-id="a8013-151">**HIPAA compliance**: Healthcare customers and Independent Software Vendors (ISVs) might choose [SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) instead of [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md) because SQL Server in an Azure Virtual Machine is covered by HIPAA Business Associate Agreement (BAA).</span></span> <span data-ttu-id="a8013-152">Para obter informações sobre conformidade, veja [Central de Confiabilidade do Microsoft Azure: conformidade](https://azure.microsoft.com/support/trust-center/compliance/).</span><span class="sxs-lookup"><span data-stu-id="a8013-152">For information on compliance, see [Microsoft Azure Trust Center: Compliance](https://azure.microsoft.com/support/trust-center/compliance/).</span></span>
  * <span data-ttu-id="a8013-153">**Recursos de nível de instância**: neste momento, banco de dados SQL não oferece suporte a recursos que residem fora do banco de dados da saudação (como servidores vinculados, agente de trabalhos, FileStream, o Service Broker, etc.).</span><span class="sxs-lookup"><span data-stu-id="a8013-153">**Instance-level features**: At this time, SQL Database doesn’t support features that live outside of hello database (such as Linked Servers, Agent jobs, FileStream, Service Broker, etc.).</span></span> <span data-ttu-id="a8013-154">Para obter mais informações, veja [Diretrizes e limitações do Banco de Dados SQL do Azure](https://msdn.microsoft.com/library/azure/ff394102.aspx).</span><span class="sxs-lookup"><span data-stu-id="a8013-154">For more information, see [Azure SQL Database Guidelines and Limitations](https://msdn.microsoft.com/library/azure/ff394102.aspx).</span></span>

## <a name="1-tier-simple-single-virtual-machine"></a><span data-ttu-id="a8013-155">Uma camada (simples): máquina virtual única</span><span class="sxs-lookup"><span data-stu-id="a8013-155">1-tier (simple): single virtual machine</span></span>
<span data-ttu-id="a8013-156">Nesse padrão de aplicativo, você pode implantar seu aplicativo do SQL Server e a máquina virtual do banco de dados tooa autônoma no Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-156">In this application pattern, you deploy your SQL Server application and database tooa standalone virtual machine in Azure.</span></span> <span data-ttu-id="a8013-157">Olá mesma máquina virtual contém seu aplicativo cliente/web, componentes de negócios, camada de acesso a dados e servidor de banco de dados de saudação.</span><span class="sxs-lookup"><span data-stu-id="a8013-157">hello same virtual machine contains your client/web application, business components, data access layer, and hello database server.</span></span> <span data-ttu-id="a8013-158">Olá apresentação, negócios e código de acesso a dados são separados logicamente, mas estão fisicamente localizados em uma máquina de servidor único.</span><span class="sxs-lookup"><span data-stu-id="a8013-158">hello presentation, business, and data access code are logically separated but are physically located in a single-server machine.</span></span> <span data-ttu-id="a8013-159">A maioria dos clientes iniciar com um padrão de aplicativo e, em seguida, eles expansão adicionando mais sistema tootheir de máquinas virtuais ou funções de web.</span><span class="sxs-lookup"><span data-stu-id="a8013-159">Most customers start with this application pattern and then, they scale out by adding more web roles or virtual machines tootheir system.</span></span>

<span data-ttu-id="a8013-160">Esse padrão de aplicativo é útil quando:</span><span class="sxs-lookup"><span data-stu-id="a8013-160">This application pattern is useful when:</span></span>

* <span data-ttu-id="a8013-161">Você deseja tooperform tooevaluate de plataforma de tooAzure uma migração simples se a plataforma de saudação atende aos requisitos do aplicativo ou não.</span><span class="sxs-lookup"><span data-stu-id="a8013-161">You want tooperform a simple migration tooAzure platform tooevaluate whether hello platform answers your application’s requirements or not.</span></span>
* <span data-ttu-id="a8013-162">Você deseja tookeep todos Olá camadas de aplicativo hospedadas no hello mesmo virtual da máquina no hello mesmo Datacenter do Azure a latência entre camadas Olá tooreduce.</span><span class="sxs-lookup"><span data-stu-id="a8013-162">You want tookeep all hello application tiers hosted in hello same virtual machine in hello same Azure data center tooreduce hello latency between tiers.</span></span>
* <span data-ttu-id="a8013-163">Você deseja tooquickly desenvolvimento de provisionar e ambientes de teste por curtos períodos de tempo.</span><span class="sxs-lookup"><span data-stu-id="a8013-163">You want tooquickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="a8013-164">Você deseja que o teste de estresse tooperform para níveis de carga de trabalho, mas a saudação ao mesmo tempo, você não deseja tooown e manter físico muitas máquinas todo o tempo de saudação.</span><span class="sxs-lookup"><span data-stu-id="a8013-164">You want tooperform stress testing for varying workload levels but at hello same time you do not want tooown and maintain many physical machines all hello time.</span></span>

<span data-ttu-id="a8013-165">Olá diagrama a seguir demonstra um local simples cenário e como você pode implantar sua solução de nuvem habilitada em uma única máquina virtual no Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-165">hello following diagram demonstrates a simple on-premises scenario and how you can deploy its cloud enabled solution in a single virtual machine in Azure.</span></span>

![Padrão de aplicativo de uma camada](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728008.png)

<span data-ttu-id="a8013-167">Implantar a camada de negócios da saudação (lógica de negócios e componentes de acesso a dados) em Olá mesma camada física da camada de apresentação Olá pode maximizar o desempenho do aplicativo, a menos que você deve usar uma camada separada devido a questões de segurança ou tooscalability.</span><span class="sxs-lookup"><span data-stu-id="a8013-167">Deploying hello business layer (business logic and data access components) on hello same physical tier as hello presentation layer can maximize application performance, unless you must use a separate tier due tooscalability or security concerns.</span></span>

<span data-ttu-id="a8013-168">Como esse é um toostart padrão muito comum com, talvez você ache Olá artigo sobre a migração útil para mover seu dados tooyour VM do SQL Server a seguir: [migrando um banco de dados tooSQL Server em uma VM do Azure](virtual-machines-windows-migrate-sql.md).</span><span class="sxs-lookup"><span data-stu-id="a8013-168">Since this is a very common pattern toostart with, you might find hello following article on migration useful for moving your data tooyour SQL Server VM: [Migrating a Database tooSQL Server on an Azure VM](virtual-machines-windows-migrate-sql.md).</span></span>

## <a name="3-tier-simple-multiple-virtual-machines"></a><span data-ttu-id="a8013-169">Três camadas (simples): várias máquinas virtuais</span><span class="sxs-lookup"><span data-stu-id="a8013-169">3-tier (simple): multiple virtual machines</span></span>
<span data-ttu-id="a8013-170">Nesse padrão de aplicativo, você implanta um aplicativo de três camadas no Azure colocando cada camada do aplicativo em uma máquina virtual diferente.</span><span class="sxs-lookup"><span data-stu-id="a8013-170">In this application pattern, you deploy a 3-tier application in Azure by placing each application tier in a different virtual machine.</span></span> <span data-ttu-id="a8013-171">Isso fornece um ambiente flexível para facilitar cenários de ampliação e redução.</span><span class="sxs-lookup"><span data-stu-id="a8013-171">This provides a flexible environment for an easy scale-up and scale-out scenarios.</span></span> <span data-ttu-id="a8013-172">Quando uma máquina virtual contém seu aplicativo web do cliente, Olá outro hospeda seus componentes corporativos e Olá outro servidor de banco de dados um hospeda hello.</span><span class="sxs-lookup"><span data-stu-id="a8013-172">When one virtual machine contains your client/web application, hello other one hosts your business components, and hello other one hosts hello database server.</span></span>

<span data-ttu-id="a8013-173">Esse padrão de aplicativo é útil quando:</span><span class="sxs-lookup"><span data-stu-id="a8013-173">This application pattern is useful when:</span></span>

* <span data-ttu-id="a8013-174">Você deseja tooperform uma migração de aplicativos de banco de dados complexo tooAzure máquinas virtuais.</span><span class="sxs-lookup"><span data-stu-id="a8013-174">You want tooperform a migration of complex database applications tooAzure Virtual Machines.</span></span>
* <span data-ttu-id="a8013-175">Você deseja toobe de camadas diferentes aplicativos hospedado em regiões diferentes.</span><span class="sxs-lookup"><span data-stu-id="a8013-175">You want different application tiers toobe hosted in different regions.</span></span> <span data-ttu-id="a8013-176">Por exemplo, você pode ter bancos de dados compartilhados que são implantados toomultiple regiões para fins de relatório.</span><span class="sxs-lookup"><span data-stu-id="a8013-176">For example, you might have shared databases that are deployed toomultiple regions for reporting purposes.</span></span>
* <span data-ttu-id="a8013-177">Você deseja toomove aplicativos de empresa do local virtualizado plataformas tooAzure máquinas virtuais.</span><span class="sxs-lookup"><span data-stu-id="a8013-177">You want toomove enterprise applications from on-premises virtualized platforms tooAzure Virtual Machines.</span></span> <span data-ttu-id="a8013-178">Para ver uma discussão detalhada sobre aplicativos empresariais, confira [O que é um Aplicativo Empresarial](https://msdn.microsoft.com/library/aa267045.aspx).</span><span class="sxs-lookup"><span data-stu-id="a8013-178">For a detailed discussion on enterprise applications, see [What is an Enterprise Application](https://msdn.microsoft.com/library/aa267045.aspx).</span></span>
* <span data-ttu-id="a8013-179">Você deseja tooquickly desenvolvimento de provisionar e ambientes de teste por curtos períodos de tempo.</span><span class="sxs-lookup"><span data-stu-id="a8013-179">You want tooquickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="a8013-180">Você deseja que o teste de estresse tooperform para níveis de carga de trabalho, mas a saudação ao mesmo tempo, você não deseja tooown e manter físico muitas máquinas todo o tempo de saudação.</span><span class="sxs-lookup"><span data-stu-id="a8013-180">You want tooperform stress testing for varying workload levels but at hello same time you do not want tooown and maintain many physical machines all hello time.</span></span>

<span data-ttu-id="a8013-181">Olá diagrama a seguir demonstra como você pode colocar um simple aplicativo de camada 3 no Azure colocando cada camada de aplicativo em uma máquina virtual diferente.</span><span class="sxs-lookup"><span data-stu-id="a8013-181">hello following diagram demonstrates how you can place a simple 3-tier application in Azure by placing each application tier in a different virtual machine.</span></span>

![padrão de aplicativo de três camadas](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728009.png)

<span data-ttu-id="a8013-183">Neste padrão de aplicativo, há apenas uma VM (máquina virtual) em cada camada.</span><span class="sxs-lookup"><span data-stu-id="a8013-183">In this application pattern, there is only one virtual machine (VM) in each tier.</span></span> <span data-ttu-id="a8013-184">Se você tiver várias VMs no Azure, recomendamos configurar uma rede virtual.</span><span class="sxs-lookup"><span data-stu-id="a8013-184">If you have multiple VMs in Azure, we recommend that you set up a virtual network.</span></span> <span data-ttu-id="a8013-185">[Rede Virtual do Azure](../../../virtual-network/virtual-networks-overview.md) cria um limite de segurança confiável e também permite que toocommunicate VMs entre si pelo endereço IP privado de saudação.</span><span class="sxs-lookup"><span data-stu-id="a8013-185">[Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) creates a trusted security boundary and also allows VMs toocommunicate among themselves over hello private IP address.</span></span> <span data-ttu-id="a8013-186">Além disso, sempre Certifique-se de que todas as conexões de Internet apenas vão toohello da camada de apresentação.</span><span class="sxs-lookup"><span data-stu-id="a8013-186">In addition, always make sure that all Internet connections only go toohello presentation tier.</span></span> <span data-ttu-id="a8013-187">Ao seguir esse padrão de aplicativo, gerencie o acesso de toocontrol regras do grupo de segurança de rede hello.</span><span class="sxs-lookup"><span data-stu-id="a8013-187">When following this application pattern, manage hello network security group rules toocontrol access.</span></span> <span data-ttu-id="a8013-188">Para obter mais informações, consulte [permitir acesso externo tooyour VM usando Olá portal do Azure](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="a8013-188">For more information, see [Allow external access tooyour VM using hello Azure portal](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="a8013-189">No diagrama de hello, protocolos de Internet pode ser TCP, UDP, HTTP ou HTTPS.</span><span class="sxs-lookup"><span data-stu-id="a8013-189">In hello diagram, Internet Protocols can be TCP, UDP, HTTP, or HTTPS.</span></span>

> [!NOTE]
> <span data-ttu-id="a8013-190">Configurar uma rede virtual no Azure é gratuito.</span><span class="sxs-lookup"><span data-stu-id="a8013-190">Setting up a virtual network in Azure is free of charge.</span></span> <span data-ttu-id="a8013-191">No entanto, você é cobrado para gateway de VPN de saudação que se conecta tooon local.</span><span class="sxs-lookup"><span data-stu-id="a8013-191">However, you are charged for hello VPN gateway that connects tooon-premises.</span></span> <span data-ttu-id="a8013-192">A cobrança baseia-se a quantidade de saudação do tempo de conexão é provisionado e está disponível.</span><span class="sxs-lookup"><span data-stu-id="a8013-192">This charge is based on hello amount of time that connection is provisioned and available.</span></span>
> 
> 

## <a name="2-tier-and-3-tier-with-presentation-tier-scale-out"></a><span data-ttu-id="a8013-193">Duas e três camadas com dimensionamento da camada de apresentação</span><span class="sxs-lookup"><span data-stu-id="a8013-193">2-tier and 3-tier with presentation tier scale-out</span></span>
<span data-ttu-id="a8013-194">Nesse padrão de aplicativo, você pode implantar banco de dados de camada 2 ou 3 aplicativo tooAzure máquinas virtuais, colocando cada camada de aplicativo em uma máquina virtual diferente.</span><span class="sxs-lookup"><span data-stu-id="a8013-194">In this application pattern, you deploy 2-tier or 3-tier database application tooAzure Virtual Machines by placing each application tier in a different virtual machine.</span></span> <span data-ttu-id="a8013-195">Além disso, você expansão da camada de apresentação Olá devido tooincreased volume de solicitações de cliente recebidas.</span><span class="sxs-lookup"><span data-stu-id="a8013-195">In addition, you scale out hello presentation tier due tooincreased volume of incoming client requests.</span></span>

<span data-ttu-id="a8013-196">Esse padrão de aplicativo é útil quando:</span><span class="sxs-lookup"><span data-stu-id="a8013-196">This application pattern is useful when:</span></span>

* <span data-ttu-id="a8013-197">Você deseja toomove aplicativos de empresa do local virtualizado plataformas tooAzure máquinas virtuais.</span><span class="sxs-lookup"><span data-stu-id="a8013-197">You want toomove enterprise applications from on-premises virtualized platforms tooAzure Virtual Machines.</span></span>
* <span data-ttu-id="a8013-198">Você deseja tooscale a camada de apresentação Olá devido tooincreased volume de solicitações de cliente recebidas.</span><span class="sxs-lookup"><span data-stu-id="a8013-198">You want tooscale out hello presentation tier due tooincreased volume of incoming client requests.</span></span>
* <span data-ttu-id="a8013-199">Você deseja tooquickly desenvolvimento de provisionar e ambientes de teste por curtos períodos de tempo.</span><span class="sxs-lookup"><span data-stu-id="a8013-199">You want tooquickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="a8013-200">Você deseja que o teste de estresse tooperform para níveis de carga de trabalho, mas a saudação ao mesmo tempo, você não deseja tooown e manter físico muitas máquinas todo o tempo de saudação.</span><span class="sxs-lookup"><span data-stu-id="a8013-200">You want tooperform stress testing for varying workload levels but at hello same time you do not want tooown and maintain many physical machines all hello time.</span></span>
* <span data-ttu-id="a8013-201">Você deseja tooown um ambiente de infraestrutura que pode ser dimensionada para cima e para baixo sob demanda.</span><span class="sxs-lookup"><span data-stu-id="a8013-201">You want tooown an infrastructure environment that can scale up and down on demand.</span></span>

<span data-ttu-id="a8013-202">Olá diagrama a seguir demonstra como você pode colocar as camadas do aplicativo hello em várias máquinas virtuais no Azure pela expansão da camada de apresentação Olá devido tooincreased volume de solicitações de cliente recebidas.</span><span class="sxs-lookup"><span data-stu-id="a8013-202">hello following diagram demonstrates how you can place hello application tiers in multiple virtual machines in Azure by scaling out hello presentation tier due tooincreased volume of incoming client requests.</span></span> <span data-ttu-id="a8013-203">Conforme visto no diagrama hello, balanceador de carga do Azure é responsável por distribuir o tráfego entre várias máquinas virtuais e também determinar quais tooconnect do servidor web para.</span><span class="sxs-lookup"><span data-stu-id="a8013-203">As seen in hello diagram, Azure Load Balancer is responsible for distributing traffic across multiple virtual machines and also determining which web server tooconnect to.</span></span> <span data-ttu-id="a8013-204">Ter várias instâncias dos servidores de web hello atrás de um balanceador de carga garante a alta disponibilidade de saudação da camada de apresentação de saudação.</span><span class="sxs-lookup"><span data-stu-id="a8013-204">Having multiple instances of hello web servers behind a load balancer ensures hello high availability of hello presentation tier.</span></span>

![Padrão de aplicativo - escalamento horizontal da camada de apresentação](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728010.png)

### <a name="best-practices-for-2-tier-3-tier-or-n-tier-patterns-that-have-multiple-vms-in-one-tier"></a><span data-ttu-id="a8013-206">Práticas recomendadas para padrões de duas, três ou n camadas que têm várias VMs em uma camada</span><span class="sxs-lookup"><span data-stu-id="a8013-206">Best practices for 2-tier, 3-tier, or n-tier patterns that have multiple VMs in one tier</span></span>
<span data-ttu-id="a8013-207">É recomendável que você coloque máquinas virtuais Olá que pertencem a toohello mesma camada no hello mesmo serviço de nuvem e em Olá mesmo Olá conjunto de disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="a8013-207">It’s recommended that you place hello virtual machines that belong toohello same tier in hello same cloud service and in hello same hello availability set.</span></span> <span data-ttu-id="a8013-208">Por exemplo, coloque um conjunto de servidores Web em **CloudService1** e **AvailabilitySet1** e um conjunto de servidores de banco de dados em **CloudService2** e **AvailabilitySet2**.</span><span class="sxs-lookup"><span data-stu-id="a8013-208">For example, place a set of web servers in **CloudService1** and **AvailabilitySet1** and a set of database servers in **CloudService2** and **AvailabilitySet2**.</span></span> <span data-ttu-id="a8013-209">Uma conjunto de disponibilidade no Azure permite que nós de alta disponibilidade Olá tooplace em domínios de falha e domínios de atualização.</span><span class="sxs-lookup"><span data-stu-id="a8013-209">An availability set in Azure enables you tooplace hello high availability nodes into separate fault domains and upgrade domains.</span></span>

<span data-ttu-id="a8013-210">tooleverage várias instâncias VM de uma camada, você precisa tooconfigure balanceador de carga do Azure entre camadas de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a8013-210">tooleverage multiple VM instances of a tier, you need tooconfigure Azure Load Balancer between application tiers.</span></span> <span data-ttu-id="a8013-211">tooconfigure balanceador de carga em cada camada, crie um ponto de extremidade com balanceamento de carga em VMs de cada camada separadamente.</span><span class="sxs-lookup"><span data-stu-id="a8013-211">tooconfigure Load Balancer in each tier, create a load-balanced endpoint on each tier’s VMs separately.</span></span> <span data-ttu-id="a8013-212">Para uma camada específica, primeiro crie VMs no hello mesmo serviço de nuvem.</span><span class="sxs-lookup"><span data-stu-id="a8013-212">For a specific tier, first create VMs in hello same cloud service.</span></span> <span data-ttu-id="a8013-213">Isso garante que eles tenham Olá mesmo endereço IP Virtual público.</span><span class="sxs-lookup"><span data-stu-id="a8013-213">This ensures that they have hello same public Virtual IP address.</span></span> <span data-ttu-id="a8013-214">Em seguida, crie um ponto de extremidade em uma saudação máquinas virtuais nessa camada.</span><span class="sxs-lookup"><span data-stu-id="a8013-214">Next, create an endpoint on one of hello virtual machines on that tier.</span></span> <span data-ttu-id="a8013-215">Em seguida, atribuir Olá toohello do mesmo ponto de extremidade com outras máquinas virtuais nessa camada para balanceamento de carga.</span><span class="sxs-lookup"><span data-stu-id="a8013-215">Then, assign hello same endpoint toohello other virtual machines on that tier for load balancing.</span></span> <span data-ttu-id="a8013-216">Criando um conjunto com balanceamento de carga, você distribuir o tráfego entre várias máquinas virtuais e também permitir Olá balanceador de carga toodetermine tooconnect qual nó quando não é um nó VM back-end.</span><span class="sxs-lookup"><span data-stu-id="a8013-216">By creating a load-balanced set, you distribute traffic across multiple virtual machines and also allow hello Load Balancer toodetermine which node tooconnect when a backend VM node fails.</span></span> <span data-ttu-id="a8013-217">Por exemplo, ter várias instâncias dos servidores de web hello atrás de um balanceador de carga garante a alta disponibilidade Olá da camada de apresentação de saudação.</span><span class="sxs-lookup"><span data-stu-id="a8013-217">For example, having multiple instances of hello web servers behind a load balancer ensures hello high availability of hello presentation tier.</span></span>

<span data-ttu-id="a8013-218">Como prática recomendada, sempre Certifique-se de que todas as conexões de internet vão primeiro toohello da camada de apresentação.</span><span class="sxs-lookup"><span data-stu-id="a8013-218">As a best practice, always make sure that all internet connections first go toohello presentation tier.</span></span> <span data-ttu-id="a8013-219">camada de apresentação de saudação acessa a camada de negócios hello e, em seguida, camada de negócios Olá acessa a camada de dados hello.</span><span class="sxs-lookup"><span data-stu-id="a8013-219">hello presentation layer accesses hello business tier, and then hello business tier accesses hello data tier.</span></span> <span data-ttu-id="a8013-220">Para obter mais informações sobre como tooallow acessar a camada de apresentação toohello, consulte [permitir acesso externo tooyour VM usando Olá portal do Azure](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="a8013-220">For more information on how tooallow access toohello presentation layer, see [Allow external access tooyour VM using hello Azure portal](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="a8013-221">Observe que Olá balanceador de carga no Azure funciona balanceadores de tooload semelhante em um ambiente local.</span><span class="sxs-lookup"><span data-stu-id="a8013-221">Note that hello Load Balancer in Azure works similar tooload balancers in an on-premises environment.</span></span> <span data-ttu-id="a8013-222">Para obter mais informações, veja [Balanceamento de carga para serviços de infraestrutura do Azure](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="a8013-222">For more information, see [Load balancing for Azure infrastructure services](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="a8013-223">Além disso, recomendamos que você configure uma rede privada para suas máquinas virtuais usando a Rede Virtual do Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-223">In addition, we recommend that you set up a private network for your virtual machines by using Azure Virtual Network.</span></span> <span data-ttu-id="a8013-224">Isso permite que eles toocommunicate entre si pelo endereço IP privado de saudação.</span><span class="sxs-lookup"><span data-stu-id="a8013-224">This allows them toocommunicate among themselves over hello private IP address.</span></span> <span data-ttu-id="a8013-225">Para obter mais informações, veja [Rede Virtual do Azure](../../../virtual-network/virtual-networks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="a8013-225">For more information, see [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md).</span></span>

## <a name="2-tier-and-3-tier-with-business-tier-scale-out"></a><span data-ttu-id="a8013-226">Duas e três camadas com dimensionamento da camada de negócios</span><span class="sxs-lookup"><span data-stu-id="a8013-226">2-tier and 3-tier with business tier scale-out</span></span>
<span data-ttu-id="a8013-227">Nesse padrão de aplicativo, você pode implantar banco de dados de camada 2 ou 3 aplicativo tooAzure máquinas virtuais, colocando cada camada de aplicativo em uma máquina virtual diferente.</span><span class="sxs-lookup"><span data-stu-id="a8013-227">In this application pattern, you deploy 2-tier or 3-tier database application tooAzure Virtual Machines by placing each application tier in a different virtual machine.</span></span> <span data-ttu-id="a8013-228">Além disso, convém toodistribute Olá aplicativo componentes toomultiple máquinas virtuais do servidor devido a complexidade de toohello do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a8013-228">In addition, you might want toodistribute hello application server components toomultiple virtual machines due toohello complexity of your application.</span></span>

<span data-ttu-id="a8013-229">Esse padrão de aplicativo é útil quando:</span><span class="sxs-lookup"><span data-stu-id="a8013-229">This application pattern is useful when:</span></span>

* <span data-ttu-id="a8013-230">Você deseja toomove aplicativos de empresa do local virtualizado plataformas tooAzure máquinas virtuais.</span><span class="sxs-lookup"><span data-stu-id="a8013-230">You want toomove enterprise applications from on-premises virtualized platforms tooAzure Virtual Machines.</span></span>
* <span data-ttu-id="a8013-231">Você deseja toodistribute Olá aplicativo servidor componentes toomultiple máquinas virtuais devido toohello complexidade do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a8013-231">You want toodistribute hello application server components toomultiple virtual machines due toohello complexity of your application.</span></span>
* <span data-ttu-id="a8013-232">Você deseja aplicativos toomove negócios lógica pesado local LOB (linha de negócios) tooAzure máquinas virtuais.</span><span class="sxs-lookup"><span data-stu-id="a8013-232">You want toomove business logic heavy on-premises LOB (line-of-business) applications tooAzure Virtual Machines.</span></span> <span data-ttu-id="a8013-233">Aplicativos de LOB são um conjunto de aplicativos de computador crítico que são vital toorunning uma empresa, como contabilidade, recursos humanos (RH), folha de pagamento, gerenciamento da cadeia de fornecedores e aplicativos de planejamento de recursos.</span><span class="sxs-lookup"><span data-stu-id="a8013-233">LOB applications are a set of critical computer applications that are vital toorunning an enterprise, such as accounting, human resources (HR), payroll, supply chain management, and resource planning applications.</span></span>
* <span data-ttu-id="a8013-234">Você deseja tooquickly desenvolvimento de provisionar e ambientes de teste por curtos períodos de tempo.</span><span class="sxs-lookup"><span data-stu-id="a8013-234">You want tooquickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="a8013-235">Você deseja que o teste de estresse tooperform para níveis de carga de trabalho, mas a saudação ao mesmo tempo, você não deseja tooown e manter físico muitas máquinas todo o tempo de saudação.</span><span class="sxs-lookup"><span data-stu-id="a8013-235">You want tooperform stress testing for varying workload levels but at hello same time you do not want tooown and maintain many physical machines all hello time.</span></span>
* <span data-ttu-id="a8013-236">Você deseja tooown um ambiente de infraestrutura que pode ser dimensionada para cima e para baixo sob demanda.</span><span class="sxs-lookup"><span data-stu-id="a8013-236">You want tooown an infrastructure environment that can scale up and down on demand.</span></span>

<span data-ttu-id="a8013-237">Olá diagrama a seguir demonstra um cenário local e sua solução habilitada para nuvem.</span><span class="sxs-lookup"><span data-stu-id="a8013-237">hello following diagram demonstrates an on-premises scenario and its cloud enabled solution.</span></span> <span data-ttu-id="a8013-238">Nesse cenário, você coloca as camadas do aplicativo hello em várias máquinas virtuais no Azure pela expansão da camada de negócios do hello, que contém a camada de lógica de negócios hello e componentes de acesso a dados.</span><span class="sxs-lookup"><span data-stu-id="a8013-238">In this scenario, you place hello application tiers in multiple virtual machines in Azure by scaling out hello business tier, which contains hello business logic tier and data access components.</span></span> <span data-ttu-id="a8013-239">Conforme visto no diagrama hello, balanceador de carga do Azure é responsável por distribuir o tráfego entre várias máquinas virtuais e também determinar quais tooconnect do servidor web para.</span><span class="sxs-lookup"><span data-stu-id="a8013-239">As seen in hello diagram, Azure Load Balancer is responsible for distributing traffic across multiple virtual machines and also determining which web server tooconnect to.</span></span> <span data-ttu-id="a8013-240">Ter várias instâncias dos servidores de aplicativo hello atrás de um balanceador de carga garante a alta disponibilidade de saudação da camada de negócios hello.</span><span class="sxs-lookup"><span data-stu-id="a8013-240">Having multiple instances of hello application servers behind a load balancer ensures hello high availability of hello business tier.</span></span> <span data-ttu-id="a8013-241">Para obter mais informações, veja [Práticas recomendadas para padrões de aplicativos de duas, três ou n camadas que têm várias máquinas virtuais em uma camada](#best-practices-for-2-tier-3-tier-or-n-tier-patterns-that-have-multiple-vms-in-one-tier).</span><span class="sxs-lookup"><span data-stu-id="a8013-241">For more information, see [Best practices for 2-tier, 3-tier, or n-tier application patterns that have multiple virtual machines in one tier](#best-practices-for-2-tier-3-tier-or-n-tier-patterns-that-have-multiple-vms-in-one-tier).</span></span>

![Padrão de aplicativo com escalamento horizontal da camada de negócios](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728011.png)

## <a name="2-tier-and-3-tier-with-presentation-and-business-tiers-scale-out-and-hadr"></a><span data-ttu-id="a8013-243">Duas e três camadas com expansão das camadas de negócios e apresentação e HADR</span><span class="sxs-lookup"><span data-stu-id="a8013-243">2-tier and 3-tier with presentation and business tiers scale-out and HADR</span></span>
<span data-ttu-id="a8013-244">Nesse padrão de aplicativo, você implanta o banco de dados de camada 2 ou 3 aplicativo tooAzure máquinas virtuais através da distribuição de camada de apresentação da saudação (servidor web) e Olá máquinas virtuais toomultiple de componentes do business camada (servidor de aplicativos).</span><span class="sxs-lookup"><span data-stu-id="a8013-244">In this application pattern, you deploy 2-tier or 3-tier database application tooAzure Virtual Machines by distributing hello presentation tier (web server) and hello business tier (application server) components toomultiple virtual machines.</span></span> <span data-ttu-id="a8013-245">Além disso, você deve implementar soluções de recuperação de desastres e alta disponibilidade em seus bancos de dados nas máquinas virtuais do Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-245">In addition, you implement high-availability and disaster recovery solutions for your databases in Azure virtual machines.</span></span>

<span data-ttu-id="a8013-246">Esse padrão de aplicativo é útil quando:</span><span class="sxs-lookup"><span data-stu-id="a8013-246">This application pattern is useful when:</span></span>

* <span data-ttu-id="a8013-247">Você deseja que os aplicativos do enterprise toomove de plataformas virtualizadas locais tooAzure com a implementação de alta disponibilidade e desastres recuperação recursos do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="a8013-247">You want toomove enterprise applications from virtualized platforms on-premises tooAzure by implementing SQL Server high availability and disaster recovery capabilities.</span></span>
* <span data-ttu-id="a8013-248">Você deseja tooscale da camada de apresentação hello e camada de negócios Olá devido tooincreased volume de solicitações de cliente e a complexidade de saudação do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a8013-248">You want tooscale out hello presentation tier and hello business tier due tooincreased volume of incoming client requests and hello complexity of your application.</span></span>
* <span data-ttu-id="a8013-249">Você deseja tooquickly desenvolvimento de provisionar e ambientes de teste por curtos períodos de tempo.</span><span class="sxs-lookup"><span data-stu-id="a8013-249">You want tooquickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="a8013-250">Você deseja que o teste de estresse tooperform para níveis de carga de trabalho, mas a saudação ao mesmo tempo, você não deseja tooown e manter físico muitas máquinas todo o tempo de saudação.</span><span class="sxs-lookup"><span data-stu-id="a8013-250">You want tooperform stress testing for varying workload levels but at hello same time you do not want tooown and maintain many physical machines all hello time.</span></span>
* <span data-ttu-id="a8013-251">Você deseja tooown um ambiente de infraestrutura que pode ser dimensionada para cima e para baixo sob demanda.</span><span class="sxs-lookup"><span data-stu-id="a8013-251">You want tooown an infrastructure environment that can scale up and down on demand.</span></span>

<span data-ttu-id="a8013-252">Olá diagrama a seguir demonstra um cenário local e sua solução habilitada para nuvem.</span><span class="sxs-lookup"><span data-stu-id="a8013-252">hello following diagram demonstrates an on-premises scenario and its cloud enabled solution.</span></span> <span data-ttu-id="a8013-253">Nesse cenário, a expansão da camada de apresentação hello e componentes de camada de negócios Olá em várias máquinas virtuais no Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-253">In this scenario, you scale out hello presentation tier and hello business tier components in multiple virtual machines in Azure.</span></span> <span data-ttu-id="a8013-254">Além disso, você deve implementar técnicas de HADR (alta disponibilidade e recuperação de desastres) em seus bancos de dados do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="a8013-254">In addition, you implement high availability and disaster recovery (HADR) techniques for SQL Server databases in Azure.</span></span>

<span data-ttu-id="a8013-255">Ao executar várias cópias de um aplicativo em diferentes VMs, certifique-se de estar balanceando a carga de solicitações entre elas.</span><span class="sxs-lookup"><span data-stu-id="a8013-255">Running multiple copies of an application in different VMs make sure that you are load balancing requests across them.</span></span> <span data-ttu-id="a8013-256">Quando você tiver várias máquinas virtuais, você precisa toomake-se de que todas as suas VMs estejam acessíveis e em execução em um ponto no tempo.</span><span class="sxs-lookup"><span data-stu-id="a8013-256">When you have multiple virtual machines, you need toomake sure that all your VMs are accessible and running at one point in time.</span></span> <span data-ttu-id="a8013-257">Se você configurar o balanceamento de carga, faixas de Balanceador de carga do Azure Olá integridade das VMs e direciona a entrada chamadas toohello nós de VM funcionando corretamente.</span><span class="sxs-lookup"><span data-stu-id="a8013-257">If you configure load balancing, Azure Load Balancer tracks hello health of VMs and directs incoming calls toohello healthy functioning VM nodes properly.</span></span> <span data-ttu-id="a8013-258">Para obter informações sobre como tooset o balanceamento de carga de máquinas virtuais de hello, consulte [balanceamento de carga para serviços de infraestrutura do Azure](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="a8013-258">For information on how tooset up load balancing of hello virtual machines, see [Load balancing for Azure infrastructure services](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span> <span data-ttu-id="a8013-259">Ter várias instâncias dos servidores web e aplicativos atrás de um balanceador de carga garante alta disponibilidade Olá Olá camadas de apresentação e de negócios.</span><span class="sxs-lookup"><span data-stu-id="a8013-259">Having multiple instances of web and application servers behind a load balancer ensures hello high availability of hello presentation and business tiers.</span></span>

![Escalamento horizontal e alta disponibilidade](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728012.png)

### <a name="best-practices-for-application-patterns-requiring-sql-hadr"></a><span data-ttu-id="a8013-261">Práticas recomendadas para padrões de aplicativo que exigem HADR SQL</span><span class="sxs-lookup"><span data-stu-id="a8013-261">Best practices for application patterns requiring SQL HADR</span></span>
<span data-ttu-id="a8013-262">Quando você configura soluções de alta disponibilidade e recuperação de desastre do SQL Server nas Máquinas Virtuais do Azure, é obrigatório configurar uma rede virtual para suas máquinas virtuais usando a [Rede Virtual do Azure](../../../virtual-network/virtual-networks-overview.md) .</span><span class="sxs-lookup"><span data-stu-id="a8013-262">When you set up SQL Server high availability and disaster recovery solutions in Azure Virtual Machines, setting up a virtual network for your virtual machines using [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) is mandatory.</span></span>  <span data-ttu-id="a8013-263">Máquinas virtuais em uma rede Virtual terão um endereço IP privado estável mesmo após um tempo de inatividade do serviço, assim você pode evitar o tempo de atualização de saudação necessário para a resolução de nome DNS.</span><span class="sxs-lookup"><span data-stu-id="a8013-263">Virtual machines within a Virtual Network will have a stable private IP address even after a service downtime, thus you can avoid hello update time required for DNS name resolution.</span></span> <span data-ttu-id="a8013-264">Além disso, rede virtual Olá permite tooextend seus locais de rede tooAzure e cria um limite de segurança confiável.</span><span class="sxs-lookup"><span data-stu-id="a8013-264">In addition, hello virtual network allows you tooextend your on-premises network tooAzure and creates a trusted security boundary.</span></span> <span data-ttu-id="a8013-265">Por exemplo, se o seu aplicativo tiver restrições de domínio corporativo (por exemplo, autenticação do Windows, Active Directory), é necessário configurar a [Rede Virtual do Azure](../../../virtual-network/virtual-networks-overview.md) .</span><span class="sxs-lookup"><span data-stu-id="a8013-265">For example, if your application has corporate domain restrictions (such as, Windows authentication, Active Directory), setting up [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) is necessary.</span></span>

<span data-ttu-id="a8013-266">A maioria dos clientes que estão executando código de produção no Azure mantêm as réplicas primária e secundária no Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-266">Most of customers, who are running production code on Azure, are keeping both primary and secondary replicas in Azure.</span></span>

<span data-ttu-id="a8013-267">Para obter informações abrangentes e tutoriais sobre técnicas de alta disponibilidade e recuperação de desastres, veja [Alta disponibilidade e recuperação de desastre para o SQL Server nas Máquinas Virtuais do Azure](virtual-machines-windows-sql-high-availability-dr.md).</span><span class="sxs-lookup"><span data-stu-id="a8013-267">For comprehensive information and tutorials on high availability and disaster recovery techniques, see [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span></span>

## <a name="2-tier-and-3-tier-using-azure-vms-and-cloud-services"></a><span data-ttu-id="a8013-268">Duas e três camadas usando Serviços de Nuvem e VMs do Azure</span><span class="sxs-lookup"><span data-stu-id="a8013-268">2-tier and 3-tier using Azure VMs and Cloud Services</span></span>
<span data-ttu-id="a8013-269">Nesse padrão de aplicativo, implantar aplicativos de camada 2 ou 3 tooAzure usando [serviços de nuvem do Azure](../../../cloud-services/cloud-services-choose-me.md#tellmecs) (funções de web e de trabalho - plataforma como serviço (PaaS)) e [máquinas virtuais do Azure](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) ( Infraestrutura como serviço (IaaS)).</span><span class="sxs-lookup"><span data-stu-id="a8013-269">In this application pattern, you deploy 2-tier or 3-tier application tooAzure by using both [Azure Cloud Services](../../../cloud-services/cloud-services-choose-me.md#tellmecs) (web and worker roles - Platform as a Service (PaaS)) and [Azure Virtual Machines](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) (Infrastructure as a Service (IaaS)).</span></span> <span data-ttu-id="a8013-270">Usando [serviços de nuvem do Azure](https://azure.microsoft.com/documentation/services/cloud-services/) para camada de negócios/camada de apresentação hello e SQL Server em [máquinas virtuais do Azure](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) para dados de saudação camada é benéfica para a maioria dos aplicativos em execução no Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-270">Using [Azure Cloud Services](https://azure.microsoft.com/documentation/services/cloud-services/) for hello presentation tier/business tier and SQL Server in [Azure Virtual Machines](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) for hello data tier is beneficial for most applications running on Azure.</span></span> <span data-ttu-id="a8013-271">motivo da saudação é que ter uma instância de computação em execução nos serviços de nuvem fornece uma facilidade de gerenciamento, implantação, monitoramento e expansão.</span><span class="sxs-lookup"><span data-stu-id="a8013-271">hello reason is that having a compute instance running on Cloud Services provides an easy management, deployment, monitoring, and scale-out.</span></span>

<span data-ttu-id="a8013-272">Com serviços de nuvem, o Azure mantém a infraestrutura de saudação para você, realiza manutenção de rotina, patches a sistemas operacionais de saudação e tentativas toorecover contra falhas de hardware e de serviço.</span><span class="sxs-lookup"><span data-stu-id="a8013-272">With Cloud Services, Azure maintains hello infrastructure for you, performs routine maintenance, patches hello operating systems, and attempts toorecover from service and hardware failures.</span></span> <span data-ttu-id="a8013-273">Quando seu aplicativo precisa de expansão, opções de expansão automáticas e manuais estão disponíveis para seu projeto de serviço de nuvem aumentando ou diminuindo o número de saudação de instâncias ou máquinas virtuais que são usadas por seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a8013-273">When your application needs scale-out, automatic, and manual scale-out options are available for your cloud service project by increasing or decreasing hello number of instances or virtual machines that are used by your application.</span></span> <span data-ttu-id="a8013-274">Além disso, você pode usar o local Visual Studio toodeploy seu projeto de serviço de nuvem de tooa do aplicativo no Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-274">In addition, you can use on-premises Visual Studio toodeploy your application tooa cloud service project in Azure.</span></span>

<span data-ttu-id="a8013-275">Em resumo, se você não quiser tooown muitas tarefas administrativas para Olá apresentação/camada de negócios e seu aplicativo não requer qualquer configuração complexa de software ou Olá sistema operacional, use os serviços de nuvem do Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-275">In summary, if you don’t want tooown extensive administrative tasks for hello presentation/business tier and your application does not require any complex configuration of software or hello operating system, use Azure Cloud Services.</span></span> <span data-ttu-id="a8013-276">Se o banco de dados do SQL Azure não oferece suporte a todos os recursos de saudação que você está procurando, use SQL Server em uma máquina Virtual do Azure para a camada de dados de saudação.</span><span class="sxs-lookup"><span data-stu-id="a8013-276">If Azure SQL Database does not support all hello features you are looking for, use SQL Server in an Azure Virtual Machine for hello data tier.</span></span> <span data-ttu-id="a8013-277">Executando um aplicativo em nuvem do Azure e armazenar dados em máquinas virtuais do Azure combinam os benefícios de saudação de ambos os serviços.</span><span class="sxs-lookup"><span data-stu-id="a8013-277">Running an application on Azure Cloud Services and storing data in Azure Virtual Machines combines hello benefits of both services.</span></span> <span data-ttu-id="a8013-278">Para obter uma comparação detalhada, consulte a seção de saudação neste tópico sobre [comparando estratégias de desenvolvimento no Azure](#comparing-web-development-strategies-in-azure).</span><span class="sxs-lookup"><span data-stu-id="a8013-278">For a detailed comparison, see hello section in this topic on [Comparing development strategies in Azure](#comparing-web-development-strategies-in-azure).</span></span>

<span data-ttu-id="a8013-279">Nesse padrão de aplicativo, a camada de apresentação de saudação inclui uma função web, que é um componente de serviços de nuvem em execução no ambiente de execução do Azure hello e ele personalizada para programação de aplicativo web com suporte pelo IIS e ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="a8013-279">In this application pattern, hello presentation tier includes a web role, which is a Cloud Services component running in hello Azure execution environment and it is customized for web application programming as supported by IIS and ASP.NET.</span></span> <span data-ttu-id="a8013-280">Olá a camada de negócios ou de back-end inclui uma função de trabalho, que é um componente de serviços de nuvem em execução no ambiente de execução do Azure hello e ele é útil para desenvolvimento generalizado e pode executar processamento em segundo plano para uma função web.</span><span class="sxs-lookup"><span data-stu-id="a8013-280">hello business or backend tier includes a worker role, which is a Cloud Services component running in hello Azure execution environment and it is useful for generalized development, and may perform background processing for a web role.</span></span> <span data-ttu-id="a8013-281">camada de banco de dados de saudação reside em uma máquina de virtual do SQL Server no Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-281">hello database tier resides in a SQL Server virtual machine in Azure.</span></span> <span data-ttu-id="a8013-282">a comunicação entre a camada de apresentação de saudação e camada de banco de dados de saudação Olá acontece diretamente ou pela camada de negócios hello – componentes da função de trabalho.</span><span class="sxs-lookup"><span data-stu-id="a8013-282">hello communication between hello presentation tier and hello database tier happens directly or over hello business tier – worker role components.</span></span>

<span data-ttu-id="a8013-283">Esse padrão de aplicativo é útil quando:</span><span class="sxs-lookup"><span data-stu-id="a8013-283">This application pattern is useful when:</span></span>

* <span data-ttu-id="a8013-284">Você deseja que os aplicativos do enterprise toomove de plataformas virtualizadas locais tooAzure com a implementação de alta disponibilidade e desastres recuperação recursos do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="a8013-284">You want toomove enterprise applications from virtualized platforms on-premises tooAzure by implementing SQL Server high availability and disaster recovery capabilities.</span></span>
* <span data-ttu-id="a8013-285">Você deseja tooown um ambiente de infraestrutura que pode ser dimensionada para cima e para baixo sob demanda.</span><span class="sxs-lookup"><span data-stu-id="a8013-285">You want tooown an infrastructure environment that can scale up and down on demand.</span></span>
* <span data-ttu-id="a8013-286">Banco de dados SQL do Azure não oferece suporte a todos os recursos de saudação que precisa de seu aplicativo ou banco de dados.</span><span class="sxs-lookup"><span data-stu-id="a8013-286">Azure SQL Database does not support all hello features that your application or database needs.</span></span>
* <span data-ttu-id="a8013-287">Você deseja que o teste de estresse tooperform para níveis de carga de trabalho, mas a saudação ao mesmo tempo, você não deseja tooown e manter físico muitas máquinas todo o tempo de saudação.</span><span class="sxs-lookup"><span data-stu-id="a8013-287">You want tooperform stress testing for varying workload levels but at hello same time you do not want tooown and maintain many physical machines all hello time.</span></span>

<span data-ttu-id="a8013-288">Olá diagrama a seguir demonstra um cenário local e sua solução habilitada para nuvem.</span><span class="sxs-lookup"><span data-stu-id="a8013-288">hello following diagram demonstrates an on-premises scenario and its cloud enabled solution.</span></span> <span data-ttu-id="a8013-289">Nesse cenário, você coloca a camada de apresentação Olá nas funções da web, camada de negócios Olá em funções de trabalho, mas Olá camada de dados em máquinas virtuais no Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-289">In this scenario, you place hello presentation tier in web roles, hello business tier in worker roles but hello data tier in virtual machines in Azure.</span></span> <span data-ttu-id="a8013-290">Executar várias cópias da camada de apresentação de saudação em diferentes funções da web garante solicitações de saldo de tooload entre eles.</span><span class="sxs-lookup"><span data-stu-id="a8013-290">Running multiple copies of hello presentation tier in different web roles ensures tooload balance requests across them.</span></span> <span data-ttu-id="a8013-291">Quando você combina os Serviços de Nuvem do Azure com as Máquinas Virtuais do Azure, recomendamos que você configure também a [Rede Virtual do Azure](../../../virtual-network/virtual-networks-overview.md) .</span><span class="sxs-lookup"><span data-stu-id="a8013-291">When you combine Azure Cloud Services with Azure Virtual Machines, we recommend that you set up [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) as well.</span></span> <span data-ttu-id="a8013-292">Com [rede Virtual do Azure](../../../virtual-network/virtual-networks-overview.md), você pode ter estável e endereços IP privados persistentes no mesmo serviço de nuvem de saudação Olá nuvem.</span><span class="sxs-lookup"><span data-stu-id="a8013-292">With [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md), you can have stable and persistent private IP addresses within hello same cloud service in hello cloud.</span></span> <span data-ttu-id="a8013-293">Quando você define uma rede virtual para as máquinas virtuais e serviços em nuvem, elas podem começar a se comunicar entre si por endereço IP privado de saudação.</span><span class="sxs-lookup"><span data-stu-id="a8013-293">Once you define a virtual network for your virtual machines and cloud services, they can start communicating among themselves over hello private IP address.</span></span> <span data-ttu-id="a8013-294">Além disso, ter máquinas virtuais e funções web/de trabalho do Azure no hello mesmo [rede Virtual do Azure](../../../virtual-network/virtual-networks-overview.md) proporciona baixa latência e conectividade mais segura.</span><span class="sxs-lookup"><span data-stu-id="a8013-294">In addition, having virtual machines and Azure web/worker roles in hello same [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) provides low latency and more secure connectivity.</span></span> <span data-ttu-id="a8013-295">Para obter mais informações, veja [O que é um serviço de nuvem?](../../../cloud-services/cloud-services-choose-me.md)</span><span class="sxs-lookup"><span data-stu-id="a8013-295">For more information, see [What is a cloud service](../../../cloud-services/cloud-services-choose-me.md).</span></span>

<span data-ttu-id="a8013-296">Conforme visto no diagrama Olá, o balanceador de carga do Azure distribui o tráfego entre várias máquinas virtuais e também determina qual servidor web ou servidor de aplicativos tooconnect para.</span><span class="sxs-lookup"><span data-stu-id="a8013-296">As seen in hello diagram, Azure Load Balancer distributes traffic across multiple virtual machines and also determines which web server or application server tooconnect to.</span></span> <span data-ttu-id="a8013-297">Ter várias instâncias dos servidores de web e aplicativos de saudação atrás de um balanceador de carga garante a alta disponibilidade de saudação das camadas de apresentação hello e Olá business.</span><span class="sxs-lookup"><span data-stu-id="a8013-297">Having multiple instances of hello web and application servers behind a load balancer ensures hello high availability of hello presentation tier and hello business tier.</span></span> <span data-ttu-id="a8013-298">Para obter mais informações, veja [Práticas recomendadas para padrões de aplicativos que exigem o HADR SQL](#best-practices-for-application-patterns-requiring-sql-hadr).</span><span class="sxs-lookup"><span data-stu-id="a8013-298">For more information, see [Best practices for application patterns requiring SQL HADR](#best-practices-for-application-patterns-requiring-sql-hadr).</span></span>

![Padrões de aplicativo com Serviços de Nuvem](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728013.png)

<span data-ttu-id="a8013-300">Esse padrão de aplicativo de tooimplement de outra abordagem é toouse uma função web consolidada que contém a camada de apresentação e de componentes da camada de negócios, conforme mostrado na seguinte Olá diagrama.</span><span class="sxs-lookup"><span data-stu-id="a8013-300">Another approach tooimplement this application pattern is toouse a consolidated web role that contains both presentation tier and business tier components as shown in hello following diagram.</span></span> <span data-ttu-id="a8013-301">Esse padrão de aplicativo é útil para aplicativos que requerem um design com monitoração de estado.</span><span class="sxs-lookup"><span data-stu-id="a8013-301">This application pattern is useful for applications that require stateful design.</span></span> <span data-ttu-id="a8013-302">Como o Azure fornece nós de computação sem monitoração de estado em funções web e de trabalho, é recomendável que você implemente um estado de sessão toostore lógica usando uma das seguintes tecnologias de saudação: [cache do Azure](https://azure.microsoft.com/documentation/services/redis-cache/), [oarmazenamentodetabeladoAzure](../../../cosmos-db/table-storage-how-to-use-dotnet.md) ou [banco de dados SQL do Azure](../../../sql-database/sql-database-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="a8013-302">Since Azure provides stateless compute nodes on web and worker roles, we recommend that you implement a logic toostore session state using one of hello following technologies: [Azure Caching](https://azure.microsoft.com/documentation/services/redis-cache/), [Azure Table Storage](../../../cosmos-db/table-storage-how-to-use-dotnet.md) or [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md).</span></span>

![Padrões de aplicativo com Serviços de Nuvem](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728014.png)

## <a name="pattern-with-azure-vms-azure-sql-database-and-azure-app-service-web-apps"></a><span data-ttu-id="a8013-304">Padrão com VMs do Azure, Banco de Dados SQL do Azure e Serviço de Aplicativo do Azure (Aplicativos Web)</span><span class="sxs-lookup"><span data-stu-id="a8013-304">Pattern with Azure VMs, Azure SQL Database, and Azure App Service (Web Apps)</span></span>
<span data-ttu-id="a8013-305">Olá principal objetivo desse padrão de aplicativo é tooshow você como toocombine infraestrutura do Azure como um componentes de serviço (IaaS) com componentes de plataforma como serviço (PaaS) do Azure em sua solução.</span><span class="sxs-lookup"><span data-stu-id="a8013-305">hello primary goal of this application pattern is tooshow you how toocombine Azure infrastructure as a service (IaaS) components with Azure platform-as-a-service components (PaaS) in your solution.</span></span> <span data-ttu-id="a8013-306">Este padrão tem como foco o Banco de Dados SQL do Azure para armazenamento de dados relacionais.</span><span class="sxs-lookup"><span data-stu-id="a8013-306">This pattern is focused on Azure SQL Database for relational data storage.</span></span> <span data-ttu-id="a8013-307">Ele não inclui do SQL Server em uma máquina virtual do Azure, que faz parte da saudação infraestrutura do Azure como uma oferta de serviço.</span><span class="sxs-lookup"><span data-stu-id="a8013-307">It does not include SQL Server in an Azure virtual machine, which is part of hello Azure infrastructure as a service offering.</span></span>

<span data-ttu-id="a8013-308">Nesse padrão de aplicativo, você implanta um tooAzure do aplicativo de banco de dados colocando apresentação hello e Olá de camadas de negócios na mesma máquina virtual e acessando um banco de dados em servidores de banco de dados do SQL do Azure (banco de dados SQL).</span><span class="sxs-lookup"><span data-stu-id="a8013-308">In this application pattern, you deploy a database application tooAzure by placing hello presentation and business tiers in hello same virtual machine and accessing a database in Azure SQL Database (SQL Database) servers.</span></span> <span data-ttu-id="a8013-309">Você pode implementar a camada de apresentação de saudação usando soluções de web tradicionais baseadas em IIS.</span><span class="sxs-lookup"><span data-stu-id="a8013-309">You can implement hello presentation tier by using traditional IIS-based web solutions.</span></span> <span data-ttu-id="a8013-310">Ou você pode implementar uma camada combinada de apresentação e de negócios usando os [Aplicativos Web do Azure](https://azure.microsoft.com/documentation/services/app-service/web/).</span><span class="sxs-lookup"><span data-stu-id="a8013-310">Or, you can implement a combined presentation and business tier by using [Azure Web Apps](https://azure.microsoft.com/documentation/services/app-service/web/).</span></span>

<span data-ttu-id="a8013-311">Esse padrão de aplicativo é útil quando:</span><span class="sxs-lookup"><span data-stu-id="a8013-311">This application pattern is useful when:</span></span>

* <span data-ttu-id="a8013-312">Você já tiver um servidor de banco de dados SQL existente configurado no Azure e deseja tootest seu aplicativo rapidamente.</span><span class="sxs-lookup"><span data-stu-id="a8013-312">You already have an existing SQL Database server configured in Azure and you want tootest your application quickly.</span></span>
* <span data-ttu-id="a8013-313">Você deseja tootest recursos de saudação do ambiente Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-313">You want tootest hello capabilities of Azure environment.</span></span>
* <span data-ttu-id="a8013-314">Você deseja tooquickly desenvolvimento de provisionar e ambientes de teste por curtos períodos de tempo.</span><span class="sxs-lookup"><span data-stu-id="a8013-314">You want tooquickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="a8013-315">Os componentes de acesso de dados e lógica de negócios podem ser contidos de forma autônoma dentro de um aplicativo Web.</span><span class="sxs-lookup"><span data-stu-id="a8013-315">Your business logic and data access components can be self-contained within a web application.</span></span>

<span data-ttu-id="a8013-316">Olá diagrama a seguir demonstra um cenário local e sua solução habilitada para nuvem.</span><span class="sxs-lookup"><span data-stu-id="a8013-316">hello following diagram demonstrates an on-premises scenario and its cloud enabled solution.</span></span> <span data-ttu-id="a8013-317">Nesse cenário, você coloca as camadas do aplicativo hello em uma única máquina virtual no Azure e acessar dados no banco de dados do SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-317">In this scenario, you place hello application tiers in a single virtual machine in Azure and access data in Azure SQL Database.</span></span>

![Padrão de aplicativo misto](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728015.png)

<span data-ttu-id="a8013-319">Se você escolher tooimplement uma web combinada ou um aplicativo de camada por meio de aplicativos Web do Azure, recomendamos que você mantenha a camada de aplicativo ou de camada intermediária hello como bibliotecas de vínculo dinâmico (DLLs) no contexto de saudação de um aplicativo web.</span><span class="sxs-lookup"><span data-stu-id="a8013-319">If you choose tooimplement a combined web and application tier by using Azure Web Apps, we recommend that you keep hello middle-tier or application tier as dynamic-link libraries (DLLs) in hello context of a web application.</span></span>

<span data-ttu-id="a8013-320">Além disso, analise as recomendações Olá Olá [comparando estratégias de desenvolvimento da web no Azure](#comparing-web-development-strategies-in-azure) seção final Olá este toolearn artigo mais sobre técnicas de programação.</span><span class="sxs-lookup"><span data-stu-id="a8013-320">In addition, review hello recommendations given in hello [Comparing web development strategies in Azure](#comparing-web-development-strategies-in-azure) section at hello end of this article toolearn more about programming techniques.</span></span>

## <a name="n-tier-hybrid-application-pattern"></a><span data-ttu-id="a8013-321">Padrão de aplicativo híbrido de n camadas</span><span class="sxs-lookup"><span data-stu-id="a8013-321">N-tier hybrid application pattern</span></span>
<span data-ttu-id="a8013-322">No padrão de aplicativo híbrido com n camadas, você implementa seu aplicativo em várias camadas distribuídas entre locais e o Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-322">In n-tier hybrid application pattern, you implement your application in multiple tiers distributed between on-premises and Azure.</span></span> <span data-ttu-id="a8013-323">Portanto, você pode criar um sistema híbrido flexível e reutilizável que você pode modificar ou adicionar uma camada específica sem alterar Olá outras camadas.</span><span class="sxs-lookup"><span data-stu-id="a8013-323">Therefore, you create a flexible and reusable hybrid system, which you can modify or add a specific tier without changing hello other tiers.</span></span> <span data-ttu-id="a8013-324">tooextend toohello sua rede corporativa na nuvem, você use [rede Virtual do Azure](../../../virtual-network/virtual-networks-overview.md) serviço.</span><span class="sxs-lookup"><span data-stu-id="a8013-324">tooextend your corporate network toohello cloud, you use [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) service.</span></span>

<span data-ttu-id="a8013-325">Esse padrão de aplicativo híbrido é útil quando:</span><span class="sxs-lookup"><span data-stu-id="a8013-325">This hybrid application pattern is useful when:</span></span>

* <span data-ttu-id="a8013-326">Você deseja que os aplicativos toobuild que executam parcialmente na nuvem hello e parcialmente no local.</span><span class="sxs-lookup"><span data-stu-id="a8013-326">You want toobuild applications that run partly in hello cloud and partly on-premises.</span></span>
* <span data-ttu-id="a8013-327">Você deseja toomigrate alguns ou todos os elementos de uma nuvem de toohello de aplicativo local existente.</span><span class="sxs-lookup"><span data-stu-id="a8013-327">You want toomigrate some or all elements of an existing on-premises application toohello cloud.</span></span>
* <span data-ttu-id="a8013-328">Você deseja que os aplicativos do enterprise toomove de tooAzure de plataformas virtualizadas locais.</span><span class="sxs-lookup"><span data-stu-id="a8013-328">You want toomove enterprise applications from on-premises virtualized platforms tooAzure.</span></span>
* <span data-ttu-id="a8013-329">Você deseja tooown um ambiente de infraestrutura que pode ser dimensionada para cima e para baixo sob demanda.</span><span class="sxs-lookup"><span data-stu-id="a8013-329">You want tooown an infrastructure environment that can scale up and down on demand.</span></span>
* <span data-ttu-id="a8013-330">Você deseja tooquickly desenvolvimento de provisionar e ambientes de teste por curtos períodos de tempo.</span><span class="sxs-lookup"><span data-stu-id="a8013-330">You want tooquickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="a8013-331">Você deseja uma maneira econômica de backups de tootake para aplicativos de banco de dados corporativos.</span><span class="sxs-lookup"><span data-stu-id="a8013-331">You want a cost effective way tootake backups for enterprise database applications.</span></span>

<span data-ttu-id="a8013-332">Olá diagrama a seguir demonstra um padrão de aplicativo híbrido de n camadas que abrange o local e o Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-332">hello following diagram demonstrates an n-tier hybrid application pattern that spans across on-premises and Azure.</span></span> <span data-ttu-id="a8013-333">Conforme mostrado no diagrama hello, na infraestrutura local inclui [serviços de domínio do Active Directory](https://technet.microsoft.com/library/hh831484.aspx) autorização e autenticação de usuário de toosupport de controlador de domínio.</span><span class="sxs-lookup"><span data-stu-id="a8013-333">As shown in hello diagram, on-premises infrastructure includes [Active Directory Domain Services](https://technet.microsoft.com/library/hh831484.aspx) domain controller toosupport user authentication and authorization.</span></span> <span data-ttu-id="a8013-334">Observe que esse diagrama Olá demonstra um cenário onde algumas partes da camada de dados Olá ao vivo em um data center local enquanto algumas partes da camada de dados Olá live no Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-334">Note that hello diagram demonstrates a scenario, where some parts of hello data tier live in an on-premises data center whereas some parts of hello data tier live in Azure.</span></span> <span data-ttu-id="a8013-335">Dependendo das necessidades do seu aplicativo, você pode implementar vários outros cenários híbridos.</span><span class="sxs-lookup"><span data-stu-id="a8013-335">Depending on your application’s needs, you can implement several other hybrid scenarios.</span></span> <span data-ttu-id="a8013-336">Por exemplo, você pode manter da camada de apresentação hello e camada de negócios de saudação em um local ambiente mas Olá camada de dados no Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-336">For example, you might keep hello presentation tier and hello business tier in an on-premises environment but hello data tier in Azure.</span></span>

![Padrão de aplicativo de n camadas](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728016.png)

<span data-ttu-id="a8013-338">No Azure, você pode usar o Active Directory como um diretório de nuvem autônomo para a sua organização ou também pode integrar o Active Directory local existente com o [Active Directory do Azure](https://azure.microsoft.com/documentation/services/active-directory/).</span><span class="sxs-lookup"><span data-stu-id="a8013-338">In Azure, you can use Active Directory as a standalone cloud directory for your organization, or you can also integrate existing on-premises Active Directory with [Azure Active Directory](https://azure.microsoft.com/documentation/services/active-directory/).</span></span> <span data-ttu-id="a8013-339">Conforme visto no diagrama Olá, componentes de camada de negócios Olá podem acessar toomultiple fontes de dados, como muito[SQL Server no Azure](virtual-machines-windows-sql-server-iaas-overview.md) por meio de um interno endereço IP privado, o SQL Server por meio do tooon local [deredeVirtualdoAzure](../../../virtual-network/virtual-networks-overview.md), ou muito[banco de dados SQL](../../../sql-database/sql-database-technical-overview.md) usando tecnologias de provedor de dados .NET Framework hello.</span><span class="sxs-lookup"><span data-stu-id="a8013-339">As seen in hello diagram, hello business tier components can access toomultiple data sources, such as too[SQL Server in Azure](virtual-machines-windows-sql-server-iaas-overview.md) via a private internal IP address, tooon-premises SQL Server via [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md), or too[SQL Database](../../../sql-database/sql-database-technical-overview.md) using hello .NET Framework data provider technologies.</span></span> <span data-ttu-id="a8013-340">Neste diagrama, o Banco de Dados SQL do Azure é um serviço de armazenamento de dados opcionais.</span><span class="sxs-lookup"><span data-stu-id="a8013-340">In this diagram, Azure SQL Database is an optional data storage service.</span></span>

<span data-ttu-id="a8013-341">No padrão de aplicativo híbrido de n camadas, você pode implementar Olá fluxo de trabalho na ordem de saudação especificada a seguir:</span><span class="sxs-lookup"><span data-stu-id="a8013-341">In n-tier hybrid application pattern, you can implement hello following workflow in hello order specified:</span></span>

1. <span data-ttu-id="a8013-342">Identificar os aplicativos de banco de dados corporativos que precisam toobe subir toocloud usando Olá [Microsoft Assessment and Planning (MAP) Toolkit](http://microsoft.com/map).</span><span class="sxs-lookup"><span data-stu-id="a8013-342">Identify enterprise database applications that need toobe moved up toocloud by using hello [Microsoft Assessment and Planning (MAP) Toolkit](http://microsoft.com/map).</span></span> <span data-ttu-id="a8013-343">Olá MAP Toolkit reúne dados de desempenho e de inventário de computadores que você está considerando para virtualização e fornece recomendações sobre planejamento de avaliação e a capacidade.</span><span class="sxs-lookup"><span data-stu-id="a8013-343">hello MAP Toolkit gathers inventory and performance data from computers you are considering for virtualization and provides recommendations on capacity and assessment planning.</span></span>
2. <span data-ttu-id="a8013-344">Planeje a configuração necessária no hello plataforma Windows Azure, como contas de armazenamento e máquinas virtuais e os recursos de saudação.</span><span class="sxs-lookup"><span data-stu-id="a8013-344">Plan hello resources and configuration needed in hello Azure platform, such as storage accounts and virtual machines.</span></span>
3. <span data-ttu-id="a8013-345">Configurar a conectividade de rede entre Olá rede corporativa local e [rede Virtual do Azure](../../../virtual-network/virtual-networks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="a8013-345">Set up network connectivity between hello corporate network on-premises and [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md).</span></span> <span data-ttu-id="a8013-346">tooset a conexão de saudação entre Olá rede corporativa local e uma máquina virtual no Azure, use um dos Olá dois métodos a seguir:</span><span class="sxs-lookup"><span data-stu-id="a8013-346">tooset up hello connection between hello corporate network on-premises and a virtual machine in Azure, use one of hello following two methods:</span></span>
   
   1. <span data-ttu-id="a8013-347">Estabelecer uma conexão entre locais e o Azure por meio de pontos de extremidade públicos em uma máquina virtual no Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-347">Establish a connection between on-premises and Azure via public end points on a virtual machine in Azure.</span></span> <span data-ttu-id="a8013-348">Esse método fornece uma instalação fácil e permite que você toouse a autenticação do SQL Server na máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="a8013-348">This method provides an easy setup and enables you toouse SQL Server authentication in your virtual machine.</span></span> <span data-ttu-id="a8013-349">Além disso, configure sua rede segurança grupo regras toocontrol tráfego público toohello VM.</span><span class="sxs-lookup"><span data-stu-id="a8013-349">In addition, set up your network security group rules toocontrol public traffic toohello VM.</span></span> <span data-ttu-id="a8013-350">Para obter mais informações, consulte [permitir acesso externo tooyour VM usando Olá portal do Azure](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="a8013-350">For more information, see [Allow external access tooyour VM using hello Azure portal](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>
   2. <span data-ttu-id="a8013-351">Estabelecer uma conexão entre locais e o Azure através do túnel da VPN (rede virtual privada) do Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-351">Establish a connection between on-premises and Azure via Azure Virtual Private network (VPN) tunnel.</span></span> <span data-ttu-id="a8013-352">Esse método permite que você tooextend domínio políticas tooa VM no Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-352">This method allows you tooextend domain policies tooa virtual machine in Azure.</span></span> <span data-ttu-id="a8013-353">Além disso, você pode configurar regras de firewall e usar a autenticação do Windows em sua máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="a8013-353">In addition, you can set up firewall rules and use Windows authentication in your virtual machine.</span></span> <span data-ttu-id="a8013-354">Atualmente, o Azure dá suporte a conexões seguras de VPN site a site e VPN site a ponto:</span><span class="sxs-lookup"><span data-stu-id="a8013-354">Currently, Azure supports secure site-to-site VPN and point-to-site VPN connections:</span></span>
      
      * <span data-ttu-id="a8013-355">Com a conexão segura site a site, você pode estabelecer a conectividade de rede entre sua rede local e sua rede virtual no Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-355">With secure site-to-site connection, you can establish network connectivity between your on-premises network and your virtual network in Azure.</span></span> <span data-ttu-id="a8013-356">É recomendável para conectar seu tooAzure de ambiente de centro de dados local.</span><span class="sxs-lookup"><span data-stu-id="a8013-356">It is recommended for connecting your on-premises data center environment tooAzure.</span></span>
      * <span data-ttu-id="a8013-357">Com a conexão segura ponto a site, você pode estabelecer a conectividade de rede entre sua rede virtual no Azure e seus computadores virtuais em execução em qualquer lugar.</span><span class="sxs-lookup"><span data-stu-id="a8013-357">With secure point-to-site connection, you can establish network connectivity between your virtual network in Azure and your individual computers running anywhere.</span></span> <span data-ttu-id="a8013-358">É recomendável principalmente para fins de desenvolvimento e teste.</span><span class="sxs-lookup"><span data-stu-id="a8013-358">It is mostly recommended for development and test purposes.</span></span>
      
      <span data-ttu-id="a8013-359">Para obter informações sobre como tooconnect tooSQL Server no Azure, consulte [conectar tooa Máquina Virtual do SQL Server no Azure](virtual-machines-windows-sql-connect.md).</span><span class="sxs-lookup"><span data-stu-id="a8013-359">For information on how tooconnect tooSQL Server in Azure, see [Connect tooa SQL Server Virtual Machine on Azure](virtual-machines-windows-sql-connect.md).</span></span>
4. <span data-ttu-id="a8013-360">Configure trabalhos agendados e alertas que fazem backup de dados locais em um disco de máquina virtual no Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-360">Set up scheduled jobs and alerts that back up on-premises data in a virtual machine disk in Azure.</span></span> <span data-ttu-id="a8013-361">Para obter mais informações, veja [Backup e restauração do SQL Server com o Serviço de Armazenamento de Blobs do Azure](https://msdn.microsoft.com/library/jj919148.aspx) e [Backup e restauração do SQL Server nas Máquinas Virtuais do Azure](virtual-machines-windows-sql-backup-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="a8013-361">For more information, see [SQL Server Backup and Restore with Azure Blob Storage Service](https://msdn.microsoft.com/library/jj919148.aspx) and [Backup and Restore for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-backup-recovery.md).</span></span>
5. <span data-ttu-id="a8013-362">Dependendo das necessidades do seu aplicativo, você pode implementar uma saudação três cenários comuns a seguir:</span><span class="sxs-lookup"><span data-stu-id="a8013-362">Depending on your application’s needs, you can implement one of hello following three common scenarios:</span></span>
   
   1. <span data-ttu-id="a8013-363">Você pode manter seu servidor web, servidor de aplicativos e dados sem distinção em um servidor de banco de dados no Azure, enquanto mantém os dados confidenciais de saudação no local.</span><span class="sxs-lookup"><span data-stu-id="a8013-363">You can keep your web server, application server, and insensitive data in a database server in Azure whereas you keep hello sensitive data on-premises.</span></span>
   2. <span data-ttu-id="a8013-364">Você pode manter seu servidor web e servidor de aplicativos local enquanto o servidor de banco de dados de saudação em uma máquina virtual no Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-364">You can keep your web server and application server on-premises whereas hello database server in a virtual machine in Azure.</span></span>
   3. <span data-ttu-id="a8013-365">Você pode manter seu servidor de banco de dados, o servidor web e servidor de aplicativos no local, enquanto você manter réplicas de banco de dados de saudação em máquinas virtuais no Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-365">You can keep your database server, web server, and application server on-premises whereas you keep hello database replicas in virtual machines in Azure.</span></span> <span data-ttu-id="a8013-366">Essa configuração permite Olá servidores web local ou tooaccess relatórios de aplicativos Olá réplicas de banco de dados no Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-366">This setting allows hello on-premises web servers or reporting applications tooaccess hello database replicas in Azure.</span></span> <span data-ttu-id="a8013-367">Portanto, você pode obter a carga de trabalho do toolower Olá em um banco de dados local.</span><span class="sxs-lookup"><span data-stu-id="a8013-367">Therefore, you can achieve toolower hello workload in an on-premises database.</span></span> <span data-ttu-id="a8013-368">Nós recomendamos que você implemente este cenário para cargas de trabalho de leitura pesadas e para fins de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="a8013-368">We recommend that you implement this scenario for heavy read workloads and developmental purposes.</span></span> <span data-ttu-id="a8013-369">Para obter informações sobre como criar réplicas de banco de dados no Azure, veja os Grupos de Disponibilidade AlwaysOn em [Alta disponibilidade e recuperação de desastre para o SQL Server nas Máquinas Virtuais do Azure](virtual-machines-windows-sql-high-availability-dr.md).</span><span class="sxs-lookup"><span data-stu-id="a8013-369">For information on creating database replicas in Azure, see AlwaysOn Availability Groups at [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span></span>

## <a name="comparing-web-development-strategies-in-azure"></a><span data-ttu-id="a8013-370">Comparando as estratégias de desenvolvimento da Web no Azure</span><span class="sxs-lookup"><span data-stu-id="a8013-370">Comparing web development strategies in Azure</span></span>
<span data-ttu-id="a8013-371">tooimplement e implantar um aplicativo baseado em SQL Server no Azure de vários níveis, você pode usar uma saudação dois métodos de programação a seguir:</span><span class="sxs-lookup"><span data-stu-id="a8013-371">tooimplement and deploy a multi-tier SQL Server-based application in Azure, you can use one of hello following two programming methods:</span></span>

* <span data-ttu-id="a8013-372">Configurar um servidor Web tradicional (IIS - Serviços de Informações da Internet) no Azure e acessar bancos de dados no SQL Server nas Máquinas Virtuais do Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-372">Set up a traditional web server (IIS - Internet Information Services) in Azure and access databases in SQL Server in Azure Virtual Machines.</span></span>
* <span data-ttu-id="a8013-373">Implementar e implantar um tooAzure de serviço de nuvem.</span><span class="sxs-lookup"><span data-stu-id="a8013-373">Implement and deploy a cloud service tooAzure.</span></span> <span data-ttu-id="a8013-374">Em seguida, certifique-se de que esse serviço de nuvem pode acessar bancos de dados no SQL Server nas Máquinas Virtuais do Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-374">Then, make sure that this cloud service can access databases in SQL Server in Azure Virtual machines.</span></span> <span data-ttu-id="a8013-375">Um serviço de nuvem pode incluir várias funções Web e de trabalho.</span><span class="sxs-lookup"><span data-stu-id="a8013-375">A cloud service can include multiple web and worker roles.</span></span>

<span data-ttu-id="a8013-376">Olá, a tabela a seguir fornece uma comparação do desenvolvimento tradicional da web com serviços de nuvem do Azure e aplicativos Web do Azure com respeito tooSQL Server em máquinas virtuais do Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-376">hello following table provides a comparison of traditional web development with Azure Cloud Services and Azure Web Apps with respect tooSQL Server in Azure Virtual Machines.</span></span> <span data-ttu-id="a8013-377">tabela de saudação inclui aplicativos Web do Azure como é possível toouse do SQL Server em VM do Azure como uma fonte de dados para aplicativos Web do Azure por meio de seu endereço IP virtual público ou o nome DNS.</span><span class="sxs-lookup"><span data-stu-id="a8013-377">hello table includes Azure Web Apps as it is possible toouse SQL Server in Azure VM as a data source for Azure Web Apps via its public virtual IP address or DNS name.</span></span>

|  | <span data-ttu-id="a8013-378">Desenvolvimento para a web tradicional em Máquinas Virtuais do Azure</span><span class="sxs-lookup"><span data-stu-id="a8013-378">Traditional web development in Azure Virtual Machines</span></span> | <span data-ttu-id="a8013-379">Serviços de nuvem no Azure</span><span class="sxs-lookup"><span data-stu-id="a8013-379">Cloud Services in Azure</span></span> | <span data-ttu-id="a8013-380">Hospedagem na Web com Aplicativos Web do Azure</span><span class="sxs-lookup"><span data-stu-id="a8013-380">Web Hosting with Azure Web Apps</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="a8013-381">**Migração de aplicativos do local**</span><span class="sxs-lookup"><span data-stu-id="a8013-381">**Application Migration from on-premises**</span></span> |<span data-ttu-id="a8013-382">Aplicativos existentes como são.</span><span class="sxs-lookup"><span data-stu-id="a8013-382">Existing applications as-is.</span></span> |<span data-ttu-id="a8013-383">Os aplicativos precisam de funções da web e do trabalhador.</span><span class="sxs-lookup"><span data-stu-id="a8013-383">Applications need web and worker roles.</span></span> |<span data-ttu-id="a8013-384">Aplicativos existentes como são, mas adequados para aplicativos da web autocontidos e serviços Web que exigem escalabilidade rápida.</span><span class="sxs-lookup"><span data-stu-id="a8013-384">Existing applications as-is but suited for self-contained web applications and web services that require quick scalability.</span></span> |
| <span data-ttu-id="a8013-385">**Desenvolvimento e Implantação**</span><span class="sxs-lookup"><span data-stu-id="a8013-385">**Development and Deployment**</span></span> |<span data-ttu-id="a8013-386">Visual Studio, WebMatrix, Visual Web Developer, WebDeploy, FTP, TFS, Gerenciador do IIS, PowerShell.</span><span class="sxs-lookup"><span data-stu-id="a8013-386">Visual Studio, WebMatrix, Visual Web Developer, WebDeploy, FTP, TFS, IIS Manager, PowerShell.</span></span> |<span data-ttu-id="a8013-387">Visual Studio, SDK do Azure, TFS, PowerShell.</span><span class="sxs-lookup"><span data-stu-id="a8013-387">Visual Studio, Azure SDK, TFS, PowerShell.</span></span> <span data-ttu-id="a8013-388">Cada serviço de nuvem tem dois toowhich de ambientes, você pode implantar o pacote de serviço e configuração: de preparo e produção.</span><span class="sxs-lookup"><span data-stu-id="a8013-388">Each cloud service has two environments toowhich you can deploy your service package and configuration: staging and production.</span></span> <span data-ttu-id="a8013-389">Você pode implantar um toohello de serviço de nuvem tootest do ambiente de preparo antes de promovê-lo tooproduction.</span><span class="sxs-lookup"><span data-stu-id="a8013-389">You can deploy a cloud service toohello staging environment tootest it before you promote it tooproduction.</span></span> |<span data-ttu-id="a8013-390">Visual Studio, WebMatrix, Visual Web Developer, FTP, GIT, BitBucket, CodePlex, DropBox, GitHub, Mercurial, TFS, Implantação da Web, PowerShell.</span><span class="sxs-lookup"><span data-stu-id="a8013-390">Visual Studio, WebMatrix, Visual Web Developer, FTP, GIT, BitBucket, CodePlex, DropBox, GitHub, Mercurial, TFS, Web Deploy, PowerShell.</span></span> |
| <span data-ttu-id="a8013-391">**Administração e Configuração**</span><span class="sxs-lookup"><span data-stu-id="a8013-391">**Administration and Setup**</span></span> |<span data-ttu-id="a8013-392">Você é responsável por tarefas administrativas no aplicativo hello, dados, as regras de firewall, rede virtual e sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="a8013-392">You are responsible for administrative tasks on hello application, data, firewall rules, virtual network, and operating system.</span></span> |<span data-ttu-id="a8013-393">Você é responsável por tarefas administrativas no aplicativo hello, dados, as regras de firewall e rede virtual.</span><span class="sxs-lookup"><span data-stu-id="a8013-393">You are responsible for administrative tasks on hello application, data, firewall rules, and virtual network.</span></span> |<span data-ttu-id="a8013-394">Você é responsável por tarefas administrativas no aplicativo hello e apenas os dados.</span><span class="sxs-lookup"><span data-stu-id="a8013-394">You are responsible for administrative tasks on hello application and data only.</span></span> |
| <span data-ttu-id="a8013-395">**HADR (Alta Disponibilidade e Recuperação de Desastre)**</span><span class="sxs-lookup"><span data-stu-id="a8013-395">**High Availability and Disaster Recovery (HADR)**</span></span> |<span data-ttu-id="a8013-396">É recomendável que você coloque máquinas virtuais no hello disponibilidade mesmo definido e em Olá mesmo serviço de nuvem.</span><span class="sxs-lookup"><span data-stu-id="a8013-396">We recommend that you place virtual machines in hello same availability set and in hello same cloud service.</span></span> <span data-ttu-id="a8013-397">Olá a manter suas VMs no mesmo conjunto de disponibilidade permite tooplace Azure nós de alta disponibilidade de saudação em domínios de falha e domínios de atualização.</span><span class="sxs-lookup"><span data-stu-id="a8013-397">Keeping your VMs in hello same availability set allows Azure tooplace hello high availability nodes into separate fault domains and upgrade domains.</span></span> <span data-ttu-id="a8013-398">Da mesma forma, manter suas VMs em Olá mesmo serviço de nuvem permite o balanceamento de carga e VMs possam se comunicar diretamente com uma outra rede local de saudação dentro de um data center do Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-398">Similarly, keeping your VMs in hello same cloud service enables load balancing and VMs can communicate directly with one another over hello local network within an Azure data center.</span></span><br/><br/><span data-ttu-id="a8013-399">Você é responsável por implementar uma solução de recuperação de desastres e disponibilidade alta para o SQL Server em máquinas virtuais do Azure tooavoid qualquer tempo de inatividade.</span><span class="sxs-lookup"><span data-stu-id="a8013-399">You are responsible for implementing a high availability and disaster recovery solution for SQL Server in Azure Virtual Machines tooavoid any downtime.</span></span> <span data-ttu-id="a8013-400">Para conhecer as tecnologias de HADR com suporte, veja [Alta disponibilidade e recuperação de desastre para o SQL Server nas Máquinas Virtuais do Azure](virtual-machines-windows-sql-high-availability-dr.md).</span><span class="sxs-lookup"><span data-stu-id="a8013-400">For supported HADR technologies, see [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span></span><br/><br/><span data-ttu-id="a8013-401">Você é responsável pelo backup de seus dados e aplicativos.</span><span class="sxs-lookup"><span data-stu-id="a8013-401">You are responsible for backing up your own data and application.</span></span><br/><br/><span data-ttu-id="a8013-402">Azure pode mover as máquinas virtuais se a máquina de host Olá no hello data center falhar devido a problemas de toohardware.</span><span class="sxs-lookup"><span data-stu-id="a8013-402">Azure can move your virtual machines if hello host machine in hello data center fails due toohardware issues.</span></span> <span data-ttu-id="a8013-403">Além disso, pode haver um tempo de inatividade planejado da VM quando máquina de host de saudação é atualizada para software de segurança ou atualizações.</span><span class="sxs-lookup"><span data-stu-id="a8013-403">In addition, there could be planned downtime of your VM when hello host machine is updated for security or software updates.</span></span> <span data-ttu-id="a8013-404">Portanto, recomendamos que você mantenha pelo menos duas VMs em cada aplicativo da camada tooensure Olá a disponibilidade contínua.</span><span class="sxs-lookup"><span data-stu-id="a8013-404">Therefore, we recommend that you maintain at least two VMs in each application tier tooensure hello continuous availability.</span></span> <span data-ttu-id="a8013-405">O Azure não fornece SLA para uma única máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="a8013-405">Azure does not provide SLA for a single virtual machine.</span></span> <span data-ttu-id="a8013-406">Para saber mais, confira as [Orientação técnica de resiliência do Azure](../../../resiliency/resiliency-technical-guidance.md).</span><span class="sxs-lookup"><span data-stu-id="a8013-406">For more information, see [Azure resiliency technical guidance](../../../resiliency/resiliency-technical-guidance.md).</span></span> |<span data-ttu-id="a8013-407">O Azure gerencia falhas Olá resultante da saudação software de hardware ou sistema operacional de base.</span><span class="sxs-lookup"><span data-stu-id="a8013-407">Azure manages hello failures resulting from hello underlying hardware or operating system software.</span></span> <span data-ttu-id="a8013-408">É recomendável que você implemente várias instâncias de uma web ou trabalho função tooensure Olá alta disponibilidade do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a8013-408">We recommend that you implement multiple instances of a web or worker role tooensure hello high availability of your application.</span></span> <span data-ttu-id="a8013-409">Para obter informações, consulte [Contrato de Nível de Serviço de Rede Virtual, Máquinas Virtuais e Serviços de Nuvem](http://www.microsoft.com/download/details.aspx?id=38427) e [Recuperação de desastre e alta disponibilidade para aplicativos do Azure](../../../resiliency/resiliency-disaster-recovery-high-availability-azure-applications.md)</span><span class="sxs-lookup"><span data-stu-id="a8013-409">For information, see [Cloud Services, Virtual Machines, and Virtual Network Service Level Agreement](http://www.microsoft.com/download/details.aspx?id=38427) and [Disaster recovery and high availability for Azure applications](../../../resiliency/resiliency-disaster-recovery-high-availability-azure-applications.md)</span></span><br/><br/><span data-ttu-id="a8013-410">Você é responsável pelo backup de seus dados e aplicativos.</span><span class="sxs-lookup"><span data-stu-id="a8013-410">You are responsible for backing up your own data and application.</span></span><br/><br/><span data-ttu-id="a8013-411">Para bancos de dados que residem em um banco de dados do SQL Server em uma VM do Azure, você é responsável por implementar um tooavoid de solução de recuperação desastres e disponibilidade alta qualquer tempo de inatividade.</span><span class="sxs-lookup"><span data-stu-id="a8013-411">For databases residing in a SQL Server database in an Azure VM, you are responsible for implementing a high availability and disaster recovery solution tooavoid any downtime.</span></span> <span data-ttu-id="a8013-412">Para conhecer as tecnologias de HADR com suporte, veja Alta disponibilidade e recuperação de desastre para o SQL Server nas Máquinas Virtuais do Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-412">For supported HDAR technologies, see High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines.</span></span><br/><br/><span data-ttu-id="a8013-413">**Espelhamento de banco de dados do SQL Server**: uso com os Serviços de Nuvem do Azure (funções web/de trabalho).</span><span class="sxs-lookup"><span data-stu-id="a8013-413">**SQL Server Database Mirroring**: Use with Azure Cloud Services (web/worker roles).</span></span> <span data-ttu-id="a8013-414">VMs do SQL Server e um projeto de serviço de nuvem pode ser em Olá mesma rede Virtual do Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-414">SQL Server VMs and a cloud service project can be in hello same Azure Virtual Network.</span></span> <span data-ttu-id="a8013-415">Se a VM do SQL Server não está em Olá mesma rede Virtual, é necessário toocreate uma instância de toohello de comunicação de tooroute Alias do SQL Server do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="a8013-415">If SQL Server VM is not in hello same Virtual Network, you need toocreate a SQL Server Alias tooroute communication toohello instance of SQL Server.</span></span> <span data-ttu-id="a8013-416">Além disso, nome do alias Olá deve corresponder o nome de SQL Server de saudação.</span><span class="sxs-lookup"><span data-stu-id="a8013-416">In addition, hello alias name must match hello SQL Server name.</span></span> |<span data-ttu-id="a8013-417">A alta disponibilidade é herdada de funções do trabalhador do Azure, do armazenamento de blobs do Azure e do banco de dados SQL.</span><span class="sxs-lookup"><span data-stu-id="a8013-417">High Availability is inherited from Azure worker roles, Azure blob storage, and Azure SQL Database.</span></span> <span data-ttu-id="a8013-418">Por exemplo, o Armazenamento do Azure mantém três réplicas de todos dados de blob, tabela e fila.</span><span class="sxs-lookup"><span data-stu-id="a8013-418">For example, Azure Storage maintains three replicas of all blob, table, and queue data.</span></span> <span data-ttu-id="a8013-419">A qualquer momento, o Banco de Dados SQL do Azure mantém três réplicas dos dados em execução — uma réplica primária e duas réplicas secundárias.</span><span class="sxs-lookup"><span data-stu-id="a8013-419">At any one time, Azure SQL Database keeps three replicas of data running—one primary replica and two secondary replicas.</span></span> <span data-ttu-id="a8013-420">Para saber mais, confira [Armazenamento do Azure](https://azure.microsoft.com/documentation/services/storage/) e [Banco de Dados SQL do Azure](../../../sql-database/sql-database-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="a8013-420">For more information, see [Azure Storage](https://azure.microsoft.com/documentation/services/storage/) and [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md).</span></span><br/><br/><span data-ttu-id="a8013-421">Ao usar o SQL Server na VM do Azure como uma fonte de dados para Aplicativos Web do Azure, tenha em mente de que os Aplicativos Web do Azure não dão suporte à Rede Virtual do Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-421">When using SQL Server in Azure VM as a data source for Azure Web Apps, keep in mind that Azure Web Apps does not support Azure Virtual Network.</span></span> <span data-ttu-id="a8013-422">Em outras palavras, todas as conexões de aplicativos Web do Azure tooSQL VMs Server no Azure devem passar por pontos de extremidade públicos de máquinas virtuais.</span><span class="sxs-lookup"><span data-stu-id="a8013-422">In other words, all connections from Azure Web Apps tooSQL Server VMs in Azure must go through public end points of virtual machines.</span></span> <span data-ttu-id="a8013-423">Isso pode causar algumas limitações para cenários de alta disponibilidade e recuperação de desastres.</span><span class="sxs-lookup"><span data-stu-id="a8013-423">This might cause some limitations for high availability and disaster recovery scenarios.</span></span> <span data-ttu-id="a8013-424">Por exemplo, aplicativo de cliente hello em aplicativos da Web do Azure conectando tooSQL VM de servidor com o espelhamento de banco de dados não seria capaz de tooconnect toohello novo servidor primário como espelhamento de banco de dados exige que você configure a rede Virtual do Azure entre as VMs de host do SQL Server em Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-424">For example, hello client application on Azure Web Apps connecting tooSQL Server VM with database mirroring would not be able tooconnect toohello new primary server as database mirroring requires that you set up Azure Virtual Network between SQL Server host VMs in Azure.</span></span> <span data-ttu-id="a8013-425">Portanto, atualmente não há suporte ao uso do **Espelhamento de banco de dados do SQL Server** com Aplicativos Web do Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-425">Therefore, using **SQL Server Database Mirroring** with Azure Web Apps is not supported currently.</span></span><br/><br/><span data-ttu-id="a8013-426">**Grupos de Disponibilidade AlwaysOn do SQL Server**: é possível configurar Grupos de Disponibilidade AlwaysOn ao usar os Aplicativos Web do Azure com as VMs do SQL Server no Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-426">**SQL Server AlwaysOn Availability Groups**: You can set up AlwaysOn Availability Groups when using Azure Web Apps with SQL Server VMs in Azure.</span></span> <span data-ttu-id="a8013-427">Mas você precisa tooconfigure ouvinte de grupo de disponibilidade do AlwaysOn tooroute Olá comunicação toohello réplica primária por meio de pontos de extremidade públicos com balanceamento de carga.</span><span class="sxs-lookup"><span data-stu-id="a8013-427">But you need tooconfigure AlwaysOn Availability Group Listener tooroute hello communication toohello primary replica via public load-balanced endpoints.</span></span> |
| <span data-ttu-id="a8013-428">**Conectividade entre locais**</span><span class="sxs-lookup"><span data-stu-id="a8013-428">**cross-premises Connectivity**</span></span> |<span data-ttu-id="a8013-429">Você pode usar a rede Virtual do Azure tooon tooconnect local.</span><span class="sxs-lookup"><span data-stu-id="a8013-429">You can use Azure Virtual Network tooconnect tooon-premises.</span></span> |<span data-ttu-id="a8013-430">Você pode usar a rede Virtual do Azure tooon tooconnect local.</span><span class="sxs-lookup"><span data-stu-id="a8013-430">You can use Azure Virtual Network tooconnect tooon-premises.</span></span> |<span data-ttu-id="a8013-431">Há suporte para a Rede Virtual do Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-431">Azure Virtual Network is supported.</span></span> <span data-ttu-id="a8013-432">Para saber mais, confira a [Integração da Rede Virtual de Aplicativos Web](https://azure.microsoft.com/blog/2014/09/15/azure-websites-virtual-network-integration/).</span><span class="sxs-lookup"><span data-stu-id="a8013-432">For more information, see [Web Apps Virtual Network Integration](https://azure.microsoft.com/blog/2014/09/15/azure-websites-virtual-network-integration/).</span></span> |
| <span data-ttu-id="a8013-433">**Escalabilidade**</span><span class="sxs-lookup"><span data-stu-id="a8013-433">**Scalability**</span></span> |<span data-ttu-id="a8013-434">Escala está disponível aumentando os tamanhos de máquina virtual de saudação ou adicionar mais discos.</span><span class="sxs-lookup"><span data-stu-id="a8013-434">Scale-up is available by increasing hello virtual machine sizes or adding more disks.</span></span> <span data-ttu-id="a8013-435">Para obter mais informações sobre tamanhos de máquina virtual, consulte [Tamanhos de Máquina Virtual para o Azure](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="a8013-435">For more information about virtual machine sizes, see [Virtual Machine Sizes for Azure](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span><br/><br/><span data-ttu-id="a8013-436">**Para Servidor de Banco de Dados**: a expansão está disponível por meio de técnicas de particionamento do banco de dados e Grupos de disponibilidade AlwaysOn do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="a8013-436">**For Database Server**: Scale-out is available via database partitioning techniques and SQL Server AlwaysOn Availability groups.</span></span><br/><br/><span data-ttu-id="a8013-437">Para cargas de trabalho de leitura pesadas, você pode usar [Grupos de Disponibilidade AlwaysOn](https://msdn.microsoft.com/library/hh510230.aspx) em vários nós secundários, bem como a replicação do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="a8013-437">For heavy read workloads, you can use [AlwaysOn Availability Groups](https://msdn.microsoft.com/library/hh510230.aspx) on multiple secondary nodes as well as SQL Server Replication.</span></span><br/><br/><span data-ttu-id="a8013-438">Para cargas de trabalho pesada de gravação, você pode implementar o particionamento horizontal de dados entre vários servidores físicos tooprovide expansão de aplicativos.</span><span class="sxs-lookup"><span data-stu-id="a8013-438">For heavy write workloads, you can implement horizontal partitioning data across multiple physical servers tooprovide application scale-out.</span></span><br/><br/><span data-ttu-id="a8013-439">Além disso, você pode implementar uma expansão usando [SQL Server com roteamento dependente de dados](https://technet.microsoft.com/library/cc966448.aspx).</span><span class="sxs-lookup"><span data-stu-id="a8013-439">In addition, you can implement a scale-out by using [SQL Server with Data Dependent Routing](https://technet.microsoft.com/library/cc966448.aspx).</span></span> <span data-ttu-id="a8013-440">Com dados dependentes roteamento (DDR), você precisa Olá tooimplement mecanismo no aplicativo de cliente hello, normalmente na camada de negócios Olá de particionamento, solicitações de banco de dados de saudação tooroute toomultiple nós do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="a8013-440">With Data Dependent Routing (DDR), you need tooimplement hello partitioning mechanism in hello client application, typically in hello business tier layer, tooroute hello database requests toomultiple SQL Server nodes.</span></span> <span data-ttu-id="a8013-441">camada de negócios Olá contém mapeamentos toohow Olá dados são particionados e o nó que contém dados de saudação.</span><span class="sxs-lookup"><span data-stu-id="a8013-441">hello business tier contains mappings toohow hello data is partitioned and which node contains hello data.</span></span><br/><br/><span data-ttu-id="a8013-442">Você pode escalar aplicativos que executam máquinas virtuais.</span><span class="sxs-lookup"><span data-stu-id="a8013-442">You can scale applications that are running virtual machines.</span></span> <span data-ttu-id="a8013-443">Para obter mais informações, consulte [como um aplicativo de tooScale](../../../cloud-services/cloud-services-how-to-scale.md).</span><span class="sxs-lookup"><span data-stu-id="a8013-443">For more information, see [How tooScale an Application](../../../cloud-services/cloud-services-how-to-scale.md).</span></span><br/><br/><span data-ttu-id="a8013-444">**Observação importante**: Olá **AutoEscala** recurso no Azure permite que você tooautomatically aumentar ou diminuir Olá máquinas virtuais que são usados por seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a8013-444">**Important Note**: hello **AutoScale** feature in Azure allows you tooautomatically increase or decrease hello Virtual Machines that are used by your application.</span></span> <span data-ttu-id="a8013-445">Esse recurso garante que a experiência do usuário final de saudação não seja afetada negativamente durante os períodos de pico, e as VMs sejam desligadas quando a demanda de saudação é baixa.</span><span class="sxs-lookup"><span data-stu-id="a8013-445">This feature guarantees that hello end-user experience is not affected negatively during peak periods, and VMs are shut down when hello demand is low.</span></span> <span data-ttu-id="a8013-446">É recomendável que você não defina opção de dimensionamento automático Olá para seu serviço de nuvem se ele inclui VMs do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="a8013-446">It’s recommended that you do not set hello AutoScale option for your cloud service if it includes SQL Server VMs.</span></span> <span data-ttu-id="a8013-447">Olá motivo é que recurso AutoEscala Olá permite tooturn do Azure em uma máquina virtual quando hello uso da CPU na VM é maior do que alguns limite e tooturn uma máquina virtual quando Olá uso da CPU for inferior a ele.</span><span class="sxs-lookup"><span data-stu-id="a8013-447">hello reason is that hello AutoScale feature lets Azure tooturn on a virtual machine when hello CPU usage in that VM is higher than some threshold, and tooturn off a virtual machine when hello CPU usage goes lower than it.</span></span> <span data-ttu-id="a8013-448">recurso de AutoEscala Olá é útil para aplicativos sem monitoração de estado, como servidores web, onde qualquer VM pode gerenciar a carga de trabalho Olá sem qualquer estado anterior do tooany de referências.</span><span class="sxs-lookup"><span data-stu-id="a8013-448">hello AutoScale feature is useful for stateless applications, such as web servers, where any VM can manage hello workload without any references tooany previous state.</span></span> <span data-ttu-id="a8013-449">No entanto, o recurso de AutoEscala Olá não é útil para aplicativos com monitoração de estado, como o SQL Server, onde apenas uma instância permite gravar toohello banco de dados.</span><span class="sxs-lookup"><span data-stu-id="a8013-449">However, hello AutoScale feature is not useful for stateful applications, such as SQL Server, where only one instance allows writing toohello database.</span></span> |<span data-ttu-id="a8013-450">A ampliação está disponível ao usar várias funções da web e do trabalhador.</span><span class="sxs-lookup"><span data-stu-id="a8013-450">Scale-up is available by using multiple web and worker roles.</span></span> <span data-ttu-id="a8013-451">Para obter mais informações sobre tamanhos de máquina virtual para funções web e funções de trabalho, consulte [Configurar tamanhos para Serviços de Nuvem](../../../cloud-services/cloud-services-sizes-specs.md).</span><span class="sxs-lookup"><span data-stu-id="a8013-451">For more information about virtual machine sizes for web roles and worker roles, see [Configure Sizes for Cloud Services](../../../cloud-services/cloud-services-sizes-specs.md).</span></span><br/><br/><span data-ttu-id="a8013-452">Ao usar **serviços de nuvem**, você pode definir o processamento de toodistribute várias funções e também realizar o dimensionamento flexível de seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a8013-452">When using **Cloud Services**, you can define multiple roles toodistribute processing and also achieve flexible scaling of your application.</span></span> <span data-ttu-id="a8013-453">Cada serviço de nuvem inclui uma ou mais funções Web e/ou funções de trabalho, cada uma com seus próprios arquivos e configuração de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a8013-453">Each cloud service includes one or more web roles and/or worker roles, each with its own application files and configuration.</span></span> <span data-ttu-id="a8013-454">Você pode dimensionar a um serviço de nuvem aumentando o número de saudação de instâncias de função (máquinas virtuais) implantadas para uma função e reduzir um serviço de nuvem diminuindo o número de saudação de instâncias de função.</span><span class="sxs-lookup"><span data-stu-id="a8013-454">You can scale-up a cloud service by increasing hello number of role instances (virtual machines) deployed for a role and scale-down a cloud service by decreasing hello number of role instances.</span></span> <span data-ttu-id="a8013-455">Para obter mais informações, consulte [Modelos de execução do Azure](../../../cloud-services/cloud-services-choose-me.md).</span><span class="sxs-lookup"><span data-stu-id="a8013-455">For detailed information, see [Azure Execution Models](../../../cloud-services/cloud-services-choose-me.md).</span></span><br/><br/><span data-ttu-id="a8013-456">A expansão está disponível por meio do suporte interno de alta disponibilidade do Azure através do [Contrato de Nível de Serviço de Rede Virtual, Máquinas Virtuais e Serviços de Nuvem](http://www.microsoft.com/download/details.aspx?id=38427) e do Balanceador de carga.</span><span class="sxs-lookup"><span data-stu-id="a8013-456">Scale-out is available via built-in Azure high availability support through [Cloud Services, Virtual Machines, and Virtual Network Service Level Agreement](http://www.microsoft.com/download/details.aspx?id=38427) and Load Balancer.</span></span><br/><br/><span data-ttu-id="a8013-457">Para um aplicativo de várias camado, é recomendável que você conecte o servidor de toodatabase em aplicativos da web/trabalhador funções VMs via rede Virtual do Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-457">For a multi-tier application, we recommend that you connect web/worker roles application toodatabase server VMs via Azure Virtual Network.</span></span> <span data-ttu-id="a8013-458">Além disso, o Azure fornece balanceamento de carga para VMs Olá mesmo serviço de nuvem, distribuindo solicitações de usuário entre elas.</span><span class="sxs-lookup"><span data-stu-id="a8013-458">In addition, Azure provides load balancing for VMs in hello same cloud service, spreading user requests across them.</span></span> <span data-ttu-id="a8013-459">Máquinas virtuais conectadas dessa forma podem se comunicar diretamente com uma outra rede local de saudação dentro de um data center do Azure.</span><span class="sxs-lookup"><span data-stu-id="a8013-459">Virtual machines connected in this way can communicate directly with one another over hello local network within an Azure data center.</span></span><br/><br/><span data-ttu-id="a8013-460">Você pode configurar **AutoEscala** em Olá portal do Azure, bem como os tempos de agendamento de saudação.</span><span class="sxs-lookup"><span data-stu-id="a8013-460">You can set up **AutoScale** on hello Azure portal as well as hello schedule times.</span></span> <span data-ttu-id="a8013-461">Para obter mais informações, consulte [como tooconfigure automaticamente a escala para um serviço de nuvem no portal de saudação](../../../cloud-services/cloud-services-how-to-scale-portal.md).</span><span class="sxs-lookup"><span data-stu-id="a8013-461">For more information, see [How tooconfigure auto scaling for a Cloud Service in hello portal](../../../cloud-services/cloud-services-how-to-scale-portal.md).</span></span> |<span data-ttu-id="a8013-462">**Aumentar e diminuir**: você pode aumentar/diminuir tamanho de saudação da instância de saudação (VM) reservada para seu site da web.</span><span class="sxs-lookup"><span data-stu-id="a8013-462">**Scale up and down**: You can increase/decrease hello size of hello instance (VM) reserved for your web site.</span></span><br/><br/><span data-ttu-id="a8013-463">Escalar horizontalmente: você pode adicionar mais instâncias reservadas (VMs) para seu site da Web.</span><span class="sxs-lookup"><span data-stu-id="a8013-463">Scale out: You can add more reserved instances (VMs) for your web site.</span></span><br/><br/><span data-ttu-id="a8013-464">Você pode configurar **AutoEscala** no portal hello, bem como os tempos de agendamento de saudação.</span><span class="sxs-lookup"><span data-stu-id="a8013-464">You can set up **AutoScale** on hello portal as well as hello schedule times.</span></span> <span data-ttu-id="a8013-465">Para obter mais informações, consulte [como tooScale aplicativos Web](../../../app-service-web/web-sites-scale.md).</span><span class="sxs-lookup"><span data-stu-id="a8013-465">For more information, see [How tooScale Web Apps](../../../app-service-web/web-sites-scale.md).</span></span> |

<span data-ttu-id="a8013-466">Para obter mais informações sobre como escolher entre esses métodos de programação, consulte [aplicativos Web do Azure, serviços de nuvem e VMs: quando toouse que](../../../app-service-web/choose-web-site-cloud-service-vm.md).</span><span class="sxs-lookup"><span data-stu-id="a8013-466">For more information on choosing between these programming methods, see [Azure Web Apps, Cloud Services, and VMs: When toouse which](../../../app-service-web/choose-web-site-cloud-service-vm.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="a8013-467">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="a8013-467">Next Steps</span></span>
<span data-ttu-id="a8013-468">Para obter informações sobre como executar o SQL Server nas Máquinas Virtuais do Azure, confira [Visão geral do SQL Server nas Máquinas Virtuais do Azure](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="a8013-468">For more information on running SQL Server in Azure Virtual machines, see [SQL Server on Azure Virtual Machines Overview](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>

