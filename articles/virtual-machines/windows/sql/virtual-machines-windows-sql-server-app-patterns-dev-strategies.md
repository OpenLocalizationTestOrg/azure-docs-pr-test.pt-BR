---
title: "aaaSQL padrões de aplicativo de servidor em máquinas virtuais | Microsoft Docs"
description: "Este artigo aborda os padrões de aplicativo para o SQL Server em máquinas virtuais do Azure. Ele fornece aos desenvolvedores e arquitetos de soluções uma base para design e arquitetura de aplicativos de qualidade."
services: virtual-machines-windows
documentationcenter: na
author: ninarn
manager: jhubbard
editor: 
tags: azure-service-management,azure-resource-manager
ms.assetid: 41863c8d-f3a3-4584-ad86-b95094365e05
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 05/31/2017
ms.author: ninarn
ms.openlocfilehash: e18597598fdf9fe534ed07331d6f531d4dca0601
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="application-patterns-and-development-strategies-for-sql-server-in-azure-virtual-machines"></a>Estratégias de Desenvolvimento e Padrões de Aplicativo para o SQL Server em Máquinas Virtuais do Azure
[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="summary"></a>Resumo:
Determinar qual padrão de aplicativo ou padrões toouse para seus aplicativos SQL Server são baseados no Azure ambiente é uma decisão de design importantes e requer uma compreensão sólida de como o SQL Server e cada componente de infraestrutura do Azure funcionam em conjunto . Com o SQL Server nos serviços de infraestrutura do Azure, você pode facilmente migrar, manter e monitorar seu SQL Server aplicativos integrados ao Windows Server toovirtual máquinas existentes no Azure.

meta de saudação deste artigo é tooprovide arquitetos de soluções e desenvolvedores uma base para o aplicativo boa arquitetura e design, qual eles podem seguir ao migrar tooAzure de aplicativos existente como bem como desenvolver novos aplicativos no Azure.

Para cada padrão de aplicativo, você encontrará um cenário local, sua respectiva solução habilitada para a nuvem e Olá relacionados recomendações técnicas. Além disso, o artigo Olá discute estratégias de desenvolvimento específicas do Azure para que você possa criar seus aplicativos corretamente. Vencimento toohello vários padrões de aplicativos, é recomendável que arquitetos e desenvolvedores devem escolher o padrão de saudação mais apropriado para seus aplicativos e usuários.

**Colaboradores técnicos:** Luis Carlos Vargas Herring, Madhan Arumugam Ramakrishnan

**Revisores técnicos:** Corey Sanders, Drew McDaniel, Narayan Annamalai, Nir Mashkowski, Sanjay Mishra, Silvano Coriani, Stefan Schackow, Tim Hickey, Tim Wieman e Xin Jin

## <a name="introduction"></a>Introdução
Você pode desenvolver vários tipos de aplicativos de n camadas, separando os componentes de saudação do hello diferentes camadas do aplicativo em computadores diferentes, bem como em componentes separados. Por exemplo, você pode colocar o aplicativo de cliente hello e regras de negócio componentes em uma máquina, a camada da web de front-end e componentes de camada de acesso de dados em outro computador e uma camada de banco de dados de back-end em outra máquina. Este tipo de estruturação ajuda a isolar as camadas entre si. Se você alterar a origem dos dados, você não precisa toochange Olá cliente ou aplicativo web, mas somente Olá componentes de camada de acesso de dados.

Um típico *de n camadas* aplicativo inclui da camada de apresentação Olá, camada de negócios hello e da camada de dados hello:

| Camada | Descrição |
| --- | --- |
| **Apresentação** |Olá *da camada de apresentação* (camada da web, camada front-end) é a camada de saudação na qual os usuários interagem com um aplicativo. |
| **Negócios** |Olá *camada de negócios* (camada intermediária) é camada Olá que Olá apresentação hello e camada de dados da camada use toocommunicate entre si e inclui a funcionalidade principal de saudação do sistema de saudação. |
| **Dados** |Olá *da camada de dados* é basicamente o servidor de saudação que armazena dados de um aplicativo (por exemplo, um servidor executando o SQL Server). |

Camadas de aplicativo descrevem agrupamentos lógicos de saudação de funcionalidade hello e componentes em um aplicativo. enquanto as camadas de descrevem a distribuição física Olá Olá funcionalidade e dos componentes em servidores físicos separados, computadores, redes ou locais remotos. Olá camadas de um aplicativo podem residir em Olá mesmo computador físico (Olá a mesma camada) ou podem ser distribuídas em computadores separados (de n camadas) e Olá componentes em cada camada se comunicar com os componentes de outras camadas através de interfaces bem definidas. Você pode pensar da camada de termo hello como se referindo a padrões de distribuição toophysical como duas camadas, três camadas e de n camadas. Um **padrão de aplicativo de duas camadas** contém duas camadas de aplicativo: o servidor de aplicativos e o servidor de banco de dados. comunicação direta Olá acontece entre servidores de aplicativo hello e Olá banco de dados. servidor de aplicativo Hello contém componentes da camada da web e a camada de negócios. Em **padrão de aplicativo de camada 3**, há três níveis de aplicativos: servidor web, servidor de aplicativos, que contém a camada de lógica de negócios hello e/ou componentes de acesso de dados de camada comercial e o servidor de banco de dados de saudação. Olá a comunicação entre Olá web e servidor de banco de dados de saudação ocorra no servidor de aplicativo hello. Para obter informações detalhadas sobre as camadas de aplicativos, veja o [Guia de arquitetura de aplicativos da Microsoft](https://msdn.microsoft.com/library/ff650706.aspx).

Antes de começar a ler este artigo, você deve ter conhecimento sobre os conceitos fundamentais de saudação do SQL Server e do Azure. Para obter mais informações, confira [Manuais Online do SQL Server](https://msdn.microsoft.com/library/bb545450.aspx), [SQL Server nas Máquinas Virtuais do Azure](virtual-machines-windows-sql-server-iaas-overview.md) e [Azure.com](https://azure.microsoft.com/).

Este artigo descreve vários padrões de aplicativo que podem ser adequados para seus aplicativos simples, bem como aplicativos corporativos altamente complexos de saudação. Antes de Detalhar cada padrão, é recomendável que você deve se familiarizar com os serviços de armazenamento de dados disponíveis Olá no Azure, como [armazenamento do Azure](../../../storage/common/storage-introduction.md), [banco de dados do SQL Azure](../../../sql-database/sql-database-technical-overview.md), e [ SQL Server em uma máquina Virtual do Azure](virtual-machines-windows-sql-server-iaas-overview.md). toomake Olá melhores decisões de design para seus aplicativos, compreender quando toouse claramente o armazenamento de dados de serviço.

### <a name="choose-sql-server-in-an-azure-virtual-machine-when"></a>Escolha o SQL Server em uma Máquina Virtual do Azure quando:
* Você precisa ter controle no SQL Server e no Windows. Por exemplo, isso pode incluir a versão do SQL Server hello, hotfixes especiais, configuração de desempenho, etc.
* Você precisa de uma compatibilidade total com o SQL Server local e deseja toomove tooAzure de aplicativos existente como-é.
* Você deseja tooleverage recursos de saudação de saudação ambiente do Azure, mas o banco de dados do Azure SQL não oferece suporte a todos os recursos de Olá que seu aplicativo requer. Isso pode incluir Olá áreas a seguir:
  
  * **Tamanho do banco de dados**: no momento da saudação este artigo foi atualizado, o banco de dados SQL dá suporte a um banco de dados de backup too1 TB de dados. Se seu aplicativo exigir mais de 1 TB de dados e você não quiser tooimplement soluções de fragmentação personalizada, é recomendável que você usa o SQL Server em uma máquina Virtual do Azure. Para obter informações mais recentes do hello, consulte [Scaling Out Azure bancos de dados SQL](https://msdn.microsoft.com/library/azure/dn495641.aspx) e [camadas de serviço de banco de dados SQL do Azure e níveis de desempenho](../../../sql-database/sql-database-service-tiers.md).
  * **Conformidade com a HIPAA**: ISVs (Fornecedores de Software Independentes) e clientes do setor de serviços de saúde podem optar pelo [SQL Server nas Máquinas Virtuais do Azure](virtual-machines-windows-sql-server-iaas-overview.md) em vez do [Banco de Dados SQL do Azure](../../../sql-database/sql-database-technical-overview.md), pois o SQL Server em uma Máquina Virtual do Azure é coberto pelo BAA (Acordo de Parceiro Comercial) da HIPAA. Para obter informações sobre conformidade, veja [Central de Confiabilidade do Microsoft Azure: conformidade](https://azure.microsoft.com/support/trust-center/compliance/).
  * **Recursos de nível de instância**: neste momento, banco de dados SQL não oferece suporte a recursos que residem fora do banco de dados da saudação (como servidores vinculados, agente de trabalhos, FileStream, o Service Broker, etc.). Para obter mais informações, veja [Diretrizes e limitações do Banco de Dados SQL do Azure](https://msdn.microsoft.com/library/azure/ff394102.aspx).

## <a name="1-tier-simple-single-virtual-machine"></a>Uma camada (simples): máquina virtual única
Nesse padrão de aplicativo, você pode implantar seu aplicativo do SQL Server e a máquina virtual do banco de dados tooa autônoma no Azure. Olá mesma máquina virtual contém seu aplicativo cliente/web, componentes de negócios, camada de acesso a dados e servidor de banco de dados de saudação. Olá apresentação, negócios e código de acesso a dados são separados logicamente, mas estão fisicamente localizados em uma máquina de servidor único. A maioria dos clientes iniciar com um padrão de aplicativo e, em seguida, eles expansão adicionando mais sistema tootheir de máquinas virtuais ou funções de web.

Esse padrão de aplicativo é útil quando:

* Você deseja tooperform tooevaluate de plataforma de tooAzure uma migração simples se a plataforma de saudação atende aos requisitos do aplicativo ou não.
* Você deseja tookeep todos Olá camadas de aplicativo hospedadas no hello mesmo virtual da máquina no hello mesmo Datacenter do Azure a latência entre camadas Olá tooreduce.
* Você deseja tooquickly desenvolvimento de provisionar e ambientes de teste por curtos períodos de tempo.
* Você deseja que o teste de estresse tooperform para níveis de carga de trabalho, mas a saudação ao mesmo tempo, você não deseja tooown e manter físico muitas máquinas todo o tempo de saudação.

Olá diagrama a seguir demonstra um local simples cenário e como você pode implantar sua solução de nuvem habilitada em uma única máquina virtual no Azure.

![Padrão de aplicativo de uma camada](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728008.png)

Implantar a camada de negócios da saudação (lógica de negócios e componentes de acesso a dados) em Olá mesma camada física da camada de apresentação Olá pode maximizar o desempenho do aplicativo, a menos que você deve usar uma camada separada devido a questões de segurança ou tooscalability.

Como esse é um toostart padrão muito comum com, talvez você ache Olá artigo sobre a migração útil para mover seu dados tooyour VM do SQL Server a seguir: [migrando um banco de dados tooSQL Server em uma VM do Azure](virtual-machines-windows-migrate-sql.md).

## <a name="3-tier-simple-multiple-virtual-machines"></a>Três camadas (simples): várias máquinas virtuais
Nesse padrão de aplicativo, você implanta um aplicativo de três camadas no Azure colocando cada camada do aplicativo em uma máquina virtual diferente. Isso fornece um ambiente flexível para facilitar cenários de ampliação e redução. Quando uma máquina virtual contém seu aplicativo web do cliente, Olá outro hospeda seus componentes corporativos e Olá outro servidor de banco de dados um hospeda hello.

Esse padrão de aplicativo é útil quando:

* Você deseja tooperform uma migração de aplicativos de banco de dados complexo tooAzure máquinas virtuais.
* Você deseja toobe de camadas diferentes aplicativos hospedado em regiões diferentes. Por exemplo, você pode ter bancos de dados compartilhados que são implantados toomultiple regiões para fins de relatório.
* Você deseja toomove aplicativos de empresa do local virtualizado plataformas tooAzure máquinas virtuais. Para ver uma discussão detalhada sobre aplicativos empresariais, confira [O que é um Aplicativo Empresarial](https://msdn.microsoft.com/library/aa267045.aspx).
* Você deseja tooquickly desenvolvimento de provisionar e ambientes de teste por curtos períodos de tempo.
* Você deseja que o teste de estresse tooperform para níveis de carga de trabalho, mas a saudação ao mesmo tempo, você não deseja tooown e manter físico muitas máquinas todo o tempo de saudação.

Olá diagrama a seguir demonstra como você pode colocar um simple aplicativo de camada 3 no Azure colocando cada camada de aplicativo em uma máquina virtual diferente.

![padrão de aplicativo de três camadas](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728009.png)

Neste padrão de aplicativo, há apenas uma VM (máquina virtual) em cada camada. Se você tiver várias VMs no Azure, recomendamos configurar uma rede virtual. [Rede Virtual do Azure](../../../virtual-network/virtual-networks-overview.md) cria um limite de segurança confiável e também permite que toocommunicate VMs entre si pelo endereço IP privado de saudação. Além disso, sempre Certifique-se de que todas as conexões de Internet apenas vão toohello da camada de apresentação. Ao seguir esse padrão de aplicativo, gerencie o acesso de toocontrol regras do grupo de segurança de rede hello. Para obter mais informações, consulte [permitir acesso externo tooyour VM usando Olá portal do Azure](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).

No diagrama de hello, protocolos de Internet pode ser TCP, UDP, HTTP ou HTTPS.

> [!NOTE]
> Configurar uma rede virtual no Azure é gratuito. No entanto, você é cobrado para gateway de VPN de saudação que se conecta tooon local. A cobrança baseia-se a quantidade de saudação do tempo de conexão é provisionado e está disponível.
> 
> 

## <a name="2-tier-and-3-tier-with-presentation-tier-scale-out"></a>Duas e três camadas com dimensionamento da camada de apresentação
Nesse padrão de aplicativo, você pode implantar banco de dados de camada 2 ou 3 aplicativo tooAzure máquinas virtuais, colocando cada camada de aplicativo em uma máquina virtual diferente. Além disso, você expansão da camada de apresentação Olá devido tooincreased volume de solicitações de cliente recebidas.

Esse padrão de aplicativo é útil quando:

* Você deseja toomove aplicativos de empresa do local virtualizado plataformas tooAzure máquinas virtuais.
* Você deseja tooscale a camada de apresentação Olá devido tooincreased volume de solicitações de cliente recebidas.
* Você deseja tooquickly desenvolvimento de provisionar e ambientes de teste por curtos períodos de tempo.
* Você deseja que o teste de estresse tooperform para níveis de carga de trabalho, mas a saudação ao mesmo tempo, você não deseja tooown e manter físico muitas máquinas todo o tempo de saudação.
* Você deseja tooown um ambiente de infraestrutura que pode ser dimensionada para cima e para baixo sob demanda.

Olá diagrama a seguir demonstra como você pode colocar as camadas do aplicativo hello em várias máquinas virtuais no Azure pela expansão da camada de apresentação Olá devido tooincreased volume de solicitações de cliente recebidas. Conforme visto no diagrama hello, balanceador de carga do Azure é responsável por distribuir o tráfego entre várias máquinas virtuais e também determinar quais tooconnect do servidor web para. Ter várias instâncias dos servidores de web hello atrás de um balanceador de carga garante a alta disponibilidade de saudação da camada de apresentação de saudação.

![Padrão de aplicativo - escalamento horizontal da camada de apresentação](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728010.png)

### <a name="best-practices-for-2-tier-3-tier-or-n-tier-patterns-that-have-multiple-vms-in-one-tier"></a>Práticas recomendadas para padrões de duas, três ou n camadas que têm várias VMs em uma camada
É recomendável que você coloque máquinas virtuais Olá que pertencem a toohello mesma camada no hello mesmo serviço de nuvem e em Olá mesmo Olá conjunto de disponibilidade. Por exemplo, coloque um conjunto de servidores Web em **CloudService1** e **AvailabilitySet1** e um conjunto de servidores de banco de dados em **CloudService2** e **AvailabilitySet2**. Uma conjunto de disponibilidade no Azure permite que nós de alta disponibilidade Olá tooplace em domínios de falha e domínios de atualização.

tooleverage várias instâncias VM de uma camada, você precisa tooconfigure balanceador de carga do Azure entre camadas de aplicativo. tooconfigure balanceador de carga em cada camada, crie um ponto de extremidade com balanceamento de carga em VMs de cada camada separadamente. Para uma camada específica, primeiro crie VMs no hello mesmo serviço de nuvem. Isso garante que eles tenham Olá mesmo endereço IP Virtual público. Em seguida, crie um ponto de extremidade em uma saudação máquinas virtuais nessa camada. Em seguida, atribuir Olá toohello do mesmo ponto de extremidade com outras máquinas virtuais nessa camada para balanceamento de carga. Criando um conjunto com balanceamento de carga, você distribuir o tráfego entre várias máquinas virtuais e também permitir Olá balanceador de carga toodetermine tooconnect qual nó quando não é um nó VM back-end. Por exemplo, ter várias instâncias dos servidores de web hello atrás de um balanceador de carga garante a alta disponibilidade Olá da camada de apresentação de saudação.

Como prática recomendada, sempre Certifique-se de que todas as conexões de internet vão primeiro toohello da camada de apresentação. camada de apresentação de saudação acessa a camada de negócios hello e, em seguida, camada de negócios Olá acessa a camada de dados hello. Para obter mais informações sobre como tooallow acessar a camada de apresentação toohello, consulte [permitir acesso externo tooyour VM usando Olá portal do Azure](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).

Observe que Olá balanceador de carga no Azure funciona balanceadores de tooload semelhante em um ambiente local. Para obter mais informações, veja [Balanceamento de carga para serviços de infraestrutura do Azure](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).

Além disso, recomendamos que você configure uma rede privada para suas máquinas virtuais usando a Rede Virtual do Azure. Isso permite que eles toocommunicate entre si pelo endereço IP privado de saudação. Para obter mais informações, veja [Rede Virtual do Azure](../../../virtual-network/virtual-networks-overview.md).

## <a name="2-tier-and-3-tier-with-business-tier-scale-out"></a>Duas e três camadas com dimensionamento da camada de negócios
Nesse padrão de aplicativo, você pode implantar banco de dados de camada 2 ou 3 aplicativo tooAzure máquinas virtuais, colocando cada camada de aplicativo em uma máquina virtual diferente. Além disso, convém toodistribute Olá aplicativo componentes toomultiple máquinas virtuais do servidor devido a complexidade de toohello do seu aplicativo.

Esse padrão de aplicativo é útil quando:

* Você deseja toomove aplicativos de empresa do local virtualizado plataformas tooAzure máquinas virtuais.
* Você deseja toodistribute Olá aplicativo servidor componentes toomultiple máquinas virtuais devido toohello complexidade do seu aplicativo.
* Você deseja aplicativos toomove negócios lógica pesado local LOB (linha de negócios) tooAzure máquinas virtuais. Aplicativos de LOB são um conjunto de aplicativos de computador crítico que são vital toorunning uma empresa, como contabilidade, recursos humanos (RH), folha de pagamento, gerenciamento da cadeia de fornecedores e aplicativos de planejamento de recursos.
* Você deseja tooquickly desenvolvimento de provisionar e ambientes de teste por curtos períodos de tempo.
* Você deseja que o teste de estresse tooperform para níveis de carga de trabalho, mas a saudação ao mesmo tempo, você não deseja tooown e manter físico muitas máquinas todo o tempo de saudação.
* Você deseja tooown um ambiente de infraestrutura que pode ser dimensionada para cima e para baixo sob demanda.

Olá diagrama a seguir demonstra um cenário local e sua solução habilitada para nuvem. Nesse cenário, você coloca as camadas do aplicativo hello em várias máquinas virtuais no Azure pela expansão da camada de negócios do hello, que contém a camada de lógica de negócios hello e componentes de acesso a dados. Conforme visto no diagrama hello, balanceador de carga do Azure é responsável por distribuir o tráfego entre várias máquinas virtuais e também determinar quais tooconnect do servidor web para. Ter várias instâncias dos servidores de aplicativo hello atrás de um balanceador de carga garante a alta disponibilidade de saudação da camada de negócios hello. Para obter mais informações, veja [Práticas recomendadas para padrões de aplicativos de duas, três ou n camadas que têm várias máquinas virtuais em uma camada](#best-practices-for-2-tier-3-tier-or-n-tier-patterns-that-have-multiple-vms-in-one-tier).

![Padrão de aplicativo com escalamento horizontal da camada de negócios](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728011.png)

## <a name="2-tier-and-3-tier-with-presentation-and-business-tiers-scale-out-and-hadr"></a>Duas e três camadas com expansão das camadas de negócios e apresentação e HADR
Nesse padrão de aplicativo, você implanta o banco de dados de camada 2 ou 3 aplicativo tooAzure máquinas virtuais através da distribuição de camada de apresentação da saudação (servidor web) e Olá máquinas virtuais toomultiple de componentes do business camada (servidor de aplicativos). Além disso, você deve implementar soluções de recuperação de desastres e alta disponibilidade em seus bancos de dados nas máquinas virtuais do Azure.

Esse padrão de aplicativo é útil quando:

* Você deseja que os aplicativos do enterprise toomove de plataformas virtualizadas locais tooAzure com a implementação de alta disponibilidade e desastres recuperação recursos do SQL Server.
* Você deseja tooscale da camada de apresentação hello e camada de negócios Olá devido tooincreased volume de solicitações de cliente e a complexidade de saudação do seu aplicativo.
* Você deseja tooquickly desenvolvimento de provisionar e ambientes de teste por curtos períodos de tempo.
* Você deseja que o teste de estresse tooperform para níveis de carga de trabalho, mas a saudação ao mesmo tempo, você não deseja tooown e manter físico muitas máquinas todo o tempo de saudação.
* Você deseja tooown um ambiente de infraestrutura que pode ser dimensionada para cima e para baixo sob demanda.

Olá diagrama a seguir demonstra um cenário local e sua solução habilitada para nuvem. Nesse cenário, a expansão da camada de apresentação hello e componentes de camada de negócios Olá em várias máquinas virtuais no Azure. Além disso, você deve implementar técnicas de HADR (alta disponibilidade e recuperação de desastres) em seus bancos de dados do SQL Server.

Ao executar várias cópias de um aplicativo em diferentes VMs, certifique-se de estar balanceando a carga de solicitações entre elas. Quando você tiver várias máquinas virtuais, você precisa toomake-se de que todas as suas VMs estejam acessíveis e em execução em um ponto no tempo. Se você configurar o balanceamento de carga, faixas de Balanceador de carga do Azure Olá integridade das VMs e direciona a entrada chamadas toohello nós de VM funcionando corretamente. Para obter informações sobre como tooset o balanceamento de carga de máquinas virtuais de hello, consulte [balanceamento de carga para serviços de infraestrutura do Azure](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json). Ter várias instâncias dos servidores web e aplicativos atrás de um balanceador de carga garante alta disponibilidade Olá Olá camadas de apresentação e de negócios.

![Escalamento horizontal e alta disponibilidade](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728012.png)

### <a name="best-practices-for-application-patterns-requiring-sql-hadr"></a>Práticas recomendadas para padrões de aplicativo que exigem HADR SQL
Quando você configura soluções de alta disponibilidade e recuperação de desastre do SQL Server nas Máquinas Virtuais do Azure, é obrigatório configurar uma rede virtual para suas máquinas virtuais usando a [Rede Virtual do Azure](../../../virtual-network/virtual-networks-overview.md) .  Máquinas virtuais em uma rede Virtual terão um endereço IP privado estável mesmo após um tempo de inatividade do serviço, assim você pode evitar o tempo de atualização de saudação necessário para a resolução de nome DNS. Além disso, rede virtual Olá permite tooextend seus locais de rede tooAzure e cria um limite de segurança confiável. Por exemplo, se o seu aplicativo tiver restrições de domínio corporativo (por exemplo, autenticação do Windows, Active Directory), é necessário configurar a [Rede Virtual do Azure](../../../virtual-network/virtual-networks-overview.md) .

A maioria dos clientes que estão executando código de produção no Azure mantêm as réplicas primária e secundária no Azure.

Para obter informações abrangentes e tutoriais sobre técnicas de alta disponibilidade e recuperação de desastres, veja [Alta disponibilidade e recuperação de desastre para o SQL Server nas Máquinas Virtuais do Azure](virtual-machines-windows-sql-high-availability-dr.md).

## <a name="2-tier-and-3-tier-using-azure-vms-and-cloud-services"></a>Duas e três camadas usando Serviços de Nuvem e VMs do Azure
Nesse padrão de aplicativo, implantar aplicativos de camada 2 ou 3 tooAzure usando [serviços de nuvem do Azure](../../../cloud-services/cloud-services-choose-me.md#tellmecs) (funções de web e de trabalho - plataforma como serviço (PaaS)) e [máquinas virtuais do Azure](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) ( Infraestrutura como serviço (IaaS)). Usando [serviços de nuvem do Azure](https://azure.microsoft.com/documentation/services/cloud-services/) para camada de negócios/camada de apresentação hello e SQL Server em [máquinas virtuais do Azure](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) para dados de saudação camada é benéfica para a maioria dos aplicativos em execução no Azure. motivo da saudação é que ter uma instância de computação em execução nos serviços de nuvem fornece uma facilidade de gerenciamento, implantação, monitoramento e expansão.

Com serviços de nuvem, o Azure mantém a infraestrutura de saudação para você, realiza manutenção de rotina, patches a sistemas operacionais de saudação e tentativas toorecover contra falhas de hardware e de serviço. Quando seu aplicativo precisa de expansão, opções de expansão automáticas e manuais estão disponíveis para seu projeto de serviço de nuvem aumentando ou diminuindo o número de saudação de instâncias ou máquinas virtuais que são usadas por seu aplicativo. Além disso, você pode usar o local Visual Studio toodeploy seu projeto de serviço de nuvem de tooa do aplicativo no Azure.

Em resumo, se você não quiser tooown muitas tarefas administrativas para Olá apresentação/camada de negócios e seu aplicativo não requer qualquer configuração complexa de software ou Olá sistema operacional, use os serviços de nuvem do Azure. Se o banco de dados do SQL Azure não oferece suporte a todos os recursos de saudação que você está procurando, use SQL Server em uma máquina Virtual do Azure para a camada de dados de saudação. Executando um aplicativo em nuvem do Azure e armazenar dados em máquinas virtuais do Azure combinam os benefícios de saudação de ambos os serviços. Para obter uma comparação detalhada, consulte a seção de saudação neste tópico sobre [comparando estratégias de desenvolvimento no Azure](#comparing-web-development-strategies-in-azure).

Nesse padrão de aplicativo, a camada de apresentação de saudação inclui uma função web, que é um componente de serviços de nuvem em execução no ambiente de execução do Azure hello e ele personalizada para programação de aplicativo web com suporte pelo IIS e ASP.NET. Olá a camada de negócios ou de back-end inclui uma função de trabalho, que é um componente de serviços de nuvem em execução no ambiente de execução do Azure hello e ele é útil para desenvolvimento generalizado e pode executar processamento em segundo plano para uma função web. camada de banco de dados de saudação reside em uma máquina de virtual do SQL Server no Azure. a comunicação entre a camada de apresentação de saudação e camada de banco de dados de saudação Olá acontece diretamente ou pela camada de negócios hello – componentes da função de trabalho.

Esse padrão de aplicativo é útil quando:

* Você deseja que os aplicativos do enterprise toomove de plataformas virtualizadas locais tooAzure com a implementação de alta disponibilidade e desastres recuperação recursos do SQL Server.
* Você deseja tooown um ambiente de infraestrutura que pode ser dimensionada para cima e para baixo sob demanda.
* Banco de dados SQL do Azure não oferece suporte a todos os recursos de saudação que precisa de seu aplicativo ou banco de dados.
* Você deseja que o teste de estresse tooperform para níveis de carga de trabalho, mas a saudação ao mesmo tempo, você não deseja tooown e manter físico muitas máquinas todo o tempo de saudação.

Olá diagrama a seguir demonstra um cenário local e sua solução habilitada para nuvem. Nesse cenário, você coloca a camada de apresentação Olá nas funções da web, camada de negócios Olá em funções de trabalho, mas Olá camada de dados em máquinas virtuais no Azure. Executar várias cópias da camada de apresentação de saudação em diferentes funções da web garante solicitações de saldo de tooload entre eles. Quando você combina os Serviços de Nuvem do Azure com as Máquinas Virtuais do Azure, recomendamos que você configure também a [Rede Virtual do Azure](../../../virtual-network/virtual-networks-overview.md) . Com [rede Virtual do Azure](../../../virtual-network/virtual-networks-overview.md), você pode ter estável e endereços IP privados persistentes no mesmo serviço de nuvem de saudação Olá nuvem. Quando você define uma rede virtual para as máquinas virtuais e serviços em nuvem, elas podem começar a se comunicar entre si por endereço IP privado de saudação. Além disso, ter máquinas virtuais e funções web/de trabalho do Azure no hello mesmo [rede Virtual do Azure](../../../virtual-network/virtual-networks-overview.md) proporciona baixa latência e conectividade mais segura. Para obter mais informações, veja [O que é um serviço de nuvem?](../../../cloud-services/cloud-services-choose-me.md)

Conforme visto no diagrama Olá, o balanceador de carga do Azure distribui o tráfego entre várias máquinas virtuais e também determina qual servidor web ou servidor de aplicativos tooconnect para. Ter várias instâncias dos servidores de web e aplicativos de saudação atrás de um balanceador de carga garante a alta disponibilidade de saudação das camadas de apresentação hello e Olá business. Para obter mais informações, veja [Práticas recomendadas para padrões de aplicativos que exigem o HADR SQL](#best-practices-for-application-patterns-requiring-sql-hadr).

![Padrões de aplicativo com Serviços de Nuvem](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728013.png)

Esse padrão de aplicativo de tooimplement de outra abordagem é toouse uma função web consolidada que contém a camada de apresentação e de componentes da camada de negócios, conforme mostrado na seguinte Olá diagrama. Esse padrão de aplicativo é útil para aplicativos que requerem um design com monitoração de estado. Como o Azure fornece nós de computação sem monitoração de estado em funções web e de trabalho, é recomendável que você implemente um estado de sessão toostore lógica usando uma das seguintes tecnologias de saudação: [cache do Azure](https://azure.microsoft.com/documentation/services/redis-cache/), [oarmazenamentodetabeladoAzure](../../../cosmos-db/table-storage-how-to-use-dotnet.md) ou [banco de dados SQL do Azure](../../../sql-database/sql-database-technical-overview.md).

![Padrões de aplicativo com Serviços de Nuvem](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728014.png)

## <a name="pattern-with-azure-vms-azure-sql-database-and-azure-app-service-web-apps"></a>Padrão com VMs do Azure, Banco de Dados SQL do Azure e Serviço de Aplicativo do Azure (Aplicativos Web)
Olá principal objetivo desse padrão de aplicativo é tooshow você como toocombine infraestrutura do Azure como um componentes de serviço (IaaS) com componentes de plataforma como serviço (PaaS) do Azure em sua solução. Este padrão tem como foco o Banco de Dados SQL do Azure para armazenamento de dados relacionais. Ele não inclui do SQL Server em uma máquina virtual do Azure, que faz parte da saudação infraestrutura do Azure como uma oferta de serviço.

Nesse padrão de aplicativo, você implanta um tooAzure do aplicativo de banco de dados colocando apresentação hello e Olá de camadas de negócios na mesma máquina virtual e acessando um banco de dados em servidores de banco de dados do SQL do Azure (banco de dados SQL). Você pode implementar a camada de apresentação de saudação usando soluções de web tradicionais baseadas em IIS. Ou você pode implementar uma camada combinada de apresentação e de negócios usando os [Aplicativos Web do Azure](https://azure.microsoft.com/documentation/services/app-service/web/).

Esse padrão de aplicativo é útil quando:

* Você já tiver um servidor de banco de dados SQL existente configurado no Azure e deseja tootest seu aplicativo rapidamente.
* Você deseja tootest recursos de saudação do ambiente Azure.
* Você deseja tooquickly desenvolvimento de provisionar e ambientes de teste por curtos períodos de tempo.
* Os componentes de acesso de dados e lógica de negócios podem ser contidos de forma autônoma dentro de um aplicativo Web.

Olá diagrama a seguir demonstra um cenário local e sua solução habilitada para nuvem. Nesse cenário, você coloca as camadas do aplicativo hello em uma única máquina virtual no Azure e acessar dados no banco de dados do SQL Azure.

![Padrão de aplicativo misto](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728015.png)

Se você escolher tooimplement uma web combinada ou um aplicativo de camada por meio de aplicativos Web do Azure, recomendamos que você mantenha a camada de aplicativo ou de camada intermediária hello como bibliotecas de vínculo dinâmico (DLLs) no contexto de saudação de um aplicativo web.

Além disso, analise as recomendações Olá Olá [comparando estratégias de desenvolvimento da web no Azure](#comparing-web-development-strategies-in-azure) seção final Olá este toolearn artigo mais sobre técnicas de programação.

## <a name="n-tier-hybrid-application-pattern"></a>Padrão de aplicativo híbrido de n camadas
No padrão de aplicativo híbrido com n camadas, você implementa seu aplicativo em várias camadas distribuídas entre locais e o Azure. Portanto, você pode criar um sistema híbrido flexível e reutilizável que você pode modificar ou adicionar uma camada específica sem alterar Olá outras camadas. tooextend toohello sua rede corporativa na nuvem, você use [rede Virtual do Azure](../../../virtual-network/virtual-networks-overview.md) serviço.

Esse padrão de aplicativo híbrido é útil quando:

* Você deseja que os aplicativos toobuild que executam parcialmente na nuvem hello e parcialmente no local.
* Você deseja toomigrate alguns ou todos os elementos de uma nuvem de toohello de aplicativo local existente.
* Você deseja que os aplicativos do enterprise toomove de tooAzure de plataformas virtualizadas locais.
* Você deseja tooown um ambiente de infraestrutura que pode ser dimensionada para cima e para baixo sob demanda.
* Você deseja tooquickly desenvolvimento de provisionar e ambientes de teste por curtos períodos de tempo.
* Você deseja uma maneira econômica de backups de tootake para aplicativos de banco de dados corporativos.

Olá diagrama a seguir demonstra um padrão de aplicativo híbrido de n camadas que abrange o local e o Azure. Conforme mostrado no diagrama hello, na infraestrutura local inclui [serviços de domínio do Active Directory](https://technet.microsoft.com/library/hh831484.aspx) autorização e autenticação de usuário de toosupport de controlador de domínio. Observe que esse diagrama Olá demonstra um cenário onde algumas partes da camada de dados Olá ao vivo em um data center local enquanto algumas partes da camada de dados Olá live no Azure. Dependendo das necessidades do seu aplicativo, você pode implementar vários outros cenários híbridos. Por exemplo, você pode manter da camada de apresentação hello e camada de negócios de saudação em um local ambiente mas Olá camada de dados no Azure.

![Padrão de aplicativo de n camadas](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728016.png)

No Azure, você pode usar o Active Directory como um diretório de nuvem autônomo para a sua organização ou também pode integrar o Active Directory local existente com o [Active Directory do Azure](https://azure.microsoft.com/documentation/services/active-directory/). Conforme visto no diagrama Olá, componentes de camada de negócios Olá podem acessar toomultiple fontes de dados, como muito[SQL Server no Azure](virtual-machines-windows-sql-server-iaas-overview.md) por meio de um interno endereço IP privado, o SQL Server por meio do tooon local [deredeVirtualdoAzure](../../../virtual-network/virtual-networks-overview.md), ou muito[banco de dados SQL](../../../sql-database/sql-database-technical-overview.md) usando tecnologias de provedor de dados .NET Framework hello. Neste diagrama, o Banco de Dados SQL do Azure é um serviço de armazenamento de dados opcionais.

No padrão de aplicativo híbrido de n camadas, você pode implementar Olá fluxo de trabalho na ordem de saudação especificada a seguir:

1. Identificar os aplicativos de banco de dados corporativos que precisam toobe subir toocloud usando Olá [Microsoft Assessment and Planning (MAP) Toolkit](http://microsoft.com/map). Olá MAP Toolkit reúne dados de desempenho e de inventário de computadores que você está considerando para virtualização e fornece recomendações sobre planejamento de avaliação e a capacidade.
2. Planeje a configuração necessária no hello plataforma Windows Azure, como contas de armazenamento e máquinas virtuais e os recursos de saudação.
3. Configurar a conectividade de rede entre Olá rede corporativa local e [rede Virtual do Azure](../../../virtual-network/virtual-networks-overview.md). tooset a conexão de saudação entre Olá rede corporativa local e uma máquina virtual no Azure, use um dos Olá dois métodos a seguir:
   
   1. Estabelecer uma conexão entre locais e o Azure por meio de pontos de extremidade públicos em uma máquina virtual no Azure. Esse método fornece uma instalação fácil e permite que você toouse a autenticação do SQL Server na máquina virtual. Além disso, configure sua rede segurança grupo regras toocontrol tráfego público toohello VM. Para obter mais informações, consulte [permitir acesso externo tooyour VM usando Olá portal do Azure](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).
   2. Estabelecer uma conexão entre locais e o Azure através do túnel da VPN (rede virtual privada) do Azure. Esse método permite que você tooextend domínio políticas tooa VM no Azure. Além disso, você pode configurar regras de firewall e usar a autenticação do Windows em sua máquina virtual. Atualmente, o Azure dá suporte a conexões seguras de VPN site a site e VPN site a ponto:
      
      * Com a conexão segura site a site, você pode estabelecer a conectividade de rede entre sua rede local e sua rede virtual no Azure. É recomendável para conectar seu tooAzure de ambiente de centro de dados local.
      * Com a conexão segura ponto a site, você pode estabelecer a conectividade de rede entre sua rede virtual no Azure e seus computadores virtuais em execução em qualquer lugar. É recomendável principalmente para fins de desenvolvimento e teste.
      
      Para obter informações sobre como tooconnect tooSQL Server no Azure, consulte [conectar tooa Máquina Virtual do SQL Server no Azure](virtual-machines-windows-sql-connect.md).
4. Configure trabalhos agendados e alertas que fazem backup de dados locais em um disco de máquina virtual no Azure. Para obter mais informações, veja [Backup e restauração do SQL Server com o Serviço de Armazenamento de Blobs do Azure](https://msdn.microsoft.com/library/jj919148.aspx) e [Backup e restauração do SQL Server nas Máquinas Virtuais do Azure](virtual-machines-windows-sql-backup-recovery.md).
5. Dependendo das necessidades do seu aplicativo, você pode implementar uma saudação três cenários comuns a seguir:
   
   1. Você pode manter seu servidor web, servidor de aplicativos e dados sem distinção em um servidor de banco de dados no Azure, enquanto mantém os dados confidenciais de saudação no local.
   2. Você pode manter seu servidor web e servidor de aplicativos local enquanto o servidor de banco de dados de saudação em uma máquina virtual no Azure.
   3. Você pode manter seu servidor de banco de dados, o servidor web e servidor de aplicativos no local, enquanto você manter réplicas de banco de dados de saudação em máquinas virtuais no Azure. Essa configuração permite Olá servidores web local ou tooaccess relatórios de aplicativos Olá réplicas de banco de dados no Azure. Portanto, você pode obter a carga de trabalho do toolower Olá em um banco de dados local. Nós recomendamos que você implemente este cenário para cargas de trabalho de leitura pesadas e para fins de desenvolvimento. Para obter informações sobre como criar réplicas de banco de dados no Azure, veja os Grupos de Disponibilidade AlwaysOn em [Alta disponibilidade e recuperação de desastre para o SQL Server nas Máquinas Virtuais do Azure](virtual-machines-windows-sql-high-availability-dr.md).

## <a name="comparing-web-development-strategies-in-azure"></a>Comparando as estratégias de desenvolvimento da Web no Azure
tooimplement e implantar um aplicativo baseado em SQL Server no Azure de vários níveis, você pode usar uma saudação dois métodos de programação a seguir:

* Configurar um servidor Web tradicional (IIS - Serviços de Informações da Internet) no Azure e acessar bancos de dados no SQL Server nas Máquinas Virtuais do Azure.
* Implementar e implantar um tooAzure de serviço de nuvem. Em seguida, certifique-se de que esse serviço de nuvem pode acessar bancos de dados no SQL Server nas Máquinas Virtuais do Azure. Um serviço de nuvem pode incluir várias funções Web e de trabalho.

Olá, a tabela a seguir fornece uma comparação do desenvolvimento tradicional da web com serviços de nuvem do Azure e aplicativos Web do Azure com respeito tooSQL Server em máquinas virtuais do Azure. tabela de saudação inclui aplicativos Web do Azure como é possível toouse do SQL Server em VM do Azure como uma fonte de dados para aplicativos Web do Azure por meio de seu endereço IP virtual público ou o nome DNS.

|  | Desenvolvimento para a web tradicional em Máquinas Virtuais do Azure | Serviços de nuvem no Azure | Hospedagem na Web com Aplicativos Web do Azure |
| --- | --- | --- | --- |
| **Migração de aplicativos do local** |Aplicativos existentes como são. |Os aplicativos precisam de funções da web e do trabalhador. |Aplicativos existentes como são, mas adequados para aplicativos da web autocontidos e serviços Web que exigem escalabilidade rápida. |
| **Desenvolvimento e Implantação** |Visual Studio, WebMatrix, Visual Web Developer, WebDeploy, FTP, TFS, Gerenciador do IIS, PowerShell. |Visual Studio, SDK do Azure, TFS, PowerShell. Cada serviço de nuvem tem dois toowhich de ambientes, você pode implantar o pacote de serviço e configuração: de preparo e produção. Você pode implantar um toohello de serviço de nuvem tootest do ambiente de preparo antes de promovê-lo tooproduction. |Visual Studio, WebMatrix, Visual Web Developer, FTP, GIT, BitBucket, CodePlex, DropBox, GitHub, Mercurial, TFS, Implantação da Web, PowerShell. |
| **Administração e Configuração** |Você é responsável por tarefas administrativas no aplicativo hello, dados, as regras de firewall, rede virtual e sistema operacional. |Você é responsável por tarefas administrativas no aplicativo hello, dados, as regras de firewall e rede virtual. |Você é responsável por tarefas administrativas no aplicativo hello e apenas os dados. |
| **HADR (Alta Disponibilidade e Recuperação de Desastre)** |É recomendável que você coloque máquinas virtuais no hello disponibilidade mesmo definido e em Olá mesmo serviço de nuvem. Olá a manter suas VMs no mesmo conjunto de disponibilidade permite tooplace Azure nós de alta disponibilidade de saudação em domínios de falha e domínios de atualização. Da mesma forma, manter suas VMs em Olá mesmo serviço de nuvem permite o balanceamento de carga e VMs possam se comunicar diretamente com uma outra rede local de saudação dentro de um data center do Azure.<br/><br/>Você é responsável por implementar uma solução de recuperação de desastres e disponibilidade alta para o SQL Server em máquinas virtuais do Azure tooavoid qualquer tempo de inatividade. Para conhecer as tecnologias de HADR com suporte, veja [Alta disponibilidade e recuperação de desastre para o SQL Server nas Máquinas Virtuais do Azure](virtual-machines-windows-sql-high-availability-dr.md).<br/><br/>Você é responsável pelo backup de seus dados e aplicativos.<br/><br/>Azure pode mover as máquinas virtuais se a máquina de host Olá no hello data center falhar devido a problemas de toohardware. Além disso, pode haver um tempo de inatividade planejado da VM quando máquina de host de saudação é atualizada para software de segurança ou atualizações. Portanto, recomendamos que você mantenha pelo menos duas VMs em cada aplicativo da camada tooensure Olá a disponibilidade contínua. O Azure não fornece SLA para uma única máquina virtual. Para saber mais, confira as [Orientação técnica de resiliência do Azure](../../../resiliency/resiliency-technical-guidance.md). |O Azure gerencia falhas Olá resultante da saudação software de hardware ou sistema operacional de base. É recomendável que você implemente várias instâncias de uma web ou trabalho função tooensure Olá alta disponibilidade do seu aplicativo. Para obter informações, consulte [Contrato de Nível de Serviço de Rede Virtual, Máquinas Virtuais e Serviços de Nuvem](http://www.microsoft.com/download/details.aspx?id=38427) e [Recuperação de desastre e alta disponibilidade para aplicativos do Azure](../../../resiliency/resiliency-disaster-recovery-high-availability-azure-applications.md)<br/><br/>Você é responsável pelo backup de seus dados e aplicativos.<br/><br/>Para bancos de dados que residem em um banco de dados do SQL Server em uma VM do Azure, você é responsável por implementar um tooavoid de solução de recuperação desastres e disponibilidade alta qualquer tempo de inatividade. Para conhecer as tecnologias de HADR com suporte, veja Alta disponibilidade e recuperação de desastre para o SQL Server nas Máquinas Virtuais do Azure.<br/><br/>**Espelhamento de banco de dados do SQL Server**: uso com os Serviços de Nuvem do Azure (funções web/de trabalho). VMs do SQL Server e um projeto de serviço de nuvem pode ser em Olá mesma rede Virtual do Azure. Se a VM do SQL Server não está em Olá mesma rede Virtual, é necessário toocreate uma instância de toohello de comunicação de tooroute Alias do SQL Server do SQL Server. Além disso, nome do alias Olá deve corresponder o nome de SQL Server de saudação. |A alta disponibilidade é herdada de funções do trabalhador do Azure, do armazenamento de blobs do Azure e do banco de dados SQL. Por exemplo, o Armazenamento do Azure mantém três réplicas de todos dados de blob, tabela e fila. A qualquer momento, o Banco de Dados SQL do Azure mantém três réplicas dos dados em execução — uma réplica primária e duas réplicas secundárias. Para saber mais, confira [Armazenamento do Azure](https://azure.microsoft.com/documentation/services/storage/) e [Banco de Dados SQL do Azure](../../../sql-database/sql-database-technical-overview.md).<br/><br/>Ao usar o SQL Server na VM do Azure como uma fonte de dados para Aplicativos Web do Azure, tenha em mente de que os Aplicativos Web do Azure não dão suporte à Rede Virtual do Azure. Em outras palavras, todas as conexões de aplicativos Web do Azure tooSQL VMs Server no Azure devem passar por pontos de extremidade públicos de máquinas virtuais. Isso pode causar algumas limitações para cenários de alta disponibilidade e recuperação de desastres. Por exemplo, aplicativo de cliente hello em aplicativos da Web do Azure conectando tooSQL VM de servidor com o espelhamento de banco de dados não seria capaz de tooconnect toohello novo servidor primário como espelhamento de banco de dados exige que você configure a rede Virtual do Azure entre as VMs de host do SQL Server em Azure. Portanto, atualmente não há suporte ao uso do **Espelhamento de banco de dados do SQL Server** com Aplicativos Web do Azure.<br/><br/>**Grupos de Disponibilidade AlwaysOn do SQL Server**: é possível configurar Grupos de Disponibilidade AlwaysOn ao usar os Aplicativos Web do Azure com as VMs do SQL Server no Azure. Mas você precisa tooconfigure ouvinte de grupo de disponibilidade do AlwaysOn tooroute Olá comunicação toohello réplica primária por meio de pontos de extremidade públicos com balanceamento de carga. |
| **Conectividade entre locais** |Você pode usar a rede Virtual do Azure tooon tooconnect local. |Você pode usar a rede Virtual do Azure tooon tooconnect local. |Há suporte para a Rede Virtual do Azure. Para saber mais, confira a [Integração da Rede Virtual de Aplicativos Web](https://azure.microsoft.com/blog/2014/09/15/azure-websites-virtual-network-integration/). |
| **Escalabilidade** |Escala está disponível aumentando os tamanhos de máquina virtual de saudação ou adicionar mais discos. Para obter mais informações sobre tamanhos de máquina virtual, consulte [Tamanhos de Máquina Virtual para o Azure](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).<br/><br/>**Para Servidor de Banco de Dados**: a expansão está disponível por meio de técnicas de particionamento do banco de dados e Grupos de disponibilidade AlwaysOn do SQL Server.<br/><br/>Para cargas de trabalho de leitura pesadas, você pode usar [Grupos de Disponibilidade AlwaysOn](https://msdn.microsoft.com/library/hh510230.aspx) em vários nós secundários, bem como a replicação do SQL Server.<br/><br/>Para cargas de trabalho pesada de gravação, você pode implementar o particionamento horizontal de dados entre vários servidores físicos tooprovide expansão de aplicativos.<br/><br/>Além disso, você pode implementar uma expansão usando [SQL Server com roteamento dependente de dados](https://technet.microsoft.com/library/cc966448.aspx). Com dados dependentes roteamento (DDR), você precisa Olá tooimplement mecanismo no aplicativo de cliente hello, normalmente na camada de negócios Olá de particionamento, solicitações de banco de dados de saudação tooroute toomultiple nós do SQL Server. camada de negócios Olá contém mapeamentos toohow Olá dados são particionados e o nó que contém dados de saudação.<br/><br/>Você pode escalar aplicativos que executam máquinas virtuais. Para obter mais informações, consulte [como um aplicativo de tooScale](../../../cloud-services/cloud-services-how-to-scale.md).<br/><br/>**Observação importante**: Olá **AutoEscala** recurso no Azure permite que você tooautomatically aumentar ou diminuir Olá máquinas virtuais que são usados por seu aplicativo. Esse recurso garante que a experiência do usuário final de saudação não seja afetada negativamente durante os períodos de pico, e as VMs sejam desligadas quando a demanda de saudação é baixa. É recomendável que você não defina opção de dimensionamento automático Olá para seu serviço de nuvem se ele inclui VMs do SQL Server. Olá motivo é que recurso AutoEscala Olá permite tooturn do Azure em uma máquina virtual quando hello uso da CPU na VM é maior do que alguns limite e tooturn uma máquina virtual quando Olá uso da CPU for inferior a ele. recurso de AutoEscala Olá é útil para aplicativos sem monitoração de estado, como servidores web, onde qualquer VM pode gerenciar a carga de trabalho Olá sem qualquer estado anterior do tooany de referências. No entanto, o recurso de AutoEscala Olá não é útil para aplicativos com monitoração de estado, como o SQL Server, onde apenas uma instância permite gravar toohello banco de dados. |A ampliação está disponível ao usar várias funções da web e do trabalhador. Para obter mais informações sobre tamanhos de máquina virtual para funções web e funções de trabalho, consulte [Configurar tamanhos para Serviços de Nuvem](../../../cloud-services/cloud-services-sizes-specs.md).<br/><br/>Ao usar **serviços de nuvem**, você pode definir o processamento de toodistribute várias funções e também realizar o dimensionamento flexível de seu aplicativo. Cada serviço de nuvem inclui uma ou mais funções Web e/ou funções de trabalho, cada uma com seus próprios arquivos e configuração de aplicativo. Você pode dimensionar a um serviço de nuvem aumentando o número de saudação de instâncias de função (máquinas virtuais) implantadas para uma função e reduzir um serviço de nuvem diminuindo o número de saudação de instâncias de função. Para obter mais informações, consulte [Modelos de execução do Azure](../../../cloud-services/cloud-services-choose-me.md).<br/><br/>A expansão está disponível por meio do suporte interno de alta disponibilidade do Azure através do [Contrato de Nível de Serviço de Rede Virtual, Máquinas Virtuais e Serviços de Nuvem](http://www.microsoft.com/download/details.aspx?id=38427) e do Balanceador de carga.<br/><br/>Para um aplicativo de várias camado, é recomendável que você conecte o servidor de toodatabase em aplicativos da web/trabalhador funções VMs via rede Virtual do Azure. Além disso, o Azure fornece balanceamento de carga para VMs Olá mesmo serviço de nuvem, distribuindo solicitações de usuário entre elas. Máquinas virtuais conectadas dessa forma podem se comunicar diretamente com uma outra rede local de saudação dentro de um data center do Azure.<br/><br/>Você pode configurar **AutoEscala** em Olá portal do Azure, bem como os tempos de agendamento de saudação. Para obter mais informações, consulte [como tooconfigure automaticamente a escala para um serviço de nuvem no portal de saudação](../../../cloud-services/cloud-services-how-to-scale-portal.md). |**Aumentar e diminuir**: você pode aumentar/diminuir tamanho de saudação da instância de saudação (VM) reservada para seu site da web.<br/><br/>Escalar horizontalmente: você pode adicionar mais instâncias reservadas (VMs) para seu site da Web.<br/><br/>Você pode configurar **AutoEscala** no portal hello, bem como os tempos de agendamento de saudação. Para obter mais informações, consulte [como tooScale aplicativos Web](../../../app-service-web/web-sites-scale.md). |

Para obter mais informações sobre como escolher entre esses métodos de programação, consulte [aplicativos Web do Azure, serviços de nuvem e VMs: quando toouse que](../../../app-service-web/choose-web-site-cloud-service-vm.md).

## <a name="next-steps"></a>Próximas etapas
Para obter informações sobre como executar o SQL Server nas Máquinas Virtuais do Azure, confira [Visão geral do SQL Server nas Máquinas Virtuais do Azure](virtual-machines-windows-sql-server-iaas-overview.md).

