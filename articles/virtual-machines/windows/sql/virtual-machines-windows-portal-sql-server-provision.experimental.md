---
title: "Provisionar uma máquina virtual do SQL Server | Microsoft Docs"
description: "Criar e conectar-se a uma máquina virtual do SQL Server no Azure usando o Portal. Este tutorial usa o modo Resource Manager."
services: virtual-machines-windows
documentationcenter: na
author: rothja
editor: 
manager: jhubbard
tags: azure-resource-manager
ms.assetid: 1aff691f-a40a-4de2-b6a0-def1384e086e
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: infrastructure-services
ms.date: 04/03/2017
ms.author: jroth
experimental_id: a641df96-f27d-40
ms.openlocfilehash: c51908058bb785cb33da21de76ba3c956b6b9f1f
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="provision-a-sql-server-virtual-machine-in-the-azure-portal"></a><span data-ttu-id="80640-104">Provisionar uma máquina virtual do SQL Server no Portal do Azure</span><span class="sxs-lookup"><span data-stu-id="80640-104">Provision a SQL Server virtual machine in the Azure Portal</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="80640-105">Portal</span><span class="sxs-lookup"><span data-stu-id="80640-105">Portal</span></span>](virtual-machines-windows-portal-sql-server-provision.md)
> * [<span data-ttu-id="80640-106">PowerShell</span><span class="sxs-lookup"><span data-stu-id="80640-106">PowerShell</span></span>](virtual-machines-windows-ps-sql-create.md)
> 
> 

<span data-ttu-id="80640-107">Este tutorial completo mostra a você como usar o Portal do Azure para provisionar uma máquina virtual com o SQL Server em execução.</span><span class="sxs-lookup"><span data-stu-id="80640-107">This end-to-end tutorial shows you how to use the Azure Portal to provision a virtual machine running SQL Server.</span></span>

<span data-ttu-id="80640-108">A galeria de VMs (máquinas virtuais) do Azure inclui várias imagens que contêm o Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="80640-108">The Azure virtual machine (VM) gallery includes several images that contain Microsoft SQL Server.</span></span> <span data-ttu-id="80640-109">Com alguns cliques, você pode selecionar uma das imagens de VM do SQL da galeria e provisioná-la em seu ambiente do Azure.</span><span class="sxs-lookup"><span data-stu-id="80640-109">With a few clicks, you can select one of the SQL VM images from the gallery and provision it in your Azure environment.</span></span>

<span data-ttu-id="80640-110">Neste tutorial, você irá:</span><span class="sxs-lookup"><span data-stu-id="80640-110">In this tutorial, you will:</span></span>

* [<span data-ttu-id="80640-111">Selecionar uma imagem de VM do SQL na galeria</span><span class="sxs-lookup"><span data-stu-id="80640-111">Select a SQL VM image from the gallery</span></span>](#select-a-sql-vm-image-from-the-gallery)
* [<span data-ttu-id="80640-112">Configurar e criar a VM</span><span class="sxs-lookup"><span data-stu-id="80640-112">Configure and create the VM</span></span>](#configure-the-vm)
* [<span data-ttu-id="80640-113">Abrir a VM usando a Área de Trabalho Remota.</span><span class="sxs-lookup"><span data-stu-id="80640-113">Open the VM with Remote Desktop</span></span>](#open-the-vm-with-remote-desktop)
* [<span data-ttu-id="80640-114">Conectar-se ao SQL Server remotamente</span><span class="sxs-lookup"><span data-stu-id="80640-114">Connect to SQL Server remotely</span></span>](#connect-to-sql-server-remotely)

## <a name="select-a-sql-vm-image-from-the-gallery"></a><span data-ttu-id="80640-115">Selecionar uma imagem de VM do SQL na galeria</span><span class="sxs-lookup"><span data-stu-id="80640-115">Select a SQL VM image from the gallery</span></span>
1. <span data-ttu-id="80640-116">Faça logon no [portal do Azure](https://portal.azure.com) usando sua conta.</span><span class="sxs-lookup"><span data-stu-id="80640-116">Log in to the [Azure portal](https://portal.azure.com) using your account.</span></span>

   > [!NOTE]
   > <span data-ttu-id="80640-117">Se você não tiver uma conta do Azure, visite [Avaliação gratuita do Azure](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="80640-117">If you do not have an Azure account, visit [Azure free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>

2. <span data-ttu-id="80640-118">No portal do Azure, clique em **Novo**.</span><span class="sxs-lookup"><span data-stu-id="80640-118">On the Azure portal, click **New**.</span></span> <span data-ttu-id="80640-119">O portal abre a folha **Novo** .</span><span class="sxs-lookup"><span data-stu-id="80640-119">The portal opens the **New** blade.</span></span> <span data-ttu-id="80640-120">Os recursos de VM do SQL Server estão no grupo **Computação** do Marketplace.</span><span class="sxs-lookup"><span data-stu-id="80640-120">The SQL Server VM resources are in the **Compute** group of the Marketplace.</span></span>
3. <span data-ttu-id="80640-121">Na folha **Novo**, clique em **Computação** e em **Ver tudo**.</span><span class="sxs-lookup"><span data-stu-id="80640-121">In the **New** blade, click **Compute** and then click **See all**.</span></span>
4. <span data-ttu-id="80640-122">Na caixa de texto **Filtro**, digite SQL Server e pressione a tecla ENTER.</span><span class="sxs-lookup"><span data-stu-id="80640-122">In the **Filter** text box type SQL Server, and press the ENTER key.</span></span>

   ![Folha Máquinas Virtuais do Azure](./media/virtual-machines-windows-portal-sql-server-provision/azure-compute-blade2.png)

5. <span data-ttu-id="80640-124">Examine as imagens disponíveis do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="80640-124">Review the available SQL Server images.</span></span> <span data-ttu-id="80640-125">Cada imagem identifica uma versão do SQL Server e um sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="80640-125">Each image identifies a SQL Server version and an operating system.</span></span> 
6. <span data-ttu-id="80640-126">Selecione a imagem para Desenvolvedor do SQL Server 2016 SP1 no Windows Server 2016.</span><span class="sxs-lookup"><span data-stu-id="80640-126">Select the image for SQL Server 2016 SP1 Developer on Windows Server 2016.</span></span>

   > [!TIP]
   > <span data-ttu-id="80640-127">A edição de Desenvolvedor é usada neste tutorial porque é uma edição completa do SQL Server e é gratuita para fins de teste de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="80640-127">The Developer edition is used in this tutorial because it is a full-featured edition of SQL Server that is free for development testing purposes.</span></span> <span data-ttu-id="80640-128">Você paga apenas o custo da execução da VM.</span><span class="sxs-lookup"><span data-stu-id="80640-128">You pay only for the cost of running the VM.</span></span>

   > [!NOTE]
   > <span data-ttu-id="80640-129">As imagens de VM do SQL incluem os custos de licenciamento para o SQL Server no preço por minuto da VM que você cria (exceto para as edições Developer e Express).</span><span class="sxs-lookup"><span data-stu-id="80640-129">SQL VM images include the licensing costs for SQL Server into the per-minute pricing of the VM you create (except for the Developer and Express editions).</span></span> <span data-ttu-id="80640-130">O SQL Server Developer é gratuito para desenvolvimento/teste (não para produção) e o SQL Express é gratuito para cargas de trabalho leves (menores que 1 GB de memória e menores que 10 GB de armazenamento).</span><span class="sxs-lookup"><span data-stu-id="80640-130">SQL Server Developer is free for development/testing (not production) and SQL Express is free for lightweight workloads (less than 1 GB memory, less than 10-GB storage).</span></span>
   > <span data-ttu-id="80640-131">Há outra opção de BYOL (traga sua própria licença) e pagar apenas pela VM.</span><span class="sxs-lookup"><span data-stu-id="80640-131">There is another option to bring-your-own-license (BYOL) and pay only for the VM.</span></span> <span data-ttu-id="80640-132">Os nomes de imagem têm o prefixo {BYOL}.</span><span class="sxs-lookup"><span data-stu-id="80640-132">Those image names are prefixed with {BYOL}.</span></span> <span data-ttu-id="80640-133">Para obter mais informações sobre essas opções, consulte [Diretrizes para os preço das VMs do Azure do SQL Server](virtual-machines-windows-sql-server-pricing-guidance.md).</span><span class="sxs-lookup"><span data-stu-id="80640-133">For more information on these options, see [Pricing guidance for SQL Server Azure VMs](virtual-machines-windows-sql-server-pricing-guidance.md).</span></span>

7. <span data-ttu-id="80640-134">Em **Selecionar um modelo de implantação**, verifique se **Resource Manager** está selecionado.</span><span class="sxs-lookup"><span data-stu-id="80640-134">Under **Select a deployment model**, verify that **Resource Manager** is selected.</span></span> <span data-ttu-id="80640-135">Resource Manager é o modelo de implantação recomendado para novas máquinas virtuais.</span><span class="sxs-lookup"><span data-stu-id="80640-135">Resource Manager is the recommended deployment model for new virtual machines.</span></span> <span data-ttu-id="80640-136">Clique em **Criar**.</span><span class="sxs-lookup"><span data-stu-id="80640-136">Click **Create**.</span></span>

    ![Criar VM do SQL com o Resource Manager](./media/virtual-machines-windows-portal-sql-server-provision/azure-compute-sql-deployment-model.png)

## <a name="configure-the-vm"></a><span data-ttu-id="80640-138">Configurar a VM</span><span class="sxs-lookup"><span data-stu-id="80640-138">Configure the VM</span></span>
<span data-ttu-id="80640-139">Há cinco folhas para configuração de uma máquina virtual do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="80640-139">There are five blades for configuring a SQL Server virtual machine.</span></span>

| <span data-ttu-id="80640-140">Etapa</span><span class="sxs-lookup"><span data-stu-id="80640-140">Step</span></span> | <span data-ttu-id="80640-141">Descrição</span><span class="sxs-lookup"><span data-stu-id="80640-141">Description</span></span> |
| --- | --- |
| <span data-ttu-id="80640-142">**Noções básicas**</span><span class="sxs-lookup"><span data-stu-id="80640-142">**Basics**</span></span> |[<span data-ttu-id="80640-143">Definir as configurações básicas</span><span class="sxs-lookup"><span data-stu-id="80640-143">Configure basic settings</span></span>](#1-configure-basic-settings) |
| <span data-ttu-id="80640-144">**Tamanho**</span><span class="sxs-lookup"><span data-stu-id="80640-144">**Size**</span></span> |[<span data-ttu-id="80640-145">Escolher o tamanho da máquina virtual</span><span class="sxs-lookup"><span data-stu-id="80640-145">Choose virtual machine size</span></span>](#2-choose-virtual-machine-size) |
| <span data-ttu-id="80640-146">**Configurações**</span><span class="sxs-lookup"><span data-stu-id="80640-146">**Settings**</span></span> |[<span data-ttu-id="80640-147">Configurar os recursos opcionais</span><span class="sxs-lookup"><span data-stu-id="80640-147">Configure optional features</span></span>](#3-configure-optional-features) |
| <span data-ttu-id="80640-148">**Configurações do SQL Server**</span><span class="sxs-lookup"><span data-stu-id="80640-148">**SQL Server settings**</span></span> |[<span data-ttu-id="80640-149">Definir as configurações do SQL Server</span><span class="sxs-lookup"><span data-stu-id="80640-149">Configure SQL server settings</span></span>](#4-configure-sql-server-settings) |
| <span data-ttu-id="80640-150">**Resumo**</span><span class="sxs-lookup"><span data-stu-id="80640-150">**Summary**</span></span> |[<span data-ttu-id="80640-151">Examinar o resumo</span><span class="sxs-lookup"><span data-stu-id="80640-151">Review the summary</span></span>](#5-review-the-summary) |

## <a name="1-configure-basic-settings"></a><span data-ttu-id="80640-152">1. Definir as configurações básicas</span><span class="sxs-lookup"><span data-stu-id="80640-152">1. Configure basic settings</span></span>
<span data-ttu-id="80640-153">Na folha **Básico** , forneça as seguintes informações:</span><span class="sxs-lookup"><span data-stu-id="80640-153">On the **Basics** blade, provide the following information:</span></span>

* <span data-ttu-id="80640-154">Digite um **Nome**exclusivo da máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="80640-154">Enter a unique virtual machine **Name**.</span></span>
* <span data-ttu-id="80640-155">Especifique um **Nome de usuário** para a conta do administrador local na VM.</span><span class="sxs-lookup"><span data-stu-id="80640-155">Specify a **User name** for the local administrator account on the VM.</span></span> <span data-ttu-id="80640-156">Essa conta também é adicionada à função de servidor fixa **sysadmin** do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="80640-156">This account is also added to the SQL Server **sysadmin** fixed server role.</span></span>
* <span data-ttu-id="80640-157">Forneça uma **Senha**forte.</span><span class="sxs-lookup"><span data-stu-id="80640-157">Provide a strong **Password**.</span></span>
* <span data-ttu-id="80640-158">Se você tem várias assinaturas, verifique se a assinatura é a correta para a nova VM.</span><span class="sxs-lookup"><span data-stu-id="80640-158">If you have multiple subscriptions, verify that the subscription is correct for the new VM.</span></span>
* <span data-ttu-id="80640-159">Na caixa **Grupo de recursos** , digite um nome para um novo grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="80640-159">In the **Resource group** box, type a name for a new resource group.</span></span> <span data-ttu-id="80640-160">Como alternativa, para usar um grupo de recursos existente, clique em **Usar existente**.</span><span class="sxs-lookup"><span data-stu-id="80640-160">Alternatively, to use an existing resource group click **Use existing**.</span></span> <span data-ttu-id="80640-161">Um grupo de recursos é uma coleção de recursos relacionados no Azure (máquinas virtuais, contas de armazenamento, redes virtuais etc.).</span><span class="sxs-lookup"><span data-stu-id="80640-161">A resource group is a collection of related resources in Azure (virtual machines, storage accounts, virtual networks, etc.).</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="80640-162">O uso de um novo grupo de recursos é útil se você estiver apenas testando ou aprendendo sobre implantações do SQL Server no Azure.</span><span class="sxs-lookup"><span data-stu-id="80640-162">Using a new resource group is helpful if you are just testing or learning about SQL Server deployments in Azure.</span></span> <span data-ttu-id="80640-163">Após concluir o teste, exclua o grupo de recursos para excluir automaticamente a VM e todos os recursos associados a esse grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="80640-163">After you finish with your test, delete the resource group to automatically delete the VM and all resources associated with that resource group.</span></span> <span data-ttu-id="80640-164">Para saber mais sobre os grupos de recursos, confira [Visão geral do Azure Resource Manager](../../../azure-resource-manager/resource-group-overview.md).</span><span class="sxs-lookup"><span data-stu-id="80640-164">For more information about resource groups, see [Azure Resource Manager Overview](../../../azure-resource-manager/resource-group-overview.md).</span></span>
  > 
  > 
* <span data-ttu-id="80640-165">Selecione um **Local** para essa implantação.</span><span class="sxs-lookup"><span data-stu-id="80640-165">Select a **Location** for this deployment.</span></span>
* <span data-ttu-id="80640-166">Clique em **OK** para salvar as configurações.</span><span class="sxs-lookup"><span data-stu-id="80640-166">Click **OK** to save the settings.</span></span>
  
    ![Folha de Noções Básicas do SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-basic.png)

## <a name="2-choose-virtual-machine-size"></a><span data-ttu-id="80640-168">2. Escolher o tamanho da máquina virtual</span><span class="sxs-lookup"><span data-stu-id="80640-168">2. Choose virtual machine size</span></span>
<span data-ttu-id="80640-169">Na etapa **Tamanho**, escolha um tamanho de máquina virtual na folha **Escolher um tamanho**.</span><span class="sxs-lookup"><span data-stu-id="80640-169">On the **Size** step, choose a virtual machine size in the **Choose a size** blade.</span></span> <span data-ttu-id="80640-170">A folha exibe inicialmente o tamanho recomendado da máquina baseado na imagem selecionada.</span><span class="sxs-lookup"><span data-stu-id="80640-170">The blade initially displays recommended machine sizes based on the image you selected.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="80640-171">O custo mensal estimado exibido na folha **Escolher um tamanho** não inclui os custos de licenciamento do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="80640-171">The estimated monthly cost displayed on the **Choose a size** blade does not include SQL Server licensing costs.</span></span> <span data-ttu-id="80640-172">Esse custo mensal estimado é o custo da VM sozinho.</span><span class="sxs-lookup"><span data-stu-id="80640-172">This estimated monthly cost is the cost of the VM alone.</span></span> <span data-ttu-id="80640-173">Para as edições Express e Developer do SQL Server, isso é o custo estimado total.</span><span class="sxs-lookup"><span data-stu-id="80640-173">For the Express and Developer editions of SQL Server, this is the total estimated cost.</span></span> <span data-ttu-id="80640-174">Para outras edições, confira a [Página de preços das Máquinas Virtuais do Windows](https://azure.microsoft.com/pricing/details/virtual-machines/windows/) e selecione a edição de destino do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="80640-174">For other editions, see the [Windows Virtual Machines pricing page](https://azure.microsoft.com/pricing/details/virtual-machines/windows/) and select your target edition of SQL Server.</span></span> <span data-ttu-id="80640-175">Consulte também [Diretrizes para preços para VMs do Azure do SQL Server](virtual-machines-windows-sql-server-pricing-guidance.md).</span><span class="sxs-lookup"><span data-stu-id="80640-175">Also see the [Pricing guidance for SQL Server Azure VMs](virtual-machines-windows-sql-server-pricing-guidance.md).</span></span>

![Opções de tamanho de VM do SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-vm-choose-a-size.png)

<span data-ttu-id="80640-177">Para as cargas de trabalho de produção, recomendamos escolher um tamanho de máquina virtual que dê suporte ao [Armazenamento Premium](../../../storage/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="80640-177">For production workloads, we recommend selecting a virtual machine size that supports [Premium Storage](../../../storage/storage-premium-storage.md).</span></span> <span data-ttu-id="80640-178">Se você não precisar desse nível de desempenho, use o botão **Exibir tudo** , que mostra todas as opções de tamanho da máquina.</span><span class="sxs-lookup"><span data-stu-id="80640-178">If you do not require that level of performance, use the **View all** button, which shows all machine size options.</span></span> <span data-ttu-id="80640-179">Por exemplo, você pode usar um tamanho de máquina menor para um ambiente de teste ou desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="80640-179">For example, you might use a smaller machine size for a development or test environment.</span></span>

> [!NOTE]
> <span data-ttu-id="80640-180">Para obter mais informações sobre tamanhos de máquinas virtuais, consulte [Tamanhos de máquinas virtuais](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="80640-180">For more information about virtual machine sizes, [Sizes for virtual machines](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span> <span data-ttu-id="80640-181">Para ver as considerações sobre os tamanhos de VM do SQL Server, consulte as [Práticas recomendadas de desempenho para o SQL Server nas Máquinas Virtuais do Azure](virtual-machines-windows-sql-performance.md).</span><span class="sxs-lookup"><span data-stu-id="80640-181">For considerations about SQL Server VM sizes, see [Performance best practices for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-performance.md).</span></span>

<span data-ttu-id="80640-182">Escolha o tamanho da máquina e clique em **Selecionar**.</span><span class="sxs-lookup"><span data-stu-id="80640-182">Choose your machine size, and then click **Select**.</span></span>

## <a name="3-configure-optional-features"></a><span data-ttu-id="80640-183">3. Configurar os recursos opcionais</span><span class="sxs-lookup"><span data-stu-id="80640-183">3. Configure optional features</span></span>
<span data-ttu-id="80640-184">Na folha **Configurações** , defina o armazenamento do Azure, a rede e o monitoramento da máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="80640-184">On the **Settings** blade, configure Azure storage, networking, and monitoring for the virtual machine.</span></span>

* <span data-ttu-id="80640-185">Em **Armazenamento**, especifique um **Tipo de disco** Standard ou Premium (SSD).</span><span class="sxs-lookup"><span data-stu-id="80640-185">Under **Storage**, specify a **Disk type** of either Standard or Premium (SSD).</span></span> <span data-ttu-id="80640-186">Armazenamento Premium é recomendado para cargas de trabalho de produção.</span><span class="sxs-lookup"><span data-stu-id="80640-186">Premium storage is recommended for production workloads.</span></span>

> [!NOTE]
> <span data-ttu-id="80640-187">Se você selecionar Premium (SSD) para um tamanho de máquina que não dá suporte a armazenamento Premium, o tamanho da máquina será alterado automaticamente.</span><span class="sxs-lookup"><span data-stu-id="80640-187">If you select Premium (SSD) for a machine size that does not support Premium Storage, your machine size changes automatically.</span></span>  
> 
> 

* <span data-ttu-id="80640-188">Em **Conta de armazenamento**, você pode aceitar o nome da conta de armazenamento provisionado automaticamente.</span><span class="sxs-lookup"><span data-stu-id="80640-188">Under **Storage account**, you can accept the automatically provisioned storage account name.</span></span> <span data-ttu-id="80640-189">Também pode clicar em **Conta de armazenamento** para escolher uma conta existente e configurar o tipo da conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="80640-189">You can also click on **Storage account** to choose an existing account and configure the storage account type.</span></span> <span data-ttu-id="80640-190">Por padrão, o Azure cria uma nova conta de armazenamento com o armazenamento com redundância local.</span><span class="sxs-lookup"><span data-stu-id="80640-190">By default, Azure creates a new storage account with locally redundant storage.</span></span> <span data-ttu-id="80640-191">Para saber mais sobre as opções de armazenamento, consulte [Replicação do Armazenamento do Azure](../../../storage/storage-redundancy.md).</span><span class="sxs-lookup"><span data-stu-id="80640-191">For more information about storage options, see [Azure Storage replication](../../../storage/storage-redundancy.md).</span></span>
* <span data-ttu-id="80640-192">Em **Rede**, você pode aceitar os valores preenchidos automaticamente.</span><span class="sxs-lookup"><span data-stu-id="80640-192">Under **Network**, you can accept the automatically populated values.</span></span> <span data-ttu-id="80640-193">Você também pode clicar em cada recurso para configurar manualmente a **Rede virtual**, **Sub-rede**, **Endereço IP público** e **Grupo de Segurança da Rede**.</span><span class="sxs-lookup"><span data-stu-id="80640-193">You can also click on each feature to manually configure the **Virtual network**, **Subnet**, **Public IP address**, and **Network Security Group**.</span></span> <span data-ttu-id="80640-194">Para a finalidade deste tutorial, mantenha os valores padrão.</span><span class="sxs-lookup"><span data-stu-id="80640-194">For the purposes of this tutorial, keep the default values.</span></span>
* <span data-ttu-id="80640-195">O Azure habilita o **Monitoramento** por padrão com a mesma conta de armazenamento designada para a VM.</span><span class="sxs-lookup"><span data-stu-id="80640-195">Azure enables **Monitoring** by default with the same storage account designated for the VM.</span></span> <span data-ttu-id="80640-196">Você pode alterar essas configurações aqui.</span><span class="sxs-lookup"><span data-stu-id="80640-196">You can change these settings here.</span></span>
* <span data-ttu-id="80640-197">Em **Conjunto de disponibilidades**, especifique um conjunto de disponibilidades.</span><span class="sxs-lookup"><span data-stu-id="80640-197">Under **Availability set**, specify an availability set.</span></span> <span data-ttu-id="80640-198">Para este tutorial, você pode selecionar **nenhum**.</span><span class="sxs-lookup"><span data-stu-id="80640-198">For the purposes of this tutorial, you can select **none**.</span></span> <span data-ttu-id="80640-199">Se você planeja configurar Grupos de Disponibilidade SQL AlwaysOn, configure a disponibilidade para evitar recriar a máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="80640-199">If you plan to set up SQL AlwaysOn Availability Groups, configure the availability to avoid recreating the virtual machine.</span></span>  <span data-ttu-id="80640-200">Para obter mais informações, consulte [Gerenciar a Disponibilidade de Máquinas Virtuais](../manage-availability.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="80640-200">For more information, see [Manage the Availability of Virtual Machines](../manage-availability.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="80640-201">Ao concluir as configurações, clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="80640-201">When you are done configuring these settings, click **OK**.</span></span>

## <a name="4-configure-sql-server-settings"></a><span data-ttu-id="80640-202">4. Definir as configurações do SQL Server</span><span class="sxs-lookup"><span data-stu-id="80640-202">4. Configure SQL server settings</span></span>
<span data-ttu-id="80640-203">Na folha **Configurações do SQL Server** , defina as configurações e otimizações específicas para o SQL Server.</span><span class="sxs-lookup"><span data-stu-id="80640-203">On the **SQL Server settings** blade, configure specific settings and optimizations for SQL Server.</span></span> <span data-ttu-id="80640-204">As configurações possíveis para o SQL Server incluem as seguintes configurações.</span><span class="sxs-lookup"><span data-stu-id="80640-204">The settings that you can configure for SQL Server include the following settings.</span></span>

| <span data-ttu-id="80640-205">Configuração</span><span class="sxs-lookup"><span data-stu-id="80640-205">Setting</span></span> |
| --- |
| [<span data-ttu-id="80640-206">Conectividade</span><span class="sxs-lookup"><span data-stu-id="80640-206">Connectivity</span></span>](#connectivity) |
| [<span data-ttu-id="80640-207">Autenticação</span><span class="sxs-lookup"><span data-stu-id="80640-207">Authentication</span></span>](#authentication) |
| [<span data-ttu-id="80640-208">Configuração de armazenamento</span><span class="sxs-lookup"><span data-stu-id="80640-208">Storage configuration</span></span>](#storage-configuration) |
| [<span data-ttu-id="80640-209">Aplicação de patch automatizada</span><span class="sxs-lookup"><span data-stu-id="80640-209">Automated Patching</span></span>](#automated-patching) |
| [<span data-ttu-id="80640-210">Backup Automatizado</span><span class="sxs-lookup"><span data-stu-id="80640-210">Automated Backup</span></span>](#automated-backup) |
| [<span data-ttu-id="80640-211">Integração do Cofre da Chave do Azure</span><span class="sxs-lookup"><span data-stu-id="80640-211">Azure Key Vault Integration</span></span>](#azure-key-vault-integration) |
| [<span data-ttu-id="80640-212">R Services</span><span class="sxs-lookup"><span data-stu-id="80640-212">R Services</span></span>](#r-services) |

### <a name="connectivity"></a><span data-ttu-id="80640-213">Conectividade</span><span class="sxs-lookup"><span data-stu-id="80640-213">Connectivity</span></span>
<span data-ttu-id="80640-214">Em **Conectividade SQL**, especifique o tipo de acesso desejado para a instância do SQL Server nesta VM.</span><span class="sxs-lookup"><span data-stu-id="80640-214">Under **SQL connectivity**, specify the type of access you want to the SQL Server instance on this VM.</span></span> <span data-ttu-id="80640-215">Para este tutorial, escolha **Pública (Internet)** para permitir conexões com o SQL Server a partir de máquinas ou serviços na Internet.</span><span class="sxs-lookup"><span data-stu-id="80640-215">For the purposes of this tutorial, select **Public (internet)** to allow connections to SQL Server from machines or services on the internet.</span></span> <span data-ttu-id="80640-216">Com essa opção selecionada, o Azure configura automaticamente o firewall e o grupo de segurança de rede para permitir o tráfego na porta 1433.</span><span class="sxs-lookup"><span data-stu-id="80640-216">With this option selected, Azure automatically configures the firewall and the network security group to allow traffic on port 1433.</span></span>  

![Opções de conectividade do SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-connectivity-alt.png)

<span data-ttu-id="80640-218">Para conectar-se ao SQL Server pela Internet, você precisará habilitar a Autenticação do SQL Server, que está descrita na próxima seção.</span><span class="sxs-lookup"><span data-stu-id="80640-218">To connect to SQL Server via the internet, you also must enable SQL Server Authentication, which is described in the next section.</span></span>

> [!NOTE]
> <span data-ttu-id="80640-219">É possível adicionar mais restrições às comunicações de rede com a VM do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="80640-219">It is possible to add more restrictions for the network communications to your SQL Server VM.</span></span> <span data-ttu-id="80640-220">Você pode adicionar mais restrições editando o Grupo de Segurança de Rede após a criação da VM.</span><span class="sxs-lookup"><span data-stu-id="80640-220">You can add more restrictions by editing the Network Security Group after the VM is created.</span></span> <span data-ttu-id="80640-221">Para obter mais informações, consulte [O que é um NSG (Grupo de Segurança de Rede)?](../../../virtual-network/virtual-networks-nsg.md)</span><span class="sxs-lookup"><span data-stu-id="80640-221">For more information, see [What is a Network Security Group (NSG)?](../../../virtual-network/virtual-networks-nsg.md)</span></span>
> 
> 

<span data-ttu-id="80640-222">Se você preferir não permitir conexões com o Mecanismo de Banco de Dados pela internet, escolha uma das seguintes opções:</span><span class="sxs-lookup"><span data-stu-id="80640-222">If you would prefer to not enable connections to the Database Engine via the internet, choose one of the following options:</span></span>

* <span data-ttu-id="80640-223">**Local (apenas dentro da VM)** para permitir conexões com o SQL Server somente de dentro da VM.</span><span class="sxs-lookup"><span data-stu-id="80640-223">**Local (inside VM only)** to allow connections to SQL Server only from within the VM.</span></span>
* <span data-ttu-id="80640-224">**Privada (dentro da Rede Virtual)** para permitir conexões com o SQL Server a partir de computadores ou serviços na mesma rede virtual.</span><span class="sxs-lookup"><span data-stu-id="80640-224">**Private (within Virtual Network)** to allow connections to SQL Server from machines or services in the same virtual network.</span></span>

> [!NOTE]
> <span data-ttu-id="80640-225">A imagem de máquina virtual para o SQL Server Express edition não habilita automaticamente o protocolo TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="80640-225">The virtual machine image for SQL Server Express edition does not automatically enable the TCP/IP protocol.</span></span> <span data-ttu-id="80640-226">Isso é verdadeiro mesmo para as opções de conectividade Pública e Privada.</span><span class="sxs-lookup"><span data-stu-id="80640-226">This is true even for the Public and  Private connectivity options.</span></span> <span data-ttu-id="80640-227">Para o Express Edition, você deve usar o SQL Server Configuration Manager para [habilitar manualmente o protocolo TCP/IP](#configure-sql-server-to-listen-on-the-tcp-protocol) depois de criar a máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="80640-227">For Express edition, you must use SQL Server Configuration Manager to [manually enable the TCP/IP protocol](#configure-sql-server-to-listen-on-the-tcp-protocol) after creating the VM.</span></span>
> 
> 

<span data-ttu-id="80640-228">Em geral, melhore a segurança escolhendo a conectividade mais restritiva que seu cenário permite.</span><span class="sxs-lookup"><span data-stu-id="80640-228">In general, improve security by choosing the most restrictive connectivity that your scenario allows.</span></span> <span data-ttu-id="80640-229">No entanto, todas as opções são protegidas por meio de regras do Grupo de Segurança de Rede e por meio da Autenticação do SQL/Windows.</span><span class="sxs-lookup"><span data-stu-id="80640-229">But all the options are securable through Network Security Group rules and SQL/Windows Authentication.</span></span>

<span data-ttu-id="80640-230">**Portaa** usada por padrão é 1433.</span><span class="sxs-lookup"><span data-stu-id="80640-230">**Port** defaults to 1433.</span></span> <span data-ttu-id="80640-231">Você pode especificar um número de porta diferente.</span><span class="sxs-lookup"><span data-stu-id="80640-231">You can specify a different port number.</span></span>
<span data-ttu-id="80640-232">Para saber mais, consulte [Conectar uma Máquina Virtual do SQL Server (Gerenciador de Recursos) | Microsoft Azure](virtual-machines-windows-sql-connect.md).</span><span class="sxs-lookup"><span data-stu-id="80640-232">For more information, see [Connect to a SQL Server Virtual Machine (Resource Manager) | Microsoft Azure](virtual-machines-windows-sql-connect.md).</span></span>

### <a name="authentication"></a><span data-ttu-id="80640-233">Autenticação</span><span class="sxs-lookup"><span data-stu-id="80640-233">Authentication</span></span>
<span data-ttu-id="80640-234">Se você precisar da Autenticação do SQL Server, clique em **Habilitar** under **Autenticação do SQL**.</span><span class="sxs-lookup"><span data-stu-id="80640-234">If you require SQL Server Authentication, click **Enable** under **SQL authentication**.</span></span>

![Autenticação do SQL Server](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-authentication.png)

> [!NOTE]
> <span data-ttu-id="80640-236">Se você pretende acessar o SQL Server pela Internet (ou seja, a opção de conectividade Pública), habilite a autenticação do SQL aqui.</span><span class="sxs-lookup"><span data-stu-id="80640-236">If you plan to access SQL Server over the internet (that is, the Public connectivity option), you must enable SQL authentication here.</span></span> <span data-ttu-id="80640-237">O acesso público ao SQL Server exige o uso da Autenticação do SQL.</span><span class="sxs-lookup"><span data-stu-id="80640-237">Public access to the SQL Server requires the use of SQL Authentication.</span></span>
> 
> 

<span data-ttu-id="80640-238">Se você habilitar a Autenticação do SQL Server, especifique um **Nome de logon** e **Senha**.</span><span class="sxs-lookup"><span data-stu-id="80640-238">If you enable SQL Server Authentication, specify a **Login name** and **Password**.</span></span> <span data-ttu-id="80640-239">Esse nome de usuário é configurado como um logon de Autenticação do SQL Server e membro da função de servidor fixa **sysadmin** .</span><span class="sxs-lookup"><span data-stu-id="80640-239">This user name is configured as a SQL Server Authentication login and member of the **sysadmin** fixed server role.</span></span> <span data-ttu-id="80640-240">Para saber mais sobre os Modos de autenticação, consulte [Escolher um modo de autenticação](http://msdn.microsoft.com/library/ms144284.aspx).</span><span class="sxs-lookup"><span data-stu-id="80640-240">For more information about Authentication Modes, see [Choose an Authentication Mode](http://msdn.microsoft.com/library/ms144284.aspx).</span></span>

<span data-ttu-id="80640-241">Se você não habilitar a Autenticação do SQL Server, poderá usar a conta local de Administrador na VM para se conectar à instância do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="80640-241">If you do not enable SQL Server Authentication, then you can use the local Administrator account on the VM to connect to the SQL Server instance.</span></span>

### <a name="storage-configuration"></a><span data-ttu-id="80640-242">Configuração de armazenamento</span><span class="sxs-lookup"><span data-stu-id="80640-242">Storage configuration</span></span>
<span data-ttu-id="80640-243">Clique em **Configuração de armazenamento** para especificar os requisitos de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="80640-243">Click **Storage configuration** to specify the storage requirements.</span></span>

![Configuração do armazenamento do SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-storage.png)

> [!NOTE]
> <span data-ttu-id="80640-245">Se você selecionar o armazenamento Standard, essa opção não estará disponível.</span><span class="sxs-lookup"><span data-stu-id="80640-245">If you select Standard storage, this option is not available.</span></span> <span data-ttu-id="80640-246">A otimização de armazenamento automático está disponível apenas para o Armazenamento Premium.</span><span class="sxs-lookup"><span data-stu-id="80640-246">Automatic storage optimization is available only for Premium Storage.</span></span>
> 
> 

<span data-ttu-id="80640-247">Você pode especificar os requisitos como operações IOPs (entrada/saída por segundo), taxa de transferência em MB/s e tamanho total de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="80640-247">You can specify requirements as input/output operations per second (IOPs), throughput in MB/s, and total storage size.</span></span> <span data-ttu-id="80640-248">Configure esses valores usando as escalas deslizantes.</span><span class="sxs-lookup"><span data-stu-id="80640-248">Configure these values by using the sliding scales.</span></span> <span data-ttu-id="80640-249">O portal calcula automaticamente o número de discos com base nesses requisitos.</span><span class="sxs-lookup"><span data-stu-id="80640-249">The portal automatically calculates the number of disks based on these requirements.</span></span>

<span data-ttu-id="80640-250">Por padrão, o Azure otimiza o armazenamento para 5000 IOPs, 200 MB e 1 TB de espaço de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="80640-250">By default, Azure optimizes the storage for 5000 IOPs, 200 MBs, and 1 TB of storage space.</span></span> <span data-ttu-id="80640-251">Você pode alterar essas configurações de armazenamento com base na carga de trabalho.</span><span class="sxs-lookup"><span data-stu-id="80640-251">You can change these storage settings based on workload.</span></span> <span data-ttu-id="80640-252">Em **Armazenamento otimizado para**, escolha uma das seguintes opções:</span><span class="sxs-lookup"><span data-stu-id="80640-252">Under **Storage optimized for**, select one of the following options:</span></span>

* <span data-ttu-id="80640-253">**Geral** é a configuração padrão e dá suporte à maioria das cargas de trabalho.</span><span class="sxs-lookup"><span data-stu-id="80640-253">**General** is the default setting and supports most workloads.</span></span>
* <span data-ttu-id="80640-254">**transacional** otimiza o armazenamento para cargas de trabalho OLTP tradicionais do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="80640-254">**Transactional** processing optimizes the storage for traditional database OLTP workloads.</span></span>
* <span data-ttu-id="80640-255">**Data warehouse** otimiza o armazenamento para as cargas de trabalho de análise e emissão de relatórios.</span><span class="sxs-lookup"><span data-stu-id="80640-255">**Data warehousing** optimizes the storage for analytic and reporting workloads.</span></span>

> [!NOTE]
> <span data-ttu-id="80640-256">Os limites superiores nos controles deslizantes variam dependendo do tamanho selecionado para a máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="80640-256">The upper limits on the sliders vary depending on your selected virtual machine size.</span></span>
> 
> 

### <a name="automated-patching"></a><span data-ttu-id="80640-257">Aplicação de patch automatizada</span><span class="sxs-lookup"><span data-stu-id="80640-257">Automated patching</span></span>
<span data-ttu-id="80640-258">**Automated patching** está habilitada por padrão.</span><span class="sxs-lookup"><span data-stu-id="80640-258">**Automated patching** is enabled by default.</span></span> <span data-ttu-id="80640-259">A aplicação de patch automatizada permite que o Azure aplique patches automaticamente no SQL Server e no sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="80640-259">Automated patching allows Azure to automatically patch SQL Server and the operating system.</span></span> <span data-ttu-id="80640-260">Especifique um dia da semana, hora e duração de um período de manutenção.</span><span class="sxs-lookup"><span data-stu-id="80640-260">Specify a day of the week, time, and duration for a maintenance window.</span></span> <span data-ttu-id="80640-261">O Azure realiza a aplicação de patch na janela de manutenção.</span><span class="sxs-lookup"><span data-stu-id="80640-261">Azure performs patching in this maintenance window.</span></span> <span data-ttu-id="80640-262">O agendamento do período de manutenção usa a localidade da VM para a hora.</span><span class="sxs-lookup"><span data-stu-id="80640-262">The maintenance window schedule uses the VM locale for time.</span></span> <span data-ttu-id="80640-263">Se você não quiser que o Azure aplique automaticamente o patch no SQL Server e no sistema operacional, clique em **Desabilitar**.</span><span class="sxs-lookup"><span data-stu-id="80640-263">If you do not want Azure to automatically patch SQL Server and the operating system, click **Disable**.</span></span>  

![Aplicação de patch automatizada do SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-patching.png)

<span data-ttu-id="80640-265">Para saber mais, consulte [Aplicação de Patch Automatizada para SQL Server nas Máquinas Virtuais do Azure](virtual-machines-windows-sql-automated-patching.md).</span><span class="sxs-lookup"><span data-stu-id="80640-265">For more information, see [Automated Patching for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-patching.md).</span></span>

### <a name="automated-backup"></a><span data-ttu-id="80640-266">Backup Automatizado</span><span class="sxs-lookup"><span data-stu-id="80640-266">Automated backup</span></span>
<span data-ttu-id="80640-267">Habilite backups automáticos do banco de dados para todos os bancos de dados em **Backup automatizado**.</span><span class="sxs-lookup"><span data-stu-id="80640-267">Enable automatic database backups for all databases under **Automated backup**.</span></span> <span data-ttu-id="80640-268">O backup automatizado está desabilitado por padrão.</span><span class="sxs-lookup"><span data-stu-id="80640-268">Automated backup is disabled by default.</span></span>

<span data-ttu-id="80640-269">Ao habilitar o backup automatizado do SQL, é possível definir as seguintes configurações:</span><span class="sxs-lookup"><span data-stu-id="80640-269">When you enable SQL automated backup, you can configure the following settings:</span></span>

* <span data-ttu-id="80640-270">Período de retenção (dias) para backups</span><span class="sxs-lookup"><span data-stu-id="80640-270">Retention period (days) for backups</span></span>
* <span data-ttu-id="80640-271">Conta de armazenamento a ser usada para backups</span><span class="sxs-lookup"><span data-stu-id="80640-271">Storage account to use for backups</span></span>
* <span data-ttu-id="80640-272">Opção de criptografia e senha para backups</span><span class="sxs-lookup"><span data-stu-id="80640-272">Encryption option and password for backups</span></span>
* <span data-ttu-id="80640-273">Bancos de dados do sistema de backup</span><span class="sxs-lookup"><span data-stu-id="80640-273">Backup system databases</span></span>
* <span data-ttu-id="80640-274">Configurar agendamento de backup</span><span class="sxs-lookup"><span data-stu-id="80640-274">Configure backup schedule</span></span>

<span data-ttu-id="80640-275">Para criptografar o backup, clique em **Habilitar**.</span><span class="sxs-lookup"><span data-stu-id="80640-275">To encrypt the backup, click **Enable**.</span></span> <span data-ttu-id="80640-276">Em seguida, especifique a **Senha**.</span><span class="sxs-lookup"><span data-stu-id="80640-276">Then specify the **Password**.</span></span> <span data-ttu-id="80640-277">O Azure cria um certificado para criptografar os backups e usa a senha especificada para proteger esse certificado.</span><span class="sxs-lookup"><span data-stu-id="80640-277">Azure creates a certificate to encrypt the backups and uses the specified password to protect that certificate.</span></span>

![Backup Automatizado do SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-autobackup2.png)

 <span data-ttu-id="80640-279">Para obter mais informações, veja [Backup Automatizado para o SQL Server em Máquinas Virtuais do Azure](virtual-machines-windows-sql-automated-backup.md).</span><span class="sxs-lookup"><span data-stu-id="80640-279">For more information, see [Automated Backup for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-backup.md).</span></span>

### <a name="azure-key-vault-integration"></a><span data-ttu-id="80640-280">Integração do Cofre da Chave do Azure</span><span class="sxs-lookup"><span data-stu-id="80640-280">Azure Key Vault integration</span></span>
<span data-ttu-id="80640-281">Para armazenar os segredos de segurança no Azure para a criptografia, clique em **Integração do cofre de chaves do Azure** e clique em **Habilitar**.</span><span class="sxs-lookup"><span data-stu-id="80640-281">To store security secrets in Azure for encryption, click **Azure key vault integration** and click **Enable**.</span></span>

![Integração do Cofre da Chave do SQL Azure](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-akv.png)

<span data-ttu-id="80640-283">A tabela a seguir lista os parâmetros necessários para configurar a integração do Cofre da Chave do Azure.</span><span class="sxs-lookup"><span data-stu-id="80640-283">The following table lists the parameters required to configure Azure Key Vault Integration.</span></span>

| <span data-ttu-id="80640-284">PARÂMETRO</span><span class="sxs-lookup"><span data-stu-id="80640-284">PARAMETER</span></span> | <span data-ttu-id="80640-285">Descrição</span><span class="sxs-lookup"><span data-stu-id="80640-285">DESCRIPTION</span></span> | <span data-ttu-id="80640-286">EXEMPLO</span><span class="sxs-lookup"><span data-stu-id="80640-286">EXAMPLE</span></span> |
| --- | --- | --- |
| <span data-ttu-id="80640-287">**URL do cofre da chave**</span><span class="sxs-lookup"><span data-stu-id="80640-287">**Key Vault URL**</span></span> |<span data-ttu-id="80640-288">O local do cofre da chave.</span><span class="sxs-lookup"><span data-stu-id="80640-288">The location of the key vault.</span></span> |<span data-ttu-id="80640-289">https://contosokeyvault.vault.azure.net/</span><span class="sxs-lookup"><span data-stu-id="80640-289">https://contosokeyvault.vault.azure.net/</span></span> |
| <span data-ttu-id="80640-290">**Nome de entidade**</span><span class="sxs-lookup"><span data-stu-id="80640-290">**Principal name**</span></span> |<span data-ttu-id="80640-291">Nome de entidade de serviço do Active Directory do Azure</span><span class="sxs-lookup"><span data-stu-id="80640-291">Azure Active Directory service principal name.</span></span> <span data-ttu-id="80640-292">Ele também é chamado de ID do Cliente.</span><span class="sxs-lookup"><span data-stu-id="80640-292">This name is also referred to as the Client ID.</span></span> |<span data-ttu-id="80640-293">fde2b411-33d5-4e11-af04eb07b669ccf2</span><span class="sxs-lookup"><span data-stu-id="80640-293">fde2b411-33d5-4e11-af04eb07b669ccf2</span></span> |
| <span data-ttu-id="80640-294">**Segredo da entidade**</span><span class="sxs-lookup"><span data-stu-id="80640-294">**Principal secret**</span></span> |<span data-ttu-id="80640-295">Segredo da entidade de serviço do Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="80640-295">Azure Active Directory service principal secret.</span></span> <span data-ttu-id="80640-296">O segredo também é chamado de Segredo do Cliente.</span><span class="sxs-lookup"><span data-stu-id="80640-296">This secret is also referred to as the Client Secret.</span></span> |<span data-ttu-id="80640-297">9VTJSQwzlFepD8XODnzy8n2V01Jd8dAjwm/azF1XDKM=</span><span class="sxs-lookup"><span data-stu-id="80640-297">9VTJSQwzlFepD8XODnzy8n2V01Jd8dAjwm/azF1XDKM=</span></span> |
| <span data-ttu-id="80640-298">**Nome da credencial**</span><span class="sxs-lookup"><span data-stu-id="80640-298">**Credential name**</span></span> |<span data-ttu-id="80640-299">**Nome da credencial**: a integração AKV cria uma credencial no SQL Server, permitindo que a VM tenha acesso ao cofre da chave.</span><span class="sxs-lookup"><span data-stu-id="80640-299">**Credential name**: AKV Integration creates a credential within SQL Server, allowing the VM to have access to the key vault.</span></span> <span data-ttu-id="80640-300">Escolha um nome para essa credencial.</span><span class="sxs-lookup"><span data-stu-id="80640-300">Choose a name for this credential.</span></span> |<span data-ttu-id="80640-301">mycred1</span><span class="sxs-lookup"><span data-stu-id="80640-301">mycred1</span></span> |

<span data-ttu-id="80640-302">Para saber mais, consulte [Configurar a Integração do Cofre de Chaves do Azure para o SQL nas VMs do Azure](virtual-machines-windows-ps-sql-keyvault.md).</span><span class="sxs-lookup"><span data-stu-id="80640-302">For more information, see [Configure Azure Key Vault Integration for SQL Server on Azure VMs](virtual-machines-windows-ps-sql-keyvault.md).</span></span>

<span data-ttu-id="80640-303">Ao concluir as configurações do SQL Server, clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="80640-303">When you are finished configuring SQL Server settings, click **OK**.</span></span>

### <a name="r-services"></a><span data-ttu-id="80640-304">R Services</span><span class="sxs-lookup"><span data-stu-id="80640-304">R services</span></span>
<span data-ttu-id="80640-305">Você pode habilitar os [serviços de R do SQL Server](https://msdn.microsoft.com/library/mt604845.aspx).</span><span class="sxs-lookup"><span data-stu-id="80640-305">You can enable [SQL Server R Services](https://msdn.microsoft.com/library/mt604845.aspx).</span></span> <span data-ttu-id="80640-306">Os serviços de R do SQL Server permitem que você use análises avançadas com o SQL Server 2016.</span><span class="sxs-lookup"><span data-stu-id="80640-306">SQL Server R Services enables you to use advanced analytics with SQL Server 2016.</span></span> <span data-ttu-id="80640-307">Clique em **Habilitar** on the **SQL Server Settings** .</span><span class="sxs-lookup"><span data-stu-id="80640-307">Click **Enable** on the **SQL Server Settings** blade.</span></span>

![Habilitar os serviços de R do SQL Server](./media/virtual-machines-windows-portal-sql-server-provision/azure-vm-sql-server-r-services.png)


## <a name="5-review-the-summary"></a><span data-ttu-id="80640-309">5. Examinar o resumo</span><span class="sxs-lookup"><span data-stu-id="80640-309">5. Review the summary</span></span>
<span data-ttu-id="80640-310">Na folha **Resumo**, examine o resumo e clique em **OK** para criar o SQL Server, grupo de recursos e recursos especificados para essa VM.</span><span class="sxs-lookup"><span data-stu-id="80640-310">On the **Summary** blade, review the summary and click **OK** to create SQL Server, resource group, and resources specified for this VM.</span></span>

<span data-ttu-id="80640-311">Você pode monitorar a implantação do Portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="80640-311">You can monitor the deployment from the azure portal.</span></span> <span data-ttu-id="80640-312">O botão **Notificações** na parte superior da tela mostra o status básico da implantação.</span><span class="sxs-lookup"><span data-stu-id="80640-312">The **Notifications** button at the top of the screen shows basic status of the deployment.</span></span>

> [!NOTE]
> <span data-ttu-id="80640-313">Para você ter uma ideia sobre os tempos de implantação, eu implantei uma VM do SQL na região Leste dos EUA com as configurações padrão.</span><span class="sxs-lookup"><span data-stu-id="80640-313">To provide you with an idea on deployment times, I deployed a SQL VM to the East US region with default settings.</span></span> <span data-ttu-id="80640-314">Essa implantação de teste levou um total de 26 minutos para ser concluída.</span><span class="sxs-lookup"><span data-stu-id="80640-314">This test deployment took a total of 26 minutes to complete.</span></span> <span data-ttu-id="80640-315">Mas sua implantação pode ser rápida ou mais lenta de acordo com sua região e com as configurações selecionadas.</span><span class="sxs-lookup"><span data-stu-id="80640-315">But you might experience a faster or slower deployment time based on your region and selected settings.</span></span>
> 
> 

## <a name="open-the-vm-with-remote-desktop"></a><span data-ttu-id="80640-316">Abrir a VM usando a Área de Trabalho Remota.</span><span class="sxs-lookup"><span data-stu-id="80640-316">Open the VM with Remote Desktop</span></span>
<span data-ttu-id="80640-317">Use as etapas a seguir para se conectar à máquina virtual com a Área de Trabalho Remota.</span><span class="sxs-lookup"><span data-stu-id="80640-317">Use the following steps to connect to the virtual machine with Remote Desktop:</span></span>

1. <span data-ttu-id="80640-318">Após a compilação da VM do Azure, um ícone para a VM será exibido no painel do Azure.</span><span class="sxs-lookup"><span data-stu-id="80640-318">After the Azure VM is built, the icon for the VM appears on your Azure dashboard.</span></span> <span data-ttu-id="80640-319">Você também pode encontrá-lo navegando por suas máquinas virtuais existentes.</span><span class="sxs-lookup"><span data-stu-id="80640-319">You can also find it by browsing your existing virtual machines.</span></span> <span data-ttu-id="80640-320">Clique na nova máquina virtual do SQL.</span><span class="sxs-lookup"><span data-stu-id="80640-320">Click on your new SQL virtual machine.</span></span> <span data-ttu-id="80640-321">Uma folha da **Máquina virtual** exibe os detalhes de sua máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="80640-321">A **Virtual machine** blade displays your virtual machine details.</span></span>
2. <span data-ttu-id="80640-322">Na parte superior da folha **Máquina virtual**, clique em **Conectar**.</span><span class="sxs-lookup"><span data-stu-id="80640-322">At the top of the **Virtual machine** blade, click **Connect**.</span></span>
3. <span data-ttu-id="80640-323">O navegador baixa um arquivo RDP para a VM.</span><span class="sxs-lookup"><span data-stu-id="80640-323">The browser downloads an RDP file for the VM.</span></span> <span data-ttu-id="80640-324">Abra o arquivo RDP.</span><span class="sxs-lookup"><span data-stu-id="80640-324">Open the RDP file.</span></span>
    <span data-ttu-id="80640-325">![Área de trabalho remota para VM do SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-vm-remote-desktop.png)</span><span class="sxs-lookup"><span data-stu-id="80640-325">![Remote Desktop to SQL VM](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-vm-remote-desktop.png)</span></span>
4. <span data-ttu-id="80640-326">A Conexão de área de trabalho remota avisa você de que o distribuidor dessa conexão remota não pode ser identificado.</span><span class="sxs-lookup"><span data-stu-id="80640-326">The Remote Desktop Connection notifies you that the publisher of this remote connection cannot be identified.</span></span> <span data-ttu-id="80640-327">Clique em **Conectar** para continuar.</span><span class="sxs-lookup"><span data-stu-id="80640-327">Click **Connect** to continue.</span></span>
5. <span data-ttu-id="80640-328">Na caixa de diálogo **Segurança do Windows**, clique em **Usar outra conta**.</span><span class="sxs-lookup"><span data-stu-id="80640-328">In the **Windows Security** dialog, click **Use another account**.</span></span>
6. <span data-ttu-id="80640-329">Em **Nome de usuário**, digite **\<nome usuário>**, onde <user name> é o nome de usuário especificado por você durante a configuração da VM.</span><span class="sxs-lookup"><span data-stu-id="80640-329">For **User name** type **\<user name>**, where <user name> is the user name that you specified when you configured the VM.</span></span> <span data-ttu-id="80640-330">Você precisa adicionar uma barra invertida inicial antes do nome.</span><span class="sxs-lookup"><span data-stu-id="80640-330">You have to add an initial backslash before the name.</span></span>
7. <span data-ttu-id="80640-331">Digite a **Senha** que você configurou anteriormente para essa VM e clique em **OK** para conectar.</span><span class="sxs-lookup"><span data-stu-id="80640-331">Type the **Password** that you previously configured for this VM, and then click **OK** to connect.</span></span>
8. <span data-ttu-id="80640-332">Se outra caixa de diálogo **Conexão da Área de Trabalho Remota** perguntar se você deseja conectar, clique em **Sim**.</span><span class="sxs-lookup"><span data-stu-id="80640-332">If another **Remote Desktop Connection** dialog asks you whether to connect, click **Yes**.</span></span>

<span data-ttu-id="80640-333">Depois de se conectar à máquina virtual do SQL Server, você pode iniciar o SQL Server Management Studio e conectar-se à Autenticação do Windows usando suas credenciais de administrador local.</span><span class="sxs-lookup"><span data-stu-id="80640-333">After you connect to the SQL Server virtual machine, you can launch SQL Server Management Studio and connect with Windows Authentication using your local administrator credentials.</span></span> <span data-ttu-id="80640-334">Se você habilitou a Autenticação do SQL Server, também será possível se conectar com a Autenticação do SQL usando o logon e a senha do SQL configurados durante o provisionamento.</span><span class="sxs-lookup"><span data-stu-id="80640-334">If you enabled SQL Server Authentication, you can also connect with SQL Authentication using the SQL login and password you configured during provisioning.</span></span>

<span data-ttu-id="80640-335">O acesso à máquina permite que você altere diretamente as configurações da máquina e do SQL Server com base em suas necessidades.</span><span class="sxs-lookup"><span data-stu-id="80640-335">Access to the machine enables you to directly change machine and SQL Server settings based on your requirements.</span></span> <span data-ttu-id="80640-336">Por exemplo, você pode definir as configurações do firewall ou alterar as configuração do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="80640-336">For example, you could configure the firewall settings or change SQL Server configuration settings.</span></span>

## <a name="connect-to-sql-server-remotely"></a><span data-ttu-id="80640-337">Conectar-se ao SQL Server remotamente</span><span class="sxs-lookup"><span data-stu-id="80640-337">Connect to SQL Server remotely</span></span>
<span data-ttu-id="80640-338">Neste tutorial, selecionamos o acesso **Público** para a máquina virtual e a **Autenticação do SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="80640-338">In this tutorial, we selected **Public** access for the virtual machine and **SQL Server Authentication**.</span></span> <span data-ttu-id="80640-339">Essas configurações definiram automaticamente a máquina virtual para permitir conexões do SQL Server de qualquer cliente pela internet (supondo que o logon do SQL esteja correto).</span><span class="sxs-lookup"><span data-stu-id="80640-339">These settings automatically configured the virtual machine to allow SQL Server connections from any client over the internet (assuming they have the correct SQL login).</span></span>

> [!NOTE]
> <span data-ttu-id="80640-340">Se você não selecionou a opção Público durante o provisionamento, será necessário executar etapas adicionais para acessar a instância do SQL Server pela Internet.</span><span class="sxs-lookup"><span data-stu-id="80640-340">If you did not select Public during provisioning, then extra steps are required to access your SQL Server instance over the internet.</span></span> <span data-ttu-id="80640-341">Para saber mais, confira [Conectar uma Máquina Virtual do SQL Server](virtual-machines-windows-sql-connect.md).</span><span class="sxs-lookup"><span data-stu-id="80640-341">For more information, see  [Connect to a SQL Server Virtual Machine](virtual-machines-windows-sql-connect.md).</span></span>
> 
> 

<span data-ttu-id="80640-342">As seções a seguir mostram como se conectar à instância do SQL Server em sua VM de um computador diferente pela internet.</span><span class="sxs-lookup"><span data-stu-id="80640-342">The following sections show how to connect to your SQL Server instance on your VM from a different computer over the internet.</span></span>

> [!INCLUDE [Connect to SQL Server in a VM Resource Manager](../../../../includes/virtual-machines-sql-server-connection-steps-resource-manager.md)]
> 
> 

## <a name="next-steps"></a><span data-ttu-id="80640-343">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="80640-343">Next Steps</span></span>
<span data-ttu-id="80640-344">Para saber mais sobre como usar o SQL Server no Azure, consulte [SQL Server nas Máquinas Virtuais do Azure](virtual-machines-windows-sql-server-iaas-overview.md) e as [Perguntas Frequentes](virtual-machines-windows-sql-server-iaas-faq.md).</span><span class="sxs-lookup"><span data-stu-id="80640-344">For other information about using SQL Server in Azure, see [SQL Server on Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) and the [Frequently Asked Questions](virtual-machines-windows-sql-server-iaas-faq.md).</span></span>

<span data-ttu-id="80640-345">Para obter uma visão geral em vídeo do SQL Server em máquinas virtuais do Azure, assista ao vídeo [Azure VM is the best platform for SQL Server 2016 (A VM do Azure é a melhor plataforma para o SQL Server 2016)](https://channel9.msdn.com/Events/DataDriven/SQLServer2016/Azure-VM-is-the-best-platform-for-SQL-Server-2016).</span><span class="sxs-lookup"><span data-stu-id="80640-345">For a video overview of SQL Server on Azure Virtual Machines, watch [Azure VM is the best platform for SQL Server 2016](https://channel9.msdn.com/Events/DataDriven/SQLServer2016/Azure-VM-is-the-best-platform-for-SQL-Server-2016).</span></span>

<span data-ttu-id="80640-346">[Explorar o Roteiro de Aprendizagem](https://azure.microsoft.com/documentation/learning-paths/sql-azure-vm/) do SQL Server nas máquinas virtuais do Azure.</span><span class="sxs-lookup"><span data-stu-id="80640-346">[Explore the Learning Path](https://azure.microsoft.com/documentation/learning-paths/sql-azure-vm/) for SQL Server on Azure virtual machines.</span></span>

