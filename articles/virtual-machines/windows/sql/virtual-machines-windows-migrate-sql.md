---
title: "aaaMigrate um tooSQL de banco de dados de servidor SQL Server em uma máquina virtual | Microsoft Docs"
description: "Saiba mais sobre como toomigrate um usuário local do banco de dados tooSQL Server em uma máquina virtual do Azure."
services: virtual-machines-windows
documentationcenter: 
author: sabotta
manager: jhubbard
editor: 
tags: azure-service-management
ms.assetid: 00fd08c6-98fa-4d62-a3b8-ca20aa5246b1
ms.service: virtual-machines-sql
ms.workload: iaas-sql-server
ms.tgt_pltfrm: vm-windows-sql-server
ms.devlang: na
ms.topic: article
ms.date: 07/17/2017
ms.author: carlasab
ms.openlocfilehash: 9c7aba30304ea40796412d2ddc885f6d4a58be2a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="migrate-a-sql-server-database-toosql-server-in-an-azure-vm"></a><span data-ttu-id="4b3ac-103">Migrar um banco de dados de SQL Server tooSQL Server em uma VM do Azure</span><span class="sxs-lookup"><span data-stu-id="4b3ac-103">Migrate a SQL Server database tooSQL Server in an Azure VM</span></span>

<span data-ttu-id="4b3ac-104">Há um número de métodos toomigrate um tooSQL de banco de dados de usuário local do SQL Server Server em uma VM do Azure.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-104">There are a number of methods toomigrate an on-premises SQL Server user database tooSQL Server in an Azure VM.</span></span> <span data-ttu-id="4b3ac-105">Este artigo brevemente discutem vários métodos e recomenda o melhor método para vários cenários de saudação.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-105">This article will briefly discuss various methods and recommend hello best method for various scenarios.</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="what-are-hello-primary-migration-methods"></a><span data-ttu-id="4b3ac-106">Quais são os métodos de migração primário Olá?</span><span class="sxs-lookup"><span data-stu-id="4b3ac-106">What are hello primary migration methods?</span></span>
<span data-ttu-id="4b3ac-107">Olá migração principais métodos são:</span><span class="sxs-lookup"><span data-stu-id="4b3ac-107">hello primary migration methods are:</span></span>

* <span data-ttu-id="4b3ac-108">Executar backup local usando a compactação e manualmente copiar arquivo de backup de saudação em Olá máquina virtual do Azure</span><span class="sxs-lookup"><span data-stu-id="4b3ac-108">Perform on-premises backup using compression and manually copy hello backup file into hello Azure virtual machine</span></span>
* <span data-ttu-id="4b3ac-109">Executar um tooURL backup e restaurar para Olá máquina virtual do Azure da URL de saudação</span><span class="sxs-lookup"><span data-stu-id="4b3ac-109">Perform a backup tooURL and restore into hello Azure virtual machine from hello URL</span></span>
* <span data-ttu-id="4b3ac-110">Desanexar e copie Olá dados e log arquivos tooAzure armazenamento de blob e, em seguida, anexar tooSQL Server na VM do Azure de URL</span><span class="sxs-lookup"><span data-stu-id="4b3ac-110">Detach and then copy hello data and log files tooAzure blob storage and then attach tooSQL Server in Azure VM from URL</span></span>
* <span data-ttu-id="4b3ac-111">Converter em locais físicos tooHyper V VHD da máquina, carregue o armazenamento de Blob tooAzure e, em seguida, implantar como nova VM usando carregar o VHD</span><span class="sxs-lookup"><span data-stu-id="4b3ac-111">Convert on-premises physical machine tooHyper-V VHD, upload tooAzure Blob storage, and then deploy as new VM using uploaded VHD</span></span>
* <span data-ttu-id="4b3ac-112">Remeter o disco rígido usando o Serviço de Importação/Exportação do Windows</span><span class="sxs-lookup"><span data-stu-id="4b3ac-112">Ship hard drive using Windows Import/Export Service</span></span>
* <span data-ttu-id="4b3ac-113">Se você tiver uma implantação de AlwaysOn no local, use Olá [assistente Adicionar réplica do Azure](../classic/sql-onprem-availability.md) toocreate uma réplica no Azure e, em seguida, o failover, apontando a instância de banco de dados do Azure toohello usuários</span><span class="sxs-lookup"><span data-stu-id="4b3ac-113">If you have an AlwaysOn deployment on-premises, use hello [Add Azure Replica Wizard](../classic/sql-onprem-availability.md) toocreate a replica in Azure and then failover, pointing users toohello Azure database instance</span></span>
* <span data-ttu-id="4b3ac-114">Use o SQL Server [replicação transacional](https://msdn.microsoft.com/library/ms151176.aspx) tooconfigure hello Azure SQL Server como um assinante da instância e, em seguida, desabilite a replicação, apontando a instância de banco de dados do Azure toohello usuários</span><span class="sxs-lookup"><span data-stu-id="4b3ac-114">Use SQL Server [transactional replication](https://msdn.microsoft.com/library/ms151176.aspx) tooconfigure hello Azure SQL Server instance as a subscriber and then disable replication, pointing users toohello Azure database instance</span></span>

> [!TIP]
> <span data-ttu-id="4b3ac-115">Você também pode usar esses mesmos técnicas toomove bancos de dados entre VMs do SQL Server no Azure.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-115">You can also use these same techniques toomove databases between SQL Server VMs in Azure.</span></span> <span data-ttu-id="4b3ac-116">Por exemplo, não há nenhum tooupgrade de maneira com suporte uma VM da imagem da Galeria do SQL Server de um tooanother de versão/edição.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-116">For example, there is no supported way tooupgrade a SQL Server gallery-image VM from one version/edition tooanother.</span></span> <span data-ttu-id="4b3ac-117">Nesse caso, você deve criar uma nova VM do SQL Server com a nova versão/edição hello e usar um das técnicas de migração de saudação em toomove este artigo seus bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-117">In this case, you should create a new SQL Server VM with hello new version/edition, and then use one of hello migration techniques in this article toomove your databases.</span></span> 

## <a name="choosing-your-migration-method"></a><span data-ttu-id="4b3ac-118">Escolhendo o método de migração</span><span class="sxs-lookup"><span data-stu-id="4b3ac-118">Choosing your migration method</span></span>
<span data-ttu-id="4b3ac-119">Para desempenho de transferência de dados ideal, migre arquivos de banco de dados de saudação em Olá VM do Azure usando um arquivo de backup compactado.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-119">For optimum data transfer performance, migrate hello database files into hello Azure VM using a compressed backup file.</span></span>

<span data-ttu-id="4b3ac-120">toominimize de tempo de inatividade durante o processo de migração do banco de dados hello, use opção Olá AlwaysOn ou opção de replicação transacional hello.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-120">toominimize downtime during hello database migration process, use either hello AlwaysOn option or hello transactional replication option.</span></span>

<span data-ttu-id="4b3ac-121">Se não for possível toouse Olá acima métodos, migre seu banco de dados manualmente.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-121">If it is not possible toouse hello above methods, manually migrate your database.</span></span> <span data-ttu-id="4b3ac-122">Usando esse método, você normalmente inicia com um backup de banco de dados seguido por uma cópia de backup de banco de dados de saudação no Azure e, em seguida, executar uma restauração de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-122">Using this method, you will generally start with a database backup followed by a copy of hello database backup into Azure and then perform a database restore.</span></span> <span data-ttu-id="4b3ac-123">Você pode também copiar os próprios arquivos de banco de dados Olá no Azure e, em seguida, anexá-los.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-123">You can also copy hello database files themselves into Azure and then attach them.</span></span> <span data-ttu-id="4b3ac-124">Existem vários métodos pelos quais você pode realizar esse processo manual de migrar um banco de dados para uma VM do Azure.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-124">There are several methods by which you can accomplish this manual process of migrating a database into an Azure VM.</span></span>

> [!NOTE]
> <span data-ttu-id="4b3ac-125">Quando você atualiza tooSQL Server 2014 ou SQL Server 2016 de versões anteriores do SQL Server, você deve considerar se as alterações são necessárias.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-125">When you upgrade tooSQL Server 2014 or SQL Server 2016 from older versions of SQL Server, you should consider whether changes are needed.</span></span> <span data-ttu-id="4b3ac-126">É recomendável que você aborde todas as dependências nos recursos sem suporte pela nova versão de saudação do SQL Server como parte de seu projeto de migração.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-126">We recommend that you address all dependencies on features not supported by hello new version of SQL Server as part of your migration project.</span></span> <span data-ttu-id="4b3ac-127">Para obter mais informações sobre edições Olá com suporte e cenários, consulte [atualização tooSQL Server](https://msdn.microsoft.com/library/bb677622.aspx).</span><span class="sxs-lookup"><span data-stu-id="4b3ac-127">For more information on hello supported editions and scenarios, see [Upgrade tooSQL Server](https://msdn.microsoft.com/library/bb677622.aspx).</span></span>

<span data-ttu-id="4b3ac-128">Olá a tabela a seguir lista cada um dos métodos de migração primário hello e descreve quando usar saudação de cada método é mais apropriado.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-128">hello following table lists each of hello primary migration methods and discusses when hello use of each method is most appropriate.</span></span>

| <span data-ttu-id="4b3ac-129">Método</span><span class="sxs-lookup"><span data-stu-id="4b3ac-129">Method</span></span> | <span data-ttu-id="4b3ac-130">Versão do banco de dados de origem</span><span class="sxs-lookup"><span data-stu-id="4b3ac-130">Source database version</span></span> | <span data-ttu-id="4b3ac-131">Versão do banco de dados de destino</span><span class="sxs-lookup"><span data-stu-id="4b3ac-131">Destination database version</span></span> | <span data-ttu-id="4b3ac-132">Restrição de tamanho do backup do banco de dados de origem</span><span class="sxs-lookup"><span data-stu-id="4b3ac-132">Source database backup size constraint</span></span> | <span data-ttu-id="4b3ac-133">Observações</span><span class="sxs-lookup"><span data-stu-id="4b3ac-133">Notes</span></span> |
| --- | --- | --- | --- | --- |
| [<span data-ttu-id="4b3ac-134">Executar backup local usando a compactação e manualmente copiar arquivo de backup de saudação em Olá máquina virtual do Azure</span><span class="sxs-lookup"><span data-stu-id="4b3ac-134">Perform on-premises backup using compression and manually copy hello backup file into hello Azure virtual machine</span></span>](#backup-and-restore) |<span data-ttu-id="4b3ac-135">SQL Server 2005 ou posterior</span><span class="sxs-lookup"><span data-stu-id="4b3ac-135">SQL Server 2005 or greater</span></span> |<span data-ttu-id="4b3ac-136">SQL Server 2005 ou posterior</span><span class="sxs-lookup"><span data-stu-id="4b3ac-136">SQL Server 2005 or greater</span></span> |[<span data-ttu-id="4b3ac-137">Limite de armazenamento da VM do Azure</span><span class="sxs-lookup"><span data-stu-id="4b3ac-137">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) | <span data-ttu-id="4b3ac-138">Essa é uma técnica muito simples e bem testada para mover bancos de dados entre máquinas.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-138">This is a very simple and well-tested technique for moving databases across machines.</span></span> |
| [<span data-ttu-id="4b3ac-139">Executar um tooURL backup e restaurar para Olá máquina virtual do Azure da URL de saudação</span><span class="sxs-lookup"><span data-stu-id="4b3ac-139">Perform a backup tooURL and restore into hello Azure virtual machine from hello URL</span></span>](#backup-to-url-and-restore) |<span data-ttu-id="4b3ac-140">SQL Server 2012 SP1 CU2 ou posterior</span><span class="sxs-lookup"><span data-stu-id="4b3ac-140">SQL Server 2012 SP1 CU2 or greater</span></span> |<span data-ttu-id="4b3ac-141">SQL Server 2012 SP1 CU2 ou posterior</span><span class="sxs-lookup"><span data-stu-id="4b3ac-141">SQL Server 2012 SP1 CU2 or greater</span></span> |<span data-ttu-id="4b3ac-142">< 12,8 TB para SQL Server 2016, caso contrário, < 1 TB</span><span class="sxs-lookup"><span data-stu-id="4b3ac-142">< 12.8 TB for SQL Server 2016, otherwise < 1 TB</span></span> | <span data-ttu-id="4b3ac-143">Esse método é apenas outra maneira toomove Olá arquivo de backup toohello VM usando o armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-143">This method is just another way toomove hello backup file toohello VM using Azure storage.</span></span> |
| [<span data-ttu-id="4b3ac-144">Desanexar e copie Olá dados e log arquivos tooAzure armazenamento de blob e, em seguida, anexar tooSQL Server na máquina virtual do Azure de URL</span><span class="sxs-lookup"><span data-stu-id="4b3ac-144">Detach and then copy hello data and log files tooAzure blob storage and then attach tooSQL Server in Azure virtual machine from URL</span></span>](#detach-and-attach-from-url) |<span data-ttu-id="4b3ac-145">SQL Server 2005 ou posterior</span><span class="sxs-lookup"><span data-stu-id="4b3ac-145">SQL Server 2005 or greater</span></span> |<span data-ttu-id="4b3ac-146">SQL Server 2014 ou posterior</span><span class="sxs-lookup"><span data-stu-id="4b3ac-146">SQL Server 2014 or greater</span></span> |[<span data-ttu-id="4b3ac-147">Limite de armazenamento da VM do Azure</span><span class="sxs-lookup"><span data-stu-id="4b3ac-147">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) |<span data-ttu-id="4b3ac-148">Use este método quando desejar muito[armazene esses arquivos usando o serviço de armazenamento de BLOBs do Azure Olá](https://msdn.microsoft.com/library/dn385720.aspx) e anexá-los tooSQL Server em execução em uma VM do Azure, particularmente com bancos de dados muito grandes</span><span class="sxs-lookup"><span data-stu-id="4b3ac-148">Use this method when you plan too[store these files using hello Azure Blob storage service](https://msdn.microsoft.com/library/dn385720.aspx) and attach them tooSQL Server running in an Azure VM, particularly with very large databases</span></span> |
| [<span data-ttu-id="4b3ac-149">Converter local tooHyper V VHDs de máquina, carregue o armazenamento de Blob tooAzure e, em seguida, implantar uma nova máquina virtual usando o VHD carregado</span><span class="sxs-lookup"><span data-stu-id="4b3ac-149">Convert on-premises machine tooHyper-V VHDs, upload tooAzure Blob storage, and then deploy a new virtual machine using uploaded VHD</span></span>](#convert-to-vm-and-upload-to-url-and-deploy-as-new-vm) |<span data-ttu-id="4b3ac-150">SQL Server 2005 ou posterior</span><span class="sxs-lookup"><span data-stu-id="4b3ac-150">SQL Server 2005 or greater</span></span> |<span data-ttu-id="4b3ac-151">SQL Server 2005 ou posterior</span><span class="sxs-lookup"><span data-stu-id="4b3ac-151">SQL Server 2005 or greater</span></span> |[<span data-ttu-id="4b3ac-152">Limite de armazenamento da VM do Azure</span><span class="sxs-lookup"><span data-stu-id="4b3ac-152">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) |<span data-ttu-id="4b3ac-153">Use quando [colocar sua própria licença do SQL Server](../../../sql-database/sql-database-paas-vs-sql-server-iaas.md), ao migrar um banco de dados que você executará em uma versão anterior do SQL Server, ou quando a migração de sistema e de bancos de dados de usuário como parte de Olá migração do banco de dados depende dos outros bancos de dados de usuário e/ou bancos de dados do sistema.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-153">Use when [bringing your own SQL Server license](../../../sql-database/sql-database-paas-vs-sql-server-iaas.md), when migrating a database that you will run on an older version of SQL Server, or when migrating system and user databases together as part of hello migration of database dependent on other user databases and/or system databases.</span></span> |
| [<span data-ttu-id="4b3ac-154">Remeter o disco rígido usando o Serviço de Importação/Exportação do Windows</span><span class="sxs-lookup"><span data-stu-id="4b3ac-154">Ship hard drive using Windows Import/Export Service</span></span>](#ship-hard-drive) |<span data-ttu-id="4b3ac-155">SQL Server 2005 ou posterior</span><span class="sxs-lookup"><span data-stu-id="4b3ac-155">SQL Server 2005 or greater</span></span> |<span data-ttu-id="4b3ac-156">SQL Server 2005 ou posterior</span><span class="sxs-lookup"><span data-stu-id="4b3ac-156">SQL Server 2005 or greater</span></span> |[<span data-ttu-id="4b3ac-157">Limite de armazenamento da VM do Azure</span><span class="sxs-lookup"><span data-stu-id="4b3ac-157">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) |<span data-ttu-id="4b3ac-158">Saudação de uso [serviço de importação/exportação do Windows](../../../storage/common/storage-import-export-service.md) quando o método de cópia manual está muito lento, como bancos de dados muito grandes</span><span class="sxs-lookup"><span data-stu-id="4b3ac-158">Use hello [Windows Import/Export Service](../../../storage/common/storage-import-export-service.md) when manual copy method is too slow, such as with very large databases</span></span> |
| [<span data-ttu-id="4b3ac-159">Use Olá assistente Adicionar réplica do Azure</span><span class="sxs-lookup"><span data-stu-id="4b3ac-159">Use hello Add Azure Replica Wizard</span></span>](../classic/sql-onprem-availability.md) |<span data-ttu-id="4b3ac-160">SQL Server 2012 ou posterior</span><span class="sxs-lookup"><span data-stu-id="4b3ac-160">SQL Server 2012 or greater</span></span> |<span data-ttu-id="4b3ac-161">SQL Server 2012 ou posterior</span><span class="sxs-lookup"><span data-stu-id="4b3ac-161">SQL Server 2012 or greater</span></span> |[<span data-ttu-id="4b3ac-162">Limite de armazenamento da VM do Azure</span><span class="sxs-lookup"><span data-stu-id="4b3ac-162">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) |<span data-ttu-id="4b3ac-163">Minimiza o tempo de inatividade, use quando tiver uma implantação local do AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="4b3ac-163">Minimizes downtime, use when you have an AlwaysOn on-premises deployment</span></span> |
| [<span data-ttu-id="4b3ac-164">Usar a replicação transacional do SQL Server</span><span class="sxs-lookup"><span data-stu-id="4b3ac-164">Use SQL Server transactional replication</span></span>](https://msdn.microsoft.com/library/ms151176.aspx) |<span data-ttu-id="4b3ac-165">SQL Server 2005 ou posterior</span><span class="sxs-lookup"><span data-stu-id="4b3ac-165">SQL Server 2005 or greater</span></span> |<span data-ttu-id="4b3ac-166">SQL Server 2005 ou posterior</span><span class="sxs-lookup"><span data-stu-id="4b3ac-166">SQL Server 2005 or greater</span></span> |[<span data-ttu-id="4b3ac-167">Limite de armazenamento da VM do Azure</span><span class="sxs-lookup"><span data-stu-id="4b3ac-167">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) |<span data-ttu-id="4b3ac-168">Use quando você precisa de tempo de inatividade toominimize e não tiver uma implantação de local do AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="4b3ac-168">Use when you need toominimize downtime and do not have an AlwaysOn on-premises deployment</span></span> |

## <a name="backup-and-restore"></a><span data-ttu-id="4b3ac-169">Backup e restauração</span><span class="sxs-lookup"><span data-stu-id="4b3ac-169">Backup and restore</span></span>
<span data-ttu-id="4b3ac-170">Fazer backup de banco de dados com a compactação, copie Olá backup toohello VM e, em seguida, restaure o banco de dados de saudação.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-170">Back up your database with compression, copy hello backup toohello VM, and then restore hello database.</span></span> <span data-ttu-id="4b3ac-171">Se o arquivo de backup for maior que 1 TB, você deve distribui-lo porque o tamanho máximo de saudação de um disco VM é 1 TB.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-171">If your backup file is larger than 1 TB, you must stripe it because hello maximum size of a VM disk is 1 TB.</span></span> <span data-ttu-id="4b3ac-172">Use Olá um banco de dados de usuário usando esse método manual toomigrate etapas gerais a seguir:</span><span class="sxs-lookup"><span data-stu-id="4b3ac-172">Use hello following general steps toomigrate a user database using this manual method:</span></span>

1. <span data-ttu-id="4b3ac-173">Execute um instalação local do banco de dados completo tooan backup.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-173">Perform a full database backup tooan on-premises location.</span></span>
2. <span data-ttu-id="4b3ac-174">Crie ou carregue uma máquina virtual com a versão de saudação do SQL Server desejado.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-174">Create or upload a virtual machine with hello version of SQL Server desired.</span></span>
3. <span data-ttu-id="4b3ac-175">Configure a conectividade com base em seus requisitos de instalação.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-175">Setup connectivity based on your requirements.</span></span> <span data-ttu-id="4b3ac-176">Consulte [conectar tooa Máquina Virtual do SQL Server no Azure (Gerenciador de recursos)](virtual-machines-windows-sql-connect.md).</span><span class="sxs-lookup"><span data-stu-id="4b3ac-176">See [Connect tooa SQL Server Virtual Machine on Azure (Resource Manager)](virtual-machines-windows-sql-connect.md).</span></span>
4. <span data-ttu-id="4b3ac-177">Copie seu arquivos de backup de tooyour VM usando o comando remoto de cópia de área de trabalho, o Windows Explorer ou Olá em um prompt de comando.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-177">Copy your backup file(s) tooyour VM using remote desktop, Windows Explorer or hello copy command from a command prompt.</span></span>

## <a name="backup-toourl-and-restore"></a><span data-ttu-id="4b3ac-178">TooURL backup e restauração</span><span class="sxs-lookup"><span data-stu-id="4b3ac-178">Backup tooURL and restore</span></span>
<span data-ttu-id="4b3ac-179">Em vez de fazer backup de arquivo local tooa, você pode usar o hello [tooURL backup](https://msdn.microsoft.com/library/dn435916.aspx) e, em seguida, restaure a partir de URL toohello VM.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-179">Instead of backing up tooa local file, you can use hello [backup tooURL](https://msdn.microsoft.com/library/dn435916.aspx) and then restore from URL toohello VM.</span></span> <span data-ttu-id="4b3ac-180">Com o SQL Server 2016, conjuntos de backup distribuídos têm suporte, são recomendados para desempenho e necessário limites de tamanho de saudação tooexceed por blob.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-180">With SQL Server 2016, striped backup sets are supported, are recommended for performance, and required tooexceed hello size limits per blob.</span></span> <span data-ttu-id="4b3ac-181">Para bancos de dados muito grandes, Olá uso de saudação [serviço de importação/exportação do Windows](../../../storage/common/storage-import-export-service.md) é recomendado.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-181">For very large databases, hello use of hello [Windows Import/Export Service](../../../storage/common/storage-import-export-service.md) is recommended.</span></span>

## <a name="detach-and-attach-from-url"></a><span data-ttu-id="4b3ac-182">Desanexar e anexar da URL</span><span class="sxs-lookup"><span data-stu-id="4b3ac-182">Detach and attach from URL</span></span>
<span data-ttu-id="4b3ac-183">Desanexar os banco de dados e arquivos de log e transferi-los muito[armazenamento de BLOBs do Azure](https://msdn.microsoft.com/library/dn385720.aspx).</span><span class="sxs-lookup"><span data-stu-id="4b3ac-183">Detach your database and log files and transfer them too[Azure Blob storage](https://msdn.microsoft.com/library/dn385720.aspx).</span></span> <span data-ttu-id="4b3ac-184">Em seguida, anexe o banco de dados de saudação da URL de saudação em sua VM do Azure.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-184">Then attach hello database from hello URL on your Azure VM.</span></span> <span data-ttu-id="4b3ac-185">Use-o se desejar Olá tooreside de arquivos de banco de dados físico no armazenamento de Blob.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-185">Use this if you want hello physical database files tooreside in Blob storage.</span></span> <span data-ttu-id="4b3ac-186">Isso pode ser útil para bancos de dados muito grandes.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-186">This might be useful for very large databases.</span></span> <span data-ttu-id="4b3ac-187">Use Olá um banco de dados de usuário usando esse método manual toomigrate etapas gerais a seguir:</span><span class="sxs-lookup"><span data-stu-id="4b3ac-187">Use hello following general steps toomigrate a user database using this manual method:</span></span>

1. <span data-ttu-id="4b3ac-188">Desanexe os arquivos de banco de dados de saudação da instância de banco de dados do local de saudação.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-188">Detach hello database files from hello on-premises database instance.</span></span>
2. <span data-ttu-id="4b3ac-189">Copiar arquivos de banco de dados desanexado de saudação no armazenamento de BLOBs do Azure usando Olá [utilitário de linha de comando AZCopy](../../../storage/common/storage-use-azcopy.md).</span><span class="sxs-lookup"><span data-stu-id="4b3ac-189">Copy hello detached database files into Azure blob storage using hello [AZCopy command-line utility](../../../storage/common/storage-use-azcopy.md).</span></span>
3. <span data-ttu-id="4b3ac-190">Anexe arquivos de banco de dados de saudação da instância do SQL Server toohello hello Azure URL no hello VM do Azure.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-190">Attach hello database files from hello Azure URL toohello SQL Server instance in hello Azure VM.</span></span>

## <a name="convert-toovm-and-upload-toourl-and-deploy-as-new-vm"></a><span data-ttu-id="4b3ac-191">Converter tooVM e carregue tooURL e implantar como uma nova VM</span><span class="sxs-lookup"><span data-stu-id="4b3ac-191">Convert tooVM and upload tooURL and deploy as new VM</span></span>
<span data-ttu-id="4b3ac-192">Use este método toomigrate todos os bancos de dados de sistema e usuário em uma máquina virtual do local do SQL Server instância tooAzure.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-192">Use this method toomigrate all system and user databases in an on-premises SQL Server instance tooAzure virtual machine.</span></span> <span data-ttu-id="4b3ac-193">Use Olá uma instância inteira do SQL Server usando esse método manual toomigrate etapas gerais a seguir:</span><span class="sxs-lookup"><span data-stu-id="4b3ac-193">Use hello following general steps toomigrate an entire SQL Server instance using this manual method:</span></span>

1. <span data-ttu-id="4b3ac-194">Converter físico ou virtual máquinas VHDs tooHyper-V usando [Microsoft Virtual Machine Converter](https://technet.microsoft.com/library/dn874008(v=ws.11).aspx).</span><span class="sxs-lookup"><span data-stu-id="4b3ac-194">Convert physical or virtual machines tooHyper-V VHDs by using [Microsoft Virtual Machine Converter](https://technet.microsoft.com/library/dn874008(v=ws.11).aspx).</span></span>
2. <span data-ttu-id="4b3ac-195">Carregar arquivos VHD tooAzure armazenamento usando Olá [cmdlet Add-AzureVHD](https://msdn.microsoft.com/library/windowsazure/dn495173.aspx).</span><span class="sxs-lookup"><span data-stu-id="4b3ac-195">Upload VHD files tooAzure Storage by using hello [Add-AzureVHD cmdlet](https://msdn.microsoft.com/library/windowsazure/dn495173.aspx).</span></span>
3. <span data-ttu-id="4b3ac-196">Implantar uma nova máquina virtual usando Olá carregar o VHD.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-196">Deploy a new virtual machine by using hello uploaded VHD.</span></span>

> [!NOTE]
> <span data-ttu-id="4b3ac-197">toomigrate um aplicativo inteiro, considere o uso de [do Azure Site Recovery](../../../site-recovery/site-recovery-overview.md)].</span><span class="sxs-lookup"><span data-stu-id="4b3ac-197">toomigrate an entire application, consider using [Azure Site Recovery](../../../site-recovery/site-recovery-overview.md)].</span></span>

## <a name="ship-hard-drive"></a><span data-ttu-id="4b3ac-198">Remeter a unidade de disco rígido</span><span class="sxs-lookup"><span data-stu-id="4b3ac-198">Ship hard drive</span></span>
<span data-ttu-id="4b3ac-199">Saudação de uso [método do serviço de importação/exportação do Windows](../../../storage/common/storage-import-export-service.md) tootransfer grandes quantidades de dados de arquivo tooAzure armazenamento de Blob em situações onde carregar pela rede Olá é extremamente dispendioso ou inviável.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-199">Use hello [Windows Import/Export Service method](../../../storage/common/storage-import-export-service.md) tootransfer large amounts of file data tooAzure Blob storage in situations where uploading over hello network is prohibitively expensive or not feasible.</span></span> <span data-ttu-id="4b3ac-200">Com esse serviço, você enviar uma ou mais unidades de disco rígido que contém dados tooan do Azure data center, onde os dados serão carregados tooyour conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-200">With this service, you send one or more hard drives containing that data tooan Azure data center, where your data will be uploaded tooyour storage account.</span></span>

## <a name="next-steps"></a><span data-ttu-id="4b3ac-201">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="4b3ac-201">Next Steps</span></span>
<span data-ttu-id="4b3ac-202">Para obter mais informações sobre como executar o SQL Server em Máquinas Virtuais do Azure, veja [Visão geral do SQL Server em Máquinas Virtuais do Azure](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="4b3ac-202">For more information about running SQL Server on Azure Virtual Machines, see [SQL Server on Azure Virtual Machines overview](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>

<span data-ttu-id="4b3ac-203">Para obter instruções sobre como criar uma máquina Virtual do Azure SQL Server de uma imagem capturada, consulte [dicas e truques 'clonagem' máquinas virtuais de SQL do Azure de imagens capturadas](https://blogs.msdn.microsoft.com/psssql/2016/07/06/tips-tricks-on-cloning-azure-sql-virtual-machines-from-captured-images/) no blog do hello engenheiros do CSS SQL Server.</span><span class="sxs-lookup"><span data-stu-id="4b3ac-203">For instructions on creating an Azure SQL Server Virtual Machine from a captured image, see [Tips & Tricks on ‘cloning’ Azure SQL virtual machines from captured images](https://blogs.msdn.microsoft.com/psssql/2016/07/06/tips-tricks-on-cloning-azure-sql-virtual-machines-from-captured-images/) on hello CSS SQL Server Engineers blog.</span></span>

