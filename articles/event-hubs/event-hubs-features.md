---
title: "Visão geral de recursos aaaAzure Hubs de eventos | Microsoft Docs"
description: "Visão geral e detalhes sobre os recursos de Hubs de Eventos do Azure"
services: event-hubs
documentationcenter: .net
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 
ms.service: event-hubs
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/17/2017
ms.author: sethm
ms.openlocfilehash: 8094e48abc8455ed725d4d5d3f9895f431441e2b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="event-hubs-features-overview"></a><span data-ttu-id="30515-103">Visão geral dos recursos de Hubs de Eventos</span><span class="sxs-lookup"><span data-stu-id="30515-103">Event Hubs features overview</span></span>

<span data-ttu-id="30515-104">Os Hubs de Evento do Azure é um serviço de processamento de evento escalonável que recebe e processa grandes volumes de eventos e dados, com baixa latência e alta confiabilidade.</span><span class="sxs-lookup"><span data-stu-id="30515-104">Azure Event Hubs is a scalable event processing service that ingests and processes large volumes of events and data, with low latency and high reliability.</span></span> <span data-ttu-id="30515-105">Consulte [novidades Hubs de eventos?](event-hubs-what-is-event-hubs.md) para uma visão geral do serviço de saudação.</span><span class="sxs-lookup"><span data-stu-id="30515-105">See [What is Event Hubs?](event-hubs-what-is-event-hubs.md) for a high-level overview of hello service.</span></span>

<span data-ttu-id="30515-106">Este artigo é baseado nas informações Olá Olá [visão geral](event-hubs-what-is-event-hubs.md)e fornece detalhes técnicos e implementação sobre recursos e componentes de Hubs de eventos.</span><span class="sxs-lookup"><span data-stu-id="30515-106">This article builds on hello information in hello [overview](event-hubs-what-is-event-hubs.md), and provides technical and implementation details about Event Hubs components and features.</span></span>

## <a name="event-publishers"></a><span data-ttu-id="30515-107">Editores de eventos</span><span class="sxs-lookup"><span data-stu-id="30515-107">Event publishers</span></span>

<span data-ttu-id="30515-108">Qualquer entidade que envia o hub de eventos de tooan de dados é um produtor de evento, ou *publicador do evento*.</span><span class="sxs-lookup"><span data-stu-id="30515-108">Any entity that sends data tooan event hub is an event producer, or *event publisher*.</span></span> <span data-ttu-id="30515-109">Os editores de eventos podem publicar eventos usando HTTPS ou AMQP 1.0.</span><span class="sxs-lookup"><span data-stu-id="30515-109">Event publishers can publish events using HTTPS or AMQP 1.0.</span></span> <span data-ttu-id="30515-110">Editores de eventos usar um tooidentify de token de assinatura de acesso compartilhado (SAS) se tooan hub de eventos e podem ter uma identidade exclusiva ou usar um token SAS comum.</span><span class="sxs-lookup"><span data-stu-id="30515-110">Event publishers use a Shared Access Signature (SAS) token tooidentify themselves tooan event hub, and can have a unique identity, or use a common SAS token.</span></span>

### <a name="publishing-an-event"></a><span data-ttu-id="30515-111">Publicar um evento</span><span class="sxs-lookup"><span data-stu-id="30515-111">Publishing an event</span></span>

<span data-ttu-id="30515-112">Você pode publicar um evento por meio do AMQP 1.0 ou HTTPS.</span><span class="sxs-lookup"><span data-stu-id="30515-112">You can publish an event via AMQP 1.0 or HTTPS.</span></span> <span data-ttu-id="30515-113">Hubs de eventos fornecem [bibliotecas de cliente e classes](event-hubs-dotnet-framework-api-overview.md) para publicação de hub de eventos de tooan eventos de clientes .NET.</span><span class="sxs-lookup"><span data-stu-id="30515-113">Event Hubs provides [client libraries and classes](event-hubs-dotnet-framework-api-overview.md) for publishing events tooan event hub from .NET clients.</span></span> <span data-ttu-id="30515-114">Para outras plataformas e tempos de execução, você pode usar qualquer cliente AMQP 1.0, como o [Apache Qpid](http://qpid.apache.org/).</span><span class="sxs-lookup"><span data-stu-id="30515-114">For other runtimes and platforms, you can use any AMQP 1.0 client, such as [Apache Qpid](http://qpid.apache.org/).</span></span> <span data-ttu-id="30515-115">Você pode publicar eventos individualmente ou em lotes.</span><span class="sxs-lookup"><span data-stu-id="30515-115">You can publish events individually, or batched.</span></span> <span data-ttu-id="30515-116">Uma única publicação (instância de dados do evento) tem um limite de 256 KB, independentemente de ser um único evento ou um lote.</span><span class="sxs-lookup"><span data-stu-id="30515-116">A single publication (event data instance) has a limit of 256 KB, regardless of whether it is a single event or a batch.</span></span> <span data-ttu-id="30515-117">Publicar eventos maiores que esse limite resulta em erro.</span><span class="sxs-lookup"><span data-stu-id="30515-117">Publishing events larger than this threshold results in an error.</span></span> <span data-ttu-id="30515-118">É uma prática recomendada para Publicadores toobe ciente das partições no hub de eventos hello e tooonly especificar um *chave de partição* (introduzido na próxima seção, Olá), ou sua identidade por meio de seu token SAS.</span><span class="sxs-lookup"><span data-stu-id="30515-118">It is a best practice for publishers toobe unaware of partitions within hello event hub and tooonly specify a *partition key* (introduced in hello next section), or their identity via their SAS token.</span></span>

<span data-ttu-id="30515-119">Olá escolha toouse AMQP ou HTTPS é o cenário de uso toohello específico.</span><span class="sxs-lookup"><span data-stu-id="30515-119">hello choice toouse AMQP or HTTPS is specific toohello usage scenario.</span></span> <span data-ttu-id="30515-120">AMQP requer o estabelecimento de saudação de um soquete bidirecional persistente na adição tootransport nível TLS (segurança) ou SSL/TLS.</span><span class="sxs-lookup"><span data-stu-id="30515-120">AMQP requires hello establishment of a persistent bidirectional socket in addition tootransport level security (TLS) or SSL/TLS.</span></span> <span data-ttu-id="30515-121">AMQP possui custos mais altos de rede durante a inicialização de sessão hello, porém HTTPS requer SSL adicional de sobrecarga para cada solicitação.</span><span class="sxs-lookup"><span data-stu-id="30515-121">AMQP has higher network costs when initializing hello session, however HTTPS requires additional SSL overhead for every request.</span></span> <span data-ttu-id="30515-122">O AMQP tem um melhor desempenho para editores frequentes.</span><span class="sxs-lookup"><span data-stu-id="30515-122">AMQP has higher performance for frequent publishers.</span></span>

![Hubs de Eventos](./media/event-hubs-features/partition_keys.png)

<span data-ttu-id="30515-124">Hubs de eventos garante que todos os eventos que compartilham um valor de chave de partição sejam entregues em ordem e toohello mesma partição.</span><span class="sxs-lookup"><span data-stu-id="30515-124">Event Hubs ensures that all events sharing a partition key value are delivered in order, and toohello same partition.</span></span> <span data-ttu-id="30515-125">Se forem usadas chaves de partição com as políticas do publicador, Olá, em seguida, a identidade do publicador hello e valor Olá Olá chave de partição deve corresponder.</span><span class="sxs-lookup"><span data-stu-id="30515-125">If partition keys are used with publisher policies, then hello identity of hello publisher and hello value of hello partition key must match.</span></span> <span data-ttu-id="30515-126">Caso contrário, ocorrerá um erro.</span><span class="sxs-lookup"><span data-stu-id="30515-126">Otherwise, an error occurs.</span></span>

### <a name="publisher-policy"></a><span data-ttu-id="30515-127">Política de editor</span><span class="sxs-lookup"><span data-stu-id="30515-127">Publisher policy</span></span>

<span data-ttu-id="30515-128">Os Hubs de Eventos permitem um controle granular sobre os editores de eventos por meio de *políticas do editor*.</span><span class="sxs-lookup"><span data-stu-id="30515-128">Event Hubs enables granular control over event publishers through *publisher policies*.</span></span> <span data-ttu-id="30515-129">As políticas do publicador são recursos de tempo de execução projetados toofacilitate grandes números de editores de eventos independentes.</span><span class="sxs-lookup"><span data-stu-id="30515-129">Publisher policies are run-time features designed toofacilitate large numbers of independent event publishers.</span></span> <span data-ttu-id="30515-130">Com as políticas do publicador, cada publicador usa seu próprio identificador exclusivo ao publicar o hub de eventos de tooan de eventos, usando Olá mecanismo a seguir:</span><span class="sxs-lookup"><span data-stu-id="30515-130">With publisher policies, each publisher uses its own unique identifier when publishing events tooan event hub, using hello following mechanism:</span></span>

```
//[my namespace].servicebus.windows.net/[event hub name]/publishers/[my publisher name]
```

<span data-ttu-id="30515-131">Você não tem nomes de fornecedores toocreate antecipadamente, mas eles devem coincidir com o token SAS Olá usado ao publicar um evento, em identidades do publicador independentes tooensure ordem.</span><span class="sxs-lookup"><span data-stu-id="30515-131">You don't have toocreate publisher names ahead of time, but they must match hello SAS token used when publishing an event, in order tooensure independent publisher identities.</span></span> <span data-ttu-id="30515-132">Ao usar as políticas do publicador, Olá **PartitionKey** valor é definido o nome do publicador toohello.</span><span class="sxs-lookup"><span data-stu-id="30515-132">When using publisher policies, hello **PartitionKey** value is set toohello publisher name.</span></span> <span data-ttu-id="30515-133">toowork adequadamente, esses valores devem corresponder.</span><span class="sxs-lookup"><span data-stu-id="30515-133">toowork properly, these values must match.</span></span>

## <a name="capture"></a><span data-ttu-id="30515-134">Captura</span><span class="sxs-lookup"><span data-stu-id="30515-134">Capture</span></span>

<span data-ttu-id="30515-135">[Hubs de evento captura](event-hubs-capture-overview.md) permite tooautomatically captura Olá fluxo de dados em Hubs de eventos e salvá-lo tooyour escolha de uma conta de armazenamento de Blob ou uma conta de serviço do Azure Data Lake.</span><span class="sxs-lookup"><span data-stu-id="30515-135">[Event Hubs Capture](event-hubs-capture-overview.md) enables you tooautomatically capture hello streaming data in Event Hubs and save it tooyour choice of either a Blob storage account, or an Azure Data Lake Service account.</span></span> <span data-ttu-id="30515-136">Você pode habilitar a captura de saudação portal do Azure e especificar um tamanho mínimo e a captura de saudação de tooperform de janela de tempo.</span><span class="sxs-lookup"><span data-stu-id="30515-136">You can enable Capture from hello Azure portal, and specify a minimum size and time window tooperform hello capture.</span></span> <span data-ttu-id="30515-137">Usando a captura de Hubs de eventos, você especificar sua própria conta de armazenamento de BLOBs do Azure e o contêiner ou conta de serviço do Azure Data Lake, que é usado toostore Olá os dados capturados.</span><span class="sxs-lookup"><span data-stu-id="30515-137">Using Event Hubs Capture, you specify your own Azure Blob Storage account and container, or Azure Data Lake Service account, which is used toostore hello captured data.</span></span> <span data-ttu-id="30515-138">Os dados capturados são gravados em formato do Apache Avro hello.</span><span class="sxs-lookup"><span data-stu-id="30515-138">Captured data is written in hello Apache Avro format.</span></span>

## <a name="partitions"></a><span data-ttu-id="30515-139">Partições</span><span class="sxs-lookup"><span data-stu-id="30515-139">Partitions</span></span>

<span data-ttu-id="30515-140">Hubs de eventos fornecem por meio de um padrão de consumidor particionado no qual cada consumidor lê somente um subconjunto específico ou partição do fluxo de mensagem de saudação de transmissão de mensagens.</span><span class="sxs-lookup"><span data-stu-id="30515-140">Event Hubs provides message streaming through a partitioned consumer pattern in which each consumer only reads a specific subset, or partition, of hello message stream.</span></span> <span data-ttu-id="30515-141">Esse padrão permite a escala horizontal para processamento de eventos e fornece outros recursos centrados no fluxo que não estão disponíveis em filas e tópicos.</span><span class="sxs-lookup"><span data-stu-id="30515-141">This pattern enables horizontal scale for event processing and provides other stream-focused features that are unavailable in queues and topics.</span></span>

<span data-ttu-id="30515-142">Uma partição é uma sequência ordenada de eventos que é mantida em um hub de eventos.</span><span class="sxs-lookup"><span data-stu-id="30515-142">A partition is an ordered sequence of events that is held in an event hub.</span></span> <span data-ttu-id="30515-143">Conforme novos eventos chegam, eles são adicionados toohello final dessa sequência.</span><span class="sxs-lookup"><span data-stu-id="30515-143">As newer events arrive, they are added toohello end of this sequence.</span></span> <span data-ttu-id="30515-144">Uma partição pode ser pensada como "log de confirmação".</span><span class="sxs-lookup"><span data-stu-id="30515-144">A partition can be thought of as a "commit log."</span></span>

![Hubs de Eventos](./media/event-hubs-features/partition.png)

<span data-ttu-id="30515-146">Hubs de eventos retém dados por um período de retenção configurado que se aplica a todas as partições no hub de eventos de saudação.</span><span class="sxs-lookup"><span data-stu-id="30515-146">Event Hubs retains data for a configured retention time that applies across all partitions in hello event hub.</span></span> <span data-ttu-id="30515-147">Eventos expiram periodicamente; não é possível excluí-los explicitamente.</span><span class="sxs-lookup"><span data-stu-id="30515-147">Events expire on a time basis; you cannot explicitly delete them.</span></span> <span data-ttu-id="30515-148">Como as partições são independentes e contêm sua própria sequência de dados, elas geralmente crescem a taxas diferentes.</span><span class="sxs-lookup"><span data-stu-id="30515-148">Because partitions are independent and contain their own sequence of data, they often grow at different rates.</span></span>

![Hubs de Eventos](./media/event-hubs-features/multiple_partitions.png)

<span data-ttu-id="30515-150">número de saudação de partições é especificado no momento da criação e deve estar entre 2 e 32.</span><span class="sxs-lookup"><span data-stu-id="30515-150">hello number of partitions is specified at creation and must be between 2 and 32.</span></span> <span data-ttu-id="30515-151">Contagem de partição de saudação não é mutável, portanto você deve considerar a longo prazo escala quando a contagem de partição de configuração.</span><span class="sxs-lookup"><span data-stu-id="30515-151">hello partition count is not changeable, so you should consider long-term scale when setting partition count.</span></span> <span data-ttu-id="30515-152">As partições são um mecanismo de organização de dados que relaciona toohello paralelismo de downstream necessário em aplicativos de consumo.</span><span class="sxs-lookup"><span data-stu-id="30515-152">Partitions are a data organization mechanism that relates toohello downstream parallelism required in consuming applications.</span></span> <span data-ttu-id="30515-153">Olá número de partições em um hub de eventos está diretamente relacionada toohello número de leitores simultâneos esperado toohave.</span><span class="sxs-lookup"><span data-stu-id="30515-153">hello number of partitions in an event hub directly relates toohello number of concurrent readers you expect toohave.</span></span> <span data-ttu-id="30515-154">Você pode aumentar o número de saudação de partições além 32 entrando em contato com a equipe de Hubs de eventos de saudação.</span><span class="sxs-lookup"><span data-stu-id="30515-154">You can increase hello number of partitions beyond 32 by contacting hello Event Hubs team.</span></span>

<span data-ttu-id="30515-155">Enquanto partições identificadas e podem ser enviadas toodirectly, não é recomendável enviar diretamente tooa partição.</span><span class="sxs-lookup"><span data-stu-id="30515-155">While partitions are identifiable and can be sent toodirectly, sending directly tooa partition is not recommended.</span></span> <span data-ttu-id="30515-156">Em vez disso, você pode usar construções de nível superior, introduzidas no hello [publicador do evento](#event-publishers) e [capacidade](#capacity) seções.</span><span class="sxs-lookup"><span data-stu-id="30515-156">Instead, you can use higher level constructs introduced in hello [Event publisher](#event-publishers) and [Capacity](#capacity) sections.</span></span> 

<span data-ttu-id="30515-157">As partições são preenchidas com uma sequência de dados de evento que contém o corpo de saudação do evento hello, um recipiente de propriedades definidas pelo usuário e metadados, como seu deslocamento na partição hello e seu número de sequência de fluxo de saudação.</span><span class="sxs-lookup"><span data-stu-id="30515-157">Partitions are filled with a sequence of event data which contains hello body of hello event, a user-defined property bag, and metadata such as its offset in hello partition and its number in hello stream sequence.</span></span>

<span data-ttu-id="30515-158">Para obter mais informações sobre partições e compensação de saudação entre disponibilidade e confiabilidade, consulte Olá [guia de programação de Hubs de eventos](event-hubs-programming-guide.md#partition-key) e hello [disponibilidade e a consistência nos Hubs de eventos](event-hubs-availability-and-consistency.md) artigo .</span><span class="sxs-lookup"><span data-stu-id="30515-158">For more information about partitions and hello trade-off between availability and reliability, see hello [Event Hubs programming guide](event-hubs-programming-guide.md#partition-key) and hello [Availability and consistency in Event Hubs](event-hubs-availability-and-consistency.md) article.</span></span>

### <a name="partition-key"></a><span data-ttu-id="30515-159">Chave de partição</span><span class="sxs-lookup"><span data-stu-id="30515-159">Partition key</span></span>

<span data-ttu-id="30515-160">Você pode usar um [chave de partição](event-hubs-programming-guide.md#partition-key) toomap dados de eventos recebidos em partições específicas para finalidade de saudação da organização de dados.</span><span class="sxs-lookup"><span data-stu-id="30515-160">You can use a [partition key](event-hubs-programming-guide.md#partition-key) toomap incoming event data into specific partitions for hello purpose of data organization.</span></span> <span data-ttu-id="30515-161">chave de partição de saudação é um valor fornecido pelo remetente passado para um hub de eventos.</span><span class="sxs-lookup"><span data-stu-id="30515-161">hello partition key is a sender-supplied value passed into an event hub.</span></span> <span data-ttu-id="30515-162">Ela é processada por meio de uma função de hash estática, que cria a atribuição de partição hello.</span><span class="sxs-lookup"><span data-stu-id="30515-162">It is processed through a static hashing function, which creates hello partition assignment.</span></span> <span data-ttu-id="30515-163">Se você não especificar uma chave de partição ao publicar um evento, uma atribuição de round robin será usada.</span><span class="sxs-lookup"><span data-stu-id="30515-163">If you don't specify a partition key when publishing an event, a round-robin assignment is used.</span></span>

<span data-ttu-id="30515-164">publicador do evento Olá só está ciente da sua chave de partição não Olá partição toowhich Olá eventos são publicados.</span><span class="sxs-lookup"><span data-stu-id="30515-164">hello event publisher is only aware of its partition key, not hello partition toowhich hello events are published.</span></span> <span data-ttu-id="30515-165">Essa desassociação de partição e chave separa o remetente de saudação da necessidade tooknow muito sobre processamento de downstream hello.</span><span class="sxs-lookup"><span data-stu-id="30515-165">This decoupling of key and partition insulates hello sender from needing tooknow too much about hello downstream processing.</span></span> <span data-ttu-id="30515-166">Um por dispositivo ou usuário exclusivo identidade faz com que uma chave de partição boa, mas outros atributos, como geografia também podem ser usado toogroup eventos relacionados em uma única partição.</span><span class="sxs-lookup"><span data-stu-id="30515-166">A per-device or user unique identity makes a good partition key, but other attributes such as geography can also be used toogroup related events into a single partition.</span></span>

## <a name="sas-tokens"></a><span data-ttu-id="30515-167">Tokens SAS</span><span class="sxs-lookup"><span data-stu-id="30515-167">SAS tokens</span></span>

<span data-ttu-id="30515-168">Hubs de eventos usa *assinaturas de acesso compartilhado*, que estão disponível no nível de hub de namespace e o evento de saudação.</span><span class="sxs-lookup"><span data-stu-id="30515-168">Event Hubs uses *Shared Access Signatures*, which are available at hello namespace and event hub level.</span></span> <span data-ttu-id="30515-169">Um token SAS é gerado a partir de uma chave de SAS e é um hash SHA de uma URL, codificado em um formato específico.</span><span class="sxs-lookup"><span data-stu-id="30515-169">A SAS token is generated from a SAS key and is an SHA hash of a URL, encoded in a specific format.</span></span> <span data-ttu-id="30515-170">Usando o nome de saudação da chave hello (política) e token Olá, Hubs de eventos pode regenerar o hash de saudação e se autenticarem remetente hello.</span><span class="sxs-lookup"><span data-stu-id="30515-170">Using hello name of hello key (policy) and hello token, Event Hubs can regenerate hello hash and thus authenticate hello sender.</span></span> <span data-ttu-id="30515-171">Normalmente, os tokens SAS para editores de eventos são criados apenas com privilégios de **enviar** em um hub de eventos específico.</span><span class="sxs-lookup"><span data-stu-id="30515-171">Normally, SAS tokens for event publishers are created with only **send** privileges on a specific event hub.</span></span> <span data-ttu-id="30515-172">Esse mecanismo de URL de token SAS é a base de saudação para identificação de Publicadores introduzidos na política de publicador hello.</span><span class="sxs-lookup"><span data-stu-id="30515-172">This SAS token URL mechanism is hello basis for publisher identification introduced in hello publisher policy.</span></span> <span data-ttu-id="30515-173">Para saber mais sobre como trabalhar com SAS, confira [Autenticação de assinatura de acesso compartilhado com o Barramento de Serviço](../service-bus-messaging/service-bus-sas.md).</span><span class="sxs-lookup"><span data-stu-id="30515-173">For more information about working with SAS, see [Shared Access Signature Authentication with Service Bus](../service-bus-messaging/service-bus-sas.md).</span></span>

## <a name="event-consumers"></a><span data-ttu-id="30515-174">Consumidores de evento</span><span class="sxs-lookup"><span data-stu-id="30515-174">Event consumers</span></span>

<span data-ttu-id="30515-175">Qualquer entidade que lê dados de evento de um hub de eventos é um *consumidor de eventos*.</span><span class="sxs-lookup"><span data-stu-id="30515-175">Any entity that reads event data from an event hub is an *event consumer*.</span></span> <span data-ttu-id="30515-176">Todos os consumidores de Hubs de eventos se conectar por meio da sessão de saudação AMQP 1.0 e eventos são entregues por meio de sessão Olá assim que estiverem disponíveis.</span><span class="sxs-lookup"><span data-stu-id="30515-176">All Event Hubs consumers connect via hello AMQP 1.0 session and events are delivered through hello session as they become available.</span></span> <span data-ttu-id="30515-177">Olá cliente não necessita de toopoll para disponibilidade de dados.</span><span class="sxs-lookup"><span data-stu-id="30515-177">hello client does not need toopoll for data availability.</span></span>

### <a name="consumer-groups"></a><span data-ttu-id="30515-178">Grupos de consumidores</span><span class="sxs-lookup"><span data-stu-id="30515-178">Consumer groups</span></span>

<span data-ttu-id="30515-179">mecanismo de publicação/assinatura Olá dos Hubs de eventos é habilitado por meio de *grupos de consumidores*.</span><span class="sxs-lookup"><span data-stu-id="30515-179">hello publish/subscribe mechanism of Event Hubs is enabled through *consumer groups*.</span></span> <span data-ttu-id="30515-180">Um grupo de consumidores é uma exibição (estado, posição ou deslocamento) de todo um hub de eventos.</span><span class="sxs-lookup"><span data-stu-id="30515-180">A consumer group is a view (state, position, or offset) of an entire event hub.</span></span> <span data-ttu-id="30515-181">Grupos de consumidores permitem que vários aplicativos de consumo tooeach tem uma exibição separada de fluxo de eventos hello e fluxo de saudação tooread independentemente em seu próprio ritmo e com seus próprio deslocamentos.</span><span class="sxs-lookup"><span data-stu-id="30515-181">Consumer groups enable multiple consuming applications tooeach have a separate view of hello event stream, and tooread hello stream independently at their own pace and with their own offsets.</span></span>

<span data-ttu-id="30515-182">Em um arquitetura de processamento de fluxo, cada aplicativo de downstream equivale tooa grupo de consumidores.</span><span class="sxs-lookup"><span data-stu-id="30515-182">In a stream processing architecture, each downstream application equates tooa consumer group.</span></span> <span data-ttu-id="30515-183">Se desejar que o armazenamento de termo toolong de dados de evento toowrite, esse aplicativo do gravador de armazenamento é um grupo de consumidores.</span><span class="sxs-lookup"><span data-stu-id="30515-183">If you want toowrite event data toolong-term storage, then that storage writer application is a consumer group.</span></span> <span data-ttu-id="30515-184">O processamento de eventos complexos pode então ser executado por outro grupo separado de consumidores.</span><span class="sxs-lookup"><span data-stu-id="30515-184">Complex event processing can then be performed by another, separate consumer group.</span></span> <span data-ttu-id="30515-185">Você pode acessar partições somente por meio de um grupo de consumidores.</span><span class="sxs-lookup"><span data-stu-id="30515-185">You can only access partitions through a consumer group.</span></span> <span data-ttu-id="30515-186">Pode haver no máximo cinco leitores simultâneos em uma partição por grupo de consumidores. No entanto **recomenda-se que haja apenas um receptor ativo em uma partição por grupo de consumidores**.</span><span class="sxs-lookup"><span data-stu-id="30515-186">There can be at most 5 concurrent readers on a partition per consumer group; however **it is recommended that there is only one active receiver on a partition per consumer group**.</span></span> <span data-ttu-id="30515-187">Sempre há um grupo de consumidores padrão em um hub de eventos, e você pode criar os grupos de consumidor too20 para um hub de eventos de camada padrão.</span><span class="sxs-lookup"><span data-stu-id="30515-187">There is always a default consumer group in an event hub, and you can create up too20 consumer groups for a Standard tier event hub.</span></span>

<span data-ttu-id="30515-188">Olá seguem exemplos de convenção de URI do grupo de consumidor de saudação:</span><span class="sxs-lookup"><span data-stu-id="30515-188">hello following are examples of hello consumer group URI convention:</span></span>

```http
//[my namespace].servicebus.windows.net/[event hub name]/[Consumer Group #1]
//[my namespace].servicebus.windows.net/[event hub name]/[Consumer Group #2]
```

<span data-ttu-id="30515-189">Olá figura a seguir mostra arquitetura de processamento de fluxo Olá Hubs de eventos:</span><span class="sxs-lookup"><span data-stu-id="30515-189">hello following figure shows hello Event Hubs stream processing architecture:</span></span>

![Hubs de Eventos](./media/event-hubs-features/event_hubs_architecture.png)

### <a name="stream-offsets"></a><span data-ttu-id="30515-191">Deslocamentos de fluxo</span><span class="sxs-lookup"><span data-stu-id="30515-191">Stream offsets</span></span>

<span data-ttu-id="30515-192">Um *deslocamento* é Olá posição de um evento dentro de uma partição.</span><span class="sxs-lookup"><span data-stu-id="30515-192">An *offset* is hello position of an event within a partition.</span></span> <span data-ttu-id="30515-193">Você pode pensar em um deslocamento como um cursor do lado do cliente.</span><span class="sxs-lookup"><span data-stu-id="30515-193">You can think of an offset as a client-side cursor.</span></span> <span data-ttu-id="30515-194">Olá, deslocamento é um byte numeração de evento hello.</span><span class="sxs-lookup"><span data-stu-id="30515-194">hello offset is a byte numbering of hello event.</span></span> <span data-ttu-id="30515-195">Esse deslocamento permite que um consumidor (leitor) de evento toospecify um ponto no fluxo de eventos de saudação do qual eles desejam toobegin ler eventos.</span><span class="sxs-lookup"><span data-stu-id="30515-195">This offset enables an event consumer (reader) toospecify a point in hello event stream from which they want toobegin reading events.</span></span> <span data-ttu-id="30515-196">Você pode especificar o deslocamento de saudação como um carimbo de hora ou como um valor de deslocamento.</span><span class="sxs-lookup"><span data-stu-id="30515-196">You can specify hello offset as a timestamp or as an offset value.</span></span> <span data-ttu-id="30515-197">Os consumidores são responsáveis por armazenar seu próprios valores de deslocamento fora Olá serviço de Hubs de eventos.</span><span class="sxs-lookup"><span data-stu-id="30515-197">Consumers are responsible for storing their own offset values outside of hello Event Hubs service.</span></span> <span data-ttu-id="30515-198">Dentro de uma partição, cada evento inclui um deslocamento.</span><span class="sxs-lookup"><span data-stu-id="30515-198">Within a partition, each event includes an offset.</span></span>

![Hubs de evento](./media/event-hubs-features/partition_offset.png)

### <a name="checkpointing"></a><span data-ttu-id="30515-200">Ponto de verificação</span><span class="sxs-lookup"><span data-stu-id="30515-200">Checkpointing</span></span>

<span data-ttu-id="30515-201">*Ponto de verificação* é um processo pelo qual os leitores marcam ou confirmam sua posição em uma sequência de eventos da partição.</span><span class="sxs-lookup"><span data-stu-id="30515-201">*Checkpointing* is a process by which readers mark or commit their position within a partition event sequence.</span></span> <span data-ttu-id="30515-202">Ponto de verificação é responsabilidade de saudação do consumidor hello e ocorre em uma base por partição dentro de um grupo de consumidores.</span><span class="sxs-lookup"><span data-stu-id="30515-202">Checkpointing is hello responsibility of hello consumer and occurs on a per-partition basis within a consumer group.</span></span> <span data-ttu-id="30515-203">Essa responsabilidade significa que para cada grupo de consumidores, cada leitor de partição deve manter o controle de sua posição atual no fluxo de eventos Olá e pode informar o serviço hello quando considera que o fluxo de dados Olá concluída.</span><span class="sxs-lookup"><span data-stu-id="30515-203">This responsibility means that for each consumer group, each partition reader must keep track of its current position in hello event stream, and can inform hello service when it considers hello data stream complete.</span></span>

<span data-ttu-id="30515-204">Se um leitor se desconectar de uma partição, quando ele se reconectar e começar a ler no ponto de verificação de saudação que foi anteriormente enviado pelo Olá último leitor dessa partição nesse grupo de consumidores.</span><span class="sxs-lookup"><span data-stu-id="30515-204">If a reader disconnects from a partition, when it reconnects it begins reading at hello checkpoint that was previously submitted by hello last reader of that partition in that consumer group.</span></span> <span data-ttu-id="30515-205">Quando a saudação leitor se conecta, ele passa esse deslocamento toohello evento hub toospecify Olá local no qual a leitura toostart.</span><span class="sxs-lookup"><span data-stu-id="30515-205">When hello reader connects, it passes this offset toohello event hub toospecify hello location at which toostart reading.</span></span> <span data-ttu-id="30515-206">Dessa forma, você pode usar eventos do ponto de verificação tooboth marcados como "Concluir" por aplicativos de downstream e ocorre tooprovide resiliência se um failover entre leitores em execução em máquinas diferentes.</span><span class="sxs-lookup"><span data-stu-id="30515-206">In this way, you can use checkpointing tooboth mark events as "complete" by downstream applications, and tooprovide resiliency if a failover between readers running on different machines occurs.</span></span> <span data-ttu-id="30515-207">É possível tooreturn tooolder dados especificando um deslocamento inferior desse processo de ponto de verificação.</span><span class="sxs-lookup"><span data-stu-id="30515-207">It is possible tooreturn tooolder data by specifying a lower offset from this checkpointing process.</span></span> <span data-ttu-id="30515-208">Por meio desse mecanismo, o ponto de verificação permite resiliência de failover e reprodução de fluxo de eventos.</span><span class="sxs-lookup"><span data-stu-id="30515-208">Through this mechanism, checkpointing enables both failover resiliency and event stream replay.</span></span>

### <a name="common-consumer-tasks"></a><span data-ttu-id="30515-209">Tarefas comuns do consumidor</span><span class="sxs-lookup"><span data-stu-id="30515-209">Common consumer tasks</span></span>

<span data-ttu-id="30515-210">Todos os consumidores de Hubs de Eventos se conectam por meio de uma sessão do AMQP 1.0, um canal de comunicação bidirecional com reconhecimento de estado.</span><span class="sxs-lookup"><span data-stu-id="30515-210">All Event Hubs consumers connect via an AMQP 1.0 session, a state-aware bidirectional communication channel.</span></span> <span data-ttu-id="30515-211">Cada partição tem uma sessão do AMQP 1.0 que facilita o transporte de saudação de eventos separados por partição.</span><span class="sxs-lookup"><span data-stu-id="30515-211">Each partition has an AMQP 1.0 session that facilitates hello transport of events segregated by partition.</span></span>

#### <a name="connect-tooa-partition"></a><span data-ttu-id="30515-212">Conecte-se a partição tooa</span><span class="sxs-lookup"><span data-stu-id="30515-212">Connect tooa partition</span></span>

<span data-ttu-id="30515-213">Ao conectar-se toopartitions, é comum toouse prática uma concessão de partições de toospecific de conexões do mecanismo toocoordinate leitor.</span><span class="sxs-lookup"><span data-stu-id="30515-213">When connecting toopartitions, it is common practice toouse a leasing mechanism toocoordinate reader connections toospecific partitions.</span></span> <span data-ttu-id="30515-214">Dessa forma, é possível para cada partição em um consumidor grupo toohave apenas um leitor ativo.</span><span class="sxs-lookup"><span data-stu-id="30515-214">This way, it is possible for every partition in a consumer group toohave only one active reader.</span></span> <span data-ttu-id="30515-215">Ponto de verificação, aluguel e gerenciamento leitores são simplificados pelo uso Olá [EventProcessorHost](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost) classe para clientes do .NET.</span><span class="sxs-lookup"><span data-stu-id="30515-215">Checkpointing, leasing, and managing readers are simplified by using hello [EventProcessorHost](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost) class for .NET clients.</span></span> <span data-ttu-id="30515-216">Olá Host de processador de eventos é um agente de cliente inteligente.</span><span class="sxs-lookup"><span data-stu-id="30515-216">hello Event Processor Host is an intelligent consumer agent.</span></span>

#### <a name="read-events"></a><span data-ttu-id="30515-217">Ler eventos</span><span class="sxs-lookup"><span data-stu-id="30515-217">Read events</span></span>

<span data-ttu-id="30515-218">Depois que uma sessão do AMQP 1.0 e o link é aberto para uma partição específica, os eventos são entregues cliente toohello AMQP 1.0 pelo Olá serviço de Hubs de eventos.</span><span class="sxs-lookup"><span data-stu-id="30515-218">After an AMQP 1.0 session and link is opened for a specific partition, events are delivered toohello AMQP 1.0 client by hello Event Hubs service.</span></span> <span data-ttu-id="30515-219">Esse mecanismo de entrega permite uma maior taxa de transferência e menor latência que mecanismos baseado em pull, como HTTP GET.</span><span class="sxs-lookup"><span data-stu-id="30515-219">This delivery mechanism enables higher throughput and lower latency than pull-based mechanisms such as HTTP GET.</span></span> <span data-ttu-id="30515-220">Como os eventos são enviados toohello cliente, cada instância de dados do evento contém metadados importantes como o número de deslocamento e de sequência de saudação que são pontos de verificação toofacilitate usada na sequência de eventos de saudação.</span><span class="sxs-lookup"><span data-stu-id="30515-220">As events are sent toohello client, each event data instance contains important metadata such as hello offset and sequence number that are used toofacilitate checkpointing on hello event sequence.</span></span>

<span data-ttu-id="30515-221">Dados de evento:</span><span class="sxs-lookup"><span data-stu-id="30515-221">Event data:</span></span>
* <span data-ttu-id="30515-222">Deslocamento</span><span class="sxs-lookup"><span data-stu-id="30515-222">Offset</span></span>
* <span data-ttu-id="30515-223">Número de sequência</span><span class="sxs-lookup"><span data-stu-id="30515-223">Sequence number</span></span>
* <span data-ttu-id="30515-224">Corpo</span><span class="sxs-lookup"><span data-stu-id="30515-224">Body</span></span>
* <span data-ttu-id="30515-225">Propriedades do usuário</span><span class="sxs-lookup"><span data-stu-id="30515-225">User properties</span></span>
* <span data-ttu-id="30515-226">Propriedades do sistema</span><span class="sxs-lookup"><span data-stu-id="30515-226">System properties</span></span>

<span data-ttu-id="30515-227">É o deslocamento de saudação toomanage responsabilidade.</span><span class="sxs-lookup"><span data-stu-id="30515-227">It is your responsibility toomanage hello offset.</span></span>

## <a name="capacity"></a><span data-ttu-id="30515-228">Capacity</span><span class="sxs-lookup"><span data-stu-id="30515-228">Capacity</span></span>

<span data-ttu-id="30515-229">Hubs de eventos tem uma arquitetura paralela altamente dimensionável e há várias tooconsider fatores importantes ao dimensionar.</span><span class="sxs-lookup"><span data-stu-id="30515-229">Event Hubs has a highly scalable parallel architecture and there are several key factors tooconsider when sizing and scaling.</span></span>

### <a name="throughput-units"></a><span data-ttu-id="30515-230">Unidades de transferência</span><span class="sxs-lookup"><span data-stu-id="30515-230">Throughput units</span></span>

<span data-ttu-id="30515-231">capacidade de rendimento Olá dos Hubs de eventos é controlada pelo *unidades de taxa de transferência*.</span><span class="sxs-lookup"><span data-stu-id="30515-231">hello throughput capacity of Event Hubs is controlled by *throughput units*.</span></span> <span data-ttu-id="30515-232">As unidades de taxa de transferência são unidades de capacidade pré-adquiridas.</span><span class="sxs-lookup"><span data-stu-id="30515-232">Throughput units are pre-purchased units of capacity.</span></span> <span data-ttu-id="30515-233">Uma unidade única de taxa de transferência inclui Olá capacidade a seguir:</span><span class="sxs-lookup"><span data-stu-id="30515-233">A single throughput unit includes hello following capacity:</span></span>

* <span data-ttu-id="30515-234">Entrada: backup too1 MB por segundo ou 1000 eventos por segundo (o que vier primeiro)</span><span class="sxs-lookup"><span data-stu-id="30515-234">Ingress: Up too1 MB per second or 1000 events per second (whichever comes first)</span></span>
* <span data-ttu-id="30515-235">Saída: backup too2 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="30515-235">Egress: Up too2 MB per second</span></span>

<span data-ttu-id="30515-236">Além da capacidade de saudação do hello adquirido unidades de taxa de transferência, a entrada está limitada e um [ServerBusyException](/dotnet/api/microsoft.servicebus.messaging.serverbusyexception) é retornado.</span><span class="sxs-lookup"><span data-stu-id="30515-236">Beyond hello capacity of hello purchased throughput units, ingress is throttled and a [ServerBusyException](/dotnet/api/microsoft.servicebus.messaging.serverbusyexception) is returned.</span></span> <span data-ttu-id="30515-237">Saída não gera exceções de limitação, mas é a capacidade de toohello ainda limitado de saudação adquirida unidades de taxa de transferência.</span><span class="sxs-lookup"><span data-stu-id="30515-237">Egress does not produce throttling exceptions, but is still limited toohello capacity of hello purchased throughput units.</span></span> <span data-ttu-id="30515-238">Se você receber exceções de taxa de publicação ou esperava saída superior toosee, ser toocheck se quantas unidades de taxa de transferência você comprou para o namespace de saudação.</span><span class="sxs-lookup"><span data-stu-id="30515-238">If you receive publishing rate exceptions or are expecting toosee higher egress, be sure toocheck how many throughput units you have purchased for hello namespace.</span></span> <span data-ttu-id="30515-239">Você pode gerenciar as unidades de taxa de transferência em Olá **escala** folha de namespaces Olá Olá [portal do Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="30515-239">You can manage throughput units on hello **Scale** blade of hello namespaces in hello [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="30515-240">Você também pode gerenciar unidades de taxa de transferência programaticamente usando Olá [APIs de Hubs de evento](event-hubs-api-overview.md).</span><span class="sxs-lookup"><span data-stu-id="30515-240">You can also manage throughput units programmatically using hello [Event Hubs APIs](event-hubs-api-overview.md).</span></span>

<span data-ttu-id="30515-241">As unidades de taxa de transferência são cobradas por hora e são pré-adquiridas.</span><span class="sxs-lookup"><span data-stu-id="30515-241">Throughput units are billed per hour and are pre-purchased.</span></span> <span data-ttu-id="30515-242">Depois de adquiridas, as unidades de taxa de transferência são cobradas por um mínimo de uma hora.</span><span class="sxs-lookup"><span data-stu-id="30515-242">Once purchased, throughput units are billed for a minimum of one hour.</span></span> <span data-ttu-id="30515-243">Backup too20 unidades de taxa de transferência podem ser adquiridas para um namespace de Hubs de eventos em são compartilhadas entre todos os Hubs de eventos no namespace de saudação.</span><span class="sxs-lookup"><span data-stu-id="30515-243">Up too20 throughput units can be purchased for an Event Hubs namespace and are shared across all Event Hubs in hello namespace.</span></span>

<span data-ttu-id="30515-244">Mais unidades de taxa de transferência podem ser compradas em blocos de 20 unidades de taxa de transferência too100, entrando em contato com o suporte do Azure.</span><span class="sxs-lookup"><span data-stu-id="30515-244">More throughput units can be purchased in blocks of 20, up too100 throughput units, by contacting Azure support.</span></span> <span data-ttu-id="30515-245">Além disso, você também pode comprar blocos de 100 unidades de transferência.</span><span class="sxs-lookup"><span data-stu-id="30515-245">Beyond that, you can also purchase blocks of 100 throughput units.</span></span>

<span data-ttu-id="30515-246">É recomendável que você equilibre a taxa de transferência partições e unidades tooachieve dimensionamento ideal.</span><span class="sxs-lookup"><span data-stu-id="30515-246">We recommend that you balance throughput units and partitions tooachieve optimal scale.</span></span> <span data-ttu-id="30515-247">Uma única partição tem uma escala máxima de uma unidade de transferência.</span><span class="sxs-lookup"><span data-stu-id="30515-247">A single partition has a maximum scale of one throughput unit.</span></span> <span data-ttu-id="30515-248">Olá número de unidades de taxa de transferência deve ser menor ou igual toohello número de partições em um hub de eventos.</span><span class="sxs-lookup"><span data-stu-id="30515-248">hello number of throughput units should be less than or equal toohello number of partitions in an event hub.</span></span>

<span data-ttu-id="30515-249">Para obter informações detalhadas sobre o preço de Hubs de Eventos, consulte [Preço de Hubs de Eventos](https://azure.microsoft.com/pricing/details/event-hubs/).</span><span class="sxs-lookup"><span data-stu-id="30515-249">For detailed Event Hubs pricing information, see [Event Hubs pricing](https://azure.microsoft.com/pricing/details/event-hubs/).</span></span>

## <a name="next-steps"></a><span data-ttu-id="30515-250">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="30515-250">Next steps</span></span>

<span data-ttu-id="30515-251">Para obter mais informações sobre Hubs de eventos, visite Olá links a seguir:</span><span class="sxs-lookup"><span data-stu-id="30515-251">For more information about Event Hubs, visit hello following links:</span></span>

* <span data-ttu-id="30515-252">Introdução com um [Tutorial de Hubs de Eventos][Event Hubs tutorial]</span><span class="sxs-lookup"><span data-stu-id="30515-252">Get started with an [Event Hubs tutorial][Event Hubs tutorial]</span></span>
* [<span data-ttu-id="30515-253">Guia de programação dos Hubs de Eventos</span><span class="sxs-lookup"><span data-stu-id="30515-253">Event Hubs programming guide</span></span>](event-hubs-programming-guide.md)
* [<span data-ttu-id="30515-254">Disponibilidade e consistência nos Hubs de Eventos</span><span class="sxs-lookup"><span data-stu-id="30515-254">Availability and consistency in Event Hubs</span></span>](event-hubs-availability-and-consistency.md)
* [<span data-ttu-id="30515-255">Perguntas frequentes sobre os Hubs de Eventos</span><span class="sxs-lookup"><span data-stu-id="30515-255">Event Hubs FAQ</span></span>](event-hubs-faq.md)
* <span data-ttu-id="30515-256">[Exemplos de Hubs de Eventos][]</span><span class="sxs-lookup"><span data-stu-id="30515-256">[Event Hubs samples][]</span></span>

[Event Hubs tutorial]: event-hubs-dotnet-standard-getstarted-send.md
[Exemplos de Hubs de Eventos]: https://github.com/Azure/azure-event-hubs/tree/master/samples
