---
title: "aaaGeo escala Distributed com ambientes de serviço de aplicativo"
description: "Saiba como toohorizontally dimensionar aplicativos usando a distribuição geográfica com o Gerenciador de tráfego e ambientes de serviço de aplicativo."
services: app-service
documentationcenter: 
author: stefsch
manager: erikre
editor: 
ms.assetid: c1b05ca8-3703-4d87-a9ae-819d741787fb
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 09/07/2016
ms.author: stefsch
ms.openlocfilehash: 9b441f637d8b7f679b3d83240baf99b8ee57e8f3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="geo-distributed-scale-with-app-service-environments"></a><span data-ttu-id="bab85-103">Escala distribuída geograficamente com ambientes de Serviço de Aplicativo</span><span class="sxs-lookup"><span data-stu-id="bab85-103">Geo Distributed Scale with App Service Environments</span></span>
## <a name="overview"></a><span data-ttu-id="bab85-104">Visão geral</span><span class="sxs-lookup"><span data-stu-id="bab85-104">Overview</span></span>
<span data-ttu-id="bab85-105">Cenários de aplicativos que exigem muito alta escala podem exceder Olá computação capacidade disponível tooa única implantação de recursos de um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="bab85-105">Application scenarios which require very high scale can exceed hello compute resource capacity available tooa single deployment of an app.</span></span>  <span data-ttu-id="bab85-106">Aplicativos de votação, eventos esportivos e de entretenimento televisionados são exemplos de cenários que exigem escala extremamente alta.</span><span class="sxs-lookup"><span data-stu-id="bab85-106">Voting applications, sporting events, and televised entertainment events are all examples of scenarios that require extremely high scale.</span></span> <span data-ttu-id="bab85-107">Requisitos de alta escala podem ser atendidos pela expansão horizontal aplicativos, com várias implantações de aplicativo que está sendo feitas dentro de uma única região, bem como entre regiões, toohandle requisitos de carga extrema.</span><span class="sxs-lookup"><span data-stu-id="bab85-107">High scale requirements can be met by horizontally scaling out apps, with multiple app deployments being made within a single region, as well as across regions, toohandle extreme load requirements.</span></span>

<span data-ttu-id="bab85-108">Ambientes de Serviço de Aplicativo são uma plataforma ideal para escalar horizontalmente.  Depois que uma configuração de ambiente de serviço de aplicativo foi selecionada que pode dar suporte a uma taxa de solicitação conhecido, os desenvolvedores podem implantar os ambientes de serviço de aplicativo adicionais na forma de "cortador" tooattain uma capacidade de carga de pico desejado.</span><span class="sxs-lookup"><span data-stu-id="bab85-108">App Service Environments are an ideal platform for horizontal scale out.  Once an App Service Environment configuration has been selected that can support a known request rate, developers can deploy additional App Service Environments in "cookie cutter" fashion tooattain a desired peak load capacity.</span></span>

<span data-ttu-id="bab85-109">Por exemplo, suponha que um aplicativo em execução em uma configuração de ambiente de serviço de aplicativo foi testado toohandle 20 mil solicitações por segundo (RPS).</span><span class="sxs-lookup"><span data-stu-id="bab85-109">For example suppose an app running on an App Service Environment configuration has been tested toohandle 20K requests per second (RPS).</span></span>  <span data-ttu-id="bab85-110">Se a carga de pico desejado Olá capacidade é de 100 mil RPS, ambientes de serviço de aplicativo cinco (5) podem ser criados e tooensure configurado Olá aplicativo pode lidar com a carga de projetada máximo hello.</span><span class="sxs-lookup"><span data-stu-id="bab85-110">If hello desired peak load capacity is 100K RPS, then five (5) App Service Environments can be created and configured tooensure hello application can handle hello maximum projected load.</span></span>

<span data-ttu-id="bab85-111">Desde que os clientes normalmente usando um domínio personalizado (ou banido), os desenvolvedores de aplicativos de acessar um aplicativo de toodistribute de maneira solicitações em todas as instâncias do ambiente de serviço de aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="bab85-111">Since customers typically access apps using a custom (or vanity) domain, developers need a way toodistribute app requests across all of hello App Service Environment instances.</span></span>  <span data-ttu-id="bab85-112">Tooaccomplish uma ótima maneira que isso é tooresolve Olá domínio personalizado usando um [perfil do Azure Traffic Manager][AzureTrafficManagerProfile].</span><span class="sxs-lookup"><span data-stu-id="bab85-112">A great way tooaccomplish this is tooresolve hello custom domain using an [Azure Traffic Manager profile][AzureTrafficManagerProfile].</span></span>  <span data-ttu-id="bab85-113">Olá Traffic Manager perfil pode ser configurado toopoint todos Olá ambientes de serviço de aplicativo individuais.</span><span class="sxs-lookup"><span data-stu-id="bab85-113">hello Traffic Manager profile can be configured toopoint at all of hello individual App Service Environments.</span></span>  <span data-ttu-id="bab85-114">Gerenciador de tráfego manipula automaticamente a distribuição de clientes em todos os Olá que ambientes de serviço de aplicativo com base em configurações no perfil do Traffic Manager Olá de balanceamento de carga de saudação.</span><span class="sxs-lookup"><span data-stu-id="bab85-114">Traffic Manager will automatically handle distributing customers across all of hello App Service Environments based on hello load balancing settings in hello Traffic Manager profile.</span></span>  <span data-ttu-id="bab85-115">Essa abordagem funciona independentemente de todos os ambientes de serviço de aplicativo hello são implantados em uma única região do Azure, ou em todo o mundo implantados em várias regiões do Azure.</span><span class="sxs-lookup"><span data-stu-id="bab85-115">This approach works regardless of whether all of hello App Service Environments are deployed in a single Azure region, or deployed worldwide across multiple Azure regions.</span></span>

<span data-ttu-id="bab85-116">Além disso, desde que os clientes acessar aplicativos por meio do domínio banido de saudação, os clientes são não sabe nada sobre o número de saudação de ambientes de serviço de aplicativo, um aplicativo em execução.</span><span class="sxs-lookup"><span data-stu-id="bab85-116">Furthermore, since customers access apps through hello vanity domain, customers are unaware of hello number of App Service Environments running an app.</span></span>  <span data-ttu-id="bab85-117">Sendo assim, os desenvolvedores podem adicionar e remover Ambientes de Serviço de Aplicativo rápida e facilmente baseados na carga de tráfego observada.</span><span class="sxs-lookup"><span data-stu-id="bab85-117">As a result developers can quickly and easily add, and remove, App Service Environments based on observed traffic load.</span></span>

<span data-ttu-id="bab85-118">diagrama conceitual de saudação abaixo mostra um aplicativo expandido horizontalmente em três ambientes de serviço de aplicativo dentro de uma única região.</span><span class="sxs-lookup"><span data-stu-id="bab85-118">hello conceptual diagram below depicts an app horizontally scaled out across three App Service Environments within a single region.</span></span>

![Arquitetura conceitual][ConceptualArchitecture] 

<span data-ttu-id="bab85-120">restante deste tópico Olá passo Olá envolvidos com a configuração de uma topologia distribuída para o aplicativo de exemplo hello usando vários ambientes de serviço de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="bab85-120">hello remainder of this topic walks through hello steps involved with setting up a distributed topology for hello sample app using multiple App Service Environments.</span></span>

## <a name="planning-hello-topology"></a><span data-ttu-id="bab85-121">Olá planejamento topologia</span><span class="sxs-lookup"><span data-stu-id="bab85-121">Planning hello Topology</span></span>
<span data-ttu-id="bab85-122">Antes da criação de um volume de aplicativo distribuído, ele ajuda toohave algumas informações de partes antecipadamente.</span><span class="sxs-lookup"><span data-stu-id="bab85-122">Before building out a distributed app footprint, it helps toohave a few pieces information ahead of time.</span></span>

* <span data-ttu-id="bab85-123">**Domínio personalizado para o aplicativo hello:** o que é o nome de domínio personalizado de saudação que os clientes usarão tooaccess Olá aplicativo?</span><span class="sxs-lookup"><span data-stu-id="bab85-123">**Custom domain for hello app:**  What is hello custom domain name that customers will use tooaccess hello app?</span></span>  <span data-ttu-id="bab85-124">Para o domínio personalizado do hello exemplo aplicativo hello nome é *www.scalableasedemo.com*</span><span class="sxs-lookup"><span data-stu-id="bab85-124">For hello sample app hello custom domain name is *www.scalableasedemo.com*</span></span>
* <span data-ttu-id="bab85-125">**Domínio do Traffic Manager:** um nome de domínio precisa toobe escolhida ao criar um [perfil do Azure Traffic Manager][AzureTrafficManagerProfile].</span><span class="sxs-lookup"><span data-stu-id="bab85-125">**Traffic Manager domain:**  A domain name needs toobe chosen when creating an [Azure Traffic Manager profile][AzureTrafficManagerProfile].</span></span>  <span data-ttu-id="bab85-126">Esse nome será combinado com hello *trafficmanager.net* sufixo tooregister uma entrada de domínio que é gerenciada pelo Gerenciador de tráfego.</span><span class="sxs-lookup"><span data-stu-id="bab85-126">This name will be combined with hello *trafficmanager.net* suffix tooregister a domain entry that is managed by Traffic Manager.</span></span>  <span data-ttu-id="bab85-127">Para o aplicativo de exemplo hello, é escolhido de nome hello *demonstração escalonável ase*.</span><span class="sxs-lookup"><span data-stu-id="bab85-127">For hello sample app, hello name chosen is *scalable-ase-demo*.</span></span>  <span data-ttu-id="bab85-128">Como resultado é o nome de domínio completo Olá que é gerenciado pelo Gerenciador de tráfego *demo.trafficmanager.net escalonável ase*.</span><span class="sxs-lookup"><span data-stu-id="bab85-128">As a result hello full domain name that is managed by Traffic Manager is *scalable-ase-demo.trafficmanager.net*.</span></span>
* <span data-ttu-id="bab85-129">**Estratégia para expandir o volume de aplicativo hello:** superfície do aplicativo hello será distribuído em vários ambientes de serviço de aplicativo em uma única região?</span><span class="sxs-lookup"><span data-stu-id="bab85-129">**Strategy for scaling hello app footprint:**  Will hello application footprint be distributed across multiple App Service Environments in a single region?</span></span>  <span data-ttu-id="bab85-130">Várias regiões?</span><span class="sxs-lookup"><span data-stu-id="bab85-130">Multiple regions?</span></span>  <span data-ttu-id="bab85-131">Uma combinação de ambas as abordagens?</span><span class="sxs-lookup"><span data-stu-id="bab85-131">A mix-and-match of both approaches?</span></span>  <span data-ttu-id="bab85-132">decisão de saudação deve ser baseada em expectativas de onde o tráfego de cliente serão originadas, bem como rest Olá bem da infraestrutura de back-end de suporte de um aplicativo pode ser dimensionado.</span><span class="sxs-lookup"><span data-stu-id="bab85-132">hello decision should be based on expectations of where customer traffic will originate, as well as how well hello rest of an app's supporting back-end infrastructure can scale.</span></span>  <span data-ttu-id="bab85-133">Por exemplo, com um aplicativo 100% sem monitoração de estado, ele pode ser altamente dimensionado usando uma combinação de vários Ambientes de Serviço de Aplicativo por região do Azure, multiplicado por Ambientes de Serviço de Aplicativo implantado em várias regiões do Azure.</span><span class="sxs-lookup"><span data-stu-id="bab85-133">For example, with a 100% stateless application, an app can be massively scaled using a combination of multiple App Service Environments per Azure region,  multiplied by App Service Environments deployed across multiple Azure regions.</span></span>  <span data-ttu-id="bab85-134">Com 15 + pública regiões do Azure toochoose disponíveis do, os clientes podem realmente criar uma superfície de aplicativo do hyper-escala em todo o mundo.</span><span class="sxs-lookup"><span data-stu-id="bab85-134">With 15+ public Azure regions available toochoose from, customers can truly build a world-wide hyper-scale application footprint.</span></span>  <span data-ttu-id="bab85-135">Para o aplicativo de exemplo hello usado para este artigo, três ambientes de serviço de aplicativo foram criados em uma única região do Azure (Centro Sul dos EUA).</span><span class="sxs-lookup"><span data-stu-id="bab85-135">For hello sample app used for this article, three App Service Environments were created in a single Azure region (South Central US).</span></span>
* <span data-ttu-id="bab85-136">**Convenção de nomenclatura para Olá ambientes de serviço de aplicativo:** cada ambiente de serviço de aplicativo requer um nome exclusivo.</span><span class="sxs-lookup"><span data-stu-id="bab85-136">**Naming convention for hello App Service Environments:**  Each App Service Environment requires a unique name.</span></span>  <span data-ttu-id="bab85-137">Além de um ou dois ambientes de serviço de aplicativo é útil toohave uma convenção de nomenclatura toohelp identificar cada ambiente de serviço de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="bab85-137">Beyond one or two App Service Environments it is helpful toohave a naming convention toohelp identify each App Service Environment.</span></span>  <span data-ttu-id="bab85-138">Para o aplicativo de exemplo hello uma convenção de nomenclatura simple foi usada.</span><span class="sxs-lookup"><span data-stu-id="bab85-138">For hello sample app a simple naming convention was used.</span></span>  <span data-ttu-id="bab85-139">Olá nomes de saudação três ambientes de serviço de aplicativo são *fe1ase*, *fe2ase*, e *fe3ase*.</span><span class="sxs-lookup"><span data-stu-id="bab85-139">hello names of hello three App Service Environments are *fe1ase*, *fe2ase*, and *fe3ase*.</span></span>
* <span data-ttu-id="bab85-140">**Convenção de nomenclatura para aplicativos Olá:** como várias instâncias do aplicativo hello serão implantadas, é necessário um nome para cada instância do aplicativo hello implantado.</span><span class="sxs-lookup"><span data-stu-id="bab85-140">**Naming convention for hello apps:**  Since multiple instances of hello app will be deployed, a name is needed for each instance of hello deployed app.</span></span>  <span data-ttu-id="bab85-141">Um recurso muito conveniente, mas pouco conhecidos de ambientes de serviço de aplicativo é que hello mesmo nome de aplicativo pode ser usado em vários ambientes de serviço de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="bab85-141">One little-known but very convenient feature of App Service Environments is that hello same app name can be used across multiple App Service Environments.</span></span>  <span data-ttu-id="bab85-142">Como cada ambiente de serviço de aplicativo tem um sufixo de domínio exclusivo, os desenvolvedores podem optar usar toore Olá exatamente o mesmo aplicativo nome em cada ambiente.</span><span class="sxs-lookup"><span data-stu-id="bab85-142">Since each App Service Environment has a unique domain suffix, developers can choose toore-use hello exact same app name in each environment.</span></span>  <span data-ttu-id="bab85-143">Por exemplo um desenvolvedor poderia ter aplicativos nomeados da seguinte forma: *myapp.foo1.p.azurewebsites.net*, *myapp.foo2.p.azurewebsites.net*, *myapp.foo3.p.azurewebsites.net* etc.  Para o aplicativo de exemplo hello Embora cada instância do aplicativo também tem um nome exclusivo.</span><span class="sxs-lookup"><span data-stu-id="bab85-143">For example a developer could have apps named as follows:  *myapp.foo1.p.azurewebsites.net*, *myapp.foo2.p.azurewebsites.net*, *myapp.foo3.p.azurewebsites.net*, etc.  For hello sample app though each app instance also has a unique name.</span></span>  <span data-ttu-id="bab85-144">Olá nomes de instância de aplicativo usados são *webfrontend1*, *webfrontend2*, e *webfrontend3*.</span><span class="sxs-lookup"><span data-stu-id="bab85-144">hello app instance names used are *webfrontend1*, *webfrontend2*, and *webfrontend3*.</span></span>

## <a name="setting-up-hello-traffic-manager-profile"></a><span data-ttu-id="bab85-145">Configurando Olá perfil do Traffic Manager</span><span class="sxs-lookup"><span data-stu-id="bab85-145">Setting up hello Traffic Manager Profile</span></span>
<span data-ttu-id="bab85-146">Quando várias instâncias de um aplicativo são implantadas em vários ambientes de serviço de aplicativo, instâncias de aplicativos individuais Olá podem ser registradas com o Gerenciador de tráfego.</span><span class="sxs-lookup"><span data-stu-id="bab85-146">Once multiple instances of an app are deployed on multiple App Service Environments, hello  individual app instances can be registered with Traffic Manager.</span></span>  <span data-ttu-id="bab85-147">Para o aplicativo de exemplo hello um Gerenciador de tráfego de perfil é necessária para *demo.trafficmanager.net escalonável ase* que pode rotear as instâncias de aplicativo tooany de saudação seguir implantado os clientes:</span><span class="sxs-lookup"><span data-stu-id="bab85-147">For hello sample app a Traffic Manager profile is needed for *scalable-ase-demo.trafficmanager.net* that can route customers tooany of hello following deployed app instances:</span></span>

* <span data-ttu-id="bab85-148">**webfrontend1.fe1ase.p.azurewebsites.NET:** uma instância do aplicativo de exemplo hello implantado em Olá primeiro ambiente de serviço de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="bab85-148">**webfrontend1.fe1ase.p.azurewebsites.net:**  An instance of hello sample app deployed on hello first App Service Environment.</span></span>
* <span data-ttu-id="bab85-149">**webfrontend2.fe2ase.p.azurewebsites.NET:** uma instância do aplicativo de exemplo hello implantado em Olá segundo ambiente de serviço de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="bab85-149">**webfrontend2.fe2ase.p.azurewebsites.net:**  An instance of hello sample app deployed on hello second App Service Environment.</span></span>
* <span data-ttu-id="bab85-150">**webfrontend3.fe3ase.p.azurewebsites.NET:** uma instância do aplicativo de exemplo hello implantado em Olá terceiro ambiente de serviço de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="bab85-150">**webfrontend3.fe3ase.p.azurewebsites.net:**  An instance of hello sample app deployed on hello third App Service Environment.</span></span>

<span data-ttu-id="bab85-151">Olá tooregister de maneira mais fácil vários do serviço de aplicativo do Azure pontos de extremidade, todos executados no hello **mesmo** região do Azure, está com hello Powershell [suporte do Gerenciador de tráfego do Azure Resource Manager] [ ARMTrafficManager].</span><span class="sxs-lookup"><span data-stu-id="bab85-151">hello easiest way tooregister multiple Azure App Service endpoints, all running in hello **same** Azure region, is with hello Powershell [Azure Resource Manager Traffic Manager support][ARMTrafficManager].</span></span>  

<span data-ttu-id="bab85-152">Olá primeira etapa é toocreate um perfil do Gerenciador de tráfego do Azure.</span><span class="sxs-lookup"><span data-stu-id="bab85-152">hello first step is toocreate an Azure Traffic Manager profile.</span></span>  <span data-ttu-id="bab85-153">Olá código a seguir mostra como o perfil de saudação foi criado para o aplicativo de exemplo hello:</span><span class="sxs-lookup"><span data-stu-id="bab85-153">hello code below shows how hello profile was created for hello sample app:</span></span>

    $profile = New-AzureTrafficManagerProfile –Name scalableasedemo -ResourceGroupName yourRGNameHere -TrafficRoutingMethod Weighted -RelativeDnsName scalable-ase-demo -Ttl 30 -MonitorProtocol HTTP -MonitorPort 80 -MonitorPath "/"

<span data-ttu-id="bab85-154">Observe como Olá *RelativeDnsName* parâmetro foi definido muito*demonstração escalonável ase*.</span><span class="sxs-lookup"><span data-stu-id="bab85-154">Notice how hello *RelativeDnsName* parameter was set too*scalable-ase-demo*.</span></span>  <span data-ttu-id="bab85-155">Isso é hello como o nome de domínio *demo.trafficmanager.net escalonável ase* é criado e associado a um perfil do Gerenciador de tráfego.</span><span class="sxs-lookup"><span data-stu-id="bab85-155">This is how hello domain name *scalable-ase-demo.trafficmanager.net* is created and associated with a Traffic Manager profile.</span></span>

<span data-ttu-id="bab85-156">Olá *TrafficRoutingMethod* parâmetro define a política do Traffic Manager usará toodetermine como cliente toospread de carga em todos os pontos de extremidade disponíveis Olá de balanceamento de carga de saudação.</span><span class="sxs-lookup"><span data-stu-id="bab85-156">hello *TrafficRoutingMethod* parameter defines hello load balancing policy Traffic Manager will use toodetermine how toospread customer load across all of hello available endpoints.</span></span>  <span data-ttu-id="bab85-157">Em Olá Este exemplo *ponderado* método foi escolhido.</span><span class="sxs-lookup"><span data-stu-id="bab85-157">In this example hello *Weighted* method was chosen.</span></span>  <span data-ttu-id="bab85-158">Isso resultará em solicitações de cliente que estão sendo distribuídas em todos os pontos de extremidade do aplicativo hello registrado com base nos níveis de importância relativa Olá associados a cada ponto de extremidade.</span><span class="sxs-lookup"><span data-stu-id="bab85-158">This will result in customer requests being spread across all of hello registered application endpoints based on hello relative weights associated with each endpoint.</span></span> 

<span data-ttu-id="bab85-159">Com o perfil de saudação criado, cada instância do aplicativo é adicionada toohello perfil como um ponto de extremidade do Azure nativo.</span><span class="sxs-lookup"><span data-stu-id="bab85-159">With hello profile created, each app instance is added toohello profile as a native Azure endpoint.</span></span>  <span data-ttu-id="bab85-160">Olá código abaixo busca um aplicativo web de front-end de tooeach de referência e, em seguida, adiciona cada aplicativo como um ponto de extremidade do Gerenciador de tráfego por meio da saudação *TargetResourceId* parâmetro.</span><span class="sxs-lookup"><span data-stu-id="bab85-160">hello code below fetches a reference tooeach front end web app, and then adds each app as a Traffic Manager endpoint by way of hello *TargetResourceId* parameter.</span></span>

    $webapp1 = Get-AzureRMWebApp -Name webfrontend1
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend1 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp1.Id –EndpointStatus Enabled –Weight 10

    $webapp2 = Get-AzureRMWebApp -Name webfrontend2
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend2 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp2.Id –EndpointStatus Enabled –Weight 10

    $webapp3 = Get-AzureRMWebApp -Name webfrontend3
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend3 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp3.Id –EndpointStatus Enabled –Weight 10

    Set-AzureTrafficManagerProfile –TrafficManagerProfile $profile

<span data-ttu-id="bab85-161">Observe como não há uma chamada muito*AzureTrafficManagerEndpointConfig adicionar* para cada instância de aplicativo individuais.</span><span class="sxs-lookup"><span data-stu-id="bab85-161">Notice how there is one call too*Add-AzureTrafficManagerEndpointConfig* for each individual app instance.</span></span>  <span data-ttu-id="bab85-162">Olá *TargetResourceId* em cada comando Powershell faz referência a uma das três instâncias de aplicativo implantado hello.</span><span class="sxs-lookup"><span data-stu-id="bab85-162">hello *TargetResourceId* parameter in each Powershell command references one of hello three deployed app instances.</span></span>  <span data-ttu-id="bab85-163">Olá perfil do Traffic Manager distribuirão a carga entre todos os três pontos de extremidade registrados no perfil de saudação.</span><span class="sxs-lookup"><span data-stu-id="bab85-163">hello Traffic Manager profile will spread load across all three endpoints registered in hello profile.</span></span>

<span data-ttu-id="bab85-164">Todos Olá três pontos de extremidade usam Olá mesmo valor (10) para Olá *peso* parâmetro.</span><span class="sxs-lookup"><span data-stu-id="bab85-164">All of hello three endpoints use hello same value (10) for hello *Weight* parameter.</span></span>  <span data-ttu-id="bab85-165">Isso faz com que o Gerenciador de Tráfego distribua as solicitações de cliente entre todas as três instâncias do aplicativo de forma quase igual.</span><span class="sxs-lookup"><span data-stu-id="bab85-165">This results in Traffic Manager spreading customer requests across all three app instances relatively evenly.</span></span> 

## <a name="pointing-hello-apps-custom-domain-at-hello-traffic-manager-domain"></a><span data-ttu-id="bab85-166">Apontar um domínio personalizado de saudação do aplicativo no hello domínio do Traffic Manager</span><span class="sxs-lookup"><span data-stu-id="bab85-166">Pointing hello App's Custom Domain at hello Traffic Manager Domain</span></span>
<span data-ttu-id="bab85-167">etapa final da saudação necessário é toopoint Olá domínio personalizado aplicativo hello no domínio do Traffic Manager hello.</span><span class="sxs-lookup"><span data-stu-id="bab85-167">hello final step necessary is toopoint hello custom domain of hello app at hello Traffic Manager domain.</span></span>  <span data-ttu-id="bab85-168">Para o aplicativo de exemplo hello significa apontar *www.scalableasedemo.com* em *demo.trafficmanager.net escalonável ase*.</span><span class="sxs-lookup"><span data-stu-id="bab85-168">For hello sample app this means pointing *www.scalableasedemo.com* at *scalable-ase-demo.trafficmanager.net*.</span></span>  <span data-ttu-id="bab85-169">Esta etapa deve toobe concluída com o registrador de saudação que gerencia o domínio personalizado hello.</span><span class="sxs-lookup"><span data-stu-id="bab85-169">This step needs toobe completed with hello domain registrar that manages hello custom domain.</span></span>  

<span data-ttu-id="bab85-170">Usando ferramentas de gerenciamento de domínio do seu registrador de domínio, um toobe de necessidades de registros CNAME quais pontos Olá domínio personalizado criado no domínio do Traffic Manager hello.</span><span class="sxs-lookup"><span data-stu-id="bab85-170">Using your registrar's domain management tools, a CNAME records needs toobe created which points hello custom domain at hello Traffic Manager domain.</span></span>  <span data-ttu-id="bab85-171">imagem de saudação abaixo mostra um exemplo de como essa configuração de CNAME aparece:</span><span class="sxs-lookup"><span data-stu-id="bab85-171">hello picture below shows an example of what this CNAME configuration looks like:</span></span>

![CNAME para um domínio personalizado][CNAMEforCustomDomain] 

<span data-ttu-id="bab85-173">Embora não abordados neste tópico, lembre-se de que cada instância de aplicativo individuais precisa de domínio personalizado de saudação toohave registrado com ele também.</span><span class="sxs-lookup"><span data-stu-id="bab85-173">Although not covered in this topic, remember that each individual app instance needs toohave hello custom domain registered with it as well.</span></span>  <span data-ttu-id="bab85-174">Caso contrário, se uma solicitação torna tooan instância de aplicativo, e o aplicativo hello não tem um domínio personalizado de Olá registrado com um aplicativo hello, solicitação Olá falhará.</span><span class="sxs-lookup"><span data-stu-id="bab85-174">Otherwise if a request makes it tooan app instance, and hello application does not have hello custom domain registered with hello app, hello request will fail.</span></span>  

<span data-ttu-id="bab85-175">Olá Este exemplo domínio personalizado é *www.scalableasedemo.com*, e cada instância de aplicativo tem o domínio personalizado de saudação associado a ele.</span><span class="sxs-lookup"><span data-stu-id="bab85-175">In this example hello custom domain is *www.scalableasedemo.com*, and each application instance has hello custom domain associated with it.</span></span>

![Domínio personalizado][CustomDomain] 

<span data-ttu-id="bab85-177">Para uma recapitulação de registro de um domínio personalizado com aplicativos de serviço de aplicativo do Azure, consulte Olá artigo a seguir [registrar domínios personalizados][RegisterCustomDomain].</span><span class="sxs-lookup"><span data-stu-id="bab85-177">For a recap of of registering a custom domain with Azure App Service apps, see hello following article on [registering custom domains][RegisterCustomDomain].</span></span>

## <a name="trying-out-hello-distributed-topology"></a><span data-ttu-id="bab85-178">Experimentar Olá topologia distribuída</span><span class="sxs-lookup"><span data-stu-id="bab85-178">Trying out hello Distributed Topology</span></span>
<span data-ttu-id="bab85-179">Olá resultado final da configuração de saudação do Traffic Manager e o DNS é que as solicitações de *www.scalableasedemo.com* fluirá pelo Olá sequência a seguir:</span><span class="sxs-lookup"><span data-stu-id="bab85-179">hello end result of hello Traffic Manager and DNS configuration is that requests for *www.scalableasedemo.com* will flow through hello following sequence:</span></span>

1. <span data-ttu-id="bab85-180">Um navegador ou dispositivo fará uma pesquisa de DNS para *www.scalableasedemo.com*</span><span class="sxs-lookup"><span data-stu-id="bab85-180">A browser or device will make a DNS lookup for *www.scalableasedemo.com*</span></span>
2. <span data-ttu-id="bab85-181">Olá entrada CNAME no registrador de domínio Olá faz com que Olá DNS pesquisa toobe redirecionado tooAzure Gerenciador de tráfego.</span><span class="sxs-lookup"><span data-stu-id="bab85-181">hello CNAME entry at hello domain registrar causes hello DNS lookup toobe redirected tooAzure Traffic Manager.</span></span>
3. <span data-ttu-id="bab85-182">Uma pesquisa de DNS é feita *demo.trafficmanager.net escalonável ase* em relação a um dos servidores de DNS do Azure Traffic Manager hello.</span><span class="sxs-lookup"><span data-stu-id="bab85-182">A DNS lookup is made for *scalable-ase-demo.trafficmanager.net* against one of hello Azure Traffic Manager DNS servers.</span></span>
4. <span data-ttu-id="bab85-183">Com base na política de balanceamento de carga de saudação (Olá *TrafficRoutingMethod* parâmetro usado anteriormente durante a criação de perfil do Gerenciador de tráfego de saudação), Gerenciador de tráfego será selecione um dos Olá configurado pontos de extremidade e retorna Olá FQDN do que dispositivo ou navegador de toohello do ponto de extremidade.</span><span class="sxs-lookup"><span data-stu-id="bab85-183">Based on hello load balancing policy (hello *TrafficRoutingMethod* parameter used earlier when creating hello Traffic Manager profile), Traffic Manager will select one of hello configured endpoints and return hello FQDN of that endpoint toohello browser or device.</span></span>
5. <span data-ttu-id="bab85-184">Como Olá FQDN do ponto de extremidade Olá Olá Url de uma instância de aplicativo em execução em um ambiente de serviço de aplicativo, hello dispositivo ou navegador solicitará um servidor DNS do Microsoft Azure tooresolve Olá endereço IP do FQDN tooan.</span><span class="sxs-lookup"><span data-stu-id="bab85-184">Since hello FQDN of hello endpoint is hello Url of an app instance running on an App Service Environment, hello browser or device will ask a Microsoft Azure DNS server tooresolve hello FQDN tooan IP address.</span></span> 
6. <span data-ttu-id="bab85-185">dispositivo ou navegador Olá enviará o endereço IP do hello HTTP/S solicitação toohello.</span><span class="sxs-lookup"><span data-stu-id="bab85-185">hello browser or device will send hello HTTP/S request toohello IP address.</span></span>  
7. <span data-ttu-id="bab85-186">solicitação de saudação chegará em uma das instâncias de aplicativo hello em execução em uma saudação ambientes de serviço de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="bab85-186">hello request will arrive at one of hello app instances running on one of hello App Service Environments.</span></span>

<span data-ttu-id="bab85-187">Olá, console figura abaixo mostra uma pesquisa de DNS domínio personalizado com êxito a resolução tooan aplicativo instância do aplicativo de exemplo hello em execução em um exemplo de hello três ambientes de serviço de aplicativo (neste caso Olá segundo de saudação três ambientes de serviço de aplicativo):</span><span class="sxs-lookup"><span data-stu-id="bab85-187">hello console picture below shows a DNS lookup for hello sample app's custom domain successfully resolving tooan app instance running on one of hello three sample App Service Environments (in this case hello second of hello three App Service Environments):</span></span>

![Pesquisa de DNS][DNSLookup] 

## <a name="additional-links-and-information"></a><span data-ttu-id="bab85-189">Informações e links adicionais</span><span class="sxs-lookup"><span data-stu-id="bab85-189">Additional Links and Information</span></span>
<span data-ttu-id="bab85-190">Todos os artigos e como-para para ambientes de serviço de aplicativo estão disponíveis no hello [Leiame para ambientes de serviço de aplicativo](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="bab85-190">All articles and How-To's for App Service Environments are available in hello [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

<span data-ttu-id="bab85-191">Documentação sobre Olá Powershell [suporte do Gerenciador de tráfego do Azure Resource Manager][ARMTrafficManager].</span><span class="sxs-lookup"><span data-stu-id="bab85-191">Documentation on hello Powershell [Azure Resource Manager Traffic Manager support][ARMTrafficManager].</span></span>  

[!INCLUDE [app-service-web-whats-changed](../../includes/app-service-web-whats-changed.md)]

[!INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]

<!-- LINKS -->
[AzureTrafficManagerProfile]: ../traffic-manager/traffic-manager-manage-profiles.md
[ARMTrafficManager]: ../traffic-manager/traffic-manager-powershell-arm.md
[RegisterCustomDomain]: app-service-web-tutorial-custom-domain.md


<!-- IMAGES -->
[ConceptualArchitecture]: ./media/app-service-app-service-environment-geo-distributed-scale/ConceptualArchitecture-1.png
[CNAMEforCustomDomain]:  ./media/app-service-app-service-environment-geo-distributed-scale/CNAMECustomDomain-1.png
[DNSLookup]:  ./media/app-service-app-service-environment-geo-distributed-scale/DNSLookup-1.png
[CustomDomain]:  ./media/app-service-app-service-environment-geo-distributed-scale/CustomDomain-1.png 
