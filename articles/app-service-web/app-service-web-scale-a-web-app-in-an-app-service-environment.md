---
title: "Como escalar um aplicativo em um Ambiente do Serviço de Aplicativo"
description: "Escalando um aplicativo em um Ambiente do Serviço de Aplicativo"
services: app-service
documentationcenter: 
author: ccompy
manager: stefsch
editor: jimbe
ms.assetid: 78eb1e49-4fcd-49e7-b3c7-f1906f0f22e3
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 10/17/2016
ms.author: ccompy
ms.openlocfilehash: 240c2486c23b7cd84e2471bf5b2170e08ee1f150
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="scaling-apps-in-an-app-service-environment"></a><span data-ttu-id="06c9f-103">Escalando aplicativos em um Ambiente do Serviço de Aplicativo</span><span class="sxs-lookup"><span data-stu-id="06c9f-103">Scaling apps in an App Service Environment</span></span>
<span data-ttu-id="06c9f-104">No Serviço de Aplicativo do Azure normalmente há três itens que você pode dimensionar:</span><span class="sxs-lookup"><span data-stu-id="06c9f-104">In the Azure App Service there are normally three things you can scale:</span></span>

* <span data-ttu-id="06c9f-105">plano de preços</span><span class="sxs-lookup"><span data-stu-id="06c9f-105">pricing plan</span></span>
* <span data-ttu-id="06c9f-106">tamanho do trabalho</span><span class="sxs-lookup"><span data-stu-id="06c9f-106">worker size</span></span> 
* <span data-ttu-id="06c9f-107">número de instâncias.</span><span class="sxs-lookup"><span data-stu-id="06c9f-107">number of instances.</span></span>

<span data-ttu-id="06c9f-108">Em um ASE não é necessário selecionar ou alterar o plano de preços.</span><span class="sxs-lookup"><span data-stu-id="06c9f-108">In an ASE there is no need to select or change the pricing plan.</span></span>  <span data-ttu-id="06c9f-109">Em termos de recursos, ele já está no nível de recurso de preços Premium.</span><span class="sxs-lookup"><span data-stu-id="06c9f-109">In terms of capabilities it is already at a Premium pricing capability level.</span></span>  

<span data-ttu-id="06c9f-110">Com relação aos tamanhos de trabalho, o administrador do ASE pode atribuir o tamanho do recurso de computação a ser usado para cada pool de trabalho.</span><span class="sxs-lookup"><span data-stu-id="06c9f-110">With respect to worker sizes, the ASE admin can assign the size of the compute resource to be used for each worker pool.</span></span>  <span data-ttu-id="06c9f-111">Isso significa que você pode ter o Pool de Trabalhadores 1 com recursos de computação P4 e o Pool de Trabalhadores 2 com recursos de computação P1, se desejado.</span><span class="sxs-lookup"><span data-stu-id="06c9f-111">That means you can have Worker Pool 1 with P4 compute resources and Worker Pool 2 with P1 compute resources, if desired.</span></span>  <span data-ttu-id="06c9f-112">Eles não precisam estar em ordem de tamanho.</span><span class="sxs-lookup"><span data-stu-id="06c9f-112">They do not have to be in size order.</span></span>  <span data-ttu-id="06c9f-113">Para obter detalhes sobre os tamanhos e seus preços, confira o documento aqui [Preços do Serviço de Aplicativo do Azure][AppServicePricing].</span><span class="sxs-lookup"><span data-stu-id="06c9f-113">For details around the sizes and their pricing see the document here [Azure App Service Pricing][AppServicePricing].</span></span>  <span data-ttu-id="06c9f-114">Isso deixa as opções de dimensionamento para aplicativos Web e Planos do Serviço de Aplicativo em um Ambiente do Serviço de Aplicativo sendo:</span><span class="sxs-lookup"><span data-stu-id="06c9f-114">This leaves the scaling options for web apps and App Service Plans in an App Service Environment to be:</span></span>

* <span data-ttu-id="06c9f-115">seleção do pool de trabalhadores</span><span class="sxs-lookup"><span data-stu-id="06c9f-115">worker pool selection</span></span>
* <span data-ttu-id="06c9f-116">número de instâncias</span><span class="sxs-lookup"><span data-stu-id="06c9f-116">number of instances</span></span>

<span data-ttu-id="06c9f-117">A alteração de qualquer um dos itens é feita por meio da interface do usuário apropriada mostrada para os seus Planos do Serviço de Aplicativo hospedados no ASE.</span><span class="sxs-lookup"><span data-stu-id="06c9f-117">Changing either item is done through the appropriate UI shown for your ASE hosted App Service Plans.</span></span>  

![][1]

<span data-ttu-id="06c9f-118">Você não pode escalar verticalmente seu ASP além do número de recursos de computação disponíveis no pool de trabalho em que o ASP está localizado.</span><span class="sxs-lookup"><span data-stu-id="06c9f-118">You can't scale up your ASP beyond the number of available compute resources in the worker pool that your ASP is in.</span></span>  <span data-ttu-id="06c9f-119">Se precisar de recursos de computação no pool de trabalho, providencie para que o administrador do ASE os adicione.</span><span class="sxs-lookup"><span data-stu-id="06c9f-119">If you need compute resources in that worker pool you need to get your ASE administrator to add them.</span></span>  <span data-ttu-id="06c9f-120">Para obter informações sobre a reconfiguração de seu ASE, leia as informações fornecidas aqui: [Como configurar um ambiente do Serviço de Aplicativo][HowtoConfigureASE].</span><span class="sxs-lookup"><span data-stu-id="06c9f-120">For information around re-configuring your ASE read the information here: [How to Configure an App Service environment][HowtoConfigureASE].</span></span>  <span data-ttu-id="06c9f-121">Também convém aproveitar os recursos de autoescala do ASE para adicionar capacidade com base no agendamento ou em métricas.</span><span class="sxs-lookup"><span data-stu-id="06c9f-121">You may also want to take advantage of the ASE autoscale features to add capacity based on schedule or metrics.</span></span>  <span data-ttu-id="06c9f-122">Para obter mais detalhes sobre como configurar a autoescala para o ambiente ASE propriamente dito, confira [Como configurar a autoescala para um Ambiente do Serviço de Aplicativo][ASEAutoscale].</span><span class="sxs-lookup"><span data-stu-id="06c9f-122">To get more details on configuring autoscale for the ASE environment itself see [How to configure autoscale for an App Service Environment][ASEAutoscale].</span></span>

<span data-ttu-id="06c9f-123">Você pode criar vários planos de serviço de aplicativo usando recursos de computação de pools de trabalho diferentes, ou pode usar o mesmo pool de trabalho.</span><span class="sxs-lookup"><span data-stu-id="06c9f-123">You can create multiple app service plans using compute resources from different worker pools, or you can use the same worker pool.</span></span>  <span data-ttu-id="06c9f-124">Por exemplo, se tiver (10) recursos de computação disponíveis no Pool de trabalho 1, você poderá optar por criar um plano de serviço de aplicativo que usa (6) recursos de computação e um segundo plano de serviço de aplicativo que usa (4) recursos de computação.</span><span class="sxs-lookup"><span data-stu-id="06c9f-124">For example if you have (10) available compute resources in Worker Pool 1, you can choose to create one app service plan using (6) compute resources, and a second app service plan that uses (4) compute resources.</span></span>

### <a name="scaling-the-number-of-instances"></a><span data-ttu-id="06c9f-125">Dimensionando o número de instâncias</span><span class="sxs-lookup"><span data-stu-id="06c9f-125">Scaling the number of instances</span></span>
<span data-ttu-id="06c9f-126">Quando você cria seu aplicativo Web em um Ambiente do Serviço de Aplicativo, ele começa com uma instância.</span><span class="sxs-lookup"><span data-stu-id="06c9f-126">When you first create your web app in an App Service Environment it starts with 1 instance.</span></span>  <span data-ttu-id="06c9f-127">Em seguida, você pode escalar horizontalmente para mais instâncias a fim de fornecer recursos de computação adicionais para seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="06c9f-127">You can then scale out to additional instances to provide additional compute resources for your app.</span></span>   

<span data-ttu-id="06c9f-128">Se seu ASE tiver capacidade suficiente, isso é muito simples.</span><span class="sxs-lookup"><span data-stu-id="06c9f-128">If your ASE has enough capacity then this is pretty simple.</span></span>  <span data-ttu-id="06c9f-129">Acesse seu Plano do Serviço de Aplicativo que contém os sites que você deseja escalar verticalmente e selecione Escala.</span><span class="sxs-lookup"><span data-stu-id="06c9f-129">You go to your App Service Plan that holds the sites you want to scale up and select Scale.</span></span>  <span data-ttu-id="06c9f-130">Isso abre a interface do usuário em que você pode definir manualmente a escala para o ASP ou configurar as regras de autoescala para ele.</span><span class="sxs-lookup"><span data-stu-id="06c9f-130">This opens the UI where you can manually set the scale for your ASP or configure autoscale rules for your ASP.</span></span>  <span data-ttu-id="06c9f-131">Para escalar manualmente seu aplicativo, basta definir ***Escalar por*** como ***uma contagem de instância inserida manualmente***.</span><span class="sxs-lookup"><span data-stu-id="06c9f-131">To manually scale your app simply set ***Scale by*** to ***an instance count that I enter manually***.</span></span>  <span data-ttu-id="06c9f-132">Daqui, arraste o controle deslizante para a quantidade desejada ou insira-a na caixa ao lado do controle deslizante.</span><span class="sxs-lookup"><span data-stu-id="06c9f-132">From here either drag the slider to the desired quantity or enter it in the box next to the slider.</span></span>  

![][2] 

<span data-ttu-id="06c9f-133">As regras de autoescala para um ASP em um ASE funcionam da mesma forma que em uma condição normal.</span><span class="sxs-lookup"><span data-stu-id="06c9f-133">The autoscale rules for an ASP in an ASE work the same as they do normally.</span></span>  <span data-ttu-id="06c9f-134">É possível selecionar ***Percentual de CPU*** em ***Escalar por*** e criar regras de autoescala para o ASP com base no percentual de CPU ou criar regras mais complexas usando ***regras de agendamento e desempenho***.</span><span class="sxs-lookup"><span data-stu-id="06c9f-134">You can select ***CPU Percentage*** under ***Scale by*** and create autoscale rules for your ASP based on CPU Percentage or you can create more complex rules using ***schedule and performance rules***.</span></span>  <span data-ttu-id="06c9f-135">Para ver detalhes mais completos sobre como configurar a autoescala, use o guia [Escalar um aplicativo no Serviço de Aplicativo do Azure][AppScale].</span><span class="sxs-lookup"><span data-stu-id="06c9f-135">To see more complete details on configuring autoscale use the guide here [Scale an app in Azure App Service][AppScale].</span></span> 

### <a name="worker-pool-selection"></a><span data-ttu-id="06c9f-136">seleção do pool de trabalhadores</span><span class="sxs-lookup"><span data-stu-id="06c9f-136">Worker Pool selection</span></span>
<span data-ttu-id="06c9f-137">Como observamos anteriormente, a seleção do pool de trabalho é acessada da interface do usuário do ASP.</span><span class="sxs-lookup"><span data-stu-id="06c9f-137">As noted earlier, the worker pool selection is accessed from the ASP UI.</span></span>  <span data-ttu-id="06c9f-138">Abra a folha do ASP que deseja escalar e selecione o pool de trabalho.</span><span class="sxs-lookup"><span data-stu-id="06c9f-138">Open the blade for the ASP that you want to scale and select worker pool.</span></span>  <span data-ttu-id="06c9f-139">Você verá todos os pools de trabalhadores que configurou no seu Ambiente do Serviço de Aplicativo.</span><span class="sxs-lookup"><span data-stu-id="06c9f-139">You will see all of the worker pools which you have configured in your App Service Environment.</span></span>  <span data-ttu-id="06c9f-140">Se você tiver somente um pool de trabalhadores, verá somente o pool listado.</span><span class="sxs-lookup"><span data-stu-id="06c9f-140">If you have only one worker pool then you will only see the one pool listed.</span></span>  <span data-ttu-id="06c9f-141">Para alterar a localização de pool de trabalho do ASP, basta selecionar o pool de trabalho para o qual deseja mover seu Plano do Serviço de Aplicativo.</span><span class="sxs-lookup"><span data-stu-id="06c9f-141">To change what worker pool your ASP is in, you simply select the worker pool you want your App Service Plan to move to.</span></span>  

![][3]

<span data-ttu-id="06c9f-142">Antes de mover seu ASP de um pool de trabalho para outro, é importante se certificar de que você terá a capacidade adequada para o ASP.</span><span class="sxs-lookup"><span data-stu-id="06c9f-142">Before moving your ASP from one worker pool to another it is important to make sure you will have adequate capacity for your ASP.</span></span>  <span data-ttu-id="06c9f-143">Na lista de pools de trabalhadores, não apenas o nome do pool de trabalhadores está listado, mas você também pode ver quantos trabalhadores estão disponíveis nesse pool de trabalhadores.</span><span class="sxs-lookup"><span data-stu-id="06c9f-143">In the list of worker pools, not only is the worker pool name listed but you can also see how many workers are available in that worker pool.</span></span>  <span data-ttu-id="06c9f-144">Certifique-se de que há instâncias suficientes disponíveis para conter o seu Plano do Serviço de Aplicativo.</span><span class="sxs-lookup"><span data-stu-id="06c9f-144">Make sure that there are enough instances available to contain your App Service Plan.</span></span>  <span data-ttu-id="06c9f-145">Se precisar de mais recursos de computação no pool de trabalhadores para o qual deseja mover, providencie para que o administrador do seu ASE os adicione.</span><span class="sxs-lookup"><span data-stu-id="06c9f-145">If you need more compute resources in the worker pool you wish to move to, then get your ASE administrator to add them.</span></span>  

> [!NOTE]
> <span data-ttu-id="06c9f-146">Mover um ASP de um pool de trabalho causará inicializações a frio dos aplicativos nesse ASP.</span><span class="sxs-lookup"><span data-stu-id="06c9f-146">Moving an ASP from one worker pool will cause cold starts of the apps in that ASP.</span></span>  <span data-ttu-id="06c9f-147">Isso pode fazer com que as solicitações sejam executadas lentamente enquanto o aplicativo é inicializado a frio nos novos recursos de computação.</span><span class="sxs-lookup"><span data-stu-id="06c9f-147">This can cause requests to run slowly as your app is cold started on the new compute resources.</span></span>  <span data-ttu-id="06c9f-148">A inicialização a frio pode ser evitada usando a [funcionalidade de aquecimento do aplicativo][AppWarmup] no Serviço de Aplicativo do Azure.</span><span class="sxs-lookup"><span data-stu-id="06c9f-148">The cold start can be avoided by using the [application warm up capability][AppWarmup] in Azure App Service.</span></span>  <span data-ttu-id="06c9f-149">O módulo Inicialização de Aplicativos descrito neste artigo também funciona para inicializações a frio porque o processo de inicialização também é invocado quando aplicativos são inicializados a frio em novos recursos de computação.</span><span class="sxs-lookup"><span data-stu-id="06c9f-149">The Application Initialization module described in the article also works for cold starts because the initialization process is also invoked when apps are cold started on new compute resources.</span></span> 
> 
> 

## <a name="getting-started"></a><span data-ttu-id="06c9f-150">Introdução</span><span class="sxs-lookup"><span data-stu-id="06c9f-150">Getting started</span></span>
<span data-ttu-id="06c9f-151">Para se familiarizar com os Ambientes do Serviço de Aplicativo, confira [Como criar um Ambiente do Serviço de Aplicativo][HowtoCreateASE]</span><span class="sxs-lookup"><span data-stu-id="06c9f-151">To get started with App Service Environments, see [How To Create An App Service Environment][HowtoCreateASE]</span></span>

<span data-ttu-id="06c9f-152">Para saber mais sobre a plataforma de Serviço de Aplicativo do Azure, veja [Serviço de Aplicativo do Azure][AzureAppService].</span><span class="sxs-lookup"><span data-stu-id="06c9f-152">For more information about the Azure App Service platform, see [Azure App Service][AzureAppService].</span></span>

<!--Image references-->
[1]: ./media/app-service-web-scale-a-web-app-in-an-app-service-environment/aseappscale-aspblade.png
[2]: ./media/app-service-web-scale-a-web-app-in-an-app-service-environment/aseappscale-manualscale.png
[3]: ./media/app-service-web-scale-a-web-app-in-an-app-service-environment/aseappscale-sizescale.png

<!--Links-->
[WhatisASE]: http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-intro/
[ScaleWebapp]: http://azure.microsoft.com/documentation/articles/web-sites-scale/
[HowtoCreateASE]: http://azure.microsoft.com/documentation/articles/app-service-web-how-to-create-an-app-service-environment/
[HowtoConfigureASE]: http://azure.microsoft.com/documentation/articles/app-service-web-configure-an-app-service-environment/
[CreateWebappinASE]: http://azure.microsoft.com/documentation/articles/app-service-web-how-to-create-a-web-app-in-an-ase/
[Appserviceplans]: http://azure.microsoft.com/documentation/articles/azure-web-sites-web-hosting-plans-in-depth-overview/
[AppServicePricing]: http://azure.microsoft.com/pricing/details/app-service/ 
[AzureAppService]: http://azure.microsoft.com/documentation/articles/app-service-value-prop-what-is/
[ASEAutoscale]: http://azure.microsoft.com/documentation/articles/app-service-environment-auto-scale/
[AppScale]: http://azure.microsoft.com/documentation/articles/web-sites-scale/
[AppWarmup]: http://ruslany.net/2015/09/how-to-warm-up-azure-web-app-during-deployment-slots-swap/
