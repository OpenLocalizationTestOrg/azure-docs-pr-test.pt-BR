---
title: "práticas recomendadas de aaaBest e guia de solução de problemas para aplicativos de nó em aplicativos Web do Azure"
description: "Saiba Olá práticas recomendadas e etapas de solução de problemas para aplicativos de nó em aplicativos Web do Azure."
services: app-service\web
documentationcenter: nodejs
author: ranjithr
manager: wadeh
editor: 
ms.assetid: 387ea217-7910-4468-8987-9a1022a99bef
ms.service: app-service-web
ms.workload: web
ms.tgt_pltfrm: na
ms.devlang: nodejs
ms.topic: article
ms.date: 06/06/2016
ms.author: ranjithr
ms.openlocfilehash: 975898142a224f14df1091a46d16e9074d9e2831
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="best-practices-and-troubleshooting-guide-for-node-applications-on-azure-web-apps"></a><span data-ttu-id="2192c-103">Guia de solução de problemas e práticas recomendadas para aplicativos de nó em Aplicativos Web do Azure</span><span class="sxs-lookup"><span data-stu-id="2192c-103">Best practices and troubleshooting guide for node applications on Azure Web Apps</span></span>
[!INCLUDE [tabs](../../includes/app-service-web-get-started-nav-tabs.md)]

<span data-ttu-id="2192c-104">Neste artigo, você aprenderá Olá práticas recomendadas e etapas de solução de problemas para [aplicativos node](app-service-web-get-started-nodejs.md) em execução no Azure Webapps (com [iisnode](https://github.com/azure/iisnode)).</span><span class="sxs-lookup"><span data-stu-id="2192c-104">In this article, you will learn hello best practices and troubleshooting steps for [node applications](app-service-web-get-started-nodejs.md) running on Azure Webapps (with [iisnode](https://github.com/azure/iisnode)).</span></span>

> [!WARNING]
> <span data-ttu-id="2192c-105">Tenha cuidado ao usar as etapas de solução de problemas no site de produção.</span><span class="sxs-lookup"><span data-stu-id="2192c-105">Use caution when using troubleshooting steps on your production site.</span></span> <span data-ttu-id="2192c-106">Recomendação é tootroubleshoot seu aplicativo na instalação, por exemplo, o slot de preparação de não produção e Olá problema for corrigido, trocar o slot de preparo com o slot de produção.</span><span class="sxs-lookup"><span data-stu-id="2192c-106">Recommendation is tootroubleshoot your app on a non-production setup for example your staging slot and when hello issue is fixed, swap your staging slot with your production slot.</span></span>
> 
> 

## <a name="iisnode-configuration"></a><span data-ttu-id="2192c-107">Configuração de IISNOD</span><span class="sxs-lookup"><span data-stu-id="2192c-107">IISNODE configuration</span></span>
<span data-ttu-id="2192c-108">Isso [arquivo de esquema](https://github.com/Azure/iisnode/blob/master/src/config/iisnode_schema_x64.xml) mostra todas as configurações de saudação que podem ser configuradas para iisnode.</span><span class="sxs-lookup"><span data-stu-id="2192c-108">This [schema file](https://github.com/Azure/iisnode/blob/master/src/config/iisnode_schema_x64.xml) shows all hello settings that can be configured for iisnode.</span></span> <span data-ttu-id="2192c-109">Algumas das configurações de saudação que serão úteis para seu aplicativo são:</span><span class="sxs-lookup"><span data-stu-id="2192c-109">Some of hello settings that will be useful for your application are:</span></span>

* <span data-ttu-id="2192c-110">nodeProcessCountPerApplication</span><span class="sxs-lookup"><span data-stu-id="2192c-110">nodeProcessCountPerApplication</span></span>
  
    <span data-ttu-id="2192c-111">Essa configuração controla o número de saudação de processos de nó que são iniciados por aplicativo do IIS.</span><span class="sxs-lookup"><span data-stu-id="2192c-111">This setting controls hello number of node processes that are launched per IIS application.</span></span> <span data-ttu-id="2192c-112">O valor padrão é 1.</span><span class="sxs-lookup"><span data-stu-id="2192c-112">Default value is 1.</span></span> <span data-ttu-id="2192c-113">Você pode iniciar do node.exe tantos como sua contagem de núcleos VM, definindo essa too0.</span><span class="sxs-lookup"><span data-stu-id="2192c-113">You can launch as many node.exe’s as your VM core count by setting this too0.</span></span> <span data-ttu-id="2192c-114">Valor recomendado é 0 para a maioria dos aplicativos, portanto você pode utilizar todos os núcleos de saudação em seu computador.</span><span class="sxs-lookup"><span data-stu-id="2192c-114">Recommended value is 0 for most application so you can utilize all of hello cores on your machine.</span></span> <span data-ttu-id="2192c-115">Node.exe é single threaded para um node.exe consumirá um máximo de 1 núcleo tooget máximo desempenho e fora do seu aplicativo do nó seria conveniente tooutilize todos os núcleos.</span><span class="sxs-lookup"><span data-stu-id="2192c-115">Node.exe is single threaded so one node.exe will consume a maximum of 1 core and tooget maximum performance out of your node application you would want tooutilize all cores.</span></span>
* <span data-ttu-id="2192c-116">nodeProcessCommandLine</span><span class="sxs-lookup"><span data-stu-id="2192c-116">nodeProcessCommandLine</span></span>
  
    <span data-ttu-id="2192c-117">Essa configuração controla Olá caminho toohello node.exe.</span><span class="sxs-lookup"><span data-stu-id="2192c-117">This setting controls hello path toohello node.exe.</span></span> <span data-ttu-id="2192c-118">Você pode definir essa versão do valor toopoint tooyour node.exe.</span><span class="sxs-lookup"><span data-stu-id="2192c-118">You can set this value toopoint tooyour node.exe version.</span></span>
* <span data-ttu-id="2192c-119">maxConcurrentRequestsPerProcess</span><span class="sxs-lookup"><span data-stu-id="2192c-119">maxConcurrentRequestsPerProcess</span></span>
  
    <span data-ttu-id="2192c-120">Essa configuração controla o número máximo de saudação de solicitações simultâneas enviadas pelo iisnode tooeach node.exe.</span><span class="sxs-lookup"><span data-stu-id="2192c-120">This setting controls hello maximum number of concurrent requests sent by iisnode tooeach node.exe.</span></span> <span data-ttu-id="2192c-121">No azure webapps, Olá padrão valor é infinito.</span><span class="sxs-lookup"><span data-stu-id="2192c-121">On azure webapps, hello default value for this is Infinite.</span></span> <span data-ttu-id="2192c-122">Você não terá tooworry sobre essa configuração.</span><span class="sxs-lookup"><span data-stu-id="2192c-122">You will not have tooworry about this setting.</span></span> <span data-ttu-id="2192c-123">Fora do azure webapps, o valor padrão de saudação é 1024.</span><span class="sxs-lookup"><span data-stu-id="2192c-123">Outside azure webapps, hello default value is 1024.</span></span> <span data-ttu-id="2192c-124">Você talvez queira tooconfigure dependendo de quantas solicitações seu aplicativo obtém e rapidez seu aplicativo processa cada solicitação.</span><span class="sxs-lookup"><span data-stu-id="2192c-124">You might want tooconfigure this depending on how many requests your application gets and how fast your application processes each request.</span></span>
* <span data-ttu-id="2192c-125">maxNamedPipeConnectionRetry</span><span class="sxs-lookup"><span data-stu-id="2192c-125">maxNamedPipeConnectionRetry</span></span>
  
    <span data-ttu-id="2192c-126">Essa configuração controla o número máximo de saudação de vezes iisnode tentará fazer conexão em Olá nomeado solicitação de saudação do pipe toosend sobre toonode.exe.</span><span class="sxs-lookup"><span data-stu-id="2192c-126">This setting controls hello maximum number of times iisnode will retry making connection on hello named pipe toosend hello request over toonode.exe.</span></span> <span data-ttu-id="2192c-127">Essa configuração em combinação com namedPipeConnectionRetryDelay determina o tempo limite total de saudação de cada solicitação dentro de iisnode.</span><span class="sxs-lookup"><span data-stu-id="2192c-127">This setting in combination with namedPipeConnectionRetryDelay determines hello total timeout of each request within iisnode.</span></span> <span data-ttu-id="2192c-128">O valor padrão é 200 no Azure Webapps.</span><span class="sxs-lookup"><span data-stu-id="2192c-128">Default value is 200 on Azure Webapps.</span></span> <span data-ttu-id="2192c-129">Total Timeout em segundos = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay)/1000</span><span class="sxs-lookup"><span data-stu-id="2192c-129">Total Timeout in seconds = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span></span>
* <span data-ttu-id="2192c-130">namedPipeConnectionRetryDelay</span><span class="sxs-lookup"><span data-stu-id="2192c-130">namedPipeConnectionRetryDelay</span></span>
  
    <span data-ttu-id="2192c-131">Essa quantidade de saudação de controles de configuração do iisnode de tempo (em ms) irá aguardar entre cada repetição toosend solicitação toonode.exe sobre Olá pipe nomeado.</span><span class="sxs-lookup"><span data-stu-id="2192c-131">This setting controls hello amount of time (in ms) iisnode will wait for between each retry toosend request toonode.exe over hello named pipe.</span></span> <span data-ttu-id="2192c-132">O valor padrão é 250 ms.</span><span class="sxs-lookup"><span data-stu-id="2192c-132">Default value is 250ms.</span></span>
    <span data-ttu-id="2192c-133">Total Timeout em segundos = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay)/1000</span><span class="sxs-lookup"><span data-stu-id="2192c-133">Total Timeout in seconds = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span></span>
  
    <span data-ttu-id="2192c-134">Por padrão, Olá o tempo de espera total em iisnode no azure webapps é 200 \* 250ms = 50 segundos.</span><span class="sxs-lookup"><span data-stu-id="2192c-134">By default hello total timeout in iisnode on azure webapps is 200 \* 250ms = 50 seconds.</span></span>
* <span data-ttu-id="2192c-135">logDirectory</span><span class="sxs-lookup"><span data-stu-id="2192c-135">logDirectory</span></span>
  
    <span data-ttu-id="2192c-136">Essa configuração controla o diretório Olá onde iisnode registrará stdout/stderr.</span><span class="sxs-lookup"><span data-stu-id="2192c-136">This setting controls hello directory where iisnode will log stdout/stderr.</span></span> <span data-ttu-id="2192c-137">Valor padrão é iisnode, que é relativo toohello script principal diretório (diretório onde server.js principal está presente)</span><span class="sxs-lookup"><span data-stu-id="2192c-137">Default value is iisnode which is relative toohello main script directory (directory where main server.js is present)</span></span>
* <span data-ttu-id="2192c-138">debuggerExtensionDll</span><span class="sxs-lookup"><span data-stu-id="2192c-138">debuggerExtensionDll</span></span>
  
    <span data-ttu-id="2192c-139">Essa configuração controla qual versão de node-inspector o iisnode usará ao depurar o aplicativo de nó.</span><span class="sxs-lookup"><span data-stu-id="2192c-139">This setting controls what version of node-inspector iisnode will use when debugging your node application.</span></span> <span data-ttu-id="2192c-140">No momento iisnode de Inspetor de 0.7.3.dll e iisnode inspector.dll Olá apenas 2 valores são válidos para esta configuração.</span><span class="sxs-lookup"><span data-stu-id="2192c-140">Currently iisnode-inspector-0.7.3.dll and iisnode-inspector.dll are hello only 2 valid values for this setting.</span></span> <span data-ttu-id="2192c-141">O valor padrão é iisnode-inspector-0.7.3.dll.</span><span class="sxs-lookup"><span data-stu-id="2192c-141">Default value is iisnode-inspector-0.7.3.dll.</span></span> <span data-ttu-id="2192c-142">versão do iisnode de Inspetor de 0.7.3.dll usa o nó de Inspetor de 0.7.3 e usa os websockets, portanto, será necessário tooenable websockets em seu aplicativo Web do azure toouse nesta versão.</span><span class="sxs-lookup"><span data-stu-id="2192c-142">iisnode-inspector-0.7.3.dll version uses node-inspector-0.7.3 and uses websockets, so you will need tooenable websockets on your azure webapp toouse this version.</span></span> <span data-ttu-id="2192c-143">Consulte <http://www.ranjithr.com/?p=98> para obter mais detalhes sobre como tooconfigure iisnode toouse Olá Inspetor de nó de novo.</span><span class="sxs-lookup"><span data-stu-id="2192c-143">See <http://www.ranjithr.com/?p=98> for more details on how tooconfigure iisnode toouse hello new node-inspector.</span></span>
* <span data-ttu-id="2192c-144">flushResponse</span><span class="sxs-lookup"><span data-stu-id="2192c-144">flushResponse</span></span>
  
    <span data-ttu-id="2192c-145">comportamento padrão de saudação do IIS é que ele armazena em buffer os dados de resposta backup too4MB antes de liberar, ou até o término de saudação da resposta hello, o que ocorrer primeiro.</span><span class="sxs-lookup"><span data-stu-id="2192c-145">hello default behavior of IIS is that it buffers response data up too4MB before flushing, or until hello end of hello response, whichever comes first.</span></span> <span data-ttu-id="2192c-146">iisnode oferece uma configuração toooverride esse comportamento: tooflush um fragmento do corpo de entidade de resposta Olá assim que iisnode recebe do node.exe, é necessário tooset Olá iisnode/@flushResponse atributo no Web. config too'true':</span><span class="sxs-lookup"><span data-stu-id="2192c-146">iisnode offers a configuration setting toooverride this behavior: tooflush a fragment of hello response entity body as soon as iisnode receives it from node.exe, you need tooset hello iisnode/@flushResponse attribute in web.config too'true':</span></span>
  
    ```
    <configuration>    
        <system.webServer>    
            <!-- ... -->    
            <iisnode flushResponse="true" />    
        </system.webServer>    
    </configuration>
    ```
  
    <span data-ttu-id="2192c-147">Habilitar a eliminação de cada fragmento do corpo de entidade de resposta Olá aumenta a sobrecarga de desempenho que reduz a taxa de transferência de saudação do sistema Olá, aproximadamente 5% (a partir de v0.1.13), portanto, é melhor tooscope este tooendpoints somente de configuração que requerem resposta de streaming (por exemplo, usando Olá <location> elemento Olá Web. config)</span><span class="sxs-lookup"><span data-stu-id="2192c-147">Enabling flushing of every fragment of hello response entity body adds performance overhead that reduces hello throughput of hello system by ~5% (as of v0.1.13), so it is best tooscope this setting only tooendpoints that require response streaming (e.g. using hello <location> element in hello web.config)</span></span>
  
    <span data-ttu-id="2192c-148">Em toothis de adição para streaming de aplicativos, você precisará tooalso responseBufferLimit de conjunto de seu too0 de manipulador do iisnode.</span><span class="sxs-lookup"><span data-stu-id="2192c-148">In addition toothis, for streaming applications, you will need tooalso set responseBufferLimit of your iisnode handler too0.</span></span>
  
    ```
    <handlers>    
        <add name="iisnode" path="app.js" verb="\*" modules="iisnode" responseBufferLimit="0"/>    
    </handlers>
    ```
* <span data-ttu-id="2192c-149">watchedFiles</span><span class="sxs-lookup"><span data-stu-id="2192c-149">watchedFiles</span></span>
  
    <span data-ttu-id="2192c-150">Essa é uma lista de arquivos separados por ponto e vírgula que serão observados para detectar alterações.</span><span class="sxs-lookup"><span data-stu-id="2192c-150">This is a semi-colon separated list of files that will be watched for changes.</span></span> <span data-ttu-id="2192c-151">Um arquivo de tooa alteração faz com que Olá toorecycle de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="2192c-151">A change tooa file causes hello application toorecycle.</span></span> <span data-ttu-id="2192c-152">Cada entrada consiste em um nome de diretório opcional e o nome de arquivo necessários que são toohello relativo diretório onde o ponto de entrada principal do aplicativo hello está localizado.</span><span class="sxs-lookup"><span data-stu-id="2192c-152">Each entry consists of an optional directory name plus required file name which are relative toohello directory where hello main application entry point is located.</span></span> <span data-ttu-id="2192c-153">Caracteres curinga é permitida na parte de nome de arquivo hello somente.</span><span class="sxs-lookup"><span data-stu-id="2192c-153">Wild cards are allowed in hello file name portion only.</span></span> <span data-ttu-id="2192c-154">O valor padrão é “\*.js;web.config”</span><span class="sxs-lookup"><span data-stu-id="2192c-154">Default value is “\*.js;web.config”</span></span>
* <span data-ttu-id="2192c-155">recycleSignalEnabled</span><span class="sxs-lookup"><span data-stu-id="2192c-155">recycleSignalEnabled</span></span>
  
    <span data-ttu-id="2192c-156">O valor padrão é falso.</span><span class="sxs-lookup"><span data-stu-id="2192c-156">Default value is false.</span></span> <span data-ttu-id="2192c-157">Se habilitada, o aplicativo de nó pode se conectar a tooa pipe nomeado (a variável de ambiente IISNODE\_controle\_PIPE) e enviar uma mensagem de "reciclagem".</span><span class="sxs-lookup"><span data-stu-id="2192c-157">If enabled, your node application can connect tooa named pipe (environment variable IISNODE\_CONTROL\_PIPE) and send a “recycle” message.</span></span> <span data-ttu-id="2192c-158">Normalmente, isso causará Olá w3wp toorecycle.</span><span class="sxs-lookup"><span data-stu-id="2192c-158">This will cause hello w3wp toorecycle gracefully.</span></span>
* <span data-ttu-id="2192c-159">idlePageOutTimePeriod</span><span class="sxs-lookup"><span data-stu-id="2192c-159">idlePageOutTimePeriod</span></span>
  
    <span data-ttu-id="2192c-160">O valor padrão é 0, o que significa que esse recurso está desabilitado.</span><span class="sxs-lookup"><span data-stu-id="2192c-160">Default value is 0 which means this feature is disabled.</span></span> <span data-ttu-id="2192c-161">Quando set toosome valor maior que 0, iisnode pagina todos os seus filhos processa cada 'idlePageOutTimePeriod' milissegundos.</span><span class="sxs-lookup"><span data-stu-id="2192c-161">When set toosome value greater than 0, iisnode will page out all its child processes every ‘idlePageOutTimePeriod’ milliseconds.</span></span> <span data-ttu-id="2192c-162">toounderstand o que a paginação significa, consulte toothis [documentação](https://msdn.microsoft.com/library/windows/desktop/ms682606.aspx).</span><span class="sxs-lookup"><span data-stu-id="2192c-162">toounderstand what page out means, please refer toothis [documentation](https://msdn.microsoft.com/library/windows/desktop/ms682606.aspx).</span></span> <span data-ttu-id="2192c-163">Essa configuração será útil para aplicativos que consomem muita memória e deseja toopageout memória toodisk ocasionalmente toofree alguns RAM.</span><span class="sxs-lookup"><span data-stu-id="2192c-163">This setting will be useful for applications that consume a lot of memory and want toopageout memory toodisk occasionally toofree up some RAM.</span></span>

> [!WARNING]
> <span data-ttu-id="2192c-164">Tenha cuidado ao habilitar as definições de configuração a seguir nos aplicativos de produção de hello.</span><span class="sxs-lookup"><span data-stu-id="2192c-164">Use caution when enabling hello following configuration settings on production applications.</span></span> <span data-ttu-id="2192c-165">Recomendação é toonot habilitá-los em aplicativos de produção.</span><span class="sxs-lookup"><span data-stu-id="2192c-165">Recommendation is toonot enable them on live production applications.</span></span>
> 
> 

* <span data-ttu-id="2192c-166">debugHeaderEnabled</span><span class="sxs-lookup"><span data-stu-id="2192c-166">debugHeaderEnabled</span></span>
  
    <span data-ttu-id="2192c-167">valor padrão de saudação é false.</span><span class="sxs-lookup"><span data-stu-id="2192c-167">hello default value is false.</span></span> <span data-ttu-id="2192c-168">Se definir tootrue, iisnode adicionará uma resposta cabeçalho depuração iisnode tooevery HTTP resposta HTTP envia o valor do cabeçalho iisnode-debug Olá é uma URL.</span><span class="sxs-lookup"><span data-stu-id="2192c-168">If set tootrue, iisnode will add an HTTP response header iisnode-debug tooevery HTTP response it sends hello iisnode-debug header value is a URL.</span></span> <span data-ttu-id="2192c-169">As partes individuais de informações de diagnóstico podem ser obtidas examinando o fragmento de URL Olá, mas uma visualização muito melhor é obtida abrindo Olá URL no navegador de saudação.</span><span class="sxs-lookup"><span data-stu-id="2192c-169">Individual pieces of diagnostic information can be gleaned by looking at hello URL fragment, but a much better visualization is achieved by opening hello URL in hello browser.</span></span>
* <span data-ttu-id="2192c-170">loggingEnabled</span><span class="sxs-lookup"><span data-stu-id="2192c-170">loggingEnabled</span></span>
  
    <span data-ttu-id="2192c-171">Essa configuração controla o registro em log de saudação de stdout e stderr iisnode.</span><span class="sxs-lookup"><span data-stu-id="2192c-171">This setting controls hello logging of stdout and stderr by iisnode.</span></span> <span data-ttu-id="2192c-172">Iisnode irá capturar stdout/stderr a partir de processos de nó, que ela inicia e escrever toohello diretório especificado na configuração de 'logDirectory' hello.</span><span class="sxs-lookup"><span data-stu-id="2192c-172">Iisnode will capture stdout/stderr from node processes it launches and write toohello directory specified in hello ‘logDirectory’ setting.</span></span> <span data-ttu-id="2192c-173">Depois que isso esteja habilitado, seu aplicativo escreverá sistema de arquivos toohello logs e, dependendo da quantidade de saudação de log feito pelo aplicativo hello, pode haver implicações de desempenho.</span><span class="sxs-lookup"><span data-stu-id="2192c-173">Once this is enable, your application will be writing logs toohello file system and depending on hello amount of logging done by hello application, there could be performance implications.</span></span>
* <span data-ttu-id="2192c-174">devErrorsEnabled</span><span class="sxs-lookup"><span data-stu-id="2192c-174">devErrorsEnabled</span></span>
  
    <span data-ttu-id="2192c-175">O valor padrão é falso.</span><span class="sxs-lookup"><span data-stu-id="2192c-175">Default value is false.</span></span> <span data-ttu-id="2192c-176">Quando definido como tootrue, iisnode exibirá o código de status HTTP da saudação e código de erro do Win32 no seu navegador.</span><span class="sxs-lookup"><span data-stu-id="2192c-176">When set tootrue, iisnode will display hello HTTP status code and Win32 error code on your browser.</span></span> <span data-ttu-id="2192c-177">código do win32 Olá poderão ser úteis na depuração de determinados tipos de problemas.</span><span class="sxs-lookup"><span data-stu-id="2192c-177">hello win32 code will be helpful in debugging certain types of issues.</span></span>
* <span data-ttu-id="2192c-178">debuggingEnabled (não habilitar em sites de produção ativos)</span><span class="sxs-lookup"><span data-stu-id="2192c-178">debuggingEnabled (do not enable on live production site)</span></span>
  
    <span data-ttu-id="2192c-179">Essa configuração controla o recurso de depuração.</span><span class="sxs-lookup"><span data-stu-id="2192c-179">This setting controls debugging feature.</span></span> <span data-ttu-id="2192c-180">Iisnode é integrado a node-inspector.</span><span class="sxs-lookup"><span data-stu-id="2192c-180">Iisnode is integrated with node-inspector.</span></span> <span data-ttu-id="2192c-181">Habilitando essa configuração, você habilita a depuração do aplicativo de nó.</span><span class="sxs-lookup"><span data-stu-id="2192c-181">By enabling this setting, you enable debugging of your node application.</span></span> <span data-ttu-id="2192c-182">Quando essa configuração está habilitada, iisnode será layout Olá Inspetor de nó necessário arquivos 'debuggerVirtualDir' pasta de aplicativo hello primeiro depuração solicitação tooyour nó.</span><span class="sxs-lookup"><span data-stu-id="2192c-182">Once this setting is enabled, iisnode will layout hello necessary node-inspector files in ‘debuggerVirtualDir’ directory on hello first debug request tooyour node application.</span></span> <span data-ttu-id="2192c-183">Você pode carregar o Inspetor de nó Olá enviando uma solicitação toohttp://yoursite/server.js/debug.</span><span class="sxs-lookup"><span data-stu-id="2192c-183">You can load hello node-inspector by sending a request toohttp://yoursite/server.js/debug.</span></span> <span data-ttu-id="2192c-184">Você pode controlar o segmento de URL de depuração Olá com configuração de 'debuggerPathSegment'.</span><span class="sxs-lookup"><span data-stu-id="2192c-184">You can control hello debug URL segment with ‘debuggerPathSegment’ setting.</span></span> <span data-ttu-id="2192c-185">Por padrão, debuggerPathSegment='debug'.</span><span class="sxs-lookup"><span data-stu-id="2192c-185">By default debuggerPathSegment=’debug’.</span></span> <span data-ttu-id="2192c-186">Você pode definir essa GUID tooa por exemplo, para que seja mais difícil toobe descoberto por outros.</span><span class="sxs-lookup"><span data-stu-id="2192c-186">You can set this tooa GUID for example so that it is more difficult toobe discovered by others.</span></span>
  
    <span data-ttu-id="2192c-187">Confira este [link](https://tomasz.janczuk.org/2011/11/debug-nodejs-applications-on-windows.html) para obter mais detalhes sobre a depuração.</span><span class="sxs-lookup"><span data-stu-id="2192c-187">Check this [link](https://tomasz.janczuk.org/2011/11/debug-nodejs-applications-on-windows.html) for more details on debugging.</span></span>

## <a name="scenarios-and-recommendationstroubleshooting"></a><span data-ttu-id="2192c-188">Cenários e recomendações/solução de problemas</span><span class="sxs-lookup"><span data-stu-id="2192c-188">Scenarios and recommendations/troubleshooting</span></span>
### <a name="my-node-application-is-making-too-many-outbound-calls"></a><span data-ttu-id="2192c-189">O aplicativo de nó está fazendo muitas chamadas de saída.</span><span class="sxs-lookup"><span data-stu-id="2192c-189">My node application is making too many outbound calls.</span></span>
<span data-ttu-id="2192c-190">Muitos aplicativos desejaria toomake conexões de saída como parte de sua operação regular.</span><span class="sxs-lookup"><span data-stu-id="2192c-190">Many applications would want toomake outbound connections as part of their regular operation.</span></span> <span data-ttu-id="2192c-191">Por exemplo, quando uma solicitação chega, seu aplicativo do nó seria deseja toocontact uma API REST em outro lugar e obter uma solicitação de saudação tooprocess informações.</span><span class="sxs-lookup"><span data-stu-id="2192c-191">For example, when a request comes in, your node app would want toocontact a REST API elsewhere and get some information tooprocess hello request.</span></span> <span data-ttu-id="2192c-192">Ao fazer chamadas http ou https, você desejaria toouse um agente de keep alive.</span><span class="sxs-lookup"><span data-stu-id="2192c-192">You would want toouse a keep alive agent when making http or https calls.</span></span> <span data-ttu-id="2192c-193">Por exemplo, você pode usar o módulo de agentkeepalive de saudação como seu agente de keep alive ao fazer essas chamadas de saída.</span><span class="sxs-lookup"><span data-stu-id="2192c-193">For example, you could use hello agentkeepalive module as your keep alive agent when making these outbound calls.</span></span> <span data-ttu-id="2192c-194">Isso garante que soquetes Olá são reutilizados em seu aplicativo Web do azure VM e reduzindo sobrecarga de saudação de criação de novos soquetes para cada solicitação de saída.</span><span class="sxs-lookup"><span data-stu-id="2192c-194">This makes sure that hello sockets are reused on your azure webapp VM and reducing hello overhead of creating new sockets for every outbound request.</span></span> <span data-ttu-id="2192c-195">Além disso, isso garante que você está usando um número menor de soquetes toomake que muitas solicitações de saída e, portanto, você não exceda maxSockets Olá alocadas por VM.</span><span class="sxs-lookup"><span data-stu-id="2192c-195">Also, this makes sure that you are using less number of sockets toomake many outbound requests and therefore you don’t exceed hello maxSockets that are allocated per VM.</span></span> <span data-ttu-id="2192c-196">Recomendação no Azure Webapps seria tooset Olá agentKeepAlive maxSockets valor total de tooa de 160 sockets por VM.</span><span class="sxs-lookup"><span data-stu-id="2192c-196">Recommendation on Azure Webapps would be tooset hello agentKeepAlive maxSockets value tooa total of 160 sockets per VM.</span></span> <span data-ttu-id="2192c-197">Isso significa que, se você tiver 4 node.exe em execução no hello VM, você desejaria tooset Olá agentKeepAlive maxSockets too40 por node.exe que é de 160 total por VM.</span><span class="sxs-lookup"><span data-stu-id="2192c-197">This means that if you have 4 node.exe running on hello VM, you would want tooset hello agentKeepAlive maxSockets too40 per node.exe which is 160 total per VM.</span></span>

<span data-ttu-id="2192c-198">Exemplo de configuração [agentKeepALive](https://www.npmjs.com/package/agentkeepalive):</span><span class="sxs-lookup"><span data-stu-id="2192c-198">Example [agentKeepALive](https://www.npmjs.com/package/agentkeepalive) configuration:</span></span>

```
var keepaliveAgent = new Agent({    
    maxSockets: 40,    
    maxFreeSockets: 10,    
    timeout: 60000,    
    keepAliveTimeout: 300000    
});
```

<span data-ttu-id="2192c-199">Este exemplo pressupõe que haja quatro node.exe em execução na VM.</span><span class="sxs-lookup"><span data-stu-id="2192c-199">This example assumes you have 4 node.exe running on your VM.</span></span> <span data-ttu-id="2192c-200">Se você tiver um número diferente de node.exe em execução no hello VM, você terá toomodify Olá maxSockets configuração adequadamente.</span><span class="sxs-lookup"><span data-stu-id="2192c-200">If you have a different number of node.exe running on hello VM, you will have toomodify hello maxSockets setting accordingly.</span></span>

### <a name="my-node-application-is-consuming-too-much-cpu"></a><span data-ttu-id="2192c-201">Meu aplicativo de nó está consumindo muita CPU.</span><span class="sxs-lookup"><span data-stu-id="2192c-201">My node application is consuming too much CPU.</span></span>
<span data-ttu-id="2192c-202">Você provavelmente obterá uma recomendação do Azure Webapps no portal sobre o alto consumo de cpu.</span><span class="sxs-lookup"><span data-stu-id="2192c-202">You will probably get a recommendation from Azure Webapps on your portal about high cpu consumption.</span></span> <span data-ttu-id="2192c-203">Você também pode configurar monitores toowatch para determinados [métricas](web-sites-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="2192c-203">You can also setup monitors toowatch for certain [metrics](web-sites-monitor.md).</span></span> <span data-ttu-id="2192c-204">Ao verificar o uso de CPU de saudação em hello [painel do Portal do Azure](../application-insights/app-insights-web-monitor-performance.md), verifique se valores MAX Olá CPU você perca os valores de pico de saudação.</span><span class="sxs-lookup"><span data-stu-id="2192c-204">When checking hello CPU usage on hello [Azure Portal Dashboard](../application-insights/app-insights-web-monitor-performance.md), please check hello MAX values for CPU so you don’t miss out hello peak values.</span></span>
<span data-ttu-id="2192c-205">Em casos em que você acha que seu aplicativo está consumindo muito da CPU e você não pode explicar, você precisará tooprofile seu aplicativo de nó.</span><span class="sxs-lookup"><span data-stu-id="2192c-205">In cases where you think your application is consuming too much CPU and you cannot explain why, you will need tooprofile your node application.</span></span>

### 
#### <a name="profiling-your-node-application-on-azure-webapps-with-v8-profiler"></a><span data-ttu-id="2192c-206">Criar o perfil do aplicativo de nó no Azure Webapps com o V8-Profiler</span><span class="sxs-lookup"><span data-stu-id="2192c-206">Profiling your node application on azure webapps with V8-Profiler</span></span>
<span data-ttu-id="2192c-207">Por exemplo, permite que significa que você tenha um aplicativo do Olá mundo que você deseja tooprofile, conforme mostrado abaixo:</span><span class="sxs-lookup"><span data-stu-id="2192c-207">For example, lets say you have a hello world app that you want tooprofile as shown below:</span></span>

```
var http = require('http');    
function WriteConsoleLog() {    
    for(var i=0;i<99999;++i) {    
        console.log('hello world');    
    }    
}

function HandleRequest() {    
    WriteConsoleLog();    
}

http.createServer(function (req, res) {    
    res.writeHead(200, {'Content-Type': 'text/html'});    
    HandleRequest();    
    res.end('Hello world!');    
}).listen(process.env.PORT);
```

<span data-ttu-id="2192c-208">Vá tooyour scm site https://yoursite.scm.azurewebsites.net/DebugConsole</span><span class="sxs-lookup"><span data-stu-id="2192c-208">Go tooyour scm site https://yoursite.scm.azurewebsites.net/DebugConsole</span></span>

<span data-ttu-id="2192c-209">Você verá um prompt de comando, conforme mostrado abaixo.</span><span class="sxs-lookup"><span data-stu-id="2192c-209">You will see a command prompt as shown below.</span></span> <span data-ttu-id="2192c-210">Vá para o diretório site/wwwroot</span><span class="sxs-lookup"><span data-stu-id="2192c-210">Go into your site/wwwroot directory</span></span>

![](./media/app-service-web-nodejs-best-practices-and-troubleshoot-guide/scm_install_v8.png)

<span data-ttu-id="2192c-211">Execute o comando hello "npm install v8 profiler"</span><span class="sxs-lookup"><span data-stu-id="2192c-211">Run hello command “npm install v8-profiler”</span></span>

<span data-ttu-id="2192c-212">Isso deve instalar o v8-profiler no diretório node\_modules e todas as suas dependências.</span><span class="sxs-lookup"><span data-stu-id="2192c-212">This should install v8-profiler under node\_modules directory and all of its dependencies.</span></span>
<span data-ttu-id="2192c-213">Agora, edite seu tooprofile server.js seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="2192c-213">Now, edit your server.js tooprofile your application.</span></span>

```
var http = require('http');    
var profiler = require('v8-profiler');    
var fs = require('fs');

function WriteConsoleLog() {    
    for(var i=0;i<99999;++i) {    
        console.log('hello world');    
    }    
}

function HandleRequest() {    
    profiler.startProfiling('HandleRequest');    
    WriteConsoleLog();    
    fs.writeFileSync('profile.cpuprofile', JSON.stringify(profiler.stopProfiling('HandleRequest')));    
}

http.createServer(function (req, res) {    
    res.writeHead(200, {'Content-Type': 'text/html'});    
    HandleRequest();    
    res.end('Hello world!');    
}).listen(process.env.PORT);
```

<span data-ttu-id="2192c-214">Olá acima alterações será criar o perfil de função de WriteConsoleLog hello e depois escrever Olá too'profile.cpuprofile de saída de perfil ' arquivo sob o wwwroot do site.</span><span class="sxs-lookup"><span data-stu-id="2192c-214">hello above changes will profile hello WriteConsoleLog function and then write hello profile output too‘profile.cpuprofile’ file under your site wwwroot.</span></span> <span data-ttu-id="2192c-215">Envie um aplicativo de tooyour de solicitação.</span><span class="sxs-lookup"><span data-stu-id="2192c-215">Send a request tooyour application.</span></span> <span data-ttu-id="2192c-216">Você verá um arquivo 'profile.cpuprofile' criado no site wwwroot.</span><span class="sxs-lookup"><span data-stu-id="2192c-216">You will see a ‘profile.cpuprofile’ file created under your site wwwroot.</span></span>

![](./media/app-service-web-nodejs-best-practices-and-troubleshoot-guide/scm_profile.cpuprofile.png)

<span data-ttu-id="2192c-217">Baixar este arquivo e você precisará tooopen este arquivo com as ferramentas do Chrome F12.</span><span class="sxs-lookup"><span data-stu-id="2192c-217">Download this file and you will need tooopen this file with Chrome F12 Tools.</span></span> <span data-ttu-id="2192c-218">Pressionar F12 no chrome, clique no hello "Guia Perfis".</span><span class="sxs-lookup"><span data-stu-id="2192c-218">Hit F12 on chrome, then click on hello “Profiles Tab”.</span></span> <span data-ttu-id="2192c-219">Clique no botão "Carregar".</span><span class="sxs-lookup"><span data-stu-id="2192c-219">Click on “Load” Button.</span></span> <span data-ttu-id="2192c-220">Selecione o arquivo profile.cpuprofile que você acabou de baixar.</span><span class="sxs-lookup"><span data-stu-id="2192c-220">Select your profile.cpuprofile file that you just downloaded.</span></span> <span data-ttu-id="2192c-221">Clique no perfil de saudação que acabou de ser carregado.</span><span class="sxs-lookup"><span data-stu-id="2192c-221">Click on hello profile you just loaded.</span></span>

![](./media/app-service-web-nodejs-best-practices-and-troubleshoot-guide/chrome_tools_view.png)

<span data-ttu-id="2192c-222">Você verá que 95% de tempo de saudação foi consumida pela função WriteConsoleLog, conforme mostrado abaixo.</span><span class="sxs-lookup"><span data-stu-id="2192c-222">You will see that 95% of hello time was consumed by WriteConsoleLog function as shown below.</span></span> <span data-ttu-id="2192c-223">Isso também mostra os números de linha exata de saudação e arquivos de origem que causam o problema de saudação.</span><span class="sxs-lookup"><span data-stu-id="2192c-223">This also shows you hello exact line numbers and source files that cause hello issue.</span></span>

### <a name="my-node-application-is-consuming-too-much-memory"></a><span data-ttu-id="2192c-224">Meu aplicativo de nó está consumindo muita memória.</span><span class="sxs-lookup"><span data-stu-id="2192c-224">My node application is consuming too much memory.</span></span>
<span data-ttu-id="2192c-225">Você provavelmente obterá uma recomendação do Azure Webapps no portal sobre o alto consumo de memória.</span><span class="sxs-lookup"><span data-stu-id="2192c-225">You will probably get a recommendation from Azure Webapps on your portal about high memory consumption.</span></span> <span data-ttu-id="2192c-226">Você também pode configurar monitores toowatch para determinados [métricas](web-sites-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="2192c-226">You can also setup monitors toowatch for certain [metrics](web-sites-monitor.md).</span></span> <span data-ttu-id="2192c-227">Ao verificar o uso de memória de saudação no hello [painel do Portal do Azure](../application-insights/app-insights-web-monitor-performance.md), verifique se os valores MAX para memória Olá você perca os valores de pico de saudação.</span><span class="sxs-lookup"><span data-stu-id="2192c-227">When checking hello memory usage on hello [Azure Portal Dashboard](../application-insights/app-insights-web-monitor-performance.md), please check hello MAX values for memory so you don’t miss out hello peak values.</span></span>

#### <a name="leak-detection-and-heap-diffing-for-nodejs"></a><span data-ttu-id="2192c-228">Detecção de perda e Comparação de Heap para node.js</span><span class="sxs-lookup"><span data-stu-id="2192c-228">Leak detection and Heap Diffing for node.js</span></span>
<span data-ttu-id="2192c-229">Você pode usar [memwatch nó](https://github.com/lloyd/node-memwatch) perdas toohelp identificam a memória.</span><span class="sxs-lookup"><span data-stu-id="2192c-229">You could use [node-memwatch](https://github.com/lloyd/node-memwatch) toohelp you identify memory leaks.</span></span>
<span data-ttu-id="2192c-230">Você pode instalar memwatch assim como o criador de perfil v8 e editar que seu código toocapture e comparação heaps tooidentify Olá vazamentos de memória em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="2192c-230">You can install memwatch just like v8-profiler and edit your code toocapture and diff heaps tooidentify hello memory leaks in your application.</span></span>

### <a name="my-nodeexes-are-getting-killed-randomly"></a><span data-ttu-id="2192c-231">Os arquivos node.exe estão sendo encerrados aleatoriamente</span><span class="sxs-lookup"><span data-stu-id="2192c-231">My node.exe’s are getting killed randomly</span></span>
<span data-ttu-id="2192c-232">Há alguns motivos pelos quais isso pode ocorrer:</span><span class="sxs-lookup"><span data-stu-id="2192c-232">There are a few reasons why this could be happening:</span></span>

1. <span data-ttu-id="2192c-233">Seu aplicativo está gerando exceções não capturadas – d: seleção de entre\\inicial\\LogFiles\\aplicativo\\arquivo de log Errors para obter detalhes de saudação na exceção de saudação.</span><span class="sxs-lookup"><span data-stu-id="2192c-233">Your application is throwing uncaught exceptions – Please check d:\\home\\LogFiles\\Application\\logging-errors.txt file for hello details on hello exception thrown.</span></span> <span data-ttu-id="2192c-234">Este arquivo tem o rastreamento de pilha Olá para que você possa corrigir seu aplicativo com base nisso.</span><span class="sxs-lookup"><span data-stu-id="2192c-234">This file has hello stack trace so you can fix your application based on this.</span></span>
2. <span data-ttu-id="2192c-235">O aplicativo está consumindo muita memória, o que está impedindo outros processos de serem iniciados.</span><span class="sxs-lookup"><span data-stu-id="2192c-235">Your application is consuming too much memory which is affecting other processes from getting started.</span></span> <span data-ttu-id="2192c-236">Se memória total de VM Olá too100 fechar % node.exe foi interrompida por Olá processo manager toolet outros processos obter toodo uma chance algum trabalho.</span><span class="sxs-lookup"><span data-stu-id="2192c-236">If hello total VM memory is close too100%, your node.exe’s could be killed by hello process manager toolet other processes get a chance toodo some work.</span></span> <span data-ttu-id="2192c-237">toofix isso, verifique se seu aplicativo não haverá vazamento de memória ou se seu aplicativo precisa realmente toouse muita memória, dimensionar o tooa VM maior com muito mais RAM.</span><span class="sxs-lookup"><span data-stu-id="2192c-237">toofix this, either make sure your application is not leaking memory OR if you application really needs toouse a lot of memory, please scale up tooa larger VM with a lot more RAM.</span></span>

### <a name="my-node-application-does-not-start"></a><span data-ttu-id="2192c-238">O aplicativo de nó não é iniciado</span><span class="sxs-lookup"><span data-stu-id="2192c-238">My node application does not start</span></span>
<span data-ttu-id="2192c-239">Se o aplicativo está retornando Erros 500 na inicialização, pode haver alguns motivos:</span><span class="sxs-lookup"><span data-stu-id="2192c-239">If your application is returning 500 Errors at startup, there could be a few reasons:</span></span>

1. <span data-ttu-id="2192c-240">Node.exe não está presente no local correto hello.</span><span class="sxs-lookup"><span data-stu-id="2192c-240">Node.exe is not present at hello correct location.</span></span> <span data-ttu-id="2192c-241">Verifique a configuração nodeProcessCommandLine.</span><span class="sxs-lookup"><span data-stu-id="2192c-241">Check nodeProcessCommandLine setting.</span></span>
2. <span data-ttu-id="2192c-242">Arquivo de script principal não está presente no local correto hello.</span><span class="sxs-lookup"><span data-stu-id="2192c-242">Main script file is not present at hello correct location.</span></span> <span data-ttu-id="2192c-243">Web. config e certifique-se de que nome Olá Olá principal do arquivo de script no arquivo de script principal de Olá Olá manipuladores seção correspondências.</span><span class="sxs-lookup"><span data-stu-id="2192c-243">Check web.config and make sure hello name of hello main script file in hello handlers section matches hello main script file.</span></span>
3. <span data-ttu-id="2192c-244">Configuração de Web. config não está correta – Consulte Olá nomes/valores de configurações.</span><span class="sxs-lookup"><span data-stu-id="2192c-244">Web.config configuration is not correct – check hello settings names/values.</span></span>
4. <span data-ttu-id="2192c-245">Inicialização a frio – seu aplicativo estiver demorando muito toostartup.</span><span class="sxs-lookup"><span data-stu-id="2192c-245">Cold Start – Your application is taking too long toostartup.</span></span> <span data-ttu-id="2192c-246">Se o aplicativo demorar mais do que (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay)/1000 segundos, iisnode retornará um erro 500.</span><span class="sxs-lookup"><span data-stu-id="2192c-246">If your application takes longer than (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000 seconds, iisnode will return 500 error.</span></span> <span data-ttu-id="2192c-247">Aumente os valores de saudação do toomatch configurações que seu aplicativo Iniciar tempo tooprevent iisnode de tempo limite e retornar Olá 500 Erro.</span><span class="sxs-lookup"><span data-stu-id="2192c-247">Increase hello values of these settings toomatch your application start time tooprevent iisnode from timing out and returning hello 500 error.</span></span>

### <a name="my-node-application-crashed"></a><span data-ttu-id="2192c-248">Meu aplicativo de nó falhou</span><span class="sxs-lookup"><span data-stu-id="2192c-248">My node application crashed</span></span>
<span data-ttu-id="2192c-249">Seu aplicativo está gerando exceções não capturadas – d: seleção de entre\\inicial\\LogFiles\\aplicativo\\arquivo de log Errors para obter detalhes de saudação na exceção de saudação.</span><span class="sxs-lookup"><span data-stu-id="2192c-249">Your application is throwing uncaught exceptions – Please check d:\\home\\LogFiles\\Application\\logging-errors.txt file for hello details on hello exception thrown.</span></span> <span data-ttu-id="2192c-250">Este arquivo tem o rastreamento de pilha Olá para que você possa corrigir seu aplicativo com base nisso.</span><span class="sxs-lookup"><span data-stu-id="2192c-250">This file has hello stack trace so you can fix your application based on this.</span></span>

### <a name="my-node-application-takes-too-much-time-toostartup-cold-start"></a><span data-ttu-id="2192c-251">Meu aplicativo node leva muito toostartup de tempo (Iniciar frio)</span><span class="sxs-lookup"><span data-stu-id="2192c-251">My node application takes too much time toostartup (Cold Start)</span></span>
<span data-ttu-id="2192c-252">O motivo mais comum para isso é que o aplicativo hello tem muitos arquivos no nó de saudação\_módulos e Olá aplicativo tentativas tooload maioria desses arquivos durante a inicialização.</span><span class="sxs-lookup"><span data-stu-id="2192c-252">Most common reason for this is that hello application has a lot of files in hello node\_modules and hello application tries tooload most of these files during startup.</span></span> <span data-ttu-id="2192c-253">Por padrão, como os arquivos residem no compartilhamento de rede Olá em Webapps do Azure, carregando muitos arquivos pode levar algum tempo.</span><span class="sxs-lookup"><span data-stu-id="2192c-253">By default, since your files reside on hello network share on Azure Webapps, loading so many files can take some time.</span></span>
<span data-ttu-id="2192c-254">Algumas soluções toomake isso mais rápido são:</span><span class="sxs-lookup"><span data-stu-id="2192c-254">Some solutions toomake this faster are:</span></span>

1. <span data-ttu-id="2192c-255">Verifique se que você tem uma estrutura simples de dependência e nenhuma dependência duplicada usando npm3 tooinstall seus módulos.</span><span class="sxs-lookup"><span data-stu-id="2192c-255">Make sure you have a flat dependency structure and no duplicate dependencies by using npm3 tooinstall your modules.</span></span>
2. <span data-ttu-id="2192c-256">Tente carregar toolazy seu nó\_módulos e não carregar todos os módulos de saudação na inicialização.</span><span class="sxs-lookup"><span data-stu-id="2192c-256">Try toolazy load your node\_modules and not load all of hello modules at startup.</span></span> <span data-ttu-id="2192c-257">Isso significa que toorequire('module') de chamada hello deve ser feita quando você realmente precisa dentro da função hello tentar toouse módulo de saudação.</span><span class="sxs-lookup"><span data-stu-id="2192c-257">This means that hello call toorequire(‘module’) should be done when you actually need it within hello function you try toouse hello module.</span></span>
3. <span data-ttu-id="2192c-258">O Azure Webapps oferece um recurso chamado cache local.</span><span class="sxs-lookup"><span data-stu-id="2192c-258">Azure Webapps offers a feature called local cache.</span></span> <span data-ttu-id="2192c-259">Esse recurso copia o conteúdo de saudação rede compartilhamento toohello disco local no hello VM.</span><span class="sxs-lookup"><span data-stu-id="2192c-259">This feature copies your content from hello network share toohello local disk on hello VM.</span></span> <span data-ttu-id="2192c-260">Olá como arquivos de saudação são locais, tempo de nó de carregamento\_módulos é muito mais rápido.</span><span class="sxs-lookup"><span data-stu-id="2192c-260">Since hello files are local, hello load time of node\_modules is much faster.</span></span> <span data-ttu-id="2192c-261">-Neste [documentação](../app-service/app-service-local-cache.md) explica como toouse Cache Local em mais detalhes.</span><span class="sxs-lookup"><span data-stu-id="2192c-261">- This [documentation](../app-service/app-service-local-cache.md) explains how toouse Local Cache in more detail.</span></span>

## <a name="iisnode-http-status-and-substatus"></a><span data-ttu-id="2192c-262">Substatus e status http de IISNODE</span><span class="sxs-lookup"><span data-stu-id="2192c-262">IISNODE http status and substatus</span></span>
<span data-ttu-id="2192c-263">Isso [arquivo de origem](https://github.com/Azure/iisnode/blob/master/src/iisnode/cnodeconstants.h) lista todos os Olá possíveis status/substatus combinação iisnode pode retornar no caso de erro.</span><span class="sxs-lookup"><span data-stu-id="2192c-263">This [source file](https://github.com/Azure/iisnode/blob/master/src/iisnode/cnodeconstants.h) lists all hello possible status/substatus combination iisnode can return in case of error.</span></span>

<span data-ttu-id="2192c-264">Habilitar FREB para o código de erro win32 do aplicativo toosee hello (certifique-se de habilitar FREB somente em sites de não produção por motivos de desempenho).</span><span class="sxs-lookup"><span data-stu-id="2192c-264">Enable FREB for your application toosee hello win32 error code (please make sure you enable FREB only on non-production sites for performance reasons).</span></span>

| <span data-ttu-id="2192c-265">Status Http</span><span class="sxs-lookup"><span data-stu-id="2192c-265">Http Status</span></span> | <span data-ttu-id="2192c-266">SubStatus Http</span><span class="sxs-lookup"><span data-stu-id="2192c-266">Http SubStatus</span></span> | <span data-ttu-id="2192c-267">Razão Possível?</span><span class="sxs-lookup"><span data-stu-id="2192c-267">Possible Reason?</span></span> |
| --- | --- | --- |
| <span data-ttu-id="2192c-268">500</span><span class="sxs-lookup"><span data-stu-id="2192c-268">500</span></span> |<span data-ttu-id="2192c-269">1000</span><span class="sxs-lookup"><span data-stu-id="2192c-269">1000</span></span> |<span data-ttu-id="2192c-270">Houve algum problema distribuindo Olá solicitação tooIISNODE – Verifique se node.exe foi iniciado.</span><span class="sxs-lookup"><span data-stu-id="2192c-270">There was some issue dispatching hello request tooIISNODE – check if node.exe was started up.</span></span> <span data-ttu-id="2192c-271">Node.exe pode ter falhado na inicialização.</span><span class="sxs-lookup"><span data-stu-id="2192c-271">Node.exe could have crashed on startup.</span></span> <span data-ttu-id="2192c-272">Verifique se há erros na configuração de web.config.</span><span class="sxs-lookup"><span data-stu-id="2192c-272">Check your web.config configuration for errors.</span></span> |
| <span data-ttu-id="2192c-273">500</span><span class="sxs-lookup"><span data-stu-id="2192c-273">500</span></span> |<span data-ttu-id="2192c-274">1001</span><span class="sxs-lookup"><span data-stu-id="2192c-274">1001</span></span> |<span data-ttu-id="2192c-275">-Win32Error 0x2 - o aplicativo não está respondendo toohello URL.</span><span class="sxs-lookup"><span data-stu-id="2192c-275">- Win32Error 0x2 - App is not responding toohello URL.</span></span> <span data-ttu-id="2192c-276">Reescrita de URL de verificação de regras ou se seu aplicativo express rotas correto de saudação definidas.</span><span class="sxs-lookup"><span data-stu-id="2192c-276">Check URL rewrite rules or if your express app has hello correct routes defined.</span></span> <span data-ttu-id="2192c-277">-Win32Error 0x6d – pipe nomeado está ocupado – Node.exe não está aceitando solicitações porque o pipe hello está ocupado.</span><span class="sxs-lookup"><span data-stu-id="2192c-277">- Win32Error 0x6d – named pipe is busy – Node.exe is not accepting requests because hello pipe is busy.</span></span> <span data-ttu-id="2192c-278">Verifique o alto uso da cpu.</span><span class="sxs-lookup"><span data-stu-id="2192c-278">Check high cpu usage.</span></span> <span data-ttu-id="2192c-279">- Outros erros – verifique se node.exe falhou.</span><span class="sxs-lookup"><span data-stu-id="2192c-279">- Other errors – check if node.exe crashed.</span></span> |
| <span data-ttu-id="2192c-280">500</span><span class="sxs-lookup"><span data-stu-id="2192c-280">500</span></span> |<span data-ttu-id="2192c-281">1002</span><span class="sxs-lookup"><span data-stu-id="2192c-281">1002</span></span> |<span data-ttu-id="2192c-282">Falha de node.exe – confira d:\\home\\LogFiles\\logging-errors.txt para o rastreamento de pilha.</span><span class="sxs-lookup"><span data-stu-id="2192c-282">Node.exe crashed – check d:\\home\\LogFiles\\logging-errors.txt for stack trace.</span></span> |
| <span data-ttu-id="2192c-283">500</span><span class="sxs-lookup"><span data-stu-id="2192c-283">500</span></span> |<span data-ttu-id="2192c-284">1003</span><span class="sxs-lookup"><span data-stu-id="2192c-284">1003</span></span> |<span data-ttu-id="2192c-285">Configuração de pipe problema – você nunca verá isso mas se você fizer isso, Olá chamado pipe configuração está incorreta.</span><span class="sxs-lookup"><span data-stu-id="2192c-285">Pipe configuration Issue – You should never see this but if you do, hello named pipe configuration is incorrect.</span></span> |
| <span data-ttu-id="2192c-286">500</span><span class="sxs-lookup"><span data-stu-id="2192c-286">500</span></span> |<span data-ttu-id="2192c-287">1004-1018</span><span class="sxs-lookup"><span data-stu-id="2192c-287">1004-1018</span></span> |<span data-ttu-id="2192c-288">Ocorreu algum erro ao enviar resposta de saudação solicitação ou processamento de saudação de node.exe.</span><span class="sxs-lookup"><span data-stu-id="2192c-288">There was some error while sending hello request or processing hello response to/from node.exe.</span></span> <span data-ttu-id="2192c-289">Verifique se node.exe falhou.</span><span class="sxs-lookup"><span data-stu-id="2192c-289">Check if node.exe crashed.</span></span> <span data-ttu-id="2192c-290">verifique d:\\home\\LogFiles\\logging-errors.txt para rastrear a pilha.</span><span class="sxs-lookup"><span data-stu-id="2192c-290">check d:\\home\\LogFiles\\logging-errors.txt for stack trace.</span></span> |
| <span data-ttu-id="2192c-291">503</span><span class="sxs-lookup"><span data-stu-id="2192c-291">503</span></span> |<span data-ttu-id="2192c-292">1000</span><span class="sxs-lookup"><span data-stu-id="2192c-292">1000</span></span> |<span data-ttu-id="2192c-293">Não há memória tooallocate mais conexões de pipe nomeadas.</span><span class="sxs-lookup"><span data-stu-id="2192c-293">Not enough memory tooallocate more named pipe connections.</span></span> <span data-ttu-id="2192c-294">Verifique por que o aplicativo está consumindo tanta memória.</span><span class="sxs-lookup"><span data-stu-id="2192c-294">Check why your app is consuming so much memory.</span></span> <span data-ttu-id="2192c-295">Verifique o valor da configuração maxConcurrentRequestsPerProcess.</span><span class="sxs-lookup"><span data-stu-id="2192c-295">Check maxConcurrentRequestsPerProcess setting value.</span></span> <span data-ttu-id="2192c-296">Se ele não infinito e você tem muitas solicitações, aumentar esse valor tooprevent esse erro.</span><span class="sxs-lookup"><span data-stu-id="2192c-296">If its not infinite and you have a lot of requests, increase this value tooprevent this error.</span></span> |
| <span data-ttu-id="2192c-297">503</span><span class="sxs-lookup"><span data-stu-id="2192c-297">503</span></span> |<span data-ttu-id="2192c-298">1001</span><span class="sxs-lookup"><span data-stu-id="2192c-298">1001</span></span> |<span data-ttu-id="2192c-299">Solicitação não pôde ser expedida toonode.exe porque a reciclagem do aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="2192c-299">Request could not be dispatched toonode.exe because hello application is recycling.</span></span> <span data-ttu-id="2192c-300">Após a reciclagem do aplicativo hello, as solicitações devem ser atendidas normalmente.</span><span class="sxs-lookup"><span data-stu-id="2192c-300">After hello application has recycled, requests should be served normally.</span></span> |
| <span data-ttu-id="2192c-301">503</span><span class="sxs-lookup"><span data-stu-id="2192c-301">503</span></span> |<span data-ttu-id="2192c-302">1002</span><span class="sxs-lookup"><span data-stu-id="2192c-302">1002</span></span> |<span data-ttu-id="2192c-303">Verificação de código de erro win32 por motivo real – a solicitação não pôde ser expedida tooa node.exe.</span><span class="sxs-lookup"><span data-stu-id="2192c-303">Check win32 error code for actual reason – Request could not be dispatched tooa node.exe.</span></span> |
| <span data-ttu-id="2192c-304">503</span><span class="sxs-lookup"><span data-stu-id="2192c-304">503</span></span> |<span data-ttu-id="2192c-305">1003</span><span class="sxs-lookup"><span data-stu-id="2192c-305">1003</span></span> |<span data-ttu-id="2192c-306">O pipe nomeado está muito ocupado – verifique se o nó está consumindo muita CPU</span><span class="sxs-lookup"><span data-stu-id="2192c-306">Named pipe is too Busy – Check if node is consuming a lot of CPU</span></span> |

<span data-ttu-id="2192c-307">Há uma configuração no NODE.exe chamada NODE\_PENDING\_PIPE\_INSTANCES.</span><span class="sxs-lookup"><span data-stu-id="2192c-307">There is a setting within NODE.exe called NODE\_PENDING\_PIPE\_INSTANCES.</span></span> <span data-ttu-id="2192c-308">Por padrão, fora do Azure Webapps, esse valor é 4.</span><span class="sxs-lookup"><span data-stu-id="2192c-308">By default outside of azure webapps this value is 4.</span></span> <span data-ttu-id="2192c-309">Isso significa que node.exe só pode aceitar 4 solicitações em um horário Olá pipe nomeado.</span><span class="sxs-lookup"><span data-stu-id="2192c-309">This means that node.exe can only accept 4 requests at a time on hello named pipe.</span></span> <span data-ttu-id="2192c-310">No Azure Webapps, esse valor é definido too5000 e esse valor deve ser suficiente para a maioria dos aplicativos de nó em execução no azure webapps.</span><span class="sxs-lookup"><span data-stu-id="2192c-310">On Azure Webapps, this value is set too5000 and this value should be good enough for most node applications running on azure webapps.</span></span> <span data-ttu-id="2192c-311">Você não deve ver 503.1003 no azure webapps porque temos um valor alto para Olá nó\_pendente\_PIPE\_INSTÂNCIAS.</span><span class="sxs-lookup"><span data-stu-id="2192c-311">You should not see 503.1003 on azure webapps because we have a high value for hello NODE\_PENDING\_PIPE\_INSTANCES.</span></span>  |

## <a name="more-resources"></a><span data-ttu-id="2192c-312">Mais recursos</span><span class="sxs-lookup"><span data-stu-id="2192c-312">More resources</span></span>
<span data-ttu-id="2192c-313">Siga essas toolearn links mais sobre aplicativos node.js no serviço de aplicativo do Azure.</span><span class="sxs-lookup"><span data-stu-id="2192c-313">Follow these links toolearn more about node.js applications on Azure App Service.</span></span>

* [<span data-ttu-id="2192c-314">Get started with Node.js web apps in Azure App Service (Introdução aos aplicativos Web do Node.js no Serviço de Aplicativo do Azure)</span><span class="sxs-lookup"><span data-stu-id="2192c-314">Get started with Node.js web apps in Azure App Service</span></span>](app-service-web-get-started-nodejs.md)
* [<span data-ttu-id="2192c-315">Como toodebug um Node. js web app no serviço de aplicativo do Azure</span><span class="sxs-lookup"><span data-stu-id="2192c-315">How toodebug a Node.js web app in Azure App Service</span></span>](web-sites-nodejs-debug.md)
* [<span data-ttu-id="2192c-316">Usando Módulos no Node.js com aplicativos do Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="2192c-316">Using Node.js Modules with Azure applications</span></span>](../nodejs-use-node-modules-azure-apps.md)
* [<span data-ttu-id="2192c-317">Aplicativos Web do Serviço de Aplicativo do Azure: Node.js</span><span class="sxs-lookup"><span data-stu-id="2192c-317">Azure App Service Web Apps: Node.js</span></span>](https://blogs.msdn.microsoft.com/silverlining/2012/06/14/windows-azure-websites-node-js/)
* [<span data-ttu-id="2192c-318">Centro de Desenvolvedores do Node.js</span><span class="sxs-lookup"><span data-stu-id="2192c-318">Node.js Developer Center</span></span>](../nodejs-use-node-modules-azure-apps.md)
* [<span data-ttu-id="2192c-319">Explorando Olá Super segredo Kudu depurar Console</span><span class="sxs-lookup"><span data-stu-id="2192c-319">Exploring hello Super Secret Kudu Debug Console</span></span>](https://azure.microsoft.com/documentation/videos/super-secret-kudu-debug-console-for-azure-web-sites/)

