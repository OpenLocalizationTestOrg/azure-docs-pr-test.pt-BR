---
title: aaaIntegrate um aplicativo com uma rede Virtual do Azure
description: "Mostra como tooconnect um aplicativo de serviço de aplicativo do Azure tooa existente ou nova rede virtual do Azure"
services: app-service
documentationcenter: 
author: ccompy
manager: erikre
editor: cephalin
ms.assetid: 90bc6ec6-133d-4d87-a867-fcf77da75f5a
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/23/2017
ms.author: ccompy
ms.openlocfilehash: a93c504481400245b02220b541a008a7c874d10a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="integrate-your-app-with-an-azure-virtual-network"></a><span data-ttu-id="c6052-103">Integrar seu aplicativo Web a uma Rede Virtual do Azure</span><span class="sxs-lookup"><span data-stu-id="c6052-103">Integrate your app with an Azure Virtual Network</span></span>
<span data-ttu-id="c6052-104">Este documento descreve o recurso de integração de rede virtual do serviço de aplicativo do Azure hello e mostra como tooset-lo com aplicativos em [do serviço de aplicativo do Azure](http://go.microsoft.com/fwlink/?LinkId=529714).</span><span class="sxs-lookup"><span data-stu-id="c6052-104">This document describes hello Azure App Service virtual network integration feature and shows how tooset it up with apps in [Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714).</span></span> <span data-ttu-id="c6052-105">Se você estiver familiarizado com redes virtuais do Azure (VNets), esse é um recurso que permite que você tooplace muitos dos recursos do Azure em uma rede de internet não routeable que você controlar o acessem.</span><span class="sxs-lookup"><span data-stu-id="c6052-105">If you are unfamiliar with Azure Virtual Networks (VNets), this is a capability that allows you tooplace many of your Azure resources in a non-internet routeable network that you control access to.</span></span> <span data-ttu-id="c6052-106">Essas redes podem ser redes locais de tooyour conectado usando uma variedade de tecnologias de VPN.</span><span class="sxs-lookup"><span data-stu-id="c6052-106">These networks can then be connected tooyour on-premises networks using a variety of VPN technologies.</span></span> <span data-ttu-id="c6052-107">toolearn mais sobre redes virtuais do Azure, inicie com informações de saudação aqui: [visão geral da rede Virtual do Azure][VNETOverview].</span><span class="sxs-lookup"><span data-stu-id="c6052-107">toolearn more about Azure Virtual Networks, start with hello information here: [Azure Virtual Network Overview][VNETOverview].</span></span> 

<span data-ttu-id="c6052-108">saudação do serviço de aplicativo do Azure tem duas formas.</span><span class="sxs-lookup"><span data-stu-id="c6052-108">hello Azure App Service has two forms.</span></span> 

1. <span data-ttu-id="c6052-109">sistemas de vários locatários Olá que dão suporte a gama completa de saudação de planos de preços</span><span class="sxs-lookup"><span data-stu-id="c6052-109">hello multi-tenant systems that support hello full range of pricing plans</span></span>
2. <span data-ttu-id="c6052-110">recurso de premium do ambiente de serviço de aplicativo (ASE) de saudação, que implanta em sua rede virtual.</span><span class="sxs-lookup"><span data-stu-id="c6052-110">hello App Service Environment (ASE) premium feature, which deploys into your VNet.</span></span> 

<span data-ttu-id="c6052-111">Este documento passa pela Integração VNet e não pelo Ambiente de Serviço de Aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c6052-111">This document goes through VNet Integration and not App Service Environment.</span></span> <span data-ttu-id="c6052-112">Se você quiser toolearn mais sobre o recurso de saudação ASE, começar com informações de saudação aqui: [introdução do ambiente de serviço de aplicativo][ASEintro].</span><span class="sxs-lookup"><span data-stu-id="c6052-112">If you want toolearn more about hello ASE feature, start with hello information here: [App Service Environment introduction][ASEintro].</span></span>

<span data-ttu-id="c6052-113">Integração da VNet fornece seu tooresources de acesso do aplicativo web em sua rede virtual, mas não concede acesso privado tooyour web aplicativo de rede virtual hello.</span><span class="sxs-lookup"><span data-stu-id="c6052-113">VNet Integration gives your web app access tooresources in your virtual network but does not grant private access tooyour web app from hello virtual network.</span></span> <span data-ttu-id="c6052-114">Acesso ao site privada refere-se toomaking seu aplicativo somente é acessível de uma rede privada, como de dentro de uma rede virtual do Azure.</span><span class="sxs-lookup"><span data-stu-id="c6052-114">Private site access refers toomaking your app only accessible from a private network such as from within an Azure virtual network.</span></span> <span data-ttu-id="c6052-115">O acesso de site privado só está disponível com um ASE configurado com um ILB (Balanceador de carga interno).</span><span class="sxs-lookup"><span data-stu-id="c6052-115">Private site access is only available with an ASE configured with an Internal Load Balancer (ILB).</span></span> <span data-ttu-id="c6052-116">Para obter detalhes sobre como usar uma ASE ILB, inicie com o artigo de saudação aqui: [criando e usando uma ASE ILB][ILBASE].</span><span class="sxs-lookup"><span data-stu-id="c6052-116">For details on using an ILB ASE, start with hello article here: [Creating and using an ILB ASE][ILBASE].</span></span> 

<span data-ttu-id="c6052-117">Um cenário comum onde você usaria a integração da VNet é habilitando o acesso do seu banco de dados de tooa de aplicativo da web ou um serviço da web em execução em uma máquina virtual em sua rede virtual do Azure.</span><span class="sxs-lookup"><span data-stu-id="c6052-117">A common scenario where you would use VNet Integration is enabling access from your web app tooa database or a web service running on a virtual machine in your Azure virtual network.</span></span> <span data-ttu-id="c6052-118">Com a integração de rede virtual, você não precisa tooexpose um ponto de extremidade público para aplicativos em sua VM mas pode usar Olá privada internet não roteável endereços.</span><span class="sxs-lookup"><span data-stu-id="c6052-118">With VNet Integration, you don't need tooexpose a public endpoint for applications on your VM but can use hello private non-internet routable addresses instead.</span></span> 

<span data-ttu-id="c6052-119">recurso de integração da VNet Hello:</span><span class="sxs-lookup"><span data-stu-id="c6052-119">hello VNet Integration feature:</span></span>

* <span data-ttu-id="c6052-120">requer um plano de preços Standard, Premium ou Isolado</span><span class="sxs-lookup"><span data-stu-id="c6052-120">requires a Standard, Premium, or Isolated pricing plan</span></span> 
* <span data-ttu-id="c6052-121">funciona com VNet clássica ou do Gerenciador de Recursos</span><span class="sxs-lookup"><span data-stu-id="c6052-121">works with Classic or Resource Manager VNet</span></span> 
* <span data-ttu-id="c6052-122">dá suporte a TCP e UDP</span><span class="sxs-lookup"><span data-stu-id="c6052-122">supports TCP and UDP</span></span>
* <span data-ttu-id="c6052-123">funciona com aplicativos Web, móveis e de API</span><span class="sxs-lookup"><span data-stu-id="c6052-123">works with Web, Mobile, and API apps</span></span>
* <span data-ttu-id="c6052-124">permite que um tooonly tooconnect do aplicativo 1 rede virtual por vez</span><span class="sxs-lookup"><span data-stu-id="c6052-124">enables an app tooconnect tooonly 1 VNet at a time</span></span>
* <span data-ttu-id="c6052-125">permite que o toofive VNets toobe integrado com um plano de serviço de aplicativo</span><span class="sxs-lookup"><span data-stu-id="c6052-125">enables up toofive VNets toobe integrated with in an App Service Plan</span></span> 
* <span data-ttu-id="c6052-126">permite Olá mesmo toobe de rede virtual usada por vários aplicativos em um plano de serviço de aplicativo</span><span class="sxs-lookup"><span data-stu-id="c6052-126">allows hello same VNet toobe used by multiple apps in an App Service Plan</span></span>
* <span data-ttu-id="c6052-127">oferece suporte a um SLA de 99,9% de conclusão toohello SLA Olá Gateway de rede virtual</span><span class="sxs-lookup"><span data-stu-id="c6052-127">supports a 99.9% SLA due toohello SLA on hello VNet Gateway</span></span>

<span data-ttu-id="c6052-128">Há algumas coisas a que a integração VNet não dá suporte, incluindo:</span><span class="sxs-lookup"><span data-stu-id="c6052-128">There are some things that VNet Integration does not support including:</span></span>

* <span data-ttu-id="c6052-129">montagem de unidade</span><span class="sxs-lookup"><span data-stu-id="c6052-129">mounting a drive</span></span>
* <span data-ttu-id="c6052-130">integração ao AD</span><span class="sxs-lookup"><span data-stu-id="c6052-130">AD integration</span></span> 
* <span data-ttu-id="c6052-131">NetBios</span><span class="sxs-lookup"><span data-stu-id="c6052-131">NetBios</span></span>
* <span data-ttu-id="c6052-132">acesso a site privado</span><span class="sxs-lookup"><span data-stu-id="c6052-132">private site access</span></span>

### <a name="getting-started"></a><span data-ttu-id="c6052-133">Introdução</span><span class="sxs-lookup"><span data-stu-id="c6052-133">Getting started</span></span>
<span data-ttu-id="c6052-134">Aqui estão algumas coisas tookeep em mente antes de conectar sua rede virtual de tooa de aplicativo web:</span><span class="sxs-lookup"><span data-stu-id="c6052-134">Here are some things tookeep in mind before connecting your web app tooa virtual network:</span></span>

* <span data-ttu-id="c6052-135">A integração VNet só funciona com aplicativos em um plano de preços **Standard**, **Premium** ou **Isolado**.</span><span class="sxs-lookup"><span data-stu-id="c6052-135">VNet Integration only works with apps in a **Standard**, **Premium**, or **Isolated** pricing plan.</span></span> <span data-ttu-id="c6052-136">Se você habilitar o recurso de saudação e, em seguida, dimensionar seu tooan de plano de serviço de aplicativo sem suporte preços do plano de seus aplicativos percam toohello suas conexões VNets que estão usando.</span><span class="sxs-lookup"><span data-stu-id="c6052-136">If you enable hello feature, and then scale your App Service Plan tooan unsupported pricing plan your apps lose their connections toohello VNets they are using.</span></span> 
* <span data-ttu-id="c6052-137">Se sua rede virtual de destino já existir, ele deverá ter VPN ponto a site habilitada com um gateway de roteamento dinâmico para que possa ser conectada tooan aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c6052-137">If your target virtual network already exists, it must have point-to-site VPN enabled with a Dynamic routing gateway before it can be connected tooan app.</span></span> <span data-ttu-id="c6052-138">Se o gateway estiver configurado com roteamento Estático, não será possível habilitar a opção ponto a site da VPN (Rede virtual privada).</span><span class="sxs-lookup"><span data-stu-id="c6052-138">If your gateway is configured with Static routing, you cannot enable point-to-site Virtual Private Network (VPN).</span></span>
* <span data-ttu-id="c6052-139">Olá rede virtual deve estar no hello mesma assinatura que o Plan(ASP) de serviço do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c6052-139">hello VNet must be in hello same subscription as your App Service Plan(ASP).</span></span> 
* <span data-ttu-id="c6052-140">Olá aplicativos que se integram com uma rede virtual usam Olá DNS especificado para essa rede virtual.</span><span class="sxs-lookup"><span data-stu-id="c6052-140">hello apps that integrate with a VNet use hello DNS that is specified for that VNet.</span></span>
* <span data-ttu-id="c6052-141">Por padrão, seus aplicativos de integração somente rotear o tráfego em sua rede virtual com base nas rotas Olá que estão definidas na sua rede virtual.</span><span class="sxs-lookup"><span data-stu-id="c6052-141">By default your integrating apps only route traffic into your VNet based on hello routes that are defined in your VNet.</span></span> 

## <a name="enabling-vnet-integration"></a><span data-ttu-id="c6052-142">Habilitar a integração VNet</span><span class="sxs-lookup"><span data-stu-id="c6052-142">Enabling VNet Integration</span></span>
<span data-ttu-id="c6052-143">Este documento destina-se principalmente em usando Olá portal do Azure para a integração de rede virtual.</span><span class="sxs-lookup"><span data-stu-id="c6052-143">This document is focused primarily on using hello Azure portal for VNet Integration.</span></span> <span data-ttu-id="c6052-144">tooenable integração da VNet com seu aplicativo usando o PowerShell, execute instruções de saudação aqui: [conectar sua rede virtual do aplicativo tooyour usando PowerShell][IntPowershell].</span><span class="sxs-lookup"><span data-stu-id="c6052-144">tooenable VNet Integration with your app using PowerShell, follow hello directions here: [Connect your app tooyour virtual network by using PowerShell][IntPowershell].</span></span>

<span data-ttu-id="c6052-145">Você tem Olá opção tooconnect seu aplicativo tooa existente ou nova rede virtual.</span><span class="sxs-lookup"><span data-stu-id="c6052-145">You have hello option tooconnect your app tooa new or existing virtual network.</span></span> <span data-ttu-id="c6052-146">Se você criar uma nova rede como parte de seu processo de integração, em seguida, além de criar toojust Olá VNet, um gateway de roteamento dinâmico é pré-configurado para você e ponto tooSite VPN estiver habilitada.</span><span class="sxs-lookup"><span data-stu-id="c6052-146">If you create a new network as a part of your integration, then in addition toojust creating hello VNet, a dynamic routing gateway is pre-configured for you and Point tooSite VPN is enabled.</span></span> 

> [!NOTE]
> <span data-ttu-id="c6052-147">A configuração de uma nova integração da rede virtual pode levar vários minutos.</span><span class="sxs-lookup"><span data-stu-id="c6052-147">Configuring a new virtual network integration can take several minutes.</span></span> 
> 
> 

<span data-ttu-id="c6052-148">tooenable integração da rede virtual, abra o aplicativo configurações e, em seguida, selecione a rede.</span><span class="sxs-lookup"><span data-stu-id="c6052-148">tooenable VNet Integration, open your app Settings and then select Networking.</span></span> <span data-ttu-id="c6052-149">Saudação da interface do usuário que abre oferece três opções de rede.</span><span class="sxs-lookup"><span data-stu-id="c6052-149">hello UI that opens up offers three networking choices.</span></span> <span data-ttu-id="c6052-150">Este guia só aborda a integração VNet, mas as Conexões Híbridas e Ambientes de Serviço de Aplicativo são discutidos neste documento.</span><span class="sxs-lookup"><span data-stu-id="c6052-150">This guide is only going into VNet Integration though Hybrid Connections and App Service Environments are discussed later in this document.</span></span> 

<span data-ttu-id="c6052-151">Se seu aplicativo não estiver na saudação correta de preços do plano, Olá da interface do usuário permite que você tooscale sua tooa plano superior preços do plano de sua escolha.</span><span class="sxs-lookup"><span data-stu-id="c6052-151">If your app is not in hello correct pricing plan, hello UI enables you tooscale your plan tooa higher pricing plan of your choice.</span></span>

![][1]

### <a name="enabling-vnet-integration-with-a-pre-existing-vnet"></a><span data-ttu-id="c6052-152">Habilitar a integração VNet com uma VNet já existente</span><span class="sxs-lookup"><span data-stu-id="c6052-152">Enabling VNet Integration with a pre-existing VNet</span></span>
<span data-ttu-id="c6052-153">Saudação da interface do usuário de integração de rede virtual permite que você tooselect em uma lista de seus VNets.</span><span class="sxs-lookup"><span data-stu-id="c6052-153">hello VNet Integration UI allows you tooselect from a list of your VNets.</span></span> <span data-ttu-id="c6052-154">Olá VNets clássico indicar que eles são, com a palavra hello "Clássico" em nome de rede virtual toohello próximo parênteses.</span><span class="sxs-lookup"><span data-stu-id="c6052-154">hello Classic VNets indicate that they are such with hello word "Classic" in parentheses next toohello VNet name.</span></span> <span data-ttu-id="c6052-155">Olá lista é classificada de modo que hello VNets Gerenciador de recursos são listados primeiro.</span><span class="sxs-lookup"><span data-stu-id="c6052-155">hello list is sorted such that hello Resource Manager VNets are listed first.</span></span> <span data-ttu-id="c6052-156">Olá imagem mostrada abaixo, você verá que pode ser selecionada apenas um VNet.</span><span class="sxs-lookup"><span data-stu-id="c6052-156">In hello image shown below you can see that only one VNet can be selected.</span></span> <span data-ttu-id="c6052-157">Há vários motivos para uma VNet ficar esmaecida, incluindo:</span><span class="sxs-lookup"><span data-stu-id="c6052-157">There are multiple reasons that a VNet can be grayed out including:</span></span>

* <span data-ttu-id="c6052-158">saudação de rede virtual está em outra assinatura que sua conta tem acesso ao</span><span class="sxs-lookup"><span data-stu-id="c6052-158">hello VNet is in another subscription that your account has access to</span></span>
* <span data-ttu-id="c6052-159">saudação de rede virtual não tem ponto tooSite habilitado</span><span class="sxs-lookup"><span data-stu-id="c6052-159">hello VNet does not have Point tooSite enabled</span></span>
* <span data-ttu-id="c6052-160">saudação de rede virtual não tem um gateway de roteamento dinâmico</span><span class="sxs-lookup"><span data-stu-id="c6052-160">hello VNet does not have a dynamic routing gateway</span></span>

![][2]

<span data-ttu-id="c6052-161">integração tooenable simplesmente clique no hello VNet que você deseja toointegrate com.</span><span class="sxs-lookup"><span data-stu-id="c6052-161">tooenable integration simply click on hello VNet you wish toointegrate with.</span></span> <span data-ttu-id="c6052-162">Depois de selecionar Olá VNet, seu aplicativo será reiniciado automaticamente para Olá alterações tootake efeito.</span><span class="sxs-lookup"><span data-stu-id="c6052-162">After you select hello VNet, your app is automatically restarted for hello changes tootake effect.</span></span> 

##### <a name="enable-point-toosite-in-a-classic-vnet"></a><span data-ttu-id="c6052-163">Habilitar tooSite ponto em uma rede virtual clássica</span><span class="sxs-lookup"><span data-stu-id="c6052-163">Enable Point tooSite in a Classic VNet</span></span>
<span data-ttu-id="c6052-164">Se a sua rede virtual não tem um gateway nem tem tooSite ponto, você tem tooset que primeiro backup.</span><span class="sxs-lookup"><span data-stu-id="c6052-164">If your VNet does not have a gateway nor has Point tooSite, then you have tooset that up first.</span></span> <span data-ttu-id="c6052-165">toodo isso para uma rede virtual clássica, vá toohello [portal do Azure] [ AzurePortal] e exibir lista de saudação de Networks(classic) Virtual.</span><span class="sxs-lookup"><span data-stu-id="c6052-165">toodo this for a Classic VNet, go toohello [Azure portal][AzurePortal] and bring up hello list of Virtual Networks(classic).</span></span> <span data-ttu-id="c6052-166">A partir daqui, clique na rede de saudação desejado toointegrate com e clique na caixa grande de saudação em Essentials chamado conexões VPN.</span><span class="sxs-lookup"><span data-stu-id="c6052-166">From here, click on hello network you want toointegrate with and click on hello big box under Essentials called VPN Connections.</span></span> <span data-ttu-id="c6052-167">A partir daqui, você pode criar seu VPN ponto toosite e até ter criar um gateway.</span><span class="sxs-lookup"><span data-stu-id="c6052-167">From here, you can create your point toosite VPN and even have it create a gateway.</span></span> <span data-ttu-id="c6052-168">Depois que você passe por Olá ponto toosite com a experiência de criação de gateway é cerca de 30 minutos antes de estar pronto.</span><span class="sxs-lookup"><span data-stu-id="c6052-168">After you go through hello point toosite with gateway creation experience it is about 30 minutes before it is ready.</span></span> 

![][8]

##### <a name="enabling-point-toosite-in-a-resource-manager-vnet"></a><span data-ttu-id="c6052-169">Habilitar ponto tooSite em uma VNet do Gerenciador de recursos</span><span class="sxs-lookup"><span data-stu-id="c6052-169">Enabling Point tooSite in a Resource Manager VNet</span></span>
<span data-ttu-id="c6052-170">tooconfigure um Gerenciador de recursos de VNet com um gateway e tooSite ponto, você pode usar o PowerShell conforme documentado aqui, [configurar uma ponto para Site conexão tooa rede virtual usando o PowerShell] [ V2VNETP2S] ou use Olá portal do Azure conforme documentado aqui, [configurar um ponto para Site conexão tooa redes usando o portal do Azure de Olá][V2VNETPortal].</span><span class="sxs-lookup"><span data-stu-id="c6052-170">tooconfigure a Resource Manager VNet with a gateway and Point tooSite, you can use either PowerShell as documented here, [Configure a Point-to-Site connection tooa virtual network using PowerShell][V2VNETP2S] or use hello Azure portal as documented here, [Configure a Point-to-Site connection tooa VNet using hello Azure portal][V2VNETPortal].</span></span> <span data-ttu-id="c6052-171">Saudação da interface do usuário tooperform esse recurso ainda não está disponível.</span><span class="sxs-lookup"><span data-stu-id="c6052-171">hello UI tooperform this capability is not yet available.</span></span> <span data-ttu-id="c6052-172">Observe que você precisa toocreate certificados para configuração de ponto tooSite hello.</span><span class="sxs-lookup"><span data-stu-id="c6052-172">Note that you need toocreate certificates for hello Point tooSite configuration.</span></span> <span data-ttu-id="c6052-173">Isso é configurado automaticamente quando você se conecta a seu toohello WebApp VNet.</span><span class="sxs-lookup"><span data-stu-id="c6052-173">This is automatically configured when you connect your WebApp toohello VNet.</span></span> 

### <a name="creating-a-pre-configured-vnet"></a><span data-ttu-id="c6052-174">Criar uma VNet pré-configurada</span><span class="sxs-lookup"><span data-stu-id="c6052-174">Creating a pre-configured VNet</span></span>
<span data-ttu-id="c6052-175">Se você quiser toocreate uma nova rede virtual que está configurada com um gateway e ponto a Site, da interface do usuário do sistema de rede do serviço de aplicativo hello tem Olá recurso toodo que mas apenas para uma rede virtual Gerenciador de recursos.</span><span class="sxs-lookup"><span data-stu-id="c6052-175">If you want toocreate a new VNet that is configured with a gateway and Point-to-Site, then hello App Service networking UI has hello capability toodo that but only for a Resource Manager VNet.</span></span> <span data-ttu-id="c6052-176">Se você deseja toocreate uma VNet clássico com um gateway e ponto a Site, será necessário toodo isso manualmente por meio da interface de usuário de rede hello.</span><span class="sxs-lookup"><span data-stu-id="c6052-176">If you wish toocreate a Classic VNet with a gateway and Point-to-Site, then you need toodo this manually through hello Networking user interface.</span></span> 

<span data-ttu-id="c6052-177">toocreate VNet um Gerenciador de recursos por meio de saudação VNet integração da interface do usuário, basta selecionar **criar nova rede Virtual** e forneça o:</span><span class="sxs-lookup"><span data-stu-id="c6052-177">toocreate a Resource Manager VNet through hello VNet Integration UI, simply select **Create New Virtual Network** and provide the:</span></span>

* <span data-ttu-id="c6052-178">Nome da VNET</span><span class="sxs-lookup"><span data-stu-id="c6052-178">Virtual Network Name</span></span>
* <span data-ttu-id="c6052-179">Bloco de endereço da VNET</span><span class="sxs-lookup"><span data-stu-id="c6052-179">Virtual Network Address Block</span></span>
* <span data-ttu-id="c6052-180">Nome da sub-rede</span><span class="sxs-lookup"><span data-stu-id="c6052-180">Subnet Name</span></span>
* <span data-ttu-id="c6052-181">Bloco de endereço da sub-rede</span><span class="sxs-lookup"><span data-stu-id="c6052-181">Subnet Address Block</span></span>
* <span data-ttu-id="c6052-182">Bloco de endereço do Gateway</span><span class="sxs-lookup"><span data-stu-id="c6052-182">Gateway Address Block</span></span>
* <span data-ttu-id="c6052-183">Bloco de endereço Ponto a site</span><span class="sxs-lookup"><span data-stu-id="c6052-183">Point-to-Site Address Block</span></span>

<span data-ttu-id="c6052-184">Se desejar que esta tooany de tooconnect VNet outras redes, você deve evitar espaço de endereço IP que se sobrepõe a essas redes de separação.</span><span class="sxs-lookup"><span data-stu-id="c6052-184">If you want this VNet tooconnect tooany other networks, then you should avoid picking IP address space that overlaps with those networks.</span></span> 

> [!NOTE]
> <span data-ttu-id="c6052-185">Criação da VNet do Gerenciador de recursos com um gateway leva cerca de 30 minutos e atualmente não se integra Olá VNet com seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c6052-185">Resource Manager VNet creation with a gateway takes about 30 minutes and currently does not integrate hello VNet with your app.</span></span> <span data-ttu-id="c6052-186">Depois que sua rede virtual é criada com o gateway Olá você precisa toocome tooyour back aplicativo da interface do usuário de integração de rede virtual e selecione sua nova rede virtual.</span><span class="sxs-lookup"><span data-stu-id="c6052-186">After your VNet is created with hello gateway you need toocome back tooyour app VNet Integration UI and select your new VNet.</span></span>
> 
> 

![][3]

<span data-ttu-id="c6052-187">As VNets do Azure normalmente são criadas dentro de endereços de rede privada.</span><span class="sxs-lookup"><span data-stu-id="c6052-187">Azure VNets normally are created within private network addresses.</span></span> <span data-ttu-id="c6052-188">Por saudação padrão integração da VNet recurso roteia todo o tráfego destinado a esses intervalos de endereços IP em sua rede virtual.</span><span class="sxs-lookup"><span data-stu-id="c6052-188">By default hello VNet Integration feature routes any traffic destined for those IP address ranges into your VNet.</span></span> <span data-ttu-id="c6052-189">intervalos de endereços IP privados Olá são:</span><span class="sxs-lookup"><span data-stu-id="c6052-189">hello private IP address ranges are:</span></span>

* <span data-ttu-id="c6052-190">10.0.0.0/8 - isso é Olá mesmo como 10.0.0.0 - 10.255.255.255</span><span class="sxs-lookup"><span data-stu-id="c6052-190">10.0.0.0/8 - this is hello same as 10.0.0.0 - 10.255.255.255</span></span>
* <span data-ttu-id="c6052-191">172.16.0.0/12 - isso é Olá mesmo como 172.16.0.0 - 172.31.255.255</span><span class="sxs-lookup"><span data-stu-id="c6052-191">172.16.0.0/12 - this is hello same as 172.16.0.0 - 172.31.255.255</span></span> 
* <span data-ttu-id="c6052-192">192.168.0.0/16 - isso é Olá mesmo como 192.168.0.0 - 192.168.255.255</span><span class="sxs-lookup"><span data-stu-id="c6052-192">192.168.0.0/16 - this is hello same as 192.168.0.0 - 192.168.255.255</span></span>

<span data-ttu-id="c6052-193">Olá espaço de endereço de rede virtual precisa toobe especificado na notação CIDR.</span><span class="sxs-lookup"><span data-stu-id="c6052-193">hello VNet address space needs toobe specified in CIDR notation.</span></span> <span data-ttu-id="c6052-194">Se você estiver familiarizado com notação CIDR, ele é um método para especificar os blocos de endereço usando um endereço IP e um número inteiro que representa a máscara de rede de saudação.</span><span class="sxs-lookup"><span data-stu-id="c6052-194">If you are unfamiliar with CIDR notation, it is a method for specifying address blocks using an IP address and an integer that represents hello network mask.</span></span> <span data-ttu-id="c6052-195">Como uma referência rápida, considere que 10.1.0.0/24 seria 256 endereços e 10.1.0.0/25 seria 128 endereços.</span><span class="sxs-lookup"><span data-stu-id="c6052-195">As a quick reference, consider that 10.1.0.0/24 would be 256 addresses and 10.1.0.0/25 would be 128 addresses.</span></span> <span data-ttu-id="c6052-196">Um endereço IPv4 com um /32 seria apenas 1 endereço.</span><span class="sxs-lookup"><span data-stu-id="c6052-196">An IPv4 address with a /32 would be just 1 address.</span></span> 

<span data-ttu-id="c6052-197">Se você definir aqui Olá informações do servidor DNS, que é definido para a sua rede virtual.</span><span class="sxs-lookup"><span data-stu-id="c6052-197">If you set hello DNS server information here, then that is set for your VNet.</span></span> <span data-ttu-id="c6052-198">Após a criação de rede virtual, você pode editar essas informações de saudação experiências de usuário de rede virtual.</span><span class="sxs-lookup"><span data-stu-id="c6052-198">After VNet creation you can edit this information from hello VNet user experiences.</span></span> <span data-ttu-id="c6052-199">Se você alterar Olá DNS de saudação VNet, você precisa tooperform uma operação de sincronização de rede.</span><span class="sxs-lookup"><span data-stu-id="c6052-199">If you change hello DNS of hello VNet, then you need tooperform a Sync Network operation.</span></span>

<span data-ttu-id="c6052-200">Quando você cria uma VNet clássico usando Olá da interface do usuário de integração de rede virtual, ele cria uma rede virtual no hello mesmo grupo de recursos que seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c6052-200">When you create a Classic VNet using hello VNet Integration UI, it creates a VNet in hello same resource group as your app.</span></span> 

## <a name="how-hello-system-works"></a><span data-ttu-id="c6052-201">Como funciona o sistema Olá</span><span class="sxs-lookup"><span data-stu-id="c6052-201">How hello system works</span></span>
<span data-ttu-id="c6052-202">Sob as coberturas de saudação esse recurso se baseia nos tooconnect de tecnologia VPN ponto a Site tooyour seu aplicativo VNet.</span><span class="sxs-lookup"><span data-stu-id="c6052-202">Under hello covers this feature builds on top of Point-to-Site VPN technology tooconnect your app tooyour VNet.</span></span> <span data-ttu-id="c6052-203">Aplicativos no Serviço de Aplicativo do Azure têm uma arquitetura de sistema multilocatário, que impede o provisionamento de um aplicativo diretamente em uma VNet, como ocorre com máquinas virtuais.</span><span class="sxs-lookup"><span data-stu-id="c6052-203">Apps in Azure App Service have a multi-tenant system architecture, which precludes provisioning an app directly in a VNet as is done with virtual machines.</span></span> <span data-ttu-id="c6052-204">Criando-se na tecnologia de ponto para site limitamos rede acesso toojust Olá máquina virtual que hospeda aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="c6052-204">By building on point-to-site technology we limit network access toojust hello virtual machine hosting hello app.</span></span> <span data-ttu-id="c6052-205">Acesso a rede toohello será restringida ainda mais nesses hosts de aplicativo para que seus aplicativos só possam acessar redes de saudação que configurá-las tooaccess.</span><span class="sxs-lookup"><span data-stu-id="c6052-205">Access toohello network is further restricted on those app hosts so that your apps can only access hello networks that you configure them tooaccess.</span></span> 

![][4]

<span data-ttu-id="c6052-206">Se você ainda não configurou um servidor DNS à sua rede virtual, seu aplicativo precisará toouse recurso de tooreach de endereços IP em redes de saudação.</span><span class="sxs-lookup"><span data-stu-id="c6052-206">If you haven’t configured a DNS server with your virtual network, your app will need toouse IP addresses tooreach resource in hello VNet.</span></span> <span data-ttu-id="c6052-207">Ao usar endereços IP, lembre-se de que o benefício principal de saudação desse recurso é que ele permite que você toouse endereços privados do hello dentro de sua rede privada.</span><span class="sxs-lookup"><span data-stu-id="c6052-207">While using IP addresses, remember that hello major benefit of this feature is that it enables you toouse hello private addresses within your private network.</span></span> <span data-ttu-id="c6052-208">Se você definir seu aplicativo backup toouse endereços IP públicos para uma das suas VMs, você não estiver usando o recurso de integração da VNet hello e está se comunicando por Olá da internet.</span><span class="sxs-lookup"><span data-stu-id="c6052-208">If you set your app up toouse public IP addresses for one of your VMs, then you aren't using hello VNet Integration feature and are communicating over hello internet.</span></span>

## <a name="managing-hello-vnet-integrations"></a><span data-ttu-id="c6052-209">Gerenciando Olá integrações de rede virtual</span><span class="sxs-lookup"><span data-stu-id="c6052-209">Managing hello VNet Integrations</span></span>
<span data-ttu-id="c6052-210">Olá tooconnect de capacidade e desconecte tooa que rede virtual está em um nível de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c6052-210">hello ability tooconnect and disconnect tooa VNet is at an app level.</span></span> <span data-ttu-id="c6052-211">As operações que podem afetar a saudação integração da rede virtual entre vários aplicativos estão em um nível ASP.</span><span class="sxs-lookup"><span data-stu-id="c6052-211">Operations that can affect hello VNet Integration across multiple apps are at an ASP level.</span></span> <span data-ttu-id="c6052-212">De saudação da interface do usuário que é mostrada no nível de aplicativo hello, você pode obter os detalhes em sua rede virtual.</span><span class="sxs-lookup"><span data-stu-id="c6052-212">From hello UI that is shown at hello app level, you can get details on your VNet.</span></span> <span data-ttu-id="c6052-213">Maioria dos Olá mesmas informações também são mostradas no hello ASP níveis.</span><span class="sxs-lookup"><span data-stu-id="c6052-213">Most of hello same information is also shown at hello ASP level.</span></span> 

![][5]

<span data-ttu-id="c6052-214">Na página de Status do recurso de rede hello, você pode ver se seu aplicativo estiver conectado tooyour VNet.</span><span class="sxs-lookup"><span data-stu-id="c6052-214">From hello Network Feature Status page, you can see if your app is connected tooyour VNet.</span></span> <span data-ttu-id="c6052-215">Se o gateway da VNet estiver inativo por qualquer motivo, ele aparecerá como não conectado.</span><span class="sxs-lookup"><span data-stu-id="c6052-215">If your VNet gateway is down for whatever reason, then this would show as not-connected.</span></span> 

<span data-ttu-id="c6052-216">informações de saudação tem agora tooyou disponível no aplicativo hello nível interface do usuário de integração de rede virtual é Olá mesmo como informações de detalhe de saudação obtido Olá ASP.</span><span class="sxs-lookup"><span data-stu-id="c6052-216">hello information you now have available tooyou in hello app level VNet Integration UI is hello same as hello detail information you get from hello ASP.</span></span> <span data-ttu-id="c6052-217">Estes são os itens:</span><span class="sxs-lookup"><span data-stu-id="c6052-217">Here are those items:</span></span>

* <span data-ttu-id="c6052-218">Nome de rede virtual - este link abre Olá rede virtual do Azure da interface do usuário</span><span class="sxs-lookup"><span data-stu-id="c6052-218">VNet Name - This link opens hello Azure virtual network UI</span></span>
* <span data-ttu-id="c6052-219">Local – isso reflete o local de saudação da sua rede virtual.</span><span class="sxs-lookup"><span data-stu-id="c6052-219">Location - This reflects hello location of your VNet.</span></span> <span data-ttu-id="c6052-220">É possível toointegrate com uma rede virtual em outro local.</span><span class="sxs-lookup"><span data-stu-id="c6052-220">It is possible toointegrate with a VNet in another location.</span></span>
* <span data-ttu-id="c6052-221">Status do certificado - não há certificados usados toosecure Olá VPN conexão entre o aplicativo hello e hello VNet.</span><span class="sxs-lookup"><span data-stu-id="c6052-221">Certificate Status - There are certificates used toosecure hello VPN connection between hello app and hello VNet.</span></span> <span data-ttu-id="c6052-222">Isso reflete uma tooensure de teste que eles estão em sincronizado.</span><span class="sxs-lookup"><span data-stu-id="c6052-222">This reflects a test tooensure they are in sync.</span></span>
* <span data-ttu-id="c6052-223">Status do gateway - devem seus gateways fique inativo por algum motivo, em seguida, o aplicativo não pode acessar recursos em Olá VNet.</span><span class="sxs-lookup"><span data-stu-id="c6052-223">Gateway Status - Should your gateways be down for whatever reason then your app cannot access resources in hello VNet.</span></span> 
* <span data-ttu-id="c6052-224">Espaço de endereço de rede virtual - este é o espaço de endereço IP Olá para sua rede virtual.</span><span class="sxs-lookup"><span data-stu-id="c6052-224">VNet address space - This is hello IP address space for your VNet.</span></span> 
* <span data-ttu-id="c6052-225">Espaço de endereço de ponto de tooSite - este é o espaço de endereço IP hello ponto toosite para sua rede virtual.</span><span class="sxs-lookup"><span data-stu-id="c6052-225">Point tooSite address space - This is hello point toosite IP address space for your VNet.</span></span> <span data-ttu-id="c6052-226">Seu aplicativo mostra comunicação como provenientes de uma saudação IPs nesse espaço de endereço.</span><span class="sxs-lookup"><span data-stu-id="c6052-226">Your app shows communication as coming from one of hello IPs in this address space.</span></span> 
* <span data-ttu-id="c6052-227">Espaço de endereço do site toosite - você pode usar o Site tooSite VPNs tooconnect tooyour sua rede virtual local recursos ou tooother VNet.</span><span class="sxs-lookup"><span data-stu-id="c6052-227">Site toosite address space - You can use Site tooSite VPNs tooconnect your VNet tooyour on-premises resources or tooother VNet.</span></span> <span data-ttu-id="c6052-228">Você tem que configurado e em seguida, os intervalos de IP hello definido com que a conexão VPN aparece aqui.</span><span class="sxs-lookup"><span data-stu-id="c6052-228">Should you have that configured then hello IP ranges defined with that VPN connection shows here.</span></span>
* <span data-ttu-id="c6052-229">Servidores DNS – Se você tiver servidores DNS configurados com sua VNet, eles serão listados aqui.</span><span class="sxs-lookup"><span data-stu-id="c6052-229">DNS Servers - If you have DNS Servers configured with your VNet, then they are listed here.</span></span>
* <span data-ttu-id="c6052-230">IPs roteadas toohello VNet - há uma lista de endereços IP que sua rede virtual foi definida para o roteamento e esses endereços exibidos aqui.</span><span class="sxs-lookup"><span data-stu-id="c6052-230">IPs routed toohello VNet - There are a list of IP addresses that your VNet has routing defined for, and those addresses show here.</span></span> 

<span data-ttu-id="c6052-231">operação somente Hello, que você pode executar no modo de aplicativo hello de integração VNet é toodisconnect seu aplicativo do hello rede virtual está conectada atualmente à.</span><span class="sxs-lookup"><span data-stu-id="c6052-231">hello only operation you can take in hello app view of your VNet Integration is toodisconnect your app from hello VNet it is currently connected to.</span></span> <span data-ttu-id="c6052-232">toodo isso simplesmente, clique em Desconectar na parte superior da saudação.</span><span class="sxs-lookup"><span data-stu-id="c6052-232">toodo this simply click Disconnect at hello top.</span></span> <span data-ttu-id="c6052-233">Essa ação não altera sua VNet.</span><span class="sxs-lookup"><span data-stu-id="c6052-233">This action does not change your VNet.</span></span> <span data-ttu-id="c6052-234">Olá rede virtual e sua configuração incluindo gateways Olá permanece inalterado.</span><span class="sxs-lookup"><span data-stu-id="c6052-234">hello VNet and its configuration including hello gateways remains unchanged.</span></span> <span data-ttu-id="c6052-235">Em seguida, toodelete sua rede virtual, é necessário toofirst delete Olá recursos como gateways de saudação.</span><span class="sxs-lookup"><span data-stu-id="c6052-235">If you then want toodelete your VNet, you need toofirst delete hello resources in it including hello gateways.</span></span> 

<span data-ttu-id="c6052-236">Olá Exibir plano de serviço de aplicativo tem um número de operações adicionais.</span><span class="sxs-lookup"><span data-stu-id="c6052-236">hello App Service Plan view has a number of additional operations.</span></span> <span data-ttu-id="c6052-237">Ele é também acessado diferente que do aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="c6052-237">It is also accessed differently than from hello app.</span></span> <span data-ttu-id="c6052-238">Olá tooreach interface de usuário de rede do ASP simplesmente abra sua interface de usuário do ASP e role para baixo.</span><span class="sxs-lookup"><span data-stu-id="c6052-238">tooreach hello ASP Networking UI simply open your ASP UI and scroll down.</span></span> <span data-ttu-id="c6052-239">Há um elemento de interface do usuário chamado Status do Recurso de Rede.</span><span class="sxs-lookup"><span data-stu-id="c6052-239">There is a UI element called Network Feature Status.</span></span> <span data-ttu-id="c6052-240">Ele fornece alguns pequenos detalhes sobre a integração VNet.</span><span class="sxs-lookup"><span data-stu-id="c6052-240">It gives some minor details around your VNet Integration.</span></span> <span data-ttu-id="c6052-241">Clicar nessa interface do usuário abre Olá da interface do usuário de Status do recurso de rede.</span><span class="sxs-lookup"><span data-stu-id="c6052-241">Clicking on this UI opens hello Network Feature Status UI.</span></span> <span data-ttu-id="c6052-242">Se você clicar em "Clique aqui toomanage", Olá da interface do usuário que lista Olá integrações de rede virtual neste ASP abre.</span><span class="sxs-lookup"><span data-stu-id="c6052-242">If you then click on "Click here toomanage", hello UI that lists hello VNet Integrations in this ASP opens.</span></span>

![][6]

<span data-ttu-id="c6052-243">local de saudação do hello ASP é bom tooremember ao examinar os locais de saudação do hello VNets que você estiver integrando.</span><span class="sxs-lookup"><span data-stu-id="c6052-243">hello location of hello ASP is good tooremember when looking at hello locations of hello VNets you are integrating with.</span></span> <span data-ttu-id="c6052-244">Quando Olá rede virtual está em outro local tiver problemas de latência toosee muito mais prováveis.</span><span class="sxs-lookup"><span data-stu-id="c6052-244">When hello VNet is in another location you are far more likely toosee latency issues.</span></span> 

<span data-ttu-id="c6052-245">Olá VNets integrado ao é um lembrete em VNets quantos de que seus aplicativos estão integrados com este ASP e quantos você pode ter.</span><span class="sxs-lookup"><span data-stu-id="c6052-245">hello VNets integrated with is a reminder on how many VNets your apps are integrated with in this ASP and how many you can have.</span></span> 

<span data-ttu-id="c6052-246">toosee adicionado a cada VNet, basta clicar na Olá VNet que você está interessado em detalhes.</span><span class="sxs-lookup"><span data-stu-id="c6052-246">toosee added details on each VNet, just click on hello VNet you are interested in.</span></span> <span data-ttu-id="c6052-247">Além de detalhes de toohello que foram observados anteriormente, você também pode ver uma lista de aplicativos de saudação neste ASP que estão usando essa rede virtual.</span><span class="sxs-lookup"><span data-stu-id="c6052-247">In addition toohello details that were noted earlier, you can also see a list of hello apps in this ASP that are using that VNet.</span></span> 

<span data-ttu-id="c6052-248">Com respeito tooactions há são duas ações primárias.</span><span class="sxs-lookup"><span data-stu-id="c6052-248">With respect tooactions there are two primary actions.</span></span> <span data-ttu-id="c6052-249">Olá primeiro é tooadd rotas Olá capacidade unidade tráfego deixar seu aplicativo em sua rede virtual.</span><span class="sxs-lookup"><span data-stu-id="c6052-249">hello first is hello ability tooadd routes that drive traffic leaving your app into your VNet.</span></span> <span data-ttu-id="c6052-250">ação de segundo Olá é certificados de toosync de capacidade de saudação e informações de rede.</span><span class="sxs-lookup"><span data-stu-id="c6052-250">hello second action is hello ability toosync certificates and network information.</span></span>

![][7]

<span data-ttu-id="c6052-251">**Roteamento** conforme observado anteriormente rotas Olá que estão definidas na sua rede virtual são o que é usado para direcionar o tráfego em sua rede virtual do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c6052-251">**Routing** As noted earlier hello routes that are defined in your VNet are what is used for directing traffic into your VNet from your app.</span></span> <span data-ttu-id="c6052-252">Há alguns usos que onde os clientes querem toosend tráfego de saída adicionais de um aplicativo em redes de saudação e para eles essa funcionalidade é fornecida.</span><span class="sxs-lookup"><span data-stu-id="c6052-252">There are some uses though where customers want toosend additional outbound traffic from an app into hello VNet and for them this capability is provided.</span></span> <span data-ttu-id="c6052-253">O que acontece tráfego toohello depois do cliente de saudação toohow configura sua rede virtual.</span><span class="sxs-lookup"><span data-stu-id="c6052-253">What happens toohello traffic after that is up toohow hello customer configures their VNet.</span></span> 

<span data-ttu-id="c6052-254">**Certificados** Olá certificado Status reflete uma verificação que está sendo executada pelo Olá toovalidate do serviço de aplicativo que certificados Olá que estamos usando Olá conexão VPN ainda são válidos.</span><span class="sxs-lookup"><span data-stu-id="c6052-254">**Certificates** hello Certificate Status reflects a check being performed by hello App Service toovalidate that hello certificates that we are using for hello VPN connection are still good.</span></span> <span data-ttu-id="c6052-255">Ao habilitar a integração de rede virtual, se isso for toothat de integração primeira rede virtual Olá de todos os aplicativos neste ASP, haverá uma troca necessária de segurança de saudação tooensure certificados de conexão de saudação.</span><span class="sxs-lookup"><span data-stu-id="c6052-255">When VNet Integration enabled, then if this is hello first integration toothat VNet from any apps in this ASP, there is a required exchange of certificates tooensure hello security of hello connection.</span></span> <span data-ttu-id="c6052-256">Junto com certificados Olá obtemos a configuração do DNS hello, rotas e outras coisas semelhantes que descrevem a rede de saudação.</span><span class="sxs-lookup"><span data-stu-id="c6052-256">Along with hello certificates we get hello DNS configuration, routes and other similar things that describe hello network.</span></span>
<span data-ttu-id="c6052-257">Se esses certificados ou informações de rede for alterado, você precisa tooclick "Rede de sincronização".</span><span class="sxs-lookup"><span data-stu-id="c6052-257">If those certificates or network information is changed, then you need tooclick "Sync Network".</span></span> <span data-ttu-id="c6052-258">**Observação**: quando você clica em "Sincronização Rede", pode causar uma breve interrupção na conectividade entre o aplicativo e a VNet.</span><span class="sxs-lookup"><span data-stu-id="c6052-258">**NOTE**: When you click "Sync Network" then you cause a brief outage in connectivity between your app and your VNet.</span></span> <span data-ttu-id="c6052-259">Enquanto seu aplicativo não for reiniciado, a perda de conectividade Olá pode causar seu site toonot funcionam corretamente.</span><span class="sxs-lookup"><span data-stu-id="c6052-259">While your app is not restarted, hello loss of connectivity could cause your site toonot function properly.</span></span> 

## <a name="accessing-on-premises-resources"></a><span data-ttu-id="c6052-260">Como acessar recursos locais</span><span class="sxs-lookup"><span data-stu-id="c6052-260">Accessing on-premises resources</span></span>
<span data-ttu-id="c6052-261">Um dos benefícios de saudação do recurso de integração da VNet Olá é que se sua rede virtual está conectado tooyour local rede com uma VPN de tooSite do Site, seus aplicativos podem ter recursos de locais de tooyour de acesso do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c6052-261">One of hello benefits of hello VNet Integration feature is that if your VNet is connected tooyour on-premises network with a Site tooSite VPN then your apps can have access tooyour on-premises resources from your app.</span></span> <span data-ttu-id="c6052-262">Para este toowork embora talvez seja necessário tooupdate seu gateway de VPN local com hello encaminha para o intervalo de IP tooSite ponto.</span><span class="sxs-lookup"><span data-stu-id="c6052-262">For this toowork though you may need tooupdate your on-premises VPN gateway with hello routes for your Point tooSite IP range.</span></span> <span data-ttu-id="c6052-263">Ao Olá Site tooSite VPN é primeiro configurar scripts de saudação usada tooconfigure ele deve definir rotas, incluindo sua VPN tooSite ponto.</span><span class="sxs-lookup"><span data-stu-id="c6052-263">When hello Site tooSite VPN is first set up then hello scripts used tooconfigure it should set up routes including your Point tooSite VPN.</span></span> <span data-ttu-id="c6052-264">Se você adicionar Olá ponto tooSite VPN depois de criar seu tooSite Site VPN, será necessário rotas de saudação tooupdate manualmente.</span><span class="sxs-lookup"><span data-stu-id="c6052-264">If you add hello Point tooSite VPN after you create your Site tooSite VPN, then you need tooupdate hello routes manually.</span></span> <span data-ttu-id="c6052-265">Obter detalhes sobre como toodo que varia de acordo com gateway e não são descritos aqui.</span><span class="sxs-lookup"><span data-stu-id="c6052-265">Details on how toodo that vary per gateway and are not described here.</span></span> 

> [!NOTE]
> <span data-ttu-id="c6052-266">recurso de integração da VNet Olá não integrar um aplicativo com uma rede virtual que possui um Gateway de rota expressa.</span><span class="sxs-lookup"><span data-stu-id="c6052-266">hello VNet Integration feature does not integrate an app with a VNet that has an ExpressRoute Gateway.</span></span> <span data-ttu-id="c6052-267">Mesmo que Olá Gateway de rota expressa é configurado no [modo de coexistência] [ VPNERCoex] Olá integração da VNet não funciona.</span><span class="sxs-lookup"><span data-stu-id="c6052-267">Even if hello ExpressRoute Gateway is configured in [coexistence mode][VPNERCoex] hello VNet Integration does not work.</span></span> <span data-ttu-id="c6052-268">Se você precisa de recursos de tooaccess por meio de uma conexão de rota expressa, você pode usar um [ambiente de serviço de aplicativo][ASE], que é executado em sua rede virtual.</span><span class="sxs-lookup"><span data-stu-id="c6052-268">If you need tooaccess resources through an ExpressRoute connection, then you can use an [App Service Environment][ASE], which runs in your VNet.</span></span>
> 
> 

## <a name="pricing-details"></a><span data-ttu-id="c6052-269">Detalhes de preço</span><span class="sxs-lookup"><span data-stu-id="c6052-269">Pricing details</span></span>
<span data-ttu-id="c6052-270">Existem alguns preços nuances deve estar atento ao usar o recurso de integração da VNet hello.</span><span class="sxs-lookup"><span data-stu-id="c6052-270">There are a few pricing nuances that you should be aware of when using hello VNet Integration feature.</span></span> <span data-ttu-id="c6052-271">Há 3 encargos relacionados toohello usar esse recurso:</span><span class="sxs-lookup"><span data-stu-id="c6052-271">There are 3 related charges toohello use of this feature:</span></span>

* <span data-ttu-id="c6052-272">Requisitos de tipo de preço do ASP</span><span class="sxs-lookup"><span data-stu-id="c6052-272">ASP pricing tier requirements</span></span>
* <span data-ttu-id="c6052-273">Custos de transferência de dados</span><span class="sxs-lookup"><span data-stu-id="c6052-273">Data transfer costs</span></span>
* <span data-ttu-id="c6052-274">Custos de gateway de VPN.</span><span class="sxs-lookup"><span data-stu-id="c6052-274">VPN Gateway costs.</span></span>

<span data-ttu-id="c6052-275">Para que seu toouse capaz de toobe aplicativos esse recurso, eles precisam toobe em um padrão ou um plano de serviço de aplicativo Premium.</span><span class="sxs-lookup"><span data-stu-id="c6052-275">For your apps toobe able toouse this feature, they need toobe in a Standard or Premium App Service Plan.</span></span> <span data-ttu-id="c6052-276">Você pode ver mais detalhes sobre esses custos aqui: [Preço do Serviço de Aplicativo][ASPricing].</span><span class="sxs-lookup"><span data-stu-id="c6052-276">You can see more details on those costs here: [App Service Pricing][ASPricing].</span></span> 

<span data-ttu-id="c6052-277">Devido a tooSite ponto VPNs são tratadas de forma toohello, você sempre ter um encargo para dados de saída por meio de sua conexão de rede virtual integração mesmo se Olá VNet estiver em Olá mesmo Datacenter.</span><span class="sxs-lookup"><span data-stu-id="c6052-277">Due toohello way Point tooSite VPNs are handled, you always have a charge for outbound data through your VNet Integration connection even if hello VNet is in hello same data center.</span></span> <span data-ttu-id="c6052-278">toosee quais são esses encargos, dê uma olhada aqui: [detalhes de preços de transferência de dados][DataPricing].</span><span class="sxs-lookup"><span data-stu-id="c6052-278">toosee what those charges are, take a look here: [Data Transfer Pricing Details][DataPricing].</span></span> 

<span data-ttu-id="c6052-279">Olá último item é custo Olá de gateways de rede virtual hello.</span><span class="sxs-lookup"><span data-stu-id="c6052-279">hello last item is hello cost of hello VNet gateways.</span></span> <span data-ttu-id="c6052-280">Se não precisar de gateways de saudação algo como Site tooSite VPNs, você estiver pagando para recurso de integração da VNet gateways toosupport hello.</span><span class="sxs-lookup"><span data-stu-id="c6052-280">If you don't need hello gateways for something else such as Site tooSite VPNs, then you are paying for gateways toosupport hello VNet Integration feature.</span></span> <span data-ttu-id="c6052-281">Há detalhes sobre esses custos aqui: [Preço de Gateway de VPN][VNETPricing].</span><span class="sxs-lookup"><span data-stu-id="c6052-281">There are details on those costs here: [VPN Gateway Pricing][VNETPricing].</span></span> 

## <a name="troubleshooting"></a><span data-ttu-id="c6052-282">Solucionar problemas</span><span class="sxs-lookup"><span data-stu-id="c6052-282">Troubleshooting</span></span>
<span data-ttu-id="c6052-283">Enquanto o recurso de saudação é fácil tooset backup, isso não significa que a sua experiência será problema livre.</span><span class="sxs-lookup"><span data-stu-id="c6052-283">While hello feature is easy tooset up, that doesn't mean that your experience will be problem free.</span></span> <span data-ttu-id="c6052-284">Se você encontrar problemas para acessar seu ponto de extremidade desejado há são alguns utilitários que você pode usar a conectividade de tootest do console do aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="c6052-284">Should you encounter problems accessing your desired endpoint there are some utilities you can use tootest connectivity from hello app console.</span></span> <span data-ttu-id="c6052-285">Há duas experiências de console que você pode usar.</span><span class="sxs-lookup"><span data-stu-id="c6052-285">There are two console experiences you can use.</span></span> <span data-ttu-id="c6052-286">Um é do console do Kudu hello e Olá outros console Olá que você pode entrar no portal do Azure de saudação.</span><span class="sxs-lookup"><span data-stu-id="c6052-286">One is from hello Kudu console and hello other is hello console that you can reach in hello Azure portal.</span></span> <span data-ttu-id="c6052-287">console de Kudu toohello tooget de seu aplicativo acesse tooTools -> Kudu.</span><span class="sxs-lookup"><span data-stu-id="c6052-287">tooget toohello Kudu console from your app go tooTools -> Kudu.</span></span> <span data-ttu-id="c6052-288">Isso é Olá mesmo que o muito [sitename]. scm.azurewebsites.net.</span><span class="sxs-lookup"><span data-stu-id="c6052-288">This is hello same as going too[sitename].scm.azurewebsites.net.</span></span> <span data-ttu-id="c6052-289">Depois que abre toohello basta ir depuração console guia tooget toohello console hospedado portal do Azure, em seguida, a partir de seu aplicativo acesse tooTools -> Console.</span><span class="sxs-lookup"><span data-stu-id="c6052-289">Once that opens simply go toohello Debug console tab. tooget toohello Azure portal hosted console then from your app go tooTools -> Console.</span></span> 

#### <a name="tools"></a><span data-ttu-id="c6052-290">Ferramentas</span><span class="sxs-lookup"><span data-stu-id="c6052-290">Tools</span></span>
<span data-ttu-id="c6052-291">o ping de ferramentas Hello, nslookup e tracert não funcionarão por meio do console Olá devido a restrições de toosecurity.</span><span class="sxs-lookup"><span data-stu-id="c6052-291">hello tools ping, nslookup and tracert won’t work through hello console due toosecurity constraints.</span></span> <span data-ttu-id="c6052-292">void de saudação toofill existe foram duas ferramentas separadas adicionadas.</span><span class="sxs-lookup"><span data-stu-id="c6052-292">toofill hello void there have been two separate tools added.</span></span> <span data-ttu-id="c6052-293">Funcionalidade de ordem de DNS tootest adicionamos uma ferramenta chamada nameresolver.exe.</span><span class="sxs-lookup"><span data-stu-id="c6052-293">In order tootest DNS functionality we added a tool named nameresolver.exe.</span></span> <span data-ttu-id="c6052-294">Olá sintaxe é:</span><span class="sxs-lookup"><span data-stu-id="c6052-294">hello syntax is:</span></span>

    nameresolver.exe hostname [optional: DNS Server]

<span data-ttu-id="c6052-295">Você pode usar nomes de host do nameresolver toocheck Olá que seu aplicativo depende.</span><span class="sxs-lookup"><span data-stu-id="c6052-295">You can use nameresolver toocheck hello hostnames that your app depends on.</span></span> <span data-ttu-id="c6052-296">Dessa forma você pode testar se você tem tudo configurado incorretamente com o DNS ou talvez não tenha o servidor DNS tooyour acesso.</span><span class="sxs-lookup"><span data-stu-id="c6052-296">This way you can test if you have anything mis-configured with your DNS or perhaps don't have access tooyour DNS server.</span></span>

<span data-ttu-id="c6052-297">ferramenta da próxima Olá permite tootest para combinação de host e porta de tooa de conectividade do TCP.</span><span class="sxs-lookup"><span data-stu-id="c6052-297">hello next tool allows you tootest for TCP connectivity tooa host and port combination.</span></span> <span data-ttu-id="c6052-298">Essa ferramenta é chamada tcpping.exe e Olá sintaxe é:</span><span class="sxs-lookup"><span data-stu-id="c6052-298">This tool is called tcpping.exe and hello syntax is:</span></span>

    tcpping.exe hostname [optional: port]

<span data-ttu-id="c6052-299">Utilitário de tcpping Olá informa se você pode entrar em um host específico e uma porta.</span><span class="sxs-lookup"><span data-stu-id="c6052-299">hello tcpping utility tells you if you can reach a specific host and port.</span></span> <span data-ttu-id="c6052-300">Ele só pode mostrar o êxito se: há um aplicativo de escuta na combinação de host e porta Olá e não há acesso de rede do host do aplicativo toohello especificado e a porta.</span><span class="sxs-lookup"><span data-stu-id="c6052-300">It only can show success if: there is an application listening at hello host and port combination, and there is network access from your app toohello specified host and port.</span></span>

#### <a name="debugging-access-toovnet-hosted-resources"></a><span data-ttu-id="c6052-301">Depuração tooVNet acesso a recursos hospedados</span><span class="sxs-lookup"><span data-stu-id="c6052-301">Debugging access tooVNet hosted resources</span></span>
<span data-ttu-id="c6052-302">Há várias coisas que podem impedir que seu aplicativo alcance um host e uma porta específicos.</span><span class="sxs-lookup"><span data-stu-id="c6052-302">There are a number of things that can prevent your app from reaching a specific host and port.</span></span> <span data-ttu-id="c6052-303">A maioria do tempo de saudação é um dos três coisas:</span><span class="sxs-lookup"><span data-stu-id="c6052-303">Most of hello time it is one of three things:</span></span>

* <span data-ttu-id="c6052-304">**Há um firewall em Olá maneira** se você tiver um firewall de forma hello, você atingirá o tempo limite TCP de saudação.</span><span class="sxs-lookup"><span data-stu-id="c6052-304">**There is a firewall in hello way** If you have a firewall in hello way, you will hit hello TCP timeout.</span></span> <span data-ttu-id="c6052-305">Nesse caso, de 21 segundos.</span><span class="sxs-lookup"><span data-stu-id="c6052-305">That is 21 seconds in this case.</span></span> <span data-ttu-id="c6052-306">Use a conectividade do hello tcpping ferramenta tootest.</span><span class="sxs-lookup"><span data-stu-id="c6052-306">Use hello tcpping tool tootest connectivity.</span></span> <span data-ttu-id="c6052-307">Tempos limite TCP pode ser devido a coisas toomany além de firewalls, mas iniciar de lá.</span><span class="sxs-lookup"><span data-stu-id="c6052-307">TCP timeouts can be due toomany things beyond firewalls but start there.</span></span> 
* <span data-ttu-id="c6052-308">**Não é possível acessar o DNS** Olá DNS limite é de três segundos por servidor DNS.</span><span class="sxs-lookup"><span data-stu-id="c6052-308">**DNS is not accessible** hello DNS timeout is three seconds per DNS server.</span></span> <span data-ttu-id="c6052-309">Se você tiver dois servidores DNS, o tempo limite de saudação é 6 segundos.</span><span class="sxs-lookup"><span data-stu-id="c6052-309">If you have two DNS servers, hello timeout is 6 seconds.</span></span> <span data-ttu-id="c6052-310">Use nameresolver toosee se o DNS está funcionando.</span><span class="sxs-lookup"><span data-stu-id="c6052-310">Use nameresolver toosee if DNS is working.</span></span> <span data-ttu-id="c6052-311">Lembre-se de que você não pode usar nslookup que não usam Olá DNS de sua rede virtual é configurada com.</span><span class="sxs-lookup"><span data-stu-id="c6052-311">Remember you can't use nslookup as that does not use hello DNS your VNet is configured with.</span></span>
* <span data-ttu-id="c6052-312">**Intervalo inválido de P2S IP** precisa de intervalo IP de ponto toosite Olá toobe em intervalos IP privados Olá RFC 1918 (10.0.0.0-10.255.255.255 / 172.16.0.0-172.31.255.255 / 192.168.0.0-192.168.255.255).</span><span class="sxs-lookup"><span data-stu-id="c6052-312">**Invalid P2S IP range** hello point toosite IP range needs toobe in hello RFC 1918 private IP ranges (10.0.0.0-10.255.255.255 / 172.16.0.0-172.31.255.255 / 192.168.0.0-192.168.255.255).</span></span> <span data-ttu-id="c6052-313">Se o intervalo de saudação usar IPs fora que, coisas não funcionarão.</span><span class="sxs-lookup"><span data-stu-id="c6052-313">If hello range uses IPs outside of that, then things won't work.</span></span> 

<span data-ttu-id="c6052-314">Se esses itens não respondem a seu problema, procure primeiro para tarefas simples, Olá como:</span><span class="sxs-lookup"><span data-stu-id="c6052-314">If those items don't answer your problem, look first for hello simple things like:</span></span> 

* <span data-ttu-id="c6052-315">Olá Gateway são mostrados como estando backup no portal de Olá?</span><span class="sxs-lookup"><span data-stu-id="c6052-315">Does hello Gateway show as being up in hello portal?</span></span>
* <span data-ttu-id="c6052-316">Os certificados são mostrados como sincronizados?</span><span class="sxs-lookup"><span data-stu-id="c6052-316">Do certificates show as being in sync?</span></span>
* <span data-ttu-id="c6052-317">Qualquer pessoa alterar configuração de rede Olá sem fazer "Rede de sincronização" em páginas ASP de saudação afetada?</span><span class="sxs-lookup"><span data-stu-id="c6052-317">Did anybody change hello network configuration without doing a "Sync Network" in hello affected ASPs?</span></span> 

<span data-ttu-id="c6052-318">Se o gateway estiver inativo, ative-o.</span><span class="sxs-lookup"><span data-stu-id="c6052-318">If your gateway is down, then bring it back up.</span></span> <span data-ttu-id="c6052-319">Se os certificados estão fora de sincronizado, vá toohello ASP view de integração de sua rede virtual e ocorrências de "Rede de sincronização".</span><span class="sxs-lookup"><span data-stu-id="c6052-319">If your certificates are out of sync, then go toohello ASP view of your VNet Integration and hit "Sync Network".</span></span> <span data-ttu-id="c6052-320">Se você suspeitar de que houve uma configuração de rede virtual tooyour alteração feita e não era sincronização faria com sua páginas ASP, vá toohello ASP view de integração de sua rede virtual e ocorrências de "Rede de sincronização" apenas como um lembrete, isso faz com que uma breve interrupção com sua conexão de rede virtual e seus aplicativos .</span><span class="sxs-lookup"><span data-stu-id="c6052-320">If you suspect that there has been a change made tooyour VNet configuration and it wasn't sync'd with your ASPs, then go toohello ASP view of your VNet Integration and hit "Sync Network" Just as a reminder, this causes a brief outage with your VNet connection and your apps.</span></span> 

<span data-ttu-id="c6052-321">Se tudo isso é bom, você precisa toodig em um pouco mais:</span><span class="sxs-lookup"><span data-stu-id="c6052-321">If all of that is fine, then you need toodig in a bit deeper:</span></span>

* <span data-ttu-id="c6052-322">Há são todos os outros aplicativos usando os recursos de tooreach integração da VNet no hello mesma rede virtual?</span><span class="sxs-lookup"><span data-stu-id="c6052-322">Are there any other apps using VNet Integration tooreach resources in hello same VNet?</span></span> 
* <span data-ttu-id="c6052-323">Você vá toohello console de aplicativo e usar tcpping tooreach todos os outros recursos na sua rede virtual?</span><span class="sxs-lookup"><span data-stu-id="c6052-323">Can you go toohello app console and use tcpping tooreach any other resources in your VNet?</span></span> 

<span data-ttu-id="c6052-324">Se qualquer uma das Olá acima forem verdadeira, em seguida, a integração de rede virtual é bom e problema Olá é em outro lugar.</span><span class="sxs-lookup"><span data-stu-id="c6052-324">If either of hello above are true, then your VNet Integration is fine and hello problem is somewhere else.</span></span> <span data-ttu-id="c6052-325">Isso é que ele obtém toobe mais desafiador porque não há nenhum toosee de maneira simples porque você não conseguir acessar uma host: porta.</span><span class="sxs-lookup"><span data-stu-id="c6052-325">This is where it gets toobe more of a challenge because there is no simple way toosee why you can't reach a host:port.</span></span> <span data-ttu-id="c6052-326">Algumas das causas Olá incluem:</span><span class="sxs-lookup"><span data-stu-id="c6052-326">Some of hello causes include:</span></span>

* <span data-ttu-id="c6052-327">você tiver um firewall para cima em seu host impedindo acesso toohello aplicativo porta de seu intervalo de IP toosite ponto.</span><span class="sxs-lookup"><span data-stu-id="c6052-327">you have a firewall up on your host preventing access toohello application port from your point toosite IP range.</span></span> <span data-ttu-id="c6052-328">O cruzamento de sub-redes geralmente exige acesso Público.</span><span class="sxs-lookup"><span data-stu-id="c6052-328">Crossing subnets often requires Public access.</span></span>
* <span data-ttu-id="c6052-329">o host de destino está inoperante</span><span class="sxs-lookup"><span data-stu-id="c6052-329">your target host is down</span></span>
* <span data-ttu-id="c6052-330">seu aplicativo está inoperante</span><span class="sxs-lookup"><span data-stu-id="c6052-330">your application is down</span></span>
* <span data-ttu-id="c6052-331">você tinha IP errado hello ou nome de host</span><span class="sxs-lookup"><span data-stu-id="c6052-331">you had hello wrong IP or hostname</span></span>
* <span data-ttu-id="c6052-332">seu aplicativo está escutando em uma porta diferente da que você esperava.</span><span class="sxs-lookup"><span data-stu-id="c6052-332">your application is listening on a different port than what you expected.</span></span> <span data-ttu-id="c6052-333">Você pode verificar isso indo até que o host e usando "netstat - aon" do prompt de comando hello.</span><span class="sxs-lookup"><span data-stu-id="c6052-333">You can check this by going onto that host and using "netstat -aon" from hello cmd prompt.</span></span> <span data-ttu-id="c6052-334">Isso mostra qual ID de processo está escutando em qual porta.</span><span class="sxs-lookup"><span data-stu-id="c6052-334">This shows you what process ID is listening on what port.</span></span> 
* <span data-ttu-id="c6052-335">os grupos de segurança de rede são configurados de modo que elas impedem que acessar tooyour host de aplicativo e a porta de seu intervalo de IP de ponto toosite</span><span class="sxs-lookup"><span data-stu-id="c6052-335">your network security groups are configured in such a manner that they prevent access tooyour application host and port from your point toosite IP range</span></span>

<span data-ttu-id="c6052-336">Lembre-se de que você não sabe quais IP no intervalo IP de ponto tooSite que seu aplicativo usará para que você precisa ter acesso de tooallow de todo o intervalo hello.</span><span class="sxs-lookup"><span data-stu-id="c6052-336">Remember that you don't know what IP in your Point tooSite IP range that your app will use so you need tooallow access from hello entire range.</span></span> 

<span data-ttu-id="c6052-337">As etapas de depuração adicionais incluem:</span><span class="sxs-lookup"><span data-stu-id="c6052-337">Additional debug steps include:</span></span>

* <span data-ttu-id="c6052-338">Faça logon em outra VM em sua rede virtual e tente tooreach a recurso do host: porta de lá.</span><span class="sxs-lookup"><span data-stu-id="c6052-338">log onto another VM in your VNet and attempt tooreach your resource host:port from there.</span></span> <span data-ttu-id="c6052-339">Existem alguns utilitários de ping do TCP que você pode usar para essa finalidade, ou até mesmo usar o telnet, se for o caso.</span><span class="sxs-lookup"><span data-stu-id="c6052-339">There are some TCP ping utilities that you can use for this purpose or can even use telnet if need be.</span></span> <span data-ttu-id="c6052-340">Olá finalidade aqui é toodetermine apenas se há conectividade dessa VM do outro.</span><span class="sxs-lookup"><span data-stu-id="c6052-340">hello purpose here is just toodetermine if connectivity is there from this other VM.</span></span> 
* <span data-ttu-id="c6052-341">abrir um aplicativo na outra VM e acessar toothat host e a porta de console de saudação do seu aplicativo de teste</span><span class="sxs-lookup"><span data-stu-id="c6052-341">bring up an application on another VM and test access toothat host and port from hello console from your app</span></span>

#### <a name="on-premises-resources"></a><span data-ttu-id="c6052-342">Recursos locais</span><span class="sxs-lookup"><span data-stu-id="c6052-342">On-premises resources</span></span> ####
<span data-ttu-id="c6052-343">Se seu aplicativo não pode acessar recursos locais, a primeira coisa que Olá deve verificar é se você pode acessar um recurso na sua rede virtual.</span><span class="sxs-lookup"><span data-stu-id="c6052-343">If your app cannot reach resources on-premises, then hello first thing you should check is if you can reach a resource in your VNet.</span></span> <span data-ttu-id="c6052-344">Se isso funcionar, tente tooreach aplicativo de local hello de uma VM em Olá VNet.</span><span class="sxs-lookup"><span data-stu-id="c6052-344">If that works, try tooreach hello on-premises application from a VM in hello VNet.</span></span> <span data-ttu-id="c6052-345">Você pode usar o telnet ou um utilitário de ping de TCP.</span><span class="sxs-lookup"><span data-stu-id="c6052-345">You can use telnet or a TCP ping utility.</span></span> <span data-ttu-id="c6052-346">Se sua VM não pode acessar o recurso local, verifique se que sua conexão de VPN Site tooSite está funcionando.</span><span class="sxs-lookup"><span data-stu-id="c6052-346">If your VM can't reach your on-premises resource, then make sure your Site tooSite VPN connection is working.</span></span> <span data-ttu-id="c6052-347">Se ele está funcionando, marque Olá mesmas coisas observadas anteriormente, bem como a configuração de gateway local hello e status.</span><span class="sxs-lookup"><span data-stu-id="c6052-347">If it is working, then check hello same things noted earlier as well as hello on-premises gateway configuration and status.</span></span> 

<span data-ttu-id="c6052-348">Agora se sua rede virtual hospedado VM pode acessar o sistema local, mas seu aplicativo não motivo Olá é provavelmente uma das seguintes hello:</span><span class="sxs-lookup"><span data-stu-id="c6052-348">Now if your VNet hosted VM can reach your on-premises system but your app can't then hello reason is likely one of hello following:</span></span>

* <span data-ttu-id="c6052-349">suas rotas não estão configuradas com seus intervalos IP toosite ponto no seu gateway local</span><span class="sxs-lookup"><span data-stu-id="c6052-349">your routes are not configured with your point toosite IP ranges in your on-premises gateway</span></span>
* <span data-ttu-id="c6052-350">os grupos de segurança de rede estão bloqueando o acesso para o intervalo de IP de ponto tooSite</span><span class="sxs-lookup"><span data-stu-id="c6052-350">your network security groups are blocking access for your Point tooSite IP range</span></span>
* <span data-ttu-id="c6052-351">Os firewalls de local estão bloqueando o tráfego de seu intervalo IP de ponto tooSite</span><span class="sxs-lookup"><span data-stu-id="c6052-351">your on-premises firewalls are blocking traffic from your Point tooSite IP range</span></span>
* <span data-ttu-id="c6052-352">Você tem um usuário definido Route(UDR) na sua rede virtual que impede que o tráfego de tooSite ponto com base em atingir sua rede local</span><span class="sxs-lookup"><span data-stu-id="c6052-352">you have a User Defined Route(UDR) in your VNet that prevents your Point tooSite based traffic from reaching your on-premises network</span></span>

## <a name="hybrid-connections-and-app-service-environments"></a><span data-ttu-id="c6052-353">Conexões híbridas e ambientes de serviço de aplicativo</span><span class="sxs-lookup"><span data-stu-id="c6052-353">Hybrid Connections and App Service Environments</span></span>
<span data-ttu-id="c6052-354">Há três recursos que permitem acessar os recursos tooVNet hospedado.</span><span class="sxs-lookup"><span data-stu-id="c6052-354">There are three features that enable access tooVNet hosted resources.</span></span> <span data-ttu-id="c6052-355">Eles são:</span><span class="sxs-lookup"><span data-stu-id="c6052-355">They are:</span></span>

* <span data-ttu-id="c6052-356">Integração VNet</span><span class="sxs-lookup"><span data-stu-id="c6052-356">VNet Integration</span></span>
* <span data-ttu-id="c6052-357">Conexões Híbridas</span><span class="sxs-lookup"><span data-stu-id="c6052-357">Hybrid Connections</span></span>
* <span data-ttu-id="c6052-358">Ambientes de Serviço de Aplicativo</span><span class="sxs-lookup"><span data-stu-id="c6052-358">App Service Environments</span></span>

<span data-ttu-id="c6052-359">Conexões híbridas requer tooinstall um agente de retransmissão chamado hello Manager(HCM) de Conexão híbrida na sua rede.</span><span class="sxs-lookup"><span data-stu-id="c6052-359">Hybrid Connections requires you tooinstall a relay agent called hello Hybrid Connection Manager(HCM) in your network.</span></span> <span data-ttu-id="c6052-360">Olá HCM precisa toobe tooconnect capaz de tooAzure e também tooyour aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c6052-360">hello HCM needs toobe able tooconnect tooAzure and also tooyour application.</span></span> <span data-ttu-id="c6052-361">Essa solução é especialmente boa usando uma rede remota, como sua rede local ou mesmo outra rede hospedada em nuvem, já que não exige um ponto de extremidade acessível pela Internet.</span><span class="sxs-lookup"><span data-stu-id="c6052-361">This solution is especially great from a remote network such as your on-premises network or even another cloud hosted network because it does not require an internet accessible endpoint.</span></span> <span data-ttu-id="c6052-362">Olá HCM só é executado no Windows e você pode ter até toofive instâncias em execução tooprovide alta disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="c6052-362">hello HCM only runs on Windows and you can have up toofive instances running tooprovide high availability.</span></span> <span data-ttu-id="c6052-363">Conexões híbridas só oferece suporte a TCP embora e cada ponto de extremidade HC tem combinação do toomatch tooa host: porta específica.</span><span class="sxs-lookup"><span data-stu-id="c6052-363">Hybrid Connections only supports TCP though and each HC endpoint has toomatch tooa specific host:port combination.</span></span> 

<span data-ttu-id="c6052-364">recurso do ambiente de serviço de aplicativo Hello permite que você toorun uma instância de saudação do serviço de aplicativo do Azure na sua rede virtual.</span><span class="sxs-lookup"><span data-stu-id="c6052-364">hello App Service Environment feature allows you toorun an instance of hello Azure App Service in your VNet.</span></span> <span data-ttu-id="c6052-365">Isso permite que seus aplicativos acessem os recursos de sua VNet sem etapas adicionais.</span><span class="sxs-lookup"><span data-stu-id="c6052-365">This lets your apps access resources in your VNet without any extra steps.</span></span> <span data-ttu-id="c6052-366">Alguns dos Olá outros benefícios de um ambiente de serviço de aplicativo são que você pode usar os operadores de Dv2 com base em com too14 GB de RAM.</span><span class="sxs-lookup"><span data-stu-id="c6052-366">Some of hello other benefits of an App Service Environment are that you can use Dv2 based workers with up too14 GB of RAM.</span></span> <span data-ttu-id="c6052-367">Outra vantagem é que você pode dimensionar Olá sistema toomeet suas necessidades.</span><span class="sxs-lookup"><span data-stu-id="c6052-367">Another benefit is that you can scale hello system toomeet your needs.</span></span> <span data-ttu-id="c6052-368">Diferentemente dos ambientes de vários locatários Olá onde o ASP é limitado too20 instâncias, em uma ASE, você pode dimensionar too100 instâncias de ASP.</span><span class="sxs-lookup"><span data-stu-id="c6052-368">Unlike hello multi-tenant environments where your ASP is limited too20 instances, in an ASE you can scale up too100 ASP instances.</span></span> <span data-ttu-id="c6052-369">Uma das coisas Olá que obter com uma ASE que não com a integração de rede virtual é que um ambiente de serviço de aplicativo podem trabalhar com uma VPN ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="c6052-369">One of hello things you get with an ASE that you don't with VNet Integration is that an App Service Environment can work with an ExpressRoute VPN.</span></span> 

<span data-ttu-id="c6052-370">Embora haja que alguns usam sobreposição de caso, nenhum desses recursos outros pode substituir qualquer hello.</span><span class="sxs-lookup"><span data-stu-id="c6052-370">While there is some use case overlap, none of these feature can replace any of hello others.</span></span> <span data-ttu-id="c6052-371">Saber quais toouse de recurso é necessidades tooyour associado.</span><span class="sxs-lookup"><span data-stu-id="c6052-371">Knowing what feature toouse is tied tooyour needs.</span></span> <span data-ttu-id="c6052-372">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="c6052-372">For example:</span></span>

* <span data-ttu-id="c6052-373">Se você for um desenvolvedor e deseja simplesmente toorun um site no Azure e tivê-lo acessar o banco de dados de saudação na estação de trabalho de saudação em sua mesa, hello mais fácil coisa toouse é conexões híbridas.</span><span class="sxs-lookup"><span data-stu-id="c6052-373">If you are a developer and simply want toorun a site in Azure and have it access hello database on hello workstation under your desk, then hello easiest thing toouse is Hybrid Connections.</span></span> 
* <span data-ttu-id="c6052-374">Se você é uma grande organização que deseja tooput um grande número de propriedades da web na nuvem pública hello e gerenciá-los em sua própria rede, você deseja toogo com hello ambiente de serviço de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c6052-374">If you are a large organization that wants tooput a large number of web properties in hello public cloud and manage them in your own network, then you want toogo with hello App Service Environment.</span></span> 
* <span data-ttu-id="c6052-375">Se você tiver um número de serviço de aplicativo hospedado aplicativos e deseja simplesmente tooaccess recursos na sua rede virtual, integração da VNet é toogo de maneira hello.</span><span class="sxs-lookup"><span data-stu-id="c6052-375">If you have a number of App Service hosted apps and simply want tooaccess resources in your VNet, then VNet Integration is hello way toogo.</span></span> 

<span data-ttu-id="c6052-376">Além de casos de uso de hello, existem algumas simplicidade relacionados aspectos.</span><span class="sxs-lookup"><span data-stu-id="c6052-376">Beyond hello use cases, there are some simplicity related aspects.</span></span> <span data-ttu-id="c6052-377">Se sua rede virtual já está conectado tooyour de rede, em seguida, usando a integração de rede virtual no local ou um ambiente de serviço de aplicativo é uma maneira fácil tooconsume recursos locais.</span><span class="sxs-lookup"><span data-stu-id="c6052-377">If your VNet is already connected tooyour on-premises network, then using VNet Integration or an App Service Environment is an easy way tooconsume on-premises resources.</span></span> <span data-ttu-id="c6052-378">Em Olá outro lado, se sua rede virtual não é tooyour local rede conectada é muito que mais tooset sobrecarga backup toosite um site VPN com sua rede virtual em comparação com a instalação Olá HCM.</span><span class="sxs-lookup"><span data-stu-id="c6052-378">On hello other hand, if your VNet is not connected tooyour on-premises network then it's a lot more overhead tooset up a site toosite VPN with your VNet compared with installing hello HCM.</span></span> 

<span data-ttu-id="c6052-379">Além Olá diferenças funcionais, também são preços diferenças.</span><span class="sxs-lookup"><span data-stu-id="c6052-379">Beyond hello functional differences, there are also pricing differences.</span></span> <span data-ttu-id="c6052-380">recurso do ambiente de serviço de aplicativo Hello é um serviço de Premium oferecendo mas Olá oferece a maioria das possibilidades de configuração de rede além tooother excelentes recursos.</span><span class="sxs-lookup"><span data-stu-id="c6052-380">hello App Service Environment feature is a Premium service offering but offers hello most network configuration possibilities in addition tooother great features.</span></span> <span data-ttu-id="c6052-381">Integração da rede virtual pode ser usada com o padrão ou páginas ASP o Premium e é perfeita para consumir com segurança os recursos na sua rede virtual da saudação multilocatário do serviço de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c6052-381">VNet Integration can be used with Standard or Premium ASPs and is perfect for securely consuming resources in your VNet from hello multi-tenant App Service.</span></span> <span data-ttu-id="c6052-382">Conexões híbridas atualmente depende de um conta, que tem níveis que iniciar livre e, em seguida, obtém progressivamente mais caro de preços com base na quantidade de saudação é necessário o BizTalk.</span><span class="sxs-lookup"><span data-stu-id="c6052-382">Hybrid Connections currently depends on a BizTalk account, which has pricing levels that start free and then get progressively more expensive based on hello amount you need.</span></span> <span data-ttu-id="c6052-383">Quando se trata de tooworking em várias redes no entanto, não há nenhum outro recurso, como conexões híbridas, que pode habilitar recursos tooaccess em mais de 100 redes separadas.</span><span class="sxs-lookup"><span data-stu-id="c6052-383">When it comes tooworking across many networks though, there is no other feature like Hybrid Connections, which can enable you tooaccess resources in well over 100 separate networks.</span></span> 

<!--Image references-->
[1]: ./media/web-sites-integrate-with-vnet/vnetint-upgradeplan.png
[2]: ./media/web-sites-integrate-with-vnet/vnetint-existingvnet.png
[3]: ./media/web-sites-integrate-with-vnet/vnetint-createvnet.png
[4]: ./media/web-sites-integrate-with-vnet/vnetint-howitworks.png
[5]: ./media/web-sites-integrate-with-vnet/vnetint-appmanage.png
[6]: ./media/web-sites-integrate-with-vnet/vnetint-aspmanage.png
[7]: ./media/web-sites-integrate-with-vnet/vnetint-aspmanagedetail.png
[8]: ./media/web-sites-integrate-with-vnet/vnetint-vnetp2s.png

<!--Links-->
[VNETOverview]: http://azure.microsoft.com/documentation/articles/virtual-networks-overview/ 
[AzurePortal]: http://portal.azure.com/
[ASPricing]: http://azure.microsoft.com/pricing/details/app-service/
[VNETPricing]: http://azure.microsoft.com/pricing/details/vpn-gateway/
[DataPricing]: http://azure.microsoft.com/pricing/details/data-transfers/
[V2VNETP2S]: http://azure.microsoft.com/documentation/articles/vpn-gateway-howto-point-to-site-rm-ps/
[IntPowershell]: http://azure.microsoft.com/documentation/articles/app-service-vnet-integration-powershell/
[ASEintro]: http://docs.microsoft.com/azure/app-service/app-service-environment/intro
[ILBASE]: http://docs.microsoft.com/azure/app-service/app-service-environment/create-ilb-ase
[V2VNETPortal]: https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-howto-point-to-site-resource-manager-portal
[VPNERCoex]: http://docs.microsoft.com/en-us/azure/expressroute/expressroute-howto-coexist-resource-manager
[ASE]: http://docs.microsoft.com/azure/app-service/app-service-environment/intro
