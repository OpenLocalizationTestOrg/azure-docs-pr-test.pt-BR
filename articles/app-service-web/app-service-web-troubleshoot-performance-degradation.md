---
title: "desempenho do aplicativo web aaaSlow no serviço de aplicativo | Microsoft Docs"
description: "Este artigo ajuda você a solucionar problemas de desempenho de aplicativo Web lento no Serviço de Aplicativo do Azure."
services: app-service\web
documentationcenter: 
author: cephalin
manager: erikre
editor: 
tags: top-support-issue
keywords: "desempenho do aplicativo Web, aplicativo lento, lentidão do aplicativo"
ms.assetid: b8783c10-3a4a-4dd6-af8c-856baafbdde5
ms.service: app-service-web
ms.workload: web
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/03/2016
ms.author: cephalin
ms.openlocfilehash: 3e56b99b48db0e7baae1fac797a7fcb9eff74c9e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="troubleshoot-slow-web-app-performance-issues-in-azure-app-service"></a><span data-ttu-id="87799-104">Solucionar problemas de desempenho de aplicativo Web lento no Serviço de Aplicativo do Azure</span><span class="sxs-lookup"><span data-stu-id="87799-104">Troubleshoot slow web app performance issues in Azure App Service</span></span>
<span data-ttu-id="87799-105">Este artigo ajuda você a solucionar problemas de desempenho de aplicativo Web lento no [Serviço de Aplicativo do Azure](http://go.microsoft.com/fwlink/?LinkId=529714).</span><span class="sxs-lookup"><span data-stu-id="87799-105">This article helps you troubleshoot slow web app performance issues in [Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714).</span></span>

<span data-ttu-id="87799-106">Se você precisar de mais ajuda a qualquer momento neste artigo, você pode contatar hello Azure especialistas em [hello Azure MSDN e Olá fóruns de estouro de pilha](https://azure.microsoft.com/support/forums/).</span><span class="sxs-lookup"><span data-stu-id="87799-106">If you need more help at any point in this article, you can contact hello Azure experts on [hello MSDN Azure and hello Stack Overflow forums](https://azure.microsoft.com/support/forums/).</span></span> <span data-ttu-id="87799-107">Como alternativa, você também pode registrar um incidente de suporte do Azure.</span><span class="sxs-lookup"><span data-stu-id="87799-107">Alternatively, you can also file an Azure support incident.</span></span> <span data-ttu-id="87799-108">Vá toohello [site de suporte do Azure](https://azure.microsoft.com/support/options/) e clique em **suporte**.</span><span class="sxs-lookup"><span data-stu-id="87799-108">Go toohello [Azure Support site](https://azure.microsoft.com/support/options/) and click on **Get Support**.</span></span>

## <a name="symptom"></a><span data-ttu-id="87799-109">Sintoma</span><span class="sxs-lookup"><span data-stu-id="87799-109">Symptom</span></span>
<span data-ttu-id="87799-110">Quando você procurar o aplicativo web de saudação, Olá páginas carga lenta e, às vezes, tempo limite.</span><span class="sxs-lookup"><span data-stu-id="87799-110">When you browse hello web app, hello pages load slowly and sometimes timeout.</span></span>

## <a name="cause"></a><span data-ttu-id="87799-111">Causa</span><span class="sxs-lookup"><span data-stu-id="87799-111">Cause</span></span>
<span data-ttu-id="87799-112">Esse problema geralmente é causado por questões no nível de aplicativo, como:</span><span class="sxs-lookup"><span data-stu-id="87799-112">This problem is often caused by application level issues, such as:</span></span>

* <span data-ttu-id="87799-113">solicitações de rede demorando muito</span><span class="sxs-lookup"><span data-stu-id="87799-113">network requests taking a long time</span></span>
* <span data-ttu-id="87799-114">código de aplicativo ou consultas de banco de dados sendo ineficientes</span><span class="sxs-lookup"><span data-stu-id="87799-114">application code or database queries being inefficient</span></span>
* <span data-ttu-id="87799-115">aplicativo usando muita memória/CPU</span><span class="sxs-lookup"><span data-stu-id="87799-115">application using high memory/CPU</span></span>
* <span data-ttu-id="87799-116">aplicativo falha devido a exceção tooan</span><span class="sxs-lookup"><span data-stu-id="87799-116">application crashing due tooan exception</span></span>

## <a name="troubleshooting-steps"></a><span data-ttu-id="87799-117">Etapas para solucionar problemas</span><span class="sxs-lookup"><span data-stu-id="87799-117">Troubleshooting steps</span></span>
<span data-ttu-id="87799-118">A solução de problemas pode ser dividida em três tarefas distintas, em ordem sequencial:</span><span class="sxs-lookup"><span data-stu-id="87799-118">Troubleshooting can be divided into three distinct tasks, in sequential order:</span></span>

1. [<span data-ttu-id="87799-119">Observar e monitorar o comportamento do aplicativo</span><span class="sxs-lookup"><span data-stu-id="87799-119">Observe and monitor application behavior</span></span>](#observe)
2. [<span data-ttu-id="87799-120">Coletar dados</span><span class="sxs-lookup"><span data-stu-id="87799-120">Collect data</span></span>](#collect)
3. [<span data-ttu-id="87799-121">Reduzir o problema de saudação</span><span class="sxs-lookup"><span data-stu-id="87799-121">Mitigate hello issue</span></span>](#mitigate)

<span data-ttu-id="87799-122">[Os Aplicativos Web do Serviço de Aplicativo](/services/app-service/web/) oferecem várias opções em cada etapa.</span><span class="sxs-lookup"><span data-stu-id="87799-122">[App Service Web Apps](/services/app-service/web/) gives you various options at each step.</span></span>

<a name="observe" />

### <a name="1-observe-and-monitor-application-behavior"></a><span data-ttu-id="87799-123">1. Observar e monitorar o comportamento do aplicativo</span><span class="sxs-lookup"><span data-stu-id="87799-123">1. Observe and monitor application behavior</span></span>
#### <a name="track-service-health"></a><span data-ttu-id="87799-124">Controlar a integridade do serviço</span><span class="sxs-lookup"><span data-stu-id="87799-124">Track Service health</span></span>
<span data-ttu-id="87799-125">O Microsoft Azure publica sempre que há uma degradação no desempenho ou interrupção do serviço.</span><span class="sxs-lookup"><span data-stu-id="87799-125">Microsoft Azure publicizes each time there is a service interruption or performance degradation.</span></span> <span data-ttu-id="87799-126">Você pode acompanhar a integridade de saudação do serviço de saudação em Olá [portal do Azure](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="87799-126">You can track hello health of hello service on hello [Azure portal](https://portal.azure.com/).</span></span> <span data-ttu-id="87799-127">Para obter mais informações, confira [Controlar a integridade do serviço](../monitoring-and-diagnostics/insights-service-health.md).</span><span class="sxs-lookup"><span data-stu-id="87799-127">For more information, see [Track service health](../monitoring-and-diagnostics/insights-service-health.md).</span></span>

#### <a name="monitor-your-web-app"></a><span data-ttu-id="87799-128">Monitorar seu aplicativo Web</span><span class="sxs-lookup"><span data-stu-id="87799-128">Monitor your web app</span></span>
<span data-ttu-id="87799-129">Essa opção permite que você toofind out se seu aplicativo estiver com problemas.</span><span class="sxs-lookup"><span data-stu-id="87799-129">This option enables you toofind out if your application is having any issues.</span></span> <span data-ttu-id="87799-130">Na folha do seu aplicativo web, clique em Olá **solicitações e erros** lado a lado.</span><span class="sxs-lookup"><span data-stu-id="87799-130">In your web app’s blade, click hello **Requests and errors** tile.</span></span> <span data-ttu-id="87799-131">Olá **métrica** folha mostra todas as métricas de saudação, você pode adicionar.</span><span class="sxs-lookup"><span data-stu-id="87799-131">hello **Metric** blade shows you all hello metrics you can add.</span></span>

<span data-ttu-id="87799-132">Algumas das métricas de saudação que você pode querer toomonitor de seu aplicativo web são</span><span class="sxs-lookup"><span data-stu-id="87799-132">Some of hello metrics that you might want toomonitor for your web app are</span></span>

* <span data-ttu-id="87799-133">Conjunto de trabalho de memória média</span><span class="sxs-lookup"><span data-stu-id="87799-133">Average memory working set</span></span>
* <span data-ttu-id="87799-134">Tempo médio de resposta</span><span class="sxs-lookup"><span data-stu-id="87799-134">Average response time</span></span>
* <span data-ttu-id="87799-135">Tempo de CPU</span><span class="sxs-lookup"><span data-stu-id="87799-135">CPU time</span></span>
* <span data-ttu-id="87799-136">Conjunto de trabalho de memória</span><span class="sxs-lookup"><span data-stu-id="87799-136">Memory working set</span></span>
* <span data-ttu-id="87799-137">Solicitações</span><span class="sxs-lookup"><span data-stu-id="87799-137">Requests</span></span>

![monitorar o desempenho do aplicativo Web](./media/app-service-web-troubleshoot-performance-degradation/1-monitor-metrics.png)

<span data-ttu-id="87799-139">Para obter mais informações, consulte:</span><span class="sxs-lookup"><span data-stu-id="87799-139">For more information, see:</span></span>

* [<span data-ttu-id="87799-140">Monitorar aplicativos Web no Serviço de Aplicativo do Azure</span><span class="sxs-lookup"><span data-stu-id="87799-140">Monitor Web Apps in Azure App Service</span></span>](web-sites-monitor.md)
* [<span data-ttu-id="87799-141">Receber notificações de alerta</span><span class="sxs-lookup"><span data-stu-id="87799-141">Receive alert notifications</span></span>](../monitoring-and-diagnostics/insights-receive-alert-notifications.md)

#### <a name="monitor-web-endpoint-status"></a><span data-ttu-id="87799-142">Monitorar o status de ponto de extremidade da Web</span><span class="sxs-lookup"><span data-stu-id="87799-142">Monitor web endpoint status</span></span>
<span data-ttu-id="87799-143">Se você estiver executando seu aplicativo web em Olá **padrão** preço, aplicativos Web, você pode monitorar dois pontos de extremidade de três locais geográficos.</span><span class="sxs-lookup"><span data-stu-id="87799-143">If you are running your web app in hello **Standard** pricing tier, Web Apps lets you monitor two endpoints from three geographic locations.</span></span>

<span data-ttu-id="87799-144">O monitoramento de ponto de extremidade configura testes da web de locais distribuídos geograficamente que testa o tempo de resposta e tempo de atividade de URLs de web.</span><span class="sxs-lookup"><span data-stu-id="87799-144">Endpoint monitoring configures web tests from geo-distributed locations that test response time and uptime of web URLs.</span></span> <span data-ttu-id="87799-145">teste de saudação executa uma operação HTTP GET em tempo de resposta de Olá Olá web URL toodetermine e tempo de atividade de cada local.</span><span class="sxs-lookup"><span data-stu-id="87799-145">hello test performs an HTTP GET operation on hello web URL toodetermine hello response time and uptime from each location.</span></span> <span data-ttu-id="87799-146">Cada local configurado executa um teste a cada cinco minutos.</span><span class="sxs-lookup"><span data-stu-id="87799-146">Each configured location runs a test every five minutes.</span></span>

<span data-ttu-id="87799-147">O tempo de atividade é monitorado usando códigos de resposta HTTP e o tempo de resposta é medido em milissegundos.</span><span class="sxs-lookup"><span data-stu-id="87799-147">Uptime is monitored using HTTP response codes, and response time is measured in milliseconds.</span></span> <span data-ttu-id="87799-148">Teste de monitoramento falhará se Olá código de resposta HTTP for maior que ou igual too400 ou se resposta Olá leva mais de 30 segundos.</span><span class="sxs-lookup"><span data-stu-id="87799-148">A monitoring test fails if hello HTTP response code is greater than or equal too400 or if hello response takes more than 30 seconds.</span></span> <span data-ttu-id="87799-149">Um ponto de extremidade é considerado disponível caso seus testes de monitoramento bem-sucedida de todos os Olá especificou locais.</span><span class="sxs-lookup"><span data-stu-id="87799-149">An endpoint is considered available if its monitoring tests succeed from all hello specified locations.</span></span>

<span data-ttu-id="87799-150">tooset-lo, consulte [monitorar aplicativos no serviço de aplicativo do Azure](web-sites-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="87799-150">tooset it up, see [Monitor apps in Azure App Service](web-sites-monitor.md).</span></span>

<span data-ttu-id="87799-151">Veja também um vídeo sobre monitoramento de pontos de extremidade em [Mantendo os sites do Azure ativos e monitorando pontos de extremidade - com Stefan Schackow](https://channel9.msdn.com/Shows/Azure-Friday/Keeping-Azure-Web-Sites-up-plus-Endpoint-Monitoring-with-Stefan-Schackow)</span><span class="sxs-lookup"><span data-stu-id="87799-151">Also, see [Keeping Azure Web Sites up plus Endpoint Monitoring - with Stefan Schackow](https://channel9.msdn.com/Shows/Azure-Friday/Keeping-Azure-Web-Sites-up-plus-Endpoint-Monitoring-with-Stefan-Schackow) for a video on endpoint monitoring.</span></span>

#### <a name="application-performance-monitoring-using-extensions"></a><span data-ttu-id="87799-152">Monitoramento de desempenho de aplicativos usando extensões</span><span class="sxs-lookup"><span data-stu-id="87799-152">Application performance monitoring using Extensions</span></span>
<span data-ttu-id="87799-153">Você também pode monitorar o desempenho do aplicativo usando *extensões de site*.</span><span class="sxs-lookup"><span data-stu-id="87799-153">You can also monitor your application performance by using *site extensions*.</span></span>

<span data-ttu-id="87799-154">Cada aplicativo do serviço de aplicativo web fornece um ponto de extremidade de gerenciamento extensível que permite que você toouse um conjunto poderoso de ferramentas implantado como extensões de site.</span><span class="sxs-lookup"><span data-stu-id="87799-154">Each App Service web app provides an extensible management end point that allows you toouse a powerful set of tools deployed as site extensions.</span></span> <span data-ttu-id="87799-155">As extensões incluem:</span><span class="sxs-lookup"><span data-stu-id="87799-155">Extensions include:</span></span> 

- <span data-ttu-id="87799-156">Editores de código-fonte, como o [Visual Studio Team Services](https://www.visualstudio.com/products/what-is-visual-studio-online-vs.aspx).</span><span class="sxs-lookup"><span data-stu-id="87799-156">Source code editors like [Visual Studio Team Services](https://www.visualstudio.com/products/what-is-visual-studio-online-vs.aspx).</span></span> 
- <span data-ttu-id="87799-157">Ferramentas de gerenciamento de recursos conectados como um banco de dados MySQL conectado tooa web app.</span><span class="sxs-lookup"><span data-stu-id="87799-157">Management tools for connected resources such as a MySQL database connected tooa web app.</span></span>

<span data-ttu-id="87799-158">[Informações de aplicativo do Azure](/services/application-insights/) e [New Relic](/marketplace/partners/newrelic/newrelic/) são as duas extensões de site que estão disponíveis de monitoramento de desempenho de saudação.</span><span class="sxs-lookup"><span data-stu-id="87799-158">[Azure Application Insights](/services/application-insights/) and [New Relic](/marketplace/partners/newrelic/newrelic/) are two of hello performance monitoring site extensions that are available.</span></span> <span data-ttu-id="87799-159">toouse New Relic, instale um agente em tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="87799-159">toouse New Relic, you install an agent at runtime.</span></span> <span data-ttu-id="87799-160">toouse Insights do aplicativo do Azure, recriar seu código com um SDK, e você também pode instalar uma extensão que fornece acesso tooadditional dados.</span><span class="sxs-lookup"><span data-stu-id="87799-160">toouse Azure Application Insights, you rebuild your code with an SDK, and you can also install an extension that provides access tooadditional data.</span></span> <span data-ttu-id="87799-161">Olá SDK permite que você escreva o uso do código toomonitor hello e o desempenho do seu aplicativo mais detalhadamente.</span><span class="sxs-lookup"><span data-stu-id="87799-161">hello SDK lets you write code toomonitor hello usage and performance of your app in more detail.</span></span>

<span data-ttu-id="87799-162">toouse Application Insights, consulte [monitorar o desempenho em aplicativos da web](../application-insights/app-insights-web-monitor-performance.md).</span><span class="sxs-lookup"><span data-stu-id="87799-162">toouse Application Insights, see [Monitor performance in web applications](../application-insights/app-insights-web-monitor-performance.md).</span></span>

<span data-ttu-id="87799-163">Consulte toouse New Relic, [novo gerenciamento de desempenho de aplicativos Relic no Azure](../store-new-relic-cloud-services-dotnet-application-performance-management.md).</span><span class="sxs-lookup"><span data-stu-id="87799-163">toouse New Relic, see [New Relic Application Performance Management on Azure](../store-new-relic-cloud-services-dotnet-application-performance-management.md).</span></span>

<a name="collect" />

### <a name="2-collect-data"></a><span data-ttu-id="87799-164">2. Coletar dados</span><span class="sxs-lookup"><span data-stu-id="87799-164">2. Collect data</span></span>
<span data-ttu-id="87799-165">ambiente de aplicativos Web Hello fornece funcionalidade de diagnóstico para obter informações de registro em log do servidor de web hello e o aplicativo da web hello.</span><span class="sxs-lookup"><span data-stu-id="87799-165">hello Web Apps environment provides diagnostic functionality for logging information from both hello web server and hello web application.</span></span> <span data-ttu-id="87799-166">informações de saudação são separadas em Diagnóstico de servidor da web e o application diagnostics.</span><span class="sxs-lookup"><span data-stu-id="87799-166">hello information is separated into web server diagnostics and application diagnostics.</span></span>

#### <a name="enable-web-server-diagnostics"></a><span data-ttu-id="87799-167">Habilitar o diagnóstico de servidor Web</span><span class="sxs-lookup"><span data-stu-id="87799-167">Enable web server diagnostics</span></span>
<span data-ttu-id="87799-168">Você pode habilitar ou desabilitar Olá tipos de logs a seguir:</span><span class="sxs-lookup"><span data-stu-id="87799-168">You can enable or disable hello following kinds of logs:</span></span>

* <span data-ttu-id="87799-169">**Registro em Log Detalhado de Erros** - informações detalhadas de erros para códigos de status HTTP que indiquem uma falha (código de status 400 ou superior).</span><span class="sxs-lookup"><span data-stu-id="87799-169">**Detailed Error Logging** - Detailed error information for HTTP status codes that indicate a failure (status code 400 or greater).</span></span> <span data-ttu-id="87799-170">Pode conter informações que podem ajudar a determinar por que o servidor de saudação retornou o código de erro de saudação.</span><span class="sxs-lookup"><span data-stu-id="87799-170">This may contain information that can help determine why hello server returned hello error code.</span></span>
* <span data-ttu-id="87799-171">**Falha no rastreamento de solicitação** -informações detalhadas sobre solicitações com falha, incluindo um rastreamento de Olá IIS componentes usados tooprocess Olá solicitação e tempo Olá em cada componente.</span><span class="sxs-lookup"><span data-stu-id="87799-171">**Failed Request Tracing** - Detailed information on failed requests, including a trace of hello IIS components used tooprocess hello request and hello time taken in each component.</span></span> <span data-ttu-id="87799-172">Isso pode ser útil se você está tentando executar o desempenho do aplicativo web tooimprove ou isolar o que está causando um erro HTTP específico.</span><span class="sxs-lookup"><span data-stu-id="87799-172">This can be useful if you are attempting tooimprove web app performance or isolate what is causing a specific HTTP error.</span></span>
* <span data-ttu-id="87799-173">**Log de servidor Web** -informações sobre transações HTTP usando o formato de arquivo de log estendido W3C de saudação.</span><span class="sxs-lookup"><span data-stu-id="87799-173">**Web Server Logging** - Information about HTTP transactions using hello W3C extended log file format.</span></span> <span data-ttu-id="87799-174">Isso é útil ao determinar a métrica geral de aplicativo web, como número de saudação de solicitações manipuladas ou quantas solicitações são de um endereço IP específico.</span><span class="sxs-lookup"><span data-stu-id="87799-174">This is useful when determining overall web app metrics, such as hello number of requests handled or how many requests are from a specific IP address.</span></span>

#### <a name="enable-application-diagnostics"></a><span data-ttu-id="87799-175">Habilitar o diagnóstico de aplicativos</span><span class="sxs-lookup"><span data-stu-id="87799-175">Enable application diagnostics</span></span>
<span data-ttu-id="87799-176">Há várias opções toocollect aplicativo dados de desempenho de aplicativos Web, analisar seu aplicativo em tempo real do Visual Studio ou modificar sua toolog de código de aplicativo mais informações e rastreamentos.</span><span class="sxs-lookup"><span data-stu-id="87799-176">There are several options toocollect application performance data from Web Apps, profile your application live from Visual Studio, or modify your application code toolog more information and traces.</span></span> <span data-ttu-id="87799-177">Você pode escolher opções de saudação com base no nível de acesso toohello aplicativo e observada de saudação ferramentas de monitoramento.</span><span class="sxs-lookup"><span data-stu-id="87799-177">You can choose hello options based on how much access you have toohello application and what you observed from hello monitoring tools.</span></span>

##### <a name="use-application-insights-profiler"></a><span data-ttu-id="87799-178">Use o Application Insights Profiler</span><span class="sxs-lookup"><span data-stu-id="87799-178">Use Application Insights Profiler</span></span>
<span data-ttu-id="87799-179">Você pode habilitar Olá criador de perfil do aplicativo Insights toostart capturar rastreamentos de desempenho detalhada.</span><span class="sxs-lookup"><span data-stu-id="87799-179">You can enable hello Application Insights Profiler toostart capturing detailed performance traces.</span></span> <span data-ttu-id="87799-180">Você pode acessar rastreamentos capturados backup toofive dias atrás quando precisar tooinvestigate problemas aconteceu em Olá anterior.</span><span class="sxs-lookup"><span data-stu-id="87799-180">You can access traces captured up toofive days ago when you need tooinvestigate problems happened in hello past.</span></span> <span data-ttu-id="87799-181">Você pode escolher essa opção, contanto que tenha o recurso do Application Insights do aplicativo de web toohello acesso no portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="87799-181">You can choose this option as long as you have access toohello web app's Application Insights resource on Azure portal.</span></span>

<span data-ttu-id="87799-182">O criador de perfil do aplicativo Insights fornece estatísticas em tempo de resposta para cada chamada de web e os rastreamentos que indica a linha de código causou Olá respostas lentas.</span><span class="sxs-lookup"><span data-stu-id="87799-182">Application Insights Profiler provides statistics on response time for each web call and traces that indicates which line of code caused hello slow responses.</span></span> <span data-ttu-id="87799-183">Às vezes, hello aplicativo de serviço de aplicativo é lento como certos tipos de código não é gravado em um alto desempenho maneira.</span><span class="sxs-lookup"><span data-stu-id="87799-183">Sometimes hello App Service app is slow because certain code is not written in a performant way.</span></span> <span data-ttu-id="87799-184">Exemplos incluem um código sequencial que pode ser executado em contenções de bloqueio do banco de dados paralelas e indesejadas.</span><span class="sxs-lookup"><span data-stu-id="87799-184">Examples include sequential code that can be run in parallel and undesired database lock contentions.</span></span> <span data-ttu-id="87799-185">Removendo esses afunilamentos no código Olá aumenta o desempenho do aplicativo hello, mas são toodetect rígido sem configurar logs e rastreamentos elaborados.</span><span class="sxs-lookup"><span data-stu-id="87799-185">Removing these bottlenecks in hello code increases hello app's performance, but they are hard toodetect without setting up elaborate traces and logs.</span></span> <span data-ttu-id="87799-186">rastreamentos de saudação coletados pelo criador de perfil do Application Insights ajuda a identificar linhas de saudação do código diminui o aplicativo hello e superar esse desafio para os aplicativos de serviço de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="87799-186">hello traces collected by Application Insights Profiler helps identifying hello lines of code that slows down hello application and overcome this challenge for App Service apps.</span></span>

 <span data-ttu-id="87799-187">Para obter mais informações, consulte [Criação de perfil de aplicativos Web do Azure ativos com o Application Insights](../application-insights/app-insights-profiler.md).</span><span class="sxs-lookup"><span data-stu-id="87799-187">For more information, see [Profiling live Azure web apps with Application Insights](../application-insights/app-insights-profiler.md).</span></span>

##### <a name="use-remote-profiling"></a><span data-ttu-id="87799-188">Usar a criação de perfil remota</span><span class="sxs-lookup"><span data-stu-id="87799-188">Use Remote Profiling</span></span>
<span data-ttu-id="87799-189">No Serviço de Aplicativo do Azure, Aplicativos Web, Aplicativos de API e WebJobs podem ter perfis criados remotamente.</span><span class="sxs-lookup"><span data-stu-id="87799-189">In Azure App Service, Web Apps, API Apps, and WebJobs can be remotely profiled.</span></span> <span data-ttu-id="87799-190">Escolha esta opção se você tem acesso toohello web app recursos e você sabe como tooreproduce Olá problema ou se você souber Olá exata ocorre problema de desempenho de saudação de intervalo de tempo.</span><span class="sxs-lookup"><span data-stu-id="87799-190">Choose this option if you have access toohello web app resource and you know how tooreproduce hello issue, or if you know hello exact time interval hello performance issue happens.</span></span>

<span data-ttu-id="87799-191">Criação de perfil remota é útil se Olá uso da CPU do processo de saudação for alta e o processo está sendo executado mais lentamente do que o esperado ou latência de saudação de solicitações HTTP estão acima do normal, você pode remotamente o processo de perfil e obter Olá CPU amostragem chamada pilhas tooanalyze Hello atividade de processo e hot caminhos de código.</span><span class="sxs-lookup"><span data-stu-id="87799-191">Remote Profiling is useful if hello CPU usage of hello process is high and your process is running slower than expected, or hello latency of HTTP requests are higher than normal, you can remotely profile your process and get hello CPU sampling call stacks tooanalyze hello process activity and code hot paths.</span></span>

<span data-ttu-id="87799-192">Para obter mais informações, consulte [Suporte à criação de perfil remota no Serviço de Aplicativo do Azure](https://azure.microsoft.com/blog/remote-profiling-support-in-azure-app-service).</span><span class="sxs-lookup"><span data-stu-id="87799-192">For more information, see [Remote Profiling support in Azure App Service](https://azure.microsoft.com/blog/remote-profiling-support-in-azure-app-service).</span></span>

##### <a name="set-up-diagnostic-traces-manually"></a><span data-ttu-id="87799-193">Configurar manualmente os rastreamentos de diagnóstico</span><span class="sxs-lookup"><span data-stu-id="87799-193">Set up diagnostic traces manually</span></span>
<span data-ttu-id="87799-194">Se você tiver código fonte do aplicativo web de toohello do access, o diagnóstico de aplicativo permite que informações toocapture produzidas por um aplicativo web.</span><span class="sxs-lookup"><span data-stu-id="87799-194">If you have access toohello web application source code, Application diagnostics enables you toocapture information produced by a web application.</span></span> <span data-ttu-id="87799-195">Aplicativos ASP.NET podem usar Olá `System.Diagnostics.Trace` classe toolog informações toohello aplicativo diagnóstico de log.</span><span class="sxs-lookup"><span data-stu-id="87799-195">ASP.NET applications can use hello `System.Diagnostics.Trace` class toolog information toohello application diagnostics log.</span></span> <span data-ttu-id="87799-196">No entanto, é necessário toochange Olá código e reimplantar o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="87799-196">However, you need toochange hello code and redeploy your application.</span></span> <span data-ttu-id="87799-197">Esse método é recomendado se o aplicativo está sendo executado em um ambiente de teste.</span><span class="sxs-lookup"><span data-stu-id="87799-197">This method is recommended if your app is running on a testing environment.</span></span>

<span data-ttu-id="87799-198">Para obter instruções detalhadas sobre como tooconfigure seu aplicativo para o log, consulte [habilitar o log de diagnóstico para aplicativos web no serviço de aplicativo do Azure](web-sites-enable-diagnostic-log.md).</span><span class="sxs-lookup"><span data-stu-id="87799-198">For detailed instructions on how tooconfigure your application for logging, see [Enable diagnostics logging for web apps in Azure App Service](web-sites-enable-diagnostic-log.md).</span></span>

#### <a name="use-hello-azure-app-service-support-portal"></a><span data-ttu-id="87799-199">Use o portal de suporte do serviço de aplicativo do Azure Olá</span><span class="sxs-lookup"><span data-stu-id="87799-199">Use hello Azure App Service support portal</span></span>
<span data-ttu-id="87799-200">Os aplicativos Web fornece Olá capacidade tootroubleshoot problemas relacionados tooyour web aplicativo examinando HTTP logs, logs de eventos, os despejos de processo e muito mais.</span><span class="sxs-lookup"><span data-stu-id="87799-200">Web Apps provides you with hello ability tootroubleshoot issues related tooyour web app by looking at HTTP logs, event logs, process dumps, and more.</span></span> <span data-ttu-id="87799-201">Você pode acessar todas essas informações usando nosso portal de Suporte em **http://&lt;nome do aplicativo>.scm.azurewebsites.net/Support**</span><span class="sxs-lookup"><span data-stu-id="87799-201">You can access all this information using our Support portal at **http://&lt;your app name>.scm.azurewebsites.net/Support**</span></span>

<span data-ttu-id="87799-202">portal de suporte do serviço de aplicativo do Azure Olá fornece três guias separadas toosupport Olá três etapas de um cenário de solução de problemas comuns:</span><span class="sxs-lookup"><span data-stu-id="87799-202">hello Azure App Service support portal provides you with three separate tabs toosupport hello three steps of a common troubleshooting scenario:</span></span>

1. <span data-ttu-id="87799-203">Observar o comportamento atual</span><span class="sxs-lookup"><span data-stu-id="87799-203">Observe current behavior</span></span>
2. <span data-ttu-id="87799-204">Analisar a coleta de informações de diagnóstico e executando Olá analisadores internos</span><span class="sxs-lookup"><span data-stu-id="87799-204">Analyze by collecting diagnostics information and running hello built-in analyzers</span></span>
3. <span data-ttu-id="87799-205">Atenuar</span><span class="sxs-lookup"><span data-stu-id="87799-205">Mitigate</span></span>

<span data-ttu-id="87799-206">Se o problema de saudação estiver ocorrendo no momento, clique em **analisar** > **diagnóstico** > **diagnosticar agora** toocreate uma sessão de diagnóstico para você, que coleta logs de HTTP, logs do Visualizador de eventos, despejos de memória, logs de erros do PHP e relatório de processo do PHP.</span><span class="sxs-lookup"><span data-stu-id="87799-206">If hello issue is happening right now, click **Analyze** > **Diagnostics** > **Diagnose Now** toocreate a diagnostic session for you, which collects HTTP logs, event viewer logs, memory dumps, PHP error logs, and PHP process report.</span></span>

<span data-ttu-id="87799-207">Depois de saudação os dados são coletados, portal de suporte de saudação executa uma análise em dados hello e fornece um relatório HTML.</span><span class="sxs-lookup"><span data-stu-id="87799-207">Once hello data is collected, hello support portal runs an analysis on hello data and provides you with an HTML report.</span></span>

<span data-ttu-id="87799-208">Caso você deseje dados de saudação toodownload, por padrão, ele seria armazenado na pasta de D:\home\data\DaaS hello.</span><span class="sxs-lookup"><span data-stu-id="87799-208">In case you want toodownload hello data, by default, it would be stored in hello D:\home\data\DaaS folder.</span></span>

<span data-ttu-id="87799-209">Para obter mais informações sobre o portal de suporte do serviço de aplicativo do Azure hello, consulte [tooSupport de novas atualizações a extensão de Site para sites do Azure](https://azure.microsoft.com/blog/new-updates-to-support-site-extension-for-azure-websites).</span><span class="sxs-lookup"><span data-stu-id="87799-209">For more information on hello Azure App Service support portal, see [New Updates tooSupport Site Extension for Azure Websites](https://azure.microsoft.com/blog/new-updates-to-support-site-extension-for-azure-websites).</span></span>

#### <a name="use-hello-kudu-debug-console"></a><span data-ttu-id="87799-210">Use Olá Kudu Console de depuração</span><span class="sxs-lookup"><span data-stu-id="87799-210">Use hello Kudu Debug Console</span></span>
<span data-ttu-id="87799-211">Aplicativos Web vêm com um console de depuração que você pode usar para depuração, exploração, carregamento de arquivos, bem como para pontos de extremidade JSON para obter informações sobre seu ambiente.</span><span class="sxs-lookup"><span data-stu-id="87799-211">Web Apps comes with a debug console that you can use for debugging, exploring, uploading files, as well as JSON endpoints for getting information about your environment.</span></span> <span data-ttu-id="87799-212">Esse console é chamado hello *Kudu Console* ou hello *SCM painel* para seu aplicativo web.</span><span class="sxs-lookup"><span data-stu-id="87799-212">This console is called hello *Kudu Console* or hello *SCM Dashboard* for your web app.</span></span>

<span data-ttu-id="87799-213">Você pode acessar este painel, vai toohello link **https://&lt;nome do aplicativo >.scm.azurewebsites.net/**.</span><span class="sxs-lookup"><span data-stu-id="87799-213">You can access this dashboard by going toohello link **https://&lt;Your app name>.scm.azurewebsites.net/**.</span></span>

<span data-ttu-id="87799-214">Algumas das coisas Olá Kudu oferece são:</span><span class="sxs-lookup"><span data-stu-id="87799-214">Some of hello things that Kudu provides are:</span></span>

* <span data-ttu-id="87799-215">configurações de ambiente para seu aplicativo</span><span class="sxs-lookup"><span data-stu-id="87799-215">environment settings for your application</span></span>
* <span data-ttu-id="87799-216">fluxo de logs</span><span class="sxs-lookup"><span data-stu-id="87799-216">log stream</span></span>
* <span data-ttu-id="87799-217">despejos de diagnóstico</span><span class="sxs-lookup"><span data-stu-id="87799-217">diagnostic dump</span></span>
* <span data-ttu-id="87799-218">console de depuração no qual você pode executar os cmdlets do Powershell e os comandos básicos de DOS.</span><span class="sxs-lookup"><span data-stu-id="87799-218">debug console in which you can run Powershell cmdlets and basic DOS commands.</span></span>

<span data-ttu-id="87799-219">Outro recurso útil de Kudu é que, no caso de seu aplicativo está gerando exceções de primeira chance, você pode usar o Kudu e despejos de memória do hello SysInternals ferramenta Procdump toocreate.</span><span class="sxs-lookup"><span data-stu-id="87799-219">Another useful feature of Kudu is that, in case your application is throwing first-chance exceptions, you can use Kudu and hello SysInternals tool Procdump toocreate memory dumps.</span></span> <span data-ttu-id="87799-220">Esses despejos de memória são instantâneos do processo de saudação e podem geralmente ajudá-lo a solucionar problemas mais complexos com seu aplicativo web.</span><span class="sxs-lookup"><span data-stu-id="87799-220">These memory dumps are snapshots of hello process and can often help you troubleshoot more complicated issues with your web app.</span></span>

<span data-ttu-id="87799-221">Para saber mais sobre os recursos disponíveis no Kudu, veja [Ferramentas online do Azure Websites Team Services que você precisa conhecer](https://azure.microsoft.com/blog/windows-azure-websites-online-tools-you-should-know-about/).</span><span class="sxs-lookup"><span data-stu-id="87799-221">For more information on features available in Kudu, see [Azure Websites Team Services tools you should know about](https://azure.microsoft.com/blog/windows-azure-websites-online-tools-you-should-know-about/).</span></span>

<a name="mitigate" />

### <a name="3-mitigate-hello-issue"></a><span data-ttu-id="87799-222">3. Reduzir o problema de saudação</span><span class="sxs-lookup"><span data-stu-id="87799-222">3. Mitigate hello issue</span></span>
#### <a name="scale-hello-web-app"></a><span data-ttu-id="87799-223">Escala Olá web app</span><span class="sxs-lookup"><span data-stu-id="87799-223">Scale hello web app</span></span>
<span data-ttu-id="87799-224">No serviço de aplicativo do Azure, para aumentar o desempenho e a taxa de transferência, você pode ajustar a escala de saudação em que você estiver executando o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="87799-224">In Azure App Service, for increased performance and throughput,  you can adjust hello scale at which you are running your application.</span></span> <span data-ttu-id="87799-225">Dimensionamento de um aplicativo web envolve duas ações relacionadas: alterando sua tooa de plano de serviço de aplicativo maior preço e determinadas configurações após a troca de toohello maior preço.</span><span class="sxs-lookup"><span data-stu-id="87799-225">Scaling up a web app involves two related actions: changing your App Service plan tooa higher pricing tier, and configuring certain settings after you have switched toohello higher pricing tier.</span></span>

<span data-ttu-id="87799-226">Para saber mais sobre como escalar, consulte [Escalar um aplicativo Web no Serviço de Aplicativo do Azure](web-sites-scale.md).</span><span class="sxs-lookup"><span data-stu-id="87799-226">For more information on scaling, see [Scale a web app in Azure App Service](web-sites-scale.md).</span></span>

<span data-ttu-id="87799-227">Além disso, você pode escolher toorun seu aplicativo em mais de uma instância.</span><span class="sxs-lookup"><span data-stu-id="87799-227">Additionally, you can choose toorun your application on more than one instance.</span></span> <span data-ttu-id="87799-228">Escalar horizontalmente não apenas fornece mais capacidade de processamento, como também oferece alguma quantidade de tolerância a falhas.</span><span class="sxs-lookup"><span data-stu-id="87799-228">Scaling out not only provides you with more processing capability, but also gives you some amount of fault tolerance.</span></span> <span data-ttu-id="87799-229">Se o processo de saudação falhar em uma instância, hello outras instâncias continuam tooserve solicitações.</span><span class="sxs-lookup"><span data-stu-id="87799-229">If hello process goes down on one instance, hello other instances continue tooserve requests.</span></span>

<span data-ttu-id="87799-230">Você pode definir Olá dimensionamento toobe Manual ou automático.</span><span class="sxs-lookup"><span data-stu-id="87799-230">You can set hello scaling toobe Manual or Automatic.</span></span>

#### <a name="use-autoheal"></a><span data-ttu-id="87799-231">Usar AutoHeal</span><span class="sxs-lookup"><span data-stu-id="87799-231">Use AutoHeal</span></span>
<span data-ttu-id="87799-232">O AutoHeal recicla o processo do operador de saudação para seu aplicativo com base nas configurações que você escolha (como as alterações de configuração, solicitações, limites de memória ou tempo de saudação necessário tooexecute uma solicitação).</span><span class="sxs-lookup"><span data-stu-id="87799-232">AutoHeal recycles hello worker process for your app based on settings you choose (like configuration changes, requests, memory-based limits, or hello time needed tooexecute a request).</span></span> <span data-ttu-id="87799-233">A maioria do tempo de saudação Reciclar processos do hello são Olá toorecover de maneira mais rápida de um problema.</span><span class="sxs-lookup"><span data-stu-id="87799-233">Most of hello time, recycle hello process is hello fastest way toorecover from a problem.</span></span> <span data-ttu-id="87799-234">Embora você sempre pode reiniciar o aplicativo web de saudação do diretamente no portal do Azure de saudação, AutoHeal faz isso automaticamente para você.</span><span class="sxs-lookup"><span data-stu-id="87799-234">Though you can always restart hello web app from directly within hello Azure portal, AutoHeal does it automatically for you.</span></span> <span data-ttu-id="87799-235">Você só precisa toodo é adicionar alguns gatilhos no Web. config de raiz de saudação para seu aplicativo web.</span><span class="sxs-lookup"><span data-stu-id="87799-235">All you need toodo is add some triggers in hello root web.config for your web app.</span></span> <span data-ttu-id="87799-236">Essas configurações funcionaria em Olá mesma forma, mesmo que seu aplicativo não é um aplicativo .net.</span><span class="sxs-lookup"><span data-stu-id="87799-236">These settings would work in hello same way even if your application is not a .Net app.</span></span>

<span data-ttu-id="87799-237">Para saber mais, consulte [AutoHeal em sites do Azure](https://azure.microsoft.com/blog/auto-healing-windows-azure-web-sites/).</span><span class="sxs-lookup"><span data-stu-id="87799-237">For more information, see [Auto-Healing Azure Web Sites](https://azure.microsoft.com/blog/auto-healing-windows-azure-web-sites/).</span></span>

#### <a name="restart-hello-web-app"></a><span data-ttu-id="87799-238">Reiniciar o aplicativo web de saudação</span><span class="sxs-lookup"><span data-stu-id="87799-238">Restart hello web app</span></span>
<span data-ttu-id="87799-239">Reinicialização costuma Olá toorecover de maneira mais simples de problemas ocasionais.</span><span class="sxs-lookup"><span data-stu-id="87799-239">Restarting is often hello simplest way toorecover from one-time issues.</span></span> <span data-ttu-id="87799-240">Em Olá [portal do Azure](https://portal.azure.com/), na folha do seu aplicativo web, você tem Olá opções toostop ou reiniciar o seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="87799-240">On hello [Azure portal](https://portal.azure.com/), on your web app’s blade, you have hello options toostop or restart your app.</span></span>

 ![Reinicie os problemas de desempenho de toosolve de aplicativo web](./media/app-service-web-troubleshoot-performance-degradation/2-restart.png)

<span data-ttu-id="87799-242">Você também pode gerenciar seu aplicativo Web usando o Azure Powershell.</span><span class="sxs-lookup"><span data-stu-id="87799-242">You can also manage your web app using Azure Powershell.</span></span> <span data-ttu-id="87799-243">Para obter mais informações, consulte [Usando o PowerShell do Azure com o Azure Resource Manager](../powershell-azure-resource-manager.md).</span><span class="sxs-lookup"><span data-stu-id="87799-243">For more information, see [Using Azure PowerShell with Azure Resource Manager](../powershell-azure-resource-manager.md).</span></span>
