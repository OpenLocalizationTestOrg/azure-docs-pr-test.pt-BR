---
title: "aaaProvision e implantar microservices previsível no Azure"
description: "Saiba como toodeploy um aplicativo composto de microservices no serviço de aplicativo do Azure como uma única unidade e de maneira previsível usando modelos de grupo de recursos JSON e o script do PowerShell."
services: app-service
documentationcenter: 
author: cephalin
manager: erikre
editor: jimbe
ms.assetid: bb51e565-e462-4c60-929a-2ff90121f41d
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/06/2016
ms.author: cephalin
ms.openlocfilehash: d32c2fc82a8b09e89224ec437e5819b65b2e9e78
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="provision-and-deploy-microservices-predictably-in-azure"></a><span data-ttu-id="f0e43-103">Provisionar e implantar microsserviços previsíveis no Azure</span><span class="sxs-lookup"><span data-stu-id="f0e43-103">Provision and deploy microservices predictably in Azure</span></span>
<span data-ttu-id="f0e43-104">Este tutorial mostra como tooprovision e implantar um aplicativo composto [microservices](https://en.wikipedia.org/wiki/Microservices) na [do serviço de aplicativo do Azure](/services/app-service/) como uma única unidade e de maneira previsível usando modelos de grupo de recursos JSON e Script do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f0e43-104">This tutorial shows how tooprovision and deploy an application composed of [microservices](https://en.wikipedia.org/wiki/Microservices) in [Azure App Service](/services/app-service/) as a single unit and in a predictable manner using JSON resource group templates and PowerShell scripting.</span></span> 

<span data-ttu-id="f0e43-105">Quando o provisionamento e implantação de aplicativos de grande escala que são compostos de microservices altamente desacoplada, capacidade de repetição e a previsibilidade são toosuccess crucial.</span><span class="sxs-lookup"><span data-stu-id="f0e43-105">When provisioning and deploying high-scale applications that are composed of highly decoupled microservices, repeatability and predictability are crucial toosuccess.</span></span> <span data-ttu-id="f0e43-106">[Serviço de aplicativo do Azure](/services/app-service/) permite que você microservices toocreate que incluem aplicativos web, aplicativos móveis, aplicativos de API e aplicativos lógicos.</span><span class="sxs-lookup"><span data-stu-id="f0e43-106">[Azure App Service](/services/app-service/) enables you toocreate microservices that include web apps, mobile apps, API apps, and logic apps.</span></span> <span data-ttu-id="f0e43-107">[Gerenciador de recursos do Azure](../azure-resource-manager/resource-group-overview.md) permite que você toomanage todos os microservices de saudação como uma unidade, junto com as dependências de recurso, como configurações de controle de origem e de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="f0e43-107">[Azure Resource Manager](../azure-resource-manager/resource-group-overview.md) enables you toomanage all hello microservices as a unit, together with resource dependencies such as database and source control settings.</span></span> <span data-ttu-id="f0e43-108">Agora, você também pode implantar esse aplicativo usando modelos JSON e scripts simples do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f0e43-108">Now, you can also deploy such an application using JSON templates and simple PowerShell scripting.</span></span> 

[!INCLUDE [app-service-web-to-api-and-mobile](../../includes/app-service-web-to-api-and-mobile.md)]

## <a name="what-you-will-do"></a><span data-ttu-id="f0e43-109">O que você fará</span><span class="sxs-lookup"><span data-stu-id="f0e43-109">What you will do</span></span>
<span data-ttu-id="f0e43-110">Olá tutorial, você implantará um aplicativo que inclui:</span><span class="sxs-lookup"><span data-stu-id="f0e43-110">In hello tutorial, you will deploy an application that includes:</span></span>

* <span data-ttu-id="f0e43-111">Dois aplicativos Web (isto é, dois microsserviços)</span><span class="sxs-lookup"><span data-stu-id="f0e43-111">Two web apps (i.e. two microservices)</span></span>
* <span data-ttu-id="f0e43-112">Um banco de dados SQL de back-end</span><span class="sxs-lookup"><span data-stu-id="f0e43-112">A backend SQL Database</span></span>
* <span data-ttu-id="f0e43-113">Configurações do aplicativo, cadeias de conexão e controle do código-fonte</span><span class="sxs-lookup"><span data-stu-id="f0e43-113">App settings, connection strings, and source control</span></span>
* <span data-ttu-id="f0e43-114">Application Insights, alertas, configurações de dimensionamento automático</span><span class="sxs-lookup"><span data-stu-id="f0e43-114">Application insights, alerts, autoscaling settings</span></span>

## <a name="tools-you-will-use"></a><span data-ttu-id="f0e43-115">Ferramentas que você utilizará</span><span class="sxs-lookup"><span data-stu-id="f0e43-115">Tools you will use</span></span>
<span data-ttu-id="f0e43-116">Neste tutorial, você usará Olá ferramentas a seguir.</span><span class="sxs-lookup"><span data-stu-id="f0e43-116">In this tutorial, you will use hello following tools.</span></span> <span data-ttu-id="f0e43-117">Pois ele não é abrangente sobre ferramentas, eu vou cenário de ponta a ponta de toohello toostick e apenas oferecem tooeach uma breve introdução, e onde você pode encontrar mais informações sobre ela.</span><span class="sxs-lookup"><span data-stu-id="f0e43-117">Since it’s not comprehensive discussion on tools, I’m going toostick toohello end-to-end scenario and just give you a brief intro tooeach, and where you can find more information on it.</span></span> 

### <a name="azure-resource-manager-templates-json"></a><span data-ttu-id="f0e43-118">Modelos do Gerenciador de Recursos do Azure (JSON)</span><span class="sxs-lookup"><span data-stu-id="f0e43-118">Azure Resource Manager templates (JSON)</span></span>
<span data-ttu-id="f0e43-119">Toda vez que você criar um aplicativo web no serviço de aplicativo do Azure, por exemplo, o Gerenciador de recursos do Azure usa um grupo de recursos inteiro JSON modelo toocreate Olá com recursos de componente de saudação.</span><span class="sxs-lookup"><span data-stu-id="f0e43-119">Every time you create a web app in Azure App Service, for example, Azure Resource Manager uses a JSON template toocreate hello entire resource group with hello component resources.</span></span> <span data-ttu-id="f0e43-120">Um modelo complexo de saudação [Azure Marketplace](/marketplace) como Olá [WordPress escalonável](/marketplace/partners/wordpress/scalablewordpress/) aplicativo pode incluir o banco de dados do hello MySQL contas de armazenamento, Olá plano de serviço de aplicativo, Olá web aplicativo em si, regras de alerta, o aplicativo as configurações, as configurações de dimensionamento automático e mais e todos esses modelos são tooyou disponível por meio do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f0e43-120">A complex template from hello [Azure Marketplace](/marketplace) like hello [Scalable WordPress](/marketplace/partners/wordpress/scalablewordpress/) app can include hello MySQL database, storage accounts, hello App Service plan, hello web app itself, alert rules, app settings, autoscale settings, and more, and all these templates are available tooyou through PowerShell.</span></span> <span data-ttu-id="f0e43-121">Para obter informações sobre como toodownload e usar esses modelos, consulte [usando o PowerShell do Azure com o Azure Resource Manager](../powershell-azure-resource-manager.md).</span><span class="sxs-lookup"><span data-stu-id="f0e43-121">For information on how toodownload and use these templates, see [Using Azure PowerShell with Azure Resource Manager](../powershell-azure-resource-manager.md).</span></span>

<span data-ttu-id="f0e43-122">Para obter mais informações sobre modelos do Azure Resource Manager hello, consulte [criação de modelos de Gerenciador de recursos do Azure](../azure-resource-manager/resource-group-authoring-templates.md)</span><span class="sxs-lookup"><span data-stu-id="f0e43-122">For more information on hello Azure Resource Manager templates, see [Authoring Azure Resource Manager Templates](../azure-resource-manager/resource-group-authoring-templates.md)</span></span>

### <a name="azure-sdk-26-for-visual-studio"></a><span data-ttu-id="f0e43-123">SDK do Azure para Visual Studio 2.6</span><span class="sxs-lookup"><span data-stu-id="f0e43-123">Azure SDK 2.6 for Visual Studio</span></span>
<span data-ttu-id="f0e43-124">Olá SDK mais recente contém melhorias toohello Gerenciador de recursos de suporte de modelo no editor de JSON hello.</span><span class="sxs-lookup"><span data-stu-id="f0e43-124">hello newest SDK contains improvements toohello Resource Manager template support in hello JSON editor.</span></span> <span data-ttu-id="f0e43-125">Você pode usar este tooquickly criar um modelo de grupo de recursos a partir do zero ou abrir um modelo JSON existente (como um modelo de galeria baixado) para modificação, preencher o arquivo de parâmetros de saudação e até mesmo implantar grupo de recursos de saudação diretamente a partir do Azure Solução de grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="f0e43-125">You can use this tooquickly create a resource group template from scratch or open an existing JSON template (such as a downloaded gallery template) for modification, populate hello parameters file, and even deploy hello resource group directly from an Azure Resource Group solution.</span></span>

<span data-ttu-id="f0e43-126">Para obter mais informações, consulte [SDK do Azure para Visual Studio 2.6](https://azure.microsoft.com/blog/2015/04/29/announcing-the-azure-sdk-2-6-for-net/).</span><span class="sxs-lookup"><span data-stu-id="f0e43-126">For more information, see [Azure SDK 2.6 for Visual Studio](https://azure.microsoft.com/blog/2015/04/29/announcing-the-azure-sdk-2-6-for-net/).</span></span>

### <a name="azure-powershell-080-or-later"></a><span data-ttu-id="f0e43-127">Azure PowerShell 0.8.0 ou posterior</span><span class="sxs-lookup"><span data-stu-id="f0e43-127">Azure PowerShell 0.8.0 or later</span></span>
<span data-ttu-id="f0e43-128">Começando na versão 0.8.0, Olá instalação do PowerShell do Azure inclui módulo do Azure Resource Manager Olá em adição toohello módulo do Azure.</span><span class="sxs-lookup"><span data-stu-id="f0e43-128">Beginning in version 0.8.0, hello Azure PowerShell installation includes hello Azure Resource Manager module in addition toohello Azure module.</span></span> <span data-ttu-id="f0e43-129">Este novo módulo permite que você tooscript implantação de saudação de grupos de recursos.</span><span class="sxs-lookup"><span data-stu-id="f0e43-129">This new module enables you tooscript hello deployment of resource groups.</span></span>

<span data-ttu-id="f0e43-130">Para obter mais informações, consulte [Usando o PowerShell do Azure com o Gerenciador de Recursos do Azure](../powershell-azure-resource-manager.md)</span><span class="sxs-lookup"><span data-stu-id="f0e43-130">For more information, see [Using Azure PowerShell with Azure Resource Manager](../powershell-azure-resource-manager.md)</span></span>

### <a name="azure-resource-explorer"></a><span data-ttu-id="f0e43-131">Gerenciador de Recursos do Azure</span><span class="sxs-lookup"><span data-stu-id="f0e43-131">Azure Resource Explorer</span></span>
<span data-ttu-id="f0e43-132">Isso [ferramenta de visualização](https://resources.azure.com) permite que você tooexplore definições de JSON de saudação de todos os grupos de recursos de saudação em sua assinatura e Olá recursos individuais.</span><span class="sxs-lookup"><span data-stu-id="f0e43-132">This [preview tool](https://resources.azure.com) enables you tooexplore hello JSON definitions of all hello resource groups in your subscription and hello individual resources.</span></span> <span data-ttu-id="f0e43-133">Na ferramenta de hello, Editar definições de JSON de saudação de um recurso, excluir uma hierarquia inteira de recursos e criar novos recursos.</span><span class="sxs-lookup"><span data-stu-id="f0e43-133">In hello tool, you can edit hello JSON definitions of a resource, delete an entire hierarchy of resources, and create new resources.</span></span>  <span data-ttu-id="f0e43-134">informações de saudação prontamente disponíveis nessa ferramenta serão muito útil para criação de modelo, como mostra o que propriedades que você precisa tooset para um determinado tipo de recurso, hello corrija valores, etc. Você pode até mesmo criar seu grupo de recursos no hello [Portal do Azure](https://portal.azure.com/), em seguida, verifique suas definições de JSON em Olá explorer ferramenta toohelp você templatize o grupo de recursos de saudação.</span><span class="sxs-lookup"><span data-stu-id="f0e43-134">hello information readily available in this tool is very helpful for template authoring because it shows you what properties you need tooset for a particular type of resource, hello correct values, etc. You can even create your resource group in hello [Azure Portal](https://portal.azure.com/), then inspect its JSON definitions in hello explorer tool toohelp you templatize hello resource group.</span></span>

### <a name="deploy-tooazure-button"></a><span data-ttu-id="f0e43-135">TooAzure botão implantar</span><span class="sxs-lookup"><span data-stu-id="f0e43-135">Deploy tooAzure button</span></span>
<span data-ttu-id="f0e43-136">Se você usar o GitHub para controle de origem, você pode colocar um [implantar tooAzure botão](https://azure.microsoft.com/blog/2014/11/13/deploy-to-azure-button-for-azure-websites-2/) em seu arquivo Leiame. MD, que permite que um tooAzure de interface do usuário de implantação completas.</span><span class="sxs-lookup"><span data-stu-id="f0e43-136">If you use GitHub for source control, you can put a [Deploy tooAzure button](https://azure.microsoft.com/blog/2014/11/13/deploy-to-azure-button-for-azure-websites-2/) into your README.MD, which enables a turn-key deployment UI tooAzure.</span></span> <span data-ttu-id="f0e43-137">Enquanto você pode fazer isso para qualquer aplicativo da web simples, você pode estender esse tooenable Implantando um grupo de recursos inteiro colocando um arquivo azuredeploy.json na raiz do repositório de saudação.</span><span class="sxs-lookup"><span data-stu-id="f0e43-137">While you can do this for any simple web app, you can extend this tooenable deploying an entire resource group by putting an azuredeploy.json file in hello repository root.</span></span> <span data-ttu-id="f0e43-138">Esse arquivo JSON, que contém o modelo de grupo de recursos hello, será usado pelo grupo de recursos Olá implantar tooAzure botão toocreate hello.</span><span class="sxs-lookup"><span data-stu-id="f0e43-138">This JSON file, which contains hello resource group template, will be used by hello Deploy tooAzure button toocreate hello resource group.</span></span> <span data-ttu-id="f0e43-139">Para obter um exemplo, consulte Olá [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) exemplo, que você usará neste tutorial.</span><span class="sxs-lookup"><span data-stu-id="f0e43-139">For an example, see hello [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) sample, which you will use in this tutorial.</span></span>

## <a name="get-hello-sample-resource-group-template"></a><span data-ttu-id="f0e43-140">Obter o modelo de grupo de recursos do exemplo hello</span><span class="sxs-lookup"><span data-stu-id="f0e43-140">Get hello sample resource group template</span></span>
<span data-ttu-id="f0e43-141">Agora, vamos tooit à direita.</span><span class="sxs-lookup"><span data-stu-id="f0e43-141">So now let’s get right tooit.</span></span>

1. <span data-ttu-id="f0e43-142">Navegue toohello [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) exemplo de serviço de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f0e43-142">Navigate toohello [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) App Service sample.</span></span>
2. <span data-ttu-id="f0e43-143">Em readme.md, clique em **implantar tooAzure**.</span><span class="sxs-lookup"><span data-stu-id="f0e43-143">In readme.md, click **Deploy tooAzure**.</span></span>
3. <span data-ttu-id="f0e43-144">Você é levado toohello [implantar para azure](https://deploy.azure.com) site e os parâmetros de implantação tooinput frequentes.</span><span class="sxs-lookup"><span data-stu-id="f0e43-144">You’re taken toohello [deploy-to-azure](https://deploy.azure.com) site and asked tooinput deployment parameters.</span></span> <span data-ttu-id="f0e43-145">Observe que a maioria dos campos de saudação é populada com o nome do repositório hello e algumas cadeias de caracteres aleatórias para você.</span><span class="sxs-lookup"><span data-stu-id="f0e43-145">Notice that most of hello fields are populated with hello repository name and some random strings for you.</span></span> <span data-ttu-id="f0e43-146">Você pode alterar todos os campos de saudação se desejar, mas únicas coisas de saudação ter tooenter são Olá administrativa logon e senha hello e clique em **próximo**.</span><span class="sxs-lookup"><span data-stu-id="f0e43-146">You can change all hello fields if you want, but hello only things you have tooenter are hello SQL Server administrative login and hello password, then click **Next**.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/gettemplate-1-deploybuttonui.png)
4. <span data-ttu-id="f0e43-147">Em seguida, clique em **implantar** toostart processo de implantação de saudação.</span><span class="sxs-lookup"><span data-stu-id="f0e43-147">Next, click **Deploy** toostart hello deployment process.</span></span> <span data-ttu-id="f0e43-148">Depois que o processo de saudação executa toocompletion, clique em Olá http://todoapp*XXXX*. saudação do azurewebsites.net link toobrowse implantou o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f0e43-148">Once hello process runs toocompletion, click hello http://todoapp*XXXX*.azurewebsites.net link toobrowse hello deployed application.</span></span> 
   
   ![](./media/app-service-deploy-complex-application-predictably/gettemplate-2-deployprogress.png)
   
   <span data-ttu-id="f0e43-149">Saudação da interface do usuário seja um pouco lenta quando você procura primeiro tooit porque Olá aplicativos estão iniciando, mas convencer-se de que se trata de um aplicativo totalmente funcional.</span><span class="sxs-lookup"><span data-stu-id="f0e43-149">hello UI would be a little slow when you first browse tooit because hello apps are just starting up, but convince yourself that it’s a fully-functional application.</span></span>
5. <span data-ttu-id="f0e43-150">Em página de implantar hello, clique em Olá **gerenciar** link toosee Olá novo aplicativo no hello Portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="f0e43-150">Back in hello Deploy page, click hello **Manage** link toosee hello new application in hello Azure Portal.</span></span>
6. <span data-ttu-id="f0e43-151">Em Olá **Essentials** lista suspensa, clique no link Olá recurso grupo.</span><span class="sxs-lookup"><span data-stu-id="f0e43-151">In hello **Essentials** dropdown, click hello resource group link.</span></span> <span data-ttu-id="f0e43-152">Observe também que o aplicativo web hello já está conectado toohello repositório do GitHub em **projeto externo**.</span><span class="sxs-lookup"><span data-stu-id="f0e43-152">Note also that hello web app is already connected toohello GitHub repository under **External Project**.</span></span> 
   
   ![](./media/app-service-deploy-complex-application-predictably/gettemplate-3-portalresourcegroup.png)
7. <span data-ttu-id="f0e43-153">Na folha de grupo de recursos hello, observe que já existem dois aplicativos da web e um banco de dados do SQL no grupo de recursos de saudação.</span><span class="sxs-lookup"><span data-stu-id="f0e43-153">In hello resource group blade, note that there are already two web apps and one SQL Database in hello resource group.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/gettemplate-4-portalresourcegroupclicked.png)

<span data-ttu-id="f0e43-154">Tudo o que você acabou de ver em poucos minutos curtos for um aplicativo de microsserviço de dois totalmente implantado, com todos os componentes de saudação, dependências, configurações, banco de dados e publicação contínua, definido por uma orquestração automatizada no Gerenciador de recursos do Azure.</span><span class="sxs-lookup"><span data-stu-id="f0e43-154">Everything that you just saw in a few short minutes is a fully deployed two-microservice application, with all hello components, dependencies, settings, database, and continuous publishing, set up by an automated orchestration in Azure Resource Manager.</span></span> <span data-ttu-id="f0e43-155">Tudo isso foi feito por duas coisas:</span><span class="sxs-lookup"><span data-stu-id="f0e43-155">All this was done by two things:</span></span>

* <span data-ttu-id="f0e43-156">botão de tooAzure implantar Olá</span><span class="sxs-lookup"><span data-stu-id="f0e43-156">hello Deploy tooAzure button</span></span>
* <span data-ttu-id="f0e43-157">azuredeploy.JSON na raiz do repositório de saudação</span><span class="sxs-lookup"><span data-stu-id="f0e43-157">azuredeploy.json in hello repo root</span></span>

<span data-ttu-id="f0e43-158">Você pode implantar esse aplicativo mesmo dezenas, centenas ou milhares de vezes e ter Olá exatamente a mesma configuração sempre.</span><span class="sxs-lookup"><span data-stu-id="f0e43-158">You can deploy this same application tens, hundreds, or thousands of times and have hello exact same configuration every time.</span></span> <span data-ttu-id="f0e43-159">previsibilidade de repetição e Olá Olá dessa abordagem permite que aplicativos de alta escala toodeploy com facilidade e confiança.</span><span class="sxs-lookup"><span data-stu-id="f0e43-159">hello repeatability and hello predictability of this approach enables you toodeploy high-scale applications with ease and confidence.</span></span>

## <a name="examine-or-edit-azuredeployjson"></a><span data-ttu-id="f0e43-160">Examinar (ou editar) AZUREDEPLOY.JSON</span><span class="sxs-lookup"><span data-stu-id="f0e43-160">Examine (or edit) AZUREDEPLOY.JSON</span></span>
<span data-ttu-id="f0e43-161">Agora vamos dar uma olhada em como o repositório do GitHub Olá foi configurado.</span><span class="sxs-lookup"><span data-stu-id="f0e43-161">Now let’s look at how hello GitHub repository was set up.</span></span> <span data-ttu-id="f0e43-162">Você usará o editor de JSON Olá no hello Azure .NET SDK, portanto, se você ainda não instalou [Azure .NET SDK 2.6](/downloads/), faça isso agora.</span><span class="sxs-lookup"><span data-stu-id="f0e43-162">You will be using hello JSON editor in hello Azure .NET SDK, so if you haven’t already installed [Azure .NET SDK 2.6](/downloads/), do it now.</span></span>

1. <span data-ttu-id="f0e43-163">Saudação de clone [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) repositório usando sua ferramenta favorita git.</span><span class="sxs-lookup"><span data-stu-id="f0e43-163">Clone hello [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) repository using your favorite git tool.</span></span> <span data-ttu-id="f0e43-164">Abaixo da captura de tela hello, estou fazendo isso no hello Team Explorer no Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="f0e43-164">In hello screenshot below, I’m doing this in hello Team Explorer in Visual Studio 2013.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/examinejson-1-vsclone.png)
2. <span data-ttu-id="f0e43-165">Na raiz do repositório hello, abra azuredeploy.json no Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="f0e43-165">From hello repository root, open azuredeploy.json in Visual Studio.</span></span> <span data-ttu-id="f0e43-166">Se você não vir o painel de estrutura de tópicos do JSON Olá, será necessário tooinstall SDK .NET do Azure.</span><span class="sxs-lookup"><span data-stu-id="f0e43-166">If you don’t see hello JSON Outline pane, you need tooinstall Azure .NET SDK.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/examinejson-2-vsjsoneditor.png)

<span data-ttu-id="f0e43-167">Estou não vai toodescribe todos os detalhes do formato JSON de hello, mas Olá [mais recursos](#resources) seção contém links para aprender a linguagem de modelo de grupo de recursos de saudação.</span><span class="sxs-lookup"><span data-stu-id="f0e43-167">I’m not going toodescribe every detail of hello JSON format, but hello [More Resources](#resources) section has links for learning hello resource group template language.</span></span> <span data-ttu-id="f0e43-168">Aqui, vou tooshow você Olá interessantes recursos que podem ajudá-lo a começar a fazer o seu próprio modelo personalizado para a implantação do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f0e43-168">Here, I’m just going tooshow you hello interesting features that can help you get started in making your own custom template for app deployment.</span></span>

### <a name="parameters"></a><span data-ttu-id="f0e43-169">parâmetros</span><span class="sxs-lookup"><span data-stu-id="f0e43-169">Parameters</span></span>
<span data-ttu-id="f0e43-170">Examine Olá parâmetros seção toosee que a maioria desses parâmetros são quais Olá **implantar tooAzure** botão solicitará que você tooinput.</span><span class="sxs-lookup"><span data-stu-id="f0e43-170">Take a look at hello parameters section toosee that most of these parameters are what hello **Deploy tooAzure** button prompts you tooinput.</span></span> <span data-ttu-id="f0e43-171">site Olá atrás Olá **implantar tooAzure** botão preenche Olá entrada da interface do usuário usando os parâmetros de saudação definidos em azuredeploy.json.</span><span class="sxs-lookup"><span data-stu-id="f0e43-171">hello site behind hello **Deploy tooAzure** button populates hello input UI using hello parameters defined in azuredeploy.json.</span></span> <span data-ttu-id="f0e43-172">Esses parâmetros são usados em definições de recursos hello, como nomes de recursos, os valores de propriedade, etc.</span><span class="sxs-lookup"><span data-stu-id="f0e43-172">These parameters are used throughout hello resource definitions, such as resource names, property values, etc.</span></span>

### <a name="resources"></a><span data-ttu-id="f0e43-173">Recursos</span><span class="sxs-lookup"><span data-stu-id="f0e43-173">Resources</span></span>
<span data-ttu-id="f0e43-174">No nó de recursos hello, você pode ver que os recursos de alto nível 4 são definidos, incluindo uma instância do SQL Server, um plano de serviço de aplicativo e dois aplicativos da web.</span><span class="sxs-lookup"><span data-stu-id="f0e43-174">In hello resources node, you can see that 4 top-level resources are defined, including a SQL Server instance, an App Service plan, and two web apps.</span></span> 

#### <a name="app-service-plan"></a><span data-ttu-id="f0e43-175">Plano do Serviço de Aplicativo</span><span class="sxs-lookup"><span data-stu-id="f0e43-175">App Service plan</span></span>
<span data-ttu-id="f0e43-176">Vamos começar com um simple recurso de nível raiz em Olá JSON.</span><span class="sxs-lookup"><span data-stu-id="f0e43-176">Let’s start with a simple root-level resource in hello JSON.</span></span> <span data-ttu-id="f0e43-177">No hello JSON da estrutura de tópicos, clique em plano de serviço de aplicativo hello chamado **[hostingPlanName]** toohighlight Olá código JSON correspondente.</span><span class="sxs-lookup"><span data-stu-id="f0e43-177">In hello JSON Outline, click hello App Service plan named **[hostingPlanName]** toohighlight hello corresponding JSON code.</span></span> 

![](./media/app-service-deploy-complex-application-predictably/examinejson-3-appserviceplan.png)

<span data-ttu-id="f0e43-178">Observe que Olá `type` elemento Especifica a cadeia de caracteres de saudação para um plano de serviço de aplicativo (ele era chamado de um farm de servidores há um tempo longo, long) e outros elementos e propriedades são preenchidas usando Olá parâmetros definidos no arquivo JSON de saudação e este recurso não tem todos os recursos aninhados.</span><span class="sxs-lookup"><span data-stu-id="f0e43-178">Note that hello `type` element specifies hello string for an App Service plan (it was called a server farm a long, long time ago), and other elements and properties are filled in using hello parameters defined in hello JSON file, and this resource doesn’t have any nested resources.</span></span>

> [!NOTE]
> <span data-ttu-id="f0e43-179">Observe também que valor Olá `apiVersion` informa qual versão do hello API REST toouse Olá JSON definição de recurso com e pode afetar como recurso Olá deve ser formatado dentro de saudação do Azure `{}`.</span><span class="sxs-lookup"><span data-stu-id="f0e43-179">Note also that hello value of `apiVersion` tells Azure which version of hello REST API toouse hello JSON resource definition with, and it can affect how hello resource should be formatted inside hello `{}`.</span></span> 
> 
> 

#### <a name="sql-server"></a><span data-ttu-id="f0e43-180">SQL Server</span><span class="sxs-lookup"><span data-stu-id="f0e43-180">SQL Server</span></span>
<span data-ttu-id="f0e43-181">Em seguida, clique no recurso do SQL Server Olá denominado **SQLServer** em Olá da estrutura de tópicos do JSON.</span><span class="sxs-lookup"><span data-stu-id="f0e43-181">Next, click on hello SQL Server resource named **SQLServer** in hello JSON Outline.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-4-sqlserver.png)

<span data-ttu-id="f0e43-182">Saudação de observação a seguir sobre Olá realçado código JSON:</span><span class="sxs-lookup"><span data-stu-id="f0e43-182">Note hello following about hello highlighted JSON code:</span></span>

* <span data-ttu-id="f0e43-183">uso de saudação de parâmetros garante que recursos Olá criado são denominados e configurados de forma que faz com que sejam consistentes entre si.</span><span class="sxs-lookup"><span data-stu-id="f0e43-183">hello use of parameters ensures that hello created resources are named and configured in a way that makes them consistent with one another.</span></span>
* <span data-ttu-id="f0e43-184">Olá recursos do SQL Server tem dois recursos aninhados, cada um tem um valor diferente para `type`.</span><span class="sxs-lookup"><span data-stu-id="f0e43-184">hello SQLServer resource has two nested resources, each has a different value for `type`.</span></span>
* <span data-ttu-id="f0e43-185">Olá aninhados recursos dentro de `“resources”: […]`, onde o banco de dados de saudação e regras de firewall de saudação são definidas, ter um `dependsOn` elemento que especifica a ID de recurso de saudação do recurso do hello nível raiz SQLServer.</span><span class="sxs-lookup"><span data-stu-id="f0e43-185">hello nested resources inside `“resources”: […]`, where hello database and hello firewall rules are defined, have a `dependsOn` element that specifies hello resource ID of hello root-level SQLServer resource.</span></span> <span data-ttu-id="f0e43-186">Isso informa ao Gerenciador de recursos do Azure, "antes de criar esse recurso, que outro recurso já deve existir; e se outros recursos que é definido no modelo de hello, crie um primeiro".</span><span class="sxs-lookup"><span data-stu-id="f0e43-186">This tells Azure Resource Manager, “before you create this resource, that other resource must already exist; and if that other resource is defined in hello template, then create that one first”.</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="f0e43-187">Para obter informações detalhadas sobre como Olá toouse `resourceId()` funcionam, consulte [funções de modelo do Gerenciador de recursos do Azure](../azure-resource-manager/resource-group-template-functions-resource.md#resourceid).</span><span class="sxs-lookup"><span data-stu-id="f0e43-187">For detailed information on how toouse hello `resourceId()` function, see [Azure Resource Manager Template Functions](../azure-resource-manager/resource-group-template-functions-resource.md#resourceid).</span></span>
  > 
  > 
* <span data-ttu-id="f0e43-188">Olá efeito de saudação `dependsOn` elemento é que o Azure Resource Manager pode saber quais recursos podem ser criados em paralelo e quais recursos devem ser criados em sequência.</span><span class="sxs-lookup"><span data-stu-id="f0e43-188">hello effect of hello `dependsOn` element is that Azure Resource Manager can know which resources can be created in parallel and which resources must be created sequentially.</span></span> 

#### <a name="web-app"></a><span data-ttu-id="f0e43-189">Aplicativo Web</span><span class="sxs-lookup"><span data-stu-id="f0e43-189">Web app</span></span>
<span data-ttu-id="f0e43-190">Agora, vamos passar toohello real aplicativos web, que são mais complicados.</span><span class="sxs-lookup"><span data-stu-id="f0e43-190">Now, let’s move on toohello actual web apps themselves, which are more complicated.</span></span> <span data-ttu-id="f0e43-191">Clique em aplicativo web de saudação [variables('apiSiteName')] toohighlight de estrutura de tópicos do JSON Olá seu código JSON.</span><span class="sxs-lookup"><span data-stu-id="f0e43-191">Click hello [variables(‘apiSiteName’)] web app in hello JSON Outline toohighlight its JSON code.</span></span> <span data-ttu-id="f0e43-192">Você perceberá que as coisas estão ficando muito mais interessantes.</span><span class="sxs-lookup"><span data-stu-id="f0e43-192">You’ll notice that things are getting much more interesting.</span></span> <span data-ttu-id="f0e43-193">Para essa finalidade, vou falar sobre os recursos de saudação uma:</span><span class="sxs-lookup"><span data-stu-id="f0e43-193">For this purpose, I’ll talk about hello features one by one:</span></span>

##### <a name="root-resource"></a><span data-ttu-id="f0e43-194">Recurso raiz</span><span class="sxs-lookup"><span data-stu-id="f0e43-194">Root resource</span></span>
<span data-ttu-id="f0e43-195">Olá web aplicativo depende de dois recursos diferentes.</span><span class="sxs-lookup"><span data-stu-id="f0e43-195">hello web app depends on two different resources.</span></span> <span data-ttu-id="f0e43-196">Isso significa que o Gerenciador de recursos do Azure criará Olá web app somente após os dois Olá Olá instância do SQL Server e plano de serviço de aplicativo são criados.</span><span class="sxs-lookup"><span data-stu-id="f0e43-196">This means that Azure Resource Manager will create hello web app only after both hello App Service plan and hello SQL Server instance are created.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-5-webapproot.png)

##### <a name="app-settings"></a><span data-ttu-id="f0e43-197">Configurações do aplicativo</span><span class="sxs-lookup"><span data-stu-id="f0e43-197">App settings</span></span>
<span data-ttu-id="f0e43-198">configurações do aplicativo Hello também são definidas como um recurso aninhado.</span><span class="sxs-lookup"><span data-stu-id="f0e43-198">hello app settings are also defined as a nested resource.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-6-webappsettings.png)

<span data-ttu-id="f0e43-199">Em Olá `properties` elemento para `config/appsettings`, você tem duas configurações de aplicativo no formato de saudação `“<name>” : “<value>”`.</span><span class="sxs-lookup"><span data-stu-id="f0e43-199">In hello `properties` element for `config/appsettings`, you have two app settings in hello format `“<name>” : “<value>”`.</span></span>

* <span data-ttu-id="f0e43-200">`PROJECT`é um [configuração KUDU](https://github.com/projectkudu/kudu/wiki/Customizing-deployments) que informa quais toouse projeto implantação do Azure em uma solução do Visual Studio multiprojeto.</span><span class="sxs-lookup"><span data-stu-id="f0e43-200">`PROJECT` is a [KUDU setting](https://github.com/projectkudu/kudu/wiki/Customizing-deployments) that tells Azure deployment which project toouse in a multi-project Visual Studio solution.</span></span> <span data-ttu-id="f0e43-201">Vou mostrar mais tarde como controle de origem está configurado, mas como Olá ToDoApp código está em uma solução do Visual Studio multiprojeto, precisamos que essa configuração.</span><span class="sxs-lookup"><span data-stu-id="f0e43-201">I will show you later how source control is configured, but since hello ToDoApp code is in a multi-project Visual Studio solution, we need this setting.</span></span>
* <span data-ttu-id="f0e43-202">`clientUrl`é simplesmente um aplicativo definindo esse código de aplicativo hello usa.</span><span class="sxs-lookup"><span data-stu-id="f0e43-202">`clientUrl` is simply an app setting that hello application code uses.</span></span>

##### <a name="connection-strings"></a><span data-ttu-id="f0e43-203">Cadeias de conexão</span><span class="sxs-lookup"><span data-stu-id="f0e43-203">Connection strings</span></span>
<span data-ttu-id="f0e43-204">cadeias de caracteres de conexão Olá também são definidas como um recurso aninhado.</span><span class="sxs-lookup"><span data-stu-id="f0e43-204">hello connection strings are also defined as a nested resource.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-7-webappconnstr.png)

<span data-ttu-id="f0e43-205">Em Olá `properties` elemento para `config/connectionstrings`, cada cadeia de caracteres de conexão também é definida como um par de nome: valor, com o formato específico de saudação do `“<name>” : {“value”: “…”, “type”: “…”}`.</span><span class="sxs-lookup"><span data-stu-id="f0e43-205">In hello `properties` element for `config/connectionstrings`, each connection string is also defined as a name:value pair, with hello specific format of `“<name>” : {“value”: “…”, “type”: “…”}`.</span></span> <span data-ttu-id="f0e43-206">Para Olá `type` elemento, os valores possíveis são `MySql`, `SQLServer`, `SQLAzure`, e `Custom`.</span><span class="sxs-lookup"><span data-stu-id="f0e43-206">For hello `type` element, possible values are `MySql`, `SQLServer`, `SQLAzure`, and `Custom`.</span></span>

> [!TIP]
> <span data-ttu-id="f0e43-207">Para obter uma lista definitiva de tipos de cadeia de caracteres de conexão hello, executar Olá comando no Azure PowerShell a seguir: \[Enum]::GetNames("Microsoft.WindowsAzure.Commands.Utilities.Websites.Services.WebEntities.DatabaseType")</span><span class="sxs-lookup"><span data-stu-id="f0e43-207">For a definitive list of hello connection string types, run hello following command in Azure PowerShell: \[Enum]::GetNames("Microsoft.WindowsAzure.Commands.Utilities.Websites.Services.WebEntities.DatabaseType")</span></span>
> 
> 

##### <a name="source-control"></a><span data-ttu-id="f0e43-208">Controle do código-fonte</span><span class="sxs-lookup"><span data-stu-id="f0e43-208">Source control</span></span>
<span data-ttu-id="f0e43-209">configurações de controle de origem Olá também são definidas como um recurso aninhado.</span><span class="sxs-lookup"><span data-stu-id="f0e43-209">hello source control settings are also defined as a nested resource.</span></span> <span data-ttu-id="f0e43-210">Gerenciador de recursos do Azure usa essa publicação contínua de tooconfigure de recurso (consulte limitação em `IsManualIntegration` mais tarde) e também tookick desativar a implantação de saudação do código do aplicativo automaticamente durante o processamento de saudação do arquivo JSON de saudação.</span><span class="sxs-lookup"><span data-stu-id="f0e43-210">Azure Resource Manager uses this resource tooconfigure continuous publishing (see caveat on `IsManualIntegration` later) and also tookick off hello deployment of application code automatically during hello processing of hello JSON file.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-8-webappsourcecontrol.png)

<span data-ttu-id="f0e43-211">`RepoUrl`e `branch` devem ser bem intuitivo e deve apontar o nome de repositório e hello de Git de toohello de toopublish de ramificação de saudação do.</span><span class="sxs-lookup"><span data-stu-id="f0e43-211">`RepoUrl` and `branch` should be pretty intuitive and should point toohello Git repository and hello name of hello branch toopublish from.</span></span> <span data-ttu-id="f0e43-212">Mais uma vez, estes são definidos pelos parâmetros de entrada.</span><span class="sxs-lookup"><span data-stu-id="f0e43-212">Again, these are defined by input parameters.</span></span> 

<span data-ttu-id="f0e43-213">Observe que, no hello `dependsOn` elemento que, em adição toohello web recursos de aplicativo em si, `sourcecontrols/web` também depende de `config/appsettings` e `config/connectionstrings`.</span><span class="sxs-lookup"><span data-stu-id="f0e43-213">Note in hello `dependsOn` element that, in addition toohello web app resource itself, `sourcecontrols/web` also depends on `config/appsettings` and `config/connectionstrings`.</span></span> <span data-ttu-id="f0e43-214">Isso ocorre porque quando `sourcecontrols/web` é configurado, Olá processo de implantação do Azure tentará automaticamente toodeploy, criar e iniciar o código do aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="f0e43-214">This is because once `sourcecontrols/web` is configured, hello Azure deployment process will automatically attempt toodeploy, build, and start hello application code.</span></span> <span data-ttu-id="f0e43-215">Portanto, inserindo ajuda a dependência você certifique-se de que aplicativo hello tem acesso toohello necessárias configurações e cadeias de caracteres de conexão antes de Olá código de aplicativo é executado.</span><span class="sxs-lookup"><span data-stu-id="f0e43-215">Therefore, inserting this dependency helps you make sure that hello application has access toohello required app settings and connection strings before hello application code is run.</span></span> 

> [!NOTE]
> <span data-ttu-id="f0e43-216">Observe também que `IsManualIntegration` está definido muito`true`.</span><span class="sxs-lookup"><span data-stu-id="f0e43-216">Note also that `IsManualIntegration` is set too`true`.</span></span> <span data-ttu-id="f0e43-217">Essa propriedade é necessária neste tutorial, porque você não é realmente seu repositório do GitHub hello e, portanto, na verdade, não é possível conceder permissão tooAzure tooconfigure contínua a publicação de [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) (ou seja, enviar por push automático repositório de atualizações tooAzure).</span><span class="sxs-lookup"><span data-stu-id="f0e43-217">This property is necessary in this tutorial because you do not actually own hello GitHub repository, and thus cannot actually grant permission tooAzure tooconfigure continuous publishing from [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) (i.e. push automatic repository updates tooAzure).</span></span> <span data-ttu-id="f0e43-218">Você pode usar o valor padrão de saudação `false` para repositório de saudação especificado somente se você configurou as credenciais do GitHub do proprietário Olá Olá [portal do Azure](https://portal.azure.com/) antes.</span><span class="sxs-lookup"><span data-stu-id="f0e43-218">You can use hello default value `false` for hello specified repository only if you have configured hello owner’s GitHub credentials in hello [Azure portal](https://portal.azure.com/) before.</span></span> <span data-ttu-id="f0e43-219">Em outras palavras, se você configurou o tooGitHub de controle do código-fonte ou BitBucket para qualquer aplicativo em Olá [Portal do Azure](https://portal.azure.com/) anteriormente, usando seu usuário de credenciais de Azure será lembrar credenciais hello e usá-los sempre que você implantar qualquer aplicativo do GitHub ou BitBucket em Olá futuras.</span><span class="sxs-lookup"><span data-stu-id="f0e43-219">In other words, if you have set up source control tooGitHub or BitBucket for any app in hello [Azure Portal](https://portal.azure.com/) previously, using your user credentials, then Azure will remember hello credentials and use them whenever you deploy any app from GitHub or BitBucket in hello future.</span></span> <span data-ttu-id="f0e43-220">No entanto, se você ainda não tiver feito isso, implantação de modelo JSON Olá falhará quando o Gerenciador de recursos do Azure tenta configurações de controle de origem do aplicativo de web hello tooconfigure porque ele não pode efetuar logon no GitHub ou BitBucket com credenciais do proprietário do repositório de saudação.</span><span class="sxs-lookup"><span data-stu-id="f0e43-220">However, if you haven’t done this already, deployment of hello JSON template will fail when Azure Resource Manager tries tooconfigure hello web app’s source control settings because it cannot log into GitHub or BitBucket with hello repository owner’s credentials.</span></span>
> 
> 

## <a name="compare-hello-json-template-with-deployed-resource-group"></a><span data-ttu-id="f0e43-221">Comparar o modelo JSON Olá com grupo de recursos implantados</span><span class="sxs-lookup"><span data-stu-id="f0e43-221">Compare hello JSON template with deployed resource group</span></span>
<span data-ttu-id="f0e43-222">Aqui, você pode usar folhas do aplicativo da web de saudação todos em Olá [Portal do Azure](https://portal.azure.com/), mas não há outra ferramenta que é tão útil, se não mais.</span><span class="sxs-lookup"><span data-stu-id="f0e43-222">Here, you can go through all hello web app’s blades in hello [Azure Portal](https://portal.azure.com/), but there’s another tool that’s just as useful, if not more.</span></span> <span data-ttu-id="f0e43-223">Vá toohello [Gerenciador de recursos do Azure](https://resources.azure.com) ferramenta de visualização, que fornece uma representação JSON de todos os grupos de recursos de saudação em suas assinaturas, como realmente existem no hello back-end do Azure.</span><span class="sxs-lookup"><span data-stu-id="f0e43-223">Go toohello [Azure Resource Explorer](https://resources.azure.com) preview tool, which gives you a JSON representation of all hello resource groups in your subscriptions, as they actually exist in hello Azure backend.</span></span> <span data-ttu-id="f0e43-224">Você também pode ver como hierarquia JSON do grupo de recursos Olá no Azure corresponde à hierarquia Olá no arquivo de modelo de saudação que usou toocreate-lo.</span><span class="sxs-lookup"><span data-stu-id="f0e43-224">You can also see how hello resource group’s JSON hierarchy in Azure corresponds with hello hierarchy in hello template file that’s used toocreate it.</span></span>

<span data-ttu-id="f0e43-225">Por exemplo, quando vou toohello [Gerenciador de recursos do Azure](https://resources.azure.com) ferramenta e expandir nós Olá explorer hello, posso ver o grupo de recursos Olá e recursos de nível raiz de saudação que são coletados em seus tipos do respectivos recursos.</span><span class="sxs-lookup"><span data-stu-id="f0e43-225">For example, when I go toohello [Azure Resource Explorer](https://resources.azure.com) tool and expand hello nodes in hello explorer, I can see hello resource group and hello root-level resources that are collected under their respective resource types.</span></span>

![](./media/app-service-deploy-complex-application-predictably/ARM-1-treeview.png)

<span data-ttu-id="f0e43-226">Se aprofundar tooa web app, você deverá ser capaz de toosee web app configuration detalhes semelhantes toohello captura de tela abaixo:</span><span class="sxs-lookup"><span data-stu-id="f0e43-226">If you drill down tooa web app, you should be able toosee web app configuration details similar toohello below screenshot:</span></span>

![](./media/app-service-deploy-complex-application-predictably/ARM-2-jsonview.png)

<span data-ttu-id="f0e43-227">Novamente, hello recursos aninhados devem ter um toothose muito semelhantes de hierarquia em seu arquivo de modelo JSON, e você deverá ver as configurações do aplicativo hello, cadeias de caracteres de conexão, etc., adequadamente refletidas no painel JSON de saudação.</span><span class="sxs-lookup"><span data-stu-id="f0e43-227">Again, hello nested resources should have a hierarchy very similar toothose in your JSON template file, and you should see hello app settings, connection strings, etc., properly reflected in hello JSON pane.</span></span> <span data-ttu-id="f0e43-228">ausência de saudação de configurações pode indicar um problema com o arquivo JSON e pode ajudá-lo a solucionar problemas de seu arquivo de modelo JSON.</span><span class="sxs-lookup"><span data-stu-id="f0e43-228">hello absence of settings here may indicate an issue with your JSON file and can help you troubleshoot your JSON template file.</span></span>

## <a name="deploy-hello-resource-group-template-yourself"></a><span data-ttu-id="f0e43-229">Implantar o modelo de grupo de recursos de saudação por conta própria</span><span class="sxs-lookup"><span data-stu-id="f0e43-229">Deploy hello resource group template yourself</span></span>
<span data-ttu-id="f0e43-230">Olá **implantar tooAzure** botão for grande, mas permite que você toodeploy modelo de grupo de recursos de saudação em azuredeploy.json somente se você já tiver enviado azuredeploy.json tooGitHub.</span><span class="sxs-lookup"><span data-stu-id="f0e43-230">hello **Deploy tooAzure** button is great, but it allows you toodeploy hello resource group template in azuredeploy.json only if you have already pushed azuredeploy.json tooGitHub.</span></span> <span data-ttu-id="f0e43-231">Olá SDK .NET do Azure também fornece ferramentas Olá para você toodeploy qualquer arquivo de modelo JSON diretamente do seu computador local.</span><span class="sxs-lookup"><span data-stu-id="f0e43-231">hello Azure .NET SDK also provides hello tools for you toodeploy any JSON template file directly from your local machine.</span></span> <span data-ttu-id="f0e43-232">toodo isso, execute Olá estas etapas abaixo:</span><span class="sxs-lookup"><span data-stu-id="f0e43-232">toodo this, follow hello steps below:</span></span>

1. <span data-ttu-id="f0e43-233">No Visual Studio, clique em **Arquivo** > **Novo** > **Projeto**.</span><span class="sxs-lookup"><span data-stu-id="f0e43-233">In Visual Studio, click **File** > **New** > **Project**.</span></span>
2. <span data-ttu-id="f0e43-234">Clique em **Visual C#** > **Nuvem** > **Grupo de Recursos do Azure**, em seguida, clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="f0e43-234">Click **Visual C#** > **Cloud** > **Azure Resource Group**, then click **OK**.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-1-vsproject.png)
3. <span data-ttu-id="f0e43-235">Em **Selecionar Modelo do Azure**, selecione **Modelo em Branco** e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="f0e43-235">In **Select Azure Template**, select **Blank Template** and click **OK**.</span></span>
4. <span data-ttu-id="f0e43-236">Arraste azuredeploy.json para Olá **modelo** pasta do seu novo projeto.</span><span class="sxs-lookup"><span data-stu-id="f0e43-236">Drag azuredeploy.json into hello **Template** folder of your new project.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-2-copyjson.png)
5. <span data-ttu-id="f0e43-237">No Gerenciador de soluções, abra azuredeploy.json Olá copiado.</span><span class="sxs-lookup"><span data-stu-id="f0e43-237">From Solution Explorer, open hello copied azuredeploy.json.</span></span>
6. <span data-ttu-id="f0e43-238">Apenas para a mesma Olá demonstração Olá, vamos adicionar alguns arquivos JSON tooour recursos de Application Insight clicando **adicionar recurso**.</span><span class="sxs-lookup"><span data-stu-id="f0e43-238">Just for hello sake of hello demonstration, let’s add some standard Application Insight resources tooour JSON file, by clicking **Add Resource**.</span></span> <span data-ttu-id="f0e43-239">Se você estiver interessado apenas em implantar o arquivo JSON de hello, ignorar toohello implantar etapas.</span><span class="sxs-lookup"><span data-stu-id="f0e43-239">If you’re just interested in deploying hello JSON file, skip toohello deploy steps.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-3-newresource.png)
7. <span data-ttu-id="f0e43-240">Selecione **Application Insights para Aplicativos Web**, certifique-se de que um aplicativo Web e um Plano do Serviço de Aplicativo existentes estão selecionados e, em seguida, clique em **Adicionar**.</span><span class="sxs-lookup"><span data-stu-id="f0e43-240">Select **Application Insights for Web Apps**, then make sure an existing App Service plan and web app is selected, and then click **Add**.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-4-newappinsight.png)
   
   <span data-ttu-id="f0e43-241">Você agora vai ser capaz de toosee vários recursos novos que, dependendo do recurso de saudação e o que ele faz, ter dependências em um aplicativo de serviço de aplicativo plano ou Olá web hello.</span><span class="sxs-lookup"><span data-stu-id="f0e43-241">You’ll now be able toosee several new resources that, depending on hello resource and what it does, have dependencies on either hello App Service plan or hello web app.</span></span> <span data-ttu-id="f0e43-242">Esses recursos não estão habilitados por sua definição existente e você vai toochange que.</span><span class="sxs-lookup"><span data-stu-id="f0e43-242">These resources are not enabled by their existing definition and you’re going toochange that.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-5-appinsightresources.png)
8. <span data-ttu-id="f0e43-243">No hello JSON da estrutura de tópicos, clique em **appInsights AutoEscala** toohighlight seu código JSON.</span><span class="sxs-lookup"><span data-stu-id="f0e43-243">In hello JSON Outline, click **appInsights AutoScale** toohighlight its JSON code.</span></span> <span data-ttu-id="f0e43-244">Isso é hello dimensionamento de configuração para o plano de serviço de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f0e43-244">This is hello scaling setting for your App Service plan.</span></span>
9. <span data-ttu-id="f0e43-245">Em Olá código JSON realçado, localize Olá `location` e `enabled` propriedades e defini-los, conforme mostrado abaixo.</span><span class="sxs-lookup"><span data-stu-id="f0e43-245">In hello highlighted JSON code, locate hello `location` and `enabled` properties and set them as shown below.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-6-autoscalesettings.png)
10. <span data-ttu-id="f0e43-246">No hello JSON da estrutura de tópicos, clique em **CPUHigh appInsights** toohighlight seu código JSON.</span><span class="sxs-lookup"><span data-stu-id="f0e43-246">In hello JSON Outline, click **CPUHigh appInsights** toohighlight its JSON code.</span></span> <span data-ttu-id="f0e43-247">Este é um alerta.</span><span class="sxs-lookup"><span data-stu-id="f0e43-247">This is an alert.</span></span>
11. <span data-ttu-id="f0e43-248">Localizar Olá `location` e `isEnabled` propriedades e defini-los, conforme mostrado abaixo.</span><span class="sxs-lookup"><span data-stu-id="f0e43-248">Locate hello `location` and `isEnabled` properties and set them as shown below.</span></span> <span data-ttu-id="f0e43-249">Olá mesmo para Olá outros três alertas (lâmpadas roxas).</span><span class="sxs-lookup"><span data-stu-id="f0e43-249">Do hello same for hello other three alerts (purple bulbs).</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-7-alerts.png)
12. <span data-ttu-id="f0e43-250">Agora você está pronto toodeploy.</span><span class="sxs-lookup"><span data-stu-id="f0e43-250">You’re now ready toodeploy.</span></span> <span data-ttu-id="f0e43-251">Clique com botão direito hello e selecione **implantar** > **nova implantação**.</span><span class="sxs-lookup"><span data-stu-id="f0e43-251">Right-click hello project and select **Deploy** > **New Deployment**.</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-8-newdeployment.png)
13. <span data-ttu-id="f0e43-252">Faça logon na conta do Azure se ainda não fez isso.</span><span class="sxs-lookup"><span data-stu-id="f0e43-252">Log into your Azure account if you haven’t already done so.</span></span>
14. <span data-ttu-id="f0e43-253">Selecione um grupo de recursos existente em sua assinatura ou crie um novo, selecione **azuredeploy.json** e, em seguida, clique em **Editar parâmetros**.</span><span class="sxs-lookup"><span data-stu-id="f0e43-253">Select an existing resource group in your subscription or create a new one, select **azuredeploy.json**, and then click **Edit Parameters**.</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-9-deployconfig.png)
    
    <span data-ttu-id="f0e43-254">Agora, você será capaz de tooedit todos os parâmetros de saudação definidos no arquivo de modelo de saudação em uma tabela adequado.</span><span class="sxs-lookup"><span data-stu-id="f0e43-254">You’ll now be able tooedit all hello parameters defined in hello template file in a nice table.</span></span> <span data-ttu-id="f0e43-255">Parâmetros que definem padrões já terão seus valores padrão, enquanto parâmetros que definem uma lista de valores permitidos serão mostrados como listas suspensas.</span><span class="sxs-lookup"><span data-stu-id="f0e43-255">Parameters that define defaults will already have their default values, and parameters that define a list of allowed values will be shown as dropdowns.</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-10-parametereditor.png)
15. <span data-ttu-id="f0e43-256">Preencha todos os parâmetros de saudação vazio e use Olá [endereço de repositório do GitHub para ToDoApp](https://github.com/azure-appservice-samples/ToDoApp.git) na **repoUrl**.</span><span class="sxs-lookup"><span data-stu-id="f0e43-256">Fill in all hello empty parameters, and use hello [GitHub repo address for ToDoApp](https://github.com/azure-appservice-samples/ToDoApp.git) in **repoUrl**.</span></span> <span data-ttu-id="f0e43-257">Em seguida, clique em **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="f0e43-257">Then, click **Save**.</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-11-parametereditorfilled.png)
    
    > [!NOTE]
    > <span data-ttu-id="f0e43-258">O dimensionamento automático é um recurso oferecido em **padrão** nível ou superior e nível de plano de alertas são recursos oferecidos nos **básica** camada ou superior, você precisará Olá tooset **sku** parâmetro muito**padrão** ou **Premium** em ordem toosee todos os seus novos Insights do aplicativo recursos leves para cima.</span><span class="sxs-lookup"><span data-stu-id="f0e43-258">Autoscaling is a feature offered in **Standard** tier or higher, and plan-level alerts are features offered in **Basic** tier or higher, you’ll need tooset hello **sku** parameter too**Standard** or **Premium** in order toosee all your new App Insights resources light up.</span></span>
    > 
    > 
16. <span data-ttu-id="f0e43-259">Clique em **Implantar**.</span><span class="sxs-lookup"><span data-stu-id="f0e43-259">Click **Deploy**.</span></span> <span data-ttu-id="f0e43-260">Se você selecionou **salvar senhas**, Olá senha será salva no arquivo de parâmetro hello **em texto sem formatação**.</span><span class="sxs-lookup"><span data-stu-id="f0e43-260">If you selected **Save passwords**, hello password will be saved in hello parameter file **in plain text**.</span></span> <span data-ttu-id="f0e43-261">Caso contrário, será perguntado senha de banco de dados de saudação tooinput durante o processo de implantação hello.</span><span class="sxs-lookup"><span data-stu-id="f0e43-261">Otherwise, you’ll be asked tooinput hello database password during hello deployment process.</span></span>

<span data-ttu-id="f0e43-262">É isso!</span><span class="sxs-lookup"><span data-stu-id="f0e43-262">That’s it!</span></span> <span data-ttu-id="f0e43-263">Agora você precisa apenas toogo toohello [Portal do Azure](https://portal.azure.com/) e hello [Gerenciador de recursos do Azure](https://resources.azure.com) ferramenta toosee Olá novos alertas e configurações de dimensionamento automático adicionados tooyour JSON implantou o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f0e43-263">Now you just need toogo toohello [Azure Portal](https://portal.azure.com/) and hello [Azure Resource Explorer](https://resources.azure.com) tool toosee hello new alerts and autoscale settings added tooyour JSON deployed application.</span></span>

<span data-ttu-id="f0e43-264">As etapas nesta seção feito principalmente seguinte hello:</span><span class="sxs-lookup"><span data-stu-id="f0e43-264">Your steps in this section mainly accomplished hello following:</span></span>

1. <span data-ttu-id="f0e43-265">Arquivo de modelo Olá preparada</span><span class="sxs-lookup"><span data-stu-id="f0e43-265">Prepared hello template file</span></span>
2. <span data-ttu-id="f0e43-266">Criado um toogo do arquivo de parâmetro com o arquivo de modelo Olá</span><span class="sxs-lookup"><span data-stu-id="f0e43-266">Created a parameter file toogo with hello template file</span></span>
3. <span data-ttu-id="f0e43-267">Arquivo de modelo Olá implantado com o arquivo de parâmetro hello</span><span class="sxs-lookup"><span data-stu-id="f0e43-267">Deployed hello template file with hello parameter file</span></span>

<span data-ttu-id="f0e43-268">Olá última etapa facilmente será feita por um cmdlet do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f0e43-268">hello last step is easily done by a PowerShell cmdlet.</span></span> <span data-ttu-id="f0e43-269">toosee o Visual Studio fez quando implantado seu aplicativo, abra Scripts\Deploy-AzureResourceGroup.ps1.</span><span class="sxs-lookup"><span data-stu-id="f0e43-269">toosee what Visual Studio did when it deployed your application, open Scripts\Deploy-AzureResourceGroup.ps1.</span></span> <span data-ttu-id="f0e43-270">Há muito código existe, mas vou toohighlight todo código pertinentes Olá precisar toodeploy Olá modelo arquivo com o arquivo de parâmetro hello.</span><span class="sxs-lookup"><span data-stu-id="f0e43-270">There’s a lot of code there, but I’m just going toohighlight all hello pertinent code you need toodeploy hello template file with hello parameter file.</span></span>

![](./media/app-service-deploy-complex-application-predictably/deploy-12-powershellsnippet.png)

<span data-ttu-id="f0e43-271">Olá última cmdlet, `New-AzureResourceGroup`, é hello que realmente executa a ação de saudação.</span><span class="sxs-lookup"><span data-stu-id="f0e43-271">hello last cmdlet, `New-AzureResourceGroup`, is hello one that actually performs hello action.</span></span> <span data-ttu-id="f0e43-272">Tudo isso deve demonstrar tooyou, com a Ajuda de saudação de ferramentas, é relativamente simples toodeploy seu aplicativo de nuvem previsível.</span><span class="sxs-lookup"><span data-stu-id="f0e43-272">All this should demonstrate tooyou that, with hello help of tooling, it is relatively straightforward toodeploy your cloud application predictably.</span></span> <span data-ttu-id="f0e43-273">Toda vez que você executar o cmdlet Olá em Olá Olá mesmo modelo com o mesmo arquivo de parâmetro, você vai tooget Olá mesmo resultado.</span><span class="sxs-lookup"><span data-stu-id="f0e43-273">Every time you run hello cmdlet on hello same template with hello same parameter file, you’re going tooget hello same result.</span></span>

## <a name="summary"></a><span data-ttu-id="f0e43-274">Resumo</span><span class="sxs-lookup"><span data-stu-id="f0e43-274">Summary</span></span>
<span data-ttu-id="f0e43-275">DevOps, repetição e previsibilidade são implantação bem-sucedida do tooany de chaves de um aplicativo de alta escala composto de microservices.</span><span class="sxs-lookup"><span data-stu-id="f0e43-275">In DevOps, repeatability and predictability are keys tooany successful deployment of a high-scale application composed of microservices.</span></span> <span data-ttu-id="f0e43-276">Neste tutorial, você implantou um tooAzure do aplicativo de duas microsserviço como um único grupo de recursos usando o modelo do Azure Resource Manager hello.</span><span class="sxs-lookup"><span data-stu-id="f0e43-276">In this tutorial, you have deployed a two-microservice application tooAzure as a single resource group using hello Azure Resource Manager template.</span></span> <span data-ttu-id="f0e43-277">Espera-se que ele concede a você hello conhecimento que você precisa em ordem toostart converter seu aplicativo no Azure em um modelo e pode provisionar e implantá-lo de maneira previsível.</span><span class="sxs-lookup"><span data-stu-id="f0e43-277">Hopefully, it has given you hello knowledge you need in order toostart converting your application in Azure into a template and can provision and deploy it predictably.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="f0e43-278">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="f0e43-278">Next Steps</span></span>
<span data-ttu-id="f0e43-279">Descubra como muito[aplicar as metodologias agile e continuamente publicar seu aplicativo microservices com facilidade](app-service-agile-software-development.md) e técnicas de implantação como avançadas [flighting implantação](app-service-web-test-in-production-controlled-test-flight.md) facilmente.</span><span class="sxs-lookup"><span data-stu-id="f0e43-279">Find out how too[apply agile methodologies and continuously publish your microservices application with ease](app-service-agile-software-development.md) and advanced deployment techniques like [flighting deployment](app-service-web-test-in-production-controlled-test-flight.md) easily.</span></span>

<a name="resources"></a>

## <a name="more-resources"></a><span data-ttu-id="f0e43-280">Mais recursos</span><span class="sxs-lookup"><span data-stu-id="f0e43-280">More resources</span></span>
* [<span data-ttu-id="f0e43-281">Idioma de modelo do Gerenciador de Recursos do Azure</span><span class="sxs-lookup"><span data-stu-id="f0e43-281">Azure Resource Manager Template Language</span></span>](../azure-resource-manager/resource-group-authoring-templates.md)
* [<span data-ttu-id="f0e43-282">Criando modelos do Gerenciador de Recursos do Azure</span><span class="sxs-lookup"><span data-stu-id="f0e43-282">Authoring Azure Resource Manager Templates</span></span>](../azure-resource-manager/resource-group-authoring-templates.md)
* [<span data-ttu-id="f0e43-283">Funções de modelo do Gerenciador de Recursos do Azure</span><span class="sxs-lookup"><span data-stu-id="f0e43-283">Azure Resource Manager Template Functions</span></span>](../azure-resource-manager/resource-group-template-functions.md)
* [<span data-ttu-id="f0e43-284">Implantar um aplicativo com o modelo do Gerenciador de Recursos do Azure</span><span class="sxs-lookup"><span data-stu-id="f0e43-284">Deploy an application with Azure Resource Manager template</span></span>](../azure-resource-manager/resource-group-template-deploy.md)
* [<span data-ttu-id="f0e43-285">Usando o Azure PowerShell com o Gerenciador de Recursos do Azure</span><span class="sxs-lookup"><span data-stu-id="f0e43-285">Using Azure PowerShell with Azure Resource Manager</span></span>](../azure-resource-manager/powershell-azure-resource-manager.md)
* [<span data-ttu-id="f0e43-286">Solucionando problemas de implantações de grupos de recursos no Azure</span><span class="sxs-lookup"><span data-stu-id="f0e43-286">Troubleshooting Resource Group Deployments in Azure</span></span>](../azure-resource-manager/resource-manager-common-deployment-errors.md)

