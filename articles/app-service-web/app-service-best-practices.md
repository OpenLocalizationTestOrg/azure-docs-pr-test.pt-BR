---
title: "práticas recomendadas de aaaBest para o serviço de aplicativo do Azure"
description: "Aprenda as práticas recomendadas e solução de problemas do Serviço de Aplicativo do Azure."
services: app-service
documentationcenter: 
author: dariagrigoriu
manager: erikre
editor: mollybos
ms.assetid: f3359464-fa44-4f4a-9ea6-7821060e8d0d
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/30/2016
ms.author: dariagrigoriu
ms.openlocfilehash: a1d3127f5a746aa43f7b56b45f17c45df9087bee
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="best-practices-for-azure-app-service"></a><span data-ttu-id="c2ebe-103">Práticas Recomendadas para o Serviço de Aplicativo do Azure</span><span class="sxs-lookup"><span data-stu-id="c2ebe-103">Best Practices for Azure App Service</span></span>
<span data-ttu-id="c2ebe-104">Este artigo resume as práticas recomendadas para usar o [Serviço de Aplicativo do Azure](http://go.microsoft.com/fwlink/?LinkId=529714).</span><span class="sxs-lookup"><span data-stu-id="c2ebe-104">This article summarizes best practices for using [Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714).</span></span> 

## <span data-ttu-id="c2ebe-105"><a name="colocation"></a>Colocação</span><span class="sxs-lookup"><span data-stu-id="c2ebe-105"><a name="colocation"></a>Colocation</span></span>
<span data-ttu-id="c2ebe-106">Quando a composição de uma solução como um aplicativo web e um banco de dados de recursos do Azure estão localizados em efeitos de saudação de regiões diferentes podem incluir o seguinte de saudação:</span><span class="sxs-lookup"><span data-stu-id="c2ebe-106">When Azure resources composing a solution such as a web app and a database are located in different regions hello effects can include hello following:</span></span>

* <span data-ttu-id="c2ebe-107">Maior latência na comunicação entre recursos</span><span class="sxs-lookup"><span data-stu-id="c2ebe-107">Increased latency in communication between resources</span></span>
* <span data-ttu-id="c2ebe-108">Encargos monetários para dados de saída transferir entre regiões conforme observado no hello [do Azure de página de preços](https://azure.microsoft.com/pricing/details/data-transfers).</span><span class="sxs-lookup"><span data-stu-id="c2ebe-108">Monetary charges for outbound data transfer cross-region as noted on hello [Azure pricing page](https://azure.microsoft.com/pricing/details/data-transfers).</span></span>

<span data-ttu-id="c2ebe-109">A colocação em Olá mesma região é melhor para compor uma solução como um aplicativo web de recursos do Azure e uma conta de armazenamento ou banco de dados usado toohold conteúdo ou dados.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-109">Colocation in hello same region is best for Azure resources composing a solution such as a web app and a database or storage account used toohold content or data.</span></span> <span data-ttu-id="c2ebe-110">Ao criar recursos, você deve verificar se que eles estão em Olá mesma região do Azure, a menos que você tem comercial específica ou projetar o motivo para que eles não toobe.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-110">When creating resources you should make sure they are in hello same Azure region unless you have specific business or design reason for them not toobe.</span></span> <span data-ttu-id="c2ebe-111">Você pode mover um toohello do aplicativo de serviço de aplicativo mesma região do seu banco de dados, aproveitando Olá [recurso de clonagem do serviço de aplicativo](app-service-web-app-cloning-portal.md) atualmente disponíveis para aplicativos de plano de serviço de aplicativo Premium.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-111">You can move an App Service app toohello same region as your database by leveraging hello [App Service cloning feature](app-service-web-app-cloning-portal.md) currently available for Premium App Service Plan apps.</span></span>   

## <span data-ttu-id="c2ebe-112"><a name="memoryresources"></a>Quando aplicativos consomem mais memória do que o esperado</span><span class="sxs-lookup"><span data-stu-id="c2ebe-112"><a name="memoryresources"></a>When apps consume more memory than expected</span></span>
<span data-ttu-id="c2ebe-113">Quando você observar um aplicativo consome mais memória do que o esperado, conforme indicado por meio de monitoramento ou recomendações sobre serviço considere Olá [recurso de reparo automático de serviço de aplicativo](https://azure.microsoft.com/blog/auto-healing-windows-azure-web-sites).</span><span class="sxs-lookup"><span data-stu-id="c2ebe-113">When you notice an app consumes more memory than expected as indicated via monitoring or service recommendations consider hello [App Service Auto-Healing feature](https://azure.microsoft.com/blog/auto-healing-windows-azure-web-sites).</span></span> <span data-ttu-id="c2ebe-114">Uma das opções de saudação do recurso de reparo automático de saudação está demorando ações personalizadas com base em um limite de memória.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-114">One of hello options for hello Auto-Healing feature is taking custom actions based on a memory threshold.</span></span> <span data-ttu-id="c2ebe-115">Ações abrangem o espectro de saudação do tooinvestigation de notificações de email por meio da redução de tooon especiais de despejo de memória pela reciclagem de processo do operador hello.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-115">Actions span hello spectrum from email notifications tooinvestigation via memory dump tooon-the-spot mitigation by recycling hello worker process.</span></span> <span data-ttu-id="c2ebe-116">Recuperação automática pode ser configurado por meio do Web. config e por meio de uma interface de usuário amigável conforme descrito nesta postagem de blog Olá [extensão de Site de suporte de serviço de aplicativo](https://azure.microsoft.com/blog/additional-updates-to-support-site-extension-for-azure-app-service-web-apps).</span><span class="sxs-lookup"><span data-stu-id="c2ebe-116">Auto-healing can be configured via web.config and via a friendly user interface as described at in this blog post for hello [App Service Support Site Extension](https://azure.microsoft.com/blog/additional-updates-to-support-site-extension-for-azure-app-service-web-apps).</span></span>   

## <span data-ttu-id="c2ebe-117"><a name="CPUresources"></a>Quando aplicativos consomem mais CPU do que o esperado</span><span class="sxs-lookup"><span data-stu-id="c2ebe-117"><a name="CPUresources"></a>When apps consume more CPU than expected</span></span>
<span data-ttu-id="c2ebe-118">Quando você observar que um aplicativo consumindo mais recursos da CPU que o esperado ou passa por repetido picos de CPU, conforme indicado por meio de monitoramento ou recomendações sobre serviço considere escalabilidade vertical ou expansão Olá plano de serviço de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-118">When you notice an app consumes more CPU than expected or experiences repeated CPU spikes as indicated via monitoring or service recommendations consider scaling up or scaling out hello App Service plan.</span></span> <span data-ttu-id="c2ebe-119">Se seu aplicativo é o estado, aumento de escala é única opção de hello, enquanto se seu aplicativo estiver fora de escala, sem monitoração de estado lhe dará mais flexibilidade e maior potencial de escala.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-119">If your application is statefull, scaling up is hello only option, while if your application is stateless, scaling out will give you more flexibility and higher scale potential.</span></span> 

<span data-ttu-id="c2ebe-120">Para saber mais sobre aplicativos "com estado" versus "sem estado", assista a este vídeo: [Planejando um aplicativo de várias camadas ponta a ponta escalonável no aplicativo Web do Microsoft Azure](https://channel9.msdn.com/Events/TechEd/NorthAmerica/2014/DEV-B414#fbid=?hashlink=fbid).</span><span class="sxs-lookup"><span data-stu-id="c2ebe-120">For more information about “statefull” vs “stateless” applications you can watch this video: [Planning a Scalable End-to-End Multi-Tier Application on Microsoft Azure Web App](https://channel9.msdn.com/Events/TechEd/NorthAmerica/2014/DEV-B414#fbid=?hashlink=fbid).</span></span> <span data-ttu-id="c2ebe-121">Para saber mais sobre como as opções de colocação em escala e dimensionamento automático, leia: [Dimensionar um aplicativo Web no Serviço de Aplicativo do Azure](web-sites-scale.md).</span><span class="sxs-lookup"><span data-stu-id="c2ebe-121">For more information about App Service scaling and autoscaling options read: [Scale a Web App in Azure App Service](web-sites-scale.md).</span></span>  

## <span data-ttu-id="c2ebe-122"><a name="socketresources"></a>Quando os recursos de soquete são exauridos</span><span class="sxs-lookup"><span data-stu-id="c2ebe-122"><a name="socketresources"></a>When socket resources are exhausted</span></span>
<span data-ttu-id="c2ebe-123">Um motivo comum para esgotando conexões TCP de saída é o uso de saudação das bibliotecas de cliente que não são implementados tooreuse conexões de TCP, ou no caso de saudação de um protocolo de nível superior, como HTTP - Keep-Alive não está sendo utilizado.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-123">A common reason for exhausting outbound TCP connections is hello use of client libraries which are not implemented tooreuse TCP connections, or in hello case of a higher level protocol such as HTTP - Keep-Alive not being leveraged.</span></span> <span data-ttu-id="c2ebe-124">Examine a documentação Olá para cada uma das bibliotecas de saudação referenciadas pelo Olá aplicativos no seu tooensure plano do serviço de aplicativo são configuradas ou acessados em seu código para reutilização eficiente de conexões de saída.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-124">Please review hello documentation for each of hello libraries referenced by hello apps in your App Service Plan tooensure they are configured or accessed in your code for efficient reuse of outbound connections.</span></span> <span data-ttu-id="c2ebe-125">Também siga as diretrizes de documentação de biblioteca Olá para criação correta e a versão ou limpeza tooavoid vazamento de conexões.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-125">Also follow hello library documentation guidance for proper creation and release or cleanup tooavoid leaking connections.</span></span> <span data-ttu-id="c2ebe-126">Enquanto essas investigações de bibliotecas de cliente estão em impacto de progresso pode ser reduzido com expansão toomultiple instâncias.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-126">While such client libraries investigations are in progress impact may be mitigated by scaling out toomultiple instances.</span></span>  

## <span data-ttu-id="c2ebe-127"><a name="appbackup"></a>Quando o backup de seu aplicativo começa a falhar</span><span class="sxs-lookup"><span data-stu-id="c2ebe-127"><a name="appbackup"></a>When your app backup starts failing</span></span>
<span data-ttu-id="c2ebe-128">Olá duas razões mais comuns por que a falha do backup de aplicativo é: configurações de armazenamento inválido e a configuração de banco de dados inválido.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-128">hello two most common reasons why app backup fails are: invalid storage settings and invalid database configuration.</span></span> <span data-ttu-id="c2ebe-129">Essas falhas geralmente acontecem quando há alterações toostorage ou recursos de banco de dados ou alterações como tooaccess esses recursos (por exemplo, credenciais atualizadas Olá banco de dados selecionado nas configurações de backup Olá).</span><span class="sxs-lookup"><span data-stu-id="c2ebe-129">These failures typically happen when there are changes toostorage or database resources, or changes for how tooaccess these resources (e.g. credentials updated for hello database selected in hello backup settings).</span></span> <span data-ttu-id="c2ebe-130">Backups normalmente executam em um agendamento e exigem acesso toostorage (para a saída do hello backup dos arquivos) e bancos de dados (para copiar e ler conteúdo toobe incluído no backup de saudação).</span><span class="sxs-lookup"><span data-stu-id="c2ebe-130">Backups typically run on a schedule and require access toostorage (for outputting hello backed up files) and databases (for copying and reading contents toobe included in hello backup).</span></span> <span data-ttu-id="c2ebe-131">Olá resultado da falha tooaccess qualquer um desses recursos seria falha de backup consistente.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-131">hello result of failing tooaccess either of these resources would be consistent backup failure.</span></span> 

<span data-ttu-id="c2ebe-132">Quando ocorrem falhas de backup, consulte toounderstand de resultados mais recente que tipo de falha está ocorrendo.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-132">When backup failures happen, please review most recent results toounderstand which type of failure is happening.</span></span> <span data-ttu-id="c2ebe-133">No caso de saudação de falhas de acesso de armazenamento, revisar e atualizar as configurações de armazenamento de saudação usadas na configuração de backup hello.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-133">In hello case of storage access failures, please review and update hello storage settings used in hello backup configuration.</span></span> <span data-ttu-id="c2ebe-134">No caso de saudação de falhas de acesso de banco de dados, analisar e atualizar suas cadeias de conexão como parte das configurações de aplicativo; Continue tooupdate tooproperly sua configuração de backup incluem bancos de dados de saudação necessário.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-134">In hello case of database access failures, please review and update your connections strings as part of app settings; then proceed tooupdate your backup configuration tooproperly include hello required databases.</span></span> <span data-ttu-id="c2ebe-135">Para obter mais informações sobre backup do aplicativo, consulte Olá [backup de um aplicativo web no serviço de aplicativo do Azure](web-sites-backup.md) documentação.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-135">For more information on app backup please see hello [Back up a web app in Azure App Service](web-sites-backup.md) documentation.</span></span>

## <span data-ttu-id="c2ebe-136"><a name="nodejs"></a>Quando novos aplicativos Node. js são implantado tooAzure do serviço de aplicativo</span><span class="sxs-lookup"><span data-stu-id="c2ebe-136"><a name="nodejs"></a>When new Node.js apps are deployed tooAzure App Service</span></span>
<span data-ttu-id="c2ebe-137">Configuração de padrão de serviço de aplicativo do Azure para aplicativos Node. js é pretendido toobest naipe Olá necessidades dos aplicativos mais comuns.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-137">Azure App Service default configuration for Node.js apps is intended toobest suit hello needs of most common apps.</span></span> <span data-ttu-id="c2ebe-138">Se a configuração do seu aplicativo Node. js poderia se beneficiar de ajuste de desempenho tooimprove ou otimizar o uso de recursos para recursos de memória/CPU/rede, você pode revisar nossas práticas recomendadas e as etapas de solução de problemas.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-138">If configuration for your Node.js app would benefit from personalized tuning tooimprove performance or optimize resource usage for CPU/memory/network resources, you could review our best practices and troubleshooting steps.</span></span> <span data-ttu-id="c2ebe-139">Este artigo de documentação descreve configurações de iisnode de saudação, talvez seja necessário tooconfigure para seu aplicativo Node. js, descreve Olá vários cenários ou problemas que seu aplicativo pode enfrentar e mostra como tooaddress esses problemas: [práticas recomendadas e Guia de solução de problemas para aplicativos de nó no serviço de aplicativo do Azure](app-service-web-nodejs-best-practices-and-troubleshoot-guide.md).</span><span class="sxs-lookup"><span data-stu-id="c2ebe-139">This documentation article describes hello iisnode settings you may need tooconfigure for your Node.js app, describes hello various scenarios or issues that your app may be facing, and shows how tooaddress these issues: [Best practices and troubleshooting guide for Node applications on Azure App Service](app-service-web-nodejs-best-practices-and-troubleshoot-guide.md).</span></span>   

