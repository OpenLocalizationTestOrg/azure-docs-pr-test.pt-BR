---
title: "aaaGuide toohello linguagem Net # Neural redes especificação | Microsoft Docs"
description: "Sintaxe de saudação Net # neural redes linguagem de especificação, junto com exemplos de como toocreate uma rede neural personalizada de modelo no Microsoft Azure ML usando Net #"
services: machine-learning
documentationcenter: 
author: jeannt
manager: jhubbard
editor: cgronlun
ms.assetid: cfd1454b-47df-4745-b064-ce5f9b3be303
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/31/2017
ms.author: jeannt
ms.openlocfilehash: 3493247ecc39ca3a1382510ad520d7017159ff62
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="guide-toonet-neural-network-specification-language-for-azure-machine-learning"></a><span data-ttu-id="65966-103">Guia de linguagem de especificação de rede neural tooNet # para aprendizado de máquina do Azure</span><span class="sxs-lookup"><span data-stu-id="65966-103">Guide tooNet# neural network specification language for Azure Machine Learning</span></span>
## <a name="overview"></a><span data-ttu-id="65966-104">Visão geral</span><span class="sxs-lookup"><span data-stu-id="65966-104">Overview</span></span>
<span data-ttu-id="65966-105">NET # é uma linguagem desenvolvida pela Microsoft é usada toodefine arquiteturas de rede neural.</span><span class="sxs-lookup"><span data-stu-id="65966-105">Net# is a language developed by Microsoft that is used toodefine neural network architectures.</span></span> <span data-ttu-id="65966-106">Você pode usar Net# em módulos de rede neural no Microsoft Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="65966-106">You can use Net# in neural network modules in Microsoft Azure Machine Learning.</span></span>

<!-- This function doesn't currentlyappear in hello MicrosoftML documentation. If it is added in a future update, we can uncomment this text.

, or in hello `rxNeuralNetwork()` function in [MicrosoftML](https://msdn.microsoft.com/microsoft-r/microsoftml/microsoftml). 

-->

<span data-ttu-id="65966-107">Neste artigo, você aprenderá os conceitos básicos necessários toodevelop uma rede neural personalizada:</span><span class="sxs-lookup"><span data-stu-id="65966-107">In this article, you will learn basic concepts needed toodevelop a custom neural network:</span></span> 

* <span data-ttu-id="65966-108">Requisitos de rede neural e como toodefine Olá principais componentes</span><span class="sxs-lookup"><span data-stu-id="65966-108">Neural network requirements and how toodefine hello primary components</span></span>
* <span data-ttu-id="65966-109">sintaxe de saudação e palavras-chave da saudação linguagem de especificação de Net #</span><span class="sxs-lookup"><span data-stu-id="65966-109">hello syntax and keywords of hello Net# specification language</span></span>
* <span data-ttu-id="65966-110">Exemplos de redes neurais personalizadas criadas usando Net#</span><span class="sxs-lookup"><span data-stu-id="65966-110">Examples of custom neural networks created using Net#</span></span> 

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

## <a name="neural-network-basics"></a><span data-ttu-id="65966-111">Conceitos básicos de rede neural</span><span class="sxs-lookup"><span data-stu-id="65966-111">Neural network basics</span></span>
<span data-ttu-id="65966-112">Consiste em uma estrutura de rede neural ***nós*** que são organizados em ***camadas***e ponderada ***conexões*** (ou ***bordas***) entre nós de saudação.</span><span class="sxs-lookup"><span data-stu-id="65966-112">A neural network structure consists of ***nodes*** that are organized in ***layers***, and weighted ***connections*** (or ***edges***) between hello nodes.</span></span> <span data-ttu-id="65966-113">conexões de saudação são direcionais, e cada conexão tem uma ***fonte*** nó e um ***destino*** nó.</span><span class="sxs-lookup"><span data-stu-id="65966-113">hello connections are directional, and each connection has a ***source*** node and a ***destination*** node.</span></span>  

<span data-ttu-id="65966-114">Cada ***camada treinável*** (uma camada oculta ou de saída) tem um ou mais ***pacotes de conexão***.</span><span class="sxs-lookup"><span data-stu-id="65966-114">Each ***trainable layer*** (a hidden or an output layer) has one or more ***connection bundles***.</span></span> <span data-ttu-id="65966-115">Um pacote de conexão consiste em uma camada de origem e uma especificação de conexões de saudação de camada fonte.</span><span class="sxs-lookup"><span data-stu-id="65966-115">A connection bundle consists of a source layer and a specification of hello connections from that source layer.</span></span> <span data-ttu-id="65966-116">Todas as conexões de saudação em um compartilhamento de pacote determinado Olá mesmo ***camada fonte*** e Olá mesmo ***camada destino***.</span><span class="sxs-lookup"><span data-stu-id="65966-116">All hello connections in a given bundle share hello same ***source layer*** and hello same ***destination layer***.</span></span> <span data-ttu-id="65966-117">Net #, um pacote de conexão é considerado como camada de destino do conjunto de toohello que pertencem.</span><span class="sxs-lookup"><span data-stu-id="65966-117">In Net#, a connection bundle is considered as belonging toohello bundle's destination layer.</span></span>  

<span data-ttu-id="65966-118">NET # dá suporte a vários tipos de pacotes de conexão, que permite que você personalize a forma Olá entradas são mapeadas toohidden camadas e saídas de toohello mapeada.</span><span class="sxs-lookup"><span data-stu-id="65966-118">Net# supports various kinds of connection bundles, which lets you customize hello way inputs are mapped toohidden layers and mapped toohello outputs.</span></span>   

<span data-ttu-id="65966-119">padrão de saudação ou pacote padrão é um **pacote completo**, no qual cada nó Olá camada de origem é o nó de tooevery conectados na camada de destino hello.</span><span class="sxs-lookup"><span data-stu-id="65966-119">hello default or standard bundle is a **full bundle**, in which each node in hello source layer is connected tooevery node in hello destination layer.</span></span>  

<span data-ttu-id="65966-120">Além disso, Net # suporta Olá quatro tipos de pacotes avançados de conexão a seguir:</span><span class="sxs-lookup"><span data-stu-id="65966-120">Additionally, Net# supports hello following four kinds of advanced connection bundles:</span></span>  

* <span data-ttu-id="65966-121">**Grupos filtrados**.</span><span class="sxs-lookup"><span data-stu-id="65966-121">**Filtered bundles**.</span></span> <span data-ttu-id="65966-122">usuário Olá pode definir um predicado usando Olá locais de nó da camada fonte hello e Olá nó da camada de destino.</span><span class="sxs-lookup"><span data-stu-id="65966-122">hello user can define a predicate by using hello locations of hello source layer node and hello destination layer node.</span></span> <span data-ttu-id="65966-123">Nós são conectados sempre predicado Olá é True.</span><span class="sxs-lookup"><span data-stu-id="65966-123">Nodes are connected whenever hello predicate is True.</span></span>
* <span data-ttu-id="65966-124">**Grupos convolucionais**.</span><span class="sxs-lookup"><span data-stu-id="65966-124">**Convolutional bundles**.</span></span> <span data-ttu-id="65966-125">usuário Olá pode definir vizinhanças pequenas de nós na camada de origem hello.</span><span class="sxs-lookup"><span data-stu-id="65966-125">hello user can define small neighborhoods of nodes in hello source layer.</span></span> <span data-ttu-id="65966-126">Cada nó na camada de destino Olá é conectado tooone ambiente de nós na camada de origem hello.</span><span class="sxs-lookup"><span data-stu-id="65966-126">Each node in hello destination layer is connected tooone neighborhood of nodes in hello source layer.</span></span>
* <span data-ttu-id="65966-127">**Grupos de pooling** e **Grupos de normalização de resposta**.</span><span class="sxs-lookup"><span data-stu-id="65966-127">**Pooling bundles** and **Response normalization bundles**.</span></span> <span data-ttu-id="65966-128">Estes são os pacotes de tooconvolutional semelhante que Olá usuário define vizinhanças pequenas de nós na camada de origem hello.</span><span class="sxs-lookup"><span data-stu-id="65966-128">These are similar tooconvolutional bundles in that hello user defines small neighborhoods of nodes in hello source layer.</span></span> <span data-ttu-id="65966-129">diferença de saudação é pesos de saudação de bordas de saudação nesses pacotes não são trainable.</span><span class="sxs-lookup"><span data-stu-id="65966-129">hello difference is that hello weights of hello edges in these bundles are not trainable.</span></span> <span data-ttu-id="65966-130">Em vez disso, uma função predefinida é aplicada o nó de origem toohello valores valor do nó de destino toodetermine hello.</span><span class="sxs-lookup"><span data-stu-id="65966-130">Instead, a predefined function is applied toohello source node values toodetermine hello destination node value.</span></span>  

<span data-ttu-id="65966-131">Usando Net # toodefine Olá estrutura de uma rede neural torna possível toodefine estruturas complexas, como redes neurais profundas ou convoluções das dimensões arbitrárias, que são conhecidas tooimprove aprendizado nos dados, como imagens, áudio ou vídeo.</span><span class="sxs-lookup"><span data-stu-id="65966-131">Using Net# toodefine hello structure of a neural network makes it possible toodefine complex structures such as deep neural networks or convolutions of arbitrary dimensions, which are known tooimprove learning on data such as image, audio, or video.</span></span>  

## <a name="supported-customizations"></a><span data-ttu-id="65966-132">Personalizações com suporte</span><span class="sxs-lookup"><span data-stu-id="65966-132">Supported customizations</span></span>
<span data-ttu-id="65966-133">arquitetura de saudação de modelos de rede neural que você criar no aprendizado de máquina do Azure pode ser extensivamente personalizada usando Net #.</span><span class="sxs-lookup"><span data-stu-id="65966-133">hello architecture of neural network models that you create in Azure Machine Learning can be extensively customized by using Net#.</span></span> <span data-ttu-id="65966-134">Você pode:</span><span class="sxs-lookup"><span data-stu-id="65966-134">You can:</span></span>  

* <span data-ttu-id="65966-135">Crie camadas ocultas e número de saudação do controle de nós em cada camada.</span><span class="sxs-lookup"><span data-stu-id="65966-135">Create hidden layers and control hello number of nodes in each layer.</span></span>
* <span data-ttu-id="65966-136">Especifique como as camadas devem toobe conectado tooeach outros.</span><span class="sxs-lookup"><span data-stu-id="65966-136">Specify how layers are toobe connected tooeach other.</span></span>
* <span data-ttu-id="65966-137">Definir estruturas de conectividade especial, como convoluções e grupos de compartilhamento de peso.</span><span class="sxs-lookup"><span data-stu-id="65966-137">Define special connectivity structures, such as convolutions and weight sharing bundles.</span></span>
* <span data-ttu-id="65966-138">Especifique diferentes funções de ativação.</span><span class="sxs-lookup"><span data-stu-id="65966-138">Specify different activation functions.</span></span>  

<span data-ttu-id="65966-139">Para obter detalhes sobre a sintaxe de linguagem de especificação de hello, consulte [especificação de estrutura](#Structure-specifications).</span><span class="sxs-lookup"><span data-stu-id="65966-139">For details of hello specification language syntax, see [Structure Specification](#Structure-specifications).</span></span>  

<span data-ttu-id="65966-140">Para obter exemplos de definição de redes neurais alguns comuns do aprendizado de máquina tarefas do toocomplex simples, consulte [exemplos](#Examples-of-Net#-usage).</span><span class="sxs-lookup"><span data-stu-id="65966-140">For examples of defining neural networks for some common machine learning tasks, from simplex toocomplex, see [Examples](#Examples-of-Net#-usage).</span></span>  

## <a name="general-requirements"></a><span data-ttu-id="65966-141">Requisitos gerais</span><span class="sxs-lookup"><span data-stu-id="65966-141">General requirements</span></span>
* <span data-ttu-id="65966-142">É preciso que haja exatamente uma camada de saída, pelo menos uma camada de entrada e nenhuma ou mais camadas ocultas.</span><span class="sxs-lookup"><span data-stu-id="65966-142">There must be exactly one output layer, at least one input layer, and zero or more hidden layers.</span></span> 
* <span data-ttu-id="65966-143">Cada camada tem um número fixo de nós, arranjados conceitualmente em uma matriz retangular de dimensões arbitrárias.</span><span class="sxs-lookup"><span data-stu-id="65966-143">Each layer has a fixed number of nodes, conceptually arranged in a rectangular array of arbitrary dimensions.</span></span> 
* <span data-ttu-id="65966-144">Camadas de entrada não tem associados treinados parâmetros e representam Olá ponto onde os dados de instância entram rede Olá.</span><span class="sxs-lookup"><span data-stu-id="65966-144">Input layers have no associated trained parameters and represent hello point where instance data enters hello network.</span></span> 
* <span data-ttu-id="65966-145">Trainable camadas (Olá camadas ocultas e saídas) associou treinados parâmetros, conhecidos como pesos e tendências.</span><span class="sxs-lookup"><span data-stu-id="65966-145">Trainable layers (hello hidden and output layers) have associated trained parameters, known as weights and biases.</span></span> 
* <span data-ttu-id="65966-146">nós de origem e destino Olá devem estar em camadas separadas.</span><span class="sxs-lookup"><span data-stu-id="65966-146">hello source and destination nodes must be in separate layers.</span></span> 
* <span data-ttu-id="65966-147">As conexões devem ser acíclicas; em outras palavras, não pode ser uma cadeia de conexões à esquerda toohello back nó de origem inicial.</span><span class="sxs-lookup"><span data-stu-id="65966-147">Connections must be acyclic; in other words, there cannot be a chain of connections leading back toohello initial source node.</span></span>
* <span data-ttu-id="65966-148">Olá camada de saída não pode ser uma camada de origem de um pacote de conexão.</span><span class="sxs-lookup"><span data-stu-id="65966-148">hello output layer cannot be a source layer of a connection bundle.</span></span>  

## <a name="structure-specifications"></a><span data-ttu-id="65966-149">Especificações de estrutura</span><span class="sxs-lookup"><span data-stu-id="65966-149">Structure specifications</span></span>
<span data-ttu-id="65966-150">Uma especificação de estrutura de rede neural é composta por três seções: Olá **declaração de constante**, Olá **camada declaração**, Olá **declaração de conexão**.</span><span class="sxs-lookup"><span data-stu-id="65966-150">A neural network structure specification is composed of three sections: hello **constant declaration**, hello **layer declaration**, hello **connection declaration**.</span></span> <span data-ttu-id="65966-151">Há também uma seção **declaração de compartilhamento** opcional.</span><span class="sxs-lookup"><span data-stu-id="65966-151">There is also an optional **share declaration** section.</span></span> <span data-ttu-id="65966-152">seções de saudação podem ser especificadas em qualquer ordem.</span><span class="sxs-lookup"><span data-stu-id="65966-152">hello sections can be specified in any order.</span></span>  

## <a name="constant-declaration"></a><span data-ttu-id="65966-153">Declaração de constante</span><span class="sxs-lookup"><span data-stu-id="65966-153">Constant declaration</span></span>
<span data-ttu-id="65966-154">Uma declaração de constante é opcional.</span><span class="sxs-lookup"><span data-stu-id="65966-154">A constant declaration is optional.</span></span> <span data-ttu-id="65966-155">Ele fornece um meio toodefine valores usados em outro lugar na definição de rede neural hello.</span><span class="sxs-lookup"><span data-stu-id="65966-155">It provides a means toodefine values used elsewhere in hello neural network definition.</span></span> <span data-ttu-id="65966-156">declaração Olá consiste em um identificador seguido por um sinal de igual e uma expressão de valor.</span><span class="sxs-lookup"><span data-stu-id="65966-156">hello declaration statement consists of an identifier followed by an equal sign and a value expression.</span></span>   

<span data-ttu-id="65966-157">Por exemplo, Olá instrução a seguir define uma constante **x**:</span><span class="sxs-lookup"><span data-stu-id="65966-157">For example, hello following statement defines a constant **x**:</span></span>  

    Const X = 28;  

<span data-ttu-id="65966-158">toodefine duas ou mais constantes simultaneamente, coloque valores e nomes de identificador de saudação entre chaves e separe-as usando ponto e vírgula.</span><span class="sxs-lookup"><span data-stu-id="65966-158">toodefine two or more constants simultaneously, enclose hello identifier names and values in braces, and separate them by using semicolons.</span></span> <span data-ttu-id="65966-159">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="65966-159">For example:</span></span>  

    Const { X = 28; Y = 4; }  

<span data-ttu-id="65966-160">lado direito de saudação de cada expressão de atribuição pode ser um número inteiro, um número real, um valor booliano (verdadeiro ou falso) ou uma expressão matemática.</span><span class="sxs-lookup"><span data-stu-id="65966-160">hello right-hand side of each assignment expression can be an integer, a real number, a Boolean value (True or False), or a mathematical expression.</span></span> <span data-ttu-id="65966-161">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="65966-161">For example:</span></span>  

    Const { X = 17 * 2; Y = true; }  

## <a name="layer-declaration"></a><span data-ttu-id="65966-162">Declaração de camada</span><span class="sxs-lookup"><span data-stu-id="65966-162">Layer declaration</span></span>
<span data-ttu-id="65966-163">declaração de camada de saudação é necessária.</span><span class="sxs-lookup"><span data-stu-id="65966-163">hello layer declaration is required.</span></span> <span data-ttu-id="65966-164">Ele define o tamanho de saudação e origem da camada de hello, incluindo seus pacotes de conexão e atributos.</span><span class="sxs-lookup"><span data-stu-id="65966-164">It defines hello size and source of hello layer, including its connection bundles and attributes.</span></span> <span data-ttu-id="65966-165">Olá inicia de instrução de declaração com nome de saudação da camada de saudação (de entrada, oculto ou de saída), seguido por dimensões de saudação da camada de saudação (uma tupla de números inteiros positivos).</span><span class="sxs-lookup"><span data-stu-id="65966-165">hello declaration statement starts with hello name of hello layer (input, hidden, or output), followed by hello dimensions of hello layer (a tuple of positive integers).</span></span> <span data-ttu-id="65966-166">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="65966-166">For example:</span></span>  

    input Data auto;
    hidden Hidden[5,20] from Data all;
    output Result[2] from Hidden all;  

* <span data-ttu-id="65966-167">produto Olá das dimensões de saudação é o número de saudação de nós na camada de saudação.</span><span class="sxs-lookup"><span data-stu-id="65966-167">hello product of hello dimensions is hello number of nodes in hello layer.</span></span> <span data-ttu-id="65966-168">Neste exemplo, há duas dimensões [5,20], que significa que há 100 nós na camada de saudação.</span><span class="sxs-lookup"><span data-stu-id="65966-168">In this example, there are two dimensions [5,20], which means there are  100 nodes in hello layer.</span></span>
* <span data-ttu-id="65966-169">camadas de saudação podem ser declaradas em qualquer ordem, com uma exceção: se mais de uma camada de entrada é definida, ordem de saudação na qual eles são declarados deve coincidir com a ordem de saudação de recursos nos dados de entrada hello.</span><span class="sxs-lookup"><span data-stu-id="65966-169">hello layers can be declared in any order, with one exception: If more than one input layer is defined, hello order in which they are declared must match hello order of features in hello input data.</span></span>  

<span data-ttu-id="65966-170">toospecify Olá o número de nós em uma camada de ser determinado automaticamente, use Olá **automática** palavra-chave.</span><span class="sxs-lookup"><span data-stu-id="65966-170">toospecify that hello number of nodes in a layer be determined automatically, use hello **auto** keyword.</span></span> <span data-ttu-id="65966-171">Olá **automática** palavra-chave tem efeitos diferentes, dependendo da camada de saudação:</span><span class="sxs-lookup"><span data-stu-id="65966-171">hello **auto** keyword has different effects, depending on hello layer:</span></span>  

* <span data-ttu-id="65966-172">Em uma declaração de camada de entrada, o número de saudação de nós é número Olá de recursos nos dados de entrada hello.</span><span class="sxs-lookup"><span data-stu-id="65966-172">In an input layer declaration, hello number of nodes is hello number of features in hello input data.</span></span>
* <span data-ttu-id="65966-173">Em uma declaração de camada oculta, o número de Olá de nós é número Olá especificado pelo valor de parâmetro de saudação do **número de nós ocultos**.</span><span class="sxs-lookup"><span data-stu-id="65966-173">In a hidden layer declaration, hello number of nodes is hello number that is specified by hello parameter value for **Number of hidden nodes**.</span></span> 
* <span data-ttu-id="65966-174">Em uma declaração de camada de saída, o número de saudação de nós é 2 para classificação de duas classes, 1 de regressão e toohello igual número de nós de saída de classificação multiclasse.</span><span class="sxs-lookup"><span data-stu-id="65966-174">In an output layer declaration, hello number of nodes is 2 for two-class classification, 1 for regression, and equal toohello number of output nodes for multiclass classification.</span></span>   

<span data-ttu-id="65966-175">Por exemplo, hello seguinte definição de rede permite Olá tamanho de todos os toobe camadas determinado automaticamente:</span><span class="sxs-lookup"><span data-stu-id="65966-175">For example, hello following network definition allows hello size of all layers toobe automatically determined:</span></span>  

    input Data auto;
    hidden Hidden auto from Data all;
    output Result auto from Hidden all;  


<span data-ttu-id="65966-176">Uma declaração de camada para uma camada trainable (Olá camadas ocultas ou saídas) opcionalmente pode incluir a função de saída de hello (também chamada de uma função de ativação), cujo padrão é muito**sigmoide** para modelos de classificação e **linear** para modelos de regressão.</span><span class="sxs-lookup"><span data-stu-id="65966-176">A layer declaration for a trainable layer (hello hidden or output layers) can optionally include hello output function (also called an activation function), which defaults too**sigmoid** for classification models, and **linear** for regression models.</span></span> <span data-ttu-id="65966-177">(Mesmo se você usar o padrão de saudação, você pode declarar explicitamente função de ativação de hello, se desejado para fins de esclarecimento.)</span><span class="sxs-lookup"><span data-stu-id="65966-177">(Even if you use hello default, you can explicitly state hello activation function, if desired for clarity.)</span></span>

<span data-ttu-id="65966-178">Olá funções saída a seguir têm suporte:</span><span class="sxs-lookup"><span data-stu-id="65966-178">hello following output functions are supported:</span></span>  

* <span data-ttu-id="65966-179">sigmoid</span><span class="sxs-lookup"><span data-stu-id="65966-179">sigmoid</span></span>
* <span data-ttu-id="65966-180">linear</span><span class="sxs-lookup"><span data-stu-id="65966-180">linear</span></span>
* <span data-ttu-id="65966-181">softmax</span><span class="sxs-lookup"><span data-stu-id="65966-181">softmax</span></span>
* <span data-ttu-id="65966-182">rlinear</span><span class="sxs-lookup"><span data-stu-id="65966-182">rlinear</span></span>
* <span data-ttu-id="65966-183">square</span><span class="sxs-lookup"><span data-stu-id="65966-183">square</span></span>
* <span data-ttu-id="65966-184">sqrt</span><span class="sxs-lookup"><span data-stu-id="65966-184">sqrt</span></span>
* <span data-ttu-id="65966-185">srlinear</span><span class="sxs-lookup"><span data-stu-id="65966-185">srlinear</span></span>
* <span data-ttu-id="65966-186">abs</span><span class="sxs-lookup"><span data-stu-id="65966-186">abs</span></span>
* <span data-ttu-id="65966-187">tanh</span><span class="sxs-lookup"><span data-stu-id="65966-187">tanh</span></span> 
* <span data-ttu-id="65966-188">brlinear</span><span class="sxs-lookup"><span data-stu-id="65966-188">brlinear</span></span>  

<span data-ttu-id="65966-189">Por exemplo, a saudação declaração a seguir usa Olá **softmax** função:</span><span class="sxs-lookup"><span data-stu-id="65966-189">For example, hello following declaration uses hello **softmax** function:</span></span>  

    output Result [100] softmax from Hidden all;  

## <a name="connection-declaration"></a><span data-ttu-id="65966-190">Declaração de conexão</span><span class="sxs-lookup"><span data-stu-id="65966-190">Connection declaration</span></span>
<span data-ttu-id="65966-191">Imediatamente depois de definir a camada trainable hello, você deve declarar conexões entre camadas Olá que você definiu.</span><span class="sxs-lookup"><span data-stu-id="65966-191">Immediately after defining hello trainable layer, you must declare connections among hello layers you have defined.</span></span> <span data-ttu-id="65966-192">declaração de pacote de conexão Olá começa com a palavra-chave de saudação **de**, seguido pelo nome de saudação do tipo de camada e hello de origem do pacote de saudação de toocreate do pacote de conexão.</span><span class="sxs-lookup"><span data-stu-id="65966-192">hello connection bundle declaration starts with hello keyword **from**, followed by hello name of hello bundle's source layer and hello kind of connection bundle toocreate.</span></span>   

<span data-ttu-id="65966-193">Atualmente, há suporte para cinco tipos de grupos de conexão:</span><span class="sxs-lookup"><span data-stu-id="65966-193">Currently, five kinds of connection bundles are supported:</span></span>  

* <span data-ttu-id="65966-194">**Completo** pacotes, indicados pela palavra-chave de saudação **todos**</span><span class="sxs-lookup"><span data-stu-id="65966-194">**Full** bundles, indicated by hello keyword **all**</span></span>
* <span data-ttu-id="65966-195">**Filtrado** pacotes, indicados pela palavra-chave de saudação **onde**, seguido por uma expressão de predicado</span><span class="sxs-lookup"><span data-stu-id="65966-195">**Filtered** bundles, indicated by hello keyword **where**, followed by a predicate expression</span></span>
* <span data-ttu-id="65966-196">**Convolutional** pacotes, indicados pela palavra-chave de saudação **convolve**, seguido por atributos de convolução Olá</span><span class="sxs-lookup"><span data-stu-id="65966-196">**Convolutional** bundles, indicated by hello keyword **convolve**, followed by hello convolution attributes</span></span>
* <span data-ttu-id="65966-197">**Pool** pacotes, indicados por palavras-chave de saudação **max pool** ou **significa pool**</span><span class="sxs-lookup"><span data-stu-id="65966-197">**Pooling** bundles, indicated by hello keywords **max pool** or **mean pool**</span></span>
* <span data-ttu-id="65966-198">**Normalização de resposta** pacotes, indicados pela palavra-chave de saudação **norma de resposta**</span><span class="sxs-lookup"><span data-stu-id="65966-198">**Response normalization** bundles, indicated by hello keyword **response norm**</span></span>      

## <a name="full-bundles"></a><span data-ttu-id="65966-199">Grupos completos</span><span class="sxs-lookup"><span data-stu-id="65966-199">Full bundles</span></span>
<span data-ttu-id="65966-200">Um pacote de conexão completa inclui uma conexão de cada nó no nó da saudação fonte camada tooeach na camada de destino hello.</span><span class="sxs-lookup"><span data-stu-id="65966-200">A full connection bundle includes a connection from each node in hello source layer tooeach node in hello destination layer.</span></span> <span data-ttu-id="65966-201">Esse é o tipo de conexão de rede de padrão de saudação.</span><span class="sxs-lookup"><span data-stu-id="65966-201">This is hello default network connection type.</span></span>  

## <a name="filtered-bundles"></a><span data-ttu-id="65966-202">Grupos filtrados</span><span class="sxs-lookup"><span data-stu-id="65966-202">Filtered bundles</span></span>
<span data-ttu-id="65966-203">Uma especificação grupo de conexões filtrado inclui um predicado, expresso sintaticamente de modo muito similar a uma expressão lambda em C#.</span><span class="sxs-lookup"><span data-stu-id="65966-203">A filtered connection bundle specification includes a predicate, expressed syntactically, much like a C# lambda expression.</span></span> <span data-ttu-id="65966-204">Olá, exemplo a seguir define dois pacotes filtrados:</span><span class="sxs-lookup"><span data-stu-id="65966-204">hello following example defines two filtered bundles:</span></span>  

    input Pixels [10, 20];
    hidden ByRow[10, 12] from Pixels where (s,d) => s[0] == d[0];
    hidden ByCol[5, 20] from Pixels where (s,d) => abs(s[1] - d[1]) <= 1;  

* <span data-ttu-id="65966-205">No predicado Olá para *ByRow*, **s** é um parâmetro que representa um índice em uma matriz retangular de saudação de nós da camada de entrada hello, *Pixels*, e **d**  é um parâmetro que representa um índice em uma matriz de saudação de nós da camada oculta do hello, *ByRow*.</span><span class="sxs-lookup"><span data-stu-id="65966-205">In hello predicate for *ByRow*, **s** is a parameter representing an index into hello rectangular array of nodes of hello input layer, *Pixels*, and **d** is a parameter representing an index into hello array of nodes of hello hidden layer, *ByRow*.</span></span> <span data-ttu-id="65966-206">Olá tipo dos dois **s** e **d** é uma tupla de comprimento dois inteiros.</span><span class="sxs-lookup"><span data-stu-id="65966-206">hello type of both **s** and **d** is a tuple of integers of length two.</span></span> <span data-ttu-id="65966-207">Conceitualmente, **s** abrange todos os pares de números inteiros com *0 <= s[0] < 10* e *0 <= s[1] < 20*, e **d** abrange todos os pares de números inteiros com *0 <= d[0] < 10* e *0 <= d[1] < 12*.</span><span class="sxs-lookup"><span data-stu-id="65966-207">Conceptually, **s** ranges over all pairs of integers with *0 <= s[0] < 10* and *0 <= s[1] < 20*, and **d** ranges over all pairs of integers, with *0 <= d[0] < 10* and *0 <= d[1] < 12*.</span></span> 
* <span data-ttu-id="65966-208">No lado direito de saudação da expressão de predicado hello, há uma condição.</span><span class="sxs-lookup"><span data-stu-id="65966-208">On hello right-hand side of hello predicate expression, there is a condition.</span></span> <span data-ttu-id="65966-209">Neste exemplo, para cada valor de **s** e **d** , de modo que a condição Olá for True, há uma borda do nó de camada Olá origem camada nó toohello destino.</span><span class="sxs-lookup"><span data-stu-id="65966-209">In this example, for every value of **s** and **d** such that hello condition is True, there is an edge from hello source layer node toohello destination layer node.</span></span> <span data-ttu-id="65966-210">Assim, essa expressão de filtro indica que esse pacote de saudação inclui uma conexão do nó Olá definido pelo **s** toohello nó definido por **d** em todos os casos em que [0] é igual tood [0].</span><span class="sxs-lookup"><span data-stu-id="65966-210">Thus, this filter expression indicates that hello bundle includes a connection from hello node defined by **s** toohello node defined by **d** in all cases where s[0] is equal tood[0].</span></span>  

<span data-ttu-id="65966-211">Opcionalmente, você pode especificar um conjunto de pesos para um grupo filtrado.</span><span class="sxs-lookup"><span data-stu-id="65966-211">Optionally, you can specify a set of weights for a filtered bundle.</span></span> <span data-ttu-id="65966-212">Olá valor Olá **pesos** atributo deve ser uma tupla de valores com um comprimento que corresponda a saudação número de conexões definidas pelo pacote de saudação de ponto flutuante.</span><span class="sxs-lookup"><span data-stu-id="65966-212">hello value for hello **Weights** attribute must be a tuple of floating point values with a length that matches hello number of connections defined by hello bundle.</span></span> <span data-ttu-id="65966-213">Por padrão, os pesos são gerados de modo aleatório.</span><span class="sxs-lookup"><span data-stu-id="65966-213">By default, weights are randomly generated.</span></span>  

<span data-ttu-id="65966-214">Valores de peso são agrupados por índice Olá de nó de destino.</span><span class="sxs-lookup"><span data-stu-id="65966-214">Weight values are grouped by hello destination node index.</span></span> <span data-ttu-id="65966-215">Ou seja, se estiver conectado primeiro nó de destino Olá levou nós de origem, Olá primeiro *K* elementos de saudação **pesos** tupla são pesos Olá para o primeiro nó de destino hello, em ordem de índice de origem.</span><span class="sxs-lookup"><span data-stu-id="65966-215">That is, if hello first destination node is connected tooK source nodes, hello first *K* elements of hello **Weights** tuple are hello weights for hello first destination node, in source index order.</span></span> <span data-ttu-id="65966-216">Olá que mesmo se aplica a saudação nós de destino restantes.</span><span class="sxs-lookup"><span data-stu-id="65966-216">hello same applies for hello remaining destination nodes.</span></span>  

<span data-ttu-id="65966-217">É possível toospecify pesos diretamente como valores de constante.</span><span class="sxs-lookup"><span data-stu-id="65966-217">It's possible toospecify weights directly as constant values.</span></span> <span data-ttu-id="65966-218">Por exemplo, se você aprendeu pesos Olá anteriormente, você pode especificá-los como constantes usando esta sintaxe:</span><span class="sxs-lookup"><span data-stu-id="65966-218">For example, if you learned hello weights previously, you can specify them as constants using this syntax:</span></span>

    const Weights_1 = [0.0188045055, 0.130500451, ...]


## <a name="convolutional-bundles"></a><span data-ttu-id="65966-219">Grupos convolucionais</span><span class="sxs-lookup"><span data-stu-id="65966-219">Convolutional bundles</span></span>
<span data-ttu-id="65966-220">Quando os dados de treinamento Olá tem uma estrutura homogênea, convolutional conexões são usadas toolearn recursos de alto nível dos dados de saudação.</span><span class="sxs-lookup"><span data-stu-id="65966-220">When hello training data has a homogeneous structure, convolutional connections are commonly used toolearn high-level features of hello data.</span></span> <span data-ttu-id="65966-221">Por exemplo, para dados de imagem, áudio ou vídeo, a dimensionalidade espacial ou temporal pode ser bastante uniforme.</span><span class="sxs-lookup"><span data-stu-id="65966-221">For example, in image, audio, or video data, spatial or temporal dimensionality can be fairly uniform.</span></span>  

<span data-ttu-id="65966-222">Pacotes convolutional empregam retangular **kernels** que são deslize para dimensões de saudação.</span><span class="sxs-lookup"><span data-stu-id="65966-222">Convolutional bundles employ rectangular **kernels** that are slid through hello dimensions.</span></span> <span data-ttu-id="65966-223">Essencialmente, cada núcleo define um conjunto de pesos aplicado no locais vizinhanças, chamado tooas **aplicativos kernel**.</span><span class="sxs-lookup"><span data-stu-id="65966-223">Essentially, each kernel defines a set of weights applied in local neighborhoods, referred tooas **kernel applications**.</span></span> <span data-ttu-id="65966-224">Cada aplicativo de kernel corresponde tooa nó na camada de origem hello, que é referida tooas hello **nó central**.</span><span class="sxs-lookup"><span data-stu-id="65966-224">Each kernel application corresponds tooa node in hello source layer, which is referred tooas hello **central node**.</span></span> <span data-ttu-id="65966-225">os pesos de saudação do kernel são compartilhados entre várias conexões.</span><span class="sxs-lookup"><span data-stu-id="65966-225">hello weights of a kernel are shared among many connections.</span></span> <span data-ttu-id="65966-226">Em um pacote convolutional, cada núcleo é retangular e todos os aplicativos de kernel estão Olá mesmo tamanho.</span><span class="sxs-lookup"><span data-stu-id="65966-226">In a convolutional bundle, each kernel is rectangular and all kernel applications are hello same size.</span></span>  

<span data-ttu-id="65966-227">Saudação de suporte de pacotes convolutional seguintes atributos:</span><span class="sxs-lookup"><span data-stu-id="65966-227">Convolutional bundles support hello following attributes:</span></span>

<span data-ttu-id="65966-228">**InputShape** define dimensionalidade Olá da camada de origem Olá para fins de saudação deste pacote convolutional.</span><span class="sxs-lookup"><span data-stu-id="65966-228">**InputShape** defines hello dimensionality of hello source layer for hello purposes of this convolutional bundle.</span></span> <span data-ttu-id="65966-229">valor de saudação deve ser uma tupla de números inteiros positivos.</span><span class="sxs-lookup"><span data-stu-id="65966-229">hello value must be a tuple of positive integers.</span></span> <span data-ttu-id="65966-230">produto Olá de inteiros Olá deve ser igual Olá número de nós na camada de origem hello, mas caso contrário, ele não precisa dimensionalidade de saudação toomatch declarada para a camada de fonte de saudação.</span><span class="sxs-lookup"><span data-stu-id="65966-230">hello product of hello integers must equal hello number of nodes in hello source layer, but otherwise, it does not need toomatch hello dimensionality declared for hello source layer.</span></span> <span data-ttu-id="65966-231">comprimento de saudação dessa tupla se torna Olá **arity** valor para o pacote convolutional hello.</span><span class="sxs-lookup"><span data-stu-id="65966-231">hello length of this tuple becomes hello **arity** value for hello convolutional bundle.</span></span> <span data-ttu-id="65966-232">(Normalmente arity refere-se toohello o número de argumentos ou operandos que pode levar a uma função.)</span><span class="sxs-lookup"><span data-stu-id="65966-232">(Typically arity refers toohello number of arguments or operands that a function can take.)</span></span>  

<span data-ttu-id="65966-233">forma de saudação toodefine e locais de kernels hello, use atributos Olá **KernelShape**, **Stride**, **preenchimento**, **LowerPad**, e **UpperPad**:</span><span class="sxs-lookup"><span data-stu-id="65966-233">toodefine hello shape and locations of hello kernels, use hello attributes **KernelShape**, **Stride**, **Padding**, **LowerPad**, and **UpperPad**:</span></span>   

* <span data-ttu-id="65966-234">**KernelShape**: dimensionalidade de saudação define (obrigatório) de cada núcleo para pacote convolutional hello.</span><span class="sxs-lookup"><span data-stu-id="65966-234">**KernelShape**: (required) Defines hello dimensionality of each kernel for hello convolutional bundle.</span></span> <span data-ttu-id="65966-235">valor de saudação deve ser uma tupla de inteiros positivos com um comprimento igual a saudação arity do pacote de saudação.</span><span class="sxs-lookup"><span data-stu-id="65966-235">hello value must be a tuple of positive integers with a length that equals hello arity of hello bundle.</span></span> <span data-ttu-id="65966-236">Cada componente dessa tupla deve ter mais do que o componente correspondente de saudação do **InputShape**.</span><span class="sxs-lookup"><span data-stu-id="65966-236">Each component of this tuple must be no greater than hello corresponding component of **InputShape**.</span></span> 
* <span data-ttu-id="65966-237">**STRIDE**: (opcional) Olá define deslizante tamanhos de etapa de convolução hello (tamanho de uma etapa para cada dimensão), Olá distância entre os nós de saudação central.</span><span class="sxs-lookup"><span data-stu-id="65966-237">**Stride**: (optional) Defines hello sliding step sizes of hello convolution (one step size for each dimension), that is hello distance between hello central nodes.</span></span> <span data-ttu-id="65966-238">valor de saudação deve ser uma tupla de inteiros positivos com um comprimento Olá arity do pacote de saudação.</span><span class="sxs-lookup"><span data-stu-id="65966-238">hello value must be a tuple of positive integers with a length that is hello arity of hello bundle.</span></span> <span data-ttu-id="65966-239">Cada componente dessa tupla deve ter mais do que o componente correspondente de saudação do **KernelShape**.</span><span class="sxs-lookup"><span data-stu-id="65966-239">Each component of this tuple must be no greater than hello corresponding component of **KernelShape**.</span></span> <span data-ttu-id="65966-240">valor padrão de saudação é uma tupla com todos os componentes e igual tooone.</span><span class="sxs-lookup"><span data-stu-id="65966-240">hello default value is a tuple with all components equal tooone.</span></span> 
* <span data-ttu-id="65966-241">**Compartilhamento**: peso de hello (opcional) define o compartilhamento para cada dimensão de convolução hello.</span><span class="sxs-lookup"><span data-stu-id="65966-241">**Sharing**: (optional) Defines hello weight sharing for each dimension of hello convolution.</span></span> <span data-ttu-id="65966-242">valor de saudação pode ser um único valor booliano ou uma tupla de valores booleanos com um comprimento Olá arity do pacote de saudação.</span><span class="sxs-lookup"><span data-stu-id="65966-242">hello value can be a single Boolean value or a tuple of Boolean values with a length that is hello arity of hello bundle.</span></span> <span data-ttu-id="65966-243">Um único valor booliano é estendido toobe uma tupla de tamanho correto de saudação com todos os componentes do valor especificado de toohello igual.</span><span class="sxs-lookup"><span data-stu-id="65966-243">A single Boolean value is extended toobe a tuple of hello correct length with all components equal toohello specified value.</span></span> <span data-ttu-id="65966-244">valor padrão de saudação é uma tupla que consiste em todos os valores True.</span><span class="sxs-lookup"><span data-stu-id="65966-244">hello default value is a tuple that consists of all True values.</span></span> 
* <span data-ttu-id="65966-245">**MapCount**: (opcional) define Olá número de recurso mapeia para o pacote convolutional hello.</span><span class="sxs-lookup"><span data-stu-id="65966-245">**MapCount**: (optional) Defines hello number of feature maps for hello convolutional bundle.</span></span> <span data-ttu-id="65966-246">valor de saudação pode ser um inteiro positivo único ou uma tupla de inteiros positivos com um comprimento Olá arity do pacote de saudação.</span><span class="sxs-lookup"><span data-stu-id="65966-246">hello value can be a single positive integer or a tuple of positive integers with a length that is hello arity of hello bundle.</span></span> <span data-ttu-id="65966-247">Um único valor inteiro é estendido toobe uma tupla de comprimento correto Olá Olá primeiro componentes igual toohello especificado valor e todos os Olá tooone igual de componentes restantes.</span><span class="sxs-lookup"><span data-stu-id="65966-247">A single integer value is extended toobe a tuple of hello correct length with hello first components equal toohello specified value and all hello remaining components equal tooone.</span></span> <span data-ttu-id="65966-248">valor padrão de saudação é um.</span><span class="sxs-lookup"><span data-stu-id="65966-248">hello default value is one.</span></span> <span data-ttu-id="65966-249">número total de saudação de mapas de recurso é produto Olá dos componentes de saudação do hello tupla.</span><span class="sxs-lookup"><span data-stu-id="65966-249">hello total number of feature maps is hello product of hello components of hello tuple.</span></span> <span data-ttu-id="65966-250">Olá fatorar desse número total em componentes de saudação determina como os valores de mapa de recursos de saudação são agrupados em nós de destino hello.</span><span class="sxs-lookup"><span data-stu-id="65966-250">hello factoring of this total number across hello components determines how hello feature map values are grouped in hello destination nodes.</span></span> 
* <span data-ttu-id="65966-251">**Pesos**: (opcional) define saudação inicial os pesos para o pacote de saudação.</span><span class="sxs-lookup"><span data-stu-id="65966-251">**Weights**: (optional) Defines hello initial weights for hello bundle.</span></span> <span data-ttu-id="65966-252">valor de saudação deve ser uma tupla de valores com um comprimento que é o número de saudação de kernels vezes Olá número de pesos por núcleo, conforme definido neste artigo de ponto flutuante.</span><span class="sxs-lookup"><span data-stu-id="65966-252">hello value must be a tuple of floating point values with a length that is hello number of kernels times hello number of weights per kernel, as defined later in this article.</span></span> <span data-ttu-id="65966-253">níveis de importância saudação padrão são gerados aleatoriamente.</span><span class="sxs-lookup"><span data-stu-id="65966-253">hello default weights are randomly generated.</span></span>  

<span data-ttu-id="65966-254">Há dois conjuntos de propriedades que controlam o preenchimento propriedades Olá sendo mutuamente exclusivos:</span><span class="sxs-lookup"><span data-stu-id="65966-254">There are two sets of properties that control padding, hello properties being mutually exclusive:</span></span>

* <span data-ttu-id="65966-255">**Preenchimento**: (opcional) determina se Olá de entrada deve ser preenchida usando um **esquema padrão do preenchimento**.</span><span class="sxs-lookup"><span data-stu-id="65966-255">**Padding**: (optional) Determines whether hello input should be padded by using a **default padding scheme**.</span></span> <span data-ttu-id="65966-256">valor de saudação pode ser um único valor booliano, ou pode ser uma tupla de valores booleanos com um comprimento Olá arity do pacote de saudação.</span><span class="sxs-lookup"><span data-stu-id="65966-256">hello value can be a single Boolean value, or it can be a tuple of Boolean values with a length that is hello arity of hello bundle.</span></span> <span data-ttu-id="65966-257">Um único valor booliano é estendido toobe uma tupla de tamanho correto de saudação com todos os componentes do valor especificado de toohello igual.</span><span class="sxs-lookup"><span data-stu-id="65966-257">A single Boolean value is extended toobe a tuple of hello correct length with all components equal toohello specified value.</span></span> <span data-ttu-id="65966-258">Se o valor de saudação para uma dimensão for True, origem Olá logicamente é preenchida nessa dimensão com aplicativos de kernel adicionais de toosupport células com valor zero, de modo que nós de central de saudação de kernels de primeiro e últimos Olá nessa dimensão são nós de primeiro e últimos Olá nessa dimensão na camada de origem hello.</span><span class="sxs-lookup"><span data-stu-id="65966-258">If hello value for a dimension is True, hello source is logically padded in that dimension with zero-valued cells toosupport additional kernel applications, such that hello central nodes of hello first and last kernels in that dimension are hello first and last nodes in that dimension in hello source layer.</span></span> <span data-ttu-id="65966-259">Assim, o número de saudação de nós "fictícios" em cada dimensão é determinado automaticamente, toofit exatamente *(InputShape d - 1) / Stride [d] + 1* kernels na camada de origem Olá preenchida.</span><span class="sxs-lookup"><span data-stu-id="65966-259">Thus, hello number of "dummy" nodes in each dimension is determined automatically, toofit exactly *(InputShape[d] - 1) / Stride[d] + 1* kernels into hello padded source layer.</span></span> <span data-ttu-id="65966-260">Se o valor Olá para uma dimensão for False, Olá kernels são definidos para que seja de número de saudação de nós em cada lado que ficam fora Olá mesmo (backup tooa diferença de 1).</span><span class="sxs-lookup"><span data-stu-id="65966-260">If hello value for a dimension is False, hello kernels are defined so that hello number of nodes on each side that are left out is hello same (up tooa difference of 1).</span></span> <span data-ttu-id="65966-261">Olá valor padrão desse atributo é uma tupla com todos os componentes e igual tooFalse.</span><span class="sxs-lookup"><span data-stu-id="65966-261">hello default value of this attribute is a tuple with all components equal tooFalse.</span></span>
* <span data-ttu-id="65966-262">**UpperPad** e **LowerPad**: (opcional) fornecer maior controle sobre o valor de saudação do preenchimento toouse.</span><span class="sxs-lookup"><span data-stu-id="65966-262">**UpperPad** and **LowerPad**: (optional) Provide greater control over hello amount of padding toouse.</span></span> <span data-ttu-id="65966-263">**Importante:** esses atributos podem ser definidos se e somente se hello **preenchimento** é de propriedade acima ***não*** definido.</span><span class="sxs-lookup"><span data-stu-id="65966-263">**Important:** These attributes can be defined if and only if hello **Padding** property above is ***not*** defined.</span></span> <span data-ttu-id="65966-264">valores de Olá devem ser números inteiros tuplas com comprimentos de arity saudação do pacote de saudação.</span><span class="sxs-lookup"><span data-stu-id="65966-264">hello values should be integer-valued tuples with lengths that are hello arity of hello bundle.</span></span> <span data-ttu-id="65966-265">Quando esses atributos são especificados, nós "fictícios" são adicionados toohello inferior e superiores extremidades de cada dimensão da saudação camada de entrada.</span><span class="sxs-lookup"><span data-stu-id="65966-265">When these attributes are specified, "dummy" nodes are added toohello lower and upper ends of each dimension of hello input layer.</span></span> <span data-ttu-id="65966-266">número de nós Hello adicionado toohello inferior e superior termina em cada dimensão é determinada pelo **LowerPad**[i] e **UpperPad**[i] respectivamente.</span><span class="sxs-lookup"><span data-stu-id="65966-266">hello number of nodes added toohello lower and upper ends in each dimension is determined by **LowerPad**[i] and **UpperPad**[i] respectively.</span></span> <span data-ttu-id="65966-267">tooensure que kernels correspondem nós somente muito "reais" e não muito "" fictício, hello condições a seguir deve ser atendido:</span><span class="sxs-lookup"><span data-stu-id="65966-267">tooensure that kernels correspond only too"real" nodes and not too"dummy" nodes, hello following conditions must be met:</span></span>
  * <span data-ttu-id="65966-268">Cada componente de **LowerPad** precisa ser estritamente menor que KernelShape[d]/2.</span><span class="sxs-lookup"><span data-stu-id="65966-268">Each component of **LowerPad** must be strictly less than KernelShape[d]/2.</span></span> 
  * <span data-ttu-id="65966-269">Cada componente de **UpperPad** não pode ser maior que KernelShape[d]/2.</span><span class="sxs-lookup"><span data-stu-id="65966-269">Each component of **UpperPad** must be no greater than KernelShape[d]/2.</span></span> 
  * <span data-ttu-id="65966-270">valor padrão de saudação desses atributos é uma tupla com todos os componentes e igual too0.</span><span class="sxs-lookup"><span data-stu-id="65966-270">hello default value of these attributes is a tuple with all components equal too0.</span></span> 

<span data-ttu-id="65966-271">configuração de saudação **preenchimento** = true permite conforme a quantidade de preenchimento é necessário tookeep hello "Centro" do kernel hello dentro hello "real" de entrada.</span><span class="sxs-lookup"><span data-stu-id="65966-271">hello setting **Padding** = true allows as much padding as is needed tookeep hello "center" of hello kernel inside hello "real" input.</span></span> <span data-ttu-id="65966-272">Isso altera matemática Olá um pouco para calcular o tamanho da saída de hello.</span><span class="sxs-lookup"><span data-stu-id="65966-272">This changes hello math a bit for computing hello output size.</span></span> <span data-ttu-id="65966-273">Em geral, o tamanho de saída Olá *D* é calculada como *D = (I - K) / S + 1*, onde *,* é o tamanho de entrada hello, *K* é o tamanho de kernel hello, *S* é stride Olá, e  */*  é uma divisão de inteiro (round em direção a zero).</span><span class="sxs-lookup"><span data-stu-id="65966-273">Generally, hello output size *D* is computed as *D = (I - K) / S + 1*, where *I* is hello input size, *K* is hello kernel size, *S* is hello stride, and */* is integer division (round toward zero).</span></span> <span data-ttu-id="65966-274">Se você definir UpperPad = [1, 1], tamanho de entrada hello *,* é efetivamente 29 e, portanto, *D = (29-5) / 2 + 1 = 13*.</span><span class="sxs-lookup"><span data-stu-id="65966-274">If you set UpperPad = [1, 1], hello input size *I* is effectively 29, and thus *D = (29 - 5) / 2 + 1 = 13*.</span></span> <span data-ttu-id="65966-275">No entanto, quando **Padding** = true, essencialmente *I* e aumentado por *K - 1*; com isso, *D = ((28 + 4) - 5) / 2 + 1 = 27 / 2 + 1 = 13 + 1 = 14*.</span><span class="sxs-lookup"><span data-stu-id="65966-275">However, when **Padding** = true, essentially *I* gets bumped up by *K - 1*; hence *D = ((28 + 4) - 5) / 2 + 1 = 27 / 2 + 1 = 13 + 1 = 14*.</span></span> <span data-ttu-id="65966-276">Especificando valores para **UpperPad** e **LowerPad** obter muito mais controle sobre Olá preenchimento que se você configurou **preenchimento** = true.</span><span class="sxs-lookup"><span data-stu-id="65966-276">By specifying values for **UpperPad** and **LowerPad** you get much more control over hello padding than if you just set **Padding** = true.</span></span>

<span data-ttu-id="65966-277">Para mais informações sobre redes convolucionais e seus aplicativos, consulte esses artigos:</span><span class="sxs-lookup"><span data-stu-id="65966-277">For more information about convolutional networks and their applications, see these articles:</span></span>  

* [<span data-ttu-id="65966-278">http://deeplearning.net/tutorial/lenet.html</span><span class="sxs-lookup"><span data-stu-id="65966-278">http://deeplearning.net/tutorial/lenet.html </span></span>](http://deeplearning.net/tutorial/lenet.html)
* [<span data-ttu-id="65966-279">http://research.microsoft.com/pubs/68920/icdar03.pdf</span><span class="sxs-lookup"><span data-stu-id="65966-279">http://research.microsoft.com/pubs/68920/icdar03.pdf</span></span>](http://research.microsoft.com/pubs/68920/icdar03.pdf) 
* [<span data-ttu-id="65966-280">http://people.csail.mit.edu/jvb/papers/cnn_tutorial.pdf</span><span class="sxs-lookup"><span data-stu-id="65966-280">http://people.csail.mit.edu/jvb/papers/cnn_tutorial.pdf</span></span>](http://people.csail.mit.edu/jvb/papers/cnn_tutorial.pdf)  

## <a name="pooling-bundles"></a><span data-ttu-id="65966-281">Grupos de pooling</span><span class="sxs-lookup"><span data-stu-id="65966-281">Pooling bundles</span></span>
<span data-ttu-id="65966-282">Um **pooling pacote** aplica-se a conectividade de tooconvolutional semelhante geometry, mas usa funções predefinidas toosource nó valores tooderive Olá nó valor de destino.</span><span class="sxs-lookup"><span data-stu-id="65966-282">A **pooling bundle** applies geometry similar tooconvolutional connectivity, but it uses predefined functions toosource node values tooderive hello destination node value.</span></span> <span data-ttu-id="65966-283">Assim, os grupos de pooling não têm estado treinável (pesos ou vieses).</span><span class="sxs-lookup"><span data-stu-id="65966-283">Hence, pooling bundles have no trainable state (weights or biases).</span></span> <span data-ttu-id="65966-284">Suporte de pacotes para todas as Olá convolutional atributos, exceto pool **compartilhamento**, **MapCount**, e **pesos**.</span><span class="sxs-lookup"><span data-stu-id="65966-284">Pooling bundles support all hello convolutional attributes except **Sharing**, **MapCount**, and **Weights**.</span></span>  

<span data-ttu-id="65966-285">Normalmente, kernels Olá resumidos por unidades adjacentes de pool não se sobrepõem.</span><span class="sxs-lookup"><span data-stu-id="65966-285">Typically, hello kernels summarized by adjacent pooling units do not overlap.</span></span> <span data-ttu-id="65966-286">Se Stride [d] é igual tooKernelShape [d] em cada dimensão, camada Olá obtida é Olá local pooling camada tradicional, que geralmente é utilizada no convolutional redes neurais.</span><span class="sxs-lookup"><span data-stu-id="65966-286">If Stride[d] is equal tooKernelShape[d] in each dimension, hello layer obtained is hello traditional local pooling layer, which is commonly employed in convolutional neural networks.</span></span> <span data-ttu-id="65966-287">Cada nó de destino calcula Olá máximo ou média de saudação de atividades de saudação do seu kernel na camada de origem hello.</span><span class="sxs-lookup"><span data-stu-id="65966-287">Each destination node computes hello maximum or hello mean of hello activities of its kernel in hello source layer.</span></span>  

<span data-ttu-id="65966-288">saudação de exemplo a seguir ilustra um pacote do pool:</span><span class="sxs-lookup"><span data-stu-id="65966-288">hello following example illustrates a pooling bundle:</span></span> 

    hidden P1 [5, 12, 12]
      from C1 max pool {
        InputShape  = [ 5, 24, 24];
        KernelShape = [ 1,  2,  2];
        Stride      = [ 1,  2,  2];
      }  

* <span data-ttu-id="65966-289">Olá arity do pacote de saudação é 3 (Olá comprimento de tuplas Olá **InputShape**, **KernelShape**, e **Stride**).</span><span class="sxs-lookup"><span data-stu-id="65966-289">hello arity of hello bundle is 3 (hello length of hello tuples **InputShape**, **KernelShape**, and **Stride**).</span></span> 
* <span data-ttu-id="65966-290">Olá número de nós na camada de origem Olá é *5 * 24 * 24 = 2880*.</span><span class="sxs-lookup"><span data-stu-id="65966-290">hello number of nodes in hello source layer is *5 * 24 * 24 = 2880*.</span></span> 
* <span data-ttu-id="65966-291">Essa é uma camada de pooling local tradicional porque **KernelShape** e **Stride** são iguais.</span><span class="sxs-lookup"><span data-stu-id="65966-291">This is a traditional local pooling layer because **KernelShape** and **Stride** are equal.</span></span> 
* <span data-ttu-id="65966-292">Olá número de nós na camada de destino Olá é *5 * 12 * 12 = 1440*.</span><span class="sxs-lookup"><span data-stu-id="65966-292">hello number of nodes in hello destination layer is *5 * 12 * 12 = 1440*.</span></span>  

<span data-ttu-id="65966-293">Para mais informações sobre camadas de pooling, consulte esses artigos:</span><span class="sxs-lookup"><span data-stu-id="65966-293">For more information about pooling layers, see these articles:</span></span>  

* <span data-ttu-id="65966-294">[http://www.cs.toronto.edu/~hinton/absps/imagenet.pdf](http://www.cs.toronto.edu/~hinton/absps/imagenet.pdf) (Seção 3.4)</span><span class="sxs-lookup"><span data-stu-id="65966-294">[http://www.cs.toronto.edu/~hinton/absps/imagenet.pdf](http://www.cs.toronto.edu/~hinton/absps/imagenet.pdf) (Section 3.4)</span></span>
* [<span data-ttu-id="65966-295">http://cs.nyu.edu/~koray/publis/lecun-iscas-10.pdf</span><span class="sxs-lookup"><span data-stu-id="65966-295">http://cs.nyu.edu/~koray/publis/lecun-iscas-10.pdf</span></span>](http://cs.nyu.edu/~koray/publis/lecun-iscas-10.pdf) 
* [<span data-ttu-id="65966-296">http://cs.nyu.edu/~koray/publis/jarrett-iccv-09.pdf</span><span class="sxs-lookup"><span data-stu-id="65966-296">http://cs.nyu.edu/~koray/publis/jarrett-iccv-09.pdf</span></span>](http://cs.nyu.edu/~koray/publis/jarrett-iccv-09.pdf)

## <a name="response-normalization-bundles"></a><span data-ttu-id="65966-297">Grupos de normalização de resposta</span><span class="sxs-lookup"><span data-stu-id="65966-297">Response normalization bundles</span></span>
<span data-ttu-id="65966-298">**Normalização de resposta** é um esquema de normalização local que foi introduzido por Geoffrey Hinton, et al, documento hello [ImageNet Classiﬁcation com Convolutional as redes neurais profundas](http://www.cs.toronto.edu/~hinton/absps/imagenet.pdf).</span><span class="sxs-lookup"><span data-stu-id="65966-298">**Response normalization** is a local normalization scheme that was first introduced by Geoffrey Hinton, et al, in hello paper [ImageNet Classiﬁcation with Deep Convolutional Neural Networks](http://www.cs.toronto.edu/~hinton/absps/imagenet.pdf).</span></span> <span data-ttu-id="65966-299">Normalização de resposta é generalização tooaid usado em redes neurais.</span><span class="sxs-lookup"><span data-stu-id="65966-299">Response normalization is used tooaid generalization in neural nets.</span></span> <span data-ttu-id="65966-300">Quando um neurônio está acionando em um nível muito alto de ativação, uma camada de normalização de resposta local suprime o nível de ativação de saudação de Olá ao redor de neurônios.</span><span class="sxs-lookup"><span data-stu-id="65966-300">When one neuron is firing at a very high activation level, a local response normalization layer suppresses hello activation level of hello surrounding neurons.</span></span> <span data-ttu-id="65966-301">Isso é feito usando três parâmetros (***α***, ***β*** e ***k***) e uma estrutura convolucional (ou forma de zona próxima).</span><span class="sxs-lookup"><span data-stu-id="65966-301">This is done by using three parameters (***α***, ***β***, and ***k***) and a convolutional structure (or neighborhood shape).</span></span> <span data-ttu-id="65966-302">Cada neurônio na camada de destino Olá ***y*** corresponde neurônio tooa ***x*** na camada de origem hello.</span><span class="sxs-lookup"><span data-stu-id="65966-302">Every neuron in hello destination layer ***y*** corresponds tooa neuron ***x*** in hello source layer.</span></span> <span data-ttu-id="65966-303">Olá nível de ativação de ***y*** é determinado pelo Olá seguinte fórmula, onde ***f*** é o nível de ativação de saudação de um neurônio e ***Nx*** é kernel hello (ou conjunto de saudação que contém Olá neurônios no ambiente de saudação do ***x***), conforme definido pelo Olá convolutional estrutura a seguir:</span><span class="sxs-lookup"><span data-stu-id="65966-303">hello activation level of ***y*** is given by hello following formula, where ***f*** is hello activation level of a neuron, and ***Nx*** is hello kernel (or hello set that contains hello neurons in hello neighborhood of ***x***), as defined by hello following convolutional structure:</span></span>  

![][1]  

<span data-ttu-id="65966-304">Pacotes de normalização de resposta oferecer suporte a todos os atributos de convolutional Olá exceto **compartilhamento**, **MapCount**, e **pesos**.</span><span class="sxs-lookup"><span data-stu-id="65966-304">Response normalization bundles support all hello convolutional attributes except **Sharing**, **MapCount**, and **Weights**.</span></span>  

* <span data-ttu-id="65966-305">Se o kernel Olá contém neurônios na Olá mesmo mapear como ***x***, esquema de normalização de saudação é chamado tooas **mesmo mapear normalização**.</span><span class="sxs-lookup"><span data-stu-id="65966-305">If hello kernel contains neurons in hello same map as ***x***, hello normalization scheme is referred tooas **same map normalization**.</span></span> <span data-ttu-id="65966-306">toodefine mesmo mapear normalização, coordenada primeiro Olá **InputShape** deve ter valor Olá 1.</span><span class="sxs-lookup"><span data-stu-id="65966-306">toodefine same map normalization, hello first coordinate in **InputShape** must have hello value 1.</span></span>
* <span data-ttu-id="65966-307">Se kernel Olá contém neurônios na Olá mesma posição espacial ***x***, mas neurônios Olá estão em outros mapas, Olá normalização esquema é chamado de **em mapas normalização**.</span><span class="sxs-lookup"><span data-stu-id="65966-307">If hello kernel contains neurons in hello same spatial position as ***x***, but hello neurons are in other maps, hello normalization scheme is called **across maps normalization**.</span></span> <span data-ttu-id="65966-308">Esse tipo de normalização de resposta implementa uma forma de inhibition lateral inspirada Olá tipo encontrado no neurônios reais, criando a competição por níveis de ativação grande entre saídas neurônio computadas em mapas diferentes.</span><span class="sxs-lookup"><span data-stu-id="65966-308">This type of response normalization implements a form of lateral inhibition inspired by hello type found in real neurons, creating competition for big activation levels amongst neuron outputs computed on different maps.</span></span> <span data-ttu-id="65966-309">toodefine em mapas de normalização, coordenada primeiro Olá deve ser um inteiro maior que um e não maior que o número de saudação de mapas e restante Olá Olá coordenadas deve ter o valor de saudação 1.</span><span class="sxs-lookup"><span data-stu-id="65966-309">toodefine across maps normalization, hello first coordinate must be an integer greater than one and no greater than hello number of maps, and hello rest of hello coordinates must have hello value 1.</span></span>  

<span data-ttu-id="65966-310">Como pacotes de normalização de resposta se aplicam a um função predefinida toosource nó valores toodetermine Olá nó valor de destino, eles têm sem estado trainable (pesos ou propensões).</span><span class="sxs-lookup"><span data-stu-id="65966-310">Because response normalization bundles apply a predefined function toosource node values toodetermine hello destination node value, they have no trainable state (weights or biases).</span></span>   

<span data-ttu-id="65966-311">**Alerta**: nós Olá na camada de destino Olá correspondem tooneurons que são nós de saudação central de kernels hello.</span><span class="sxs-lookup"><span data-stu-id="65966-311">**Alert**: hello nodes in hello destination layer correspond tooneurons that are hello central nodes of hello kernels.</span></span> <span data-ttu-id="65966-312">Por exemplo, se KernelShape [d] for ímpar, em seguida, *KernelShape [d] / 2* corresponde o nó de kernel central toohello.</span><span class="sxs-lookup"><span data-stu-id="65966-312">For example, if KernelShape[d] is odd, then *KernelShape[d]/2* corresponds toohello central kernel node.</span></span> <span data-ttu-id="65966-313">Se *KernelShape [d]* for par, nó central hello está no *KernelShape [d] / 2-1*.</span><span class="sxs-lookup"><span data-stu-id="65966-313">If *KernelShape[d]* is even, hello central node is at *KernelShape[d]/2 - 1*.</span></span> <span data-ttu-id="65966-314">Portanto, se **preenchimento**[d] é False, Olá primeiro e último Olá *KernelShape [d] / 2* nós não possuem os nós correspondentes na camada de destino hello.</span><span class="sxs-lookup"><span data-stu-id="65966-314">Therefore, if **Padding**[d] is False, hello first and hello last *KernelShape[d]/2* nodes do not have corresponding nodes in hello destination layer.</span></span> <span data-ttu-id="65966-315">tooavoid nessa situação, defina **preenchimento** como [true, true,..., true].</span><span class="sxs-lookup"><span data-stu-id="65966-315">tooavoid this situation, define **Padding** as [true, true, …, true].</span></span>  

<span data-ttu-id="65966-316">Além disso toohello quatro atributos descritos anteriormente, pacotes de normalização de resposta também suporte Olá seguintes atributos:</span><span class="sxs-lookup"><span data-stu-id="65966-316">In addition toohello four attributes described earlier, response normalization bundles also support hello following attributes:</span></span>  

* <span data-ttu-id="65966-317">**Alpha**: (obrigatório) especifica um valor de ponto flutuante que corresponde muito***α*** na fórmula anterior hello.</span><span class="sxs-lookup"><span data-stu-id="65966-317">**Alpha**: (required) Specifies a floating-point value that corresponds too***α*** in hello previous formula.</span></span> 
* <span data-ttu-id="65966-318">**Beta**: (obrigatório) especifica um valor de ponto flutuante que corresponde muito***β*** na fórmula anterior hello.</span><span class="sxs-lookup"><span data-stu-id="65966-318">**Beta**: (required) Specifies a floating-point value that corresponds too***β*** in hello previous formula.</span></span> 
* <span data-ttu-id="65966-319">**Deslocamento**: (opcional) especifica um valor de ponto flutuante que corresponde muito***k*** na fórmula anterior hello.</span><span class="sxs-lookup"><span data-stu-id="65966-319">**Offset**: (optional) Specifies a floating-point value that corresponds too***k*** in hello previous formula.</span></span> <span data-ttu-id="65966-320">O padrão é too1.</span><span class="sxs-lookup"><span data-stu-id="65966-320">It defaults too1.</span></span>  

<span data-ttu-id="65966-321">Olá, exemplo a seguir define um conjunto de normalização de resposta usando estes atributos:</span><span class="sxs-lookup"><span data-stu-id="65966-321">hello following example defines a response normalization bundle using these attributes:</span></span>  

    hidden RN1 [5, 10, 10]
      from P1 response norm {
        InputShape  = [ 5, 12, 12];
        KernelShape = [ 1,  3,  3];
        Alpha = 0.001;
        Beta = 0.75;
      }  

* <span data-ttu-id="65966-322">camada de origem Olá inclui cinco mapas, cada um com a dimensão aof de 12 x 12, totalizando em nós de 1440.</span><span class="sxs-lookup"><span data-stu-id="65966-322">hello source layer includes five maps, each with aof dimension of 12x12, totaling in 1440 nodes.</span></span> 
* <span data-ttu-id="65966-323">Olá valor **KernelShape** indica que se trata de uma mesma camada de normalização de mapa, onde o ambiente de saudação é um retângulo de 3x3.</span><span class="sxs-lookup"><span data-stu-id="65966-323">hello value of **KernelShape** indicates that this is a same map normalization layer, where hello neighborhood is a 3x3 rectangle.</span></span> 
* <span data-ttu-id="65966-324">Olá valor padrão de **preenchimento** é False, assim, camada de destino Olá tem somente 10 nós em cada dimensão.</span><span class="sxs-lookup"><span data-stu-id="65966-324">hello default value of **Padding** is False, thus hello destination layer has only 10 nodes in each dimension.</span></span> <span data-ttu-id="65966-325">tooinclude um nó na camada de destino Olá correspondente tooevery nó na camada de origem hello, adicionar preenchimento = [true, true, true]; e alterar o tamanho de saudação do RN1 muito [5, 12, 12].</span><span class="sxs-lookup"><span data-stu-id="65966-325">tooinclude one node in hello destination layer that corresponds tooevery node in hello source layer, add Padding = [true, true, true]; and change hello size of RN1 too[5, 12, 12].</span></span>  

## <a name="share-declaration"></a><span data-ttu-id="65966-326">Declaração de compartilhamento</span><span class="sxs-lookup"><span data-stu-id="65966-326">Share declaration</span></span>
<span data-ttu-id="65966-327">Net# dá suporte, opcionalmente, a definição de múltiplos grupos com pesos compartilhados.</span><span class="sxs-lookup"><span data-stu-id="65966-327">Net# optionally supports defining multiple bundles with shared weights.</span></span> <span data-ttu-id="65966-328">os pesos de saudação de quaisquer dois pacotes podem ser compartilhados se suas estruturas são Olá mesmo.</span><span class="sxs-lookup"><span data-stu-id="65966-328">hello weights of any two bundles can be shared if their structures are hello same.</span></span> <span data-ttu-id="65966-329">Olá sintaxe a seguir define os pacotes com pesos compartilhados:</span><span class="sxs-lookup"><span data-stu-id="65966-329">hello following syntax defines bundles with shared weights:</span></span>  

    share-declaration:
        share    {    layer-list    }
        share    {    bundle-list    }
       share    {    bias-list    }

    layer-list:
        layer-name    ,    layer-name
        layer-list    ,    layer-name

    bundle-list:
       bundle-spec    ,    bundle-spec
        bundle-list    ,    bundle-spec

    bundle-spec:
       layer-name    =>     layer-name

    bias-list:
        bias-spec    ,    bias-spec
        bias-list    ,    bias-spec

    bias-spec:
        1    =>    layer-name

    layer-name:
        identifier  

<span data-ttu-id="65966-330">Por exemplo, hello compartilhamento-declaração a seguir especifica os nomes de camada hello, indicando que os pesos e tendências devem ser compartilhadas:</span><span class="sxs-lookup"><span data-stu-id="65966-330">For example, hello following share-declaration specifies hello layer names, indicating that both weights and biases should be shared:</span></span>  

    Const {
      InputSize = 37;
      HiddenSize = 50;
    }
    input {
      Data1 [InputSize];
      Data2 [InputSize];
    }
    hidden {
      H1 [HiddenSize] from Data1 all;
      H2 [HiddenSize] from Data2 all;
    }
    output Result [2] {
      from H1 all;
      from H2 all;
    }
    share { H1, H2 } // share both weights and biases  

* <span data-ttu-id="65966-331">recursos de entrada Hello são particionados em duas camadas de entrada tamanhos iguais.</span><span class="sxs-lookup"><span data-stu-id="65966-331">hello input features are partitioned into two equal sized input layers.</span></span> 
* <span data-ttu-id="65966-332">camadas de saudação ocultada de computação, em seguida, recursos de nível superior em duas camadas de entrada hello.</span><span class="sxs-lookup"><span data-stu-id="65966-332">hello hidden layers then compute higher level features on hello two input layers.</span></span> 
* <span data-ttu-id="65966-333">declaração de compartilhamento Olá Especifica que *H1* e *H2* devem ser computadas em Olá mesmo modo de seus respectivos entradas.</span><span class="sxs-lookup"><span data-stu-id="65966-333">hello share-declaration specifies that *H1* and *H2* must be computed in hello same way from their respective inputs.</span></span>  

<span data-ttu-id="65966-334">Alternativamente, isso pode ser especificado com duas declarações de compartilhamento separadas, como descrito a seguir:</span><span class="sxs-lookup"><span data-stu-id="65966-334">Alternatively, this could be specified with two separate share-declarations as follows:</span></span>  

    share { Data1 => H1, Data2 => H2 } // share weights  

<!-- -->

    share { 1 => H1, 1 => H2 } // share biases  

<span data-ttu-id="65966-335">Você pode usar a forma abreviada Olá somente quando as camadas de saudação contêm um único pacote.</span><span class="sxs-lookup"><span data-stu-id="65966-335">You can use hello short form only when hello layers contain a single bundle.</span></span> <span data-ttu-id="65966-336">Em geral, compartilhamento é possível somente quando a estrutura relevante Olá é idêntica, o que significa que eles têm Olá mesmo tamanho, mesmo geometria convolutional e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="65966-336">In general, sharing is possible only when hello relevant structure is identical, meaning that they have hello same size, same convolutional geometry, and so forth.</span></span>  

## <a name="examples-of-net-usage"></a><span data-ttu-id="65966-337">Exemplos de uso do Net#</span><span class="sxs-lookup"><span data-stu-id="65966-337">Examples of Net# usage</span></span>
<span data-ttu-id="65966-338">Esta seção fornece alguns exemplos de como você pode usar Net # tooadd oculto camadas, definir forma de saudação que camadas ocultas interagem com outras camadas e criar redes convolutional.</span><span class="sxs-lookup"><span data-stu-id="65966-338">This section provides some examples of how you can use Net# tooadd hidden layers, define hello way that hidden layers interact with other layers, and build convolutional networks.</span></span>   

### <a name="define-a-simple-custom-neural-network-hello-world-example"></a><span data-ttu-id="65966-339">Defina uma rede neural personalizada simples: exemplo "Olá mundo"</span><span class="sxs-lookup"><span data-stu-id="65966-339">Define a simple custom neural network: "Hello World" example</span></span>
<span data-ttu-id="65966-340">Esse exemplo simples demonstra como toocreate um neural rede modelo que tem uma única camada oculta.</span><span class="sxs-lookup"><span data-stu-id="65966-340">This simple example demonstrates how toocreate a neural network model that has a single hidden layer.</span></span>  

    input Data auto;
    hidden H [200] from Data all;
    output Out [10] sigmoid from H all;  

<span data-ttu-id="65966-341">exemplo Hello ilustra alguns comandos básicos da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="65966-341">hello example illustrates some basic commands as follows:</span></span>  

* <span data-ttu-id="65966-342">primeira linha Hello define camada de entrada hello (denominado *dados*).</span><span class="sxs-lookup"><span data-stu-id="65966-342">hello first line defines hello input layer (named *Data*).</span></span> <span data-ttu-id="65966-343">Quando você usa Olá **automática** palavra-chave, rede neural Olá inclui automaticamente todas as colunas de recurso nos exemplos de entrada hello.</span><span class="sxs-lookup"><span data-stu-id="65966-343">When you use hello  **auto** keyword, hello neural network automatically includes all feature columns in hello input examples.</span></span> 
* <span data-ttu-id="65966-344">Olá segunda linha cria a camada oculta hello.</span><span class="sxs-lookup"><span data-stu-id="65966-344">hello second line creates hello hidden layer.</span></span> <span data-ttu-id="65966-345">nome da saudação *H* é atribuído a camada oculta toohello, que tem 200 nós.</span><span class="sxs-lookup"><span data-stu-id="65966-345">hello name *H* is assigned toohello hidden layer, which has 200 nodes.</span></span> <span data-ttu-id="65966-346">Essa camada é a camada de entrada toohello totalmente conectados.</span><span class="sxs-lookup"><span data-stu-id="65966-346">This layer is fully connected toohello input layer.</span></span>
* <span data-ttu-id="65966-347">terceira linha de saudação define a camada de saída da saudação (denominado *O*), que contém 10 nós de saída.</span><span class="sxs-lookup"><span data-stu-id="65966-347">hello third line defines hello output layer (named *O*), which contains 10 output nodes.</span></span> <span data-ttu-id="65966-348">Se a rede neural Olá é usado para classificação, há um nó de saída por classe.</span><span class="sxs-lookup"><span data-stu-id="65966-348">If hello neural network is used for classification, there is one output node per class.</span></span> <span data-ttu-id="65966-349">Olá palavra-chave **sigmoide** indica Olá saída função é aplicada toohello camada de saída.</span><span class="sxs-lookup"><span data-stu-id="65966-349">hello keyword **sigmoid** indicates that hello output function is applied toohello output layer.</span></span>   

### <a name="define-multiple-hidden-layers-computer-vision-example"></a><span data-ttu-id="65966-350">Definir várias camadas ocultas: exemplo de visão do computador</span><span class="sxs-lookup"><span data-stu-id="65966-350">Define multiple hidden layers: computer vision example</span></span>
<span data-ttu-id="65966-351">Olá exemplo a seguir demonstra como toodefine uma rede neural um pouco mais complexa, com várias camadas ocultas personalizadas.</span><span class="sxs-lookup"><span data-stu-id="65966-351">hello following example demonstrates how toodefine a slightly more complex neural network, with multiple custom hidden layers.</span></span>  

    // Define hello input layers 
    input Pixels [10, 20];
    input MetaData [7];

    // Define hello first two hidden layers, using data only from hello Pixels input
    hidden ByRow [10, 12] from Pixels where (s,d) => s[0] == d[0];
    hidden ByCol [5, 20] from Pixels where (s,d) => abs(s[1] - d[1]) <= 1;

    // Define hello third hidden layer, which uses as source hello hidden layers ByRow and ByCol
    hidden Gather [100] 
    {
      from ByRow all;
      from ByCol all;
    }

    // Define hello output layer and its sources
    output Result [10]  
    {
      from Gather all;
      from MetaData all;
    }  

<span data-ttu-id="65966-352">Este exemplo ilustra vários recursos de linguagem de especificação de redes neurais hello:</span><span class="sxs-lookup"><span data-stu-id="65966-352">This example illustrates several features of hello neural networks specification language:</span></span>  

* <span data-ttu-id="65966-353">estrutura Olá tem duas camadas de entrada, *Pixels* e *metadados*.</span><span class="sxs-lookup"><span data-stu-id="65966-353">hello structure has two input layers, *Pixels* and *MetaData*.</span></span>
* <span data-ttu-id="65966-354">Olá *Pixels* camada é uma camada de origem para dois pacotes de conexão, com camadas de destino, *ByRow* e *ByCol*.</span><span class="sxs-lookup"><span data-stu-id="65966-354">hello *Pixels* layer is a source layer for two connection bundles, with destination layers, *ByRow* and *ByCol*.</span></span>
* <span data-ttu-id="65966-355">Olá camadas *coletar* e *resultados* são camadas de destino em vários pacotes de conexão.</span><span class="sxs-lookup"><span data-stu-id="65966-355">hello layers *Gather* and *Result* are destination layers in multiple connection bundles.</span></span>
* <span data-ttu-id="65966-356">camada de saída de Hello, *resultados*, é uma camada de destino em dois pacotes de conexão, uma com hello de segundo nível oculta (coleta) como uma camada de destino e Olá outra camada de entrada hello (metadados) como uma camada de destino.</span><span class="sxs-lookup"><span data-stu-id="65966-356">hello output layer, *Result*, is a destination layer in two connection bundles; one with hello second level hidden (Gather) as a destination layer, and hello other with hello input layer (MetaData) as a destination layer.</span></span>
* <span data-ttu-id="65966-357">Olá camadas ocultas, *ByRow* e *ByCol*, especifique conectividade filtrada usando expressões de predicado.</span><span class="sxs-lookup"><span data-stu-id="65966-357">hello hidden layers, *ByRow* and *ByCol*, specify filtered connectivity by using predicate expressions.</span></span> <span data-ttu-id="65966-358">Mais precisamente, Olá nó *ByRow* em [x, y] é nós conectados toohello *Pixels* com x de coordenada, primeiro Olá primeiro índice toohello igual coordenada do nó.</span><span class="sxs-lookup"><span data-stu-id="65966-358">More precisely, hello node in *ByRow* at [x, y] is connected toohello nodes in *Pixels* that have hello first index coordinate equal toohello node's first coordinate, x.</span></span> <span data-ttu-id="65966-359">Da mesma forma, Olá nó *ByCol em [x, y] é nós conectados toohello _Pixels* que têm coordenadas de índice segundo hello dentro de uma coordenada de segundo do nó hello, y.</span><span class="sxs-lookup"><span data-stu-id="65966-359">Similarly, hello node in *ByCol at [x, y] is connected toohello nodes in _Pixels* that have hello second index coordinate within one of hello node's second coordinate, y.</span></span>  

### <a name="define-a-convolutional-network-for-multiclass-classification-digit-recognition-example"></a><span data-ttu-id="65966-360">Definir uma rede convolucional para classificação multiclasse: exemplo de reconhecimento de dígitos</span><span class="sxs-lookup"><span data-stu-id="65966-360">Define a convolutional network for multiclass classification: digit recognition example</span></span>
<span data-ttu-id="65966-361">definição Olá Olá rede a seguir é projetado toorecognize números, e ele ilustra algumas técnicas avançadas para personalizar uma rede neural.</span><span class="sxs-lookup"><span data-stu-id="65966-361">hello definition of hello following network is designed toorecognize numbers, and it illustrates some advanced techniques for customizing a neural network.</span></span>  

    input Image [29, 29];
    hidden Conv1 [5, 13, 13] from Image convolve 
    {
       InputShape  = [29, 29];
       KernelShape = [ 5,  5];
       Stride      = [ 2,  2];
       MapCount    = 5;
    }
    hidden Conv2 [50, 5, 5]
    from Conv1 convolve 
    {
       InputShape  = [ 5, 13, 13];
       KernelShape = [ 1,  5,  5];
       Stride      = [ 1,  2,  2];
       Sharing     = [false, true, true];
       MapCount    = 10;
    }
    hidden Hid3 [100] from Conv2 all;
    output Digit [10] from Hid3 all;  


* <span data-ttu-id="65966-362">estrutura Olá tem uma única camada de entrada, *imagem*.</span><span class="sxs-lookup"><span data-stu-id="65966-362">hello structure has a single input layer, *Image*.</span></span>
* <span data-ttu-id="65966-363">Olá palavra-chave **convolve** indica que as camadas de saudação nomeados *Conv1* e *Conv2* convolutional camadas.</span><span class="sxs-lookup"><span data-stu-id="65966-363">hello keyword **convolve** indicates that hello layers named *Conv1* and *Conv2* are convolutional layers.</span></span> <span data-ttu-id="65966-364">Cada essas declarações de camada é seguida por uma lista de atributos de convolução hello.</span><span class="sxs-lookup"><span data-stu-id="65966-364">Each of these layer declarations is followed by a list of hello convolution attributes.</span></span>
* <span data-ttu-id="65966-365">Olá net tem uma terceira oculto camada, *Hid3*, que é totalmente conectada toohello segunda camada oculta, *Conv2*.</span><span class="sxs-lookup"><span data-stu-id="65966-365">hello net has a third hidden layer, *Hid3*, which is fully connected toohello second hidden layer, *Conv2*.</span></span>
* <span data-ttu-id="65966-366">camada de saída de Hello, *dígitos*, é conectada toohello somente terceira camada oculta, *Hid3*.</span><span class="sxs-lookup"><span data-stu-id="65966-366">hello output layer, *Digit*, is connected only toohello third hidden layer, *Hid3*.</span></span> <span data-ttu-id="65966-367">Olá palavra-chave **todos os** indica essa camada de saída Olá é totalmente conectada muito*Hid3*.</span><span class="sxs-lookup"><span data-stu-id="65966-367">hello keyword **all** indicates that hello output layer is fully connected too*Hid3*.</span></span>
* <span data-ttu-id="65966-368">Olá arity de convolução Olá é três (Olá comprimento de tuplas Olá **InputShape**, **KernelShape**, **Stride**, e **compartilhamento**).</span><span class="sxs-lookup"><span data-stu-id="65966-368">hello arity of hello convolution is three (hello length of hello tuples **InputShape**, **KernelShape**, **Stride**, and **Sharing**).</span></span> 
* <span data-ttu-id="65966-369">número de saudação de pesos por núcleo é *1 + **KernelShape**\[0] * **KernelShape**\[1] * **KernelShape** \[2] = 1 + 1 * 5 * 5 = 26. Ou 26 * 50 = 1300*.</span><span class="sxs-lookup"><span data-stu-id="65966-369">hello number of weights per kernel is *1 + **KernelShape**\[0] * **KernelShape**\[1] * **KernelShape**\[2] = 1 + 1 * 5 * 5 = 26. Or 26 * 50 = 1300*.</span></span>
* <span data-ttu-id="65966-370">Você pode calcular nós de saudação em cada camada oculta da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="65966-370">You can calculate hello nodes in each hidden layer as follows:</span></span>
  * <span data-ttu-id="65966-371">**NodeCount**\[0] = (5 - 1) / 1 + 1 = 5.</span><span class="sxs-lookup"><span data-stu-id="65966-371">**NodeCount**\[0] = (5 - 1) / 1 + 1 = 5.</span></span>
  * <span data-ttu-id="65966-372">**NodeCount**\[1] = (13 - 5) / 2 + 1 = 5.</span><span class="sxs-lookup"><span data-stu-id="65966-372">**NodeCount**\[1] = (13 - 5) / 2 + 1 = 5.</span></span> 
  * <span data-ttu-id="65966-373">**NodeCount**\[2] = (13 - 5) / 2 + 1 = 5.</span><span class="sxs-lookup"><span data-stu-id="65966-373">**NodeCount**\[2] = (13 - 5) / 2 + 1 = 5.</span></span> 
* <span data-ttu-id="65966-374">Olá número total de nós pode ser calculado usando Olá declarado dimensionalidade de saudação da camada, [50, 5, 5], da seguinte maneira:  ***MapCount** * **NodeCount** \[ 0] * **NodeCount**\[1] * **NodeCount**\[2] = 10 * 5 * 5 * 5*</span><span class="sxs-lookup"><span data-stu-id="65966-374">hello total number of nodes can be calculated by using hello declared dimensionality of hello layer, [50, 5, 5], as follows: ***MapCount** * **NodeCount**\[0] * **NodeCount**\[1] * **NodeCount**\[2] = 10 * 5 * 5 * 5*</span></span>
* <span data-ttu-id="65966-375">Porque **compartilhamento**[d] é False apenas para *d = = 0*, número de saudação de kernels é  ***MapCount** * **NodeCount** \[0] = 10 * 5 = 50*.</span><span class="sxs-lookup"><span data-stu-id="65966-375">Because **Sharing**[d] is False only for *d == 0*, hello number of kernels is ***MapCount** * **NodeCount**\[0] = 10 * 5 = 50*.</span></span> 

## <a name="acknowledgements"></a><span data-ttu-id="65966-376">Confirmações</span><span class="sxs-lookup"><span data-stu-id="65966-376">Acknowledgements</span></span>
<span data-ttu-id="65966-377">Olá linguagem Net # para personalizar a arquitetura de saudação de redes neurais foi desenvolvido na Microsoft pela Shon Katzenberger (arquiteto, aprendizado de máquina) e Alexey Kamenev (engenheiro de Software, Microsoft Research).</span><span class="sxs-lookup"><span data-stu-id="65966-377">hello Net# language for customizing hello architecture of neural networks was developed at Microsoft by Shon Katzenberger (Architect, Machine Learning) and Alexey Kamenev (Software Engineer, Microsoft Research).</span></span> <span data-ttu-id="65966-378">Ela é usada internamente para projetos e aplicativos de análise de tootext de detecção de imagem de aprendizado de máquina.</span><span class="sxs-lookup"><span data-stu-id="65966-378">It is used internally for machine learning projects and applications ranging from image detection tootext analytics.</span></span> <span data-ttu-id="65966-379">Para obter mais informações, consulte [redes neurais no Azure ML - Introdução tooNet #](http://blogs.technet.com/b/machinelearning/archive/2015/02/16/neural-nets-in-azure-ml-introduction-to-net.aspx)</span><span class="sxs-lookup"><span data-stu-id="65966-379">For more information, see [Neural Nets in Azure ML - Introduction tooNet#](http://blogs.technet.com/b/machinelearning/archive/2015/02/16/neural-nets-in-azure-ml-introduction-to-net.aspx)</span></span>

[1]:./media/machine-learning-azure-ml-netsharp-reference-guide/formula_large.gif

