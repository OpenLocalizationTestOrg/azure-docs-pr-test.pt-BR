---
title: "aaaOptimize seus algoritmos de aprendizado de máquina do Azure | Microsoft Docs"
description: "Explica como o parâmetro de ideal de saudação do toochoose definido por um algoritmo no aprendizado de máquina do Azure."
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: 6717e30e-b8d8-4cc1-ad0b-1d4727928d32
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/29/2017
ms.author: bradsev
ms.openlocfilehash: fbf2f71abdbce19483fb048d67a39cbb368a928e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="choose-parameters-toooptimize-your-algorithms-in-azure-machine-learning"></a><span data-ttu-id="2e7c8-103">Escolher parâmetros toooptimize seus algoritmos de aprendizado de máquina do Azure</span><span class="sxs-lookup"><span data-stu-id="2e7c8-103">Choose parameters toooptimize your algorithms in Azure Machine Learning</span></span>
<span data-ttu-id="2e7c8-104">Este tópico descreve como toochoose Olá direito hyperparameter definido por um algoritmo no aprendizado de máquina do Azure.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-104">This topic describes how toochoose hello right hyperparameter set for an algorithm in Azure Machine Learning.</span></span> <span data-ttu-id="2e7c8-105">A maioria dos algoritmos de aprendizagem de máquina tem tooset de parâmetros.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-105">Most machine learning algorithms have parameters tooset.</span></span> <span data-ttu-id="2e7c8-106">Quando você treina um modelo, você precisa tooprovide valores para esses parâmetros.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-106">When you train a model, you need tooprovide values for those parameters.</span></span> <span data-ttu-id="2e7c8-107">eficácia de saudação do modelo treinado Olá depende de parâmetros de modelo de saudação que você escolher.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-107">hello efficacy of hello trained model depends on hello model parameters that you choose.</span></span> <span data-ttu-id="2e7c8-108">Olá processo de localização de conjunto de parâmetros de saudação ideal é conhecido como *seleção de modelo*.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-108">hello process of finding hello optimal set of parameters is known as *model selection*.</span></span>

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

<span data-ttu-id="2e7c8-109">Não há seleção do modelo de toodo de várias maneiras.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-109">There are various ways toodo model selection.</span></span> <span data-ttu-id="2e7c8-110">No aprendizado de máquina, a validação cruzada é um dos métodos de hello mais amplamente usado para seleção de modelo e é o mecanismo de seleção de modelo saudação padrão no aprendizado de máquina do Azure.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-110">In machine learning, cross-validation is one of hello most widely used methods for model selection, and it is hello default model selection mechanism in Azure Machine Learning.</span></span> <span data-ttu-id="2e7c8-111">Como o Azure Machine Learning dá suporte a R e Python, você sempre pode implementar seus próprios mecanismos de seleção de modelo usando R ou Python.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-111">Because Azure Machine Learning supports both R and Python, you can always implement their own model selection mechanisms by using either R or Python.</span></span>

<span data-ttu-id="2e7c8-112">Há quatro etapas no processo de saudação de localização Olá melhor conjunto de parâmetros:</span><span class="sxs-lookup"><span data-stu-id="2e7c8-112">There are four steps in hello process of finding hello best parameter set:</span></span>

1. <span data-ttu-id="2e7c8-113">**Definir o espaço de parâmetro hello**: algoritmo hello, primeiro decida valores de parâmetro exata Olá desejados tooconsider.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-113">**Define hello parameter space**: For hello algorithm, first decide hello exact parameter values you want tooconsider.</span></span>
2. <span data-ttu-id="2e7c8-114">**Definir configurações de validação cruzada Olá**: decidir como validação cruzada toochoose dobra de saudação de conjunto de dados.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-114">**Define hello cross-validation settings**: Decide how toochoose cross-validation folds for hello dataset.</span></span>
3. <span data-ttu-id="2e7c8-115">**Definir a métrica de saudação**: decidir quais toouse métrica para determinar melhor o conjunto de parâmetros, como precisão hello, pontuação f, precisão, lembre-se ou erro ao quadrado da média de raiz.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-115">**Define hello metric**: Decide what metric toouse for determining hello best set of parameters, such as accuracy, root mean squared error, precision, recall, or f-score.</span></span>
4. <span data-ttu-id="2e7c8-116">**Treinar, avaliar e comparar**: para cada combinação exclusiva de valores de parâmetro hello, validação cruzada é realizada pela e com base na métrica de erro Olá você definir.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-116">**Train, evaluate, and compare**: For each unique combination of hello parameter values, cross-validation is carried out by and based on hello error metric you define.</span></span> <span data-ttu-id="2e7c8-117">Depois de avaliação e comparação, você pode escolher o modelo de melhor desempenho de saudação.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-117">After evaluation and comparison, you can choose hello best-performing model.</span></span>

<span data-ttu-id="2e7c8-118">Olá a imagem a seguir ilustra mostra como isso pode ser obtido no aprendizado de máquina do Azure.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-118">hello following image illustrates shows how this can be achieved in Azure Machine Learning.</span></span>

![Localizar o melhor conjunto de parâmetro hello](./media/machine-learning-algorithm-parameters-optimize/fig1.png)

## <a name="define-hello-parameter-space"></a><span data-ttu-id="2e7c8-120">Definir o espaço de parâmetro hello</span><span class="sxs-lookup"><span data-stu-id="2e7c8-120">Define hello parameter space</span></span>
<span data-ttu-id="2e7c8-121">Você pode definir o parâmetro hello definido na etapa de inicialização do modelo de saudação.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-121">You can define hello parameter set at hello model initialization step.</span></span> <span data-ttu-id="2e7c8-122">Painel de parâmetro de todos os algoritmos de aprendizado de máquina Hello tem dois modos de aprendizagem: *único parâmetro* e *intervalo de parâmetro*.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-122">hello parameter pane of all machine learning algorithms has two trainer modes: *Single Parameter* and *Parameter Range*.</span></span> <span data-ttu-id="2e7c8-123">Escolha o modo de Intervalo de Parâmetros.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-123">Choose Parameter Range mode.</span></span> <span data-ttu-id="2e7c8-124">No modo de intervalo de parâmetros, você pode inserir vários valores para cada parâmetro.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-124">In Parameter Range mode, you can enter multiple values for each parameter.</span></span> <span data-ttu-id="2e7c8-125">Você pode inserir valores separados por vírgula na caixa de texto de saudação.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-125">You can enter comma-separated values in hello text box.</span></span>

![Árvore de decisão aumentada de duas classes, parâmetro único](./media/machine-learning-algorithm-parameters-optimize/fig2.png)

 <span data-ttu-id="2e7c8-127">Como alternativa, você pode definir pontos de mínimo e máximo de saudação da grade de saudação e o número total de saudação de pontos toobe gerado com **Use intervalo construtor**.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-127">Alternately, you can define hello maximum and minimum points of hello grid and hello total number of points toobe generated with **Use Range Builder**.</span></span> <span data-ttu-id="2e7c8-128">Por padrão, os valores de parâmetro hello são gerados em uma escala linear.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-128">By default, hello parameter values are generated on a linear scale.</span></span> <span data-ttu-id="2e7c8-129">Mas se **escala logarítmica** estiver marcada, Olá valores são gerados na escala de log hello (ou seja, Olá taxa de pontos adjacentes Olá é constante em vez de seu diferença).</span><span class="sxs-lookup"><span data-stu-id="2e7c8-129">But if **Log Scale** is checked, hello values are generated in hello log scale (that is, hello ratio of hello adjacent points is constant instead of their difference).</span></span> <span data-ttu-id="2e7c8-130">Para parâmetros de inteiros, você pode definir um intervalo usando um hífen.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-130">For integer parameters, you can define a range by using a hyphen.</span></span> <span data-ttu-id="2e7c8-131">Por exemplo, "1-10" significa que todos os números inteiros entre 1 e 10 (ambos incluídos) formam o conjunto de parâmetros de saudação.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-131">For example, “1-10” means that all integers between 1 and 10 (both inclusive) form hello parameter set.</span></span> <span data-ttu-id="2e7c8-132">Um modo misto também tem suporte.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-132">A mixed mode is also supported.</span></span> <span data-ttu-id="2e7c8-133">Olá, por exemplo, o conjunto de parâmetros "1-10, 20, 50" incluiria inteiros de 1 a 10, 20 e 50.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-133">For example, hello parameter set “1-10, 20, 50” would include integers 1-10, 20, and 50.</span></span>

![Árvore de decisão aumentada de duas classes, intervalo de parâmetros](./media/machine-learning-algorithm-parameters-optimize/fig3.png)

## <a name="define-cross-validation-folds"></a><span data-ttu-id="2e7c8-135">Definir dobras de validação cruzada</span><span class="sxs-lookup"><span data-stu-id="2e7c8-135">Define cross-validation folds</span></span>
<span data-ttu-id="2e7c8-136">Olá [partição e exemplo] [ partition-and-sample] módulo pode ser usado toorandomly atribuir dobras toohello dados.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-136">hello [Partition and Sample][partition-and-sample] module can be used toorandomly assign folds toohello data.</span></span> <span data-ttu-id="2e7c8-137">Em Olá a seguinte configuração de exemplo para o módulo hello, definimos cinco dobras e atribuir aleatoriamente uma partição número toohello de instâncias de exemplo.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-137">In hello following sample configuration for hello module, we define five folds and randomly assign a fold number toohello sample instances.</span></span>

![Partição e exemplo](./media/machine-learning-algorithm-parameters-optimize/fig4.png)

## <a name="define-hello-metric"></a><span data-ttu-id="2e7c8-139">Definir a métrica de saudação</span><span class="sxs-lookup"><span data-stu-id="2e7c8-139">Define hello metric</span></span>
<span data-ttu-id="2e7c8-140">Olá [ajustar o modelo de Hiperparâmetros] [ tune-model-hyperparameters] módulo fornece suporte para a escolha empiricamente Olá melhor conjunto de parâmetros para um determinado algoritmo e um conjunto de dados.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-140">hello [Tune Model Hyperparameters][tune-model-hyperparameters] module provides support for empirically choosing hello best set of parameters for a given algorithm and dataset.</span></span> <span data-ttu-id="2e7c8-141">Além disso tooother informações sobre Olá de treinamento de modelo, hello **propriedades** painel deste módulo inclui métrica Olá para determinar o melhor conjunto de parâmetro hello.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-141">In addition tooother information regarding training hello model, hello **Properties** pane of this module includes hello metric for determining hello best parameter set.</span></span> <span data-ttu-id="2e7c8-142">Ele tem duas caixas de listagem suspensas diferentes para algoritmos de classificação e regressão, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-142">It has two different drop-down list boxes for classification and regression algorithms, respectively.</span></span> <span data-ttu-id="2e7c8-143">Se Olá em questão é um algoritmo de classificação, métrica de regressão Olá será ignorada e vice-versa.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-143">If hello algorithm under consideration is a classification algorithm, hello regression metric is ignored and vice versa.</span></span> <span data-ttu-id="2e7c8-144">Nesse exemplo específico, a métrica de saudação é **precisão**.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-144">In this specific example, hello metric is **Accuracy**.</span></span>   

![Parâmetros de limpeza](./media/machine-learning-algorithm-parameters-optimize/fig5.png)

## <a name="train-evaluate-and-compare"></a><span data-ttu-id="2e7c8-146">Treinar, avaliar e comparar</span><span class="sxs-lookup"><span data-stu-id="2e7c8-146">Train, evaluate, and compare</span></span>
<span data-ttu-id="2e7c8-147">Olá mesmo [ajustar o modelo de Hiperparâmetros] [ tune-model-hyperparameters] módulo treina todos os modelos de saudação que correspondem a toohello conjunto de parâmetros, avalia várias métricas e cria Olá melhor treinado com base em Olá métrica que você escolher.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-147">hello same [Tune Model Hyperparameters][tune-model-hyperparameters] module trains all hello models that correspond toohello parameter set, evaluates various metrics, and then creates hello best-trained model based on hello metric you choose.</span></span> <span data-ttu-id="2e7c8-148">Este módulo tem duas entradas obrigatórias:</span><span class="sxs-lookup"><span data-stu-id="2e7c8-148">This module has two mandatory inputs:</span></span>

* <span data-ttu-id="2e7c8-149">aprendiz não treinado Olá</span><span class="sxs-lookup"><span data-stu-id="2e7c8-149">hello untrained learner</span></span>
* <span data-ttu-id="2e7c8-150">saudação de conjunto de dados</span><span class="sxs-lookup"><span data-stu-id="2e7c8-150">hello dataset</span></span>

<span data-ttu-id="2e7c8-151">o módulo de saudação também tem um conjunto de dados de entrada.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-151">hello module also has an optional dataset input.</span></span> <span data-ttu-id="2e7c8-152">Conecte o conjunto de dados de saudação com dobra informações toohello obrigatório do conjunto de dados de entrada.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-152">Connect hello dataset with fold information toohello mandatory dataset input.</span></span> <span data-ttu-id="2e7c8-153">Se a saudação de conjunto de dados não está atribuído a qualquer informação de dobra, uma 10 vezes a validação cruzada é executada automaticamente por padrão.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-153">If hello dataset is not assigned any fold information, then a 10-fold cross-validation is automatically executed by default.</span></span> <span data-ttu-id="2e7c8-154">Se não for feita a atribuição de dobra hello e um conjunto de dados de validação é fornecido na porta de conjunto de dados opcional hello, em seguida, um modo de teste de treinamento é escolhido e Olá primeiro conjunto de dados é o modelo de saudação do tootrain usada para cada combinação de parâmetros.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-154">If hello fold assignment is not done and a validation dataset is provided at hello optional dataset port, then a train-test mode is chosen and hello first dataset is used tootrain hello model for each parameter combination.</span></span>

![Classificador de árvore de decisão aumentada](./media/machine-learning-algorithm-parameters-optimize/fig6a.png)

<span data-ttu-id="2e7c8-156">modelo de Hello, em seguida, é avaliado no conjunto de dados de validação de saudação.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-156">hello model is then evaluated on hello validation dataset.</span></span> <span data-ttu-id="2e7c8-157">Olá deixado porta de saída de hello módulo mostra diferentes métricas como funções de valores de parâmetro.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-157">hello left output port of hello module shows different metrics as functions of parameter values.</span></span> <span data-ttu-id="2e7c8-158">Olá correto de porta de saída fornece treinado Olá correspondente toohello modelo melhor desempenho de acordo com o toohello escolhido métrica (**precisão** nesse caso).</span><span class="sxs-lookup"><span data-stu-id="2e7c8-158">hello right output port gives hello trained model that corresponds toohello best-performing model according toohello chosen metric (**Accuracy** in this case).</span></span>  

![Conjunto de dados de validação](./media/machine-learning-algorithm-parameters-optimize/fig6b.png)

<span data-ttu-id="2e7c8-160">Você pode ver os parâmetros exatos a saudação escolhidos visualizando Olá porta de saída à direita.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-160">You can see hello exact parameters chosen by visualizing hello right output port.</span></span> <span data-ttu-id="2e7c8-161">Esse modelo pode ser usado na pontuação de um conjunto de teste ou em um serviço Web operacionalizado depois de salvá-lo como um modelo treinado.</span><span class="sxs-lookup"><span data-stu-id="2e7c8-161">This model can be used in scoring a test set or in an operationalized web service after saving as a trained model.</span></span>

<!-- Module References -->
[partition-and-sample]: https://msdn.microsoft.com/library/azure/a8726e34-1b3e-4515-b59a-3e4a475654b8/
[tune-model-hyperparameters]: https://msdn.microsoft.com/library/azure/038d91b6-c2f2-42a1-9215-1f2c20ed1b40/
