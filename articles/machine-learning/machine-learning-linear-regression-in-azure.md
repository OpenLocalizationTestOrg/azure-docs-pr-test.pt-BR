---
title: "Regressão Linear no aprendizado de máquina do aaaUsing | Microsoft Docs"
description: "Uma comparação dos modelos de regressão linear no Excel e no Azure Machine Learning Studio "
metakeywords: 
services: machine-learning
documentationcenter: 
author: garyericson
manager: jhubbard
editor: cgronlun
ms.assetid: 417ae6ab-de4f-4bdd-957a-d96133234656
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/20/2017
ms.author: kbaroni;garye
ms.openlocfilehash: 8716040ad296053a72fb06c7c9660a186123ac15
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="using-linear-regression-in-azure-machine-learning"></a><span data-ttu-id="deeb2-103">Usando regressão linear no Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="deeb2-103">Using linear regression in Azure Machine Learning</span></span>
> <span data-ttu-id="deeb2-104">*Kate Baroni* e *Ben Boatman* são arquitetos de soluções corporativas no Data Insights Center of Excellence da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="deeb2-104">*Kate Baroni* and *Ben Boatman* are enterprise solution architects in Microsoft’s Data Insights Center of Excellence.</span></span> <span data-ttu-id="deeb2-105">Neste artigo, eles descrevem sua experiência de migrar uma regressão analysis suite tooa baseado em nuvem solução existente usando o aprendizado de máquina do Azure.</span><span class="sxs-lookup"><span data-stu-id="deeb2-105">In this article, they describe their experience migrating an existing regression analysis suite tooa cloud-based solution using Azure Machine Learning.</span></span> 
> 
> 

&nbsp; 

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

## <a name="goal"></a><span data-ttu-id="deeb2-106">Objetivo</span><span class="sxs-lookup"><span data-stu-id="deeb2-106">Goal</span></span>
<span data-ttu-id="deeb2-107">Nosso projeto começou com dois objetivos:</span><span class="sxs-lookup"><span data-stu-id="deeb2-107">Our project started with two goals in mind:</span></span> 

1. <span data-ttu-id="deeb2-108">Use a precisão de saudação tooimprove análise preditiva de projeções de receita mensal da organização</span><span class="sxs-lookup"><span data-stu-id="deeb2-108">Use predictive analytics tooimprove hello accuracy of our organization’s monthly revenue projections</span></span> 
2. <span data-ttu-id="deeb2-109">Usar tooconfirm de aprendizado de máquina do Azure, otimizar, aumentar a velocidade e a escala de nossos resultados.</span><span class="sxs-lookup"><span data-stu-id="deeb2-109">Use Azure Machine Learning tooconfirm, optimize, increase velocity, and scale of our results.</span></span> 

<span data-ttu-id="deeb2-110">Como muitas empresas, nossa organização passa por uma processo de previsão de receita mensal.</span><span class="sxs-lookup"><span data-stu-id="deeb2-110">Like many businesses, our organization goes through a monthly revenue forecasting process.</span></span> <span data-ttu-id="deeb2-111">Nossa equipe de analistas de negócios de pequeno tarefa era usando o processo de saudação do aprendizado de máquina do Azure toosupport e aumentar a precisão da previsão.</span><span class="sxs-lookup"><span data-stu-id="deeb2-111">Our small team of business analysts was tasked with using Azure Machine Learning toosupport hello process and improve forecast accuracy.</span></span> <span data-ttu-id="deeb2-112">equipe de saudação gasto vários meses de coleta de dados de várias fontes e em execução atributos de saudação de dados por meio de análise estatística identificando atributos de chave previsão de vendas tooservices relevantes.</span><span class="sxs-lookup"><span data-stu-id="deeb2-112">hello team spent several months collecting data from multiple sources and running hello data attributes through statistical analysis identifying key attributes relevant tooservices sales forecasting.</span></span> <span data-ttu-id="deeb2-113">Olá próxima etapa foi toobegin protótipos estatística regressão nos dados Olá no Excel.</span><span class="sxs-lookup"><span data-stu-id="deeb2-113">hello next step was toobegin prototyping statistical regression models on hello data in Excel.</span></span> <span data-ttu-id="deeb2-114">Em algumas semanas, tivemos um modelo de regressão do Excel que foi superando campo atual hello e processos de previsão de finanças.</span><span class="sxs-lookup"><span data-stu-id="deeb2-114">Within a few weeks, we had an Excel regression model that was outperforming hello current field and finance forecasting processes.</span></span> <span data-ttu-id="deeb2-115">Isso se tornou o resultado da previsão Olá da linha de base.</span><span class="sxs-lookup"><span data-stu-id="deeb2-115">This became hello baseline prediction result.</span></span> 

<span data-ttu-id="deeb2-116">Em seguida, tivemos Olá próxima etapa toomoving nossa análise preditiva em toofind de aprendizado de máquina tooAzure out como o aprendizado de máquina podem melhorar desempenho previsível.</span><span class="sxs-lookup"><span data-stu-id="deeb2-116">We then took hello next step toomoving our predictive analytics over tooAzure Machine Learning toofind out how Machine Learning could improve on predictive performance.</span></span>

## <a name="achieving-predictive-performance-parity"></a><span data-ttu-id="deeb2-117">Obtendo a paridade de desempenho preditivo</span><span class="sxs-lookup"><span data-stu-id="deeb2-117">Achieving predictive performance parity</span></span>
<span data-ttu-id="deeb2-118">Nossa primeira prioridade foi tooachieve paridade entre os modelos de regressão de aprendizado de máquina e Excel.</span><span class="sxs-lookup"><span data-stu-id="deeb2-118">Our first priority was tooachieve parity between Machine Learning and Excel regression models.</span></span> <span data-ttu-id="deeb2-119">Considerando Olá os mesmos dados e Olá mesmo dividido para dados de teste e treinamento, queremos que a paridade de desempenho de previsão tooachieve entre o Excel e aprendizado de máquina.</span><span class="sxs-lookup"><span data-stu-id="deeb2-119">Given hello same data, and hello same split for training and testing data, we wanted tooachieve predictive performance parity between Excel and Machine Learning.</span></span> <span data-ttu-id="deeb2-120">Inicialmente, falhamos.</span><span class="sxs-lookup"><span data-stu-id="deeb2-120">Initially we failed.</span></span> <span data-ttu-id="deeb2-121">modelo de aprendizado de máquina do Olá Olá Excel superaram do modelo.</span><span class="sxs-lookup"><span data-stu-id="deeb2-121">hello Excel model outperformed hello Machine Learning model.</span></span> <span data-ttu-id="deeb2-122">Falha de saudação venceu tooa falta de compreensão de ferramenta base do hello configuração no aprendizado de máquina.</span><span class="sxs-lookup"><span data-stu-id="deeb2-122">hello failure was due tooa lack of understanding of hello base tool setting in Machine Learning.</span></span> <span data-ttu-id="deeb2-123">Após uma sincronização com a equipe de produto de aprendizado de máquina hello, obtido um melhor entendimento do hello base configuração necessária para os conjuntos de dados e obtida paridade entre dois modelos de saudação.</span><span class="sxs-lookup"><span data-stu-id="deeb2-123">After a sync with hello Machine Learning product team, we gained a better understanding of hello base setting required for our data sets, and achieved parity between hello two models.</span></span> 

### <a name="create-regression-model-in-excel"></a><span data-ttu-id="deeb2-124">Criar um modelo de regressão no Excel</span><span class="sxs-lookup"><span data-stu-id="deeb2-124">Create regression model in Excel</span></span>
<span data-ttu-id="deeb2-125">Nosso regressão do Excel usado o modelo de regressão linear padrão Olá encontrado no hello ferramentas de análise do Excel.</span><span class="sxs-lookup"><span data-stu-id="deeb2-125">Our Excel Regression used hello standard linear regression model found in hello Excel Analysis ToolPak.</span></span> 

<span data-ttu-id="deeb2-126">Calculado *% médio absoluto erro* e usado como medida de desempenho Olá para o modelo de saudação.</span><span class="sxs-lookup"><span data-stu-id="deeb2-126">We calculated *Mean Absolute % Error* and used it as hello performance measure for hello model.</span></span> <span data-ttu-id="deeb2-127">Levou tooarrive 3 meses em um modelo de trabalho usando o Excel.</span><span class="sxs-lookup"><span data-stu-id="deeb2-127">It took 3 months tooarrive at a working model using Excel.</span></span> <span data-ttu-id="deeb2-128">É colocado muito aprendizado Olá em Olá experimento estúdio de aprendizado de máquina que, por fim, foi útil em Noções básicas sobre requisitos.</span><span class="sxs-lookup"><span data-stu-id="deeb2-128">We brought much of hello learning into hello Machine Learning Studio experiment which ultimately was beneficial in understanding requirements.</span></span>

### <a name="create-comparable-experiment-in-azure-machine-learning"></a><span data-ttu-id="deeb2-129">Criar um experimento comparável no Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="deeb2-129">Create comparable experiment in Azure Machine Learning</span></span>
<span data-ttu-id="deeb2-130">Seguimos toocreate essas etapas nossa experiência no estúdio de aprendizado de máquina:</span><span class="sxs-lookup"><span data-stu-id="deeb2-130">We followed these steps toocreate our experiment in Machine Learning Studio:</span></span> 

1. <span data-ttu-id="deeb2-131">Conjunto de dados Olá carregado como um arquivo de csv tooMachine estúdio de aprendizado (arquivo muito pequeno)</span><span class="sxs-lookup"><span data-stu-id="deeb2-131">Uploaded hello dataset as a csv file tooMachine Learning Studio (very small file)</span></span>
2. <span data-ttu-id="deeb2-132">Criado um novo teste e usado Olá [selecionar colunas no conjunto de dados] [ select-columns] tooselect módulo Olá mesmos recursos de dados usados no Excel</span><span class="sxs-lookup"><span data-stu-id="deeb2-132">Created a new experiment and used hello [Select Columns in Dataset][select-columns] module tooselect hello same data features used in Excel</span></span> 
3. <span data-ttu-id="deeb2-133">Olá usado [dividir dados] [ split] módulo (com *expressão relativa* modo) dados Olá toodivide Olá mesmos conjuntos de dados de treinamento, como era feito no Excel</span><span class="sxs-lookup"><span data-stu-id="deeb2-133">Used hello [Split Data][split] module (with *Relative Expression* mode) toodivide hello data into hello same training datasets as had been done in Excel</span></span> 
4. <span data-ttu-id="deeb2-134">Experiência com hello [Regressão Linear] [ linear-regression] módulo (somente opções padrão), documentada e, em comparação com o modelo de regressão Olá resultados tooour Excel</span><span class="sxs-lookup"><span data-stu-id="deeb2-134">Experimented with hello [Linear Regression][linear-regression] module (default options only), documented, and compared hello results tooour Excel regression model</span></span>

### <a name="review-initial-results"></a><span data-ttu-id="deeb2-135">Examinar os resultados iniciais</span><span class="sxs-lookup"><span data-stu-id="deeb2-135">Review initial results</span></span>
<span data-ttu-id="deeb2-136">Primeiro, o modelo de saudação do Excel claramente superaram modelo do estúdio de aprendizado de máquina hello:</span><span class="sxs-lookup"><span data-stu-id="deeb2-136">At first, hello Excel model clearly outperformed hello Machine Learning Studio model:</span></span> 

|  | <span data-ttu-id="deeb2-137">Excel</span><span class="sxs-lookup"><span data-stu-id="deeb2-137">Excel</span></span> | <span data-ttu-id="deeb2-138">Estúdio</span><span class="sxs-lookup"><span data-stu-id="deeb2-138">Studio</span></span> |
| --- |:---:|:---:|
| <span data-ttu-id="deeb2-139">Desempenho</span><span class="sxs-lookup"><span data-stu-id="deeb2-139">Performance</span></span> | | |
| <ul style="list-style-type: none;"><li><span data-ttu-id="deeb2-140">Quadrado R Ajustado</span><span class="sxs-lookup"><span data-stu-id="deeb2-140">Adjusted R Square</span></span></li></ul> |<span data-ttu-id="deeb2-141">0,96</span><span class="sxs-lookup"><span data-stu-id="deeb2-141">0.96</span></span> |<span data-ttu-id="deeb2-142">N/D</span><span class="sxs-lookup"><span data-stu-id="deeb2-142">N/A</span></span> |
| <ul style="list-style-type: none;"><li><span data-ttu-id="deeb2-143">Coeficiente de</span><span class="sxs-lookup"><span data-stu-id="deeb2-143">Coefficient of</span></span> <br /><span data-ttu-id="deeb2-144">Determinação</span><span class="sxs-lookup"><span data-stu-id="deeb2-144">Determination</span></span></li></ul> |<span data-ttu-id="deeb2-145">N/D</span><span class="sxs-lookup"><span data-stu-id="deeb2-145">N/A</span></span> |<span data-ttu-id="deeb2-146">0,78</span><span class="sxs-lookup"><span data-stu-id="deeb2-146">0.78</span></span><br /><span data-ttu-id="deeb2-147">(baixa precisão)</span><span class="sxs-lookup"><span data-stu-id="deeb2-147">(low accuracy)</span></span> |
| <span data-ttu-id="deeb2-148">Erro Absoluto Médio</span><span class="sxs-lookup"><span data-stu-id="deeb2-148">Mean Absolute Error</span></span> |<span data-ttu-id="deeb2-149">US$ 9,5 milhões</span><span class="sxs-lookup"><span data-stu-id="deeb2-149">$9.5M</span></span> |<span data-ttu-id="deeb2-150">US$ 19,4 milhões</span><span class="sxs-lookup"><span data-stu-id="deeb2-150">$ 19.4M</span></span> |
| <span data-ttu-id="deeb2-151">Erro Absoluto Médio (%)</span><span class="sxs-lookup"><span data-stu-id="deeb2-151">Mean Absolute Error (%)</span></span> |<span data-ttu-id="deeb2-152">6,03%</span><span class="sxs-lookup"><span data-stu-id="deeb2-152">6.03%</span></span> |<span data-ttu-id="deeb2-153">12,2%</span><span class="sxs-lookup"><span data-stu-id="deeb2-153">12.2%</span></span> |

<span data-ttu-id="deeb2-154">Quando executamos nosso processo e os resultados por desenvolvedores de saudação e os cientistas de dados da equipe de aprendizado de máquina hello, elas rapidamente fornecidas algumas dicas úteis.</span><span class="sxs-lookup"><span data-stu-id="deeb2-154">When we ran our process and results by hello developers and data scientists on hello Machine Learning team, they quickly provided some useful tips.</span></span> 

* <span data-ttu-id="deeb2-155">Quando você usa Olá [Regressão Linear] [ linear-regression] módulo no estúdio de aprendizado de máquina, dois métodos são fornecidos:</span><span class="sxs-lookup"><span data-stu-id="deeb2-155">When you use hello [Linear Regression][linear-regression] module in Machine Learning Studio, two methods are provided:</span></span>
  * <span data-ttu-id="deeb2-156">Gradiente Online Descendente: talvez seja mais adequado para problemas de maior escala</span><span class="sxs-lookup"><span data-stu-id="deeb2-156">Online Gradient Descent: May be more suitable for larger-scale problems</span></span>
  * <span data-ttu-id="deeb2-157">Quadrados mínimos: Este é o método hello a maioria das pessoas pensam ao ouvirão regressão linear.</span><span class="sxs-lookup"><span data-stu-id="deeb2-157">Ordinary Least Squares: This is hello method most people think of when they hear linear regression.</span></span> <span data-ttu-id="deeb2-158">Para conjuntos de dados pequenos, Mínimos Quadrados Comuns pode ser uma opção melhor.</span><span class="sxs-lookup"><span data-stu-id="deeb2-158">For small datasets, Ordinary Least Squares can be a more optimal choice.</span></span>
* <span data-ttu-id="deeb2-159">Considere ajustar o desempenho de tooimprove de parâmetro hello peso de Regularização L2.</span><span class="sxs-lookup"><span data-stu-id="deeb2-159">Consider tweaking hello L2 Regularization Weight parameter tooimprove performance.</span></span> <span data-ttu-id="deeb2-160">Too0.001 é definido por padrão, mas para nosso conjunto de dados pequeno, configurá-lo too0.005 tooimprove desempenho.</span><span class="sxs-lookup"><span data-stu-id="deeb2-160">It is set too0.001 by default, but for our small data set we set it too0.005 tooimprove performance.</span></span> 

### <a name="mystery-solved"></a><span data-ttu-id="deeb2-161">Mistério resolvido!</span><span class="sxs-lookup"><span data-stu-id="deeb2-161">Mystery solved!</span></span>
<span data-ttu-id="deeb2-162">Quando aplicamos recomendações Olá, é obtida Olá mesmo desempenho de linha de base no estúdio de aprendizado de máquina, com o Excel:</span><span class="sxs-lookup"><span data-stu-id="deeb2-162">When we applied hello recommendations, we achieved hello same baseline performance in Machine Learning Studio as with Excel:</span></span> 

|  | <span data-ttu-id="deeb2-163">Excel</span><span class="sxs-lookup"><span data-stu-id="deeb2-163">Excel</span></span> | <span data-ttu-id="deeb2-164">Estúdio (inicial)</span><span class="sxs-lookup"><span data-stu-id="deeb2-164">Studio (Initial)</span></span> | <span data-ttu-id="deeb2-165">Estúdio c/ quadrados mínimos</span><span class="sxs-lookup"><span data-stu-id="deeb2-165">Studio w/ Least Squares</span></span> |
| --- |:---:|:---:|:---:|
| <span data-ttu-id="deeb2-166">Valor rotulado</span><span class="sxs-lookup"><span data-stu-id="deeb2-166">Labeled value</span></span> |<span data-ttu-id="deeb2-167">Dados reais (numéricos)</span><span class="sxs-lookup"><span data-stu-id="deeb2-167">Actuals (numeric)</span></span> |<span data-ttu-id="deeb2-168">mesmo</span><span class="sxs-lookup"><span data-stu-id="deeb2-168">same</span></span> |<span data-ttu-id="deeb2-169">mesmo</span><span class="sxs-lookup"><span data-stu-id="deeb2-169">same</span></span> |
| <span data-ttu-id="deeb2-170">Aprendiz</span><span class="sxs-lookup"><span data-stu-id="deeb2-170">Learner</span></span> |<span data-ttu-id="deeb2-171">Excel -> Dados da Análise -> Regressão</span><span class="sxs-lookup"><span data-stu-id="deeb2-171">Excel -> Data Analysis -> Regression</span></span> |<span data-ttu-id="deeb2-172">Regressão Linear.</span><span class="sxs-lookup"><span data-stu-id="deeb2-172">Linear Regression.</span></span> |<span data-ttu-id="deeb2-173">Regressão Linear</span><span class="sxs-lookup"><span data-stu-id="deeb2-173">Linear Regression</span></span> |
| <span data-ttu-id="deeb2-174">Opções de aprendiz</span><span class="sxs-lookup"><span data-stu-id="deeb2-174">Learner options</span></span> |<span data-ttu-id="deeb2-175">N/D</span><span class="sxs-lookup"><span data-stu-id="deeb2-175">N/A</span></span> |<span data-ttu-id="deeb2-176">Padrões</span><span class="sxs-lookup"><span data-stu-id="deeb2-176">Defaults</span></span> |<span data-ttu-id="deeb2-177">quadrados mínimos comuns</span><span class="sxs-lookup"><span data-stu-id="deeb2-177">ordinary least squares</span></span><br /><span data-ttu-id="deeb2-178">L2 = 0,005</span><span class="sxs-lookup"><span data-stu-id="deeb2-178">L2 = 0.005</span></span> |
| <span data-ttu-id="deeb2-179">Conjunto de dados</span><span class="sxs-lookup"><span data-stu-id="deeb2-179">Data Set</span></span> |<span data-ttu-id="deeb2-180">26 linhas, 3 recursos, 1 rótulo.</span><span class="sxs-lookup"><span data-stu-id="deeb2-180">26 rows, 3 features, 1 label.</span></span> <span data-ttu-id="deeb2-181">Todos numéricos.</span><span class="sxs-lookup"><span data-stu-id="deeb2-181">All numeric.</span></span> |<span data-ttu-id="deeb2-182">mesmo</span><span class="sxs-lookup"><span data-stu-id="deeb2-182">same</span></span> |<span data-ttu-id="deeb2-183">mesmo</span><span class="sxs-lookup"><span data-stu-id="deeb2-183">same</span></span> |
| <span data-ttu-id="deeb2-184">Divisão: treinamento</span><span class="sxs-lookup"><span data-stu-id="deeb2-184">Split: Train</span></span> |<span data-ttu-id="deeb2-185">Excel treinado em Olá primeiro 18 linhas, testado Olá última 8 linhas.</span><span class="sxs-lookup"><span data-stu-id="deeb2-185">Excel trained on hello first 18 rows, tested on hello last 8 rows.</span></span> |<span data-ttu-id="deeb2-186">mesmo</span><span class="sxs-lookup"><span data-stu-id="deeb2-186">same</span></span> |<span data-ttu-id="deeb2-187">mesmo</span><span class="sxs-lookup"><span data-stu-id="deeb2-187">same</span></span> |
| <span data-ttu-id="deeb2-188">Divisão: teste</span><span class="sxs-lookup"><span data-stu-id="deeb2-188">Split: Test</span></span> |<span data-ttu-id="deeb2-189">Fórmula de regressão aplicada do Excel toohello última 8 linhas</span><span class="sxs-lookup"><span data-stu-id="deeb2-189">Excel regression formula applied toohello last 8 rows</span></span> |<span data-ttu-id="deeb2-190">mesmo</span><span class="sxs-lookup"><span data-stu-id="deeb2-190">same</span></span> |<span data-ttu-id="deeb2-191">mesmo</span><span class="sxs-lookup"><span data-stu-id="deeb2-191">same</span></span> |
| <span data-ttu-id="deeb2-192">**Desempenho**</span><span class="sxs-lookup"><span data-stu-id="deeb2-192">**Performance**</span></span> | | | |
| <span data-ttu-id="deeb2-193">Quadrado R Ajustado</span><span class="sxs-lookup"><span data-stu-id="deeb2-193">Adjusted R Square</span></span> |<span data-ttu-id="deeb2-194">0,96</span><span class="sxs-lookup"><span data-stu-id="deeb2-194">0.96</span></span> |<span data-ttu-id="deeb2-195">N/D</span><span class="sxs-lookup"><span data-stu-id="deeb2-195">N/A</span></span> | |
| <span data-ttu-id="deeb2-196">Coeficiente de Determinação</span><span class="sxs-lookup"><span data-stu-id="deeb2-196">Coefficient of Determination</span></span> |<span data-ttu-id="deeb2-197">N/D</span><span class="sxs-lookup"><span data-stu-id="deeb2-197">N/A</span></span> |<span data-ttu-id="deeb2-198">0,78</span><span class="sxs-lookup"><span data-stu-id="deeb2-198">0.78</span></span> |<span data-ttu-id="deeb2-199">0,952049</span><span class="sxs-lookup"><span data-stu-id="deeb2-199">0.952049</span></span> |
| <span data-ttu-id="deeb2-200">Erro Absoluto Médio</span><span class="sxs-lookup"><span data-stu-id="deeb2-200">Mean Absolute Error</span></span> |<span data-ttu-id="deeb2-201">US$ 9,5 milhões</span><span class="sxs-lookup"><span data-stu-id="deeb2-201">$9.5M</span></span> |<span data-ttu-id="deeb2-202">US$ 19,4 milhões</span><span class="sxs-lookup"><span data-stu-id="deeb2-202">$ 19.4M</span></span> |<span data-ttu-id="deeb2-203">US$ 9,5 milhões</span><span class="sxs-lookup"><span data-stu-id="deeb2-203">$9.5M</span></span> |
| <span data-ttu-id="deeb2-204">Erro Absoluto Médio (%)</span><span class="sxs-lookup"><span data-stu-id="deeb2-204">Mean Absolute Error (%)</span></span> |<span data-ttu-id="deeb2-205"><span style="background-color: 00FF00;"> 6,03%</span></span><span class="sxs-lookup"><span data-stu-id="deeb2-205"><span style="background-color: 00FF00;"> 6.03%</span></span></span> |<span data-ttu-id="deeb2-206">12,2%</span><span class="sxs-lookup"><span data-stu-id="deeb2-206">12.2%</span></span> |<span data-ttu-id="deeb2-207"><span style="background-color: 00FF00;"> 6,03%</span></span><span class="sxs-lookup"><span data-stu-id="deeb2-207"><span style="background-color: 00FF00;"> 6.03%</span></span></span> |

<span data-ttu-id="deeb2-208">Além disso, coeficientes de Excel Olá com bem toohello pesos de recurso no hello treinado do Azure:</span><span class="sxs-lookup"><span data-stu-id="deeb2-208">In addition, hello Excel coefficients compared well toohello feature weights in hello Azure trained model:</span></span>

|  | <span data-ttu-id="deeb2-209">Coeficientes do Excel</span><span class="sxs-lookup"><span data-stu-id="deeb2-209">Excel Coefficients</span></span> | <span data-ttu-id="deeb2-210">Pesos de recursos do Azure</span><span class="sxs-lookup"><span data-stu-id="deeb2-210">Azure Feature Weights</span></span> |
| --- |:---:|:---:|
| <span data-ttu-id="deeb2-211">Interceptação/desvio</span><span class="sxs-lookup"><span data-stu-id="deeb2-211">Intercept/Bias</span></span> |<span data-ttu-id="deeb2-212">19470209,88</span><span class="sxs-lookup"><span data-stu-id="deeb2-212">19470209.88</span></span> |<span data-ttu-id="deeb2-213">19328500</span><span class="sxs-lookup"><span data-stu-id="deeb2-213">19328500</span></span> |
| <span data-ttu-id="deeb2-214">Recurso A</span><span class="sxs-lookup"><span data-stu-id="deeb2-214">Feature A</span></span> |<span data-ttu-id="deeb2-215">0,832653063</span><span class="sxs-lookup"><span data-stu-id="deeb2-215">0.832653063</span></span> |<span data-ttu-id="deeb2-216">0,834156</span><span class="sxs-lookup"><span data-stu-id="deeb2-216">0.834156</span></span> |
| <span data-ttu-id="deeb2-217">Recurso B</span><span class="sxs-lookup"><span data-stu-id="deeb2-217">Feature B</span></span> |<span data-ttu-id="deeb2-218">11071967,08</span><span class="sxs-lookup"><span data-stu-id="deeb2-218">11071967.08</span></span> |<span data-ttu-id="deeb2-219">11007300</span><span class="sxs-lookup"><span data-stu-id="deeb2-219">11007300</span></span> |
| <span data-ttu-id="deeb2-220">Recurso C</span><span class="sxs-lookup"><span data-stu-id="deeb2-220">Feature C</span></span> |<span data-ttu-id="deeb2-221">25383318,09</span><span class="sxs-lookup"><span data-stu-id="deeb2-221">25383318.09</span></span> |<span data-ttu-id="deeb2-222">25140800</span><span class="sxs-lookup"><span data-stu-id="deeb2-222">25140800</span></span> |

## <a name="next-steps"></a><span data-ttu-id="deeb2-223">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="deeb2-223">Next Steps</span></span>
<span data-ttu-id="deeb2-224">Queremos que o serviço de web de aprendizado de máquina tooconsume hello dentro do Excel.</span><span class="sxs-lookup"><span data-stu-id="deeb2-224">We wanted tooconsume hello Machine Learning web service within Excel.</span></span> <span data-ttu-id="deeb2-225">Os analistas de negócios contam com Excel e é necessária uma saudação toocall de maneira aprendizado de máquina web serviço com uma linha de dados do Excel e a retornar Olá previsto tooExcel de valor.</span><span class="sxs-lookup"><span data-stu-id="deeb2-225">Our business analysts rely on Excel and we needed a way toocall hello Machine Learning web service with a row of Excel data and have it return hello predicted value tooExcel.</span></span> 

<span data-ttu-id="deeb2-226">Também queremos toooptimize nosso modelo, usando as opções de saudação e os algoritmos disponíveis no estúdio de aprendizado de máquina.</span><span class="sxs-lookup"><span data-stu-id="deeb2-226">We also wanted toooptimize our model, using hello options and algorithms available in Machine Learning Studio.</span></span>

### <a name="integration-with-excel"></a><span data-ttu-id="deeb2-227">Integração com o Excel</span><span class="sxs-lookup"><span data-stu-id="deeb2-227">Integration with Excel</span></span>
<span data-ttu-id="deeb2-228">Nossa solução foi toooperationalize nosso regressão de aprendizado de máquina de modelo ao criar um serviço web de modelo treinado hello.</span><span class="sxs-lookup"><span data-stu-id="deeb2-228">Our solution was toooperationalize our Machine Learning regression model by creating a web service from hello trained model.</span></span> <span data-ttu-id="deeb2-229">Em alguns minutos, Olá web serviço foi criado e chamamos-lo diretamente do Excel tooreturn um valor previsto de receita.</span><span class="sxs-lookup"><span data-stu-id="deeb2-229">Within a few minutes, hello web service was created and we could call it directly from Excel tooreturn a predicted revenue value.</span></span> 

<span data-ttu-id="deeb2-230">Olá *painel de serviços Web* seção inclui uma pasta de trabalho do Excel para download.</span><span class="sxs-lookup"><span data-stu-id="deeb2-230">hello *Web Services Dashboard* section includes a downloadable Excel workbook.</span></span> <span data-ttu-id="deeb2-231">pasta de trabalho Olá acompanha pré-formatada Olá API e esquema de informações do serviço web inseridas.</span><span class="sxs-lookup"><span data-stu-id="deeb2-231">hello workbook comes pre-formatted with hello web service API and schema information embedded.</span></span> <span data-ttu-id="deeb2-232">Quando você clica em *baixar pasta de trabalho do Excel*, pasta de trabalho Olá abre e salve-o computador local tooyour.</span><span class="sxs-lookup"><span data-stu-id="deeb2-232">When you click *Download Excel Workbook*, hello workbook opens and you can save it tooyour local computer.</span></span> 

![][1]

<span data-ttu-id="deeb2-233">Com abrir da pasta de trabalho hello, copie os parâmetros predefinidos na seção de parâmetro hello azul conforme mostrado abaixo.</span><span class="sxs-lookup"><span data-stu-id="deeb2-233">With hello workbook open, copy your predefined parameters into hello blue Parameter section as shown below.</span></span> <span data-ttu-id="deeb2-234">Depois de saudação parâmetros forem inseridos, Excel chama toohello serviço web de aprendizado de máquina e hello classificado de rótulos previstos serão exibidas na seção de valores previstos Olá verde.</span><span class="sxs-lookup"><span data-stu-id="deeb2-234">Once hello parameters are entered, Excel calls out toohello Machine Learning web service and hello predicted scored labels will display in hello green Predicted Values section.</span></span> <span data-ttu-id="deeb2-235">pasta de trabalho Olá continuará toocreate previsões para parâmetros com base em seu modelo treinado para todos os itens de linha inserida em parâmetros.</span><span class="sxs-lookup"><span data-stu-id="deeb2-235">hello workbook will continue toocreate predictions for parameters based on your trained model for all row items entered under Parameters.</span></span> <span data-ttu-id="deeb2-236">Para obter mais informações sobre como toouse esse recurso, consulte [consumir um serviço de Web de aprendizado de máquina do Azure do Excel](machine-learning-consuming-from-excel.md).</span><span class="sxs-lookup"><span data-stu-id="deeb2-236">For more information on how toouse this feature, see [Consuming an Azure Machine Learning Web Service from Excel](machine-learning-consuming-from-excel.md).</span></span> 

![][2]

### <a name="optimization-and-further-experiments"></a><span data-ttu-id="deeb2-237">Otimização e experimentos adicionais</span><span class="sxs-lookup"><span data-stu-id="deeb2-237">Optimization and further experiments</span></span>
<span data-ttu-id="deeb2-238">Agora que tivemos que uma linha de base com nosso modelo do Excel, mudamos toooptimize ahead nosso modelo Regressão Linear de aprendizado de máquina.</span><span class="sxs-lookup"><span data-stu-id="deeb2-238">Now that we had a baseline with our Excel model, we moved ahead toooptimize our Machine Learning Linear Regression Model.</span></span> <span data-ttu-id="deeb2-239">Usamos o módulo Olá [seleção de recursos baseada em filtro] [ filter-based-feature-selection] tooimprove em nossa seleção de elementos de dados inicial e nos ajudou a obter uma melhoria de desempenho de 4.6% significa erro absoluto.</span><span class="sxs-lookup"><span data-stu-id="deeb2-239">We used hello module [Filter-Based Feature Selection][filter-based-feature-selection] tooimprove on our selection of initial data elements and it helped us achieve a performance improvement of 4.6% Mean Absolute Error.</span></span> <span data-ttu-id="deeb2-240">Para projetos futuros usaremos esse recurso que foi possível salvar nos semanas na iteração por meio de atributos toofind Olá certo conjunto de dados de toouse de recursos de modelagem.</span><span class="sxs-lookup"><span data-stu-id="deeb2-240">For future projects we will use this feature which could save us weeks in iterating through data attributes toofind hello right set of features toouse for modelling.</span></span> 

<span data-ttu-id="deeb2-241">Em seguida, estamos planejando tooinclude de algoritmos adicionais como [Bayesiana] [ bayesian-linear-regression] ou [árvores de decisão impulsionada] [ boosted-decision-tree-regression] em nossa experiência toocompare desempenho.</span><span class="sxs-lookup"><span data-stu-id="deeb2-241">Next we plan tooinclude additional algorithms like [Bayesian][bayesian-linear-regression] or [Boosted Decision Trees][boosted-decision-tree-regression] in our experiment toocompare performance.</span></span> 

<span data-ttu-id="deeb2-242">Se você quiser tooexperiment com regressão, tootry um bom conjunto de dados é dataset de exemplo de regressão de eficiência de energia hello, que tem muitos atributos numéricos.</span><span class="sxs-lookup"><span data-stu-id="deeb2-242">If you want tooexperiment with regression, a good dataset tootry is hello Energy Efficiency Regression sample dataset, which has lots of numerical attributes.</span></span> <span data-ttu-id="deeb2-243">saudação de conjunto de dados é fornecido como parte dos conjuntos de dados de exemplo de hello no estúdio de aprendizado de máquina.</span><span class="sxs-lookup"><span data-stu-id="deeb2-243">hello dataset is provided as part of hello sample datasets in Machine Learning Studio.</span></span> <span data-ttu-id="deeb2-244">Você pode usar uma variedade de aprendizado módulos toopredict carga aquecimento ou resfriamento de carga.</span><span class="sxs-lookup"><span data-stu-id="deeb2-244">You can use a variety of learning modules toopredict either Heating Load or Cooling Load.</span></span> <span data-ttu-id="deeb2-245">gráfico de saudação abaixo é que uma comparação de desempenho de regressão diferente aprende contra Olá eficiência de energia dataset prevendo Olá carga resfriamento variável de destino:</span><span class="sxs-lookup"><span data-stu-id="deeb2-245">hello chart below is a performance comparison of different regression learns against hello Energy Efficiency dataset predicting for hello target variable Cooling Load:</span></span> 

| <span data-ttu-id="deeb2-246">Modelo</span><span class="sxs-lookup"><span data-stu-id="deeb2-246">Model</span></span> | <span data-ttu-id="deeb2-247">Erro Absoluto Médio</span><span class="sxs-lookup"><span data-stu-id="deeb2-247">Mean Absolute Error</span></span> | <span data-ttu-id="deeb2-248">Erro Quadrado Médio de Raiz</span><span class="sxs-lookup"><span data-stu-id="deeb2-248">Root Mean Squared Error</span></span> | <span data-ttu-id="deeb2-249">Erro Absoluto Relativo</span><span class="sxs-lookup"><span data-stu-id="deeb2-249">Relative Absolute Error</span></span> | <span data-ttu-id="deeb2-250">Erro Quadrado Relativo</span><span class="sxs-lookup"><span data-stu-id="deeb2-250">Relative Squared Error</span></span> | <span data-ttu-id="deeb2-251">Coeficiente de Determinação</span><span class="sxs-lookup"><span data-stu-id="deeb2-251">Coefficient of Determination</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="deeb2-252">Árvore de Decisão Aumentada</span><span class="sxs-lookup"><span data-stu-id="deeb2-252">Boosted Decision Tree</span></span> |<span data-ttu-id="deeb2-253">0,930113</span><span class="sxs-lookup"><span data-stu-id="deeb2-253">0.930113</span></span> |<span data-ttu-id="deeb2-254">1,4239</span><span class="sxs-lookup"><span data-stu-id="deeb2-254">1.4239</span></span> |<span data-ttu-id="deeb2-255">0,106647</span><span class="sxs-lookup"><span data-stu-id="deeb2-255">0.106647</span></span> |<span data-ttu-id="deeb2-256">0,021662</span><span class="sxs-lookup"><span data-stu-id="deeb2-256">0.021662</span></span> |<span data-ttu-id="deeb2-257">0,978338</span><span class="sxs-lookup"><span data-stu-id="deeb2-257">0.978338</span></span> |
| <span data-ttu-id="deeb2-258">Regressão Linear (Gradiente Descendente)</span><span class="sxs-lookup"><span data-stu-id="deeb2-258">Linear Regression (Gradient Descent)</span></span> |<span data-ttu-id="deeb2-259">2,035693</span><span class="sxs-lookup"><span data-stu-id="deeb2-259">2.035693</span></span> |<span data-ttu-id="deeb2-260">2,98006</span><span class="sxs-lookup"><span data-stu-id="deeb2-260">2.98006</span></span> |<span data-ttu-id="deeb2-261">0,233414</span><span class="sxs-lookup"><span data-stu-id="deeb2-261">0.233414</span></span> |<span data-ttu-id="deeb2-262">0,094881</span><span class="sxs-lookup"><span data-stu-id="deeb2-262">0.094881</span></span> |<span data-ttu-id="deeb2-263">0,905119</span><span class="sxs-lookup"><span data-stu-id="deeb2-263">0.905119</span></span> |
| <span data-ttu-id="deeb2-264">Regressão de Rede Neural</span><span class="sxs-lookup"><span data-stu-id="deeb2-264">Neural Network Regression</span></span> |<span data-ttu-id="deeb2-265">1,548195</span><span class="sxs-lookup"><span data-stu-id="deeb2-265">1.548195</span></span> |<span data-ttu-id="deeb2-266">2,114617</span><span class="sxs-lookup"><span data-stu-id="deeb2-266">2.114617</span></span> |<span data-ttu-id="deeb2-267">0,177517</span><span class="sxs-lookup"><span data-stu-id="deeb2-267">0.177517</span></span> |<span data-ttu-id="deeb2-268">0,047774</span><span class="sxs-lookup"><span data-stu-id="deeb2-268">0.047774</span></span> |<span data-ttu-id="deeb2-269">0,952226</span><span class="sxs-lookup"><span data-stu-id="deeb2-269">0.952226</span></span> |
| <span data-ttu-id="deeb2-270">Regressão Linear (Quadrados Mínimos Comuns)</span><span class="sxs-lookup"><span data-stu-id="deeb2-270">Linear Regression (Ordinary Least Squares)</span></span> |<span data-ttu-id="deeb2-271">1,428273</span><span class="sxs-lookup"><span data-stu-id="deeb2-271">1.428273</span></span> |<span data-ttu-id="deeb2-272">1,984461</span><span class="sxs-lookup"><span data-stu-id="deeb2-272">1.984461</span></span> |<span data-ttu-id="deeb2-273">0,163767</span><span class="sxs-lookup"><span data-stu-id="deeb2-273">0.163767</span></span> |<span data-ttu-id="deeb2-274">0,042074</span><span class="sxs-lookup"><span data-stu-id="deeb2-274">0.042074</span></span> |<span data-ttu-id="deeb2-275">0,957926</span><span class="sxs-lookup"><span data-stu-id="deeb2-275">0.957926</span></span> |

## <a name="key-takeaways"></a><span data-ttu-id="deeb2-276">Principais observações</span><span class="sxs-lookup"><span data-stu-id="deeb2-276">Key Takeaways</span></span>
<span data-ttu-id="deeb2-277">Aprendemos muito executando os experimentos de regressão do Excel e do Azure Machine Learning em paralelo.</span><span class="sxs-lookup"><span data-stu-id="deeb2-277">We learned a lot by from running Excel regression and Azure Machine Learning experiments in parallel.</span></span> <span data-ttu-id="deeb2-278">Criar modelo de linha de base de saudação no Excel e compará-lo usando o aprendizado de máquina de toomodels [Regressão Linear] [ linear-regression] ajudou nos saber o aprendizado de máquina do Azure e descobrimos que os dados de tooimprove de oportunidades desempenho de seleção e o modelo.</span><span class="sxs-lookup"><span data-stu-id="deeb2-278">Creating hello baseline model in Excel and comparing it toomodels using Machine Learning [Linear Regression][linear-regression] helped us learn Azure Machine Learning, and we discovered opportunities tooimprove data selection and model performance.</span></span> 

<span data-ttu-id="deeb2-279">Também descobrimos que ele é aconselhável toouse [seleção de recursos baseada em filtro] [ filter-based-feature-selection] tooaccelerate projetos de previsão futuros.</span><span class="sxs-lookup"><span data-stu-id="deeb2-279">We also found that it is advisable toouse [Filter-Based Feature Selection][filter-based-feature-selection] tooaccelerate future prediction projects.</span></span> <span data-ttu-id="deeb2-280">Aplicando tooyour dados da seleção de recurso, você pode criar um modelo aprimorado no aprendizado de máquina com melhor desempenho geral.</span><span class="sxs-lookup"><span data-stu-id="deeb2-280">By applying feature selection tooyour data, you can create an improved model in Machine Learning with better overall performance.</span></span> 

<span data-ttu-id="deeb2-281">Olá tootransfer de capacidade de saudação previsão analítica de previsão de aprendizado de máquina tooExcel sistemático permite que um aumento significativo no hello capacidade toosuccessfully fornecer resultados público amplo business tooa.</span><span class="sxs-lookup"><span data-stu-id="deeb2-281">hello ability tootransfer hello predictive analytic forecasting from Machine Learning tooExcel systemically allows a significant increase in hello ability toosuccessfully provide results tooa broad business user audience.</span></span> 

## <a name="resources"></a><span data-ttu-id="deeb2-282">Recursos</span><span class="sxs-lookup"><span data-stu-id="deeb2-282">Resources</span></span>
<span data-ttu-id="deeb2-283">Estes são alguns recursos que ajudam a trabalhar com a regressão:</span><span class="sxs-lookup"><span data-stu-id="deeb2-283">Here are some resources for helping you work with regression:</span></span> 

* <span data-ttu-id="deeb2-284">Regressão no Excel.</span><span class="sxs-lookup"><span data-stu-id="deeb2-284">Regression in Excel.</span></span> <span data-ttu-id="deeb2-285">Se você nunca experimentou a regressão no Excel, este tutorial facilita tudo: [http://www.excel-easy.com/examples/regression.html](http://www.excel-easy.com/examples/regression.html)</span><span class="sxs-lookup"><span data-stu-id="deeb2-285">If you’ve never tried regression in Excel, this tutorial makes it easy: [http://www.excel-easy.com/examples/regression.html](http://www.excel-easy.com/examples/regression.html)</span></span>
* <span data-ttu-id="deeb2-286">Regressão versus previsão.</span><span class="sxs-lookup"><span data-stu-id="deeb2-286">Regression vs forecasting.</span></span> <span data-ttu-id="deeb2-287">Tyler Chessman escreveu um artigo de blog explicando como toodo previsão de série temporal no Excel, que contém a descrição de um bom para iniciantes de regressão linear.</span><span class="sxs-lookup"><span data-stu-id="deeb2-287">Tyler Chessman wrote a blog article explaining how toodo time series forecasting in Excel, which contains a good beginner’s description of linear regression.</span></span> [<span data-ttu-id="deeb2-288">http://sqlmag.com/sql-server-analysis-services/understanding-time-series-forecasting-concepts</span><span class="sxs-lookup"><span data-stu-id="deeb2-288">http://sqlmag.com/sql-server-analysis-services/understanding-time-series-forecasting-concepts</span></span>](http://sqlmag.com/sql-server-analysis-services/understanding-time-series-forecasting-concepts) 
* <span data-ttu-id="deeb2-289">Regressão linear de quadrados mínimos simples: falhas, problemas e armadilhas.</span><span class="sxs-lookup"><span data-stu-id="deeb2-289">Ordinary Least Squares Linear Regression: Flaws, Problems and Pitfalls.</span></span> <span data-ttu-id="deeb2-290">Para obter uma introdução e uma discussão sobre regressão: [http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/ ](http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/)</span><span class="sxs-lookup"><span data-stu-id="deeb2-290">For an introduction and discussion of Regression: [http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/ ](http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/)</span></span>

[1]: ./media/machine-learning-linear-regression-in-azure/machine-learning-linear-regression-in-azure-1.png
[2]: ./media/machine-learning-linear-regression-in-azure/machine-learning-linear-regression-in-azure-2.png


<!-- Module References -->
[bayesian-linear-regression]: https://msdn.microsoft.com/library/azure/ee12de50-2b34-4145-aec0-23e0485da308/
[boosted-decision-tree-regression]: https://msdn.microsoft.com/library/azure/0207d252-6c41-4c77-84c3-73bdf1ac5960/
[filter-based-feature-selection]: https://msdn.microsoft.com/library/azure/918b356b-045c-412b-aa12-94a1d2dad90f/
[linear-regression]: https://msdn.microsoft.com/library/azure/31960a6f-789b-4cf7-88d6-2e1152c0bd1a/
[select-columns]: https://msdn.microsoft.com/library/azure/1ec722fa-b623-4e26-a44e-a50c6d726223/
[split]: https://msdn.microsoft.com/library/azure/70530644-c97a-4ab6-85f7-88bf30a8be5f/

