---
title: "Introdução aos microsserviços no Azure | Microsoft Docs"
description: "Uma visão geral sobre por que criar aplicativos de nuvem com uma abordagem de microsserviços é importante para o desenvolvimento moderno de aplicativos e como o Azure Service Fabric oferece uma plataforma para conseguir isso."
services: service-fabric
documentationcenter: .net
author: msfussell
manager: timlt
editor: 
ms.assetid: fae2be85-0ab4-4cd3-9d1f-e0d95fe1959b
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 07/02/2017
ms.author: msfussell
ms.openlocfilehash: 53c142217c67465d29fa413f4edb4f96fcb4c6cc
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/03/2017
---
# <a name="why-a-microservices-approach-to-building-applications"></a><span data-ttu-id="c9112-103">Por que usar uma abordagem de microsserviço para construir aplicativos?</span><span class="sxs-lookup"><span data-stu-id="c9112-103">Why a microservices approach to building applications?</span></span>
<span data-ttu-id="c9112-104">Para nós, desenvolvedores de software, não há qualquer novidade no modo como pensamos sobre a decomposição de um aplicativo em partes componentes.</span><span class="sxs-lookup"><span data-stu-id="c9112-104">As software developers, there is nothing new in how we think about factoring an application into component parts.</span></span> <span data-ttu-id="c9112-105">É o paradigma central da orientação de objetos, das abstrações de software e da “componentização”.</span><span class="sxs-lookup"><span data-stu-id="c9112-105">It is the central paradigm of object orientation, software abstractions, and componentization.</span></span> <span data-ttu-id="c9112-106">Atualmente, essa fatoração tende a assumir a forma de classes e interfaces entre as camadas de tecnologia e as bibliotecas compartilhadas.</span><span class="sxs-lookup"><span data-stu-id="c9112-106">Today, this factorization tends to take the form of classes and interfaces between shared libraries and technology layers.</span></span> <span data-ttu-id="c9112-107">Em geral, uma abordagem em camadas é adotada com um repositório de back-end, lógica de negócios de camada intermediária e uma IU (interface do usuário) de front-end.</span><span class="sxs-lookup"><span data-stu-id="c9112-107">Typically, a tiered approach is taken with a back-end store, middle-tier business logic, and a front-end user interface (UI).</span></span> <span data-ttu-id="c9112-108">O que *mudou* nos últimos anos é que nós, como desenvolvedores, estamos compilando aplicativos distribuídos para a nuvem orientados pelos negócios.</span><span class="sxs-lookup"><span data-stu-id="c9112-108">What *has* changed over the last few years is that we, as developers, are building distributed applications that are for the cloud and driven by the business.</span></span>

<span data-ttu-id="c9112-109">Entre as necessidades variáveis dos negócios estão:</span><span class="sxs-lookup"><span data-stu-id="c9112-109">The changing business needs are:</span></span>

* <span data-ttu-id="c9112-110">Um serviço que é compilado e opera em escala para atingir clientes em novas regiões geográficas (por exemplo).</span><span class="sxs-lookup"><span data-stu-id="c9112-110">A service that's built and operates at scale to reach customers in new geographical regions (for example).</span></span>
* <span data-ttu-id="c9112-111">Entrega mais ágil de recursos a fim de conseguir responder rapidamente às demandas dos clientes.</span><span class="sxs-lookup"><span data-stu-id="c9112-111">Faster delivery of features and capabilities to be able to respond to customer demands in an agile way.</span></span>
* <span data-ttu-id="c9112-112">Melhor utilização de recursos para reduzir os custos.</span><span class="sxs-lookup"><span data-stu-id="c9112-112">Improved resource utilization to reduce costs.</span></span>

<span data-ttu-id="c9112-113">Essas necessidades comerciais estão afetando o *modo* como criamos os aplicativos.</span><span class="sxs-lookup"><span data-stu-id="c9112-113">These business needs are affecting *how* we build applications.</span></span>

<span data-ttu-id="c9112-114">Para saber mais sobre a abordagem do Azure aos microsserviços, leia [Microservices: An application revolution powered by the cloud](https://azure.microsoft.com/blog/microservices-an-application-revolution-powered-by-the-cloud/) (Microsserviços: uma revolução de aplicativo proporcionada pela nuvem).</span><span class="sxs-lookup"><span data-stu-id="c9112-114">For more information about the approach of Azure to microservices, read [Microservices: An application revolution powered by the cloud](https://azure.microsoft.com/blog/microservices-an-application-revolution-powered-by-the-cloud/).</span></span>

## <a name="monolithic-vs-microservice-design-approach"></a><span data-ttu-id="c9112-115">Abordagem de design monolítico versus microsserviços</span><span class="sxs-lookup"><span data-stu-id="c9112-115">Monolithic vs. microservice design approach</span></span>
<span data-ttu-id="c9112-116">Todos os aplicativos evoluem ao longo do tempo.</span><span class="sxs-lookup"><span data-stu-id="c9112-116">All applications evolve over time.</span></span> <span data-ttu-id="c9112-117">Os aplicativos bem-sucedidos evoluem sendo úteis às pessoas.</span><span class="sxs-lookup"><span data-stu-id="c9112-117">Successful applications evolve by being useful to people.</span></span> <span data-ttu-id="c9112-118">Aplicativos sem sucesso não evoluem e eventualmente tornam-se obsoletos.</span><span class="sxs-lookup"><span data-stu-id="c9112-118">Unsuccessful applications do not evolve and eventually are deprecated.</span></span> <span data-ttu-id="c9112-119">A pergunta é: quanto você sabe sobre os requisitos de hoje e quais haverá no futuro?</span><span class="sxs-lookup"><span data-stu-id="c9112-119">The question becomes: How much do you know about your requirements today, and what will they be in the future?</span></span> <span data-ttu-id="c9112-120">Por exemplo, digamos que você esteja criando um aplicativo de relatório para um departamento.</span><span class="sxs-lookup"><span data-stu-id="c9112-120">For example, let's say that you are building a reporting application for a department.</span></span> <span data-ttu-id="c9112-121">Você tem certeza que o aplicativo permanece dentro do escopo de sua empresa e que os relatórios são de curta duração.</span><span class="sxs-lookup"><span data-stu-id="c9112-121">You are sure that the application remains within the scope of your company and that the reports are short-lived.</span></span> <span data-ttu-id="c9112-122">Sua escolha de abordagem é diferente de, digamos, criar um serviço de entrega de conteúdo de vídeo a dezenas de milhões de clientes.</span><span class="sxs-lookup"><span data-stu-id="c9112-122">Your choice of approach is different from, say, building a service that delivers video content to tens of millions of customers.</span></span> 

<span data-ttu-id="c9112-123">Às vezes, lançar algo como prova de conceito é o fator determinante, com a noção de que o aplicativo pode ser reprojetado posteriormente.</span><span class="sxs-lookup"><span data-stu-id="c9112-123">Sometimes, getting something out the door as proof of concept is the driving factor, while you know that the application can be redesigned later.</span></span> <span data-ttu-id="c9112-124">Não há muito sentido em trabalhar muito em algo que nunca será usado.</span><span class="sxs-lookup"><span data-stu-id="c9112-124">There is little point in over-engineering something that never gets used.</span></span> <span data-ttu-id="c9112-125">É a compensação comum da engenharia.</span><span class="sxs-lookup"><span data-stu-id="c9112-125">It’s the usual engineering trade-off.</span></span> <span data-ttu-id="c9112-126">Por outro lado, quando as empresas falam sobre criação para a nuvem, a expectativa é de crescimento e uso.</span><span class="sxs-lookup"><span data-stu-id="c9112-126">On the other hand, when companies talk about building for the cloud, the expectation is growth and usage.</span></span> <span data-ttu-id="c9112-127">O problema é que o crescimento e o dimensionamento são imprevisíveis.</span><span class="sxs-lookup"><span data-stu-id="c9112-127">The issue is that growth and scale are unpredictable.</span></span> <span data-ttu-id="c9112-128">Gostaríamos de ser capazes de criar um protótipo rapidamente e saber, ao mesmo tempo, que estamos no caminho certo para lidar com o sucesso no futuro.</span><span class="sxs-lookup"><span data-stu-id="c9112-128">We would like to be able to prototype quickly while also knowing that we are on a path to deal with future success.</span></span> <span data-ttu-id="c9112-129">Essa é a abordagem de inicialização simples: compilar, medir, aprender e iterar.</span><span class="sxs-lookup"><span data-stu-id="c9112-129">This is the lean startup approach: build, measure, learn, and iterate.</span></span>

<span data-ttu-id="c9112-130">Durante a era cliente-servidor, nossa tendência era se concentrar na construção de aplicativos em camadas usando tecnologias específicas em cada camada.</span><span class="sxs-lookup"><span data-stu-id="c9112-130">During the client-server era, we tended to focus on building tiered applications by using specific technologies in each tier.</span></span> <span data-ttu-id="c9112-131">O termo aplicativo *monolítico* surgiu para essas abordagens.</span><span class="sxs-lookup"><span data-stu-id="c9112-131">The term *monolithic* application has emerged for these approaches.</span></span> <span data-ttu-id="c9112-132">As interfaces tendiam a ficar entre as camadas e um design mais rigidamente acoplado era usado entre os componentes em cada camada.</span><span class="sxs-lookup"><span data-stu-id="c9112-132">The interfaces tended to be between the tiers, and a more tightly coupled design was used between components within each tier.</span></span> <span data-ttu-id="c9112-133">Os desenvolvedores projetaram e fatoraram classes compiladas em bibliotecas e as vincularam em alguns arquivos executáveis e DLLs.</span><span class="sxs-lookup"><span data-stu-id="c9112-133">Developers designed and factored classes that were compiled into libraries and linked together into a few executables and DLLs.</span></span> 

<span data-ttu-id="c9112-134">Há benefícios em tal abordagem de design monolítico.</span><span class="sxs-lookup"><span data-stu-id="c9112-134">There are benefits to such a monolithic design approach.</span></span> <span data-ttu-id="c9112-135">Ela geralmente é mais simples de projetar e tem chamadas entre componentes mais rápidas, pois essas chamadas geralmente são sobre a IPC (comunicação interprocessos).</span><span class="sxs-lookup"><span data-stu-id="c9112-135">It's often simpler to design, and it has faster calls between components, because these calls are often over interprocess communication (IPC).</span></span> <span data-ttu-id="c9112-136">Além disso, todos testam um único produto, que tende a ser mais eficiente em termos de recursos e pessoas.</span><span class="sxs-lookup"><span data-stu-id="c9112-136">Also, everyone tests a single product, which tends to be more people-resource efficient.</span></span> <span data-ttu-id="c9112-137">A desvantagem é que há um forte acoplamento entre as camadas e estratificadas e não é possível dimensionar componentes individuais.</span><span class="sxs-lookup"><span data-stu-id="c9112-137">The downside is that there's a tight coupling between tiered layers, and you cannot scale individual components.</span></span> <span data-ttu-id="c9112-138">Se você precisar executar correções ou atualizações, precisará esperar que as demais pessoas concluam o teste.</span><span class="sxs-lookup"><span data-stu-id="c9112-138">If you need to perform fixes or upgrades, you have to wait for others to finish their testing.</span></span> <span data-ttu-id="c9112-139">É mais difícil de ser ágil.</span><span class="sxs-lookup"><span data-stu-id="c9112-139">It is more difficult to be agile.</span></span>

<span data-ttu-id="c9112-140">Os microsserviços tratam dessas desvantagens e alinham-se melhor aos requisitos de negócios anteriores, mas também têm vantagens e desvantagens.</span><span class="sxs-lookup"><span data-stu-id="c9112-140">Microservices address these downsides and more closely align with the preceding business requirements, but they also have both benefits and liabilities.</span></span> <span data-ttu-id="c9112-141">Os benefícios dos microsserviços são que cada um normalmente encapsula uma funcionalidade de negócios mais simples, que você dimensiona, testa, implanta e gerencia de forma independente.</span><span class="sxs-lookup"><span data-stu-id="c9112-141">The benefits of microservices are that each one typically encapsulates simpler business functionality, which you scale up or down, test, deploy, and manage independently.</span></span> <span data-ttu-id="c9112-142">Uma vantagem importante de uma abordagem de microsserviço é que as equipes são mais orientadas por cenários de negócios do que por tecnologia, o que era encorajado pela abordagem em camadas.</span><span class="sxs-lookup"><span data-stu-id="c9112-142">One important benefit of a microservice approach is that teams are driven more by business scenarios than by technology, which the tiered approach encourages.</span></span> <span data-ttu-id="c9112-143">Na prática, equipes menores desenvolvem um microsserviço baseado em um cenário de cliente e usam qualquer tecnologia escolhida.</span><span class="sxs-lookup"><span data-stu-id="c9112-143">In practice, smaller teams develop a microservice based on a customer scenario and use any technologies they choose.</span></span> 

<span data-ttu-id="c9112-144">Em outras palavras, a organização não precisa padronizar a tecnologia para manter aplicativos de microsserviço.</span><span class="sxs-lookup"><span data-stu-id="c9112-144">In other words, the organization doesn’t need to standardize tech to maintain microservice applications.</span></span> <span data-ttu-id="c9112-145">As equipes individuais que detêm serviços podem escolher o que fizer sentido para elas com base em suas competências ou no que é mais apropriado para resolver o problema.</span><span class="sxs-lookup"><span data-stu-id="c9112-145">Individual teams that own services can do what makes sense for them based on team expertise or what’s most appropriate to solve the problem.</span></span> <span data-ttu-id="c9112-146">Na prática, é preferível ter um conjunto de tecnologias recomendadas, como determinado repositório NoSQL ou uma estrutura de aplicativo Web.</span><span class="sxs-lookup"><span data-stu-id="c9112-146">In practice, a set of recommended technologies, such as a particular NoSQL store or web application framework, is preferable.</span></span>

<span data-ttu-id="c9112-147">A desvantagem dos microsserviços é gerenciar o crescente número de entidades separadas e lidar com implantações mais complexas e controle da versão.</span><span class="sxs-lookup"><span data-stu-id="c9112-147">The downside of microservices comes in managing the increased number of separate entities and dealing with more complex deployments and versioning.</span></span> <span data-ttu-id="c9112-148">O tráfego da rede entre os microsserviços aumenta, bem como as latências de rede correspondentes.</span><span class="sxs-lookup"><span data-stu-id="c9112-148">Network traffic between the microservices increases as well as the corresponding network latencies.</span></span> <span data-ttu-id="c9112-149">Ter muitos serviços informais e granulares é uma receita desastrosa para o desempenho.</span><span class="sxs-lookup"><span data-stu-id="c9112-149">Lots of chatty, granular services are a recipe for a performance nightmare.</span></span> <span data-ttu-id="c9112-150">Sem ferramentas para ajudar a exibir essas dependências, é difícil "ver" todo o sistema.</span><span class="sxs-lookup"><span data-stu-id="c9112-150">Without tools to help view these dependencies, it is hard to “see” the whole system.</span></span> 

<span data-ttu-id="c9112-151">Os padrões fazem a abordagem do microsserviço funcionar ao criar um acordo sobre como se comunicar e sendo tolerante apenas com aquilo de que você precisa de um serviço, em vez de contratos rígidos.</span><span class="sxs-lookup"><span data-stu-id="c9112-151">Standards make the microservice approach work by agreeing on how to communicate and being tolerant of only the things you need from a service, rather than rigid contracts.</span></span> <span data-ttu-id="c9112-152">É importante definir esses contatos antecipadamente no design, pois os serviços são atualizados de forma independente.</span><span class="sxs-lookup"><span data-stu-id="c9112-152">It is important to define these contracts up front in the design, because services update independently of each other.</span></span> <span data-ttu-id="c9112-153">Outra descrição cunhada para desenvolver com uma abordagem de microsserviços é "SOA (arquitetura orientada a serviços) de granulação fina".</span><span class="sxs-lookup"><span data-stu-id="c9112-153">Another description coined for designing with a microservices approach is “fine-grained service-oriented architecture (SOA).”</span></span>

<span data-ttu-id="c9112-154">***Em sua forma mais simples, a abordagem de design com microsserviços se resume a uma federação dissociada de serviços, com alterações independentes e padrões acordados para a comunicação.***</span><span class="sxs-lookup"><span data-stu-id="c9112-154">***At its simplest, the microservices design approach is about a decoupled federation of services, with independent changes to each, and agreed-upon standards for communication.***</span></span>

<span data-ttu-id="c9112-155">Conforme mais aplicativos de nuvem são produzidos, as pessoas descobrem que essa decomposição do aplicativo geral em serviços independentes voltados para o cenário é uma abordagem de longo prazo melhor.</span><span class="sxs-lookup"><span data-stu-id="c9112-155">As more cloud apps are produced, people discover that this decomposition of the overall app into independent, scenario-focused services is a better long-term approach.</span></span>

## <a name="comparison-between-application-development-approaches"></a><span data-ttu-id="c9112-156">Comparação entre abordagens de desenvolvimento de aplicativos</span><span class="sxs-lookup"><span data-stu-id="c9112-156">Comparison between application development approaches</span></span>
![Desenvolvimento de aplicativos da plataforma Service Fabric][Image1]

1) <span data-ttu-id="c9112-158">Um aplicativo monolítico contém uma funcionalidade específica ao domínio e é normalmente dividido por camadas funcionais, como Web, negócios e dados.</span><span class="sxs-lookup"><span data-stu-id="c9112-158">A monolithic app contains domain-specific functionality and is normally divided by functional layers, such as web, business, and data.</span></span>

2) <span data-ttu-id="c9112-159">Você dimensiona um aplicativo monolítico clonando-o em vários servidores/máquinas virtuais/contêineres.</span><span class="sxs-lookup"><span data-stu-id="c9112-159">You scale a monolithic app by cloning it on multiple servers/virtual machines/containers.</span></span>

3) <span data-ttu-id="c9112-160">Um aplicativo de microsserviço separa a funcionalidade em serviços menores separados.</span><span class="sxs-lookup"><span data-stu-id="c9112-160">A microservice application separates functionality into separate smaller services.</span></span>

4) <span data-ttu-id="c9112-161">Essa abordagem de microsserviços pode ser dimensionada implantando cada serviço de modo independente, criando instâncias desses serviços entre servidores/máquinas virtuais/contêineres.</span><span class="sxs-lookup"><span data-stu-id="c9112-161">The microservices approach scales out by deploying each service independently, creating instances of these services across servers/virtual machines/containers.</span></span>

<span data-ttu-id="c9112-162">Criar usando uma abordagem de microsserviço não é uma solução para todos os projetos, mas ela se alinha mais aos objetivos comerciais descritos anteriormente.</span><span class="sxs-lookup"><span data-stu-id="c9112-162">Designing with a microservice approach is not a panacea for all projects, but it does align more closely with the business objectives described earlier.</span></span> <span data-ttu-id="c9112-163">Começar com uma abordagem monolítica pode ser aceitável se você souber que depois terá a oportunidade de refazer o código como um design de microsserviço.</span><span class="sxs-lookup"><span data-stu-id="c9112-163">Starting with a monolithic approach might be acceptable if you know that you will have the opportunity to rework the code later into a microservices design.</span></span> <span data-ttu-id="c9112-164">Normalmente, você começa com um aplicativo monolítico e o desmembra em etapas, começando com as áreas funcionais que precisam ser mais escalonáveis ou ágeis.</span><span class="sxs-lookup"><span data-stu-id="c9112-164">More commonly, you begin with a monolithic application and slowly break it up in stages, starting with the functional areas that need to be more scalable or agile.</span></span>

<span data-ttu-id="c9112-165">Para resumir, a abordagem de microsserviço é destinada a compor o aplicativo com muitos serviços menores.</span><span class="sxs-lookup"><span data-stu-id="c9112-165">To summarize, the microservice approach is to compose your application of many small services.</span></span> <span data-ttu-id="c9112-166">Os serviços são executados em contêineres implantados em um cluster de máquinas.</span><span class="sxs-lookup"><span data-stu-id="c9112-166">The services run in containers that are deployed across a cluster of machines.</span></span> <span data-ttu-id="c9112-167">Equipes menores desenvolvem um serviço focado em um cenário e testa, cria a versão, implanta e dimensiona independentemente cada serviço para que todo o aplicativo inteiro possa evoluir.</span><span class="sxs-lookup"><span data-stu-id="c9112-167">Smaller teams develop a service that focuses on a scenario and independently test, version, deploy, and scale each service so that the entire application can evolve.</span></span>

## <a name="what-is-a-microservice"></a><span data-ttu-id="c9112-168">O que é um microsserviço?</span><span class="sxs-lookup"><span data-stu-id="c9112-168">What is a microservice?</span></span>
<span data-ttu-id="c9112-169">Há diferentes definições de microsserviços.</span><span class="sxs-lookup"><span data-stu-id="c9112-169">There are different definitions of microservices.</span></span> <span data-ttu-id="c9112-170">Se você pesquisar na Internet, encontrará muitos recursos úteis que fornecem seus próprios pontos de vista e definições.</span><span class="sxs-lookup"><span data-stu-id="c9112-170">If you search the Internet, you'll find many useful resources that provide their own viewpoints and definitions.</span></span> <span data-ttu-id="c9112-171">No entanto, a maioria das características dos microsserviços descritas a seguir é aceita:</span><span class="sxs-lookup"><span data-stu-id="c9112-171">However, most of the following characteristics of microservices are widely agreed upon:</span></span>

* <span data-ttu-id="c9112-172">Abrange um cenário de cliente ou comercial.</span><span class="sxs-lookup"><span data-stu-id="c9112-172">Encapsulate a customer or business scenario.</span></span> <span data-ttu-id="c9112-173">Qual é o problema que você está solucionando?</span><span class="sxs-lookup"><span data-stu-id="c9112-173">What is the problem you are solving?</span></span>
* <span data-ttu-id="c9112-174">Desenvolvidos por uma pequena equipe de engenharia.</span><span class="sxs-lookup"><span data-stu-id="c9112-174">Developed by a small engineering team.</span></span>
* <span data-ttu-id="c9112-175">Escritos em qualquer linguagem de programação e usam qualquer estrutura.</span><span class="sxs-lookup"><span data-stu-id="c9112-175">Written in any programming language and use any framework.</span></span>
* <span data-ttu-id="c9112-176">Consistem em código e (opcionalmente) estado, com versão, implantação e dimensionamento independentes.</span><span class="sxs-lookup"><span data-stu-id="c9112-176">Consist of code and (optionally) state, both of which are independently versioned, deployed, and scaled.</span></span>
* <span data-ttu-id="c9112-177">Interagem com outros microsserviços em protocolos e interfaces bem definidos.</span><span class="sxs-lookup"><span data-stu-id="c9112-177">Interact with other microservices over well-defined interfaces and protocols.</span></span>
* <span data-ttu-id="c9112-178">Têm nomes exclusivos (URLs) usados para determinar seus locais.</span><span class="sxs-lookup"><span data-stu-id="c9112-178">Have unique names (URLs) used to resolve their location.</span></span>
* <span data-ttu-id="c9112-179">Permanecem consistentes e disponíveis na presença de falhas.</span><span class="sxs-lookup"><span data-stu-id="c9112-179">Remain consistent and available in the presence of failures.</span></span>

<span data-ttu-id="c9112-180">Você pode resumir essas características em:</span><span class="sxs-lookup"><span data-stu-id="c9112-180">You can summarize these characteristics into:</span></span>

<span data-ttu-id="c9112-181">***Os aplicativos de microsserviços são compostos por serviços pequenos e focados no cliente, com controle de versão independente e escalonáveis que se comunicam entre si por meio de protocolos padrão com interfaces bem definidas.***</span><span class="sxs-lookup"><span data-stu-id="c9112-181">***Microservice applications are composed of small, independently versioned, and scalable customer-focused services that communicate with each other over standard protocols with well-defined interfaces.***</span></span>

<span data-ttu-id="c9112-182">Abordamos os primeiros dois pontos na seção anterior e agora expandimos e esclarecemos os outros.</span><span class="sxs-lookup"><span data-stu-id="c9112-182">We covered the first two points in the preceding section, and now we expand on and clarify the others.</span></span>

### <a name="written-in-any-programming-language-and-use-any-framework"></a><span data-ttu-id="c9112-183">Escritos em qualquer linguagem de programação e usam qualquer estrutura</span><span class="sxs-lookup"><span data-stu-id="c9112-183">Written in any programming language and use any framework</span></span>
<span data-ttu-id="c9112-184">Como desenvolvedores, devemos ser livres para escolher qualquer linguagem ou estrutura que quisermos dependendo de nossas habilidades ou das necessidades do serviço.</span><span class="sxs-lookup"><span data-stu-id="c9112-184">As developers, we should be free to choose a language or framework that we want, depending on our skills or the needs of the service.</span></span> <span data-ttu-id="c9112-185">Em alguns serviços, você pode valorizar os benefícios do desempenho do C++ acima de tudo.</span><span class="sxs-lookup"><span data-stu-id="c9112-185">In some services, you might value the performance benefits of C++ above all else.</span></span> <span data-ttu-id="c9112-186">Em outros serviços, a facilidade de desenvolvimento gerenciado no C# ou Java pode ser mais importante.</span><span class="sxs-lookup"><span data-stu-id="c9112-186">In other services, the ease of managed development in C# or Java might be most important.</span></span> <span data-ttu-id="c9112-187">Em alguns casos, talvez seja necessário usar uma biblioteca de terceiros, tecnologia de armazenamento de dados ou meios de expor o serviço aos clientes.</span><span class="sxs-lookup"><span data-stu-id="c9112-187">In some cases, you may need to use a specific partner library, data storage technology, or means of exposing the service to clients.</span></span>

<span data-ttu-id="c9112-188">Após a escolha de uma tecnologia, chega-se ao gerenciamento operacional ou do ciclo de vida e à colocação em escala do serviço.</span><span class="sxs-lookup"><span data-stu-id="c9112-188">After you have chosen a technology, you come to the operational or lifecycle management and scaling of the service.</span></span>

### <a name="allows-code-and-state-to-be-independently-versioned-deployed-and-scaled"></a><span data-ttu-id="c9112-189">Permite que o código e o estado tenham versão, implantação e dimensionamento independentes</span><span class="sxs-lookup"><span data-stu-id="c9112-189">Allows code and state to be independently versioned, deployed, and scaled</span></span>
<span data-ttu-id="c9112-190">Não importa como você escolhe escrever os microsserviços, o código e, opcionalmente, o estado devem implantar, atualizar e dimensionar-se de forma independente.</span><span class="sxs-lookup"><span data-stu-id="c9112-190">However you choose to write your microservices, the code and optionally the state should independently deploy, upgrade, and scale.</span></span> <span data-ttu-id="c9112-191">Na verdade, esse é um dos problemas mais difíceis de resolver, pois é uma questão de escolha das tecnologias.</span><span class="sxs-lookup"><span data-stu-id="c9112-191">This is actually one of the harder problems to solve, because it comes down to your choice of technologies.</span></span> <span data-ttu-id="c9112-192">Para o dimensionamento, entender como particionar (ou fragmentar) o código e o estado é um desafio.</span><span class="sxs-lookup"><span data-stu-id="c9112-192">For scaling, understanding how to partition (or shard) both the code and state is challenging.</span></span> <span data-ttu-id="c9112-193">Quando o código e o estado usam tecnologias separadas, o que atualmente é comum, os scripts de implantação de seu microsserviço precisam conseguir lidar com a colocação em escala de ambos.</span><span class="sxs-lookup"><span data-stu-id="c9112-193">When the code and state use separate technologies, which is common today, the deployment scripts for your microservice need to be able to cope with scaling them both.</span></span> <span data-ttu-id="c9112-194">Isso está relacionado também à agilidade e à flexibilidade; portanto, você pode atualizar alguns microsserviços sem precisar atualizar todos de uma vez.</span><span class="sxs-lookup"><span data-stu-id="c9112-194">This is also about agility and flexibility, so you can upgrade some of the microservices without having to upgrade all of them at once.</span></span>

<span data-ttu-id="c9112-195">Voltando à questão da abordagem monolítica versus microsserviço por um momento, o diagrama a seguir mostra as diferenças nas abordagens para armazenar o estado.</span><span class="sxs-lookup"><span data-stu-id="c9112-195">Returning to the monolithic versus microservice approach for a moment, the following diagram shows the differences in the approach to storing state.</span></span>

#### <a name="state-storage-between-application-styles"></a><span data-ttu-id="c9112-196">Armazenamento de estado entre os estilos de aplicativo</span><span class="sxs-lookup"><span data-stu-id="c9112-196">State storage between application styles</span></span>
![Armazenamento de estado da plataforma Service Fabric][Image2]

<span data-ttu-id="c9112-198">***À esquerda, a abordagem monolítica à esquerda tem um único banco de dados e camadas de tecnologias específicas.***</span><span class="sxs-lookup"><span data-stu-id="c9112-198">***The monolithic approach on the left has a single database and tiers of specific technologies.***</span></span>

<span data-ttu-id="c9112-199">***A abordagem de microsserviços à direita tem um gráfico de microsserviços interconectados em que o estado normalmente tem como escopo o microsserviço e várias tecnologias são usadas.***</span><span class="sxs-lookup"><span data-stu-id="c9112-199">***The microservices approach on the right has a graph of interconnected microservices where state is typically scoped to the microservice and various technologies are used.***</span></span>

<span data-ttu-id="c9112-200">Em uma abordagem monolítica, normalmente o aplicativo usa um único banco de dados.</span><span class="sxs-lookup"><span data-stu-id="c9112-200">In a monolithic approach, typically the application uses a single database.</span></span> <span data-ttu-id="c9112-201">A vantagem é que se trata de um único local, facilitando a implantação.</span><span class="sxs-lookup"><span data-stu-id="c9112-201">The advantage is that it is a single location, which makes it easy to deploy.</span></span> <span data-ttu-id="c9112-202">Cada componente pode ter uma única tabela para armazenar seu estado.</span><span class="sxs-lookup"><span data-stu-id="c9112-202">Each component can have a single table to store its state.</span></span> <span data-ttu-id="c9112-203">As equipes precisam separar estritamente estado, que é um desafio.</span><span class="sxs-lookup"><span data-stu-id="c9112-203">Teams need to strictly separate state, which is a challenge.</span></span> <span data-ttu-id="c9112-204">Há, inevitavelmente, tentações para adicionar uma nova coluna a uma tabela de clientes existente, para fazer uma associação entre as tabelas e para criar dependências na camada de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="c9112-204">Inevitably there are temptations to add a new column to an existing customer table, do a join between tables, and create dependencies at the storage layer.</span></span> <span data-ttu-id="c9112-205">Quando isso acontecer, não será possível dimensionar os componentes individuais.</span><span class="sxs-lookup"><span data-stu-id="c9112-205">After this happens, you can't scale individual components.</span></span> 

<span data-ttu-id="c9112-206">Na abordagem dos microsserviços, cada serviço gerencia e armazena seu próprio estado.</span><span class="sxs-lookup"><span data-stu-id="c9112-206">In the microservices approach, each service manages and stores its own state.</span></span> <span data-ttu-id="c9112-207">Cada serviço é responsável por dimensionar o estado e o código juntos para atender às demandas do serviço.</span><span class="sxs-lookup"><span data-stu-id="c9112-207">Each service is responsible for scaling both code and state together to meet the demands of the service.</span></span> <span data-ttu-id="c9112-208">A desvantagem é que, quando há necessidade de criar exibições, ou consultas, dos dados de seus aplicativos, você precisa consultar entre armazenamentos de estado diferentes.</span><span class="sxs-lookup"><span data-stu-id="c9112-208">A downside is that when there is a need to create views, or queries, of your application’s data, you need to query across disparate state stores.</span></span> <span data-ttu-id="c9112-209">Normalmente, isso é resolvido com um microsserviço separado que cria um modo de exibição em uma coleção de microsserviços.</span><span class="sxs-lookup"><span data-stu-id="c9112-209">Typically, this is solved by having a separate microservice that builds a view across a collection of microservices.</span></span> <span data-ttu-id="c9112-210">Se você precisar executar várias consultas impromptu nos dados, cada microsserviço deverá considerar grava seus dados em um serviço de data warehouse para análise offline.</span><span class="sxs-lookup"><span data-stu-id="c9112-210">If you need to perform multiple impromptu queries on the data, each microservice should consider writing its data to a data warehousing service for offline analytics.</span></span>

<span data-ttu-id="c9112-211">O controle da versão é específico da versão implantada de um microsserviço, de modo que diversas versões diferentes são implantadas e executadas lado a lado.</span><span class="sxs-lookup"><span data-stu-id="c9112-211">Versioning is specific to the deployed version of a microservice so that multiple, different versions deploy and run side by side.</span></span> <span data-ttu-id="c9112-212">O controle da versão aborda os cenários nos quais uma versão mais recente de um microsserviço falha durante a atualização e precisa reverter para uma versão anterior.</span><span class="sxs-lookup"><span data-stu-id="c9112-212">Versioning addresses the scenarios where a newer version of a microservice fails during upgrade and needs to roll back to an earlier version.</span></span> <span data-ttu-id="c9112-213">O outro cenário para controle de versão é a realização de um teste ao estilo A/B, no qual usuários diferentes experimentam versões diferentes do serviço.</span><span class="sxs-lookup"><span data-stu-id="c9112-213">The other scenario for versioning is performing A/B-style testing, where different users experience different versions of the service.</span></span> <span data-ttu-id="c9112-214">Por exemplo, é comum atualizar um microsserviço para um conjunto específico de clientes testar a nova funcionalidade, antes de fazê-lo mais amplamente.</span><span class="sxs-lookup"><span data-stu-id="c9112-214">For example, it is common to upgrade a microservice for a specific set of customers to test new functionality before rolling it out more widely.</span></span> <span data-ttu-id="c9112-215">Após o gerenciamento do ciclo de vida de microsserviço, isso nos leva à comunicação entre eles.</span><span class="sxs-lookup"><span data-stu-id="c9112-215">After lifecycle management of microservices, this now brings us to communication between them.</span></span>

### <a name="interacts-with-other-microservices-over-well-defined-interfaces-and-protocols"></a><span data-ttu-id="c9112-216">Interage com outros microservices em protocolos e interfaces bem-definidos</span><span class="sxs-lookup"><span data-stu-id="c9112-216">Interacts with other microservices over well-defined interfaces and protocols</span></span>
<span data-ttu-id="c9112-217">Este tópico precisa de pouca atenção aqui, pois ampla literatura sobre arquitetura orientada a serviços publicada nos últimos 10 anos descreve padrões de comunicação.</span><span class="sxs-lookup"><span data-stu-id="c9112-217">This topic needs little attention here, because extensive literature about service-oriented architecture that has been published over the past 10 years describes communication patterns.</span></span> <span data-ttu-id="c9112-218">Em geral, a comunicação do serviço usa uma abordagem do REST com os protocolos TCP e HTTP, e XML ou JSON como formato de serialização.</span><span class="sxs-lookup"><span data-stu-id="c9112-218">Generally, service communication uses a REST approach with HTTP and TCP protocols and XML or JSON as the serialization format.</span></span> <span data-ttu-id="c9112-219">Do ponto de vista da interface, isso se resume à adoção da abordagem de design da Web.</span><span class="sxs-lookup"><span data-stu-id="c9112-219">From an interface perspective, it is about embracing the web design approach.</span></span> <span data-ttu-id="c9112-220">Mas nada o impede de usar protocolos binários ou seus próprios formatos de dados.</span><span class="sxs-lookup"><span data-stu-id="c9112-220">But nothing stops you from using binary protocols or your own data formats.</span></span> <span data-ttu-id="c9112-221">Esteja preparado para a possibilidade de as pessoas terem mais dificuldade em usar seus microsserviços se eles estiverem abertamente disponíveis.</span><span class="sxs-lookup"><span data-stu-id="c9112-221">Be prepared for people to have a harder time using your microservices if these are openly available.</span></span>

### <a name="has-a-unique-name-url-used-to-resolve-its-location"></a><span data-ttu-id="c9112-222">Tem um nome exclusivo (URL) usado para determinar sua localização</span><span class="sxs-lookup"><span data-stu-id="c9112-222">Has a unique name (URL) used to resolve its location</span></span>
<span data-ttu-id="c9112-223">Lembra-se de como continuamos afirmando que a abordagem de microsserviço é como a Web?</span><span class="sxs-lookup"><span data-stu-id="c9112-223">Remember how we keep saying that the microservice approach is like the web?</span></span> <span data-ttu-id="c9112-224">Assim como a Web, seu microsserviço precisa ser endereçável em qualquer lugar que esteja sendo executado.</span><span class="sxs-lookup"><span data-stu-id="c9112-224">Like the web, your microservice needs to be addressable wherever it is running.</span></span> <span data-ttu-id="c9112-225">Se você ficar pensando em máquinas, e qual delas está executando um determinado microsserviço, as coisas vão dar errado rapidamente.</span><span class="sxs-lookup"><span data-stu-id="c9112-225">If you are thinking about machines and which one is running a particular microservice, things go bad quickly.</span></span> 

<span data-ttu-id="c9112-226">Da mesma forma como o DNS resolve uma URL específica para determinado computador, seu microsserviço precisa ter um nome exclusivo para que a localização atual possa ser descoberta.</span><span class="sxs-lookup"><span data-stu-id="c9112-226">In the same way that DNS resolves a particular URL to a particular machine, your microservice needs to have a unique name so that its current location is discoverable.</span></span> <span data-ttu-id="c9112-227">Os microsserviços precisam de nomes endereçáveis que os tornem independentes da infraestrutura na qual estão executando.</span><span class="sxs-lookup"><span data-stu-id="c9112-227">Microservices need addressable names that make them independent from the infrastructure that they are running on.</span></span> <span data-ttu-id="c9112-228">Isso implica que haja uma interação entre como seu serviço é implantado e como ele é descoberto, já que deve haver um registro do serviço.</span><span class="sxs-lookup"><span data-stu-id="c9112-228">This implies that there is an interaction between how your service is deployed and how it is discovered, because there needs to be a service registry.</span></span> <span data-ttu-id="c9112-229">Igualmente, quando um computador falha no registro, o serviço de registro deve informar o local em que o serviço está sendo executado agora.</span><span class="sxs-lookup"><span data-stu-id="c9112-229">Equally, when a machine fails, the registry service must tell you where the service is now running.</span></span> 

<span data-ttu-id="c9112-230">Isso nos leva ao próximo tópico: resiliência e consistência.</span><span class="sxs-lookup"><span data-stu-id="c9112-230">This brings us to the next topic: resilience and consistency.</span></span>

### <a name="remains-consistent-and-available-in-the-presence-of-failures"></a><span data-ttu-id="c9112-231">Permanece consistente e disponível na presença de falhas</span><span class="sxs-lookup"><span data-stu-id="c9112-231">Remains consistent and available in the presence of failures</span></span>
<span data-ttu-id="c9112-232">Lidar com falhas inesperadas é um dos problemas mais difíceis de se resolver, especialmente em um sistema distribuído.</span><span class="sxs-lookup"><span data-stu-id="c9112-232">Dealing with unexpected failures is one of the hardest problems to solve, especially in a distributed system.</span></span> <span data-ttu-id="c9112-233">Boa parte do código que escrevemos, como desenvolvedores, serve para lidar exceções, e também é nisso que a maior parte do tempo é gasto durante o teste.</span><span class="sxs-lookup"><span data-stu-id="c9112-233">Much of the code that we write as developers is handling exceptions, and this is also where the most time is spent in testing.</span></span> <span data-ttu-id="c9112-234">O problema é mais complicado do que escrever código para tratar de falhas.</span><span class="sxs-lookup"><span data-stu-id="c9112-234">The problem is more involved than writing code to handle failures.</span></span> <span data-ttu-id="c9112-235">O que acontece quando o computador onde o microserviço está em execução falha?</span><span class="sxs-lookup"><span data-stu-id="c9112-235">What happens when the machine where the microservice is running fails?</span></span> <span data-ttu-id="c9112-236">Você não precisará apenas detectar essa falha do microsserviço (um problema difícil por si só), mas também precisará de algo para reiniciar o microsserviço.</span><span class="sxs-lookup"><span data-stu-id="c9112-236">Not only do you need to detect this microservice failure (a hard problem on its own), but you also need something to restart your microservice.</span></span> 

<span data-ttu-id="c9112-237">Um microsserviço precisa ser resiliente a falhas e reiniciar com frequência em outra máquina por motivos de disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="c9112-237">A microservice needs to be resilient to failures and restart often on another machine for availability reasons.</span></span> <span data-ttu-id="c9112-238">Isso também se resume ao estado em que foi salvo em nome de microsserviço, de que ponto o microsserviço pode recuperar esse estado e se é possível reiniciar o microsserviço com êxito.</span><span class="sxs-lookup"><span data-stu-id="c9112-238">This also comes down to the state that was saved on behalf of the microservice, where the microservice can recover this state from, and whether the microservice is able to restart successfully.</span></span> <span data-ttu-id="c9112-239">Em outras palavras, é necessário haver resiliência na computação (o processo reinicia) e no estado ou nos dados (sem perda de dados e os dados permanecem consistentes).</span><span class="sxs-lookup"><span data-stu-id="c9112-239">In other words, there needs to be resilience in the compute (the process restarts) as well as resilience in the state or data (no data loss and the data remains consistent).</span></span>

<span data-ttu-id="c9112-240">Os problemas de resiliência são agravados durante outros cenários, por exemplo, quando falhas ocorrem durante uma atualização do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c9112-240">The problems of resiliency are compounded during other scenarios, such as when failures happen during an application upgrade.</span></span> <span data-ttu-id="c9112-241">O microsserviço, trabalhando com o sistema de implantação, não precisa fazer a recuperação.</span><span class="sxs-lookup"><span data-stu-id="c9112-241">The microservice, working with the deployment system, doesn't need to recover.</span></span> <span data-ttu-id="c9112-242">Ele também precisa decidir se pode continuar a seguir com a versão mais recente ou se reverte para uma versão anterior a fim de manter um estado consistente.</span><span class="sxs-lookup"><span data-stu-id="c9112-242">It also needs to then decide whether it can continue to move forward to the newer version or instead roll back to a previous version to maintain a consistent state.</span></span> <span data-ttu-id="c9112-243">É preciso considerar perguntas como se há computadores suficientes disponíveis para continuar avançando e como recuperar versões anteriores do microsserviço.</span><span class="sxs-lookup"><span data-stu-id="c9112-243">Questions such as whether enough machines are available to keep moving forward and how to recover previous versions of the microservice need to be considered.</span></span> <span data-ttu-id="c9112-244">Isso exige que o microsserviço emita informações de integridade para poder tomar essas decisões.</span><span class="sxs-lookup"><span data-stu-id="c9112-244">This requires the microservice to emit health information to be able to make these decisions.</span></span>

### <a name="reports-health-and-diagnostics"></a><span data-ttu-id="c9112-245">Relatórios de integridade e diagnóstico</span><span class="sxs-lookup"><span data-stu-id="c9112-245">Reports health and diagnostics</span></span>
<span data-ttu-id="c9112-246">Pode parecer óbvio, e muitas vezes isso é negligenciado, mas um microsserviço deve relatar sua integridade e diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="c9112-246">It may seem obvious, and it is often overlooked, but a microservice must report its health and diagnostics.</span></span> <span data-ttu-id="c9112-247">Caso contrário, há pouca percepção de uma perspectiva de operações.</span><span class="sxs-lookup"><span data-stu-id="c9112-247">Otherwise, there is little insight from an operations perspective.</span></span> <span data-ttu-id="c9112-248">Correlacionar os eventos de diagnóstico em um conjunto de serviços independentes e lidar com a defasagem do relógio do computador para entender a ordem dos eventos é um desafio.</span><span class="sxs-lookup"><span data-stu-id="c9112-248">Correlating diagnostic events across a set of independent services and dealing with machine clock skews to make sense of the event order is challenging.</span></span> <span data-ttu-id="c9112-249">Da mesma forma como você interage com um microsserviço nos protocolos acordados e formatos de dados, surge a necessidade de padronização de como registrar os eventos de integridade e diagnóstico que, em última análise, terminam em um armazenamento de eventos para consultar e exibir.</span><span class="sxs-lookup"><span data-stu-id="c9112-249">In the same way that you interact with a microservice over agreed-upon protocols and data formats, there emerges a need for standardization in how to log health and diagnostic events that ultimately end up in an event store for querying and viewing.</span></span> <span data-ttu-id="c9112-250">Em uma abordagem de microsserviços, é importante que diferentes equipes concordem com um único formato de registro em log.</span><span class="sxs-lookup"><span data-stu-id="c9112-250">In a microservices approach, it is key that different teams agree on a single logging format.</span></span> <span data-ttu-id="c9112-251">Precisa ser uma abordagem consistente para exibir os eventos de diagnóstico no aplicativo inteiro.</span><span class="sxs-lookup"><span data-stu-id="c9112-251">There needs to be a consistent approach to viewing diagnostic events in the application as a whole.</span></span>

<span data-ttu-id="c9112-252">Integridade é diferente de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="c9112-252">Health is different from diagnostics.</span></span> <span data-ttu-id="c9112-253">Integridade significa que o microsserviço reporta seu estado atual para tomar as devidas ações.</span><span class="sxs-lookup"><span data-stu-id="c9112-253">Health is about the microservice reporting its current state to take appropriate actions.</span></span> <span data-ttu-id="c9112-254">Um bom exemplo é trabalhar com mecanismos de atualização e implantação para manter a disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="c9112-254">A good example is working with upgrade and deployment mechanisms to maintain availability.</span></span> <span data-ttu-id="c9112-255">Embora um serviço possa não estar íntegro no momento devido a uma falha de processo ou reinicialização do computador, o serviço ainda pode estar operacional.</span><span class="sxs-lookup"><span data-stu-id="c9112-255">Although a service may be currently unhealthy due to a process crash or machine reboot, the service might still be operational.</span></span> <span data-ttu-id="c9112-256">A última coisa de que você precisa é piorar a situação executando uma atualização.</span><span class="sxs-lookup"><span data-stu-id="c9112-256">The last thing you need is to make this worse by performing an upgrade.</span></span> <span data-ttu-id="c9112-257">A melhor abordagem é fazer uma investigação primeiro ou aguardar a recuperação do microsserviço.</span><span class="sxs-lookup"><span data-stu-id="c9112-257">The best approach is to do an investigation first or allow time for the microservice to recover.</span></span> <span data-ttu-id="c9112-258">Os eventos de integridade de um microsserviço permitem tomar decisões bem informadas e ajudam realmente a criar serviços que recuperam a si próprios.</span><span class="sxs-lookup"><span data-stu-id="c9112-258">Health events from a microservice help us make informed decisions and, in effect, help create self-healing services.</span></span>

## <a name="service-fabric-as-a-microservices-platform"></a><span data-ttu-id="c9112-259">Service Fabric como uma plataforma de microsserviço</span><span class="sxs-lookup"><span data-stu-id="c9112-259">Service Fabric as a microservices platform</span></span>
<span data-ttu-id="c9112-260">O Service Fabric do Azure nasceu da transição da Microsoft do de fornecer produtos prontos, que eram normalmente de estilo monolítico, para fornecer serviços.</span><span class="sxs-lookup"><span data-stu-id="c9112-260">Azure Service Fabric emerged from a transition by Microsoft from delivering box products, which were typically monolithic in style, to delivering services.</span></span> <span data-ttu-id="c9112-261">A experiência de criar e operar serviços grandes, como Banco de Dados SQL do Azure e Azure Cosmos DB, modelou o Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="c9112-261">The experience of building and operating large services, such as Azure SQL Database and Azure Cosmos DB, shaped Service Fabric.</span></span> <span data-ttu-id="c9112-262">A plataforma evoluiu ao longo do tempo conforme mais e mais serviços adotaram-na.</span><span class="sxs-lookup"><span data-stu-id="c9112-262">The platform evolved over time as more and more services adopted it.</span></span> <span data-ttu-id="c9112-263">É importante observar que o Service Fabric precisava ser executado não apenas no Azure, mas também em implantações autônomas do Windows Server.</span><span class="sxs-lookup"><span data-stu-id="c9112-263">Importantly, Service Fabric had to run not only in Azure but also in standalone Windows Server deployments.</span></span>

<span data-ttu-id="c9112-264">***O objetivo do Service Fabric é resolver os problemas difíceis de criação e execução de um serviço, e utilizar os recursos da infraestrutura com eficiência para que as equipes possam resolver os problemas de negócios usando uma abordagem de microsserviços.***</span><span class="sxs-lookup"><span data-stu-id="c9112-264">***The aim of Service Fabric is to solve the hard problems of building and running a service and utilize infrastructure resources efficiently, so that teams can solve business problems using a microservices approach.***</span></span>

<span data-ttu-id="c9112-265">O Service Fabric fornece três áreas amplas para ajudar no build de aplicativos usando uma abordagem de microsserviços:</span><span class="sxs-lookup"><span data-stu-id="c9112-265">Service Fabric provides three broad areas to help you build applications that use a microservices approach:</span></span>

* <span data-ttu-id="c9112-266">Uma plataforma que fornece serviços do sistema para implantar, atualizar, detectar e reiniciar os serviços com falha, descobrir serviços, encaminhar mensagens, gerenciar o estado e monitorar a integridade.</span><span class="sxs-lookup"><span data-stu-id="c9112-266">A platform that provides system services to deploy, upgrade, detect, and restart failed services, discover services, route messages, manage state, and monitor health.</span></span> <span data-ttu-id="c9112-267">Esses serviços do sistema permitem, de fato, muitas características dos microsserviços descritos acima.</span><span class="sxs-lookup"><span data-stu-id="c9112-267">These system services in effect enable many of the characteristics of microservices previously described.</span></span>
* <span data-ttu-id="c9112-268">Capacidade de implantar aplicativos ou em execução em contêineres ou processos.</span><span class="sxs-lookup"><span data-stu-id="c9112-268">Ability to deploy applications either running in containers or as processes.</span></span> <span data-ttu-id="c9112-269">O Service Fabric é um orquestrador de contêiner e processo.</span><span class="sxs-lookup"><span data-stu-id="c9112-269">Service Fabric is a container and process orchestrator.</span></span>
* <span data-ttu-id="c9112-270">APIs de programação, ou estruturas, para ajudá-lo a criar aplicativos como microsserviços: [ASP.NET Core, Reliable Actors e Reliable Actors](service-fabric-choose-framework.md).</span><span class="sxs-lookup"><span data-stu-id="c9112-270">Productive programming APIs,  to help you build applications as microservices: [ASP.NET Core, Reliable Actors, and Reliable Services](service-fabric-choose-framework.md).</span></span> <span data-ttu-id="c9112-271">Você pode escolher qualquer código para compilar seu microsserviço.</span><span class="sxs-lookup"><span data-stu-id="c9112-271">You can choose any code to build your microservice.</span></span> <span data-ttu-id="c9112-272">Mas essas APIs facilitam o trabalho e se integram com a plataforma em um nível mais profundo.</span><span class="sxs-lookup"><span data-stu-id="c9112-272">But these APIs make the job more straightforward, and they integrate with the platform at a deeper level.</span></span> <span data-ttu-id="c9112-273">Dessa forma, por exemplo, você pode obter informações de integridade e diagnóstico ou aproveitar a alta disponibilidade interna.</span><span class="sxs-lookup"><span data-stu-id="c9112-273">This way, for example, you can get health and diagnostics information, or you can take advantage of built-in high availability.</span></span>

<span data-ttu-id="c9112-274">***O Service Fabric não se importa com o modo de criação de seu serviço, e você pode usar qualquer tecnologia. No entanto, fornece APIs de programação internas que facilitam a criação de microsserviços.***</span><span class="sxs-lookup"><span data-stu-id="c9112-274">***Service Fabric is agnostic on how you build your service, and you can use any technology. However, it does provide built-in programming APIs that make it easier to build microservices.***</span></span>

### <a name="migrating-existing-applications-to-service-fabric"></a><span data-ttu-id="c9112-275">Migrando aplicativos existentes para o Service Fabric</span><span class="sxs-lookup"><span data-stu-id="c9112-275">Migrating existing applications to Service Fabric</span></span>
<span data-ttu-id="c9112-276">Uma abordagem chave para o Service Fabric é reutilizar o código existente, o que, em seguida, pode ser modernizado com novos microsserviços.</span><span class="sxs-lookup"><span data-stu-id="c9112-276">A key approach to Service Fabric is to reuse existing code, which can then be modernized with new microservices.</span></span> <span data-ttu-id="c9112-277">Há cinco estágios para modernização do aplicativo, e você pode iniciar e interromper em qualquer um dos estágios.</span><span class="sxs-lookup"><span data-stu-id="c9112-277">There are five stages to application modernization, and you can start and stop at any of the stages.</span></span> <span data-ttu-id="c9112-278">Estes são;</span><span class="sxs-lookup"><span data-stu-id="c9112-278">These are;</span></span>

1) <span data-ttu-id="c9112-279">Colocar um aplicativo monolítico tradicional</span><span class="sxs-lookup"><span data-stu-id="c9112-279">Take a traditional monolithic application</span></span>
2) <span data-ttu-id="c9112-280">Lift and Shift - Usar contêineres ou executáveis de convidado para hospedar o código existente no Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="c9112-280">Lift and Shift - Use containers or guest executables to host existing code in Service Fabric.</span></span>
3) <span data-ttu-id="c9112-281">Modernização - Novos microsserviços adicionados junto com o código em contêineres existente.</span><span class="sxs-lookup"><span data-stu-id="c9112-281">Modernization - New microservices added alongside existing containerized code.</span></span> 
4) <span data-ttu-id="c9112-282">Inovar - Dividir o monolítico em microsserviços puramente com base na necessidade.</span><span class="sxs-lookup"><span data-stu-id="c9112-282">Innovate - Break the monolithic into microservices purely based on need.</span></span>
5) <span data-ttu-id="c9112-283">Transformado em microsserviços - a transformação de aplicativos monolíticos existentes ou criar novos aplicativos intactos.</span><span class="sxs-lookup"><span data-stu-id="c9112-283">Transformed into microservices - the transformation of existing monolithic applications or building new greenfield applications.</span></span>

![Migração para Microsserviços][Image3]

<span data-ttu-id="c9112-285">É importante enfatizar novamente, que você pode **iniciar e interromper em qualquer um desses estágios**, você não é obrigado a ir para o próximo estágio.</span><span class="sxs-lookup"><span data-stu-id="c9112-285">It is important to emphasis again, that you can **start and stop at any of these stages**, you are not compelled to moved to the next stage.</span></span> <span data-ttu-id="c9112-286">Agora vamos ver exemplos de cada um desses estágios.</span><span class="sxs-lookup"><span data-stu-id="c9112-286">Let's now look at examples for each of these stages.</span></span>

<span data-ttu-id="c9112-287">**Lift and Shift** - um grande número de empresas estão fazendo o lift-and-shift dos aplicativos monolíticos existentes em contêineres por duas razões;</span><span class="sxs-lookup"><span data-stu-id="c9112-287">**Lift and Shift** - large numbers of companies are lifting and shifting existing monolithic applications into containers to for two reasons;</span></span>

- <span data-ttu-id="c9112-288">Redução de custos devido à consolidação e à remoção de aplicativos existentes de hardware ou executando a uma densidade mais alta.</span><span class="sxs-lookup"><span data-stu-id="c9112-288">Cost reduction either due to consolidation and removal  of existing hardware or running applications at higher density.</span></span> 
- <span data-ttu-id="c9112-289">Contrato de implantação consistente entre o desenvolvimento e as operações.</span><span class="sxs-lookup"><span data-stu-id="c9112-289">Consistent deployment contract between development and operations.</span></span>

<span data-ttu-id="c9112-290">Reduções de custos são compreensíveis e dentro da Microsoft grandes números de aplicativos existentes estão sendo colocados em contêineres por milhões de dólares.</span><span class="sxs-lookup"><span data-stu-id="c9112-290">Cost reductions are understandable and within Microsoft large numbers of existing applications are being containerized simply to millions of dollars.</span></span> <span data-ttu-id="c9112-291">Uma implantação consistente é mais difícil avaliar, mas igualmente importante.</span><span class="sxs-lookup"><span data-stu-id="c9112-291">Consistent deployment is harder to evaluate, but equally as important.</span></span> <span data-ttu-id="c9112-292">Nesse tipo de implantação os desenvolvedores ainda possuem a liberdade de escolher a tecnologia adequada, no entanto, as operações só aceitarão uma única maneira de implantar e gerenciar esses aplicativos.</span><span class="sxs-lookup"><span data-stu-id="c9112-292">It says that developers can still be free to choose the technology that suites them, however the operations will only accept a single way to deploy and manage these applications.</span></span> <span data-ttu-id="c9112-293">Ela elimina a necessidade das operações de ter que lidar com a complexidade das muitas tecnologias diferentes ou de forçar os desenvolvedores a escolher apenas algumas.</span><span class="sxs-lookup"><span data-stu-id="c9112-293">It alleviates the operations from having to deal with the complexity of many different technologies or forcing developers to only choose certain ones.</span></span> <span data-ttu-id="c9112-294">Essencialmente, cada aplicativo está em contêineres em imagens de implantação independentes.</span><span class="sxs-lookup"><span data-stu-id="c9112-294">Essentially every application is containerized into self-contained deployment images.</span></span>

<span data-ttu-id="c9112-295">Muitas organizações param aqui.</span><span class="sxs-lookup"><span data-stu-id="c9112-295">Many organizations stop here.</span></span> <span data-ttu-id="c9112-296">Elas já têm os benefícios de contêineres e o Service Fabric fornece a experiência completa de gerenciamento de implantação, atualizações, controle de versão, reversões, monitoramento de integridade, etc.</span><span class="sxs-lookup"><span data-stu-id="c9112-296">They already have the benefits of containers and Service Fabric provides the complete management experience from deployment, upgrades, versioning, rollbacks, health monitoring etc.</span></span>

<span data-ttu-id="c9112-297">**Modernização** - é a adição de novos serviços junto com o código em contêineres existente.</span><span class="sxs-lookup"><span data-stu-id="c9112-297">**Modernization** - is the addition of new services alongside existing containerized code.</span></span> <span data-ttu-id="c9112-298">Se você pretende escrever um novo código, é recomendável dar pequenos passos e seguir o caminho dos microsserviços.</span><span class="sxs-lookup"><span data-stu-id="c9112-298">If you are going to write new code, it is best to decide to take small steps down the microservices path.</span></span> <span data-ttu-id="c9112-299">Isso pode adicionar um novo ponto de extremidade de API REST ou uma nova lógica de negócios.</span><span class="sxs-lookup"><span data-stu-id="c9112-299">This could be adding a new REST API endpoint, or new business logic.</span></span> <span data-ttu-id="c9112-300">Dessa forma, você inicie a jornada de criação de novos microsserviços e pratica o desenvolvimento e a implantação destes.</span><span class="sxs-lookup"><span data-stu-id="c9112-300">This way, you start on the journey of building new microservices and practice developing and deploying them.</span></span>

<span data-ttu-id="c9112-301">**Inovar** - lembra-se daquelas necessidades de alteração de negócio originais no início deste artigo, que estão levando a uma abordagem de microsserviços?</span><span class="sxs-lookup"><span data-stu-id="c9112-301">**Innovate** - remember those original changing business needs at the start of this article, that are driving the microservices approach?</span></span> <span data-ttu-id="c9112-302">Neste estágio da decisão é, elas estão ocorrendo no meu aplicativo atual e nesse caso, preciso começar a dividir o monolito ou a inovar.</span><span class="sxs-lookup"><span data-stu-id="c9112-302">At this stage the decision is, are these happening to my current application and if so, I need to start splitting the monolith, or innovating.</span></span> <span data-ttu-id="c9112-303">Um exemplo aqui é quando um banco de dados se torna um afunilamento de processamento, pois ele está sendo usado como uma fila de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="c9112-303">An example here is when a database becomes a processing bottleneck, since it is being used as a workflow queue.</span></span> <span data-ttu-id="c9112-304">Conforme o número de solicitações de fluxo de trabalho aumenta o trabalho precisa ser distribuído para dimensionamento.</span><span class="sxs-lookup"><span data-stu-id="c9112-304">As the number of workflow requests increasing the work needs to be distributed for scale.</span></span> <span data-ttu-id="c9112-305">Para essa parte específica do aplicativo que não é dimensionamento, ou quando é necessário atualizar com mais frequência, divida em um microsserviço e inove.</span><span class="sxs-lookup"><span data-stu-id="c9112-305">So for that particular piece of the application that is not scaling, or you need to update more frequently, split this out into a microservice and innovate.</span></span> 

<span data-ttu-id="c9112-306">**Transformado em microsserviços** - é quando o aplicativo é totalmente composto de (ou decomposto em) microsserviços.</span><span class="sxs-lookup"><span data-stu-id="c9112-306">**Transformed into microservices** - this is where your application is fully composed of (or decomposed into) microservices.</span></span> <span data-ttu-id="c9112-307">Para chegar aqui, você percorreu a jornada dos microsserviços.</span><span class="sxs-lookup"><span data-stu-id="c9112-307">To reach here, you have made the microservices journey.</span></span> <span data-ttu-id="c9112-308">Você pode iniciar aqui, mas fazer isso sem uma plataforma de microsserviços para ajudá-lo é um investimento significativo.</span><span class="sxs-lookup"><span data-stu-id="c9112-308">You can start here, but to do this without a microservices platform to help you is a significant investment.</span></span> 

### <a name="are-microservices-right-for-my-application"></a><span data-ttu-id="c9112-309">Os microsserviços são ideais para meu aplicativo?</span><span class="sxs-lookup"><span data-stu-id="c9112-309">Are microservices right for my application?</span></span>
<span data-ttu-id="c9112-310">Talvez.</span><span class="sxs-lookup"><span data-stu-id="c9112-310">Maybe.</span></span> <span data-ttu-id="c9112-311">O que experimentamos foi que quando mais equipes na Microsoft começaram a construir para a nuvem por motivos comerciais, muitas perceberam os benefícios de adotar uma abordagem semelhante ao microsserviço.</span><span class="sxs-lookup"><span data-stu-id="c9112-311">What we experienced was that as more and more teams in Microsoft began to build for the cloud for business reasons, many of them realized the benefits of taking a microservice-like approach.</span></span> <span data-ttu-id="c9112-312">O Bing, por exemplo, vem desenvolvendo os microsserviços em pesquisa por anos.</span><span class="sxs-lookup"><span data-stu-id="c9112-312">Bing, for example, has been developing microservices in search for years.</span></span> <span data-ttu-id="c9112-313">Para as outras equipes, a abordagem dos microsserviços foi nova.</span><span class="sxs-lookup"><span data-stu-id="c9112-313">For other teams, the microservices approach was new.</span></span> <span data-ttu-id="c9112-314">As equipes descobriram que havia problemas difíceis de resolver fora de suas principais áreas de capacidade.</span><span class="sxs-lookup"><span data-stu-id="c9112-314">Teams found that there were hard problems to solve outside of their core areas of strength.</span></span> <span data-ttu-id="c9112-315">É por isso que o Service Fabric ganhou adeptos como a tecnologia preferida para a criação de serviços.</span><span class="sxs-lookup"><span data-stu-id="c9112-315">This is why Service Fabric gained traction as the technology of choice for building services.</span></span>

<span data-ttu-id="c9112-316">O objetivo do Service Fabric é reduzir a complexidade da criação de aplicativos com uma abordagem de microsserviço para que você não precise passar por diversas reformulações dispendiosas.</span><span class="sxs-lookup"><span data-stu-id="c9112-316">The objective of Service Fabric is to reduce the complexities of building applications with a microservice approach, so that you do not have to go through as many costly redesigns.</span></span> <span data-ttu-id="c9112-317">A abordagem é começar pequeno, dimensionar quando necessário, substituir serviços, adicionar serviços novos e evoluir de acordo com o uso do cliente.</span><span class="sxs-lookup"><span data-stu-id="c9112-317">Start small, scale when needed, deprecate services, add new ones, and evolve with customer usage is the approach.</span></span> <span data-ttu-id="c9112-318">Também sabemos que há muitos outros problemas que ainda precisam ser resolvidos para tornar os microsserviços mais acessíveis à maioria dos desenvolvedores.</span><span class="sxs-lookup"><span data-stu-id="c9112-318">We also know that there are many other problems yet to be solved to make microservices more approachable for most developers.</span></span> <span data-ttu-id="c9112-319">Os contêineres e o modelo de programação de ator são exemplos de pequenas etapas nessa direção, e temos certeza de que outras inovações surgirão para tornar isso mais fácil.</span><span class="sxs-lookup"><span data-stu-id="c9112-319">Containers and the actor programming model are examples of small steps in that direction, and we are sure that more innovations will emerge to make this easier.</span></span>
 
<!--Every topic should have next steps and links to the next logical set of content to keep the customer engaged-->

## <a name="next-steps"></a><span data-ttu-id="c9112-320">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="c9112-320">Next steps</span></span>
* [<span data-ttu-id="c9112-321">Visão geral da terminologia do Service Fabric</span><span class="sxs-lookup"><span data-stu-id="c9112-321">Service Fabric terminology overview</span></span>](service-fabric-technical-overview.md)
* [<span data-ttu-id="c9112-322">Microsserviços: uma revolução de aplicativo proporcionada pela nuvem</span><span class="sxs-lookup"><span data-stu-id="c9112-322">Microservices: An application revolution powered by the cloud</span></span>](https://azure.microsoft.com/en-us/blog/microservices-an-application-revolution-powered-by-the-cloud/)

[Image1]: media/service-fabric-overview-microservices/monolithic-vs-micro.png
[Image2]: media/service-fabric-overview-microservices/statemonolithic-vs-micro.png
[Image3]: media/service-fabric-overview-microservices/microservices-migration.png
