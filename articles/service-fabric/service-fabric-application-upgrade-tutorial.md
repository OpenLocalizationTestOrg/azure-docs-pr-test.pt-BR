---
title: "tutorial de atualização aaaService malha aplicativo | Microsoft Docs"
description: "Este artigo o orienta através da experiência de saudação de implantar um aplicativo de malha do serviço, alterar o código de saudação e implantar uma atualização usando o Visual Studio."
services: service-fabric
documentationcenter: .net
author: mani-ramaswamy
manager: timlt
editor: 
ms.assetid: a3181a7a-9ab1-4216-b07a-05b79bd826a4
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 8/9/2017
ms.author: subramar
ms.openlocfilehash: d069ff0b291018dbac846e65cddff1e9d73d156c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="service-fabric-application-upgrade-tutorial-using-visual-studio"></a><span data-ttu-id="de4b5-103">Tutorial de atualização do aplicativo Service Fabric usando o Visual Studio</span><span class="sxs-lookup"><span data-stu-id="de4b5-103">Service Fabric application upgrade tutorial using Visual Studio</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="de4b5-104">PowerShell</span><span class="sxs-lookup"><span data-stu-id="de4b5-104">PowerShell</span></span>](service-fabric-application-upgrade-tutorial-powershell.md)
> * [<span data-ttu-id="de4b5-105">Visual Studio</span><span class="sxs-lookup"><span data-stu-id="de4b5-105">Visual Studio</span></span>](service-fabric-application-upgrade-tutorial.md)
> 
> 

<br/>

<span data-ttu-id="de4b5-106">Malha do serviço do Azure simplifica o processo de saudação da atualização de aplicativos em nuvem, garantindo que somente os serviços alterados são atualizados e que a integridade de aplicativos é monitorada em todo o processo de atualização de saudação.</span><span class="sxs-lookup"><span data-stu-id="de4b5-106">Azure Service Fabric simplifies hello process of upgrading cloud applications by ensuring that only changed services are upgraded, and that application health is monitored throughout hello upgrade process.</span></span> <span data-ttu-id="de4b5-107">Ele também será revertida automaticamente versão anterior do hello aplicativo toohello ao encontrar problemas.</span><span class="sxs-lookup"><span data-stu-id="de4b5-107">It also automatically rolls back hello application toohello previous version upon encountering issues.</span></span> <span data-ttu-id="de4b5-108">As atualizações de aplicativo de malha do serviço são *tempo de inatividade Zero*, uma vez que o aplicativo hello pode ser atualizado sem tempo de inatividade.</span><span class="sxs-lookup"><span data-stu-id="de4b5-108">Service Fabric application upgrades are *Zero Downtime*, since hello application can be upgraded with no downtime.</span></span> <span data-ttu-id="de4b5-109">Este tutorial aborda como toocomplete uma atualização sem interrupção do Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="de4b5-109">This tutorial covers how toocomplete a rolling upgrade from Visual Studio.</span></span>

## <a name="step-1-build-and-publish-hello-visual-objects-sample"></a><span data-ttu-id="de4b5-110">Etapa 1: Criar e publicar o exemplo de objetos visuais hello</span><span class="sxs-lookup"><span data-stu-id="de4b5-110">Step 1: Build and publish hello Visual Objects sample</span></span>
<span data-ttu-id="de4b5-111">Primeiro, baixe o hello [objetos visuais](https://github.com/Azure-Samples/service-fabric-dotnet-getting-started/tree/classic/Actors/VisualObjects) aplicativo do GitHub.</span><span class="sxs-lookup"><span data-stu-id="de4b5-111">First, download hello [Visual Objects](https://github.com/Azure-Samples/service-fabric-dotnet-getting-started/tree/classic/Actors/VisualObjects) application from GitHub.</span></span> <span data-ttu-id="de4b5-112">Em seguida, criar e publicar o aplicativo hello clicando no projeto de aplicativo hello, **VisualObjects**e selecionando Olá **publicar** comando no item de menu Olá Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="de4b5-112">Then, build and publish hello application by right-clicking on hello application project, **VisualObjects**, and selecting hello **Publish** command in hello Service Fabric menu item.</span></span>

![Menu de contexto para um aplicativo do Service Fabric][image1]

<span data-ttu-id="de4b5-114">Selecionando **publicar** abre um janela pop-up, e você pode definir Olá **perfil de destino** muito**PublishProfiles\Local.xml**.</span><span class="sxs-lookup"><span data-stu-id="de4b5-114">Selecting **Publish** brings up a popup, and you can set hello **Target profile** too**PublishProfiles\Local.xml**.</span></span> <span data-ttu-id="de4b5-115">Olá janela deve ter aparência Olá a seguir antes de clicar em **publicar**.</span><span class="sxs-lookup"><span data-stu-id="de4b5-115">hello window should look like hello following before you click **Publish**.</span></span>

![Publicar um aplicativo do Service Fabric][image2]

<span data-ttu-id="de4b5-117">Agora você pode clicar em **publicar** na caixa de diálogo de saudação.</span><span class="sxs-lookup"><span data-stu-id="de4b5-117">Now you can click **Publish** in hello dialog box.</span></span> <span data-ttu-id="de4b5-118">Você pode usar [Service Fabric Explorer tooview Olá cluster e Olá o aplicativo](service-fabric-visualizing-your-cluster.md).</span><span class="sxs-lookup"><span data-stu-id="de4b5-118">You can use [Service Fabric Explorer tooview hello cluster and hello application](service-fabric-visualizing-your-cluster.md).</span></span> <span data-ttu-id="de4b5-119">Olá aplicativo Visual objetos tem um serviço web que você pode ir digitando tooby [http://localhost:8081/visualobjects/](http://localhost:8081/visualobjects/) na barra de endereços de saudação do seu navegador.</span><span class="sxs-lookup"><span data-stu-id="de4b5-119">hello Visual Objects application has a web service that you can go tooby typing [http://localhost:8081/visualobjects/](http://localhost:8081/visualobjects/) in hello address bar of your browser.</span></span>  <span data-ttu-id="de4b5-120">Você deve ver os 10 objetos visual flutuantes mover-se na tela hello.</span><span class="sxs-lookup"><span data-stu-id="de4b5-120">You should see 10 floating visual objects moving around on hello screen.</span></span>

<span data-ttu-id="de4b5-121">**Observação:** se Implantando muito`Cloud.xml` perfil (Service Fabric do Azure), aplicativo hello, deve estar disponível em **http://{ServiceFabricName}. { Region}.cloudapp.Azure.com:8081/visualobjects/**.</span><span class="sxs-lookup"><span data-stu-id="de4b5-121">**NOTE:** If deploying too`Cloud.xml` profile (Azure Service Fabric), hello application should then be available at **http://{ServiceFabricName}.{Region}.cloudapp.azure.com:8081/visualobjects/**.</span></span> <span data-ttu-id="de4b5-122">Verifique se você tem `8081/TCP` configurado no balanceador de carga da saudação (Localizar Olá balanceador de carga no hello mesmo grupo de recursos como instância do Service Fabric Olá).</span><span class="sxs-lookup"><span data-stu-id="de4b5-122">Make sure you do have `8081/TCP` configured in hello Load Balancer (find hello Load Balancer in hello same resource group as hello Service Fabric instance).</span></span>

## <a name="step-2-update-hello-visual-objects-sample"></a><span data-ttu-id="de4b5-123">Etapa 2: Atualizar exemplo de objetos visuais hello</span><span class="sxs-lookup"><span data-stu-id="de4b5-123">Step 2: Update hello Visual Objects sample</span></span>
<span data-ttu-id="de4b5-124">Você pode notar que com a versão de saudação que foi implantado na etapa 1, objetos visuais Olá não gire.</span><span class="sxs-lookup"><span data-stu-id="de4b5-124">You might notice that with hello version that was deployed in step 1, hello visual objects do not rotate.</span></span> <span data-ttu-id="de4b5-125">Vamos atualizar esse tooone aplicativo onde objetos visuais Olá também girar.</span><span class="sxs-lookup"><span data-stu-id="de4b5-125">Let's upgrade this application tooone where hello visual objects also rotate.</span></span>

<span data-ttu-id="de4b5-126">Selecione o projeto VisualObjects.ActorService Olá Olá VisualObjects solução e abra Olá **VisualObjectActor.cs** arquivo.</span><span class="sxs-lookup"><span data-stu-id="de4b5-126">Select hello VisualObjects.ActorService project within hello VisualObjects solution, and open hello **VisualObjectActor.cs** file.</span></span> <span data-ttu-id="de4b5-127">Dentro desse arquivo, vá toohello método `MoveObject`, comente `visualObject.Move(false)`e remova os `visualObject.Move(true)`.</span><span class="sxs-lookup"><span data-stu-id="de4b5-127">Within that file, go toohello method `MoveObject`, comment out `visualObject.Move(false)`, and uncomment `visualObject.Move(true)`.</span></span> <span data-ttu-id="de4b5-128">Essa alteração de código gira objetos Olá depois que o serviço de saudação é atualizado.</span><span class="sxs-lookup"><span data-stu-id="de4b5-128">This code change rotates hello objects after hello service is upgraded.</span></span>  <span data-ttu-id="de4b5-129">**Agora você pode criar (não a recriação) Olá solução**, que compila Olá modificado projetos.</span><span class="sxs-lookup"><span data-stu-id="de4b5-129">**Now you can build (not rebuild) hello solution**, which builds hello modified projects.</span></span> <span data-ttu-id="de4b5-130">Se você selecionar *recompilar tudo*, você tem versões de saudação tooupdate para todos os projetos de hello.</span><span class="sxs-lookup"><span data-stu-id="de4b5-130">If you select *Rebuild all*, you have tooupdate hello versions for all hello projects.</span></span>

<span data-ttu-id="de4b5-131">Também precisamos tooversion nosso aplicativo.</span><span class="sxs-lookup"><span data-stu-id="de4b5-131">We also need tooversion our application.</span></span> <span data-ttu-id="de4b5-132">versão de hello toomake alterações depois que você clica em Olá **VisualObjects** projeto, você pode usar o Visual Studio de saudação **Editar manifesto versões** opção.</span><span class="sxs-lookup"><span data-stu-id="de4b5-132">toomake hello version changes after you right-click on hello **VisualObjects** project, you can use hello Visual Studio **Edit Manifest Versions** option.</span></span> <span data-ttu-id="de4b5-133">A seleção dessa opção abre caixa de diálogo Olá para versões de edição da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="de4b5-133">Selecting this option brings up hello dialog box for edition versions as follows:</span></span>

![Caixa de diálogo Controle de Versão][image3]

<span data-ttu-id="de4b5-135">Versões de saudação de atualização para Olá modificado projetos e seus pacotes de código, juntamente com hello aplicativo tooversion 2.0.0.</span><span class="sxs-lookup"><span data-stu-id="de4b5-135">Update hello versions for hello modified projects and their code packages, along with hello application tooversion 2.0.0.</span></span> <span data-ttu-id="de4b5-136">Depois que forem feitas alterações Olá, manifesto Olá deve ter aparência a seguir Olá (negrito partes mostram alterações Olá):</span><span class="sxs-lookup"><span data-stu-id="de4b5-136">After hello changes are made, hello manifest should look like hello following (bold portions show hello changes):</span></span>

![Atualizando versões][image4]

<span data-ttu-id="de4b5-138">ferramentas do Visual Studio Olá podem fazer pacotes cumulativos de atualizações automáticas de versões ao selecionar **atualizar automaticamente o aplicativo e as versões de serviço**.</span><span class="sxs-lookup"><span data-stu-id="de4b5-138">hello Visual Studio tools can do automatic rollups of versions upon selecting **Automatically update application and service versions**.</span></span> <span data-ttu-id="de4b5-139">Se você usar [SemVer](http://www.semver.org), você precisa tooupdate Olá código e/ou configuração pacote versão somente se essa opção for selecionada.</span><span class="sxs-lookup"><span data-stu-id="de4b5-139">If you use [SemVer](http://www.semver.org), you need tooupdate hello code and/or configuration package version alone if that option is selected.</span></span>

<span data-ttu-id="de4b5-140">Salvar alterações de saudação e verificar agora Olá **atualização Olá aplicativo** caixa.</span><span class="sxs-lookup"><span data-stu-id="de4b5-140">Save hello changes, and now check hello **Upgrade hello Application** box.</span></span>

## <a name="step-3--upgrade-your-application"></a><span data-ttu-id="de4b5-141">Etapa 3: Atualizar seu aplicativo</span><span class="sxs-lookup"><span data-stu-id="de4b5-141">Step 3:  Upgrade your application</span></span>
<span data-ttu-id="de4b5-142">Familiarize-se com hello [parâmetros de atualização de aplicativo](service-fabric-application-upgrade-parameters.md) e hello [processo de atualização](service-fabric-application-upgrade.md) tooget um bom entendimento da saudação vários atualizar parâmetros, tempos limite e critérios de integridade que pode ser aplicada.</span><span class="sxs-lookup"><span data-stu-id="de4b5-142">Familiarize yourself with hello [application upgrade parameters](service-fabric-application-upgrade-parameters.md) and hello [upgrade process](service-fabric-application-upgrade.md) tooget a good understanding of hello various upgrade parameters, time-outs, and health criterion that can be applied.</span></span> <span data-ttu-id="de4b5-143">Para este passo a passo, critério de avaliação de integridade de serviço de saudação é definido toohello padrão (modo de não monitorado).</span><span class="sxs-lookup"><span data-stu-id="de4b5-143">For this walkthrough, hello service health evaluation criterion is set toohello default (unmonitored mode).</span></span> <span data-ttu-id="de4b5-144">Você pode definir essas configurações selecionando **configurar configurações de atualização** e, em seguida, modificar parâmetros de saudação conforme desejado.</span><span class="sxs-lookup"><span data-stu-id="de4b5-144">You can configure these settings by selecting **Configure Upgrade Settings** and then modifying hello parameters as desired.</span></span>

<span data-ttu-id="de4b5-145">Agora, estamos todos os aplicativos de saudação do conjunto toostart atualização selecionando **publicar**.</span><span class="sxs-lookup"><span data-stu-id="de4b5-145">Now we are all set toostart hello application upgrade by selecting **Publish**.</span></span> <span data-ttu-id="de4b5-146">Essa opção atualiza tooversion seu aplicativo 2.0.0, no qual os objetos de saudação girar.</span><span class="sxs-lookup"><span data-stu-id="de4b5-146">This option upgrades your application tooversion 2.0.0, in which hello objects rotate.</span></span> <span data-ttu-id="de4b5-147">Serviço malha atualiza um domínio de atualização de cada vez (alguns objetos são atualizados primeiro, seguido por outras pessoas) e serviço Olá permanece acessível durante a atualização de saudação.</span><span class="sxs-lookup"><span data-stu-id="de4b5-147">Service Fabric upgrades one update domain at a time (some objects are updated first, followed by others), and hello service remains accessible during hello upgrade.</span></span> <span data-ttu-id="de4b5-148">O serviço de acesso toohello pode ser verificado por meio de seu cliente (navegador).</span><span class="sxs-lookup"><span data-stu-id="de4b5-148">Access toohello service can be checked through your client (browser).</span></span>  

<span data-ttu-id="de4b5-149">Agora, como hello prossegue de atualização do aplicativo, você poderá monitorá-lo com o Gerenciador do Service Fabric usando Olá **atualizações em andamento** guia em aplicativos de saudação.</span><span class="sxs-lookup"><span data-stu-id="de4b5-149">Now, as hello application upgrade proceeds, you can monitor it with Service Fabric Explorer, by using hello **Upgrades in Progress** tab under hello applications.</span></span>

<span data-ttu-id="de4b5-150">Em alguns minutos, todos os domínios de atualização devem ser atualizados (concluído) e janela de saída do Visual Studio Olá também deve indicar que a atualização Olá é concluída.</span><span class="sxs-lookup"><span data-stu-id="de4b5-150">In a few minutes, all update domains should be upgraded (completed), and hello Visual Studio output window should also state that hello upgrade is completed.</span></span> <span data-ttu-id="de4b5-151">E você deve notar que *todos os* objetos visuais de saudação na janela do navegador estão girando agora!</span><span class="sxs-lookup"><span data-stu-id="de4b5-151">And you should find that *all* hello visual objects in your browser window are now rotating!</span></span>

<span data-ttu-id="de4b5-152">Você pode desejar tootry alterando versões hello e mudança de versão 2.0.0 tooversion 3.0.0 como um exercício ou mesmo da versão 2.0.0 fazer tooversion 1.0.0.</span><span class="sxs-lookup"><span data-stu-id="de4b5-152">You may want tootry changing hello versions, and moving from version 2.0.0 tooversion 3.0.0 as an exercise, or even from version 2.0.0 back tooversion 1.0.0.</span></span> <span data-ttu-id="de4b5-153">Experimentar tempos limite e toomake de diretivas de integridade por conta própria familiarizados com eles.</span><span class="sxs-lookup"><span data-stu-id="de4b5-153">Play with time-outs and health policies toomake yourself familiar with them.</span></span> <span data-ttu-id="de4b5-154">Ao implantar tooan Azure cluster como oposição cluster local tooa, parâmetros de saudação usados podem ter toodiffer.</span><span class="sxs-lookup"><span data-stu-id="de4b5-154">When deploying tooan Azure cluster as opposed tooa local cluster, hello parameters used may have toodiffer.</span></span> <span data-ttu-id="de4b5-155">É recomendável que você definir tempos limite de saudação impedidas.</span><span class="sxs-lookup"><span data-stu-id="de4b5-155">We recommend that you set hello time-outs conservatively.</span></span>

## <a name="next-steps"></a><span data-ttu-id="de4b5-156">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="de4b5-156">Next steps</span></span>
<span data-ttu-id="de4b5-157">[Atualização do aplicativo usando o PowerShell](service-fabric-application-upgrade-tutorial-powershell.md) orienta você uma atualização de aplicativo usando o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="de4b5-157">[Upgrading your application using PowerShell](service-fabric-application-upgrade-tutorial-powershell.md) walks you through an application upgrade using PowerShell.</span></span>

<span data-ttu-id="de4b5-158">Controle como seu aplicativo é atualizado usando [parâmetros de atualização](service-fabric-application-upgrade-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="de4b5-158">Control how your application is upgraded by using [upgrade parameters](service-fabric-application-upgrade-parameters.md).</span></span>

<span data-ttu-id="de4b5-159">Verifique suas atualizações de aplicativo compatível aprendendo como toouse [serialização de dados](service-fabric-application-upgrade-data-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="de4b5-159">Make your application upgrades compatible by learning how toouse [data serialization](service-fabric-application-upgrade-data-serialization.md).</span></span>

<span data-ttu-id="de4b5-160">Saiba como toouse funcionalidade avançada ao atualizar seu aplicativo referindo-se muito[tópicos avançados](service-fabric-application-upgrade-advanced.md).</span><span class="sxs-lookup"><span data-stu-id="de4b5-160">Learn how toouse advanced functionality while upgrading your application by referring too[Advanced topics](service-fabric-application-upgrade-advanced.md).</span></span>

<span data-ttu-id="de4b5-161">Corrigir problemas comuns em atualizações de aplicativo consultando etapas toohello [Solucionando problemas de atualizações de aplicativo](service-fabric-application-upgrade-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="de4b5-161">Fix common problems in application upgrades by referring toohello steps in [Troubleshooting application upgrades](service-fabric-application-upgrade-troubleshooting.md).</span></span>

[image1]: media/service-fabric-application-upgrade-tutorial/upgrade7.png
[image2]: media/service-fabric-application-upgrade-tutorial/upgrade1.png
[image3]: media/service-fabric-application-upgrade-tutorial/upgrade5.png
[image4]: media/service-fabric-application-upgrade-tutorial/upgrade6.png
