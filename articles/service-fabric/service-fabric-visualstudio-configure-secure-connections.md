---
title: "aaaConfigure proteger Azure Service Fabric conexões de cluster | Microsoft Docs"
description: "Saiba como toouse Visual Studio tooconfigure proteger conexões que são suportadas pelo cluster do Azure Service Fabric hello."
services: service-fabric
documentationcenter: na
author: cawaMS
manager: paulyuk
editor: tglee
ms.assetid: 80501867-dd7a-4648-8bd6-d4f26b68402d
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 8/04/2017
ms.author: cawa
ms.openlocfilehash: ed3e5043264cf026f74e24ca09b40ccc70086cf2
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="configure-secure-connections-tooa-service-fabric-cluster-from-visual-studio"></a><span data-ttu-id="2b569-103">Configurar conexões seguras tooa malha do serviço cluster do Visual Studio</span><span class="sxs-lookup"><span data-stu-id="2b569-103">Configure secure connections tooa Service Fabric cluster from Visual Studio</span></span>
<span data-ttu-id="2b569-104">Saiba como toouse Visual Studio toosecurely acessar um cluster do Azure Service Fabric com as políticas de controle de acesso configuradas.</span><span class="sxs-lookup"><span data-stu-id="2b569-104">Learn how toouse Visual Studio toosecurely access an Azure Service Fabric cluster with access control policies configured.</span></span>

## <a name="cluster-connection-types"></a><span data-ttu-id="2b569-105">Tipos de conexão do cluster</span><span class="sxs-lookup"><span data-stu-id="2b569-105">Cluster connection types</span></span>
<span data-ttu-id="2b569-106">Dois tipos de conexões são suportados pelo cluster do Azure Service Fabric Olá: **não seguro** conexões e **x509 baseada em certificado** conexões seguras.</span><span class="sxs-lookup"><span data-stu-id="2b569-106">Two types of connections are supported by hello Azure Service Fabric cluster: **non-secure** connections and **x509 certificate-based** secure connections.</span></span> <span data-ttu-id="2b569-107">(Para clusters do Service Fabric hospedados localmente, também há suporte para autenticações do **Windows** e **dSTS**.) Você tem o tipo de conexão de cluster tooconfigure Olá quando cluster hello está sendo criado.</span><span class="sxs-lookup"><span data-stu-id="2b569-107">(For Service Fabric clusters hosted on-premises, **Windows** and **dSTS** authentications are also supported.) You have tooconfigure hello cluster connection type when hello cluster is being created.</span></span> <span data-ttu-id="2b569-108">Depois que ele é criado, o tipo de conexão de saudação não pode ser alterado.</span><span class="sxs-lookup"><span data-stu-id="2b569-108">Once it's created, hello connection type can’t be changed.</span></span>

<span data-ttu-id="2b569-109">ferramentas do Visual Studio Service Fabric Olá oferecem suporte a todos os tipos de autenticação para conexão cluster tooa para publicação.</span><span class="sxs-lookup"><span data-stu-id="2b569-109">hello Visual Studio Service Fabric tools support all authentication types for connecting tooa cluster for publishing.</span></span> <span data-ttu-id="2b569-110">Consulte [Configurando um cluster do Service Fabric do portal do Azure de saudação](service-fabric-cluster-creation-via-portal.md) para obter instruções sobre como tooset um cluster do Service Fabric segura.</span><span class="sxs-lookup"><span data-stu-id="2b569-110">See [Setting up a Service Fabric cluster from hello Azure portal](service-fabric-cluster-creation-via-portal.md) for instructions on how tooset up a secure Service Fabric cluster.</span></span>

## <a name="configure-cluster-connections-in-publish-profiles"></a><span data-ttu-id="2b569-111">Configurar conexões do cluster em perfis de publicação</span><span class="sxs-lookup"><span data-stu-id="2b569-111">Configure cluster connections in publish profiles</span></span>
<span data-ttu-id="2b569-112">Se você publicar um projeto de serviço de malha do Visual Studio, use Olá **publicar aplicativo do Service Fabric** toochoose caixa de diálogo um cluster do Azure Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="2b569-112">If you publish a Service Fabric project from Visual Studio, use hello **Publish Service Fabric Application** dialog box toochoose an Azure Service Fabric cluster.</span></span> <span data-ttu-id="2b569-113">Em **Ponto de extremidade de conexão**, selecione um cluster existente em sua assinatura.</span><span class="sxs-lookup"><span data-stu-id="2b569-113">Under **Connection endpoint**, select an existing cluster under your subscription.</span></span>

![Olá * * caixa de diálogo Publicar serviço Fabric Application * * é usado tooconfigure uma conexão do Service Fabric.][publishdialog]

<span data-ttu-id="2b569-115">Olá **publicar aplicativo do Service Fabric** caixa de diálogo valida automaticamente a conexão de cluster hello.</span><span class="sxs-lookup"><span data-stu-id="2b569-115">hello **Publish Service Fabric Application** dialog box automatically validates hello cluster connection.</span></span> <span data-ttu-id="2b569-116">Se solicitado, entre em tooyour conta do Azure.</span><span class="sxs-lookup"><span data-stu-id="2b569-116">If prompted, sign in tooyour Azure account.</span></span> <span data-ttu-id="2b569-117">Se a validação é bem-sucedida, isso significa que o sistema tenha Olá correto certificados instalados tooconnect toohello cluster com segurança, ou o cluster é não segura.</span><span class="sxs-lookup"><span data-stu-id="2b569-117">If validation passes, it means that your system has hello correct certificates installed tooconnect toohello cluster securely, or your cluster is non-secure.</span></span> <span data-ttu-id="2b569-118">Falhas de validação podem ser causadas por problemas de rede ou por não ter o cluster do sistema configurado corretamente tooconnect tooa segura.</span><span class="sxs-lookup"><span data-stu-id="2b569-118">Validation failures can be caused by network issues or by not having your system correctly configured tooconnect tooa secure cluster.</span></span>

![Olá * * publicar serviço Fabric Application * * caixa de diálogo valida um existente, configurado corretamente conexão de cluster do Service Fabric.][selectsfcluster]

### <a name="tooconnect-tooa-secure-cluster"></a><span data-ttu-id="2b569-120">tooconnect tooa segura cluster</span><span class="sxs-lookup"><span data-stu-id="2b569-120">tooconnect tooa secure cluster</span></span>
1. <span data-ttu-id="2b569-121">Verifique se que você pode acessar um dos certificados de cliente Olá Olá relações de confiança de cluster de destino.</span><span class="sxs-lookup"><span data-stu-id="2b569-121">Make sure you can access one of hello client certificates that hello destination cluster trusts.</span></span> <span data-ttu-id="2b569-122">certificado de saudação normalmente é compartilhado como um arquivo de troca de informações pessoais (. pfx).</span><span class="sxs-lookup"><span data-stu-id="2b569-122">hello certificate is usually shared as a Personal Information Exchange (.pfx) file.</span></span> <span data-ttu-id="2b569-123">Consulte [Configurando um cluster do Service Fabric do portal do Azure de saudação](service-fabric-cluster-creation-via-portal.md) para como tooconfigure Olá server toogrant acessar tooa cliente.</span><span class="sxs-lookup"><span data-stu-id="2b569-123">See [Setting up a Service Fabric cluster from hello Azure portal](service-fabric-cluster-creation-via-portal.md) for how tooconfigure hello server toogrant access tooa client.</span></span>
2. <span data-ttu-id="2b569-124">Instale o certificado confiável de saudação.</span><span class="sxs-lookup"><span data-stu-id="2b569-124">Install hello trusted certificate.</span></span> <span data-ttu-id="2b569-125">toodo isso, clique duas vezes no arquivo. pfx de saudação ou usar Olá PowerShell script Import-PfxCertificate tooimport Olá certificados.</span><span class="sxs-lookup"><span data-stu-id="2b569-125">toodo this, double-click hello .pfx file, or use hello PowerShell script Import-PfxCertificate tooimport hello certificates.</span></span> <span data-ttu-id="2b569-126">Instalar o certificado de saudação muito**Cert: \localmachine\my.**.</span><span class="sxs-lookup"><span data-stu-id="2b569-126">Install hello certificate too**Cert:\LocalMachine\My**.</span></span> <span data-ttu-id="2b569-127">É tooaccept Okey todas as configurações padrão ao importar o certificado de saudação.</span><span class="sxs-lookup"><span data-stu-id="2b569-127">It's OK tooaccept all default settings while importing hello certificate.</span></span>
3. <span data-ttu-id="2b569-128">Escolha Olá **publicar...**  comando no menu de atalho de saudação de saudação do hello projeto tooopen **publicar aplicativo do Azure** caixa de diálogo e o cluster de destino, em seguida, selecione hello.</span><span class="sxs-lookup"><span data-stu-id="2b569-128">Choose hello **Publish...** command on hello shortcut menu of hello project tooopen hello **Publish Azure Application** dialog box and then select hello target cluster.</span></span> <span data-ttu-id="2b569-129">ferramenta Olá resolve conexão hello e salva perfil de conexão segura de saudação parâmetros em Olá publicar automaticamente.</span><span class="sxs-lookup"><span data-stu-id="2b569-129">hello tool automatically resolves hello connection and saves hello secure connection parameters in hello publish profile.</span></span>
4. <span data-ttu-id="2b569-130">Opcional: Você pode editar Olá publicar perfil toospecify uma conexão segura de cluster.</span><span class="sxs-lookup"><span data-stu-id="2b569-130">Optional: You can edit hello publish profile toospecify a secure cluster connection.</span></span>
   
   <span data-ttu-id="2b569-131">Como editar manualmente informações de certificado do hello XML do perfil publicar arquivo toospecify Olá, ser se nome do repositório toonote Olá certificado, armazenar local e a impressão digital do certificado.</span><span class="sxs-lookup"><span data-stu-id="2b569-131">Since you're manually editing hello Publish Profile XML file toospecify hello certificate information, be sure toonote hello certificate store name, store location, and certificate thumbprint.</span></span> <span data-ttu-id="2b569-132">Você precisará tooprovide esses valores para o repositório do certificado Olá nome e local do repositório.</span><span class="sxs-lookup"><span data-stu-id="2b569-132">You'll need tooprovide these values for hello certificate's store name and store location.</span></span> <span data-ttu-id="2b569-133">Consulte [como: recuperar Olá impressão digital de um certificado](https://msdn.microsoft.com/library/ms734695\(v=vs.110\).aspx) para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="2b569-133">See [How to: Retrieve hello Thumbprint of a Certificate](https://msdn.microsoft.com/library/ms734695\(v=vs.110\).aspx) for more information.</span></span>
   
   <span data-ttu-id="2b569-134">Você pode usar o hello *ClusterConnectionParameters* parâmetros toospecify Olá PowerShell parâmetros toouse ao conectar-se o cluster do Service Fabric toohello.</span><span class="sxs-lookup"><span data-stu-id="2b569-134">You can use hello *ClusterConnectionParameters* parameters toospecify hello PowerShell parameters toouse when connecting toohello Service Fabric cluster.</span></span> <span data-ttu-id="2b569-135">Os parâmetros válidos são os que são aceitos pelo cmdlet do Connect-ServiceFabricCluster hello.</span><span class="sxs-lookup"><span data-stu-id="2b569-135">Valid parameters are any that are accepted by hello Connect-ServiceFabricCluster cmdlet.</span></span> <span data-ttu-id="2b569-136">Confira [Connect-ServiceFabricCluster](https://msdn.microsoft.com/library/mt125938.aspx) para obter uma lista dos parâmetros disponíveis.</span><span class="sxs-lookup"><span data-stu-id="2b569-136">See [Connect-ServiceFabricCluster](https://msdn.microsoft.com/library/mt125938.aspx) for a list of available parameters.</span></span>
   
   <span data-ttu-id="2b569-137">Se você estiver publicando um cluster remoto tooa, você precisa parâmetros apropriados do toospecify Olá para cluster específico.</span><span class="sxs-lookup"><span data-stu-id="2b569-137">If you’re publishing tooa remote cluster, you need toospecify hello appropriate parameters for that specific cluster.</span></span> <span data-ttu-id="2b569-138">a seguir Olá é um exemplo de cluster de não seguro de tooa conexão:</span><span class="sxs-lookup"><span data-stu-id="2b569-138">hello following is an example of connecting tooa non-secure cluster:</span></span>
   
   `<ClusterConnectionParameters ConnectionEndpoint="mycluster.westus.cloudapp.azure.com:19000" />`
   
   <span data-ttu-id="2b569-139">Aqui está um exemplo de conexão tooan x509 baseada em certificado seguro cluster:</span><span class="sxs-lookup"><span data-stu-id="2b569-139">Here’s an example for connecting tooan x509 certificate-based secure cluster:</span></span>
   
   ```xml
   <ClusterConnectionParameters
   ConnectionEndpoint="mycluster.westus.cloudapp.azure.com:19000"
   X509Credential="true"
   ServerCertThumbprint="0123456789012345678901234567890123456789"
   FindType="FindByThumbprint"
   FindValue="9876543210987654321098765432109876543210"
   StoreLocation="CurrentUser"
   StoreName="My" />
   ```
5. <span data-ttu-id="2b569-140">Editar outras configurações necessárias, como parâmetros de atualização e o local do arquivo de parâmetro de aplicativo e, em seguida, publicar seu aplicativo do hello **publicar aplicativo do Service Fabric** caixa de diálogo no Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="2b569-140">Edit any other necessary settings, such as upgrade parameters and Application Parameter file location, and then publish your application from hello **Publish Service Fabric Application** dialog box in Visual Studio.</span></span>

## <a name="next-steps"></a><span data-ttu-id="2b569-141">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="2b569-141">Next steps</span></span>
<span data-ttu-id="2b569-142">Para saber mais sobre como acessar os clusters do Service Fabric, confira [Visualizando o cluster usando o Explorador do Service Fabric](service-fabric-visualizing-your-cluster.md).</span><span class="sxs-lookup"><span data-stu-id="2b569-142">For more information about accessing Service Fabric clusters, see [Visualizing your cluster by using Service Fabric Explorer](service-fabric-visualizing-your-cluster.md).</span></span>

<!--Image references-->
[publishdialog]:./media/service-fabric-visualstudio-configure-secure-connections/publishdialog.png
[selectsfcluster]:./media/service-fabric-visualstudio-configure-secure-connections/selectsfcluster.png
