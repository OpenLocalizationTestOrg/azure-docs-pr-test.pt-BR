---
title: "aaaSet a integração contínua para microservices do Azure | Microsoft Docs"
description: "Obtenha uma visão geral de como tooset integração contínua e implantação para um aplicativo de malha do serviço usando o Visual Studio Team Services (VSTS)."
services: service-fabric
documentationcenter: na
author: mthalman-msft
manager: timlt
editor: 
ms.assetid: 3e8c2290-9e7a-456a-9b2c-db44d1b3988d
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 12/06/2016
ms.author: mthalman;mikhegn
ms.openlocfilehash: 041e081f4a42f379394f2d21f07db4f6de045b24
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="set-up-service-fabric-continuous-integration-and-deployment-with-visual-studio-team-services"></a><span data-ttu-id="3eaf1-103">Configurar a implantação e integração contínua do Service Fabric com o Visual Studio Team Services</span><span class="sxs-lookup"><span data-stu-id="3eaf1-103">Set up Service Fabric continuous integration and deployment with Visual Studio Team Services</span></span>
<span data-ttu-id="3eaf1-104">Este artigo descreve Olá etapas tooset integração contínua e implantação de um aplicativo do Azure Service Fabric usando o Visual Studio Team Services (VSTS).</span><span class="sxs-lookup"><span data-stu-id="3eaf1-104">This article describes hello steps tooset up continuous integration and deployment for an Azure Service Fabric application by using Visual Studio Team Services (VSTS).</span></span>

<span data-ttu-id="3eaf1-105">Este documento reflete o procedimento atual hello e é esperado toochange ao longo do tempo.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-105">This document reflects hello current procedure and is expected toochange over time.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="3eaf1-106">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="3eaf1-106">Prerequisites</span></span>
<span data-ttu-id="3eaf1-107">tooget iniciado, siga estas etapas:</span><span class="sxs-lookup"><span data-stu-id="3eaf1-107">tooget started, follow these steps:</span></span>

1. <span data-ttu-id="3eaf1-108">Certifique-se de que você tenha acesso tooa Team Services conta ou [criar um](https://www.visualstudio.com/docs/setup-admin/team-services/sign-up-for-visual-studio-team-services) por conta própria.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-108">Ensure that you have access tooa Team Services account or [create one](https://www.visualstudio.com/docs/setup-admin/team-services/sign-up-for-visual-studio-team-services) yourself.</span></span>
2. <span data-ttu-id="3eaf1-109">Verifique se você tem o projeto de equipe do Team Services do access tooa ou [criar um](https://www.visualstudio.com/docs/setup-admin/create-team-project) por conta própria.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-109">Ensure that you have access tooa Team Services team project or [create one](https://www.visualstudio.com/docs/setup-admin/create-team-project) yourself.</span></span>
3. <span data-ttu-id="3eaf1-110">Certifique-se de que você tenha um toowhich de cluster do Service Fabric você pode implantar seu aplicativo ou criar um usando Olá [portal do Azure](service-fabric-cluster-creation-via-portal.md), uma [modelo do Azure Resource Manager](service-fabric-cluster-creation-via-arm.md), ou [Visual Studio ](service-fabric-cluster-creation-via-visual-studio.md).</span><span class="sxs-lookup"><span data-stu-id="3eaf1-110">Ensure that you have a Service Fabric cluster toowhich you can deploy your application or create one using hello [Azure portal](service-fabric-cluster-creation-via-portal.md), an [Azure Resource Manager template](service-fabric-cluster-creation-via-arm.md), or [Visual Studio](service-fabric-cluster-creation-via-visual-studio.md).</span></span>
4. <span data-ttu-id="3eaf1-111">Certifique-se de que você já tenha criado um projeto do Aplicativo do Service Fabric (.sfproj).</span><span class="sxs-lookup"><span data-stu-id="3eaf1-111">Ensure that you have already created a Service Fabric Application (.sfproj) project.</span></span> <span data-ttu-id="3eaf1-112">Você deve ter um projeto que foi criado ou atualizado com o serviço de malha SDK 2.1 ou posterior (arquivo de .sfproj Olá deve conter um valor de propriedade ProjectVersion 1.1 ou superior).</span><span class="sxs-lookup"><span data-stu-id="3eaf1-112">You must have a project that was created or upgraded with Service Fabric SDK 2.1 or higher (hello .sfproj file should contain a ProjectVersion property value of 1.1 or higher).</span></span>

> [!NOTE]
> <span data-ttu-id="3eaf1-113">Agentes de build personalizado não são mais necessários.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-113">Custom build agents are no longer required.</span></span> <span data-ttu-id="3eaf1-114">Os agentes hospedados do Team Services agora têm o software de gerenciamento de cluster do Service Fabric pré-instalado, permitindo a implantação de seus aplicativos diretamente de agentes.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-114">Team Services hosted agents now come pre-installed with Service Fabric cluster management software, allowing for deployment of your applications directly from those agents.</span></span>
> 
> 

## <a name="configure-and-share-your-source-files"></a><span data-ttu-id="3eaf1-115">Configurar e compartilhar seus arquivos de origem</span><span class="sxs-lookup"><span data-stu-id="3eaf1-115">Configure and share your source files</span></span>
<span data-ttu-id="3eaf1-116">primeira coisa que Olá desejar toodo é preparar um perfil de publicação para uso pelo processo de implantação de saudação que é executado no Team Services.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-116">hello first thing you want toodo is prepare a publish profile for use by hello deployment process that executes within Team Services.</span></span>  <span data-ttu-id="3eaf1-117">saudação de perfil de publicação deve ser o cluster de saudação tootarget configurado que você preparou anteriormente:</span><span class="sxs-lookup"><span data-stu-id="3eaf1-117">hello publish profile should be configured tootarget hello cluster that you've previously prepared:</span></span>

1. <span data-ttu-id="3eaf1-118">Escolha um perfil de publicação em seu projeto de aplicativo que você deseja toouse para seu fluxo de trabalho de integração contínua.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-118">Choose a publish profile within your Application project that you want toouse for your continuous integration workflow.</span></span> <span data-ttu-id="3eaf1-119">Siga Olá [publicar instruções](service-fabric-publish-app-remote-cluster.md) sobre como toopublish um cluster remoto de tooa do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-119">Follow hello [publish instructions](service-fabric-publish-app-remote-cluster.md) on how toopublish an application tooa remote cluster.</span></span> <span data-ttu-id="3eaf1-120">Você não precisa realmente toopublish seu aplicativo embora.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-120">You don't actually need toopublish your application though.</span></span> <span data-ttu-id="3eaf1-121">Você pode clicar em Olá **salvar** hiperlink no hello caixa de diálogo de publicação depois que você configurou as coisas corretamente.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-121">You can click hello **Save** hyperlink in hello publish dialog once you have configured things appropriately.</span></span>
2. <span data-ttu-id="3eaf1-122">Se você quiser que sua toobe de aplicativo atualizado para cada implantação que ocorre dentro do Team Services, você deseja tooconfigure Olá atualização tooenable do perfil de publicação.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-122">If you want your application toobe upgraded for each deployment that occurs within Team Services, you want tooconfigure hello publish profile tooenable upgrade.</span></span> <span data-ttu-id="3eaf1-123">Em Olá mesmo publicar diálogo usado na etapa 1, certifique-se de que Olá **atualização Olá aplicativo** caixa de seleção é marcada.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-123">In hello same publish dialog used in step 1, ensure that hello **Upgrade hello Application** checkbox is checked.</span></span>  <span data-ttu-id="3eaf1-124">Saiba mais sobre como [definir configurações de atualização adicionais](service-fabric-visualstudio-configure-upgrade.md).</span><span class="sxs-lookup"><span data-stu-id="3eaf1-124">Learn more about [configuring additional upgrade settings](service-fabric-visualstudio-configure-upgrade.md).</span></span> <span data-ttu-id="3eaf1-125">Clique em Olá **salvar** hiperlink toosave Olá configurações toohello perfil de publicação.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-125">Click hello **Save** hyperlink toosave hello settings toohello publish profile.</span></span>
3. <span data-ttu-id="3eaf1-126">Certifique-se de que você salvou as alterações toohello publicar perfil e Cancelar Olá caixa de diálogo Publicar.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-126">Ensure that you've saved your changes toohello publish profile and cancel hello publish dialog.</span></span>
4. <span data-ttu-id="3eaf1-127">Agora é muito tempo[compartilhar seus arquivos de origem do projeto de aplicativo](https://www.visualstudio.com/docs/setup-admin/team-services/connect-to-visual-studio-team-services#vs) com Team Services.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-127">Now it's time too[share your Application project source files](https://www.visualstudio.com/docs/setup-admin/team-services/connect-to-visual-studio-team-services#vs) with Team Services.</span></span> <span data-ttu-id="3eaf1-128">Depois que os arquivos de origem são acessíveis no Team Services, agora você pode mover na próxima etapa toohello de geração de compilações.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-128">Once your source files are accessible in Team Services, you can now move on toohello next step of generating builds.</span></span> 

## <a name="create-a-build-definition"></a><span data-ttu-id="3eaf1-129">Criar a definição de build</span><span class="sxs-lookup"><span data-stu-id="3eaf1-129">Create a build definition</span></span>
<span data-ttu-id="3eaf1-130">Uma definição de build do Team Services descreve um fluxo de trabalho composto por um conjunto de etapas de compilação que são executadas sequencialmente.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-130">A Team Services build definition describes a workflow that is composed of a set of build steps that are executed sequentially.</span></span> <span data-ttu-id="3eaf1-131">meta de saudação da definição de compilação de saudação que você está criando é tooproduce um pacote de aplicativo de malha do serviço e outros artefatos, que podem ser usado toodeploy Olá aplicativo.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-131">hello goal of hello build definition that you are creating is tooproduce a Service Fabric application package, and other artifacts, that can be used toodeploy hello application.</span></span> <span data-ttu-id="3eaf1-132">Saiba mais sobre as [definições de build](https://www.visualstudio.com/docs/build/define/create)do Team Services.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-132">Learn more about Team Services [build definitions](https://www.visualstudio.com/docs/build/define/create).</span></span>

### <a name="create-a-definition-from-hello-build-template"></a><span data-ttu-id="3eaf1-133">Criar uma definição de modelo de compilação de saudação</span><span class="sxs-lookup"><span data-stu-id="3eaf1-133">Create a definition from hello build template</span></span>
1. <span data-ttu-id="3eaf1-134">Abra o projeto de equipe no Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-134">Open your team project in Visual Studio Team Services.</span></span>
2. <span data-ttu-id="3eaf1-135">Selecione Olá **criar** guia.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-135">Select hello **Build** tab.</span></span>
3. <span data-ttu-id="3eaf1-136">Verde Olá selecione  **+**  entrar toocreate uma nova definição de compilação.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-136">Select hello green **+** sign toocreate a new build definition.</span></span>
4. <span data-ttu-id="3eaf1-137">Olá caixa de diálogo que é aberta, selecione **aplicativo do Azure Service Fabric** em Olá **criar** categoria de modelo.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-137">In hello dialog that opens, select **Azure Service Fabric Application** within hello **Build** template category.</span></span>
5. <span data-ttu-id="3eaf1-138">Selecione **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-138">Select **Next**.</span></span>
6. <span data-ttu-id="3eaf1-139">Selecione repositório hello e ramificação associado ao seu aplicativo de malha do serviço.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-139">Select hello repository and branch associated with your Service Fabric application.</span></span>
7. <span data-ttu-id="3eaf1-140">Selecione a fila de agente de saudação desejar toouse.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-140">Select hello agent queue you wish toouse.</span></span> <span data-ttu-id="3eaf1-141">Há suporte para agentes hospedados.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-141">Hosted agents are supported.</span></span>
8. <span data-ttu-id="3eaf1-142">Selecione **Criar**.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-142">Select **Create**.</span></span>
9. <span data-ttu-id="3eaf1-143">Salvar a definição de compilação hello e forneça um nome.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-143">Save hello build definition and provide a name.</span></span>
10. <span data-ttu-id="3eaf1-144">Olá, parágrafo a seguir é uma descrição das etapas de compilação Olá gerados pelo modelo hello:</span><span class="sxs-lookup"><span data-stu-id="3eaf1-144">hello following paragraph is a description of hello build steps generated by hello template:</span></span>

| <span data-ttu-id="3eaf1-145">Etapa de build</span><span class="sxs-lookup"><span data-stu-id="3eaf1-145">Build step</span></span> | <span data-ttu-id="3eaf1-146">Descrição</span><span class="sxs-lookup"><span data-stu-id="3eaf1-146">Description</span></span> |
| --- | --- |
| <span data-ttu-id="3eaf1-147">Restauração do NuGet</span><span class="sxs-lookup"><span data-stu-id="3eaf1-147">NuGet restore</span></span> |<span data-ttu-id="3eaf1-148">Restaura os pacotes do NuGet Olá para solução de saudação.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-148">Restores hello NuGet packages for hello solution.</span></span> |
| <span data-ttu-id="3eaf1-149">Compilar solução \*.sln</span><span class="sxs-lookup"><span data-stu-id="3eaf1-149">Build solution \*.sln</span></span> |<span data-ttu-id="3eaf1-150">Compila a solução inteira hello.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-150">Builds hello entire solution.</span></span> |
| <span data-ttu-id="3eaf1-151">Compilar solução \*.sfproj</span><span class="sxs-lookup"><span data-stu-id="3eaf1-151">Build solution \*.sfproj</span></span> |<span data-ttu-id="3eaf1-152">Gera o pacote de aplicativo do Service Fabric Olá é usado toodeploy Olá aplicativo.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-152">Generates hello Service Fabric application package that is used toodeploy hello application.</span></span> <span data-ttu-id="3eaf1-153">local do pacote de aplicativo Hello é toobe especificado no diretório de artefato do build hello.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-153">hello application package location is specified toobe within hello build's artifact directory.</span></span> |
| <span data-ttu-id="3eaf1-154">Atualizar Versões de Aplicativo do Service Fabric</span><span class="sxs-lookup"><span data-stu-id="3eaf1-154">Update Service Fabric App Versions</span></span> |<span data-ttu-id="3eaf1-155">Atualiza valores de versão de hello contidos em tooallow de arquivos de manifesto do pacote de aplicativo hello para suporte à atualização.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-155">Updates hello version values contained in hello application package's manifest files tooallow for upgrade support.</span></span> <span data-ttu-id="3eaf1-156">Consulte Olá [página de documentação de tarefa](https://go.microsoft.com/fwlink/?LinkId=820529) para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-156">See hello [task documentation page](https://go.microsoft.com/fwlink/?LinkId=820529) for more information.</span></span> |
| <span data-ttu-id="3eaf1-157">Copiar Arquivos</span><span class="sxs-lookup"><span data-stu-id="3eaf1-157">Copy Files</span></span> |<span data-ttu-id="3eaf1-158">Olá cópias publicar perfil e toobe de artefatos de compilação do aplicativo parâmetros arquivos toohello consumido para a implantação.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-158">Copies hello publish profile and application parameters files toohello build's artifacts toobe consumed for deployment.</span></span> |
| <span data-ttu-id="3eaf1-159">Publicar o Artefato</span><span class="sxs-lookup"><span data-stu-id="3eaf1-159">Publish Artifact</span></span> |<span data-ttu-id="3eaf1-160">Publica os artefatos de saudação da compilação.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-160">Publishes hello build's artifacts.</span></span> <span data-ttu-id="3eaf1-161">Permite que uma definição de versão artefatos da versão do tooconsume hello.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-161">Allows a release definition tooconsume hello build's artifacts.</span></span> |

### <a name="verify-hello-default-set-of-tasks"></a><span data-ttu-id="3eaf1-162">Verifique se o conjunto padrão de saudação de tarefas</span><span class="sxs-lookup"><span data-stu-id="3eaf1-162">Verify hello default set of tasks</span></span>
1. <span data-ttu-id="3eaf1-163">Verifique se Olá **solução** campo de entrada para Olá **restauração do NuGet** e **compilar solução** etapas de compilação.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-163">Verify hello **Solution** input field for hello **NuGet restore** and **Build solution** build steps.</span></span>  <span data-ttu-id="3eaf1-164">Por padrão, essas etapas de compilação executar em todos os arquivos de solução que estão contidos no repositório de saudação associado.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-164">By default, these build steps execute upon all solution files that are contained in hello associated repository.</span></span>  <span data-ttu-id="3eaf1-165">Se você desejar somente Olá toooperate de definição de compilação em um desses arquivos de solução, você precisará de tooexplicitly atualização Olá caminho toothat arquivo.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-165">If you only want hello build definition toooperate on one of those solution files, you need tooexplicitly update hello path toothat file.</span></span>
2. <span data-ttu-id="3eaf1-166">Verifique se Olá **solução** campo de entrada para Olá **empacotar aplicativo** passo de compilação.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-166">Verify hello **Solution** input field for hello **Package application** build step.</span></span>  <span data-ttu-id="3eaf1-167">Por padrão, essa etapa de compilação presume que existe apenas um projeto de aplicativo do Service Fabric (.sfproj) no repositório de saudação.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-167">By default, this build step assumes only one Service Fabric Application project (.sfproj) exists in hello repository.</span></span>  <span data-ttu-id="3eaf1-168">Se você tiver vários esses arquivos em seu repositório e deseja tootarget apenas uma para esta definição de compilação, você precisará de tooexplicitly atualização Olá caminho toothat arquivo.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-168">If you have multiple such files in your repository and want tootarget only one of them for this build definition, you need tooexplicitly update hello path toothat file.</span></span>  <span data-ttu-id="3eaf1-169">Se você quiser toopackage de projetos de vários aplicativos em seu repositório, você precisa toocreate adicionais **compilar do Visual Studio** etapas na definição de compilação de saudação que cada um projeto de aplicativo de destino.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-169">If you want toopackage multiple Application projects in your repository, you need toocreate additional **Visual Studio Build** steps in hello build definition that each target an Application project.</span></span>  <span data-ttu-id="3eaf1-170">Também, em seguida, seria necessário Olá tooupdate **argumentos de MSBuild** campo para cada uma das etapas de compilação para que o local do pacote de saudação é exclusivo para cada um deles.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-170">You would then also need tooupdate hello **MSBuild Arguments** field for each of those build steps so that hello package location is unique for each of them.</span></span>
3. <span data-ttu-id="3eaf1-171">Verificar o comportamento do controle de versão Olá definido no hello **versões de aplicativo de malha de serviço de atualização** passo de compilação.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-171">Verify hello versioning behavior defined in hello **Update Service Fabric App Versions** build step.</span></span>  <span data-ttu-id="3eaf1-172">Por padrão, essa etapa de compilação acrescenta Olá compilação tooall versão valores numéricos nos arquivos de manifesto do pacote de aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-172">By default, this build step appends hello build number tooall version values in hello application package's manifest files.</span></span> <span data-ttu-id="3eaf1-173">Consulte Olá [página de documentação de tarefa](https://go.microsoft.com/fwlink/?LinkId=820529) para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-173">See hello [task documentation page](https://go.microsoft.com/fwlink/?LinkId=820529) for more information.</span></span> <span data-ttu-id="3eaf1-174">Isso é útil para dar suporte a atualização do aplicativo pois cada implantação de atualização requer valores de versão diferente de implantação anterior hello.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-174">This is useful for supporting upgrade of your application since each upgrade deployment requires different version values from hello previous deployment.</span></span> <span data-ttu-id="3eaf1-175">Se você não estiver pretendendo toouse atualização do aplicativo no seu fluxo de trabalho, você pode considerar a desabilitação desta etapa de compilação.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-175">If you're not intending toouse application upgrade in your workflow, you may consider disabling this build step.</span></span> <span data-ttu-id="3eaf1-176">Ele deve ser desabilitado se sua intenção for tooproduce uma compilação que pode ser usado toooverwrite um aplicativo existente do Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-176">It must be disabled if your intention is tooproduce a build that can be used toooverwrite an existing Service Fabric application.</span></span> <span data-ttu-id="3eaf1-177">implantação Olá falhará se a versão de saudação do aplicativo hello produzido pela compilação Olá não corresponde a versão saudação do aplicativo hello cluster hello.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-177">hello deployment fails if hello version of hello application produced by hello build does not match hello version of hello application in hello cluster.</span></span>
4. <span data-ttu-id="3eaf1-178">Se sua solução contiver um projeto .NET Core, certifique-se de que sua definição de compilação contém uma etapa de compilação que restaura dependências hello:</span><span class="sxs-lookup"><span data-stu-id="3eaf1-178">If your solution contains a .NET Core project, you must ensure that your build definition contains a build step that restores hello dependencies:</span></span>
   1. <span data-ttu-id="3eaf1-179">Selecione **Adicionar etapa de build...**.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-179">Select **Add build step...**.</span></span>
   2. <span data-ttu-id="3eaf1-180">Localizar Olá **de linha de comando** no guia de utilitário de saudação de tarefas e clique no botão Adicionar.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-180">Locate hello **Command-Line** task within hello Utility tab and click its Add button.</span></span>
   3. <span data-ttu-id="3eaf1-181">Para campos de entrada da tarefa hello, use Olá valores a seguir:</span><span class="sxs-lookup"><span data-stu-id="3eaf1-181">For hello task's input fields, use hello following values:</span></span>
   4. <span data-ttu-id="3eaf1-182">Ferramenta: dotnet</span><span class="sxs-lookup"><span data-stu-id="3eaf1-182">Tool: dotnet</span></span>
   5. <span data-ttu-id="3eaf1-183">Argumentos: restore</span><span class="sxs-lookup"><span data-stu-id="3eaf1-183">Arguments: restore</span></span>
   6. <span data-ttu-id="3eaf1-184">Arraste tarefas Olá para que ele seja imediatamente após Olá **restauração do NuGet** etapa.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-184">Drag hello task so that it is immediately after hello **NuGet restore** step.</span></span>
5. <span data-ttu-id="3eaf1-185">Salvar as alterações feitas toohello definição de compilação.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-185">Save any changes you've made toohello build definition.</span></span>

### <a name="try-it"></a><span data-ttu-id="3eaf1-186">Experimente</span><span class="sxs-lookup"><span data-stu-id="3eaf1-186">Try it</span></span>
<span data-ttu-id="3eaf1-187">Selecione **Enfileirar compilação** toomanually iniciar uma compilação.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-187">Select **Queue Build** toomanually start a build.</span></span> <span data-ttu-id="3eaf1-188">A compilação também é disparada durante o push ou check-in.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-188">Builds also triggers upon push or check-in.</span></span> <span data-ttu-id="3eaf1-189">Depois que você verificou a compilação hello está sendo executado com êxito, agora você pode mover em toodefining uma definição de versão que implanta o cluster de tooa do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-189">Once you've verified that hello build is executing successfully, you can now move on toodefining a release definition that deploys your application tooa cluster.</span></span>

## <a name="create-a-release-definition"></a><span data-ttu-id="3eaf1-190">Criar uma definição de versão</span><span class="sxs-lookup"><span data-stu-id="3eaf1-190">Create a release definition</span></span>
<span data-ttu-id="3eaf1-191">Uma definição de versão do Team Services descreve um fluxo de trabalho composto por um conjunto de tarefas que são executadas sequencialmente.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-191">A Team Services release definition describes a workflow that is composed of a set of tasks that are executed sequentially.</span></span> <span data-ttu-id="3eaf1-192">meta de saudação da definição de versão de saudação que você está criando é tootake um pacote de aplicativos e implantá-lo tooa cluster.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-192">hello goal of hello release definition that you are creating is tootake an application package and deploy it tooa cluster.</span></span> <span data-ttu-id="3eaf1-193">Quando usados juntos, a definição de compilação hello e definição de versão pode executar o fluxo de trabalho inteiro Olá iniciem com tooending de arquivos de origem com um aplicativo em execução no cluster.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-193">When used together, hello build definition and release definition can execute hello entire workflow from starting with source files tooending with a running application in your cluster.</span></span> <span data-ttu-id="3eaf1-194">Saiba mais sobre as [definições de versão](https://www.visualstudio.com/docs/release/author-release-definition/more-release-definition)do Team Services.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-194">Learn more about Team Services [release definitions](https://www.visualstudio.com/docs/release/author-release-definition/more-release-definition).</span></span>

### <a name="create-a-definition-from-hello-release-template"></a><span data-ttu-id="3eaf1-195">Criar uma definição de modelo de saudação de liberação</span><span class="sxs-lookup"><span data-stu-id="3eaf1-195">Create a definition from hello release template</span></span>
1. <span data-ttu-id="3eaf1-196">Abra o projeto no Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-196">Open your project in Visual Studio Team Services.</span></span>
2. <span data-ttu-id="3eaf1-197">Selecione Olá **versão** guia.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-197">Select hello **Release** tab.</span></span>
3. <span data-ttu-id="3eaf1-198">Selecione Olá verde  **+**  toocreate uma nova definição de versão e selecione **criar versão definição** no menu de saudação.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-198">Select hello green **+** sign toocreate a new release definition and select **Create release definition** in hello menu.</span></span>
4. <span data-ttu-id="3eaf1-199">Olá caixa de diálogo que é aberta, selecione **implantação de malha do serviço Azure** em Olá **implantação** categoria de modelo.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-199">In hello dialog that opens, select **Azure Service Fabric Deployment** within hello **Deployment** template category.</span></span>
5. <span data-ttu-id="3eaf1-200">Selecione **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-200">Select **Next**.</span></span>
6. <span data-ttu-id="3eaf1-201">Selecione o que deseja toouse como origem Olá desta definição de versão de definição de compilação hello.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-201">Select hello build definition you want toouse as hello source of this release definition.</span></span>  <span data-ttu-id="3eaf1-202">definição de compilação Olá versão definição referências Olá artefatos que foram produzidos pelo Olá selecionado.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-202">hello release definition references hello artifacts that were produced by hello selected build definition.</span></span>
7. <span data-ttu-id="3eaf1-203">Verificar Olá **implantação contínua** caixa de seleção se desejar toohave Team Services automaticamente cria uma nova versão e implantar o aplicativo de serviço de malha hello sempre que uma compilação é concluída.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-203">Check hello **Continuous deployment** check box if you wish toohave Team Services automatically create a new release and deploy hello Service Fabric application whenever a build completes.</span></span>
8. <span data-ttu-id="3eaf1-204">Selecione a fila de agente de saudação desejar toouse.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-204">Select hello agent queue you wish toouse.</span></span> <span data-ttu-id="3eaf1-205">Há suporte para agentes hospedados.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-205">Hosted agents are supported.</span></span>
9. <span data-ttu-id="3eaf1-206">Selecione **Criar**.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-206">Select **Create**.</span></span>
10. <span data-ttu-id="3eaf1-207">Edite nome de definição de Olá Olá ícone de lápis na parte superior de saudação da página de saudação.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-207">Edit hello definition name by clicking hello pencil icon at hello top of hello page.</span></span>
11. <span data-ttu-id="3eaf1-208">Selecione Olá cluster toowhich seu aplicativo deve ser implantado no hello **Conexão Cluster** campo de entrada de tarefa hello.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-208">Select hello cluster toowhich your application should be deployed from hello **Cluster Connection** input field of hello task.</span></span> <span data-ttu-id="3eaf1-209">conexão de cluster Olá fornece informações Olá necessário permite Olá implantação tarefa tooconnect toohello cluster.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-209">hello cluster connection provides hello necessary information that allows hello deployment task tooconnect toohello cluster.</span></span> <span data-ttu-id="3eaf1-210">Se você ainda não tiver uma conexão de cluster para o cluster, selecione Olá **gerenciar** hiperlink próxima toohello campo tooadd um.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-210">If you do not yet have a cluster connection for your cluster, select hello **Manage** hyperlink next toohello field tooadd one.</span></span> <span data-ttu-id="3eaf1-211">Na página de saudação que é aberta, execute Olá etapas a seguir:</span><span class="sxs-lookup"><span data-stu-id="3eaf1-211">On hello page that opens, perform hello following steps:</span></span>
    1. <span data-ttu-id="3eaf1-212">Selecione **novo ponto de extremidade de serviço** e, em seguida, selecione **Azure Service Fabric** menu hello.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-212">Select **New Service Endpoint** and then select **Azure Service Fabric** from hello menu.</span></span>
    2. <span data-ttu-id="3eaf1-213">Selecione o tipo de saudação de autenticação usado pelo cluster Olá afetado por esse ponto de extremidade.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-213">Select hello type of authentication being used by hello cluster targeted by this endpoint.</span></span>
    3. <span data-ttu-id="3eaf1-214">Defina um nome para sua conexão em Olá **nome de Conexão** campo.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-214">Define a name for your connection in hello **Connection Name** field.</span></span>  <span data-ttu-id="3eaf1-215">Normalmente, você poderia usar o nome de saudação do cluster.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-215">Typically, you would use hello name of your cluster.</span></span>
    4. <span data-ttu-id="3eaf1-216">Definir a URL de ponto de extremidade de conexão de cliente Olá em Olá **ponto de extremidade do Cluster** campo.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-216">Define hello client connection endpoint URL in hello **Cluster Endpoint** field.</span></span>  <span data-ttu-id="3eaf1-217">Exemplo: tcp://contoso.westus.cloudapp.azure.com:19000.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-217">Example: tcp://contoso.westus.cloudapp.azure.com:19000.</span></span>
    5. <span data-ttu-id="3eaf1-218">As credenciais do Active Directory do Azure, definir credenciais de saudação deseja toouse tooconnect toohello cluster Olá **Username** e **senha** campos.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-218">For Azure Active Directory credentials, define hello credentials you want toouse tooconnect toohello cluster in hello **Username** and **Password** fields.</span></span>
    6. <span data-ttu-id="3eaf1-219">Para a autenticação baseada em certificado, defina Olá Base64 codificação do arquivo de certificado de cliente Olá no hello **certificado de cliente** campo.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-219">For Certificate Based authentication, define hello Base64 encoding of hello client certificate file in hello **Client Certificate** field.</span></span>  <span data-ttu-id="3eaf1-220">Consulte a Ajuda pop-up a saudação nesse campo para obter informações sobre como tooget esse valor.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-220">See hello help pop-up on that field for info on how tooget that value.</span></span>  <span data-ttu-id="3eaf1-221">Se o certificado for protegido por senha, definir senha de saudação em Olá **senha** campo.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-221">If your certificate is password-protected, define hello password in hello **Password** field.</span></span>
    7. <span data-ttu-id="3eaf1-222">Confirme suas alterações clicando em **OK**.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-222">Confirm your changes by clicking **OK**.</span></span> <span data-ttu-id="3eaf1-223">Depois de navegar tooyour back definição de versão, clique em ícone de atualização de Olá Olá **Conexão Cluster** campo toosee Olá ponto de extremidade que acabou de adicionar.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-223">After navigating back tooyour release definition, click hello refresh icon on hello **Cluster Connection** field toosee hello endpoint you just added.</span></span>
12. <span data-ttu-id="3eaf1-224">Salve a definição de versão de saudação.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-224">Save hello release definition.</span></span>

> [!NOTE]
> <span data-ttu-id="3eaf1-225">Contas da Microsoft (por exemplo, não há suporte para @hotmail.com ou @outlook.com) na autenticação do Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-225">Microsoft Accounts (for example, @hotmail.com or @outlook.com) are not supported with Azure Active Directory authentication.</span></span>
> 
> 

<span data-ttu-id="3eaf1-226">definição de saudação criado consiste em uma tarefa do tipo **implantação de aplicativo de malha do serviço**.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-226">hello definition that is created consists of one task of type **Service Fabric Application Deployment**.</span></span> <span data-ttu-id="3eaf1-227">Consulte Olá [página de documentação de tarefa](https://go.microsoft.com/fwlink/?LinkId=820528) para obter mais informações sobre essa tarefa.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-227">See hello [task documentation page](https://go.microsoft.com/fwlink/?LinkId=820528) for more information about this task.</span></span>

### <a name="verify-hello-template-defaults"></a><span data-ttu-id="3eaf1-228">Verifique se os padrões de modelo de saudação</span><span class="sxs-lookup"><span data-stu-id="3eaf1-228">Verify hello template defaults</span></span>
1. <span data-ttu-id="3eaf1-229">Verificar Olá **perfil de publicação** campo de entrada para Olá **implantar o aplicativo do Service Fabric** tarefa.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-229">Verify hello **Publish Profile** input field for hello **Deploy Service Fabric Application** task.</span></span> <span data-ttu-id="3eaf1-230">Por padrão, este campo faz referência a um perfil de publicação denominado Cloud.xml contidos em artefatos de saudação da compilação.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-230">By default, this field references a publish profile named Cloud.xml contained in hello build's artifacts.</span></span> <span data-ttu-id="3eaf1-231">Se você quiser tooreference um perfil de publicação diferente ou compilação Olá contém vários pacotes de aplicativos em seus artefatos, você precisa tooupdate Olá caminho adequadamente.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-231">If you want tooreference a different publish profile or if hello build contains multiple application packages in its artifacts, you need tooupdate hello path appropriately.</span></span>
2. <span data-ttu-id="3eaf1-232">Verificar Olá **pacote de aplicativo** campo de entrada para Olá **implantar o aplicativo do Service Fabric** tarefa.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-232">Verify hello **Application Package** input field for hello **Deploy Service Fabric Application** task.</span></span> <span data-ttu-id="3eaf1-233">Por padrão, este campo faz referência a caminho de pacote saudação padrão aplicativo usado no modelo de definição de compilação de saudação.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-233">By default, this field references hello default application package path used in hello build definition template.</span></span>  <span data-ttu-id="3eaf1-234">Se você modificou o caminho do pacote de aplicativo saudação padrão em Olá definição de compilação, você precisa tooupdate Olá caminho adequadamente aqui também.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-234">If you've modified hello default application package path in hello build definition, you need tooupdate hello path appropriately here as well.</span></span>

### <a name="try-it"></a><span data-ttu-id="3eaf1-235">Experimente</span><span class="sxs-lookup"><span data-stu-id="3eaf1-235">Try it</span></span>
<span data-ttu-id="3eaf1-236">Selecione **criar versão** de saudação **versão** toomanually de menu do botão Criar uma versão.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-236">Select **Create Release** from hello **Release** button menu toomanually create a release.</span></span> <span data-ttu-id="3eaf1-237">Olá caixa de diálogo que é aberta, selecione build Olá que você deseja toobase versão de saudação em e, em seguida, clique em **criar**.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-237">In hello dialog that opens, select hello build that you want toobase hello release on and then click **Create**.</span></span> <span data-ttu-id="3eaf1-238">Se você tiver habilitado a implantação contínua, versões serão criadas automaticamente quando uma compilação conclusão da definição de compilação Olá associado.</span><span class="sxs-lookup"><span data-stu-id="3eaf1-238">If you enabled continuous deployment, releases will be created automatically when hello associated build definition completes a build.</span></span>

## <a name="next-steps"></a><span data-ttu-id="3eaf1-239">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="3eaf1-239">Next steps</span></span>
<span data-ttu-id="3eaf1-240">toolearn mais sobre a integração contínua com aplicativos do Service Fabric, ler Olá artigos a seguir:</span><span class="sxs-lookup"><span data-stu-id="3eaf1-240">toolearn more about continuous integration with Service Fabric applications, read hello following articles:</span></span>

* [<span data-ttu-id="3eaf1-241">Início da documentação do Team Services</span><span class="sxs-lookup"><span data-stu-id="3eaf1-241">Team Services documentation home</span></span>](https://www.visualstudio.com/docs/overview)
* [<span data-ttu-id="3eaf1-242">Gerenciamento de build no Team Services</span><span class="sxs-lookup"><span data-stu-id="3eaf1-242">Build management in Team Services</span></span>](https://www.visualstudio.com/docs/build/overview)
* [<span data-ttu-id="3eaf1-243">Gerenciamento de versão no Team Services</span><span class="sxs-lookup"><span data-stu-id="3eaf1-243">Release management in Team Services</span></span>](https://www.visualstudio.com/docs/release/overview)

