---
title: "aaaAzure agregação de eventos do serviço de malha com o diagnóstico do Azure Linux | Microsoft Docs"
description: "Saiba mais sobre a agregação e coleta de eventos utilizando o LAD para monitoramento e diagnóstico de clusters do Azure Service Fabric."
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: 
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 07/17/2017
ms.author: dekapur
ms.openlocfilehash: aefa869219a0dd219e01e6574816fe3ce47fe472
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="event-aggregation-and-collection-using-linux-azure-diagnostics"></a><span data-ttu-id="b1c55-103">Coleta e agregação de eventos utilizando o Diagnóstico do Linux Azure</span><span class="sxs-lookup"><span data-stu-id="b1c55-103">Event aggregation and collection using Linux Azure Diagnostics</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="b1c55-104">Windows</span><span class="sxs-lookup"><span data-stu-id="b1c55-104">Windows</span></span>](service-fabric-diagnostics-event-aggregation-wad.md)
> * [<span data-ttu-id="b1c55-105">Linux</span><span class="sxs-lookup"><span data-stu-id="b1c55-105">Linux</span></span>](service-fabric-diagnostics-event-aggregation-lad.md)
>
>

<span data-ttu-id="b1c55-106">Quando você estiver executando um cluster do Service Fabric do Azure, é logs de Olá de toocollect uma boa ideia de todos os nós de saudação em um local central.</span><span class="sxs-lookup"><span data-stu-id="b1c55-106">When you're running an Azure Service Fabric cluster, it's a good idea toocollect hello logs from all hello nodes in a central location.</span></span> <span data-ttu-id="b1c55-107">Ter Olá logs em um local central ajuda a analisar e solucionar problemas no seu cluster, ou em aplicativos de saudação e serviços em execução no cluster.</span><span class="sxs-lookup"><span data-stu-id="b1c55-107">Having hello logs in a central location helps you analyze and troubleshoot issues in your cluster, or issues in hello applications and services running in that cluster.</span></span>

<span data-ttu-id="b1c55-108">Tooupload uma forma e coletar logs é toouse Olá Linux do Azure Diagnostics (LAD) extensão, carrega logs tooAzure armazenamento e também tem Olá opção toosend logs tooAzure Application Insights ou Hubs de eventos.</span><span class="sxs-lookup"><span data-stu-id="b1c55-108">One way tooupload and collect logs is toouse hello Linux Azure Diagnostics (LAD) extension, which uploads logs tooAzure Storage, and also has hello option toosend logs tooAzure Application Insights or Event Hubs.</span></span> <span data-ttu-id="b1c55-109">Você também pode usar um processo externo tooread Olá de eventos do armazenamento e colocá-los em um produto de plataforma de análise, como [análise de logs do OMS](../log-analytics/log-analytics-service-fabric.md) ou outra solução de análise de log.</span><span class="sxs-lookup"><span data-stu-id="b1c55-109">You can also use an external process tooread hello events from storage and place them in an analysis platform product, such as [OMS Log Analytics](../log-analytics/log-analytics-service-fabric.md) or another log-parsing solution.</span></span>

## <a name="log-and-event-sources"></a><span data-ttu-id="b1c55-110">Origem do evento e log</span><span class="sxs-lookup"><span data-stu-id="b1c55-110">Log and event sources</span></span>

### <a name="service-fabric-platform-events"></a><span data-ttu-id="b1c55-111">Eventos de plataforma do Service Fabric</span><span class="sxs-lookup"><span data-stu-id="b1c55-111">Service Fabric platform events</span></span>
<span data-ttu-id="b1c55-112">O Service Fabric emite alguns logs prontos para uso via [LTTng](http://lttng.org), incluindo eventos operacionais ou eventos de tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="b1c55-112">Service Fabric emits a few out-of-the-box logs via [LTTng](http://lttng.org), including operational events or runtime events.</span></span> <span data-ttu-id="b1c55-113">Esses logs são armazenados no local Olá Olá Gerenciador de recursos de cluster modelo especifica.</span><span class="sxs-lookup"><span data-stu-id="b1c55-113">These logs are stored in hello location that hello cluster's Resource Manager template specifies.</span></span> <span data-ttu-id="b1c55-114">tooget ou definir detalhes da conta de armazenamento hello, procure a marca Olá **AzureTableWinFabETWQueryable** e procure **StoreConnectionString**.</span><span class="sxs-lookup"><span data-stu-id="b1c55-114">tooget or set hello storage account details, search for hello tag **AzureTableWinFabETWQueryable** and look for **StoreConnectionString**.</span></span>

### <a name="application-events"></a><span data-ttu-id="b1c55-115">Eventos de aplicativo</span><span class="sxs-lookup"><span data-stu-id="b1c55-115">Application events</span></span>
 <span data-ttu-id="b1c55-116">Eventos emitidos pelo código de seus serviços e aplicativos, conforme especificado por você durante a instrumentação do software.</span><span class="sxs-lookup"><span data-stu-id="b1c55-116">Events emitted from your applications' and services' code as specified by you when instrumenting your software.</span></span> <span data-ttu-id="b1c55-117">Você pode usar qualquer solução de log que grave arquivos de log baseados em texto, por exemplo, LTTng.</span><span class="sxs-lookup"><span data-stu-id="b1c55-117">You can use any logging solution that writes text-based log files--for example, LTTng.</span></span> <span data-ttu-id="b1c55-118">Para obter mais informações, consulte a documentação de LTTng de saudação no rastreamento do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="b1c55-118">For more information, see hello LTTng documentation on tracing your application.</span></span>

<span data-ttu-id="b1c55-119">[Monitora e diagnostica serviços em uma configuração de desenvolvimento de computador local](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md).</span><span class="sxs-lookup"><span data-stu-id="b1c55-119">[Monitor and diagnose services in a local machine development setup](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md).</span></span>

## <a name="deploy-hello-diagnostics-extension"></a><span data-ttu-id="b1c55-120">Implantar a extensão de diagnóstico Olá</span><span class="sxs-lookup"><span data-stu-id="b1c55-120">Deploy hello Diagnostics extension</span></span>
<span data-ttu-id="b1c55-121">Olá primeira etapa na coleta de logs é extensão de diagnóstico Olá toodeploy em cada uma das VMs Olá no cluster do Service Fabric hello.</span><span class="sxs-lookup"><span data-stu-id="b1c55-121">hello first step in collecting logs is toodeploy hello Diagnostics extension on each of hello VMs in hello Service Fabric cluster.</span></span> <span data-ttu-id="b1c55-122">Olá extensão de diagnóstico coleta logs em cada VM e os carrega toohello conta de armazenamento que você especificar.</span><span class="sxs-lookup"><span data-stu-id="b1c55-122">hello Diagnostics extension collects logs on each VM and uploads them toohello storage account that you specify.</span></span> <span data-ttu-id="b1c55-123">etapas de saudação variam com base em se você usar Olá portal do Azure ou o Gerenciador de recursos do Azure.</span><span class="sxs-lookup"><span data-stu-id="b1c55-123">hello steps vary based on whether you use hello Azure portal or Azure Resource Manager.</span></span>

<span data-ttu-id="b1c55-124">Definir toodeploy Olá diagnóstico extensão toohello VMs no cluster hello como parte da criação do cluster, **diagnóstico** muito**em**.</span><span class="sxs-lookup"><span data-stu-id="b1c55-124">toodeploy hello Diagnostics extension toohello VMs in hello cluster as part of cluster creation, set **Diagnostics** too**On**.</span></span> <span data-ttu-id="b1c55-125">Depois de criar o cluster hello, você não pode alterar essa configuração usando o portal de saudação.</span><span class="sxs-lookup"><span data-stu-id="b1c55-125">After you create hello cluster, you can't change this setting by using hello portal.</span></span>

<span data-ttu-id="b1c55-126">Em seguida, configurar arquivos de saudação do Linux Azure Diagnostics (LAD) toocollect e colocá-los em sua conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="b1c55-126">Then, configure Linux Azure Diagnostics (LAD) toocollect hello files and place them into your storage account.</span></span> <span data-ttu-id="b1c55-127">Esse processo é explicado como cenário 3 ("carregar seus próprios arquivos de log") no artigo Olá [LAD usando toomonitor e diagnosticar VMs do Linux](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="b1c55-127">This process is explained as scenario 3 ("Upload your own log files") in hello article [Using LAD toomonitor and diagnose Linux VMs](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span></span> <span data-ttu-id="b1c55-128">A seguir obtém esse processo que você acessar toohello rastreamentos.</span><span class="sxs-lookup"><span data-stu-id="b1c55-128">Following this process gets you access toohello traces.</span></span> <span data-ttu-id="b1c55-129">Você pode carregar o Visualizador de tooa Olá rastreamentos de sua escolha.</span><span class="sxs-lookup"><span data-stu-id="b1c55-129">You can upload hello traces tooa visualizer of your choice.</span></span>

<span data-ttu-id="b1c55-130">Você também pode implantar a extensão de diagnóstico hello usando o Gerenciador de recursos do Azure.</span><span class="sxs-lookup"><span data-stu-id="b1c55-130">You can also deploy hello Diagnostics extension by using Azure Resource Manager.</span></span> <span data-ttu-id="b1c55-131">Olá processo é semelhante para o Windows e Linux e está documentado para clusters do Windows no [como toocollect registra com o Azure Diagnostics](service-fabric-diagnostics-how-to-setup-wad.md).</span><span class="sxs-lookup"><span data-stu-id="b1c55-131">hello process is similar for Windows and Linux and is documented for Windows clusters in [How toocollect logs with Azure Diagnostics](service-fabric-diagnostics-how-to-setup-wad.md).</span></span>

<span data-ttu-id="b1c55-132">Você também pode usar o Operations Management Suite, conforme descrito em [Análise de Log do Operations Management Suite com o Linux](https://blogs.technet.microsoft.com/hybridcloud/2016/01/28/operations-management-suite-log-analytics-with-linux/).</span><span class="sxs-lookup"><span data-stu-id="b1c55-132">You can also use Operations Management Suite, as described in [Operations Management Suite Log Analytics with Linux](https://blogs.technet.microsoft.com/hybridcloud/2016/01/28/operations-management-suite-log-analytics-with-linux/).</span></span>

<span data-ttu-id="b1c55-133">Depois de concluir essa configuração, Olá LAD agent monitora Olá arquivos de log especificado.</span><span class="sxs-lookup"><span data-stu-id="b1c55-133">After you finish this configuration, hello LAD agent monitors hello specified log files.</span></span> <span data-ttu-id="b1c55-134">Sempre que uma nova linha é acrescentado toohello arquivo, ele cria uma entrada de syslog que é enviada toohello de armazenamento que você especificou.</span><span class="sxs-lookup"><span data-stu-id="b1c55-134">Whenever a new line is appended toohello file, it creates a syslog entry that is sent toohello storage that you specified.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b1c55-135">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="b1c55-135">Next steps</span></span>

<span data-ttu-id="b1c55-136">toounderstand mais detalhadamente os eventos que você deve examinar durante a solução de problemas, consulte [LTTng documentação](http://lttng.org/docs) e [LAD usando](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="b1c55-136">toounderstand in more detail what events you should examine while troubleshooting issues, see [LTTng documentation](http://lttng.org/docs) and [Using LAD](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span></span>
