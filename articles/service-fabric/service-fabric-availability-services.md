---
title: "aaaAvailability de serviços do Service Fabric | Microsoft Docs"
description: "Descreve a detecção de falhas, failover e recuperação para serviços"
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: 279ba4a4-f2ef-4e4e-b164-daefd10582e4
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: c443aadfe31a1413359b08d34c4b7dd5db4edd16
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="availability-of-service-fabric-services"></a><span data-ttu-id="03a3c-103">Disponibilidade dos serviços de malha do serviço</span><span class="sxs-lookup"><span data-stu-id="03a3c-103">Availability of Service Fabric services</span></span>
<span data-ttu-id="03a3c-104">Este artigo fornece uma visão geral de como o Service Fabric mantém a disponibilidade de um serviço.</span><span class="sxs-lookup"><span data-stu-id="03a3c-104">This article gives an overview of how Service Fabric maintains availability of a service.</span></span>

## <a name="availability-of-service-fabric-stateless-services"></a><span data-ttu-id="03a3c-105">Disponibilidade dos serviços de malha do serviço sem monitoração do estado</span><span class="sxs-lookup"><span data-stu-id="03a3c-105">Availability of Service Fabric stateless services</span></span>
<span data-ttu-id="03a3c-106">Os serviços do Service Fabric do Azure podem ser com ou sem estado.</span><span class="sxs-lookup"><span data-stu-id="03a3c-106">Azure Service Fabric services can be either stateful or stateless.</span></span> <span data-ttu-id="03a3c-107">Um serviço sem monitoração de estado é um serviço de aplicativo que não tem nenhum [estado local](service-fabric-concepts-state.md) que precisa toobe altamente disponível ou confiável.</span><span class="sxs-lookup"><span data-stu-id="03a3c-107">A stateless service is an application service that does not have any [local state](service-fabric-concepts-state.md) that needs toobe highly available or reliable.</span></span>

<span data-ttu-id="03a3c-108">Criar um serviço sem estado requer a definição de uma `InstanceCount`.</span><span class="sxs-lookup"><span data-stu-id="03a3c-108">Creating a stateless service requires defining an `InstanceCount`.</span></span> <span data-ttu-id="03a3c-109">Contagem de instâncias de saudação define o número de saudação de instâncias do serviço sem monitoração de estado da saudação lógica de aplicativo que devem ser executados no cluster de saudação.</span><span class="sxs-lookup"><span data-stu-id="03a3c-109">hello instance count defines hello number of instances of hello stateless service's application logic that should be running in hello cluster.</span></span> <span data-ttu-id="03a3c-110">Aumentar Olá número de instâncias é hello recomendado maneira de dimensionar um serviço sem monitoração de estado.</span><span class="sxs-lookup"><span data-stu-id="03a3c-110">Increasing hello number of instances is hello recommended way of scaling out a stateless service.</span></span>

<span data-ttu-id="03a3c-111">Quando uma instância de um sem monitoração de estado denominada serviço falha, uma nova instância é criada em algum nó qualificado no cluster de saudação.</span><span class="sxs-lookup"><span data-stu-id="03a3c-111">When an instance of a stateless named service fails, a new instance is created on some eligible node in hello cluster.</span></span> <span data-ttu-id="03a3c-112">Por exemplo, uma instância de serviço sem estado pode falhar em Node1 e ser recriada em Node5.</span><span class="sxs-lookup"><span data-stu-id="03a3c-112">For example, a stateless service instance might fail on Node1 and be recreated on Node5.</span></span>

## <a name="availability-of-service-fabric-stateful-services"></a><span data-ttu-id="03a3c-113">Disponibilidade dos serviços de malha do serviço com monitoração do estado</span><span class="sxs-lookup"><span data-stu-id="03a3c-113">Availability of Service Fabric stateful services</span></span>
<span data-ttu-id="03a3c-114">Um serviço com estado tem algum estado associado a ele.</span><span class="sxs-lookup"><span data-stu-id="03a3c-114">A stateful service has some state associated with it.</span></span> <span data-ttu-id="03a3c-115">Na malha de serviço, um serviço com monitoração de estado é modelado como um conjunto de réplicas.</span><span class="sxs-lookup"><span data-stu-id="03a3c-115">In Service Fabric, a stateful service is modeled as a set of replicas.</span></span> <span data-ttu-id="03a3c-116">Cada réplica é uma instância em execução de código de saudação do serviço de saudação que também tem uma cópia do estado de saudação para esse serviço.</span><span class="sxs-lookup"><span data-stu-id="03a3c-116">Each replica is a running instance of hello code of hello service that also has a copy of hello state for that service.</span></span> <span data-ttu-id="03a3c-117">Operações de leitura e gravação são executadas em uma réplica (chamada hello primário).</span><span class="sxs-lookup"><span data-stu-id="03a3c-117">Read and write operations are performed at one replica (called hello Primary).</span></span> <span data-ttu-id="03a3c-118">Toostate alterações de operações de gravação são *replicadas* toohello outras réplicas no conjunto de réplicas de saudação (chamado secundárias ativas) e aplicada.</span><span class="sxs-lookup"><span data-stu-id="03a3c-118">Changes toostate from write operations are *replicated* toohello other replicas in hello replica set (called Active Secondaries) and applied.</span></span> 

<span data-ttu-id="03a3c-119">Pode haver apenas uma réplica Primária, mas pode haver várias réplicas Secundárias Ativas.</span><span class="sxs-lookup"><span data-stu-id="03a3c-119">There can be only one Primary replica, but there can be multiple Active Secondary replicas.</span></span> <span data-ttu-id="03a3c-120">saudação de número de réplicas secundárias ativas é configurável e um número maior de réplicas pode tolerar um maior número de falhas de hardware e software simultânea.</span><span class="sxs-lookup"><span data-stu-id="03a3c-120">hello number of Active Secondary replicas is configurable, and a higher number of replicas can tolerate a greater number of concurrent software and hardware failures.</span></span>

<span data-ttu-id="03a3c-121">Se a réplica primária Olá cair, Service Fabric torna uma saudação secundário ativo réplicas Olá nova réplica primária.</span><span class="sxs-lookup"><span data-stu-id="03a3c-121">If hello Primary replica goes down, Service Fabric makes one of hello Active Secondary replicas hello new Primary replica.</span></span> <span data-ttu-id="03a3c-122">Esta réplica secundária ativa já tem a versão de hello atualizado do estado da saudação (via *replicação*), e pode continuar a processar leitura adicional e operações de gravação.</span><span class="sxs-lookup"><span data-stu-id="03a3c-122">This Active Secondary replica already has hello updated version of hello state (via *replication*), and it can continue processing further read and write operations.</span></span>

<span data-ttu-id="03a3c-123">Esse conceito, de uma réplica que está sendo um primário ou secundário ativo, é conhecido como Olá função de réplica.</span><span class="sxs-lookup"><span data-stu-id="03a3c-123">This concept, of a replica being either a Primary or Active Secondary, is known as hello Replica Role.</span></span>

### <a name="replica-roles"></a><span data-ttu-id="03a3c-124">Funções de réplica</span><span class="sxs-lookup"><span data-stu-id="03a3c-124">Replica roles</span></span>
<span data-ttu-id="03a3c-125">função Hello de uma réplica é toomanage usado Olá ciclo de vida do estado de saudação sendo gerenciado por que a réplica.</span><span class="sxs-lookup"><span data-stu-id="03a3c-125">hello role of a replica is used toomanage hello life cycle of hello state being managed by that replica.</span></span> <span data-ttu-id="03a3c-126">Uma réplica cuja função é Primária atende a solicitações de leitura.</span><span class="sxs-lookup"><span data-stu-id="03a3c-126">A replica whose role is Primary services read requests.</span></span> <span data-ttu-id="03a3c-127">Olá primário também trata todas as solicitações de gravação atualizando seu estado e replicar alterações de saudação.</span><span class="sxs-lookup"><span data-stu-id="03a3c-127">hello Primary also handles all write requests by updating its state and replicating hello changes.</span></span> <span data-ttu-id="03a3c-128">Essas alterações são secundárias ativas de toohello aplicado no conjunto de réplicas de saudação.</span><span class="sxs-lookup"><span data-stu-id="03a3c-128">These changes are applied toohello Active Secondaries in hello replica set.</span></span> <span data-ttu-id="03a3c-129">trabalho de saudação de um secundário ativo é as alterações de estado tooreceive Olá a réplica primária foi replicado e atualizar a exibição do estado de saudação.</span><span class="sxs-lookup"><span data-stu-id="03a3c-129">hello job of an Active Secondary is tooreceive state changes that hello Primary replica has replicated and update its view of hello state.</span></span>

> [!NOTE]
> <span data-ttu-id="03a3c-130">Modelos de programação de nível superior como [Reliable Actors](service-fabric-reliable-actors-introduction.md) e [serviços confiáveis](service-fabric-reliable-services-introduction.md) ocultar o conceito de saudação da função de réplica de desenvolvedor hello.</span><span class="sxs-lookup"><span data-stu-id="03a3c-130">Higher-level programming models such as [Reliable Actors](service-fabric-reliable-actors-introduction.md) and [Reliable Services](service-fabric-reliable-services-introduction.md) hide hello concept of replica role from hello developer.</span></span> <span data-ttu-id="03a3c-131">Em atores, noção de saudação da função é desnecessária, ao mesmo tempo nos serviços em grande parte, ele é simplificado para a maioria dos cenários.</span><span class="sxs-lookup"><span data-stu-id="03a3c-131">In Actors, hello notion of role is unnecessary, while in Services it is largely simplified for most scenarios.</span></span>
>

## <a name="next-steps"></a><span data-ttu-id="03a3c-132">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="03a3c-132">Next steps</span></span>
<span data-ttu-id="03a3c-133">Para obter mais informações sobre os conceitos de malha do serviço, consulte Olá artigos a seguir:</span><span class="sxs-lookup"><span data-stu-id="03a3c-133">For more information on Service Fabric concepts, see hello following articles:</span></span>

- [<span data-ttu-id="03a3c-134">Dimensionando serviços do Service Fabric</span><span class="sxs-lookup"><span data-stu-id="03a3c-134">Scaling Service Fabric services</span></span>](service-fabric-concepts-scalability.md)
- [<span data-ttu-id="03a3c-135">Particionando serviços da Malha do Serviço</span><span class="sxs-lookup"><span data-stu-id="03a3c-135">Partitioning Service Fabric services</span></span>](service-fabric-concepts-partitioning.md)
- [<span data-ttu-id="03a3c-136">Definindo e gerenciando o estado</span><span class="sxs-lookup"><span data-stu-id="03a3c-136">Defining and managing state</span></span>](service-fabric-concepts-state.md)
- [<span data-ttu-id="03a3c-137">Reliable Services</span><span class="sxs-lookup"><span data-stu-id="03a3c-137">Reliable Services</span></span>](service-fabric-reliable-services-introduction.md)
