---
title: "aaaScale uma malha do serviço de cluster ou | Microsoft Docs"
description: "Dimensione um cluster do Service Fabric in ou out toomatch demanda definindo regras de dimensionamento automático para cada conjunto de escala de máquina do nó Virtual/tipo. Adicionar ou remover nós tooa malha do serviço cluster"
services: service-fabric
documentationcenter: .net
author: ChackDan
manager: timlt
editor: 
ms.assetid: aeb76f63-7303-4753-9c64-46146340b83d
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 06/22/2017
ms.author: chackdan
ms.openlocfilehash: 37cfeaf80edc016cf6de017d1c2dc6fbcb8acc2a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="scale-a-service-fabric-cluster-in-or-out-using-auto-scale-rules"></a><span data-ttu-id="1e87b-104">Escalar ou reduzir horizontalmente um cluster do Service Fabric usando regras de autoescala</span><span class="sxs-lookup"><span data-stu-id="1e87b-104">Scale a Service Fabric cluster in or out using auto-scale rules</span></span>
<span data-ttu-id="1e87b-105">Conjuntos de escala de máquinas virtuais são um recurso de computação do Azure que você pode usar toodeploy e gerenciar uma coleção de máquinas virtuais como um conjunto.</span><span class="sxs-lookup"><span data-stu-id="1e87b-105">Virtual machine scale sets are an Azure compute resource that you can use toodeploy and manage a collection of virtual machines as a set.</span></span> <span data-ttu-id="1e87b-106">Cada tipo de nó definido em um cluster do Service Fabric está configurado como um conjunto de dimensionamento de máquinas virtuais separado.</span><span class="sxs-lookup"><span data-stu-id="1e87b-106">Every node type that is defined in a Service Fabric cluster is set up as a separate Virtual Machine scale set.</span></span> <span data-ttu-id="1e87b-107">Cada tipo de nó pode ser escalado ou reduzido horizontalmente de forma independente, ter conjuntos diferentes de portas abertas e métricas de capacidade diferentes.</span><span class="sxs-lookup"><span data-stu-id="1e87b-107">Each node type can then be scaled in or out independently, have different sets of ports open, and can have different capacity metrics.</span></span> <span data-ttu-id="1e87b-108">Leia mais sobre isso em Olá [nodetypes Service Fabric](service-fabric-cluster-nodetypes.md) documento.</span><span class="sxs-lookup"><span data-stu-id="1e87b-108">Read more about it in hello [Service Fabric nodetypes](service-fabric-cluster-nodetypes.md) document.</span></span> <span data-ttu-id="1e87b-109">Como tipos de nós do Service Fabric Olá no cluster são feitos de conjuntos de escala de máquinas virtuais em Olá back-end, você precisa tooset as regras de dimensionamento automático para cada conjunto de escala de máquina do nó Virtual/tipo.</span><span class="sxs-lookup"><span data-stu-id="1e87b-109">Since hello Service Fabric node types in your cluster are made of Virtual Machine scale sets at hello backend, you need tooset up auto-scale rules for each node type/Virtual Machine scale set.</span></span>

> [!NOTE]
> <span data-ttu-id="1e87b-110">Sua assinatura deve ter suficiente tooadd núcleos Olá novas VMs que compõem esse cluster.</span><span class="sxs-lookup"><span data-stu-id="1e87b-110">Your subscription must have enough cores tooadd hello new VMs that make up this cluster.</span></span> <span data-ttu-id="1e87b-111">Não há nenhuma validação de modelo no momento, para que você obtenha uma falha de tempo de implantação, se qualquer um dos limites de cota de saudação são atingidos.</span><span class="sxs-lookup"><span data-stu-id="1e87b-111">There is no model validation currently, so you get a deployment time failure, if any of hello quota limits are hit.</span></span>
> 
> 

## <a name="choose-hello-node-typevirtual-machine-scale-set-tooscale"></a><span data-ttu-id="1e87b-112">Escolha Olá nó tipo/Virtual escala de máquina conjunto tooscale</span><span class="sxs-lookup"><span data-stu-id="1e87b-112">Choose hello node type/Virtual Machine scale set tooscale</span></span>
<span data-ttu-id="1e87b-113">No momento, você não toospecify capaz de regras de dimensionamento automático Olá para conjuntos de escala de máquinas virtuais usando o portal de hello, então vamos usar tipos de nós do Azure PowerShell (1.0 +) toolist hello e, em seguida, adicione toothem de regras de dimensionamento automático.</span><span class="sxs-lookup"><span data-stu-id="1e87b-113">Currently, you are not able toospecify hello auto-scale rules for Virtual Machine scale sets using hello portal, so let us use Azure PowerShell (1.0+) toolist hello node types and then add auto-scale rules toothem.</span></span>

<span data-ttu-id="1e87b-114">lista de saudação tooget da máquina Virtual conjunto de escala que compõem o cluster, execute Olá cmdlets a seguir:</span><span class="sxs-lookup"><span data-stu-id="1e87b-114">tooget hello list of Virtual Machine scale set that make up your cluster, run hello following cmdlets:</span></span>

```powershell
Get-AzureRmResource -ResourceGroupName <RGname> -ResourceType Microsoft.Compute/VirtualMachineScaleSets

Get-AzureRmVmss -ResourceGroupName <RGname> -VMScaleSetName <Virtual Machine scale set name>
```

## <a name="set-auto-scale-rules-for-hello-node-typevirtual-machine-scale-set"></a><span data-ttu-id="1e87b-115">Definir regras de dimensionamento automático para o conjunto de escala de máquina do hello nó tipo/Virtual</span><span class="sxs-lookup"><span data-stu-id="1e87b-115">Set auto-scale rules for hello node type/Virtual Machine scale set</span></span>
<span data-ttu-id="1e87b-116">Se o cluster tiver vários tipos de nós, repita que isso para cada tipos de nó/escala de máquina Virtual define que você deseja tooscale (entrada ou saída).</span><span class="sxs-lookup"><span data-stu-id="1e87b-116">If your cluster has multiple node types, then repeat this for each node types/Virtual Machine scale sets that you want tooscale (in or out).</span></span> <span data-ttu-id="1e87b-117">Considera número Olá da conta de nós que você deve ter antes de configurar o dimensionamento automático.</span><span class="sxs-lookup"><span data-stu-id="1e87b-117">Take into account hello number of nodes that you must have before you set up auto-scaling.</span></span> <span data-ttu-id="1e87b-118">número mínimo de saudação de nós que você deve ter para o tipo de nó primário Olá é orientado por nível de confiabilidade Olá escolhido.</span><span class="sxs-lookup"><span data-stu-id="1e87b-118">hello minimum number of nodes that you must have for hello primary node type is driven by hello reliability level you have chosen.</span></span> <span data-ttu-id="1e87b-119">Leia mais sobre os [níveis de confiabilidade](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="1e87b-119">Read more about [reliability levels](service-fabric-cluster-capacity.md).</span></span>

> [!NOTE]
> <span data-ttu-id="1e87b-120">Redução tooless de tipo de nó primário Olá que o número mínimo de saudação fazer cluster Olá instável ou colocá-lo para baixo.</span><span class="sxs-lookup"><span data-stu-id="1e87b-120">Scaling down hello primary node type tooless than hello minimum number make hello cluster unstable or bring it down.</span></span> <span data-ttu-id="1e87b-121">Isso pode resultar em perda de dados para seus aplicativos e serviços de sistema de saudação.</span><span class="sxs-lookup"><span data-stu-id="1e87b-121">This could result in data loss for your applications and for hello system services.</span></span>
> 
> 

<span data-ttu-id="1e87b-122">No momento recurso de dimensionamento automático Olá não é orientado por cargas de saudação que seus aplicativos podem relatar tooService malha.</span><span class="sxs-lookup"><span data-stu-id="1e87b-122">Currently hello auto-scale feature is not driven by hello loads that your applications may be reporting tooService Fabric.</span></span> <span data-ttu-id="1e87b-123">Portanto em Olá esse tempo AutoEscala que você obter puramente é orientada por contadores de desempenho de saudação que são emitidas por cada uma das instâncias de conjunto de escala de máquina Virtual de saudação.</span><span class="sxs-lookup"><span data-stu-id="1e87b-123">So at this time hello auto-scale you get is purely driven by hello performance counters that are emitted by each of hello Virtual Machine scale set instances.</span></span>  

<span data-ttu-id="1e87b-124">Siga estas instruções [tooset o dimensionamento automático para cada conjunto de escala de máquina Virtual](../virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1e87b-124">Follow these instructions [tooset up auto-scale for each Virtual Machine scale set](../virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview.md).</span></span>

> [!NOTE]
> <span data-ttu-id="1e87b-125">Em uma escala para baixo do cenário, a menos que o tipo de nó tem um nível de durabilidade de ouro ou prata precisar Olá toocall [cmdlet Remove-ServiceFabricNodeState](https://msdn.microsoft.com/library/azure/mt125993.aspx) com o nome de nó apropriado hello.</span><span class="sxs-lookup"><span data-stu-id="1e87b-125">In a scale down scenario, unless your node type has a durability level of Gold or Silver you need toocall hello [Remove-ServiceFabricNodeState cmdlet](https://msdn.microsoft.com/library/azure/mt125993.aspx) with hello appropriate node name.</span></span>
> 
> 

## <a name="manually-add-vms-tooa-node-typevirtual-machine-scale-set"></a><span data-ttu-id="1e87b-126">Adicionar manualmente as VMs tooa nó tipo/Virtual conjunto de escalas da máquina</span><span class="sxs-lookup"><span data-stu-id="1e87b-126">Manually add VMs tooa node type/Virtual Machine scale set</span></span>
<span data-ttu-id="1e87b-127">Siga Olá/instruções de exemplo no hello [Galeria de modelos de início rápido](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange número de saudação de VMs em cada Nodetype.</span><span class="sxs-lookup"><span data-stu-id="1e87b-127">Follow hello sample/instructions in hello [quick start template gallery](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange hello number of VMs in each Nodetype.</span></span> 

> [!NOTE]
> <span data-ttu-id="1e87b-128">A adição de VMs leva tempo, portanto, não haverá Olá adições toobe instantânea.</span><span class="sxs-lookup"><span data-stu-id="1e87b-128">Adding of VMs takes time, so do not expect hello additions toobe instantaneous.</span></span> <span data-ttu-id="1e87b-129">Para planejar a capacidade de tooadd bem em tempo, tooallow para mais de 10 minutos antes de saudação de capacidade de VM está disponível para réplicas Olá / serviço tooget instâncias colocado.</span><span class="sxs-lookup"><span data-stu-id="1e87b-129">So plan tooadd capacity well in time, tooallow for over 10 minutes before hello VM capacity is available for hello replicas/ service instances tooget placed.</span></span>
> 
> 

## <a name="manually-remove-vms-from-hello-primary-node-typevirtual-machine-scale-set"></a><span data-ttu-id="1e87b-130">Remova manualmente as VMs do conjunto de escala de máquina do hello nó primário tipo/Virtual</span><span class="sxs-lookup"><span data-stu-id="1e87b-130">Manually remove VMs from hello primary node type/Virtual Machine scale set</span></span>
> [!NOTE]
> <span data-ttu-id="1e87b-131">Serviços de sistema de malha de serviço Olá são executados no tipo de nó primário Olá no cluster.</span><span class="sxs-lookup"><span data-stu-id="1e87b-131">hello service fabric system services run in hello Primary node type in your cluster.</span></span> <span data-ttu-id="1e87b-132">Menor que o nível de confiabilidade Olá garante para nunca deve desligar ou reduzir o número de saudação de instâncias em que tipos de nó.</span><span class="sxs-lookup"><span data-stu-id="1e87b-132">So should never shut down or scale down hello number of instances in that node types less than what hello reliability tier warrants.</span></span> <span data-ttu-id="1e87b-133">Consulte também[Olá detalhes em níveis de confiabilidade aqui](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="1e87b-133">Refer too[hello details on reliability tiers here](service-fabric-cluster-capacity.md).</span></span> 
> 
> 

<span data-ttu-id="1e87b-134">Você precisa tooexecute uma instância VM as etapas a seguir Olá por vez.</span><span class="sxs-lookup"><span data-stu-id="1e87b-134">You need tooexecute hello following steps one VM instance at a time.</span></span> <span data-ttu-id="1e87b-135">Isso permite que serviços do sistema hello (e seus serviços com monitoração de estado) toobe desligar normalmente na instância VM de saudação você está removendo e novas réplicas criadas em outros nós.</span><span class="sxs-lookup"><span data-stu-id="1e87b-135">This allows for hello system services (and your stateful services) toobe shut down gracefully on hello VM instance you are removing and new replicas created on other nodes.</span></span>

1. <span data-ttu-id="1e87b-136">Executar [ServiceFabricNode desabilitar](https://msdn.microsoft.com/library/mt125852.aspx) com nó de saudação do propósito 'RemoveNode' toodisable for tooremove (instância maior Olá nesse tipo de nó).</span><span class="sxs-lookup"><span data-stu-id="1e87b-136">Run [Disable-ServiceFabricNode](https://msdn.microsoft.com/library/mt125852.aspx) with intent ‘RemoveNode’ toodisable hello node you’re going tooremove (hello highest instance in that node type).</span></span>
2. <span data-ttu-id="1e87b-137">Executar [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) toomake-se de que esse nó Olá realmente tem transição toodisabled.</span><span class="sxs-lookup"><span data-stu-id="1e87b-137">Run [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) toomake sure that hello node has indeed transitioned toodisabled.</span></span> <span data-ttu-id="1e87b-138">Caso contrário, aguarde até que o nó hello está desabilitado.</span><span class="sxs-lookup"><span data-stu-id="1e87b-138">If not, wait until hello node is disabled.</span></span> <span data-ttu-id="1e87b-139">Não tenha pressa nesta etapa.</span><span class="sxs-lookup"><span data-stu-id="1e87b-139">You cannot hurry this step.</span></span>
3. <span data-ttu-id="1e87b-140">Siga Olá/instruções de exemplo no hello [Galeria de modelos de início rápido](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange Olá diversas VMs em uma unidade em que Nodetype.</span><span class="sxs-lookup"><span data-stu-id="1e87b-140">Follow hello sample/instructions in hello [quick start template gallery](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange hello number of VMs by one in that Nodetype.</span></span> <span data-ttu-id="1e87b-141">Olá instância removida é hello mais alto VM.</span><span class="sxs-lookup"><span data-stu-id="1e87b-141">hello instance removed is hello highest VM instance.</span></span> 
4. <span data-ttu-id="1e87b-142">Repita as etapas 1 a 3, conforme necessário, mas nunca reduzir o número de saudação de instâncias no hello tipos de nó principal menor que garante que nível de confiabilidade hello.</span><span class="sxs-lookup"><span data-stu-id="1e87b-142">Repeat steps 1 through 3 as needed, but never scale down hello number of instances in hello primary node types less than what hello reliability tier warrants.</span></span> <span data-ttu-id="1e87b-143">Consulte também[Olá detalhes em níveis de confiabilidade aqui](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="1e87b-143">Refer too[hello details on reliability tiers here](service-fabric-cluster-capacity.md).</span></span> 

## <a name="manually-remove-vms-from-hello-non-primary-node-typevirtual-machine-scale-set"></a><span data-ttu-id="1e87b-144">Remova manualmente VMs a saudação não primário nó tipo/Virtual conjunto de escalas da máquina</span><span class="sxs-lookup"><span data-stu-id="1e87b-144">Manually remove VMs from hello non-primary node type/Virtual Machine scale set</span></span>
> [!NOTE]
> <span data-ttu-id="1e87b-145">Para um serviço com monitoração de estado, é necessário um determinado número de nós toobe sempre backup toomaintain disponibilidade e preservar o estado do serviço.</span><span class="sxs-lookup"><span data-stu-id="1e87b-145">For a stateful service, you need a certain number of nodes toobe always up toomaintain availability and preserve state of your service.</span></span> <span data-ttu-id="1e87b-146">No hello mínimo, você precisa de número de saudação de nós toohello igual destino réplica Definir contagem de partição de saudação/serviço.</span><span class="sxs-lookup"><span data-stu-id="1e87b-146">At hello very minimum, you need hello number of nodes equal toohello target replica set count of hello partition/service.</span></span> 
> 
> 

<span data-ttu-id="1e87b-147">Você precisa Olá Olá uma instância VM etapas a seguir em vez de executar.</span><span class="sxs-lookup"><span data-stu-id="1e87b-147">You need hello execute hello following steps one VM instance at a time.</span></span> <span data-ttu-id="1e87b-148">Isso permite que serviços do sistema hello (e seus serviços com monitoração de estado) toobe desligar normalmente em Olá instância VM que você está removendo e novas réplicas criada onde else.</span><span class="sxs-lookup"><span data-stu-id="1e87b-148">This allows for hello system services (and your stateful services) toobe shut down gracefully on hello VM instance you are removing and new replicas created else where.</span></span>

1. <span data-ttu-id="1e87b-149">Executar [ServiceFabricNode desabilitar](https://msdn.microsoft.com/library/mt125852.aspx) com nó de saudação do propósito 'RemoveNode' toodisable for tooremove (instância maior Olá nesse tipo de nó).</span><span class="sxs-lookup"><span data-stu-id="1e87b-149">Run [Disable-ServiceFabricNode](https://msdn.microsoft.com/library/mt125852.aspx) with intent ‘RemoveNode’ toodisable hello node you’re going tooremove (hello highest instance in that node type).</span></span>
2. <span data-ttu-id="1e87b-150">Executar [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) toomake-se de que esse nó Olá realmente tem transição toodisabled.</span><span class="sxs-lookup"><span data-stu-id="1e87b-150">Run [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) toomake sure that hello node has indeed transitioned toodisabled.</span></span> <span data-ttu-id="1e87b-151">Se não Aguarde até que o nó hello está desabilitado.</span><span class="sxs-lookup"><span data-stu-id="1e87b-151">If not wait till hello node is disabled.</span></span> <span data-ttu-id="1e87b-152">Não tenha pressa nesta etapa.</span><span class="sxs-lookup"><span data-stu-id="1e87b-152">You cannot hurry this step.</span></span>
3. <span data-ttu-id="1e87b-153">Siga Olá/instruções de exemplo no hello [Galeria de modelos de início rápido](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange Olá diversas VMs em uma unidade em que Nodetype.</span><span class="sxs-lookup"><span data-stu-id="1e87b-153">Follow hello sample/instructions in hello [quick start template gallery](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange hello number of VMs by one in that Nodetype.</span></span> <span data-ttu-id="1e87b-154">Isso removerá instância de VM hello mais alta.</span><span class="sxs-lookup"><span data-stu-id="1e87b-154">This will now remove hello highest VM instance.</span></span> 
4. <span data-ttu-id="1e87b-155">Repita as etapas 1 a 3, conforme necessário, mas nunca reduzir o número de saudação de instâncias no hello tipos de nó principal menor que garante que nível de confiabilidade hello.</span><span class="sxs-lookup"><span data-stu-id="1e87b-155">Repeat steps 1 through 3 as needed, but never scale down hello number of instances in hello primary node types less than what hello reliability tier warrants.</span></span> <span data-ttu-id="1e87b-156">Consulte também[Olá detalhes em níveis de confiabilidade aqui](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="1e87b-156">Refer too[hello details on reliability tiers here](service-fabric-cluster-capacity.md).</span></span>

## <a name="behaviors-you-may-observe-in-service-fabric-explorer"></a><span data-ttu-id="1e87b-157">Comportamentos que podem ser observados no Service Fabric Explorer</span><span class="sxs-lookup"><span data-stu-id="1e87b-157">Behaviors you may observe in Service Fabric Explorer</span></span>
<span data-ttu-id="1e87b-158">Quando você expandir uma saudação cluster Service Fabric Explorer refletirá o número de saudação de nós (instâncias do conjunto de escala de máquina Virtual) que fazem parte do cluster de saudação.</span><span class="sxs-lookup"><span data-stu-id="1e87b-158">When you scale up a cluster hello Service Fabric Explorer will reflect hello number of nodes (Virtual Machine scale set instances) that are part of hello cluster.</span></span>  <span data-ttu-id="1e87b-159">No entanto, quando você dimensionar um cluster para baixo, você verá instância VM nó Olá removido exibida em um estado não íntegro, a menos que você chame [ServiceFabricNodeState remover cmd](https://msdn.microsoft.com/library/mt125993.aspx) com o nome de nó apropriado hello.</span><span class="sxs-lookup"><span data-stu-id="1e87b-159">However, when you scale a cluster down you will see hello removed node/VM instance displayed in an unhealthy state unless you call [Remove-ServiceFabricNodeState cmd](https://msdn.microsoft.com/library/mt125993.aspx) with hello appropriate node name.</span></span>   

<span data-ttu-id="1e87b-160">Aqui está a explicação Olá para esse comportamento.</span><span class="sxs-lookup"><span data-stu-id="1e87b-160">Here is hello explanation for this behavior.</span></span>

<span data-ttu-id="1e87b-161">nós listados no Gerenciador do Service Fabric Hello são um reflexo de quais serviços do sistema do Service Fabric hello (FM especificamente) conhece o número de saudação de nós Olá cluster tinha/tem.</span><span class="sxs-lookup"><span data-stu-id="1e87b-161">hello nodes listed in Service Fabric Explorer are a reflection of what hello Service Fabric system services (FM specifically) knows about hello number of nodes hello cluster had/has.</span></span> <span data-ttu-id="1e87b-162">Quando você escala Olá escala de máquina Virtual definida para baixo, Olá VM foi excluído, mas o serviço do sistema FM ainda considera nó hello (que foi mapeada toohello VM que foi excluída) voltará.</span><span class="sxs-lookup"><span data-stu-id="1e87b-162">When you scale hello Virtual Machine scale set down, hello VM was deleted but FM system service still thinks that hello node (that was mapped toohello VM that was deleted) will come back.</span></span> <span data-ttu-id="1e87b-163">Portanto Service Fabric Explorer continua toodisplay nó (embora o estado de integridade Olá pode ser desconhecido ou erro).</span><span class="sxs-lookup"><span data-stu-id="1e87b-163">So Service Fabric Explorer continues toodisplay that node (though hello health state may be error or unknown).</span></span>

<span data-ttu-id="1e87b-164">Toomake ordem-se de que um nó é removido quando uma máquina virtual é removida, você tem duas opções:</span><span class="sxs-lookup"><span data-stu-id="1e87b-164">In order toomake sure that a node is removed when a VM is removed, you have two options:</span></span>

1) <span data-ttu-id="1e87b-165">Escolha um nível de durabilidade de ouro ou prata (disponível em breve) para tipos de nós de saudação do cluster, que lhe Olá integração de infraestrutura.</span><span class="sxs-lookup"><span data-stu-id="1e87b-165">Choose a durability level of Gold or Silver (available soon) for hello node types in your cluster, which gives you hello infrastructure integration.</span></span> <span data-ttu-id="1e87b-166">Que, em seguida, removerá automaticamente nós de saudação do nosso estado do sistema de serviços (FM) quando você reduzir.</span><span class="sxs-lookup"><span data-stu-id="1e87b-166">Which will then automatically remove hello nodes from our system services (FM) state when you scale down.</span></span>
<span data-ttu-id="1e87b-167">Consulte também[Olá detalhes sobre os níveis de durabilidade aqui](service-fabric-cluster-capacity.md)</span><span class="sxs-lookup"><span data-stu-id="1e87b-167">Refer too[hello details on durability levels here](service-fabric-cluster-capacity.md)</span></span>

2) <span data-ttu-id="1e87b-168">Depois que a instância VM Olá foi reduzida, você precisa Olá toocall [cmdlet Remove-ServiceFabricNodeState](https://msdn.microsoft.com/library/mt125993.aspx).</span><span class="sxs-lookup"><span data-stu-id="1e87b-168">Once hello VM instance has been scaled down, you need toocall hello [Remove-ServiceFabricNodeState cmdlet](https://msdn.microsoft.com/library/mt125993.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="1e87b-169">Clusters de malha serviço exigem um determinado número de nós toobe backup em todos os Olá tempo na ordem toomaintain disponibilidade e preservar o estado - tooas chamado "mantêm o quórum."</span><span class="sxs-lookup"><span data-stu-id="1e87b-169">Service Fabric clusters require a certain number of nodes toobe up at all hello time in order toomaintain availability and preserve state - referred tooas "maintaining quorum."</span></span> <span data-ttu-id="1e87b-170">Portanto, é normalmente unsafe tooshut todas as máquinas de saudação em cluster hello, a menos que você tiver executado pela primeira vez um [backup completo do estado do seu](service-fabric-reliable-services-backup-restore.md).</span><span class="sxs-lookup"><span data-stu-id="1e87b-170">So, it is typically unsafe tooshut down all hello machines in hello cluster unless you have first performed a [full backup of your state](service-fabric-reliable-services-backup-restore.md).</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="1e87b-171">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="1e87b-171">Next steps</span></span>
<span data-ttu-id="1e87b-172">Saudação de leitura após tooalso Saiba mais sobre planejamento de capacidade do cluster, atualizando um cluster e particionamento de serviços:</span><span class="sxs-lookup"><span data-stu-id="1e87b-172">Read hello following tooalso learn about planning cluster capacity, upgrading a cluster, and partitioning services:</span></span>

* [<span data-ttu-id="1e87b-173">Planejar a capacidade do cluster</span><span class="sxs-lookup"><span data-stu-id="1e87b-173">Plan your cluster capacity</span></span>](service-fabric-cluster-capacity.md)
* [<span data-ttu-id="1e87b-174">Atualizações do cluster</span><span class="sxs-lookup"><span data-stu-id="1e87b-174">Cluster upgrades</span></span>](service-fabric-cluster-upgrade.md)
* [<span data-ttu-id="1e87b-175">Serviços com estado de partição para escala máxima</span><span class="sxs-lookup"><span data-stu-id="1e87b-175">Partition stateful services for maximum scale</span></span>](service-fabric-concepts-partitioning.md)

<!--Image references-->
[BrowseServiceFabricClusterResource]: ./media/service-fabric-cluster-scale-up-down/BrowseServiceFabricClusterResource.png
[ClusterResources]: ./media/service-fabric-cluster-scale-up-down/ClusterResources.png
