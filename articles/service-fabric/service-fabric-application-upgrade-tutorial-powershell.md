---
title: "atualização do aplicativo de malha aaaService usando o PowerShell | Microsoft Docs"
description: "Este artigo o orienta através da experiência de saudação de implantar um aplicativo de malha do serviço, alterar o código de saudação e implantar uma atualização usando o PowerShell."
services: service-fabric
documentationcenter: .net
author: mani-ramaswamy
manager: timlt
editor: 
ms.assetid: 9bc75748-96b0-49ca-8d8a-41fe08398f25
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 8/9/2017
ms.author: subramar
ms.openlocfilehash: f31212264de45c3b257a0efafb75c10c279b989f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="service-fabric-application-upgrade-using-powershell"></a><span data-ttu-id="4049e-103">Atualização do aplicativo do Service Fabric usando o PowerShell</span><span class="sxs-lookup"><span data-stu-id="4049e-103">Service Fabric application upgrade using PowerShell</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="4049e-104">PowerShell</span><span class="sxs-lookup"><span data-stu-id="4049e-104">PowerShell</span></span>](service-fabric-application-upgrade-tutorial-powershell.md)
> * [<span data-ttu-id="4049e-105">Visual Studio</span><span class="sxs-lookup"><span data-stu-id="4049e-105">Visual Studio</span></span>](service-fabric-application-upgrade-tutorial.md)
> 
> 

<br/>

<span data-ttu-id="4049e-106">Olá usados com mais frequência e a abordagem de atualização recomendada é atualização sem interrupção Olá monitorado.</span><span class="sxs-lookup"><span data-stu-id="4049e-106">hello most frequently used and recommended upgrade approach is hello monitored rolling upgrade.</span></span>  <span data-ttu-id="4049e-107">Malha do serviço do Azure monitora a integridade do hello do aplicativo hello está sendo atualizado com base em um conjunto de políticas de integridade.</span><span class="sxs-lookup"><span data-stu-id="4049e-107">Azure Service Fabric monitors hello health of hello application being upgraded based on a set of health policies.</span></span> <span data-ttu-id="4049e-108">Após a atualização de um domínio de atualização (UD), Service Fabric avalia a integridade do aplicativo hello e continua toohello próximo domínio de atualização ou falha de atualização Olá dependendo de diretivas de integridade de saudação.</span><span class="sxs-lookup"><span data-stu-id="4049e-108">Once an update domain (UD) is upgraded, Service Fabric evaluates hello application health and either proceeds toohello next update domain or fails hello upgrade depending on hello health policies.</span></span>

<span data-ttu-id="4049e-109">Uma atualização do aplicativo monitorado pode ser realizada usando Olá gerenciados ou APIs nativas, PowerShell ou REST.</span><span class="sxs-lookup"><span data-stu-id="4049e-109">A monitored application upgrade can be performed using hello managed or native APIs, PowerShell, or REST.</span></span> <span data-ttu-id="4049e-110">Para obter instruções sobre como executar uma atualização usando o Visual Studio, confira [Atualização do aplicativo usando o Visual Studio](service-fabric-application-upgrade-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="4049e-110">For instructions on performing an upgrade using Visual Studio, see [Upgrading your application using Visual Studio](service-fabric-application-upgrade-tutorial.md).</span></span>

<span data-ttu-id="4049e-111">Com atualizações sem interrupção do Service Fabric monitorados, administrador do aplicativo hello pode configurar a política de avaliação de integridade de saudação que o Service Fabric usa toodetermine se o aplicativo hello está íntegro.</span><span class="sxs-lookup"><span data-stu-id="4049e-111">With Service Fabric monitored rolling upgrades, hello application administrator can configure hello health evaluation policy that Service Fabric uses toodetermine if hello application is healthy.</span></span> <span data-ttu-id="4049e-112">Além disso, o administrador de saudação pode configurar Olá toobe de ação executada quando a avaliação de integridade Olá falha (por exemplo, fazer uma reversão automática.) Esta seção orienta por meio de uma atualização monitorada por um dos exemplos do SDK Olá que usa o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="4049e-112">In addition, hello administrator can configure hello action toobe taken when hello health evaluation fails (for example, doing an automatic rollback.) This section walks through a monitored upgrade for one of hello SDK samples that uses PowerShell.</span></span> <span data-ttu-id="4049e-113">Olá seguinte vídeo Microsoft Virtual Academy também orienta você por meio de uma atualização do aplicativo:<center><a target="_blank" href="https://mva.microsoft.com/en-US/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=OrHJH66yC_6406218965">
<img src="./media/service-fabric-application-upgrade-tutorial-powershell/AppLifecycleVid.png" WIDTH="360" HEIGHT="244">
</a></center></span><span class="sxs-lookup"><span data-stu-id="4049e-113">hello following Microsoft Virtual Academy video also walks you through an app upgrade: <center><a target="_blank" href="https://mva.microsoft.com/en-US/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=OrHJH66yC_6406218965">
<img src="./media/service-fabric-application-upgrade-tutorial-powershell/AppLifecycleVid.png" WIDTH="360" HEIGHT="244">
</a></center></span></span>

## <a name="step-1-build-and-deploy-hello-visual-objects-sample"></a><span data-ttu-id="4049e-114">Etapa 1: Criar e implantar o exemplo de objetos visuais hello</span><span class="sxs-lookup"><span data-stu-id="4049e-114">Step 1: Build and deploy hello Visual Objects sample</span></span>
<span data-ttu-id="4049e-115">Criar e publicar o aplicativo hello clicando no projeto de aplicativo hello, **VisualObjectsApplication,** e selecionando Olá **publicar** comando.</span><span class="sxs-lookup"><span data-stu-id="4049e-115">Build and publish hello application by right-clicking on hello application project, **VisualObjectsApplication,** and selecting hello **Publish** command.</span></span>  <span data-ttu-id="4049e-116">Para obter mais informações, confira o [Tutorial de atualização de aplicativos do Service Fabric](service-fabric-application-upgrade-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="4049e-116">For more information, see [Service Fabric application upgrade tutorial](service-fabric-application-upgrade-tutorial.md).</span></span>  <span data-ttu-id="4049e-117">Como alternativa, você pode usar PowerShell toodeploy seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="4049e-117">Alternatively, you can use PowerShell toodeploy your application.</span></span>

> [!NOTE]
> <span data-ttu-id="4049e-118">Antes de qualquer um dos comandos do Service Fabric Olá podem ser usados no PowerShell, é necessário primeiro tooconnect toohello cluster usando Olá `Connect-ServiceFabricCluster` cmdlet.</span><span class="sxs-lookup"><span data-stu-id="4049e-118">Before any of hello Service Fabric commands may be used in PowerShell, you first need tooconnect toohello cluster by using hello `Connect-ServiceFabricCluster` cmdlet.</span></span> <span data-ttu-id="4049e-119">Da mesma forma, presume-se que Olá que cluster já foi configurado no computador local.</span><span class="sxs-lookup"><span data-stu-id="4049e-119">Similarly, it is assumed that hello Cluster has already been set up on your local machine.</span></span> <span data-ttu-id="4049e-120">Consulte o artigo Olá no [configurar seu ambiente de desenvolvimento do Service Fabric](service-fabric-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="4049e-120">See hello article on [setting up your Service Fabric development environment](service-fabric-get-started.md).</span></span>
> 
> 

<span data-ttu-id="4049e-121">Depois de criar o projeto de saudação no Visual Studio, você pode usar o comando do PowerShell Olá [ServiceFabricApplicationPackage cópia](/powershell/servicefabric/vlatest/copy-servicefabricapplicationpackage) toocopy Olá aplicativo pacote toohello ImageStore.</span><span class="sxs-lookup"><span data-stu-id="4049e-121">After building hello project in Visual Studio, you can use hello PowerShell command [Copy-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/copy-servicefabricapplicationpackage) toocopy hello application package toohello ImageStore.</span></span> <span data-ttu-id="4049e-122">Se desejar que o pacote de aplicativo de saudação tooverify localmente, use Olá [ServiceFabricApplicationPackage teste](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="4049e-122">If you want tooverify hello app package locally, use hello [Test-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) cmdlet.</span></span> <span data-ttu-id="4049e-123">Olá, próxima etapa é tooregister Olá toohello Service Fabric tempo de execução usando Olá [ServiceFabricApplicationPackage registro](/powershell/servicefabric/vlatest/register-servicefabricapplicationtype) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="4049e-123">hello next step is tooregister hello application toohello Service Fabric runtime using hello [Register-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/register-servicefabricapplicationtype) cmdlet.</span></span> <span data-ttu-id="4049e-124">Olá etapa final é toostart uma instância do aplicativo hello usando Olá [ServiceFabricApplication novo](/powershell/module/servicefabric/new-servicefabricapplication?view=azureservicefabricps) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="4049e-124">hello final step is toostart an instance of hello application by using hello [New-ServiceFabricApplication](/powershell/module/servicefabric/new-servicefabricapplication?view=azureservicefabricps) cmdlet.</span></span>  <span data-ttu-id="4049e-125">Essas três etapas são análogos toousing Olá **implantar** item de menu no Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="4049e-125">These three steps are analogous toousing hello **Deploy** menu item in Visual Studio.</span></span>

<span data-ttu-id="4049e-126">Agora, você pode usar [Service Fabric Explorer tooview Olá cluster e Olá o aplicativo](service-fabric-visualizing-your-cluster.md).</span><span class="sxs-lookup"><span data-stu-id="4049e-126">Now, you can use [Service Fabric Explorer tooview hello cluster and hello application](service-fabric-visualizing-your-cluster.md).</span></span> <span data-ttu-id="4049e-127">aplicativo Hello tem um serviço web que pode ser navegado tooin Internet Explorer digitando [http://localhost:8081/visualobjects](http://localhost:8081/visualobjects) na barra de endereços de saudação.</span><span class="sxs-lookup"><span data-stu-id="4049e-127">hello application has a web service that can be navigated tooin Internet Explorer by typing [http://localhost:8081/visualobjects](http://localhost:8081/visualobjects) in hello address bar.</span></span>  <span data-ttu-id="4049e-128">Você deve ver alguns objetos visual flutuantes mover-se na tela hello.</span><span class="sxs-lookup"><span data-stu-id="4049e-128">You should see some floating visual objects moving around in hello screen.</span></span>  <span data-ttu-id="4049e-129">Além disso, você pode usar [Get-ServiceFabricApplication](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps) toocheck status da saudação do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="4049e-129">Additionally, you can use [Get-ServiceFabricApplication](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps) toocheck hello application status.</span></span>

## <a name="step-2-update-hello-visual-objects-sample"></a><span data-ttu-id="4049e-130">Etapa 2: Atualizar exemplo de objetos visuais hello</span><span class="sxs-lookup"><span data-stu-id="4049e-130">Step 2: Update hello Visual Objects sample</span></span>
<span data-ttu-id="4049e-131">Você pode notar que com a versão de saudação que foi implantado na etapa 1, objetos visuais Olá não gire.</span><span class="sxs-lookup"><span data-stu-id="4049e-131">You might notice that with hello version that was deployed in Step 1, hello visual objects do not rotate.</span></span> <span data-ttu-id="4049e-132">Vamos atualizar esse tooone aplicativo onde objetos visuais Olá também girar.</span><span class="sxs-lookup"><span data-stu-id="4049e-132">Let's upgrade this application tooone where hello visual objects also rotate.</span></span>

<span data-ttu-id="4049e-133">Selecionar projeto VisualObjects.ActorService Olá Olá VisualObjects solução e abrir o arquivo de StatefulVisualObjectActor.cs hello.</span><span class="sxs-lookup"><span data-stu-id="4049e-133">Select hello VisualObjects.ActorService project within hello VisualObjects solution, and open hello StatefulVisualObjectActor.cs file.</span></span> <span data-ttu-id="4049e-134">Dentro desse arquivo, navegue toohello método `MoveObject`, comente `this.State.Move()`e remova os `this.State.Move(true)`.</span><span class="sxs-lookup"><span data-stu-id="4049e-134">Within that file, navigate toohello method `MoveObject`, comment out `this.State.Move()`, and uncomment `this.State.Move(true)`.</span></span> <span data-ttu-id="4049e-135">Essa alteração gira objetos Olá depois que o serviço de saudação é atualizado.</span><span class="sxs-lookup"><span data-stu-id="4049e-135">This change rotates hello objects after hello service is upgraded.</span></span>

<span data-ttu-id="4049e-136">Também precisamos Olá tooupdate *ServiceManifest.xml* arquivo (em PackageRoot) do projeto Olá **VisualObjects.ActorService**.</span><span class="sxs-lookup"><span data-stu-id="4049e-136">We also need tooupdate hello *ServiceManifest.xml* file (under PackageRoot) of hello project **VisualObjects.ActorService**.</span></span> <span data-ttu-id="4049e-137">Saudação de atualização *CodePackage* Olá too2.0 de versão do serviço e Olá linhas correspondentes na Olá *ServiceManifest.xml* arquivo.</span><span class="sxs-lookup"><span data-stu-id="4049e-137">Update hello *CodePackage* and hello service version too2.0, and hello corresponding lines in hello *ServiceManifest.xml* file.</span></span>
<span data-ttu-id="4049e-138">Você pode usar o Visual Studio de saudação *editar arquivos de manifesto* opção após clicar em alterações no arquivo de manifesto Olá Olá solução toomake.</span><span class="sxs-lookup"><span data-stu-id="4049e-138">You can use hello Visual Studio *Edit Manifest Files* option after you right-click on hello solution toomake hello manifest file changes.</span></span>

<span data-ttu-id="4049e-139">Depois que forem feitas alterações Olá, manifesto Olá deve ter aparência a seguir Olá (realçadas partes mostram alterações Olá):</span><span class="sxs-lookup"><span data-stu-id="4049e-139">After hello changes are made, hello manifest should look like hello following (highlighted portions show hello changes):</span></span>

```xml
<ServiceManifestName="VisualObjects.ActorService" Version="2.0" xmlns="http://schemas.microsoft.com/2011/01/fabric" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

<CodePackageName="Code" Version="2.0">
```

<span data-ttu-id="4049e-140">Olá agora *ApplicationManifest.xml* arquivo (encontrado em Olá **VisualObjects** projeto sob Olá **VisualObjects** solução) é atualizada tooversion 2.0 de saudação  **VisualObjects.ActorService** projeto.</span><span class="sxs-lookup"><span data-stu-id="4049e-140">Now hello *ApplicationManifest.xml* file (found under hello **VisualObjects** project under hello **VisualObjects** solution) is updated tooversion 2.0 of hello **VisualObjects.ActorService** project.</span></span> <span data-ttu-id="4049e-141">Além disso, a versão do aplicativo hello é atualizada too2.0.0.0 de 1.0.0.0.</span><span class="sxs-lookup"><span data-stu-id="4049e-141">In addition, hello Application version is updated too2.0.0.0 from 1.0.0.0.</span></span> <span data-ttu-id="4049e-142">Olá *ApplicationManifest.xml* deve aparência Olá trecho de código a seguir:</span><span class="sxs-lookup"><span data-stu-id="4049e-142">hello *ApplicationManifest.xml* should look like hello following snippet:</span></span>

```xml
<ApplicationManifestxmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ApplicationTypeName="VisualObjects" ApplicationTypeVersion="2.0.0.0" xmlns="http://schemas.microsoft.com/2011/01/fabric">

 <ServiceManifestRefServiceManifestName="VisualObjects.ActorService" ServiceManifestVersion="2.0" />
```


<span data-ttu-id="4049e-143">Agora, crie o projeto de hello, selecionando apenas Olá **ActorService** de projeto e, em seguida, clicando duas vezes e selecionando Olá **criar** opção no Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="4049e-143">Now, build hello project by selecting just hello **ActorService** project, and then right-clicking and selecting hello **Build** option in Visual Studio.</span></span> <span data-ttu-id="4049e-144">Se você selecionar **recompilar tudo**, você deve atualizar versões Olá para todos os projetos, como código Olá poderia ter sido alterada.</span><span class="sxs-lookup"><span data-stu-id="4049e-144">If you select **Rebuild all**, you should update hello versions for all projects, since hello code would have changed.</span></span> <span data-ttu-id="4049e-145">Em seguida, vamos saudação do pacote atualizado o aplicativo clicando em ***VisualObjectsApplication***, selecionando Olá Menu de malha do serviço e escolhendo **pacote**.</span><span class="sxs-lookup"><span data-stu-id="4049e-145">Next, let's package hello updated application by right-clicking on ***VisualObjectsApplication***, selecting hello Service Fabric Menu, and choosing **Package**.</span></span> <span data-ttu-id="4049e-146">Essa ação cria um pacote de aplicativos que pode ser implantado.</span><span class="sxs-lookup"><span data-stu-id="4049e-146">This action creates an application package that can be deployed.</span></span>  <span data-ttu-id="4049e-147">Seu aplicativo atualizado está pronto toobe implantado.</span><span class="sxs-lookup"><span data-stu-id="4049e-147">Your updated application is ready toobe deployed.</span></span>

## <a name="step-3--decide-on-health-policies-and-upgrade-parameters"></a><span data-ttu-id="4049e-148">Etapa 3: decida sobre diretivas de integridade e parâmetros de atualização</span><span class="sxs-lookup"><span data-stu-id="4049e-148">Step 3:  Decide on health policies and upgrade parameters</span></span>
<span data-ttu-id="4049e-149">Familiarize-se com hello [parâmetros de atualização de aplicativo](service-fabric-application-upgrade-parameters.md) e hello [processo de atualização](service-fabric-application-upgrade.md) tooget um bom entendimento da saudação vários atualizar parâmetros, tempos limite e critérios de integridade aplicada .</span><span class="sxs-lookup"><span data-stu-id="4049e-149">Familiarize yourself with hello [application upgrade parameters](service-fabric-application-upgrade-parameters.md) and hello [upgrade process](service-fabric-application-upgrade.md) tooget a good understanding of hello various upgrade parameters, time-outs, and health criterion applied.</span></span> <span data-ttu-id="4049e-150">Para este passo a passo, critério de avaliação de integridade de serviço Olá é definir toohello padrão (e recomendável) valores, o que significa que todos os serviços e instâncias devem ser *Íntegro* após a atualização de saudação.</span><span class="sxs-lookup"><span data-stu-id="4049e-150">For this walkthrough, hello service health evaluation criterion is set toohello default (and recommended) values, which means that all services and instances should be *healthy* after hello upgrade.</span></span>  

<span data-ttu-id="4049e-151">No entanto, vamos aumentar Olá *HealthCheckStableDuration* too60 segundos (de forma que os serviços de saudação estão íntegros para pelo menos 20 segundos antes de atualização de saudação continua toohello próximo domínio de atualização).</span><span class="sxs-lookup"><span data-stu-id="4049e-151">However, let's increase hello *HealthCheckStableDuration* too60 seconds (so that hello services are healthy for at least 20 seconds before hello upgrade proceeds toohello next update domain).</span></span>  <span data-ttu-id="4049e-152">Vamos definir também Olá *UpgradeDomainTimeout* toobe 1200 segundos e hello *UpgradeTimeout* toobe 3000 segundos.</span><span class="sxs-lookup"><span data-stu-id="4049e-152">Let's also set hello *UpgradeDomainTimeout* toobe 1200 seconds and hello *UpgradeTimeout* toobe 3000 seconds.</span></span>

<span data-ttu-id="4049e-153">Por fim, vamos também definir Olá *UpgradeFailureAction* toorollback.</span><span class="sxs-lookup"><span data-stu-id="4049e-153">Finally, let's also set hello *UpgradeFailureAction* toorollback.</span></span> <span data-ttu-id="4049e-154">Essa opção requer a versão anterior do toohello de aplicativo de backup Olá do Service Fabric tooroll se encontrar problemas durante a atualização de saudação.</span><span class="sxs-lookup"><span data-stu-id="4049e-154">This option requires Service Fabric tooroll back hello application toohello previous version if it encounters any issues during hello upgrade.</span></span> <span data-ttu-id="4049e-155">Portanto, ao iniciar a atualização da saudação (na etapa 4), hello seguintes parâmetros são especificados:</span><span class="sxs-lookup"><span data-stu-id="4049e-155">Thus, when starting hello upgrade (in Step 4), hello following parameters are specified:</span></span>

<span data-ttu-id="4049e-156">FailureAction = Rollback</span><span class="sxs-lookup"><span data-stu-id="4049e-156">FailureAction = Rollback</span></span>

<span data-ttu-id="4049e-157">HealthCheckStableDurationSec = 60</span><span class="sxs-lookup"><span data-stu-id="4049e-157">HealthCheckStableDurationSec = 60</span></span>

<span data-ttu-id="4049e-158">UpgradeDomainTimeoutSec = 1200</span><span class="sxs-lookup"><span data-stu-id="4049e-158">UpgradeDomainTimeoutSec = 1200</span></span>

<span data-ttu-id="4049e-159">UpgradeTimeout = 3000</span><span class="sxs-lookup"><span data-stu-id="4049e-159">UpgradeTimeout = 3000</span></span>

## <a name="step-4-prepare-application-for-upgrade"></a><span data-ttu-id="4049e-160">Etapa 4: preparar o aplicativo para atualização</span><span class="sxs-lookup"><span data-stu-id="4049e-160">Step 4: Prepare application for upgrade</span></span>
<span data-ttu-id="4049e-161">Agora o aplicativo hello é criado e atualizado toobe pronto.</span><span class="sxs-lookup"><span data-stu-id="4049e-161">Now hello application is built and ready toobe upgraded.</span></span> <span data-ttu-id="4049e-162">Se você abrir uma janela do PowerShell como administrador e digitar [Get-ServiceFabricApplication](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps), será informado de que o aplicativo tipo 1.0.0.0 do **VisualObjects** foi implantado.</span><span class="sxs-lookup"><span data-stu-id="4049e-162">If you open up a PowerShell window as an administrator and type [Get-ServiceFabricApplication](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps), it should let you know that it is application type 1.0.0.0 of **VisualObjects** that's been deployed.</span></span>  

<span data-ttu-id="4049e-163">Olá pacote de aplicativo é armazenado na seguinte Olá caminho relativo onde você descompactou Olá SDK do Service Fabric - *Samples\Services\Stateful\VisualObjects\VisualObjects\obj\x64\Debug*.</span><span class="sxs-lookup"><span data-stu-id="4049e-163">hello application package is stored under hello following relative path where you uncompressed hello Service Fabric SDK - *Samples\Services\Stateful\VisualObjects\VisualObjects\obj\x64\Debug*.</span></span> <span data-ttu-id="4049e-164">Você deve encontrar uma pasta de "Pacote" no diretório, onde o pacote de aplicativo hello está armazenado.</span><span class="sxs-lookup"><span data-stu-id="4049e-164">You should find a "Package" folder in that directory, where hello application package is stored.</span></span> <span data-ttu-id="4049e-165">Verifique Olá carimbos de hora tooensure que se trata de compilação mais recente do hello (talvez seja necessário toomodify Olá caminhos adequadamente).</span><span class="sxs-lookup"><span data-stu-id="4049e-165">Check hello timestamps tooensure that it is hello latest build (you may need toomodify hello paths appropriately as well).</span></span>

<span data-ttu-id="4049e-166">Agora vamos Olá cópia atualizada toohello do pacote de aplicativo ImageStore de malha do serviço (onde os pacotes de aplicativos Olá são armazenados pela malha do serviço).</span><span class="sxs-lookup"><span data-stu-id="4049e-166">Now let's copy hello updated application package toohello Service Fabric ImageStore (where hello application packages are stored by Service Fabric).</span></span> <span data-ttu-id="4049e-167">Olá parâmetro *ApplicationPackagePathInImageStore* informa onde ele pode localizar o pacote de aplicativo de saudação do Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="4049e-167">hello parameter *ApplicationPackagePathInImageStore* informs Service Fabric where it can find hello application package.</span></span> <span data-ttu-id="4049e-168">Nós trabalhamos aplicativo hello atualizado "VisualObjects\_V2" com hello (talvez seja necessário toomodify caminhos novamente adequadamente) de comando a seguir.</span><span class="sxs-lookup"><span data-stu-id="4049e-168">We have put hello updated application in "VisualObjects\_V2" with hello following command (you may need toomodify paths again appropriately).</span></span>

```powershell
Copy-ServiceFabricApplicationPackage  -ApplicationPackagePath .\Samples\Services\Stateful\VisualObjects\VisualObjects\obj\x64\Debug\Package
-ImageStoreConnectionString fabric:ImageStore   -ApplicationPackagePathInImageStore "VisualObjects\_V2"
```

<span data-ttu-id="4049e-169">próxima etapa do Hello é tooregister esse aplicativo com a malha do serviço, que pode ser realizada usando Olá [ServiceFabricApplicationType registro](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) comando:</span><span class="sxs-lookup"><span data-stu-id="4049e-169">hello next step is tooregister this application with Service Fabric, which can be performed using hello [Register-ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) command:</span></span>

```powershell
Register-ServiceFabricApplicationType -ApplicationPathInImageStore "VisualObjects\_V2"
```

<span data-ttu-id="4049e-170">Se hello comando anterior não for bem-sucedida, é provável que você precisa de uma recompilação de todos os serviços.</span><span class="sxs-lookup"><span data-stu-id="4049e-170">If hello preceding command doesn't succeed, it is likely that you need a rebuild of all services.</span></span> <span data-ttu-id="4049e-171">Conforme mencionado na etapa 2, você pode ter tooupdate sua versão do serviço Web.</span><span class="sxs-lookup"><span data-stu-id="4049e-171">As mentioned in Step 2, you may have tooupdate your WebService version as well.</span></span>

## <a name="step-5-start-hello-application-upgrade"></a><span data-ttu-id="4049e-172">Etapa 5: Iniciar a atualização do aplicativo hello</span><span class="sxs-lookup"><span data-stu-id="4049e-172">Step 5: Start hello application upgrade</span></span>
<span data-ttu-id="4049e-173">Agora, estamos todos os aplicativos de saudação do conjunto toostart atualização usando Olá [Start-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/start-servicefabricapplicationupgrade?view=azureservicefabricps) comando:</span><span class="sxs-lookup"><span data-stu-id="4049e-173">Now, we're all set toostart hello application upgrade by using hello [Start-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/start-servicefabricapplicationupgrade?view=azureservicefabricps) command:</span></span>

```powershell
Start-ServiceFabricApplicationUpgrade -ApplicationName fabric:/VisualObjects -ApplicationTypeVersion 2.0.0.0 -HealthCheckStableDurationSec 60 -UpgradeDomainTimeoutSec 1200 -UpgradeTimeout 3000   -FailureAction Rollback -Monitored
```


<span data-ttu-id="4049e-174">Olá nome do aplicativo é Olá mesmo conforme descrito em Olá *ApplicationManifest.xml* arquivo.</span><span class="sxs-lookup"><span data-stu-id="4049e-174">hello application name is hello same as it was described in hello *ApplicationManifest.xml* file.</span></span> <span data-ttu-id="4049e-175">Serviço de malha usa este tooidentify nome que o aplicativo está obtendo atualizado.</span><span class="sxs-lookup"><span data-stu-id="4049e-175">Service Fabric uses this name tooidentify which application is getting upgraded.</span></span> <span data-ttu-id="4049e-176">Se você definir Olá toobe de tempos limite muito curto, você pode encontrar uma mensagem de falha que estados Olá problema.</span><span class="sxs-lookup"><span data-stu-id="4049e-176">If you set hello time-outs toobe too short, you may encounter a failure message that states hello problem.</span></span> <span data-ttu-id="4049e-177">Consulte a seção de solução de problemas de toohello ou aumentar o tempo limite de saudação.</span><span class="sxs-lookup"><span data-stu-id="4049e-177">Refer toohello troubleshooting section, or increase hello time-outs.</span></span>

<span data-ttu-id="4049e-178">Agora, como hello prossegue de atualização do aplicativo, você poderá monitorá-lo usando o Gerenciador do Service Fabric, ou usando Olá [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) comando do PowerShell:</span><span class="sxs-lookup"><span data-stu-id="4049e-178">Now, as hello application upgrade proceeds, you can monitor it using Service Fabric Explorer, or by using hello [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) PowerShell command:</span></span> 

```powershell
Get-ServiceFabricApplicationUpgrade fabric:/VisualObjects
```

<span data-ttu-id="4049e-179">Em alguns minutos, status de saudação que você obteve usando Olá precede o comando do PowerShell, deverá indicar que todos os domínios de atualização foram atualizados (concluído).</span><span class="sxs-lookup"><span data-stu-id="4049e-179">In a few minutes, hello status that you got by using hello preceding PowerShell command, should state that all update domains were upgraded (completed).</span></span> <span data-ttu-id="4049e-180">E você deve encontrar que objetos de saudação do visual na janela do navegador iniciaram girando!</span><span class="sxs-lookup"><span data-stu-id="4049e-180">And you should find that hello visual objects in your browser window have started rotating!</span></span>

<span data-ttu-id="4049e-181">Você pode tentar a atualização de versão 2 tooversion 3 ou de versão 2 tooversion 1 como um exercício.</span><span class="sxs-lookup"><span data-stu-id="4049e-181">You can try upgrading from version 2 tooversion 3, or from version 2 tooversion 1 as an exercise.</span></span> <span data-ttu-id="4049e-182">Mudança de versão 2 tooversion 1 também é considerada uma atualização.</span><span class="sxs-lookup"><span data-stu-id="4049e-182">Moving from version 2 tooversion 1 is also considered an upgrade.</span></span> <span data-ttu-id="4049e-183">Experimentar tempos limite e toomake de diretivas de integridade por conta própria familiarizados com eles.</span><span class="sxs-lookup"><span data-stu-id="4049e-183">Play with time-outs and health policies toomake yourself familiar with them.</span></span> <span data-ttu-id="4049e-184">Quando você estiver implantando tooan cluster do Azure, Olá parâmetros necessidade toobe conjunto adequadamente.</span><span class="sxs-lookup"><span data-stu-id="4049e-184">When you are deploying tooan Azure cluster, hello parameters need toobe set appropriately.</span></span> <span data-ttu-id="4049e-185">É tooset bons tempos-limite Olá impedidas.</span><span class="sxs-lookup"><span data-stu-id="4049e-185">It is good tooset hello time-outs conservatively.</span></span>

## <a name="next-steps"></a><span data-ttu-id="4049e-186">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="4049e-186">Next steps</span></span>
<span data-ttu-id="4049e-187">[Atualização do aplicativo usando o Visual Studio](service-fabric-application-upgrade-tutorial.md) orienta você durante a atualização de aplicativo usando o Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="4049e-187">[Upgrading your application using Visual Studio](service-fabric-application-upgrade-tutorial.md) walks you through an application upgrade using Visual Studio.</span></span>

<span data-ttu-id="4049e-188">Controle como seu aplicativo é atualizado usando [parâmetros de atualização](service-fabric-application-upgrade-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="4049e-188">Control how your application upgrades by using [upgrade parameters](service-fabric-application-upgrade-parameters.md).</span></span>

<span data-ttu-id="4049e-189">Verifique suas atualizações de aplicativo compatível aprendendo como toouse [serialização de dados](service-fabric-application-upgrade-data-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="4049e-189">Make your application upgrades compatible by learning how toouse [data serialization](service-fabric-application-upgrade-data-serialization.md).</span></span>

<span data-ttu-id="4049e-190">Saiba como toouse funcionalidade avançada ao atualizar seu aplicativo referindo-se muito[tópicos avançados](service-fabric-application-upgrade-advanced.md).</span><span class="sxs-lookup"><span data-stu-id="4049e-190">Learn how toouse advanced functionality while upgrading your application by referring too[Advanced topics](service-fabric-application-upgrade-advanced.md).</span></span>

<span data-ttu-id="4049e-191">Corrigir problemas comuns em atualizações de aplicativo consultando etapas toohello [Solucionando problemas de atualizações de aplicativo](service-fabric-application-upgrade-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="4049e-191">Fix common problems in application upgrades by referring toohello steps in [Troubleshooting application upgrades](service-fabric-application-upgrade-troubleshooting.md).</span></span>

