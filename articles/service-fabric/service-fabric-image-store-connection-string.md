---
title: "aaaAzure cadeia de conexão de repositório de imagens do Service Fabric | Microsoft Docs"
description: "Entender a cadeia de conexão de repositório de imagens de saudação"
services: service-fabric
documentationcenter: .net
author: alexwun
manager: timlt
editor: 
ms.assetid: 00f8059d-9d53-4cb8-b44a-b25149de3030
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 06/07/2017
ms.author: alexwun
ms.openlocfilehash: 83f5ad75b5df07726997da3173722028255b8cae
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="understand-hello-imagestoreconnectionstring-setting"></a><span data-ttu-id="7cbe7-103">Entender a configuração de ImageStoreConnectionString de saudação</span><span class="sxs-lookup"><span data-stu-id="7cbe7-103">Understand hello ImageStoreConnectionString setting</span></span>

<span data-ttu-id="7cbe7-104">Em alguns nossa documentação, vamos mencionar brevemente existência de saudação de um parâmetro de "ImageStoreConnectionString" sem que descreve o que realmente significa.</span><span class="sxs-lookup"><span data-stu-id="7cbe7-104">In some of our documentation, we briefly mention hello existence of an "ImageStoreConnectionString" parameter without describing what it really means.</span></span> <span data-ttu-id="7cbe7-105">E depois passando por um artigo como [implantar e remover aplicativos usando o PowerShell][10], parece que tudo é o valor de saudação de copiar/colar como ele aparece no manifesto do cluster de saudação do destino Olá cluster.</span><span class="sxs-lookup"><span data-stu-id="7cbe7-105">And after going through an article like [Deploy and remove applications using PowerShell][10], it looks like all you do is copy/paste hello value as it appears in hello cluster manifest of hello target cluster.</span></span> <span data-ttu-id="7cbe7-106">Para configuração de saudação sejam configurável por cluster, mas quando você cria um cluster por meio de saudação [portal do Azure][11], não há nenhuma opção tooconfigure essa configuração e é sempre "fabric: ImageStore".</span><span class="sxs-lookup"><span data-stu-id="7cbe7-106">So hello setting must be configurable per cluster, but when you create a cluster through hello [Azure portal][11], there's no option tooconfigure this setting and it's always "fabric:ImageStore".</span></span> <span data-ttu-id="7cbe7-107">Qual é a finalidade de saudação dessa configuração?</span><span class="sxs-lookup"><span data-stu-id="7cbe7-107">What's hello purpose of this setting then?</span></span>

![Manifesto do cluster][img_cm]

<span data-ttu-id="7cbe7-109">Service Fabric foi iniciada como uma plataforma para consumo interno do Microsoft por muitas equipes diferentes, para alguns aspectos são altamente personalizáveis - Olá "Image Store" é um aspecto tal.</span><span class="sxs-lookup"><span data-stu-id="7cbe7-109">Service Fabric started off as a platform for internal Microsoft consumption by many diverse teams, so some aspects of it are highly customizable - hello "Image Store" is one such aspect.</span></span> <span data-ttu-id="7cbe7-110">Essencialmente, Olá Image Store é um repositório conectável para armazenar os pacotes de aplicativos.</span><span class="sxs-lookup"><span data-stu-id="7cbe7-110">Essentially, hello Image Store is a pluggable repository for storing application packages.</span></span> <span data-ttu-id="7cbe7-111">Quando seu aplicativo é implantado tooa nó no cluster Olá, o nó baixa conteúdo de saudação do seu pacote de aplicativo de saudação Image Store.</span><span class="sxs-lookup"><span data-stu-id="7cbe7-111">When your application is deployed tooa node in hello cluster, that node downloads hello contents of your application package from hello Image Store.</span></span> <span data-ttu-id="7cbe7-112">Olá ImageStoreConnectionString é uma configuração que inclui todas as informações necessárias de saudação para clientes e nós toofind Olá imagem repositório correto para um determinado cluster.</span><span class="sxs-lookup"><span data-stu-id="7cbe7-112">hello ImageStoreConnectionString is a setting that includes all hello necessary information for both clients and nodes toofind hello correct Image Store for a given cluster.</span></span>

<span data-ttu-id="7cbe7-113">Existem três tipos possíveis de provedores de armazenamento de imagens e suas cadeias de conexão correspondentes são os seguintes:</span><span class="sxs-lookup"><span data-stu-id="7cbe7-113">There are currently three possible kinds of Image Store providers and their corresponding connection strings are as follows:</span></span>

1. <span data-ttu-id="7cbe7-114">Serviço de Armazenamento de Imagens: "fabric:ImageStore"</span><span class="sxs-lookup"><span data-stu-id="7cbe7-114">Image Store Service: "fabric:ImageStore"</span></span>

2. <span data-ttu-id="7cbe7-115">Sistema de Arquivos: "file:[caminho do sistema de arquivos]"</span><span class="sxs-lookup"><span data-stu-id="7cbe7-115">File System: "file:[file system path]"</span></span>

3. <span data-ttu-id="7cbe7-116">Armazenamento do Azure: "xstore:DefaultEndpointsProtocol=https;AccountName=[...];AccountKey=[...];Container=[...]"</span><span class="sxs-lookup"><span data-stu-id="7cbe7-116">Azure Storage: "xstore:DefaultEndpointsProtocol=https;AccountName=[...];AccountKey=[...];Container=[...]"</span></span>

<span data-ttu-id="7cbe7-117">tipo de provedor de saudação usado na produção é Olá serviço de repositório de imagem, que é um serviço de sistema persistente com monitoração de estado que você pode ver no Gerenciador do Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="7cbe7-117">hello provider type used in production is hello Image Store Service, which is a stateful persisted system service that you can see from Service Fabric Explorer.</span></span> 

![Serviço de armazenamento de imagens][img_is]

<span data-ttu-id="7cbe7-119">Hospedagem hello Image Store em um serviço de sistema dentro do próprio cluster Olá elimina dependências externas para o repositório de pacotes de saudação e nos dá mais controle sobre a localidade de saudação do armazenamento.</span><span class="sxs-lookup"><span data-stu-id="7cbe7-119">Hosting hello Image Store in a system service within hello cluster itself eliminates external dependencies for hello package repository and gives us more control over hello locality of storage.</span></span> <span data-ttu-id="7cbe7-120">As melhorias futuras no hello repositório de imagens é provavelmente tootarget provedor de repositório de imagens de Olá primeiro, se não exclusivamente.</span><span class="sxs-lookup"><span data-stu-id="7cbe7-120">Future improvements around hello Image Store are likely tootarget hello Image Store provider first, if not exclusively.</span></span> <span data-ttu-id="7cbe7-121">cadeia de caracteres de conexão de saudação para o provedor de serviço de repositório de imagem Olá não tem nenhuma informação exclusiva desde que o cliente Olá já está conectado toohello cluster de destino.</span><span class="sxs-lookup"><span data-stu-id="7cbe7-121">hello connection string for hello Image Store Service provider doesn't have any unique information since hello client is already connected toohello target cluster.</span></span> <span data-ttu-id="7cbe7-122">cliente Olá só precisa tooknow que protocolos direcionando o serviço do sistema Olá devem ser usados.</span><span class="sxs-lookup"><span data-stu-id="7cbe7-122">hello client only needs tooknow that protocols targeting hello system service should be used.</span></span>

<span data-ttu-id="7cbe7-123">Olá sistema de arquivos provedor é usado em vez da saudação serviço de repositório de imagens para clusters de uma caixa locais durante o cluster de saudação do desenvolvimento toobootstrap ligeiramente mais rápido.</span><span class="sxs-lookup"><span data-stu-id="7cbe7-123">hello File System provider is used instead of hello Image Store Service for local one-box clusters during development toobootstrap hello cluster slightly faster.</span></span> <span data-ttu-id="7cbe7-124">diferença de saudação seja normalmente pequena, mas é uma otimização útil para a maioria das pessoas durante o desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="7cbe7-124">hello difference is typically small, but it's a useful optimization for most folks during development.</span></span> <span data-ttu-id="7cbe7-125">É possível toodeploy uma caixa local de um cluster com hello outros tipos de provedor de armazenamento, mas geralmente não há nenhum motivo toodo assim como fluxo de trabalho de desenvolvimento/teste Olá permanece Olá mesmo, independentemente do provedor.</span><span class="sxs-lookup"><span data-stu-id="7cbe7-125">It's possible toodeploy a local one-box cluster with hello other storage provider types as well, but there's usually no reason toodo so since hello develop/test workflow remains hello same regardless of provider.</span></span> <span data-ttu-id="7cbe7-126">Diferentes esse uso, provedores de sistema de arquivos e armazenamento do Azure Olá só existem para dar suporte.</span><span class="sxs-lookup"><span data-stu-id="7cbe7-126">Other than this usage, hello File System and Azure Storage providers only exist for legacy support.</span></span>

<span data-ttu-id="7cbe7-127">Portanto enquanto Olá ImageStoreConnectionString é configurável, você geralmente apenas use Olá configuração padrão.</span><span class="sxs-lookup"><span data-stu-id="7cbe7-127">So while hello ImageStoreConnectionString is configurable, you generally just use hello default setting.</span></span> <span data-ttu-id="7cbe7-128">Ao publicar tooAzure por meio de [Visual Studio][12], parâmetro hello será definido automaticamente para você adequadamente.</span><span class="sxs-lookup"><span data-stu-id="7cbe7-128">When publishing tooAzure through [Visual Studio][12], hello parameter is automatically set for you accordingly.</span></span> <span data-ttu-id="7cbe7-129">Para tooclusters implantação programática hospedado no Azure, a cadeia de caracteres de conexão de saudação é sempre "fabric: ImageStore".</span><span class="sxs-lookup"><span data-stu-id="7cbe7-129">For programmatic deployment tooclusters hosted in Azure, hello connection string is always "fabric:ImageStore".</span></span> <span data-ttu-id="7cbe7-130">Embora em caso de dúvida, seu valor pode ser verificado sempre recuperando Olá manifesto do cluster por [PowerShell](https://docs.microsoft.com/powershell/servicefabric/vlatest/get-servicefabricclustermanifest), [.NET](https://msdn.microsoft.com/library/azure/mt161375.aspx), ou [REST](https://docs.microsoft.com/rest/api/servicefabric/get-a-cluster-manifest).</span><span class="sxs-lookup"><span data-stu-id="7cbe7-130">Though when in doubt, its value can always be verified by retrieving hello cluster manifest by [PowerShell](https://docs.microsoft.com/powershell/servicefabric/vlatest/get-servicefabricclustermanifest), [.NET](https://msdn.microsoft.com/library/azure/mt161375.aspx), or [REST](https://docs.microsoft.com/rest/api/servicefabric/get-a-cluster-manifest).</span></span> <span data-ttu-id="7cbe7-131">Locais de teste e clusters de produção devem sempre ser o provedor de serviço de repositório de imagens de saudação toouse configurado também.</span><span class="sxs-lookup"><span data-stu-id="7cbe7-131">Both on-premises test and production clusters should always be configured toouse hello Image Store Service provider as well.</span></span>

### <a name="next-steps"></a><span data-ttu-id="7cbe7-132">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="7cbe7-132">Next steps</span></span>
<span data-ttu-id="7cbe7-133">[Implantar e remover aplicativos usando o PowerShell][10]</span><span class="sxs-lookup"><span data-stu-id="7cbe7-133">[Deploy and remove applications using PowerShell][10]</span></span>

<!--Image references-->
[img_is]: ./media/service-fabric-image-store-connection-string/image_store_service.png
[img_cm]: ./media/service-fabric-image-store-connection-string/cluster_manifest.png

[10]: service-fabric-deploy-remove-applications.md
[11]: service-fabric-cluster-creation-via-portal.md
[12]: service-fabric-publish-app-remote-cluster.md
