---
title: "Olá aaaPlanning capacidade de cluster do Service Fabric | Microsoft Docs"
description: "Considerações de planejamento de capacidade de cluster do Service Fabric. Níveis de confiabilidade, durabilidade e nodetypes"
services: service-fabric
documentationcenter: .net
author: ChackDan
manager: timlt
editor: 
ms.assetid: 4c584f4a-cb1f-400c-b61f-1f797f11c982
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/24/2017
ms.author: chackdan
ms.openlocfilehash: 83272ce7fefe698eef755cf66493c2874cc3b120
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="service-fabric-cluster-capacity-planning-considerations"></a><span data-ttu-id="d7b65-104">Considerações de planejamento de capacidade de cluster do Service Fabric</span><span class="sxs-lookup"><span data-stu-id="d7b65-104">Service Fabric cluster capacity planning considerations</span></span>
<span data-ttu-id="d7b65-105">Para qualquer implantação de produção, o planejamento de capacidade é uma etapa importante.</span><span class="sxs-lookup"><span data-stu-id="d7b65-105">For any production deployment, capacity planning is an important step.</span></span> <span data-ttu-id="d7b65-106">Aqui estão alguns dos itens de saudação que você tenha tooconsider como parte desse processo.</span><span class="sxs-lookup"><span data-stu-id="d7b65-106">Here are some of hello items that you have tooconsider as a part of that process.</span></span>

* <span data-ttu-id="d7b65-107">sua necessidades de cluster toostart out com tipos de número de saudação do nó</span><span class="sxs-lookup"><span data-stu-id="d7b65-107">hello number of node types your cluster needs toostart out with</span></span>
* <span data-ttu-id="d7b65-108">Propriedades de saudação de cada tipo de nó (tamanho, primário, da internet, número de VMs, etc.)</span><span class="sxs-lookup"><span data-stu-id="d7b65-108">hello properties of each of node type (size, primary, internet facing, number of VMs, etc.)</span></span>
* <span data-ttu-id="d7b65-109">características de confiabilidade e durabilidade de saudação do cluster de saudação</span><span class="sxs-lookup"><span data-stu-id="d7b65-109">hello reliability and durability characteristics of hello cluster</span></span>

<span data-ttu-id="d7b65-110">Vamos examinar rapidamente cada um desses itens.</span><span class="sxs-lookup"><span data-stu-id="d7b65-110">Let us briefly review each of these items.</span></span>

## <a name="hello-number-of-node-types-your-cluster-needs-toostart-out-with"></a><span data-ttu-id="d7b65-111">sua necessidades de cluster toostart out com tipos de número de saudação do nó</span><span class="sxs-lookup"><span data-stu-id="d7b65-111">hello number of node types your cluster needs toostart out with</span></span>
<span data-ttu-id="d7b65-112">Primeiro, é necessário toofigure qual cluster Olá você está criando irá toobe usado para e que tipos de aplicativos que você está planejando toodeploy para este cluster.</span><span class="sxs-lookup"><span data-stu-id="d7b65-112">First, you need toofigure out what hello cluster you are creating is going toobe used for and what kinds of applications you are planning toodeploy into this cluster.</span></span> <span data-ttu-id="d7b65-113">Se você não estiver claro no propósito de saudação do cluster de saudação, você provavelmente ainda não pronto do processo de planejamento de capacidade de saudação tooenter.</span><span class="sxs-lookup"><span data-stu-id="d7b65-113">If you are not clear on hello purpose of hello cluster, you are most likely not yet ready tooenter hello capacity planning process.</span></span>

<span data-ttu-id="d7b65-114">Estabelece o número de saudação de tipos de nós de com que cluster precisa toostart out.</span><span class="sxs-lookup"><span data-stu-id="d7b65-114">Establish hello number of node types your cluster needs toostart out with.</span></span>  <span data-ttu-id="d7b65-115">Cada tipo de nó é mapeado tooa conjunto de escala de máquina Virtual.</span><span class="sxs-lookup"><span data-stu-id="d7b65-115">Each node type is mapped tooa Virtual Machine Scale Set.</span></span> <span data-ttu-id="d7b65-116">Cada tipo de nó pode ser escalado verticalmente para cima ou para baixo de forma independente, tem conjuntos diferentes de portas abertas e pode ter métricas de capacidade diferente.</span><span class="sxs-lookup"><span data-stu-id="d7b65-116">Each node type can then be scaled up or down independently, have different sets of ports open, and can have different capacity metrics.</span></span> <span data-ttu-id="d7b65-117">Portanto decisão de saudação do número de saudação de tipos de nós essencialmente resume toohello considerações a seguir:</span><span class="sxs-lookup"><span data-stu-id="d7b65-117">So hello decision of hello number of node types essentially comes down toohello following considerations:</span></span>

* <span data-ttu-id="d7b65-118">Seu aplicativo tem vários serviços, e qualquer um deles é necessário toobe pública ou voltados à internet?</span><span class="sxs-lookup"><span data-stu-id="d7b65-118">Does your application have multiple services, and do any of them need toobe public or internet facing?</span></span> <span data-ttu-id="d7b65-119">Os aplicativos típicos contêm um serviço de gateway de front-end que recebe entrada de um cliente e um ou mais serviços back-end que se comunicam com serviços de front-end de saudação.</span><span class="sxs-lookup"><span data-stu-id="d7b65-119">Typical applications contain a front-end gateway service that receives input from a client, and one or more back-end services that communicate with hello front-end services.</span></span> <span data-ttu-id="d7b65-120">Nesse caso, você acaba tendo pelo menos dois tipos de nó.</span><span class="sxs-lookup"><span data-stu-id="d7b65-120">So in this case, you end up having at least two node types.</span></span>
* <span data-ttu-id="d7b65-121">Os serviços (que compõem o aplicativo) têm necessidades de infraestrutura diferentes, como maior RAM ou mais ciclos de CPU?</span><span class="sxs-lookup"><span data-stu-id="d7b65-121">Do your services (that make up your application) have different infrastructure needs such as greater RAM or higher CPU cycles?</span></span> <span data-ttu-id="d7b65-122">Por exemplo, suponhamos que esse aplicativo hello que você deseja toodeploy contém um serviço front-end e um serviço back-end.</span><span class="sxs-lookup"><span data-stu-id="d7b65-122">For example, let us assume that hello application that you want toodeploy contains a front-end service and a back-end service.</span></span> <span data-ttu-id="d7b65-123">Olá serviço front-end pode executar em VMs menores (tamanhos de VM como D2) que tem portas abertas toohello internet.</span><span class="sxs-lookup"><span data-stu-id="d7b65-123">hello front-end service can run on smaller VMs (VM sizes like D2) that have ports open toohello internet.</span></span>  <span data-ttu-id="d7b65-124">Olá back-end, no entanto, toorun de computação intensiva e necessidades em VMs maior (com tamanhos de VM como D4, D6, D15) que não são internet enfrentados pelo serviço.</span><span class="sxs-lookup"><span data-stu-id="d7b65-124">hello back-end service, however, is computation intensive and needs toorun on larger VMs (with VM sizes like D4, D6, D15) that are not internet facing.</span></span>
  
  <span data-ttu-id="d7b65-125">Neste exemplo, embora você possa decidir tooput todos os serviços em um tipo de nó de Olá, é recomendável que você coloque-os em um cluster com dois tipos de nó.</span><span class="sxs-lookup"><span data-stu-id="d7b65-125">In this example, although you can decide tooput all hello services on one node type, we recommended that you place them in a cluster with two node types.</span></span>  <span data-ttu-id="d7b65-126">Isso permite que propriedades de para cada nó tipo toohave distintos, como conectividade com a internet ou o tamanho da VM.</span><span class="sxs-lookup"><span data-stu-id="d7b65-126">This allows for each node type toohave distinct properties such as internet connectivity or VM size.</span></span> <span data-ttu-id="d7b65-127">número de saudação de VMs pode ser dimensionado independentemente, e também.</span><span class="sxs-lookup"><span data-stu-id="d7b65-127">hello number of VMs can be scaled independently, as well.</span></span>  
* <span data-ttu-id="d7b65-128">Desde que você não pode prever o futuro hello, vá com fatos que você conhece e decidir sobre o número de saudação de tipos de nós que seus aplicativos precisam toostart com.</span><span class="sxs-lookup"><span data-stu-id="d7b65-128">Since you cannot predict hello future, go with facts you know of and decide on hello number of node types that your applications need toostart with.</span></span> <span data-ttu-id="d7b65-129">Você sempre pode adicionar ou remover tipos de nós posteriormente.</span><span class="sxs-lookup"><span data-stu-id="d7b65-129">You can always add or remove node types later.</span></span> <span data-ttu-id="d7b65-130">Um cluster do Service Fabric deve ter pelo menos um tipo de nó.</span><span class="sxs-lookup"><span data-stu-id="d7b65-130">A Service Fabric cluster must have at least one node type.</span></span>

## <a name="hello-properties-of-each-node-type"></a><span data-ttu-id="d7b65-131">Propriedades de saudação de cada tipo de nó</span><span class="sxs-lookup"><span data-stu-id="d7b65-131">hello properties of each node type</span></span>
<span data-ttu-id="d7b65-132">Olá **tipo de nó** podem ser vistos como equivalentes tooroles em serviços de nuvem.</span><span class="sxs-lookup"><span data-stu-id="d7b65-132">hello **node type** can be seen as equivalent tooroles in Cloud Services.</span></span> <span data-ttu-id="d7b65-133">Tipos de nós definem tamanhos de VM hello, número de saudação de VMs e suas propriedades.</span><span class="sxs-lookup"><span data-stu-id="d7b65-133">Node types define hello VM sizes, hello number of VMs, and their properties.</span></span> <span data-ttu-id="d7b65-134">Cada tipo de nó definido em um cluster do Service Fabric está configurado como um conjunto de dimensionamento de máquinas virtuais separado.</span><span class="sxs-lookup"><span data-stu-id="d7b65-134">Every node type that is defined in a Service Fabric cluster is set up as a separate virtual machine scale set.</span></span> <span data-ttu-id="d7b65-135">Conjunto de escalas da máquina virtual é um recurso de computação do Azure, você pode usar toodeploy e gerenciar uma coleção de máquinas virtuais como um conjunto.</span><span class="sxs-lookup"><span data-stu-id="d7b65-135">Virtual machine scale set is an Azure compute resource you can use toodeploy and manage a collection of virtual machines as a set.</span></span> <span data-ttu-id="d7b65-136">Sendo definidos como conjuntos de dimensionamento de máquinas virtuais distintos, cada tipo de nó pode ser escalado verticalmente ou horizontalmente de forma independente, ter diferentes conjuntos de portas abertas e ter métricas de capacidade diferentes.</span><span class="sxs-lookup"><span data-stu-id="d7b65-136">Being defined as distinct virtual machine scale set, each node type can then be scaled up or down independently, have different sets of ports open, and can have different capacity metrics.</span></span>

<span data-ttu-id="d7b65-137">Leitura [neste documento](service-fabric-cluster-nodetypes.md) para obter mais detalhes sobre a relação de saudação do conjunto de escalas da máquina Nodetypes toovirtual, como tooRDP em uma das instâncias de hello, abrir novas portas etc.</span><span class="sxs-lookup"><span data-stu-id="d7b65-137">Read [this document](service-fabric-cluster-nodetypes.md) for more details on hello relationship of Nodetypes toovirtual machine scale set, how tooRDP into one of hello instances, open new ports etc.</span></span>

<span data-ttu-id="d7b65-138">O cluster pode ter mais de um tipo de nó, mas o tipo de nó primário hello (Olá a primeira alteração que você definir no portal de saudação) deve ter pelo menos cinco VMs para clusters usados para cargas de trabalho de produção (ou pelo menos três VMs para clusters de teste).</span><span class="sxs-lookup"><span data-stu-id="d7b65-138">Your cluster can have more than one node type, but hello primary node type (hello first one that you define on hello portal) must have at least five VMs for clusters used for production workloads (or at least three VMs for test clusters).</span></span> <span data-ttu-id="d7b65-139">Se você estiver criando um cluster de saudação usando um modelo do Gerenciador de recursos, em seguida, procure **primário** atributo na definição de tipo de nó de saudação.</span><span class="sxs-lookup"><span data-stu-id="d7b65-139">If you are creating hello cluster using a Resource Manager template, then look for **is Primary** attribute under hello node type definition.</span></span> <span data-ttu-id="d7b65-140">tipo de nó primário Olá é tipo de nó de saudação onde os serviços do sistema do Service Fabric são colocados.</span><span class="sxs-lookup"><span data-stu-id="d7b65-140">hello primary node type is hello node type where Service Fabric system services are placed.</span></span>  

### <a name="primary-node-type"></a><span data-ttu-id="d7b65-141">Tipo de nó primário</span><span class="sxs-lookup"><span data-stu-id="d7b65-141">Primary node type</span></span>
<span data-ttu-id="d7b65-142">Para um cluster com vários tipos de nó, você precisa toochoose um deles toobe primário.</span><span class="sxs-lookup"><span data-stu-id="d7b65-142">For a cluster with multiple node types, you need toochoose one of them toobe primary.</span></span> <span data-ttu-id="d7b65-143">Aqui estão as características de saudação de um tipo de nó primário:</span><span class="sxs-lookup"><span data-stu-id="d7b65-143">Here are hello characteristics of a primary node type:</span></span>

* <span data-ttu-id="d7b65-144">Olá **tamanho mínimo de VMs** para o tipo de nó primário Olá é determinado pelo Olá **a camada de durabilidade** você escolher.</span><span class="sxs-lookup"><span data-stu-id="d7b65-144">hello **minimum size of VMs** for hello primary node type is determined by hello **durability tier** you choose.</span></span> <span data-ttu-id="d7b65-145">saudação padrão da camada de durabilidade de saudação é Bronze.</span><span class="sxs-lookup"><span data-stu-id="d7b65-145">hello default for hello durability tier is Bronze.</span></span> <span data-ttu-id="d7b65-146">Role para baixo para obter detalhes sobre qual camada de durabilidade Olá é e valores hello pode demorar.</span><span class="sxs-lookup"><span data-stu-id="d7b65-146">Scroll down for details on what hello durability tier is and hello values it can take.</span></span>  
* <span data-ttu-id="d7b65-147">Olá **número mínimo de VMs** para o tipo de nó primário Olá é determinado pelo Olá **camada de confiabilidade** você escolher.</span><span class="sxs-lookup"><span data-stu-id="d7b65-147">hello **minimum number of VMs** for hello primary node type is determined by hello **reliability tier** you choose.</span></span> <span data-ttu-id="d7b65-148">saudação padrão da camada de confiabilidade de saudação é prata.</span><span class="sxs-lookup"><span data-stu-id="d7b65-148">hello default for hello reliability tier is Silver.</span></span> <span data-ttu-id="d7b65-149">Role para baixo para obter detalhes sobre qual camada de confiabilidade Olá é e valores hello pode demorar.</span><span class="sxs-lookup"><span data-stu-id="d7b65-149">Scroll down for details on what hello reliability tier is and hello values it can take.</span></span> 


* <span data-ttu-id="d7b65-150">Serviços de sistema do Service Fabric Hello (por exemplo, serviço de Gerenciador de Cluster de saudação ou serviço de repositório de imagem) são colocados no tipo de nó primário hello e a confiabilidade de saudação caso e durabilidade de cluster Olá é determinada pela camada de valor e durabilidade de camada de confiabilidade do hello valor selecionado para o tipo de nó primário hello.</span><span class="sxs-lookup"><span data-stu-id="d7b65-150">hello Service Fabric system services (for example, hello Cluster Manager service or Image Store service) are placed on hello primary node type and so hello reliability and durability of hello cluster is determined by hello reliability tier value and durability tier value you select for hello primary node type.</span></span>

![<span data-ttu-id="d7b65-151">Captura de tela de um cluster com dois tipos de nó</span><span class="sxs-lookup"><span data-stu-id="d7b65-151">Screen shot of a cluster that has two Node Types</span></span> ][SystemServices]

### <a name="non-primary-node-type"></a><span data-ttu-id="d7b65-152">Tipo de nó não primário</span><span class="sxs-lookup"><span data-stu-id="d7b65-152">Non-primary node type</span></span>
<span data-ttu-id="d7b65-153">Para um cluster com vários tipos de nós, há um tipo de nó primário e rest Olá deles não primário.</span><span class="sxs-lookup"><span data-stu-id="d7b65-153">For a cluster with multiple node types, there is one primary node type and hello rest of them are non-primary.</span></span> <span data-ttu-id="d7b65-154">Aqui estão as características de saudação de um tipo de nó não primário:</span><span class="sxs-lookup"><span data-stu-id="d7b65-154">Here are hello characteristics of a non-primary node type:</span></span>

* <span data-ttu-id="d7b65-155">tamanho mínimo de saudação de VMs para esse tipo de nó é determinado pela camada de durabilidade de saudação que você escolher.</span><span class="sxs-lookup"><span data-stu-id="d7b65-155">hello minimum size of VMs for this node type is determined by hello durability tier you choose.</span></span> <span data-ttu-id="d7b65-156">saudação padrão da camada de durabilidade de saudação é Bronze.</span><span class="sxs-lookup"><span data-stu-id="d7b65-156">hello default for hello durability tier is Bronze.</span></span> <span data-ttu-id="d7b65-157">Role para baixo para obter detalhes sobre qual camada de durabilidade Olá é e valores hello pode demorar.</span><span class="sxs-lookup"><span data-stu-id="d7b65-157">Scroll down for details on what hello durability tier is and hello values it can take.</span></span>  
* <span data-ttu-id="d7b65-158">número mínimo de saudação de VMs para esse tipo de nó pode ser um.</span><span class="sxs-lookup"><span data-stu-id="d7b65-158">hello minimum number of VMs for this node type can be one.</span></span> <span data-ttu-id="d7b65-159">No entanto, você deve escolher esse número com base no número de saudação de réplicas de saudação/serviços de aplicativo que deseja toorun nesse tipo de nó.</span><span class="sxs-lookup"><span data-stu-id="d7b65-159">However you should choose this number based on hello number of replicas of hello application/services that you would like toorun in this node type.</span></span> <span data-ttu-id="d7b65-160">número de saudação de VMs em um tipo de nó pode ser aumentado após ter implantado o cluster hello.</span><span class="sxs-lookup"><span data-stu-id="d7b65-160">hello number of VMs in a node type can be increased after you have deployed hello cluster.</span></span>

## <a name="hello-durability-characteristics-of-hello-cluster"></a><span data-ttu-id="d7b65-161">características de durabilidade de saudação do cluster de saudação</span><span class="sxs-lookup"><span data-stu-id="d7b65-161">hello durability characteristics of hello cluster</span></span>
<span data-ttu-id="d7b65-162">a camada de durabilidade Olá é usado tooindicate toohello sistema Olá privilégios suas VMs com a infraestrutura do Azure subjacente de saudação.</span><span class="sxs-lookup"><span data-stu-id="d7b65-162">hello durability tier is used tooindicate toohello system hello privileges that your VMs have with hello underlying Azure infrastructure.</span></span> <span data-ttu-id="d7b65-163">Em tipo de nó primário hello, esse privilégio permite Service Fabric toopause qualquer solicitação de infraestrutura de nível de VM (por exemplo, uma reinicialização da VM, recriação de imagem de VM ou migração de VM) que afetam os requisitos de quorum Olá para serviços do sistema hello e seus serviços com monitoração de estado.</span><span class="sxs-lookup"><span data-stu-id="d7b65-163">In hello primary node type, this privilege allows Service Fabric toopause any VM level infrastructure request (such as a VM reboot, VM reimage, or VM migration) that impact hello quorum requirements for hello system services and your stateful services.</span></span> <span data-ttu-id="d7b65-164">Em tipos de nó principal não hello, esse privilégio permite Service Fabric toopause quaisquer solicitações de nível de infraestrutura VM como reinicialização da VM, a nova imagem de VM, a migração de VM etc., que afetam os requisitos de quorum Olá para seus serviços com monitoração de estado em execução.</span><span class="sxs-lookup"><span data-stu-id="d7b65-164">In hello non-primary node types, this privilege allows Service Fabric toopause any VM level infrastructure requests like VM reboot, VM reimage, VM migration etc., that impact hello quorum requirements for your stateful services running in it.</span></span>

<span data-ttu-id="d7b65-165">Este privilégio é expresso em Olá valores a seguir:</span><span class="sxs-lookup"><span data-stu-id="d7b65-165">This privilege is expressed in hello following values:</span></span>

* <span data-ttu-id="d7b65-166">Ouro - infraestrutura Olá trabalhos podem ser pausados por um período de duas horas por UD.</span><span class="sxs-lookup"><span data-stu-id="d7b65-166">Gold - hello infrastructure Jobs can be paused for a duration of two hours per UD.</span></span> <span data-ttu-id="d7b65-167">A durabilidade ouro pode ser habilitada apenas em skus de VM de nó completo como D15_V2, G5 etc.</span><span class="sxs-lookup"><span data-stu-id="d7b65-167">Gold durability can be enabled only on full node VM skus like D15_V2, G5 etc.</span></span>
* <span data-ttu-id="d7b65-168">Prata - Olá infraestrutura trabalhos pode ser pausado por um período de 10 minutos por UD e está disponíveis em todas as VMs padrão de núcleo único e acima.</span><span class="sxs-lookup"><span data-stu-id="d7b65-168">Silver - hello infrastructure Jobs can be paused for a duration of 10 minutes per UD and is available on all standard VMs of single core and above.</span></span>
* <span data-ttu-id="d7b65-169">Bronze - sem privilégios.</span><span class="sxs-lookup"><span data-stu-id="d7b65-169">Bronze - No privileges.</span></span> <span data-ttu-id="d7b65-170">Esse é o padrão de saudação.</span><span class="sxs-lookup"><span data-stu-id="d7b65-170">This is hello default.</span></span> <span data-ttu-id="d7b65-171">Use esse nível de durabilidade somente para Tipos de nós que executam _somente_ cargas de trabalho sem estado.</span><span class="sxs-lookup"><span data-stu-id="d7b65-171">Only use this durability level for Node Types that run _only_ stateless workloads.</span></span> 

> [!WARNING]
> <span data-ttu-id="d7b65-172">NodeTypes executados com durabilidade Bronze não têm _nenhum privilégio_.</span><span class="sxs-lookup"><span data-stu-id="d7b65-172">NodeTypes running with Bronze durability obtain _no privileges_.</span></span> <span data-ttu-id="d7b65-173">Isso significa que trabalhos de infraestrutura que afetam sus cargas de trabalho sem estado não serão interrompidas ou atrasadas.</span><span class="sxs-lookup"><span data-stu-id="d7b65-173">This means that infrastructure jobs that impact your stateless workloads will not be stopped or delayed.</span></span> <span data-ttu-id="d7b65-174">É possível que tais trabalhos ainda possam afetar suas cargas de trabalho, causando tempo de inatividade ou outros problemas.</span><span class="sxs-lookup"><span data-stu-id="d7b65-174">It is possible that such jobs can still impact your workloads, causing downtime or other issues.</span></span> <span data-ttu-id="d7b65-175">Para qualquer tipo de carga de trabalho de produção, é recomendável a execução com pelo menos o nível Prata.</span><span class="sxs-lookup"><span data-stu-id="d7b65-175">For any sort of production workload, running with at least Silver is recommended.</span></span> 
> 

<span data-ttu-id="d7b65-176">Obter o nível de durabilidade toochoose para cada um dos tipos de nós. Você pode escolher um nível de durabilidade de ouro toohave de um tipo de nó ou prata e outros Olá ter Bronze Olá mesmo cluster. **Você deve manter um número mínimo de 5 nós de qualquer tipo de nó que tem uma durabilidade de ouro ou prata**.</span><span class="sxs-lookup"><span data-stu-id="d7b65-176">You get toochoose durability level for each of your node-types.You can choose one node-type toohave a durability level of Gold or silver and hello other have Bronze in hello same cluster.**You must maintain a minimum count of 5 nodes for any node-type that has a durability of Gold or silver**.</span></span> 

<span data-ttu-id="d7b65-177">**Vantagens de usar os níveis de durabilidade Ouro ou Prata**</span><span class="sxs-lookup"><span data-stu-id="d7b65-177">**Advantages of using Silver or Gold durability levels**</span></span>
 
1. <span data-ttu-id="d7b65-178">Reduz o número de saudação de etapas necessárias em uma operação de escala (ou seja, a desativação do nó e remover ServiceFabricNodeState é chamado automaticamente)</span><span class="sxs-lookup"><span data-stu-id="d7b65-178">Reduces hello number of required steps in a scale-in operation (that is, node deactivation and Remove-ServiceFabricNodeState is called automatically)</span></span>
2. <span data-ttu-id="d7b65-179">Reduz o risco de saudação de perda de dados devido a operações de infraestrutura do Azure ou tooa iniciada pelo cliente no local SKU de VM a operação de alteração.</span><span class="sxs-lookup"><span data-stu-id="d7b65-179">Reduces hello risk of data loss due tooa customer-initiated in-place VM SKU change operation or Azure infrastructure operations.</span></span>
     
<span data-ttu-id="d7b65-180">**Desvantagens de usar os níveis de durabilidade Ouro ou Prata**</span><span class="sxs-lookup"><span data-stu-id="d7b65-180">**Disadvantages of using Silver or Gold durability levels**</span></span>
 
1. <span data-ttu-id="d7b65-181">Implantações tooyour conjunto de escala de máquinas virtuais e outros recursos do Azure relacionados) podem ser atrasados, podem atingir o tempo limite ou podem ser bloqueados inteiramente por problemas no cluster ou no nível de infraestrutura de saudação.</span><span class="sxs-lookup"><span data-stu-id="d7b65-181">Deployments tooyour Virtual Machine Scale Set and other related Azure resources) can be delayed, can time out, or can be blocked entirely by problems in your cluster or at hello infrastructure level.</span></span> 
2. <span data-ttu-id="d7b65-182">Aumenta Olá inúmeros [eventos de ciclo de vida de réplica](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle ) (por exemplo, trocas primárias) devido tooautomated desativações de nó durante as operações de infraestrutura do Azure.</span><span class="sxs-lookup"><span data-stu-id="d7b65-182">Increases hello number of [replica lifecycle events](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle ) (for example, primary swaps) due tooautomated node deactivations during Azure infrastructure operations.</span></span>

### <a name="recommendations-on-when-toouse-silver-or-gold-durability-levels"></a><span data-ttu-id="d7b65-183">Recomendações sobre quando toouse níveis de durabilidade Prata ou ouro</span><span class="sxs-lookup"><span data-stu-id="d7b65-183">Recommendations on when toouse Silver or Gold durability levels</span></span>

<span data-ttu-id="d7b65-184">Use Prata ou ouro durabilidade para nó todos os tipos de monitoração de estado que host serviços você esperar no tooscale (reduzir a contagem de instâncias VM) com frequência, e você prefere que operações de implantação atrasado em favor simplificando essas operações de escala.</span><span class="sxs-lookup"><span data-stu-id="d7b65-184">Use Silver or Gold durability for all node types that host stateful services you expect tooscale-in (reduce VM instance count) frequently, and you would prefer that deployment operations be delayed in favor of simplifying these scale-in operations.</span></span> <span data-ttu-id="d7b65-185">cenários de expansão de saudação (adicionar instâncias de máquinas virtuais) não são reproduzidos em sua escolha de camada de durabilidade hello, em escala única.</span><span class="sxs-lookup"><span data-stu-id="d7b65-185">hello scale-out scenarios (adding VMs instances) do not play into your choice of hello durability tier, only scale-in does.</span></span>

### <a name="operational-recommendations-for-hello-node-type-that-you-have-set-toosilver-or-gold-durability-level"></a><span data-ttu-id="d7b65-186">Recomendações operacionais para o nó de saudação tipo que você definiu a durabilidade toosilver ou ouro nível.</span><span class="sxs-lookup"><span data-stu-id="d7b65-186">Operational Recommendations for hello node type that you have set toosilver or gold durability level.</span></span>

1. <span data-ttu-id="d7b65-187">Manter o cluster e os aplicativos de integridade em todos os momentos e certifique-se de que os aplicativos respondem tooall [eventos de ciclo de vida de réplica de serviço](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (como a réplica de compilação está preso) de maneira oportuna.</span><span class="sxs-lookup"><span data-stu-id="d7b65-187">Keep your cluster and applications healthy at all times, and make sure that applications respond tooall [Service replica lifecycle events](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (like replica in build is stuck) in a timely fashion.</span></span>
2. <span data-ttu-id="d7b65-188">Adotar toomake mais segura de maneiras uma alteração de SKU de VM (escala para cima/baixo): alterando Olá SKU de VM de um conjunto de escala de máquina Virtual é inerentemente uma operação não segura e isso devem ser evitados se possível.</span><span class="sxs-lookup"><span data-stu-id="d7b65-188">Adopt safer ways toomake a VM SKU change (Scale up/down): Changing hello VM SKU of a Virtual Machine Scale Set is inherently an unsafe operation and so should be avoided if possible.</span></span> <span data-ttu-id="d7b65-189">Este é o processo de saudação você pode seguir os problemas comuns de tooavoid.</span><span class="sxs-lookup"><span data-stu-id="d7b65-189">Here is hello process you can follow tooavoid common issues.</span></span>
    - <span data-ttu-id="d7b65-190">**Para não primário nodetypes:** é recomendável que você cria novo conjunto de escala de máquina Virtual, modifique Olá posicionamento restrição tooinclude Olá novo conjunto de escala de máquinas virtuais/nó tipo de serviço e, em seguida, reduzir Olá antigo conjunto de escala de máquinas virtuais too0 de contagem de instância, um nó por vez (Isso é toomake-se de que a remoção de nós de saudação não afetam os confiabilidade de saudação do cluster Olá).</span><span class="sxs-lookup"><span data-stu-id="d7b65-190">**For non-primary nodetypes:** It is recommended that you create new Virtual Machine Scale Set, modify hello service placement constraint tooinclude hello new Virtual Machine Scale Set/node type and then reduce hello old Virtual Machine Scale Set instance count too0, one node at a time (this is toomake sure that removal of hello nodes do not impact hello reliability of hello cluster).</span></span>
    - <span data-ttu-id="d7b65-191">**Para nodetype primário Olá:** nossa recomendação é que você não altere o SKU de VM do tipo de nó primário hello.</span><span class="sxs-lookup"><span data-stu-id="d7b65-191">**For hello primary nodetype:** Our recommendation is that you do not change VM SKU of hello primary node type.</span></span> <span data-ttu-id="d7b65-192">Se Olá razão para novo SKU hello é capacidade, recomendamos adicionar mais instâncias ou se possível, crie um novo cluster.</span><span class="sxs-lookup"><span data-stu-id="d7b65-192">If hello reason for hello new SKU is capacity, we recommend adding more instances or if possible, create a new cluster.</span></span> <span data-ttu-id="d7b65-193">Se você não tem escolha, fazer modificações toohello tooreflect de definição de modelo de conjunto de escala de máquina Virtual Olá SKU de novo.</span><span class="sxs-lookup"><span data-stu-id="d7b65-193">If you have no choice, then make modifications toohello Virtual Machine Scale Set Model definition tooreflect hello new SKU.</span></span> <span data-ttu-id="d7b65-194">Se seu cluster tem apenas um nodetype, em seguida, certifique-se de que todos os seus aplicativos com monitoração de estado respondam tooall [eventos de ciclo de vida de réplica de serviço](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (como a réplica de compilação está preso), de maneira oportuna e que a réplica de serviço recriar duração é menos de cinco minutos (para o nível de durabilidade prata).</span><span class="sxs-lookup"><span data-stu-id="d7b65-194">If your cluster has only one nodetype, then make sure that all your stateful applications respond tooall [Service replica lifecycle events](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (like replica in build is stuck) in a timely fashion and that your service replica rebuild duration is less than five minutes (for Silver durability level).</span></span> 


> [!WARNING]
> <span data-ttu-id="d7b65-195">Olá alterar tamanho da SKU de VM para conjuntos de escala de VM não está em execução, pelo menos, Prata durabilidade não é recomendados.</span><span class="sxs-lookup"><span data-stu-id="d7b65-195">Changing hello VM SKU Size for VM Scale Sets not running at least Silver durability is not recommened.</span></span> <span data-ttu-id="d7b65-196">Alterar o Tamanho de SKU da VM é uma operação de infraestrutura no local com destruição de dados.</span><span class="sxs-lookup"><span data-stu-id="d7b65-196">Changing VM SKU Size is a data-destructive in-place infrastructure operation.</span></span> <span data-ttu-id="d7b65-197">Sem pelo menos um pouco toodelay capacidade ou o monitor dessa alteração, é possível que operação Olá pode causar perda de serviços com monitoração de estado ou outros problemas operacionais imprevistas, mesmo para cargas de trabalho sem monitoração de estado.</span><span class="sxs-lookup"><span data-stu-id="d7b65-197">Without at least some ability toodelay or monitor this change, it is possible that hello operation can cause dataloss for stateful services or cause other unforseen operational issues, even for stateless workloads.</span></span> 
> 
    
3. <span data-ttu-id="d7b65-198">Mantenha uma contagem mínima de cinco nós para qualquer Conjunto de Dimensionamento de Máquinas Virtuais com MR habilitado</span><span class="sxs-lookup"><span data-stu-id="d7b65-198">Maintain a minimum count of five nodes for any Virtual Machine Scale Set that has MR enabled</span></span>
4. <span data-ttu-id="d7b65-199">Não exclua instâncias de VM aleatórias; sempre reduza verticalmente o recurso Conjunto de Dimensionamento de Máquinas Virtuais.</span><span class="sxs-lookup"><span data-stu-id="d7b65-199">Do not delete random VM instances, always use Virtual Machine Scale Set scale down feature.</span></span> <span data-ttu-id="d7b65-200">exclusão de saudação aleatórias de instâncias de VM tem o potencial de criação desequilíbrios na instância VM Olá espalhadas por UD e FD.</span><span class="sxs-lookup"><span data-stu-id="d7b65-200">hello deletion of random VM instances has a potential of creating imbalances in hello VM instance spread across UD and FD.</span></span> <span data-ttu-id="d7b65-201">Esse desequilíbrio pode afetar adversamente Olá sistemas capacidade tooproperly o balanceamento de carga entre réplicas de serviço/instâncias de serviço hello.</span><span class="sxs-lookup"><span data-stu-id="d7b65-201">This imbalance could adversely affect hello systems ability tooproperly load balance amongst hello service instances/Service replicas.</span></span>
6. <span data-ttu-id="d7b65-202">Se usar o dimensionamento automático, em seguida, defina regras de hello, de modo que a escala (remoção de instâncias VM) são feitas somente um nó por vez.</span><span class="sxs-lookup"><span data-stu-id="d7b65-202">If using Autoscale, then set hello rules such that scale in (removing of VM instances) are done only one node at a time.</span></span> <span data-ttu-id="d7b65-203">Redução de mais de uma instância em um momento não é segura.</span><span class="sxs-lookup"><span data-stu-id="d7b65-203">Scaling down more than one instance at a time is not safe.</span></span>
7. <span data-ttu-id="d7b65-204">Se a redução de um tipo de nó primário, você deve nunca reduzi-lo mais do que permite que o nível de confiabilidade hello.</span><span class="sxs-lookup"><span data-stu-id="d7b65-204">If Scaling down a primary node type, you should never scale it down more than what hello reliability tier allows.</span></span>


## <a name="hello-reliability-characteristics-of-hello-cluster"></a><span data-ttu-id="d7b65-205">características de confiabilidade de saudação do cluster de saudação</span><span class="sxs-lookup"><span data-stu-id="d7b65-205">hello reliability characteristics of hello cluster</span></span>
<span data-ttu-id="d7b65-206">Olá camada de confiabilidade é usada número de saudação do tooset de réplicas Olá dos serviços do sistema que você deseja toorun neste cluster no tipo de nó primário hello.</span><span class="sxs-lookup"><span data-stu-id="d7b65-206">hello reliability tier is used tooset hello number of replicas of hello system services that you want toorun in this cluster on hello primary node type.</span></span> <span data-ttu-id="d7b65-207">Olá mais número Olá de réplicas, hello mais confiável Olá serviços do sistema estejam em seu cluster.</span><span class="sxs-lookup"><span data-stu-id="d7b65-207">hello more hello number of replicas, hello more reliable hello system services are in your cluster.</span></span>  

<span data-ttu-id="d7b65-208">camada de confiabilidade Olá pode assumir Olá valores a seguir:</span><span class="sxs-lookup"><span data-stu-id="d7b65-208">hello reliability tier can take hello following values:</span></span>

* <span data-ttu-id="d7b65-209">Platinum - execução Olá serviços do sistema com uma contagem de conjunto de réplica de destino de 9</span><span class="sxs-lookup"><span data-stu-id="d7b65-209">Platinum - Run hello System services with a target replica set count of 9</span></span>
* <span data-ttu-id="d7b65-210">Ouro - execução Olá serviços do sistema com uma contagem de conjunto de réplica de destino de 7</span><span class="sxs-lookup"><span data-stu-id="d7b65-210">Gold - Run hello System services with a target replica set count of 7</span></span>
* <span data-ttu-id="d7b65-211">Silver - executar Olá serviços do sistema com uma contagem de conjunto de réplica de destino de 5</span><span class="sxs-lookup"><span data-stu-id="d7b65-211">Silver - Run hello System services with a target replica set count of 5</span></span> 
* <span data-ttu-id="d7b65-212">Bronze - execução Olá serviços do sistema com uma contagem de conjunto de réplica de destino de 3</span><span class="sxs-lookup"><span data-stu-id="d7b65-212">Bronze - Run hello System services with a target replica set count of 3</span></span>

> [!NOTE]
> <span data-ttu-id="d7b65-213">camada de confiabilidade Olá que você escolher determina o número mínimo de saudação de nós de que seu tipo de nó primário deve ter.</span><span class="sxs-lookup"><span data-stu-id="d7b65-213">hello reliability tier you choose determines hello minimum number of nodes your primary node type must have.</span></span> 
> 
> 


### <a name="recommendations-for-hello-reliability-tier"></a><span data-ttu-id="d7b65-214">Recomendações para a camada de confiabilidade de saudação.</span><span class="sxs-lookup"><span data-stu-id="d7b65-214">Recommendations for hello reliability tier.</span></span>

 <span data-ttu-id="d7b65-215">Quando você aumentar ou diminuir o tamanho de saudação do cluster (soma de saudação de instâncias VM em todos os tipos de nó), você deve atualizar a confiabilidade de saudação do cluster de uma camada tooanother.</span><span class="sxs-lookup"><span data-stu-id="d7b65-215">When you increase or decrease hello size of your cluster (hello sum of VM instances in all node types), you must update hello reliability of your cluster from one tier tooanother.</span></span> <span data-ttu-id="d7b65-216">Isso dispara Olá cluster atualizações necessárias toochange Olá sistema serviços réplica Definir contagem.</span><span class="sxs-lookup"><span data-stu-id="d7b65-216">Doing this triggers hello cluster upgrades needed toochange hello system services replica set count.</span></span> <span data-ttu-id="d7b65-217">Aguarde Olá atualização em andamento toocomplete antes de fazer quaisquer outra alterações toohello cluster, como a adição de nós.</span><span class="sxs-lookup"><span data-stu-id="d7b65-217">Wait for hello upgrade in progress toocomplete before making any other changes toohello cluster, like adding nodes.</span></span>  <span data-ttu-id="d7b65-218">Você pode monitorar o progresso de saudação de atualização de saudação no Service Fabric Explorer ou executando [ServiceFabricClusterUpgrade Get](/powershell/module/servicefabric/get-servicefabricclusterupgrade?view=azureservicefabricps)</span><span class="sxs-lookup"><span data-stu-id="d7b65-218">You can monitor hello progress of hello upgrade on Service Fabric Explorer or by running [Get-ServiceFabricClusterUpgrade](/powershell/module/servicefabric/get-servicefabricclusterupgrade?view=azureservicefabricps)</span></span>

<span data-ttu-id="d7b65-219">Aqui está a recomendação Olá sobre como escolher o nível de confiabilidade de saudação.</span><span class="sxs-lookup"><span data-stu-id="d7b65-219">Here is hello recommendation on choosing hello reliability tier.</span></span>

| <span data-ttu-id="d7b65-220">**Tamanho do cluster**</span><span class="sxs-lookup"><span data-stu-id="d7b65-220">**Cluster Size**</span></span> | <span data-ttu-id="d7b65-221">**Camada de confiabilidade**</span><span class="sxs-lookup"><span data-stu-id="d7b65-221">**Reliability Tier**</span></span> |
| --- | --- |
| <span data-ttu-id="d7b65-222">1</span><span class="sxs-lookup"><span data-stu-id="d7b65-222">1</span></span> |<span data-ttu-id="d7b65-223">Não especifique Olá parâmetro da camada de confiabilidade, calcula o sistema Olá</span><span class="sxs-lookup"><span data-stu-id="d7b65-223">Do not specify hello Reliability Tier parameter, hello system calculates it</span></span> |
| <span data-ttu-id="d7b65-224">3</span><span class="sxs-lookup"><span data-stu-id="d7b65-224">3</span></span> |<span data-ttu-id="d7b65-225">Bronze</span><span class="sxs-lookup"><span data-stu-id="d7b65-225">Bronze</span></span> |
| <span data-ttu-id="d7b65-226">5 ou 6</span><span class="sxs-lookup"><span data-stu-id="d7b65-226">5 or 6</span></span>|<span data-ttu-id="d7b65-227">Silver</span><span class="sxs-lookup"><span data-stu-id="d7b65-227">Silver</span></span> |
| <span data-ttu-id="d7b65-228">7 ou 8</span><span class="sxs-lookup"><span data-stu-id="d7b65-228">7 or 8</span></span> |<span data-ttu-id="d7b65-229">Gold</span><span class="sxs-lookup"><span data-stu-id="d7b65-229">Gold</span></span> |
| <span data-ttu-id="d7b65-230">9 e superior</span><span class="sxs-lookup"><span data-stu-id="d7b65-230">9 and up</span></span> |<span data-ttu-id="d7b65-231">Platinum</span><span class="sxs-lookup"><span data-stu-id="d7b65-231">Platinum</span></span> |




## <a name="primary-node-type---capacity-guidance"></a><span data-ttu-id="d7b65-232">Tipo de nó Primário - Diretrizes de Capacidade</span><span class="sxs-lookup"><span data-stu-id="d7b65-232">Primary node type - Capacity Guidance</span></span>

<span data-ttu-id="d7b65-233">Este é um guia de saudação para o planejamento de capacidade de tipo de nó primário Olá</span><span class="sxs-lookup"><span data-stu-id="d7b65-233">Here is hello guidance for planning hello primary node type capacity</span></span>

1. <span data-ttu-id="d7b65-234">**Número de VM instâncias toorun qualquer carga de trabalho de produção no Azure:** você deve especificar um tamanho de tipo de nó primário mínimo de 5.</span><span class="sxs-lookup"><span data-stu-id="d7b65-234">**Number of VM instances toorun any production workload in Azure:** You must specify a minimum Primary Node type size of 5.</span></span> 
2. <span data-ttu-id="d7b65-235">**Instâncias de VM toorun cargas de trabalho de teste no Azure** você pode especificar um tamanho de tipo de nó primário mínimo de 1 ou 3.</span><span class="sxs-lookup"><span data-stu-id="d7b65-235">**Number of VM instances toorun test workloads in Azure** You can specify a minimum primary node type size of 1 or 3.</span></span> <span data-ttu-id="d7b65-236">Olá um cluster de nó, é executado com uma configuração especial e, portanto, não há suporte para a escala fora do cluster.</span><span class="sxs-lookup"><span data-stu-id="d7b65-236">hello one node cluster, runs with a special configuration and so, scale out of that cluster is not supported.</span></span> <span data-ttu-id="d7b65-237">um cluster de nó, Hello tem não confiabilidade e, portanto em seu modelo do Gerenciador de recursos, você tooremove ou não especifique que a configuração (não definindo o valor de configuração de saudação não é suficiente).</span><span class="sxs-lookup"><span data-stu-id="d7b65-237">hello one node cluster, has no reliability and so in your Resource Manager template, you have tooremove/not specify that configuration (not setting hello configuration value is not enough).</span></span> <span data-ttu-id="d7b65-238">Se você configurar o cluster de um nó de saudação configurar por meio do portal e configuração de saudação é feita automaticamente.</span><span class="sxs-lookup"><span data-stu-id="d7b65-238">If you set up hello one node cluster set up via portal, then hello configuration is automatically taken care of.</span></span> <span data-ttu-id="d7b65-239">Não há suporte para clusters de 1 e 3 nós para executar cargas de trabalho de produção.</span><span class="sxs-lookup"><span data-stu-id="d7b65-239">1 and 3 node clusters are not supported for running production workloads.</span></span> 
3. <span data-ttu-id="d7b65-240">**SKU de VM:** tipo de nó primário é onde os serviços do sistema Olá executados, para Olá SKU de VM você escolher para, deve levar em Olá de conta geral pico de carga você planejar tooplace em cluster hello.</span><span class="sxs-lookup"><span data-stu-id="d7b65-240">**VM SKU:** Primary node type is where hello system services run, so hello VM SKU you choose for it, must take into account hello overall peak load you plan tooplace into hello cluster.</span></span> <span data-ttu-id="d7b65-241">Aqui está um tooillustrate analogia quero dizer aqui - opinião do tipo de nó primário hello como os "pulmões", é o que fornece dados de tooyour oxigênio e então se cérebro Olá não obtém suficiente oxigênio, seu corpo será prejudicado.</span><span class="sxs-lookup"><span data-stu-id="d7b65-241">Here is an analogy tooillustrate what I mean here - Think of hello primary node type as your "Lungs", it is what provides oxygen tooyour brain, and so if hello brain does not get enough oxygen, your body suffers.</span></span> 

<span data-ttu-id="d7b65-242">Desde que as necessidades de capacidade de saudação de um cluster é determinado pela carga de trabalho planejar toorun em cluster hello, não é possível fornecer você com diretrizes qualitativa para sua carga de trabalho específica, mas, aqui é Olá diretrizes amplas toohelp que você a começar</span><span class="sxs-lookup"><span data-stu-id="d7b65-242">Since hello capacity needs of a cluster is determined by workload you plan toorun in hello cluster, we cannot provide you with qualitative guidance for your specific workload, however here is hello broad guidance toohelp you get started</span></span>

<span data-ttu-id="d7b65-243">Para cargas de trabalho de produção</span><span class="sxs-lookup"><span data-stu-id="d7b65-243">For production workloads</span></span> 


- <span data-ttu-id="d7b65-244">Olá recomendado que é de SKU de VM D3 padrão ou D3_V2 padrão ou equivalente, com um mínimo de 14 GB de SSD local.</span><span class="sxs-lookup"><span data-stu-id="d7b65-244">hello recommended VM SKU is Standard D3 or Standard D3_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span>
- <span data-ttu-id="d7b65-245">uso de saudação mínimo com suporte SKU de VM é D1 padrão ou D1_V2 padrão ou equivalente, com um mínimo de 14 GB de SSD local.</span><span class="sxs-lookup"><span data-stu-id="d7b65-245">hello minimum supported use VM SKU is Standard D1 or Standard D1_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span> 
- <span data-ttu-id="d7b65-246">As SKUs de VM de núcleo parcial como a Standard A0 não têm suporte para cargas de trabalho de produção.</span><span class="sxs-lookup"><span data-stu-id="d7b65-246">Partial core VM SKUs like Standard A0 are not supported for production workloads.</span></span>
- <span data-ttu-id="d7b65-247">A SKU Standard A1 não tem suporte para cargas de trabalho de produção por motivos de desempenho.</span><span class="sxs-lookup"><span data-stu-id="d7b65-247">Standard A1 SKU is not supported for production workloads for performance reasons.</span></span>


## <a name="non-primary-node-type---capacity-guidance-for-stateful-workloads"></a><span data-ttu-id="d7b65-248">O tipo de nó Não Principal - Diretrizes de Capacidade para cargas de trabalho com monitoração de estado</span><span class="sxs-lookup"><span data-stu-id="d7b65-248">Non-Primary node type - Capacity Guidance for stateful workloads</span></span>

<span data-ttu-id="d7b65-249">Este guia é para cargas de trabalho com monitoração de estado usando o Service fabric [coleções confiáveis ou reliable Actors](service-fabric-choose-framework.md) que você está executando no tipo de nó não primário hello.</span><span class="sxs-lookup"><span data-stu-id="d7b65-249">This guidance is for stateful Workloads using Service fabric [reliable collections or reliable Actors](service-fabric-choose-framework.md) that you are running in hello non-primary node type.</span></span>


<span data-ttu-id="d7b65-250">**Número de instâncias de VM:** para as cargas de trabalho de produção com monitoração de estado, é recomendável que você as execute com uma contagem de réplica mínima e de destino de 5.</span><span class="sxs-lookup"><span data-stu-id="d7b65-250">**Number of VM instances:** For production workloads that are stateful, it is recommended that you run them with a minimum and target replica count of 5.</span></span> <span data-ttu-id="d7b65-251">Isso significa que no estado estável, você fica com uma réplica (de um conjunto de réplicas) em cada domínio de falha e em cada domínio de atualização.</span><span class="sxs-lookup"><span data-stu-id="d7b65-251">This means that in steady state you end up with a replica (from a replica set) in each fault domain and upgrade domain.</span></span> <span data-ttu-id="d7b65-252">conceito de camada de confiabilidade todo Olá para o tipo de nó primário Olá é uma maneira toospecify essa configuração para serviços do sistema.</span><span class="sxs-lookup"><span data-stu-id="d7b65-252">hello whole reliability tier concept for hello primary node type is a way toospecify this setting for system services.</span></span> <span data-ttu-id="d7b65-253">Olá assim mesmo consideração se aplica a serviços com monitoração de estado tooyour também.</span><span class="sxs-lookup"><span data-stu-id="d7b65-253">So hello same consideration applies tooyour stateful services as well.</span></span>

<span data-ttu-id="d7b65-254">Portanto para cargas de trabalho de produção, tamanho do tipo mínimo recomendado não - nó primário Olá for 5, se você estiver executando cargas de trabalho com monitoração de estado nele.</span><span class="sxs-lookup"><span data-stu-id="d7b65-254">So for production workloads, hello minimum recommended non-Primary Node type size is 5, if you are running stateful workloads in it.</span></span>


<span data-ttu-id="d7b65-255">**SKU de VM:** isso é Olá tipo de nó em que estiver executando os serviços do aplicativo, para Olá SKU de VM escolha para ele, deve levar em conta Olá picos de carga você planejar tooplace em cada nó.</span><span class="sxs-lookup"><span data-stu-id="d7b65-255">**VM SKU:** This is hello node type where your application services are running, so hello VM SKU you choose for it, must take into account hello peak load you plan tooplace into each Node.</span></span> <span data-ttu-id="d7b65-256">Olá necessidades de capacidade de nodetype Olá, é determinado pela carga de trabalho que planejar toorun em cluster hello, portanto não é possível fornecer você com diretrizes qualitativa para sua carga de trabalho específica, mas, aqui é Olá diretrizes amplas toohelp que você a começar</span><span class="sxs-lookup"><span data-stu-id="d7b65-256">hello capacity needs of hello nodetype, is determined by workload you plan toorun in hello cluster, so we cannot provide you with qualitative guidance for your specific workload, however here is hello broad guidance toohelp you get started</span></span>

<span data-ttu-id="d7b65-257">Para cargas de trabalho de produção</span><span class="sxs-lookup"><span data-stu-id="d7b65-257">For production workloads</span></span> 

- <span data-ttu-id="d7b65-258">Olá recomendado que é de SKU de VM D3 padrão ou D3_V2 padrão ou equivalente, com um mínimo de 14 GB de SSD local.</span><span class="sxs-lookup"><span data-stu-id="d7b65-258">hello recommended VM SKU is Standard D3 or Standard D3_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span>
- <span data-ttu-id="d7b65-259">uso de saudação mínimo com suporte SKU de VM é D1 padrão ou D1_V2 padrão ou equivalente, com um mínimo de 14 GB de SSD local.</span><span class="sxs-lookup"><span data-stu-id="d7b65-259">hello minimum supported use VM SKU is Standard D1 or Standard D1_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span> 
- <span data-ttu-id="d7b65-260">As SKUs de VM de núcleo parcial como a Standard A0 não têm suporte para cargas de trabalho de produção.</span><span class="sxs-lookup"><span data-stu-id="d7b65-260">Partial core VM SKUs like Standard A0 are not supported for production workloads.</span></span>
- <span data-ttu-id="d7b65-261">Especificamente, a SKU Standard A1 não tem suporte para cargas de trabalho de produção por motivos de desempenho.</span><span class="sxs-lookup"><span data-stu-id="d7b65-261">Standard A1 SKU is specifically not supported for production workloads for performance reasons.</span></span>


## <a name="non-primary-node-type---capacity-guidance-for-stateless-workloads"></a><span data-ttu-id="d7b65-262">O tipo de nó Não Principal - Diretrizes de Capacidade para cargas de trabalho sem monitoração de estado</span><span class="sxs-lookup"><span data-stu-id="d7b65-262">Non-Primary node type - Capacity Guidance for stateless workloads</span></span>

<span data-ttu-id="d7b65-263">Este guia de cargas de trabalho sem monitoração de estado que você está executando em Olá não primário nodetype.</span><span class="sxs-lookup"><span data-stu-id="d7b65-263">This guidance of stateless Workloads that you are running on hello non-primary nodetype.</span></span>

<span data-ttu-id="d7b65-264">**Número de instâncias VM:** para produção as cargas de trabalho sem monitoração de estado, o tamanho do tipo de nó não primário Olá mínima com suporte é 2.</span><span class="sxs-lookup"><span data-stu-id="d7b65-264">**Number of VM instances:** For production workloads that are stateless, hello minimum supported non-Primary Node type size is 2.</span></span> <span data-ttu-id="d7b65-265">Isso permite toorun você duas sem monitoração de estado instâncias de seu aplicativo e permitindo que o serviço toosurvive Olá perda de uma instância de VM.</span><span class="sxs-lookup"><span data-stu-id="d7b65-265">This allows you toorun you two stateless instances of your application and allowing your service toosurvive hello loss of a VM instance.</span></span> 

> [!NOTE]
> <span data-ttu-id="d7b65-266">Se o cluster está em execução em uma versão do fabric de serviço menor 5.6, devido a defeito tooa em hello tempo de execução (esse problema é corrigido no 5.6), redução de um tooless de tipo de nó não primário que 5, resulta a ativação não íntegro, até que você chamar a integridade de cluster [ Remover ServiceFabricNodeState cmd](https://docs.microsoft.com/powershell/servicefabric/vlatest/Remove-ServiceFabricNodeState) com o nome de nó apropriado hello.</span><span class="sxs-lookup"><span data-stu-id="d7b65-266">If your cluster is running on a service fabric version less than 5.6, due tooa defect in hello runtime (this issue is fixed in 5.6), scaling down a non-primary node type tooless than 5, results in cluster health turning unhealthy, till you call [Remove-ServiceFabricNodeState cmd](https://docs.microsoft.com/powershell/servicefabric/vlatest/Remove-ServiceFabricNodeState) with hello appropriate node name.</span></span> <span data-ttu-id="d7b65-267">Leia [Sair ou entrar no cluster do Service Fabric](service-fabric-cluster-scale-up-down.md) para obter mais detalhes</span><span class="sxs-lookup"><span data-stu-id="d7b65-267">Read [perform Service Fabric cluster in or out](service-fabric-cluster-scale-up-down.md) for more details</span></span>
> 
>

<span data-ttu-id="d7b65-268">**SKU de VM:** isso é Olá tipo de nó em que estiver executando os serviços do aplicativo, para Olá SKU de VM escolha para ele, deve levar em conta Olá picos de carga você planejar tooplace em cada nó.</span><span class="sxs-lookup"><span data-stu-id="d7b65-268">**VM SKU:** This is hello node type where your application services are running, so hello VM SKU you choose for it, must take into account hello peak load you plan tooplace into each Node.</span></span> <span data-ttu-id="d7b65-269">Olá necessidades de capacidade de nodetype Olá, é determinado pela carga de trabalho que planejar toorun em cluster hello, portanto não é possível fornecer você com diretrizes qualitativa para sua carga de trabalho específica, mas, aqui é Olá diretrizes amplas toohelp que você a começar</span><span class="sxs-lookup"><span data-stu-id="d7b65-269">hello capacity needs of hello nodetype, is determined by workload you plan toorun in hello cluster, So we cannot provide you with qualitative guidance for your specific workload, however here is hello broad guidance toohelp you get started</span></span>

<span data-ttu-id="d7b65-270">Para cargas de trabalho de produção</span><span class="sxs-lookup"><span data-stu-id="d7b65-270">For production workloads</span></span> 


- <span data-ttu-id="d7b65-271">Olá recomendado que é de SKU de VM D3 padrão ou D3_V2 padrão ou equivalente.</span><span class="sxs-lookup"><span data-stu-id="d7b65-271">hello recommended VM SKU is Standard D3 or Standard D3_V2 or equivalent.</span></span> 
- <span data-ttu-id="d7b65-272">uso de saudação mínimo com suporte SKU de VM é D1 padrão ou D1_V2 padrão ou equivalente.</span><span class="sxs-lookup"><span data-stu-id="d7b65-272">hello minimum supported use VM SKU is Standard D1 or Standard D1_V2 or equivalent.</span></span> 
- <span data-ttu-id="d7b65-273">As SKUs de VM de núcleo parcial como a Standard A0 não têm suporte para cargas de trabalho de produção.</span><span class="sxs-lookup"><span data-stu-id="d7b65-273">Partial core VM SKUs like Standard A0 are not supported for production workloads.</span></span>
- <span data-ttu-id="d7b65-274">A SKU Standard A1 não tem suporte para cargas de trabalho de produção por motivos de desempenho.</span><span class="sxs-lookup"><span data-stu-id="d7b65-274">Standard A1 SKU is not supported for production workloads for performance reasons.</span></span>

<!--Every topic should have next steps and links toohello next logical set of content tookeep hello customer engaged-->

## <a name="next-steps"></a><span data-ttu-id="d7b65-275">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="d7b65-275">Next steps</span></span>
<span data-ttu-id="d7b65-276">Depois de concluir o planejamento de capacidade e configurar um cluster, leia Olá seguinte:</span><span class="sxs-lookup"><span data-stu-id="d7b65-276">Once you finish your capacity planning and set up a cluster, read hello following:</span></span>

* [<span data-ttu-id="d7b65-277">Segurança do Cluster do Service Fabric</span><span class="sxs-lookup"><span data-stu-id="d7b65-277">Service Fabric cluster security</span></span>](service-fabric-cluster-security.md)
* [<span data-ttu-id="d7b65-278">Introdução ao modelo de Integridade do Service Fabric</span><span class="sxs-lookup"><span data-stu-id="d7b65-278">Service Fabric health model introduction</span></span>](service-fabric-health-introduction.md)
* [<span data-ttu-id="d7b65-279">Relação de escala de máquina tooVirtual Nodetypes definida</span><span class="sxs-lookup"><span data-stu-id="d7b65-279">Relationship of Nodetypes tooVirtual machine scale set</span></span>](service-fabric-cluster-nodetypes.md)

<!--Image references-->
[SystemServices]: ./media/service-fabric-cluster-capacity/SystemServices.png
