---
title: "aaaOverview do modelo de programação de malha confiável serviço Olá | Microsoft Docs"
description: "Saiba mais sobre o modelo de programação dos Serviços Confiáveis da Malha de Serviços e comece a desenvolver seus próprios serviços."
services: Service-Fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: vturecek; mani-ramaswamy
ms.assetid: 0c88a533-73f8-4ae1-a939-67d17456ac06
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 8/9/2017
ms.author: masnider;
ms.openlocfilehash: 41d1826df902b1f1845c4702bf2567e6b9ca1f1f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="reliable-services-overview"></a><span data-ttu-id="b82c6-103">Visão geral dos Reliable Services</span><span class="sxs-lookup"><span data-stu-id="b82c6-103">Reliable Services overview</span></span>
<span data-ttu-id="b82c6-104">O Azure Service Fabric simplifica o desenvolvimento e o gerenciamento de Reliable Services com e sem estado.</span><span class="sxs-lookup"><span data-stu-id="b82c6-104">Azure Service Fabric simplifies writing and managing stateless and stateful Reliable Services.</span></span> <span data-ttu-id="b82c6-105">Este tópico aborda:</span><span class="sxs-lookup"><span data-stu-id="b82c6-105">This topic covers:</span></span>

* <span data-ttu-id="b82c6-106">Olá serviços confiáveis modelo de programação para serviços com e sem monitoração de estado.</span><span class="sxs-lookup"><span data-stu-id="b82c6-106">hello Reliable Services programming model for stateless and stateful services.</span></span>
* <span data-ttu-id="b82c6-107">Olá opções que você tem toomake ao escrever um serviço confiável.</span><span class="sxs-lookup"><span data-stu-id="b82c6-107">hello choices you have toomake when writing a Reliable Service.</span></span>
* <span data-ttu-id="b82c6-108">Alguns cenários e exemplos de quando toouse confiável serviços e como eles são gravados.</span><span class="sxs-lookup"><span data-stu-id="b82c6-108">Some scenarios and examples of when toouse Reliable Services and how they are written.</span></span>

<span data-ttu-id="b82c6-109">Serviços confiáveis é um dos Olá disponíveis no serviço de malha de modelos de programação.</span><span class="sxs-lookup"><span data-stu-id="b82c6-109">Reliable Services is one of hello programming models available on Service Fabric.</span></span> <span data-ttu-id="b82c6-110">Olá outros é Olá Reliable Actor modelo de programação, que fornece um modelo de programação de ator virtual sobre o modelo de serviços confiáveis hello.</span><span class="sxs-lookup"><span data-stu-id="b82c6-110">hello other is hello Reliable Actor programming model, which provides a virtual Actor programming model on top of hello Reliable Services model.</span></span> <span data-ttu-id="b82c6-111">Para obter mais informações sobre o modelo de programação de Reliable Actors hello, consulte [tooService Introdução malha Reliable Actors](service-fabric-reliable-actors-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="b82c6-111">For more information on hello Reliable Actors programming model, see [Introduction tooService Fabric Reliable Actors](service-fabric-reliable-actors-introduction.md).</span></span>

<span data-ttu-id="b82c6-112">Malha do serviço gerencia o tempo de vida de saudação dos serviços de provisionamento e implantação por meio de atualização e exclusão, por meio de [gerenciamento de aplicativos do Service Fabric](service-fabric-deploy-remove-applications.md).</span><span class="sxs-lookup"><span data-stu-id="b82c6-112">Service Fabric manages hello lifetime of services, from provisioning and deployment through upgrade and deletion, via [Service Fabric application management](service-fabric-deploy-remove-applications.md).</span></span>

## <a name="what-are-reliable-services"></a><span data-ttu-id="b82c6-113">O que são os Reliable Services?</span><span class="sxs-lookup"><span data-stu-id="b82c6-113">What are Reliable Services?</span></span>
<span data-ttu-id="b82c6-114">Serviços confiáveis oferece um simples, eficiente, de nível superior de programação toohelp de modelo você express, o que é importante tooyour aplicativo.</span><span class="sxs-lookup"><span data-stu-id="b82c6-114">Reliable Services gives you a simple, powerful, top-level programming model toohelp you express what is important tooyour application.</span></span> <span data-ttu-id="b82c6-115">Com serviços confiáveis Olá modelo de programação, você obtém:</span><span class="sxs-lookup"><span data-stu-id="b82c6-115">With hello Reliable Services programming model, you get:</span></span>

* <span data-ttu-id="b82c6-116">Restante toohello acesso Olá APIs de programação do Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="b82c6-116">Access toohello rest of hello Service Fabric programming APIs.</span></span> <span data-ttu-id="b82c6-117">Ao contrário de serviços de malha do serviço modelada como [convidado executáveis](service-fabric-deploy-existing-app.md), serviços confiáveis obter toouse restante Olá Olá APIs de malha do serviço diretamente.</span><span class="sxs-lookup"><span data-stu-id="b82c6-117">Unlike Service Fabric Services modeled as [Guest Executables](service-fabric-deploy-existing-app.md), Reliable Services get toouse hello rest of hello Service Fabric APIs directly.</span></span> <span data-ttu-id="b82c6-118">Isso permite que os serviços:</span><span class="sxs-lookup"><span data-stu-id="b82c6-118">This allows services to:</span></span>
  * <span data-ttu-id="b82c6-119">Sistema de saudação de consulta</span><span class="sxs-lookup"><span data-stu-id="b82c6-119">query hello system</span></span>
  * <span data-ttu-id="b82c6-120">integridade de relatório sobre as entidades no cluster Olá</span><span class="sxs-lookup"><span data-stu-id="b82c6-120">report health about entities in hello cluster</span></span>
  * <span data-ttu-id="b82c6-121">receber notificações sobre alterações de configuração e código</span><span class="sxs-lookup"><span data-stu-id="b82c6-121">receive notifications about configuration and code changes</span></span>
  * <span data-ttu-id="b82c6-122">localizar e comunicar-se com outros serviços,</span><span class="sxs-lookup"><span data-stu-id="b82c6-122">find and communicate with other services,</span></span>
  * <span data-ttu-id="b82c6-123">(opcionalmente) use Olá [coleções confiável](service-fabric-reliable-services-reliable-collections.md)</span><span class="sxs-lookup"><span data-stu-id="b82c6-123">(optionally) use hello [Reliable Collections](service-fabric-reliable-services-reliable-collections.md)</span></span>
  * <span data-ttu-id="b82c6-124">... e lhes acessar outros recursos, toomany tudo a partir de um modelo de programação de primeira classe em várias linguagens de programação.</span><span class="sxs-lookup"><span data-stu-id="b82c6-124">...and giving them access toomany other capabilities, all from a first class programming model in several programming languages.</span></span>
* <span data-ttu-id="b82c6-125">Um modelo simples para execução de seu próprio código que parece com os modelos de programação com os quais você está acostumado.</span><span class="sxs-lookup"><span data-stu-id="b82c6-125">A simple model for running your own code that looks like programming models you are used to.</span></span> <span data-ttu-id="b82c6-126">Seu código tem um ponto de entrada bem definido e um ciclo de vida fácil de gerenciar.</span><span class="sxs-lookup"><span data-stu-id="b82c6-126">Your code has a well-defined entry point and easily managed lifecycle.</span></span>
* <span data-ttu-id="b82c6-127">Um modelo de comunicação conectável.</span><span class="sxs-lookup"><span data-stu-id="b82c6-127">A pluggable communication model.</span></span> <span data-ttu-id="b82c6-128">Usar o transporte de saudação de sua escolha, como HTTP com [API da Web](service-fabric-reliable-services-communication-webapi.md), WebSockets, protocolos TCP personalizados, ou qualquer outra coisa.</span><span class="sxs-lookup"><span data-stu-id="b82c6-128">Use hello transport of your choice, such as HTTP with [Web API](service-fabric-reliable-services-communication-webapi.md), WebSockets, custom TCP protocols, or anything else.</span></span> <span data-ttu-id="b82c6-129">O Reliable Services oferece excelentes opções de utilização ou permite que você forneça suas próprias.</span><span class="sxs-lookup"><span data-stu-id="b82c6-129">Reliable Services provide some great out-of-the-box options you can use, or you can provide your own.</span></span>
* <span data-ttu-id="b82c6-130">Para os serviços com monitoração de estado, serviços confiáveis hello, modelo de programação permite tooconsistently e confiável armazenar o estado dentro do seu serviço usando [coleções confiável](service-fabric-reliable-services-reliable-collections.md).</span><span class="sxs-lookup"><span data-stu-id="b82c6-130">For stateful services, hello Reliable Services programming model allows you tooconsistently and reliably store your state right inside your service by using [Reliable Collections](service-fabric-reliable-services-reliable-collections.md).</span></span> <span data-ttu-id="b82c6-131">Coleções confiáveis são um conjunto simples de classes de coleção confiável e altamente disponível que será familiar tooanyone que usou c# coleções.</span><span class="sxs-lookup"><span data-stu-id="b82c6-131">Reliable Collections are a simple set of highly available and reliable collection classes that will be familiar tooanyone who has used C# collections.</span></span> <span data-ttu-id="b82c6-132">Tradicionalmente, os serviços precisavam de sistemas externos para um gerenciamento de estado confiável.</span><span class="sxs-lookup"><span data-stu-id="b82c6-132">Traditionally, services needed external systems for Reliable state management.</span></span> <span data-ttu-id="b82c6-133">Com coleções confiável, você pode armazenar sua computação tooyour próxima de estado com hello mesmo alta disponibilidade e confiabilidade que você tooexpect vêm dos repositórios externos altamente disponíveis.</span><span class="sxs-lookup"><span data-stu-id="b82c6-133">With Reliable Collections, you can store your state next tooyour compute with hello same high availability and reliability you've come tooexpect from highly available external stores.</span></span> <span data-ttu-id="b82c6-134">Esse modelo também melhora a latência porque você é co-Localizando computação hello e precisa toofunction de estado.</span><span class="sxs-lookup"><span data-stu-id="b82c6-134">This model also improves latency because you are co-locating hello compute and state it needs toofunction.</span></span>

<span data-ttu-id="b82c6-135">Assista a este vídeo da Microsoft Virtual Academy para ter uma visão geral dos Reliable Services: <center>
<a target="_blank" href="https://mva.microsoft.com/en-US/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=HhD9566yC_4106218965">
<img src="./media/service-fabric-reliable-services-introduction/ReliableServicesVid.png" WIDTH="360" HEIGHT="244" />
</a>
</center></span><span class="sxs-lookup"><span data-stu-id="b82c6-135">Watch this Microsoft Virtual Academy video for an overview of Reliable services: <center>
<a target="_blank" href="https://mva.microsoft.com/en-US/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=HhD9566yC_4106218965">
<img src="./media/service-fabric-reliable-services-introduction/ReliableServicesVid.png" WIDTH="360" HEIGHT="244" />
</a>
</center></span></span>

## <a name="what-makes-reliable-services-different"></a><span data-ttu-id="b82c6-136">O que torna o Reliable Services diferente?</span><span class="sxs-lookup"><span data-stu-id="b82c6-136">What makes Reliable Services different?</span></span>
<span data-ttu-id="b82c6-137">Os Serviços Confiáveis na Malha de Serviços são diferentes dos serviços que você já desenvolveu anteriormente.</span><span class="sxs-lookup"><span data-stu-id="b82c6-137">Reliable Services in Service Fabric are different from services you may have written before.</span></span> <span data-ttu-id="b82c6-138">A Malha de Serviços fornece confiabilidade, disponibilidade, consistência e escalabilidade.</span><span class="sxs-lookup"><span data-stu-id="b82c6-138">Service Fabric provides reliability, availability, consistency, and scalability.</span></span>

* <span data-ttu-id="b82c6-139">**Confiabilidade** - seu serviço permanece o mesmo em ambientes não confiáveis em que as máquinas falharam ou pressione problemas de rede, ou em casos onde Olá serviços se encontrar erros e falhas ou falhar.</span><span class="sxs-lookup"><span data-stu-id="b82c6-139">**Reliability** - Your service stays up even in unreliable environments where your machines fail or hit network issues, or in cases where hello services themselves encounter errors and crash or fail.</span></span> <span data-ttu-id="b82c6-140">Para os serviços com monitoração de estado, seu estado é preservado mesmo na presença de saudação de rede ou outras falhas.</span><span class="sxs-lookup"><span data-stu-id="b82c6-140">For stateful services, your state is preserved even in hello presence of network or other failures.</span></span>
* <span data-ttu-id="b82c6-141">**Disponibilidade** – Seu serviço estará acessível e responderá rapidamente.</span><span class="sxs-lookup"><span data-stu-id="b82c6-141">**Availability** - Your service is reachable and responsive.</span></span> <span data-ttu-id="b82c6-142">O Service Fabric mantém o número desejado de cópias de execução.</span><span class="sxs-lookup"><span data-stu-id="b82c6-142">Service Fabric maintains your desired number of running copies.</span></span>
* <span data-ttu-id="b82c6-143">**Escalabilidade** - serviços são separados do hardware específico e eles podem aumentar ou reduzir conforme necessário por meio da adição de saudação ou remoção de hardware ou outros recursos.</span><span class="sxs-lookup"><span data-stu-id="b82c6-143">**Scalability** - Services are decoupled from specific hardware, and they can grow or shrink as necessary through hello addition or removal of hardware or other resources.</span></span> <span data-ttu-id="b82c6-144">Os serviços são tooensure facilmente particionado (especialmente no caso de monitoração de estado Olá) que pode ser dimensionada serviço hello e identificador falhas parciais.</span><span class="sxs-lookup"><span data-stu-id="b82c6-144">Services are easily partitioned (especially in hello stateful case) tooensure that hello service can scale and handle partial failures.</span></span> <span data-ttu-id="b82c6-145">Serviços podem ser criados e excluídas dinamicamente por meio de código, permitindo mais toobe instâncias girado backup conforme necessário, digamos em resposta toocustomer solicitações.</span><span class="sxs-lookup"><span data-stu-id="b82c6-145">Services can be created and deleted dynamically via code, enabling more instances toobe spun up as necessary, say in response toocustomer requests.</span></span> <span data-ttu-id="b82c6-146">Finalmente, o Service Fabric incentiva leve de toobe de serviços.</span><span class="sxs-lookup"><span data-stu-id="b82c6-146">Finally, Service Fabric encourages services toobe lightweight.</span></span> <span data-ttu-id="b82c6-147">Serviço de malha permite que milhares de serviços toobe provisionados em um único processo, em vez de exigir ou dedicar instâncias inteiras do sistema operacional ou processos tooa única instância de um serviço.</span><span class="sxs-lookup"><span data-stu-id="b82c6-147">Service Fabric allows thousands of services toobe provisioned within a single process, rather than requiring or dedicating entire OS instances or processes tooa single instance of a service.</span></span>
* <span data-ttu-id="b82c6-148">**Consistência** -quaisquer informações armazenadas neste serviço podem ser garantidas toobe consistente.</span><span class="sxs-lookup"><span data-stu-id="b82c6-148">**Consistency** - Any information stored in this service can be guaranteed toobe consistent.</span></span> <span data-ttu-id="b82c6-149">Isso é verdadeiro mesmo entre várias coleções confiáveis dentro de um serviço.</span><span class="sxs-lookup"><span data-stu-id="b82c6-149">This is true even across multiple reliable collections within a service.</span></span> <span data-ttu-id="b82c6-150">Alterações nas coleções dentro de um serviço podem ser feitas de forma transacional atômica.</span><span class="sxs-lookup"><span data-stu-id="b82c6-150">Changes across collections within a service can be made in a transactionally atomic manner.</span></span>

## <a name="service-lifecycle"></a><span data-ttu-id="b82c6-151">Ciclo de vida do serviço</span><span class="sxs-lookup"><span data-stu-id="b82c6-151">Service lifecycle</span></span>
<span data-ttu-id="b82c6-152">Independentemente de seu serviço ser com ou sem estado, o Reliable Services fornece um ciclo de vida simples que permite conectar rapidamente seu código e começar.</span><span class="sxs-lookup"><span data-stu-id="b82c6-152">Whether your service is stateful or stateless, Reliable Services provide a simple lifecycle that lets you quickly plug in your code and get started.</span></span>  <span data-ttu-id="b82c6-153">Há apenas um ou dois métodos que você precisa tooimplement tooget seu serviço em funcionamento.</span><span class="sxs-lookup"><span data-stu-id="b82c6-153">There are just one or two methods that you need tooimplement tooget your service up and running.</span></span>

* <span data-ttu-id="b82c6-154">**CreateServiceReplicaListeners/CreateServiceInstanceListeners** -este método é onde o serviço Olá define Olá pilha (s) comunicação que ele deseja toouse.</span><span class="sxs-lookup"><span data-stu-id="b82c6-154">**CreateServiceReplicaListeners/CreateServiceInstanceListeners** - This method is where hello service defines hello communication stack(s) that it wants toouse.</span></span> <span data-ttu-id="b82c6-155">Olá pilha de comunicação, como [API da Web](service-fabric-reliable-services-communication-webapi.md), é o que define Olá escutando do ponto de extremidade ou pontos de extremidade para Olá serviço (como clientes acessar o serviço de saudação).</span><span class="sxs-lookup"><span data-stu-id="b82c6-155">hello communication stack, such as [Web API](service-fabric-reliable-services-communication-webapi.md), is what defines hello listening endpoint or endpoints for hello service (how clients reach hello service).</span></span> <span data-ttu-id="b82c6-156">Ele também define como as mensagens de saudação aparecem interagem com rest Olá Olá do código de serviço.</span><span class="sxs-lookup"><span data-stu-id="b82c6-156">It also defines how hello messages that appear interact with hello rest of hello service code.</span></span>
* <span data-ttu-id="b82c6-157">**RunAsync** -esse método é onde o serviço é executado em sua lógica de negócios e onde ele seria iniciar as tarefas em segundo plano que devem ser executado pelo tempo de vida de saudação do serviço de saudação.</span><span class="sxs-lookup"><span data-stu-id="b82c6-157">**RunAsync** - This method is where your service runs its business logic, and where it would kick off any background tasks that should run for hello lifetime of hello service.</span></span> <span data-ttu-id="b82c6-158">token de cancelamento Olá fornecido é um sinal para quando o trabalho deve parar.</span><span class="sxs-lookup"><span data-stu-id="b82c6-158">hello cancellation token that is provided is a signal for when that work should stop.</span></span> <span data-ttu-id="b82c6-159">Por exemplo, se o serviço Olá precisa toopull mensagens fora de uma fila confiável e processá-las, isso é onde acontece que funcionam.</span><span class="sxs-lookup"><span data-stu-id="b82c6-159">For example, if hello service needs toopull messages out of a Reliable Queue and process them, this is where that work happens.</span></span>

<span data-ttu-id="b82c6-160">Se você estiver aprendendo sobre serviços confiáveis para Olá primeira vez, continue lendo!</span><span class="sxs-lookup"><span data-stu-id="b82c6-160">If you're learning about reliable services for hello first time, read on!</span></span> <span data-ttu-id="b82c6-161">Se você estiver procurando uma explicação detalhada de saudação do ciclo de vida de serviços confiáveis, você pode head muito sobre[neste artigo](service-fabric-reliable-services-lifecycle.md).</span><span class="sxs-lookup"><span data-stu-id="b82c6-161">If you're looking for a detailed walkthrough of hello lifecycle of reliable services, you can head over too[this article](service-fabric-reliable-services-lifecycle.md).</span></span>

## <a name="example-services"></a><span data-ttu-id="b82c6-162">Exemplo de serviços</span><span class="sxs-lookup"><span data-stu-id="b82c6-162">Example services</span></span>
<span data-ttu-id="b82c6-163">Conhecer o modelo de programação, vamos dar uma olhada rápida nas duas toosee diferentes serviços como essas partes se encaixam.</span><span class="sxs-lookup"><span data-stu-id="b82c6-163">Knowing this programming model, let's take a quick look at two different services toosee how these pieces fit together.</span></span>

### <a name="stateless-reliable-services"></a><span data-ttu-id="b82c6-164">Serviços Confiáveis sem estado</span><span class="sxs-lookup"><span data-stu-id="b82c6-164">Stateless Reliable Services</span></span>
<span data-ttu-id="b82c6-165">Um serviço sem monitoração de estado é aquele em que não há nenhum estado mantido dentro de um serviço de saudação em chamadas.</span><span class="sxs-lookup"><span data-stu-id="b82c6-165">A stateless service is one where there is no state maintained within hello service across calls.</span></span> <span data-ttu-id="b82c6-166">Qualquer estado presente é totalmente descartável e não requer sincronização, replicação, persistência ou alta disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="b82c6-166">Any state that is present is entirely disposable and doesn't require synchronization, replication, persistence, or high availability.</span></span>

<span data-ttu-id="b82c6-167">Por exemplo, considere um cálculo que não tem memória e recebe todas as tooperform de termos e as operações de uma só vez.</span><span class="sxs-lookup"><span data-stu-id="b82c6-167">For example, consider a calculator that has no memory and receives all terms and operations tooperform at once.</span></span>

<span data-ttu-id="b82c6-168">Nesse caso, Olá `RunAsync()` (c#) ou `runAsync()` (Java) de saudação serviço pode estar vazio, porque não há nenhum plano de fundo desse serviço de saudação do processamento de tarefa necessidades toodo.</span><span class="sxs-lookup"><span data-stu-id="b82c6-168">In this case, hello `RunAsync()` (C#) or `runAsync()` (Java) of hello service can be empty, since there is no background task-processing that hello service needs toodo.</span></span> <span data-ttu-id="b82c6-169">Quando o serviço de cálculo de saudação é criado, ele retorna um `ICommunicationListener` (c#) ou `CommunicationListener` (Java) (por exemplo [API da Web](service-fabric-reliable-services-communication-webapi.md)) que abre um ponto de extremidade escutando em alguma porta.</span><span class="sxs-lookup"><span data-stu-id="b82c6-169">When hello calculator service is created, it returns an `ICommunicationListener` (C#) or `CommunicationListener` (Java) (for example [Web API](service-fabric-reliable-services-communication-webapi.md)) that opens up a listening endpoint on some port.</span></span> <span data-ttu-id="b82c6-170">Esse ponto de extremidade de escutando conecta os métodos de cálculo diferente toohello (exemplo: "Adicionar (n1, n2)") que definem a API pública da Calculadora hello.</span><span class="sxs-lookup"><span data-stu-id="b82c6-170">This listening endpoint hooks up toohello different calculation methods (example: "Add(n1, n2)") that define hello calculator's public API.</span></span>

<span data-ttu-id="b82c6-171">Quando é feita uma chamada de um cliente, método apropriado de saudação é chamado e serviço da Calculadora Olá executa operações de saudação em Olá dados fornecida e retorna o resultado de saudação.</span><span class="sxs-lookup"><span data-stu-id="b82c6-171">When a call is made from a client, hello appropriate method is invoked, and hello calculator service performs hello operations on hello data provided and returns hello result.</span></span> <span data-ttu-id="b82c6-172">O estado não é armazenado.</span><span class="sxs-lookup"><span data-stu-id="b82c6-172">It doesn't store any state.</span></span>

<span data-ttu-id="b82c6-173">Não armazenar nenhum estado interno torna este exemplo de calculadora muito simples.</span><span class="sxs-lookup"><span data-stu-id="b82c6-173">Not storing any internal state makes this example calculator simple.</span></span> <span data-ttu-id="b82c6-174">Mas a maioria dos serviços não é realmente sem estado.</span><span class="sxs-lookup"><span data-stu-id="b82c6-174">But most services aren't truly stateless.</span></span> <span data-ttu-id="b82c6-175">Em vez disso, eles Externalizar toosome seu estado outro repositório.</span><span class="sxs-lookup"><span data-stu-id="b82c6-175">Instead, they externalize their state toosome other store.</span></span> <span data-ttu-id="b82c6-176">(Por exemplo, qualquer aplicativo Web que depende da manutenção do estado de sessão em um repositório de backup ou do cache não é sem estado.)</span><span class="sxs-lookup"><span data-stu-id="b82c6-176">(For example, any web app that relies on keeping session state in a backing store or cache is not stateless.)</span></span>

<span data-ttu-id="b82c6-177">Um exemplo comum de serviços como sem monitoração de estado são usados na malha do serviço é como um front-end que expõe Olá API público para um aplicativo web.</span><span class="sxs-lookup"><span data-stu-id="b82c6-177">A common example of how stateless services are used in Service Fabric is as a front-end that exposes hello public-facing API for a web application.</span></span> <span data-ttu-id="b82c6-178">serviço de front-end Hello, em seguida, fala toostateful serviços toocomplete uma solicitação de usuário.</span><span class="sxs-lookup"><span data-stu-id="b82c6-178">hello front-end service then talks toostateful services toocomplete a user request.</span></span> <span data-ttu-id="b82c6-179">Nesse caso, chamadas de clientes são direcionado tooa conhecido de porta, por exemplo, 80, onde o serviço sem monitoração de estado hello está escutando.</span><span class="sxs-lookup"><span data-stu-id="b82c6-179">In this case, calls from clients are directed tooa known port, such as 80, where hello stateless service is listening.</span></span> <span data-ttu-id="b82c6-180">Esse serviço sem monitoração de estado receber chamada hello e determina se a chamada de saudação é de um terceiro confiável e que o serviço é destinado.</span><span class="sxs-lookup"><span data-stu-id="b82c6-180">This stateless service receives hello call and determines whether hello call is from a trusted party and which service it's destined for.</span></span>  <span data-ttu-id="b82c6-181">Em seguida, serviço sem monitoração de estado Olá encaminha a partição correta do hello chamada toohello do serviço com monitoração de estado hello e aguarda uma resposta.</span><span class="sxs-lookup"><span data-stu-id="b82c6-181">Then, hello stateless service forwards hello call toohello correct partition of hello stateful service and waits for a response.</span></span> <span data-ttu-id="b82c6-182">Quando o serviço sem monitoração de estado Olá recebe uma resposta, ele responde cliente original toohello.</span><span class="sxs-lookup"><span data-stu-id="b82c6-182">When hello stateless service receives a response, it replies toohello original client.</span></span> <span data-ttu-id="b82c6-183">Veja um exemplo de um serviço como esse em nossas amostras de [C#](https://github.com/Azure-Samples/service-fabric-dotnet-getting-started) / [Java](https://github.com/Azure-Samples/service-fabric-java-getting-started/tree/master/Actors/VisualObjectActor/VisualObjectWebService).</span><span class="sxs-lookup"><span data-stu-id="b82c6-183">An example of such a service is in our samples [C#](https://github.com/Azure-Samples/service-fabric-dotnet-getting-started) / [Java](https://github.com/Azure-Samples/service-fabric-java-getting-started/tree/master/Actors/VisualObjectActor/VisualObjectWebService).</span></span> <span data-ttu-id="b82c6-184">Isso é apenas um exemplo desse padrão nos exemplos hello, há outras também outros exemplos.</span><span class="sxs-lookup"><span data-stu-id="b82c6-184">This is only one example of this pattern in hello samples, there are others in other samples as well.</span></span>

### <a name="stateful-reliable-services"></a><span data-ttu-id="b82c6-185">Serviços Confiáveis com estado</span><span class="sxs-lookup"><span data-stu-id="b82c6-185">Stateful Reliable Services</span></span>
<span data-ttu-id="b82c6-186">Um serviço com monitoração de estado é aquele que deve ter alguma parte do estado mantido consistente e presentes para Olá toofunction de serviço.</span><span class="sxs-lookup"><span data-stu-id="b82c6-186">A stateful service is one that must have some portion of state kept consistent and present in order for hello service toofunction.</span></span> <span data-ttu-id="b82c6-187">Considere um serviço que calcula constantemente uma média móvel de algum valor com base em atualizações que recebe.</span><span class="sxs-lookup"><span data-stu-id="b82c6-187">Consider a service that constantly computes a rolling average of some value based on updates it receives.</span></span> <span data-ttu-id="b82c6-188">toodo isso, ele deve ter Olá o conjunto atual de solicitações de entrada precisa tooprocess e Olá média atual.</span><span class="sxs-lookup"><span data-stu-id="b82c6-188">toodo this, it must have hello current set of incoming requests it needs tooprocess and hello current average.</span></span> <span data-ttu-id="b82c6-189">Qualquer serviço que recupera, processa e armazena informações em um repositório externo (como um repositório de tabelas ou blob do Azure) é um serviço com estado.</span><span class="sxs-lookup"><span data-stu-id="b82c6-189">Any service that retrieves, processes, and stores information in an external store (such as an Azure blob or table store today) is stateful.</span></span> <span data-ttu-id="b82c6-190">Ele simplesmente mantém seu estado no armazenamento de estado externo de saudação.</span><span class="sxs-lookup"><span data-stu-id="b82c6-190">It just keeps its state in hello external state store.</span></span>

<span data-ttu-id="b82c6-191">A maioria dos serviços hoje armazenar seu estado externamente, como armazenamento externo de saudação é o que fornece confiabilidade, disponibilidade, escalabilidade e a consistência de estado.</span><span class="sxs-lookup"><span data-stu-id="b82c6-191">Most services today store their state externally, since hello external store is what provides reliability, availability, scalability, and consistency for that state.</span></span> <span data-ttu-id="b82c6-192">Serviços no serviço de malha, não é necessária toostore seu estado externamente.</span><span class="sxs-lookup"><span data-stu-id="b82c6-192">In Service Fabric, services aren't required toostore their state externally.</span></span> <span data-ttu-id="b82c6-193">Service Fabric cuida desses requisitos para o código de saudação do serviço e o estado do serviço hello.</span><span class="sxs-lookup"><span data-stu-id="b82c6-193">Service Fabric takes care of these requirements for both hello service code and hello service state.</span></span>

> [!NOTE]
> <span data-ttu-id="b82c6-194">O suporte para Reliable Services com estado ainda não está disponível no Linux (para C# ou Java).</span><span class="sxs-lookup"><span data-stu-id="b82c6-194">Support for Stateful Reliable Services is not available on Linux yet (for C# or Java).</span></span>
>

<span data-ttu-id="b82c6-195">Vamos dizer que desejamos toowrite um serviço que processa imagens.</span><span class="sxs-lookup"><span data-stu-id="b82c6-195">Let's say we want toowrite a service that processes images.</span></span> <span data-ttu-id="b82c6-196">toodo isso, Olá serviço aceita uma série de imagem e hello de conversões tooperform na imagem.</span><span class="sxs-lookup"><span data-stu-id="b82c6-196">toodo this, hello service takes in an image and hello series of conversions tooperform on that image.</span></span> <span data-ttu-id="b82c6-197">Este serviço retorna um ouvinte de comunicação (suponhamos que é uma WebAPI) que expõe uma API como `ConvertImage(Image i, IList<Conversion> conversions)`.</span><span class="sxs-lookup"><span data-stu-id="b82c6-197">This service returns a communication listener (let's suppose it's a WebAPI) that exposes an API like `ConvertImage(Image i, IList<Conversion> conversions)`.</span></span> <span data-ttu-id="b82c6-198">Quando ele recebe uma solicitação, o serviço de saudação armazena em um `IReliableQueue`e retorna algum cliente toohello de id para que ele possa rastrear solicitação hello.</span><span class="sxs-lookup"><span data-stu-id="b82c6-198">When it receives a request, hello service stores it in a `IReliableQueue`, and returns some id toohello client so it can track hello request.</span></span>

<span data-ttu-id="b82c6-199">Nesse serviço, `RunAsync()` poderia ser mais complexo.</span><span class="sxs-lookup"><span data-stu-id="b82c6-199">In this service, `RunAsync()` could be more complex.</span></span> <span data-ttu-id="b82c6-200">Olá serviço contém um loop dentro de seu `RunAsync()` que recebe solicitações de `IReliableQueue` e executa conversões Olá solicitados.</span><span class="sxs-lookup"><span data-stu-id="b82c6-200">hello service has a loop inside its `RunAsync()` that pulls requests out of `IReliableQueue` and performs hello conversions requested.</span></span> <span data-ttu-id="b82c6-201">resultados de saudação ficam armazenados em um `IReliableDictionary` para que quando o cliente de saudação volta a ficar obter suas imagens convertidas.</span><span class="sxs-lookup"><span data-stu-id="b82c6-201">hello results get stored in an `IReliableDictionary` so that when hello client comes back they can get their converted images.</span></span> <span data-ttu-id="b82c6-202">tooensure ou até mesmo se algo falhar imagem Olá não seja perdido, esse serviço confiável seria retirar fila hello, executam conversões de saudação e armazenar o resultado de saudação tudo em uma única transação.</span><span class="sxs-lookup"><span data-stu-id="b82c6-202">tooensure that even if something fails hello image isn't lost, this Reliable Service would pull out of hello queue, perform hello conversions, and store hello result all in a single transaction.</span></span> <span data-ttu-id="b82c6-203">Nesse caso, mensagem de saudação é removida da fila de saudação e resultados de saudação são armazenados no dicionário de resultado Olá somente quando conversões Olá forem concluídas.</span><span class="sxs-lookup"><span data-stu-id="b82c6-203">In this case, hello message is removed from hello queue and hello results are stored in hello result dictionary only when hello conversions are complete.</span></span> <span data-ttu-id="b82c6-204">Como alternativa, serviço Olá pôde pull imagem Olá fora da fila de saudação e imediatamente armazená-lo em um repositório remoto.</span><span class="sxs-lookup"><span data-stu-id="b82c6-204">Alternatively, hello service could pull hello image out of hello queue and immediately store it in a remote store.</span></span> <span data-ttu-id="b82c6-205">Isso reduz a saudação valor do estado Olá serviço tem toomanage, mas aumenta a complexidade como serviço Olá tem tookeep Olá necessário toomanage Olá remoto repositório de metadados de.</span><span class="sxs-lookup"><span data-stu-id="b82c6-205">This reduces hello amount of state hello service has toomanage, but increases complexity since hello service has tookeep hello necessary metadata toomanage hello remote store.</span></span> <span data-ttu-id="b82c6-206">Com essa abordagem, se algo Falha na solicitação de meio Olá Olá permanece no hello fila aguardando toobe processado.</span><span class="sxs-lookup"><span data-stu-id="b82c6-206">With either approach, if something failed in hello middle hello request remains in hello queue waiting toobe processed.</span></span>

<span data-ttu-id="b82c6-207">Um toonote coisa sobre esse serviço é que parece um serviço .NET normal!</span><span class="sxs-lookup"><span data-stu-id="b82c6-207">One thing toonote about this service is that it sounds like a normal .NET service!</span></span> <span data-ttu-id="b82c6-208">Olá única diferença é que as estruturas de dados hello está sendo usada (`IReliableQueue` e `IReliableDictionary`) são fornecidas pelo serviço de malha e altamente confiáveis, disponíveis e consistentes.</span><span class="sxs-lookup"><span data-stu-id="b82c6-208">hello only difference is that hello data structures being used (`IReliableQueue` and `IReliableDictionary`) are provided by Service Fabric, and are highly reliable, available, and consistent.</span></span>

## <a name="when-toouse-reliable-services-apis"></a><span data-ttu-id="b82c6-209">Quando toouse confiável APIs de serviços</span><span class="sxs-lookup"><span data-stu-id="b82c6-209">When toouse Reliable Services APIs</span></span>
<span data-ttu-id="b82c6-210">Se qualquer um dos seguintes Olá caracterizam as necessidades do serviço de aplicativo, você deve considerar confiável APIs de serviços:</span><span class="sxs-lookup"><span data-stu-id="b82c6-210">If any of hello following characterize your application service needs, then you should consider Reliable Services APIs:</span></span>

* <span data-ttu-id="b82c6-211">Você deseja o código do serviço (e, opcionalmente, estado) toobe confiável e altamente disponível</span><span class="sxs-lookup"><span data-stu-id="b82c6-211">You want your service's code (and optionally state) toobe highly available and reliable</span></span>
* <span data-ttu-id="b82c6-212">Você precisa de garantias transacionais entre várias unidades de estado (por exemplo, pedidos e itens de linha do pedido).</span><span class="sxs-lookup"><span data-stu-id="b82c6-212">You need transactional guarantees across multiple units of state (for example, orders and order line items).</span></span>
* <span data-ttu-id="b82c6-213">O estado do aplicativo pode ser modelado naturalmente como Filas e Dicionários Confiáveis.</span><span class="sxs-lookup"><span data-stu-id="b82c6-213">Your application’s state can be naturally modeled as Reliable Dictionaries and Queues.</span></span>
* <span data-ttu-id="b82c6-214">O código de aplicativos ou o estado precisa toobe altamente disponível com baixa latência leituras e gravações.</span><span class="sxs-lookup"><span data-stu-id="b82c6-214">Your applications code or state needs toobe highly available with low latency reads and writes.</span></span>
* <span data-ttu-id="b82c6-215">Seu aplicativo precisa de simultaneidade de saudação toocontrol ou granularidade de operações realizadas em uma ou mais coleções confiável.</span><span class="sxs-lookup"><span data-stu-id="b82c6-215">Your application needs toocontrol hello concurrency or granularity of transacted operations across one or more Reliable Collections.</span></span>
* <span data-ttu-id="b82c6-216">Você deseja toomanage comunicações de saudação ou Olá controle esquema para o serviço de particionamento.</span><span class="sxs-lookup"><span data-stu-id="b82c6-216">You want toomanage hello communications or control hello partitioning scheme for your service.</span></span>
* <span data-ttu-id="b82c6-217">Seu código precisa de um ambiente de tempo de execução de thread livre.</span><span class="sxs-lookup"><span data-stu-id="b82c6-217">Your code needs a free-threaded runtime environment.</span></span>
* <span data-ttu-id="b82c6-218">Seu aplicativo precisa toodynamically criar ou destruir dicionários confiável ou filas ou serviços inteiros em tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="b82c6-218">Your application needs toodynamically create or destroy Reliable Dictionaries or Queues or whole Services at runtime.</span></span>
* <span data-ttu-id="b82c6-219">É necessário tooprogrammatically fornecida pelo Service Fabric backup e restauração recursos de controle para o estado do serviço.</span><span class="sxs-lookup"><span data-stu-id="b82c6-219">You need tooprogrammatically control Service Fabric-provided backup and restore features for your service’s state.</span></span>
* <span data-ttu-id="b82c6-220">Seu aplicativo precisa toomaintain histórico de alterações para suas unidades de estado.</span><span class="sxs-lookup"><span data-stu-id="b82c6-220">Your application needs toomaintain change history for its units of state.</span></span>
* <span data-ttu-id="b82c6-221">Deseja toodevelop ou consumir provedores de estado personalizado, desenvolvido por parte de terceiros.</span><span class="sxs-lookup"><span data-stu-id="b82c6-221">You want toodevelop or consume third-party-developed, custom state providers.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b82c6-222">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="b82c6-222">Next steps</span></span>
* [<span data-ttu-id="b82c6-223">Início Rápido dos Serviços Confiáveis</span><span class="sxs-lookup"><span data-stu-id="b82c6-223">Reliable Services quick start</span></span>](service-fabric-reliable-services-quick-start.md)
* [<span data-ttu-id="b82c6-224">Uso avançado de Reliable Services</span><span class="sxs-lookup"><span data-stu-id="b82c6-224">Reliable Services advanced usage</span></span>](service-fabric-reliable-services-advanced-usage.md)
* [<span data-ttu-id="b82c6-225">modelo de programação Olá Reliable Actors</span><span class="sxs-lookup"><span data-stu-id="b82c6-225">hello Reliable Actors programming model</span></span>](service-fabric-reliable-actors-introduction.md)
