---
title: "aaaAzure nível de monitoramento do serviço do Fabric plataforma | Microsoft Docs"
description: "Saiba mais sobre os eventos de nível de plataforma e logs usados toomonitor e diagnosticar os clusters de malha do serviço do Azure."
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: 
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/24/2017
ms.author: dekapur
ms.openlocfilehash: f8fb1c8b546e05c517ae12c91906acc04cd6eaa6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="platform-level-event-and-log-generation"></a><span data-ttu-id="d4df3-103">Geração de eventos e logs no nível de plataforma</span><span class="sxs-lookup"><span data-stu-id="d4df3-103">Platform level event and log generation</span></span>

## <a name="monitoring-hello-cluster"></a><span data-ttu-id="d4df3-104">Monitoramento de cluster Olá</span><span class="sxs-lookup"><span data-stu-id="d4df3-104">Monitoring hello cluster</span></span>

<span data-ttu-id="d4df3-105">É importante toomonitor em toodetermine de nível de plataforma do hello o hardware e o cluster ou não estão funcionando conforme o esperado.</span><span class="sxs-lookup"><span data-stu-id="d4df3-105">It is important toomonitor at hello platform level toodetermine whether or not your hardware and cluster are behaving as expected.</span></span> <span data-ttu-id="d4df3-106">Embora o Service Fabric pode manter os aplicativos em execução durante uma falha de hardware, mas você ainda precisa toodiagnose se o erro está ocorrendo em um aplicativo ou em infraestrutura subjacente hello.</span><span class="sxs-lookup"><span data-stu-id="d4df3-106">Though Service Fabric can keep applications running during a hardware failure, but you still need toodiagnose whether an error is occurring in an application or in hello underlying infrastructure.</span></span> <span data-ttu-id="d4df3-107">Você também deve monitorar seu plano de toobetter clusters para capacidade, ajudando a decisões sobre a adição ou remoção de hardware.</span><span class="sxs-lookup"><span data-stu-id="d4df3-107">You also should monitor your clusters toobetter plan for capacity, helping in decisions about adding or removing hardware.</span></span>

<span data-ttu-id="d4df3-108">Serviço de malha fornece cinco log diferentes canais-de-prontos que geram Olá eventos a seguir:</span><span class="sxs-lookup"><span data-stu-id="d4df3-108">Service Fabric provides five different log channels out-of-the-box that generate hello following events:</span></span>

* <span data-ttu-id="d4df3-109">Canal operacional: operações de alto nível executadas pelo serviço de malha e cluster hello, incluindo eventos de um nó chegando, um novo aplicativo que está sendo implantado, ou um SF atualizar reversão, etc.</span><span class="sxs-lookup"><span data-stu-id="d4df3-109">Operational channel: high-level operations performed by Service Fabric and hello cluster, including events for a node coming up, a new application being deployed, or a SF upgrade rollback, etc.</span></span>
* <span data-ttu-id="d4df3-110">Canal operacional – detalhado: relatórios de integridade e decisões de balanceamento de carga</span><span class="sxs-lookup"><span data-stu-id="d4df3-110">Operational channel - detailed: health reports and load balancing decisions</span></span>
* <span data-ttu-id="d4df3-111">Canal de dados & Messaging: críticos logs e eventos gerados em nosso sistema de mensagens (atualmente apenas Olá ReverseProxy) e o caminho de dados (modelos de serviços confiáveis)</span><span class="sxs-lookup"><span data-stu-id="d4df3-111">Data & Messaging channel: critical logs and events generated in our messaging (currently only hello ReverseProxy) and data path (reliable services models)</span></span>
* <span data-ttu-id="d4df3-112">Canal de dados e mensagens - detalhada: canal detalhado que contém todos os logs de saudação não críticos dos dados e de mensagens no cluster hello (esse canal tem um volume muito alto de eventos)</span><span class="sxs-lookup"><span data-stu-id="d4df3-112">Data & Messaging channel - detailed: verbose channel that contains all hello non-critical logs from data and messaging in hello cluster (this channel has a very high volume of events)</span></span>   
* <span data-ttu-id="d4df3-113">[Eventos do Reliable Services](service-fabric-reliable-services-diagnostics.md): eventos específicos do modelo de programação</span><span class="sxs-lookup"><span data-stu-id="d4df3-113">[Reliable Services events](service-fabric-reliable-services-diagnostics.md): programming model specific events</span></span>
* <span data-ttu-id="d4df3-114">[Eventos do Reliable Actors](service-fabric-reliable-actors-diagnostics.md): contadores de desempenho e eventos específicos do modelo de programação</span><span class="sxs-lookup"><span data-stu-id="d4df3-114">[Reliable Actors events](service-fabric-reliable-actors-diagnostics.md): programming model specific events and performance counters</span></span>
* <span data-ttu-id="d4df3-115">Suporte a logs: logs de sistema gerados pelo Service Fabric toobe somente usado por nós ao fornecer suporte</span><span class="sxs-lookup"><span data-stu-id="d4df3-115">Support logs: system logs generated by Service Fabric only toobe used by us when providing support</span></span>

<span data-ttu-id="d4df3-116">Esses canais abrangem a maior parte do log de nível de plataforma Olá recomendado.</span><span class="sxs-lookup"><span data-stu-id="d4df3-116">These various channels cover most of hello platform level logging that is recommended.</span></span> <span data-ttu-id="d4df3-117">nível de plataforma tooimprove log, pense em investir em melhor compreensão Olá modelo de integridade e adicionando relatórios de integridade personalizado e adicionando personalizado **contadores de desempenho** toobuild afetar uma compreensão em tempo real de saudação do seus serviços e aplicativos em cluster hello.</span><span class="sxs-lookup"><span data-stu-id="d4df3-117">tooimprove platform level logging, consider investing in better understanding hello health model and adding custom health reports, and adding custom **Performance Counters** toobuild a real-time understanding of hello impact of your services and applications on hello cluster.</span></span>

### <a name="azure-service-fabric-health-and-load-reporting"></a><span data-ttu-id="d4df3-118">Relatórios de carga e integridade do Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="d4df3-118">Azure Service Fabric health and load reporting</span></span>

<span data-ttu-id="d4df3-119">O Service Fabric tem seu próprio modelo de integridade que é descrito em detalhes nestes artigos:</span><span class="sxs-lookup"><span data-stu-id="d4df3-119">Service Fabric has its own health model, which is described in detail in these articles:</span></span>
- [<span data-ttu-id="d4df3-120">Monitoramento da integridade de malha do tooService de Introdução</span><span class="sxs-lookup"><span data-stu-id="d4df3-120">Introduction tooService Fabric health monitoring</span></span>](service-fabric-health-introduction.md)
- [<span data-ttu-id="d4df3-121">Relatar e verificar a integridade de serviço</span><span class="sxs-lookup"><span data-stu-id="d4df3-121">Report and check service health</span></span>](service-fabric-diagnostics-how-to-report-and-check-service-health.md)
- [<span data-ttu-id="d4df3-122">Adicionar relatórios de integridade personalizados do Service Fabric</span><span class="sxs-lookup"><span data-stu-id="d4df3-122">Add custom Service Fabric health reports</span></span>](service-fabric-report-health.md)
- [<span data-ttu-id="d4df3-123">Como exibir relatórios de integridade do Service Fabric</span><span class="sxs-lookup"><span data-stu-id="d4df3-123">View Service Fabric health reports</span></span>](service-fabric-view-entities-aggregated-health.md)

<span data-ttu-id="d4df3-124">Monitoramento de integridade é crítico toomultiple aspectos de operação de um serviço.</span><span class="sxs-lookup"><span data-stu-id="d4df3-124">Health monitoring is critical toomultiple aspects of operating a service.</span></span> <span data-ttu-id="d4df3-125">Monitoramento de integridade é especialmente importante quando o Service Fabric executa uma atualização do aplicativo nomeado.</span><span class="sxs-lookup"><span data-stu-id="d4df3-125">Health monitoring is especially important when Service Fabric performs a named application upgrade.</span></span> <span data-ttu-id="d4df3-126">Depois de cada domínio de atualização do serviço de saudação é atualizado e disponível tooyour clientes, o domínio de atualização de saudação deve passar verificações de integridade antes da implantação Olá move toohello próximo domínio de atualização.</span><span class="sxs-lookup"><span data-stu-id="d4df3-126">After each upgrade domain of hello service is upgraded and is available tooyour customers, hello upgrade domain must pass health checks before hello deployment moves toohello next upgrade domain.</span></span> <span data-ttu-id="d4df3-127">Se o status bom estado de integridade não pode ser feito, implantação de saudação será revertida, para que o aplicativo hello está em um estado bom conhecido.</span><span class="sxs-lookup"><span data-stu-id="d4df3-127">If good health status cannot be achieved, hello deployment is rolled back, so that hello application is in a known, good state.</span></span> <span data-ttu-id="d4df3-128">Embora alguns clientes podem ser afetados antes de serviços hello serão revertidos, a maioria dos clientes não apresentar um problema.</span><span class="sxs-lookup"><span data-stu-id="d4df3-128">Although some customers might be affected before hello services are rolled back, most customers won't experience an issue.</span></span> <span data-ttu-id="d4df3-129">Além disso, uma resolução ocorre relativamente rapidamente e sem a necessidade de toowait para a ação de um operador humano.</span><span class="sxs-lookup"><span data-stu-id="d4df3-129">Also, a resolution occurs relatively quickly, and without having toowait for action from a human operator.</span></span> <span data-ttu-id="d4df3-130">Olá mais verificações de integridade que são incorporadas no seu código, hello mais resiliente do que seu serviço é toodeployment problemas.</span><span class="sxs-lookup"><span data-stu-id="d4df3-130">hello more health checks that are incorporated into your code, hello more resilient your service is toodeployment issues.</span></span>

<span data-ttu-id="d4df3-131">Outro aspecto da integridade do serviço está relatando métricas do serviço de saudação.</span><span class="sxs-lookup"><span data-stu-id="d4df3-131">Another aspect of service health is reporting metrics from hello service.</span></span> <span data-ttu-id="d4df3-132">Métricas são importantes na malha do serviço, porque eles são usados toobalance o uso de recursos.</span><span class="sxs-lookup"><span data-stu-id="d4df3-132">Metrics are important in Service Fabric because they are used toobalance resource usage.</span></span> <span data-ttu-id="d4df3-133">As métricas também podem ser um indicador de integridade do sistema.</span><span class="sxs-lookup"><span data-stu-id="d4df3-133">Metrics also can be an indicator of system health.</span></span> <span data-ttu-id="d4df3-134">Por exemplo, você pode ter um aplicativo que tenha muitos serviços, e cada instância informa uma métrica RPS (solicitações por segundo).</span><span class="sxs-lookup"><span data-stu-id="d4df3-134">For example, you might have an application that has many services, and each instance reports a requests per second (RPS) metric.</span></span> <span data-ttu-id="d4df3-135">Se um serviço estiver usando mais recursos do que outro serviço, o Service Fabric move instâncias de serviço em torno de cluster hello, utilização de recursos uniforme toomaintain tootry.</span><span class="sxs-lookup"><span data-stu-id="d4df3-135">If one service is using more resources than another service, Service Fabric moves service instances around hello cluster, tootry toomaintain even resource utilization.</span></span> <span data-ttu-id="d4df3-136">Para obter uma explicação mais detalhada de como funciona a utilização de recursos, consulte [gerenciar o consumo de recursos e carga na Service Fabric com métricas](service-fabric-cluster-resource-manager-metrics.md).</span><span class="sxs-lookup"><span data-stu-id="d4df3-136">For a more detailed explanation of how resource utilization works, see [Manage resource consumption and load in Service Fabric with metrics](service-fabric-cluster-resource-manager-metrics.md).</span></span>

<span data-ttu-id="d4df3-137">Métricas também podem ajudar a fornecer informações sobre o desempenho do seu serviço.</span><span class="sxs-lookup"><span data-stu-id="d4df3-137">Metrics also can help give you insight into how your service is performing.</span></span> <span data-ttu-id="d4df3-138">Ao longo do tempo, você pode usar toocheck de métricas que Olá serviço está operando dentro dos parâmetros esperados.</span><span class="sxs-lookup"><span data-stu-id="d4df3-138">Over time, you can use metrics toocheck that hello service is operating within expected parameters.</span></span> <span data-ttu-id="d4df3-139">Por exemplo, se as tendências mostram que às 9: 00 em Olá segunda-feira de manhã médio RPS é 1.000, você pode configurar um relatório de integridade que o alerta se hello RPS estiver abaixo de 500 ou acima 1.500.</span><span class="sxs-lookup"><span data-stu-id="d4df3-139">For example, if trends show that at 9 AM on Monday morning hello average RPS is 1,000, then you might set up a health report that alerts you if hello RPS is below 500 or above 1,500.</span></span> <span data-ttu-id="d4df3-140">Tudo o que pode ser perfeitamente normal, mas vale um toobe aparência-se de que seus clientes tenham uma ótima experiência.</span><span class="sxs-lookup"><span data-stu-id="d4df3-140">Everything might be perfectly fine, but it might be worth a look toobe sure that your customers are having a great experience.</span></span> <span data-ttu-id="d4df3-141">O serviço pode definir um conjunto de métricas que podem ser relatadas para fins de verificação de integridade, mas que não afetam a saudação balanceamento de recursos de cluster de saudação.</span><span class="sxs-lookup"><span data-stu-id="d4df3-141">Your service can define a set of metrics that can be reported for health check purposes, but that don't affect hello resource balancing of hello cluster.</span></span> <span data-ttu-id="d4df3-142">toodo, toozero de peso da métrica de saudação de conjunto.</span><span class="sxs-lookup"><span data-stu-id="d4df3-142">toodo this, set hello metric weight toozero.</span></span> <span data-ttu-id="d4df3-143">É recomendável que você comece todas as métricas com um peso de zero e não aumente peso Olá até ter certeza de que entendeu como peso métricas Olá afeta os recursos para o cluster de balanceamento.</span><span class="sxs-lookup"><span data-stu-id="d4df3-143">We recommend that you start all metrics with a weight of zero, and not increase hello weight  until you are sure that you understand how weighting hello metrics affects resource balancing for your cluster.</span></span>

> [!TIP]
> <span data-ttu-id="d4df3-144">Não use um número excessivo de métricas ponderadas.</span><span class="sxs-lookup"><span data-stu-id="d4df3-144">Don't use too many weighted metrics.</span></span> <span data-ttu-id="d4df3-145">Pode ser difícil toounderstand por que instâncias de serviço estão sendo movidas em torno de balanceamento.</span><span class="sxs-lookup"><span data-stu-id="d4df3-145">It can be difficult toounderstand why service instances are being moved around for balancing.</span></span> <span data-ttu-id="d4df3-146">Algumas métricas podem ir muito longe!</span><span class="sxs-lookup"><span data-stu-id="d4df3-146">A few metrics can go a long way!</span></span>

<span data-ttu-id="d4df3-147">Todas as informações que podem indicar Olá integridade e o desempenho de seu aplicativo são um candidato para relatórios de integridade e métricas.</span><span class="sxs-lookup"><span data-stu-id="d4df3-147">Any information that can indicate hello health and performance of your application is a candidate for metrics and health reports.</span></span> <span data-ttu-id="d4df3-148">Um contador de desempenho de CPU pode dizer como seu nó é utilizado, mas não diz se um serviço em particular está íntegro ou não, porque vários serviços podem estar em execução em um único nó.</span><span class="sxs-lookup"><span data-stu-id="d4df3-148">A CPU performance counter can tell you how your node is utilized, but it doesn't tell you whether a particular service is healthy, because multiple services might be running on a single node.</span></span> <span data-ttu-id="d4df3-149">Mas, métricas como RPS, itens processados, e todos os de latência de solicitações pode indicar integridade Olá de um serviço específico.</span><span class="sxs-lookup"><span data-stu-id="d4df3-149">But, metrics like RPS, items processed, and request latency all can indicate hello health of a specific service.</span></span>

<span data-ttu-id="d4df3-150">tooreport integridade, use código semelhante toothis:</span><span class="sxs-lookup"><span data-stu-id="d4df3-150">tooreport health, use code similar toothis:</span></span>

  ```csharp
    if (!result.HasValue)
    {
        HealthInformation healthInformation = new HealthInformation("ServiceCode", "StateDictionary", HealthState.Error);
        this.Partition.ReportInstanceHealth(healthInformation);
    }
  ```

<span data-ttu-id="d4df3-151">tooreport uma métrica, use toothis semelhante de código:</span><span class="sxs-lookup"><span data-stu-id="d4df3-151">tooreport a metric, use code similar toothis:</span></span>

  ```csharp
    this.Partition.ReportLoad(new List<LoadMetric> { new LoadMetric("MemoryInMb", 1234), new LoadMetric("metric1", 42) });
  ```

### <a name="service-fabric-support-logs"></a><span data-ttu-id="d4df3-152">Logs de suporte do Service Fabric</span><span class="sxs-lookup"><span data-stu-id="d4df3-152">Service Fabric support logs</span></span>

<span data-ttu-id="d4df3-153">Se você precisar toocontact o suporte da Microsoft para obter ajuda com o cluster do Azure Service Fabric, logs de suporte são quase sempre necessárias.</span><span class="sxs-lookup"><span data-stu-id="d4df3-153">If you need toocontact Microsoft support for help with your Azure Service Fabric cluster, support logs are almost always required.</span></span> <span data-ttu-id="d4df3-154">Se o cluster está hospedado no Azure, os logs de suporte são automaticamente configurados e coletados como parte da criação de um cluster.</span><span class="sxs-lookup"><span data-stu-id="d4df3-154">If your cluster is hosted in Azure, support logs are automatically configured and collected as part of creating a cluster.</span></span> <span data-ttu-id="d4df3-155">Olá logs são armazenados em uma conta de armazenamento dedicado no grupo de recursos do cluster.</span><span class="sxs-lookup"><span data-stu-id="d4df3-155">hello logs are stored in a dedicated storage account in your cluster's resource group.</span></span> <span data-ttu-id="d4df3-156">conta de armazenamento Olá não tem um nome fixo, mas na conta hello, você vê os contêineres de blob e tabelas com nomes que começam com *malha*.</span><span class="sxs-lookup"><span data-stu-id="d4df3-156">hello storage account doesn't have a fixed name, but in hello account, you see blob containers and tables with names that start with *fabric*.</span></span> <span data-ttu-id="d4df3-157">Para obter informações sobre como configurar coleções de log para um cluster autônomo, consulte [criar e gerenciar um cluster de Service Fabric Azure autônomo](service-fabric-cluster-creation-for-windows-server.md) e [definições de configuração para um cluster do Windows autônoma](service-fabric-cluster-manifest.md).</span><span class="sxs-lookup"><span data-stu-id="d4df3-157">For information about setting up log collections for a standalone cluster, see [Create and manage a standalone Azure Service Fabric cluster](service-fabric-cluster-creation-for-windows-server.md) and [Configuration settings for a standalone Windows cluster](service-fabric-cluster-manifest.md).</span></span> <span data-ttu-id="d4df3-158">Para instâncias do Service Fabric autônomo, hello logs devem ser enviados tooa compartilhamento de arquivo local.</span><span class="sxs-lookup"><span data-stu-id="d4df3-158">For standalone Service Fabric instances, hello logs should be sent tooa local file share.</span></span> <span data-ttu-id="d4df3-159">Você está **necessária** toohave esses logs para suporte, mas eles não são toobe pretendido utilizável por qualquer pessoa fora da equipe de suporte de cliente do Microsoft hello.</span><span class="sxs-lookup"><span data-stu-id="d4df3-159">You are **required** toohave these logs for support, but they are not intended toobe usable by anyone outside of hello Microsoft customer support team.</span></span>

## <a name="enabling-diagnostics-for-a-cluster"></a><span data-ttu-id="d4df3-160">Habilitar o diagnóstico para um cluster</span><span class="sxs-lookup"><span data-stu-id="d4df3-160">Enabling Diagnostics for a cluster</span></span>

<span data-ttu-id="d4df3-161">Em ordem tootake aproveitar esses logs, é altamente recomendável que, durante a criação do cluster, "diagnóstico" está habilitado.</span><span class="sxs-lookup"><span data-stu-id="d4df3-161">In order tootake advantage of these logs, it is highly recommended that during cluster creation, "Diagnostics" is enabled.</span></span> <span data-ttu-id="d4df3-162">Ativando o diagnóstico, quando Olá cluster for implantado, diagnóstico do Windows Azure é capaz de tooacknowledge Olá operacional, serviços confiáveis e atores confiável canais e armazenar dados de saudação como explicado mais [agregar eventos com Diagnóstico do Azure](service-fabric-diagnostics-event-aggregation-wad.md).</span><span class="sxs-lookup"><span data-stu-id="d4df3-162">By turning on diagnostics, when hello cluster is deployed, Windows Azure Diagnostics is able tooacknowledge hello Operational, Reliable Services, and Reliable actors channels, and store hello data as explained further in [Aggregate events with Azure Diagnostics](service-fabric-diagnostics-event-aggregation-wad.md).</span></span>

<span data-ttu-id="d4df3-163">Como mostrado acima, há também um campo opcional de tooadd uma chave de instrumentação do Application Insights (AI).</span><span class="sxs-lookup"><span data-stu-id="d4df3-163">As seen above, there is also an optional field tooadd an Application Insights (AI) instrumentation key.</span></span> <span data-ttu-id="d4df3-164">Se você escolher toouse AI para qualquer análise de eventos (Leia mais sobre isso em [análise de eventos com o Application Insights](service-fabric-diagnostics-event-analysis-appinsights.md)), incluem hello AppInsights recurso instrumentationKey (GUID) aqui.</span><span class="sxs-lookup"><span data-stu-id="d4df3-164">If you choose toouse AI for any event analysis (read more about this in [Event Analysis with Application Insights](service-fabric-diagnostics-event-analysis-appinsights.md)), include hello AppInsights resource instrumentationKey (GUID) here.</span></span>


<span data-ttu-id="d4df3-165">Se você for toodeploy cluster de tooyour de contêineres, habilite WAD toopick backup estatísticas de docker adicionando este tooyour "WadCfg > DiagnosticMonitorConfiguration":</span><span class="sxs-lookup"><span data-stu-id="d4df3-165">If you are going toodeploy containers tooyour cluster, enable WAD toopick up docker stats by adding this tooyour "WadCfg > DiagnosticMonitorConfiguration":</span></span>

```json
"DockerSources": {
    "Stats": {
        "enabled": true,
        "sampleRate": "PT1M"
    }
},

```

## <a name="measuring-performance"></a><span data-ttu-id="d4df3-166">Medir o desempenho</span><span class="sxs-lookup"><span data-stu-id="d4df3-166">Measuring performance</span></span>

<span data-ttu-id="d4df3-167">Medir o desempenho do cluster ajuda você a entender como ele é toohandle capaz de carga e unidade decisões relacionadas ao dimensionamento do cluster (ver mais informações sobre dimensionamento de um cluster [no Azure](service-fabric-cluster-scale-up-down.md), ou [local](service-fabric-cluster-windows-server-add-remove-nodes.md)).</span><span class="sxs-lookup"><span data-stu-id="d4df3-167">Measure performance of your cluster will help you understand how it is able toohandle load and drive decisions around scaling your cluster (see more about scaling a cluster [on Azure](service-fabric-cluster-scale-up-down.md), or [on-premises](service-fabric-cluster-windows-server-add-remove-nodes.md)).</span></span> <span data-ttu-id="d4df3-168">Dados de desempenho também são útil quando comparados tooactions você ou seus aplicativos e serviços podem ter obtido ao analisando os logs em hello futuras.</span><span class="sxs-lookup"><span data-stu-id="d4df3-168">Performance data is also useful when compared tooactions you or your applications and services may have taken, when analyzing logs in hello future.</span></span> 

<span data-ttu-id="d4df3-169">Para obter uma lista de toocollect de contadores de desempenho ao usar o serviço de malha, consulte [contadores de desempenho do Service Fabric](service-fabric-diagnostics-event-generation-perf.md)</span><span class="sxs-lookup"><span data-stu-id="d4df3-169">For a list of performance counters toocollect when using Service Fabric, see [Performance Counters in Service Fabric](service-fabric-diagnostics-event-generation-perf.md)</span></span>

<span data-ttu-id="d4df3-170">Aqui estão duas maneiras com as quais você pode configurar a coleta de dados de desempenho para o cluster:</span><span class="sxs-lookup"><span data-stu-id="d4df3-170">Here are two common ways in which you can set up collecting performance data for your cluster:</span></span>

* <span data-ttu-id="d4df3-171">Usando um agente: essa é a forma preferencial de saudação de coleta de desempenho de um computador, como agentes geralmente têm uma lista de métricas de desempenho possíveis que podem ser coletadas e é uma métrica do processo relativamente fácil toochoose Olá desejado toocollect ou alterá-los .</span><span class="sxs-lookup"><span data-stu-id="d4df3-171">Using an agent: this is hello preferred way of collecting performance from a machine, since agents usually have a list of possible performance metrics that can be collected, and it is a relatively easy process toochoose hello metrics you want toocollect or change them.</span></span> <span data-ttu-id="d4df3-172">Leia sobre [como tooconfigure Olá OMS para Service Fabric](service-fabric-diagnostics-event-analysis-oms.md) e [Configurando Olá agente do OMS Windows](../log-analytics/log-analytics-windows-agents.md) artigos toolearn mais sobre o agente do OMS hello, que é um esse agente de monitoramento que é capaz de toopick backup dados de desempenho para VMs do cluster e contêineres implantados.</span><span class="sxs-lookup"><span data-stu-id="d4df3-172">Read about [how tooconfigure hello OMS for Service Fabric](service-fabric-diagnostics-event-analysis-oms.md) and [Setting up hello OMS Windows Agent](../log-analytics/log-analytics-windows-agents.md) articles toolearn more about hello OMS agent, which is one such monitoring agent that is able toopick up performance data for cluster VMs and deployed containers.</span></span>

* <span data-ttu-id="d4df3-173">Configurando o diagnóstico toowrite desempenho contadores tabela tooa: clusters no Azure, isso significa alterar Olá toopick de configuração de diagnóstico do Azure backup contadores de desempenho apropriadas de saudação do hello VMs no cluster e habilitá-la toopick backup Se você estiver implantando recipientes de estatísticas do docker.</span><span class="sxs-lookup"><span data-stu-id="d4df3-173">Configuring diagnostics toowrite performance counters tooa table: for clusters on Azure, this means changing hello Azure Diagnostics configuration toopick up hello appropriate performance counters from hello VMs in your cluster, and enabling it toopick up docker stats if you will be deploying any containers.</span></span> <span data-ttu-id="d4df3-174">Leia sobre como configurar [contadores de desempenho em WAD](service-fabric-diagnostics-event-aggregation-wad.md) no Service Fabric tooset a coleta de contador de desempenho.</span><span class="sxs-lookup"><span data-stu-id="d4df3-174">Read about configuring [Performance Counters in WAD](service-fabric-diagnostics-event-aggregation-wad.md) in Service Fabric tooset up performance counter collection.</span></span>

## <a name="next-steps"></a><span data-ttu-id="d4df3-175">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="d4df3-175">Next steps</span></span>

<span data-ttu-id="d4df3-176">Seus logs e eventos necessário toobe agregado para que eles possam ser enviados tooany plataforma de análise.</span><span class="sxs-lookup"><span data-stu-id="d4df3-176">Your logs and events need toobe aggregated before they can be sent tooany analysis platform.</span></span> <span data-ttu-id="d4df3-177">Leia sobre [EventFlow](service-fabric-diagnostics-event-aggregation-eventflow.md) e [WAD](service-fabric-diagnostics-event-aggregation-wad.md) toobetter entender alguns dos Olá opções recomendada.</span><span class="sxs-lookup"><span data-stu-id="d4df3-177">Read about [EventFlow](service-fabric-diagnostics-event-aggregation-eventflow.md) and [WAD](service-fabric-diagnostics-event-aggregation-wad.md) toobetter understand some of hello recommended options.</span></span>
