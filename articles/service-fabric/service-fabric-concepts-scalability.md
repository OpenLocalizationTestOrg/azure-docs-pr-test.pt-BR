---
title: "aaaScalability de serviços do Service Fabric | Microsoft Docs"
description: "Descreve como os serviços do Service Fabric tooscale"
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: ed324f23-242f-47b7-af1a-e55c839e7d5d
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: 5af06f8f71ad5dee32ba115b922842684867e654
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="scaling-in-service-fabric"></a><span data-ttu-id="05652-103">Dimensionamento no Service Fabric</span><span class="sxs-lookup"><span data-stu-id="05652-103">Scaling in Service Fabric</span></span>
<span data-ttu-id="05652-104">Malha do serviço do Azure torna aplicativos escalonáveis toobuild fácil por meio do gerenciamento de serviços hello, partições e réplicas em nós de saudação de um cluster.</span><span class="sxs-lookup"><span data-stu-id="05652-104">Azure Service Fabric makes it easy toobuild scalable applications by managing hello services, partitions, and replicas on hello nodes of a cluster.</span></span> <span data-ttu-id="05652-105">Executando várias cargas de trabalho Olá mesmo hardware habilita utilização máxima dos recursos, mas também fornece flexibilidade em termos de como você escolhe tooscale suas cargas de trabalho.</span><span class="sxs-lookup"><span data-stu-id="05652-105">Running many workloads on hello same hardware enables maximum resource utilization, but also provides flexibility in terms of how you choose tooscale your workloads.</span></span> 

<span data-ttu-id="05652-106">O dimensionamento no Service Fabric é feito várias maneiras diferentes:</span><span class="sxs-lookup"><span data-stu-id="05652-106">Scaling in Service Fabric is accomplished several different ways:</span></span>

1. <span data-ttu-id="05652-107">Dimensionamento criando ou removendo instâncias de serviço sem estado</span><span class="sxs-lookup"><span data-stu-id="05652-107">Scaling by creating or removing stateless service instances</span></span>
2. <span data-ttu-id="05652-108">Dimensionamento criando ou removendo novos serviços nomeados</span><span class="sxs-lookup"><span data-stu-id="05652-108">Scaling by creating or removing new named services</span></span>
3. <span data-ttu-id="05652-109">Dimensionamento criando ou removendo novas instâncias de aplicativos nomeados</span><span class="sxs-lookup"><span data-stu-id="05652-109">Scaling by creating or removing new named application instances</span></span>
4. <span data-ttu-id="05652-110">Dimensionamento usando serviços particionados</span><span class="sxs-lookup"><span data-stu-id="05652-110">Scaling by using partitioned services</span></span>
5. <span data-ttu-id="05652-111">Dimensionamento adicionando e removendo nós do cluster Olá</span><span class="sxs-lookup"><span data-stu-id="05652-111">Scaling by adding and removing nodes from hello cluster</span></span> 
6. <span data-ttu-id="05652-112">Dimensionamento usando métricas do Gerenciador de Recursos de Cluster</span><span class="sxs-lookup"><span data-stu-id="05652-112">Scaling by using Cluster Resource Manager metrics</span></span>

## <a name="scaling-by-creating-or-removing-stateless-service-instances"></a><span data-ttu-id="05652-113">Dimensionamento criando ou removendo instâncias de serviço sem estado</span><span class="sxs-lookup"><span data-stu-id="05652-113">Scaling by creating or removing stateless service instances</span></span>
<span data-ttu-id="05652-114">Uma saudação tooscale mais simples de maneiras dentro do Service Fabric funciona com serviços sem monitoração de estado.</span><span class="sxs-lookup"><span data-stu-id="05652-114">One of hello simplest ways tooscale within Service Fabric works with stateless services.</span></span> <span data-ttu-id="05652-115">Quando você cria um serviço sem monitoração de estado, você obtém uma chance toodefine um `InstanceCount`.</span><span class="sxs-lookup"><span data-stu-id="05652-115">When you create a stateless service, you get a chance toodefine an `InstanceCount`.</span></span> <span data-ttu-id="05652-116">`InstanceCount`define quantas cópias em execução de código do serviço são criadas quando o serviço de saudação é iniciado.</span><span class="sxs-lookup"><span data-stu-id="05652-116">`InstanceCount` defines how many running copies of that service's code are created when hello service starts up.</span></span> <span data-ttu-id="05652-117">Digamos que, por exemplo, há 100 nós no cluster de saudação.</span><span class="sxs-lookup"><span data-stu-id="05652-117">Let's say, for example, that there are 100 nodes in hello cluster.</span></span> <span data-ttu-id="05652-118">Digamos também que um serviço seja criado com um `InstanceCount` igual a 10.</span><span class="sxs-lookup"><span data-stu-id="05652-118">Let's also say that a service is created with an `InstanceCount` of 10.</span></span> <span data-ttu-id="05652-119">Durante a execução, as 10 cópias em execução de código Olá podem todos se tornar muito ocupadas (ou podem não estar ocupadas suficiente).</span><span class="sxs-lookup"><span data-stu-id="05652-119">During runtime, those 10 running copies of hello code could all become too busy (or could be not busy enough).</span></span> <span data-ttu-id="05652-120">Uma maneira tooscale essa carga de trabalho é o número de saudação do toochange de instâncias.</span><span class="sxs-lookup"><span data-stu-id="05652-120">One way tooscale that workload is toochange hello number of instances.</span></span> <span data-ttu-id="05652-121">Por exemplo, alguma parte do código de monitoramento ou gerenciamento pode alterar número de saudação existentes de instâncias too50 ou too5, dependendo se a carga de trabalho Olá precisa tooscale in ou out Olá com base na carga.</span><span class="sxs-lookup"><span data-stu-id="05652-121">For example, some piece of monitoring or management code can change hello existing number of instances too50, or too5, depending on whether hello workload needs tooscale in or out based on hello load.</span></span> 

<span data-ttu-id="05652-122">C#:</span><span class="sxs-lookup"><span data-stu-id="05652-122">C#:</span></span>

```csharp
StatelessServiceUpdateDescription updateDescription = new StatelessServiceUpdateDescription(); 
updateDescription.InstanceCount = 50;
await fabricClient.ServiceManager.UpdateServiceAsync(new Uri("fabric:/app/service"), updateDescription);
```

<span data-ttu-id="05652-123">Powershell:</span><span class="sxs-lookup"><span data-stu-id="05652-123">Powershell:</span></span>

```posh
Update-ServiceFabricService -Stateless -ServiceName $serviceName -InstanceCount 50
```
### <a name="using-dynamic-instance-count"></a><span data-ttu-id="05652-124">Usando a Contagem de Instâncias Dinâmica</span><span class="sxs-lookup"><span data-stu-id="05652-124">Using Dynamic Instance Count</span></span>
<span data-ttu-id="05652-125">Especificamente para serviços sem monitoração de estado, o Service Fabric oferece uma contagem de instâncias de saudação de toochange de forma automática.</span><span class="sxs-lookup"><span data-stu-id="05652-125">Specifically for stateless services, Service Fabric offers an automatic way toochange hello instance count.</span></span> <span data-ttu-id="05652-126">Isso permite Olá serviço tooscale dinamicamente com número de saudação de nós que estão disponíveis.</span><span class="sxs-lookup"><span data-stu-id="05652-126">This allows hello service tooscale dynamically with hello number of nodes that are available.</span></span> <span data-ttu-id="05652-127">Olá tooopt de maneira em que esse comportamento é a contagem de instâncias de saudação tooset = -1.</span><span class="sxs-lookup"><span data-stu-id="05652-127">hello way tooopt into this behavior is tooset hello instance count = -1.</span></span> <span data-ttu-id="05652-128">InstanceCount = -1 é uma instrução tooService malha que diz "Executar esse serviço sem monitoração de estado em todos os nós".</span><span class="sxs-lookup"><span data-stu-id="05652-128">InstanceCount = -1 is an instruction tooService Fabric that says "Run this stateless service on every node."</span></span> <span data-ttu-id="05652-129">Se Olá número de nós é alterado, o Service Fabric altera automaticamente Olá toomatch de contagem de instância, garantindo que hello está sendo executado em todos os nós válido.</span><span class="sxs-lookup"><span data-stu-id="05652-129">If hello number of nodes changes, Service Fabric automatically changes hello instance count toomatch, ensuring that hello service is running on all valid nodes.</span></span> 

<span data-ttu-id="05652-130">C#:</span><span class="sxs-lookup"><span data-stu-id="05652-130">C#:</span></span>

```csharp
StatelessServiceDescription serviceDescription = new StatelessServiceDescription();
//Set other service properties necessary for creation....
serviceDescription.InstanceCount = -1;
await fc.ServiceManager.CreateServiceAsync(serviceDescription);
```

<span data-ttu-id="05652-131">Powershell:</span><span class="sxs-lookup"><span data-stu-id="05652-131">Powershell:</span></span>

```posh
New-ServiceFabricService -ApplicationName $applicationName -ServiceName $serviceName -ServiceTypeName $serviceTypeName -Stateless -PartitionSchemeSingleton -InstanceCount "-1"
```

## <a name="scaling-by-creating-or-removing-new-named-services"></a><span data-ttu-id="05652-132">Dimensionamento criando ou removendo novos serviços nomeados</span><span class="sxs-lookup"><span data-stu-id="05652-132">Scaling by creating or removing new named services</span></span>
<span data-ttu-id="05652-133">Uma instância de serviço nomeado é uma instância específica de um tipo de serviço (consulte [ciclo de vida do aplicativo do Service Fabric](service-fabric-application-lifecycle.md)) em algumas instâncias de aplicativo nomeada em cluster hello.</span><span class="sxs-lookup"><span data-stu-id="05652-133">A named service instance is a specific instance of a service type (see [Service Fabric application life cycle](service-fabric-application-lifecycle.md)) within some named application instance in hello cluster.</span></span> 

<span data-ttu-id="05652-134">Novas instâncias de serviço nomeadas podem ser criadas (ou removidas) conforme os serviços ficarem mais ou menos ocupados.</span><span class="sxs-lookup"><span data-stu-id="05652-134">New named service instances can be created (or removed) as services become more or less busy.</span></span> <span data-ttu-id="05652-135">Isso permite que solicitações toobe disseminadas por mais instâncias de serviço, geralmente permitindo a carga em toodecrease de serviços existentes.</span><span class="sxs-lookup"><span data-stu-id="05652-135">This allows requests toobe spread across more service instances, usually allowing load on existing services toodecrease.</span></span> <span data-ttu-id="05652-136">Ao criar serviços, Olá Gerenciador de recursos de Cluster do serviço de malha coloca serviços Olá no cluster de saudação de maneira distribuída.</span><span class="sxs-lookup"><span data-stu-id="05652-136">When creating services, hello Service Fabric Cluster Resource Manager places hello services in hello cluster in a distributed fashion.</span></span> <span data-ttu-id="05652-137">decisões exata Olá são administradas por Olá [métricas](service-fabric-cluster-resource-manager-metrics.md) no cluster hello e outras regras de posicionamento.</span><span class="sxs-lookup"><span data-stu-id="05652-137">hello exact decisions are governed by hello [metrics](service-fabric-cluster-resource-manager-metrics.md) in hello cluster and other placement rules.</span></span> <span data-ttu-id="05652-138">Serviços podem ser criados de várias maneiras diferentes, mas hello mais comuns são por meio de ações administrativas como alguém chamar [ `New-ServiceFabricService` ](https://docs.microsoft.com/en-us/powershell/module/servicefabric/new-servicefabricservice?view=azureservicefabricps), ou chamando código [ `CreateServiceAsync` ](https://docs.microsoft.com/en-us/dotnet/api/system.fabric.fabricclient.servicemanagementclient.createserviceasync?view=azure-dotnet).</span><span class="sxs-lookup"><span data-stu-id="05652-138">Services can be created several different ways, but hello most common are either through administrative actions like someone calling [`New-ServiceFabricService`](https://docs.microsoft.com/en-us/powershell/module/servicefabric/new-servicefabricservice?view=azureservicefabricps), or by code calling [`CreateServiceAsync`](https://docs.microsoft.com/en-us/dotnet/api/system.fabric.fabricclient.servicemanagementclient.createserviceasync?view=azure-dotnet).</span></span> <span data-ttu-id="05652-139">`CreateServiceAsync`pode até mesmo ser chamado de dentro de outros serviços em execução no cluster de saudação.</span><span class="sxs-lookup"><span data-stu-id="05652-139">`CreateServiceAsync` can even be called from within other services running in hello cluster.</span></span>

<span data-ttu-id="05652-140">A criação de serviços de forma dinâmica pode ser usada em todo tipo de cenário e é um padrão comum.</span><span class="sxs-lookup"><span data-stu-id="05652-140">Creating services dynamically can be used in all sorts of scenarios, and is a common pattern.</span></span> <span data-ttu-id="05652-141">Por exemplo, considere um serviço com estado que representa um fluxo de trabalho específico.</span><span class="sxs-lookup"><span data-stu-id="05652-141">For example, consider a stateful service that represents a particular workflow.</span></span> <span data-ttu-id="05652-142">Chamadas que representa o trabalho vai tooshow toothis serviço e esse serviço é contínuo tooexecute Olá etapas toothat fluxo de trabalho e o registro de progresso.</span><span class="sxs-lookup"><span data-stu-id="05652-142">Calls representing work are going tooshow up toothis service, and this service is going tooexecute hello steps toothat workflow and record progress.</span></span> 

<span data-ttu-id="05652-143">Como você faria essa escala de serviço específico? Olá serviço pode ser multilocatário de alguma forma e aceitar as chamadas e iniciar as etapas para muitas instâncias diferentes do hello mesmo fluxo de trabalho ao mesmo tempo.</span><span class="sxs-lookup"><span data-stu-id="05652-143">How would you make this particular service scale? hello service could be multi-tenant in some form, and accept calls and kick off steps for many different instances of hello same workflow all at once.</span></span> <span data-ttu-id="05652-144">No entanto, que pode tornar Olá código mais complexo, pois agora tem tooworry sobre muitas instâncias diferentes do hello mesmo fluxo de trabalho, todas as em diferentes estágios e de clientes diferentes.</span><span class="sxs-lookup"><span data-stu-id="05652-144">However, that can make hello code more complex, since now it has tooworry about many different instances of hello same workflow, all at different stages and from different customers.</span></span> <span data-ttu-id="05652-145">Além disso, tratamento de vários fluxos de trabalho no hello ao mesmo tempo não resolve Olá problema de escala.</span><span class="sxs-lookup"><span data-stu-id="05652-145">Also, handling multiple workflows at hello same time doesn't solve hello scale problem.</span></span> <span data-ttu-id="05652-146">Isso ocorre porque, em algum momento, esse serviço consumirá toofit um número excessivo de recursos em um computador específico.</span><span class="sxs-lookup"><span data-stu-id="05652-146">This is because at some point this service will consume too many resources toofit on a particular machine.</span></span> <span data-ttu-id="05652-147">Muitos serviços não criados para esse padrão em primeiro lugar de saudação ter dificuldade devido afunilamento inerente toosome ou lentidão no seu código.</span><span class="sxs-lookup"><span data-stu-id="05652-147">Many services not built for this pattern in hello first place also experience difficulty due toosome inherent bottleneck or slowdown in their code.</span></span> <span data-ttu-id="05652-148">Esses tipos de problemas de fazer com que o serviço de saudação não toowork bem quando o número de saudação de fluxos de trabalho simultâneos está controlando obtém maior.</span><span class="sxs-lookup"><span data-stu-id="05652-148">These types of issues cause hello service not toowork as well when hello number of concurrent workflows it is tracking gets larger.</span></span>  

<span data-ttu-id="05652-149">Uma solução é toocreate uma instância desse serviço para cada instância diferente do fluxo de trabalho Olá deseja tootrack.</span><span class="sxs-lookup"><span data-stu-id="05652-149">A solution is toocreate an instance of this service for every different instance of hello workflow you want tootrack.</span></span> <span data-ttu-id="05652-150">Este é um ótimo padrão e funciona se o serviço de saudação é com ou sem estado.</span><span class="sxs-lookup"><span data-stu-id="05652-150">This is a great pattern and works whether hello service is stateless or stateful.</span></span> <span data-ttu-id="05652-151">Para este toowork padrão, há geralmente outro serviço que atua como um "serviço de Gerenciador de carga de trabalho".</span><span class="sxs-lookup"><span data-stu-id="05652-151">For this pattern toowork, there's usually another service that acts as a "Workload Manager Service".</span></span> <span data-ttu-id="05652-152">trabalho de saudação do serviço é tooreceive solicitações e tooroute esses serviços de tooother solicitações.</span><span class="sxs-lookup"><span data-stu-id="05652-152">hello job of this service is tooreceive requests and tooroute those requests tooother services.</span></span> <span data-ttu-id="05652-153">Gerenciador de saudação pode criar dinamicamente uma instância de serviço de carga de trabalho hello quando ele recebe a mensagem de saudação e passar nos serviços de toothose solicitações.</span><span class="sxs-lookup"><span data-stu-id="05652-153">hello manager can dynamically create an instance of hello workload service when it receives hello message, and then pass on requests toothose services.</span></span> <span data-ttu-id="05652-154">serviço de Gerenciador de saudação também pode receber retornos de chamada quando um serviço de fluxo de trabalho concluir seu trabalho.</span><span class="sxs-lookup"><span data-stu-id="05652-154">hello manager service could also receive callbacks when a given workflow service completes its job.</span></span> <span data-ttu-id="05652-155">Quando o Gerenciador de saudação recebe esses retornos de chamada ele pode excluir essa instância do serviço de fluxo de trabalho de saudação ou deixá-lo se mais chamadas são esperadas.</span><span class="sxs-lookup"><span data-stu-id="05652-155">When hello manager receives these callbacks it could delete that instance of hello workflow service, or leave it if more calls are expected.</span></span> 

<span data-ttu-id="05652-156">Versões avançadas desse tipo de Gerenciador podem até mesmo criar pools de serviços de saudação que ele gerencia.</span><span class="sxs-lookup"><span data-stu-id="05652-156">Advanced versions of this type of manager can even create pools of hello services that it manages.</span></span> <span data-ttu-id="05652-157">pool de saudação ajuda a garantir que, quando uma nova solicitação chega ele não tem toowait para Olá serviço toospin.</span><span class="sxs-lookup"><span data-stu-id="05652-157">hello pool helps ensure that when a new request comes in it doesn't have toowait for hello service toospin up.</span></span> <span data-ttu-id="05652-158">Em vez disso, Gerenciador de saudação pode apenas escolher um serviço de fluxo de trabalho que não está ocupado no momento do pool de saudação ou rotear aleatoriamente.</span><span class="sxs-lookup"><span data-stu-id="05652-158">Instead, hello manager can just pick a workflow service that is not currently busy from hello pool, or route randomly.</span></span> <span data-ttu-id="05652-159">Manter um pool de serviços disponíveis faz novas solicitações de manipulação mais rapidamente, pois é menos provável que a solicitação Olá tenha toowait para um novo toobe de serviço girado para cima.</span><span class="sxs-lookup"><span data-stu-id="05652-159">Keeping a pool of services available makes handling new requests faster, since it is less likely that hello request has toowait for a new service toobe spun up.</span></span> <span data-ttu-id="05652-160">A criação de novos serviços é rápida, mas não é gratuita ou instantânea.</span><span class="sxs-lookup"><span data-stu-id="05652-160">Creating new services is quick, but not free or instantaneous.</span></span> <span data-ttu-id="05652-161">pool de saudação ajuda a minimizar Olá tempo solicitação Olá tem toowait antes que estão sendo atendidas.</span><span class="sxs-lookup"><span data-stu-id="05652-161">hello pool helps minimize hello amount of time hello request has toowait before being serviced.</span></span> <span data-ttu-id="05652-162">Você verá esse gerenciador e pool padrão geralmente quando os tempos de resposta mais importam hello.</span><span class="sxs-lookup"><span data-stu-id="05652-162">You'll often see this manager and pool pattern when response times matter hello most.</span></span> <span data-ttu-id="05652-163">Solicitação de enfileiramento de mensagens de saudação e criar serviço Olá no plano de fundo de saudação e _, em seguida,_ transmiti-lo em também é um padrão de Gerenciador populares, como é criar e excluir serviços com base em algum controle da quantidade de saudação do trabalho desse serviço no momento tem pendente.</span><span class="sxs-lookup"><span data-stu-id="05652-163">Queuing hello request and creating hello service in hello background and _then_ passing it on is also a popular manager pattern, as is creating and deleting services based on some tracking of hello amount of work that service currently has pending.</span></span> 

## <a name="scaling-by-creating-or-removing-new-named-application-instances"></a><span data-ttu-id="05652-164">Dimensionamento criando ou removendo novas instâncias de aplicativos nomeados</span><span class="sxs-lookup"><span data-stu-id="05652-164">Scaling by creating or removing new named application instances</span></span>
<span data-ttu-id="05652-165">Criar e excluir instâncias de todo o aplicativo são padrão toohello semelhante de criação e exclusão de serviços.</span><span class="sxs-lookup"><span data-stu-id="05652-165">Creating and deleting whole application instances is similar toohello pattern of creating and deleting services.</span></span> <span data-ttu-id="05652-166">Para esse padrão, há alguns service manager que está fazendo a decisão de saudação com base nas solicitações de saudação que está vendo e informações hello está recebendo do hello outros serviços dentro do cluster de saudação.</span><span class="sxs-lookup"><span data-stu-id="05652-166">For this pattern, there's some manager service that is making hello decision based on hello requests that it is seeing and hello information it is receiving from hello other services inside hello cluster.</span></span> 

<span data-ttu-id="05652-167">Quando a criação de uma nova instância de aplicativo nomeada deve ser usada em vez da criação de uma nova instância de serviço nomeada em algum aplicativo já existente?</span><span class="sxs-lookup"><span data-stu-id="05652-167">When should creating a new named application instance be used instead of creating a new named service instances in some already existing application?</span></span> <span data-ttu-id="05652-168">Há alguns casos:</span><span class="sxs-lookup"><span data-stu-id="05652-168">There's a few cases:</span></span>

  * <span data-ttu-id="05652-169">nova instância do aplicativo Hello é para um cliente cujo código precisa toorun em alguma identidade específica ou configurações de segurança.</span><span class="sxs-lookup"><span data-stu-id="05652-169">hello new application instance is for a customer whose code needs toorun under some particular identity or security settings.</span></span>
    * <span data-ttu-id="05652-170">Serviço de malha permite definir toorun de pacotes de código diferente em identidades específicas.</span><span class="sxs-lookup"><span data-stu-id="05652-170">Service Fabric allows defining different code packages toorun under particular identities.</span></span> <span data-ttu-id="05652-171">Em ordem toolaunch hello mesmo pacote de código em identidades diferentes, ativações Olá necessário toooccur em instâncias de aplicativo diferente.</span><span class="sxs-lookup"><span data-stu-id="05652-171">In order toolaunch hello same code package under different identities, hello activations need toooccur in different application instances.</span></span> <span data-ttu-id="05652-172">Considere um caso em que você tem as cargas de trabalho de um cliente existente implantadas.</span><span class="sxs-lookup"><span data-stu-id="05652-172">Consider a case where you have an existing customer's workloads deployed.</span></span> <span data-ttu-id="05652-173">Eles podem estar em execução sob uma identidade específica para que possa monitorar e controlar seus tooother acessar recursos, como bancos de dados remotos ou outros sistemas.</span><span class="sxs-lookup"><span data-stu-id="05652-173">These may be running under a particular identity so you can monitor and control their access tooother resources, such as remote databases or other systems.</span></span> <span data-ttu-id="05652-174">Nesse caso, quando se inscreve um novo cliente, provavelmente você não precisa tooactivate seu código em Olá mesmo contexto (espaço de processo).</span><span class="sxs-lookup"><span data-stu-id="05652-174">In this case, when a new customer signs up, you probably don't want tooactivate their code in hello same context (process space).</span></span> <span data-ttu-id="05652-175">Enquanto você poderia, isso dificulta o tooact de código de serviço no contexto de saudação de uma identidade específica.</span><span class="sxs-lookup"><span data-stu-id="05652-175">While you could, this makes it harder for your service code tooact within hello context of a particular identity.</span></span> <span data-ttu-id="05652-176">Normalmente, você precisa ter mais código de gerenciamento de identidade, isolamento e segurança.</span><span class="sxs-lookup"><span data-stu-id="05652-176">You typically must have more security, isolation, and identity management code.</span></span> <span data-ttu-id="05652-177">Em vez de usar diferentes denominada serviço instâncias dentro Olá a mesma instância de aplicativo e, portanto, Olá mesmo espaço de processo, você pode usar diferentes instâncias nomeadas do aplicativo de malha do serviço.</span><span class="sxs-lookup"><span data-stu-id="05652-177">Instead of using different named service instances within hello same application instance and hence hello same process space, you can use different named Service Fabric Application instances.</span></span> <span data-ttu-id="05652-178">Isso torna mais fácil contextos de identidade diferentes toodefine.</span><span class="sxs-lookup"><span data-stu-id="05652-178">This makes it easier toodefine different identity contexts.</span></span>
  * <span data-ttu-id="05652-179">nova instância do aplicativo Hello também serve como um meio de configuração</span><span class="sxs-lookup"><span data-stu-id="05652-179">hello new application instance also serves as a means of configuration</span></span>
    * <span data-ttu-id="05652-180">Por padrão, todos Olá chamado instâncias do serviço de um tipo de serviço específico em uma instância do aplicativo serão executado no mesmo processo em um determinado nó de saudação.</span><span class="sxs-lookup"><span data-stu-id="05652-180">By default, all of hello named service instances of a particular service type within an application instance will run in hello same process on a given node.</span></span> <span data-ttu-id="05652-181">Isso significa que, embora você possa configurar cada instância de serviço de forma diferente, fazer isso é complicado.</span><span class="sxs-lookup"><span data-stu-id="05652-181">What this means is that while you can configure each service instance differently, doing so is complicated.</span></span> <span data-ttu-id="05652-182">Serviços devem ter alguns token usarem toolook a sua configuração dentro de um pacote de configuração.</span><span class="sxs-lookup"><span data-stu-id="05652-182">Services must have some token they use toolook up their config within a configuration package.</span></span> <span data-ttu-id="05652-183">Geralmente, isso é apenas o nome do serviço de saudação.</span><span class="sxs-lookup"><span data-stu-id="05652-183">Usually this is just hello service's name.</span></span> <span data-ttu-id="05652-184">Isso funciona bem, mas associa nomes de toohello configuração Olá Olá individuais nomeado de instâncias de serviço na instância do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="05652-184">This works fine, but it couples hello configuration toohello names of hello individual named service instances within that application instance.</span></span> <span data-ttu-id="05652-185">Isso pode ser confuso e toomanage rígido desde a configuração normalmente é um artefato de tempo de design com valores específicos de instância de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="05652-185">This can be confusing and hard toomanage since configuration is normally a design time artifact with application instance specific values.</span></span> <span data-ttu-id="05652-186">Criar mais serviços sempre significa que atualizações de aplicativo mais informações de saudação toochange dentro de pacotes de configuração de saudação ou toodeploy novas para que os novos serviços de saudação podem procurar suas informações específicas.</span><span class="sxs-lookup"><span data-stu-id="05652-186">Creating more services always means more application upgrades toochange hello information within hello config packages or toodeploy new ones so that hello new services can look up their specific information.</span></span> <span data-ttu-id="05652-187">Geralmente é mais fácil toocreate uma nova instância de aplicativo nomeada.</span><span class="sxs-lookup"><span data-stu-id="05652-187">It's often easier toocreate a whole new named application instance.</span></span> <span data-ttu-id="05652-188">Em seguida, você pode usar tooset de parâmetros do aplicativo hello qualquer configuração é necessária para os serviços de saudação.</span><span class="sxs-lookup"><span data-stu-id="05652-188">Then you can use hello application parameters tooset whatever configuration is necessary for hello services.</span></span> <span data-ttu-id="05652-189">Dessa forma, todos os serviços de saudação que são criados dentro desse denominado instância do aplicativo pode herdar as definições de configuração específico.</span><span class="sxs-lookup"><span data-stu-id="05652-189">This way all of hello services that are created within that named application instance can inherit particular configuration settings.</span></span> <span data-ttu-id="05652-190">Por exemplo, em vez de ter um único arquivo de configuração com configurações de saudação e personalizações de cada cliente, como segredos ou por limites de recursos de cliente, você em vez disso, teria uma instância de aplicativo diferente para cada cliente com essas configurações substituído.</span><span class="sxs-lookup"><span data-stu-id="05652-190">For example, instead of having a single configuration file with hello settings and customizations for every customer, such as secrets or per customer resource limits, you'd instead have a different application instance for each customer with these settings overridden.</span></span> 
  * <span data-ttu-id="05652-191">novo aplicativo de saudação serve como um limite de atualização</span><span class="sxs-lookup"><span data-stu-id="05652-191">hello new application serves as an upgrade boundary</span></span>
    * <span data-ttu-id="05652-192">Dentro do Service Fabric, instâncias de aplicativo nomeadas diferentes servem como limites de atualização.</span><span class="sxs-lookup"><span data-stu-id="05652-192">Within Service Fabric, different named application instances serve as boundaries for upgrade.</span></span> <span data-ttu-id="05652-193">Uma atualização de uma instância nomeada do aplicativo não terá impacto sobre código Olá outra instância de aplicativo nomeada em execução.</span><span class="sxs-lookup"><span data-stu-id="05652-193">An upgrade of one named application instance will not impact hello code that another named application instance is running.</span></span> <span data-ttu-id="05652-194">Olá diferentes aplicativos terminarão executando versões diferentes do mesmo código de saudação em Olá mesmos nós.</span><span class="sxs-lookup"><span data-stu-id="05652-194">hello different applications will end up running different versions of hello same code on hello same nodes.</span></span> <span data-ttu-id="05652-195">Isso pode ser um fator quando precisar toomake uma decisão de escala, porque você pode escolher que se o novo código de saudação deve seguir Olá mesmo atualiza como outro serviço ou não.</span><span class="sxs-lookup"><span data-stu-id="05652-195">This can be a factor when you need toomake a scaling decision because you can choose whether hello new code should follow hello same upgrades as another service or not.</span></span> <span data-ttu-id="05652-196">Por exemplo, digamos que uma chamada chega ao serviço de Gerenciador de saudação que é responsável por dimensionar cargas de trabalho de um determinado cliente, criando e excluindo serviços dinamicamente.</span><span class="sxs-lookup"><span data-stu-id="05652-196">For example, say that a call arrives at hello manager service that is responsible for scaling a particular customer's workloads by creating and deleting services dynamically.</span></span> <span data-ttu-id="05652-197">Nesse caso, no entanto, chamada hello é para uma carga de trabalho associada com um _novo_ ao cliente.</span><span class="sxs-lookup"><span data-stu-id="05652-197">In this case however, hello call is for a workload associated with a _new_ customer.</span></span> <span data-ttu-id="05652-198">A maioria dos clientes como sendo isolados uns dos outros não apenas por motivos de segurança e configuração de saudação listados anteriormente, mas porque ele oferece mais flexibilidade em termos de executando versões específicas do software hello e escolhendo quando eles atualizado.</span><span class="sxs-lookup"><span data-stu-id="05652-198">Most customers like being isolated from each other not just for hello security and configuration reasons listed previously, but because it provides more flexibility in terms of running specific versions of hello software and choosing when they get upgraded.</span></span> <span data-ttu-id="05652-199">Você também pode criar uma nova instância de aplicativo e criar serviço Olá existe simplesmente toofurther partição Olá quantidade de seus serviços de qualquer uma atualização afeta.</span><span class="sxs-lookup"><span data-stu-id="05652-199">You may also create a new application instance and create hello service there simply toofurther partition hello amount of your services that any one upgrade will touch.</span></span> <span data-ttu-id="05652-200">Instâncias de aplicativo separadas proporcionam maior granularidade ao fazer atualizações de aplicativo e também habilitam testes A/B e implantações de verde/azul.</span><span class="sxs-lookup"><span data-stu-id="05652-200">Separate application instances provide greater granularity when doing application upgrades, and also enable A/B testing and Blue/Green deployments.</span></span> 
  * <span data-ttu-id="05652-201">instância de aplicativo existente Hello está cheio</span><span class="sxs-lookup"><span data-stu-id="05652-201">hello existing application instance is full</span></span>
    * <span data-ttu-id="05652-202">No Service Fabric [capacidade de aplicativo](service-fabric-cluster-resource-manager-application-groups.md) é um conceito que você pode usar a quantidade de saudação toocontrol de recursos disponíveis para instâncias de determinado aplicativo.</span><span class="sxs-lookup"><span data-stu-id="05652-202">In Service Fabric, [application capacity](service-fabric-cluster-resource-manager-application-groups.md) is a concept that you can use toocontrol hello amount of resources available for particular application instances.</span></span> <span data-ttu-id="05652-203">Por exemplo, você pode decidir que um determinado serviço precisa toohave outra instância criada na ordem tooscale.</span><span class="sxs-lookup"><span data-stu-id="05652-203">For example, you may decide that a given service needs toohave another instance created in order tooscale.</span></span> <span data-ttu-id="05652-204">No entanto, essa instância de aplicativo está sem capacidade para uma determinada métrica.</span><span class="sxs-lookup"><span data-stu-id="05652-204">However, this application instance is out of capacity for a certain metric.</span></span> <span data-ttu-id="05652-205">Se este cliente específico ou a carga de trabalho deve ainda receber mais recursos, em seguida, você pode aumentar capacidade de saudação existente para o aplicativo ou criar um novo aplicativo.</span><span class="sxs-lookup"><span data-stu-id="05652-205">If this particular customer or workload should still be granted more resources, then you could either increase hello existing capacity for that application or create a new application.</span></span> 

## <a name="scaling-at-hello-partition-level"></a><span data-ttu-id="05652-206">Dimensionamento no nível da partição Olá</span><span class="sxs-lookup"><span data-stu-id="05652-206">Scaling at hello partition level</span></span>
<span data-ttu-id="05652-207">O Service Fabric permite o particionamento.</span><span class="sxs-lookup"><span data-stu-id="05652-207">Service Fabric supports partitioning.</span></span> <span data-ttu-id="05652-208">O particionamento divide um serviço em várias seções lógicas e físicas, e cada uma delas funciona de forma independente.</span><span class="sxs-lookup"><span data-stu-id="05652-208">Partitioning splits a service into several logical and physical sections, each of which operates independently.</span></span> <span data-ttu-id="05652-209">Isso é útil com os serviços com monitoração de estado, pois nenhum conjunto de réplicas tem toohandle todas as chamadas de saudação e manipular todos os estados de saudação ao mesmo tempo.</span><span class="sxs-lookup"><span data-stu-id="05652-209">This is useful with stateful services, since no one set of replicas has toohandle all hello calls and manipulate all of hello state at once.</span></span> <span data-ttu-id="05652-210">Olá [visão geral de particionamento](service-fabric-concepts-partitioning.md) fornece informações sobre tipos de saudação dos esquemas de particionamentos que têm suporte.</span><span class="sxs-lookup"><span data-stu-id="05652-210">hello [partitioning overview](service-fabric-concepts-partitioning.md) provides information on hello types of partitioning schemes that are supported.</span></span> <span data-ttu-id="05652-211">réplicas de saudação de cada partição são disseminadas por nós de saudação em um cluster, distribuindo a carga do serviço e garantindo que nenhum serviço hello como um todo ou qualquer partição tem um ponto único de falha.</span><span class="sxs-lookup"><span data-stu-id="05652-211">hello replicas of each partition are spread across hello nodes in a cluster, distributing that service's load and ensuring that neither hello service as a whole or any partition has a single point of failure.</span></span> 

<span data-ttu-id="05652-212">Considere um serviço que usa um esquema de particionamento de intervalo com uma chave baixa de 0, uma chave alta de 99 e uma contagem de partições de 4.</span><span class="sxs-lookup"><span data-stu-id="05652-212">Consider a service that uses a ranged partitioning scheme with a low key of 0, a high key of 99, and a partition count of 4.</span></span> <span data-ttu-id="05652-213">Em um cluster de três nós, o serviço Olá pode ser disposto com quatro réplicas que compartilham recursos de saudação em cada nó, conforme mostrado aqui:</span><span class="sxs-lookup"><span data-stu-id="05652-213">In a three-node cluster, hello service might be laid out with four replicas that share hello resources on each node as shown here:</span></span>

<span data-ttu-id="05652-214"><center>
![Layout de partição com três nós](./media/service-fabric-concepts-scalability/layout-three-nodes.png)
</center></span><span class="sxs-lookup"><span data-stu-id="05652-214"><center>
![Partition layout with three nodes](./media/service-fabric-concepts-scalability/layout-three-nodes.png)
</center></span></span>

<span data-ttu-id="05652-215">Se você aumentar o número de saudação de nós, Service Fabric moverá algumas das réplicas existentes Olá existe.</span><span class="sxs-lookup"><span data-stu-id="05652-215">If you increase hello number of nodes, Service Fabric will move some of hello existing replicas there.</span></span> <span data-ttu-id="05652-216">Por exemplo, digamos que toofour aumenta o número Olá de nós e réplicas Olá redistribuídas.</span><span class="sxs-lookup"><span data-stu-id="05652-216">For example, let's say hello number of nodes increases toofour and hello replicas get redistributed.</span></span> <span data-ttu-id="05652-217">Agora que o serviço de saudação agora tem três réplicas em execução em cada nó, cada que pertencem a partições toodifferent.</span><span class="sxs-lookup"><span data-stu-id="05652-217">Now hello service now has three replicas running on each node, each belonging toodifferent partitions.</span></span> <span data-ttu-id="05652-218">Isso permite melhor utilização de recursos desde que o novo nó de saudação não está frio.</span><span class="sxs-lookup"><span data-stu-id="05652-218">This allows better resource utilization since hello new node isn't cold.</span></span> <span data-ttu-id="05652-219">Normalmente, ele também melhora o desempenho porque cada serviço tem mais tooit disponíveis de recursos.</span><span class="sxs-lookup"><span data-stu-id="05652-219">Typically, it also improves performance as each service has more resources available tooit.</span></span>

<span data-ttu-id="05652-220"><center>
![Layout de partição com quatro nós](./media/service-fabric-concepts-scalability/layout-four-nodes.png)
</center></span><span class="sxs-lookup"><span data-stu-id="05652-220"><center>
![Partition layout with four nodes](./media/service-fabric-concepts-scalability/layout-four-nodes.png)
</center></span></span>

## <a name="scaling-by-using-hello-service-fabric-cluster-resource-manager-and-metrics"></a><span data-ttu-id="05652-221">Dimensionamento usando hello Gerenciador de recursos de Cluster do serviço de malha e métricas</span><span class="sxs-lookup"><span data-stu-id="05652-221">Scaling by using hello Service Fabric Cluster Resource Manager and metrics</span></span>
<span data-ttu-id="05652-222">[Métricas](service-fabric-cluster-resource-manager-metrics.md) são como serviços express seu consumo de recursos tooService malha.</span><span class="sxs-lookup"><span data-stu-id="05652-222">[Metrics](service-fabric-cluster-resource-manager-metrics.md) are how services express their resource consumption tooService Fabric.</span></span> <span data-ttu-id="05652-223">Uso de métricas fornece Olá Gerenciador de recursos de Cluster tooreorganize uma oportunidade e otimizar o layout de saudação do cluster hello.</span><span class="sxs-lookup"><span data-stu-id="05652-223">Using metrics gives hello Cluster Resource Manager an opportunity tooreorganize and optimize hello layout of hello cluster.</span></span> <span data-ttu-id="05652-224">Por exemplo, pode haver muitos recursos em cluster hello, mas eles não podem ser alocados toohello serviços que estão atualmente fazendo o trabalho.</span><span class="sxs-lookup"><span data-stu-id="05652-224">For example, there may be plenty of resources in hello cluster, but they might not be allocated toohello services that are currently doing work.</span></span> <span data-ttu-id="05652-225">Uso de métricas permite Olá tooreorganize do Gerenciador de recursos de Cluster Olá cluster tooensure serviços têm acesso toohello os recursos disponíveis.</span><span class="sxs-lookup"><span data-stu-id="05652-225">Using metrics allows hello Cluster Resource Manager tooreorganize hello cluster tooensure that services have access toohello available resources.</span></span> 


## <a name="scaling-by-adding-and-removing-nodes-from-hello-cluster"></a><span data-ttu-id="05652-226">Dimensionamento adicionando e removendo nós do cluster Olá</span><span class="sxs-lookup"><span data-stu-id="05652-226">Scaling by adding and removing nodes from hello cluster</span></span> 
<span data-ttu-id="05652-227">Outra opção para dimensionar com o Service Fabric é toochange tamanho de saudação do cluster hello.</span><span class="sxs-lookup"><span data-stu-id="05652-227">Another option for scaling with Service Fabric is toochange hello size of hello cluster.</span></span> <span data-ttu-id="05652-228">Alterando o tamanho de saudação do cluster Olá significa adicionar ou remover nós de um ou mais tipos de nós de saudação em cluster hello.</span><span class="sxs-lookup"><span data-stu-id="05652-228">Changing hello size of hello cluster means adding or removing nodes for one or more of hello node types in hello cluster.</span></span> <span data-ttu-id="05652-229">Por exemplo, considere um caso onde todos os nós de saudação em cluster Olá são dinâmicos.</span><span class="sxs-lookup"><span data-stu-id="05652-229">For example, consider a case where all of hello nodes in hello cluster are hot.</span></span> <span data-ttu-id="05652-230">Isso significa que os recursos do cluster Olá quase todo consumida.</span><span class="sxs-lookup"><span data-stu-id="05652-230">This means that hello cluster's resources are almost all consumed.</span></span> <span data-ttu-id="05652-231">Nesse caso, o cluster adicionando mais toohello de nós é Olá melhor maneira tooscale.</span><span class="sxs-lookup"><span data-stu-id="05652-231">In this case, adding more nodes toohello cluster is hello best way tooscale.</span></span> <span data-ttu-id="05652-232">Depois de ingressar em novos nós de Olá Olá Olá de cluster o Gerenciador de recursos de Cluster do serviço de malha move toothem de serviços, resultando em carga total menor em nós existentes Olá.</span><span class="sxs-lookup"><span data-stu-id="05652-232">Once hello new nodes join hello cluster hello Service Fabric Cluster Resource Manager moves services toothem, resulting in less total load on hello existing nodes.</span></span> <span data-ttu-id="05652-233">Para serviços sem estado com contagem de instâncias = -1, mais instâncias de serviço são criadas automaticamente.</span><span class="sxs-lookup"><span data-stu-id="05652-233">For stateless services with instance count = -1, more service instances are automatically created.</span></span> <span data-ttu-id="05652-234">Isso permite que alguns toomove chamadas de saudação nós toohello novos nós de existentes.</span><span class="sxs-lookup"><span data-stu-id="05652-234">This allows some calls toomove from hello existing nodes toohello new nodes.</span></span> 

<span data-ttu-id="05652-235">Adicionando e removendo nós toohello cluster pode ser feito por meio do módulo de serviço malha do Azure Resource Manager PowerShell hello.</span><span class="sxs-lookup"><span data-stu-id="05652-235">Adding and removing nodes toohello cluster can be accomplished via hello Service Fabric Azure Resource Manager PowerShell module.</span></span>

```posh
Add-AzureRmServiceFabricNode -ResourceGroupName $resourceGroupName -Name $clusterResourceName -NodeType $nodeTypeName  -NumberOfNodesToAdd 5 
Remove-AzureRmServiceFabricNode -ResourceGroupName $resourceGroupName -Name $clusterResourceName -NodeType $nodeTypeName -NumberOfNodesToRemove 5
```

## <a name="putting-it-all-together"></a><span data-ttu-id="05652-236">Juntando as peças</span><span class="sxs-lookup"><span data-stu-id="05652-236">Putting it all together</span></span>
<span data-ttu-id="05652-237">Vamos todas as ideias de saudação que discutimos aqui e se comunicar por meio de um exemplo.</span><span class="sxs-lookup"><span data-stu-id="05652-237">Let's take all hello ideas that we've discussed here and talk through an example.</span></span> <span data-ttu-id="05652-238">Considere Olá serviço a seguir: toobuild um serviço que atua como um catálogo de endereços está tentando manter em toonames e informações de contato.</span><span class="sxs-lookup"><span data-stu-id="05652-238">Consider hello following service: you are trying toobuild a service that acts as an address book, holding on toonames and contact information.</span></span> 

<span data-ttu-id="05652-239">À direita com antecedência você tem um monte de tooscale de perguntas relacionadas: quantos usuários está você vai toohave?</span><span class="sxs-lookup"><span data-stu-id="05652-239">Right up front you have a bunch of questions related tooscale: How many users are you going toohave?</span></span> <span data-ttu-id="05652-240">Quantos contatos cada usuário armazenará?</span><span class="sxs-lookup"><span data-stu-id="05652-240">How many contacts will each user store?</span></span> <span data-ttu-id="05652-241">Quando você estiver aguardando seu serviço para hello primeira vez que é difícil tentar toofigure isso tudo.</span><span class="sxs-lookup"><span data-stu-id="05652-241">Trying toofigure this all out when you are standing up your service for hello first time is difficult.</span></span> <span data-ttu-id="05652-242">Digamos que você fosse toogo com um único serviço estático com uma contagem de partição específica.</span><span class="sxs-lookup"><span data-stu-id="05652-242">Let's say you were going toogo with a single static service with a specific partition count.</span></span> <span data-ttu-id="05652-243">consequências de saudação de separação Olá incorreto de contagem de partições pode causar problemas de escala toohave mais tarde.</span><span class="sxs-lookup"><span data-stu-id="05652-243">hello consequences of picking hello wrong partition count could cause you toohave scale issues later.</span></span> <span data-ttu-id="05652-244">Da mesma forma, mesmo que você escolher contagem direita hello, que talvez você não tenha todas as informações de saudação é necessário.</span><span class="sxs-lookup"><span data-stu-id="05652-244">Similarly, even if you pick hello right count you might not have all hello information you need.</span></span> <span data-ttu-id="05652-245">Por exemplo, também tiver toodecide tamanho de saudação do cluster de saudação com antecedência, em termos de número de saudação de nós e seus tamanhos.</span><span class="sxs-lookup"><span data-stu-id="05652-245">For example, you also have toodecide hello size of hello cluster up front, both in terms of hello number of nodes and their sizes.</span></span> <span data-ttu-id="05652-246">É geralmente rígido toopredict quantos recursos de um serviço será tooconsume durante sua vida útil.</span><span class="sxs-lookup"><span data-stu-id="05652-246">It's usually hard toopredict how many resources a service is going tooconsume over its lifetime.</span></span> <span data-ttu-id="05652-247">Ele também pode ser tooknow rígido à frente do padrão de tráfego do hello tempo serviço Olá realmente vê.</span><span class="sxs-lookup"><span data-stu-id="05652-247">It can also be hard tooknow ahead of time hello traffic pattern that hello service actually sees.</span></span> <span data-ttu-id="05652-248">Por exemplo, pessoas talvez adicionar e remover seus contatos somente primeira coisa manhã hello, ou talvez ele é distribuído uniformemente longo de saudação do dia de saudação.</span><span class="sxs-lookup"><span data-stu-id="05652-248">For example, maybe people add and remove their contacts only first thing in hello morning, or maybe it's distributed evenly over hello course of hello day.</span></span> <span data-ttu-id="05652-249">Com base em isso que talvez seja necessário tooscale sair e entrar dinamicamente.</span><span class="sxs-lookup"><span data-stu-id="05652-249">Based on this you might need tooscale out and in dynamically.</span></span> <span data-ttu-id="05652-250">Talvez você pode aprender toopredict quando você vai tooneed tooscale sair e entrar, mas de qualquer forma provavelmente ficará toochanging tooneed tooreact o consumo de recursos por seu serviço.</span><span class="sxs-lookup"><span data-stu-id="05652-250">Maybe you can learn toopredict when you're going tooneed tooscale out and in, but either way you're probably going tooneed tooreact toochanging resource consumption by your service.</span></span> <span data-ttu-id="05652-251">Isso pode envolver alterando o tamanho de saudação do cluster de saudação em ordem tooprovide mais recursos ao uso dos recursos existentes a reorganização não é suficiente.</span><span class="sxs-lookup"><span data-stu-id="05652-251">This can involve changing hello size of hello cluster in order tooprovide more resources when reorganizing use of existing resources isn't enough.</span></span> 

<span data-ttu-id="05652-252">Mas por que mesmo tente toopick um esquema de partição única saída para todos os usuários?</span><span class="sxs-lookup"><span data-stu-id="05652-252">But why even try toopick a single partition scheme out for all users?</span></span> <span data-ttu-id="05652-253">Por que limite tooone serviço e um cluster estático? situação real Olá é geralmente mais dinâmica.</span><span class="sxs-lookup"><span data-stu-id="05652-253">Why limit yourself tooone service and one static cluster? hello real situation is usually more dynamic.</span></span> 

<span data-ttu-id="05652-254">Ao compilar para escala, considere a possibilidade de saudação padrão dinâmico a seguir.</span><span class="sxs-lookup"><span data-stu-id="05652-254">When building for scale, consider hello following dynamic pattern.</span></span> <span data-ttu-id="05652-255">Talvez seja necessário tooadapt-tooyour situação:</span><span class="sxs-lookup"><span data-stu-id="05652-255">You may need tooadapt it tooyour situation:</span></span>

1. <span data-ttu-id="05652-256">Em vez de tentar toopick um esquema de particionamento para qualquer pessoa no futuro, crie um serviço"manager".</span><span class="sxs-lookup"><span data-stu-id="05652-256">Instead of trying toopick a partitioning scheme for everyone up front, build a "manager service".</span></span>
2. <span data-ttu-id="05652-257">trabalho de saudação do serviço de Gerenciador de saudação é toolook as informações do cliente ao se inscreverem para seu serviço.</span><span class="sxs-lookup"><span data-stu-id="05652-257">hello job of hello manager service is toolook at customer information when they sign up for your service.</span></span> <span data-ttu-id="05652-258">Dependendo de informações serviço de Gerenciador de saudação criar uma instância do seu _real_ serviço de armazenamento de contato _apenas para esse cliente_.</span><span class="sxs-lookup"><span data-stu-id="05652-258">Then depending on that information hello manager service create an instance of your _actual_ contact-storage service _just for that customer_.</span></span> <span data-ttu-id="05652-259">Se eles exigem configuração específica, isolamento ou atualizações, você também pode decidir toospin uma instância de aplicativo para este cliente.</span><span class="sxs-lookup"><span data-stu-id="05652-259">If they require particular configuration, isolation, or upgrades, you can also decide toospin up an Application instance for this customer.</span></span> 

<span data-ttu-id="05652-260">Esse padrão de criação dinâmica traz muitos benefícios:</span><span class="sxs-lookup"><span data-stu-id="05652-260">This dynamic creation pattern many benefits:</span></span>

  - <span data-ttu-id="05652-261">Você não está tentando a contagem de partição correta de saudação tooguess para todos os usuários com antecedência ou criar um único serviço que é infinitamente escalonável em seu próprio.</span><span class="sxs-lookup"><span data-stu-id="05652-261">You're not trying tooguess hello correct partition count for all users up front or build a single service that is infinitely scalable all on its own.</span></span> 
  - <span data-ttu-id="05652-262">Diferentes usuários não têm Olá toohave mesma partição contagem, contagem de réplica, restrições de posicionamento, métricas, carrega padrão, nomes de serviço, configurações de dns ou qualquer Olá outras propriedades especificadas no serviço de saudação ou nível de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="05652-262">Different users don't have toohave hello same partition count, replica count, placement constraints, metrics, default loads, service names, dns settings, or any of hello other properties specified at hello service or application level.</span></span> 
  - <span data-ttu-id="05652-263">Você obtém uma maior segmentação de dados.</span><span class="sxs-lookup"><span data-stu-id="05652-263">You gain additional data segmentation.</span></span> <span data-ttu-id="05652-264">Cada cliente tem sua própria cópia do serviço de saudação</span><span class="sxs-lookup"><span data-stu-id="05652-264">Each customer has their own copy of hello service</span></span>
    - <span data-ttu-id="05652-265">Cada serviço de cliente pode ser configurado de forma diferente e pode ter mais ou menos recursos, com mais ou menos partições ou réplicas, conforme a necessidade baseada na escala esperada.</span><span class="sxs-lookup"><span data-stu-id="05652-265">Each customer service can be configured differently and granted more or fewer resources, with more or fewer partitions or replicas as necessary based on their expected scale.</span></span>
      - <span data-ttu-id="05652-266">Por exemplo, digamos que Prezado cliente paga camada "Ouro" hello - poderem mais réplicas ou contagem de partição maior e potencialmente recursos dedicados tootheir serviços por meio de capacidades de métricas e aplicativo.</span><span class="sxs-lookup"><span data-stu-id="05652-266">For example, say hello customer paid for hello "Gold" tier - they could get more replicas or greater partition count, and potentially resources dedicated tootheir services via metrics and application capacities.</span></span>
      - <span data-ttu-id="05652-267">Ou eles fornecido informações indicando o número de saudação de contatos precisavam foram "Pequeno" – eles obtém somente algumas partições, ou ainda podem ser inseridos em um pool de serviços compartilhados com outros clientes.</span><span class="sxs-lookup"><span data-stu-id="05652-267">Or say they provided information indicating hello number of contacts they needed was "Small" - they would get only a few partitions, or could even be put into a shared service pool with other customers.</span></span>
  - <span data-ttu-id="05652-268">Você não estiver executando várias instâncias de serviço ou réplicas enquanto você aguarda para clientes tooshow backup</span><span class="sxs-lookup"><span data-stu-id="05652-268">You're not running a bunch of service instances or replicas while you're waiting for customers tooshow up</span></span>
  - <span data-ttu-id="05652-269">Se um cliente nunca deixa, remova as informações de seu serviço é tão simple quanto com o Gerenciador de saudação excluir esse serviço ou aplicativo que ele criou.</span><span class="sxs-lookup"><span data-stu-id="05652-269">If a customer ever leaves, then removing their information from your service is as simple as having hello manager delete that service or application that it created.</span></span>

## <a name="next-steps"></a><span data-ttu-id="05652-270">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="05652-270">Next steps</span></span>
<span data-ttu-id="05652-271">Para obter mais informações sobre os conceitos de malha do serviço, consulte Olá artigos a seguir:</span><span class="sxs-lookup"><span data-stu-id="05652-271">For more information on Service Fabric concepts, see hello following articles:</span></span>

* [<span data-ttu-id="05652-272">Disponibilidade dos serviços de malha do serviço</span><span class="sxs-lookup"><span data-stu-id="05652-272">Availability of Service Fabric services</span></span>](service-fabric-availability-services.md)
* [<span data-ttu-id="05652-273">Particionando serviços da Malha do Serviço</span><span class="sxs-lookup"><span data-stu-id="05652-273">Partitioning Service Fabric services</span></span>](service-fabric-concepts-partitioning.md)
