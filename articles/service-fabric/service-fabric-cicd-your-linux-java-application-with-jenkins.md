---
title: "Compilação contínua e integração para o aplicativo Java Linux do Azure Service Fabric usando o Jenkins | Microsoft Docs"
description: "Compilação contínua e integração para o aplicativo Java Linux do Azure Service Fabric usando o Jenkins"
services: service-fabric
documentationcenter: java
author: sayantancs
manager: timlt
editor: 
ms.assetid: 02b51f11-5d78-4c54-bb68-8e128677783e
ms.service: service-fabric
ms.devlang: java
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/23/2017
ms.author: saysa
ms.openlocfilehash: d9372407540d903acca5b1639a2d9ceb0bf3c571
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/29/2017
---
# <a name="use-jenkins-to-build-and-deploy-your-linux-java-application"></a><span data-ttu-id="1ca70-103">Use o Jenkins para criar e implantar o aplicativo Java do Linux</span><span class="sxs-lookup"><span data-stu-id="1ca70-103">Use Jenkins to build and deploy your Linux Java application</span></span>
<span data-ttu-id="1ca70-104">Jenkins é uma ferramenta popular para implantação e integração contínua de seus aplicativos.</span><span class="sxs-lookup"><span data-stu-id="1ca70-104">Jenkins is a popular tool for continuous integration and deployment of your apps.</span></span> <span data-ttu-id="1ca70-105">Veja como criar e implantar o aplicativo do Service Fabric do Azure usando o Jenkins.</span><span class="sxs-lookup"><span data-stu-id="1ca70-105">Here's how to build and deploy your Azure Service Fabric application by using Jenkins.</span></span>

## <a name="general-prerequisites"></a><span data-ttu-id="1ca70-106">Pré-requisitos gerais</span><span class="sxs-lookup"><span data-stu-id="1ca70-106">General prerequisites</span></span>
- <span data-ttu-id="1ca70-107">Ter o Git instalado localmente.</span><span class="sxs-lookup"><span data-stu-id="1ca70-107">Have Git installed locally.</span></span> <span data-ttu-id="1ca70-108">Você pode instalar a versão apropriada do Git da [página de downloads do Git](https://git-scm.com/downloads), com base no seu sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="1ca70-108">You can install the appropriate Git version from [the Git downloads page](https://git-scm.com/downloads), based on your operating system.</span></span> <span data-ttu-id="1ca70-109">Se for novo no Git, saiba mais sobre ele na [documentação do Git](https://git-scm.com/docs).</span><span class="sxs-lookup"><span data-stu-id="1ca70-109">If you are new to Git, learn more about it from the [Git documentation](https://git-scm.com/docs).</span></span>
- <span data-ttu-id="1ca70-110">Ter o plug-in Jenkins do Service Fabric à mão.</span><span class="sxs-lookup"><span data-stu-id="1ca70-110">Have the Service Fabric Jenkins plug-in handy.</span></span> <span data-ttu-id="1ca70-111">Você pode baixá-lo de [Downloads do Service Fabric](https://servicefabricdownloads.blob.core.windows.net/jenkins/serviceFabric.hpi).</span><span class="sxs-lookup"><span data-stu-id="1ca70-111">You can download it from [Service Fabric downloads](https://servicefabricdownloads.blob.core.windows.net/jenkins/serviceFabric.hpi).</span></span>

## <a name="set-up-jenkins-inside-a-service-fabric-cluster"></a><span data-ttu-id="1ca70-112">Configurar o Jenkins em um cluster do Service Fabric</span><span class="sxs-lookup"><span data-stu-id="1ca70-112">Set up Jenkins inside a Service Fabric cluster</span></span>

<span data-ttu-id="1ca70-113">Você pode configurar o Jenkins dentro ou fora de um cluster do Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="1ca70-113">You can set up Jenkins either inside or outside a Service Fabric cluster.</span></span> <span data-ttu-id="1ca70-114">As próximas seções mostram como configurá-lo em um cluster usando uma conta de armazenamento do Azure para salvar o estado da instância do contêiner.</span><span class="sxs-lookup"><span data-stu-id="1ca70-114">The following sections show how to set it up inside a cluster while using an Azure storage account to save the state of the container instance.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="1ca70-115">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="1ca70-115">Prerequisites</span></span>
1. <span data-ttu-id="1ca70-116">Ter um cluster Linux do Service Fabric pronto.</span><span class="sxs-lookup"><span data-stu-id="1ca70-116">Have a Service Fabric Linux cluster ready.</span></span> <span data-ttu-id="1ca70-117">Um cluster do Service Fabric criado no portal do Azure já tem o Docker instalado.</span><span class="sxs-lookup"><span data-stu-id="1ca70-117">A Service Fabric cluster created from the Azure portal already has Docker installed.</span></span> <span data-ttu-id="1ca70-118">Se estiver realizando a execução localmente no cluster, verifique se o Docker está instalado usando o comando ``docker info``.</span><span class="sxs-lookup"><span data-stu-id="1ca70-118">If you are running the cluster locally, check if Docker is installed by using the command ``docker info``.</span></span> <span data-ttu-id="1ca70-119">Se não estiver instalado, instale-o adequadamente usando os seguintes comandos:</span><span class="sxs-lookup"><span data-stu-id="1ca70-119">If it is not installed, install it accordingly by using the following commands:</span></span>

  ```sh
  sudo apt-get install wget
  wget -qO- https://get.docker.io/ | sh
  ```
2. <span data-ttu-id="1ca70-120">Ter o aplicativo de contêiner do Service Fabric implantado no cluster, usando as seguintes etapas:</span><span class="sxs-lookup"><span data-stu-id="1ca70-120">Have the Service Fabric container application deployed on the cluster, by using the following steps:</span></span>

  ```sh
git clone https://github.com/Azure-Samples/service-fabric-java-getting-started.git
cd service-fabric-java-getting-started/Services/JenkinsDocker/
```

3. <span data-ttu-id="1ca70-121">Você precisa dos detalhes da opção de conexão do compartilhamento de arquivos do armazenamento do Azure no qual deseja persistir o estado da instância do contêiner Jenkins.</span><span class="sxs-lookup"><span data-stu-id="1ca70-121">You need the connect option details of the Azure storage file-share, where you want to persist the state of the Jenkins container instance.</span></span> <span data-ttu-id="1ca70-122">Se estiver usando o portal do Microsoft Azure para o mesmo, siga as etapas – Criar uma conta de armazenamento do Azure, digamos, ``sfjenkinsstorage1``.</span><span class="sxs-lookup"><span data-stu-id="1ca70-122">If you are using the Microsoft Azure portal for the same, please follow the steps - Create an Azure storage account, say ``sfjenkinsstorage1``.</span></span> <span data-ttu-id="1ca70-123">Crie um **Compartilhamento de Arquivos** nessa conta de armazenamento, digamos, ``sfjenkins``.</span><span class="sxs-lookup"><span data-stu-id="1ca70-123">Create a **File Share** under that storage account, say ``sfjenkins``.</span></span> <span data-ttu-id="1ca70-124">Clique em **Conectar** no compartilhamento de arquivos e observe os valores exibidos em **Conectando por meio do Linux**. Digamos que isso seja parecido com o seguinte:</span><span class="sxs-lookup"><span data-stu-id="1ca70-124">Click on **Connect** for the file-share and note the values it displays under **Connecting from Linux**, say this would look like as follows -</span></span>
```sh
sudo mount -t cifs //sfjenkinsstorage1.file.core.windows.net/sfjenkins [mount point] -o vers=3.0,username=sfjenkinsstorage1,password=<storage_key>,dir_mode=0777,file_mode=0777
```

4. <span data-ttu-id="1ca70-125">Atualize os valores de espaço reservado no script ```setupentrypoint.sh``` com os detalhes correspondentes do armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="1ca70-125">Update the placeholder values in the ```setupentrypoint.sh``` script with corresponding azure-storage details.</span></span>
```sh
vi JenkinsSF/JenkinsOnSF/Code/setupentrypoint.sh
```
<span data-ttu-id="1ca70-126">Substitua ``[REMOTE_FILE_SHARE_LOCATION]`` pelo valor ``//sfjenkinsstorage1.file.core.windows.net/sfjenkins`` do resultado da conexão no ponto 3 acima.</span><span class="sxs-lookup"><span data-stu-id="1ca70-126">Replace ``[REMOTE_FILE_SHARE_LOCATION]`` with the value ``//sfjenkinsstorage1.file.core.windows.net/sfjenkins`` from the output of the connect in point 3 above.</span></span>
<span data-ttu-id="1ca70-127">Substitua ``[FILE_SHARE_CONNECT_OPTIONS_STRING]`` pelo valor ``vers=3.0,username=sfjenkinsstorage1,password=GB2NPUCQY9LDGeG9Bci5dJV91T6SrA7OxrYBUsFHyueR62viMrC6NIzyQLCKNz0o7pepGfGY+vTa9gxzEtfZHw==,dir_mode=0777,file_mode=0777`` no ponto 3 acima.</span><span class="sxs-lookup"><span data-stu-id="1ca70-127">Replace ``[FILE_SHARE_CONNECT_OPTIONS_STRING]`` with the value ``vers=3.0,username=sfjenkinsstorage1,password=GB2NPUCQY9LDGeG9Bci5dJV91T6SrA7OxrYBUsFHyueR62viMrC6NIzyQLCKNz0o7pepGfGY+vTa9gxzEtfZHw==,dir_mode=0777,file_mode=0777`` from point 3 above.</span></span>

5. <span data-ttu-id="1ca70-128">Conecte-se ao cluster e instale o aplicativo contêiner.</span><span class="sxs-lookup"><span data-stu-id="1ca70-128">Connect to the cluster and install the container application.</span></span>
```azurecli
sfctl cluster select --endpoint http://PublicIPorFQDN:19080   # cluster connect command
bash Scripts/install.sh
```
<span data-ttu-id="1ca70-129">Isso instala um contêiner Jenkins no cluster e pode ser monitorado usando o Service Fabric Explorer.</span><span class="sxs-lookup"><span data-stu-id="1ca70-129">This installs a Jenkins container on the cluster, and can be monitored by using the Service Fabric Explorer.</span></span>

### <a name="steps"></a><span data-ttu-id="1ca70-130">Etapas</span><span class="sxs-lookup"><span data-stu-id="1ca70-130">Steps</span></span>
1. <span data-ttu-id="1ca70-131">No navegador, acesse ``http://PublicIPorFQDN:8081``.</span><span class="sxs-lookup"><span data-stu-id="1ca70-131">From your browser, go to ``http://PublicIPorFQDN:8081``.</span></span> <span data-ttu-id="1ca70-132">Ela fornece o caminho da senha de administrador inicial necessária para entrar.</span><span class="sxs-lookup"><span data-stu-id="1ca70-132">It provides the path of the initial admin password required to sign in.</span></span> <span data-ttu-id="1ca70-133">Você pode continuar a usar o Jenkins como um usuário administrativo.</span><span class="sxs-lookup"><span data-stu-id="1ca70-133">You can continue to use Jenkins as an admin user.</span></span> <span data-ttu-id="1ca70-134">Ou você pode criar e alterar o usuário depois de entrar com a conta do administrador inicial.</span><span class="sxs-lookup"><span data-stu-id="1ca70-134">Or you can create and change the user, after you sign in with the initial admin account.</span></span>

   > [!NOTE]
   > <span data-ttu-id="1ca70-135">Verifique se a porta 8081 é especificada como a porta de ponto de extremidade do aplicativo durante a criação do cluster.</span><span class="sxs-lookup"><span data-stu-id="1ca70-135">Ensure that the 8081 port is specified as the application endpoint port while you are creating the cluster.</span></span>
   >

2. <span data-ttu-id="1ca70-136">Obter a ID de instância do contêiner usando ``docker ps -a``.</span><span class="sxs-lookup"><span data-stu-id="1ca70-136">Get the container instance ID by using ``docker ps -a``.</span></span>
3. <span data-ttu-id="1ca70-137">Entre com SSH (Secure Shell) no contêiner e cole o caminho exibido no portal do Jenkins.</span><span class="sxs-lookup"><span data-stu-id="1ca70-137">Secure Shell (SSH) sign in to the container, and paste the path you were shown on the Jenkins portal.</span></span> <span data-ttu-id="1ca70-138">Por exemplo, se o portal mostrar o caminho `PATH_TO_INITIAL_ADMIN_PASSWORD`, execute o seguinte:</span><span class="sxs-lookup"><span data-stu-id="1ca70-138">For example, if in the portal it shows the path `PATH_TO_INITIAL_ADMIN_PASSWORD`, run the following:</span></span>

  ```sh
  docker exec -t -i [first-four-digits-of-container-ID] /bin/bash   # This takes you inside Docker shell
  cat PATH_TO_INITIAL_ADMIN_PASSWORD
  ```

4. <span data-ttu-id="1ca70-139">Configure o GitHub para trabalhar com o Jenkins, usando as etapas mencionadas em [Gerando uma nova chave SSH e adicionando-a ao agente SSH](https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/).</span><span class="sxs-lookup"><span data-stu-id="1ca70-139">Set up GitHub to work with Jenkins, by using the steps mentioned in [Generating a new SSH key and adding it to the SSH agent](https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/).</span></span>
    * <span data-ttu-id="1ca70-140">Usar as instruções fornecidas pelo GitHub para gerar uma chave SSH e adicionar a chave SSH à conta do GitHub que está hospedando o repositório.</span><span class="sxs-lookup"><span data-stu-id="1ca70-140">Use the instructions provided by GitHub to generate the SSH key, and to add the SSH key to the GitHub account that is hosting your repository.</span></span>
    * <span data-ttu-id="1ca70-141">Execute os comandos mencionados no link anterior no shell Jenkins Docker (e não no host).</span><span class="sxs-lookup"><span data-stu-id="1ca70-141">Run the commands mentioned in the preceding link in the Jenkins Docker shell (and not on your host).</span></span>
    * <span data-ttu-id="1ca70-142">Para entrar no shell Jenkins do host, use o seguinte comando:</span><span class="sxs-lookup"><span data-stu-id="1ca70-142">To sign in to the Jenkins shell from your host, use the following command:</span></span>

  ```sh
  docker exec -t -i [first-four-digits-of-container-ID] /bin/bash
  ```

## <a name="set-up-jenkins-outside-a-service-fabric-cluster"></a><span data-ttu-id="1ca70-143">Configurar o Jenkins fora de um cluster do Service Fabric</span><span class="sxs-lookup"><span data-stu-id="1ca70-143">Set up Jenkins outside a Service Fabric cluster</span></span>

<span data-ttu-id="1ca70-144">Você pode configurar o Jenkins dentro ou fora de um cluster do Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="1ca70-144">You can set up Jenkins either inside or outside of a Service Fabric cluster.</span></span> <span data-ttu-id="1ca70-145">As seções a seguir mostram como configurá-lo fora de um cluster.</span><span class="sxs-lookup"><span data-stu-id="1ca70-145">The following sections show how to set it up outside a cluster.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="1ca70-146">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="1ca70-146">Prerequisites</span></span>
<span data-ttu-id="1ca70-147">Você precisa ter o Docker instalado.</span><span class="sxs-lookup"><span data-stu-id="1ca70-147">You need to have Docker installed.</span></span> <span data-ttu-id="1ca70-148">Os comandos abaixo podem ser usados para instalar o Docker do terminal:</span><span class="sxs-lookup"><span data-stu-id="1ca70-148">The following commands can be used to install Docker from the terminal:</span></span>

  ```sh
  sudo apt-get install wget
  wget -qO- https://get.docker.io/ | sh
  ```

<span data-ttu-id="1ca70-149">Agora, ao executar ``docker info`` no terminal, você deve ver a saída executada pelo serviço Docker.</span><span class="sxs-lookup"><span data-stu-id="1ca70-149">Now when you run ``docker info`` in the terminal, you should see in the output that the Docker service is running.</span></span>

### <a name="steps"></a><span data-ttu-id="1ca70-150">Etapas</span><span class="sxs-lookup"><span data-stu-id="1ca70-150">Steps</span></span>
  1. <span data-ttu-id="1ca70-151">Baixar a imagem de contêiner Jenkins do Service Fabric:``docker pull raunakpandya/jenkins:v1``</span><span class="sxs-lookup"><span data-stu-id="1ca70-151">Pull the Service Fabric Jenkins container image: ``docker pull raunakpandya/jenkins:v1``</span></span>
  2. <span data-ttu-id="1ca70-152">Executar a imagem de contêiner:``docker run -itd -p 8080:8080 raunakpandya/jenkins:v1``</span><span class="sxs-lookup"><span data-stu-id="1ca70-152">Run the container image: ``docker run -itd -p 8080:8080 raunakpandya/jenkins:v1``</span></span>
  3. <span data-ttu-id="1ca70-153">Obter a ID de instância de imagem de contêiner.</span><span class="sxs-lookup"><span data-stu-id="1ca70-153">Get the ID of the container image instance.</span></span> <span data-ttu-id="1ca70-154">Você pode listar todos os contêineres do Docker com o comando ``docker ps –a``</span><span class="sxs-lookup"><span data-stu-id="1ca70-154">You can list all the Docker containers with the command ``docker ps –a``</span></span>
  4. <span data-ttu-id="1ca70-155">Entre no portal do Jenkins usando as seguintes etapas:</span><span class="sxs-lookup"><span data-stu-id="1ca70-155">Sign in to the Jenkins portal by using the following steps:</span></span>

    * ```sh
    docker exec [first-four-digits-of-container-ID] cat /var/jenkins_home/secrets/initialAdminPassword
    ```
    <span data-ttu-id="1ca70-156">Se a ID do contêiner for 2d24a73b5964, use 2d 24.</span><span class="sxs-lookup"><span data-stu-id="1ca70-156">If container ID is 2d24a73b5964, use 2d24.</span></span>
    * <span data-ttu-id="1ca70-157">Esta senha é necessária para entrar no painel do Jenkins do portal, que é ``http://<HOST-IP>:8080``</span><span class="sxs-lookup"><span data-stu-id="1ca70-157">This password is required for signing in to the Jenkins dashboard from portal, which is ``http://<HOST-IP>:8080``</span></span>
    * <span data-ttu-id="1ca70-158">Depois de entrar pela primeira vez, você pode criar a própria conta de usuário e usá-la futuramente ou pode continuar a usar a conta de administrador.</span><span class="sxs-lookup"><span data-stu-id="1ca70-158">After you sign in for the first time, you can create your own user account and use that for future purposes, or you can continue to use the administrator account.</span></span> <span data-ttu-id="1ca70-159">Após criar um usuário, você precisa continuar com ele.</span><span class="sxs-lookup"><span data-stu-id="1ca70-159">After you create a user, you need to continue with that.</span></span>
  5. <span data-ttu-id="1ca70-160">Configure o GitHub para trabalhar com o Jenkins, usando as etapas mencionadas em [Gerando uma nova chave SSH e adicionando-a ao agente SSH](https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/).</span><span class="sxs-lookup"><span data-stu-id="1ca70-160">Set up GitHub to work with Jenkins, by using the steps mentioned in [Generating a new SSH key and adding it to the SSH agent](https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/).</span></span>
        * <span data-ttu-id="1ca70-161">Usar as instruções fornecidas no GitHub para gerar uma chave SSH e adicionar a chave SSH à conta do GitHub que está hospedando o repositório.</span><span class="sxs-lookup"><span data-stu-id="1ca70-161">Use the instructions provided by GitHub to generate the SSH key, and to add the SSH key to the GitHub account that is hosting the repository.</span></span>
        * <span data-ttu-id="1ca70-162">Execute os comandos mencionados no link anterior no shell Jenkins Docker (e não no host).</span><span class="sxs-lookup"><span data-stu-id="1ca70-162">Run the commands mentioned in the preceding link in the Jenkins Docker shell (and not on your host).</span></span>
      * <span data-ttu-id="1ca70-163">Para fazer logon no shell Jenkins do host, use os seguintes comandos:</span><span class="sxs-lookup"><span data-stu-id="1ca70-163">To sign in to the Jenkins shell from your host, use the following commands:</span></span>

      ```sh
      docker exec -t -i [first-four-digits-of-container-ID] /bin/bash
      ```

<span data-ttu-id="1ca70-164">Verifique se o cluster ou a máquina em que a imagem de contêiner Jenkins está hospedada tem um IP público.</span><span class="sxs-lookup"><span data-stu-id="1ca70-164">Ensure that the cluster or machine where the Jenkins container image is hosted has a public-facing IP.</span></span> <span data-ttu-id="1ca70-165">Isso permite que a instância do Jenkins receba notificações do GitHub.</span><span class="sxs-lookup"><span data-stu-id="1ca70-165">This enables the Jenkins instance to receive notifications from GitHub.</span></span>

## <a name="install-the-service-fabric-jenkins-plug-in-from-the-portal"></a><span data-ttu-id="1ca70-166">Instalar o plug-in do Jenkins do Service Fabric por meio do portal</span><span class="sxs-lookup"><span data-stu-id="1ca70-166">Install the Service Fabric Jenkins plug-in from the portal</span></span>

1. <span data-ttu-id="1ca70-167">Acesse ``http://PublicIPorFQDN:8081``</span><span class="sxs-lookup"><span data-stu-id="1ca70-167">Go to ``http://PublicIPorFQDN:8081``</span></span>
2. <span data-ttu-id="1ca70-168">No painel do Jenkins, selecione **Gerenciar Jenkins** > **Gerenciar plug-ins** > **Avançado**.</span><span class="sxs-lookup"><span data-stu-id="1ca70-168">From the Jenkins dashboard, select **Manage Jenkins** > **Manage Plugins** > **Advanced**.</span></span>
<span data-ttu-id="1ca70-169">Aqui, você pode carregar um plug-in.</span><span class="sxs-lookup"><span data-stu-id="1ca70-169">Here, you can upload a plug-in.</span></span> <span data-ttu-id="1ca70-170">Selecione **Escolher arquivo** e selecione o arquivo **serviceFabric.hpi** que você baixou na etapa de pré-requisitos.</span><span class="sxs-lookup"><span data-stu-id="1ca70-170">Select **Choose file**, and then select the **serviceFabric.hpi** file, which you downloaded under prerequisites.</span></span> <span data-ttu-id="1ca70-171">Quando você seleciona **Carregar**, o Jenkins instala o plug-in automaticamente.</span><span class="sxs-lookup"><span data-stu-id="1ca70-171">When you select **Upload**, Jenkins automatically installs the plug-in.</span></span> <span data-ttu-id="1ca70-172">Se solicitado, permita a reinicialização.</span><span class="sxs-lookup"><span data-stu-id="1ca70-172">Allow a restart if requested.</span></span>

## <a name="create-and-configure-a-jenkins-job"></a><span data-ttu-id="1ca70-173">Criar e configurar um trabalho do Jenkins</span><span class="sxs-lookup"><span data-stu-id="1ca70-173">Create and configure a Jenkins job</span></span>

1. <span data-ttu-id="1ca70-174">Criar um **novo item** no painel.</span><span class="sxs-lookup"><span data-stu-id="1ca70-174">Create a **new item** from dashboard.</span></span>
2. <span data-ttu-id="1ca70-175">Insira um nome de item (por exemplo, **MyJob**).</span><span class="sxs-lookup"><span data-stu-id="1ca70-175">Enter an item name (for example, **MyJob**).</span></span> <span data-ttu-id="1ca70-176">Selecione **projeto em estilo livre**e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="1ca70-176">Select **free-style project**, and click **OK**.</span></span>
3. <span data-ttu-id="1ca70-177">Acesse a página do trabalho e clique em **Configurar**.</span><span class="sxs-lookup"><span data-stu-id="1ca70-177">Go the job page, and click **Configure**.</span></span>

   <span data-ttu-id="1ca70-178">a.</span><span class="sxs-lookup"><span data-stu-id="1ca70-178">a.</span></span> <span data-ttu-id="1ca70-179">Na seção geral, em **Projeto GitHub**, especifique a URL do projeto GitHub.</span><span class="sxs-lookup"><span data-stu-id="1ca70-179">In the general section, under **GitHub project**, specify your GitHub project URL.</span></span> <span data-ttu-id="1ca70-180">Essa URL hospeda o aplicativo Java do Service Fabric que você deseja integrar à integração contínua do Jenkins, no fluxo de implantação contínua (CI/CD) (por exemplo, ``https://github.com/sayantancs/SFJenkins``).</span><span class="sxs-lookup"><span data-stu-id="1ca70-180">This URL hosts the Service Fabric Java application that you want to integrate with the Jenkins continuous integration, continuous deployment (CI/CD) flow (for example, ``https://github.com/sayantancs/SFJenkins``).</span></span>

   <span data-ttu-id="1ca70-181">b.</span><span class="sxs-lookup"><span data-stu-id="1ca70-181">b.</span></span> <span data-ttu-id="1ca70-182">Na seção **Gerenciamento de Código-Fonte**, selecione **Git**.</span><span class="sxs-lookup"><span data-stu-id="1ca70-182">Under the **Source Code Management** section, select **Git**.</span></span> <span data-ttu-id="1ca70-183">Especifique a URL do repositório que hospeda o aplicativo Java do Service Fabric que você deseja integrar ao fluxo CI/CD do Jenkins (por exemplo, ``https://github.com/sayantancs/SFJenkins.git``).</span><span class="sxs-lookup"><span data-stu-id="1ca70-183">Specify the repository URL that hosts the Service Fabric Java application that you want to integrate with the Jenkins CI/CD flow (for example, ``https://github.com/sayantancs/SFJenkins.git``).</span></span> <span data-ttu-id="1ca70-184">Você também pode especificar aqui quais ramificações devem ser criadas (por exemplo, **/mestre**).</span><span class="sxs-lookup"><span data-stu-id="1ca70-184">Also, you can specify here which branch to build (for example, **/master**).</span></span>
4. <span data-ttu-id="1ca70-185">Configure seu *GitHub* (que está hospedando o repositório) para que ele seja capaz de se comunicar com o Jenkins.</span><span class="sxs-lookup"><span data-stu-id="1ca70-185">Configure your *GitHub* (which is hosting the repository) so that it is able to talk to Jenkins.</span></span> <span data-ttu-id="1ca70-186">Use as seguintes etapas:</span><span class="sxs-lookup"><span data-stu-id="1ca70-186">Use the following steps:</span></span>

   <span data-ttu-id="1ca70-187">a.</span><span class="sxs-lookup"><span data-stu-id="1ca70-187">a.</span></span> <span data-ttu-id="1ca70-188">Vá para sua página do repositório GitHub.</span><span class="sxs-lookup"><span data-stu-id="1ca70-188">Go to your GitHub repository page.</span></span> <span data-ttu-id="1ca70-189">Vá para **Configurações** > **Integrações e Serviços**.</span><span class="sxs-lookup"><span data-stu-id="1ca70-189">Go to **Settings** > **Integrations and Services**.</span></span>

   <span data-ttu-id="1ca70-190">b.</span><span class="sxs-lookup"><span data-stu-id="1ca70-190">b.</span></span> <span data-ttu-id="1ca70-191">Selecione **Adicionar Serviço**, digite **Jenkins** e selecione o **plug-in Jenkins-Github**.</span><span class="sxs-lookup"><span data-stu-id="1ca70-191">Select **Add Service**, type **Jenkins**, and select the **Jenkins-GitHub plugin**.</span></span>

   <span data-ttu-id="1ca70-192">c.</span><span class="sxs-lookup"><span data-stu-id="1ca70-192">c.</span></span> <span data-ttu-id="1ca70-193">Insira a URL do webhook Jenkins (por padrão, ele deve ser ``http://<PublicIPorFQDN>:8081/github-webhook/``).</span><span class="sxs-lookup"><span data-stu-id="1ca70-193">Enter your Jenkins webhook URL (by default, it should be ``http://<PublicIPorFQDN>:8081/github-webhook/``).</span></span> <span data-ttu-id="1ca70-194">Clique em **adicionar/atualizar serviço**.</span><span class="sxs-lookup"><span data-stu-id="1ca70-194">Click **add/update service**.</span></span>

   <span data-ttu-id="1ca70-195">d.</span><span class="sxs-lookup"><span data-stu-id="1ca70-195">d.</span></span> <span data-ttu-id="1ca70-196">Um evento de teste é enviado para a instância do Jenkins.</span><span class="sxs-lookup"><span data-stu-id="1ca70-196">A test event is sent to your Jenkins instance.</span></span> <span data-ttu-id="1ca70-197">Você verá uma marca de seleção verde ao lado do webhook no GitHub, e o projeto será criado.</span><span class="sxs-lookup"><span data-stu-id="1ca70-197">You should see a green check by the webhook in GitHub, and your project will build.</span></span>

   <span data-ttu-id="1ca70-198">e.</span><span class="sxs-lookup"><span data-stu-id="1ca70-198">e.</span></span> <span data-ttu-id="1ca70-199">Na seção **Criar Gatilhos**, selecione a opção de compilação desejada.</span><span class="sxs-lookup"><span data-stu-id="1ca70-199">Under the **Build Triggers** section, select which build option you want.</span></span> <span data-ttu-id="1ca70-200">Para este exemplo, você deseja disparar uma compilação sempre que ocorrer alguma envio para o repositório.</span><span class="sxs-lookup"><span data-stu-id="1ca70-200">For this example, you want to trigger a build whenever some push to the repository happens.</span></span> <span data-ttu-id="1ca70-201">Portanto, você seleciona **Gatilho de gancho do GitHub para sondagem GITScm**.</span><span class="sxs-lookup"><span data-stu-id="1ca70-201">So you select **GitHub hook trigger for GITScm polling**.</span></span> <span data-ttu-id="1ca70-202">(Anteriormente, essa opção se chamava **Compilar quando uma alteração for enviada ao GitHub**.)</span><span class="sxs-lookup"><span data-stu-id="1ca70-202">(Previously, this option was called **Build when a change is pushed to GitHub**.)</span></span>

   <span data-ttu-id="1ca70-203">f.</span><span class="sxs-lookup"><span data-stu-id="1ca70-203">f.</span></span> <span data-ttu-id="1ca70-204">Na **seção Criar**, na lista suspensa **Adicionar etapa de compilação**, selecione a opção **Invocar Gradle Script**.</span><span class="sxs-lookup"><span data-stu-id="1ca70-204">Under the **Build section**, from the drop-down **Add build step**, select the option **Invoke Gradle Script**.</span></span> <span data-ttu-id="1ca70-205">No widget surgido, especifique o caminho para **Script da build raiz** para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1ca70-205">In the widget that comes, specify the path to **Root build script** for your application.</span></span> <span data-ttu-id="1ca70-206">Ele obtém o build.gradle no caminho especificado e funciona de maneira correspondente.</span><span class="sxs-lookup"><span data-stu-id="1ca70-206">It picks up build.gradle from the path specified, and works accordingly.</span></span> <span data-ttu-id="1ca70-207">Se você criar um projeto chamado ``MyActor``(usando o plug-in Eclipse ou gerador Yeoman), o script da build raiz deverá conter ``${WORKSPACE}/MyActor``.</span><span class="sxs-lookup"><span data-stu-id="1ca70-207">If you create a project named ``MyActor`` (using the Eclipse plug-in or Yeoman generator), the root build script should contain ``${WORKSPACE}/MyActor``.</span></span> <span data-ttu-id="1ca70-208">Confira a seguinte captura de tela para obter um exemplo dessa aparência:</span><span class="sxs-lookup"><span data-stu-id="1ca70-208">See the following screenshot for an example of what this looks like:</span></span>

    ![Ação Compilar do Jenkins no Service Fabric][build-step]

   <span data-ttu-id="1ca70-210">g.</span><span class="sxs-lookup"><span data-stu-id="1ca70-210">g.</span></span> <span data-ttu-id="1ca70-211">No menu suspenso **Ações Pós-Compilação**, selecione **Implantar Projeto do Service Fabric**.</span><span class="sxs-lookup"><span data-stu-id="1ca70-211">From the **Post-Build Actions** drop-down, select **Deploy Service Fabric Project**.</span></span> <span data-ttu-id="1ca70-212">Aqui, você precisa fornecer detalhes do cluster em que o aplicativo do Service Fabric compilado para o Jenkins deve ser implantado.</span><span class="sxs-lookup"><span data-stu-id="1ca70-212">Here you need to provide cluster details where the Jenkins compiled Service Fabric application would be deployed.</span></span> <span data-ttu-id="1ca70-213">Você também pode fornecer detalhes adicionais de aplicativos usados para implantar o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1ca70-213">You can also provide additional application details used to deploy the application.</span></span> <span data-ttu-id="1ca70-214">Confira a seguinte captura de tela para obter um exemplo dessa aparência:</span><span class="sxs-lookup"><span data-stu-id="1ca70-214">See the following screenshot for an example of what this looks like:</span></span>

    ![Ação Compilar do Jenkins no Service Fabric][post-build-step]

   > [!NOTE]
   > <span data-ttu-id="1ca70-216">Aqui, o cluster pode ser o mesmo que hospeda o aplicativo de contêiner Jenkins caso você esteja usando o Service Fabric para implantar a imagem de contêiner Jenkins.</span><span class="sxs-lookup"><span data-stu-id="1ca70-216">The cluster here could be same as the one hosting the Jenkins container application, in case you are using Service Fabric to deploy the Jenkins container image.</span></span>
   >

## <a name="next-steps"></a><span data-ttu-id="1ca70-217">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="1ca70-217">Next steps</span></span>
<span data-ttu-id="1ca70-218">O GitHub e o Jenkins agora estão configurados.</span><span class="sxs-lookup"><span data-stu-id="1ca70-218">GitHub and Jenkins are now configured.</span></span> <span data-ttu-id="1ca70-219">Considere fazer algumas alterações de exemplo em seu projeto ``MyActor`` no repositório de exemplo, https://github.com/sayantancs/SFJenkins.</span><span class="sxs-lookup"><span data-stu-id="1ca70-219">Consider making some sample change in your ``MyActor`` project in the repository example, https://github.com/sayantancs/SFJenkins.</span></span> <span data-ttu-id="1ca70-220">Envie por push as alterações à ramificação ``master`` remota (ou a qualquer ramificação que você configurou para o trabalho).</span><span class="sxs-lookup"><span data-stu-id="1ca70-220">Push your changes to a remote ``master`` branch (or any branch that you have configured to work with).</span></span> <span data-ttu-id="1ca70-221">Isso dispara o trabalho do Jenkins, ``MyJob``, que você configurou.</span><span class="sxs-lookup"><span data-stu-id="1ca70-221">This triggers the Jenkins job, ``MyJob``, that you configured.</span></span> <span data-ttu-id="1ca70-222">Busca as alterações do GitHub, compila-as e implanta o aplicativo no ponto de extremidade do cluster especificado nas ações pós-compilação.</span><span class="sxs-lookup"><span data-stu-id="1ca70-222">It fetches the changes from GitHub, builds them, and deploys the application to the cluster endpoint you specified in post-build actions.</span></span>  

  <!-- Images -->
  [build-step]: ./media/service-fabric-cicd-your-linux-java-application-with-jenkins/build-step.png
  [post-build-step]: ./media/service-fabric-cicd-your-linux-java-application-with-jenkins/post-build-step.png
