---
title: "aaaOverview de conceitos básicos do barramento de serviço do Azure | Microsoft Docs"
description: "Uma introdução toousing barramento de serviço tooconnect software de tooother de aplicativos do Azure."
services: service-bus-messaging
documentationcenter: .net
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 12654cdd-82ab-4b95-b56f-08a5a8bbc6f9
ms.service: service-bus-messaging
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 06/15/2017
ms.author: sethm
ms.openlocfilehash: 1abd5cf310ef06ba35e1e2489a7c0a07e1797736
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-service-bus"></a><span data-ttu-id="7a361-103">Barramento de Serviço do Azure</span><span class="sxs-lookup"><span data-stu-id="7a361-103">Azure Service Bus</span></span>

<span data-ttu-id="7a361-104">Se um aplicativo ou serviço é executado na nuvem hello ou no local, é preciso geralmente toointeract com outros aplicativos ou serviços.</span><span class="sxs-lookup"><span data-stu-id="7a361-104">Whether an application or service runs in hello cloud or on premises, it often needs toointeract with other applications or services.</span></span> <span data-ttu-id="7a361-105">tooprovide toodo uma maneira útil em larga escala, oferecidos pelo Microsoft Azure Service Bus.</span><span class="sxs-lookup"><span data-stu-id="7a361-105">tooprovide a broadly useful way toodo this, Microsoft Azure offers Service Bus.</span></span> <span data-ttu-id="7a361-106">Este artigo aborda essa tecnologia, que descreve o que é e por que você pode toouse-lo.</span><span class="sxs-lookup"><span data-stu-id="7a361-106">This article looks at this technology, describing what it is and why you might want toouse it.</span></span>

## <a name="service-bus-fundamentals"></a><span data-ttu-id="7a361-107">Conceitos fundamentais do barramento de serviço</span><span class="sxs-lookup"><span data-stu-id="7a361-107">Service Bus fundamentals</span></span>

<span data-ttu-id="7a361-108">Situações diferentes pedem estilos diferentes de comunicação.</span><span class="sxs-lookup"><span data-stu-id="7a361-108">Different situations call for different styles of communication.</span></span> <span data-ttu-id="7a361-109">Às vezes, permitindo que aplicativos enviem e recebam mensagens por meio de uma fila simple é a melhor solução de saudação.</span><span class="sxs-lookup"><span data-stu-id="7a361-109">Sometimes, letting applications send and receive messages through a simple queue is hello best solution.</span></span> <span data-ttu-id="7a361-110">Em outras situações, uma fila comum não é suficiente; uma fila com um mecanismo de publicação e assinatura é melhor.</span><span class="sxs-lookup"><span data-stu-id="7a361-110">In other situations, an ordinary queue isn't enough; a queue with a publish-and-subscribe mechanism is better.</span></span> <span data-ttu-id="7a361-111">Em alguns casos, tudo que realmente é preciso é uma conexão entre aplicativos; as filas não são necessárias.</span><span class="sxs-lookup"><span data-stu-id="7a361-111">In some cases, all that's needed is a connection between applications, and queues are not required.</span></span> <span data-ttu-id="7a361-112">Barramento de serviço fornece todas as três opções, permitindo que toointeract seus aplicativos de várias maneiras diferentes.</span><span class="sxs-lookup"><span data-stu-id="7a361-112">Service Bus provides all three options, enabling your applications toointeract in several different ways.</span></span>

<span data-ttu-id="7a361-113">Barramento de serviço é um serviço de nuvem multilocatário, o que significa que o serviço de saudação é compartilhado por vários usuários.</span><span class="sxs-lookup"><span data-stu-id="7a361-113">Service Bus is a multi-tenant cloud service, which means that hello service is shared by multiple users.</span></span> <span data-ttu-id="7a361-114">Cada usuário, como um desenvolvedor de aplicativos, cria um *namespace*, define os mecanismos de comunicação Olá necessários dentro desse namespace.</span><span class="sxs-lookup"><span data-stu-id="7a361-114">Each user, such as an application developer, creates a *namespace*, then defines hello communication mechanisms needed within that namespace.</span></span> <span data-ttu-id="7a361-115">A Figura 1 mostra a aparência dessa arquitetura.</span><span class="sxs-lookup"><span data-stu-id="7a361-115">Figure 1 shows how this architecture looks.</span></span>

![][1]

<span data-ttu-id="7a361-116">**Figura 1: O barramento de serviço fornece um serviço de multilocatário para conexão de aplicativos por meio da nuvem de saudação.**</span><span class="sxs-lookup"><span data-stu-id="7a361-116">**Figure 1: Service Bus provides a multi-tenant service for connecting applications through hello cloud.**</span></span>

<span data-ttu-id="7a361-117">Dentro de um namespace, você pode usar uma ou mais instâncias de três mecanismos de comunicação diferentes, cada um deles conecta aplicativos de uma maneira diferente.</span><span class="sxs-lookup"><span data-stu-id="7a361-117">Within a namespace, you can use one or more instances of three different communication mechanisms, each of which connects applications in a different way.</span></span> <span data-ttu-id="7a361-118">Olá opções são:</span><span class="sxs-lookup"><span data-stu-id="7a361-118">hello choices are:</span></span>

* <span data-ttu-id="7a361-119">*Filas de*, que permitem a comunicação de um-direcional.</span><span class="sxs-lookup"><span data-stu-id="7a361-119">*Queues*, which allow one-directional communication.</span></span> <span data-ttu-id="7a361-120">Cada fila atua como um intermediário (às vezes chamado de um *agente*) que armazena mensagens enviadas até que eles são recebidos.</span><span class="sxs-lookup"><span data-stu-id="7a361-120">Each queue acts as an intermediary (sometimes called a *broker*) that stores sent messages until they are received.</span></span> <span data-ttu-id="7a361-121">Cada mensagem é recebida por um único destinatário.</span><span class="sxs-lookup"><span data-stu-id="7a361-121">Each message is received by a single recipient.</span></span>
* <span data-ttu-id="7a361-122">*Tópicos*, que fornecem uma comunicação unidirecional usando *assinaturas* - um único tópico pode ter várias assinaturas.</span><span class="sxs-lookup"><span data-stu-id="7a361-122">*Topics*, which provide one-directional communication using *subscriptions*-a single topic can have multiple subscriptions.</span></span> <span data-ttu-id="7a361-123">Como uma fila, um tópico atua como um agente, mas cada assinatura, opcionalmente, pode usar um filtro tooreceive apenas as mensagens que correspondem a critérios específicos.</span><span class="sxs-lookup"><span data-stu-id="7a361-123">Like a queue, a topic acts as a broker, but each subscription can optionally use a filter tooreceive only messages that match specific criteria.</span></span>
* <span data-ttu-id="7a361-124">*Retransmissões*, que fornece comunicação bidirecional.</span><span class="sxs-lookup"><span data-stu-id="7a361-124">*Relays*, which provide bi-directional communication.</span></span> <span data-ttu-id="7a361-125">Ao contrário das filas e dos tópicos, uma retransmissão não armazena as mensagens em trânsito. Ela não é um agente.</span><span class="sxs-lookup"><span data-stu-id="7a361-125">Unlike queues and topics, a relay doesn't store in-flight messages; it's not a broker.</span></span> <span data-ttu-id="7a361-126">Em vez disso, ela apenas transmite-los no aplicativo de destino toohello.</span><span class="sxs-lookup"><span data-stu-id="7a361-126">Instead, it just passes them on toohello destination application.</span></span>

<span data-ttu-id="7a361-127">Ao criar uma fila, um tópico ou uma retransmissão, você atribui um nome a ele/ela.</span><span class="sxs-lookup"><span data-stu-id="7a361-127">When you create a queue, topic, or relay, you give it a name.</span></span> <span data-ttu-id="7a361-128">Esse nome combinado com qualquer você chamou o seu namespace, cria um identificador exclusivo para o objeto de saudação.</span><span class="sxs-lookup"><span data-stu-id="7a361-128">Combined with whatever you called your namespace, this name creates a unique identifier for hello object.</span></span> <span data-ttu-id="7a361-129">Aplicativos podem fornecer esse nome tooService barramento e depois usar essa fila, tópico ou retransmissão toocommunicate uns com os outros.</span><span class="sxs-lookup"><span data-stu-id="7a361-129">Applications can provide this name tooService Bus, then use that queue, topic, or relay toocommunicate with one another.</span></span> 

<span data-ttu-id="7a361-130">toouse qualquer um desses objetos no cenário de retransmissão hello, aplicativos do Windows podem usar Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="7a361-130">toouse any of these objects in hello relay scenario, Windows applications can use Windows Communication Foundation (WCF).</span></span> <span data-ttu-id="7a361-131">Esse serviço é conhecido como [Retransmissão WCF](../service-bus-relay/relay-what-is-it.md).</span><span class="sxs-lookup"><span data-stu-id="7a361-131">This service is known as [WCF Relay](../service-bus-relay/relay-what-is-it.md).</span></span> <span data-ttu-id="7a361-132">Para as filas e os tópicos, os aplicativos do Windows podem usar as APIs de mensagens definidas pelo Barramento de Serviço.</span><span class="sxs-lookup"><span data-stu-id="7a361-132">For queues and topics, Windows applications can use Service Bus-defined messaging APIs.</span></span> <span data-ttu-id="7a361-133">toomake esses objetos toouse mais fácil de aplicativos não-Windows, a Microsoft fornece SDKs para Java, Node.js e outras linguagens.</span><span class="sxs-lookup"><span data-stu-id="7a361-133">toomake these objects easier toouse from non-Windows applications, Microsoft provides SDKs for Java, Node.js, and other languages.</span></span> <span data-ttu-id="7a361-134">Você também pode acessar as filas e os tópicos usando as [APIs REST](/rest/api/servicebus/) no(s) HTTP(s).</span><span class="sxs-lookup"><span data-stu-id="7a361-134">You can also access queues and topics using [REST APIs](/rest/api/servicebus/) over HTTP(s).</span></span> 

<span data-ttu-id="7a361-135">É importante toounderstand que mesmo que os serviço de barramento em si é executado na nuvem de hello (ou seja, em datacenters do Azure da Microsoft), os aplicativos que o utilizam podem ser executados em qualquer lugar.</span><span class="sxs-lookup"><span data-stu-id="7a361-135">It's important toounderstand that even though Service Bus itself runs in hello cloud (that is, in Microsoft's Azure datacenters), applications that use it can run anywhere.</span></span> <span data-ttu-id="7a361-136">Você pode usar aplicativos de tooconnect de barramento de serviço em execução no Azure, por exemplo, ou aplicativos em execução dentro de seu próprio data center.</span><span class="sxs-lookup"><span data-stu-id="7a361-136">You can use Service Bus tooconnect applications running on Azure, for example, or applications running inside your own datacenter.</span></span> <span data-ttu-id="7a361-137">Você também pode usar isso tooconnect um aplicativo em execução no Azure ou em outra plataforma de nuvem com um aplicativo local ou tablets e telefones.</span><span class="sxs-lookup"><span data-stu-id="7a361-137">You can also use it tooconnect an application running on Azure or another cloud platform with an on-premises application or with tablets and phones.</span></span> <span data-ttu-id="7a361-138">É aparelhos domésticos tooconnect possível, sensores e outros aplicativos de central de tooa de dispositivos ou tooone outros.</span><span class="sxs-lookup"><span data-stu-id="7a361-138">It's even possible tooconnect household appliances, sensors, and other devices tooa central application or tooone other.</span></span> <span data-ttu-id="7a361-139">Barramento de serviço é um mecanismo de comunicação na nuvem de saudação que é acessível de praticamente qualquer lugar.</span><span class="sxs-lookup"><span data-stu-id="7a361-139">Service Bus is a communication mechanism in hello cloud that's accessible from pretty much anywhere.</span></span> <span data-ttu-id="7a361-140">Como você usa depende do que seus aplicativos precisam toodo.</span><span class="sxs-lookup"><span data-stu-id="7a361-140">How you use it depends on what your applications need toodo.</span></span>

## <a name="queues"></a><span data-ttu-id="7a361-141">Filas</span><span class="sxs-lookup"><span data-stu-id="7a361-141">Queues</span></span>

<span data-ttu-id="7a361-142">Suponha que você decidir tooconnect dois aplicativos usando uma fila do barramento de serviço.</span><span class="sxs-lookup"><span data-stu-id="7a361-142">Suppose you decide tooconnect two applications using a Service Bus queue.</span></span> <span data-ttu-id="7a361-143">A Figura 2 ilustra essa opção.</span><span class="sxs-lookup"><span data-stu-id="7a361-143">Figure 2 illustrates this situation.</span></span>

![][2]

<span data-ttu-id="7a361-144">**Figura 2: Filas do Barramento de Serviço fornecem o enfileiramento de mensagens assíncronas unidirecional.**</span><span class="sxs-lookup"><span data-stu-id="7a361-144">**Figure 2: Service Bus queues provide one-way asynchronous queuing.**</span></span>

<span data-ttu-id="7a361-145">Olá processo é simples: um remetente envia uma fila de barramento de serviço tooa mensagens e um destinatário pega a mensagem em algum momento mais tarde.</span><span class="sxs-lookup"><span data-stu-id="7a361-145">hello process is simple: A sender sends a message tooa Service Bus queue, and a receiver picks up that message at some later time.</span></span> <span data-ttu-id="7a361-146">Uma fila pode ter apenas um único destinatário, como a Figura 2 mostra.</span><span class="sxs-lookup"><span data-stu-id="7a361-146">A queue can have just a single receiver, as Figure 2 shows.</span></span> <span data-ttu-id="7a361-147">Ou então, vários aplicativos podem ler de saudação mesma fila.</span><span class="sxs-lookup"><span data-stu-id="7a361-147">Or, multiple applications can read from hello same queue.</span></span> <span data-ttu-id="7a361-148">Situação de último hello, cada mensagem é lida por apenas um destinatário.</span><span class="sxs-lookup"><span data-stu-id="7a361-148">In hello latter situation, each message is read by just one receiver.</span></span> <span data-ttu-id="7a361-149">Para um serviço de vários casts, você deve usar um tópico.</span><span class="sxs-lookup"><span data-stu-id="7a361-149">For a multi-cast service, you should use a topic instead.</span></span>

<span data-ttu-id="7a361-150">Cada mensagem tem duas partes: um conjunto de propriedades, cada um par chave/valor e uma carga de mensagem.</span><span class="sxs-lookup"><span data-stu-id="7a361-150">Each message has two parts: a set of properties, each a key/value pair, and a message payload.</span></span> <span data-ttu-id="7a361-151">carga Olá pode ser o mesmo XML, texto ou binário.</span><span class="sxs-lookup"><span data-stu-id="7a361-151">hello payload can be binary, text, or even XML.</span></span> <span data-ttu-id="7a361-152">Como eles são usados depende de um aplicativo que está tentando toodo.</span><span class="sxs-lookup"><span data-stu-id="7a361-152">How they're used depends on what an application is trying toodo.</span></span> <span data-ttu-id="7a361-153">Por exemplo, um aplicativo enviar uma mensagem sobre uma venda recente pode incluir propriedades Olá **vendedor = "&"** e **quantidade = 10000**.</span><span class="sxs-lookup"><span data-stu-id="7a361-153">For example, an application sending a message about a recent sale might include hello properties **Seller="Ava"** and **Amount=10000**.</span></span> <span data-ttu-id="7a361-154">corpo da mensagem de saudação pode conter uma imagem digitalizada do contrato assinado da venda hello ou, se não houver uma, permanecer em branco.</span><span class="sxs-lookup"><span data-stu-id="7a361-154">hello message body might contain a scanned image of hello sale's signed contract or, if there isn't one, remain empty.</span></span>

<span data-ttu-id="7a361-155">Um receptor pode ler uma mensagem de uma fila do Service Bus de duas maneiras diferentes.</span><span class="sxs-lookup"><span data-stu-id="7a361-155">A receiver can read a message from a Service Bus queue in two different ways.</span></span> <span data-ttu-id="7a361-156">Olá a primeira opção, chamada  *[ReceiveAndDelete](/dotnet/api/microsoft.servicebus.messaging.receivemode)*, remove uma mensagem da fila de saudação e exclui-lo imediatamente.</span><span class="sxs-lookup"><span data-stu-id="7a361-156">hello first option, called *[ReceiveAndDelete](/dotnet/api/microsoft.servicebus.messaging.receivemode)*, removes a message from hello queue and immediately deletes it.</span></span> <span data-ttu-id="7a361-157">Essa opção é simple, mas se o receptor Olá falhar antes de terminar de processar a mensagem de saudação, mensagem de saudação será perdida.</span><span class="sxs-lookup"><span data-stu-id="7a361-157">This option is simple, but if hello receiver crashes before it finishes processing hello message, hello message is lost.</span></span> <span data-ttu-id="7a361-158">Porque eles foram removidos da fila de saudação, nenhum outro receptor pode acessá-lo.</span><span class="sxs-lookup"><span data-stu-id="7a361-158">Because it's been removed from hello queue, no other receiver can access it.</span></span> 

<span data-ttu-id="7a361-159">Olá a segunda opção,  *[PeekLock](/dotnet/api/microsoft.servicebus.messaging.receivemode)*, destina-se toohelp com esse problema.</span><span class="sxs-lookup"><span data-stu-id="7a361-159">hello second option, *[PeekLock](/dotnet/api/microsoft.servicebus.messaging.receivemode)*, is meant toohelp with this problem.</span></span> <span data-ttu-id="7a361-160">Como **ReceiveAndDelete**, um **PeekLock** leitura remove uma mensagem da fila de saudação.</span><span class="sxs-lookup"><span data-stu-id="7a361-160">Like **ReceiveAndDelete**, a **PeekLock** read removes a message from hello queue.</span></span> <span data-ttu-id="7a361-161">No entanto ela não exclui a mensagem de saudação.</span><span class="sxs-lookup"><span data-stu-id="7a361-161">It doesn't delete hello message, however.</span></span> <span data-ttu-id="7a361-162">Em vez disso, ele bloqueia a mensagem de saudação, tornando invisível tooother receptores, em seguida, aguarda até que um dos três eventos:</span><span class="sxs-lookup"><span data-stu-id="7a361-162">Instead, it locks hello message, making it invisible tooother receivers, then waits for one of three events:</span></span>

* <span data-ttu-id="7a361-163">Se os processos de destinatário Olá Olá mensagem com êxito, ele chama [Complete ()](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_Complete), e a fila de saudação exclui a mensagem de saudação.</span><span class="sxs-lookup"><span data-stu-id="7a361-163">If hello receiver processes hello message successfully, it calls [Complete()](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_Complete), and hello queue deletes hello message.</span></span> 
* <span data-ttu-id="7a361-164">Se o destinatário Olá decide que não pode processar a mensagem de saudação com êxito, ele chama [Abandon()](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_Abandon).</span><span class="sxs-lookup"><span data-stu-id="7a361-164">If hello receiver decides that it can't process hello message successfully, it calls [Abandon()](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_Abandon).</span></span> <span data-ttu-id="7a361-165">fila Olá remove bloqueio de saudação da mensagem de saudação e torna disponível tooother receptores.</span><span class="sxs-lookup"><span data-stu-id="7a361-165">hello queue then removes hello lock from hello message and makes it available tooother receivers.</span></span>
* <span data-ttu-id="7a361-166">Se o receptor Olá chamadas nenhum desses métodos dentro de um período configurável (por padrão, 60 segundos), fila Olá pressupõe receptor Olá falhou.</span><span class="sxs-lookup"><span data-stu-id="7a361-166">If hello receiver calls neither of these methods within a configurable period of time (by default, 60 seconds), hello queue assumes hello receiver has failed.</span></span> <span data-ttu-id="7a361-167">Nesse caso, ele se comporta como se tivesse chamado receptor Olá **abandonar**, tornando Olá receptores tooother disponíveis.</span><span class="sxs-lookup"><span data-stu-id="7a361-167">In this case, it behaves as if hello receiver had called **Abandon**, making hello message available tooother receivers.</span></span>

<span data-ttu-id="7a361-168">Observe que pode acontecer aqui: hello mesma mensagem pode ser entregue duas vezes, talvez tootwo destinatários diferentes.</span><span class="sxs-lookup"><span data-stu-id="7a361-168">Notice what can happen here: hello same message might be delivered twice, perhaps tootwo different receivers.</span></span> <span data-ttu-id="7a361-169">Os aplicativos que usam filas do Barramento de Serviço devem estar preparados para isso.</span><span class="sxs-lookup"><span data-stu-id="7a361-169">Applications using Service Bus queues must be prepared for this event.</span></span> <span data-ttu-id="7a361-170">toomake detecção de duplicidades mais fácil, cada mensagem tem uma única [MessageID](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_MessageId) propriedade que, por padrão, fica Olá mesmo, independentemente de quantas vezes a mensagem de saudação é lido de uma fila.</span><span class="sxs-lookup"><span data-stu-id="7a361-170">toomake duplicate detection easier, each message has a unique [MessageID](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_MessageId) property that by default stays hello same no matter how many times hello message is read from a queue.</span></span> 

<span data-ttu-id="7a361-171">Filas são úteis em algumas situações.</span><span class="sxs-lookup"><span data-stu-id="7a361-171">Queues are useful in quite a few situations.</span></span> <span data-ttu-id="7a361-172">Elas permitem que aplicativos toocommunicate mesmo quando ambos não são executados em Olá a mesma hora, algo que é especialmente útil com aplicativos móveis e de lote.</span><span class="sxs-lookup"><span data-stu-id="7a361-172">They enable applications toocommunicate even when both aren't running at hello same time, something that's especially handy with batch and mobile applications.</span></span> <span data-ttu-id="7a361-173">Uma fila com vários receptores também fornece balanceamento de carga automático, desde que as mensagens enviadas sejam distribuídas entre esses receptores.</span><span class="sxs-lookup"><span data-stu-id="7a361-173">A queue with multiple receivers also provides automatic load balancing, since sent messages are spread across these receivers.</span></span>

## <a name="topics"></a><span data-ttu-id="7a361-174">Tópicos</span><span class="sxs-lookup"><span data-stu-id="7a361-174">Topics</span></span>

<span data-ttu-id="7a361-175">Útil como estão, filas não são sempre solução certa hello.</span><span class="sxs-lookup"><span data-stu-id="7a361-175">Useful as they are, queues aren't always hello right solution.</span></span> <span data-ttu-id="7a361-176">Às vezes, os tópicos do Barramento de Serviço são melhores.</span><span class="sxs-lookup"><span data-stu-id="7a361-176">Sometimes, Service Bus topics are better.</span></span> <span data-ttu-id="7a361-177">Figura 3 ilustra a ideia.</span><span class="sxs-lookup"><span data-stu-id="7a361-177">Figure 3 illustrates this idea.</span></span>

![][3]

<span data-ttu-id="7a361-178">**Figura 3: Com base no filtro de saudação que especifica um aplicativo de assinatura, ela pode receber algumas ou todas as mensagens de saudação enviadas tooa tópico de barramento de serviço.**</span><span class="sxs-lookup"><span data-stu-id="7a361-178">**Figure 3: Based on hello filter a subscribing application specifies, it can receive some or all hello messages sent tooa Service Bus topic.**</span></span>

<span data-ttu-id="7a361-179">Um *tópico* é semelhante na fila de tooa muitas maneiras.</span><span class="sxs-lookup"><span data-stu-id="7a361-179">A *topic* is similar in many ways tooa queue.</span></span> <span data-ttu-id="7a361-180">Remetentes enviar tópico tooa mensagens Olá mesma forma que eles enviam a fila de mensagens de tooa e procure essas mensagens Olá mesmo assim como acontece com filas.</span><span class="sxs-lookup"><span data-stu-id="7a361-180">Senders submit messages tooa topic in hello same way that they submit messages tooa queue, and those messages look hello same as with queues.</span></span> <span data-ttu-id="7a361-181">Olá diferença é que tópicos permitem cada toocreate aplicativo receptor seu próprio *assinatura* definindo um *filtro*.</span><span class="sxs-lookup"><span data-stu-id="7a361-181">hello difference is that topics enable each receiving application toocreate its own *subscription* by defining a *filter*.</span></span> <span data-ttu-id="7a361-182">Um assinante, em seguida, vê somente as mensagens de saudação que correspondem a esse filtro.</span><span class="sxs-lookup"><span data-stu-id="7a361-182">A subscriber then sees only hello messages that match that filter.</span></span> <span data-ttu-id="7a361-183">Por exemplo, a Figura 3 mostra um remetente e um tópico com três assinantes, cada um com seu próprio filtro:</span><span class="sxs-lookup"><span data-stu-id="7a361-183">For example, Figure 3 shows a sender and a topic with three subscribers, each with its own filter:</span></span>

* <span data-ttu-id="7a361-184">Assinante 1 recebe somente mensagens que contêm a propriedade Olá *vendedor = "&"*.</span><span class="sxs-lookup"><span data-stu-id="7a361-184">Subscriber 1 receives only messages that contain hello property *Seller="Ava"*.</span></span>
* <span data-ttu-id="7a361-185">Assinante 2 recebe mensagens que contêm a propriedade Olá *vendedor = "Ruby"* e/ou conter um *quantidade* propriedade cujo valor é maior que 100.000.</span><span class="sxs-lookup"><span data-stu-id="7a361-185">Subscriber 2 receives messages that contain hello property *Seller="Ruby"* and/or contain an *Amount* property whose value is greater than 100,000.</span></span> <span data-ttu-id="7a361-186">Talvez Ruby é gerente de vendas hello, portanto ela deseja toosee próprias vendas e todas as vendas grandes, independentemente de quem faz com que sejam.</span><span class="sxs-lookup"><span data-stu-id="7a361-186">Perhaps Ruby is hello sales manager, so she wants toosee both her own sales and all large sales regardless of who makes them.</span></span>
* <span data-ttu-id="7a361-187">Assinante 3 definiu seu filtro muito*True*, o que significa que ele recebe todas as mensagens.</span><span class="sxs-lookup"><span data-stu-id="7a361-187">Subscriber 3 has set its filter too*True*, which means that it receives all messages.</span></span> <span data-ttu-id="7a361-188">Por exemplo, este aplicativo pode ser responsável por manter uma trilha de auditoria e, portanto, é necessário toosee todas as mensagens de saudação.</span><span class="sxs-lookup"><span data-stu-id="7a361-188">For example, this application might be responsible for maintaining an audit trail and therefore it needs toosee all hello messages.</span></span>

<span data-ttu-id="7a361-189">Como com filas, o tópico de tooa assinantes pode ler mensagens usando [ReceiveAndDelete ou PeekLock](/dotnet/api/microsoft.servicebus.messaging.receivemode).</span><span class="sxs-lookup"><span data-stu-id="7a361-189">As with queues, subscribers tooa topic can read messages using either [ReceiveAndDelete or PeekLock](/dotnet/api/microsoft.servicebus.messaging.receivemode).</span></span> <span data-ttu-id="7a361-190">Ao contrário das filas, no entanto, uma única mensagem enviada tooa tópico pode ser recebido por várias assinaturas.</span><span class="sxs-lookup"><span data-stu-id="7a361-190">Unlike queues, however, a single message sent tooa topic can be received by multiple subscriptions.</span></span> <span data-ttu-id="7a361-191">Essa abordagem, normalmente chamada *publicar e assinar* (ou *pub/sub*), é útil sempre que vários aplicativos estão interessados em Olá mensagens mesmo.</span><span class="sxs-lookup"><span data-stu-id="7a361-191">This approach, commonly called *publish and subscribe* (or *pub/sub*), is useful whenever multiple applications are interested in hello same messages.</span></span> <span data-ttu-id="7a361-192">Definindo o filtro de saudação à direita, cada assinante pode tocar em apenas parte de saudação do fluxo de mensagem de saudação que precisa de toosee.</span><span class="sxs-lookup"><span data-stu-id="7a361-192">By defining hello right filter, each subscriber can tap into just hello part of hello message stream that it needs toosee.</span></span>

## <a name="relays"></a><span data-ttu-id="7a361-193">Retransmissão</span><span class="sxs-lookup"><span data-stu-id="7a361-193">Relays</span></span>

<span data-ttu-id="7a361-194">As filas e os tópicos fornecem uma comunicação unidirecional assíncrona por meio de um agente.</span><span class="sxs-lookup"><span data-stu-id="7a361-194">Both queues and topics provide one-way asynchronous communication through a broker.</span></span> <span data-ttu-id="7a361-195">O tráfego flui em apenas uma direção, e não há nenhuma conexão direta entre remetentes e receptores.</span><span class="sxs-lookup"><span data-stu-id="7a361-195">Traffic flows in just one direction, and there's no direct connection between senders and receivers.</span></span> <span data-ttu-id="7a361-196">Mas e se você não quiser essa conexão?</span><span class="sxs-lookup"><span data-stu-id="7a361-196">But what if you don't want this connection?</span></span> <span data-ttu-id="7a361-197">Suponha que os aplicativos precisam tooboth enviar e receber mensagens, ou talvez você deseja um vínculo direto entre eles e mensagens toostore broker não é necessário.</span><span class="sxs-lookup"><span data-stu-id="7a361-197">Suppose your applications need tooboth send and receive messages, or perhaps you want a direct link between them and you don't need a broker toostore messages.</span></span> <span data-ttu-id="7a361-198">cenários de tooaddress como este, barramento de serviço fornece *retransmite*, como mostra a Figura 4.</span><span class="sxs-lookup"><span data-stu-id="7a361-198">tooaddress scenarios such as this, Service Bus provides *relays*, as Figure 4 shows.</span></span>

![][4]

<span data-ttu-id="7a361-199">**Figura 4: a retransmissão do Barramento de Serviço fornece comunicação bidirecional síncrona entre os aplicativos.**</span><span class="sxs-lookup"><span data-stu-id="7a361-199">**Figure 4: Service Bus relay provides synchronous, two-way communication between applications.**</span></span>

<span data-ttu-id="7a361-200">Hello tooask pergunta óbvia sobre retransmissões é: por que usar um?</span><span class="sxs-lookup"><span data-stu-id="7a361-200">hello obvious question tooask about relays is this: why would I use one?</span></span> <span data-ttu-id="7a361-201">Mesmo se não preciso de filas, por que aplicativos se comunicam por meio de um serviço de nuvem em vez de apenas interagir diretamente? resposta de saudação é que se comunicando diretamente pode ser mais difícil que você imagina.</span><span class="sxs-lookup"><span data-stu-id="7a361-201">Even if I don't need queues, why make applications communicate via a cloud service rather than just interact directly? hello answer is that talking directly can be harder than you might think.</span></span>

<span data-ttu-id="7a361-202">Suponha que você queira tooconnect dois aplicativos locais, tanto em execução nos data centers corporativos.</span><span class="sxs-lookup"><span data-stu-id="7a361-202">Suppose you want tooconnect two on-premises applications, both running inside corporate datacenters.</span></span> <span data-ttu-id="7a361-203">Cada um desses aplicativos fica atrás de um firewall, e cada centro de dados provavelmente usará a conversão de endereços de rede (NAT).</span><span class="sxs-lookup"><span data-stu-id="7a361-203">Each of these applications sits behind a firewall, and each datacenter probably uses network address translation (NAT).</span></span> <span data-ttu-id="7a361-204">blocos de firewall Olá os dados de entrada em todas, exceto alguns portas e NAT implica em cada aplicativo está em execução no computador Olá não tem um endereço IP fixo que você pode acessar diretamente do datacenter de saudação fora.</span><span class="sxs-lookup"><span data-stu-id="7a361-204">hello firewall blocks incoming data on all but a few ports, and NAT implies that hello machine each application is running on doesn't have a fixed IP address that you can reach directly from outside hello datacenter.</span></span> <span data-ttu-id="7a361-205">Sem alguma ajuda extra, conectando esses aplicativos pela Olá internet pública é problemático.</span><span class="sxs-lookup"><span data-stu-id="7a361-205">Without some extra help, connecting these applications over hello public internet is problematic.</span></span>

<span data-ttu-id="7a361-206">Uma retransmissão do Barramento de Serviço pode ajudar.</span><span class="sxs-lookup"><span data-stu-id="7a361-206">A Service Bus relay can help.</span></span> <span data-ttu-id="7a361-207">toocommunicate bidirecional por meio de uma retransmissão, cada aplicativo estabelece uma conexão de TCP de saída com o barramento de serviço, em seguida, ele mantém aberto.</span><span class="sxs-lookup"><span data-stu-id="7a361-207">toocommunicate bi-directionally through a relay, each application establishes an outbound TCP connection with Service Bus, then keeps it open.</span></span> <span data-ttu-id="7a361-208">Toda a comunicação entre dois aplicativos de saudação percorram essas conexões.</span><span class="sxs-lookup"><span data-stu-id="7a361-208">All communication between hello two applications travels over these connections.</span></span> <span data-ttu-id="7a361-209">Porque cada conexão foi estabelecida de dentro do datacenter hello, firewall Olá permite entrada tráfego tooeach aplicativo sem abrir novas portas.</span><span class="sxs-lookup"><span data-stu-id="7a361-209">Because each connection was established from inside hello datacenter, hello firewall allows incoming traffic tooeach application without opening new ports.</span></span> <span data-ttu-id="7a361-210">Essa abordagem também obtém problema do NAT hello, porque cada aplicativo tem um ponto de extremidade consistente na nuvem de saudação em toda a comunicação de saudação.</span><span class="sxs-lookup"><span data-stu-id="7a361-210">This approach also gets around hello NAT problem, because each application has a consistent endpoint in hello cloud throughout hello communication.</span></span> <span data-ttu-id="7a361-211">Trocando dados por meio de retransmissão hello, aplicativos Olá podem evitar problemas de saudação que seriam caso contrário dificultam a comunicação.</span><span class="sxs-lookup"><span data-stu-id="7a361-211">By exchanging data through hello relay, hello applications can avoid hello problems that would otherwise make communication difficult.</span></span> 

<span data-ttu-id="7a361-212">retransmissões de barramento de serviço toouse, os aplicativos dependem de saudação Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="7a361-212">toouse Service Bus relays, applications rely on hello Windows Communication Foundation (WCF).</span></span> <span data-ttu-id="7a361-213">Barramento de serviço fornece associações do WCF que tornam mais fácil para toointeract de aplicativos do Windows via retransmissões.</span><span class="sxs-lookup"><span data-stu-id="7a361-213">Service Bus provides WCF bindings that make it straightforward for Windows applications toointeract via relays.</span></span> <span data-ttu-id="7a361-214">Aplicativos que já usam o WCF normalmente podem especificar um essas associações e fale tooeach outros por meio de uma retransmissão.</span><span class="sxs-lookup"><span data-stu-id="7a361-214">Applications that already use WCF can typically specify one of these bindings, then talk tooeach other through a relay.</span></span> <span data-ttu-id="7a361-215">Ao contrário das filas e dos tópicos, no entanto, usar as retransmissões de aplicativos não Windows, ao mesmo tempo possível, requer o algum esforço de programação; Não há bibliotecas padrão são fornecidas.</span><span class="sxs-lookup"><span data-stu-id="7a361-215">Unlike queues and topics, however, using relays from non-Windows applications, while possible, requires some programming effort; no standard libraries are provided.</span></span>

<span data-ttu-id="7a361-216">Ao contrário das filas e dos tópicos, aplicativos não criam explicitamente retransmissões.</span><span class="sxs-lookup"><span data-stu-id="7a361-216">Unlike queues and topics, applications don't explicitly create relays.</span></span> <span data-ttu-id="7a361-217">Em vez disso, quando um aplicativo que deseja tooreceive mensagens estabelece uma conexão TCP com o barramento de serviço, uma retransmissão é criada automaticamente.</span><span class="sxs-lookup"><span data-stu-id="7a361-217">Instead, when an application that wishes tooreceive messages establishes a TCP connection with Service Bus, a relay is created automatically.</span></span> <span data-ttu-id="7a361-218">Quando a conexão Olá é descartado, retransmissão Olá é excluído.</span><span class="sxs-lookup"><span data-stu-id="7a361-218">When hello connection is dropped, hello relay is deleted.</span></span> <span data-ttu-id="7a361-219">tooenable uma retransmissão de saudação do aplicativo toofind criada por um ouvinte específico, barramento de serviço fornece um registro que permite que aplicativos toolocate uma retransmissão específica por nome.</span><span class="sxs-lookup"><span data-stu-id="7a361-219">tooenable an application toofind hello relay created by a specific listener, Service Bus provides a registry that enables applications toolocate a specific relay by name.</span></span>

<span data-ttu-id="7a361-220">As retransmissões são solução certa hello quando precisar de comunicação direta entre aplicativos.</span><span class="sxs-lookup"><span data-stu-id="7a361-220">Relays are hello right solution when you need direct communication between applications.</span></span> <span data-ttu-id="7a361-221">Por exemplo, considere um sistema de reservas de viagens em execução em um data center local que deve ser acessado de outros computadores, dispositivos móveis e quiosques de check-in.</span><span class="sxs-lookup"><span data-stu-id="7a361-221">For example, consider an airline reservation system running in an on-premises datacenter that must be accessed from check-in kiosks, mobile devices, and other computers.</span></span> <span data-ttu-id="7a361-222">Aplicativos em execução em todos esses sistemas podiam confiar na retransmissões de barramento de serviço no hello toocommunicate de nuvem, independentemente de onde eles podem estar em execução.</span><span class="sxs-lookup"><span data-stu-id="7a361-222">Applications running on all these systems could rely on Service Bus relays in hello cloud toocommunicate, wherever they might be running.</span></span>

## <a name="summary"></a><span data-ttu-id="7a361-223">Resumo</span><span class="sxs-lookup"><span data-stu-id="7a361-223">Summary</span></span>

<span data-ttu-id="7a361-224">Conectando aplicativos sempre foi parte da criação de soluções completas e intervalo de saudação de cenários que exigem a aplicativos e serviços toocommunicate com o outro é definido tooincrease como mais aplicativos e dispositivos são toohello conectado à internet.</span><span class="sxs-lookup"><span data-stu-id="7a361-224">Connecting applications has always been part of building complete solutions, and hello range of scenarios that require applications and services toocommunicate with each other is set tooincrease as more applications and devices are connected toohello internet.</span></span> <span data-ttu-id="7a361-225">Fornecendo tecnologias baseadas em nuvem para a obtenção de comunicação por meio de filas, tópicos e retransmissões, barramento de serviço visa toomake este tooimplement de função essencial mais fácil e mais amplamente disponíveis.</span><span class="sxs-lookup"><span data-stu-id="7a361-225">By providing cloud-based technologies for achieving communication through queues, topics, and relays, Service Bus aims toomake this essential function easier tooimplement and more broadly available.</span></span>

## <a name="next-steps"></a><span data-ttu-id="7a361-226">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="7a361-226">Next steps</span></span>

<span data-ttu-id="7a361-227">Agora que você aprendeu os fundamentos de saudação do barramento de serviço do Azure, siga essas toolearn links mais.</span><span class="sxs-lookup"><span data-stu-id="7a361-227">Now that you've learned hello fundamentals of Azure Service Bus, follow these links toolearn more.</span></span>

* <span data-ttu-id="7a361-228">Como toouse [filas do barramento de serviço](service-bus-dotnet-get-started-with-queues.md)</span><span class="sxs-lookup"><span data-stu-id="7a361-228">How toouse [Service Bus queues](service-bus-dotnet-get-started-with-queues.md)</span></span>
* <span data-ttu-id="7a361-229">Como toouse [tópicos do barramento de serviço](service-bus-dotnet-how-to-use-topics-subscriptions.md)</span><span class="sxs-lookup"><span data-stu-id="7a361-229">How toouse [Service Bus topics](service-bus-dotnet-how-to-use-topics-subscriptions.md)</span></span>
* <span data-ttu-id="7a361-230">Como toouse [retransmissão de barramento de serviço](../service-bus-relay/service-bus-dotnet-how-to-use-relay.md)</span><span class="sxs-lookup"><span data-stu-id="7a361-230">How toouse [Service Bus relay](../service-bus-relay/service-bus-dotnet-how-to-use-relay.md)</span></span>
* [<span data-ttu-id="7a361-231">Exemplos do Barramento de Serviço</span><span class="sxs-lookup"><span data-stu-id="7a361-231">Service Bus samples</span></span>](service-bus-samples.md)

[1]: ./media/service-bus-fundamentals-hybrid-solutions/SvcBus_01_architecture.png
[2]: ./media/service-bus-fundamentals-hybrid-solutions/SvcBus_02_queues.png
[3]: ./media/service-bus-fundamentals-hybrid-solutions/SvcBus_03_topicsandsubscriptions.png
[4]: ./media/service-bus-fundamentals-hybrid-solutions/SvcBus_04_relay.png
