---
title: filas de aaaService barramento mensagens mortas | Microsoft Docs
description: "Visão geral das filas de mensagens mortas do Barramento de Serviço"
services: service-bus-messaging
documentationcenter: .net
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 68b2aa38-dba7-491a-9c26-0289bc15d397
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 05/17/2017
ms.author: clemensv;sethm
ms.openlocfilehash: 1638272085b8a3a59e8814f6f943caee35a2bfdc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="overview-of-service-bus-dead-letter-queues"></a><span data-ttu-id="5efde-103">Visão geral das filas de mensagens mortas do Barramento de Serviço </span><span class="sxs-lookup"><span data-stu-id="5efde-103">Overview of Service Bus dead-letter queues</span></span>

<span data-ttu-id="5efde-104">As filas e as assinaturas de tópico do Barramento de Serviço fornecem uma subfila secundária chamada DLQ (*fila de mensagens mortas*).</span><span class="sxs-lookup"><span data-stu-id="5efde-104">Service Bus queues and topic subscriptions provide a secondary sub-queue, called a *dead-letter queue* (DLQ).</span></span> <span data-ttu-id="5efde-105">fila de mensagens mortas Olá não precisa toobe explicitamente criado e não pode ser excluído ou não independentes gerenciados da entidade principal hello.</span><span class="sxs-lookup"><span data-stu-id="5efde-105">hello dead-letter queue does not need toobe explicitly created and cannot be deleted or otherwise managed independent of hello main entity.</span></span>

<span data-ttu-id="5efde-106">Este artigo discute as filas de mensagens mortas no barramento de serviço do Azure.</span><span class="sxs-lookup"><span data-stu-id="5efde-106">This article discusses dead-letter queues in Azure Service Bus.</span></span> <span data-ttu-id="5efde-107">Grande parte da discussão Olá é ilustrada Olá [exemplo de filas de mensagens mortas](https://github.com/Azure/azure-service-bus/tree/master/samples/DotNet/Microsoft.ServiceBus.Messaging/DeadletterQueue) no GitHub.</span><span class="sxs-lookup"><span data-stu-id="5efde-107">Much of hello discussion is illustrated by hello [Dead-Letter Queues sample](https://github.com/Azure/azure-service-bus/tree/master/samples/DotNet/Microsoft.ServiceBus.Messaging/DeadletterQueue) on GitHub.</span></span>
 
## <a name="hello-dead-letter-queue"></a><span data-ttu-id="5efde-108">fila de mensagens mortas Olá</span><span class="sxs-lookup"><span data-stu-id="5efde-108">hello dead-letter queue</span></span>

<span data-ttu-id="5efde-109">finalidade de saudação da fila de mensagens mortas Olá é mensagens de toohold que não podem ser entregues tooany receptor, ou que não pôde ser processado.</span><span class="sxs-lookup"><span data-stu-id="5efde-109">hello purpose of hello dead-letter queue is toohold messages that cannot be delivered tooany receiver, or messages that could not be processed.</span></span> <span data-ttu-id="5efde-110">Mensagens podem ser removidas da saudação DLQ e inspecionadas.</span><span class="sxs-lookup"><span data-stu-id="5efde-110">Messages can then be removed from hello DLQ and inspected.</span></span> <span data-ttu-id="5efde-111">Um aplicativo pode, com a Ajuda de um operador, corrigir problemas e reenviar a mensagem de saudação fatos Olá que houve um erro de log e tomar uma ação corretiva.</span><span class="sxs-lookup"><span data-stu-id="5efde-111">An application might, with help of an operator, correct issues and resubmit hello message, log hello fact that there was an error, and take corrective action.</span></span> 

<span data-ttu-id="5efde-112">De uma perspectiva de API e o protocolo, Olá DLQ é principalmente tooany semelhante outra fila, exceto que as mensagens podem ser enviadas somente por meio de gesto de mensagens mortas Olá da entidade pai de saudação.</span><span class="sxs-lookup"><span data-stu-id="5efde-112">From an API and protocol perspective, hello DLQ is mostly similar tooany other queue, except that messages can only be submitted via hello dead-letter gesture of hello parent entity.</span></span> <span data-ttu-id="5efde-113">Além disso, a vida útil não é observada, e você não pode colocar uma mensagem em estado morto na DLQ.</span><span class="sxs-lookup"><span data-stu-id="5efde-113">In addition, time-to-live is not observed, and you can't dead-letter a message from a DLQ.</span></span> <span data-ttu-id="5efde-114">fila de mensagens mortas Olá totalmente dá suporte a operações transacionais e entrega de bloqueio de pico.</span><span class="sxs-lookup"><span data-stu-id="5efde-114">hello dead-letter queue fully supports peek-lock delivery and transactional operations.</span></span>

<span data-ttu-id="5efde-115">Observe que não há nenhuma limpeza automática de saudação DLQ.</span><span class="sxs-lookup"><span data-stu-id="5efde-115">Note that there is no automatic cleanup of hello DLQ.</span></span> <span data-ttu-id="5efde-116">As mensagens permanecem na Olá DLQ até que você explicitamente recuperá-las do hello DLQ e chamada [Complete ()](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_CompleteAsync) na mensagem de saudação do mensagens mortas.</span><span class="sxs-lookup"><span data-stu-id="5efde-116">Messages remain in hello DLQ until you explicitly retrieve them from hello DLQ and call [Complete()](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_CompleteAsync) on hello dead-letter message.</span></span>

## <a name="moving-messages-toohello-dlq"></a><span data-ttu-id="5efde-117">Mover mensagens toohello DLQ</span><span class="sxs-lookup"><span data-stu-id="5efde-117">Moving messages toohello DLQ</span></span>

<span data-ttu-id="5efde-118">Há várias atividades no barramento de serviço que causam tooget mensagens enviada toohello DLQ de dentro do próprio mecanismo de mensagens de saudação.</span><span class="sxs-lookup"><span data-stu-id="5efde-118">There are several activities in Service Bus that cause messages tooget pushed toohello DLQ from within hello messaging engine itself.</span></span> <span data-ttu-id="5efde-119">Um aplicativo explicitamente pode mover mensagens toohello DLQ.</span><span class="sxs-lookup"><span data-stu-id="5efde-119">An application can also explicitly move messages toohello DLQ.</span></span> 

<span data-ttu-id="5efde-120">Como a mensagem de saudação é movida pelo agente Olá, duas propriedades são adicionadas toohello mensagem como broker Olá chama sua versão interna do hello [mensagens mortas](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeadLetter_System_String_System_String_) método na mensagem de saudação: `DeadLetterReason` e `DeadLetterErrorDescription`.</span><span class="sxs-lookup"><span data-stu-id="5efde-120">As hello message gets moved by hello broker, two properties are added toohello message as hello broker calls its internal version of hello [DeadLetter](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeadLetter_System_String_System_String_) method on hello message: `DeadLetterReason` and `DeadLetterErrorDescription`.</span></span>

<span data-ttu-id="5efde-121">Os aplicativos podem definir seus próprios códigos de saudação `DeadLetterReason` propriedade, mas Olá sistema conjuntos Olá valores a seguir.</span><span class="sxs-lookup"><span data-stu-id="5efde-121">Applications can define their own codes for hello `DeadLetterReason` property, but hello system sets hello following values.</span></span>

| <span data-ttu-id="5efde-122">Condição</span><span class="sxs-lookup"><span data-stu-id="5efde-122">Condition</span></span> | <span data-ttu-id="5efde-123">DeadLetterReason</span><span class="sxs-lookup"><span data-stu-id="5efde-123">DeadLetterReason</span></span> | <span data-ttu-id="5efde-124">DeadLetterErrorDescription</span><span class="sxs-lookup"><span data-stu-id="5efde-124">DeadLetterErrorDescription</span></span> |
| --- | --- | --- |
| <span data-ttu-id="5efde-125">Sempre</span><span class="sxs-lookup"><span data-stu-id="5efde-125">Always</span></span> |<span data-ttu-id="5efde-126">HeaderSizeExceeded</span><span class="sxs-lookup"><span data-stu-id="5efde-126">HeaderSizeExceeded</span></span> |<span data-ttu-id="5efde-127">cota de tamanho de saudação para este fluxo foi excedida.</span><span class="sxs-lookup"><span data-stu-id="5efde-127">hello size quota for this stream has been exceeded.</span></span> |
| <span data-ttu-id="5efde-128">!TopicDescription.</span><span class="sxs-lookup"><span data-stu-id="5efde-128">!TopicDescription.</span></span><br /><span data-ttu-id="5efde-129">EnableFilteringMessagesBeforePublishing e SubscriptionDescription.</span><span class="sxs-lookup"><span data-stu-id="5efde-129">EnableFilteringMessagesBeforePublishing and SubscriptionDescription.</span></span><br /><span data-ttu-id="5efde-130">EnableDeadLetteringOnFilterEvaluationExceptions</span><span class="sxs-lookup"><span data-stu-id="5efde-130">EnableDeadLetteringOnFilterEvaluationExceptions</span></span> |<span data-ttu-id="5efde-131">exception.GetType().Name</span><span class="sxs-lookup"><span data-stu-id="5efde-131">exception.GetType().Name</span></span> |<span data-ttu-id="5efde-132">exception.Message</span><span class="sxs-lookup"><span data-stu-id="5efde-132">exception.Message</span></span> |
| <span data-ttu-id="5efde-133">EnableDeadLetteringOnMessageExpiration</span><span class="sxs-lookup"><span data-stu-id="5efde-133">EnableDeadLetteringOnMessageExpiration</span></span> |<span data-ttu-id="5efde-134">TTLExpiredException</span><span class="sxs-lookup"><span data-stu-id="5efde-134">TTLExpiredException</span></span> |<span data-ttu-id="5efde-135">mensagem de saudação expirou e foi considerada morta dead.</span><span class="sxs-lookup"><span data-stu-id="5efde-135">hello message expired and was dead lettered.</span></span> |
| <span data-ttu-id="5efde-136">SubscriptionDescription.RequiresSession</span><span class="sxs-lookup"><span data-stu-id="5efde-136">SubscriptionDescription.RequiresSession</span></span> |<span data-ttu-id="5efde-137">A ID da sessão é nula.</span><span class="sxs-lookup"><span data-stu-id="5efde-137">Session id is null.</span></span> |<span data-ttu-id="5efde-138">A entidade habilitada para sessão não permite uma mensagem cuja identificação de sessão seja nula.</span><span class="sxs-lookup"><span data-stu-id="5efde-138">Session enabled entity doesn't allow a message whose session identifier is null.</span></span> |
| <span data-ttu-id="5efde-139">!fila de mensagens mortas</span><span class="sxs-lookup"><span data-stu-id="5efde-139">!dead letter queue</span></span> |<span data-ttu-id="5efde-140">MaxTransferHopCountExceeded</span><span class="sxs-lookup"><span data-stu-id="5efde-140">MaxTransferHopCountExceeded</span></span> |<span data-ttu-id="5efde-141">Nulo</span><span class="sxs-lookup"><span data-stu-id="5efde-141">Null</span></span> |
| <span data-ttu-id="5efde-142">Mensagem morta explícita do aplicativo</span><span class="sxs-lookup"><span data-stu-id="5efde-142">Application explicit dead lettering</span></span> |<span data-ttu-id="5efde-143">Especificado pelo aplicativo</span><span class="sxs-lookup"><span data-stu-id="5efde-143">Specified by application</span></span> |<span data-ttu-id="5efde-144">Especificado pelo aplicativo</span><span class="sxs-lookup"><span data-stu-id="5efde-144">Specified by application</span></span> |

## <a name="exceeding-maxdeliverycount"></a><span data-ttu-id="5efde-145">Excedendo MaxDeliveryCount</span><span class="sxs-lookup"><span data-stu-id="5efde-145">Exceeding MaxDeliveryCount</span></span>
<span data-ttu-id="5efde-146">Filas e assinaturas têm um [QueueDescription.MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount) e [SubscriptionDescription.MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_MaxDeliveryCount) propriedade respectivamente; hello o valor padrão é 10.</span><span class="sxs-lookup"><span data-stu-id="5efde-146">Queues and subscriptions each have a [QueueDescription.MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount) and [SubscriptionDescription.MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_MaxDeliveryCount) property respectively; hello default value is 10.</span></span> <span data-ttu-id="5efde-147">Sempre que uma mensagem foi entregue em um bloqueio ([Receivemode](/dotnet/api/microsoft.servicebus.messaging.receivemode)), mas o foi explicitamente abandonada ou bloqueio Olá tiver expirado, mensagem de saudação [BrokeredMessage.DeliveryCount](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeliveryCount) é incrementado.</span><span class="sxs-lookup"><span data-stu-id="5efde-147">Whenever a message has been delivered under a lock ([ReceiveMode.PeekLock](/dotnet/api/microsoft.servicebus.messaging.receivemode)), but has been either explicitly abandoned or hello lock has expired, hello message's [BrokeredMessage.DeliveryCount](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeliveryCount) is incremented.</span></span> <span data-ttu-id="5efde-148">Quando [DeliveryCount](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeliveryCount) excede [MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount), mensagem de saudação é movido toohello DLQ, especificando Olá `MaxDeliveryCountExceeded` código de motivo.</span><span class="sxs-lookup"><span data-stu-id="5efde-148">When [DeliveryCount](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeliveryCount) exceeds [MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount), hello message is moved toohello DLQ, specifying hello `MaxDeliveryCountExceeded` reason code.</span></span>

<span data-ttu-id="5efde-149">Esse comportamento não pode ser desabilitado, mas você pode definir [MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount) número muito grande de tooa.</span><span class="sxs-lookup"><span data-stu-id="5efde-149">This behavior cannot be disabled, but you can set [MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount) tooa very large number.</span></span>

## <a name="exceeding-timetolive"></a><span data-ttu-id="5efde-150">Excedendo TimeToLive</span><span class="sxs-lookup"><span data-stu-id="5efde-150">Exceeding TimeToLive</span></span>
<span data-ttu-id="5efde-151">Olá quando [QueueDescription.EnableDeadLetteringOnMessageExpiration](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_EnableDeadLetteringOnMessageExpiration) ou [SubscriptionDescription.EnableDeadLetteringOnMessageExpiration](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_EnableDeadLetteringOnMessageExpiration) propriedade for definida muito**true** (saudação padrão é **false**), todas as mensagens expiradas são movido toohello DLQ, especificando Olá `TTLExpiredException` código de motivo.</span><span class="sxs-lookup"><span data-stu-id="5efde-151">When hello [QueueDescription.EnableDeadLetteringOnMessageExpiration](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_EnableDeadLetteringOnMessageExpiration) or [SubscriptionDescription.EnableDeadLetteringOnMessageExpiration](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_EnableDeadLetteringOnMessageExpiration) property is set too**true** (hello default is **false**), all expiring messages are moved toohello DLQ, specifying hello  `TTLExpiredException` reason code.</span></span>

<span data-ttu-id="5efde-152">Observe que as mensagens expiradas só são limpos e, portanto, movido toohello DLQ quando há pelo menos um destinatário active puxando a fila principal hello ou assinatura; Esse comportamento ocorre por design.</span><span class="sxs-lookup"><span data-stu-id="5efde-152">Note that expired messages are only purged and therefore moved toohello DLQ when there is at least one active receiver pulling on hello main queue or subscription; that behavior is by design.</span></span>

## <a name="errors-while-processing-subscription-rules"></a><span data-ttu-id="5efde-153">Erros ao processar as regras de assinatura</span><span class="sxs-lookup"><span data-stu-id="5efde-153">Errors while processing subscription rules</span></span>
<span data-ttu-id="5efde-154">Olá quando [SubscriptionDescription.EnableDeadLetteringOnFilterEvaluationExceptions](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_EnableDeadLetteringOnFilterEvaluationExceptions) propriedade está habilitada para uma assinatura, os erros que ocorrem durante a execução de regra de filtro SQL da assinatura são capturados no hello DLQ juntamente com a cadeia de mensagem de saudação.</span><span class="sxs-lookup"><span data-stu-id="5efde-154">When hello [SubscriptionDescription.EnableDeadLetteringOnFilterEvaluationExceptions](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_EnableDeadLetteringOnFilterEvaluationExceptions) property is enabled for a subscription, any errors that occur while a subscription's SQL filter rule executes are captured in hello DLQ along with hello offending message.</span></span>

## <a name="application-level-dead-lettering"></a><span data-ttu-id="5efde-155">Mensagens mortas no nível de aplicativo</span><span class="sxs-lookup"><span data-stu-id="5efde-155">Application-level dead-lettering</span></span>
<span data-ttu-id="5efde-156">Em adição toohello fornecido pelo sistema mensagens mortas recursos, os aplicativos podem usar mensagens inaceitáveis de rejeição Olá DLQ tooexplicitly.</span><span class="sxs-lookup"><span data-stu-id="5efde-156">In addition toohello system-provided dead-lettering features, applications can use hello DLQ tooexplicitly reject unacceptable messages.</span></span> <span data-ttu-id="5efde-157">Isso pode incluir as mensagens que não podem ser processadas corretamente devido tooany classificação de problema do sistema, as mensagens que contêm cargas malformadas ou mensagens de falham quando algum esquema de segurança de nível de mensagem é usada na autenticação.</span><span class="sxs-lookup"><span data-stu-id="5efde-157">This may include messages that cannot be properly processed due tooany sort of system issue, messages that hold malformed payloads, or messages that fail authentication when some message-level security scheme is used.</span></span>

## <a name="dead-lettering-in-forwardto-or-sendvia-scenarios"></a><span data-ttu-id="5efde-158">Mensagens mortas em cenários de ForwardTo ou SendVia</span><span class="sxs-lookup"><span data-stu-id="5efde-158">Dead-lettering in ForwardTo or SendVia scenarios</span></span>

<span data-ttu-id="5efde-159">As mensagens serão enviados toohello fila de mensagens mortas de transferência em Olá condições a seguir:</span><span class="sxs-lookup"><span data-stu-id="5efde-159">Messages will be sent toohello transfer dead-letter queue under hello following conditions:</span></span>

- <span data-ttu-id="5efde-160">Uma mensagem passa por mais de 3 filas ou tópicos [encadeados](service-bus-auto-forwarding.md).</span><span class="sxs-lookup"><span data-stu-id="5efde-160">A message passes through more than 3 queues or topics that are [chained together](service-bus-auto-forwarding.md).</span></span>
- <span data-ttu-id="5efde-161">Olá destino fila ou tópico está desabilitado ou excluído.</span><span class="sxs-lookup"><span data-stu-id="5efde-161">hello destination queue or topic is disabled or deleted.</span></span>
- <span data-ttu-id="5efde-162">Olá destino fila ou tópico excede o tamanho máximo de entidade de saudação.</span><span class="sxs-lookup"><span data-stu-id="5efde-162">hello destination queue or topic exceeds hello maximum entity size.</span></span>

<span data-ttu-id="5efde-163">tooretrieve essas mensagens mortas morta, você pode criar um destinatário usando Olá [FormatTransferDeadletterPath](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_FormatTransferDeadLetterPath_System_String_) método utilitário.</span><span class="sxs-lookup"><span data-stu-id="5efde-163">tooretrieve these dead-lettered messages, you can create a receiver using hello [FormatTransferDeadletterPath](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_FormatTransferDeadLetterPath_System_String_) utility method.</span></span>

## <a name="example"></a><span data-ttu-id="5efde-164">Exemplo</span><span class="sxs-lookup"><span data-stu-id="5efde-164">Example</span></span>
<span data-ttu-id="5efde-165">saudação de trecho de código a seguir cria um destinatário da mensagem.</span><span class="sxs-lookup"><span data-stu-id="5efde-165">hello following code snippet creates a message receiver.</span></span> <span data-ttu-id="5efde-166">Olá receber loop para fila principal hello, código Olá recupera a mensagem de saudação com [Receive(TimeSpan.Zero)](/dotnet/api/microsoft.servicebus.messaging.messagereceiver#Microsoft_ServiceBus_Messaging_MessageReceiver_Receive_System_TimeSpan_), que solicita a saudação broker tooinstantly retorno qualquer mensagem prontamente disponível ou tooreturn com nenhum resultado.</span><span class="sxs-lookup"><span data-stu-id="5efde-166">In hello receive loop for hello main queue, hello code retrieves hello message with [Receive(TimeSpan.Zero)](/dotnet/api/microsoft.servicebus.messaging.messagereceiver#Microsoft_ServiceBus_Messaging_MessageReceiver_Receive_System_TimeSpan_), which asks hello broker tooinstantly return any message readily available, or tooreturn with no result.</span></span> <span data-ttu-id="5efde-167">Se o código de saudação recebe uma mensagem, ele imediatamente abandona, que incrementa Olá `DeliveryCount`.</span><span class="sxs-lookup"><span data-stu-id="5efde-167">If hello code receives a message, it immediately abandons it, which increments hello  `DeliveryCount`.</span></span> <span data-ttu-id="5efde-168">Depois que o sistema Olá move a mensagem de saudação toohello DLQ, fila principal hello está vazia e Olá sai do loop, como [ReceiveAsync](/dotnet/api/microsoft.servicebus.messaging.messagereceiver#Microsoft_ServiceBus_Messaging_MessageReceiver_ReceiveAsync_System_TimeSpan_) retorna **nulo**.</span><span class="sxs-lookup"><span data-stu-id="5efde-168">Once hello system moves hello message toohello DLQ, hello main queue is empty and hello loop exits, as [ReceiveAsync](/dotnet/api/microsoft.servicebus.messaging.messagereceiver#Microsoft_ServiceBus_Messaging_MessageReceiver_ReceiveAsync_System_TimeSpan_) returns **null**.</span></span>

```csharp
var receiver = await receiverFactory.CreateMessageReceiverAsync(queueName, ReceiveMode.PeekLock);
while(true)
{
    var msg = await receiver.ReceiveAsync(TimeSpan.Zero);
    if (msg != null)
    {
        Console.WriteLine("Picked up message; DeliveryCount {0}", msg.DeliveryCount);
        await msg.AbandonAsync();
    }
    else
    {
        break;
    }
}
```

## <a name="next-steps"></a><span data-ttu-id="5efde-169">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="5efde-169">Next steps</span></span>
<span data-ttu-id="5efde-170">Consulte Olá artigos para obter mais informações sobre as filas do barramento de serviço a seguir:</span><span class="sxs-lookup"><span data-stu-id="5efde-170">See hello following articles for more information about Service Bus queues:</span></span>

* [<span data-ttu-id="5efde-171">Introdução às filas do Barramento de Serviço</span><span class="sxs-lookup"><span data-stu-id="5efde-171">Get started with Service Bus queues</span></span>](service-bus-dotnet-get-started-with-queues.md)
* [<span data-ttu-id="5efde-172">Filas do Azure e filas do Barramento de Serviço – comparações</span><span class="sxs-lookup"><span data-stu-id="5efde-172">Azure Queues and Service Bus queues compared</span></span>](service-bus-azure-and-service-bus-queues-compared-contrasted.md)

