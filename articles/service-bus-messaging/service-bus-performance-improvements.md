---
title: "práticas recomendadas de aaaBest para melhorar o desempenho usando o barramento de serviço do Azure | Microsoft Docs"
description: "Descreve como toouse durante a troca do barramento de serviço toooptimize desempenho orientado a mensagens."
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: e756c15d-31fc-45c0-8df4-0bca0da10bb2
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 05/10/2017
ms.author: sethm
ms.openlocfilehash: 52764d227757cbb11246675878933f21685817f1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="best-practices-for-performance-improvements-using-service-bus-messaging"></a><span data-ttu-id="a58f7-103">Práticas recomendadas para melhorias de desempenho usando o Sistema de Mensagens do Barramento de Serviço</span><span class="sxs-lookup"><span data-stu-id="a58f7-103">Best Practices for performance improvements using Service Bus Messaging</span></span>

<span data-ttu-id="a58f7-104">Este artigo descreve como toouse [mensagens do barramento de serviço do Azure](https://azure.microsoft.com/services/service-bus/) toooptimize desempenho durante a troca de mensagens orientadas pelo.</span><span class="sxs-lookup"><span data-stu-id="a58f7-104">This article describes how toouse [Azure Service Bus messaging](https://azure.microsoft.com/services/service-bus/) toooptimize performance when exchanging brokered messages.</span></span> <span data-ttu-id="a58f7-105">Olá primeira parte deste tópico descreve Olá diferentes mecanismos oferecidos toohelp aumentam o desempenho.</span><span class="sxs-lookup"><span data-stu-id="a58f7-105">hello first part of this topic describes hello different mechanisms that are offered toohelp increase performance.</span></span> <span data-ttu-id="a58f7-106">segunda parte do Hello fornece orientação sobre como toouse barramento de serviço de forma que pode oferecer Olá melhor desempenho em um determinado cenário.</span><span class="sxs-lookup"><span data-stu-id="a58f7-106">hello second part provides guidance on how toouse Service Bus in a way that can offer hello best performance in a given scenario.</span></span>

<span data-ttu-id="a58f7-107">Ao longo deste tópico, o termo de hello "cliente" se refere a entidade tooany que acessa o barramento de serviço.</span><span class="sxs-lookup"><span data-stu-id="a58f7-107">Throughout this topic, hello term "client" refers tooany entity that accesses Service Bus.</span></span> <span data-ttu-id="a58f7-108">Um cliente pode usar a função de saudação de um remetente ou destinatário.</span><span class="sxs-lookup"><span data-stu-id="a58f7-108">A client can take hello role of a sender or a receiver.</span></span> <span data-ttu-id="a58f7-109">Olá termo "remetente" é usado para um cliente de fila ou tópico do barramento de serviço que envia mensagens tooa barramento de serviço fila ou tópico.</span><span class="sxs-lookup"><span data-stu-id="a58f7-109">hello term "sender" is used for a Service Bus queue or topic client that sends messages tooa Service Bus queue or topic.</span></span> <span data-ttu-id="a58f7-110">termo Hello "destinatário" se refere a tooa barramento de serviço fila ou assinatura de cliente que recebe mensagens de uma fila do barramento de serviço ou a assinatura.</span><span class="sxs-lookup"><span data-stu-id="a58f7-110">hello term "receiver" refers tooa Service Bus queue or subscription client that receives messages from a Service Bus queue or subscription.</span></span>

<span data-ttu-id="a58f7-111">Estas seções apresentam vários conceitos que o barramento de serviço usa toohelp melhorar o desempenho.</span><span class="sxs-lookup"><span data-stu-id="a58f7-111">These sections introduce several concepts that Service Bus uses toohelp boost performance.</span></span>

## <a name="protocols"></a><span data-ttu-id="a58f7-112">Protocolos</span><span class="sxs-lookup"><span data-stu-id="a58f7-112">Protocols</span></span>
<span data-ttu-id="a58f7-113">Barramento de serviço permite que clientes toosend e recebam mensagens por meio de um dos três protocolos:</span><span class="sxs-lookup"><span data-stu-id="a58f7-113">Service Bus enables clients toosend and receive messages via one of three protocols:</span></span>

1. <span data-ttu-id="a58f7-114">Advanced Message Queuing Protocol (AMQP)</span><span class="sxs-lookup"><span data-stu-id="a58f7-114">Advanced Message Queuing Protocol (AMQP)</span></span>
2. <span data-ttu-id="a58f7-115">Protocolo do sistema de mensagens do Barramento de Serviço (SBMP)</span><span class="sxs-lookup"><span data-stu-id="a58f7-115">Service Bus Messaging Protocol (SBMP)</span></span>
3. <span data-ttu-id="a58f7-116">HTTP</span><span class="sxs-lookup"><span data-stu-id="a58f7-116">HTTP</span></span>

<span data-ttu-id="a58f7-117">AMQP e SBMP são mais eficientes, porque eles mantenham Olá conexão tooService barramento desde que a fábrica de mensagens de saudação existe.</span><span class="sxs-lookup"><span data-stu-id="a58f7-117">AMQP and SBMP are more efficient, because they maintain hello connection tooService Bus as long as hello messaging factory exists.</span></span> <span data-ttu-id="a58f7-118">Ele também implementa o envio em lote e a pré-busca.</span><span class="sxs-lookup"><span data-stu-id="a58f7-118">It also implements batching and prefetching.</span></span> <span data-ttu-id="a58f7-119">A menos que mencionado explicitamente, todo o conteúdo deste tópico assume o uso de saudação do AMQP ou SBMP.</span><span class="sxs-lookup"><span data-stu-id="a58f7-119">Unless explicitly mentioned, all content in this topic assumes hello use of AMQP or SBMP.</span></span>

## <a name="reusing-factories-and-clients"></a><span data-ttu-id="a58f7-120">Reutilizando fábricas e clientes</span><span class="sxs-lookup"><span data-stu-id="a58f7-120">Reusing factories and clients</span></span>
<span data-ttu-id="a58f7-121">Os objetos de cliente do Barramento de Serviço, como [QueueClient][QueueClient] ou [MessageSender][MessageSender], são criados por meio de um objeto [MessagingFactory][MessagingFactory], que também oferece gerenciamento interno de conexões.</span><span class="sxs-lookup"><span data-stu-id="a58f7-121">Service Bus client objects, such as [QueueClient][QueueClient] or [MessageSender][MessageSender], are created through a [MessagingFactory][MessagingFactory] object, which also provides internal management of connections.</span></span> <span data-ttu-id="a58f7-122">Você não deve fechar fábricas de mensagens ou fila, tópico e clientes de assinatura depois de enviar uma mensagem e, em seguida, recriá-las ao enviar mensagem de saudação do próxima.</span><span class="sxs-lookup"><span data-stu-id="a58f7-122">You should not close messaging factories or queue, topic, and subscription clients after you send a message, and then re-create them when you send hello next message.</span></span> <span data-ttu-id="a58f7-123">Fechar uma fábrica de mensagens exclui Olá conexão toohello serviço service Bus, e uma nova conexão é estabelecida ao recriar a fábrica de saudação.</span><span class="sxs-lookup"><span data-stu-id="a58f7-123">Closing a messaging factory deletes hello connection toohello Service Bus service, and a new connection is established when recreating hello factory.</span></span> <span data-ttu-id="a58f7-124">Estabelecer que uma conexão é uma operação cara que você pode evitar novamente usando Olá mesma fábrica e cliente objetos para várias operações.</span><span class="sxs-lookup"><span data-stu-id="a58f7-124">Establishing a connection is an expensive operation that you can avoid by re-using hello same factory and client objects for multiple operations.</span></span> <span data-ttu-id="a58f7-125">Você pode usar com segurança Olá [QueueClient] [ QueueClient] objeto para enviar mensagens de operações assíncronas simultâneas e de vários threads.</span><span class="sxs-lookup"><span data-stu-id="a58f7-125">You can safely use hello [QueueClient][QueueClient] object for sending messages from concurrent asynchronous operations and multiple threads.</span></span> 

## <a name="concurrent-operations"></a><span data-ttu-id="a58f7-126">Operações simultâneas</span><span class="sxs-lookup"><span data-stu-id="a58f7-126">Concurrent operations</span></span>
<span data-ttu-id="a58f7-127">A execução de uma operação (enviar, receber, excluir etc.) leva algum tempo.</span><span class="sxs-lookup"><span data-stu-id="a58f7-127">Performing an operation (send, receive, delete, etc.) takes some time.</span></span> <span data-ttu-id="a58f7-128">Esse tempo inclui o processamento de Olá da operação de saudação pelo Olá barramento de serviço na latência de toohello de adição de solicitação de saudação e resposta de saudação.</span><span class="sxs-lookup"><span data-stu-id="a58f7-128">This time includes hello processing of hello operation by hello Service Bus service in addition toohello latency of hello request and hello reply.</span></span> <span data-ttu-id="a58f7-129">número de saudação tooincrease de operações por vez, as operações devem ser executadas simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="a58f7-129">tooincrease hello number of operations per time, operations must execute concurrently.</span></span> <span data-ttu-id="a58f7-130">Você pode fazer isso de várias maneiras diferentes:</span><span class="sxs-lookup"><span data-stu-id="a58f7-130">You can do this in several different ways:</span></span>

* <span data-ttu-id="a58f7-131">**Operações assíncronas**: cliente Olá agenda operações realizando operações assíncronas.</span><span class="sxs-lookup"><span data-stu-id="a58f7-131">**Asynchronous operations**: hello client schedules operations by performing asynchronous operations.</span></span> <span data-ttu-id="a58f7-132">Olá próxima solicitação é iniciada antes da conclusão da solicitação anterior de saudação.</span><span class="sxs-lookup"><span data-stu-id="a58f7-132">hello next request is started before hello previous request is completed.</span></span> <span data-ttu-id="a58f7-133">Olá seguinte é um exemplo de uma operação de envio assíncrono:</span><span class="sxs-lookup"><span data-stu-id="a58f7-133">hello following is an example of an asynchronous send operation:</span></span>
  
 ```csharp
  BrokeredMessage m1 = new BrokeredMessage(body);
  BrokeredMessage m2 = new BrokeredMessage(body);
  
  Task send1 = queueClient.SendAsync(m1).ContinueWith((t) => 
    {
      Console.WriteLine("Sent message #1");
    });
  Task send2 = queueClient.SendAsync(m2).ContinueWith((t) => 
    {
      Console.WriteLine("Sent message #2");
    });
  Task.WaitAll(send1, send2);
  Console.WriteLine("All messages sent");
  ```
  
  <span data-ttu-id="a58f7-134">Este é um exemplo de uma operação de recebimento assíncrono:</span><span class="sxs-lookup"><span data-stu-id="a58f7-134">This is an example of an asynchronous receive operation:</span></span>
  
  ```csharp
  Task receive1 = queueClient.ReceiveAsync().ContinueWith(ProcessReceivedMessage);
  Task receive2 = queueClient.ReceiveAsync().ContinueWith(ProcessReceivedMessage);
  
  Task.WaitAll(receive1, receive2);
  Console.WriteLine("All messages received");
  
  async void ProcessReceivedMessage(Task<BrokeredMessage> t)
  {
    BrokeredMessage m = t.Result;
    Console.WriteLine("{0} received", m.Label);
    await m.CompleteAsync();
    Console.WriteLine("{0} complete", m.Label);
  }
  ```
* <span data-ttu-id="a58f7-135">**Diversas fábricas**: todos os clientes (remetentes de adição tooreceivers) que são criados por Olá mesma fábrica compartilhamento um TCP conexão.</span><span class="sxs-lookup"><span data-stu-id="a58f7-135">**Multiple factories**: all clients (senders in addition tooreceivers) that are created by hello same factory share one TCP connection.</span></span> <span data-ttu-id="a58f7-136">taxa de transferência de máximo de mensagem de saudação é limitada pelo número de saudação de operações que podem passar por essa conexão TCP.</span><span class="sxs-lookup"><span data-stu-id="a58f7-136">hello maximum message throughput is limited by hello number of operations that can go through this TCP connection.</span></span> <span data-ttu-id="a58f7-137">taxa de transferência de saudação que pode ser obtida com uma única fábrica varia muito de acordo com os horários de ida e volta do TCP e o tamanho da mensagem.</span><span class="sxs-lookup"><span data-stu-id="a58f7-137">hello throughput that can be obtained with a single factory varies greatly with TCP round-trip times and message size.</span></span> <span data-ttu-id="a58f7-138">taxas de transferência mais altas tooobtain, você deve usar diversas fábricas de mensagens.</span><span class="sxs-lookup"><span data-stu-id="a58f7-138">tooobtain higher throughput rates, you should use multiple messaging factories.</span></span>

## <a name="receive-mode"></a><span data-ttu-id="a58f7-139">Modo de recebimento</span><span class="sxs-lookup"><span data-stu-id="a58f7-139">Receive mode</span></span>
<span data-ttu-id="a58f7-140">Ao criar um cliente de fila ou de assinatura, você poderá especificar um modo de recebimento: *Bloqueio de pico* ou *Receber e Excluir*.</span><span class="sxs-lookup"><span data-stu-id="a58f7-140">When creating a queue or subscription client, you can specify a receive mode: *Peek-lock* or *Receive and Delete*.</span></span> <span data-ttu-id="a58f7-141">modo de recebimento saudação padrão é [PeekLock][PeekLock].</span><span class="sxs-lookup"><span data-stu-id="a58f7-141">hello default receive mode is [PeekLock][PeekLock].</span></span> <span data-ttu-id="a58f7-142">Ao operar nesse modo, o cliente de saudação envia uma solicitação tooreceive uma mensagem do barramento de serviço.</span><span class="sxs-lookup"><span data-stu-id="a58f7-142">When operating in this mode, hello client sends a request tooreceive a message from Service Bus.</span></span> <span data-ttu-id="a58f7-143">Depois de saudação cliente receber uma mensagem de saudação, ele envia uma mensagem de saudação do toocomplete de solicitação.</span><span class="sxs-lookup"><span data-stu-id="a58f7-143">After hello client has received hello message, it sends a request toocomplete hello message.</span></span>

<span data-ttu-id="a58f7-144">Quando definir Olá modo de recebimento muito[ReceiveAndDelete][ReceiveAndDelete], ambas as etapas são combinadas em uma única solicitação.</span><span class="sxs-lookup"><span data-stu-id="a58f7-144">When setting hello receive mode too[ReceiveAndDelete][ReceiveAndDelete], both steps are combined in a single request.</span></span> <span data-ttu-id="a58f7-145">Isso reduz o número geral das operações de saudação e pode melhorar Olá geral taxa de transferência de mensagem.</span><span class="sxs-lookup"><span data-stu-id="a58f7-145">This reduces hello overall number of operations, and can improve hello overall message throughput.</span></span> <span data-ttu-id="a58f7-146">O ganho de desempenho vem corre o risco de saudação de perda de mensagens.</span><span class="sxs-lookup"><span data-stu-id="a58f7-146">This performance gain comes at hello risk of losing messages.</span></span>

<span data-ttu-id="a58f7-147">O Barramento de Serviço não dá suporte a transações para operações de receber e excluir.</span><span class="sxs-lookup"><span data-stu-id="a58f7-147">Service Bus does not support transactions for receive-and-delete operations.</span></span> <span data-ttu-id="a58f7-148">Além disso, a semântica de bloqueio de inspeção é necessária para os cenários nos quais Olá cliente quer toodefer ou [mortas](service-bus-dead-letter-queues.md) uma mensagem.</span><span class="sxs-lookup"><span data-stu-id="a58f7-148">In addition, peek-lock semantics are required for any scenarios in which hello client wants toodefer or [dead-letter](service-bus-dead-letter-queues.md) a message.</span></span>

## <a name="client-side-batching"></a><span data-ttu-id="a58f7-149">Envio em lote no lado do cliente</span><span class="sxs-lookup"><span data-stu-id="a58f7-149">Client-side batching</span></span>
<span data-ttu-id="a58f7-150">O envio em lote do lado do cliente permite que uma fila ou tópico cliente toodelay Olá envio de uma mensagem para um determinado período de tempo.</span><span class="sxs-lookup"><span data-stu-id="a58f7-150">Client-side batching enables a queue or topic client toodelay hello sending of a message for a certain period of time.</span></span> <span data-ttu-id="a58f7-151">Se o cliente Olá envia mensagens adicionais durante esse período, ele transmite mensagens de saudação em um único lote.</span><span class="sxs-lookup"><span data-stu-id="a58f7-151">If hello client sends additional messages during this time period, it transmits hello messages in a single batch.</span></span> <span data-ttu-id="a58f7-152">O envio em lote do lado do cliente também faz com que um toobatch de cliente de fila ou assinatura vários **concluir** solicitações em uma única solicitação.</span><span class="sxs-lookup"><span data-stu-id="a58f7-152">Client-side batching also causes a queue or subscription client toobatch multiple **Complete** requests into a single request.</span></span> <span data-ttu-id="a58f7-153">O envio em lote está disponível apenas para operações **Enviar** e **Concluir** assíncronas.</span><span class="sxs-lookup"><span data-stu-id="a58f7-153">Batching is only available for asynchronous **Send** and **Complete** operations.</span></span> <span data-ttu-id="a58f7-154">Operações síncronas são enviadas imediatamente toohello do barramento de serviço do serviço.</span><span class="sxs-lookup"><span data-stu-id="a58f7-154">Synchronous operations are immediately sent toohello Service Bus service.</span></span> <span data-ttu-id="a58f7-155">O envio em lote não ocorre para as operações de pico ou de recebimento, e também não ocorre entre clientes.</span><span class="sxs-lookup"><span data-stu-id="a58f7-155">Batching does not occur for peek or receive operations, nor does batching occur across clients.</span></span>

<span data-ttu-id="a58f7-156">Por padrão, um cliente usa um intervalo de lote de 20 ms.</span><span class="sxs-lookup"><span data-stu-id="a58f7-156">By default, a client uses a batch interval of 20ms.</span></span> <span data-ttu-id="a58f7-157">Você pode alterar o intervalo de lote de saudação por configuração Olá [BatchFlushInterval] [ BatchFlushInterval] Olá propriedade antes de criar a fábrica de mensagens.</span><span class="sxs-lookup"><span data-stu-id="a58f7-157">You can change hello batch interval by setting hello [BatchFlushInterval][BatchFlushInterval] property before creating hello messaging factory.</span></span> <span data-ttu-id="a58f7-158">Essa configuração afeta todos os clientes criados por essa fábrica.</span><span class="sxs-lookup"><span data-stu-id="a58f7-158">This setting affects all clients that are created by this factory.</span></span>

<span data-ttu-id="a58f7-159">toodisable envio em lote, defina Olá [BatchFlushInterval] [ BatchFlushInterval] propriedade muito**TimeSpan**.</span><span class="sxs-lookup"><span data-stu-id="a58f7-159">toodisable batching, set hello [BatchFlushInterval][BatchFlushInterval] property too**TimeSpan.Zero**.</span></span> <span data-ttu-id="a58f7-160">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="a58f7-160">For example:</span></span>

```csharp
MessagingFactorySettings mfs = new MessagingFactorySettings();
mfs.TokenProvider = tokenProvider;
mfs.NetMessagingTransportSettings.BatchFlushInterval = TimeSpan.FromSeconds(0.05);
MessagingFactory messagingFactory = MessagingFactory.Create(namespaceUri, mfs);
```

<span data-ttu-id="a58f7-161">Envio em lote não afeta o número de saudação de operações de mensagens faturáveis e está disponível apenas para Olá protocolo de cliente do barramento de serviço.</span><span class="sxs-lookup"><span data-stu-id="a58f7-161">Batching does not affect hello number of billable messaging operations, and is available only for hello Service Bus client protocol.</span></span> <span data-ttu-id="a58f7-162">Olá protocolo HTTP não dá suporte a envio em lote.</span><span class="sxs-lookup"><span data-stu-id="a58f7-162">hello HTTP protocol does not support batching.</span></span>

## <a name="batching-store-access"></a><span data-ttu-id="a58f7-163">Acesso ao repositório do envio em lote</span><span class="sxs-lookup"><span data-stu-id="a58f7-163">Batching store access</span></span>
<span data-ttu-id="a58f7-164">taxa de transferência tooincrease Olá de fila, tópico ou assinatura, o barramento de serviço agrupa várias mensagens ao gravar repositório interno tooits.</span><span class="sxs-lookup"><span data-stu-id="a58f7-164">tooincrease hello throughput of a queue, topic, or subscription, Service Bus batches multiple messages when it writes tooits internal store.</span></span> <span data-ttu-id="a58f7-165">Se habilitada em uma fila ou tópico, gravar mensagens no repositório de saudação será agrupada.</span><span class="sxs-lookup"><span data-stu-id="a58f7-165">If enabled on a queue or topic, writing messages into hello store will be batched.</span></span> <span data-ttu-id="a58f7-166">Se habilitada em uma fila ou assinatura, a exclusão de mensagens do repositório de saudação será agrupada.</span><span class="sxs-lookup"><span data-stu-id="a58f7-166">If enabled on a queue or subscription, deleting messages from hello store will be batched.</span></span> <span data-ttu-id="a58f7-167">Se o acesso ao repositório em lote estiver habilitado para uma entidade, o barramento de serviço atrasa a uma operação de gravação do repositório em relação essa entidade por backup too20ms.</span><span class="sxs-lookup"><span data-stu-id="a58f7-167">If batched store access is enabled for an entity, Service Bus delays a store write operation regarding that entity by up too20ms.</span></span> <span data-ttu-id="a58f7-168">Operações de armazenamento adicionais que ocorrem durante esse intervalo são adicionadas toohello lote.</span><span class="sxs-lookup"><span data-stu-id="a58f7-168">Additional store operations that occur during this interval are added toohello batch.</span></span> <span data-ttu-id="a58f7-169">O acesso ao repositório em lote só afetará as operações **Enviar** e **Concluir**; as operações de receber não são afetadas.</span><span class="sxs-lookup"><span data-stu-id="a58f7-169">Batched store access only affects **Send** and **Complete** operations; receive operations are not affected.</span></span> <span data-ttu-id="a58f7-170">O acesso ao repositório em lote é uma propriedade em uma entidade.</span><span class="sxs-lookup"><span data-stu-id="a58f7-170">Batched store access is a property on an entity.</span></span> <span data-ttu-id="a58f7-171">O envio em lote ocorrerá em todas as entidades que permitirem o acesso ao repositório em lote.</span><span class="sxs-lookup"><span data-stu-id="a58f7-171">Batching occurs across all entities that enable batched store access.</span></span>

<span data-ttu-id="a58f7-172">Quando uma nova fila, um novo tópico ou uma nova assinatura for criada, o acesso ao repositório em lote será habilitado por padrão.</span><span class="sxs-lookup"><span data-stu-id="a58f7-172">When creating a new queue, topic or subscription, batched store access is enabled by default.</span></span> <span data-ttu-id="a58f7-173">conjunto Olá acesso ao repositório em lote de toodisable [EnableBatchedOperations] [ EnableBatchedOperations] propriedade muito**false** antes de criar a entidade de saudação.</span><span class="sxs-lookup"><span data-stu-id="a58f7-173">toodisable batched store access, set hello [EnableBatchedOperations][EnableBatchedOperations] property too**false** before creating hello entity.</span></span> <span data-ttu-id="a58f7-174">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="a58f7-174">For example:</span></span>

```csharp
QueueDescription qd = new QueueDescription();
qd.EnableBatchedOperations = false;
Queue q = namespaceManager.CreateQueue(qd);
```

<span data-ttu-id="a58f7-175">Acesso ao repositório em lote não afeta o número de saudação de operações de mensagens faturáveis e é uma propriedade de uma fila, tópico ou assinatura.</span><span class="sxs-lookup"><span data-stu-id="a58f7-175">Batched store access does not affect hello number of billable messaging operations, and is a property of a queue, topic, or subscription.</span></span> <span data-ttu-id="a58f7-176">É independente do hello receber modo e hello protocolo usado entre um cliente e hello barramento de serviço.</span><span class="sxs-lookup"><span data-stu-id="a58f7-176">It is independent of hello receive mode and hello protocol that is used between a client and hello Service Bus service.</span></span>

## <a name="prefetching"></a><span data-ttu-id="a58f7-177">Pré-busca</span><span class="sxs-lookup"><span data-stu-id="a58f7-177">Prefetching</span></span>
<span data-ttu-id="a58f7-178">A pré-busca permite fila ou assinatura de cliente tooload adicionais mensagens de saudação do serviço de saudação quando ele executa uma operação de recebimento.</span><span class="sxs-lookup"><span data-stu-id="a58f7-178">Prefetching enables hello queue or subscription client tooload additional messages from hello service when it performs a receive operation.</span></span> <span data-ttu-id="a58f7-179">cliente Olá armazena essas mensagens em um cache local.</span><span class="sxs-lookup"><span data-stu-id="a58f7-179">hello client stores these messages in a local cache.</span></span> <span data-ttu-id="a58f7-180">tamanho de saudação do cache de saudação é determinado pelo Olá [Prefetchcounté] [ QueueClient.PrefetchCount] ou [ubscriptionclient. Prefetchcount] [ SubscriptionClient.PrefetchCount] Propriedades.</span><span class="sxs-lookup"><span data-stu-id="a58f7-180">hello size of hello cache is determined by hello [QueueClient.PrefetchCount][QueueClient.PrefetchCount] or [SubscriptionClient.PrefetchCount][SubscriptionClient.PrefetchCount] properties.</span></span> <span data-ttu-id="a58f7-181">Cada cliente que permite a pré-busca mantém seu próprio cache.</span><span class="sxs-lookup"><span data-stu-id="a58f7-181">Each client that enables prefetching maintains its own cache.</span></span> <span data-ttu-id="a58f7-182">Um cache não é compartilhado entre os clientes.</span><span class="sxs-lookup"><span data-stu-id="a58f7-182">A cache is not shared across clients.</span></span> <span data-ttu-id="a58f7-183">Se o cliente de saudação inicia uma operação de recebimento e o cache estiver vazio, o serviço de saudação transmite um lote de mensagens.</span><span class="sxs-lookup"><span data-stu-id="a58f7-183">If hello client initiates a receive operation and its cache is empty, hello service transmits a batch of messages.</span></span> <span data-ttu-id="a58f7-184">Olá tamanho de lote de saudação é igual ao tamanho de saudação do cache de saudação ou 256 KB, o que for menor.</span><span class="sxs-lookup"><span data-stu-id="a58f7-184">hello size of hello batch equals hello size of hello cache or 256 KB, whichever is smaller.</span></span> <span data-ttu-id="a58f7-185">Se o cliente Olá inicia uma operação de recebimento e cache de saudação contém uma mensagem, mensagem de saudação será removida do cache de saudação.</span><span class="sxs-lookup"><span data-stu-id="a58f7-185">If hello client initiates a receive operation and hello cache contains a message, hello message is taken from hello cache.</span></span>

<span data-ttu-id="a58f7-186">Quando uma mensagem passa por pré-busca, mensagem de saudação de bloqueios pré-busca serviço hello.</span><span class="sxs-lookup"><span data-stu-id="a58f7-186">When a message is prefetched, hello service locks hello prefetched message.</span></span> <span data-ttu-id="a58f7-187">Ao fazer isso, mensagem de pré-busca de saudação não pode ser recebida por um destinatário diferente.</span><span class="sxs-lookup"><span data-stu-id="a58f7-187">By doing this, hello prefetched message cannot be received by a different receiver.</span></span> <span data-ttu-id="a58f7-188">Se o destinatário Olá não pode concluir a mensagem de saudação antes de expira o bloqueio de Olá, mensagem de saudação torna-se receptores tooother disponíveis.</span><span class="sxs-lookup"><span data-stu-id="a58f7-188">If hello receiver cannot complete hello message before hello lock expires, hello message becomes available tooother receivers.</span></span> <span data-ttu-id="a58f7-189">cópia de pré-busca de saudação de mensagem de saudação permanece no cache de saudação.</span><span class="sxs-lookup"><span data-stu-id="a58f7-189">hello prefetched copy of hello message remains in hello cache.</span></span> <span data-ttu-id="a58f7-190">Olá receptor que consome Olá expirou em cache cópia receberá uma exceção quando ele tenta toocomplete essa mensagem.</span><span class="sxs-lookup"><span data-stu-id="a58f7-190">hello receiver that consumes hello expired cached copy will receive an exception when it tries toocomplete that message.</span></span> <span data-ttu-id="a58f7-191">Por padrão, o bloqueio de mensagem de saudação expira após 60 segundos.</span><span class="sxs-lookup"><span data-stu-id="a58f7-191">By default, hello message lock expires after 60 seconds.</span></span> <span data-ttu-id="a58f7-192">Esse valor pode ser estendido too5 minutos.</span><span class="sxs-lookup"><span data-stu-id="a58f7-192">This value can be extended too5 minutes.</span></span> <span data-ttu-id="a58f7-193">tooprevent o consumo de saudação de mensagens expiradas, tamanho do cache de saudação sempre deve ser menor que o número de saudação de mensagens que podem ser consumidos por um cliente dentro do intervalo de tempo limite de bloqueio de saudação.</span><span class="sxs-lookup"><span data-stu-id="a58f7-193">tooprevent hello consumption of expired messages, hello cache size should always be smaller than hello number of messages that can be consumed by a client within hello lock time-out interval.</span></span>

<span data-ttu-id="a58f7-194">Ao usar Olá expiração de bloqueio padrão de 60 segundos, um bom valor para [ubscriptionclient. Prefetchcount] [ SubscriptionClient.PrefetchCount] é 20 vezes Olá máximo taxas de processamento de todos os destinatários da fábrica de saudação.</span><span class="sxs-lookup"><span data-stu-id="a58f7-194">When using hello default lock expiration of 60 seconds, a good value for [SubscriptionClient.PrefetchCount][SubscriptionClient.PrefetchCount] is 20 times hello maximum processing rates of all receivers of hello factory.</span></span> <span data-ttu-id="a58f7-195">Por exemplo, uma fábrica cria 3 receptores e cada receptor pode processar as mensagens de too10 por segundo.</span><span class="sxs-lookup"><span data-stu-id="a58f7-195">For example, a factory creates 3 receivers, and each receiver can process up too10 messages per second.</span></span> <span data-ttu-id="a58f7-196">Contagem de pré-busca de saudação não deve exceder 20 X 3 X 10 = 600.</span><span class="sxs-lookup"><span data-stu-id="a58f7-196">hello prefetch count should not exceed 20 X 3 X 10 = 600.</span></span> <span data-ttu-id="a58f7-197">Por padrão, [Prefetchcounté] [ QueueClient.PrefetchCount] é too0 de conjunto, o que significa que não há mensagens adicionais buscadas do serviço de saudação.</span><span class="sxs-lookup"><span data-stu-id="a58f7-197">By default, [QueueClient.PrefetchCount][QueueClient.PrefetchCount] is set too0, which means that no additional messages are fetched from hello service.</span></span>

<span data-ttu-id="a58f7-198">Aumenta Olá produtividade geral para uma fila ou assinatura porque reduz Olá geral número de operações de mensagens ou viagens de ida e as mensagens de pré-busca.</span><span class="sxs-lookup"><span data-stu-id="a58f7-198">Prefetching messages increases hello overall throughput for a queue or subscription because it reduces hello overall number of message operations, or round trips.</span></span> <span data-ttu-id="a58f7-199">Busca a primeira mensagem de saudação, no entanto, levará mais tempo (devido toohello maior tamanho da mensagem).</span><span class="sxs-lookup"><span data-stu-id="a58f7-199">Fetching hello first message, however, will take longer (due toohello increased message size).</span></span> <span data-ttu-id="a58f7-200">Receber mensagens de pré-busca será mais rápido porque essas mensagens já foram baixadas pelo cliente hello.</span><span class="sxs-lookup"><span data-stu-id="a58f7-200">Receiving prefetched messages will be faster because these messages have already been downloaded by hello client.</span></span>

<span data-ttu-id="a58f7-201">Olá time-to-live (TTL) propriedade de uma mensagem é verificada pelo servidor de saudação em tempo de saudação servidor Olá envia o cliente de toohello de mensagem de saudação.</span><span class="sxs-lookup"><span data-stu-id="a58f7-201">hello time-to-live (TTL) property of a message is checked by hello server at hello time hello server sends hello message toohello client.</span></span> <span data-ttu-id="a58f7-202">cliente de saudação não verifica a propriedade TTL da mensagem de saudação após o recebimento de mensagem de saudação.</span><span class="sxs-lookup"><span data-stu-id="a58f7-202">hello client does not check hello message’s TTL property when hello message is received.</span></span> <span data-ttu-id="a58f7-203">Em vez disso, mensagem de saudação pode ser recebida mesmo que o TTL da mensagem de saudação tenha passado enquanto a mensagem de saudação foi armazenado em cache pelo cliente de saudação.</span><span class="sxs-lookup"><span data-stu-id="a58f7-203">Instead, hello message can be received even if hello message’s TTL has passed while hello message was cached by hello client.</span></span>

<span data-ttu-id="a58f7-204">A pré-busca não afeta o número de saudação de operações de mensagens faturáveis e está disponível apenas para Olá protocolo de cliente do barramento de serviço.</span><span class="sxs-lookup"><span data-stu-id="a58f7-204">Prefetching does not affect hello number of billable messaging operations, and is available only for hello Service Bus client protocol.</span></span> <span data-ttu-id="a58f7-205">Olá protocolo HTTP não oferece suporte a pré-busca.</span><span class="sxs-lookup"><span data-stu-id="a58f7-205">hello HTTP protocol does not support prefetching.</span></span> <span data-ttu-id="a58f7-206">A pré-busca está disponível para as operações de recebimento síncrono e assíncrono.</span><span class="sxs-lookup"><span data-stu-id="a58f7-206">Prefetching is available for both synchronous and asynchronous receive operations.</span></span>

## <a name="express-queues-and-topics"></a><span data-ttu-id="a58f7-207">Filas e tópicos expressos</span><span class="sxs-lookup"><span data-stu-id="a58f7-207">Express queues and topics</span></span>

<span data-ttu-id="a58f7-208">Entidades expressas permitem cenários de redução da latência e alta taxa de transferência e têm suporte apenas na camada de mensagem padrão hello.</span><span class="sxs-lookup"><span data-stu-id="a58f7-208">Express entities enable high throughput and reduced latency scenarios, and are supported only in hello Standard messaging tier.</span></span> <span data-ttu-id="a58f7-209">Entidades criadas em [namespaces Premium](service-bus-premium-messaging.md) não oferecem suporte a opção express hello.</span><span class="sxs-lookup"><span data-stu-id="a58f7-209">Entities created in [Premium namespaces](service-bus-premium-messaging.md) do not support hello express option.</span></span> <span data-ttu-id="a58f7-210">Com entidades expressas, se uma mensagem é enviada tooa fila ou tópico, mensagem de saudação não é imediatamente armazenada no repositório de mensagens de saudação.</span><span class="sxs-lookup"><span data-stu-id="a58f7-210">With express entities, if a message is sent tooa queue or topic, hello message is not immediately stored in hello messaging store.</span></span> <span data-ttu-id="a58f7-211">Em vez disso, ela será armazenada em cache na memória.</span><span class="sxs-lookup"><span data-stu-id="a58f7-211">Instead, it is cached in memory.</span></span> <span data-ttu-id="a58f7-212">Se uma mensagem permanece na fila de saudação por mais de alguns segundos, é automaticamente gravada armazenamento toostable, protegendo contra perda de vencimento tooan interrupção.</span><span class="sxs-lookup"><span data-stu-id="a58f7-212">If a message remains in hello queue for more than a few seconds, it is automatically written toostable storage, thus protecting it against loss due tooan outage.</span></span> <span data-ttu-id="a58f7-213">Armazenamento de mensagem de saudação do tempo de saudação gravar a mensagem de saudação em um cache de memória aumenta a taxa de transferência e reduz a latência porque não há nenhum toostable de acesso é enviado.</span><span class="sxs-lookup"><span data-stu-id="a58f7-213">Writing hello message into a memory cache increases throughput and reduces latency because there is no access toostable storage at hello time hello message is sent.</span></span> <span data-ttu-id="a58f7-214">As mensagens consumidas em alguns segundos não são gravadas toohello repositório de mensagens.</span><span class="sxs-lookup"><span data-stu-id="a58f7-214">Messages that are consumed within a few seconds are not written toohello messaging store.</span></span> <span data-ttu-id="a58f7-215">saudação de exemplo a seguir cria um tópico expresso.</span><span class="sxs-lookup"><span data-stu-id="a58f7-215">hello following example creates an express topic.</span></span>

```csharp
TopicDescription td = new TopicDescription(TopicName);
td.EnableExpress = true;
namespaceManager.CreateTopic(td);
```

<span data-ttu-id="a58f7-216">Se uma mensagem que contém informações importantes que não devem ser perdidas é enviada entidade expressa tooan, remetente Olá poderá forçar o barramento de serviço tooimmediately manter toostable armazenamento de mensagem de saudação, definindo Olá [ForcePersistence] [ ForcePersistence] propriedade muito**true**.</span><span class="sxs-lookup"><span data-stu-id="a58f7-216">If a message containing critical information that must not be lost is sent tooan express entity, hello sender can force Service Bus tooimmediately persist hello message toostable storage by setting hello [ForcePersistence][ForcePersistence] property too**true**.</span></span>

> [!NOTE]
> <span data-ttu-id="a58f7-217">As entidades expressas não dão suporte a transações.</span><span class="sxs-lookup"><span data-stu-id="a58f7-217">Express entities do not support transactions.</span></span>

## <a name="use-of-partitioned-queues-or-topics"></a><span data-ttu-id="a58f7-218">Uso de filas ou tópicos particionados</span><span class="sxs-lookup"><span data-stu-id="a58f7-218">Use of partitioned queues or topics</span></span>
<span data-ttu-id="a58f7-219">Internamente, o barramento de serviço usa Olá mesmo nó e tooprocess do repositório de mensagens e armazena todas as mensagens de uma entidade de mensagens (fila ou tópico).</span><span class="sxs-lookup"><span data-stu-id="a58f7-219">Internally, Service Bus uses hello same node and messaging store tooprocess and store all messages for a messaging entity (queue or topic).</span></span> <span data-ttu-id="a58f7-220">Uma fila ou tópico particionado, em Olá outro lado, é distribuído em vários nós e repositórios de mensagens.</span><span class="sxs-lookup"><span data-stu-id="a58f7-220">A partitioned queue or topic, on hello other hand, is distributed across multiple nodes and messaging stores.</span></span> <span data-ttu-id="a58f7-221">As filas e tópicos particionados não só geram uma taxa de transferência mais alta do que as filas e os tópicos normais, como também exibem disponibilidade superior.</span><span class="sxs-lookup"><span data-stu-id="a58f7-221">Partitioned queues and topics not only yield a higher throughput than regular queues and topics, they also exhibit superior availability.</span></span> <span data-ttu-id="a58f7-222">toocreate uma entidade particionada, Olá conjunto [EnablePartitioning] [ EnablePartitioning] propriedade muito**true**, conforme mostrado no exemplo a seguir de saudação.</span><span class="sxs-lookup"><span data-stu-id="a58f7-222">toocreate a partitioned entity, set hello [EnablePartitioning][EnablePartitioning] property too**true**, as shown in hello following example.</span></span> <span data-ttu-id="a58f7-223">Para obter mais informações sobre entidades particionadas, veja as [Entidades de Mensagens Particionadas][Partitioned messaging entities].</span><span class="sxs-lookup"><span data-stu-id="a58f7-223">For more information about partitioned entities, see [Partitioned messaging entities][Partitioned messaging entities].</span></span>

```csharp
// Create partitioned queue.
QueueDescription qd = new QueueDescription(QueueName);
qd.EnablePartitioning = true;
namespaceManager.CreateQueue(qd);
```

## <a name="use-of-multiple-queues"></a><span data-ttu-id="a58f7-224">Uso de várias filas</span><span class="sxs-lookup"><span data-stu-id="a58f7-224">Use of multiple queues</span></span>

<span data-ttu-id="a58f7-225">Se não for possível toouse que uma fila ou tópico ou particionado Olá esperado de carga não pode ser manipulada por uma única fila ou tópico particionados, você deve usar várias entidades de mensagens.</span><span class="sxs-lookup"><span data-stu-id="a58f7-225">If it is not possible toouse a partitioned queue or topic, or hello expected load cannot be handled by a single partitioned queue or topic, you must use multiple messaging entities.</span></span> <span data-ttu-id="a58f7-226">Ao usar várias entidades, crie um cliente dedicado para cada entidade, em vez de usar Olá mesmo cliente para todas as entidades.</span><span class="sxs-lookup"><span data-stu-id="a58f7-226">When using multiple entities, create a dedicated client for each entity, instead of using hello same client for all entities.</span></span>

## <a name="development-and-testing-features"></a><span data-ttu-id="a58f7-227">Recursos de desenvolvimento e teste</span><span class="sxs-lookup"><span data-stu-id="a58f7-227">Development and testing features</span></span>

<span data-ttu-id="a58f7-228">O Barramento de Serviço tem um recurso usado especificamente para desenvolvimento que **nunca deve ser usado em configurações de produção**: [TopicDescription.EnableFilteringMessagesBeforePublishing][].</span><span class="sxs-lookup"><span data-stu-id="a58f7-228">Service Bus has one feature that is used specifically for development which **should never be used in production configurations**: [TopicDescription.EnableFilteringMessagesBeforePublishing][].</span></span>

<span data-ttu-id="a58f7-229">Quando novas regras ou os filtros são adicionados toohello tópico, você pode usar [TopicDescription.EnableFilteringMessagesBeforePublishing][] tooverify que Olá nova expressão de filtro está funcionando conforme o esperado.</span><span class="sxs-lookup"><span data-stu-id="a58f7-229">When new rules or filters are added toohello topic, you can use [TopicDescription.EnableFilteringMessagesBeforePublishing][] tooverify that hello new filter expression is working as expected.</span></span>

## <a name="scenarios"></a><span data-ttu-id="a58f7-230">Cenários</span><span class="sxs-lookup"><span data-stu-id="a58f7-230">Scenarios</span></span>
<span data-ttu-id="a58f7-231">Olá seções a seguir descrevem situações típicas de mensagens e descrevem configurações de barramento do serviço Olá preferido.</span><span class="sxs-lookup"><span data-stu-id="a58f7-231">hello following sections describe typical messaging scenarios and outline hello preferred Service Bus settings.</span></span> <span data-ttu-id="a58f7-232">As taxas de transferência são classificadas como pequena (menos de 1 mensagem/segundo), moderada (1 mensagem/segundo ou mais, mas menos de 100 mensagens por segundo) e alta (100 mensagens/segundo ou mais).</span><span class="sxs-lookup"><span data-stu-id="a58f7-232">Throughput rates are classified as small (less than 1 message/second), moderate (1 message/second or greater but less than 100 messages/second) and high (100 messages/second or greater).</span></span> <span data-ttu-id="a58f7-233">Olá número de clientes é classificado como pequeno (5 ou menos), moderado (mais de 5 mas menor que ou igual too20) e grandes (mais de 20).</span><span class="sxs-lookup"><span data-stu-id="a58f7-233">hello number of clients are classified as small (5 or fewer), moderate (more than 5 but less than or equal too20), and large (more than 20).</span></span>

### <a name="high-throughput-queue"></a><span data-ttu-id="a58f7-234">Fila de alta taxa de transferência</span><span class="sxs-lookup"><span data-stu-id="a58f7-234">High-throughput queue</span></span>
<span data-ttu-id="a58f7-235">Meta: Maximize a taxa de transferência de saudação de uma única fila.</span><span class="sxs-lookup"><span data-stu-id="a58f7-235">Goal: Maximize hello throughput of a single queue.</span></span> <span data-ttu-id="a58f7-236">saudação de número de remetentes e destinatários é pequena.</span><span class="sxs-lookup"><span data-stu-id="a58f7-236">hello number of senders and receivers is small.</span></span>

* <span data-ttu-id="a58f7-237">Use uma fila particionada para obter desempenho e disponibilidade aprimorados.</span><span class="sxs-lookup"><span data-stu-id="a58f7-237">Use a partitioned queue for improved performance and availability.</span></span>
* <span data-ttu-id="a58f7-238">saudação de tooincrease geral taxa de envio na fila de saudação, use vários remetentes de toocreate de fábricas de mensagens.</span><span class="sxs-lookup"><span data-stu-id="a58f7-238">tooincrease hello overall send rate into hello queue, use multiple message factories toocreate senders.</span></span> <span data-ttu-id="a58f7-239">Para cada remetente, use operações assíncronas ou vários threads.</span><span class="sxs-lookup"><span data-stu-id="a58f7-239">For each sender, use asynchronous operations or multiple threads.</span></span>
* <span data-ttu-id="a58f7-240">saudação de tooincrease geral taxa de recebimento da fila de hello, use vários receptores de toocreate de fábricas de mensagens.</span><span class="sxs-lookup"><span data-stu-id="a58f7-240">tooincrease hello overall receive rate from hello queue, use multiple message factories toocreate receivers.</span></span>
* <span data-ttu-id="a58f7-241">Use operações assíncronas tootake aproveitar o envio em lote do lado do cliente.</span><span class="sxs-lookup"><span data-stu-id="a58f7-241">Use asynchronous operations tootake advantage of client-side batching.</span></span>
* <span data-ttu-id="a58f7-242">Definir Olá intervalo too50ms tooreduce Olá o número de transmissões de protocolo de cliente do barramento de serviço de lote.</span><span class="sxs-lookup"><span data-stu-id="a58f7-242">Set hello batching interval too50ms tooreduce hello number of Service Bus client protocol transmissions.</span></span> <span data-ttu-id="a58f7-243">Se forem usados vários remetentes, aumente Olá too100ms de intervalo de processamento em lotes.</span><span class="sxs-lookup"><span data-stu-id="a58f7-243">If multiple senders are used, increase hello batching interval too100ms.</span></span>
* <span data-ttu-id="a58f7-244">Deixe o acesso ao repositório em lote habilitado.</span><span class="sxs-lookup"><span data-stu-id="a58f7-244">Leave batched store access enabled.</span></span> <span data-ttu-id="a58f7-245">Isso aumenta a saudação geral taxa na qual as mensagens podem ser gravadas na fila de saudação.</span><span class="sxs-lookup"><span data-stu-id="a58f7-245">This increases hello overall rate at which messages can be written into hello queue.</span></span>
* <span data-ttu-id="a58f7-246">Defina tempos de too20 de contagem de pré-busca de saudação taxas de processamento máximo de saudação de todos os destinatários de uma fábrica.</span><span class="sxs-lookup"><span data-stu-id="a58f7-246">Set hello prefetch count too20 times hello maximum processing rates of all receivers of a factory.</span></span> <span data-ttu-id="a58f7-247">Isso reduz o número de saudação de transmissões de protocolo de cliente do barramento de serviço.</span><span class="sxs-lookup"><span data-stu-id="a58f7-247">This reduces hello number of Service Bus client protocol transmissions.</span></span>

### <a name="multiple-high-throughput-queues"></a><span data-ttu-id="a58f7-248">Várias filas de alta taxa de transferência</span><span class="sxs-lookup"><span data-stu-id="a58f7-248">Multiple high-throughput queues</span></span>
<span data-ttu-id="a58f7-249">Meta: maximize a taxa de transferência geral de diversas filas.</span><span class="sxs-lookup"><span data-stu-id="a58f7-249">Goal: Maximize overall throughput of multiple queues.</span></span> <span data-ttu-id="a58f7-250">taxa de transferência de saudação de uma fila individual é moderada ou alta.</span><span class="sxs-lookup"><span data-stu-id="a58f7-250">hello throughput of an individual queue is moderate or high.</span></span>

<span data-ttu-id="a58f7-251">tooobtain taxa de transferência máxima em várias filas, usar Olá configurações descritas toomaximize taxa de transferência de saudação de uma única fila.</span><span class="sxs-lookup"><span data-stu-id="a58f7-251">tooobtain maximum throughput across multiple queues, use hello settings outlined toomaximize hello throughput of a single queue.</span></span> <span data-ttu-id="a58f7-252">Além disso, use os clientes toocreate de fábricas diferentes que enviar ou recebem de diferentes filas.</span><span class="sxs-lookup"><span data-stu-id="a58f7-252">In addition, use different factories toocreate clients that send or receive from different queues.</span></span>

### <a name="low-latency-queue"></a><span data-ttu-id="a58f7-253">Fila de baixa latência</span><span class="sxs-lookup"><span data-stu-id="a58f7-253">Low latency queue</span></span>
<span data-ttu-id="a58f7-254">Meta: minimize a latência de ponta a ponta de uma fila ou um tópico.</span><span class="sxs-lookup"><span data-stu-id="a58f7-254">Goal: Minimize end-to-end latency of a queue or topic.</span></span> <span data-ttu-id="a58f7-255">saudação de número de remetentes e destinatários é pequena.</span><span class="sxs-lookup"><span data-stu-id="a58f7-255">hello number of senders and receivers is small.</span></span> <span data-ttu-id="a58f7-256">taxa de transferência de saudação da fila de saudação é pequena ou moderada.</span><span class="sxs-lookup"><span data-stu-id="a58f7-256">hello throughput of hello queue is small or moderate.</span></span>

* <span data-ttu-id="a58f7-257">Use uma fila particionada para obter disponibilidade aprimorada.</span><span class="sxs-lookup"><span data-stu-id="a58f7-257">Use a partitioned queue for improved availability.</span></span>
* <span data-ttu-id="a58f7-258">Desabilite o envio em lote no lado do cliente.</span><span class="sxs-lookup"><span data-stu-id="a58f7-258">Disable client-side batching.</span></span> <span data-ttu-id="a58f7-259">cliente Olá envia imediatamente uma mensagem.</span><span class="sxs-lookup"><span data-stu-id="a58f7-259">hello client immediately sends a message.</span></span>
* <span data-ttu-id="a58f7-260">Desabilite o acesso ao repositório em lote.</span><span class="sxs-lookup"><span data-stu-id="a58f7-260">Disable batched store access.</span></span> <span data-ttu-id="a58f7-261">serviço Olá grava imediatamente o repositório de toohello de mensagens de saudação.</span><span class="sxs-lookup"><span data-stu-id="a58f7-261">hello service immediately writes hello message toohello store.</span></span>
* <span data-ttu-id="a58f7-262">Se usar um único cliente, defina Olá pré-busca contagem too20 vezes Olá taxa de processamento do destinatário hello.</span><span class="sxs-lookup"><span data-stu-id="a58f7-262">If using a single client, set hello prefetch count too20 times hello processing rate of hello receiver.</span></span> <span data-ttu-id="a58f7-263">Se várias mensagens chegarem à fila de saudação em Olá mesmo tempo, Olá protocolo de cliente do barramento de serviço transmite todas ao Olá simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="a58f7-263">If multiple messages arrive at hello queue at hello same time, hello Service Bus client protocol transmits them all at hello same time.</span></span> <span data-ttu-id="a58f7-264">Quando Olá cliente recebe a mensagem de saudação do próxima, essa mensagem já está no cache local hello.</span><span class="sxs-lookup"><span data-stu-id="a58f7-264">When hello client receives hello next message, that message is already in hello local cache.</span></span> <span data-ttu-id="a58f7-265">Olá cache deve ser pequeno.</span><span class="sxs-lookup"><span data-stu-id="a58f7-265">hello cache should be small.</span></span>
* <span data-ttu-id="a58f7-266">Se o uso de vários clientes, defina Olá too0 de contagem de pré-busca.</span><span class="sxs-lookup"><span data-stu-id="a58f7-266">If using multiple clients, set hello prefetch count too0.</span></span> <span data-ttu-id="a58f7-267">Ao fazer isso, a saudação segundo cliente pode receber mensagem de saudação do segundo, enquanto o cliente primeiro Olá ainda está processando a mensagem de saudação do primeiro.</span><span class="sxs-lookup"><span data-stu-id="a58f7-267">By doing this, hello second client can receive hello second message while hello first client is still processing hello first message.</span></span>

### <a name="queue-with-a-large-number-of-senders"></a><span data-ttu-id="a58f7-268">Fila com um grande número de remetentes</span><span class="sxs-lookup"><span data-stu-id="a58f7-268">Queue with a large number of senders</span></span>
<span data-ttu-id="a58f7-269">Meta: maximizar a taxa de transferência de uma fila ou tópico com um grande número de remetentes.</span><span class="sxs-lookup"><span data-stu-id="a58f7-269">Goal: Maximize throughput of a queue or topic with a large number of senders.</span></span> <span data-ttu-id="a58f7-270">Cada remetente envia mensagens com uma taxa moderada.</span><span class="sxs-lookup"><span data-stu-id="a58f7-270">Each sender sends messages with a moderate rate.</span></span> <span data-ttu-id="a58f7-271">saudação de número de destinatários é pequena.</span><span class="sxs-lookup"><span data-stu-id="a58f7-271">hello number of receivers is small.</span></span>

<span data-ttu-id="a58f7-272">Barramento de serviço permite que o too1000 conexões simultâneas tooa entidade de mensagens (ou 5.000 usando AMQP).</span><span class="sxs-lookup"><span data-stu-id="a58f7-272">Service Bus enables up too1000 concurrent connections tooa messaging entity (or 5000 using AMQP).</span></span> <span data-ttu-id="a58f7-273">Esse limite é aplicado no nível de namespace hello e tópicos/filas/assinaturas são controladas pelo limite de saudação de conexões simultâneas por namespace.</span><span class="sxs-lookup"><span data-stu-id="a58f7-273">This limit is enforced at hello namespace level, and queues/topics/subscriptions are capped by hello limit of concurrent connections per namespace.</span></span> <span data-ttu-id="a58f7-274">Para filas, esse número é compartilhado entre remetentes e receptores.</span><span class="sxs-lookup"><span data-stu-id="a58f7-274">For queues, this number is shared between senders and receivers.</span></span> <span data-ttu-id="a58f7-275">Se todas as conexões de 1000 são necessárias para remetentes, substitua Olá fila com um tópico e uma única assinatura.</span><span class="sxs-lookup"><span data-stu-id="a58f7-275">If all 1000 connections are required for senders, you should replace hello queue with a topic and a single subscription.</span></span> <span data-ttu-id="a58f7-276">Um tópico aceita too1000 de conexões simultâneas dos remetentes, enquanto a assinatura Olá aceita um 1000 adicionais conexões simultâneas dos destinatários.</span><span class="sxs-lookup"><span data-stu-id="a58f7-276">A topic accepts up too1000 concurrent connections from senders, whereas hello subscription accepts an additional 1000 concurrent connections from receivers.</span></span> <span data-ttu-id="a58f7-277">Se mais de 1000 remetentes simultâneos são necessários, remetentes Olá envie mensagens toohello protocolo de barramento de serviço por meio de HTTP.</span><span class="sxs-lookup"><span data-stu-id="a58f7-277">If more than 1000 concurrent senders are required, hello senders should send messages toohello Service Bus protocol via HTTP.</span></span>

<span data-ttu-id="a58f7-278">taxa de transferência toomaximize, Olá a seguir:</span><span class="sxs-lookup"><span data-stu-id="a58f7-278">toomaximize throughput, do hello following:</span></span>

* <span data-ttu-id="a58f7-279">Use uma fila particionada para obter desempenho e disponibilidade aprimorados.</span><span class="sxs-lookup"><span data-stu-id="a58f7-279">Use a partitioned queue for improved performance and availability.</span></span>
* <span data-ttu-id="a58f7-280">Se cada remetente residir em um processo diferente, use somente uma única fábrica por processo.</span><span class="sxs-lookup"><span data-stu-id="a58f7-280">If each sender resides in a different process, use only a single factory per process.</span></span>
* <span data-ttu-id="a58f7-281">Use operações assíncronas tootake aproveitar o envio em lote do lado do cliente.</span><span class="sxs-lookup"><span data-stu-id="a58f7-281">Use asynchronous operations tootake advantage of client-side batching.</span></span>
* <span data-ttu-id="a58f7-282">Use padrão de saudação envio em lote de intervalo de 20 ms tooreduce Olá número de transmissões de protocolo de cliente do barramento de serviço.</span><span class="sxs-lookup"><span data-stu-id="a58f7-282">Use hello default batching interval of 20ms tooreduce hello number of Service Bus client protocol transmissions.</span></span>
* <span data-ttu-id="a58f7-283">Deixe o acesso ao repositório em lote habilitado.</span><span class="sxs-lookup"><span data-stu-id="a58f7-283">Leave batched store access enabled.</span></span> <span data-ttu-id="a58f7-284">Isso aumenta a saudação geral taxa na qual as mensagens podem ser gravadas para Olá fila ou tópico.</span><span class="sxs-lookup"><span data-stu-id="a58f7-284">This increases hello overall rate at which messages can be written into hello queue or topic.</span></span>
* <span data-ttu-id="a58f7-285">Defina tempos de too20 de contagem de pré-busca de saudação taxas de processamento máximo de saudação de todos os destinatários de uma fábrica.</span><span class="sxs-lookup"><span data-stu-id="a58f7-285">Set hello prefetch count too20 times hello maximum processing rates of all receivers of a factory.</span></span> <span data-ttu-id="a58f7-286">Isso reduz o número de saudação de transmissões de protocolo de cliente do barramento de serviço.</span><span class="sxs-lookup"><span data-stu-id="a58f7-286">This reduces hello number of Service Bus client protocol transmissions.</span></span>

### <a name="queue-with-a-large-number-of-receivers"></a><span data-ttu-id="a58f7-287">Fila com um grande número de receptores</span><span class="sxs-lookup"><span data-stu-id="a58f7-287">Queue with a large number of receivers</span></span>
<span data-ttu-id="a58f7-288">Objetivo: Maximizar Olá receber a taxa de uma fila ou assinatura com um grande número de destinatários.</span><span class="sxs-lookup"><span data-stu-id="a58f7-288">Goal: Maximize hello receive rate of a queue or subscription with a large number of receivers.</span></span> <span data-ttu-id="a58f7-289">Cada receptor recebe mensagens a uma taxa moderada.</span><span class="sxs-lookup"><span data-stu-id="a58f7-289">Each receiver receives messages at a moderate rate.</span></span> <span data-ttu-id="a58f7-290">saudação de número de remetentes é pequena.</span><span class="sxs-lookup"><span data-stu-id="a58f7-290">hello number of senders is small.</span></span>

<span data-ttu-id="a58f7-291">Barramento de serviço permite que a entidade de tooan too1000 conexões simultâneas.</span><span class="sxs-lookup"><span data-stu-id="a58f7-291">Service Bus enables up too1000 concurrent connections tooan entity.</span></span> <span data-ttu-id="a58f7-292">Se uma fila exigir mais de 1000 destinatários, substitua Olá fila com um tópico e várias assinaturas.</span><span class="sxs-lookup"><span data-stu-id="a58f7-292">If a queue requires more than 1000 receivers, you should replace hello queue with a topic and multiple subscriptions.</span></span> <span data-ttu-id="a58f7-293">Cada assinatura pode oferecer suporte a conexões simultâneas too1000.</span><span class="sxs-lookup"><span data-stu-id="a58f7-293">Each subscription can support up too1000 concurrent connections.</span></span> <span data-ttu-id="a58f7-294">Como alternativa, os destinatários podem acessar fila Olá via Olá protocolo HTTP.</span><span class="sxs-lookup"><span data-stu-id="a58f7-294">Alternatively, receivers can access hello queue via hello HTTP protocol.</span></span>

<span data-ttu-id="a58f7-295">taxa de transferência toomaximize, Olá a seguir:</span><span class="sxs-lookup"><span data-stu-id="a58f7-295">toomaximize throughput, do hello following:</span></span>

* <span data-ttu-id="a58f7-296">Use uma fila particionada para obter desempenho e disponibilidade aprimorados.</span><span class="sxs-lookup"><span data-stu-id="a58f7-296">Use a partitioned queue for improved performance and availability.</span></span>
* <span data-ttu-id="a58f7-297">Se cada receptor residir em um processo diferente, use somente uma única fábrica por processo.</span><span class="sxs-lookup"><span data-stu-id="a58f7-297">If each receiver resides in a different process, use only a single factory per process.</span></span>
* <span data-ttu-id="a58f7-298">Os receptores poderão usar operações síncronas ou assíncronas.</span><span class="sxs-lookup"><span data-stu-id="a58f7-298">Receivers can use synchronous or asynchronous operations.</span></span> <span data-ttu-id="a58f7-299">Fornecido Olá moderada receber taxa de um destinatário individual, do lado do cliente em lotes de uma solicitação concluir não afetam a taxa de transferência do destinatário.</span><span class="sxs-lookup"><span data-stu-id="a58f7-299">Given hello moderate receive rate of an individual receiver, client-side batching of a Complete request does not affect receiver throughput.</span></span>
* <span data-ttu-id="a58f7-300">Deixe o acesso ao repositório em lote habilitado.</span><span class="sxs-lookup"><span data-stu-id="a58f7-300">Leave batched store access enabled.</span></span> <span data-ttu-id="a58f7-301">Isso reduz a saudação carga geral da entidade de saudação.</span><span class="sxs-lookup"><span data-stu-id="a58f7-301">This reduces hello overall load of hello entity.</span></span> <span data-ttu-id="a58f7-302">Isso também reduz o hello taxa geral em que as mensagens podem ser gravadas em Olá fila ou tópico.</span><span class="sxs-lookup"><span data-stu-id="a58f7-302">It also reduces hello overall rate at which messages can be written into hello queue or topic.</span></span>
* <span data-ttu-id="a58f7-303">Definir Olá pré-busca contagem tooa pequeno valor (por exemplo, PrefetchCount = 10).</span><span class="sxs-lookup"><span data-stu-id="a58f7-303">Set hello prefetch count tooa small value (for example, PrefetchCount = 10).</span></span> <span data-ttu-id="a58f7-304">Isso impede que os receptores fiquem ociosos enquanto outros receptores tenham grandes quantidades de mensagens armazenadas em cache.</span><span class="sxs-lookup"><span data-stu-id="a58f7-304">This prevents receivers from being idle while other receivers have large numbers of messages cached.</span></span>

### <a name="topic-with-a-small-number-of-subscriptions"></a><span data-ttu-id="a58f7-305">Tópico com um pequeno número de assinaturas</span><span class="sxs-lookup"><span data-stu-id="a58f7-305">Topic with a small number of subscriptions</span></span>
<span data-ttu-id="a58f7-306">Objetivo: Maximize a taxa de transferência de saudação de um tópico com um pequeno número de assinaturas.</span><span class="sxs-lookup"><span data-stu-id="a58f7-306">Goal: Maximize hello throughput of a topic with a small number of subscriptions.</span></span> <span data-ttu-id="a58f7-307">Uma mensagem é recebida por várias assinaturas, que significa Olá combinada de recebimento taxa por todas as assinaturas é maior do que a taxa de envio de saudação.</span><span class="sxs-lookup"><span data-stu-id="a58f7-307">A message is received by many subscriptions, which means hello combined receive rate over all subscriptions is larger than hello send rate.</span></span> <span data-ttu-id="a58f7-308">saudação de número de remetentes é pequena.</span><span class="sxs-lookup"><span data-stu-id="a58f7-308">hello number of senders is small.</span></span> <span data-ttu-id="a58f7-309">saudação de número de destinatários por assinatura é pequena.</span><span class="sxs-lookup"><span data-stu-id="a58f7-309">hello number of receivers per subscription is small.</span></span>

<span data-ttu-id="a58f7-310">taxa de transferência toomaximize, Olá a seguir:</span><span class="sxs-lookup"><span data-stu-id="a58f7-310">toomaximize throughput, do hello following:</span></span>

* <span data-ttu-id="a58f7-311">Use um tópico particionado para obter desempenho e disponibilidade aprimorados.</span><span class="sxs-lookup"><span data-stu-id="a58f7-311">Use a partitioned topic for improved performance and availability.</span></span>
* <span data-ttu-id="a58f7-312">saudação de tooincrease geral taxa de envio no tópico Olá, use vários remetentes de toocreate de fábricas de mensagens.</span><span class="sxs-lookup"><span data-stu-id="a58f7-312">tooincrease hello overall send rate into hello topic, use multiple message factories toocreate senders.</span></span> <span data-ttu-id="a58f7-313">Para cada remetente, use operações assíncronas ou vários threads.</span><span class="sxs-lookup"><span data-stu-id="a58f7-313">For each sender, use asynchronous operations or multiple threads.</span></span>
* <span data-ttu-id="a58f7-314">saudação de tooincrease geral taxa de recebimento de uma assinatura, use vários receptores de toocreate de fábricas de mensagens.</span><span class="sxs-lookup"><span data-stu-id="a58f7-314">tooincrease hello overall receive rate from a subscription, use multiple message factories toocreate receivers.</span></span> <span data-ttu-id="a58f7-315">Para cada receptor, use operações assíncronas ou vários threads.</span><span class="sxs-lookup"><span data-stu-id="a58f7-315">For each receiver, use asynchronous operations or multiple threads.</span></span>
* <span data-ttu-id="a58f7-316">Use operações assíncronas tootake aproveitar o envio em lote do lado do cliente.</span><span class="sxs-lookup"><span data-stu-id="a58f7-316">Use asynchronous operations tootake advantage of client-side batching.</span></span>
* <span data-ttu-id="a58f7-317">Use padrão de saudação envio em lote de intervalo de 20 ms tooreduce Olá número de transmissões de protocolo de cliente do barramento de serviço.</span><span class="sxs-lookup"><span data-stu-id="a58f7-317">Use hello default batching interval of 20ms tooreduce hello number of Service Bus client protocol transmissions.</span></span>
* <span data-ttu-id="a58f7-318">Deixe o acesso ao repositório em lote habilitado.</span><span class="sxs-lookup"><span data-stu-id="a58f7-318">Leave batched store access enabled.</span></span> <span data-ttu-id="a58f7-319">Isso aumenta a saudação geral taxa em que as mensagens podem ser gravadas no tópico de saudação.</span><span class="sxs-lookup"><span data-stu-id="a58f7-319">This increases hello overall rate at which messages can be written into hello topic.</span></span>
* <span data-ttu-id="a58f7-320">Defina tempos de too20 de contagem de pré-busca de saudação taxas de processamento máximo de saudação de todos os destinatários de uma fábrica.</span><span class="sxs-lookup"><span data-stu-id="a58f7-320">Set hello prefetch count too20 times hello maximum processing rates of all receivers of a factory.</span></span> <span data-ttu-id="a58f7-321">Isso reduz o número de saudação de transmissões de protocolo de cliente do barramento de serviço.</span><span class="sxs-lookup"><span data-stu-id="a58f7-321">This reduces hello number of Service Bus client protocol transmissions.</span></span>

### <a name="topic-with-a-large-number-of-subscriptions"></a><span data-ttu-id="a58f7-322">Tópico com um grande número de assinaturas</span><span class="sxs-lookup"><span data-stu-id="a58f7-322">Topic with a large number of subscriptions</span></span>
<span data-ttu-id="a58f7-323">Objetivo: Maximize a taxa de transferência de saudação de um tópico com um grande número de assinaturas.</span><span class="sxs-lookup"><span data-stu-id="a58f7-323">Goal: Maximize hello throughput of a topic with a large number of subscriptions.</span></span> <span data-ttu-id="a58f7-324">Uma mensagem é recebida por várias assinaturas, que significa Olá combinada de recebimento taxa por todas as assinaturas é muito maior do que a taxa de envio de saudação.</span><span class="sxs-lookup"><span data-stu-id="a58f7-324">A message is received by many subscriptions, which means hello combined receive rate over all subscriptions is much larger than hello send rate.</span></span> <span data-ttu-id="a58f7-325">saudação de número de remetentes é pequena.</span><span class="sxs-lookup"><span data-stu-id="a58f7-325">hello number of senders is small.</span></span> <span data-ttu-id="a58f7-326">saudação de número de destinatários por assinatura é pequena.</span><span class="sxs-lookup"><span data-stu-id="a58f7-326">hello number of receivers per subscription is small.</span></span>

<span data-ttu-id="a58f7-327">Tópicos com um grande número de assinaturas normalmente expõem um rendimento geral baixo se todas as mensagens são roteadas tooall assinaturas.</span><span class="sxs-lookup"><span data-stu-id="a58f7-327">Topics with a large number of subscriptions typically expose a low overall throughput if all messages are routed tooall subscriptions.</span></span> <span data-ttu-id="a58f7-328">Isso é causado pelo fato Olá cada mensagem é recebida várias vezes e todas as mensagens que estão contidas em um tópico e todas as suas assinaturas são armazenadas no hello mesmo repositório.</span><span class="sxs-lookup"><span data-stu-id="a58f7-328">This is caused by hello fact that each message is received many times, and all messages that are contained in a topic and all its subscriptions are stored in hello same store.</span></span> <span data-ttu-id="a58f7-329">Presume-se que o número de saudação de remetentes e número de destinatários por assinatura são pequenos.</span><span class="sxs-lookup"><span data-stu-id="a58f7-329">It is assumed that hello number of senders and number of receivers per subscription is small.</span></span> <span data-ttu-id="a58f7-330">Barramento de serviço dá suporte para até too2, 000 assinaturas por tópico.</span><span class="sxs-lookup"><span data-stu-id="a58f7-330">Service Bus supports up too2,000 subscriptions per topic.</span></span>

<span data-ttu-id="a58f7-331">taxa de transferência toomaximize, Olá a seguir:</span><span class="sxs-lookup"><span data-stu-id="a58f7-331">toomaximize throughput, do hello following:</span></span>

* <span data-ttu-id="a58f7-332">Use um tópico particionado para obter desempenho e disponibilidade aprimorados.</span><span class="sxs-lookup"><span data-stu-id="a58f7-332">Use a partitioned topic for improved performance and availability.</span></span>
* <span data-ttu-id="a58f7-333">Use operações assíncronas tootake aproveitar o envio em lote do lado do cliente.</span><span class="sxs-lookup"><span data-stu-id="a58f7-333">Use asynchronous operations tootake advantage of client-side batching.</span></span>
* <span data-ttu-id="a58f7-334">Use padrão de saudação envio em lote de intervalo de 20 ms tooreduce Olá número de transmissões de protocolo de cliente do barramento de serviço.</span><span class="sxs-lookup"><span data-stu-id="a58f7-334">Use hello default batching interval of 20ms tooreduce hello number of Service Bus client protocol transmissions.</span></span>
* <span data-ttu-id="a58f7-335">Deixe o acesso ao repositório em lote habilitado.</span><span class="sxs-lookup"><span data-stu-id="a58f7-335">Leave batched store access enabled.</span></span> <span data-ttu-id="a58f7-336">Isso aumenta a saudação geral taxa em que as mensagens podem ser gravadas no tópico de saudação.</span><span class="sxs-lookup"><span data-stu-id="a58f7-336">This increases hello overall rate at which messages can be written into hello topic.</span></span>
* <span data-ttu-id="a58f7-337">Defina receber Olá esperado dos tempos de too20 de contagem Olá pré-busca de taxa em segundos.</span><span class="sxs-lookup"><span data-stu-id="a58f7-337">Set hello prefetch count too20 times hello expected receive rate in seconds.</span></span> <span data-ttu-id="a58f7-338">Isso reduz o número de saudação de transmissões de protocolo de cliente do barramento de serviço.</span><span class="sxs-lookup"><span data-stu-id="a58f7-338">This reduces hello number of Service Bus client protocol transmissions.</span></span>

## <a name="next-steps"></a><span data-ttu-id="a58f7-339">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="a58f7-339">Next steps</span></span>
<span data-ttu-id="a58f7-340">toolearn mais sobre como otimizar o desempenho do barramento de serviço, consulte [particionada entidades de mensagens][Partitioned messaging entities].</span><span class="sxs-lookup"><span data-stu-id="a58f7-340">toolearn more about optimizing Service Bus performance, see [Partitioned messaging entities][Partitioned messaging entities].</span></span>

[QueueClient]: /dotnet/api/microsoft.servicebus.messaging.queueclient
[MessageSender]: /dotnet/api/microsoft.servicebus.messaging.messagesender
[MessagingFactory]: /dotnet/api/microsoft.servicebus.messaging.messagingfactory
[PeekLock]: /dotnet/api/microsoft.servicebus.messaging.receivemode
[ReceiveAndDelete]: /dotnet/api/microsoft.servicebus.messaging.receivemode
[BatchFlushInterval]: /dotnet/api/microsoft.servicebus.messaging.netmessagingtransportsettings.batchflushinterval#Microsoft_ServiceBus_Messaging_NetMessagingTransportSettings_BatchFlushInterval
[EnableBatchedOperations]: /dotnet/api/microsoft.servicebus.messaging.queuedescription.enablebatchedoperations#Microsoft_ServiceBus_Messaging_QueueDescription_EnableBatchedOperations
[QueueClient.PrefetchCount]: /dotnet/api/microsoft.servicebus.messaging.queueclient.prefetchcount#Microsoft_ServiceBus_Messaging_QueueClient_PrefetchCount
[SubscriptionClient.PrefetchCount]: /dotnet/api/microsoft.servicebus.messaging.subscriptionclient.prefetchcount#Microsoft_ServiceBus_Messaging_SubscriptionClient_PrefetchCount
[ForcePersistence]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage.forcepersistence#Microsoft_ServiceBus_Messaging_BrokeredMessage_ForcePersistence
[EnablePartitioning]: /dotnet/api/microsoft.servicebus.messaging.queuedescription.enablepartitioning#Microsoft_ServiceBus_Messaging_QueueDescription_EnablePartitioning
[Partitioned messaging entities]: service-bus-partitioning.md
[TopicDescription.EnableFilteringMessagesBeforePublishing]: /dotnet/api/microsoft.servicebus.messaging.topicdescription.enablefilteringmessagesbeforepublishing#Microsoft_ServiceBus_Messaging_TopicDescription_EnableFilteringMessagesBeforePublishing
