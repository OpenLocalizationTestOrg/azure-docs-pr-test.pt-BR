---
title: "Filas do Armazenamento do Azure e filas do Barramento de Serviço – comparações e contrastes | Microsoft Docs"
description: "Analisa diferenças e semelhanças entre dois tipos de fila oferecidos pelo Azure."
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: tysonn
ms.assetid: f07301dc-ca9b-465c-bd5b-a0f99bab606b
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: tbd
ms.date: 08/07/2017
ms.author: sethm
ms.openlocfilehash: 555759073507219188b59af76a82be74b112c57c
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/29/2017
---
# <a name="storage-queues-and-service-bus-queues---compared-and-contrasted"></a><span data-ttu-id="58c03-103">Filas do Armazenamento e filas do Barramento de Serviço — comparações e contrastes</span><span class="sxs-lookup"><span data-stu-id="58c03-103">Storage queues and Service Bus queues - compared and contrasted</span></span>
<span data-ttu-id="58c03-104">Este artigo analisa as diferenças e semelhanças entre os dois tipos de fila oferecidos pelo Microsoft Azure atualmente: filas do Armazenamento e filas do Barramento de Serviço.</span><span class="sxs-lookup"><span data-stu-id="58c03-104">This article analyzes the differences and similarities between the two types of queues offered by Microsoft Azure today: Storage queues and Service Bus queues.</span></span> <span data-ttu-id="58c03-105">Usando essas informações, é possível comparar e contrastar as respectivas tecnologias e tomar uma decisão mais informada sobre qual solução atende melhor às suas necessidades.</span><span class="sxs-lookup"><span data-stu-id="58c03-105">By using this information, you can compare and contrast the respective technologies and be able to make a more informed decision about which solution best meets your needs.</span></span>

## <a name="introduction"></a><span data-ttu-id="58c03-106">Introdução</span><span class="sxs-lookup"><span data-stu-id="58c03-106">Introduction</span></span>
<span data-ttu-id="58c03-107">O Azure dá suporte a dois tipos de mecanismo de fila: **filas do Armazenamento** e **filas do Barramento de Serviço**.</span><span class="sxs-lookup"><span data-stu-id="58c03-107">Azure supports two types of queue mechanisms: **Storage queues** and **Service Bus queues**.</span></span>

<span data-ttu-id="58c03-108">As **filas do Armazenamento**, que fazem parte da infraestrutura do [armazenamento do Azure](https://azure.microsoft.com/services/storage/), apresentam uma interface GET/PUT/PEEK baseada em REST, oferecendo um sistema de mensagens confiável e persistente em e entre serviços.</span><span class="sxs-lookup"><span data-stu-id="58c03-108">**Storage queues**, which are part of the [Azure storage](https://azure.microsoft.com/services/storage/) infrastructure, feature a simple REST-based GET/PUT/PEEK interface, providing reliable, persistent messaging within and between services.</span></span>

<span data-ttu-id="58c03-109">**As filas do Barramento de Serviço** fazem parte de uma infraestrutura mais ampla do [sistema de mensagens do Azure](https://azure.microsoft.com/services/service-bus/), que dá suporte ao enfileiramento, bem como a publicação/assinatura e outros padrões de integração avançados.</span><span class="sxs-lookup"><span data-stu-id="58c03-109">**Service Bus queues** are part of a broader [Azure messaging](https://azure.microsoft.com/services/service-bus/) infrastructure that supports queuing as well as publish/subscribe, and more advanced integration patterns.</span></span> <span data-ttu-id="58c03-110">Para obter mais informações sobre filas, tópicos/assinaturas do Barramento de Serviço, confira o artigo sobre a [visão geral do Barramento de Serviço](service-bus-messaging-overview.md).</span><span class="sxs-lookup"><span data-stu-id="58c03-110">For more information about Service Bus queues/topics/subscriptions, see the [overview of Service Bus](service-bus-messaging-overview.md).</span></span>

<span data-ttu-id="58c03-111">Embora ambas as tecnologias de enfileiramento coexistam, as filas do Armazenamento foram introduzidas primeiro, como um mecanismo de armazenamento de filas dedicado criado com base nos serviços de armazenamento do Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="58c03-111">While both queuing technologies exist concurrently, Storage queues were introduced first, as a dedicated queue storage mechanism built on top of Azure Storage services.</span></span> <span data-ttu-id="58c03-112">As filas do Barramento de Serviço são criadas com base na infraestrutura mais ampla do “sistema de mensagens”, desenvolvida para integrar aplicativos ou componentes de aplicativo que podem incluir vários protocolos de comunicação, contratos de dados, domínios confiáveis e/ou ambientes de rede.</span><span class="sxs-lookup"><span data-stu-id="58c03-112">Service Bus queues are built on top of the broader "messaging" infrastructure designed to integrate applications or application components that may span multiple communication protocols, data contracts, trust domains, and/or network environments.</span></span>

## <a name="technology-selection-considerations"></a><span data-ttu-id="58c03-113">Considerações de seleção da tecnologia</span><span class="sxs-lookup"><span data-stu-id="58c03-113">Technology selection considerations</span></span>
<span data-ttu-id="58c03-114">As filas do Armazenamento e do Barramento de Serviço são implementações do serviço de enfileiramento de mensagens atualmente oferecido no Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="58c03-114">Both Storage queues and Service Bus queues are implementations of the message queuing service currently offered on Microsoft Azure.</span></span> <span data-ttu-id="58c03-115">Cada uma tem um conjunto de recursos ligeiramente diferente, o que significa que você pode escolher uma ou outra, ou usar ambas, dependendo das necessidades da sua solução específica ou do problema comercial/técnico que está resolvendo.</span><span class="sxs-lookup"><span data-stu-id="58c03-115">Each has a slightly different feature set, which means you can choose one or the other, or use both, depending on the needs of your particular solution or business/technical problem you are solving.</span></span>

<span data-ttu-id="58c03-116">Ao determinar qual tecnologia de enfileiramento é adequada ao propósito de uma determinada solução, os desenvolvedores e arquitetos de soluções devem considerar as recomendações abaixo.</span><span class="sxs-lookup"><span data-stu-id="58c03-116">When determining which queuing technology fits the purpose for a given solution, solution architects and developers should consider the recommendations below.</span></span> <span data-ttu-id="58c03-117">Para obter mais detalhes, consulte a próxima seção.</span><span class="sxs-lookup"><span data-stu-id="58c03-117">For more details, see the next section.</span></span>

<span data-ttu-id="58c03-118">Como arquiteto/desenvolvedor de soluções, **você deve considerar o uso das filas do Armazenamento** quando:</span><span class="sxs-lookup"><span data-stu-id="58c03-118">As a solution architect/developer, **you should consider using Storage queues** when:</span></span>

* <span data-ttu-id="58c03-119">Seu aplicativo precisar armazenar mais de 80 GB de mensagens em uma fila, onde as mensagens têm um tempo de vida de menos de 7 dias.</span><span class="sxs-lookup"><span data-stu-id="58c03-119">Your application must store over 80 GB of messages in a queue, where the messages have a lifetime shorter than 7 days.</span></span>
* <span data-ttu-id="58c03-120">Seu aplicativo desejar rastrear o progresso do processamento de uma mensagem na fila.</span><span class="sxs-lookup"><span data-stu-id="58c03-120">Your application wants to track progress for processing a message inside of the queue.</span></span> <span data-ttu-id="58c03-121">Isso será útil se o trabalho de processamento de uma mensagem falhar.</span><span class="sxs-lookup"><span data-stu-id="58c03-121">This is useful if the worker processing a message crashes.</span></span> <span data-ttu-id="58c03-122">Um trabalho subsequente pode usar essas informações para continuar de onde o anterior parou.</span><span class="sxs-lookup"><span data-stu-id="58c03-122">A subsequent worker can then use that information to continue from where the prior worker left off.</span></span>
* <span data-ttu-id="58c03-123">Você precisar de logs do servidor de todas as transações executadas em suas filas.</span><span class="sxs-lookup"><span data-stu-id="58c03-123">You require server side logs of all of the transactions executed against your queues.</span></span>

<span data-ttu-id="58c03-124">Como arquiteto/desenvolvedor de soluções, **você deve considerar o uso das filas do Barramento de Serviço** quando:</span><span class="sxs-lookup"><span data-stu-id="58c03-124">As a solution architect/developer, **you should consider using Service Bus queues** when:</span></span>

* <span data-ttu-id="58c03-125">Sua solução precisar ser capaz de receber mensagens sem precisar sondar a fila.</span><span class="sxs-lookup"><span data-stu-id="58c03-125">Your solution must be able to receive messages without having to poll the queue.</span></span> <span data-ttu-id="58c03-126">Com o Barramento de Serviço, isso pode ser alcançado pela operação de recebimento de sondagem longa usando os protocolos baseados em TCP que têm suporte do Barramento de Serviço.</span><span class="sxs-lookup"><span data-stu-id="58c03-126">With Service Bus, this can be achieved through the use of the long-polling receive operation using the TCP-based protocols that Service Bus supports.</span></span>
* <span data-ttu-id="58c03-127">Sua solução exigir que a fila forneça uma entrega ordenada PEPS (primeiro a entrar, primeiro a sair).</span><span class="sxs-lookup"><span data-stu-id="58c03-127">Your solution requires the queue to provide a guaranteed first-in-first-out (FIFO) ordered delivery.</span></span>
* <span data-ttu-id="58c03-128">Você desejar uma experiência simétrica no Azure e no Windows Server (nuvem privada).</span><span class="sxs-lookup"><span data-stu-id="58c03-128">You want a symmetric experience in Azure and on Windows Server (private cloud).</span></span> <span data-ttu-id="58c03-129">Para obter mais informações, confira [Barramento de Serviço para Windows Server](https://msdn.microsoft.com/library/dn282144.aspx).</span><span class="sxs-lookup"><span data-stu-id="58c03-129">For more information, see [Service Bus for Windows Server](https://msdn.microsoft.com/library/dn282144.aspx).</span></span>
* <span data-ttu-id="58c03-130">Sua solução precisar ser capaz de oferecer suporte à detecção automática de duplicidades.</span><span class="sxs-lookup"><span data-stu-id="58c03-130">Your solution must be able to support automatic duplicate detection.</span></span>
* <span data-ttu-id="58c03-131">Você desejar que seu aplicativo processe mensagens como fluxos paralelos de longa execução (mensagens associadas a um fluxo usando a propriedade [SessionId](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.sessionid?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_BrokeredMessage_SessionId) na mensagem).</span><span class="sxs-lookup"><span data-stu-id="58c03-131">You want your application to process messages as parallel long-running streams (messages are associated with a stream using the [SessionId](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.sessionid?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_BrokeredMessage_SessionId) property on the message).</span></span> <span data-ttu-id="58c03-132">Nesse modelo, cada nó no aplicativo de consumo compete por fluxos, em oposição às mensagens.</span><span class="sxs-lookup"><span data-stu-id="58c03-132">In this model, each node in the consuming application competes for streams, as opposed to messages.</span></span> <span data-ttu-id="58c03-133">Quando um fluxo é fornecido a um nó de consumo, o nó pode examinar o estado do fluxo do aplicativo usando transações.</span><span class="sxs-lookup"><span data-stu-id="58c03-133">When a stream is given to a consuming node, the node can examine the state of the application stream state using transactions.</span></span>
* <span data-ttu-id="58c03-134">Sua solução exigir comportamento transacional e atomicidade ao enviar ou receber várias mensagens de uma fila.</span><span class="sxs-lookup"><span data-stu-id="58c03-134">Your solution requires transactional behavior and atomicity when sending or receiving multiple messages from a queue.</span></span>
* <span data-ttu-id="58c03-135">A característica de TTL (vida útil) da carga de trabalho específica de aplicativo puder exceder o período de 7 dias.</span><span class="sxs-lookup"><span data-stu-id="58c03-135">The time-to-live (TTL) characteristic of the application-specific workload can exceed the 7-day period.</span></span>
* <span data-ttu-id="58c03-136">Seu aplicativo tratar mensagens que podem exceder 64 KB, mas provavelmente não se aproximarão do limite de 256 KB.</span><span class="sxs-lookup"><span data-stu-id="58c03-136">Your application handles messages that can exceed 64 KB but will not likely approach the 256 KB limit.</span></span>
* <span data-ttu-id="58c03-137">Você tiver que lidar com a necessidade de fornecer um modelo de acesso baseado em função às filas e diferentes direitos/permissões para remetentes e destinatários.</span><span class="sxs-lookup"><span data-stu-id="58c03-137">You deal with a requirement to provide a role-based access model to the queues, and different rights/permissions for senders and receivers.</span></span>
* <span data-ttu-id="58c03-138">O tamanho da fila não for exceder 80 GB.</span><span class="sxs-lookup"><span data-stu-id="58c03-138">Your queue size will not grow larger than 80 GB.</span></span>
* <span data-ttu-id="58c03-139">Você desejar usar o protocolo do sistema de mensagens baseado em padrões AMQP 1.0.</span><span class="sxs-lookup"><span data-stu-id="58c03-139">You want to use the AMQP 1.0 standards-based messaging protocol.</span></span> <span data-ttu-id="58c03-140">Para obter mais informações sobre AMQP, confira [Visão geral do AMQP do Barramento de Serviço](service-bus-amqp-overview.md).</span><span class="sxs-lookup"><span data-stu-id="58c03-140">For more information about AMQP, see [Service Bus AMQP Overview](service-bus-amqp-overview.md).</span></span>
* <span data-ttu-id="58c03-141">Você puder prever uma migração final da comunicação ponto a ponto baseada em fila para um padrão de troca de mensagens que permita a integração perfeita de receptores (assinantes) adicionais, cada um dos quais recebe cópias independentes de algumas ou todas as mensagens enviadas à fila.</span><span class="sxs-lookup"><span data-stu-id="58c03-141">You can envision an eventual migration from queue-based point-to-point communication to a message exchange pattern that enables seamless integration of additional receivers (subscribers), each of which receives independent copies of either some or all messages sent to the queue.</span></span> <span data-ttu-id="58c03-142">O último se refere ao recurso de publicação/assinatura fornecido originalmente pelo Barramento de Serviço.</span><span class="sxs-lookup"><span data-stu-id="58c03-142">The latter refers to the publish/subscribe capability natively provided by Service Bus.</span></span>
* <span data-ttu-id="58c03-143">Sua solução de sistema de mensagens tiver que oferecer suporte à garantia de entrega "No máximo uma vez", sem a necessidade de criar componentes de infraestrutura adicional.</span><span class="sxs-lookup"><span data-stu-id="58c03-143">Your messaging solution must be able to support the "At-Most-Once" delivery guarantee without the need for you to build the additional infrastructure components.</span></span>
* <span data-ttu-id="58c03-144">Você desejar publicar e consumir lotes de mensagens.</span><span class="sxs-lookup"><span data-stu-id="58c03-144">You would like to be able to publish and consume batches of messages.</span></span>

## <a name="comparing-storage-queues-and-service-bus-queues"></a><span data-ttu-id="58c03-145">Comparando as filas do Armazenamento e as filas do Barramento de Serviço</span><span class="sxs-lookup"><span data-stu-id="58c03-145">Comparing Storage queues and Service Bus queues</span></span>
<span data-ttu-id="58c03-146">As tabelas nas seções a seguir fornecem um agrupamento lógico de recursos de fila e permitem que você compare, rapidamente, os recursos disponíveis nas filas do Armazenamento e nas filas do Barramento de Serviço.</span><span class="sxs-lookup"><span data-stu-id="58c03-146">The tables in the following sections provide a logical grouping of queue features and let you compare, at a glance, the capabilities available in both Storage queues and Service Bus queues.</span></span>

## <a name="foundational-capabilities"></a><span data-ttu-id="58c03-147">Recursos básicos</span><span class="sxs-lookup"><span data-stu-id="58c03-147">Foundational capabilities</span></span>
<span data-ttu-id="58c03-148">Esta seção compara alguns dos recursos básicos de enfileiramento fornecidos pelas filas do Armazenamento e filas do Barramento de Serviço.</span><span class="sxs-lookup"><span data-stu-id="58c03-148">This section compares some of the fundamental queuing capabilities provided by Storage queues and Service Bus queues.</span></span>

| <span data-ttu-id="58c03-149">Critérios de comparação</span><span class="sxs-lookup"><span data-stu-id="58c03-149">Comparison Criteria</span></span> | <span data-ttu-id="58c03-150">Filas de armazenamento</span><span class="sxs-lookup"><span data-stu-id="58c03-150">Storage queues</span></span> | <span data-ttu-id="58c03-151">Filas de barramento de serviço</span><span class="sxs-lookup"><span data-stu-id="58c03-151">Service Bus Queues</span></span> |
| --- | --- | --- |
| <span data-ttu-id="58c03-152">Garantia de ordenação</span><span class="sxs-lookup"><span data-stu-id="58c03-152">Ordering guarantee</span></span> |<span data-ttu-id="58c03-153">**Não**</span><span class="sxs-lookup"><span data-stu-id="58c03-153">**No**</span></span> <br/><br><span data-ttu-id="58c03-154">Para obter mais informações, confira a primeira observação na seção “Informações adicionais”.</span><span class="sxs-lookup"><span data-stu-id="58c03-154">For more information, see the first note in the “Additional Information” section.</span></span></br> |<span data-ttu-id="58c03-155">**Sim - Primeiro a Entrar, Primeiro a Sair (PEPS)**</span><span class="sxs-lookup"><span data-stu-id="58c03-155">**Yes - First-In-First-Out (FIFO)**</span></span><br/><br><span data-ttu-id="58c03-156">(por meio do uso de sessões de mensagens)</span><span class="sxs-lookup"><span data-stu-id="58c03-156">(through the use of messaging sessions)</span></span> |
| <span data-ttu-id="58c03-157">Garantia de entrega</span><span class="sxs-lookup"><span data-stu-id="58c03-157">Delivery guarantee</span></span> |<span data-ttu-id="58c03-158">**Pelo menos uma vez**</span><span class="sxs-lookup"><span data-stu-id="58c03-158">**At-Least-Once**</span></span> |<span data-ttu-id="58c03-159">**Pelo menos uma vez**</span><span class="sxs-lookup"><span data-stu-id="58c03-159">**At-Least-Once**</span></span><br/><br/><span data-ttu-id="58c03-160">**No máximo uma vez**</span><span class="sxs-lookup"><span data-stu-id="58c03-160">**At-Most-Once**</span></span> |
| <span data-ttu-id="58c03-161">Suporte à operação atômica</span><span class="sxs-lookup"><span data-stu-id="58c03-161">Atomic operation support</span></span> |<span data-ttu-id="58c03-162">**Não**</span><span class="sxs-lookup"><span data-stu-id="58c03-162">**No**</span></span> |<span data-ttu-id="58c03-163">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-163">**Yes**</span></span><br/><br/> |
| <span data-ttu-id="58c03-164">Comportamento de recebimento</span><span class="sxs-lookup"><span data-stu-id="58c03-164">Receive behavior</span></span> |<span data-ttu-id="58c03-165">**Sem bloqueio**</span><span class="sxs-lookup"><span data-stu-id="58c03-165">**Non-blocking**</span></span><br/><br/><span data-ttu-id="58c03-166">(conclusão imediata se nenhuma mensagem nova for encontrada)</span><span class="sxs-lookup"><span data-stu-id="58c03-166">(completes immediately if no new message is found)</span></span> |<span data-ttu-id="58c03-167">**Bloqueio com/sem tempo limite**</span><span class="sxs-lookup"><span data-stu-id="58c03-167">**Blocking with/without timeout**</span></span><br/><br/><span data-ttu-id="58c03-168">(oferece sondagem longa ou ["Técnica Comet"](http://go.microsoft.com/fwlink/?LinkId=613759))</span><span class="sxs-lookup"><span data-stu-id="58c03-168">(offers long polling, or the ["Comet technique"](http://go.microsoft.com/fwlink/?LinkId=613759))</span></span><br/><br/><span data-ttu-id="58c03-169">**Sem bloqueio**</span><span class="sxs-lookup"><span data-stu-id="58c03-169">**Non-blocking**</span></span><br/><br/><span data-ttu-id="58c03-170">(somente por meio do uso de API gerenciada .NET)</span><span class="sxs-lookup"><span data-stu-id="58c03-170">(through the use of .NET managed API only)</span></span> |
| <span data-ttu-id="58c03-171">API de estilo push</span><span class="sxs-lookup"><span data-stu-id="58c03-171">Push-style API</span></span> |<span data-ttu-id="58c03-172">**Não**</span><span class="sxs-lookup"><span data-stu-id="58c03-172">**No**</span></span> |<span data-ttu-id="58c03-173">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-173">**Yes**</span></span><br/><br/><span data-ttu-id="58c03-174">[OnMessage](/dotnet/api/microsoft.servicebus.messaging.queueclient.onmessage#Microsoft_ServiceBus_Messaging_QueueClient_OnMessage_System_Action_Microsoft_ServiceBus_Messaging_BrokeredMessage__) e sessões **OnMessage** API .NET.</span><span class="sxs-lookup"><span data-stu-id="58c03-174">[OnMessage](/dotnet/api/microsoft.servicebus.messaging.queueclient.onmessage#Microsoft_ServiceBus_Messaging_QueueClient_OnMessage_System_Action_Microsoft_ServiceBus_Messaging_BrokeredMessage__) and **OnMessage** sessions .NET API.</span></span> |
| <span data-ttu-id="58c03-175">Modo de recebimento</span><span class="sxs-lookup"><span data-stu-id="58c03-175">Receive mode</span></span> |<span data-ttu-id="58c03-176">**Inspecionar e Conceder**</span><span class="sxs-lookup"><span data-stu-id="58c03-176">**Peek & Lease**</span></span> |<span data-ttu-id="58c03-177">**Inspecionar e bloquear**</span><span class="sxs-lookup"><span data-stu-id="58c03-177">**Peek & Lock**</span></span><br/><br/><span data-ttu-id="58c03-178">**Receber e excluir**</span><span class="sxs-lookup"><span data-stu-id="58c03-178">**Receive & Delete**</span></span> |
| <span data-ttu-id="58c03-179">Modo de acesso exclusivo</span><span class="sxs-lookup"><span data-stu-id="58c03-179">Exclusive access mode</span></span> |<span data-ttu-id="58c03-180">**Com base em concessão**</span><span class="sxs-lookup"><span data-stu-id="58c03-180">**Lease-based**</span></span> |<span data-ttu-id="58c03-181">**Com base em bloqueio**</span><span class="sxs-lookup"><span data-stu-id="58c03-181">**Lock-based**</span></span> |
| <span data-ttu-id="58c03-182">Duração da concessão/do bloqueio</span><span class="sxs-lookup"><span data-stu-id="58c03-182">Lease/Lock duration</span></span> |<span data-ttu-id="58c03-183">**30 segundos (padrão)**</span><span class="sxs-lookup"><span data-stu-id="58c03-183">**30 seconds (default)**</span></span><br/><br/><span data-ttu-id="58c03-184">**7 dias (máximo)** (Você pode renovar ou liberar uma concessão de mensagem usando a API [UpdateMessage](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueue.updatemessage.aspx).)</span><span class="sxs-lookup"><span data-stu-id="58c03-184">**7 days (maximum)** (You can renew or release a message lease using the [UpdateMessage](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueue.updatemessage.aspx) API.)</span></span> |<span data-ttu-id="58c03-185">**60 segundos (padrão)**</span><span class="sxs-lookup"><span data-stu-id="58c03-185">**60 seconds (default)**</span></span><br/><br/><span data-ttu-id="58c03-186">Você pode renovar um bloqueio de mensagem usando a API [RenewLock](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.renewlock#Microsoft_ServiceBus_Messaging_BrokeredMessage_RenewLock).</span><span class="sxs-lookup"><span data-stu-id="58c03-186">You can renew a message lock using the [RenewLock](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.renewlock#Microsoft_ServiceBus_Messaging_BrokeredMessage_RenewLock) API.</span></span> |
| <span data-ttu-id="58c03-187">Precisão da concessão/do bloqueio</span><span class="sxs-lookup"><span data-stu-id="58c03-187">Lease/Lock precision</span></span> |<span data-ttu-id="58c03-188">**Nível da mensagem**</span><span class="sxs-lookup"><span data-stu-id="58c03-188">**Message level**</span></span><br/><br/><span data-ttu-id="58c03-189">(cada mensagem pode ter um valor de tempo limite diferente, que pode ser atualizado conforme a necessidade durante o processamento da mensagem, usando a API [UpdateMessage](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueue.updatemessage.aspx))</span><span class="sxs-lookup"><span data-stu-id="58c03-189">(each message can have a different timeout value, which you can then update as needed while processing the message, by using the [UpdateMessage](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueue.updatemessage.aspx) API)</span></span> |<span data-ttu-id="58c03-190">**Nível da fila**</span><span class="sxs-lookup"><span data-stu-id="58c03-190">**Queue level**</span></span><br/><br/><span data-ttu-id="58c03-191">(cada fila tem uma precisão de bloqueio aplicada a todas as suas mensagens, mas você pode renovar o bloqueio usando a API [RenewLock](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.renewlock#Microsoft_ServiceBus_Messaging_BrokeredMessage_RenewLock).)</span><span class="sxs-lookup"><span data-stu-id="58c03-191">(each queue has a lock precision applied to all of its messages, but you can renew the lock using the [RenewLock](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.renewlock#Microsoft_ServiceBus_Messaging_BrokeredMessage_RenewLock) API.)</span></span> |
| <span data-ttu-id="58c03-192">Recebimento em lote</span><span class="sxs-lookup"><span data-stu-id="58c03-192">Batched receive</span></span> |<span data-ttu-id="58c03-193">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-193">**Yes**</span></span><br/><br/><span data-ttu-id="58c03-194">(especificando explicitamente a contagem de mensagens ao recuperar mensagens, até um máximo de 32 mensagens)</span><span class="sxs-lookup"><span data-stu-id="58c03-194">(explicitly specifying message count when retrieving messages, up to a maximum of 32 messages)</span></span> |<span data-ttu-id="58c03-195">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-195">**Yes**</span></span><br/><br/><span data-ttu-id="58c03-196">(habilitando implicitamente uma propriedade de pré-busca ou explicitamente pelo uso de transações)</span><span class="sxs-lookup"><span data-stu-id="58c03-196">(implicitly enabling a pre-fetch property or explicitly through the use of transactions)</span></span> |
| <span data-ttu-id="58c03-197">Envio em lote</span><span class="sxs-lookup"><span data-stu-id="58c03-197">Batched send</span></span> |<span data-ttu-id="58c03-198">**Não**</span><span class="sxs-lookup"><span data-stu-id="58c03-198">**No**</span></span> |<span data-ttu-id="58c03-199">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-199">**Yes**</span></span><br/><br/><span data-ttu-id="58c03-200">(usando transações ou envio em lote no lado do cliente)</span><span class="sxs-lookup"><span data-stu-id="58c03-200">(through the use of transactions or client-side batching)</span></span> |

### <a name="additional-information"></a><span data-ttu-id="58c03-201">Informações adicionais</span><span class="sxs-lookup"><span data-stu-id="58c03-201">Additional information</span></span>
* <span data-ttu-id="58c03-202">Geralmente, as mensagens nas filas do Armazenamento são do tipo PEPS, mas, às vezes, elas podem estar fora de ordem; por exemplo, quando a duração do tempo limite da visibilidade de uma mensagem expirar (por exemplo, como resultado de um travamento do aplicativo cliente durante o processamento).</span><span class="sxs-lookup"><span data-stu-id="58c03-202">Messages in Storage queues are typically first-in-first-out, but sometimes they can be out of order; for example, when a message's visibility timeout duration expires (for example, as a result of a client application crashing during processing).</span></span> <span data-ttu-id="58c03-203">Quando o tempo limite da visibilidade se esgotar, a mensagem se tornará visível novamente na fila de outro trabalho para que seja removida da fila.</span><span class="sxs-lookup"><span data-stu-id="58c03-203">When the visibility timeout expires, the message becomes visible again on the queue for another worker to dequeue it.</span></span> <span data-ttu-id="58c03-204">Nesse ponto, a mensagem recentemente visível pode ser colocada na fila (para ser removida da fila novamente) após uma mensagem que foi originalmente enfileirada depois dela.</span><span class="sxs-lookup"><span data-stu-id="58c03-204">At that point, the newly visible message might be placed in the queue (to be dequeued again) after a message that was originally enqueued after it.</span></span>
* <span data-ttu-id="58c03-205">O padrão PEPS garantido nas filas do Barramento de Serviço exige o uso de sessões de mensagens.</span><span class="sxs-lookup"><span data-stu-id="58c03-205">The guaranteed FIFO pattern in Service Bus queues requires the use of messaging sessions.</span></span> <span data-ttu-id="58c03-206">Se o aplicativo travar durante o processamento de uma mensagem recebida no modo **Inspecionar e Bloquear**, na próxima vez que um destinatário da fila aceitar uma sessão de mensagens, ele começará com a mensagem com falha após a expiração do seu período TTL (vida útil).</span><span class="sxs-lookup"><span data-stu-id="58c03-206">In the event that the application crashes while processing a message received in the **Peek & Lock** mode, the next time a queue receiver accepts a messaging session, it will start with the failed message after its time-to-live (TTL) period expires.</span></span>
* <span data-ttu-id="58c03-207">As filas do Armazenamento foram projetadas para oferecer suporte a cenários de enfileiramento padrão, como desassociação dos componentes de aplicativo para aumentar a escalabilidade e a tolerância para falhas, redistribuição de carga e criação de fluxos de trabalho do processo.</span><span class="sxs-lookup"><span data-stu-id="58c03-207">Storage queues are designed to support standard queuing scenarios, such as decoupling application components to increase scalability and tolerance for failures, load leveling, and building process workflows.</span></span>
* <span data-ttu-id="58c03-208">As filas do Barramento de Serviço oferecem suporte à garantia de entrega *Pelo menos uma vez*.</span><span class="sxs-lookup"><span data-stu-id="58c03-208">Service Bus queues support the *At-Least-Once* delivery guarantee.</span></span> <span data-ttu-id="58c03-209">Além disso, a semântica *No máximo uma vez* pode ter suporte usando o estado da sessão para armazenar o estado do aplicativo e usando transações para receber mensagens automaticamente e atualizar o estado da sessão.</span><span class="sxs-lookup"><span data-stu-id="58c03-209">In addition, the *At-Most-Once* semantic can be supported by using session state to store the application state and by using transactions to atomically receive messages and update the session state.</span></span>
* <span data-ttu-id="58c03-210">As filas do Armazenamento fornecem um modelo de programação uniforme e consistente entre filas, tabelas e Blobs, para desenvolvedores e equipes de operações.</span><span class="sxs-lookup"><span data-stu-id="58c03-210">Storage queues provide a uniform and consistent programming model across queues, tables, and BLOBs – both for developers and for operations teams.</span></span>
* <span data-ttu-id="58c03-211">As filas do Barramento de Serviço fornecem suporte para transações locais no contexto de uma fila única.</span><span class="sxs-lookup"><span data-stu-id="58c03-211">Service Bus queues provide support for local transactions in the context of a single queue.</span></span>
* <span data-ttu-id="58c03-212">O modo **Receber e Excluir** com suporte do Barramento de Serviço tem a capacidade de reduzir a contagem de operações de mensagens (e custos associados) em troca da garantia de entrega reduzida.</span><span class="sxs-lookup"><span data-stu-id="58c03-212">The **Receive and Delete** mode supported by Service Bus provides the ability to reduce the messaging operation count (and associated cost) in exchange for lowered delivery assurance.</span></span>
* <span data-ttu-id="58c03-213">As filas do Armazenamento fornecem concessões com a capacidade de estender as concessões para mensagens.</span><span class="sxs-lookup"><span data-stu-id="58c03-213">Storage queues provide leases with the ability to extend the leases for messages.</span></span> <span data-ttu-id="58c03-214">Isso permite que os trabalhos mantenham concessões curtas nas mensagens.</span><span class="sxs-lookup"><span data-stu-id="58c03-214">This allows the workers to maintain short leases on messages.</span></span> <span data-ttu-id="58c03-215">Desse modo, se um trabalho travar, a mensagem poderá ser processada rapidamente de novo por outro trabalho.</span><span class="sxs-lookup"><span data-stu-id="58c03-215">Thus, if a worker crashes, the message can be quickly processed again by another worker.</span></span> <span data-ttu-id="58c03-216">Além disso, um trabalho poderá estender a concessão em uma mensagem se precisar processá-la por mais tempo do que o tempo de concessão atual.</span><span class="sxs-lookup"><span data-stu-id="58c03-216">In addition, a worker can extend the lease on a message if it needs to process it longer than the current lease time.</span></span>
* <span data-ttu-id="58c03-217">As filas do Armazenamento oferecem um tempo limite de visibilidade que você pode definir no enfileiramento de uma mensagem ou na remoção dela da fila.</span><span class="sxs-lookup"><span data-stu-id="58c03-217">Storage queues offer a visibility timeout that you can set upon the enqueueing or dequeuing of a message.</span></span> <span data-ttu-id="58c03-218">Além disso, é possível atualizar uma mensagem com diferentes valores no tempo de execução, bem como atualizar diferentes valores entre mensagens na mesma fila.</span><span class="sxs-lookup"><span data-stu-id="58c03-218">In addition, you can update a message with different lease values at run-time, and update different values across messages in the same queue.</span></span> <span data-ttu-id="58c03-219">Os tempos limite de bloqueio do Barramento de Serviço são definidos nos metadados da fila. No entanto, é possível renovar o bloqueio chamando o método [RenewLock](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.renewlock#Microsoft_ServiceBus_Messaging_BrokeredMessage_RenewLock).</span><span class="sxs-lookup"><span data-stu-id="58c03-219">Service Bus lock timeouts are defined in the queue metadata; however, you can renew the lock by calling the [RenewLock](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.renewlock#Microsoft_ServiceBus_Messaging_BrokeredMessage_RenewLock) method.</span></span>
* <span data-ttu-id="58c03-220">O tempo limite máximo para um bloqueio de operação de recebimento nas filas do Barramento de Serviço é de 24 dias.</span><span class="sxs-lookup"><span data-stu-id="58c03-220">The maximum timeout for a blocking receive operation in Service Bus queues is 24 days.</span></span> <span data-ttu-id="58c03-221">No entanto, os tempos limite baseados em REST têm um valor máximo de 55 segundos.</span><span class="sxs-lookup"><span data-stu-id="58c03-221">However, REST-based timeouts have a maximum value of 55 seconds.</span></span>
* <span data-ttu-id="58c03-222">O envio em lote do lado do cliente fornecido pelo Barramento de Serviço permite que um cliente da fila coloque em lote várias mensagens em uma única operação de envio.</span><span class="sxs-lookup"><span data-stu-id="58c03-222">Client-side batching provided by Service Bus enables a queue client to batch multiple messages into a single send operation.</span></span> <span data-ttu-id="58c03-223">O envio em lote está disponível apenas para operações de envio assíncronas.</span><span class="sxs-lookup"><span data-stu-id="58c03-223">Batching is only available for asynchronous send operations.</span></span>
* <span data-ttu-id="58c03-224">Recursos como o limite máximo de 200 TB das filas do Armazenamento (mais quando você virtualiza contas) e filas ilimitadas a tornam uma plataforma ideal para provedores de SaaS.</span><span class="sxs-lookup"><span data-stu-id="58c03-224">Features such as the 200 TB ceiling of Storage queues (more when you virtualize accounts) and unlimited queues make it an ideal platform for SaaS providers.</span></span>
* <span data-ttu-id="58c03-225">As filas do Armazenamento fornecem um mecanismo de controle de acesso flexível e delegado ao desempenho.</span><span class="sxs-lookup"><span data-stu-id="58c03-225">Storage queues provide a flexible and performant delegated access control mechanism.</span></span>

## <a name="advanced-capabilities"></a><span data-ttu-id="58c03-226">Recursos avançados</span><span class="sxs-lookup"><span data-stu-id="58c03-226">Advanced capabilities</span></span>
<span data-ttu-id="58c03-227">Esta seção compara recursos avançados fornecidos pelas filas do Armazenamento e do Barramento de Serviço.</span><span class="sxs-lookup"><span data-stu-id="58c03-227">This section compares advanced capabilities provided by Storage queues and Service Bus queues.</span></span>

| <span data-ttu-id="58c03-228">Critérios de comparação</span><span class="sxs-lookup"><span data-stu-id="58c03-228">Comparison Criteria</span></span> | <span data-ttu-id="58c03-229">Filas de armazenamento</span><span class="sxs-lookup"><span data-stu-id="58c03-229">Storage queues</span></span> | <span data-ttu-id="58c03-230">Filas de barramento de serviço</span><span class="sxs-lookup"><span data-stu-id="58c03-230">Service Bus Queues</span></span> |
| --- | --- | --- |
| <span data-ttu-id="58c03-231">Entrega agendada</span><span class="sxs-lookup"><span data-stu-id="58c03-231">Scheduled delivery</span></span> |<span data-ttu-id="58c03-232">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-232">**Yes**</span></span> |<span data-ttu-id="58c03-233">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-233">**Yes**</span></span> |
| <span data-ttu-id="58c03-234">Mensagens mortas automáticas</span><span class="sxs-lookup"><span data-stu-id="58c03-234">Automatic dead lettering</span></span> |<span data-ttu-id="58c03-235">**Não**</span><span class="sxs-lookup"><span data-stu-id="58c03-235">**No**</span></span> |<span data-ttu-id="58c03-236">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-236">**Yes**</span></span> |
| <span data-ttu-id="58c03-237">Aumentando o valor da vida útil da fila</span><span class="sxs-lookup"><span data-stu-id="58c03-237">Increasing queue time-to-live value</span></span> |<span data-ttu-id="58c03-238">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-238">**Yes**</span></span><br/><br/><span data-ttu-id="58c03-239">(por meio da atualização in-loco do tempo limite de visibilidade)</span><span class="sxs-lookup"><span data-stu-id="58c03-239">(via in-place update of visibility timeout)</span></span> |<span data-ttu-id="58c03-240">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-240">**Yes**</span></span><br/><br/><span data-ttu-id="58c03-241">(fornecido por uma função de API dedicada)</span><span class="sxs-lookup"><span data-stu-id="58c03-241">(provided via a dedicated API function)</span></span> |
| <span data-ttu-id="58c03-242">Suporte a mensagens suspeitas</span><span class="sxs-lookup"><span data-stu-id="58c03-242">Poison message support</span></span> |<span data-ttu-id="58c03-243">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-243">**Yes**</span></span> |<span data-ttu-id="58c03-244">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-244">**Yes**</span></span> |
| <span data-ttu-id="58c03-245">Atualização in-loco</span><span class="sxs-lookup"><span data-stu-id="58c03-245">In-place update</span></span> |<span data-ttu-id="58c03-246">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-246">**Yes**</span></span> |<span data-ttu-id="58c03-247">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-247">**Yes**</span></span> |
| <span data-ttu-id="58c03-248">Log de transações do servidor</span><span class="sxs-lookup"><span data-stu-id="58c03-248">Server-side transaction log</span></span> |<span data-ttu-id="58c03-249">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-249">**Yes**</span></span> |<span data-ttu-id="58c03-250">**Não**</span><span class="sxs-lookup"><span data-stu-id="58c03-250">**No**</span></span> |
| <span data-ttu-id="58c03-251">Métricas de armazenamento</span><span class="sxs-lookup"><span data-stu-id="58c03-251">Storage metrics</span></span> |<span data-ttu-id="58c03-252">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-252">**Yes**</span></span><br/><br/><span data-ttu-id="58c03-253">**Métricas de Minuto**: fornecem métricas em tempo real para disponibilidade, TPS, contagens de chamada de API, contagens de erros e muito mais, tudo em tempo real (agregados por minuto e relatados poucos minutos após o que acabou de acontecer em produção).</span><span class="sxs-lookup"><span data-stu-id="58c03-253">**Minute Metrics**: provides real-time metrics for availability, TPS, API call counts, error counts, and more, all in real time (aggregated per minute and reported within a few minutes from what just happened in production.</span></span> <span data-ttu-id="58c03-254">Para obter mais informações, confira [Sobre as Métricas de Analítica de Armazenamento](/rest/api/storageservices/fileservices/About-Storage-Analytics-Metrics).</span><span class="sxs-lookup"><span data-stu-id="58c03-254">For more information, see [About Storage Analytics Metrics](/rest/api/storageservices/fileservices/About-Storage-Analytics-Metrics).</span></span> |<span data-ttu-id="58c03-255">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-255">**Yes**</span></span><br/><br/><span data-ttu-id="58c03-256">(consultas em massa chamando [GetQueues](/dotnet/api/microsoft.servicebus.namespacemanager.getqueues#Microsoft_ServiceBus_NamespaceManager_GetQueues))</span><span class="sxs-lookup"><span data-stu-id="58c03-256">(bulk queries by calling [GetQueues](/dotnet/api/microsoft.servicebus.namespacemanager.getqueues#Microsoft_ServiceBus_NamespaceManager_GetQueues))</span></span> |
| <span data-ttu-id="58c03-257">Gerenciamento de estado</span><span class="sxs-lookup"><span data-stu-id="58c03-257">State management</span></span> |<span data-ttu-id="58c03-258">**Não**</span><span class="sxs-lookup"><span data-stu-id="58c03-258">**No**</span></span> |<span data-ttu-id="58c03-259">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-259">**Yes**</span></span><br/><br/><span data-ttu-id="58c03-260">[Microsoft.ServiceBus.Messaging.EntityStatus.Active](/dotnet/api/microsoft.servicebus.messaging.entitystatus.active), [Microsoft.ServiceBus.Messaging.EntityStatus.Disabled](/dotnet/api/microsoft.servicebus.messaging.entitystatus.disabled), [Microsoft.ServiceBus.Messaging.EntityStatus.SendDisabled](/dotnet/api/microsoft.servicebus.messaging.entitystatus.senddisabled), [Microsoft.ServiceBus.Messaging.EntityStatus.ReceiveDisabled](/dotnet/api/microsoft.servicebus.messaging.entitystatus.receivedisabled)</span><span class="sxs-lookup"><span data-stu-id="58c03-260">[Microsoft.ServiceBus.Messaging.EntityStatus.Active](/dotnet/api/microsoft.servicebus.messaging.entitystatus.active), [Microsoft.ServiceBus.Messaging.EntityStatus.Disabled](/dotnet/api/microsoft.servicebus.messaging.entitystatus.disabled), [Microsoft.ServiceBus.Messaging.EntityStatus.SendDisabled](/dotnet/api/microsoft.servicebus.messaging.entitystatus.senddisabled), [Microsoft.ServiceBus.Messaging.EntityStatus.ReceiveDisabled](/dotnet/api/microsoft.servicebus.messaging.entitystatus.receivedisabled)</span></span> |
| <span data-ttu-id="58c03-261">Encaminhamento automático de mensagem</span><span class="sxs-lookup"><span data-stu-id="58c03-261">Message auto-forwarding</span></span> |<span data-ttu-id="58c03-262">**Não**</span><span class="sxs-lookup"><span data-stu-id="58c03-262">**No**</span></span> |<span data-ttu-id="58c03-263">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-263">**Yes**</span></span> |
| <span data-ttu-id="58c03-264">Função Limpar fila</span><span class="sxs-lookup"><span data-stu-id="58c03-264">Purge queue function</span></span> |<span data-ttu-id="58c03-265">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-265">**Yes**</span></span> |<span data-ttu-id="58c03-266">**Não**</span><span class="sxs-lookup"><span data-stu-id="58c03-266">**No**</span></span> |
| <span data-ttu-id="58c03-267">Grupos de mensagens</span><span class="sxs-lookup"><span data-stu-id="58c03-267">Message groups</span></span> |<span data-ttu-id="58c03-268">**Não**</span><span class="sxs-lookup"><span data-stu-id="58c03-268">**No**</span></span> |<span data-ttu-id="58c03-269">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-269">**Yes**</span></span><br/><br/><span data-ttu-id="58c03-270">(por meio do uso de sessões de mensagens)</span><span class="sxs-lookup"><span data-stu-id="58c03-270">(through the use of messaging sessions)</span></span> |
| <span data-ttu-id="58c03-271">Estado do aplicativo por grupo de mensagens</span><span class="sxs-lookup"><span data-stu-id="58c03-271">Application state per message group</span></span> |<span data-ttu-id="58c03-272">**Não**</span><span class="sxs-lookup"><span data-stu-id="58c03-272">**No**</span></span> |<span data-ttu-id="58c03-273">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-273">**Yes**</span></span> |
| <span data-ttu-id="58c03-274">Detecção de duplicidade</span><span class="sxs-lookup"><span data-stu-id="58c03-274">Duplicate detection</span></span> |<span data-ttu-id="58c03-275">**Não**</span><span class="sxs-lookup"><span data-stu-id="58c03-275">**No**</span></span> |<span data-ttu-id="58c03-276">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-276">**Yes**</span></span><br/><br/><span data-ttu-id="58c03-277">(configurável no lado do remetente)</span><span class="sxs-lookup"><span data-stu-id="58c03-277">(configurable on the sender side)</span></span> |
| <span data-ttu-id="58c03-278">Procurando grupos de mensagens</span><span class="sxs-lookup"><span data-stu-id="58c03-278">Browsing message groups</span></span> |<span data-ttu-id="58c03-279">**Não**</span><span class="sxs-lookup"><span data-stu-id="58c03-279">**No**</span></span> |<span data-ttu-id="58c03-280">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-280">**Yes**</span></span> |
| <span data-ttu-id="58c03-281">Buscando sessões de mensagem por ID</span><span class="sxs-lookup"><span data-stu-id="58c03-281">Fetching message sessions by ID</span></span> |<span data-ttu-id="58c03-282">**Não**</span><span class="sxs-lookup"><span data-stu-id="58c03-282">**No**</span></span> |<span data-ttu-id="58c03-283">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-283">**Yes**</span></span> |

### <a name="additional-information"></a><span data-ttu-id="58c03-284">Informações adicionais</span><span class="sxs-lookup"><span data-stu-id="58c03-284">Additional information</span></span>
* <span data-ttu-id="58c03-285">Ambas as tecnologias de enfileiramento permitem que uma mensagem seja agendada para entrega em um momento posterior.</span><span class="sxs-lookup"><span data-stu-id="58c03-285">Both queuing technologies enable a message to be scheduled for delivery at a later time.</span></span>
* <span data-ttu-id="58c03-286">O encaminhamento automático da fila permite que milhares de filas encaminhem automaticamente suas mensagens para uma única fila, na qual o aplicativo de recebimento consome a mensagem.</span><span class="sxs-lookup"><span data-stu-id="58c03-286">Queue auto-forwarding enables thousands of queues to auto-forward their messages to a single queue, from which the receiving application consumes the message.</span></span> <span data-ttu-id="58c03-287">É possível usar esse mecanismo para fins de segurança, controlar o fluxo e isolar o armazenamento entre cada editor de mensagem.</span><span class="sxs-lookup"><span data-stu-id="58c03-287">You can use this mechanism to achieve security, control flow, and isolate storage between each message publisher.</span></span>
* <span data-ttu-id="58c03-288">As filas do Armazenamento dão suporte à atualização do conteúdo da mensagem.</span><span class="sxs-lookup"><span data-stu-id="58c03-288">Storage queues provide support for updating message content.</span></span> <span data-ttu-id="58c03-289">Você pode usar essa funcionalidade para informações de estado persistentes e atualizações incrementais de progresso na mensagem para que ela possa ser processada a partir do último ponto de verificação conhecido, em vez de começar do zero.</span><span class="sxs-lookup"><span data-stu-id="58c03-289">You can use this functionality for persisting state information and incremental progress updates into the message so that it can be processed from the last known checkpoint, instead of starting from scratch.</span></span> <span data-ttu-id="58c03-290">Com filas do Barramento de Serviço, você pode habilitar o mesmo cenário usando as sessões de mensagens.</span><span class="sxs-lookup"><span data-stu-id="58c03-290">With Service Bus queues, you can enable the same scenario through the use of message sessions.</span></span> <span data-ttu-id="58c03-291">As sessões permitem salvar e recuperar o estado de processamento do aplicativo (usando [SetState](/dotnet/api/microsoft.servicebus.messaging.messagesession.setstate#Microsoft_ServiceBus_Messaging_MessageSession_SetState_System_IO_Stream_) e [GetState](/dotnet/api/microsoft.servicebus.messaging.messagesession.getstate#Microsoft_ServiceBus_Messaging_MessageSession_GetState)).</span><span class="sxs-lookup"><span data-stu-id="58c03-291">Sessions enable you to save and retrieve the application processing state (by using [SetState](/dotnet/api/microsoft.servicebus.messaging.messagesession.setstate#Microsoft_ServiceBus_Messaging_MessageSession_SetState_System_IO_Stream_) and [GetState](/dotnet/api/microsoft.servicebus.messaging.messagesession.getstate#Microsoft_ServiceBus_Messaging_MessageSession_GetState)).</span></span>
* <span data-ttu-id="58c03-292">As [mensagens mortas](service-bus-dead-letter-queues.md), que têm suporte apenas nas filas do Barramento de Serviço, podem ser úteis para isolar mensagens que não podem ser processadas com êxito pelo aplicativo de recebimento ou quando as mensagens não podem atingir seu destino devido a uma propriedade de TTL expirada.</span><span class="sxs-lookup"><span data-stu-id="58c03-292">[Dead lettering](service-bus-dead-letter-queues.md), which is only supported by Service Bus queues, can be useful for isolating messages that cannot be processed successfully by the receiving application or when messages cannot reach their destination due to an expired time-to-live (TTL) property.</span></span> <span data-ttu-id="58c03-293">O valor de TTL especifica quanto tempo uma mensagem permanece na fila.</span><span class="sxs-lookup"><span data-stu-id="58c03-293">The TTL value specifies how long a message remains in the queue.</span></span> <span data-ttu-id="58c03-294">Com o Barramento de Serviço, a mensagem será movida para uma fila especial chamada $DeadLetterQueue quando o período TTL expirar.</span><span class="sxs-lookup"><span data-stu-id="58c03-294">With Service Bus, the message will be moved to a special queue called $DeadLetterQueue when the TTL period expires.</span></span>
* <span data-ttu-id="58c03-295">Para localizar mensagens "suspeitas" nas filas do Armazenamento, ao remover uma mensagem, o aplicativo examina a propriedade **[DequeueCount](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueuemessage.dequeuecount.aspx)** da mensagem.</span><span class="sxs-lookup"><span data-stu-id="58c03-295">To find "poison" messages in Storage queues, when dequeuing a message the application examines the **[DequeueCount](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueuemessage.dequeuecount.aspx)** property of the message.</span></span> <span data-ttu-id="58c03-296">Se **DequeueCount** for maior que um determinado limite, o aplicativo moverá a mensagem para uma fila de "mensagens mortas" definida pelo aplicativo.</span><span class="sxs-lookup"><span data-stu-id="58c03-296">If **DequeueCount** is greater than a given threshold, the application moves the message to an application-defined "dead letter" queue.</span></span>
* <span data-ttu-id="58c03-297">As filas do Armazenamento permitem que você obtenha um log detalhado de todas as transações executadas na fila, bem como as métricas agregadas.</span><span class="sxs-lookup"><span data-stu-id="58c03-297">Storage queues enable you to obtain a detailed log of all of the transactions executed against the queue, as well as aggregated metrics.</span></span> <span data-ttu-id="58c03-298">Essas duas opções são úteis para depurar e entender como o aplicativo usa as filas do Armazenamento.</span><span class="sxs-lookup"><span data-stu-id="58c03-298">Both of these options are useful for debugging and understanding how your application uses Storage queues.</span></span> <span data-ttu-id="58c03-299">Elas também são úteis para o ajuste de desempenho do aplicativo e redução dos custos do uso de filas.</span><span class="sxs-lookup"><span data-stu-id="58c03-299">They are also useful for performance-tuning your application and reducing the costs of using queues.</span></span>
* <span data-ttu-id="58c03-300">O conceito de "sessões de mensagens" com suporte do Barramento de Serviço habilita mensagens que pertencem a um determinado grupo lógico a serem associadas a um destinatário específico que, por sua vez, cria uma afinidade de sessão entre as mensagens e seus respectivos destinatários.</span><span class="sxs-lookup"><span data-stu-id="58c03-300">The concept of "message sessions" supported by Service Bus enables messages that belong to a certain logical group to be associated with a given receiver, which in turn creates a session-like affinity between messages and their respective receivers.</span></span> <span data-ttu-id="58c03-301">Você pode habilitar essa funcionalidade avançada no Barramento de Serviço definindo a propriedade [SessionID](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.sessionid#Microsoft_ServiceBus_Messaging_BrokeredMessage_SessionId) em uma mensagem.</span><span class="sxs-lookup"><span data-stu-id="58c03-301">You can enable this advanced functionality in Service Bus by setting the [SessionID](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.sessionid#Microsoft_ServiceBus_Messaging_BrokeredMessage_SessionId) property on a message.</span></span> <span data-ttu-id="58c03-302">Os receptores podem escutar em uma ID de sessão específica e receber mensagens que compartilham o identificador de sessão especificado.</span><span class="sxs-lookup"><span data-stu-id="58c03-302">Receivers can then listen on a specific session ID and receive messages that share the specified session identifier.</span></span>
* <span data-ttu-id="58c03-303">A funcionalidade de detecção de duplicação com suporte das filas do Barramento de Serviço remove automaticamente mensagens duplicadas enviadas a uma fila ou um tópico, com base no valor da propriedade [MessageId](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.messageid#Microsoft_ServiceBus_Messaging_BrokeredMessage_MessageId).</span><span class="sxs-lookup"><span data-stu-id="58c03-303">The duplication detection functionality supported by Service Bus queues automatically removes duplicate messages sent to a queue or topic, based on the value of the [MessageId](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.messageid#Microsoft_ServiceBus_Messaging_BrokeredMessage_MessageId) property.</span></span>

## <a name="capacity-and-quotas"></a><span data-ttu-id="58c03-304">Capacidade e cotas</span><span class="sxs-lookup"><span data-stu-id="58c03-304">Capacity and quotas</span></span>
<span data-ttu-id="58c03-305">Esta seção compara as filas do Armazenamento e as filas do Barramento de Serviço da perspectiva de [capacidade e cotas](service-bus-quotas.md) que podem ser aplicáveis.</span><span class="sxs-lookup"><span data-stu-id="58c03-305">This section compares Storage queues and Service Bus queues from the perspective of [capacity and quotas](service-bus-quotas.md) that may apply.</span></span>

| <span data-ttu-id="58c03-306">Critérios de comparação</span><span class="sxs-lookup"><span data-stu-id="58c03-306">Comparison Criteria</span></span> | <span data-ttu-id="58c03-307">Filas de armazenamento</span><span class="sxs-lookup"><span data-stu-id="58c03-307">Storage queues</span></span> | <span data-ttu-id="58c03-308">Filas de barramento de serviço</span><span class="sxs-lookup"><span data-stu-id="58c03-308">Service Bus Queues</span></span> |
| --- | --- | --- |
| <span data-ttu-id="58c03-309">Tamanho máximo da fila</span><span class="sxs-lookup"><span data-stu-id="58c03-309">Maximum queue size</span></span> |<span data-ttu-id="58c03-310">**500 TB**</span><span class="sxs-lookup"><span data-stu-id="58c03-310">**500 TB**</span></span><br/><br/><span data-ttu-id="58c03-311">(limitado a uma [capacidade de conta de armazenamento única](../storage/common/storage-introduction.md#queue-storage))</span><span class="sxs-lookup"><span data-stu-id="58c03-311">(limited to a [single storage account capacity](../storage/common/storage-introduction.md#queue-storage))</span></span> |<span data-ttu-id="58c03-312">**1 GB a 80 GB**</span><span class="sxs-lookup"><span data-stu-id="58c03-312">**1 GB to 80 GB**</span></span><br/><br/><span data-ttu-id="58c03-313">(definido na criação de uma fila e [habilitando particionamento](service-bus-partitioning.md) – confira a seção "Informações adicionais")</span><span class="sxs-lookup"><span data-stu-id="58c03-313">(defined upon creation of a queue and [enabling partitioning](service-bus-partitioning.md) – see the “Additional Information” section)</span></span> |
| <span data-ttu-id="58c03-314">Tamanho máximo da mensagem</span><span class="sxs-lookup"><span data-stu-id="58c03-314">Maximum message size</span></span> |<span data-ttu-id="58c03-315">**64 KB**</span><span class="sxs-lookup"><span data-stu-id="58c03-315">**64 KB**</span></span><br/><br/><span data-ttu-id="58c03-316">(48 KB ao usar a codificação **Base64**)</span><span class="sxs-lookup"><span data-stu-id="58c03-316">(48 KB when using **Base64** encoding)</span></span><br/><br/><span data-ttu-id="58c03-317">O Azure oferece suporte a mensagens grandes combinando filas e blobs — nesse ponto, você pode enfileirar até 200 GB para um único item.</span><span class="sxs-lookup"><span data-stu-id="58c03-317">Azure supports large messages by combining queues and blobs – at which point you can enqueue up to 200GB for a single item.</span></span> |<span data-ttu-id="58c03-318">**256 KB** ou **1 MB**</span><span class="sxs-lookup"><span data-stu-id="58c03-318">**256 KB** or **1 MB**</span></span><br/><br/><span data-ttu-id="58c03-319">(incluindo cabeçalho e corpo, tamanho máximo do cabeçalho: 64 KB).</span><span class="sxs-lookup"><span data-stu-id="58c03-319">(including both header and body, maximum header size: 64 KB).</span></span><br/><br/><span data-ttu-id="58c03-320">Depende da [camada de serviço](service-bus-premium-messaging.md).</span><span class="sxs-lookup"><span data-stu-id="58c03-320">Depends on the [service tier](service-bus-premium-messaging.md).</span></span> |
| <span data-ttu-id="58c03-321">TTL máxima da mensagem</span><span class="sxs-lookup"><span data-stu-id="58c03-321">Maximum message TTL</span></span> |<span data-ttu-id="58c03-322">**7 dias**</span><span class="sxs-lookup"><span data-stu-id="58c03-322">**7 days**</span></span> |**`TimeSpan.Max`** |
| <span data-ttu-id="58c03-323">Número máximo de filas</span><span class="sxs-lookup"><span data-stu-id="58c03-323">Maximum number of queues</span></span> |<span data-ttu-id="58c03-324">**Ilimitado**</span><span class="sxs-lookup"><span data-stu-id="58c03-324">**Unlimited**</span></span> |<span data-ttu-id="58c03-325">**10,000**</span><span class="sxs-lookup"><span data-stu-id="58c03-325">**10,000**</span></span><br/><br/><span data-ttu-id="58c03-326">(por namespace de serviço, pode ser aumentado)</span><span class="sxs-lookup"><span data-stu-id="58c03-326">(per service namespace, can be increased)</span></span> |
| <span data-ttu-id="58c03-327">Número máximo de clientes simultâneos</span><span class="sxs-lookup"><span data-stu-id="58c03-327">Maximum number of concurrent clients</span></span> |<span data-ttu-id="58c03-328">**Ilimitado**</span><span class="sxs-lookup"><span data-stu-id="58c03-328">**Unlimited**</span></span> |<span data-ttu-id="58c03-329">**Ilimitado**</span><span class="sxs-lookup"><span data-stu-id="58c03-329">**Unlimited**</span></span><br/><br/><span data-ttu-id="58c03-330">(o limite de 100 conexões simultâneas se aplica somente à comunicação baseada no protocolo TCP)</span><span class="sxs-lookup"><span data-stu-id="58c03-330">(100 concurrent connection limit only applies to TCP protocol-based communication)</span></span> |

### <a name="additional-information"></a><span data-ttu-id="58c03-331">Informações adicionais</span><span class="sxs-lookup"><span data-stu-id="58c03-331">Additional information</span></span>
* <span data-ttu-id="58c03-332">O Barramento de Serviço impõe limites de tamanho de fila.</span><span class="sxs-lookup"><span data-stu-id="58c03-332">Service Bus enforces queue size limits.</span></span> <span data-ttu-id="58c03-333">O tamanho máximo da fila é especificado na criação da fila e pode ter um valor entre 1 e 80 GB.</span><span class="sxs-lookup"><span data-stu-id="58c03-333">The maximum queue size is specified upon creation of the queue and can have a value between 1 and 80 GB.</span></span> <span data-ttu-id="58c03-334">Se o valor do tamanho da fila definido na criação da fila for atingido, mensagens de entrada adicionais serão rejeitadas e uma exceção será recebida pelo código de chamada.</span><span class="sxs-lookup"><span data-stu-id="58c03-334">If the queue size value set on creation of the queue is reached, additional incoming messages will be rejected and an exception will be received by the calling code.</span></span> <span data-ttu-id="58c03-335">Para obter mais informações sobre cotas no Barramento de Serviço, confira [Cotas do Barramento de Serviço](service-bus-quotas.md).</span><span class="sxs-lookup"><span data-stu-id="58c03-335">For more information about quotas in Service Bus, see [Service Bus Quotas](service-bus-quotas.md).</span></span>
* <span data-ttu-id="58c03-336">No [tipo Standard](service-bus-premium-messaging.md), você pode criar filas do Barramento de Serviço em tamanhos de 1, 2, 3, 4 ou 5 GB (o padrão é 1 GB).</span><span class="sxs-lookup"><span data-stu-id="58c03-336">In the [Standard tier](service-bus-premium-messaging.md), you can create Service Bus queues in 1, 2, 3, 4, or 5 GB sizes (the default is 1 GB).</span></span> <span data-ttu-id="58c03-337">No tipo Premium, você pode criar filas de até 80 GB.</span><span class="sxs-lookup"><span data-stu-id="58c03-337">In the Premium tier, you can create queues up to 80 GB in size.</span></span> <span data-ttu-id="58c03-338">No tipo Standard, com o particionamento habilitado (que é o padrão), o Barramento de Serviço cria 16 partições para cada GB especificado.</span><span class="sxs-lookup"><span data-stu-id="58c03-338">In Standard tier, with partitioning enabled (which is the default), Service Bus creates 16 partitions for each GB you specify.</span></span> <span data-ttu-id="58c03-339">Assim, se você criar uma fila que tenha 5 GB, com 16 partições, o tamanho máximo da fila será (5 * 16) = 80 GB.</span><span class="sxs-lookup"><span data-stu-id="58c03-339">As such, if you create a queue that is 5 GB in size, with 16 partitions the maximum queue size becomes (5 * 16) = 80 GB.</span></span> <span data-ttu-id="58c03-340">É possível ver o tamanho máximo da fila ou do tópico particionado observando sua entrada no [Portal do Azure][Azure portal].</span><span class="sxs-lookup"><span data-stu-id="58c03-340">You can see the maximum size of your partitioned queue or topic by looking at its entry on the [Azure portal][Azure portal].</span></span> <span data-ttu-id="58c03-341">No tipo Premium, somente duas partições são criadas por fila.</span><span class="sxs-lookup"><span data-stu-id="58c03-341">In the Premium tier, only 2 partitions are created per queue.</span></span>
* <span data-ttu-id="58c03-342">Com as filas do Armazenamento, se o conteúdo da mensagem não for XML seguro, ele deverá ser codificado em **Base64**.</span><span class="sxs-lookup"><span data-stu-id="58c03-342">With Storage queues, if the content of the message is not XML-safe, then it must be **Base64** encoded.</span></span> <span data-ttu-id="58c03-343">Se você codificar a mensagem em **Base64**, a carga de usuário poderá ser de até 48 KB, em vez de 64 KB.</span><span class="sxs-lookup"><span data-stu-id="58c03-343">If you **Base64**-encode the message, the user payload can be up to 48 KB, instead of 64 KB.</span></span>
* <span data-ttu-id="58c03-344">Com as filas do Barramento de Serviço, cada mensagem armazenada em uma fila é composta por duas partes: um cabeçalho e um corpo.</span><span class="sxs-lookup"><span data-stu-id="58c03-344">With Service Bus queues, each message stored in a queue is composed of two parts: a header and a body.</span></span> <span data-ttu-id="58c03-345">O tamanho total da mensagem não pode exceder o tamanho máximo da mensagem com suporte da camada de serviço.</span><span class="sxs-lookup"><span data-stu-id="58c03-345">The total size of the message cannot exceed the maximum message size supported by the service tier.</span></span>
* <span data-ttu-id="58c03-346">Quando os clientes se comunicam com as filas do Barramento de Serviço pelo protocolo TCP, o número máximo de conexões simultâneas para uma única fila do Barramento de Serviço é limitado a 100.</span><span class="sxs-lookup"><span data-stu-id="58c03-346">When clients communicate with Service Bus queues over the TCP protocol, the maximum number of concurrent connections to a single Service Bus queue is limited to 100.</span></span> <span data-ttu-id="58c03-347">Esse número é compartilhado entre remetentes e receptores.</span><span class="sxs-lookup"><span data-stu-id="58c03-347">This number is shared between senders and receivers.</span></span> <span data-ttu-id="58c03-348">Se essa cota for atingida, as solicitações subsequentes de conexões adicionais serão rejeitadas e uma exceção será recebida pelo código de chamada.</span><span class="sxs-lookup"><span data-stu-id="58c03-348">If this quota is reached, subsequent requests for additional connections will be rejected and an exception will be received by the calling code.</span></span> <span data-ttu-id="58c03-349">Esse limite não é imposto a clientes que se conectam às filas usando a API baseada em REST.</span><span class="sxs-lookup"><span data-stu-id="58c03-349">This limit is not imposed on clients connecting to the queues using REST-based API.</span></span>
* <span data-ttu-id="58c03-350">Se precisar de mais de 10.000 filas em um único namespace do Barramento de Serviço, você poderá entrar em contato com a equipe de suporte do Azure e solicitar um aumento.</span><span class="sxs-lookup"><span data-stu-id="58c03-350">If you require more than 10,000 queues in a single Service Bus namespace, you can contact the Azure support team and request an increase.</span></span> <span data-ttu-id="58c03-351">Para escalar para além de 10.000 filas com o Barramento de Serviço, você também pode criar namespaces adicionais usando o [Portal do Azure][Azure portal].</span><span class="sxs-lookup"><span data-stu-id="58c03-351">To scale beyond 10,000 queues with Service Bus, you can also create additional namespaces using the [Azure portal][Azure portal].</span></span>

## <a name="management-and-operations"></a><span data-ttu-id="58c03-352">Gerenciamento e operações</span><span class="sxs-lookup"><span data-stu-id="58c03-352">Management and operations</span></span>
<span data-ttu-id="58c03-353">Esta seção compara os recursos de gerenciamento fornecidos pelas filas do Armazenamento e do Barramento de Serviço.</span><span class="sxs-lookup"><span data-stu-id="58c03-353">This section compares the management features provided by Storage queues and Service Bus queues.</span></span>

| <span data-ttu-id="58c03-354">Critérios de comparação</span><span class="sxs-lookup"><span data-stu-id="58c03-354">Comparison Criteria</span></span> | <span data-ttu-id="58c03-355">Filas de armazenamento</span><span class="sxs-lookup"><span data-stu-id="58c03-355">Storage queues</span></span> | <span data-ttu-id="58c03-356">Filas do Barramento de Serviço</span><span class="sxs-lookup"><span data-stu-id="58c03-356">Service Bus queues</span></span> |
| --- | --- | --- |
| <span data-ttu-id="58c03-357">Protocolo de gerenciamento</span><span class="sxs-lookup"><span data-stu-id="58c03-357">Management protocol</span></span> |<span data-ttu-id="58c03-358">**REST sobre HTTP/HTTPS**</span><span class="sxs-lookup"><span data-stu-id="58c03-358">**REST over HTTP/HTTPS**</span></span> |<span data-ttu-id="58c03-359">**REST sobre HTTPS**</span><span class="sxs-lookup"><span data-stu-id="58c03-359">**REST over HTTPS**</span></span> |
| <span data-ttu-id="58c03-360">Protocolo de tempo de execução</span><span class="sxs-lookup"><span data-stu-id="58c03-360">Runtime protocol</span></span> |<span data-ttu-id="58c03-361">**REST sobre HTTP/HTTPS**</span><span class="sxs-lookup"><span data-stu-id="58c03-361">**REST over HTTP/HTTPS**</span></span> |<span data-ttu-id="58c03-362">**REST sobre HTTPS**</span><span class="sxs-lookup"><span data-stu-id="58c03-362">**REST over HTTPS**</span></span><br/><br/><span data-ttu-id="58c03-363">**AMQP 1.0 Standard (TCP com TLS)**</span><span class="sxs-lookup"><span data-stu-id="58c03-363">**AMQP 1.0 Standard (TCP with TLS)**</span></span> |
| <span data-ttu-id="58c03-364">API do .NET</span><span class="sxs-lookup"><span data-stu-id="58c03-364">.NET API</span></span> |<span data-ttu-id="58c03-365">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-365">**Yes**</span></span><br/><br/><span data-ttu-id="58c03-366">(API do Cliente de Armazenamento .NET)</span><span class="sxs-lookup"><span data-stu-id="58c03-366">(.NET Storage Client API)</span></span> |<span data-ttu-id="58c03-367">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-367">**Yes**</span></span><br/><br/><span data-ttu-id="58c03-368">(API do Barramento de serviço do .NET)</span><span class="sxs-lookup"><span data-stu-id="58c03-368">(.NET Service Bus API)</span></span> |
| <span data-ttu-id="58c03-369">C++ nativo</span><span class="sxs-lookup"><span data-stu-id="58c03-369">Native C++</span></span> |<span data-ttu-id="58c03-370">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-370">**Yes**</span></span> |<span data-ttu-id="58c03-371">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-371">**Yes**</span></span> |
| <span data-ttu-id="58c03-372">API Java</span><span class="sxs-lookup"><span data-stu-id="58c03-372">Java API</span></span> |<span data-ttu-id="58c03-373">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-373">**Yes**</span></span> |<span data-ttu-id="58c03-374">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-374">**Yes**</span></span> |
| <span data-ttu-id="58c03-375">API PHP</span><span class="sxs-lookup"><span data-stu-id="58c03-375">PHP API</span></span> |<span data-ttu-id="58c03-376">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-376">**Yes**</span></span> |<span data-ttu-id="58c03-377">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-377">**Yes**</span></span> |
| <span data-ttu-id="58c03-378">API Node.js</span><span class="sxs-lookup"><span data-stu-id="58c03-378">Node.js API</span></span> |<span data-ttu-id="58c03-379">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-379">**Yes**</span></span> |<span data-ttu-id="58c03-380">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-380">**Yes**</span></span> |
| <span data-ttu-id="58c03-381">Suporte a metadados arbitrários</span><span class="sxs-lookup"><span data-stu-id="58c03-381">Arbitrary metadata support</span></span> |<span data-ttu-id="58c03-382">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-382">**Yes**</span></span> |<span data-ttu-id="58c03-383">**Não**</span><span class="sxs-lookup"><span data-stu-id="58c03-383">**No**</span></span> |
| <span data-ttu-id="58c03-384">Regras de nomenclatura da fila</span><span class="sxs-lookup"><span data-stu-id="58c03-384">Queue naming rules</span></span> |<span data-ttu-id="58c03-385">**Até 63 caracteres**</span><span class="sxs-lookup"><span data-stu-id="58c03-385">**Up to 63 characters long**</span></span><br/><br/><span data-ttu-id="58c03-386">(As letras em um nome de fila devem estar em minúsculas.)</span><span class="sxs-lookup"><span data-stu-id="58c03-386">(Letters in a queue name must be lowercase.)</span></span> |<span data-ttu-id="58c03-387">**Até 260 caracteres**</span><span class="sxs-lookup"><span data-stu-id="58c03-387">**Up to 260 characters long**</span></span><br/><br/><span data-ttu-id="58c03-388">(Nomes e caminhos de fila não diferenciam maiúsculas de minúsculas.)</span><span class="sxs-lookup"><span data-stu-id="58c03-388">(Queue paths and names are case-insensitive.)</span></span> |
| <span data-ttu-id="58c03-389">Função Obter tamanho da fila</span><span class="sxs-lookup"><span data-stu-id="58c03-389">Get queue length function</span></span> |<span data-ttu-id="58c03-390">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-390">**Yes**</span></span><br/><br/><span data-ttu-id="58c03-391">(Valor aproximado se as mensagens expirarem depois da TTL sem que sejam excluídas.)</span><span class="sxs-lookup"><span data-stu-id="58c03-391">(Approximate value if messages expire beyond the TTL without being deleted.)</span></span> |<span data-ttu-id="58c03-392">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-392">**Yes**</span></span><br/><br/><span data-ttu-id="58c03-393">(Valor exato, pontual.)</span><span class="sxs-lookup"><span data-stu-id="58c03-393">(Exact, point-in-time value.)</span></span> |
| <span data-ttu-id="58c03-394">Função Inspecionar</span><span class="sxs-lookup"><span data-stu-id="58c03-394">Peek function</span></span> |<span data-ttu-id="58c03-395">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-395">**Yes**</span></span> |<span data-ttu-id="58c03-396">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-396">**Yes**</span></span> |

### <a name="additional-information"></a><span data-ttu-id="58c03-397">Informações adicionais</span><span class="sxs-lookup"><span data-stu-id="58c03-397">Additional information</span></span>
* <span data-ttu-id="58c03-398">As filas do Armazenamento dão suporte a atributos arbitrários que podem ser aplicados à descrição da fila, na forma de pares de nome/valor.</span><span class="sxs-lookup"><span data-stu-id="58c03-398">Storage queues provide support for arbitrary attributes that can be applied to the queue description, in the form of name/value pairs.</span></span>
* <span data-ttu-id="58c03-399">As duas tecnologias oferecem a capacidade de inspecionar uma mensagem sem precisar bloqueá-la, o que pode ser útil ao implementar uma ferramenta de gerenciador/navegador de filas.</span><span class="sxs-lookup"><span data-stu-id="58c03-399">Both queue technologies offer the ability to peek a message without having to lock it, which can be useful when implementing a queue explorer/browser tool.</span></span>
* <span data-ttu-id="58c03-400">As APIs do sistema de mensagens agenciado .NET do Barramento de Serviço aproveitam as conexões de TCP full duplex para melhor desempenho quando comparadas ao REST por HTTP, além de oferecerem suporte ao protocolo padrão AMQP 1.0.</span><span class="sxs-lookup"><span data-stu-id="58c03-400">The Service Bus .NET brokered messaging APIs leverage full-duplex TCP connections for improved performance when compared to REST over HTTP, and they support the AMQP 1.0 standard protocol.</span></span>
* <span data-ttu-id="58c03-401">Os nomes das filas do Armazenamento podem ter de 3 a 63 caracteres e podem conter letras minúsculas, número e hifens.</span><span class="sxs-lookup"><span data-stu-id="58c03-401">Names of Storage queues can be 3-63 characters long, can contain lowercase letters, numbers, and hyphens.</span></span> <span data-ttu-id="58c03-402">Para obter mais informações, confira [Nomeando filas e metadados](/rest/api/storageservices/fileservices/Naming-Queues-and-Metadata).</span><span class="sxs-lookup"><span data-stu-id="58c03-402">For more information, see [Naming Queues and Metadata](/rest/api/storageservices/fileservices/Naming-Queues-and-Metadata).</span></span>
* <span data-ttu-id="58c03-403">Os nomes de fila do Barramento de Serviço podem ter até 260 caracteres e têm menos regras restritivas de nomenclatura.</span><span class="sxs-lookup"><span data-stu-id="58c03-403">Service Bus queue names can be up to 260 characters long and have less restrictive naming rules.</span></span> <span data-ttu-id="58c03-404">Os nomes de fila do Barramento de Serviço podem conter letras, números, pontos, hifens e sublinhados.</span><span class="sxs-lookup"><span data-stu-id="58c03-404">Service Bus queue names can contain letters, numbers, periods, hyphens, and underscores.</span></span>

## <a name="authentication-and-authorization"></a><span data-ttu-id="58c03-405">Autenticação e autorização</span><span class="sxs-lookup"><span data-stu-id="58c03-405">Authentication and authorization</span></span>
<span data-ttu-id="58c03-406">Esta seção aborda os recursos de autenticação e autorização com suporte nas filas do Armazenamento e do Barramento de Serviço.</span><span class="sxs-lookup"><span data-stu-id="58c03-406">This section discusses the authentication and authorization features supported by Storage queues and Service Bus queues.</span></span>

| <span data-ttu-id="58c03-407">Critérios de comparação</span><span class="sxs-lookup"><span data-stu-id="58c03-407">Comparison Criteria</span></span> | <span data-ttu-id="58c03-408">Filas de armazenamento</span><span class="sxs-lookup"><span data-stu-id="58c03-408">Storage queues</span></span> | <span data-ttu-id="58c03-409">Filas de barramento de serviço</span><span class="sxs-lookup"><span data-stu-id="58c03-409">Service Bus Queues</span></span> |
| --- | --- | --- |
| <span data-ttu-id="58c03-410">Autenticação</span><span class="sxs-lookup"><span data-stu-id="58c03-410">Authentication</span></span> |<span data-ttu-id="58c03-411">**Chave simétrica**</span><span class="sxs-lookup"><span data-stu-id="58c03-411">**Symmetric key**</span></span> |<span data-ttu-id="58c03-412">**Chave simétrica**</span><span class="sxs-lookup"><span data-stu-id="58c03-412">**Symmetric key**</span></span> |
| <span data-ttu-id="58c03-413">Modelo de segurança</span><span class="sxs-lookup"><span data-stu-id="58c03-413">Security model</span></span> |<span data-ttu-id="58c03-414">Acesso delegado via tokens de SAS.</span><span class="sxs-lookup"><span data-stu-id="58c03-414">Delegated access via SAS tokens.</span></span> |<span data-ttu-id="58c03-415">SAS</span><span class="sxs-lookup"><span data-stu-id="58c03-415">SAS</span></span> |
| <span data-ttu-id="58c03-416">Federação do provedor de identidade</span><span class="sxs-lookup"><span data-stu-id="58c03-416">Identity provider federation</span></span> |<span data-ttu-id="58c03-417">**Não**</span><span class="sxs-lookup"><span data-stu-id="58c03-417">**No**</span></span> |<span data-ttu-id="58c03-418">**Sim**</span><span class="sxs-lookup"><span data-stu-id="58c03-418">**Yes**</span></span> |

### <a name="additional-information"></a><span data-ttu-id="58c03-419">Informações adicionais</span><span class="sxs-lookup"><span data-stu-id="58c03-419">Additional information</span></span>
* <span data-ttu-id="58c03-420">Cada solicitação de ambas as tecnologias de enfileiramento deve ser autenticada.</span><span class="sxs-lookup"><span data-stu-id="58c03-420">Every request to either of the queuing technologies must be authenticated.</span></span> <span data-ttu-id="58c03-421">Não há suporte para filas públicas com acesso anônimo.</span><span class="sxs-lookup"><span data-stu-id="58c03-421">Public queues with anonymous access are not supported.</span></span> <span data-ttu-id="58c03-422">Usando [SAS](service-bus-sas.md), você pode tratar esse cenário publicando uma SAS somente gravação, SAS somente leitura ou até mesmo uma SAS de acesso completo.</span><span class="sxs-lookup"><span data-stu-id="58c03-422">Using [SAS](service-bus-sas.md), you can address this scenario by publishing a write-only SAS, read-only SAS, or even a full-access SAS.</span></span>
* <span data-ttu-id="58c03-423">O esquema de autenticação fornecido pelas filas do Armazenamento envolve o uso de uma chave simétrica, que é um HMAC (Message Authentication Code) baseado em hash, calculado com o algoritmo SHA-256 e codificado como uma cadeia de caracteres **Base64**.</span><span class="sxs-lookup"><span data-stu-id="58c03-423">The authentication scheme provided by Storage queues involves the use of a symmetric key, which is a hash-based Message Authentication Code (HMAC), computed with the SHA-256 algorithm and encoded as a **Base64** string.</span></span> <span data-ttu-id="58c03-424">Para obter mais informações sobre o respectivo protocolo, veja [Autenticação para os Serviços de Armazenamento do Azure](/rest/api/storageservices/fileservices/Authentication-for-the-Azure-Storage-Services).</span><span class="sxs-lookup"><span data-stu-id="58c03-424">For more information about the respective protocol, see [Authentication for the Azure Storage Services](/rest/api/storageservices/fileservices/Authentication-for-the-Azure-Storage-Services).</span></span> <span data-ttu-id="58c03-425">As filas do Barramento de Serviço oferecem suporte a um modelo semelhante usando chaves simétricas.</span><span class="sxs-lookup"><span data-stu-id="58c03-425">Service Bus queues support a similar model using symmetric keys.</span></span> <span data-ttu-id="58c03-426">Para obter mais informações, confira [Autenticação de Assinatura de Acesso Compartilhado com Barramento de Serviço](service-bus-sas.md).</span><span class="sxs-lookup"><span data-stu-id="58c03-426">For more information, see [Shared Access Signature Authentication with Service Bus](service-bus-sas.md).</span></span>

## <a name="conclusion"></a><span data-ttu-id="58c03-427">Conclusão</span><span class="sxs-lookup"><span data-stu-id="58c03-427">Conclusion</span></span>
<span data-ttu-id="58c03-428">Com uma compreensão mais aprofundada das duas tecnologias, você poderá tomar uma decisão mais informada sobre qual tecnologia de fila usar, e quando.</span><span class="sxs-lookup"><span data-stu-id="58c03-428">By gaining a deeper understanding of the two technologies, you will be able to make a more informed decision on which queue technology to use, and when.</span></span> <span data-ttu-id="58c03-429">A decisão sobre quando usar as filas do Armazenamento ou as filas do Barramento de Serviço depende claramente de vários fatores.</span><span class="sxs-lookup"><span data-stu-id="58c03-429">The decision on when to use Storage queues or Service Bus queues clearly depends on a number of factors.</span></span> <span data-ttu-id="58c03-430">Esses fatores podem depender consideravelmente das necessidades individuais de seu aplicativo e respectiva arquitetura.</span><span class="sxs-lookup"><span data-stu-id="58c03-430">These factors may depend heavily on the individual needs of your application and its architecture.</span></span> <span data-ttu-id="58c03-431">Se seu aplicativo já utiliza os principais recursos do Microsoft Azure, talvez você prefira optar pelas filas do Armazenamento, especialmente se precisar de comunicação básica e sistema de mensagens entre serviços ou filas necessárias que podem ter mais de 80 GB.</span><span class="sxs-lookup"><span data-stu-id="58c03-431">If your application already uses the core capabilities of Microsoft Azure, you may prefer to choose Storage queues, especially if you require basic communication and messaging between services or need queues that can be larger than 80 GB in size.</span></span>

<span data-ttu-id="58c03-432">Como as filas do Barramento de Serviço fornecem vários recursos avançados, como sessões, transações, detecção de duplicidade, mensagens mortas automáticas e recursos de publicação/assinatura duráveis, elas podem ser uma opção melhor se você estiver criando um aplicativo híbrido ou se seu aplicativo de alguma forma exigir esses recursos.</span><span class="sxs-lookup"><span data-stu-id="58c03-432">Because Service Bus queues provide a number of advanced features, such as sessions, transactions, duplicate detection, automatic dead-lettering, and durable publish/subscribe capabilities, they may be a preferred choice if you are building a hybrid application or if your application otherwise requires these features.</span></span>

## <a name="next-steps"></a><span data-ttu-id="58c03-433">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="58c03-433">Next steps</span></span>
<span data-ttu-id="58c03-434">Os artigos a seguir fornecem mais orientação e informações sobre como usar as filas do Armazenamento ou as filas do Barramento de Serviço.</span><span class="sxs-lookup"><span data-stu-id="58c03-434">The following articles provide more guidance and information about using Storage queues or Service Bus queues.</span></span>

* [<span data-ttu-id="58c03-435">Introdução às filas do Barramento de Serviço</span><span class="sxs-lookup"><span data-stu-id="58c03-435">Get started with Service Bus queues</span></span>](service-bus-dotnet-get-started-with-queues.md)
* [<span data-ttu-id="58c03-436">Como usar o serviço de armazenamento de filas</span><span class="sxs-lookup"><span data-stu-id="58c03-436">How to Use the Queue Storage Service</span></span>](../storage/queues/storage-dotnet-how-to-use-queues.md)
* [<span data-ttu-id="58c03-437">Práticas recomendadas para melhorias de desempenho usando o sistema de mensagens agenciado do Barramento de Serviço</span><span class="sxs-lookup"><span data-stu-id="58c03-437">Best practices for performance improvements using Service Bus brokered messaging</span></span>](service-bus-performance-improvements.md)
* [<span data-ttu-id="58c03-438">Introdução a filas e tópicos no Barramento de Serviço do Azure (postagem de blog)</span><span class="sxs-lookup"><span data-stu-id="58c03-438">Introducing Queues and Topics in Azure Service Bus (blog post)</span></span>](http://www.code-magazine.com/article.aspx?quickid=1112041)
* [<span data-ttu-id="58c03-439">Guia do desenvolvedor do Barramento de Serviço</span><span class="sxs-lookup"><span data-stu-id="58c03-439">The Developer's Guide to Service Bus</span></span>](http://www.cloudcasts.net/devguide/Default.aspx?id=11030)
* [<span data-ttu-id="58c03-440">Usando o serviço de enfileiramento do Azure</span><span class="sxs-lookup"><span data-stu-id="58c03-440">Using the Queuing Service in Azure</span></span>](http://www.developerfusion.com/article/120197/using-the-queuing-service-in-windows-azure/)

[Azure portal]: https://portal.azure.com

