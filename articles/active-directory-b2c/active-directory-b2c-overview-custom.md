---
title: "Azure Active Directory B2C: Políticas personalizadas | Microsoft Docs"
description: "Um tópico sobre as políticas personalizadas do Azure Active Directory B2C"
services: active-directory-b2c
documentationcenter: 
author: parakhj
manager: krassk
editor: parakhj
ms.assetid: 1ff398a4-2079-4615-94f1-57de22c0aad6
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.topic: article
ms.devlang: na
ms.date: 04/04/2017
ms.author: parakhj
ms.openlocfilehash: bada9cf5f1a86f3dd047536f6fd9359c0231a384
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-active-directory-b2c-custom-policies"></a><span data-ttu-id="16b9e-103">Azure Active Directory B2C: Políticas personalizadas</span><span class="sxs-lookup"><span data-stu-id="16b9e-103">Azure Active Directory B2C: Custom policies</span></span>

[!INCLUDE [active-directory-b2c-advanced-audience-warning](../../includes/active-directory-b2c-advanced-audience-warning.md)]

## <a name="what-are-custom-policies"></a><span data-ttu-id="16b9e-104">O que são políticas personalizadas?</span><span class="sxs-lookup"><span data-stu-id="16b9e-104">What are custom policies?</span></span>

<span data-ttu-id="16b9e-105">Políticas personalizadas são arquivos de configuração que definem o comportamento de saudação do seu locatário do Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="16b9e-105">Custom policies are configuration files that define hello behavior of your Azure AD B2C tenant.</span></span> <span data-ttu-id="16b9e-106">Enquanto **políticas internas** são predefinidas no portal de saudação do Azure AD B2C para hello tarefas mais comuns de identidade, as políticas personalizadas podem ser totalmente editado por um toocomplete do desenvolvedor de identidade um próximo número ilimitado de tarefas.</span><span class="sxs-lookup"><span data-stu-id="16b9e-106">Whereas **built-in policies** are predefined in hello Azure AD B2C portal for hello most common identity tasks, custom policies can be fully edited by an identity developer toocomplete a near unlimited number of tasks.</span></span> <span data-ttu-id="16b9e-107">Leitura toodetermine se políticas personalizadas são ideal para você e seu cenário de identidade.</span><span class="sxs-lookup"><span data-stu-id="16b9e-107">Read on toodetermine if custom policies are right for you and your identity scenario.</span></span>

<span data-ttu-id="16b9e-108">**A edição da política personalizada não se destina a todas as pessoas.**</span><span class="sxs-lookup"><span data-stu-id="16b9e-108">**Custom policy editing is not for everyone.**</span></span> <span data-ttu-id="16b9e-109">Olá curva de aprendizado é mais exigentes, Olá inicialização mais tempo, e políticas de toocustom alterações futuras exigirá toomaintain de experiência semelhante.</span><span class="sxs-lookup"><span data-stu-id="16b9e-109">hello learning curve is demanding, hello startup time is longer, and future changes toocustom policies will require similar expertise toomaintain.</span></span> <span data-ttu-id="16b9e-110">As políticas internas devem ser cuidadosamente consideradas primeiro para o cenário antes do uso de políticas personalizadas.</span><span class="sxs-lookup"><span data-stu-id="16b9e-110">Built-in policies should be carefully considered first for your scenario before using custom policies.</span></span>

## <a name="comparing-built-in-policies-and-custom-policies"></a><span data-ttu-id="16b9e-111">Comparando políticas internas e personalizadas</span><span class="sxs-lookup"><span data-stu-id="16b9e-111">Comparing built-in policies and custom policies</span></span>

| | <span data-ttu-id="16b9e-112">Políticas internas</span><span class="sxs-lookup"><span data-stu-id="16b9e-112">Built-in policies</span></span> | <span data-ttu-id="16b9e-113">Políticas personalizadas</span><span class="sxs-lookup"><span data-stu-id="16b9e-113">Custom policies</span></span> |
|-|-------------------|-----------------|
|<span data-ttu-id="16b9e-114">Usuários de destino</span><span class="sxs-lookup"><span data-stu-id="16b9e-114">Target users</span></span> | <span data-ttu-id="16b9e-115">Todos os desenvolvedores de aplicativos com ou sem conhecimentos sobre identidade</span><span class="sxs-lookup"><span data-stu-id="16b9e-115">All app developers with or without identity expertise</span></span> | <span data-ttu-id="16b9e-116">Profissionais de identidade: integradores de sistemas, consultores e equipes internas de identidade.</span><span class="sxs-lookup"><span data-stu-id="16b9e-116">Identity pros: systems integrators, consultants and in-house identity teams.</span></span> <span data-ttu-id="16b9e-117">Estão familiarizados com fluxos do OpenIDConnect e têm conhecimento sobre a autenticação baseada em declarações e os provedores de identidade</span><span class="sxs-lookup"><span data-stu-id="16b9e-117">They are comfortable with OpenIDConnect flows, and understand identity providers and claims-based authentication</span></span> |
|<span data-ttu-id="16b9e-118">Método de configuração</span><span class="sxs-lookup"><span data-stu-id="16b9e-118">Configuration method</span></span> | <span data-ttu-id="16b9e-119">Portal do Azure com uma interface do usuário amigável</span><span class="sxs-lookup"><span data-stu-id="16b9e-119">Azure portal with a user-friendly UI</span></span> | <span data-ttu-id="16b9e-120">Editar diretamente os arquivos XML e, em seguida, carregar toohello portal do Azure</span><span class="sxs-lookup"><span data-stu-id="16b9e-120">Directly editing XML files and then uploading toohello Azure portal</span></span> |
|<span data-ttu-id="16b9e-121">Personalização da interface do usuário</span><span class="sxs-lookup"><span data-stu-id="16b9e-121">UI customization</span></span> | <span data-ttu-id="16b9e-122">Personalização completa da interface do usuário, incluindo suporte a HTML, CSS e jscript (exige um domínio personalizado)</span><span class="sxs-lookup"><span data-stu-id="16b9e-122">Full UI customization, including HTML, CSS, and jscript support(requires custom domain)</span></span><br><br><span data-ttu-id="16b9e-123">Suporte a várias linguagens com cadeias de caracteres Personalizadas</span><span class="sxs-lookup"><span data-stu-id="16b9e-123">Multilanguage support with Custom strings</span></span> | <span data-ttu-id="16b9e-124">Idêntico</span><span class="sxs-lookup"><span data-stu-id="16b9e-124">Same</span></span> |
| <span data-ttu-id="16b9e-125">Personalização de atributos</span><span class="sxs-lookup"><span data-stu-id="16b9e-125">Attribute customization</span></span> | <span data-ttu-id="16b9e-126">Atributos padrão e personalizados</span><span class="sxs-lookup"><span data-stu-id="16b9e-126">Standard and custom attributes</span></span> | <span data-ttu-id="16b9e-127">Idêntico</span><span class="sxs-lookup"><span data-stu-id="16b9e-127">Same</span></span> |
|<span data-ttu-id="16b9e-128">Gerenciamento de tokens e sessões</span><span class="sxs-lookup"><span data-stu-id="16b9e-128">Token and session management</span></span> | <span data-ttu-id="16b9e-129">Token personalizado e opções de várias sessões</span><span class="sxs-lookup"><span data-stu-id="16b9e-129">Custom token and multiple session options</span></span> | <span data-ttu-id="16b9e-130">Idêntico</span><span class="sxs-lookup"><span data-stu-id="16b9e-130">Same</span></span> |
|<span data-ttu-id="16b9e-131">Provedores de Identidade</span><span class="sxs-lookup"><span data-stu-id="16b9e-131">Identity Providers</span></span>| <span data-ttu-id="16b9e-132">**Hoje**: provedor social e local predefinido</span><span class="sxs-lookup"><span data-stu-id="16b9e-132">**Today**: predefined local, social provider</span></span><br><br><span data-ttu-id="16b9e-133">**Futuro**: OIDC baseado em padrões, SAML, OAuth</span><span class="sxs-lookup"><span data-stu-id="16b9e-133">**Future**: Standards-based OIDC, SAML, OAuth</span></span> | <span data-ttu-id="16b9e-134">**Hoje**: OIDC baseado em padrões, OAUTH, SAML</span><span class="sxs-lookup"><span data-stu-id="16b9e-134">**Today**: Standards-based OIDC, OAUTH, SAML</span></span><br><br><span data-ttu-id="16b9e-135">**Futuro**: WsFed</span><span class="sxs-lookup"><span data-stu-id="16b9e-135">**Future**: WsFed</span></span> |
|<span data-ttu-id="16b9e-136">Tarefas de identidade (exemplos)</span><span class="sxs-lookup"><span data-stu-id="16b9e-136">Identity Tasks (examples)</span></span> | <span data-ttu-id="16b9e-137">Inscrever-se ou entrar com contas locais e várias contas sociais</span><span class="sxs-lookup"><span data-stu-id="16b9e-137">Signup or SignIn with local and many social accounts</span></span><br><br><span data-ttu-id="16b9e-138">Redefinição de senha de autoatendimento</span><span class="sxs-lookup"><span data-stu-id="16b9e-138">Self-Service Password Reset</span></span><br><br><span data-ttu-id="16b9e-139">Edição de perfil</span><span class="sxs-lookup"><span data-stu-id="16b9e-139">Profile Edit</span></span><br><br><span data-ttu-id="16b9e-140">Cenários de Autenticação Multifator</span><span class="sxs-lookup"><span data-stu-id="16b9e-140">Multi-Factor Auth scenarios</span></span><br><br><span data-ttu-id="16b9e-141">Personalizar tokens e sessões</span><span class="sxs-lookup"><span data-stu-id="16b9e-141">Customize Tokens and sessions</span></span><br><br><span data-ttu-id="16b9e-142">Acessar fluxos de token</span><span class="sxs-lookup"><span data-stu-id="16b9e-142">Access Token flows</span></span> | <span data-ttu-id="16b9e-143">Concluir Olá mesmo tarefas como as políticas internas usando provedores de identidade personalizado ou usar escopos personalizados</span><span class="sxs-lookup"><span data-stu-id="16b9e-143">Complete hello same tasks as built-in policies using custom identity providers or use custom scopes</span></span><br><br><span data-ttu-id="16b9e-144">Provisionar o usuário em outro sistema no tempo de saudação do registro</span><span class="sxs-lookup"><span data-stu-id="16b9e-144">Provision user in another system at hello time of registration</span></span><br><br><span data-ttu-id="16b9e-145">Enviar um email de boas-vindas usando seu próprio provedor de serviços de email</span><span class="sxs-lookup"><span data-stu-id="16b9e-145">Send a welcome email using your own email service provider</span></span><br><br><span data-ttu-id="16b9e-146">Usar um repositório de usuários fora do B2C</span><span class="sxs-lookup"><span data-stu-id="16b9e-146">Use a user store outside B2C</span></span><br><br><span data-ttu-id="16b9e-147">Validar as informações fornecidas pelo usuário com um sistema confiável por meio da API</span><span class="sxs-lookup"><span data-stu-id="16b9e-147">Validate user provided information with a trusted system via API</span></span> |

## <a name="policy-files"></a><span data-ttu-id="16b9e-148">Arquivos de política</span><span class="sxs-lookup"><span data-stu-id="16b9e-148">Policy files</span></span>

<span data-ttu-id="16b9e-149">Uma política personalizada é representada como um ou vários arquivos de formato XML que se referem a tooeach em uma cadeia hierárquica.</span><span class="sxs-lookup"><span data-stu-id="16b9e-149">A custom policy is represented as one or several XML-formatted files which refer tooeach other in a hierarchical chain.</span></span> <span data-ttu-id="16b9e-150">definem os elementos XML Olá: declarações de esquema de declarações, transformações, definições de conteúdo, perfis de provedores/técnico de declarações e as etapas da orquestração de Userjourney, entre outros elementos.</span><span class="sxs-lookup"><span data-stu-id="16b9e-150">hello XML elements define: Claims schema, claims transformations, content definitions, claims providers/technical profiles, and Userjourney orchestration steps, among other elements.</span></span>

<span data-ttu-id="16b9e-151">Recomendamos o uso de saudação dos três tipos de arquivos de política:</span><span class="sxs-lookup"><span data-stu-id="16b9e-151">We recommend hello use of three types of policy files:</span></span>

- <span data-ttu-id="16b9e-152">**Um arquivo de BASE**, que contém a maioria das definições de saudação e para qual Azure fornece um exemplo completo.</span><span class="sxs-lookup"><span data-stu-id="16b9e-152">**A BASE file**, which contains most of hello definitions and for which Azure provides a complete sample.</span></span>  <span data-ttu-id="16b9e-153">É recomendável que fazer um número mínimo de alterações toothis arquivo toohelp na solução de problemas e manutenção de longo prazo das suas políticas</span><span class="sxs-lookup"><span data-stu-id="16b9e-153">We recommend you make a minimum number of changes toothis file toohelp with troubleshooting, and long-term maintenance of your policies</span></span>
- <span data-ttu-id="16b9e-154">**um arquivo de extensões** que contém as alterações de configuração exclusivas Olá para seu locatário</span><span class="sxs-lookup"><span data-stu-id="16b9e-154">**an EXTensions file** that holds hello unique configuration changes for your tenant</span></span>
- <span data-ttu-id="16b9e-155">**um arquivo de terceira parte confiável (RP)** Olá única tarefa determinada arquivo que é invocado diretamente pelo aplicativo hello ou serviço (também conhecido como terceira parte confiável).</span><span class="sxs-lookup"><span data-stu-id="16b9e-155">**a Relying Party (RP) file** which is hello single task-focused file that is invoked directly by hello application or service (aka Relying Party).</span></span>  <span data-ttu-id="16b9e-156">Leia o artigo Olá nas definições do arquivo de política para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="16b9e-156">Read hello article on Policy file definitions for more information.</span></span>  <span data-ttu-id="16b9e-157">Cada tarefa exclusiva requer seu próprio RP e dependendo de requisitos de marca número Olá pode ser "total de aplicativos x número total de casos de uso".</span><span class="sxs-lookup"><span data-stu-id="16b9e-157">Each unique task requires its own RP and depending on branding requirements hello number might be "total of applications x total number of use cases".</span></span>


<span data-ttu-id="16b9e-158">Políticas internas no Azure AD B2C seguem o padrão de 3-arquivo de saudação descrito acima, mas o desenvolvedor Olá somente vê Olá arquivo da terceira parte confiável (RP), enquanto o portal de saudação faz alterações no arquivo de EXTenstions de toohello de plano de fundo de saudação.</span><span class="sxs-lookup"><span data-stu-id="16b9e-158">Built-in policies in Azure AD B2C follow hello 3-file pattern depicted above, but hello developer only sees hello Relying Party (RP) file, while hello portal makes changes in hello background toohello EXTenstions file.</span></span>

## <a name="core-concepts-you-should-know-when-using-custom-policies"></a><span data-ttu-id="16b9e-159">Conceitos fundamentais que você deve saber ao usar políticas personalizadas</span><span class="sxs-lookup"><span data-stu-id="16b9e-159">Core concepts you should know when using custom policies</span></span>

### <a name="azure-active-directory-b2c"></a><span data-ttu-id="16b9e-160">Active Directory B2C do Azure</span><span class="sxs-lookup"><span data-stu-id="16b9e-160">Azure Active Directory B2C</span></span>

<span data-ttu-id="16b9e-161">Serviço de CIAM (gerenciamento de identidades e acessos do cliente) do Azure.</span><span class="sxs-lookup"><span data-stu-id="16b9e-161">Azure’s customer identity and access management (CIAM) service.</span></span> <span data-ttu-id="16b9e-162">o serviço de saudação inclui:</span><span class="sxs-lookup"><span data-stu-id="16b9e-162">hello service includes:</span></span>

1. <span data-ttu-id="16b9e-163">Um diretório de usuário na forma de saudação de uma finalidade especial do Azure Active Directory acessível por meio do Microsoft Graph e que mantém os dados de usuário para as contas locais e contas federadas</span><span class="sxs-lookup"><span data-stu-id="16b9e-163">A user directory in hello form of a special-purpose Azure Active Directory accessible via Microsoft Graph and which holds user data for both local accounts and federated accounts</span></span> 
2. <span data-ttu-id="16b9e-164">Acessar toohello **identidade experiência Framework** que coordena a relação de confiança entre usuários e entidades e passa declarações entre eles toocomplete uma tarefa de gerenciamento de acesso e identidade</span><span class="sxs-lookup"><span data-stu-id="16b9e-164">Access toohello **Identity Experience Framework** which orchestrates trust between users and entities and passes claims between them toocomplete an identity/access management task</span></span> 
3. <span data-ttu-id="16b9e-165">Um serviço de token segurança (STS) emitir id tokens, atualização de tokens e acesso tokens (e declarações de SAML equivalentes) e validá-las tooprotect recursos.</span><span class="sxs-lookup"><span data-stu-id="16b9e-165">A security token service (STS) issuing id tokens, refresh tokens, and access tokens (and equivalent SAML assertions) and validating them tooprotect resources.</span></span>

<span data-ttu-id="16b9e-166">B2C do Azure AD interage com outros sistemas, usuários, provedores de identidade e com o diretório de usuário local Olá na sequência tooachieve uma tarefa de identidade (por exemplo, logon de um usuário, registrar um novo usuário, redefinir uma senha).</span><span class="sxs-lookup"><span data-stu-id="16b9e-166">Azure AD B2C interacts with identity providers, users, other systems, and with hello local user directory in sequence tooachieve an identity task (e.g. login a user, register a new user, reset a password).</span></span> <span data-ttu-id="16b9e-167">Olá plataforma subjacente que estabelece a relação de confiança de várias partes e executa essas etapas é chamada hello Framework de experiência de identidade e uma política (também chamado de jornada de um usuário ou uma política de estrutura de relação de confiança) define explicitamente atores hello, ações de Olá Olá protocolos e Olá sequência de etapas toocomplete.</span><span class="sxs-lookup"><span data-stu-id="16b9e-167">hello underlying platform which establishes multi-party trust and executes these steps is called hello Identity Experience Framework and a policy (also called an user journey or a Trust framework policy) explicitly defines hello actors, hello actions, hello protocols, and hello sequence of steps toocomplete.</span></span>

### <a name="identity-experience-framework"></a><span data-ttu-id="16b9e-168">Identity Experience Framework</span><span class="sxs-lookup"><span data-stu-id="16b9e-168">Identity Experience Framework</span></span>

<span data-ttu-id="16b9e-169">Uma plataforma Azure totalmente configurável, orientada por política e baseada em nuvem que orquestra a relação de confiança entre entidades (amplamente, Provedores de Declarações) nos formatos de protocolo padrão, como OpenIDConnect, OAuth, SAML, WSFed e alguns não padrão (por exemplo, trocas de declarações entre sistemas baseadas na API REST).</span><span class="sxs-lookup"><span data-stu-id="16b9e-169">A fully configurable, policy-driven, cloud-based Azure platform that orchestrates trust between entities (broadly Claims Providers) in standard protocol formats such as OpenIDConnect, OAuth, SAML, WSFed, and a few non-standard ones (e.g. REST API-based system-to-system claims exchanges).</span></span> <span data-ttu-id="16b9e-170">Olá I2E cria amigável, whitelabelled experiências que oferecem suporte a HTML, CSS e jscript.</span><span class="sxs-lookup"><span data-stu-id="16b9e-170">hello I2E creates user-friendly, whitelabelled experiences that support HTML, CSS, and jscript.</span></span>  <span data-ttu-id="16b9e-171">Hoje, Olá identidade experiência Framework está disponível apenas no contexto de saudação do hello serviço do Azure AD B2C e priorizadas para tooCIAM de tarefas relacionadas.</span><span class="sxs-lookup"><span data-stu-id="16b9e-171">Today, hello Identity Experience Framework is available only in hello context of hello Azure AD B2C service and prioritized for tasks related tooCIAM.</span></span>

### <a name="built-in-policies"></a><span data-ttu-id="16b9e-172">Políticas internas</span><span class="sxs-lookup"><span data-stu-id="16b9e-172">Built-in policies</span></span>

<span data-ttu-id="16b9e-173">Arquivos de configuração que comportamento Olá direta da identidade do Azure AD B2C tooperform hello mais comumente usada tarefas (por exemplo, o registro de usuário, entrar, redefinição de senha) e interagir com partes confiáveis cuja relação também é predefinida no Azure AD B2C (de predefinidos Por exemplo, Facebook provedor de identidade, LinkedIn, Account da Microsoft, contas do Google).</span><span class="sxs-lookup"><span data-stu-id="16b9e-173">Predefined configuration files that direct hello behavior of Azure AD B2C tooperform hello most commonly used identity tasks (i.e. user registration, signin, password reset) and interact with trusted parties whose relationship is also predefined in Azure AD B2C (e.g. Facebook identity provider, LinkedIn, Microsoft Account, Google accounts).</span></span>  <span data-ttu-id="16b9e-174">Em Olá futuras, políticas internas também podem fornecer para personalização de provedores de identidade que são normalmente no realm do enterprise hello como Azure Active Directory Premium do Active Directory/ADFS, equipe de vendas da ID do provedor etc.</span><span class="sxs-lookup"><span data-stu-id="16b9e-174">In hello future, built-in policies may also provide for customization of identity providers which are typically in hello enterprise realm such as Azure Active Directory Premium, Active Directory/ADFS, Salesforce ID Provider etc.</span></span>


### <a name="custom-policies"></a><span data-ttu-id="16b9e-175">Políticas personalizadas</span><span class="sxs-lookup"><span data-stu-id="16b9e-175">Custom policies</span></span>

<span data-ttu-id="16b9e-176">Arquivos de configuração que definem o comportamento de saudação do Framework de experiência de identidade em seu locatário do Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="16b9e-176">Configuration files that define hello behavior of Identity Experience Framework in your Azure AD B2C tenant.</span></span> <span data-ttu-id="16b9e-177">Uma política personalizada é acessível como um ou vários arquivos XML (consulte as definições de política de arquivos) que são executados pelo saudação do Framework de experiência de identidade quando invocado por uma terceira parte confiável (por exemplo, um aplicativo).</span><span class="sxs-lookup"><span data-stu-id="16b9e-177">A custom policy is accessible as one or several XML files (see Policy Files definitions) which are executed by hello Identity Experience Framework when invoked by a relying party (e.g. an application).</span></span> <span data-ttu-id="16b9e-178">Políticas personalizadas podem ser editados diretamente por um toocomplete do desenvolvedor de identidade um próximo número ilimitado de tarefas.</span><span class="sxs-lookup"><span data-stu-id="16b9e-178">Custom policies can be directly edited by an identity developer toocomplete a near unlimited number of tasks.</span></span> <span data-ttu-id="16b9e-179">Desenvolvedores devem definir a configuração de políticas personalizadas Olá relações de confiança em pontos de extremidade de metadados de tooinclude detalhes cuidado, declarações exatas definições do exchange e configure segredos de certificados e chaves conforme necessário para cada provedor de identidade.</span><span class="sxs-lookup"><span data-stu-id="16b9e-179">Developers configuring custom policies must define hello trusted relationships in careful detail tooinclude metadata endpoints, exact claims exchange definitions, and configure secrets, keys and certificates as needed by each identity provider.</span></span>

## <a name="policy-file-definitions-for-identity-experience-framework-trustframeworks"></a><span data-ttu-id="16b9e-180">Definições de arquivo de política para Trustframeworks da Estrutura de Experiência de Identidade</span><span class="sxs-lookup"><span data-stu-id="16b9e-180">Policy File Definitions for Identity Experience Framework Trustframeworks</span></span>

### <a name="policy-files"></a><span data-ttu-id="16b9e-181">Arquivos de Política</span><span class="sxs-lookup"><span data-stu-id="16b9e-181">Policy Files</span></span>

<span data-ttu-id="16b9e-182">Uma política personalizada é representada como um ou vários arquivos de formato XML que se referem a tooeach em uma cadeia hierárquica.</span><span class="sxs-lookup"><span data-stu-id="16b9e-182">A custom policy is represented as one or several XML-formatted files which refer tooeach other in a hierarchical chain.</span></span> <span data-ttu-id="16b9e-183">definem os elementos XML Olá: declarações de esquema de declarações, transformações, definições de conteúdo, perfis de provedores/técnico de declarações e as etapas da orquestração de Userjourney, entre outros elementos.</span><span class="sxs-lookup"><span data-stu-id="16b9e-183">hello XML elements define: Claims schema, claims transformations, content definitions, claims providers/technical profiles, and Userjourney orchestration steps, among other elements.</span></span>  <span data-ttu-id="16b9e-184">Recomendamos o uso de saudação dos três tipos de arquivos de política:</span><span class="sxs-lookup"><span data-stu-id="16b9e-184">We recommend hello use of three types of policy files:</span></span>

- <span data-ttu-id="16b9e-185">**Um arquivo de BASE**, que contém a maioria das definições de saudação e para qual Azure fornece um exemplo completo.</span><span class="sxs-lookup"><span data-stu-id="16b9e-185">**A BASE file**, which contains most of hello definitions and for which Azure provides a complete sample.</span></span>  <span data-ttu-id="16b9e-186">É recomendável que fazer um número mínimo de alterações toothis arquivo toohelp na solução de problemas e manutenção de longo prazo das suas políticas</span><span class="sxs-lookup"><span data-stu-id="16b9e-186">We recommend you make a minimum number of changes toothis file toohelp with troubleshooting, and long-term maintenance of your policies</span></span>
- <span data-ttu-id="16b9e-187">**um arquivo de extensões** que contém as alterações de configuração exclusivas Olá para seu locatário</span><span class="sxs-lookup"><span data-stu-id="16b9e-187">**an EXTensions file** that holds hello unique configuration changes for your tenant</span></span>
- <span data-ttu-id="16b9e-188">**um arquivo de terceira parte confiável (RP)** Olá única tarefa determinada arquivo que é invocado diretamente pelo aplicativo hello ou serviço (também conhecido como terceira parte confiável).</span><span class="sxs-lookup"><span data-stu-id="16b9e-188">**a Relying Party (RP) file** which is hello single task-focused file that is invoked directly by hello application or service (aka Relying Party).</span></span>  <span data-ttu-id="16b9e-189">Leia o artigo Olá nas definições do arquivo de política para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="16b9e-189">Read hello article on Policy file definitions for more information.</span></span>  <span data-ttu-id="16b9e-190">Cada tarefa exclusiva requer seu próprio RP e dependendo de requisitos de marca número Olá pode ser "total de aplicativos x número total de casos de uso".</span><span class="sxs-lookup"><span data-stu-id="16b9e-190">Each unique task requires its own RP and depending on branding requirements hello number might be "total of applications x total number of use cases".</span></span>

![Tipos de arquivo de política](media/active-directory-b2c-overview-custom/active-directory-b2c-overview-custom-policy-files.png)

| <span data-ttu-id="16b9e-192">Tipo de arquivo de política</span><span class="sxs-lookup"><span data-stu-id="16b9e-192">Type of policy file</span></span> | <span data-ttu-id="16b9e-193">Nome de arquivo de exemplo</span><span class="sxs-lookup"><span data-stu-id="16b9e-193">Examples file name</span></span> | <span data-ttu-id="16b9e-194">Uso recomendado</span><span class="sxs-lookup"><span data-stu-id="16b9e-194">Recommended use</span></span> | <span data-ttu-id="16b9e-195">É herdado de</span><span class="sxs-lookup"><span data-stu-id="16b9e-195">Inherits from</span></span> |
|---------------------|--------------------|-----------------|---------------|
| <span data-ttu-id="16b9e-196">BASE</span><span class="sxs-lookup"><span data-stu-id="16b9e-196">BASE</span></span> |<span data-ttu-id="16b9e-197">TrustFrameworkBase.xml</span><span class="sxs-lookup"><span data-stu-id="16b9e-197">TrustFrameworkBase.xml</span></span><br><br><span data-ttu-id="16b9e-198">Mytenant.onmicrosoft.com-B2C-1A_BASE1.xml</span><span class="sxs-lookup"><span data-stu-id="16b9e-198">Mytenant.onmicrosoft.com-B2C-1A_BASE1.xml</span></span> | <span data-ttu-id="16b9e-199">Inclui esquema de declarações principal hello, transformação de declarações, provedores de declarações e Jornadas de usuário definidas pela Microsoft</span><span class="sxs-lookup"><span data-stu-id="16b9e-199">Includes hello core claims schema, claims transformations, claims providers, and user journeys configured by Microsoft</span></span><br><br><span data-ttu-id="16b9e-200">Fazer alterações mínimas toothis arquivo</span><span class="sxs-lookup"><span data-stu-id="16b9e-200">Make minimal changes toothis file</span></span> | <span data-ttu-id="16b9e-201">Nenhum</span><span class="sxs-lookup"><span data-stu-id="16b9e-201">None</span></span> |
| <span data-ttu-id="16b9e-202">Extensão (EXT)</span><span class="sxs-lookup"><span data-stu-id="16b9e-202">Extension (EXT)</span></span> | <span data-ttu-id="16b9e-203">TrustFrameworkExtensions.xml</span><span class="sxs-lookup"><span data-stu-id="16b9e-203">TrustFrameworkExtensions.xml</span></span><br><br><span data-ttu-id="16b9e-204">Mytenant.onmicrosoft.com-B2C-1A_EXT.xml</span><span class="sxs-lookup"><span data-stu-id="16b9e-204">Mytenant.onmicrosoft.com-B2C-1A_EXT.xml</span></span> | <span data-ttu-id="16b9e-205">Consolidar sua alterações toohello BASE arquivo aqui</span><span class="sxs-lookup"><span data-stu-id="16b9e-205">Consolidate your changes toohello BASE file here</span></span><br><br><span data-ttu-id="16b9e-206">Provedores de declarações modificados</span><span class="sxs-lookup"><span data-stu-id="16b9e-206">Modified claims providers</span></span><br><br><span data-ttu-id="16b9e-207">Percursos do usuário modificados</span><span class="sxs-lookup"><span data-stu-id="16b9e-207">Modified user journeys</span></span><br><br><span data-ttu-id="16b9e-208">Suas próprias definições de esquema personalizadas</span><span class="sxs-lookup"><span data-stu-id="16b9e-208">Your own custom schema definitions</span></span> | <span data-ttu-id="16b9e-209">Arquivo BASE</span><span class="sxs-lookup"><span data-stu-id="16b9e-209">BASE file</span></span> |
| <span data-ttu-id="16b9e-210">RP (Terceira Parte Confiável)</span><span class="sxs-lookup"><span data-stu-id="16b9e-210">Relying Party (RP)</span></span> | <span data-ttu-id="16b9e-211">B2C_1A_sign_up_sign_in.xml</span><span class="sxs-lookup"><span data-stu-id="16b9e-211">B2C_1A_sign_up_sign_in.xml</span></span>| <span data-ttu-id="16b9e-212">Altere as configurações de forma e sessão do token aqui</span><span class="sxs-lookup"><span data-stu-id="16b9e-212">Change token shape and session settings here</span></span>| <span data-ttu-id="16b9e-213">Arquivo Extensions(EXT)</span><span class="sxs-lookup"><span data-stu-id="16b9e-213">Extensions(EXT) file</span></span> |

### <a name="inheritance-model"></a><span data-ttu-id="16b9e-214">Modelo de herança</span><span class="sxs-lookup"><span data-stu-id="16b9e-214">Inheritance model</span></span>

<span data-ttu-id="16b9e-215">Quando um aplicativo chama o arquivo de política de RP Olá, Olá Identity Framework de experiência em B2C adicionar todos os elementos de saudação de BASE e de extensões e por fim de tooassemble de arquivo de política RP Olá Olá em vigor política atual.</span><span class="sxs-lookup"><span data-stu-id="16b9e-215">When an application calls hello RP Policy file, hello Identity Experience Framework in B2C will add all hello elements from BASE, then from EXTENSIONS, and lastly from hello RP policy file tooassemble hello current policy in effect.</span></span>  <span data-ttu-id="16b9e-216">Elementos de saudação mesmo tipo e nome no arquivo RP Olá substituirão as que estão Olá extensões e substituições de extensões BASE.</span><span class="sxs-lookup"><span data-stu-id="16b9e-216">Elements of hello same type and name in hello RP file will override those in hello EXTENSIONS, and EXTENSIONS overrides BASE.</span></span>

<span data-ttu-id="16b9e-217">**Políticas internas** no Azure AD B2C seguem o padrão de 3-arquivo de saudação descrito acima, mas o desenvolvedor Olá somente vê Olá arquivo da terceira parte confiável (RP), enquanto o portal de saudação faz alterações no arquivo de EXTenstions de toohello de plano de fundo de saudação.</span><span class="sxs-lookup"><span data-stu-id="16b9e-217">**Built-in policies** in Azure AD B2C follow hello 3-file pattern depicted above, but hello developer only sees hello Relying Party (RP) file, while hello portal makes changes in hello background toohello EXTenstions file.</span></span>  <span data-ttu-id="16b9e-218">Todos os Azure AD B2C compartilha um arquivo de política BASE que está sob controle de saudação da equipe Olá B2C do Azure e é atualizado com frequência.</span><span class="sxs-lookup"><span data-stu-id="16b9e-218">All of Azure AD B2C shares a BASE policy file that is under hello control of hello Azure B2C team and is updated frequently.</span></span>
