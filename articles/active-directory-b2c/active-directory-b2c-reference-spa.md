---
title: "Azure Active Directory B2C: Aplicativos de página única utilizando fluxo implícito | Microsoft Docs"
description: "Saiba como aplicativos de única página toobuild diretamente usando OAuth 2.0 implícita fluem com o Azure Active Directory B2C."
services: active-directory-b2c
documentationcenter: 
author: parakhj
manager: krassk
editor: parakhj
ms.assetid: a45cc74c-a37e-453f-b08b-af75855e0792
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/06/2017
ms.author: parakhj
ms.openlocfilehash: 5e52abc18fe545f0f6d1745cdb2ea42c5b2698cc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-b2c-single-page-app-sign-in-by-using-oauth-20-implicit-flow"></a><span data-ttu-id="85d90-103">Azure AD B2C: Aplicativo de página única utilizando fluxo implícito do OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="85d90-103">Azure AD B2C: Single-page app sign-in by using OAuth 2.0 implicit flow</span></span>

> [!NOTE]
> <span data-ttu-id="85d90-104">Essa funcionalidade está em visualização.</span><span class="sxs-lookup"><span data-stu-id="85d90-104">This feature is in preview.</span></span>
> 

<span data-ttu-id="85d90-105">Muitos aplicativos modernos têm um aplicativo de página única front-end que é escrito principalmente em JavaScript.</span><span class="sxs-lookup"><span data-stu-id="85d90-105">Many modern apps have a single-page app front end that primarily is written in JavaScript.</span></span> <span data-ttu-id="85d90-106">Muitas vezes, o aplicativo hello é gravado usando uma estrutura como AngularJS, Ember.js ou Durandal.</span><span class="sxs-lookup"><span data-stu-id="85d90-106">Often, hello app is written by using a framework like AngularJS, Ember.js, or Durandal.</span></span> <span data-ttu-id="85d90-107">Os aplicativos de página única e outros aplicativos JavaScript que são executados principalmente em um navegador possuem alguns desafios adicionais para autenticação:</span><span class="sxs-lookup"><span data-stu-id="85d90-107">Single-page apps and other JavaScript apps that run primarily in a browser have some additional challenges for authentication:</span></span>

* <span data-ttu-id="85d90-108">características de segurança Olá esses aplicativos são significativamente diferentes de aplicativos web tradicionais baseados em servidor.</span><span class="sxs-lookup"><span data-stu-id="85d90-108">hello security characteristics of these apps are significantly different from traditional server-based web applications.</span></span>
* <span data-ttu-id="85d90-109">Muitos servidores de autorização e provedores de identidade não dão suporte para solicitações CORS (compartilhamento de recursos entre origens).</span><span class="sxs-lookup"><span data-stu-id="85d90-109">Many authorization servers and identity providers do not support cross-origin resource sharing (CORS) requests.</span></span>
* <span data-ttu-id="85d90-110">Redirecionamentos de página inteira do navegador para fora do aplicativo hello podem ser significativamente invasivo toohello experiência do usuário.</span><span class="sxs-lookup"><span data-stu-id="85d90-110">Full-page browser redirects away from hello app can be significantly invasive toohello user experience.</span></span>

<span data-ttu-id="85d90-111">toosupport esses aplicativos, o Azure Active Directory B2C (Azure AD B2C) usa o fluxo implícito Olá OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="85d90-111">toosupport these applications, Azure Active Directory B2C (Azure AD B2C) uses hello OAuth 2.0 implicit flow.</span></span> <span data-ttu-id="85d90-112">fluxo de concessão implícita de autorização de saudação OAuth 2.0 é descrito em [seção 4.2 da especificação de saudação OAuth 2.0](http://tools.ietf.org/html/rfc6749).</span><span class="sxs-lookup"><span data-stu-id="85d90-112">hello OAuth 2.0 authorization implicit grant flow is described in [section 4.2 of hello OAuth 2.0 specification](http://tools.ietf.org/html/rfc6749).</span></span> <span data-ttu-id="85d90-113">No fluxo implícito, o aplicativo hello recebe tokens diretamente de saudação do Azure Active Directory (AD do Azure) autorizar o ponto de extremidade, sem qualquer servidor para o servidor exchange.</span><span class="sxs-lookup"><span data-stu-id="85d90-113">In implicit flow, hello app receives tokens directly from hello Azure Active Directory (Azure AD) authorize endpoint, without any server-to-server exchange.</span></span> <span data-ttu-id="85d90-114">Todas as lógica de autenticação e a sessão tratamento leva coloque inteiramente no cliente de JavaScript hello, sem redirecionamentos de página adicionais.</span><span class="sxs-lookup"><span data-stu-id="85d90-114">All authentication logic and session handling takes place entirely in hello JavaScript client, without additional page redirects.</span></span>

<span data-ttu-id="85d90-115">B2C do AD do Azure estende toomore fluxo implícitos OAuth 2.0 de saudação padrão de autorização e autenticação simples.</span><span class="sxs-lookup"><span data-stu-id="85d90-115">Azure AD B2C extends hello standard OAuth 2.0 implicit flow toomore than simple authentication and authorization.</span></span> <span data-ttu-id="85d90-116">B2C do AD do Azure apresenta Olá [parâmetro política](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="85d90-116">Azure AD B2C introduces hello [policy parameter](active-directory-b2c-reference-policies.md).</span></span> <span data-ttu-id="85d90-117">Com parâmetro de política hello, você pode usar o OAuth 2.0 experiências de usuário tooadd tooyour aplicativo, como se inscrever, entrar e gerenciamento de perfil.</span><span class="sxs-lookup"><span data-stu-id="85d90-117">With hello policy parameter, you can use OAuth 2.0 tooadd user experiences tooyour app, such as sign-up, sign-in, and profile management.</span></span> <span data-ttu-id="85d90-118">Neste artigo, mostramos como toouse Olá fluxo implícito e o AD do Azure tooimplement cada dessas experiências em seus aplicativos de única página.</span><span class="sxs-lookup"><span data-stu-id="85d90-118">In this article, we show you how toouse hello implicit flow and Azure AD tooimplement each of these experiences in your single-page applications.</span></span> <span data-ttu-id="85d90-119">toohelp começar, dê uma olhada no nosso [Node.js](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi) e [Microsoft .NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi) exemplos.</span><span class="sxs-lookup"><span data-stu-id="85d90-119">toohelp you get started, take a look at our [Node.js](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi) and [Microsoft .NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi) samples.</span></span>

<span data-ttu-id="85d90-120">Em solicitações HTTP do exemplo hello neste artigo, podemos usar o diretório do Azure AD B2C nosso exemplo, **fabrikamb2c.onmicrosoft.com**. Além disso, utilizamos nosso próprio aplicativo de exemplo e políticas.</span><span class="sxs-lookup"><span data-stu-id="85d90-120">In hello example HTTP requests in this article, we use our sample Azure AD B2C directory, **fabrikamb2c.onmicrosoft.com**. We also use our own sample application and policies.</span></span> <span data-ttu-id="85d90-121">Você pode tentar Olá solicitações usando esses valores, ou você pode substituí-los com seus próprios valores.</span><span class="sxs-lookup"><span data-stu-id="85d90-121">You can try hello requests yourself by using these values, or you can replace them with your own values.</span></span>
<span data-ttu-id="85d90-122">Saiba como muito[obter seu próprio diretório Azure AD B2C, aplicativos e políticas](#use-your-own-b2c-tenant).</span><span class="sxs-lookup"><span data-stu-id="85d90-122">Learn how too[get your own Azure AD B2C directory, application, and policies](#use-your-own-b2c-tenant).</span></span>


## <a name="protocol-diagram"></a><span data-ttu-id="85d90-123">Diagrama de protocolo</span><span class="sxs-lookup"><span data-stu-id="85d90-123">Protocol diagram</span></span>

<span data-ttu-id="85d90-124">fluxo de entrada implícita Olá parecida com hello figura a seguir.</span><span class="sxs-lookup"><span data-stu-id="85d90-124">hello implicit sign-in flow looks something like hello following figure.</span></span> <span data-ttu-id="85d90-125">Cada etapa é descrita em detalhes posteriormente neste artigo hello.</span><span class="sxs-lookup"><span data-stu-id="85d90-125">Each step is described in detail later in hello article.</span></span>

![Raias do OpenID Connect](../media/active-directory-v2-flows/convergence_scenarios_implicit.png)

## <a name="send-authentication-requests"></a><span data-ttu-id="85d90-127">Enviar solicitações de autenticação</span><span class="sxs-lookup"><span data-stu-id="85d90-127">Send authentication requests</span></span>
<span data-ttu-id="85d90-128">Quando seu aplicativo web precisa de usuário de saudação tooauthenticate e executar uma política, ele direciona Olá usuário toohello `/authorize` ponto de extremidade.</span><span class="sxs-lookup"><span data-stu-id="85d90-128">When your web app needs tooauthenticate hello user and execute a policy, it directs hello user toohello `/authorize` endpoint.</span></span> <span data-ttu-id="85d90-129">Isso é parte interativa Olá fluxo Olá, qual usuário Olá agirão, dependendo da política de saudação.</span><span class="sxs-lookup"><span data-stu-id="85d90-129">This is hello interactive portion of hello flow, where hello user takes action, depending on hello policy.</span></span> <span data-ttu-id="85d90-130">usuário Olá obtém uma ID de token do ponto de extremidade do hello AD do Azure.</span><span class="sxs-lookup"><span data-stu-id="85d90-130">hello user gets an ID token from hello Azure AD endpoint.</span></span>

<span data-ttu-id="85d90-131">Nessa solicitação, o cliente Olá indica em Olá `scope` permissões de saudação de parâmetro que precisa de tooacquire de usuário de saudação.</span><span class="sxs-lookup"><span data-stu-id="85d90-131">In this request, hello client indicates in hello `scope` parameter hello permissions that it needs tooacquire from hello user.</span></span> <span data-ttu-id="85d90-132">Em Olá `p` parâmetro indica Olá política tooexecute.</span><span class="sxs-lookup"><span data-stu-id="85d90-132">In hello `p` parameter, it indicates hello policy tooexecute.</span></span> <span data-ttu-id="85d90-133">Olá, três exemplos a seguir (com quebras de linha para facilitar a leitura) cada usam uma política diferente.</span><span class="sxs-lookup"><span data-stu-id="85d90-133">hello following three examples (with line breaks for readability) each use a different policy.</span></span> <span data-ttu-id="85d90-134">tooget uma ideia de como cada solicitação funciona, tente a solicitação de saudação de colá-lo em um navegador e executá-lo.</span><span class="sxs-lookup"><span data-stu-id="85d90-134">tooget a feel for how each request works, try pasting hello request into a browser and running it.</span></span>

### <a name="use-a-sign-in-policy"></a><span data-ttu-id="85d90-135">Usar uma política de entrada</span><span class="sxs-lookup"><span data-stu-id="85d90-135">Use a sign-in policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_in
```

### <a name="use-a-sign-up-policy"></a><span data-ttu-id="85d90-136">Usar uma política de inscrição</span><span class="sxs-lookup"><span data-stu-id="85d90-136">Use a sign-up policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_up
```

### <a name="use-an-edit-profile-policy"></a><span data-ttu-id="85d90-137">Usar uma política de edição de perfil</span><span class="sxs-lookup"><span data-stu-id="85d90-137">Use an edit-profile policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_edit_profile
```

| <span data-ttu-id="85d90-138">Parâmetro</span><span class="sxs-lookup"><span data-stu-id="85d90-138">Parameter</span></span> | <span data-ttu-id="85d90-139">Obrigatório?</span><span class="sxs-lookup"><span data-stu-id="85d90-139">Required?</span></span> | <span data-ttu-id="85d90-140">Descrição</span><span class="sxs-lookup"><span data-stu-id="85d90-140">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="85d90-141">client_id</span><span class="sxs-lookup"><span data-stu-id="85d90-141">client_id</span></span> |<span data-ttu-id="85d90-142">Obrigatório</span><span class="sxs-lookup"><span data-stu-id="85d90-142">Required</span></span> |<span data-ttu-id="85d90-143">ID do aplicativo Hello atribuído tooyour aplicativo hello [portal do Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="85d90-143">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="85d90-144">response_type</span><span class="sxs-lookup"><span data-stu-id="85d90-144">response_type</span></span> |<span data-ttu-id="85d90-145">Obrigatório</span><span class="sxs-lookup"><span data-stu-id="85d90-145">Required</span></span> |<span data-ttu-id="85d90-146">Deve incluir `id_token` para conexão do OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="85d90-146">Must include `id_token` for OpenID Connect sign-in.</span></span> <span data-ttu-id="85d90-147">Ele também pode incluir o tipo de resposta Olá `token`.</span><span class="sxs-lookup"><span data-stu-id="85d90-147">It also can include hello response type `token`.</span></span> <span data-ttu-id="85d90-148">Se você usar `token`, seu aplicativo pode receber imediatamente um token de acesso Olá autorizar o ponto de extremidade, sem fazer uma segunda toohello de solicitação a extremidade de autorização.</span><span class="sxs-lookup"><span data-stu-id="85d90-148">If you use `token`, your app can immediately receive an access token from hello authorize endpoint, without making a second request toohello authorize endpoint.</span></span>  <span data-ttu-id="85d90-149">Se você usar o hello `token` tipo de resposta, Olá `scope` parâmetro deve conter um escopo que indica qual recurso tooissue Olá o token para.</span><span class="sxs-lookup"><span data-stu-id="85d90-149">If you use hello `token` response type, hello `scope` parameter must contain a scope that indicates which resource tooissue hello token for.</span></span> |
| <span data-ttu-id="85d90-150">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="85d90-150">redirect_uri</span></span> |<span data-ttu-id="85d90-151">Recomendadas</span><span class="sxs-lookup"><span data-stu-id="85d90-151">Recommended</span></span> |<span data-ttu-id="85d90-152">Olá redirecione o URI do aplicativo, onde as respostas de autenticação podem ser enviadas e recebidas pelo seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="85d90-152">hello redirect URI of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="85d90-153">Ele deve corresponder exatamente a um de redirecionamento Olá URIs registrados no portal de hello, exceto que ele deve ser codificado de URL.</span><span class="sxs-lookup"><span data-stu-id="85d90-153">It must exactly match one of hello redirect URIs that you registered in hello portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="85d90-154">response_mode</span><span class="sxs-lookup"><span data-stu-id="85d90-154">response_mode</span></span> |<span data-ttu-id="85d90-155">Recomendadas</span><span class="sxs-lookup"><span data-stu-id="85d90-155">Recommended</span></span> |<span data-ttu-id="85d90-156">Especifica a saudação método toouse toosend Olá resultante token tooyour back aplicativo.</span><span class="sxs-lookup"><span data-stu-id="85d90-156">Specifies hello method toouse toosend hello resulting token back tooyour app.</span></span>  <span data-ttu-id="85d90-157">Para fluxos implícitos, utilize `fragment`.</span><span class="sxs-lookup"><span data-stu-id="85d90-157">For implicit flows, use `fragment`.</span></span> |
| <span data-ttu-id="85d90-158">scope</span><span class="sxs-lookup"><span data-stu-id="85d90-158">scope</span></span> |<span data-ttu-id="85d90-159">Obrigatório</span><span class="sxs-lookup"><span data-stu-id="85d90-159">Required</span></span> |<span data-ttu-id="85d90-160">Uma lista de escopos separados por espaços.</span><span class="sxs-lookup"><span data-stu-id="85d90-160">A space-separated list of scopes.</span></span> <span data-ttu-id="85d90-161">Um valor único escopo indica tooAzure AD ambas as permissões de saudação que estão sendo solicitados.</span><span class="sxs-lookup"><span data-stu-id="85d90-161">A single scope value indicates tooAzure AD both of hello permissions that are being requested.</span></span> <span data-ttu-id="85d90-162">Olá `openid` escopo indica um toosign permissão nos dados de usuário e get hello sobre usuário Olá na forma de saudação de tokens de ID.</span><span class="sxs-lookup"><span data-stu-id="85d90-162">hello `openid` scope indicates a permission toosign in hello user and get data about hello user in hello form of ID tokens.</span></span> <span data-ttu-id="85d90-163">(Falaremos sobre isso mais posteriormente no artigo hello.) Olá `offline_access` escopo é opcional para aplicativos web.</span><span class="sxs-lookup"><span data-stu-id="85d90-163">(We'll talk about this more later in hello article.) hello `offline_access` scope is optional for web apps.</span></span> <span data-ttu-id="85d90-164">Indica que seu aplicativo precisa de um token de atualização para tooresources de acesso e longa duração.</span><span class="sxs-lookup"><span data-stu-id="85d90-164">It indicates that your app needs a refresh token for long-lived access tooresources.</span></span> |
| <span data-ttu-id="85d90-165">state</span><span class="sxs-lookup"><span data-stu-id="85d90-165">state</span></span> |<span data-ttu-id="85d90-166">Recomendadas</span><span class="sxs-lookup"><span data-stu-id="85d90-166">Recommended</span></span> |<span data-ttu-id="85d90-167">Um valor incluído na solicitação de saudação que também é retornado na resposta de token hello.</span><span class="sxs-lookup"><span data-stu-id="85d90-167">A value included in hello request that also is returned in hello token response.</span></span> <span data-ttu-id="85d90-168">Pode ser uma cadeia de caracteres de qualquer conteúdo que você deseja toouse.</span><span class="sxs-lookup"><span data-stu-id="85d90-168">It can be a string of any content that you want toouse.</span></span> <span data-ttu-id="85d90-169">Normalmente, é usado um valor exclusivo gerado aleatoriamente, tooprevent ataques de falsificação de solicitação entre sites.</span><span class="sxs-lookup"><span data-stu-id="85d90-169">Usually, a randomly generated, unique value is used, tooprevent cross-site request forgery attacks.</span></span> <span data-ttu-id="85d90-170">Olá estado é também usado tooencode informações sobre o estado do usuário Olá no aplicativo hello antes de ocorrer a solicitação de autenticação hello, como página Olá estivesse em.</span><span class="sxs-lookup"><span data-stu-id="85d90-170">hello state is also used tooencode information about hello user's state in hello app before hello authentication request occurred, like hello page they were on.</span></span> |
| <span data-ttu-id="85d90-171">nonce</span><span class="sxs-lookup"><span data-stu-id="85d90-171">nonce</span></span> |<span data-ttu-id="85d90-172">Obrigatório</span><span class="sxs-lookup"><span data-stu-id="85d90-172">Required</span></span> |<span data-ttu-id="85d90-173">Um valor incluído na solicitação de saudação (gerada pelo aplicativo hello) que está incluída no token de ID resultante hello como uma declaração.</span><span class="sxs-lookup"><span data-stu-id="85d90-173">A value included in hello request (generated by hello app) that is included in hello resulting ID token as a claim.</span></span> <span data-ttu-id="85d90-174">aplicativo Hello, em seguida, pode verificar a que ataques de reprodução do token toomitigate esse valor.</span><span class="sxs-lookup"><span data-stu-id="85d90-174">hello app can then verify this value toomitigate token replay attacks.</span></span> <span data-ttu-id="85d90-175">Geralmente, o valor de saudação é uma cadeia de caracteres aleatória e exclusiva que pode ser usado tooidentify Olá origem da solicitação de saudação.</span><span class="sxs-lookup"><span data-stu-id="85d90-175">Usually, hello value is a randomized, unique string that can be used tooidentify hello origin of hello request.</span></span> |
| <span data-ttu-id="85d90-176">p</span><span class="sxs-lookup"><span data-stu-id="85d90-176">p</span></span> |<span data-ttu-id="85d90-177">Obrigatório</span><span class="sxs-lookup"><span data-stu-id="85d90-177">Required</span></span> |<span data-ttu-id="85d90-178">Olá tooexecute de política.</span><span class="sxs-lookup"><span data-stu-id="85d90-178">hello policy tooexecute.</span></span> <span data-ttu-id="85d90-179">Seu Olá nome de uma política que é criada no seu locatário do Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="85d90-179">It's hello name of a policy that is created in your Azure AD B2C tenant.</span></span> <span data-ttu-id="85d90-180">valor de nome de política Olá deve começar com **b2c\_1\_**.</span><span class="sxs-lookup"><span data-stu-id="85d90-180">hello policy name value should begin with **b2c\_1\_**.</span></span> <span data-ttu-id="85d90-181">Para obter mais informações, consulte [Políticas internas do Azure AD B2C](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="85d90-181">For more information, see [Azure AD B2C built-in policies](active-directory-b2c-reference-policies.md).</span></span> |
| <span data-ttu-id="85d90-182">prompt</span><span class="sxs-lookup"><span data-stu-id="85d90-182">prompt</span></span> |<span data-ttu-id="85d90-183">Opcional</span><span class="sxs-lookup"><span data-stu-id="85d90-183">Optional</span></span> |<span data-ttu-id="85d90-184">tipo de saudação de interação do usuário necessária.</span><span class="sxs-lookup"><span data-stu-id="85d90-184">hello type of user interaction that's required.</span></span> <span data-ttu-id="85d90-185">Atualmente, a saudação único valor válido é `login`.</span><span class="sxs-lookup"><span data-stu-id="85d90-185">Currently, hello only valid value is `login`.</span></span> <span data-ttu-id="85d90-186">Isso força a saudação usuário tooenter suas credenciais na solicitação.</span><span class="sxs-lookup"><span data-stu-id="85d90-186">This forces hello user tooenter their credentials on that request.</span></span> <span data-ttu-id="85d90-187">O logon único não terá efeito.</span><span class="sxs-lookup"><span data-stu-id="85d90-187">Single sign-on will not take effect.</span></span> |

<span data-ttu-id="85d90-188">Neste ponto, o usuário de Olá é solicitado fluxo de trabalho da política do toocomplete hello.</span><span class="sxs-lookup"><span data-stu-id="85d90-188">At this point, hello user is asked toocomplete hello policy's workflow.</span></span> <span data-ttu-id="85d90-189">Isso pode envolver usuário Olá inserir seu nome de usuário e senha, entrar com uma identidade de redes sociais, inscrever directory hello, ou qualquer outro número de etapas.</span><span class="sxs-lookup"><span data-stu-id="85d90-189">This might involve hello user entering their username and password, signing in with a social identity, signing up for hello directory, or any other number of steps.</span></span> <span data-ttu-id="85d90-190">Ações de usuário dependem de como a política de saudação é definida.</span><span class="sxs-lookup"><span data-stu-id="85d90-190">User actions depend on how hello policy is defined.</span></span>

<span data-ttu-id="85d90-191">Após usuário Olá política hello, o AD do Azure retorna um aplicativo de tooyour de resposta no valor Olá usado para `redirect_uri`.</span><span class="sxs-lookup"><span data-stu-id="85d90-191">After hello user completes hello policy, Azure AD returns a response tooyour app at hello value you used for `redirect_uri`.</span></span> <span data-ttu-id="85d90-192">Ele usa o método hello especificado no hello `response_mode` parâmetro.</span><span class="sxs-lookup"><span data-stu-id="85d90-192">It uses hello method specified in hello `response_mode` parameter.</span></span> <span data-ttu-id="85d90-193">resposta de saudação é exatamente hello mesmo para cada um dos cenários de ação usuário hello, independentes da política de saudação que foi executada.</span><span class="sxs-lookup"><span data-stu-id="85d90-193">hello response is exactly hello same for each of hello user action scenarios, independent of hello policy that was executed.</span></span>

### <a name="successful-response"></a><span data-ttu-id="85d90-194">Resposta bem-sucedida</span><span class="sxs-lookup"><span data-stu-id="85d90-194">Successful response</span></span>
<span data-ttu-id="85d90-195">Uma resposta bem-sucedida usa `response_mode=fragment` e `response_type=id_token+token` aparência a seguir hello, quebras de linha para legibilidade:</span><span class="sxs-lookup"><span data-stu-id="85d90-195">A successful response that uses `response_mode=fragment` and `response_type=id_token+token` looks like hello following, with line breaks for legibility:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&token_type=Bearer
&expires_in=3599
&scope="90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
&id_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&state=arbitrary_data_you_sent_earlier
```

| <span data-ttu-id="85d90-196">Parâmetro</span><span class="sxs-lookup"><span data-stu-id="85d90-196">Parameter</span></span> | <span data-ttu-id="85d90-197">Descrição</span><span class="sxs-lookup"><span data-stu-id="85d90-197">Description</span></span> |
| --- | --- |
| <span data-ttu-id="85d90-198">access_token</span><span class="sxs-lookup"><span data-stu-id="85d90-198">access_token</span></span> |<span data-ttu-id="85d90-199">token de acesso de Olá Olá aplicativo solicitado.</span><span class="sxs-lookup"><span data-stu-id="85d90-199">hello access token that hello app requested.</span></span>  <span data-ttu-id="85d90-200">token de acesso de saudação não deve ser decodificada ou inspecionadas de outra forma.</span><span class="sxs-lookup"><span data-stu-id="85d90-200">hello access token should not be decoded or otherwise inspected.</span></span> <span data-ttu-id="85d90-201">É possível tratá-lo como uma cadeia de caracteres opaca.</span><span class="sxs-lookup"><span data-stu-id="85d90-201">It can be treated as an opaque string.</span></span> |
| <span data-ttu-id="85d90-202">token_type</span><span class="sxs-lookup"><span data-stu-id="85d90-202">token_type</span></span> |<span data-ttu-id="85d90-203">valor de tipo de token de saudação.</span><span class="sxs-lookup"><span data-stu-id="85d90-203">hello token type value.</span></span> <span data-ttu-id="85d90-204">Olá digite somente do AD do Azure suporta é portador.</span><span class="sxs-lookup"><span data-stu-id="85d90-204">hello only type that Azure AD supports is Bearer.</span></span> |
| <span data-ttu-id="85d90-205">expires_in</span><span class="sxs-lookup"><span data-stu-id="85d90-205">expires_in</span></span> |<span data-ttu-id="85d90-206">Olá período de tempo que Olá token de acesso é válido (em segundos).</span><span class="sxs-lookup"><span data-stu-id="85d90-206">hello length of time that hello access token is valid (in seconds).</span></span> |
| <span data-ttu-id="85d90-207">scope</span><span class="sxs-lookup"><span data-stu-id="85d90-207">scope</span></span> |<span data-ttu-id="85d90-208">escopos de Olá Olá token é válido para.</span><span class="sxs-lookup"><span data-stu-id="85d90-208">hello scopes that hello token is valid for.</span></span> <span data-ttu-id="85d90-209">Você também pode usar os tokens de toocache escopos para uso posterior.</span><span class="sxs-lookup"><span data-stu-id="85d90-209">You also can use scopes toocache tokens for later use.</span></span> |
| <span data-ttu-id="85d90-210">id_token</span><span class="sxs-lookup"><span data-stu-id="85d90-210">id_token</span></span> |<span data-ttu-id="85d90-211">Olá token de ID que Olá aplicativo solicitado.</span><span class="sxs-lookup"><span data-stu-id="85d90-211">hello ID token that hello app requested.</span></span> <span data-ttu-id="85d90-212">Você pode usar a identidade do usuário do hello ID tooverify token hello e iniciar uma sessão de usuário de saudação.</span><span class="sxs-lookup"><span data-stu-id="85d90-212">You can use hello ID token tooverify hello user's identity and begin a session with hello user.</span></span> <span data-ttu-id="85d90-213">Para obter mais informações sobre tokens de ID e seu conteúdo, consulte Olá [referência de token do Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="85d90-213">For more information about ID tokens and their contents, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |
| <span data-ttu-id="85d90-214">state</span><span class="sxs-lookup"><span data-stu-id="85d90-214">state</span></span> |<span data-ttu-id="85d90-215">Se um `state` parâmetro está incluído na solicitação de saudação hello mesmo valor deve aparecer na resposta de saudação.</span><span class="sxs-lookup"><span data-stu-id="85d90-215">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="85d90-216">Olá aplicativo deve verificar que Olá `state` valores hello solicitação e resposta são idênticos.</span><span class="sxs-lookup"><span data-stu-id="85d90-216">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

### <a name="error-response"></a><span data-ttu-id="85d90-217">Resposta de erro</span><span class="sxs-lookup"><span data-stu-id="85d90-217">Error response</span></span>
<span data-ttu-id="85d90-218">Respostas de erro também podem ser enviadas toohello URI de redirecionamento para que hello aplicativo possa tratá-los adequadamente:</span><span class="sxs-lookup"><span data-stu-id="85d90-218">Error responses also can be sent toohello redirect URI so that hello app can handle them appropriately:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=access_denied
&error_description=the+user+canceled+the+authentication
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="85d90-219">Parâmetro</span><span class="sxs-lookup"><span data-stu-id="85d90-219">Parameter</span></span> | <span data-ttu-id="85d90-220">Descrição</span><span class="sxs-lookup"><span data-stu-id="85d90-220">Description</span></span> |
| --- | --- |
| <span data-ttu-id="85d90-221">error</span><span class="sxs-lookup"><span data-stu-id="85d90-221">error</span></span> |<span data-ttu-id="85d90-222">Uma cadeia de caracteres do código de erro usado tooclassify tipos de erros que ocorrem.</span><span class="sxs-lookup"><span data-stu-id="85d90-222">An error code string used tooclassify types of errors that occur.</span></span> <span data-ttu-id="85d90-223">Você também pode usar o código de erro Olá para tratamento de erros.</span><span class="sxs-lookup"><span data-stu-id="85d90-223">You also can use hello error code for error handling.</span></span> |
| <span data-ttu-id="85d90-224">error_description</span><span class="sxs-lookup"><span data-stu-id="85d90-224">error_description</span></span> |<span data-ttu-id="85d90-225">Uma mensagem de erro específicas que pode ajudar a identificar a causa de saudação de um erro de autenticação.</span><span class="sxs-lookup"><span data-stu-id="85d90-225">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |
| <span data-ttu-id="85d90-226">state</span><span class="sxs-lookup"><span data-stu-id="85d90-226">state</span></span> |<span data-ttu-id="85d90-227">Consulte a descrição completa Olá no hello anterior da tabela.</span><span class="sxs-lookup"><span data-stu-id="85d90-227">See hello full description in hello preceding table.</span></span> <span data-ttu-id="85d90-228">Se um `state` parâmetro está incluído na solicitação de saudação hello mesmo valor deve aparecer na resposta de saudação.</span><span class="sxs-lookup"><span data-stu-id="85d90-228">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="85d90-229">Olá aplicativo deve verificar que Olá `state` valores hello solicitação e resposta são idênticos.</span><span class="sxs-lookup"><span data-stu-id="85d90-229">hello app should verify that hello `state` values in hello request and response are identical.</span></span>|

## <a name="validate-hello-id-token"></a><span data-ttu-id="85d90-230">Validar o token de ID de saudação</span><span class="sxs-lookup"><span data-stu-id="85d90-230">Validate hello ID token</span></span>
<span data-ttu-id="85d90-231">Receber um token de ID não é suficiente tooauthenticate hello.</span><span class="sxs-lookup"><span data-stu-id="85d90-231">Receiving an ID token is not enough tooauthenticate hello user.</span></span> <span data-ttu-id="85d90-232">Você deve validar a assinatura do token de ID hello e verificar Olá declarações no token Olá por requisitos do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="85d90-232">You must validate hello ID token's signature, and verify hello claims in hello token per your app's requirements.</span></span> <span data-ttu-id="85d90-233">B2C do Azure AD usa [JSON Web Tokens (JWTs)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) e público tokens de toosign de criptografia de chave e verificar se eles são válidos.</span><span class="sxs-lookup"><span data-stu-id="85d90-233">Azure AD B2C uses [JSON Web Tokens (JWTs)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) and public key cryptography toosign tokens and verify that they are valid.</span></span>

<span data-ttu-id="85d90-234">Muitas bibliotecas de código-fonte estão disponíveis para validação JWTs, dependendo da linguagem Olá preferir toouse.</span><span class="sxs-lookup"><span data-stu-id="85d90-234">Many open-source libraries are available for validating JWTs, depending on hello language you prefer toouse.</span></span> <span data-ttu-id="85d90-235">Considere explorar bibliotecas de software livre disponíveis em vez de implementar sua própria lógica de validação.</span><span class="sxs-lookup"><span data-stu-id="85d90-235">Consider exploring available open-source libraries rather than implementing your own validation logic.</span></span> <span data-ttu-id="85d90-236">Você pode usar informações de saudação na toohelp neste artigo, você aprenderá como tooproperly usar essas bibliotecas.</span><span class="sxs-lookup"><span data-stu-id="85d90-236">You can use hello information in this article toohelp you learn how tooproperly use those libraries.</span></span>

<span data-ttu-id="85d90-237">O Azure AD B2C tem um ponto de extremidade de metadados OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="85d90-237">Azure AD B2C has an OpenID Connect metadata endpoint.</span></span> <span data-ttu-id="85d90-238">Um aplicativo pode usar informações de toofetch de ponto de extremidade de saudação sobre o Azure AD B2C em tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="85d90-238">An app can use hello endpoint toofetch information about Azure AD B2C at runtime.</span></span> <span data-ttu-id="85d90-239">Essas informações incluem pontos de extremidade, conteúdos de token e chaves de assinatura de token.</span><span class="sxs-lookup"><span data-stu-id="85d90-239">This information includes endpoints, token contents, and token signing keys.</span></span> <span data-ttu-id="85d90-240">Há um documento de metadados JSON para cada política no locatário do Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="85d90-240">There is a JSON metadata document for each policy in your Azure AD B2C tenant.</span></span> <span data-ttu-id="85d90-241">Por exemplo, o documento de metadados de Olá para política de b2c_1_sign_in Olá no locatário de fabrikamb2c.onmicrosoft.com hello está localizado em:</span><span class="sxs-lookup"><span data-stu-id="85d90-241">For example, hello metadata document for hello b2c_1_sign_in policy in hello fabrikamb2c.onmicrosoft.com tenant is located at:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=b2c_1_sign_in`

<span data-ttu-id="85d90-242">Uma das propriedades de saudação deste documento de configuração é hello `jwks_uri`.</span><span class="sxs-lookup"><span data-stu-id="85d90-242">One of hello properties of this configuration document is hello `jwks_uri`.</span></span> <span data-ttu-id="85d90-243">valor Olá Olá mesma diretiva seria:</span><span class="sxs-lookup"><span data-stu-id="85d90-243">hello value for hello same policy would be:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in`

<span data-ttu-id="85d90-244">toodetermine qual política foi toosign usado um token de ID (e onde toofetch Olá metadados do), você tem duas opções.</span><span class="sxs-lookup"><span data-stu-id="85d90-244">toodetermine which policy was used toosign an ID token (and where toofetch hello metadata from), you have two options.</span></span> <span data-ttu-id="85d90-245">Primeiro, o nome da política hello está incluído no hello `acr` de declaração em `id_token`.</span><span class="sxs-lookup"><span data-stu-id="85d90-245">First, hello policy name is included in hello `acr` claim in `id_token`.</span></span> <span data-ttu-id="85d90-246">Para obter informações sobre como tooparse Olá declarações de um token de ID, consulte Olá [referência de token do Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="85d90-246">For information about how tooparse hello claims from an ID token, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> <span data-ttu-id="85d90-247">A outra opção é a política de saudação tooencode no valor Olá Olá `state` parâmetro quando você emitir a solicitação de saudação.</span><span class="sxs-lookup"><span data-stu-id="85d90-247">Your other option is tooencode hello policy in hello value of hello `state` parameter when you issue hello request.</span></span> <span data-ttu-id="85d90-248">Em seguida, decodificar Olá `state` toodetermine parâmetro qual política foi usada.</span><span class="sxs-lookup"><span data-stu-id="85d90-248">Then, decode hello `state` parameter toodetermine which policy was used.</span></span> <span data-ttu-id="85d90-249">Ambos os métodos são válidos.</span><span class="sxs-lookup"><span data-stu-id="85d90-249">Either method is valid.</span></span>

<span data-ttu-id="85d90-250">Depois que tiver adquirido o documento de metadados de saudação do ponto de extremidade de metadados de OpenID Connect hello, você pode usar o hello RSA-256 (localizadas neste ponto de extremidade) de chaves públicas toovalidate Olá assinatura de token de ID de saudação.</span><span class="sxs-lookup"><span data-stu-id="85d90-250">After you've acquired hello metadata document from hello OpenID Connect metadata endpoint, you can use hello RSA-256 public keys (located at this endpoint) toovalidate hello signature of hello ID token.</span></span> <span data-ttu-id="85d90-251">Poderá haver várias chaves listadas nesse ponto de extremidade em qualquer momento, cada uma identificada por um `kid`.</span><span class="sxs-lookup"><span data-stu-id="85d90-251">There might be multiple keys listed at this endpoint at any given time, each identified by a `kid`.</span></span> <span data-ttu-id="85d90-252">cabeçalho de saudação do `id_token` também contém um `kid` de declaração.</span><span class="sxs-lookup"><span data-stu-id="85d90-252">hello header of `id_token` also contains a `kid` claim.</span></span> <span data-ttu-id="85d90-253">Ele indica que essas chaves foi usado toosign token de ID de saudação.</span><span class="sxs-lookup"><span data-stu-id="85d90-253">It indicates which of these keys was used toosign hello ID token.</span></span> <span data-ttu-id="85d90-254">Para obter mais informações, incluindo o aprendizado sobre [Validando tokens](active-directory-b2c-reference-tokens.md#token-validation), consulte Olá [referência de token do Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="85d90-254">For more information, including learning about [validating tokens](active-directory-b2c-reference-tokens.md#token-validation), see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>
<!--TODO: Improve hello information on this-->

<span data-ttu-id="85d90-255">Depois de validar a assinatura de saudação do token de ID de saudação, várias declarações exigem verificação.</span><span class="sxs-lookup"><span data-stu-id="85d90-255">After you validate hello signature of hello ID token, several claims require verification.</span></span> <span data-ttu-id="85d90-256">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="85d90-256">For example:</span></span>

* <span data-ttu-id="85d90-257">Validar Olá `nonce` tooprevent ataques de reprodução de token de declaração.</span><span class="sxs-lookup"><span data-stu-id="85d90-257">Validate hello `nonce` claim tooprevent token replay attacks.</span></span> <span data-ttu-id="85d90-258">Seu valor deve ser especificado na solicitação de entrada hello.</span><span class="sxs-lookup"><span data-stu-id="85d90-258">Its value should be what you specified in hello sign-in request.</span></span>
* <span data-ttu-id="85d90-259">Validar Olá `aud` declaração tooensure que Olá token de ID foi emitido para seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="85d90-259">Validate hello `aud` claim tooensure that hello ID token was issued for your app.</span></span> <span data-ttu-id="85d90-260">Seu valor deve ser o ID do aplicativo de saudação do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="85d90-260">Its value should be hello application ID of your app.</span></span>
* <span data-ttu-id="85d90-261">Validar Olá `iat` e `exp` declarações tooensure que Olá token de ID não expirou.</span><span class="sxs-lookup"><span data-stu-id="85d90-261">Validate hello `iat` and `exp` claims tooensure that hello ID token has not expired.</span></span>

<span data-ttu-id="85d90-262">Vários validações mais que você deve executar são descritas em detalhes no hello [OpenID conectar Core especificação](http://openid.net/specs/openid-connect-core-1_0.html). Você também poderá toovalidate de declarações adicionais, dependendo do cenário.</span><span class="sxs-lookup"><span data-stu-id="85d90-262">Several more validations that you should perform are described in detail in hello [OpenID Connect Core Spec](http://openid.net/specs/openid-connect-core-1_0.html). You might also want toovalidate additional claims, depending on your scenario.</span></span> <span data-ttu-id="85d90-263">Algumas validações comuns incluem:</span><span class="sxs-lookup"><span data-stu-id="85d90-263">Some common validations include:</span></span>

* <span data-ttu-id="85d90-264">Garantindo que usuário hello ou organização tiver se inscrito para o aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="85d90-264">Ensuring that hello user or organization has signed up for hello app.</span></span>
* <span data-ttu-id="85d90-265">Garantir que o usuário Olá tem autorização adequada e os privilégios.</span><span class="sxs-lookup"><span data-stu-id="85d90-265">Ensuring that hello user has proper authorization and privileges.</span></span>
* <span data-ttu-id="85d90-266">Garanta que uma determina força de autenticação tenha ocorrido como, por exemplo, utilizando a autenticação multifator do Azure.</span><span class="sxs-lookup"><span data-stu-id="85d90-266">Ensuring that a certain strength of authentication has occurred, such as by using Azure Multi-Factor Authentication.</span></span>

<span data-ttu-id="85d90-267">Para obter mais informações sobre declarações de saudação em um token de ID, consulte Olá [referência de token do Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="85d90-267">For more information about hello claims in an ID token, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>

<span data-ttu-id="85d90-268">Após validar completamente o token de ID Olá, você pode começar uma sessão com usuário hello.</span><span class="sxs-lookup"><span data-stu-id="85d90-268">After you have completely validated hello ID token, you can begin a session with hello user.</span></span> <span data-ttu-id="85d90-269">Em seu aplicativo use declarações de saudação nas informações de token tooobtain ID Olá sobre usuário hello.</span><span class="sxs-lookup"><span data-stu-id="85d90-269">In your app, use hello claims in hello ID token tooobtain information about hello user.</span></span> <span data-ttu-id="85d90-270">Essas informações podem ser usadas para exibição, registros, autorizações e outros.</span><span class="sxs-lookup"><span data-stu-id="85d90-270">This information can be used for display, records, authorization, and so on.</span></span>

## <a name="get-access-tokens"></a><span data-ttu-id="85d90-271">Obter tokens de acesso</span><span class="sxs-lookup"><span data-stu-id="85d90-271">Get access tokens</span></span>
<span data-ttu-id="85d90-272">Se a única coisa que Olá seu toodo de necessidades de aplicativos da web é executar políticas, você pode ignorar Olá próximas seções.</span><span class="sxs-lookup"><span data-stu-id="85d90-272">If hello only thing your web apps needs toodo is execute policies, you can skip hello next few sections.</span></span> <span data-ttu-id="85d90-273">informações Olá Olá seções a seguir são aplicáveis somente tooweb nos aplicativos que precisam de API da web do toomake autenticado chamadas tooa, e que é protegido pelo Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="85d90-273">hello information in hello following sections are applicable only tooweb apps that need toomake authenticated calls tooa web API, and which are protected by Azure AD B2C.</span></span>

<span data-ttu-id="85d90-274">Agora que você tenha assinado usuário Olá no aplicativo de página única tooyour, você pode obter tokens de acesso para chamar APIs da web que são protegidos pelo AD do Azure.</span><span class="sxs-lookup"><span data-stu-id="85d90-274">Now that you've signed hello user in tooyour single-page app, you can get access tokens for calling web APIs that are secured by Azure AD.</span></span> <span data-ttu-id="85d90-275">Mesmo se você já recebeu um token usando Olá `token` tipo de resposta, você pode usar tokens de tooacquire este método para obter recursos adicionais sem redirecionando Olá usuário toosign em novamente.</span><span class="sxs-lookup"><span data-stu-id="85d90-275">Even if you have already received a token by using hello `token` response type, you can use this method tooacquire tokens for additional resources without redirecting hello user toosign in again.</span></span>

<span data-ttu-id="85d90-276">Em um fluxo de aplicativo web típico, você faria isso fazendo uma solicitação toohello `/token` ponto de extremidade.</span><span class="sxs-lookup"><span data-stu-id="85d90-276">In a typical web app flow, you would do this by making a request toohello `/token` endpoint.</span></span>  <span data-ttu-id="85d90-277">No entanto, o ponto de extremidade de saudação não não suporte a solicitações CORS, para fazer AJAX chama tooget e tokens de atualização não é uma opção.</span><span class="sxs-lookup"><span data-stu-id="85d90-277">However, hello endpoint does not support CORS requests, so making AJAX calls tooget and refresh tokens is not an option.</span></span> <span data-ttu-id="85d90-278">Em vez disso, você pode usar fluxo implícito Olá em um oculto HTML iframe elemento tooget novos tokens para outros APIs da web.</span><span class="sxs-lookup"><span data-stu-id="85d90-278">Instead, you can use hello implicit flow in a hidden HTML iframe element tooget new tokens for other web APIs.</span></span> <span data-ttu-id="85d90-279">A seguir está um exemplo, com quebras de linha para legibilidade:</span><span class="sxs-lookup"><span data-stu-id="85d90-279">Here's an example, with line breaks for legibility:</span></span>

```

https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&scope=https%3A%2F%2Fapi.contoso.com%2Ftasks.read
&response_mode=fragment
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&prompt=none
&domain_hint=organizations
&login_hint=myuser@mycompany.com
&p=b2c_1_sign_in
```

| <span data-ttu-id="85d90-280">Parâmetro</span><span class="sxs-lookup"><span data-stu-id="85d90-280">Parameter</span></span> | <span data-ttu-id="85d90-281">Obrigatório?</span><span class="sxs-lookup"><span data-stu-id="85d90-281">Required?</span></span> | <span data-ttu-id="85d90-282">Descrição</span><span class="sxs-lookup"><span data-stu-id="85d90-282">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="85d90-283">client_id</span><span class="sxs-lookup"><span data-stu-id="85d90-283">client_id</span></span> |<span data-ttu-id="85d90-284">Obrigatório</span><span class="sxs-lookup"><span data-stu-id="85d90-284">Required</span></span> |<span data-ttu-id="85d90-285">ID do aplicativo Hello atribuído tooyour aplicativo hello [portal do Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="85d90-285">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="85d90-286">response_type</span><span class="sxs-lookup"><span data-stu-id="85d90-286">response_type</span></span> |<span data-ttu-id="85d90-287">Obrigatório</span><span class="sxs-lookup"><span data-stu-id="85d90-287">Required</span></span> |<span data-ttu-id="85d90-288">Deve incluir `id_token` para conexão do OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="85d90-288">Must include `id_token` for OpenID Connect sign-in.</span></span>  <span data-ttu-id="85d90-289">Ele também pode incluir o tipo de resposta Olá `token`.</span><span class="sxs-lookup"><span data-stu-id="85d90-289">It might also include hello response type `token`.</span></span> <span data-ttu-id="85d90-290">Se você usar `token` aqui, seu aplicativo pode receber imediatamente um token de acesso de saudação autorizar o ponto de extremidade, sem fazer uma segunda toohello de solicitação a extremidade de autorização.</span><span class="sxs-lookup"><span data-stu-id="85d90-290">If you use `token` here, your app can immediately receive an access token from hello authorize endpoint, without making a second request toohello authorize endpoint.</span></span> <span data-ttu-id="85d90-291">Se você usar o hello `token` tipo de resposta, Olá `scope` parâmetro deve conter um escopo que indica qual recurso tooissue Olá o token para.</span><span class="sxs-lookup"><span data-stu-id="85d90-291">If you use hello `token` response type, hello `scope` parameter must contain a scope that indicates which resource tooissue hello token for.</span></span> |
| <span data-ttu-id="85d90-292">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="85d90-292">redirect_uri</span></span> |<span data-ttu-id="85d90-293">Recomendadas</span><span class="sxs-lookup"><span data-stu-id="85d90-293">Recommended</span></span> |<span data-ttu-id="85d90-294">Olá redirecione o URI do aplicativo, onde as respostas de autenticação podem ser enviadas e recebidas pelo seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="85d90-294">hello redirect URI of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="85d90-295">Ele deve corresponder exatamente a um de redirecionamento Olá URIs registrados no portal de hello, exceto que ele deve ser codificado de URL.</span><span class="sxs-lookup"><span data-stu-id="85d90-295">It must exactly match one of hello redirect URIs you registered in hello portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="85d90-296">scope</span><span class="sxs-lookup"><span data-stu-id="85d90-296">scope</span></span> |<span data-ttu-id="85d90-297">Obrigatório</span><span class="sxs-lookup"><span data-stu-id="85d90-297">Required</span></span> |<span data-ttu-id="85d90-298">Uma lista de escopos separados por espaços.</span><span class="sxs-lookup"><span data-stu-id="85d90-298">A space-separated list of scopes.</span></span>  <span data-ttu-id="85d90-299">Para obter tokens, inclua todos os escopos que você precisa para o recurso de saudação que se destina.</span><span class="sxs-lookup"><span data-stu-id="85d90-299">For getting tokens, include all scopes that you require for hello intended resource.</span></span> |
| <span data-ttu-id="85d90-300">response_mode</span><span class="sxs-lookup"><span data-stu-id="85d90-300">response_mode</span></span> |<span data-ttu-id="85d90-301">Recomendadas</span><span class="sxs-lookup"><span data-stu-id="85d90-301">Recommended</span></span> |<span data-ttu-id="85d90-302">Especifica o método de saudação que é usado toosend Olá resultante token tooyour back aplicativo.</span><span class="sxs-lookup"><span data-stu-id="85d90-302">Specifies hello method that is used toosend hello resulting token back tooyour app.</span></span>  <span data-ttu-id="85d90-303">Pode ser `query`, `form_post` ou `fragment`.</span><span class="sxs-lookup"><span data-stu-id="85d90-303">Can be `query`, `form_post`, or `fragment`.</span></span> |
| <span data-ttu-id="85d90-304">state</span><span class="sxs-lookup"><span data-stu-id="85d90-304">state</span></span> |<span data-ttu-id="85d90-305">Recomendadas</span><span class="sxs-lookup"><span data-stu-id="85d90-305">Recommended</span></span> |<span data-ttu-id="85d90-306">Um valor incluído na solicitação de saudação que é retornada na resposta de token hello.</span><span class="sxs-lookup"><span data-stu-id="85d90-306">A value included in hello request that is returned in hello token response.</span></span>  <span data-ttu-id="85d90-307">Pode ser uma cadeia de caracteres de qualquer conteúdo que você deseja toouse.</span><span class="sxs-lookup"><span data-stu-id="85d90-307">It can be a string of any content that you want toouse.</span></span>  <span data-ttu-id="85d90-308">Normalmente, é usado um valor exclusivo gerado aleatoriamente, tooprevent ataques de falsificação de solicitação entre sites.</span><span class="sxs-lookup"><span data-stu-id="85d90-308">Usually, a randomly generated, unique value is used, tooprevent cross-site request forgery attacks.</span></span>  <span data-ttu-id="85d90-309">estado de Olá também é usado tooencode informações sobre o estado do usuário Olá no aplicativo hello antes de solicitação de autenticação Olá ocorreu.</span><span class="sxs-lookup"><span data-stu-id="85d90-309">hello state also is used tooencode information about hello user's state in hello app before hello authentication request occurred.</span></span> <span data-ttu-id="85d90-310">Por exemplo, do usuário Olá página ou exibição Olá foi em.</span><span class="sxs-lookup"><span data-stu-id="85d90-310">For example, hello page or view hello user was on.</span></span> |
| <span data-ttu-id="85d90-311">nonce</span><span class="sxs-lookup"><span data-stu-id="85d90-311">nonce</span></span> |<span data-ttu-id="85d90-312">Obrigatório</span><span class="sxs-lookup"><span data-stu-id="85d90-312">Required</span></span> |<span data-ttu-id="85d90-313">Um valor incluído na solicitação hello, gerada pelo aplicativo hello, que está incluído no token de ID resultante hello como uma declaração.</span><span class="sxs-lookup"><span data-stu-id="85d90-313">A value included in hello request, generated by hello app, that is included in hello resulting ID token as a claim.</span></span>  <span data-ttu-id="85d90-314">aplicativo Hello, em seguida, pode verificar a que ataques de reprodução do token toomitigate esse valor.</span><span class="sxs-lookup"><span data-stu-id="85d90-314">hello app can then verify this value toomitigate token replay attacks.</span></span> <span data-ttu-id="85d90-315">Geralmente, o valor de saudação é uma cadeia de caracteres aleatória exclusiva que identifica a origem de saudação da solicitação de saudação.</span><span class="sxs-lookup"><span data-stu-id="85d90-315">Usually, hello value is a randomized, unique string that identifies hello origin of hello request.</span></span> |
| <span data-ttu-id="85d90-316">prompt</span><span class="sxs-lookup"><span data-stu-id="85d90-316">prompt</span></span> |<span data-ttu-id="85d90-317">Obrigatório</span><span class="sxs-lookup"><span data-stu-id="85d90-317">Required</span></span> |<span data-ttu-id="85d90-318">use tokens toorefresh e get em um iframe oculto, `prompt=none` tooensure que Olá iframe não fique preso na página de entrada hello e retorna imediatamente.</span><span class="sxs-lookup"><span data-stu-id="85d90-318">toorefresh and get tokens in a hidden iframe, use `prompt=none` tooensure that hello iframe does not get stuck on hello sign-in page, and returns immediately.</span></span> |
| <span data-ttu-id="85d90-319">login_hint</span><span class="sxs-lookup"><span data-stu-id="85d90-319">login_hint</span></span> |<span data-ttu-id="85d90-320">Obrigatório</span><span class="sxs-lookup"><span data-stu-id="85d90-320">Required</span></span> |<span data-ttu-id="85d90-321">tokens toorefresh e get em um iframe oculto, incluir nome de usuário de saudação do usuário Olá em toodistinguish essa dica entre várias sessões de usuário de saudação pode ter em um determinado momento.</span><span class="sxs-lookup"><span data-stu-id="85d90-321">toorefresh and get tokens in a hidden iframe, include hello username of hello user in this hint toodistinguish between multiple sessions hello user might have at a given  time.</span></span> <span data-ttu-id="85d90-322">Você pode extrair Olá nome de usuário de uma entrada anterior usando Olá `preferred_username` de declaração.</span><span class="sxs-lookup"><span data-stu-id="85d90-322">You can extract hello username from an earlier sign-in by using hello `preferred_username` claim.</span></span> |
| <span data-ttu-id="85d90-323">domain_hint</span><span class="sxs-lookup"><span data-stu-id="85d90-323">domain_hint</span></span> |<span data-ttu-id="85d90-324">Obrigatório</span><span class="sxs-lookup"><span data-stu-id="85d90-324">Required</span></span> |<span data-ttu-id="85d90-325">Pode ser `consumers` ou `organizations`.</span><span class="sxs-lookup"><span data-stu-id="85d90-325">Can be `consumers` or `organizations`.</span></span>  <span data-ttu-id="85d90-326">Para atualizar e obter tokens em um iframe oculto, você deve incluir Olá `domain_hint` valor na solicitação de saudação.</span><span class="sxs-lookup"><span data-stu-id="85d90-326">For refreshing and getting tokens in a hidden iframe, you must include hello `domain_hint` value in hello request.</span></span>  <span data-ttu-id="85d90-327">Extrair Olá `tid` toouse qual valor de declaração de token de ID de saudação de um anteriormente entrar toodetermine.</span><span class="sxs-lookup"><span data-stu-id="85d90-327">Extract hello `tid` claim from hello ID token of an earlier sign-in toodetermine which value toouse.</span></span>  <span data-ttu-id="85d90-328">Se hello `tid` é de valor de declaração `9188040d-6c67-4c5b-b112-36a304b66dad`, use `domain_hint=consumers`.</span><span class="sxs-lookup"><span data-stu-id="85d90-328">If hello `tid` claim value is `9188040d-6c67-4c5b-b112-36a304b66dad`,  use `domain_hint=consumers`.</span></span>  <span data-ttu-id="85d90-329">Caso contrário, use `domain_hint=organizations`.</span><span class="sxs-lookup"><span data-stu-id="85d90-329">Otherwise, use `domain_hint=organizations`.</span></span> |

<span data-ttu-id="85d90-330">Por definição Olá `prompt=none` parâmetro, essa solicitação seja bem-sucedida ou falhará imediatamente e retorna tooyour aplicativo.</span><span class="sxs-lookup"><span data-stu-id="85d90-330">By setting hello `prompt=none` parameter, this request either succeeds or fails immediately, and returns tooyour application.</span></span>  <span data-ttu-id="85d90-331">Uma resposta bem-sucedida é enviada tooyour aplicativo em Olá indicado redirecionar URI, usando o método hello especificado no hello `response_mode` parâmetro.</span><span class="sxs-lookup"><span data-stu-id="85d90-331">A successful response is sent tooyour app at hello indicated redirect URI, by using hello method specified in hello `response_mode` parameter.</span></span>

### <a name="successful-response"></a><span data-ttu-id="85d90-332">Resposta bem-sucedida</span><span class="sxs-lookup"><span data-stu-id="85d90-332">Successful response</span></span>
<span data-ttu-id="85d90-333">Uma resposta bem-sucedida utilizando `response_mode=fragment` é semelhante à seguinte:</span><span class="sxs-lookup"><span data-stu-id="85d90-333">A successful response by using `response_mode=fragment` looks like this:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&state=arbitrary_data_you_sent_earlier
&token_type=Bearer
&expires_in=3599
&scope=https%3A%2F%2Fapi.contoso.com%2Ftasks.read
```

| <span data-ttu-id="85d90-334">Parâmetro</span><span class="sxs-lookup"><span data-stu-id="85d90-334">Parameter</span></span> | <span data-ttu-id="85d90-335">Descrição</span><span class="sxs-lookup"><span data-stu-id="85d90-335">Description</span></span> |
| --- | --- |
| <span data-ttu-id="85d90-336">access_token</span><span class="sxs-lookup"><span data-stu-id="85d90-336">access_token</span></span> |<span data-ttu-id="85d90-337">saudação de token que o aplicativo hello solicitado.</span><span class="sxs-lookup"><span data-stu-id="85d90-337">hello token that hello app requested.</span></span> |
| <span data-ttu-id="85d90-338">token_type</span><span class="sxs-lookup"><span data-stu-id="85d90-338">token_type</span></span> |<span data-ttu-id="85d90-339">tipo de token Olá sempre será portador.</span><span class="sxs-lookup"><span data-stu-id="85d90-339">hello token type will always be Bearer.</span></span> |
| <span data-ttu-id="85d90-340">state</span><span class="sxs-lookup"><span data-stu-id="85d90-340">state</span></span> |<span data-ttu-id="85d90-341">Se um `state` parâmetro está incluído na solicitação de saudação hello mesmo valor deve aparecer na resposta de saudação.</span><span class="sxs-lookup"><span data-stu-id="85d90-341">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="85d90-342">Olá aplicativo deve verificar que Olá `state` valores hello solicitação e resposta são idênticos.</span><span class="sxs-lookup"><span data-stu-id="85d90-342">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |
| <span data-ttu-id="85d90-343">expires_in</span><span class="sxs-lookup"><span data-stu-id="85d90-343">expires_in</span></span> |<span data-ttu-id="85d90-344">Quanto tempo o token de acesso de saudação é válido (em segundos).</span><span class="sxs-lookup"><span data-stu-id="85d90-344">How long hello access token is valid (in seconds).</span></span> |
| <span data-ttu-id="85d90-345">scope</span><span class="sxs-lookup"><span data-stu-id="85d90-345">scope</span></span> |<span data-ttu-id="85d90-346">escopos Olá Olá token de acesso é válido para.</span><span class="sxs-lookup"><span data-stu-id="85d90-346">hello scopes that hello access token is valid for.</span></span> |

### <a name="error-response"></a><span data-ttu-id="85d90-347">Resposta de erro</span><span class="sxs-lookup"><span data-stu-id="85d90-347">Error response</span></span>
<span data-ttu-id="85d90-348">Respostas de erro também podem ser enviadas toohello URI de redirecionamento para que hello aplicativo possa tratá-los corretamente.</span><span class="sxs-lookup"><span data-stu-id="85d90-348">Error responses also can be sent toohello redirect URI so that hello app can handle them appropriately.</span></span>  <span data-ttu-id="85d90-349">Para `prompt=none`, um erro esperado é semelhante ao seguinte:</span><span class="sxs-lookup"><span data-stu-id="85d90-349">For `prompt=none`, an expected error looks like this:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=user_authentication_required
&error_description=the+request+could+not+be+completed+silently
```

| <span data-ttu-id="85d90-350">Parâmetro</span><span class="sxs-lookup"><span data-stu-id="85d90-350">Parameter</span></span> | <span data-ttu-id="85d90-351">Descrição</span><span class="sxs-lookup"><span data-stu-id="85d90-351">Description</span></span> |
| --- | --- |
| <span data-ttu-id="85d90-352">error</span><span class="sxs-lookup"><span data-stu-id="85d90-352">error</span></span> |<span data-ttu-id="85d90-353">Uma cadeia de código de erro que pode ser usados tooclassify tipos de erros que ocorrem.</span><span class="sxs-lookup"><span data-stu-id="85d90-353">An error code string that can be used tooclassify types of errors that occur.</span></span> <span data-ttu-id="85d90-354">Você também pode usar Olá tooerrors de tooreact de cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="85d90-354">You also can use hello string tooreact tooerrors.</span></span> |
| <span data-ttu-id="85d90-355">error_description</span><span class="sxs-lookup"><span data-stu-id="85d90-355">error_description</span></span> |<span data-ttu-id="85d90-356">Uma mensagem de erro específicas que pode ajudar a identificar a causa de saudação de um erro de autenticação.</span><span class="sxs-lookup"><span data-stu-id="85d90-356">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |

<span data-ttu-id="85d90-357">Se você receber esse erro na solicitação de iframe hello, Olá usuário deve interativamente entrar novamente tooretrieve um novo token.</span><span class="sxs-lookup"><span data-stu-id="85d90-357">If you receive this error in hello iframe request, hello user must interactively sign in again tooretrieve a new token.</span></span> <span data-ttu-id="85d90-358">Você pode fazer isso de maneira que faça sentido para seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="85d90-358">You can handle this in a way that makes sense for your application.</span></span>

## <a name="refresh-tokens"></a><span data-ttu-id="85d90-359">Tokens de atualização</span><span class="sxs-lookup"><span data-stu-id="85d90-359">Refresh tokens</span></span>
<span data-ttu-id="85d90-360">Os tokens de ID e tokens de acesso expiram após um curto período de tempo.</span><span class="sxs-lookup"><span data-stu-id="85d90-360">ID tokens and access tokens both expire after a short period of time.</span></span> <span data-ttu-id="85d90-361">Seu aplicativo deve estar preparado toorefresh esses tokens periodicamente.</span><span class="sxs-lookup"><span data-stu-id="85d90-361">Your app must be prepared toorefresh these tokens periodically.</span></span>  <span data-ttu-id="85d90-362">Executar de qualquer tipo de token, toorefresh Olá mesma solicitação iframe oculto que foram usados no exemplo anterior, usando Olá `prompt=none` etapas do parâmetro toocontrol AD do Azure.</span><span class="sxs-lookup"><span data-stu-id="85d90-362">toorefresh either type of token, perform hello same hidden iframe request we used in an earlier example, by using hello `prompt=none` parameter toocontrol Azure AD steps.</span></span>  <span data-ttu-id="85d90-363">tooreceive um novo `id_token` valor, ser toouse se `response_type=id_token` e `scope=openid`e um `nonce` parâmetro.</span><span class="sxs-lookup"><span data-stu-id="85d90-363">tooreceive a new `id_token` value, be sure toouse `response_type=id_token` and `scope=openid`, and a `nonce` parameter.</span></span>

## <a name="send-a-sign-out-request"></a><span data-ttu-id="85d90-364">Enviar uma solicitação de saída</span><span class="sxs-lookup"><span data-stu-id="85d90-364">Send a sign-out request</span></span>
<span data-ttu-id="85d90-365">Quando você desejar toosign Olá usuário fora do aplicativo hello, redirecione Olá usuário tooAzure AD toosign-out. Se você não fizer isso, o usuário Olá pode ser capaz de tooreauthenticate tooyour aplicativo sem inserir suas credenciais novamente.</span><span class="sxs-lookup"><span data-stu-id="85d90-365">When you want toosign hello user out of hello app, redirect hello user tooAzure AD toosign out. If you don't do this, hello user might be able tooreauthenticate tooyour app without entering their credentials again.</span></span> <span data-ttu-id="85d90-366">Isso ocorre porque eles terão uma sessão de logon único válida com o Azure AD.</span><span class="sxs-lookup"><span data-stu-id="85d90-366">This is because they will have a valid single sign-on session with Azure AD.</span></span>

<span data-ttu-id="85d90-367">Você pode redirecionar simplesmente Olá usuário toohello `end_session_endpoint` que é listado na Olá mesmo documento de metadados do OpenID Connect descrito em [validar token de ID de saudação](#validate-the-id-token).</span><span class="sxs-lookup"><span data-stu-id="85d90-367">You can simply redirect hello user toohello `end_session_endpoint` that is listed in hello same OpenID Connect metadata document described in [Validate hello ID token](#validate-the-id-token).</span></span> <span data-ttu-id="85d90-368">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="85d90-368">For example:</span></span>

```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/logout?
p=b2c_1_sign_in
&post_logout_redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
```

| <span data-ttu-id="85d90-369">Parâmetro</span><span class="sxs-lookup"><span data-stu-id="85d90-369">Parameter</span></span> | <span data-ttu-id="85d90-370">Obrigatório?</span><span class="sxs-lookup"><span data-stu-id="85d90-370">Required?</span></span> | <span data-ttu-id="85d90-371">Descrição</span><span class="sxs-lookup"><span data-stu-id="85d90-371">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="85d90-372">p</span><span class="sxs-lookup"><span data-stu-id="85d90-372">p</span></span> |<span data-ttu-id="85d90-373">Obrigatório</span><span class="sxs-lookup"><span data-stu-id="85d90-373">Required</span></span> |<span data-ttu-id="85d90-374">usuário Olá política toouse toosign Olá fora do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="85d90-374">hello policy toouse toosign hello user out of your application.</span></span> |
| <span data-ttu-id="85d90-375">post_logout_redirect_uri</span><span class="sxs-lookup"><span data-stu-id="85d90-375">post_logout_redirect_uri</span></span> |<span data-ttu-id="85d90-376">Recomendadas</span><span class="sxs-lookup"><span data-stu-id="85d90-376">Recommended</span></span> |<span data-ttu-id="85d90-377">Olá URL que o usuário Olá deve ser redirecionado tooafter bem-sucedida logout. Se não for incluído, B2C do Azure AD exibirá um usuário de toohello mensagem genérica.</span><span class="sxs-lookup"><span data-stu-id="85d90-377">hello URL that hello user should be redirected tooafter successful sign-out. If it is not included, Azure AD B2C displays a generic message toohello user.</span></span> |

> [!NOTE]
> <span data-ttu-id="85d90-378">Direcionando Olá usuário toohello `end_session_endpoint` limpa alguns saudação do único logon de estado do usuário com o Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="85d90-378">Directing hello user toohello `end_session_endpoint` clears some of hello user's single sign-on state with Azure AD B2C.</span></span> <span data-ttu-id="85d90-379">No entanto, ele não assinar o usuário Olá fora da sessão do provedor de identidade de redes sociais do usuário hello.</span><span class="sxs-lookup"><span data-stu-id="85d90-379">However, it doesn't sign hello user out of hello user's social identity provider session.</span></span> <span data-ttu-id="85d90-380">Se o usuário Olá selecionará Olá mesmo identificar provedor durante uma entrada subsequente, usuário Olá seja autenticado novamente, sem inserir suas credenciais.</span><span class="sxs-lookup"><span data-stu-id="85d90-380">If hello user selects hello same identify provider during a subsequent sign-in, hello user is reauthenticated, without entering their credentials.</span></span> <span data-ttu-id="85d90-381">Se um usuário quiser toosign fora do seu aplicativo do Azure AD B2C, ele não significa necessariamente que desejarem toocompletely sair da sua conta do Facebook, por exemplo.</span><span class="sxs-lookup"><span data-stu-id="85d90-381">If a user wants toosign out of your Azure AD B2C application, it does not necessarily mean they want toocompletely sign out of their Facebook account, for example.</span></span> <span data-ttu-id="85d90-382">No entanto, para contas locais, sessão de saudação do usuário será finalizada corretamente.</span><span class="sxs-lookup"><span data-stu-id="85d90-382">However, for local accounts, hello user's session will be ended properly.</span></span>
> 
> 

## <a name="use-your-own-azure-ad-b2c-tenant"></a><span data-ttu-id="85d90-383">Utilize seu próprio locatário do Azure AD B2C</span><span class="sxs-lookup"><span data-stu-id="85d90-383">Use your own Azure AD B2C tenant</span></span>
<span data-ttu-id="85d90-384">tootry essas solicitações por conta própria, concluir Olá três etapas a seguir.</span><span class="sxs-lookup"><span data-stu-id="85d90-384">tootry these requests yourself, complete hello following three steps.</span></span> <span data-ttu-id="85d90-385">Substitua os valores de exemplo hello que usamos neste artigo com seus próprios valores:</span><span class="sxs-lookup"><span data-stu-id="85d90-385">Replace hello example values we use in this article with your own values:</span></span>

1. <span data-ttu-id="85d90-386">[Criar um locatário do Azure AD B2C](active-directory-b2c-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="85d90-386">[Create an Azure AD B2C tenant](active-directory-b2c-get-started.md).</span></span> <span data-ttu-id="85d90-387">Use o nome do seu locatário em solicitações Olá Olá.</span><span class="sxs-lookup"><span data-stu-id="85d90-387">Use hello name of your tenant in hello requests.</span></span>
2. <span data-ttu-id="85d90-388">[Criar um aplicativo](active-directory-b2c-app-registration.md) tooobtain uma ID de aplicativo e um `redirect_uri` valor.</span><span class="sxs-lookup"><span data-stu-id="85d90-388">[Create an application](active-directory-b2c-app-registration.md) tooobtain an application ID and a `redirect_uri` value.</span></span> <span data-ttu-id="85d90-389">Inclua um aplicativo Web ou uma API Web em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="85d90-389">Include a web app or web API in your app.</span></span> <span data-ttu-id="85d90-390">Opcionalmente, é possível criar um segredo de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="85d90-390">Optionally, you can create an application secret.</span></span>
3. <span data-ttu-id="85d90-391">[Criar suas diretivas](active-directory-b2c-reference-policies.md) tooobtain seus nomes de política.</span><span class="sxs-lookup"><span data-stu-id="85d90-391">[Create your policies](active-directory-b2c-reference-policies.md) tooobtain your policy names.</span></span>

## <a name="samples"></a><span data-ttu-id="85d90-392">Exemplos</span><span class="sxs-lookup"><span data-stu-id="85d90-392">Samples</span></span>

* [<span data-ttu-id="85d90-393">Criar um aplicativo de página única usando Node.js</span><span class="sxs-lookup"><span data-stu-id="85d90-393">Create a single-page app by using Node.js</span></span>](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi)
* [<span data-ttu-id="85d90-394">Criar um aplicativo de página única usando .NET</span><span class="sxs-lookup"><span data-stu-id="85d90-394">Create a single-page app by using .NET</span></span>](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi)

