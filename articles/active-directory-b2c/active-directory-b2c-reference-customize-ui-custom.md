---
title: "Azure Active Directory B2C: Referência: Como personalizar a IU de um percurso do usuário com políticas personalizadas | Microsoft Docs"
description: "Um tópico sobre as políticas personalizadas do Azure Active Directory B2C"
services: active-directory-b2c
documentationcenter: 
author: rojasja
manager: krassk
editor: rojasja
ms.assetid: 
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.topic: article
ms.devlang: na
ms.date: 04/25/2017
ms.author: joroja
ms.openlocfilehash: 68f40aa638a687398512278a0b77d1ba392859cf
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="customize-the-ui-of-a-user-journey-with-custom-policies"></a><span data-ttu-id="f607c-103">Personalize a IU de um percurso do usuário com políticas personalizadas</span><span class="sxs-lookup"><span data-stu-id="f607c-103">Customize the UI of a user journey with Custom Policies</span></span>

[!INCLUDE [active-directory-b2c-advanced-audience-warning](../../includes/active-directory-b2c-advanced-audience-warning.md)]

> [!NOTE]
> <span data-ttu-id="f607c-104">Este artigo é uma descrição avançada de como funciona a personalização da IU e como habilitar com políticas personalizadas B2C, usando o Identity Experience Framework</span><span class="sxs-lookup"><span data-stu-id="f607c-104">This article is an advanced description of how UI customization works and how to enable with B2C Custom policies, using the Identity Experience Framework</span></span>


<span data-ttu-id="f607c-105">Uma experiência perfeita para o usuário é a chave para qualquer solução para negócios para consumidor.</span><span class="sxs-lookup"><span data-stu-id="f607c-105">A seamless user experience is key for any business-to-consumer solution.</span></span> <span data-ttu-id="f607c-106">Quando mencionamos experiência perfeita para o usuário, queremos dizer uma experiência no dispositivo ou navegador, onde o percurso do usuário no nosso serviço não pode ser diferenciado do serviço do cliente que ele está usando.</span><span class="sxs-lookup"><span data-stu-id="f607c-106">By seamless user experience, we mean an experience, whether on device or browser, where a user’s journey through our service cannot be distinguished from that of the customer service they are using.</span></span>

## <a name="understand-the-cors-way-for-ui-customization"></a><span data-ttu-id="f607c-107">Introdução ao método CORS para personalização da IU</span><span class="sxs-lookup"><span data-stu-id="f607c-107">Understand the CORS way for UI customization</span></span>

<span data-ttu-id="f607c-108">O Azure AD B2C permite que você personalize a aparência da experiência do usuário (UX) em várias páginas que podem ser potencialmente atendidas e exibidas pelo Azure AD B2C por meio de suas políticas personalizadas.</span><span class="sxs-lookup"><span data-stu-id="f607c-108">Azure AD B2C allows you to customize the look-and-feel of user experience (UX) on the various pages that can be potentially served and displayed by Azure AD B2C via your custom policies.</span></span>

<span data-ttu-id="f607c-109">Para essa finalidade, o Azure AD B2C executa o código no navegador do cliente e usa a abordagem moderna e padrão do [Compartilhamento de recursos entre origens (CORS)](http://www.w3.org/TR/cors/) para carregar conteúdo personalizado de uma URL particular, que você especifica em uma política personalizada para apontar para os modelos de HTML5/CSS.</span><span class="sxs-lookup"><span data-stu-id="f607c-109">For that purpose, Azure AD B2C runs code in your consumer's browser and uses the modern and standard approach [Cross-Origin Resource Sharing (CORS)](http://www.w3.org/TR/cors/) to load custom content from a specific URL that you specify in a custom policy to point to your HTML5/CSS templates.</span></span> <span data-ttu-id="f607c-110">O CORS é um mecanismo que permite o uso recursos restritos, como fontes, em uma página da web solicitada em outro domínio fora do domínio do qual o recurso foi originado.</span><span class="sxs-lookup"><span data-stu-id="f607c-110">CORS is a mechanism that allows restricted resources, like fonts, on a web page to be requested from another domain outside the domain from which the resource originated.</span></span>

<span data-ttu-id="f607c-111">Em comparação com a maneira tradicional antiga, onde as páginas de modelo pertencentes à solução onde você forneceu textos e imagens limitados, onde o controle limitado de layout e aparência oferecidos prejudicam uma experiência perfeita, o método CORS dá suporte às HTML5 e CSS e permitem que você:</span><span class="sxs-lookup"><span data-stu-id="f607c-111">Compared to the old traditional way, where template pages are owned by the solution where you provided limited text and images, where limited control of layout and feel was offered leading to more than difficulties to achieve a seamless experience, the CORS way supports HTML5 and CSS and allow you to:</span></span>

- <span data-ttu-id="f607c-112">Hospede o conteúdo e injete a solução dos seus controles usando o script no lado do cliente.</span><span class="sxs-lookup"><span data-stu-id="f607c-112">Host the content and the solution injects its controls using client side script.</span></span>
- <span data-ttu-id="f607c-113">Tenha controle total sobre cada pixel de layout e aparência.</span><span class="sxs-lookup"><span data-stu-id="f607c-113">Have full control over every pixel of layout and feel.</span></span>

<span data-ttu-id="f607c-114">Você pode fornecer quantas páginas de conteúdo quiser ao criar arquivos de HTML5/CSS conforme a conveniência.</span><span class="sxs-lookup"><span data-stu-id="f607c-114">You can provide as many content pages as you like by crafting HTML5/CSS files as appropriate.</span></span>

> [!NOTE]
> <span data-ttu-id="f607c-115">Por motivos de segurança, bloqueamos a personalização do uso do JavaScript no momento.</span><span class="sxs-lookup"><span data-stu-id="f607c-115">For security reasons, the use of JavaScript is currently blocked for customization.</span></span> <span data-ttu-id="f607c-116">Para desbloquear o JavaScript, é necessário usar um nome de domínio personalizado para seu locatário Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="f607c-116">To unblock JavaScript, use of a custom domain name for your Azure AD B2C tenant is needed.</span></span>

<span data-ttu-id="f607c-117">Em cada um de seus modelos de HTML5/CSS, você deve fornecer um elemento *âncora*, que corresponde ao elemento `<div id=”api”>` necessário no HTML ou na página de conteúdo, como ilustram daqui em diante.</span><span class="sxs-lookup"><span data-stu-id="f607c-117">In each of your HTML5/CSS templates, you provide an *anchor* element, which corresponds to the required `<div id=”api”>` element in the HTML or the content page as illustrate hereafter.</span></span> <span data-ttu-id="f607c-118">O Azure AD B2C requer que todas as páginas de conteúdo tenham essa divisão específica.</span><span class="sxs-lookup"><span data-stu-id="f607c-118">Azure AD B2C requires that all content pages have this specific div.</span></span>

```
<!DOCTYPE html>
<html>
  <head>
    <title>Your page content’s tile!</title>
  </head>
  <body>
    <div id="api"></div>
  </body>
</html>
```

<span data-ttu-id="f607c-119">O conteúdo relacionado ao Azure AD B2C para a página será injetado nessa divisão, enquanto o restante da página fica sob o seu controle.</span><span class="sxs-lookup"><span data-stu-id="f607c-119">Azure AD B2C-related content for the page will be injected into this div, while the rest of the page is yours to control.</span></span> <span data-ttu-id="f607c-120">O código JavaScript do Azure AD B2C extrai seu conteúdo e injeta o HTML dentro desse elemento de divisão específico.</span><span class="sxs-lookup"><span data-stu-id="f607c-120">The Azure AD B2C’s JavaScript code pulls in your content and injects our HTML into this specific div element.</span></span> <span data-ttu-id="f607c-121">O Azure AD B2C injeta os seguintes controles conforme a conveniência: controle de seletor de conta, controles de logon, controles de vários fatores (atualmente baseados em telefone) e controles de coleta de atributo de conta.</span><span class="sxs-lookup"><span data-stu-id="f607c-121">Azure AD B2C injects the following controls as appropriate: account chooser control, login controls, multi-factor (currently phone-based) controls, and attribute collection controls.</span></span> <span data-ttu-id="f607c-122">O Azure AD B2C garante que todos os controles HTML5 estejam acessíveis e em conformidade, que todos os controles possam ser totalmente estilizados e que a versão daquele controle não seja regredida.</span><span class="sxs-lookup"><span data-stu-id="f607c-122">Azure AD B2C ensures that all the controls are HTML5 compliant and accessible, all the controls can be fully styled, and that a control version will not regress.</span></span>

<span data-ttu-id="f607c-123">O conteúdo mesclado, por fim, é exibido como o documento dinâmico para o consumidor.</span><span class="sxs-lookup"><span data-stu-id="f607c-123">The merged content is eventually displayed as the dynamic document to your consumer.</span></span>

<span data-ttu-id="f607c-124">Para garantir que as funções acima funcionem corretamente, faça o seguinte:</span><span class="sxs-lookup"><span data-stu-id="f607c-124">To ensure of the above works as expected, you must:</span></span>

- <span data-ttu-id="f607c-125">Certifique-se de que seu conteúdo esteja em conformidade com HTML5 e acessível</span><span class="sxs-lookup"><span data-stu-id="f607c-125">Ensure your content is HTML5 compliant and accessible</span></span>
- <span data-ttu-id="f607c-126">Verifique se que o servidor de conteúdo está habilitado para CORS.</span><span class="sxs-lookup"><span data-stu-id="f607c-126">Ensure your content server is enabled for CORS.</span></span>
- <span data-ttu-id="f607c-127">Forneça conteúdo por HTTPS.</span><span class="sxs-lookup"><span data-stu-id="f607c-127">Serve content over HTTPS.</span></span>
- <span data-ttu-id="f607c-128">Use URLS absolutas como https://yourdomain/content para todos os links e conteúdo CSS.</span><span class="sxs-lookup"><span data-stu-id="f607c-128">Use absolute URLS such as https://yourdomain/content for all links and CSS content.</span></span>

> [!TIP]
> <span data-ttu-id="f607c-129">Para verificar se o site que você está hospedando o conteúdo possui CORS habilitado e testar solicitações CORS, use o site http://test-cors.org/.</span><span class="sxs-lookup"><span data-stu-id="f607c-129">To verify that the site you are hosting your content on has CORS enabled and test CORS requests, you can use the site http://test-cors.org/.</span></span> <span data-ttu-id="f607c-130">Graças a esse site, você pode simplesmente enviar a solicitação CORS para um servidor remoto (para testar se há suporte para CORS), ou enviar a solicitação CORS para um servidor de teste (para explorar alguns recursos do CORS).</span><span class="sxs-lookup"><span data-stu-id="f607c-130">Thanks to this site, you can simply either send the CORS request to a remote server (to test if CORS is supported), or send the CORS request to a test server (to explore certain features of CORS).</span></span>

> [!TIP]
> <span data-ttu-id="f607c-131">O site http://enable-cors.org/ também apresenta mais recursos úteis no CORS.</span><span class="sxs-lookup"><span data-stu-id="f607c-131">The site http://enable-cors.org/ also constitutes a more than useful resources on CORS.</span></span>

<span data-ttu-id="f607c-132">Graças a essa abordagem baseada em CORS, os usuários finais terão experiências consistentes entre seu aplicativo e as páginas atendidas pelo Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="f607c-132">Thanks to this CORS-based approach, the end users will then have consistent experiences between your application and the pages served by Azure AD B2C.</span></span>

## <a name="create-a-storage-account"></a><span data-ttu-id="f607c-133">Criar uma conta de armazenamento</span><span class="sxs-lookup"><span data-stu-id="f607c-133">Create a storage account</span></span>

<span data-ttu-id="f607c-134">Como pré-requisito, você precisa criar uma conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="f607c-134">As a prerequisite, you need to create a storage account.</span></span> <span data-ttu-id="f607c-135">Você precisará de uma assinatura do Azure para criar uma conta de Armazenamento de Blobs do Azure.</span><span class="sxs-lookup"><span data-stu-id="f607c-135">You will need an Azure subscription to create an Azure Blob Storage account.</span></span> <span data-ttu-id="f607c-136">Você pode se inscrever para uma avaliação gratuita no [site do Azure](https://azure.microsoft.com/en-us/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="f607c-136">You can sign up a free trial at the [Azure website](https://azure.microsoft.com/en-us/pricing/free-trial/).</span></span>

1. <span data-ttu-id="f607c-137">Abra uma sessão de navegação e navegue até o [portal do Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="f607c-137">Open a browsing session and navigate to the [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="f607c-138">Entre com suas credenciais administrativas.</span><span class="sxs-lookup"><span data-stu-id="f607c-138">Sign in with your administrative credentials.</span></span>
3. <span data-ttu-id="f607c-139">Clique em **Novo** > **Dados + armazenamento** > **Conta de armazenamento**.</span><span class="sxs-lookup"><span data-stu-id="f607c-139">Click **New** > **Data + Storage** > **Storage account**.</span></span>  <span data-ttu-id="f607c-140">Uma folha **Criar conta de armazenamento** abre.</span><span class="sxs-lookup"><span data-stu-id="f607c-140">A **Create storage account** blade opens up.</span></span>
4. <span data-ttu-id="f607c-141">No **nome**, forneça um nome para a conta de armazenamento, por exemplo, *contoso369b2c*.</span><span class="sxs-lookup"><span data-stu-id="f607c-141">In **Name**, provide a name for the storage account, for example, *contoso369b2c*.</span></span> <span data-ttu-id="f607c-142">Esse valor será referenciado mais tarde como *storageAccountName*.</span><span class="sxs-lookup"><span data-stu-id="f607c-142">This value will be later referred as to *storageAccountName*.</span></span>
5. <span data-ttu-id="f607c-143">Escolha as seleções apropriadas para o tipo de preços, o grupo de recursos e a assinatura.</span><span class="sxs-lookup"><span data-stu-id="f607c-143">Pick the appropriate selections for the pricing tier, the resource group and the subscription.</span></span> <span data-ttu-id="f607c-144">Verifique se a opção **Fixar no Quadro Inicial** está marcada.</span><span class="sxs-lookup"><span data-stu-id="f607c-144">Make sure that you have the **Pin to Startboard** option checked.</span></span> <span data-ttu-id="f607c-145">Clique em **Criar**.</span><span class="sxs-lookup"><span data-stu-id="f607c-145">Click **Create**.</span></span>
6. <span data-ttu-id="f607c-146">Volte para o quadro inicial e clique na conta de armazenamento que você acabou de criar.</span><span class="sxs-lookup"><span data-stu-id="f607c-146">Go back to the Startboard and click the storage account that you just created.</span></span>
7. <span data-ttu-id="f607c-147">Na seção **serviços**, clique em **Blobs**.</span><span class="sxs-lookup"><span data-stu-id="f607c-147">In the **Services** section, click **Blobs**.</span></span> <span data-ttu-id="f607c-148">A **folha do serviço Blob** abre.</span><span class="sxs-lookup"><span data-stu-id="f607c-148">A **Blob service blade** opens up.</span></span>
8. <span data-ttu-id="f607c-149">Clique em **+ contêiner**.</span><span class="sxs-lookup"><span data-stu-id="f607c-149">Click **+ Container**.</span></span>
9. <span data-ttu-id="f607c-150">No **nome**, forneça um nome para o contêiner, por exemplo, *b2c*.</span><span class="sxs-lookup"><span data-stu-id="f607c-150">In **Name**, provide a name for the container, for example, *b2c*.</span></span> <span data-ttu-id="f607c-151">Esse valor será posteriormente referenciado como *containerName*.</span><span class="sxs-lookup"><span data-stu-id="f607c-151">This value will be later referred to as *containerName*.</span></span>
9. <span data-ttu-id="f607c-152">Selecione **Blob** como o **Tipo de acesso**.</span><span class="sxs-lookup"><span data-stu-id="f607c-152">Select **Blob** as the **Access type**.</span></span> <span data-ttu-id="f607c-153">Clique em **Criar**.</span><span class="sxs-lookup"><span data-stu-id="f607c-153">Click **Create**.</span></span>
10. <span data-ttu-id="f607c-154">O contêiner que você criou aparecerá na lista da **folha de serviço Blob**.</span><span class="sxs-lookup"><span data-stu-id="f607c-154">The container that you created will appear in the list on the **Blob service blade**.</span></span>
11. <span data-ttu-id="f607c-155">Feche a folha **Blobs** .</span><span class="sxs-lookup"><span data-stu-id="f607c-155">Close the **Blobs** blade.</span></span>
12. <span data-ttu-id="f607c-156">Na **folha da conta de armazenamento**, clique o ícone **Chave**.</span><span class="sxs-lookup"><span data-stu-id="f607c-156">On the **storage account blade**, click the **Key** icon.</span></span> <span data-ttu-id="f607c-157">Uma **folha chaves de acesso** abre.</span><span class="sxs-lookup"><span data-stu-id="f607c-157">An **Access keys blade** opens up.</span></span>  
13. <span data-ttu-id="f607c-158">Anote o valor de **key1**.</span><span class="sxs-lookup"><span data-stu-id="f607c-158">Write down the value of **key1**.</span></span> <span data-ttu-id="f607c-159">Esse valor será referenciado mais tarde como *key1*.</span><span class="sxs-lookup"><span data-stu-id="f607c-159">This value will be later referred as *key1*.</span></span>

## <a name="downloading-the-helper-tool"></a><span data-ttu-id="f607c-160">Como baixar a ferramenta auxiliar</span><span class="sxs-lookup"><span data-stu-id="f607c-160">Downloading the helper tool</span></span>

1.  <span data-ttu-id="f607c-161">Baixe a ferramenta auxiliar do [GitHub](https://github.com/azureadquickstarts/b2c-azureblobstorage-client/archive/master.zip).</span><span class="sxs-lookup"><span data-stu-id="f607c-161">Download the helper tool from [GitHub](https://github.com/azureadquickstarts/b2c-azureblobstorage-client/archive/master.zip).</span></span>
2.  <span data-ttu-id="f607c-162">Salve o arquivo *B2C-AzureBlobStorage-Client-master.zip* no seu computador local.</span><span class="sxs-lookup"><span data-stu-id="f607c-162">Save the *B2C-AzureBlobStorage-Client-master.zip* file on your local machine.</span></span>
3.  <span data-ttu-id="f607c-163">Extraia o conteúdo do arquivo B2C-AzureBlobStorage-Client-master.zip no seu disco local, por exemplo, na pasta **UI-Customization-Pack**.</span><span class="sxs-lookup"><span data-stu-id="f607c-163">Extract the content of the B2C-AzureBlobStorage-Client-master.zip file on your local disk, for example under the **UI-Customization-Pack** folder.</span></span> <span data-ttu-id="f607c-164">Isso criará uma pasta *B2C-AzureBlobStorage-Client-master*.</span><span class="sxs-lookup"><span data-stu-id="f607c-164">This will create a *B2C-AzureBlobStorage-Client-master* folder underneath.</span></span>
4.  <span data-ttu-id="f607c-165">Abra a pasta e extraia o conteúdo do arquivo *B2CAzureStorageClient.zip* nela.</span><span class="sxs-lookup"><span data-stu-id="f607c-165">Open that folder and extract the content of the archive file *B2CAzureStorageClient.zip* within it.</span></span>

## <a name="upload-the-ui-customization-pack-sample-files"></a><span data-ttu-id="f607c-166">Carregue os arquivos de exemplo do UI-Customization-Pack</span><span class="sxs-lookup"><span data-stu-id="f607c-166">Upload the UI-Customization-Pack sample files</span></span>

1.  <span data-ttu-id="f607c-167">Usando o Windows Explorer, navegue até a pasta *B2C-AzureBlobStorage-Client-master* localizado na pasta *UI-Customization-Pack* criada na seção anterior.</span><span class="sxs-lookup"><span data-stu-id="f607c-167">Using Windows Explorer, navigate to the folder *B2C-AzureBlobStorage-Client-master* located under the *UI-Customization-Pack* folder created in the previous section.</span></span>
2.  <span data-ttu-id="f607c-168">Execute o arquivo *B2CAzureStorageClient.exe*.</span><span class="sxs-lookup"><span data-stu-id="f607c-168">Run the *B2CAzureStorageClient.exe* file.</span></span> <span data-ttu-id="f607c-169">Esse programa simplesmente carregará todos os arquivos no diretório que você especifica para sua conta de armazenamento e habilita o acesso CORS para esses arquivos.</span><span class="sxs-lookup"><span data-stu-id="f607c-169">This program will simply upload all the files in the directory that you specify to your storage account, and enable CORS access for those files.</span></span>
3.  <span data-ttu-id="f607c-170">Quando solicitado, especifique: um.</span><span class="sxs-lookup"><span data-stu-id="f607c-170">When prompted, specify: a.</span></span>  <span data-ttu-id="f607c-171">O nome da sua conta de armazenamento *storageAccountName*, por exemplo, *contoso369b2c*.</span><span class="sxs-lookup"><span data-stu-id="f607c-171">The name of your storage account, *storageAccountName*, for example *contoso369b2c*.</span></span>
    <span data-ttu-id="f607c-172">b.</span><span class="sxs-lookup"><span data-stu-id="f607c-172">b.</span></span>  <span data-ttu-id="f607c-173">A chave de acesso primária de seu armazenamento de BLOBs do Azure, *key1*, por exemplo, *contoso369b2c*.</span><span class="sxs-lookup"><span data-stu-id="f607c-173">The primary access key of your azure blob storage, *key1*, for example *contoso369b2c*.</span></span>
    <span data-ttu-id="f607c-174">c.</span><span class="sxs-lookup"><span data-stu-id="f607c-174">c.</span></span>  <span data-ttu-id="f607c-175">O nome do seu contêiner de armazenamento de blobs de armazenamento, *containerName*, por exemplo, *b2c*.</span><span class="sxs-lookup"><span data-stu-id="f607c-175">The name of your storage blob storage container, *containerName*, for example *b2c*.</span></span>
    <span data-ttu-id="f607c-176">d.</span><span class="sxs-lookup"><span data-stu-id="f607c-176">d.</span></span>  <span data-ttu-id="f607c-177">O caminho dos arquivos de exemplo *Pacote Starter*, por exemplo *..\B2CTemplates\wingtiptoys*.</span><span class="sxs-lookup"><span data-stu-id="f607c-177">The path of the *Starter-Pack* sample files, for example *..\B2CTemplates\wingtiptoys*.</span></span>

<span data-ttu-id="f607c-178">Se você seguiu as etapas acima, os HTML5 e arquivos CSS do *UI-Customization-Pack* para a empresa fictícia **wingtiptoys** apontará para a sua conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="f607c-178">If you followed the steps above, the HTML5 and CSS files of the *UI-Customization-Pack* for the fictitious company **wingtiptoys** will now be pointing to your storage account.</span></span>  <span data-ttu-id="f607c-179">Para verificar se o conteúdo foi carregado corretamente, abra a folha de contêineres relacionados no portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="f607c-179">You can verify that the content has been uploaded correctly by opening the related container blade in the Azure portal.</span></span> <span data-ttu-id="f607c-180">Como alternativa, você pode verificar se o conteúdo foi carregado corretamente, para isso, acesse a página de um navegador.</span><span class="sxs-lookup"><span data-stu-id="f607c-180">You can alternatively verify that the content has been uploaded correctly by accessing the page from a browser.</span></span> <span data-ttu-id="f607c-181">Para obter mais informações, confira [Azure Active Directory B2C: uma ferramenta auxiliar usada para demonstrar o recurso de personalização da interface de usuário (IU) da página](active-directory-b2c-reference-ui-customization-helper-tool.md).</span><span class="sxs-lookup"><span data-stu-id="f607c-181">For more information, see [Azure Active Directory B2C: A helper tool used to demonstrate the page user interface (UI) customization feature](active-directory-b2c-reference-ui-customization-helper-tool.md).</span></span>

## <a name="ensure-the-storage-account-has-cors-enabled"></a><span data-ttu-id="f607c-182">Certifique-se de que a conta de armazenamento tenha o CORS habilitado</span><span class="sxs-lookup"><span data-stu-id="f607c-182">Ensure the storage account has CORS enabled</span></span>

<span data-ttu-id="f607c-183">O CORS (compartilhamento de recursos entre origens) deve estar habilitado no seu ponto de extremidade para que o Azure AD B2C Premium carregue o seu conteúdo.</span><span class="sxs-lookup"><span data-stu-id="f607c-183">CORS (Cross-Origin Resource Sharing) must be enabled on your endpoint for Azure AD B2C Premium to load your content.</span></span> <span data-ttu-id="f607c-184">Isso ocorre porque seu conteúdo é hospedado em um domínio diferente do domínio do qual o Azure AD B2C Premium fornece a página.</span><span class="sxs-lookup"><span data-stu-id="f607c-184">This is because your content is hosted on a different domain than the domain Azure AD B2C Premium will be serving the page from.</span></span>

<span data-ttu-id="f607c-185">Para verificar se o armazenamento que está hospedando o conteúdo tem CORS habilitado, prossiga com as etapas a seguir:</span><span class="sxs-lookup"><span data-stu-id="f607c-185">To verify that the storage you are hosting your content on has CORS enabled, proceed with the following steps:</span></span>

1. <span data-ttu-id="f607c-186">Abra uma sessão de navegação e navegue até a página *unified.html* usando a URL completa do seu local na sua conta de armazenamento `https://<storageAccountName>.blob.core.windows.net/<containerName>/unified.html`.</span><span class="sxs-lookup"><span data-stu-id="f607c-186">Open a browsing session and navigate to the page *unified.html* using the full URL of its location in your storage account, `https://<storageAccountName>.blob.core.windows.net/<containerName>/unified.html`.</span></span> <span data-ttu-id="f607c-187">Por exemplo, https://contoso369b2c.blob.core.windows.net/b2c/unified.html.</span><span class="sxs-lookup"><span data-stu-id="f607c-187">For example, https://contoso369b2c.blob.core.windows.net/b2c/unified.html.</span></span>
2. <span data-ttu-id="f607c-188">Navegue até http://test-cors.org.</span><span class="sxs-lookup"><span data-stu-id="f607c-188">Navigate to http://test-cors.org.</span></span> <span data-ttu-id="f607c-189">Este site permite que você verifique se a página que você está usando tem CORS habilitado.</span><span class="sxs-lookup"><span data-stu-id="f607c-189">This site allows you to verify that the page you are using has CORS enabled.</span></span>  
<!--
![test-cors.org](../../media/active-directory-b2c-customize-ui-of-a-user-journey/test-cors.png)
-->

3. <span data-ttu-id="f607c-190">Na **URL remota**, insira a URL completa para o seu conteúdo unified.html e clique em **Enviar solicitação**.</span><span class="sxs-lookup"><span data-stu-id="f607c-190">In **Remote URL**, enter the full URL for your unified.html content, and click **Send Request**.</span></span>
4. <span data-ttu-id="f607c-191">Verifique se a saída da seção **Resultados** contém *XHR status: 200*.</span><span class="sxs-lookup"><span data-stu-id="f607c-191">Verify that the output in the **Results** section contains *XHR status: 200*.</span></span> <span data-ttu-id="f607c-192">Isso indica que o CORS está habilitado.</span><span class="sxs-lookup"><span data-stu-id="f607c-192">This indicates that CORS is enabled.</span></span>
<!--
![CORS enabled](../../media/active-directory-b2c-customize-ui-of-a-user-journey/cors-enabled.png)
-->
<span data-ttu-id="f607c-193">Agora, a conta de armazenamento deve conter um contêiner de blobs denominado *b2c* na nossa ilustração, que contém os seguintes modelos wingtiptoys do *Pacote Starter*.</span><span class="sxs-lookup"><span data-stu-id="f607c-193">The storage account should now contain a blob container named *b2c* in our illustration that contains the following wingtiptoys templates from the *Starter-Pack*.</span></span>

<!--
![Correctly configured storage account](../../articles/active-directory-b2c/media/active-directory-b2c-reference-customize-ui-custom/storage-account-final.png)
-->

<span data-ttu-id="f607c-194">A tabela a seguir descreve a finalidade das páginas do HTML5 acima.</span><span class="sxs-lookup"><span data-stu-id="f607c-194">The following table describes the purpose of the above HTML5 pages.</span></span>

| <span data-ttu-id="f607c-195">Modelo do HTML5</span><span class="sxs-lookup"><span data-stu-id="f607c-195">HTML5 template</span></span> | <span data-ttu-id="f607c-196">Descrição</span><span class="sxs-lookup"><span data-stu-id="f607c-196">Description</span></span> |
|----------------|-------------|
| <span data-ttu-id="f607c-197">*phonefactor.html*</span><span class="sxs-lookup"><span data-stu-id="f607c-197">*phonefactor.html*</span></span> | <span data-ttu-id="f607c-198">Esta página pode ser usada como modelo para uma página de autenticação multifator.</span><span class="sxs-lookup"><span data-stu-id="f607c-198">This page can be used as a template for a multi-factor authentication page.</span></span> |
| <span data-ttu-id="f607c-199">*resetpassword.html*</span><span class="sxs-lookup"><span data-stu-id="f607c-199">*resetpassword.html*</span></span> | <span data-ttu-id="f607c-200">Esta página pode ser usada como modelo para uma página de esquecimento de senha.</span><span class="sxs-lookup"><span data-stu-id="f607c-200">This page can be used as a template for a forgot password page.</span></span> |
| <span data-ttu-id="f607c-201">*selfasserted.html*</span><span class="sxs-lookup"><span data-stu-id="f607c-201">*selfasserted.html*</span></span> | <span data-ttu-id="f607c-202">Esta página pode ser usada como modelo para uma página de inscrição de conta social ou uma página de inscrição de conta local.</span><span class="sxs-lookup"><span data-stu-id="f607c-202">This page can be used as a template for a social account sign-up page, a local account sign-up page, or a local account sign-in page.</span></span> |
| <span data-ttu-id="f607c-203">*unified.html*</span><span class="sxs-lookup"><span data-stu-id="f607c-203">*unified.html*</span></span> | <span data-ttu-id="f607c-204">Esta página pode ser usada como modelo para uma página de inscrição ou entrada unificada.</span><span class="sxs-lookup"><span data-stu-id="f607c-204">This page can be used as a template for a unified sign-up or sign-in page.</span></span> |
| <span data-ttu-id="f607c-205">*updateprofile.html*</span><span class="sxs-lookup"><span data-stu-id="f607c-205">*updateprofile.html*</span></span> | <span data-ttu-id="f607c-206">Esta página pode ser usada como modelo para uma página de atualização de perfil.</span><span class="sxs-lookup"><span data-stu-id="f607c-206">This page can be used as a template for a profile update page.</span></span> |

## <a name="add-a-link-to-your-html5css-templates-to-your-user-journey"></a><span data-ttu-id="f607c-207">Adicione um link aos modelos de HTML5/CSS para o seu percurso do usuário</span><span class="sxs-lookup"><span data-stu-id="f607c-207">Add a link to your HTML5/CSS templates to your user journey</span></span>

<span data-ttu-id="f607c-208">Você pode adicionar um link para os modelos de HTML5/CSS ao seu percurso do usuário ao editar diretamente uma política personalizada.</span><span class="sxs-lookup"><span data-stu-id="f607c-208">You can add a link to your HTML5/CSS templates to your user journey by editing a custom policy directly.</span></span>

<span data-ttu-id="f607c-209">Os modelos de HTML5/CSS personalizados usados no seu percurso do usuário devem ser especificados em uma lista de definições de conteúdo que podem ser usados nos percursos do usuário.</span><span class="sxs-lookup"><span data-stu-id="f607c-209">The custom HTML5/CSS templates to use in your user journey have to be specified in a list of content definitions that can be used in those user journeys.</span></span> <span data-ttu-id="f607c-210">Para essa finalidade, um elemento XML opcional *<ContentDefinitions>* deve ser declarado na seção *<BuildingBlocks>* do arquivo XML de política personalizada.</span><span class="sxs-lookup"><span data-stu-id="f607c-210">For that purpose, an optional *<ContentDefinitions>* XML element must be declared under the *<BuildingBlocks>* section of your custom policy XML file.</span></span>

<span data-ttu-id="f607c-211">A tabela a seguir descreve o conjunto de ids de definição de conteúdo reconhecido pelo mecanismo de experiência de identidade de Azure AD B2C e o tipo de páginas relacionadas a eles.</span><span class="sxs-lookup"><span data-stu-id="f607c-211">The following table describes the set of content definition ids recognized by the Azure AD B2C identity experience engine and the type of pages that relates to them.</span></span>

| <span data-ttu-id="f607c-212">Id de definição de conteúdo</span><span class="sxs-lookup"><span data-stu-id="f607c-212">Content definition id</span></span> | <span data-ttu-id="f607c-213">Descrição</span><span class="sxs-lookup"><span data-stu-id="f607c-213">Description</span></span> |
|-----------------------|-------------|
| <span data-ttu-id="f607c-214">*api.error*</span><span class="sxs-lookup"><span data-stu-id="f607c-214">*api.error*</span></span> | <span data-ttu-id="f607c-215">**Página de erro**.</span><span class="sxs-lookup"><span data-stu-id="f607c-215">**Error page**.</span></span> <span data-ttu-id="f607c-216">Essa página é exibida quando uma exceção ou um erro é encontrado.</span><span class="sxs-lookup"><span data-stu-id="f607c-216">This page is displayed when an exception or an error is encountered.</span></span> |
| <span data-ttu-id="f607c-217">*api.idpselections*</span><span class="sxs-lookup"><span data-stu-id="f607c-217">*api.idpselections*</span></span> | <span data-ttu-id="f607c-218">**Página de seleção de provedor de identidade**.</span><span class="sxs-lookup"><span data-stu-id="f607c-218">**Identity provider selection page**.</span></span> <span data-ttu-id="f607c-219">Esta página contém uma lista de provedores de identidade que o usuário pode escolher durante a inscrição.</span><span class="sxs-lookup"><span data-stu-id="f607c-219">This page contains a list of identity providers that the user can choose from during sign-in.</span></span> <span data-ttu-id="f607c-220">Esses são os provedores de identidade empresarial ou provedores de identidade social, como Facebook e Google+, ou contas locais (baseadas em endereço de email ou nome de usuário).</span><span class="sxs-lookup"><span data-stu-id="f607c-220">These are either enterprise identity providers, social identity providers such as Facebook and Google+, or local accounts (based on email address or user name).</span></span> |
| <span data-ttu-id="f607c-221">*api.idpselections.signup*</span><span class="sxs-lookup"><span data-stu-id="f607c-221">*api.idpselections.signup*</span></span> | <span data-ttu-id="f607c-222">**Seleção de provedor de identidade para inscrição**.</span><span class="sxs-lookup"><span data-stu-id="f607c-222">**Identity provider selection for sign-up**.</span></span> <span data-ttu-id="f607c-223">Esta página contém uma lista de provedores de identidade que o usuário pode escolher durante a inscrição.</span><span class="sxs-lookup"><span data-stu-id="f607c-223">This page contains a list of identity providers that the user can choose from during sign-up.</span></span> <span data-ttu-id="f607c-224">Esses são os provedores de identidade empresarial ou provedores de identidade social, como Facebook e Google+, ou contas locais (baseadas em endereço de email ou nome de usuário).</span><span class="sxs-lookup"><span data-stu-id="f607c-224">These are either enterprise identity providers, social identity providers such as Facebook and Google+, or local accounts (based on email address or user name).</span></span> |
| <span data-ttu-id="f607c-225">*api.localaccountpasswordreset*</span><span class="sxs-lookup"><span data-stu-id="f607c-225">*api.localaccountpasswordreset*</span></span> | <span data-ttu-id="f607c-226">**Página de esquecimento de senha**.</span><span class="sxs-lookup"><span data-stu-id="f607c-226">**Forgot password page**.</span></span> <span data-ttu-id="f607c-227">Esta página contém um formulário que o usuário precisa preencher para iniciar sua redefinição de senha.</span><span class="sxs-lookup"><span data-stu-id="f607c-227">This page contains a form that the user has to fill to initiate their password reset.</span></span>  |
| <span data-ttu-id="f607c-228">*api.localaccountsignin*</span><span class="sxs-lookup"><span data-stu-id="f607c-228">*api.localaccountsignin*</span></span> | <span data-ttu-id="f607c-229">**Página de entrada da conta local**.</span><span class="sxs-lookup"><span data-stu-id="f607c-229">**Local account sign-in page**.</span></span> <span data-ttu-id="f607c-230">Esta página contém um formulário de inscrição que o usuário deve preencher ao entrar usando uma conta local baseada em endereço de email ou nome de usuário.</span><span class="sxs-lookup"><span data-stu-id="f607c-230">This page contains a sign-in form that the user has to fill in when signing in with a local account that is based on an email address or a user name.</span></span> <span data-ttu-id="f607c-231">O formulário pode conter uma caixa de entrada de texto e caixa de entrada de senha.</span><span class="sxs-lookup"><span data-stu-id="f607c-231">The form can contain a text input box and password entry box.</span></span> |
| <span data-ttu-id="f607c-232">*api.localaccountsignup*</span><span class="sxs-lookup"><span data-stu-id="f607c-232">*api.localaccountsignup*</span></span> | <span data-ttu-id="f607c-233">**Página de inscrição da conta local**.</span><span class="sxs-lookup"><span data-stu-id="f607c-233">**Local account sign-up page**.</span></span> <span data-ttu-id="f607c-234">Esta página contém um formulário de inscrição que o usuário deve preencher ao inscrever-se usando uma conta local baseada em endereço de email ou nome de usuário.</span><span class="sxs-lookup"><span data-stu-id="f607c-234">This page contains a sign-up form that the user has to fill in when signing up for a local account that is based on an email address or a user name.</span></span> <span data-ttu-id="f607c-235">O formulário pode conter diferentes controles de entrada como caixa de entrada de texto, caixa de entrada de senha, botão de opção, caixas de lista suspensa de seleção única e caixas de seleção múltipla.</span><span class="sxs-lookup"><span data-stu-id="f607c-235">The form can contain different input controls such as text input box, password entry box, radio button, single-select drop-down boxes, and multi-select check boxes.</span></span> |
| <span data-ttu-id="f607c-236">*api.phonefactor*</span><span class="sxs-lookup"><span data-stu-id="f607c-236">*api.phonefactor*</span></span> | <span data-ttu-id="f607c-237">**Página de autenticação multifator**.</span><span class="sxs-lookup"><span data-stu-id="f607c-237">**Multi-factor authentication page**.</span></span> <span data-ttu-id="f607c-238">Nesta página, os usuários pode verificar seus números de telefone (usando mensagem de texto ou por voz) durante a inscrição ou entrada.</span><span class="sxs-lookup"><span data-stu-id="f607c-238">On this page, users can verify their phone numbers (using text or voice) during sign-up or sign-in.</span></span> |
| <span data-ttu-id="f607c-239">*api.selfasserted*</span><span class="sxs-lookup"><span data-stu-id="f607c-239">*api.selfasserted*</span></span> | <span data-ttu-id="f607c-240">**Página de inscrição de conta social**.</span><span class="sxs-lookup"><span data-stu-id="f607c-240">**Social account sign-up page**.</span></span> <span data-ttu-id="f607c-241">Esta página contém um formulário de inscrição que deve ser preenchida pelo usuário quando o mesmo se inscreve usando uma conta existente de um provedor de identidade social, como o Facebook ou Google+.</span><span class="sxs-lookup"><span data-stu-id="f607c-241">This page contains a sign-up form that the user has to fill in when signing up using an existing account from a social identity provider such as Facebook or Google+.</span></span> <span data-ttu-id="f607c-242">Esta página é semelhante à página de inscrição de conta social acima, exceto os campos de entrada de senha.</span><span class="sxs-lookup"><span data-stu-id="f607c-242">This page is similar to the above social account sign-up page with the exception of the password entry fields.</span></span> |
| <span data-ttu-id="f607c-243">*api.selfasserted.profileupdate*</span><span class="sxs-lookup"><span data-stu-id="f607c-243">*api.selfasserted.profileupdate*</span></span> | <span data-ttu-id="f607c-244">**Página de atualização de perfil**.</span><span class="sxs-lookup"><span data-stu-id="f607c-244">**Profile update page**.</span></span> <span data-ttu-id="f607c-245">Esta página contém um formulário que o usuário pode usar para atualizar seu perfil.</span><span class="sxs-lookup"><span data-stu-id="f607c-245">This page contains a form that the user can use to update their profile.</span></span> <span data-ttu-id="f607c-246">Esta página é semelhante à página de inscrição de conta social acima, exceto os campos de entrada de senha.</span><span class="sxs-lookup"><span data-stu-id="f607c-246">This page is similar to the above social account sign-up page with the exception of the password entry fields.</span></span> |
| <span data-ttu-id="f607c-247">*api.signuporsignin*</span><span class="sxs-lookup"><span data-stu-id="f607c-247">*api.signuporsignin*</span></span> | <span data-ttu-id="f607c-248">**Página de inscrição ou entrada unificada**.</span><span class="sxs-lookup"><span data-stu-id="f607c-248">**Unified sign-up or sign-in page**.</span></span>  <span data-ttu-id="f607c-249">Esta página controla tanto a inscrição quanto a entrada de usuários que podem usar provedores de identidade empresarial ou provedores de identidade social, como Facebook, Google+ ou contas locais.</span><span class="sxs-lookup"><span data-stu-id="f607c-249">This page handles both sign-up & sign-in of users, who can use enterprise identity providers, social identity providers such as Facebook or Google+, or local accounts.</span></span>

## <a name="next-steps"></a><span data-ttu-id="f607c-250">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="f607c-250">Next steps</span></span>
[<span data-ttu-id="f607c-251">Referência: Aprenda como as políticas personalizadas trabalham com o Identity Experience Framework no B2C</span><span class="sxs-lookup"><span data-stu-id="f607c-251">Reference: Understand how custom policies work with the Identity Experience Framework in B2C</span></span>](active-directory-b2c-reference-custom-policies-understanding-contents.md)
