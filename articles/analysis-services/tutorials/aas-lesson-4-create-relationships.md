---
<span data-ttu-id="38e9c-101">título: aaa "lição do tutorial do Azure Analysis Services 4: criar relações | Descrição de Microsoft Docs": descreve como toocreate relações em Olá projeto do tutorial do Azure Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="38e9c-101">title: aaa"Azure Analysis Services tutorial lesson 4: Create relationships | Microsoft Docs" description: Describes how toocreate relationships in hello Azure Analysis Services tutorial project.</span></span> <span data-ttu-id="38e9c-102">serviços: documentationcenter do analysis services: ' autor: manager minewiskan: erikre editor: ' marcas: '</span><span class="sxs-lookup"><span data-stu-id="38e9c-102">services: analysis-services documentationcenter: '' author: minewiskan manager: erikre editor: '' tags: ''</span></span>

<span data-ttu-id="38e9c-103">MS. AssetID: MS. Service: MS. devlang do analysis services: NA MS. Topic: get-started-article tgt_pltfrm: NA Workload: MS. Date na: 26/05/2017 Author: owend</span><span class="sxs-lookup"><span data-stu-id="38e9c-103">ms.assetid: ms.service: analysis-services ms.devlang: NA ms.topic: get-started-article ms.tgt_pltfrm: NA ms.workload: na ms.date: 05/26/2017 ms.author: owend</span></span>
---
# <a name="lesson-4-create-relationships"></a><span data-ttu-id="38e9c-104">Lição 4: criar relações</span><span class="sxs-lookup"><span data-stu-id="38e9c-104">Lesson 4: Create relationships</span></span>

[!INCLUDE[analysis-services-appliesto-aas-sql2017-later](../../../includes/analysis-services-appliesto-aas-sql2017-later.md)]

<span data-ttu-id="38e9c-105">Nesta lição, você verificar as relações de saudação que foram criadas automaticamente quando você importou os dados e adicionar novas relações entre tabelas diferentes.</span><span class="sxs-lookup"><span data-stu-id="38e9c-105">In this lesson, you verify hello relationships that were created automatically when you imported data and add new relationships between different tables.</span></span> <span data-ttu-id="38e9c-106">Uma relação é uma conexão entre duas tabelas que estabelece como os dados de saudação nessas tabelas devem ser correlacionados.</span><span class="sxs-lookup"><span data-stu-id="38e9c-106">A relationship is a connection between two tables that establishes how hello data in those tables should be correlated.</span></span> <span data-ttu-id="38e9c-107">Por exemplo, tabelas de DimProduct hello e Olá DimProductSubcategory têm uma relação com base no fato de saudação que cada produto pertence tooa subcategoria.</span><span class="sxs-lookup"><span data-stu-id="38e9c-107">For example, hello DimProduct table and hello DimProductSubcategory table have a relationship based on hello fact that each product belongs tooa subcategory.</span></span> <span data-ttu-id="38e9c-108">mais, consulte toolearn [relações](https://docs.microsoft.com/sql/analysis-services/tabular-models/relationships-ssas-tabular).</span><span class="sxs-lookup"><span data-stu-id="38e9c-108">toolearn more, see [Relationships](https://docs.microsoft.com/sql/analysis-services/tabular-models/relationships-ssas-tabular).</span></span>
  
<span data-ttu-id="38e9c-109">Estimado tempo toocomplete nesta lição: **10 minutos**</span><span class="sxs-lookup"><span data-stu-id="38e9c-109">Estimated time toocomplete this lesson: **10 minutes**</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="38e9c-110">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="38e9c-110">Prerequisites</span></span>  
<span data-ttu-id="38e9c-111">Este tópico faz parte de um tutorial de modelagem tabular, que deve ser concluído na devida ordem.</span><span class="sxs-lookup"><span data-stu-id="38e9c-111">This topic is part of a tabular modeling tutorial, which should be completed in order.</span></span> <span data-ttu-id="38e9c-112">Antes de executar tarefas de saudação nesta lição, você deverá ter completado lição anterior Olá: [lição 3: marcar como tabela de data](../tutorials/aas-lesson-3-mark-as-date-table.md).</span><span class="sxs-lookup"><span data-stu-id="38e9c-112">Before performing hello tasks in this lesson, you should have completed hello previous lesson: [Lesson 3: Mark as Date Table](../tutorials/aas-lesson-3-mark-as-date-table.md).</span></span> 
  
## <a name="review-existing-relationships-and-add-new-relationships"></a><span data-ttu-id="38e9c-113">Examinar relações existentes e adicionar novas relações</span><span class="sxs-lookup"><span data-stu-id="38e9c-113">Review existing relationships and add new relationships</span></span>  
<span data-ttu-id="38e9c-114">Quando você importar dados usando obter dados, você tem sete tabelas do banco de dados de AdventureWorksDW2014 hello.</span><span class="sxs-lookup"><span data-stu-id="38e9c-114">When you imported data by using Get Data, you got seven tables from hello AdventureWorksDW2014 database.</span></span> <span data-ttu-id="38e9c-115">Em geral, quando você importa dados de uma fonte relacional, as relações existentes são importadas automaticamente junto com dados de saudação.</span><span class="sxs-lookup"><span data-stu-id="38e9c-115">Generally, when you import data from a relational source, existing relationships are automatically imported together with hello data.</span></span> <span data-ttu-id="38e9c-116">No entanto, antes de prosseguir com a criação de seu modelo, você deve verificar se essas relações entre tabelas foram criadas corretamente.</span><span class="sxs-lookup"><span data-stu-id="38e9c-116">However, before you proceed with authoring your model you should verify those relationships between tables were created properly.</span></span> <span data-ttu-id="38e9c-117">Para este tutorial, você também adicionará três novas relações.</span><span class="sxs-lookup"><span data-stu-id="38e9c-117">For this tutorial, you add three new relationships.</span></span>  
  
#### <a name="tooreview-existing-relationships"></a><span data-ttu-id="38e9c-118">tooreview as relações existentes</span><span class="sxs-lookup"><span data-stu-id="38e9c-118">tooreview existing relationships</span></span>  
  
1.  <span data-ttu-id="38e9c-119">Clique em Olá **modelo** menu > **exibição do modelo de** > **exibição de diagrama**.</span><span class="sxs-lookup"><span data-stu-id="38e9c-119">Click hello **Model** menu > **Model View** > **Diagram View**.</span></span>  

    <span data-ttu-id="38e9c-120">Olá designer de modelo agora aparece no modo de exibição de diagrama, um formato gráfico que exibe todas as tabelas de saudação que você importou com linhas entre elas.</span><span class="sxs-lookup"><span data-stu-id="38e9c-120">hello model designer now appears in Diagram View, a graphical format displaying all hello tables you imported with lines between them.</span></span> <span data-ttu-id="38e9c-121">linhas de saudação entre tabelas indicam relações Olá que foram criadas automaticamente quando você importou dados saudação.</span><span class="sxs-lookup"><span data-stu-id="38e9c-121">hello lines between tables indicate hello relationships that were automatically created when you imported hello data.</span></span>
    
    ![aas-lesson4-diagram](../tutorials/media/aas-lesson4-diagram.png)
  
    <span data-ttu-id="38e9c-123">Inclua como muitas das tabelas de saudação possível por meio de controles de minimapa no canto inferior direito de saudação do designer de modelo de saudação.</span><span class="sxs-lookup"><span data-stu-id="38e9c-123">Include as many of hello tables as possible by using minimap controls in hello lower-right corner of hello model designer.</span></span> <span data-ttu-id="38e9c-124">Clique e arraste locais de toodifferent de tabelas, reunindo tabelas mais próximo ou colocá-los em uma ordem específica.</span><span class="sxs-lookup"><span data-stu-id="38e9c-124">You can also click and drag tables toodifferent locations, bringing tables closer together, or putting them in a particular order.</span></span> <span data-ttu-id="38e9c-125">Movendo tabelas não afeta relações Olá já existentes entre tabelas de saudação.</span><span class="sxs-lookup"><span data-stu-id="38e9c-125">Moving tables does not affect hello relationships already between hello tables.</span></span> <span data-ttu-id="38e9c-126">tooview todas as colunas de saudação em uma tabela específica, clique e arraste um tooexpand de borda da tabela ou diminuí-lo.</span><span class="sxs-lookup"><span data-stu-id="38e9c-126">tooview all hello columns in a particular table, click and drag on a table edge tooexpand or make it smaller.</span></span>  
  
2.  <span data-ttu-id="38e9c-127">Clique em uma linha sólida entre Olá Olá **DimCustomer** tabela e hello **DimGeography** tabela.</span><span class="sxs-lookup"><span data-stu-id="38e9c-127">Click hello solid line between hello **DimCustomer** table and hello **DimGeography** table.</span></span> <span data-ttu-id="38e9c-128">uma linha sólida entre essas duas tabelas Olá mostra que essa relação está ativa, ou seja, que ele é usado por padrão quando o cálculo das fórmulas DAX.</span><span class="sxs-lookup"><span data-stu-id="38e9c-128">hello solid line between these two tables shows this relationship is active, that is, it is used by default when calculating DAX formulas.</span></span>  
  
    <span data-ttu-id="38e9c-129">Saudação de aviso **GeographyKey** coluna Olá **DimCustomer** tabela e hello **GeographyKey** coluna Olá **DimGeography** tabela agora aparecem cada dentro de uma caixa.</span><span class="sxs-lookup"><span data-stu-id="38e9c-129">Notice hello **GeographyKey** column in hello **DimCustomer** table and hello **GeographyKey** column in hello **DimGeography** table now both each appear within a box.</span></span> <span data-ttu-id="38e9c-130">Essas colunas são usadas na relação de saudação.</span><span class="sxs-lookup"><span data-stu-id="38e9c-130">These columns are used in hello relationship.</span></span> <span data-ttu-id="38e9c-131">Olá propriedades da relação agora também aparecem nas Olá **propriedades** janela.</span><span class="sxs-lookup"><span data-stu-id="38e9c-131">hello relationship’s properties now also appear in hello **Properties** window.</span></span>  
  
    > [!TIP]  
    > <span data-ttu-id="38e9c-132">Além disso toousing Olá designer de modelo na exibição de diagrama, você também pode usar o hello gerenciar relações diálogo caixa tooshow Olá relações entre todas as tabelas em um formato de tabela.</span><span class="sxs-lookup"><span data-stu-id="38e9c-132">In addition toousing hello model designer in diagram view, you can also use hello Manage Relationships dialog box tooshow hello relationships between all tables in a table format.</span></span> <span data-ttu-id="38e9c-133">No Gerenciador de Modelos tabulares, clique com o botão direito do mouse em **Relações** > **Gerenciar Relações**.</span><span class="sxs-lookup"><span data-stu-id="38e9c-133">In Tabular Model Explorer, right-click **Relationships** > **Manage Relationships**.</span></span>
  
3.  <span data-ttu-id="38e9c-134">Verifique se Olá relações a seguir foram criada quando cada uma das tabelas de saudação foram importados do banco de dados do AdventureWorksDW hello:</span><span class="sxs-lookup"><span data-stu-id="38e9c-134">Verify hello following relationships were created when each of hello tables were imported from hello AdventureWorksDW database:</span></span>  
  
    |<span data-ttu-id="38e9c-135">Ativo</span><span class="sxs-lookup"><span data-stu-id="38e9c-135">Active</span></span>|<span data-ttu-id="38e9c-136">Tabela</span><span class="sxs-lookup"><span data-stu-id="38e9c-136">Table</span></span>|<span data-ttu-id="38e9c-137">Tabela de Pesquisa Relacionada</span><span class="sxs-lookup"><span data-stu-id="38e9c-137">Related Lookup Table</span></span>|  
    |----------|---------|------------------------|  
    |<span data-ttu-id="38e9c-138">Sim</span><span class="sxs-lookup"><span data-stu-id="38e9c-138">Yes</span></span>|<span data-ttu-id="38e9c-139">**DimCustomer [GeographyKey]**</span><span class="sxs-lookup"><span data-stu-id="38e9c-139">**DimCustomer [GeographyKey]**</span></span>|<span data-ttu-id="38e9c-140">**DimGeography [GeographyKey]**</span><span class="sxs-lookup"><span data-stu-id="38e9c-140">**DimGeography [GeographyKey]**</span></span>|  
    |<span data-ttu-id="38e9c-141">Sim</span><span class="sxs-lookup"><span data-stu-id="38e9c-141">Yes</span></span>|<span data-ttu-id="38e9c-142">**DimProduct [ProductSubcategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="38e9c-142">**DimProduct [ProductSubcategoryKey]**</span></span>|<span data-ttu-id="38e9c-143">**DimProductSubcategory [ProductSubcategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="38e9c-143">**DimProductSubcategory [ProductSubcategoryKey]**</span></span>|  
    |<span data-ttu-id="38e9c-144">Sim</span><span class="sxs-lookup"><span data-stu-id="38e9c-144">Yes</span></span>|<span data-ttu-id="38e9c-145">**DimProductSubcategory [ProductCategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="38e9c-145">**DimProductSubcategory [ProductCategoryKey]**</span></span>|<span data-ttu-id="38e9c-146">**DimProductCategory [ProductCategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="38e9c-146">**DimProductCategory [ProductCategoryKey]**</span></span>|  
    |<span data-ttu-id="38e9c-147">Sim</span><span class="sxs-lookup"><span data-stu-id="38e9c-147">Yes</span></span>|<span data-ttu-id="38e9c-148">**FactInternetSales [CustomerKey]**</span><span class="sxs-lookup"><span data-stu-id="38e9c-148">**FactInternetSales [CustomerKey]**</span></span>|<span data-ttu-id="38e9c-149">**DimCustomer [CustomerKey]**</span><span class="sxs-lookup"><span data-stu-id="38e9c-149">**DimCustomer [CustomerKey]**</span></span>|  
    |<span data-ttu-id="38e9c-150">Sim</span><span class="sxs-lookup"><span data-stu-id="38e9c-150">Yes</span></span>|<span data-ttu-id="38e9c-151">**FactInternetSales [ProductKey]**</span><span class="sxs-lookup"><span data-stu-id="38e9c-151">**FactInternetSales [ProductKey]**</span></span>|<span data-ttu-id="38e9c-152">**DimProduct [ProductKey]**</span><span class="sxs-lookup"><span data-stu-id="38e9c-152">**DimProduct [ProductKey]**</span></span>|  
  
    <span data-ttu-id="38e9c-153">Se alguma das relações Olá estiverem ausentes, verifique se o modelo inclui Olá tabelas a seguir: DimCustomer, DimDate, DimGeography, DimProduct, DimProductCategory, DimProductSubcategory e FactInternetSales.</span><span class="sxs-lookup"><span data-stu-id="38e9c-153">If any of hello relationships are missing, verify that your model includes hello following tables: DimCustomer, DimDate, DimGeography, DimProduct, DimProductCategory, DimProductSubcategory, and FactInternetSales.</span></span> <span data-ttu-id="38e9c-154">Se tabelas da saudação mesma conexão de fonte de dados são importados em separarem vezes, as relações entre essas tabelas não são criadas e devem ser criadas manualmente.</span><span class="sxs-lookup"><span data-stu-id="38e9c-154">If tables from hello same data source connection are imported at separate times, any relationships between those tables are not be created and must be created manually.</span></span>  

### <a name="take-a-closer-look"></a><span data-ttu-id="38e9c-155">Veja uma análise mais detalhada</span><span class="sxs-lookup"><span data-stu-id="38e9c-155">Take a closer look</span></span>
<span data-ttu-id="38e9c-156">Na exibição de diagrama, observe um número de linhas de saudação que mostram a relação de saudação entre tabelas, um asterisco e uma seta.</span><span class="sxs-lookup"><span data-stu-id="38e9c-156">In Diagram View, notice an arrow, an asterisk, and a number on hello lines that show hello relationship between tables.</span></span>

![aas-lesson4-line](../tutorials/media/aas-lesson4-line.png)

<span data-ttu-id="38e9c-158">seta de saudação mostra a direção do filtro hello.</span><span class="sxs-lookup"><span data-stu-id="38e9c-158">hello arrow shows hello filter direction.</span></span> <span data-ttu-id="38e9c-159">asterisco Olá mostra que essa tabela é Olá lado muitos de cardinalidade da relação hello e hello um mostra que esta tabela é um lado de saudação da relação de saudação.</span><span class="sxs-lookup"><span data-stu-id="38e9c-159">hello asterisk shows this table is hello many side in hello relationship's cardinality, and hello one shows this table is hello one side of hello relationship.</span></span> <span data-ttu-id="38e9c-160">Se você precisar tooedit uma relação; Por exemplo, altere a direção do filtro ou a cardinalidade da relação hello, clique duas vezes Olá relação tooopen Olá Editar relação de diálogo linha.</span><span class="sxs-lookup"><span data-stu-id="38e9c-160">If you need tooedit a relationship; for example, change hello relationship's filter direction or cardinality, double-click hello relationship line tooopen hello Edit Relationship dialog.</span></span>

![aas-lesson4-edit](../tutorials/media/aas-lesson4-edit.png)

<span data-ttu-id="38e9c-162">Esses recursos destinam-se para modelagem de dados avançados e estão fora do escopo Olá neste tutorial.</span><span class="sxs-lookup"><span data-stu-id="38e9c-162">These features are meant for advanced data modeling and are outside hello scope of this tutorial.</span></span> <span data-ttu-id="38e9c-163">mais, consulte toolearn [bidirecional entre os filtros para modelos de tabela no Analysis Services](https://docs.microsoft.com/sql/analysis-services/tabular-models/bi-directional-cross-filters-tabular-models-analysis-services).</span><span class="sxs-lookup"><span data-stu-id="38e9c-163">toolearn more, see [Bi-directional cross filters for tabular models in Analysis Services](https://docs.microsoft.com/sql/analysis-services/tabular-models/bi-directional-cross-filters-tabular-models-analysis-services).</span></span>

<span data-ttu-id="38e9c-164">Em alguns casos, talvez seja necessário toocreate de relacionamentos adicionais entre tabelas em seu modelo toosupport determinada lógica de negócios.</span><span class="sxs-lookup"><span data-stu-id="38e9c-164">In some cases, you may need toocreate additional relationships between tables in your model toosupport certain business logic.</span></span> <span data-ttu-id="38e9c-165">Para este tutorial, você precisa toocreate três relações adicionais entre tabelas de FactInternetSales hello e Olá DimDate.</span><span class="sxs-lookup"><span data-stu-id="38e9c-165">For this tutorial, you need toocreate three additional relationships between hello FactInternetSales table and hello DimDate table.</span></span>  
  
#### <a name="tooadd-new-relationships-between-tables"></a><span data-ttu-id="38e9c-166">tooadd novas relações entre tabelas</span><span class="sxs-lookup"><span data-stu-id="38e9c-166">tooadd new relationships between tables</span></span>  
  
1.  <span data-ttu-id="38e9c-167">No designer de modelo de saudação em Olá **FactInternetSales** de tabela, clique e mantenha Olá **OrderDate** coluna, em seguida, arraste Olá cursor toohello **data** coluna Olá  **DimDate** da tabela e, em seguida, solte.</span><span class="sxs-lookup"><span data-stu-id="38e9c-167">In hello model designer, in hello **FactInternetSales** table, click, and hold on hello **OrderDate** column, then drag hello cursor toohello **Date** column in hello **DimDate** table, and then release.</span></span>  

    <span data-ttu-id="38e9c-168">Uma linha sólida aparece, indicando que você criou uma relação ativa entre hello **OrderDate** coluna Olá **vendas pela Internet** tabela e hello **data** coluna Olá **Data** tabela.</span><span class="sxs-lookup"><span data-stu-id="38e9c-168">A solid line appears showing you have created an active relationship between hello **OrderDate** column in hello **Internet Sales** table, and hello **Date** column in hello **Date** table.</span></span> 
  
      ![aas-lesson4-new](../tutorials/media/aas-lesson4-new.png) 
  
    > [!NOTE]  
    > <span data-ttu-id="38e9c-170">Ao criar relações, direção de cardinalidade e filtro Olá entre a tabela primária hello e tabela de pesquisa relacionada Olá é selecionada automaticamente.</span><span class="sxs-lookup"><span data-stu-id="38e9c-170">When creating relationships, hello cardinality and filter direction between hello primary table and hello related lookup table is automatically selected.</span></span>  
  
2.  <span data-ttu-id="38e9c-171">Em Olá **FactInternetSales** de tabela, clique e mantenha em Olá **DueDate** coluna, em seguida, arraste Olá cursor toohello **data** coluna Olá **DimDate** da tabela e, em seguida, solte.</span><span class="sxs-lookup"><span data-stu-id="38e9c-171">In hello **FactInternetSales** table, click and hold on hello **DueDate** column, then drag hello cursor toohello **Date** column in hello **DimDate** table, and then release.</span></span>  
  
    <span data-ttu-id="38e9c-172">Uma linha pontilhada aparece, mostrando a você criou uma relação inativa entre hello **DueDate** coluna Olá **FactInternetSales** tabela e hello **data** coluna Olá **DimDate** tabela.</span><span class="sxs-lookup"><span data-stu-id="38e9c-172">A dotted line appears showing you have created an inactive relationship between hello **DueDate** column in hello **FactInternetSales** table, and hello **Date** column in hello **DimDate** table.</span></span> <span data-ttu-id="38e9c-173">Você pode ter várias relações entre tabelas, mas somente uma relação pode estar ativa por vez.</span><span class="sxs-lookup"><span data-stu-id="38e9c-173">You can have multiple relationships between tables, but only one relationship can be active at a time.</span></span> <span data-ttu-id="38e9c-174">Relações inativas podem ser feitas agregações especial tooperform ativa em expressões DAX personalizadas.</span><span class="sxs-lookup"><span data-stu-id="38e9c-174">Inactive relationships can be made active tooperform special aggregations in custom DAX expressions.</span></span>  
  
3.  <span data-ttu-id="38e9c-175">Por fim, crie mais uma relação.</span><span class="sxs-lookup"><span data-stu-id="38e9c-175">Finally, create one more relationship.</span></span> <span data-ttu-id="38e9c-176">Em Olá **FactInternetSales** de tabela, clique e mantenha em Olá **ShipDate** coluna, em seguida, arraste Olá cursor toohello **data** coluna Olá **DimDate** da tabela e, em seguida, solte.</span><span class="sxs-lookup"><span data-stu-id="38e9c-176">In hello **FactInternetSales** table, click and hold on hello **ShipDate** column, then drag hello cursor toohello **Date** column in hello **DimDate** table, and then release.</span></span>  
    
     ![aas-lesson4-newinactive](../tutorials/media/aas-lesson4-newinactive.png)
  
## <a name="whats-next"></a><span data-ttu-id="38e9c-178">O que vem a seguir?</span><span class="sxs-lookup"><span data-stu-id="38e9c-178">What's next?</span></span>
<span data-ttu-id="38e9c-179">[Lição 5: criar colunas calculadas](../tutorials/aas-lesson-5-create-calculated-columns.md).</span><span class="sxs-lookup"><span data-stu-id="38e9c-179">[Lesson 5: Create calculated columns](../tutorials/aas-lesson-5-create-calculated-columns.md).</span></span>
  
  
  
