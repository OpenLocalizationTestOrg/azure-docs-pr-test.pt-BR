---
title: "Considerações sobre a topologia aaaNetwork ao usar o Proxy de aplicativo do Azure Active Directory | Microsoft Docs"
description: "Cobre as considerações de topologia de rede ao usar o Proxy de Aplicativo do Azure AD."
services: active-directory
documentationcenter: 
author: kgremban
manager: femila
ms.assetid: 
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/28/2017
ms.author: kgremban
ms.reviewer: harshja
ms.custom: it-pro
ms.openlocfilehash: 9b8cdd2196efeb92a74e44dde6511f7d3091a968
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="network-topology-considerations-when-using-azure-active-directory-application-proxy"></a><span data-ttu-id="4c98c-103">Considerações de topologia de rede ao usar o Proxy de Aplicativo do Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="4c98c-103">Network topology considerations when using Azure Active Directory Application Proxy</span></span>

<span data-ttu-id="4c98c-104">Este artigo explica as considerações de topologia de rede ao usar o Proxy de Aplicativo do Azure AD (Azure Active Directory) para publicar e acessar seus aplicativos remotamente.</span><span class="sxs-lookup"><span data-stu-id="4c98c-104">This article explains network topology considerations when using Azure Active Directory (Azure AD) Application Proxy for publishing and accessing your applications remotely.</span></span>

## <a name="traffic-flow"></a><span data-ttu-id="4c98c-105">Fluxo de tráfego</span><span class="sxs-lookup"><span data-stu-id="4c98c-105">Traffic flow</span></span>

<span data-ttu-id="4c98c-106">Quando um aplicativo é publicado por meio do Proxy de aplicativo do Azure AD, o tráfego de aplicativos de toohello usuários Olá flui três conexões:</span><span class="sxs-lookup"><span data-stu-id="4c98c-106">When an application is published through Azure AD Application Proxy, traffic from hello users toohello applications flows through three connections:</span></span>

1. <span data-ttu-id="4c98c-107">usuário Olá conecta toohello Proxy de aplicativo do Azure AD serviço ponto de extremidade público no Azure</span><span class="sxs-lookup"><span data-stu-id="4c98c-107">hello user connects toohello Azure AD Application Proxy service public endpoint on Azure</span></span>
2. <span data-ttu-id="4c98c-108">Olá serviço Proxy de aplicativo se conecta toohello conector de Proxy de aplicativo</span><span class="sxs-lookup"><span data-stu-id="4c98c-108">hello Application Proxy service connects toohello Application Proxy connector</span></span>
3. <span data-ttu-id="4c98c-109">conector de Proxy de aplicativo Hello conecta-se o aplicativo de destino toohello</span><span class="sxs-lookup"><span data-stu-id="4c98c-109">hello Application Proxy connector connects toohello target application</span></span>

![Diagrama mostrando o fluxo de tráfego de aplicativo do usuário tootarget](./media/application-proxy-network-topologies/application-proxy-three-hops.png)

## <a name="tenant-location-and-application-proxy-service"></a><span data-ttu-id="4c98c-111">Local do locatário e serviço Proxy de Aplicativo</span><span class="sxs-lookup"><span data-stu-id="4c98c-111">Tenant location and Application Proxy service</span></span>

<span data-ttu-id="4c98c-112">Quando você se inscrever para um locatário Azure AD, região de saudação do seu locatário é determinado pelo país Olá que você especificar.</span><span class="sxs-lookup"><span data-stu-id="4c98c-112">When you sign up for an Azure AD tenant, hello region of your tenant is determined by hello country you specify.</span></span> <span data-ttu-id="4c98c-113">Quando você habilita o Proxy de aplicativo, instâncias de serviço de Proxy de aplicativo hello para seu locatário são escolhidas ou criadas no hello mesmo região do seu locatário do Azure AD ou Olá tooit de região mais próximo.</span><span class="sxs-lookup"><span data-stu-id="4c98c-113">When you enable Application Proxy, hello Application Proxy service instances for your tenant are chosen or created in hello same region as your Azure AD tenant, or hello closest region tooit.</span></span>

<span data-ttu-id="4c98c-114">Por exemplo, se a região do seu locatário AD do Azure é hello (união), todos os conectores de Proxy de aplicativo usam instâncias de serviço em datacenters do Azure no hello da UE.</span><span class="sxs-lookup"><span data-stu-id="4c98c-114">For example, if your Azure AD tenant’s region is hello European Union (EU), all your Application Proxy connectors use service instances in Azure datacenters in hello EU.</span></span> <span data-ttu-id="4c98c-115">Quando seus usuários acesso de aplicativos publicados, o tráfego passa por instâncias de serviço de Proxy de aplicativo hello neste local.</span><span class="sxs-lookup"><span data-stu-id="4c98c-115">When your users access published applications, their traffic goes through hello Application Proxy service instances in this location.</span></span>

## <a name="considerations-for-reducing-latency"></a><span data-ttu-id="4c98c-116">Considerações para redução da latência</span><span class="sxs-lookup"><span data-stu-id="4c98c-116">Considerations for reducing latency</span></span>

<span data-ttu-id="4c98c-117">Todas as soluções de proxy introduzem a latência em sua conexão de rede.</span><span class="sxs-lookup"><span data-stu-id="4c98c-117">All proxy solutions introduce latency into your network connection.</span></span> <span data-ttu-id="4c98c-118">Não importa qual proxy ou solução VPN que desejar como sua solução de acesso remoto, ele sempre inclui um conjunto de servidores, permitindo a saudação conexão tooinside sua rede corporativa.</span><span class="sxs-lookup"><span data-stu-id="4c98c-118">No matter which proxy or VPN solution you choose as your remote access solution, it always includes a set of servers enabling hello connection tooinside your corporate network.</span></span>

<span data-ttu-id="4c98c-119">As organizações geralmente incluem pontos de extremidade do servidor em sua rede de perímetro.</span><span class="sxs-lookup"><span data-stu-id="4c98c-119">Organizations typically include server endpoints in their perimeter network.</span></span> <span data-ttu-id="4c98c-120">Com o Proxy de aplicativo do AD do Azure, no entanto, o tráfego passa pelo serviço de proxy de saudação na nuvem Olá enquanto conectores Olá residem em sua rede corporativa.</span><span class="sxs-lookup"><span data-stu-id="4c98c-120">With Azure AD Application Proxy, however, traffic flows through hello proxy service in hello cloud while hello connectors reside on your corporate network.</span></span> <span data-ttu-id="4c98c-121">Nenhuma rede de perímetro é necessária.</span><span class="sxs-lookup"><span data-stu-id="4c98c-121">No perimeter network is required.</span></span>

<span data-ttu-id="4c98c-122">seções a seguir Olá contêm sugestões adicionais toohelp reduzir ainda mais a latência.</span><span class="sxs-lookup"><span data-stu-id="4c98c-122">hello next sections contain additional suggestions toohelp you reduce latency even further.</span></span> 

### <a name="connector-placement"></a><span data-ttu-id="4c98c-123">Posicionamento do conector</span><span class="sxs-lookup"><span data-stu-id="4c98c-123">Connector placement</span></span>

<span data-ttu-id="4c98c-124">Proxy de aplicativo escolhe local Olá de instâncias para você, com base em seu local de locatário.</span><span class="sxs-lookup"><span data-stu-id="4c98c-124">Application Proxy chooses hello location of instances for you, based on your tenant location.</span></span> <span data-ttu-id="4c98c-125">Porém, você obterá toodecide onde tooinstall conector de hello, fornecendo Olá power toodefine Olá latência de seu tráfego de rede.</span><span class="sxs-lookup"><span data-stu-id="4c98c-125">However, you get toodecide where tooinstall hello connector, giving you hello power toodefine hello latency characteristics of your network traffic.</span></span>

<span data-ttu-id="4c98c-126">Ao configurar o serviço Proxy de aplicativo de saudação, pergunte a saudação perguntas a seguir:</span><span class="sxs-lookup"><span data-stu-id="4c98c-126">When setting up hello Application Proxy service, ask hello following questions:</span></span>

* <span data-ttu-id="4c98c-127">Onde o aplicativo hello está localizado?</span><span class="sxs-lookup"><span data-stu-id="4c98c-127">Where is hello app located?</span></span>
* <span data-ttu-id="4c98c-128">Onde estão a maioria dos usuários que acessam o aplicativo hello localizado?</span><span class="sxs-lookup"><span data-stu-id="4c98c-128">Where are most users who access hello app located?</span></span>
* <span data-ttu-id="4c98c-129">Onde a instância do Proxy de aplicativo hello está localizada?</span><span class="sxs-lookup"><span data-stu-id="4c98c-129">Where is hello Application Proxy instance located?</span></span>
* <span data-ttu-id="4c98c-130">Você já tem uma rede dedicada conexão tooAzure datacenters que configurar como o Azure ExpressRoute ou VPN semelhante?</span><span class="sxs-lookup"><span data-stu-id="4c98c-130">Do you already have a dedicated network connection tooAzure datacenters set up, like Azure ExpressRoute or a similar VPN?</span></span>

<span data-ttu-id="4c98c-131">conector de saudação tem toocommunicate com o Azure e seus aplicativos (etapas 2 e 3 no diagrama de fluxo de tráfego de saudação), portanto Olá posicionamento de latência de saudação do hello conector afeta essas duas conexões.</span><span class="sxs-lookup"><span data-stu-id="4c98c-131">hello connector has toocommunicate with both Azure and your applications (steps 2 and 3 in hello Traffic flow diagram), so hello placement of hello connector affects hello latency of those two connections.</span></span> <span data-ttu-id="4c98c-132">Ao avaliar o posicionamento de saudação do conector hello, lembre-Olá mente pontos a seguir:</span><span class="sxs-lookup"><span data-stu-id="4c98c-132">When evaluating hello placement of hello connector, keep in mind hello following points:</span></span>

* <span data-ttu-id="4c98c-133">Se você quiser toouse restrita de Kerberos (KCD) para o logon único, o conector Olá precisa um data center tooa de linha de visão.</span><span class="sxs-lookup"><span data-stu-id="4c98c-133">If you want toouse Kerberos constrained delegation (KCD) for single sign-on, then hello connector needs a line of sight tooa datacenter.</span></span> <span data-ttu-id="4c98c-134">Além disso, o servidor de conector de saudação precisa toobe integrado ao domínio.</span><span class="sxs-lookup"><span data-stu-id="4c98c-134">Additionally, hello connector server needs toobe domain joined.</span></span>  
* <span data-ttu-id="4c98c-135">Em caso de dúvida, instale o aplicativo de toohello hello conector mais próximo.</span><span class="sxs-lookup"><span data-stu-id="4c98c-135">When in doubt, install hello connector closer toohello application.</span></span>

### <a name="general-approach-toominimize-latency"></a><span data-ttu-id="4c98c-136">Latência de toominimize abordagem geral</span><span class="sxs-lookup"><span data-stu-id="4c98c-136">General approach toominimize latency</span></span>

<span data-ttu-id="4c98c-137">Você pode minimizar a latência de saudação do tráfego de ponta a ponta Olá otimizando a cada conexão de rede.</span><span class="sxs-lookup"><span data-stu-id="4c98c-137">You can minimize hello latency of hello end-to-end traffic by optimizing each network connection.</span></span> <span data-ttu-id="4c98c-138">Cada conexão pode ser otimizada com:</span><span class="sxs-lookup"><span data-stu-id="4c98c-138">Each connection can be optimized by:</span></span>

* <span data-ttu-id="4c98c-139">Reduzindo a distância de saudação entre duas extremidades de saudação do salto hello.</span><span class="sxs-lookup"><span data-stu-id="4c98c-139">Reducing hello distance between hello two ends of hello hop.</span></span>
* <span data-ttu-id="4c98c-140">Escolhendo Olá tootraverse de rede correto.</span><span class="sxs-lookup"><span data-stu-id="4c98c-140">Choosing hello right network tootraverse.</span></span> <span data-ttu-id="4c98c-141">Por exemplo, percorrendo uma rede privada em vez de saudação Internet pública pode ser mais rápida, devido a toodedicated links.</span><span class="sxs-lookup"><span data-stu-id="4c98c-141">For example, traversing a private network rather than hello public Internet may be faster, due toodedicated links.</span></span>

<span data-ttu-id="4c98c-142">Se você tiver um link dedicado de rota expressa ou VPN entre o Azure e sua rede corporativa, convém toouse que.</span><span class="sxs-lookup"><span data-stu-id="4c98c-142">If you have a dedicated VPN or ExpressRoute link between Azure and your corporate network, you may want toouse that.</span></span>

## <a name="focus-your-optimization-strategy"></a><span data-ttu-id="4c98c-143">Concentrar-se em sua estratégia de otimização</span><span class="sxs-lookup"><span data-stu-id="4c98c-143">Focus your optimization strategy</span></span>

<span data-ttu-id="4c98c-144">Não há muito que você pode fazer a conexão de saudação toocontrol entre usuários e Olá serviço Proxy de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="4c98c-144">There's little that you can do toocontrol hello connection between your users and hello Application Proxy service.</span></span> <span data-ttu-id="4c98c-145">Os usuários podem acessar seus aplicativos de uma rede doméstica, de uma cafeteria ou de um país diferente.</span><span class="sxs-lookup"><span data-stu-id="4c98c-145">Users may access your apps from a home network, a coffee shop, or a different country.</span></span> <span data-ttu-id="4c98c-146">Em vez disso, você pode otimizar as conexões de saudação do serviço de Proxy de aplicativo hello toohello Proxy de aplicativo conectores toohello aplicativos.</span><span class="sxs-lookup"><span data-stu-id="4c98c-146">Instead, you can optimize hello connections from hello Application Proxy service toohello Application Proxy connectors toohello apps.</span></span> <span data-ttu-id="4c98c-147">Considere incorporar Olá padrões em seu ambiente a seguir.</span><span class="sxs-lookup"><span data-stu-id="4c98c-147">Consider incorporating hello following patterns in your environment.</span></span>

### <a name="pattern-1-put-hello-connector-close-toohello-application"></a><span data-ttu-id="4c98c-148">Padrão de 1: Put Olá conector toohello fechar aplicativo</span><span class="sxs-lookup"><span data-stu-id="4c98c-148">Pattern 1: Put hello connector close toohello application</span></span>

<span data-ttu-id="4c98c-149">Local Olá conector toohello fechar aplicativo de destino na rede de cliente hello.</span><span class="sxs-lookup"><span data-stu-id="4c98c-149">Place hello connector close toohello target application in hello customer network.</span></span> <span data-ttu-id="4c98c-150">Essa configuração minimiza a etapa 3 no diagrama de topografia hello, como aplicativos e o conector de saudação são fechar.</span><span class="sxs-lookup"><span data-stu-id="4c98c-150">This configuration minimizes step 3 in hello topography diagram, because hello connector and application are close.</span></span> 

<span data-ttu-id="4c98c-151">Se seu conector precisa de um controlador de domínio de toohello de linha de visão, é vantajoso esse padrão.</span><span class="sxs-lookup"><span data-stu-id="4c98c-151">If your connector needs a line of sight toohello domain controller, then this pattern is advantageous.</span></span> <span data-ttu-id="4c98c-152">A maioria de nossos clientes usa esse padrão, porque ele funciona bem para a maioria dos cenários.</span><span class="sxs-lookup"><span data-stu-id="4c98c-152">Most of our customers use this pattern, because it works well for most scenarios.</span></span> <span data-ttu-id="4c98c-153">Esse padrão também pode ser combinado com o tráfego de toooptimize 2 padrão entre o serviço de saudação e conector hello.</span><span class="sxs-lookup"><span data-stu-id="4c98c-153">This pattern can also be combined with pattern 2 toooptimize traffic between hello service and hello connector.</span></span>

### <a name="pattern-2-take-advantage-of-expressroute-with-public-peering"></a><span data-ttu-id="4c98c-154">Padrão 2: Aproveitar o ExpressRoute com o emparelhamento público</span><span class="sxs-lookup"><span data-stu-id="4c98c-154">Pattern 2: Take advantage of ExpressRoute with public peering</span></span>

<span data-ttu-id="4c98c-155">Se você tiver configurado com o emparelhamento público de rota expressa, você pode usar a conexão de rota expressa mais rápido Olá para o tráfego entre o Proxy de aplicativo e o conector de saudação.</span><span class="sxs-lookup"><span data-stu-id="4c98c-155">If you have ExpressRoute set up with public peering, you can use hello faster ExpressRoute connection for traffic between Application Proxy and hello connector.</span></span> <span data-ttu-id="4c98c-156">conector Olá ainda está na sua rede, o aplicativo fechar toohello.</span><span class="sxs-lookup"><span data-stu-id="4c98c-156">hello connector is still on your network, close toohello app.</span></span>

### <a name="pattern-3-take-advantage-of-expressroute-with-private-peering"></a><span data-ttu-id="4c98c-157">Padrão 3: Aproveitar o ExpressRoute com o emparelhamento privado</span><span class="sxs-lookup"><span data-stu-id="4c98c-157">Pattern 3: Take advantage of ExpressRoute with private peering</span></span>

<span data-ttu-id="4c98c-158">Se você tiver uma configuração de VPN ou ExpressRoute dedicada com emparelhamento privado entre o Azure e sua rede corporativa, terá outra opção.</span><span class="sxs-lookup"><span data-stu-id="4c98c-158">If you have a dedicated VPN or ExpressRoute set up with private peering between Azure and your corporate network, you have another option.</span></span> <span data-ttu-id="4c98c-159">Nessa configuração, a rede virtual Olá no Azure geralmente é considerada uma extensão da rede corporativa hello.</span><span class="sxs-lookup"><span data-stu-id="4c98c-159">In this configuration, hello virtual network in Azure is typically considered as an extension of hello corporate network.</span></span> <span data-ttu-id="4c98c-160">Então você pode instalar o conector Olá Olá datacenter do Azure e ainda atender aos requisitos de baixa latência de saudação de conexão do conector para o aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="4c98c-160">So you can install hello connector in hello Azure datacenter, and still satisfy hello low latency requirements of hello connector-to-app connection.</span></span>

<span data-ttu-id="4c98c-161">A latência não é comprometida, pois o tráfego está fluindo por uma conexão dedicada.</span><span class="sxs-lookup"><span data-stu-id="4c98c-161">Latency is not compromised because traffic is flowing over a dedicated connection.</span></span> <span data-ttu-id="4c98c-162">Você também obtém maior latência de conector de serviço de Proxy de aplicativo porque o conector hello está instalado em tooyour de fechar um datacenter do Azure local do locatário do AD do Azure.</span><span class="sxs-lookup"><span data-stu-id="4c98c-162">You also get improved Application Proxy service-to-connector latency because hello connector is installed in an Azure datacenter close tooyour Azure AD tenant location.</span></span>

![Diagrama mostrando o conector instalado em um datacenter do Azure](./media/application-proxy-network-topologies/application-proxy-expressroute-private.png)

### <a name="other-approaches"></a><span data-ttu-id="4c98c-164">Outras abordagens</span><span class="sxs-lookup"><span data-stu-id="4c98c-164">Other approaches</span></span>

<span data-ttu-id="4c98c-165">Embora Olá foco deste artigo é a instalação, você também pode alterar posicionamento Olá características tooget latência melhor aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="4c98c-165">Although hello focus of this article is connector placement, you can also change hello placement of hello application tooget better latency characteristics.</span></span>

<span data-ttu-id="4c98c-166">As organizações estão cada vez mais migrando suas redes para ambientes hospedados.</span><span class="sxs-lookup"><span data-stu-id="4c98c-166">Increasingly, organizations are moving their networks into hosted environments.</span></span> <span data-ttu-id="4c98c-167">Isso permite tooplace seus aplicativos em um ambiente hospedado que também faz parte de sua rede corporativa e ainda estar dentro do domínio de saudação.</span><span class="sxs-lookup"><span data-stu-id="4c98c-167">This enables them tooplace their apps in a hosted environment that is also part of their corporate network, and still be within hello domain.</span></span> <span data-ttu-id="4c98c-168">Nesse caso, padrões Olá abordados Olá anterior seções podem ser aplicado toohello novo aplicativo local.</span><span class="sxs-lookup"><span data-stu-id="4c98c-168">In this case, hello patterns discussed in hello preceding sections can be applied toohello new application location.</span></span> <span data-ttu-id="4c98c-169">Se você estiver considerando essa opção, consulte [Serviços de Domínio do Azure AD](../active-directory-domain-services/active-directory-ds-overview.md).</span><span class="sxs-lookup"><span data-stu-id="4c98c-169">If you're considering this option, see [Azure AD Domain Services](../active-directory-domain-services/active-directory-ds-overview.md).</span></span>

<span data-ttu-id="4c98c-170">Além disso, considere a possibilidade de organizar seus conectores usando [grupos de conector](active-directory-application-proxy-connectors.md) tootarget aplicativos que estão em diferentes locais e redes.</span><span class="sxs-lookup"><span data-stu-id="4c98c-170">Additionally, consider organizing your connectors using [connector groups](active-directory-application-proxy-connectors.md) tootarget apps that are in different locations and networks.</span></span> 

## <a name="common-use-cases"></a><span data-ttu-id="4c98c-171">Casos de uso comuns</span><span class="sxs-lookup"><span data-stu-id="4c98c-171">Common use cases</span></span>

<span data-ttu-id="4c98c-172">Nesta seção, veremos alguns cenários comuns.</span><span class="sxs-lookup"><span data-stu-id="4c98c-172">In this section, we walk through a few common scenarios.</span></span> <span data-ttu-id="4c98c-173">Suponha que Olá locatário do Azure AD (e, portanto, o ponto de extremidade de serviço proxy) está localizado no hello United States (US).</span><span class="sxs-lookup"><span data-stu-id="4c98c-173">Assume that hello Azure AD tenant (and therefore proxy service endpoint) is located in hello United States (US).</span></span> <span data-ttu-id="4c98c-174">Olá considerações discutidas esses casos de uso também se aplicam a regiões tooother mundo hello.</span><span class="sxs-lookup"><span data-stu-id="4c98c-174">hello considerations discussed in these use cases also apply tooother regions around hello globe.</span></span>

<span data-ttu-id="4c98c-175">Nesses cenários, chamamos cada conexão de um "salto" e os numeramos para uma discussão mais fácil:</span><span class="sxs-lookup"><span data-stu-id="4c98c-175">For these scenarios, we call each connection a "hop" and number them for easier discussion:</span></span>

- <span data-ttu-id="4c98c-176">**Saltar 1**: usuário toohello serviço Proxy de aplicativo</span><span class="sxs-lookup"><span data-stu-id="4c98c-176">**Hop 1**: User toohello Application Proxy service</span></span>
- <span data-ttu-id="4c98c-177">**Saltar 2**: conector de Proxy de aplicativo de serviço toohello de Proxy de aplicativo</span><span class="sxs-lookup"><span data-stu-id="4c98c-177">**Hop 2**: Application Proxy service toohello Application Proxy connector</span></span>
- <span data-ttu-id="4c98c-178">**Saltar 3**: aplicativo de destino do Proxy de aplicativo conector toohello</span><span class="sxs-lookup"><span data-stu-id="4c98c-178">**Hop 3**: Application Proxy connector toohello target application</span></span> 

### <a name="use-case-1"></a><span data-ttu-id="4c98c-179">Caso de uso 1</span><span class="sxs-lookup"><span data-stu-id="4c98c-179">Use case 1</span></span>

<span data-ttu-id="4c98c-180">**Cenário:** Olá aplicativo é na rede de uma organização da saudação nós, com usuários em Olá mesma região.</span><span class="sxs-lookup"><span data-stu-id="4c98c-180">**Scenario:** hello app is in an organization's network in hello US, with users in hello same region.</span></span> <span data-ttu-id="4c98c-181">Nenhuma rota expressa ou VPN existe entre hello datacenter do Azure e a rede corporativa hello.</span><span class="sxs-lookup"><span data-stu-id="4c98c-181">No ExpressRoute or VPN exists between hello Azure datacenter and hello corporate network.</span></span>

<span data-ttu-id="4c98c-182">**Recomendação:** siga padrão 1, explicado na seção anterior hello.</span><span class="sxs-lookup"><span data-stu-id="4c98c-182">**Recommendation:** Follow pattern 1, explained in hello previous section.</span></span> <span data-ttu-id="4c98c-183">Para melhorar a latência, considere o uso do ExpressRoute, se necessário.</span><span class="sxs-lookup"><span data-stu-id="4c98c-183">For improved latency, consider using ExpressRoute, if needed.</span></span>

<span data-ttu-id="4c98c-184">Este é um padrão simples.</span><span class="sxs-lookup"><span data-stu-id="4c98c-184">This is a simple pattern.</span></span> <span data-ttu-id="4c98c-185">Otimizar o salto 3 colocando conector Olá próximo aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="4c98c-185">You optimize hop 3 by placing hello connector near hello app.</span></span> <span data-ttu-id="4c98c-186">Isso também é uma opção natural, porque o conector Olá geralmente é instalado com a linha de visão toohello aplicativo e toohello tooperform KCD operações do data center.</span><span class="sxs-lookup"><span data-stu-id="4c98c-186">This is also a natural choice, because hello connector typically is installed with line of sight toohello app and toohello datacenter tooperform KCD operations.</span></span>

![Diagrama mostrando o que os usuários, proxy, conector e aplicativo estão todos em Olá nos](./media/application-proxy-network-topologies/application-proxy-pattern1.png)

### <a name="use-case-2"></a><span data-ttu-id="4c98c-188">Caso de uso 2</span><span class="sxs-lookup"><span data-stu-id="4c98c-188">Use case 2</span></span>

<span data-ttu-id="4c98c-189">**Cenário:** Olá aplicativo é na rede de uma organização da saudação nós, com usuários distribuídos globalmente.</span><span class="sxs-lookup"><span data-stu-id="4c98c-189">**Scenario:** hello app is in an organization's network in hello US, with users spread out globally.</span></span> <span data-ttu-id="4c98c-190">Nenhuma rota expressa ou VPN existe entre hello datacenter do Azure e a rede corporativa hello.</span><span class="sxs-lookup"><span data-stu-id="4c98c-190">No ExpressRoute or VPN exists between hello Azure datacenter and hello corporate network.</span></span>

<span data-ttu-id="4c98c-191">**Recomendação:** siga padrão 1, explicado na seção anterior hello.</span><span class="sxs-lookup"><span data-stu-id="4c98c-191">**Recommendation:** Follow pattern 1, explained in hello previous section.</span></span> 

<span data-ttu-id="4c98c-192">Novamente, o padrão comum de saudação é toooptimize salto 3, onde você coloca o conector Olá próximo aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="4c98c-192">Again, hello common pattern is toooptimize hop 3, where you place hello connector near hello app.</span></span> <span data-ttu-id="4c98c-193">Salto 3 não será normalmente caro, se ele for Olá todos no mesmo região.</span><span class="sxs-lookup"><span data-stu-id="4c98c-193">Hop 3 is not typically expensive, if it is all within hello same region.</span></span> <span data-ttu-id="4c98c-194">No entanto, salto 1 pode ser mais caro, dependendo de onde está o usuário hello, pois os usuários em Olá, mundo devem acessar a instância do Proxy de aplicativo hello em Olá dos EUA.</span><span class="sxs-lookup"><span data-stu-id="4c98c-194">However, hop 1 can be more expensive depending on where hello user is, because users across hello world must access hello Application Proxy instance in hello US.</span></span> <span data-ttu-id="4c98c-195">Vale a pena observar que qualquer solução de proxy tem características semelhantes sobre os usuários que estão sendo distribuídos globalmente.</span><span class="sxs-lookup"><span data-stu-id="4c98c-195">It's worth noting that any proxy solution has similar characteristics regarding users being spread out globally.</span></span>

![Diagrama mostrando que os usuários são distribuídos globalmente, mas o aplicativo, o conector e o proxy de saudação estão em Olá dos EUA](./media/application-proxy-network-topologies/application-proxy-pattern2.png)

### <a name="use-case-3"></a><span data-ttu-id="4c98c-197">Caso de uso 3</span><span class="sxs-lookup"><span data-stu-id="4c98c-197">Use case 3</span></span>

<span data-ttu-id="4c98c-198">**Cenário:** aplicativo hello é na rede de uma organização da saudação nos.</span><span class="sxs-lookup"><span data-stu-id="4c98c-198">**Scenario:** hello app is in an organization's network in hello US.</span></span> <span data-ttu-id="4c98c-199">Rota expressa com emparelhamento público existe entre o Azure e hello rede corporativa.</span><span class="sxs-lookup"><span data-stu-id="4c98c-199">ExpressRoute with public peering exists between Azure and hello corporate network.</span></span>

<span data-ttu-id="4c98c-200">**Recomendação:** siga padrões 1 e 2, como explicado na seção anterior hello.</span><span class="sxs-lookup"><span data-stu-id="4c98c-200">**Recommendation:** Follow patterns 1 and 2, explained in hello previous section.</span></span>

<span data-ttu-id="4c98c-201">Primeiro, coloque o conector hello mais próximo possível toohello aplicativo.</span><span class="sxs-lookup"><span data-stu-id="4c98c-201">First, place hello connector as close as possible toohello app.</span></span> <span data-ttu-id="4c98c-202">Em seguida, Olá usar ExpressRoute de salto 2.</span><span class="sxs-lookup"><span data-stu-id="4c98c-202">Then, hello system automatically uses ExpressRoute for hop 2.</span></span> 

<span data-ttu-id="4c98c-203">Se estiver usando o link de rota expressa Olá emparelhamento público, fluxos de tráfego Olá entre o proxy de saudação e conector Olá nesse link.</span><span class="sxs-lookup"><span data-stu-id="4c98c-203">If hello ExpressRoute link is using public peering, hello traffic between hello proxy and hello connector flows over that link.</span></span> <span data-ttu-id="4c98c-204">O salto 2 tem latência otimizada.</span><span class="sxs-lookup"><span data-stu-id="4c98c-204">Hop 2 has optimized latency.</span></span>

![Diagrama mostrando a rota expressa entre o conector e o proxy Olá](./media/application-proxy-network-topologies/application-proxy-pattern3.png)

### <a name="use-case-4"></a><span data-ttu-id="4c98c-206">Caso de uso 4</span><span class="sxs-lookup"><span data-stu-id="4c98c-206">Use case 4</span></span>

<span data-ttu-id="4c98c-207">**Cenário:** aplicativo hello é na rede de uma organização da saudação nos.</span><span class="sxs-lookup"><span data-stu-id="4c98c-207">**Scenario:** hello app is in an organization's network in hello US.</span></span> <span data-ttu-id="4c98c-208">Rota expressa com emparelhamento privado existe entre o Azure e hello rede corporativa.</span><span class="sxs-lookup"><span data-stu-id="4c98c-208">ExpressRoute with private peering exists between Azure and hello corporate network.</span></span>

<span data-ttu-id="4c98c-209">**Recomendação:** siga padrão 3, explicado na seção anterior hello.</span><span class="sxs-lookup"><span data-stu-id="4c98c-209">**Recommendation:** Follow pattern 3, explained in hello previous section.</span></span>

<span data-ttu-id="4c98c-210">Coloca o conector de saudação em Olá datacenter do Azure que está conectada toohello a rede corporativa por meio de emparelhamento privado da rota expressa.</span><span class="sxs-lookup"><span data-stu-id="4c98c-210">Place hello connector in hello Azure datacenter that is connected toohello corporate network through ExpressRoute private peering.</span></span> 

<span data-ttu-id="4c98c-211">conector de saudação pode ser colocado em Olá datacenter do Azure.</span><span class="sxs-lookup"><span data-stu-id="4c98c-211">hello connector can be placed in hello Azure datacenter.</span></span> <span data-ttu-id="4c98c-212">Como conector Olá ainda tem um aplicativo de toohello de linha de visão e Olá datacenter por meio da rede privada hello, salto 3 permanece otimizado.</span><span class="sxs-lookup"><span data-stu-id="4c98c-212">Since hello connector still has a line of sight toohello application and hello datacenter through hello private network, hop 3 remains optimized.</span></span> <span data-ttu-id="4c98c-213">Além disso, o salto 2 é ainda mais otimizado.</span><span class="sxs-lookup"><span data-stu-id="4c98c-213">In addition, hop 2 is optimized further.</span></span>

![Diagrama mostrando o conector de saudação em um datacenter do Azure e rota expressa entre o aplicativo e o conector Olá](./media/application-proxy-network-topologies/application-proxy-pattern4.png)

### <a name="use-case-5"></a><span data-ttu-id="4c98c-215">Caso de uso 5</span><span class="sxs-lookup"><span data-stu-id="4c98c-215">Use case 5</span></span>

<span data-ttu-id="4c98c-216">**Cenário:** aplicativo hello é na rede de uma organização da saudação da Europa, com a instância do Proxy de aplicativo hello e a maioria dos usuários em Olá nos.</span><span class="sxs-lookup"><span data-stu-id="4c98c-216">**Scenario:** hello app is in an organization's network in hello EU, with hello Application Proxy instance and most users in hello US.</span></span>

<span data-ttu-id="4c98c-217">**Recomendação:** conector de saudação do local próximo aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="4c98c-217">**Recommendation:** Place hello connector near hello app.</span></span> <span data-ttu-id="4c98c-218">Como os usuários dos EUA estão acessando uma instância do Proxy de aplicativo que acontece toobe em Olá mesma região, salto 1 não é muito caro.</span><span class="sxs-lookup"><span data-stu-id="4c98c-218">Because US users are accessing an Application Proxy instance that happens toobe in hello same region, hop 1 is not too expensive.</span></span> <span data-ttu-id="4c98c-219">O salto 3 está otimizado.</span><span class="sxs-lookup"><span data-stu-id="4c98c-219">Hop 3 is optimized.</span></span> <span data-ttu-id="4c98c-220">Considere o uso de rota expressa toooptimize salto 2.</span><span class="sxs-lookup"><span data-stu-id="4c98c-220">Consider using ExpressRoute toooptimize hop 2.</span></span> 

![Diagrama mostrando o usuários e proxy Olá dos EUA, com conector hello e aplicativo hello da Europa](./media/application-proxy-network-topologies/application-proxy-pattern5b.png)

<span data-ttu-id="4c98c-222">Você também pode considerar o uso de uma outra variante nessa situação.</span><span class="sxs-lookup"><span data-stu-id="4c98c-222">You can also consider using one other variant in this situation.</span></span> <span data-ttu-id="4c98c-223">Se a maioria dos usuários na organização Olá estiverem em Olá nós, a probabilidade é que sua rede estende toohello nos também.</span><span class="sxs-lookup"><span data-stu-id="4c98c-223">If most users in hello organization are in hello US, then chances are that your network extends toohello US as well.</span></span> <span data-ttu-id="4c98c-224">Colocar o conector de saudação em Olá dos EUA e use o aplicativo de toohello de linha de rede corporativa interna de hello dedicado no hello da Europa.</span><span class="sxs-lookup"><span data-stu-id="4c98c-224">Place hello connector in hello US, and use hello dedicated internal corporate network line toohello application in hello EU.</span></span> <span data-ttu-id="4c98c-225">Desta forma, os saltos 2 e 3 são otimizados.</span><span class="sxs-lookup"><span data-stu-id="4c98c-225">This way hops 2 and 3 are optimized.</span></span>

![Diagrama mostrando os usuários, o proxy e o conector em Olá dos EUA, o aplicativo hello da Europa](./media/application-proxy-network-topologies/application-proxy-pattern5c.png)

## <a name="next-steps"></a><span data-ttu-id="4c98c-227">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="4c98c-227">Next steps</span></span>

- [<span data-ttu-id="4c98c-228">Habilitar Proxy de aplicativo</span><span class="sxs-lookup"><span data-stu-id="4c98c-228">Enable Application Proxy</span></span>](active-directory-application-proxy-enable.md)
- [<span data-ttu-id="4c98c-229">Habilitar o logon único</span><span class="sxs-lookup"><span data-stu-id="4c98c-229">Enable single-sign on</span></span>](active-directory-application-proxy-sso-using-kcd.md)
- [<span data-ttu-id="4c98c-230">Habilitar o acesso condicional</span><span class="sxs-lookup"><span data-stu-id="4c98c-230">Enable conditional access</span></span>](active-directory-application-proxy-conditional-access.md)
- [<span data-ttu-id="4c98c-231">Solucionar problemas que surgirem com o Proxy de Aplicativo</span><span class="sxs-lookup"><span data-stu-id="4c98c-231">Troubleshoot issues you're having with Application Proxy</span></span>](active-directory-application-proxy-troubleshoot.md)
