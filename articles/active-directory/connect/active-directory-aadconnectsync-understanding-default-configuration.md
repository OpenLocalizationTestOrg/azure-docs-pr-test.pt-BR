---
title: "Sincronização do Azure AD Connect: Compreendendo a configuração padrão da saudação | Microsoft Docs"
description: "Este artigo descreve a configuração padrão de saudação na sincronização do Azure AD Connect."
services: active-directory
documentationcenter: 
author: andkjell
manager: femila
editor: 
ms.assetid: ed876f22-6892-4b9d-acbe-6a2d112f1cd1
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/13/2017
ms.author: billmath
ms.openlocfilehash: 1cf95759af913cad8a1393839d3a836434e7c9bc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-connect-sync-understanding-hello-default-configuration"></a><span data-ttu-id="1ffe1-103">Sincronização do Azure AD Connect: Compreendendo a configuração padrão da saudação</span><span class="sxs-lookup"><span data-stu-id="1ffe1-103">Azure AD Connect sync: Understanding hello default configuration</span></span>
<span data-ttu-id="1ffe1-104">Este artigo explica as regras de configuração fora da caixa de saudação.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-104">This article explains hello out-of-box configuration rules.</span></span> <span data-ttu-id="1ffe1-105">Ele documenta regras hello e como essas regras afetam a configuração de saudação.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-105">It documents hello rules and how these rules impact hello configuration.</span></span> <span data-ttu-id="1ffe1-106">Também lhe orienta pela configuração de padrão de saudação de sincronização do Azure AD Connect. meta de saudação é que o leitor Olá entenda como o modelo de configuração de hello, chamado provisionamento declarativo, está trabalhando em um exemplo do mundo real.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-106">It also walks you through hello default configuration of Azure AD Connect sync. hello goal is that hello reader understands how hello configuration model, named declarative provisioning, is working in a real-world example.</span></span> <span data-ttu-id="1ffe1-107">Este artigo pressupõe que você já instalou e configura a sincronização do Azure AD Connect usando o Assistente de instalação de saudação.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-107">This article assumes that you have already installed and configure Azure AD Connect sync using hello installation wizard.</span></span>

<span data-ttu-id="1ffe1-108">detalhes do toounderstand Olá Olá do modelo de configuração, ler [Noções básicas sobre o provisionamento declarativo](active-directory-aadconnectsync-understanding-declarative-provisioning.md).</span><span class="sxs-lookup"><span data-stu-id="1ffe1-108">toounderstand hello details of hello configuration model, read [Understanding Declarative Provisioning](active-directory-aadconnectsync-understanding-declarative-provisioning.md).</span></span>

## <a name="out-of-box-rules-from-on-premises-tooazure-ad"></a><span data-ttu-id="1ffe1-109">Regras de fora da caixa de tooAzure local AD</span><span class="sxs-lookup"><span data-stu-id="1ffe1-109">Out-of-box rules from on-premises tooAzure AD</span></span>
<span data-ttu-id="1ffe1-110">Olá expressões a seguir podem ser encontradas na configuração do hello fora da caixa.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-110">hello following expressions can be found in hello out-of-box configuration.</span></span>

### <a name="user-out-of-box-rules"></a><span data-ttu-id="1ffe1-111">Regras prontas para uso do usuário</span><span class="sxs-lookup"><span data-stu-id="1ffe1-111">User out-of-box rules</span></span>
<span data-ttu-id="1ffe1-112">Essas regras também se aplicam a tipo de objeto iNetOrgPerson toohello.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-112">These rules also apply toohello iNetOrgPerson object type.</span></span>

<span data-ttu-id="1ffe1-113">Um objeto de usuário deve atender Olá toobe sincronizado a seguir:</span><span class="sxs-lookup"><span data-stu-id="1ffe1-113">A user object must satisfy hello following toobe synchronized:</span></span>

* <span data-ttu-id="1ffe1-114">Deve ter um sourceAnchor.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-114">Must have a sourceAnchor.</span></span>
* <span data-ttu-id="1ffe1-115">Depois de saudação objeto foi criado no AD do Azure e sourceAnchor não é possível alterar.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-115">After hello object has been created in Azure AD, then sourceAnchor cannot change.</span></span> <span data-ttu-id="1ffe1-116">Se o valor de saudação é alterada no local, objeto Olá para sincronizando até que Olá sourceAnchor é alterado valor anterior tooits voltar.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-116">If hello value is changed on-premises, hello object stops synchronizing until hello sourceAnchor is changed back tooits previous value.</span></span>
* <span data-ttu-id="1ffe1-117">Deve ter Olá accountEnabled (userAccountControl) atributo preenchido.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-117">Must have hello accountEnabled (userAccountControl) attribute populated.</span></span> <span data-ttu-id="1ffe1-118">Com um local no Active Directory, esse atributo sempre está presente e preenchido.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-118">With an on-premises Active Directory, this attribute is always present and populated.</span></span>

<span data-ttu-id="1ffe1-119">Olá seguintes objetos de usuário é **não** sincronizados tooAzure AD:</span><span class="sxs-lookup"><span data-stu-id="1ffe1-119">hello following user objects are **not** synchronized tooAzure AD:</span></span>

* <span data-ttu-id="1ffe1-120">`IsPresent([isCriticalSystemObject])`.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-120">`IsPresent([isCriticalSystemObject])`.</span></span> <span data-ttu-id="1ffe1-121">Certifique-se de muitos objetos fora da caixa no Active Directory, como a conta de administrador interno hello, não estão sincronizados.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-121">Ensure many out-of-box objects in Active Directory, such as hello built-in administrator account, are not synchronized.</span></span>
* <span data-ttu-id="1ffe1-122">`IsPresent([sAMAccountName]) = False`.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-122">`IsPresent([sAMAccountName]) = False`.</span></span> <span data-ttu-id="1ffe1-123">Certifique-se de que os objetos de usuário sem o atributo sAMAccountName não estejam sincronizados.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-123">Ensure user objects with no sAMAccountName attribute are not synchronized.</span></span> <span data-ttu-id="1ffe1-124">Esse caso ocorre na prática apenas em um domínio atualizado do NT4.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-124">This case would only practically happen in a domain upgraded from NT4.</span></span>
* <span data-ttu-id="1ffe1-125">`Left([sAMAccountName], 4) = "AAD_"`, `Left([sAMAccountName], 5) = "MSOL_"`.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-125">`Left([sAMAccountName], 4) = "AAD_"`, `Left([sAMAccountName], 5) = "MSOL_"`.</span></span> <span data-ttu-id="1ffe1-126">Não sincronize a conta de serviço de saudação usada pela sincronização do Azure AD Connect e suas versões anteriores.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-126">Do not synchronize hello service account used by Azure AD Connect sync and its earlier versions.</span></span>
* <span data-ttu-id="1ffe1-127">Não sincronize contas do Exchange que não funcionem no Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-127">Do not synchronize Exchange accounts that would not work in Exchange Online.</span></span>
  * `[sAMAccountName] = "SUPPORT_388945a0"`
  * `Left([mailNickname], 14) = "SystemMailbox{"`
  * `(Left([mailNickname], 4) = "CAS_" && (InStr([mailNickname], "}") > 0))`
  * `(Left([sAMAccountName], 4) = "CAS_" && (InStr([sAMAccountName], "}")> 0))`
* <span data-ttu-id="1ffe1-128">Não sincronize objetos que não funcionem no Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-128">Do not synchronize objects that would not work in Exchange Online.</span></span>
  `CBool(IIF(IsPresent([msExchRecipientTypeDetails]),BitAnd([msExchRecipientTypeDetails],&H21C07000) > 0,NULL))`  
  <span data-ttu-id="1ffe1-129">Máscara de bit (& H21C07000) seriam filtrar Olá seguintes objetos:</span><span class="sxs-lookup"><span data-stu-id="1ffe1-129">This bitmask (&H21C07000) would filter out hello following objects:</span></span>
  * <span data-ttu-id="1ffe1-130">Pasta pública habilitada para email</span><span class="sxs-lookup"><span data-stu-id="1ffe1-130">Mail-enabled Public Folder</span></span>
  * <span data-ttu-id="1ffe1-131">Caixa de correio do Atendedor do sistema</span><span class="sxs-lookup"><span data-stu-id="1ffe1-131">System Attendant Mailbox</span></span>
  * <span data-ttu-id="1ffe1-132">Caixa de correio do banco de dados de correio (caixa de correio do sistema)</span><span class="sxs-lookup"><span data-stu-id="1ffe1-132">Mailbox Database Mailbox (System Mailbox)</span></span>
  * <span data-ttu-id="1ffe1-133">Grupo de segurança universal (não se aplica a um usuário, mas está presente por motivos herdados)</span><span class="sxs-lookup"><span data-stu-id="1ffe1-133">Universal Security Group (wouldn't apply for a user, but is present for legacy reasons)</span></span>
  * <span data-ttu-id="1ffe1-134">Grupo não universal (não se aplica a um usuário, mas está presente por motivos herdados)</span><span class="sxs-lookup"><span data-stu-id="1ffe1-134">Non-Universal Group (wouldn't apply for a user, but is present for legacy reasons)</span></span>
  * <span data-ttu-id="1ffe1-135">Plano de caixa de correio</span><span class="sxs-lookup"><span data-stu-id="1ffe1-135">Mailbox Plan</span></span>
  * <span data-ttu-id="1ffe1-136">Caixa de correio de descoberta</span><span class="sxs-lookup"><span data-stu-id="1ffe1-136">Discovery Mailbox</span></span>
* <span data-ttu-id="1ffe1-137">`CBool(InStr(DNComponent(CRef([dn]),1),"\\0ACNF:")>0)`.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-137">`CBool(InStr(DNComponent(CRef([dn]),1),"\\0ACNF:")>0)`.</span></span> <span data-ttu-id="1ffe1-138">Não sincronize nenhum objetos vítima de replicação.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-138">Do not synchronize any replication victim objects.</span></span>

<span data-ttu-id="1ffe1-139">Olá regras de atributos a seguir se aplicam:</span><span class="sxs-lookup"><span data-stu-id="1ffe1-139">hello following attribute rules apply:</span></span>

* <span data-ttu-id="1ffe1-140">`sourceAnchor <- IIF([msExchRecipientTypeDetails]=2,NULL,..)`.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-140">`sourceAnchor <- IIF([msExchRecipientTypeDetails]=2,NULL,..)`.</span></span> <span data-ttu-id="1ffe1-141">atributo sourceAnchor de saudação não vêm de uma caixa de correio vinculada.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-141">hello sourceAnchor attribute is not contributed from a linked mailbox.</span></span> <span data-ttu-id="1ffe1-142">Presume-se que, se uma caixa de correio vinculada foi encontrada, conta real Olá é associada posteriormente.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-142">It is assumed that if a linked mailbox has been found, hello actual account is joined later.</span></span>
* <span data-ttu-id="1ffe1-143">Exchange relacionados os atributos são sincronizados apenas se hello atributo **mailNickName** tem um valor.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-143">Exchange related attributes are only synchronized if hello attribute **mailNickName** has a value.</span></span>
* <span data-ttu-id="1ffe1-144">Quando há várias florestas, atributos são consumidos no hello ordem a seguir:</span><span class="sxs-lookup"><span data-stu-id="1ffe1-144">When there are multiple forests, then attributes are consumed in hello following order:</span></span>
  1. <span data-ttu-id="1ffe1-145">Atributos relacionados na toosign (por exemplo userPrincipalName) são a contribuição da floresta Olá com uma conta ativada.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-145">Attributes related toosign-in (for example userPrincipalName) are contributed from hello forest with an enabled account.</span></span>
  2. <span data-ttu-id="1ffe1-146">Atributos que podem ser encontrados em um GAL (lista de endereços Global) do Exchange são a contribuição da floresta Olá com uma caixa de correio do Exchange.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-146">Attributes that can be found in an Exchange GAL (Global Address List) are contributed from hello forest with an Exchange Mailbox.</span></span>
  3. <span data-ttu-id="1ffe1-147">Se não for possível localizar nenhuma caixa de correio, esses atributos poderão vir de qualquer floresta.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-147">If no mailbox can be found, then these attributes can come from any forest.</span></span>
  4. <span data-ttu-id="1ffe1-148">Exchange relacionados a atributos (atributos técnicos não é visíveis no hello GAL) são a contribuição da floresta Olá onde `mailNickname ISNOTNULL`.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-148">Exchange related attributes (technical attributes not visible in hello GAL) are contributed from hello forest where `mailNickname ISNOTNULL`.</span></span>
  5. <span data-ttu-id="1ffe1-149">Se houver várias florestas que seriam satisfazer uma dessas regras, em seguida, Olá (data/hora) de ordem de criação de conectores hello (florestas) é usado toodetermine qual floresta contribui atributos hello.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-149">If there are multiple forests that would satisfy one of these rules, then hello creation order (date/time) of hello Connectors (forests) is used toodetermine which forest contributes hello attributes.</span></span>

### <a name="contact-out-of-box-rules"></a><span data-ttu-id="1ffe1-150">Regras prontas para uso de contato</span><span class="sxs-lookup"><span data-stu-id="1ffe1-150">Contact out-of-box rules</span></span>
<span data-ttu-id="1ffe1-151">Um objeto de contato deve satisfazer Olá toobe sincronizado a seguir:</span><span class="sxs-lookup"><span data-stu-id="1ffe1-151">A contact object must satisfy hello following toobe synchronized:</span></span>

* <span data-ttu-id="1ffe1-152">Contate o Hello deve estar habilitado para email.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-152">hello contact must be mail-enabled.</span></span> <span data-ttu-id="1ffe1-153">Ela é verificada com hello regras a seguir:</span><span class="sxs-lookup"><span data-stu-id="1ffe1-153">It is verified with hello following rules:</span></span>
  * <span data-ttu-id="1ffe1-154">`IsPresent([proxyAddresses]) = True)`.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-154">`IsPresent([proxyAddresses]) = True)`.</span></span> <span data-ttu-id="1ffe1-155">atributo proxyAddresses de saudação deve ser preenchido.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-155">hello proxyAddresses attribute must be populated.</span></span>
  * <span data-ttu-id="1ffe1-156">Um endereço de email primário pode ser encontrado no atributo proxyAddresses de saudação ou atributo de mensagem de saudação.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-156">A primary email address can be found in either hello proxyAddresses attribute or hello mail attribute.</span></span> <span data-ttu-id="1ffe1-157">Olá a presença de um @ é usado tooverify conteúdo Olá é um endereço de email.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-157">hello presence of an @ is used tooverify that hello content is an email address.</span></span> <span data-ttu-id="1ffe1-158">Uma dessas duas regras deve ser avaliado tooTrue.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-158">One of these two rules must be evaluated tooTrue.</span></span>
    * <span data-ttu-id="1ffe1-159">`(Contains([proxyAddresses], "SMTP:") > 0) && (InStr(Item([proxyAddresses], Contains([proxyAddresses], "SMTP:")), "@") > 0))`.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-159">`(Contains([proxyAddresses], "SMTP:") > 0) && (InStr(Item([proxyAddresses], Contains([proxyAddresses], "SMTP:")), "@") > 0))`.</span></span> <span data-ttu-id="1ffe1-160">Há uma entrada com "SMTP:" e, se houver, pode um @ foi encontrada na cadeia de caracteres hello?</span><span class="sxs-lookup"><span data-stu-id="1ffe1-160">Is there an entry with "SMTP:" and if there is, can an @ be found in hello string?</span></span>
    * <span data-ttu-id="1ffe1-161">`(IsPresent([mail]) = True && (InStr([mail], "@") > 0)`.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-161">`(IsPresent([mail]) = True && (InStr([mail], "@") > 0)`.</span></span> <span data-ttu-id="1ffe1-162">É Olá populado de atributo de email e, se for, pode um @ foi encontrada na cadeia de caracteres hello?</span><span class="sxs-lookup"><span data-stu-id="1ffe1-162">Is hello mail attribute populated and if it is, can an @ be found in hello string?</span></span>

<span data-ttu-id="1ffe1-163">Olá seguintes objetos de contato é **não** sincronizados tooAzure AD:</span><span class="sxs-lookup"><span data-stu-id="1ffe1-163">hello following contact objects are **not** synchronized tooAzure AD:</span></span>

* <span data-ttu-id="1ffe1-164">`IsPresent([isCriticalSystemObject])`.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-164">`IsPresent([isCriticalSystemObject])`.</span></span> <span data-ttu-id="1ffe1-165">Certifique-se de que nenhum objeto de contato marcado como crítico seja sincronizado.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-165">Ensure no contact objects marked as critical are synchronized.</span></span> <span data-ttu-id="1ffe1-166">Não deve ser nenhum com uma configuração padrão.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-166">Shouldn't be any with a default configuration.</span></span>
* <span data-ttu-id="1ffe1-167">`((InStr([displayName], "(MSOL)") > 0) && (CBool([msExchHideFromAddressLists])))`.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-167">`((InStr([displayName], "(MSOL)") > 0) && (CBool([msExchHideFromAddressLists])))`.</span></span>
* <span data-ttu-id="1ffe1-168">`(Left([mailNickname], 4) = "CAS_" && (InStr([mailNickname], "}") > 0))`.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-168">`(Left([mailNickname], 4) = "CAS_" && (InStr([mailNickname], "}") > 0))`.</span></span> <span data-ttu-id="1ffe1-169">Esses objetos não funcionam no Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-169">These objects wouldn't work in Exchange Online.</span></span>
* <span data-ttu-id="1ffe1-170">`CBool(InStr(DNComponent(CRef([dn]),1),"\\0ACNF:")>0)`.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-170">`CBool(InStr(DNComponent(CRef([dn]),1),"\\0ACNF:")>0)`.</span></span> <span data-ttu-id="1ffe1-171">Não sincronize nenhum objetos vítima de replicação.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-171">Do not synchronize any replication victim objects.</span></span>

### <a name="group-out-of-box-rules"></a><span data-ttu-id="1ffe1-172">Grupo prontas para uso de grupo</span><span class="sxs-lookup"><span data-stu-id="1ffe1-172">Group out-of-box rules</span></span>
<span data-ttu-id="1ffe1-173">Um objeto de grupo deve satisfazer Olá toobe sincronizado a seguir:</span><span class="sxs-lookup"><span data-stu-id="1ffe1-173">A group object must satisfy hello following toobe synchronized:</span></span>

* <span data-ttu-id="1ffe1-174">Deve ter menos de 50 mil membros.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-174">Must have less than 50,000 members.</span></span> <span data-ttu-id="1ffe1-175">Essa contagem é o número de saudação de membros no grupo local de saudação.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-175">This count is hello number of members in hello on-premises group.</span></span>
  * <span data-ttu-id="1ffe1-176">Se ela tiver mais membros antes do início da sincronização Olá primeira vez, o grupo de saudação não está sincronizado.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-176">If it has more members before synchronization starts hello first time, hello group is not synchronized.</span></span>
  * <span data-ttu-id="1ffe1-177">Se o número Olá de membros aumentam de quando ele foi inicialmente criado, em seguida, quando chega a 50.000 membros, que ele será interrompido até que a contagem de associação de saudação é menor que 50.000 novamente a sincronização.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-177">If hello number of members grow from when it was initially created, then when it reaches 50,000 members it stops synchronizing until hello membership count is lower than 50,000 again.</span></span>
  * <span data-ttu-id="1ffe1-178">Observação: a contagem de associação 50.000 Olá também é imposta pelo AD do Azure.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-178">Note: hello 50,000 membership count is also enforced by Azure AD.</span></span> <span data-ttu-id="1ffe1-179">Você não é toosynchronize capaz de grupos com mais membros do mesmo se você modifica ou remove essa regra.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-179">You are not able toosynchronize groups with more members even if you modify or remove this rule.</span></span>
* <span data-ttu-id="1ffe1-180">Se o grupo de saudação for um **grupo de distribuição**, em seguida, ele também deve ser habilitado para email.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-180">If hello group is a **Distribution Group**, then it must also be mail enabled.</span></span> <span data-ttu-id="1ffe1-181">Consulte [Regras prontas para uso de contato](#contact-out-of-box-rules) para ver como essa regra é aplicada.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-181">See [Contact out-of-box rules](#contact-out-of-box-rules) for this rule is enforced.</span></span>

<span data-ttu-id="1ffe1-182">Olá seguintes objetos de grupo é **não** sincronizados tooAzure AD:</span><span class="sxs-lookup"><span data-stu-id="1ffe1-182">hello following group objects are **not** synchronized tooAzure AD:</span></span>

* <span data-ttu-id="1ffe1-183">`IsPresent([isCriticalSystemObject])`.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-183">`IsPresent([isCriticalSystemObject])`.</span></span> <span data-ttu-id="1ffe1-184">Certifique-se de muitos objetos fora da caixa no Active Directory, como o grupo de administradores internos hello, não estão sincronizados.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-184">Ensure many out-of-box objects in Active Directory, such as hello built-in administrators group, are not synchronized.</span></span>
* <span data-ttu-id="1ffe1-185">`[sAMAccountName] = "MSOL_AD_Sync_RichCoexistence"`.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-185">`[sAMAccountName] = "MSOL_AD_Sync_RichCoexistence"`.</span></span> <span data-ttu-id="1ffe1-186">Grupo herdado usado pelo DirSync.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-186">Legacy group used by DirSync.</span></span>
* <span data-ttu-id="1ffe1-187">`BitAnd([msExchRecipientTypeDetails],&amp;H40000000)`.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-187">`BitAnd([msExchRecipientTypeDetails],&amp;H40000000)`.</span></span> <span data-ttu-id="1ffe1-188">Grupo de funções.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-188">Role Group.</span></span>
* <span data-ttu-id="1ffe1-189">`CBool(InStr(DNComponent(CRef([dn]),1),"\\0ACNF:")>0)`.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-189">`CBool(InStr(DNComponent(CRef([dn]),1),"\\0ACNF:")>0)`.</span></span> <span data-ttu-id="1ffe1-190">Não sincronize nenhum objetos vítima de replicação.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-190">Do not synchronize any replication victim objects.</span></span>

### <a name="foreignsecurityprincipal-out-of-box-rules"></a><span data-ttu-id="1ffe1-191">Regras prontas para uso de ForeignSecurityPrincipal</span><span class="sxs-lookup"><span data-stu-id="1ffe1-191">ForeignSecurityPrincipal out-of-box rules</span></span>
<span data-ttu-id="1ffe1-192">FSPs são unidas muito "qualquer" (\*) objeto no metaverso hello.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-192">FSPs are joined too"any" (\*) object in hello metaverse.</span></span> <span data-ttu-id="1ffe1-193">Na verdade, essa junção ocorre apenas para usuários e grupos de segurança.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-193">In reality, this join only happens for users and security groups.</span></span> <span data-ttu-id="1ffe1-194">Essa configuração garante que as associações entre florestas sejam resolvidas e representadas corretamente no Azure AD.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-194">This configuration ensures that cross-forest memberships are resolved and represented correctly in Azure AD.</span></span>

### <a name="computer-out-of-box-rules"></a><span data-ttu-id="1ffe1-195">Regras prontas para uso de computador</span><span class="sxs-lookup"><span data-stu-id="1ffe1-195">Computer out-of-box rules</span></span>
<span data-ttu-id="1ffe1-196">Um objeto de computador deve atender Olá toobe sincronizado a seguir:</span><span class="sxs-lookup"><span data-stu-id="1ffe1-196">A computer object must satisfy hello following toobe synchronized:</span></span>

* <span data-ttu-id="1ffe1-197">`userCertificate ISNOTNULL`.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-197">`userCertificate ISNOTNULL`.</span></span> <span data-ttu-id="1ffe1-198">Somente os computadores Windows 10 populam esse atributo.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-198">Only Windows 10 computers populate this attribute.</span></span> <span data-ttu-id="1ffe1-199">Todos os objetos de computador com um valor nesse atributo serão sincronizados.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-199">All computer objects with a value in this attribute are synchronized.</span></span>

## <a name="understanding-hello-out-of-box-rules-scenario"></a><span data-ttu-id="1ffe1-200">Noções básicas sobre o cenário de regras prontas de saudação</span><span class="sxs-lookup"><span data-stu-id="1ffe1-200">Understanding hello out-of-box rules scenario</span></span>
<span data-ttu-id="1ffe1-201">Neste exemplo, estamos usando uma implantação com uma floresta de contas (A), uma floresta de recursos (R) e um diretório do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-201">In this example, we are using a deployment with one account forest (A), one resource forest (R), and one Azure AD directory.</span></span>

![Imagem com a descrição do cenário](./media/active-directory-aadconnectsync-understanding-default-configuration/scenario.png)

<span data-ttu-id="1ffe1-203">Nessa configuração, presume-se que houver uma conta ativada na floresta de conta hello e uma conta desativada na floresta de recursos de saudação com uma caixa de correio vinculada.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-203">In this configuration, it is assumed there is an enabled account in hello account forest and a disabled account in hello resource forest with a linked mailbox.</span></span>

<span data-ttu-id="1ffe1-204">Nosso objetivo com a configuração padrão de saudação é:</span><span class="sxs-lookup"><span data-stu-id="1ffe1-204">Our goal with hello default configuration is:</span></span>

* <span data-ttu-id="1ffe1-205">Atributos relacionados na toosign serão sincronizados com a floresta de saudação com conta Olá habilitado.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-205">Attributes related toosign-in are synchronized from hello forest with hello enabled account.</span></span>
* <span data-ttu-id="1ffe1-206">Atributos que podem ser encontrados no hello GAL (lista de endereços Global) são sincronizados de floresta Olá com caixa de correio hello.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-206">Attributes that can be found in hello GAL (Global Address List) are synchronized from hello forest with hello mailbox.</span></span> <span data-ttu-id="1ffe1-207">Se nenhuma caixa de correio for encontrada, nenhuma outra floresta será usada.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-207">If no mailbox can be found, any other forest is used.</span></span>
* <span data-ttu-id="1ffe1-208">Se uma caixa de correio vinculada for encontrada, hello conta habilitada vinculada deve ser encontrada para Olá objeto toobe exportado tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-208">If a linked mailbox is found, hello linked enabled account must be found for hello object toobe exported tooAzure AD.</span></span>

### <a name="synchronization-rule-editor"></a><span data-ttu-id="1ffe1-209">Editor de Regra de Sincronização</span><span class="sxs-lookup"><span data-stu-id="1ffe1-209">Synchronization Rule Editor</span></span>
<span data-ttu-id="1ffe1-210">configuração Olá pode ser exibida e alterada com a ferramenta de saudação Editor de regras de sincronização (SRE) e pode ser encontrado tooit um atalho no menu de início de saudação.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-210">hello configuration can be viewed and changed with hello tool Synchronization Rules Editor (SRE) and a shortcut tooit can be found in hello start menu.</span></span>

![Ícone do Editor de Regras de Sincronização](./media/active-directory-aadconnectsync-understanding-default-configuration/sre.png)

<span data-ttu-id="1ffe1-212">Olá SRE é uma ferramenta do kit de recursos e é instalado com a sincronização do Azure AD Connect. toostart capaz de toobe-lo, você deve ser um membro do grupo ADSyncAdmins de saudação.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-212">hello SRE is a resource kit tool and it is installed with Azure AD Connect sync. toobe able toostart it, you must be a member of hello ADSyncAdmins group.</span></span> <span data-ttu-id="1ffe1-213">Quando ele é iniciado, você vê algo assim:</span><span class="sxs-lookup"><span data-stu-id="1ffe1-213">When it starts, you see something like this:</span></span>

![Regras de Sincronização Entrada](./media/active-directory-aadconnectsync-understanding-default-configuration/syncrulesinbound.png)

<span data-ttu-id="1ffe1-215">Nesse painel, você vê todas as regras de sincronização criadas para sua configuração.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-215">In this pane, you see all Synchronization Rules created for your configuration.</span></span> <span data-ttu-id="1ffe1-216">Cada linha na tabela de saudação é uma regra de sincronização.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-216">Each line in hello table is one Synchronization Rule.</span></span> <span data-ttu-id="1ffe1-217">toohello à esquerda em tipos de regra, Olá dois tipos diferentes estão listados: entrada e saída.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-217">toohello left under Rule Types, hello two different types are listed: Inbound and Outbound.</span></span> <span data-ttu-id="1ffe1-218">Entrada e saída é da exibição de saudação do metaverso hello.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-218">Inbound and Outbound is from hello view of hello metaverse.</span></span> <span data-ttu-id="1ffe1-219">São principalmente contínuo toofocus em Olá regras nesta visão geral de entrada.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-219">You are mainly going toofocus on hello inbound rules in this overview.</span></span> <span data-ttu-id="1ffe1-220">lista real de saudação de regras de sincronização depende do esquema Olá detectado no AD.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-220">hello actual list of Synchronization Rules depends on hello detected schema in AD.</span></span> <span data-ttu-id="1ffe1-221">Imagem de saudação acima, conta de saudação floresta (fabrikamonline.com) não tem todos os serviços, como o Exchange e Lync e não há regras de sincronização ter sido criada para esses serviços.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-221">In hello picture above, hello account forest (fabrikamonline.com) does not have any services, such as Exchange and Lync, and no Synchronization Rules have been created for these services.</span></span> <span data-ttu-id="1ffe1-222">No entanto, na floresta de recursos da saudação (res.fabrikamonline.com) encontrar regras de sincronização para esses serviços.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-222">However, in hello resource forest (res.fabrikamonline.com) you find Synchronization Rules for these services.</span></span> <span data-ttu-id="1ffe1-223">Olá conteúdo regras Olá é diferente dependendo da versão de hello detectada.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-223">hello content of hello rules is different depending on hello version detected.</span></span> <span data-ttu-id="1ffe1-224">Por exemplo, em uma implantação com o Exchange 2013, há mais fluxos de atributo configurados do que no Exchange 2010/2007.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-224">For example, in a deployment with Exchange 2013 there are more attribute flows configured than in Exchange 2010/2007.</span></span>

### <a name="synchronization-rule"></a><span data-ttu-id="1ffe1-225">Regra de Sincronização</span><span class="sxs-lookup"><span data-stu-id="1ffe1-225">Synchronization Rule</span></span>
<span data-ttu-id="1ffe1-226">Uma regra de sincronização é um objeto de configuração com um conjunto de atributos que fluem quando uma condição é atendida.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-226">A Synchronization Rule is a configuration object with a set of attributes flowing when a condition is satisfied.</span></span> <span data-ttu-id="1ffe1-227">Também é usado toodescribe como um objeto em um espaço do conector é objeto tooan relacionados no metaverso hello, conhecido como **junção** ou **corresponder**.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-227">It is also used toodescribe how an object in a connector space is related tooan object in hello metaverse, known as **join** or **match**.</span></span> <span data-ttu-id="1ffe1-228">Regras de sincronização Olá ter um valor de precedência como elas se relacionam tooeach outros.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-228">hello Synchronization Rules have a precedence value indicating how they relate tooeach other.</span></span> <span data-ttu-id="1ffe1-229">Uma regra de sincronização com um valor numérico mais baixo tem precedência maior e em um conflito de fluxo de atributo, wins de maior precedência Olá resolução de conflitos.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-229">A Synchronization Rule with a lower numeric value has a higher precedence and in an attribute flow conflict, higher precedence wins hello conflict resolution.</span></span>

<span data-ttu-id="1ffe1-230">Por exemplo, examinar Olá regra de sincronização **no AD – usuário AccountEnabled**.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-230">As an example, look at hello Synchronization Rule **In from AD – User AccountEnabled**.</span></span> <span data-ttu-id="1ffe1-231">Marcar esta linha hello SRE e selecione **editar**.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-231">Mark this line in hello SRE and select **Edit**.</span></span>

<span data-ttu-id="1ffe1-232">Desde que esta regra é uma regra de caixa de saída, você receberá um aviso quando você abre a regra de saudação.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-232">Since this rule is an out-of-box rule, you receive a warning when you open hello rule.</span></span> <span data-ttu-id="1ffe1-233">Você não deve fazer qualquer [altera as regras de caixa de tooout](active-directory-aadconnectsync-best-practices-changing-default-configuration.md), portanto, você será solicitado a quais são suas intenções.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-233">You should not make any [changes tooout-of-box rules](active-directory-aadconnectsync-best-practices-changing-default-configuration.md), so you are asked what your intentions are.</span></span> <span data-ttu-id="1ffe1-234">Nesse caso, você deseja apenas tooview regra de saudação.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-234">In this case, you only want tooview hello rule.</span></span> <span data-ttu-id="1ffe1-235">Selecione **Não**.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-235">Select **No**.</span></span>

![Aviso de Regras de Sincronização](./media/active-directory-aadconnectsync-understanding-default-configuration/warningeditrule.png)

<span data-ttu-id="1ffe1-237">Uma Regra de Sincronização tem quatro seções de configuração: descrição, filtro de escopo, regras de associação e transformações.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-237">A Synchronization Rule has four configuration sections: Description, Scoping filter, Join rules, and Transformations.</span></span>

#### <a name="description"></a><span data-ttu-id="1ffe1-238">Descrição</span><span class="sxs-lookup"><span data-stu-id="1ffe1-238">Description</span></span>
<span data-ttu-id="1ffe1-239">primeira seção do Hello fornece informações básicas, como um nome e uma descrição.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-239">hello first section provides basic information such as a name and description.</span></span>

![<span data-ttu-id="1ffe1-240">Guia Descrição no Editor de regras de sincronização</span><span class="sxs-lookup"><span data-stu-id="1ffe1-240">Description tab in Sync rule editor</span></span> ](./media/active-directory-aadconnectsync-understanding-default-configuration/syncruledescription.png)

<span data-ttu-id="1ffe1-241">Você também encontrar informações sobre qual sistema conectado essa regra está relacionada, que tipo de saudação do objeto conectado system aplica-se a e Olá o tipo de objeto do metaverso.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-241">You also find information about which connected system this rule is related to, which object type in hello connected system it applies to, and hello metaverse object type.</span></span> <span data-ttu-id="1ffe1-242">tipo de objeto do metaverso Olá é sempre pessoa, independente de quando o tipo de objeto de fonte de saudação é um usuário, iNetOrgPerson ou contato.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-242">hello metaverse object type is always person regardless when hello source object type is a user, iNetOrgPerson, or contact.</span></span> <span data-ttu-id="1ffe1-243">tipo de objeto do metaverso Olá nunca deve alterar para que ele é criado como um tipo genérico.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-243">hello metaverse object type should never change so it is created as a generic type.</span></span> <span data-ttu-id="1ffe1-244">saudação de tipo de Link pode ser definida tooJoin, StickyJoin ou provisão.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-244">hello Link Type can be set tooJoin, StickyJoin, or Provision.</span></span> <span data-ttu-id="1ffe1-245">Essa configuração funciona junto com a seção de regras de união hello e é abordada posteriormente.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-245">This setting works together with hello Join Rules section and is covered later.</span></span>

<span data-ttu-id="1ffe1-246">Você também pode ver que essa regra de sincronização é usada para a sincronização de senha. Se um usuário estiver no escopo para essa regra de sincronização, senha Olá é sincronizada entre locais toocloud (supondo que você habilitou o recurso de sincronização de senha Olá).</span><span class="sxs-lookup"><span data-stu-id="1ffe1-246">You can also see that this sync rule is used for password sync. If a user is in scope for this sync rule, hello password is synchronized from on-premises toocloud (assuming you have enabled hello password sync feature).</span></span>

#### <a name="scoping-filter"></a><span data-ttu-id="1ffe1-247">Filtro de escopo</span><span class="sxs-lookup"><span data-stu-id="1ffe1-247">Scoping filter</span></span>
<span data-ttu-id="1ffe1-248">Olá seção filtro de escopo é tooconfigure usado quando uma regra de sincronização deve ser aplicada.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-248">hello Scoping Filter section is used tooconfigure when a Synchronization Rule should apply.</span></span> <span data-ttu-id="1ffe1-249">Como o nome de saudação do hello regra de sincronização que você está observando indica que deve ser aplicada apenas para usuários habilitados, o escopo de saudação é configurado caso atributo de saudação AD **userAccountControl** deve não ter Olá conjunto de bits de 2.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-249">Since hello name of hello Synchronization Rule you are looking at indicates it should only be applied for enabled users, hello scope is configured so hello AD attribute **userAccountControl** must not have hello bit 2 set.</span></span> <span data-ttu-id="1ffe1-250">Quando o mecanismo de sincronização de saudação localiza um usuário no AD, ele se aplica a esta sincronização regra quando **userAccountControl** é definir o valor decimal de toohello 512 (usuário normal ativado).</span><span class="sxs-lookup"><span data-stu-id="1ffe1-250">When hello sync engine finds a user in AD, it applies this sync rule when **userAccountControl** is set toohello decimal value 512 (enabled normal user).</span></span> <span data-ttu-id="1ffe1-251">Regra de saudação não é aplicável quando o usuário Olá tem **userAccountControl** definir too514 (usuário normal desativado).</span><span class="sxs-lookup"><span data-stu-id="1ffe1-251">It does not apply hello rule when hello user has **userAccountControl** set too514 (disabled normal user).</span></span>

![<span data-ttu-id="1ffe1-252">Guia Escopo no Editor de regras de sincronização</span><span class="sxs-lookup"><span data-stu-id="1ffe1-252">Scoping tab in Sync rule editor</span></span> ](./media/active-directory-aadconnectsync-understanding-default-configuration/syncrulescopingfilter.png)

<span data-ttu-id="1ffe1-253">filtro de escopo de saudação possui grupos e cláusulas que podem ser aninhadas.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-253">hello scoping filter has Groups and Clauses that can be nested.</span></span> <span data-ttu-id="1ffe1-254">Todas as cláusulas dentro de um grupo devem ser satisfeitas para uma regra de sincronização tooapply.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-254">All clauses inside a group must be satisfied for a Synchronization Rule tooapply.</span></span> <span data-ttu-id="1ffe1-255">Quando vários grupos são definidos, pelo menos um grupo deve ser atendido para Olá regra tooapply.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-255">When multiple groups are defined, then at least one group must be satisfied for hello rule tooapply.</span></span> <span data-ttu-id="1ffe1-256">Ou seja, um OR lógico é avaliado entre grupos e um AND lógico é avaliado dentro de um grupo.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-256">That is, a logical OR is evaluated between groups and a logical AND is evaluated inside a group.</span></span> <span data-ttu-id="1ffe1-257">Um exemplo dessa configuração pode ser encontrado no hello regra de sincronização de saída **Out tooAAD – Group Join**.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-257">An example of this configuration can be found in hello outbound Synchronization Rule **Out tooAAD – Group Join**.</span></span> <span data-ttu-id="1ffe1-258">Há vários grupos de filtro de sincronização, por exemplo, um para grupos de segurança (`securityEnabled EQUAL True`) e outro para grupos de distribuição (`securityEnabled EQUAL False`).</span><span class="sxs-lookup"><span data-stu-id="1ffe1-258">There are several synchronization filter groups, for example one for security groups (`securityEnabled EQUAL True`) and one for distribution groups (`securityEnabled EQUAL False`).</span></span>

![<span data-ttu-id="1ffe1-259">Guia Escopo no Editor de regras de sincronização</span><span class="sxs-lookup"><span data-stu-id="1ffe1-259">Scoping tab in Sync rule editor</span></span> ](./media/active-directory-aadconnectsync-understanding-default-configuration/syncrulescopingfilterout.png)

<span data-ttu-id="1ffe1-260">Essa regra é usada toodefine quais grupos devem ser provisionado tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-260">This rule is used toodefine which Groups should be provisioned tooAzure AD.</span></span> <span data-ttu-id="1ffe1-261">Grupos de distribuição devem ser habilitado para email toobe sincronizado com o AD do Azure, mas um email para grupos de segurança não é necessário.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-261">Distribution Groups must be mail enabled toobe synchronized with Azure AD, but for security groups an email is not required.</span></span>

#### <a name="join-rules"></a><span data-ttu-id="1ffe1-262">Regras de associação</span><span class="sxs-lookup"><span data-stu-id="1ffe1-262">Join rules</span></span>
<span data-ttu-id="1ffe1-263">seção terceira Olá é tooconfigure usada como objetos no espaço do conector Olá se relacionam tooobjects no metaverso hello.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-263">hello third section is used tooconfigure how objects in hello connector space relate tooobjects in hello metaverse.</span></span> <span data-ttu-id="1ffe1-264">Olá regra que procuramos anteriormente não tem qualquer configuração de regras de união, portanto em vez disso, você está indo toolook em **no AD – usuário Join**.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-264">hello rule you have looked at earlier does not have any configuration for Join Rules, so instead you are going toolook at **In from AD – User Join**.</span></span>

![<span data-ttu-id="1ffe1-265">Guia Regras de junção no Editor de regras de sincronização</span><span class="sxs-lookup"><span data-stu-id="1ffe1-265">Join rules tab in Sync rule editor</span></span> ](./media/active-directory-aadconnectsync-understanding-default-configuration/syncrulejoinrules.png)

<span data-ttu-id="1ffe1-266">conteúdo de saudação da regra de associação Olá depende Olá correspondência opção selecionada no Assistente de instalação de saudação.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-266">hello content of hello join rule depends on hello matching option selected in hello installation wizard.</span></span> <span data-ttu-id="1ffe1-267">Para uma regra de entrada, avaliação Olá inicia com um objeto no espaço do conector de origem hello e cada grupo de regras de junção Olá é avaliado em sequência.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-267">For an inbound rule, hello evaluation starts with an object in hello source connector space and each group in hello join rules is evaluated in sequence.</span></span> <span data-ttu-id="1ffe1-268">Se um objeto de origem é avaliado toomatch exatamente um objeto em Olá metaverso usando uma das regras de junção hello, objetos de saudação são Unidos.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-268">If a source object is evaluated toomatch exactly one object in hello metaverse using one of hello join rules, hello objects are joined.</span></span> <span data-ttu-id="1ffe1-269">Se todas as regras foram avaliadas e não há nenhuma correspondência, Olá tipo de Link na página de descrição de saudação é usado.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-269">If all rules have been evaluated and there is no match, then hello Link Type on hello description page is used.</span></span> <span data-ttu-id="1ffe1-270">Se essa configuração for definida muito**provisionar**, em seguida, um novo objeto é criado no destino hello, Olá metaverso.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-270">If this configuration is set too**Provision**, then a new object is created in hello target, hello metaverse.</span></span> <span data-ttu-id="1ffe1-271">tooprovision um novo metaverso de toohello de objeto também é conhecido como muito**projeto** metaverso de toohello um objeto.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-271">tooprovision a new object toohello metaverse is also known as too**project** an object toohello metaverse.</span></span>

<span data-ttu-id="1ffe1-272">regras de união Olá são avaliadas somente uma vez.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-272">hello join rules are only evaluated once.</span></span> <span data-ttu-id="1ffe1-273">Quando um objeto de espaço do conector e um objeto do metaverso são Unidos, eles permanecem Unidos como escopo Olá Olá regra de sincronização for atendido.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-273">When a connector space object and a metaverse object are joined, they remain joined as long as hello scope of hello Synchronization Rule is still satisfied.</span></span>

<span data-ttu-id="1ffe1-274">Ao serem avaliadas Regras de Sincronização, apenas uma Regra de Sincronização com as regras de associação definidas deve estar no escopo.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-274">When evaluating Synchronization Rules, only one Synchronization Rule with join rules defined must be in scope.</span></span> <span data-ttu-id="1ffe1-275">Se forem encontradas várias Regras de Sincronização com regras de associação para um objeto, um erro será gerado.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-275">If multiple Synchronization Rules with join rules are found for one object, an error is thrown.</span></span> <span data-ttu-id="1ffe1-276">Por esse motivo, a prática recomendada de saudação é toohave somente uma regra de sincronização com junção definida quando várias regras de sincronização estão no escopo de um objeto.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-276">For this reason, hello best practice is toohave only one Synchronization Rule with join defined when multiple Synchronization Rules are in scope for an object.</span></span> <span data-ttu-id="1ffe1-277">Na configuração de fora da caixa de saudação para sincronização do Azure AD Connect, essas regras podem ser encontrados examinando o nome de saudação e encontrá-las com a palavra hello **ingressar** final de saudação do nome de saudação.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-277">In hello out-of-box configuration for Azure AD Connect sync, these rules can be found by looking at hello name and find those with hello word **Join** at hello end of hello name.</span></span> <span data-ttu-id="1ffe1-278">Uma regra de sincronização sem nenhuma regra de associação definida se aplica a fluxos de atributo hello quando outra regra de sincronização unidas objetos hello ou provisionou um novo objeto no destino hello.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-278">A Synchronization Rule without any join rules defined applies hello attribute flows when another Synchronization Rule joined hello objects together or provisioned a new object in hello target.</span></span>

<span data-ttu-id="1ffe1-279">Se você observar a imagem de saudação acima, você pode ver a regra hello está tentando toojoin **objectSID** com **msExchMasterAccountSid** (Exchange) e **msRTCSIP OriginatorSid** ( Lync), que é o esperado em uma topologia de floresta de conta-recurso.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-279">If you look at hello picture above, you can see that hello rule is trying toojoin **objectSID** with **msExchMasterAccountSid** (Exchange) and **msRTCSIP-OriginatorSid** (Lync), which is what we expect in an account-resource forest topology.</span></span> <span data-ttu-id="1ffe1-280">Localize Olá mesma regra em todas as florestas.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-280">You find hello same rule on all forests.</span></span> <span data-ttu-id="1ffe1-281">Olá pressupõe-se que cada floresta pode ser uma conta ou um recurso de floresta.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-281">hello assumption is that every forest could be either an account or resource forest.</span></span> <span data-ttu-id="1ffe1-282">Essa configuração também funcionará se você tiver contas que residem em uma única floresta e não tem toobe associado.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-282">This configuration also works if you have accounts that live in a single forest and do not have toobe joined.</span></span>

#### <a name="transformations"></a><span data-ttu-id="1ffe1-283">Transformações</span><span class="sxs-lookup"><span data-stu-id="1ffe1-283">Transformations</span></span>
<span data-ttu-id="1ffe1-284">Olá seção sobre transformação define todos os fluxos de atributos que se aplicam a objeto de destino toohello quando objetos de saudação são Unidos e filtro de escopo de saudação for atendido.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-284">hello transformation section defines all attribute flows that apply toohello target object when hello objects are joined and hello scope filter is satisfied.</span></span> <span data-ttu-id="1ffe1-285">Voltando toohello **no AD – usuário AccountEnabled** regra de sincronização, você encontrar hello transformações a seguir:</span><span class="sxs-lookup"><span data-stu-id="1ffe1-285">Going back toohello **In from AD – User AccountEnabled** Synchronization Rule, you find hello following transformations:</span></span>

![<span data-ttu-id="1ffe1-286">Guia Transformações no Editor de regras de sincronização</span><span class="sxs-lookup"><span data-stu-id="1ffe1-286">Transformations tab in Sync rule editor</span></span> ](./media/active-directory-aadconnectsync-understanding-default-configuration/syncruletransformations.png)

<span data-ttu-id="1ffe1-287">tooput essa configuração no contexto em uma implantação de floresta de conta-recurso, é esperado toofind uma conta ativada na floresta de conta hello e uma conta desabilitada no recurso Olá floresta com as configurações do Exchange e Lync.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-287">tooput this configuration in context, in an Account-Resource forest deployment, it is expected toofind an enabled account in hello account forest and a disabled account in hello resource forest with Exchange and Lync settings.</span></span> <span data-ttu-id="1ffe1-288">Olá regra de sincronização que você está observando contém atributos de saudação necessários para entrar e esses atributos devem fluir de floresta Olá onde há uma conta habilitada.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-288">hello Synchronization Rule you are looking at contains hello attributes required for sign-in and these attributes should flow from hello forest where there is an enabled account.</span></span> <span data-ttu-id="1ffe1-289">Todos esses fluxos de atributo são colocados juntos em uma Regra de Sincronização.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-289">All these attribute flows are put together in one Synchronization Rule.</span></span>

<span data-ttu-id="1ffe1-290">Uma transformação pode ter diferentes tipos: constante, direta e expressão.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-290">A transformation can have different types: Constant, Direct, and Expression.</span></span>

* <span data-ttu-id="1ffe1-291">Um fluxo constante sempre flui um valor codificado.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-291">A constant flow always flows a hardcoded value.</span></span> <span data-ttu-id="1ffe1-292">No caso de Olá acima, ele sempre define o valor de saudação **True** no atributo do metaverso Olá chamado **accountEnabled**.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-292">In hello case above, it always sets hello value **True** in hello metaverse attribute named **accountEnabled**.</span></span>
* <span data-ttu-id="1ffe1-293">Um fluxo direto sempre fluxos de valor de saudação do atributo de saudação no atributo de destino do hello origem toohello como-é.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-293">A direct flow always flows hello value of hello attribute in hello source toohello target attribute as-is.</span></span>
* <span data-ttu-id="1ffe1-294">tipo de fluxo Olá terceiro é a expressão e permite configurações mais avançadas.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-294">hello third flow type is Expression and it allows for more advanced configurations.</span></span>

<span data-ttu-id="1ffe1-295">linguagem de expressão Olá é VBA (Visual Basic for Applications), portanto as pessoas com experiência em Microsoft Office ou VBScript reconhecerão o formato de saudação.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-295">hello expression language is VBA (Visual Basic for Applications), so people with experience of Microsoft Office or VBScript will recognize hello format.</span></span> <span data-ttu-id="1ffe1-296">Os atributos são colocados entre colchetes, [attributeName].</span><span class="sxs-lookup"><span data-stu-id="1ffe1-296">Attributes are enclosed in square brackets, [attributeName].</span></span> <span data-ttu-id="1ffe1-297">Nomes de função e nomes de atributo diferenciam maiusculas de minúsculas, mas hello Editor de regras de sincronização avalia as expressões de saudação e fornecerá um aviso se a expressão de saudação não é válida.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-297">Attribute names and function names are case-sensitive, but hello Synchronization Rules Editor evaluates hello expressions and provide a warning if hello expression is not valid.</span></span> <span data-ttu-id="1ffe1-298">Todas as expressões são expressas em uma única linha com funções aninhadas.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-298">All expressions are expressed on a single line with nested functions.</span></span> <span data-ttu-id="1ffe1-299">alimentação de saudação tooshow da linguagem de configuração Olá, aqui é Olá fluxo para pwdLastSet, mas com comentários adicionais inseridos:</span><span class="sxs-lookup"><span data-stu-id="1ffe1-299">tooshow hello power of hello configuration language, here is hello flow for pwdLastSet, but with additional comments inserted:</span></span>

```
// If-then-else
IIF(
// (hello evaluation for IIF) Is hello attribute pwdLastSet present in AD?
IsPresent([pwdLastSet]),
// (hello True part of IIF) If it is, then from right tooleft, convert hello AD time format tooa .Net datetime, change it toohello time format used by Azure AD, and finally convert it tooa string.
CStr(FormatDateTime(DateFromNum([pwdLastSet]),"yyyyMMddHHmmss.0Z")),
// (hello False part of IIF) Nothing toocontribute
NULL
)
```

<span data-ttu-id="1ffe1-300">Consulte [Noções básicas sobre expressões de provisionamento declarativo](active-directory-aadconnectsync-understanding-declarative-provisioning-expressions.md) para obter mais informações sobre a linguagem de expressão Olá para fluxos de atributo.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-300">See [Understanding Declarative Provisioning Expressions](active-directory-aadconnectsync-understanding-declarative-provisioning-expressions.md) for more information on hello expression language for attribute flows.</span></span>

### <a name="precedence"></a><span data-ttu-id="1ffe1-301">Precedência</span><span class="sxs-lookup"><span data-stu-id="1ffe1-301">Precedence</span></span>
<span data-ttu-id="1ffe1-302">Você vimos agora algumas regras de sincronização individuais, mas as regras de saudação trabalham juntas na configuração de saudação.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-302">You have now looked at some individual Synchronization Rules, but hello rules work together in hello configuration.</span></span> <span data-ttu-id="1ffe1-303">Em alguns casos, um valor de atributo vêm de várias toohello de regras de sincronização mesmo atributo de destino.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-303">In some cases, an attribute value is contributed from multiple synchronization rules toohello same target attribute.</span></span> <span data-ttu-id="1ffe1-304">Nesse caso, a precedência de atributo é usado toodetermine qual atributo wins.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-304">In this case, attribute precedence is used toodetermine which attribute wins.</span></span> <span data-ttu-id="1ffe1-305">Por exemplo, examine Olá atributo sourceAnchor.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-305">As an example, look at hello attribute sourceAnchor.</span></span> <span data-ttu-id="1ffe1-306">Esse atributo é um toosign possível do atributo importante toobe em tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-306">This attribute is an important attribute toobe able toosign in tooAzure AD.</span></span> <span data-ttu-id="1ffe1-307">Você pode encontrar um fluxo de atributo para esse atributo em duas diferentes regras de sincronização, **Entrada do AD – usuário AccountEnabled** e **Entrada do AD – usuário comum**.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-307">You can find an attribute flow for this attribute in two different Synchronization Rules, **In from AD – User AccountEnabled** and **In from AD – User Common**.</span></span> <span data-ttu-id="1ffe1-308">Devido a precedência de regra tooSynchronization, atributo de sourceAnchor Olá vêm de floresta Olá com uma conta ativada primeiro quando há vários objetos Unidos toohello metaverso object.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-308">Due tooSynchronization Rule precedence, hello sourceAnchor attribute is contributed from hello forest with an enabled account first when there are several objects joined toohello metaverse object.</span></span> <span data-ttu-id="1ffe1-309">Se não há contas habilitado, usos de mecanismo de sincronização Olá Olá regra de sincronização de capturar todos **no AD – usuário Common**.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-309">If there are no enabled accounts, then hello sync engine uses hello catch-all Synchronization Rule **In from AD – User Common**.</span></span> <span data-ttu-id="1ffe1-310">Essa configuração garante que, até mesmo para contas desabilitadas, ainda haja um sourceAnchor.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-310">This configuration ensures that even for accounts that are disabled, there is still a sourceAnchor.</span></span>

![Regras de Sincronização Entrada](./media/active-directory-aadconnectsync-understanding-default-configuration/syncrulesinbound.png)

<span data-ttu-id="1ffe1-312">precedência de saudação para regras de sincronização é definida em grupos pelo Assistente de instalação de saudação.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-312">hello precedence for Synchronization Rules is set in groups by hello installation wizard.</span></span> <span data-ttu-id="1ffe1-313">Saudação de ter todas as regras em um grupo de mesmo nome, mas eles são diretórios conectados toodifferent conectado.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-313">All rules in a group have hello same name, but they are connected toodifferent connected directories.</span></span> <span data-ttu-id="1ffe1-314">Assistente de instalação Olá fornece regra Olá **no AD – usuário Join** precedência mais alta e ele itera todos os diretórios conectados do AD.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-314">hello installation wizard gives hello rule **In from AD – User Join** highest precedence and it iterates over all connected AD directories.</span></span> <span data-ttu-id="1ffe1-315">Ele continuará com grupos de Avançar Olá de regras em uma ordem predefinida.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-315">It then continues with hello next groups of rules in a predefined order.</span></span> <span data-ttu-id="1ffe1-316">Dentro de um grupo, são adicionadas regras Olá Olá Olá de ordem que conectores foram adicionados no Assistente de saudação.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-316">Inside a group, hello rules are added in hello order hello Connectors were added in hello wizard.</span></span> <span data-ttu-id="1ffe1-317">Se outro conector for adicionado por meio do Assistente de saudação, Olá regras de sincronização serão reordenadas e regras do hello novo conector são inseridas por último em cada grupo.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-317">If another Connector is added through hello wizard, hello Synchronization Rules are reordered and hello new Connector’s rules are inserted last in each group.</span></span>

### <a name="putting-it-all-together"></a><span data-ttu-id="1ffe1-318">Juntando as peças</span><span class="sxs-lookup"><span data-stu-id="1ffe1-318">Putting it all together</span></span>
<span data-ttu-id="1ffe1-319">Já sabemos o suficiente sobre regras de sincronização toobe capaz de toounderstand, como configuração Olá funciona com hello diferentes regras de sincronização.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-319">We now know enough about Synchronization Rules toobe able toounderstand how hello configuration works with hello different Synchronization Rules.</span></span> <span data-ttu-id="1ffe1-320">Se você observar um usuário e Olá atributos que são contribuíram toohello metaverso, Olá regras são aplicadas na ordem de saudação:</span><span class="sxs-lookup"><span data-stu-id="1ffe1-320">If you look at a user and hello attributes that are contributed toohello metaverse, hello rules are applied in hello following order:</span></span>

| <span data-ttu-id="1ffe1-321">Nome</span><span class="sxs-lookup"><span data-stu-id="1ffe1-321">Name</span></span> | <span data-ttu-id="1ffe1-322">Comentário</span><span class="sxs-lookup"><span data-stu-id="1ffe1-322">Comment</span></span> |
|:--- |:--- |
| <span data-ttu-id="1ffe1-323">Entrada do AD – Associação de Usuário</span><span class="sxs-lookup"><span data-stu-id="1ffe1-323">In from AD – User Join</span></span> |<span data-ttu-id="1ffe1-324">Regra para associar objetos de espaço conector com metaverso.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-324">Rule for joining connector space objects with metaverse.</span></span> |
| <span data-ttu-id="1ffe1-325">Entrada do AD – UserAccount habilitada</span><span class="sxs-lookup"><span data-stu-id="1ffe1-325">In from AD – UserAccount Enabled</span></span> |<span data-ttu-id="1ffe1-326">Atributos necessários para entrar tooAzure AD e Office 365.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-326">Attributes required for sign-in tooAzure AD and Office 365.</span></span> <span data-ttu-id="1ffe1-327">Queremos estes atributos da conta de saudação habilitada.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-327">We want these attributes from hello enabled account.</span></span> |
| <span data-ttu-id="1ffe1-328">Entrada do AD – usuário comum do Exchange</span><span class="sxs-lookup"><span data-stu-id="1ffe1-328">In from AD – User Common from Exchange</span></span> |<span data-ttu-id="1ffe1-329">Atributos encontrados na lista de endereços Global de saudação.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-329">Attributes found in hello Global Address List.</span></span> <span data-ttu-id="1ffe1-330">Vamos supor que Olá qualidade dos dados é melhor na floresta Olá onde encontramos a caixa de correio do usuário hello.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-330">We assume hello data quality is best in hello forest where we have found hello user’s mailbox.</span></span> |
| <span data-ttu-id="1ffe1-331">Entrada do AD – usuário comum</span><span class="sxs-lookup"><span data-stu-id="1ffe1-331">In from AD – User Common</span></span> |<span data-ttu-id="1ffe1-332">Atributos encontrados na lista de endereços Global de saudação.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-332">Attributes found in hello Global Address List.</span></span> <span data-ttu-id="1ffe1-333">No caso de não encontrarmos uma caixa de correio, qualquer outro objeto Unido pode contribuir valor do atributo hello.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-333">In case we didn’t find a mailbox, any other joined object can contribute hello attribute value.</span></span> |
| <span data-ttu-id="1ffe1-334">Entrada do AD – usuário do Exchange</span><span class="sxs-lookup"><span data-stu-id="1ffe1-334">In from AD – User Exchange</span></span> |<span data-ttu-id="1ffe1-335">Existe somente se o Exchange foi detectado.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-335">Only exists if Exchange has been detected.</span></span> <span data-ttu-id="1ffe1-336">Flui todos os atributos do Exchange de infraestrutura.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-336">It flows all infrastructure Exchange attributes.</span></span> |
| <span data-ttu-id="1ffe1-337">Entrada do AD – usuário Lync</span><span class="sxs-lookup"><span data-stu-id="1ffe1-337">In from AD – User Lync</span></span> |<span data-ttu-id="1ffe1-338">Existe somente se o Lync foi detectado.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-338">Only exists if Lync has been detected.</span></span> <span data-ttu-id="1ffe1-339">Flui todos os atributos do Lync de infraestrutura.</span><span class="sxs-lookup"><span data-stu-id="1ffe1-339">It flows all infrastructure Lync attributes.</span></span> |

## <a name="next-steps"></a><span data-ttu-id="1ffe1-340">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="1ffe1-340">Next steps</span></span>
* <span data-ttu-id="1ffe1-341">Leia mais sobre o modelo de configuração de saudação em [Noções básicas sobre o provisionamento declarativo](active-directory-aadconnectsync-understanding-declarative-provisioning.md).</span><span class="sxs-lookup"><span data-stu-id="1ffe1-341">Read more about hello configuration model in [Understanding Declarative Provisioning](active-directory-aadconnectsync-understanding-declarative-provisioning.md).</span></span>
* <span data-ttu-id="1ffe1-342">Leia mais sobre a linguagem de expressão Olá em [Noções básicas sobre expressões de provisionamento declarativo](active-directory-aadconnectsync-understanding-declarative-provisioning-expressions.md).</span><span class="sxs-lookup"><span data-stu-id="1ffe1-342">Read more about hello expression language in [Understanding Declarative Provisioning Expressions](active-directory-aadconnectsync-understanding-declarative-provisioning-expressions.md).</span></span>
* <span data-ttu-id="1ffe1-343">Continuar a ler como configuração de out-of-box Olá funciona no [Noções básicas sobre usuários e contatos](active-directory-aadconnectsync-understanding-users-and-contacts.md)</span><span class="sxs-lookup"><span data-stu-id="1ffe1-343">Continue reading how hello out-of-box configuration works in [Understanding Users and Contacts](active-directory-aadconnectsync-understanding-users-and-contacts.md)</span></span>
* <span data-ttu-id="1ffe1-344">Veja como toomake um práticos alterados usando provisionamento declarativo em [como toomake toohello uma alteração de configuração padrão](active-directory-aadconnectsync-change-the-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="1ffe1-344">See how toomake a practical change using declarative provisioning in [How toomake a change toohello default configuration](active-directory-aadconnectsync-change-the-configuration.md).</span></span>

<span data-ttu-id="1ffe1-345">**Tópicos de visão geral**</span><span class="sxs-lookup"><span data-stu-id="1ffe1-345">**Overview topics**</span></span>

* [<span data-ttu-id="1ffe1-346">Sincronização do Azure AD Connect: compreender e personalizar a sincronização</span><span class="sxs-lookup"><span data-stu-id="1ffe1-346">Azure AD Connect sync: Understand and customize synchronization</span></span>](active-directory-aadconnectsync-whatis.md)
* [<span data-ttu-id="1ffe1-347">Integração de suas identidades locais com o Active Directory do Azure</span><span class="sxs-lookup"><span data-stu-id="1ffe1-347">Integrating your on-premises identities with Azure Active Directory</span></span>](active-directory-aadconnect.md)

