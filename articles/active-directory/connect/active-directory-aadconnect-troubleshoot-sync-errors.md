---
title: "Azure AD Connect: solucionando erros durante a sincronização | Microsoft Docs"
description: "Explica como solucionar problemas de erros encontrados durante a sincronização com o Azure AD Connect."
services: active-directory
documentationcenter: 
author: karavar
manager: samueld
editor: curtand
ms.assetid: 2209d5ce-0a64-447b-be3a-6f06d47995f8
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/17/2017
ms.author: billmath
ms.openlocfilehash: 5a319de69c4e142414ab8f2be980a6576acbf8bb
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/03/2017
---
# <a name="troubleshooting-errors-during-synchronization"></a><span data-ttu-id="cf3d5-103">Solucionando erros durante a sincronização</span><span class="sxs-lookup"><span data-stu-id="cf3d5-103">Troubleshooting Errors during synchronization</span></span>
<span data-ttu-id="cf3d5-104">Podem ocorrer erros quando os dados de identidade são sincronizados do AD DS (Active Directory do Windows Server) para o Azure AD (Azure Active Directory).</span><span class="sxs-lookup"><span data-stu-id="cf3d5-104">Errors could occur when identity data is synchronized from Windows Server Active Directory (AD DS) to Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="cf3d5-105">Este artigo fornece uma visão geral dos diferentes tipos de erros de sincronização, alguns dos possíveis cenários que causam esses erros e possíveis maneiras de corrigi-los.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-105">This article provides an overview of different types of sync errors, some of the possible scenarios that cause those errors and potential ways to fix the errors.</span></span> <span data-ttu-id="cf3d5-106">Este artigo inclui os tipos de erro comuns e talvez não abranja todos os erros possíveis.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-106">This article includes the common error types and may not cover all the possible errors.</span></span>

 <span data-ttu-id="cf3d5-107">Este artigo pressupõe que o leitor esteja familiarizado com os [conceitos de criação do Azure AD e Azure AD Connect](active-directory-aadconnect-design-concepts.md) subjacentes.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-107">This article assumes the reader is familiar with the underlying [design concepts of Azure AD and Azure AD Connect](active-directory-aadconnect-design-concepts.md).</span></span>

<span data-ttu-id="cf3d5-108">Com a versão mais recente do Azure AD Connect de \(agosto de 2016 ou superior\), um relatório de erros de sincronização está disponível na [Portal do Azure](https://aka.ms/aadconnecthealth) como parte do Azure AD Connect Health para sincronização.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-108">With the latest version of Azure AD Connect \(August 2016 or higher\), a report of Synchronization Errors is available in the [Azure Portal](https://aka.ms/aadconnecthealth) as part of Azure AD Connect Health for sync.</span></span>

<span data-ttu-id="cf3d5-109">A partir de 1º de setembro de 2016, o recurso [Duplicar a Resiliência do Atributo do Azure Active Directory](active-directory-aadconnectsyncservice-duplicate-attribute-resiliency.md) estará habilitado por padrão para todos os *novos* locatários do Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-109">Starting September 1, 2016 [Azure Active Directory Duplicate Attribute Resiliency](active-directory-aadconnectsyncservice-duplicate-attribute-resiliency.md) feature will be enabled by default for all the *new* Azure Active Directory Tenants.</span></span> <span data-ttu-id="cf3d5-110">Este recurso será habilitado automaticamente para locatários existentes nos próximos meses.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-110">This feature will be automatically enabled for existing tenants in the upcoming months.</span></span>

<span data-ttu-id="cf3d5-111">Azure AD Connect realiza 3 tipos de operações dos diretórios que mantém em sincronia: Importação, Sincronização e Exportação.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-111">Azure AD Connect performs 3 types of operations from the directories it keeps in sync: Import, Synchronization and Export.</span></span> <span data-ttu-id="cf3d5-112">Erros podem ocorrer em todas as operações.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-112">Errors can take place in all the operations.</span></span> <span data-ttu-id="cf3d5-113">Este artigo se concentra principalmente em erros durante a Exportação para o Azure AD.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-113">This article mainly focuses on errors during Export to Azure AD.</span></span>

## <a name="errors-during-export-to-azure-ad"></a><span data-ttu-id="cf3d5-114">Erros durante a Exportação para o Azure AD</span><span class="sxs-lookup"><span data-stu-id="cf3d5-114">Errors during Export to Azure AD</span></span>
<span data-ttu-id="cf3d5-115">A seção seguinte descreve os diferentes tipos de erros de sincronização que podem ocorrer durante a operação de exportação para o Azure AD usando o conector do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-115">Following section describes different types of synchronization errors that can occur during the export operation to Azure AD using the Azure AD connector.</span></span> <span data-ttu-id="cf3d5-116">Esse conector pode ser identificado pelo formato de nome, que é "contoso.*onmicrosoft.com*".</span><span class="sxs-lookup"><span data-stu-id="cf3d5-116">This connector can be identified by the name format being "contoso.*onmicrosoft.com*".</span></span>
<span data-ttu-id="cf3d5-117">Erros durante a exportação para o Azure AD indicam que a operação \(adicionar, atualizar, excluir, etc.\) tentada pelo \(Mecanismo de Sincronização\) do Azure AD Connect no Azure Active Directory falhou.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-117">Errors during Export to Azure AD indicate that the operation \(add, update, delete etc.\) attempted by Azure AD Connect \(Sync Engine\) on Azure Active Directory failed.</span></span>

![Visão geral de Erros de Exportação](./media/active-directory-aadconnect-troubleshoot-sync-errors/Export_Errors_Overview_01.png)

## <a name="data-mismatch-errors"></a><span data-ttu-id="cf3d5-119">Erros de Incompatibilidade de Dados</span><span class="sxs-lookup"><span data-stu-id="cf3d5-119">Data Mismatch Errors</span></span>
### <a name="invalidsoftmatch"></a><span data-ttu-id="cf3d5-120">InvalidSoftMatch</span><span class="sxs-lookup"><span data-stu-id="cf3d5-120">InvalidSoftMatch</span></span>
#### <a name="description"></a><span data-ttu-id="cf3d5-121">Descrição</span><span class="sxs-lookup"><span data-stu-id="cf3d5-121">Description</span></span>
* <span data-ttu-id="cf3d5-122">Quando o \(mecanismo de sincronização\) do Azure AD Connect instrui o Azure Active Directory a adicionar ou atualizar objetos, o Azure AD faz a correspondência do objeto de entrada, usando o atributo **sourceAnchor**, ao atributo **immutableId** de objetos no Azure AD.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-122">When Azure AD Connect \(sync engine\) instructs Azure Active Directory to add or update objects, Azure AD matches the incoming object using the **sourceAnchor** attribute to the **immutableId** attribute of objects in Azure AD.</span></span> <span data-ttu-id="cf3d5-123">Essa correspondência é chamada de **Correspondência Rígida**.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-123">This match is called a **Hard Match**.</span></span>
* <span data-ttu-id="cf3d5-124">Quando o Azure AD **não encontra** nenhum objeto em que o atributo **immutableId** corresponda ao atributo **sourceAnchor** do objeto de entrada, antes de provisionar um novo objeto, ele volta para usar os atributos ProxyAddresses e UserPrincipalName na tentativa de encontrar uma correspondência.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-124">When Azure AD **does not find** any object that matches the **immutableId** attribute with the **sourceAnchor** attribute of the incoming object, before provisioning a new object, it falls back to use the ProxyAddresses and UserPrincipalName attributes to find a match.</span></span> <span data-ttu-id="cf3d5-125">Essa correspondência é chamada de **Correspondência Flexível**.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-125">This match is called a **Soft Match**.</span></span> <span data-ttu-id="cf3d5-126">A Correspondência Flexível foi projetada para corresponder objetos já presentes no Azure AD (que são originados no Azure AD) com os novos objetos que estão sendo adicionados/atualizados durante a sincronização e que representam a mesma entidade (usuários, grupos) local.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-126">The Soft Match is designed to match objects already present in Azure AD (that are sourced in Azure AD) with the new objects being added/updated during synchronization that represent the same entity (users, groups) on premises.</span></span>
* <span data-ttu-id="cf3d5-127">O erro **InvalidSoftMatch** ocorre quando a correspondência rígida não encontra nenhum objeto correspondente **E** a correspondência flexível localiza um objeto correspondente, mas esse objeto tem um valor de *immutableId* diferente daquele no atributo *SourceAnchor* do objeto de entrada, sugerindo que o objeto correspondente foi sincronizado com outro objeto do Active Directory local.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-127">**InvalidSoftMatch** error occurs when the hard match does not find any matching object **AND** soft match finds a matching object but that object has a different value of *immutableId* than the incoming object's *SourceAnchor*, suggesting that the matching object was synchronized with another object from on premises Active Directory.</span></span>

<span data-ttu-id="cf3d5-128">Em outras palavras, para a correspondência flexível trabalhar, o objeto com o qual a correspondência flexível deve ser realizada não deve ter nenhum valor para o atributo *immutableId*.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-128">In other words, in order for the soft match to work, the object to be soft-matched with should not have any value for the *immutableId*.</span></span> <span data-ttu-id="cf3d5-129">Se qualquer objeto com *immutableId* definido com um valor estiver falhando na correspondência rígida mas satisfazendo os critérios de correspondência flexível, a operação resultará em um erro de sincronização de InvalidSoftMatch.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-129">If any object with *immutableId* set with a value is failing the hard-match but satisfying the soft-match criteria, the operation would result in an InvalidSoftMatch synchronization error.</span></span>

<span data-ttu-id="cf3d5-130">O esquema do Azure Active Directory não permite que dois ou mais objetos tenham o mesmo valor para os atributos a seguir.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-130">Azure Active Directory schema does not allow two or more objects to have the same value of the following attributes.</span></span> <span data-ttu-id="cf3d5-131">\(Esta não é uma lista completa.\)</span><span class="sxs-lookup"><span data-stu-id="cf3d5-131">\(This is not an exhaustive list.\)</span></span>

* <span data-ttu-id="cf3d5-132">ProxyAddresses</span><span class="sxs-lookup"><span data-stu-id="cf3d5-132">ProxyAddresses</span></span>
* <span data-ttu-id="cf3d5-133">UserPrincipalName</span><span class="sxs-lookup"><span data-stu-id="cf3d5-133">UserPrincipalName</span></span>
* <span data-ttu-id="cf3d5-134">onPremisesSecurityIdentifier</span><span class="sxs-lookup"><span data-stu-id="cf3d5-134">onPremisesSecurityIdentifier</span></span>
* <span data-ttu-id="cf3d5-135">ObjectId</span><span class="sxs-lookup"><span data-stu-id="cf3d5-135">ObjectId</span></span>

> [!NOTE]
> <span data-ttu-id="cf3d5-136">O recurso [Duplicar a Resiliência do Atributo do Azure AD](active-directory-aadconnectsyncservice-duplicate-attribute-resiliency.md) também está sendo distribuído como o comportamento padrão do Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-136">[Azure AD Attribute Duplicate Attribute Resiliency](active-directory-aadconnectsyncservice-duplicate-attribute-resiliency.md) feature is also being rolled out as the default behavior of Azure Active Directory.</span></span>  <span data-ttu-id="cf3d5-137">Isso reduzirá o número de erros de sincronização vistos pelo Azure AD Connect (assim como outros clientes de sincronização), tornando o Azure AD mais resiliente quanto à maneira que ele manipula atributos ProxyAddresses e UserPrincipalName duplicados presentes em ambientes do AD local.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-137">This will reduce the number of synchronization errors seen by Azure AD Connect (as well as other sync clients) by making Azure AD more resilient in the way it handles duplicated ProxyAddresses and UserPrincipalName attributes present in on premises AD environments.</span></span> <span data-ttu-id="cf3d5-138">Este recurso não corrige os erros de duplicação.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-138">This feature does not fix the duplication errors.</span></span> <span data-ttu-id="cf3d5-139">Assim, os dados ainda precisam ser corrigidos.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-139">So the data still needs to be fixed.</span></span> <span data-ttu-id="cf3d5-140">No entanto, ele permite o provisionamento de novos objetos cujo provisionamento, caso contrário, fica bloqueado devido a valores duplicados no Azure AD.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-140">But it allows provisioning of new objects which are otherwise blocked from being provisioned due to duplicated values in Azure AD.</span></span> <span data-ttu-id="cf3d5-141">Isso também reduzirá o número de erros de sincronização retornados ao cliente de sincronização.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-141">This will also reduce the number of synchronization errors returned to the synchronization client.</span></span>
> <span data-ttu-id="cf3d5-142">Se esse recurso estiver habilitado para seu locatário, você não verá os erros de sincronização InvalidSoftMatch vistos durante o provisionamento de novos objetos.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-142">If this feature is enabled for your Tenant, you will not see the InvalidSoftMatch synchronization errors seen during provisioning of new objects.</span></span>
>
>

#### <a name="example-scenarios-for-invalidsoftmatch"></a><span data-ttu-id="cf3d5-143">Cenários de Exemplo para InvalidSoftMatch</span><span class="sxs-lookup"><span data-stu-id="cf3d5-143">Example Scenarios for InvalidSoftMatch</span></span>
1. <span data-ttu-id="cf3d5-144">Dois ou mais objetos com o mesmo valor do atributo ProxyAddresses existem no Active Directory local.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-144">Two or more objects with the same value of ProxyAddresses attribute exists in on premises Active Directory.</span></span> <span data-ttu-id="cf3d5-145">Somente um deles está sendo provisionado no Azure AD.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-145">Only one is getting provisioned in Azure AD.</span></span>
2. <span data-ttu-id="cf3d5-146">Dois ou mais objetos com o mesmo valor de userPrincipalName existem no Active Directory local.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-146">Two or more objects with the same value of userPrincipalName exists in on premises Active Directory.</span></span> <span data-ttu-id="cf3d5-147">Somente um deles está sendo provisionado no Azure AD.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-147">Only one is getting provisioned in Azure AD.</span></span>
3. <span data-ttu-id="cf3d5-148">Um objeto foi adicionado no Active Directory local com o mesmo valor do atributo ProxyAddresses encontrado em um objeto existente no Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-148">An object was added in the on premises Active Directory with the same value of ProxyAddresses attribute as that of an existing object in Azure Active Directory.</span></span> <span data-ttu-id="cf3d5-149">O objeto adicionado localmente não está sendo provisionado no Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-149">The object added on premises is not getting provisioned in Azure Active Directory.</span></span>
4. <span data-ttu-id="cf3d5-150">Um objeto foi adicionado no Active Directory local com o mesmo valor do atributo userPrincipalName encontrado em uma conta no Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-150">An object was added in on premises Active Directory with the same value of userPrincipalName attribute as that of an account in Azure Active Directory.</span></span> <span data-ttu-id="cf3d5-151">O objeto não está sendo provisionado no Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-151">The object is not getting provisioned in Azure Active Directory.</span></span>
5. <span data-ttu-id="cf3d5-152">Uma conta sincronizada foi movida da Floresta A para a Floresta B. O Azure AD Connect (mecanismo de sincronização) estava usando o atributo ObjectGUID para calcular o SourceAnchor.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-152">A synced account was moved from Forest A to Forest B. Azure AD Connect (sync engine) was using ObjectGUID attribute to compute the SourceAnchor.</span></span> <span data-ttu-id="cf3d5-153">Após a mudança de floresta, o valor de SourceAnchor é diferente.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-153">After the forest move, the value of the SourceAnchor is different.</span></span> <span data-ttu-id="cf3d5-154">O novo objeto (da floresta B) está falhando em sincronizar com o objeto existente no Azure AD.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-154">The new object (from Forest B) is failing to sync with the existing object in Azure AD.</span></span>
6. <span data-ttu-id="cf3d5-155">Um objeto sincronizado foi excluído acidentalmente do Active Directory local e um novo objeto foi criado no Active Directory para a mesma entidade (por exemplo, um usuário) sem excluir a conta no Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-155">A synced object got accidentally deleted from on premises Active Directory and a new object was created in Active Directory for the same entity (such as user) without deleting the account in Azure Active Directory.</span></span> <span data-ttu-id="cf3d5-156">A nova conta falha em sincronizar com o objeto existente do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-156">The new account fails to sync with the existing Azure AD object.</span></span>
7. <span data-ttu-id="cf3d5-157">O Azure AD Connect foi desinstalado e reinstalado.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-157">Azure AD Connect was uninstalled and re-installed.</span></span> <span data-ttu-id="cf3d5-158">Durante a reinstalação, um atributo diferente foi escolhido como o SourceAnchor.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-158">During the re-installation, a different attribute was chosen as the SourceAnchor.</span></span> <span data-ttu-id="cf3d5-159">Todos os objetos que tinham sido sincronizados anteriormente interromperam a sincronização com o erro InvalidSoftMatch.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-159">All the objects that had previously synced stopped syncing with InvalidSoftMatch error.</span></span>

#### <a name="example-case"></a><span data-ttu-id="cf3d5-160">Caso de exemplo:</span><span class="sxs-lookup"><span data-stu-id="cf3d5-160">Example case:</span></span>
1. <span data-ttu-id="cf3d5-161">**Bob Smith** é um usuário sincronizado no Azure Active Directory do Active Directory local de *contoso.com*</span><span class="sxs-lookup"><span data-stu-id="cf3d5-161">**Bob Smith** is a synced user in Azure Active Directory from on premises Active Directory of *contoso.com*</span></span>
2. <span data-ttu-id="cf3d5-162">O **UserPrincipalName** de Bob Smith está definido como **bobs@contoso.com**.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-162">Bob Smith's **UserPrincipalName** is set as **bobs@contoso.com**.</span></span>
3. <span data-ttu-id="cf3d5-163">**"abcdefghijklmnopqrstuv=="** é o **SourceAnchor** calculado pelo Azure AD Connect usando o **objectGUID** de Bob Smith do Active Directory local, que é a **immutableId** de Bob Smith no Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-163">**"abcdefghijklmnopqrstuv=="** is the **SourceAnchor** calculated by Azure AD Connect using Bob Smith's **objectGUID** from on premises Active Directory, which is the **immutableId** for Bob Smith in Azure Active Directory.</span></span>
4. <span data-ttu-id="cf3d5-164">Bob também tem os seguintes valores para o atributo **proxyAddresses**:</span><span class="sxs-lookup"><span data-stu-id="cf3d5-164">Bob also has following values for the **proxyAddresses** attribute:</span></span>
   * smtp:bobs@contoso.com
   * smtp:bob.smith@contoso.com
   * **smtp:bob@contoso.com**
5. <span data-ttu-id="cf3d5-165">Um novo usuário, **Bob Taylor**, é adicionado ao Active Directory local.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-165">A new user, **Bob Taylor**, is added to the on premises Active Directory.</span></span>
6. <span data-ttu-id="cf3d5-166">O **UserPrincipalName** de Bob Taylor é definido como **bobt@contoso.com**.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-166">Bob Taylor's **UserPrincipalName** is set as **bobt@contoso.com**.</span></span>
7. <span data-ttu-id="cf3d5-167">**"abcdefghijkl0123456789==""** é o **sourceAnchor** calculado pelo Azure AD Connect usando o **objectGUID** de Bob Taylor no Active Directory local.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-167">**"abcdefghijkl0123456789==""** is the **sourceAnchor** calculated by Azure AD Connect using Bob Taylor's **objectGUID** from on premises Active Directory.</span></span> <span data-ttu-id="cf3d5-168">O objeto de Bob Taylor ainda NÃO foi sincronizado com o Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-168">Bob Taylor's object has NOT synced to Azure Active Directory yet.</span></span>
8. <span data-ttu-id="cf3d5-169">Bob Taylor tem os valores a seguir para o atributo proxyAddresses</span><span class="sxs-lookup"><span data-stu-id="cf3d5-169">Bob Taylor has the following values for the proxyAddresses attribute</span></span>
   * smtp:bobt@contoso.com
   * smtp:bob.taylor@contoso.com
   * **smtp:bob@contoso.com**
9. <span data-ttu-id="cf3d5-170">Durante a sincronização, o Azure AD Connect reconhecerá a adição de Bob Taylor no Active Directory local e pedirá ao Azure AD para fazer a mesma alteração.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-170">During sync, Azure AD Connect will recognize the addition of Bob Taylor in on premises Active Directory and ask Azure AD to make the same change.</span></span>
10. <span data-ttu-id="cf3d5-171">O Azure AD executará primeiro a correspondência rígida.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-171">Azure AD will first perform hard match.</span></span> <span data-ttu-id="cf3d5-172">Ou seja, ele pesquisará se há qualquer objeto com a immutableId igual a "abcdefghijkl0123456789==".</span><span class="sxs-lookup"><span data-stu-id="cf3d5-172">That is, it will search if there is any object with the immutableId equal to "abcdefghijkl0123456789==".</span></span> <span data-ttu-id="cf3d5-173">Correspondência de disco rígida falhará, pois nenhum outro objeto no Azure AD terá essa immutableId.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-173">Hard Match will fail as no other object in Azure AD will have that immutableId.</span></span>
11. <span data-ttu-id="cf3d5-174">O Azure AD tentará então realizar uma correspondência flexível para Bob Taylor.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-174">Azure AD will then attempt to soft-match Bob Taylor.</span></span> <span data-ttu-id="cf3d5-175">Ou seja, ele pesquisará se há algum objeto com proxyAddresses igual aos três valores, inclusive smtp:bob@contoso.com</span><span class="sxs-lookup"><span data-stu-id="cf3d5-175">That is, it will search if there is any object with proxyAddresses equal to the three values, including smtp:bob@contoso.com</span></span>
12. <span data-ttu-id="cf3d5-176">O Azure AD encontrará o objeto de Bob Smith que satisfaz os critérios de correspondência flexível.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-176">Azure AD will find Bob Smith's object to match the soft-match criteria.</span></span> <span data-ttu-id="cf3d5-177">No entanto, esse objeto tem o valor de immutableId = "abcdefghijklmnopqrstuv==".</span><span class="sxs-lookup"><span data-stu-id="cf3d5-177">But this object has the value of immutableId = "abcdefghijklmnopqrstuv==".</span></span> <span data-ttu-id="cf3d5-178">Isso indica que esse objeto foi sincronizado de outro objeto do Active Directory local.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-178">which indicates this object was synced from another object from on premises Active Directory.</span></span> <span data-ttu-id="cf3d5-179">Assim, o Azure AD não pode realizar uma correspondência flexível desses objetos e resulta em um erro de sincronização **InvalidSoftMatch**.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-179">Thus, Azure AD cannot soft-match these objects and results in an **InvalidSoftMatch** sync error.</span></span>

#### <a name="how-to-fix-invalidsoftmatch-error"></a><span data-ttu-id="cf3d5-180">Como corrigir o erro InvalidSoftMatch</span><span class="sxs-lookup"><span data-stu-id="cf3d5-180">How to fix InvalidSoftMatch error</span></span>
<span data-ttu-id="cf3d5-181">O motivo mais comum para o erro InvalidSoftMatch é que dois objetos com valores diferentes para \(immutableId\) de SourceAnchor tenham o mesmo valor para os atributos ProxyAddresses e/ou UserPrincipalName, que são usados durante o processo de correspondência flexível no Azure AD.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-181">The most common reason for the InvalidSoftMatch error is two objects with different SourceAnchor \(immutableId\) have the same value for the ProxyAddresses and/or UserPrincipalName attributes, which are used during the soft-match process on Azure AD.</span></span> <span data-ttu-id="cf3d5-182">Para corrigir a Correspondência Flexível Inválida</span><span class="sxs-lookup"><span data-stu-id="cf3d5-182">In order to fix the Invalid Soft Match</span></span>

1. <span data-ttu-id="cf3d5-183">Identifique o valor duplicado de proxyAddresses, userPrincipalName ou outro o atributo que está causando o erro.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-183">Identify the duplicated proxyAddresses, userPrincipalName or other attribute value that's causing the error.</span></span> <span data-ttu-id="cf3d5-184">Identifique também quais dois \(ou mais\) os objetos estão envolvidos no conflito.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-184">Also identify which two \(or more\) objects are involved in the conflict.</span></span> <span data-ttu-id="cf3d5-185">O relatório gerado pelo [Azure AD Connect Health para sincronização](https://aka.ms/aadchsyncerrors) pode ajudá-lo a identificar os dois objetos.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-185">The report generated by [Azure AD Connect Health for sync](https://aka.ms/aadchsyncerrors) can help you identify the two objects.</span></span>
2. <span data-ttu-id="cf3d5-186">Identifique qual objeto deve continuar a ter o valor duplicado e qual não deve.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-186">Identify which object should continue to have the duplicated value and which object should not.</span></span>
3. <span data-ttu-id="cf3d5-187">Remova o valor duplicado do objeto que NÃO deve ter esse valor.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-187">Remove the duplicated value from the object that should NOT have that value.</span></span> <span data-ttu-id="cf3d5-188">Observe que você deve fazer a alteração no diretório do qual o objeto foi originado.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-188">Note that you should make the change in the directory where the object is sourced from.</span></span> <span data-ttu-id="cf3d5-189">Em alguns casos, talvez seja necessário excluir um dos objetos em conflito.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-189">In some cases, you may need to delete one of the objects in conflict.</span></span>
4. <span data-ttu-id="cf3d5-190">Se você fez a alteração no AD local, permita que o Azure AD Connect sincronize essa alteração.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-190">If you made the change in the on premises AD, let Azure AD Connect sync the change.</span></span>

<span data-ttu-id="cf3d5-191">Observe que o Relatório de erros de sincronização no Azure AD Connect Health para a sincronização é atualizado a cada 30 minutos e inclui os erros da tentativa de sincronização mais recente.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-191">Note that Sync error report within Azure AD Connect Health for sync is updated every 30 minutes and includes the errors from the latest synchronization attempt.</span></span>

> [!NOTE]
> <span data-ttu-id="cf3d5-192">ImmutableId, por definição, não deve ser alterada durante o tempo de vida do objeto.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-192">ImmutableId, by definition, should not change in the lifetime of the object.</span></span> <span data-ttu-id="cf3d5-193">Se o Azure AD Connect não tiver sido configurado com alguns dos cenários da lista acima em mente, você poderá acabar em uma situação em que o Azure AD Connect calcula um valor diferente de SourceAnchor para o objeto do AD que representa a mesma entidade (mesmo grupo, usuário, contato, etc.) que tem um Objeto do Azure AD existente que você deseja continuar usando.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-193">If Azure AD Connect was not configured with some of the scenarios in mind from the above list, you could end up in a situation where Azure AD Connect calculates a different value of the SourceAnchor for the AD object that represents the same entity (same user/group/contact etc) that has an existing Azure AD Object that you wish to continue using.</span></span>
>
>

#### <a name="related-articles"></a><span data-ttu-id="cf3d5-194">Artigos relacionados</span><span class="sxs-lookup"><span data-stu-id="cf3d5-194">Related Articles</span></span>
* [<span data-ttu-id="cf3d5-195">Atributos duplicados ou inválidos impedem a sincronização de diretórios no Office 365</span><span class="sxs-lookup"><span data-stu-id="cf3d5-195">Duplicate or invalid attributes prevent directory synchronization in Office 365</span></span>](https://support.microsoft.com/en-us/kb/2647098)

### <a name="objecttypemismatch"></a><span data-ttu-id="cf3d5-196">ObjectTypeMismatch</span><span class="sxs-lookup"><span data-stu-id="cf3d5-196">ObjectTypeMismatch</span></span>
#### <a name="description"></a><span data-ttu-id="cf3d5-197">Descrição</span><span class="sxs-lookup"><span data-stu-id="cf3d5-197">Description</span></span>
<span data-ttu-id="cf3d5-198">Quando o Azure AD tenta fazer a correspondência flexível entre dois objetos, é possível que dois objetos com "tipo de objeto" diferente (como Usuário, Grupo, Contato, etc.) tenham os mesmos valores para os atributos usados para executar a correspondência flexível.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-198">When Azure AD attempts to soft match two objects, it is possible that two objects of different "object type" (such as User, Group, Contact etc.) have the same values for the attributes used to perform the soft match.</span></span> <span data-ttu-id="cf3d5-199">Como a eliminação de duplicação desses atributos não é permitida no Azure AD, a operação pode resultar no erro de sincronização "ObjectTypeMismatch".</span><span class="sxs-lookup"><span data-stu-id="cf3d5-199">As duplication of these attributes is not permitted in Azure AD, the operation can result in "ObjectTypeMismatch" synchronization error.</span></span>

#### <a name="example-scenarios-for-objecttypemismatch-error"></a><span data-ttu-id="cf3d5-200">Cenários de exemplo para o erro ObjectTypeMismatch</span><span class="sxs-lookup"><span data-stu-id="cf3d5-200">Example Scenarios for ObjectTypeMismatch error</span></span>
* <span data-ttu-id="cf3d5-201">Um grupo de segurança habilitado para email é criado no Office 365.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-201">A mail enabled security group is created in Office 365.</span></span> <span data-ttu-id="cf3d5-202">O administrador adiciona um novo usuário ou contato no AD local (que ainda não está sincronizado com o Azure AD) com o mesmo valor para o atributo ProxyAddresses que o utilizado no grupo do Office 365.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-202">Admin adds a new user or contact in on premises AD (that's not synchronized to Azure AD yet) with the same value for the ProxyAddresses attribute as that of the Office 365 group.</span></span>

#### <a name="example-case"></a><span data-ttu-id="cf3d5-203">Caso de exemplo</span><span class="sxs-lookup"><span data-stu-id="cf3d5-203">Example case</span></span>
1. <span data-ttu-id="cf3d5-204">O administrador cria um novo grupo de segurança habilitado para email no Office 365 para o departamento fiscal e fornece um endereço de email como tax@contoso.com.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-204">Admin creates a new mail enabled security group in Office 365 for the Tax department and provides an email address as tax@contoso.com.</span></span> <span data-ttu-id="cf3d5-205">Isso atribui o atributo ProxyAddresses para esse grupo com o valor de **smtp:tax@contoso.com**</span><span class="sxs-lookup"><span data-stu-id="cf3d5-205">This assigns the ProxyAddresses attribute for this group with the value of **smtp:tax@contoso.com**</span></span>
2. <span data-ttu-id="cf3d5-206">Um novo usuário ingressa em Contoso.com e uma conta é criada para o usuário local com proxyAddress como **smtp:tax@contoso.com**</span><span class="sxs-lookup"><span data-stu-id="cf3d5-206">A new user joins Contoso.com and an account is created for the user on premises with the proxyAddress as **smtp:tax@contoso.com**</span></span>
3. <span data-ttu-id="cf3d5-207">Quando o Azure AD Connect sincronizar a nova conta de usuário, ele receberá o erro "ObjectTypeMismatch".</span><span class="sxs-lookup"><span data-stu-id="cf3d5-207">When Azure AD Connect will sync the new user account, it will get the "ObjectTypeMismatch" error.</span></span>

#### <a name="how-to-fix-objecttypemismatch-error"></a><span data-ttu-id="cf3d5-208">Como corrigir o erro ObjectTypeMismatch</span><span class="sxs-lookup"><span data-stu-id="cf3d5-208">How to fix ObjectTypeMismatch error</span></span>
<span data-ttu-id="cf3d5-209">O motivo mais comum para o erro ObjectTypeMismatch é que dois objetos de tipo diferente (usuário, grupo, contatos, etc.) tenham o mesmo valor para o atributo ProxyAddresses.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-209">The most common reason for the ObjectTypeMismatch error is two objects of different type (User, Group, Contact etc.) have the same value for the ProxyAddresses attribute.</span></span> <span data-ttu-id="cf3d5-210">Para corrigir o ObjectTypeMismatch:</span><span class="sxs-lookup"><span data-stu-id="cf3d5-210">In order to fix the ObjectTypeMismatch:</span></span>

1. <span data-ttu-id="cf3d5-211">Identifique o valor duplicado de proxyAddresses (ou outro atributo) que está causando o erro.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-211">Identify the duplicated proxyAddresses (or other attribute) value that's causing the error.</span></span> <span data-ttu-id="cf3d5-212">Identifique também quais dois \(ou mais\) os objetos estão envolvidos no conflito.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-212">Also identify which two \(or more\) objects are involved in the conflict.</span></span> <span data-ttu-id="cf3d5-213">O relatório gerado pelo [Azure AD Connect Health para sincronização](https://aka.ms/aadchsyncerrors) pode ajudá-lo a identificar os dois objetos.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-213">The report generated by [Azure AD Connect Health for sync](https://aka.ms/aadchsyncerrors) can help you identify the two objects.</span></span>
2. <span data-ttu-id="cf3d5-214">Identifique qual objeto deve continuar a ter o valor duplicado e qual não deve.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-214">Identify which object should continue to have the duplicated value and which object should not.</span></span>
3. <span data-ttu-id="cf3d5-215">Remova o valor duplicado do objeto que NÃO deve ter esse valor.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-215">Remove the duplicated value from the object that should NOT have that value.</span></span> <span data-ttu-id="cf3d5-216">Observe que você deve fazer a alteração no diretório do qual o objeto foi originado.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-216">Note that you should make the change in the directory where the object is sourced from.</span></span> <span data-ttu-id="cf3d5-217">Em alguns casos, talvez seja necessário excluir um dos objetos em conflito.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-217">In some cases, you may need to delete one of the objects in conflict.</span></span>
4. <span data-ttu-id="cf3d5-218">Se você fez a alteração no AD local, permita que o Azure AD Connect sincronize essa alteração.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-218">If you made the change in the on premises AD, let Azure AD Connect sync the change.</span></span> <span data-ttu-id="cf3d5-219">O Relatório de erros de sincronização no Azure AD Connect Health para a sincronização é atualizado a cada 30 minutos e inclui os erros da tentativa de sincronização mais recente.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-219">Sync error report within Azure AD Connect Health for sync gets updated every 30 minutes and includes the errors from the latest synchronization attempt.</span></span>

## <a name="duplicate-attributes"></a><span data-ttu-id="cf3d5-220">Atributos Duplicados</span><span class="sxs-lookup"><span data-stu-id="cf3d5-220">Duplicate Attributes</span></span>
### <a name="attributevaluemustbeunique"></a><span data-ttu-id="cf3d5-221">AttributeValueMustBeUnique</span><span class="sxs-lookup"><span data-stu-id="cf3d5-221">AttributeValueMustBeUnique</span></span>
#### <a name="description"></a><span data-ttu-id="cf3d5-222">Descrição</span><span class="sxs-lookup"><span data-stu-id="cf3d5-222">Description</span></span>
<span data-ttu-id="cf3d5-223">O esquema do Azure Active Directory não permite que dois ou mais objetos tenham o mesmo valor para os atributos a seguir.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-223">Azure Active Directory schema does not allow two or more objects to have the same value of the following attributes.</span></span> <span data-ttu-id="cf3d5-224">Ou seja, cada objeto no Azure AD é forçado a ter um valor exclusivo desses atributos em uma determinada instância.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-224">That is each object in Azure AD is forced to have a unique value of these attributes at a given instance.</span></span>

* <span data-ttu-id="cf3d5-225">ProxyAddresses</span><span class="sxs-lookup"><span data-stu-id="cf3d5-225">ProxyAddresses</span></span>
* <span data-ttu-id="cf3d5-226">UserPrincipalName</span><span class="sxs-lookup"><span data-stu-id="cf3d5-226">UserPrincipalName</span></span>

<span data-ttu-id="cf3d5-227">Se o Azure AD Connect tentar adicionar um novo objeto ou atualizar um objeto existente com um valor para os atributos acima que já estiver atribuído a outro objeto no Azure Active Directory, a operação resultará no erro de sincronização "AttributeValueMustBeUnique".</span><span class="sxs-lookup"><span data-stu-id="cf3d5-227">If Azure AD Connect attempts to add a new object or update an existing object with a value for the above attributes that is already assigned to another object in Azure Active Directory, the operation results in the "AttributeValueMustBeUnique" sync error.</span></span>

#### <a name="possible-scenarios"></a><span data-ttu-id="cf3d5-228">Cenários Possíveis:</span><span class="sxs-lookup"><span data-stu-id="cf3d5-228">Possible Scenarios:</span></span>
1. <span data-ttu-id="cf3d5-229">Um valor duplicado é atribuído a um objeto já sincronizado, que está em conflito com outro objeto sincronizado.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-229">Duplicate value is assigned to an already synced object, which conflicts with another synced object.</span></span>

#### <a name="example-case"></a><span data-ttu-id="cf3d5-230">Caso de exemplo:</span><span class="sxs-lookup"><span data-stu-id="cf3d5-230">Example case:</span></span>
1. <span data-ttu-id="cf3d5-231">**Bob Smith** é um usuário sincronizado no Azure Active Directory do Active Directory local de contoso.com</span><span class="sxs-lookup"><span data-stu-id="cf3d5-231">**Bob Smith** is a synced user in Azure Active Directory from on premises Active Directory of contoso.com</span></span>
2. <span data-ttu-id="cf3d5-232">O **UserPrincipalName** local de Bob Smith está definido como **bobs@contoso.com**.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-232">Bob Smith's **UserPrincipalName** on premises is set as **bobs@contoso.com**.</span></span>
3. <span data-ttu-id="cf3d5-233">Bob também tem os seguintes valores para o atributo **proxyAddresses**:</span><span class="sxs-lookup"><span data-stu-id="cf3d5-233">Bob also has following values for the **proxyAddresses** attribute:</span></span>
   * smtp:bobs@contoso.com
   * smtp:bob.smith@contoso.com
   * **smtp:bob@contoso.com**
4. <span data-ttu-id="cf3d5-234">Um novo usuário, **Bob Taylor**, é adicionado ao Active Directory local.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-234">A new user, **Bob Taylor**, is added to the on premises Active Directory.</span></span>
5. <span data-ttu-id="cf3d5-235">O **UserPrincipalName** de Bob Taylor é definido como **bobt@contoso.com**.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-235">Bob Taylor's **UserPrincipalName** is set as **bobt@contoso.com**.</span></span>
6. <span data-ttu-id="cf3d5-236">**Bob Taylor** tem os valores a seguir para o atributo i **ProxyAddresses**.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-236">**Bob Taylor** has the following values for the **ProxyAddresses** attribute i.</span></span> <span data-ttu-id="cf3d5-237">smtp:bobt@contoso.com ii.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-237">smtp:bobt@contoso.com ii.</span></span> <span data-ttu-id="cf3d5-238">smtp:bob.taylor@contoso.com</span><span class="sxs-lookup"><span data-stu-id="cf3d5-238">smtp:bob.taylor@contoso.com</span></span>
7. <span data-ttu-id="cf3d5-239">O objeto de Bob Taylor foi sincronizado com êxito ao Azure AD.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-239">Bob Taylor's object is synchronized with Azure AD successfully.</span></span>
8. <span data-ttu-id="cf3d5-240">O administrador decidiu atualizar o atributo **ProxyAddresses** de Bob Taylor com o seguinte valor: i.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-240">Admin decided to update Bob Taylor's **ProxyAddresses** attribute with the following value: i.</span></span> **smtp:bob@contoso.com**
9. <span data-ttu-id="cf3d5-241">O Azure AD tentará atualizar o objeto de Bob Taylor no Azure AD com o valor acima, mas essa operação falhará porque o valor de ProxyAddresses já está atribuído a Bob Smith, resultando em um erro "AttributeValueMustBeUnique".</span><span class="sxs-lookup"><span data-stu-id="cf3d5-241">Azure AD will attempt to update Bob Taylor's object in Azure AD with the above value, but that operation will fail as that ProxyAddresses value is already assigned to Bob Smith, resulting in "AttributeValueMustBeUnique" error.</span></span>

#### <a name="how-to-fix-attributevaluemustbeunique-error"></a><span data-ttu-id="cf3d5-242">Como corrigir o erro AttributeValueMustBeUnique</span><span class="sxs-lookup"><span data-stu-id="cf3d5-242">How to fix AttributeValueMustBeUnique error</span></span>
<span data-ttu-id="cf3d5-243">O motivo mais comum para o erro AttributeValueMustBeUnique é que dois objetos com valores diferentes para \(immutableId\) de SourceAnchor tenham o mesmo valor para os atributos ProxyAddresses e/ou UserPrincipalName.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-243">The most common reason for the AttributeValueMustBeUnique error is two objects with different SourceAnchor \(immutableId\) have the same value for the ProxyAddresses and/or UserPrincipalName attributes.</span></span> <span data-ttu-id="cf3d5-244">Para corrigir o erro AttributeValueMustBeUnique</span><span class="sxs-lookup"><span data-stu-id="cf3d5-244">In order to fix AttributeValueMustBeUnique error</span></span>

1. <span data-ttu-id="cf3d5-245">Identifique o valor duplicado de proxyAddresses, userPrincipalName ou outro o atributo que está causando o erro.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-245">Identify the duplicated proxyAddresses, userPrincipalName or other attribute value that's causing the error.</span></span> <span data-ttu-id="cf3d5-246">Identifique também quais dois \(ou mais\) os objetos estão envolvidos no conflito.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-246">Also identify which two \(or more\) objects are involved in the conflict.</span></span> <span data-ttu-id="cf3d5-247">O relatório gerado pelo [Azure AD Connect Health para sincronização](https://aka.ms/aadchsyncerrors) pode ajudá-lo a identificar os dois objetos.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-247">The report generated by [Azure AD Connect Health for sync](https://aka.ms/aadchsyncerrors) can help you identify the two objects.</span></span>
2. <span data-ttu-id="cf3d5-248">Identifique qual objeto deve continuar a ter o valor duplicado e qual não deve.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-248">Identify which object should continue to have the duplicated value and which object should not.</span></span>
3. <span data-ttu-id="cf3d5-249">Remova o valor duplicado do objeto que NÃO deve ter esse valor.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-249">Remove the duplicated value from the object that should NOT have that value.</span></span> <span data-ttu-id="cf3d5-250">Observe que você deve fazer a alteração no diretório do qual o objeto foi originado.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-250">Note that you should make the change in the directory where the object is sourced from.</span></span> <span data-ttu-id="cf3d5-251">Em alguns casos, talvez seja necessário excluir um dos objetos em conflito.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-251">In some cases, you may need to delete one of the objects in conflict.</span></span>
4. <span data-ttu-id="cf3d5-252">Se você fez a alteração no AD local, permita que o Azure AD Connect sincronize essa alteração para que o erro seja corrigido.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-252">If you made the change in the on premises AD, let Azure AD Connect sync the change for the error to get fixed.</span></span>

#### <a name="related-articles"></a><span data-ttu-id="cf3d5-253">Artigos relacionados</span><span class="sxs-lookup"><span data-stu-id="cf3d5-253">Related Articles</span></span>
<span data-ttu-id="cf3d5-254">-[Atributos duplicados ou inválidos impedem a sincronização de diretórios no Office 365](https://support.microsoft.com/en-us/kb/2647098)</span><span class="sxs-lookup"><span data-stu-id="cf3d5-254">-[Duplicate or invalid attributes prevent directory synchronization in Office 365](https://support.microsoft.com/en-us/kb/2647098)</span></span>

## <a name="data-validation-failures"></a><span data-ttu-id="cf3d5-255">Falha na Validação de Dados</span><span class="sxs-lookup"><span data-stu-id="cf3d5-255">Data Validation Failures</span></span>
### <a name="identitydatavalidationfailed"></a><span data-ttu-id="cf3d5-256">IdentityDataValidationFailed</span><span class="sxs-lookup"><span data-stu-id="cf3d5-256">IdentityDataValidationFailed</span></span>
#### <a name="description"></a><span data-ttu-id="cf3d5-257">Descrição</span><span class="sxs-lookup"><span data-stu-id="cf3d5-257">Description</span></span>
<span data-ttu-id="cf3d5-258">O Azure Active Directory impõe várias restrições nos dados antes de permitir que dados sejam gravados no diretório.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-258">Azure Active Directory enforces various restrictions on the data itself before allowing that data to be written into the directory.</span></span> <span data-ttu-id="cf3d5-259">Isso é para garantir que os usuários finais obtenham melhores experiências possíveis ao usar os aplicativos que dependem desses dados.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-259">This is to ensure that end users get the best possible experiences while using the applications that depend on this data.</span></span>

#### <a name="scenarios"></a><span data-ttu-id="cf3d5-260">Cenários</span><span class="sxs-lookup"><span data-stu-id="cf3d5-260">Scenarios</span></span>
<span data-ttu-id="cf3d5-261">a.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-261">a.</span></span> <span data-ttu-id="cf3d5-262">O valor do atributo UserPrincipalName tem caracteres inválidos ou sem suporte.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-262">The UserPrincipalName attribute value has invalid/unsupported characters.</span></span>
<span data-ttu-id="cf3d5-263">b.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-263">b.</span></span> <span data-ttu-id="cf3d5-264">O atributo UserPrincipalName não segue o formato necessário.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-264">The UserPrincipalName attribute does not follow the required format.</span></span>

#### <a name="how-to-fix-identitydatavalidationfailed-error"></a><span data-ttu-id="cf3d5-265">Como corrigir o erro IdentityDataValidationFailed</span><span class="sxs-lookup"><span data-stu-id="cf3d5-265">How to fix IdentityDataValidationFailed error</span></span>
<span data-ttu-id="cf3d5-266">a.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-266">a.</span></span> <span data-ttu-id="cf3d5-267">Certifique-se de que o atributo userPrincipalName tem caracteres com suporte e o formato necessário.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-267">Ensure that the userPrincipalName attribute has supported characters and required format.</span></span>

#### <a name="related-articles"></a><span data-ttu-id="cf3d5-268">Artigos relacionados</span><span class="sxs-lookup"><span data-stu-id="cf3d5-268">Related Articles</span></span>
* <span data-ttu-id="cf3d5-269">[Prepare to provision users through directory synchronization to Office 365](https://support.office.com/en-us/article/Prepare-to-provision-users-through-directory-synchronization-to-Office-365-01920974-9e6f-4331-a370-13aea4e82b3e) (Preparar para provisionar usuários por meio da sincronização de diretório para o Office 365)</span><span class="sxs-lookup"><span data-stu-id="cf3d5-269">[Prepare to provision users through directory synchronization to Office 365](https://support.office.com/en-us/article/Prepare-to-provision-users-through-directory-synchronization-to-Office-365-01920974-9e6f-4331-a370-13aea4e82b3e)</span></span>

### <a name="federateddomainchangeerror"></a><span data-ttu-id="cf3d5-270">FederatedDomainChangeError</span><span class="sxs-lookup"><span data-stu-id="cf3d5-270">FederatedDomainChangeError</span></span>
#### <a name="description"></a><span data-ttu-id="cf3d5-271">Descrição</span><span class="sxs-lookup"><span data-stu-id="cf3d5-271">Description</span></span>
<span data-ttu-id="cf3d5-272">Esse é um caso específico que resulta em um erro de sincronização **"FederatedDomainChangeError"** quando o sufixo UserPrincipalName de um usuário é alterado de um domínio federado para outro.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-272">This is a specific case that results in a **"FederatedDomainChangeError"** sync error when the suffix of a user's UserPrincipalName is changed from one federated domain to another federated domain.</span></span>

#### <a name="scenarios"></a><span data-ttu-id="cf3d5-273">Cenários</span><span class="sxs-lookup"><span data-stu-id="cf3d5-273">Scenarios</span></span>
<span data-ttu-id="cf3d5-274">Para um usuário sincronizado, o sufixo UserPrincipalName foi alterado de um domínio federado para outro domínio federado local.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-274">For a synchronized user, the UserPrincipalName suffix was changed from one federated domain to another federated domain on premises.</span></span> <span data-ttu-id="cf3d5-275">Por exemplo, *UserPrincipalName = bob@contoso.com* foi alterado para *UserPrincipalName = bob@fabrikam.com*.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-275">For example, *UserPrincipalName = bob@contoso.com* was changed to *UserPrincipalName = bob@fabrikam.com*.</span></span>

#### <a name="example"></a><span data-ttu-id="cf3d5-276">Exemplo</span><span class="sxs-lookup"><span data-stu-id="cf3d5-276">Example</span></span>
1. <span data-ttu-id="cf3d5-277">Bob Smith, uma conta para Contoso.com, é adicionado como um novo usuário no Active Directory com o UserPrincipalName bob@contoso.com</span><span class="sxs-lookup"><span data-stu-id="cf3d5-277">Bob Smith, an account for Contoso.com, gets added as a new user in Active Directory with the UserPrincipalName bob@contoso.com</span></span>
2. <span data-ttu-id="cf3d5-278">Bob passa para uma divisão diferente de Contoso.com chamada Fabrikam.com e seu UserPrincipalName é alterado para bob@fabrikam.com</span><span class="sxs-lookup"><span data-stu-id="cf3d5-278">Bob moves to a different division of Contoso.com called Fabrikam.com and his UserPrincipalName is changed to bob@fabrikam.com</span></span>
3. <span data-ttu-id="cf3d5-279">Tanto contoso.com quanto fabrikam.com são domínios federados com o Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-279">Both contoso.com and fabrikam.com domains are federated domains with Azure Active Directory.</span></span>
4. <span data-ttu-id="cf3d5-280">O userPrincipalName de Bob não é atualizado e resulta em um erro de sincronização "FederatedDomainChangeError".</span><span class="sxs-lookup"><span data-stu-id="cf3d5-280">Bob's userPrincipalName does not get updated and results in a "FederatedDomainChangeError" sync error.</span></span>

#### <a name="how-to-fix"></a><span data-ttu-id="cf3d5-281">Como corrigir</span><span class="sxs-lookup"><span data-stu-id="cf3d5-281">How to fix</span></span>
<span data-ttu-id="cf3d5-282">Se o sufixo UserPrincipalName de um usuário tiver sido atualizado de bob@**contoso.com** para bob@**fabrikam.com**, em que ambos **contoso.com** e **fabrikam.com** são **domínios federados**, siga estas etapas para corrigir o erro de sincronização</span><span class="sxs-lookup"><span data-stu-id="cf3d5-282">If a user's UserPrincipalName suffix was updated from bob@**contoso.com** to bob@**fabrikam.com**, where both **contoso.com** and **fabrikam.com** are **federated domains**, then follow these steps to fix the sync error</span></span>

1. <span data-ttu-id="cf3d5-283">Atualize o UserPrincipalName do usuário no Azure AD de bob@contoso.com para bob@contoso.onmicrosoft.com.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-283">Update the user's UserPrincipalName in Azure AD from bob@contoso.com to bob@contoso.onmicrosoft.com.</span></span> <span data-ttu-id="cf3d5-284">Você pode usar o seguinte comando do PowerShell com o Módulo do PowerShell do Azure AD: `Set-MsolUserPrincipalName -UserPrincipalName bob@contoso.com -NewUserPrincipalName bob@contoso.onmicrosoft.com`</span><span class="sxs-lookup"><span data-stu-id="cf3d5-284">You can use the following PowerShell command with the Azure AD PowerShell Module: `Set-MsolUserPrincipalName -UserPrincipalName bob@contoso.com -NewUserPrincipalName bob@contoso.onmicrosoft.com`</span></span>
2. <span data-ttu-id="cf3d5-285">Permita que o próximo ciclo de sincronização tentar a sincronização.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-285">Allow the next sync cycle to attempt synchronization.</span></span> <span data-ttu-id="cf3d5-286">Dessa vez, a sincronização será bem-sucedida e atualizará o UserPrincipalName de Bob para bob@fabrikam.com conforme esperado.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-286">This time synchronization will be successful and it will update the UserPrincipalName of Bob to bob@fabrikam.com as expected.</span></span>

#### <a name="related-articles"></a><span data-ttu-id="cf3d5-287">Artigos relacionados</span><span class="sxs-lookup"><span data-stu-id="cf3d5-287">Related Articles</span></span>
* [<span data-ttu-id="cf3d5-288">As alterações não são sincronizadas pela ferramenta de sincronização do Azure Active Directory depois que você altera o UPN de uma conta de usuário para usar um domínio federado diferente</span><span class="sxs-lookup"><span data-stu-id="cf3d5-288">Changes aren't synced by the Azure Active Directory Sync tool after you change the UPN of a user account to use a different federated domain</span></span>](https://support.microsoft.com/en-us/help/2669550/changes-aren-t-synced-by-the-azure-active-directory-sync-tool-after-you-change-the-upn-of-a-user-account-to-use-a-different-federated-domain)

## <a name="largeobject"></a><span data-ttu-id="cf3d5-289">LargeObject</span><span class="sxs-lookup"><span data-stu-id="cf3d5-289">LargeObject</span></span>
### <a name="description"></a><span data-ttu-id="cf3d5-290">Descrição</span><span class="sxs-lookup"><span data-stu-id="cf3d5-290">Description</span></span>
<span data-ttu-id="cf3d5-291">Quando um atributo excede o limite de tamanho permitido, o limite de comprimento ou o limite de contagem definidos pelo esquema do Azure Active Directory, a operação de sincronização resultará no erro de sincronização **LargeObject** ou **ExceededAllowedLength**.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-291">When an attribute exceeds the allowed size limit, length limit or count limit set by Azure Active Directory schema, the synchronization operation results in the **LargeObject** or **ExceededAllowedLength** sync error.</span></span> <span data-ttu-id="cf3d5-292">Geralmente este erro ocorre para os atributos seguir</span><span class="sxs-lookup"><span data-stu-id="cf3d5-292">Typically this error occurs for the following attributes</span></span>

* <span data-ttu-id="cf3d5-293">userCertificate</span><span class="sxs-lookup"><span data-stu-id="cf3d5-293">userCertificate</span></span>
* <span data-ttu-id="cf3d5-294">userSMIMECertificate</span><span class="sxs-lookup"><span data-stu-id="cf3d5-294">userSMIMECertificate</span></span>
* <span data-ttu-id="cf3d5-295">thumbnailPhoto</span><span class="sxs-lookup"><span data-stu-id="cf3d5-295">thumbnailPhoto</span></span>
* <span data-ttu-id="cf3d5-296">proxyAddresses</span><span class="sxs-lookup"><span data-stu-id="cf3d5-296">proxyAddresses</span></span>

### <a name="possible-scenarios"></a><span data-ttu-id="cf3d5-297">Cenários possíveis</span><span class="sxs-lookup"><span data-stu-id="cf3d5-297">Possible Scenarios</span></span>
1. <span data-ttu-id="cf3d5-298">O atributo userCertificate de Bob está armazenando certificados em excesso atribuídos a Bob.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-298">Bob's userCertificate attribute is storing too many certificates assigned to Bob.</span></span> <span data-ttu-id="cf3d5-299">Eles podem incluir certificados mais antigos e expirados.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-299">These may include older, expired certificates.</span></span> <span data-ttu-id="cf3d5-300">O limite rígido é de 15 certificados.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-300">The hard limit is 15 certificates.</span></span> <span data-ttu-id="cf3d5-301">Para obter mais informações sobre como lidar com erros LargeObject com o atributo userCertificate, consulte o artigo [Tratamento de erros LargeObject causados po atributo userCertificate](active-directory-aadconnectsync-largeobjecterror-usercertificate.md).</span><span class="sxs-lookup"><span data-stu-id="cf3d5-301">For more information on how to handle LargeObject errors with userCertificate attribute, please refer to article [Handling LargeObject errors caused by userCertificate attribute](active-directory-aadconnectsync-largeobjecterror-usercertificate.md).</span></span>
2. <span data-ttu-id="cf3d5-302">O atributo userSMIMECertificate de Bob está armazenando certificados em excesso atribuídos a Bob.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-302">Bob's userSMIMECertificate attribute is storing too many certificates assigned to Bob.</span></span> <span data-ttu-id="cf3d5-303">Eles podem incluir certificados mais antigos e expirados.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-303">These may include older, expired certificates.</span></span> <span data-ttu-id="cf3d5-304">O limite rígido é de 15 certificados.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-304">The hard limit is 15 certificates.</span></span>
3. <span data-ttu-id="cf3d5-305">O thumbnailPhoto de Bob, definido no Active Directory, é muito grande para ser sincronizado no Azure AD.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-305">Bob's thumbnailPhoto set in Active Directory is too large to be synced in Azure AD.</span></span>
4. <span data-ttu-id="cf3d5-306">Durante a população automática do atributo ProxyAddresses no Active Directory, um objeto tem muitos ProxyAddresses atribuídos.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-306">During automatic population of the ProxyAddresses attribute in Active Directory, an object has too many ProxyAddresses assigned.</span></span>

### <a name="how-to-fix"></a><span data-ttu-id="cf3d5-307">Como corrigir</span><span class="sxs-lookup"><span data-stu-id="cf3d5-307">How to fix</span></span>
1. <span data-ttu-id="cf3d5-308">Certifique-se de que o atributo que está causando o erro esteja dentro do limite permitido.</span><span class="sxs-lookup"><span data-stu-id="cf3d5-308">Ensure that the attribute causing the error is within the allowed limitation.</span></span>

## <a name="related-links"></a><span data-ttu-id="cf3d5-309">Links relacionados</span><span class="sxs-lookup"><span data-stu-id="cf3d5-309">Related links</span></span>
* [<span data-ttu-id="cf3d5-310">Localizar objetos do Active Directory no Centro Administrativo do Active Directory</span><span class="sxs-lookup"><span data-stu-id="cf3d5-310">Locate Active Directory Objects in Active Directory Administrative Center</span></span>](https://technet.microsoft.com/library/dd560661.aspx)
* [<span data-ttu-id="cf3d5-311">Como consultar o Azure Active Directory para um objeto usando o Azure Active Directory PowerShell</span><span class="sxs-lookup"><span data-stu-id="cf3d5-311">How to query Azure Active Directory for an object using Azure Active Directory PowerShell</span></span>](https://msdn.microsoft.com/library/azure/jj151815.aspx)
