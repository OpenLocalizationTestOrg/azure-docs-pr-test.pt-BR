---
title: "Conector do SQL Genérico | Microsoft Docs"
description: "Este artigo descreve como configurar o conector SQL genérico da Microsoft."
services: active-directory
documentationcenter: 
author: AndKjell
manager: femila
editor: 
ms.assetid: fd8ccef3-6605-47ba-9219-e0c74ffc0ec9
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/12/2017
ms.author: billmath
ms.openlocfilehash: a84096ba53a308855beedd76d9dec827c025cd57
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/03/2017
---
# <a name="generic-sql-connector-technical-reference"></a><span data-ttu-id="06ec7-103">Referência técnica do conector SQL genérico</span><span class="sxs-lookup"><span data-stu-id="06ec7-103">Generic SQL Connector technical reference</span></span>
<span data-ttu-id="06ec7-104">Este artigo descreve o conector SQL genérico.</span><span class="sxs-lookup"><span data-stu-id="06ec7-104">This article describes the Generic SQL Connector.</span></span> <span data-ttu-id="06ec7-105">O artigo se aplica aos seguintes produtos:</span><span class="sxs-lookup"><span data-stu-id="06ec7-105">The article applies to the following products:</span></span>

* <span data-ttu-id="06ec7-106">Microsoft Identity Manager 2016 (MIM2016)</span><span class="sxs-lookup"><span data-stu-id="06ec7-106">Microsoft Identity Manager 2016 (MIM2016)</span></span>
* <span data-ttu-id="06ec7-107">Forefront Identity Manager 2010 R2 (FIM2010R2)</span><span class="sxs-lookup"><span data-stu-id="06ec7-107">Forefront Identity Manager 2010 R2 (FIM2010R2)</span></span>
  * <span data-ttu-id="06ec7-108">É necessário usar o hotfix 4.1.3671.0 ou posterior [KB3092178](https://support.microsoft.com/kb/3092178).</span><span class="sxs-lookup"><span data-stu-id="06ec7-108">Must use hotfix 4.1.3671.0 or later [KB3092178](https://support.microsoft.com/kb/3092178).</span></span>

<span data-ttu-id="06ec7-109">Para MIM2016 e FIM2010R2 o conector está disponível para download do [Centro de Download da Microsoft](http://go.microsoft.com/fwlink/?LinkId=717495).</span><span class="sxs-lookup"><span data-stu-id="06ec7-109">For MIM2016 and FIM2010R2, the Connector is available as a download from the [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkId=717495).</span></span>

<span data-ttu-id="06ec7-110">Para ver esse conector em ação, consulte o artigo [Generic SQL Connector step-by-step](active-directory-aadconnectsync-connector-genericsql-step-by-step.md) .</span><span class="sxs-lookup"><span data-stu-id="06ec7-110">To see this Connector in action, see the [Generic SQL Connector step-by-step](active-directory-aadconnectsync-connector-genericsql-step-by-step.md) article.</span></span>

## <a name="overview-of-the-generic-sql-connector"></a><span data-ttu-id="06ec7-111">Visão geral do conector SQL genérico</span><span class="sxs-lookup"><span data-stu-id="06ec7-111">Overview of the Generic SQL Connector</span></span>
<span data-ttu-id="06ec7-112">O conector SQL genérico permite que você integre o serviço de sincronização com um sistema de banco de dados que oferece conectividade ODBC.</span><span class="sxs-lookup"><span data-stu-id="06ec7-112">The Generic SQL Connector enables you to integrate the synchronization service with a database system that offers ODBC connectivity.</span></span>  

<span data-ttu-id="06ec7-113">Partindo de um ponto de vista detalhado, os seguintes recursos têm suporte na versão atual do conector:</span><span class="sxs-lookup"><span data-stu-id="06ec7-113">From a high-level perspective, the following features are supported by the current release of the connector:</span></span>

| <span data-ttu-id="06ec7-114">Recurso</span><span class="sxs-lookup"><span data-stu-id="06ec7-114">Feature</span></span> | <span data-ttu-id="06ec7-115">Suporte</span><span class="sxs-lookup"><span data-stu-id="06ec7-115">Support</span></span> |
| --- | --- |
| <span data-ttu-id="06ec7-116">Fonte de dados conectada</span><span class="sxs-lookup"><span data-stu-id="06ec7-116">Connected data source</span></span> |<span data-ttu-id="06ec7-117">O conector é compatível com todos os drivers ODBC de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="06ec7-117">The Connector is supported with all 64-bit ODBC drivers.</span></span> <span data-ttu-id="06ec7-118">Ele foi testado com o seguinte: </span><span class="sxs-lookup"><span data-stu-id="06ec7-118">It has been tested with the following:</span></span> <li><span data-ttu-id="06ec7-119">Microsoft SQL Server & SQL Azure</span><span class="sxs-lookup"><span data-stu-id="06ec7-119">Microsoft SQL Server & SQL Azure</span></span></li><li><span data-ttu-id="06ec7-120">IBM DB2 10.x</span><span class="sxs-lookup"><span data-stu-id="06ec7-120">IBM DB2 10.x</span></span></li><li><span data-ttu-id="06ec7-121">IBM DB2 9.x</span><span class="sxs-lookup"><span data-stu-id="06ec7-121">IBM DB2 9.x</span></span></li><li><span data-ttu-id="06ec7-122">Oracle 10 & 11g</span><span class="sxs-lookup"><span data-stu-id="06ec7-122">Oracle 10 & 11g</span></span></li><li><span data-ttu-id="06ec7-123">MySQL 5.x</span><span class="sxs-lookup"><span data-stu-id="06ec7-123">MySQL 5.x</span></span></li> |
| <span data-ttu-id="06ec7-124">Cenários</span><span class="sxs-lookup"><span data-stu-id="06ec7-124">Scenarios</span></span> |<li><span data-ttu-id="06ec7-125">Gerenciamento de ciclo de vida do objeto</span><span class="sxs-lookup"><span data-stu-id="06ec7-125">Object Lifecycle Management</span></span></li><li><span data-ttu-id="06ec7-126">Gerenciamento de senha</span><span class="sxs-lookup"><span data-stu-id="06ec7-126">Password Management</span></span></li> |
| <span data-ttu-id="06ec7-127">Operações</span><span class="sxs-lookup"><span data-stu-id="06ec7-127">Operations</span></span> |<li><span data-ttu-id="06ec7-128">Importação completa e importação delta, exportação</span><span class="sxs-lookup"><span data-stu-id="06ec7-128">Full Import and Delta Import, Export</span></span></li><li><span data-ttu-id="06ec7-129">Para exportar: Adicionar, Excluir, Atualizar e Substituir</span><span class="sxs-lookup"><span data-stu-id="06ec7-129">For Export: Add, Delete, Update, and Replace</span></span></li><li><span data-ttu-id="06ec7-130">Definir senha, alterar senha</span><span class="sxs-lookup"><span data-stu-id="06ec7-130">Set Password, Change Password</span></span></li> |
| <span data-ttu-id="06ec7-131">Esquema</span><span class="sxs-lookup"><span data-stu-id="06ec7-131">Schema</span></span> |<li><span data-ttu-id="06ec7-132">Detecção dinâmica de objetos e atributos</span><span class="sxs-lookup"><span data-stu-id="06ec7-132">Dynamic discovery of objects and attributes</span></span></li> |

### <a name="prerequisites"></a><span data-ttu-id="06ec7-133">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="06ec7-133">Prerequisites</span></span>
<span data-ttu-id="06ec7-134">Para usar o conector, verifique se você tem os seguintes itens no servidor de sincronização:</span><span class="sxs-lookup"><span data-stu-id="06ec7-134">Before you use the Connector, make sure you have the following on the synchronization server:</span></span>

* <span data-ttu-id="06ec7-135">Microsoft .NET 4.5.2 Framework ou posterior</span><span class="sxs-lookup"><span data-stu-id="06ec7-135">Microsoft .NET 4.5.2 Framework or later</span></span>
* <span data-ttu-id="06ec7-136">Drivers de cliente ODBC de 64 bits</span><span class="sxs-lookup"><span data-stu-id="06ec7-136">64-bit ODBC client drivers</span></span>

### <a name="permissions-in-connected-data-source"></a><span data-ttu-id="06ec7-137">Permissões na fonte de dados conectada</span><span class="sxs-lookup"><span data-stu-id="06ec7-137">Permissions in connected data source</span></span>
<span data-ttu-id="06ec7-138">Para criar ou executar qualquer uma das tarefas com suporte no conector SQL genérico, você deve ter:</span><span class="sxs-lookup"><span data-stu-id="06ec7-138">To create or perform any of the supported tasks in Generic SQL connector, you must have:</span></span>

* <span data-ttu-id="06ec7-139">db_datareader</span><span class="sxs-lookup"><span data-stu-id="06ec7-139">db_datareader</span></span>
* <span data-ttu-id="06ec7-140">db_datawriter</span><span class="sxs-lookup"><span data-stu-id="06ec7-140">db_datawriter</span></span>

### <a name="ports-and-protocols"></a><span data-ttu-id="06ec7-141">Portas e protocolos</span><span class="sxs-lookup"><span data-stu-id="06ec7-141">Ports and protocols</span></span>
<span data-ttu-id="06ec7-142">Para as portas necessárias ao funcionamento do driver ODBC, confira a documentação do fornecedor do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="06ec7-142">For the ports required for the ODBC driver to work, consult the database vendor's documentation.</span></span>

## <a name="create-a-new-connector"></a><span data-ttu-id="06ec7-143">Criar um novo conector</span><span class="sxs-lookup"><span data-stu-id="06ec7-143">Create a new Connector</span></span>
<span data-ttu-id="06ec7-144">Para criar um conector SQL genérico, em **Serviço de Sincronização** selecione **Agente de Gerenciamento** e **Criar**.</span><span class="sxs-lookup"><span data-stu-id="06ec7-144">To Create a Generic SQL connector, in **Synchronization Service** select **Management Agent** and **Create**.</span></span> <span data-ttu-id="06ec7-145">Selecione o **Conector SQL genérico (Microsoft)** .</span><span class="sxs-lookup"><span data-stu-id="06ec7-145">Select the **Generic SQL (Microsoft)** Connector.</span></span>

![CreateConnector](./media/active-directory-aadconnectsync-connector-genericsql/createconnector.png)

### <a name="connectivity"></a><span data-ttu-id="06ec7-147">Conectividade</span><span class="sxs-lookup"><span data-stu-id="06ec7-147">Connectivity</span></span>
<span data-ttu-id="06ec7-148">O conector usa um arquivo DSN ODBC para conectividade.</span><span class="sxs-lookup"><span data-stu-id="06ec7-148">The Connector uses an ODBC DSN file for connectivity.</span></span> <span data-ttu-id="06ec7-149">Crie o arquivo DSN usando **Fontes de Dados ODBC** encontrado no menu Iniciar em **Ferramentas Administrativas**.</span><span class="sxs-lookup"><span data-stu-id="06ec7-149">Create the DSN file using **ODBC Data Sources** found in the start menu under **Administrative Tools**.</span></span> <span data-ttu-id="06ec7-150">A ferramenta administrativa, cria um **DSN de Arquivo** para que ele possa ser fornecido ao conector.</span><span class="sxs-lookup"><span data-stu-id="06ec7-150">In the administrative tool, create a **File DSN** so it can be provided to the Connector.</span></span>

![CreateConnector](./media/active-directory-aadconnectsync-connector-genericsql/connectivity.png)

<span data-ttu-id="06ec7-152">A tela Conectividade é a primeira quando você cria um novo conector SQL genérico.</span><span class="sxs-lookup"><span data-stu-id="06ec7-152">The Connectivity screen is the first when you create a new Generic SQL Connector.</span></span> <span data-ttu-id="06ec7-153">Primeiro, forneça as seguintes informações:</span><span class="sxs-lookup"><span data-stu-id="06ec7-153">You first need to provide the following information:</span></span>

* <span data-ttu-id="06ec7-154">Caminho do arquivo DSN</span><span class="sxs-lookup"><span data-stu-id="06ec7-154">DSN file path</span></span>
* <span data-ttu-id="06ec7-155">Autenticação</span><span class="sxs-lookup"><span data-stu-id="06ec7-155">Authentication</span></span>
  * <span data-ttu-id="06ec7-156">Nome de usuário</span><span class="sxs-lookup"><span data-stu-id="06ec7-156">User Name</span></span>
  * <span data-ttu-id="06ec7-157">Senha</span><span class="sxs-lookup"><span data-stu-id="06ec7-157">Password</span></span>

<span data-ttu-id="06ec7-158">O banco de dados deve dar suporte a um dos seguintes métodos de autenticação:</span><span class="sxs-lookup"><span data-stu-id="06ec7-158">The database should support one of these authentication methods:</span></span>

* <span data-ttu-id="06ec7-159">**Autenticação do Windows**: o banco de dados de autenticação usa as credenciais do Windows para verificar o usuário.</span><span class="sxs-lookup"><span data-stu-id="06ec7-159">**Windows authentication**: The authenticating database uses the Windows credentials to verify the user.</span></span> <span data-ttu-id="06ec7-160">O nome de usuário/senha especificados são usados para autenticar com o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="06ec7-160">The user name/password specified is used to authenticate with the database.</span></span> <span data-ttu-id="06ec7-161">Essa conta precisa de permissões para o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="06ec7-161">This account needs permissions to the database.</span></span>
* <span data-ttu-id="06ec7-162">**Autenticação do SQL**: o banco de dados de autenticação usa o nome de usuário/senha definido na tela Conectividade para se conectar ao banco de dados.</span><span class="sxs-lookup"><span data-stu-id="06ec7-162">**SQL authentication**: The authenticating database uses the user name/password defined one the Connectivity screen to connect to the database.</span></span> <span data-ttu-id="06ec7-163">Se você armazenar a nome de usuário/senha no arquivo DSN, as credenciais fornecidas na tela Conectividade terão precedência.</span><span class="sxs-lookup"><span data-stu-id="06ec7-163">If you store the user name/pasword in the DSN file, the credentials provided on the Connectivity screen have precedence.</span></span>
* <span data-ttu-id="06ec7-164">**Autenticação do banco de dados SQL do Azure**: para mais informações, veja [Conectar ao banco de dados SQL usando a autenticação do Azure Active Directory](../../sql-database/sql-database-aad-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="06ec7-164">**Azure SQL Database authentication**: For more information, see [Connect to SQL Database By Using Azure Active Directory Authentication](../../sql-database/sql-database-aad-authentication.md).</span></span>

<span data-ttu-id="06ec7-165">**DN é Âncora**: se você selecionar esta opção, o DN também será usado como atributo de âncora.</span><span class="sxs-lookup"><span data-stu-id="06ec7-165">**DN is Anchor**: If you select this option, the DN is also used as the anchor attribute.</span></span> <span data-ttu-id="06ec7-166">Ele pode ser usado para uma implementação simples, mas também tem as seguintes limitações:</span><span class="sxs-lookup"><span data-stu-id="06ec7-166">It can be used for a simple implementation but also has the following limitation:</span></span>

* <span data-ttu-id="06ec7-167">O conector dá suporte a apenas um tipo de objeto.</span><span class="sxs-lookup"><span data-stu-id="06ec7-167">Connector supports only one object type.</span></span> <span data-ttu-id="06ec7-168">Portanto, qualquer atributo de referência só pode fazer referência ao mesmo tipo de objeto.</span><span class="sxs-lookup"><span data-stu-id="06ec7-168">Therefore any reference attributes can only reference the same object type.</span></span>

<span data-ttu-id="06ec7-169">**Tipo de Exportação: Substituir Objeto**: durante a exportação, quando apenas alguns atributos tiverem sido alteradas, o objeto inteiro com todos os atributos será exportado e substituirá o objeto existente.</span><span class="sxs-lookup"><span data-stu-id="06ec7-169">**Export Type: Object Replace**: During export, when only some attributes have changed, the entire object with all attributes is exported and replaces the existing object.</span></span>

### <a name="schema-1-detect-object-types"></a><span data-ttu-id="06ec7-170">Esquema 1 (Detectar tipos de objeto)</span><span class="sxs-lookup"><span data-stu-id="06ec7-170">Schema 1 (Detect object types)</span></span>
<span data-ttu-id="06ec7-171">Nesta página você configurará como o conector localizará tipos de objeto diferentes no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="06ec7-171">On this page, you are going to configure how the Connector is going to find the different object types in the database.</span></span>

<span data-ttu-id="06ec7-172">Cada tipo de objeto é apresentado como uma partição e configurado ainda mais em **Configurar Partições e Hierarquias**.</span><span class="sxs-lookup"><span data-stu-id="06ec7-172">Every object type is presented as a partition and configured further on **Configure Partitions and Hierarchies**.</span></span>

![schema1a](./media/active-directory-aadconnectsync-connector-genericsql/schema1a.png)

<span data-ttu-id="06ec7-174">**Método de detecção do Tipo de objeto**: o conector dá suporte a esses métodos de detecção do tipo de objeto.</span><span class="sxs-lookup"><span data-stu-id="06ec7-174">**Object Type detection method**: The Connector supports these object type detection methods.</span></span>

* <span data-ttu-id="06ec7-175">**Valor Fixo**: forneça a lista de tipos de objeto como uma lista separada por vírgulas.</span><span class="sxs-lookup"><span data-stu-id="06ec7-175">**Fixed Value**: You provide the list of object types with a comma-separated list.</span></span> <span data-ttu-id="06ec7-176">Por exemplo: `User,Group,Department`.</span><span class="sxs-lookup"><span data-stu-id="06ec7-176">For example: `User,Group,Department`.</span></span>  
  <span data-ttu-id="06ec7-177">![schema1b](./media/active-directory-aadconnectsync-connector-genericsql/schema1b.png)</span><span class="sxs-lookup"><span data-stu-id="06ec7-177">![schema1b](./media/active-directory-aadconnectsync-connector-genericsql/schema1b.png)</span></span>
* <span data-ttu-id="06ec7-178">**Tabela/exibição/procedimento armazenado**: forneça o nome da tabela/exibição/procedimento armazenado e, em seguida, o nome da coluna que fornece a lista de tipos de objeto.</span><span class="sxs-lookup"><span data-stu-id="06ec7-178">**Table/View/Stored Procedure**: Provide the name of the table/view/stored procedure and then the column name that provides the list of object types.</span></span> <span data-ttu-id="06ec7-179">Se você usar um procedimento armazenado, forneça também parâmetros para ele no formato **[Nome]:[Direção]:[Valor]**.</span><span class="sxs-lookup"><span data-stu-id="06ec7-179">If you use a stored procedure, then also provide parameters for it in the format **[Name]:[Direction]:[Value]**.</span></span> <span data-ttu-id="06ec7-180">Forneça cada parâmetro em uma linha separada (use Ctrl + Enter para obter uma nova linha).</span><span class="sxs-lookup"><span data-stu-id="06ec7-180">Provide each parameter on a separate line (use Ctrl+Enter to get a new line).</span></span>  
  <span data-ttu-id="06ec7-181">![schema1c](./media/active-directory-aadconnectsync-connector-genericsql/schema1c.png)</span><span class="sxs-lookup"><span data-stu-id="06ec7-181">![schema1c](./media/active-directory-aadconnectsync-connector-genericsql/schema1c.png)</span></span>
* <span data-ttu-id="06ec7-182">**Consulta SQL**: essa opção permite que você forneça uma consulta SQL que retorna uma única coluna com tipos de objeto, por exemplo, `SELECT [Column Name] FROM TABLENAME`.</span><span class="sxs-lookup"><span data-stu-id="06ec7-182">**SQL Query**: This option allows you to provide a SQL query that returns a single column with object types, for example `SELECT [Column Name] FROM TABLENAME`.</span></span> <span data-ttu-id="06ec7-183">A coluna retornada deve ser do tipo cadeia de caracteres (varchar).</span><span class="sxs-lookup"><span data-stu-id="06ec7-183">The returned column must be of type string (varchar).</span></span>

### <a name="schema-2-detect-attribute-types"></a><span data-ttu-id="06ec7-184">Esquema 2 (Detectar tipos de atributo)</span><span class="sxs-lookup"><span data-stu-id="06ec7-184">Schema 2 (Detect attribute types)</span></span>
<span data-ttu-id="06ec7-185">Nesta página, você configurará como os nomes e tipos de atributos serão detectados.</span><span class="sxs-lookup"><span data-stu-id="06ec7-185">On this page, you are going to configure how the attribute names and types are going to be detected.</span></span> <span data-ttu-id="06ec7-186">As opções de configuração são listadas para cada tipo de objeto detectado na página anterior.</span><span class="sxs-lookup"><span data-stu-id="06ec7-186">The configuration options are listed for every object type detected on the previous page.</span></span>

![schema2a](./media/active-directory-aadconnectsync-connector-genericsql/schema2a.png)

<span data-ttu-id="06ec7-188">**Método de detecção do tipo de atributo**: o conector dá suporte a esses métodos de detecção do tipo de atributo com cada tipo de objeto detectado na tela Esquema 1.</span><span class="sxs-lookup"><span data-stu-id="06ec7-188">**Attribute Type detection method**: The Connector supports these attribute type detection methods with every detected object type in Schema 1 screen.</span></span>

* <span data-ttu-id="06ec7-189">**Tabela/exibição/procedimento armazenado**: forneça o nome da tabela/exibição/procedimento armazenado que deve ser usado para localizar nomes de atributo.</span><span class="sxs-lookup"><span data-stu-id="06ec7-189">**Table/View/Stored Procedure**: Provide the name of the table/view/stored procedure that should be used to find the attribute names.</span></span> <span data-ttu-id="06ec7-190">Se você usar um procedimento armazenado, forneça também parâmetros para ele no formato **[Nome]:[Direção]:[Valor]**.</span><span class="sxs-lookup"><span data-stu-id="06ec7-190">If you use a stored procedure, then also provide parameters for it in the format **[Name]:[Direction]:[Value]**.</span></span> <span data-ttu-id="06ec7-191">Forneça cada parâmetro em uma linha separada (use Ctrl + Enter para obter uma nova linha).</span><span class="sxs-lookup"><span data-stu-id="06ec7-191">Provide each parameter on a separate line (use Ctrl+Enter to get a new line).</span></span> <span data-ttu-id="06ec7-192">Para detectar nomes de atributo em um atributo de valores múltiplos, forneça uma lista separada por vírgulas de tabelas ou exibições.</span><span class="sxs-lookup"><span data-stu-id="06ec7-192">To detect the attribute names in a multi-valued attribute, provide a comma-separated list of Tables or Views.</span></span> <span data-ttu-id="06ec7-193">Não haverá suporte para cenários de valores múltiplos quando a tabela pai e filho tiverem os mesmos nomes de coluna.</span><span class="sxs-lookup"><span data-stu-id="06ec7-193">Multivalued scenarios are not supported when parent and child table have same column names.</span></span>
* <span data-ttu-id="06ec7-194">**Consulta SQL**: essa opção permite que você forneça uma consulta SQL que retorna uma única coluna com nomes de atributo, por exemplo, `SELECT [Column Name] FROM TABLENAME`.</span><span class="sxs-lookup"><span data-stu-id="06ec7-194">**SQL query**: This option allows you to provide a SQL query that returns a single column with attribute names, for example `SELECT [Column Name] FROM TABLENAME`.</span></span> <span data-ttu-id="06ec7-195">A coluna retornada deve ser do tipo cadeia de caracteres (varchar).</span><span class="sxs-lookup"><span data-stu-id="06ec7-195">The returned column must be of type string (varchar).</span></span>

### <a name="schema-3-define-anchor-and-dn"></a><span data-ttu-id="06ec7-196">Esquema 3 (Definir âncora e DN)</span><span class="sxs-lookup"><span data-stu-id="06ec7-196">Schema 3 (Define anchor and DN)</span></span>
<span data-ttu-id="06ec7-197">Esta página permite que você configure a âncora e o atributo DN para cada tipo de objeto detectado.</span><span class="sxs-lookup"><span data-stu-id="06ec7-197">This page allows you to configure anchor and DN attribute for each detected object type.</span></span> <span data-ttu-id="06ec7-198">Você pode selecionar vários atributos para tornar a âncora exclusiva.</span><span class="sxs-lookup"><span data-stu-id="06ec7-198">You can select multiple attributes to make the anchor unique.</span></span>

![schema3a](./media/active-directory-aadconnectsync-connector-genericsql/schema3a.png)

* <span data-ttu-id="06ec7-200">Atributos de valores múltiplos e boolianos não são listados.</span><span class="sxs-lookup"><span data-stu-id="06ec7-200">Multi-valued and Boolean attributes are not listed.</span></span>
* <span data-ttu-id="06ec7-201">O mesmo atributo não pode usar DN e âncora, a menos que **DN é Âncora** seja selecionado na página Conectividade.</span><span class="sxs-lookup"><span data-stu-id="06ec7-201">Same attribute cannot use for DN and anchor, unless **DN is Anchor** is selected on the Connectivity page.</span></span>
* <span data-ttu-id="06ec7-202">Se **DN é Âncora** estiver selecionado na página Conectividade, esta página só solicitará o atributo DN.</span><span class="sxs-lookup"><span data-stu-id="06ec7-202">If **DN is Anchor** is selected on the Connectivity page, this page requires only the DN attribute.</span></span> <span data-ttu-id="06ec7-203">Esse atributo será usado também como o atributo de âncora.</span><span class="sxs-lookup"><span data-stu-id="06ec7-203">This attribute would also be used as the anchor attribute.</span></span>

  ![schema3b](./media/active-directory-aadconnectsync-connector-genericsql/schema3b.png)

### <a name="schema-4-define-attribute-type-reference-and-direction"></a><span data-ttu-id="06ec7-205">Esquema 4 (Definir tipo de atributo, referência e direção)</span><span class="sxs-lookup"><span data-stu-id="06ec7-205">Schema 4 (Define attribute type, reference, and direction)</span></span>
<span data-ttu-id="06ec7-206">Essa página permite que você configure o tipo de atributo, como inteiro, binário ou Booliano, e a direção para cada atributo.</span><span class="sxs-lookup"><span data-stu-id="06ec7-206">This page allows you to configure the attribute type, such as integer, binary, or Boolean, and direction for each attribute.</span></span> <span data-ttu-id="06ec7-207">Todos os atributos da página **Esquema 2** estão listados como atributos de valores múltiplos.</span><span class="sxs-lookup"><span data-stu-id="06ec7-207">All attributes from page **schema 2** are listed including multi-valued attributes.</span></span>

![schema4a](./media/active-directory-aadconnectsync-connector-genericsql/schema4a.png)

* <span data-ttu-id="06ec7-209">**DataType**: usado para mapear o tipo de atributo para os tipos conhecidos do mecanismo de sincronização.</span><span class="sxs-lookup"><span data-stu-id="06ec7-209">**DataType**: Used to map the attribute type to those types known by the sync engine.</span></span> <span data-ttu-id="06ec7-210">O padrão é usar o mesmo tipo, conforme detectado no esquema SQL, mas DateTime e referência não são facilmente detectáveis.</span><span class="sxs-lookup"><span data-stu-id="06ec7-210">The default is to use the same type as detected in the SQL schema, but DateTime and Reference are not easily detectable.</span></span> <span data-ttu-id="06ec7-211">Para esses você precisa especificar **DateTime** ou **Referência**.</span><span class="sxs-lookup"><span data-stu-id="06ec7-211">For those, you need to specify **DateTime** or **Reference**.</span></span>
* <span data-ttu-id="06ec7-212">**Direção**: você pode definir a direção do atributo para Importar, Exportar ou ImportExport.</span><span class="sxs-lookup"><span data-stu-id="06ec7-212">**Direction**: You can set the attribute direction to Import, Export, or ImportExport.</span></span> <span data-ttu-id="06ec7-213">ImportExport é o padrão.</span><span class="sxs-lookup"><span data-stu-id="06ec7-213">ImportExport is default.</span></span>

![schema4b](./media/active-directory-aadconnectsync-connector-genericsql/schema4b.png)

<span data-ttu-id="06ec7-215">Observações:</span><span class="sxs-lookup"><span data-stu-id="06ec7-215">Notes:</span></span>

* <span data-ttu-id="06ec7-216">Se um tipo de atributo não for detectável pelo conector, ele usará o tipo de dados String.</span><span class="sxs-lookup"><span data-stu-id="06ec7-216">If an attribute type is not detectable by the Connector, it uses the String data type.</span></span>
* <span data-ttu-id="06ec7-217">**Tabelas aninhadas** podem ser consideradas tabelas de banco de dados de uma coluna.</span><span class="sxs-lookup"><span data-stu-id="06ec7-217">**Nested tables** can be considered one-column database tables.</span></span> <span data-ttu-id="06ec7-218">O Oracle armazena as linhas de uma tabela aninhada sem nenhuma ordem específica.</span><span class="sxs-lookup"><span data-stu-id="06ec7-218">Oracle stores the rows of a nested table in no particular order.</span></span> <span data-ttu-id="06ec7-219">No entanto, quando você recupera a tabela aninhada em uma variável de PL/SQL, as linhas recebem subscritos consecutivos, começando em 1.</span><span class="sxs-lookup"><span data-stu-id="06ec7-219">However, when you retrieve the nested table into a PL/SQL variable, the rows are given consecutive subscripts starting at 1.</span></span> <span data-ttu-id="06ec7-220">Que lhe dá acesso do tipo matriz a linhas individuais.</span><span class="sxs-lookup"><span data-stu-id="06ec7-220">That gives you array-like access to individual rows.</span></span>
* <span data-ttu-id="06ec7-221">**VARRYS** não têm suporte no conector.</span><span class="sxs-lookup"><span data-stu-id="06ec7-221">**VARRYS** are not supported in the connector.</span></span>

### <a name="schema-5-define-partition-for-reference-attributes"></a><span data-ttu-id="06ec7-222">Esquema 5 (Definir partição para atributos de referência)</span><span class="sxs-lookup"><span data-stu-id="06ec7-222">Schema 5 (Define partition for reference attributes)</span></span>
<span data-ttu-id="06ec7-223">Nesta página você configura todos os atributos de referência a cuja partição (tipo de objeto) um atributo está se referindo.</span><span class="sxs-lookup"><span data-stu-id="06ec7-223">On this page, you configure for all reference attributes which partition (object type) an attribute is referring to.</span></span>

![schema5](./media/active-directory-aadconnectsync-connector-genericsql/schema5.png)

<span data-ttu-id="06ec7-225">Se você usar **DN é âncora**, deverá usar o mesmo tipo de objeto do qual está fazendo referência.</span><span class="sxs-lookup"><span data-stu-id="06ec7-225">If you use **DN is anchor**, then you must use the same object type as the one you are referring from.</span></span> <span data-ttu-id="06ec7-226">Não é possível referenciar outro tipo de objeto.</span><span class="sxs-lookup"><span data-stu-id="06ec7-226">You cannot reference another object type.</span></span>

>[!NOTE]
<span data-ttu-id="06ec7-227">A partir da atualização de março de 2017 há uma opção para "*" e quando essa opção é escolhida todos os tipos de membro possíveis serão importados.</span><span class="sxs-lookup"><span data-stu-id="06ec7-227">Starting in the March 2017 update there is now an option for "*" When this option is chosen then all possible member types will be imported.</span></span>

![globalparameters3](./media/active-directory-aadconnectsync-connector-genericsql/any-option.png)

>[!IMPORTANT]
 <span data-ttu-id="06ec7-229">Desde maio de 2017 o "*" também conhecido como **qualquer opção** foi alterado para dar suporte ao fluxo de importação e exportação.</span><span class="sxs-lookup"><span data-stu-id="06ec7-229">As of May 2017 the “*” aka **any option** has been changed to support import and export flow.</span></span> <span data-ttu-id="06ec7-230">Se você quiser usar essa opção, a exibição/tabela de vários valores deve ter um atributo que contém o tipo de objeto.</span><span class="sxs-lookup"><span data-stu-id="06ec7-230">If you want to use this option your multi-valued table/view should have an attribute that contains the object type.</span></span>

![](./media/active-directory-aadconnectsync-connector-genericsql/any-02.png)

 </br> <span data-ttu-id="06ec7-231">Se "*" for selecionado, o nome da coluna com o tipo de objeto também deverá ser especificado.</span><span class="sxs-lookup"><span data-stu-id="06ec7-231">If "*" is selected then the name of the column with the object type must also be specified.</span></span></br> ![](./media/active-directory-aadconnectsync-connector-genericsql/any-03.png)

<span data-ttu-id="06ec7-232">Após a importação você verá algo semelhante à imagem a seguir:</span><span class="sxs-lookup"><span data-stu-id="06ec7-232">After import you will see something similar to the image below:</span></span>

  ![globalparameters3](./media/active-directory-aadconnectsync-connector-genericsql/after-import.png)



### <a name="global-parameters"></a><span data-ttu-id="06ec7-234">Parâmetros Globais</span><span class="sxs-lookup"><span data-stu-id="06ec7-234">Global Parameters</span></span>
<span data-ttu-id="06ec7-235">A página Parâmetros Globais é usada para configurar importação Delta, formato de data/hora e método de senha.</span><span class="sxs-lookup"><span data-stu-id="06ec7-235">The Global Parameters page is used to configure Delta Import, Date/Time format, and Password method.</span></span>

![globalparameters1](./media/active-directory-aadconnectsync-connector-genericsql/globalparameters1.png)



<span data-ttu-id="06ec7-237">O conector SQL genérico dá suporte aos seguintes métodos de importação Delta:</span><span class="sxs-lookup"><span data-stu-id="06ec7-237">The Generic SQL Connector supports the following methods for Delta Import:</span></span>

* <span data-ttu-id="06ec7-238">**Gatilho**: consulte [Gerar exibições de Delta usando gatilhos](https://technet.microsoft.com/library/cc708665.aspx).</span><span class="sxs-lookup"><span data-stu-id="06ec7-238">**Trigger**: See [Generating Delta Views Using Triggers](https://technet.microsoft.com/library/cc708665.aspx).</span></span>
* <span data-ttu-id="06ec7-239">**Marca d'água**: uma abordagem genérica que pode ser usada com qualquer banco de dados.</span><span class="sxs-lookup"><span data-stu-id="06ec7-239">**Watermark**: A generic approach that can be used with any database.</span></span> <span data-ttu-id="06ec7-240">A consulta de marca-d'água será preenchida com base no fornecedor do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="06ec7-240">The watermark query is pre-populated based on the database vendor.</span></span> <span data-ttu-id="06ec7-241">Uma coluna de marca-d'água deve estar presente em cada tabela/exibição usada.</span><span class="sxs-lookup"><span data-stu-id="06ec7-241">A watermark column must be present on every table/view used.</span></span> <span data-ttu-id="06ec7-242">Essa coluna deve controlar inserções e atualizações para as tabelas e suas tabelas dependentes (de valores múltiplos ou filho).</span><span class="sxs-lookup"><span data-stu-id="06ec7-242">This column must track inserts and updates to the tables as and its dependent (multi-valued or child) tables.</span></span> <span data-ttu-id="06ec7-243">Os relógios entre o serviço de sincronização e o servidor de banco de dados devem ser sincronizados.</span><span class="sxs-lookup"><span data-stu-id="06ec7-243">The clocks between Synchronization Service and the database server must be synchronized.</span></span> <span data-ttu-id="06ec7-244">Caso contrário, algumas entradas na importação delta podem ser omitidas.</span><span class="sxs-lookup"><span data-stu-id="06ec7-244">If not, some entries in the delta import might be omitted.</span></span>  
  <span data-ttu-id="06ec7-245">Limitação:</span><span class="sxs-lookup"><span data-stu-id="06ec7-245">Limitation:</span></span>
  * <span data-ttu-id="06ec7-246">A estratégia de marca-d'água não dá suporte a exclusão de objetos.</span><span class="sxs-lookup"><span data-stu-id="06ec7-246">Watermark strategy does not support deleted objects.</span></span>
* <span data-ttu-id="06ec7-247">**Instantâneo**(funciona somente com o Microsoft SQL Server) [Gerando exibições de Delta usando instantâneos](https://technet.microsoft.com/library/cc720640.aspx)</span><span class="sxs-lookup"><span data-stu-id="06ec7-247">**Snapshot**: (Works only with Microsoft SQL Server) [Generating Delta Views Using Snapshots](https://technet.microsoft.com/library/cc720640.aspx)</span></span>
* <span data-ttu-id="06ec7-248">**Acompanhamento de alterações**(funciona somente com o Microsoft SQL Server) [About Acompanhamento de alterações](https://msdn.microsoft.com/library/bb933875.aspx)</span><span class="sxs-lookup"><span data-stu-id="06ec7-248">**Change Tracking**: (Works only with Microsoft SQL Server) [About Change Tracking](https://msdn.microsoft.com/library/bb933875.aspx)</span></span>  
  <span data-ttu-id="06ec7-249">Limitações:</span><span class="sxs-lookup"><span data-stu-id="06ec7-249">Limitations:</span></span>
  * <span data-ttu-id="06ec7-250">Atributo de âncora e DN devem ser parte da chave primária para o objeto selecionado na tabela.</span><span class="sxs-lookup"><span data-stu-id="06ec7-250">Anchor & DN attribute must be part of primary key for the selected object in the table.</span></span>
  * <span data-ttu-id="06ec7-251">Consulta SQL não tem suporte durante importação e exportação com acompanhamento de alterações.</span><span class="sxs-lookup"><span data-stu-id="06ec7-251">SQL query is unsupported during Import and Export with Change Tracking.</span></span>

<span data-ttu-id="06ec7-252">**Parâmetros adicionais**: especifique o fuso horário do servidor de banco de dados que indica o local em que o servidor de banco de dados está localizado.</span><span class="sxs-lookup"><span data-stu-id="06ec7-252">**Additional Parameters**: Specify the Database Server Time Zone indicating where your Database server is located.</span></span> <span data-ttu-id="06ec7-253">Esse valor é usado para dar suporte aos vários formatos de atributos de data e hora.</span><span class="sxs-lookup"><span data-stu-id="06ec7-253">This value is used to support the various formats of date & time attributes.</span></span>

<span data-ttu-id="06ec7-254">O conector sempre armazena data e data e hora no formato UTC.</span><span class="sxs-lookup"><span data-stu-id="06ec7-254">The Connector always stores date and date-time in UTC format.</span></span> <span data-ttu-id="06ec7-255">Para converter corretamente datas e horas, o fuso horário do servidor de banco de dados e o formato usado devem ser especificados.</span><span class="sxs-lookup"><span data-stu-id="06ec7-255">To be able to correctly convert the date and times, the time zone of the database server and the format used must be specified.</span></span> <span data-ttu-id="06ec7-256">O formato deve ser expresso no formato .Net.</span><span class="sxs-lookup"><span data-stu-id="06ec7-256">The format should be expressed in .Net format.</span></span>

<span data-ttu-id="06ec7-257">Durante a exportação, todos os atributos de data e hora devem ser fornecidos ao conector no formato de hora UTC.</span><span class="sxs-lookup"><span data-stu-id="06ec7-257">During export every date time attribute must be provided to the Connector in UTC time format.</span></span>

![globalparameters2](./media/active-directory-aadconnectsync-connector-genericsql/globalparameters2.png)

<span data-ttu-id="06ec7-259">**Configuração de senha**: o conector fornece recursos de sincronização de senha e dá suporte a definição e alteração de senha.</span><span class="sxs-lookup"><span data-stu-id="06ec7-259">**Password Configuration**: The connector provides password synchronization capabilities and supports set and change password.</span></span>

<span data-ttu-id="06ec7-260">O conector fornece dois métodos para dar suporte à sincronização de senha:</span><span class="sxs-lookup"><span data-stu-id="06ec7-260">The Connector provides two methods to support password synchronization:</span></span>

* <span data-ttu-id="06ec7-261">**Procedimento armazenado**: esse método requer dois procedimentos armazenados para dar suporte a definição e alteração de senha.</span><span class="sxs-lookup"><span data-stu-id="06ec7-261">**Stored Procedure**: This method requires two stored procedures to support Set & Change password.</span></span> <span data-ttu-id="06ec7-262">Digite todos os parâmetros para adicionar e alterar a operação de senha em **Definir procedimento armazenado de senha** e **Alterar parâmetros de procedimento armazenado de senha** como nos exemplos abaixo.</span><span class="sxs-lookup"><span data-stu-id="06ec7-262">Type all parameters for add and change the password operation in **Set Password SP** and **Change Password SP** Parameters respectively as per below example.</span></span>
  <span data-ttu-id="06ec7-263">![globalparameters3](./media/active-directory-aadconnectsync-connector-genericsql/globalparameters3.png)</span><span class="sxs-lookup"><span data-stu-id="06ec7-263">![globalparameters3](./media/active-directory-aadconnectsync-connector-genericsql/globalparameters3.png)</span></span>
* <span data-ttu-id="06ec7-264">**Extensão de senha**: este método requer DLL de extensão de senha (você precisa fornecer o nome DLL de extensão que está implementando a interface [IMAExtensible2Password](https://msdn.microsoft.com/library/microsoft.metadirectoryservices.imaextensible2password.aspx) ).</span><span class="sxs-lookup"><span data-stu-id="06ec7-264">**Password Extension**: This method requires Password extension DLL (you need to provide the Extension DLL Name that is implementing the [IMAExtensible2Password](https://msdn.microsoft.com/library/microsoft.metadirectoryservices.imaextensible2password.aspx) interface).</span></span> <span data-ttu-id="06ec7-265">O assembly de extensão de senha deve ser colocado na pasta de extensão para que o conector possa carregar a DLL no tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="06ec7-265">Password extension assembly must be placed in extension folder so that the connector can load the DLL at runtime.</span></span>
  <span data-ttu-id="06ec7-266">![globalparameters4](./media/active-directory-aadconnectsync-connector-genericsql/globalparameters4.png)</span><span class="sxs-lookup"><span data-stu-id="06ec7-266">![globalparameters4](./media/active-directory-aadconnectsync-connector-genericsql/globalparameters4.png)</span></span>

<span data-ttu-id="06ec7-267">Você também deve habilitar o Gerenciamento de senhas na página **Configurar Extensão** .</span><span class="sxs-lookup"><span data-stu-id="06ec7-267">You also have to enable the Password Management on the **Configure Extension** page.</span></span>
<span data-ttu-id="06ec7-268">![globalparameters5](./media/active-directory-aadconnectsync-connector-genericsql/globalparameters5.png)</span><span class="sxs-lookup"><span data-stu-id="06ec7-268">![globalparameters5](./media/active-directory-aadconnectsync-connector-genericsql/globalparameters5.png)</span></span>

### <a name="configure-partitions-and-hierarchies"></a><span data-ttu-id="06ec7-269">Configurar Partições e Hierarquias</span><span class="sxs-lookup"><span data-stu-id="06ec7-269">Configure Partitions and Hierarchies</span></span>
<span data-ttu-id="06ec7-270">Na página de partições e hierarquias, selecione todos os tipos de objeto.</span><span class="sxs-lookup"><span data-stu-id="06ec7-270">On the partitions and hierarchies page, select all object types.</span></span> <span data-ttu-id="06ec7-271">Cada tipo de objeto está em sua própria partição.</span><span class="sxs-lookup"><span data-stu-id="06ec7-271">Each object type is its own partition.</span></span>

![partitions1](./media/active-directory-aadconnectsync-connector-genericsql/partitions1.png)

<span data-ttu-id="06ec7-273">Você também pode substituir os valores definidos na página **Conectividade** ou **Parâmetros Globais**.</span><span class="sxs-lookup"><span data-stu-id="06ec7-273">You can also override the values defined on the **Connectivity** or **Global Parameters** page.</span></span>

![partitions2](./media/active-directory-aadconnectsync-connector-genericsql/partitions2.png)

### <a name="configure-anchors"></a><span data-ttu-id="06ec7-275">Configurar Âncoras</span><span class="sxs-lookup"><span data-stu-id="06ec7-275">Configure Anchors</span></span>
<span data-ttu-id="06ec7-276">Esta página é somente leitura, pois a âncora já foi definida.</span><span class="sxs-lookup"><span data-stu-id="06ec7-276">This page is read-only since the anchor has already been defined.</span></span> <span data-ttu-id="06ec7-277">O atributo de âncora selecionado sempre é acrescentado com o tipo de objeto para garantir que ele permaneça exclusivo em todos os tipos de objeto.</span><span class="sxs-lookup"><span data-stu-id="06ec7-277">The selected anchor attribute is always appended with the object type to ensure it remains unique across object types.</span></span>

![ancoras](./media/active-directory-aadconnectsync-connector-genericsql/anchors.png)

## <a name="configure-run-step-parameter"></a><span data-ttu-id="06ec7-279">Configurar parâmetros da etapa de execução</span><span class="sxs-lookup"><span data-stu-id="06ec7-279">Configure Run Step Parameter</span></span>
<span data-ttu-id="06ec7-280">Essas etapas são configuradas em perfis de execução do conector.</span><span class="sxs-lookup"><span data-stu-id="06ec7-280">These steps are configured on the run profiles on the Connector.</span></span> <span data-ttu-id="06ec7-281">Essas configurações fazem o trabalho real de importar e exportar dados.</span><span class="sxs-lookup"><span data-stu-id="06ec7-281">These configurations do the actual work of importing and exporting data.</span></span>

### <a name="full-and-delta-import"></a><span data-ttu-id="06ec7-282">Importação completa e Delta</span><span class="sxs-lookup"><span data-stu-id="06ec7-282">Full and Delta Import</span></span>
<span data-ttu-id="06ec7-283">O conector SQL genérico oferece suporte a importação completa e Delta usando estes métodos genérico:</span><span class="sxs-lookup"><span data-stu-id="06ec7-283">Generic SQL Connector support Full and Delta Import using these methods:</span></span>

* <span data-ttu-id="06ec7-284">Tabela</span><span class="sxs-lookup"><span data-stu-id="06ec7-284">Table</span></span>
* <span data-ttu-id="06ec7-285">Visualizar</span><span class="sxs-lookup"><span data-stu-id="06ec7-285">View</span></span>
* <span data-ttu-id="06ec7-286">Procedimento armazenado</span><span class="sxs-lookup"><span data-stu-id="06ec7-286">Stored Procedure</span></span>
* <span data-ttu-id="06ec7-287">Consulta SQL</span><span class="sxs-lookup"><span data-stu-id="06ec7-287">SQL Query</span></span>

![runstep1](./media/active-directory-aadconnectsync-connector-genericsql/runstep1.png)

<span data-ttu-id="06ec7-289">**Tabela/Exibição**</span><span class="sxs-lookup"><span data-stu-id="06ec7-289">**Table/View**</span></span>  
<span data-ttu-id="06ec7-290">Para importar atributos de valores múltiplos de um objeto, você precisa fornecer o nome de tabela/exibição separados por vírgulas em **Nome de tabela/exibições de valores múltiplos** e as respectivas condições de junção em **Condição de junção** com a tabela principal.</span><span class="sxs-lookup"><span data-stu-id="06ec7-290">To import multi-valued attributes for an object, you have to provide the comma-separated table/view name in **Name of Multi-Valued table/views** and respective join conditions in the **Join condition** with the parent table.</span></span>

<span data-ttu-id="06ec7-291">Exemplo: você deseja importar o objeto de funcionário e todos os seus atributos de valores múltiplos.</span><span class="sxs-lookup"><span data-stu-id="06ec7-291">Example: You want to import the Employee object and all its multi-valued attributes.</span></span> <span data-ttu-id="06ec7-292">Há duas tabelas chamadas Funcionário (tabela principal) e Departamento (valores múltiplos).</span><span class="sxs-lookup"><span data-stu-id="06ec7-292">There are two tables, named Employee (main table) and Department (multi-valued).</span></span>
<span data-ttu-id="06ec7-293">Faça o seguinte:</span><span class="sxs-lookup"><span data-stu-id="06ec7-293">Do the following:</span></span>

* <span data-ttu-id="06ec7-294">Digite **Funcionário** em **Tabela/Exibição/SP**.</span><span class="sxs-lookup"><span data-stu-id="06ec7-294">Type **Employee** in **Table/View/SP**.</span></span>
* <span data-ttu-id="06ec7-295">Digite Departamento em **Nome da tabela/exibições de valores múltiplos**.</span><span class="sxs-lookup"><span data-stu-id="06ec7-295">Type Department in **Name of Multi-Valued table/views**.</span></span>
* <span data-ttu-id="06ec7-296">Digite a condição de junção entre Funcionário e Departamento em **Condição de Junção**, por exemplo, `Employee.DEPTID=Department.DepartmentID`.</span><span class="sxs-lookup"><span data-stu-id="06ec7-296">Type the join condition between Employee & Department in **Join Condition**, for example `Employee.DEPTID=Department.DepartmentID`.</span></span>
  <span data-ttu-id="06ec7-297">![runstep2](./media/active-directory-aadconnectsync-connector-genericsql/runstep2.png)</span><span class="sxs-lookup"><span data-stu-id="06ec7-297">![runstep2](./media/active-directory-aadconnectsync-connector-genericsql/runstep2.png)</span></span>

<span data-ttu-id="06ec7-298">**Procedimentos armazenados**</span><span class="sxs-lookup"><span data-stu-id="06ec7-298">**Stored procedures**</span></span>  
<span data-ttu-id="06ec7-299">![runstep3](./media/active-directory-aadconnectsync-connector-genericsql/runstep3.png)</span><span class="sxs-lookup"><span data-stu-id="06ec7-299">![runstep3](./media/active-directory-aadconnectsync-connector-genericsql/runstep3.png)</span></span>

* <span data-ttu-id="06ec7-300">Se você tem muitos dados, é recomendável implementar a paginação com os procedimentos armazenados.</span><span class="sxs-lookup"><span data-stu-id="06ec7-300">If you have much data, it is recommended to implement pagination with your Stored Procedures.</span></span>
* <span data-ttu-id="06ec7-301">Para o procedimento armazenado der suporte à paginação, forneça o Índice inicial e o final.</span><span class="sxs-lookup"><span data-stu-id="06ec7-301">For your Stored Procedure to support pagination, you need to provide Start Index and End Index.</span></span> <span data-ttu-id="06ec7-302">Consulte: [Paginação eficiente em grandes quantidades de dados](https://msdn.microsoft.com/library/bb445504.aspx).</span><span class="sxs-lookup"><span data-stu-id="06ec7-302">See: [Efficiently Paging Through Large Amounts of Data](https://msdn.microsoft.com/library/bb445504.aspx).</span></span>
* <span data-ttu-id="06ec7-303">@StartIndex e @EndIndex são substituídos em tempo de execução pelo respectivo valor do tamanho de página configurado na página **Configurar Etapa**.</span><span class="sxs-lookup"><span data-stu-id="06ec7-303">@StartIndex and @EndIndex are replaced at execution time with respective page size value configured on **Configure Step** page.</span></span> <span data-ttu-id="06ec7-304">Por exemplo, quando o conector recupera a primeira página e o tamanho da página é definido como 500, nessa situação @StartIndex é 1 e @EndIndex é 500.</span><span class="sxs-lookup"><span data-stu-id="06ec7-304">For example, when the connector retrieves first page and the page size is set 500, in such situation @StartIndex would be 1 and @EndIndex 500.</span></span> <span data-ttu-id="06ec7-305">Esses valores aumentam quando o conector recupera páginas subsequentes e altera o valor de @StartIndex e @EndIndex.</span><span class="sxs-lookup"><span data-stu-id="06ec7-305">These values increase when connector retrieves subsequent pages and change the @StartIndex & @EndIndex value.</span></span>
* <span data-ttu-id="06ec7-306">Para executar o procedimento armazenado com parâmetros, forneça os parâmetros no formato `[Name]:[Direction]:[Value]` .</span><span class="sxs-lookup"><span data-stu-id="06ec7-306">To execute parameterized Stored Procedure, provide the parameters in `[Name]:[Direction]:[Value]` format.</span></span> <span data-ttu-id="06ec7-307">Forneça cada parâmetro em uma linha separada (use Ctrl + Enter para obter uma nova linha).</span><span class="sxs-lookup"><span data-stu-id="06ec7-307">Enter each parameter on a separate line (Use Ctrl + Enter to get a new line).</span></span>
* <span data-ttu-id="06ec7-308">O conector do SQL genérico também dá suporte à operação de importação de Servidores Vinculados no Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="06ec7-308">Generic SQL connector also supports Import operation from Linked Servers in Microsoft SQL Server.</span></span> <span data-ttu-id="06ec7-309">Se informações precisarem ser recuperadas de uma Tabela no servidor Vinculado, a Tabela deverá ser fornecida no formato: `[ServerName].[Database].[Schema].[TableName]`</span><span class="sxs-lookup"><span data-stu-id="06ec7-309">If information should be retrieved from a Table in Linked server, then Table should be provided in the format: `[ServerName].[Database].[Schema].[TableName]`</span></span>
* <span data-ttu-id="06ec7-310">O conector SQL genérico só dá suporte a objetos com estrutura semelhante (nome de alias e tipo de dados) entre informações de etapas de execução e detecção de esquema.</span><span class="sxs-lookup"><span data-stu-id="06ec7-310">Generic SQL Connector supports only those objects that have similar structure (both alias name and data type) between run steps information and schema detection.</span></span> <span data-ttu-id="06ec7-311">Se o objeto selecionado do esquema e as informações fornecidas na etapa de execução forem diferentes, o conector do SQL será não poderá dar suporte a esse tipo de cenário.</span><span class="sxs-lookup"><span data-stu-id="06ec7-311">If the selected object from schema and provided information at run step is different, then SQL Connector is unable to support this type of scenarios.</span></span>

<span data-ttu-id="06ec7-312">**Consulta SQL**</span><span class="sxs-lookup"><span data-stu-id="06ec7-312">**SQL Query**</span></span>  
<span data-ttu-id="06ec7-313">![runstep4](./media/active-directory-aadconnectsync-connector-genericsql/runstep4.png)</span><span class="sxs-lookup"><span data-stu-id="06ec7-313">![runstep4](./media/active-directory-aadconnectsync-connector-genericsql/runstep4.png)</span></span>

![runstep5](./media/active-directory-aadconnectsync-connector-genericsql/runstep5.png)

* <span data-ttu-id="06ec7-315">Consultas com vários conjuntos de resultados não têm suporte.</span><span class="sxs-lookup"><span data-stu-id="06ec7-315">Multiple result sets queries not supported.</span></span>
* <span data-ttu-id="06ec7-316">A consulta SQL dá suporte a paginação e fornece o índice inicial e final como uma variável para dar suporte à paginação.</span><span class="sxs-lookup"><span data-stu-id="06ec7-316">SQL query supports the pagination and provide start Index and End Index as a variable to support pagination.</span></span>

### <a name="delta-import"></a><span data-ttu-id="06ec7-317">Importação de delta</span><span class="sxs-lookup"><span data-stu-id="06ec7-317">Delta Import</span></span>
![runstep6](./media/active-directory-aadconnectsync-connector-genericsql/runstep6.png)

<span data-ttu-id="06ec7-319">A configuração de Importação de Delta exige alguma configuração adicional, em comparação com a Importação Completa.</span><span class="sxs-lookup"><span data-stu-id="06ec7-319">Delta Import configuration requires some more configuration compared with Full Import.</span></span>

* <span data-ttu-id="06ec7-320">Se você escolher a abordagem de instantâneo ou gatilho para acompanhar as alterações delta, forneça banco de dados de uma tabela de histórico ou instantâneo na caixa **Nome de banco de dados de Instantâneo ou tabela de Histórico** .</span><span class="sxs-lookup"><span data-stu-id="06ec7-320">If you choose the Trigger or Snapshot approach to track delta changes, then provide History Table or Snapshot database in **History Table or Snapshot database name** box.</span></span>
* <span data-ttu-id="06ec7-321">Você também precisa fornecer a condição de junção entre a tabela de histórico e tabela principal, por exemplo, `Employee.ID=History.EmployeeID`</span><span class="sxs-lookup"><span data-stu-id="06ec7-321">You also need to provide join condition between History table and Parent table, for example `Employee.ID=History.EmployeeID`</span></span>
* <span data-ttu-id="06ec7-322">Para controlar a transação na tabela principal da tabela de histórico, você deve fornecer o nome da coluna que contém as informações da operação (Adicionar/Atualizar/Excluir).</span><span class="sxs-lookup"><span data-stu-id="06ec7-322">To track the transaction on the parent table from the history table, you must provide the column name that contains the operation information (Add/Update/Delete).</span></span>
* <span data-ttu-id="06ec7-323">Se você escolher a Marca d'água para acompanhar as alterações delta, forneça o nome da coluna que contém as informações de operação em **Nome de Coluna de Marca d'água**.</span><span class="sxs-lookup"><span data-stu-id="06ec7-323">If you choose Watermark to track delta changes, then provide the column name that contains the operation information in **Water Mark Column Name**.</span></span>
* <span data-ttu-id="06ec7-324">A coluna **alterar atributo de tipo** é necessária para o tipo de alteração.</span><span class="sxs-lookup"><span data-stu-id="06ec7-324">The **change Type attribute** column is required for the change type.</span></span> <span data-ttu-id="06ec7-325">Essa coluna mapeia uma alteração que ocorre na tabela primária ou tabela de valores múltiplos para um tipo de alteração na exibição de delta.</span><span class="sxs-lookup"><span data-stu-id="06ec7-325">This column maps a change that occurs in the primary table or multi-value table to a change type in the delta view.</span></span> <span data-ttu-id="06ec7-326">Esta coluna pode conter o tipo de alteração Modify_Attribute para a alteração de nível de atributo ou um tipo de alteração Adicionar, Modificar ou Excluir, para um tipo de alteração de nível de objeto.</span><span class="sxs-lookup"><span data-stu-id="06ec7-326">This column can contain the Modify_Attribute change type for attribute-level change or an Add, Modify, or Delete change type for an object-level change type.</span></span> <span data-ttu-id="06ec7-327">Se for algo diferente do valor padrão de Adicionar, Modificar ou Excluir, você poderá definir esses valores usando essa opção.</span><span class="sxs-lookup"><span data-stu-id="06ec7-327">If it is something other than the default value Add, Modify, or Delete, then you can define those values using this option.</span></span>

### <a name="export"></a><span data-ttu-id="06ec7-328">Exportação</span><span class="sxs-lookup"><span data-stu-id="06ec7-328">Export</span></span>
![runstep7](./media/active-directory-aadconnectsync-connector-genericsql/runstep7.png)

<span data-ttu-id="06ec7-330">O conector SQL genérico oferece suporte à exportação usando quatro métodos:</span><span class="sxs-lookup"><span data-stu-id="06ec7-330">Generic SQL Connector support Export using four supported methods such as:</span></span>

* <span data-ttu-id="06ec7-331">Tabela</span><span class="sxs-lookup"><span data-stu-id="06ec7-331">Table</span></span>
* <span data-ttu-id="06ec7-332">Visualizar</span><span class="sxs-lookup"><span data-stu-id="06ec7-332">View</span></span>
* <span data-ttu-id="06ec7-333">Procedimento armazenado</span><span class="sxs-lookup"><span data-stu-id="06ec7-333">Stored Procedure</span></span>
* <span data-ttu-id="06ec7-334">Consulta SQL</span><span class="sxs-lookup"><span data-stu-id="06ec7-334">SQL Query</span></span>

<span data-ttu-id="06ec7-335">**Tabela/Exibição**</span><span class="sxs-lookup"><span data-stu-id="06ec7-335">**Table/View**</span></span>  
<span data-ttu-id="06ec7-336">se você escolher a opção de Tabela/Exibição, o conector gerará as respectivas consultas para fazer a Exportação.</span><span class="sxs-lookup"><span data-stu-id="06ec7-336">If you choose the Table/View option, then the connector generates the respective queries to do the Export.</span></span>

<span data-ttu-id="06ec7-337">**Procedimentos armazenados**</span><span class="sxs-lookup"><span data-stu-id="06ec7-337">**Stored procedures**</span></span>  
<span data-ttu-id="06ec7-338">![runstep8](./media/active-directory-aadconnectsync-connector-genericsql/runstep8.png)</span><span class="sxs-lookup"><span data-stu-id="06ec7-338">![runstep8](./media/active-directory-aadconnectsync-connector-genericsql/runstep8.png)</span></span>

<span data-ttu-id="06ec7-339">Se você escolher a opção de Procedimento Armazenado, a Exportação exigirá três procedimentos armazenados diferentes para executar operações Inserir/Atualizar/Excluir.</span><span class="sxs-lookup"><span data-stu-id="06ec7-339">If you choose the Stored Procedure option, Export requires three different Stored procedures to perform Insert/Update/Delete operations.</span></span>

* <span data-ttu-id="06ec7-340">**Adicionar nome do SP**: esse SP será executado se houver objetos para inserção no conector, na respectiva tabela.</span><span class="sxs-lookup"><span data-stu-id="06ec7-340">**Add SP Name**: This SP runs if any object comes to connector for insertion in the respective table.</span></span>
* <span data-ttu-id="06ec7-341">**Atualizar nome do SP**: esse SP será executado se houver objetos para atualização no conector, na respectiva tabela.</span><span class="sxs-lookup"><span data-stu-id="06ec7-341">**Update SP Name**: This SP runs if any object comes to connector for update in the respective table.</span></span>
* <span data-ttu-id="06ec7-342">**Excluir nome do SP**: esse SP será executado se houver objetos para exclusão no conector, na respectiva tabela.</span><span class="sxs-lookup"><span data-stu-id="06ec7-342">**Delete SP Name**: This SP runs if any object comes to connector for deletion in the respective table.</span></span>
* <span data-ttu-id="06ec7-343">Atributo selecionado do esquema usado como um valor de parâmetro para o procedimento armazenado.</span><span class="sxs-lookup"><span data-stu-id="06ec7-343">Attribute selected from the schema used as a parameter value to the stored procedure.</span></span> <span data-ttu-id="06ec7-344">Por exemplo, `EmployeeName: INPUT: @EmployeeName` (NomeFuncionário está selecionado no esquema do conector, e o conector substitui o respectivo valor durante a exportação)</span><span class="sxs-lookup"><span data-stu-id="06ec7-344">For example, `EmployeeName: INPUT: @EmployeeName` (EmployeeName is selected in the connector schema and the connector replaces the respective value while doing export)</span></span>
* <span data-ttu-id="06ec7-345">Para executar o procedimento armazenado com parâmetros, forneça os parâmetros no formato `[Name]:[Direction]:[Value]` .</span><span class="sxs-lookup"><span data-stu-id="06ec7-345">To run parameterized stored procedure, provide parameters in `[Name]:[Direction]:[Value]` format.</span></span> <span data-ttu-id="06ec7-346">Forneça cada parâmetro em uma linha separada (use Ctrl + Enter para obter uma nova linha).</span><span class="sxs-lookup"><span data-stu-id="06ec7-346">Enter each parameter on a separate line (Use Ctrl + Enter to get a new line).</span></span>

<span data-ttu-id="06ec7-347">**SQL query**</span><span class="sxs-lookup"><span data-stu-id="06ec7-347">**SQL query**</span></span>  
<span data-ttu-id="06ec7-348">![runstep9](./media/active-directory-aadconnectsync-connector-genericsql/runstep9.png)</span><span class="sxs-lookup"><span data-stu-id="06ec7-348">![runstep9](./media/active-directory-aadconnectsync-connector-genericsql/runstep9.png)</span></span>

<span data-ttu-id="06ec7-349">Se você escolher a opção de consulta SQL, a Exportação exigirá três consultas diferentes para executar operações Inserir/Atualizar/Excluir.</span><span class="sxs-lookup"><span data-stu-id="06ec7-349">If you choose the SQL query option, Export requires three different queries to perform Insert/Update/Delete operations.</span></span>

* <span data-ttu-id="06ec7-350">**Consulta Insert**: essa consulta será executada se houver objetos para inserção no conector, na respectiva tabela.</span><span class="sxs-lookup"><span data-stu-id="06ec7-350">**Insert Query**: This query runs if any object comes to connector for insertion in the respective table.</span></span>
* <span data-ttu-id="06ec7-351">**Consulta Update**: esta consulta será executada se houver objetos para atualização no conector, na respectiva tabela.</span><span class="sxs-lookup"><span data-stu-id="06ec7-351">**Update Query**: This query runs if any object comes to connector for update in the respective table.</span></span>
* <span data-ttu-id="06ec7-352">**Consulta Delete**: esta consulta será executada se houver objetos para exclusão no conector, na respectiva tabela.</span><span class="sxs-lookup"><span data-stu-id="06ec7-352">**Delete Query**: This query runs if any object comes to connector for deletion in the respective table.</span></span>
* <span data-ttu-id="06ec7-353">Atributo selecionado do esquema, usado como um valor de parâmetro na consulta, por exemplo, `Insert into Employee (ID, Name) Values (@ID, @EmployeeName)`</span><span class="sxs-lookup"><span data-stu-id="06ec7-353">Attribute selected from the schema used as a parameter value to the query, for example `Insert into Employee (ID, Name) Values (@ID, @EmployeeName)`</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="06ec7-354">Solucionar problemas</span><span class="sxs-lookup"><span data-stu-id="06ec7-354">Troubleshooting</span></span>
* <span data-ttu-id="06ec7-355">Para saber mais sobre como habilitar o registro em log para solucionar problemas do conector, confira [How to Enable ETW Tracing for Connectors](http://go.microsoft.com/fwlink/?LinkId=335731).</span><span class="sxs-lookup"><span data-stu-id="06ec7-355">For information on how to enable logging to troubleshoot the connector, see the [How to Enable ETW Tracing for Connectors](http://go.microsoft.com/fwlink/?LinkId=335731).</span></span>
