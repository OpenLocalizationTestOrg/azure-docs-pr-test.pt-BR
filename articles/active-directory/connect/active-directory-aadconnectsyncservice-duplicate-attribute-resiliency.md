---
title: "Sincronização de identidades e resiliência do atributo duplicado | Microsoft Docs"
description: "Novo comportamento de como lidar com objetos com conflitos de UPN ou ProxyAddress durante a sincronização de diretórios usando o Azure AD Connect."
services: active-directory
documentationcenter: 
author: MarkusVi
manager: femila
editor: 
ms.assetid: 537a92b7-7a84-4c89-88b0-9bce0eacd931
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/12/2017
ms.author: markvi
ms.openlocfilehash: 7a8700e70f64851a0c5e5e8c6b31ec7a6884a96c
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/03/2017
---
# <a name="identity-synchronization-and-duplicate-attribute-resiliency"></a><span data-ttu-id="7b518-103">Sincronização de identidades e resiliência do atributo duplicado </span><span class="sxs-lookup"><span data-stu-id="7b518-103">Identity synchronization and duplicate attribute resiliency</span></span>
<span data-ttu-id="7b518-104">A Resiliência do Atributo Duplicado é um recurso do Azure Active Directory que eliminará o atrito causado por conflitos de **UserPrincipalName** e **ProxyAddress** ao executar uma das ferramentas de sincronização da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="7b518-104">Duplicate Attribute Resiliency is a feature in Azure Active Directory that will eliminate friction caused by **UserPrincipalName** and **ProxyAddress** conflicts when running one of Microsoft’s synchronization tools.</span></span>

<span data-ttu-id="7b518-105">Esses dois atributos geralmente precisam ser exclusivos em todos os objetos **User**, **Group** ou **Contact** em um determinado locatário do Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="7b518-105">These two attributes are generally required to be unique across all **User**, **Group**, or **Contact** objects in a given Azure Active Directory tenant.</span></span>

> [!NOTE]
> <span data-ttu-id="7b518-106">Somente os Usuários podem ter UPNs.</span><span class="sxs-lookup"><span data-stu-id="7b518-106">Only Users can have UPNs.</span></span>
> 
> 

<span data-ttu-id="7b518-107">O novo comportamento permite que esse recurso esteja na parte de nuvem do pipeline de sincronização, portanto, é cliente independente e relevante para qualquer produto de sincronização da Microsoft, incluindo o Azure AD Connect, o DirSync e o MIM + Conector.</span><span class="sxs-lookup"><span data-stu-id="7b518-107">The new behavior that this feature enables is in the cloud portion of the sync pipeline, therefore it is client agnostic and relevant for any Microsoft synchronization product including Azure AD Connect, DirSync and MIM + Connector.</span></span> <span data-ttu-id="7b518-108">O termo genérico "cliente de sincronização" é usado neste documento para representar qualquer um desses produtos.</span><span class="sxs-lookup"><span data-stu-id="7b518-108">The generic term “sync client” is used in this document to represent any one of these products.</span></span>

## <a name="current-behavior"></a><span data-ttu-id="7b518-109">Comportamento atual</span><span class="sxs-lookup"><span data-stu-id="7b518-109">Current behavior</span></span>
<span data-ttu-id="7b518-110">Se houver uma tentativa de provisionar um novo objeto com um valor ProxyAddress ou UPN que viola a restrição de exclusividade, o Azure Active Directory impedirá que esse objeto seja criado.</span><span class="sxs-lookup"><span data-stu-id="7b518-110">If there is an attempt to provision a new object with a UPN or ProxyAddress value that violates this uniqueness constraint, Azure Active Directory blocks that object from being created.</span></span> <span data-ttu-id="7b518-111">Da mesma forma, se um objeto for atualizado com um UPN ou ProxyAddress não exclusivo, a atualização falhará.</span><span class="sxs-lookup"><span data-stu-id="7b518-111">Similarly, if an object is updated with a non-unique UPN or ProxyAddress, the update fails.</span></span> <span data-ttu-id="7b518-112">A tentativa de provisionamento ou a atualização é repetida pelo cliente de sincronização em cada ciclo de exportação e continua a falhar até que o conflito seja resolvido.</span><span class="sxs-lookup"><span data-stu-id="7b518-112">The provisioning attempt or update is retried by the sync client upon each export cycle, and continues to fail until the conflict is resolved.</span></span> <span data-ttu-id="7b518-113">Um email de relatório de erro é gerado após cada tentativa e o erro é registrado pelo cliente de sincronização.</span><span class="sxs-lookup"><span data-stu-id="7b518-113">An error report email is generated upon each attempt and an error is logged by the sync client.</span></span>

## <a name="behavior-with-duplicate-attribute-resiliency"></a><span data-ttu-id="7b518-114">Comportamento com Resiliência do Atributo Duplicado</span><span class="sxs-lookup"><span data-stu-id="7b518-114">Behavior with Duplicate Attribute Resiliency</span></span>
<span data-ttu-id="7b518-115">Em vez de falhar completamente em provisionar ou atualizar um objeto com um atributo duplicado, o Azure Active Directory "coloca em quarentena" o atributo duplicado que viola a restrição de exclusividade.</span><span class="sxs-lookup"><span data-stu-id="7b518-115">Instead of completely failing to provision or update an object with a duplicate attribute, Azure Active Directory “quarantines” the duplicate attribute which would violate the uniqueness constraint.</span></span> <span data-ttu-id="7b518-116">Se esse atributo for necessário para o provisionamento, como um UserPrincipalName, o serviço atribuirá um valor de espaço reservado.</span><span class="sxs-lookup"><span data-stu-id="7b518-116">If this attribute is required for provisioning, like UserPrincipalName, the service assigns a placeholder value.</span></span> <span data-ttu-id="7b518-117">O formato desses valores temporários é</span><span class="sxs-lookup"><span data-stu-id="7b518-117">The format of these temporary values is</span></span>  
<span data-ttu-id="7b518-118">“***<OriginalPrefix>+<4DigitNumber>@<InitialTenantDomain>.onmicrosoft.com***”.</span><span class="sxs-lookup"><span data-stu-id="7b518-118">“***<OriginalPrefix>+<4DigitNumber>@<InitialTenantDomain>.onmicrosoft.com***”.</span></span>  
<span data-ttu-id="7b518-119">Se o atributo não for necessário, como um **ProxyAddress**, o Azure Active Directory simplesmente colocará em quarentena o atributo em conflito e prosseguirá com a criação ou atualização do objeto.</span><span class="sxs-lookup"><span data-stu-id="7b518-119">If the attribute is not required, like a  **ProxyAddress**, Azure Active Directory simply quarantines the conflict attribute and proceeds with the object creation or update.</span></span>

<span data-ttu-id="7b518-120">Ao colocar em quarentena o atributo, as informações sobre o conflito são enviadas no mesmo email de relatório de erro usado no antigo comportamento.</span><span class="sxs-lookup"><span data-stu-id="7b518-120">Upon quarantining the attribute, information about the conflict is sent in the same error report email used in the old behavior.</span></span> <span data-ttu-id="7b518-121">No entanto, essas informações só aparecem no relatório de erro uma vez, quando ocorre a quarentena; elas não continuam a ser registradas em log em emails futuros.</span><span class="sxs-lookup"><span data-stu-id="7b518-121">However, this info only appears in the error report one time, when the quarantine happens, it does not continue to be logged in future emails.</span></span> <span data-ttu-id="7b518-122">Além disso, uma vez que a exportação deste objeto foi bem-sucedida, o cliente de sincronização não registra em log um erro nem tenta repetir a operação para criar/atualizar nos ciclos de sincronização subsequentes.</span><span class="sxs-lookup"><span data-stu-id="7b518-122">Also, since the export for this object has succeeded, the sync client does not log an error and does not retry the create / update operation upon subsequent sync cycles.</span></span>

<span data-ttu-id="7b518-123">Para dar suporte a esse comportamento, foi adicionado um novo atributo às classes de objeto User, Group e Contact: </span><span class="sxs-lookup"><span data-stu-id="7b518-123">To support this behavior a new attribute has been added to the User, Group, and Contact object classes:</span></span>  
<span data-ttu-id="7b518-124">**DirSyncProvisioningErrors**</span><span class="sxs-lookup"><span data-stu-id="7b518-124">**DirSyncProvisioningErrors**</span></span>

<span data-ttu-id="7b518-125">Este é um atributo com valores múltiplos usado para armazenar os atributos conflitantes que violariam a restrição de exclusividade, caso adicionados normalmente.</span><span class="sxs-lookup"><span data-stu-id="7b518-125">This is a multi-valued attribute that is used to store the conflicting attributes that would violate the uniqueness constraint should they be added normally.</span></span> <span data-ttu-id="7b518-126">Uma tarefa de temporizador em segundo plano foi habilitada no Azure Active Directory, que é executada a cada hora para procurar por conflitos de atributo duplicado que foram resolvidos e remove automaticamente os atributos em questão da quarentena.</span><span class="sxs-lookup"><span data-stu-id="7b518-126">A background timer task has been enabled in Azure Active Directory that  runs every hour to look for duplicate attribute conflicts that have been resolved, and automatically removes the attributes in question from quarantine.</span></span>

### <a name="enabling-duplicate-attribute-resiliency"></a><span data-ttu-id="7b518-127">Habilitando a Resiliência do Atributo Duplicado</span><span class="sxs-lookup"><span data-stu-id="7b518-127">Enabling Duplicate Attribute Resiliency</span></span>
<span data-ttu-id="7b518-128">Resiliência do Atributo Duplicado será o novo comportamento padrão em todos os locatários do Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="7b518-128">Duplicate Attribute Resiliency will be the new default behavior across all Azure Active Directory tenants.</span></span> <span data-ttu-id="7b518-129">Ele estará ativado por padrão em todos os locatários que habilitaram a sincronização pela primeira vez em 22 de agosto de 2016 ou posteriormente.</span><span class="sxs-lookup"><span data-stu-id="7b518-129">It will be on by default for all tenants that enabled synchronization for the first time on August 22nd, 2016 or later.</span></span> <span data-ttu-id="7b518-130">Os locatários que habilitaram a sincronização antes dessa data terão o recurso habilitado em lotes.</span><span class="sxs-lookup"><span data-stu-id="7b518-130">Tenants that enabled sync prior to this date will have the feature enabled in batches.</span></span> <span data-ttu-id="7b518-131">Essa distribuição começará em setembro de 2016, e uma notificação por email será enviada para o contato de notificação técnica de cada locatário com a data específica de habilitação do recurso.</span><span class="sxs-lookup"><span data-stu-id="7b518-131">This rollout will begin in September 2016, and an email notification will be sent to each tenant's technical notification contact with the specific date when the feature will be enabled.</span></span>

> [!NOTE]
> <span data-ttu-id="7b518-132">Depois que a opção Resiliência do Atributo Duplicado for habilitada, ela não poderá ser desabilitada.</span><span class="sxs-lookup"><span data-stu-id="7b518-132">Once Duplicate Attribute Resiliency has been turned on it cannot be disabled.</span></span>

<span data-ttu-id="7b518-133">Para verificar se o recurso está habilitado para o seu locatário, você poderá baixar a versão mais recente do módulo do PowerShell do Azure Active Directory e executar:</span><span class="sxs-lookup"><span data-stu-id="7b518-133">To check if the feature is enabled for your tenant, you can do so by downloading the latest version of the Azure Active Directory PowerShell module and running:</span></span>

`Get-MsolDirSyncFeatures -Feature DuplicateUPNResiliency`

`Get-MsolDirSyncFeatures -Feature DuplicateProxyAddressResiliency`

> [!NOTE]
> <span data-ttu-id="7b518-134">Você não pode mais usar o cmdlet Set-MsolDirSyncFeature para habilitar proativamente o recurso de Duplicar Resiliência de Atributo antes que ele seja ativado para o seu locatário.</span><span class="sxs-lookup"><span data-stu-id="7b518-134">You can no longer use Set-MsolDirSyncFeature cmdlet to proactively enable the Duplicate Attribute Resiliency feature before it is turned on for your tenant.</span></span> <span data-ttu-id="7b518-135">Para ser capaz de testar o recurso, você precisará criar um novo locatário do Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="7b518-135">To be able to test the feature, you will need to create a new Azure Active Directory tenant.</span></span>

## <a name="identifying-objects-with-dirsyncprovisioningerrors"></a><span data-ttu-id="7b518-136">Identificação de objetos com DirSyncProvisioningErrors</span><span class="sxs-lookup"><span data-stu-id="7b518-136">Identifying Objects with DirSyncProvisioningErrors</span></span>
<span data-ttu-id="7b518-137">Atualmente, existem dois métodos para identificar os objetos que têm esses erros devido a conflitos de propriedade duplicada: o Azure Active Directory PowerShell e o Portal de Administração do Office 365.</span><span class="sxs-lookup"><span data-stu-id="7b518-137">There are currently two methods to identify objects that have these errors due to duplicate property conflicts, Azure Active Directory PowerShell and the Office 365 Admin Portal.</span></span> <span data-ttu-id="7b518-138">No futuro, há planos de estender para relatórios adicionais baseados no portal.</span><span class="sxs-lookup"><span data-stu-id="7b518-138">There are plans to extend to additional portal based reporting in the future.</span></span>

### <a name="azure-active-directory-powershell"></a><span data-ttu-id="7b518-139">Azure Active Directory PowerShell</span><span class="sxs-lookup"><span data-stu-id="7b518-139">Azure Active Directory PowerShell</span></span>
<span data-ttu-id="7b518-140">Para os cmdlets do PowerShell neste tópico, o seguinte é verdadeiro:</span><span class="sxs-lookup"><span data-stu-id="7b518-140">For the PowerShell cmdlets in this topic, the following is true:</span></span>

* <span data-ttu-id="7b518-141">Todos os cmdlets a seguir diferenciam maiúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="7b518-141">All of the following cmdlets are case sensitive.</span></span>
* <span data-ttu-id="7b518-142">O **–ErrorCategory PropertyConflict** sempre deve ser incluído.</span><span class="sxs-lookup"><span data-stu-id="7b518-142">The **–ErrorCategory PropertyConflict** must always be included.</span></span> <span data-ttu-id="7b518-143">Atualmente, há outros tipos de **ErrorCategory**, mas isso pode ser estendido no futuro.</span><span class="sxs-lookup"><span data-stu-id="7b518-143">There are currently no other types of **ErrorCategory**, but this may be extended in the future.</span></span>

<span data-ttu-id="7b518-144">Primeiro, comece executando **Connect-MsolService** e inserindo as credenciais para um administrador de locatário.</span><span class="sxs-lookup"><span data-stu-id="7b518-144">First, get started by running **Connect-MsolService** and entering credentials for a tenant administrator.</span></span>

<span data-ttu-id="7b518-145">Em seguida, use os cmdlets e os operadores a seguir para exibir os erros de maneiras diferentes:</span><span class="sxs-lookup"><span data-stu-id="7b518-145">Then, use the following cmdlets and operators to view errors in different ways:</span></span>

1. [<span data-ttu-id="7b518-146">Ver tudo</span><span class="sxs-lookup"><span data-stu-id="7b518-146">See All</span></span>](#see-all)
2. [<span data-ttu-id="7b518-147">Por Tipo de Propriedade</span><span class="sxs-lookup"><span data-stu-id="7b518-147">By Property Type</span></span>](#by-property-type)
3. [<span data-ttu-id="7b518-148">Por Valor Conflitante</span><span class="sxs-lookup"><span data-stu-id="7b518-148">By Conflicting Value</span></span>](#by-conflicting-value)
4. [<span data-ttu-id="7b518-149">Usando uma Pesquisa da Cadeia de Caracteres</span><span class="sxs-lookup"><span data-stu-id="7b518-149">Using a String Search</span></span>](#using-a-string-search)
5. [<span data-ttu-id="7b518-150">Classificado</span><span class="sxs-lookup"><span data-stu-id="7b518-150">Sorted</span></span>](#sorted)
6. [<span data-ttu-id="7b518-151">Em uma Quantidade Limitada ou Todos</span><span class="sxs-lookup"><span data-stu-id="7b518-151">In a Limited Quantity or All</span></span>](#in-a-limited-quantity-or-all)

#### <a name="see-all"></a><span data-ttu-id="7b518-152">Ver tudo</span><span class="sxs-lookup"><span data-stu-id="7b518-152">See all</span></span>
<span data-ttu-id="7b518-153">Uma vez conectado, para ver uma lista geral dos erros de provisionamento do atributo no locatário, execute:</span><span class="sxs-lookup"><span data-stu-id="7b518-153">Once connected, to see a general list of attribute provisioning errors in the tenant run:</span></span>

`Get-MsolDirSyncProvisioningError -ErrorCategory PropertyConflict`

<span data-ttu-id="7b518-154">Isso produz um resultado semelhante ao seguinte: </span><span class="sxs-lookup"><span data-stu-id="7b518-154">This produces a result like the following:</span></span>  
 <span data-ttu-id="7b518-155">![Get-MsolDirSyncProvisioningError](./media/active-directory-aadconnectsyncservice-duplicate-attribute-resiliency/1.png "MsolDirSyncProvisioningError Get")</span><span class="sxs-lookup"><span data-stu-id="7b518-155">![Get-MsolDirSyncProvisioningError](./media/active-directory-aadconnectsyncservice-duplicate-attribute-resiliency/1.png "Get-MsolDirSyncProvisioningError")</span></span>  

#### <a name="by-property-type"></a><span data-ttu-id="7b518-156">Por Tipo de Propriedade</span><span class="sxs-lookup"><span data-stu-id="7b518-156">By property type</span></span>
<span data-ttu-id="7b518-157">Para ver os erros por tipo de propriedade, adicione o sinalizador **-PropertyName** com o argumento **UserPrincipalName** ou **ProxyAddresses**:</span><span class="sxs-lookup"><span data-stu-id="7b518-157">To see errors by property type, add the **-PropertyName** flag with the **UserPrincipalName** or **ProxyAddresses** argument:</span></span>

`Get-MsolDirSyncProvisioningError -ErrorCategory PropertyConflict -PropertyName UserPrincipalName`

<span data-ttu-id="7b518-158">Ou</span><span class="sxs-lookup"><span data-stu-id="7b518-158">Or</span></span>

`Get-MsolDirSyncProvisioningError -ErrorCategory PropertyConflict -PropertyName ProxyAddresses`

#### <a name="by-conflicting-value"></a><span data-ttu-id="7b518-159">Por Valor Conflitante</span><span class="sxs-lookup"><span data-stu-id="7b518-159">By conflicting value</span></span>
<span data-ttu-id="7b518-160">Para ver os erros relacionados a uma propriedade específica, adicione o sinalizador **-PropertyValue** (**-PropertyName** também deve ser usado ao adicionar esse sinalizador):</span><span class="sxs-lookup"><span data-stu-id="7b518-160">To see errors relating to a specific property add the **-PropertyValue** flag (**-PropertyName** must be used as well when adding this flag):</span></span>

`Get-MsolDirSyncProvisioningError -ErrorCategory PropertyConflict -PropertyValue User@domain.com -PropertyName UserPrincipalName`

#### <a name="using-a-string-search"></a><span data-ttu-id="7b518-161">Usando uma Pesquisa da Cadeia de Caracteres</span><span class="sxs-lookup"><span data-stu-id="7b518-161">Using a string search</span></span>
<span data-ttu-id="7b518-162">Para fazer uma pesquisa ampla da cadeia de caracteres, use o sinalizador **-SearchString** .</span><span class="sxs-lookup"><span data-stu-id="7b518-162">To do a broad string search use the **-SearchString** flag.</span></span> <span data-ttu-id="7b518-163">Isso pode ser usado independentemente de todos os sinalizadores acima, com exceção de **-ErrorCategory PropertyConflict**, que é sempre necessário:</span><span class="sxs-lookup"><span data-stu-id="7b518-163">This can be used independently from all of the above flags, with the exception of **-ErrorCategory PropertyConflict**, which is always required:</span></span>

`Get-MsolDirSyncProvisioningError -ErrorCategory PropertyConflict -SearchString User`

#### <a name="in-a-limited-quantity-or-all"></a><span data-ttu-id="7b518-164">Em uma Quantidade Limitada ou Todos</span><span class="sxs-lookup"><span data-stu-id="7b518-164">In a limited quantity or all</span></span>
1. <span data-ttu-id="7b518-165">**MaxResults<Int>** pode ser usado para limitar a consulta a um número específico de valores.</span><span class="sxs-lookup"><span data-stu-id="7b518-165">**MaxResults <Int>** can be used to limit the query to a specific number of values.</span></span>
2. <span data-ttu-id="7b518-166">**All** pode ser usado para garantir que todos os resultados sejam recuperados, no caso de existir um grande número de erros.</span><span class="sxs-lookup"><span data-stu-id="7b518-166">**All** can be used to ensure all results are retrieved in the case that a large number of errors exists.</span></span>

`Get-MsolDirSyncProvisioningError -ErrorCategory PropertyConflict -MaxResults 5`

## <a name="office-365-admin-portal"></a><span data-ttu-id="7b518-167">Portal de administração do Office 365</span><span class="sxs-lookup"><span data-stu-id="7b518-167">Office 365 admin portal</span></span>
<span data-ttu-id="7b518-168">Você pode exibir os erros de sincronização de diretórios no centro de administração do Office 365.</span><span class="sxs-lookup"><span data-stu-id="7b518-168">You can view directory synchronization errors in the Office 365 admin center.</span></span> <span data-ttu-id="7b518-169">O relatório no portal do Office 365 exibe apenas os objetos **User** que têm esses erros.</span><span class="sxs-lookup"><span data-stu-id="7b518-169">The report in the Office 365 portal only displays **User** objects that have these errors.</span></span> <span data-ttu-id="7b518-170">Ele não mostra informações sobre conflitos entre **Groups** e **Contacts**.</span><span class="sxs-lookup"><span data-stu-id="7b518-170">It does not show info about conflicts between **Groups** and **Contacts**.</span></span>

<span data-ttu-id="7b518-171">![Usuários ativos](./media/active-directory-aadconnectsyncservice-duplicate-attribute-resiliency/1234.png "Usuários ativos")</span><span class="sxs-lookup"><span data-stu-id="7b518-171">![Active Users](./media/active-directory-aadconnectsyncservice-duplicate-attribute-resiliency/1234.png "Active Users")</span></span>

<span data-ttu-id="7b518-172">Para obter instruções sobre como exibir erros de sincronização de diretórios no centro de administração do Office 365, confira [Identificar erros de sincronização de diretório no Office 365](https://support.office.com/en-us/article/Identify-directory-synchronization-errors-in-Office-365-b4fc07a5-97ea-4ca6-9692-108acab74067).</span><span class="sxs-lookup"><span data-stu-id="7b518-172">For instructions on how to view directory synchronization errors in the Office 365 admin center, see [Identify directory synchronization errors in Office 365](https://support.office.com/en-us/article/Identify-directory-synchronization-errors-in-Office-365-b4fc07a5-97ea-4ca6-9692-108acab74067).</span></span>

### <a name="identity-synchronization-error-report"></a><span data-ttu-id="7b518-173">Relatório de erros de sincronização de identidades</span><span class="sxs-lookup"><span data-stu-id="7b518-173">Identity synchronization error report</span></span>
<span data-ttu-id="7b518-174">Quando um objeto com um conflito de atributo duplicado é tratado com esse novo comportamento, uma notificação é incluída no email padrão do Relatório de Erros de Sincronização de Identidades enviado para o contato de Notificação Técnica do locatário.</span><span class="sxs-lookup"><span data-stu-id="7b518-174">When an object with a duplicate attribute conflict is handled with this new behavior a notification is included in the standard Identity Synchronization Error Report email that is sent to the Technical Notification contact for the tenant.</span></span> <span data-ttu-id="7b518-175">No entanto, há uma alteração importante nesse comportamento.</span><span class="sxs-lookup"><span data-stu-id="7b518-175">However, there is an important change in this behavior.</span></span> <span data-ttu-id="7b518-176">No passado, as informações sobre um conflito de atributo duplicado eram incluídas em todos os relatórios de erro subsequentes até o conflito ser resolvido.</span><span class="sxs-lookup"><span data-stu-id="7b518-176">In the past, information about a duplicate attribute conflict would be included in every subsequent error report until the conflict was resolved.</span></span> <span data-ttu-id="7b518-177">Com esse novo comportamento, a notificação de erro para determinado conflito só aparece uma vez, no momento em que o atributo conflitante está de quarentena.</span><span class="sxs-lookup"><span data-stu-id="7b518-177">With this new behavior, the error notification for a given conflict does only appear once- at the time the conflicting attribute is quarantined.</span></span>

<span data-ttu-id="7b518-178">Este é exemplo da aparência da notificação por email de um conflito ProxyAddress: </span><span class="sxs-lookup"><span data-stu-id="7b518-178">Here is an example of what the email notification looks like for a ProxyAddress conflict:</span></span>  
    <span data-ttu-id="7b518-179">![Usuários ativos](./media/active-directory-aadconnectsyncservice-duplicate-attribute-resiliency/6.png "Usuários ativos")</span><span class="sxs-lookup"><span data-stu-id="7b518-179">![Active Users](./media/active-directory-aadconnectsyncservice-duplicate-attribute-resiliency/6.png "Active Users")</span></span>  

## <a name="resolving-conflicts"></a><span data-ttu-id="7b518-180">Resolução de conflitos</span><span class="sxs-lookup"><span data-stu-id="7b518-180">Resolving conflicts</span></span>
<span data-ttu-id="7b518-181">A estratégia da solução de problemas e as táticas de resolução desses erros não devem diferir da maneira como os erros de atributo duplicado eram tratados no passado.</span><span class="sxs-lookup"><span data-stu-id="7b518-181">Troubleshooting strategy and resolution tactics for these errors should not differ from the way duplicate attribute errors were handled in the past.</span></span> <span data-ttu-id="7b518-182">A única diferença é que a tarefa de temporizador examina o locatário no lado do serviço para adicionar automaticamente o atributo em questão ao devido objeto, assim que o conflito é resolvido.</span><span class="sxs-lookup"><span data-stu-id="7b518-182">The only difference is that the timer task sweeps through the tenant on the service-side to automatically add the attribute in question to the proper object once the conflict is resolved.</span></span>

<span data-ttu-id="7b518-183">O seguinte artigo descreve diversas estratégias de solução de problemas: [Atributos inválidos ou duplicados impedem a sincronização de diretórios no Office 365](https://support.microsoft.com/kb/2647098).</span><span class="sxs-lookup"><span data-stu-id="7b518-183">The following article outlines various troubleshooting and resolution strategies: [Duplicate or invalid attributes prevent directory synchronization in Office 365](https://support.microsoft.com/kb/2647098).</span></span>

## <a name="known-issues"></a><span data-ttu-id="7b518-184">Problemas conhecidos</span><span class="sxs-lookup"><span data-stu-id="7b518-184">Known issues</span></span>
<span data-ttu-id="7b518-185">Nenhum desses problemas conhecidos causa degradação do serviço nem a perda de dados.</span><span class="sxs-lookup"><span data-stu-id="7b518-185">None of these known issues causes data loss or service degradation.</span></span> <span data-ttu-id="7b518-186">Muitos são estéticos, outros fazem com que os erros de atributo duplicado de "*pré-resiliência*" padrão sejam gerados, em vez de colocarem em quarentena o atributo em conflito e também fazem com que certos erros exijam uma correção manual extra.</span><span class="sxs-lookup"><span data-stu-id="7b518-186">Several of them are aesthetic, others cause standard “*pre-resiliency*” duplicate attribute errors to be thrown instead of quarantining the conflict attribute, and another causes certain errors to require extra manual fix-up.</span></span>

<span data-ttu-id="7b518-187">**Comportamento básico:**</span><span class="sxs-lookup"><span data-stu-id="7b518-187">**Core behavior:**</span></span>

1. <span data-ttu-id="7b518-188">Os objetos com configurações de atributo específicas continuam a receber erros de exportação em vez de colocar os atributos duplicados em quarentena.</span><span class="sxs-lookup"><span data-stu-id="7b518-188">Objects with specific attribute configurations continue to receive export errors as opposed to the duplicate attribute(s) being quarantined.</span></span>  
   <span data-ttu-id="7b518-189">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="7b518-189">For example:</span></span>
   
    <span data-ttu-id="7b518-190">a.</span><span class="sxs-lookup"><span data-stu-id="7b518-190">a.</span></span> <span data-ttu-id="7b518-191">Um novo usuário é criado no AD com o UPN **Joe@contoso.com** e o ProxyAddress **smtp:Joe@contoso.com**</span><span class="sxs-lookup"><span data-stu-id="7b518-191">New user is created in AD with a UPN of **Joe@contoso.com** and ProxyAddress **smtp:Joe@contoso.com**</span></span>
   
    <span data-ttu-id="7b518-192">b.</span><span class="sxs-lookup"><span data-stu-id="7b518-192">b.</span></span> <span data-ttu-id="7b518-193">Propriedades desse conflito de objetos com um Group existente, em que o ProxyAddress é **SMTP:Joe@contoso.com**.</span><span class="sxs-lookup"><span data-stu-id="7b518-193">The properties of this object conflict with an existing Group, where ProxyAddress is **SMTP:Joe@contoso.com**.</span></span>
   
    <span data-ttu-id="7b518-194">c.</span><span class="sxs-lookup"><span data-stu-id="7b518-194">c.</span></span> <span data-ttu-id="7b518-195">Ao exportar, um erro de **conflito ProxyAddress** é gerado, em vez de colocar os atributos em conflito de quarentena.</span><span class="sxs-lookup"><span data-stu-id="7b518-195">Upon export, a **ProxyAddress conflict** error is thrown instead of having the conflict attributes quarantined.</span></span> <span data-ttu-id="7b518-196">A operação é repetida em cada ciclo de sincronização subsequente, como era antes do recurso de resiliência ser habilitado.</span><span class="sxs-lookup"><span data-stu-id="7b518-196">The operation is retried upon each subsequent sync cycle, as it would have been before the resiliency feature was enabled.</span></span>
2. <span data-ttu-id="7b518-197">Se dois Groups forem criados localmente com o mesmo endereço SMTP, um falhará ao provisionar na primeira tentativa com um erro de **ProxyAddress** duplicado padrão.</span><span class="sxs-lookup"><span data-stu-id="7b518-197">If two Groups are created on-premises with the same SMTP address, one fails to provision on the first attempt with a standard duplicate **ProxyAddress** error.</span></span> <span data-ttu-id="7b518-198">No entanto, o valor duplicado é devidamente colocado em quarentena após o próximo ciclo de sincronização.</span><span class="sxs-lookup"><span data-stu-id="7b518-198">However, the duplicate value is properly quarantined upon the next sync cycle.</span></span>

<span data-ttu-id="7b518-199">**Relatório do Portal do Office**:</span><span class="sxs-lookup"><span data-stu-id="7b518-199">**Office Portal Report**:</span></span>

1. <span data-ttu-id="7b518-200">A mensagem de erro detalhada para dois objetos em um conjunto de conflitos UPN é a mesma.</span><span class="sxs-lookup"><span data-stu-id="7b518-200">The detailed error message for two objects in a UPN conflict set is the same.</span></span> <span data-ttu-id="7b518-201">Isso indica que ambos tiveram seus UPNS alterados/colocados em quarentena, quando, na verdade, apenas um deles teve os dados alterados.</span><span class="sxs-lookup"><span data-stu-id="7b518-201">This indicates that they have both had their UPN changed / quarantined, when in fact only a one of them had any data changed.</span></span>
2. <span data-ttu-id="7b518-202">A mensagem de erro detalhada de um conflito UPN mostra o displayName incorreto para um usuário que teve seu UPN alterado/colocado em quarentena.</span><span class="sxs-lookup"><span data-stu-id="7b518-202">The detailed error message for a UPN conflict shows the wrong displayName for a user who has had their UPN changed/quarantined.</span></span> <span data-ttu-id="7b518-203">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="7b518-203">For example:</span></span>
   
    <span data-ttu-id="7b518-204">a.</span><span class="sxs-lookup"><span data-stu-id="7b518-204">a.</span></span> <span data-ttu-id="7b518-205">O **Usuário A** é sincronizado primeiro com **UPN = User@contoso.com**.</span><span class="sxs-lookup"><span data-stu-id="7b518-205">**User A** syncs up first with **UPN = User@contoso.com**.</span></span>
   
    <span data-ttu-id="7b518-206">b.</span><span class="sxs-lookup"><span data-stu-id="7b518-206">b.</span></span> <span data-ttu-id="7b518-207">O **Usuário B** tenta ser sincronizado em seguida com **UPN = User@contoso.com**.</span><span class="sxs-lookup"><span data-stu-id="7b518-207">**User B** is attempted to be synced up next with **UPN = User@contoso.com**.</span></span>
   
    <span data-ttu-id="7b518-208">c.</span><span class="sxs-lookup"><span data-stu-id="7b518-208">c.</span></span> <span data-ttu-id="7b518-209">O UPN do **Usuário B** é alterado para **User1234@contoso.onmicrosoft.com** e **User@contoso.com** é adicionado a **DirSyncProvisioningErrors**.</span><span class="sxs-lookup"><span data-stu-id="7b518-209">**User B’s** UPN is changed to **User1234@contoso.onmicrosoft.com** and **User@contoso.com** is added to **DirSyncProvisioningErrors**.</span></span>
   
    <span data-ttu-id="7b518-210">d.</span><span class="sxs-lookup"><span data-stu-id="7b518-210">d.</span></span> <span data-ttu-id="7b518-211">A mensagem de erro para o **Usuário B** deve indicar que o **Usuário A** já tem **User@contoso.com** como um UPN, mas mostra o próprio displayName do **Usuário B**.</span><span class="sxs-lookup"><span data-stu-id="7b518-211">The error message for **User B** should indicate that **User A** already has **User@contoso.com** as a UPN, but it shows **User B’s** own displayName.</span></span>

<span data-ttu-id="7b518-212">**Relatório de erros de sincronização de identidades**:</span><span class="sxs-lookup"><span data-stu-id="7b518-212">**Identity synchronization error report**:</span></span>

<span data-ttu-id="7b518-213">O link para as *etapas sobre como resolver esse problema* está incorreto:</span><span class="sxs-lookup"><span data-stu-id="7b518-213">The link for *steps on how to resolve this issue* is incorrect:</span></span>  
    <span data-ttu-id="7b518-214">![Usuários ativos](./media/active-directory-aadconnectsyncservice-duplicate-attribute-resiliency/6.png "Usuários ativos")</span><span class="sxs-lookup"><span data-stu-id="7b518-214">![Active Users](./media/active-directory-aadconnectsyncservice-duplicate-attribute-resiliency/6.png "Active Users")</span></span>  

<span data-ttu-id="7b518-215">Ele deve apontar para [https://aka.ms/duplicateattributeresiliency](https://aka.ms/duplicateattributeresiliency).</span><span class="sxs-lookup"><span data-stu-id="7b518-215">It should point to [https://aka.ms/duplicateattributeresiliency](https://aka.ms/duplicateattributeresiliency).</span></span>

## <a name="see-also"></a><span data-ttu-id="7b518-216">Consulte também</span><span class="sxs-lookup"><span data-stu-id="7b518-216">See also</span></span>
* [<span data-ttu-id="7b518-217">Sincronização do Azure AD Connect</span><span class="sxs-lookup"><span data-stu-id="7b518-217">Azure AD Connect sync</span></span>](active-directory-aadconnectsync-whatis.md)
* [<span data-ttu-id="7b518-218">Integração de suas identidades locais com o Active Directory do Azure</span><span class="sxs-lookup"><span data-stu-id="7b518-218">Integrating your on-premises identities with Azure Active Directory</span></span>](active-directory-aadconnect.md)
* [<span data-ttu-id="7b518-219">Identificar erros de sincronização de diretório no Office 365</span><span class="sxs-lookup"><span data-stu-id="7b518-219">Identify directory synchronization errors in Office 365</span></span>](https://support.office.com/en-us/article/Identify-directory-synchronization-errors-in-Office-365-b4fc07a5-97ea-4ca6-9692-108acab74067)

