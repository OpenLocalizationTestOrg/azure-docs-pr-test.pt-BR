---
title: "Azure AD Connect: alterar uma configuração na sincronização do Azure AD Connect | Microsoft Docs"
description: "Explica como fazer uma alteração da configuração na sincronização do Azure AD Connect."
services: active-directory
documentationcenter: 
author: andkjell
manager: femila
editor: 
ms.assetid: 7b9df836-e8a5-4228-97da-2faec9238b31
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/12/2017
ms.author: billmath
ms.openlocfilehash: 63a7ae9d39e1a74294637172efd607ee41b2d69b
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/03/2017
---
# <a name="azure-ad-connect-sync-how-to-make-a-change-to-the-default-configuration"></a><span data-ttu-id="1c30c-103">Sincronização do Azure AD Connect: como fazer uma alteração na configuração padrão</span><span class="sxs-lookup"><span data-stu-id="1c30c-103">Azure AD Connect sync: How to make a change to the default configuration</span></span>
<span data-ttu-id="1c30c-104">O objetivo deste tópico é explicar como fazer alterações na configuração padrão na sincronização do Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="1c30c-104">The purpose of this topic is to walk you through how to make changes to the default configuration in Azure AD Connect sync.</span></span> <span data-ttu-id="1c30c-105">Ele fornece etapas para alguns cenários comuns.</span><span class="sxs-lookup"><span data-stu-id="1c30c-105">It provides steps for some common scenarios.</span></span> <span data-ttu-id="1c30c-106">Com esse conhecimento, você deve ser capaz de fazer algumas alterações simples em sua própria configuração com base em suas próprias regras de negócios.</span><span class="sxs-lookup"><span data-stu-id="1c30c-106">With this knowledge, you should be able to make some simple changes to your own configuration based on your own business rules.</span></span>

## <a name="synchronization-rules-editor"></a><span data-ttu-id="1c30c-107">Editor de Regras de Sincronização</span><span class="sxs-lookup"><span data-stu-id="1c30c-107">Synchronization Rules Editor</span></span>
<span data-ttu-id="1c30c-108">O Editor de Regras de Sincronização é usado para exibir e alterar a configuração padrão.</span><span class="sxs-lookup"><span data-stu-id="1c30c-108">The Synchronization Rules Editor is used to see and change the default configuration.</span></span> <span data-ttu-id="1c30c-109">Você o encontrará no Menu Iniciar no grupo **Azure Connect AD** .</span><span class="sxs-lookup"><span data-stu-id="1c30c-109">You can find it in the Start Menu under the **Azure AD Connect** group.</span></span>  
<span data-ttu-id="1c30c-110">![Menu Iniciar com o Editor de Regras de Sincronização](./media/active-directory-aadconnectsync-change-the-configuration/startmenu2.png)</span><span class="sxs-lookup"><span data-stu-id="1c30c-110">![Start Menu with Sync Rule Editor](./media/active-directory-aadconnectsync-change-the-configuration/startmenu2.png)</span></span>

<span data-ttu-id="1c30c-111">Ao abri-lo, você verá as regras padrão prontas para uso.</span><span class="sxs-lookup"><span data-stu-id="1c30c-111">When you open it, you see the default out-of-box rules.</span></span>

![Editor de Regras de Sincronização](./media/active-directory-aadconnectsync-change-the-configuration/sre2.png)

### <a name="navigating-in-the-editor"></a><span data-ttu-id="1c30c-113">Navegando no editor</span><span class="sxs-lookup"><span data-stu-id="1c30c-113">Navigating in the editor</span></span>
<span data-ttu-id="1c30c-114">Os menus suspensos na parte superior do editor permitem localizar rapidamente uma determinada regra.</span><span class="sxs-lookup"><span data-stu-id="1c30c-114">The drop-downs at the top of the editor allow you to quickly find a particular rule.</span></span> <span data-ttu-id="1c30c-115">Por exemplo, se você quisesse ver as regras onde o atributo proxyAddresses está incluído, alteraria os menus suspensos para o seguinte: </span><span class="sxs-lookup"><span data-stu-id="1c30c-115">For example, if you want to see the rules where the attribute proxyAddresses is included, you would change the drop-downs to the following:</span></span>  
<span data-ttu-id="1c30c-116">![Filtragem de SRE](./media/active-directory-aadconnectsync-change-the-configuration/filtering.png)</span><span class="sxs-lookup"><span data-stu-id="1c30c-116">![SRE filtering](./media/active-directory-aadconnectsync-change-the-configuration/filtering.png)</span></span>  
<span data-ttu-id="1c30c-117">para redefinir a filtragem e carregar uma nova configuração, pressione **F5** no teclado.</span><span class="sxs-lookup"><span data-stu-id="1c30c-117">To reset filtering and load a fresh configuration, press **F5** on the keyboard.</span></span>

<span data-ttu-id="1c30c-118">À direita superior, você tem um botão **Adicionar nova regra**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-118">To the top right, you have a button **Add new rule**.</span></span> <span data-ttu-id="1c30c-119">Este botão é usado para criar sua própria regra personalizada.</span><span class="sxs-lookup"><span data-stu-id="1c30c-119">This button is used to create your own custom rule.</span></span>

<span data-ttu-id="1c30c-120">Na parte inferior, você tem botões para atuar em uma regra de sincronização selecionada.</span><span class="sxs-lookup"><span data-stu-id="1c30c-120">At the bottom, you have buttons for acting on a selected sync rule.</span></span> <span data-ttu-id="1c30c-121">**Editar** e **Excluir** fazem o que você espera.</span><span class="sxs-lookup"><span data-stu-id="1c30c-121">**Edit** and **Delete** do what you expect them to.</span></span> <span data-ttu-id="1c30c-122">**Exportar** gera um script do PowerShell para recriar a regra de sincronização.</span><span class="sxs-lookup"><span data-stu-id="1c30c-122">**Export** produces a PowerShell script for recreating the sync rule.</span></span> <span data-ttu-id="1c30c-123">Esse procedimento permite mover uma regra de sincronização de um servidor para outro.</span><span class="sxs-lookup"><span data-stu-id="1c30c-123">This procedure allows you to move a sync rule from one server to another.</span></span>

## <a name="create-your-first-custom-rule"></a><span data-ttu-id="1c30c-124">Criar sua primeira regra personalizada</span><span class="sxs-lookup"><span data-stu-id="1c30c-124">Create your first custom rule</span></span>
<span data-ttu-id="1c30c-125">A alteração mais comum é fazer mudanças nos fluxos do atributo.</span><span class="sxs-lookup"><span data-stu-id="1c30c-125">The most common change is changes to the attribute flows.</span></span> <span data-ttu-id="1c30c-126">Os dados no diretório de origem podem não estar como no Azure AD.</span><span class="sxs-lookup"><span data-stu-id="1c30c-126">The data in your source directory might not be as in Azure AD.</span></span> <span data-ttu-id="1c30c-127">No exemplo nesta seção, você deseja verificar se o nome fornecido de um usuário está sempre com o **Formato apropriado**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-127">In the example in this section, you want to make sure the given name of a user is always in **Proper case**.</span></span>

### <a name="disable-the-scheduler"></a><span data-ttu-id="1c30c-128">Desabilitar o agendador</span><span class="sxs-lookup"><span data-stu-id="1c30c-128">Disable the scheduler</span></span>
<span data-ttu-id="1c30c-129">O [Agendador](active-directory-aadconnectsync-feature-scheduler.md) é executado a cada 30 minutos por padrão.</span><span class="sxs-lookup"><span data-stu-id="1c30c-129">The [scheduler](active-directory-aadconnectsync-feature-scheduler.md) runs every 30 minutes by default.</span></span> <span data-ttu-id="1c30c-130">Você deseja verificar se ele não está iniciando enquanto está fazendo alterações e solucionando os problemas das novas regras.</span><span class="sxs-lookup"><span data-stu-id="1c30c-130">You want to make sure it is not starting while you are making changes and troubleshoot your new rules.</span></span> <span data-ttu-id="1c30c-131">Para desabilitar temporariamente o agendador, inicie o PowerShell e execute `Set-ADSyncScheduler -SyncCycleEnabled $false`</span><span class="sxs-lookup"><span data-stu-id="1c30c-131">To temporarily disable the scheduler, start PowerShell, and run `Set-ADSyncScheduler -SyncCycleEnabled $false`</span></span>

![Desabilitar o agendador](./media/active-directory-aadconnectsync-change-the-configuration/schedulerdisable.png)  

### <a name="create-the-rule"></a><span data-ttu-id="1c30c-133">Criar a regra</span><span class="sxs-lookup"><span data-stu-id="1c30c-133">Create the rule</span></span>
1. <span data-ttu-id="1c30c-134">Clique em **Adicionar nova regra**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-134">Click **Add new rule**.</span></span>
2. <span data-ttu-id="1c30c-135">Na página **Descrição**, insira o seguinte:</span><span class="sxs-lookup"><span data-stu-id="1c30c-135">On the **Description** page enter the following:</span></span>  
   <span data-ttu-id="1c30c-136">![Filtragem das regras de entrada](./media/active-directory-aadconnectsync-change-the-configuration/description2.png)</span><span class="sxs-lookup"><span data-stu-id="1c30c-136">![Inbound rule filtering](./media/active-directory-aadconnectsync-change-the-configuration/description2.png)</span></span>  
   * <span data-ttu-id="1c30c-137">Nome: dê um nome descritivo à regra.</span><span class="sxs-lookup"><span data-stu-id="1c30c-137">Name: Give the rule a descriptive name.</span></span>
   * <span data-ttu-id="1c30c-138">Descrição: algum esclarecimento para que outra pessoa possa entender para que serve a regra.</span><span class="sxs-lookup"><span data-stu-id="1c30c-138">Description: Some clarification so someone else can understand what the rule is for.</span></span>
   * <span data-ttu-id="1c30c-139">Sistema conectado: o sistema no qual o objeto pode ser encontrado.</span><span class="sxs-lookup"><span data-stu-id="1c30c-139">Connected system: The system the object can be found in.</span></span> <span data-ttu-id="1c30c-140">Neste caso, selecionamos o Active Directory Connector.</span><span class="sxs-lookup"><span data-stu-id="1c30c-140">In this case, select the Active Directory Connector.</span></span>
   * <span data-ttu-id="1c30c-141">Tipo de Sistema Conectado/Objeto do Metaverso: selecione **Usuário** e **Pessoa**, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="1c30c-141">Connected System/Metaverse Object Type: Select **User** and **Person** respectively.</span></span>
   * <span data-ttu-id="1c30c-142">Tipo de Link: altere esse valor para **Ingressar**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-142">Link Type: Change this value to **Join**.</span></span>
   * <span data-ttu-id="1c30c-143">Precedência: forneça um valor que seja exclusivo no sistema.</span><span class="sxs-lookup"><span data-stu-id="1c30c-143">Precedence: Provide a value that is unique in the system.</span></span> <span data-ttu-id="1c30c-144">Um valor numérico mais baixo indica uma precedência mais alta.</span><span class="sxs-lookup"><span data-stu-id="1c30c-144">A lower numeric value indicates higher precedence.</span></span>
   * <span data-ttu-id="1c30c-145">Marcação: deixe em branco.</span><span class="sxs-lookup"><span data-stu-id="1c30c-145">Tag: Leave empty.</span></span> <span data-ttu-id="1c30c-146">As regras integradas da Microsoft devem ter essa caixa preenchida com um valor.</span><span class="sxs-lookup"><span data-stu-id="1c30c-146">Only out-of-box rules from Microsoft should have this box populated with a value.</span></span>
3. <span data-ttu-id="1c30c-147">Na página **Filtro de escopo**, insira **givenName ISNOTNULL**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-147">On the **Scoping filter** page, enter **givenName ISNOTNULL**.</span></span>  
   <span data-ttu-id="1c30c-148">![Filtrar escopo das regras de entrada](./media/active-directory-aadconnectsync-change-the-configuration/scopingfilter.png)</span><span class="sxs-lookup"><span data-stu-id="1c30c-148">![Inbound rule scoping filter](./media/active-directory-aadconnectsync-change-the-configuration/scopingfilter.png)</span></span>  
   <span data-ttu-id="1c30c-149">Esta seção é usada para definir em quais objetos a regra deve ser aplicada.</span><span class="sxs-lookup"><span data-stu-id="1c30c-149">This section is used to define which objects the rule should apply to.</span></span> <span data-ttu-id="1c30c-150">Se deixada em branco, a regra se aplicaria a todos os objetos de usuário.</span><span class="sxs-lookup"><span data-stu-id="1c30c-150">If left empty, the rule would apply to all user objects.</span></span> <span data-ttu-id="1c30c-151">Mas isso incluiria as salas de conferência, contas de serviço e outros objetos de usuário que não são de pessoas.</span><span class="sxs-lookup"><span data-stu-id="1c30c-151">But that would include conference rooms, service accounts, and other non-people user objects.</span></span>
4. <span data-ttu-id="1c30c-152">Em **Regras de junção**, deixe a caixa vazia.</span><span class="sxs-lookup"><span data-stu-id="1c30c-152">On the **Join rules**, leave it empty.</span></span>
5. <span data-ttu-id="1c30c-153">Na página **Transformações**, altere o FlowType para **Expression**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-153">On the **Transformations** page, change the FlowType to **Expression**.</span></span> <span data-ttu-id="1c30c-154">Selecione o Atributo de Destino **giveName** e, em Origem, digite `PCase([givenName])`.</span><span class="sxs-lookup"><span data-stu-id="1c30c-154">Select the Target Attribute **givenName**, and in Source enter `PCase([givenName])`.</span></span>
   <span data-ttu-id="1c30c-155">![Transformações das regras de entrada](./media/active-directory-aadconnectsync-change-the-configuration/transformations.png)</span><span class="sxs-lookup"><span data-stu-id="1c30c-155">![Inbound rule transformations](./media/active-directory-aadconnectsync-change-the-configuration/transformations.png)</span></span>  
   <span data-ttu-id="1c30c-156">O mecanismo de sincronização diferencia as letras maiúsculas das minúsculas no nome da função e no nome do atributo.</span><span class="sxs-lookup"><span data-stu-id="1c30c-156">The sync engine is case-sensitive both on the function name and the name of the attribute.</span></span> <span data-ttu-id="1c30c-157">Se você digitar algo errado, verá um aviso quando adicionar a regra.</span><span class="sxs-lookup"><span data-stu-id="1c30c-157">If you type something wrong, you see a warning when you add the rule.</span></span> <span data-ttu-id="1c30c-158">O editor permite que você salve e continue, portanto, é necessário reabrir a regra e corrigi-la.</span><span class="sxs-lookup"><span data-stu-id="1c30c-158">The editor allows you to save and continue, so you would have to reopen the rule and correct the rule.</span></span>
6. <span data-ttu-id="1c30c-159">Clique em **Adicionar** para salvar a regra.</span><span class="sxs-lookup"><span data-stu-id="1c30c-159">Click **Add** to save the rule.</span></span>

<span data-ttu-id="1c30c-160">A nova regra personalizada deve ficar visível com as outras regras de sincronização no sistema.</span><span class="sxs-lookup"><span data-stu-id="1c30c-160">Your new custom rule should be visible with the other sync rules in the system.</span></span>

### <a name="verify-the-change"></a><span data-ttu-id="1c30c-161">Verificar a alteração</span><span class="sxs-lookup"><span data-stu-id="1c30c-161">Verify the change</span></span>
<span data-ttu-id="1c30c-162">Com essa nova alteração, você deseja verificar se ela está funcionando conforme o esperado e não está gerando erros.</span><span class="sxs-lookup"><span data-stu-id="1c30c-162">With this new change, you want to make sure it is working as expected and is not throwing any errors.</span></span> <span data-ttu-id="1c30c-163">Dependendo do número de objetos que você tem, há duas maneiras diferentes de realizar esta etapa.</span><span class="sxs-lookup"><span data-stu-id="1c30c-163">Depending on the number of objects you have, there are two different ways to do this step.</span></span>

1. <span data-ttu-id="1c30c-164">Executar uma sincronização completa em todos os objetos</span><span class="sxs-lookup"><span data-stu-id="1c30c-164">Run a full sync on all objects</span></span>
2. <span data-ttu-id="1c30c-165">Executar uma visualização e uma sincronização completa em um único objeto</span><span class="sxs-lookup"><span data-stu-id="1c30c-165">Run a preview and full sync on a single object</span></span>

<span data-ttu-id="1c30c-166">Inicie o **Serviço de Sincronização** no menu Iniciar.</span><span class="sxs-lookup"><span data-stu-id="1c30c-166">Start **Synchronization Service** from the start menu.</span></span> <span data-ttu-id="1c30c-167">As etapas nesta seção estão todas nessa ferramenta.</span><span class="sxs-lookup"><span data-stu-id="1c30c-167">The steps in this section are all in this tool.</span></span>

1. <span data-ttu-id="1c30c-168">**Sincronização completa em todos os objetos**</span><span class="sxs-lookup"><span data-stu-id="1c30c-168">**Full sync on all objects**</span></span>  
   <span data-ttu-id="1c30c-169">Selecione **Conectores** na parte superior.</span><span class="sxs-lookup"><span data-stu-id="1c30c-169">Select **Connectors** at the top.</span></span> <span data-ttu-id="1c30c-170">Identifique o Conector no qual você fez uma alteração na seção anterior, neste caso, os Serviços de Domínio do Active Directory, e selecione-o.</span><span class="sxs-lookup"><span data-stu-id="1c30c-170">Identify the Connector you made a change to in the previous section, in this case the Active Directory Domain Services, and select it.</span></span> <span data-ttu-id="1c30c-171">Selecione **Executar** em Ações e selecione **Sincronização Completa** e **OK**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-171">Select **Run** from Actions and select **Full Synchronization** and **OK**.</span></span>
   <span data-ttu-id="1c30c-172">![Sincronização completa](./media/active-directory-aadconnectsync-change-the-configuration/fullsync.png)</span><span class="sxs-lookup"><span data-stu-id="1c30c-172">![Full sync](./media/active-directory-aadconnectsync-change-the-configuration/fullsync.png)</span></span>  
   <span data-ttu-id="1c30c-173">Os objetos estão atualizados no metaverso.</span><span class="sxs-lookup"><span data-stu-id="1c30c-173">The objects are now updated in the metaverse.</span></span> <span data-ttu-id="1c30c-174">Agora você deseja ver o objeto no metaverso.</span><span class="sxs-lookup"><span data-stu-id="1c30c-174">You now want to look at the object in the metaverse.</span></span>
2. <span data-ttu-id="1c30c-175">**Visualização e sincronização completa em um único objeto**</span><span class="sxs-lookup"><span data-stu-id="1c30c-175">**Preview and full sync on a single object**</span></span>  
   <span data-ttu-id="1c30c-176">Selecione **Conectores** na parte superior.</span><span class="sxs-lookup"><span data-stu-id="1c30c-176">Select **Connectors** at the top.</span></span> <span data-ttu-id="1c30c-177">Identifique o Conector no qual você fez uma alteração na seção anterior, neste caso, os Serviços de Domínio do Active Directory, e selecione-o.</span><span class="sxs-lookup"><span data-stu-id="1c30c-177">Identify the Connector you made a change to in the previous section, in this case the Active Directory Domain Services, and select it.</span></span> <span data-ttu-id="1c30c-178">Selecione **Pesquisar Espaço do Conector**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-178">Select **Search Connector Space**.</span></span> <span data-ttu-id="1c30c-179">Use o escopo para localizar um objeto que você deseja usar para testar a alteração.</span><span class="sxs-lookup"><span data-stu-id="1c30c-179">Use scope to find an object you want to use to test the change.</span></span> <span data-ttu-id="1c30c-180">Selecione o objeto e clique em **Visualizar**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-180">Select the object and click **Preview**.</span></span> <span data-ttu-id="1c30c-181">Na nova tela, selecione **Confirmar Visualização**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-181">In the new screen, select **Commit Preview**.</span></span>  
   <span data-ttu-id="1c30c-182">![Commit preview](./media/active-directory-aadconnectsync-change-the-configuration/commitpreview.png)</span><span class="sxs-lookup"><span data-stu-id="1c30c-182">![Commit preview](./media/active-directory-aadconnectsync-change-the-configuration/commitpreview.png)</span></span>  
   <span data-ttu-id="1c30c-183">Agora, a alteração está confirmada no metaverso.</span><span class="sxs-lookup"><span data-stu-id="1c30c-183">The change is now committed to the metaverse.</span></span>

<span data-ttu-id="1c30c-184">**Ver o objeto no metaverso**</span><span class="sxs-lookup"><span data-stu-id="1c30c-184">**Look at the object in the metaverse**</span></span>  
<span data-ttu-id="1c30c-185">Agora, você deseja escolher alguns objetos de exemplo para verificar se o valor é o esperado e se a regra foi aplicada.</span><span class="sxs-lookup"><span data-stu-id="1c30c-185">You now want to pick a few sample objects to make sure the value is expected and that the rule applied.</span></span> <span data-ttu-id="1c30c-186">Selecione **Pesquisar Metaverso** na parte superior.</span><span class="sxs-lookup"><span data-stu-id="1c30c-186">Select **Metaverse Search** from the top.</span></span> <span data-ttu-id="1c30c-187">Adicione qualquer filtro necessário para localizar os objetos relevantes.</span><span class="sxs-lookup"><span data-stu-id="1c30c-187">Add any filter you need to find the relevant objects.</span></span> <span data-ttu-id="1c30c-188">No resultado da pesquisa, abra um objeto.</span><span class="sxs-lookup"><span data-stu-id="1c30c-188">From the search result, open an object.</span></span> <span data-ttu-id="1c30c-189">Veja os valores do atributo e verifique também na coluna **Regras de Sincronização** se a regra aplicada está conforme o esperado.</span><span class="sxs-lookup"><span data-stu-id="1c30c-189">Look at the attribute values and also verify in the **Sync Rules** column that the rule applied as expected.</span></span>  
<span data-ttu-id="1c30c-190">![Metaverse search](./media/active-directory-aadconnectsync-change-the-configuration/mvsearch.png)</span><span class="sxs-lookup"><span data-stu-id="1c30c-190">![Metaverse search](./media/active-directory-aadconnectsync-change-the-configuration/mvsearch.png)</span></span>  

### <a name="enable-the-scheduler"></a><span data-ttu-id="1c30c-191">Habilitar o agendador</span><span class="sxs-lookup"><span data-stu-id="1c30c-191">Enable the scheduler</span></span>
<span data-ttu-id="1c30c-192">Se tudo estiver como o esperado, você poderá habilitar o agendador novamente.</span><span class="sxs-lookup"><span data-stu-id="1c30c-192">If everything is as expected, you can enable the scheduler again.</span></span> <span data-ttu-id="1c30c-193">No PowerShell, execute `Set-ADSyncScheduler -SyncCycleEnabled $true`.</span><span class="sxs-lookup"><span data-stu-id="1c30c-193">From PowerShell, run `Set-ADSyncScheduler -SyncCycleEnabled $true`.</span></span>

## <a name="other-common-attribute-flow-changes"></a><span data-ttu-id="1c30c-194">Outras alterações comuns no fluxo de atributos</span><span class="sxs-lookup"><span data-stu-id="1c30c-194">Other common attribute flow changes</span></span>
<span data-ttu-id="1c30c-195">A seção anterior descreveu como fazer alterações em um fluxo de atributos.</span><span class="sxs-lookup"><span data-stu-id="1c30c-195">The previous section described how to make changes to an attribute flow.</span></span> <span data-ttu-id="1c30c-196">Nesta seção, são fornecidos alguns exemplos adicionais.</span><span class="sxs-lookup"><span data-stu-id="1c30c-196">In this section, some additional examples are provided.</span></span> <span data-ttu-id="1c30c-197">As etapas para criar a regra de sincronização estão abreviadas, mas você pode encontrar as etapas completas na seção anterior.</span><span class="sxs-lookup"><span data-stu-id="1c30c-197">The steps for how to create the sync rule is abbreviated, but you can find the full steps in the previous section.</span></span>

### <a name="use-another-attribute-than-the-default"></a><span data-ttu-id="1c30c-198">Usar outro atributo diferente do padrão</span><span class="sxs-lookup"><span data-stu-id="1c30c-198">Use another attribute than the default</span></span>
<span data-ttu-id="1c30c-199">Na Fabrikam, há uma floresta na qual o alfabeto local é usado para o nome dado, sobrenome e nome de exibição.</span><span class="sxs-lookup"><span data-stu-id="1c30c-199">At Fabrikam, there is a forest where the local alphabet is used for given name, surname, and display name.</span></span> <span data-ttu-id="1c30c-200">A representação de caracteres latinos desses atributos pode ser encontrada nos atributos de extensão.</span><span class="sxs-lookup"><span data-stu-id="1c30c-200">The Latin character representation of these attributes can be found in the extension attributes.</span></span> <span data-ttu-id="1c30c-201">Ao compilar a lista de endereços global no AD do Azure e no Office 365, a organização deseja que esses atributos sejam usados.</span><span class="sxs-lookup"><span data-stu-id="1c30c-201">When building the global address list in Azure AD and Office 365, the organization wants these attributes to be used instead.</span></span>

<span data-ttu-id="1c30c-202">Com uma configuração padrão, um objeto da floresta local tem esta aparência: </span><span class="sxs-lookup"><span data-stu-id="1c30c-202">With a default configuration, an object from the local forest looks like this:</span></span>  
![Fluxo de atributos 1](./media/active-directory-aadconnectsync-change-the-configuration/attributeflowjp1.png)

<span data-ttu-id="1c30c-204">Para criar uma regra com outros fluxos de atributos, faça o seguinte:</span><span class="sxs-lookup"><span data-stu-id="1c30c-204">To create a rule with other attribute flows, do the following:</span></span>

* <span data-ttu-id="1c30c-205">Inicie o **Editor da Regra de Sincronização** no menu Iniciar.</span><span class="sxs-lookup"><span data-stu-id="1c30c-205">Start **Synchronization Rule Editor** from the start menu.</span></span>
* <span data-ttu-id="1c30c-206">Com a **Entrada** ainda selecionada à esquerda, clique no botão **Adicionar nova regra**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-206">With **Inbound** still selected to the left, click the button **Add new rule**.</span></span>
* <span data-ttu-id="1c30c-207">Dê à regra um nome e uma descrição.</span><span class="sxs-lookup"><span data-stu-id="1c30c-207">Give the rule a name and description.</span></span> <span data-ttu-id="1c30c-208">Selecione o Active Directory local e os tipos de objetos relevantes.</span><span class="sxs-lookup"><span data-stu-id="1c30c-208">Select the on-premises Active Directory and the relevant object types.</span></span> <span data-ttu-id="1c30c-209">Em **Tipo de Link**, selecione **Junção**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-209">In **Link Type**, select **Join**.</span></span> <span data-ttu-id="1c30c-210">Para a precedência, escolha um número que não seja usado por outra regra.</span><span class="sxs-lookup"><span data-stu-id="1c30c-210">For precedence, pick a number that is not used by another rule.</span></span> <span data-ttu-id="1c30c-211">As regras prontas para uso começam com 100, então, o valor 50 pode ser usado neste exemplo.</span><span class="sxs-lookup"><span data-stu-id="1c30c-211">The out-of-box rules start with 100, so the value 50 can be used in this example.</span></span>
  <span data-ttu-id="1c30c-212">![Fluxo de atributos 2](./media/active-directory-aadconnectsync-change-the-configuration/attributeflowjp2.png)</span><span class="sxs-lookup"><span data-stu-id="1c30c-212">![Attribute flow 2](./media/active-directory-aadconnectsync-change-the-configuration/attributeflowjp2.png)</span></span>
* <span data-ttu-id="1c30c-213">Deixe o escopo vazio (ou seja, deve ser aplicada a todos os objetos de usuário na floresta).</span><span class="sxs-lookup"><span data-stu-id="1c30c-213">Leave scope empty (that is, should apply to all user objects in the forest).</span></span>
* <span data-ttu-id="1c30c-214">Deixe as regras de junção vazias (ou seja, permita que a regra pronta para uso lide com quaisquer junções).</span><span class="sxs-lookup"><span data-stu-id="1c30c-214">Leave join rules empty (that is, let the out-of-box rule handle any joins).</span></span>
* <span data-ttu-id="1c30c-215">Em Transformações, crie os seguintes fluxos: </span><span class="sxs-lookup"><span data-stu-id="1c30c-215">In Transformations, create the following flows:</span></span>  
  ![Fluxo de atributos 3](./media/active-directory-aadconnectsync-change-the-configuration/attributeflowjp3.png)
* <span data-ttu-id="1c30c-217">Clique em **Adicionar** para salvar a regra.</span><span class="sxs-lookup"><span data-stu-id="1c30c-217">Click **Add** to save the rule.</span></span>
* <span data-ttu-id="1c30c-218">Vá para o **Synchronization Service Manager**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-218">Go to **Synchronization Service Manager**.</span></span> <span data-ttu-id="1c30c-219">Em **Conectores**, selecione o Conector ao qual adicionamos a regra.</span><span class="sxs-lookup"><span data-stu-id="1c30c-219">On **Connectors**, select the Connector where we added the rule.</span></span> <span data-ttu-id="1c30c-220">Selecione **Executar** e **Sincronização Completa**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-220">Select **Run**, and **Full Synchronization**.</span></span> <span data-ttu-id="1c30c-221">Uma Sincronização Completa recalcula todos os objetos usando as regras atuais.</span><span class="sxs-lookup"><span data-stu-id="1c30c-221">A Full Synchronization recalculates all objects using the current rules.</span></span>

<span data-ttu-id="1c30c-222">Este é o resultado para o mesmo objeto com essa regra personalizada: </span><span class="sxs-lookup"><span data-stu-id="1c30c-222">This is the result for the same object with this custom rule:</span></span>  
![Fluxo de atributos 4](./media/active-directory-aadconnectsync-change-the-configuration/attributeflowjp4.png)

### <a name="length-of-attributes"></a><span data-ttu-id="1c30c-224">Comprimento de atributos</span><span class="sxs-lookup"><span data-stu-id="1c30c-224">Length of attributes</span></span>
<span data-ttu-id="1c30c-225">Atributos de cadeia de caracteres são definidos por padrão para serem indexáveis e seu comprimento máximo é 448 caracteres.</span><span class="sxs-lookup"><span data-stu-id="1c30c-225">String attributes are by default set to be indexable and the maximum length is 448 characters.</span></span> <span data-ttu-id="1c30c-226">Se você estiver trabalhando com atributos da cadeia de caracteres que podem conter mais, inclua o seguinte no fluxo de atributos: </span><span class="sxs-lookup"><span data-stu-id="1c30c-226">If you are working with string attributes that might contain more, then make sure to include the following in the attribute flow:</span></span>  
`attributeName` <- `Left([attributeName],448)`

### <a name="changing-the-userprincipalsuffix"></a><span data-ttu-id="1c30c-227">Alterando o userPrincipalSuffix</span><span class="sxs-lookup"><span data-stu-id="1c30c-227">Changing the userPrincipalSuffix</span></span>
<span data-ttu-id="1c30c-228">O atributo userPrincipalName no Active Directory não é sempre conhecido pelos usuários e pode não ser adequado como a ID de logon.</span><span class="sxs-lookup"><span data-stu-id="1c30c-228">The userPrincipalName attribute in Active Directory is not always known by the users and might not be suitable as the sign-in ID.</span></span> <span data-ttu-id="1c30c-229">O assistente de instalação da sincronização do Azure AD Connect permite escolher um atributo diferente, por exemplo, o email.</span><span class="sxs-lookup"><span data-stu-id="1c30c-229">The Azure AD Connect sync installation wizard allows picking a different attribute, for example mail.</span></span> <span data-ttu-id="1c30c-230">Mas, em alguns casos, o atributo deve ser calculado.</span><span class="sxs-lookup"><span data-stu-id="1c30c-230">But in some cases the attribute must be calculated.</span></span> <span data-ttu-id="1c30c-231">Por exemplo, a empresa Contoso tem dois diretórios do AD do Azure, um para a produção e outro para o teste.</span><span class="sxs-lookup"><span data-stu-id="1c30c-231">For example, the company Contoso has two Azure AD directories, one for production and one for testing.</span></span> <span data-ttu-id="1c30c-232">Eles querem que os usuários em seu locatário de teste usem outro sufixo na ID de logon.</span><span class="sxs-lookup"><span data-stu-id="1c30c-232">They want the users in their test tenant to use another suffix in the sign-in ID.</span></span>  
`userPrincipalName` <- `Word([userPrincipalName],1,"@") & "@contosotest.com"`

<span data-ttu-id="1c30c-233">Nesta expressão, pegamos tudo à esquerda do primeiro @-sign (Word) e concatenamos com uma cadeia de caracteres fixa.</span><span class="sxs-lookup"><span data-stu-id="1c30c-233">In this expression, take everything left of the first @-sign (Word) and concatenate with a fixed string.</span></span>

### <a name="convert-a-multi-value-to-a-single-value"></a><span data-ttu-id="1c30c-234">Converter um número de vários valores em um único valor</span><span class="sxs-lookup"><span data-stu-id="1c30c-234">Convert a multi-value to a single-value</span></span>
<span data-ttu-id="1c30c-235">Alguns atributos no Active Directory são compostos de vários valores no esquema, mesmo que pareçam de valor único nos Usuários e computadores do Active Directory.</span><span class="sxs-lookup"><span data-stu-id="1c30c-235">Some attributes in Active Directory are multi-valued in the schema even though they look single valued in Active Directory Users and Computers.</span></span> <span data-ttu-id="1c30c-236">Um exemplo é o atributo de descrição.</span><span class="sxs-lookup"><span data-stu-id="1c30c-236">An example is the description attribute.</span></span>  
`description` <- `IIF(IsNullOrEmpty([description]),NULL,Left(Trim(Item([description],1)),448))`

<span data-ttu-id="1c30c-237">Nesta expressão, caso o atributo tenha um valor, pegue o primeiro item (Item) no atributo, remova espaços à direita e à esquerda (Trim, cortar) e, em seguida, mantenha os primeiros 448 caracteres (Left, à esquerda) na cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="1c30c-237">In this expression in case the attribute has a value, take the first item (Item) in the attribute, remove leading and trailing spaces (Trim), and then keep the first 448 characters (Left) in the string.</span></span>

### <a name="do-not-flow-an-attribute"></a><span data-ttu-id="1c30c-238">Não faça um atributo fluir</span><span class="sxs-lookup"><span data-stu-id="1c30c-238">Do not flow an attribute</span></span>
<span data-ttu-id="1c30c-239">Para obter informações sobre o cenário para esta seção, confira [Controlar o processo de fluxo de atributos](active-directory-aadconnectsync-understanding-declarative-provisioning.md#control-the-attribute-flow-process).</span><span class="sxs-lookup"><span data-stu-id="1c30c-239">For background on the scenario for this section, see [Control the attribute flow process](active-directory-aadconnectsync-understanding-declarative-provisioning.md#control-the-attribute-flow-process).</span></span>

<span data-ttu-id="1c30c-240">Há duas maneiras de não fazer um atributo fluir.</span><span class="sxs-lookup"><span data-stu-id="1c30c-240">There are two ways to not flow an attribute.</span></span> <span data-ttu-id="1c30c-241">A primeira está disponível no assistente de instalação e permite que você [remova os atributos selecionados](active-directory-aadconnect-get-started-custom.md#azure-ad-app-and-attribute-filtering).</span><span class="sxs-lookup"><span data-stu-id="1c30c-241">The first is available in the installation wizard and allows you to [remove selected attributes](active-directory-aadconnect-get-started-custom.md#azure-ad-app-and-attribute-filtering).</span></span> <span data-ttu-id="1c30c-242">Essa opção funciona se você nunca tiver sincronizado o atributo antes.</span><span class="sxs-lookup"><span data-stu-id="1c30c-242">This option works if you have never synchronized the attribute before.</span></span> <span data-ttu-id="1c30c-243">No entanto, se você começou a sincronizar esse atributo e removê-lo mais tarde com esse recurso, o mecanismo de sincronização deixará de gerenciar o atributo e os valores existentes serão deixados no AD do Azure.</span><span class="sxs-lookup"><span data-stu-id="1c30c-243">However, if you have started to synchronize this attribute and later remove it with this feature, then the sync engine stops managing the attribute and the existing values are left in Azure AD.</span></span>

<span data-ttu-id="1c30c-244">Se você quiser remover o valor de um atributo e assegurar que ele não fluirá no futuro, será necessário criar uma regra personalizada.</span><span class="sxs-lookup"><span data-stu-id="1c30c-244">If you want to remove the value of an attribute and make sure it does not flow in the future, you need create a custom rule instead.</span></span>

<span data-ttu-id="1c30c-245">Na Fabrikam, percebemos que alguns dos atributos que sincronizamos para a nuvem não deveriam estar lá.</span><span class="sxs-lookup"><span data-stu-id="1c30c-245">At Fabrikam, we have realized that some of the attributes we synchronize to the cloud should not be there.</span></span> <span data-ttu-id="1c30c-246">Queremos removê-los do AD do Azure.</span><span class="sxs-lookup"><span data-stu-id="1c30c-246">We want to make sure these attributes are removed from Azure AD.</span></span>  
![Atributos de Extensão Ruins](./media/active-directory-aadconnectsync-change-the-configuration/badextensionattribute.png)

* <span data-ttu-id="1c30c-248">Crie uma nova Regra de Sincronização de entrada e preencha a descrição ![Descrições](./media/active-directory-aadconnectsync-change-the-configuration/syncruledescription.png)</span><span class="sxs-lookup"><span data-stu-id="1c30c-248">Create a new inbound Synchronization Rule and populate the description ![Descriptions](./media/active-directory-aadconnectsync-change-the-configuration/syncruledescription.png)</span></span>
* <span data-ttu-id="1c30c-249">Crie fluxos de atributo do tipo **Expression** e com a fonte **AuthoritativeNull**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-249">Create attribute flows of type **Expression** and with the source **AuthoritativeNull**.</span></span> <span data-ttu-id="1c30c-250">O literal **AuthoritativeNull** indica que o valor deve ser vazio na MV mesmo se uma regra de sincronização de precedência inferior tentar preencher o valor.</span><span class="sxs-lookup"><span data-stu-id="1c30c-250">The literal **AuthoritativeNull** indicates that the value should be empty in the MV even if a lower precedence sync rule tries to populate the value.</span></span>
  <span data-ttu-id="1c30c-251">![Transformação dos Atributos de Extensão](./media/active-directory-aadconnectsync-change-the-configuration/syncruletransformations.png)</span><span class="sxs-lookup"><span data-stu-id="1c30c-251">![Transformation for Extension Attributes](./media/active-directory-aadconnectsync-change-the-configuration/syncruletransformations.png)</span></span>
* <span data-ttu-id="1c30c-252">Salve a Regra de Sincronização.</span><span class="sxs-lookup"><span data-stu-id="1c30c-252">Save the Sync Rule.</span></span> <span data-ttu-id="1c30c-253">Inicie o **Serviço de Sincronização**, localize o Conector, selecione **Executar** e **Sincronização Completa**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-253">Start **Synchronization Service**, find the Connector, select **Run**, and **Full Synchronization**.</span></span> <span data-ttu-id="1c30c-254">Esta etapa recalculará todos os fluxos de atributo.</span><span class="sxs-lookup"><span data-stu-id="1c30c-254">This step recalculates all attribute flows.</span></span>
* <span data-ttu-id="1c30c-255">Verifique se as alterações pretendidas estão prestes a ser exportadas pesquisando o espaço conector.</span><span class="sxs-lookup"><span data-stu-id="1c30c-255">Verify that the intended changes are about to be exported by searching the connector space.</span></span>
  <span data-ttu-id="1c30c-256">![Exclusão em etapas](./media/active-directory-aadconnectsync-change-the-configuration/deletetobeexported.png)</span><span class="sxs-lookup"><span data-stu-id="1c30c-256">![Staged delete](./media/active-directory-aadconnectsync-change-the-configuration/deletetobeexported.png)</span></span>

## <a name="create-rules-with-powershell"></a><span data-ttu-id="1c30c-257">Criar regras com o PowerShell</span><span class="sxs-lookup"><span data-stu-id="1c30c-257">Create rules with PowerShell</span></span>
<span data-ttu-id="1c30c-258">Usando o editor de regra de sincronização funciona bem quando você tem apenas algumas alterações a serem feitas.</span><span class="sxs-lookup"><span data-stu-id="1c30c-258">Using the sync rule editor works fine when you only have a few changes to make.</span></span> <span data-ttu-id="1c30c-259">Se você precisar fazer muitas alterações, o PowerShell pode ser uma opção melhor.</span><span class="sxs-lookup"><span data-stu-id="1c30c-259">If you need to make many changes, then PowerShell might be a better option.</span></span> <span data-ttu-id="1c30c-260">Alguns recursos avançados só estão disponíveis com o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="1c30c-260">Some advanced features are only available with PowerShell.</span></span>

### <a name="get-the-powershell-script-for-an-out-of-box-rule"></a><span data-ttu-id="1c30c-261">Obter o script do PowerShell para uma regra pronta para uso</span><span class="sxs-lookup"><span data-stu-id="1c30c-261">Get the PowerShell script for an out-of-box rule</span></span>
<span data-ttu-id="1c30c-262">Para ver o PowerShell script que criou uma regra de caixa de saída, selecione a regra no editor de regras de sincronização e clique em **Exportar**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-262">To see the PowerShell script that created an out-of-box rule, select the rule in the sync rules editor and click **Export**.</span></span> <span data-ttu-id="1c30c-263">Esta ação lhe dá o script do PowerShell que criou a regra.</span><span class="sxs-lookup"><span data-stu-id="1c30c-263">This action gives you the PowerShell script that created the rule.</span></span>

### <a name="advanced-precedence"></a><span data-ttu-id="1c30c-264">Precedência avançada</span><span class="sxs-lookup"><span data-stu-id="1c30c-264">Advanced precedence</span></span>
<span data-ttu-id="1c30c-265">As regras de sincronização prontas para uso começam com um valor de precedência 100.</span><span class="sxs-lookup"><span data-stu-id="1c30c-265">The out-of-box sync rules start with a precedence value of 100.</span></span> <span data-ttu-id="1c30c-266">Se você tiver várias florestas e precisar fazer muitas alterações personalizadas, então as 99 regras de sincronização poderão não ser suficientes.</span><span class="sxs-lookup"><span data-stu-id="1c30c-266">If you have many forests and you need to make many custom changes, then 99 sync rules might not be enough.</span></span>

<span data-ttu-id="1c30c-267">Você pode instruir o Mecanismo de Sincronização que deseja regras adicionais inseridas antes das regras prontas para uso.</span><span class="sxs-lookup"><span data-stu-id="1c30c-267">You can instruct the Sync Engine that you want additional rules inserted before the out-of-box rules.</span></span> <span data-ttu-id="1c30c-268">Para obter esse comportamento, siga estas etapas:</span><span class="sxs-lookup"><span data-stu-id="1c30c-268">To get this behavior, follow these steps:</span></span>

1. <span data-ttu-id="1c30c-269">Marque a primeira regra de sincronização pronta para uso (essa regra é a **In from AD-User Join**) no editor de regras de sincronização e selecione **Exportar**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-269">Mark the first out-of-box sync rule (this rule is the **In from AD-User Join**) in the sync rule editor and select **Export**.</span></span> <span data-ttu-id="1c30c-270">Copie o valor do Identificador SR.</span><span class="sxs-lookup"><span data-stu-id="1c30c-270">Copy the SR Identifier value.</span></span>  
<span data-ttu-id="1c30c-271">![PowerShell antes da alteração](./media/active-directory-aadconnectsync-change-the-configuration/powershell1.png)</span><span class="sxs-lookup"><span data-stu-id="1c30c-271">![PowerShell before change](./media/active-directory-aadconnectsync-change-the-configuration/powershell1.png)</span></span>  
2. <span data-ttu-id="1c30c-272">Crie nova regra de sincronização.</span><span class="sxs-lookup"><span data-stu-id="1c30c-272">Create the new sync rule.</span></span> <span data-ttu-id="1c30c-273">Você pode usar o editor de regras de sincronização para criá-lo.</span><span class="sxs-lookup"><span data-stu-id="1c30c-273">You can use the sync rule editor to create it.</span></span> <span data-ttu-id="1c30c-274">Exporte a regra para um script do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="1c30c-274">Export the rule to a PowerShell script.</span></span>
3. <span data-ttu-id="1c30c-275">Na propriedade **PrecedenceBefore**, insira o valor do identificador da regra pronta para uso.</span><span class="sxs-lookup"><span data-stu-id="1c30c-275">In the property **PrecedenceBefore**, insert the identifier value from the out-of-box rule.</span></span> <span data-ttu-id="1c30c-276">Definir o **precedência** para **0**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-276">Set the **Precedence** to **0**.</span></span> <span data-ttu-id="1c30c-277">Verifique se o atributo do identificador é exclusivo e você não estiver reutilizando um GUID de outra regra.</span><span class="sxs-lookup"><span data-stu-id="1c30c-277">Make sure the Identifier attribute is unique and you are not reusing a GUID from another rule.</span></span> <span data-ttu-id="1c30c-278">Verifique também se a propriedade **ImmutableTag** não foi definida; essa propriedade deve ser definida apenas para uma regra pronta para uso.</span><span class="sxs-lookup"><span data-stu-id="1c30c-278">Also make sure that the **ImmutableTag** property is not set; this property should only be set for an out-of-box rule.</span></span> <span data-ttu-id="1c30c-279">Salve o script do PowerShell e executá-lo.</span><span class="sxs-lookup"><span data-stu-id="1c30c-279">Save the PowerShell script and run it.</span></span> <span data-ttu-id="1c30c-280">O resultado é que a regra personalizada recebe o valor de precedência 100 e todas as outras regras prontas para uso são incrementadas.</span><span class="sxs-lookup"><span data-stu-id="1c30c-280">The result is that your custom rule is assigned the precedence value of 100 and all other out-of-box rules are incremented.</span></span>  
<span data-ttu-id="1c30c-281">![PowerShell após a alteração](./media/active-directory-aadconnectsync-change-the-configuration/powershell2.png)</span><span class="sxs-lookup"><span data-stu-id="1c30c-281">![PowerShell after change](./media/active-directory-aadconnectsync-change-the-configuration/powershell2.png)</span></span>  

<span data-ttu-id="1c30c-282">Você pode ter várias regras de sincronização personalizadas usando o mesmo **PrecedenceBefore** valor quando necessário.</span><span class="sxs-lookup"><span data-stu-id="1c30c-282">You can have many custom sync rules using the same **PrecedenceBefore** value when needed.</span></span>


## <a name="enable-synchronization-of-preferreddatalocation"></a><span data-ttu-id="1c30c-283">Habilitar a sincronização de PreferredDataLocation</span><span class="sxs-lookup"><span data-stu-id="1c30c-283">Enable synchronization of PreferredDataLocation</span></span>
<span data-ttu-id="1c30c-284">O Azure AD Connect dá suporte à sincronização do atributo **PreferredDataLocation** para objetos de **Usuário** nas versões 1.1.524.0 e posteriores.</span><span class="sxs-lookup"><span data-stu-id="1c30c-284">Azure AD Connect supports synchronization of the **PreferredDataLocation** attribute for **User** objects in version 1.1.524.0 and after.</span></span> <span data-ttu-id="1c30c-285">Mais especificamente, as seguintes alterações foram introduzidas:</span><span class="sxs-lookup"><span data-stu-id="1c30c-285">More specifically, following changes have been introduced:</span></span>

* <span data-ttu-id="1c30c-286">O esquema do tipo de objeto **Usuário** no Azure AD Connector é estendido para incluir o atributo PreferredDataLocation, que é do tipo cadeia de caracteres e é de valor único.</span><span class="sxs-lookup"><span data-stu-id="1c30c-286">The schema of the object type **User** in the Azure AD Connector is extended to include PreferredDataLocation attribute, which is of type string and is single-valued.</span></span>

* <span data-ttu-id="1c30c-287">O esquema do tipo de objeto **Pessoa** no Metaverso é estendido para incluir o atributo PreferredDataLocation, que é do tipo cadeia de caracteres e é de valor único.</span><span class="sxs-lookup"><span data-stu-id="1c30c-287">The schema of the object type **Person** in the Metaverse is extended to include PreferredDataLocation attribute, which is of type string and is single-valued.</span></span>

<span data-ttu-id="1c30c-288">Por padrão, o atributo PreferredDataLocation não está habilitado para sincronização porque não há nenhum atributo PreferredDataLocation correspondente no Active Directory local.</span><span class="sxs-lookup"><span data-stu-id="1c30c-288">By default, the PreferredDataLocation attribute is not enabled for synchronization because there is no corresponding PreferredDataLocation attribute in on-premises Active Directory.</span></span> <span data-ttu-id="1c30c-289">Você deve habilitar a sincronização manualmente.</span><span class="sxs-lookup"><span data-stu-id="1c30c-289">You must manually enable synchronization.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="1c30c-290">Atualmente, o Azure AD permite que o atributo PreferredDataLocation nos objetos de Usuário sincronizados e nos objetos de Usuário da nuvem sejam configurados diretamente usando o PowerShell do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="1c30c-290">Currently, Azure AD allows the PreferredDataLocation attribute on both synchronized User objects and cloud User objects to be directly configured using Azure AD PowerShell.</span></span> <span data-ttu-id="1c30c-291">Depois de habilitar a sincronização do atributo PreferredDataLocation, você deve parar de usar o PowerShell do Azure AD para configurar o atributo em **objetos de Usuário sincronizados**, uma vez que o Azure AD Connect os substituirá com base em valores de atributo de origem no Active Directory local.</span><span class="sxs-lookup"><span data-stu-id="1c30c-291">Once you have enabled synchronization of the PreferredDataLocation attribute, you must stop using Azure AD PowerShell to configure the attribute on **synchronized User objects** as Azure AD Connect will override them based on the source attribute values in on-premises Active Directory.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="1c30c-292">Em 1º de setembro de 2017, o Azure AD não permitirá mais que o atributo PreferredDataLocation em **objetos do Usuário sincronizados** sejam configurados diretamente usando o PowerShell do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="1c30c-292">On September 1 2017, Azure AD will no longer allow the PreferredDataLocation attribute on **synchronized User objects** to be directly configured using Azure AD PowerShell.</span></span> <span data-ttu-id="1c30c-293">Para configurar o atributo PreferredLocation em objetos de Usuário sincronizados, use somente o Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="1c30c-293">To configure PreferredLocation attribute on synchronized User objects, you must use Azure AD Connect only.</span></span>

<span data-ttu-id="1c30c-294">Antes de habilitar a sincronização do atributo PreferredDataLocation, você deve:</span><span class="sxs-lookup"><span data-stu-id="1c30c-294">Before enabling synchronization of the PreferredDataLocation attribute, you must:</span></span>

 * <span data-ttu-id="1c30c-295">Primeiro, decidir qual atributo do Active Directory local será usado como atributo de origem.</span><span class="sxs-lookup"><span data-stu-id="1c30c-295">First, decide which on-premises Active Directory attribute to be used as the source attribute.</span></span> <span data-ttu-id="1c30c-296">Ele deve ser do tipo **cadeia de caracteres** e ter **valor único**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-296">It should be of type **string** and is **single-valued**.</span></span>

 * <span data-ttu-id="1c30c-297">Se você já tiver configurado o atributo PreferredDataLocation anteriormente em objetos Usuário sincronizados existentes no Azure AD usando o PowerShell do Azure AD, faça **backport** dos valores de atributo para os objetos Usuário no Active Directory local.</span><span class="sxs-lookup"><span data-stu-id="1c30c-297">If you have previously configured the PreferredDataLocation attribute on existing synchronized User objects in Azure AD using Azure AD PowerShell, you must **backport** the attribute values to the corresponding User objects in on-premises Active Directory.</span></span>
 
    > [!IMPORTANT]
    > <span data-ttu-id="1c30c-298">Caso você não faça o backport dos valores de atributo para os objetos Usuário correspondentes no Active Directory local, o Azure AD Connect removerá os valores de atributo existentes no Azure AD quando a sincronização para o atributo PreferredDataLocation for habilitada.</span><span class="sxs-lookup"><span data-stu-id="1c30c-298">If you do not backport the attribute values to the corresponding User objects in on-premises Active Directory, Azure AD Connect will remove the existing attribute values in Azure AD when synchronization for the PreferredDataLocation attribute is enabled.</span></span>

 * <span data-ttu-id="1c30c-299">É recomendável configurar o atributo de origem em pelo menos dois objetos de Usuário do AD locais agora, que poderão ser usados para verificação posterior.</span><span class="sxs-lookup"><span data-stu-id="1c30c-299">It is recommended you configure the source attribute on at least a couple of on-premises AD User objects now, which can be used for verification later.</span></span>
 
<span data-ttu-id="1c30c-300">As etapas para habilitar a sincronização do atributo PreferredDataLocation podem ser resumidas como:</span><span class="sxs-lookup"><span data-stu-id="1c30c-300">The steps to enable synchronization of the PreferredDataLocation attribute can be summarized as:</span></span>

1. <span data-ttu-id="1c30c-301">Desabilitar o agendador de sincronização e verificar se não há nenhuma sincronização em andamento</span><span class="sxs-lookup"><span data-stu-id="1c30c-301">Disable sync scheduler and verify there is no synchronization in progress</span></span>

2. <span data-ttu-id="1c30c-302">Adicione o atributo de origem ao esquema do AD Connector local</span><span class="sxs-lookup"><span data-stu-id="1c30c-302">Add the source attribute to the on-premises AD Connector schema</span></span>

3. <span data-ttu-id="1c30c-303">Adicionar PreferredDataLocation ao esquema do Azure AD Connector</span><span class="sxs-lookup"><span data-stu-id="1c30c-303">Add PreferredDataLocation to the Azure AD Connector schema</span></span>

4. <span data-ttu-id="1c30c-304">Criar uma regra de sincronização de entrada para fazer o valor de atributo fluir do Active Directory local</span><span class="sxs-lookup"><span data-stu-id="1c30c-304">Create an inbound synchronization rule to flow the attribute value from on-premises Active Directory</span></span>

5. <span data-ttu-id="1c30c-305">Criar uma regra de sincronização de saída para fazer o valor de atributo fluir para o Azure AD</span><span class="sxs-lookup"><span data-stu-id="1c30c-305">Create an outbound synchronization rule to flow the attribute value to Azure AD</span></span>

6. <span data-ttu-id="1c30c-306">Executar o ciclo de Sincronização Completa</span><span class="sxs-lookup"><span data-stu-id="1c30c-306">Run Full Synchronization cycle</span></span>

7. <span data-ttu-id="1c30c-307">Habilitar o agendador de sincronização</span><span class="sxs-lookup"><span data-stu-id="1c30c-307">Enable sync scheduler</span></span>

> [!NOTE]
> <span data-ttu-id="1c30c-308">O restante desta seção aborda essas etapas em detalhes.</span><span class="sxs-lookup"><span data-stu-id="1c30c-308">The rest of this section covers these steps in details.</span></span> <span data-ttu-id="1c30c-309">Elas são descritas no contexto de uma implantação do Azure AD com topologia de floresta única e sem regras de sincronização personalizadas.</span><span class="sxs-lookup"><span data-stu-id="1c30c-309">They are described in the context of an Azure AD deployment with single-forest topology and without custom synchronization rules.</span></span> <span data-ttu-id="1c30c-310">Se você tiver uma topologia de várias florestas, regras de sincronização personalizadas configuradas ou um servidor de preparo, você precisará ajustar as etapas de acordo.</span><span class="sxs-lookup"><span data-stu-id="1c30c-310">If you have multi-forest topology, custom synchronization rules configured or have a staging server, you need to adjust the steps accordingly.</span></span>

### <a name="step-1-disable-sync-scheduler-and-verify-there-is-no-synchronization-in-progress"></a><span data-ttu-id="1c30c-311">Etapa 1: desabilitar o agendador de sincronização e verificar se não há nenhuma sincronização em andamento</span><span class="sxs-lookup"><span data-stu-id="1c30c-311">Step 1: Disable sync scheduler and verify there is no synchronization in progress</span></span>
<span data-ttu-id="1c30c-312">Garanta que não haja nenhuma sincronização enquanto você estiver atualizando as regras de sincronização para evitar a exportação de alterações indesejadas ao Azure AD.</span><span class="sxs-lookup"><span data-stu-id="1c30c-312">Ensure no synchronization takes place while you are in the middle of updating synchronization rules to avoid unintended changes being exported to Azure AD.</span></span> <span data-ttu-id="1c30c-313">Para desabilitar o agendador de sincronização interno:</span><span class="sxs-lookup"><span data-stu-id="1c30c-313">To disable the built-in sync scheduler:</span></span>

 1. <span data-ttu-id="1c30c-314">Inicie uma sessão do PowerShell no servidor do Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="1c30c-314">Start PowerShell session on the Azure AD Connect server.</span></span>

 2. <span data-ttu-id="1c30c-315">Desabilite a sincronização agendada executando o cmdlet: `Set-ADSyncScheduler -SyncCycleEnabled $false`</span><span class="sxs-lookup"><span data-stu-id="1c30c-315">Disable scheduled synchronization by running cmdlet: `Set-ADSyncScheduler -SyncCycleEnabled $false`</span></span>
 
 3. <span data-ttu-id="1c30c-316">Inicie o **Synchronization Service Manager** acessando INICIAR → Serviço de Sincronização.</span><span class="sxs-lookup"><span data-stu-id="1c30c-316">Start the **Synchronization Service Manager** by going to START → Synchronization Service.</span></span>
 
 4. <span data-ttu-id="1c30c-317">Acesse a guia **Operações** e confirme se não há nenhuma operação cujo status é *“Em andamento”.*</span><span class="sxs-lookup"><span data-stu-id="1c30c-317">Go to the **Operations** tab and confirm there is no operation whose status is *“in progress.”*</span></span>

![Synchronization Service Manager – verificar se não há nenhuma operação em andamento](./media/active-directory-aadconnectsync-change-the-configuration/preferredDataLocation-step1.png)

### <a name="step-2-add-the-source-attribute-to-the-on-premises-ad-connector-schema"></a><span data-ttu-id="1c30c-319">Etapa 2: adicionar o atributo de origem ao esquema do AD Connector local</span><span class="sxs-lookup"><span data-stu-id="1c30c-319">Step 2: Add the source attribute to the on-premises AD Connector schema</span></span>
<span data-ttu-id="1c30c-320">Nem todos os atributos do AD são importados para o Espaço do AD Connector local.</span><span class="sxs-lookup"><span data-stu-id="1c30c-320">Not all AD attributes are imported into the on-premises AD Connector Space.</span></span> <span data-ttu-id="1c30c-321">Para adicionar o atributo de origem à lista de atributos importados:</span><span class="sxs-lookup"><span data-stu-id="1c30c-321">To add the source attribute to the list of the imported attributes:</span></span>

 1. <span data-ttu-id="1c30c-322">Acesse a guia **Conectores** no Synchronization Service Manager.</span><span class="sxs-lookup"><span data-stu-id="1c30c-322">Go to the **Connectors** tab in the Synchronization Service Manager.</span></span>
 
 2. <span data-ttu-id="1c30c-323">Clique com o botão direito do mouse no **AD Connector local** e selecione **Propriedades**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-323">Right-click on the **on-premises AD Connector** and select **Properties**.</span></span>
 
 3. <span data-ttu-id="1c30c-324">Na caixa de diálogo pop-up, vá para a guia **Selecionar atributos**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-324">In the pop-up dialog, go to the **Select Attributes** tab.</span></span>
 
 4. <span data-ttu-id="1c30c-325">Verifique se o atributo de origem está selecionado na lista de atributos.</span><span class="sxs-lookup"><span data-stu-id="1c30c-325">Make sure the source attribute is checked in the attribute list.</span></span>
 
 5. <span data-ttu-id="1c30c-326">Clique em **OK** para salvar.</span><span class="sxs-lookup"><span data-stu-id="1c30c-326">Click **OK** to save.</span></span>

![Adicionar atributo de origem ao esquema do AD Connector local](./media/active-directory-aadconnectsync-change-the-configuration/preferredDataLocation-step2.png)

### <a name="step-3-add-preferreddatalocation-to-the-azure-ad-connector-schema"></a><span data-ttu-id="1c30c-328">Etapa 3: adicionar PreferredDataLocation ao esquema do Azure AD Connector</span><span class="sxs-lookup"><span data-stu-id="1c30c-328">Step 3: Add PreferredDataLocation to the Azure AD Connector schema</span></span>
<span data-ttu-id="1c30c-329">Por padrão, o atributo PreferredDataLocation não será importado para o Azure AD Connect Space.</span><span class="sxs-lookup"><span data-stu-id="1c30c-329">By default, the PreferredDataLocation attribute is not imported into the Azure AD Connect Space.</span></span> <span data-ttu-id="1c30c-330">Para adicionar o atributo PreferredDataLocation à lista de atributos importados:</span><span class="sxs-lookup"><span data-stu-id="1c30c-330">To add the PreferredDataLocation attribute to the list of imported attributes:</span></span>

 1. <span data-ttu-id="1c30c-331">Acesse a guia **Conectores** no Synchronization Service Manager.</span><span class="sxs-lookup"><span data-stu-id="1c30c-331">Go to the **Connectors** tab in the Synchronization Service Manager.</span></span>

 2. <span data-ttu-id="1c30c-332">Clique com o botão direito do mouse em **Azure AD Connector** e selecione **Propriedades**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-332">Right-click on the **Azure AD Connector** and select **Properties**.</span></span>

 3. <span data-ttu-id="1c30c-333">Na caixa de diálogo pop-up, vá para a guia **Selecionar atributos**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-333">In the pop-up dialog, go to the **Select Attributes** tab.</span></span>

 4. <span data-ttu-id="1c30c-334">Verifique se o atributo PreferredDataLocation está selecionado na lista de atributos.</span><span class="sxs-lookup"><span data-stu-id="1c30c-334">Make sure the PreferredDataLocation attribute is checked in the attribute list.</span></span>

 5. <span data-ttu-id="1c30c-335">Clique em **OK** para salvar.</span><span class="sxs-lookup"><span data-stu-id="1c30c-335">Click **OK** to save.</span></span>

![Adicionar atributo de origem ao esquema do Azure AD Connector](./media/active-directory-aadconnectsync-change-the-configuration/preferredDataLocation-step3.png)

### <a name="step-4-create-an-inbound-synchronization-rule-to-flow-the-attribute-value-from-on-premises-active-directory"></a><span data-ttu-id="1c30c-337">Etapa 4: criar uma regra de sincronização de entrada para fazer o valor de atributo fluir do Active Directory local</span><span class="sxs-lookup"><span data-stu-id="1c30c-337">Step 4: Create an inbound synchronization rule to flow the attribute value from on-premises Active Directory</span></span>
<span data-ttu-id="1c30c-338">A regra de sincronização de entrada permite que o valor do atributo flua do atributo de origem do Active Directory local para o Metaverso:</span><span class="sxs-lookup"><span data-stu-id="1c30c-338">The inbound synchronization rule permits the attribute value to flow from the source attribute from on-premises Active Directory to the Metaverse:</span></span>

1. <span data-ttu-id="1c30c-339">Inicie o **Editor de Regras de Sincronização** acessando INICIAR → Editor de Regras de Sincronização.</span><span class="sxs-lookup"><span data-stu-id="1c30c-339">Start the **Synchronization Rules Editor** by going to START → Synchronization Rules Editor.</span></span>

2. <span data-ttu-id="1c30c-340">Defina o filtro de pesquisa **Direção** como **Entrada**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-340">Set the search filter **Direction** to be **Inbound**.</span></span>

3. <span data-ttu-id="1c30c-341">Clique no botão **Adicionar nova regra** para criar uma nova regra de entrada.</span><span class="sxs-lookup"><span data-stu-id="1c30c-341">Click **Add new rule** button to create a new inbound rule.</span></span>

4. <span data-ttu-id="1c30c-342">Na guia **Descrição**, forneça a seguinte configuração:</span><span class="sxs-lookup"><span data-stu-id="1c30c-342">Under the **Description** tab, provide the following configuration:</span></span>
 
    | <span data-ttu-id="1c30c-343">Atributo</span><span class="sxs-lookup"><span data-stu-id="1c30c-343">Attribute</span></span> | <span data-ttu-id="1c30c-344">Valor</span><span class="sxs-lookup"><span data-stu-id="1c30c-344">Value</span></span> | <span data-ttu-id="1c30c-345">Detalhes</span><span class="sxs-lookup"><span data-stu-id="1c30c-345">Details</span></span> |
    | --- | --- | --- |
    | <span data-ttu-id="1c30c-346">Nome</span><span class="sxs-lookup"><span data-stu-id="1c30c-346">Name</span></span> | <span data-ttu-id="1c30c-347">*Fornecer um nome*</span><span class="sxs-lookup"><span data-stu-id="1c30c-347">*Provide a name*</span></span> | <span data-ttu-id="1c30c-348">Por exemplo, *"Entrada do AD – PreferredDataLocation do usuário"*</span><span class="sxs-lookup"><span data-stu-id="1c30c-348">For example, *“In from AD – User PreferredDataLocation”*</span></span> |
    | <span data-ttu-id="1c30c-349">Descrição</span><span class="sxs-lookup"><span data-stu-id="1c30c-349">Description</span></span> | <span data-ttu-id="1c30c-350">*Fornecer uma descrição*</span><span class="sxs-lookup"><span data-stu-id="1c30c-350">*Provide a description*</span></span> |  |
    | <span data-ttu-id="1c30c-351">Sistema Conectado</span><span class="sxs-lookup"><span data-stu-id="1c30c-351">Connected System</span></span> | <span data-ttu-id="1c30c-352">*Selecionar o AD connector local*</span><span class="sxs-lookup"><span data-stu-id="1c30c-352">*Pick the on-premises AD connector*</span></span> |  |
    | <span data-ttu-id="1c30c-353">Tipo de Objeto do Sistema Conectado</span><span class="sxs-lookup"><span data-stu-id="1c30c-353">Connected System Object Type</span></span> | <span data-ttu-id="1c30c-354">**Usuário**</span><span class="sxs-lookup"><span data-stu-id="1c30c-354">**User**</span></span> |  |
    | <span data-ttu-id="1c30c-355">Tipo de Objeto de Metaverso</span><span class="sxs-lookup"><span data-stu-id="1c30c-355">Metaverse Object Type</span></span> | <span data-ttu-id="1c30c-356">**Pessoa**</span><span class="sxs-lookup"><span data-stu-id="1c30c-356">**Person**</span></span> |  |
    | <span data-ttu-id="1c30c-357">Tipo de link</span><span class="sxs-lookup"><span data-stu-id="1c30c-357">Link Type</span></span> | <span data-ttu-id="1c30c-358">**Join**</span><span class="sxs-lookup"><span data-stu-id="1c30c-358">**Join**</span></span> |  |
    | <span data-ttu-id="1c30c-359">Precedência</span><span class="sxs-lookup"><span data-stu-id="1c30c-359">Precedence</span></span> | <span data-ttu-id="1c30c-360">*Escolha um número entre 1 e 99*</span><span class="sxs-lookup"><span data-stu-id="1c30c-360">*Choose a number between 1 – 99*</span></span> | <span data-ttu-id="1c30c-361">1 a 99 são reservados para regras de sincronização personalizadas.</span><span class="sxs-lookup"><span data-stu-id="1c30c-361">1 – 99 is reserved for custom sync rules.</span></span> <span data-ttu-id="1c30c-362">Não selecione um valor que seja usado por outra regra de sincronização.</span><span class="sxs-lookup"><span data-stu-id="1c30c-362">Do not pick a value that is used by another synchronization rule.</span></span> |

5. <span data-ttu-id="1c30c-363">Acesse a guia **Filtro de escopo** e adicione um **único grupo de filtro de escopo com a seguinte cláusula**:</span><span class="sxs-lookup"><span data-stu-id="1c30c-363">Go to the **Scoping filter** tab and add a **single scoping filter group with the following clause**:</span></span>
 
    | <span data-ttu-id="1c30c-364">Atributo</span><span class="sxs-lookup"><span data-stu-id="1c30c-364">Attribute</span></span> | <span data-ttu-id="1c30c-365">Operador</span><span class="sxs-lookup"><span data-stu-id="1c30c-365">Operator</span></span> | <span data-ttu-id="1c30c-366">Valor</span><span class="sxs-lookup"><span data-stu-id="1c30c-366">Value</span></span> |
    | --- | --- | --- |
    | <span data-ttu-id="1c30c-367">adminDescription</span><span class="sxs-lookup"><span data-stu-id="1c30c-367">adminDescription</span></span> | <span data-ttu-id="1c30c-368">NOTSTARTWITH</span><span class="sxs-lookup"><span data-stu-id="1c30c-368">NOTSTARTWITH</span></span> | <span data-ttu-id="1c30c-369">Usuário\_</span><span class="sxs-lookup"><span data-stu-id="1c30c-369">User\_</span></span> | 
 
    <span data-ttu-id="1c30c-370">O filtro de escopo determina a quais objetos AD locais essa regra de sincronização de entrada é aplicada.</span><span class="sxs-lookup"><span data-stu-id="1c30c-370">Scoping filter determines which on-premises AD objects this inbound synchronization rule is applied to.</span></span> <span data-ttu-id="1c30c-371">Neste exemplo, usamos o mesmo filtro de escopo usado como regra de sincronização OOB *"Entrada do AD – Usuário Comum"*, que impede a aplicação da regra de sincronização a objetos Usuário criados por meio do recurso de write-back de Usuário do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="1c30c-371">In this example, we use the same scoping filter used as *“In from AD – User Common”* OOB synchronization rule, which prevents the synchronization rule from being applied to User objects created through Azure AD User writeback feature.</span></span> <span data-ttu-id="1c30c-372">Talvez seja necessário ajustar o filtro de escopo de acordo com sua implantação do Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="1c30c-372">You may need to tweak the scoping filter according to your Azure AD Connect deployment.</span></span>

6. <span data-ttu-id="1c30c-373">Acesse a **guia Transformação** e implemente a seguinte regra de transformação:</span><span class="sxs-lookup"><span data-stu-id="1c30c-373">Go to the **Transformation tab** and implement the following transformation rule:</span></span>
 
    | <span data-ttu-id="1c30c-374">Tipo de Fluxo</span><span class="sxs-lookup"><span data-stu-id="1c30c-374">Flow Type</span></span> | <span data-ttu-id="1c30c-375">Atributo de Destino</span><span class="sxs-lookup"><span data-stu-id="1c30c-375">Target Attribute</span></span> | <span data-ttu-id="1c30c-376">Fonte</span><span class="sxs-lookup"><span data-stu-id="1c30c-376">Source</span></span> | <span data-ttu-id="1c30c-377">Aplicar Uma Vez</span><span class="sxs-lookup"><span data-stu-id="1c30c-377">Apply Once</span></span> | <span data-ttu-id="1c30c-378">Tipo de mesclagem</span><span class="sxs-lookup"><span data-stu-id="1c30c-378">Merge Type</span></span> |
    | --- | --- | --- | --- | --- |
    | <span data-ttu-id="1c30c-379">Direta</span><span class="sxs-lookup"><span data-stu-id="1c30c-379">Direct</span></span> | <span data-ttu-id="1c30c-380">PreferredDataLocation</span><span class="sxs-lookup"><span data-stu-id="1c30c-380">PreferredDataLocation</span></span> | <span data-ttu-id="1c30c-381">Selecione o atributo de origem</span><span class="sxs-lookup"><span data-stu-id="1c30c-381">Pick the source attribute</span></span> | <span data-ttu-id="1c30c-382">Desmarcado</span><span class="sxs-lookup"><span data-stu-id="1c30c-382">Unchecked</span></span> | <span data-ttu-id="1c30c-383">Atualização</span><span class="sxs-lookup"><span data-stu-id="1c30c-383">Update</span></span> |

7. <span data-ttu-id="1c30c-384">Clique em **Adicionar** para criar a regra de entrada.</span><span class="sxs-lookup"><span data-stu-id="1c30c-384">Click **Add** to create the inbound rule.</span></span>

![Criar regra de sincronização de entrada](./media/active-directory-aadconnectsync-change-the-configuration/preferredDataLocation-step4.png)

### <a name="step-5-create-an-outbound-synchronization-rule-to-flow-the-attribute-value-to-azure-ad"></a><span data-ttu-id="1c30c-386">Etapa 5: criar uma regra de sincronização de saída para fazer o valor de atributo fluir para o Azure AD</span><span class="sxs-lookup"><span data-stu-id="1c30c-386">Step 5: Create an outbound synchronization rule to flow the attribute value to Azure AD</span></span>
<span data-ttu-id="1c30c-387">A regra de sincronização de saída permite que o valor do atributo flua do Metaverso para o atributo PreferredDataLocation no Azure AD:</span><span class="sxs-lookup"><span data-stu-id="1c30c-387">The outbound synchronization rule permits the attribute value to flow from the Metaverse to the PreferredDataLocation attribute in Azure AD:</span></span>

1. <span data-ttu-id="1c30c-388">Acesse o Editor de **Regras de Sincronização**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-388">Go to the **Synchronization Rules** Editor.</span></span>

2. <span data-ttu-id="1c30c-389">Defina o filtro de pesquisa **Direção** como **Saída**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-389">Set the search filter **Direction** to be **Outbound**.</span></span>

3. <span data-ttu-id="1c30c-390">Clique no botão **Adicionar nova regra**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-390">Click **Add new rule** button.</span></span>

4. <span data-ttu-id="1c30c-391">Na guia **Descrição**, forneça a seguinte configuração:</span><span class="sxs-lookup"><span data-stu-id="1c30c-391">Under the **Description** tab, provide the following configuration:</span></span>

    | <span data-ttu-id="1c30c-392">Atributo</span><span class="sxs-lookup"><span data-stu-id="1c30c-392">Attribute</span></span> | <span data-ttu-id="1c30c-393">Valor</span><span class="sxs-lookup"><span data-stu-id="1c30c-393">Value</span></span> | <span data-ttu-id="1c30c-394">Detalhes</span><span class="sxs-lookup"><span data-stu-id="1c30c-394">Details</span></span> |
    | --- | --- | --- |
    | <span data-ttu-id="1c30c-395">Nome</span><span class="sxs-lookup"><span data-stu-id="1c30c-395">Name</span></span> | <span data-ttu-id="1c30c-396">*Fornecer um nome*</span><span class="sxs-lookup"><span data-stu-id="1c30c-396">*Provide a name*</span></span> | <span data-ttu-id="1c30c-397">Por exemplo, "Saída para AAD – PreferredDataLocation do usuário"</span><span class="sxs-lookup"><span data-stu-id="1c30c-397">For example, “Out to AAD – User PreferredDataLocation”</span></span> |
    | <span data-ttu-id="1c30c-398">Descrição</span><span class="sxs-lookup"><span data-stu-id="1c30c-398">Description</span></span> | <span data-ttu-id="1c30c-399">*Fornecer uma descrição*</span><span class="sxs-lookup"><span data-stu-id="1c30c-399">*Provide a description*</span></span> |
    | <span data-ttu-id="1c30c-400">Sistema Conectado</span><span class="sxs-lookup"><span data-stu-id="1c30c-400">Connected System</span></span> | <span data-ttu-id="1c30c-401">*Selecione o AAD connector*</span><span class="sxs-lookup"><span data-stu-id="1c30c-401">*Select the AAD connector*</span></span> |
    | <span data-ttu-id="1c30c-402">Tipo de Objeto do Sistema Conectado</span><span class="sxs-lookup"><span data-stu-id="1c30c-402">Connected System Object Type</span></span> | <span data-ttu-id="1c30c-403">Usuário</span><span class="sxs-lookup"><span data-stu-id="1c30c-403">User</span></span> ||
    | <span data-ttu-id="1c30c-404">Tipo de Objeto de Metaverso</span><span class="sxs-lookup"><span data-stu-id="1c30c-404">Metaverse Object Type</span></span> | <span data-ttu-id="1c30c-405">**Pessoa**</span><span class="sxs-lookup"><span data-stu-id="1c30c-405">**Person**</span></span> ||
    | <span data-ttu-id="1c30c-406">Tipo de link</span><span class="sxs-lookup"><span data-stu-id="1c30c-406">Link Type</span></span> | <span data-ttu-id="1c30c-407">**Join**</span><span class="sxs-lookup"><span data-stu-id="1c30c-407">**Join**</span></span> ||
    | <span data-ttu-id="1c30c-408">Precedência</span><span class="sxs-lookup"><span data-stu-id="1c30c-408">Precedence</span></span> | <span data-ttu-id="1c30c-409">*Escolha um número entre 1 e 99*</span><span class="sxs-lookup"><span data-stu-id="1c30c-409">*Choose a number between 1 – 99*</span></span> | <span data-ttu-id="1c30c-410">1 a 99 são reservados para regras de sincronização personalizadas.</span><span class="sxs-lookup"><span data-stu-id="1c30c-410">1 – 99 is reserved for custom sync rules.</span></span> <span data-ttu-id="1c30c-411">Não selecione um valor que seja usado por outra regra de sincronização.</span><span class="sxs-lookup"><span data-stu-id="1c30c-411">YDo not pick a value that is used by another synchronization rule.</span></span> |

5. <span data-ttu-id="1c30c-412">Acesse a guia **Filtro de escopo** e adicione um **único grupo de filtro de escopo com as duas cláusulas a seguir**:</span><span class="sxs-lookup"><span data-stu-id="1c30c-412">Go to the **Scoping filter** tab and add a **single scoping filter group with two clauses**:</span></span>
 
    | <span data-ttu-id="1c30c-413">Atributo</span><span class="sxs-lookup"><span data-stu-id="1c30c-413">Attribute</span></span> | <span data-ttu-id="1c30c-414">Operador</span><span class="sxs-lookup"><span data-stu-id="1c30c-414">Operator</span></span> | <span data-ttu-id="1c30c-415">Valor</span><span class="sxs-lookup"><span data-stu-id="1c30c-415">Value</span></span> |
    | --- | --- | --- |
    | <span data-ttu-id="1c30c-416">sourceObjectType</span><span class="sxs-lookup"><span data-stu-id="1c30c-416">sourceObjectType</span></span> | <span data-ttu-id="1c30c-417">EQUAL</span><span class="sxs-lookup"><span data-stu-id="1c30c-417">EQUAL</span></span> | <span data-ttu-id="1c30c-418">Usuário</span><span class="sxs-lookup"><span data-stu-id="1c30c-418">User</span></span> |
    | <span data-ttu-id="1c30c-419">cloudMastered</span><span class="sxs-lookup"><span data-stu-id="1c30c-419">cloudMastered</span></span> | <span data-ttu-id="1c30c-420">NOTEQUAL</span><span class="sxs-lookup"><span data-stu-id="1c30c-420">NOTEQUAL</span></span> | <span data-ttu-id="1c30c-421">True </span><span class="sxs-lookup"><span data-stu-id="1c30c-421">True</span></span> |

    <span data-ttu-id="1c30c-422">Filtro de escopo determina a quais objetos do Azure AD essa regra de sincronização de saída é aplicada.</span><span class="sxs-lookup"><span data-stu-id="1c30c-422">Scoping filter determines which Azure AD objects this outbound synchronization rule is applied to.</span></span> <span data-ttu-id="1c30c-423">Neste exemplo, usamos o mesmo filtro de escopo da regra de sincronização OOB de "Saída para AD – identidade do usuário".</span><span class="sxs-lookup"><span data-stu-id="1c30c-423">In this example, we use the same scoping filter from “Out to AD – User Identity” OOB synchronization rule.</span></span> <span data-ttu-id="1c30c-424">Impede que a regra de sincronização seja aplicada aos objetos de Usuário que não estão sincronizados do Active Directory local.</span><span class="sxs-lookup"><span data-stu-id="1c30c-424">It prevents the synchronization rule from being applied to User objects which are not synchronized from on-premises Active Directory.</span></span> <span data-ttu-id="1c30c-425">Talvez seja necessário ajustar o filtro de escopo de acordo com sua implantação do Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="1c30c-425">You may need to tweak the scoping filter according to your Azure AD Connect deployment.</span></span>
    
6. <span data-ttu-id="1c30c-426">Acesse a guia **Transformação** e implemente a seguinte regra de transformação:</span><span class="sxs-lookup"><span data-stu-id="1c30c-426">Go to the **Transformation** tab and implement the following transformation rule:</span></span>

    | <span data-ttu-id="1c30c-427">Tipo de Fluxo</span><span class="sxs-lookup"><span data-stu-id="1c30c-427">Flow Type</span></span> | <span data-ttu-id="1c30c-428">Atributo de Destino</span><span class="sxs-lookup"><span data-stu-id="1c30c-428">Target Attribute</span></span> | <span data-ttu-id="1c30c-429">Fonte</span><span class="sxs-lookup"><span data-stu-id="1c30c-429">Source</span></span> | <span data-ttu-id="1c30c-430">Aplicar Uma Vez</span><span class="sxs-lookup"><span data-stu-id="1c30c-430">Apply Once</span></span> | <span data-ttu-id="1c30c-431">Tipo de mesclagem</span><span class="sxs-lookup"><span data-stu-id="1c30c-431">Merge Type</span></span> |
    | --- | --- | --- | --- | --- |
    | <span data-ttu-id="1c30c-432">Direta</span><span class="sxs-lookup"><span data-stu-id="1c30c-432">Direct</span></span> | <span data-ttu-id="1c30c-433">PreferredDataLocation</span><span class="sxs-lookup"><span data-stu-id="1c30c-433">PreferredDataLocation</span></span> | <span data-ttu-id="1c30c-434">PreferredDataLocation</span><span class="sxs-lookup"><span data-stu-id="1c30c-434">PreferredDataLocation</span></span> | <span data-ttu-id="1c30c-435">Desmarcado</span><span class="sxs-lookup"><span data-stu-id="1c30c-435">Unchecked</span></span> | <span data-ttu-id="1c30c-436">Atualização</span><span class="sxs-lookup"><span data-stu-id="1c30c-436">Update</span></span> |

7. <span data-ttu-id="1c30c-437">Feche **Adicionar** para criar a regra de saída.</span><span class="sxs-lookup"><span data-stu-id="1c30c-437">Close **Add** to create the outbound rule.</span></span>

![Criar regra de sincronização de saída](./media/active-directory-aadconnectsync-change-the-configuration/preferredDataLocation-step5.png)

### <a name="step-6-run-full-synchronization-cycle"></a><span data-ttu-id="1c30c-439">Etapa 6: executar o ciclo de Sincronização Completa</span><span class="sxs-lookup"><span data-stu-id="1c30c-439">Step 6: Run Full Synchronization cycle</span></span>
<span data-ttu-id="1c30c-440">Em geral, um ciclo completo de sincronização completo é necessário, já que adicionamos novos atributos ao esquema do AD e do Azure AD Connector e introduzimos regras de sincronização personalizadas.</span><span class="sxs-lookup"><span data-stu-id="1c30c-440">In general, full synchronization cycle is required since we have added new attributes to both the AD and Azure AD Connector schema, and introduced custom synchronization rules.</span></span> <span data-ttu-id="1c30c-441">É recomendável verificar as alterações antes de exportá-los para o Azure AD.</span><span class="sxs-lookup"><span data-stu-id="1c30c-441">It is recommended that you verify the changes before exporting them to Azure AD.</span></span> <span data-ttu-id="1c30c-442">Você pode usar as etapas a seguir para verificar as alterações enquanto executa manualmente as etapas que formam um ciclo completo de sincronização.</span><span class="sxs-lookup"><span data-stu-id="1c30c-442">You can use the following steps to verify the changes while manually running the steps that make up a full synchronization cycle.</span></span> 

1. <span data-ttu-id="1c30c-443">Execute a etapa **Importação completa** no **AD Connector local**:</span><span class="sxs-lookup"><span data-stu-id="1c30c-443">Run **Full import** step on the **on-premises AD Connector**:</span></span>

   1. <span data-ttu-id="1c30c-444">Acesse a guia **Operações** no Synchronization Service Manager.</span><span class="sxs-lookup"><span data-stu-id="1c30c-444">Go to the **Operations** tab in the Synchronization Service Manager.</span></span>

   2. <span data-ttu-id="1c30c-445">Clique com o botão direito do mouse no **AD Connector local** e selecione **Executar...**</span><span class="sxs-lookup"><span data-stu-id="1c30c-445">Right-click on the **on-premises AD Connector** and select **Run...**</span></span>

   3. <span data-ttu-id="1c30c-446">Na caixa de diálogo pop-up, selecione **Importação Completa** e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-446">In the pop-up dialog, select **Full Import** and click **OK**.</span></span>
    
   4. <span data-ttu-id="1c30c-447">Aguarde a conclusão da operação.</span><span class="sxs-lookup"><span data-stu-id="1c30c-447">Wait for operation to complete.</span></span>

    > [!NOTE]
    > <span data-ttu-id="1c30c-448">Você poderá ignorar a Importação Completa no AD Connector local se o atributo de origem já estiver incluído na lista de atributos importados.</span><span class="sxs-lookup"><span data-stu-id="1c30c-448">You can skip Full Import on the on-premises AD Connector if the source attribute is already included in the list of imported attributes.</span></span> <span data-ttu-id="1c30c-449">Em outras palavras, você não precisou fazer nenhuma alteração durante [Etapa 2: adicionar os atributos de origem ao esquema do AD Connector local](#step-2-add-the-source-attribute-to-the-on-premises-ad-connector-schema).</span><span class="sxs-lookup"><span data-stu-id="1c30c-449">In other words, you did not have to make any change during [Step 2: Add the source attribute to the on-premises AD Connector schema](#step-2-add-the-source-attribute-to-the-on-premises-ad-connector-schema).</span></span>

2. <span data-ttu-id="1c30c-450">Execute a etapa de **Importação completa** no **Azure AD Connector**:</span><span class="sxs-lookup"><span data-stu-id="1c30c-450">Run **Full import** step on the **Azure AD Connector**:</span></span>

   1. <span data-ttu-id="1c30c-451">Clique com o botão direito do mouse em **Azure AD Connector** e selecione **Executar...**</span><span class="sxs-lookup"><span data-stu-id="1c30c-451">Right-click on the **Azure AD Connector** and select **Run...**</span></span>

   2. <span data-ttu-id="1c30c-452">Na caixa de diálogo pop-up, selecione **Importação Completa** e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-452">In the pop-up dialog, select **Full Import** and click **OK**.</span></span>
   
   3. <span data-ttu-id="1c30c-453">Aguarde a conclusão da operação.</span><span class="sxs-lookup"><span data-stu-id="1c30c-453">Wait for operation to complete.</span></span>

3. <span data-ttu-id="1c30c-454">Verifique se a regra de sincronização muda em um objeto de Usuário existente:</span><span class="sxs-lookup"><span data-stu-id="1c30c-454">Verify the synchronization rule changes on an existing User object:</span></span>

<span data-ttu-id="1c30c-455">O atributo de origem do Active Directory local e de PreferredDataLocation do Azure AD foi importado para o respectivo Espaço Conector.</span><span class="sxs-lookup"><span data-stu-id="1c30c-455">The source attribute from on-premises Active Directory and PreferredDataLocation from Azure AD have been imported into the respective Connecter Space.</span></span> <span data-ttu-id="1c30c-456">Antes de continuar com a etapa de Sincronização Completa, é recomendável fazer uma **Visualização** em um objeto Usuário existente no Espaço do AD Connector local.</span><span class="sxs-lookup"><span data-stu-id="1c30c-456">Before proceeding with Full Synchronization step, it is recommended that you do a **Preview** on an existing User object in the on-premises AD Connector Space.</span></span> <span data-ttu-id="1c30c-457">O objeto escolhido deve ter o atributo de origem preenchido.</span><span class="sxs-lookup"><span data-stu-id="1c30c-457">The object you picked should have the source attribute populated.</span></span> <span data-ttu-id="1c30c-458">Uma **Visualização** bem-sucedida com o PreferredDataLocation preenchido no Metaverso é um bom indicador que você configurou as regras de sincronização corretamente.</span><span class="sxs-lookup"><span data-stu-id="1c30c-458">A successful **Preview** with the PreferredDataLocation populated in the Metaverse is a good indicator that you have configured the synchronization rules correctly.</span></span> <span data-ttu-id="1c30c-459">Para obter informações sobre como fazer uma **Visualização**, consulte a seção [Verificar a alteração](#verify-the-change).</span><span class="sxs-lookup"><span data-stu-id="1c30c-459">For information about how to do a **Preview**, refer to section [Verify the change](#verify-the-change).</span></span>

4. <span data-ttu-id="1c30c-460">Execute a etapa **Sincronização completa** no **AD Connector local**:</span><span class="sxs-lookup"><span data-stu-id="1c30c-460">Run **Full Synchronization** step on the **on-premises AD Connector**:</span></span>

   1. <span data-ttu-id="1c30c-461">Clique com o botão direito do mouse no **AD Connector local** e selecione **Executar...**</span><span class="sxs-lookup"><span data-stu-id="1c30c-461">Right-click on the **on-premises AD Connector** and select **Run...**</span></span>
  
   2. <span data-ttu-id="1c30c-462">Na caixa de diálogo pop-up, selecione **Sincronização Completa** e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-462">In the pop-up dialog, select **Full Synchronization** and click **OK**.</span></span>
   
   3. <span data-ttu-id="1c30c-463">Aguarde a conclusão da operação.</span><span class="sxs-lookup"><span data-stu-id="1c30c-463">Wait for operation to complete.</span></span>

5. <span data-ttu-id="1c30c-464">Verifique **Exportações Pendentes** para o Azure AD:</span><span class="sxs-lookup"><span data-stu-id="1c30c-464">Verify **Pending Exports** to Azure AD:</span></span>

   1. <span data-ttu-id="1c30c-465">Clique com o botão direito do mouse no **Azure AD Connector** e selecione **Pesquisar Espaço Conector**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-465">Right-click on the **Azure AD Connector** and select **Search Connector Space**.</span></span>

   2. <span data-ttu-id="1c30c-466">Na caixa de diálogo pop-up Pesquisar Espaço Conector:</span><span class="sxs-lookup"><span data-stu-id="1c30c-466">In the Search Connector Space pop-up dialog:</span></span>

      1. <span data-ttu-id="1c30c-467">Defina o **Escopo** como **Exportação Pendente**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-467">Set **Scope** to **Pending Export**.</span></span>
      
      2. <span data-ttu-id="1c30c-468">Marque todas as três caixas de seleção, incluindo **Adicionar, Modificar e Excluir**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-468">Check all three checkboxes, including **Add, Modify, and Delete**.</span></span>
      
      3. <span data-ttu-id="1c30c-469">Clique no botão **Pesquisar** para obter a lista de objetos com alterações a serem exportados.</span><span class="sxs-lookup"><span data-stu-id="1c30c-469">Click the **Search** button to get the list of objects with changes to be exported.</span></span> <span data-ttu-id="1c30c-470">Para examinar as alterações para um determinado objeto, clique duas vezes nele.</span><span class="sxs-lookup"><span data-stu-id="1c30c-470">To examine the changes for a given object, double-click the object.</span></span>
      
      4. <span data-ttu-id="1c30c-471">Verifique se as alterações são esperadas.</span><span class="sxs-lookup"><span data-stu-id="1c30c-471">Verify the changes are expected.</span></span>

6. <span data-ttu-id="1c30c-472">Executar a etapa **Exportar** no **Azure AD Connector**</span><span class="sxs-lookup"><span data-stu-id="1c30c-472">Run **Export** step on the **Azure AD Connector**</span></span>
      
   1. <span data-ttu-id="1c30c-473">Clique com o botão direito do mouse em **Azure AD Connector** e selecione **Executar...**</span><span class="sxs-lookup"><span data-stu-id="1c30c-473">Right-click the **Azure AD Connector** and select **Run...**</span></span>
   
   2. <span data-ttu-id="1c30c-474">Na caixa de diálogo pop-up Executar Conector, selecione a etapa **Exportar** e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="1c30c-474">In the Run Connector pop-up dialog, select **Export** and click **OK**.</span></span>
   
   3. <span data-ttu-id="1c30c-475">Aguarde a Exportação para o Azure AD ser concluída.</span><span class="sxs-lookup"><span data-stu-id="1c30c-475">Wait for Export to Azure AD to complete.</span></span>

> [!NOTE]
> <span data-ttu-id="1c30c-476">Você pode observar que as etapas não incluem a etapa de Sincronização Completa e a etapa Exportação no Azure AD Connector.</span><span class="sxs-lookup"><span data-stu-id="1c30c-476">You may notice that the steps do not include the Full Synchronization step and Export step on the Azure AD Connector.</span></span> <span data-ttu-id="1c30c-477">As etapas não são obrigatórias, já que os valores de atributo estão fluindo do Active Directory local para o Azure AD apenas.</span><span class="sxs-lookup"><span data-stu-id="1c30c-477">The steps are not required since the attribute values are flowing from on-premises Active Directory to Azure AD only.</span></span>

### <a name="step-7-re-enable-sync-scheduler"></a><span data-ttu-id="1c30c-478">Etapa 7: reabilitar o agendador de sincronização</span><span class="sxs-lookup"><span data-stu-id="1c30c-478">Step 7: Re-enable sync scheduler</span></span>
<span data-ttu-id="1c30c-479">Reabilite o agendador de sincronização interno:</span><span class="sxs-lookup"><span data-stu-id="1c30c-479">Re-enable the built-in sync scheduler:</span></span>

1. <span data-ttu-id="1c30c-480">Inicie uma sessão do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="1c30c-480">Start PowerShell session.</span></span>

2. <span data-ttu-id="1c30c-481">Habilite a sincronização agendada novamente executando o cmdlet: `Set-ADSyncScheduler -SyncCycleEnabled $true`</span><span class="sxs-lookup"><span data-stu-id="1c30c-481">Re-enable scheduled synchronization by running cmdlet: `Set-ADSyncScheduler -SyncCycleEnabled $true`</span></span>



## <a name="next-steps"></a><span data-ttu-id="1c30c-482">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="1c30c-482">Next steps</span></span>
* <span data-ttu-id="1c30c-483">Leia mais sobre o modelo de configuração em [Noções básicas do provisionamento declarativo](active-directory-aadconnectsync-understanding-declarative-provisioning.md).</span><span class="sxs-lookup"><span data-stu-id="1c30c-483">Read more about the configuration model in [Understanding Declarative Provisioning](active-directory-aadconnectsync-understanding-declarative-provisioning.md).</span></span>
* <span data-ttu-id="1c30c-484">Leia mais sobre a linguagem de expressão em [Noções básicas sobre expressões de provisionamento declarativo](active-directory-aadconnectsync-understanding-declarative-provisioning-expressions.md).</span><span class="sxs-lookup"><span data-stu-id="1c30c-484">Read more about the expression language in [Understanding Declarative Provisioning Expressions](active-directory-aadconnectsync-understanding-declarative-provisioning-expressions.md).</span></span>

<span data-ttu-id="1c30c-485">**Tópicos de visão geral**</span><span class="sxs-lookup"><span data-stu-id="1c30c-485">**Overview topics**</span></span>

* [<span data-ttu-id="1c30c-486">Sincronização do Azure AD Connect: compreender e personalizar a sincronização</span><span class="sxs-lookup"><span data-stu-id="1c30c-486">Azure AD Connect sync: Understand and customize synchronization</span></span>](active-directory-aadconnectsync-whatis.md)
* [<span data-ttu-id="1c30c-487">Integração de suas identidades locais com o Active Directory do Azure</span><span class="sxs-lookup"><span data-stu-id="1c30c-487">Integrating your on-premises identities with Azure Active Directory</span></span>](active-directory-aadconnect.md)
