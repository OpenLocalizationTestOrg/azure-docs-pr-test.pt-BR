---
title: "Sincronização do Azure AD Connect: agendador | Microsoft Docs"
description: "Este tópico descreve o recurso Agendador interno na sincronização do Azure AD Connect."
services: active-directory
documentationcenter: 
author: AndKjell
manager: femila
editor: 
ms.assetid: 6b1a598f-89c0-4244-9b20-f4aaad5233cf
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 07/12/2017
ms.author: billmath
ms.openlocfilehash: 63f69756b3933fecdec75cc677e1098447e5b94e
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/03/2017
---
# <a name="azure-ad-connect-sync-scheduler"></a><span data-ttu-id="1694f-103">Sincronização do Azure AD Connect: agendador</span><span class="sxs-lookup"><span data-stu-id="1694f-103">Azure AD Connect sync: Scheduler</span></span>
<span data-ttu-id="1694f-104">Este tópico descreve o agendador interno na sincronização do Azure AD Connect (também conhecido como</span><span class="sxs-lookup"><span data-stu-id="1694f-104">This topic describes the built-in scheduler in Azure AD Connect sync (a.k.a.</span></span> <span data-ttu-id="1694f-105">mecanismo de sincronização).</span><span class="sxs-lookup"><span data-stu-id="1694f-105">sync engine).</span></span>

<span data-ttu-id="1694f-106">Esse recurso foi introduzido com a compilação 1.1.105.0 (lançada em fevereiro de 2016).</span><span class="sxs-lookup"><span data-stu-id="1694f-106">This feature was introduced with build 1.1.105.0 (released February 2016).</span></span>

## <a name="overview"></a><span data-ttu-id="1694f-107">Visão geral</span><span class="sxs-lookup"><span data-stu-id="1694f-107">Overview</span></span>
<span data-ttu-id="1694f-108">A sincronização do Azure AD Connect sincroniza mudanças ocorridas em seu diretório local usando um agendador.</span><span class="sxs-lookup"><span data-stu-id="1694f-108">Azure AD Connect sync synchronize changes occurring in your on-premises directory using a scheduler.</span></span> <span data-ttu-id="1694f-109">Há dois processos de agendador, um para sincronização de senha e outro para sincronização de atributo/objeto e tarefas de manutenção.</span><span class="sxs-lookup"><span data-stu-id="1694f-109">There are two scheduler processes, one for password sync and another for object/attribute sync and maintenance tasks.</span></span> <span data-ttu-id="1694f-110">Este tópico aborda a última opção.</span><span class="sxs-lookup"><span data-stu-id="1694f-110">This topic covers the latter.</span></span>

<span data-ttu-id="1694f-111">Em versões anteriores, o agendador de objetos e atributos era separado do mecanismo de sincronização.</span><span class="sxs-lookup"><span data-stu-id="1694f-111">In earlier releases, the scheduler for objects and attributes was external to the sync engine.</span></span> <span data-ttu-id="1694f-112">Ele usava o agendador de tarefas do Windows ou um serviço do Windows separado para disparar o processo de sincronização.</span><span class="sxs-lookup"><span data-stu-id="1694f-112">It used Windows task scheduler or a separate Windows service to trigger the synchronization process.</span></span> <span data-ttu-id="1694f-113">O agendador faz parte dos recursos internos nas versões 1.1 do mecanismo de sincronização e permite alguma personalização.</span><span class="sxs-lookup"><span data-stu-id="1694f-113">The scheduler is with the 1.1 releases built-in to the sync engine and do allow some customization.</span></span> <span data-ttu-id="1694f-114">A frequência de sincronização do novo padrão é de 30 minutos.</span><span class="sxs-lookup"><span data-stu-id="1694f-114">The new default synchronization frequency is 30 minutes.</span></span>

<span data-ttu-id="1694f-115">O agendador é responsável por duas tarefas:</span><span class="sxs-lookup"><span data-stu-id="1694f-115">The scheduler is responsible for two tasks:</span></span>

* <span data-ttu-id="1694f-116">**Ciclo de sincronização**.</span><span class="sxs-lookup"><span data-stu-id="1694f-116">**Synchronization cycle**.</span></span> <span data-ttu-id="1694f-117">O processo de importação, sincronização e exportação das alterações.</span><span class="sxs-lookup"><span data-stu-id="1694f-117">The process to import, sync, and export changes.</span></span>
* <span data-ttu-id="1694f-118">**Tarefas de manutenção**.</span><span class="sxs-lookup"><span data-stu-id="1694f-118">**Maintenance tasks**.</span></span> <span data-ttu-id="1694f-119">Renove as chaves e certificados para a redefinição de Senha e o DRS (Serviço de Registro de Dispositivo).</span><span class="sxs-lookup"><span data-stu-id="1694f-119">Renew keys and certificates for Password reset and Device Registration Service (DRS).</span></span> <span data-ttu-id="1694f-120">Limpe as entradas antigas no log de operações.</span><span class="sxs-lookup"><span data-stu-id="1694f-120">Purge old entries in the operations log.</span></span>

<span data-ttu-id="1694f-121">O agendador em si está sempre em execução, mas ele pode ser configurado para executar apenas uma ou nenhuma dessas tarefas.</span><span class="sxs-lookup"><span data-stu-id="1694f-121">The scheduler itself is always running, but it can be configured to only run one or none of these tasks.</span></span> <span data-ttu-id="1694f-122">Por exemplo, se você precisar ter seu próprio processo de ciclo de sincronização, poderá desabilitar essa tarefa no agendador, mas ainda executar a tarefa de manutenção.</span><span class="sxs-lookup"><span data-stu-id="1694f-122">For example, if you need to have your own synchronization cycle process, you can disable this task in the scheduler but still run the maintenance task.</span></span>

## <a name="scheduler-configuration"></a><span data-ttu-id="1694f-123">Configuração do agendador</span><span class="sxs-lookup"><span data-stu-id="1694f-123">Scheduler configuration</span></span>
<span data-ttu-id="1694f-124">Para ver as configurações atuais, acesse o PowerShell e execute `Get-ADSyncScheduler`.</span><span class="sxs-lookup"><span data-stu-id="1694f-124">To see your current configuration settings, go to PowerShell and run `Get-ADSyncScheduler`.</span></span> <span data-ttu-id="1694f-125">Ele mostra algo parecido com esta imagem:</span><span class="sxs-lookup"><span data-stu-id="1694f-125">It shows you something like this picture:</span></span>

![GetSyncScheduler](./media/active-directory-aadconnectsync-feature-scheduler/getsynccyclesettings2016.png)

<span data-ttu-id="1694f-127">Se você vir **O comando de sincronização ou o cmdlet não está disponível** quando executar esse cmdlet, o módulo do PowerShell não estará carregado.</span><span class="sxs-lookup"><span data-stu-id="1694f-127">If you see **The sync command or cmdlet is not available** when you run this cmdlet, then the PowerShell module is not loaded.</span></span> <span data-ttu-id="1694f-128">Esse problema poderá ocorrer se você executar o Azure AD Connect em um controlador de domínio ou em um servidor com níveis mais altos de restrição do PowerShell do que as configurações padrão.</span><span class="sxs-lookup"><span data-stu-id="1694f-128">This problem could happen if you run Azure AD Connect on a domain controller or on a server with higher PowerShell restriction levels than the default settings.</span></span> <span data-ttu-id="1694f-129">Se você vir esse erro, execute `Import-Module ADSync` para disponibilizar o cmdlet.</span><span class="sxs-lookup"><span data-stu-id="1694f-129">If you see this error, then run `Import-Module ADSync` to make the cmdlet available.</span></span>

* <span data-ttu-id="1694f-130">**AllowedSyncCycleInterval**.</span><span class="sxs-lookup"><span data-stu-id="1694f-130">**AllowedSyncCycleInterval**.</span></span> <span data-ttu-id="1694f-131">O intervalo de tempo mais curto entre os ciclos de sincronização permitido pelo Azure AD.</span><span class="sxs-lookup"><span data-stu-id="1694f-131">The shortest time interval between synchronization cycles allowed by Azure AD.</span></span> <span data-ttu-id="1694f-132">Você não pode sincronizar com maior frequência do que a permitida por essa configuração e ainda ter suporte.</span><span class="sxs-lookup"><span data-stu-id="1694f-132">You cannot synchronize more frequently than this setting and still be supported.</span></span>
* <span data-ttu-id="1694f-133">**CurrentlyEffectiveSyncCycleInterval**.</span><span class="sxs-lookup"><span data-stu-id="1694f-133">**CurrentlyEffectiveSyncCycleInterval**.</span></span> <span data-ttu-id="1694f-134">O agendamento atualmente em vigor.</span><span class="sxs-lookup"><span data-stu-id="1694f-134">The schedule currently in effect.</span></span> <span data-ttu-id="1694f-135">Ele terá o mesmo valor de CustomizedSyncInterval (se definido) se não for mais frequente do que AllowedSyncInterval.</span><span class="sxs-lookup"><span data-stu-id="1694f-135">It has the same value as CustomizedSyncInterval (if set) if it is not more frequent than AllowedSyncInterval.</span></span> <span data-ttu-id="1694f-136">Se você usar uma versão anterior à 1.1.281 e alterar o CustomizedSyncCycleInterval, essa alteração entrará em vigor após o próximo ciclo de sincronização.</span><span class="sxs-lookup"><span data-stu-id="1694f-136">If you use a build before 1.1.281 and you change CustomizedSyncCycleInterval, this change takes effect after next synchronization cycle.</span></span> <span data-ttu-id="1694f-137">Desde o build 1.1.281, a alteração entra em vigor imediatamente.</span><span class="sxs-lookup"><span data-stu-id="1694f-137">From build 1.1.281 the change takes effect immediately.</span></span>
* <span data-ttu-id="1694f-138">**CustomizedSyncCycleInterval**.</span><span class="sxs-lookup"><span data-stu-id="1694f-138">**CustomizedSyncCycleInterval**.</span></span> <span data-ttu-id="1694f-139">Se você quiser que o agendador seja executado em intervalos diferentes do padrão de 30 minutos, terá que definir nessa configuração.</span><span class="sxs-lookup"><span data-stu-id="1694f-139">If you want the scheduler to run at any other frequency than the default 30 minutes, then you configure this setting.</span></span> <span data-ttu-id="1694f-140">Na figura acima, o agendador foi definido para ser executado a cada hora.</span><span class="sxs-lookup"><span data-stu-id="1694f-140">In the picture above, the scheduler has been set to run every hour instead.</span></span> <span data-ttu-id="1694f-141">Se você definir essa configuração como um valor menor do que AllowedSyncInterval, a última opção será usada.</span><span class="sxs-lookup"><span data-stu-id="1694f-141">If you set this setting to a value lower than AllowedSyncInterval, then the latter is used.</span></span>
* <span data-ttu-id="1694f-142">**NextSyncCyclePolicyType**.</span><span class="sxs-lookup"><span data-stu-id="1694f-142">**NextSyncCyclePolicyType**.</span></span> <span data-ttu-id="1694f-143">Delta ou Inicial.</span><span class="sxs-lookup"><span data-stu-id="1694f-143">Either Delta or Initial.</span></span> <span data-ttu-id="1694f-144">Define se a próxima execução deve apenas processar alterações delta ou se a próxima execução deve fazer importação e sincronização completas.</span><span class="sxs-lookup"><span data-stu-id="1694f-144">Defines if the next run should only process delta changes, or if the next run should do a full import and sync.</span></span> <span data-ttu-id="1694f-145">O última opção também reprocessaria regras novas ou alteradas.</span><span class="sxs-lookup"><span data-stu-id="1694f-145">The latter would also reprocess any new or changed rules.</span></span>
* <span data-ttu-id="1694f-146">**NextSyncCycleStartTimeInUTC**.</span><span class="sxs-lookup"><span data-stu-id="1694f-146">**NextSyncCycleStartTimeInUTC**.</span></span> <span data-ttu-id="1694f-147">Da próxima vez, o agendador iniciará o próximo ciclo de sincronização.</span><span class="sxs-lookup"><span data-stu-id="1694f-147">Next time the scheduler starts the next sync cycle.</span></span>
* <span data-ttu-id="1694f-148">**PurgeRunHistoryInterval**.</span><span class="sxs-lookup"><span data-stu-id="1694f-148">**PurgeRunHistoryInterval**.</span></span> <span data-ttu-id="1694f-149">Os logs de operação de tempo devem ser mantidos.</span><span class="sxs-lookup"><span data-stu-id="1694f-149">The time operation logs should be kept.</span></span> <span data-ttu-id="1694f-150">Esses logs podem ser analisados no gerenciador do serviço de sincronização.</span><span class="sxs-lookup"><span data-stu-id="1694f-150">These logs can be reviewed in the synchronization service manager.</span></span> <span data-ttu-id="1694f-151">O padrão é manter os logs por sete dias.</span><span class="sxs-lookup"><span data-stu-id="1694f-151">The default is to keep these logs for 7 days.</span></span>
* <span data-ttu-id="1694f-152">**SyncCycleEnabled**.</span><span class="sxs-lookup"><span data-stu-id="1694f-152">**SyncCycleEnabled**.</span></span> <span data-ttu-id="1694f-153">Indica se o agendador está executando os processos de exportação, importação e sincronização como parte de sua operação.</span><span class="sxs-lookup"><span data-stu-id="1694f-153">Indicates if the scheduler is running the import, sync, and export processes as part of its operation.</span></span>
* <span data-ttu-id="1694f-154">**MaintenanceEnabled**.</span><span class="sxs-lookup"><span data-stu-id="1694f-154">**MaintenanceEnabled**.</span></span> <span data-ttu-id="1694f-155">Mostra se o processo de manutenção está habilitado.</span><span class="sxs-lookup"><span data-stu-id="1694f-155">Shows if the maintenance process is enabled.</span></span> <span data-ttu-id="1694f-156">Ele atualiza os certificados/chaves e limpa o log de operações.</span><span class="sxs-lookup"><span data-stu-id="1694f-156">It updates the certificates/keys and purges the operations log.</span></span>
* <span data-ttu-id="1694f-157">**StagingModeEnabled**.</span><span class="sxs-lookup"><span data-stu-id="1694f-157">**StagingModeEnabled**.</span></span> <span data-ttu-id="1694f-158">Mostra se o [modo de preparo](active-directory-aadconnectsync-operations.md#staging-mode) está habilitado.</span><span class="sxs-lookup"><span data-stu-id="1694f-158">Shows if [staging mode](active-directory-aadconnectsync-operations.md#staging-mode) is enabled.</span></span> <span data-ttu-id="1694f-159">Quando essa configuração está habilitada, ela impede que as exportações sejam executadas, mas ainda executa a importação e a sincronização.</span><span class="sxs-lookup"><span data-stu-id="1694f-159">If this setting is enabled, then it suppresses the exports from running but still run import and synchronization.</span></span>
* <span data-ttu-id="1694f-160">**SchedulerSuspended**.</span><span class="sxs-lookup"><span data-stu-id="1694f-160">**SchedulerSuspended**.</span></span> <span data-ttu-id="1694f-161">Definido pelo Connect durante uma atualização para bloquear temporariamente a execução do agendador.</span><span class="sxs-lookup"><span data-stu-id="1694f-161">Set by Connect during an upgrade to temporarily block the scheduler from running.</span></span>

<span data-ttu-id="1694f-162">Você pode alterar algumas dessas configurações com `Set-ADSyncScheduler`.</span><span class="sxs-lookup"><span data-stu-id="1694f-162">You can change some of these settings with `Set-ADSyncScheduler`.</span></span> <span data-ttu-id="1694f-163">Os parâmetros a seguir podem ser modificados:</span><span class="sxs-lookup"><span data-stu-id="1694f-163">The following parameters can be modified:</span></span>

* <span data-ttu-id="1694f-164">CustomizedSyncCycleInterval</span><span class="sxs-lookup"><span data-stu-id="1694f-164">CustomizedSyncCycleInterval</span></span>
* <span data-ttu-id="1694f-165">NextSyncCyclePolicyType</span><span class="sxs-lookup"><span data-stu-id="1694f-165">NextSyncCyclePolicyType</span></span>
* <span data-ttu-id="1694f-166">PurgeRunHistoryInterval</span><span class="sxs-lookup"><span data-stu-id="1694f-166">PurgeRunHistoryInterval</span></span>
* <span data-ttu-id="1694f-167">SyncCycleEnabled</span><span class="sxs-lookup"><span data-stu-id="1694f-167">SyncCycleEnabled</span></span>
* <span data-ttu-id="1694f-168">MaintenanceEnabled</span><span class="sxs-lookup"><span data-stu-id="1694f-168">MaintenanceEnabled</span></span>

<span data-ttu-id="1694f-169">Em builds anteriores do Azure AD Connect, **isStagingModeEnabled** era exposto em Set-ADSyncScheduler.</span><span class="sxs-lookup"><span data-stu-id="1694f-169">In earlier builds of Azure AD Connect, **isStagingModeEnabled** was exposed in Set-ADSyncScheduler.</span></span> <span data-ttu-id="1694f-170">**Não há suporte** para a definição dessa propriedade.</span><span class="sxs-lookup"><span data-stu-id="1694f-170">It is **unsupported** to set this property.</span></span> <span data-ttu-id="1694f-171">A propriedade **SchedulerSuspended** só deve ser modificada pelo Connect.</span><span class="sxs-lookup"><span data-stu-id="1694f-171">The property **SchedulerSuspended** should only be modified by Connect.</span></span> <span data-ttu-id="1694f-172">**Não há suporte** para a definição dela diretamente com o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="1694f-172">It is **unsupported** to set this with PowerShell directly.</span></span>

<span data-ttu-id="1694f-173">A configuração do agendador é armazenada no Azure AD.</span><span class="sxs-lookup"><span data-stu-id="1694f-173">The scheduler configuration is stored in Azure AD.</span></span> <span data-ttu-id="1694f-174">Se você tiver um servidor de preparo, uma alteração no servidor primário também afetará o servidor de preparo (exceto IsStagingModeEnabled).</span><span class="sxs-lookup"><span data-stu-id="1694f-174">If you have a staging server, any change on the primary server also affects the staging server (except IsStagingModeEnabled).</span></span>

### <a name="customizedsynccycleinterval"></a><span data-ttu-id="1694f-175">CustomizedSyncCycleInterval</span><span class="sxs-lookup"><span data-stu-id="1694f-175">CustomizedSyncCycleInterval</span></span>
<span data-ttu-id="1694f-176">Sintaxe: `Set-ADSyncScheduler -CustomizedSyncCycleInterval d.HH:mm:ss`</span><span class="sxs-lookup"><span data-stu-id="1694f-176">Syntax: `Set-ADSyncScheduler -CustomizedSyncCycleInterval d.HH:mm:ss`</span></span>  
<span data-ttu-id="1694f-177">d - dias, HH - horas, mm - minutos, ss - segundos</span><span class="sxs-lookup"><span data-stu-id="1694f-177">d - days, HH - hours, mm - minutes, ss - seconds</span></span>

<span data-ttu-id="1694f-178">Exemplo: `Set-ADSyncScheduler -CustomizedSyncCycleInterval 03:00:00`</span><span class="sxs-lookup"><span data-stu-id="1694f-178">Example: `Set-ADSyncScheduler -CustomizedSyncCycleInterval 03:00:00`</span></span>  
<span data-ttu-id="1694f-179">Altera o Agendador para executar a cada três horas.</span><span class="sxs-lookup"><span data-stu-id="1694f-179">Changes the scheduler to run every 3 hours.</span></span>

<span data-ttu-id="1694f-180">Exemplo: `Set-ADSyncScheduler -CustomizedSyncCycleInterval 1.0:0:0`</span><span class="sxs-lookup"><span data-stu-id="1694f-180">Example: `Set-ADSyncScheduler -CustomizedSyncCycleInterval 1.0:0:0`</span></span>  
<span data-ttu-id="1694f-181">Altera o Agendador para executar diariamente.</span><span class="sxs-lookup"><span data-stu-id="1694f-181">Changes change the scheduler to run daily.</span></span>

### <a name="disable-the-scheduler"></a><span data-ttu-id="1694f-182">Desabilitar o agendador</span><span class="sxs-lookup"><span data-stu-id="1694f-182">Disable the scheduler</span></span>  
<span data-ttu-id="1694f-183">Se você precisar fazer alterações de configuração, talvez seja melhor desabilitar o agendador.</span><span class="sxs-lookup"><span data-stu-id="1694f-183">If you need to make configuration changes, then you want to disable the scheduler.</span></span> <span data-ttu-id="1694f-184">Por exemplo, quando você [configura a filtragem](active-directory-aadconnectsync-configure-filtering.md) ou [faz alterações nas regras de sincronização](active-directory-aadconnectsync-change-the-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="1694f-184">For example, when you [configure filtering](active-directory-aadconnectsync-configure-filtering.md) or [make changes to synchronization rules](active-directory-aadconnectsync-change-the-configuration.md).</span></span>

<span data-ttu-id="1694f-185">Execute `Set-ADSyncScheduler -SyncCycleEnabled $false` para desabilitar o agendador.</span><span class="sxs-lookup"><span data-stu-id="1694f-185">To disable the scheduler, run `Set-ADSyncScheduler -SyncCycleEnabled $false`.</span></span>

![Desabilitar o agendador](./media/active-directory-aadconnectsync-change-the-configuration/schedulerdisable.png)

<span data-ttu-id="1694f-187">Quando você fizer as alterações, não se esqueça de habilitar o agendador novamente com `Set-ADSyncScheduler -SyncCycleEnabled $true`.</span><span class="sxs-lookup"><span data-stu-id="1694f-187">When you've made your changes, do not forget to enable the scheduler again with `Set-ADSyncScheduler -SyncCycleEnabled $true`.</span></span>

## <a name="start-the-scheduler"></a><span data-ttu-id="1694f-188">Iniciar o agendador</span><span class="sxs-lookup"><span data-stu-id="1694f-188">Start the scheduler</span></span>
<span data-ttu-id="1694f-189">Por padrão, o agendador é executado a cada 30 minutos.</span><span class="sxs-lookup"><span data-stu-id="1694f-189">The scheduler is by default run every 30 minutes.</span></span> <span data-ttu-id="1694f-190">Em alguns casos, é bom executar um ciclo de sincronização entre os ciclos agendados ou terá que executar um tipo diferente.</span><span class="sxs-lookup"><span data-stu-id="1694f-190">In some cases, you might want to run a sync cycle in between the scheduled cycles or you need to run a different type.</span></span>

<span data-ttu-id="1694f-191">**Ciclo de sincronização delta**</span><span class="sxs-lookup"><span data-stu-id="1694f-191">**Delta sync cycle**</span></span>  
<span data-ttu-id="1694f-192">Um ciclo de sincronização delta inclui as seguintes etapas:</span><span class="sxs-lookup"><span data-stu-id="1694f-192">A delta sync cycle includes the following steps:</span></span>

* <span data-ttu-id="1694f-193">Importação delta em todos os conectores</span><span class="sxs-lookup"><span data-stu-id="1694f-193">Delta import on all Connectors</span></span>
* <span data-ttu-id="1694f-194">Sincronização delta em todos os conectores</span><span class="sxs-lookup"><span data-stu-id="1694f-194">Delta sync on all Connectors</span></span>
* <span data-ttu-id="1694f-195">Exportação em todos os conectores</span><span class="sxs-lookup"><span data-stu-id="1694f-195">Export on all Connectors</span></span>

<span data-ttu-id="1694f-196">É possível que você tenha uma alteração urgente que deva ser sincronizada imediatamente e precise executar um ciclo manualmente.</span><span class="sxs-lookup"><span data-stu-id="1694f-196">It could be that you have an urgent change that must be synchronized immediately, which is why you need to manually run a cycle.</span></span> <span data-ttu-id="1694f-197">Se precisar executar um ciclo manualmente, execute `Start-ADSyncSyncCycle -PolicyType Delta`no PowerShell.</span><span class="sxs-lookup"><span data-stu-id="1694f-197">If you need to manually run a cycle, then from PowerShell run `Start-ADSyncSyncCycle -PolicyType Delta`.</span></span>

<span data-ttu-id="1694f-198">**Ciclo de sincronização completo**</span><span class="sxs-lookup"><span data-stu-id="1694f-198">**Full sync cycle**</span></span>  
<span data-ttu-id="1694f-199">Caso tenha feito uma das alterações de configuração a seguir, será necessário executar um ciclo de sincronização completo (também conhecido como</span><span class="sxs-lookup"><span data-stu-id="1694f-199">If you have made one of the following configuration changes, you need to run a full sync cycle (a.k.a.</span></span> <span data-ttu-id="1694f-200">Inicial):</span><span class="sxs-lookup"><span data-stu-id="1694f-200">Initial):</span></span>

* <span data-ttu-id="1694f-201">Adicionou mais objetos ou atributos para serem importados de um diretório de origem</span><span class="sxs-lookup"><span data-stu-id="1694f-201">Added more objects or attributes to be imported from a source directory</span></span>
* <span data-ttu-id="1694f-202">Realizou alterações nas regras de sincronização</span><span class="sxs-lookup"><span data-stu-id="1694f-202">Made changes to the Synchronization rules</span></span>
* <span data-ttu-id="1694f-203">Alterou a [filtragem](active-directory-aadconnectsync-configure-filtering.md) para incluir um número diferente de objetos</span><span class="sxs-lookup"><span data-stu-id="1694f-203">Changed [filtering](active-directory-aadconnectsync-configure-filtering.md) so a different number of objects should be included</span></span>

<span data-ttu-id="1694f-204">Se você tiver realizado uma dessas alterações, precisará executar um ciclo de sincronização completa para que o mecanismo de sincronização possa reconsolidar os espaços conectores.</span><span class="sxs-lookup"><span data-stu-id="1694f-204">If you have made one of these changes, then you need to run a full sync cycle so the sync engine has the opportunity to reconsolidate the connector spaces.</span></span> <span data-ttu-id="1694f-205">Um ciclo de sincronização completa inclui as seguintes etapas:</span><span class="sxs-lookup"><span data-stu-id="1694f-205">A full sync cycle includes the following steps:</span></span>

* <span data-ttu-id="1694f-206">Importação completa de todos os conectores</span><span class="sxs-lookup"><span data-stu-id="1694f-206">Full Import on all Connectors</span></span>
* <span data-ttu-id="1694f-207">Sincronização completa de todos os conectores</span><span class="sxs-lookup"><span data-stu-id="1694f-207">Full Sync on all Connectors</span></span>
* <span data-ttu-id="1694f-208">Exportação em todos os conectores</span><span class="sxs-lookup"><span data-stu-id="1694f-208">Export on all Connectors</span></span>

<span data-ttu-id="1694f-209">Para iniciar um ciclo de sincronização completo, execute `Start-ADSyncSyncCycle -PolicyType Initial` em um prompt do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="1694f-209">To initiate a full sync cycle, run `Start-ADSyncSyncCycle -PolicyType Initial` from a PowerShell prompt.</span></span> <span data-ttu-id="1694f-210">Esse comando inicia um ciclo de sincronização completa.</span><span class="sxs-lookup"><span data-stu-id="1694f-210">This command starts a full sync cycle.</span></span>

## <a name="stop-the-scheduler"></a><span data-ttu-id="1694f-211">Parar o agendador</span><span class="sxs-lookup"><span data-stu-id="1694f-211">Stop the scheduler</span></span>
<span data-ttu-id="1694f-212">Se o agendador estiver executando um ciclo de sincronização, talvez seja necessário interrompê-lo.</span><span class="sxs-lookup"><span data-stu-id="1694f-212">If the scheduler is currently running a synchronization cycle, you might need to stop it.</span></span> <span data-ttu-id="1694f-213">Por exemplo, se você iniciar o assistente de instalação e receber este erro:</span><span class="sxs-lookup"><span data-stu-id="1694f-213">For example if you start the installation wizard and you get this error:</span></span>

![SyncCycleRunningError](./media/active-directory-aadconnectsync-feature-scheduler/synccyclerunningerror.png)

<span data-ttu-id="1694f-215">Se um ciclo de sincronização estiver em execução, você não poderá alterar a configuração.</span><span class="sxs-lookup"><span data-stu-id="1694f-215">When a sync cycle is running, you cannot make configuration changes.</span></span> <span data-ttu-id="1694f-216">Você pode aguardar até que o agendador conclua o processo ou pode interrompê-lo para realizar suas alterações logo em seguida.</span><span class="sxs-lookup"><span data-stu-id="1694f-216">You could wait until the scheduler has finished the process, but you can also stop it so you can make your changes immediately.</span></span> <span data-ttu-id="1694f-217">Parar o ciclo atual não é prejudicial e as alterações serão processadas na próxima execução.</span><span class="sxs-lookup"><span data-stu-id="1694f-217">Stopping the current cycle is not harmful and pending changes are processed with next run.</span></span>

1. <span data-ttu-id="1694f-218">Comece informando o agendador para interromper o ciclo atual com o cmdlet `Stop-ADSyncSyncCycle`do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="1694f-218">Start by telling the scheduler to stop its current cycle with the PowerShell cmdlet `Stop-ADSyncSyncCycle`.</span></span>
2. <span data-ttu-id="1694f-219">Se você usar uma versão anterior à 1.1.281, parando em seguida, o agendador não interromperá a tarefa atual do conector atual.</span><span class="sxs-lookup"><span data-stu-id="1694f-219">If you use a build before 1.1.281, then stopping the scheduler does not stop the current Connector from its current task.</span></span> <span data-ttu-id="1694f-220">Para forçar a interrupção do Conector, execute as seguintes ações: ![StopAConnector](./media/active-directory-aadconnectsync-feature-scheduler/stopaconnector.png)</span><span class="sxs-lookup"><span data-stu-id="1694f-220">To force the Connector to stop, take the following actions: ![StopAConnector](./media/active-directory-aadconnectsync-feature-scheduler/stopaconnector.png)</span></span>
   * <span data-ttu-id="1694f-221">Inicie o **Serviço de Sincronização** no menu Iniciar.</span><span class="sxs-lookup"><span data-stu-id="1694f-221">Start **Synchronization Service** from the start menu.</span></span> <span data-ttu-id="1694f-222">Vá para **Conectores**, realce o Conector com o estado **Executando** e selecione **Parar** em Ações.</span><span class="sxs-lookup"><span data-stu-id="1694f-222">Go to **Connectors**, highlight the Connector with the state **Running**, and select **Stop** from the Actions.</span></span>

<span data-ttu-id="1694f-223">O agendador ainda está ativo e será iniciado novamente na próxima oportunidade.</span><span class="sxs-lookup"><span data-stu-id="1694f-223">The scheduler is still active and starts again on next opportunity.</span></span>

## <a name="custom-scheduler"></a><span data-ttu-id="1694f-224">Agendador personalizado</span><span class="sxs-lookup"><span data-stu-id="1694f-224">Custom scheduler</span></span>
<span data-ttu-id="1694f-225">Os cmdlets documentados nesta seção só estão disponíveis no build [1.1.130.0](active-directory-aadconnect-version-history.md#111300) e posteriores.</span><span class="sxs-lookup"><span data-stu-id="1694f-225">The cmdlets documented in this section are only available in build [1.1.130.0](active-directory-aadconnect-version-history.md#111300) and later.</span></span>

<span data-ttu-id="1694f-226">Se o agendador interno não atender às suas necessidades, você poderá fazer o agendamento dos Conectores usando o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="1694f-226">If the built-in scheduler does not satisfy your requirements, then you can schedule the Connectors using PowerShell.</span></span>

### <a name="invoke-adsyncrunprofile"></a><span data-ttu-id="1694f-227">Invoke-ADSyncRunProfile</span><span class="sxs-lookup"><span data-stu-id="1694f-227">Invoke-ADSyncRunProfile</span></span>
<span data-ttu-id="1694f-228">Você pode iniciar um perfil para um Conector desta forma:</span><span class="sxs-lookup"><span data-stu-id="1694f-228">You can start a profile for a Connector in this way:</span></span>

```
Invoke-ADSyncRunProfile -ConnectorName "name of connector" -RunProfileName "name of profile"
```

<span data-ttu-id="1694f-229">Os nomes a serem usados como [Nomes de conector](active-directory-aadconnectsync-service-manager-ui-connectors.md) e [Nomes de Perfil de Execução](active-directory-aadconnectsync-service-manager-ui-connectors.md#configure-run-profiles) podem ser encontrados na [Interface do Usuário do Synchronization Service Manager](active-directory-aadconnectsync-service-manager-ui.md).</span><span class="sxs-lookup"><span data-stu-id="1694f-229">The names to use for [Connector names](active-directory-aadconnectsync-service-manager-ui-connectors.md) and [Run Profile Names](active-directory-aadconnectsync-service-manager-ui-connectors.md#configure-run-profiles) can be found in the [Synchronization Service Manager UI](active-directory-aadconnectsync-service-manager-ui.md).</span></span>

![Invocar perfil de execução](./media/active-directory-aadconnectsync-feature-scheduler/invokerunprofile.png)  

<span data-ttu-id="1694f-231">O cmdlet `Invoke-ADSyncRunProfile` é síncrono, ou seja, ele não retornará o controle até que o Conector tenha concluído a operação, seja com êxito ou com erro.</span><span class="sxs-lookup"><span data-stu-id="1694f-231">The `Invoke-ADSyncRunProfile` cmdlet is synchronous, that is, it does not return control until the Connector has completed the operation, either successfully or with an error.</span></span>

<span data-ttu-id="1694f-232">Quando você agendar seus Conectores, a recomendação é agendá-los na seguinte ordem:</span><span class="sxs-lookup"><span data-stu-id="1694f-232">When you schedule your Connectors, the recommendation is to schedule them in the following order:</span></span>

1. <span data-ttu-id="1694f-233">(Completo/Delta) Importar de diretórios locais, como o Active Directory</span><span class="sxs-lookup"><span data-stu-id="1694f-233">(Full/Delta) Import from on-premises directories, such as Active Directory</span></span>
2. <span data-ttu-id="1694f-234">(Completo/Delta) Importar do Azure AD</span><span class="sxs-lookup"><span data-stu-id="1694f-234">(Full/Delta) Import from Azure AD</span></span>
3. <span data-ttu-id="1694f-235">(Completo/Delta) Sincronizar de diretórios locais, como o Active Directory</span><span class="sxs-lookup"><span data-stu-id="1694f-235">(Full/Delta) Synchronization from on-premises directories, such as Active Directory</span></span>
4. <span data-ttu-id="1694f-236">(Completo/Delta) Sincronização do Azure AD</span><span class="sxs-lookup"><span data-stu-id="1694f-236">(Full/Delta) Synchronization from Azure AD</span></span>
5. <span data-ttu-id="1694f-237">Exportar para o Azure AD</span><span class="sxs-lookup"><span data-stu-id="1694f-237">Export to Azure AD</span></span>
6. <span data-ttu-id="1694f-238">Exportar para diretórios locais, como o Active Directory</span><span class="sxs-lookup"><span data-stu-id="1694f-238">Export to on-premises directories, such as Active Directory</span></span>

<span data-ttu-id="1694f-239">Essa ordem é como o agendador interno executa os conectores.</span><span class="sxs-lookup"><span data-stu-id="1694f-239">This order is how the built-in scheduler runs the Connectors.</span></span>

### <a name="get-adsyncconnectorrunstatus"></a><span data-ttu-id="1694f-240">Get-ADSyncConnectorRunStatus</span><span class="sxs-lookup"><span data-stu-id="1694f-240">Get-ADSyncConnectorRunStatus</span></span>
<span data-ttu-id="1694f-241">Você também pode monitorar o mecanismo de sincronização para ver se ele está ocupado ou ocioso.</span><span class="sxs-lookup"><span data-stu-id="1694f-241">You can also monitor the sync engine to see if it is busy or idle.</span></span> <span data-ttu-id="1694f-242">Esse cmdlet retornará um resultado vazio se o mecanismo de sincronização estiver ocioso e não estiver executando um Conector.</span><span class="sxs-lookup"><span data-stu-id="1694f-242">This cmdlet returns an empty result if the sync engine is idle and is not running a Connector.</span></span> <span data-ttu-id="1694f-243">Se um Conector estiver em execução, ele retornará o nome do Conector.</span><span class="sxs-lookup"><span data-stu-id="1694f-243">If a Connector is running, it returns the name of the Connector.</span></span>

```
Get-ADSyncConnectorRunStatus
```

![Status de execução do conector](./media/active-directory-aadconnectsync-feature-scheduler/getconnectorrunstatus.png)  
<span data-ttu-id="1694f-245">Na imagem acima, a primeira linha é de um estado em que o mecanismo de sincronização está ocioso.</span><span class="sxs-lookup"><span data-stu-id="1694f-245">In the picture above, the first line is from a state where the sync engine is idle.</span></span> <span data-ttu-id="1694f-246">A segunda linha é de quando o Conector do Azure AD está em execução.</span><span class="sxs-lookup"><span data-stu-id="1694f-246">The second line from when the Azure AD Connector is running.</span></span>

## <a name="scheduler-and-installation-wizard"></a><span data-ttu-id="1694f-247">Agendador e o assistente de instalação</span><span class="sxs-lookup"><span data-stu-id="1694f-247">Scheduler and installation wizard</span></span>
<span data-ttu-id="1694f-248">Se você iniciar o assistente de instalação, o agendador será temporariamente suspenso.</span><span class="sxs-lookup"><span data-stu-id="1694f-248">If you start the installation wizard, then the scheduler is temporarily suspended.</span></span> <span data-ttu-id="1694f-249">Esse comportamento ocorre porque ele pressupõe que você fará alterações na configuração e as definições não poderão ser aplicadas se o mecanismo de sincronização estiver ativamente em execução.</span><span class="sxs-lookup"><span data-stu-id="1694f-249">This behavior is because it is assumed you make configuration changes and these settings cannot be applied if the sync engine is actively running.</span></span> <span data-ttu-id="1694f-250">Por esse motivo, não deixe o assistente de instalação aberto, já que ele impede que o mecanismo de sincronização execute ações de sincronização.</span><span class="sxs-lookup"><span data-stu-id="1694f-250">For this reason, do not leave the installation wizard open since it stops the sync engine from performing any synchronization actions.</span></span>

## <a name="next-steps"></a><span data-ttu-id="1694f-251">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="1694f-251">Next steps</span></span>
<span data-ttu-id="1694f-252">Saiba mais sobre a configuração de [sincronização do Azure AD Connect](active-directory-aadconnectsync-whatis.md) .</span><span class="sxs-lookup"><span data-stu-id="1694f-252">Learn more about the [Azure AD Connect sync](active-directory-aadconnectsync-whatis.md) configuration.</span></span>

<span data-ttu-id="1694f-253">Saiba mais sobre [Como integrar suas identidades locais ao Active Directory do Azure](active-directory-aadconnect.md).</span><span class="sxs-lookup"><span data-stu-id="1694f-253">Learn more about [Integrating your on-premises identities with Azure Active Directory](active-directory-aadconnect.md).</span></span>
