---
title: "Sincronização do Azure AD Connect: Noções Básicas sobre Usuários e Contatos | Microsoft Docs"
description: "Explica usuários e contatos na sincronização do Azure AD Connect."
services: active-directory
documentationcenter: 
author: MarkusVi
manager: femila
ms.assetid: 8d204647-213a-4519-bd62-49563c421602
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/12/2017
ms.author: markvi;andkjell
ms.openlocfilehash: 4d80648c53a2981eb2626338913ed2282423f183
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-connect-sync-understanding-users-and-contacts"></a><span data-ttu-id="d99f5-103">Azure AD Connect Sync: noções básicas sobre usuários e contatos</span><span class="sxs-lookup"><span data-stu-id="d99f5-103">Azure AD Connect sync: Understanding Users and Contacts</span></span>
<span data-ttu-id="d99f5-104">Há vários motivos diferentes de por que existem várias florestas do Active Directory e várias topologias de implantação diferentes.</span><span class="sxs-lookup"><span data-stu-id="d99f5-104">There are several different reasons why you would have multiple Active Directory forests and there are several different deployment topologies.</span></span> <span data-ttu-id="d99f5-105">Os modelos comuns incluem uma implantação do recurso em conta e florestas sincronizadas de GAL (Lista de Endereços Global) após uma fusão e aquisição.</span><span class="sxs-lookup"><span data-stu-id="d99f5-105">Common models include an account-resource deployment and GAL sync’ed forests after a merger & acquisition.</span></span> <span data-ttu-id="d99f5-106">Mas mesmo que haja modelos puros, modelos híbridos são comuns também.</span><span class="sxs-lookup"><span data-stu-id="d99f5-106">But even if there are pure models, hybrid models are common as well.</span></span> <span data-ttu-id="d99f5-107">configuração padrão de saudação na sincronização do Azure AD Connect não supõe qualquer modelo específico, mas dependendo de como a correspondência de usuário foi selecionado no guia de instalação do hello, comportamentos diferentes podem ser observados.</span><span class="sxs-lookup"><span data-stu-id="d99f5-107">hello default configuration in Azure AD Connect sync does not assume any particular model but depending on how user matching was selected in hello installation guide, different behaviors can be observed.</span></span>

<span data-ttu-id="d99f5-108">Neste tópico, veremos como configuração padrão de saudação se comporta em determinadas topologias.</span><span class="sxs-lookup"><span data-stu-id="d99f5-108">In this topic, we will go through how hello default configuration behaves in certain topologies.</span></span> <span data-ttu-id="d99f5-109">Percorreremos configuração hello e Olá Editor de regras de sincronização pode ser toolook usado na configuração de saudação.</span><span class="sxs-lookup"><span data-stu-id="d99f5-109">We will go through hello configuration and hello Synchronization Rules Editor can be used toolook at hello configuration.</span></span>

<span data-ttu-id="d99f5-110">Há algumas regras gerais Olá configuração pressupõe:</span><span class="sxs-lookup"><span data-stu-id="d99f5-110">There are a few general rules hello configuration assumes:</span></span>

* <span data-ttu-id="d99f5-111">Independentemente de qual ordenar importar do Active Directories de origem hello, resultado final de saudação sempre deve ser Olá mesmo.</span><span class="sxs-lookup"><span data-stu-id="d99f5-111">Regardless of which order we import from hello source Active Directories, hello end result should always be hello same.</span></span>
* <span data-ttu-id="d99f5-112">Uma conta ativa sempre também contribuirá com informações de logon, incluindo **userPrincipalName** e **sourceAnchor**.</span><span class="sxs-lookup"><span data-stu-id="d99f5-112">An active account will always contribute sign-in information, including **userPrincipalName** and **sourceAnchor**.</span></span>
* <span data-ttu-id="d99f5-113">Uma conta desabilitada contribuirá com userPrincipalName e sourceAnchor, a menos que ele é uma caixa de correio vinculada, se não houver nenhum toobe conta ativa encontrado.</span><span class="sxs-lookup"><span data-stu-id="d99f5-113">A disabled account will contribute userPrincipalName and sourceAnchor, unless it is a linked mailbox, if there is no active account toobe found.</span></span>
* <span data-ttu-id="d99f5-114">Uma conta com uma caixa de correio vinculada nunca será usada para userPrincipalName e sourceAnchor.</span><span class="sxs-lookup"><span data-stu-id="d99f5-114">An account with a linked mailbox will never be used for userPrincipalName and sourceAnchor.</span></span> <span data-ttu-id="d99f5-115">Pressupõe-se que uma conta ativa será encontrada posteriormente.</span><span class="sxs-lookup"><span data-stu-id="d99f5-115">It is assumed that an active account will be found later.</span></span>
* <span data-ttu-id="d99f5-116">Um objeto de contato pode ser provisionado tooAzure AD como um contato ou um usuário.</span><span class="sxs-lookup"><span data-stu-id="d99f5-116">A contact object might be provisioned tooAzure AD as a contact or as a user.</span></span> <span data-ttu-id="d99f5-117">Você realmente não sabe até que todas as florestas do Active Directory de origem sejam processadas.</span><span class="sxs-lookup"><span data-stu-id="d99f5-117">You don’t really know until all source Active Directory forests have been processed.</span></span>

## <a name="contacts"></a><span data-ttu-id="d99f5-118">Contatos</span><span class="sxs-lookup"><span data-stu-id="d99f5-118">Contacts</span></span>
<span data-ttu-id="d99f5-119">Ter contatos que representam um usuário em uma floresta diferente é comum após uma fusão e aquisição em que uma solução GALSync está fazendo a ponte entre duas ou mais florestas do Exchange.</span><span class="sxs-lookup"><span data-stu-id="d99f5-119">Having contacts representing a user in a different forest is common after a merger & acquisition where a GALSync solution is bridging two or more Exchange forests.</span></span> <span data-ttu-id="d99f5-120">o objeto de contato Olá sempre ingressará a partir Olá conector espaço toohello metaverso usando o atributo de mensagem de saudação.</span><span class="sxs-lookup"><span data-stu-id="d99f5-120">hello contact object is always joining from hello connector space toohello metaverse using hello mail attribute.</span></span> <span data-ttu-id="d99f5-121">Se já houver um objeto de contato ou um objeto de usuário com hello mesmo endereço de email, Olá objetos serão Unidos.</span><span class="sxs-lookup"><span data-stu-id="d99f5-121">If there is already a contact object or user object with hello same mail address, hello objects are joined together.</span></span> <span data-ttu-id="d99f5-122">Isso é configurado na regra Olá **no AD – ingresso do contato**.</span><span class="sxs-lookup"><span data-stu-id="d99f5-122">This is configured in hello rule **In from AD – Contact Join**.</span></span> <span data-ttu-id="d99f5-123">Também há uma regra denominada **no AD – contato comum** com um atributo de metaverso atributo fluxo toohello **sourceObjectType** com constante Olá **entre em contato com**.</span><span class="sxs-lookup"><span data-stu-id="d99f5-123">There is also a rule named **In from AD – Contact Common** with an attribute flow toohello metaverse attribute **sourceObjectType** with hello constant **Contact**.</span></span> <span data-ttu-id="d99f5-124">Essa regra tem precedência muito baixa se qualquer objeto do usuário é toohello ingressado no mesmo objeto de metaverso, então a regra Olá **em do AD – usuário comum** contribuirá com atributo de toothis de usuário de valor de saudação.</span><span class="sxs-lookup"><span data-stu-id="d99f5-124">This rule has very low precedence so if any user object is joined toohello same metaverse object, then hello rule **In from AD – User Common** will contribute hello value User toothis attribute.</span></span> <span data-ttu-id="d99f5-125">Com essa regra, esse atributo terá valor Olá contato se nenhum usuário foi ingressado e Olá valor usuário se pelo menos um usuário foi encontrado.</span><span class="sxs-lookup"><span data-stu-id="d99f5-125">With this rule, this attribute will have hello value Contact if no user has been joined and hello value User if at least one user has been found.</span></span>

<span data-ttu-id="d99f5-126">Para o provisionamento de um objeto tooAzure AD, Olá regra de saída **Out tooAAD – ingresso de contato** criará um objeto de contato se hello atributo metaverso **sourceObjectType** está definido muito**entre em contato com** .</span><span class="sxs-lookup"><span data-stu-id="d99f5-126">For provisioning an object tooAzure AD, hello outbound rule **Out tooAAD – Contact Join** will create a contact object if hello metaverse attribute **sourceObjectType** is set too**Contact**.</span></span> <span data-ttu-id="d99f5-127">Se esse atributo for definido muito**usuário**, em seguida, a regra de saudação **Out tooAAD – ingresso de usuário** criará um objeto de usuário, em vez disso.</span><span class="sxs-lookup"><span data-stu-id="d99f5-127">If this attribute is set too**User**, then hello rule **Out tooAAD – User Join** will create a user object instead.</span></span>
<span data-ttu-id="d99f5-128">É possível que um objeto seja promovido de contato tooUser quando mais Active Directories de origem são importados e sincronizados.</span><span class="sxs-lookup"><span data-stu-id="d99f5-128">It is possible that an object is promoted from Contact tooUser when more source Active Directories are imported and synchronized.</span></span>

<span data-ttu-id="d99f5-129">Por exemplo, em uma topologia GALSync encontraremos objetos de contato para todos na segunda floresta de saudação quando importarmos a primeira floresta de saudação.</span><span class="sxs-lookup"><span data-stu-id="d99f5-129">For example, in a GALSync topology we will find contact objects for everyone in hello second forest when we import hello first forest.</span></span> <span data-ttu-id="d99f5-130">Isso preparará novos objetos de contato Olá conector AAD.</span><span class="sxs-lookup"><span data-stu-id="d99f5-130">This will stage new contact objects in hello AAD Connector.</span></span> <span data-ttu-id="d99f5-131">Nós mais tarde quando importar e sincronizar floresta segundo Olá, vamos localizar Olá usuários reais e uni-los toohello objetos do metaverso existentes.</span><span class="sxs-lookup"><span data-stu-id="d99f5-131">When we later import and synchronize hello second forest, we will find hello real users and join them toohello existing metaverse objects.</span></span> <span data-ttu-id="d99f5-132">Em seguida, vamos excluir o objeto de contato Olá no AAD e criar um novo objeto de usuário em vez disso.</span><span class="sxs-lookup"><span data-stu-id="d99f5-132">We will then delete hello contact object in AAD and create a new user object instead.</span></span>

<span data-ttu-id="d99f5-133">Se você tiver uma topologia onde usuários são representados como contatos, certifique-se de que selecionar usuários toomatch no atributo de email Olá no guia de instalação de saudação.</span><span class="sxs-lookup"><span data-stu-id="d99f5-133">If you have a topology where users are represented as contacts, make sure you select toomatch users on hello mail attribute in hello installation guide.</span></span> <span data-ttu-id="d99f5-134">Se você selecionar outra opção, terá uma configuração dependente de pedido.</span><span class="sxs-lookup"><span data-stu-id="d99f5-134">If you select another option, then you will have an order dependent configuration.</span></span> <span data-ttu-id="d99f5-135">Objetos de contato sempre ingressará no atributo de email Olá, mas os objetos de usuário só serão ingressados no atributo de mensagem de saudação se essa opção foi selecionada no guia de instalação de saudação.</span><span class="sxs-lookup"><span data-stu-id="d99f5-135">Contact objects will always join on hello mail attribute, but user objects will only join on hello mail attribute if this option was selected in hello installation guide.</span></span> <span data-ttu-id="d99f5-136">Você poderia terminar com dois objetos diferentes no metaverso Olá com hello mesmo atributo de email se o objeto de contato Olá foi importado antes do objeto de usuário hello.</span><span class="sxs-lookup"><span data-stu-id="d99f5-136">You could then end up with two different objects in hello metaverse with hello same mail attribute if hello contact object was imported before hello user object.</span></span> <span data-ttu-id="d99f5-137">Durante a exportação tooAzure AD, um erro será gerado.</span><span class="sxs-lookup"><span data-stu-id="d99f5-137">During export tooAzure AD, an error will be thrown.</span></span> <span data-ttu-id="d99f5-138">Esse comportamento ocorre por design e pode indicar dados incorretos ou essa topologia Olá não foi corretamente identificada durante a instalação de saudação.</span><span class="sxs-lookup"><span data-stu-id="d99f5-138">This behavior is by design and would indicate bad data or that hello topology was not correctly identified during hello installation.</span></span>

## <a name="disabled-accounts"></a><span data-ttu-id="d99f5-139">Contas desabilitadas</span><span class="sxs-lookup"><span data-stu-id="d99f5-139">Disabled accounts</span></span>
<span data-ttu-id="d99f5-140">As contas desabilitadas também são sincronizadas tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="d99f5-140">Disabled accounts are synchronized as well tooAzure AD.</span></span> <span data-ttu-id="d99f5-141">As contas desabilitadas são recursos comuns de toorepresent no Exchange, como salas de conferência.</span><span class="sxs-lookup"><span data-stu-id="d99f5-141">Disabled accounts are common toorepresent resources in Exchange, for example conference rooms.</span></span> <span data-ttu-id="d99f5-142">exceção de saudação é usuários com uma caixa de correio vinculada; Como mencionado anteriormente, eles nunca provisionarão uma tooAzure conta AD.</span><span class="sxs-lookup"><span data-stu-id="d99f5-142">hello exception is users with a linked mailbox; as previously mentioned, these will never provision an account tooAzure AD.</span></span>

<span data-ttu-id="d99f5-143">suposição Olá é que, se uma conta de usuário desabilitada for encontrada, então não encontraremos outra conta ativa posteriormente e objeto Olá é provisionado tooAzure AD com hello userPrincipalName e sourceAnchor encontrados.</span><span class="sxs-lookup"><span data-stu-id="d99f5-143">hello assumption is that if a disabled user account is found, then we will not find another active account later and hello object is provisioned tooAzure AD with hello userPrincipalName and sourceAnchor found.</span></span> <span data-ttu-id="d99f5-144">Caso outra conta ativa ingresse toohello mesmo objeto de metaverso, então seu userPrincipalName e sourceAnchor será usado.</span><span class="sxs-lookup"><span data-stu-id="d99f5-144">In case another active account will join toohello same metaverse object, then its userPrincipalName and sourceAnchor will be used.</span></span>

## <a name="changing-sourceanchor"></a><span data-ttu-id="d99f5-145">Alterando o sourceAnchor</span><span class="sxs-lookup"><span data-stu-id="d99f5-145">Changing sourceAnchor</span></span>
<span data-ttu-id="d99f5-146">Quando um objeto tiver sido exportado tooAzure AD, em seguida, ele não é permitido toochange Olá sourceAnchor mais.</span><span class="sxs-lookup"><span data-stu-id="d99f5-146">When an object has been exported tooAzure AD then it is not allowed toochange hello sourceAnchor anymore.</span></span> <span data-ttu-id="d99f5-147">Quando o objeto de saudação foi o atributo do metaverso hello exportada **cloudSourceAnchor** é definido com hello **sourceAnchor** valor aceito pelo AD do Azure.</span><span class="sxs-lookup"><span data-stu-id="d99f5-147">When hello object has been exported hello metaverse attribute **cloudSourceAnchor** is set with hello **sourceAnchor** value accepted by Azure AD.</span></span> <span data-ttu-id="d99f5-148">Se **sourceAnchor** é alterado e não corresponder **cloudSourceAnchor**, regra Olá **Out tooAAD – ingresso de usuário** gerará o erro Olá **atributo sourceAnchor foi alterado**.</span><span class="sxs-lookup"><span data-stu-id="d99f5-148">If **sourceAnchor** is changed and not match **cloudSourceAnchor**, hello rule **Out tooAAD – User Join** will throw hello error **sourceAnchor attribute has changed**.</span></span> <span data-ttu-id="d99f5-149">Nesse caso, a saudação configuração ou os dados devem ser corrigidos Olá assim mesmo sourceAnchor esteja presente no metaverso Olá novamente antes de objeto Olá pode ser sincronizado novamente.</span><span class="sxs-lookup"><span data-stu-id="d99f5-149">In this case, hello configuration or data must be corrected so hello same sourceAnchor is present in hello metaverse again before hello object can be synchronized again.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="d99f5-150">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="d99f5-150">Additional Resources</span></span>
* [<span data-ttu-id="d99f5-151">Azure AD Connect Sync: personalizando opções de sincronização</span><span class="sxs-lookup"><span data-stu-id="d99f5-151">Azure AD Connect Sync: Customizing Synchronization options</span></span>](active-directory-aadconnectsync-whatis.md)
* [<span data-ttu-id="d99f5-152">Integração de suas identidades locais com o Active Directory do Azure</span><span class="sxs-lookup"><span data-stu-id="d99f5-152">Integrating your on-premises identities with Azure Active Directory</span></span>](active-directory-aadconnect.md)

