---
title: conectores de Proxy de aplicativo aaaUnderstand AD do Azure | Microsoft Docs
description: "Abrange Olá Noções básicas sobre conectores de Proxy de aplicativo do Azure AD."
services: active-directory
documentationcenter: 
author: kgremban
manager: femila
ms.assetid: 
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/03/2017
ms.author: kgremban
ms.reviewer: harshja
ms.custom: it-pro
ms.openlocfilehash: 294cb26803ef7cf8be9f3af0678d6d2e64f6cc14
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="understand-azure-ad-application-proxy-connectors"></a><span data-ttu-id="0ce59-103">Noções básicas sobre conectores de Proxy de Aplicativo Azure AD</span><span class="sxs-lookup"><span data-stu-id="0ce59-103">Understand Azure AD Application Proxy connectors</span></span>

<span data-ttu-id="0ce59-104">Os conectores são o que torna o Proxy de Aplicativo Azure AD possível.</span><span class="sxs-lookup"><span data-stu-id="0ce59-104">Connectors are what make Azure AD Application Proxy possible.</span></span> <span data-ttu-id="0ce59-105">Eles são toodeploy simple e fácil manter e super avançado.</span><span class="sxs-lookup"><span data-stu-id="0ce59-105">They are simple, easy toodeploy and maintain, and super powerful.</span></span> <span data-ttu-id="0ce59-106">Este artigo aborda os conectores que são, como eles funcionam e algumas sugestões de como toooptimize sua implantação.</span><span class="sxs-lookup"><span data-stu-id="0ce59-106">This article discusses what connectors are, how they work, and some suggestions for how toooptimize your deployment.</span></span> 

## <a name="what-is-an-application-proxy-connector"></a><span data-ttu-id="0ce59-107">O que é um conector do Proxy de Aplicativo</span><span class="sxs-lookup"><span data-stu-id="0ce59-107">What is an Application Proxy connector</span></span>

<span data-ttu-id="0ce59-108">Conectores são leves agentes que ficam no local e facilitam o serviço de Proxy de aplicativo de toohello Olá conexão de saída.</span><span class="sxs-lookup"><span data-stu-id="0ce59-108">Connectors are lightweight agents that sit on-premises and facilitate hello outbound connection toohello Application Proxy service.</span></span> <span data-ttu-id="0ce59-109">Conectores devem ser instalados em um servidor Windows que tenha o aplicativo de back-end do access toohello.</span><span class="sxs-lookup"><span data-stu-id="0ce59-109">Connectors must be installed on a Windows Server that has access toohello backend application.</span></span> <span data-ttu-id="0ce59-110">Você pode organizar os conectores em grupos de conector, a cada grupo de aplicativos de toospecific de tráfego de tratamento.</span><span class="sxs-lookup"><span data-stu-id="0ce59-110">You can organize connectors into connector groups, with each group handling traffic toospecific applications.</span></span> <span data-ttu-id="0ce59-111">Balanceamento de carga de conectores automaticamente e pode ajudar a toooptimize sua estrutura de rede.</span><span class="sxs-lookup"><span data-stu-id="0ce59-111">Connectors load-balance automatically, and can help toooptimize your network structure.</span></span> 

## <a name="requirements-and-deployment"></a><span data-ttu-id="0ce59-112">Requisitos e implantação</span><span class="sxs-lookup"><span data-stu-id="0ce59-112">Requirements and deployment</span></span>

<span data-ttu-id="0ce59-113">toodeploy Proxy de aplicativo com êxito, é necessário pelo menos um conector, mas recomendamos dois ou mais para maior capacidade de recuperação.</span><span class="sxs-lookup"><span data-stu-id="0ce59-113">toodeploy Application Proxy successfully, you need at least one connector, but we recommend two or more for greater resiliency.</span></span> <span data-ttu-id="0ce59-114">Instale o conector de saudação em um Windows Server 2012 R2 ou uma máquina de 2016.</span><span class="sxs-lookup"><span data-stu-id="0ce59-114">Install hello connector on a Windows Server 2012 R2 or 2016 machine.</span></span> <span data-ttu-id="0ce59-115">conector de saudação precisa toocommunicate capaz de toobe com o serviço de Proxy de aplicativo hello, bem como aplicativos de locais de saudação que você publicar.</span><span class="sxs-lookup"><span data-stu-id="0ce59-115">hello connector needs toobe able toocommunicate with hello Application Proxy service as well as hello on-premises applications that you publish.</span></span> 

<span data-ttu-id="0ce59-116">Para obter mais informações sobre os requisitos de rede Olá para o servidor de conector hello, consulte [Introdução ao Proxy de aplicativo e instalar um conector](active-directory-application-proxy-enable.md).</span><span class="sxs-lookup"><span data-stu-id="0ce59-116">For more information about hello network requirements for hello connector server, see [Get started with Application Proxy and install a connector](active-directory-application-proxy-enable.md).</span></span>

## <a name="maintenance"></a><span data-ttu-id="0ce59-117">Manutenção </span><span class="sxs-lookup"><span data-stu-id="0ce59-117">Maintenance</span></span>
<span data-ttu-id="0ce59-118">Olá conectores e serviço Olá cuidam de todas as tarefas de alta disponibilidade de saudação.</span><span class="sxs-lookup"><span data-stu-id="0ce59-118">hello connectors and hello service take care of all hello high availability tasks.</span></span> <span data-ttu-id="0ce59-119">Eles podem ser adicionados ou removidos dinamicamente.</span><span class="sxs-lookup"><span data-stu-id="0ce59-119">They can be added or removed dynamically.</span></span> <span data-ttu-id="0ce59-120">Cada vez que uma nova solicitação chega é roteado tooone dos conectores Olá que está disponível no momento.</span><span class="sxs-lookup"><span data-stu-id="0ce59-120">Each time a new request arrives it is routed tooone of hello connectors that is currently available.</span></span> <span data-ttu-id="0ce59-121">Se um conector temporariamente não estiver disponível, ele não responder toothis tráfego.</span><span class="sxs-lookup"><span data-stu-id="0ce59-121">If a connector is temporarily not available, it doesn't respond toothis traffic.</span></span>

<span data-ttu-id="0ce59-122">conectores de saudação são sem monitoração de estado e não tem nenhum dado de configuração no computador de saudação.</span><span class="sxs-lookup"><span data-stu-id="0ce59-122">hello connectors are stateless and have no configuration data on hello machine.</span></span> <span data-ttu-id="0ce59-123">Olá apenas os dados que eles armazenam são configurações Olá para conectar-se o serviço hello e seu certificado de autenticação.</span><span class="sxs-lookup"><span data-stu-id="0ce59-123">hello only data they store is hello settings for connecting hello service and its authentication certificate.</span></span> <span data-ttu-id="0ce59-124">Quando eles se conectam toohello serviço, eles pull todos os dados de configuração de saudação necessário e atualização-lo a cada dois minutos.</span><span class="sxs-lookup"><span data-stu-id="0ce59-124">When they connect toohello service, they pull all hello required configuration data and refresh it every couple of minutes.</span></span>

<span data-ttu-id="0ce59-125">Conectores também sondagem Olá server toofind se há uma versão mais recente do conector de saudação.</span><span class="sxs-lookup"><span data-stu-id="0ce59-125">Connectors also poll hello server toofind out whether there is a newer version of hello connector.</span></span> <span data-ttu-id="0ce59-126">Se for encontrado, conectores Olá atualizam-se.</span><span class="sxs-lookup"><span data-stu-id="0ce59-126">If one is found, hello connectors update themselves.</span></span>

<span data-ttu-id="0ce59-127">Você pode monitorar seus conectores da máquina Olá que eles estão em execução, usando Olá log de eventos e contadores de desempenho.</span><span class="sxs-lookup"><span data-stu-id="0ce59-127">You can monitor your connectors from hello machine they are running on, using either hello event log and performance counters.</span></span> <span data-ttu-id="0ce59-128">Ou você pode exibir o status da página de Proxy de aplicativo de saudação do hello portal do Azure:</span><span class="sxs-lookup"><span data-stu-id="0ce59-128">Or you can view their status from hello Application Proxy page of hello Azure portal:</span></span>

 ![Conectores do Proxy de Aplicativo Azure AD](./media/application-proxy-understand-connectors/app-proxy-connectors.png)

<span data-ttu-id="0ce59-130">Você não tem toomanually excluir os conectores que não foram utilizadas.</span><span class="sxs-lookup"><span data-stu-id="0ce59-130">You don't have toomanually delete connectors that are unused.</span></span> <span data-ttu-id="0ce59-131">Quando um conector é executado, ele permanece ativo, como ele se conecta toohello serviço.</span><span class="sxs-lookup"><span data-stu-id="0ce59-131">When a connector is running, it remains active as it connects toohello service.</span></span> <span data-ttu-id="0ce59-132">Os conectores não utilizados são marcados como _inativos_ e são removidos depois de 10 dias de inatividade.</span><span class="sxs-lookup"><span data-stu-id="0ce59-132">Unused connectors are tagged as _inactive_ and are removed after 10 days of inactivity.</span></span> <span data-ttu-id="0ce59-133">Se você quiser toouninstall um conector, desinstale, serviço de conector hello e o serviço do atualizador de saudação do servidor de saudação.</span><span class="sxs-lookup"><span data-stu-id="0ce59-133">If you do want toouninstall a connector, though, uninstall both hello Connector service and hello Updater service from hello server.</span></span> <span data-ttu-id="0ce59-134">Reinicie o serviço de saudação do computador toofully remover.</span><span class="sxs-lookup"><span data-stu-id="0ce59-134">Restart your computer toofully remove hello service.</span></span>

## <a name="automatic-updates"></a><span data-ttu-id="0ce59-135">Atualizações automáticas</span><span class="sxs-lookup"><span data-stu-id="0ce59-135">Automatic updates</span></span>

<span data-ttu-id="0ce59-136">O AD do Azure fornece atualizações automáticas para todos os conectores de saudação que você implanta.</span><span class="sxs-lookup"><span data-stu-id="0ce59-136">Azure AD provides automatic updates for all hello connectors that you deploy.</span></span> <span data-ttu-id="0ce59-137">Como Olá serviço atualizador do conector de Proxy de aplicativo está em execução, os conectores são atualizadas automaticamente.</span><span class="sxs-lookup"><span data-stu-id="0ce59-137">As long as hello Application Proxy Connector Updater service is running, your connectors update automatically.</span></span> <span data-ttu-id="0ce59-138">Se você não vir Olá serviço atualizador do conector no servidor, você precisa muito[reinstalar seu conector](active-directory-application-proxy-enable.md) tooget todas as atualizações.</span><span class="sxs-lookup"><span data-stu-id="0ce59-138">If you don’t see hello Connector Updater service on your server, you need too[reinstall your connector](active-directory-application-proxy-enable.md) tooget any updates.</span></span> 

<span data-ttu-id="0ce59-139">Se você não quiser toowait para um conector de tooyour toocome atualização automática, você pode executar uma atualização manual.</span><span class="sxs-lookup"><span data-stu-id="0ce59-139">If you don't want toowait for an automatic update toocome tooyour connector, you can perform a manual upgrade.</span></span> <span data-ttu-id="0ce59-140">Vá toohello [página de download do conector](https://download.msappproxy.net/subscription/d3c8b69d-6bf7-42be-a529-3fe9c2e70c90/connector/download) no servidor de saudação em que o conector está localizado e selecione **baixar**.</span><span class="sxs-lookup"><span data-stu-id="0ce59-140">Go toohello [connector download page](https://download.msappproxy.net/subscription/d3c8b69d-6bf7-42be-a529-3fe9c2e70c90/connector/download) on hello server where your connector is located and select **Download**.</span></span> <span data-ttu-id="0ce59-141">Esse processo inicia uma atualização para o conector local hello.</span><span class="sxs-lookup"><span data-stu-id="0ce59-141">This process kicks off an upgrade for hello local connector.</span></span> 

<span data-ttu-id="0ce59-142">Para locatários com vários conectores, as atualizações automáticas Olá destino um conector de cada vez em cada grupo tooprevent o tempo de inatividade em seu ambiente.</span><span class="sxs-lookup"><span data-stu-id="0ce59-142">For tenants with multiple connectors, hello automatic updates target one connector at a time in each group tooprevent downtime in your environment.</span></span> 

<span data-ttu-id="0ce59-143">Poderá ocorrer tempo de inatividade quando o conector for atualizado se:</span><span class="sxs-lookup"><span data-stu-id="0ce59-143">You may experience downtime when your connector updates if:</span></span>  
- <span data-ttu-id="0ce59-144">Você só tiver um conector.</span><span class="sxs-lookup"><span data-stu-id="0ce59-144">You only have one connector.</span></span> <span data-ttu-id="0ce59-145">tooavoid esse tempo de inatividade e melhorar a alta disponibilidade, recomendamos que você instale um segundo conector e [criar um grupo de conector](active-directory-application-proxy-connectors-azure-portal.md).</span><span class="sxs-lookup"><span data-stu-id="0ce59-145">tooavoid this downtime and improve high availability, we recommend you install a second connector and [create a connector group](active-directory-application-proxy-connectors-azure-portal.md).</span></span>  
- <span data-ttu-id="0ce59-146">Um conector estava no meio de saudação de uma transação quando atualização Olá começou.</span><span class="sxs-lookup"><span data-stu-id="0ce59-146">A connector was in hello middle of a transaction when hello update began.</span></span> <span data-ttu-id="0ce59-147">Embora a transação de saudação inicial for perdida, seu navegador automaticamente deve repetir a operação de hello ou você pode atualizar a página.</span><span class="sxs-lookup"><span data-stu-id="0ce59-147">Although hello initial transaction is lost, your browser should automatically retry hello operation or you can refresh your page.</span></span> <span data-ttu-id="0ce59-148">Quando a solicitação de saudação é enviado novamente, o tráfego de Olá é roteado tooa conector de backup.</span><span class="sxs-lookup"><span data-stu-id="0ce59-148">When hello request is resent, hello traffic is routed tooa backup connector.</span></span>

## <a name="creating-connector-groups"></a><span data-ttu-id="0ce59-149">Criando grupos de conector</span><span class="sxs-lookup"><span data-stu-id="0ce59-149">Creating connector groups</span></span>

<span data-ttu-id="0ce59-150">Grupos de conector habilitar aplicativos específicos do tooserve tooassign conectores específicos.</span><span class="sxs-lookup"><span data-stu-id="0ce59-150">Connector groups enable you tooassign specific connectors tooserve specific applications.</span></span> <span data-ttu-id="0ce59-151">Você pode agrupar um número de conectores e, em seguida, atribua cada grupo de tooa de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="0ce59-151">You can group a number of connectors together, and then assign each application tooa group.</span></span> 

<span data-ttu-id="0ce59-152">Grupos de conector tornam mais fácil toomanage grandes implantações.</span><span class="sxs-lookup"><span data-stu-id="0ce59-152">Connector groups make it easier toomanage large deployments.</span></span> <span data-ttu-id="0ce59-153">Eles também melhoram a latência para locatários que têm aplicativos hospedados em regiões diferentes, como você pode criar grupos de conector com base no local de aplicativos locais somente tooserve.</span><span class="sxs-lookup"><span data-stu-id="0ce59-153">They also improve latency for tenants that have applications hosted in different regions, because you can create location-based connector groups tooserve only local applications.</span></span> 

<span data-ttu-id="0ce59-154">toolearn mais sobre grupos de conector, consulte [publicar aplicativos em redes separadas e locais usando grupos de conector](active-directory-application-proxy-connectors-azure-portal.md).</span><span class="sxs-lookup"><span data-stu-id="0ce59-154">toolearn more about connector groups, see [Publish applications on separate networks and locations using connector groups](active-directory-application-proxy-connectors-azure-portal.md).</span></span>

## <a name="security-and-networking"></a><span data-ttu-id="0ce59-155">Rede e segurança</span><span class="sxs-lookup"><span data-stu-id="0ce59-155">Security and networking</span></span>

<span data-ttu-id="0ce59-156">Conectores podem ser instalados em qualquer lugar na rede de saudação que lhes permite serviço de Proxy de aplicativo de toohello toosend solicitações.</span><span class="sxs-lookup"><span data-stu-id="0ce59-156">Connectors can be installed anywhere on hello network that allows them toosend requests toohello Application Proxy service.</span></span> <span data-ttu-id="0ce59-157">O importante é que o computador Olá que executam o conector Olá também tem acesso tooyour aplicativos.</span><span class="sxs-lookup"><span data-stu-id="0ce59-157">What's important is that hello computer running hello connector also has access tooyour apps.</span></span> <span data-ttu-id="0ce59-158">Você pode instalar conectores dentro de sua rede corporativa, ou em uma máquina virtual que é executado na nuvem hello.</span><span class="sxs-lookup"><span data-stu-id="0ce59-158">You can install connectors inside of your corporate network or on a virtual machine that runs in hello cloud.</span></span> <span data-ttu-id="0ce59-159">Os conectores podem ser executados em uma DMZ (zona desmilitarizada), mas não é necessário porque todo o tráfego é de saída e, portanto, sua rede fica segura.</span><span class="sxs-lookup"><span data-stu-id="0ce59-159">Connectors can run within a demilitarized zone (DMZ), but it's not necessary because all traffic is outbound so your network stays secure.</span></span>

<span data-ttu-id="0ce59-160">Os conectores só enviam solicitações de saída.</span><span class="sxs-lookup"><span data-stu-id="0ce59-160">Connectors only send outbound requests.</span></span> <span data-ttu-id="0ce59-161">o tráfego de saída Olá enviado toohello serviço de Proxy de aplicativo e toohello aplicativos publicados.</span><span class="sxs-lookup"><span data-stu-id="0ce59-161">hello outbound traffic is sent toohello Application Proxy service and toohello published applications.</span></span> <span data-ttu-id="0ce59-162">Você não tem tooopen portas de entrada porque o tráfego passa ambos os modos após o estabelecimento de uma sessão.</span><span class="sxs-lookup"><span data-stu-id="0ce59-162">You don't have tooopen inbound ports because traffic flows both ways once a session is established.</span></span> <span data-ttu-id="0ce59-163">Você não tiver tooset o balanceamento de carga entre os conectores de saudação ou configurar o acesso de entrada por meio de seus firewalls.</span><span class="sxs-lookup"><span data-stu-id="0ce59-163">You don't have tooset up load balancing between hello connectors or configure inbound access through your firewalls.</span></span> 

<span data-ttu-id="0ce59-164">Para saber mais sobre como configurar regras de firewall de saída, confira [Trabalhar com servidores proxy locais existentes](application-proxy-working-with-proxy-servers.md).</span><span class="sxs-lookup"><span data-stu-id="0ce59-164">For more information about configuring outbound firewall rules, see [Work with existing on-premises proxy servers](application-proxy-working-with-proxy-servers.md).</span></span>

<span data-ttu-id="0ce59-165">Saudação de uso [ferramenta de teste das portas conector do Azure AD aplicativo Proxy](https://aadap-portcheck.connectorporttest.msappproxy.net/) tooverify que seu conector possa acessar o serviço de Proxy de aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="0ce59-165">Use hello [Azure AD Application Proxy Connector Ports Test Tool](https://aadap-portcheck.connectorporttest.msappproxy.net/) tooverify that your connector can reach hello Application Proxy service.</span></span> <span data-ttu-id="0ce59-166">No mínimo, certifique-se de que que a região do hello centro dos EUA e Olá região mais próxima tooyou tenham todas as marcas de seleção verdes.</span><span class="sxs-lookup"><span data-stu-id="0ce59-166">At a minimum, make sure that hello Central US region and hello region closest tooyou have all green checkmarks.</span></span> <span data-ttu-id="0ce59-167">Além disso, um número maior de marcas de seleção verdes significa maior resiliência.</span><span class="sxs-lookup"><span data-stu-id="0ce59-167">Beyond that, more green checkmarks means greater resiliency.</span></span> 

## <a name="performance-and-scalability"></a><span data-ttu-id="0ce59-168">Desempenho e escala</span><span class="sxs-lookup"><span data-stu-id="0ce59-168">Performance and scalability</span></span>

<span data-ttu-id="0ce59-169">Escala para Olá serviço Proxy de aplicativo é transparente, mas a escala é um fator para conectores.</span><span class="sxs-lookup"><span data-stu-id="0ce59-169">Scale for hello Application Proxy service is transparent, but scale is a factor for connectors.</span></span> <span data-ttu-id="0ce59-170">Você precisa de tráfego de pico suficiente conectores toohandle toohave.</span><span class="sxs-lookup"><span data-stu-id="0ce59-170">You need toohave enough connectors toohandle peak traffic.</span></span> <span data-ttu-id="0ce59-171">No entanto, você não precisa tooconfigure balanceamento de carga porque todos os conectores dentro de um grupo de conector automaticamente o balanceamento de carga.</span><span class="sxs-lookup"><span data-stu-id="0ce59-171">However, you don't need tooconfigure load balancing because all connectors within a connector group automatically load balance.</span></span>

<span data-ttu-id="0ce59-172">Desde que os conectores são sem monitoração de estado, eles não são afetados pelo número de saudação de usuários ou sessões.</span><span class="sxs-lookup"><span data-stu-id="0ce59-172">Since connectors are stateless, they are not affected by hello number of users or sessions.</span></span> <span data-ttu-id="0ce59-173">Em vez disso, eles respondem toohello o número de solicitações e seu tamanho de carga.</span><span class="sxs-lookup"><span data-stu-id="0ce59-173">Instead, they respond toohello number of requests and their payload size.</span></span> <span data-ttu-id="0ce59-174">Com o tráfego padrão da Web, um computador médio pode manipular milhares de solicitações por segundo.</span><span class="sxs-lookup"><span data-stu-id="0ce59-174">With standard web traffic, an average machine can handle a couple thousand requests per second.</span></span> <span data-ttu-id="0ce59-175">capacidade específica Olá depende de características do computador exata de saudação.</span><span class="sxs-lookup"><span data-stu-id="0ce59-175">hello specific capacity depends on hello exact machine characteristics.</span></span> 

<span data-ttu-id="0ce59-176">desempenho do conector Olá é associado por CPU e de rede.</span><span class="sxs-lookup"><span data-stu-id="0ce59-176">hello connector performance is bound by CPU and networking.</span></span> <span data-ttu-id="0ce59-177">Desempenho da CPU é necessária para criptografia SSL e descriptografia, enquanto a rede é importante tooget aplicativos de toohello de conectividade rápida e serviço on-line de saudação no Azure.</span><span class="sxs-lookup"><span data-stu-id="0ce59-177">CPU performance is needed for SSL encryption and decryption, while networking is important tooget fast connectivity toohello applications and hello online service in Azure.</span></span>

<span data-ttu-id="0ce59-178">Por outro lado, a memória é uma questão menos significativa para os conectores.</span><span class="sxs-lookup"><span data-stu-id="0ce59-178">In contrast, memory is less of an issue for connectors.</span></span> <span data-ttu-id="0ce59-179">serviço on-line Olá cuida grande parte do processamento de saudação e todo o tráfego não autenticado.</span><span class="sxs-lookup"><span data-stu-id="0ce59-179">hello online service takes care of much of hello processing and all unauthenticated traffic.</span></span> <span data-ttu-id="0ce59-180">Tudo o que pode ser feito na nuvem Olá é feito na nuvem hello.</span><span class="sxs-lookup"><span data-stu-id="0ce59-180">Everything that can be done in hello cloud is done in hello cloud.</span></span> 

<span data-ttu-id="0ce59-181">Outro fator que afeta o desempenho é a qualidade de saudação da rede Olá entre conectores hello, incluindo:</span><span class="sxs-lookup"><span data-stu-id="0ce59-181">Another factor that affects performance is hello quality of hello networking between hello connectors, including:</span></span> 

* <span data-ttu-id="0ce59-182">**Olá serviço on-line**: conexões lentas ou alta latência toohello serviço de Proxy de aplicativo no desempenho do conector Olá influência do Azure.</span><span class="sxs-lookup"><span data-stu-id="0ce59-182">**hello online service**: Slow or high-latency connections toohello Application Proxy service in Azure influence hello connector performance.</span></span> <span data-ttu-id="0ce59-183">Para melhor desempenho de hello, conecte-se tooAzure sua organização com a rota expressa.</span><span class="sxs-lookup"><span data-stu-id="0ce59-183">For hello best performance, connect your organization tooAzure with Express Route.</span></span> <span data-ttu-id="0ce59-184">Caso contrário, tem sua equipe da rede Certifique-se de que tooAzure conexões são tratadas mais eficiente possível.</span><span class="sxs-lookup"><span data-stu-id="0ce59-184">Otherwise, have your networking team ensure that connections tooAzure are handled as efficiently as possible.</span></span> 
* <span data-ttu-id="0ce59-185">**Olá aplicativos de back-end**: em alguns casos, há outros proxies entre conector hello e aplicativos de back-end de saudação que podem reduzir ou impedir conexões.</span><span class="sxs-lookup"><span data-stu-id="0ce59-185">**hello backend applications**: In some cases, there are additional proxies between hello connector and hello backend applications that can slow or prevent connections.</span></span> <span data-ttu-id="0ce59-186">tootroubleshoot neste cenário, abra um navegador do servidor de conector hello e tente o aplicativo de hello tooaccess.</span><span class="sxs-lookup"><span data-stu-id="0ce59-186">tootroubleshoot this scenario, open a browser from hello connector server and try tooaccess hello application.</span></span> <span data-ttu-id="0ce59-187">Se você executar conectores Olá no Azure, mas aplicativos Olá estão no local, a experiência de saudação pode não ser espera que seus usuários.</span><span class="sxs-lookup"><span data-stu-id="0ce59-187">If you run hello connectors in Azure but hello applications are on-premises, hello experience might not be what your users expect.</span></span>
* <span data-ttu-id="0ce59-188">**Olá controladores de domínio**: se os conectores Olá executam o SSO usando a delegação restrita de Kerberos, eles entre em contato com controladores de domínio de saudação antes do envio de back-end do hello solicitação toohello.</span><span class="sxs-lookup"><span data-stu-id="0ce59-188">**hello domain controllers**: If hello connectors perform SSO using Kerberos Constrained Delegation, they contact hello domain controllers before sending hello request toohello backend.</span></span> <span data-ttu-id="0ce59-189">conectores de saudação têm um cache de tíquetes Kerberos, mas em um ambiente de ocupado capacidade de resposta Olá Olá de controladores de domínio pode afetar o desempenho.</span><span class="sxs-lookup"><span data-stu-id="0ce59-189">hello connectors have a cache of Kerberos tickets, but in a busy environment hello responsiveness of hello domain controllers can affect performance.</span></span> <span data-ttu-id="0ce59-190">Esse problema é mais comum em conectores executados no Azure, mas que se comunicam com os controladores de domínio locais.</span><span class="sxs-lookup"><span data-stu-id="0ce59-190">This issue is more common for connectors that run in Azure but communicate with domain controllers that are on-premises.</span></span> 

<span data-ttu-id="0ce59-191">Para saber mais sobre como otimizar sua rede, confira [Considerações sobre a topologia de rede ao usar o Proxy de Aplicativo do Azure Active Directory](application-proxy-network-topology-considerations.md).</span><span class="sxs-lookup"><span data-stu-id="0ce59-191">For more information about optimizing your network, see [Network topology considerations when using Azure Active Directory Application Proxy](application-proxy-network-topology-considerations.md).</span></span>

## <a name="domain-joining"></a><span data-ttu-id="0ce59-192">Ingresso no domínio</span><span class="sxs-lookup"><span data-stu-id="0ce59-192">Domain joining</span></span>

<span data-ttu-id="0ce59-193">Os conectores podem ser executados em um computador que não foi ingressado no domínio.</span><span class="sxs-lookup"><span data-stu-id="0ce59-193">Connectors can run on a machine that is not domain-joined.</span></span> <span data-ttu-id="0ce59-194">No entanto, se você quiser single sign-on (SSO) tooapplications que usam a autenticação do Windows integrada (IWA), você precisa de um computador ingressado no domínio.</span><span class="sxs-lookup"><span data-stu-id="0ce59-194">However, if you want single sign-on (SSO) tooapplications that use Integrated Windows Authentication (IWA), you need a domain-joined machine.</span></span> <span data-ttu-id="0ce59-195">Nesse caso, máquinas de conector Olá devem ser tooa ingressado no domínio que pode executar [Kerberos](https://web.mit.edu/kerberos) delegação restrita em nome dos usuários Olá para Olá publicado os aplicativos.</span><span class="sxs-lookup"><span data-stu-id="0ce59-195">In this case, hello connector machines must be joined tooa domain that can perform [Kerberos](https://web.mit.edu/kerberos) Constrained Delegation on behalf of hello users for hello published applications.</span></span>

<span data-ttu-id="0ce59-196">Conectores também podem ser unidas toodomains ou florestas que têm uma relação de confiança parcial, ou controladores de domínio somente tooread.</span><span class="sxs-lookup"><span data-stu-id="0ce59-196">Connectors can also be joined toodomains or forests that have a partial trust, or tooread-only domain controllers.</span></span>

## <a name="connector-deployments-on-hardened-environments"></a><span data-ttu-id="0ce59-197">Implantações de conector em ambientes protegidos</span><span class="sxs-lookup"><span data-stu-id="0ce59-197">Connector deployments on hardened environments</span></span>

<span data-ttu-id="0ce59-198">Normalmente, a implantação do conector é simples e não exige nenhuma configuração especial.</span><span class="sxs-lookup"><span data-stu-id="0ce59-198">Usually, connector deployment is straightforward and requires no special configuration.</span></span> <span data-ttu-id="0ce59-199">No entanto, há algumas condições exclusivas que devem ser consideradas:</span><span class="sxs-lookup"><span data-stu-id="0ce59-199">However, there are some unique conditions that should be considered:</span></span>

* <span data-ttu-id="0ce59-200">As organizações que limitam o tráfego de saída Olá devem [abrir as portas necessárias](active-directory-application-proxy-enable.md#open-your-ports).</span><span class="sxs-lookup"><span data-stu-id="0ce59-200">Organizations that limit hello outbound traffic must [open required ports](active-directory-application-proxy-enable.md#open-your-ports).</span></span>
* <span data-ttu-id="0ce59-201">Máquinas compatíveis com FIPS podem ser necessária toochange tooallow sua configuração Olá toogenerate de processos do conector e armazenar um certificado.</span><span class="sxs-lookup"><span data-stu-id="0ce59-201">FIPS-compliant machines might be required toochange their configuration tooallow hello connector processes toogenerate and store a certificate.</span></span>
* <span data-ttu-id="0ce59-202">As organizações que bloqueiam seu ambiente com base em processos Olá Olá esse problema que solicitações de rede ter toomake se ambos os serviços do conector estão habilitados tooaccess todas as necessárias portas e IPs.</span><span class="sxs-lookup"><span data-stu-id="0ce59-202">Organizations that lock down their environment based on hello processes that issue hello networking requests have toomake sure that both connector services are enabled tooaccess all required ports and IPs.</span></span>
* <span data-ttu-id="0ce59-203">Em alguns casos, saída proxies forward podem quebrar a autenticação de certificado bidirecional hello e causar Olá toofail de comunicação.</span><span class="sxs-lookup"><span data-stu-id="0ce59-203">In some cases, outbound forward proxies may break hello two-way certificate authentication and cause hello communication toofail.</span></span>

## <a name="connector-authentication"></a><span data-ttu-id="0ce59-204">Autenticação do conector</span><span class="sxs-lookup"><span data-stu-id="0ce59-204">Connector authentication</span></span>

<span data-ttu-id="0ce59-205">tooprovide um serviço seguro, conectores têm tooauthenticate para serviço hello e serviço Olá tem tooauthenticate para conector de saudação.</span><span class="sxs-lookup"><span data-stu-id="0ce59-205">tooprovide a secure service, connectors have tooauthenticate toward hello service, and hello service has tooauthenticate toward hello connector.</span></span> <span data-ttu-id="0ce59-206">Essa autenticação é feita usando certificados de cliente e servidor quando conectores Olá iniciam conexão hello.</span><span class="sxs-lookup"><span data-stu-id="0ce59-206">This authentication is done using client and server certificates when hello connectors initiate hello connection.</span></span> <span data-ttu-id="0ce59-207">Esse administrador de saudação de maneira nome de usuário e senha não são armazenados no computador do conector de saudação.</span><span class="sxs-lookup"><span data-stu-id="0ce59-207">This way hello administrator’s username and password are not stored on hello connector machine.</span></span>

<span data-ttu-id="0ce59-208">certificados de saudação usados são específicos toohello serviço de Proxy de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="0ce59-208">hello certificates used are specific toohello Application Proxy service.</span></span> <span data-ttu-id="0ce59-209">Elas são criadas durante o registro inicial hello e são automaticamente renovados pelos conectores Olá a cada dois meses.</span><span class="sxs-lookup"><span data-stu-id="0ce59-209">They get created during hello initial registration and are automatically renewed by hello connectors every couple of months.</span></span> 

<span data-ttu-id="0ce59-210">Se não estiver conectado a um conector de serviço toohello para vários meses, seus certificados pode estar desatualizado.</span><span class="sxs-lookup"><span data-stu-id="0ce59-210">If a connector is not connected toohello service for several months, its certificates may be outdated.</span></span> <span data-ttu-id="0ce59-211">Nesse caso, desinstale e reinstale o registro do hello conector tootrigger.</span><span class="sxs-lookup"><span data-stu-id="0ce59-211">In this case, uninstall and reinstall hello connector tootrigger registration.</span></span> <span data-ttu-id="0ce59-212">Você pode executar Olá comandos do PowerShell a seguir:</span><span class="sxs-lookup"><span data-stu-id="0ce59-212">You can run hello following PowerShell commands:</span></span>

```
Import-module AppProxyPSModule
Register-AppProxyConnector
```

## <a name="under-hello-hood"></a><span data-ttu-id="0ce59-213">Bastidores Olá</span><span class="sxs-lookup"><span data-stu-id="0ce59-213">Under hello hood</span></span>

<span data-ttu-id="0ce59-214">Conectores baseiam-se no Proxy de aplicativo do Windows Server Web, portanto, têm a maioria das Olá mesmas ferramentas de gerenciamento, incluindo os Logs de eventos do Windows</span><span class="sxs-lookup"><span data-stu-id="0ce59-214">Connectors are based on Windows Server Web Application Proxy, so they have most of hello same management tools including Windows Event Logs</span></span>

 ![Gerenciar logs de eventos com hello Visualizador de eventos](./media/application-proxy-understand-connectors/event-view-window.png)

<span data-ttu-id="0ce59-216">e contadores de desempenho do Windows.</span><span class="sxs-lookup"><span data-stu-id="0ce59-216">and Windows performance counters.</span></span> 

 ![Adicionar contadores toohello conector com hello Monitor de desempenho](./media/application-proxy-understand-connectors/performance-monitor.png)

<span data-ttu-id="0ce59-218">conectores de saudação têm admin e sessão logs.</span><span class="sxs-lookup"><span data-stu-id="0ce59-218">hello connectors have both admin and session logs.</span></span> <span data-ttu-id="0ce59-219">Olá administrador logs incluem seus erros e eventos importantes.</span><span class="sxs-lookup"><span data-stu-id="0ce59-219">hello admin logs include key events and their errors.</span></span> <span data-ttu-id="0ce59-220">logs de sessão Olá incluem todas as transações de saudação e seus detalhes de processamento.</span><span class="sxs-lookup"><span data-stu-id="0ce59-220">hello session logs include all hello transactions and their processing details.</span></span> 

<span data-ttu-id="0ce59-221">logs de saudação toosee, vá toohello Visualizador de eventos, abra Olá **exibição** menu e habilitar **Mostrar analítica e logs de depuração**.</span><span class="sxs-lookup"><span data-stu-id="0ce59-221">toosee hello logs, go toohello Event Viewer, open hello **View** menu, and enable **Show analytic and debug logs**.</span></span> <span data-ttu-id="0ce59-222">Em seguida, habilitá-las toostart coleta de eventos.</span><span class="sxs-lookup"><span data-stu-id="0ce59-222">Then, enable them toostart collecting events.</span></span> <span data-ttu-id="0ce59-223">Esses logs não aparecem no Proxy de aplicativo Web no Windows Server 2012 R2, como conectores Olá baseiam-se em uma versão mais recente.</span><span class="sxs-lookup"><span data-stu-id="0ce59-223">These logs do not appear in Web Application Proxy in Windows Server 2012 R2, as hello connectors are based on a more recent version.</span></span>

<span data-ttu-id="0ce59-224">Você pode examinar o estado de saudação do serviço de saudação na janela de serviços de saudação.</span><span class="sxs-lookup"><span data-stu-id="0ce59-224">You can examine hello state of hello service in hello Services window.</span></span> <span data-ttu-id="0ce59-225">conector de saudação consiste em dois serviços do Windows: conector real hello e updater hello.</span><span class="sxs-lookup"><span data-stu-id="0ce59-225">hello connector comprises two Windows Services: hello actual connector, and hello updater.</span></span> <span data-ttu-id="0ce59-226">Os dois devem executar todo o tempo de saudação.</span><span class="sxs-lookup"><span data-stu-id="0ce59-226">Both of them must run all hello time.</span></span>

 ![Local dos Serviços do Azure AD](./media/application-proxy-understand-connectors/aad-connector-services.png)

## <a name="next-steps"></a><span data-ttu-id="0ce59-228">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="0ce59-228">Next steps</span></span>


* [<span data-ttu-id="0ce59-229">Publicar aplicativos em redes e locais separados usando grupos de conectores</span><span class="sxs-lookup"><span data-stu-id="0ce59-229">Publish applications on separate networks and locations using connector groups</span></span>](active-directory-application-proxy-connectors-azure-portal.md)
* [<span data-ttu-id="0ce59-230">Trabalhar com servidores proxy locais existentes</span><span class="sxs-lookup"><span data-stu-id="0ce59-230">Work with existing on-premises proxy servers</span></span>](application-proxy-working-with-proxy-servers.md)
* [<span data-ttu-id="0ce59-231">Solucionar erros do conector e do Proxy de Aplicativo</span><span class="sxs-lookup"><span data-stu-id="0ce59-231">Troubleshoot Application Proxy and connector errors</span></span>](active-directory-application-proxy-troubleshoot.md)
* [<span data-ttu-id="0ce59-232">Como instalar o toosilently Olá conector de Proxy de aplicativo do AD do Azure</span><span class="sxs-lookup"><span data-stu-id="0ce59-232">How toosilently install hello Azure AD Application Proxy Connector</span></span>](active-directory-application-proxy-silent-installation.md)

