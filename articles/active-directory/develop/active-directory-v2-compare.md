---
title: "aaaWhat é diferente no ponto de extremidade do hello AD do Azure v 2.0? | Microsoft Docs"
description: "Uma comparação entre hello original do AD do Azure e pontos de extremidade do hello v 2.0."
services: active-directory
documentationcenter: 
author: dstrockis
manager: mbaldwin
editor: 
ms.assetid: 5060da46-b091-4e25-9fa8-af4ae4359b6c
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/01/2017
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: e7ed196f9053fc21db799cd6bc513ba5c2b92885
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="whats-different-about-hello-v20-endpoint"></a><span data-ttu-id="cd60d-104">O que é diferente no ponto de extremidade do hello v 2.0?</span><span class="sxs-lookup"><span data-stu-id="cd60d-104">What's different about hello v2.0 endpoint?</span></span>
<span data-ttu-id="cd60d-105">Se você estiver familiarizado com o Active Directory do Azure ou tiver integrado a aplicativos com o Azure AD em Olá anterior, pode haver algumas diferenças no hello v 2.0 ponto de extremidade não esperado.</span><span class="sxs-lookup"><span data-stu-id="cd60d-105">If you're familiar with Azure Active Directory or have integrated apps with Azure AD in hello past, there may be some differences in hello v2.0 endpoint that you would not expect.</span></span>  <span data-ttu-id="cd60d-106">Este documento chama a atenção para essas diferenças para sua compreensão.</span><span class="sxs-lookup"><span data-stu-id="cd60d-106">This document calls out those differences for your understanding.</span></span>

> [!NOTE]
> <span data-ttu-id="cd60d-107">Nem todos os recursos e cenários de Active Directory do Azure têm suporte pelo ponto de extremidade do hello v 2.0.</span><span class="sxs-lookup"><span data-stu-id="cd60d-107">Not all Azure Active Directory scenarios & features are supported by hello v2.0 endpoint.</span></span>  <span data-ttu-id="cd60d-108">toodetermine se você deve usar o ponto de extremidade de v 2.0 hello, leia sobre [limitações v 2.0](active-directory-v2-limitations.md).</span><span class="sxs-lookup"><span data-stu-id="cd60d-108">toodetermine if you should use hello v2.0 endpoint, read about [v2.0 limitations](active-directory-v2-limitations.md).</span></span>
>

## <a name="microsoft-accounts-and-azure-ad-accounts"></a><span data-ttu-id="cd60d-109">Contas da Microsoft e contas do Azure AD</span><span class="sxs-lookup"><span data-stu-id="cd60d-109">Microsoft accounts and Azure AD accounts</span></span>
<span data-ttu-id="cd60d-110">o ponto de extremidade do Hello v 2.0 permitem aos desenvolvedores de aplicativos toowrite que aceitam entrada de contas Accounts da Microsoft e do AD do Azure, usando um ponto de extremidade de autenticação único.</span><span class="sxs-lookup"><span data-stu-id="cd60d-110">hello v2.0 endpoint allow developers toowrite apps that accept sign-in from both Microsoft Accounts and Azure AD accounts, using a single auth endpoint.</span></span>  <span data-ttu-id="cd60d-111">Isso dá a você Olá capacidade toowrite seu aplicativo completamente independente da conta; pode ser com ignorância de tipo de saudação da conta que Olá usuário se autentica no.</span><span class="sxs-lookup"><span data-stu-id="cd60d-111">This gives you hello ability toowrite your app completely account-agnostic; it can be ignorant of hello type of account that hello user signs in with.</span></span>  <span data-ttu-id="cd60d-112">Naturalmente, você *pode* tornar seu aplicativo com reconhecimento de tipo de saudação da conta que está sendo usado em uma sessão específica, mas não é necessário.</span><span class="sxs-lookup"><span data-stu-id="cd60d-112">Of course, you *can* make your app aware of hello type of account being used in a particular session, but you don't have to.</span></span>

<span data-ttu-id="cd60d-113">Por exemplo, se seu aplicativo chamar hello [Microsoft Graph](https://graph.microsoft.io), algumas funcionalidades adicionais e os dados serão usuários tooenterprise disponíveis, como seus sites do SharePoint ou os dados do diretório.</span><span class="sxs-lookup"><span data-stu-id="cd60d-113">For instance, if your app calls hello [Microsoft Graph](https://graph.microsoft.io), some additional functionality and data will be available tooenterprise users, such as their SharePoint sites or Directory data.</span></span>  <span data-ttu-id="cd60d-114">Mas para várias ações, como [ler email do usuário](https://graph.microsoft.io/docs/api-reference/v1.0/resources/message), código de saudação pode ser escrito exatamente hello mesmo para contas do AD do Azure e Accounts da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="cd60d-114">But for many actions, such as [Reading a user's mail](https://graph.microsoft.io/docs/api-reference/v1.0/resources/message), hello code can be written exactly hello same for both Microsoft Accounts and Azure AD accounts.</span></span>  

<span data-ttu-id="cd60d-115">Integrar seu aplicativo com as contas da Microsoft e do AD do Azure agora é um processo simples.</span><span class="sxs-lookup"><span data-stu-id="cd60d-115">Integrating your app with Microsoft Accounts and Azure AD accounts is now one simple process.</span></span>  <span data-ttu-id="cd60d-116">Você pode usar um único conjunto de pontos de extremidade, uma única biblioteca e um único aplicativo registro toogain acesso tooboth Olá consumidor e empresariais mundos.</span><span class="sxs-lookup"><span data-stu-id="cd60d-116">You can use a single set of endpoints, a single library, and a single app registration toogain access tooboth hello consumer and enterprise worlds.</span></span>  <span data-ttu-id="cd60d-117">toolearn mais sobre Olá v 2.0 de ponto de extremidade, o check-out [Olá visão geral](active-directory-appmodel-v2-overview.md).</span><span class="sxs-lookup"><span data-stu-id="cd60d-117">toolearn more about hello v2.0 endpoint, check out [hello overview](active-directory-appmodel-v2-overview.md).</span></span>

## <a name="new-app-registration-portal"></a><span data-ttu-id="cd60d-118">Novo portal de registro de aplicativos</span><span class="sxs-lookup"><span data-stu-id="cd60d-118">New app registration portal</span></span>
<span data-ttu-id="cd60d-119">tooregister um aplicativo que funciona com o ponto de extremidade do hello v 2.0, você deve usar um novo portal de registro de aplicativo: [apps.dev.microsoft.com](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList).  Esse é Olá portal onde você pode obter uma ID de aplicativo, personalizar a aparência de saudação da página de entrada do aplicativo e muito mais.</span><span class="sxs-lookup"><span data-stu-id="cd60d-119">tooregister an app that works with hello v2.0 endpoint, you must use a new app registration portal: [apps.dev.microsoft.com](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList).  This is hello portal where you can obtain an application ID, customize hello appearance of your app's sign-in page, and more.</span></span>  <span data-ttu-id="cd60d-120">Tudo o que você precisa tooaccess portal de saudação é uma conta da Microsoft com - conta de trabalho/escola ou pessoal.</span><span class="sxs-lookup"><span data-stu-id="cd60d-120">All you need tooaccess hello portal is a Microsoft powered account - either personal or work/school account.</span></span>

## <a name="one-app-id-for-all-platforms"></a><span data-ttu-id="cd60d-121">Uma ID do aplicativo para todas as plataformas</span><span class="sxs-lookup"><span data-stu-id="cd60d-121">One app ID for all platforms</span></span>
<span data-ttu-id="cd60d-122">Se você já usou o Azure Active Directory, provavelmente, você já registrou vários aplicativos diferentes para um único projeto.</span><span class="sxs-lookup"><span data-stu-id="cd60d-122">If you've used Azure Active Directory, you've probably registered several different apps for a single project.</span></span>  <span data-ttu-id="cd60d-123">Por exemplo, se você compilou um site e um aplicativo iOS, você tinha tooregistê-los separadamente, usando duas Ids de aplicativo diferente.</span><span class="sxs-lookup"><span data-stu-id="cd60d-123">For example, if you built both a website and an iOS app, you had tooregister them separately, using two different Application Ids.</span></span> <span data-ttu-id="cd60d-124">portal de registro de aplicativo Hello AD do Azure forçado você toomake essa distinção durante o registro:</span><span class="sxs-lookup"><span data-stu-id="cd60d-124">hello Azure AD app registration portal forced you toomake this distinction during registration:</span></span>

![Interface do usuário do registro de aplicativo antigo](../../media/active-directory-v2-flows/old_app_registration.PNG)

<span data-ttu-id="cd60d-126">De forma semelhante, se você tiver um site e uma API Web de back-end, poderá ter registrado cada um deles como um aplicativo separado no Azure AD.</span><span class="sxs-lookup"><span data-stu-id="cd60d-126">Similarly, if you had a website and a backend web api, you might have registered each as a separate app in Azure AD.</span></span>  <span data-ttu-id="cd60d-127">Ou se você tiver um aplicativo iOS e um aplicativo Android, também poderá ter registrado dois aplicativos diferentes.</span><span class="sxs-lookup"><span data-stu-id="cd60d-127">Or if you had an iOS app and an Android app, you also might have registered two different apps.</span></span>  <span data-ttu-id="cd60d-128">Registro de cada componente de um aplicativo levou toosome comportamentos inesperados para os desenvolvedores e seus clientes:</span><span class="sxs-lookup"><span data-stu-id="cd60d-128">Registering each component of an application led toosome unexpected behaviors for developers and their customers:</span></span>

* <span data-ttu-id="cd60d-129">Cada componente que aparece como um aplicativo separado no locatário do Active Directory do Azure saudação de cada cliente.</span><span class="sxs-lookup"><span data-stu-id="cd60d-129">Each component appeared as a separate app in hello Azure Active Directory tenant of each customer.</span></span>
* <span data-ttu-id="cd60d-130">Quando um administrador de locatários tentada tooapply política para gerenciar o acesso ao ou excluir um aplicativo, eles teriam toodo caso para cada componente do aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="cd60d-130">When a tenant administrator attempted tooapply policy to, manage access to, or delete an app, they would have toodo so for each component of hello app.</span></span>
* <span data-ttu-id="cd60d-131">Quando os clientes consentido tooan aplicativo, cada componente apareça na tela de consentimento hello como um aplicativo distinto.</span><span class="sxs-lookup"><span data-stu-id="cd60d-131">When customers consented tooan application, each component would appear in hello consent screen as a distinct application.</span></span>

<span data-ttu-id="cd60d-132">Com o ponto de extremidade Olá v 2.0, você pode registrar todos os componentes do seu projeto como um registro de um único aplicativo e usar uma Id de aplicativo único para o projeto inteiro.</span><span class="sxs-lookup"><span data-stu-id="cd60d-132">With hello v2.0 endpoint, you can now register all components of your project as a single app registration, and use a single Application Id for your entire project.</span></span>  <span data-ttu-id="cd60d-133">Você pode adicionar várias tooa de "plataformas" cada projeto e fornecer dados apropriados Olá para cada plataforma que você adicionar.</span><span class="sxs-lookup"><span data-stu-id="cd60d-133">You can add several "platforms" tooa each project, and provide hello appropriate data for each platform you add.</span></span>  <span data-ttu-id="cd60d-134">Obviamente, você pode criar quantos aplicativos você deseja dependendo dos seus requisitos, mas para maioria Olá dos casos apenas uma Id de aplicativo deve ser necessário.</span><span class="sxs-lookup"><span data-stu-id="cd60d-134">Of course, you can create as many apps as you like depending on your requirements, but for hello majority of cases only one Application Id should be necessary.</span></span>

<span data-ttu-id="cd60d-135">Nosso objetivo é que isso levar o gerenciamento de aplicativos tooa mais simplificada e experiência de desenvolvimento e criará uma exibição consolidada mais de um único projeto, talvez você esteja trabalhando no.</span><span class="sxs-lookup"><span data-stu-id="cd60d-135">Our aim is that this will lead tooa more simplified app management and development experience, and create a more consolidated view of a single project that you might be working on.</span></span>

## <a name="scopes-not-resources"></a><span data-ttu-id="cd60d-136">Escopos, não recursos</span><span class="sxs-lookup"><span data-stu-id="cd60d-136">Scopes, not resources</span></span>
<span data-ttu-id="cd60d-137">No Azure Active Directory, um aplicativo pode se comportar como um **recurso** ou um contêiner de tokens.</span><span class="sxs-lookup"><span data-stu-id="cd60d-137">In Azure Active Directory, an app can behave as a **resource**, or a recipient of tokens.</span></span>  <span data-ttu-id="cd60d-138">Um recurso pode definir um número de **escopos** ou **oAuth2Permissions** que ele entenda, permitindo que os aplicativos cliente do recurso de toothat toorequest tokens para um determinado conjunto de escopos.</span><span class="sxs-lookup"><span data-stu-id="cd60d-138">A resource can define a number of **scopes** or **oAuth2Permissions** that it understands, allowing client apps toorequest tokens toothat resource for a certain set of scopes.</span></span>  <span data-ttu-id="cd60d-139">Considere a possibilidade de saudação do Azure AD Graph API como um exemplo de um recurso:</span><span class="sxs-lookup"><span data-stu-id="cd60d-139">Consider hello Azure AD Graph API as an example of a resource:</span></span>

* <span data-ttu-id="cd60d-140">Identificador de recurso, ou `AppID URI`: `https://graph.windows.net/`</span><span class="sxs-lookup"><span data-stu-id="cd60d-140">Resource Identifier, or `AppID URI`: `https://graph.windows.net/`</span></span>
* <span data-ttu-id="cd60d-141">Escopos, ou `OAuth2Permissions`: `Directory.Read`, `Directory.Write`, etc.</span><span class="sxs-lookup"><span data-stu-id="cd60d-141">Scopes, or `OAuth2Permissions`: `Directory.Read`, `Directory.Write`, etc.</span></span>  

<span data-ttu-id="cd60d-142">Tudo isso é válido para o ponto de extremidade Olá Olá v 2.0.</span><span class="sxs-lookup"><span data-stu-id="cd60d-142">All of this holds true for hello hello v2.0 endpoint.</span></span>  <span data-ttu-id="cd60d-143">Um aplicativo ainda pode se comportar como recurso, definir escopos e ser identificado por um URI.</span><span class="sxs-lookup"><span data-stu-id="cd60d-143">An app can still behave as resource, define scopes, and be identified by a URI.</span></span>  <span data-ttu-id="cd60d-144">Aplicativos cliente ainda podem solicitar acesso toothose escopos.</span><span class="sxs-lookup"><span data-stu-id="cd60d-144">Client apps can still request access toothose scopes.</span></span>  <span data-ttu-id="cd60d-145">No entanto, forma Olá no qual um cliente solicita essas permissões foi alterado.</span><span class="sxs-lookup"><span data-stu-id="cd60d-145">However, hello way in which a client requests those permissions has changed.</span></span>  <span data-ttu-id="cd60d-146">Olá após um OAuth 2.0 autorize tooAzure solicitação que AD pode ter visto como:</span><span class="sxs-lookup"><span data-stu-id="cd60d-146">In hello past, an OAuth 2.0 authorize request tooAzure AD might have looked like:</span></span>

```
GET https://login.microsoftonline.com/common/oauth2/authorize?
client_id=2d4d11a2-f814-46a7-890a-274a72a7309e
&resource=https%3A%2F%2Fgraph.windows.net%2F
...
```

<span data-ttu-id="cd60d-147">Olá onde **recurso** parâmetro indicado qual aplicativo de cliente de saudação do recurso está solicitando a autorização para.</span><span class="sxs-lookup"><span data-stu-id="cd60d-147">where hello **resource** parameter indicated which resource hello client app is requesting authorization for.</span></span>  <span data-ttu-id="cd60d-148">O AD do Azure computada permissões Olá exigidas pelo aplicativo hello com base na configuração estática em Olá Portal do Azure e tokens emitidos adequadamente.</span><span class="sxs-lookup"><span data-stu-id="cd60d-148">Azure AD computed hello permissions required by hello app based on static configuration in hello Azure Portal, and issued tokens accordingly.</span></span>  <span data-ttu-id="cd60d-149">Agora, hello mesmo OAuth 2.0 autorizar solicitação parece:</span><span class="sxs-lookup"><span data-stu-id="cd60d-149">Now, hello same OAuth 2.0 authorize request looks like:</span></span>

```
GET https://login.microsoftonline.com/common/oauth2/v2.0/authorize?
client_id=2d4d11a2-f814-46a7-890a-274a72a7309e
&scope=https%3A%2F%2Fgraph.windows.net%2Fdirectory.read%20https%3A%2F%2Fgraph.windows.net%2Fdirectory.write
...
```

<span data-ttu-id="cd60d-150">Olá onde **escopo** parâmetro indica qual aplicativo de recurso e permissões hello está solicitando a autorização para.</span><span class="sxs-lookup"><span data-stu-id="cd60d-150">where hello **scope** parameter indicates which resource and permissions hello app is requesting authorization for.</span></span> <span data-ttu-id="cd60d-151">Olá desejado recurso ainda está muito presente na solicitação de saudação - simplesmente contido em cada um dos valores de saudação do parâmetro de escopo de saudação.</span><span class="sxs-lookup"><span data-stu-id="cd60d-151">hello desired resource is still very present in hello request - it is simply encompassed in each of hello values of hello scope parameter.</span></span>  <span data-ttu-id="cd60d-152">Usar o parâmetro de escopo Olá dessa maneira permite toobe de ponto de extremidade v 2.0 hello mais compatível com a especificação de saudação OAuth 2.0 e alinhe com práticas recomendadas do setor comuns.</span><span class="sxs-lookup"><span data-stu-id="cd60d-152">Using hello scope parameter in this manner allows hello v2.0 endpoint toobe more compliant with hello OAuth 2.0 specification, and aligns more closely with common industry practices.</span></span>  <span data-ttu-id="cd60d-153">Ele também permite que aplicativos tooperform [consentimento incremental](#incremental-and-dynamic-consent), que é descrito na próxima seção, Olá.</span><span class="sxs-lookup"><span data-stu-id="cd60d-153">It also enables apps tooperform [incremental consent](#incremental-and-dynamic-consent), which is described in hello next section.</span></span>

## <a name="incremental-and-dynamic-consent"></a><span data-ttu-id="cd60d-154">Consentimento incremental e dinâmico</span><span class="sxs-lookup"><span data-stu-id="cd60d-154">Incremental and dynamic consent</span></span>
<span data-ttu-id="cd60d-155">Aplicativos registrados no AD do Azure anteriormente necessário toospecify suas permissões de OAuth 2.0 necessários no hello Portal do Azure, no momento de criação do aplicativo:</span><span class="sxs-lookup"><span data-stu-id="cd60d-155">Apps registered in Azure AD previously needed toospecify their required OAuth 2.0 permissions in hello Azure Portal, at app creation time:</span></span>

![Interface do usuário do registro de permissões](../../media/active-directory-v2-flows/app_reg_permissions.PNG)

<span data-ttu-id="cd60d-157">permissões de saudação um aplicativo necessário foram configuradas **estaticamente**.</span><span class="sxs-lookup"><span data-stu-id="cd60d-157">hello permissions an app required were configured **statically**.</span></span>  <span data-ttu-id="cd60d-158">Embora configuração de saudação aplicativo tooexist permitidos em Olá Portal do Azure e mantidos código Olá adequado e simples, ele apresenta algumas questões para desenvolvedores:</span><span class="sxs-lookup"><span data-stu-id="cd60d-158">While this allowed configuration of hello app tooexist in hello Azure Portal and kept hello code nice and simple, it presents a few issues for developers:</span></span>

* <span data-ttu-id="cd60d-159">Um aplicativo tinha tooknow todas as permissões de saudação nunca seriam necessárias no momento de criação do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="cd60d-159">An app had tooknow all of hello permissions it would ever need at app creation time.</span></span>  <span data-ttu-id="cd60d-160">Adicionar permissões ao longo do tempo era um processo difícil.</span><span class="sxs-lookup"><span data-stu-id="cd60d-160">Adding permissions over time was a difficult process.</span></span>
* <span data-ttu-id="cd60d-161">Um aplicativo tinha tooknow todos os recursos de saudação nunca acessaria antecipadamente.</span><span class="sxs-lookup"><span data-stu-id="cd60d-161">An app had tooknow all of hello resources it would ever access ahead of time.</span></span>  <span data-ttu-id="cd60d-162">Era difícil toocreate aplicativos que possam acessar um número arbitrário de recursos.</span><span class="sxs-lookup"><span data-stu-id="cd60d-162">It was difficult toocreate apps that could access an arbitrary number of resources.</span></span>
* <span data-ttu-id="cd60d-163">Um aplicativo tinha toorequest todas as permissões de saudação nunca seriam necessárias após a entrar pela primeira saudação usuário vez.</span><span class="sxs-lookup"><span data-stu-id="cd60d-163">An app had toorequest all hello permissions it would ever need upon hello user's first sign-in.</span></span>  <span data-ttu-id="cd60d-164">Em alguns casos, isso levou tooa muito longa lista de permissões, que não recomendado os usuários finais de aprovação de acesso do aplicativo hello na entrada inicial.</span><span class="sxs-lookup"><span data-stu-id="cd60d-164">In some cases this led tooa very long list of permissions, which discouraged end-users from approving hello app's access on initial sign-in.</span></span>

<span data-ttu-id="cd60d-165">Com o ponto de extremidade Olá v 2.0, você pode especificar permissões de saudação suas necessidades de aplicativo **dinamicamente**, em tempo de execução durante o uso normal do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="cd60d-165">With hello v2.0 endpoint, you can specify hello permissions your app needs **dynamically**, at runtime, during regular usage of your app.</span></span>  <span data-ttu-id="cd60d-166">toodo assim, você pode especificar Olá escopos suas necessidades de aplicativo em qualquer ponto no tempo incluindo-os em Olá `scope` parâmetro de uma solicitação de autorização:</span><span class="sxs-lookup"><span data-stu-id="cd60d-166">toodo so, you can specify hello scopes your app needs at any given point in time by including them in hello `scope` parameter of an authorization request:</span></span>

```
GET https://login.microsoftonline.com/common/oauth2/v2.0/authorize?
client_id=2d4d11a2-f814-46a7-890a-274a72a7309e
&scope=https%3A%2F%2Fgraph.windows.net%2Fdirectory.read%20https%3A%2F%2Fgraph.windows.net%2Fdirectory.write
...
```

<span data-ttu-id="cd60d-167">Olá acima solicita permissão para Olá aplicativo tooread de um usuário AD do Azure dados do diretório, bem como gravar dados no diretório tootheir.</span><span class="sxs-lookup"><span data-stu-id="cd60d-167">hello above requests permission for hello app tooread an Azure AD user's directory data, as well as write data tootheir directory.</span></span>  <span data-ttu-id="cd60d-168">Se o usuário Olá consentiu toothose permissões em Olá anterior para esse aplicativo específico, eles simplesmente insere suas credenciais e entrar no aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="cd60d-168">If hello user has consented toothose permissions in hello past for this particular app, they will simply enter their credentials and be signed into hello app.</span></span>  <span data-ttu-id="cd60d-169">Se o usuário Olá não consentiu tooany dessas permissões, o ponto de extremidade do hello v 2.0 solicitará Olá usuário consentimento toothose permissões.</span><span class="sxs-lookup"><span data-stu-id="cd60d-169">If hello user has not consented tooany of these permissions, hello v2.0 endpoint will ask hello user for consent toothose permissions.</span></span>  <span data-ttu-id="cd60d-170">toolearn mais, você pode ler sobre [permissões, autorização e escopos](active-directory-v2-scopes.md).</span><span class="sxs-lookup"><span data-stu-id="cd60d-170">toolearn more, you can read up on [permissions, consent, and scopes](active-directory-v2-scopes.md).</span></span>

<span data-ttu-id="cd60d-171">Permitindo que um aplicativo toorequest permissões dinamicamente por meio de saudação `scope` parâmetro lhe dá controle total sobre a experiência do usuário.</span><span class="sxs-lookup"><span data-stu-id="cd60d-171">Allowing an app toorequest permissions dynamically via hello `scope` parameter gives you full control over your user's experience.</span></span>  <span data-ttu-id="cd60d-172">Se desejar, você pode escolher toofrontload seu consentimento experiência e peça para todas as permissões em uma solicitação de autorização inicial.</span><span class="sxs-lookup"><span data-stu-id="cd60d-172">If you wish, you can choose toofrontload your consent experience and ask for all permissions in one initial authorization request.</span></span>  <span data-ttu-id="cd60d-173">Ou, se seu aplicativo requer um grande número de permissões, você pode escolher toogather essas permissões de usuário Olá incrementalmente, como eles tentem toouse determinados recursos do seu aplicativo ao longo do tempo.</span><span class="sxs-lookup"><span data-stu-id="cd60d-173">Or if your app requires a large number of permissions, you can choose toogather those permissions from hello user incrementally, as they attempt toouse certain features of your app over time.</span></span>

## <a name="well-known-scopes"></a><span data-ttu-id="cd60d-174">Escopos conhecidos</span><span class="sxs-lookup"><span data-stu-id="cd60d-174">Well-known scopes</span></span>
#### <a name="offline-access"></a><span data-ttu-id="cd60d-175">Acesso offline</span><span class="sxs-lookup"><span data-stu-id="cd60d-175">Offline access</span></span>
<span data-ttu-id="cd60d-176">Aplicativos que usam o ponto de extremidade do hello v 2.0 podem exigir Olá uso de uma nova permissão conhecida para aplicativos - Olá `offline_access` escopo.</span><span class="sxs-lookup"><span data-stu-id="cd60d-176">Apps using hello v2.0 endpoint may require hello use of a new well-known permission for apps - hello `offline_access` scope.</span></span>  <span data-ttu-id="cd60d-177">Todos os aplicativos precisará toorequest essa permissão se eles precisarem de recursos de tooaccess em nome de saudação de um usuário por um período prolongado de tempo, mesmo quando o usuário Olá pode não estar ativamente usando aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="cd60d-177">All apps will need toorequest this permission if they need tooaccess resources on hello behalf of a user for a prolonged period of time, even when hello user may not be actively using hello app.</span></span>  <span data-ttu-id="cd60d-178">Olá `offline_access` escopo aparecerá usuário toohello em consentimento caixas de diálogo como "Acesso a dados offline", qual usuário Olá deve concordar em.</span><span class="sxs-lookup"><span data-stu-id="cd60d-178">hello `offline_access` scope will appear toohello user in consent dialogs as "Access your data offline", which hello user must agree to.</span></span>  <span data-ttu-id="cd60d-179">Olá solicitante `offline_access` permissão permite que seu aplicativo de web tooreceive refresh_tokens OAuth 2.0 do ponto de extremidade do hello v 2.0.</span><span class="sxs-lookup"><span data-stu-id="cd60d-179">Requesting hello `offline_access` permission will enable your web app tooreceive OAuth 2.0 refresh_tokens from hello v2.0 endpoint.</span></span>  <span data-ttu-id="cd60d-180">Refresh_tokens são duradouros e podem ser trocados por novos access_tokens do OAuth 2.0 por longos períodos de acesso.</span><span class="sxs-lookup"><span data-stu-id="cd60d-180">Refresh_tokens are long-lived, and can be exchanged for new OAuth 2.0 access_tokens for extended periods of access.</span></span>  

<span data-ttu-id="cd60d-181">Se seu aplicativo não solicitar Olá `offline_access` escopo, ele não receberá refresh_tokens.</span><span class="sxs-lookup"><span data-stu-id="cd60d-181">If your app does not request hello `offline_access` scope, it will not receive refresh_tokens.</span></span>  <span data-ttu-id="cd60d-182">Isso significa que quando você resgatar um authorization_code no fluxo de código de autorização Olá OAuth 2.0, você só receberá novamente um access_token de saudação `/token` ponto de extremidade.</span><span class="sxs-lookup"><span data-stu-id="cd60d-182">This means that when you redeem an authorization_code in hello OAuth 2.0 authorization code flow, you will only receive back an access_token from hello `/token` endpoint.</span></span>  <span data-ttu-id="cd60d-183">Esse access_token permanecerá válido por um curto período de tempo (normalmente uma hora), mas acabará expirando.</span><span class="sxs-lookup"><span data-stu-id="cd60d-183">That access_token will remain valid for a short period of time (typically one hour), but will eventually expire.</span></span>  <span data-ttu-id="cd60d-184">No momento, seu aplicativo precisará tooredirect Olá usuário back toohello `/authorize` tooretrieve de ponto de extremidade authorization_code um novo.</span><span class="sxs-lookup"><span data-stu-id="cd60d-184">At that point in time, your app will need tooredirect hello user back toohello `/authorize` endpoint tooretrieve a new authorization_code.</span></span>  <span data-ttu-id="cd60d-185">Durante esse redirecionamento Olá usuário pode ou pode não precisar tooenter suas credenciais novamente ou consentimento novamente toopermissions, dependendo do tipo de Olá Olá do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="cd60d-185">During this redirect, hello user may or may not need tooenter their credentials again or re-consent toopermissions, depending on hello hello type of app.</span></span>

<span data-ttu-id="cd60d-186">mais sobre o OAuth 2.0, refresh_tokens e access_tokens, check-out de saudação do toolearn [referência de protocolo v 2.0](active-directory-v2-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="cd60d-186">toolearn more about OAuth 2.0, refresh_tokens, and access_tokens, check out hello [v2.0 protocol reference](active-directory-v2-protocols.md).</span></span>

#### <a name="openid-profile-and-email"></a><span data-ttu-id="cd60d-187">OpenID, perfil e email</span><span class="sxs-lookup"><span data-stu-id="cd60d-187">OpenID, profile and email</span></span>
<span data-ttu-id="cd60d-188">Historicamente, hello mais básico OpenID Connect fluxo de entrada com o Azure Active Directory podem fornecer uma grande quantidade de informações sobre o usuário Olá no id_token resultante hello.</span><span class="sxs-lookup"><span data-stu-id="cd60d-188">Historically, hello most basic OpenID Connect sign-in flow with Azure Active Directory would provide a wealth of information about hello user in hello resulting id_token.</span></span>  <span data-ttu-id="cd60d-189">Olá declarações em um id_token podem incluir Olá nome de usuário nome, preferencial, endereço de email, ID de objeto e muito mais.</span><span class="sxs-lookup"><span data-stu-id="cd60d-189">hello claims in an id_token can include hello user's name, preferred username, email address, object ID, and more.</span></span>

<span data-ttu-id="cd60d-190">Estamos agora restringir informações Olá que Olá `openid` escopo permite ao aplicativo acesso aos.</span><span class="sxs-lookup"><span data-stu-id="cd60d-190">We are now restricting hello information that hello `openid` scope affords your app access to.</span></span>  <span data-ttu-id="cd60d-191">escopo de 'openid' Hello somente que seu aplicativo toosign Olá usuário e recebe um identificador específico do aplicativo para o usuário hello.</span><span class="sxs-lookup"><span data-stu-id="cd60d-191">hello ‘openid’ scope will only allow your app toosign hello user in, and receive an app-specific identifier for hello user.</span></span>  <span data-ttu-id="cd60d-192">Se você quiser tooobtain informações de identificação pessoal (PII) sobre o usuário Olá no seu aplicativo, seu aplicativo precisará de permissões adicionais de toorequest de usuário de saudação.</span><span class="sxs-lookup"><span data-stu-id="cd60d-192">If you want tooobtain personally identifiable information (PII) about hello user in your app, your app will need toorequest additional permissions from hello user.</span></span>  <span data-ttu-id="cd60d-193">Estamos introduzindo dois novos escopos – hello `email` e `profile` escopos – que permitem toodo.</span><span class="sxs-lookup"><span data-stu-id="cd60d-193">We are introducing two new scopes – hello `email` and `profile` scopes – which allow you toodo so.</span></span>

<span data-ttu-id="cd60d-194">Olá `email` escopo é muito simples – ele permite que o endereço de email principal do usuário seu aplicativo acesso toohello via Olá `email` Olá id_token de declaração.</span><span class="sxs-lookup"><span data-stu-id="cd60d-194">hello `email` scope is very straightforward – it allows your app access toohello user’s primary email address via hello `email` claim in hello id_token.</span></span>  <span data-ttu-id="cd60d-195">Olá `profile` escopo dá seu tooall de acesso do aplicativo outras informações básicas sobre o usuário hello – seu nome, o nome do usuário preferencial, a ID de objeto e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="cd60d-195">hello `profile` scope affords your app access tooall other basic information about hello user – their name, preferred username, object ID, and so on.</span></span>

<span data-ttu-id="cd60d-196">Isso permite toocode seu aplicativo de forma mínima divulgação – somente solicite usuário Olá Olá um conjunto de informações que seu aplicativo requer toodo seu trabalho.</span><span class="sxs-lookup"><span data-stu-id="cd60d-196">This allows you toocode your app in a minimal-disclosure fashion – you can only ask hello user for hello set of information that your app requires toodo its job.</span></span>  <span data-ttu-id="cd60d-197">Para obter mais informações sobre os escopos, consulte muito[Olá referência de escopo v 2.0](active-directory-v2-scopes.md).</span><span class="sxs-lookup"><span data-stu-id="cd60d-197">For more information on these scopes, refer too[hello v2.0 scope reference](active-directory-v2-scopes.md).</span></span>

## <a name="token-claims"></a><span data-ttu-id="cd60d-198">Declarações de token</span><span class="sxs-lookup"><span data-stu-id="cd60d-198">Token Claims</span></span>
<span data-ttu-id="cd60d-199">Olá declarações em tokens emitidos pelo ponto de extremidade do hello v 2.0 não será idêntico tootokens emitidas pelos pontos de extremidade de saudação do AD do Azure disponível - toohello novo serviço de migração de aplicativos não devem presumir que exista uma declaração específica em id_tokens ou access_tokens.</span><span class="sxs-lookup"><span data-stu-id="cd60d-199">hello claims in tokens issued by hello v2.0 endpoint will not be identical tootokens issued by hello generally available Azure AD endpoints - apps migrating toohello new service should not assume a particular claim will exist in id_tokens or access_tokens.</span></span> <span data-ttu-id="cd60d-200">toolearn sobre declarações específicas do hello emitido em tokens v 2.0, consulte Olá [referência de token v 2.0](active-directory-v2-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="cd60d-200">toolearn about hello specific claims emitted in v2.0 tokens, see hello [v2.0 token reference](active-directory-v2-tokens.md).</span></span>

## <a name="limitations"></a><span data-ttu-id="cd60d-201">Limitações</span><span class="sxs-lookup"><span data-stu-id="cd60d-201">Limitations</span></span>
<span data-ttu-id="cd60d-202">Há alguns toobe de restrições atento ao usar Olá v 2.0 ponto.</span><span class="sxs-lookup"><span data-stu-id="cd60d-202">There are a few restrictions toobe aware of when using hello v2.0 point.</span></span>  <span data-ttu-id="cd60d-203">Consulte toohello [doc de limitações v 2.0](active-directory-v2-limitations.md) toosee se quaisquer dessas restrições se aplicam tooyour cenário em particular.</span><span class="sxs-lookup"><span data-stu-id="cd60d-203">Please refer toohello [v2.0 limitations doc](active-directory-v2-limitations.md) toosee if any of these restrictions apply tooyour particular scenario.</span></span>
