---
title: Como usar o Controle de Acesso (Java) | Microsoft Docs
description: Aprenda a desenvolver e usar o controle de acesso com Java no Azure.
services: active-directory
documentationcenter: java
author: rmcmurray
manager: erikre
editor: 
ms.assetid: 247dfd59-0221-4193-97ec-4f3ebe01d3c7
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: Java
ms.topic: article
ms.date: 04/25/2017
ms.author: robmcm
ms.custom: aaddev
ms.openlocfilehash: 698403d181e1fee09bb4692290c92203ded97ba4
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="how-to-authenticate-web-users-with-azure-access-control-service-using-eclipse"></a><span data-ttu-id="ff74a-103">Como autenticar usuários da Web com o Serviço de Controle de Acesso do Azure usando o Eclipse</span><span class="sxs-lookup"><span data-stu-id="ff74a-103">How to Authenticate Web Users with Azure Access Control Service Using Eclipse</span></span>
<span data-ttu-id="ff74a-104">Este guia mostrará como usar o ACS (Serviço de Controle de Acesso) do Azure dentro do Kit de Ferramentas do Azure para Eclipse.</span><span class="sxs-lookup"><span data-stu-id="ff74a-104">This guide will show you how to use the Azure Access Control Service (ACS) within the Azure Toolkit for Eclipse.</span></span> <span data-ttu-id="ff74a-105">Para obter mais informações sobre o ACS, consulte a seção [Próximas etapas](#next_steps) .</span><span class="sxs-lookup"><span data-stu-id="ff74a-105">For more information on ACS, see the [Next steps](#next_steps) section.</span></span>

> [!NOTE]
> <span data-ttu-id="ff74a-106">O Filtro de Controle dos Serviços de Acesso do Azure é uma visualização de tecnologia da comunidade.</span><span class="sxs-lookup"><span data-stu-id="ff74a-106">The Azure Access Services Control Filter is a community technology preview.</span></span> <span data-ttu-id="ff74a-107">Como software de pré-lançamento, a Microsoft não dá suporte formal a ele.</span><span class="sxs-lookup"><span data-stu-id="ff74a-107">As pre-release software, it is not formally supported by Microsoft.</span></span>
> 
> 

## <a name="what-is-acs"></a><span data-ttu-id="ff74a-108">O que é o ACS?</span><span class="sxs-lookup"><span data-stu-id="ff74a-108">What is ACS?</span></span>
<span data-ttu-id="ff74a-109">A maioria dos desenvolvedores não são especialistas em identidade e geralmente não querem gastar tempo desenvolvendo a autenticação e mecanismos de autenticação para seus aplicativos e serviços.</span><span class="sxs-lookup"><span data-stu-id="ff74a-109">Most developers are not identity experts and generally do not want to spend time developing authentication and authorization mechanisms for their applications and services.</span></span> <span data-ttu-id="ff74a-110">O ACS é um serviço do Azure que fornece uma maneira fácil de autenticar os usuários que precisam acessar seus aplicativos e serviços da web sem a necessidade de fatorar lógica de autenticação complexa em seu código.</span><span class="sxs-lookup"><span data-stu-id="ff74a-110">ACS is an Azure service that provides an easy way of authenticating users who need to access your web applications and services without having to factor complex authentication logic into your code.</span></span>

<span data-ttu-id="ff74a-111">Os seguintes recursos estão disponíveis no ACS:</span><span class="sxs-lookup"><span data-stu-id="ff74a-111">The following features are available in ACS:</span></span>

* <span data-ttu-id="ff74a-112">Integração com o Windows Identity Foundation (WIF).</span><span class="sxs-lookup"><span data-stu-id="ff74a-112">Integration with Windows Identity Foundation (WIF).</span></span>
* <span data-ttu-id="ff74a-113">Suporte para IPs (provedores de identidade) populares da Web incluindo o Windows Live ID, o Google, o Yahoo e o Facebook.</span><span class="sxs-lookup"><span data-stu-id="ff74a-113">Support for popular web identity providers (IPs) including Windows Live ID, Google, Yahoo!, and Facebook.</span></span>
* <span data-ttu-id="ff74a-114">Suporte para o Serviço de Federação do Active Directory (AD FS) 2.0.</span><span class="sxs-lookup"><span data-stu-id="ff74a-114">Support for Active Directory Federation Services (AD FS) 2.0.</span></span>
* <span data-ttu-id="ff74a-115">Um serviço de gerenciamento baseado em Open Data Protocol (OData) que fornece acesso programático para configurações do ACS.</span><span class="sxs-lookup"><span data-stu-id="ff74a-115">An Open Data Protocol (OData)-based management service that provides programmatic access to ACS settings.</span></span>
* <span data-ttu-id="ff74a-116">Um Portal de Gerenciamento que permite acesso administrativo para as configurações do ACS.</span><span class="sxs-lookup"><span data-stu-id="ff74a-116">A Management Portal that allows administrative access to the ACS settings.</span></span>

<span data-ttu-id="ff74a-117">Para obter mais informações sobre o ACS, consulte [Serviço de Controle de Acesso 2.0][Access Control Service 2.0].</span><span class="sxs-lookup"><span data-stu-id="ff74a-117">For more information about ACS, see [Access Control Service 2.0][Access Control Service 2.0].</span></span>

## <a name="concepts"></a><span data-ttu-id="ff74a-118">Conceitos</span><span class="sxs-lookup"><span data-stu-id="ff74a-118">Concepts</span></span>
<span data-ttu-id="ff74a-119">O ACS do Azure baseia-se na identidade baseada em declarações - uma abordagem consistente para a criação de mecanismos de autenticação para aplicativos executados localmente ou na nuvem.</span><span class="sxs-lookup"><span data-stu-id="ff74a-119">Azure ACS is built on the principals of claims-based identity - a consistent approach to creating authentication mechanisms for applications running on-premises or in the cloud.</span></span> <span data-ttu-id="ff74a-120">A identidade baseada em declarações fornece uma maneira comum para aplicativos e serviços obterem as informações da identidade necessárias sobre os usuários de sua organização, em outras organizações e na Internet.</span><span class="sxs-lookup"><span data-stu-id="ff74a-120">Claims-based identity provides a common way for applications and services to acquire the identity information they need about users inside their organization, in other organizations, and on the Internet.</span></span>

<span data-ttu-id="ff74a-121">Para concluir as tarefas deste guia, você precisa compreender os seguintes conceitos:</span><span class="sxs-lookup"><span data-stu-id="ff74a-121">To complete the tasks in this guide, you should understand the following concepts:</span></span>

<span data-ttu-id="ff74a-122">**Cliente** - no contexto deste guia de instruções, esse é um navegador que está tentando obter acesso ao seu aplicativo Web.</span><span class="sxs-lookup"><span data-stu-id="ff74a-122">**Client** - In the context of this how-to guide, this is a browser that is attempting to gain access to your web application.</span></span>

<span data-ttu-id="ff74a-123">**Aplicativo de terceira parte confiável (RP)** - um aplicativo RP é um site ou um serviço Web que terceiriza a autenticação para uma autoridade externa.</span><span class="sxs-lookup"><span data-stu-id="ff74a-123">**Relying party (RP) application** - An RP application is a website or service that outsources authentication to one external authority.</span></span> <span data-ttu-id="ff74a-124">No jargão de identidade, dizemos que o RP confia essa autoridade.</span><span class="sxs-lookup"><span data-stu-id="ff74a-124">In identity jargon, we say that the RP trusts that authority.</span></span> <span data-ttu-id="ff74a-125">Este guia explica como configurar seu aplicativo para relação de confiança de ACS.</span><span class="sxs-lookup"><span data-stu-id="ff74a-125">This guide explains how to configure your application to trust ACS.</span></span>

<span data-ttu-id="ff74a-126">**Token** - um token é uma coleção de dados de segurança que geralmente são emitidos após a autenticação bem-sucedida de um usuário.</span><span class="sxs-lookup"><span data-stu-id="ff74a-126">**Token** - A token is a collection of security data that is usually issued upon successful authentication of a user.</span></span> <span data-ttu-id="ff74a-127">Ele contém um conjunto de *declarações*, atributos do usuário autenticado.</span><span class="sxs-lookup"><span data-stu-id="ff74a-127">It contains a set of *claims*, attributes of the authenticated user.</span></span> <span data-ttu-id="ff74a-128">Uma declaração pode representar um nome de usuário, um identificador de uma função à qual um usuário pertence, a idade de um usuário e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="ff74a-128">A claim can represent a user's name, an identifier for a role a user belongs to, a user's age, and so on.</span></span> <span data-ttu-id="ff74a-129">Um token é geralmente assinado digitalmente, o que significa que pode sempre ser originado de volta ao seu emissor e seu conteúdo não pode ser violado.</span><span class="sxs-lookup"><span data-stu-id="ff74a-129">A token is usually digitally signed, which means it can always be sourced back to its issuer, and its content cannot be tampered with.</span></span> <span data-ttu-id="ff74a-130">Um usuário obtém acesso a um aplicativo RP apresentando um token válido emitido por uma autoridade na qual o aplicativo RP confia.</span><span class="sxs-lookup"><span data-stu-id="ff74a-130">A user gains access to a RP application by presenting a valid token issued by an authority that the RP application trusts.</span></span>

<span data-ttu-id="ff74a-131">**IP (Provedor de Identidade)** - um IP é uma autoridade que autentica as identidades dos usuários e emite tokens de segurança.</span><span class="sxs-lookup"><span data-stu-id="ff74a-131">**Identity Provider (IP)** - An IP is an authority that authenticates user identities and issues security tokens.</span></span> <span data-ttu-id="ff74a-132">O trabalho real de emissão de tokens é implementado por meio de um serviço especial chamado STS (Serviço de Token de Segurança).</span><span class="sxs-lookup"><span data-stu-id="ff74a-132">The actual work of issuing tokens is implemented though a special service called Security Token Service (STS).</span></span> <span data-ttu-id="ff74a-133">Exemplos típicos de IPs incluem o Windows Live ID, o Facebook, os repositórios de usuários de negócios (como o Active Directory) e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="ff74a-133">Typical examples of IPs include Windows Live ID, Facebook, business user repositories (like Active Directory), and so on.</span></span>
<span data-ttu-id="ff74a-134">Quando o ACS está configurado para confiar em um IP, o sistema irá aceitar e validar os tokens emitidos por esse IP.</span><span class="sxs-lookup"><span data-stu-id="ff74a-134">When ACS is configured to trust an IP, the system will accept and validate tokens issued by that IP.</span></span> <span data-ttu-id="ff74a-135">O ACS pode confiar em vários IPs ao mesmo tempo, o que significa que quando o seu aplicativo confia no ACS, você pode oferecer instantaneamente seu aplicativo a todos os usuários autenticados de todos os IPs nos quais o ACS confia em seu nome.</span><span class="sxs-lookup"><span data-stu-id="ff74a-135">ACS can trust multiple IPs at once, which means that when your application trusts ACS, you can instantly offer your application to all the authenticated users from all the IPs that ACS trusts on your behalf.</span></span>

<span data-ttu-id="ff74a-136">**FP (Provedor de Federação)** - os IPs têm conhecimento direto dos usuários e os autenticam usando suas credenciais e emitem declarações sobre o que conhecem sobre eles.</span><span class="sxs-lookup"><span data-stu-id="ff74a-136">**Federation Provider (FP)** - IPs have direct knowledge of users, and authenticate them using their credentials and issue claims about what they know about them.</span></span> <span data-ttu-id="ff74a-137">Um FP (provedor de federação) é um tipo diferente de autoridade: em vez de autenticar usuários diretamente, ele atua como um intermediário e agencia a autenticação entre um RP e um ou mais IPs.</span><span class="sxs-lookup"><span data-stu-id="ff74a-137">A Federation Provider (FP) is a different kind of authority: rather than authenticating users directly, it acts as an intermediary and brokers authentication between one RP and one or more IPs.</span></span> <span data-ttu-id="ff74a-138">Tanto IPs quanto FPs emitem tokens de segurança, por isso ambos usam os STS (Serviços de Token de Segurança).</span><span class="sxs-lookup"><span data-stu-id="ff74a-138">Both IPs and FPs issue security tokens, hence they both use Security Token Services (STS).</span></span> <span data-ttu-id="ff74a-139">O ACS é um FP.</span><span class="sxs-lookup"><span data-stu-id="ff74a-139">ACS is one FP.</span></span>

<span data-ttu-id="ff74a-140">**Mecanismo de Regras do ACS** - a lógica usada para transformar os tokens recebidos de IPs confiáveis em tokens com o objetivo de serem consumidos pelo RP é codificada no formulário de regras de transformação de declarações simples.</span><span class="sxs-lookup"><span data-stu-id="ff74a-140">**ACS Rule Engine** - The logic used to transform incoming tokens from trusted IPs to tokens meant to be consumed by the RP is codified in form of simple claims transformation rules.</span></span> <span data-ttu-id="ff74a-141">O ACS apresenta um mecanismo de regra que se encarrega de aplicar qualquer lógica de transformação que você especifique para seu RP.</span><span class="sxs-lookup"><span data-stu-id="ff74a-141">ACS features a rule engine that takes care of applying whatever transformation logic you specified for your RP.</span></span>

<span data-ttu-id="ff74a-142">**Namespace do ACS** - um namespace é uma partição de nível superior do ACS que você usa para organizar suas configurações.</span><span class="sxs-lookup"><span data-stu-id="ff74a-142">**ACS Namespace** - A namespace is a top level partition of ACS that you use for organizing your settings.</span></span> <span data-ttu-id="ff74a-143">Um namespace espera uma lista de IPs que você confia, os aplicativos de RPs a serem atendidos, as regras que você espera que o mecanismo de regra aplique ao processar tokens recebidos e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="ff74a-143">A namespace holds a list of IPs you trust, the RP applications you want to serve, the rules that you expect the rule engine to process incoming tokens with, and so on.</span></span> <span data-ttu-id="ff74a-144">Um namespace expõe vários pontos de extremidade que serão usados pelo aplicativo e pelo desenvolvedor para fazer o ACS executar sua função.</span><span class="sxs-lookup"><span data-stu-id="ff74a-144">A namespace exposes various endpoints that will be used by the application and the developer to get ACS to perform its function.</span></span>

<span data-ttu-id="ff74a-145">A figura a seguir mostra como a autenticação do ACS funciona com um aplicativo da Web:</span><span class="sxs-lookup"><span data-stu-id="ff74a-145">The following figure shows how ACS authentication works with a web application:</span></span>

![Diagrama de fluxo do ACS][acs_flow]

1. <span data-ttu-id="ff74a-147">O cliente (neste caso, um navegador) solicita uma página do RP.</span><span class="sxs-lookup"><span data-stu-id="ff74a-147">The client (in this case a browser) requests a page from the RP.</span></span>
2. <span data-ttu-id="ff74a-148">Como a solicitação ainda não foi autenticada, o RP redireciona o usuário para a autoridade que ele confia, que é o ACS.</span><span class="sxs-lookup"><span data-stu-id="ff74a-148">Since the request is not yet authenticated, the RP redirects the user to the authority that it trusts, which is ACS.</span></span> <span data-ttu-id="ff74a-149">O ACS apresenta ao usuário a opção de IPs que foram especificados para essa RP.</span><span class="sxs-lookup"><span data-stu-id="ff74a-149">The ACS presents the user with the choice of IPs that were specified for this RP.</span></span> <span data-ttu-id="ff74a-150">O usuário seleciona o IP apropriado.</span><span class="sxs-lookup"><span data-stu-id="ff74a-150">The user selects the appropriate IP.</span></span>
3. <span data-ttu-id="ff74a-151">O cliente vai para a página de autenticação do IP e solicita ao usuário para fazer logon.</span><span class="sxs-lookup"><span data-stu-id="ff74a-151">The client browses to the IP's authentication page, and prompts the user to log on.</span></span>
4. <span data-ttu-id="ff74a-152">Depois que o cliente é autenticado (por exemplo, a identidade que credenciais foram inseridas), o IP emite um token de segurança.</span><span class="sxs-lookup"><span data-stu-id="ff74a-152">After the client is authenticated (for example, the identity credentials are entered), the IP issues a security token.</span></span>
5. <span data-ttu-id="ff74a-153">Depois de emitir um token de segurança, o IP redireciona o cliente para o ACS, e o cliente envia o token de segurança emitido pelo IP ao ACS.</span><span class="sxs-lookup"><span data-stu-id="ff74a-153">After issuing a security token, the IP redirects the client to ACS and the client sends the security token issued by the IP to ACS.</span></span>
6. <span data-ttu-id="ff74a-154">O ACS valida o token de segurança emitido por IP, insere a declaração de identidade nesse token para o mecanismo de regras do ACS, calcula as declarações de identidade de saída e emite um novo token de segurança que contém essas declarações de saída.</span><span class="sxs-lookup"><span data-stu-id="ff74a-154">ACS validates the security token issued by the IP, inputs the identity claims in this token into the ACS rules engine, calculates the output identity claims, and issues a new security token that contains these output claims.</span></span>
7. <span data-ttu-id="ff74a-155">O ACS redireciona o cliente para o RP.</span><span class="sxs-lookup"><span data-stu-id="ff74a-155">ACS redirects the client to the RP.</span></span> <span data-ttu-id="ff74a-156">O cliente envia o novo token de segurança emitido pelo ACS ao RP.</span><span class="sxs-lookup"><span data-stu-id="ff74a-156">The client sends the new security token issued by ACS to the RP.</span></span> <span data-ttu-id="ff74a-157">O RP valida a assinatura no token de segurança emitido pelo ACS, valida as declarações nesse token e retorna a página que foi solicitada originalmente.</span><span class="sxs-lookup"><span data-stu-id="ff74a-157">The RP validates the signature on the security token issued by ACS, validates the claims in this token, and returns the page that was originally requested.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="ff74a-158">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="ff74a-158">Prerequisites</span></span>
<span data-ttu-id="ff74a-159">Para concluir as tarefas deste guia, você precisará do seguinte:</span><span class="sxs-lookup"><span data-stu-id="ff74a-159">To complete the tasks in this guide, you will need the following:</span></span>

* <span data-ttu-id="ff74a-160">Um JDK (Java Developer Kit) versão 1.6 ou posterior.</span><span class="sxs-lookup"><span data-stu-id="ff74a-160">A Java Developer Kit (JDK), v 1.6 or later.</span></span>
* <span data-ttu-id="ff74a-161">Um IDE do Eclipse para desenvolvedores do Java EE, Indigo ou posterior.</span><span class="sxs-lookup"><span data-stu-id="ff74a-161">Eclipse IDE for Java EE Developers, Indigo or later.</span></span> <span data-ttu-id="ff74a-162">Isso pode ser baixado em <http://www.eclipse.org/downloads/>.</span><span class="sxs-lookup"><span data-stu-id="ff74a-162">This can be downloaded from <http://www.eclipse.org/downloads/>.</span></span> 
* <span data-ttu-id="ff74a-163">Uma distribuição de um servidor web baseado em Java ou servidor de aplicativo, como o Apache Tomcat, o GlassFish, o Servidor de Aplicativo JBoss ou o Jetty.</span><span class="sxs-lookup"><span data-stu-id="ff74a-163">A distribution of a Java-based web server or application server, such as Apache Tomcat, GlassFish, JBoss Application Server, or Jetty.</span></span>
* <span data-ttu-id="ff74a-164">Uma assinatura do Azure, que pode ser adquirida em <http://www.microsoft.com/windowsazure/offers/>.</span><span class="sxs-lookup"><span data-stu-id="ff74a-164">an Azure subscription, which can be acquired from <http://www.microsoft.com/windowsazure/offers/>.</span></span>
* <span data-ttu-id="ff74a-165">O Kit de Ferramentas do Azure para Eclipse, versão de abril de 2014 ou posterior.</span><span class="sxs-lookup"><span data-stu-id="ff74a-165">The Azure Toolkit for Eclipse, April 2014 release or later.</span></span> <span data-ttu-id="ff74a-166">Para saber mais, confira [Instalação do Kit de Ferramentas do Azure para Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690946.aspx).</span><span class="sxs-lookup"><span data-stu-id="ff74a-166">For more information, see [Installing the Azure Toolkit for Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690946.aspx).</span></span>
* <span data-ttu-id="ff74a-167">Um certificado X.509 para uso com o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="ff74a-167">An X.509 certificate to use with your application.</span></span> <span data-ttu-id="ff74a-168">Você precisará desse certificado no certificado público (.cer) e no formato Troca de Informações Pessoais (.PFX).</span><span class="sxs-lookup"><span data-stu-id="ff74a-168">You will need this certificate in both public certificate (.cer) and Personal Information Exchange (.PFX) format.</span></span> <span data-ttu-id="ff74a-169">(As opções para criação desse certificado serão descritas posteriormente neste tutorial).</span><span class="sxs-lookup"><span data-stu-id="ff74a-169">(Options for creating this certificate will be described later in this tutorial).</span></span>
* <span data-ttu-id="ff74a-170">Familiaridade com emulador de computação do Azure e com as técnicas de implantação discutidas em [Criando um aplicativo Hello World para o Azure no Eclipse (a página pode estar em inglês)](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx).</span><span class="sxs-lookup"><span data-stu-id="ff74a-170">Familiarity with the Azure compute emulator and deployment techniques discussed at [Creating a Hello World Application for Azure in Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx).</span></span>

## <a name="create-an-acs-namespace"></a><span data-ttu-id="ff74a-171">Criar um namespace do ACS</span><span class="sxs-lookup"><span data-stu-id="ff74a-171">Create an ACS Namespace</span></span>
<span data-ttu-id="ff74a-172">Para começar a usar o ACS (Access Control Service) no Azure, você deve criar um namespace do ACS.</span><span class="sxs-lookup"><span data-stu-id="ff74a-172">To begin using Access Control Service (ACS) in Azure, you must create an ACS namespace.</span></span> <span data-ttu-id="ff74a-173">O namespace fornece um escopo exclusivo para resolver os recursos do ACS a partir do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="ff74a-173">The namespace provides a unique scope for addressing ACS resources from within your application.</span></span>

1. <span data-ttu-id="ff74a-174">Faça logon no [Portal de Gerenciamento do Azure][Azure Management Portal].</span><span class="sxs-lookup"><span data-stu-id="ff74a-174">Log into the [Azure Management Portal][Azure Management Portal].</span></span>
2. <span data-ttu-id="ff74a-175">Clique em **Active Directory**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-175">Click **Active Directory**.</span></span> 
3. <span data-ttu-id="ff74a-176">Para criar um novo namespace do Controle de Acesso, clique em **Novo**, em **Serviços de Aplicativos**, em **Controle de Acesso** e em **Criação Rápida**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-176">To create a new Access Control namespace, click **New**, click **App Services**, click **Access Control**, and then click **Quick Create**.</span></span> 
4. <span data-ttu-id="ff74a-177">Insira um nome para o namespace.</span><span class="sxs-lookup"><span data-stu-id="ff74a-177">Enter a name for the namespace.</span></span> <span data-ttu-id="ff74a-178">O Azure verifica se o nome é exclusivo.</span><span class="sxs-lookup"><span data-stu-id="ff74a-178">Azure verifies that the name is unique.</span></span>
5. <span data-ttu-id="ff74a-179">Selecione a região na qual o namespace é usado.</span><span class="sxs-lookup"><span data-stu-id="ff74a-179">Select the region in which the namespace is used.</span></span> <span data-ttu-id="ff74a-180">Para obter o melhor desempenho, use a região na qual você está implantando o seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="ff74a-180">For the best performance, use the region in which you are deploying your application.</span></span>
6. <span data-ttu-id="ff74a-181">Se você tiver mais de uma assinatura, selecione a assinatura que você deseja usar para o namespace do ACS.</span><span class="sxs-lookup"><span data-stu-id="ff74a-181">If you have more than one subscription, select the subscription that you want to use for the ACS namespace.</span></span>
7. <span data-ttu-id="ff74a-182">Clique em **Criar**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-182">Click **Create**.</span></span>

<span data-ttu-id="ff74a-183">O Azure cria e ativa o namespace.</span><span class="sxs-lookup"><span data-stu-id="ff74a-183">Azure creates and activates the namespace.</span></span> <span data-ttu-id="ff74a-184">Aguarde até que o status do novo namespace seja **Ativo** para continuar.</span><span class="sxs-lookup"><span data-stu-id="ff74a-184">Wait until the status of the new namespace is **Active** before continuing.</span></span> 

## <a name="add-identity-providers"></a><span data-ttu-id="ff74a-185">Adicionar provedores de identidade</span><span class="sxs-lookup"><span data-stu-id="ff74a-185">Add identity providers</span></span>
<span data-ttu-id="ff74a-186">Nesta tarefa, você adicionará os IPs a serem usados com seu aplicativo RP para autenticação.</span><span class="sxs-lookup"><span data-stu-id="ff74a-186">In this task, you add IPs to use with your RP application for authentication.</span></span> <span data-ttu-id="ff74a-187">Para fins de demonstração, esta tarefa mostra como adicionar o Windows Live como um IP, mas você poderá usar qualquer um dos IPs listados no Portal de Gerenciamento ACS.</span><span class="sxs-lookup"><span data-stu-id="ff74a-187">For demonstration purposes, this task shows how to add Windows Live as an IP, but you could use any of the IPs listed in the ACS Management Portal.</span></span>

1. <span data-ttu-id="ff74a-188">No [Portal de Gerenciamento do Azure][Azure Management Portal], clique em **Active Directory**, selecione um namespace de Controle de Acesso e, em seguida, clique em **Gerenciar**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-188">In the [Azure Management Portal][Azure Management Portal], click **Active Directory**, select an Access Control namespace, and then click **Manage**.</span></span> <span data-ttu-id="ff74a-189">O Portal de Gerenciamento do ACS é aberto.</span><span class="sxs-lookup"><span data-stu-id="ff74a-189">The ACS Management Portal opens.</span></span>
2. <span data-ttu-id="ff74a-190">No painel de navegação esquerdo do Portal de Gerenciamento do ACS, clique em **Provedores de Identidade**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-190">In the left navigation pane of the ACS Management Portal, click **Identity providers**.</span></span>
3. <span data-ttu-id="ff74a-191">O Windows Live ID é habilitado por padrão e não pode ser excluído.</span><span class="sxs-lookup"><span data-stu-id="ff74a-191">Windows Live ID is enabled by default, and cannot be deleted.</span></span> <span data-ttu-id="ff74a-192">Para fins deste tutorial, apenas o Windows Live ID é usado.</span><span class="sxs-lookup"><span data-stu-id="ff74a-192">For purposes of this tutorial, only Windows Live ID is used.</span></span> <span data-ttu-id="ff74a-193">Nessa tela, no entanto, é onde você poderia adicionar outros IPs, clicando no botão **Adicionar** .</span><span class="sxs-lookup"><span data-stu-id="ff74a-193">This screen, however, is where you could add other IPs, by clicking the **Add** button.</span></span>

<span data-ttu-id="ff74a-194">O Windows Live ID agora está habilitado como um IP para o seu namespace do ACS.</span><span class="sxs-lookup"><span data-stu-id="ff74a-194">Windows Live ID is now enabled as an IP for your ACS namespace.</span></span> <span data-ttu-id="ff74a-195">Em seguida, especifique seu aplicativo web Java (a ser criado mais tarde) como um RP.</span><span class="sxs-lookup"><span data-stu-id="ff74a-195">Next, you specify your Java web application (to be created later) as an RP.</span></span>

## <a name="add-a-relying-party-application"></a><span data-ttu-id="ff74a-196">Adicionar um aplicativo de terceira parte confiável</span><span class="sxs-lookup"><span data-stu-id="ff74a-196">Add a relying party application</span></span>
<span data-ttu-id="ff74a-197">Nesta tarefa, você configura o ACS para reconhecer seu aplicativo web Java como um aplicativo RP válido.</span><span class="sxs-lookup"><span data-stu-id="ff74a-197">In this task, you configure ACS to recognize your Java web application as a valid RP application.</span></span>

1. <span data-ttu-id="ff74a-198">No Portal de Gerenciamento do ACS, clique em **Aplicativos de terceiras partes confiáveis**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-198">On the ACS Management Portal, click **Relying party applications**.</span></span>
2. <span data-ttu-id="ff74a-199">Na página **Aplicativos de Terceira Parte Confiável**, clique em **Adicionar**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-199">On the **Relying Party Applications** page, click **Add**.</span></span>
3. <span data-ttu-id="ff74a-200">Na página **Adicionar aplicativos de terceiras partes confiáveis** , faça o seguinte:</span><span class="sxs-lookup"><span data-stu-id="ff74a-200">On the **Add Relying Party Application** page, do the following:</span></span>
   
   1. <span data-ttu-id="ff74a-201">Em **Nome**, digite o nome do RP.</span><span class="sxs-lookup"><span data-stu-id="ff74a-201">In **Name**, type the name of the RP.</span></span> <span data-ttu-id="ff74a-202">Para fins desse tutorial, digite **Aplicativo Web do Azure**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-202">For purposes of this tutorial, type **Azure Web App**.</span></span>
   2. <span data-ttu-id="ff74a-203">Em **Modo**, selecione **Inserir as configurações manualmente**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-203">In **Mode**, select **Enter settings manually**.</span></span>
   3. <span data-ttu-id="ff74a-204">Em **Realm**, digite o URI ao qual o token de segurança emitido pelo ACS se aplica.</span><span class="sxs-lookup"><span data-stu-id="ff74a-204">In **Realm**, type the URI to which the security token issued by ACS applies.</span></span> <span data-ttu-id="ff74a-205">Para esta tarefa, digite **http://localhost:8080/**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-205">For this task, type **http://localhost:8080/**.</span></span>
      <span data-ttu-id="ff74a-206">![Realm de terceira parte confiável para uso no emulador de computação][relying_party_realm_emulator]</span><span class="sxs-lookup"><span data-stu-id="ff74a-206">![Relying party realm for use in compute emulator][relying_party_realm_emulator]</span></span>
   4. <span data-ttu-id="ff74a-207">Em **URL de Retorno,** digite a URL para a qual o ACS retorna o token de segurança.</span><span class="sxs-lookup"><span data-stu-id="ff74a-207">In **Return URL,** type the URL to which ACS returns the security token.</span></span> <span data-ttu-id="ff74a-208">Para esta tarefa, digite **http://localhost:8080/MyACSHelloWorld/index.jsp**
      ![URL de retorno da terceira parte confiável para uso no emulador de computação][relying_party_return_url_emulator]</span><span class="sxs-lookup"><span data-stu-id="ff74a-208">For this task, type **http://localhost:8080/MyACSHelloWorld/index.jsp**
![Relying party return URL for use in compute emulator][relying_party_return_url_emulator]</span></span>
   5. <span data-ttu-id="ff74a-209">Aceite os valores padrão no restante dos campos.</span><span class="sxs-lookup"><span data-stu-id="ff74a-209">Accept the default values in the rest of the fields.</span></span>
4. <span data-ttu-id="ff74a-210">Clique em **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-210">Click **Save**.</span></span>

<span data-ttu-id="ff74a-211">Você agora configurou com êxito seu aplicativo Web Java, quando executado no emulador de computação do Azure (em http://localhost:8080/), para ser um RP no namespace do ACS.</span><span class="sxs-lookup"><span data-stu-id="ff74a-211">You have now successfully configured your Java web application when it is run in the Azure compute emulator (at http://localhost:8080/) to be an RP in your ACS namespace.</span></span> <span data-ttu-id="ff74a-212">Em seguida, crie as regras que o ACS usa para processar declarações para o RP.</span><span class="sxs-lookup"><span data-stu-id="ff74a-212">Next, create the rules that ACS uses to process claims for the RP.</span></span>

## <a name="create-rules"></a><span data-ttu-id="ff74a-213">Criar regras</span><span class="sxs-lookup"><span data-stu-id="ff74a-213">Create rules</span></span>
<span data-ttu-id="ff74a-214">Nesta tarefa, você define as regras que orientam como as declarações são passadas dos IPs para seu RP.</span><span class="sxs-lookup"><span data-stu-id="ff74a-214">In this task, you define the rules that drive how claims are passed from IPs to your RP.</span></span> <span data-ttu-id="ff74a-215">Para o objetivo deste guia, iremos configurar o ACS simplesmente para copiar os tipos e valores de declarações de entrada diretamente no token de saída, sem filtrá-los nem modificá-los.</span><span class="sxs-lookup"><span data-stu-id="ff74a-215">For the purpose of this guide, we will simply configure ACS to copy the input claim types and values directly in the output token, without filtering or modifying them.</span></span>

1. <span data-ttu-id="ff74a-216">Na página principal do Portal de Gerenciamento do ACS, clique em **Grupos de Regras**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-216">On the ACS Management Portal main page, click **Rule groups**.</span></span>
2. <span data-ttu-id="ff74a-217">Na página **Grupos de Regras**, clique em **Grupo de Regras Padrão para o Aplicativo Web do Azure**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-217">On the **Rule Groups** page, click **Default Rule Group for Azure Web App**.</span></span>
3. <span data-ttu-id="ff74a-218">Na página **Editar Grupo de Regras**, clique em **Gerar**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-218">On the **Edit Rule Group** page, click **Generate**.</span></span>
4. <span data-ttu-id="ff74a-219">Na página **Gerar Regras: Grupo de Regras Padrão para o Aplicativo Web do Azure**, verifique se Windows Live ID está selecionado e clique em **Gerar**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-219">On the **Generate Rules: Default Rule Group for Azure Web App** page, ensure Windows Live ID is checked and then click **Generate**.</span></span>    
5. <span data-ttu-id="ff74a-220">Na página **Editar Grupo de Regras**, clique em **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-220">On the **Edit Rule Group** page, click **Save**.</span></span>

## <a name="upload-a-certificate-to-your-acs-namespace"></a><span data-ttu-id="ff74a-221">Carregar um certificado para seu namespace do ACS</span><span class="sxs-lookup"><span data-stu-id="ff74a-221">Upload a certificate to your ACS namespace</span></span>
<span data-ttu-id="ff74a-222">Nesta tarefa, você carrega um certificado PFX que será usado para assinar solicitações de token criadas pelo seu namespace do ACS.</span><span class="sxs-lookup"><span data-stu-id="ff74a-222">In this task, you upload a .PFX certificate that will be used to sign token requests created by your ACS namespace.</span></span>

1. <span data-ttu-id="ff74a-223">Na página principal do Portal de Gerenciamento do ACS, clique em **Certificados e Chaves**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-223">On the ACS Management Portal main page, click **Certificates and keys**.</span></span>
2. <span data-ttu-id="ff74a-224">Na página **Certificados e Chaves**, clique em **Adicionar** acima de **Autenticação de Tokens**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-224">On the **Certificates and Keys** page, click **Add** above **Token Signing**.</span></span>
3. <span data-ttu-id="ff74a-225">Na página **Adicionar Certificado ou Chave de Autenticação de Token** :</span><span class="sxs-lookup"><span data-stu-id="ff74a-225">On the **Add Token-Signing Certificate or Key** page:</span></span>
   1. <span data-ttu-id="ff74a-226">Na seção **Usado para**, clique em **Aplicativo de Terceira Parte Confiável** e selecione **Aplicativo Web do Azure** (que você configurou previamente com o nome do seu aplicativo de terceira parte confiável).</span><span class="sxs-lookup"><span data-stu-id="ff74a-226">In the **Used for** section, click **Relying Party Application** and select **Azure Web App** (which you previously set as the name of your relying party application).</span></span>
   2. <span data-ttu-id="ff74a-227">Na seção **Tipo**, selecione **Certificado X.509**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-227">In the **Type** section, select **X.509 Certificate**.</span></span>
   3. <span data-ttu-id="ff74a-228">Na seção **Certificado** , clique no botão procurar e navegue até o arquivo de certificado x.509 que você deseja usar.</span><span class="sxs-lookup"><span data-stu-id="ff74a-228">In the **Certificate** section, click the browse button and navigate to the X.509 certificate file that you want to use.</span></span> <span data-ttu-id="ff74a-229">Esse será um arquivo .PFX.</span><span class="sxs-lookup"><span data-stu-id="ff74a-229">This will be a .PFX file.</span></span> <span data-ttu-id="ff74a-230">Selecione o arquivo, clique em **Abrir** e digite a senha do certificado na caixa de texto **Senha**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-230">Select the file, click **Open**,  and then enter the certificate password in the **Password** text box.</span></span> <span data-ttu-id="ff74a-231">Observe que, para fins de teste, você deve usar um certificado autoassinado.</span><span class="sxs-lookup"><span data-stu-id="ff74a-231">Note that for testing purposes, you may use a self-signed-certificate.</span></span> <span data-ttu-id="ff74a-232">Para criar um certificado autoassinado, use o botão **Novo** na caixa de diálogo **Biblioteca de Filtros do ACS** (descrita posteriormente) ou use o utilitário **encutil.exe** no [site do projeto][project website] do Kit de Início do Azure para Java.</span><span class="sxs-lookup"><span data-stu-id="ff74a-232">To create a self-signed certificate, use the **New** button in the **ACS Filter Library** dialog (described later), or use the **encutil.exe** utility from the [project website][project website] of the Azure Starter Kit for Java.</span></span>
   4. <span data-ttu-id="ff74a-233">Verifique se **Tornar Primário** está marcado.</span><span class="sxs-lookup"><span data-stu-id="ff74a-233">Ensure that **Make Primary** is checked.</span></span> <span data-ttu-id="ff74a-234">Sua página **Adicionar Chave ou Certificado de Autenticação de Tokens** deve ser semelhante à exibida a seguir.</span><span class="sxs-lookup"><span data-stu-id="ff74a-234">Your **Add Token-Signing Certificate or Key** page should look similar to the following.</span></span>
       <span data-ttu-id="ff74a-235">![Adicionar certificado de autenticação de tokens][add_token_signing_cert]</span><span class="sxs-lookup"><span data-stu-id="ff74a-235">![Add token-signing certificate][add_token_signing_cert]</span></span>
   5. <span data-ttu-id="ff74a-236">Clique em **Salvar** para salvar suas configurações e fechar a página **Adicionar Certificado ou Chave de Autenticação de Tokens**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-236">Click **Save** to save your settings and close the **Add Token-Signing Certificate or Key** page.</span></span>

<span data-ttu-id="ff74a-237">Em seguida, revise as informações na página Integração de Aplicativos e copie o URI do qual você precisará para configurar seu aplicativo Web Java para usar o ACS.</span><span class="sxs-lookup"><span data-stu-id="ff74a-237">Next, review the information in the Application Integration page and copy the URI that you will need to configure your Java web application to use ACS.</span></span>

## <a name="review-the-application-integration-page"></a><span data-ttu-id="ff74a-238">Revisar a página Integração de Aplicativos</span><span class="sxs-lookup"><span data-stu-id="ff74a-238">Review the Application Integration page</span></span>
<span data-ttu-id="ff74a-239">Você pode encontrar todas as informações e o código necessário para configurar seu aplicativo Web Java (o aplicativo RP) para trabalhar com o ACS na página Integração de Aplicativos do Portal de Gerenciamento do ACS.</span><span class="sxs-lookup"><span data-stu-id="ff74a-239">You can find all the information and the code necessary to configure your Java web application (the RP application) to work with ACS on the Application Integration page of the ACS Management Portal.</span></span> <span data-ttu-id="ff74a-240">Você precisará dessas informações ao configurar seu aplicativo web Java para autenticação federada.</span><span class="sxs-lookup"><span data-stu-id="ff74a-240">You will need this information when configuring your Java web application for federated authentication.</span></span>

1. <span data-ttu-id="ff74a-241">No Portal de Gerenciamento ACS, clique em **Integração de aplicativos**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-241">On the ACS Management Portal, click **Application integration**.</span></span>  
2. <span data-ttu-id="ff74a-242">Na página **Integração de Aplicativos**, clique em **Páginas de Logon**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-242">In the **Application Integration** page, click **Login Pages**.</span></span>
3. <span data-ttu-id="ff74a-243">Na página **Integração da Página de Logon**, clique em **Aplicativo Web do Azure**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-243">In the **Login Page Integration** page, click **Azure Web App**.</span></span>

<span data-ttu-id="ff74a-244">Na página **Integração da Página de Logon: Aplicativo Web do Azure**, a URL listada na **Opção 1: Link para uma página de logon hospedada pelo ACS** será usada em seu aplicativo Web Java.</span><span class="sxs-lookup"><span data-stu-id="ff74a-244">In the **Login Page Integration: Azure Web App** page, the URL listed in **Option 1: Link to an ACS-hosted login page** will be used in your Java web application.</span></span> <span data-ttu-id="ff74a-245">Você precisará desse valor ao adicionar a biblioteca de Filtros de Serviços do Controle de Acesso para seu aplicativo Java.</span><span class="sxs-lookup"><span data-stu-id="ff74a-245">You will need this value when you add the Azure Access Control Services Filter library to your Java application.</span></span>

## <a name="create-a-java-web-application"></a><span data-ttu-id="ff74a-246">Criar um aplicativo web Java</span><span class="sxs-lookup"><span data-stu-id="ff74a-246">Create a Java web application</span></span>
1. <span data-ttu-id="ff74a-247">No Eclipse, no menu, clique em **Arquivo**, clique em **Novo** e clique em **Projeto Web Dinâmico**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-247">Within Eclipse, at the menu click **File**, click **New**, and then click **Dynamic Web Project**.</span></span> <span data-ttu-id="ff74a-248">(Se você não vir o **Projeto Web Dinâmico** listado como um projeto disponível depois de clicar em **Arquivo**, **Novo**, faça o seguinte: clique em **Arquivo**, clique em **Novo**, clique em **Projeto**, expanda **Web**, clique em **Projeto Web Dinâmico** e clique em **Avançar**.) Para fins deste tutorial, nomeie o projeto **MyACSHelloWorld**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-248">(If you don't see **Dynamic Web Project** listed as an available project after clicking **File**, **New**, then do the following: click **File**, click **New**, click **Project**, expand **Web**, click **Dynamic Web Project**, and click **Next**.) For purposes of this tutorial, name the project **MyACSHelloWorld**.</span></span> <span data-ttu-id="ff74a-249">(Certifique-se de usar esse nome, as etapas subsequentes deste tutorial esperam que seu arquivo WAR seja nomeado MyACSHelloWorld).</span><span class="sxs-lookup"><span data-stu-id="ff74a-249">(Ensure you use this name, subsequent steps in this tutorial expect your WAR file to be named MyACSHelloWorld).</span></span> <span data-ttu-id="ff74a-250">Sua tela será semelhante à seguinte:</span><span class="sxs-lookup"><span data-stu-id="ff74a-250">Your screen will appear similar to the following:</span></span>
   
    ![Criar um Projeto Hello World para exemplo do ACS][create_acs_hello_world]
   
    <span data-ttu-id="ff74a-252">Clique em **Concluir**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-252">Click **Finish**.</span></span>
2. <span data-ttu-id="ff74a-253">Na exibição do Explorador de Projeto do Eclipse, expanda **MyACSHelloWorld**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-253">Within Eclipse's Project Explorer view, expand **MyACSHelloWorld**.</span></span> <span data-ttu-id="ff74a-254">Clique com o botão direito do mouse em **WebContent**, clique em **Novo** e, em seguida, clique em **Arquivo JSP**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-254">Right-click **WebContent**, click **New**, and then click **JSP File**.</span></span>
3. <span data-ttu-id="ff74a-255">Na caixa de diálogo **Novo Arquivo JSP**, nomeie o arquivo como **index.jsp**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-255">In the **New JSP File** dialog, name the file **index.jsp**.</span></span> <span data-ttu-id="ff74a-256">Mantenha a pasta pai como MyACSHelloWorld/WebContent, conforme mostrado a seguir:</span><span class="sxs-lookup"><span data-stu-id="ff74a-256">Keep the parent folder as MyACSHelloWorld/WebContent, as shown in the following:</span></span>
   
    ![Adicionar um arquivo JSP para exemplo do ACS][add_jsp_file_acs]
   
    <span data-ttu-id="ff74a-258">Clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-258">Click **Next**.</span></span>
4. <span data-ttu-id="ff74a-259">Na caixa de diálogo **Selecionar Modelo JSP**, selecione **Novo Arquivo JSP (html)** e clique em **Concluir**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-259">In the **Select JSP Template** dialog, select **New JSP File (html)** and click **Finish**.</span></span>
5. <span data-ttu-id="ff74a-260">Quando o arquivo index.jsp for aberto no Eclipse, adicione texto para exibir **Hello ACS World!**</span><span class="sxs-lookup"><span data-stu-id="ff74a-260">When the index.jsp file opens in Eclipse, add in text to display **Hello ACS World!**</span></span> <span data-ttu-id="ff74a-261">dentro do elemento existente `<body>`.</span><span class="sxs-lookup"><span data-stu-id="ff74a-261">within the existing `<body>` element.</span></span> <span data-ttu-id="ff74a-262">Seu conteúdo `<body>` atualizado deve ser semelhante ao seguinte:</span><span class="sxs-lookup"><span data-stu-id="ff74a-262">Your updated `<body>` content should appear as the following:</span></span>
   
        <body>
          <b><% out.println("Hello ACS World!"); %></b>
        </body>
   
    <span data-ttu-id="ff74a-263">Salve o index.jsp.</span><span class="sxs-lookup"><span data-stu-id="ff74a-263">Save index.jsp.</span></span>

## <a name="add-the-acs-filter-library-to-your-application"></a><span data-ttu-id="ff74a-264">Adicionar a Biblioteca de Filtros do ACS ao seu aplicativo</span><span class="sxs-lookup"><span data-stu-id="ff74a-264">Add the ACS Filter library to your application</span></span>
1. <span data-ttu-id="ff74a-265">No explorador de Projeto do Eclipse, clique com o botão direito do mouse em **MyACSHelloWorld**, clique em **Caminho de Compilação** e em **Configurar Caminho de Compilação**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-265">In Eclipse's Project Explorer, right-click **MyACSHelloWorld**, click **Build Path**, and then click **Configure Build Path**.</span></span>
2. <span data-ttu-id="ff74a-266">Na caixa de diálogo **Caminho de Compilação do Java**, clique na guia **Bibliotecas**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-266">In the **Java Build Path** dialog, click the **Libraries** tab.</span></span>
3. <span data-ttu-id="ff74a-267">Clique em **Adicionar Biblioteca**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-267">Click **Add Library**.</span></span>
4. <span data-ttu-id="ff74a-268">Clique em **Filtro dos Serviços de Controle de Acesso do Azure (da MS Open Tech)** e clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-268">Click **Azure Access Control Services Filter (by MS Open Tech)** and then click **Next**.</span></span> <span data-ttu-id="ff74a-269">A caixa de diálogo **Filtro do Access Control Services do Azure** é exibida.</span><span class="sxs-lookup"><span data-stu-id="ff74a-269">The **Azure Access Control Services Filter** dialog is displayed.</span></span>  <span data-ttu-id="ff74a-270">(O campo **Localização** pode ter um caminho diferente, dependendo de onde você instalou o Eclipse, e o número da versão pode ser diferente, dependendo das atualizações do software.)</span><span class="sxs-lookup"><span data-stu-id="ff74a-270">(The **Location** field may have a different path, depending on where you installed Eclipse, and the version number could be different, depending on software updates.)</span></span>
   
    ![Adicionar a biblioteca de filtros do ACS][add_acs_filter_lib]
5. <span data-ttu-id="ff74a-272">Usando um navegador aberto na página **Integração da Página de Logon** do Portal de Gerenciamento, copie a URL listada no campo **Opção 1: link para uma página de logon hospedada pelo ACS** e cole-a no campo **Ponto de Extremidade de Autenticação do ACS** na caixa de diálogo do Eclipse.</span><span class="sxs-lookup"><span data-stu-id="ff74a-272">Using a browser opened to the **Login Page Integration** page of the Management Portal, copy the URL listed in the **Option 1: Link to an ACS-hosted login page** field and paste it into the **ACS Authentication Endpoint** field of the Eclipse dialog.</span></span>
6. <span data-ttu-id="ff74a-273">Usando um navegador aberto na página **Editar Aplicativo de Terceira Parte Confiável** do Portal de Gerenciamento, copie a URL listada no campo **Realm** e cole-a no campo **Realm de Terceira Parte Confiável** na caixa de diálogo do Eclipse.</span><span class="sxs-lookup"><span data-stu-id="ff74a-273">Using a browser opened to the **Edit Relying Party Application** page of the Management Portal, copy the URL listed in the **Realm** field and paste it into the **Relying Party Realm** field of the Eclipse dialog.</span></span>
7. <span data-ttu-id="ff74a-274">Na seção **Segurança** da caixa de diálogo Eclipse, se desejar usar um certificado existente, clique em **Procurar**, navegue até o certificado que você deseja usar, selecione-o e clique em **Abrir**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-274">Within the **Security** section of the Eclipse dialog, if you want to use an existing certificate, click **Browse**, navigate to the certificate you want to use, select it, and click **Open**.</span></span> <span data-ttu-id="ff74a-275">Ou, se você desejar criar um novo certificado, clique em **Novo** para exibir a caixa de diálogo **Novo Certificado**, especifique a senha, o nome do arquivo .cer e o nome do arquivo .pfx para o novo certificado.</span><span class="sxs-lookup"><span data-stu-id="ff74a-275">Or, if you want to create a new certificate, click **New** to display the **New Certificate** dialog, then specify the password, name of the .cer file, and name of the .pfx file for the new certificate.</span></span>
8. <span data-ttu-id="ff74a-276">Marque **Inserir o certificado no arquivo WAR**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-276">Check **Embed the certificate in the WAR file**.</span></span> <span data-ttu-id="ff74a-277">A incorporação do certificado dessa maneira o inclui em sua implantação sem que você precise adicioná-lo manualmente como um componente.</span><span class="sxs-lookup"><span data-stu-id="ff74a-277">Embedding the certificate in this manner includes it in your deployment without requiring you to manually add it as a component.</span></span> <span data-ttu-id="ff74a-278">(Caso contrário, se você precisar armazenar seu certificado externamente ao arquivo WAR, você poderá adicionar o certificado como um componente da função e desmarcar **Inserir o certificado no arquivo WAR**.)</span><span class="sxs-lookup"><span data-stu-id="ff74a-278">(If instead you must store your certificate externally from your WAR file, you could add the certificate as a role component and uncheck **Embed the certificate in the WAR file**.)</span></span>
9. <span data-ttu-id="ff74a-279">[Opcional] Mantenha a opção **Requer conexões HTTPS** marcada.</span><span class="sxs-lookup"><span data-stu-id="ff74a-279">[Optional] Keep **Require HTTPS connections** checked.</span></span> <span data-ttu-id="ff74a-280">Se você definir essa opção, precisará acessar seu aplicativo usando o protocolo HTTPS.</span><span class="sxs-lookup"><span data-stu-id="ff74a-280">If you set this option, you'll need to access your application using the HTTPS protocol.</span></span> <span data-ttu-id="ff74a-281">Se você não desejar requerer conexões HTTPS, desmarque essa opção.</span><span class="sxs-lookup"><span data-stu-id="ff74a-281">If you don't want to require HTTPS connections, uncheck this option.</span></span>
10. <span data-ttu-id="ff74a-282">Para uma implantação no emulador de computação, suas configurações do **Filtro do ACS do Azure** serão semelhantes ao seguinte.</span><span class="sxs-lookup"><span data-stu-id="ff74a-282">For a deployment to the compute emulator, your **Azure ACS Filter** settings will look similar to the following.</span></span>
    
    ![Configurações do Filtro do ACS do Azure para uma implantação no emulador de computação][add_acs_filter_lib_emulator]
11. <span data-ttu-id="ff74a-284">Clique em **Concluir**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-284">Click **Finish**.</span></span>
12. <span data-ttu-id="ff74a-285">Clique em **Sim** quando for apresentada uma caixa de diálogo informando que será criado um arquivo web.xml.</span><span class="sxs-lookup"><span data-stu-id="ff74a-285">Click **Yes** when presented with with a dialog box stating that a web.xml file will be created.</span></span>
13. <span data-ttu-id="ff74a-286">Clique em **OK** para fechar o diálogo **Caminho de Compilação Java**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-286">Click **OK** to close the **Java Build Path** dialog.</span></span>

## <a name="deploy-to-the-compute-emulator"></a><span data-ttu-id="ff74a-287">Implantar no emulador de computação</span><span class="sxs-lookup"><span data-stu-id="ff74a-287">Deploy to the compute emulator</span></span>
1. <span data-ttu-id="ff74a-288">No Explorador de Projeto do Eclipse, clique com o botão direito do mouse em **MyACSHelloWorld**, clique em **Azure** e em **Pacote para Azure**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-288">In Eclipse's Project Explorer, right-click **MyACSHelloWorld**, click **Azure**, and then click **Package for Azure**.</span></span>
2. <span data-ttu-id="ff74a-289">Para **Nome do Projeto**, digite **MyAzureACSProject** e clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-289">For **Project name**, type **MyAzureACSProject** and click **Next**.</span></span>
3. <span data-ttu-id="ff74a-290">Selecione um JDK e o servidor de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="ff74a-290">Select a JDK and application server.</span></span> <span data-ttu-id="ff74a-291">(Essas etapas são abordadas detalhadamente no tutorial [Criando um aplicativo Hello World para o Azure no Eclipse (a página pode estar em inglês)](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx) ).</span><span class="sxs-lookup"><span data-stu-id="ff74a-291">(These steps are covered in detail in the [Creating a Hello World Application for Azure in Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx) tutorial).</span></span>
4. <span data-ttu-id="ff74a-292">Clique em **Concluir**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-292">Click **Finish**.</span></span>
5. <span data-ttu-id="ff74a-293">Clique no botão **Executar no emulador do Azure** .</span><span class="sxs-lookup"><span data-stu-id="ff74a-293">Click the **Run in Azure Emulator** button.</span></span>
6. <span data-ttu-id="ff74a-294">Depois de iniciar seu aplicativo web Java no emulador de computação, feche todas as instâncias do seu navegador (para que nenhuma sessão atual do navegador interfira em seu teste de logon do ACS).</span><span class="sxs-lookup"><span data-stu-id="ff74a-294">After your Java web application starts in the compute emulator, close all instances of your browser (so that any current browser sessions do not interfere with your ACS login test).</span></span>
7. <span data-ttu-id="ff74a-295">Execute seu aplicativo ao abrir <http://localhost:8080/MyACSHelloWorld/> em seu navegador (ou <https://localhost:8080/MyACSHelloWorld/> se tiver selecionado **Requer conexões HTTPS**).</span><span class="sxs-lookup"><span data-stu-id="ff74a-295">Run your application by opening <http://localhost:8080/MyACSHelloWorld/> in your browser (or <https://localhost:8080/MyACSHelloWorld/> if you checked **Require HTTPS connections**).</span></span> <span data-ttu-id="ff74a-296">Um logon do Windows Live ID deve ser solicitado e você deverá ser levado à URL de retorno especificada para seu aplicativo de terceira parte confiável.</span><span class="sxs-lookup"><span data-stu-id="ff74a-296">You should be prompted for a Windows Live ID login, then you should be taken to the return URL specified for your relying party application.</span></span>
8. <span data-ttu-id="ff74a-297">Ao concluir a exibição do aplicativo, clique no botão **Redefinir Emulador do Azure** .</span><span class="sxs-lookup"><span data-stu-id="ff74a-297">When you have finished viewing your application, click the **Reset Azure Emulator** button.</span></span>

## <a name="deploy-to-azure"></a><span data-ttu-id="ff74a-298">Implantar no Azure</span><span class="sxs-lookup"><span data-stu-id="ff74a-298">Deploy to Azure</span></span>
<span data-ttu-id="ff74a-299">Para implantar no Azure, você precisará alterar o realm da terceira parte confiável e retornar a URL para seu namespace do ACS.</span><span class="sxs-lookup"><span data-stu-id="ff74a-299">To deploy to Azure, you'll need to change the relying party realm and return URL for your ACS namespace.</span></span>

1. <span data-ttu-id="ff74a-300">No Portal de Gerenciamento do Azure, na página **Editar Aplicativo da Terceira Parte Confiável**, modifique **Realm** para ser a URL de seu site implantado.</span><span class="sxs-lookup"><span data-stu-id="ff74a-300">Within the Azure Management Portal, in the **Edit Relying Party Application** page, modify **Realm** to be the URL of your deployed site.</span></span> <span data-ttu-id="ff74a-301">Substitua **exemplo** pelo nome DNS especificado para sua implantação.</span><span class="sxs-lookup"><span data-stu-id="ff74a-301">Replace **example** with the DNS name you specified for your deployment.</span></span>
   
    ![Realm de terceira parte confiável para uso na produção][relying_party_realm_production]
2. <span data-ttu-id="ff74a-303">Modifique a **URL de retorno** para ser a URL do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="ff74a-303">Modify **Return URL** to be the URL of your application.</span></span> <span data-ttu-id="ff74a-304">Substitua **exemplo** pelo nome DNS especificado para sua implantação.</span><span class="sxs-lookup"><span data-stu-id="ff74a-304">Replace **example** with the DNS name you specified for your deployment.</span></span>
   
    ![URL de retorno da terceira parte confiável para uso na produção][relying_party_return_url_production]
3. <span data-ttu-id="ff74a-306">Clique em **Salvar** para salvar o realm da terceira parte confiável atualizado e retornar as alterações da URL.</span><span class="sxs-lookup"><span data-stu-id="ff74a-306">Click **Save** to save your updated replying party realm and return URL changes.</span></span>
4. <span data-ttu-id="ff74a-307">Mantenha a página **Integração da Página de Logon** aberta no navegador, você precisará copiá-la em breve.</span><span class="sxs-lookup"><span data-stu-id="ff74a-307">Keep the **Login Page Integration** page open in your browser, you'll need to copy from it shortly.</span></span>
5. <span data-ttu-id="ff74a-308">No explorador de Projeto do Eclipse, clique com o botão direito do mouse em **MyACSHelloWorld**, clique em **Caminho de Compilação** e em **Configurar Caminho de Compilação**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-308">In Eclipse's Project Explorer, right-click **MyACSHelloWorld**, click **Build Path**, and then click **Configure Build Path**.</span></span>
6. <span data-ttu-id="ff74a-309">Clique na guia **Bibliotecas**, clique em **Filtro dos Serviços de Controle de Acesso do Azure** e em **Editar**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-309">Click the **Libraries** tab, click **Azure Access Control Services Filter**, and then click **Edit**.</span></span>
7. <span data-ttu-id="ff74a-310">Usando um navegador aberto na página **Integração da Página de Logon** do Portal de Gerenciamento, copie a URL listada no campo **Opção 1: link para uma página de logon hospedada pelo ACS** e cole-a no campo **Ponto de Extremidade de Autenticação do ACS** na caixa de diálogo do Eclipse.</span><span class="sxs-lookup"><span data-stu-id="ff74a-310">Using a browser opened to the **Login Page Integration** page of the Management Portal, copy the URL listed in the **Option 1: Link to an ACS-hosted login page** field and paste it into the **ACS Authentication Endpoint** field of the Eclipse dialog.</span></span>
8. <span data-ttu-id="ff74a-311">Usando um navegador aberto na página **Editar Aplicativo de Terceira Parte Confiável** do Portal de Gerenciamento, copie a URL listada no campo **Realm** e cole-a no campo **Realm de Terceira Parte Confiável** na caixa de diálogo do Eclipse.</span><span class="sxs-lookup"><span data-stu-id="ff74a-311">Using a browser opened to the **Edit Relying Party Application** page of the Management Portal, copy the URL listed in the **Realm** field and paste it into the **Relying Party Realm** field of the Eclipse dialog.</span></span>
9. <span data-ttu-id="ff74a-312">Na seção **Segurança** da caixa de diálogo Eclipse, se desejar usar um certificado existente, clique em **Procurar**, navegue até o certificado que você deseja usar, selecione-o e clique em **Abrir**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-312">Within the **Security** section of the Eclipse dialog, if you want to use an existing certificate, click **Browse**, navigate to the certificate you want to use, select it, and click **Open**.</span></span> <span data-ttu-id="ff74a-313">Ou, se você desejar criar um novo certificado, clique em **Novo** para exibir a caixa de diálogo **Novo Certificado**, especifique a senha, o nome do arquivo .cer e o nome do arquivo .pfx para o novo certificado.</span><span class="sxs-lookup"><span data-stu-id="ff74a-313">Or, if you want to create a new certificate, click **New** to display the **New Certificate** dialog, then specify the password, name of the .cer file, and name of the .pfx file for the new certificate.</span></span>
10. <span data-ttu-id="ff74a-314">Mantenha a opção **Incorporar o certificado no arquivo WAR** marcada, supondo que você deseja incorporar o certificado no arquivo WAR.</span><span class="sxs-lookup"><span data-stu-id="ff74a-314">Keep **Embed the certificate in the WAR file** checked, assuming you want to embed the certificate in the WAR file.</span></span>
11. <span data-ttu-id="ff74a-315">[Opcional] Mantenha a opção **Requer conexões HTTPS** marcada.</span><span class="sxs-lookup"><span data-stu-id="ff74a-315">[Optional] Keep **Require HTTPS connections** checked.</span></span> <span data-ttu-id="ff74a-316">Se você definir essa opção, precisará acessar seu aplicativo usando o protocolo HTTPS.</span><span class="sxs-lookup"><span data-stu-id="ff74a-316">If you set this option, you'll need to access your application using the HTTPS protocol.</span></span> <span data-ttu-id="ff74a-317">Se você não desejar requerer conexões HTTPS, desmarque essa opção.</span><span class="sxs-lookup"><span data-stu-id="ff74a-317">If you don't want to require HTTPS connections, uncheck this option.</span></span>
12. <span data-ttu-id="ff74a-318">Para uma implantação no Azure, suas configurações do Filtro do ACS do Azure serão semelhantes ao seguinte.</span><span class="sxs-lookup"><span data-stu-id="ff74a-318">For a deployment to Azure, your Azure ACS Filter settings will look similar to the following.</span></span>
    
    ![Configurações do Filtro do ACS do Azure para uma implantação de produção][add_acs_filter_lib_production]
13. <span data-ttu-id="ff74a-320">Clique em **Concluir** para fechar a caixa de diálogo **Editar Biblioteca**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-320">Click **Finish** to close the **Edit Library** dialog.</span></span>
14. <span data-ttu-id="ff74a-321">Clique em **OK** para fechar a caixa de diálogo **Propriedades de MyACSHelloWorld**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-321">Click **OK** to close the **Properties for MyACSHelloWorld** dialog.</span></span>
15. <span data-ttu-id="ff74a-322">No Eclipse, clique no botão **Publicar na Nuvem do Azure** .</span><span class="sxs-lookup"><span data-stu-id="ff74a-322">In Eclipse, click the **Publish to Azure Cloud** button.</span></span> <span data-ttu-id="ff74a-323">Responda às solicitações, de maneira semelhante ao que foi feito na seção **Para implantar seu aplicativo no Azure** do tópico [Criando um aplicativo Hello World para o Azure no Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx) .</span><span class="sxs-lookup"><span data-stu-id="ff74a-323">Respond to the prompts, similar as done in the **To deploy your application to Azure** section of the [Creating a Hello World Application for Azure in Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx) topic.</span></span> 

<span data-ttu-id="ff74a-324">Após a implantação do seu aplicativo web, feche todas as sessões abertas do navegador e execute seu aplicativo web. Você deverá ser solicitado a entrar com as credenciais do Windows Live ID que, em seguida, serão enviadas para a URL de retorno de seu aplicativo de terceira parte confiável.</span><span class="sxs-lookup"><span data-stu-id="ff74a-324">After your web application has been deployed, close any open browser sessions, run your web application, and you should be prompted to sign in with Windows Live ID credentials, followed by being sent to the return URL of your relying party application.</span></span>

<span data-ttu-id="ff74a-325">Quando você terminar de usar seu aplicativo Hello World do ACS, lembre-se de excluir a implantação (você pode aprender como excluir uma implantação no tópico [Criando um aplicativo Hello World para o Azure no Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx) ).</span><span class="sxs-lookup"><span data-stu-id="ff74a-325">When you are done using your ACS Hello World application, remember to delete the deployment (you can learn how to delete a deployment in the [Creating a Hello World Application for Azure in Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx) topic).</span></span>

## <span data-ttu-id="ff74a-326"><a name="next_steps"></a>Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="ff74a-326"><a name="next_steps"></a>Next steps</span></span>
<span data-ttu-id="ff74a-327">Para obter um exame da marcação linguagem SAML (Security Assertion Markup Language) retornada pelo ACS para seu aplicativo, consulte [Como exibir SAML retornado pelo Serviço de Controle de Acesso do Azure][How to view SAML returned by the Azure Access Control Service].</span><span class="sxs-lookup"><span data-stu-id="ff74a-327">For an examination of the Security Assertion Markup Language (SAML) returned by ACS to your application, see [How to view SAML returned by the Azure Access Control Service][How to view SAML returned by the Azure Access Control Service].</span></span> <span data-ttu-id="ff74a-328">Para explorar melhor a funcionalidade do ACS e experimentar mais cenários sofisticados, consulte [Serviço de Controle de Acesso 2.0][Access Control Service 2.0].</span><span class="sxs-lookup"><span data-stu-id="ff74a-328">To further explore ACS's functionality and to experiment with more sophisticated scenarios, see [Access Control Service 2.0][Access Control Service 2.0].</span></span>

<span data-ttu-id="ff74a-329">Além disso, esse exemplo usou a opção **Incorporar o certificado no arquivo WAR** .</span><span class="sxs-lookup"><span data-stu-id="ff74a-329">Also, this example used the **Embed the certificate in the WAR file** option.</span></span> <span data-ttu-id="ff74a-330">Essa opção simplifica a implantação do certificado.</span><span class="sxs-lookup"><span data-stu-id="ff74a-330">This option makes it simple to deploy the certificate.</span></span> <span data-ttu-id="ff74a-331">Se, em vez disso, você desejar manter seu certificado de autenticação separado do seu arquivo WAR, você poderá usar a seguinte técnica:</span><span class="sxs-lookup"><span data-stu-id="ff74a-331">If instead you want to keep your signing certificate separate from your WAR file, you can use the following technique:</span></span>

1. <span data-ttu-id="ff74a-332">Na seção **Segurança** da caixa de diálogo **Filtro dos Serviços de Controle de Acesso do Azure**, digite **${env.JAVA_HOME}/mycert.cer** e desmarque a opção **Incorporar o certificado no arquivo WAR**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-332">Within the **Security** section of the **Azure Access Control Services Filter** dialog, type **${env.JAVA_HOME}/mycert.cer** and uncheck **Embed the certificate in the WAR file**.</span></span> <span data-ttu-id="ff74a-333">(Ajuste mycert.cer se o nome do arquivo do certificado for diferente). Clique em **Concluir** para fechar o diálogo.</span><span class="sxs-lookup"><span data-stu-id="ff74a-333">(Adjust mycert.cer if your certificate file name is different.) Click **Finish** to close the dialog.</span></span>
2. <span data-ttu-id="ff74a-334">Copie o certificado como um componente em sua implantação: no Explorador de Projeto do Eclipse, expanda **MyAzureACSProject**, clique com o botão direito do mouse em **WorkerRole1**, clique em **Propriedades**, expanda **Função do Azure** e clique em **Componentes**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-334">Copy the certificate as a component in your deployment: In Eclipse's Project Explorer, expand **MyAzureACSProject**, right-click **WorkerRole1**, click **Properties**, expand **Azure Role**, and click **Components**.</span></span>
3. <span data-ttu-id="ff74a-335">Clique em **Adicionar**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-335">Click **Add**.</span></span>
4. <span data-ttu-id="ff74a-336">Na caixa de diálogo **Adicionar Componente** :</span><span class="sxs-lookup"><span data-stu-id="ff74a-336">Within the **Add Component** dialog:</span></span>
   
   1. <span data-ttu-id="ff74a-337">Na seção **Importar** :</span><span class="sxs-lookup"><span data-stu-id="ff74a-337">In the **Import** section:</span></span>
      1. <span data-ttu-id="ff74a-338">Use o botão **Arquivo** para navegar para o certificado que você deseja usar.</span><span class="sxs-lookup"><span data-stu-id="ff74a-338">Use the **File** button to navigate to the certificate you want to use.</span></span> 
      2. <span data-ttu-id="ff74a-339">Para **Método**, selecione **copiar**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-339">For **Method**, select **copy**.</span></span>
   2. <span data-ttu-id="ff74a-340">Para **Como Nome**, clique na caixa de texto e aceite o nome padrão.</span><span class="sxs-lookup"><span data-stu-id="ff74a-340">For **As Name**, click on the text box and accept the default name.</span></span>
   3. <span data-ttu-id="ff74a-341">Na seção **Implantar** :</span><span class="sxs-lookup"><span data-stu-id="ff74a-341">In the **Deploy** section:</span></span>
      1. <span data-ttu-id="ff74a-342">Para **Método**, selecione **copiar**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-342">For **Method**, select **copy**.</span></span>
      2. <span data-ttu-id="ff74a-343">Para **Para o diretório**, digite **%JAVA_HOME%**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-343">For **To directory**, type **%JAVA_HOME%**.</span></span>
   4. <span data-ttu-id="ff74a-344">Sua caixa de diálogo **Adicionar Componente** deverá ser semelhante à seguinte.</span><span class="sxs-lookup"><span data-stu-id="ff74a-344">Your **Add Component** dialog should look similar to the following.</span></span>
      
       ![Adicionar componente de certificado][add_cert_component]
   5. <span data-ttu-id="ff74a-346">Clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="ff74a-346">Click **OK**.</span></span>

<span data-ttu-id="ff74a-347">Neste ponto, seu certificado seria incluído em sua implantação.</span><span class="sxs-lookup"><span data-stu-id="ff74a-347">At this point, your certificate would be included in your deployment.</span></span> <span data-ttu-id="ff74a-348">Observe que, independentemente de você incorporar o certificado no arquivo WAR ou adicioná-lo como um componente à sua implantação, você precisa carregar o certificado em seu namespace, conforme descrito na seção [Carregar um certificado em seu namespace do ACS][Upload a certificate to your ACS namespace].</span><span class="sxs-lookup"><span data-stu-id="ff74a-348">Note that regardless of whether you embed the certificate in the WAR file or add it as a component to your deployment, you need to upload the certificate to your namespace as described in the [Upload a certificate to your ACS namespace][Upload a certificate to your ACS namespace] section.</span></span>

[What is ACS?]: #what-is
[Concepts]: #concepts
[Prerequisites]: #pre
[Create a Java web application]: #create-java-app
[Create an ACS Namespace]: #create-namespace
[Add Identity Providers]: #add-IP
[Add a Relying Party Application]: #add-RP
[Create Rules]: #create-rules
[Upload a certificate to your ACS namespace]: #upload-certificate
[Review the Application Integration Page]: #review-app-int
[Configure Trust between ACS and Your ASP.NET Web Application]: #config-trust
[Add the ACS Filter library to your application]: #add_acs_filter_library
[Deploy to the compute emulator]: #deploy_compute_emulator
[Deploy to Azure]: #deploy_azure
[Next steps]: #next_steps
[project website]: http://wastarterkit4java.codeplex.com/releases/view/61026
[How to view SAML returned by the Azure Access Control Service]: active-directory-java-view-saml-returned-by-access-control.md
[Access Control Service 2.0]: http://go.microsoft.com/fwlink/?LinkID=212360
[Windows Identity Foundation]: http://www.microsoft.com/download/en/details.aspx?id=17331
[Windows Identity Foundation SDK]: http://www.microsoft.com/download/en/details.aspx?id=4451
[Azure Management Portal]: https://manage.windowsazure.com
[acs_flow]: ./media/active-directory-java-authenticate-users-access-control-eclipse/ACSFlow.png

<!-- Eclipse-specific -->
[add_acs_filter_lib]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddACSFilterLibrary.png
[add_acs_filter_lib_emulator]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddACSFilterLibraryEmulator.png
[add_acs_filter_lib_production]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddACSFilterLibraryProduction.png

[relying_party_realm_emulator]: ./media/active-directory-java-authenticate-users-access-control-eclipse/RelyingPartyRealmEmulator.png
[relying_party_return_url_emulator]: ./media/active-directory-java-authenticate-users-access-control-eclipse/RelyingPartyReturnURLEmulator.png
[relying_party_realm_production]: ./media/active-directory-java-authenticate-users-access-control-eclipse/RelyingPartyRealmProduction.png
[relying_party_return_url_production]: ./media/active-directory-java-authenticate-users-access-control-eclipse/RelyingPartyReturnURLProduction.png
[add_cert_component]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddCertificateComponent.png
[add_jsp_file_acs]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddJSPFileACS.png
[create_acs_hello_world]: ./media/active-directory-java-authenticate-users-access-control-eclipse/CreateACSHelloWorld.png
[add_token_signing_cert]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddTokenSigningCertificate.png

