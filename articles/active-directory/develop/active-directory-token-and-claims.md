---
title: "aaaLearn sobre Olá token diferente e declaração de tipos com suporte pelo AD do Azure | Microsoft Docs"
description: "Um guia para compreender e avaliar declarações Olá Olá SAML 2.0 e tokens JSON Web Tokens (JWT) emitidos pelo Azure Active Directory (AAD)"
documentationcenter: na
author: dstrockis
services: active-directory
manager: mbaldwin
editor: 
ms.assetid: 166aa18e-1746-4c5e-b382-68338af921e2
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 02/08/2017
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: c512894476613e94d86a994c32a8459d6cf00fbd
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-token-reference"></a><span data-ttu-id="53c19-103">Referência de token do Azure AD</span><span class="sxs-lookup"><span data-stu-id="53c19-103">Azure AD token reference</span></span>
<span data-ttu-id="53c19-104">Azure Active Directory (AD do Azure) emite vários tipos de tokens de segurança no processamento de saudação de cada fluxo de autenticação.</span><span class="sxs-lookup"><span data-stu-id="53c19-104">Azure Active Directory (Azure AD) emits several types of security tokens in hello processing of each authentication flow.</span></span> <span data-ttu-id="53c19-105">Este documento descreve o formato de saudação, características de segurança e conteúdo de cada tipo de token.</span><span class="sxs-lookup"><span data-stu-id="53c19-105">This document describes hello format, security characteristics, and contents of each type of token.</span></span>

## <a name="types-of-tokens"></a><span data-ttu-id="53c19-106">Tipos de tokens</span><span class="sxs-lookup"><span data-stu-id="53c19-106">Types of tokens</span></span>
<span data-ttu-id="53c19-107">AD do Azure suporta Olá [protocolo de autorização do OAuth 2.0](active-directory-protocols-oauth-code.md), que usam access_tokens e refresh_tokens.</span><span class="sxs-lookup"><span data-stu-id="53c19-107">Azure AD supports hello [OAuth 2.0 authorization protocol](active-directory-protocols-oauth-code.md), which makes use of both access_tokens and refresh_tokens.</span></span>  <span data-ttu-id="53c19-108">Ele também suporta autenticação e entrar via [OpenID Connect](active-directory-protocols-openid-connect-code.md), que apresenta um terceiro tipo de token, id_token de saudação.</span><span class="sxs-lookup"><span data-stu-id="53c19-108">It also supports authentication and sign-in via [OpenID Connect](active-directory-protocols-openid-connect-code.md), which introduces a third type of token, hello id_token.</span></span>  <span data-ttu-id="53c19-109">Cada um desses tokens é representado como um "token de portador".</span><span class="sxs-lookup"><span data-stu-id="53c19-109">Each of these tokens is represented as a "bearer token".</span></span>

<span data-ttu-id="53c19-110">Um token de portador é o recurso protegido de um token de segurança leve que concede Olá tooa de acesso de "portador".</span><span class="sxs-lookup"><span data-stu-id="53c19-110">A bearer token is a lightweight security token that grants hello “bearer” access tooa protected resource.</span></span> <span data-ttu-id="53c19-111">Nesse sentido, Olá "portador" é qualquer parte que pode apresentar um token de saudação.</span><span class="sxs-lookup"><span data-stu-id="53c19-111">In this sense, hello “bearer” is any party that can present hello token.</span></span> <span data-ttu-id="53c19-112">Embora a autenticação com o AD do Azure é necessária no pedido tooreceive um token de portador, etapas devem ser seguidas interceptação de token, tooprevent toosecure Olá por uma parte não intencional.</span><span class="sxs-lookup"><span data-stu-id="53c19-112">Though authentication with Azure AD is required in order tooreceive a bearer token, steps must be taken toosecure hello token, tooprevent interception by an unintended party.</span></span> <span data-ttu-id="53c19-113">Como os tokens de portador não tem partes de tooprevent não autorizado um mecanismo interno de usá-las, eles devem ser transportados em um canal seguro, como segurança de camada de transporte (HTTPS).</span><span class="sxs-lookup"><span data-stu-id="53c19-113">Because bearer tokens do not have a built-in mechanism tooprevent unauthorized parties from using them, they must be transported in a secure channel such as transport layer security (HTTPS).</span></span> <span data-ttu-id="53c19-114">Se um token de portador for transmitido no hello criptografado, um ataque intermediária Olá man-in pode ser usado tooacquire Olá token e obter recursos de tooa protegido do acesso não autorizado.</span><span class="sxs-lookup"><span data-stu-id="53c19-114">If a bearer token is transmitted in hello clear, a man-in hello middle attack can be used tooacquire hello token and gain unauthorized access tooa protected resource.</span></span> <span data-ttu-id="53c19-115">Olá mesmos princípios de segurança se aplicam ao armazenar ou armazenamento em cache os tokens de portador para uso posterior.</span><span class="sxs-lookup"><span data-stu-id="53c19-115">hello same security principles apply when storing or caching bearer tokens for later use.</span></span> <span data-ttu-id="53c19-116">Sempre se certifique de que seu aplicativo transmita e armazene tokens de portador de maneira segura.</span><span class="sxs-lookup"><span data-stu-id="53c19-116">Always ensure that your app transmits and stores bearer tokens in a secure manner.</span></span> <span data-ttu-id="53c19-117">Para obter mais considerações de segurança sobre tokens de portador, consulte [RFC 6750 seção 5](http://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="53c19-117">For more security considerations on bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="53c19-118">Muitas das Olá tokens emitidos pelo AD do Azure são implementadas como JSON Web Tokens ou JWTs.</span><span class="sxs-lookup"><span data-stu-id="53c19-118">Many of hello tokens issued by Azure AD are implemented as JSON Web Tokens, or JWTs.</span></span>  <span data-ttu-id="53c19-119">Um JWT é um meio compacto e protegido por URL de transferir informações entre duas partes.</span><span class="sxs-lookup"><span data-stu-id="53c19-119">A JWT is a compact, URL-safe means of transferring information between two parties.</span></span>  <span data-ttu-id="53c19-120">informações de saudação contidas no JWTs são conhecidos como "declarações" ou asserções de informações sobre portador hello e assunto do token de saudação.</span><span class="sxs-lookup"><span data-stu-id="53c19-120">hello information contained in JWTs are known as "claims", or assertions of information about hello bearer and subject of hello token.</span></span>  <span data-ttu-id="53c19-121">declarações de saudação em JWTs são objetos JSON codificado e serializado para transmissão.</span><span class="sxs-lookup"><span data-stu-id="53c19-121">hello claims in JWTs are JSON objects encoded and serialized for transmission.</span></span>  <span data-ttu-id="53c19-122">Como JWTs Olá emitidos pelo AD do Azure são assinados, mas não criptografados, você pode facilmente inspecionar o conteúdo de saudação de um JWT para fins de depuração.</span><span class="sxs-lookup"><span data-stu-id="53c19-122">Since hello JWTs issued by Azure AD are signed, but not encrypted, you can easily inspect hello contents of a JWT for debugging purposes.</span></span>  <span data-ttu-id="53c19-123">Há várias ferramentas disponíveis para isso, como [jwt.calebb.net](http://jwt.calebb.net).</span><span class="sxs-lookup"><span data-stu-id="53c19-123">There are several tools available for doing so, such as [jwt.calebb.net](http://jwt.calebb.net).</span></span> <span data-ttu-id="53c19-124">Para obter mais informações sobre JWTs, consulte toohello [especificação do JWT](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span><span class="sxs-lookup"><span data-stu-id="53c19-124">For more information on JWTs, you can refer toohello [JWT specification](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span></span>

## <a name="idtokens"></a><span data-ttu-id="53c19-125">Id_tokens</span><span class="sxs-lookup"><span data-stu-id="53c19-125">Id_tokens</span></span>
<span data-ttu-id="53c19-126">Id_tokens são uma forma de token de segurança de conexão que seu aplicativo recebe ao executar a autenticação usando o [OpenID Connect](active-directory-protocols-openid-connect-code.md).</span><span class="sxs-lookup"><span data-stu-id="53c19-126">Id_tokens are a form of sign-in security token that your app receives when performing authentication using [OpenID Connect](active-directory-protocols-openid-connect-code.md).</span></span>  <span data-ttu-id="53c19-127">Elas são representadas como [JWTs](#types-of-tokens)e contêm declarações que você pode usar para assinar o usuário Olá em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="53c19-127">They are represented as [JWTs](#types-of-tokens), and contain claims that you can use for signing hello user into your app.</span></span>  <span data-ttu-id="53c19-128">Você pode usar declarações de saudação em um id_token como desejar - geralmente são usadas para exibir informações de conta ou a tomada de decisões de controle de acesso em um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="53c19-128">You can use hello claims in an id_token as you see fit - commonly they are used for displaying account information or making access control decisions in an app.</span></span>

<span data-ttu-id="53c19-129">Atualmente, Id_tokens são assinados, mas não criptografados.</span><span class="sxs-lookup"><span data-stu-id="53c19-129">Id_tokens are signed, but not encrypted at this time.</span></span>  <span data-ttu-id="53c19-130">Quando seu aplicativo recebe um id_token, ele deverá [validar assinatura Olá](#validating-tokens) tooprove Olá autenticidade do token e validar algumas declarações em tooprove token Olá sua validade.</span><span class="sxs-lookup"><span data-stu-id="53c19-130">When your app receives an id_token, it must [validate hello signature](#validating-tokens) tooprove hello token's authenticity and validate a few claims in hello token tooprove its validity.</span></span>  <span data-ttu-id="53c19-131">Olá validadas por um aplicativo de declarações variam dependendo dos requisitos do cenário, mas há alguns [comuns validações de declaração](#validating-tokens) que seu aplicativo deve executar em cada cenário.</span><span class="sxs-lookup"><span data-stu-id="53c19-131">hello claims validated by an app vary depending on scenario requirements, but there are some [common claim validations](#validating-tokens) that your app must perform in every scenario.</span></span>

<span data-ttu-id="53c19-132">Consulte a seguir para obter informações em declarações id_tokens, bem como id_token um exemplo de saudação.</span><span class="sxs-lookup"><span data-stu-id="53c19-132">See hello following section for information on id_tokens claims, as well as a sample id_token.</span></span>  <span data-ttu-id="53c19-133">Observe que as declarações Olá id_tokens não são retornadas em uma ordem específica.</span><span class="sxs-lookup"><span data-stu-id="53c19-133">Note that hello claims in id_tokens are not returned in any particular order.</span></span>  <span data-ttu-id="53c19-134">Além disso, novas declarações podem ser introduzidas nos id_tokens a qualquer momento — o aplicativo não deve ser interrompido conforme novas declarações são introduzidas.</span><span class="sxs-lookup"><span data-stu-id="53c19-134">In addition, new claims can be introduced into id_tokens at any point in time - your app should not break as new claims are introduced.</span></span>  <span data-ttu-id="53c19-135">Olá lista a seguir inclui declarações Olá que seu aplicativo confiável pode interpretar no tempo de saudação da redação deste artigo.</span><span class="sxs-lookup"><span data-stu-id="53c19-135">hello following list includes hello claims that your app can reliably interpret at hello time of this writing.</span></span>  <span data-ttu-id="53c19-136">Se necessário, até mesmo mais detalhes estão na Olá [OpenID Connect especificação](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="53c19-136">If necessary, even more detail can be found in hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>

#### <a name="sample-idtoken"></a><span data-ttu-id="53c19-137">Exemplo de Id_Token</span><span class="sxs-lookup"><span data-stu-id="53c19-137">Sample id_token</span></span>
```
eyJ0eXAiOiJKV1QiLCJhbGciOiJub25lIn0.eyJhdWQiOiIyZDRkMTFhMi1mODE0LTQ2YTctODkwYS0yNzRhNzJhNzMwOWUiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC83ZmU4MTQ0Ny1kYTU3LTQzODUtYmVjYi02ZGU1N2YyMTQ3N2UvIiwiaWF0IjoxMzg4NDQwODYzLCJuYmYiOjEzODg0NDA4NjMsImV4cCI6MTM4ODQ0NDc2MywidmVyIjoiMS4wIiwidGlkIjoiN2ZlODE0NDctZGE1Ny00Mzg1LWJlY2ItNmRlNTdmMjE0NzdlIiwib2lkIjoiNjgzODlhZTItNjJmYS00YjE4LTkxZmUtNTNkZDEwOWQ3NGY1IiwidXBuIjoiZnJhbmttQGNvbnRvc28uY29tIiwidW5pcXVlX25hbWUiOiJmcmFua21AY29udG9zby5jb20iLCJzdWIiOiJKV3ZZZENXUGhobHBTMVpzZjd5WVV4U2hVd3RVbTV5elBtd18talgzZkhZIiwiZmFtaWx5X25hbWUiOiJNaWxsZXIiLCJnaXZlbl9uYW1lIjoiRnJhbmsifQ.
```

> [!TIP]
> <span data-ttu-id="53c19-138">Para praticar, tente inspecionando Olá declarações no id_token do exemplo hello colando-o na [calebb.net](http://jwt.calebb.net).</span><span class="sxs-lookup"><span data-stu-id="53c19-138">For practice, try inspecting hello claims in hello sample id_token by pasting it into [calebb.net](http://jwt.calebb.net).</span></span>
> 
> 

#### <a name="claims-in-idtokens"></a><span data-ttu-id="53c19-139">Declarações em Id_Tokens</span><span class="sxs-lookup"><span data-stu-id="53c19-139">Claims in id_tokens</span></span>
> [!div class="mx-codeBreakAll"]
| <span data-ttu-id="53c19-140">Declaração JWT</span><span class="sxs-lookup"><span data-stu-id="53c19-140">JWT Claim</span></span> | <span data-ttu-id="53c19-141">Nome</span><span class="sxs-lookup"><span data-stu-id="53c19-141">Name</span></span> | <span data-ttu-id="53c19-142">Descrição</span><span class="sxs-lookup"><span data-stu-id="53c19-142">Description</span></span> |
| --- | --- | --- |
| `appid` |<span data-ttu-id="53c19-143">ID do aplicativo</span><span class="sxs-lookup"><span data-stu-id="53c19-143">Application ID</span></span> |<span data-ttu-id="53c19-144">Identifica o aplicativo hello que está usando Olá token tooaccess um recurso.</span><span class="sxs-lookup"><span data-stu-id="53c19-144">Identifies hello application that is using hello token tooaccess a resource.</span></span> <span data-ttu-id="53c19-145">aplicativo Hello pode agir por ele mesmo ou em nome do usuário.</span><span class="sxs-lookup"><span data-stu-id="53c19-145">hello application can act as itself or on behalf of a user.</span></span> <span data-ttu-id="53c19-146">ID do aplicativo Hello normalmente representa um objeto de aplicativo, mas ele também pode representar um objeto de entidade de serviço no AD do Azure.</span><span class="sxs-lookup"><span data-stu-id="53c19-146">hello application ID typically represents an application object, but it can also represent a service principal object in Azure AD.</span></span> <br><br> <span data-ttu-id="53c19-147">**Valor de exemplo de JWT**:</span><span class="sxs-lookup"><span data-stu-id="53c19-147">**Example JWT Value**:</span></span> <br> `"appid":"15CB020F-3984-482A-864D-1D92265E8268"` |
| `aud` |<span data-ttu-id="53c19-148">Público-alvo</span><span class="sxs-lookup"><span data-stu-id="53c19-148">Audience</span></span> |<span data-ttu-id="53c19-149">Olá destinatário do token de saudação.</span><span class="sxs-lookup"><span data-stu-id="53c19-149">hello intended recipient of hello token.</span></span> <span data-ttu-id="53c19-150">aplicativo Hello que recebe o token Olá deve verificar se o valor de público Olá está correto e rejeitar todos os tokens destinados a um público diferente.</span><span class="sxs-lookup"><span data-stu-id="53c19-150">hello application that receives hello token must verify that hello audience value is correct and reject any tokens intended for a different audience.</span></span> <br><br> <span data-ttu-id="53c19-151">**Valor de exemplo de SAML**:</span><span class="sxs-lookup"><span data-stu-id="53c19-151">**Example SAML Value**:</span></span> <br> `<AudienceRestriction>`<br>`<Audience>`<br>`https://contoso.com`<br>`</Audience>`<br>`</AudienceRestriction>` <br><br> <span data-ttu-id="53c19-152">**Valor de exemplo de JWT**:</span><span class="sxs-lookup"><span data-stu-id="53c19-152">**Example JWT Value**:</span></span> <br> `"aud":"https://contoso.com"` |
| `appidacr` |<span data-ttu-id="53c19-153">Referência de classe de contexto de autenticação de aplicativo</span><span class="sxs-lookup"><span data-stu-id="53c19-153">Application Authentication Context Class Reference</span></span> |<span data-ttu-id="53c19-154">Indica como Olá cliente foi autenticado.</span><span class="sxs-lookup"><span data-stu-id="53c19-154">Indicates how hello client was authenticated.</span></span> <span data-ttu-id="53c19-155">Para um cliente público, o valor de saudação é 0.</span><span class="sxs-lookup"><span data-stu-id="53c19-155">For a public client, hello value is 0.</span></span> <span data-ttu-id="53c19-156">Se a ID do cliente e o segredo do cliente são usadas, o valor de saudação é 1.</span><span class="sxs-lookup"><span data-stu-id="53c19-156">If client ID and client secret are used, hello value is 1.</span></span> <br><br> <span data-ttu-id="53c19-157">**Valor de exemplo de JWT**:</span><span class="sxs-lookup"><span data-stu-id="53c19-157">**Example JWT Value**:</span></span> <br> `"appidacr": "0"` |
| `acr` |<span data-ttu-id="53c19-158">Referência de classe de contexto de autenticação</span><span class="sxs-lookup"><span data-stu-id="53c19-158">Authentication Context Class Reference</span></span> |<span data-ttu-id="53c19-159">Indica como o assunto de saudação foi autenticado, como cliente de toohello contrário na declaração de referência de classe de contexto de autenticação de aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="53c19-159">Indicates how hello subject was authenticated, as opposed toohello client in hello Application Authentication Context Class Reference claim.</span></span> <span data-ttu-id="53c19-160">Um valor de "0" indica que a autenticação do usuário final Olá não atendeu aos requisitos de saudação do ISO/IEC 29115.</span><span class="sxs-lookup"><span data-stu-id="53c19-160">A value of "0" indicates hello end-user authentication did not meet hello requirements of ISO/IEC 29115.</span></span> <br><br> <span data-ttu-id="53c19-161">**Valor de exemplo de JWT**:</span><span class="sxs-lookup"><span data-stu-id="53c19-161">**Example JWT Value**:</span></span> <br> `"acr": "0"` |
| <span data-ttu-id="53c19-162">Instante da autenticação</span><span class="sxs-lookup"><span data-stu-id="53c19-162">Authentication Instant</span></span> |<span data-ttu-id="53c19-163">Registros Olá data e hora em que ocorreu a autenticação.</span><span class="sxs-lookup"><span data-stu-id="53c19-163">Records hello date and time when authentication occurred.</span></span> <br><br> <span data-ttu-id="53c19-164">**Valor de exemplo de SAML**:</span><span class="sxs-lookup"><span data-stu-id="53c19-164">**Example SAML Value**:</span></span> <br> `<AuthnStatement AuthnInstant="2011-12-29T05:35:22.000Z">` | |
| `amr` |<span data-ttu-id="53c19-165">Método de autenticação</span><span class="sxs-lookup"><span data-stu-id="53c19-165">Authentication Method</span></span> |<span data-ttu-id="53c19-166">Identifica como o assunto de saudação do token Olá foi autenticado.</span><span class="sxs-lookup"><span data-stu-id="53c19-166">Identifies how hello subject of hello token was authenticated.</span></span> <br><br> <span data-ttu-id="53c19-167">**Valor de exemplo de SAML**:</span><span class="sxs-lookup"><span data-stu-id="53c19-167">**Example SAML Value**:</span></span> <br> `<AuthnContextClassRef>`<br>`http://schemas.microsoft.com/ws/2008/06/identity/claims/authenticationmethod/password`<br>`</AuthnContextClassRef>` <br><br> <span data-ttu-id="53c19-168">**Valor de exemplo de JWT**: `“amr”: ["pwd"]`</span><span class="sxs-lookup"><span data-stu-id="53c19-168">**Example JWT Value**: `“amr”: ["pwd"]`</span></span> |
| `given_name` |<span data-ttu-id="53c19-169">Nome</span><span class="sxs-lookup"><span data-stu-id="53c19-169">First Name</span></span> |<span data-ttu-id="53c19-170">Fornece Olá pela primeira vez ou "atribuído" nome de usuário Olá, conforme definido no objeto de usuário de saudação do AD do Azure.</span><span class="sxs-lookup"><span data-stu-id="53c19-170">Provides hello first or "given" name of hello user, as set on hello Azure AD user object.</span></span> <br><br> <span data-ttu-id="53c19-171">**Valor de exemplo de SAML**:</span><span class="sxs-lookup"><span data-stu-id="53c19-171">**Example SAML Value**:</span></span> <br> `<Attribute Name=”http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname”>`<br>`<AttributeValue>Frank<AttributeValue>` <br><br> <span data-ttu-id="53c19-172">**Valor de exemplo de JWT**:</span><span class="sxs-lookup"><span data-stu-id="53c19-172">**Example JWT Value**:</span></span> <br> `"given_name": "Frank"` |
| `groups` |<span data-ttu-id="53c19-173">Grupos</span><span class="sxs-lookup"><span data-stu-id="53c19-173">Groups</span></span> |<span data-ttu-id="53c19-174">Fornece IDs de objetos que representam as associações de grupo da entidade hello.</span><span class="sxs-lookup"><span data-stu-id="53c19-174">Provides object IDs that represent hello subject's group memberships.</span></span> <span data-ttu-id="53c19-175">Esses valores são exclusivo (consulte a ID de objeto) e podem ser usados com segurança para gerenciar o acesso, como a imposição de autorização tooaccess um recurso.</span><span class="sxs-lookup"><span data-stu-id="53c19-175">These values are unique (see Object ID) and can be safely used for managing access, such as enforcing authorization tooaccess a resource.</span></span> <span data-ttu-id="53c19-176">Olá incluídos na declaração de grupos de saudação configurados em uma base por aplicativo, por meio da propriedade "groupMembershipClaims" Olá Olá do manifesto do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="53c19-176">hello groups included in hello groups claim are configured on a per-application basis, through hello "groupMembershipClaims" property of hello application manifest.</span></span> <span data-ttu-id="53c19-177">Um valor nulo exclui todos os grupos; já um valor "SecurityGroup" inclui somente os membros do grupo de segurança do Active Directory, enquanto um valor "All" inclui tanto grupos de segurança quanto listas de distribuição do Office 365.</span><span class="sxs-lookup"><span data-stu-id="53c19-177">A value of null will exclude all groups, a value of "SecurityGroup" will include only Active Directory Security Group memberships, and a value of "All" will include both Security Groups and Office 365 Distribution Lists.</span></span> <br><br> <span data-ttu-id="53c19-178">**Valor de exemplo de SAML**:</span><span class="sxs-lookup"><span data-stu-id="53c19-178">**Example SAML Value**:</span></span> <br> `<Attribute Name="http://schemas.microsoft.com/ws/2008/06/identity/claims/groups">`<br>`<AttributeValue>07dd8a60-bf6d-4e17-8844-230b77145381</AttributeValue>` <br><br> <span data-ttu-id="53c19-179">**Valor de exemplo de JWT**:</span><span class="sxs-lookup"><span data-stu-id="53c19-179">**Example JWT Value**:</span></span> <br> `“groups”: ["0e129f5b-6b0a-4944-982d-f776045632af", … ]` |
| `idp` |<span data-ttu-id="53c19-180">Provedor de identidade</span><span class="sxs-lookup"><span data-stu-id="53c19-180">Identity Provider</span></span> |<span data-ttu-id="53c19-181">Registros Olá provedor de identidade que autenticou o assunto de saudação do token hello.</span><span class="sxs-lookup"><span data-stu-id="53c19-181">Records hello identity provider that authenticated hello subject of hello token.</span></span> <span data-ttu-id="53c19-182">Esse valor será de saudação emissor de declaração a menos que a conta de usuário hello está em um locatário diferente emissor Olá toohello idênticos.</span><span class="sxs-lookup"><span data-stu-id="53c19-182">This value is identical toohello value of hello Issuer claim unless hello user account is in a different tenant than hello issuer.</span></span> <br><br> <span data-ttu-id="53c19-183">**Valor de exemplo de SAML**:</span><span class="sxs-lookup"><span data-stu-id="53c19-183">**Example SAML Value**:</span></span> <br> `<Attribute Name=” http://schemas.microsoft.com/identity/claims/identityprovider”>`<br>`<AttributeValue>https://sts.windows.net/cbb1a5ac-f33b-45fa-9bf5-f37db0fed422/<AttributeValue>` <br><br> <span data-ttu-id="53c19-184">**Valor de exemplo de JWT**:</span><span class="sxs-lookup"><span data-stu-id="53c19-184">**Example JWT Value**:</span></span> <br> `"idp":”https://sts.windows.net/cbb1a5ac-f33b-45fa-9bf5-f37db0fed422/”` |
| `iat` |<span data-ttu-id="53c19-185">IssuedAt</span><span class="sxs-lookup"><span data-stu-id="53c19-185">IssuedAt</span></span> |<span data-ttu-id="53c19-186">Armazena o tempo de saudação em qual Olá token foi emitido.</span><span class="sxs-lookup"><span data-stu-id="53c19-186">Stores hello time at which hello token was issued.</span></span> <span data-ttu-id="53c19-187">Geralmente é usado toomeasure atualização de token.</span><span class="sxs-lookup"><span data-stu-id="53c19-187">It is often used toomeasure token freshness.</span></span> <br><br> <span data-ttu-id="53c19-188">**Valor de exemplo de SAML**:</span><span class="sxs-lookup"><span data-stu-id="53c19-188">**Example SAML Value**:</span></span> <br> `<Assertion ID="_d5ec7a9b-8d8f-4b44-8c94-9812612142be" IssueInstant="2014-01-06T20:20:23.085Z" Version="2.0" xmlns="urn:oasis:names:tc:SAML:2.0:assertion">` <br><br> <span data-ttu-id="53c19-189">**Valor de exemplo de JWT**:</span><span class="sxs-lookup"><span data-stu-id="53c19-189">**Example JWT Value**:</span></span> <br> `"iat": 1390234181` |
| `iss` |<span data-ttu-id="53c19-190">Emissor</span><span class="sxs-lookup"><span data-stu-id="53c19-190">Issuer</span></span> |<span data-ttu-id="53c19-191">Identifica Olá serviço de token segurança (STS) que cria e retorna um token de saudação.</span><span class="sxs-lookup"><span data-stu-id="53c19-191">Identifies hello security token service (STS) that constructs and returns hello token.</span></span> <span data-ttu-id="53c19-192">Nos tokens de saudação que o AD do Azure retorna, o emissor de saudação é sts.windows.net.</span><span class="sxs-lookup"><span data-stu-id="53c19-192">In hello tokens that Azure AD returns, hello issuer is sts.windows.net.</span></span> <span data-ttu-id="53c19-193">Olá, GUID no valor de declaração do emissor de saudação é Olá ID de locatário de diretório do AD do Azure hello.</span><span class="sxs-lookup"><span data-stu-id="53c19-193">hello GUID in hello Issuer claim value is hello tenant ID of hello Azure AD directory.</span></span> <span data-ttu-id="53c19-194">ID de locatário Olá é um identificador imutável e confiável do diretório de saudação.</span><span class="sxs-lookup"><span data-stu-id="53c19-194">hello tenant ID is an immutable and reliable identifier of hello directory.</span></span> <br><br> <span data-ttu-id="53c19-195">**Valor de exemplo de SAML**:</span><span class="sxs-lookup"><span data-stu-id="53c19-195">**Example SAML Value**:</span></span> <br> `<Issuer>https://sts.windows.net/cbb1a5ac-f33b-45fa-9bf5-f37db0fed422/</Issuer>` <br><br> <span data-ttu-id="53c19-196">**Valor de exemplo de JWT**:</span><span class="sxs-lookup"><span data-stu-id="53c19-196">**Example JWT Value**:</span></span> <br>  `"iss":”https://sts.windows.net/cbb1a5ac-f33b-45fa-9bf5-f37db0fed422/”` |
| `family_name` |<span data-ttu-id="53c19-197">Sobrenome</span><span class="sxs-lookup"><span data-stu-id="53c19-197">Last Name</span></span> |<span data-ttu-id="53c19-198">Fornece o sobrenome Olá, sobrenome ou nome de família do usuário Olá conforme definido no objeto de usuário do AD do Azure hello.</span><span class="sxs-lookup"><span data-stu-id="53c19-198">Provides hello last name, surname, or family name of hello user as defined in hello Azure AD user object.</span></span> <br><br> <span data-ttu-id="53c19-199">**Valor de exemplo de SAML**:</span><span class="sxs-lookup"><span data-stu-id="53c19-199">**Example SAML Value**:</span></span> <br> `<Attribute Name=” http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname”>`<br>`<AttributeValue>Miller<AttributeValue>` <br><br> <span data-ttu-id="53c19-200">**Valor de exemplo de JWT**:</span><span class="sxs-lookup"><span data-stu-id="53c19-200">**Example JWT Value**:</span></span> <br> `"family_name": "Miller"` |
| `unique_name` |<span data-ttu-id="53c19-201">Nome</span><span class="sxs-lookup"><span data-stu-id="53c19-201">Name</span></span> |<span data-ttu-id="53c19-202">Fornece um valor legível que identifica a entidade de saudação do token de saudação.</span><span class="sxs-lookup"><span data-stu-id="53c19-202">Provides a human readable value that identifies hello subject of hello token.</span></span> <span data-ttu-id="53c19-203">Esse valor não é garantido toobe exclusivo dentro de um locatário e é projetado toobe usado apenas para fins de exibição.</span><span class="sxs-lookup"><span data-stu-id="53c19-203">This value is not guaranteed toobe unique within a tenant and is designed toobe used only for display purposes.</span></span> <br><br> <span data-ttu-id="53c19-204">**Valor de exemplo de SAML**:</span><span class="sxs-lookup"><span data-stu-id="53c19-204">**Example SAML Value**:</span></span> <br> `<Attribute Name=”http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name”>`<br>`<AttributeValue>frankm@contoso.com<AttributeValue>` <br><br> <span data-ttu-id="53c19-205">**Valor de exemplo de JWT**:</span><span class="sxs-lookup"><span data-stu-id="53c19-205">**Example JWT Value**:</span></span> <br> `"unique_name": "frankm@contoso.com"` |
| `oid` |<span data-ttu-id="53c19-206">ID de objeto</span><span class="sxs-lookup"><span data-stu-id="53c19-206">Object ID</span></span> |<span data-ttu-id="53c19-207">Contém um identificador único de um objeto no Azure AD.</span><span class="sxs-lookup"><span data-stu-id="53c19-207">Contains a unique identifier of an object in Azure AD.</span></span> <span data-ttu-id="53c19-208">Esse valor é imutável e não pode ser reatribuído nem reutilizado.</span><span class="sxs-lookup"><span data-stu-id="53c19-208">This value is immutable and cannot be reassigned or reused.</span></span> <span data-ttu-id="53c19-209">Use tooidentify ID de objeto Olá um objeto tooAzure consultas AD.</span><span class="sxs-lookup"><span data-stu-id="53c19-209">Use hello object ID tooidentify an object in queries tooAzure AD.</span></span> <br><br> <span data-ttu-id="53c19-210">**Valor de exemplo de SAML**:</span><span class="sxs-lookup"><span data-stu-id="53c19-210">**Example SAML Value**:</span></span> <br> `<Attribute Name="http://schemas.microsoft.com/identity/claims/objectidentifier">`<br>`<AttributeValue>528b2ac2-aa9c-45e1-88d4-959b53bc7dd0<AttributeValue>` <br><br> <span data-ttu-id="53c19-211">**Valor de exemplo de JWT**:</span><span class="sxs-lookup"><span data-stu-id="53c19-211">**Example JWT Value**:</span></span> <br> `"oid":"528b2ac2-aa9c-45e1-88d4-959b53bc7dd0"` |
| `roles` |<span data-ttu-id="53c19-212">Funções</span><span class="sxs-lookup"><span data-stu-id="53c19-212">Roles</span></span> |<span data-ttu-id="53c19-213">Representa todas as funções de aplicativo hello assunto recebeu direta e indiretamente por meio da associação de grupo e pode ser usado tooenforce baseada em função de controle de acesso.</span><span class="sxs-lookup"><span data-stu-id="53c19-213">Represents all application roles that hello subject has been granted both directly and indirectly through group membership and can be used tooenforce role-based access control.</span></span> <span data-ttu-id="53c19-214">Funções de aplicativo são definidas em uma base por aplicativo, por meio de saudação `appRoles` propriedade saudação do manifesto do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="53c19-214">Application roles are defined on a per-application basis, through hello `appRoles` property of hello application manifest.</span></span> <span data-ttu-id="53c19-215">Olá `value` propriedade de cada função de aplicativo é o valor de saudação que aparece na declaração de funções hello.</span><span class="sxs-lookup"><span data-stu-id="53c19-215">hello `value` property of each application role is hello value that appears in hello roles claim.</span></span> <br><br> <span data-ttu-id="53c19-216">**Valor de exemplo de SAML**:</span><span class="sxs-lookup"><span data-stu-id="53c19-216">**Example SAML Value**:</span></span> <br> `<Attribute Name="http://schemas.microsoft.com/ws/2008/06/identity/claims/role">`<br>`<AttributeValue>Admin</AttributeValue>` <br><br> <span data-ttu-id="53c19-217">**Valor de exemplo de JWT**:</span><span class="sxs-lookup"><span data-stu-id="53c19-217">**Example JWT Value**:</span></span> <br> `“roles”: ["Admin", … ]` |
| `scp` |<span data-ttu-id="53c19-218">Escopo</span><span class="sxs-lookup"><span data-stu-id="53c19-218">Scope</span></span> |<span data-ttu-id="53c19-219">Indica o aplicativo de cliente do hello representação permissões concedidas toohello.</span><span class="sxs-lookup"><span data-stu-id="53c19-219">Indicates hello impersonation permissions granted toohello client application.</span></span> <span data-ttu-id="53c19-220">permissão de padrão de saudação é `user_impersonation`.</span><span class="sxs-lookup"><span data-stu-id="53c19-220">hello default permission is `user_impersonation`.</span></span> <span data-ttu-id="53c19-221">proprietário de saudação do hello protegido recursos pode registrar valores adicionais no AD do Azure.</span><span class="sxs-lookup"><span data-stu-id="53c19-221">hello owner of hello secured resource can register additional values in Azure AD.</span></span> <br><br> <span data-ttu-id="53c19-222">**Valor de exemplo de JWT**:</span><span class="sxs-lookup"><span data-stu-id="53c19-222">**Example JWT Value**:</span></span> <br> `"scp": "user_impersonation"` |
| `sub` |<span data-ttu-id="53c19-223">Assunto</span><span class="sxs-lookup"><span data-stu-id="53c19-223">Subject</span></span> |<span data-ttu-id="53c19-224">Identifica a entidade de segurança Olá sobre quais Olá token declara informações, como usuário de saudação de um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="53c19-224">Identifies hello principal about which hello token asserts information, such as hello user of an application.</span></span> <span data-ttu-id="53c19-225">Esse valor é imutável e não pode ser reatribuído ou reutilizado, portanto pode ser usado tooperform verificações de autorização com segurança.</span><span class="sxs-lookup"><span data-stu-id="53c19-225">This value is immutable and cannot be reassigned or reused, so it can be used tooperform authorization checks safely.</span></span> <span data-ttu-id="53c19-226">Como entidade hello está sempre presente no hello Azure AD emite tokens de Olá, é recomendável usar esse valor em um sistema de autorização de finalidade geral.</span><span class="sxs-lookup"><span data-stu-id="53c19-226">Because hello subject is always present in hello tokens hello Azure AD issues, we recommended using this value in a general purpose authorization system.</span></span> <br> <span data-ttu-id="53c19-227">`SubjectConfirmation` não é uma declaração.</span><span class="sxs-lookup"><span data-stu-id="53c19-227">`SubjectConfirmation` is not a claim.</span></span> <span data-ttu-id="53c19-228">Ele descreve como o assunto de saudação do token de saudação é verificado.</span><span class="sxs-lookup"><span data-stu-id="53c19-228">It describes how hello subject of hello token is verified.</span></span> <span data-ttu-id="53c19-229">`Bearer`indica o que assunto Olá é confirmado pela sua posse do token de saudação.</span><span class="sxs-lookup"><span data-stu-id="53c19-229">`Bearer` indicates that hello subject is confirmed by their possession of hello token.</span></span> <br><br> <span data-ttu-id="53c19-230">**Valor de exemplo de SAML**:</span><span class="sxs-lookup"><span data-stu-id="53c19-230">**Example SAML Value**:</span></span> <br> `<Subject>`<br>`<NameID>S40rgb3XjhFTv6EQTETkEzcgVmToHKRkZUIsJlmLdVc</NameID>`<br>`<SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer" />`<br>`</Subject>` <br><br> <span data-ttu-id="53c19-231">**Valor de exemplo de JWT**:</span><span class="sxs-lookup"><span data-stu-id="53c19-231">**Example JWT Value**:</span></span> <br> `"sub":"92d0312b-26b9-4887-a338-7b00fb3c5eab"` |
| `tid` |<span data-ttu-id="53c19-232">ID do locatário</span><span class="sxs-lookup"><span data-stu-id="53c19-232">Tenant ID</span></span> |<span data-ttu-id="53c19-233">Um identificador imutável e não reutilizável que identifica o locatário de diretório Olá que emitiu o token de saudação.</span><span class="sxs-lookup"><span data-stu-id="53c19-233">An immutable, non-reusable identifier that identifies hello directory tenant that issued hello token.</span></span> <span data-ttu-id="53c19-234">Você pode usar recursos de diretório específico do locatário de tooaccess esse valor em um aplicativo multilocatário.</span><span class="sxs-lookup"><span data-stu-id="53c19-234">You can use this value tooaccess tenant-specific directory resources in a multi-tenant application.</span></span> <span data-ttu-id="53c19-235">Por exemplo, você pode usar este locatário de saudação do valor tooidentify em toohello uma chamada de API do Graph.</span><span class="sxs-lookup"><span data-stu-id="53c19-235">For example, you can use this value tooidentify hello tenant in a call toohello Graph API.</span></span> <br><br> <span data-ttu-id="53c19-236">**Valor de exemplo de SAML**:</span><span class="sxs-lookup"><span data-stu-id="53c19-236">**Example SAML Value**:</span></span> <br> `<Attribute Name=”http://schemas.microsoft.com/identity/claims/tenantid”>`<br>`<AttributeValue>cbb1a5ac-f33b-45fa-9bf5-f37db0fed422<AttributeValue>` <br><br> <span data-ttu-id="53c19-237">**Valor de exemplo de JWT**:</span><span class="sxs-lookup"><span data-stu-id="53c19-237">**Example JWT Value**:</span></span> <br> `"tid":"cbb1a5ac-f33b-45fa-9bf5-f37db0fed422"` |
| <span data-ttu-id="53c19-238">`nbf`, `exp`</span><span class="sxs-lookup"><span data-stu-id="53c19-238">`nbf`, `exp`</span></span> |<span data-ttu-id="53c19-239">Tempo de vida do token</span><span class="sxs-lookup"><span data-stu-id="53c19-239">Token Lifetime</span></span> |<span data-ttu-id="53c19-240">Define o intervalo de tempo de saudação no qual um token é válido.</span><span class="sxs-lookup"><span data-stu-id="53c19-240">Defines hello time interval within which a token is valid.</span></span> <span data-ttu-id="53c19-241">serviço Olá valida o token Olá deve verificar que Olá data atual está dentro Olá vida útil do token, pessoa, ele deverá rejeitar o token de saudação.</span><span class="sxs-lookup"><span data-stu-id="53c19-241">hello service that validates hello token should verify that hello current date is within hello token lifetime, else it should reject hello token.</span></span> <span data-ttu-id="53c19-242">Hello service pode permitir a minutos toofive além tooaccount de intervalo de vida útil do token Olá as diferenças na hora do relógio ("distorção de tempo") entre o Azure AD e o serviço de saudação.</span><span class="sxs-lookup"><span data-stu-id="53c19-242">hello service might allow for up toofive minutes beyond hello token lifetime range tooaccount for any differences in clock time ("time skew") between Azure AD and hello service.</span></span> <br><br> <span data-ttu-id="53c19-243">**Valor de exemplo de SAML**:</span><span class="sxs-lookup"><span data-stu-id="53c19-243">**Example SAML Value**:</span></span> <br> `<Conditions`<br>`NotBefore="2013-03-18T21:32:51.261Z"`<br>`NotOnOrAfter="2013-03-18T22:32:51.261Z"`<br>`>` <br><br> <span data-ttu-id="53c19-244">**Valor de exemplo de JWT**:</span><span class="sxs-lookup"><span data-stu-id="53c19-244">**Example JWT Value**:</span></span> <br> `"nbf":1363289634, "exp":1363293234` |
| `upn` |<span data-ttu-id="53c19-245">Nome UPN</span><span class="sxs-lookup"><span data-stu-id="53c19-245">User Principal Name</span></span> |<span data-ttu-id="53c19-246">Repositórios Olá nome do usuário de saudação principal.</span><span class="sxs-lookup"><span data-stu-id="53c19-246">Stores hello user name of hello user principal.</span></span><br><br> <span data-ttu-id="53c19-247">**Valor de exemplo de JWT**:</span><span class="sxs-lookup"><span data-stu-id="53c19-247">**Example JWT Value**:</span></span> <br> `"upn": frankm@contoso.com` |
| `ver` |<span data-ttu-id="53c19-248">Versão</span><span class="sxs-lookup"><span data-stu-id="53c19-248">Version</span></span> |<span data-ttu-id="53c19-249">Armazena o número de versão de saudação do token de saudação.</span><span class="sxs-lookup"><span data-stu-id="53c19-249">Stores hello version number of hello token.</span></span> <br><br> <span data-ttu-id="53c19-250">**Valor de exemplo de JWT**:</span><span class="sxs-lookup"><span data-stu-id="53c19-250">**Example JWT Value**:</span></span> <br> `"ver": "1.0"` |

## <a name="access-tokens"></a><span data-ttu-id="53c19-251">Tokens de acesso</span><span class="sxs-lookup"><span data-stu-id="53c19-251">Access tokens</span></span>
<span data-ttu-id="53c19-252">Após a autenticação bem-sucedida, o AD do Azure retorna um token de acesso, que pode ser usado tooaccess protegido recursos.</span><span class="sxs-lookup"><span data-stu-id="53c19-252">Upon successful authentication, Azure AD returns an access token, which can be used tooaccess protected resources.</span></span> <span data-ttu-id="53c19-253">token de acesso de saudação é uma base 64 codificados JSON Web Token (JWT) e seu conteúdo pode ser inspecionado executando-o por meio de um decodificador.</span><span class="sxs-lookup"><span data-stu-id="53c19-253">hello access token is a base 64 encoded JSON Web Token (JWT) and its contents can be inspected by running it through a decoder.</span></span>

<span data-ttu-id="53c19-254">Se seu aplicativo apenas *usa* tooget acesso tooAPIs de tokens de acesso, você pode (e deve) tratam os tokens de acesso como completamente opaco - elas são apenas cadeias de caracteres que seu aplicativo pode passar tooresources solicitações HTTP.</span><span class="sxs-lookup"><span data-stu-id="53c19-254">If your app only *uses* access tokens tooget access tooAPIs, you can (and should) treat access tokens as completely opaque - they are just strings which your app can pass tooresources in HTTP requests.</span></span>

<span data-ttu-id="53c19-255">Quando você solicitar um token de acesso, o AD do Azure também retorna alguns metadados sobre o token de acesso de saudação para consumo do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="53c19-255">When you request an access token, Azure AD also returns some metadata about hello access token for your app's consumption.</span></span>  <span data-ttu-id="53c19-256">Essas informações incluem o tempo de expiração de saudação do token de acesso de hello e escopos Olá para o qual ele é válido.</span><span class="sxs-lookup"><span data-stu-id="53c19-256">This information includes hello expiry time of hello access token and hello scopes for which it is valid.</span></span>  <span data-ttu-id="53c19-257">Isso permite que seu aplicativo tooperform inteligentes de cache de tokens de acesso sem ter que abrir o token de acesso de saudação próprio tooparse.</span><span class="sxs-lookup"><span data-stu-id="53c19-257">This allows your app tooperform intelligent caching of access tokens without having tooparse open hello access token itself.</span></span>

<span data-ttu-id="53c19-258">Se seu aplicativo é uma API protegida com o Azure AD que espera tokens de acesso em solicitações HTTP, você deve executar validação e a inspeção de tokens de saudação que receber.</span><span class="sxs-lookup"><span data-stu-id="53c19-258">If your app is an API protected with Azure AD that expects access tokens in HTTP requests, then you should perform validation and inspection of hello tokens you receive.</span></span> <span data-ttu-id="53c19-259">Seu aplicativo deve executar a validação de token de acesso de saudação antes de usar os recursos de tooaccess.</span><span class="sxs-lookup"><span data-stu-id="53c19-259">Your app should perform validation of hello access token before using it tooaccess resources.</span></span> <span data-ttu-id="53c19-260">Para obter mais informações sobre validação, consulte [Validando Tokens](#validating-tokens).</span><span class="sxs-lookup"><span data-stu-id="53c19-260">For more information on validation, please see [Validating Tokens](#validating-tokens).</span></span>  
<span data-ttu-id="53c19-261">Para obter detalhes sobre como toodo com .NET, consulte [proteger uma API da Web usando os tokens de portador do AD do Azure](active-directory-devquickstarts-webapi-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="53c19-261">For details on how toodo this with .NET, see [Protect a Web API using Bearer tokens from Azure AD](active-directory-devquickstarts-webapi-dotnet.md).</span></span>

## <a name="refresh-tokens"></a><span data-ttu-id="53c19-262">Tokens de atualização</span><span class="sxs-lookup"><span data-stu-id="53c19-262">Refresh tokens</span></span>

<span data-ttu-id="53c19-263">Atualizar tokens são tokens de segurança, seu aplicativo pode usar tooacquire novos tokens de acesso em um fluxo de OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="53c19-263">Refresh tokens are security tokens, which your app can use tooacquire new access tokens in an OAuth 2.0 flow.</span></span>  <span data-ttu-id="53c19-264">Ele permite que seu aplicativo tooachieve longo prazo tooresources de acesso em nome de um usuário sem a necessidade de interação de usuário de saudação.</span><span class="sxs-lookup"><span data-stu-id="53c19-264">It allows your app tooachieve long-term access tooresources on behalf of a user without requiring interaction by hello user.</span></span>

<span data-ttu-id="53c19-265">Os tokens de atualização têm vários recursos.</span><span class="sxs-lookup"><span data-stu-id="53c19-265">Refresh tokens are multi-resource.</span></span>  <span data-ttu-id="53c19-266">Isso é toosay recebido de um token de atualização durante uma solicitação de token para um recurso pode ser resgatado para recursos completamente diferentes tooa de tokens de acesso.</span><span class="sxs-lookup"><span data-stu-id="53c19-266">That is toosay that a refresh token received during a token request for one resource can be redeemed for access tokens tooa completely different resource.</span></span> <span data-ttu-id="53c19-267">toodo, Olá conjunto `resource` parâmetro hello solicitação toohello recurso de destino.</span><span class="sxs-lookup"><span data-stu-id="53c19-267">toodo this, set hello `resource` parameter in hello request toohello targeted resource.</span></span>

<span data-ttu-id="53c19-268">Tokens de atualização são completamente opacos tooyour aplicativo.</span><span class="sxs-lookup"><span data-stu-id="53c19-268">Refresh tokens are completely opaque tooyour app.</span></span> <span data-ttu-id="53c19-269">Eles são vida longa, mas seu aplicativo não deve ser escrito tooexpect durará um token de atualização para qualquer período de tempo.</span><span class="sxs-lookup"><span data-stu-id="53c19-269">They are long-lived, but your app should not be written tooexpect that a refresh token will last for any period of time.</span></span>  <span data-ttu-id="53c19-270">Os tokens de atualização podem ser invalidados a qualquer momento por vários motivos.</span><span class="sxs-lookup"><span data-stu-id="53c19-270">Refresh tokens can be invalidated at any moment in time for a variety of reasons.</span></span>  <span data-ttu-id="53c19-271">Olá somente modo para tooknow seu aplicativo se um token de atualização é válido é tooattempt tooredeem-lo fazendo um solicitação de token tooAzure AD ponto de extremidade.</span><span class="sxs-lookup"><span data-stu-id="53c19-271">hello only way for your app tooknow if a refresh token is valid is tooattempt tooredeem it by making a token request tooAzure AD token endpoint.</span></span>

<span data-ttu-id="53c19-272">Quando você resgatar um token de atualização de um novo token de acesso, você receberá um novo token de atualização na resposta de token hello.</span><span class="sxs-lookup"><span data-stu-id="53c19-272">When you redeem a refresh token for a new access token, you will receive a new refresh token in hello token response.</span></span>  <span data-ttu-id="53c19-273">Você deve salvar o token de atualização Olá emitido recentemente, substituindo Olá usado na solicitação de saudação.</span><span class="sxs-lookup"><span data-stu-id="53c19-273">You should save hello newly issued refresh token, replacing hello one you used in hello request.</span></span>  <span data-ttu-id="53c19-274">Isso garantirá que seus tokens de atualização permanecem válidos pelo máximo tempo possível.</span><span class="sxs-lookup"><span data-stu-id="53c19-274">This will guarantee that your refresh tokens remain valid for as long as possible.</span></span>

## <a name="validating-tokens"></a><span data-ttu-id="53c19-275">Validando tokens</span><span class="sxs-lookup"><span data-stu-id="53c19-275">Validating tokens</span></span>

<span data-ttu-id="53c19-276">Em ordem toovalidate um id_token ou um access_token, seu aplicativo deve validar declarações do token ambos Olá de assinatura e hello.</span><span class="sxs-lookup"><span data-stu-id="53c19-276">In order toovalidate an id_token or an access_token, your app should validate both hello token's signature and hello claims.</span></span> <span data-ttu-id="53c19-277">Tokens de acesso toovalidate ordem, seu aplicativo também deve validar emissor hello, público hello e Olá tokens de assinatura.</span><span class="sxs-lookup"><span data-stu-id="53c19-277">In order toovalidate access tokens, your app should also validate hello issuer, hello audience and hello signing tokens.</span></span> <span data-ttu-id="53c19-278">Será necessário toobe validado em relação a valores de saudação no documento de descoberta do OpenID hello.</span><span class="sxs-lookup"><span data-stu-id="53c19-278">These need toobe validated against hello values in hello OpenID discovery document.</span></span> <span data-ttu-id="53c19-279">Por exemplo, a versão independente de locatário de saudação do documento hello está localizado em [https://login.microsoftonline.com/common/.well-known/openid-configuration](https://login.microsoftonline.com/common/.well-known/openid-configuration).</span><span class="sxs-lookup"><span data-stu-id="53c19-279">For example, hello tenant independent version of hello document is located at [https://login.microsoftonline.com/common/.well-known/openid-configuration](https://login.microsoftonline.com/common/.well-known/openid-configuration).</span></span> <span data-ttu-id="53c19-280">Middleware do AD do Azure tem recursos internos para validar tokens de acesso, e você pode procurar por meio de nosso [exemplos](https://docs.microsoft.com/en-us/azure/active-directory/active-directory-code-samples) toofind na linguagem de saudação de sua escolha.</span><span class="sxs-lookup"><span data-stu-id="53c19-280">Azure AD middleware has built-in capabilities for validating access tokens, and you can browse through our [samples](https://docs.microsoft.com/en-us/azure/active-directory/active-directory-code-samples) toofind one in hello language of your choice.</span></span> <span data-ttu-id="53c19-281">Para obter mais informações sobre como tooexplicitly valida um token JWT, consulte Olá [manual exemplo de validação de JWT](https://github.com/Azure-Samples/active-directory-dotnet-webapi-manual-jwt-validation).</span><span class="sxs-lookup"><span data-stu-id="53c19-281">For more information on how tooexplicitly validate a JWT token, please see hello [manual JWT validation sample](https://github.com/Azure-Samples/active-directory-dotnet-webapi-manual-jwt-validation).</span></span>  

<span data-ttu-id="53c19-282">Fornecemos bibliotecas e exemplos de código que mostram como tooeasily lidam com a validação de token - Olá abaixo informações simplesmente é fornecido para os usuários que desejarem Olá toounderstand subjacente do processo.</span><span class="sxs-lookup"><span data-stu-id="53c19-282">We provide libraries and code samples that show how tooeasily handle token validation - hello below information is simply provided for those who wish toounderstand hello underlying process.</span></span>  <span data-ttu-id="53c19-283">Também há várias bibliotecas de software livre de terceiros disponíveis para validação de JWT; há pelo menos uma opção para quase todos os idiomas e plataformas.</span><span class="sxs-lookup"><span data-stu-id="53c19-283">There are also several third party open source libraries available for JWT validation - there is at least one option for almost every platform and language out there.</span></span> <span data-ttu-id="53c19-284">Para saber mais sobre bibliotecas de autenticação e exemplos de código do AD do Azure, veja [bibliotecas de autenticação do AD do Azure](active-directory-authentication-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="53c19-284">For more information about Azure AD authentication libraries and code samples, please see [Azure AD authentication libraries](active-directory-authentication-libraries.md).</span></span>

#### <a name="validating-hello-signature"></a><span data-ttu-id="53c19-285">Validação de assinatura de saudação</span><span class="sxs-lookup"><span data-stu-id="53c19-285">Validating hello signature</span></span>

<span data-ttu-id="53c19-286">Um JWT contém três segmentos, que são separados por Olá `.` caracteres.</span><span class="sxs-lookup"><span data-stu-id="53c19-286">A JWT contains three segments, which are separated by hello `.` character.</span></span>  <span data-ttu-id="53c19-287">primeiro segmento de saudação é conhecido como Olá **cabeçalho**, Olá segundo como Olá **corpo**e hello terceiro como Olá **assinatura**.</span><span class="sxs-lookup"><span data-stu-id="53c19-287">hello first segment is known as hello **header**, hello second as hello **body**, and hello third as hello **signature**.</span></span>  <span data-ttu-id="53c19-288">segmento de assinatura Olá pode ser usado toovalidate Olá autenticidade do token Olá para que ela pode ser confiável pelo seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="53c19-288">hello signature segment can be used toovalidate hello authenticity of hello token so that it can be trusted by your app.</span></span>

<span data-ttu-id="53c19-289">Os tokens emitidos pelo Azure AD são assinados usando algoritmos de criptografia assimétrica padrão do setor, como o RSA 256.</span><span class="sxs-lookup"><span data-stu-id="53c19-289">Tokens issued by Azure AD are signed using industry standard asymmetric encryption algorithms, such as RSA 256.</span></span> <span data-ttu-id="53c19-290">cabeçalho Olá Olá JWT contém informações sobre a chave de saudação e método de criptografia usado o token de saudação toosign:</span><span class="sxs-lookup"><span data-stu-id="53c19-290">hello header of hello JWT contains information about hello key and encryption method used toosign hello token:</span></span>

```
{
  "typ": "JWT",
  "alg": "RS256",
  "x5t": "kriMPdmBvx68skT8-mPAB3BseeA"
}
```

<span data-ttu-id="53c19-291">Olá `alg` declaração indica o algoritmo de saudação que era o token de saudação toosign usado, durante a saudação `x5t` declaração indica Olá determinada chave pública que foi usado toosign token de saudação.</span><span class="sxs-lookup"><span data-stu-id="53c19-291">hello `alg` claim indicates hello algorithm that was used toosign hello token, while hello `x5t` claim indicates hello particular public key that was used toosign hello token.</span></span>

<span data-ttu-id="53c19-292">Em qualquer ponto no tempo, o AD do Azure pode assinar um id_token usando qualquer um de um determinado conjunto de pares de chaves públicas-privadas.</span><span class="sxs-lookup"><span data-stu-id="53c19-292">At any given point in time, Azure AD may sign an id_token using any one of a certain set of public-private key pairs.</span></span> <span data-ttu-id="53c19-293">O AD do Azure gira possível o conjunto de chaves de forma periódica, Olá para que seu aplicativo deve ser gravado toohandle esses chave altera automaticamente.</span><span class="sxs-lookup"><span data-stu-id="53c19-293">Azure AD rotates hello possible set of keys on a periodic basis, so your app should be written toohandle those key changes automatically.</span></span>  <span data-ttu-id="53c19-294">Um toocheck frequência razoável para atualizações toohello pública as chaves usadas pelo AD do Azure é a cada 24 horas.</span><span class="sxs-lookup"><span data-stu-id="53c19-294">A reasonable frequency toocheck for updates toohello public keys used by Azure AD is every 24 hours.</span></span>

<span data-ttu-id="53c19-295">Você pode adquirir Olá assinatura de saudação toovalidate necessários dados de chave de assinatura usando Olá OpenID Connect documento de metadados localizado em:</span><span class="sxs-lookup"><span data-stu-id="53c19-295">You can acquire hello signing key data necessary toovalidate hello signature by using hello OpenID Connect metadata document located at:</span></span>

```
https://login.microsoftonline.com/common/.well-known/openid-configuration
```

> [!TIP]
> <span data-ttu-id="53c19-296">Experimente essa URL em um navegador!</span><span class="sxs-lookup"><span data-stu-id="53c19-296">Try this URL in a browser!</span></span>
> 
> 

<span data-ttu-id="53c19-297">Este documento de metadados é um objeto JSON que contém várias partes úteis de informações, como a localização de saudação do hello vários pontos de extremidade necessários para realizar a autenticação do OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="53c19-297">This metadata document is a JSON object containing several useful pieces of information, such as hello location of hello various endpoints required for performing OpenID Connect authentication.</span></span>  

<span data-ttu-id="53c19-298">Ele também inclui um `jwks_uri`, que fornece o local de saudação do conjunto de saudação de chaves públicas usados toosign tokens.</span><span class="sxs-lookup"><span data-stu-id="53c19-298">It also includes a `jwks_uri`, which gives hello location of hello set of public keys used toosign tokens.</span></span>  <span data-ttu-id="53c19-299">documento JSON Olá localizado em Olá `jwks_uri` contém todas as informações de chave pública do hello em uso no momento determinado.</span><span class="sxs-lookup"><span data-stu-id="53c19-299">hello JSON document located at hello `jwks_uri` contains all of hello public key information in use at that particular moment in time.</span></span>  <span data-ttu-id="53c19-300">Seu aplicativo pode usar Olá `kid` um token específico de declaração em tooselect de cabeçalho do JWT Olá qual chave pública neste documento foi toosign usado.</span><span class="sxs-lookup"><span data-stu-id="53c19-300">Your app can use hello `kid` claim in hello JWT header tooselect which public key in this document has been used toosign a particular token.</span></span>  <span data-ttu-id="53c19-301">Ele pode executar a validação de assinatura usando a chave pública correta de saudação e algoritmo indicado hello.</span><span class="sxs-lookup"><span data-stu-id="53c19-301">It can then perform signature validation using hello correct public key and hello indicated algorithm.</span></span>

<span data-ttu-id="53c19-302">Executar a validação de assinatura está fora do escopo Olá deste documento - há muitas bibliotecas de código aberto disponíveis para ajudá-lo a fazer isso, se necessário.</span><span class="sxs-lookup"><span data-stu-id="53c19-302">Performing signature validation is outside hello scope of this document - there are many open source libraries available for helping you do so if necessary.</span></span>

#### <a name="validating-hello-claims"></a><span data-ttu-id="53c19-303">Validando Olá declarações</span><span class="sxs-lookup"><span data-stu-id="53c19-303">Validating hello claims</span></span>

<span data-ttu-id="53c19-304">Quando seu aplicativo recebe um token (uma id_token após a entrada do usuário, ou um token de acesso como um token de portador na solicitação HTTP de saudação) ele também deve executar algumas verificações em declarações Olá no token de saudação.</span><span class="sxs-lookup"><span data-stu-id="53c19-304">When your app receives a token (either an id_token upon user sign-in, or an access token as a bearer token in hello HTTP request) it should also perform a few checks against hello claims in hello token.</span></span>  <span data-ttu-id="53c19-305">Elas incluem, mas sem limitação:</span><span class="sxs-lookup"><span data-stu-id="53c19-305">These include but are not limited to:</span></span>

* <span data-ttu-id="53c19-306">Olá **público** declaração - tooverify Olá token foi pretendido toobe dado aplicativo tooyour.</span><span class="sxs-lookup"><span data-stu-id="53c19-306">hello **Audience** claim - tooverify that hello token was intended toobe given tooyour app.</span></span>
* <span data-ttu-id="53c19-307">Olá **não antes** e **tempo de expiração** declarações - tooverify Olá token não expirou.</span><span class="sxs-lookup"><span data-stu-id="53c19-307">hello **Not Before** and **Expiration Time** claims - tooverify that hello token has not expired.</span></span>
* <span data-ttu-id="53c19-308">Olá **emissor** declaração - tooverify Olá token foi emitido realmente tooyour aplicativo pelo AD do Azure.</span><span class="sxs-lookup"><span data-stu-id="53c19-308">hello **Issuer** claim - tooverify that hello token was indeed issued tooyour app by Azure AD.</span></span>
* <span data-ttu-id="53c19-309">Olá **Nonce** -toomitigate um ataque de reprodução de token.</span><span class="sxs-lookup"><span data-stu-id="53c19-309">hello **Nonce** -  toomitigate a token replay attack.</span></span>
* <span data-ttu-id="53c19-310">e mais...</span><span class="sxs-lookup"><span data-stu-id="53c19-310">and more...</span></span>

<span data-ttu-id="53c19-311">Para obter uma lista completa de seu aplicativo deve executar para Tokens de ID de validações de declaração, consulte toohello [OpenID Connect especificação](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span><span class="sxs-lookup"><span data-stu-id="53c19-311">For a full list of claim validations your app should perform for ID Tokens, refer toohello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span></span> <span data-ttu-id="53c19-312">Detalhes dos valores esperados de saudação para essas declarações são incluídos no hello anterior [id_token seção](#id-tokens) seção.</span><span class="sxs-lookup"><span data-stu-id="53c19-312">Details of hello expected values for these claims are included in hello preceding [id_token section](#id-tokens) section.</span></span>

## <a name="sample-tokens"></a><span data-ttu-id="53c19-313">Tokens de exemplo</span><span class="sxs-lookup"><span data-stu-id="53c19-313">Sample Tokens</span></span>

<span data-ttu-id="53c19-314">Esta seção exibe exemplos de tokens SAML e JWT retornados pelo AD do Azure.</span><span class="sxs-lookup"><span data-stu-id="53c19-314">This section displays samples of SAML and JWT tokens that Azure AD returns.</span></span> <span data-ttu-id="53c19-315">Esses exemplos permitem ver Olá declarações no contexto.</span><span class="sxs-lookup"><span data-stu-id="53c19-315">These samples let you see hello claims in context.</span></span>

### <a name="saml-token"></a><span data-ttu-id="53c19-316">Token SAML</span><span class="sxs-lookup"><span data-stu-id="53c19-316">SAML Token</span></span>

<span data-ttu-id="53c19-317">Este é um exemplo de um token SAML típico.</span><span class="sxs-lookup"><span data-stu-id="53c19-317">This is a sample of a typical SAML token.</span></span>

    <?xml version="1.0" encoding="UTF-8"?>
    <t:RequestSecurityTokenResponse xmlns:t="http://schemas.xmlsoap.org/ws/2005/02/trust">
      <t:Lifetime>
        <wsu:Created xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">2014-12-24T05:15:47.060Z</wsu:Created>
        <wsu:Expires xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">2014-12-24T06:15:47.060Z</wsu:Expires>
      </t:Lifetime>
      <wsp:AppliesTo xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy">
        <EndpointReference xmlns="http://www.w3.org/2005/08/addressing">
          <Address>https://contoso.onmicrosoft.com/MyWebApp</Address>
        </EndpointReference>
      </wsp:AppliesTo>
      <t:RequestedSecurityToken>
        <Assertion xmlns="urn:oasis:names:tc:SAML:2.0:assertion" ID="_3ef08993-846b-41de-99df-b7f3ff77671b" IssueInstant="2014-12-24T05:20:47.060Z" Version="2.0">
          <Issuer>https://sts.windows.net/b9411234-09af-49c2-b0c3-653adc1f376e/</Issuer>
          <ds:Signature xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
            <ds:SignedInfo>
              <ds:CanonicalizationMethod Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#" />
              <ds:SignatureMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#rsa-sha256" />
              <ds:Reference URI="#_3ef08993-846b-41de-99df-b7f3ff77671b">
                <ds:Transforms>
                  <ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature" />
                  <ds:Transform Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#" />
                </ds:Transforms>
                <ds:DigestMethod Algorithm="http://www.w3.org/2001/04/xmlenc#sha256" />
                <ds:DigestValue>cV1J580U1pD24hEyGuAxrbtgROVyghCqI32UkER/nDY=</ds:DigestValue>
              </ds:Reference>
            </ds:SignedInfo>
            <ds:SignatureValue>j+zPf6mti8Rq4Kyw2NU2nnu0pbJU1z5bR/zDaKaO7FCTdmjUzAvIVfF8pspVR6CbzcYM3HOAmLhuWmBkAAk6qQUBmKsw+XlmF/pB/ivJFdgZSLrtlBs1P/WBV3t04x6fRW4FcIDzh8KhctzJZfS5wGCfYw95er7WJxJi0nU41d7j5HRDidBoXgP755jQu2ZER7wOYZr6ff+ha+/Aj3UMw+8ZtC+WCJC3yyENHDAnp2RfgdElJal68enn668fk8pBDjKDGzbNBO6qBgFPaBT65YvE/tkEmrUxdWkmUKv3y7JWzUYNMD9oUlut93UTyTAIGOs5fvP9ZfK2vNeMVJW7Xg==</ds:SignatureValue>
            <KeyInfo xmlns="http://www.w3.org/2000/09/xmldsig#">
              <X509Data>
                <X509Certificate>MIIDPjCCAabcAwIBAgIQsRiM0jheFZhKk49YD0SK1TAJBgUrDgMCHQUAMC0xKzApBgNVBAMTImFjY291bnRzLmFjY2Vzc2NvbnRyb2wud2luZG93cy5uZXQwHhcNMTQwMTAxMDcwMDAwWhcNMTYwMTAxMDcwMDAwWjAtMSswKQYDVQQDEyJhY2NvdW50cy5hY2Nlc3Njb250cm9sLndpbmRvd3MubmV0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAkSCWg6q9iYxvJE2NIhSyOiKvqoWCO2GFipgH0sTSAs5FalHQosk9ZNTztX0ywS/AHsBeQPqYygfYVJL6/EgzVuwRk5txr9e3n1uml94fLyq/AXbwo9yAduf4dCHTP8CWR1dnDR+Qnz/4PYlWVEuuHHONOw/blbfdMjhY+C/BYM2E3pRxbohBb3x//CfueV7ddz2LYiH3wjz0QS/7kjPiNCsXcNyKQEOTkbHFi3mu0u13SQwNddhcynd/GTgWN8A+6SN1r4hzpjFKFLbZnBt77ACSiYx+IHK4Mp+NaVEi5wQtSsjQtI++XsokxRDqYLwus1I1SihgbV/STTg5enufuwIDAQABo2IwYDBeBgNVHQEEVzBVgBDLebM6bK3BjWGqIBrBNFeNoS8wLTErMCkGA1UEAxMiYWNjb3VudHMuYWNjZXNzY29udHJvbC53aW5kb3dzLm5ldIIQsRiM0jheFZhKk49YD0SK1TAJBgUrDgMCHQUAA4IBAQCJ4JApryF77EKC4zF5bUaBLQHQ1PNtA1uMDbdNVGKCmSp8M65b8h0NwlIjGGGy/unK8P6jWFdm5IlZ0YPTOgzcRZguXDPj7ajyvlVEQ2K2ICvTYiRQqrOhEhZMSSZsTKXFVwNfW6ADDkN3bvVOVbtpty+nBY5UqnI7xbcoHLZ4wYD251uj5+lo13YLnsVrmQ16NCBYq2nQFNPuNJw6t3XUbwBHXpF46aLT1/eGf/7Xx6iy8yPJX4DyrpFTutDz882RWofGEO5t4Cw+zZg70dJ/hH/ODYRMorfXEW+8uKmXMKmX2wyxMKvfiPbTy5LmAU8Jvjs2tLg4rOBcXWLAIarZ</X509Certificate>
              </X509Data>
            </KeyInfo>
          </ds:Signature>
          <Subject>
            <NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:persistent">m_H3naDei2LNxUmEcWd0BZlNi_jVET1pMLR6iQSuYmo</NameID>
            <SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer" />
          </Subject>
          <Conditions NotBefore="2014-12-24T05:15:47.060Z" NotOnOrAfter="2014-12-24T06:15:47.060Z">
            <AudienceRestriction>
              <Audience>https://contoso.onmicrosoft.com/MyWebApp</Audience>
            </AudienceRestriction>
          </Conditions>
          <AttributeStatement>
            <Attribute Name="http://schemas.microsoft.com/identity/claims/objectidentifier">
              <AttributeValue>a1addde8-e4f9-4571-ad93-3059e3750d23</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.microsoft.com/identity/claims/tenantid">
              <AttributeValue>b9411234-09af-49c2-b0c3-653adc1f376e</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name">
              <AttributeValue>sample.admin@contoso.onmicrosoft.com</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname">
              <AttributeValue>Admin</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname">
              <AttributeValue>Sample</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.microsoft.com/ws/2008/06/identity/claims/groups">
              <AttributeValue>5581e43f-6096-41d4-8ffa-04e560bab39d</AttributeValue>
              <AttributeValue>07dd8a89-bf6d-4e81-8844-230b77145381</AttributeValue>
              <AttributeValue>0e129f4g-6b0a-4944-982d-f776000632af</AttributeValue>
              <AttributeValue>3ee07328-52ef-4739-a89b-109708c22fb5</AttributeValue>
              <AttributeValue>329k14b3-1851-4b94-947f-9a4dacb595f4</AttributeValue>
              <AttributeValue>6e32c650-9b0a-4491-b429-6c60d2ca9a42</AttributeValue>
              <AttributeValue>f3a169a7-9a58-4e8f-9d47-b70029v07424</AttributeValue>
              <AttributeValue>8e2c86b2-b1ad-476d-9574-544d155aa6ff</AttributeValue>
              <AttributeValue>1bf80264-ff24-4866-b22c-6212e5b9a847</AttributeValue>
              <AttributeValue>4075f9c3-072d-4c32-b542-03e6bc678f3e</AttributeValue>
              <AttributeValue>76f80527-f2cd-46f4-8c52-8jvd8bc749b1</AttributeValue>
              <AttributeValue>0ba31460-44d0-42b5-b90c-47b3fcc48e35</AttributeValue>
              <AttributeValue>edd41703-8652-4948-94a7-2d917bba7667</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.microsoft.com/identity/claims/identityprovider">
              <AttributeValue>https://sts.windows.net/b9411234-09af-49c2-b0c3-653adc1f376e/</AttributeValue>
            </Attribute>
          </AttributeStatement>
          <AuthnStatement AuthnInstant="2014-12-23T18:51:11.000Z">
            <AuthnContext>
              <AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</AuthnContextClassRef>
            </AuthnContext>
          </AuthnStatement>
        </Assertion>
      </t:RequestedSecurityToken>
      <t:RequestedAttachedReference>
        <SecurityTokenReference xmlns="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:d3p1="http://docs.oasis-open.org/wss/oasis-wss-wssecurity-secext-1.1.xsd" d3p1:TokenType="http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV2.0">
          <KeyIdentifier ValueType="http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLID">_3ef08993-846b-41de-99df-b7f3ff77671b</KeyIdentifier>
        </SecurityTokenReference>
      </t:RequestedAttachedReference>
      <t:RequestedUnattachedReference>
        <SecurityTokenReference xmlns="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:d3p1="http://docs.oasis-open.org/wss/oasis-wss-wssecurity-secext-1.1.xsd" d3p1:TokenType="http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV2.0">
          <KeyIdentifier ValueType="http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLID">_3ef08993-846b-41de-99df-b7f3ff77671b</KeyIdentifier>
        </SecurityTokenReference>
      </t:RequestedUnattachedReference>
      <t:TokenType>http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV2.0</t:TokenType>
      <t:RequestType>http://schemas.xmlsoap.org/ws/2005/02/trust/Issue</t:RequestType>
      <t:KeyType>http://schemas.xmlsoap.org/ws/2005/05/identity/NoProofKey</t:KeyType>
    </t:RequestSecurityTokenResponse>

### <a name="jwt-token---user-impersonation"></a><span data-ttu-id="53c19-318">Token JWT - representação de usuário</span><span class="sxs-lookup"><span data-stu-id="53c19-318">JWT Token - User Impersonation</span></span>
<span data-ttu-id="53c19-319">Este é um exemplo de um típico JWT (token Web JSON) usado em um fluxo de concessão de código de autorização.</span><span class="sxs-lookup"><span data-stu-id="53c19-319">This is a sample of a typical JSON web token (JWT) used in an authorization code grant flow.</span></span>
<span data-ttu-id="53c19-320">Em adição tooclaims, token Olá inclui um número de versão no **ver** e **appidacr**, Olá autenticação contexto referência de classe, que indica como Olá cliente foi autenticado.</span><span class="sxs-lookup"><span data-stu-id="53c19-320">In addition tooclaims, hello token includes a version number in **ver** and **appidacr**, hello authentication context class reference, which indicates how hello client was authenticated.</span></span> <span data-ttu-id="53c19-321">Para um cliente público, o valor de saudação é 0.</span><span class="sxs-lookup"><span data-stu-id="53c19-321">For a public client, hello value is 0.</span></span> <span data-ttu-id="53c19-322">Se uma ID de cliente ou um segredo do cliente foi usado, o valor de saudação é 1.</span><span class="sxs-lookup"><span data-stu-id="53c19-322">If a client ID or client secret was used, hello value is 1.</span></span>

    {
     typ: "JWT",
     alg: "RS256",
     x5t: "kriMPdmBvx68skT8-mPAB3BseeA"
    }.
    {
     aud: "https://contoso.onmicrosoft.com/scratchservice",
     iss: "https://sts.windows.net/b9411234-09af-49c2-b0c3-653adc1f376e/",
     iat: 1416968588,
     nbf: 1416968588,
     exp: 1416972488,
     ver: "1.0",
     tid: "b9411234-09af-49c2-b0c3-653adc1f376e",
     amr: [
      "pwd"
     ],
     roles: [
      "Admin"
     ],
     oid: "6526e123-0ff9-4fec-ae64-a8d5a77cf287",
     upn: "sample.user@contoso.onmicrosoft.com",
     unique_name: "sample.user@contoso.onmicrosoft.com",
     sub: "yf8C5e_VRkR1egGxJSDt5_olDFay6L5ilBA81hZhQEI",
     family_name: "User",
     given_name: "Sample",
     groups: [
      "0e129f6b-6b0a-4944-982d-f776000632af",
      "323b13b3-1851-4b94-947f-9a4dacb595f4",
      "6e32c250-9b0a-4491-b429-6c60d2ca9a42",
      "f3a161a7-9a58-4e8f-9d47-b70022a07424",
      "8d4c81b2-b1ad-476d-9574-544d155aa6ff",
      "1bf80164-ff24-4866-b19c-6212e5b9a847",
      "76f80127-f2cd-46f4-8c52-8edd8bc749b1",
      "0ba27160-44d0-42b5-b90c-47b3fcc48e35"
     ],
     appid: "b075ddef-0efa-123b-997b-de1337c29185",
     appidacr: "1",
     scp: "user_impersonation",
     acr: "1"
    }.

## <a name="related-content"></a><span data-ttu-id="53c19-323">Conteúdo relacionado</span><span class="sxs-lookup"><span data-stu-id="53c19-323">Related content</span></span>
* <span data-ttu-id="53c19-324">Consulte hello Azure AD Graph [operações da política](https://msdn.microsoft.com/library/azure/ad/graph/api/policy-operations) e hello [entidade diretiva](https://msdn.microsoft.com/library/azure/ad/graph/api/entity-and-complex-type-reference#policy-entity), toolearn mais sobre o gerenciamento de política de vida útil do token por meio de saudação do Azure AD Graph API.</span><span class="sxs-lookup"><span data-stu-id="53c19-324">See hello Azure AD Graph [Policy operations](https://msdn.microsoft.com/library/azure/ad/graph/api/policy-operations) and hello [Policy entity](https://msdn.microsoft.com/library/azure/ad/graph/api/entity-and-complex-type-reference#policy-entity), toolearn more about managing token lifetime policy via hello Azure AD Graph API.</span></span>
* <span data-ttu-id="53c19-325">Para obter mais informações e exemplos sobre como gerenciar as políticas por meio de cmdlets do PowerShell, incluindo exemplos, consulte [Tempos de vida de token configuráveis no AD do Azure](../active-directory-configurable-token-lifetimes.md).</span><span class="sxs-lookup"><span data-stu-id="53c19-325">For more information and samples on managing policies via PowerShell cmdlets, including samples, see [Configurable token lifetimes in Azure AD](../active-directory-configurable-token-lifetimes.md).</span></span> 
