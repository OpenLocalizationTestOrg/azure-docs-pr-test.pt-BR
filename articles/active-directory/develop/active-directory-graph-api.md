---
title: aaaAzure Active Directory Graph API | Microsoft Docs
description: "Um guia de visão geral e guia de início rápido para Olá Graph API que permite programático acessar tooAzure AD por meio de pontos de extremidade da API REST."
services: active-directory
documentationcenter: 
author: viv-liu
manager: mbaldwin
editor: mbaldwin
ms.assetid: 5471ad74-20b3-44df-a2b5-43cde2c0a045
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 04/27/2017
ms.author: viviali
ms.custom: aaddev
ms.openlocfilehash: cde1dd86b0ca1dc24a5b46dc578b6245ba98751f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-active-directory-graph-api"></a><span data-ttu-id="40c14-103">Graph API do Active Directory do Azure</span><span class="sxs-lookup"><span data-stu-id="40c14-103">Azure Active Directory Graph API</span></span>
> [!IMPORTANT]
> <span data-ttu-id="40c14-104">É altamente recomendável que você use [Microsoft Graph](https://graph.microsoft.io/) em vez do Azure AD Graph API tooaccess recursos do Active Directory do Azure.</span><span class="sxs-lookup"><span data-stu-id="40c14-104">We strongly recommend that you use [Microsoft Graph](https://graph.microsoft.io/) instead of Azure AD Graph API tooaccess Azure Active Directory resources.</span></span> <span data-ttu-id="40c14-105">Nossos esforços de desenvolvimento agora estão concentrados no Microsoft Graph e não há planejamento de novas melhorias para a API do Azure AD Graph.</span><span class="sxs-lookup"><span data-stu-id="40c14-105">Our development efforts are now concentrated on Microsoft Graph and no further enhancements are planned for Azure AD Graph API.</span></span> <span data-ttu-id="40c14-106">Há um número muito limitado de cenários para o qual Azure AD Graph API ainda pode ser apropriada; Para obter mais informações, consulte Olá [Microsoft Graph ou hello Azure AD Graph](https://dev.office.com/blogs/microsoft-graph-or-azure-ad-graph) postagem de blog em Olá Centro de desenvolvimento do Office.</span><span class="sxs-lookup"><span data-stu-id="40c14-106">There are a very limited number of scenarios for which Azure AD Graph API might still be appropriate; for more information, see hello [Microsoft Graph or hello Azure AD Graph](https://dev.office.com/blogs/microsoft-graph-or-azure-ad-graph) blog post in hello Office Dev Center.</span></span>
> 
> 

<span data-ttu-id="40c14-107">Olá API do Graph do Azure Active Directory fornece acesso programático tooAzure AD por meio de pontos de extremidade da API REST.</span><span class="sxs-lookup"><span data-stu-id="40c14-107">hello Azure Active Directory Graph API provides programmatic access tooAzure AD through REST API endpoints.</span></span> <span data-ttu-id="40c14-108">Os aplicativos podem usar tooperform de API do Graph Olá criar, ler, atualizar e excluir operações CRUD () em objetos e dados do diretório.</span><span class="sxs-lookup"><span data-stu-id="40c14-108">Applications can use hello Graph API tooperform create, read, update, and delete (CRUD) operations on directory data and objects.</span></span> <span data-ttu-id="40c14-109">Por exemplo, Olá API do Graph dá suporte a saudação operações comuns para um objeto de usuário a seguir:</span><span class="sxs-lookup"><span data-stu-id="40c14-109">For example, hello Graph API supports hello following common operations for a user object:</span></span>

* <span data-ttu-id="40c14-110">Criar um novo usuário em um diretório</span><span class="sxs-lookup"><span data-stu-id="40c14-110">Create a new user in a directory</span></span>
* <span data-ttu-id="40c14-111">Obter propriedades detalhadas do usuário, como seus grupos</span><span class="sxs-lookup"><span data-stu-id="40c14-111">Get a user’s detailed properties, such as their groups</span></span>
* <span data-ttu-id="40c14-112">Atualizar as propriedades do usuário, como sua localização e o número de telefone, ou alterar sua senha</span><span class="sxs-lookup"><span data-stu-id="40c14-112">Update a user’s properties, such as their location and phone number, or change their password</span></span>
* <span data-ttu-id="40c14-113">Verificar a associação de grupo do usuário para acesso baseado em função</span><span class="sxs-lookup"><span data-stu-id="40c14-113">Check a user’s group membership for role-based access</span></span>
* <span data-ttu-id="40c14-114">Desabilitar uma conta de usuário ou excluí-la totalmente</span><span class="sxs-lookup"><span data-stu-id="40c14-114">Disable a user’s account or delete it entirely</span></span>

<span data-ttu-id="40c14-115">Objetos de toouser adição, você pode executar operações semelhantes em outros objetos, como grupos e aplicativos.</span><span class="sxs-lookup"><span data-stu-id="40c14-115">In addition toouser objects, you can perform similar operations on other objects such as groups and applications.</span></span> <span data-ttu-id="40c14-116">Olá toocall API do Graph em um diretório, o aplicativo hello deve ser registrado com o AD do Azure e ser configurado toohello tooallow acessar o diretório.</span><span class="sxs-lookup"><span data-stu-id="40c14-116">toocall hello Graph API on a directory, hello application must be registered with Azure AD and be configured tooallow access toohello directory.</span></span> <span data-ttu-id="40c14-117">Normalmente, isso é obtido por meio de um fluxo de consentimento do usuário ou administrador.</span><span class="sxs-lookup"><span data-stu-id="40c14-117">This is normally achieved through a user or admin consent flow.</span></span>

<span data-ttu-id="40c14-118">usando toobegin hello Azure Active Directory Graph API, consulte Olá [guia de início rápido de API do Graph](active-directory-graph-api-quickstart.md), ou o modo de exibição hello [interativa documentação de referência de API do Graph](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/api-catalog).</span><span class="sxs-lookup"><span data-stu-id="40c14-118">toobegin using hello Azure Active Directory Graph API, see hello [Graph API Quickstart Guide](active-directory-graph-api-quickstart.md), or view hello [interactive Graph API reference documentation](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/api-catalog).</span></span>

## <a name="features"></a><span data-ttu-id="40c14-119">Recursos</span><span class="sxs-lookup"><span data-stu-id="40c14-119">Features</span></span>
<span data-ttu-id="40c14-120">Olá API do Graph fornece Olá recursos a seguir:</span><span class="sxs-lookup"><span data-stu-id="40c14-120">hello Graph API provides hello following features:</span></span>

* <span data-ttu-id="40c14-121">**Pontos de extremidade do REST API**: Olá API do Graph é um serviço RESTful constituído de pontos de extremidade que é acessadas por meio de solicitações HTTP padrão.</span><span class="sxs-lookup"><span data-stu-id="40c14-121">**REST API Endpoints**: hello Graph API is a RESTful service comprised of endpoints that are accessed using standard HTTP requests.</span></span> <span data-ttu-id="40c14-122">Olá API do Graph dá suporte a tipos de conteúdo XML ou JSON Javascript Object Notation () para solicitações e respostas.</span><span class="sxs-lookup"><span data-stu-id="40c14-122">hello Graph API supports XML or Javascript Object Notation (JSON) content types for requests and responses.</span></span> <span data-ttu-id="40c14-123">Para saber mais, consulte [Referência da Graph API REST do AD do Azure](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/api-catalog).</span><span class="sxs-lookup"><span data-stu-id="40c14-123">For more information, see [Azure AD Graph REST API Reference](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/api-catalog).</span></span>
* <span data-ttu-id="40c14-124">**Autenticação com o Azure AD**: cada toohello solicitação API do Graph deve ser autenticada anexando um JSON Web Token (JWT) no cabeçalho de autorização de saudação da solicitação de saudação.</span><span class="sxs-lookup"><span data-stu-id="40c14-124">**Authentication with Azure AD**: Every request toohello Graph API must be authenticated by appending a JSON Web Token (JWT) in hello Authorization header of hello request.</span></span> <span data-ttu-id="40c14-125">Esse token é adquirido, fazendo uma solicitação de tooAzure do AD do ponto de extremidade e fornecer credenciais válidas.</span><span class="sxs-lookup"><span data-stu-id="40c14-125">This token is acquired by making a request tooAzure AD’s token endpoint and providing valid credentials.</span></span> <span data-ttu-id="40c14-126">Você pode usar o hello fluxo de credenciais de cliente OAuth 2.0 ou tooacquire de fluxo de concessão de códigos de autorização Olá Olá um token toocall gráfico.</span><span class="sxs-lookup"><span data-stu-id="40c14-126">You can use hello OAuth 2.0 client credentials flow or hello authorization code grant flow tooacquire a token toocall hello Graph.</span></span> <span data-ttu-id="40c14-127">Para obter mais informações, veja [OAuth 2.0 no AD do Azure](https://msdn.microsoft.com/library/azure/dn645545.aspx).</span><span class="sxs-lookup"><span data-stu-id="40c14-127">For more information, [OAuth 2.0 in Azure AD](https://msdn.microsoft.com/library/azure/dn645545.aspx).</span></span>
* <span data-ttu-id="40c14-128">**Autorização baseada em função (RBAC)**: grupos de segurança são usado tooperform RBAC em Olá API do Graph.</span><span class="sxs-lookup"><span data-stu-id="40c14-128">**Role-Based Authorization (RBAC)**: Security groups are used tooperform RBAC in hello Graph API.</span></span> <span data-ttu-id="40c14-129">Por exemplo, se você quiser toodetermine se um usuário tem acesso tooa determinado recurso, o aplicativo hello pode chamar hello [verificar associação de grupo (transitiva)](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/groups-operations#FunctionsandactionsongroupsCheckmembershipinaspecificgrouptransitive) operação, que retorna true ou false.</span><span class="sxs-lookup"><span data-stu-id="40c14-129">For example, if you want toodetermine whether a user has access tooa specific resource, hello application can call hello [Check Group Membership (transitive)](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/groups-operations#FunctionsandactionsongroupsCheckmembershipinaspecificgrouptransitive) operation, which returns true or false.</span></span>
* <span data-ttu-id="40c14-130">**Consulta diferencial**: se você quiser toocheck para alterações em um diretório entre dois períodos de tempo sem ter que toomake frequentam consultas toohello API do Graph, você pode fazer uma solicitação de consulta diferencial.</span><span class="sxs-lookup"><span data-stu-id="40c14-130">**Differential Query**: If you want toocheck for changes in a directory between two time periods without having toomake frequent queries toohello Graph API, you can make a differential query request.</span></span> <span data-ttu-id="40c14-131">Este tipo de solicitação retornará somente alterações de saudação feitas entre a solicitação de consulta diferencial anterior hello e solicitação atual hello.</span><span class="sxs-lookup"><span data-stu-id="40c14-131">This type of request will return only hello changes made between hello previous differential query request and hello current request.</span></span> <span data-ttu-id="40c14-132">Para saber mais, leia [Consulta diferencial da Graph API do AD do Azure](https://msdn.microsoft.com/Library/Azure/Ad/Graph/howto/azure-ad-graph-api-differential-query).</span><span class="sxs-lookup"><span data-stu-id="40c14-132">For more information, see [Azure AD Graph API Differential Query](https://msdn.microsoft.com/Library/Azure/Ad/Graph/howto/azure-ad-graph-api-differential-query).</span></span>
* <span data-ttu-id="40c14-133">**Extensões de diretório**: se você estiver desenvolvendo um aplicativo que necessite tooread ou gravar propriedades exclusivas para objetos de diretório, você pode registrar e usar valores de extensão usando Olá API do Graph.</span><span class="sxs-lookup"><span data-stu-id="40c14-133">**Directory Extensions**: If you are developing an application that needs tooread or write unique properties for directory objects, you can register and use extension values by using hello Graph API.</span></span> <span data-ttu-id="40c14-134">Por exemplo, se seu aplicativo requer uma propriedade Skype ID para cada usuário, você pode registrar Olá nova propriedade no diretório hello e estará disponível em todos os objetos de usuário.</span><span class="sxs-lookup"><span data-stu-id="40c14-134">For example, if your application requires a Skype ID property for each user, you can register hello new property in hello directory and it will be available on every user object.</span></span> <span data-ttu-id="40c14-135">Para obter mais informações, veja [Extensões de esquema do diretório da Graph API do AD do Azure](https://msdn.microsoft.com/Library/Azure/Ad/Graph/howto/azure-ad-graph-api-directory-schema-extensions).</span><span class="sxs-lookup"><span data-stu-id="40c14-135">For more information, see [Azure AD Graph API Directory Schema Extensions](https://msdn.microsoft.com/Library/Azure/Ad/Graph/howto/azure-ad-graph-api-directory-schema-extensions).</span></span>
* <span data-ttu-id="40c14-136">**Protegido por escopos de permissão**: AAD Graph API expõe os escopos de permissão que habilitar o acesso seguro/consentimento tooAAD dados e dão suporte a uma variedade de tipos de aplicativo do cliente, incluindo:</span><span class="sxs-lookup"><span data-stu-id="40c14-136">**Secured by permission scopes**: AAD Graph API exposes permission scopes that enable secure/consented access tooAAD data, and support a variety of client app types, including:</span></span>
  
  * <span data-ttu-id="40c14-137">com uma interface do usuário que recebem delegado acessar toodata por meio de autorização do usuário Olá conectado (delegado)</span><span class="sxs-lookup"><span data-stu-id="40c14-137">those with a user interface which are given delegated access toodata via authorization from hello signed-in user (delegated)</span></span>
  * <span data-ttu-id="40c14-138">aqueles que usam controle de acesso baseado em função definido por aplicativo, como clientes de serviço/daemon (funções de aplicativo)</span><span class="sxs-lookup"><span data-stu-id="40c14-138">those that use application-define role-based access control such as service/daemon clients (app roles)</span></span>
    
    <span data-ttu-id="40c14-139">Tanto o delegado e escopos de permissão de função de aplicativo representam um privilégio exposto pelo Olá API do Graph e podem ser solicitados por aplicativos de cliente por meio de permissões de registro de aplicativo [recursos no portal do Azure de saudação](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="40c14-139">Both delegated and app role permission scopes represent a privilege exposed by hello Graph API and can be requested by client applications through application registration permissions [features in hello Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="40c14-140">Clientes podem verificar os escopos de permissão Olá concedidas toothem inspecionando a declaração de escopo ("scp") Olá recebida no token de acesso de saudação para permissões delegadas e declaração de funções hello ("funções") para permissões de função de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="40c14-140">Clients can verify hello permission scopes granted toothem by inspecting hello scope (“scp”) claim received in hello access token for delegated permissions and hello roles (“roles”) claim for app role permissions.</span></span> <span data-ttu-id="40c14-141">Saiba mais sobre [Escopos de permissão da API do Graph do Azure AD](https://msdn.microsoft.com/Library/Azure/Ad/Graph/howto/azure-ad-graph-api-permission-scopes).</span><span class="sxs-lookup"><span data-stu-id="40c14-141">Learn more about [Azure AD Graph API Permission Scopes](https://msdn.microsoft.com/Library/Azure/Ad/Graph/howto/azure-ad-graph-api-permission-scopes).</span></span>

## <a name="scenarios"></a><span data-ttu-id="40c14-142">Cenários</span><span class="sxs-lookup"><span data-stu-id="40c14-142">Scenarios</span></span>
<span data-ttu-id="40c14-143">Olá API do Graph habilita muitos cenários de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="40c14-143">hello Graph API enables many application scenarios.</span></span> <span data-ttu-id="40c14-144">Olá, os seguintes cenários é hello mais comuns:</span><span class="sxs-lookup"><span data-stu-id="40c14-144">hello following scenarios are hello most common:</span></span>

* <span data-ttu-id="40c14-145">**Aplicativo de linha de negócios (único locatário)**: neste cenário, um desenvolvedor corporativo trabalha para uma organização que tem uma assinatura do Office 365.</span><span class="sxs-lookup"><span data-stu-id="40c14-145">**Line of Business (Single Tenant) Application**: In this scenario, an enterprise developer works for an organization that has an Office 365 subscription.</span></span> <span data-ttu-id="40c14-146">desenvolvedor de saudação está criando um aplicativo web que interage com tarefas de tooperform do AD do Azure como atribuir um usuário de tooa de licença.</span><span class="sxs-lookup"><span data-stu-id="40c14-146">hello developer is building a web application that interacts with Azure AD tooperform tasks such assigning a license tooa user.</span></span> <span data-ttu-id="40c14-147">Esta tarefa exige acesso toohello Graph API, para que o desenvolvedor Olá registra o aplicativo de locatário único Olá no AD do Azure e configura permissões leitura e gravação para Olá API do Graph.</span><span class="sxs-lookup"><span data-stu-id="40c14-147">This task requires access toohello Graph API, so hello developer registers hello single tenant application in Azure AD and configures read and write permissions for hello Graph API.</span></span> <span data-ttu-id="40c14-148">Olá, em seguida, o aplicativo é configurado toouse suas próprias credenciais ou aquelas do usuário conectado no momento de saudação tooacquire toocall um token Olá API do Graph.</span><span class="sxs-lookup"><span data-stu-id="40c14-148">Then hello application is configured toouse either its own credentials or those of hello currently sign-in user tooacquire a token toocall hello Graph API.</span></span>
* <span data-ttu-id="40c14-149">**Aplicativo de software como serviço (multilocatário)**: neste cenário, um fornecedor de software independente (ISV) está desenvolvendo um aplicativo Web multilocatário hospedado que fornece recursos de gerenciamento de usuário para outras organizações que usam o AD do Azure.</span><span class="sxs-lookup"><span data-stu-id="40c14-149">**Software as a Service Application (Multi-Tenant)**: In this scenario, an independent software vendor (ISV) is developing hosted multi-tenant web application that provides user management features for other organizations that use Azure AD.</span></span> <span data-ttu-id="40c14-150">Esses recursos exigem acesso toodirectory objetos, e assim o aplicativo hello precisa Olá toocall API do Graph.</span><span class="sxs-lookup"><span data-stu-id="40c14-150">These features require access toodirectory objects, and so hello application needs toocall hello Graph API.</span></span> <span data-ttu-id="40c14-151">Olá developer registra o aplicativo hello no AD do Azure, configura toorequire leitura e permissões de gravação para Olá Graph API e, em seguida, habilita o acesso externo para que outras organizações possam consentir o aplicativo de hello toouse em seu diretório.</span><span class="sxs-lookup"><span data-stu-id="40c14-151">hello developer registers hello application in Azure AD, configures it toorequire read and write permissions for hello Graph API, and then enables external access so that other organizations can consent toouse hello application in their directory.</span></span> <span data-ttu-id="40c14-152">Quando um usuário em outra organização autentica o aplicativo toohello para Olá a primeira vez, eles verão uma caixa de diálogo de consentimento com permissões Olá Olá aplicativo está solicitando.</span><span class="sxs-lookup"><span data-stu-id="40c14-152">When a user in another organization authenticates toohello application for hello first time, they are shown a consent dialog with hello permissions hello application is requesting.</span></span>  <span data-ttu-id="40c14-153">Conceder consentimento então oferecerá aplicativo hello aqueles solicitou permissões toohello Graph API no diretório saudação do usuário.</span><span class="sxs-lookup"><span data-stu-id="40c14-153">Granting consent will then give hello application those requested permissions toohello Graph API in hello user’s directory.</span></span> <span data-ttu-id="40c14-154">Para obter mais informações sobre a estrutura de consentimento hello, consulte [visão geral da estrutura de consentimento do hello](active-directory-integrating-applications.md).</span><span class="sxs-lookup"><span data-stu-id="40c14-154">For more information on hello consent framework, see [Overview of hello Consent Framework](active-directory-integrating-applications.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="40c14-155">Consulte também</span><span class="sxs-lookup"><span data-stu-id="40c14-155">See Also</span></span>
[<span data-ttu-id="40c14-156">Guia de início rápido para a Graph API do AD do Azure</span><span class="sxs-lookup"><span data-stu-id="40c14-156">Azure AD Graph API Quickstart Guide</span></span>](active-directory-graph-api-quickstart.md)

[<span data-ttu-id="40c14-157">Documentação do REST para a Graph AD</span><span class="sxs-lookup"><span data-stu-id="40c14-157">AD Graph REST documentation</span></span>](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/api-catalog)

[<span data-ttu-id="40c14-158">Guia do desenvolvedor do Active Directory do Azure</span><span class="sxs-lookup"><span data-stu-id="40c14-158">Azure Active Directory developer's guide</span></span>](active-directory-developers-guide.md)

