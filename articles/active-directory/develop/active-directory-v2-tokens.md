---
title: "referência de tokens de v 2.0 do Active Directory aaaAzure | Microsoft Docs"
description: "tipos de saudação de tokens e declarações emitidas pelo ponto de extremidade do hello AD do Azure v 2.0"
services: active-directory
documentationcenter: 
author: dstrockis
manager: mbaldwin
editor: 
ms.assetid: dc58c282-9684-4b38-b151-f3e079f034fd
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/07/2017
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: 29eb5c3402aeae302ee7c6234488520495f85904
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-active-directory-v20-tokens-reference"></a><span data-ttu-id="b46e4-103">Referência de tokens do Azure Active Directory v2.0</span><span class="sxs-lookup"><span data-stu-id="b46e4-103">Azure Active Directory v2.0 tokens reference</span></span>
<span data-ttu-id="b46e4-104">o ponto de extremidade do Azure Active Directory (AD do Azure) v 2.0 Hello emite vários tipos de tokens de segurança em cada [fluxo de autenticação](active-directory-v2-flows.md).</span><span class="sxs-lookup"><span data-stu-id="b46e4-104">hello Azure Active Directory (Azure AD) v2.0 endpoint emits several types of security tokens in each [authentication flow](active-directory-v2-flows.md).</span></span> <span data-ttu-id="b46e4-105">Esta referência descreve o formato de saudação, características de segurança e conteúdo de cada tipo de token.</span><span class="sxs-lookup"><span data-stu-id="b46e4-105">This reference describes hello format, security characteristics, and contents of each type of token.</span></span>

> [!NOTE]
> <span data-ttu-id="b46e4-106">o ponto de extremidade do Hello v 2.0 não oferece suporte a todos os recursos e cenários de Active Directory do Azure.</span><span class="sxs-lookup"><span data-stu-id="b46e4-106">hello v2.0 endpoint does not support all Azure Active Directory scenarios and features.</span></span> <span data-ttu-id="b46e4-107">toodetermine se você deve usar o ponto de extremidade de v 2.0 hello, leia sobre [limitações v 2.0](active-directory-v2-limitations.md).</span><span class="sxs-lookup"><span data-stu-id="b46e4-107">toodetermine whether you should use hello v2.0 endpoint, read about [v2.0 limitations](active-directory-v2-limitations.md).</span></span>
>
>

## <a name="types-of-tokens"></a><span data-ttu-id="b46e4-108">Tipos de tokens</span><span class="sxs-lookup"><span data-stu-id="b46e4-108">Types of tokens</span></span>
<span data-ttu-id="b46e4-109">Olá ponto de extremidade v 2.0 dá suporte a saudação [protocolo de autorização do OAuth 2.0](active-directory-v2-protocols.md), que usa tokens de acesso e tokens de atualização.</span><span class="sxs-lookup"><span data-stu-id="b46e4-109">hello v2.0 endpoint supports hello [OAuth 2.0 authorization protocol](active-directory-v2-protocols.md), which uses access tokens and refresh tokens.</span></span> <span data-ttu-id="b46e4-110">o ponto de extremidade do Hello v 2.0 também oferece suporte a autenticação e entrar via [OpenID Connect](active-directory-v2-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="b46e4-110">hello v2.0 endpoint also supports authentication and sign-in via [OpenID Connect](active-directory-v2-protocols.md).</span></span> <span data-ttu-id="b46e4-111">OpenID Connect apresenta um terceiro tipo de token de ID do token, Olá.</span><span class="sxs-lookup"><span data-stu-id="b46e4-111">OpenID Connect introduces a third type of token, hello ID token.</span></span> <span data-ttu-id="b46e4-112">Cada um desses tokens é representado como um token de *portador*.</span><span class="sxs-lookup"><span data-stu-id="b46e4-112">Each of these tokens is represented as a *bearer* token.</span></span>

<span data-ttu-id="b46e4-113">Um token de portador é o recurso protegido de um token de segurança leve que concede Olá tooa de acesso de portador.</span><span class="sxs-lookup"><span data-stu-id="b46e4-113">A bearer token is a lightweight security token that grants hello bearer access tooa protected resource.</span></span> <span data-ttu-id="b46e4-114">portador Olá é qualquer parte que pode apresentar um token de saudação.</span><span class="sxs-lookup"><span data-stu-id="b46e4-114">hello bearer is any party that can present hello token.</span></span> <span data-ttu-id="b46e4-115">Embora uma parte deve ser autenticado com o token de portador de saudação do AD do Azure tooreceive, se etapas não são obtidas token de saudação toosecure durante a transmissão e o armazenamento, pode ser interceptado e usado por uma parte não pretendida.</span><span class="sxs-lookup"><span data-stu-id="b46e4-115">Although a party must authenticate with Azure AD tooreceive hello bearer token, if steps are not taken toosecure hello token during transmission and storage, it can be intercepted and used by an unintended party.</span></span> <span data-ttu-id="b46e4-116">Alguns tokens de segurança têm partes de tooprevent não autorizado um mecanismo interno que usa-los, mas não de tokens de portador não.</span><span class="sxs-lookup"><span data-stu-id="b46e4-116">Some security tokens have a built-in mechanism tooprevent unauthorized parties from using them, but bearer tokens do not.</span></span> <span data-ttu-id="b46e4-117">Os tokens de portador devem ser transportados em um canal seguro, como segurança da camada de transporte (HTTPS).</span><span class="sxs-lookup"><span data-stu-id="b46e4-117">Bearer tokens must be transported in a secure channel such as transport layer security (HTTPS).</span></span> <span data-ttu-id="b46e4-118">Se um token de portador for transmitido sem esse tipo de segurança, um terceiro mal-intencionado pode usar um token de hello "ataque man-in-the-middle" tooacquire e usá-lo para o recurso de tooa protegido do acesso não autorizado.</span><span class="sxs-lookup"><span data-stu-id="b46e4-118">If a bearer token is transmitted without this type of security, a malicious party could use a "man-in-the-middle attack" tooacquire hello token and use it for unauthorized access tooa protected resource.</span></span> <span data-ttu-id="b46e4-119">Olá mesmos princípios de segurança se aplicam ao armazenar ou armazenamento em cache os tokens de portador para uso posterior.</span><span class="sxs-lookup"><span data-stu-id="b46e4-119">hello same security principles apply when storing or caching bearer tokens for later use.</span></span> <span data-ttu-id="b46e4-120">Sempre verifique se o aplicativo transmite e armazena tokens de portador com segurança.</span><span class="sxs-lookup"><span data-stu-id="b46e4-120">Always ensure that your app securely transmits and stores bearer tokens.</span></span> <span data-ttu-id="b46e4-121">Para obter mais considerações de segurança sobre tokens de portador, confira [RFC 6750 seção 5](http://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="b46e4-121">For more security considerations for bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="b46e4-122">Muitas das Olá tokens emitidos pelo ponto de extremidade do hello v 2.0 são implementadas como JSON Web Tokens (JWTs).</span><span class="sxs-lookup"><span data-stu-id="b46e4-122">Many of hello tokens issued by hello v2.0 endpoint are implemented as JSON Web Tokens (JWTs).</span></span> <span data-ttu-id="b46e4-123">Um JWT é uma informação de tootransfer de modo compacto, URL segura entre duas partes.</span><span class="sxs-lookup"><span data-stu-id="b46e4-123">A JWT is a compact, URL-safe way tootransfer information between two parties.</span></span> <span data-ttu-id="b46e4-124">informações de saudação em um JWT são chamadas um *declaração*.</span><span class="sxs-lookup"><span data-stu-id="b46e4-124">hello information in a JWT is called a *claim*.</span></span> <span data-ttu-id="b46e4-125">É uma asserção de informações sobre o portador hello e assunto do token de saudação.</span><span class="sxs-lookup"><span data-stu-id="b46e4-125">It's an assertion of information about hello bearer and subject of hello token.</span></span> <span data-ttu-id="b46e4-126">Olá declarações em um JWT são objetos de notação JSON (JavaScript Object) que são codificados e serializados para transmissão.</span><span class="sxs-lookup"><span data-stu-id="b46e4-126">hello claims in a JWT are JavaScript Object Notation (JSON) objects that are encoded and serialized for transmission.</span></span> <span data-ttu-id="b46e4-127">Olá JWTs emitido por ponto de extremidade do hello v 2.0 são assinados, mas não criptografado, você pode facilmente inspecionar o conteúdo de saudação de um JWT para fins de depuração.</span><span class="sxs-lookup"><span data-stu-id="b46e4-127">Because hello JWTs issued by hello v2.0 endpoint are signed but not encrypted, you can easily inspect hello contents of a JWT for debugging purposes.</span></span> <span data-ttu-id="b46e4-128">Para obter mais informações sobre JWTs, consulte Olá [especificação do JWT](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span><span class="sxs-lookup"><span data-stu-id="b46e4-128">For more information about JWTs, see hello [JWT specification](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span></span>

### <a name="id-tokens"></a><span data-ttu-id="b46e4-129">Tokens de ID</span><span class="sxs-lookup"><span data-stu-id="b46e4-129">ID tokens</span></span>
<span data-ttu-id="b46e4-130">Um token de ID é uma forma de token de segurança de entrada que o aplicativo recebe quando ele executa a autenticação usando [OpenID Connect](active-directory-v2-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="b46e4-130">An ID token is a form of sign-in security token that your app receives when it performs authentication by using [OpenID Connect](active-directory-v2-protocols.md).</span></span> <span data-ttu-id="b46e4-131">Tokens de ID são representados como [JWTs](#types-of-tokens), e eles contêm declarações que você pode usar o usuário de saudação toosign no aplicativo tooyour.</span><span class="sxs-lookup"><span data-stu-id="b46e4-131">ID tokens are represented as [JWTs](#types-of-tokens), and they contain claims that you can use toosign hello user in tooyour app.</span></span> <span data-ttu-id="b46e4-132">Você pode usar o hello declarações em um token de ID de várias maneiras.</span><span class="sxs-lookup"><span data-stu-id="b46e4-132">You can use hello claims in an ID token in various ways.</span></span> <span data-ttu-id="b46e4-133">Normalmente, administradores usam informações de conta do ID tokens toodisplay ou toomake decisões de controle de acesso em um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="b46e4-133">Typically, admins use ID tokens toodisplay account information or toomake access control decisions in an app.</span></span> <span data-ttu-id="b46e4-134">o ponto de extremidade do Hello v 2.0 emite apenas um tipo de token de ID, que tem um conjunto consistente de declarações, independentemente do tipo de saudação do usuário que está conectado.</span><span class="sxs-lookup"><span data-stu-id="b46e4-134">hello v2.0 endpoint issues only one type of ID token, which has a consistent set of claims, regardless of hello type of user that is signed in.</span></span> <span data-ttu-id="b46e4-135">formato de saudação e o conteúdo dos tokens de ID são Olá mesmo para usuários de conta Microsoft pessoais e para contas corporativas ou de estudante.</span><span class="sxs-lookup"><span data-stu-id="b46e4-135">hello format and content of ID tokens are hello same for personal Microsoft account users and for work or school accounts.</span></span>

<span data-ttu-id="b46e4-136">Atualmente, os tokens de ID são assinados, mas não criptografados.</span><span class="sxs-lookup"><span data-stu-id="b46e4-136">Currently, ID tokens are signed but not encrypted.</span></span> <span data-ttu-id="b46e4-137">Quando seu aplicativo recebe um token de ID, ele deverá [validar assinatura Olá](#validating-tokens) tooprove Olá autenticidade do token e validar algumas declarações em tooprove token Olá sua validade.</span><span class="sxs-lookup"><span data-stu-id="b46e4-137">When your app receives an ID token, it must [validate hello signature](#validating-tokens) tooprove hello token's authenticity and validate a few claims in hello token tooprove its validity.</span></span> <span data-ttu-id="b46e4-138">Olá validadas por um aplicativo de declarações variam dependendo dos requisitos do cenário, mas seu aplicativo deve executar algumas [comuns validações de declaração](#validating-tokens) em cada cenário.</span><span class="sxs-lookup"><span data-stu-id="b46e4-138">hello claims validated by an app vary depending on scenario requirements, but your app must perform some [common claim validations](#validating-tokens) in every scenario.</span></span>

<span data-ttu-id="b46e4-139">Nós lhe detalhes completos Olá declarações em tokens de ID no Olá seguintes seções, além de token de ID de exemplo tooa.</span><span class="sxs-lookup"><span data-stu-id="b46e4-139">We give you hello full details about claims in ID tokens in hello following sections, in addition tooa sample ID token.</span></span> <span data-ttu-id="b46e4-140">Observe que as declarações em tokens de ID não são retornadas em uma ordem específica.</span><span class="sxs-lookup"><span data-stu-id="b46e4-140">Note that claims in ID tokens are not returned in a specific order.</span></span> <span data-ttu-id="b46e4-141">Além disso, novas declarações podem ser introduzidas em tokens de ID a qualquer momento.</span><span class="sxs-lookup"><span data-stu-id="b46e4-141">Also, new claims can be introduced into ID tokens at any time.</span></span> <span data-ttu-id="b46e4-142">O aplicativo não deve ser interrompido quando novas declarações são introduzidas.</span><span class="sxs-lookup"><span data-stu-id="b46e4-142">Your app should not break when new claims are introduced.</span></span> <span data-ttu-id="b46e4-143">Olá lista a seguir inclui declarações Olá que seu aplicativo atualmente confiável pode interpretar.</span><span class="sxs-lookup"><span data-stu-id="b46e4-143">hello following list includes hello claims that your app currently can reliably interpret.</span></span> <span data-ttu-id="b46e4-144">Você pode encontrar mais detalhes no hello [OpenID Connect especificação](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="b46e4-144">You can find more details in hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>

#### <a name="sample-id-token"></a><span data-ttu-id="b46e4-145">Token de ID de exemplo</span><span class="sxs-lookup"><span data-stu-id="b46e4-145">Sample ID token</span></span>
```
eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik1uQ19WWmNBVGZNNXBPWWlKSE1iYTlnb0VLWSJ9.eyJhdWQiOiI2NzMxZGU3Ni0xNGE2LTQ5YWUtOTdiYy02ZWJhNjkxNDM5MWUiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vYjk0MTk4MTgtMDlhZi00OWMyLWIwYzMtNjUzYWRjMWYzNzZlL3YyLjAiLCJpYXQiOjE0NTIyODUzMzEsIm5iZiI6MTQ1MjI4NTMzMSwiZXhwIjoxNDUyMjg5MjMxLCJuYW1lIjoiQmFiZSBSdXRoIiwibm9uY2UiOiIxMjM0NSIsIm9pZCI6ImExZGJkZGU4LWU0ZjktNDU3MS1hZDkzLTMwNTllMzc1MGQyMyIsInByZWZlcnJlZF91c2VybmFtZSI6InRoZWdyZWF0YmFtYmlub0BueXkub25taWNyb3NvZnQuY29tIiwic3ViIjoiTUY0Zi1nZ1dNRWppMTJLeW5KVU5RWnBoYVVUdkxjUXVnNWpkRjJubDAxUSIsInRpZCI6ImI5NDE5ODE4LTA5YWYtNDljMi1iMGMzLTY1M2FkYzFmMzc2ZSIsInZlciI6IjIuMCJ9.p_rYdrtJ1oCmgDBggNHB9O38KTnLCMGbMDODdirdmZbmJcTHiZDdtTc-hguu3krhbtOsoYM2HJeZM3Wsbp_YcfSKDY--X_NobMNsxbT7bqZHxDnA2jTMyrmt5v2EKUnEeVtSiJXyO3JWUq9R0dO-m4o9_8jGP6zHtR62zLaotTBYHmgeKpZgTFB9WtUq8DVdyMn_HSvQEfz-LWqckbcTwM_9RNKoGRVk38KChVJo4z5LkksYRarDo8QgQ7xEKmYmPvRr_I7gvM2bmlZQds2OeqWLB1NSNbFZqyFOCgYn3bAQ-nEQSKwBaA36jYGPOVG2r2Qv1uKcpSOxzxaQybzYpQ
```

> [!TIP]
> <span data-ttu-id="b46e4-146">Para praticar, tooinspect Olá declarações no token de ID do exemplo hello, cole o token de ID do exemplo hello em [calebb.net](http://calebb.net/).</span><span class="sxs-lookup"><span data-stu-id="b46e4-146">For practice, tooinspect hello claims in hello sample ID token, paste hello sample ID token into [calebb.net](http://calebb.net/).</span></span>
>
>

#### <a name="claims-in-id-tokens"></a><span data-ttu-id="b46e4-147">Declarações em tokens de ID</span><span class="sxs-lookup"><span data-stu-id="b46e4-147">Claims in ID tokens</span></span>
| <span data-ttu-id="b46e4-148">Nome</span><span class="sxs-lookup"><span data-stu-id="b46e4-148">Name</span></span> | <span data-ttu-id="b46e4-149">Declaração</span><span class="sxs-lookup"><span data-stu-id="b46e4-149">Claim</span></span> | <span data-ttu-id="b46e4-150">Valor de exemplo</span><span class="sxs-lookup"><span data-stu-id="b46e4-150">Example value</span></span> | <span data-ttu-id="b46e4-151">Descrição</span><span class="sxs-lookup"><span data-stu-id="b46e4-151">Description</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="b46e4-152">audiência</span><span class="sxs-lookup"><span data-stu-id="b46e4-152">audience</span></span> |`aud` |`6731de76-14a6-49ae-97bc-6eba6914391e` |<span data-ttu-id="b46e4-153">Identifica o destinatário Olá pretendido do token de saudação.</span><span class="sxs-lookup"><span data-stu-id="b46e4-153">Identifies hello intended recipient of hello token.</span></span> <span data-ttu-id="b46e4-154">Nos tokens de ID público de saudação é ID de aplicativo do seu aplicativo, atribuído tooyour aplicativo hello Portal de registro de aplicativo do Microsoft.</span><span class="sxs-lookup"><span data-stu-id="b46e4-154">In ID tokens, hello audience is your app's Application ID, assigned tooyour app in hello Microsoft Application Registration Portal.</span></span> <span data-ttu-id="b46e4-155">Seu aplicativo deve validar esse valor e rejeitar o token de saudação se Olá valor não corresponde.</span><span class="sxs-lookup"><span data-stu-id="b46e4-155">Your app should validate this value, and reject hello token if hello value does not match.</span></span> |
| <span data-ttu-id="b46e4-156">emissor</span><span class="sxs-lookup"><span data-stu-id="b46e4-156">issuer</span></span> |`iss` |`https://login.microsoftonline.com/b9419818-09af-49c2-b0c3-653adc1f376e/v2.0 ` |<span data-ttu-id="b46e4-157">Identifica Olá serviço de token segurança (STS) que cria e retorna o token hello e locatário do AD do Azure Olá no qual Olá usuário foi autenticado.</span><span class="sxs-lookup"><span data-stu-id="b46e4-157">Identifies hello security token service (STS) that constructs and returns hello token, and hello Azure AD tenant in which hello user was authenticated.</span></span> <span data-ttu-id="b46e4-158">Seu aplicativo deve validar a declaração do emissor Olá tooensure Olá token veio do ponto de extremidade do hello v 2.0.</span><span class="sxs-lookup"><span data-stu-id="b46e4-158">Your app should validate hello issuer claim tooensure that hello token came from hello v2.0 endpoint.</span></span> <span data-ttu-id="b46e4-159">Ele também deve usar parte do hello GUID do conjunto de saudação do hello declaração toorestrict de locatários pode entrar no aplicativo toohello.</span><span class="sxs-lookup"><span data-stu-id="b46e4-159">It also should use hello GUID portion of hello claim toorestrict hello set of tenants that can sign in toohello app.</span></span> <span data-ttu-id="b46e4-160">GUID que indica que o usuário Olá Olá é um usuário de consumidor de uma conta da Microsoft `9188040d-6c67-4c5b-b112-36a304b66dad`.</span><span class="sxs-lookup"><span data-stu-id="b46e4-160">hello GUID that indicates that hello user is a consumer user from a Microsoft account is `9188040d-6c67-4c5b-b112-36a304b66dad`.</span></span> |
| <span data-ttu-id="b46e4-161">emitido em</span><span class="sxs-lookup"><span data-stu-id="b46e4-161">issued at</span></span> |`iat` |`1452285331` |<span data-ttu-id="b46e4-162">tempo de saudação em qual Olá token foi emitido, representado em vez de época.</span><span class="sxs-lookup"><span data-stu-id="b46e4-162">hello time at which hello token was issued, represented in epoch time.</span></span> |
| <span data-ttu-id="b46e4-163">hora de expiração</span><span class="sxs-lookup"><span data-stu-id="b46e4-163">expiration time</span></span> |`exp` |`1452289231` |<span data-ttu-id="b46e4-164">tempo de saudação na qual Olá token se torna inválido, representado em vez de época.</span><span class="sxs-lookup"><span data-stu-id="b46e4-164">hello time at which hello token becomes invalid, represented in epoch time.</span></span> <span data-ttu-id="b46e4-165">Seu aplicativo deve usar essa validade de saudação tooverify declaração de vida útil do token hello.</span><span class="sxs-lookup"><span data-stu-id="b46e4-165">Your app should use this claim tooverify hello validity of hello token lifetime.</span></span> |
| <span data-ttu-id="b46e4-166">não antes de</span><span class="sxs-lookup"><span data-stu-id="b46e4-166">not before</span></span> |`nbf` |`1452285331` |<span data-ttu-id="b46e4-167">tempo de saudação na qual Olá token se torna válido, são representados em vez de época.</span><span class="sxs-lookup"><span data-stu-id="b46e4-167">hello time at which hello token becomes valid, represented in epoch time.</span></span> <span data-ttu-id="b46e4-168">É geralmente Olá mesmo como o tempo de emissão de saudação.</span><span class="sxs-lookup"><span data-stu-id="b46e4-168">It is usually hello same as hello issuance time.</span></span> <span data-ttu-id="b46e4-169">Seu aplicativo deve usar essa validade de saudação tooverify declaração de vida útil do token hello.</span><span class="sxs-lookup"><span data-stu-id="b46e4-169">Your app should use this claim tooverify hello validity of hello token lifetime.</span></span> |
| <span data-ttu-id="b46e4-170">version</span><span class="sxs-lookup"><span data-stu-id="b46e4-170">version</span></span> |`ver` |`2.0` |<span data-ttu-id="b46e4-171">versão de saudação do token de ID hello, conforme definido pelo AD do Azure.</span><span class="sxs-lookup"><span data-stu-id="b46e4-171">hello version of hello ID token, as defined by Azure AD.</span></span> <span data-ttu-id="b46e4-172">Ponto de extremidade Olá v 2.0, o valor de saudação é `2.0`.</span><span class="sxs-lookup"><span data-stu-id="b46e4-172">For hello v2.0 endpoint, hello value is `2.0`.</span></span> |
| <span data-ttu-id="b46e4-173">ID do locatário</span><span class="sxs-lookup"><span data-stu-id="b46e4-173">tenant ID</span></span> |`tid` |`b9419818-09af-49c2-b0c3-653adc1f376e` |<span data-ttu-id="b46e4-174">Um GUID que representa o locatário de saudação do AD do Azure que Olá usuário é de.</span><span class="sxs-lookup"><span data-stu-id="b46e4-174">A GUID that represents hello Azure AD tenant that hello user is from.</span></span> <span data-ttu-id="b46e4-175">Para contas corporativas e de estudantes, Olá GUID é locatário imutável hello, ID de organização Olá Olá usuário pertence.</span><span class="sxs-lookup"><span data-stu-id="b46e4-175">For work and school accounts, hello GUID is hello immutable tenant ID of hello organization that hello user belongs to.</span></span> <span data-ttu-id="b46e4-176">Para contas pessoais, valor de saudação é `9188040d-6c67-4c5b-b112-36a304b66dad`.</span><span class="sxs-lookup"><span data-stu-id="b46e4-176">For personal accounts, hello value is `9188040d-6c67-4c5b-b112-36a304b66dad`.</span></span> <span data-ttu-id="b46e4-177">Olá `profile` escopo é necessário em ordem tooreceive esta declaração.</span><span class="sxs-lookup"><span data-stu-id="b46e4-177">hello `profile` scope is required in order tooreceive this claim.</span></span> |
| <span data-ttu-id="b46e4-178">hash de código</span><span class="sxs-lookup"><span data-stu-id="b46e4-178">code hash</span></span> |`c_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="b46e4-179">hash de código Hello está incluída nos tokens de ID somente quando o token de ID de saudação é emitida com um código de autorização OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="b46e4-179">hello code hash is included in ID tokens only when hello ID token is issued with an OAuth 2.0 authorization code.</span></span> <span data-ttu-id="b46e4-180">Ele pode ser usado toovalidate Olá autenticidade de um código de autorização.</span><span class="sxs-lookup"><span data-stu-id="b46e4-180">It can be used toovalidate hello authenticity of an authorization code.</span></span> <span data-ttu-id="b46e4-181">Para obter detalhes sobre como executar essa validação, consulte Olá [OpenID Connect especificação](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="b46e4-181">For details about performing this validation, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span> |
| <span data-ttu-id="b46e4-182">hash de token de acesso</span><span class="sxs-lookup"><span data-stu-id="b46e4-182">access token hash</span></span> |`at_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="b46e4-183">hash de token de acesso de saudação está incluída nos tokens de ID somente quando o token de ID de saudação é emitida com um token de acesso OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="b46e4-183">hello access token hash is included in ID tokens only when hello ID token is issued with an OAuth 2.0 access token.</span></span> <span data-ttu-id="b46e4-184">Ele pode ser usado toovalidate Olá autenticidade de um token de acesso.</span><span class="sxs-lookup"><span data-stu-id="b46e4-184">It can be used toovalidate hello authenticity of an access token.</span></span> <span data-ttu-id="b46e4-185">Para obter detalhes sobre como executar essa validação, consulte Olá [OpenID Connect especificação](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="b46e4-185">For details about performing this validation, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span> |
| <span data-ttu-id="b46e4-186">nonce</span><span class="sxs-lookup"><span data-stu-id="b46e4-186">nonce</span></span> |`nonce` |`12345` |<span data-ttu-id="b46e4-187">nonce Olá é uma estratégia para mitigar ataques de reprodução de token.</span><span class="sxs-lookup"><span data-stu-id="b46e4-187">hello nonce is a strategy for mitigating token replay attacks.</span></span> <span data-ttu-id="b46e4-188">Seu aplicativo pode especificar um valor de uso único em uma solicitação de autorização usando Olá `nonce` parâmetro de consulta.</span><span class="sxs-lookup"><span data-stu-id="b46e4-188">Your app can specify a nonce in an authorization request by using hello `nonce` query parameter.</span></span> <span data-ttu-id="b46e4-189">valor Olá fornecer na solicitação de saudação é emitida no token de ID a saudação `nonce` declaração, sem modificações.</span><span class="sxs-lookup"><span data-stu-id="b46e4-189">hello value you provide in hello request is emitted in hello ID token's `nonce` claim, unmodified.</span></span> <span data-ttu-id="b46e4-190">Seu aplicativo pode verificar o valor de saudação com valor de saudação que ele especificado na solicitação de saudação, que associa a sessão de saudação do aplicativo com um token de ID específico.</span><span class="sxs-lookup"><span data-stu-id="b46e4-190">Your app can verify hello value against hello value it specified on hello request, which associates hello app's session with a specific ID token.</span></span> <span data-ttu-id="b46e4-191">Seu aplicativo deve executar essa validação durante o processo de validação de token de ID de saudação.</span><span class="sxs-lookup"><span data-stu-id="b46e4-191">Your app should perform this validation during hello ID token validation process.</span></span> |
| <span data-ttu-id="b46e4-192">name</span><span class="sxs-lookup"><span data-stu-id="b46e4-192">name</span></span> |`name` |`Babe Ruth` |<span data-ttu-id="b46e4-193">declaração de nome Hello fornece um valor legível que identifica a entidade de saudação do token de saudação.</span><span class="sxs-lookup"><span data-stu-id="b46e4-193">hello name claim provides a human-readable value that identifies hello subject of hello token.</span></span> <span data-ttu-id="b46e4-194">valor de saudação não é garantida toobe exclusivo é mutável, e é projetado toobe usado apenas para fins de exibição.</span><span class="sxs-lookup"><span data-stu-id="b46e4-194">hello value is not guaranteed toobe unique, it is mutable, and it's designed toobe used only for display purposes.</span></span> <span data-ttu-id="b46e4-195">Olá `profile` escopo é necessário em ordem tooreceive esta declaração.</span><span class="sxs-lookup"><span data-stu-id="b46e4-195">hello `profile` scope is required in order tooreceive this claim.</span></span> |
| <span data-ttu-id="b46e4-196">email</span><span class="sxs-lookup"><span data-stu-id="b46e4-196">email</span></span> |`email` |`thegreatbambino@nyy.onmicrosoft.com` |<span data-ttu-id="b46e4-197">endereço de email principal Olá associado à conta de usuário do hello, se houver.</span><span class="sxs-lookup"><span data-stu-id="b46e4-197">hello primary email address associated with hello user account, if one exists.</span></span> <span data-ttu-id="b46e4-198">Seu valor é mutável e pode ser alterado ao longo do tempo.</span><span class="sxs-lookup"><span data-stu-id="b46e4-198">Its value is mutable and might change over time.</span></span> <span data-ttu-id="b46e4-199">Olá `email` escopo é necessário em ordem tooreceive esta declaração.</span><span class="sxs-lookup"><span data-stu-id="b46e4-199">hello `email` scope is required in order tooreceive this claim.</span></span> |
| <span data-ttu-id="b46e4-200">nome de usuário preferencial</span><span class="sxs-lookup"><span data-stu-id="b46e4-200">preferred username</span></span> |`preferred_username` |`thegreatbambino@nyy.onmicrosoft.com` |<span data-ttu-id="b46e4-201">Olá nome de usuário principal que representa o usuário Olá no ponto de extremidade do hello v 2.0.</span><span class="sxs-lookup"><span data-stu-id="b46e4-201">hello primary username that represents hello user in hello v2.0 endpoint.</span></span> <span data-ttu-id="b46e4-202">Ele pode ser um endereço de email, número de telefone ou nome de usuário genérico sem um formato especificado.</span><span class="sxs-lookup"><span data-stu-id="b46e4-202">It could be an email address, phone number, or a generic username without a specified format.</span></span> <span data-ttu-id="b46e4-203">Seu valor é mutável e pode ser alterado ao longo do tempo.</span><span class="sxs-lookup"><span data-stu-id="b46e4-203">Its value is mutable and might change over time.</span></span> <span data-ttu-id="b46e4-204">Olá `profile` escopo é necessário em ordem tooreceive esta declaração.</span><span class="sxs-lookup"><span data-stu-id="b46e4-204">hello `profile` scope is required in order tooreceive this claim.</span></span> |
| <span data-ttu-id="b46e4-205">subject</span><span class="sxs-lookup"><span data-stu-id="b46e4-205">subject</span></span> |`sub` |`MF4f-ggWMEji12KynJUNQZphaUTvLcQug5jdF2nl01Q` | <span data-ttu-id="b46e4-206">Olá principal sobre qual Olá token declara informações, como usuário de saudação de um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="b46e4-206">hello principal about which hello token asserts information, such as hello user of an app.</span></span> <span data-ttu-id="b46e4-207">Esse valor é imutável e não pode ser reatribuído nem reutilizado.</span><span class="sxs-lookup"><span data-stu-id="b46e4-207">This value is immutable and cannot be reassigned or reused.</span></span> <span data-ttu-id="b46e4-208">Pode ser usado tooperform verificações de autorização com segurança, como quando o token de saudação é tooaccess usado um recurso e pode ser usado como uma chave nas tabelas de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="b46e4-208">It can be used tooperform authorization checks safely, such as when hello token is used tooaccess a resource, and can be used as a key in database tables.</span></span> <span data-ttu-id="b46e4-209">Como o assunto hello está sempre presente nos tokens de saudação que o Azure AD emite, é recomendável usar esse valor em um sistema de autorização de uso geral.</span><span class="sxs-lookup"><span data-stu-id="b46e4-209">Because hello subject is always present in hello tokens that Azure AD issues, we recommend using this value in a general-purpose authorization system.</span></span> <span data-ttu-id="b46e4-210">Olá assunto é, no entanto, um identificador de par - é a ID de aplicativo específico tooa exclusivo.</span><span class="sxs-lookup"><span data-stu-id="b46e4-210">hello subject is, however, a pairwise identifier - it is unique tooa particular application ID.</span></span>  <span data-ttu-id="b46e4-211">Portanto, se um usuário entra em dois aplicativos diferentes com duas IDs de cliente diferente, esses aplicativos receberá dois valores diferentes para a declaração do assunto de saudação.</span><span class="sxs-lookup"><span data-stu-id="b46e4-211">Therefore, if a single user signs into two different apps using two different client IDs, those apps will receive two different values for hello subject claim.</span></span>  <span data-ttu-id="b46e4-212">Isso pode ou não ser desejável, dependendo dos requisitos de arquitetura e de privacidade.</span><span class="sxs-lookup"><span data-stu-id="b46e4-212">This may or may not be desired depending on your architecture and privacy requirements.</span></span> |
| <span data-ttu-id="b46e4-213">ID do objeto</span><span class="sxs-lookup"><span data-stu-id="b46e4-213">object ID</span></span> |`oid` |`a1dbdde8-e4f9-4571-ad93-3059e3750d23` | <span data-ttu-id="b46e4-214">Olá identificador imutável de um objeto Olá Microsoft identidade System, nesse caso, uma conta de usuário.</span><span class="sxs-lookup"><span data-stu-id="b46e4-214">hello immutable identifier for an object in hello Microsoft identity system, in this case, a user account.</span></span>  <span data-ttu-id="b46e4-215">Ele também pode ser usado tooperform verificações de autorização com segurança e como uma chave nas tabelas de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="b46e4-215">It can also be used tooperform authorization checks safely and as a key in database tables.</span></span> <span data-ttu-id="b46e4-216">Essa ID identifica exclusivamente o usuário Olá em aplicativos - dois aplicativos diferentes entrar Olá receberá o mesmo usuário Olá mesmo valor em Olá `oid` de declaração.</span><span class="sxs-lookup"><span data-stu-id="b46e4-216">This ID uniquely identifies hello user across applications - two different applications signing in hello same user will receive hello same value in hello `oid` claim.</span></span>  <span data-ttu-id="b46e4-217">Isso significa que ele pode ser usado ao fazer consultas serviços on-line de tooMicrosoft, como Olá Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="b46e4-217">This means that it can be used when making queries tooMicrosoft online services, such as hello Microsoft Graph.</span></span>  <span data-ttu-id="b46e4-218">Olá Microsoft Graph retornará a ID como Olá `id` propriedade para uma determinada conta de usuário.</span><span class="sxs-lookup"><span data-stu-id="b46e4-218">hello Microsoft Graph will return this ID as hello `id` property for a given user account.</span></span>  <span data-ttu-id="b46e4-219">Porque Olá `oid` permite que vários aplicativos toocorrelate os usuários, hello `profile` escopo é necessário em ordem tooreceive esta declaração.</span><span class="sxs-lookup"><span data-stu-id="b46e4-219">Because hello `oid` allows multiple apps toocorrelate users, hello `profile` scope is required in order tooreceive this claim.</span></span> <span data-ttu-id="b46e4-220">Observe que, se um único usuário existir em vários locatários, usuário Olá conterá uma ID de objeto diferentes em cada locatário - elas são consideradas contas diferentes, embora Olá usuário faz logon em cada conta com hello mesmas credenciais.</span><span class="sxs-lookup"><span data-stu-id="b46e4-220">Note that if a single user exists in multiple tenants, hello user will contain a different object ID in each tenant - they are considered different accounts, even though hello user logs into each account with hello same credentials.</span></span> |

### <a name="access-tokens"></a><span data-ttu-id="b46e4-221">Tokens de acesso</span><span class="sxs-lookup"><span data-stu-id="b46e4-221">Access tokens</span></span>
<span data-ttu-id="b46e4-222">Atualmente, os tokens de acesso emitidos pelo ponto de extremidade do hello v 2.0 podem ser consumidos apenas pelo Microsoft Services.</span><span class="sxs-lookup"><span data-stu-id="b46e4-222">Currently, access tokens issued by hello v2.0 endpoint can be consumed only by Microsoft Services.</span></span> <span data-ttu-id="b46e4-223">Os aplicativos não é necessário tooperform qualquer validação ou a inspeção dos tokens de acesso para qualquer um dos cenários de saudação tem suporte no momento.</span><span class="sxs-lookup"><span data-stu-id="b46e4-223">Your apps shouldn't need tooperform any validation or inspection of access tokens for any of hello currently supported scenarios.</span></span> <span data-ttu-id="b46e4-224">Você pode tratar os tokens de acesso como completamente opacos.</span><span class="sxs-lookup"><span data-stu-id="b46e4-224">You can treat access tokens as completely opaque.</span></span> <span data-ttu-id="b46e4-225">Eles são apenas cadeias de caracteres que seu aplicativo pode passar tooMicrosoft em solicitações HTTP.</span><span class="sxs-lookup"><span data-stu-id="b46e4-225">They are just strings that your app can pass tooMicrosoft in HTTP requests.</span></span>

<span data-ttu-id="b46e4-226">Olá próximo v 2.0 de saudação futuras, ponto de extremidade apresentará capacidade Olá para seus tokens de acesso do aplicativo tooreceive de outros clientes.</span><span class="sxs-lookup"><span data-stu-id="b46e4-226">In hello near future, hello v2.0 endpoint will introduce hello ability for your app tooreceive access tokens from other clients.</span></span> <span data-ttu-id="b46e4-227">Nesse momento, informações Olá neste tópico de referência serão atualizadas com informações de saudação que é necessário para a validação de token de acesso do aplicativo tooperform e outras tarefas semelhantes.</span><span class="sxs-lookup"><span data-stu-id="b46e4-227">At that time, hello information in this reference topic will be updated with hello information that you need for your app tooperform access token validation and other similar tasks.</span></span>

<span data-ttu-id="b46e4-228">Quando você solicitar um token de acesso do ponto de extremidade do hello v 2.0, o ponto de extremidade do hello v 2.0 também retorna metadados sobre o token de acesso de saudação para toouse seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="b46e4-228">When you request an access token from hello v2.0 endpoint, hello v2.0 endpoint also returns metadata about hello access token for your app toouse.</span></span> <span data-ttu-id="b46e4-229">Essas informações incluem o tempo de expiração de saudação do token de acesso de hello e escopos Olá para o qual ele é válido.</span><span class="sxs-lookup"><span data-stu-id="b46e4-229">This information includes hello expiry time of hello access token and hello scopes for which it is valid.</span></span> <span data-ttu-id="b46e4-230">Seu aplicativo usa esse tooperform inteligente cache de metadados de tokens de acesso sem a necessidade de token de acesso de saudação abrir tooparse em si.</span><span class="sxs-lookup"><span data-stu-id="b46e4-230">Your app uses this metadata tooperform intelligent caching of access tokens without having tooparse open hello access token itself.</span></span>

### <a name="refresh-tokens"></a><span data-ttu-id="b46e4-231">Tokens de atualização</span><span class="sxs-lookup"><span data-stu-id="b46e4-231">Refresh tokens</span></span>
<span data-ttu-id="b46e4-232">Tokens de atualização são tokens de segurança que seu aplicativo pode usar tooget novos tokens de acesso em um fluxo de OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="b46e4-232">Refresh tokens are security tokens that your app can use tooget new access tokens in an OAuth 2.0 flow.</span></span> <span data-ttu-id="b46e4-233">Seu aplicativo pode usar a atualização tokens tooachieve longo prazo acesso tooresources em nome de um usuário sem a necessidade de interação com o usuário hello.</span><span class="sxs-lookup"><span data-stu-id="b46e4-233">Your app can use refresh tokens tooachieve long-term access tooresources on behalf of a user without requiring interaction with hello user.</span></span>

<span data-ttu-id="b46e4-234">Os tokens de atualização têm vários recursos.</span><span class="sxs-lookup"><span data-stu-id="b46e4-234">Refresh tokens are multi-resource.</span></span> <span data-ttu-id="b46e4-235">Um token de atualização recebido durante uma solicitação de token para um recurso pode ser resgatado para recursos completamente diferente de tooa de tokens de acesso.</span><span class="sxs-lookup"><span data-stu-id="b46e4-235">A refresh token received during a token request for one resource can be redeemed for access tokens tooa completely different resource.</span></span>

<span data-ttu-id="b46e4-236">tooreceive uma atualização em uma resposta de token, seu aplicativo deve solicitar e receber Olá `offline_acesss` escopo.</span><span class="sxs-lookup"><span data-stu-id="b46e4-236">tooreceive a refresh in a token response, your app must request and be granted hello `offline_acesss` scope.</span></span> <span data-ttu-id="b46e4-237">toolearn mais sobre Olá `offline_access` escopo, consulte Olá [consentimento e escopos](active-directory-v2-scopes.md) artigo.</span><span class="sxs-lookup"><span data-stu-id="b46e4-237">toolearn more about hello `offline_access` scope, see hello [consent and scopes](active-directory-v2-scopes.md) article.</span></span>

<span data-ttu-id="b46e4-238">Tokens de atualização são e sempre será, aplicativo tooyour completamente opaco.</span><span class="sxs-lookup"><span data-stu-id="b46e4-238">Refresh tokens are, and always will be, completely opaque tooyour app.</span></span> <span data-ttu-id="b46e4-239">Eles são emitidos pelo ponto de extremidade do hello AD do Azure v 2.0 e podem somente ser inspecionados e interpretados pelo ponto de extremidade do hello v 2.0.</span><span class="sxs-lookup"><span data-stu-id="b46e4-239">They are issued by hello Azure AD v2.0 endpoint and can only be inspected and interpreted by hello v2.0 endpoint.</span></span> <span data-ttu-id="b46e4-240">Eles são vida longa, mas seu aplicativo não deve ser escrito tooexpect durará um token de atualização para qualquer período de tempo.</span><span class="sxs-lookup"><span data-stu-id="b46e4-240">They are long-lived, but your app should not be written tooexpect that a refresh token will last for any period of time.</span></span> <span data-ttu-id="b46e4-241">Tokens de atualização podem ser invalidados a qualquer momento por vários motivos.</span><span class="sxs-lookup"><span data-stu-id="b46e4-241">Refresh tokens can be invalidated at any moment for various reasons.</span></span> <span data-ttu-id="b46e4-242">Olá somente modo para tooknow seu aplicativo se um token de atualização é válido é tooattempt tooredeem-lo fazendo um ponto de extremidade do token de solicitação toohello v 2.0.</span><span class="sxs-lookup"><span data-stu-id="b46e4-242">hello only way for your app tooknow if a refresh token is valid is tooattempt tooredeem it by making a token request toohello v2.0 endpoint.</span></span>

<span data-ttu-id="b46e4-243">Quando você resgatar um token de atualização de um novo token de acesso (e, se seu aplicativo foi concedido Olá `offline_access` escopo), você recebe um novo token de atualização na resposta de token hello.</span><span class="sxs-lookup"><span data-stu-id="b46e4-243">When you redeem a refresh token for a new access token (and if your app had been granted hello `offline_access` scope), you receive a new refresh token in hello token response.</span></span> <span data-ttu-id="b46e4-244">Salve Olá recentemente emitido atualização Olá tooreplace token, você usou na solicitação de saudação.</span><span class="sxs-lookup"><span data-stu-id="b46e4-244">Save hello newly issued refresh token, tooreplace hello one you used in hello request.</span></span> <span data-ttu-id="b46e4-245">Isso garante que os tokens de atualização permaneçam válidos pelo tempo máximo possível.</span><span class="sxs-lookup"><span data-stu-id="b46e4-245">This guarantees that your refresh tokens remain valid for as long as possible.</span></span>

## <a name="validating-tokens"></a><span data-ttu-id="b46e4-246">Validando tokens</span><span class="sxs-lookup"><span data-stu-id="b46e4-246">Validating tokens</span></span>
<span data-ttu-id="b46e4-247">Atualmente, Olá somente validação de token se precisar de seus aplicativos tooperform está validando tokens de ID.</span><span class="sxs-lookup"><span data-stu-id="b46e4-247">Currently, hello only token validation your apps should need tooperform is validating ID tokens.</span></span> <span data-ttu-id="b46e4-248">toovalidate um token de ID, seu aplicativo deve validar declarações do token de ID ambos Olá de assinatura e hello no token de ID de saudação.</span><span class="sxs-lookup"><span data-stu-id="b46e4-248">toovalidate an ID token, your app should validate both hello ID token's signature and hello claims in hello ID token.</span></span>

<!-- TODO: Link -->
<span data-ttu-id="b46e4-249">A Microsoft fornece exemplos de código que mostram como tooeasily lidam com a validação de token e bibliotecas.</span><span class="sxs-lookup"><span data-stu-id="b46e4-249">Microsoft provides libraries and code samples that show you how tooeasily handle token validation.</span></span> <span data-ttu-id="b46e4-250">Nas seções de Avançar hello, descrevemos Olá subjacente do processo.</span><span class="sxs-lookup"><span data-stu-id="b46e4-250">In hello next sections, we describe hello underlying process.</span></span> <span data-ttu-id="b46e4-251">Várias bibliotecas de software livre de terceiros também estão disponíveis para validação de JWT.</span><span class="sxs-lookup"><span data-stu-id="b46e4-251">Several third-party open-source libraries also are available for JWT validation.</span></span> <span data-ttu-id="b46e4-252">Há pelo menos uma opção de biblioteca para quase todas as plataformas e idiomas.</span><span class="sxs-lookup"><span data-stu-id="b46e4-252">There's at least one library option for almost every platform and language.</span></span>

### <a name="validate-hello-signature"></a><span data-ttu-id="b46e4-253">Validar assinatura Olá</span><span class="sxs-lookup"><span data-stu-id="b46e4-253">Validate hello signature</span></span>
<span data-ttu-id="b46e4-254">Um JWT contém três segmentos, que são separados por Olá `.` caracteres.</span><span class="sxs-lookup"><span data-stu-id="b46e4-254">A JWT contains three segments, which are separated by hello `.` character.</span></span> <span data-ttu-id="b46e4-255">primeiro segmento de saudação é conhecido como Olá *cabeçalho*, segundo segmento de saudação é hello *corpo*, e segmento terceiro Olá Olá *assinatura*.</span><span class="sxs-lookup"><span data-stu-id="b46e4-255">hello first segment is known as hello *header*, hello second segment is hello *body*, and hello third segment is hello *signature*.</span></span> <span data-ttu-id="b46e4-256">segmento de assinatura Olá pode ser usado toovalidate Olá autenticidade do token de ID de saudação para que ela pode ser confiável pelo seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="b46e4-256">hello signature segment can be used toovalidate hello authenticity of hello ID token so that it can be trusted by your app.</span></span>

<span data-ttu-id="b46e4-257">Os tokens de ID são assinados usando algoritmos de criptografia assimétrica padrão do setor, como RSA 256.</span><span class="sxs-lookup"><span data-stu-id="b46e4-257">ID tokens are signed by using industry-standard asymmetric encryption algorithms, such as RSA 256.</span></span> <span data-ttu-id="b46e4-258">cabeçalho do token de ID de saudação Hello tem informações sobre a chave de saudação e método de criptografia usado toosign token de saudação.</span><span class="sxs-lookup"><span data-stu-id="b46e4-258">hello header of hello ID token has information about hello key and encryption method used toosign hello token.</span></span> <span data-ttu-id="b46e4-259">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="b46e4-259">For example:</span></span>

```
{
  "typ": "JWT",
  "alg": "RS256",
  "kid": "MnC_VZcATfM5pOYiJHMba9goEKY"
}
```

<span data-ttu-id="b46e4-260">Olá `alg` declaração indica o algoritmo de saudação que era o token de saudação toosign usado.</span><span class="sxs-lookup"><span data-stu-id="b46e4-260">hello `alg` claim indicates hello algorithm that was used toosign hello token.</span></span> <span data-ttu-id="b46e4-261">Olá `kid` declaração indica Olá pública chave do token de saudação toosign usado.</span><span class="sxs-lookup"><span data-stu-id="b46e4-261">hello `kid` claim indicates hello public key that was used toosign hello token.</span></span>

<span data-ttu-id="b46e4-262">A qualquer momento, o ponto de extremidade do hello v 2.0 pode assinar um token de ID, usando qualquer um de um conjunto específico de pares de chaves públicas-privadas.</span><span class="sxs-lookup"><span data-stu-id="b46e4-262">At any time, hello v2.0 endpoint might sign an ID token by using any one of a specific set of public-private key pairs.</span></span> <span data-ttu-id="b46e4-263">o ponto de extremidade do Hello v 2.0 periodicamente gira possível o conjunto de chaves, Olá para que seu aplicativo deve ser gravado toohandle esses principais mudanças automaticamente.</span><span class="sxs-lookup"><span data-stu-id="b46e4-263">hello v2.0 endpoint periodically rotates hello possible set of keys, so your app should be written toohandle those key changes automatically.</span></span> <span data-ttu-id="b46e4-264">Um toocheck frequência razoável para atualizações toohello pública as chaves usadas pelo ponto de extremidade do hello v 2.0 é a cada 24 horas.</span><span class="sxs-lookup"><span data-stu-id="b46e4-264">A reasonable frequency toocheck for updates toohello public keys used by hello v2.0 endpoint is every 24 hours.</span></span>

<span data-ttu-id="b46e4-265">Você pode adquirir Olá assinar dados de chave que você precisa assinatura de saudação toovalidate usando Olá OpenID Connect documento de metadados localizado em:</span><span class="sxs-lookup"><span data-stu-id="b46e4-265">You can acquire hello signing key data that you need toovalidate hello signature by using hello OpenID Connect metadata document located at:</span></span>

```
https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration
```

> [!TIP]
> <span data-ttu-id="b46e4-266">Tente Olá URL em um navegador!</span><span class="sxs-lookup"><span data-stu-id="b46e4-266">Try hello URL in a browser!</span></span>
>
>

<span data-ttu-id="b46e4-267">Este documento de metadados é um objeto JSON que tem várias partes útil obter informações, como local de saudação do hello vários pontos de extremidade necessários para autenticação do OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="b46e4-267">This metadata document is a JSON object that has several useful pieces of information, such as hello location of hello various endpoints required for OpenID Connect authentication.</span></span>  <span data-ttu-id="b46e4-268">Olá documento também inclui um *jwks_uri*, que fornece o local de saudação do conjunto de saudação de chaves públicas usados toosign tokens.</span><span class="sxs-lookup"><span data-stu-id="b46e4-268">hello document also includes a *jwks_uri*, which gives hello location of hello set of public keys used toosign tokens.</span></span> <span data-ttu-id="b46e4-269">documento JSON Olá localizado em jwks_uri Olá tem todos os Olá informações da chave pública que está atualmente em uso.</span><span class="sxs-lookup"><span data-stu-id="b46e4-269">hello JSON document located at hello jwks_uri has all hello public key information that is currently in use.</span></span> <span data-ttu-id="b46e4-270">Seu aplicativo pode usar Olá `kid` um token de declaração em tooselect de cabeçalho do JWT Olá qual chave pública neste documento foi toosign usado.</span><span class="sxs-lookup"><span data-stu-id="b46e4-270">Your app can use hello `kid` claim in hello JWT header tooselect which public key in this document has been used toosign a token.</span></span> <span data-ttu-id="b46e4-271">Ele executa a validação de assinatura usando a chave pública correta de saudação e algoritmo indicado hello.</span><span class="sxs-lookup"><span data-stu-id="b46e4-271">It then performs signature validation by using hello correct public key and hello indicated algorithm.</span></span>

<span data-ttu-id="b46e4-272">Executar a validação de assinatura está fora do escopo Olá deste documento.</span><span class="sxs-lookup"><span data-stu-id="b46e4-272">Performing signature validation is outside hello scope of this document.</span></span> <span data-ttu-id="b46e4-273">Muitas bibliotecas de código-fonte aberto são toohelp disponível com isso.</span><span class="sxs-lookup"><span data-stu-id="b46e4-273">Many open-source libraries are available toohelp you with this.</span></span>

### <a name="validate-hello-claims"></a><span data-ttu-id="b46e4-274">Validar Olá declarações</span><span class="sxs-lookup"><span data-stu-id="b46e4-274">Validate hello claims</span></span>
<span data-ttu-id="b46e4-275">Quando seu aplicativo recebe um token de ID na entrada do usuário, ele também deve executar algumas verificações contra Olá declarações no token de ID de saudação.</span><span class="sxs-lookup"><span data-stu-id="b46e4-275">When your app receives an ID token upon user sign-in, it should also perform a few checks against hello claims in hello ID token.</span></span> <span data-ttu-id="b46e4-276">Elas incluem, mas sem limitação:</span><span class="sxs-lookup"><span data-stu-id="b46e4-276">These include but are not limited to:</span></span>

* <span data-ttu-id="b46e4-277">**público-alvo** de declaração, tooverify que Olá token de ID foi pretendido toobe dado aplicativo tooyour</span><span class="sxs-lookup"><span data-stu-id="b46e4-277">**audience** claim, tooverify that hello ID token was intended toobe given tooyour app</span></span>
* <span data-ttu-id="b46e4-278">**não antes** e **tempo de expiração** declarações, tooverify que Olá token de ID não expirou</span><span class="sxs-lookup"><span data-stu-id="b46e4-278">**not before** and **expiration time** claims, tooverify that hello ID token has not expired</span></span>
* <span data-ttu-id="b46e4-279">**emissor** de declaração, tooverify Olá token foi emitido tooyour aplicativo pelo ponto de extremidade do hello v 2.0</span><span class="sxs-lookup"><span data-stu-id="b46e4-279">**issuer** claim, tooverify that hello token was issued tooyour app by hello v2.0 endpoint</span></span>
* <span data-ttu-id="b46e4-280">**nonce**, como uma redução do ataque de reprodução do token</span><span class="sxs-lookup"><span data-stu-id="b46e4-280">**nonce**, as a token replay attack mitigation</span></span>

<span data-ttu-id="b46e4-281">Para obter uma lista completa de validações de declaração que seu aplicativo deve executar, consulte Olá [OpenID Connect especificação](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span><span class="sxs-lookup"><span data-stu-id="b46e4-281">For a full list of claim validations that your app should perform, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span></span>

<span data-ttu-id="b46e4-282">Detalhes dos valores esperados de saudação para essas declarações são incluídos no hello [tokens ID](# ID tokens) seção.</span><span class="sxs-lookup"><span data-stu-id="b46e4-282">Details of hello expected values for these claims are included in hello [ID tokens](# ID tokens) section.</span></span>

## <a name="token-lifetimes"></a><span data-ttu-id="b46e4-283">Tempos de vida do token</span><span class="sxs-lookup"><span data-stu-id="b46e4-283">Token lifetimes</span></span>
<span data-ttu-id="b46e4-284">Fornecemos Olá tempos de vida de token para apenas as informações a seguir.</span><span class="sxs-lookup"><span data-stu-id="b46e4-284">We provide hello following token lifetimes for your information only.</span></span> <span data-ttu-id="b46e4-285">Olá informações podem ajudá-lo a desenvolver e depurar aplicativos.</span><span class="sxs-lookup"><span data-stu-id="b46e4-285">hello information might help you as you develop and debug apps.</span></span> <span data-ttu-id="b46e4-286">Os aplicativos não devem ser gravados tooexpect qualquer constante de tooremain esses tempos de vida.</span><span class="sxs-lookup"><span data-stu-id="b46e4-286">Your apps should not be written tooexpect any of these lifetimes tooremain constant.</span></span> <span data-ttu-id="b46e4-287">Os tempos de vida de token podem mudar e mudarão a qualquer momento.</span><span class="sxs-lookup"><span data-stu-id="b46e4-287">Token lifetimes can and will change at any time.</span></span>

| <span data-ttu-id="b46e4-288">A criptografia do token</span><span class="sxs-lookup"><span data-stu-id="b46e4-288">Token</span></span> | <span data-ttu-id="b46e4-289">Tempo de vida</span><span class="sxs-lookup"><span data-stu-id="b46e4-289">Lifetime</span></span> | <span data-ttu-id="b46e4-290">Descrição</span><span class="sxs-lookup"><span data-stu-id="b46e4-290">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="b46e4-291">Tokens de ID (contas corporativos ou de estudante)</span><span class="sxs-lookup"><span data-stu-id="b46e4-291">ID tokens (work or school accounts)</span></span> |<span data-ttu-id="b46e4-292">1 hora</span><span class="sxs-lookup"><span data-stu-id="b46e4-292">1 hour</span></span> |<span data-ttu-id="b46e4-293">Tokens de ID normalmente são válidos por uma hora.</span><span class="sxs-lookup"><span data-stu-id="b46e4-293">ID tokens typically are valid for 1 hour.</span></span> <span data-ttu-id="b46e4-294">Seu aplicativo web pode usar esse mesmo toomaintain de tempo de vida sua própria sessão com usuário hello (recomendado) ou você pode escolher um tempo de vida da sessão completamente diferentes.</span><span class="sxs-lookup"><span data-stu-id="b46e4-294">Your web app can use this same lifetime toomaintain its own session with hello user (recommended), or you can choose a completely different session lifetime.</span></span> <span data-ttu-id="b46e4-295">Se seu aplicativo precisa tooget um novo token de ID, ele precisa toomake uma entrada nova solicitação v 2.0 do toohello autorizar o ponto de extremidade.</span><span class="sxs-lookup"><span data-stu-id="b46e4-295">If your app needs tooget a new ID token, it needs toomake a new sign-in request toohello v2.0 authorize endpoint.</span></span> <span data-ttu-id="b46e4-296">Se o usuário Olá tem uma sessão de navegador válida com o ponto de extremidade do hello v 2.0, o usuário Olá talvez não seja necessário tooenter suas credenciais novamente.</span><span class="sxs-lookup"><span data-stu-id="b46e4-296">If hello user has a valid browser session with hello v2.0 endpoint, hello user might not be required tooenter their credentials again.</span></span> |
| <span data-ttu-id="b46e4-297">Tokens de ID (contas pessoais)</span><span class="sxs-lookup"><span data-stu-id="b46e4-297">ID tokens (personal accounts)</span></span> |<span data-ttu-id="b46e4-298">24 horas</span><span class="sxs-lookup"><span data-stu-id="b46e4-298">24 hours</span></span> |<span data-ttu-id="b46e4-299">Tokens de ID para contas pessoais geralmente são válidos por 24 horas.</span><span class="sxs-lookup"><span data-stu-id="b46e4-299">ID tokens for personal accounts typically are valid for 24 hours.</span></span> <span data-ttu-id="b46e4-300">Seu aplicativo web pode usar esse mesmo toomaintain de tempo de vida sua própria sessão com usuário hello (recomendado) ou você pode escolher um tempo de vida da sessão completamente diferentes.</span><span class="sxs-lookup"><span data-stu-id="b46e4-300">Your web app can use this same lifetime toomaintain its own session with hello user (recommended), or you can choose a completely different session lifetime.</span></span> <span data-ttu-id="b46e4-301">Se seu aplicativo precisa tooget um novo token de ID, ele precisa toomake uma entrada nova solicitação v 2.0 do toohello autorizar o ponto de extremidade.</span><span class="sxs-lookup"><span data-stu-id="b46e4-301">If your app needs tooget a new ID token, it needs toomake a new sign-in request toohello v2.0 authorize endpoint.</span></span> <span data-ttu-id="b46e4-302">Se o usuário Olá tem uma sessão de navegador válida com o ponto de extremidade do hello v 2.0, o usuário Olá talvez não seja necessário tooenter suas credenciais novamente.</span><span class="sxs-lookup"><span data-stu-id="b46e4-302">If hello user has a valid browser session with hello v2.0 endpoint, hello user might not be required tooenter their credentials again.</span></span> |
| <span data-ttu-id="b46e4-303">Tokens de acesso (contas corporativas ou de estudante)</span><span class="sxs-lookup"><span data-stu-id="b46e4-303">Access tokens (work or school accounts)</span></span> |<span data-ttu-id="b46e4-304">1 hora</span><span class="sxs-lookup"><span data-stu-id="b46e4-304">1 hour</span></span> |<span data-ttu-id="b46e4-305">Indicado no token respostas como parte dos metadados de token hello.</span><span class="sxs-lookup"><span data-stu-id="b46e4-305">Indicated in token responses as part of hello token metadata.</span></span> |
| <span data-ttu-id="b46e4-306">Tokens de acesso (contas pessoais)</span><span class="sxs-lookup"><span data-stu-id="b46e4-306">Access tokens (personal accounts)</span></span> |<span data-ttu-id="b46e4-307">1 hora</span><span class="sxs-lookup"><span data-stu-id="b46e4-307">1 hour</span></span> |<span data-ttu-id="b46e4-308">Indicado no token respostas como parte dos metadados de token hello.</span><span class="sxs-lookup"><span data-stu-id="b46e4-308">Indicated in token responses as part of hello token metadata.</span></span> <span data-ttu-id="b46e4-309">Tokens de acesso que são emitidos em nome de contas pessoais podem ser configurados com um tempo de vida diferente, mas o valor típico é uma hora.</span><span class="sxs-lookup"><span data-stu-id="b46e4-309">Access tokens that are issued on behalf of personal accounts can be configured for a different lifetime, but 1 hour is typical.</span></span> |
| <span data-ttu-id="b46e4-310">Tokens de atualização (conta corporativa ou de estudante)</span><span class="sxs-lookup"><span data-stu-id="b46e4-310">Refresh tokens (work or school account)</span></span> |<span data-ttu-id="b46e4-311">Backup too14 dias</span><span class="sxs-lookup"><span data-stu-id="b46e4-311">Up too14 days</span></span> |<span data-ttu-id="b46e4-312">Um único token de atualização é válido para um máximo de 14 dias.</span><span class="sxs-lookup"><span data-stu-id="b46e4-312">A single refresh token is valid for a maximum of 14 days.</span></span> <span data-ttu-id="b46e4-313">No entanto, o token de atualização Olá poderão se tornar inválido a qualquer momento por várias razões, para que seu aplicativo deve continuar tootry toouse um token de atualização até que ele falhar, ou até que seu aplicativo substitui por um novo token de atualização.</span><span class="sxs-lookup"><span data-stu-id="b46e4-313">However, hello refresh token might become invalid at any time for various reasons, so your app should continue tootry toouse a refresh token until it fails, or until your app replaces it with a new refresh token.</span></span> <span data-ttu-id="b46e4-314">Um token de atualização também se torna inválido se foram 90 dias desde que o usuário Olá inserir suas credenciais.</span><span class="sxs-lookup"><span data-stu-id="b46e4-314">A refresh token also becomes invalid if it has been 90 days since hello user has entered their credentials.</span></span> |
| <span data-ttu-id="b46e4-315">Tokens de atualização (contas pessoais)</span><span class="sxs-lookup"><span data-stu-id="b46e4-315">Refresh tokens (personal accounts)</span></span> |<span data-ttu-id="b46e4-316">O ano de too1</span><span class="sxs-lookup"><span data-stu-id="b46e4-316">Up too1 year</span></span> |<span data-ttu-id="b46e4-317">Um único token de atualização é válido para um máximo de 1 ano.</span><span class="sxs-lookup"><span data-stu-id="b46e4-317">A single refresh token is valid for a maximum of 1 year.</span></span> <span data-ttu-id="b46e4-318">No entanto, o token de atualização Olá pode se tornar inválido a qualquer momento por várias razões, para que seu aplicativo deve continuar tootry toouse um token de atualização até que ela falhará.</span><span class="sxs-lookup"><span data-stu-id="b46e4-318">However, hello refresh token might become invalid at any time for various reasons, so your app should continue tootry toouse a refresh token until it fails.</span></span> |
| <span data-ttu-id="b46e4-319">Códigos de autorização (contas corporativas ou de estudante)</span><span class="sxs-lookup"><span data-stu-id="b46e4-319">Authorization codes (work or school accounts)</span></span> |<span data-ttu-id="b46e4-320">10 minutos</span><span class="sxs-lookup"><span data-stu-id="b46e4-320">10 minutes</span></span> |<span data-ttu-id="b46e4-321">Códigos de autorização são propositadamente curta duração e devem ser resgatados imediatamente para tokens de acesso e tokens de atualização quando os tokens de saudação são recebidos.</span><span class="sxs-lookup"><span data-stu-id="b46e4-321">Authorization codes are purposely short-lived, and should be immediately redeemed for access tokens and refresh tokens when hello tokens are received.</span></span> |
| <span data-ttu-id="b46e4-322">Códigos de autorização (contas pessoais)</span><span class="sxs-lookup"><span data-stu-id="b46e4-322">Authorization codes (personal accounts)</span></span> |<span data-ttu-id="b46e4-323">5 minutos</span><span class="sxs-lookup"><span data-stu-id="b46e4-323">5 minutes</span></span> |<span data-ttu-id="b46e4-324">Códigos de autorização são propositadamente curta duração e devem ser resgatados imediatamente para tokens de acesso e tokens de atualização quando os tokens de saudação são recebidos.</span><span class="sxs-lookup"><span data-stu-id="b46e4-324">Authorization codes are purposely short-lived, and should be immediately redeemed for access tokens and refresh tokens when hello tokens are received.</span></span> <span data-ttu-id="b46e4-325">Códigos de autorização que são emitidos em nome de contas pessoais são para uso ocasional.</span><span class="sxs-lookup"><span data-stu-id="b46e4-325">Authorization codes that are issued on behalf of personal accounts are for one-time use.</span></span> |
