---
title: "aaaAzure aplicativo do Active Directory e objetos de entidade de serviço | Microsoft Docs"
description: "Uma discussão de relação de saudação entre aplicativos e objetos de entidade de serviço no Active Directory do Azure"
documentationcenter: dev-center-name
author: dstrockis
manager: mbaldwin
services: active-directory
editor: 
ms.assetid: adfc0569-dc91-48fe-92c3-b5b4833703de
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 04/28/2016
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: ff7e308c0b326c3a32b101b7b323f2c0362763e4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="application-and-service-principal-objects-in-azure-active-directory-azure-ad"></a><span data-ttu-id="317d4-103">Objetos de entidade de serviço e aplicativo no Azure Active Directory (Azure AD)</span><span class="sxs-lookup"><span data-stu-id="317d4-103">Application and service principal objects in Azure Active Directory (Azure AD)</span></span>
<span data-ttu-id="317d4-104">Olá, às vezes, o significado do termo hello "aplicativo" pode ser interpretados incorretamente quando usados no contexto de saudação do AD do Azure.</span><span class="sxs-lookup"><span data-stu-id="317d4-104">Sometimes hello meaning of hello term "application" can be misunderstood when used in hello context of Azure AD.</span></span> <span data-ttu-id="317d4-105">Olá objetivo deste artigo é toomake-la mais clara ao enumerar conceituais e concretos aspectos de integração de aplicativos do AD do Azure, com uma ilustração do registro e o consentimento para um [aplicativo multilocatário](active-directory-dev-glossary.md#multi-tenant-application).</span><span class="sxs-lookup"><span data-stu-id="317d4-105">hello goal of this article is toomake it clearer, by clarifying conceptual and concrete aspects of Azure AD application integration, with an illustration of registration and consent for a [multi-tenant application](active-directory-dev-glossary.md#multi-tenant-application).</span></span>

## <a name="overview"></a><span data-ttu-id="317d4-106">Visão geral</span><span class="sxs-lookup"><span data-stu-id="317d4-106">Overview</span></span>
<span data-ttu-id="317d4-107">Um aplicativo que foi integrado ao AD do Azure tem implicações que vão além do aspecto de software hello.</span><span class="sxs-lookup"><span data-stu-id="317d4-107">An application that has been integrated with Azure AD has implications that go beyond hello software aspect.</span></span> <span data-ttu-id="317d4-108">"Aplicativo" é frequentemente usado como um termo conceitual, referindo-se toonot somente Olá Olá software de aplicativo, mas também seu registro do AD do Azure e função de autenticação/autorização "conversas" em tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="317d4-108">"Application" is frequently used as a conceptual term, referring toonot only hello hello application software, but also its Azure AD registration and role in authentication/authorization "conversations" at runtime.</span></span> <span data-ttu-id="317d4-109">Por definição, um aplicativo pode funcionar em um [cliente](active-directory-dev-glossary.md#client-application) função (consumindo um recurso), um [servidor recurso](active-directory-dev-glossary.md#resource-server) função (expõe APIs tooclients), ou ambos.</span><span class="sxs-lookup"><span data-stu-id="317d4-109">By definition, an application can function in a [client](active-directory-dev-glossary.md#client-application) role (consuming a resource), a [resource server](active-directory-dev-glossary.md#resource-server) role (exposing APIs tooclients), or even both.</span></span> <span data-ttu-id="317d4-110">protocolo de conversa de saudação é definido por um [fluxo de concessão de autorização do OAuth 2.0](active-directory-dev-glossary.md#authorization-grant), permitindo que Olá cliente/recursos tooaccess e proteger dados do recurso respectivamente.</span><span class="sxs-lookup"><span data-stu-id="317d4-110">hello conversation protocol is defined by an [OAuth 2.0 Authorization Grant flow](active-directory-dev-glossary.md#authorization-grant), allowing hello client/resource tooaccess/protect a resource's data respectively.</span></span> <span data-ttu-id="317d4-111">Agora vamos um nível mais profundo e veja como o modelo de aplicativo de saudação do AD do Azure representa um aplicativo em tempo de design e tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="317d4-111">Now let's go a level deeper, and see how hello Azure AD application model represents an application at design-time and run-time.</span></span> 

## <a name="application-registration"></a><span data-ttu-id="317d4-112">Registro de aplicativo</span><span class="sxs-lookup"><span data-stu-id="317d4-112">Application registration</span></span>
<span data-ttu-id="317d4-113">Quando você registrar um aplicativo do AD do Azure no hello [portal do Azure][AZURE-Portal], dois objetos são criados no seu locatário do AD do Azure: um objeto de aplicativo e um objeto de entidade de serviço.</span><span class="sxs-lookup"><span data-stu-id="317d4-113">When you register an Azure AD application in hello [Azure portal][AZURE-Portal], two objects are created in your Azure AD tenant: an application object, and a service principal object.</span></span>

#### <a name="application-object"></a><span data-ttu-id="317d4-114">Objeto de aplicativo</span><span class="sxs-lookup"><span data-stu-id="317d4-114">Application object</span></span>
<span data-ttu-id="317d4-115">Um aplicativo do AD do Azure é definido por um e somente objeto de aplicativo, que reside no locatário de saudação do AD do Azure, onde o aplicativo hello foi registrado, conhecido como o locatário "home" do aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="317d4-115">An Azure AD application is defined by its one and only application object, which resides in hello Azure AD tenant where hello application was registered, known as hello application's "home" tenant.</span></span> <span data-ttu-id="317d4-116">saudação do Azure AD Graph [entidade aplicativos] [ AAD-Graph-App-Entity] define o esquema Olá para propriedades de um objeto de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="317d4-116">hello Azure AD Graph [Application entity][AAD-Graph-App-Entity] defines hello schema for an application object's properties.</span></span> 

#### <a name="service-principal-object"></a><span data-ttu-id="317d4-117">Objeto de entidade de serviço</span><span class="sxs-lookup"><span data-stu-id="317d4-117">Service principal object</span></span>
<span data-ttu-id="317d4-118">objeto de entidade de serviço Olá define permissões para uso do aplicativo e política de saudação em um locatário específico, fornecendo a base de saudação para um aplicativo de saudação do toorepresent principal de segurança em tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="317d4-118">hello service principal object defines hello policy and permissions for an application's use in a specific tenant, providing hello basis for a security principal toorepresent hello application at run-time.</span></span> <span data-ttu-id="317d4-119">saudação do Azure AD Graph [entidade ServicePrincipal] [ AAD-Graph-Sp-Entity] define o esquema Olá para propriedades do objeto principal um serviço.</span><span class="sxs-lookup"><span data-stu-id="317d4-119">hello Azure AD Graph [ServicePrincipal entity][AAD-Graph-Sp-Entity] defines hello schema for a service principal object's properties.</span></span> 

#### <a name="application-and-service-principal-relationship"></a><span data-ttu-id="317d4-120">Relação do aplicativo e a entidade de serviço</span><span class="sxs-lookup"><span data-stu-id="317d4-120">Application and service principal relationship</span></span>
<span data-ttu-id="317d4-121">Considere a possibilidade de objeto de aplicativo hello como Olá *global* representação do seu aplicativo para uso em todos os locatários e entidade de serviço hello como Olá *local* representação para uso em um determinado locatário.</span><span class="sxs-lookup"><span data-stu-id="317d4-121">Consider hello application object as hello *global* representation of your application for use across all tenants, and hello service principal as hello *local* representation for use in a specific tenant.</span></span> <span data-ttu-id="317d4-122">Hello objeto application serve como hello modelo a partir de qual comuns e propriedades padrão são *derivado* para uso na criação de objetos de entidade de serviço correspondentes.</span><span class="sxs-lookup"><span data-stu-id="317d4-122">hello application object serves as hello template from which common and default properties are *derived* for use in creating corresponding service principal objects.</span></span> <span data-ttu-id="317d4-123">Um objeto de aplicativo, portanto, tem uma relação de 1:1 com o aplicativo de software hello e uma relação de 1 com seus objetos principal do serviço correspondente.</span><span class="sxs-lookup"><span data-stu-id="317d4-123">An application object therefore has a 1:1 relationship with hello software application, and a 1:many relationship with its corresponding service principal object(s).</span></span>

<span data-ttu-id="317d4-124">Uma entidade de serviço deve ser criada em cada locatário em que o aplicativo hello será usado, permitindo que ele tooestablish uma identidade de entrada e/ou tooresources de acesso está sendo protegido por locatário hello.</span><span class="sxs-lookup"><span data-stu-id="317d4-124">A service principal must be created in each tenant where hello application will be used, enabling it tooestablish an identity for sign-in and/or access tooresources being secured by hello tenant.</span></span> <span data-ttu-id="317d4-125">Um aplicativo de locatário único terá apenas uma entidade de serviço (em seu locatário inicial), geralmente criado e com consentimento para uso durante o registro do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="317d4-125">A single-tenant application will have only one service principal (in its home tenant), usually created and consented for use during application registration.</span></span> <span data-ttu-id="317d4-126">Uma aplicativo multilocatária Web API também terá uma entidade de serviço criada em cada locatário em que um usuário de locatário consentiu tooits uso.</span><span class="sxs-lookup"><span data-stu-id="317d4-126">A multi-tenant Web application/API will also have a service principal created in each tenant where a user from that tenant has consented tooits use.</span></span>  

> [!NOTE]
> <span data-ttu-id="317d4-127">As alterações feitas tooyour objeto de aplicativo, também são refletidas em seu objeto de entidade de serviço do aplicativo hello inicial locatário apenas (locatário Olá onde ele foi registrado).</span><span class="sxs-lookup"><span data-stu-id="317d4-127">Any changes you make tooyour application object, are also reflected in its service principal object in hello application's home tenant only (hello tenant where it was registered).</span></span> <span data-ttu-id="317d4-128">Para aplicativos de multilocação, objeto de aplicativo toohello alterações não são refletidas nos objetos de entidade de serviço qualquer locatários do consumidor, até que o acesso de saudação é removido por meio de saudação [painel de acesso do aplicativo](https://myapps.microsoft.com) e concedido novamente.</span><span class="sxs-lookup"><span data-stu-id="317d4-128">For multi-tenant applications, changes toohello application object are not reflected in any consumer tenants' service principal objects, until hello access is removed via hello [Application Access Panel](https://myapps.microsoft.com) and granted again.</span></span>
><br>  
> <span data-ttu-id="317d4-129">Observe também que os aplicativos nativos são registrados como multilocatários, por padrão.</span><span class="sxs-lookup"><span data-stu-id="317d4-129">Also note that native applications are registered as multi-tenant by default.</span></span>
> 
> 

## <a name="example"></a><span data-ttu-id="317d4-130">Exemplo</span><span class="sxs-lookup"><span data-stu-id="317d4-130">Example</span></span>
<span data-ttu-id="317d4-131">Olá, diagrama a seguir ilustra a relação Olá entre o objeto de aplicativo e serviço correspondente, os objetos, no contexto de saudação de um aplicativo de multilocatário de exemplo chamados de um aplicativo **aplicativo HR**.</span><span class="sxs-lookup"><span data-stu-id="317d4-131">hello following diagram illustrates hello relationship between an application's application object and corresponding service principal objects, in hello context of a sample multi-tenant application called **HR app**.</span></span> <span data-ttu-id="317d4-132">Há três locatários do Azure AD nesse cenário:</span><span class="sxs-lookup"><span data-stu-id="317d4-132">There are three Azure AD tenants in this scenario:</span></span> 

* <span data-ttu-id="317d4-133">**Adatum** - Olá locatário usado pela empresa Olá que desenvolveu Olá **aplicativo HR**</span><span class="sxs-lookup"><span data-stu-id="317d4-133">**Adatum** - hello tenant used by hello company that developed hello **HR app**</span></span>
* <span data-ttu-id="317d4-134">**A Contoso** - Olá locatário usado pelo Olá organização Contoso, que é um consumidor de saudação **aplicativo HR**</span><span class="sxs-lookup"><span data-stu-id="317d4-134">**Contoso** - hello tenant used by hello Contoso organization, which is a consumer of hello **HR app**</span></span>
* <span data-ttu-id="317d4-135">**A Fabrikam** - Olá locatário usado pelo Olá organização Fabrikam, que também consome Olá **aplicativo HR**</span><span class="sxs-lookup"><span data-stu-id="317d4-135">**Fabrikam** - hello tenant used by hello Fabrikam organization, which also consumes hello **HR app**</span></span>

![Relação entre um objeto de aplicativo e um objeto de entidade de serviço](./media/active-directory-application-objects/application-objects-relationship.png)

<span data-ttu-id="317d4-137">No diagrama anterior de saudação, etapa 1 é processo Olá de criação de aplicativo hello e objetos de serviço no locatário inicial do aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="317d4-137">In hello previous diagram, Step 1 is hello process of creating hello application and service principal objects in hello application's home tenant.</span></span>

<span data-ttu-id="317d4-138">Na etapa 2, quando os administradores de Contoso e Fabrikam concluir consentimento, um objeto de entidade de serviço é criado no locatário do AD do Azure de sua empresa e permissões atribuídos Olá administrador Olá concedido.</span><span class="sxs-lookup"><span data-stu-id="317d4-138">In Step 2, when Contoso and Fabrikam administrators complete consent, a service principal object is created in their company's Azure AD tenant and assigned hello permissions that hello administrator granted.</span></span> <span data-ttu-id="317d4-139">Observe também que o aplicativo hello HR pode ser configurado/projetado tooallow consentimento pelos usuários para uso individual.</span><span class="sxs-lookup"><span data-stu-id="317d4-139">Also note that hello HR app could be configured/designed tooallow consent by users for individual use.</span></span>

<span data-ttu-id="317d4-140">Na etapa 3, locatários do consumidor de saudação de saudação aplicativo HR (Contoso e Fabrikam) cada tem seu próprio objeto de serviço.</span><span class="sxs-lookup"><span data-stu-id="317d4-140">In Step 3, hello consumer tenants of hello HR application (Contoso and Fabrikam) each have their own service principal object.</span></span> <span data-ttu-id="317d4-141">Cada uma representa o uso de uma instância do aplicativo hello em tempo de execução, controlado por Olá permissões consentidas pelo administrador do respectivos hello.</span><span class="sxs-lookup"><span data-stu-id="317d4-141">Each represents their use of an instance of hello application at runtime, governed by hello permissions consented by hello respective administrator.</span></span>

## <a name="next-steps"></a><span data-ttu-id="317d4-142">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="317d4-142">Next steps</span></span>
<span data-ttu-id="317d4-143">Objeto de aplicativo do aplicativo pode ser acessado por meio de saudação do Azure AD Graph API, hello [portal do Azure] [ AZURE-Portal] editor de manifesto do aplicativo, ou [cmdlets do PowerShell do Azure AD](https://docs.microsoft.com/powershell/azure/overview?view=azureadps-2.0), conforme representado por seu OData [entidade aplicativos][AAD-Graph-App-Entity].</span><span class="sxs-lookup"><span data-stu-id="317d4-143">An application's application object can be accessed via hello Azure AD Graph API, hello [Azure portal's][AZURE-Portal] application manifest editor, or [Azure AD PowerShell cmdlets](https://docs.microsoft.com/powershell/azure/overview?view=azureadps-2.0), as represented by its OData [Application entity][AAD-Graph-App-Entity].</span></span>

<span data-ttu-id="317d4-144">Objeto de serviço do aplicativo pode ser acessado via hello Azure AD Graph API ou [cmdlets do PowerShell do Azure AD](https://docs.microsoft.com/powershell/azure/overview?view=azureadps-2.0), conforme representado por seu OData [entidade ServicePrincipal] [ AAD-Graph-Sp-Entity].</span><span class="sxs-lookup"><span data-stu-id="317d4-144">An application's service principal object can be accessed via hello Azure AD Graph API or [Azure AD PowerShell cmdlets](https://docs.microsoft.com/powershell/azure/overview?view=azureadps-2.0), as represented by its OData [ServicePrincipal entity][AAD-Graph-Sp-Entity].</span></span>

<span data-ttu-id="317d4-145">Olá [do Azure AD Graph Explorer](https://graphexplorer.azurewebsites.net/) é útil para consultar o aplicativo hello e objetos de serviço.</span><span class="sxs-lookup"><span data-stu-id="317d4-145">hello [Azure AD Graph Explorer](https://graphexplorer.azurewebsites.net/) is useful for querying both hello application and service principal objects.</span></span>

<!--Image references-->

<!--Reference style links -->
[AAD-Graph-App-Entity]: https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/entity-and-complex-type-reference#application-entity
[AAD-Graph-Sp-Entity]: https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/entity-and-complex-type-reference#serviceprincipal-entity
[AZURE-Portal]: https://portal.azure.com
