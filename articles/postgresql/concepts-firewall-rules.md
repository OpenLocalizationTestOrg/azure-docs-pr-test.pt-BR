---
title: Regras de firewall do Banco de Dados do Azure para servidor PostgreSQL | Microsoft Docs
description: Descreve as regras de firewall para seu Banco de Dados do Azure para servidor PostgreSQL.
services: postgresql
author: jasonwhowell
ms.author: jasonh
manager: jhubbard
editor: jasonwhowell
ms.service: postgresql
ms.topic: article
ms.date: 05/10/2017
ms.openlocfilehash: 1d46a4434c483c3612a9a7b4cdef718d6dc3e765
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-database-for-postgresql-server-firewall-rules"></a><span data-ttu-id="752bc-103">Regras de firewall do Banco de Dados do Azure para servidor PostgreSQL</span><span class="sxs-lookup"><span data-stu-id="752bc-103">Azure Database for PostgreSQL Server firewall rules</span></span>
<span data-ttu-id="752bc-104">Firewalls impedir que todos os servidores de banco de dados do access tooyour até que você especifique quais computadores têm permissão.</span><span class="sxs-lookup"><span data-stu-id="752bc-104">Firewalls prevent all access tooyour database server until you specify which computers have permission.</span></span> <span data-ttu-id="752bc-105">firewall de saudação concede servidor toohello de acesso com base em Olá endereços IP de cada solicitação de origem.</span><span class="sxs-lookup"><span data-stu-id="752bc-105">hello firewall grants access toohello server based on hello originating IP address of each request.</span></span>
<span data-ttu-id="752bc-106">tooconfigure seu firewall, criar regras de firewall que especifiquem intervalos de endereços IP aceitáveis.</span><span class="sxs-lookup"><span data-stu-id="752bc-106">tooconfigure your firewall, you create firewall rules that specify ranges of acceptable IP addresses.</span></span> <span data-ttu-id="752bc-107">Você pode criar regras de firewall no nível do servidor de saudação.</span><span class="sxs-lookup"><span data-stu-id="752bc-107">You can create firewall rules at hello server level.</span></span>

<span data-ttu-id="752bc-108">**Regras de firewall:** essas regras permitem que os clientes tooaccess seu banco de dados inteiro do Azure para o servidor PostgreSQL, ou seja, todos os bancos de dados de saudação em Olá mesmo servidor lógico.</span><span class="sxs-lookup"><span data-stu-id="752bc-108">**Firewall rules:** These rules enable clients tooaccess your entire Azure Database for PostgreSQL Server, that is, all hello databases within hello same logical server.</span></span> <span data-ttu-id="752bc-109">Regras de firewall de nível de servidor podem ser configuradas usando Olá portal do Azure ou usando os comandos de CLI do Azure.</span><span class="sxs-lookup"><span data-stu-id="752bc-109">Server-level firewall rules can be configured by using hello Azure portal or using Azure CLI commands.</span></span> <span data-ttu-id="752bc-110">regras de firewall no nível de servidor toocreate, você deve ser o proprietário da assinatura hello ou um colaborador da assinatura.</span><span class="sxs-lookup"><span data-stu-id="752bc-110">toocreate server-level firewall rules, you must be hello subscription owner or a subscription contributor.</span></span>

## <a name="firewall-overview"></a><span data-ttu-id="752bc-111">Visão geral do firewall</span><span class="sxs-lookup"><span data-stu-id="752bc-111">Firewall overview</span></span>
<span data-ttu-id="752bc-112">Todos os tooyour de acesso de banco de dados banco de dados PostgreSQL servidor seja bloqueada pelo firewall do hello por padrão.</span><span class="sxs-lookup"><span data-stu-id="752bc-112">All database access tooyour Azure Database for PostgreSQL server is blocked by hello firewall by default.</span></span> <span data-ttu-id="752bc-113">toobegin usando o servidor a partir de outro computador, você precisa toospecify um servidor ou de nível de servidor mais firewall regras tooenable acesso tooyour.</span><span class="sxs-lookup"><span data-stu-id="752bc-113">toobegin using your server from another computer, you need toospecify one or more server-level firewall rules tooenable access tooyour server.</span></span> <span data-ttu-id="752bc-114">Use toospecify de regras de firewall Olá qual endereço IP varia de saudação Internet tooallow.</span><span class="sxs-lookup"><span data-stu-id="752bc-114">Use hello firewall rules toospecify which IP address ranges from hello Internet tooallow.</span></span> <span data-ttu-id="752bc-115">Acesso toohello site do portal do Azure em si não é afetada por regras de firewall de saudação.</span><span class="sxs-lookup"><span data-stu-id="752bc-115">Access toohello Azure portal website itself is not impacted by hello firewall rules.</span></span>
<span data-ttu-id="752bc-116">Olá de tentativas de Conexão de Internet e o Azure deve passar primeiramente pelo firewall Olá antes de poderem acessar o banco de dados PostgreSQL, conforme mostrado no diagrama a seguir de saudação:</span><span class="sxs-lookup"><span data-stu-id="752bc-116">Connection attempts from hello Internet and Azure must first pass through hello firewall before they can reach your PostgreSQL Database, as shown in hello following diagram:</span></span>

![Fluxo de exemplo de como funciona o firewall Olá](media/concepts-firewall-rules/1-firewall-concept.png)

## <a name="connecting-from-hello-internet"></a><span data-ttu-id="752bc-118">Conectando-se de saudação da Internet</span><span class="sxs-lookup"><span data-stu-id="752bc-118">Connecting from hello Internet</span></span>
<span data-ttu-id="752bc-119">Regras de firewall de nível de servidor aplicam bancos de dados tooall hello banco de dados do Azure para servidor PostgreSQL.</span><span class="sxs-lookup"><span data-stu-id="752bc-119">Server-level firewall rules apply tooall databases on hello Azure Database for PostgreSQL server.</span></span> <span data-ttu-id="752bc-120">Se Olá endereço IP de saudação solicitação estiver dentro de um dos intervalos de saudação especificados nas regras de firewall de nível de servidor de saudação, conexão Olá será concedida.</span><span class="sxs-lookup"><span data-stu-id="752bc-120">If hello IP address of hello request is within one of hello ranges specified in hello server-level firewall rules, hello connection is granted.</span></span>
<span data-ttu-id="752bc-121">Se Olá endereço IP de saudação solicitação não está dentro de intervalos de saudação especificado em qualquer Olá nível de banco de dados ou regras de firewall no nível de servidor, falha de solicitação de conexão de saudação.</span><span class="sxs-lookup"><span data-stu-id="752bc-121">If hello IP address of hello request is not within hello ranges specified in any of hello database-level or server-level firewall rules, hello connection request fails.</span></span>
<span data-ttu-id="752bc-122">Por exemplo, se seu aplicativo se conecta ao driver JDBC para PostgreSQL, você pode encontrar esse erro tentar tooconnect quando Olá firewall está bloqueando a conexão de saudação.</span><span class="sxs-lookup"><span data-stu-id="752bc-122">For example, if your application connects with JDBC driver for PostgreSQL, you may encounter this error attempting tooconnect when hello firewall is blocking hello connection.</span></span>
> <span data-ttu-id="752bc-123">java.util.concurrent.ExecutionException: java.lang.RuntimeException: org.postgresql.util.PSQLException: FATAL: no pg\_hba.conf entry for host "123.45.67.890", user "adminuser", database "postgresql", SSL</span><span class="sxs-lookup"><span data-stu-id="752bc-123">java.util.concurrent.ExecutionException: java.lang.RuntimeException: org.postgresql.util.PSQLException: FATAL: no pg\_hba.conf entry for host "123.45.67.890", user "adminuser", database "postgresql", SSL</span></span>

## <a name="programmatically-managing-firewall-rules"></a><span data-ttu-id="752bc-124">Gerenciando programaticamente as regras de firewall</span><span class="sxs-lookup"><span data-stu-id="752bc-124">Programmatically managing firewall rules</span></span>
<span data-ttu-id="752bc-125">Além disso, toohello portal do Azure, firewall, regras podem ser gerenciadas programaticamente usando a CLI do Azure.</span><span class="sxs-lookup"><span data-stu-id="752bc-125">In addition toohello Azure portal, firewall rules can be managed programmatically using Azure CLI.</span></span>
<span data-ttu-id="752bc-126">Confira também [Criar e gerenciar regras de firewall do Banco de Dados do Azure para PostgreSQL usando a CLI do Azure](howto-manage-firewall-using-cli.md)</span><span class="sxs-lookup"><span data-stu-id="752bc-126">See also [Create and manage Azure Database for PostgreSQL firewall rules using Azure CLI](howto-manage-firewall-using-cli.md)</span></span>

## <a name="troubleshooting-hello-database-firewall"></a><span data-ttu-id="752bc-127">Solucionando problemas do firewall do banco de dados de saudação</span><span class="sxs-lookup"><span data-stu-id="752bc-127">Troubleshooting hello database firewall</span></span>
<span data-ttu-id="752bc-128">Considere Olá pontos a seguir ao fazer acesso toohello banco de dados do Microsoft Azure para o serviço de servidor PostgreSQL não se comportar conforme o esperado:</span><span class="sxs-lookup"><span data-stu-id="752bc-128">Consider hello following points when access toohello Microsoft Azure Database for PostgreSQL Server service does not behave as you expect:</span></span>

* <span data-ttu-id="752bc-129">**Lista de permissões toohello alterações não entraram em vigor ainda:** pode haver quanto um atraso de cinco minutos para alterações toohello banco de dados do Azure para efeito de tootake de configuração de firewall de servidor PostgreSQL.</span><span class="sxs-lookup"><span data-stu-id="752bc-129">**Changes toohello allow list have not taken effect yet:** There may be as much as a five-minute delay for changes toohello Azure Database for PostgreSQL Server firewall configuration tootake effect.</span></span>

* <span data-ttu-id="752bc-130">**logon de saudação não está autorizado ou uma senha incorreta foi usada:** se um logon não tiver permissões no hello banco de dados PostgreSQL server ou hello senha usada é incorreta, Olá conexão toohello banco de dados do Azure para servidor PostgreSQL é negado.</span><span class="sxs-lookup"><span data-stu-id="752bc-130">**hello login is not authorized or an incorrect password was used:** If a login does not have permissions on hello Azure Database for PostgreSQL server or hello password used is incorrect, hello connection toohello Azure Database for PostgreSQL server is denied.</span></span> <span data-ttu-id="752bc-131">Criar uma configuração de firewall apenas oferece aos clientes com uma tooattempt oportunidade conectando o servidor tooyour; cada cliente deve fornecer credenciais de segurança necessárias hello.</span><span class="sxs-lookup"><span data-stu-id="752bc-131">Creating a firewall setting only provides clients with an opportunity tooattempt connecting tooyour server; each client must provide hello necessary security credentials.</span></span>

<span data-ttu-id="752bc-132">Por exemplo, usando um cliente JDBC, Olá erro a seguir pode aparecer.</span><span class="sxs-lookup"><span data-stu-id="752bc-132">For example, using a JDBC client, hello following error may appear.</span></span>
> <span data-ttu-id="752bc-133">java.util.concurrent.ExecutionException: java.lang.RuntimeException: org.postgresql.util.PSQLException: FATAL: falha na autenticação da senha para o usuário "seunomedeusuário"</span><span class="sxs-lookup"><span data-stu-id="752bc-133">java.util.concurrent.ExecutionException: java.lang.RuntimeException: org.postgresql.util.PSQLException: FATAL: password authentication failed for user "yourusername"</span></span>

* <span data-ttu-id="752bc-134">**Endereço IP dinâmico:** se você tiver uma conexão de Internet com endereçamento IP dinâmico e você estiver tendo dificuldades para atravessar o firewall hello, tente uma saudação soluções a seguir:</span><span class="sxs-lookup"><span data-stu-id="752bc-134">**Dynamic IP address:** If you have an Internet connection with dynamic IP addressing and you are having trouble getting through hello firewall, you could try one of hello following solutions:</span></span>

* <span data-ttu-id="752bc-135">Peça ao seu provedor de serviço de Internet (ISP) para o intervalo de endereços IP hello atribuídos tooyour os computadores cliente que Olá acesso banco de dados PostgreSQL servidor e, em seguida, adicionar intervalo de endereços IP hello como uma regra de firewall.</span><span class="sxs-lookup"><span data-stu-id="752bc-135">Ask your Internet Service Provider (ISP) for hello IP address range assigned tooyour client computers that access hello Azure Database for PostgreSQL Server, and then add hello IP address range as a firewall rule.</span></span>

* <span data-ttu-id="752bc-136">Obter o endereçamento IP estático em vez disso, para seus computadores cliente e, em seguida, adicionar endereços IP hello como regras de firewall.</span><span class="sxs-lookup"><span data-stu-id="752bc-136">Get static IP addressing instead for your client computers, and then add hello IP addresses as firewall rules.</span></span>

## <a name="next-steps"></a><span data-ttu-id="752bc-137">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="752bc-137">Next steps</span></span>
<span data-ttu-id="752bc-138">Para ver artigos sobre como criar regras de firewall no nível de servidor e de banco de dados, consulte:</span><span class="sxs-lookup"><span data-stu-id="752bc-138">For articles on creating server-level and database-level firewall rules, see:</span></span>
* [<span data-ttu-id="752bc-139">Criar e gerenciar o banco de dados PostgreSQL para regras de firewall usando Olá portal do Azure</span><span class="sxs-lookup"><span data-stu-id="752bc-139">Create and manage Azure Database for PostgreSQL firewall rules using hello Azure portal</span></span>](howto-manage-firewall-using-portal.md)
* [<span data-ttu-id="752bc-140">Criar e gerenciar regras de firewall do Banco de Dados do Azure para PostgreSQL usando a CLI do Azure</span><span class="sxs-lookup"><span data-stu-id="752bc-140">Create and manage Azure Database for PostgreSQL firewall rules using Azure CLI</span></span>](howto-manage-firewall-using-cli.md)