---
title: aaaServer Logs no banco de dados do Azure para PostgreSQL | Microsoft Docs
description: Gera logs de erro e de consulta no Banco de Dados do Azure para PostgreSQL.
services: postgresql
author: SaloniSonpal
ms.author: salonis
manager: jhubbard
editor: jasonwhowell
ms.service: postgresql
ms.topic: article
ms.date: 05/10/2017
ms.openlocfilehash: 22575f3882ce67fe640952f0a8dbfd8dcb4b16fc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="server-logs-in-azure-database-for-postgresql"></a><span data-ttu-id="6771d-103">Logs de servidor no Banco de Dados do Azure para PostgreSQL</span><span class="sxs-lookup"><span data-stu-id="6771d-103">Server Logs in Azure Database for PostgreSQL</span></span> 
<span data-ttu-id="6771d-104">Banco de Dados do Azure para PostgreSQL gera logs de consulta e de erro.</span><span class="sxs-lookup"><span data-stu-id="6771d-104">Azure Database for PostgreSQL generates query and error logs.</span></span> <span data-ttu-id="6771d-105">No entanto, não há suporte para acesso tootransaction logs.</span><span class="sxs-lookup"><span data-stu-id="6771d-105">However, access tootransaction logs is not supported.</span></span> <span data-ttu-id="6771d-106">Esses logs podem ser usado tooidentify, solucionar problemas e reparar erros de configuração e desempenho abaixo do ideal.</span><span class="sxs-lookup"><span data-stu-id="6771d-106">These logs can be used tooidentify, troubleshoot, and repair configuration errors and sub-optimal performance.</span></span> <span data-ttu-id="6771d-107">Para saber mais, confira [Relatório de erros e registro em log](https://www.postgresql.org/docs/9.6/static/runtime-config-logging.html).</span><span class="sxs-lookup"><span data-stu-id="6771d-107">For more information, see [Error Reporting and Logging](https://www.postgresql.org/docs/9.6/static/runtime-config-logging.html).</span></span>

## <a name="access-server-logs"></a><span data-ttu-id="6771d-108">Acessar logs do servidor</span><span class="sxs-lookup"><span data-stu-id="6771d-108">Access server logs</span></span>
<span data-ttu-id="6771d-109">Você pode listar e baixar logs de erro do servidor do Azure PostgreSQL usando Olá Portal do Azure, [CLI do Azure](howto-configure-server-logs-using-cli.md) e APIs REST do Azure.</span><span class="sxs-lookup"><span data-stu-id="6771d-109">You can list and download Azure PostgreSQL server error logs using hello Azure Portal, [Azure CLI](howto-configure-server-logs-using-cli.md) and Azure REST APIs.</span></span>

## <a name="log-retention"></a><span data-ttu-id="6771d-110">Retenção de log</span><span class="sxs-lookup"><span data-stu-id="6771d-110">Log retention</span></span>
<span data-ttu-id="6771d-111">Você pode definir o período de retenção de saudação para logs de sistema usando o **log\_retenção\_período** parâmetro associado a seu servidor.</span><span class="sxs-lookup"><span data-stu-id="6771d-111">You can set hello retention period for system logs using the **log\_retention\_period** parameter associated with your server.</span></span> <span data-ttu-id="6771d-112">unidade de saudação para esse parâmetro é dias (necessário tooconfirm).</span><span class="sxs-lookup"><span data-stu-id="6771d-112">hello unit for this parameter is days (need tooconfirm).</span></span> <span data-ttu-id="6771d-113">valor padrão de saudação é três dias.</span><span class="sxs-lookup"><span data-stu-id="6771d-113">hello default value is three days.</span></span> <span data-ttu-id="6771d-114">valor máximo de saudação é 7 dias.</span><span class="sxs-lookup"><span data-stu-id="6771d-114">hello maximum value is 7 days.</span></span> <span data-ttu-id="6771d-115">Observe que o servidor deve ter suficiente arquivos de log do armazenamento alocado toocontain Olá retido.</span><span class="sxs-lookup"><span data-stu-id="6771d-115">Note that your server must have enough allocated storage toocontain hello retained log files.</span></span>
<span data-ttu-id="6771d-116">arquivos de log Olá gira cada 1 hora ou um tamanho de 100MB, o que ocorrer primeiro.</span><span class="sxs-lookup"><span data-stu-id="6771d-116">hello log files will rotate every 1 hour or 100MB size, whichever comes first.</span></span>

## <a name="configure-logging-for-azure-postgresql-server"></a><span data-ttu-id="6771d-117">Configurar o registro em log para o servidor PostgreSQL do Azure</span><span class="sxs-lookup"><span data-stu-id="6771d-117">Configure logging for Azure PostgreSQL server</span></span>
<span data-ttu-id="6771d-118">Você pode habilitar os registros em log de consulta e de erro para seu servidor.</span><span class="sxs-lookup"><span data-stu-id="6771d-118">You can enable query logging and error logging for your server.</span></span> <span data-ttu-id="6771d-119">Os logs de erros podem conter informações de pontos de verificação, conexão e vácuo automática.</span><span class="sxs-lookup"><span data-stu-id="6771d-119">Error logs can contain auto-vacuum, connection and checkpoints information.</span></span>

<span data-ttu-id="6771d-120">Habilite o registro em log de consulta para sua instância de Banco de Dados PostgreSQL definindo dois parâmetros de servidor: \_statement e log\_min\_duration\_statement.</span><span class="sxs-lookup"><span data-stu-id="6771d-120">You can enable query logging for your PostgreSQL DB instance by setting two server parameters: log\_statement and log\_min\_duration\_statement.</span></span>

<span data-ttu-id="6771d-121">Olá **log\_instrução** parâmetro controla quais instruções SQL são registradas.</span><span class="sxs-lookup"><span data-stu-id="6771d-121">hello **log\_statement** parameter controls which SQL statements are logged.</span></span> <span data-ttu-id="6771d-122">É recomendável definir esse parâmetro muito***todos os*** toolog todas as instruções; valor de padrão de saudação é none (necessário tooconfirm).</span><span class="sxs-lookup"><span data-stu-id="6771d-122">We recommend setting this parameter too***all*** toolog all statements; hello default value is none (need tooconfirm).</span></span>

<span data-ttu-id="6771d-123">Olá **log\_min\_duração\_instrução** parâmetro define o limite de saudação em milissegundos, de um toobe de instrução conectado.</span><span class="sxs-lookup"><span data-stu-id="6771d-123">hello **log\_min\_duration\_statement** parameter sets hello limit in milliseconds of a statement toobe logged.</span></span> <span data-ttu-id="6771d-124">Todas as instruções SQL que são executados mais do que a configuração de parâmetro hello são registradas.</span><span class="sxs-lookup"><span data-stu-id="6771d-124">All SQL statements that run longer than hello parameter setting are logged.</span></span> <span data-ttu-id="6771d-125">Esse parâmetro é desabilitada e defina toominus 1 (-1) por padrão (necessidade tooconfirm).</span><span class="sxs-lookup"><span data-stu-id="6771d-125">This parameter is disabled and set toominus 1 (-1) by default (need tooconfirm).</span></span> <span data-ttu-id="6771d-126">A habilitação desse parâmetro pode ser útil para rastrear consultas não otimizadas em seus aplicativos.</span><span class="sxs-lookup"><span data-stu-id="6771d-126">Enabling this parameter can be helpful in tracking down unoptimized queries in your applications.</span></span>

<span data-ttu-id="6771d-127">Olá **log\_min\_mensagens** permite que você toocontrol quais níveis de mensagem são gravados toohello log do servidor.</span><span class="sxs-lookup"><span data-stu-id="6771d-127">hello **log\_min\_messages** allows you toocontrol which message levels are written toohello server log.</span></span> <span data-ttu-id="6771d-128">padrão de saudação é de aviso.</span><span class="sxs-lookup"><span data-stu-id="6771d-128">hello default is WARNING.</span></span> <span data-ttu-id="6771d-129">(necessário tooconfirm)</span><span class="sxs-lookup"><span data-stu-id="6771d-129">(need tooconfirm)</span></span>

<span data-ttu-id="6771d-130">Para saber mais sobre essas configurações, consulte a documentação [Relatório de erros e registro em log](https://www.postgresql.org/docs/9.6/static/runtime-config-logging.html).</span><span class="sxs-lookup"><span data-stu-id="6771d-130">For more information on these settings, see [Error Reporting and Logging](https://www.postgresql.org/docs/9.6/static/runtime-config-logging.html) documentation.</span></span> <span data-ttu-id="6771d-131">Para configurar especificamente os parâmetros do Banco de Dados do Azure para servidor PostgreSQL, consulte [Logs de servidor no Banco de Dados para PostgreSQL](concepts-server-logs.md).</span><span class="sxs-lookup"><span data-stu-id="6771d-131">For particularly configuring Azure Database for PostgreSQL server parameters, see [Server Logs in Azure Database for PostgreSQL](concepts-server-logs.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="6771d-132">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="6771d-132">Next steps</span></span>
- <span data-ttu-id="6771d-133">logs de tooaccess usando a interface de linha de comando CLI do Azure, consulte [acesso e configurar logs de servidor usando a CLI do Azure](howto-configure-server-logs-using-cli.md)</span><span class="sxs-lookup"><span data-stu-id="6771d-133">tooaccess logs using Azure CLI command line interface, see [Configure and access server logs using Azure CLI](howto-configure-server-logs-using-cli.md)</span></span>
- <span data-ttu-id="6771d-134">Para saber mais sobre os parâmetros de servidor, consulte [Personalizar os parâmetros de configuração de servidor usando a CLI do Azure](howto-configure-server-parameters-using-cli.md).</span><span class="sxs-lookup"><span data-stu-id="6771d-134">For more information on server parameters, see [Customize server configuration parameters using Azure CLI](howto-configure-server-parameters-using-cli.md).</span></span>