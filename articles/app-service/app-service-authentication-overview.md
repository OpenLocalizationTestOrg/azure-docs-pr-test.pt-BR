---
title: "aaaAuthentication e autorização no serviço de aplicativo do Azure | Microsoft Docs"
description: "Referência conceitual e visão geral da saudação autenticação / autorização de recursos para o serviço de aplicativo do Azure"
services: app-service
documentationcenter: 
author: mattchenderson
manager: erikre
editor: 
ms.assetid: b7151b57-09e5-4c77-a10c-375a262f17e5
ms.service: app-service
ms.workload: mobile
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 08/29/2016
ms.author: mahender
ms.openlocfilehash: dc2074b16cce47b72b78ea7afeda89dbc4832166
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="authentication-and-authorization-in-azure-app-service"></a><span data-ttu-id="dc61a-103">Autenticação e autorização no Serviço de Aplicativo do Azure</span><span class="sxs-lookup"><span data-stu-id="dc61a-103">Authentication and authorization in Azure App Service</span></span>
## <a name="what-is-app-service-authentication--authorization"></a><span data-ttu-id="dc61a-104">O que é a Autenticação/Autorização do Serviço de Aplicativo?</span><span class="sxs-lookup"><span data-stu-id="dc61a-104">What is App Service Authentication / Authorization?</span></span>
<span data-ttu-id="dc61a-105">Autenticação do serviço de aplicativo / autorização é um recurso que fornece uma maneira para toosign seu aplicativo em usuários para que você não tem o código de toochange no back-end de aplicativo hello.</span><span class="sxs-lookup"><span data-stu-id="dc61a-105">App Service Authentication / Authorization is a feature that provides a way for your application toosign in users so that you don't have toochange code on hello app backend.</span></span> <span data-ttu-id="dc61a-106">Ele fornece uma maneira fácil tooprotect seu aplicativo e o trabalho com dados por usuário.</span><span class="sxs-lookup"><span data-stu-id="dc61a-106">It provides an easy way tooprotect your application and work with per-user data.</span></span>

<span data-ttu-id="dc61a-107">O Serviço de Aplicativo usa uma identidade federada, na qual um provedor de identidade de terceiros armazena contas e autentica usuários.</span><span class="sxs-lookup"><span data-stu-id="dc61a-107">App Service uses federated identity, in which a third-party identity provider stores accounts and authenticates users.</span></span> <span data-ttu-id="dc61a-108">aplicativo Hello depende de informações de identidade do provedor Olá para que hello aplicativo não tiver toostore essas informações em si.</span><span class="sxs-lookup"><span data-stu-id="dc61a-108">hello application relies on hello provider's identity information so that hello app doesn't have toostore that information itself.</span></span> <span data-ttu-id="dc61a-109">Serviço de aplicativo oferece suporte a provedores de identidade cinco imediato saudação: Active Directory do Azure, Facebook, Google, Microsoft Account e Twitter.</span><span class="sxs-lookup"><span data-stu-id="dc61a-109">App Service supports five identity providers out of hello box: Azure Active Directory, Facebook, Google, Microsoft Account, and Twitter.</span></span> <span data-ttu-id="dc61a-110">Seu aplicativo pode usar qualquer número desses tooprovide de provedores de identidade seus usuários com opções para como entrarem no.</span><span class="sxs-lookup"><span data-stu-id="dc61a-110">Your app can use any number of these identity providers tooprovide your users with options for how they sign in.</span></span> <span data-ttu-id="dc61a-111">suporte interno a saudação tooexpand, você pode integrar outro provedor de identidade ou [sua própria solução de identidade personalizado][custom-auth].</span><span class="sxs-lookup"><span data-stu-id="dc61a-111">tooexpand hello built-in support, you can integrate another identity provider or [your own custom identity solution][custom-auth].</span></span>

<span data-ttu-id="dc61a-112">Se você quiser tooget iniciado imediatamente, consulte um dos Olá tutoriais a seguir:</span><span class="sxs-lookup"><span data-stu-id="dc61a-112">If you want tooget started right away, see one of hello following tutorials:</span></span>

* <span data-ttu-id="dc61a-113">[Adicionar aplicativo do iOS autenticação tooyour] [ iOS] (ou [Android], [Windows], [xamarin], [ Xamarin], [xamarin. Forms], ou [Cordova])</span><span class="sxs-lookup"><span data-stu-id="dc61a-113">[Add authentication tooyour iOS app][iOS] (or [Android], [Windows], [Xamarin.iOS], [Xamarin.Android], [Xamarin.Forms], or [Cordova])</span></span>
* <span data-ttu-id="dc61a-114">[Autenticação de usuário para Aplicativos de API no Serviço de Aplicativo do Azure][apia-user]</span><span class="sxs-lookup"><span data-stu-id="dc61a-114">[User authentication for API Apps in Azure App Service][apia-user]</span></span>
* <span data-ttu-id="dc61a-115">[Introdução ao Serviço de Aplicativo do Azure - Parte 2][web-getstarted]</span><span class="sxs-lookup"><span data-stu-id="dc61a-115">[Get started with Azure App Service - Part 2][web-getstarted]</span></span>

## <a name="how-authentication-works-in-app-service"></a><span data-ttu-id="dc61a-116">Como funciona a autenticação no Serviço de Aplicativo</span><span class="sxs-lookup"><span data-stu-id="dc61a-116">How authentication works in App Service</span></span>
<span data-ttu-id="dc61a-117">Em ordem tooauthenticate usando um dos provedores de identidade Olá, é necessário primeiro tooknow de provedor de identidade tooconfigure Olá sobre seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="dc61a-117">In order tooauthenticate by using one of hello identity providers, you first need tooconfigure hello identity provider tooknow about your application.</span></span> <span data-ttu-id="dc61a-118">provedor de identidade Hello, em seguida, fornecem IDs e segredos que você forneça tooApp serviço.</span><span class="sxs-lookup"><span data-stu-id="dc61a-118">hello identity provider will then provide IDs and secrets that you provide tooApp Service.</span></span> <span data-ttu-id="dc61a-119">Isso conclui a relação de confiança de saudação para que o serviço de aplicativo possa validar declarações de usuário, como tokens de autenticação, Olá do provedor de identidade.</span><span class="sxs-lookup"><span data-stu-id="dc61a-119">This completes hello trust relationship so that App Service can validate user assertions, such as authentication tokens, from hello identity provider.</span></span>

<span data-ttu-id="dc61a-120">toosign um usuário usando um desses provedores, o usuário de saudação deve ser redirecionado tooan ponto de extremidade que conecta os usuários para o provedor.</span><span class="sxs-lookup"><span data-stu-id="dc61a-120">toosign in a user by using one of these providers, hello user must be redirected tooan endpoint that signs in users for that provider.</span></span> <span data-ttu-id="dc61a-121">Se os clientes estão usando um navegador da web, você pode ter o serviço de aplicativo direcionar automaticamente todos os usuários não autenticados toohello ponto de extremidade entra em usuários.</span><span class="sxs-lookup"><span data-stu-id="dc61a-121">If customers are using a web browser, you can have App Service automatically direct all unauthenticated users toohello endpoint that signs in users.</span></span> <span data-ttu-id="dc61a-122">Caso contrário, será necessário toodirect seus clientes muito`{your App Service base URL}/.auth/login/<provider>`, onde `<provider>` é uma saudação valores a seguir: aad, facebook, google, microsoft ou twitter.</span><span class="sxs-lookup"><span data-stu-id="dc61a-122">Otherwise, you will need toodirect your customers too`{your App Service base URL}/.auth/login/<provider>`, where `<provider>` is one of hello following values: aad, facebook, google, microsoft, or twitter.</span></span> <span data-ttu-id="dc61a-123">Os cenários móveis e de API serão explicados em seções posteriores deste artigo.</span><span class="sxs-lookup"><span data-stu-id="dc61a-123">Mobile and API scenarios are explained in sections later in this article.</span></span>

<span data-ttu-id="dc61a-124">Os usuários que interagem com seu aplicativo por meio de um navegador da Web terão um cookie definido, para que possam permanecer autenticados conforme navegam no aplicativo.</span><span class="sxs-lookup"><span data-stu-id="dc61a-124">Users who interact with your application through a web browser will have a cookie set so that they can remain authenticated as they browse your application.</span></span> <span data-ttu-id="dc61a-125">Para outros tipos de cliente, como o dispositivo móvel, um JSON web token (JWT), que deve ser apresentado no hello `X-ZUMO-AUTH` cabeçalho, será emitido toohello cliente.</span><span class="sxs-lookup"><span data-stu-id="dc61a-125">For other client types, such as mobile, a JSON web token (JWT), which should be presented in hello `X-ZUMO-AUTH` header, will be issued toohello client.</span></span> <span data-ttu-id="dc61a-126">cliente de aplicativos móveis Olá SDKs tratará isso para você.</span><span class="sxs-lookup"><span data-stu-id="dc61a-126">hello Mobile Apps client SDKs will handle this for you.</span></span> <span data-ttu-id="dc61a-127">Como alternativa, um token de acesso ou o token de identidade do Active Directory do Azure pode ser diretamente incluído em Olá `Authorization` cabeçalho como uma [token de portador](https://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="dc61a-127">Alternatively, an Azure Active Directory identity token or access token may be directly included in hello `Authorization` header as a [bearer token](https://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="dc61a-128">Serviço de aplicativo validará qualquer token que seu aplicativo emite tooauthenticate usuários ou cookie.</span><span class="sxs-lookup"><span data-stu-id="dc61a-128">App Service will validate any cookie or token that your application issues tooauthenticate users.</span></span> <span data-ttu-id="dc61a-129">toorestrict quem pode acessar seu aplicativo, consulte Olá [autorização](#authorization) seção mais adiante neste artigo.</span><span class="sxs-lookup"><span data-stu-id="dc61a-129">toorestrict who can access your application, see hello [Authorization](#authorization) section later in this article.</span></span>

### <a name="mobile-authentication-with-a-provider-sdk"></a><span data-ttu-id="dc61a-130">Autenticação móvel com um SDK do provedor</span><span class="sxs-lookup"><span data-stu-id="dc61a-130">Mobile authentication with a provider SDK</span></span>
<span data-ttu-id="dc61a-131">Depois que tudo está configurado em Olá back-end, você pode modificar toosign clientes móveis com o serviço de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="dc61a-131">After everything is configured on hello backend, you can modify mobile clients toosign in with App Service.</span></span> <span data-ttu-id="dc61a-132">Há duas abordagens aqui:</span><span class="sxs-lookup"><span data-stu-id="dc61a-132">There are two approaches here:</span></span>

* <span data-ttu-id="dc61a-133">Usar um SDK que um provedor de identidade fornecida publica tooestablish identidade e, em seguida, obtenha acesso tooApp serviço.</span><span class="sxs-lookup"><span data-stu-id="dc61a-133">Use an SDK that a given identity provider publishes tooestablish identity and then gain access tooApp Service.</span></span>
* <span data-ttu-id="dc61a-134">Use uma única linha de código para que esse cliente de aplicativos móveis Olá SDK possa se conectar aos usuários.</span><span class="sxs-lookup"><span data-stu-id="dc61a-134">Use a single line of code so that hello Mobile Apps client SDK can sign in users.</span></span>

> [!TIP]
> <span data-ttu-id="dc61a-135">A maioria dos aplicativos deve usar um provedor SDK tooget uma experiência mais consistente quando os usuários entrarem, suporte de atualização de toouse e tooget outros benefícios que provedor Olá especifica.</span><span class="sxs-lookup"><span data-stu-id="dc61a-135">Most applications should use a provider SDK tooget a more consistent experience when users sign in, toouse refresh support, and tooget other benefits that hello provider specifies.</span></span>
> 
> 

<span data-ttu-id="dc61a-136">Quando você usa um provedor de SDK, os usuários possam entrar experiência tooan que integra o mais próximo sistema de operacional Olá que o aplicativo hello está em execução.</span><span class="sxs-lookup"><span data-stu-id="dc61a-136">When you use a provider SDK, users can sign in tooan experience that integrates more tightly with hello operating system that hello app is running on.</span></span> <span data-ttu-id="dc61a-137">Isso também fornece um token do provedor e algumas informações de usuário no cliente hello, o que torna muito mais fácil gráfico de tooconsume APIs e personalizar a experiência do usuário hello.</span><span class="sxs-lookup"><span data-stu-id="dc61a-137">This also gives you a provider token and some user information on hello client, which makes it much easier tooconsume graph APIs and customize hello user experience.</span></span> <span data-ttu-id="dc61a-138">Ocasionalmente em blogs e fóruns, você verá esse Olá tooas chamado "fluxo de cliente" ou "fluxo direcionada pelo cliente" porque o código no cliente Olá entra em usuários e o código de cliente de saudação tem token de acesso do provedor de tooa.</span><span class="sxs-lookup"><span data-stu-id="dc61a-138">Occasionally on blogs and forums, you will see this referred tooas hello "client flow" or "client-directed flow" because code on hello client signs in users, and hello client code has access tooa provider token.</span></span>

<span data-ttu-id="dc61a-139">Depois que um token do provedor é obtido, ela deve toobe enviado tooApp serviço para validação.</span><span class="sxs-lookup"><span data-stu-id="dc61a-139">After a provider token is obtained, it needs toobe sent tooApp Service for validation.</span></span> <span data-ttu-id="dc61a-140">Depois que o serviço de aplicativo valida o token hello, serviço de aplicativo cria um novo token de serviço de aplicativo que é retornado toohello cliente.</span><span class="sxs-lookup"><span data-stu-id="dc61a-140">After App Service validates hello token, App Service creates a new App Service token that is returned toohello client.</span></span> <span data-ttu-id="dc61a-141">SDK de cliente de aplicativos móveis Olá tem auxiliar métodos toomanage essa troca e anexar automaticamente Olá tooall token solicitações toohello aplicativo back-end.</span><span class="sxs-lookup"><span data-stu-id="dc61a-141">hello Mobile Apps client SDK has helper methods toomanage this exchange and automatically attach hello token tooall requests toohello application backend.</span></span> <span data-ttu-id="dc61a-142">Os desenvolvedores também podem manter um token de referência do provedor toohello se eles assim escolhem.</span><span class="sxs-lookup"><span data-stu-id="dc61a-142">Developers can also keep a reference toohello provider token if they so choose.</span></span>

### <a name="mobile-authentication-without-a-provider-sdk"></a><span data-ttu-id="dc61a-143">Autenticação móvel sem um SDK do provedor</span><span class="sxs-lookup"><span data-stu-id="dc61a-143">Mobile authentication without a provider SDK</span></span>
<span data-ttu-id="dc61a-144">Se você não quiser tooset um provedor de SDK, você pode permitir recursos de aplicativos móveis saudação do serviço de aplicativo do Azure toosign para você.</span><span class="sxs-lookup"><span data-stu-id="dc61a-144">If you do not want tooset up a provider SDK, you can allow hello Mobile Apps feature of Azure App Service toosign in for you.</span></span> <span data-ttu-id="dc61a-145">SDK de cliente de aplicativos móveis Olá abrirá um provedor de toohello de exibição da web de sua escolha e entrar no usuário de saudação.</span><span class="sxs-lookup"><span data-stu-id="dc61a-145">hello Mobile Apps client SDK will open a web view toohello provider of your choosing and sign in hello user.</span></span> <span data-ttu-id="dc61a-146">Ocasionalmente em blogs e fóruns, você verá esse tooas chamado hello "fluxo de servidor" ou "orientado para servidor de fluxo" como servidor Olá gerencia processo Olá que conecta os usuários e o SDK de cliente Olá nunca recebe o token de saudação do provedor.</span><span class="sxs-lookup"><span data-stu-id="dc61a-146">Occasionally on blogs and forums, you will see this referred tooas hello "server flow" or "server-directed flow" because hello server manages hello process that signs in users, and hello client SDK never receives hello provider token.</span></span>

<span data-ttu-id="dc61a-147">Código toostart que deste fluxo está incluído no tutorial de autenticação Olá para cada plataforma.</span><span class="sxs-lookup"><span data-stu-id="dc61a-147">Code toostart this flow is included in hello authentication tutorial for each platform.</span></span> <span data-ttu-id="dc61a-148">No final de saudação do fluxo de hello, SDK de cliente Olá tem um token de serviço de aplicativo e token Olá é anexado automaticamente tooall solicitações toohello aplicativo back-end.</span><span class="sxs-lookup"><span data-stu-id="dc61a-148">At hello end of hello flow, hello client SDK has an App Service token, and hello token is automatically attached tooall requests toohello application backend.</span></span>

### <a name="service-to-service-authentication"></a><span data-ttu-id="dc61a-149">Autenticação serviço a serviço</span><span class="sxs-lookup"><span data-stu-id="dc61a-149">Service-to-service authentication</span></span>
<span data-ttu-id="dc61a-150">Embora você pode dar aos usuários acesso tooyour aplicativo, você pode também confiar toocall de outro aplicativo sua própria API.</span><span class="sxs-lookup"><span data-stu-id="dc61a-150">Although you can give users access tooyour application, you can also trust another application toocall your own API.</span></span> <span data-ttu-id="dc61a-151">Por exemplo, você poderia ter um aplicativo Web chamando uma API em outro aplicativo Web.</span><span class="sxs-lookup"><span data-stu-id="dc61a-151">For example, you could have one web app call an API in another web app.</span></span> <span data-ttu-id="dc61a-152">Nesse cenário, você pode usar as credenciais para uma conta de serviço em vez de credenciais de usuário tooget um token.</span><span class="sxs-lookup"><span data-stu-id="dc61a-152">In this scenario, you use credentials for a service account instead of user credentials tooget a token.</span></span> <span data-ttu-id="dc61a-153">Uma conta de serviço também é conhecida como *entidade de serviço* no jargão do Azure Active Directory, e a autenticação que usa essa conta também é chamada de cenário de serviço a serviço.</span><span class="sxs-lookup"><span data-stu-id="dc61a-153">A service account is also known as a *service principal* in Azure Active Directory parlance, and authentication that uses such an account is also known as a service-to-service scenario.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="dc61a-154">Como os aplicativos móveis são executados em dispositivos do cliente, os aplicativos móveis *não* contam como aplicativos confiáveis e não devem usar um fluxo da entidade de serviço.</span><span class="sxs-lookup"><span data-stu-id="dc61a-154">Because mobile apps run on customer devices, mobile applications do *not* count as trusted applications and should not use a service principal flow.</span></span> <span data-ttu-id="dc61a-155">Em vez disso, eles devem usar um fluxo de usuário detalhado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="dc61a-155">Instead, they should use a user flow that was detailed earlier.</span></span>
> 
> 

<span data-ttu-id="dc61a-156">Para cenários de serviço a serviço, o Serviço de Aplicativo pode proteger seu aplicativo usando o Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="dc61a-156">For service-to-service scenarios, App Service can protect your application by using Azure Active Directory.</span></span> <span data-ttu-id="dc61a-157">aplicativo de chamada Hello só precisa tooprovide um token de autorização principal de serviço do Active Directory do Azure que é obtido, fornecendo a ID de saudação do cliente e cliente secreto do Active Directory do Azure.</span><span class="sxs-lookup"><span data-stu-id="dc61a-157">hello calling application just needs tooprovide an Azure Active Directory service principal authorization token that is obtained by providing hello client ID and client secret from Azure Active Directory.</span></span> <span data-ttu-id="dc61a-158">Um exemplo desse cenário que usa a API do ASP.NET apps é explicado pelo tutorial hello, [autenticação principal do serviço para aplicativos de API][apia-service].</span><span class="sxs-lookup"><span data-stu-id="dc61a-158">An example of this scenario that uses ASP.NET API apps is explained by hello tutorial, [Service principal authentication for API Apps][apia-service].</span></span>

<span data-ttu-id="dc61a-159">Se você quiser toouse toohandle de autenticação do serviço de aplicativo um cenário de serviços, você pode usar certificados de cliente ou a autenticação básica.</span><span class="sxs-lookup"><span data-stu-id="dc61a-159">If you want toouse App Service authentication toohandle a service-to-service scenario, you can use client certificates or basic authentication.</span></span> <span data-ttu-id="dc61a-160">Para obter informações sobre certificados de cliente no Azure, consulte [como tooConfigure autenticação mútua do TLS para aplicativos Web](../app-service-web/app-service-web-configure-tls-mutual-auth.md).</span><span class="sxs-lookup"><span data-stu-id="dc61a-160">For information about client certificates in Azure, see [How tooConfigure TLS Mutual Authentication for Web Apps](../app-service-web/app-service-web-configure-tls-mutual-auth.md).</span></span> <span data-ttu-id="dc61a-161">Para saber mais sobre a autenticação básica no ASP.NET, confira [Filtros de autenticação na API Web 2 ASP.NET](http://www.asp.net/web-api/overview/security/authentication-filters).</span><span class="sxs-lookup"><span data-stu-id="dc61a-161">For information about basic authentication in ASP.NET, see [Authentication Filters in ASP.NET Web API 2](http://www.asp.net/web-api/overview/security/authentication-filters).</span></span>

<span data-ttu-id="dc61a-162">Autenticação de conta de serviço de um aplicativo do serviço de aplicativo lógica aplicativo tooan API é um caso especial que é detalhado no [usando sua API personalizada hospedado no serviço de aplicativo com aplicativos lógicos](../logic-apps/logic-apps-custom-hosted-api.md).</span><span class="sxs-lookup"><span data-stu-id="dc61a-162">Service account authentication from an App Service logic app tooan API app is a special case that is detailed in [Using your custom API hosted on App Service with Logic apps](../logic-apps/logic-apps-custom-hosted-api.md).</span></span>

## <span data-ttu-id="dc61a-163"><a name="authorization"></a>Como funciona a autorização no Serviço de Aplicativo</span><span class="sxs-lookup"><span data-stu-id="dc61a-163"><a name="authorization"></a>How authorization works in App Service</span></span>
<span data-ttu-id="dc61a-164">Você tem controle total sobre solicitações de saudação que pode acessar o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="dc61a-164">You have full control over hello requests that can access your application.</span></span> <span data-ttu-id="dc61a-165">Autenticação do serviço de aplicativo / autorização pode ser configurada com nenhum dos Olá comportamentos a seguir:</span><span class="sxs-lookup"><span data-stu-id="dc61a-165">App Service Authentication / Authorization can be configured with any of hello following behaviors:</span></span>

* <span data-ttu-id="dc61a-166">Permitir que somente solicitações autenticadas tooreach seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="dc61a-166">Allow only authenticated requests tooreach your application.</span></span>
  
    <span data-ttu-id="dc61a-167">Se um navegador recebe uma solicitação anônima, o serviço de aplicativo redirecionará página tooa para provedor de identidade Olá que você escolher para que os usuários possam entrar.</span><span class="sxs-lookup"><span data-stu-id="dc61a-167">If a browser receives an anonymous request, App Service will redirect tooa page for hello identity provider that you choose so that users can sign in.</span></span> <span data-ttu-id="dc61a-168">Se a solicitação de saudação é proveniente de um dispositivo móvel, Olá retornou a resposta é um HTTP *401 não autorizado* resposta.</span><span class="sxs-lookup"><span data-stu-id="dc61a-168">If hello request comes from a mobile device, hello returned response is an HTTP *401 Unauthorized* response.</span></span>
  
    <span data-ttu-id="dc61a-169">Com essa opção, você não precisa toowrite qualquer código de autenticação em todos os em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="dc61a-169">With this option, you don't need toowrite any authentication code at all in your app.</span></span> <span data-ttu-id="dc61a-170">Se você precisar de autorização mais refinada, informações sobre o usuário Olá são código tooyour disponíveis.</span><span class="sxs-lookup"><span data-stu-id="dc61a-170">If you need finer authorization, information about hello user is available tooyour code.</span></span>
* <span data-ttu-id="dc61a-171">Permitir tooreach de todas as solicitações do aplicativo, mas validar solicitações autenticadas e passa informações de autenticação nos cabeçalhos de saudação HTTP.</span><span class="sxs-lookup"><span data-stu-id="dc61a-171">Allow all requests tooreach your application, but validate authenticated requests, and pass along authentication information in hello HTTP headers.</span></span>
  
    <span data-ttu-id="dc61a-172">Essa opção adia o código do aplicativo de tooyour de decisões de autorização.</span><span class="sxs-lookup"><span data-stu-id="dc61a-172">This option defers authorization decisions tooyour application code.</span></span> <span data-ttu-id="dc61a-173">Ele oferece mais flexibilidade no tratamento de solicitações anônimas, mas você tiver código toowrite.</span><span class="sxs-lookup"><span data-stu-id="dc61a-173">It provides more flexibility in handling anonymous requests, but you have toowrite code.</span></span>
* <span data-ttu-id="dc61a-174">Permitir tooreach de todas as solicitações de seu aplicativo e não executar nenhuma ação nas informações de autenticação em solicitações de saudação.</span><span class="sxs-lookup"><span data-stu-id="dc61a-174">Allow all requests tooreach your application, and take no action on authentication information in hello requests.</span></span>
  
    <span data-ttu-id="dc61a-175">Nesse caso, Olá autenticação / autorização de recurso está desativado.</span><span class="sxs-lookup"><span data-stu-id="dc61a-175">In this case, hello Authentication / Authorization feature is off.</span></span> <span data-ttu-id="dc61a-176">tarefas de saudação de autenticação e autorização são totalmente o código do aplicativo de tooyour.</span><span class="sxs-lookup"><span data-stu-id="dc61a-176">hello tasks of authentication and authorization are entirely up tooyour application code.</span></span>

<span data-ttu-id="dc61a-177">comportamentos anterior Olá são controlados pelo Olá **tootake de ação quando a solicitação não está autenticada** opção Olá portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="dc61a-177">hello previous behaviors are controlled by hello **Action tootake when request is not authenticated** option in hello Azure portal.</span></span> <span data-ttu-id="dc61a-178">Se você escolher * * fazer login *nome do provedor* * *, todas as solicitações tem toobe autenticado.</span><span class="sxs-lookup"><span data-stu-id="dc61a-178">If you choose **Log in with *provider name* **, all requests have toobe authenticated.</span></span> <span data-ttu-id="dc61a-179">**Permitir solicitação (nenhuma ação)** adia o código de tooyour de decisão de autorização hello, mas ainda fornece informações de autenticação.</span><span class="sxs-lookup"><span data-stu-id="dc61a-179">**Allow request (no action)** defers hello authorization decision tooyour code, but it still provides authentication information.</span></span> <span data-ttu-id="dc61a-180">Se você quiser toohave seu código lidar com tudo, você pode desabilitar Olá autenticação / recurso de autorização.</span><span class="sxs-lookup"><span data-stu-id="dc61a-180">If you want toohave your code handle everything, you can disable hello Authentication / Authorization feature.</span></span>

## <a name="working-with-user-identities-in-your-application"></a><span data-ttu-id="dc61a-181">Trabalhando com identidades de usuário em seu aplicativo</span><span class="sxs-lookup"><span data-stu-id="dc61a-181">Working with user identities in your application</span></span>
<span data-ttu-id="dc61a-182">Serviço de aplicativo passa algum aplicativo de tooyour de informações do usuário usando cabeçalhos especiais.</span><span class="sxs-lookup"><span data-stu-id="dc61a-182">App Service passes some user information tooyour application by using special headers.</span></span> <span data-ttu-id="dc61a-183">As solicitações externas proíbem esses cabeçalhos e só estarão presentes se definidas pela Autenticação/Autorização do Serviço de Aplicativo.</span><span class="sxs-lookup"><span data-stu-id="dc61a-183">External requests prohibit these headers and will only be present if set by App Service Authentication / Authorization.</span></span> <span data-ttu-id="dc61a-184">Alguns cabeçalhos de exemplo incluem:</span><span class="sxs-lookup"><span data-stu-id="dc61a-184">Some example headers include:</span></span>

* <span data-ttu-id="dc61a-185">X-MS-CLIENT-PRINCIPAL-NAME</span><span class="sxs-lookup"><span data-stu-id="dc61a-185">X-MS-CLIENT-PRINCIPAL-NAME</span></span>
* <span data-ttu-id="dc61a-186">X-MS-CLIENT-PRINCIPAL-ID</span><span class="sxs-lookup"><span data-stu-id="dc61a-186">X-MS-CLIENT-PRINCIPAL-ID</span></span>
* <span data-ttu-id="dc61a-187">X-MS-TOKEN-FACEBOOK-ACCESS-TOKEN</span><span class="sxs-lookup"><span data-stu-id="dc61a-187">X-MS-TOKEN-FACEBOOK-ACCESS-TOKEN</span></span>
* <span data-ttu-id="dc61a-188">X-MS-TOKEN-FACEBOOK-EXPIRES-ON</span><span class="sxs-lookup"><span data-stu-id="dc61a-188">X-MS-TOKEN-FACEBOOK-EXPIRES-ON</span></span>

<span data-ttu-id="dc61a-189">Código que está escrito em qualquer idioma ou a estrutura pode obter informações de saudação que ele precisa desses cabeçalhos.</span><span class="sxs-lookup"><span data-stu-id="dc61a-189">Code that is written in any language or framework can get hello information that it needs from these headers.</span></span> <span data-ttu-id="dc61a-190">Para aplicativos ASP.NET 4.6, Olá **ClaimsPrincipal** é definido automaticamente com os valores apropriados hello.</span><span class="sxs-lookup"><span data-stu-id="dc61a-190">For ASP.NET 4.6 apps, hello **ClaimsPrincipal** is automatically set with hello appropriate values.</span></span>

<span data-ttu-id="dc61a-191">Seu aplicativo também pode obter detalhes adicionais de usuário por meio de um HTTP GET em Olá `/.auth/me` ponto de extremidade de seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="dc61a-191">Your application can also obtain additional user details through an HTTP GET on hello `/.auth/me` endpoint of your application.</span></span> <span data-ttu-id="dc61a-192">Um token válido que foi incluído na solicitação de saudação de retorno de uma carga JSON com detalhes sobre o provedor de saudação que está sendo usado, Olá token do provedor subjacente e algumas outras informações do usuário.</span><span class="sxs-lookup"><span data-stu-id="dc61a-192">A valid token that's included with hello request will return a JSON payload with details about hello provider that's being used, hello underlying provider token, and some other user information.</span></span> <span data-ttu-id="dc61a-193">o servidor de aplicativos móveis SDKs Hello fornecem métodos auxiliares toowork com esses dados.</span><span class="sxs-lookup"><span data-stu-id="dc61a-193">hello Mobile Apps server SDKs provide helper methods toowork with this data.</span></span> <span data-ttu-id="dc61a-194">Para obter mais informações, consulte [como toouse Olá SDK do Azure Mobile aplicativos Node.js](../app-service-mobile/app-service-mobile-node-backend-how-to-use-server-sdk.md#howto-tables-getidentity), e [funcionam com o servidor de back-end .NET Olá SDK para aplicativos móveis do Azure](../app-service-mobile/app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#user-info).</span><span class="sxs-lookup"><span data-stu-id="dc61a-194">For more information, see [How toouse hello Azure Mobile Apps Node.js SDK](../app-service-mobile/app-service-mobile-node-backend-how-to-use-server-sdk.md#howto-tables-getidentity), and [Work with hello .NET backend server SDK for Azure Mobile Apps](../app-service-mobile/app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#user-info).</span></span>

## <a name="documentation-and-additional-resources"></a><span data-ttu-id="dc61a-195">Documentação e recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="dc61a-195">Documentation and additional resources</span></span>
### <a name="identity-providers"></a><span data-ttu-id="dc61a-196">Provedores de identidade</span><span class="sxs-lookup"><span data-stu-id="dc61a-196">Identity providers</span></span>
<span data-ttu-id="dc61a-197">Olá seguintes tutoriais mostram como provedores de autenticação diferentes de toouse tooconfigure do serviço de aplicativo:</span><span class="sxs-lookup"><span data-stu-id="dc61a-197">hello following tutorials show how tooconfigure App Service toouse different authentication providers:</span></span>

* <span data-ttu-id="dc61a-198">[Como tooconfigure seu logon do aplicativo toouse Active Directory do Azure][AAD]</span><span class="sxs-lookup"><span data-stu-id="dc61a-198">[How tooconfigure your app toouse Azure Active Directory login][AAD]</span></span>
* <span data-ttu-id="dc61a-199">[Como tooconfigure o logon do Facebook toouse aplicativo][Facebook]</span><span class="sxs-lookup"><span data-stu-id="dc61a-199">[How tooconfigure your app toouse Facebook login][Facebook]</span></span>
* <span data-ttu-id="dc61a-200">[Como tooconfigure o logon do Google toouse aplicativo][Google]</span><span class="sxs-lookup"><span data-stu-id="dc61a-200">[How tooconfigure your app toouse Google login][Google]</span></span>
* <span data-ttu-id="dc61a-201">[Como tooconfigure seu logon do aplicativo toouse Account da Microsoft][MSA]</span><span class="sxs-lookup"><span data-stu-id="dc61a-201">[How tooconfigure your app toouse Microsoft Account login][MSA]</span></span>
* <span data-ttu-id="dc61a-202">[Como tooconfigure o logon do Twitter toouse aplicativo][Twitter]</span><span class="sxs-lookup"><span data-stu-id="dc61a-202">[How tooconfigure your app toouse Twitter login][Twitter]</span></span>

<span data-ttu-id="dc61a-203">Se você quiser toouse um sistema de identidade que Olá aqueles fornecidos aqui, você também pode usar Olá [visualizar o suporte a autenticação personalizada no SDK do servidor do .NET de aplicativos móveis Olá][custom-auth], que pode ser usado em aplicativos da web, aplicativos móveis ou aplicativos de API.</span><span class="sxs-lookup"><span data-stu-id="dc61a-203">If you want toouse an identity system other than hello ones provided here, you can also use hello [preview custom authentication support in hello Mobile Apps .NET server SDK][custom-auth], which can be used in web apps, mobile apps, or API apps.</span></span>

### <a name="web-applications"></a><span data-ttu-id="dc61a-204">Aplicativos Web</span><span class="sxs-lookup"><span data-stu-id="dc61a-204">Web applications</span></span>
<span data-ttu-id="dc61a-205">Olá tutoriais a seguir mostra como tooadd tooa de autenticação de aplicativo web:</span><span class="sxs-lookup"><span data-stu-id="dc61a-205">hello following tutorials show how tooadd authentication tooa web application:</span></span>

* <span data-ttu-id="dc61a-206">[Introdução ao Serviço de Aplicativo do Azure - Parte 2][web-getstarted]</span><span class="sxs-lookup"><span data-stu-id="dc61a-206">[Get started with Azure App Service - Part 2][web-getstarted]</span></span>

### <a name="mobile-applications"></a><span data-ttu-id="dc61a-207">Aplicativos móveis</span><span class="sxs-lookup"><span data-stu-id="dc61a-207">Mobile applications</span></span>
<span data-ttu-id="dc61a-208">Olá tutoriais a seguir mostra como clientes móveis de tooadd autenticação tooyour usando Olá orientado para servidor de fluxo:</span><span class="sxs-lookup"><span data-stu-id="dc61a-208">hello following tutorials show how tooadd authentication tooyour mobile clients by using hello server-directed flow:</span></span>

* <span data-ttu-id="dc61a-209">[Adicionar aplicativo do iOS tooyour autenticação][iOS]</span><span class="sxs-lookup"><span data-stu-id="dc61a-209">[Add authentication tooyour iOS app][iOS]</span></span>
* <span data-ttu-id="dc61a-210">[Adicionar aplicativo do Android autenticação tooyour][Android]</span><span class="sxs-lookup"><span data-stu-id="dc61a-210">[Add Authentication tooyour Android app][Android]</span></span>
* <span data-ttu-id="dc61a-211">[Adicionar um aplicativo de Windows Authentication tooyour][Windows]</span><span class="sxs-lookup"><span data-stu-id="dc61a-211">[Add Authentication tooyour Windows app][Windows]</span></span>
* <span data-ttu-id="dc61a-212">[Adicionar autenticação tooyour xamarin aplicativo][xamarin]</span><span class="sxs-lookup"><span data-stu-id="dc61a-212">[Add authentication tooyour Xamarin.iOS app][Xamarin.iOS]</span></span>
* <span data-ttu-id="dc61a-213">[Adicionar autenticação tooyour xamarin aplicativo][ Xamarin]</span><span class="sxs-lookup"><span data-stu-id="dc61a-213">[Add authentication tooyour Xamarin.Android app][Xamarin.Android]</span></span>
* <span data-ttu-id="dc61a-214">[Adicionar autenticação tooyour xamarin. Forms aplicativo][xamarin. Forms]</span><span class="sxs-lookup"><span data-stu-id="dc61a-214">[Add authentication tooyour Xamarin.Forms app][Xamarin.Forms]</span></span>
* <span data-ttu-id="dc61a-215">[Adicionar autenticação tooyour Cordova aplicativo][Cordova]</span><span class="sxs-lookup"><span data-stu-id="dc61a-215">[Add Authentication tooyour Cordova app][Cordova]</span></span>

<span data-ttu-id="dc61a-216">Use Olá recursos a seguir se quiser que o fluxo de cliente direcionado Olá toouse Active Directory do Azure:</span><span class="sxs-lookup"><span data-stu-id="dc61a-216">Use hello following resources if you want toouse hello client-directed flow for Azure Active Directory:</span></span>

* <span data-ttu-id="dc61a-217">[Saudação de usar a biblioteca de autenticação do Active Directory para iOS][ADAL-iOS]</span><span class="sxs-lookup"><span data-stu-id="dc61a-217">[Use hello Active Directory Authentication Library for iOS][ADAL-iOS]</span></span>
* <span data-ttu-id="dc61a-218">[Usar Olá biblioteca de autenticação do Active Directory para Android][ADAL-Android]</span><span class="sxs-lookup"><span data-stu-id="dc61a-218">[Use hello Active Directory Authentication Library for Android][ADAL-Android]</span></span>
* <span data-ttu-id="dc61a-219">[Use Olá Active Directory autenticação Library para Windows e o Xamarin][ADAL-dotnet]</span><span class="sxs-lookup"><span data-stu-id="dc61a-219">[Use hello Active Directory Authentication Library for Windows and Xamarin][ADAL-dotnet]</span></span>

<span data-ttu-id="dc61a-220">Use Olá recursos a seguir se quiser que o fluxo de cliente direcionado Olá toouse para o Facebook:</span><span class="sxs-lookup"><span data-stu-id="dc61a-220">Use hello following resources if you want toouse hello client-directed flow for Facebook:</span></span>

* [<span data-ttu-id="dc61a-221">Use Olá Facebook SDK para iOS</span><span class="sxs-lookup"><span data-stu-id="dc61a-221">Use hello Facebook SDK for iOS</span></span>](../app-service-mobile/app-service-mobile-ios-how-to-use-client-library.md#facebook-sdk)

<span data-ttu-id="dc61a-222">Use Olá recursos a seguir se quiser que o fluxo de cliente direcionado Olá toouse do Twitter:</span><span class="sxs-lookup"><span data-stu-id="dc61a-222">Use hello following resources if you want toouse hello client-directed flow for Twitter:</span></span>

* [<span data-ttu-id="dc61a-223">Usar o Twitter Fabric para iOS</span><span class="sxs-lookup"><span data-stu-id="dc61a-223">Use Twitter Fabric for iOS</span></span>](../app-service-mobile/app-service-mobile-ios-how-to-use-client-library.md#twitter-fabric)

<span data-ttu-id="dc61a-224">Use Olá recursos a seguir se quiser que o fluxo de cliente direcionado Olá toouse para o Google:</span><span class="sxs-lookup"><span data-stu-id="dc61a-224">Use hello following resources if you want toouse hello client-directed flow for Google:</span></span>

* [<span data-ttu-id="dc61a-225">Use Olá Google entrar SDK para iOS</span><span class="sxs-lookup"><span data-stu-id="dc61a-225">Use hello Google Sign-In SDK for iOS</span></span>](../app-service-mobile/app-service-mobile-ios-how-to-use-client-library.md#google-sdk)

### <a name="api-applications"></a><span data-ttu-id="dc61a-226">Aplicativos de API</span><span class="sxs-lookup"><span data-stu-id="dc61a-226">API applications</span></span>
<span data-ttu-id="dc61a-227">Olá Mostrar tutoriais a seguir como tooprotect seus aplicativos de API:</span><span class="sxs-lookup"><span data-stu-id="dc61a-227">hello following tutorials show how tooprotect your API apps:</span></span>

* <span data-ttu-id="dc61a-228">[Autenticação de usuário para Aplicativos de API no Serviço de Aplicativo do Azure][apia-user]</span><span class="sxs-lookup"><span data-stu-id="dc61a-228">[User authentication for API Apps in Azure App Service][apia-user]</span></span>
* <span data-ttu-id="dc61a-229">[Autenticação de entidade de serviço para Aplicativos de API no Serviço de Aplicativo do Azure][apia-service]</span><span class="sxs-lookup"><span data-stu-id="dc61a-229">[Service principal authentication for API Apps in Azure App Service][apia-service]</span></span>

[apia-user]: ../app-service-api/app-service-api-dotnet-user-principal-auth.md
[apia-service]: ../app-service-api/app-service-api-dotnet-service-principal-auth.md

[web-getstarted]: ../app-service-web/app-service-web-get-started-2.md#authenticate-your-users

[iOS]: ../app-service-mobile/app-service-mobile-ios-get-started-users.md
[Android]: ../app-service-mobile/app-service-mobile-android-get-started-users.md
[xamarin]: ../app-service-mobile/app-service-mobile-xamarin-ios-get-started-users.md
[ Xamarin]: ../app-service-mobile/app-service-mobile-xamarin-android-get-started-users.md
[xamarin. Forms]: ../app-service-mobile/app-service-mobile-xamarin-forms-get-started-users.md
[Windows]: ../app-service-mobile/app-service-mobile-windows-store-dotnet-get-started-users.md
[Cordova]: ../app-service-mobile/app-service-mobile-cordova-get-started-users.md

[AAD]: ../app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication.md
[Facebook]: ../app-service-mobile/app-service-mobile-how-to-configure-facebook-authentication.md
[Google]: ../app-service-mobile/app-service-mobile-how-to-configure-google-authentication.md
[MSA]: ../app-service-mobile/app-service-mobile-how-to-configure-microsoft-authentication.md
[Twitter]: ../app-service-mobile/app-service-mobile-how-to-configure-twitter-authentication.md

[custom-auth]: ../app-service-mobile/app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#custom-auth

[ADAL-Android]: ../app-service-mobile/app-service-mobile-android-how-to-use-client-library.md#adal
[ADAL-iOS]: ../app-service-mobile/app-service-mobile-ios-how-to-use-client-library.md#adal
[ADAL-dotnet]: ../app-service-mobile/app-service-mobile-dotnet-how-to-use-client-library.md#adal
