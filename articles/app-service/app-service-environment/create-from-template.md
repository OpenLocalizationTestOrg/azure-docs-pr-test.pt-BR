---
title: "aaaCreate um ambiente de serviço de aplicativo do Azure usando um modelo do Gerenciador de recursos"
description: "Explica como toocreate um ambiente de serviço de aplicativo do Azure ILB ou externas usando um modelo do Gerenciador de recursos"
services: app-service
documentationcenter: na
author: ccompy
manager: stefsch
ms.assetid: 6eb7d43d-e820-4a47-818c-80ff7d3b6f8e
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/13/2017
ms.author: ccompy
ms.openlocfilehash: c8aeedee675a6e931169b725ee916cc7fa8f762f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="create-an-ase-by-using-an-azure-resource-manager-template"></a><span data-ttu-id="91359-103">Criar um ASE usando um modelo do Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="91359-103">Create an ASE by using an Azure Resource Manager template</span></span>

## <a name="overview"></a><span data-ttu-id="91359-104">Visão geral</span><span class="sxs-lookup"><span data-stu-id="91359-104">Overview</span></span>
<span data-ttu-id="91359-105">Ambientes do Serviço de Aplicativo do Azure (ASEs) podem ser criados com um ponto de extremidade acessível pela Internet ou um ponto de extremidade em um endereço interno na rede virtual (VNet) do Azure.</span><span class="sxs-lookup"><span data-stu-id="91359-105">Azure App Service environments (ASEs) can be created with an internet-accessible endpoint or an endpoint on an internal address in an Azure virtual network (VNet).</span></span> <span data-ttu-id="91359-106">Quando criado com um ponto de extremidade interno, esse ponto de extremidade é fornecido por um componente do Azure chamado ILB (balanceador de carga interno).</span><span class="sxs-lookup"><span data-stu-id="91359-106">When created with an internal endpoint, that endpoint is provided by an Azure component called an internal load balancer (ILB).</span></span> <span data-ttu-id="91359-107">Olá ASE em um endereço IP interno é chamada uma ASE ILB.</span><span class="sxs-lookup"><span data-stu-id="91359-107">hello ASE on an internal IP address is called an ILB ASE.</span></span> <span data-ttu-id="91359-108">Olá ASE com um ponto de extremidade público é chamada uma ASE externo.</span><span class="sxs-lookup"><span data-stu-id="91359-108">hello ASE with a public endpoint is called an External ASE.</span></span> 

<span data-ttu-id="91359-109">Uma ASE pode ser criada usando Olá portal do Azure ou um modelo do Gerenciador de recursos do Azure.</span><span class="sxs-lookup"><span data-stu-id="91359-109">An ASE can be created by using hello Azure portal or an Azure Resource Manager template.</span></span> <span data-ttu-id="91359-110">Este artigo o orienta pelas etapas de hello e a sintaxe necessária toocreate uma ASE externo ou ASE ILB com modelos do Gerenciador de recursos.</span><span class="sxs-lookup"><span data-stu-id="91359-110">This article walks through hello steps and syntax you need toocreate an External ASE or ILB ASE with Resource Manager templates.</span></span> <span data-ttu-id="91359-111">toolearn como toocreate uma ASE em Olá portal do Azure, consulte [fazer uma ASE externo] [ MakeExternalASE] ou [fazer uma ASE ILB][MakeILBASE].</span><span class="sxs-lookup"><span data-stu-id="91359-111">toolearn how toocreate an ASE in hello Azure portal, see [Make an External ASE][MakeExternalASE] or [Make an ILB ASE][MakeILBASE].</span></span>

<span data-ttu-id="91359-112">Quando você cria uma ASE em Olá portal do Azure, você pode criar sua rede virtual no hello ao mesmo tempo ou escolha um toodeploy redes preexistente em.</span><span class="sxs-lookup"><span data-stu-id="91359-112">When you create an ASE in hello Azure portal, you can create your VNet at hello same time or choose a preexisting VNet toodeploy into.</span></span> <span data-ttu-id="91359-113">Ao criar um ASE com base em um modelo, você deve começar com:</span><span class="sxs-lookup"><span data-stu-id="91359-113">When you create an ASE from a template, you must start with:</span></span> 

* <span data-ttu-id="91359-114">Uma VNet do Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="91359-114">A Resource Manager VNet.</span></span>
* <span data-ttu-id="91359-115">Uma sub-rede nessa VNet.</span><span class="sxs-lookup"><span data-stu-id="91359-115">A subnet in that VNet.</span></span> <span data-ttu-id="91359-116">É recomendável um tamanho de sub-rede ASE de `/25` com o crescimento futuro de tooaccomodate 128 endereços.</span><span class="sxs-lookup"><span data-stu-id="91359-116">We recommend an ASE subnet size of `/25` with 128 addresses tooaccomodate future growth.</span></span> <span data-ttu-id="91359-117">Depois Olá ASE é criado, você não pode alterar o tamanho de saudação.</span><span class="sxs-lookup"><span data-stu-id="91359-117">After hello ASE is created, you can't change hello size.</span></span>
* <span data-ttu-id="91359-118">ID do recurso de saudação da sua rede virtual.</span><span class="sxs-lookup"><span data-stu-id="91359-118">hello resource ID from your VNet.</span></span> <span data-ttu-id="91359-119">Você pode obter essas informações de saudação portal do Azure em suas propriedades de rede virtual.</span><span class="sxs-lookup"><span data-stu-id="91359-119">You can get this information from hello Azure portal under your virtual network properties.</span></span>
* <span data-ttu-id="91359-120">assinatura de saudação desejado toodeploy em.</span><span class="sxs-lookup"><span data-stu-id="91359-120">hello subscription you want toodeploy into.</span></span>
* <span data-ttu-id="91359-121">Olá local toodeploy em.</span><span class="sxs-lookup"><span data-stu-id="91359-121">hello location you want toodeploy into.</span></span>

<span data-ttu-id="91359-122">tooautomate sua criação ASE:</span><span class="sxs-lookup"><span data-stu-id="91359-122">tooautomate your ASE creation:</span></span>

1. <span data-ttu-id="91359-123">Crie hello ASE de um modelo.</span><span class="sxs-lookup"><span data-stu-id="91359-123">Create hello ASE from a template.</span></span> <span data-ttu-id="91359-124">Se você criar um ASE externo, terá concluído após essa etapa.</span><span class="sxs-lookup"><span data-stu-id="91359-124">If you create an External ASE, you're finished after this step.</span></span> <span data-ttu-id="91359-125">Se você criar uma ASE ILB, há alguns toodo coisas mais.</span><span class="sxs-lookup"><span data-stu-id="91359-125">If you create an ILB ASE, there are a few more things toodo.</span></span>

2. <span data-ttu-id="91359-126">Depois que o ASE ILB for criado, um certificado SSL correspondente ao domínio do ASE ILB será carregado.</span><span class="sxs-lookup"><span data-stu-id="91359-126">After your ILB ASE is created, an SSL certificate that matches your ILB ASE domain is uploaded.</span></span>

3. <span data-ttu-id="91359-127">Olá carregado certificado SSL está atribuído toohello ASE ILB como seu certificado SSL "padrão".</span><span class="sxs-lookup"><span data-stu-id="91359-127">hello uploaded SSL certificate is assigned toohello ILB ASE as its "default" SSL certificate.</span></span>  <span data-ttu-id="91359-128">Esse certificado é usado para tooapps de tráfego do SSL em Olá ILB ASE quando eles usam o domínio raiz comum Olá que é atribuído toohello ASE (por exemplo, https://someapp.mycustomrootcomain.com).</span><span class="sxs-lookup"><span data-stu-id="91359-128">This certificate is used for SSL traffic tooapps on hello ILB ASE when they use hello common root domain that's assigned toohello ASE (for example, https://someapp.mycustomrootcomain.com).</span></span>


## <a name="create-hello-ase"></a><span data-ttu-id="91359-129">Criar hello ASE</span><span class="sxs-lookup"><span data-stu-id="91359-129">Create hello ASE</span></span>
<span data-ttu-id="91359-130">Um modelo do Resource Manager que cria um ASE e seu arquivo de parâmetros associado está disponível [no exemplo][quickstartasev2create] no GitHub.</span><span class="sxs-lookup"><span data-stu-id="91359-130">A Resource Manager template that creates an ASE and its associated parameters file is available [in an example][quickstartasev2create] on GitHub.</span></span>

<span data-ttu-id="91359-131">Se você quiser toomake uma ASE ILB, use esses modelo do Gerenciador de recursos [exemplos][quickstartilbasecreate].</span><span class="sxs-lookup"><span data-stu-id="91359-131">If you want toomake an ILB ASE, use these Resource Manager template [examples][quickstartilbasecreate].</span></span> <span data-ttu-id="91359-132">Eles atendem toothat caso de uso.</span><span class="sxs-lookup"><span data-stu-id="91359-132">They cater toothat use case.</span></span> <span data-ttu-id="91359-133">A maioria dos parâmetros Olá Olá *azuredeploy.parameters.json* arquivo são comuns criação toohello de ASs ILB e ASs externos.</span><span class="sxs-lookup"><span data-stu-id="91359-133">Most of hello parameters in hello *azuredeploy.parameters.json* file are common toohello creation of ILB ASEs and External ASEs.</span></span> <span data-ttu-id="91359-134">Olá lista a seguir chama parâmetros de Observação especial ou que são exclusivos, quando você cria uma ASE ILB:</span><span class="sxs-lookup"><span data-stu-id="91359-134">hello following list calls out parameters of special note, or that are unique, when you create an ILB ASE:</span></span>

* <span data-ttu-id="91359-135">*interalLoadBalancingMode*: na maioria dos casos, defina este too3, o que significa que os tráfegos HTTP/HTTPS nas portas 80/443, e portas de canal de dados do controle Olá ouviu tooby serviço Olá FTP Olá ASE, será rede virtual alocada pelo ILB tooan associada endereço interno.</span><span class="sxs-lookup"><span data-stu-id="91359-135">*interalLoadBalancingMode*: In most cases, set this too3, which means both HTTP/HTTPS traffic on ports 80/443, and hello control/data channel ports listened tooby hello FTP service on hello ASE, will be bound tooan ILB-allocated virtual network internal address.</span></span> <span data-ttu-id="91359-136">Se essa propriedade for definida too2, somente Olá FTP relacionados ao serviço portas (canais de controle e de dados) são endereços ILB tooan associado.</span><span class="sxs-lookup"><span data-stu-id="91359-136">If this property is set too2, only hello FTP service-related ports (both control and data channels) are bound tooan ILB address.</span></span> <span data-ttu-id="91359-137">Olá tráfego HTTP/HTTPS permanece no VIP público hello.</span><span class="sxs-lookup"><span data-stu-id="91359-137">hello HTTP/HTTPS traffic remains on hello public VIP.</span></span>
* <span data-ttu-id="91359-138">*dnsSuffix*: esse parâmetro define o domínio raiz da saudação padrão que é atribuído toohello ASE.</span><span class="sxs-lookup"><span data-stu-id="91359-138">*dnsSuffix*: This parameter defines hello default root domain that's assigned toohello ASE.</span></span> <span data-ttu-id="91359-139">Variação pública de saudação do serviço de aplicativo do Azure, domínio raiz da saudação padrão para todos os aplicativos web é *azurewebsites.net*.</span><span class="sxs-lookup"><span data-stu-id="91359-139">In hello public variation of Azure App Service, hello default root domain for all web apps is *azurewebsites.net*.</span></span> <span data-ttu-id="91359-140">Como uma ASE ILB é a rede virtual do cliente interno tooa, domínio de raiz padrão do serviço do sentido toouse Olá público não faz.</span><span class="sxs-lookup"><span data-stu-id="91359-140">Because an ILB ASE is internal tooa customer's virtual network, it doesn't make sense toouse hello public service's default root domain.</span></span> <span data-ttu-id="91359-141">Em vez disso, um ASE ILB deve ter um domínio de raiz padrão que faça sentido para uso dentro da rede virtual interna da empresa.</span><span class="sxs-lookup"><span data-stu-id="91359-141">Instead, an ILB ASE should have a default root domain that makes sense for use within a company's internal virtual network.</span></span> <span data-ttu-id="91359-142">Por exemplo, a Contoso Corporation pode usar um domínio de raiz padrão do *interna do contoso.com* para aplicativos que são toobe pretendido acessível apenas dentro de rede virtual da Contoso e pode ser resolvido.</span><span class="sxs-lookup"><span data-stu-id="91359-142">For example, Contoso Corporation might use a default root domain of *internal-contoso.com* for apps that are intended toobe resolvable and accessible only within Contoso's virtual network.</span></span> 
* <span data-ttu-id="91359-143">*ipSslAddressCount*: esse parâmetro é automaticamente padronizada tooa valor 0 Olá *azuredeploy.json* o arquivo porque o ILB ASs ter apenas um único endereço ILB.</span><span class="sxs-lookup"><span data-stu-id="91359-143">*ipSslAddressCount*: This parameter automatically defaults tooa value of 0 in hello *azuredeploy.json* file because ILB ASEs only have a single ILB address.</span></span> <span data-ttu-id="91359-144">Não há nenhum endereço IP SSL explícito para um ASE ILB.</span><span class="sxs-lookup"><span data-stu-id="91359-144">There are no explicit IP-SSL addresses for an ILB ASE.</span></span> <span data-ttu-id="91359-145">Portanto, Olá pool de endereços IP SSL para um ASE ILB deve ser definido toozero.</span><span class="sxs-lookup"><span data-stu-id="91359-145">Hence, hello IP-SSL address pool for an ILB ASE must be set toozero.</span></span> <span data-ttu-id="91359-146">Caso contrário, ocorrerá um erro de provisionamento.</span><span class="sxs-lookup"><span data-stu-id="91359-146">Otherwise, a provisioning error occurs.</span></span> 

<span data-ttu-id="91359-147">Depois de saudação *azuredeploy.parameters.json* arquivo é preenchido, criar hello ASE usando o trecho de código do PowerShell hello.</span><span class="sxs-lookup"><span data-stu-id="91359-147">After hello *azuredeploy.parameters.json* file is filled in, create hello ASE by using hello PowerShell code snippet.</span></span> <span data-ttu-id="91359-148">Alterar Olá caminhos toomatch Olá Gerenciador de recursos de arquivo de modelo locais de arquivos em seu computador.</span><span class="sxs-lookup"><span data-stu-id="91359-148">Change hello file paths toomatch hello Resource Manager template-file locations on your machine.</span></span> <span data-ttu-id="91359-149">Lembre-se de toosupply seus próprios valores para nome de implantação do Gerenciador de recursos de saudação e o nome do grupo de recursos de saudação:</span><span class="sxs-lookup"><span data-stu-id="91359-149">Remember toosupply your own values for hello Resource Manager deployment name and hello resource group name:</span></span>

    $templatePath="PATH\azuredeploy.json"
    $parameterPath="PATH\azuredeploy.parameters.json"

    New-AzureRmResourceGroupDeployment -Name "CHANGEME" -ResourceGroupName "YOUR-RG-NAME-HERE" -TemplateFile $templatePath -TemplateParameterFile $parameterPath

<span data-ttu-id="91359-150">Leva aproximadamente uma hora para Olá ASE toobe criado.</span><span class="sxs-lookup"><span data-stu-id="91359-150">It takes about an hour for hello ASE toobe created.</span></span> <span data-ttu-id="91359-151">Em seguida, Olá ASE mostra no portal de saudação na lista de saudação do ASs para assinatura de saudação que disparou a implantação de saudação.</span><span class="sxs-lookup"><span data-stu-id="91359-151">Then hello ASE shows up in hello portal in hello list of ASEs for hello subscription that triggered hello deployment.</span></span>

## <a name="upload-and-configure-hello-default-ssl-certificate"></a><span data-ttu-id="91359-152">Carregar e configurar o certificado SSL hello "padrão"</span><span class="sxs-lookup"><span data-stu-id="91359-152">Upload and configure hello "default" SSL certificate</span></span>
<span data-ttu-id="91359-153">Um certificado SSL deve ser associado a saudação ASE como hello "padrão" certificado SSL usado tooestablish SSL conexões tooapps.</span><span class="sxs-lookup"><span data-stu-id="91359-153">An SSL certificate must be associated with hello ASE as hello "default" SSL certificate that's used tooestablish SSL connections tooapps.</span></span> <span data-ttu-id="91359-154">Se o sufixo DNS de padrão de saudação do ASE é *interna do contoso.com*, toohttps://some-random-app.internal-contoso.com uma conexão requer um certificado SSL válido para **.internal contoso.com* .</span><span class="sxs-lookup"><span data-stu-id="91359-154">If hello ASE's default DNS suffix is *internal-contoso.com*, a connection toohttps://some-random-app.internal-contoso.com requires an SSL certificate that's valid for **.internal-contoso.com*.</span></span> 

<span data-ttu-id="91359-155">Obtenha um certificado SSL válido, usando autoridades de certificação internas, adquirindo um certificado de um emissor externo ou usando um certificado autoassinado.</span><span class="sxs-lookup"><span data-stu-id="91359-155">Obtain a valid SSL certificate by using internal certificate authorities, purchasing a certificate from an external issuer, or using a self-signed certificate.</span></span> <span data-ttu-id="91359-156">Independentemente de fonte de saudação do certificado SSL hello, Olá seguintes atributos do certificado deve ser configurado corretamente:</span><span class="sxs-lookup"><span data-stu-id="91359-156">Regardless of hello source of hello SSL certificate, hello following certificate attributes must be configured properly:</span></span>

* <span data-ttu-id="91359-157">**Entidade**: este atributo deve ser definido muito **sua raiz-domínio here.com*.</span><span class="sxs-lookup"><span data-stu-id="91359-157">**Subject**: This attribute must be set too**.your-root-domain-here.com*.</span></span>
* <span data-ttu-id="91359-158">**Nome Alternativo da Entidade**: Esse atributo deve incluir **.seu-dominio-raiz-aqui.com* e **.scm.seu-dominio-raiz-aqui.com*. SSL conexões toohello site SCM/Kudu associado a cada aplicativo usar um endereço de formulário Olá *your-app-name.scm.your-root-domain-here.com*.</span><span class="sxs-lookup"><span data-stu-id="91359-158">**Subject Alternative Name**: This attribute must include both **.your-root-domain-here.com* and **.scm.your-root-domain-here.com*. SSL connections toohello SCM/Kudu site associated with each app use an address of hello form *your-app-name.scm.your-root-domain-here.com*.</span></span>

<span data-ttu-id="91359-159">Com um certificado SSL válido em mãos, são necessárias mais duas etapas preparatórias.</span><span class="sxs-lookup"><span data-stu-id="91359-159">With a valid SSL certificate in hand, two additional preparatory steps are needed.</span></span> <span data-ttu-id="91359-160">Certificado SSL da saudação de Convert/Salvar como um arquivo. pfx.</span><span class="sxs-lookup"><span data-stu-id="91359-160">Convert/save hello SSL certificate as a .pfx file.</span></span> <span data-ttu-id="91359-161">Lembre-se de arquivo hello. pfx deve incluir todos os intermediário e raiz certificados.</span><span class="sxs-lookup"><span data-stu-id="91359-161">Remember that hello .pfx file must include all intermediate and root certificates.</span></span> <span data-ttu-id="91359-162">Proteja-o com uma senha.</span><span class="sxs-lookup"><span data-stu-id="91359-162">Secure it with a password.</span></span>

<span data-ttu-id="91359-163">arquivo. pfx de saudação precisa toobe convertido em uma cadeia de caracteres base64, pois o certificado SSL de saudação é carregado por meio de um modelo do Gerenciador de recursos.</span><span class="sxs-lookup"><span data-stu-id="91359-163">hello .pfx file needs toobe converted into a base64 string because hello SSL certificate is uploaded by using a Resource Manager template.</span></span> <span data-ttu-id="91359-164">Como modelos do Gerenciador de recursos são arquivos de texto, o arquivo. pfx de saudação deve ser convertido em uma cadeia de caracteres base64.</span><span class="sxs-lookup"><span data-stu-id="91359-164">Because Resource Manager templates are text files, hello .pfx file must be converted into a base64 string.</span></span> <span data-ttu-id="91359-165">Dessa forma pode ser incluído como um parâmetro de modelo de saudação.</span><span class="sxs-lookup"><span data-stu-id="91359-165">This way it can be included as a parameter of hello template.</span></span>

<span data-ttu-id="91359-166">Use Olá PowerShell trecho de código a seguir:</span><span class="sxs-lookup"><span data-stu-id="91359-166">Use hello following PowerShell code snippet to:</span></span>

* <span data-ttu-id="91359-167">Criar um certificado autoassinado.</span><span class="sxs-lookup"><span data-stu-id="91359-167">Generate a self-signed certificate.</span></span>
* <span data-ttu-id="91359-168">Exporte certificado hello como um arquivo. pfx.</span><span class="sxs-lookup"><span data-stu-id="91359-168">Export hello certificate as a .pfx file.</span></span>
* <span data-ttu-id="91359-169">Converta o arquivo. pfx de saudação em uma cadeia de caracteres codificada em base64.</span><span class="sxs-lookup"><span data-stu-id="91359-169">Convert hello .pfx file into a base64-encoded string.</span></span>
* <span data-ttu-id="91359-170">Salve arquivo separado do tooa Olá cadeia de caracteres codificada em base64.</span><span class="sxs-lookup"><span data-stu-id="91359-170">Save hello base64-encoded string tooa separate file.</span></span> 

<span data-ttu-id="91359-171">Esse código do PowerShell para codificação base64 foi adaptado Olá [PowerShell scripts blog][examplebase64encoding]:</span><span class="sxs-lookup"><span data-stu-id="91359-171">This PowerShell code for base64 encoding was adapted from hello [PowerShell scripts blog][examplebase64encoding]:</span></span>

        $certificate = New-SelfSignedCertificate -certstorelocation cert:\localmachine\my -dnsname "*.internal-contoso.com","*.scm.internal-contoso.com"

        $certThumbprint = "cert:\localMachine\my\" + $certificate.Thumbprint
        $password = ConvertTo-SecureString -String "CHANGETHISPASSWORD" -Force -AsPlainText

        $fileName = "exportedcert.pfx"
        Export-PfxCertificate -cert $certThumbprint -FilePath $fileName -Password $password     

        $fileContentBytes = get-content -encoding byte $fileName
        $fileContentEncoded = [System.Convert]::ToBase64String($fileContentBytes)
        $fileContentEncoded | set-content ($fileName + ".b64")

<span data-ttu-id="91359-172">Após certificado SSL da saudação é gerado com êxito e convertido tooa cadeia de caracteres codificada em base64, use o modelo de Gerenciador de recursos do exemplo hello [certificado SSL configurar saudação padrão] [ quickstartconfiguressl] no GitHub.</span><span class="sxs-lookup"><span data-stu-id="91359-172">After hello SSL certificate is successfully generated and converted tooa base64-encoded string, use hello example Resource Manager template [Configure hello default SSL certificate][quickstartconfiguressl] on GitHub.</span></span> 

<span data-ttu-id="91359-173">Olá parâmetros em Olá *azuredeploy.parameters.json* arquivo estão listados aqui:</span><span class="sxs-lookup"><span data-stu-id="91359-173">hello parameters in hello *azuredeploy.parameters.json* file are listed here:</span></span>

* <span data-ttu-id="91359-174">*appServiceEnvironmentName*: nome de saudação do hello ASE ILB que está sendo configurado.</span><span class="sxs-lookup"><span data-stu-id="91359-174">*appServiceEnvironmentName*: hello name of hello ILB ASE being configured.</span></span>
* <span data-ttu-id="91359-175">*existingAseLocation*: cadeia de caracteres de texto contendo Olá região do Azure onde hello ASE ILB foi implantado.</span><span class="sxs-lookup"><span data-stu-id="91359-175">*existingAseLocation*: Text string containing hello Azure region where hello ILB ASE was deployed.</span></span>  <span data-ttu-id="91359-176">Por exemplo, "Centro-Sul dos EUA".</span><span class="sxs-lookup"><span data-stu-id="91359-176">For example: "South Central US".</span></span>
* <span data-ttu-id="91359-177">*pfxBlobString*: Olá representação de cadeia de caracteres codificada based64 do arquivo. pfx de saudação.</span><span class="sxs-lookup"><span data-stu-id="91359-177">*pfxBlobString*: hello based64-encoded string representation of hello .pfx file.</span></span> <span data-ttu-id="91359-178">Use o trecho de código Olá mostrado anteriormente e copie a cadeia de caracteres de saudação contida em "exportedcert.pfx.b64".</span><span class="sxs-lookup"><span data-stu-id="91359-178">Use hello code snippet shown earlier and copy hello string contained in "exportedcert.pfx.b64".</span></span> <span data-ttu-id="91359-179">Cole-o como valor de saudação do hello *pfxBlobString* atributo.</span><span class="sxs-lookup"><span data-stu-id="91359-179">Paste it in as hello value of hello *pfxBlobString* attribute.</span></span>
* <span data-ttu-id="91359-180">*senha*: arquivo. pfx do hello senha usada toosecure hello.</span><span class="sxs-lookup"><span data-stu-id="91359-180">*password*: hello password used toosecure hello .pfx file.</span></span>
* <span data-ttu-id="91359-181">*certificateThumbprint*: Olá a impressão digital do certificado.</span><span class="sxs-lookup"><span data-stu-id="91359-181">*certificateThumbprint*: hello certificate's thumbprint.</span></span> <span data-ttu-id="91359-182">Se você recuperar esse valor do PowerShell (por exemplo, *$certificate. Impressão digital* de saudação trecho de código anterior), você pode usar o valor hello como está.</span><span class="sxs-lookup"><span data-stu-id="91359-182">If you retrieve this value from PowerShell (for example, *$certificate.Thumbprint* from hello earlier code snippet), you can use hello value as is.</span></span> <span data-ttu-id="91359-183">Se você copiar o valor de saudação da caixa de diálogo do certificado de Windows hello, lembre-se toostrip out espaços estranhos hello.</span><span class="sxs-lookup"><span data-stu-id="91359-183">If you copy hello value from hello Windows certificate dialog box, remember toostrip out hello extraneous spaces.</span></span> <span data-ttu-id="91359-184">Olá *certificateThumbprint* deve ser algo como AF3143EB61D43F6727842115BB7F17BBCECAECAE.</span><span class="sxs-lookup"><span data-stu-id="91359-184">hello *certificateThumbprint* should look something like  AF3143EB61D43F6727842115BB7F17BBCECAECAE.</span></span>
* <span data-ttu-id="91359-185">*certificateName*: um identificador de cadeia de caracteres amigável de sua escolha usado tooidentity certificado de saudação.</span><span class="sxs-lookup"><span data-stu-id="91359-185">*certificateName*: A friendly string identifier of your own choosing used tooidentity hello certificate.</span></span> <span data-ttu-id="91359-186">nome de saudação é usado como parte do identificador de Gerenciador de recursos exclusivo Olá para Olá *Microsoft.Web/certificates* entidade que representa o certificado SSL de saudação.</span><span class="sxs-lookup"><span data-stu-id="91359-186">hello name is used as part of hello unique Resource Manager identifier for hello *Microsoft.Web/certificates* entity that represents hello SSL certificate.</span></span> <span data-ttu-id="91359-187">nome da saudação *deve* terminar com hello sufixo a seguir: \_yourASENameHere_InternalLoadBalancingASE.</span><span class="sxs-lookup"><span data-stu-id="91359-187">hello name *must* end with hello following suffix: \_yourASENameHere_InternalLoadBalancingASE.</span></span> <span data-ttu-id="91359-188">Olá portal do Azure usa esse sufixo como um indicador que Olá certificado é usado toosecure uma ASE ILB habilitado.</span><span class="sxs-lookup"><span data-stu-id="91359-188">hello Azure portal uses this suffix as an indicator that hello certificate is used toosecure an ILB-enabled ASE.</span></span>

<span data-ttu-id="91359-189">Um exemplo abreviado de *azuredeploy.parameters.json* é mostrado aqui:</span><span class="sxs-lookup"><span data-stu-id="91359-189">An abbreviated example of *azuredeploy.parameters.json* is shown here:</span></span>

    {
         "$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentParameters.json",
         "contentVersion": "1.0.0.0",
         "parameters": {
              "appServiceEnvironmentName": {
                   "value": "yourASENameHere"
              },
              "existingAseLocation": {
                   "value": "East US 2"
              },
              "pfxBlobString": {
                   "value": "MIIKcAIBAz...snip...snip...pkCAgfQ"
              },
              "password": {
                   "value": "PASSWORDGOESHERE"
              },
              "certificateThumbprint": {
                   "value": "AF3143EB61D43F6727842115BB7F17BBCECAECAE"
              },
              "certificateName": {
                   "value": "DefaultCertificateFor_yourASENameHere_InternalLoadBalancingASE"
              }
         }
    }

<span data-ttu-id="91359-190">Depois de saudação *azuredeploy.parameters.json* arquivo é preenchido, configure o certificado SSL saudação padrão usando o trecho de código do PowerShell hello.</span><span class="sxs-lookup"><span data-stu-id="91359-190">After hello *azuredeploy.parameters.json* file is filled in, configure hello default SSL certificate by using hello PowerShell code snippet.</span></span> <span data-ttu-id="91359-191">Alterar Olá toomatch de caminhos de arquivo onde os arquivos de modelo do Gerenciador de recursos de saudação estão localizados em seu computador.</span><span class="sxs-lookup"><span data-stu-id="91359-191">Change hello file paths toomatch where hello Resource Manager template files are located on your machine.</span></span> <span data-ttu-id="91359-192">Lembre-se de toosupply seus próprios valores para nome de implantação do Gerenciador de recursos de saudação e o nome do grupo de recursos de saudação:</span><span class="sxs-lookup"><span data-stu-id="91359-192">Remember toosupply your own values for hello Resource Manager deployment name and hello resource group name:</span></span>

     $templatePath="PATH\azuredeploy.json"
     $parameterPath="PATH\azuredeploy.parameters.json"

     New-AzureRmResourceGroupDeployment -Name "CHANGEME" -ResourceGroupName "YOUR-RG-NAME-HERE" -TemplateFile $templatePath -TemplateParameterFile $parameterPath

<span data-ttu-id="91359-193">Leva cerca de 40 minutos por alteração de saudação do ASE front-end tooapply.</span><span class="sxs-lookup"><span data-stu-id="91359-193">It takes roughly 40 minutes per ASE front end tooapply hello change.</span></span> <span data-ttu-id="91359-194">Por exemplo, para uma ASE tamanho padrão que usa dois front-ends, modelo Olá leva em torno de uma hora e toocomplete de 20 minutos.</span><span class="sxs-lookup"><span data-stu-id="91359-194">For example, for a default-sized ASE that uses two front ends, hello template takes around one hour and 20 minutes toocomplete.</span></span> <span data-ttu-id="91359-195">Durante a execução, o modelo de Olá Olá ASE não pode ser dimensionados.</span><span class="sxs-lookup"><span data-stu-id="91359-195">While hello template is running, hello ASE can't scale.</span></span>  

<span data-ttu-id="91359-196">Após a conclusão do modelo hello, aplicativos em Olá ASE ILB podem ser acessados via HTTPS.</span><span class="sxs-lookup"><span data-stu-id="91359-196">After hello template finishes, apps on hello ILB ASE can be accessed over HTTPS.</span></span> <span data-ttu-id="91359-197">Olá conexões são protegidas usando o certificado SSL saudação padrão.</span><span class="sxs-lookup"><span data-stu-id="91359-197">hello connections are secured by using hello default SSL certificate.</span></span> <span data-ttu-id="91359-198">certificado SSL saudação padrão é usado quando aplicativos Olá ASE ILB são endereçados usando uma combinação do nome do aplicativo hello além do nome de host padrão hello.</span><span class="sxs-lookup"><span data-stu-id="91359-198">hello default SSL certificate is used when apps on hello ILB ASE are addressed by using a combination of hello application name plus hello default host name.</span></span> <span data-ttu-id="91359-199">Por exemplo, https://mycustomapp.internal-contoso.com usa o certificado SSL saudação padrão para **.internal contoso.com*.</span><span class="sxs-lookup"><span data-stu-id="91359-199">For example, https://mycustomapp.internal-contoso.com uses hello default SSL certificate for **.internal-contoso.com*.</span></span>

<span data-ttu-id="91359-200">No entanto, assim como os aplicativos que são executados no serviço de multilocatário pública hello, os desenvolvedores podem configurar os nomes de host personalizados para aplicativos individuais.</span><span class="sxs-lookup"><span data-stu-id="91359-200">However, just like apps that run on hello public multitenant service, developers can configure custom host names for individual apps.</span></span> <span data-ttu-id="91359-201">Eles também podem configurar associações de certificado SSL SNI exclusivas para aplicativos individuais.</span><span class="sxs-lookup"><span data-stu-id="91359-201">They also can configure unique SNI SSL certificate bindings for individual apps.</span></span>

## <a name="app-service-environment-v1"></a><span data-ttu-id="91359-202">Ambiente do Serviço de Aplicativo v1</span><span class="sxs-lookup"><span data-stu-id="91359-202">App Service Environment v1</span></span> ##
<span data-ttu-id="91359-203">O Ambiente do Serviço de Aplicativo tem duas versões: ASEv1 e ASEv2.</span><span class="sxs-lookup"><span data-stu-id="91359-203">App Service Environment has two versions: ASEv1 and ASEv2.</span></span> <span data-ttu-id="91359-204">Olá informações anteriores foi baseado em ASEv2.</span><span class="sxs-lookup"><span data-stu-id="91359-204">hello preceding information was based on ASEv2.</span></span> <span data-ttu-id="91359-205">Este mostra seção Olá diferenças entre ASEv1 e ASEv2.</span><span class="sxs-lookup"><span data-stu-id="91359-205">This section shows you hello differences between ASEv1 and ASEv2.</span></span>

<span data-ttu-id="91359-206">Em ASEv1, você gerencia todos os recursos de saudação manualmente.</span><span class="sxs-lookup"><span data-stu-id="91359-206">In ASEv1, you manage all of hello resources manually.</span></span> <span data-ttu-id="91359-207">Isso inclui front-ends hello, funcionários e endereços IP usados para SSL baseado em IP.</span><span class="sxs-lookup"><span data-stu-id="91359-207">That includes hello front ends, workers, and IP addresses used for IP-based SSL.</span></span> <span data-ttu-id="91359-208">Antes de você pode dimensionar seu plano de serviço de aplicativo, você deve expandir pool do trabalhador Olá que você deseja toohost-lo.</span><span class="sxs-lookup"><span data-stu-id="91359-208">Before you can scale out your App Service plan, you must scale out hello worker pool that you want toohost it.</span></span>

<span data-ttu-id="91359-209">O ASEv1 usa um modelo de preço diferente do ASEv2.</span><span class="sxs-lookup"><span data-stu-id="91359-209">ASEv1 uses a different pricing model from ASEv2.</span></span> <span data-ttu-id="91359-210">No ASEv1, você paga por cada núcleo alocado.</span><span class="sxs-lookup"><span data-stu-id="91359-210">In ASEv1, you pay for each core allocated.</span></span> <span data-ttu-id="91359-211">Isso inclui os núcleos que são usados para front-ends ou funções de trabalho que não hospedam nenhuma carga de trabalho.</span><span class="sxs-lookup"><span data-stu-id="91359-211">That includes cores that are used for front ends or workers that aren't hosting any workloads.</span></span> <span data-ttu-id="91359-212">Em ASEv1, tamanho de máximo escala saudação padrão de uma ASE é 55 total de hosts.</span><span class="sxs-lookup"><span data-stu-id="91359-212">In ASEv1, hello default maximum-scale size of an ASE is 55 total hosts.</span></span> <span data-ttu-id="91359-213">Isso inclui funções de trabalho e front-ends.</span><span class="sxs-lookup"><span data-stu-id="91359-213">That includes workers and front ends.</span></span> <span data-ttu-id="91359-214">Um tooASEv1 de vantagem é que ele pode ser implantado em uma rede virtual clássica e uma rede virtual do Gerenciador de recursos.</span><span class="sxs-lookup"><span data-stu-id="91359-214">One advantage tooASEv1 is that it can be deployed in a classic virtual network and a Resource Manager virtual network.</span></span> <span data-ttu-id="91359-215">toolearn mais sobre ASEv1, consulte [introdução do ambiente de serviço de aplicativo v1][ASEv1Intro].</span><span class="sxs-lookup"><span data-stu-id="91359-215">toolearn more about ASEv1, see [App Service Environment v1 introduction][ASEv1Intro].</span></span>

<span data-ttu-id="91359-216">toocreate um ASEv1 usando um modelo do Gerenciador de recursos, consulte [criar um v1 ASE ILB com um modelo do Gerenciador de recursos][ILBASEv1Template].</span><span class="sxs-lookup"><span data-stu-id="91359-216">toocreate an ASEv1 by using a Resource Manager template, see [Create an ILB ASE v1 with a Resource Manager template][ILBASEv1Template].</span></span>


<!--Links-->
[quickstartilbasecreate]: http://azure.microsoft.com/documentation/templates/201-web-app-asev2-ilb-create
[quickstartasev2create]: http://azure.microsoft.com/documentation/templates/201-web-app-asev2-create
[quickstartconfiguressl]: http://azure.microsoft.com/documentation/templates/201-web-app-ase-ilb-configure-default-ssl
[quickstartwebapponasev2create]: http://azure.microsoft.com/documentation/templates/201-web-app-asp-app-on-asev2-create
[examplebase64encoding]: http://powershellscripts.blogspot.com/2007/02/base64-encode-file.html 
[configuringDefaultSSLCertificate]: https://azure.microsoft.com/documentation/templates/201-web-app-ase-ilb-configure-default-ssl/
[Intro]: ./intro.md
[MakeExternalASE]: ./create-external-ase.md
[MakeASEfromTemplate]: ./create-from-template.md
[MakeILBASE]: ./create-ilb-ase.md
[ASENetwork]: ./network-info.md
[ASEReadme]: ./readme.md
[UsingASE]: ./using-an-ase.md
[UDRs]: ../../virtual-network/virtual-networks-udr-overview.md
[NSGs]: ../../virtual-network/virtual-networks-nsg.md
[ConfigureASEv1]: ../../app-service-web/app-service-web-configure-an-app-service-environment.md
[ASEv1Intro]: ../../app-service-web/app-service-app-service-environment-intro.md
[webapps]: ../../app-service-web/app-service-web-overview.md
[mobileapps]: ../../app-service-mobile/app-service-mobile-value-prop.md
[APIapps]: ../../app-service-api/app-service-api-apps-why-best-platform.md
[Functions]: ../../azure-functions/index.yml
[Pricing]: http://azure.microsoft.com/pricing/details/app-service/
[ARMOverview]: ../../azure-resource-manager/resource-group-overview.md
[ConfigureSSL]: ../../app-service-web/web-sites-purchase-ssl-web-site.md
[Kudu]: http://azure.microsoft.com/resources/videos/super-secret-kudu-debug-console-for-azure-web-sites/
[AppDeploy]: ../../app-service-web/web-sites-deploy.md
[ASEWAF]: ../../app-service-web/app-service-app-service-environment-web-application-firewall.md
[AppGW]: ../../application-gateway/application-gateway-web-application-firewall-overview.md
[ILBASEv1Template]: ../../app-service-web/app-service-app-service-environment-create-ilb-ase-resourcemanager.md
