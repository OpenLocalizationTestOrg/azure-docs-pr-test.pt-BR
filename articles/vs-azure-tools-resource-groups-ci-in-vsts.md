---
title: "integração de aaaContinuous no VS Team Services usando projetos de grupo de recursos do Azure | Microsoft Docs"
description: "Descreve como tooset a integração contínua no Visual Studio Team Services usando a implantação do grupo de recursos do Azure projetos no Visual Studio."
services: visual-studio-online
documentationcenter: na
author: mlearned
manager: erickson-doug
editor: 
ms.assetid: b81c172a-be87-4adc-861e-d20b94be9e38
ms.service: azure-resource-manager
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/01/2016
ms.author: mlearned
ms.openlocfilehash: 0fe4a4b8989ee323e8ef2206fa4ebed503025670
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="continuous-integration-in-visual-studio-team-services-using-azure-resource-group-deployment-projects"></a><span data-ttu-id="5a58c-103">Integração contínua no Visual Studio Team Services usando os projetos de implantação do Grupo de recursos do Azure</span><span class="sxs-lookup"><span data-stu-id="5a58c-103">Continuous integration in Visual Studio Team Services using Azure Resource Group deployment projects</span></span>
<span data-ttu-id="5a58c-104">toodeploy um modelo do Azure, você executar tarefas em vários estágios: Crie, teste, tooAzure de cópia (também chamado de "Preparação") e implantar o modelo.</span><span class="sxs-lookup"><span data-stu-id="5a58c-104">toodeploy an Azure template, you perform tasks in various stages: Build, Test, Copy tooAzure (also called "Staging"), and Deploy Template.</span></span> <span data-ttu-id="5a58c-105">Há duas maneiras diferentes toodeploy modelos tooVisual Studio Team Services (VS Team Services).</span><span class="sxs-lookup"><span data-stu-id="5a58c-105">There are two different ways toodeploy templates tooVisual Studio Team Services (VS Team Services).</span></span> <span data-ttu-id="5a58c-106">Ambos os métodos fornecem Olá mesmos resultados, portanto escolha Olá que melhor se adapta o fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="5a58c-106">Both methods provide hello same results, so choose hello one that best fits your workflow.</span></span>

1. <span data-ttu-id="5a58c-107">Adicione uma definição de compilação de tooyour única etapa que executa o script do PowerShell Olá que está incluído no projeto de implantação do grupo de recursos do Azure hello (implantar AzureResourceGroup.ps1).</span><span class="sxs-lookup"><span data-stu-id="5a58c-107">Add a single step tooyour build definition that runs hello PowerShell script that’s included in hello Azure Resource Group deployment project (Deploy-AzureResourceGroup.ps1).</span></span> <span data-ttu-id="5a58c-108">script Hello copia artefatos e depois implanta o modelo de saudação.</span><span class="sxs-lookup"><span data-stu-id="5a58c-108">hello script copies artifacts and then deploys hello template.</span></span>
2. <span data-ttu-id="5a58c-109">Adicione várias etapas de compilação do VS Team Services, cada uma executando uma tarefa do estágio.</span><span class="sxs-lookup"><span data-stu-id="5a58c-109">Add multiple VS Team Services build steps, each one performing a stage task.</span></span>

<span data-ttu-id="5a58c-110">Este artigo demonstra ambas as opções.</span><span class="sxs-lookup"><span data-stu-id="5a58c-110">This article demonstrates both options.</span></span> <span data-ttu-id="5a58c-111">opção primeira Olá tem a vantagem de saudação de usando Olá mesmo script usado por desenvolvedores do Visual Studio e fornecer consistência em todo o ciclo de vida de saudação.</span><span class="sxs-lookup"><span data-stu-id="5a58c-111">hello first option has hello advantage of using hello same script used by developers in Visual Studio and providing consistency throughout hello lifecycle.</span></span> <span data-ttu-id="5a58c-112">opção de segundo Olá oferece um script interno toohello alternativa conveniente.</span><span class="sxs-lookup"><span data-stu-id="5a58c-112">hello second option offers a convenient alternative toohello built-in script.</span></span> <span data-ttu-id="5a58c-113">Ambos os procedimentos supõem que você já tem um projeto de implantação do Visual Studio no VS Team Services.</span><span class="sxs-lookup"><span data-stu-id="5a58c-113">Both procedures assume you already have a Visual Studio deployment project checked into VS Team Services.</span></span>

## <a name="copy-artifacts-tooazure"></a><span data-ttu-id="5a58c-114">Copiar artefatos tooAzure</span><span class="sxs-lookup"><span data-stu-id="5a58c-114">Copy artifacts tooAzure</span></span>
<span data-ttu-id="5a58c-115">Independentemente de cenário hello, se você tiver quaisquer artefatos necessários para a implantação de modelo, você deve atribuir toothem de acesso do Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="5a58c-115">Regardless of hello scenario, if you have any artifacts that are needed for template deployment, you must give Azure Resource Manager access toothem.</span></span> <span data-ttu-id="5a58c-116">Esses artefatos podem incluir arquivos como:</span><span class="sxs-lookup"><span data-stu-id="5a58c-116">These artifacts can include files such as:</span></span>

* <span data-ttu-id="5a58c-117">Modelos aninhados</span><span class="sxs-lookup"><span data-stu-id="5a58c-117">Nested templates</span></span>
* <span data-ttu-id="5a58c-118">Scripts de configuração e scripts DSC</span><span class="sxs-lookup"><span data-stu-id="5a58c-118">Configuration scripts and DSC scripts</span></span>
* <span data-ttu-id="5a58c-119">Binários do aplicativo</span><span class="sxs-lookup"><span data-stu-id="5a58c-119">Application binaries</span></span>

### <a name="nested-templates-and-configuration-scripts"></a><span data-ttu-id="5a58c-120">Modelos aninhados e scripts de configuração</span><span class="sxs-lookup"><span data-stu-id="5a58c-120">Nested Templates and Configuration Scripts</span></span>
<span data-ttu-id="5a58c-121">Quando você usa modelos de saudação fornecidos pelo Visual Studio (ou criado com trechos de código do Visual Studio), Olá script do PowerShell não apenas prepara artefatos hello, ele também parametriza hello URI para recursos de saudação de diferentes implantações.</span><span class="sxs-lookup"><span data-stu-id="5a58c-121">When you use hello templates provided by Visual Studio (or built with Visual Studio snippets), hello PowerShell script not only stages hello artifacts, it also parameterizes hello URI for hello resources for different deployments.</span></span> <span data-ttu-id="5a58c-122">script Hello, em seguida, copia Olá artefatos tooa seguras de contêiner no Azure, cria um token SaS para o contêiner e, em seguida, transmite essas informações na implantação de modelo toohello.</span><span class="sxs-lookup"><span data-stu-id="5a58c-122">hello script then copies hello artifacts tooa secure container in Azure, creates a SaS token for that container, and then passes that information on toohello template deployment.</span></span> <span data-ttu-id="5a58c-123">Consulte [criar uma implantação de modelo](https://msdn.microsoft.com/library/azure/dn790564.aspx) toolearn mais sobre modelos de aninhados.</span><span class="sxs-lookup"><span data-stu-id="5a58c-123">See [Create a template deployment](https://msdn.microsoft.com/library/azure/dn790564.aspx) toolearn more about nested templates.</span></span>  <span data-ttu-id="5a58c-124">Ao usar tarefas em VS Team Services, você deve selecionar tarefas apropriadas Olá para sua implantação de modelo e se necessário, passar valores de parâmetro de saudação etapa toohello modelo implantação de preparo.</span><span class="sxs-lookup"><span data-stu-id="5a58c-124">When using tasks in VS Team Services, you must select hello appropriate tasks for your template deployment and if necessary, pass parameter values from hello staging step toohello template deployment.</span></span>

## <a name="set-up-continuous-deployment-in-vs-team-services"></a><span data-ttu-id="5a58c-125">Configurar a implantação contínua no VS Team Services</span><span class="sxs-lookup"><span data-stu-id="5a58c-125">Set up continuous deployment in VS Team Services</span></span>
<span data-ttu-id="5a58c-126">script do PowerShell toocall Olá no VS Team Services, você precisa tooupdate sua definição de compilação.</span><span class="sxs-lookup"><span data-stu-id="5a58c-126">toocall hello PowerShell script in VS Team Services, you need tooupdate your build definition.</span></span> <span data-ttu-id="5a58c-127">Em suma, etapas de saudação são:</span><span class="sxs-lookup"><span data-stu-id="5a58c-127">In brief, hello steps are:</span></span> 

1. <span data-ttu-id="5a58c-128">Edite definição de compilação de saudação.</span><span class="sxs-lookup"><span data-stu-id="5a58c-128">Edit hello build definition.</span></span>
2. <span data-ttu-id="5a58c-129">Configurar a autorização do Azure no VS Team Services.</span><span class="sxs-lookup"><span data-stu-id="5a58c-129">Set up Azure authorization in VS Team Services.</span></span>
3. <span data-ttu-id="5a58c-130">Adicione uma etapa de compilação do PowerShell do Azure que referencia o script do PowerShell Olá no projeto de implantação do grupo de recursos do Azure hello.</span><span class="sxs-lookup"><span data-stu-id="5a58c-130">Add an Azure PowerShell build step that references hello PowerShell script in hello Azure Resource Group deployment project.</span></span>
4. <span data-ttu-id="5a58c-131">Definir valor Olá Olá *- ArtifactsStagingDirectory* toowork de parâmetro com um projeto criado no VS Team Services.</span><span class="sxs-lookup"><span data-stu-id="5a58c-131">Set hello value of hello *-ArtifactsStagingDirectory* parameter toowork with a project built in VS Team Services.</span></span>

### <a name="detailed-walkthrough-for-option-1"></a><span data-ttu-id="5a58c-132">Passo a passo detalhado da Opção 1</span><span class="sxs-lookup"><span data-stu-id="5a58c-132">Detailed walkthrough for Option 1</span></span>
<span data-ttu-id="5a58c-133">Olá procedimentos a seguir orientam você durante implantação contínua do hello etapas tooconfigure necessárias no VS Team Services usando uma única tarefa que executa o script do PowerShell Olá em seu projeto.</span><span class="sxs-lookup"><span data-stu-id="5a58c-133">hello following procedures walk you through hello steps necessary tooconfigure continuous deployment in VS Team Services using a single task that runs hello PowerShell script in your project.</span></span> 

1. <span data-ttu-id="5a58c-134">Edite sua definição de compilação do VS Team Services e adicione uma etapa de compilação do Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="5a58c-134">Edit your VS Team Services build definition and add an Azure PowerShell build step.</span></span> <span data-ttu-id="5a58c-135">Escolha a definição de compilação de saudação em Olá **definições de compilação** categoria e, em seguida, escolha Olá **editar** link.</span><span class="sxs-lookup"><span data-stu-id="5a58c-135">Choose hello build definition under hello **Build definitions** category and then choose hello **Edit** link.</span></span>
   
   ![Editar a definição de build][0]
2. <span data-ttu-id="5a58c-137">Adicionar um novo **Azure PowerShell** definição de compilação de toohello de etapa de compilação e, em seguida, escolha Olá **adicionar a etapa de compilação...**</span><span class="sxs-lookup"><span data-stu-id="5a58c-137">Add a new **Azure PowerShell** build step toohello build definition and then choose hello **Add build step…**</span></span> <span data-ttu-id="5a58c-138">.</span><span class="sxs-lookup"><span data-stu-id="5a58c-138">button.</span></span>
   
   ![Adicionar etapa de build][1]
3. <span data-ttu-id="5a58c-140">Escolha Olá **tarefa de implantar** categoria, selecione Olá **Azure PowerShell** de tarefas e, em seguida, escolha seu **adicionar** botão.</span><span class="sxs-lookup"><span data-stu-id="5a58c-140">Choose hello **Deploy task** category, select hello **Azure PowerShell** task, and then choose its **Add** button.</span></span>
   
   ![Adicionar tarefas][2]
4. <span data-ttu-id="5a58c-142">Escolha Olá **Azure PowerShell** passo de compilação e, em seguida, preencha seus valores.</span><span class="sxs-lookup"><span data-stu-id="5a58c-142">Choose hello **Azure PowerShell** build step and then fill in its values.</span></span>
   
   1. <span data-ttu-id="5a58c-143">Se você já tiver um ponto de extremidade de serviço do Azure adicionada tooVS Team Services, escolha a assinatura de saudação em Olá **assinatura do Azure** caixa de listagem suspensa e, em seguida, ignorar toohello próxima seção.</span><span class="sxs-lookup"><span data-stu-id="5a58c-143">If you already have an Azure service endpoint added tooVS Team Services, choose hello subscription in hello **Azure Subscription** drop-down list box and then skip toohello next section.</span></span> 
      
      <span data-ttu-id="5a58c-144">Se você não tiver um ponto de extremidade de serviço do Azure no VS Team Services, será necessário tooadd um.</span><span class="sxs-lookup"><span data-stu-id="5a58c-144">If you don’t have an Azure service endpoint in VS Team Services, you need tooadd one.</span></span> <span data-ttu-id="5a58c-145">Esta subseção leva você através do processo de saudação.</span><span class="sxs-lookup"><span data-stu-id="5a58c-145">This subsection takes you through hello process.</span></span> <span data-ttu-id="5a58c-146">Se sua conta do Azure usa uma conta da Microsoft (por exemplo, Hotmail), você deve tomar Olá tooget as etapas a seguir uma entidade de serviço de autenticação.</span><span class="sxs-lookup"><span data-stu-id="5a58c-146">If your Azure account uses a Microsoft account (such as Hotmail), you must take hello following steps tooget a Service Principal authentication.</span></span>
   2. <span data-ttu-id="5a58c-147">Escolha Olá **gerenciar** link próximo toohello **assinatura do Azure** caixa de listagem suspensa.</span><span class="sxs-lookup"><span data-stu-id="5a58c-147">Choose hello **Manage** link next toohello **Azure Subscription** drop-down list box.</span></span>
      
      ![Gerenciar assinaturas do Azure][3]
   3. <span data-ttu-id="5a58c-149">Escolha **Azure** em Olá **novo ponto de extremidade de serviço** caixa de listagem suspensa.</span><span class="sxs-lookup"><span data-stu-id="5a58c-149">Choose **Azure** in hello **New Service Endpoint** drop-down list box.</span></span>
      
      ![Novo ponto de extremidade de serviço][4]
   4. <span data-ttu-id="5a58c-151">Em Olá **Adicionar assinatura do Azure** caixa de diálogo, selecione Olá **entidade de serviço** opção.</span><span class="sxs-lookup"><span data-stu-id="5a58c-151">In hello **Add Azure Subscription** dialog box, select hello **Service Principal** option.</span></span>
      
      ![Opção da entidade de serviço][5]
   5. <span data-ttu-id="5a58c-153">Adicionar seu toohello de informações de assinatura do Azure **Adicionar assinatura do Azure** caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="5a58c-153">Add your Azure subscription information toohello **Add Azure Subscription** dialog box.</span></span> <span data-ttu-id="5a58c-154">Você precisa Olá tooprovide itens a seguir:</span><span class="sxs-lookup"><span data-stu-id="5a58c-154">You need tooprovide hello following items:</span></span>
      
      * <span data-ttu-id="5a58c-155">ID da assinatura</span><span class="sxs-lookup"><span data-stu-id="5a58c-155">Subscription Id</span></span>
      * <span data-ttu-id="5a58c-156">Nome da assinatura</span><span class="sxs-lookup"><span data-stu-id="5a58c-156">Subscription Name</span></span>
      * <span data-ttu-id="5a58c-157">Id da Entidade de serviço</span><span class="sxs-lookup"><span data-stu-id="5a58c-157">Service Principal Id</span></span>
      * <span data-ttu-id="5a58c-158">Chave da Entidade de serviço</span><span class="sxs-lookup"><span data-stu-id="5a58c-158">Service Principal Key</span></span>
      * <span data-ttu-id="5a58c-159">ID do locatário</span><span class="sxs-lookup"><span data-stu-id="5a58c-159">Tenant Id</span></span>
   6. <span data-ttu-id="5a58c-160">Adicionar um nome de sua escolha toohello **assinatura** caixa nome.</span><span class="sxs-lookup"><span data-stu-id="5a58c-160">Add a name of your choice toohello **Subscription** name box.</span></span> <span data-ttu-id="5a58c-161">Esse valor é exibida posteriormente no hello **assinatura do Azure** lista suspensa no VS Team Services.</span><span class="sxs-lookup"><span data-stu-id="5a58c-161">This value appears later in hello **Azure Subscription** drop-down list in VS Team Services.</span></span> 
   7. <span data-ttu-id="5a58c-162">Se você não souber a ID de assinatura do Azure, você pode usar uma saudação tooretrieve comandos a segui-lo.</span><span class="sxs-lookup"><span data-stu-id="5a58c-162">If you don’t know your Azure subscription ID, you can use one of hello following commands tooretrieve it.</span></span>
      
      <span data-ttu-id="5a58c-163">Para scripts do PowerShell, use:</span><span class="sxs-lookup"><span data-stu-id="5a58c-163">For PowerShell scripts, use:</span></span>
      
      `Get-AzureRmSubscription`
      
      <span data-ttu-id="5a58c-164">Para a CLI do Azure, use:</span><span class="sxs-lookup"><span data-stu-id="5a58c-164">For Azure CLI, use:</span></span>
      
      `azure account show`
   8. <span data-ttu-id="5a58c-165">tooget uma ID de entidade de serviço, chave de entidade de serviço e a ID de locatário, siga o procedimento Olá [entidade de serviço usando o portal e de aplicativo do Active Directory crie](resource-group-create-service-principal-portal.md) ou [autenticar uma entidade de serviço com Gerenciador de recursos do Azure](resource-group-authenticate-service-principal.md).</span><span class="sxs-lookup"><span data-stu-id="5a58c-165">tooget a Service Principal ID, Service Principal Key, and Tenant ID, follow hello procedure in [Create Active Directory application and service principal using portal](resource-group-create-service-principal-portal.md) or [Authenticating a service principal with Azure Resource Manager](resource-group-authenticate-service-principal.md).</span></span>
   9. <span data-ttu-id="5a58c-166">Adicionar Olá toohello de valores de ID de entidade de serviço, chave de entidade de serviço e ID de locatário **Adicionar assinatura do Azure** caixa de diálogo caixa e, em seguida, escolha Olá **Okey** botão.</span><span class="sxs-lookup"><span data-stu-id="5a58c-166">Add hello Service Principal ID, Service Principal Key, and Tenant ID values toohello **Add Azure Subscription** dialog box and then choose hello **OK** button.</span></span>
      
      <span data-ttu-id="5a58c-167">Agora você tem uma saudação de toorun toouse de entidade de serviço válido de script do PowerShell do Azure.</span><span class="sxs-lookup"><span data-stu-id="5a58c-167">You now have a valid Service Principal toouse toorun hello Azure PowerShell script.</span></span>
5. <span data-ttu-id="5a58c-168">Editar definição de compilação hello e escolha Olá **Azure PowerShell** passo de compilação.</span><span class="sxs-lookup"><span data-stu-id="5a58c-168">Edit hello build definition and choose hello **Azure PowerShell** build step.</span></span> <span data-ttu-id="5a58c-169">Selecione a assinatura de saudação em Olá **assinatura do Azure** caixa de listagem suspensa.</span><span class="sxs-lookup"><span data-stu-id="5a58c-169">Select hello subscription in hello **Azure Subscription** drop-down list box.</span></span> <span data-ttu-id="5a58c-170">(Se a assinatura de saudação não aparecer, escolha Olá **atualizar** Olá próximo botão **gerenciar** link.)</span><span class="sxs-lookup"><span data-stu-id="5a58c-170">(If hello subscription doesn't appear, choose hello **Refresh** button next hello **Manage** link.)</span></span> 
   
   ![Configurar tarefa de build do Azure PowerShell][8]
6. <span data-ttu-id="5a58c-172">Fornece um caminho toohello script do PowerShell AzureResourceGroup.ps1 implantar.</span><span class="sxs-lookup"><span data-stu-id="5a58c-172">Provide a path toohello Deploy-AzureResourceGroup.ps1 PowerShell script.</span></span> <span data-ttu-id="5a58c-173">toodo isso, escolha Olá reticências (...) botão próximo toohello **caminho de Script** caixa, navegue até o script de PowerShell implantar AzureResourceGroup.ps1 toohello em hello **Scripts** pasta do seu projeto, selecione-o, e, em seguida, escolha Olá **Okey** botão.</span><span class="sxs-lookup"><span data-stu-id="5a58c-173">toodo this, choose hello ellipsis (…) button next toohello **Script Path** box, navigate toohello Deploy-AzureResourceGroup.ps1 PowerShell script in hello **Scripts** folder of your project, select it, and then choose hello **OK** button.</span></span>    
   
   ![Selecione o caminho tooscript][9]
7. <span data-ttu-id="5a58c-175">Depois de selecionar o script hello, atualize o script de toohello de caminho de Olá para que ele é executado de saudação Build.StagingDirectory (Olá mesmo diretório que *ArtifactsLocation* é definido como).</span><span class="sxs-lookup"><span data-stu-id="5a58c-175">After you select hello script, update hello path toohello script so that it’s run from hello Build.StagingDirectory (hello same directory that *ArtifactsLocation* is set to).</span></span> <span data-ttu-id="5a58c-176">Você pode fazer isso adicionando "$(Build.StagingDirectory)/" toohello início do caminho do script hello.</span><span class="sxs-lookup"><span data-stu-id="5a58c-176">You can do this by adding “$(Build.StagingDirectory)/” toohello beginning of hello script path.</span></span>
   
    ![Editar tooscript de caminho][10]
8. <span data-ttu-id="5a58c-178">Em Olá **argumentos de Script** , digite Olá parâmetros (em uma única linha) a seguir.</span><span class="sxs-lookup"><span data-stu-id="5a58c-178">In hello **Script Arguments** box, enter hello following parameters (in a single line).</span></span> <span data-ttu-id="5a58c-179">Quando você executa o script hello no Visual Studio, você pode ver como usa VS Olá parâmetros em Olá **saída** janela.</span><span class="sxs-lookup"><span data-stu-id="5a58c-179">When you run hello script in Visual Studio, you can see how VS uses hello parameters in hello **Output** window.</span></span> <span data-ttu-id="5a58c-180">Você pode usar isso como um ponto de partida para definir valores de parâmetro de saudação em sua etapa de compilação.</span><span class="sxs-lookup"><span data-stu-id="5a58c-180">You can use this as a starting point for setting hello parameter values in your build step.</span></span>
   
   | <span data-ttu-id="5a58c-181">Parâmetro</span><span class="sxs-lookup"><span data-stu-id="5a58c-181">Parameter</span></span> | <span data-ttu-id="5a58c-182">Descrição</span><span class="sxs-lookup"><span data-stu-id="5a58c-182">Description</span></span> |
   | --- | --- |
   | <span data-ttu-id="5a58c-183">-ResourceGroupLocation</span><span class="sxs-lookup"><span data-stu-id="5a58c-183">-ResourceGroupLocation</span></span> |<span data-ttu-id="5a58c-184">Olá valor de localização geográfica onde está localizado, como o grupo de recursos Olá **eastus** ou **'Leste dos Estados Unidos'**.</span><span class="sxs-lookup"><span data-stu-id="5a58c-184">hello geo-location value where hello resource group is located, such as **eastus** or **'East US'**.</span></span> <span data-ttu-id="5a58c-185">(Adicionar aspas se houver um espaço no nome da saudação). Veja [Regiões do Azure](https://azure.microsoft.com/en-us/regions/) para saber mais.</span><span class="sxs-lookup"><span data-stu-id="5a58c-185">(Add single quotes if there's a space in hello name.) See [Azure Regions](https://azure.microsoft.com/en-us/regions/) for more information.</span></span> |
   | <span data-ttu-id="5a58c-186">-ResourceGroupName</span><span class="sxs-lookup"><span data-stu-id="5a58c-186">-ResourceGroupName</span></span> |<span data-ttu-id="5a58c-187">nome de Olá Olá do grupo de recursos usado para essa implantação.</span><span class="sxs-lookup"><span data-stu-id="5a58c-187">hello name of hello resource group used for this deployment.</span></span> |
   | <span data-ttu-id="5a58c-188">-UploadArtifacts</span><span class="sxs-lookup"><span data-stu-id="5a58c-188">-UploadArtifacts</span></span> |<span data-ttu-id="5a58c-189">Esse parâmetro, quando presente, especifica que os artefatos que precisam toobe carregado tooAzure do sistema local hello.</span><span class="sxs-lookup"><span data-stu-id="5a58c-189">This parameter, when present, specifies that artifacts that need toobe uploaded tooAzure from hello local system.</span></span> <span data-ttu-id="5a58c-190">Você só precisa tooset essa opção se sua implantação do modelo exigir artefatos adicionais que você deseja toostage usando script do PowerShell hello (como scripts de configuração ou modelos aninhados).</span><span class="sxs-lookup"><span data-stu-id="5a58c-190">You only need tooset this switch if your template deployment requires extra artifacts that you want toostage using hello PowerShell script (such as configuration scripts or nested templates).</span></span> |
   | <span data-ttu-id="5a58c-191">-StorageAccountName</span><span class="sxs-lookup"><span data-stu-id="5a58c-191">-StorageAccountName</span></span> |<span data-ttu-id="5a58c-192">nome de Olá Olá da conta de armazenamento usado toostage artefatos para essa implantação.</span><span class="sxs-lookup"><span data-stu-id="5a58c-192">hello name of hello storage account used toostage artifacts for this deployment.</span></span> <span data-ttu-id="5a58c-193">Esse parâmetro será usado somente se você estiver preparando artefatos para implantação.</span><span class="sxs-lookup"><span data-stu-id="5a58c-193">This parameter is only used if you are staging artifacts for deployment.</span></span> <span data-ttu-id="5a58c-194">Se esse parâmetro for fornecido, uma nova conta de armazenamento é criada se script hello não tiver criado uma durante uma implantação anterior.</span><span class="sxs-lookup"><span data-stu-id="5a58c-194">If this parameter is supplied, a new storage account is created if hello script has not created one during a previous deployment.</span></span> <span data-ttu-id="5a58c-195">Se o parâmetro hello for especificado, conta de armazenamento Olá já deve existir.</span><span class="sxs-lookup"><span data-stu-id="5a58c-195">If hello parameter is specified, hello storage account must already exist.</span></span> |
   | <span data-ttu-id="5a58c-196">-StorageAccountResourceGroupName</span><span class="sxs-lookup"><span data-stu-id="5a58c-196">-StorageAccountResourceGroupName</span></span> |<span data-ttu-id="5a58c-197">nome de Olá Olá do grupo de recursos associado à conta de armazenamento hello.</span><span class="sxs-lookup"><span data-stu-id="5a58c-197">hello name of hello resource group associated with hello storage account.</span></span> <span data-ttu-id="5a58c-198">Esse parâmetro é necessário somente se você fornecer um valor para o parâmetro de StorageAccountName hello.</span><span class="sxs-lookup"><span data-stu-id="5a58c-198">This parameter is required only if you provide a value for hello StorageAccountName parameter.</span></span> |
   | <span data-ttu-id="5a58c-199">-TemplateFile</span><span class="sxs-lookup"><span data-stu-id="5a58c-199">-TemplateFile</span></span> |<span data-ttu-id="5a58c-200">arquivo de modelo Olá caminho toohello no projeto de implantação do grupo de recursos do Azure hello.</span><span class="sxs-lookup"><span data-stu-id="5a58c-200">hello path toohello template file in hello Azure Resource Group deployment project.</span></span> <span data-ttu-id="5a58c-201">tooenhance flexibilidade, use um caminho para este parâmetro que é local relativo toohello de saudação script do PowerShell em vez de um caminho absoluto.</span><span class="sxs-lookup"><span data-stu-id="5a58c-201">tooenhance flexibility, use a path for this parameter that is relative toohello location of hello PowerShell script instead of an absolute path.</span></span> |
   | <span data-ttu-id="5a58c-202">-TemplateParametersFile</span><span class="sxs-lookup"><span data-stu-id="5a58c-202">-TemplateParametersFile</span></span> |<span data-ttu-id="5a58c-203">arquivo de parâmetros Olá caminho toohello no projeto de implantação do grupo de recursos do Azure hello.</span><span class="sxs-lookup"><span data-stu-id="5a58c-203">hello path toohello parameters file in hello Azure Resource Group deployment project.</span></span> <span data-ttu-id="5a58c-204">tooenhance flexibilidade, use um caminho para este parâmetro que é local relativo toohello de saudação script do PowerShell em vez de um caminho absoluto.</span><span class="sxs-lookup"><span data-stu-id="5a58c-204">tooenhance flexibility, use a path for this parameter that is relative toohello location of hello PowerShell script instead of an absolute path.</span></span> |
   | <span data-ttu-id="5a58c-205">-ArtifactStagingDirectory</span><span class="sxs-lookup"><span data-stu-id="5a58c-205">-ArtifactStagingDirectory</span></span> |<span data-ttu-id="5a58c-206">Esse parâmetro permite que o script do PowerShell Olá Saiba pasta Olá de onde os arquivos binários do projeto Olá devem ser copiados.</span><span class="sxs-lookup"><span data-stu-id="5a58c-206">This parameter lets hello PowerShell script know hello folder from where hello project’s binary files should be copied.</span></span> <span data-ttu-id="5a58c-207">Esse valor substitui o valor de padrão de saudação usado pelo Olá script do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="5a58c-207">This value overrides hello default value used by hello PowerShell script.</span></span> <span data-ttu-id="5a58c-208">Para usar o VS Team Services, defina o valor de saudação para: - ArtifactStagingDirectory $(Build.StagingDirectory)</span><span class="sxs-lookup"><span data-stu-id="5a58c-208">For VS Team Services use, set hello value to: -ArtifactStagingDirectory $(Build.StagingDirectory)</span></span> |
   
   <span data-ttu-id="5a58c-209">Veja a seguir um exemplo de argumentos de script (linha quebrada para facilitar a leitura):</span><span class="sxs-lookup"><span data-stu-id="5a58c-209">Here’s a script arguments example (line broken for readability):</span></span>
   
   ```    
   -ResourceGroupName 'MyGroup' -ResourceGroupLocation 'eastus' -TemplateFile '..\templates\azuredeploy.json' 
   -TemplateParametersFile '..\templates\azuredeploy.parameters.json' -UploadArtifacts -StorageAccountName 'mystorageacct' 
   –StorageAccountResourceGroupName 'Default-Storage-EastUS' -ArtifactStagingDirectory '$(Build.StagingDirectory)'    
   ```
   
   <span data-ttu-id="5a58c-210">Quando tiver terminado, Olá **argumentos de Script** caixa deve ser semelhante a saudação lista a seguir:</span><span class="sxs-lookup"><span data-stu-id="5a58c-210">When you’re finished, hello **Script Arguments** box should resemble hello following list:</span></span>
   
   ![Argumentos de script][11]
9. <span data-ttu-id="5a58c-212">Depois que você adicionou todos Olá toohello itens necessários passo de compilação do PowerShell do Azure, escolha Olá **fila** compilar o projeto de saudação do botão toobuild.</span><span class="sxs-lookup"><span data-stu-id="5a58c-212">After you’ve added all hello required items toohello Azure PowerShell build step, choose hello **Queue** build button toobuild hello project.</span></span> <span data-ttu-id="5a58c-213">Olá **criar** tela mostra a saída de saudação do hello script do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="5a58c-213">hello **Build** screen shows hello output from hello PowerShell script.</span></span>

### <a name="detailed-walkthrough-for-option-2"></a><span data-ttu-id="5a58c-214">Passo a passo detalhado da Opção 2</span><span class="sxs-lookup"><span data-stu-id="5a58c-214">Detailed walkthrough for Option 2</span></span>
<span data-ttu-id="5a58c-215">Olá procedimentos a seguir orientam você durante implantação contínua do hello etapas tooconfigure necessárias no VS Team Services usando tarefas internas hello.</span><span class="sxs-lookup"><span data-stu-id="5a58c-215">hello following procedures walk you through hello steps necessary tooconfigure continuous deployment in VS Team Services using hello built-in tasks.</span></span>

1. <span data-ttu-id="5a58c-216">Edite as VS Team Services compilação definição tooadd duas novas etapas de compilação.</span><span class="sxs-lookup"><span data-stu-id="5a58c-216">Edit your VS Team Services build definition tooadd two new build steps.</span></span> <span data-ttu-id="5a58c-217">Escolha a definição de compilação de saudação em Olá **definições de compilação** categoria e, em seguida, escolha Olá **editar** link.</span><span class="sxs-lookup"><span data-stu-id="5a58c-217">Choose hello build definition under hello **Build definitions** category and then choose hello **Edit** link.</span></span>
   
   ![Editar a definição de build][12]
2. <span data-ttu-id="5a58c-219">Saudação de adicionar novas etapas de compilação toohello definição de compilação usando Olá **adicionar a etapa de compilação...**</span><span class="sxs-lookup"><span data-stu-id="5a58c-219">Add hello new build steps toohello build definition using hello **Add build step…**</span></span> <span data-ttu-id="5a58c-220">.</span><span class="sxs-lookup"><span data-stu-id="5a58c-220">button.</span></span>
   
   ![Adicionar etapa de build][13]
3. <span data-ttu-id="5a58c-222">Escolha Olá **implantar** categoria da tarefa, selecione Olá **cópia de arquivo do Azure** de tarefas e, em seguida, escolha seu **adicionar** botão.</span><span class="sxs-lookup"><span data-stu-id="5a58c-222">Choose hello **Deploy** task category, select hello **Azure File Copy** task, and then choose its **Add** button.</span></span>
   
   ![tarefa Adicionar Cópias de Arquivos do Azure][14]
4. <span data-ttu-id="5a58c-224">Escolha Olá **implantação de grupo de recursos do Azure** de tarefas, em seguida, escolha seu **adicionar** botão e, em seguida, **fechar** Olá **tarefa catálogo**.</span><span class="sxs-lookup"><span data-stu-id="5a58c-224">Choose hello **Azure Resource Group Deployment** task, then choose its **Add** button and then **Close** hello **Task Catalog**.</span></span>
   
   ![tarefa Adicionar Implantação do Grupo de Recursos do Azure][15]
5. <span data-ttu-id="5a58c-226">Escolha Olá **cópia de arquivo do Azure** tarefas e preencher seus valores.</span><span class="sxs-lookup"><span data-stu-id="5a58c-226">Choose hello **Azure File Copy** task and fill in its values.</span></span>
   
   <span data-ttu-id="5a58c-227">Se você já tiver um ponto de extremidade de serviço do Azure adicionada tooVS Team Services, escolha a assinatura de saudação em Olá **assinatura do Azure** caixa de listagem suspensa.</span><span class="sxs-lookup"><span data-stu-id="5a58c-227">If you already have an Azure service endpoint added tooVS Team Services, choose hello subscription in hello **Azure Subscription** drop-down list box.</span></span> <span data-ttu-id="5a58c-228">Se você não tiver uma assinatura, veja a [Opção 1](#detailed-walkthrough-for-option-1) para obter instruções de como configurar uma no VS Team Services.</span><span class="sxs-lookup"><span data-stu-id="5a58c-228">If you do not have a subscription, see [Option 1](#detailed-walkthrough-for-option-1) for instructions on setting one up in VS Team Services.</span></span>
   
   * <span data-ttu-id="5a58c-229">Origem: insira **$(Build.StagingDirectory)**</span><span class="sxs-lookup"><span data-stu-id="5a58c-229">Source - enter **$(Build.StagingDirectory)**</span></span>
   * <span data-ttu-id="5a58c-230">Tipo de Conexão do Azure: escolha **Azure Resource Manager**</span><span class="sxs-lookup"><span data-stu-id="5a58c-230">Azure Connection Type - select **Azure Resource Manager**</span></span>
   * <span data-ttu-id="5a58c-231">Assinatura do Azure do RM - assinatura selecione Olá Olá conta de armazenamento você deseja toouse em Olá **assinatura do Azure** caixa de listagem suspensa.</span><span class="sxs-lookup"><span data-stu-id="5a58c-231">Azure RM Subscription - select hello subscription for hello storage account you want toouse in hello **Azure Subscription** drop-down list box.</span></span> <span data-ttu-id="5a58c-232">Se a assinatura de saudação não aparecer, escolha Olá **atualizar** Olá próximo botão **gerenciar** link.</span><span class="sxs-lookup"><span data-stu-id="5a58c-232">If hello subscription doesn't appear, choose hello **Refresh** button next hello **Manage** link.</span></span>
   * <span data-ttu-id="5a58c-233">Tipo de Destino: escolha **Blob do Azure**</span><span class="sxs-lookup"><span data-stu-id="5a58c-233">Destination Type - select **Azure Blob**</span></span>
   * <span data-ttu-id="5a58c-234">Conta de armazenamento RM - selecione conta de armazenamento Olá você gostaria que toouse para artefatos de teste</span><span class="sxs-lookup"><span data-stu-id="5a58c-234">RM Storage Account - select hello storage account you would like toouse for staging artifacts</span></span>
   * <span data-ttu-id="5a58c-235">Nome do contêiner - insira o nome de saudação do contêiner Olá você gostaria que toouse para preparação; ele pode ser qualquer nome de contêiner válido, mas use uma definição de compilação toothis dedicado</span><span class="sxs-lookup"><span data-stu-id="5a58c-235">Container Name - enter hello name of hello container you would like toouse for staging; it can be any valid container name, but use one dedicated toothis build definition</span></span>
   
   <span data-ttu-id="5a58c-236">Para valores de saída de hello:</span><span class="sxs-lookup"><span data-stu-id="5a58c-236">For hello output values:</span></span>
   
   * <span data-ttu-id="5a58c-237">URI do Contêiner de Armazenamento: insira **artifactsLocation**</span><span class="sxs-lookup"><span data-stu-id="5a58c-237">Storage Container URI - enter **artifactsLocation**</span></span>
   * <span data-ttu-id="5a58c-238">Token SAS do Contêiner de Armazenamento: insira **artifactsLocationSasToken**</span><span class="sxs-lookup"><span data-stu-id="5a58c-238">Storage Container SAS Token - enter **artifactsLocationSasToken**</span></span>
   
   ![tarefa Configurar Cópias de Arquivos do Azure][16]
6. <span data-ttu-id="5a58c-240">Escolha Olá **implantação de grupo de recursos do Azure** passo de compilação e, em seguida, preencha seus valores.</span><span class="sxs-lookup"><span data-stu-id="5a58c-240">Choose hello **Azure Resource Group Deployment** build step and then fill in its values.</span></span>
   
   * <span data-ttu-id="5a58c-241">Tipo de Conexão do Azure: escolha **Azure Resource Manager**</span><span class="sxs-lookup"><span data-stu-id="5a58c-241">Azure Connection Type - select **Azure Resource Manager**</span></span>
   * <span data-ttu-id="5a58c-242">Assinatura do Azure do RM - assinatura selecione Olá para implantação no hello **assinatura do Azure** caixa de listagem suspensa.</span><span class="sxs-lookup"><span data-stu-id="5a58c-242">Azure RM Subscription - select hello subscription for deployment in hello **Azure Subscription** drop-down list box.</span></span> <span data-ttu-id="5a58c-243">Isso geralmente será Olá mesma assinatura usada na etapa anterior Olá</span><span class="sxs-lookup"><span data-stu-id="5a58c-243">This will usually be hello same subscription used in hello previous step</span></span>
   * <span data-ttu-id="5a58c-244">Ação – escolha **Criar ou Atualizar Grupo de Recursos**</span><span class="sxs-lookup"><span data-stu-id="5a58c-244">Action - select **Create or Update Resource Group**</span></span>
   * <span data-ttu-id="5a58c-245">Grupo de recursos - selecionar um grupo de recursos ou digitar nome de saudação do novo grupo de recursos para implantação de saudação</span><span class="sxs-lookup"><span data-stu-id="5a58c-245">Resource Group - select a resource group or enter hello name of a new resource group for hello deployment</span></span>
   * <span data-ttu-id="5a58c-246">Local - local selecione Olá Olá para grupo de recursos</span><span class="sxs-lookup"><span data-stu-id="5a58c-246">Location - select hello location for hello resource group</span></span>
   * <span data-ttu-id="5a58c-247">Modelo - Inserir nome e caminho de saudação do hello modelo toobe implantado acrescentando **$(Build.StagingDirectory)**, por exemplo: **$(Build.StagingDirectory/DSC-CI/azuredeploy.json)**</span><span class="sxs-lookup"><span data-stu-id="5a58c-247">Template - enter hello path and name of hello template toobe deployed prepending **$(Build.StagingDirectory)**, for example: **$(Build.StagingDirectory/DSC-CI/azuredeploy.json)**</span></span>
   * <span data-ttu-id="5a58c-248">Parâmetros de modelo - insira o caminho de saudação e nome de saudação parâmetros toobe usado, acrescentando **$(Build.StagingDirectory)**, por exemplo: **$(Build.StagingDirectory/DSC-CI/azuredeploy.parameters.json)**</span><span class="sxs-lookup"><span data-stu-id="5a58c-248">Template Parameters - enter hello path and name of hello parameters toobe used, prepending **$(Build.StagingDirectory)**, for example: **$(Build.StagingDirectory/DSC-CI/azuredeploy.parameters.json)**</span></span>
   * <span data-ttu-id="5a58c-249">Substituir parâmetros de modelo - digite ou copie e cole Olá código a seguir:</span><span class="sxs-lookup"><span data-stu-id="5a58c-249">Override Template Parameters - enter or copy and paste hello following code:</span></span>
     
     ```    
     -_artifactsLocation $(artifactsLocation) -_artifactsLocationSasToken (ConvertTo-SecureString -String "$(artifactsLocationSasToken)" -AsPlainText -Force)
     ```
     ![Tarefa Configurar Implantação do Grupo de Recursos do Azure][17]
7. <span data-ttu-id="5a58c-251">Depois de ter adicionado todos os itens de saudação necessárias, salvar a definição de compilação hello e escolha **enfileirar nova compilação** na parte superior da saudação.</span><span class="sxs-lookup"><span data-stu-id="5a58c-251">After you’ve added all hello required items, save hello build definition and choose **Queue new build** at hello top.</span></span>

## <a name="next-steps"></a><span data-ttu-id="5a58c-252">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="5a58c-252">Next steps</span></span>
<span data-ttu-id="5a58c-253">Leitura [visão geral do Gerenciador de recursos do Azure](azure-resource-manager/resource-group-overview.md) toolearn mais sobre o Gerenciador de recursos do Azure e grupos de recursos do Azure.</span><span class="sxs-lookup"><span data-stu-id="5a58c-253">Read [Azure Resource Manager overview](azure-resource-manager/resource-group-overview.md) toolearn more about Azure Resource Manager and Azure resource groups.</span></span>

[0]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough1.png
[1]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough2.png
[2]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough3.png
[3]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough4.png
[4]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough5.png
[5]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough6.png
[8]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough9.png
[9]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough10.png
[10]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough11b.png
[11]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough12.png
[12]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough13.png
[13]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough14.png
[14]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough15.png
[15]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough16.png
[16]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough17.png
[17]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough18.png
