---
title: "Solução de problemas de códigos de erro para a extensão NPS do Azure MFA | Microsoft Docs"
description: "Obtenha ajuda para resolver problemas com a extensão NPS da Autenticação Multifator do Azure com soluções específicas para mensagens de erro comuns"
services: multi-factor-authentication
documentationcenter: 
author: kgremban
manager: femila
ms.assetid: 
ms.service: multi-factor-authentication
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/14/2017
ms.author: kgremban
ms.reviewer: yossib
ms.custom: it-pro
ms.openlocfilehash: 173353d67772c2549aa1b8ec9f2a471bd1c65677
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/03/2017
---
# <a name="resolve-error-messages-from-the-nps-extension-for-azure-multi-factor-authentication"></a><span data-ttu-id="344a0-103">Resolver mensagens de erro da extensão NPS da Autenticação Multifator do Azure</span><span class="sxs-lookup"><span data-stu-id="344a0-103">Resolve error messages from the NPS extension for Azure Multi-Factor Authentication</span></span>

<span data-ttu-id="344a0-104">Caso você encontre erros na extensão NPS da Autenticação Multifator do Azure, use este artigo para obter uma solução mais rápida.</span><span class="sxs-lookup"><span data-stu-id="344a0-104">If you encounter errors with the NPS extension for Azure Multi-Factor Authentication, use this article to reach a resolution faster.</span></span> 

## <a name="troubleshooting-steps-for-common-errors"></a><span data-ttu-id="344a0-105">Etapas de solução de problemas para erros comuns</span><span class="sxs-lookup"><span data-stu-id="344a0-105">Troubleshooting steps for common errors</span></span>

| <span data-ttu-id="344a0-106">Código do erro</span><span class="sxs-lookup"><span data-stu-id="344a0-106">Error code</span></span> | <span data-ttu-id="344a0-107">Etapas para solucionar problemas</span><span class="sxs-lookup"><span data-stu-id="344a0-107">Troubleshooting steps</span></span> |
| ---------- | --------------------- |
| <span data-ttu-id="344a0-108">**CONTACT_SUPPORT**</span><span class="sxs-lookup"><span data-stu-id="344a0-108">**CONTACT_SUPPORT**</span></span> | <span data-ttu-id="344a0-109">[Contate o suporte](#contact-microsoft-support) e mencione a lista de etapas para a coleta de logs.</span><span class="sxs-lookup"><span data-stu-id="344a0-109">[Contact support](#contact-microsoft-support), and mention the list of steps for collecting logs.</span></span> <span data-ttu-id="344a0-110">Forneça o máximo de informações possíveis sobre o que aconteceu antes do erro, incluindo a ID de locatário e o nome UPN.</span><span class="sxs-lookup"><span data-stu-id="344a0-110">Provide as much information as you can about what happened before the error, including tenant id, and user principal name (UPN).</span></span> |
| <span data-ttu-id="344a0-111">**CLIENT_CERT_INSTALL_ERROR**</span><span class="sxs-lookup"><span data-stu-id="344a0-111">**CLIENT_CERT_INSTALL_ERROR**</span></span> | <span data-ttu-id="344a0-112">Pode haver um problema com a forma como o certificado do cliente foi instalado ou associado ao locatário.</span><span class="sxs-lookup"><span data-stu-id="344a0-112">There may be an issue with how the client certificate was installed or associated with your tenant.</span></span> <span data-ttu-id="344a0-113">Siga as instruções em [Solução de problemas da extensão NPS do MFA](multi-factor-authentication-nps-extension.md#troubleshooting) para investigar problemas de certificado do cliente.</span><span class="sxs-lookup"><span data-stu-id="344a0-113">Follow the instructions in [Troubleshooting the MFA NPS extension](multi-factor-authentication-nps-extension.md#troubleshooting) to investigate client cert problems.</span></span> |
| <span data-ttu-id="344a0-114">**ESTS_TOKEN_ERROR**</span><span class="sxs-lookup"><span data-stu-id="344a0-114">**ESTS_TOKEN_ERROR**</span></span> | <span data-ttu-id="344a0-115">Siga as instruções em [Solução de problemas da extensão NPS do MFA](multi-factor-authentication-nps-extension.md#troubleshooting) para investigar problemas de certificado do cliente e token ADAL.</span><span class="sxs-lookup"><span data-stu-id="344a0-115">Follow the instructions in [Troubleshooting the MFA NPS extension](multi-factor-authentication-nps-extension.md#troubleshooting) to investigate client cert and ADAL token problems.</span></span> |
| <span data-ttu-id="344a0-116">**HTTPS_COMMUNICATION_ERROR**</span><span class="sxs-lookup"><span data-stu-id="344a0-116">**HTTPS_COMMUNICATION_ERROR**</span></span> | <span data-ttu-id="344a0-117">O servidor NPS não pode receber respostas do Azure MFA.</span><span class="sxs-lookup"><span data-stu-id="344a0-117">The NPS server is unable to receive responses from Azure MFA.</span></span> <span data-ttu-id="344a0-118">Verifique se os firewalls estão abertos bidirecionalmente para o tráfego de entrada e saída de https://adnotifications.windowsazure.com</span><span class="sxs-lookup"><span data-stu-id="344a0-118">Verify that your firewalls are open bidirectionally for traffic to and from https://adnotifications.windowsazure.com</span></span> |
| <span data-ttu-id="344a0-119">**HTTP_CONNECT_ERROR**</span><span class="sxs-lookup"><span data-stu-id="344a0-119">**HTTP_CONNECT_ERROR**</span></span> | <span data-ttu-id="344a0-120">No servidor que executa a extensão NPS, verifique se é possível acessar https://adnotifications.windowsazure.com e https://login.microsoftonline.com/.</span><span class="sxs-lookup"><span data-stu-id="344a0-120">On the server that runs the NPS extension, verify that you can reach  https://adnotifications.windowsazure.com and https://login.microsoftonline.com/.</span></span> <span data-ttu-id="344a0-121">Se os sites não forem carregados, resolva os problemas de conectividade no servidor.</span><span class="sxs-lookup"><span data-stu-id="344a0-121">If those sites don't load, troubleshoot connectivity on that server.</span></span> |
| <span data-ttu-id="344a0-122">**REGISTRY_CONFIG_ERROR**</span><span class="sxs-lookup"><span data-stu-id="344a0-122">**REGISTRY_CONFIG_ERROR**</span></span> | <span data-ttu-id="344a0-123">Uma chave está ausente no registro do aplicativo, que pode ser devido à não execução do [script do PowerShell](multi-factor-authentication-nps-extension.md#install-the-nps-extension) após a instalação.</span><span class="sxs-lookup"><span data-stu-id="344a0-123">A key is missing in the registry for the application, which may be because the [PowerShell script](multi-factor-authentication-nps-extension.md#install-the-nps-extension) wasn't run after installation.</span></span> <span data-ttu-id="344a0-124">A mensagem de erro deve incluir a chave ausente.</span><span class="sxs-lookup"><span data-stu-id="344a0-124">The error message should include the missing key.</span></span> <span data-ttu-id="344a0-125">Verifique se você tem a chave em HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\AzureMfa.</span><span class="sxs-lookup"><span data-stu-id="344a0-125">Make sure you have the key under HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\AzureMfa.</span></span> |
| <span data-ttu-id="344a0-126">**REQUEST_FORMAT_ERROR**</span><span class="sxs-lookup"><span data-stu-id="344a0-126">**REQUEST_FORMAT_ERROR**</span></span> <br> <span data-ttu-id="344a0-127">Solicitação do RADIUS ausente. Atributo userName\Identifier obrigatório do RADIUS. Verifique se o NPS está recebendo as solicitações RADIUS</span><span class="sxs-lookup"><span data-stu-id="344a0-127">Radius Request missing mandatory Radius userName\Identifier attribute.Verify that NPS is receiving RADIUS requests</span></span> | <span data-ttu-id="344a0-128">Esse erro geralmente reflete um problema de instalação.</span><span class="sxs-lookup"><span data-stu-id="344a0-128">This error usually reflects an installation issue.</span></span> <span data-ttu-id="344a0-129">A extensão NPS deve ser instalada em servidores NPS que podem receber solicitações RADIUS.</span><span class="sxs-lookup"><span data-stu-id="344a0-129">The NPS extension must be installed in NPS servers that can receive RADIUS requests.</span></span> <span data-ttu-id="344a0-130">Servidores NPS que são instalados como dependências para serviços como RDG e RRAS não recebem solicitações RADIUS.</span><span class="sxs-lookup"><span data-stu-id="344a0-130">NPS servers that are installed as dependencies for services like RDG and RRAS don't receive radius requests.</span></span> <span data-ttu-id="344a0-131">A Extensão NPS não funciona quando é instalada em instalações como essas e ocorre um erro, pois ela não pode ler os detalhes da solicitação de autenticação.</span><span class="sxs-lookup"><span data-stu-id="344a0-131">NPS Extension does not work when installed over such installations and errors out since it cannot read the details from the authentication request.</span></span> |
| <span data-ttu-id="344a0-132">**REQUEST_MISSING_CODE**</span><span class="sxs-lookup"><span data-stu-id="344a0-132">**REQUEST_MISSING_CODE**</span></span> | <span data-ttu-id="344a0-133">Verifique se o protocolo de criptografia de senha entre os servidores NPS e NAS suportam o método de autenticação secundário que você está usando.</span><span class="sxs-lookup"><span data-stu-id="344a0-133">Make sure that the password encryption protocol between the NPS and NAS servers supports the secondary authentication method that you're using.</span></span> <span data-ttu-id="344a0-134">O **PAP** dá suporte a todos os métodos de autenticação do Azure MFA na nuvem: chamada telefônica, mensagem de texto unidirecional, notificação de aplicativo móvel e código de verificação de aplicativo móvel.</span><span class="sxs-lookup"><span data-stu-id="344a0-134">**PAP** supports all the authentication methods of Azure MFA in the cloud: phone call, one-way text message, mobile app notification, and mobile app verification code.</span></span> <span data-ttu-id="344a0-135">**CHAPV2** e **EAP** dão suporte a chamada telefônica e notificação de aplicativo móvel.</span><span class="sxs-lookup"><span data-stu-id="344a0-135">**CHAPV2** and **EAP** support phone call and mobile app notification.</span></span> |
| <span data-ttu-id="344a0-136">**USERNAME_CANONICALIZATION_ERROR**</span><span class="sxs-lookup"><span data-stu-id="344a0-136">**USERNAME_CANONICALIZATION_ERROR**</span></span> | <span data-ttu-id="344a0-137">Verifique se o usuário está presente na instância do Active Directory local e se o Serviço NPS tem permissões para acessar o diretório.</span><span class="sxs-lookup"><span data-stu-id="344a0-137">Verify that the user is present in your on-premises Active Directory instance, and that the NPS Service has permissions to access the directory.</span></span> <span data-ttu-id="344a0-138">Se estiver usando relações de confiança entre florestas, [contate o suporte](#contact-microsoft-support) para obter mais ajuda.</span><span class="sxs-lookup"><span data-stu-id="344a0-138">If you are using cross-forest trusts, [contact support](#contact-microsoft-support) for further help.</span></span> |


   

### <a name="alternate-login-id-errors"></a><span data-ttu-id="344a0-139">Erros de ID de logon alternativo</span><span class="sxs-lookup"><span data-stu-id="344a0-139">Alternate login ID errors</span></span>

| <span data-ttu-id="344a0-140">Código do erro</span><span class="sxs-lookup"><span data-stu-id="344a0-140">Error code</span></span> | <span data-ttu-id="344a0-141">Mensagem de erro</span><span class="sxs-lookup"><span data-stu-id="344a0-141">Error message</span></span> | <span data-ttu-id="344a0-142">Etapas para solucionar problemas</span><span class="sxs-lookup"><span data-stu-id="344a0-142">Troubleshooting steps</span></span> |
| ---------- | ------------- | --------------------- |
| <span data-ttu-id="344a0-143">**ALTERNATE_LOGIN_ID_ERROR**</span><span class="sxs-lookup"><span data-stu-id="344a0-143">**ALTERNATE_LOGIN_ID_ERROR**</span></span> | <span data-ttu-id="344a0-144">Erro: falha na pesquisa do userObjectSid</span><span class="sxs-lookup"><span data-stu-id="344a0-144">Error: userObjectSid lookup failed</span></span> | <span data-ttu-id="344a0-145">Verifique se o usuário existe na instância do Active Directory local.</span><span class="sxs-lookup"><span data-stu-id="344a0-145">Verify that the user exists in your on-premises Active Directory instance.</span></span> <span data-ttu-id="344a0-146">Se estiver usando relações de confiança entre florestas, [contate o suporte](#contact-microsoft-support) para obter mais ajuda.</span><span class="sxs-lookup"><span data-stu-id="344a0-146">If you are using cross-forest trusts, [contact support](#contact-microsoft-support) for further help.</span></span> |
| <span data-ttu-id="344a0-147">**ALTERNATE_LOGIN_ID_ERROR**</span><span class="sxs-lookup"><span data-stu-id="344a0-147">**ALTERNATE_LOGIN_ID_ERROR**</span></span> | <span data-ttu-id="344a0-148">Erro: falha de pesquisa de LoginId alternativo</span><span class="sxs-lookup"><span data-stu-id="344a0-148">Error: Alternate LoginId lookup failed</span></span> | <span data-ttu-id="344a0-149">Verifique se LDAP_ALTERNATE_LOGINID_ATTRIBUTE está definido como um [atributo válido do Active Directory](https://msdn.microsoft.com/library/ms675090(v=vs.85).aspx).</span><span class="sxs-lookup"><span data-stu-id="344a0-149">Verify that LDAP_ALTERNATE_LOGINID_ATTRIBUTE is set to a [valid active directory attribute](https://msdn.microsoft.com/library/ms675090(v=vs.85).aspx).</span></span> <br><br> <span data-ttu-id="344a0-150">Se LDAP_FORCE_GLOBAL_CATALOG for definido como True ou LDAP_LOOKUP_FORESTS for configurado com um valor não vazio, verifique se você configurou um Catálogo Global e que o atributo AlternateLoginId está adicionado a ele.</span><span class="sxs-lookup"><span data-stu-id="344a0-150">If LDAP_FORCE_GLOBAL_CATALOG is set to True, or LDAP_LOOKUP_FORESTS is configured with a non-empty value, verify that you have configured a Global Catalog and that the AlternateLoginId attribute is added to it.</span></span> <br><br> <span data-ttu-id="344a0-151">Se LDAP_LOOKUP_FORESTS estiver configurado com um valor não vazio, verifique se o valor está correto.</span><span class="sxs-lookup"><span data-stu-id="344a0-151">If LDAP_LOOKUP_FORESTS is configured with a non-empty value, verify that the value is correct.</span></span> <span data-ttu-id="344a0-152">Se houver mais de um nome de floresta, os nomes deverão ser separados por pontos e vírgulas, não espaços.</span><span class="sxs-lookup"><span data-stu-id="344a0-152">If there is more than one forest name, the names must be separated with semi-colons, not spaces.</span></span> <br><br> <span data-ttu-id="344a0-153">Se essas etapas não corrigirem o problema, [entre em contato com o suporte](#contact-microsoft-support) para obter mais ajuda.</span><span class="sxs-lookup"><span data-stu-id="344a0-153">If these steps don't fix the problem, [contact support](#contact-microsoft-support) for more help.</span></span> |
| <span data-ttu-id="344a0-154">**ALTERNATE_LOGIN_ID_ERROR**</span><span class="sxs-lookup"><span data-stu-id="344a0-154">**ALTERNATE_LOGIN_ID_ERROR**</span></span> | <span data-ttu-id="344a0-155">Erro: o valor de LoginId alternativo está vazio</span><span class="sxs-lookup"><span data-stu-id="344a0-155">Error: Alternate LoginId value is empty</span></span> | <span data-ttu-id="344a0-156">Verifique se o atributo AlternateLoginId está configurado para o usuário.</span><span class="sxs-lookup"><span data-stu-id="344a0-156">Verify that the AlternateLoginId attribute is configured for the user.</span></span> |


## <a name="errors-your-users-may-encounter"></a><span data-ttu-id="344a0-157">Erros que os usuários podem ver</span><span class="sxs-lookup"><span data-stu-id="344a0-157">Errors your users may encounter</span></span>

| <span data-ttu-id="344a0-158">Código do erro</span><span class="sxs-lookup"><span data-stu-id="344a0-158">Error code</span></span> | <span data-ttu-id="344a0-159">Mensagem de erro</span><span class="sxs-lookup"><span data-stu-id="344a0-159">Error message</span></span> | <span data-ttu-id="344a0-160">Etapas para solucionar problemas</span><span class="sxs-lookup"><span data-stu-id="344a0-160">Troubleshooting steps</span></span> |
| ---------- | ------------- | --------------------- |
| <span data-ttu-id="344a0-161">**AccessDenied**</span><span class="sxs-lookup"><span data-stu-id="344a0-161">**AccessDenied**</span></span> | <span data-ttu-id="344a0-162">O locatário chamador não tem permissões de acesso para fazer a autenticação do usuário</span><span class="sxs-lookup"><span data-stu-id="344a0-162">Caller tenant does not have access permissions to do authentication for the user</span></span> | <span data-ttu-id="344a0-163">Verifique se o domínio do locatário e o domínio do nome UPN são os mesmos.</span><span class="sxs-lookup"><span data-stu-id="344a0-163">Check whether the tenant domain and the domain of the user principal name (UPN) are the same.</span></span> <span data-ttu-id="344a0-164">Por exemplo, verifique se user@contoso.com está tentando se autenticar no locatário da Contoso.</span><span class="sxs-lookup"><span data-stu-id="344a0-164">For example, make sure that user@contoso.com is trying to authenticate to the Contoso tenant.</span></span> <span data-ttu-id="344a0-165">O UPN representa um usuário válido para o locatário no Azure.</span><span class="sxs-lookup"><span data-stu-id="344a0-165">The UPN represents a valid user for the tenant in Azure.</span></span> |
| <span data-ttu-id="344a0-166">**AuthenticationMethodNotConfigured**</span><span class="sxs-lookup"><span data-stu-id="344a0-166">**AuthenticationMethodNotConfigured**</span></span> | <span data-ttu-id="344a0-167">O método de autenticação especificado não foi configurado para o usuário</span><span class="sxs-lookup"><span data-stu-id="344a0-167">The specified authentication method was not configured for the user</span></span> | <span data-ttu-id="344a0-168">Solicite ao usuário para adicionar ou verificar seus métodos de verificação de acordo com as instruções em [Gerenciar as configurações da verificação em duas etapas](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span><span class="sxs-lookup"><span data-stu-id="344a0-168">Have the user add or verify their verification methods according to the instructions in [Manage your settings for two-step verification](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span></span> |
| <span data-ttu-id="344a0-169">**AuthenticationMethodNotSupported**</span><span class="sxs-lookup"><span data-stu-id="344a0-169">**AuthenticationMethodNotSupported**</span></span> | <span data-ttu-id="344a0-170">Não há suporte para o método de autenticação especificado.</span><span class="sxs-lookup"><span data-stu-id="344a0-170">Specified authentication method is not supported.</span></span> | <span data-ttu-id="344a0-171">Colete todos os logs que incluem esse erro e [contate o suporte](#contact-microsoft-support).</span><span class="sxs-lookup"><span data-stu-id="344a0-171">Collect all your logs that include this error, and [contact support](#contact-microsoft-support).</span></span> <span data-ttu-id="344a0-172">Quando você contatar o suporte, forneça o nome de usuário e o método de verificação secundário que disparou o erro.</span><span class="sxs-lookup"><span data-stu-id="344a0-172">When you contact support, provide the username and the secondary verification method that triggered the error.</span></span> |
| <span data-ttu-id="344a0-173">**BecAccessDenied**</span><span class="sxs-lookup"><span data-stu-id="344a0-173">**BecAccessDenied**</span></span> | <span data-ttu-id="344a0-174">Acesso negado de retorno de chamada a MSODS Bec. Provavelmente, o nome de usuário não está definido no locatário</span><span class="sxs-lookup"><span data-stu-id="344a0-174">MSODS Bec call returned access denied, probably the username is not defined in the tenant</span></span> | <span data-ttu-id="344a0-175">O usuário está presente no Active Directory local, mas não está sincronizado no Azure AD pelo AD Connect.</span><span class="sxs-lookup"><span data-stu-id="344a0-175">The user is present in Active Directory on-premises but is not synced into Azure AD by AD Connect.</span></span> <span data-ttu-id="344a0-176">Ou o usuário está ausente no locatário.</span><span class="sxs-lookup"><span data-stu-id="344a0-176">Or, the user is missing for the tenant.</span></span> <span data-ttu-id="344a0-177">Adicione o usuário ao Azure AD e solicite a ele para adicionar seus métodos de verificação de acordo com as instruções em [Gerenciar as configurações da verificação em duas etapas](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span><span class="sxs-lookup"><span data-stu-id="344a0-177">Add the user to Azure AD and have them add their verification methods according to the instructions in [Manage your settings for two-step verification](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span></span> |
| <span data-ttu-id="344a0-178">**InvalidFormat** ou **StrongAuthenticationServiceInvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="344a0-178">**InvalidFormat** or **StrongAuthenticationServiceInvalidParameter**</span></span> | <span data-ttu-id="344a0-179">O número de telefone está em um formato que não pode ser reconhecido</span><span class="sxs-lookup"><span data-stu-id="344a0-179">The phone number is in an unrecognizable format</span></span> | <span data-ttu-id="344a0-180">Solicite ao usuário para corrigir seus números de telefone de verificação.</span><span class="sxs-lookup"><span data-stu-id="344a0-180">Have the user correct their verification phone numbers.</span></span> |
| <span data-ttu-id="344a0-181">**InvalidSession**</span><span class="sxs-lookup"><span data-stu-id="344a0-181">**InvalidSession**</span></span> | <span data-ttu-id="344a0-182">A sessão especificada é inválida ou pode ter expirado</span><span class="sxs-lookup"><span data-stu-id="344a0-182">The specified session is invalid or may have expired</span></span> | <span data-ttu-id="344a0-183">A sessão levou mais de três minutos para ser concluída.</span><span class="sxs-lookup"><span data-stu-id="344a0-183">The session has taken more than three minutes to complete.</span></span> <span data-ttu-id="344a0-184">Verifique se o usuário está inserindo o código de verificação ou respondendo à notificação do aplicativo em até três minutos após o início da solicitação de autenticação.</span><span class="sxs-lookup"><span data-stu-id="344a0-184">Verify that the user is entering the verification code, or responding to the app notification, within three minutes of initiating the authentication request.</span></span> <span data-ttu-id="344a0-185">Se isso não resolver o problema, verifique se não há nenhuma latência de rede entre o cliente, Servidor NAS, Servidor NPS e o ponto de extremidade do Azure MFA.</span><span class="sxs-lookup"><span data-stu-id="344a0-185">If that doesn't fix the problem, check that there are no network latencies between client, NAS Server, NPS Server, and the Azure MFA endpoint.</span></span>  |
| <span data-ttu-id="344a0-186">**NoDefaultAuthenticationMethodIsConfigured**</span><span class="sxs-lookup"><span data-stu-id="344a0-186">**NoDefaultAuthenticationMethodIsConfigured**</span></span> | <span data-ttu-id="344a0-187">Nenhum método de autenticação padrão foi configurado para o usuário</span><span class="sxs-lookup"><span data-stu-id="344a0-187">No default authentication method was configured for the user</span></span> | <span data-ttu-id="344a0-188">Solicite ao usuário para adicionar ou verificar seus métodos de verificação de acordo com as instruções em [Gerenciar as configurações da verificação em duas etapas](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span><span class="sxs-lookup"><span data-stu-id="344a0-188">Have the user add or verify their verification methods according to the instructions in [Manage your settings for two-step verification](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span></span> <span data-ttu-id="344a0-189">Verifique se o usuário escolheu um método de autenticação padrão e configurou desse método para sua conta.</span><span class="sxs-lookup"><span data-stu-id="344a0-189">Verify that the user has chosen a default authentication method, and configured that method for their account.</span></span> |
| <span data-ttu-id="344a0-190">**OathCodePinIncorrect**</span><span class="sxs-lookup"><span data-stu-id="344a0-190">**OathCodePinIncorrect**</span></span> | <span data-ttu-id="344a0-191">Código e PIN incorretos inseridos.</span><span class="sxs-lookup"><span data-stu-id="344a0-191">Wrong code and pin entered.</span></span> | <span data-ttu-id="344a0-192">Esse erro não é esperado na extensão do NPS.</span><span class="sxs-lookup"><span data-stu-id="344a0-192">This error is not expected in the NPS extension.</span></span> <span data-ttu-id="344a0-193">Se o usuário ver esse erro, [contate o suporte](#contact-microsoft-support) para obter ajuda na solução de problemas.</span><span class="sxs-lookup"><span data-stu-id="344a0-193">If your user encounters this, [contact support](#contact-microsoft-support) for troubleshooting help.</span></span> |
| <span data-ttu-id="344a0-194">**ProofDataNotFound**</span><span class="sxs-lookup"><span data-stu-id="344a0-194">**ProofDataNotFound**</span></span> | <span data-ttu-id="344a0-195">Os dados de prova não foram configurados para o método de autenticação especificado.</span><span class="sxs-lookup"><span data-stu-id="344a0-195">Proof data was not configured for the specified authentication method.</span></span> | <span data-ttu-id="344a0-196">Solicite ao usuário para tentar outro método de verificação ou adicionar um novo método de verificação de acordo com as instruções em [Gerenciar as configurações da verificação em duas etapas](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span><span class="sxs-lookup"><span data-stu-id="344a0-196">Have the user try a different verification method, or add a new verification methods according to the instructions in [Manage your settings for two-step verification](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span></span> <span data-ttu-id="344a0-197">Se o usuário continuar vendo esse erro depois de confirmar que o método de verificação está configurado corretamente, [contate o suporte](#contact-microsoft-support).</span><span class="sxs-lookup"><span data-stu-id="344a0-197">If the user continues to see this error after you confirmed that their verification method is set up correctly, [contact support](#contact-microsoft-support).</span></span> |
| <span data-ttu-id="344a0-198">**SMSAuthFailedWrongCodePinEntered**</span><span class="sxs-lookup"><span data-stu-id="344a0-198">**SMSAuthFailedWrongCodePinEntered**</span></span> | <span data-ttu-id="344a0-199">Código e PIN incorretos inseridos.</span><span class="sxs-lookup"><span data-stu-id="344a0-199">Wrong code and pin entered.</span></span> <span data-ttu-id="344a0-200">(OneWaySMS)</span><span class="sxs-lookup"><span data-stu-id="344a0-200">(OneWaySMS)</span></span> | <span data-ttu-id="344a0-201">Esse erro não é esperado na extensão do NPS.</span><span class="sxs-lookup"><span data-stu-id="344a0-201">This error is not expected in the NPS extension.</span></span> <span data-ttu-id="344a0-202">Se o usuário ver esse erro, [contate o suporte](#contact-microsoft-support) para obter ajuda na solução de problemas.</span><span class="sxs-lookup"><span data-stu-id="344a0-202">If your user encounters this, [contact support](#contact-microsoft-support) for troubleshooting help.</span></span> |
| <span data-ttu-id="344a0-203">**TenantIsBlocked**</span><span class="sxs-lookup"><span data-stu-id="344a0-203">**TenantIsBlocked**</span></span> | <span data-ttu-id="344a0-204">O locatário está bloqueado</span><span class="sxs-lookup"><span data-stu-id="344a0-204">Tenant is blocked</span></span> | <span data-ttu-id="344a0-205">[Contate o suporte](#contact-microsoft-support) com a ID de Diretório da página de propriedades do Azure AD no portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="344a0-205">[Contact support](#contact-microsoft-support) with Directory ID from the Azure AD properties page in the Azure portal.</span></span> |
| <span data-ttu-id="344a0-206">**UserNotFound**</span><span class="sxs-lookup"><span data-stu-id="344a0-206">**UserNotFound**</span></span> | <span data-ttu-id="344a0-207">O usuário especificado não foi encontrado</span><span class="sxs-lookup"><span data-stu-id="344a0-207">The specified user was not found</span></span> | <span data-ttu-id="344a0-208">O locatário não está mais visível como ativo no Azure AD.</span><span class="sxs-lookup"><span data-stu-id="344a0-208">The tenant is no longer visible as active in Azure AD.</span></span> <span data-ttu-id="344a0-209">Verifique se sua assinatura está ativa e se você tem os aplicativos de terceiros necessários.</span><span class="sxs-lookup"><span data-stu-id="344a0-209">Check that your subscription is active and you have the required first party apps.</span></span> <span data-ttu-id="344a0-210">Também verifique se o locatário na entidade de certificado é conforme esperado e se o certificado ainda é válido e está registrado na entidade de serviço.</span><span class="sxs-lookup"><span data-stu-id="344a0-210">Also make sure the tenant in the certificate subject is as expected and the cert is still valid and registered under the service principal.</span></span> |

## <a name="messages-your-users-may-encounter-that-arent-errors"></a><span data-ttu-id="344a0-211">Mensagens que os usuários podem ver que não são erros</span><span class="sxs-lookup"><span data-stu-id="344a0-211">Messages your users may encounter that aren't errors</span></span>

<span data-ttu-id="344a0-212">Às vezes, os usuários podem receber mensagens da Autenticação Multifator, pois sua solicitação de autenticação falhou.</span><span class="sxs-lookup"><span data-stu-id="344a0-212">Sometimes, your users may get messages from Multi-Factor Authentication because their authentication request failed.</span></span> <span data-ttu-id="344a0-213">Elas não são erros no produto de configuração, mas são avisos intencionais que explicam por que uma solicitação de autenticação foi negada.</span><span class="sxs-lookup"><span data-stu-id="344a0-213">These aren't errors in the product of configuration, but are intentional warnings explaining why an authentication request was denied.</span></span>

| <span data-ttu-id="344a0-214">Código do erro</span><span class="sxs-lookup"><span data-stu-id="344a0-214">Error code</span></span> | <span data-ttu-id="344a0-215">Mensagem de erro</span><span class="sxs-lookup"><span data-stu-id="344a0-215">Error message</span></span> | <span data-ttu-id="344a0-216">Etapas recomendadas</span><span class="sxs-lookup"><span data-stu-id="344a0-216">Recommended steps</span></span> | 
| ---------- | ------------- | ----------------- |
| <span data-ttu-id="344a0-217">**OathCodeIncorrect**</span><span class="sxs-lookup"><span data-stu-id="344a0-217">**OathCodeIncorrect**</span></span> | <span data-ttu-id="344a0-218">Código incorreto inserido\Código OATH incorreto</span><span class="sxs-lookup"><span data-stu-id="344a0-218">Wrong code entered\OATH Code Incorrect</span></span> | <span data-ttu-id="344a0-219">Não é um erro; o usuário inseriu o código incorreto.</span><span class="sxs-lookup"><span data-stu-id="344a0-219">Not an error,User has entered wrong code.</span></span> | <span data-ttu-id="344a0-220">O usuário inseriu o código incorreto.</span><span class="sxs-lookup"><span data-stu-id="344a0-220">The user entered the wrong code.</span></span> <span data-ttu-id="344a0-221">Solicite a ele para que repita a solicitação de um novo código ou entre novamente.</span><span class="sxs-lookup"><span data-stu-id="344a0-221">Have them try again by requesting a new code or signing in again.</span></span> | 
| <span data-ttu-id="344a0-222">**SMSAuthFailedMaxAllowedCodeRetryReached**</span><span class="sxs-lookup"><span data-stu-id="344a0-222">**SMSAuthFailedMaxAllowedCodeRetryReached**</span></span> | <span data-ttu-id="344a0-223">Repetição de código máxima permitida atingida</span><span class="sxs-lookup"><span data-stu-id="344a0-223">Maximum allowed code retry reached</span></span> | <span data-ttu-id="344a0-224">O usuário não passou no desafio de verificação várias vezes.</span><span class="sxs-lookup"><span data-stu-id="344a0-224">The user failed the verification challenge too many times.</span></span> <span data-ttu-id="344a0-225">Dependendo das configurações, ele pode precisar ser desbloqueado por um administrador nesse momento.</span><span class="sxs-lookup"><span data-stu-id="344a0-225">Depending on your settings, they may need to be unblocked by an admin now.</span></span>  |
| <span data-ttu-id="344a0-226">**SMSAuthFailedWrongCodeEntered**</span><span class="sxs-lookup"><span data-stu-id="344a0-226">**SMSAuthFailedWrongCodeEntered**</span></span> | <span data-ttu-id="344a0-227">Código incorreto inserido/OTP da mensagem de texto incorreto</span><span class="sxs-lookup"><span data-stu-id="344a0-227">Wrong code entered/Text Message OTP Incorrect</span></span> | <span data-ttu-id="344a0-228">O usuário inseriu o código incorreto.</span><span class="sxs-lookup"><span data-stu-id="344a0-228">The user entered the wrong code.</span></span> <span data-ttu-id="344a0-229">Solicite a ele para que repita a solicitação de um novo código ou entre novamente.</span><span class="sxs-lookup"><span data-stu-id="344a0-229">Have them try again by requesting a new code or signing in again.</span></span> |

## <a name="errors-that-require-support"></a><span data-ttu-id="344a0-230">Erros que exigem suporte</span><span class="sxs-lookup"><span data-stu-id="344a0-230">Errors that require support</span></span>

<span data-ttu-id="344a0-231">Se você encontrar um desses erros, recomendamos que [contate o suporte](#contact-microsoft-support) para obter ajuda de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="344a0-231">If you encounter one of these errors, we recommend that you [contact support](#contact-microsoft-support) for diagnostic help.</span></span> <span data-ttu-id="344a0-232">Não há nenhum conjunto padrão de etapas que pode corrigir esses erros.</span><span class="sxs-lookup"><span data-stu-id="344a0-232">There's no standard set of steps that can address these errors.</span></span> <span data-ttu-id="344a0-233">Ao contatar o suporte, lembre-se de incluir o máximo de informações possíveis sobre as etapas que levaram a um erro, bem como as informações de locatário.</span><span class="sxs-lookup"><span data-stu-id="344a0-233">When you do contact support, be sure to include as much information as possible about the steps that led to an error, and your tenant information.</span></span>

| <span data-ttu-id="344a0-234">Código do erro</span><span class="sxs-lookup"><span data-stu-id="344a0-234">Error code</span></span> | <span data-ttu-id="344a0-235">Mensagem de erro</span><span class="sxs-lookup"><span data-stu-id="344a0-235">Error message</span></span> |
| ---------- | ------------- |
| <span data-ttu-id="344a0-236">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="344a0-236">**InvalidParameter**</span></span> | <span data-ttu-id="344a0-237">A solicitação não pode ser nula</span><span class="sxs-lookup"><span data-stu-id="344a0-237">Request must not be null</span></span> |
| <span data-ttu-id="344a0-238">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="344a0-238">**InvalidParameter**</span></span> | <span data-ttu-id="344a0-239">A ObjectId não deve ser nula nem vazia para ReplicationScope:{0}</span><span class="sxs-lookup"><span data-stu-id="344a0-239">ObjectId must not be null or empty for ReplicationScope:{0}</span></span> |
| <span data-ttu-id="344a0-240">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="344a0-240">**InvalidParameter**</span></span> | <span data-ttu-id="344a0-241">O tamanho do CompanyName \{0}\ é maior que o tamanho máximo permitido {1}</span><span class="sxs-lookup"><span data-stu-id="344a0-241">The length of CompanyName \{0}\ is longer than the maximum allowed length {1}</span></span> |
| <span data-ttu-id="344a0-242">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="344a0-242">**InvalidParameter**</span></span> | <span data-ttu-id="344a0-243">O UserPrincipalName não deve ser nulo nem vazio</span><span class="sxs-lookup"><span data-stu-id="344a0-243">UserPrincipalName must not be null or empty</span></span> |
| <span data-ttu-id="344a0-244">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="344a0-244">**InvalidParameter**</span></span> | <span data-ttu-id="344a0-245">A TenantId fornecida não está no formato correto</span><span class="sxs-lookup"><span data-stu-id="344a0-245">The provided TenantId is not in correct format</span></span> |
| <span data-ttu-id="344a0-246">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="344a0-246">**InvalidParameter**</span></span> | <span data-ttu-id="344a0-247">A SessionId não deve ser nula nem vazia</span><span class="sxs-lookup"><span data-stu-id="344a0-247">SessionId must not be null or empty</span></span> |
| <span data-ttu-id="344a0-248">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="344a0-248">**InvalidParameter**</span></span> | <span data-ttu-id="344a0-249">Não foi possível resolver nenhum ProofData da solicitação ou do Msods.</span><span class="sxs-lookup"><span data-stu-id="344a0-249">Could not resolve any ProofData from request or Msods.</span></span> <span data-ttu-id="344a0-250">O ProofData é desconhecido</span><span class="sxs-lookup"><span data-stu-id="344a0-250">The ProofData is unKnown</span></span> |
| <span data-ttu-id="344a0-251">**InternalError**</span><span class="sxs-lookup"><span data-stu-id="344a0-251">**InternalError**</span></span> |  |
| <span data-ttu-id="344a0-252">**OathCodePinIncorrect**</span><span class="sxs-lookup"><span data-stu-id="344a0-252">**OathCodePinIncorrect**</span></span> |  |
| <span data-ttu-id="344a0-253">**VersionNotSupported**</span><span class="sxs-lookup"><span data-stu-id="344a0-253">**VersionNotSupported**</span></span> |  |
| <span data-ttu-id="344a0-254">**MFAPinNotSetup**</span><span class="sxs-lookup"><span data-stu-id="344a0-254">**MFAPinNotSetup**</span></span> |  |

## <a name="next-steps"></a><span data-ttu-id="344a0-255">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="344a0-255">Next steps</span></span>

### <a name="troubleshoot-user-accounts"></a><span data-ttu-id="344a0-256">Solução de problemas de contas de usuário</span><span class="sxs-lookup"><span data-stu-id="344a0-256">Troubleshoot user accounts</span></span>

<span data-ttu-id="344a0-257">Se os usuários estiverem [tendo problemas com a verificação em duas etapas](./end-user/multi-factor-authentication-end-user-troubleshoot.md), ajude-os a diagnosticar os problemas por conta própria.</span><span class="sxs-lookup"><span data-stu-id="344a0-257">If your users are [Having trouble with two-step verification](./end-user/multi-factor-authentication-end-user-troubleshoot.md), help them self-diagnose problems.</span></span> 

### <a name="contact-microsoft-support"></a><span data-ttu-id="344a0-258">Contatar Suporte da Microsoft</span><span class="sxs-lookup"><span data-stu-id="344a0-258">Contact Microsoft support</span></span>

<span data-ttu-id="344a0-259">Caso você precise de mais ajuda, contate um profissional de suporte por meio do [suporte do Servidor de Autenticação Multifator do Azure](https://support.microsoft.com/oas/default.aspx?prid=14947).</span><span class="sxs-lookup"><span data-stu-id="344a0-259">If you need additional help, contact a support professional through [Azure Multi-Factor Authentication Server support](https://support.microsoft.com/oas/default.aspx?prid=14947).</span></span> <span data-ttu-id="344a0-260">Ao entrar em contato conosco, é útil incluir o máximo possível de informações sobre o problema.</span><span class="sxs-lookup"><span data-stu-id="344a0-260">When contacting us, it's helpful if you can include as much information about your issue as possible.</span></span> <span data-ttu-id="344a0-261">As informações que você pode fornecer incluem a página em que viu o erro, o código de erro específico, a ID da sessão específica, a ID do usuário que viu o erro e os logs de depuração.</span><span class="sxs-lookup"><span data-stu-id="344a0-261">Information you can supply includes the page where you saw the error, the specific error code, the specific session ID, the ID of the user who saw the error, and debug logs.</span></span>

<span data-ttu-id="344a0-262">Para coletar os logs de depuração para dar suporte ao diagnóstico, use as seguintes etapas:</span><span class="sxs-lookup"><span data-stu-id="344a0-262">To collect debug logs for support diagnostics, use the following steps:</span></span> 

1. <span data-ttu-id="344a0-263">Abra um prompt de comando do Administrador e execute estes comandos:</span><span class="sxs-lookup"><span data-stu-id="344a0-263">Open an Administrator command prompt and run these commands:</span></span>

   ```
   Mkdir c:\NPS
   Cd NPS
   netsh trace start Scenario=NetConnection capture=yes tracefile=c:\NPS\nettrace.etl
   logman create trace "NPSExtension" -ow -o c:\NPS\NPSExtension.etl -p {7237ED00-E119-430B-AB0F-C63360C8EE81} 0xffffffffffffffff 0xff -nb 16 16 -bs 1024 -mode Circular -f bincirc -max 4096 -ets
   logman update trace "NPSExtension" -p {EC2E6D3A-C958-4C76-8EA4-0262520886FF} 0xffffffffffffffff 0xff -ets
   ```

2. <span data-ttu-id="344a0-264">Reproduzir o problema</span><span class="sxs-lookup"><span data-stu-id="344a0-264">Reproduce the issue</span></span>

3. <span data-ttu-id="344a0-265">Pare o rastreamento com estes comandos:</span><span class="sxs-lookup"><span data-stu-id="344a0-265">Stop the tracing with these commands:</span></span>

   ```
   logman stop "NPSExtension" -ets
   netsh trace stop
   wevtutil epl AuthNOptCh C:\NPS\%computername%_AuthNOptCh.evtx
   wevtutil epl AuthZOptCh C:\NPS\%computername%_AuthZOptCh.evtx
   wevtutil epl AuthZAdminCh C:\NPS\%computername%_AuthZAdminCh.evtx
   Start .
   ```

4. <span data-ttu-id="344a0-266">Compacte o conteúdo da pasta C:\NPS e anexe o arquivo compactado ao caso de suporte.</span><span class="sxs-lookup"><span data-stu-id="344a0-266">Zip the contents of the C:\NPS folder and attach the zipped file to the support case.</span></span>


