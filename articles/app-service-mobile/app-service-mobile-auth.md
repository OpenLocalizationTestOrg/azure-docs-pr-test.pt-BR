---
title: "Autenticação e Autorização nos Aplicativos Móveis do Azure | Microsoft Docs"
description: "Referência conceitual e visão geral do recurso Autenticação/Autorização para os Aplicativos Móveis do Azure"
services: app-service\mobile
documentationcenter: 
author: mattchenderson
manager: syntaxc4
editor: 
ms.assetid: a46dbf70-867d-48f6-8885-7f5207ad102e
ms.service: app-service-mobile
ms.workload: mobile
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 10/01/2016
ms.author: mahender
ms.openlocfilehash: 92c9f91807a6b5d4fea6b504256508f805627a16
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/03/2017
---
# <a name="authentication-and-authorization-in-azure-mobile-apps"></a><span data-ttu-id="037c0-103">Autenticação e Autorização nos Aplicativos Móveis do Azure</span><span class="sxs-lookup"><span data-stu-id="037c0-103">Authentication and Authorization in Azure Mobile Apps</span></span>
## <a name="what-is-app-service-authentication--authorization"></a><span data-ttu-id="037c0-104">O que é a Autenticação/Autorização do Serviço de Aplicativo?</span><span class="sxs-lookup"><span data-stu-id="037c0-104">What is App Service Authentication / Authorization?</span></span>
> [!NOTE]
> <span data-ttu-id="037c0-105">Este tópico será migrado para um tópico consolidado de [Autenticação/Autorização de Serviço de Aplicativo](../app-service/app-service-authentication-overview.md) , que abrange a Web, celulares e aplicativos de API.</span><span class="sxs-lookup"><span data-stu-id="037c0-105">This topic will be migrated to a consolidated [App Service Authentication / Authorization](../app-service/app-service-authentication-overview.md) topic, which covers Web, Mobile, and API Apps.</span></span>
> 
> 

<span data-ttu-id="037c0-106">Autenticação/Autorização do Serviço de Aplicativo é um recurso que permite que o seu aplicativo faça logon dos usuários sem alterações de código necessárias no back-end do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="037c0-106">App Service Authentication / Authorization is a feature which allows your application to log in users with no code changes required on the app backend.</span></span> <span data-ttu-id="037c0-107">Ele fornece uma maneira fácil de proteger o aplicativo e trabalhar com dados por usuário.</span><span class="sxs-lookup"><span data-stu-id="037c0-107">It provides an easy way to protect your application and work with per-user data.</span></span>

<span data-ttu-id="037c0-108">O Serviço de Aplicativo usa uma identidade federada, em que um (“IDP”) **provedor de identidade** de terceiros armazena contas e autentica usuários, e o aplicativo usa essa identidade, em vez de sua própria.</span><span class="sxs-lookup"><span data-stu-id="037c0-108">App Service uses federated identity, in which a 3rd-party **identity provider** ("IDP") stores accounts and authenticates users, and the application uses this identity instead of its own.</span></span> <span data-ttu-id="037c0-109">O Serviço de Aplicativo dá suporte a cinco provedores de identidade prontos para uso: *Azure Active Directory*, *Facebook*, *Google*, *Conta da Microsoft* e *Twitter*.</span><span class="sxs-lookup"><span data-stu-id="037c0-109">App Service supports five identity providers out of the box: *Azure Active Directory*, *Facebook*, *Google*, *Microsoft Account*, and *Twitter*.</span></span> <span data-ttu-id="037c0-110">Você também pode expandir esse suporte para seus aplicativos ao integrar outro provedor de identidade ou sua própria solução de identidade personalizada.</span><span class="sxs-lookup"><span data-stu-id="037c0-110">You can also expand this support for your apps by integrating another identity provider or your own custom identity solution.</span></span>

<span data-ttu-id="037c0-111">Seu aplicativo pode utilizar qualquer quantidade desses provedores de identidade, para que você possa fornecer opções de como fazer logon aos seus usuários finais.</span><span class="sxs-lookup"><span data-stu-id="037c0-111">Your app can leverage any number of these identity providers, so you can provide your end users with options for how they login.</span></span>

<span data-ttu-id="037c0-112">Se você deseja começar agora mesmo, veja um dos seguintes tutoriais:</span><span class="sxs-lookup"><span data-stu-id="037c0-112">If you wish to get started right away, please see one of the following tutorials:</span></span>

* <span data-ttu-id="037c0-113">[Adicione autenticação ao seu aplicativo do iOS]</span><span class="sxs-lookup"><span data-stu-id="037c0-113">[Add authentication to your iOS app]</span></span>
* <span data-ttu-id="037c0-114">[Adicionar autenticação ao aplicativo Xamarin.iOS]</span><span class="sxs-lookup"><span data-stu-id="037c0-114">[Add authentication to your Xamarin.iOS app]</span></span>
* <span data-ttu-id="037c0-115">[Adicione autenticação ao aplicativo Xamarin.Android]</span><span class="sxs-lookup"><span data-stu-id="037c0-115">[Add authentication to your Xamarin.Android app]</span></span>
* <span data-ttu-id="037c0-116">[Adicionar autenticação ao seu aplicativo do Windows]</span><span class="sxs-lookup"><span data-stu-id="037c0-116">[Add Authentication to your Windows app]</span></span>

## <a name="how-authentication-works"></a><span data-ttu-id="037c0-117">Como funciona a autenticação</span><span class="sxs-lookup"><span data-stu-id="037c0-117">How authentication works</span></span>
<span data-ttu-id="037c0-118">Para autenticar o uso de um dos provedores de identidade, primeiro você precisa configurar o provedor de identidade para conhecer seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="037c0-118">In order to authenticate using one of the identity providers, you first need to configure the identity provider to know about your application.</span></span> <span data-ttu-id="037c0-119">O provedor de identidade, em seguida, fornecerá as IDs e os segredos que você fornece de volta para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="037c0-119">The identity provider will then provide you with IDs and secrets that you provide back to the application.</span></span> <span data-ttu-id="037c0-120">Isso completa a relação de confiança e permite que o Serviço de Aplicativo valide as identidades fornecidas a ele.</span><span class="sxs-lookup"><span data-stu-id="037c0-120">This completes the trust relationship and allows App Service to validate identities provided to it.</span></span>

<span data-ttu-id="037c0-121">Essas etapas são detalhadas nos seguintes tópicos:</span><span class="sxs-lookup"><span data-stu-id="037c0-121">These steps are detailed in the following topics:</span></span>

* <span data-ttu-id="037c0-122">[Como configurar seu aplicativo para usar o logon do Active Directory do Azure]</span><span class="sxs-lookup"><span data-stu-id="037c0-122">[How to configure your app to use Azure Active Directory login]</span></span>
* <span data-ttu-id="037c0-123">[Como configurar seu aplicativo para usar o logon do Facebook]</span><span class="sxs-lookup"><span data-stu-id="037c0-123">[How to configure your app to use Facebook login]</span></span>
* <span data-ttu-id="037c0-124">[Como configurar seu aplicativo para usar o logon do Google]</span><span class="sxs-lookup"><span data-stu-id="037c0-124">[How to configure your app to use Google login]</span></span>
* <span data-ttu-id="037c0-125">[Como configurar seu aplicativo para usar o logon da Conta da Microsoft]</span><span class="sxs-lookup"><span data-stu-id="037c0-125">[How to configure your app to use Microsoft Account login]</span></span>
* <span data-ttu-id="037c0-126">[Como configurar seu aplicativo para usar o logon do Twitter]</span><span class="sxs-lookup"><span data-stu-id="037c0-126">[How to configure your app to use Twitter login]</span></span>

<span data-ttu-id="037c0-127">Depois que tudo estiver configurado no back-end, você pode modificar seu cliente para fazer logon.</span><span class="sxs-lookup"><span data-stu-id="037c0-127">Once everything is configured on the backend, you can modify your client to log in.</span></span> <span data-ttu-id="037c0-128">Há duas abordagens aqui:</span><span class="sxs-lookup"><span data-stu-id="037c0-128">There are two approaches here:</span></span>

* <span data-ttu-id="037c0-129">Usando uma única linha de código, permita que o SDK do cliente dos Aplicativos Móveis conectem os usuários.</span><span class="sxs-lookup"><span data-stu-id="037c0-129">Using a single line of code, let the Mobile Apps client SDK sign in users.</span></span>
* <span data-ttu-id="037c0-130">Utilize um SDK publicado por um provedor de identidade específico para estabelecer a identidade e, em seguida, obtenha acesso ao Serviço de Aplicativo.</span><span class="sxs-lookup"><span data-stu-id="037c0-130">Leverage an SDK published by a given identity provider to establish identity and then gain access to App Service.</span></span>

> [!TIP]
> <span data-ttu-id="037c0-131">A maior parte dos aplicativos deve usar um SDK do provedor para obter uma experiência de logon que se parece mais com a nativa e para aproveitar o suporte de atualização e outros benefícios específicos do provedor.</span><span class="sxs-lookup"><span data-stu-id="037c0-131">Most applications should use a provider SDK to get a more native-feeling login experience and to leverage refresh support and other provider-specific benefits.</span></span>
> 
> 

### <a name="how-authentication-without-a-provider-sdk-works"></a><span data-ttu-id="037c0-132">Como funciona a autenticação sem um SDK do provedor</span><span class="sxs-lookup"><span data-stu-id="037c0-132">How authentication without a provider SDK works</span></span>
<span data-ttu-id="037c0-133">Se não desejar configurar um SDK do provedor, você poderá permitir que os Aplicativos Móveis realizem o logon para você.</span><span class="sxs-lookup"><span data-stu-id="037c0-133">If you do not wish to set up a provider SDK, you can allow Mobile Apps to perform the login for you.</span></span> <span data-ttu-id="037c0-134">O SDK do cliente dos Aplicativos Móveis abrirá uma exibição da Web para o provedor de sua escolha e concluirá a conexão.</span><span class="sxs-lookup"><span data-stu-id="037c0-134">The Mobile Apps client SDK will open a web view to the provider of your choosing and complete the sign in.</span></span> <span data-ttu-id="037c0-135">Ocasionalmente, em blogs e fóruns, você verá isso sendo chamado de “fluxo do servidor” ou “fluxo direcionado pelo servidor”, já que o servidor gerencia o logon e o SDK do cliente nunca recebe o token do provedor.</span><span class="sxs-lookup"><span data-stu-id="037c0-135">Occasionally on blogs and forums you will see this referred to as the "server flow" or "server-directed flow" since the server is managing the login, and the client SDK never receives the provider token.</span></span>

<span data-ttu-id="037c0-136">O código necessário para iniciar esse fluxo é abordado no tutorial de autenticação de cada plataforma.</span><span class="sxs-lookup"><span data-stu-id="037c0-136">The code needed to start this flow is covered in the authentication tutorial for each platform.</span></span> <span data-ttu-id="037c0-137">No final do fluxo, o SDK do cliente tem um token do Serviço de Aplicativo, e o token é anexado automaticamente a todas as solicitações para o back-end.</span><span class="sxs-lookup"><span data-stu-id="037c0-137">At the end of the flow, the client SDK has an App Service token, and the token is automatically attached to all requests to the backend.</span></span>

### <a name="how-authentication-with-a-provider-sdk-works"></a><span data-ttu-id="037c0-138">Como funciona a autenticação com um SDK do provedor</span><span class="sxs-lookup"><span data-stu-id="037c0-138">How authentication with a provider SDK works</span></span>
<span data-ttu-id="037c0-139">Trabalhar com um SDK do provedor possibilita que a experiência de logon interaja mais intimamente com o SO da plataforma em que o aplicativo está sendo executado.</span><span class="sxs-lookup"><span data-stu-id="037c0-139">Working with a provider SDK allows the log-in experience to interact more tightly with the platform OS the app is running on.</span></span> <span data-ttu-id="037c0-140">Isso também lhe fornece um token do provedor e algumas informações de usuário no cliente, o que torna muito mais fácil consumir Graph APIs e personalizar a experiência do usuário.</span><span class="sxs-lookup"><span data-stu-id="037c0-140">This also gives you a provider token and some user information on the client, which makes it much easier to consume graph APIs and customize the user experience.</span></span> <span data-ttu-id="037c0-141">Ocasionalmente, em blogs e fóruns você verá isso designado como “fluxo do cliente” ou “fluxo direcionado pelo cliente”, já que o código no cliente está manipulando o logon, e o código do cliente tem acesso a um token do provedor.</span><span class="sxs-lookup"><span data-stu-id="037c0-141">Occasionally on blogs and forums you will see this referred to as the "client flow" or "client-directed flow" since code on the client is handling the login, and the client code has access to a provider token.</span></span>

<span data-ttu-id="037c0-142">Depois que um token do provedor é obtido, ele precisa ser enviado ao Serviço de Aplicativo para validação.</span><span class="sxs-lookup"><span data-stu-id="037c0-142">Once a provider token is obtained, it needs to be sent to App Service for validation.</span></span> <span data-ttu-id="037c0-143">No final do fluxo, o SDK do cliente tem um token do Serviço de Aplicativo, e o token é anexado automaticamente a todas as solicitações para o back-end.</span><span class="sxs-lookup"><span data-stu-id="037c0-143">At the end of the flow, the client SDK has an App Service token, and the token is automatically attached to all requests to the backend.</span></span> <span data-ttu-id="037c0-144">O desenvolvedor também pode manter uma referência ao token do provedor se desejar.</span><span class="sxs-lookup"><span data-stu-id="037c0-144">The developer can also keep a reference to the provider token if they so choose.</span></span>

## <a name="how-authorization-works"></a><span data-ttu-id="037c0-145">Como funciona a autorização</span><span class="sxs-lookup"><span data-stu-id="037c0-145">How authorization works</span></span>
<span data-ttu-id="037c0-146">Autenticação/Autorização do Serviço de Aplicativo expõe várias opções para **Ação a ser tomada quando a solicitação não estiver autenticada**.</span><span class="sxs-lookup"><span data-stu-id="037c0-146">App Service Authentication / Authorization exposes several choices for **Action to take when request is not authenticated**.</span></span> <span data-ttu-id="037c0-147">Antes que o código receba uma determinada solicitação, você pode fazer com que o Serviço de Aplicativo verifique se a solicitação é autenticada e, se não, rejeitá-la e tentar fazer com que o usuário faça logon antes de tentar novamente.</span><span class="sxs-lookup"><span data-stu-id="037c0-147">Before your code receives a given request, you can have App Service check to see if the request is authenticated and if not, reject it and attempt to have the user log in before trying again.</span></span>

<span data-ttu-id="037c0-148">Uma opção é fazer com que as solicitações não autenticadas sejam redirecionadas para um dos provedores de identidade.</span><span class="sxs-lookup"><span data-stu-id="037c0-148">One option is to have unauthenticated requests redirect to one of the identity providers.</span></span> <span data-ttu-id="037c0-149">Em um navegador da Web, isso na verdade levaria o usuário a uma nova página.</span><span class="sxs-lookup"><span data-stu-id="037c0-149">In a web browser, this would actually take the user to a new page.</span></span> <span data-ttu-id="037c0-150">No entanto, seu cliente móvel não poderá ser redirecionado dessa maneira, e as respostas não autenticadas receberão uma resposta HTTP *401 não autorizado* .</span><span class="sxs-lookup"><span data-stu-id="037c0-150">However, your mobile client cannot be redirected in this way, and unauthenticated responses will receive an HTTP *401 Unauthorized* response.</span></span> <span data-ttu-id="037c0-151">Por causa disso, a primeira solicitação feita pelo cliente sempre deve ser para o ponto de extremidade de logon e, em seguida, você pode fazer chamadas para quaisquer outras APIs.</span><span class="sxs-lookup"><span data-stu-id="037c0-151">Given this, the first request your client makes should always be to the login endpoint, and then you can make calls to any other APIs.</span></span> <span data-ttu-id="037c0-152">Se você tentar chamar outra API antes de fazer logon, o cliente receberá um erro.</span><span class="sxs-lookup"><span data-stu-id="037c0-152">If you attempt to call another API before logging in, your client will receive an error.</span></span>

<span data-ttu-id="037c0-153">Se você deseja ter um controle mais granular sobre quais pontos de extremidade exigem a autenticação, você também pode escolher “Nenhuma ação (permitir solicitação)” para as solicitações não autenticadas.</span><span class="sxs-lookup"><span data-stu-id="037c0-153">If you wish to have more granular control over which endpoints require authentication, you can also pick "No action (allow request)" for unauthenticated requests.</span></span> <span data-ttu-id="037c0-154">Nesse caso, todas as decisões de autenticação são adiadas para o código do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="037c0-154">In this case, all authentication decisions are deferred to your application code.</span></span> <span data-ttu-id="037c0-155">Isso também permite que você conceda o acesso a usuários específicos de acordo com regras de autorização personalizadas.</span><span class="sxs-lookup"><span data-stu-id="037c0-155">This also allows you to allow access to specific users based on custom authorization rules.</span></span>

## <a name="documentation"></a><span data-ttu-id="037c0-156">Documentação</span><span class="sxs-lookup"><span data-stu-id="037c0-156">Documentation</span></span>
<span data-ttu-id="037c0-157">Os seguintes tutoriais mostram como adicionar a autenticação aos clientes móveis usando o Serviço de Aplicativo:</span><span class="sxs-lookup"><span data-stu-id="037c0-157">The following tutorials show how to add authentication to your mobile clients using App Service:</span></span>

* <span data-ttu-id="037c0-158">[Adicione autenticação ao seu aplicativo do iOS]</span><span class="sxs-lookup"><span data-stu-id="037c0-158">[Add authentication to your iOS app]</span></span>
* <span data-ttu-id="037c0-159">[Adicionar autenticação ao aplicativo Xamarin.iOS]</span><span class="sxs-lookup"><span data-stu-id="037c0-159">[Add authentication to your Xamarin.iOS app]</span></span>
* <span data-ttu-id="037c0-160">[Adicione autenticação ao aplicativo Xamarin.Android]</span><span class="sxs-lookup"><span data-stu-id="037c0-160">[Add authentication to your Xamarin.Android app]</span></span>
* <span data-ttu-id="037c0-161">[Adicionar autenticação ao seu aplicativo do Windows]</span><span class="sxs-lookup"><span data-stu-id="037c0-161">[Add Authentication to your Windows app]</span></span>

<span data-ttu-id="037c0-162">Os seguintes tutoriais mostram como configurar o Serviço de Aplicativo para aproveitar provedores de autenticação diferentes:</span><span class="sxs-lookup"><span data-stu-id="037c0-162">The following tutorials show how to configure App Service to leverage different authentication providers:</span></span>

* <span data-ttu-id="037c0-163">[Como configurar seu aplicativo para usar o logon do Active Directory do Azure]</span><span class="sxs-lookup"><span data-stu-id="037c0-163">[How to configure your app to use Azure Active Directory login]</span></span>
* <span data-ttu-id="037c0-164">[Como configurar seu aplicativo para usar o logon do Facebook]</span><span class="sxs-lookup"><span data-stu-id="037c0-164">[How to configure your app to use Facebook login]</span></span>
* <span data-ttu-id="037c0-165">[Como configurar seu aplicativo para usar o logon do Google]</span><span class="sxs-lookup"><span data-stu-id="037c0-165">[How to configure your app to use Google login]</span></span>
* <span data-ttu-id="037c0-166">[Como configurar seu aplicativo para usar o logon da Conta da Microsoft]</span><span class="sxs-lookup"><span data-stu-id="037c0-166">[How to configure your app to use Microsoft Account login]</span></span>
* <span data-ttu-id="037c0-167">[Como configurar seu aplicativo para usar o logon do Twitter]</span><span class="sxs-lookup"><span data-stu-id="037c0-167">[How to configure your app to use Twitter login]</span></span>

<span data-ttu-id="037c0-168">Se você deseja usar um sistema de identidade diferente daqueles fornecidos aqui, também é possível utilizar o [suporte de autenticação personalizada da visualização no SDK do servidor do .NET](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#custom-auth).</span><span class="sxs-lookup"><span data-stu-id="037c0-168">If you wish to use an identity system other than the ones provided here, you can also leverage the [preview custom authentication support in the .NET server SDK](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#custom-auth).</span></span>

<span data-ttu-id="037c0-169">[Adicione autenticação ao seu aplicativo do iOS]: app-service-mobile-ios-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="037c0-169">[Add authentication to your iOS app]: app-service-mobile-ios-get-started-users.md</span></span>
<span data-ttu-id="037c0-170">[Adicionar autenticação ao aplicativo Xamarin.iOS]: app-service-mobile-xamarin-ios-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="037c0-170">[Add authentication to your Xamarin.iOS app]: app-service-mobile-xamarin-ios-get-started-users.md</span></span>
<span data-ttu-id="037c0-171">[Adicione autenticação ao aplicativo Xamarin.Android]: app-service-mobile-xamarin-android-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="037c0-171">[Add authentication to your Xamarin.Android app]: app-service-mobile-xamarin-android-get-started-users.md</span></span>
<span data-ttu-id="037c0-172">[Adicionar autenticação ao seu aplicativo do Windows]: app-service-mobile-windows-store-dotnet-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="037c0-172">[Add Authentication to your Windows app]: app-service-mobile-windows-store-dotnet-get-started-users.md</span></span>

<span data-ttu-id="037c0-173">[Como configurar seu aplicativo para usar o logon do Active Directory do Azure]: app-service-mobile-how-to-configure-active-directory-authentication.md</span><span class="sxs-lookup"><span data-stu-id="037c0-173">[How to configure your app to use Azure Active Directory login]: app-service-mobile-how-to-configure-active-directory-authentication.md</span></span>
<span data-ttu-id="037c0-174">[Como configurar seu aplicativo para usar o logon do Facebook]: app-service-mobile-how-to-configure-facebook-authentication.md</span><span class="sxs-lookup"><span data-stu-id="037c0-174">[How to configure your app to use Facebook login]: app-service-mobile-how-to-configure-facebook-authentication.md</span></span>
<span data-ttu-id="037c0-175">[Como configurar seu aplicativo para usar o logon do Google]: app-service-mobile-how-to-configure-google-authentication.md</span><span class="sxs-lookup"><span data-stu-id="037c0-175">[How to configure your app to use Google login]: app-service-mobile-how-to-configure-google-authentication.md</span></span>
<span data-ttu-id="037c0-176">[Como configurar seu aplicativo para usar o logon da Conta da Microsoft]: app-service-mobile-how-to-configure-microsoft-authentication.md</span><span class="sxs-lookup"><span data-stu-id="037c0-176">[How to configure your app to use Microsoft Account login]: app-service-mobile-how-to-configure-microsoft-authentication.md</span></span>
<span data-ttu-id="037c0-177">[Como configurar seu aplicativo para usar o logon do Twitter]: app-service-mobile-how-to-configure-twitter-authentication.md</span><span class="sxs-lookup"><span data-stu-id="037c0-177">[How to configure your app to use Twitter login]: app-service-mobile-how-to-configure-twitter-authentication.md</span></span>
