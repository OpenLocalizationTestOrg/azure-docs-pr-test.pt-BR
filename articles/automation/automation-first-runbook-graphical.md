---
title: "runbook de gráfico primeiro aaaMy na automação do Azure | Microsoft Docs"
description: "Tutorial que orienta você na criação de hello, testes e publicação de um runbook gráfico simple."
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: 
keywords: "runbook, modelo de runbook, automação de runbook, runbook do azure"
ms.assetid: dcb88f19-ed2b-4372-9724-6625cd287c8a
ms.service: automation
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 05/17/2017
ms.author: magoedte;bwren
ms.openlocfilehash: 964cf8bae75ca597959bfc39b2b07c22bbc9acb5
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="my-first-graphical-runbook"></a><span data-ttu-id="db504-104">O meu primeiro runbook gráfico</span><span class="sxs-lookup"><span data-stu-id="db504-104">My first graphical runbook</span></span>

> [!div class="op_single_selector"]
> * [<span data-ttu-id="db504-105">Gráfico</span><span class="sxs-lookup"><span data-stu-id="db504-105">Graphical</span></span>](automation-first-runbook-graphical.md)
> * [<span data-ttu-id="db504-106">PowerShell</span><span class="sxs-lookup"><span data-stu-id="db504-106">PowerShell</span></span>](automation-first-runbook-textual-powershell.md)
> * [<span data-ttu-id="db504-107">Fluxo de Trabalho do PowerShell</span><span class="sxs-lookup"><span data-stu-id="db504-107">PowerShell Workflow</span></span>](automation-first-runbook-textual.md)
> 
> 

<span data-ttu-id="db504-108">Este tutorial orienta você na criação de saudação de um [runbook gráfico](automation-runbook-types.md#graphical-runbooks) na automação do Azure.</span><span class="sxs-lookup"><span data-stu-id="db504-108">This tutorial walks you through hello creation of a [graphical runbook](automation-runbook-types.md#graphical-runbooks) in Azure Automation.</span></span>  <span data-ttu-id="db504-109">Vamos começar com um runbook simple que testa e publica enquanto explicamos como tootrack Olá status do trabalho de runbook hello.</span><span class="sxs-lookup"><span data-stu-id="db504-109">We start with a simple runbook that tests and publishes while we explain how tootrack hello status of hello runbook job.</span></span>  <span data-ttu-id="db504-110">Em seguida, podemos modificar Olá runbook tooactually gerenciar recursos do Azure, nesse caso, iniciando uma máquina virtual do Azure.</span><span class="sxs-lookup"><span data-stu-id="db504-110">Then we modify hello runbook tooactually manage Azure resources, in this case starting an Azure virtual machine.</span></span>  <span data-ttu-id="db504-111">Em seguida, podemos concluir o tutorial de saudação fazendo runbook hello mais robusta, adicionando parâmetros de runbook e links condicionais.</span><span class="sxs-lookup"><span data-stu-id="db504-111">Then we complete hello tutorial by making hello runbook more robust by adding runbook parameters and conditional links.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="db504-112">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="db504-112">Prerequisites</span></span>
<span data-ttu-id="db504-113">toocomplete neste tutorial, você precisará Olá a seguir.</span><span class="sxs-lookup"><span data-stu-id="db504-113">toocomplete this tutorial, you will need hello following.</span></span>

* <span data-ttu-id="db504-114">Assinatura do Azure.</span><span class="sxs-lookup"><span data-stu-id="db504-114">Azure subscription.</span></span>  <span data-ttu-id="db504-115">Se você ainda não tiver uma, poderá [ativar os benefícios de assinante do MSDN](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/) ou <a href="/pricing/free-account/" target="_blank">[inscrever-se em uma conta gratuita](https://azure.microsoft.com/free/).</span><span class="sxs-lookup"><span data-stu-id="db504-115">If you don't have one yet, you can [activate your MSDN subscriber benefits](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/) or <a href="/pricing/free-account/" target="_blank">[sign up for a free account](https://azure.microsoft.com/free/).</span></span>
* <span data-ttu-id="db504-116">[Conta de automação do Azure](automation-sec-configure-azure-runas-account.md) toohold Olá runbook e autenticar tooAzure recursos.</span><span class="sxs-lookup"><span data-stu-id="db504-116">[Azure Automation account](automation-sec-configure-azure-runas-account.md) toohold hello runbook and authenticate tooAzure resources.</span></span>  <span data-ttu-id="db504-117">Essa conta deve ter permissão toostart e parar a máquina virtual de saudação.</span><span class="sxs-lookup"><span data-stu-id="db504-117">This account must have permission toostart and stop hello virtual machine.</span></span>
* <span data-ttu-id="db504-118">Uma máquina virtual do Azure.</span><span class="sxs-lookup"><span data-stu-id="db504-118">An Azure virtual machine.</span></span>  <span data-ttu-id="db504-119">Vamos parar e iniciar esse computador, portanto ele não deve ser de produção.</span><span class="sxs-lookup"><span data-stu-id="db504-119">We will stop and start this machine so it should not be production.</span></span>

## <a name="step-1---create-runbook"></a><span data-ttu-id="db504-120">Etapa 1: criar o runbook</span><span class="sxs-lookup"><span data-stu-id="db504-120">Step 1 - Create runbook</span></span>
<span data-ttu-id="db504-121">Vamos começar criando um runbook simples que gera o texto de saudação *Hello World*.</span><span class="sxs-lookup"><span data-stu-id="db504-121">We start by creating a simple runbook that outputs hello text *Hello World*.</span></span>

1. <span data-ttu-id="db504-122">No portal do Azure de Olá, abra sua conta de automação.</span><span class="sxs-lookup"><span data-stu-id="db504-122">In hello Azure portal, open your Automation account.</span></span>  
   <span data-ttu-id="db504-123">página de conta de automação Olá fornece uma exibição rápida dos recursos de saudação nesta conta.</span><span class="sxs-lookup"><span data-stu-id="db504-123">hello Automation account page gives you a quick view of hello resources in this account.</span></span>  <span data-ttu-id="db504-124">Você já deve ter alguns ativos.</span><span class="sxs-lookup"><span data-stu-id="db504-124">You should already have some Assets.</span></span>  <span data-ttu-id="db504-125">A maioria delas são módulos de saudação que são incluídos automaticamente em uma nova conta de automação.</span><span class="sxs-lookup"><span data-stu-id="db504-125">Most of those are hello modules that are automatically included in a new Automation account.</span></span>  <span data-ttu-id="db504-126">Você também deve ter o ativo de credencial de saudação que é mencionado na Olá [pré-requisitos](#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="db504-126">You should also have hello Credential asset that's mentioned in hello [prerequisites](#prerequisites).</span></span>
2. <span data-ttu-id="db504-127">Clique em Olá **Runbooks** bloco tooopen Olá lista de runbooks.</span><span class="sxs-lookup"><span data-stu-id="db504-127">Click hello **Runbooks** tile tooopen hello list of runbooks.</span></span><br> <span data-ttu-id="db504-128">![Controle de runbooks](media/automation-first-runbook-graphical/runbooks-resources-tile.png)</span><span class="sxs-lookup"><span data-stu-id="db504-128">![Runbooks control](media/automation-first-runbook-graphical/runbooks-resources-tile.png)</span></span>
3. <span data-ttu-id="db504-129">Criar um novo runbook clicando no hello **adicionar um runbook** botão e, em seguida, **criar um novo runbook**.</span><span class="sxs-lookup"><span data-stu-id="db504-129">Create a new runbook by clicking on hello **Add a runbook** button and then **Create a new runbook**.</span></span>
4. <span data-ttu-id="db504-130">Nomeie Olá runbook Olá *MyFirstRunbook gráfica*.</span><span class="sxs-lookup"><span data-stu-id="db504-130">Give hello runbook hello name *MyFirstRunbook-Graphical*.</span></span>
5. <span data-ttu-id="db504-131">Nesse caso, vamos toocreate um [runbook gráfico](automation-graphical-authoring-intro.md) escolha **gráfico** para **tipo de Runbook**.</span><span class="sxs-lookup"><span data-stu-id="db504-131">In this case, we're going toocreate a [graphical runbook](automation-graphical-authoring-intro.md) so select **Graphical** for **Runbook type**.</span></span><br> <span data-ttu-id="db504-132">![Novo runbook](media/automation-first-runbook-graphical/create-new-runbook.png)</span><span class="sxs-lookup"><span data-stu-id="db504-132">![New runbook](media/automation-first-runbook-graphical/create-new-runbook.png)</span></span><br>
6. <span data-ttu-id="db504-133">Clique em **criar** toocreate Olá runbook e editor gráfico Olá aberto.</span><span class="sxs-lookup"><span data-stu-id="db504-133">Click **Create** toocreate hello runbook and open hello graphical editor.</span></span>

## <a name="step-2---add-activities-toohello-runbook"></a><span data-ttu-id="db504-134">Etapa 2: adicionar atividades toohello runbook</span><span class="sxs-lookup"><span data-stu-id="db504-134">Step 2 - Add activities toohello runbook</span></span>
<span data-ttu-id="db504-135">saudação de controle de biblioteca no lado esquerdo de saudação do editor de saudação permite tooselect atividades tooadd tooyour runbook.</span><span class="sxs-lookup"><span data-stu-id="db504-135">hello Library control on hello left side of hello editor allows you tooselect activities tooadd tooyour runbook.</span></span>  <span data-ttu-id="db504-136">Vamos tooadd um **Write-Output** cmdlet toooutput texto de saudação runbook.</span><span class="sxs-lookup"><span data-stu-id="db504-136">We're going tooadd a **Write-Output** cmdlet toooutput text from hello runbook.</span></span>

1. <span data-ttu-id="db504-137">Na Olá controle de biblioteca, clique na caixa de texto de pesquisa hello e digite **Write-Output**.</span><span class="sxs-lookup"><span data-stu-id="db504-137">In hello Library control, click in hello search textbox and type **Write-Output**.</span></span>  <span data-ttu-id="db504-138">resultados da pesquisa Olá serão exibidos abaixo.</span><span class="sxs-lookup"><span data-stu-id="db504-138">hello search results will be displayed below.</span></span> <br> <span data-ttu-id="db504-139">![Microsoft.PowerShell.Utility](media/automation-first-runbook-graphical/search-powershell-cmdlet-writeoutput.png)</span><span class="sxs-lookup"><span data-stu-id="db504-139">![Microsoft.PowerShell.Utility](media/automation-first-runbook-graphical/search-powershell-cmdlet-writeoutput.png)</span></span>
2. <span data-ttu-id="db504-140">Role para baixo toohello inferior da lista de saudação.</span><span class="sxs-lookup"><span data-stu-id="db504-140">Scroll down toohello bottom of hello list.</span></span>  <span data-ttu-id="db504-141">É possível que o botão direito do mouse **Write-Output** e selecione **adicionar toocanvas** ou clique Olá reticências próximo toohello cmdlet e, em seguida, selecione **adicionar toocanvas**.</span><span class="sxs-lookup"><span data-stu-id="db504-141">You can either right-click **Write-Output** and select **Add toocanvas** or click hello ellipse next toohello cmdlet and then select **Add toocanvas**.</span></span>
3. <span data-ttu-id="db504-142">Clique em Olá **Write-Output** atividade na tela hello.</span><span class="sxs-lookup"><span data-stu-id="db504-142">Click hello **Write-Output** activity on hello canvas.</span></span>  <span data-ttu-id="db504-143">Isso abre a folha de controle de configuração hello, que permite que você tooconfigure atividade de saudação.</span><span class="sxs-lookup"><span data-stu-id="db504-143">This opens hello Configuration control blade, which allows you tooconfigure hello activity.</span></span>
4. <span data-ttu-id="db504-144">Olá **rótulo** padrões toohello nome do cmdlet hello, mas é possível alterar toosomething mais amigável.</span><span class="sxs-lookup"><span data-stu-id="db504-144">hello **Label** defaults toohello name of hello cmdlet, but we can change it toosomething more friendly.</span></span> <span data-ttu-id="db504-145">Alterá-la muito*toooutput gravar Hello World*.</span><span class="sxs-lookup"><span data-stu-id="db504-145">Change it too*Write Hello World toooutput*.</span></span>
5. <span data-ttu-id="db504-146">Clique em **parâmetros** tooprovide valores para parâmetros do cmdlet hello.</span><span class="sxs-lookup"><span data-stu-id="db504-146">Click **Parameters** tooprovide values for hello cmdlet's parameters.</span></span>  
   <span data-ttu-id="db504-147">Alguns cmdlets têm vários conjuntos de parâmetros, e você precisa tooselect que é um toouse.</span><span class="sxs-lookup"><span data-stu-id="db504-147">Some cmdlets have multiple parameter sets, and you need tooselect which you one toouse.</span></span> <span data-ttu-id="db504-148">Nesse caso, **Write-Output** tem apenas um conjunto de parâmetros, portanto, você não precisa tooselect um.</span><span class="sxs-lookup"><span data-stu-id="db504-148">In this case, **Write-Output** has only one parameter set, so you don't need tooselect one.</span></span> <br> <span data-ttu-id="db504-149">![Propriedades de Write-Output](media/automation-first-runbook-graphical/write-output-properties-b.png)</span><span class="sxs-lookup"><span data-stu-id="db504-149">![Write-Output properties](media/automation-first-runbook-graphical/write-output-properties-b.png)</span></span>
6. <span data-ttu-id="db504-150">Selecione Olá **InputObject** parâmetro.</span><span class="sxs-lookup"><span data-stu-id="db504-150">Select hello **InputObject** parameter.</span></span>  <span data-ttu-id="db504-151">Isso é o parâmetro hello onde podemos especificar o fluxo de saída do hello texto toosend toohello.</span><span class="sxs-lookup"><span data-stu-id="db504-151">This is hello parameter where we specify hello text toosend toohello output stream.</span></span>
7. <span data-ttu-id="db504-152">Em Olá **fonte de dados** lista suspensa, selecione **PowerShell expressão**.</span><span class="sxs-lookup"><span data-stu-id="db504-152">In hello **Data source** dropdown, select **PowerShell expression**.</span></span>  <span data-ttu-id="db504-153">Olá **fonte de dados** suspensa fornece fontes diferentes que você use toopopulate um valor de parâmetro.</span><span class="sxs-lookup"><span data-stu-id="db504-153">hello **Data source** dropdown provides different sources that you use toopopulate a parameter value.</span></span>  
   <span data-ttu-id="db504-154">Você pode usar a saída dessas fontes como outra atividade, um ativo de Automação ou uma expressão do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="db504-154">You can use output from such sources such as another activity, an Automation asset, or a PowerShell expression.</span></span>  <span data-ttu-id="db504-155">Nesse caso, queremos apenas texto de saudação toooutput *Hello World*.</span><span class="sxs-lookup"><span data-stu-id="db504-155">In this case, we just want toooutput hello text *Hello World*.</span></span> <span data-ttu-id="db504-156">Podemos usar uma expressão do PowerShell e especificar uma cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="db504-156">We can use a PowerShell expression and specify a string.</span></span>
8. <span data-ttu-id="db504-157">Em Olá **expressão** , digite *"Hello World"* e, em seguida, clique em **Okey** tela de toohello tooreturn duas vezes.</span><span class="sxs-lookup"><span data-stu-id="db504-157">In hello **Expression** box, type *"Hello World"* and then click **OK** twice tooreturn toohello canvas.</span></span><br> <span data-ttu-id="db504-158">![PowerShell Expression](media/automation-first-runbook-graphical/expression-hello-world.png)</span><span class="sxs-lookup"><span data-stu-id="db504-158">![PowerShell Expression](media/automation-first-runbook-graphical/expression-hello-world.png)</span></span>
9. <span data-ttu-id="db504-159">Salvar o runbook Olá clicando **salvar**.</span><span class="sxs-lookup"><span data-stu-id="db504-159">Save hello runbook by clicking **Save**.</span></span><br> <span data-ttu-id="db504-160">![Salvar runbook](media/automation-first-runbook-graphical/runbook-toolbar-save-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="db504-160">![Save runbook](media/automation-first-runbook-graphical/runbook-toolbar-save-revised20165.png)</span></span>

## <a name="step-3---test-hello-runbook"></a><span data-ttu-id="db504-161">Etapa 3 - teste Olá runbook</span><span class="sxs-lookup"><span data-stu-id="db504-161">Step 3 - Test hello runbook</span></span>
<span data-ttu-id="db504-162">Antes de publicamos Olá runbook toomake-lo disponível em produção, queremos tootest-toomake-se de que ele funcione corretamente.</span><span class="sxs-lookup"><span data-stu-id="db504-162">Before we publish hello runbook toomake it available in production, we want tootest it toomake sure that it works properly.</span></span>  <span data-ttu-id="db504-163">Quando você testa um runbook, executa sua versão de **Rascunho** e vê sua saída interativamente.</span><span class="sxs-lookup"><span data-stu-id="db504-163">When you test a runbook, you run its **Draft** version and view its output interactively.</span></span>

1. <span data-ttu-id="db504-164">Clique em **painel teste** tooopen folha de teste de saudação.</span><span class="sxs-lookup"><span data-stu-id="db504-164">Click **Test pane** tooopen hello Test blade.</span></span><br> <span data-ttu-id="db504-165">![Painel de teste](media/automation-first-runbook-graphical/runbook-toolbar-test-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="db504-165">![Test pane](media/automation-first-runbook-graphical/runbook-toolbar-test-revised20165.png)</span></span>
2. <span data-ttu-id="db504-166">Clique em **iniciar** toostart teste de saudação.</span><span class="sxs-lookup"><span data-stu-id="db504-166">Click **Start** toostart hello test.</span></span>  <span data-ttu-id="db504-167">Isso deve ser a opção de Olá só está habilitada.</span><span class="sxs-lookup"><span data-stu-id="db504-167">This should be hello only enabled option.</span></span>
3. <span data-ttu-id="db504-168">Um [trabalho de runbook](automation-runbook-execution.md) é criado e seu status exibidos no painel de saudação.</span><span class="sxs-lookup"><span data-stu-id="db504-168">A [runbook job](automation-runbook-execution.md) is created and its status displayed in hello pane.</span></span>  
   <span data-ttu-id="db504-169">status do trabalho Olá começa como *na fila* indicando que ele está aguardando um trabalho de runbook no hello toobecome de nuvem disponível.</span><span class="sxs-lookup"><span data-stu-id="db504-169">hello job status starts as *Queued* indicating that it is waiting for a runbook worker in hello cloud toobecome available.</span></span>  <span data-ttu-id="db504-170">Ele move muito*iniciando* quando um trabalhador declarações trabalho Olá e, em seguida, *executando* quando Olá runbook realmente começa a ser executado.</span><span class="sxs-lookup"><span data-stu-id="db504-170">It then moves too*Starting* when a worker claims hello job, and then *Running* when hello runbook actually starts running.</span></span>  
4. <span data-ttu-id="db504-171">Quando o trabalho de runbook Olá for concluído, a saída é exibida.</span><span class="sxs-lookup"><span data-stu-id="db504-171">When hello runbook job completes, its output is displayed.</span></span> <span data-ttu-id="db504-172">Em nosso caso, deveremos ver *Olá mundo*.</span><span class="sxs-lookup"><span data-stu-id="db504-172">In our case, we should see *Hello World*.</span></span><br> <span data-ttu-id="db504-173">![Olá mundo](media/automation-first-runbook-graphical/runbook-test-results.png)</span><span class="sxs-lookup"><span data-stu-id="db504-173">![Hello World](media/automation-first-runbook-graphical/runbook-test-results.png)</span></span>
5. <span data-ttu-id="db504-174">Feche a tela do hello teste folha tooreturn toohello.</span><span class="sxs-lookup"><span data-stu-id="db504-174">Close hello Test blade tooreturn toohello canvas.</span></span>

## <a name="step-4---publish-and-start-hello-runbook"></a><span data-ttu-id="db504-175">Etapa 4: publicar e iniciar o runbook Olá</span><span class="sxs-lookup"><span data-stu-id="db504-175">Step 4 - Publish and start hello runbook</span></span>
<span data-ttu-id="db504-176">Olá runbook que criamos ainda está em modo de rascunho.</span><span class="sxs-lookup"><span data-stu-id="db504-176">hello runbook that we created is still in Draft mode.</span></span> <span data-ttu-id="db504-177">Precisamos toopublish antes de fazermos em produção.</span><span class="sxs-lookup"><span data-stu-id="db504-177">We need toopublish it before we can run it in production.</span></span>  <span data-ttu-id="db504-178">Quando você publicar um runbook, você substituir a versão publicada existente de saudação com versão de rascunho de saudação.</span><span class="sxs-lookup"><span data-stu-id="db504-178">When you publish a runbook, you overwrite hello existing Published version with hello Draft version.</span></span>  <span data-ttu-id="db504-179">Em nosso caso, não temos uma versão publicada ainda porque que acabamos de criar o runbook hello.</span><span class="sxs-lookup"><span data-stu-id="db504-179">In our case, we don't have a Published version yet because we just created hello runbook.</span></span>

1. <span data-ttu-id="db504-180">Clique em **publicar** toopublish Olá runbook e, em seguida, **Sim** quando solicitado.</span><span class="sxs-lookup"><span data-stu-id="db504-180">Click **Publish** toopublish hello runbook and then **Yes** when prompted.</span></span><br> <span data-ttu-id="db504-181">![Publicar](media/automation-first-runbook-graphical/runbook-toolbar-publish-revised20166.png)</span><span class="sxs-lookup"><span data-stu-id="db504-181">![Publish](media/automation-first-runbook-graphical/runbook-toolbar-publish-revised20166.png)</span></span>
2. <span data-ttu-id="db504-182">Se você rolar tooview esquerdo Olá runbook no hello **Runbooks** folha, ele mostra um **Status criação** de **publicado**.</span><span class="sxs-lookup"><span data-stu-id="db504-182">If you scroll left tooview hello runbook in hello **Runbooks** blade, it shows an **Authoring Status** of **Published**.</span></span>
3. <span data-ttu-id="db504-183">Folha de saudação do rolagem toohello back tooview direita para **MyFirstRunbook**.</span><span class="sxs-lookup"><span data-stu-id="db504-183">Scroll back toohello right tooview hello blade for **MyFirstRunbook**.</span></span>  
   <span data-ttu-id="db504-184">Olá opções na parte superior da saudação nos permitem toostart Olá runbook, agendá-la toostart em algum momento futuro de saudação ou criar um [webhook](automation-webhooks.md) para que ele possa ser iniciado por meio de uma chamada HTTP.</span><span class="sxs-lookup"><span data-stu-id="db504-184">hello options across hello top allow us toostart hello runbook, schedule it toostart at some time in hello future, or create a [webhook](automation-webhooks.md) so it can be started through an HTTP call.</span></span>
4. <span data-ttu-id="db504-185">Queremos apenas toostart Olá runbook clique em **iniciar** e **Sim** quando solicitado.</span><span class="sxs-lookup"><span data-stu-id="db504-185">We just want toostart hello runbook so click **Start** and then **Yes** when prompted.</span></span><br> <span data-ttu-id="db504-186">![Iniciar runbook](media/automation-first-runbook-graphical/runbook-controls-start-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="db504-186">![Start runbook](media/automation-first-runbook-graphical/runbook-controls-start-revised20165.png)</span></span>
5. <span data-ttu-id="db504-187">Uma folha de trabalho é aberta para o trabalho de runbook Olá que criamos.</span><span class="sxs-lookup"><span data-stu-id="db504-187">A job blade is opened for hello runbook job that we created.</span></span>  <span data-ttu-id="db504-188">É possível fechar esta folha, mas nesse caso é deixá-lo aberto para que possamos ver o progresso do trabalho hello.</span><span class="sxs-lookup"><span data-stu-id="db504-188">We can close this blade, but in this case we leave it open so we can watch hello job's progress.</span></span>
6. <span data-ttu-id="db504-189">status do trabalho Olá é mostrada na **resumo do trabalho** e correspondências Olá status que vimos Quando testamos Olá runbook.</span><span class="sxs-lookup"><span data-stu-id="db504-189">hello job status is shown in **Job Summary** and matches hello statuses that we saw when we tested hello runbook.</span></span><br> <span data-ttu-id="db504-190">![Resumo do trabalho](media/automation-first-runbook-graphical/runbook-job-summary.png)</span><span class="sxs-lookup"><span data-stu-id="db504-190">![Job Summary](media/automation-first-runbook-graphical/runbook-job-summary.png)</span></span>
7. <span data-ttu-id="db504-191">Uma vez Olá runbook status mostra *concluído*, clique em **saída**.</span><span class="sxs-lookup"><span data-stu-id="db504-191">Once hello runbook status shows *Completed*, click **Output**.</span></span> <span data-ttu-id="db504-192">Olá **saída** folha é aberta e podemos ver nossa *Hello World* no painel de saudação.</span><span class="sxs-lookup"><span data-stu-id="db504-192">hello **Output** blade is opened, and we can see our *Hello World* in hello pane.</span></span><br> <span data-ttu-id="db504-193">![Resumo do trabalho](media/automation-first-runbook-graphical/runbook-job-output.png)</span><span class="sxs-lookup"><span data-stu-id="db504-193">![Job Summary](media/automation-first-runbook-graphical/runbook-job-output.png)</span></span>  
8. <span data-ttu-id="db504-194">Folha de saída de hello fechar.</span><span class="sxs-lookup"><span data-stu-id="db504-194">Close hello Output blade.</span></span>
9. <span data-ttu-id="db504-195">Clique em **todos os Logs** tooopen folha de fluxos Olá para o trabalho de runbook hello.</span><span class="sxs-lookup"><span data-stu-id="db504-195">Click **All Logs** tooopen hello Streams blade for hello runbook job.</span></span>  <span data-ttu-id="db504-196">Veremos apenas *Hello World* na saída de hello fluxo, mas isso pode mostrar outros fluxos de um trabalho de runbook, como detalhado e de erro se o runbook Olá grava toothem.</span><span class="sxs-lookup"><span data-stu-id="db504-196">We should only see *Hello World* in hello output stream, but this can show other streams for a runbook job such as Verbose and Error if hello runbook writes toothem.</span></span><br> <span data-ttu-id="db504-197">![Resumo do trabalho](media/automation-first-runbook-graphical/runbook-job-AllLogs.png)</span><span class="sxs-lookup"><span data-stu-id="db504-197">![Job Summary](media/automation-first-runbook-graphical/runbook-job-AllLogs.png)</span></span>
10. <span data-ttu-id="db504-198">Feche a folha de todos os Logs de saudação e folha do hello trabalho folha tooreturn toohello MyFirstRunbook.</span><span class="sxs-lookup"><span data-stu-id="db504-198">Close hello All Logs blade and hello Job blade tooreturn toohello MyFirstRunbook blade.</span></span>
11. <span data-ttu-id="db504-199">Clique em **trabalhos** tooopen folha de trabalhos Olá para este runbook.</span><span class="sxs-lookup"><span data-stu-id="db504-199">Click **Jobs** tooopen hello Jobs blade for this runbook.</span></span>  <span data-ttu-id="db504-200">Lista todos os trabalhos de saudação criados por este runbook.</span><span class="sxs-lookup"><span data-stu-id="db504-200">This lists all hello jobs created by this runbook.</span></span> <span data-ttu-id="db504-201">Um trabalho listado como somente executamos trabalho Olá uma vez só deverá ser exibida.</span><span class="sxs-lookup"><span data-stu-id="db504-201">We should only see one job listed since we only ran hello job once.</span></span><br> <span data-ttu-id="db504-202">![Trabalhos](media/automation-first-runbook-graphical/runbook-control-jobs.png)</span><span class="sxs-lookup"><span data-stu-id="db504-202">![Jobs](media/automation-first-runbook-graphical/runbook-control-jobs.png)</span></span>
12. <span data-ttu-id="db504-203">Você pode clicar neste trabalho tooopen Olá mesmo painel de trabalho que são exibidos quando é iniciado Olá runbook.</span><span class="sxs-lookup"><span data-stu-id="db504-203">You can click this job tooopen hello same Job pane that we viewed when we started hello runbook.</span></span>  <span data-ttu-id="db504-204">Isso permite que você toogo Voltar no tempo e exibir detalhes de saudação de qualquer trabalho que foi criado para um determinado runbook.</span><span class="sxs-lookup"><span data-stu-id="db504-204">This allows you toogo back in time and view hello details of any job that was created for a particular runbook.</span></span>

## <a name="step-5---create-variable-assets"></a><span data-ttu-id="db504-205">Etapa 5: criar ativos de variável</span><span class="sxs-lookup"><span data-stu-id="db504-205">Step 5 - Create variable assets</span></span>
<span data-ttu-id="db504-206">Testamos e publicamos nosso runbook, mas até o momento ele não faz nada útil.</span><span class="sxs-lookup"><span data-stu-id="db504-206">We've tested and published our runbook, but so far it doesn't do anything useful.</span></span> <span data-ttu-id="db504-207">Queremos toohave-gerenciar recursos do Azure.</span><span class="sxs-lookup"><span data-stu-id="db504-207">We want toohave it manage Azure resources.</span></span>  <span data-ttu-id="db504-208">Antes de configuramos Olá runbook tooauthenticate, podemos criar uma ID de assinatura de saudação toohold variável e referenciá-lo depois que configuramos hello atividade tooauthenticate na etapa 6 abaixo.</span><span class="sxs-lookup"><span data-stu-id="db504-208">Before we configure hello runbook tooauthenticate, we  create a variable toohold hello subscription ID and reference it after we set up hello activity tooauthenticate in step 6 below.</span></span>  <span data-ttu-id="db504-209">Incluindo um contexto de assinatura toohello Referência permite tooeasily trabalho entre várias assinaturas.</span><span class="sxs-lookup"><span data-stu-id="db504-209">Including a reference toohello subscription context allows you tooeasily work between multiple subscriptions.</span></span>  <span data-ttu-id="db504-210">Antes de continuar, copie sua ID de assinatura da saudação opção assinaturas desativar o painel de navegação de saudação.</span><span class="sxs-lookup"><span data-stu-id="db504-210">Before proceeding, copy your subscription ID from hello Subscriptions option off hello Navigation pane.</span></span>  

1. <span data-ttu-id="db504-211">Na folha de contas de automação de saudação, clique em Olá **ativos** lado a lado e hello **ativos** folha é aberta.</span><span class="sxs-lookup"><span data-stu-id="db504-211">In hello Automation Accounts blade, click hello **Assets** tile and hello **Assets** blade is opened.</span></span>
2. <span data-ttu-id="db504-212">Na folha de ativos de saudação, clique em Olá **variáveis** lado a lado.</span><span class="sxs-lookup"><span data-stu-id="db504-212">In hello Assets blade, click hello **Variables** tile.</span></span>
3. <span data-ttu-id="db504-213">Na folha de variáveis de saudação, clique em **adicionar uma variável**.</span><span class="sxs-lookup"><span data-stu-id="db504-213">On hello Variables blade, click **Add a variable**.</span></span><br><span data-ttu-id="db504-214">![Variável de Automação](media/automation-first-runbook-graphical/create-new-subscriptionid-variable.png)</span><span class="sxs-lookup"><span data-stu-id="db504-214">![Automation Variable](media/automation-first-runbook-graphical/create-new-subscriptionid-variable.png)</span></span>
4. <span data-ttu-id="db504-215">Olá nova variável folha, no hello **nome** , digite **AzureSubscriptionId** e em Olá **valor** caixa Insira sua ID de assinatura.</span><span class="sxs-lookup"><span data-stu-id="db504-215">In hello New variable blade, in hello **Name** box, enter **AzureSubscriptionId** and in hello **Value** box enter your Subscription ID.</span></span>  <span data-ttu-id="db504-216">Manter *cadeia de caracteres* para Olá **tipo** e o valor padrão Olá **criptografia**.</span><span class="sxs-lookup"><span data-stu-id="db504-216">Keep *string* for hello **Type** and hello default value for **Encryption**.</span></span>  
5. <span data-ttu-id="db504-217">Clique em **criar** toocreate variável de saudação.</span><span class="sxs-lookup"><span data-stu-id="db504-217">Click **Create** toocreate hello variable.</span></span>  

## <a name="step-6---add-authentication-toomanage-azure-resources"></a><span data-ttu-id="db504-218">Etapa 6: adicionar autenticação toomanage recursos do Azure</span><span class="sxs-lookup"><span data-stu-id="db504-218">Step 6 - Add authentication toomanage Azure resources</span></span>
<span data-ttu-id="db504-219">Agora que temos uma variável toohold ID da assinatura, podemos configurar nosso tooauthenticate runbook com hello executar como credenciais que são chamados tooin Olá [pré-requisitos](#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="db504-219">Now that we have a variable toohold our subscription ID, we can configure our runbook tooauthenticate with hello Run As credentials that are referred tooin hello [prerequisites](#prerequisites).</span></span>  <span data-ttu-id="db504-220">Podemos fazer isso com a adição de conexão de executar como do Azure do hello **ativos** e **AzureRMAccount adicionar** cmdlet toohello tela.</span><span class="sxs-lookup"><span data-stu-id="db504-220">We do that by adding hello Azure Run As connection **Asset** and **Add-AzureRMAccount** cmdlet toohello canvas.</span></span>  

1. <span data-ttu-id="db504-221">Editor gráfico de saudação aberta clicando **editar** na folha de MyFirstRunbook hello.</span><span class="sxs-lookup"><span data-stu-id="db504-221">Open hello graphical editor by clicking **Edit** on hello MyFirstRunbook blade.</span></span><br> <span data-ttu-id="db504-222">![Editar runbook](media/automation-first-runbook-graphical/runbook-controls-edit-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="db504-222">![Edit runbook](media/automation-first-runbook-graphical/runbook-controls-edit-revised20165.png)</span></span>
2. <span data-ttu-id="db504-223">Não precisamos Olá **gravar Hello World toooutput** , então clique duas vezes e selecione **excluir**.</span><span class="sxs-lookup"><span data-stu-id="db504-223">We don't need hello **Write Hello World toooutput** anymore, so right-click it and select **Delete**.</span></span>
3. <span data-ttu-id="db504-224">No hello controle de biblioteca, expanda **conexões** e adicione **AzureRunAsConnection** toohello tela selecionando **adicionar toocanvas**.</span><span class="sxs-lookup"><span data-stu-id="db504-224">In hello Library control, expand **Connections** and add **AzureRunAsConnection** toohello canvas by selecting **Add toocanvas**.</span></span>
4. <span data-ttu-id="db504-225">Na tela hello, selecione **AzureRunAsConnection** e no painel de controle de configuração hello, digite **obter executar como Conexão** em Olá **rótulo** caixa de texto.</span><span class="sxs-lookup"><span data-stu-id="db504-225">On hello canvas, select **AzureRunAsConnection** and in hello Configuration control pane, type **Get Run As Connection** in hello **Label** textbox.</span></span>  <span data-ttu-id="db504-226">Isso é conexão Olá</span><span class="sxs-lookup"><span data-stu-id="db504-226">This is hello connection</span></span>
5. <span data-ttu-id="db504-227">No controle da biblioteca de Olá, digite **AzureRmAccount adicionar** na caixa de texto de pesquisa de saudação.</span><span class="sxs-lookup"><span data-stu-id="db504-227">In hello Library control, type **Add-AzureRmAccount** in hello search textbox.</span></span>
6. <span data-ttu-id="db504-228">Adicionar **AzureRmAccount adicionar** toohello tela.</span><span class="sxs-lookup"><span data-stu-id="db504-228">Add **Add-AzureRmAccount** toohello canvas.</span></span><br> <span data-ttu-id="db504-229">![AzureRMAccount adicionar](media/automation-first-runbook-graphical/search-powershell-cmdlet-addazurermaccount.png)</span><span class="sxs-lookup"><span data-stu-id="db504-229">![Add-AzureRMAccount](media/automation-first-runbook-graphical/search-powershell-cmdlet-addazurermaccount.png)</span></span>
7. <span data-ttu-id="db504-230">Passe o mouse sobre **obter executar como Conexão** até que um círculo é exibida na parte inferior da saudação de forma hello.</span><span class="sxs-lookup"><span data-stu-id="db504-230">Hover over **Get Run As Connection** until a circle appears on hello bottom of hello shape.</span></span> <span data-ttu-id="db504-231">Clique Olá círculo e arraste a seta de saudação muito**AzureRmAccount adicionar**.</span><span class="sxs-lookup"><span data-stu-id="db504-231">Click hello circle and drag hello arrow too**Add-AzureRmAccount**.</span></span>  <span data-ttu-id="db504-232">seta de saudação que você criou é um *link*.</span><span class="sxs-lookup"><span data-stu-id="db504-232">hello arrow that you created is a *link*.</span></span>  <span data-ttu-id="db504-233">Olá runbook inicia com **obter executar como Conexão** e, em seguida, execute **AzureRmAccount adicionar**.</span><span class="sxs-lookup"><span data-stu-id="db504-233">hello runbook starts with **Get Run As Connection** and then run **Add-AzureRmAccount**.</span></span><br> <span data-ttu-id="db504-234">![Criar link entre as atividades](media/automation-first-runbook-graphical/runbook-link-auth-activities.png)</span><span class="sxs-lookup"><span data-stu-id="db504-234">![Create link between activities](media/automation-first-runbook-graphical/runbook-link-auth-activities.png)</span></span>
8. <span data-ttu-id="db504-235">Na tela hello, selecione **adicionar AzureRmAccount** e na configuração de saudação tipo de painel de controle **Login tooAzure** em Olá **rótulo** caixa de texto.</span><span class="sxs-lookup"><span data-stu-id="db504-235">On hello canvas, select **Add-AzureRmAccount** and in hello Configuration control pane type **Login tooAzure** in hello **Label** textbox.</span></span>
9. <span data-ttu-id="db504-236">Clique em **parâmetros** e folha de configuração de parâmetro de atividade de saudação é exibida.</span><span class="sxs-lookup"><span data-stu-id="db504-236">Click **Parameters** and hello Activity Parameter Configuration blade appears.</span></span>
10. <span data-ttu-id="db504-237">**Adicionar AzureRmAccount** tem vários conjuntos de parâmetros, portanto, precisamos tooselect um antes que possamos fornecer os valores de parâmetro.</span><span class="sxs-lookup"><span data-stu-id="db504-237">**Add-AzureRmAccount** has multiple parameter sets, so we need tooselect one before we can provide parameter values.</span></span>  <span data-ttu-id="db504-238">Clique em **parâmetro definido** e, em seguida, selecione Olá **ServicePrincipalCertificatewithSubscriptionId** conjunto de parâmetros.</span><span class="sxs-lookup"><span data-stu-id="db504-238">Click **Parameter Set** and then select hello **ServicePrincipalCertificatewithSubscriptionId** parameter set.</span></span>
11. <span data-ttu-id="db504-239">Depois de selecionar o conjunto de parâmetros Olá, parâmetros Olá são exibidos na folha de configuração de parâmetro de atividade de saudação.</span><span class="sxs-lookup"><span data-stu-id="db504-239">Once you select hello parameter set, hello parameters are displayed in hello Activity Parameter Configuration blade.</span></span>  <span data-ttu-id="db504-240">Clique em **APPLICATIONID**.</span><span class="sxs-lookup"><span data-stu-id="db504-240">Click **APPLICATIONID**.</span></span><br> <span data-ttu-id="db504-241">![Adicionar parâmetros da conta do Azure RM](media/automation-first-runbook-graphical/add-azurermaccount-params.png)</span><span class="sxs-lookup"><span data-stu-id="db504-241">![Add Azure RM account parameters](media/automation-first-runbook-graphical/add-azurermaccount-params.png)</span></span>
12. <span data-ttu-id="db504-242">Na folha de valor de parâmetro hello, selecione **saída de atividade** para Olá **fonte de dados** e selecione **obter executar como Conexão** na lista hello, Olá **campo caminho** caixa de texto tipo **ApplicationId**e, em seguida, clique em **Okey**.</span><span class="sxs-lookup"><span data-stu-id="db504-242">In hello Parameter Value blade, select **Activity output** for hello **Data source** and select **Get Run As Connection** from hello list, in hello **Field path** textbox type **ApplicationId**, and then click **OK**.</span></span>  <span data-ttu-id="db504-243">Podemos estiver especificando um nome Olá da propriedade Olá para o caminho de campo Olá porque a atividade de hello gera um objeto com várias propriedades.</span><span class="sxs-lookup"><span data-stu-id="db504-243">We are specifying hello name of hello property for hello Field path because hello activity outputs an object with multiple properties.</span></span>
13. <span data-ttu-id="db504-244">Clique em **CERTIFICATETHUMBPRINT**e na folha do valor do parâmetro hello, selecione **saída de atividade** para Olá **fonte de dados**.</span><span class="sxs-lookup"><span data-stu-id="db504-244">Click **CERTIFICATETHUMBPRINT**, and in hello Parameter Value blade, select **Activity output** for hello **Data source**.</span></span>  <span data-ttu-id="db504-245">Selecione **obter executar como Conexão** na lista hello, Olá **caminho de campo** caixa de texto tipo **CertificateThumbprint**e, em seguida, clique em **Okey**.</span><span class="sxs-lookup"><span data-stu-id="db504-245">Select **Get Run As Connection** from hello list, in hello **Field path** textbox type **CertificateThumbprint**, and then click **OK**.</span></span>
14. <span data-ttu-id="db504-246">Clique em **SERVICEPRINCIPAL**e na folha do valor do parâmetro hello, selecione **ConstantValue** para Olá **fonte de dados**, clique em opção Olá **True**e, em seguida, clique em **Okey**.</span><span class="sxs-lookup"><span data-stu-id="db504-246">Click **SERVICEPRINCIPAL**, and in hello Parameter Value blade, select **ConstantValue** for hello **Data source**, click hello option **True**, and then click **OK**.</span></span>
15. <span data-ttu-id="db504-247">Clique em **TENANTID**e na folha do valor do parâmetro hello, selecione **saída de atividade** para Olá **fonte de dados**.</span><span class="sxs-lookup"><span data-stu-id="db504-247">Click **TENANTID**, and in hello Parameter Value blade, select **Activity output** for hello **Data source**.</span></span>  <span data-ttu-id="db504-248">Selecione **obter executar como Conexão** na lista hello, Olá **caminho de campo** caixa de texto tipo **TenantId**e, em seguida, clique em **Okey** duas vezes.</span><span class="sxs-lookup"><span data-stu-id="db504-248">Select **Get Run As Connection** from hello list, in hello **Field path** textbox type **TenantId**, and then click **OK** twice.</span></span>  
16. <span data-ttu-id="db504-249">No controle da biblioteca de Olá, digite **AzureRmContext conjunto** na caixa de texto de pesquisa de saudação.</span><span class="sxs-lookup"><span data-stu-id="db504-249">In hello Library control, type **Set-AzureRmContext** in hello search textbox.</span></span>
17. <span data-ttu-id="db504-250">Adicionar **AzureRmContext conjunto** toohello tela.</span><span class="sxs-lookup"><span data-stu-id="db504-250">Add **Set-AzureRmContext** toohello canvas.</span></span>
18. <span data-ttu-id="db504-251">Na tela hello, selecione **conjunto AzureRmContext** e na configuração de saudação tipo de painel de controle **especificar Id da assinatura** em Olá **rótulo** caixa de texto.</span><span class="sxs-lookup"><span data-stu-id="db504-251">On hello canvas, select **Set-AzureRmContext** and in hello Configuration control pane type **Specify Subscription Id** in hello **Label** textbox.</span></span>
19. <span data-ttu-id="db504-252">Clique em **parâmetros** e folha de configuração de parâmetro de atividade de saudação é exibida.</span><span class="sxs-lookup"><span data-stu-id="db504-252">Click **Parameters** and hello Activity Parameter Configuration blade appears.</span></span>
20. <span data-ttu-id="db504-253">**Conjunto AzureRmContext** tem vários conjuntos de parâmetros, portanto, precisamos tooselect um antes que possamos fornecer os valores de parâmetro.</span><span class="sxs-lookup"><span data-stu-id="db504-253">**Set-AzureRmContext** has multiple parameter sets, so we need tooselect one before we can provide parameter values.</span></span>  <span data-ttu-id="db504-254">Clique em **parâmetro definido** e, em seguida, selecione Olá **SubscriptionId** conjunto de parâmetros.</span><span class="sxs-lookup"><span data-stu-id="db504-254">Click **Parameter Set** and then select hello **SubscriptionId** parameter set.</span></span>  
21. <span data-ttu-id="db504-255">Depois de selecionar o conjunto de parâmetros Olá, parâmetros Olá são exibidos na folha de configuração de parâmetro de atividade de saudação.</span><span class="sxs-lookup"><span data-stu-id="db504-255">Once you select hello parameter set, hello parameters are displayed in hello Activity Parameter Configuration blade.</span></span>  <span data-ttu-id="db504-256">Clique em **SubscriptionID**</span><span class="sxs-lookup"><span data-stu-id="db504-256">Click **SubscriptionID**</span></span>
22. <span data-ttu-id="db504-257">Na folha de valor de parâmetro hello, selecione **ativo variável** para Olá **fonte de dados** e selecione **AzureSubscriptionId** de saudação lista e clique **Okey**  duas vezes.</span><span class="sxs-lookup"><span data-stu-id="db504-257">In hello Parameter Value blade, select **Variable Asset** for hello **Data source** and select **AzureSubscriptionId** from hello list and then click **OK** twice.</span></span>   
23. <span data-ttu-id="db504-258">Passe o mouse sobre **tooAzure Login** até que um círculo é exibida na parte inferior da saudação de forma hello.</span><span class="sxs-lookup"><span data-stu-id="db504-258">Hover over **Login tooAzure** until a circle appears on hello bottom of hello shape.</span></span> <span data-ttu-id="db504-259">Clique Olá círculo e arraste a seta de saudação muito**especificar Id da assinatura**.</span><span class="sxs-lookup"><span data-stu-id="db504-259">Click hello circle and drag hello arrow too**Specify Subscription Id**.</span></span>

<span data-ttu-id="db504-260">O runbook deve parecer com hello neste momento a seguir:</span><span class="sxs-lookup"><span data-stu-id="db504-260">Your runbook should look like hello following at this point:</span></span> <br>![Configuração da autenticação do runbook](media/automation-first-runbook-graphical/runbook-auth-config.png)

## <a name="step-7---add-activity-toostart-a-virtual-machine"></a><span data-ttu-id="db504-262">Etapa 7: Adicionar atividade toostart uma máquina virtual</span><span class="sxs-lookup"><span data-stu-id="db504-262">Step 7 - Add activity toostart a virtual machine</span></span>
<span data-ttu-id="db504-263">Aqui, adicionamos uma **AzureRmVM início** atividade toostart uma máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="db504-263">Here we add a **Start-AzureRmVM** activity toostart a virtual machine.</span></span>  <span data-ttu-id="db504-264">Você pode escolher qualquer máquina virtual na sua assinatura do Azure e para, agora você codifique nome para o cmdlet de saudação.</span><span class="sxs-lookup"><span data-stu-id="db504-264">You can pick any virtual machine in your Azure subscription, and for now you hardcode that name into hello cmdlet.</span></span>

1. <span data-ttu-id="db504-265">No controle da biblioteca de Olá, digite **AzureRm início** na caixa de texto de pesquisa de saudação.</span><span class="sxs-lookup"><span data-stu-id="db504-265">In hello Library control, type **Start-AzureRm** in hello search textbox.</span></span>
2. <span data-ttu-id="db504-266">Adicionar **início AzureRmVM** toohello tela e, em seguida, clique e arraste-o sob **especificar Id da assinatura**.</span><span class="sxs-lookup"><span data-stu-id="db504-266">Add **Start-AzureRmVM** toohello canvas and then click and drag it underneath **Specify Subscription Id**.</span></span>
3. <span data-ttu-id="db504-267">Passe o mouse sobre **especificar Id da assinatura** até que um círculo é exibida na parte inferior da saudação de forma hello.</span><span class="sxs-lookup"><span data-stu-id="db504-267">Hover over **Specify Subscription Id** until a circle appears on hello bottom of hello shape.</span></span>  <span data-ttu-id="db504-268">Clique Olá círculo e arraste a seta de saudação muito**AzureRmVM início**.</span><span class="sxs-lookup"><span data-stu-id="db504-268">Click hello circle and drag hello arrow too**Start-AzureRmVM**.</span></span>
4. <span data-ttu-id="db504-269">Selecione **Start-AzureRmVM**.</span><span class="sxs-lookup"><span data-stu-id="db504-269">Select **Start-AzureRmVM**.</span></span>  <span data-ttu-id="db504-270">Clique em **parâmetros** e **parâmetro definido** tooview Olá define para **AzureRmVM início**.</span><span class="sxs-lookup"><span data-stu-id="db504-270">Click **Parameters** and then **Parameter Set** tooview hello sets for **Start-AzureRmVM**.</span></span>  <span data-ttu-id="db504-271">Selecione Olá **ResourceGroupNameParameterSetName** conjunto de parâmetros.</span><span class="sxs-lookup"><span data-stu-id="db504-271">Select hello **ResourceGroupNameParameterSetName** parameter set.</span></span> <span data-ttu-id="db504-272">Observe que há pontos de exclamação ao lado de **ResourceGroupName** e **Name**.</span><span class="sxs-lookup"><span data-stu-id="db504-272">Note that **ResourceGroupName** and **Name** have exclamation points next them.</span></span>  <span data-ttu-id="db504-273">Isso indica que são os parâmetros obrigatórios.</span><span class="sxs-lookup"><span data-stu-id="db504-273">This indicates that they are required parameters.</span></span>  <span data-ttu-id="db504-274">Observe também que ambos esperam valores da cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="db504-274">Also note both expect string values.</span></span>
5. <span data-ttu-id="db504-275">Selecione **Name**.</span><span class="sxs-lookup"><span data-stu-id="db504-275">Select **Name**.</span></span>  <span data-ttu-id="db504-276">Selecione **PowerShell expressão** para Olá **fonte de dados** e digite o nome de saudação da máquina virtual de saudação colocada entre aspas duplas que vamos começar com este runbook.</span><span class="sxs-lookup"><span data-stu-id="db504-276">Select **PowerShell expression** for hello **Data source** and type in hello name of hello virtual machine surrounded with double quotes that we start with this runbook.</span></span>  <span data-ttu-id="db504-277">Clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="db504-277">Click **OK**.</span></span><br><span data-ttu-id="db504-278">![Valor do Parâmetro Name do Start-AzureRmVM](media/automation-first-runbook-graphical/runbook-startvm-nameparameter.png)</span><span class="sxs-lookup"><span data-stu-id="db504-278">![Start-AzureRmVM Name Parameter Value](media/automation-first-runbook-graphical/runbook-startvm-nameparameter.png)</span></span>
6. <span data-ttu-id="db504-279">Selecione **ResourceGroupName**.</span><span class="sxs-lookup"><span data-stu-id="db504-279">Select **ResourceGroupName**.</span></span> <span data-ttu-id="db504-280">Use **PowerShell expressão** para Olá **fonte de dados** e digite o nome de saudação do grupo de recursos de saudação colocado entre aspas duplas.</span><span class="sxs-lookup"><span data-stu-id="db504-280">Use **PowerShell expression** for hello **Data source** and type in hello name of hello resource group surrounded with double quotes.</span></span>  <span data-ttu-id="db504-281">Clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="db504-281">Click **OK**.</span></span><br> <span data-ttu-id="db504-282">![Parâmetros do Start-AzureRmVM](media/automation-first-runbook-graphical/startazurermvm-params.png)</span><span class="sxs-lookup"><span data-stu-id="db504-282">![Start-AzureRmVM Parameters](media/automation-first-runbook-graphical/startazurermvm-params.png)</span></span>
7. <span data-ttu-id="db504-283">Clique em Painel de teste para que podemos testar Olá runbook.</span><span class="sxs-lookup"><span data-stu-id="db504-283">Click Test pane so that we can test hello runbook.</span></span>
8. <span data-ttu-id="db504-284">Clique em **iniciar** toostart teste de saudação.</span><span class="sxs-lookup"><span data-stu-id="db504-284">Click **Start** toostart hello test.</span></span>  <span data-ttu-id="db504-285">Quando for concluída, verifique que a máquina virtual Olá foi iniciada.</span><span class="sxs-lookup"><span data-stu-id="db504-285">Once it completes, check that hello virtual machine was started.</span></span>

<span data-ttu-id="db504-286">O runbook deve parecer com hello neste momento a seguir:</span><span class="sxs-lookup"><span data-stu-id="db504-286">Your runbook should look like hello following at this point:</span></span> <br>![Configuração da autenticação do runbook](media/automation-first-runbook-graphical/runbook-startvm.png)

## <a name="step-8---add-additional-input-parameters-toohello-runbook"></a><span data-ttu-id="db504-288">Etapa 8 - adicionar parâmetros de entrada adicionais toohello runbook</span><span class="sxs-lookup"><span data-stu-id="db504-288">Step 8 - Add additional input parameters toohello runbook</span></span>
<span data-ttu-id="db504-289">Nosso runbook inicia máquina virtual de saudação no grupo de recursos de saudação que são especificados no hello **AzureRmVM início** cmdlet.</span><span class="sxs-lookup"><span data-stu-id="db504-289">Our runbook currently starts hello virtual machine in hello resource group that we specified in hello **Start-AzureRmVM** cmdlet.</span></span>  <span data-ttu-id="db504-290">Nosso runbook pode ser mais útil se seria possível especificar ambos quando Olá runbook for iniciado.</span><span class="sxs-lookup"><span data-stu-id="db504-290">Our runbook would be more useful if we could specify both when hello runbook is started.</span></span>  <span data-ttu-id="db504-291">Estamos agora adicionar parâmetros de entrada toohello runbook tooprovide essa funcionalidade.</span><span class="sxs-lookup"><span data-stu-id="db504-291">We now add input parameters toohello runbook tooprovide that functionality.</span></span>

1. <span data-ttu-id="db504-292">Editor gráfico de saudação aberta clicando **editar** em Olá **MyFirstRunbook** painel.</span><span class="sxs-lookup"><span data-stu-id="db504-292">Open hello graphical editor by clicking **Edit** on hello **MyFirstRunbook** pane.</span></span>
2. <span data-ttu-id="db504-293">Clique em **de entrada e saída** e **Adicionar entrada** painel de parâmetro de entrada do Runbook Olá tooopen.</span><span class="sxs-lookup"><span data-stu-id="db504-293">Click **Input and output** and then **Add input** tooopen hello Runbook Input Parameter pane.</span></span><br> <span data-ttu-id="db504-294">![Entrada e Saída de runbook](media/automation-first-runbook-graphical/runbook-toolbar-InputandOutput-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="db504-294">![Runbook Input and Output](media/automation-first-runbook-graphical/runbook-toolbar-InputandOutput-revised20165.png)</span></span>
3. <span data-ttu-id="db504-295">Especifique *VMName* para Olá **nome**.</span><span class="sxs-lookup"><span data-stu-id="db504-295">Specify *VMName* for hello **Name**.</span></span>  <span data-ttu-id="db504-296">Manter *cadeia de caracteres* para Olá **tipo**, mas alterar **obrigatório** muito*Sim*.</span><span class="sxs-lookup"><span data-stu-id="db504-296">Keep *string* for hello **Type**, but change **Mandatory** too*Yes*.</span></span>  <span data-ttu-id="db504-297">Clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="db504-297">Click **OK**.</span></span>
4. <span data-ttu-id="db504-298">Criar um parâmetro de entrada segundo obrigatório chamado *ResourceGroupName* e, em seguida, clique em **Okey** tooclose Olá **de entrada e saída** painel.</span><span class="sxs-lookup"><span data-stu-id="db504-298">Create a second mandatory input parameter called *ResourceGroupName* and then click **OK** tooclose hello **Input and Output** pane.</span></span><br> <span data-ttu-id="db504-299">![Parâmetros de Entrada de Runbook](media/automation-first-runbook-graphical/start-azurermvm-params-outputs.png)</span><span class="sxs-lookup"><span data-stu-id="db504-299">![Runbook Input Parameters](media/automation-first-runbook-graphical/start-azurermvm-params-outputs.png)</span></span>
5. <span data-ttu-id="db504-300">Selecione Olá **início AzureRmVM** atividade e clique **parâmetros**.</span><span class="sxs-lookup"><span data-stu-id="db504-300">Select hello **Start-AzureRmVM** activity and then click **Parameters**.</span></span>
6. <span data-ttu-id="db504-301">Saudação de alteração **fonte de dados** para **nome** muito**Runbook entrada** e, em seguida, selecione **VMName**.</span><span class="sxs-lookup"><span data-stu-id="db504-301">Change hello **Data source** for **Name** too**Runbook input** and then select **VMName**.</span></span><br>
7. <span data-ttu-id="db504-302">Saudação de alteração **fonte de dados** para **ResourceGroupName** muito**Runbook entrada** e, em seguida, selecione **ResourceGroupName**.</span><span class="sxs-lookup"><span data-stu-id="db504-302">Change hello **Data source** for **ResourceGroupName** too**Runbook input** and then select **ResourceGroupName**.</span></span><br> <span data-ttu-id="db504-303">![Parâmetros de Start-AzureVM](media/automation-first-runbook-graphical/start-azurermvm-params-runbookinput.png)</span><span class="sxs-lookup"><span data-stu-id="db504-303">![Start-AzureVM Parameters](media/automation-first-runbook-graphical/start-azurermvm-params-runbookinput.png)</span></span>
8. <span data-ttu-id="db504-304">Salvar o runbook hello e abrir o painel de teste de saudação.</span><span class="sxs-lookup"><span data-stu-id="db504-304">Save hello runbook and open hello Test pane.</span></span>  <span data-ttu-id="db504-305">Observe que agora você pode fornecer valores para Olá duas variáveis de entrada que você pode usar em teste hello.</span><span class="sxs-lookup"><span data-stu-id="db504-305">Note that you can now provide values for hello two input variables that you use in hello test.</span></span>
9. <span data-ttu-id="db504-306">Painel de teste Olá fechar.</span><span class="sxs-lookup"><span data-stu-id="db504-306">Close hello Test pane.</span></span>
10. <span data-ttu-id="db504-307">Clique em **publicar** toopublish Olá nova versão de runbook hello.</span><span class="sxs-lookup"><span data-stu-id="db504-307">Click **Publish** toopublish hello new version of hello runbook.</span></span>
11. <span data-ttu-id="db504-308">Pare a máquina de virtual Olá iniciado na etapa anterior hello.</span><span class="sxs-lookup"><span data-stu-id="db504-308">Stop hello virtual machine that you started in hello previous step.</span></span>
12. <span data-ttu-id="db504-309">Clique em **iniciar** toostart Olá runbook.</span><span class="sxs-lookup"><span data-stu-id="db504-309">Click **Start** toostart hello runbook.</span></span>  <span data-ttu-id="db504-310">Tipo de saudação **VMName** e **ResourceGroupName** para a máquina virtual de saudação que vai toostart.</span><span class="sxs-lookup"><span data-stu-id="db504-310">Type in hello **VMName** and **ResourceGroupName** for hello virtual machine that you're going toostart.</span></span><br> <span data-ttu-id="db504-311">![Start Runbook](media/automation-first-runbook-graphical/runbook-start-inputparams.png)</span><span class="sxs-lookup"><span data-stu-id="db504-311">![Start Runbook](media/automation-first-runbook-graphical/runbook-start-inputparams.png)</span></span>
13. <span data-ttu-id="db504-312">Quando Olá runbook for concluída, verifique que a máquina virtual Olá foi iniciada.</span><span class="sxs-lookup"><span data-stu-id="db504-312">When hello runbook completes, check that hello virtual machine was started.</span></span>

## <a name="step-9---create-a-conditional-link"></a><span data-ttu-id="db504-313">Etapa 9: criar um link condicional</span><span class="sxs-lookup"><span data-stu-id="db504-313">Step 9 - Create a conditional link</span></span>
<span data-ttu-id="db504-314">Estamos agora modificar Olá runbook para que ele tenta toostart Olá virtual machine somente se não ainda tiver iniciado.</span><span class="sxs-lookup"><span data-stu-id="db504-314">We now modify hello runbook so that it only attempts toostart hello virtual machine if it is not already started.</span></span>  <span data-ttu-id="db504-315">Faça isso adicionando um **AzureRmVM Get** cmdlet toohello runbook que obtém o status de nível de instância Olá da máquina virtual de saudação.</span><span class="sxs-lookup"><span data-stu-id="db504-315">You do this by adding a **Get-AzureRmVM** cmdlet toohello runbook that gets hello instance level status of hello virtual machine.</span></span> <span data-ttu-id="db504-316">Em seguida, adicionar um módulo de código de fluxo de trabalho do PowerShell chamado **obter Status** com um trecho de código do PowerShell de código toodetermine se o estado da máquina virtual hello está em execução ou parado.</span><span class="sxs-lookup"><span data-stu-id="db504-316">Then you add a PowerShell Workflow code module called **Get Status** with a snippet of PowerShell code toodetermine if hello virtual machine state is running or stopped.</span></span>  <span data-ttu-id="db504-317">Um link condicional de saudação **obter Status** módulo é executado somente **AzureRmVM início** se o estado de execução atual Olá for interrompido.</span><span class="sxs-lookup"><span data-stu-id="db504-317">A conditional link from hello **Get Status** module only runs **Start-AzureRmVM** if hello current running state is stopped.</span></span>  <span data-ttu-id="db504-318">Por fim, podemos saída tooinform uma mensagem que você se Olá VM foi iniciado com êxito ou não usando Olá cmdlet PowerShell Write-Output.</span><span class="sxs-lookup"><span data-stu-id="db504-318">Finally, we output a message tooinform you if hello VM was successfully started or not using hello PowerShell Write-Output cmdlet.</span></span>

1. <span data-ttu-id="db504-319">Abra **MyFirstRunbook** no editor gráfico hello.</span><span class="sxs-lookup"><span data-stu-id="db504-319">Open **MyFirstRunbook** in hello graphical editor.</span></span>
2. <span data-ttu-id="db504-320">Remover o link de saudação entre **especificar Id da assinatura** e **início AzureRmVM** clicando nele e, em seguida, pressionando Olá *excluir* chave.</span><span class="sxs-lookup"><span data-stu-id="db504-320">Remove hello link between **Specify Subscription Id** and **Start-AzureRmVM** by clicking on it and then pressing hello *Delete* key.</span></span>
3. <span data-ttu-id="db504-321">No controle da biblioteca de Olá, digite **Get-AzureRm** na caixa de texto de pesquisa de saudação.</span><span class="sxs-lookup"><span data-stu-id="db504-321">In hello Library control, type **Get-AzureRm** in hello search textbox.</span></span>
4. <span data-ttu-id="db504-322">Adicionar **Get-AzureRmVM** toohello tela.</span><span class="sxs-lookup"><span data-stu-id="db504-322">Add **Get-AzureRmVM** toohello canvas.</span></span>
5. <span data-ttu-id="db504-323">Selecione **Get-AzureRmVM** e **parâmetro definido** tooview Olá define para **Get-AzureRmVM**.</span><span class="sxs-lookup"><span data-stu-id="db504-323">Select **Get-AzureRmVM** and then **Parameter Set** tooview hello sets for **Get-AzureRmVM**.</span></span>  <span data-ttu-id="db504-324">Selecione Olá **GetVirtualMachineInResourceGroupNameParamSet** conjunto de parâmetros.</span><span class="sxs-lookup"><span data-stu-id="db504-324">Select hello **GetVirtualMachineInResourceGroupNameParamSet** parameter set.</span></span>  <span data-ttu-id="db504-325">Observe que há pontos de exclamação ao lado de **ResourceGroupName** e **Name**.</span><span class="sxs-lookup"><span data-stu-id="db504-325">Note that **ResourceGroupName** and **Name** have exclamation points next them.</span></span>  <span data-ttu-id="db504-326">Isso indica que são os parâmetros obrigatórios.</span><span class="sxs-lookup"><span data-stu-id="db504-326">This indicates that they are required parameters.</span></span>  <span data-ttu-id="db504-327">Observe também que ambos esperam valores da cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="db504-327">Also note both expect string values.</span></span>
6. <span data-ttu-id="db504-328">Em **Fonte de dados** para **Name**, selecione **Entrada do runbook** e, em seguida, selecione **VMName**.</span><span class="sxs-lookup"><span data-stu-id="db504-328">Under **Data source** for **Name**, select **Runbook input** and then select **VMName**.</span></span>  <span data-ttu-id="db504-329">Clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="db504-329">Click **OK**.</span></span>
7. <span data-ttu-id="db504-330">Em **Fonte de dados** para **ResourceGroupName**, selecione **Entrada do runbook** e, em seguida, selecione **ResourceGroupName**.</span><span class="sxs-lookup"><span data-stu-id="db504-330">Under **Data source** for **ResourceGroupName**, select **Runbook input** and then select **ResourceGroupName**.</span></span>  <span data-ttu-id="db504-331">Clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="db504-331">Click **OK**.</span></span>
8. <span data-ttu-id="db504-332">Em **Fonte de dados** para **Status**, selecione **Valor constante** e, em seguida, clique em **True**.</span><span class="sxs-lookup"><span data-stu-id="db504-332">Under **Data source** for **Status**, select **Constant value** and then click  **True**.</span></span>  <span data-ttu-id="db504-333">Clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="db504-333">Click **OK**.</span></span>  
9. <span data-ttu-id="db504-334">Criar um link de **especificar Id da assinatura** muito**Get-AzureRmVM**.</span><span class="sxs-lookup"><span data-stu-id="db504-334">Create a link from **Specify Subscription Id** too**Get-AzureRmVM**.</span></span>
10. <span data-ttu-id="db504-335">No controle de saudação de biblioteca, expanda **controle de Runbook** e adicione **código** toohello tela.</span><span class="sxs-lookup"><span data-stu-id="db504-335">In hello library control, expand **Runbook Control** and add **Code** toohello canvas.</span></span>  
11. <span data-ttu-id="db504-336">Criar um link de **Get-AzureRmVM** muito**código**.</span><span class="sxs-lookup"><span data-stu-id="db504-336">Create a link from **Get-AzureRmVM** too**Code**.</span></span>  
12. <span data-ttu-id="db504-337">Clique em **código** e no painel de configuração do hello, altere o rótulo muito**obter Status**.</span><span class="sxs-lookup"><span data-stu-id="db504-337">Click **Code** and in hello Configuration pane, change label too**Get Status**.</span></span>
13. <span data-ttu-id="db504-338">Selecione **código** parâmetro e hello **Editor de códigos** folha é exibida.</span><span class="sxs-lookup"><span data-stu-id="db504-338">Select **Code** parameter, and hello **Code Editor** blade appears.</span></span>  
14. <span data-ttu-id="db504-339">No editor de código hello, cole Olá trecho de código a seguir:</span><span class="sxs-lookup"><span data-stu-id="db504-339">In hello code editor, paste hello following snippet of code:</span></span>
    
     ```
     $StatusesJson = $ActivityOutput['Get-AzureRmVM'].StatusesText
     $Statuses = ConvertFrom-Json $StatusesJson
     $StatusOut =""
     foreach ($Status in $Statuses){
     if($Status.Code -eq "Powerstate/running"){$StatusOut = "running"}
     elseif ($Status.Code -eq "Powerstate/deallocated") {$StatusOut = "stopped"}
     }
     $StatusOut
     ```
15. <span data-ttu-id="db504-340">Criar um link de **obter Status** muito**AzureRmVM início**.</span><span class="sxs-lookup"><span data-stu-id="db504-340">Create a link from **Get Status** too**Start-AzureRmVM**.</span></span><br> <span data-ttu-id="db504-341">![Runbook com Módulo de Código](media/automation-first-runbook-graphical/runbook-startvm-get-status.png)</span><span class="sxs-lookup"><span data-stu-id="db504-341">![Runbook with Code Module](media/automation-first-runbook-graphical/runbook-startvm-get-status.png)</span></span>  
16. <span data-ttu-id="db504-342">Selecione o link hello e no painel de configuração hello, altere **aplicar a condição de** muito**Sim**.</span><span class="sxs-lookup"><span data-stu-id="db504-342">Select hello link and in hello Configuration pane, change **Apply condition** too**Yes**.</span></span>   <span data-ttu-id="db504-343">Link da anotação Olá ativa tooa tracejado linha indicando que Olá destino atividade é executada somente se a condição de saudação resolve tootrue.</span><span class="sxs-lookup"><span data-stu-id="db504-343">Note hello link turns tooa dashed line indicating that hello target activity only runs if hello condition resolves tootrue.</span></span>  
17. <span data-ttu-id="db504-344">Para Olá **expressão da condição**, tipo *$ActivityOutput ['obter Status'] - eq "Stopped"*.</span><span class="sxs-lookup"><span data-stu-id="db504-344">For hello **Condition expression**, type *$ActivityOutput['Get Status'] -eq "Stopped"*.</span></span>  <span data-ttu-id="db504-345">**Iniciar AzureRmVM** agora só é executada se a máquina virtual de saudação é interrompida.</span><span class="sxs-lookup"><span data-stu-id="db504-345">**Start-AzureRmVM** now only runs if hello virtual machine is stopped.</span></span>
18. <span data-ttu-id="db504-346">No hello controle de biblioteca, expanda **Cmdlets** e **Utility**.</span><span class="sxs-lookup"><span data-stu-id="db504-346">In hello Library control, expand **Cmdlets** and then **Microsoft.PowerShell.Utility**.</span></span>
19. <span data-ttu-id="db504-347">Adicionar **Write-Output** toohello tela duas vezes.</span><span class="sxs-lookup"><span data-stu-id="db504-347">Add **Write-Output** toohello canvas twice.</span></span><br> <span data-ttu-id="db504-348">![Runbook com Write-Output](media/automation-first-runbook-graphical/runbook-startazurermvm-complete.png)</span><span class="sxs-lookup"><span data-stu-id="db504-348">![Runbook with Write-Output](media/automation-first-runbook-graphical/runbook-startazurermvm-complete.png)</span></span>
20. <span data-ttu-id="db504-349">Em Olá primeiro **Write-Output** de controle, clique em **parâmetros** e alterar Olá **rótulo** valor muito*notificar VM iniciado*.</span><span class="sxs-lookup"><span data-stu-id="db504-349">On hello first **Write-Output** control, click **Parameters** and change hello **Label** value too*Notify VM Started*.</span></span>
21. <span data-ttu-id="db504-350">Para **InputObject**, alterar **fonte de dados** muito**PowerShell expressão** e digite Olá expressão *"$VMName iniciado com êxito."* .</span><span class="sxs-lookup"><span data-stu-id="db504-350">For **InputObject**, change **Data source** too**PowerShell expression** and type in hello expression *"$VMName successfully started."*.</span></span>
22. <span data-ttu-id="db504-351">Em Olá segundo **Write-Output** de controle, clique em **parâmetros** e alterar Olá **rótulo** valor muito*notificar a VM Iniciar falha*</span><span class="sxs-lookup"><span data-stu-id="db504-351">On hello second **Write-Output** control, click **Parameters** and change hello **Label** value too*Notify VM Start Failed*</span></span>
23. <span data-ttu-id="db504-352">Para **InputObject**, alterar **fonte de dados** muito**PowerShell expressão** e digite Olá expressão *"$VMName não foi possível iniciar".* .</span><span class="sxs-lookup"><span data-stu-id="db504-352">For **InputObject**, change **Data source** too**PowerShell expression** and type in hello expression *"$VMName could not start."*.</span></span>
24. <span data-ttu-id="db504-353">Criar um link de **início AzureRmVM** muito**notificar VM iniciado** e **notificar a VM Iniciar falha**.</span><span class="sxs-lookup"><span data-stu-id="db504-353">Create a link from **Start-AzureRmVM** too**Notify VM Started** and **Notify VM Start Failed**.</span></span>
25. <span data-ttu-id="db504-354">Selecione o link de saudação muito**notificar VM iniciado** e alterar **aplicar a condição de** muito**True**.</span><span class="sxs-lookup"><span data-stu-id="db504-354">Select hello link too**Notify VM Started** and change **Apply condition** too**True**.</span></span>
26. <span data-ttu-id="db504-355">Para Olá **expressão da condição**, tipo *$ActivityOutput ['Início-AzureRmVM']. IsSuccessStatusCode - eq $true*.</span><span class="sxs-lookup"><span data-stu-id="db504-355">For hello **Condition expression**, type *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -eq $true*.</span></span>  <span data-ttu-id="db504-356">Esta saída de gravação controlar agora só é executada se a máquina virtual de saudação foi iniciada com êxito.</span><span class="sxs-lookup"><span data-stu-id="db504-356">This Write-Output control now only runs if hello virtual machine is successfully started.</span></span>
27. <span data-ttu-id="db504-357">Selecione o link de saudação muito**notificar a VM Iniciar falha** e alterar **aplicar a condição de** muito**True**.</span><span class="sxs-lookup"><span data-stu-id="db504-357">Select hello link too**Notify VM Start Failed** and change **Apply condition** too**True**.</span></span>
28. <span data-ttu-id="db504-358">Para Olá **expressão da condição**, tipo *$ActivityOutput ['Início-AzureRmVM']. IsSuccessStatusCode - ne $true*.</span><span class="sxs-lookup"><span data-stu-id="db504-358">For hello **Condition expression**, type *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -ne $true*.</span></span>  <span data-ttu-id="db504-359">Esta saída de gravação controlar agora só é executado se a máquina virtual de saudação não foi iniciada com êxito.</span><span class="sxs-lookup"><span data-stu-id="db504-359">This Write-Output control now only runs if hello virtual machine is not successfully started.</span></span>
29. <span data-ttu-id="db504-360">Salvar o runbook hello e abrir o painel de teste de saudação.</span><span class="sxs-lookup"><span data-stu-id="db504-360">Save hello runbook and open hello Test pane.</span></span>
30. <span data-ttu-id="db504-361">Iniciar runbook Olá com máquina virtual de saudação interrompida e ele deve ser iniciado.</span><span class="sxs-lookup"><span data-stu-id="db504-361">Start hello runbook with hello virtual machine stopped, and it should start.</span></span>

## <a name="next-steps"></a><span data-ttu-id="db504-362">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="db504-362">Next steps</span></span>
* <span data-ttu-id="db504-363">toolearn mais sobre a criação de gráficos, consulte [criação gráfica na automação do Azure](automation-graphical-authoring-intro.md)</span><span class="sxs-lookup"><span data-stu-id="db504-363">toolearn more about Graphical Authoring, see [Graphical authoring in Azure Automation](automation-graphical-authoring-intro.md)</span></span>
* <span data-ttu-id="db504-364">tooget iniciado com runbooks do PowerShell, consulte [meu primeiro runbook do PowerShell](automation-first-runbook-textual-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="db504-364">tooget started with PowerShell runbooks, see [My first PowerShell runbook](automation-first-runbook-textual-powershell.md)</span></span>
* <span data-ttu-id="db504-365">tooget iniciado com runbooks do fluxo de trabalho do PowerShell, consulte [meu primeiro runbook de fluxo de trabalho do PowerShell](automation-first-runbook-textual.md)</span><span class="sxs-lookup"><span data-stu-id="db504-365">tooget started with PowerShell workflow runbooks, see [My first PowerShell workflow runbook](automation-first-runbook-textual.md)</span></span>

