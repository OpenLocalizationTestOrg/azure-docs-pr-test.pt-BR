---
title: "Integração de controle de origem na Automação do Azure | Microsoft Docs"
description: "Este artigo descreve a integração de controle de origem com o GitHub na Automação do Azure."
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: tysonn
ms.assetid: 224d7375-9887-44dd-b137-06ffe396a4b4
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 11/21/2016
ms.author: magoedte;sngun
ms.openlocfilehash: 763bf5805e3a3cb95ad63c7a354dd3d4cd531b2b
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="source-control-integration-in-azure-automation"></a><span data-ttu-id="87756-103">Integração de controle de origem na Automação do Azure</span><span class="sxs-lookup"><span data-stu-id="87756-103">Source control integration in Azure Automation</span></span>
<span data-ttu-id="87756-104">A integração de controle de origem permite que você associe runbooks em sua conta de Automação a um repositório de controle de origem do GitHub.</span><span class="sxs-lookup"><span data-stu-id="87756-104">Source control integration allows you to associate runbooks in your Automation account to a GitHub source control repository.</span></span> <span data-ttu-id="87756-105">O controle de origem permite que você colabore com facilidade com sua equipe, controle alterações e reverta para versões anteriores de seus runbooks.</span><span class="sxs-lookup"><span data-stu-id="87756-105">Source control allows you to easily collaborate with your team, track changes, and roll back to earlier versions of your runbooks.</span></span> <span data-ttu-id="87756-106">Por exemplo, o controle de origem permite a sincronização de ramificações diferentes no controle de origem para suas contas de desenvolvimento, teste ou produção da Automação, facilitando a promoção do código testado em seu ambiente de desenvolvimento para o ambiente de produção da conta de Automação.</span><span class="sxs-lookup"><span data-stu-id="87756-106">For example, source control allows you to sync different branches in source control to your development, test or production Automation accounts, making it easy to promote code that has been tested in your development environment to your production Automation account.</span></span>

<span data-ttu-id="87756-107">O controle do código-fonte permite que você envie código por push da Automação do Azure para o controle do código-fonte ou efetue o pull de seus runbooks do controle do código-fonte para a Automação do Azure.</span><span class="sxs-lookup"><span data-stu-id="87756-107">Source control allows you to push code from Azure Automation to source control or pull your runbooks from source control to Azure Automation.</span></span> <span data-ttu-id="87756-108">Este artigo descreve como configurar o controle de origem no seu ambiente da Automação do Azure.</span><span class="sxs-lookup"><span data-stu-id="87756-108">This article describes how to set up source control in your Azure Automation environment.</span></span> <span data-ttu-id="87756-109">Vamos começar configurando a Automação do Azure para acessar seu repositório do GitHub e analisar operações diferentes que podem ser feitas usando a integração de controle de origem.</span><span class="sxs-lookup"><span data-stu-id="87756-109">We will start by configuring Azure Automation to access your GitHub repository and walk through different operations that can be done using source control integration.</span></span> 

> [!NOTE]
> <span data-ttu-id="87756-110">O controle de origem dá suporte a efetuar pull e a enviar por push de [Runbooks de fluxo de trabalho do PowerShell](automation-runbook-types.md#powershell-workflow-runbooks), bem como de [Runbooks do PowerShell](automation-runbook-types.md#powershell-runbooks).</span><span class="sxs-lookup"><span data-stu-id="87756-110">Source control supports pulling and pushing [PowerShell Workflow runbooks](automation-runbook-types.md#powershell-workflow-runbooks) as well as [PowerShell runbooks](automation-runbook-types.md#powershell-runbooks).</span></span> <span data-ttu-id="87756-111">[Runbooks gráficos](automation-runbook-types.md#graphical-runbooks) ainda não têm suporte.</span><span class="sxs-lookup"><span data-stu-id="87756-111">[Graphical runbooks](automation-runbook-types.md#graphical-runbooks) are not yet supported.</span></span><br><br>
> 
> 

<span data-ttu-id="87756-112">Há duas etapas simples necessárias para configurar o controle de origem para sua conta de Automação, e somente uma se você já tiver uma conta do GitHub.</span><span class="sxs-lookup"><span data-stu-id="87756-112">There are two simple steps required to configure source control for your Automation account, and only one if you already have a GitHub account.</span></span> <span data-ttu-id="87756-113">Eles são:</span><span class="sxs-lookup"><span data-stu-id="87756-113">They are:</span></span>

## <a name="step-1--create-a-github-repository"></a><span data-ttu-id="87756-114">Etapa 1: Criar um repositório do GitHub</span><span class="sxs-lookup"><span data-stu-id="87756-114">Step 1 – Create a GitHub repository</span></span>
<span data-ttu-id="87756-115">Se você já tiver uma conta do GitHub e um repositório que deseja vincular à Automação do Azure, faça logon em sua conta existente e comece da etapa 2 abaixo.</span><span class="sxs-lookup"><span data-stu-id="87756-115">If you already have a GitHub account and a repository that you want to link to Azure Automation, then login to your existing account and start from step 2 below.</span></span> <span data-ttu-id="87756-116">Caso contrário, navegue até o [GitHub](https://github.com/), inscreva-se em uma nova conta e [crie um novo repositório](https://help.github.com/articles/create-a-repo/).</span><span class="sxs-lookup"><span data-stu-id="87756-116">Otherwise, navigate to [GitHub](https://github.com/), sign up for a new account and [create a new repository](https://help.github.com/articles/create-a-repo/).</span></span>

## <a name="step-2--set-up-source-control-in-azure-automation"></a><span data-ttu-id="87756-117">Etapa 2: Configurar o controle de origem na Automação do Azure</span><span class="sxs-lookup"><span data-stu-id="87756-117">Step 2 – Set up source control in Azure Automation</span></span>
1. <span data-ttu-id="87756-118">Na folha Conta de Automação do Portal do Azure, clique em **Configurar Controle do Código-Fonte**</span><span class="sxs-lookup"><span data-stu-id="87756-118">From the Automation Account blade in the Azure portal, click **Set Up Source Control.**</span></span> 
   
    ![Configurar Controle de Origem](media/automation-source-control-integration/automation_01_SetUpSourceControl.png)
2. <span data-ttu-id="87756-120">A folha **Controle de Origem** será aberta e você poderá configurar os detalhes da conta GitHub.</span><span class="sxs-lookup"><span data-stu-id="87756-120">The **Source Control** blade opens, where you can configure your GitHub account details.</span></span> <span data-ttu-id="87756-121">A seguir, a lista de parâmetros a serem configurados:</span><span class="sxs-lookup"><span data-stu-id="87756-121">Below is the list of parameters to configure:</span></span>  
   
   | <span data-ttu-id="87756-122">**Parâmetro**</span><span class="sxs-lookup"><span data-stu-id="87756-122">**Parameter**</span></span> | <span data-ttu-id="87756-123">**Descrição**</span><span class="sxs-lookup"><span data-stu-id="87756-123">**Description**</span></span> |
   |:--- |:--- |
   | <span data-ttu-id="87756-124">Escolher Origem</span><span class="sxs-lookup"><span data-stu-id="87756-124">Choose Source</span></span> |<span data-ttu-id="87756-125">Selecione a origem.</span><span class="sxs-lookup"><span data-stu-id="87756-125">Select the source.</span></span> <span data-ttu-id="87756-126">No momento, apenas **GitHub** tem suporte.</span><span class="sxs-lookup"><span data-stu-id="87756-126">Currently, only **GitHub** is supported.</span></span> |
   | <span data-ttu-id="87756-127">Autorização</span><span class="sxs-lookup"><span data-stu-id="87756-127">Authorization</span></span> |<span data-ttu-id="87756-128">Clique no botão **Autorizar** para conceder acesso da Automação do Azure a seu repositório do GitHub.</span><span class="sxs-lookup"><span data-stu-id="87756-128">Click the **Authorize** button to grant Azure Automation access to your GitHub repository.</span></span> <span data-ttu-id="87756-129">Se você já estiver conectado à sua conta do GitHub em uma janela diferente, as credenciais da conta serão usadas.</span><span class="sxs-lookup"><span data-stu-id="87756-129">If you are already logged in to your GitHub account in a different window, then the credentials of that account are used.</span></span> <span data-ttu-id="87756-130">Quando a autorização for bem-sucedida, a folha mostrará o seu nome de usuário do GitHub em **Propriedade de Autorização**.</span><span class="sxs-lookup"><span data-stu-id="87756-130">Once authorization is successful, the blade will show your GitHub username under **Authorization Property**.</span></span> |
   | <span data-ttu-id="87756-131">Escolher o repositório</span><span class="sxs-lookup"><span data-stu-id="87756-131">Choose repository</span></span> |<span data-ttu-id="87756-132">Selecione um repositório do GitHub na lista de repositórios disponíveis.</span><span class="sxs-lookup"><span data-stu-id="87756-132">Select a GitHub repository from the list of available repositories.</span></span> |
   | <span data-ttu-id="87756-133">Escolher a ramificação</span><span class="sxs-lookup"><span data-stu-id="87756-133">Choose branch</span></span> |<span data-ttu-id="87756-134">Selecione uma ramificação na lista de ramificações disponíveis.</span><span class="sxs-lookup"><span data-stu-id="87756-134">Select a branch from the list of available branches.</span></span> <span data-ttu-id="87756-135">Somente a ramificação **mestre** será mostrada se você ainda não tiver criado quaisquer ramificações.</span><span class="sxs-lookup"><span data-stu-id="87756-135">Only the **master** branch is shown if you haven’t created any branches.</span></span> |
   | <span data-ttu-id="87756-136">Caminho da pasta do runbook</span><span class="sxs-lookup"><span data-stu-id="87756-136">Runbook folder path</span></span> |<span data-ttu-id="87756-137">O caminho da pasta do runbook especifica o caminho no repositório do GitHub do qual você deseja enviar seu código por push ou por pull.</span><span class="sxs-lookup"><span data-stu-id="87756-137">The runbook folder path specifies the path in the GitHub repository from which you want to push or pull your code.</span></span> <span data-ttu-id="87756-138">Ele deve ser inserido no formato **/nomedapasta/nomedasubpasta**.</span><span class="sxs-lookup"><span data-stu-id="87756-138">It must be entered in the format **/foldername/subfoldername**.</span></span> <span data-ttu-id="87756-139">Somente os runbooks no caminho da pasta do runbook serão sincronizados com sua conta da Automação.</span><span class="sxs-lookup"><span data-stu-id="87756-139">Only runbooks in the runbook folder path will be synced to your Automation account.</span></span> <span data-ttu-id="87756-140">Os runbooks nas subpastas do caminho da pasta do runbook serão **NÃO** serão sincronizados.</span><span class="sxs-lookup"><span data-stu-id="87756-140">Runbooks in the subfolders of the runbook folder path will **NOT** be synced.</span></span> <span data-ttu-id="87756-141">Use **/** para sincronizar todos os runbooks do repositório.</span><span class="sxs-lookup"><span data-stu-id="87756-141">Use **/** to sync all the runbooks under the repository.</span></span> |
3. <span data-ttu-id="87756-142">Por exemplo, se você tiver um repositório chamado **PowerShellScripts** com uma pasta chamada **RootFolder** que contenha uma pasta chamada **SubFolder**.</span><span class="sxs-lookup"><span data-stu-id="87756-142">For example, if you have a repository named **PowerShellScripts** that contains a folder named **RootFolder**, which contains a folder named **SubFolder**.</span></span> <span data-ttu-id="87756-143">Você pode usar as seguintes cadeias de caracteres para sincronizar cada nível de pasta:</span><span class="sxs-lookup"><span data-stu-id="87756-143">You can use the following strings to sync each folder level:</span></span>
   
   1. <span data-ttu-id="87756-144">Para sincronizar os runbooks do **repositório**, o caminho da pasta do runbook será */*</span><span class="sxs-lookup"><span data-stu-id="87756-144">To sync runbooks from **repository**, runbook folder path is */*</span></span>
   2. <span data-ttu-id="87756-145">Para sincronizar os runbooks de **RootFolder**, o caminho da pasta do runbook será */RootFolder*</span><span class="sxs-lookup"><span data-stu-id="87756-145">To sync runbooks from **RootFolder**, runbook folder path is */RootFolder*</span></span>
   3. <span data-ttu-id="87756-146">Para sincronizar os runbooks de **SubFolder**, o caminho da pasta do runbook será */RootFolder/SubFolder*.</span><span class="sxs-lookup"><span data-stu-id="87756-146">To sync runbooks from **SubFolder**, runbook folder path is */RootFolder/SubFolder*.</span></span>
4. <span data-ttu-id="87756-147">Depois de configurar os parâmetros, eles serão exibidos na folha **Configurar Controle de Origem**</span><span class="sxs-lookup"><span data-stu-id="87756-147">After you configure the parameters, they are displayed on the **Set Up Source Control blade.**</span></span>  
   
    ![Configurar Folha](media/automation-source-control-integration/automation_02_SourceControlConfigure.png)
5. <span data-ttu-id="87756-149">Depois de clicar em OK, a integração do controle do código-fonte estará configurada para a sua conta de automação e deverá ser atualizada com as informações do GitHub.</span><span class="sxs-lookup"><span data-stu-id="87756-149">Once you click OK, source control integration is now configured for your Automation account and should be updated with your GitHub information.</span></span> <span data-ttu-id="87756-150">Agora você pode clicar nessa parte para exibir todo o seu histórico de trabalhos de sincronização de controle do código-fonte.</span><span class="sxs-lookup"><span data-stu-id="87756-150">You can now click on this part to view all of your source control sync job history.</span></span>  
   
    ![Valores de Repositório](media/automation-source-control-integration/automation_03_RepoValues.png)
6. <span data-ttu-id="87756-152">Depois de configurar o controle de origem, os seguintes recursos da Automação serão criados na sua conta da Automação:</span><span class="sxs-lookup"><span data-stu-id="87756-152">After you set up source control, the following Automation resources will be created in your Automation account:</span></span>  
   <span data-ttu-id="87756-153">Dois [ativos de variável](automation-variables.md) são criados.</span><span class="sxs-lookup"><span data-stu-id="87756-153">Two [variable assets](automation-variables.md) are created.</span></span>  
   
   * <span data-ttu-id="87756-154">A variável **Microsoft.Azure.Automation.SourceControl.Connection** contém os valores da cadeia de conexão, como mostrado abaixo.</span><span class="sxs-lookup"><span data-stu-id="87756-154">The variable **Microsoft.Azure.Automation.SourceControl.Connection** contains the values of the connection string, as shown below.</span></span>  
     
     | <span data-ttu-id="87756-155">**Parâmetro**</span><span class="sxs-lookup"><span data-stu-id="87756-155">**Parameter**</span></span> | <span data-ttu-id="87756-156">**Valor**</span><span class="sxs-lookup"><span data-stu-id="87756-156">**Value**</span></span> |
     |:--- |:--- |
     | <span data-ttu-id="87756-157">Nome</span><span class="sxs-lookup"><span data-stu-id="87756-157">Name</span></span> |<span data-ttu-id="87756-158">Microsoft.Azure.Automation.SourceControl.Connection</span><span class="sxs-lookup"><span data-stu-id="87756-158">Microsoft.Azure.Automation.SourceControl.Connection</span></span> |
     | <span data-ttu-id="87756-159">Tipo</span><span class="sxs-lookup"><span data-stu-id="87756-159">Type</span></span> |<span data-ttu-id="87756-160">Cadeia de caracteres</span><span class="sxs-lookup"><span data-stu-id="87756-160">String</span></span> |
     | <span data-ttu-id="87756-161">Valor</span><span class="sxs-lookup"><span data-stu-id="87756-161">Value</span></span> |<span data-ttu-id="87756-162">{"Branch":\<*Nome da sua ramificação*>,"RunbookFolderPath":\<*Caminho da pasta do runbook*>,"ProviderType":\<*tem um valor 1 para o GitHub*>,"Repository":\<*Nome do seu repositório*>,"Username":\<*O nome do seu usuário no GitHub*>}</span><span class="sxs-lookup"><span data-stu-id="87756-162">{"Branch":\<*Your branch name*>,"RunbookFolderPath":\<*Runbook folder path*>,"ProviderType":\<*has a value 1 for GitHub*>,"Repository":\<*Name of your repository*>,"Username":\<*Your GitHub user name*>}</span></span> |

    * <span data-ttu-id="87756-163">A variável **Microsoft.Azure.Automation.SourceControl.OAuthToken**contém o valor criptografado seguro do OAuthToken.</span><span class="sxs-lookup"><span data-stu-id="87756-163">The variable **Microsoft.Azure.Automation.SourceControl.OAuthToken**, contains the secure encrypted value of your OAuthToken.</span></span>  

    |<span data-ttu-id="87756-164">**Parâmetro**</span><span class="sxs-lookup"><span data-stu-id="87756-164">**Parameter**</span></span>            |<span data-ttu-id="87756-165">**Valor**</span><span class="sxs-lookup"><span data-stu-id="87756-165">**Value**</span></span> |
    |:---|:---|
    | <span data-ttu-id="87756-166">Nome</span><span class="sxs-lookup"><span data-stu-id="87756-166">Name</span></span>  | <span data-ttu-id="87756-167">Microsoft.Azure.Automation.SourceControl.OAuthToken</span><span class="sxs-lookup"><span data-stu-id="87756-167">Microsoft.Azure.Automation.SourceControl.OAuthToken</span></span> |
    | <span data-ttu-id="87756-168">Tipo</span><span class="sxs-lookup"><span data-stu-id="87756-168">Type</span></span> | <span data-ttu-id="87756-169">Unknown(Encrypted)</span><span class="sxs-lookup"><span data-stu-id="87756-169">Unknown(Encrypted)</span></span> |
    | <span data-ttu-id="87756-170">Valor</span><span class="sxs-lookup"><span data-stu-id="87756-170">Value</span></span> | <span data-ttu-id="87756-171"><*OAuthToken Criptografado*></span><span class="sxs-lookup"><span data-stu-id="87756-171"><*Encrypted OAuthToken*></span></span> |  

    ![Variáveis](media/automation-source-control-integration/automation_04_Variables.png)  

    * <span data-ttu-id="87756-173">**Controle de Origem de Automação** é adicionado como um aplicativo autorizado à sua conta do GitHub.</span><span class="sxs-lookup"><span data-stu-id="87756-173">**Automation Source Control** is added as an authorized application to your GitHub account.</span></span> <span data-ttu-id="87756-174">Para exibir o aplicativo: na home page do GitHub, navegue até o seu **perfil** > **Configurações** > **Aplicativos**.</span><span class="sxs-lookup"><span data-stu-id="87756-174">To view the application: From your GitHub home page, navigate to your **profile** > **Settings** > **Applications**.</span></span> <span data-ttu-id="87756-175">Esse aplicativo permite que a Automação do Azure sincronize seu repositório do GitHub para uma conta da Automação.</span><span class="sxs-lookup"><span data-stu-id="87756-175">This application allows Azure Automation to sync your GitHub repository to an Automation account.</span></span>  

    ![Aplicativo do Git](media/automation-source-control-integration/automation_05_GitApplication.png)


## <a name="using-source-control-in-automation"></a><span data-ttu-id="87756-177">Usando o controle de origem na Automação</span><span class="sxs-lookup"><span data-stu-id="87756-177">Using Source Control in Automation</span></span>
### <a name="check-in-a-runbook-from-azure-automation-to-source-control"></a><span data-ttu-id="87756-178">Fazer check-in de um runbook da Automação do Azure no controle de origem</span><span class="sxs-lookup"><span data-stu-id="87756-178">Check-in a runbook from Azure Automation to source control</span></span>
<span data-ttu-id="87756-179">O check-in de runbook permite que você envie por push as alterações feitas em um runbook na Automação do Azure para o repositório do controle de origem.</span><span class="sxs-lookup"><span data-stu-id="87756-179">Runbook check-in allows you to push the changes you have made to a runbook in Azure Automation into your source control repository.</span></span> <span data-ttu-id="87756-180">A seguir, as etapas para fazer check-in de um runbook:</span><span class="sxs-lookup"><span data-stu-id="87756-180">Below are the steps to check-in a runbook:</span></span>

1. <span data-ttu-id="87756-181">De sua Conta de Automação, [crie um novo runbook textual](automation-first-runbook-textual.md) ou [edite um runbook textual existente](automation-edit-textual-runbook.md).</span><span class="sxs-lookup"><span data-stu-id="87756-181">From your Automation Account, [create a new textual runbook](automation-first-runbook-textual.md), or [edit an existing, textual runbook](automation-edit-textual-runbook.md).</span></span> <span data-ttu-id="87756-182">Esse runbook pode ser um Fluxo de Trabalho do PowerShell ou um runbook de script do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="87756-182">This runbook can be either a PowerShell Workflow or a PowerShell script runbook.</span></span>  
2. <span data-ttu-id="87756-183">Depois de editar o runbook, salve-o e clique em **check-in** na folha **Editar**.</span><span class="sxs-lookup"><span data-stu-id="87756-183">After you edit your runbook, save it and click **check-in** from the **Edit** blade.</span></span>  
   
    ![Botão Check-in](media/automation-source-control-integration/automation_06_CheckinButton.png)

     > [!NOTE] 
     > <span data-ttu-id="87756-185">O check-in da Automação do Azure substituirá o código que existe atualmente no controle de origem.</span><span class="sxs-lookup"><span data-stu-id="87756-185">Check-in from Azure Automation will overwrite the code that currently exists in your source control.</span></span> <span data-ttu-id="87756-186">A instrução de linha de comando equivalente do Git para fazer check-in é **git add + git commit + git push**</span><span class="sxs-lookup"><span data-stu-id="87756-186">The Git equivalent command line instruction to check-in is **git add + git commit + git push**</span></span>  

1. <span data-ttu-id="87756-187">Quando você clicar em **check-in**, uma mensagem de confirmação será exibida. Clique em sim para continuar.</span><span class="sxs-lookup"><span data-stu-id="87756-187">When you click **check-in**, you will be prompted with a confirmation message, click yes to continue.</span></span>  
   
    ![Mensagem de Check-in](media/automation-source-control-integration/automation_07_CheckinMessage.png)
2. <span data-ttu-id="87756-189">O check-in inicia o runbook do controle de origem: **Sync-MicrosoftAzureAutomationAccountToGitHubV1**.</span><span class="sxs-lookup"><span data-stu-id="87756-189">Check-in starts the source control runbook: **Sync-MicrosoftAzureAutomationAccountToGitHubV1**.</span></span> <span data-ttu-id="87756-190">Esse runbook se conecta ao GitHub e envia por push alterações da Automação do Azure para seu repositório.</span><span class="sxs-lookup"><span data-stu-id="87756-190">This runbook connects to GitHub and pushes changes from Azure Automation to your repository.</span></span> <span data-ttu-id="87756-191">Para exibir o histórico de trabalho de check-in, volte para a guia **Integração de Controle de Origem** e clique para abrir a folha Sincronização de Repositório.</span><span class="sxs-lookup"><span data-stu-id="87756-191">To view the check-in job history, go back to the **Source Control Integration** tab and click to open the Repository Synchronization blade.</span></span> <span data-ttu-id="87756-192">Essa folha mostra todos os seus trabalhos de controle de origem.</span><span class="sxs-lookup"><span data-stu-id="87756-192">This blade shows all of your source control jobs.</span></span>  <span data-ttu-id="87756-193">Selecione o trabalho que você deseja exibir e clique para exibir os detalhes.</span><span class="sxs-lookup"><span data-stu-id="87756-193">Select the job you want to view and click to view the details.</span></span>  
   
    ![Fazer Check-in de Runbook](media/automation-source-control-integration/automation_08_CheckinRunbook.png)
   
   > [!NOTE]
   > <span data-ttu-id="87756-195">Runbooks de controle de origem são runbooks especiais de Automação que você não pode exibir nem editar.</span><span class="sxs-lookup"><span data-stu-id="87756-195">Source control runbooks are special Automation runbooks that you cannot view or edit.</span></span> <span data-ttu-id="87756-196">Embora eles não apareçam em sua lista de runbooks, você verá os trabalhos de sincronização em sua lista de trabalhos.</span><span class="sxs-lookup"><span data-stu-id="87756-196">While they will not show up on your runbook list, you will see sync jobs showing up on your jobs list.</span></span>
   > 
   > 
3. <span data-ttu-id="87756-197">O nome do runbook modificado é enviado como um parâmetro de entrada para o runbook de check-in.</span><span class="sxs-lookup"><span data-stu-id="87756-197">The name of the modified runbook is sent as an input parameter to the check-in runbook.</span></span> <span data-ttu-id="87756-198">Você pode [exibir os detalhes do trabalho](automation-runbook-execution.md#viewing-job-status-from-the-azure-portal) expandindo o runbook na folha **Sincronização de Repositórios** .</span><span class="sxs-lookup"><span data-stu-id="87756-198">You can [view the job details](automation-runbook-execution.md#viewing-job-status-from-the-azure-portal) by expanding runbook in **Repository Synchronization** blade.</span></span>  
   
    ![Entrada de Check-in](media/automation-source-control-integration/automation_09_CheckinInput.png)
4. <span data-ttu-id="87756-200">Atualize seu repositório do GitHub depois que o trabalho for concluído para exibir as alterações.</span><span class="sxs-lookup"><span data-stu-id="87756-200">Refresh your GitHub repository once the job completes to view the changes.</span></span>  <span data-ttu-id="87756-201">Deve haver uma confirmação do seu repositório com uma mensagem de confirmação: **atualizadas *nome do Runbook* na automação do Azure.**</span><span class="sxs-lookup"><span data-stu-id="87756-201">There should be a commit in your repository with a commit message: **Updated *Runbook Name* in Azure Automation.**</span></span>  

### <a name="sync-runbooks-from-source-control-to-azure-automation"></a><span data-ttu-id="87756-202">Sincronizar runbooks do controle de origem para a Automação do Azure</span><span class="sxs-lookup"><span data-stu-id="87756-202">Sync runbooks from source control to Azure Automation</span></span>
<span data-ttu-id="87756-203">O botão de sincronização na folha Sincronização do Repositório permite efetuar pull em todos os runbooks no caminho da pasta do runbook do repositório para sua conta de Automação.</span><span class="sxs-lookup"><span data-stu-id="87756-203">The sync button on the Repository Synchronization blade allows you to pull all the runbooks in the runbook folder path of your repository to your Automation account.</span></span> <span data-ttu-id="87756-204">O mesmo repositório pode ser sincronizado em mais de uma conta de Automação.</span><span class="sxs-lookup"><span data-stu-id="87756-204">The same repository can be synced to more than one Automation account.</span></span> <span data-ttu-id="87756-205">A seguir, as etapas para sincronizar um runbook:</span><span class="sxs-lookup"><span data-stu-id="87756-205">Below are the steps to sync a runbook:</span></span>

1. <span data-ttu-id="87756-206">Na conta de Automação em que você configura o controle de origem, abra a **folha Integração de Controle de Origem/Sincronização de Repositórios** e clique em **Sincronizar**. Será exibida uma mensagem de confirmação. Clique em **Sim** para continuar.</span><span class="sxs-lookup"><span data-stu-id="87756-206">From the Automation account where you set up source control, open the **Source Control Integration/Repository Synchronization blade** and click **Sync** then you will be prompted with a confirmation message, click **Yes** to continue.</span></span>  
   
    ![Botão Sincronizar](media/automation-source-control-integration/automation_10_SyncButtonwithMessage.png)
2. <span data-ttu-id="87756-208">A sincronização inicia o runbook: **Sync-MicrosoftAzureAutomationAccountFromGitHubV1**.</span><span class="sxs-lookup"><span data-stu-id="87756-208">Sync starts the runbook: **Sync-MicrosoftAzureAutomationAccountFromGitHubV1**.</span></span> <span data-ttu-id="87756-209">Esse runbook se conecta ao GitHub e efetua pull das alterações do seu repositório para a Automação do Azure.</span><span class="sxs-lookup"><span data-stu-id="87756-209">This runbook connects to GitHub and pulls the changes from your repository to Azure Automation.</span></span> <span data-ttu-id="87756-210">Você verá um novo trabalho na folha **Sincronização de Repositório** para esta ação.</span><span class="sxs-lookup"><span data-stu-id="87756-210">You should see a new job on the **Repository Synchronization** blade for this action.</span></span> <span data-ttu-id="87756-211">Para exibir detalhes sobre o trabalho de sincronização, clique para abrir a folha de detalhes do trabalho.</span><span class="sxs-lookup"><span data-stu-id="87756-211">To view details about the sync job, click to open the job details blade.</span></span>  
   
    ![Sincronizar Runbook](media/automation-source-control-integration/automation_11_SyncRunbook.png)

    > [!NOTE] 
    > <span data-ttu-id="87756-213">Uma sincronização do controle de origem substitui a versão de rascunho dos runbooks que existem atualmente em sua conta da Automação para **TODOS** os runbooks atualmente no controle de origem.</span><span class="sxs-lookup"><span data-stu-id="87756-213">A sync from source control overwrites the draft version of the runbooks that currently exist in your Automation account for **ALL** runbooks that are currently in source control.</span></span> <span data-ttu-id="87756-214">A instrução de linha de comando equivalente do Git para sincronizar é **git pull**</span><span class="sxs-lookup"><span data-stu-id="87756-214">The Git equivalent command line instruction to sync is **git pull**</span></span>


## <a name="troubleshooting-source-control-problems"></a><span data-ttu-id="87756-215">Solucionando problemas do controle de origem</span><span class="sxs-lookup"><span data-stu-id="87756-215">Troubleshooting source control problems</span></span>
<span data-ttu-id="87756-216">Se houver erros com um trabalho de check-in ou de sincronização, o status do trabalho deverá ser suspenso e você poderá exibir mais detalhes sobre o erro na folha do trabalho.</span><span class="sxs-lookup"><span data-stu-id="87756-216">If there are any errors with a check-in or sync job, the job status should be suspended and you can view more details about the error in the job blade.</span></span>  <span data-ttu-id="87756-217">A parte **Todos os Logs** mostrará todos os fluxos do PowerShell associados ao trabalho.</span><span class="sxs-lookup"><span data-stu-id="87756-217">The **All Logs** part will show you all the PowerShell streams associated with that job.</span></span> <span data-ttu-id="87756-218">Isso fornecerá os detalhes necessários para ajudar com a correção de quaisquer problemas com seu check-in ou sincronização.</span><span class="sxs-lookup"><span data-stu-id="87756-218">This will provide you with the details needed to help you fix any problems with your check-in or sync.</span></span> <span data-ttu-id="87756-219">Também será mostrada a sequência de ações que ocorreram durante a sincronização ou verificação em um runbook.</span><span class="sxs-lookup"><span data-stu-id="87756-219">It will also show you the sequence of actions that occurred while syncing or checking-in a runbook.</span></span>  

![Imagem AllLogs](media/automation-source-control-integration/automation_13_AllLogs.png)

## <a name="disconnecting-source-control"></a><span data-ttu-id="87756-221">Desconectando o controle de origem</span><span class="sxs-lookup"><span data-stu-id="87756-221">Disconnecting source control</span></span>
<span data-ttu-id="87756-222">Para se desconectar de sua conta do GitHub, abra a folha Sincronização de Repositórios e clique em **Desconectar**.</span><span class="sxs-lookup"><span data-stu-id="87756-222">To disconnect from your GitHub account, open the Repository Synchronization blade and click **Disconnect**.</span></span> <span data-ttu-id="87756-223">Depois de se desconectar do controle de origem, os runbooks sincronizados anteriormente ainda permanecerão em sua conta da Automação, mas a folha Sincronização de Repositórios não será habilitada.</span><span class="sxs-lookup"><span data-stu-id="87756-223">Once you disconnect source control, runbooks that were synced earlier will still remain in your Automation account but the Repository Synchronization blade will not be enabled.</span></span>  

  ![Botão Desconectar](media/automation-source-control-integration/automation_12_Disconnect.png)

## <a name="next-steps"></a><span data-ttu-id="87756-225">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="87756-225">Next steps</span></span>
<span data-ttu-id="87756-226">Para obter mais informações sobre a integração de controle do código-fonte, veja os seguintes recursos:</span><span class="sxs-lookup"><span data-stu-id="87756-226">For more information about source control integration, see the following resources:</span></span>  

* [<span data-ttu-id="87756-227">Automação do Azure: integração de controle do código-fonte na Automação do Azure</span><span class="sxs-lookup"><span data-stu-id="87756-227">Azure Automation: Source Control Integration in Azure Automation</span></span>](https://azure.microsoft.com/blog/azure-automation-source-control-13/)  
* [<span data-ttu-id="87756-228">Vote em seu sistema de controle do código-fonte favorito</span><span class="sxs-lookup"><span data-stu-id="87756-228">Vote for your favorite source control system</span></span>](https://www.surveymonkey.com/r/?sm=2dVjdcrCPFdT0dFFI8nUdQ%3d%3d)  
* [<span data-ttu-id="87756-229">Automação do Azure: integrando o controle do código-fonte de runbook usando o Visual Studio Team Services</span><span class="sxs-lookup"><span data-stu-id="87756-229">Azure Automation: Integrating Runbook Source Control using Visual Studio Team Services</span></span>](https://azure.microsoft.com/blog/azure-automation-integrating-runbook-source-control-using-visual-studio-online/)  

