---
title: "execução de aaaRunbook na automação do Azure | Microsoft Docs"
description: "Descreve os detalhes de saudação do como um runbook na automação do Azure é processado."
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: tysonn
ms.assetid: d10c8ce2-2c0b-4ea7-ba3c-d20e09b2c9ca
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 08/17/2017
ms.author: bwren
ms.openlocfilehash: bdb535675443353d44640bc7773de3f9dac5e42c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="runbook-execution-in-azure-automation"></a><span data-ttu-id="e6b33-103">Execução de runbook na Automação do Azure</span><span class="sxs-lookup"><span data-stu-id="e6b33-103">Runbook execution in Azure Automation</span></span>
<span data-ttu-id="e6b33-104">Quando você inicia um runbook na Automação do Azure, um trabalho é criado.</span><span class="sxs-lookup"><span data-stu-id="e6b33-104">When you start a runbook in Azure Automation, a job is created.</span></span> <span data-ttu-id="e6b33-105">Um trabalho é uma instância única de execução de um runbook.</span><span class="sxs-lookup"><span data-stu-id="e6b33-105">A job is a single execution instance of a runbook.</span></span> <span data-ttu-id="e6b33-106">Um objeto de automação do Azure worker é atribuído toorun cada trabalho.</span><span class="sxs-lookup"><span data-stu-id="e6b33-106">An Azure Automation worker is assigned toorun each job.</span></span> <span data-ttu-id="e6b33-107">Enquanto os trabalhadores são compartilhados por várias contas do Azure, os trabalhos de diferentes contas de automação ficam isolados uns dos outros.</span><span class="sxs-lookup"><span data-stu-id="e6b33-107">While workers are shared by multiple Azure accounts, jobs from different Automation accounts are isolated from one another.</span></span> <span data-ttu-id="e6b33-108">Você não tem controle sobre qual solicitação do trabalho serviços Olá para seu trabalho.</span><span class="sxs-lookup"><span data-stu-id="e6b33-108">You do not have control over which worker services hello request for your job.</span></span>  <span data-ttu-id="e6b33-109">Um único runbook pode ter vários trabalhos em execução ao mesmo tempo.</span><span class="sxs-lookup"><span data-stu-id="e6b33-109">A single runbook can have multiple jobs running at one time.</span></span> <span data-ttu-id="e6b33-110">Quando você exibir a lista de saudação de runbooks em Olá portal do Azure, ele lista o status de saudação de todos os trabalhos que foram iniciados para cada runbook.</span><span class="sxs-lookup"><span data-stu-id="e6b33-110">When you view hello list of runbooks in hello Azure portal, it lists hello status of all jobs that were started for each runbook.</span></span> <span data-ttu-id="e6b33-111">Você pode exibir a lista de saudação de trabalhos para cada runbook no status do pedido tootrack saudação de cada um.</span><span class="sxs-lookup"><span data-stu-id="e6b33-111">You can view hello list of jobs for each runbook in order tootrack hello status of each.</span></span> <span data-ttu-id="e6b33-112">Para obter uma descrição do status de trabalho diferente do hello, consulte [status do trabalho](#job-statuses).</span><span class="sxs-lookup"><span data-stu-id="e6b33-112">For a description of hello different job statuses, see [Job Statuses](#job-statuses).</span></span>

<span data-ttu-id="e6b33-113">Olá, diagrama a seguir mostra saudação do ciclo de vida de um trabalho de runbook para [runbooks gráficos](automation-runbook-types.md#graphical-runbooks) e [runbooks do fluxo de trabalho do PowerShell](automation-runbook-types.md#powershell-workflow-runbooks).</span><span class="sxs-lookup"><span data-stu-id="e6b33-113">hello following diagram shows hello lifecycle of a runbook job for [Graphical runbooks](automation-runbook-types.md#graphical-runbooks) and [PowerShell Workflow runbooks](automation-runbook-types.md#powershell-workflow-runbooks).</span></span>

![Status de trabalho - Fluxo de trabalho do PowerShell](./media/automation-runbook-execution/job-statuses.png)

<span data-ttu-id="e6b33-115">Olá, diagrama a seguir mostra saudação do ciclo de vida de um trabalho de runbook para [runbooks do PowerShell](automation-runbook-types.md#powershell-runbooks).</span><span class="sxs-lookup"><span data-stu-id="e6b33-115">hello following diagram shows hello lifecycle of a runbook job for [PowerShell runbooks](automation-runbook-types.md#powershell-runbooks).</span></span>

![Status de trabalho - Script do PowerShell](./media/automation-runbook-execution/job-statuses-script.png)

<span data-ttu-id="e6b33-117">Os trabalhos de tem acesso tooyour Azure recursos fazendo uma conexão tooyour assinatura do Azure.</span><span class="sxs-lookup"><span data-stu-id="e6b33-117">Your jobs have access tooyour Azure resources by making a connection tooyour Azure subscription.</span></span> <span data-ttu-id="e6b33-118">Somente tiverem acesso tooresources em seu data center se esses recursos estiverem acessíveis da nuvem pública hello.</span><span class="sxs-lookup"><span data-stu-id="e6b33-118">They only have access tooresources in your data center if those resources are accessible from hello public cloud.</span></span>

## <a name="job-statuses"></a><span data-ttu-id="e6b33-119">Status de trabalho</span><span class="sxs-lookup"><span data-stu-id="e6b33-119">Job statuses</span></span>
<span data-ttu-id="e6b33-120">Olá tabela a seguir descreve Olá diferentes status possíveis para um trabalho.</span><span class="sxs-lookup"><span data-stu-id="e6b33-120">hello following table describes hello different statuses that are possible for a job.</span></span>

| <span data-ttu-id="e6b33-121">Status</span><span class="sxs-lookup"><span data-stu-id="e6b33-121">Status</span></span> | <span data-ttu-id="e6b33-122">Descrição</span><span class="sxs-lookup"><span data-stu-id="e6b33-122">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="e6b33-123">Concluído</span><span class="sxs-lookup"><span data-stu-id="e6b33-123">Completed</span></span> |<span data-ttu-id="e6b33-124">trabalho de saudação concluído com êxito.</span><span class="sxs-lookup"><span data-stu-id="e6b33-124">hello job completed successfully.</span></span> |
| <span data-ttu-id="e6b33-125">Com falha</span><span class="sxs-lookup"><span data-stu-id="e6b33-125">Failed</span></span> |<span data-ttu-id="e6b33-126">Para [runbooks gráfico e fluxo de trabalho do PowerShell](automation-runbook-types.md), Olá runbook falha toocompile.</span><span class="sxs-lookup"><span data-stu-id="e6b33-126">For [Graphical and PowerShell Workflow runbooks](automation-runbook-types.md), hello runbook failed toocompile.</span></span>  <span data-ttu-id="e6b33-127">Para [runbooks de Script do PowerShell](automation-runbook-types.md), Olá runbook falha toostart ou trabalho Olá encontrou uma exceção.</span><span class="sxs-lookup"><span data-stu-id="e6b33-127">For [PowerShell Script runbooks](automation-runbook-types.md), hello runbook failed toostart or hello job encountered an exception.</span></span> |
| <span data-ttu-id="e6b33-128">Erro, aguardando recursos</span><span class="sxs-lookup"><span data-stu-id="e6b33-128">Failed, waiting for resources</span></span> |<span data-ttu-id="e6b33-129">Falha no trabalho de saudação porque atingiu Olá [compartilhamento justo](#fairshare) limitar três vezes e iniciado a partir de Olá mesmo ponto de verificação ou de saudação de runbook Olá cada hora inicial.</span><span class="sxs-lookup"><span data-stu-id="e6b33-129">hello job failed because it reached hello [fair share](#fairshare) limit three times and started from hello same checkpoint or from hello start of hello runbook each time.</span></span> |
| <span data-ttu-id="e6b33-130">Em fila</span><span class="sxs-lookup"><span data-stu-id="e6b33-130">Queued</span></span> |<span data-ttu-id="e6b33-131">Olá trabalho está aguardando recursos em um trabalho de automação toocome disponível para que ele possa ser iniciado.</span><span class="sxs-lookup"><span data-stu-id="e6b33-131">hello job is waiting for resources on an Automation worker toocome available so that it can be started.</span></span> |
| <span data-ttu-id="e6b33-132">Iniciando</span><span class="sxs-lookup"><span data-stu-id="e6b33-132">Starting</span></span> |<span data-ttu-id="e6b33-133">Olá trabalho foi atribuído trabalho tooa e sistema hello está em processo de saudação de iniciá-lo.</span><span class="sxs-lookup"><span data-stu-id="e6b33-133">hello job has been assigned tooa worker, and hello system is in hello process of starting it.</span></span> |
| <span data-ttu-id="e6b33-134">Continuando</span><span class="sxs-lookup"><span data-stu-id="e6b33-134">Resuming</span></span> |<span data-ttu-id="e6b33-135">sistema de saudação está no processo de saudação de retomar o trabalho Olá depois que ele foi suspenso.</span><span class="sxs-lookup"><span data-stu-id="e6b33-135">hello system is in hello process of resuming hello job after it was suspended.</span></span> |
| <span data-ttu-id="e6b33-136">Executando</span><span class="sxs-lookup"><span data-stu-id="e6b33-136">Running</span></span> |<span data-ttu-id="e6b33-137">trabalho de Hello está sendo executado.</span><span class="sxs-lookup"><span data-stu-id="e6b33-137">hello job is running.</span></span> |
| <span data-ttu-id="e6b33-138">Executando, aguardando recursos</span><span class="sxs-lookup"><span data-stu-id="e6b33-138">Running, waiting for resources</span></span> |<span data-ttu-id="e6b33-139">Olá trabalho foi descarregado porque atingiu Olá [compartilhamento justo](#fairshare) limite.</span><span class="sxs-lookup"><span data-stu-id="e6b33-139">hello job has been unloaded because it reached hello [fair share](#fairshare) limit.</span></span> <span data-ttu-id="e6b33-140">Ele será retomado em breve do seu último ponto de verificação.</span><span class="sxs-lookup"><span data-stu-id="e6b33-140">It resumes shortly from its last checkpoint.</span></span> |
| <span data-ttu-id="e6b33-141">Parada</span><span class="sxs-lookup"><span data-stu-id="e6b33-141">Stopped</span></span> |<span data-ttu-id="e6b33-142">trabalho de saudação foi interrompido pelo usuário Olá antes de ser concluída.</span><span class="sxs-lookup"><span data-stu-id="e6b33-142">hello job was stopped by hello user before it was completed.</span></span> |
| <span data-ttu-id="e6b33-143">Parando</span><span class="sxs-lookup"><span data-stu-id="e6b33-143">Stopping</span></span> |<span data-ttu-id="e6b33-144">sistema de saudação está no processo de saudação de parar o trabalho de saudação.</span><span class="sxs-lookup"><span data-stu-id="e6b33-144">hello system is in hello process of stopping hello job.</span></span> |
| <span data-ttu-id="e6b33-145">Suspenso</span><span class="sxs-lookup"><span data-stu-id="e6b33-145">Suspended</span></span> |<span data-ttu-id="e6b33-146">trabalho de saudação foi suspenso pelo usuário hello, pelo sistema de saudação ou por um comando no runbook hello.</span><span class="sxs-lookup"><span data-stu-id="e6b33-146">hello job was suspended by hello user, by hello system, or by a command in hello runbook.</span></span> <span data-ttu-id="e6b33-147">Um trabalho suspenso pode ser iniciado novamente e continuar a partir de seu último ponto de verificação ou hello a partir de runbook Olá se ele não tem pontos de verificação.</span><span class="sxs-lookup"><span data-stu-id="e6b33-147">A job that is suspended can be started again and resume from its last checkpoint or from hello beginning of hello runbook if it doesn't have checkpoints.</span></span> <span data-ttu-id="e6b33-148">Olá runbook somente será suspenso pelo sistema hello quando ocorre uma exceção.</span><span class="sxs-lookup"><span data-stu-id="e6b33-148">hello runbook will only be suspended by hello system when an exception occurs.</span></span> <span data-ttu-id="e6b33-149">Por padrão, ErrorActionPreference está definido muito**continuar**, que significa que o trabalho Olá continua em execução em um erro.</span><span class="sxs-lookup"><span data-stu-id="e6b33-149">By default, ErrorActionPreference is set too**Continue**, meaning that hello job keeps running on an error.</span></span> <span data-ttu-id="e6b33-150">Se essa variável de preferência for definida muito**parar**, em seguida, suspende o trabalho de saudação em um erro.</span><span class="sxs-lookup"><span data-stu-id="e6b33-150">If this preference variable is set too**Stop**, then hello job suspends on an error.</span></span>  <span data-ttu-id="e6b33-151">Aplica-se também[runbooks gráfico e fluxo de trabalho do PowerShell](automation-runbook-types.md) somente.</span><span class="sxs-lookup"><span data-stu-id="e6b33-151">Applies too[Graphical and PowerShell Workflow runbooks](automation-runbook-types.md) only.</span></span> |
| <span data-ttu-id="e6b33-152">Suspensão</span><span class="sxs-lookup"><span data-stu-id="e6b33-152">Suspending</span></span> |<span data-ttu-id="e6b33-153">sistema de saudação está tentando toosuspend trabalho de saudação na solicitação de saudação do usuário hello.</span><span class="sxs-lookup"><span data-stu-id="e6b33-153">hello system is attempting toosuspend hello job at hello request of hello user.</span></span> <span data-ttu-id="e6b33-154">Olá runbook precisa atingir seu próximo ponto de verificação antes de poder ser suspenso.</span><span class="sxs-lookup"><span data-stu-id="e6b33-154">hello runbook must reach its next checkpoint before it can be suspended.</span></span> <span data-ttu-id="e6b33-155">Se já passou de seu último ponto de verificação, ele será concluído antes de ser suspenso.</span><span class="sxs-lookup"><span data-stu-id="e6b33-155">If it already passed its last checkpoint, then it completes before it can be suspended.</span></span>  <span data-ttu-id="e6b33-156">Aplica-se também[runbooks gráfico e fluxo de trabalho do PowerShell](automation-runbook-types.md) somente.</span><span class="sxs-lookup"><span data-stu-id="e6b33-156">Applies too[Graphical and PowerShell Workflow runbooks](automation-runbook-types.md) only.</span></span> |

## <a name="viewing-job-status-from-hello-azure-portal"></a><span data-ttu-id="e6b33-157">Exibindo o status do trabalho de saudação portal do Azure</span><span class="sxs-lookup"><span data-stu-id="e6b33-157">Viewing job status from hello Azure portal</span></span>
<span data-ttu-id="e6b33-158">Você pode exibir o status resumido de todos os trabalhos de runbook ou analisar detalhes de um trabalho específico de runbook no portal do Azure de saudação ou configurando a integração com o status de trabalho de runbook sua análise de logs do Microsoft Operations Management Suite (OMS) espaço de trabalho tooforward e fluxos de trabalho.</span><span class="sxs-lookup"><span data-stu-id="e6b33-158">You can view a summarized status of all runbook jobs or drill into details of a specific runbook job in hello Azure portal or by configuring integration with your Microsoft Operations Management Suite (OMS) Log Analytics workspace tooforward runbook job status and job streams.</span></span>  <span data-ttu-id="e6b33-159">Para obter mais informações sobre como integrar com análise de logs do OMS, consulte [encaminhar o status do trabalho e fluxos de trabalho de automação tooLog Analytics (OMS)](automation-manage-send-joblogs-log-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="e6b33-159">For more information about integrating with OMS Log Analytics, see [Forward job status and job streams from Automation tooLog Analytics (OMS)](automation-manage-send-joblogs-log-analytics.md).</span></span>  

### <a name="automation-runbook-jobs-summary"></a><span data-ttu-id="e6b33-160">Resumo dos trabalhos de runbook da Automação</span><span class="sxs-lookup"><span data-stu-id="e6b33-160">Automation runbook jobs summary</span></span>
<span data-ttu-id="e6b33-161">Em Olá à direita da sua conta de automação selecionada, você pode ver um resumo de todos os trabalhos de runbook Olá para uma conta de automação selecionada em **estatísticas de trabalho** lado a lado.</span><span class="sxs-lookup"><span data-stu-id="e6b33-161">On hello right of your selected Automation account, you can see a summary of all of hello runbook jobs for a selected Automation account under **Job Statistics** tile.</span></span><br><br> <span data-ttu-id="e6b33-162">![Bloco Estatísticas de Trabalho](./media/automation-runbook-execution/automation-account-job-status-summary.png).</span><span class="sxs-lookup"><span data-stu-id="e6b33-162">![Job Statistics tile](./media/automation-runbook-execution/automation-account-job-status-summary.png).</span></span><br> <span data-ttu-id="e6b33-163">Este bloco exibe uma contagem e a representação gráfica do status do trabalho Olá para todos os trabalhos executados.</span><span class="sxs-lookup"><span data-stu-id="e6b33-163">This tile displays a count and graphical representation of hello job status for all jobs executed.</span></span>  

<span data-ttu-id="e6b33-164">Clicar no bloco Olá apresenta Olá **trabalhos** folha, que inclui uma lista resumida de todos os trabalhos executados, com o status, a execução do trabalho e horas de início e conclusão.</span><span class="sxs-lookup"><span data-stu-id="e6b33-164">Clicking on hello tile presents hello **Jobs** blade, which includes a summarized list of all jobs executed, with status, job execution, and start and completion times.</span></span><br><br> <span data-ttu-id="e6b33-165">![Folha Trabalhos da Conta de automação](./media/automation-runbook-execution/automation-account-jobs-status-blade.png)</span><span class="sxs-lookup"><span data-stu-id="e6b33-165">![Automation account Jobs blade](./media/automation-runbook-execution/automation-account-jobs-status-blade.png)</span></span><br><br>  <span data-ttu-id="e6b33-166">Você pode filtrar a lista de saudação de trabalhos selecionando **filtrar trabalhos** e filtrar em um runbook específico, o status do trabalho, ou da lista suspensa de hello, Olá toosearch de intervalo de data/hora dentro.</span><span class="sxs-lookup"><span data-stu-id="e6b33-166">You can filter hello list of jobs by selecting **Filter jobs**  and filter on a specific runbook, job status, or from hello drop-down list, hello date/time range toosearch within.</span></span><br><br> <span data-ttu-id="e6b33-167">![Filtrar por status do trabalho](./media/automation-runbook-execution/automation-account-jobs-filter.png)</span><span class="sxs-lookup"><span data-stu-id="e6b33-167">![Filter Job status](./media/automation-runbook-execution/automation-account-jobs-filter.png)</span></span>

<span data-ttu-id="e6b33-168">Como alternativa, você pode exibir detalhes de resumo do trabalho para um runbook específico, selecionando esse runbook da saudação **Runbooks** folha em conta de automação e, em seguida, selecione Olá **trabalhos** lado a lado.</span><span class="sxs-lookup"><span data-stu-id="e6b33-168">Alternatively, you can view job summary details for a specific runbook by selecting that runbook from hello **Runbooks** blade in your Automation account, and then select hello **Jobs** tile.</span></span>  <span data-ttu-id="e6b33-169">Isso apresenta Olá **trabalhos** folha, e de lá você pode clicar em Olá trabalho registro tooview seus detalhes e saída.</span><span class="sxs-lookup"><span data-stu-id="e6b33-169">This presents hello **Jobs** blade, and from there you can click on hello job record tooview its detail and output.</span></span><br><br> <span data-ttu-id="e6b33-170">![Folha Trabalhos da Conta de automação](./media/automation-runbook-execution/automation-runbook-job-summary-blade.png)</span><span class="sxs-lookup"><span data-stu-id="e6b33-170">![Automation account Jobs blade](./media/automation-runbook-execution/automation-runbook-job-summary-blade.png)</span></span><br> 

### <a name="job-summary"></a><span data-ttu-id="e6b33-171">Resumo do trabalho</span><span class="sxs-lookup"><span data-stu-id="e6b33-171">Job Summary</span></span>
<span data-ttu-id="e6b33-172">Você pode exibir uma lista de todos os trabalhos de saudação que foram criados para um determinado runbook e seus status mais recentes.</span><span class="sxs-lookup"><span data-stu-id="e6b33-172">You can view a list of all of hello jobs that have been created for a particular runbook and their most recent status.</span></span> <span data-ttu-id="e6b33-173">Você pode filtrar essa lista pelo status do trabalho e intervalo de saudação de datas para Olá última alteração toohello trabalho.</span><span class="sxs-lookup"><span data-stu-id="e6b33-173">You can filter this list by job status and hello range of dates for hello last change toohello job.</span></span> <span data-ttu-id="e6b33-174">tooview suas informações detalhadas e saída, clique no nome de saudação de um trabalho.</span><span class="sxs-lookup"><span data-stu-id="e6b33-174">tooview its detailed information and output, click on hello name of a job.</span></span> <span data-ttu-id="e6b33-175">Olá exibição detalhada do trabalho de saudação inclui valores de Olá Olá parâmetros de runbook que foram fornecidos toothat trabalho.</span><span class="sxs-lookup"><span data-stu-id="e6b33-175">hello detailed view of hello job includes hello values for hello runbook parameters that were provided toothat job.</span></span>

<span data-ttu-id="e6b33-176">Você pode usar o hello etapas tooview saudação de trabalhos para um runbook a seguir.</span><span class="sxs-lookup"><span data-stu-id="e6b33-176">You can use hello following steps tooview hello jobs for a runbook.</span></span>

1. <span data-ttu-id="e6b33-177">No portal do Azure de Olá, selecione **automação** e, em seguida, selecione o nome de saudação de uma conta de automação.</span><span class="sxs-lookup"><span data-stu-id="e6b33-177">In hello Azure portal, select **Automation** and then select hello name of an Automation account.</span></span>
2. <span data-ttu-id="e6b33-178">No hub hello, selecione **Runbooks** e, em seguida, em Olá **Runbooks** folha selecionar um runbook na lista de saudação.</span><span class="sxs-lookup"><span data-stu-id="e6b33-178">From hello hub, select **Runbooks** and then on hello **Runbooks** blade select a runbook from hello list.</span></span>
3. <span data-ttu-id="e6b33-179">Na folha de Olá runbook Olá selecionado, clique em Olá **trabalhos** lado a lado.</span><span class="sxs-lookup"><span data-stu-id="e6b33-179">On hello blade for hello selected runbook, click hello **Jobs** tile.</span></span>
4. <span data-ttu-id="e6b33-180">Clique em um dos trabalhos de saudação na lista de saudação e na folha de detalhes de trabalho de runbook hello, você pode exibir seus detalhes e saída.</span><span class="sxs-lookup"><span data-stu-id="e6b33-180">Click on one of hello jobs in hello list and on hello runbook job details blade you can view its detail and output.</span></span>

## <a name="retrieving-job-status-using-windows-powershell"></a><span data-ttu-id="e6b33-181">Recuperando o status do trabalho usando o Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="e6b33-181">Retrieving job status using Windows PowerShell</span></span>
<span data-ttu-id="e6b33-182">Você pode usar o hello [Get-AzureRmAutomationJob](https://msdn.microsoft.com/library/mt619440.aspx) tooretrieve trabalhos de saudação criados para o runbook e hello detalhes de um trabalho específico.</span><span class="sxs-lookup"><span data-stu-id="e6b33-182">You can use hello [Get-AzureRmAutomationJob](https://msdn.microsoft.com/library/mt619440.aspx) tooretrieve hello jobs created for a runbook and hello details of a particular job.</span></span> <span data-ttu-id="e6b33-183">Se você iniciar um runbook com o Windows PowerShell usando [AzureRmAutomationRunbook início](https://msdn.microsoft.com/library/mt603661.aspx), em seguida, ele retorna o trabalho resultante hello.</span><span class="sxs-lookup"><span data-stu-id="e6b33-183">If you start a runbook with Windows PowerShell using [Start-AzureRmAutomationRunbook](https://msdn.microsoft.com/library/mt603661.aspx), then it returns hello resulting job.</span></span> <span data-ttu-id="e6b33-184">Use [Get-AzureRmAutomationJob](https://msdn.microsoft.com/library/mt619440.aspx)tooget de saída, a saída de um trabalho.</span><span class="sxs-lookup"><span data-stu-id="e6b33-184">Use [Get-AzureRmAutomationJob](https://msdn.microsoft.com/library/mt619440.aspx)Output tooget a job’s output.</span></span>

<span data-ttu-id="e6b33-185">Olá comandos de exemplo a seguir recuperar o último trabalho Olá para um exemplo de runbook e exibe seu status, valores hello fornecidos para os parâmetros de runbook hello e Olá saída do trabalho de saudação.</span><span class="sxs-lookup"><span data-stu-id="e6b33-185">hello following sample commands retrieve hello last job for a sample runbook and displays its status, hello values provided for hello runbook parameters, and hello output from hello job.</span></span>

    $job = (Get-AzureRmAutomationJob –AutomationAccountName "MyAutomationAccount" `
    –RunbookName "Test-Runbook" -ResourceGroupName "ResourceGroup01" | sort LastModifiedDate –desc)[0]
    $job.Status
    $job.JobParameters
    Get-AzureRmAutomationJobOutput -ResourceGroupName "ResourceGroup01" `
    –AutomationAccountName "MyAutomationAcct" -Id $job.JobId –Stream Output

## <a name="fair-share"></a><span data-ttu-id="e6b33-186">fração justa</span><span class="sxs-lookup"><span data-stu-id="e6b33-186">Fair share</span></span>
<span data-ttu-id="e6b33-187">Em recursos de tooshare ordem entre todos os runbooks na nuvem hello, automação do Azure serão descarregados temporariamente qualquer trabalho após sua execução por três horas.</span><span class="sxs-lookup"><span data-stu-id="e6b33-187">In order tooshare resources among all runbooks in hello cloud, Azure Automation will temporarily unload any job after it has been running for three hours.</span></span>  <span data-ttu-id="e6b33-188">Durante esse tempo, os trabalhos para [runbooks com base no PowerShell](automation-runbook-types.md#powershell-runbooks) são interrompidos e não serão reiniciados.</span><span class="sxs-lookup"><span data-stu-id="e6b33-188">During this time, jobs for [PowerShell-based runbooks](automation-runbook-types.md#powershell-runbooks) are stopped and will not be restarted.</span></span>  <span data-ttu-id="e6b33-189">Olá trabalho status mostra **parado**.</span><span class="sxs-lookup"><span data-stu-id="e6b33-189">hello job status shows **Stopped**.</span></span>  <span data-ttu-id="e6b33-190">Esse tipo de runbook sempre será reiniciado desde o início de saudação desde que não oferecem suporte a pontos de verificação.</span><span class="sxs-lookup"><span data-stu-id="e6b33-190">This type of runbook is always restarted from hello beginning since they don't support checkpoints.</span></span>  

<span data-ttu-id="e6b33-191">[Os runbooks baseados em Fluxo de trabalho do PowerShell](automation-runbook-types.md#powershell-workflow-runbooks) serão retomados do seu último [ponto de verificação](https://docs.microsoft.com/system-center/sma/overview-powershell-workflows#bk_Checkpoints).</span><span class="sxs-lookup"><span data-stu-id="e6b33-191">[PowerShell-Workflow-based runbooks](automation-runbook-types.md#powershell-workflow-runbooks) will be resumed from their last [checkpoint](https://docs.microsoft.com/system-center/sma/overview-powershell-workflows#bk_Checkpoints).</span></span>  <span data-ttu-id="e6b33-192">Depois de executar três horas, o trabalho de runbook Olá será suspenso pelo serviço hello e seu status mostra **em execução, aguardando recursos**.</span><span class="sxs-lookup"><span data-stu-id="e6b33-192">After running three hours, hello runbook job will be suspended by hello service and its status shows **Running, waiting for resources**.</span></span>  <span data-ttu-id="e6b33-193">Quando uma área restrita fica disponível, Olá runbook será reiniciado automaticamente pelo serviço de automação de saudação e reinicia a partir do último ponto de verificação de saudação.</span><span class="sxs-lookup"><span data-stu-id="e6b33-193">When a sandbox becomes available, hello runbook will be automatically restarted by hello Automation service and resumes from hello last checkpoint.</span></span>  <span data-ttu-id="e6b33-194">Este é o comportamento normal do fluxo de trabalho do PowerShell para suspender/reiniciar.</span><span class="sxs-lookup"><span data-stu-id="e6b33-194">This is normal PowerShell-Workflow behavior for suspend/restart.</span></span>  <span data-ttu-id="e6b33-195">Se o runbook Olá novamente exceder três horas de tempo de execução, Olá processo se repete toothree horas.</span><span class="sxs-lookup"><span data-stu-id="e6b33-195">If hello runbook again exceeds three hours of runtime, hello process repeats, up toothree times.</span></span>  <span data-ttu-id="e6b33-196">Após Olá terceira reinicialização, se Olá runbook ainda não foi concluída em três horas, em seguida, falha do trabalho de runbook hello e status do trabalho Olá mostra **falhou, aguardando recursos**.</span><span class="sxs-lookup"><span data-stu-id="e6b33-196">After hello third restart, if hello runbook still has not completed in three hours, then hello runbook job is failed, and hello job status shows **Failed, waiting for resources**.</span></span>  <span data-ttu-id="e6b33-197">Nesse caso, você receberá Olá a seguinte exceção com falha de saudação.</span><span class="sxs-lookup"><span data-stu-id="e6b33-197">In this case, you receive hello following exception with hello failure.</span></span>

<span data-ttu-id="e6b33-198">*trabalho Olá não pode continuar em execução porque ele foi removido repetidamente a partir Olá mesmo ponto de verificação. Verifique se o Runbook não executa operações demoradas sem persistir o estado.*</span><span class="sxs-lookup"><span data-stu-id="e6b33-198">*hello job cannot continue running because it was repeatedly evicted from hello same checkpoint. Please make sure your Runbook does not perform lengthy operations without persisting its state.*</span></span>

<span data-ttu-id="e6b33-199">Este é o serviço de saudação do tooprotect de execução de runbooks indefinidamente sem concluir, porque eles não são toomake capaz de ele toohello próximo ponto de verificação sem serem descarregados novamente.</span><span class="sxs-lookup"><span data-stu-id="e6b33-199">This is tooprotect hello service from runbooks running indefinitely without completing, as they are not able toomake it toohello next checkpoint without being unloaded again.</span></span>

<span data-ttu-id="e6b33-200">Se Olá runbook não tiver nenhum ponto de verificação ou trabalho Olá não atingiu o primeiro ponto de verificação de saudação antes de ser descarregado, em seguida, ele será reiniciado desde o início de saudação.</span><span class="sxs-lookup"><span data-stu-id="e6b33-200">If hello runbook has no checkpoints or hello job had not reached hello first checkpoint before being unloaded, then it restarts from hello beginning.</span></span>  

<span data-ttu-id="e6b33-201">Quando você cria um runbook, você deve garantir que toorun de tempo de saudação todas as atividades entre dois pontos de verificação não exceda três horas.</span><span class="sxs-lookup"><span data-stu-id="e6b33-201">When you create a runbook, you should ensure that hello time toorun any activities between two checkpoints does not exceed three hours.</span></span> <span data-ttu-id="e6b33-202">Talvez seja necessário tooadd pontos de verificação tooyour runbook tooensure que não atingir esse limite de três horas ou dividir longa operações em execução.</span><span class="sxs-lookup"><span data-stu-id="e6b33-202">You may need tooadd checkpoints tooyour runbook tooensure that it does not reach this three hour limit or break up long running operations.</span></span> <span data-ttu-id="e6b33-203">Por exemplo, o runbook pode executar uma reindexação em um grande banco de dados SQL.</span><span class="sxs-lookup"><span data-stu-id="e6b33-203">For example, your runbook might perform a reindex on a large SQL database.</span></span> <span data-ttu-id="e6b33-204">Se essa única operação não for concluída dentro de saudação razoável limite de compartilhamento, em seguida, o trabalho de saudação é descarregados e reiniciado a partir do início da saudação.</span><span class="sxs-lookup"><span data-stu-id="e6b33-204">If this single operation does not complete within hello fair share limit, then hello job are unloaded and restarted from hello beginning.</span></span> <span data-ttu-id="e6b33-205">Nesse caso, você deve interromper a operação de reindexação Olá em várias etapas, como reindexar uma tabela por vez e, em seguida, insira um ponto de verificação após cada operação, de modo que hello trabalho possa ser retomado após Olá última operação toocomplete.</span><span class="sxs-lookup"><span data-stu-id="e6b33-205">In this case, you should break up hello reindex operation into multiple steps, such as reindexing one table at a time, and then insert a checkpoint after each operation so that hello job could resume after hello last operation toocomplete.</span></span>

## <a name="next-steps"></a><span data-ttu-id="e6b33-206">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="e6b33-206">Next steps</span></span>
* <span data-ttu-id="e6b33-207">toolearn mais sobre métodos diferentes de saudação que pode ser usado toostart um runbook na automação do Azure, consulte [iniciando um runbook na automação do Azure](automation-starting-a-runbook.md)</span><span class="sxs-lookup"><span data-stu-id="e6b33-207">toolearn more about hello different methods that can be used toostart a runbook in Azure Automation, see [Starting a runbook in Azure Automation](automation-starting-a-runbook.md)</span></span>

