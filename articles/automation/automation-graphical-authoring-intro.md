---
title: "aaaGraphical criação na automação do Azure | Microsoft Docs"
description: "Criação gráfica permite que você toocreate runbooks de automação do Azure sem trabalhar com o código. Este artigo fornece uma introdução de criação de toographical e todos os detalhes de saudação necessária toostart criando um runbook gráfico."
services: automation
documentationcenter: 
author: mgoedtel
manager: carmonm
editor: tysonn
ms.assetid: 4b6f840c-e941-4293-a728-b33407317943
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/14/2017
ms.author: magoedte;bwren
ms.openlocfilehash: 6ddf18b992d5e5f7f4af95f344007a63ac498549
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="graphical-authoring-in-azure-automation"></a><span data-ttu-id="2f283-104">Criação gráfica na Automação do Azure</span><span class="sxs-lookup"><span data-stu-id="2f283-104">Graphical authoring in Azure Automation</span></span>
## <a name="introduction"></a><span data-ttu-id="2f283-105">Introdução</span><span class="sxs-lookup"><span data-stu-id="2f283-105">Introduction</span></span>
<span data-ttu-id="2f283-106">Criação gráfica permite toocreate runbooks de automação do Azure sem as complexidades de saudação do código subjacente saudação do Windows PowerShell ou fluxo de trabalho do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="2f283-106">Graphical Authoring allows you toocreate runbooks for Azure Automation without hello complexities of hello underlying Windows PowerShell or PowerShell Workflow code.</span></span> <span data-ttu-id="2f283-107">Adicionar atividades toohello tela de uma biblioteca de cmdlets e runbooks, conectá-los e configurar tooform um fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="2f283-107">You add activities toohello canvas from a library of cmdlets and runbooks, link them together and configure tooform a workflow.</span></span>  <span data-ttu-id="2f283-108">Se você já trabalhou com o System Center Orchestrator ou Service Management Automation (SMA), isso deve ser tooyou familiar.</span><span class="sxs-lookup"><span data-stu-id="2f283-108">If you have ever worked with System Center Orchestrator or Service Management Automation (SMA), then this should look familiar tooyou.</span></span>   

<span data-ttu-id="2f283-109">Este artigo fornece uma introdução toographical conceitos de criação e hello que necessário tooget iniciado na criação de um runbook gráfico.</span><span class="sxs-lookup"><span data-stu-id="2f283-109">This article provides an introduction toographical authoring and hello concepts you need tooget started in creating a graphical runbook.</span></span>

## <a name="graphical-runbooks"></a><span data-ttu-id="2f283-110">Runbooks gráficos</span><span class="sxs-lookup"><span data-stu-id="2f283-110">Graphical runbooks</span></span>
<span data-ttu-id="2f283-111">Todos os runbooks na Automação do Azure são Fluxos de Trabalho do Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="2f283-111">All runbooks in Azure Automation are Windows PowerShell Workflows.</span></span>  <span data-ttu-id="2f283-112">Gráfico e fluxo de trabalho do PowerShell gráfica runbooks gerar código do PowerShell que é executado por funcionários de automação hello, mas não é capaz de tooview-la ou modificá-la diretamente.</span><span class="sxs-lookup"><span data-stu-id="2f283-112">Graphical and Graphical PowerShell Workflow runbooks generate PowerShell code that is run by hello Automation workers, but you are not able tooview it or directly modify it.</span></span>  <span data-ttu-id="2f283-113">Um runbook gráfico pode ser convertido tooa fluxo de trabalho do PowerShell gráfica runbook e vice-versa, mas eles não podem ser runbook textual tooa convertido.</span><span class="sxs-lookup"><span data-stu-id="2f283-113">A Graphical runbook can be converted tooa Graphical PowerShell Workflow runbook and vice-versa, but they cannot be converted tooa textual runbook.</span></span> <span data-ttu-id="2f283-114">Um runbook textual existente não pode ser importado para o editor gráfico hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-114">An existing textual runbook cannot be imported into hello graphical editor.</span></span>  

## <a name="overview-of-graphical-editor"></a><span data-ttu-id="2f283-115">Visão geral do editor gráfico</span><span class="sxs-lookup"><span data-stu-id="2f283-115">Overview of graphical editor</span></span>
<span data-ttu-id="2f283-116">Você pode abrir o editor gráfico Olá no portal do Azure de saudação criando ou editando um runbook gráfico.</span><span class="sxs-lookup"><span data-stu-id="2f283-116">You can open hello graphical editor in hello Azure portal by creating or editing a graphical runbook.</span></span>

![Espaço de trabalho gráfico](media/automation-graphical-authoring-intro/runbook-graphical-editor.png)

<span data-ttu-id="2f283-118">Olá seções a seguir descrevem controles Olá no editor gráfico hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-118">hello following sections describe hello controls in hello graphical editor.</span></span>

### <a name="canvas"></a><span data-ttu-id="2f283-119">Tela</span><span class="sxs-lookup"><span data-stu-id="2f283-119">Canvas</span></span>
<span data-ttu-id="2f283-120">Olá tela é onde você projetar seu runbook.</span><span class="sxs-lookup"><span data-stu-id="2f283-120">hello Canvas is where you design your runbook.</span></span>  <span data-ttu-id="2f283-121">Adicionar atividades em nós Olá Olá biblioteca controle toohello runbook e conecte-se com a lógica de saudação toodefine links de runbook hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-121">You add activities from hello nodes in hello Library control toohello runbook and connect them with links toodefine hello logic of hello runbook.</span></span>

<span data-ttu-id="2f283-122">Você pode usar controles de saudação final Olá Olá tela toozoom e sair.</span><span class="sxs-lookup"><span data-stu-id="2f283-122">You can use hello controls at hello bottom of hello canvas toozoom in and out.</span></span>

![Espaço de trabalho gráfico](media/automation-graphical-authoring-intro/runbook-canvas-controls.png)

### <a name="library-control"></a><span data-ttu-id="2f283-124">Controle de Biblioteca</span><span class="sxs-lookup"><span data-stu-id="2f283-124">Library control</span></span>
<span data-ttu-id="2f283-125">Olá controle da biblioteca é onde você seleciona [atividades](#activities) tooadd tooyour runbook.</span><span class="sxs-lookup"><span data-stu-id="2f283-125">hello Library control is where you select [activities](#activities) tooadd tooyour runbook.</span></span>  <span data-ttu-id="2f283-126">Você adicioná-las toohello tela onde você conectá-los tooother atividades.</span><span class="sxs-lookup"><span data-stu-id="2f283-126">You add them toohello canvas where you connect them tooother activities.</span></span>  <span data-ttu-id="2f283-127">Ele inclui quatro seções descritas no Olá a tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="2f283-127">It includes four sections described in hello following table.</span></span>

| <span data-ttu-id="2f283-128">Seção</span><span class="sxs-lookup"><span data-stu-id="2f283-128">Section</span></span> | <span data-ttu-id="2f283-129">Descrição</span><span class="sxs-lookup"><span data-stu-id="2f283-129">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="2f283-130">Cmdlets</span><span class="sxs-lookup"><span data-stu-id="2f283-130">Cmdlets</span></span> |<span data-ttu-id="2f283-131">Inclui todos os cmdlets de saudação que pode ser usados em seu runbook.</span><span class="sxs-lookup"><span data-stu-id="2f283-131">Includes all hello cmdlets that can be used in your runbook.</span></span>  <span data-ttu-id="2f283-132">Os cmdlets são organizados por módulo.</span><span class="sxs-lookup"><span data-stu-id="2f283-132">Cmdlets are organized by module.</span></span>  <span data-ttu-id="2f283-133">Todos os módulos de saudação que você instalou na sua conta de automação estarão disponíveis.</span><span class="sxs-lookup"><span data-stu-id="2f283-133">All of hello modules that you have installed in your automation account will be available.</span></span> |
| <span data-ttu-id="2f283-134">Runbooks</span><span class="sxs-lookup"><span data-stu-id="2f283-134">Runbooks</span></span> |<span data-ttu-id="2f283-135">Inclui Olá runbooks em sua conta de automação.</span><span class="sxs-lookup"><span data-stu-id="2f283-135">Includes hello runbooks in your automation account.</span></span> <span data-ttu-id="2f283-136">Esses runbooks podem ser adicionados toohello tela toobe usado como runbooks filho.</span><span class="sxs-lookup"><span data-stu-id="2f283-136">These runbooks can be added toohello canvas toobe used as child runbooks.</span></span> <span data-ttu-id="2f283-137">Somente runbooks Olá mesmo tipo de núcleo Olá runbook que está sendo editado são mostradas; para gráfico runbooks apenas com base em PowerShell runbooks são mostradas, enquanto para fluxo de trabalho do PowerShell gráfica runbooks runbooks somente-fluxo de trabalho-com base em PowerShell são mostrados.</span><span class="sxs-lookup"><span data-stu-id="2f283-137">Only runbooks of hello same core type as hello runbook being edited are shown; for Graphical runbooks only PowerShell-based runbooks are shown, while for Graphical PowerShell Workflow runbooks only PowerShell-Workflow-based runbooks are shown.</span></span> |
| <span data-ttu-id="2f283-138">Ativos</span><span class="sxs-lookup"><span data-stu-id="2f283-138">Assets</span></span> |<span data-ttu-id="2f283-139">Inclui Olá [ativos de automação](http://msdn.microsoft.com/library/dn939988.aspx) em sua conta de automação que pode ser usada em seu runbook.</span><span class="sxs-lookup"><span data-stu-id="2f283-139">Includes hello [automation assets](http://msdn.microsoft.com/library/dn939988.aspx) in your automation account that can be used in your runbook.</span></span>  <span data-ttu-id="2f283-140">Quando você adiciona um runbook de tooa ativo, ele adicionará uma atividade de fluxo de trabalho que obtém ativo selecionado hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-140">When you add an asset tooa runbook, it will add a workflow activity that gets hello selected asset.</span></span>  <span data-ttu-id="2f283-141">No caso de saudação de ativos de variável, você pode selecionar se tooadd tooget uma atividade Olá variável Olá variável ou definido.</span><span class="sxs-lookup"><span data-stu-id="2f283-141">In hello case of variable assets, you can select whether tooadd an activity tooget hello variable or set hello variable.</span></span> |
| <span data-ttu-id="2f283-142">Controle de Runbook</span><span class="sxs-lookup"><span data-stu-id="2f283-142">Runbook Control</span></span> |<span data-ttu-id="2f283-143">Inclui as atividades de controle de runbook que podem ser usadas em seu runbook atual.</span><span class="sxs-lookup"><span data-stu-id="2f283-143">Includes runbook control activities that can be used in your current runbook.</span></span> <span data-ttu-id="2f283-144">Um *junção* pega várias entradas e aguarda até que todas sejam concluídas antes de fluxo de trabalho Olá continuando.</span><span class="sxs-lookup"><span data-stu-id="2f283-144">A *Junction* takes multiple inputs and waits until all have completed before continuing hello workflow.</span></span> <span data-ttu-id="2f283-145">Um *código* atividade é executada uma ou mais linhas de código do PowerShell ou fluxo de trabalho do PowerShell dependendo do tipo de runbook gráfico hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-145">A *Code* activity runs one or more lines of PowerShell or PowerShell Workflow code depending on hello graphical runbook type.</span></span>  <span data-ttu-id="2f283-146">Você pode usar essa atividade para código personalizado ou para a funcionalidade que é difícil tooachieve com outras atividades.</span><span class="sxs-lookup"><span data-stu-id="2f283-146">You can use this activity for custom code or for functionality that is difficult tooachieve with other activities.</span></span> |

### <a name="configuration-control"></a><span data-ttu-id="2f283-147">Controle de Configuração</span><span class="sxs-lookup"><span data-stu-id="2f283-147">Configuration control</span></span>
<span data-ttu-id="2f283-148">Olá, controle de configuração é onde você fornece detalhes para um objeto selecionado na tela hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-148">hello Configuration control is where you provide details for an object selected on hello canvas.</span></span> <span data-ttu-id="2f283-149">Propriedades de saudação disponíveis neste controle dependerá de tipo de saudação do objeto selecionado.</span><span class="sxs-lookup"><span data-stu-id="2f283-149">hello properties available in this control will depend on hello type of object selected.</span></span>  <span data-ttu-id="2f283-150">Quando você seleciona uma opção em Olá controle de configuração, ela será aberta folhas adicionais nas informações adicionais de tooprovide de ordem.</span><span class="sxs-lookup"><span data-stu-id="2f283-150">When you select an option in hello Configuration control, it will open additional blades in order tooprovide additional information.</span></span>

### <a name="test-control"></a><span data-ttu-id="2f283-151">Controle de Teste</span><span class="sxs-lookup"><span data-stu-id="2f283-151">Test control</span></span>
<span data-ttu-id="2f283-152">Olá controle de teste não é exibida quando o editor gráfico Olá é iniciado pela primeira vez.</span><span class="sxs-lookup"><span data-stu-id="2f283-152">hello Test control is not displayed when hello graphical editor is first started.</span></span> <span data-ttu-id="2f283-153">Ele é aberto quando você [testa um runbook gráfico](#graphical-runbook-procedures)interativamente.</span><span class="sxs-lookup"><span data-stu-id="2f283-153">It is opened when you interactively [test a graphical runbook](#graphical-runbook-procedures).</span></span>  

## <a name="graphical-runbook-procedures"></a><span data-ttu-id="2f283-154">Procedimentos de runbook gráfico</span><span class="sxs-lookup"><span data-stu-id="2f283-154">Graphical runbook procedures</span></span>
### <a name="exporting-and-importing-a-graphical-runbook"></a><span data-ttu-id="2f283-155">Exportar e importar um runbook gráfico</span><span class="sxs-lookup"><span data-stu-id="2f283-155">Exporting and importing a graphical runbook</span></span>
<span data-ttu-id="2f283-156">Você só pode exportar Olá a versão publicada de um runbook gráfico.</span><span class="sxs-lookup"><span data-stu-id="2f283-156">You can only export hello published version of a graphical runbook.</span></span>  <span data-ttu-id="2f283-157">Se o runbook Olá ainda não foram publicado, Olá **exportação publicada** botão será desabilitado.</span><span class="sxs-lookup"><span data-stu-id="2f283-157">If hello runbook has not yet been published, then hello **Export published** button will be disabled.</span></span>  <span data-ttu-id="2f283-158">Quando você clica em Olá **exportação publicada** botão, runbook hello é computador local tooyour baixado.</span><span class="sxs-lookup"><span data-stu-id="2f283-158">When you click hello **Export published** button, hello runbook is downloaded tooyour local computer.</span></span>  <span data-ttu-id="2f283-159">nome de saudação do arquivo hello corresponde o nome de saudação do runbook Olá com um *graphrunbook* extensão.</span><span class="sxs-lookup"><span data-stu-id="2f283-159">hello name of hello file matches hello name of hello runbook with a *graphrunbook* extension.</span></span>

![Exportar publicado](media/automation-graphical-authoring-intro/runbook-export.png)

<span data-ttu-id="2f283-161">Você pode importar um arquivo de runbook gráfico ou fluxo de trabalho do PowerShell gráfico selecionando Olá **importar** opção ao adicionar um runbook.</span><span class="sxs-lookup"><span data-stu-id="2f283-161">You can import a Graphical or Graphical PowerShell Workflow runbook file by selecting hello **Import** option when adding a runbook.</span></span>   <span data-ttu-id="2f283-162">Quando você seleciona Olá tooimport de arquivo, você pode manter Olá mesmo **nome** ou forneça um novo.</span><span class="sxs-lookup"><span data-stu-id="2f283-162">When you select hello file tooimport, you can keep hello same **Name** or provide a new one.</span></span>  <span data-ttu-id="2f283-163">Olá campo de tipo de Runbook exibirá o tipo de saudação de runbook após ele avalia arquivo hello selecionado e se você tentar tooselect um tipo diferente que não está correto, que será apresentada uma mensagem de observar, há conflitos em potencial e durante a conversão, pode haver erros de sintaxe.</span><span class="sxs-lookup"><span data-stu-id="2f283-163">hello Runbook Type field will display hello type of runbook after it assesses hello file selected and if you attempt tooselect a different type that is not correct, a message will be presented noting there are potential conflicts and during conversion, there could be syntax errors.</span></span>  

![Importar runbook](media/automation-graphical-authoring-intro/runbook-import-revised20165.png)

### <a name="testing-a-graphical-runbook"></a><span data-ttu-id="2f283-165">Testando um runbook gráfico</span><span class="sxs-lookup"><span data-stu-id="2f283-165">Testing a graphical runbook</span></span>
<span data-ttu-id="2f283-166">Você pode testar a versão de rascunho de saudação de um runbook no portal do Azure de saudação enquanto deixar Olá publicado versão de runbook Olá inalterado, ou você pode testar um novo runbook antes que ele foi publicado.</span><span class="sxs-lookup"><span data-stu-id="2f283-166">You can test hello Draft version of a runbook in hello Azure portal while leaving hello published version of hello runbook unchanged, or you can test a new runbook before it has been published.</span></span> <span data-ttu-id="2f283-167">Isso permite que você tooverify que Olá runbook está funcionando corretamente antes de substituir a versão publicada hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-167">This allows you tooverify that hello runbook is working correctly before replacing hello published version.</span></span> <span data-ttu-id="2f283-168">Quando você testar um runbook, Olá runbook de rascunho é executado e as ações que ele realiza são concluídas.</span><span class="sxs-lookup"><span data-stu-id="2f283-168">When you test a runbook, hello Draft runbook is executed and any actions that it performs are completed.</span></span> <span data-ttu-id="2f283-169">Nenhum histórico de trabalho é criado, mas a saída é exibida no painel de saída do teste de saudação.</span><span class="sxs-lookup"><span data-stu-id="2f283-169">No job history is created, but output is displayed in hello Test Output Pane.</span></span> 

<span data-ttu-id="2f283-170">Abrir o controle de teste de saudação de um runbook abrindo Olá runbook para editar e clique em Olá **painel teste** botão.</span><span class="sxs-lookup"><span data-stu-id="2f283-170">Open hello Test control for a runbook by opening hello runbook for edit and then click on hello **Test pane** button.</span></span>

![Botão do painel de teste](media/automation-graphical-authoring-intro/runbook-edit-test-pane.png)

<span data-ttu-id="2f283-172">Olá controle teste solicitará para parâmetros de entrada, e você pode iniciar o runbook Olá clicando em Olá **iniciar** botão.</span><span class="sxs-lookup"><span data-stu-id="2f283-172">hello Test control will prompt for any input parameters, and you can start hello runbook by clicking on hello **Start** button.</span></span>

![Botões de controle de teste](media/automation-graphical-authoring-intro/runbook-test-start.png)

### <a name="publishing-a-graphical-runbook"></a><span data-ttu-id="2f283-174">Publicando um runbook gráfico</span><span class="sxs-lookup"><span data-stu-id="2f283-174">Publishing a graphical runbook</span></span>
<span data-ttu-id="2f283-175">Cada runbook na Automação do Azure tem um Rascunho e uma versão Publicada.</span><span class="sxs-lookup"><span data-stu-id="2f283-175">Each runbook in Azure Automation has a Draft and a Published version.</span></span> <span data-ttu-id="2f283-176">Somente a versão do hello publicada está disponível toobe executar, e somente a versão de rascunho Olá pode ser editada.</span><span class="sxs-lookup"><span data-stu-id="2f283-176">Only hello Published version is available toobe run, and only hello Draft version can be edited.</span></span> <span data-ttu-id="2f283-177">versão publicada de saudação é afetado por uma versão de rascunho toohello alterações.</span><span class="sxs-lookup"><span data-stu-id="2f283-177">hello Published version is unaffected by any changes toohello Draft version.</span></span> <span data-ttu-id="2f283-178">Quando versão de rascunho hello está pronto toobe disponível, em seguida, publicá-la que substitui a versão publicada de saudação com versão de rascunho de saudação.</span><span class="sxs-lookup"><span data-stu-id="2f283-178">When hello Draft version is ready toobe available, then you publish it which overwrites hello Published version with hello Draft version.</span></span>

<span data-ttu-id="2f283-179">Você pode publicar um runbook gráfico abrindo Olá runbook para edição e, em seguida, clicando em Olá **publicar** botão.</span><span class="sxs-lookup"><span data-stu-id="2f283-179">You can publish a graphical runbook by opening hello runbook for editing and then clicking on hello **Publish** button.</span></span>

![Botão Publicar](media/automation-graphical-authoring-intro/runbook-edit-publish.png)

<span data-ttu-id="2f283-181">Quando um runbook ainda não foi publicado, ele tem um status de **Novo**.</span><span class="sxs-lookup"><span data-stu-id="2f283-181">When a runbook has not yet been published, it has a status of **New**.</span></span>  <span data-ttu-id="2f283-182">Quando é publicado, ele tem um status de **Publicado**.</span><span class="sxs-lookup"><span data-stu-id="2f283-182">When it is published, it has a status of **Published**.</span></span>  <span data-ttu-id="2f283-183">Se você editar o runbook Olá depois que ele foi publicado e versões de rascunho e publicado Olá forem diferentes, o runbook Olá tem um status de **em edição**.</span><span class="sxs-lookup"><span data-stu-id="2f283-183">If you edit hello runbook after it has been published, and hello Draft and Published versions are different, hello runbook has a status of **In edit**.</span></span>

![Status de runbook](media/automation-graphical-authoring-intro/runbook-statuses-revised20165.png) 

<span data-ttu-id="2f283-185">Você também tem a versão do hello opção toorevert toohello publicada de um runbook.</span><span class="sxs-lookup"><span data-stu-id="2f283-185">You also have hello option toorevert toohello Published version of a runbook.</span></span>  <span data-ttu-id="2f283-186">Isso descarta as alterações feitas desde o runbook Olá foi publicado pela última vez e substitui a versão de rascunho de saudação do hello runbook com a versão publicada de saudação.</span><span class="sxs-lookup"><span data-stu-id="2f283-186">This throws away any changes made since hello runbook was last published and replaces hello Draft version of hello runbook with hello Published version.</span></span>

![Reverter toopublished botão](media/automation-graphical-authoring-intro/runbook-edit-revert-published.png)

## <a name="activities"></a><span data-ttu-id="2f283-188">Atividades</span><span class="sxs-lookup"><span data-stu-id="2f283-188">Activities</span></span>
<span data-ttu-id="2f283-189">Atividades são os blocos de construção de saudação de um runbook.</span><span class="sxs-lookup"><span data-stu-id="2f283-189">Activities are hello building blocks of a runbook.</span></span>  <span data-ttu-id="2f283-190">Uma atividade pode ser um cmdlet do PowerShell, um runbook filho ou uma atividade de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="2f283-190">An activity can be a PowerShell cmdlet, a child runbook, or a workflow activity.</span></span>  <span data-ttu-id="2f283-191">Adicionar um runbook de toohello atividade direito clicando em Olá controle da biblioteca e selecionando **adicionar toocanvas**.</span><span class="sxs-lookup"><span data-stu-id="2f283-191">You add an activity toohello runbook by right clicking it in hello Library control and selecting **Add toocanvas**.</span></span>  <span data-ttu-id="2f283-192">Você pode clique e arraste hello atividade tooplace-la em qualquer lugar no hello tela que você deseja.</span><span class="sxs-lookup"><span data-stu-id="2f283-192">You can then click and drag hello activity tooplace it anywhere on hello canvas that you like.</span></span>  <span data-ttu-id="2f283-193">Hello local da saudação da atividade de saudação na tela hello não afeta a operação Olá de runbook Olá de qualquer forma.</span><span class="sxs-lookup"><span data-stu-id="2f283-193">hello location of hello of hello activity on hello canvas does not effect hello operation of hello runbook in any way.</span></span>  <span data-ttu-id="2f283-194">Você pode layout seu runbook no entanto, você achar mais adequado toovisualize sua operação.</span><span class="sxs-lookup"><span data-stu-id="2f283-194">You can layout your runbook however you find it most suitable toovisualize its operation.</span></span> 

![Adicionar toocanvas](media/automation-graphical-authoring-intro/add-to-canvas-revised20165.png)

<span data-ttu-id="2f283-196">Selecione suas propriedades e parâmetros de uma atividade de Olá em Olá tela tooconfigure na folha de configuração de saudação.</span><span class="sxs-lookup"><span data-stu-id="2f283-196">Select hello activity on hello canvas tooconfigure its properties and parameters in hello Configuration blade.</span></span>  <span data-ttu-id="2f283-197">Você pode alterar Olá **rótulo** de toosomething de atividade de saudação é tooyou descritivo.</span><span class="sxs-lookup"><span data-stu-id="2f283-197">You can change hello **Label** of hello activity toosomething that is descriptive tooyou.</span></span>  <span data-ttu-id="2f283-198">cmdlet original Olá ainda está sendo executado, você está alterando simplesmente seu nome de exibição que será usado no editor gráfico hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-198">hello original cmdlet is still being run, you are simply changing its display name that will be used in hello graphical editor.</span></span>  <span data-ttu-id="2f283-199">Olá rótulo deve ser exclusivo dentro de runbook hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-199">hello label must be unique within hello runbook.</span></span> 

### <a name="parameter-sets"></a><span data-ttu-id="2f283-200">Conjuntos de parâmetros</span><span class="sxs-lookup"><span data-stu-id="2f283-200">Parameter sets</span></span>
<span data-ttu-id="2f283-201">Um conjunto de parâmetros define parâmetros Olá obrigatórios e opcionais que aceitam valores de um cmdlet específico.</span><span class="sxs-lookup"><span data-stu-id="2f283-201">A parameter set defines hello mandatory and optional parameters that will accept values for a particular cmdlet.</span></span>  <span data-ttu-id="2f283-202">Todos os cmdlets têm pelo menos um conjunto de parâmetros, e alguns têm vários.</span><span class="sxs-lookup"><span data-stu-id="2f283-202">All cmdlets have at least one parameter set, and some have multiple.</span></span>  <span data-ttu-id="2f283-203">Se um cmdlet tem vários conjuntos de parâmetros, você deve selecionar qual deles usará para poder configurar os parâmetros.</span><span class="sxs-lookup"><span data-stu-id="2f283-203">If a cmdlet has multiple parameter sets, then you must select which one you will use before you can configure parameters.</span></span>  <span data-ttu-id="2f283-204">parâmetros de saudação que você pode configurar dependerá de conjunto de parâmetros de saudação que você escolher.</span><span class="sxs-lookup"><span data-stu-id="2f283-204">hello parameters that you can configure will depend on hello parameter set that you choose.</span></span>  <span data-ttu-id="2f283-205">Você pode alterar o conjunto de parâmetros de saudação usado por uma atividade selecionando **parâmetro definido** e selecionar outro conjunto.</span><span class="sxs-lookup"><span data-stu-id="2f283-205">You can change hello parameter set used by an activity by selecting **Parameter Set** and selecting another set.</span></span>  <span data-ttu-id="2f283-206">Nesse caso, quaisquer valores de parâmetros que você tiver configurado serão perdidos.</span><span class="sxs-lookup"><span data-stu-id="2f283-206">In this case, any parameter values that you configured are lost.</span></span>

<span data-ttu-id="2f283-207">Saudação de exemplo a seguir, Olá Get-AzureRmVM cmdlet tem três conjuntos de parâmetros.</span><span class="sxs-lookup"><span data-stu-id="2f283-207">In hello following example, hello Get-AzureRmVM cmdlet has three parameter sets.</span></span>  <span data-ttu-id="2f283-208">Você não pode configurar valores de parâmetro até que você selecione um dos conjuntos de parâmetros de saudação.</span><span class="sxs-lookup"><span data-stu-id="2f283-208">You cannot configure parameter values until you select one of hello parameter sets.</span></span>  <span data-ttu-id="2f283-209">Olá ListVirtualMachineInResourceGroupParamSet conjunto de parâmetros é para retornar todas as máquinas virtuais em um grupo de recursos e tem um único parâmetro opcional.</span><span class="sxs-lookup"><span data-stu-id="2f283-209">hello ListVirtualMachineInResourceGroupParamSet parameter set is for returning all virtual machines in a resource group and has a single optional parameter.</span></span>  <span data-ttu-id="2f283-210">Olá GetVirtualMachineInResourceGroupParamSet é para especificar a máquina virtual de saudação desejado tooreturn e tem dois obrigatório e um parâmetro opcional.</span><span class="sxs-lookup"><span data-stu-id="2f283-210">hello GetVirtualMachineInResourceGroupParamSet is for specifying hello virtual machine you want tooreturn and has two mandatory and one optional parameter.</span></span>

![Conjunto de Parâmetros](media/automation-graphical-authoring-intro/get-azurermvm-parameter-sets.png)

#### <a name="parameter-values"></a><span data-ttu-id="2f283-212">Valores de parâmetros</span><span class="sxs-lookup"><span data-stu-id="2f283-212">Parameter values</span></span>
<span data-ttu-id="2f283-213">Quando você especificar um valor para um parâmetro, você pode selecionar um toodetermine de fonte de dados como valor de saudação será especificado.</span><span class="sxs-lookup"><span data-stu-id="2f283-213">When you specify a value for a parameter, you select a data source toodetermine how hello value will be specified.</span></span>  <span data-ttu-id="2f283-214">fontes de dados de saudação que estão disponíveis para um determinado parâmetro dependerá dos valores válidos para esse parâmetro hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-214">hello data sources that are available for a particular parameter will depend on hello valid values for that parameter.</span></span>  <span data-ttu-id="2f283-215">Por exemplo, Null não será uma opção disponível para um parâmetro que não permita valores nulos.</span><span class="sxs-lookup"><span data-stu-id="2f283-215">For example, Null will not be an available option for a parameter that does not allow null values.</span></span>

| <span data-ttu-id="2f283-216">Fonte de dados</span><span class="sxs-lookup"><span data-stu-id="2f283-216">Data Source</span></span> | <span data-ttu-id="2f283-217">Descrição</span><span class="sxs-lookup"><span data-stu-id="2f283-217">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="2f283-218">Valor Constante</span><span class="sxs-lookup"><span data-stu-id="2f283-218">Constant Value</span></span> |<span data-ttu-id="2f283-219">Digite um valor para o parâmetro hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-219">Type in a value for hello parameter.</span></span>  <span data-ttu-id="2f283-220">Isso só está disponível para Olá seguintes tipos de dados: Int32, Int64, String, Boolean, DateTime, comutador.</span><span class="sxs-lookup"><span data-stu-id="2f283-220">This is only available for hello following data types: Int32,Int64,String,Boolean,DateTime,Switch.</span></span> |
| <span data-ttu-id="2f283-221">Saída de Atividade</span><span class="sxs-lookup"><span data-stu-id="2f283-221">Activity Output</span></span> |<span data-ttu-id="2f283-222">Saída de uma atividade que precede a atividade atual Olá no fluxo de trabalho de saudação.</span><span class="sxs-lookup"><span data-stu-id="2f283-222">Output from an activity that precedes hello current activity in hello workflow.</span></span>  <span data-ttu-id="2f283-223">Todas as atividades válidas serão listadas.</span><span class="sxs-lookup"><span data-stu-id="2f283-223">All valid activities will be listed.</span></span>  <span data-ttu-id="2f283-224">Selecione apenas o hello atividade toouse sua saída para o valor do parâmetro hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-224">Select just hello activity toouse its output for hello parameter value.</span></span>  <span data-ttu-id="2f283-225">Se a atividade de hello gera um objeto com várias propriedades, você pode digite Olá nome da propriedade Olá depois de selecionar a atividade de saudação.</span><span class="sxs-lookup"><span data-stu-id="2f283-225">If hello activity outputs an object with multiple properties, then you can type in hello name of hello property after selecting hello activity.</span></span> |
| <span data-ttu-id="2f283-226">Entrada do Runbook</span><span class="sxs-lookup"><span data-stu-id="2f283-226">Runbook Input</span></span> |<span data-ttu-id="2f283-227">Selecione um parâmetro de entrada do runbook como parâmetro de atividade de entrada toohello.</span><span class="sxs-lookup"><span data-stu-id="2f283-227">Select a runbook input parameter as input toohello activity parameter.</span></span> |
| <span data-ttu-id="2f283-228">Ativo da Variável</span><span class="sxs-lookup"><span data-stu-id="2f283-228">Variable Asset</span></span> |<span data-ttu-id="2f283-229">Selecione uma Variável de Automação como entrada.</span><span class="sxs-lookup"><span data-stu-id="2f283-229">Select an Automation Variable as input.</span></span> |
| <span data-ttu-id="2f283-230">Ativo da Credencial</span><span class="sxs-lookup"><span data-stu-id="2f283-230">Credential Asset</span></span> |<span data-ttu-id="2f283-231">Selecione uma Credencial de Automação como entrada.</span><span class="sxs-lookup"><span data-stu-id="2f283-231">Select an Automation Credential as input.</span></span> |
| <span data-ttu-id="2f283-232">Ativo do Certificado</span><span class="sxs-lookup"><span data-stu-id="2f283-232">Certificate Asset</span></span> |<span data-ttu-id="2f283-233">Selecione um Certificado de Automação como entrada.</span><span class="sxs-lookup"><span data-stu-id="2f283-233">Select an Automation Certificate as input.</span></span> |
| <span data-ttu-id="2f283-234">Ativo da Conexão</span><span class="sxs-lookup"><span data-stu-id="2f283-234">Connection Asset</span></span> |<span data-ttu-id="2f283-235">Selecione uma Conexão de Automação como entrada.</span><span class="sxs-lookup"><span data-stu-id="2f283-235">Select an Automation Connection as input.</span></span> |
| <span data-ttu-id="2f283-236">Expressão do PowerShell</span><span class="sxs-lookup"><span data-stu-id="2f283-236">PowerShell Expression</span></span> |<span data-ttu-id="2f283-237">Especifique a [expressão simples do PowerShell](#powershell-expressions).</span><span class="sxs-lookup"><span data-stu-id="2f283-237">Specify simple [PowerShell expression](#powershell-expressions).</span></span>  <span data-ttu-id="2f283-238">Olá expressão será avaliada antes hello atividade e hello resultado usado para o valor do parâmetro hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-238">hello expression will be evaluated before hello activity and hello result used for hello parameter value.</span></span>  <span data-ttu-id="2f283-239">Você pode usar a saída de toohello toorefer variáveis de uma atividade ou um parâmetro de entrada do runbook.</span><span class="sxs-lookup"><span data-stu-id="2f283-239">You can use variables toorefer toohello output of an activity or a runbook input parameter.</span></span> |
| <span data-ttu-id="2f283-240">Não configurado</span><span class="sxs-lookup"><span data-stu-id="2f283-240">Not configured</span></span> |<span data-ttu-id="2f283-241">Limpa qualquer valor que foi configurado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="2f283-241">Clears any value that was previously configured.</span></span> |

#### <a name="optional-additional-parameters"></a><span data-ttu-id="2f283-242">Parâmetros adicionais opcionais</span><span class="sxs-lookup"><span data-stu-id="2f283-242">Optional additional parameters</span></span>
<span data-ttu-id="2f283-243">Todos os cmdlets terá parâmetros adicionais do hello opção tooprovide.</span><span class="sxs-lookup"><span data-stu-id="2f283-243">All cmdlets will have hello option tooprovide additional parameters.</span></span>  <span data-ttu-id="2f283-244">Estes são os parâmetros comuns do PowerShell ou outros parâmetros personalizados.</span><span class="sxs-lookup"><span data-stu-id="2f283-244">These are PowerShell common parameters or other custom parameters.</span></span>  <span data-ttu-id="2f283-245">Será exibida uma caixa de texto em que você pode fornecer parâmetros usando a sintaxe do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="2f283-245">You are presented with a text box where you can provide parameters using PowerShell syntax.</span></span>  <span data-ttu-id="2f283-246">Por exemplo, toouse Olá **detalhado** parâmetro comum, você especificaria **"-Verbose: $True"**.</span><span class="sxs-lookup"><span data-stu-id="2f283-246">For example, toouse hello **Verbose** common parameter, you would specify **"-Verbose:$True"**.</span></span>

### <a name="retry-activity"></a><span data-ttu-id="2f283-247">Atividade de repetição</span><span class="sxs-lookup"><span data-stu-id="2f283-247">Retry activity</span></span>
<span data-ttu-id="2f283-248">**Comportamento de repetição** permite que um toobe atividade executado várias vezes até que uma determinada condição for atendida, assim como um loop.</span><span class="sxs-lookup"><span data-stu-id="2f283-248">**Retry Behavior** allows an activity toobe run multiple times until a particular condition is met, much like a loop.</span></span>  <span data-ttu-id="2f283-249">Você pode usar esse recurso para atividades que deve ser executado várias vezes, estão sujeitos a erros e pode precisa de mais de uma tentativa para o sucesso ou de teste Olá informações de saída da atividade de saudação de dados válido.</span><span class="sxs-lookup"><span data-stu-id="2f283-249">You can use this feature for activities that should run multiple times, are error prone and may need more than one attempt for success, or test hello output information of hello activity for valid data.</span></span>    

<span data-ttu-id="2f283-250">Quando você habilita a repetição de uma atividade, é possível definir um atraso e uma condição.</span><span class="sxs-lookup"><span data-stu-id="2f283-250">When you enable retry for an activity, you can set a delay and a condition.</span></span>  <span data-ttu-id="2f283-251">atraso de saudação é tempo de saudação (medido em segundos ou minutos) esse runbook Olá aguardará antes de executar atividade Olá novamente.</span><span class="sxs-lookup"><span data-stu-id="2f283-251">hello delay is hello time (measured in seconds or minutes) that hello runbook will wait before it runs hello activity again.</span></span>  <span data-ttu-id="2f283-252">Se nenhum atraso for especificado, em seguida, hello atividade será executada novamente imediatamente após a sua conclusão.</span><span class="sxs-lookup"><span data-stu-id="2f283-252">If no delay is specified, then hello activity will run again immediately after it completes.</span></span> 

![Atraso de repetição de atividade](media/automation-graphical-authoring-intro/retry-delay.png)

<span data-ttu-id="2f283-254">condição de repetição de saudação é uma expressão do PowerShell que é avaliada após a execução de cada atividade de saudação do tempo.</span><span class="sxs-lookup"><span data-stu-id="2f283-254">hello retry condition is a PowerShell expression that is evaluated after each time hello activity runs.</span></span>  <span data-ttu-id="2f283-255">Se Olá a expressão é resolvida tooTrue, em seguida, hello atividade é executada novamente.</span><span class="sxs-lookup"><span data-stu-id="2f283-255">If hello expression resolves tooTrue, then hello activity runs again.</span></span>  <span data-ttu-id="2f283-256">Se a expressão Olá resolve tooFalse hello atividade não execute novamente e Olá runbook prossegue toohello próxima atividade.</span><span class="sxs-lookup"><span data-stu-id="2f283-256">If hello expression resolves tooFalse then hello activity does not run again, and hello runbook moves on toohello next activity.</span></span> 

![Atraso de repetição de atividade](media/automation-graphical-authoring-intro/retry-condition.png)

<span data-ttu-id="2f283-258">condição de repetição Olá pode usar uma variável chamada $RetryData que fornece acesso tooinformation sobre tentativas de atividade de saudação.</span><span class="sxs-lookup"><span data-stu-id="2f283-258">hello retry condition can use a variable called $RetryData that provides access tooinformation about hello activity retries.</span></span>  <span data-ttu-id="2f283-259">Essa variável tem propriedades de saudação em Olá a tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="2f283-259">This variable has hello properties in hello following table.</span></span>

| <span data-ttu-id="2f283-260">Propriedade</span><span class="sxs-lookup"><span data-stu-id="2f283-260">Property</span></span> | <span data-ttu-id="2f283-261">Descrição</span><span class="sxs-lookup"><span data-stu-id="2f283-261">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="2f283-262">NumberOfAttempts</span><span class="sxs-lookup"><span data-stu-id="2f283-262">NumberOfAttempts</span></span> |<span data-ttu-id="2f283-263">Número de vezes que hello atividade foi executado.</span><span class="sxs-lookup"><span data-stu-id="2f283-263">Number of times that hello activity has been run.</span></span> |
| <span data-ttu-id="2f283-264">Saída</span><span class="sxs-lookup"><span data-stu-id="2f283-264">Output</span></span> |<span data-ttu-id="2f283-265">Saída de saudação da última execução da atividade de saudação.</span><span class="sxs-lookup"><span data-stu-id="2f283-265">Output from hello last run of hello activity.</span></span> |
| <span data-ttu-id="2f283-266">TotalDuration</span><span class="sxs-lookup"><span data-stu-id="2f283-266">TotalDuration</span></span> |<span data-ttu-id="2f283-267">Atingiu o tempo decorrido desde hello atividade foi iniciada Olá a primeira vez.</span><span class="sxs-lookup"><span data-stu-id="2f283-267">Timed elapsed since hello activity was started hello first time.</span></span> |
| <span data-ttu-id="2f283-268">StartedAt</span><span class="sxs-lookup"><span data-stu-id="2f283-268">StartedAt</span></span> |<span data-ttu-id="2f283-269">Tempo de atividade de saudação do formato UTC foi iniciado pela primeira vez.</span><span class="sxs-lookup"><span data-stu-id="2f283-269">Time in UTC format hello activity was first started.</span></span> |

<span data-ttu-id="2f283-270">Veja a seguir exemplos de condições de repetição da atividade.</span><span class="sxs-lookup"><span data-stu-id="2f283-270">Following are examples of activity retry conditions.</span></span>

    # Run hello activity exactly 10 times.
    $RetryData.NumberOfAttempts -ge 10 

    # Run hello activity repeatedly until it produces any output.
    $RetryData.Output.Count -ge 1 

    # Run hello activity repeatedly until 2 minutes has elapsed. 
    $RetryData.TotalDuration.TotalMinutes -ge 2

<span data-ttu-id="2f283-271">Depois de configurar uma condição de repetição para uma atividade, atividade de saudação inclui dois tooremind de indicações visuais você.</span><span class="sxs-lookup"><span data-stu-id="2f283-271">After you configure a retry condition for an activity, hello activity includes two visual cues tooremind you.</span></span>  <span data-ttu-id="2f283-272">Um é apresentado na atividade de saudação e Olá outros é quando você examinar configuração Olá da atividade de saudação.</span><span class="sxs-lookup"><span data-stu-id="2f283-272">One is presented in hello activity and hello other is when you review hello configuration of hello activity.</span></span>

![Indicadores Visuais de Repetição da Atividade](media/automation-graphical-authoring-intro/runbook-activity-retry-visual-cue.png)

### <a name="workflow-script-control"></a><span data-ttu-id="2f283-274">Controle de Script de Fluxo de Trabalho</span><span class="sxs-lookup"><span data-stu-id="2f283-274">Workflow Script control</span></span>
<span data-ttu-id="2f283-275">Um controle de código é uma atividade especial que aceita o script PowerShell ou o fluxo de trabalho do PowerShell, dependendo do tipo hello de runbook gráfico criado na funcionalidade de tooprovide ordem caso contrário, não estejam disponível.</span><span class="sxs-lookup"><span data-stu-id="2f283-275">A Code control is a special activity that accepts PowerShell or PowerShell Workflow script depending on hello type of graphical runbook being authored in order tooprovide functionality that may otherwise not be available.</span></span>  <span data-ttu-id="2f283-276">Ele não pode aceitar parâmetros, mas pode usar variáveis para saída de atividade e parâmetros de entrada de runbook.</span><span class="sxs-lookup"><span data-stu-id="2f283-276">It cannot accept parameters, but it can use variables for activity output and runbook input parameters.</span></span>  <span data-ttu-id="2f283-277">Todas as saídas da atividade de saudação é adicionada toohello databus menos que ele tenha nenhum link de saída nesse caso, ele é adicionado toohello saída de runbook hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-277">Any output of hello activity is added toohello databus unless it has no outgoing link in which case it is added toohello output of hello runbook.</span></span>

<span data-ttu-id="2f283-278">Por exemplo hello código a seguir executa cálculos de data usando uma variável de entrada do runbook chamada $NumberOfDays.</span><span class="sxs-lookup"><span data-stu-id="2f283-278">For example hello following code performs date calculations using a runbook input variable called $NumberOfDays.</span></span>  <span data-ttu-id="2f283-279">Em seguida, envia uma data e hora calculadas como saída toobe usado por atividades subsequentes no runbook hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-279">It then sends a calculated date time as output toobe used by subsequent activities in hello runbook.</span></span>

    $DateTimeNow = (Get-Date).ToUniversalTime()
    $DateTimeStart = ($DateTimeNow).AddDays(-$NumberOfDays)}
    $DateTimeStart


## <a name="links-and-workflow"></a><span data-ttu-id="2f283-280">Links e fluxo de trabalho</span><span class="sxs-lookup"><span data-stu-id="2f283-280">Links and workflow</span></span>
<span data-ttu-id="2f283-281">Um **link** em um runbook gráfico conecta duas atividades.</span><span class="sxs-lookup"><span data-stu-id="2f283-281">A **link** in a graphical runbook connects two activities.</span></span>  <span data-ttu-id="2f283-282">Ele será exibido na tela hello como uma seta apontando da atividade de destino do hello origem atividade toohello.</span><span class="sxs-lookup"><span data-stu-id="2f283-282">It is displayed on hello canvas as an arrow pointing from hello source activity toohello destination activity.</span></span>  <span data-ttu-id="2f283-283">atividades de Olá executadas na direção de saudação de seta Olá com atividade de destino de saudação inicial após a conclusão da atividade de origem hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-283">hello activities run in hello direction of hello arrow with hello destination activity starting after hello source activity completes.</span></span>  

### <a name="create-a-link"></a><span data-ttu-id="2f283-284">Criar um link</span><span class="sxs-lookup"><span data-stu-id="2f283-284">Create a link</span></span>
<span data-ttu-id="2f283-285">Crie um link entre duas atividades pela atividade de origem Olá selecionando e clicando em círculo de saudação na parte inferior da saudação de forma hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-285">Create a link between two activities by selecting hello source activity and clicking hello circle at hello bottom of hello shape.</span></span>  <span data-ttu-id="2f283-286">Arraste a atividade de destino do hello seta toohello e versão.</span><span class="sxs-lookup"><span data-stu-id="2f283-286">Drag hello arrow toohello destination activity and release.</span></span>

![Criar um link](media/automation-graphical-authoring-intro/create-link-revised20165.png)

<span data-ttu-id="2f283-288">Selecione Olá link tooconfigure suas propriedades na folha de configuração de saudação.</span><span class="sxs-lookup"><span data-stu-id="2f283-288">Select hello link tooconfigure its properties in hello Configuration blade.</span></span>  <span data-ttu-id="2f283-289">Isso incluirá o tipo de link de saudação que é descrito em Olá a tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="2f283-289">This will include hello link type which is described in hello following table.</span></span>

| <span data-ttu-id="2f283-290">Tipo de link</span><span class="sxs-lookup"><span data-stu-id="2f283-290">Link Type</span></span> | <span data-ttu-id="2f283-291">Descrição</span><span class="sxs-lookup"><span data-stu-id="2f283-291">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="2f283-292">Pipeline</span><span class="sxs-lookup"><span data-stu-id="2f283-292">Pipeline</span></span> |<span data-ttu-id="2f283-293">atividade de destino Olá é executada uma vez para cada objeto de saída da atividade de origem hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-293">hello destination activity is run once for each object output from hello source activity.</span></span>  <span data-ttu-id="2f283-294">atividade de destino Olá não será executado se a atividade de origem Olá resulta em nenhuma saída.</span><span class="sxs-lookup"><span data-stu-id="2f283-294">hello destination activity does not run if hello source activity results in no output.</span></span>  <span data-ttu-id="2f283-295">Saída da atividade de origem hello está disponível como um objeto.</span><span class="sxs-lookup"><span data-stu-id="2f283-295">Output from hello source activity is available as an object.</span></span> |
| <span data-ttu-id="2f283-296">Sequência</span><span class="sxs-lookup"><span data-stu-id="2f283-296">Sequence</span></span> |<span data-ttu-id="2f283-297">atividade de destino Olá é executado apenas uma vez.</span><span class="sxs-lookup"><span data-stu-id="2f283-297">hello destination activity runs only once.</span></span>  <span data-ttu-id="2f283-298">Ele recebe uma matriz de objetos da atividade de origem hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-298">It receives an array of objects from hello source activity.</span></span>  <span data-ttu-id="2f283-299">Saída da atividade de origem hello está disponível como uma matriz de objetos.</span><span class="sxs-lookup"><span data-stu-id="2f283-299">Output from hello source activity is available as an array of objects.</span></span> |

### <a name="starting-activity"></a><span data-ttu-id="2f283-300">Atividade de início</span><span class="sxs-lookup"><span data-stu-id="2f283-300">Starting activity</span></span>
<span data-ttu-id="2f283-301">Um runbook gráfico será iniciado com todas as atividades que não têm um link de entrada.</span><span class="sxs-lookup"><span data-stu-id="2f283-301">A graphical runbook will start with any activities that do not have an incoming link.</span></span>  <span data-ttu-id="2f283-302">Isso geralmente será apenas uma atividade que deverá atuar como Olá Iniciar atividade de runbook hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-302">This will often be only one activity which would act as hello starting activity for hello runbook.</span></span>  <span data-ttu-id="2f283-303">Se várias atividades não tiverem um link de entrada, Olá runbook será iniciado por executá-los em paralelo.</span><span class="sxs-lookup"><span data-stu-id="2f283-303">If multiple activities do not have an incoming link, then hello runbook will start by running them in parallel.</span></span>  <span data-ttu-id="2f283-304">Em seguida, ele seguirá Olá links toorun outras atividades cada conclusão.</span><span class="sxs-lookup"><span data-stu-id="2f283-304">It will then follow hello links toorun other activities as each completes.</span></span>

### <a name="conditions"></a><span data-ttu-id="2f283-305">Condições</span><span class="sxs-lookup"><span data-stu-id="2f283-305">Conditions</span></span>
<span data-ttu-id="2f283-306">Quando você especificar uma condição em um link, atividade de destino Olá é executada somente se a condição de saudação tootrue seja resolvida.</span><span class="sxs-lookup"><span data-stu-id="2f283-306">When you specify a condition on a link, hello destination activity is only run if hello condition resolves tootrue.</span></span>  <span data-ttu-id="2f283-307">Normalmente, você usará uma variável $ActivityOutput em uma saída de hello tooretrieve condição da atividade de origem hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-307">You will typically use an $ActivityOutput variable in a condition tooretrieve hello output from hello source activity.</span></span>  

<span data-ttu-id="2f283-308">Para um link de pipeline, você especificar uma condição para um único objeto e condição Olá é avaliada para cada objeto de saída pela atividade de origem hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-308">For a pipeline link, you specify a condition for a single object, and hello condition is evaluated for each object output by hello source activity.</span></span>  <span data-ttu-id="2f283-309">atividade de destino Hello, em seguida, é executada para cada objeto que satisfaça a condição de saudação.</span><span class="sxs-lookup"><span data-stu-id="2f283-309">hello destination activity is then run for each object that satisfies hello condition.</span></span>  <span data-ttu-id="2f283-310">Por exemplo, com uma atividade de origem de Get-AzureRmVm, Olá sintaxe a seguir pode ser usado para um tooretrieve de link de pipeline condicional somente Olá de máquinas virtuais no grupo de recursos chamado *Group1*.</span><span class="sxs-lookup"><span data-stu-id="2f283-310">For example, with a source activity of Get-AzureRmVm, hello following syntax could be used for a conditional pipeline link tooretrieve only virtual machines in hello resource group named *Group1*.</span></span>  

    $ActivityOutput['Get Azure VMs'].Name -match "Group1"

<span data-ttu-id="2f283-311">Para um link de sequência, condição de saudação é avaliada apenas uma vez como uma única matriz é retornada que contém a saída de todos os objetos da atividade de origem hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-311">For a sequence link, hello condition is only evaluated once since a single array is returned containing all objects output from hello source activity.</span></span>  <span data-ttu-id="2f283-312">Por isso, um link de sequência não pode ser usado para filtragem como um link de pipeline, mas simplesmente determinará ou não a próxima atividade de saudação é executada.</span><span class="sxs-lookup"><span data-stu-id="2f283-312">Because of this, a sequence link cannot be used for filtering like a pipeline link but will simply determine whether or not hello next activity is run.</span></span> <span data-ttu-id="2f283-313">Considere, por exemplo, Olá após o conjunto de atividades em nosso runbook iniciar VM.</span><span class="sxs-lookup"><span data-stu-id="2f283-313">Take for example hello following set of activities in our Start VM runbook.</span></span><br> <span data-ttu-id="2f283-314">![Link Condicional com Sequências](media/automation-graphical-authoring-intro/runbook-conditional-links-sequence.png)</span><span class="sxs-lookup"><span data-stu-id="2f283-314">![Conditional Link with Sequences](media/automation-graphical-authoring-intro/runbook-conditional-links-sequence.png)</span></span><br>
<span data-ttu-id="2f283-315">Há três links de sequência diferente que está verificando valores foram fornecidos parâmetros de entrada de runbook do tootwo que representa o nome da VM e o nome de grupo de recursos no toodetermine ordem que é Olá ação apropriada tootake - iniciar uma única VM, inicie todas as máquinas virtuais em Olá grupo de recurso, ou todas as VMs em uma assinatura.</span><span class="sxs-lookup"><span data-stu-id="2f283-315">There are three different sequence links that are verifying values were provided tootwo runbook input parameters representing VM name and Resource Group name in order toodetermine which is hello appropriate action tootake - start a single VM, start all VMs in hello resouce group, or all VMs in a subscription.</span></span>  <span data-ttu-id="2f283-316">Link de sequência Olá entre tooAzure conectar e obter única VM, aqui está a lógica da condição hello:</span><span class="sxs-lookup"><span data-stu-id="2f283-316">For hello sequence link between Connect tooAzure and Get single VM, here is hello condition logic:</span></span>

    <# 
    Both VMName and ResourceGroupName runbook input parameters have values 
    #>
    (
    (($VMName -ne $null) -and ($VMName.Length -gt 0))
    ) -and (
    (($ResourceGroupName -ne $null) -and ($ResourceGroupName.Length -gt 0))
    )

<span data-ttu-id="2f283-317">Quando você usa um link condicional, Olá dados disponíveis de atividades de tooother de atividade de origem de saudação na filial serão filtrados pela condição hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-317">When you use a conditional link, hello data available from hello source activity tooother activities in that branch will be filtered by hello condition.</span></span>  <span data-ttu-id="2f283-318">Se uma atividade for links de toomultiple fonte Olá, em seguida, Olá tooactivities disponíveis em cada ramificação dependerá condição Olá no link Olá toothat ramificação de conexão de dados.</span><span class="sxs-lookup"><span data-stu-id="2f283-318">If an activity is hello source toomultiple links, then hello data available tooactivities in each branch will depend on hello condition in hello link connecting toothat branch.</span></span>

<span data-ttu-id="2f283-319">Por exemplo, Olá **AzureRmVm início** atividade no runbook de saudação abaixo inicia todas as máquinas virtuais.</span><span class="sxs-lookup"><span data-stu-id="2f283-319">For example, hello **Start-AzureRmVm** activity in hello runbook below starts all virtual machines.</span></span>  <span data-ttu-id="2f283-320">Ela tem dois links condicionais.</span><span class="sxs-lookup"><span data-stu-id="2f283-320">It has two conditional links.</span></span>  <span data-ttu-id="2f283-321">link de condicional primeiro Olá usa a expressão de saudação *$ActivityOutput ['Início-AzureRmVM']. IsSuccessStatusCode - eq $true* toofilter se Olá AzureRmVm Iniciar atividade concluída com êxito.</span><span class="sxs-lookup"><span data-stu-id="2f283-321">hello first conditional link uses hello expression *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -eq $true* toofilter if hello Start-AzureRmVm activity completed successfully.</span></span>  <span data-ttu-id="2f283-322">Olá segundo usa a expressão de saudação *$ActivityOutput ['Início-AzureRmVM']. IsSuccessStatusCode - ne $true* toofilter se atividade Olá AzureRmVm início falhou toostart Olá VM.</span><span class="sxs-lookup"><span data-stu-id="2f283-322">hello second uses hello expression *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -ne $true* toofilter if hello Start-AzureRmVm activity failed toostart hello virtual machine.</span></span>  

![Exemplo de link condicional](media/automation-graphical-authoring-intro/runbook-conditional-links.png)

<span data-ttu-id="2f283-324">Qualquer atividade que segue o link primeiro hello e usa hello atividade saída de Get-AzureVM só receberá máquinas virtuais Olá foram iniciados em tempo de saudação Get-AzureVM foi executado.</span><span class="sxs-lookup"><span data-stu-id="2f283-324">Any activity that follows hello first link and uses hello activity output from Get-AzureVM will only get hello virtual machines that were started at hello time that Get-AzureVM was run.</span></span>  <span data-ttu-id="2f283-325">Qualquer atividade que segue o link segundo Olá só receberá Olá Olá VMs que foram interrompidos em tempo de saudação Get-AzureVM foi executado.</span><span class="sxs-lookup"><span data-stu-id="2f283-325">Any activity that follows hello second link will only get hello hello virtual machines that were stopped at hello time that Get-AzureVM was run.</span></span>  <span data-ttu-id="2f283-326">Qualquer atividade seguindo o link de terceiro Olá obterá todas as máquinas virtuais, independentemente do estado de execução.</span><span class="sxs-lookup"><span data-stu-id="2f283-326">Any activity following hello third link will get all virtual machines regardless of their running state.</span></span>

### <a name="junctions"></a><span data-ttu-id="2f283-327">Junções</span><span class="sxs-lookup"><span data-stu-id="2f283-327">Junctions</span></span>
<span data-ttu-id="2f283-328">Uma junção é uma atividade especial que esperará até que todas as ramificações de entrada sejam concluídas.</span><span class="sxs-lookup"><span data-stu-id="2f283-328">A junction is a special activity that will wait until all incoming branches have completed.</span></span>  <span data-ttu-id="2f283-329">Isso permite toorun várias atividades em paralelo e garantir que todas sejam concluídas antes de continuar.</span><span class="sxs-lookup"><span data-stu-id="2f283-329">This allows you toorun multiple activities in parallel and ensure that all have completed before moving on.</span></span>

<span data-ttu-id="2f283-330">Embora uma junção possa ter um número ilimitado de links de entrada, apenas um desses links pode ser um pipeline.</span><span class="sxs-lookup"><span data-stu-id="2f283-330">While a junction can have an unlimited number of incoming links, not more than one of those links can be a pipeline.</span></span>  <span data-ttu-id="2f283-331">número de saudação de links de sequência de entrada não é restrito.</span><span class="sxs-lookup"><span data-stu-id="2f283-331">hello number of incoming sequence links is not constrained.</span></span>  <span data-ttu-id="2f283-332">Poderá ser toocreate junção de saudação com vários links de pipeline de entrada e salvar o runbook hello, mas falhará quando ele é executado.</span><span class="sxs-lookup"><span data-stu-id="2f283-332">You will be allowed toocreate hello junction with multiple incoming pipeline links and save hello runbook, but it will fail when it is run.</span></span>

<span data-ttu-id="2f283-333">exemplo Hello abaixo é parte de um runbook que inicia um conjunto de máquinas virtuais, enquanto simultaneamente baixar patches toobe aplicadas toothose máquinas.</span><span class="sxs-lookup"><span data-stu-id="2f283-333">hello example below is part of a runbook that starts a set of virtual machines while simultaneously downloading patches toobe applied toothose machines.</span></span>  <span data-ttu-id="2f283-334">Uma junção é usada tooensure que ambos os processos sejam concluídos antes da continuação da saudação runbook.</span><span class="sxs-lookup"><span data-stu-id="2f283-334">A junction is used tooensure that both processes are completed before hello runbook continues.</span></span>

![Junção](media/automation-graphical-authoring-intro/runbook-junction.png)

### <a name="cycles"></a><span data-ttu-id="2f283-336">Ciclos</span><span class="sxs-lookup"><span data-stu-id="2f283-336">Cycles</span></span>
<span data-ttu-id="2f283-337">Um ciclo é quando uma atividade de destino vincula novamente tooits atividade de atividade ou tooanother que eventualmente links faça tooits fonte da fonte.</span><span class="sxs-lookup"><span data-stu-id="2f283-337">A cycle is when a destination activity links back tooits source activity or tooanother activity that eventually links back tooits source.</span></span>  <span data-ttu-id="2f283-338">No momento, os ciclos não são permitidos na criação de gráficos.</span><span class="sxs-lookup"><span data-stu-id="2f283-338">Cycles are currently not allowed in graphical authoring.</span></span>  <span data-ttu-id="2f283-339">Se seu runbook tiver um ciclo, ele será salvo corretamente, mas receberá um erro quando for executado.</span><span class="sxs-lookup"><span data-stu-id="2f283-339">If your runbook has a cycle, it will save properly but will receive an error when it runs.</span></span>

![Ciclo](media/automation-graphical-authoring-intro/runbook-cycle.png)

### <a name="sharing-data-between-activities"></a><span data-ttu-id="2f283-341">Compartilhando dados entre atividades</span><span class="sxs-lookup"><span data-stu-id="2f283-341">Sharing data between activities</span></span>
<span data-ttu-id="2f283-342">Todos os dados de saída por uma atividade com um link de saída são gravados toohello *databus* Olá runbook.</span><span class="sxs-lookup"><span data-stu-id="2f283-342">Any data that is output by an activity with an outgoing link is written toohello *databus* for hello runbook.</span></span>  <span data-ttu-id="2f283-343">Qualquer atividade no runbook Olá pode usar dados nos valores de parâmetro hello databus toopopulate ou incluir no código de script.</span><span class="sxs-lookup"><span data-stu-id="2f283-343">Any activity in hello runbook can use data on hello databus toopopulate parameter values or include in script code.</span></span>  <span data-ttu-id="2f283-344">Uma atividade pode acessar a saída de saudação de qualquer atividade anterior no fluxo de trabalho de saudação.</span><span class="sxs-lookup"><span data-stu-id="2f283-344">An activity can access hello output of any previous activity in hello workflow.</span></span>     

<span data-ttu-id="2f283-345">Como os dados de saudação são gravados toohello databus dependem Olá tipo de link na atividade de saudação.</span><span class="sxs-lookup"><span data-stu-id="2f283-345">How hello data is written toohello databus depends on hello type of link on hello activity.</span></span>  <span data-ttu-id="2f283-346">Para uma **pipeline**, dados de saudação são a saída como objetos de múltiplos.</span><span class="sxs-lookup"><span data-stu-id="2f283-346">For a **pipeline**, hello data is output as multiples objects.</span></span>  <span data-ttu-id="2f283-347">Para uma **sequência** vincular, hello saída dos dados é como uma matriz.</span><span class="sxs-lookup"><span data-stu-id="2f283-347">For a **sequence** link, hello data is output as an array.</span></span>  <span data-ttu-id="2f283-348">Se houver apenas um valor, ele será gerado como uma matriz de elemento único.</span><span class="sxs-lookup"><span data-stu-id="2f283-348">If there is only one value, it will be output as a single element array.</span></span>

<span data-ttu-id="2f283-349">Você pode acessar dados em Olá databus usando um destes dois métodos.</span><span class="sxs-lookup"><span data-stu-id="2f283-349">You can access data on hello databus using one of two methods.</span></span>  <span data-ttu-id="2f283-350">Primeiro, está usando um **atividade saída** toopopulate da fonte de dados de um parâmetro de outra atividade.</span><span class="sxs-lookup"><span data-stu-id="2f283-350">First is using an **Activity Output** data source toopopulate a parameter of another activity.</span></span>  <span data-ttu-id="2f283-351">Se a saída de hello é um objeto, você pode especificar uma única propriedade.</span><span class="sxs-lookup"><span data-stu-id="2f283-351">If hello output is an object, you can specify a single property.</span></span>

![Saída de Atividade](media/automation-graphical-authoring-intro/activity-output-datasource-revised20165.png)

<span data-ttu-id="2f283-353">Você também pode recuperar a saída de saudação de uma atividade em um **PowerShell expressão** fonte de dados ou de um **Script de fluxo de trabalho** atividade com uma variável ActivityOutput.</span><span class="sxs-lookup"><span data-stu-id="2f283-353">You can also retrieve hello output of an activity in a **PowerShell Expression** data source or from a **Workflow Script** activity with an ActivityOutput variable.</span></span>  <span data-ttu-id="2f283-354">Se a saída de hello é um objeto, você pode especificar uma única propriedade.</span><span class="sxs-lookup"><span data-stu-id="2f283-354">If hello output is an object, you can specify a single property.</span></span>  <span data-ttu-id="2f283-355">Variáveis de ActivityOutput usam Olá sintaxe a seguir.</span><span class="sxs-lookup"><span data-stu-id="2f283-355">ActivityOutput variables use hello following syntax.</span></span>

    $ActivityOutput['Activity Label']
    $ActivityOutput['Activity Label'].PropertyName 

### <a name="checkpoints"></a><span data-ttu-id="2f283-356">Pontos de verificação</span><span class="sxs-lookup"><span data-stu-id="2f283-356">Checkpoints</span></span>
<span data-ttu-id="2f283-357">Você pode definir [pontos de verificação](automation-powershell-workflow.md#checkpoints) em um runbook do Fluxo de Trabalho do PowerShell Gráfico selecionando *Runbook do ponto de verificação* em qualquer atividade.</span><span class="sxs-lookup"><span data-stu-id="2f283-357">You can set [checkpoints](automation-powershell-workflow.md#checkpoints) in a Graphical PowerShell Workflow runbook by selecting *Checkpoint runbook* on any activity.</span></span>  <span data-ttu-id="2f283-358">Isso faz com que um toobe de ponto de verificação definida depois hello atividade é executada.</span><span class="sxs-lookup"><span data-stu-id="2f283-358">This causes a checkpoint toobe set after hello activity runs.</span></span>

![Ponto de verificação](media/automation-graphical-authoring-intro/set-checkpoint.png)

<span data-ttu-id="2f283-360">Os pontos de verificação são habilitados somente nos runbooks do Fluxo de Trabalho do PowerShell Gráficos; eles não estão disponíveis nos runbooks Gráficos.</span><span class="sxs-lookup"><span data-stu-id="2f283-360">Checkpoints are only enabled in Graphical PowerShell Workflow runbooks, it is not available in Graphical runbooks.</span></span>  <span data-ttu-id="2f283-361">Se Olá runbook usa cmdlets do Azure, você deve seguir qualquer atividade de ponto de verificação com uma AzureRMAccount adicionar no caso de Olá runbook está suspenso e reinicia desse ponto de verificação no outro trabalho.</span><span class="sxs-lookup"><span data-stu-id="2f283-361">If hello runbook uses Azure cmdlets, you should follow any checkpointed activity with an Add-AzureRMAccount in case hello runbook is suspended and restarts from this checkpoint on a different worker.</span></span> 

## <a name="authenticating-tooazure-resources"></a><span data-ttu-id="2f283-362">Recursos de autenticação tooAzure</span><span class="sxs-lookup"><span data-stu-id="2f283-362">Authenticating tooAzure resources</span></span>
<span data-ttu-id="2f283-363">Requer autenticação tooAzure runbooks na automação do Azure que gerenciar recursos do Azure.</span><span class="sxs-lookup"><span data-stu-id="2f283-363">Runbooks in Azure Automation that manage Azure resources will require authentication tooAzure.</span></span>  <span data-ttu-id="2f283-364">Olá [conta executar como](automation-offering-get-started.md#creating-an-automation-account) (também chamado tooas uma entidade de serviço) é saudação padrão método tooaccess recursos do Gerenciador de recursos do Azure em sua assinatura com runbooks de automação.</span><span class="sxs-lookup"><span data-stu-id="2f283-364">hello [Run As account](automation-offering-get-started.md#creating-an-automation-account) (also referred tooas a service principal) is hello default method tooaccess Azure Resource Manager resources in your subscription with Automation runbooks.</span></span>  <span data-ttu-id="2f283-365">Você pode adicionar esse runbook gráfico de tooa funcionalidade adicionando Olá **AzureRunAsConnection** ativo de Conexão, o que está usando Olá PowerShell [Get-AutomationConnection](https://technet.microsoft.com/library/dn919922%28v=sc.16%29.aspx) cmdlet e [Adicionar AzureRmAccount](https://msdn.microsoft.com/library/mt619267.aspx) cmdlet toohello tela.</span><span class="sxs-lookup"><span data-stu-id="2f283-365">You can add this functionality tooa graphical runbook by adding hello **AzureRunAsConnection** Connection asset, which is using hello PowerShell [Get-AutomationConnection](https://technet.microsoft.com/library/dn919922%28v=sc.16%29.aspx) cmdlet, and [Add-AzureRmAccount](https://msdn.microsoft.com/library/mt619267.aspx) cmdlet toohello canvas.</span></span> <span data-ttu-id="2f283-366">Isso é ilustrado no exemplo a seguir de saudação.</span><span class="sxs-lookup"><span data-stu-id="2f283-366">This is illustrated in hello following example.</span></span><br><span data-ttu-id="2f283-367">![Atividades de Autenticação Executar Como](media/automation-graphical-authoring-intro/authenticate-run-as-account.png)</span><span class="sxs-lookup"><span data-stu-id="2f283-367">![Run As Authentication Activities](media/automation-graphical-authoring-intro/authenticate-run-as-account.png)</span></span><br>
<span data-ttu-id="2f283-368">Hello atividade obter executar como Conexão (por exemplo, Get-AutomationConnection), é configurado com uma fonte de dados de valor constante denominada AzureRunAsConnection.</span><span class="sxs-lookup"><span data-stu-id="2f283-368">hello Get Run As Connection activity (i.e. Get-AutomationConnection), is configured with a constant value data source named AzureRunAsConnection.</span></span><br><span data-ttu-id="2f283-369">![Configuração da Conexão Executar Como](media/automation-graphical-authoring-intro/authenticate-runas-parameterset.png)</span><span class="sxs-lookup"><span data-stu-id="2f283-369">![Run As Connection Configuration](media/automation-graphical-authoring-intro/authenticate-runas-parameterset.png)</span></span><br>
<span data-ttu-id="2f283-370">próxima atividade de Hello, Add-AzureRmAccount adiciona Olá autenticado a conta executar como para uso no runbook hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-370">hello next activity, Add-AzureRmAccount, adds hello authenticated Run As account for use in hello runbook.</span></span><br><span data-ttu-id="2f283-371">
![Conjunto de parâmetros Add-AzureRmAccount](media/automation-graphical-authoring-intro/authenticate-conn-to-azure-parameter-set.png)</span><span class="sxs-lookup"><span data-stu-id="2f283-371">
![Add-AzureRmAccount Parameter Set](media/automation-graphical-authoring-intro/authenticate-conn-to-azure-parameter-set.png)</span></span><br>
<span data-ttu-id="2f283-372">Para parâmetros de saudação **APPLICATIONID**, **CERTIFICATETHUMBPRINT**, e **TENANTID** você precisará toospecify Olá nome da propriedade Olá para o caminho de campo Olá porque atividade de Hello gera um objeto com várias propriedades.</span><span class="sxs-lookup"><span data-stu-id="2f283-372">For hello parameters **APPLICATIONID**, **CERTIFICATETHUMBPRINT**, and **TENANTID** you will need toospecify hello name of hello property for hello Field path because hello activity outputs an object with multiple properties.</span></span>  <span data-ttu-id="2f283-373">Caso contrário, quando você executar o runbook hello, ele falhará tooauthenticate tentativa.</span><span class="sxs-lookup"><span data-stu-id="2f283-373">Otherwise when you execute hello runbook, it will fail attempting tooauthenticate.</span></span>  <span data-ttu-id="2f283-374">Este é o que você precisa em um mínimo tooauthenticate seu runbook com hello conta executar como.</span><span class="sxs-lookup"><span data-stu-id="2f283-374">This is what you need at a minimum tooauthenticate your runbook with hello Run As account.</span></span>

<span data-ttu-id="2f283-375">toomaintain com versões anteriores a compatibilidade para assinantes que tiver criado uma automação de conta usando um [conta de usuário do AD do Azure](automation-create-aduser-account.md) toomanage implantação clássica do Azure ou para recursos do Gerenciador de recursos do Azure, Olá tooauthenticate de método é o cmdlet Add-AzureAccount de saudação com um [ativo de credencial](automation-credentials.md) que representa um usuário do Active Directory com acesso toohello conta do Azure.</span><span class="sxs-lookup"><span data-stu-id="2f283-375">toomaintain backwards compatibility for subscribers who have created an Automation account using an [Azure AD User account](automation-create-aduser-account.md) toomanage Azure classic deployment or for Azure Resource Manager resources, hello method tooauthenticate is hello Add-AzureAccount cmdlet with a [credential asset](automation-credentials.md) that represents an Active Directory user with access toohello Azure account.</span></span>

<span data-ttu-id="2f283-376">Você pode adicionar esse runbook gráfico de tooa funcionalidade adicionando uma tela de toohello do ativo de credencial seguida por uma atividade de Add-AzureAccount.</span><span class="sxs-lookup"><span data-stu-id="2f283-376">You can add this functionality tooa graphical runbook by adding a credential asset toohello canvas followed by an Add-AzureAccount activity.</span></span>  <span data-ttu-id="2f283-377">Adicionar-AzureAccount usa a atividade de credencial de saudação para sua entrada.</span><span class="sxs-lookup"><span data-stu-id="2f283-377">Add-AzureAccount uses hello credential activity for its input.</span></span>  <span data-ttu-id="2f283-378">Isso é ilustrado no exemplo a seguir de saudação.</span><span class="sxs-lookup"><span data-stu-id="2f283-378">This is illustrated in hello following example.</span></span>

![Atividades de autenticação](media/automation-graphical-authoring-intro/authentication-activities.png)

<span data-ttu-id="2f283-380">Você tem tooauthenticate no início de saudação do runbook hello e depois de cada ponto de verificação.</span><span class="sxs-lookup"><span data-stu-id="2f283-380">You have tooauthenticate at hello start of hello runbook and after each checkpoint.</span></span>  <span data-ttu-id="2f283-381">Isso significa adicionar uma atividade de adição Add-AzureAccount depois de qualquer atividade Checkpoint-Workflow.</span><span class="sxs-lookup"><span data-stu-id="2f283-381">This means adding an addition Add-AzureAccount activity after any Checkpoint-Workflow activity.</span></span> <span data-ttu-id="2f283-382">Você não precisa de uma credencial de adição Olá a atividade desde que você pode usar o mesmo</span><span class="sxs-lookup"><span data-stu-id="2f283-382">You do not need an addition credential activity since you can use hello same</span></span> 

![Saída de Atividade](media/automation-graphical-authoring-intro/authentication-activity-output.png)

## <a name="runbook-input-and-output"></a><span data-ttu-id="2f283-384">Entrada e saída de runbook</span><span class="sxs-lookup"><span data-stu-id="2f283-384">Runbook input and output</span></span>
### <a name="runbook-input"></a><span data-ttu-id="2f283-385">Entrada do Runbook</span><span class="sxs-lookup"><span data-stu-id="2f283-385">Runbook input</span></span>
<span data-ttu-id="2f283-386">Um runbook pode exigir entrada do usuário quando eles são iniciados Olá runbook por meio de saudação portal do Azure ou de outro runbook se Olá atual é usado como um filho.</span><span class="sxs-lookup"><span data-stu-id="2f283-386">A runbook may require input either from a user when they start hello runbook through hello Azure portal or from another runbook if hello current one is used as a child.</span></span>
<span data-ttu-id="2f283-387">Por exemplo, se você tiver um runbook que cria uma máquina virtual, talvez seja necessário informações tooprovide como nome de saudação da máquina virtual de saudação e outras propriedades toda vez que iniciar o runbook hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-387">For example, if you have a runbook that creates a virtual machine, you may need tooprovide information such as hello name of hello virtual machine and other properties each time you start hello runbook.</span></span>  

<span data-ttu-id="2f283-388">Você aceita a entrada para um runbook definindo um ou mais parâmetros de entrada.</span><span class="sxs-lookup"><span data-stu-id="2f283-388">You accept input for a runbook by defining one or more input parameters.</span></span>  <span data-ttu-id="2f283-389">Você pode fornecer valores para esses parâmetros de que cada runbook de saudação do tempo é iniciado.</span><span class="sxs-lookup"><span data-stu-id="2f283-389">You provide values for these parameters each time hello runbook is started.</span></span>  <span data-ttu-id="2f283-390">Quando você inicia um runbook com hello portal do Azure, ele solicitará que você tooprovide valores para Olá de Olá do runbook parâmetros de entrada.</span><span class="sxs-lookup"><span data-stu-id="2f283-390">When you start a runbook with hello Azure portal, it will prompt you tooprovide values for hello each of hello runbook's input parameters.</span></span>

<span data-ttu-id="2f283-391">Você pode acessar os parâmetros de entrada para um runbook clicando Olá **de entrada e saída** botão na barra de ferramentas do runbook hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-391">You can access input parameters for a runbook by clicking hello **Input and output** button on hello runbook toolbar.</span></span>  

![Entrada e saída de runbook](media/automation-graphical-authoring-intro/runbook-edit-input-output.png) 

<span data-ttu-id="2f283-393">Isso abre o hello **de entrada e saída** controle onde você pode editar um parâmetro de entrada existente ou criar um novo clicando em **Adicionar entrada**.</span><span class="sxs-lookup"><span data-stu-id="2f283-393">This opens hello **Input and Output** control where you can edit an existing input parameter or create a new one by clicking **Add input**.</span></span> 

![Adicionar entrada](media/automation-graphical-authoring-intro/runbook-edit-add-input.png)

<span data-ttu-id="2f283-395">Cada parâmetro de entrada é definido pelas propriedades Olá Olá a tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="2f283-395">Each input parameter is defined by hello properties in hello following table.</span></span>

| <span data-ttu-id="2f283-396">Propriedade</span><span class="sxs-lookup"><span data-stu-id="2f283-396">Property</span></span> | <span data-ttu-id="2f283-397">Descrição</span><span class="sxs-lookup"><span data-stu-id="2f283-397">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="2f283-398">Nome</span><span class="sxs-lookup"><span data-stu-id="2f283-398">Name</span></span> |<span data-ttu-id="2f283-399">nome exclusivo de saudação do parâmetro hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-399">hello unique name of hello parameter.</span></span>  <span data-ttu-id="2f283-400">Pode conter apenas caracteres alfanuméricos e não pode conter espaços.</span><span class="sxs-lookup"><span data-stu-id="2f283-400">This can only contain alpha numeric characters and cannot contain a space.</span></span> |
| <span data-ttu-id="2f283-401">Descrição</span><span class="sxs-lookup"><span data-stu-id="2f283-401">Description</span></span> |<span data-ttu-id="2f283-402">Uma descrição opcional para o parâmetro de entrada hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-402">An optional description for hello input parameter.</span></span> |
| <span data-ttu-id="2f283-403">Tipo</span><span class="sxs-lookup"><span data-stu-id="2f283-403">Type</span></span> |<span data-ttu-id="2f283-404">Tipo de dados esperado para o valor do parâmetro hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-404">Data type expected for hello parameter value.</span></span>  <span data-ttu-id="2f283-405">Olá portal do Azure fornecem um controle apropriado para o tipo de dados Olá para cada parâmetro quando a solicitação de entrada.</span><span class="sxs-lookup"><span data-stu-id="2f283-405">hello Azure portal will provide an appropriate control for hello data type for each parameter when prompting for input.</span></span> |
| <span data-ttu-id="2f283-406">Obrigatório</span><span class="sxs-lookup"><span data-stu-id="2f283-406">Mandatory</span></span> |<span data-ttu-id="2f283-407">Especifica se deve ser fornecido um valor para o parâmetro hello.</span><span class="sxs-lookup"><span data-stu-id="2f283-407">Specifies whether a value must be provided for hello parameter.</span></span>  <span data-ttu-id="2f283-408">Olá runbook não pode ser iniciado se você não fornecer um valor para cada parâmetro obrigatório que não tem um valor padrão definido.</span><span class="sxs-lookup"><span data-stu-id="2f283-408">hello runbook cannot be started if you do not provide a value for each mandatory parameter that does not have a default value defined.</span></span> |
| <span data-ttu-id="2f283-409">Valor Padrão</span><span class="sxs-lookup"><span data-stu-id="2f283-409">Default Value</span></span> |<span data-ttu-id="2f283-410">Especifica o valor que é usado para o parâmetro hello se não for fornecido.</span><span class="sxs-lookup"><span data-stu-id="2f283-410">Specifies what value is used for hello parameter if one is not provided.</span></span>  <span data-ttu-id="2f283-411">Pode ser Nulo ou um valor específico.</span><span class="sxs-lookup"><span data-stu-id="2f283-411">This can either be Null or a specific value.</span></span> |

### <a name="runbook-output"></a><span data-ttu-id="2f283-412">Saída de runbook</span><span class="sxs-lookup"><span data-stu-id="2f283-412">Runbook output</span></span>
<span data-ttu-id="2f283-413">Os dados criados por qualquer atividade que não tem uma conexão de saída serão adicionados toohello [saída do runbook Olá](http://msdn.microsoft.com/library/azure/dn879148.aspx).</span><span class="sxs-lookup"><span data-stu-id="2f283-413">Data created by any activity that does not have an outgoing link will be added toohello [output of hello runbook](http://msdn.microsoft.com/library/azure/dn879148.aspx).</span></span>  <span data-ttu-id="2f283-414">saída de Hello é salva com o trabalho de runbook hello e é o runbook pai tooa disponíveis quando Olá runbook é usado como um filho.</span><span class="sxs-lookup"><span data-stu-id="2f283-414">hello output is saved with hello runbook job and is available tooa parent runbook when hello runbook is used as a child.</span></span>  

## <a name="powershell-expressions"></a><span data-ttu-id="2f283-415">Expressões do PowerShell</span><span class="sxs-lookup"><span data-stu-id="2f283-415">PowerShell expressions</span></span>
<span data-ttu-id="2f283-416">Uma das vantagens de saudação do gráfico de criação oferece uma capacidade de saudação toobuild um runbook com o mínimo de conhecimento do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="2f283-416">One of hello advantages of graphical authoring is providing you with hello ability toobuild a runbook with minimal knowledge of PowerShell.</span></span>  <span data-ttu-id="2f283-417">No momento, você precisa tooknow um pouco de PowerShell para popular certos [valores de parâmetro](#activities) e para configuração [vincular condições](#links-and-workflow).</span><span class="sxs-lookup"><span data-stu-id="2f283-417">Currently, you do need tooknow a bit of PowerShell though for populating certain [parameter values](#activities) and for setting [link conditions](#links-and-workflow).</span></span>  <span data-ttu-id="2f283-418">Esta seção fornece uma rápida introdução tooPowerShell expressões para os usuários que podem não estar familiarizados com ele.</span><span class="sxs-lookup"><span data-stu-id="2f283-418">This section provides a quick introduction tooPowerShell expressions for those users who may not be familiar with it.</span></span>  <span data-ttu-id="2f283-419">Detalhes completos do PowerShell estão disponíveis em [scripts com o Windows PowerShell](http://technet.microsoft.com/library/bb978526.aspx).</span><span class="sxs-lookup"><span data-stu-id="2f283-419">Full details of PowerShell are available at [Scripting with Windows PowerShell](http://technet.microsoft.com/library/bb978526.aspx).</span></span> 

### <a name="powershell-expression-data-source"></a><span data-ttu-id="2f283-420">Fonte de dados de expressão do PowerShell</span><span class="sxs-lookup"><span data-stu-id="2f283-420">PowerShell expression data source</span></span>
<span data-ttu-id="2f283-421">Você pode usar uma expressão do PowerShell como um valor de saudação dados fonte toopopulate de um [parâmetro de atividade](#activities) com resultados de saudação de algum código do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="2f283-421">You can use a PowerShell expression as a data source toopopulate hello value of an [activity parameter](#activities) with hello results of some PowerShell code.</span></span>  <span data-ttu-id="2f283-422">Isso pode ser uma única linha de código que executa uma função simples ou várias linhas que realizam alguma lógica complexa.</span><span class="sxs-lookup"><span data-stu-id="2f283-422">This could be a single line of code that performs some simple function or multiple lines that perform some complex logic.</span></span>  <span data-ttu-id="2f283-423">Nenhuma saída de um comando que não está atribuído tooa variável é o valor do parâmetro de toohello de saída.</span><span class="sxs-lookup"><span data-stu-id="2f283-423">Any output from a command that is not assigned tooa variable is output toohello parameter value.</span></span> 

<span data-ttu-id="2f283-424">Por exemplo, Olá comando a seguir geraria Olá data atual.</span><span class="sxs-lookup"><span data-stu-id="2f283-424">For example, hello following command would output hello current date.</span></span> 

    Get-Date

<span data-ttu-id="2f283-425">Hello comandos a seguir construir uma cadeia de caracteres de saudação data atual e atribuí-la tooa variável.</span><span class="sxs-lookup"><span data-stu-id="2f283-425">hello following commands build a string from hello current date and assign it tooa variable.</span></span>  <span data-ttu-id="2f283-426">conteúdo de saudação da variável de saudação, em seguida, é enviado para saída toohello</span><span class="sxs-lookup"><span data-stu-id="2f283-426">hello contents of hello variable are then sent toohello output</span></span> 

    $string = "hello current date is " + (Get-Date)
    $string

<span data-ttu-id="2f283-427">Olá comandos a seguir avaliam Olá data atual e retornam uma cadeia de caracteres que indica se Olá dia atual é um fim de semana ou dia da semana.</span><span class="sxs-lookup"><span data-stu-id="2f283-427">hello following commands evaluate hello current date and return a string indicating whether hello current day is a weekend or weekday.</span></span> 

    $date = Get-Date
    if (($date.DayOfWeek = "Saturday") -or ($date.DayOfWeek = "Sunday")) { "Weekend" }
    else { "Weekday" }


### <a name="activity-output"></a><span data-ttu-id="2f283-428">Saída de Atividade</span><span class="sxs-lookup"><span data-stu-id="2f283-428">Activity output</span></span>
<span data-ttu-id="2f283-429">saída de hello toouse de uma atividade anterior no runbook hello, usar a variável de saudação $ActivityOutput com hello sintaxe a seguir.</span><span class="sxs-lookup"><span data-stu-id="2f283-429">toouse hello output from a previous activity in hello runbook, use hello $ActivityOutput variable with hello following syntax.</span></span>

    $ActivityOutput['Activity Label'].PropertyName

<span data-ttu-id="2f283-430">Por exemplo, você pode ter uma atividade com uma propriedade que requer um nome de saudação de uma máquina virtual caso em que você pode usar o hello expressão a seguir.</span><span class="sxs-lookup"><span data-stu-id="2f283-430">For example, you may have an activity with a property that requires hello name of a virtual machine in which case you could use hello following expression.</span></span>

    $ActivityOutput['Get-AzureVm'].Name

<span data-ttu-id="2f283-431">Se a propriedade Olá Olá objeto de máquina virtual em vez de apenas uma propriedade, em seguida, é necessário retornaria usando o objeto inteiro Olá Olá sintaxe a seguir.</span><span class="sxs-lookup"><span data-stu-id="2f283-431">If hello property that required hello virtual machine object instead of just a property, then you would return hello entire object using hello following syntax.</span></span>

    $ActivityOutput['Get-AzureVm']

<span data-ttu-id="2f283-432">Você também pode usar a saída de saudação de uma atividade em uma expressão mais complexa, como a seguir Olá que concatena o nome da máquina virtual toohello texto.</span><span class="sxs-lookup"><span data-stu-id="2f283-432">You can also use hello output of an activity in a more complex expression such as hello following that concatenates text toohello virtual machine name.</span></span>

    "hello computer name is " + $ActivityOutput['Get-AzureVm'].Name


### <a name="conditions"></a><span data-ttu-id="2f283-433">Condições</span><span class="sxs-lookup"><span data-stu-id="2f283-433">Conditions</span></span>
<span data-ttu-id="2f283-434">Use [operadores de comparação](https://technet.microsoft.com/library/hh847759.aspx) toocompare valores ou determinar se um valor corresponde a um padrão especificado.</span><span class="sxs-lookup"><span data-stu-id="2f283-434">Use [comparison operators](https://technet.microsoft.com/library/hh847759.aspx) toocompare values or determine if a value matches a specified pattern.</span></span>  <span data-ttu-id="2f283-435">Uma comparação retorna um valor de $true ou $false.</span><span class="sxs-lookup"><span data-stu-id="2f283-435">A comparison returns a value of either $true or $false.</span></span>

<span data-ttu-id="2f283-436">Por exemplo, a saudação condição a seguir determina se a máquina virtual de saudação de uma atividade denominada *Get-AzureVM* está *interrompido*.</span><span class="sxs-lookup"><span data-stu-id="2f283-436">For example, hello following condition determines whether hello virtual machine from an activity named *Get-AzureVM* is currently *stopped*.</span></span> 

    $ActivityOutput["Get-AzureVM"].PowerState –eq "Stopped"

<span data-ttu-id="2f283-437">verificações de condição a seguir de saudação se hello mesma máquina virtual está em um estado diferente de *interrompido*.</span><span class="sxs-lookup"><span data-stu-id="2f283-437">hello following condition checks whether hello same virtual machine is in any state other than *stopped*.</span></span>

    $ActivityOutput["Get-AzureVM"].PowerState –ne "Stopped"

<span data-ttu-id="2f283-438">Você pode unir várias condições usando um [operador lógico](https://technet.microsoft.com/library/hh847789.aspx) como **- e** ou **- ou**.</span><span class="sxs-lookup"><span data-stu-id="2f283-438">You can join multiple conditions using a [logical operator](https://technet.microsoft.com/library/hh847789.aspx) such as **-and** or **-or**.</span></span>  <span data-ttu-id="2f283-439">Por exemplo, Olá condição a seguir verifica se hello mesma máquina virtual no exemplo anterior hello está em um estado de *interrompido* ou *parando*.</span><span class="sxs-lookup"><span data-stu-id="2f283-439">For example, hello following condition checks whether hello same virtual machine in hello previous example is in a state of *stopped* or *stopping*.</span></span>

    ($ActivityOutput["Get-AzureVM"].PowerState –eq "Stopped") -or ($ActivityOutput["Get-AzureVM"].PowerState –eq "Stopping") 


### <a name="hashtables"></a><span data-ttu-id="2f283-440">Tabelas de hash</span><span class="sxs-lookup"><span data-stu-id="2f283-440">Hashtables</span></span>
<span data-ttu-id="2f283-441">[Tabelas de hash](http://technet.microsoft.com/library/hh847780.aspx) são pares nome/valor que são úteis para retornar um conjunto de valores.</span><span class="sxs-lookup"><span data-stu-id="2f283-441">[Hashtables](http://technet.microsoft.com/library/hh847780.aspx) are name/value pairs that are useful for returning a set of values.</span></span>  <span data-ttu-id="2f283-442">Propriedades de determinadas atividades podem esperar uma tabela de hash em vez de um valor simples.</span><span class="sxs-lookup"><span data-stu-id="2f283-442">Properties for certain activities may expect a hashtable instead of a simple value.</span></span>  <span data-ttu-id="2f283-443">Você também poderá ver a tabela de hash chamado tooas um dicionário.</span><span class="sxs-lookup"><span data-stu-id="2f283-443">You may also see as hashtable referred tooas a dictionary.</span></span> 

<span data-ttu-id="2f283-444">Você pode criar uma tabela de hash com hello sintaxe a seguir.</span><span class="sxs-lookup"><span data-stu-id="2f283-444">You create a hashtable with hello following syntax.</span></span>  <span data-ttu-id="2f283-445">Uma tabela de hash pode conter qualquer número de entradas, mas cada um é definido por um nome e valor.</span><span class="sxs-lookup"><span data-stu-id="2f283-445">A hashtable can contain any number of entries but each is defined by a name and value.</span></span>

    @{ <name> = <value>; [<name> = <value> ] ...}

<span data-ttu-id="2f283-446">Por exemplo, hello expressão a seguir cria um toobe da tabela de hash usado na fonte de dados de saudação para um parâmetro de atividade que espera uma tabela de hash com valores para uma pesquisa na internet.</span><span class="sxs-lookup"><span data-stu-id="2f283-446">For example, hello following expression creates a hashtable toobe used in hello data source for an activity parameter that expected a hashtable with values for an internet search.</span></span>

    $query = "Azure Automation"
    $count = 10
    $h = @{'q'=$query; 'lr'='lang_ja';  'count'=$Count}
    $h

<span data-ttu-id="2f283-447">Olá, exemplo a seguir usa a saída de uma atividade chamada *obter Conexão Twitter* toopopulate uma tabela de hash.</span><span class="sxs-lookup"><span data-stu-id="2f283-447">hello following example uses output from an activity called *Get Twitter Connection* toopopulate a hashtable.</span></span>

    @{'ApiKey'=$ActivityOutput['Get Twitter Connection'].ConsumerAPIKey;
      'ApiSecret'=$ActivityOutput['Get Twitter Connection'].ConsumerAPISecret;
      'AccessToken'=$ActivityOutput['Get Twitter Connection'].AccessToken;
      'AccessTokenSecret'=$ActivityOutput['Get Twitter Connection'].AccessTokenSecret}



## <a name="next-steps"></a><span data-ttu-id="2f283-448">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="2f283-448">Next Steps</span></span>
* <span data-ttu-id="2f283-449">tooget iniciado com runbooks do fluxo de trabalho do PowerShell, consulte [meu primeiro runbook de fluxo de trabalho do PowerShell](automation-first-runbook-textual.md)</span><span class="sxs-lookup"><span data-stu-id="2f283-449">tooget started with PowerShell workflow runbooks, see [My first PowerShell workflow runbook](automation-first-runbook-textual.md)</span></span> 
* <span data-ttu-id="2f283-450">tooget iniciado com runbooks gráficos, consulte [meu primeiro runbook gráfico](automation-first-runbook-graphical.md)</span><span class="sxs-lookup"><span data-stu-id="2f283-450">tooget started with Graphical runbooks, see [My first graphical runbook](automation-first-runbook-graphical.md)</span></span>
* <span data-ttu-id="2f283-451">tooknow mais sobre os tipos de runbook, suas vantagens e limitações, consulte [tipos de runbook de automação do Azure](automation-runbook-types.md)</span><span class="sxs-lookup"><span data-stu-id="2f283-451">tooknow more about runbook types, their advantages and limitations, see [Azure Automation runbook types](automation-runbook-types.md)</span></span>
* <span data-ttu-id="2f283-452">toounderstand como tooauthenticate usando Olá automação executar como conta, consulte [configurar Azure conta executar como](automation-sec-configure-azure-runas-account.md)</span><span class="sxs-lookup"><span data-stu-id="2f283-452">toounderstand how tooauthenticate using hello Automation Run As account, see [Configure Azure Run As Account](automation-sec-configure-azure-runas-account.md)</span></span>

