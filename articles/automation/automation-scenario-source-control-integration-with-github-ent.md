---
title: "aaaAzure integração de controle de fonte de automação com GitHub corporativo | Microsoft Docs"
description: "Descreve os detalhes de como Olá integração tooconfigure com GitHub corporativo para controle de origem de runbooks de automação."
services: automation
documentationCenter: 
authors: mgoedtel
manager: jwhit
editor: 
ms.assetid: e01d817c-7d38-421c-adf5-647a4b526eb4
ms.service: automation
ms.workload: infrastructure-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/26/2017
ms.author: magoedte
ms.openlocfilehash: 915d36ccabb72fdee1dba663049a0b331249cd73
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-automation-scenario---automation-source-control-integration-with-github-enterprise"></a><span data-ttu-id="0322a-103">Cenário da Automação do Azure - Integração de controle de origem da Automação com o GitHub Enterprise</span><span class="sxs-lookup"><span data-stu-id="0322a-103">Azure Automation scenario - Automation source control integration with GitHub Enterprise</span></span>

<span data-ttu-id="0322a-104">Automação atualmente oferece suporte à integração de controle de origem, que permite que você tooassociate runbooks em seu repositório de controle de origem automação conta tooa GitHub.</span><span class="sxs-lookup"><span data-stu-id="0322a-104">Automation currently supports source control integration, which allows you tooassociate runbooks in your Automation account tooa GitHub source control repository.</span></span>  <span data-ttu-id="0322a-105">No entanto, os clientes que implantaram o [GitHub corporativo](https://enterprise.github.com/home) toosupport seus DevOps práticas, também deseja toouse-toomanage ciclo de vida de saudação de runbooks que são desenvolvidos tooautomate processos de negócios e gerenciamento de serviços operações.</span><span class="sxs-lookup"><span data-stu-id="0322a-105">However, customers who have deployed [GitHub Enterprise](https://enterprise.github.com/home) toosupport their DevOps practices, also want toouse it toomanage hello lifecycle of runbooks that are developed tooautomate business processes and service management operations.</span></span>  

<span data-ttu-id="0322a-106">Nesse cenário, você tem um computador com Windows em seu data center configurado como um operador de Runbook híbrido com módulos do Azure Resource Manager hello e ferramentas de Git instaladas.</span><span class="sxs-lookup"><span data-stu-id="0322a-106">In this scenario, you have a Windows computer in your data center configured as a Hybrid Runbook Worker with hello Azure Resource Manager modules and Git tools installed.</span></span>  <span data-ttu-id="0322a-107">máquina de trabalhador híbrido Olá tem um clone do repositório do Git local hello.</span><span class="sxs-lookup"><span data-stu-id="0322a-107">hello Hybrid worker machine has a clone of hello local Git repository.</span></span>  <span data-ttu-id="0322a-108">Quando Olá runbook for executado no hybrid worker de hello, Olá Git directory esteja sincronizado e conteúdo do arquivo de runbook Olá é importado para Olá conta de automação.</span><span class="sxs-lookup"><span data-stu-id="0322a-108">When hello runbook is run on hello hybrid worker, hello Git directory is synchronized and hello runbook file contents are imported into hello Automation account.</span></span>

<span data-ttu-id="0322a-109">Este artigo descreve como tooset essa configuração em seu ambiente de automação do Azure.</span><span class="sxs-lookup"><span data-stu-id="0322a-109">This article describes how tooset up this configuration in your Azure Automation environment.</span></span> <span data-ttu-id="0322a-110">Vamos começar configurando a automação com credenciais de segurança hello, runbooks requerido toosupport neste cenário e implantação de um operador de Runbook híbrido em seus dados center toorun Olá runbooks e acessar seu toosynchronize do repositório GitHub corporativo runbooks com sua conta de automação.</span><span class="sxs-lookup"><span data-stu-id="0322a-110">We start by configuring Automation with hello security credentials, runbooks required toosupport this scenario, and deployment of a Hybrid Runbook Worker in your data center toorun hello runbooks and access your GitHub Enterprise repository toosynchronize runbooks with your Automation account.</span></span>  


## <a name="getting-hello-scenario"></a><span data-ttu-id="0322a-111">Obtendo o cenário de saudação</span><span class="sxs-lookup"><span data-stu-id="0322a-111">Getting hello scenario</span></span>

<span data-ttu-id="0322a-112">Este cenário consiste em dois runbooks do PowerShell que você pode importar diretamente da saudação [Galeria de Runbook](automation-runbook-gallery.md) Olá portal do Azure ou fazer o download de saudação [Galeria do PowerShell](https://www.powershellgallery.com).</span><span class="sxs-lookup"><span data-stu-id="0322a-112">This scenario consists of two PowerShell runbooks that you can import directly from hello [Runbook Gallery](automation-runbook-gallery.md) in hello Azure portal or download from hello [PowerShell Gallery](https://www.powershellgallery.com).</span></span>

### <a name="runbooks"></a><span data-ttu-id="0322a-113">Runbooks</span><span class="sxs-lookup"><span data-stu-id="0322a-113">Runbooks</span></span>

<span data-ttu-id="0322a-114">Runbook</span><span class="sxs-lookup"><span data-stu-id="0322a-114">Runbook</span></span> | <span data-ttu-id="0322a-115">Descrição</span><span class="sxs-lookup"><span data-stu-id="0322a-115">Description</span></span>| 
--------|------------|
<span data-ttu-id="0322a-116">Export-RunAsCertificateToHybridWorker</span><span class="sxs-lookup"><span data-stu-id="0322a-116">Export-RunAsCertificateToHybridWorker</span></span> | <span data-ttu-id="0322a-117">Runbook exporta um certificado de executar como de um tooa hybrid worker de automação conta para que os runbooks no trabalho Olá pode autenticar com o Azure em ordem tooimport runbooks em Olá conta de automação.</span><span class="sxs-lookup"><span data-stu-id="0322a-117">Runbook exports a RunAs certificate from an Automation account tooa hybrid worker so that runbooks on hello worker can authenticate with Azure in order tooimport runbooks into hello Automation account.</span></span>| 
<span data-ttu-id="0322a-118">Sync-LocalGitFolderToAutomationAccount</span><span class="sxs-lookup"><span data-stu-id="0322a-118">Sync-LocalGitFolderToAutomationAccount</span></span> | <span data-ttu-id="0322a-119">Sincronizações de runbook Olá pasta local do Git no computador de híbrida hello e importar arquivos de runbook de saudação (ps1) na conta de automação de saudação.</span><span class="sxs-lookup"><span data-stu-id="0322a-119">Runbook syncs hello local Git folder on hello hybrid machine and then import hello runbook files (*.ps1) into hello Automation account.</span></span>|

### <a name="credentials"></a><span data-ttu-id="0322a-120">Credenciais</span><span class="sxs-lookup"><span data-stu-id="0322a-120">Credentials</span></span>

<span data-ttu-id="0322a-121">Credencial</span><span class="sxs-lookup"><span data-stu-id="0322a-121">Credential</span></span> | <span data-ttu-id="0322a-122">Descrição</span><span class="sxs-lookup"><span data-stu-id="0322a-122">Description</span></span>|
-----------|------------|
<span data-ttu-id="0322a-123">GitHRWCredential</span><span class="sxs-lookup"><span data-stu-id="0322a-123">GitHRWCredential</span></span> | <span data-ttu-id="0322a-124">Ativo de credencial de você criar toocontain Olá nome do usuário e senha para um usuário com permissões toohello híbrida de trabalho.</span><span class="sxs-lookup"><span data-stu-id="0322a-124">Credential asset you create toocontain hello username and password for a user with permissions toohello hybrid worker.</span></span>|

## <a name="installing-and-configuring-this-scenario"></a><span data-ttu-id="0322a-125">Instalando e configurando esse cenário</span><span class="sxs-lookup"><span data-stu-id="0322a-125">Installing and configuring this scenario</span></span>

### <a name="prerequisites"></a><span data-ttu-id="0322a-126">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="0322a-126">Prerequisites</span></span>

1. <span data-ttu-id="0322a-127">Olá sincronização LocalGitFolderToAutomationAccount runbook autentica usando Olá [conta executar como do Azure](automation-sec-configure-azure-runas-account.md).</span><span class="sxs-lookup"><span data-stu-id="0322a-127">hello Sync-LocalGitFolderToAutomationAccount runbook authenticates using hello [Azure Run As account](automation-sec-configure-azure-runas-account.md).</span></span> 

2. <span data-ttu-id="0322a-128">Um espaço de trabalho do Microsoft Operations Management Suite (OMS) com hello solução de automação do Azure habilitado e configurado também é necessário.</span><span class="sxs-lookup"><span data-stu-id="0322a-128">A Microsoft Operations Management Suite (OMS) workspace with hello Azure Automation solution enabled and configured is also required.</span></span>  <span data-ttu-id="0322a-129">Se você não tem que está associado a saudação automação conta usada tooinstall e configurar esse cenário, ele é criado e configurado para você quando você executar Olá **OnPremiseHybridWorker.ps1 novo** script híbrida Olá trabalho de runbook.</span><span class="sxs-lookup"><span data-stu-id="0322a-129">If you do not have one that is associated with hello Automation account used tooinstall and configure this scenario, it is created and configured for you when you execute hello **New-OnPremiseHybridWorker.ps1** script from hello hybrid runbook worker.</span></span>        

    > [!NOTE]
    > <span data-ttu-id="0322a-130">No momento hello seguintes regiões só oferecem suporte à automação integração com o OMS - **Sudeste da Austrália**, **Leste dos EUA 2**, **Sudeste da Ásia**, e **Oeste Europa**.</span><span class="sxs-lookup"><span data-stu-id="0322a-130">Currently hello following regions only support Automation integration with OMS - **Australia Southeast**, **East US 2**, **Southeast Asia**, and **West Europe**.</span></span> 

3. <span data-ttu-id="0322a-131">Um computador que pode servir como um operador de Runbook híbrido dedicado que hospedará o software do GitHub hello e manter os arquivos de runbook Olá também (*runbook*. ps1) em um diretório de origem no toosynchronize de sistema de arquivo hello entre GitHub e seu Conta de automação.</span><span class="sxs-lookup"><span data-stu-id="0322a-131">A computer that can serve as a dedicated Hybrid Runbook Worker that will also host hello GitHub software and maintain hello runbook files (*runbook*.ps1) in a source directory on hello file system toosynchronize between GitHub and your Automation account.</span></span>

### <a name="import-and-publish-hello-runbooks"></a><span data-ttu-id="0322a-132">Importar e publicar runbooks Olá</span><span class="sxs-lookup"><span data-stu-id="0322a-132">Import and publish hello runbooks</span></span>

<span data-ttu-id="0322a-133">Olá tooimport *RunAsCertificateToHybridWorker de exportação* e *LocalGitFolderToAutomationAccount sincronização* runbooks do hello Galeria de Runbook da sua conta de automação no hello portal do Azure, Siga os procedimentos Olá [importar Runbook da Galeria de Runbook de saudação](automation-runbook-gallery.md#to-import-a-runbook-from-the-runbook-gallery-with-the-azure-portal).</span><span class="sxs-lookup"><span data-stu-id="0322a-133">tooimport hello *Export-RunAsCertificateToHybridWorker* and *Sync-LocalGitFolderToAutomationAccount* runbooks from hello Runbook Gallery from your Automation account in hello Azure portal, follow hello procedures in [Import Runbook from hello Runbook Gallery](automation-runbook-gallery.md#to-import-a-runbook-from-the-runbook-gallery-with-the-azure-portal).</span></span> <span data-ttu-id="0322a-134">Publica runbooks Olá depois que eles foram importados com êxito para a sua conta de automação.</span><span class="sxs-lookup"><span data-stu-id="0322a-134">Publish hello runbooks after they have been successfully imported into your Automation account.</span></span>

### <a name="deploy-and-configure-hybrid-runbook-worker"></a><span data-ttu-id="0322a-135">Implantar e configurar o Hybrid Runbook Worker</span><span class="sxs-lookup"><span data-stu-id="0322a-135">Deploy and Configure Hybrid Runbook Worker</span></span>

<span data-ttu-id="0322a-136">Se você não tiver um Hybrid Runbook Worker já implantado em seu data center, você deve revisar os requisitos de saudação e execute as etapas de instalação Olá automatizada usando o procedimento Olá [Azure Automation Hybrid Runbook Workers - automatizar instalar Configuração e](automation-hybrid-runbook-worker.md#automated-deployment).</span><span class="sxs-lookup"><span data-stu-id="0322a-136">If you do not have a Hybrid Runbook Worker already deployed in your data center, you should review hello requirements and follow hello automated installation steps using hello procedure in [Azure Automation Hybrid Runbook Workers - Automate Install and Configuration](automation-hybrid-runbook-worker.md#automated-deployment).</span></span>  <span data-ttu-id="0322a-137">Quando você instalou com êxito o trabalhador híbrido de saudação em um computador, execute Olá seguindo as etapas toocomplete toosupport sua configuração nesse cenário.</span><span class="sxs-lookup"><span data-stu-id="0322a-137">Once you have successfully installed hello hybrid worker on a computer, perform hello following steps toocomplete its configuration toosupport this scenario.</span></span>

1. <span data-ttu-id="0322a-138">Logon de toohello hospedagem Olá Hybrid Runbook Worker função do computador com uma conta que tenha direitos administrativos locais e crie um diretório toohold Olá Git runbook.</span><span class="sxs-lookup"><span data-stu-id="0322a-138">Sign on toohello computer hosting hello Hybrid Runbook Worker role with an account that has local administrative rights and create a directory toohold hello Git runbook files.</span></span>  <span data-ttu-id="0322a-139">Clone Olá Git repositório toohello diretório interno.</span><span class="sxs-lookup"><span data-stu-id="0322a-139">Clone  hello internal Git repository toohello directory.</span></span>
2. <span data-ttu-id="0322a-140">Se você ainda não tiver uma conta executar como criada ou se desejar toocreate um novo dedicado para essa finalidade, de saudação do portal Azure navegue tooAutomation contas, selecione sua conta de automação e criar um [ativo de credencial](automation-credentials.md) que contém a saudação de nome de usuário e senha para um usuário com permissões toohello híbrida de trabalho.</span><span class="sxs-lookup"><span data-stu-id="0322a-140">If you do not already have a RunAs account created or you want toocreate a new one dedicated for this purpose, from hello Azure portal navigate tooAutomation accounts, select your Automation account and create a [credential asset](automation-credentials.md) that contains hello username and password for a user with permissions toohello hybrid worker.</span></span>  
3. <span data-ttu-id="0322a-141">De sua conta de automação, [Editar runbook Olá](automation-edit-textual-runbook.md)**RunAsCertificateToHybridWorker de exportação** e modificar o valor variável Olá Olá *$Password* com uma forte senha.  </span><span class="sxs-lookup"><span data-stu-id="0322a-141">From your Automation account, [edit hello runbook](automation-edit-textual-runbook.md)  **Export-RunAsCertificateToHybridWorker** and modify hello value for hello variable *$Password* with a strong password.</span></span>  <span data-ttu-id="0322a-142">Depois de modificar o valor de saudação, clique em **publicar** toohave versão de rascunho Olá Olá runbook publicado.</span><span class="sxs-lookup"><span data-stu-id="0322a-142">After you modify hello value, click **Publish** toohave hello draft version of hello runbook published.</span></span> 
5. <span data-ttu-id="0322a-143">Iniciar runbook Olá **RunAsCertificateToHybridWorker de exportação**e em hello **iniciar Runbook** folha, na opção Olá **as configurações de execução** Selecione opção Olá **Hybrid Worker** e em Olá lista suspensa Olá selecione grupo do Hybrid worker criado anteriormente para este cenário.</span><span class="sxs-lookup"><span data-stu-id="0322a-143">Start hello runbook **Export-RunAsCertificateToHybridWorker**, and in hello **Start Runbook** blade, under hello option **Run settings** select hello option **Hybrid Worker** and in hello drop-down list select hello Hybrid worker group you created earlier for this scenario.</span></span>  

    <span data-ttu-id="0322a-144">Isso exporta um operador de híbrido toohello certificado para que os runbooks no trabalho Olá pode autenticar com o Azure usando a conexão de executar como do hello em ordem toomanage recursos do Azure (em especial para esse cenário - importar runbooks toohello conta de automação).</span><span class="sxs-lookup"><span data-stu-id="0322a-144">This exports a certificate toohello hybrid worker so that runbooks on hello worker can authenticate with Azure using hello Run As connection in order toomanage Azure resources (in particular for this scenario - import runbooks toohello Automation account).</span></span>

4. <span data-ttu-id="0322a-145">De sua conta de automação, selecione Olá grupo do Hybrid worker criado anteriormente e [especificar uma conta executar como](automation-hrw-run-runbooks.md#runas-account) para o grupo do Hybrid worker hello e escolher o ativo de credencial de Olá você apenas ou já ter criado.</span><span class="sxs-lookup"><span data-stu-id="0322a-145">From your Automation account, select hello Hybrid worker group created earlier and [specify a RunAs account](automation-hrw-run-runbooks.md#runas-account) for hello Hybrid worker group, and chose hello credential asset you just or already have created.</span></span>  <span data-ttu-id="0322a-146">Isso garante que o runbook de sincronização que Olá pode executar comandos do Git.</span><span class="sxs-lookup"><span data-stu-id="0322a-146">This assures that hello Sync runbook can run Git commands.</span></span> 
5. <span data-ttu-id="0322a-147">Iniciar runbook Olá **LocalGitFolderToAutomationAccount de sincronização**, forneça a seguinte Olá necessário valores de parâmetro de entrada e no hello **iniciar Runbook** folha, na opção de saudação **executar configurações de** Selecione opção Olá **Hybrid Worker** e em Olá lista suspensa Olá selecione grupo do Hybrid worker criado anteriormente para este cenário:</span><span class="sxs-lookup"><span data-stu-id="0322a-147">Start hello runbook **Sync-LocalGitFolderToAutomationAccount**, provide hello following required input parameter values and in hello **Start Runbook** blade, under hello option **Run settings** select hello option **Hybrid Worker** and in hello drop-down list select hello Hybrid worker group you created earlier for this scenario:</span></span>
    * <span data-ttu-id="0322a-148">*ResourceGroup* - Olá nome do seu grupo de recursos associado à sua conta de automação</span><span class="sxs-lookup"><span data-stu-id="0322a-148">*ResourceGroup* - hello name of your resource group associated with your Automation account</span></span>
    * <span data-ttu-id="0322a-149">*AutomationAccountName* - Olá nome da sua conta de automação</span><span class="sxs-lookup"><span data-stu-id="0322a-149">*AutomationAccountName* - hello name of your Automation account</span></span>
    * <span data-ttu-id="0322a-150">*GitPath* - Olá pasta local ou de arquivo no hello Hybrid Runbook Worker onde Git é configurar toopull últimas alterações em</span><span class="sxs-lookup"><span data-stu-id="0322a-150">*GitPath* - hello local folder or file on hello Hybrid Runbook Worker where Git is set up toopull latest changes into</span></span>

    <span data-ttu-id="0322a-151">Isso será Olá local Git pasta Olá hybrid worker computador de sincronização e depois importe arquivos. ps1 de saudação do toohello diretório de origem Olá conta de automação.</span><span class="sxs-lookup"><span data-stu-id="0322a-151">This will sync hello local Git folder on hello hybrid worker computer and then import hello .ps1 files from hello source directory toohello Automation account.</span></span>

    ![Inicie Sync-LocalGitFolderToAutomationAccount Runbook](media/automation-scenario-source-control-integration-with-github-ent/start-runbook-synclocalgitfoldertoautoacct.png)<br>

7. <span data-ttu-id="0322a-153">Exibir detalhes de resumo do trabalho de runbook Olá selecionando-Olá **Runbooks** folha em conta de automação e, em seguida, selecione Olá **trabalhos** lado a lado.</span><span class="sxs-lookup"><span data-stu-id="0322a-153">View job summary details for hello runbook by selecting it from hello **Runbooks** blade in your Automation account, and then select hello **Jobs** tile.</span></span>  <span data-ttu-id="0322a-154">Confirme foi concluída com êxito, selecionando Olá **todos os logs** lado a lado e fluxo de log detalhado Olá revisão.</span><span class="sxs-lookup"><span data-stu-id="0322a-154">Confirm it completed successfully by selecting hello **All logs** tile and reviewing hello detailed log stream.</span></span>  

## <a name="next-steps"></a><span data-ttu-id="0322a-155">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="0322a-155">Next steps</span></span>

-  <span data-ttu-id="0322a-156">tooknow mais sobre os tipos de runbook, suas vantagens e limitações, consulte [tipos de runbook de automação do Azure](automation-runbook-types.md)</span><span class="sxs-lookup"><span data-stu-id="0322a-156">tooknow more about runbook types, their advantages and limitations, see [Azure Automation runbook types](automation-runbook-types.md)</span></span>
-  <span data-ttu-id="0322a-157">Para saber mais sobre o recurso de suporte de script do PowerShell, veja [Native PowerShell script support in Azure Automation (Suporte a scripts nativos do PowerShell na Automação do Azure)](https://azure.microsoft.com/blog/announcing-powershell-script-support-azure-automation-2/)</span><span class="sxs-lookup"><span data-stu-id="0322a-157">For more information on PowerShell script support feature, see [Native PowerShell script support in Azure Automation](https://azure.microsoft.com/blog/announcing-powershell-script-support-azure-automation-2/)</span></span>
