---
title: "Mensagens AS2 para integração de empresas B2B – Aplicativos Lógicos do Azure | Microsoft Docs"
description: "Troca de mensagens AS2 para integração corporativa B2B com Aplicativos Lógicos do Azure"
services: logic-apps
documentationcenter: .net,nodejs,java
author: MandiOhlinger
manager: anneta
editor: 
ms.assetid: c9b7e1a9-4791-474c-855f-988bd7bf4b7f
ms.service: logic-apps
ms.workload: integration
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/08/2017
ms.author: LADocs; mandia
ms.openlocfilehash: 91b2f16611b88aa4b9395ca301d88042065ad9dd
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="exchange-as2-messages-for-enterprise-integration-with-logic-apps"></a><span data-ttu-id="d828c-103">Troca de mensagens AS2 para integração empresarial com aplicativos lógicos</span><span class="sxs-lookup"><span data-stu-id="d828c-103">Exchange AS2 messages for enterprise integration with logic apps</span></span>

<span data-ttu-id="d828c-104">Para poder trocar mensagens AS2 para Aplicativos Lógicos do Azure, você deve criar um contrato AS2 e armazená-lo em sua conta de integração.</span><span class="sxs-lookup"><span data-stu-id="d828c-104">Before you can exchange AS2 messages for Azure Logic Apps, you must create an AS2 agreement and store that agreement in your integration account.</span></span> <span data-ttu-id="d828c-105">Aqui estão as etapas para criar um contrato AS2.</span><span class="sxs-lookup"><span data-stu-id="d828c-105">Here are the steps for how to create an AS2 agreement.</span></span>

## <a name="before-you-start"></a><span data-ttu-id="d828c-106">Antes de começar</span><span class="sxs-lookup"><span data-stu-id="d828c-106">Before you start</span></span>

<span data-ttu-id="d828c-107">Veja os itens necessários:</span><span class="sxs-lookup"><span data-stu-id="d828c-107">Here's the items you need:</span></span>

* <span data-ttu-id="d828c-108">Uma [conta de integração](../logic-apps/logic-apps-enterprise-integration-accounts.md) que já esteja definida e associada à sua assinatura do Azure</span><span class="sxs-lookup"><span data-stu-id="d828c-108">An [integration account](../logic-apps/logic-apps-enterprise-integration-accounts.md) that's already defined and associated with your Azure subscription</span></span>
* <span data-ttu-id="d828c-109">Pelo menos dois [parceiros](logic-apps-enterprise-integration-partners.md) que já estão definidos em sua conta de integração e configurados com o qualificador AS2 em **Identidades Comerciais**</span><span class="sxs-lookup"><span data-stu-id="d828c-109">At least two [partners](logic-apps-enterprise-integration-partners.md) that are already defined in your integration account and configured with the AS2 qualifier under **Business Identities**</span></span>

> [!NOTE]
> <span data-ttu-id="d828c-110">Ao criar um contrato, o conteúdo do arquivo do contrato deve corresponder ao tipo de contrato.</span><span class="sxs-lookup"><span data-stu-id="d828c-110">When you create an agreement, the content in the agreement file must match the agreement type.</span></span>    

<span data-ttu-id="d828c-111">Depois de [criar uma conta de integração](../logic-apps/logic-apps-enterprise-integration-accounts.md) e [adicionar os parceiros](logic-apps-enterprise-integration-partners.md), você pode criar um contrato AS2 seguindo estas etapas.</span><span class="sxs-lookup"><span data-stu-id="d828c-111">After you [create an integration account](../logic-apps/logic-apps-enterprise-integration-accounts.md) and [add partners](logic-apps-enterprise-integration-partners.md), you can create an AS2 agreement by following these steps.</span></span>

## <a name="create-an-as2-agreement"></a><span data-ttu-id="d828c-112">Criar um contrato AS2</span><span class="sxs-lookup"><span data-stu-id="d828c-112">Create an AS2 agreement</span></span>

1.  <span data-ttu-id="d828c-113">Entre no [portal do Azure](http://portal.azure.com "portal do Azure").</span><span class="sxs-lookup"><span data-stu-id="d828c-113">Sign in to the [Azure portal](http://portal.azure.com "Azure portal").</span></span>  

2.  <span data-ttu-id="d828c-114">No menu à esquerda, selecione **Mais serviços**.</span><span class="sxs-lookup"><span data-stu-id="d828c-114">From the left menu, select **More services**.</span></span> <span data-ttu-id="d828c-115">Na caixa de pesquisa, digite **integração** como filtro.</span><span class="sxs-lookup"><span data-stu-id="d828c-115">In the search box, enter **integration** as your filter.</span></span> <span data-ttu-id="d828c-116">Na lista de resultados, selecione **Contas de Integração**.</span><span class="sxs-lookup"><span data-stu-id="d828c-116">In the results list, select **Integration Accounts**.</span></span>

    > [!TIP]
    > <span data-ttu-id="d828c-117">Se você não encontrar a opção **Mais serviços**, talvez seja necessário expandir o menu primeiro.</span><span class="sxs-lookup"><span data-stu-id="d828c-117">If you don't see **More services**, you might have to expand the menu first.</span></span> <span data-ttu-id="d828c-118">Na parte superior do menu recolhido, selecione **Mostrar menu**.</span><span class="sxs-lookup"><span data-stu-id="d828c-118">At the top of the collapsed menu, select **Show menu**.</span></span>

    ![Mais serviços, filtre "integração" e selecione "Contas de Integração"](./media/logic-apps-enterprise-integration-agreements/overview-1.png)

3. <span data-ttu-id="d828c-120">Quando a folha **Contas de integração** abrir, selecione a conta de integração onde você deseja criar o contrato.</span><span class="sxs-lookup"><span data-stu-id="d828c-120">In the **Integration Accounts** blade that opens, select the integration account where you want to create the agreement.</span></span>
<span data-ttu-id="d828c-121">Caso não encontre nenhuma conta de integração, [crie uma primeiro](../logic-apps/logic-apps-enterprise-integration-accounts.md "O que é uma conta de integração?").</span><span class="sxs-lookup"><span data-stu-id="d828c-121">If you don't see any integration accounts, [create one first](../logic-apps/logic-apps-enterprise-integration-accounts.md "All about integration accounts").</span></span>  

    ![Selecione a conta de integração em que o contrato deve ser criado](./media/logic-apps-enterprise-integration-overview/overview-3.png)

4. <span data-ttu-id="d828c-123">Escolha o bloco **Contratos**.</span><span class="sxs-lookup"><span data-stu-id="d828c-123">Choose the **Agreements** tile.</span></span> <span data-ttu-id="d828c-124">Se não tiver um bloco de Contratos, primeiro adicione o bloco.</span><span class="sxs-lookup"><span data-stu-id="d828c-124">If you don't have an Agreements tile, add the tile first.</span></span>

    ![Escolha o bloco de "Contratos"](./media/logic-apps-enterprise-integration-agreements/agreement-1.png)

5. <span data-ttu-id="d828c-126">Quando a folha "Contratos" abrir, selecione **Adicionar**.</span><span class="sxs-lookup"><span data-stu-id="d828c-126">In the Agreements blade that opens, choose **Add**.</span></span>

    ![Escolha "Adicionar"](./media/logic-apps-enterprise-integration-agreements/agreement-2.png)

6. <span data-ttu-id="d828c-128">Em **Adicionar**, insira um **Nome** para o seu contrato.</span><span class="sxs-lookup"><span data-stu-id="d828c-128">Under **Add**, enter a **Name** for your agreement.</span></span> <span data-ttu-id="d828c-129">Para **Tipo de contrato**, selecione **AS2**.</span><span class="sxs-lookup"><span data-stu-id="d828c-129">For **Agreement type**, select **AS2**.</span></span> <span data-ttu-id="d828c-130">Selecione o **Parceiro Host**, a **Identidade do Host**, o **Parceiro Convidado** e a **Identidade do Convidado** para o contrato.</span><span class="sxs-lookup"><span data-stu-id="d828c-130">Select the **Host Partner**, **Host Identity**, **Guest Partner**, and **Guest Identity** for your agreement.</span></span>

    ![Fornecer detalhes de contrato](./media/logic-apps-enterprise-integration-agreements/agreement-3.png)  

    | <span data-ttu-id="d828c-132">Propriedade</span><span class="sxs-lookup"><span data-stu-id="d828c-132">Property</span></span> | <span data-ttu-id="d828c-133">Descrição</span><span class="sxs-lookup"><span data-stu-id="d828c-133">Description</span></span> |
    | --- | --- |
    | <span data-ttu-id="d828c-134">Nome</span><span class="sxs-lookup"><span data-stu-id="d828c-134">Name</span></span> |<span data-ttu-id="d828c-135">Nome do contrato</span><span class="sxs-lookup"><span data-stu-id="d828c-135">Name of the agreement</span></span> |
    | <span data-ttu-id="d828c-136">Tipo de contrato</span><span class="sxs-lookup"><span data-stu-id="d828c-136">Agreement Type</span></span> | <span data-ttu-id="d828c-137">Deve ser AS2</span><span class="sxs-lookup"><span data-stu-id="d828c-137">Should be AS2</span></span> |
    | <span data-ttu-id="d828c-138">Parceiro de Host</span><span class="sxs-lookup"><span data-stu-id="d828c-138">Host Partner</span></span> |<span data-ttu-id="d828c-139">Um contrato precisa dos parceiros host e convidado.</span><span class="sxs-lookup"><span data-stu-id="d828c-139">An agreement needs both a host and guest partner.</span></span> <span data-ttu-id="d828c-140">O parceiro host representa a organização que está configurando o contrato.</span><span class="sxs-lookup"><span data-stu-id="d828c-140">The host partner represents the organization that configures the agreement.</span></span> |
    | <span data-ttu-id="d828c-141">Identidade do Host</span><span class="sxs-lookup"><span data-stu-id="d828c-141">Host Identity</span></span> |<span data-ttu-id="d828c-142">Um identificador para o parceiro host</span><span class="sxs-lookup"><span data-stu-id="d828c-142">An identifier for the host partner</span></span> |
    | <span data-ttu-id="d828c-143">Parceiro Convidado</span><span class="sxs-lookup"><span data-stu-id="d828c-143">Guest Partner</span></span> |<span data-ttu-id="d828c-144">Um contrato precisa dos parceiros host e convidado.</span><span class="sxs-lookup"><span data-stu-id="d828c-144">An agreement needs both a host and guest partner.</span></span> <span data-ttu-id="d828c-145">O parceiro convidado representa a organização que está fazendo negócios com o parceiro host.</span><span class="sxs-lookup"><span data-stu-id="d828c-145">The guest partner represents the organization that's doing business with the host partner.</span></span> |
    | <span data-ttu-id="d828c-146">Identidade do Convidado</span><span class="sxs-lookup"><span data-stu-id="d828c-146">Guest Identity</span></span> |<span data-ttu-id="d828c-147">Um identificador para o parceiro convidado</span><span class="sxs-lookup"><span data-stu-id="d828c-147">An identifier for the guest partner</span></span> |
    | <span data-ttu-id="d828c-148">Configurações de Recebimento</span><span class="sxs-lookup"><span data-stu-id="d828c-148">Receive Settings</span></span> |<span data-ttu-id="d828c-149">Essas propriedades se aplicam a todas as mensagens recebidas por um contrato.</span><span class="sxs-lookup"><span data-stu-id="d828c-149">These properties apply to all messages received by an agreement.</span></span> |
    | <span data-ttu-id="d828c-150">Configurações de Envio</span><span class="sxs-lookup"><span data-stu-id="d828c-150">Send Settings</span></span> |<span data-ttu-id="d828c-151">Essas propriedades se aplicam a todas as mensagens enviadas por um contrato.</span><span class="sxs-lookup"><span data-stu-id="d828c-151">These properties apply to all messages sent by an agreement.</span></span> |

## <a name="configure-how-your-agreement-handles-received-messages"></a><span data-ttu-id="d828c-152">Configurar como seu contrato lida com mensagens recebidas</span><span class="sxs-lookup"><span data-stu-id="d828c-152">Configure how your agreement handles received messages</span></span>

<span data-ttu-id="d828c-153">Depois de configurar as propriedades do contrato, você pode configurar como este contrato identifica e manipula mensagens de entrada recebidas do seu parceiro por meio deste contrato.</span><span class="sxs-lookup"><span data-stu-id="d828c-153">Now that you've set the agreement properties, you can configure how this agreement identifies and handles incoming messages received from your partner through this agreement.</span></span>

1.  <span data-ttu-id="d828c-154">Em **Adicionar**, selecione **Configurações de Recebimento**.</span><span class="sxs-lookup"><span data-stu-id="d828c-154">Under **Add**, select **Receive Settings**.</span></span>
<span data-ttu-id="d828c-155">Configure essas propriedades com base em seu contrato com o parceiro que troca mensagens com você.</span><span class="sxs-lookup"><span data-stu-id="d828c-155">Configure these properties based on your agreement with the partner that exchanges messages with you.</span></span> <span data-ttu-id="d828c-156">Para obter descrições de propriedades, confira a tabela nesta seção.</span><span class="sxs-lookup"><span data-stu-id="d828c-156">For property descriptions, see the table in this section.</span></span>

    ![Configure "Configurações de recebimento"](./media/logic-apps-enterprise-integration-agreements/agreement-4.png)

2. <span data-ttu-id="d828c-158">Você também pode substituir as propriedades de mensagens de entrada selecionando **Substituir as propriedades de mensagem**.</span><span class="sxs-lookup"><span data-stu-id="d828c-158">Optionally, you can override the properties of incoming messages by selecting **Override message properties**.</span></span>

3. <span data-ttu-id="d828c-159">Para exigir que todas as mensagens recebidas sejam assinadas, selecione **A mensagem deve ser assinada**.</span><span class="sxs-lookup"><span data-stu-id="d828c-159">To require all incoming messages to be signed, select **Message should be signed**.</span></span> <span data-ttu-id="d828c-160">Na lista **Certificado**, selecione um [certificado público de parceiro convidado](../logic-apps/logic-apps-enterprise-integration-certificates.md) existente para validar a assinatura nas mensagens.</span><span class="sxs-lookup"><span data-stu-id="d828c-160">From the **Certificate** list, select an existing [guest partner public certificate](../logic-apps/logic-apps-enterprise-integration-certificates.md) for validating the signature on the messages.</span></span> <span data-ttu-id="d828c-161">Ou crie o certificado, se você não tiver um.</span><span class="sxs-lookup"><span data-stu-id="d828c-161">Or create the certificate, if you don't have one.</span></span>

4.  <span data-ttu-id="d828c-162">Para exigir que todas as mensagens de entrada sejam criptografadas, selecione **Mensagem deve ser criptografada**.</span><span class="sxs-lookup"><span data-stu-id="d828c-162">To require all incoming messages to be encrypted, select **Message should be encrypted**.</span></span> <span data-ttu-id="d828c-163">Na lista **Certificado**, selecione um [certificado privado de parceiro host](../logic-apps/logic-apps-enterprise-integration-certificates.md) existente para descriptografar as mensagens de entrada.</span><span class="sxs-lookup"><span data-stu-id="d828c-163">From the **Certificate** list, select an existing [host partner private certificate](../logic-apps/logic-apps-enterprise-integration-certificates.md) for decrypting incoming messages.</span></span> <span data-ttu-id="d828c-164">Ou crie o certificado, se você não tiver um.</span><span class="sxs-lookup"><span data-stu-id="d828c-164">Or create the certificate, if you don't have one.</span></span>

5. <span data-ttu-id="d828c-165">Para exigir que as mensagens sejam compactadas, selecione **A mensagem deve ser compactada**.</span><span class="sxs-lookup"><span data-stu-id="d828c-165">To require messages to be compressed, select **Message should be compressed**.</span></span>

6. <span data-ttu-id="d828c-166">Para enviar uma notificação de disposição de mensagens (MDN) síncrona das mensagens recebidas, selecione **Enviar MDN**.</span><span class="sxs-lookup"><span data-stu-id="d828c-166">To send a synchronous message disposition notification (MDN) for received messages, select **Send MDN**.</span></span>

7. <span data-ttu-id="d828c-167">Para enviar MDNs assinadas para mensagens recebidas, selecione **Enviar MDN assinada**.</span><span class="sxs-lookup"><span data-stu-id="d828c-167">To send signed MDNs for received messages, select **Send signed MDN**.</span></span>

8. <span data-ttu-id="d828c-168">Para enviar MDNs assíncronas para mensagens recebidas, selecione **Enviar MDN assíncrona**.</span><span class="sxs-lookup"><span data-stu-id="d828c-168">To send asynchronous MDNs for received messages, select **Send asynchronous MDN**.</span></span>

9. <span data-ttu-id="d828c-169">Após terminar, salve suas configurações, escolhendo **OK**.</span><span class="sxs-lookup"><span data-stu-id="d828c-169">After you're done, make sure to save your settings by choosing **OK**.</span></span>

<span data-ttu-id="d828c-170">Agora o contrato está pronto para lidar com mensagens de entrada de acordo com as configurações selecionadas.</span><span class="sxs-lookup"><span data-stu-id="d828c-170">Now your agreement is ready to handle incoming messages that conform to your selected settings.</span></span>

| <span data-ttu-id="d828c-171">Propriedade</span><span class="sxs-lookup"><span data-stu-id="d828c-171">Property</span></span> | <span data-ttu-id="d828c-172">Descrição</span><span class="sxs-lookup"><span data-stu-id="d828c-172">Description</span></span> |
| --- | --- |
| <span data-ttu-id="d828c-173">Substituir as propriedades de mensagem</span><span class="sxs-lookup"><span data-stu-id="d828c-173">Override message properties</span></span> |<span data-ttu-id="d828c-174">Indica que as propriedades nas mensagens recebidas podem ser substituídas.</span><span class="sxs-lookup"><span data-stu-id="d828c-174">Indicates that properties in received messages can be overridden.</span></span> |
| <span data-ttu-id="d828c-175">Mensagem deve ser assinada</span><span class="sxs-lookup"><span data-stu-id="d828c-175">Message should be signed</span></span> |<span data-ttu-id="d828c-176">Exige que as mensagens sejam assinadas digitalmente.</span><span class="sxs-lookup"><span data-stu-id="d828c-176">Requires messages to be digitally signed.</span></span> <span data-ttu-id="d828c-177">Configura o certificado público do parceiro convidado para verificação de assinatura.</span><span class="sxs-lookup"><span data-stu-id="d828c-177">Configure the guest partner public certificate for signature verification.</span></span>  |
| <span data-ttu-id="d828c-178">Mensagem deve ser criptografada</span><span class="sxs-lookup"><span data-stu-id="d828c-178">Message should be encrypted</span></span> |<span data-ttu-id="d828c-179">Exige que as mensagens sejam criptografadas.</span><span class="sxs-lookup"><span data-stu-id="d828c-179">Requires messages to be encrypted.</span></span> <span data-ttu-id="d828c-180">Mensagens não criptografadas são rejeitadas.</span><span class="sxs-lookup"><span data-stu-id="d828c-180">Non-encrypted messages are rejected.</span></span> <span data-ttu-id="d828c-181">Configura o certificado particular do parceiro do host para descriptografar as mensagens.</span><span class="sxs-lookup"><span data-stu-id="d828c-181">Configure the host partner private certificate for decrypting the messages.</span></span>  |
| <span data-ttu-id="d828c-182">Mensagem deve ser compactada</span><span class="sxs-lookup"><span data-stu-id="d828c-182">Message should be compressed</span></span> |<span data-ttu-id="d828c-183">Exige que as mensagens sejam compactadas.</span><span class="sxs-lookup"><span data-stu-id="d828c-183">Requires messages to be compressed.</span></span> <span data-ttu-id="d828c-184">Mensagens não compactadas são rejeitadas.</span><span class="sxs-lookup"><span data-stu-id="d828c-184">Non-compressed messages are rejected.</span></span> |
| <span data-ttu-id="d828c-185">Texto MDN</span><span class="sxs-lookup"><span data-stu-id="d828c-185">MDN Text</span></span> |<span data-ttu-id="d828c-186">A notificação de disposição de mensagem (MDN) padrão a ser enviada para o remetente da mensagem.</span><span class="sxs-lookup"><span data-stu-id="d828c-186">The default message disposition notification (MDN) to be sent to the message sender.</span></span> |
| <span data-ttu-id="d828c-187">Enviar MDN</span><span class="sxs-lookup"><span data-stu-id="d828c-187">Send MDN</span></span> |<span data-ttu-id="d828c-188">Exige que MDNs sejam enviadas.</span><span class="sxs-lookup"><span data-stu-id="d828c-188">Requires MDNs to be sent.</span></span> |
| <span data-ttu-id="d828c-189">Enviar MDN assinada</span><span class="sxs-lookup"><span data-stu-id="d828c-189">Send signed MDN</span></span> |<span data-ttu-id="d828c-190">Exige que MDNs sejam assinadas.</span><span class="sxs-lookup"><span data-stu-id="d828c-190">Requires MDNs to be signed.</span></span> |
| <span data-ttu-id="d828c-191">Algoritmo de Controle de Integridade de Credenciais</span><span class="sxs-lookup"><span data-stu-id="d828c-191">MIC Algorithm</span></span> |<span data-ttu-id="d828c-192">Selecione o algoritmo a ser usado para assinar mensagens.</span><span class="sxs-lookup"><span data-stu-id="d828c-192">Select the algorithm to use for signing messages.</span></span> |
| <span data-ttu-id="d828c-193">Enviar MDN assíncrona</span><span class="sxs-lookup"><span data-stu-id="d828c-193">Send asynchronous MDN</span></span> | <span data-ttu-id="d828c-194">Exige que as mensagens sejam enviadas de forma assíncrona.</span><span class="sxs-lookup"><span data-stu-id="d828c-194">Requires messages to be sent asynchronously.</span></span> |
| <span data-ttu-id="d828c-195">URL</span><span class="sxs-lookup"><span data-stu-id="d828c-195">URL</span></span> | <span data-ttu-id="d828c-196">Especifique a URL para a qual enviar os MDNs.</span><span class="sxs-lookup"><span data-stu-id="d828c-196">Specify the URL where to send the MDNs.</span></span> |

## <a name="configure-how-your-agreement-sends-messages"></a><span data-ttu-id="d828c-197">Configurar como seu contrato envia mensagens</span><span class="sxs-lookup"><span data-stu-id="d828c-197">Configure how your agreement sends messages</span></span>

<span data-ttu-id="d828c-198">Você pode configurar como este contrato identifica e trata mensagens de saída enviadas a seus parceiros por meio deste contrato.</span><span class="sxs-lookup"><span data-stu-id="d828c-198">You can configure how this agreement identifies and handles outgoing messages that you send to your partners through this agreement.</span></span>

1.  <span data-ttu-id="d828c-199">Em **Adicionar**, selecione **Configurações de Envio**.</span><span class="sxs-lookup"><span data-stu-id="d828c-199">Under **Add**, select **Send Settings**.</span></span>
<span data-ttu-id="d828c-200">Configure essas propriedades com base em seu contrato com o parceiro que troca mensagens com você.</span><span class="sxs-lookup"><span data-stu-id="d828c-200">Configure these properties based on your agreement with the partner that exchanges messages with you.</span></span> <span data-ttu-id="d828c-201">Para obter descrições de propriedades, confira a tabela nesta seção.</span><span class="sxs-lookup"><span data-stu-id="d828c-201">For property descriptions, see the table in this section.</span></span>

    ![Definição das propriedades de "Configurações de Envio"](./media/logic-apps-enterprise-integration-agreements/agreement-51.png)

2. <span data-ttu-id="d828c-203">Para enviar mensagens assinadas a seu parceiro, selecione **Habilitar a assinatura de mensagens**.</span><span class="sxs-lookup"><span data-stu-id="d828c-203">To send signed messages to your partner, select **Enable message signing**.</span></span> <span data-ttu-id="d828c-204">Para assinar as mensagens, na lista **Algoritmo MIC**, selecione o *algoritmo MIC de certificado privado de parceiro host*.</span><span class="sxs-lookup"><span data-stu-id="d828c-204">For signing the messages, in the **MIC Algorithm** list, select the *host partner private certificate MIC Algorithm*.</span></span> <span data-ttu-id="d828c-205">E, na lista de **Certificados**, selecione um [certificado particular de parceiro host](../logic-apps/logic-apps-enterprise-integration-certificates.md) existente.</span><span class="sxs-lookup"><span data-stu-id="d828c-205">And in the **Certificate** list, select an existing [host partner private certificate](../logic-apps/logic-apps-enterprise-integration-certificates.md).</span></span>

3. <span data-ttu-id="d828c-206">Para enviar mensagens criptografadas ao parceiro, selecione **Habilitar a criptografia de mensagens**.</span><span class="sxs-lookup"><span data-stu-id="d828c-206">To send encrypted messages to the partner, select **Enable message encryption**.</span></span> <span data-ttu-id="d828c-207">Para criptografar as mensagens, na lista **Algoritmo de Criptografia**, selecione o *algoritmo de certificado público de parceiro convidado*.</span><span class="sxs-lookup"><span data-stu-id="d828c-207">For encrypting the messages, in the **Encryption Algorithm** list, select the *guest partner public certificate algorithm*.</span></span>
<span data-ttu-id="d828c-208">E, na lista de **Certificados**, selecione um [certificado público de parceiro convidado](../logic-apps/logic-apps-enterprise-integration-certificates.md) existente.</span><span class="sxs-lookup"><span data-stu-id="d828c-208">And in the **Certificate** list, select an existing [guest partner public certificate](../logic-apps/logic-apps-enterprise-integration-certificates.md).</span></span>

4. <span data-ttu-id="d828c-209">Para compactar a mensagem, selecione **Habilitar a compactação de mensagem**.</span><span class="sxs-lookup"><span data-stu-id="d828c-209">To compress the message, select **Enable message compression**.</span></span>

5. <span data-ttu-id="d828c-210">Para desdobrar o cabeçalho de tipo de conteúdo HTTP em uma única linha, selecione **Desdobrar cabeçalhos HTTP**.</span><span class="sxs-lookup"><span data-stu-id="d828c-210">To unfold the HTTP content-type header into a single line, select **Unfold HTTP headers**.</span></span>

6. <span data-ttu-id="d828c-211">Para receber MDNs síncronas para mensagens enviadas, selecione **Solicitar MDN**.</span><span class="sxs-lookup"><span data-stu-id="d828c-211">To receive synchronous MDNs for the sent messages, select **Request MDN**.</span></span>

7. <span data-ttu-id="d828c-212">Para receber MDNs assinadas para mensagens enviadas, selecione **Solicitar MDN assinada**.</span><span class="sxs-lookup"><span data-stu-id="d828c-212">To receive signed MDNs for the sent messages, select **Request signed MDN**.</span></span>

8. <span data-ttu-id="d828c-213">Para receber MDNs assíncronas para mensagens enviadas, selecione **Solicitar MDN assíncrona**.</span><span class="sxs-lookup"><span data-stu-id="d828c-213">To receive asynchronous MDNs for the sent messages, select **Request asynchronous MDN**.</span></span> <span data-ttu-id="d828c-214">Se selecionar essa opção, insira a URL para onde enviar as MDNs.</span><span class="sxs-lookup"><span data-stu-id="d828c-214">If you select this option, enter the URL for where to send the MDNs.</span></span>

9. <span data-ttu-id="d828c-215">Para exigir o não repúdio de recebimento, selecione **Habilitar NRR**.</span><span class="sxs-lookup"><span data-stu-id="d828c-215">To require non-repudiation of receipt, select **Enable NRR**.</span></span>  

10. <span data-ttu-id="d828c-216">Para especificar o formato de algoritmo para usar no MIC ou na assinatura dos cabeçalhos de saída da mensagem AS2 ou MDN, selecione **Formato de Algoritmo SHA2**.</span><span class="sxs-lookup"><span data-stu-id="d828c-216">To specify algorithm format to use in the MIC or signing in the outgoing headers of the AS2 message or MDN, select **SHA2 Algorithm format**.</span></span>  

11. <span data-ttu-id="d828c-217">Após terminar, salve suas configurações, escolhendo **OK**.</span><span class="sxs-lookup"><span data-stu-id="d828c-217">After you're done, make sure to save your settings by choosing **OK**.</span></span>

<span data-ttu-id="d828c-218">Agora o contrato está pronto para lidar com mensagens de saída de acordo com as configurações selecionadas.</span><span class="sxs-lookup"><span data-stu-id="d828c-218">Now your agreement is ready to handle outgoing messages that conform to your selected settings.</span></span>

| <span data-ttu-id="d828c-219">Propriedade</span><span class="sxs-lookup"><span data-stu-id="d828c-219">Property</span></span> | <span data-ttu-id="d828c-220">Descrição</span><span class="sxs-lookup"><span data-stu-id="d828c-220">Description</span></span> |
| --- | --- |
| <span data-ttu-id="d828c-221">Habilitar a assinatura de mensagens</span><span class="sxs-lookup"><span data-stu-id="d828c-221">Enable message signing</span></span> |<span data-ttu-id="d828c-222">Exige que todas as mensagens enviadas do contrato sejam assinadas.</span><span class="sxs-lookup"><span data-stu-id="d828c-222">Requires all messages that are sent from the agreement to be signed.</span></span> |
| <span data-ttu-id="d828c-223">Algoritmo de Controle de Integridade de Credenciais</span><span class="sxs-lookup"><span data-stu-id="d828c-223">MIC Algorithm</span></span> |<span data-ttu-id="d828c-224">O algoritmo a ser usado para assinar mensagens.</span><span class="sxs-lookup"><span data-stu-id="d828c-224">The algorithm to use for signing messages.</span></span> <span data-ttu-id="d828c-225">Configura o Algoritmo MIC do certificado particular do parceiro do host para assinar as mensagens.</span><span class="sxs-lookup"><span data-stu-id="d828c-225">Configures the host partner private certificate MIC Algorithm for signing the messages.</span></span> |
| <span data-ttu-id="d828c-226">Certificado</span><span class="sxs-lookup"><span data-stu-id="d828c-226">Certificate</span></span> |<span data-ttu-id="d828c-227">Selecione o certificado a ser usado para assinar mensagens.</span><span class="sxs-lookup"><span data-stu-id="d828c-227">Select the certificate to use for signing messages.</span></span> <span data-ttu-id="d828c-228">Configura o certificado particular do parceiro do host para assinar as mensagens.</span><span class="sxs-lookup"><span data-stu-id="d828c-228">Configures the host partner private certificate for signing the messages.</span></span> |
| <span data-ttu-id="d828c-229">Habilitar a criptografia de mensagem</span><span class="sxs-lookup"><span data-stu-id="d828c-229">Enable message encryption</span></span> |<span data-ttu-id="d828c-230">Exige a criptografia de todas as mensagens enviadas deste contrato.</span><span class="sxs-lookup"><span data-stu-id="d828c-230">Requires encryption of all messages that are sent from this agreement.</span></span> <span data-ttu-id="d828c-231">Configura o algoritmo do certificado público do parceiro convidado para criptografar as mensagens.</span><span class="sxs-lookup"><span data-stu-id="d828c-231">Configures the guest partner public certificate algorithm for encrypting the messages.</span></span> |
| <span data-ttu-id="d828c-232">Algoritmo de Criptografia</span><span class="sxs-lookup"><span data-stu-id="d828c-232">Encryption Algorithm</span></span> |<span data-ttu-id="d828c-233">O algoritmo de criptografia a ser usado na criptografia de mensagens.</span><span class="sxs-lookup"><span data-stu-id="d828c-233">The encryption algorithm to use for message encryption.</span></span> <span data-ttu-id="d828c-234">Configura o certificado público do parceiro convidado para criptografar as mensagens.</span><span class="sxs-lookup"><span data-stu-id="d828c-234">Configures the guest partner public certificate for encrypting the messages.</span></span> |
| <span data-ttu-id="d828c-235">Certificado</span><span class="sxs-lookup"><span data-stu-id="d828c-235">Certificate</span></span> |<span data-ttu-id="d828c-236">O certificado a ser usado para criptografar as mensagens.</span><span class="sxs-lookup"><span data-stu-id="d828c-236">The certificate to use to encrypt messages.</span></span> <span data-ttu-id="d828c-237">Configura o certificado privado do parceiro convidado para criptografar as mensagens.</span><span class="sxs-lookup"><span data-stu-id="d828c-237">Configures the guest partner private certificate for encrypting the messages.</span></span> |
| <span data-ttu-id="d828c-238">Habilitar a compactação de mensagem</span><span class="sxs-lookup"><span data-stu-id="d828c-238">Enable message compression</span></span> |<span data-ttu-id="d828c-239">Exige a compressão de todas as mensagens enviadas deste contrato.</span><span class="sxs-lookup"><span data-stu-id="d828c-239">Requires compression of all messages that are sent from this agreement.</span></span> |
| <span data-ttu-id="d828c-240">Desdobrar cabeçalhos HTTP</span><span class="sxs-lookup"><span data-stu-id="d828c-240">Unfold HTTP headers</span></span> |<span data-ttu-id="d828c-241">Posiciona o cabeçalho de tipo de conteúdo HTTP em uma única linha.</span><span class="sxs-lookup"><span data-stu-id="d828c-241">Places the HTTP content-type header onto a single line.</span></span> |
| <span data-ttu-id="d828c-242">Solicitar MDN</span><span class="sxs-lookup"><span data-stu-id="d828c-242">Request MDN</span></span> |<span data-ttu-id="d828c-243">Exige uma MDN de todas as mensagens enviadas deste contrato.</span><span class="sxs-lookup"><span data-stu-id="d828c-243">Requires an MDN for all messages that are sent from this agreement.</span></span> |
| <span data-ttu-id="d828c-244">Solicitar MDN assinada</span><span class="sxs-lookup"><span data-stu-id="d828c-244">Request signed MDN</span></span> |<span data-ttu-id="d828c-245">Exige que todas as MDNs enviadas para este contrato sejam assinadas.</span><span class="sxs-lookup"><span data-stu-id="d828c-245">Requires all MDNs that are sent to this agreement to be signed.</span></span> |
| <span data-ttu-id="d828c-246">Solicitar MDN assíncrona</span><span class="sxs-lookup"><span data-stu-id="d828c-246">Request asynchronous MDN</span></span> |<span data-ttu-id="d828c-247">Exige que as MDNs assíncronas sejam enviadas para este contrato.</span><span class="sxs-lookup"><span data-stu-id="d828c-247">Requires asynchronous MDNs to be sent to this agreement.</span></span> |
| <span data-ttu-id="d828c-248">URL</span><span class="sxs-lookup"><span data-stu-id="d828c-248">URL</span></span> |<span data-ttu-id="d828c-249">Especifique a URL para a qual enviar os MDNs.</span><span class="sxs-lookup"><span data-stu-id="d828c-249">Specify the URL where to send the MDNs.</span></span> |
| <span data-ttu-id="d828c-250">Habilitar NRR</span><span class="sxs-lookup"><span data-stu-id="d828c-250">Enable NRR</span></span> |<span data-ttu-id="d828c-251">Requer o não-repúdio de recebimento (NRR), um atributo de comunicação que fornece evidência de que os dados foram recebidos conforme endereçados.</span><span class="sxs-lookup"><span data-stu-id="d828c-251">Requires non-repudiation of receipt (NRR), a communication attribute that provides evidence that the data was received as addressed.</span></span> |
| <span data-ttu-id="d828c-252">Formato de algoritmo SHA2</span><span class="sxs-lookup"><span data-stu-id="d828c-252">SHA2 Algorithm format</span></span> |<span data-ttu-id="d828c-253">Selecione o formato de algoritmo para usar no MIC ou na assinatura dos cabeçalhos de saída da mensagem AS2 ou MDN</span><span class="sxs-lookup"><span data-stu-id="d828c-253">Select algorithm format to use in the MIC or signing in the outgoing headers of the AS2 message or MDN</span></span> |

## <a name="find-your-created-agreement"></a><span data-ttu-id="d828c-254">Como localizar seu contrato criado</span><span class="sxs-lookup"><span data-stu-id="d828c-254">Find your created agreement</span></span>

1.  <span data-ttu-id="d828c-255">Depois que você terminar de definir todas as suas propriedades de contrato, na folha **Adicionar**, escolha **OK** para terminar de criar o contrato e retornar para a folha da conta de integração.</span><span class="sxs-lookup"><span data-stu-id="d828c-255">After you finish setting all your agreement properties, on the **Add** blade, choose **OK** to finish creating your agreement and return to your integration account blade.</span></span>

    <span data-ttu-id="d828c-256">Agora seu contrato recém-adicionado é exibido na lista **Contratos**.</span><span class="sxs-lookup"><span data-stu-id="d828c-256">Your newly added agreement now appears in your **Agreements** list.</span></span>

2.  <span data-ttu-id="d828c-257">Você também pode visualizar seus contratos na visão geral de conta de integração.</span><span class="sxs-lookup"><span data-stu-id="d828c-257">You can also view your agreements in your integration account overview.</span></span> <span data-ttu-id="d828c-258">Na folha de conta de integração, escolha **Visão geral** e selecione o bloco **Contratos**.</span><span class="sxs-lookup"><span data-stu-id="d828c-258">On your integration account blade, choose **Overview**, then select the **Agreements** tile.</span></span> 

    ![Escolha o bloco de "Contratos" para exibir todos os contratos](./media/logic-apps-enterprise-integration-agreements/agreement-6.png)

## <a name="view-the-swagger"></a><span data-ttu-id="d828c-260">Exibir o Swagger</span><span class="sxs-lookup"><span data-stu-id="d828c-260">View the swagger</span></span>
<span data-ttu-id="d828c-261">Consulte os [detalhes do Swagger](/connectors/as2/).</span><span class="sxs-lookup"><span data-stu-id="d828c-261">See the [swagger details](/connectors/as2/).</span></span> 

## <a name="next-steps"></a><span data-ttu-id="d828c-262">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="d828c-262">Next steps</span></span>
* [<span data-ttu-id="d828c-263">Saiba mais sobre o Enterprise Integration Pack</span><span class="sxs-lookup"><span data-stu-id="d828c-263">Learn more about the Enterprise Integration Pack</span></span>](logic-apps-enterprise-integration-overview.md "Saiba mais sobre o Enterprise Integration Pack")  
