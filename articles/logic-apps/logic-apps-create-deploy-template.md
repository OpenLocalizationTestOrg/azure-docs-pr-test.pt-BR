---
title: "modelos de implantação de aaaCreate para os aplicativos lógicos do Azure | Microsoft Docs"
description: "Criar modelos do Azure Resource Manager para implantação de aplicativos lógicos e gerenciamento de versão"
services: logic-apps
documentationcenter: .net,nodejs,java
author: jeffhollan
manager: anneta
editor: 
ms.assetid: 85928ec6-d7cb-488e-926e-2e5db89508ee
ms.service: logic-apps
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: integration
ms.custom: H1Hack27Feb2017
ms.date: 10/18/2016
ms.author: LADocs; jehollan
ms.openlocfilehash: 2f09445f10a376a745d6acbba94ca29d5f79fc09
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="create-templates-for-logic-apps-deployment-and-release-management"></a><span data-ttu-id="8fdee-103">Criar modelos para implantação de aplicativos lógicos e gerenciamento de versão</span><span class="sxs-lookup"><span data-stu-id="8fdee-103">Create templates for logic apps deployment and release management</span></span>

<span data-ttu-id="8fdee-104">Depois que um aplicativo lógico foi criado, você poderá toocreate-lo como um modelo do Gerenciador de recursos do Azure.</span><span class="sxs-lookup"><span data-stu-id="8fdee-104">After a logic app has been created, you might want toocreate it as an Azure Resource Manager template.</span></span>
<span data-ttu-id="8fdee-105">Dessa forma, você pode implantar facilmente o ambiente de tooany aplicativo hello lógica ou grupo de recursos onde você pode precisar dela.</span><span class="sxs-lookup"><span data-stu-id="8fdee-105">This way, you can easily deploy hello logic app tooany environment or resource group where you might need it.</span></span>
<span data-ttu-id="8fdee-106">Para obter mais informações sobre modelos do Resource Manager, consulte [Criando modelos do Azure Resource Manager](../azure-resource-manager/resource-group-authoring-templates.md) e [Implantando recursos usando modelos do Azure Resource Manager](../azure-resource-manager/resource-group-template-deploy.md).</span><span class="sxs-lookup"><span data-stu-id="8fdee-106">For more about Resource Manager templates, see [authoring Azure Resource Manager templates](../azure-resource-manager/resource-group-authoring-templates.md) and [deploying resources by using Azure Resource Manager templates](../azure-resource-manager/resource-group-template-deploy.md).</span></span>

## <a name="logic-app-deployment-template"></a><span data-ttu-id="8fdee-107">Modelo de implantação do aplicativo lógico</span><span class="sxs-lookup"><span data-stu-id="8fdee-107">Logic app deployment template</span></span>

<span data-ttu-id="8fdee-108">Um aplicativo lógico tem três componentes básicos:</span><span class="sxs-lookup"><span data-stu-id="8fdee-108">A logic app has three basic components:</span></span>

* <span data-ttu-id="8fdee-109">**Recursos de aplicativo lógica**: contém informações sobre preços do plano, o local e a definição de fluxo de trabalho de saudação.</span><span class="sxs-lookup"><span data-stu-id="8fdee-109">**Logic app resource**: Contains information about things like pricing plan, location, and hello workflow definition.</span></span>
* <span data-ttu-id="8fdee-110">**Definição de fluxo de trabalho**: descreve as etapas do fluxo de trabalho e como mecanismo de aplicativos lógicos Olá deve executar o fluxo de trabalho Olá lógica do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="8fdee-110">**Workflow definition**: Describes your logic app's workflow steps and how hello Logic Apps engine should execute hello workflow.</span></span>
<span data-ttu-id="8fdee-111">É possível exibir essa definição na janela **Modo de Exibição de Código** do aplicativo lógico.</span><span class="sxs-lookup"><span data-stu-id="8fdee-111">You can view this definition in your logic app's **Code View** window.</span></span>
<span data-ttu-id="8fdee-112">No recurso de aplicativo do hello lógica, você pode encontrar essa definição no hello `definition` propriedade.</span><span class="sxs-lookup"><span data-stu-id="8fdee-112">In hello logic app resource, you can find this definition in hello `definition` property.</span></span>
* <span data-ttu-id="8fdee-113">**Conexões**: refere-se a recursos de tooseparate que armazenam com segurança os metadados sobre todas as conexões conector, como uma cadeia de caracteres de conexão e um token de acesso.</span><span class="sxs-lookup"><span data-stu-id="8fdee-113">**Connections**: Refers tooseparate resources that securely store metadata about any connector connections, such as a connection string and an access token.</span></span>
<span data-ttu-id="8fdee-114">No recurso de aplicativo de lógica de saudação, seu aplicativo lógico faz referência a esses recursos em Olá `parameters` seção.</span><span class="sxs-lookup"><span data-stu-id="8fdee-114">In hello logic app resource, your logic app references these resources in hello `parameters` section.</span></span>

<span data-ttu-id="8fdee-115">É possível exibir todas essas partes de aplicativos lógicos existentes usando uma ferramenta como o [Gerenciador de Recursos do Azure](http://resources.azure.com).</span><span class="sxs-lookup"><span data-stu-id="8fdee-115">You can view all these pieces of existing logic apps by using a tool like [Azure Resource Explorer](http://resources.azure.com).</span></span>

<span data-ttu-id="8fdee-116">toomake um modelo para um aplicativo do lógica toouse com implantações de grupos de recursos, você deve definir recursos hello e parametrizar conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="8fdee-116">toomake a template for a logic app toouse with resource group deployments, you must define hello resources and parameterize as needed.</span></span>
<span data-ttu-id="8fdee-117">Por exemplo, se você estiver implantando o ambiente de produção, teste e desenvolvimento tooa, provavelmente deseja toouse conexão diferentes cadeias de caracteres tooa SQL banco de dados em cada ambiente.</span><span class="sxs-lookup"><span data-stu-id="8fdee-117">For example, if you're deploying tooa development, test, and production environment, you likely want toouse different connection strings tooa SQL database in each environment.</span></span>
<span data-ttu-id="8fdee-118">Ou, talvez você queira toodeploy em assinaturas diferentes ou grupos de recursos.</span><span class="sxs-lookup"><span data-stu-id="8fdee-118">Or, you might want toodeploy within different subscriptions or resource groups.</span></span>  

## <a name="create-a-logic-app-deployment-template"></a><span data-ttu-id="8fdee-119">Criar um modelo de implantação do aplicativo lógico</span><span class="sxs-lookup"><span data-stu-id="8fdee-119">Create a logic app deployment template</span></span>

<span data-ttu-id="8fdee-120">toohave de maneira mais fácil de saudação um modelo de implantação de aplicativo válido lógica é toouse o [Visual Studio Tools para aplicativos lógicos](logic-apps-deploy-from-vs.md).</span><span class="sxs-lookup"><span data-stu-id="8fdee-120">hello easiest way toohave a valid logic app deployment template is toouse the [Visual Studio Tools for Logic Apps](logic-apps-deploy-from-vs.md).</span></span>
<span data-ttu-id="8fdee-121">ferramentas do Visual Studio Olá geram um modelo de implantação válido que pode ser usado em qualquer assinatura ou local.</span><span class="sxs-lookup"><span data-stu-id="8fdee-121">hello Visual Studio tools generate a valid deployment template that can be used across any subscription or location.</span></span>

<span data-ttu-id="8fdee-122">Algumas ferramentas podem ajudar você a criar um modelo de implantação de aplicativo lógico.</span><span class="sxs-lookup"><span data-stu-id="8fdee-122">A few other tools can assist you as you create a logic app deployment template.</span></span>
<span data-ttu-id="8fdee-123">Você pode criar manualmente, ou seja, usando Olá recursos já discutidos aqui toocreate parâmetros conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="8fdee-123">You can author by hand, that is, by using hello resources already discussed here toocreate parameters as needed.</span></span>
<span data-ttu-id="8fdee-124">Outra opção é toouse uma [criador do modelo de aplicativo de lógica](https://github.com/jeffhollan/LogicAppTemplateCreator) módulo do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="8fdee-124">Another option is toouse a [logic app template creator](https://github.com/jeffhollan/LogicAppTemplateCreator) PowerShell module.</span></span> <span data-ttu-id="8fdee-125">Esse módulo de código-fonte aberto primeiro avalia Olá lógica aplicativo e todas as conexões que está usando e, em seguida, gera os recursos de modelo com parâmetros de saudação necessários para a implantação.</span><span class="sxs-lookup"><span data-stu-id="8fdee-125">This open-source module first evaluates hello logic app and any connections that it is using, and then generates template resources with hello necessary parameters for deployment.</span></span>
<span data-ttu-id="8fdee-126">Por exemplo, se você tiver um aplicativo de lógica que recebe uma mensagem de uma fila do barramento de serviço do Azure e adiciona o banco de dados do SQL Azure data tooan, ferramenta Olá preserva toda a lógica de orquestração hello e parametriza hello SQL e cadeias de caracteres de conexão de barramento de serviço para que eles podem ser definidos na implantação.</span><span class="sxs-lookup"><span data-stu-id="8fdee-126">For example, if you have a logic app that receives a message from an Azure Service Bus queue and adds data tooan Azure SQL database, hello tool preserves all hello orchestration logic and parameterizes hello SQL and Service Bus connection strings so that they can be set at deployment.</span></span>

> [!NOTE]
> <span data-ttu-id="8fdee-127">As conexões devem ser em Olá mesmo grupo de recursos aplicativo lógico de saudação.</span><span class="sxs-lookup"><span data-stu-id="8fdee-127">Connections must be within hello same resource group as hello logic app.</span></span>
>
>

### <a name="install-hello-logic-app-template-powershell-module"></a><span data-ttu-id="8fdee-128">Instalar o módulo do PowerShell de modelo de aplicativo do hello lógica</span><span class="sxs-lookup"><span data-stu-id="8fdee-128">Install hello logic app template PowerShell module</span></span>
<span data-ttu-id="8fdee-129">módulo do Hello mais fácil maneira tooinstall Olá é por meio de saudação [Galeria do PowerShell](https://www.powershellgallery.com/packages/LogicAppTemplate/0.1), usando o comando Olá `Install-Module -Name LogicAppTemplate`.</span><span class="sxs-lookup"><span data-stu-id="8fdee-129">hello easiest way tooinstall hello module is via hello [PowerShell Gallery](https://www.powershellgallery.com/packages/LogicAppTemplate/0.1), by using hello command `Install-Module -Name LogicAppTemplate`.</span></span>  

<span data-ttu-id="8fdee-130">Você também pode instalar o módulo de PowerShell Olá manualmente:</span><span class="sxs-lookup"><span data-stu-id="8fdee-130">You also can install hello PowerShell module manually:</span></span>

1. <span data-ttu-id="8fdee-131">Baixar a versão mais recente de saudação do hello [criador do modelo de aplicativo de lógica](https://github.com/jeffhollan/LogicAppTemplateCreator/releases).</span><span class="sxs-lookup"><span data-stu-id="8fdee-131">Download hello latest release of hello [logic app template creator](https://github.com/jeffhollan/LogicAppTemplateCreator/releases).</span></span>  
2. <span data-ttu-id="8fdee-132">Extrair pasta Olá na sua pasta de módulo do PowerShell (geralmente `%UserProfile%\Documents\WindowsPowerShell\Modules`).</span><span class="sxs-lookup"><span data-stu-id="8fdee-132">Extract hello folder in your PowerShell module folder (usually `%UserProfile%\Documents\WindowsPowerShell\Modules`).</span></span>

<span data-ttu-id="8fdee-133">Para Olá módulo toowork com acesso de locatário e assinatura token, é recomendável que você o use com hello [ARMClient](https://github.com/projectkudu/ARMClient) ferramenta de linha de comando.</span><span class="sxs-lookup"><span data-stu-id="8fdee-133">For hello module toowork with any tenant and subscription access token, we recommend that you use it with hello [ARMClient](https://github.com/projectkudu/ARMClient) command-line tool.</span></span>  <span data-ttu-id="8fdee-134">Esta [postagem no blog](http://blog.davidebbo.com/2015/01/azure-resource-manager-client.html) aborda o ARMClient mais detalhadamente.</span><span class="sxs-lookup"><span data-stu-id="8fdee-134">This [blog post](http://blog.davidebbo.com/2015/01/azure-resource-manager-client.html) discusses ARMClient in more detail.</span></span>

### <a name="generate-a-logic-app-template-by-using-powershell"></a><span data-ttu-id="8fdee-135">Gerar um modelo de aplicativo lógico usando o PowerShell</span><span class="sxs-lookup"><span data-stu-id="8fdee-135">Generate a logic app template by using PowerShell</span></span>
<span data-ttu-id="8fdee-136">Depois que o PowerShell é instalado, você pode gerar um modelo usando o comando a seguir de saudação:</span><span class="sxs-lookup"><span data-stu-id="8fdee-136">After PowerShell is installed, you can generate a template by using hello following command:</span></span>

`armclient token $SubscriptionId | Get-LogicAppTemplate -LogicApp MyApp -ResourceGroup MyRG -SubscriptionId $SubscriptionId -Verbose | Out-File C:\template.json`

<span data-ttu-id="8fdee-137">`$SubscriptionId`é a ID de assinatura do Azure hello.</span><span class="sxs-lookup"><span data-stu-id="8fdee-137">`$SubscriptionId` is hello Azure subscription ID.</span></span> <span data-ttu-id="8fdee-138">Essa linha primeiro obtém um token de acesso por meio do cliente do ARM, e direcioná-lo por meio de toohello script do PowerShell e, em seguida, cria o modelo de saudação em um arquivo JSON.</span><span class="sxs-lookup"><span data-stu-id="8fdee-138">This line first gets an access token via ARMClient, then pipes it through toohello PowerShell script, and then creates hello template in a JSON file.</span></span>

## <a name="add-parameters-tooa-logic-app-template"></a><span data-ttu-id="8fdee-139">Adicionar modelo de aplicativo de lógica de tooa de parâmetros</span><span class="sxs-lookup"><span data-stu-id="8fdee-139">Add parameters tooa logic app template</span></span>
<span data-ttu-id="8fdee-140">Depois de criar o modelo de aplicativo da lógica, você pode continuar tooadd ou modificar os parâmetros que você pode precisar.</span><span class="sxs-lookup"><span data-stu-id="8fdee-140">After you create your logic app template, you can continue tooadd or modify parameters that you might need.</span></span> <span data-ttu-id="8fdee-141">Por exemplo, se sua definição inclui um ID de recurso tooan função do Azure ou o fluxo de trabalho aninhado que você planeje toodeploy em uma única implantação, poderá adicionar modelo de tooyour mais recursos e parametrizar IDs conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="8fdee-141">For example, if your definition includes a resource ID tooan Azure function or nested workflow that you plan toodeploy in a single deployment, you can add more resources tooyour template and parameterize IDs as needed.</span></span> <span data-ttu-id="8fdee-142">Olá mesmo se aplica tooany referências toocustom APIs Swagger pontos de extremidade ou esperar toodeploy com cada grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="8fdee-142">hello same applies tooany references toocustom APIs or Swagger endpoints you expect toodeploy with each resource group.</span></span>

## <a name="deploy-a-logic-app-template"></a><span data-ttu-id="8fdee-143">Implantar um modelo de aplicativo lógico</span><span class="sxs-lookup"><span data-stu-id="8fdee-143">Deploy a logic app template</span></span>

<span data-ttu-id="8fdee-144">Você pode implantar o modelo usando qualquer ferramenta como o PowerShell, API de REST, [Visual Studio Team Services Release Management](#team-services)e a implantação de modelo por meio de saudação portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="8fdee-144">You can deploy your template by using any tools like PowerShell, REST API, [Visual Studio Team Services Release Management](#team-services), and template deployment through hello Azure portal.</span></span>
<span data-ttu-id="8fdee-145">Além disso, valores de saudação toostore para parâmetros, é recomendável que você crie um [arquivo de parâmetro](../azure-resource-manager/resource-group-template-deploy.md#parameter-files).</span><span class="sxs-lookup"><span data-stu-id="8fdee-145">Also, toostore hello values for parameters, we recommend that you create a [parameter file](../azure-resource-manager/resource-group-template-deploy.md#parameter-files).</span></span>
<span data-ttu-id="8fdee-146">Saiba como muito[implantar recursos com modelos do Gerenciador de recursos do Azure e PowerShell](../azure-resource-manager/resource-group-template-deploy.md) ou [implantar recursos com modelos do Gerenciador de recursos do Azure e Olá portal do Azure](../azure-resource-manager/resource-group-template-deploy-portal.md).</span><span class="sxs-lookup"><span data-stu-id="8fdee-146">Learn how too[deploy resources with Azure Resource Manager templates and PowerShell](../azure-resource-manager/resource-group-template-deploy.md) or [deploy resources with Azure Resource Manager templates and hello Azure portal](../azure-resource-manager/resource-group-template-deploy-portal.md).</span></span>

### <a name="authorize-oauth-connections"></a><span data-ttu-id="8fdee-147">Autorizar Conexões OAuth</span><span class="sxs-lookup"><span data-stu-id="8fdee-147">Authorize OAuth connections</span></span>

<span data-ttu-id="8fdee-148">Após a implantação, o aplicativo de lógica de saudação funciona ponta a ponta com os parâmetros válidos.</span><span class="sxs-lookup"><span data-stu-id="8fdee-148">After deployment, hello logic app works end-to-end with valid parameters.</span></span>
<span data-ttu-id="8fdee-149">No entanto, você ainda deve autorizar OAuth conexões toogenerate um token de acesso válido.</span><span class="sxs-lookup"><span data-stu-id="8fdee-149">However, you must still authorize OAuth connections toogenerate a valid access token.</span></span>
<span data-ttu-id="8fdee-150">tooauthorize OAuth conexões, abra o aplicativo de lógica de Olá no hello lógica do Designer de aplicativos e autorizar essas conexões.</span><span class="sxs-lookup"><span data-stu-id="8fdee-150">tooauthorize OAuth connections, open hello logic app in hello Logic Apps Designer, and authorize these connections.</span></span> <span data-ttu-id="8fdee-151">Ou, para a implantação automática, você pode usar um tooeach de tooconsent script conexão OAuth.</span><span class="sxs-lookup"><span data-stu-id="8fdee-151">Or for automated deployment, you can use a script tooconsent tooeach OAuth connection.</span></span>
<span data-ttu-id="8fdee-152">Há um script de exemplo no GitHub sob o projeto [LogicAppConnectionAuth](https://github.com/logicappsio/LogicAppConnectionAuth) .</span><span class="sxs-lookup"><span data-stu-id="8fdee-152">There's an example script on GitHub under the [LogicAppConnectionAuth](https://github.com/logicappsio/LogicAppConnectionAuth) project.</span></span>

<a name="team-services"></a>
## <a name="visual-studio-team-services-release-management"></a><span data-ttu-id="8fdee-153">Visual Studio Team Services Release Management</span><span class="sxs-lookup"><span data-stu-id="8fdee-153">Visual Studio Team Services Release Management</span></span>

<span data-ttu-id="8fdee-154">Um cenário comum para implantar e gerenciar um ambiente é uma ferramenta como o gerenciamento de versão no Visual Studio Team Services, com um modelo de implantação do aplicativo de lógica de toouse.</span><span class="sxs-lookup"><span data-stu-id="8fdee-154">A common scenario for deploying and managing an environment is toouse a tool like Release Management in Visual Studio Team Services, with a logic app deployment template.</span></span> <span data-ttu-id="8fdee-155">Visual Studio Team Services inclui um [implantar grupo de recursos do Azure](https://github.com/Microsoft/vsts-tasks/tree/master/Tasks/DeployAzureResourceGroup) tarefas que você pode adicionar tooany build ou pipeline de versão.</span><span class="sxs-lookup"><span data-stu-id="8fdee-155">Visual Studio Team Services includes a [Deploy Azure Resource Group](https://github.com/Microsoft/vsts-tasks/tree/master/Tasks/DeployAzureResourceGroup) task that you can add tooany build or release pipeline.</span></span> <span data-ttu-id="8fdee-156">Você precisa toohave um [entidade de serviço](https://blogs.msdn.microsoft.com/visualstudioalm/2015/10/04/automating-azure-resource-group-deployment-using-a-service-principal-in-visual-studio-online-buildrelease-management/) para autorização toodeploy e, em seguida, você pode gerar definição de versão de saudação.</span><span class="sxs-lookup"><span data-stu-id="8fdee-156">You need toohave a [service principal](https://blogs.msdn.microsoft.com/visualstudioalm/2015/10/04/automating-azure-resource-group-deployment-using-a-service-principal-in-visual-studio-online-buildrelease-management/) for authorization toodeploy, and then you can generate hello release definition.</span></span>

1. <span data-ttu-id="8fdee-157">No Release Management, selecione **Vazio** para criar uma definição vazia.</span><span class="sxs-lookup"><span data-stu-id="8fdee-157">In Release Management, select **Empty** so that you create an empty definition.</span></span>

    ![Criar definição vazia][1]

2. <span data-ttu-id="8fdee-159">Escolha todos os recursos que necessários para este, provavelmente incluindo Olá lógica modelo de aplicativo que é gerado manualmente ou como parte de saudação do processo de compilação.</span><span class="sxs-lookup"><span data-stu-id="8fdee-159">Choose any resources you need for this, most likely including hello logic app template that is generated manually or as part of hello build process.</span></span>
3. <span data-ttu-id="8fdee-160">Adicione uma tarefa de **Implantação do Grupo de Recursos do Azure** .</span><span class="sxs-lookup"><span data-stu-id="8fdee-160">Add an **Azure Resource Group Deployment** task.</span></span>
4. <span data-ttu-id="8fdee-161">Configurar com um [entidade de serviço](https://blogs.msdn.microsoft.com/visualstudioalm/2015/10/04/automating-azure-resource-group-deployment-using-a-service-principal-in-visual-studio-online-buildrelease-management/)e fazer referência a arquivos de modelo e parâmetros de modelo hello.</span><span class="sxs-lookup"><span data-stu-id="8fdee-161">Configure with a [service principal](https://blogs.msdn.microsoft.com/visualstudioalm/2015/10/04/automating-azure-resource-group-deployment-using-a-service-principal-in-visual-studio-online-buildrelease-management/), and reference hello Template and Template Parameters files.</span></span>
5. <span data-ttu-id="8fdee-162">Continue toobuild etapas no processo de liberação de saudação para qualquer ambiente, um teste automatizado ou aprovadores conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="8fdee-162">Continue toobuild out steps in hello release process for any other environment, automated test, or approvers as needed.</span></span>

<!-- Image References -->
[1]: ./media/logic-apps-create-deploy-template/emptyreleasedefinition.png
