---
title: Copiar dados de Blobs de Armazenamento do Azure para Data Lake Store| Microsoft Docs
description: "Use a ferramenta AdlCopy para copiar dados de Blobs do Armazenamento do Azure para o Repositório Data Lake"
services: data-lake-store
documentationcenter: 
author: nitinme
manager: jhubbard
editor: cgronlun
ms.assetid: dc273ef8-96ef-47a6-b831-98e8a777a5c1
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 06/29/2017
ms.author: nitinme
ms.openlocfilehash: 68f44991432a76c2ef1c79ec6dffdea4c62bcb17
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="copy-data-from-azure-storage-blobs-to-data-lake-store"></a><span data-ttu-id="bb31e-103">Copiar dados de Blobs do Armazenamento do Azure para o Repositório Data Lake</span><span class="sxs-lookup"><span data-stu-id="bb31e-103">Copy data from Azure Storage Blobs to Data Lake Store</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="bb31e-104">Como usar DistCp</span><span class="sxs-lookup"><span data-stu-id="bb31e-104">Using DistCp</span></span>](data-lake-store-copy-data-wasb-distcp.md)
> * [<span data-ttu-id="bb31e-105">Como usar AdlCopy</span><span class="sxs-lookup"><span data-stu-id="bb31e-105">Using AdlCopy</span></span>](data-lake-store-copy-data-azure-storage-blob.md)
>
>

<span data-ttu-id="bb31e-106">O Azure Data Lake Store fornece uma ferramenta de linha de comando, [AdlCopy](http://aka.ms/downloadadlcopy), para copiar dados das seguintes fontes:</span><span class="sxs-lookup"><span data-stu-id="bb31e-106">Azure Data Lake Store provides a command line tool, [AdlCopy](http://aka.ms/downloadadlcopy), to copy data from the following sources:</span></span>

* <span data-ttu-id="bb31e-107">Dos Blobs de Armazenamento do Azure no Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="bb31e-107">From Azure Storage Blobs into Data Lake Store.</span></span> <span data-ttu-id="bb31e-108">Você não pode usar o AdlCopy para copiar dados do Repositório Data Lake para os blobs de Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="bb31e-108">You cannot use AdlCopy to copy data from Data Lake Store to Azure Storage blobs.</span></span>
* <span data-ttu-id="bb31e-109">Entre duas contas do Azure Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="bb31e-109">Between two Azure Data Lake Store accounts.</span></span>

<span data-ttu-id="bb31e-110">Além disso, você pode usar a ferramenta AdlCopy de dois modos diferentes:</span><span class="sxs-lookup"><span data-stu-id="bb31e-110">Also, you can use the AdlCopy tool in two different modes:</span></span>

* <span data-ttu-id="bb31e-111">**Autonomamente**, em que a ferramenta usa recursos do Repositório Data Lake para executar a tarefa.</span><span class="sxs-lookup"><span data-stu-id="bb31e-111">**Standalone**, where the tool uses Data Lake Store resources to perform the task.</span></span>
* <span data-ttu-id="bb31e-112">**Usando uma conta da Análise Data Lake**, em que as unidades atribuídas à sua conta da Análise Data Lake são usadas para executar a operação de cópia.</span><span class="sxs-lookup"><span data-stu-id="bb31e-112">**Using a Data Lake Analytics account**, where the units assigned to your Data Lake Analytics account are used to perform the copy operation.</span></span> <span data-ttu-id="bb31e-113">Você pode usar essa opção quando quiser executar as tarefas de cópia de forma previsível.</span><span class="sxs-lookup"><span data-stu-id="bb31e-113">You might want to use this option when you are looking to perform the copy tasks in a predictable manner.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="bb31e-114">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="bb31e-114">Prerequisites</span></span>
<span data-ttu-id="bb31e-115">Antes de começar este artigo, você deve ter o seguinte:</span><span class="sxs-lookup"><span data-stu-id="bb31e-115">Before you begin this article, you must have the following:</span></span>

* <span data-ttu-id="bb31e-116">**Uma assinatura do Azure**.</span><span class="sxs-lookup"><span data-stu-id="bb31e-116">**An Azure subscription**.</span></span> <span data-ttu-id="bb31e-117">Consulte [Obter avaliação gratuita do Azure](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="bb31e-117">See [Get Azure free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>
* <span data-ttu-id="bb31e-118">**Blobs de Armazenamento do Azure** com alguns dados.</span><span class="sxs-lookup"><span data-stu-id="bb31e-118">**Azure Storage Blobs** container with some data.</span></span>
* <span data-ttu-id="bb31e-119">**Uma conta do repositório Azure Data Lake**.</span><span class="sxs-lookup"><span data-stu-id="bb31e-119">**An Azure Data Lake Store account**.</span></span> <span data-ttu-id="bb31e-120">Para obter instruções sobre como criar uma, consulte [Introdução ao repositório Azure Data Lake](data-lake-store-get-started-portal.md)</span><span class="sxs-lookup"><span data-stu-id="bb31e-120">For instructions on how to create one, see [Get started with Azure Data Lake Store](data-lake-store-get-started-portal.md)</span></span>
* <span data-ttu-id="bb31e-121">**Conta do Azure Data Lake Analytics (opcional)** : confira [Introdução ao Azure Data Lake Analytics](../data-lake-analytics/data-lake-analytics-get-started-portal.md) para obter instruções sobre como criar uma conta do Repositório Data Lake.</span><span class="sxs-lookup"><span data-stu-id="bb31e-121">**Azure Data Lake Analytics account (optional)** - See [Get started with Azure Data Lake Analytics](../data-lake-analytics/data-lake-analytics-get-started-portal.md) for instructions on how to create a Data Lake Store account.</span></span>
* <span data-ttu-id="bb31e-122">**Ferramenta AdlCopy**.</span><span class="sxs-lookup"><span data-stu-id="bb31e-122">**AdlCopy tool**.</span></span> <span data-ttu-id="bb31e-123">Instale a ferramenta de AdlCopy de [http://aka.ms/downloadadlcopy](http://aka.ms/downloadadlcopy).</span><span class="sxs-lookup"><span data-stu-id="bb31e-123">Install the AdlCopy tool from [http://aka.ms/downloadadlcopy](http://aka.ms/downloadadlcopy).</span></span>

## <a name="syntax-of-the-adlcopy-tool"></a><span data-ttu-id="bb31e-124">Sintaxe da ferramenta AdlCopy</span><span class="sxs-lookup"><span data-stu-id="bb31e-124">Syntax of the AdlCopy tool</span></span>
<span data-ttu-id="bb31e-125">Use a sintaxe a seguir para trabalhar com a ferramenta AdlCopy</span><span class="sxs-lookup"><span data-stu-id="bb31e-125">Use the following syntax to work with the AdlCopy tool</span></span>

    AdlCopy /Source <Blob or Data Lake Store source> /Dest <Data Lake Store destination> /SourceKey <Key for Blob account> /Account <Data Lake Analytics account> /Unit <Number of Analytics units> /Pattern

<span data-ttu-id="bb31e-126">Os parâmetros na sintaxe estão descritos abaixo:</span><span class="sxs-lookup"><span data-stu-id="bb31e-126">The parameters in the syntax are described below:</span></span>

| <span data-ttu-id="bb31e-127">Opção</span><span class="sxs-lookup"><span data-stu-id="bb31e-127">Option</span></span> | <span data-ttu-id="bb31e-128">Descrição</span><span class="sxs-lookup"><span data-stu-id="bb31e-128">Description</span></span> |
| --- | --- |
| <span data-ttu-id="bb31e-129">Fonte</span><span class="sxs-lookup"><span data-stu-id="bb31e-129">Source</span></span> |<span data-ttu-id="bb31e-130">Especifica o local da fonte de dados no blob de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="bb31e-130">Specifies the location of the source data in the Azure storage blob.</span></span> <span data-ttu-id="bb31e-131">A origem pode ser um contêiner de blob, um blob ou outra conta do Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="bb31e-131">The source can be a blob container, a blob, or another Data Lake Store account.</span></span> |
| <span data-ttu-id="bb31e-132">Dest</span><span class="sxs-lookup"><span data-stu-id="bb31e-132">Dest</span></span> |<span data-ttu-id="bb31e-133">Especifica o destino do Repositório Data Lake para onde copiar.</span><span class="sxs-lookup"><span data-stu-id="bb31e-133">Specifies the Data Lake Store destination to copy to.</span></span> |
| <span data-ttu-id="bb31e-134">SourceKey</span><span class="sxs-lookup"><span data-stu-id="bb31e-134">SourceKey</span></span> |<span data-ttu-id="bb31e-135">Especifica a chave de acesso de armazenamento para a fonte de blob de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="bb31e-135">Specifies the storage access key for the Azure storage blob source.</span></span> <span data-ttu-id="bb31e-136">Esse parâmetro será necessário apenas se a origem for um contêiner de blob ou um blob.</span><span class="sxs-lookup"><span data-stu-id="bb31e-136">This is required only if the source is a blob container or a blob.</span></span> |
| <span data-ttu-id="bb31e-137">Conta</span><span class="sxs-lookup"><span data-stu-id="bb31e-137">Account</span></span> |<span data-ttu-id="bb31e-138">**Opcional**.</span><span class="sxs-lookup"><span data-stu-id="bb31e-138">**Optional**.</span></span> <span data-ttu-id="bb31e-139">Use essa opção se você deseja usar a conta do Azure Data Lake Analytics para executar o trabalho de cópia.</span><span class="sxs-lookup"><span data-stu-id="bb31e-139">Use this if you want to use Azure Data Lake Analytics account to run the copy job.</span></span> <span data-ttu-id="bb31e-140">Se você usar a opção /Account na sintaxe, mas não especificar uma conta do Data Lake Analytics, o AdlCopy usará uma conta padrão para executar o trabalho.</span><span class="sxs-lookup"><span data-stu-id="bb31e-140">If you use the /Account option in the syntax but do not specify a Data Lake Analytics account, AdlCopy uses a default account to run the job.</span></span> <span data-ttu-id="bb31e-141">Além disso, se você usar essa opção, deverá adicionar a origem (Blob de Armazenamento do Azure) e o destino (Repositório Azure Data Lake) como fontes de dados para sua conta do Data Lake Analytics.</span><span class="sxs-lookup"><span data-stu-id="bb31e-141">Also, if you use this option, you must add the source (Azure Storage Blob) and destination (Azure Data Lake Store) as data sources for your Data Lake Analytics account.</span></span> |
| <span data-ttu-id="bb31e-142">Unidades</span><span class="sxs-lookup"><span data-stu-id="bb31e-142">Units</span></span> |<span data-ttu-id="bb31e-143">Especifica o número de unidades do Data Lake Analytics que será usado para o trabalho de cópia.</span><span class="sxs-lookup"><span data-stu-id="bb31e-143">Specifies the number of Data Lake Analytics units that will be used for the copy job.</span></span> <span data-ttu-id="bb31e-144">Essa opção é obrigatória se você usar a opção **/Account** para especificar a conta do Data Lake Analytics.</span><span class="sxs-lookup"><span data-stu-id="bb31e-144">This option is mandatory if you use the **/Account** option to specify the Data Lake Analytics account.</span></span> |
| <span data-ttu-id="bb31e-145">Padrão</span><span class="sxs-lookup"><span data-stu-id="bb31e-145">Pattern</span></span> |<span data-ttu-id="bb31e-146">Especifica um padrão regex que indica quais blobs ou arquivos copiar.</span><span class="sxs-lookup"><span data-stu-id="bb31e-146">Specifies a regex pattern that indicates which blobs or files to copy.</span></span> <span data-ttu-id="bb31e-147">O AdlCopy usa correspondência que diferencia maiúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="bb31e-147">AdlCopy uses case-sensitive matching.</span></span> <span data-ttu-id="bb31e-148">O padrão usado quando nenhum padrão é especificado é copiar todos os itens.</span><span class="sxs-lookup"><span data-stu-id="bb31e-148">The default pattern used when no pattern is specified is to copy all items.</span></span> <span data-ttu-id="bb31e-149">Não é possível especificar diversos padrões para os arquivos.</span><span class="sxs-lookup"><span data-stu-id="bb31e-149">Specifying multiple file patterns is not supported.</span></span> |

## <a name="use-adlcopy-as-standalone-to-copy-data-from-an-azure-storage-blob"></a><span data-ttu-id="bb31e-150">Usar o AdlCopy (como autônomo) para copiar dados de um blob de armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="bb31e-150">Use AdlCopy (as standalone) to copy data from an Azure Storage blob</span></span>
1. <span data-ttu-id="bb31e-151">Abra um prompt de comando e navegue até o diretório onde AdlCopy está instalado, normalmente `%HOMEPATH%\Documents\adlcopy`.</span><span class="sxs-lookup"><span data-stu-id="bb31e-151">Open a command prompt and navigate to the directory where AdlCopy is installed, typically `%HOMEPATH%\Documents\adlcopy`.</span></span>
2. <span data-ttu-id="bb31e-152">Execute o seguinte comando para copiar um blob específico do contêiner de origem para um Repositório Data Lake:</span><span class="sxs-lookup"><span data-stu-id="bb31e-152">Run the following command to copy a specific blob from the source container to a Data Lake Store:</span></span>

        AdlCopy /source https://<source_account>.blob.core.windows.net/<source_container>/<blob name> /dest swebhdfs://<dest_adls_account>.azuredatalakestore.net/<dest_folder>/ /sourcekey <storage_account_key_for_storage_container>

    <span data-ttu-id="bb31e-153">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="bb31e-153">For example:</span></span>

        AdlCopy /source https://mystorage.blob.core.windows.net/mycluster/HdiSamples/HdiSamples/WebsiteLogSampleData/SampleLog/909f2b.log /dest swebhdfs://mydatalakestore.azuredatalakestore.net/mynewfolder/ /sourcekey uJUfvD6cEvhfLoBae2yyQf8t9/BpbWZ4XoYj4kAS5Jf40pZaMNf0q6a8yqTxktwVgRED4vPHeh/50iS9atS5LQ==

    >[AZURE.NOTE] <span data-ttu-id="bb31e-154">A sintaxe acima especifica o arquivo a ser copiado para uma pasta na conta do Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="bb31e-154">The syntax above specifies the file to be copied to a folder in the Data Lake Store account.</span></span> <span data-ttu-id="bb31e-155">A ferramenta AdlCopy criará uma pasta se o nome da pasta especificado não existir.</span><span class="sxs-lookup"><span data-stu-id="bb31e-155">AdlCopy tool creates a folder if the specified folder name does not exist.</span></span>

    <span data-ttu-id="bb31e-156">Você precisará inserir as credenciais da assinatura do Azure vinculadas à conta do Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="bb31e-156">You will be prompted to enter the credentials for the Azure subscription under which you have your Data Lake Store account.</span></span> <span data-ttu-id="bb31e-157">Você verá uma saída semelhante ao seguinte:</span><span class="sxs-lookup"><span data-stu-id="bb31e-157">You will see an output similar to the following:</span></span>

        Initializing Copy.
        Copy Started.
        100% data copied.
        Finishing Copy.
        Copy Completed. 1 file copied.

1. <span data-ttu-id="bb31e-158">Você também pode copiar todos os blobs de um contêiner para a conta do Repositório Data Lake usando o seguinte comando:</span><span class="sxs-lookup"><span data-stu-id="bb31e-158">You can also copy all the blobs from one container to the Data Lake Store account using the following command:</span></span>

        AdlCopy /source https://<source_account>.blob.core.windows.net/<source_container>/ /dest swebhdfs://<dest_adls_account>.azuredatalakestore.net/<dest_folder>/ /sourcekey <storage_account_key_for_storage_container>        

    <span data-ttu-id="bb31e-159">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="bb31e-159">For example:</span></span>

        AdlCopy /Source https://mystorage.blob.core.windows.net/mycluster/example/data/gutenberg/ /dest adl://mydatalakestore.azuredatalakestore.net/mynewfolder/ /sourcekey uJUfvD6cEvhfLoBae2yyQf8t9/BpbWZ4XoYj4kAS5Jf40pZaMNf0q6a8yqTxktwVgRED4vPHeh/50iS9atS5LQ==

### <a name="performance-considerations"></a><span data-ttu-id="bb31e-160">Considerações sobre o desempenho</span><span class="sxs-lookup"><span data-stu-id="bb31e-160">Performance considerations</span></span>

<span data-ttu-id="bb31e-161">Se você estiver copiando de uma conta de Armazenamento de Blobs do Azure, poderá haver limitação durante a cópia do lado do Armazenamento de Blobs.</span><span class="sxs-lookup"><span data-stu-id="bb31e-161">If you are copying from an Azure Blob Storage account, you may be throttled during copy on the blob storage side.</span></span> <span data-ttu-id="bb31e-162">Isso poderá degradar o desempenho do seu trabalho de cópia.</span><span class="sxs-lookup"><span data-stu-id="bb31e-162">This will degrade the performance of your copy job.</span></span> <span data-ttu-id="bb31e-163">Para saber mais sobre os limites do Armazenamento de Blobs do Azure, confira Limites de Armazenamento do Azure em [Limites de serviço e assinatura do Azure](../azure-subscription-service-limits.md).</span><span class="sxs-lookup"><span data-stu-id="bb31e-163">To learn more about the limits of Azure Blob Storage, see Azure Storage limits at [Azure subscription and service limits](../azure-subscription-service-limits.md).</span></span>

## <a name="use-adlcopy-as-standalone-to-copy-data-from-another-data-lake-store-account"></a><span data-ttu-id="bb31e-164">Usar o AdlCopy (como autônomo) para copiar dados de outra conta do Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="bb31e-164">Use AdlCopy (as standalone) to copy data from another Data Lake Store account</span></span>
<span data-ttu-id="bb31e-165">Você também pode usar o AdlCopy para copiar dados entre duas contas do Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="bb31e-165">You can also use AdlCopy to copy data between two Data Lake Store accounts.</span></span>

1. <span data-ttu-id="bb31e-166">Abra um prompt de comando e navegue até o diretório onde AdlCopy está instalado, normalmente `%HOMEPATH%\Documents\adlcopy`.</span><span class="sxs-lookup"><span data-stu-id="bb31e-166">Open a command prompt and navigate to the directory where AdlCopy is installed, typically `%HOMEPATH%\Documents\adlcopy`.</span></span>
2. <span data-ttu-id="bb31e-167">Execute o comando a seguir para copiar um arquivo específico de uma conta do Data Lake Store para outra.</span><span class="sxs-lookup"><span data-stu-id="bb31e-167">Run the following command to copy a specific file from one Data Lake Store account to another.</span></span>

        AdlCopy /Source adl://<source_adls_account>.azuredatalakestore.net/<path_to_file> /dest adl://<dest_adls_account>.azuredatalakestore.net/<path>/

    <span data-ttu-id="bb31e-168">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="bb31e-168">For example:</span></span>

        AdlCopy /Source adl://mydatastore.azuredatalakestore.net/mynewfolder/909f2b.log /dest adl://mynewdatalakestore.azuredatalakestore.net/mynewfolder/

   > [!NOTE]
   > <span data-ttu-id="bb31e-169">A sintaxe acima especifica o arquivo a ser copiado para uma pasta na conta de destino do Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="bb31e-169">The syntax above specifies the file to be copied to a folder in the destination Data Lake Store account.</span></span> <span data-ttu-id="bb31e-170">A ferramenta AdlCopy criará uma pasta se o nome da pasta especificado não existir.</span><span class="sxs-lookup"><span data-stu-id="bb31e-170">AdlCopy tool creates a folder if the specified folder name does not exist.</span></span>
   >
   >

    <span data-ttu-id="bb31e-171">Você precisará inserir as credenciais da assinatura do Azure vinculadas à conta do Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="bb31e-171">You will be prompted to enter the credentials for the Azure subscription under which you have your Data Lake Store account.</span></span> <span data-ttu-id="bb31e-172">Você verá uma saída semelhante ao seguinte:</span><span class="sxs-lookup"><span data-stu-id="bb31e-172">You will see an output similar to the following:</span></span>

        Initializing Copy.
        Copy Started.|
        100% data copied.
        Finishing Copy.
        Copy Completed. 1 file copied.
3. <span data-ttu-id="bb31e-173">O comando a seguir copia todos os arquivos de uma pasta específica na conta de origem do Data Lake Store para uma pasta na conta de destino do Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="bb31e-173">The following command copies all files from a specific folder in the source Data Lake Store account to a folder in the destination Data Lake Store account.</span></span>

        AdlCopy /Source adl://mydatastore.azuredatalakestore.net/mynewfolder/ /dest adl://mynewdatalakestore.azuredatalakestore.net/mynewfolder/

### <a name="performance-considerations"></a><span data-ttu-id="bb31e-174">Considerações sobre o desempenho</span><span class="sxs-lookup"><span data-stu-id="bb31e-174">Performance considerations</span></span>

<span data-ttu-id="bb31e-175">Ao usar AdlCopy como uma ferramenta autônoma, a cópia é executada em recursos gerenciados e compartilhados do Azure.</span><span class="sxs-lookup"><span data-stu-id="bb31e-175">When using AdlCopy as a standalone tool, the copy is run on shared, Azure managed resources.</span></span> <span data-ttu-id="bb31e-176">O desempenho que pode ser obtido nesse ambiente depende da carga do sistema e dos recursos disponíveis.</span><span class="sxs-lookup"><span data-stu-id="bb31e-176">The performance you may get in this environment depends on system load and available resources.</span></span> <span data-ttu-id="bb31e-177">Esse modo é melhor usado para transferências ad hoc pequenas.</span><span class="sxs-lookup"><span data-stu-id="bb31e-177">This mode is best used for small transfers on an ad hoc basis.</span></span> <span data-ttu-id="bb31e-178">Não há necessidade de ajustar nenhum parâmetro ao usar AdlCopy como uma ferramenta autônoma.</span><span class="sxs-lookup"><span data-stu-id="bb31e-178">No parameters need to be tuned when using AdlCopy as a standalone tool.</span></span>

## <a name="use-adlcopy-with-data-lake-analytics-account-to-copy-data"></a><span data-ttu-id="bb31e-179">Usar o AdlCopy (com a conta do Data Lake Analytics) para copiar dados</span><span class="sxs-lookup"><span data-stu-id="bb31e-179">Use AdlCopy (with Data Lake Analytics account) to copy data</span></span>
<span data-ttu-id="bb31e-180">Você também pode usar sua conta da Análise Data Lake a fim de executar o trabalho AdlCopy para copiar dados de blobs do armazenamento do Azure para o Repositório Data Lake.</span><span class="sxs-lookup"><span data-stu-id="bb31e-180">You can also use your Data Lake Analytics account to run the AdlCopy job to copy data from Azure storage blobs to Data Lake Store.</span></span> <span data-ttu-id="bb31e-181">Você normalmente usará essa opção quando os dados a serem movidos estiverem no intervalo de gigabytes e terabytes e desejar uma taxa de transferência com desempenho melhor e previsível.</span><span class="sxs-lookup"><span data-stu-id="bb31e-181">You would typically use this option when the data to be moved is in the range of gigabytes and terabytes, and you want better and predictable performance throughput.</span></span>

<span data-ttu-id="bb31e-182">Para usar a conta do Data Lake Analytics com o AdlCopy para copiar de um Blob de Armazenamento do Azure, a origem (Blob de Armazenamento do Azure) deve ser adicionada como uma fonte de dados para sua conta do Data Lake Analytics.</span><span class="sxs-lookup"><span data-stu-id="bb31e-182">To use your Data Lake Analytics account with AdlCopy to copy from an Azure Storage Blob, the source (Azure Storage Blob) must be added as a data source for your Data Lake Analytics account.</span></span> <span data-ttu-id="bb31e-183">Para obter instruções sobre como adicionar fontes de dados adicionais para sua conta da Data Lake Analytics, confira [Gerenciar fontes de dados de conta da Data Lake Analytics](../data-lake-analytics/data-lake-analytics-manage-use-portal.md#manage-data-sources).</span><span class="sxs-lookup"><span data-stu-id="bb31e-183">For instructions on adding additional data sources to your Data Lake Analytics account, see [Manage Data Lake Analytics account data sources](../data-lake-analytics/data-lake-analytics-manage-use-portal.md#manage-data-sources).</span></span>

> [!NOTE]
> <span data-ttu-id="bb31e-184">Se estiver copiando uma conta do Azure Data Lake Store como a origem usando uma conta do Data Lake Analytics, você não precisará associar a conta do Data Lake Store à conta do Data Lake Analytics.</span><span class="sxs-lookup"><span data-stu-id="bb31e-184">If you are copying from an Azure Data Lake Store account as the source using a Data Lake Analytics account, you do not need to associate the Data Lake Store account with the Data Lake Analytics account.</span></span> <span data-ttu-id="bb31e-185">O requisito para associar o repositório de origem à conta do Data Lake Analytics é somente quando a origem for uma conta de Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="bb31e-185">The requirement to associate the source store with the Data Lake Analytics account is only when the source is an Azure Storage account.</span></span>
>
>

<span data-ttu-id="bb31e-186">Execute o seguinte comando para copiar de um blob de Armazenamento do Azure para uma conta do Data Lake Store usando a conta do Data Lake Analytics:</span><span class="sxs-lookup"><span data-stu-id="bb31e-186">Run the following command to copy from an Azure Storage blob to a Data Lake Store account using Data Lake Analytics account:</span></span>

    AdlCopy /source https://<source_account>.blob.core.windows.net/<source_container>/<blob name> /dest swebhdfs://<dest_adls_account>.azuredatalakestore.net/<dest_folder>/ /sourcekey <storage_account_key_for_storage_container> /Account <data_lake_analytics_account> /Unit <number_of_data_lake_analytics_units_to_be_used>

<span data-ttu-id="bb31e-187">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="bb31e-187">For example:</span></span>

    AdlCopy /Source https://mystorage.blob.core.windows.net/mycluster/example/data/gutenberg/ /dest swebhdfs://mydatalakestore.azuredatalakestore.net/mynewfolder/ /sourcekey uJUfvD6cEvhfLoBae2yyQf8t9/BpbWZ4XoYj4kAS5Jf40pZaMNf0q6a8yqTxktwVgRED4vPHeh/50iS9atS5LQ== /Account mydatalakeanalyticaccount /Units 2

<span data-ttu-id="bb31e-188">De modo semelhante, execute o comando a seguir para copiar de um blob de Armazenamento do Azure para uma conta do Data Lake Store usando a conta do Data Lake Analytics:</span><span class="sxs-lookup"><span data-stu-id="bb31e-188">Similarly, run the following command to copy from an Azure Storage blob to a Data Lake Store account using Data Lake Analytics account:</span></span>

    AdlCopy /Source adl://mysourcedatalakestore.azuredatalakestore.net/mynewfolder/ /dest adl://mydestdatastore.azuredatalakestore.net/mynewfolder/ /Account mydatalakeanalyticaccount /Units 2

### <a name="performance-considerations"></a><span data-ttu-id="bb31e-189">Considerações sobre o desempenho</span><span class="sxs-lookup"><span data-stu-id="bb31e-189">Performance considerations</span></span>

<span data-ttu-id="bb31e-190">Ao copiar dados no intervalo de terabytes, usar AdlCopy com sua própria conta do Azure Data Lake Analytics fornece um desempenho melhor e mais previsível.</span><span class="sxs-lookup"><span data-stu-id="bb31e-190">When copying data in the range of terabytes, using AdlCopy with your own Azure Data Lake Analytics account provides better and more predictable performance.</span></span> <span data-ttu-id="bb31e-191">O parâmetro que deve ser ajustado é o número de unidades do Azure Data Lake Analytics a ser usado para o trabalho de cópia.</span><span class="sxs-lookup"><span data-stu-id="bb31e-191">The parameter that should be tuned is the number of Azure Data Lake Analytics Units to use for the copy job.</span></span> <span data-ttu-id="bb31e-192">Aumentar o número de unidades elevará o desempenho do seu trabalho de cópia.</span><span class="sxs-lookup"><span data-stu-id="bb31e-192">Increasing the number of units will increase the performance of your copy job.</span></span> <span data-ttu-id="bb31e-193">Cada arquivo a ser copiado pode usar uma unidade no máximo.</span><span class="sxs-lookup"><span data-stu-id="bb31e-193">Each file to be copied can use maximum one unit.</span></span> <span data-ttu-id="bb31e-194">Especificar mais unidades do que o número de arquivos que estão sendo copiados não aumentará o desempenho.</span><span class="sxs-lookup"><span data-stu-id="bb31e-194">Specifying more units than the number of files being copied will not increase performance.</span></span>

## <a name="use-adlcopy-to-copy-data-using-pattern-matching"></a><span data-ttu-id="bb31e-195">Usar o AdlCopy para copiar dados usando a correspondência de padrões</span><span class="sxs-lookup"><span data-stu-id="bb31e-195">Use AdlCopy to copy data using pattern matching</span></span>
<span data-ttu-id="bb31e-196">Nesta seção, você aprenderá a usar o AdlCopy para copiar dados de uma origem (em nosso exemplo abaixo usamos o Blob de Armazenamento do Azure) para uma conta de destino do Data Lake Store usando a correspondência de padrões.</span><span class="sxs-lookup"><span data-stu-id="bb31e-196">In this section, you learn how to use AdlCopy to copy data from a source (in our example below we use Azure Storage Blob) to a destination Data Lake Store account using pattern matching.</span></span> <span data-ttu-id="bb31e-197">Por exemplo, é possível usar as etapas abaixo para copiar todos os arquivos com extensão .csv do blob de origem para o destino.</span><span class="sxs-lookup"><span data-stu-id="bb31e-197">For example, you can use the steps below to copy all files with .csv extension from the source blob to the destination.</span></span>

1. <span data-ttu-id="bb31e-198">Abra um prompt de comando e navegue até o diretório onde AdlCopy está instalado, normalmente `%HOMEPATH%\Documents\adlcopy`.</span><span class="sxs-lookup"><span data-stu-id="bb31e-198">Open a command prompt and navigate to the directory where AdlCopy is installed, typically `%HOMEPATH%\Documents\adlcopy`.</span></span>
2. <span data-ttu-id="bb31e-199">Execute o seguinte comando para copiar todos os arquivos com a extensão *.csv de um blob específico do contêiner de origem para um Data Lake Store:</span><span class="sxs-lookup"><span data-stu-id="bb31e-199">Run the following command to copy all files with *.csv extension from a specific blob from the source container to a Data Lake Store:</span></span>

        AdlCopy /source https://<source_account>.blob.core.windows.net/<source_container>/<blob name> /dest swebhdfs://<dest_adls_account>.azuredatalakestore.net/<dest_folder>/ /sourcekey <storage_account_key_for_storage_container> /Pattern *.csv

    <span data-ttu-id="bb31e-200">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="bb31e-200">For example:</span></span>

        AdlCopy /source https://mystorage.blob.core.windows.net/mycluster/HdiSamples/HdiSamples/FoodInspectionData/ /dest adl://mydatalakestore.azuredatalakestore.net/mynewfolder/ /sourcekey uJUfvD6cEvhfLoBae2yyQf8t9/BpbWZ4XoYj4kAS5Jf40pZaMNf0q6a8yqTxktwVgRED4vPHeh/50iS9atS5LQ== /Pattern *.csv

## <a name="billing"></a><span data-ttu-id="bb31e-201">Cobrança</span><span class="sxs-lookup"><span data-stu-id="bb31e-201">Billing</span></span>
* <span data-ttu-id="bb31e-202">Se você usar a ferramenta AdlCopy autonomamente, será cobrado pelos custos de egresso para movimentação de dados se a conta de armazenamento do Azure de origem não estiver na mesma região que o Repositório Data Lake.</span><span class="sxs-lookup"><span data-stu-id="bb31e-202">If you use the AdlCopy tool as standalone you will be billed for egress costs for moving data, if the source Azure Storage account is not in the same region as the Data Lake Store.</span></span>
* <span data-ttu-id="bb31e-203">Se você usar a ferramenta AdlCopy com sua conta da Análise Data Lake, as [taxas de cobrança da Análise Data Lake](https://azure.microsoft.com/pricing/details/data-lake-analytics/) padrão serão aplicadas.</span><span class="sxs-lookup"><span data-stu-id="bb31e-203">If you use the AdlCopy tool with your Data Lake Analytics account, standard [Data Lake Analytics billing rates](https://azure.microsoft.com/pricing/details/data-lake-analytics/) will apply.</span></span>

## <a name="considerations-for-using-adlcopy"></a><span data-ttu-id="bb31e-204">Considerações para o uso do AdlCopy</span><span class="sxs-lookup"><span data-stu-id="bb31e-204">Considerations for using AdlCopy</span></span>
* <span data-ttu-id="bb31e-205">O AdlCopy (para a versão 1.0.5) permite copiar dados de origens que, juntas, têm mais de milhares de arquivos e pastas.</span><span class="sxs-lookup"><span data-stu-id="bb31e-205">AdlCopy (for version 1.0.5), supports copying data from sources that collectively have more than thousands of files and folders.</span></span> <span data-ttu-id="bb31e-206">No entanto, se você encontrar problemas ao copiar um conjunto de dados grande, poderá distribuir os arquivos/pastas em subpastas diferentes e usar o caminho para as subpastas como a origem em vez disso.</span><span class="sxs-lookup"><span data-stu-id="bb31e-206">However, if you encounter issues copying a large dataset, you can distribute the files/folders into different sub-folders and use the path to those sub-folders as the source instead.</span></span>

## <a name="performance-considerations-for-using-adlcopy"></a><span data-ttu-id="bb31e-207">Considerações de desempenho para o uso do AdlCopy</span><span class="sxs-lookup"><span data-stu-id="bb31e-207">Performance considerations for using AdlCopy</span></span>

<span data-ttu-id="bb31e-208">O AdlCopy dá suporte à cópia de dados que contém milhares de arquivos e pastas.</span><span class="sxs-lookup"><span data-stu-id="bb31e-208">AdlCopy supports copying data containing thousands of files and folders.</span></span> <span data-ttu-id="bb31e-209">No entanto, se você encontrar problemas para copiar um grande conjunto de dados, será possível distribuir as arquivos/pastas em subpastas menores.</span><span class="sxs-lookup"><span data-stu-id="bb31e-209">However, if you encounter issues copying a large dataset, you can distribute the files/folders into smaller sub-folders.</span></span> <span data-ttu-id="bb31e-210">O AdlCopy foi desenvolvido para cópias ad hoc.</span><span class="sxs-lookup"><span data-stu-id="bb31e-210">AdlCopy was built for ad hoc copies.</span></span> <span data-ttu-id="bb31e-211">Se você estiver tentando copiar dados de forma recorrente, considere usar o [Azure Data Factory](../data-factory/data-factory-azure-datalake-connector.md), que fornece gerenciamento completo sobre as operações de cópia.</span><span class="sxs-lookup"><span data-stu-id="bb31e-211">If you are trying to copy data on a recurring basis, you should consider using [Azure Data Factory](../data-factory/data-factory-azure-datalake-connector.md) that provides full management around the copy operations.</span></span>

## <a name="release-notes"></a><span data-ttu-id="bb31e-212">Notas de versão</span><span class="sxs-lookup"><span data-stu-id="bb31e-212">Release notes</span></span>
* <span data-ttu-id="bb31e-213">1.0.13 – se você estiver copiando dados para a mesma conta do Azure Data Lake Store entre vários comandos adlcopy, você não precisará mais digitar suas credenciais novamente para cada execução.</span><span class="sxs-lookup"><span data-stu-id="bb31e-213">1.0.13 - If you are copying data to the same Azure Data Lake Store account across multiple adlcopy commands, you do not need to reenter your credentials for each run anymore.</span></span> <span data-ttu-id="bb31e-214">O Adlcopy agora gravará essas informações em cache entre várias execuções.</span><span class="sxs-lookup"><span data-stu-id="bb31e-214">Adlcopy will now cache that information across multiple runs.</span></span>

## <a name="next-steps"></a><span data-ttu-id="bb31e-215">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="bb31e-215">Next steps</span></span>
* [<span data-ttu-id="bb31e-216">Proteger dados no Repositório Data Lake</span><span class="sxs-lookup"><span data-stu-id="bb31e-216">Secure data in Data Lake Store</span></span>](data-lake-store-secure-data.md)
* [<span data-ttu-id="bb31e-217">Usar a Análise Data Lake do Azure com o Repositório Data Lake</span><span class="sxs-lookup"><span data-stu-id="bb31e-217">Use Azure Data Lake Analytics with Data Lake Store</span></span>](../data-lake-analytics/data-lake-analytics-get-started-portal.md)
* [<span data-ttu-id="bb31e-218">Usar o Azure HDInsight com o Repositório Data Lake</span><span class="sxs-lookup"><span data-stu-id="bb31e-218">Use Azure HDInsight with Data Lake Store</span></span>](data-lake-store-hdinsight-hadoop-use-portal.md)
