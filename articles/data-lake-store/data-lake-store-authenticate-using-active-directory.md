---
title: "Autenticação de serviço a serviço: Data Lake Store com o Azure Active Directory | Microsoft Docs"
description: "Saiba como autenticação de serviço a serviço tooachieve com repositório Data Lake usando o Active Directory do Azure"
services: data-lake-store
documentationcenter: 
author: nitinme
manager: jhubbard
editor: cgronlun
ms.assetid: 820b7c5d-4863-4225-9bd1-df4d8f515537
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 04/21/2017
ms.author: nitinme
ms.openlocfilehash: 2e56237a75f020067b3248a1e1cfaf3c8df1371c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="service-to-service-authentication-with-data-lake-store-using-azure-active-directory"></a><span data-ttu-id="116c1-103">Autenticação de serviço a serviço com o Data Lake Store usando o Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="116c1-103">Service-to-service authentication with Data Lake Store using Azure Active Directory</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="116c1-104">Autenticação serviço a serviço</span><span class="sxs-lookup"><span data-stu-id="116c1-104">Service-to-service authentication</span></span>](data-lake-store-authenticate-using-active-directory.md)
> * [<span data-ttu-id="116c1-105">Autenticação do usuário final</span><span class="sxs-lookup"><span data-stu-id="116c1-105">End-user authentication</span></span>](data-lake-store-end-user-authenticate-using-active-directory.md)
> 
> 

<span data-ttu-id="116c1-106">O Azure Data Lake Store usa o Azure Active Directory para autenticação.</span><span class="sxs-lookup"><span data-stu-id="116c1-106">Azure Data Lake Store uses Azure Active Directory for authentication.</span></span> <span data-ttu-id="116c1-107">Antes de criar um aplicativo que funciona com repositório Azure Data Lake ou análise Azure Data Lake, primeiro você deve decidir como você gostaria que tooauthenticate seu aplicativo com o Azure Active Directory (AD do Azure).</span><span class="sxs-lookup"><span data-stu-id="116c1-107">Before authoring an application that works with Azure Data Lake Store or Azure Data Lake Analytics, you must first decide how you would like tooauthenticate your application with Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="116c1-108">Olá duas opções principais disponíveis são:</span><span class="sxs-lookup"><span data-stu-id="116c1-108">hello two main options available are:</span></span>

* <span data-ttu-id="116c1-109">Autenticação do usuário final</span><span class="sxs-lookup"><span data-stu-id="116c1-109">End-user authentication</span></span> 
* <span data-ttu-id="116c1-110">Autenticação serviço a serviço (este artigo)</span><span class="sxs-lookup"><span data-stu-id="116c1-110">Service-to-service authentication (this article)</span></span> 

<span data-ttu-id="116c1-111">Ambas as opções resultam em seu aplicativo que está sendo fornecido com um token de OAuth 2.0, que obtém tooeach anexado solicitação feita tooAzure repositório Data Lake ou análise Azure Data Lake.</span><span class="sxs-lookup"><span data-stu-id="116c1-111">Both these options result in your application being provided with an OAuth 2.0 token, which gets attached tooeach request made tooAzure Data Lake Store or Azure Data Lake Analytics.</span></span>

<span data-ttu-id="116c1-112">Este artigo explica como criar um **aplicativo Web do Azure AD para autenticação serviço a serviço**.</span><span class="sxs-lookup"><span data-stu-id="116c1-112">This article talks about how create an **Azure AD web application for service-to-service authentication**.</span></span> <span data-ttu-id="116c1-113">Para obter instruções sobre a configuração de aplicativo do Azure AD para autenticação de usuário final, consulte [Autenticação de usuário final com o Data Lake Store usando o Azure Active Directory](data-lake-store-end-user-authenticate-using-active-directory.md).</span><span class="sxs-lookup"><span data-stu-id="116c1-113">For instructions on Azure AD application configuration for end-user authentication see [End-user authentication with Data Lake Store using Azure Active Directory](data-lake-store-end-user-authenticate-using-active-directory.md).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="116c1-114">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="116c1-114">Prerequisites</span></span>
* <span data-ttu-id="116c1-115">Uma assinatura do Azure.</span><span class="sxs-lookup"><span data-stu-id="116c1-115">An Azure subscription.</span></span> <span data-ttu-id="116c1-116">Consulte [Obter avaliação gratuita do Azure](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="116c1-116">See [Get Azure free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>

## <a name="step-1-create-an-active-directory-web-application"></a><span data-ttu-id="116c1-117">Etapa 1: Criar um aplicativo Web do Active Directory</span><span class="sxs-lookup"><span data-stu-id="116c1-117">Step 1: Create an Active Directory web application</span></span>

<span data-ttu-id="116c1-118">Crie e configure um aplicativo Web do Azure AD para autenticação serviço a serviço com o Azure Data Lake Store usando o Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="116c1-118">Create and configure an Azure AD web application for service-to-service authentication with Azure Data Lake Store using Azure Active Directory.</span></span> <span data-ttu-id="116c1-119">Para obter instruções, consulte [Criar um aplicativo do Azure AD](../azure-resource-manager/resource-group-create-service-principal-portal.md).</span><span class="sxs-lookup"><span data-stu-id="116c1-119">For instructions, see [Create an Azure AD application](../azure-resource-manager/resource-group-create-service-principal-portal.md).</span></span>

<span data-ttu-id="116c1-120">Ao seguir as instruções Olá Olá acima link, certifique-se de selecionar **aplicativo Web / API** para tipo de aplicativo, conforme mostrado na captura de tela de saudação abaixo.</span><span class="sxs-lookup"><span data-stu-id="116c1-120">While following hello instructions at hello above link, make sure you select **Web App / API** for application type, as shown in hello screenshot below.</span></span>

<span data-ttu-id="116c1-121">![Criar aplicativo Web](./media/data-lake-store-authenticate-using-active-directory/azure-active-directory-create-web-app.png "Criar aplicativo Web")</span><span class="sxs-lookup"><span data-stu-id="116c1-121">![Create web app](./media/data-lake-store-authenticate-using-active-directory/azure-active-directory-create-web-app.png "Create web app")</span></span>

## <a name="step-2-get-application-id-authentication-key-and-tenant-id"></a><span data-ttu-id="116c1-122">Etapa 2: Obter a id do aplicativo, a chave de autenticação e a id de locatário</span><span class="sxs-lookup"><span data-stu-id="116c1-122">Step 2: Get application id, authentication key, and tenant id</span></span>
<span data-ttu-id="116c1-123">Ao fazer logon por meio de programação, é necessário id Olá para seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="116c1-123">When programmatically logging in, you need hello id for your application.</span></span> <span data-ttu-id="116c1-124">Se o aplicativo hello compatível com suas próprias credenciais, você também precisará uma chave de autenticação.</span><span class="sxs-lookup"><span data-stu-id="116c1-124">If hello application runs under its own credentials, you will also need an authentication key.</span></span>

* <span data-ttu-id="116c1-125">Para obter instruções sobre como ID do aplicativo hello tooretrieve e autenticação de chave (também segredo de cliente chamado hello) para seu aplicativo, consulte [chave de autenticação e a ID do aplicativo Get](../azure-resource-manager/resource-group-create-service-principal-portal.md#get-application-id-and-authentication-key).</span><span class="sxs-lookup"><span data-stu-id="116c1-125">For instructions on how tooretrieve hello application ID and authentication key (also called hello client secret) for your application, see [Get application ID and authentication key](../azure-resource-manager/resource-group-create-service-principal-portal.md#get-application-id-and-authentication-key).</span></span>

* <span data-ttu-id="116c1-126">Para obter instruções sobre como tooretrieve Olá ID de locatário, consulte [obter ID de locatário](../azure-resource-manager/resource-group-create-service-principal-portal.md#get-tenant-id).</span><span class="sxs-lookup"><span data-stu-id="116c1-126">For instructions on how tooretrieve hello tenant ID, see [Get tenant ID](../azure-resource-manager/resource-group-create-service-principal-portal.md#get-tenant-id).</span></span>

## <a name="step-3-assign-hello-azure-ad-application-toohello-azure-data-lake-store-account-file-or-folder-only-for-service-to-service-authentication"></a><span data-ttu-id="116c1-127">Etapa 3: Atribuir pasta (apenas para autenticação de serviços) ou o arquivo da conta do repositório Azure Data Lake aplicativo toohello Olá AD do Azure</span><span class="sxs-lookup"><span data-stu-id="116c1-127">Step 3: Assign hello Azure AD application toohello Azure Data Lake Store account file or folder (only for service-to-service authentication)</span></span>
1. <span data-ttu-id="116c1-128">Logon toohello novo [portal do Azure](https://portal.azure.com) e abra a conta do repositório Azure Data Lake Olá que você deseja tooassociate com hello aplicativo do Active Directory do Azure criado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="116c1-128">Sign on toohello new [Azure portal](https://portal.azure.com) and open hello Azure Data Lake Store account that you want tooassociate with hello Azure Active Directory application you created earlier.</span></span>
2. <span data-ttu-id="116c1-129">Na folha de sua conta do Repositório Data Lake, clique em **Gerenciador de Dados**.</span><span class="sxs-lookup"><span data-stu-id="116c1-129">In your Data Lake Store account blade, click **Data Explorer**.</span></span>
   
    <span data-ttu-id="116c1-130">![Crie diretórios na conta do Data Lake Store](./media/data-lake-store-authenticate-using-active-directory/adl.start.data.explorer.png "criar diretórios na conta Data Lake")</span><span class="sxs-lookup"><span data-stu-id="116c1-130">![Create directories in Data Lake Store account](./media/data-lake-store-authenticate-using-active-directory/adl.start.data.explorer.png "Create directories in Data Lake account")</span></span>
3. <span data-ttu-id="116c1-131">Em Olá **Data Explorer** folha, clique em arquivo hello ou pasta para o qual você deseja tooprovide acesso toohello AD do Azure aplicativo e, em seguida, clique em **acesso**.</span><span class="sxs-lookup"><span data-stu-id="116c1-131">In hello **Data Explorer** blade, click hello file or folder for which you want tooprovide access toohello Azure AD application, and then click **Access**.</span></span> <span data-ttu-id="116c1-132">arquivo de tooa de acesso tooconfigure, você deve clicar em **acesso** de saudação **a visualização de arquivo** folha.</span><span class="sxs-lookup"><span data-stu-id="116c1-132">tooconfigure access tooa file, you must click **Access** from hello **File Preview** blade.</span></span>
   
    <span data-ttu-id="116c1-133">![Configurar ACLs no sistema de arquivos do Data Lake](./media/data-lake-store-authenticate-using-active-directory/adl.acl.1.png "definir ACLs no sistema de arquivos do Data Lake")</span><span class="sxs-lookup"><span data-stu-id="116c1-133">![Set ACLs on Data Lake file system](./media/data-lake-store-authenticate-using-active-directory/adl.acl.1.png "Set ACLs on Data Lake file system")</span></span>
4. <span data-ttu-id="116c1-134">Olá **acesso** folha lista padrão de acesso a saudação e acesso personalizado já atribuído toohello raiz.</span><span class="sxs-lookup"><span data-stu-id="116c1-134">hello **Access** blade lists hello standard access and custom access already assigned toohello root.</span></span> <span data-ttu-id="116c1-135">Clique em Olá **adicionar** nível personalizado de ícone tooadd ACLs.</span><span class="sxs-lookup"><span data-stu-id="116c1-135">Click hello **Add** icon tooadd custom-level ACLs.</span></span>
   
    <span data-ttu-id="116c1-136">![Lista de acesso padrão e personalizado](./media/data-lake-store-authenticate-using-active-directory/adl.acl.2.png "lista de acesso padrão e personalizado")</span><span class="sxs-lookup"><span data-stu-id="116c1-136">![List standard and custom access](./media/data-lake-store-authenticate-using-active-directory/adl.acl.2.png "List standard and custom access")</span></span>
5. <span data-ttu-id="116c1-137">Clique em Olá **adicionar** saudação do ícone tooopen **adicionar personalizado acesso** folha.</span><span class="sxs-lookup"><span data-stu-id="116c1-137">Click hello **Add** icon tooopen hello **Add Custom Access** blade.</span></span> <span data-ttu-id="116c1-138">Nessa folha, clique em **Selecionar usuário ou grupo**e, em seguida, em **Selecionar usuário ou grupo** folha, procure o aplicativo do Active Directory do Azure hello criado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="116c1-138">In this blade, click **Select User or Group**, and then in **Select User or Group** blade, look for hello Azure Active Directory application you created earlier.</span></span> <span data-ttu-id="116c1-139">Se você tiver muitos grupos toosearch do, use a caixa de texto de saudação em toofilter superior de Olá Olá pelo nome de grupo.</span><span class="sxs-lookup"><span data-stu-id="116c1-139">If you have a lot of groups toosearch from, use hello text box at hello top toofilter on hello group name.</span></span> <span data-ttu-id="116c1-140">Clique em Olá grupo você deseja tooadd e, em seguida, clique em **selecione**.</span><span class="sxs-lookup"><span data-stu-id="116c1-140">Click hello group you want tooadd and then click **Select**.</span></span>
   
    <span data-ttu-id="116c1-141">![Adicionar um grupo](./media/data-lake-store-authenticate-using-active-directory/adl.acl.3.png "Adicionar um grupo")</span><span class="sxs-lookup"><span data-stu-id="116c1-141">![Add a group](./media/data-lake-store-authenticate-using-active-directory/adl.acl.3.png "Add a group")</span></span>
6. <span data-ttu-id="116c1-142">Clique em **selecionar permissões**, selecione permissões hello e se você deseja que as permissões de saudação tooassign como uma ACL padrão, para acessar a ACL, ou ambos.</span><span class="sxs-lookup"><span data-stu-id="116c1-142">Click **Select Permissions**, select hello permissions and whether you want tooassign hello permissions as a default ACL, access ACL, or both.</span></span> <span data-ttu-id="116c1-143">Clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="116c1-143">Click **OK**.</span></span>
   
    <span data-ttu-id="116c1-144">![Atribuir permissões toogroup](./media/data-lake-store-authenticate-using-active-directory/adl.acl.4.png "atribuir permissões toogroup")</span><span class="sxs-lookup"><span data-stu-id="116c1-144">![Assign permissions toogroup](./media/data-lake-store-authenticate-using-active-directory/adl.acl.4.png "Assign permissions toogroup")</span></span>
   
    <span data-ttu-id="116c1-145">Para obter mais informações sobre permissões no Data Lake Store e ACLs de acesso/padrão, consulte [Controle de acesso no Data Lake Store](data-lake-store-access-control.md).</span><span class="sxs-lookup"><span data-stu-id="116c1-145">For more information about permissions in Data Lake Store, and Default/Access ACLs, see [Access Control in Data Lake Store](data-lake-store-access-control.md).</span></span>
7. <span data-ttu-id="116c1-146">Em Olá **adicionar personalizado acesso** folha, clique em **Okey**.</span><span class="sxs-lookup"><span data-stu-id="116c1-146">In hello **Add Custom Access** blade, click **OK**.</span></span> <span data-ttu-id="116c1-147">Olá recém-adicionado grupo com permissões de saudação associada, agora será listado no hello **acesso** folha.</span><span class="sxs-lookup"><span data-stu-id="116c1-147">hello newly added group, with hello associated permissions, will now be listed in hello **Access** blade.</span></span>
   
    <span data-ttu-id="116c1-148">![Atribuir permissões toogroup](./media/data-lake-store-authenticate-using-active-directory/adl.acl.5.png "atribuir permissões toogroup")</span><span class="sxs-lookup"><span data-stu-id="116c1-148">![Assign permissions toogroup](./media/data-lake-store-authenticate-using-active-directory/adl.acl.5.png "Assign permissions toogroup")</span></span>

## <a name="step-4-get-hello-oauth-20-token-endpoint-only-for-java-based-applications"></a><span data-ttu-id="116c1-149">Etapa 4: Obter ponto de extremidade token do OAuth 2.0 hello (somente para aplicativos baseados em Java)</span><span class="sxs-lookup"><span data-stu-id="116c1-149">Step 4: Get hello OAuth 2.0 token endpoint (only for Java-based applications)</span></span>

1. <span data-ttu-id="116c1-150">Logon toohello novo [portal do Azure](https://portal.azure.com) e clique em Active Directory no painel esquerdo da saudação.</span><span class="sxs-lookup"><span data-stu-id="116c1-150">Sign on toohello new [Azure portal](https://portal.azure.com) and click Active Directory from hello left pane.</span></span>

2. <span data-ttu-id="116c1-151">No painel esquerdo do hello, clique em **registros do aplicativo**.</span><span class="sxs-lookup"><span data-stu-id="116c1-151">From hello left pane, click **App registrations**.</span></span>

3. <span data-ttu-id="116c1-152">Da parte superior de saudação da folha de registros do aplicativo hello, clique em **pontos de extremidade**.</span><span class="sxs-lookup"><span data-stu-id="116c1-152">From hello top of hello App registrations blade, click **Endpoints**.</span></span>

    <span data-ttu-id="116c1-153">![Ponto de extremidade de token OAuth](./media/data-lake-store-authenticate-using-active-directory/oauth-token-endpoint.png "Ponto de extremidade de token OAuth")</span><span class="sxs-lookup"><span data-stu-id="116c1-153">![OAuth token endpoint](./media/data-lake-store-authenticate-using-active-directory/oauth-token-endpoint.png "OAuth token endpoint")</span></span>

4. <span data-ttu-id="116c1-154">Na lista de saudação de pontos de extremidade, copie o ponto de extremidade token Olá OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="116c1-154">From hello list of endpoints, copy hello OAuth 2.0 token endpoint.</span></span>

    <span data-ttu-id="116c1-155">![Ponto de extremidade de token OAuth](./media/data-lake-store-authenticate-using-active-directory/oauth-token-endpoint-1.png "Ponto de extremidade de token OAuth")</span><span class="sxs-lookup"><span data-stu-id="116c1-155">![OAuth token endpoint](./media/data-lake-store-authenticate-using-active-directory/oauth-token-endpoint-1.png "OAuth token endpoint")</span></span>   

## <a name="next-steps"></a><span data-ttu-id="116c1-156">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="116c1-156">Next steps</span></span>
<span data-ttu-id="116c1-157">Neste artigo, você criou um aplicativo da web do AD do Azure e coletadas informações Olá necessárias em seus aplicativos cliente que você cria usando o SDK do .NET, Java SDK, etc. Você pode continuar toohello artigos que falar sobre como autenticar toouse Olá AD do Azure web aplicativo toofirst repositório Data Lake e executam outras operações no repositório de saudação a seguir.</span><span class="sxs-lookup"><span data-stu-id="116c1-157">In this article you created an Azure AD web application and gathered hello information you need in your client applications that you author using .NET SDK, Java SDK, etc. You can now proceed toohello following articles that talk about how toouse hello Azure AD web application toofirst authenticate with Data Lake Store and then perform other operations on hello store.</span></span>

* [<span data-ttu-id="116c1-158">Introdução ao Repositório Azure Data Lake usando o SDK do .NET</span><span class="sxs-lookup"><span data-stu-id="116c1-158">Get started with Azure Data Lake Store using .NET SDK</span></span>](data-lake-store-get-started-net-sdk.md)
* [<span data-ttu-id="116c1-159">Introdução ao Azure Data Lake Store usando o SDK do Java</span><span class="sxs-lookup"><span data-stu-id="116c1-159">Get started with Azure Data Lake Store using Java SDK</span></span>](data-lake-store-get-started-java-sdk.md)

<span data-ttu-id="116c1-160">Este artigo percorrido você Olá etapas básicas necessárias tooget um usuário principal para cima e em execução para o seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="116c1-160">This article walked you through hello basic steps needed tooget a user principal up and running for your application.</span></span> <span data-ttu-id="116c1-161">Você pode examinar Olá informações adicionais de tooget artigos a seguir:</span><span class="sxs-lookup"><span data-stu-id="116c1-161">You can look at hello following articles tooget further information:</span></span>
* [<span data-ttu-id="116c1-162">Usar a entidade de serviço do PowerShell toocreate</span><span class="sxs-lookup"><span data-stu-id="116c1-162">Use PowerShell toocreate service principal</span></span>](https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-authenticate-service-principal)
* [<span data-ttu-id="116c1-163">Usar autenticação de certificado para autenticação de entidade de serviço</span><span class="sxs-lookup"><span data-stu-id="116c1-163">Use certificate authentication for service principal authentication</span></span>](https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-authenticate-service-principal#create-service-principal-with-certificate)
* [<span data-ttu-id="116c1-164">TooAzure de tooauthenticate outros métodos AD</span><span class="sxs-lookup"><span data-stu-id="116c1-164">Other methods tooauthenticate tooAzure AD</span></span>](https://docs.microsoft.com/en-us/azure/active-directory/active-directory-authentication-scenarios)


