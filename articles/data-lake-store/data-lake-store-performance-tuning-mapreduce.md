---
title: Diretrizes de ajuste de desempenho para MapReduce do Azure Data Lake Store | Microsoft Docs
description: Diretrizes de ajuste de desempenho para MapReduce do Azure Data Lake Store
services: data-lake-store
documentationcenter: 
author: stewu
manager: amitkul
editor: stewu
ms.assetid: ebde7b9f-2e51-4d43-b7ab-566417221335
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 12/19/2016
ms.author: stewu
ms.openlocfilehash: 9528148792f083cb0e48d356e61cf61762ee954f
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="performance-tuning-guidance-for-mapreduce-on-hdinsight-and-azure-data-lake-store"></a><span data-ttu-id="f7f8f-103">Diretrizes de ajuste do desempenho para o MapReduce no HDInsight e Azure Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="f7f8f-103">Performance tuning guidance for MapReduce on HDInsight and Azure Data Lake Store</span></span>


## <a name="prerequisites"></a><span data-ttu-id="f7f8f-104">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="f7f8f-104">Prerequisites</span></span>

* <span data-ttu-id="f7f8f-105">**Uma assinatura do Azure**.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-105">**An Azure subscription**.</span></span> <span data-ttu-id="f7f8f-106">Consulte [Obter avaliação gratuita do Azure](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="f7f8f-106">See [Get Azure free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>
* <span data-ttu-id="f7f8f-107">**Uma conta do repositório Azure Data Lake**.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-107">**An Azure Data Lake Store account**.</span></span> <span data-ttu-id="f7f8f-108">Para obter instruções sobre como criar uma, consulte [Introdução ao repositório Azure Data Lake](data-lake-store-get-started-portal.md)</span><span class="sxs-lookup"><span data-stu-id="f7f8f-108">For instructions on how to create one, see [Get started with Azure Data Lake Store](data-lake-store-get-started-portal.md)</span></span>
* <span data-ttu-id="f7f8f-109">**Cluster HDInsight do Azure** com acesso a uma conta do Repositório Data Lake.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-109">**Azure HDInsight cluster** with access to a Data Lake Store account.</span></span> <span data-ttu-id="f7f8f-110">Confira [Criar um cluster HDInsight com o Data Lake Store](data-lake-store-hdinsight-hadoop-use-portal.md).</span><span class="sxs-lookup"><span data-stu-id="f7f8f-110">See [Create an HDInsight cluster with Data Lake Store](data-lake-store-hdinsight-hadoop-use-portal.md).</span></span> <span data-ttu-id="f7f8f-111">Certifique-se de habilitar a área de trabalho remota para o cluster.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-111">Make sure you enable Remote Desktop for the cluster.</span></span>
* <span data-ttu-id="f7f8f-112">**Usando o MapReduce no HDInsight**.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-112">**Using MapReduce on HDInsight**.</span></span>  <span data-ttu-id="f7f8f-113">Para obter mais informações, consulte [Usar o MapReduce no Hadoop no HDInsight](https://docs.microsoft.com/en-us/azure/hdinsight/hdinsight-use-mapreduce)</span><span class="sxs-lookup"><span data-stu-id="f7f8f-113">For more information, see [Use MapReduce in Hadoop on HDInsight](https://docs.microsoft.com/en-us/azure/hdinsight/hdinsight-use-mapreduce)</span></span>  
* <span data-ttu-id="f7f8f-114">**Diretrizes de ajuste de desempenho no ADLS**.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-114">**Performance tuning guidelines on ADLS**.</span></span>  <span data-ttu-id="f7f8f-115">Para ver os conceitos gerais de desempenho, confira [Diretrizes de ajuste de desempenho do Data Lake Store](https://docs.microsoft.com/en-us/azure/data-lake-store/data-lake-store-performance-tuning-guidance)</span><span class="sxs-lookup"><span data-stu-id="f7f8f-115">For general performance concepts, see [Data Lake Store Performance Tuning Guidance](https://docs.microsoft.com/en-us/azure/data-lake-store/data-lake-store-performance-tuning-guidance)</span></span>  

## <a name="parameters"></a><span data-ttu-id="f7f8f-116">parâmetros</span><span class="sxs-lookup"><span data-stu-id="f7f8f-116">Parameters</span></span>

<span data-ttu-id="f7f8f-117">Ao executar trabalhos do MapReduce, aqui estão os parâmetros mais importantes que você pode configurar para aumentar o desempenho no ADLS:</span><span class="sxs-lookup"><span data-stu-id="f7f8f-117">When running MapReduce jobs, here are the most important parameters that you can configure to increase performance on ADLS:</span></span>

* <span data-ttu-id="f7f8f-118">**Mapreduce.map.memory.mb** – a quantidade de memória para alocar para cada mapeador</span><span class="sxs-lookup"><span data-stu-id="f7f8f-118">**Mapreduce.map.memory.mb** – The amount of memory to allocate to each mapper</span></span>
* <span data-ttu-id="f7f8f-119">**Mapreduce.job.maps** – o número de tarefas de mapeamento por trabalho</span><span class="sxs-lookup"><span data-stu-id="f7f8f-119">**Mapreduce.job.maps** – The number of map tasks per job</span></span>
* <span data-ttu-id="f7f8f-120">**Mapreduce.reduce.memory.mb** – a quantidade de memória para alocar para cada redutor</span><span class="sxs-lookup"><span data-stu-id="f7f8f-120">**Mapreduce.reduce.memory.mb** – The amount of memory to allocate to each reducer</span></span>
* <span data-ttu-id="f7f8f-121">**Mapreduce.job.reduces** – o número de tarefas de redução por trabalho</span><span class="sxs-lookup"><span data-stu-id="f7f8f-121">**Mapreduce.job.reduces** – The number of reduce tasks per job</span></span>

<span data-ttu-id="f7f8f-122">**Mapreduce.map.memory / Mapreduce.reduce.memory** Esse número deve ser ajustado com base na quantidade de memória que é necessária para a tarefa de mapeamento e/ou redução.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-122">**Mapreduce.map.memory / Mapreduce.reduce.memory** This number should be adjusted based on how much memory is needed for the map and/or reduce task.</span></span>  <span data-ttu-id="f7f8f-123">Os valores padrão de mapreduce.map.memory e mapreduce.reduce.memory podem ser exibidos no Ambari por meio da configuração do Yarn.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-123">The default values of mapreduce.map.memory and mapreduce.reduce.memory can be viewed in Ambari via the Yarn configuration.</span></span>  <span data-ttu-id="f7f8f-124">No Ambari, navegue até YARN e exiba a guia Configurações.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-124">In Ambari, navigate to YARN and view the Configs tab.</span></span>  <span data-ttu-id="f7f8f-125">A memória YARN será exibida.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-125">The YARN memory will be displayed.</span></span>  

<span data-ttu-id="f7f8f-126">**Mapreduce.job.maps / Mapreduce.job.reduces** Isso determinará o número máximo de mapeadores ou redutores a serem criados.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-126">**Mapreduce.job.maps / Mapreduce.job.reduces** This will determine the maximum number of mappers or reducers to be created.</span></span>  <span data-ttu-id="f7f8f-127">O número de divisões determinará quantas mapeadores serão criados para o trabalho MapReduce.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-127">The number of splits will determine how many mappers will be created for the MapReduce job.</span></span>  <span data-ttu-id="f7f8f-128">Portanto, você poderá obter menos mapeadores que o solicitado se houver menos divisões do que o número de mapeadores solicitado.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-128">Therefore, you may get less mappers than you requested if there are less splits than the number of mappers requested.</span></span>       

## <a name="guidance"></a><span data-ttu-id="f7f8f-129">Diretrizes</span><span class="sxs-lookup"><span data-stu-id="f7f8f-129">Guidance</span></span>

<span data-ttu-id="f7f8f-130">**Etapa 1: determinar o número de trabalhos em execução** – por padrão, o MapReduce usará todo o cluster para o seu trabalho.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-130">**Step 1: Determine number of jobs running** - By default, MapReduce will use the entire cluster for your job.</span></span>  <span data-ttu-id="f7f8f-131">Você pode usar uma parte menor do cluster ao usar um número de mapeadores menor do que o número de contêineres disponíveis existentes.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-131">You can use less of the cluster by using less mappers than there are available containers.</span></span>  <span data-ttu-id="f7f8f-132">As diretrizes neste documento pressupõem que seu aplicativo é o único aplicativo em execução no cluster.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-132">The guidance in this document assumes that your application is the only application running on your cluster.</span></span>      

<span data-ttu-id="f7f8f-133">**Etapa 2: Definir mapreduce.map.memory/mapreduce.reduce.memory** – o tamanho da memória para tarefas de mapeamento e redução dependerá do seu trabalho específico.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-133">**Step 2: Set mapreduce.map.memory/mapreduce.reduce.memory** –  The size of the memory for map and reduce tasks will be dependent on your specific job.</span></span>  <span data-ttu-id="f7f8f-134">Caso deseje aumentar a simultaneidade, você poderá reduzir o tamanho da memória.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-134">You can reduce the memory size if you want to increase concurrency.</span></span>  <span data-ttu-id="f7f8f-135">O número de tarefas em execução simultânea depende do número de contêineres.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-135">The number of concurrently running tasks depends on the number of containers.</span></span>  <span data-ttu-id="f7f8f-136">Diminuindo a quantidade de memória por mapeador ou redutor, mais contêineres podem ser criados, o que permite a execução simultânea de mais mapeadores ou redutores.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-136">By decreasing the amount of memory per mapper or reducer, more containers can be created, which enable more mappers or reducers to run concurrently.</span></span>  <span data-ttu-id="f7f8f-137">Diminuir muito a quantidade de memória pode fazer com que alguns processos fiquem sem memória.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-137">Decreasing the amount of memory too much may cause some processes to run out of memory.</span></span>  <span data-ttu-id="f7f8f-138">Se você receber um erro de heap quando executar seu trabalho, você deverá aumentar a memória por mapeador ou redutor.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-138">If you get a heap error when running your job, you should increase the memory per mapper or reducer.</span></span>  <span data-ttu-id="f7f8f-139">Considere que adicionar mais contêineres adicionará sobrecarga extra para cada contêiner adicional, o que pode degradar o desempenho.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-139">You should consider that adding more containers will add extra overhead for each additional container, which can potentially degrade performance.</span></span>  <span data-ttu-id="f7f8f-140">Outra alternativa é de obter mais memória pelo uso de um cluster com maiores quantidades de memória ou pelo aumento do número de nós no cluster.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-140">Another alternative is to get more memory by using a cluster that has higher amounts of memory or increasing the number of nodes in your cluster.</span></span>  <span data-ttu-id="f7f8f-141">Mais memória permitirá o uso de mais contêineres, o que significa mais simultaneidade.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-141">More memory will enable more containers to be used, which means more concurrency.</span></span>  

<span data-ttu-id="f7f8f-142">**Etapa 3: determinar a memória YARN total** – para ajustar mapreduce.job.maps/mapreduce.job.reduces, você deve considerar a quantidade de memória YARN total disponível para uso.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-142">**Step 3: Determine Total YARN memory** - To tune mapreduce.job.maps/mapreduce.job.reduces, you should consider the amount of total YARN memory available for use.</span></span>  <span data-ttu-id="f7f8f-143">Essas informações estão disponíveis no Ambari.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-143">This information is available in Ambari.</span></span>  <span data-ttu-id="f7f8f-144">Navegue até YARN e exiba a guia Configurações.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-144">Navigate to YARN and view the Configs tab.</span></span>  <span data-ttu-id="f7f8f-145">A memória YARN é exibida nessa janela.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-145">The YARN memory is displayed in this window.</span></span>  <span data-ttu-id="f7f8f-146">Para obter a memória YARN total, você deve multiplicar a memória YARN por nó pelo número de nós em seu cluster.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-146">You should multiply the YARN memory with the number of nodes in your cluster to get the total YARN memory.</span></span>

    Total YARN memory = nodes * YARN memory per node
<span data-ttu-id="f7f8f-147">Se você estiver usando um cluster vazio, a memória poderá ser a memória YARN total para seu cluster.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-147">If you are using an empty cluster, then memory can be the total YARN memory for your cluster.</span></span>  <span data-ttu-id="f7f8f-148">Se outros aplicativos estiverem usando memória, você poderá usar apenas uma parte da memória do cluster, reduzindo o número de mapeadores ou redutores para o número de contêineres que você deseja usar.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-148">If other applications are using memory, then you can choose to only use a portion of your cluster’s memory by reducing the number of mappers or reducers to the number of containers you want to use.</span></span>  

<span data-ttu-id="f7f8f-149">**Etapa 4: calcular o número de contêineres YARN** – contêineres YARN determinam a quantidade de simultaneidade disponível para o trabalho.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-149">**Step 4: Calculate number of YARN containers** – YARN containers dictate the amount of concurrency available for the job.</span></span>  <span data-ttu-id="f7f8f-150">Pegar a memória YARN total e divida-a por mapreduce.map.memory.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-150">Take total YARN memory and divide that by mapreduce.map.memory.</span></span>  

    # of YARN containers = total YARN memory / mapreduce.map.memory

<span data-ttu-id="f7f8f-151">**Etapa 5: definir mapreduce.job.maps/mapreduce.job.reduces** Defina mapreduce.job.maps/mapreduce.job.reduces para, no mínimo, o número de contêineres disponíveis.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-151">**Step 5: Set mapreduce.job.maps/mapreduce.job.reduces** Set mapreduce.job.maps/mapreduce.job.reduces to at least the number of available containers.</span></span>  <span data-ttu-id="f7f8f-152">Você pode experimentar ainda mais aumentando o número de mapeadores e redutores para ver se obtém um melhor desempenho.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-152">You can experiment further by increasing the number of mappers and reducers to see if you get better performance.</span></span>  <span data-ttu-id="f7f8f-153">Tenha em mente que mais mapeadores terão uma sobrecarga adicional, então ter um número excessivo de mapeadores pode degradar o desempenho.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-153">Keep in mind that more mappers will have additional overhead so having too many mappers may degrade performance.</span></span>  

<span data-ttu-id="f7f8f-154">O isolamento de CPU e agendamento de CPU são desligados por padrão para que o número de contêineres YARN seja restrito pela memória.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-154">CPU scheduling and CPU isolation are turned off by default so the number of YARN containers is constrained by memory.</span></span>

## <a name="example-calculation"></a><span data-ttu-id="f7f8f-155">Exemplo de cálculo</span><span class="sxs-lookup"><span data-stu-id="f7f8f-155">Example Calculation</span></span>

<span data-ttu-id="f7f8f-156">Suponhamos que você tenha um cluster composto de oito nós D14 e deseje executar um trabalho com uso intensivo de E/S.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-156">Let’s say you currently have a cluster composed of 8 D14 nodes and you want to run an I/O intensive job.</span></span>  <span data-ttu-id="f7f8f-157">Aqui estão os cálculos que você deve fazer:</span><span class="sxs-lookup"><span data-stu-id="f7f8f-157">Here are the calculations you should do:</span></span>

<span data-ttu-id="f7f8f-158">**Etapa 1: determinar o número de trabalhos em execução** – em nosso exemplo, vamos supor que nosso trabalho seja o único em execução.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-158">**Step 1: Determine number of jobs running** - for our example, we assume that our job is the only one running.</span></span>  

<span data-ttu-id="f7f8f-159">**Etapa 2: definir mapreduce.map.memory/mapreduce.reduce.memory** – em nosso exemplo, você está executando um trabalho com uso intensivo de E/S e decide que 3 GB de memória para tarefas de mapeamento serão suficientes.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-159">**Step 2: Set mapreduce.map.memory/mapreduce.reduce.memory** – for our example, you are running an I/O intensive job and decide that 3GB of memory for map tasks will be sufficient.</span></span>

    mapreduce.map.memory = 3GB
<span data-ttu-id="f7f8f-160">**Etapa 3: determinar o total de memória YARN**</span><span class="sxs-lookup"><span data-stu-id="f7f8f-160">**Step 3: Determine Total YARN memory**</span></span>

    total memory from the cluster is 8 nodes * 96GB of YARN memory for a D14 = 768GB
<span data-ttu-id="f7f8f-161">**Etapa 4: calcular o número de contêineres YARN**</span><span class="sxs-lookup"><span data-stu-id="f7f8f-161">**Step 4: Calculate # of YARN containers**</span></span>

    # of YARN containers = 768GB of available memory / 3 GB of memory =   256

<span data-ttu-id="f7f8f-162">**Etapa 5: definir mapreduce.job.maps/mapreduce.job.reduces**</span><span class="sxs-lookup"><span data-stu-id="f7f8f-162">**Step 5: Set mapreduce.job.maps/mapreduce.job.reduces**</span></span>

    mapreduce.map.jobs = 256

## <a name="limitations"></a><span data-ttu-id="f7f8f-163">Limitações</span><span class="sxs-lookup"><span data-stu-id="f7f8f-163">Limitations</span></span>

<span data-ttu-id="f7f8f-164">**Limitação do ADLS**</span><span class="sxs-lookup"><span data-stu-id="f7f8f-164">**ADLS throttling**</span></span>

<span data-ttu-id="f7f8f-165">Como um serviço multilocatário, o ADLS define limites de largura de banda de nível de conta.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-165">As a multi-tenant service, ADLS sets account level bandwidth limits.</span></span>  <span data-ttu-id="f7f8f-166">Se você atingir esses limites, começará a ver falhas de tarefas.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-166">If you hit these limits, you will start to see task failures.</span></span> <span data-ttu-id="f7f8f-167">Isso pode ser identificado observando os erros de limitação nos logs de tarefa.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-167">This can be identified by observing throttling errors in task logs.</span></span>  <span data-ttu-id="f7f8f-168">Se precisar de mais largura de banda para seu trabalho, entre em contato conosco.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-168">If you need more bandwidth for your job, please contact us.</span></span>   

<span data-ttu-id="f7f8f-169">Para verificar se há problemas de limitação, você precisa habilitar o log de depuração no lado do cliente.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-169">To check if you are getting throttled, you need to enable the debug logging on the client side.</span></span> <span data-ttu-id="f7f8f-170">Veja como fazer isso:</span><span class="sxs-lookup"><span data-stu-id="f7f8f-170">Here’s how you can do that:</span></span>

1. <span data-ttu-id="f7f8f-171">Coloque a seguinte propriedade nas propriedades de log4j em Ambari > YARN > Configuração > Avançado yarn-log4j: log4j.logger.com.microsoft.azure.datalake.store=DEBUG</span><span class="sxs-lookup"><span data-stu-id="f7f8f-171">Put the following property in the log4j properties in Ambari > YARN > Config > Advanced yarn-log4j: log4j.logger.com.microsoft.azure.datalake.store=DEBUG</span></span>

2. <span data-ttu-id="f7f8f-172">Reinicie todos os nós/o serviço para que a configuração entre em vigor.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-172">Restart all the nodes/service for the config to take effect.</span></span>

3. <span data-ttu-id="f7f8f-173">Se o problema for de limitação, você verá o código de erro HTTP 429 no arquivo de log do YARN.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-173">If you are getting throttled, you’ll see the HTTP 429 error code in the YARN log file.</span></span> <span data-ttu-id="f7f8f-174">O arquivo de log do YARN está em /tmp/&lt;usuário&gt;/yarn.log</span><span class="sxs-lookup"><span data-stu-id="f7f8f-174">The YARN log file is in /tmp/&lt;user&gt;/yarn.log</span></span>

## <a name="examples-to-run"></a><span data-ttu-id="f7f8f-175">Exemplos para execução</span><span class="sxs-lookup"><span data-stu-id="f7f8f-175">Examples to Run</span></span>

<span data-ttu-id="f7f8f-176">Para demonstrar como o MapReduce é executado no Azure Data Lake Store, temos abaixo um código de exemplo que foi executado em um cluster com as seguintes configurações:</span><span class="sxs-lookup"><span data-stu-id="f7f8f-176">To demonstrate how MapReduce runs on Azure Data Lake Store, below is some sample code that was run on a cluster with the following settings:</span></span>

* <span data-ttu-id="f7f8f-177">16 nós D14v2</span><span class="sxs-lookup"><span data-stu-id="f7f8f-177">16 node D14v2</span></span>
* <span data-ttu-id="f7f8f-178">Cluster Hadoop executando HDI 3.6</span><span class="sxs-lookup"><span data-stu-id="f7f8f-178">Hadoop cluster running HDI 3.6</span></span>

<span data-ttu-id="f7f8f-179">Para um ponto de partida, aqui estão alguns comandos de exemplo para executar o MapReduce Teragen, Terasort e Teravalidate.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-179">For a starting point, here are some example commands to run MapReduce Teragen, Terasort, and Teravalidate.</span></span>  <span data-ttu-id="f7f8f-180">Você pode ajustar esses comandos com base em seus recursos.</span><span class="sxs-lookup"><span data-stu-id="f7f8f-180">You can adjust these commands based on your resources.</span></span>

<span data-ttu-id="f7f8f-181">**Teragen**</span><span class="sxs-lookup"><span data-stu-id="f7f8f-181">**Teragen**</span></span>

    yarn jar /usr/hdp/current/hadoop-mapreduce-client/hadoop-mapreduce-examples.jar teragen -Dmapreduce.job.maps=2048 -Dmapreduce.map.memory.mb=3072 10000000000 adl://example/data/1TB-sort-input

<span data-ttu-id="f7f8f-182">**Terasort**</span><span class="sxs-lookup"><span data-stu-id="f7f8f-182">**Terasort**</span></span>

    yarn jar /usr/hdp/current/hadoop-mapreduce-client/hadoop-mapreduce-examples.jar terasort -Dmapreduce.job.maps=2048 -Dmapreduce.map.memory.mb=3072 -Dmapreduce.job.reduces=512 -Dmapreduce.reduce.memory.mb=3072 adl://example/data/1TB-sort-input adl://example/data/1TB-sort-output

<span data-ttu-id="f7f8f-183">**Teravalidate**</span><span class="sxs-lookup"><span data-stu-id="f7f8f-183">**Teravalidate**</span></span>

    yarn jar /usr/hdp/current/hadoop-mapreduce-client/hadoop-mapreduce-examples.jar teravalidate -Dmapreduce.job.maps=512 -Dmapreduce.map.memory.mb=3072 adl://example/data/1TB-sort-output adl://example/data/1TB-sort-validate
