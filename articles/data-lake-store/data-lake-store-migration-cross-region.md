---
title: "Migração entre regiões do Azure Data Lake Store | Microsoft Docs"
description: "Saiba mais sobre a migração entre regiões do Azure Data Lake Store."
services: data-lake-store
documentationcenter: 
author: swums
manager: amitkul
editor: swums
ms.assetid: ebde7b9f-2e51-4d43-b7ab-566417221335
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 01/27/2017
ms.author: stewu
ms.openlocfilehash: 650e1ea1a5e768ac72afc49435e4c4ab318a464a
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="migrate-data-lake-store-across-regions"></a><span data-ttu-id="e0e5e-103">Migrar o Data Lake Store entre regiões</span><span class="sxs-lookup"><span data-stu-id="e0e5e-103">Migrate Data Lake Store across regions</span></span>

<span data-ttu-id="e0e5e-104">Com o Azure Data Lake Store sendo disponibilizado em novas regiões, você pode optar por executar uma migração única para aproveitar o que a nova região tem a oferecer.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-104">As Azure Data Lake Store becomes available in new regions, you might choose to do a one-time migration, to take advantage of the new region.</span></span> <span data-ttu-id="e0e5e-105">Saiba o que considerar ao planejar e concluir a migração.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-105">Learn what to consider as you plan and complete the migration.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="e0e5e-106">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="e0e5e-106">Prerequisites</span></span>

* <span data-ttu-id="e0e5e-107">**Uma assinatura do Azure**.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-107">**An Azure subscription**.</span></span> <span data-ttu-id="e0e5e-108">Para obter mais informações, consulte [Criar sua conta gratuita do Azure hoje mesmo](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="e0e5e-108">For more information, see [Create your free Azure account today](https://azure.microsoft.com/pricing/free-trial/).</span></span>
* <span data-ttu-id="e0e5e-109">**Uma conta do Data Lake Store em duas regiões diferentes**.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-109">**A Data Lake Store account in two different regions**.</span></span> <span data-ttu-id="e0e5e-110">Para obter mais informações, consulte [Introdução ao Azure Data Lake Store](data-lake-store-get-started-portal.md).</span><span class="sxs-lookup"><span data-stu-id="e0e5e-110">For more information, see [Get started with Azure Data Lake Store](data-lake-store-get-started-portal.md).</span></span>
* <span data-ttu-id="e0e5e-111">**Azure Data Factory**.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-111">**Azure Data Factory**.</span></span> <span data-ttu-id="e0e5e-112">Para obter mais informações, consulte [Introdução ao Azure Data Factory](../data-factory/data-factory-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="e0e5e-112">For more information, see [Introduction to Azure Data Factory](../data-factory/data-factory-introduction.md).</span></span>


## <a name="migration-considerations"></a><span data-ttu-id="e0e5e-113">Considerações sobre a migração</span><span class="sxs-lookup"><span data-stu-id="e0e5e-113">Migration considerations</span></span>

<span data-ttu-id="e0e5e-114">Primeiro, identifique a estratégia de migração que funciona melhor para seu aplicativo, que grava, lê ou processa dados no Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-114">First, identify the migration strategy that works best for your application that writes, reads, or processes data in Data Lake Store.</span></span> <span data-ttu-id="e0e5e-115">Ao escolher uma estratégia, considere os requisitos de disponibilidade de seu aplicativo e o tempo de inatividade que ocorre durante a migração.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-115">When you choose a strategy, consider your application’s availability requirements, and the downtime that occurs during a migration.</span></span> <span data-ttu-id="e0e5e-116">Por exemplo, a abordagem mais simples poderia ser o uso do modelo de migração na nuvem “lift-and-shift”.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-116">For example, your simplest approach might be to use the “lift-and-shift” cloud migration model.</span></span> <span data-ttu-id="e0e5e-117">Nessa abordagem, você pausa o aplicativo em sua região existente, enquanto todos os seus dados são copiados para a nova região.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-117">In this approach, you pause the application in your existing region while all your data is copied to the new region.</span></span> <span data-ttu-id="e0e5e-118">Quando o processo de cópia é concluído, você retoma o aplicativo na nova região e, em seguida, exclui a conta antiga do Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-118">When the copy process is finished, you resume your application in the new region, and then delete the old Data Lake Store account.</span></span> <span data-ttu-id="e0e5e-119">O tempo de inatividade durante a migração é necessário.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-119">Downtime during the migration is required.</span></span>

<span data-ttu-id="e0e5e-120">Para reduzir o tempo de inatividade, é possível começar imediatamente a ingerir novos dados na nova região.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-120">To reduce downtime, you might immediately start ingesting new data in the new region.</span></span> <span data-ttu-id="e0e5e-121">Quando você tiver o mínimo de dados necessário, execute o aplicativo na nova região.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-121">When you have the minimum data needed, run your application in the new region.</span></span> <span data-ttu-id="e0e5e-122">Em segundo plano, continue copiando os dados mais antigos da conta existente do Data Lake Store para a nova conta do Data Lake Store na nova região.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-122">In the background, continue to copy older data from the existing Data Lake Store account to the new Data Lake Store account in the new region.</span></span> <span data-ttu-id="e0e5e-123">Ao usar essa abordagem, é possível mudar para a nova região com tempo de inatividade mínimo.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-123">By using this approach, you can make the switch to the new region with little downtime.</span></span> <span data-ttu-id="e0e5e-124">Depois de copiar todos os dados mais antigos, exclua a conta antiga do Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-124">When all the older data has been copied, delete the old Data Lake Store account.</span></span>

<span data-ttu-id="e0e5e-125">Outros detalhes importantes a considerar no planejamento da migração são:</span><span class="sxs-lookup"><span data-stu-id="e0e5e-125">Other important details to consider when planning your migration are:</span></span>

* <span data-ttu-id="e0e5e-126">**Volume de dados**.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-126">**Data volume**.</span></span> <span data-ttu-id="e0e5e-127">O volume de dados (em gigabytes, o número de arquivos e pastas e assim por diante) afeta o tempo e os recursos necessários para a migração.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-127">The volume of data (in gigabytes, the number of files and folders, and so on) affects the time and resources you need for the migration.</span></span>

* <span data-ttu-id="e0e5e-128">**Nome da conta do Data Lake Store**.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-128">**Data Lake Store account name**.</span></span> <span data-ttu-id="e0e5e-129">O novo nome da conta na nova região deve ser global exclusivo.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-129">The new account name in the new region must be globally unique.</span></span> <span data-ttu-id="e0e5e-130">Por exemplo, o nome da conta antiga do Data Lake Store no Leste dos EUA 2 pode ser contosoeastus2.azuredatalakestore.net.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-130">For example, the name of your old Data Lake Store account in East US 2 might be contosoeastus2.azuredatalakestore.net.</span></span> <span data-ttu-id="e0e5e-131">Você poderá nomear sua nova conta do Data Lake Store no Norte da Europa como contosonortheu.azuredatalakestore.net.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-131">You might name your new Data Lake Store account in North EU contosonortheu.azuredatalakestore.net.</span></span>

* <span data-ttu-id="e0e5e-132">**Ferramentas**.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-132">**Tools**.</span></span> <span data-ttu-id="e0e5e-133">Recomendamos o uso da [Atividade de Cópia do Azure Data Factory](../data-factory/data-factory-azure-datalake-connector.md) para copiar arquivos do Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-133">We recommend that you use the [Azure Data Factory Copy Activity](../data-factory/data-factory-azure-datalake-connector.md) to copy Data Lake Store files.</span></span> <span data-ttu-id="e0e5e-134">O Data Factory dá suporte à movimentação de dados com alto desempenho e confiabilidade.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-134">Data Factory supports data movement with high performance and reliability.</span></span> <span data-ttu-id="e0e5e-135">Lembre-se de que o Data Factory copia somente a hierarquia de pastas e o conteúdo dos arquivos.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-135">Keep in mind that Data Factory copies only the folder hierarchy and content of the files.</span></span> <span data-ttu-id="e0e5e-136">É necessário aplicar manualmente as ACLs (listas de controle de acesso) usadas na conta antiga à nova conta.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-136">You need to manually apply any access control lists (ACLs) that you use in the old account to the new account.</span></span> <span data-ttu-id="e0e5e-137">Para obter mais informações, incluindo as metas de desempenho para cenários mais favoráveis, consulte o [guia de ajuste e desempenho da Atividade de Cópia](../data-factory/data-factory-copy-activity-performance.md).</span><span class="sxs-lookup"><span data-stu-id="e0e5e-137">For more information, including performance targets for best-case scenarios, see the [Copy Activity performance and tuning guide](../data-factory/data-factory-copy-activity-performance.md).</span></span> <span data-ttu-id="e0e5e-138">Se desejar que os dados sejam copiados mais rapidamente, talvez você precise usar mais Unidades de Movimentação de Dados na Nuvem.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-138">If you want data copied more quickly, you might need to use additional Cloud Data Movement Units.</span></span> <span data-ttu-id="e0e5e-139">Algumas outras ferramentas, como AdlCopy, não dão suporte à cópia de dados entre regiões.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-139">Some other tools, like AdlCopy, don't support copying data between regions.</span></span>  

* <span data-ttu-id="e0e5e-140">**Encargos de largura de banda**.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-140">**Bandwidth charges**.</span></span> <span data-ttu-id="e0e5e-141">Os [encargos de largura de banda](https://azure.microsoft.com/en-us/pricing/details/bandwidth/) se aplicam, pois os dados são transferidos para fora de uma região do Azure.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-141">[Bandwidth charges](https://azure.microsoft.com/en-us/pricing/details/bandwidth/) apply because data is transferred out of an Azure region.</span></span>

* <span data-ttu-id="e0e5e-142">**ACLs nos dados**.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-142">**ACLs on your data**.</span></span> <span data-ttu-id="e0e5e-143">Proteja seus dados na nova região aplicando ACLs a arquivos e pastas.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-143">Secure your data in the new region by applying ACLs to files and folders.</span></span> <span data-ttu-id="e0e5e-144">Para obter mais informações, consulte [Protegendo dados armazenados no Azure Data Lake Store](data-lake-store-secure-data.md).</span><span class="sxs-lookup"><span data-stu-id="e0e5e-144">For more information, see [Securing data stored in Azure Data Lake Store](data-lake-store-secure-data.md).</span></span> <span data-ttu-id="e0e5e-145">Recomendamos o uso da migração para atualizar e ajustar as ACLs.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-145">We recommend that you use the migration to update and adjust your ACLs.</span></span> <span data-ttu-id="e0e5e-146">Talvez você deseje usar configurações semelhantes para as configurações atuais.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-146">You might want to use settings similar to your current settings.</span></span> <span data-ttu-id="e0e5e-147">É possível exibir as ACLs aplicadas a um arquivo usando o portal do Azure, [cmdlets do PowerShell](/powershell/module/azurerm.datalakestore/get-azurermdatalakestoreitempermission) ou SDKs.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-147">You can view the ACLs that are applied to any file by using the Azure portal, [PowerShell cmdlets](/powershell/module/azurerm.datalakestore/get-azurermdatalakestoreitempermission), or SDKs.</span></span>  

* <span data-ttu-id="e0e5e-148">**Localização dos serviços de análise**.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-148">**Location of analytics services**.</span></span> <span data-ttu-id="e0e5e-149">Para obter o melhor desempenho, os serviços de análise, como o Azure Data Lake Analytics ou o Azure HDInsight, devem estar na mesma região dos dados.</span><span class="sxs-lookup"><span data-stu-id="e0e5e-149">For best performance, your analytics services, like Azure Data Lake Analytics or Azure HDInsight, should be in the same region as your data.</span></span>  

## <a name="next-steps"></a><span data-ttu-id="e0e5e-150">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="e0e5e-150">Next steps</span></span>
* [<span data-ttu-id="e0e5e-151">Visão geral do Repositório Azure Data Lake</span><span class="sxs-lookup"><span data-stu-id="e0e5e-151">Overview of Azure Data Lake Store</span></span>](data-lake-store-overview.md)
