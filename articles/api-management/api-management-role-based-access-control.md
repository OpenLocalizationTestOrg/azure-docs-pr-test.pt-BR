---
title: "aaaHow tooUse controle de acesso baseado em função no gerenciamento de API do Azure | Microsoft Docs"
description: "Saiba como toouse Olá funções internas e criar funções personalizadas no gerenciamento de API do Azure"
services: api-management
documentationcenter: 
author: miaojiang
manager: erikre
editor: 
ms.assetid: 364cd53e-88fb-4301-a093-f132fa1f88f5
ms.service: api-management
ms.workload: mobile
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/30/2017
ms.author: apimpm
ms.openlocfilehash: c51da2ff6886ebcaf796022e3a759c67f36670a4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="how-toouse-role-based-access-control-in-azure-api-management"></a><span data-ttu-id="aed89-103">Como tooUse baseada em função de controle de acesso no gerenciamento de API do Azure</span><span class="sxs-lookup"><span data-stu-id="aed89-103">How tooUse Role-Based Access Control in Azure API Management</span></span>
<span data-ttu-id="aed89-104">Gerenciamento de API do Azure depende de gerenciamento de acesso refinado tooenable o Access RBAC (controle) para serviços de gerenciamento de API e entidades (por exemplo, APIs, as políticas).</span><span class="sxs-lookup"><span data-stu-id="aed89-104">Azure API Management relies on Azure Role-Based Access Control (RBAC) tooenable fine-grained access management for API Management services and entities (e.g., APIs, policies).</span></span> <span data-ttu-id="aed89-105">Este artigo fornece uma visão geral das funções internas e personalizadas de saudação no gerenciamento de API.</span><span class="sxs-lookup"><span data-stu-id="aed89-105">This article gives you an overview of hello built-in and custom roles in API Management.</span></span> <span data-ttu-id="aed89-106">Se você quiser obter mais detalhes sobre o gerenciamento de acesso no hello portal do Azure, consulte [Introdução ao gerenciamento de acesso no hello portal do Azure](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/)</span><span class="sxs-lookup"><span data-stu-id="aed89-106">If you want more details on access management in hello Azure portal, see [Get started with access management in hello Azure portal](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/)</span></span>

## <a name="built-in-roles"></a><span data-ttu-id="aed89-107">Funções internas</span><span class="sxs-lookup"><span data-stu-id="aed89-107">Built-in Roles</span></span>
<span data-ttu-id="aed89-108">Gerenciamento de API no momento fornece 3 funções internas e adicionará 2 mais funções hello futuro próximo.</span><span class="sxs-lookup"><span data-stu-id="aed89-108">API Management currently provides 3 built-in roles and will add 2 more roles in hello near future.</span></span> <span data-ttu-id="aed89-109">Essas funções podem ser atribuídas em escopos diferentes, incluindo assinatura, grupo de recursos e instância individual do Gerenciamento de API.</span><span class="sxs-lookup"><span data-stu-id="aed89-109">These roles can be assigned at differnt scopes including subscription, resource group, and individual API Management instance.</span></span> <span data-ttu-id="aed89-110">Por exemplo, se função de "Leitor de serviço de gerenciamento de API do Azure" hello é atribuída tooan usuário no nível do grupo de recursos de saudação, em seguida, hello usuário terão instâncias de API de gerenciamento do acesso de leitura tooall dentro do grupo de recursos de saudação.</span><span class="sxs-lookup"><span data-stu-id="aed89-110">For instance, if hello "Azure API Management Service Reader" role is assigned tooan user at hello resource group level, then hello user will have read access tooall API Management instances inside hello resource group.</span></span> 

<span data-ttu-id="aed89-111">Olá tabela a seguir fornece descrições breves de saudação funções internas.</span><span class="sxs-lookup"><span data-stu-id="aed89-111">hello following table provides brief descriptions of hello built-in roles.</span></span> <span data-ttu-id="aed89-112">Você pode atribuir essas funções usando Olá Portal do Azure ou outras ferramentas, incluindo o Azure [PowerShell](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-powershell), o Azure [interface de linha de comando](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-azure-cli), e [API REST](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-rest).</span><span class="sxs-lookup"><span data-stu-id="aed89-112">You can assign these roles using hello Azure Portal or other tools including Azure [PowerShell](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-powershell), Azure [Command-line interface](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-azure-cli), and [REST API](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-rest).</span></span> <span data-ttu-id="aed89-113">Para obter detalhes sobre como as funções internas de tooassign, consulte [usar os recursos de assinatura do Azure função atribuições toomanage acesso tooyour](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/).</span><span class="sxs-lookup"><span data-stu-id="aed89-113">For details about how tooassign built-in roles, see [Use role assignments toomanage access tooyour Azure subscription resources](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/).</span></span>

| <span data-ttu-id="aed89-114">Função</span><span class="sxs-lookup"><span data-stu-id="aed89-114">Role</span></span>          | <span data-ttu-id="aed89-115">Acesso de leitura<sup>[1]</sup></span><span class="sxs-lookup"><span data-stu-id="aed89-115">Read access<sup>[1]</sup></span></span> | <span data-ttu-id="aed89-116">Acesso de gravação<sup>[2]</sup></span><span class="sxs-lookup"><span data-stu-id="aed89-116">Write access<sup>[2]</sup></span></span> | <span data-ttu-id="aed89-117">Criação, exclusão, dimensionamento do serviço, configuração de VPN e domínio personalizado</span><span class="sxs-lookup"><span data-stu-id="aed89-117">Service creation, deletion, scaling, VPN and custom domain configuration</span></span> | <span data-ttu-id="aed89-118">Acesso toolegacy Publsiher Portal</span><span class="sxs-lookup"><span data-stu-id="aed89-118">Access toolegacy Publsiher Portal</span></span> | <span data-ttu-id="aed89-119">Descrição</span><span class="sxs-lookup"><span data-stu-id="aed89-119">Description</span></span>
| ------------- | ---- | ---- | ---- | ---- | ---- | ---- |
| <span data-ttu-id="aed89-120">Colaborador do serviço de Gerenciamento de API do Azure</span><span class="sxs-lookup"><span data-stu-id="aed89-120">Azure API Management Service Contributor</span></span> | <span data-ttu-id="aed89-121">✓</span><span class="sxs-lookup"><span data-stu-id="aed89-121">✓</span></span> | <span data-ttu-id="aed89-122">✓ </span><span class="sxs-lookup"><span data-stu-id="aed89-122">✓</span></span> | <span data-ttu-id="aed89-123">✓ </span><span class="sxs-lookup"><span data-stu-id="aed89-123">✓</span></span> | <span data-ttu-id="aed89-124">✓</span><span class="sxs-lookup"><span data-stu-id="aed89-124">✓</span></span> | <span data-ttu-id="aed89-125">Superusuário.</span><span class="sxs-lookup"><span data-stu-id="aed89-125">Super user.</span></span> <span data-ttu-id="aed89-126">Tem completo CRUD acessar serviços de gerenciamento de tooAPI e entidades (por exemplo, APIs, as políticas).</span><span class="sxs-lookup"><span data-stu-id="aed89-126">Has full CRUD access tooAPI Management services and entities (e.g., APIs, Policies).</span></span> <span data-ttu-id="aed89-127">Tem acesso toohello publicador herdados portal.</span><span class="sxs-lookup"><span data-stu-id="aed89-127">Has access toohello legacy publisher portal.</span></span> |
| <span data-ttu-id="aed89-128">Leitor do serviço de Gerenciamento de API do Azure</span><span class="sxs-lookup"><span data-stu-id="aed89-128">Azure API Management Service Reader</span></span> | <span data-ttu-id="aed89-129">✓ </span><span class="sxs-lookup"><span data-stu-id="aed89-129">✓</span></span> | | || <span data-ttu-id="aed89-130">Tem entidades e os serviços de gerenciamento de tooAPI acesso somente leitura.</span><span class="sxs-lookup"><span data-stu-id="aed89-130">Has read-only access tooAPI Management services and entities.</span></span> |
| <span data-ttu-id="aed89-131">Operador do serviço de Gerenciamento de API do Azure</span><span class="sxs-lookup"><span data-stu-id="aed89-131">Azure API Management Service Operator</span></span> | <span data-ttu-id="aed89-132">✓</span><span class="sxs-lookup"><span data-stu-id="aed89-132">✓</span></span> | | <span data-ttu-id="aed89-133">✓</span><span class="sxs-lookup"><span data-stu-id="aed89-133">✓</span></span> | | <span data-ttu-id="aed89-134">Pode gerenciar os serviços de Gerenciamento de API, mas não as entidades.</span><span class="sxs-lookup"><span data-stu-id="aed89-134">Can manage API Management services but not entities.</span></span>|
| <span data-ttu-id="aed89-135">Editor do serviço de Gerenciamento de API do Azure<sup>*</sup></span><span class="sxs-lookup"><span data-stu-id="aed89-135">Azure API Management Service Editor<sup>*</sup></span></span> | <span data-ttu-id="aed89-136">✓</span><span class="sxs-lookup"><span data-stu-id="aed89-136">✓</span></span> | <span data-ttu-id="aed89-137">✓</span><span class="sxs-lookup"><span data-stu-id="aed89-137">✓</span></span> | |  | <span data-ttu-id="aed89-138">Pode gerenciar as entidades de Gerenciamento de API, mas não os serviços.</span><span class="sxs-lookup"><span data-stu-id="aed89-138">Can manage API Management entities but not services.</span></span>|
| <span data-ttu-id="aed89-139">Gerenciador de conteúdo do Gerenciamento de API do Azure<sup>*</sup></span><span class="sxs-lookup"><span data-stu-id="aed89-139">Azure API Management Content Manager<sup>*</sup></span></span> | <span data-ttu-id="aed89-140">✓</span><span class="sxs-lookup"><span data-stu-id="aed89-140">✓</span></span> | | | <span data-ttu-id="aed89-141">✓</span><span class="sxs-lookup"><span data-stu-id="aed89-141">✓</span></span> | <span data-ttu-id="aed89-142">Pode gerenciar o portal do desenvolvedor.</span><span class="sxs-lookup"><span data-stu-id="aed89-142">Can manage developer portal.</span></span> <span data-ttu-id="aed89-143">Acesso somente leitura tooservices e entidades.</span><span class="sxs-lookup"><span data-stu-id="aed89-143">Read-only access tooservices and entities.</span></span>|

<span data-ttu-id="aed89-144"><sup>[1] serviços de gerenciamento do acesso de leitura tooAPI e entidades (por exemplo, APIs, as políticas)</sup></span><span class="sxs-lookup"><span data-stu-id="aed89-144"><sup>[1] Read access tooAPI Management services and entities (e.g., APIs, policies)</sup></span></span>

<span data-ttu-id="aed89-145"><sup>Serviços de gerenciamento do [2], acesso de gravação tooAPI e entidades, exceto opeartions seguintes: 1) instância criação, exclusão e dimensionamento de configuração de nome de domínio do VPN 2) configuração 3) personalizado</sup></span><span class="sxs-lookup"><span data-stu-id="aed89-145"><sup>[2] Write access tooAPI Management services and entities except following opeartions: 1) Instance creation, deletion, and scaling 2) VPN configuration  3) Custom domain name setup</sup></span></span>

<span data-ttu-id="aed89-146"><sup>\*função de Editor de serviço de saudação estarão disponível depois que migramos todos admin da interface do usuário da saudação existente publicador portal toohello portal do Azure. Olá função Gerenciador de conteúdo estará disponível após o portal do publicador Olá, é refatorado tooonly conter portal do desenvolvedor funcionalidades relacionadas toomanaging hello.</sup></span><span class="sxs-lookup"><span data-stu-id="aed89-146"><sup>\* hello Service Editor role will be available after we migrate all admin UI from hello existing publisher portal toohello Azure portal. hello Content Manager role will be available after hello publisher portal is refactored tooonly contain functionalities related toomanaging hello developer portal.</sup></span></span>  


## <a name="custom-roles"></a><span data-ttu-id="aed89-147">Funções personalizadas</span><span class="sxs-lookup"><span data-stu-id="aed89-147">Custom Roles</span></span>
<span data-ttu-id="aed89-148">Se nenhuma das funções internas Olá atender às suas necessidades específicas, funções personalizadas podem ser criadas tooprovide mais granular gerenciamento para entidades de gerenciamento de API de acesso.</span><span class="sxs-lookup"><span data-stu-id="aed89-148">If none of hello built-in roles meet your specific needs, custom roles can be created tooprovide more granular access management for API Management entities.</span></span> <span data-ttu-id="aed89-149">Por exemplo, você pode criar uma função personalizada que tem acesso somente leitura tooan serviço de gerenciamento de API, mas só tem acesso de gravação tooone específico API.</span><span class="sxs-lookup"><span data-stu-id="aed89-149">For example, you can create a custom role which has read-only access tooan API Management service but only has write access tooone specific API.</span></span> <span data-ttu-id="aed89-150">mais detalhes sobre funções personalizadas, consulte o toolearn [funções personalizadas no Azure RBAC](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-custom-roles).</span><span class="sxs-lookup"><span data-stu-id="aed89-150">toolearn more details about custom roles, see [Custom Roles in Azure RBAC](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-custom-roles).</span></span> 

<span data-ttu-id="aed89-151">Quando você cria uma função personalizada, é mais fácil toostart com uma das funções internas de saudação.</span><span class="sxs-lookup"><span data-stu-id="aed89-151">When you create a custom role, it is easier toostart with one of hello built-in roles.</span></span> <span data-ttu-id="aed89-152">Editar saudação atributos tooadd ações hello, NotActions ou AssignableScopes, salvar as alterações de saudação como uma nova função.</span><span class="sxs-lookup"><span data-stu-id="aed89-152">Edit hello attributes tooadd hello Actions, NotActions, or AssignableScopes, then save hello changes as a new role.</span></span> <span data-ttu-id="aed89-153">Olá exemplo a seguir começa com a função de "serviço de gerenciamento do Azure API Reader" hello e cria uma função personalizada chamada "Editor de API de calculadora".</span><span class="sxs-lookup"><span data-stu-id="aed89-153">hello following example begins with hello "Azure API Managment Service Reader" role and creates a custom role called "Calculator API Editor".</span></span> <span data-ttu-id="aed89-154">função personalizada Olá pode ser atribuída somente tooa que API específica, portanto, só será tem acesso toothat API.</span><span class="sxs-lookup"><span data-stu-id="aed89-154">hello custom role can be assigned only tooa specific API therefore will only has access toothat API.</span></span> 

```
$role = Get-AzureRmRoleDefinition "API Management Service Reader Role"
$role.Id = $null
$role.Name = 'Calculator API Contributor'
$role.Description = 'Has read access tooContoso APIM instance and write access toohello Calculator API.'
$role.Actions.Add('Microsoft.ApiManagement/service/apis/write')
$role.AssignableScopes.Clear()
$role.AssignableScopes.Add('/subscriptions/<subscription ID>/resourceGroups/<resource group name>/providers/Microsoft.ApiManagement/service/<service name>/apis/<api ID>')
New-AzureRmRoleDefinition -Role $role
New-AzureRmRoleAssignment -ObjectId <object ID of hello user account> -RoleDefinitionName 'Calculator API Contributor' -Scope '/subscriptions/<subscription ID>/resourceGroups/<resource group name>/providers/Microsoft.ApiManagement/service/<service name>/apis/<api ID>'
```

## <a name="watch-a-video-overview"></a><span data-ttu-id="aed89-155">Assista a uma visão geral em vídeo</span><span class="sxs-lookup"><span data-stu-id="aed89-155">Watch a Video Overview</span></span>

> [!VIDEO https://channel9.msdn.com/Blogs/AzureApiMgmt/Role-Based-Access-Control-in-API-Management/player]
> 
> 

## <a name="next-steps"></a><span data-ttu-id="aed89-156">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="aed89-156">Next Steps</span></span>

* <span data-ttu-id="aed89-157">Saiba mais sobre o Controle de Acesso baseado em função no Azure</span><span class="sxs-lookup"><span data-stu-id="aed89-157">Learn more about Role-Based Access Control in Azure</span></span>
  * [<span data-ttu-id="aed89-158">Introdução ao gerenciamento de acesso no hello portal do Azure</span><span class="sxs-lookup"><span data-stu-id="aed89-158">Get started with access management in hello Azure portal</span></span>](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/)
  * [<span data-ttu-id="aed89-159">Usar os recursos de assinatura do Azure função atribuições toomanage acesso tooyour</span><span class="sxs-lookup"><span data-stu-id="aed89-159">Use role assignments toomanage access tooyour Azure subscription resources</span></span>](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/)
  * [<span data-ttu-id="aed89-160">Funções personalizadas no Azure RBAC</span><span class="sxs-lookup"><span data-stu-id="aed89-160">Custom Roles in Azure RBAC</span></span>](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-custom-roles)
