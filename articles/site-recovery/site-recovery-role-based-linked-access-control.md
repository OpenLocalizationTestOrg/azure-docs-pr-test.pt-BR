---
title: "Usando o Controle de Acesso Baseado em Função para gerenciar o Azure Site Recovery | Microsoft Docs"
description: "Este artigo descreve como aplicar e usar o RBAC (Controle de Acesso Baseado em Função) para gerenciar suas implantações do Azure Site Recovery"
services: site-recovery
documentationcenter: 
author: mayanknayar
manager: rochakm
editor: 
ms.assetid: 
ms.service: site-recovery
ms.workload: backup-recovery
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/28/2017
ms.author: manayar
ms.openlocfilehash: 9dd74014bf05234a83c7678b67b42b96cd8b8d64
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="use-role-based-access-control-to-manage-azure-site-recovery-deployments"></a><span data-ttu-id="b528f-103">Usar o Controle de Acesso Baseado em Função para gerenciar implantações do Azure Site Recovery</span><span class="sxs-lookup"><span data-stu-id="b528f-103">Use Role-Based Access Control to manage Azure Site Recovery deployments</span></span>

<span data-ttu-id="b528f-104">O RBAC (controle de acesso baseado em função) do Azure permite o gerenciamento de acesso refinado para o Azure.</span><span class="sxs-lookup"><span data-stu-id="b528f-104">Azure Role-Based Access Control (RBAC) enables fine-grained access management for Azure.</span></span> <span data-ttu-id="b528f-105">Usando o RBAC, você pode separar as responsabilidades dentro de sua equipe e conceder somente permissões de acesso específicas aos usuários conforme necessário para executar trabalhos específicos.</span><span class="sxs-lookup"><span data-stu-id="b528f-105">Using RBAC, you can segregate responsibilities within your team and grant only specific access permissions to users as needed to perform specific jobs.</span></span>

<span data-ttu-id="b528f-106">O Azure Site Recovery fornece 3 funções internas para controlar as operações de gerenciamento do Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="b528f-106">Azure Site Recovery provides 3 built-in roles to control Site Recovery management operations.</span></span> <span data-ttu-id="b528f-107">Saiba mais sobre as [funções internas do RBAC do Azure](../active-directory/role-based-access-built-in-roles.md)</span><span class="sxs-lookup"><span data-stu-id="b528f-107">Learn more on [Azure RBAC built-in roles](../active-directory/role-based-access-built-in-roles.md)</span></span>

* <span data-ttu-id="b528f-108">[Colaborador do Site Recovery](../active-directory/role-based-access-built-in-roles.md#site-recovery-contributor) -essa função tem todas as permissões necessárias para gerenciar operações do Azure Site Recovery em um cofre dos Serviços de Recuperação.</span><span class="sxs-lookup"><span data-stu-id="b528f-108">[Site Recovery Contributor](../active-directory/role-based-access-built-in-roles.md#site-recovery-contributor) - This role has all permissions required to manage Azure Site Recovery operations in a Recovery Services vault.</span></span> <span data-ttu-id="b528f-109">No entanto, um usuário com essa função não pode criar ou excluir um cofre dos Serviços de Recuperação ou atribuir direitos de acesso a outros usuários.</span><span class="sxs-lookup"><span data-stu-id="b528f-109">A user with this role, however, can't create or delete a Recovery Services vault or assign access rights to other users.</span></span> <span data-ttu-id="b528f-110">Essa função é ideal para os administradores de recuperação de desastre que podem habilitar e gerenciar a recuperação de desastre para aplicativos ou organizações inteiras, conforme o caso.</span><span class="sxs-lookup"><span data-stu-id="b528f-110">This role is best suited for disaster recovery administrators who can enable and manage disaster recovery for applications or entire organizations, as the case may be.</span></span>
* <span data-ttu-id="b528f-111">[Operador do Site Recovery](../active-directory/role-based-access-built-in-roles.md#site-recovery-operator) - essa função tem permissões para executar e gerenciar operações de Failover e Failback.</span><span class="sxs-lookup"><span data-stu-id="b528f-111">[Site Recovery Operator](../active-directory/role-based-access-built-in-roles.md#site-recovery-operator) - This role has permissions to execute and manager Failover and Failback operations.</span></span> <span data-ttu-id="b528f-112">Um usuário com essa função não pode habilitar ou desabilitar a replicação, criar ou excluir cofres, registrar nova infraestrutura ou atribuir direitos de acesso a outros usuários.</span><span class="sxs-lookup"><span data-stu-id="b528f-112">A user with this role can't enable or disable replication, create or delete vaults, register new infrastructure or assign access rights to other users.</span></span> <span data-ttu-id="b528f-113">Essa função é ideal para um operador de recuperação de desastre que pode executar failover em máquinas virtuais ou aplicativos quando instruído por administradores de TI ou proprietários do aplicativo em uma situação de desastre real ou simulada, como em uma simulação de recuperação de desastre.</span><span class="sxs-lookup"><span data-stu-id="b528f-113">This role is best suited for a disaster recovery operator who can failover virtual machines or applications when instructed by application owners and IT administrators in an actual or simulated disaster situation such as a DR drill.</span></span> <span data-ttu-id="b528f-114">Após a resolução do desastre, o operador de recuperação de desastre pode proteger e fazer failback das máquinas virtuais novamente.</span><span class="sxs-lookup"><span data-stu-id="b528f-114">Post resolution of the disaster, the DR operator can re-protect and failback the virtual machines.</span></span>
* <span data-ttu-id="b528f-115">[Leitor do Site Recovery](../active-directory/role-based-access-built-in-roles.md#site-recovery-reader): essa função tem permissões para exibir todas as operações de gerenciamento do Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="b528f-115">[Site Recovery Reader](../active-directory/role-based-access-built-in-roles.md#site-recovery-reader) - This role has permissions to view all Site Recovery management operations.</span></span> <span data-ttu-id="b528f-116">Essa função é ideal para um executivo de monitoramento de TI que possa monitorar o estado atual de proteção e gerar tíquetes de suporte, se necessário.</span><span class="sxs-lookup"><span data-stu-id="b528f-116">This role is best suited for an IT monitoring executive who can monitor the current state of protection and raise support tickets if required.</span></span>

<span data-ttu-id="b528f-117">Se você pretende definir suas próprias funções para ter ainda mais controle, confira como [criar Funções personalizadas](../active-directory/role-based-access-control-custom-roles.md) no Azure.</span><span class="sxs-lookup"><span data-stu-id="b528f-117">If you're looking to define your own roles for even more control, see how to [build Custom roles](../active-directory/role-based-access-control-custom-roles.md) in Azure.</span></span>

## <a name="permissions-required-to-enable-replication-for-new-virtual-machines"></a><span data-ttu-id="b528f-118">Permissões necessárias para habilitar a replicação para novas máquinas virtuais</span><span class="sxs-lookup"><span data-stu-id="b528f-118">Permissions required to Enable Replication for new Virtual Machines</span></span>
<span data-ttu-id="b528f-119">Quando uma nova máquina virtual é replicada para o Azure usando o Azure Site Recovery, os níveis de acesso do usuário associados são validados para garantir que o usuário tem as permissões necessárias para usar os recursos do Azure fornecidos para o Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="b528f-119">When a new Virtual Machine is replicated to Azure using Azure Site Recovery, the associated user's access levels are validated to ensure that the user has the required permissions to use the Azure resources provided to Site Recovery.</span></span>

<span data-ttu-id="b528f-120">Para habilitar a replicação para uma nova máquina virtual, o usuário deve ter:</span><span class="sxs-lookup"><span data-stu-id="b528f-120">To enable replication for a new virtual machine, a user must have:</span></span>
* <span data-ttu-id="b528f-121">Permissão para criar uma máquina virtual no grupo de recursos selecionado</span><span class="sxs-lookup"><span data-stu-id="b528f-121">Permission to create a virtual machine in the selected resource group</span></span>
* <span data-ttu-id="b528f-122">Permissão para criar uma máquina virtual na rede virtual selecionada</span><span class="sxs-lookup"><span data-stu-id="b528f-122">Permission to create a virtual machine in the selected virtual network</span></span>
* <span data-ttu-id="b528f-123">Permissão de gravação para a conta de armazenamento selecionada</span><span class="sxs-lookup"><span data-stu-id="b528f-123">Permission to write to the selected Storage account</span></span>

<span data-ttu-id="b528f-124">Um usuário precisa das seguintes permissões para concluir a replicação de uma nova máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="b528f-124">A user needs the following permissions to complete replication of a new virtual machine.</span></span>

> [!IMPORTANT]
><span data-ttu-id="b528f-125">Certifique-se de que as permissões relevantes sejam adicionadas pelo modelo de implantação (Resource Manager/Clássico) usado para implantação de recursos.</span><span class="sxs-lookup"><span data-stu-id="b528f-125">Ensure that relevant permissions are added per the deployment model (Resource Manager/ Classic) used for resource deployment.</span></span>

| <span data-ttu-id="b528f-126">**Tipo de recurso**</span><span class="sxs-lookup"><span data-stu-id="b528f-126">**Resource Type**</span></span> | <span data-ttu-id="b528f-127">**Modelo de implantação**</span><span class="sxs-lookup"><span data-stu-id="b528f-127">**Deployment Model**</span></span> | <span data-ttu-id="b528f-128">**Permissão**</span><span class="sxs-lookup"><span data-stu-id="b528f-128">**Permission**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="b528f-129">Computação</span><span class="sxs-lookup"><span data-stu-id="b528f-129">Compute</span></span> | <span data-ttu-id="b528f-130">Gerenciador de Recursos</span><span class="sxs-lookup"><span data-stu-id="b528f-130">Resource Manager</span></span> | <span data-ttu-id="b528f-131">Microsoft.Compute/availabilitySets/read</span><span class="sxs-lookup"><span data-stu-id="b528f-131">Microsoft.Compute/availabilitySets/read</span></span> |
|  |  | <span data-ttu-id="b528f-132">Microsoft.Compute/virtualMachines/read</span><span class="sxs-lookup"><span data-stu-id="b528f-132">Microsoft.Compute/virtualMachines/read</span></span> |
|  |  | <span data-ttu-id="b528f-133">Microsoft.Compute/virtualMachines/write</span><span class="sxs-lookup"><span data-stu-id="b528f-133">Microsoft.Compute/virtualMachines/write</span></span> |
|  |  | <span data-ttu-id="b528f-134">Microsoft.Compute/virtualMachines/delete</span><span class="sxs-lookup"><span data-stu-id="b528f-134">Microsoft.Compute/virtualMachines/delete</span></span> |
|  | <span data-ttu-id="b528f-135">Clássico</span><span class="sxs-lookup"><span data-stu-id="b528f-135">Classic</span></span> | <span data-ttu-id="b528f-136">Microsoft.ClassicCompute/domainNames/read</span><span class="sxs-lookup"><span data-stu-id="b528f-136">Microsoft.ClassicCompute/domainNames/read</span></span> |
|  |  | <span data-ttu-id="b528f-137">Microsoft.ClassicCompute/domainNames/write</span><span class="sxs-lookup"><span data-stu-id="b528f-137">Microsoft.ClassicCompute/domainNames/write</span></span> |
|  |  | <span data-ttu-id="b528f-138">Microsoft.ClassicCompute/domainNames/delete</span><span class="sxs-lookup"><span data-stu-id="b528f-138">Microsoft.ClassicCompute/domainNames/delete</span></span> |
|  |  | <span data-ttu-id="b528f-139">Microsoft.ClassicCompute/virtualMachines/read</span><span class="sxs-lookup"><span data-stu-id="b528f-139">Microsoft.ClassicCompute/virtualMachines/read</span></span> |
|  |  | <span data-ttu-id="b528f-140">Microsoft.ClassicCompute/virtualMachines/write</span><span class="sxs-lookup"><span data-stu-id="b528f-140">Microsoft.ClassicCompute/virtualMachines/write</span></span> |
|  |  | <span data-ttu-id="b528f-141">Microsoft.ClassicCompute/virtualMachines/delete</span><span class="sxs-lookup"><span data-stu-id="b528f-141">Microsoft.ClassicCompute/virtualMachines/delete</span></span> |
| <span data-ttu-id="b528f-142">Rede</span><span class="sxs-lookup"><span data-stu-id="b528f-142">Network</span></span> | <span data-ttu-id="b528f-143">Gerenciador de Recursos</span><span class="sxs-lookup"><span data-stu-id="b528f-143">Resource Manager</span></span> | <span data-ttu-id="b528f-144">Microsoft.Network/networkInterfaces/read</span><span class="sxs-lookup"><span data-stu-id="b528f-144">Microsoft.Network/networkInterfaces/read</span></span> |
|  |  | <span data-ttu-id="b528f-145">Microsoft.Network/networkInterfaces/write</span><span class="sxs-lookup"><span data-stu-id="b528f-145">Microsoft.Network/networkInterfaces/write</span></span> |
|  |  | <span data-ttu-id="b528f-146">Microsoft.Network/networkInterfaces/delete</span><span class="sxs-lookup"><span data-stu-id="b528f-146">Microsoft.Network/networkInterfaces/delete</span></span> |
|  |  | <span data-ttu-id="b528f-147">Microsoft.Network/networkInterfaces/join/action</span><span class="sxs-lookup"><span data-stu-id="b528f-147">Microsoft.Network/networkInterfaces/join/action</span></span> |
|  |  | <span data-ttu-id="b528f-148">Microsoft.Network/virtualNetworks/read</span><span class="sxs-lookup"><span data-stu-id="b528f-148">Microsoft.Network/virtualNetworks/read</span></span> |
|  |  | <span data-ttu-id="b528f-149">Microsoft.Network/virtualNetworks/subnets/read</span><span class="sxs-lookup"><span data-stu-id="b528f-149">Microsoft.Network/virtualNetworks/subnets/read</span></span> |
|  |  | <span data-ttu-id="b528f-150">Microsoft.Network/virtualNetworks/subnets/join/action</span><span class="sxs-lookup"><span data-stu-id="b528f-150">Microsoft.Network/virtualNetworks/subnets/join/action</span></span> |
|  | <span data-ttu-id="b528f-151">Clássico</span><span class="sxs-lookup"><span data-stu-id="b528f-151">Classic</span></span> | <span data-ttu-id="b528f-152">Microsoft.ClassicNetwork/virtualNetworks/read</span><span class="sxs-lookup"><span data-stu-id="b528f-152">Microsoft.ClassicNetwork/virtualNetworks/read</span></span> |
|  |  | <span data-ttu-id="b528f-153">Microsoft.ClassicNetwork/virtualNetworks/join/action</span><span class="sxs-lookup"><span data-stu-id="b528f-153">Microsoft.ClassicNetwork/virtualNetworks/join/action</span></span> |
| <span data-ttu-id="b528f-154">Armazenamento</span><span class="sxs-lookup"><span data-stu-id="b528f-154">Storage</span></span> | <span data-ttu-id="b528f-155">Gerenciador de Recursos</span><span class="sxs-lookup"><span data-stu-id="b528f-155">Resource Manager</span></span> | <span data-ttu-id="b528f-156">Microsoft.Storage/storageAccounts/read</span><span class="sxs-lookup"><span data-stu-id="b528f-156">Microsoft.Storage/storageAccounts/read</span></span> |
|  |  | <span data-ttu-id="b528f-157">Microsoft.Storage/storageAccounts/listkeys/action</span><span class="sxs-lookup"><span data-stu-id="b528f-157">Microsoft.Storage/storageAccounts/listkeys/action</span></span> |
|  | <span data-ttu-id="b528f-158">Clássico</span><span class="sxs-lookup"><span data-stu-id="b528f-158">Classic</span></span> | <span data-ttu-id="b528f-159">Microsoft.ClassicStorage/storageAccounts/read</span><span class="sxs-lookup"><span data-stu-id="b528f-159">Microsoft.ClassicStorage/storageAccounts/read</span></span> |
|  |  | <span data-ttu-id="b528f-160">Microsoft.ClassicStorage/storageAccounts/listKeys/action</span><span class="sxs-lookup"><span data-stu-id="b528f-160">Microsoft.ClassicStorage/storageAccounts/listKeys/action</span></span> |
| <span data-ttu-id="b528f-161">Grupo de recursos</span><span class="sxs-lookup"><span data-stu-id="b528f-161">Resource Group</span></span> | <span data-ttu-id="b528f-162">Gerenciador de Recursos</span><span class="sxs-lookup"><span data-stu-id="b528f-162">Resource Manager</span></span> | <span data-ttu-id="b528f-163">Microsoft.Resources/deployments/*</span><span class="sxs-lookup"><span data-stu-id="b528f-163">Microsoft.Resources/deployments/*</span></span> |
|  |  | <span data-ttu-id="b528f-164">Microsoft.Resources/subscriptions/resourceGroups/read</span><span class="sxs-lookup"><span data-stu-id="b528f-164">Microsoft.Resources/subscriptions/resourceGroups/read</span></span> |

<span data-ttu-id="b528f-165">Considere usar as [funções internas](../active-directory/role-based-access-built-in-roles.md) 'Colaborador de Máquina Virtual' e ‘Colaborador de Máquina Virtual Clássica’ para os modelos de implantação do Resource Manager e do Clássico respectivamente.</span><span class="sxs-lookup"><span data-stu-id="b528f-165">Consider using the 'Virtual Machine Contributor' and 'Classic Virtual Machine Contributor' [built-in roles](../active-directory/role-based-access-built-in-roles.md) for Resource Manager and Classic deployment models respectively.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b528f-166">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="b528f-166">Next steps</span></span>
* <span data-ttu-id="b528f-167">[Controle de Acesso Baseado em Função](../active-directory/role-based-access-control-configure.md): introdução ao RBAC no portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="b528f-167">[Role-Based Access Control](../active-directory/role-based-access-control-configure.md): Get started with RBAC in the Azure portal.</span></span>
* <span data-ttu-id="b528f-168">Saiba como gerenciar o acesso com:</span><span class="sxs-lookup"><span data-stu-id="b528f-168">Learn how to manage access with:</span></span>
  * [<span data-ttu-id="b528f-169">PowerShell</span><span class="sxs-lookup"><span data-stu-id="b528f-169">PowerShell</span></span>](../active-directory/role-based-access-control-manage-access-powershell.md)
  * [<span data-ttu-id="b528f-170">CLI do Azure</span><span class="sxs-lookup"><span data-stu-id="b528f-170">Azure CLI</span></span>](../active-directory/role-based-access-control-manage-access-azure-cli.md)
  * [<span data-ttu-id="b528f-171">API REST</span><span class="sxs-lookup"><span data-stu-id="b528f-171">REST API</span></span>](../active-directory/role-based-access-control-manage-access-rest.md)
* <span data-ttu-id="b528f-172">[Solução de problemas de Controle de Acesso Baseado em Função](../active-directory/role-based-access-control-troubleshooting.md): obtenha sugestões para corrigir problemas comuns.</span><span class="sxs-lookup"><span data-stu-id="b528f-172">[Role-Based Access Control troubleshooting](../active-directory/role-based-access-control-troubleshooting.md): Get suggestions for fixing common issues.</span></span>
