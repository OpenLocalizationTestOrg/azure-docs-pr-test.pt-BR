---
title: disponibilidade de aaaHigh com o gateway de gerenciamento de dados no Azure Data Factory | Microsoft Docs
description: "Este artigo explica como você pode escalar horizontalmente um Gateway de Gerenciamento de Dados adicionando mais nós e escalar verticalmente com o aumento do número de trabalhos simultâneos que podem ser executados em um nó."
services: data-factory
documentationcenter: 
author: nabhishek
manager: jhubbard
editor: 
ms.service: data-factory
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/17/2017
ms.author: abnarain
ms.openlocfilehash: 925f63728e23596bca2655636f6535b509fce0b1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="data-management-gateway---high-availability-and-scalability-preview"></a><span data-ttu-id="05809-103">Gateway de Gerenciamento de Dados – alta disponibilidade e escalabilidade (versão prévia)</span><span class="sxs-lookup"><span data-stu-id="05809-103">Data Management Gateway - high availability and scalability (Preview)</span></span>
<span data-ttu-id="05809-104">Este artigo lhe ajudará a configurar a solução de alta disponibilidade e escalabilidade com o Gateway de Gerenciamento de Dados.</span><span class="sxs-lookup"><span data-stu-id="05809-104">This article helps you configure high availability and scalability solution with Data Management Gateway.</span></span>    

> [!NOTE]
> <span data-ttu-id="05809-105">Este artigo pressupõe que você já esteja familiarizado com conceitos básicos do Gateway de Gerenciamento de Dados.</span><span class="sxs-lookup"><span data-stu-id="05809-105">This article assumes that you are already familiar with basics of Data Management Gateway.</span></span> <span data-ttu-id="05809-106">Se você não estiver, consulte [Gateway de Gerenciamento de Dados](data-factory-data-management-gateway.md).</span><span class="sxs-lookup"><span data-stu-id="05809-106">If you are not, see [Data Management Gateway](data-factory-data-management-gateway.md).</span></span>

><span data-ttu-id="05809-107">**Esse recurso em versão prévia é oficialmente compatível com o Gateway de Gerenciamento de Dados versão 2.12.xxxx.x e superior**.</span><span class="sxs-lookup"><span data-stu-id="05809-107">**This preview feature is officially supported on Data Management Gateway version 2.12.xxxx.x and above**.</span></span> <span data-ttu-id="05809-108">Verifique se você está usando a versão 2.12.xxxx.x ou superior.</span><span class="sxs-lookup"><span data-stu-id="05809-108">Please make sure you are using version 2.12.xxxx.x or above.</span></span> <span data-ttu-id="05809-109">Baixar a versão mais recente saudação do Gateway de gerenciamento de dados [aqui](https://www.microsoft.com/download/details.aspx?id=39717).</span><span class="sxs-lookup"><span data-stu-id="05809-109">Download hello latest version of Data Management Gateway [here](https://www.microsoft.com/download/details.aspx?id=39717).</span></span>

## <a name="overview"></a><span data-ttu-id="05809-110">Visão geral</span><span class="sxs-lookup"><span data-stu-id="05809-110">Overview</span></span>
<span data-ttu-id="05809-111">Você pode associar gateways de gerenciamento de dados que são instalados em vários computadores de locais com um único gateway lógico do portal de saudação.</span><span class="sxs-lookup"><span data-stu-id="05809-111">You can associate data management gateways that are installed on multiple on-premises machines with a single logical gateway from hello portal.</span></span> <span data-ttu-id="05809-112">Esses computadores são chamados de **nós**.</span><span class="sxs-lookup"><span data-stu-id="05809-112">These machines are called **nodes**.</span></span> <span data-ttu-id="05809-113">Você pode ter até muito**quatro nós** associados com um gateway lógico.</span><span class="sxs-lookup"><span data-stu-id="05809-113">You can have up too**four nodes** associated with a logical gateway.</span></span> <span data-ttu-id="05809-114">Olá benefícios de ter vários nós (máquinas locais com o gateway instalado) para um gateway lógico são:</span><span class="sxs-lookup"><span data-stu-id="05809-114">hello benefits of having multiple nodes (on-premises machines with gateway installed) for a logical gateway are:</span></span>  

- <span data-ttu-id="05809-115">Melhorar o desempenho de movimentação de dados entre armazenamentos de dados local e na nuvem.</span><span class="sxs-lookup"><span data-stu-id="05809-115">Improve performance of data movement between on-premises and cloud data stores.</span></span>  
- <span data-ttu-id="05809-116">Se um de nós de saudação falhar por algum motivo, outros nós ainda estão disponíveis para mover dados de saudação.</span><span class="sxs-lookup"><span data-stu-id="05809-116">If one of hello nodes goes down for some reason, other nodes are still available for moving hello data.</span></span> 
- <span data-ttu-id="05809-117">Se um de nós de saudação precisar toobe colocado offline para manutenção, outros nós ainda estão disponíveis para mover dados de saudação.</span><span class="sxs-lookup"><span data-stu-id="05809-117">If one of hello nodes need toobe taken offline for maintenance, other nodes are still available for moving hello data.</span></span>

<span data-ttu-id="05809-118">Você também pode configurar o número de saudação do **trabalhos de movimentação de dados simultâneas** que pode ser executado em um tooscale de nó, o recurso de saudação de mover dados entre locais e na nuvem armazenamentos de dados.</span><span class="sxs-lookup"><span data-stu-id="05809-118">You can also configure hello number of **concurrent data movement jobs** that can run on a node tooscale up hello capability of moving data between on-premises and cloud data stores.</span></span> 

<span data-ttu-id="05809-119">Usando Olá portal do Azure, você pode monitorar o status de saudação de nós, que ajuda você a decidir se tooadd ou remover um nó de gateway de lógica de saudação.</span><span class="sxs-lookup"><span data-stu-id="05809-119">Using hello Azure portal, you can monitor hello status of these nodes, which helps you decide whether tooadd or remove a node from hello logical gateway.</span></span> 

## <a name="architecture"></a><span data-ttu-id="05809-120">Arquitetura</span><span class="sxs-lookup"><span data-stu-id="05809-120">Architecture</span></span> 
<span data-ttu-id="05809-121">Hello diagrama a seguir fornece visão geral da arquitetura de saudação de escalabilidade e o recurso de disponibilidade do hello Data Management Gateway:</span><span class="sxs-lookup"><span data-stu-id="05809-121">hello following diagram provides hello architecture overview of scalability and availability feature of hello Data Management Gateway:</span></span> 

![Gateway de Gerenciamento de Dados – alta disponibilidade e escalabilidade](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-high-availability-and-scalability.png)

<span data-ttu-id="05809-123">Um **gateway lógica** gateway Olá suplemento fábrica de dados tooa Olá portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="05809-123">A **logical gateway** is hello gateway you add tooa data factory in hello Azure portal.</span></span> <span data-ttu-id="05809-124">Anteriormente, você podia associar apenas um computador do Windows local com instalado com o Gateway de Gerenciamento de Dados instalado com um gateway de lógico.</span><span class="sxs-lookup"><span data-stu-id="05809-124">Earlier, you could associate only one on-premises Windows machine with Data Management Gateway installed with a logical gateway.</span></span> <span data-ttu-id="05809-125">Esse computador de gateway local é chamado de nó.</span><span class="sxs-lookup"><span data-stu-id="05809-125">This on-premises gateway machine is called a node.</span></span> <span data-ttu-id="05809-126">Agora, você pode associar o muito**quatro nós físicos** com um gateway lógico.</span><span class="sxs-lookup"><span data-stu-id="05809-126">Now, you can associate up too**four physical nodes** with a logical gateway.</span></span> <span data-ttu-id="05809-127">Um gateway lógico com vários nós é chamado de **gateway com vários nós**.</span><span class="sxs-lookup"><span data-stu-id="05809-127">A logical gateway with multiple nodes is called a **multi-node gateway**.</span></span>  

<span data-ttu-id="05809-128">Todos esses nós estão **ativos**.</span><span class="sxs-lookup"><span data-stu-id="05809-128">All these nodes are **active**.</span></span> <span data-ttu-id="05809-129">Todos eles podem processar dados de toomove de trabalhos de movimentação de dados entre locais e na nuvem armazenamentos de dados.</span><span class="sxs-lookup"><span data-stu-id="05809-129">They all can process data movement jobs toomove data between on-premises and cloud data stores.</span></span> <span data-ttu-id="05809-130">Um de nós de saudação atuam como distribuidor e de trabalho.</span><span class="sxs-lookup"><span data-stu-id="05809-130">One of hello nodes act as both dispatcher and worker.</span></span> <span data-ttu-id="05809-131">Outros nós em grupos de saudação são nós de trabalho.</span><span class="sxs-lookup"><span data-stu-id="05809-131">Other nodes in hello groups are worker nodes.</span></span> <span data-ttu-id="05809-132">Um **dispatcher** nó recebe tarefas/trabalhos de movimentação de dados do serviço de nuvem hello e expede nós tooworker (incluindo o próprio).</span><span class="sxs-lookup"><span data-stu-id="05809-132">A **dispatcher** node pulls data movement tasks/jobs from hello cloud service and dispatches them tooworker nodes (including itself).</span></span> <span data-ttu-id="05809-133">Um **trabalho** nó executa movimentação trabalhos toomove dados entre locais e na nuvem armazenamentos de dados.</span><span class="sxs-lookup"><span data-stu-id="05809-133">A **worker** node executes data movement jobs toomove data between on-premises and cloud data stores.</span></span> <span data-ttu-id="05809-134">Todos os nós são de trabalho.</span><span class="sxs-lookup"><span data-stu-id="05809-134">All nodes are workers.</span></span> <span data-ttu-id="05809-135">Apenas um nó pode ser expedição e de trabalho.</span><span class="sxs-lookup"><span data-stu-id="05809-135">Only one node can be both dispatch and worker.</span></span>    

<span data-ttu-id="05809-136">Normalmente, você pode começar com um nó e **expansão** tooadd mais nós como Olá nós existentes são sobrecarregados com hello de carga de movimentação de dados.</span><span class="sxs-lookup"><span data-stu-id="05809-136">You may typically start with one node and **scale out** tooadd more nodes as hello existing node(s) are overwhelmed with hello data movement load.</span></span> <span data-ttu-id="05809-137">Você também pode **expandir** Olá recurso de movimentação de dados de um nó de gateway, aumentando o número de saudação de trabalhos simultâneos permitidos toorun no nó de saudação.</span><span class="sxs-lookup"><span data-stu-id="05809-137">You can also **scale up** hello data movement capability of a gateway node by increasing hello number of concurrent jobs that are allowed toorun on hello node.</span></span> <span data-ttu-id="05809-138">Essa funcionalidade também está disponível com um gateway de único nó (mesmo quando o recurso de escalabilidade e disponibilidade Olá não está habilitado).</span><span class="sxs-lookup"><span data-stu-id="05809-138">This capability is also available with a single-node gateway (even when hello scalability and availability feature is not enabled).</span></span> 

<span data-ttu-id="05809-139">Um gateway com vários nós mantém Olá credenciais do repositório de dados sincronizados em todos os nós.</span><span class="sxs-lookup"><span data-stu-id="05809-139">A gateway with multiple nodes keeps hello data store credentials in sync across all nodes.</span></span> <span data-ttu-id="05809-140">Se houver um problema de conectividade de nó para nó, credenciais Olá podem estar fora de sincronia. Quando você define as credenciais para um repositório de dados local que usa um gateway, ele salva as credenciais no nó do hello dispatcher/de trabalho.</span><span class="sxs-lookup"><span data-stu-id="05809-140">If there is a node-to-node connectivity issue, hello credentials may be out of sync. When you set credentials for an on-premises data store that uses a gateway, it saves credentials on hello dispatcher/worker node.</span></span> <span data-ttu-id="05809-141">Olá dispatcher nó for sincronizado com os outros nós de trabalho.</span><span class="sxs-lookup"><span data-stu-id="05809-141">hello dispatcher node syncs with other worker nodes.</span></span> <span data-ttu-id="05809-142">Esse processo é conhecido como **credenciais sincronização**. canal de comunicação de saudação entre os nós pode ser **criptografado** por um certificado SSL/TLS pública.</span><span class="sxs-lookup"><span data-stu-id="05809-142">This process is known as **credentials sync**. hello communication channel between nodes can be **encrypted** by a public SSL/TLS certificate.</span></span> 

## <a name="set-up-a-multi-node-gateway"></a><span data-ttu-id="05809-143">Configurar um gateway com vários nós</span><span class="sxs-lookup"><span data-stu-id="05809-143">Set up a multi-node gateway</span></span>
<span data-ttu-id="05809-144">Esta seção pressupõe que você ter feito Olá dois artigos ou esteja familiarizado com conceitos nestes artigos a seguir:</span><span class="sxs-lookup"><span data-stu-id="05809-144">This section assumes that you have gone through hello following two articles or familiar with concepts in these articles:</span></span> 

- <span data-ttu-id="05809-145">[Gateway de gerenciamento de dados](data-factory-data-management-gateway.md) -fornece uma visão geral detalhada do gateway de saudação.</span><span class="sxs-lookup"><span data-stu-id="05809-145">[Data Management Gateway](data-factory-data-management-gateway.md) - provides a detailed overview of hello gateway.</span></span>
- <span data-ttu-id="05809-146">[Mover dados entre locais e na nuvem armazenamentos de dados](data-factory-move-data-between-onprem-and-cloud.md) – contém um passo a passo com instruções passo a passo para usar um gateway com um único nó.</span><span class="sxs-lookup"><span data-stu-id="05809-146">[Move data between on-premises and cloud data stores](data-factory-move-data-between-onprem-and-cloud.md) - contains a walkthrough with step-by-step instructions for using a gateway with a single node.</span></span>  

> [!NOTE]
> <span data-ttu-id="05809-147">Antes de instalar um gateway de gerenciamento de dados em uma máquina local do Windows, consulte os pré-requisitos listados em [artigo principal Olá](data-factory-data-management-gateway.md#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="05809-147">Before you install a data management gateway on an on-premises Windows machine, see prerequisites listed in [hello main article](data-factory-data-management-gateway.md#prerequisites).</span></span>

1. <span data-ttu-id="05809-148">Em Olá [passo a passo](data-factory-move-data-between-onprem-and-cloud.md#create-gateway), ao criar um gateway lógico, habilitar Olá **alta disponibilidade e escalabilidade** recurso.</span><span class="sxs-lookup"><span data-stu-id="05809-148">In hello [walkthrough](data-factory-move-data-between-onprem-and-cloud.md#create-gateway), while creating a logical gateway, enable hello **High Availability & Scalability** feature.</span></span> 

    ![Gateway de Gerenciamento de Dados – habilitar alta disponibilidade e escalabilidade](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-enable-high-availability-scalability.png)
2. <span data-ttu-id="05809-150">Em Olá **configurar** página, use uma **instalação expressa** ou **instalação Manual** link tooinstall um gateway no primeiro nó de saudação (uma máquina local do Windows).</span><span class="sxs-lookup"><span data-stu-id="05809-150">In hello **Configure** page, use either **Express Setup** or **Manual Setup** link tooinstall a gateway on hello first node (an on-premises Windows machine).</span></span>

    ![Gateway de Gerenciamento de Dados – instalação manual ou expressa](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-express-manual-setup.png)

    > [!NOTE]
    > <span data-ttu-id="05809-152">Se você usar a opção de instalação expressa Olá, comunicação de nó para nó de saudação é feita sem criptografia.</span><span class="sxs-lookup"><span data-stu-id="05809-152">If you use hello express setup option, hello node-to-node communication is done without encryption.</span></span> <span data-ttu-id="05809-153">o nome do nó Olá é igual ao nome de máquina do hello.</span><span class="sxs-lookup"><span data-stu-id="05809-153">hello node name is same as hello machine name.</span></span> <span data-ttu-id="05809-154">Use a instalação manual se precisa de comunicação entre nós de saudação toobe criptografado ou se desejar toospecify um nome de nó de sua escolha.</span><span class="sxs-lookup"><span data-stu-id="05809-154">Use manual setup if hello node-node communication needs toobe encrypted or you want toospecify a node name of your choice.</span></span> <span data-ttu-id="05809-155">Nomes de nó não podem ser editados posteriormente.</span><span class="sxs-lookup"><span data-stu-id="05809-155">Node names cannot be edited later.</span></span>
3. <span data-ttu-id="05809-156">Se você escolher **instalação expressa**</span><span class="sxs-lookup"><span data-stu-id="05809-156">If you choose **express setup**</span></span>
    1. <span data-ttu-id="05809-157">Você verá Olá seguinte mensagem depois de gateway de saudação for instalado com êxito:</span><span class="sxs-lookup"><span data-stu-id="05809-157">You see hello following message after hello gateway is successfully installed:</span></span>

        ![Gateway de Gerenciamento de Dados – êxito na instalação expressa](media/data-factory-data-management-gateway-high-availability-scalability/express-setup-success.png)
    2. <span data-ttu-id="05809-159">Inicie o Gerenciador de configuração de gerenciamento de dados para o gateway de saudação seguindo [estas instruções](data-factory-data-management-gateway.md#configuration-manager).</span><span class="sxs-lookup"><span data-stu-id="05809-159">Launch Data Management Configuration Manager for hello gateway by following [these instructions](data-factory-data-management-gateway.md#configuration-manager).</span></span> <span data-ttu-id="05809-160">Consulte o nome do gateway Olá, nome do nó, status, etc.</span><span class="sxs-lookup"><span data-stu-id="05809-160">You see hello gateway name, node name, status, etc.</span></span>

        ![Gateway de Gerenciamento de Dados – instalação do gateway bem-sucedida](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-installation-success.png)
4. <span data-ttu-id="05809-162">Se você escolher **configuração manual**:</span><span class="sxs-lookup"><span data-stu-id="05809-162">If you choose **manual setup**:</span></span>
    1. <span data-ttu-id="05809-163">Baixe o pacote de instalação de saudação do hello Microsoft Download Center, executá-lo tooinstall gateway em seu computador.</span><span class="sxs-lookup"><span data-stu-id="05809-163">Download hello installation package from hello Microsoft Download Center, run it tooinstall gateway on your machine.</span></span>
    2. <span data-ttu-id="05809-164">Saudação de uso **chave de autenticação** de saudação **configurar** gateway de saudação do tooregister de página.</span><span class="sxs-lookup"><span data-stu-id="05809-164">Use hello **authentication key** from hello **Configure** page tooregister hello gateway.</span></span>
    
        ![Gateway de Gerenciamento de Dados – instalação do gateway bem-sucedida](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-authentication-key.png)
    3. <span data-ttu-id="05809-166">Em Olá **novo nó gateway** página, você pode fornecer um personalizado **nome** toohello nó de gateway.</span><span class="sxs-lookup"><span data-stu-id="05809-166">In hello **New gateway node** page, you can provide a custom **name** toohello gateway node.</span></span> <span data-ttu-id="05809-167">Por padrão, o nome do nó é igual ao nome de máquina do hello.</span><span class="sxs-lookup"><span data-stu-id="05809-167">By default, node name is same as hello machine name.</span></span>    

        ![Gateway de Gerenciamento de Dados – especificar nome](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-name.png)
    4. <span data-ttu-id="05809-169">Na página seguinte do hello, você pode escolher se muito**habilitar a criptografia para comunicação de nó para nó**.</span><span class="sxs-lookup"><span data-stu-id="05809-169">In hello next page, you can choose whether too**enable encryption for node-to-node communication**.</span></span> <span data-ttu-id="05809-170">Clique em **ignorar** toodisable criptografia (padrão).</span><span class="sxs-lookup"><span data-stu-id="05809-170">Click **Skip** toodisable encryption (default).</span></span>

        ![Gateway de Gerenciamento de Dados – habilitar criptografia](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-node-encryption.png)  
    
        > [!NOTE]
        > <span data-ttu-id="05809-172">Alteração do modo de criptografia só tem suporte quando você tem um nó único gateway no gateway lógico hello.</span><span class="sxs-lookup"><span data-stu-id="05809-172">Changing of encryption mode is only supported when you have a single gateway node in hello logical gateway.</span></span> <span data-ttu-id="05809-173">modo de criptografia de saudação toochange quando um gateway tem vários nós, Olá seguintes etapas: excluir todos os nós de hello, exceto uma, alterar o modo de criptografia hello e adicione nós Olá novamente.</span><span class="sxs-lookup"><span data-stu-id="05809-173">toochange hello encryption mode when a gateway has multiple nodes, do hello following steps: delete all hello nodes except one node, change hello encryption mode, and then add hello nodes again.</span></span>
        > 
        > <span data-ttu-id="05809-174">Consulte a seção [Requisitos de certificado TLS/SSL](#tlsssl-certificate-requirements) para obter uma lista de requisitos para usar um certificado TLS/SSL.</span><span class="sxs-lookup"><span data-stu-id="05809-174">See [TLS/SSL certificate requirements](#tlsssl-certificate-requirements) section for a list of requirements for using an TLS/SSL certificate.</span></span> 
    5. <span data-ttu-id="05809-175">Depois de saudação gateway é instalado com êxito, clique em Iniciar o Configuration Manager:</span><span class="sxs-lookup"><span data-stu-id="05809-175">After hello gateway is successfully installed, click Launch Configuration Manager:</span></span>
    
        ![Instalação manual – iniciar gerenciador de configurações](media/data-factory-data-management-gateway-high-availability-scalability/manual-setup-launch-configuration-manager.png)   
    6. <span data-ttu-id="05809-177">Consulte o Gerenciador de configuração de Gateway de gerenciamento de dados no nó de saudação (máquina do Windows local), que mostra o status de conectividade, **nome do gateway**, e **o nome do nó**.</span><span class="sxs-lookup"><span data-stu-id="05809-177">you see Data Management Gateway Configuration Manager on hello node (on-premises Windows machine), which shows connectivity status, **gateway name**, and **node name**.</span></span>  

        ![Gateway de Gerenciamento de Dados – instalação do gateway bem-sucedida](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-installation-success.png)

        > [!NOTE]
        > <span data-ttu-id="05809-179">Se estiver Provisionando gateway Olá em uma VM do Azure, você pode usar [este modelo do Gerenciador de recursos do Azure no GitHub](https://github.com/xiaoyingLJ/vms-with-multiple-data-management-gateway).</span><span class="sxs-lookup"><span data-stu-id="05809-179">If you are provisioning hello gateway on an Azure VM, you can use [this Azure Resource Manager template on GitHub](https://github.com/xiaoyingLJ/vms-with-multiple-data-management-gateway).</span></span> <span data-ttu-id="05809-180">Esse script cria um gateway lógico, configura as VMs com software de Gateway de gerenciamento de dados instalado e registrá-los com o gateway de lógica de saudação.</span><span class="sxs-lookup"><span data-stu-id="05809-180">This script creates a logical gateway, sets up VMs with Data Management Gateway software installed, and registers them with hello logical gateway.</span></span> 
6. <span data-ttu-id="05809-181">No portal do Azure, inicie Olá **Gateway** página:</span><span class="sxs-lookup"><span data-stu-id="05809-181">In Azure portal, launch hello **Gateway** page:</span></span> 
    1. <span data-ttu-id="05809-182">Na página de home Olá dados fábrica no portal de saudação, clique em **serviços vinculados**.</span><span class="sxs-lookup"><span data-stu-id="05809-182">On hello data factory home page in hello portal, click **Linked Services**.</span></span>
    
        ![Página inicial da data factory](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-home-page.png)
    2. <span data-ttu-id="05809-184">Selecione Olá **gateway** toosee Olá **Gateway** página:</span><span class="sxs-lookup"><span data-stu-id="05809-184">select hello **gateway** toosee hello **Gateway** page:</span></span>
    
        ![Página inicial da data factory](media/data-factory-data-management-gateway-high-availability-scalability/linked-services-gateway.png)
    4. <span data-ttu-id="05809-186">Consulte Olá **Gateway** página:</span><span class="sxs-lookup"><span data-stu-id="05809-186">You see hello **Gateway** page:</span></span>   

        ![Gateway com exibição de nó único](media/data-factory-data-management-gateway-high-availability-scalability/gateway-first-node-portal-view.png) 
7. <span data-ttu-id="05809-188">Clique em **adicionar nó** em Olá barra de ferramentas tooadd um gateway de lógica de toohello do nó.</span><span class="sxs-lookup"><span data-stu-id="05809-188">Click **Add Node** on hello toolbar tooadd a node toohello logical gateway.</span></span> <span data-ttu-id="05809-189">Se você estiver planejando a configuração expressa toouse, siga esta etapa de máquina local Olá que será adicionada como um gateway de toohello do nó.</span><span class="sxs-lookup"><span data-stu-id="05809-189">If you are planning toouse express setup, do this step from hello on-premises machine that will be added as a node toohello gateway.</span></span> 

    ![Gateway de Gerenciamento de Dados – menu adicionar nó](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-add-node-menu.png)
8. <span data-ttu-id="05809-191">As etapas são semelhante toosetting o primeiro nó de saudação.</span><span class="sxs-lookup"><span data-stu-id="05809-191">Steps are similar toosetting up hello first node.</span></span> <span data-ttu-id="05809-192">Olá UI do Configuration Manager permite que você defina o nome do nó hello, se você escolher a opção de instalação manual de saudação:</span><span class="sxs-lookup"><span data-stu-id="05809-192">hello Configuration Manager UI lets you set hello node name if you choose hello manual installation option:</span></span> 

    ![Gerenciador de Configurações – instalar segundo gateway](media/data-factory-data-management-gateway-high-availability-scalability/install-second-gateway.png)
9. <span data-ttu-id="05809-194">Depois de gateway de saudação é instalado com êxito no nó Olá, ferramenta Gerenciador de configurações de saudação exibe Olá tela a seguir:</span><span class="sxs-lookup"><span data-stu-id="05809-194">After hello gateway is installed successfully on hello node, hello Configuration Manager tool displays hello following screen:</span></span>  

    ![Gerenciador de Configurações – instalação do segundo gateway bem-sucedida](media/data-factory-data-management-gateway-high-availability-scalability/second-gateway-installation-successful.png)
10. <span data-ttu-id="05809-196">Se você abrir Olá **Gateway** página no portal de Olá, você verá dois nós de gateway agora:</span><span class="sxs-lookup"><span data-stu-id="05809-196">If you open hello **Gateway** page in hello portal, you see two gateway nodes now:</span></span> 

    ![Gateway com dois nós no portal de saudação](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-monitoring.png)
11. <span data-ttu-id="05809-198">toodelete um nó do gateway, clique em **Excluir nó** na barra de ferramentas hello, selecione o nó de saudação você deseja toodelete e, em seguida, clique em **excluir** na barra de ferramentas de saudação.</span><span class="sxs-lookup"><span data-stu-id="05809-198">toodelete a gateway node, click **Delete Node** on hello toolbar, select hello node you want toodelete, and then click **Delete** from hello toolbar.</span></span> <span data-ttu-id="05809-199">Essa ação exclui o nó selecionado de saudação do grupo hello.</span><span class="sxs-lookup"><span data-stu-id="05809-199">This action deletes hello selected node from hello group.</span></span> <span data-ttu-id="05809-200">Observe que essa ação não desinstala software do gateway de gerenciamento de dados de saudação do nó da saudação (máquina do Windows local).</span><span class="sxs-lookup"><span data-stu-id="05809-200">Note that this action does not uninstall hello data management gateway software from hello node (on-premises Windows machine).</span></span> <span data-ttu-id="05809-201">Use **adicionar ou remover programas** no painel de controle no gateway de Olá Olá local toouninstall.</span><span class="sxs-lookup"><span data-stu-id="05809-201">Use **Add or remove programs** in Control Panel on hello on-premises toouninstall hello gateway.</span></span> <span data-ttu-id="05809-202">Quando você desinstalar o gateway do nó hello, ele será automaticamente excluído no portal de saudação.</span><span class="sxs-lookup"><span data-stu-id="05809-202">When you uninstall gateway from hello node, it's automatically deleted in hello portal.</span></span>   

## <a name="upgrade-an-existing-gateway"></a><span data-ttu-id="05809-203">Atualizar um gateway existente</span><span class="sxs-lookup"><span data-stu-id="05809-203">Upgrade an existing gateway</span></span>
<span data-ttu-id="05809-204">Você pode atualizar um existente gateway toouse Olá alta disponibilidade e escalabilidade.</span><span class="sxs-lookup"><span data-stu-id="05809-204">You can upgrade an existing gateway toouse hello high availability and scalability feature.</span></span> <span data-ttu-id="05809-205">Esse recurso funciona somente conosco que têm o gateway de gerenciamento de dados de saudação da versão > = 2.12.xxxx.</span><span class="sxs-lookup"><span data-stu-id="05809-205">This feature works only with nodes that have hello data management gateway of version >= 2.12.xxxx.</span></span> <span data-ttu-id="05809-206">Você pode ver a versão de saudação do gateway de gerenciamento de dados instalado em um computador em Olá **ajuda** guia da saudação Gerenciador de configuração de Gateway de gerenciamento de dados.</span><span class="sxs-lookup"><span data-stu-id="05809-206">You can see hello version of data management gateway installed on a machine in hello **Help** tab of hello Data Management Gateway Configuration Manager.</span></span> 

1. <span data-ttu-id="05809-207">Atualizar o gateway de Olá Olá local máquina toohello versão mais recente seguindo baixando e executando um pacote de instalação do MSI de saudação [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=39717).</span><span class="sxs-lookup"><span data-stu-id="05809-207">Update hello gateway on hello on-premises machine toohello latest version by following by downloading and running an MSI setup package from hello [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=39717).</span></span> <span data-ttu-id="05809-208">Consulte a seção [Instalação](data-factory-data-management-gateway.md#installation) para obter detalhes.</span><span class="sxs-lookup"><span data-stu-id="05809-208">See [installation](data-factory-data-management-gateway.md#installation) section for details.</span></span>  
2. <span data-ttu-id="05809-209">Navegue toohello portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="05809-209">Navigate toohello Azure portal.</span></span> <span data-ttu-id="05809-210">Iniciar Olá **página de fábrica de dados** sua fábrica de dados.</span><span class="sxs-lookup"><span data-stu-id="05809-210">Launch hello **Data Factory page** for your data factory.</span></span> <span data-ttu-id="05809-211">Clique em vinculado serviços bloco toolaunch Olá **página serviços vinculados**.</span><span class="sxs-lookup"><span data-stu-id="05809-211">Click Linked services tile toolaunch hello **linked services page**.</span></span> <span data-ttu-id="05809-212">Saudação de toolaunch gateway Olá selecione **página gateway**.</span><span class="sxs-lookup"><span data-stu-id="05809-212">Select hello gateway toolaunch hello **gateway page**.</span></span> <span data-ttu-id="05809-213">Clique em e habilitar **recurso de visualização** conforme Olá a imagem a seguir:</span><span class="sxs-lookup"><span data-stu-id="05809-213">Click and enable **Preview Feature** as shown in hello following image:</span></span> 

    ![Gateway de Gerenciamento de Dados – habilitar versão prévia do recurso](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-existing-gateway-enable-high-availability.png)   
2. <span data-ttu-id="05809-215">Após habilitar o recurso de visualização Olá no portal de hello, feche todas as páginas.</span><span class="sxs-lookup"><span data-stu-id="05809-215">Once hello preview feature is enabled in hello portal, close all pages.</span></span> <span data-ttu-id="05809-216">Reabra Olá **página gateway** toosee Olá nova visualização interface do usuário (IU).</span><span class="sxs-lookup"><span data-stu-id="05809-216">Reopen hello **gateway page** toosee hello new preview user interface (UI).</span></span>
 
    ![Gateway de Gerenciamento de Dados – versão prévia do recurso habilitada com êxito](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-preview-success.png)

    ![Gateway de Gerenciamento de Dados – interface do usuário da versão prévia](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-preview.png)

    > [!NOTE]
    > <span data-ttu-id="05809-219">Durante a atualização de Olá, nome do primeiro nó de saudação é nome de saudação da máquina de saudação.</span><span class="sxs-lookup"><span data-stu-id="05809-219">During hello upgrade, name of hello first node is hello name of hello machine.</span></span> 
3. <span data-ttu-id="05809-220">Agora, adicione um nó.</span><span class="sxs-lookup"><span data-stu-id="05809-220">Now, add a node.</span></span> <span data-ttu-id="05809-221">Em Olá **Gateway** , clique em **adicionar nó**.</span><span class="sxs-lookup"><span data-stu-id="05809-221">In hello **Gateway** page, click **Add Node**.</span></span>  

    ![Gateway de Gerenciamento de Dados – menu adicionar nó](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-add-node-menu.png)

    <span data-ttu-id="05809-223">Siga as instruções do hello anterior seção tooset o nó de saudação.</span><span class="sxs-lookup"><span data-stu-id="05809-223">Follow instructions from hello previous section tooset up hello node.</span></span> 

### <a name="installation-best-practices"></a><span data-ttu-id="05809-224">Melhores práticas de instalação</span><span class="sxs-lookup"><span data-stu-id="05809-224">Installation best practices</span></span>

- <span data-ttu-id="05809-225">Configure plano de energia no computador de host Olá para o gateway de saudação para que hello máquina não entra em hibernação.</span><span class="sxs-lookup"><span data-stu-id="05809-225">Configure power plan on hello host machine for hello gateway so that hello machine does not hibernate.</span></span> <span data-ttu-id="05809-226">Se a máquina de host Olá hibernação, gateway Olá não responde solicitações toodata.</span><span class="sxs-lookup"><span data-stu-id="05809-226">If hello host machine hibernates, hello gateway does not respond toodata requests.</span></span>
- <span data-ttu-id="05809-227">Fazer backup de certificado Olá associado Olá gateway.</span><span class="sxs-lookup"><span data-stu-id="05809-227">Back up hello certificate associated with hello gateway.</span></span>
- <span data-ttu-id="05809-228">Verifique se todos os nós são de configuração semelhante (recomendada) para um desempenho ideal.</span><span class="sxs-lookup"><span data-stu-id="05809-228">Ensure all nodes are of similar configuration (recommended) for ideal performance.</span></span> 
- <span data-ttu-id="05809-229">Adicione a alta disponibilidade de tooensure de pelo menos dois nós.</span><span class="sxs-lookup"><span data-stu-id="05809-229">Add at least two nodes tooensure high availability.</span></span>  

### <a name="tlsssl-certificate-requirements"></a><span data-ttu-id="05809-230">Requisitos de certificado TLS/SSL</span><span class="sxs-lookup"><span data-stu-id="05809-230">TLS/SSL certificate requirements</span></span>
<span data-ttu-id="05809-231">Aqui estão os requisitos de saudação para certificados TLS/SSL Olá que é usado para proteger as comunicações entre os nós de gateway:</span><span class="sxs-lookup"><span data-stu-id="05809-231">Here are hello requirements for hello TLS/SSL certificate that is used for securing communications between gateway nodes:</span></span>

- <span data-ttu-id="05809-232">saudação do certificado deve ser publicamente confiável X509 v3 certificado.</span><span class="sxs-lookup"><span data-stu-id="05809-232">hello certificate must be a publicly trusted X509 v3 certificate.</span></span>
- <span data-ttu-id="05809-233">Todos os nós de gateway devem confiar nesse certificado.</span><span class="sxs-lookup"><span data-stu-id="05809-233">All gateway nodes must trust this certificate.</span></span> 
- <span data-ttu-id="05809-234">É recomendável que você use certificados emitidos por uma AC (autoridade de certificação) pública (de terceiros).</span><span class="sxs-lookup"><span data-stu-id="05809-234">We recommend that you use certificates that are issued by a public (third-party) certification authority (CA).</span></span>
- <span data-ttu-id="05809-235">Dá suporte a qualquer tamanho de chave com suporte pelo Windows Server 2012 R2 para certificados SSL.</span><span class="sxs-lookup"><span data-stu-id="05809-235">Supports any key size supported by Windows Server 2012 R2 for SSL certificates.</span></span>
- <span data-ttu-id="05809-236">Não dá suporte a certificados que usam chaves CNG.</span><span class="sxs-lookup"><span data-stu-id="05809-236">Does not support certificates that use CNG keys.</span></span>
- <span data-ttu-id="05809-237">Há suporte para certificados curinga.</span><span class="sxs-lookup"><span data-stu-id="05809-237">Wild-card certificates are supported.</span></span> 


## <a name="monitor-a-multi-node-gateway"></a><span data-ttu-id="05809-238">Monitorar um gateway com vários nós</span><span class="sxs-lookup"><span data-stu-id="05809-238">Monitor a multi-node gateway</span></span>
### <a name="multi-node-gateway-monitoring"></a><span data-ttu-id="05809-239">Monitoramento de gateway com vários nós</span><span class="sxs-lookup"><span data-stu-id="05809-239">Multi-node gateway monitoring</span></span>
<span data-ttu-id="05809-240">Olá portal do Azure, você verá o instantâneo quase em tempo real de utilização de recursos (CPU, memória, network(in/out), etc.) em cada nó junto com o status de nós de gateway.</span><span class="sxs-lookup"><span data-stu-id="05809-240">In hello Azure portal, you can view near-real time snapshot of resource utilization (CPU, memory, network(in/out), etc.) on each node along with statuses of gateway nodes.</span></span> 

![Gateway de Gerenciamento de Dados – monitoramento de vários nós](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-monitoring.png)

<span data-ttu-id="05809-242">Você pode habilitar **configurações avançadas** em Olá **Gateway** página toosee avançado métricas como **rede**(in/out), **função & Status de credencial**, que é útil na depuração de problemas do gateway, e **trabalhos simultâneos** (executando / limite) que pode ser modificado / alterado adequadamente durante a ajuste de desempenho.</span><span class="sxs-lookup"><span data-stu-id="05809-242">You can enable **Advanced Settings** in hello **Gateway** page toosee advanced metrics like **Network**(in/out), **Role & Credential Status**, which is helpful in debugging gateway issues, and **Concurrent Jobs** (Running/ Limit) which can be modified/ changed accordingly during performance tuning.</span></span> <span data-ttu-id="05809-243">Olá, tabela a seguir fornece descrições das colunas no hello **Gateway nós** lista:</span><span class="sxs-lookup"><span data-stu-id="05809-243">hello following table provides descriptions of columns in hello **Gateway Nodes** list:</span></span>  

<span data-ttu-id="05809-244">Propriedade de monitoramento</span><span class="sxs-lookup"><span data-stu-id="05809-244">Monitoring Property</span></span> | <span data-ttu-id="05809-245">Descrição</span><span class="sxs-lookup"><span data-stu-id="05809-245">Description</span></span>
:------------------ | :---------- 
<span data-ttu-id="05809-246">Nome</span><span class="sxs-lookup"><span data-stu-id="05809-246">Name</span></span> | <span data-ttu-id="05809-247">Nome do gateway lógico hello e nós associada Olá gateway.</span><span class="sxs-lookup"><span data-stu-id="05809-247">Name of hello logical gateway and nodes associated with hello gateway.</span></span>  
<span data-ttu-id="05809-248">Status</span><span class="sxs-lookup"><span data-stu-id="05809-248">Status</span></span> | <span data-ttu-id="05809-249">Status do gateway lógico hello e nós de gateway de saudação.</span><span class="sxs-lookup"><span data-stu-id="05809-249">Status of hello logical gateway and hello gateway nodes.</span></span> <span data-ttu-id="05809-250">Exemplo: Online/Offline/Limitado/etc. Para obter informações sobre esses status, consulte a seção [Status do gateway](#gateway-status).</span><span class="sxs-lookup"><span data-stu-id="05809-250">Example: Online/Offline/Limited/etc. For information about these statuses, See [Gateway status](#gateway-status) section.</span></span> 
<span data-ttu-id="05809-251">Versão</span><span class="sxs-lookup"><span data-stu-id="05809-251">Version</span></span> | <span data-ttu-id="05809-252">Mostra a versão de saudação do gateway lógico hello e cada nó do gateway.</span><span class="sxs-lookup"><span data-stu-id="05809-252">Shows hello version of hello logical gateway and each gateway node.</span></span> <span data-ttu-id="05809-253">versão de saudação do gateway de lógica de saudação é determinado com base na versão de maioria de nós no grupo de saudação.</span><span class="sxs-lookup"><span data-stu-id="05809-253">hello version of hello logical gateway is determined based on version of majority of nodes in hello group.</span></span> <span data-ttu-id="05809-254">Se não houver nós com versões diferentes na instalação do gateway lógico hello, somente nós de saudação com hello mesmo número de versão da função de gateway lógico Olá corretamente.</span><span class="sxs-lookup"><span data-stu-id="05809-254">If there are nodes with different versions in hello logical gateway setup, only hello nodes with hello same version number as hello logical gateway function properly.</span></span> <span data-ttu-id="05809-255">Outras pessoas estão no modo limitado hello e precisam toobe atualizado manualmente (somente no caso de falha de atualização automática).</span><span class="sxs-lookup"><span data-stu-id="05809-255">Others are in hello limited mode and need toobe manually updated (only in case auto-update fails).</span></span> 
<span data-ttu-id="05809-256">Memória disponível</span><span class="sxs-lookup"><span data-stu-id="05809-256">Available memory</span></span> | <span data-ttu-id="05809-257">Memória disponível em um nó do gateway.</span><span class="sxs-lookup"><span data-stu-id="05809-257">Available memory on a gateway node.</span></span> <span data-ttu-id="05809-258">Esse valor é um instantâneo quase em tempo real.</span><span class="sxs-lookup"><span data-stu-id="05809-258">This value is a near real-time snapshot.</span></span> 
<span data-ttu-id="05809-259">Utilização da CPU</span><span class="sxs-lookup"><span data-stu-id="05809-259">CPU utilization</span></span> | <span data-ttu-id="05809-260">Utilização da CPU de um nó de gateway.</span><span class="sxs-lookup"><span data-stu-id="05809-260">CPU utilization of a gateway node.</span></span> <span data-ttu-id="05809-261">Esse valor é um instantâneo quase em tempo real.</span><span class="sxs-lookup"><span data-stu-id="05809-261">This value is a near real-time snapshot.</span></span> 
<span data-ttu-id="05809-262">Rede (Entrada/Saída)</span><span class="sxs-lookup"><span data-stu-id="05809-262">Networking (In/Out)</span></span> | <span data-ttu-id="05809-263">Utilização de rede de um nó de gateway.</span><span class="sxs-lookup"><span data-stu-id="05809-263">Network utilization of a gateway node.</span></span> <span data-ttu-id="05809-264">Esse valor é um instantâneo quase em tempo real.</span><span class="sxs-lookup"><span data-stu-id="05809-264">This value is a near real-time snapshot.</span></span> 
<span data-ttu-id="05809-265">Trabalhos Simultâneos (Executando/Limite)</span><span class="sxs-lookup"><span data-stu-id="05809-265">Concurrent Jobs (Running/ Limit)</span></span> | <span data-ttu-id="05809-266">Número de trabalhos ou tarefas em execução em cada nó.</span><span class="sxs-lookup"><span data-stu-id="05809-266">Number of jobs or tasks running on each node.</span></span> <span data-ttu-id="05809-267">Esse valor é um instantâneo quase em tempo real.</span><span class="sxs-lookup"><span data-stu-id="05809-267">This value is a near real-time snapshot.</span></span> <span data-ttu-id="05809-268">Limite significa Olá máxima simultâneas de trabalhos para cada nó.</span><span class="sxs-lookup"><span data-stu-id="05809-268">Limit signifies hello maximum concurrent jobs for each node.</span></span> <span data-ttu-id="05809-269">Esse valor é definido com base no tamanho da máquina hello.</span><span class="sxs-lookup"><span data-stu-id="05809-269">This value is defined based on hello machine size.</span></span> <span data-ttu-id="05809-270">Você pode aumentar Olá limite tooscale a execução de trabalho simultâneas em cenários avançados, onde CPU / memória / rede é subutilizado, mas as atividades são tempo limite. Essa funcionalidade também está disponível com um gateway de único nó (mesmo quando o recurso de escalabilidade e disponibilidade Olá não está habilitado).</span><span class="sxs-lookup"><span data-stu-id="05809-270">You can increase hello limit tooscale up concurrent job execution in advanced scenarios, where CPU/ memory/ network is under-utilized, but activities are timing out. This capability is also available with a single-node gateway (even when hello scalability and availability feature is not enabled).</span></span> <span data-ttu-id="05809-271">Para obter mais informações, consulte a seção [considerações de dimensionamento](#scale-considerations).</span><span class="sxs-lookup"><span data-stu-id="05809-271">For more information, see [scale considerations](#scale-considerations) section.</span></span> 
<span data-ttu-id="05809-272">Função</span><span class="sxs-lookup"><span data-stu-id="05809-272">Role</span></span> | <span data-ttu-id="05809-273">Há dois tipos de funções – Dispatcher e de trabalho.</span><span class="sxs-lookup"><span data-stu-id="05809-273">There are two types of roles – Dispatcher and worker.</span></span> <span data-ttu-id="05809-274">Todos os nós são operadores, o que significa que eles podem ser usados tooexecute trabalhos.</span><span class="sxs-lookup"><span data-stu-id="05809-274">All nodes are workers, which means they can all be used tooexecute jobs.</span></span> <span data-ttu-id="05809-275">Há apenas um nó de distribuidor, que é usado toopull tarefas/trabalhos dos serviços de nuvem e distribuição toodifferent nós de trabalho (incluindo o próprio).</span><span class="sxs-lookup"><span data-stu-id="05809-275">There is only one dispatcher node, which is used toopull tasks/jobs from cloud services and dispatch them toodifferent worker nodes (including itself).</span></span> 

![Gateway de Gerenciamento de Dados – monitoramento avançado de vários nós](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-monitoring-advanced.png)

### <a name="gateway-status"></a><span data-ttu-id="05809-277">Status do gateway</span><span class="sxs-lookup"><span data-stu-id="05809-277">Gateway status</span></span>

<span data-ttu-id="05809-278">Olá, tabela a seguir fornece os status possíveis de um **nó gateway**:</span><span class="sxs-lookup"><span data-stu-id="05809-278">hello following table provides possible statuses of a **gateway node**:</span></span> 

<span data-ttu-id="05809-279">Status</span><span class="sxs-lookup"><span data-stu-id="05809-279">Status</span></span>  | <span data-ttu-id="05809-280">Comentários/Cenários</span><span class="sxs-lookup"><span data-stu-id="05809-280">Comments/Scenarios</span></span>
:------- | :------------------
<span data-ttu-id="05809-281">Online</span><span class="sxs-lookup"><span data-stu-id="05809-281">Online</span></span> | <span data-ttu-id="05809-282">Nó conectado tooData serviço de fábrica.</span><span class="sxs-lookup"><span data-stu-id="05809-282">Node connected tooData Factory service.</span></span>
<span data-ttu-id="05809-283">Off-line</span><span class="sxs-lookup"><span data-stu-id="05809-283">Offline</span></span> | <span data-ttu-id="05809-284">O nó está offline.</span><span class="sxs-lookup"><span data-stu-id="05809-284">Node is offline.</span></span>
<span data-ttu-id="05809-285">Atualizando</span><span class="sxs-lookup"><span data-stu-id="05809-285">Upgrading</span></span> | <span data-ttu-id="05809-286">nó Hello está sendo atualizado automaticamente.</span><span class="sxs-lookup"><span data-stu-id="05809-286">hello node is being auto-updated.</span></span>
<span data-ttu-id="05809-287">Limitado</span><span class="sxs-lookup"><span data-stu-id="05809-287">Limited</span></span> | <span data-ttu-id="05809-288">Devido a problema de tooConnectivity.</span><span class="sxs-lookup"><span data-stu-id="05809-288">Due tooConnectivity issue.</span></span> <span data-ttu-id="05809-289">Pode ser devido a problema de porta 8050 tooHTTP, problema de conectividade do barramento de serviço ou problema de sincronização de credenciais.</span><span class="sxs-lookup"><span data-stu-id="05809-289">May be due tooHTTP port 8050 issue, service bus connectivity issue, or credential sync issue.</span></span> 
<span data-ttu-id="05809-290">Inativo</span><span class="sxs-lookup"><span data-stu-id="05809-290">Inactive</span></span> | <span data-ttu-id="05809-291">Nó estiver em uma configuração diferente da configuração de saudação de outros nós de maioria.</span><span class="sxs-lookup"><span data-stu-id="05809-291">Node is in a configuration different from hello configuration of other majority nodes.</span></span><br/><br/> <span data-ttu-id="05809-292">Um nó pode ficar inativo quando ele não pode se conectar tooother nós.</span><span class="sxs-lookup"><span data-stu-id="05809-292">A node can be inactive when it cannot connect tooother nodes.</span></span> 


<span data-ttu-id="05809-293">Olá, tabela a seguir fornece os status possíveis de um **gateway lógica**.</span><span class="sxs-lookup"><span data-stu-id="05809-293">hello following table provides possible statuses of a **logical gateway**.</span></span> <span data-ttu-id="05809-294">status do gateway Olá depende do status de nós de gateway de saudação.</span><span class="sxs-lookup"><span data-stu-id="05809-294">hello gateway status depends on statuses of hello gateway nodes.</span></span> 

<span data-ttu-id="05809-295">Status</span><span class="sxs-lookup"><span data-stu-id="05809-295">Status</span></span> | <span data-ttu-id="05809-296">Comentários</span><span class="sxs-lookup"><span data-stu-id="05809-296">Comments</span></span>
:----- | :-------
<span data-ttu-id="05809-297">Precisa de Registro</span><span class="sxs-lookup"><span data-stu-id="05809-297">Needs Registration</span></span> | <span data-ttu-id="05809-298">Nenhum nó ainda gateway lógica toothis registrados</span><span class="sxs-lookup"><span data-stu-id="05809-298">No node is yet registered toothis logical gateway</span></span>
<span data-ttu-id="05809-299">Online</span><span class="sxs-lookup"><span data-stu-id="05809-299">Online</span></span> | <span data-ttu-id="05809-300">Nós de Gateway estão online</span><span class="sxs-lookup"><span data-stu-id="05809-300">Gateway Nodes are online</span></span>
<span data-ttu-id="05809-301">Off-line</span><span class="sxs-lookup"><span data-stu-id="05809-301">Offline</span></span> | <span data-ttu-id="05809-302">Nenhum nó no status online.</span><span class="sxs-lookup"><span data-stu-id="05809-302">No node in online status.</span></span>
<span data-ttu-id="05809-303">Limitado</span><span class="sxs-lookup"><span data-stu-id="05809-303">Limited</span></span> | <span data-ttu-id="05809-304">Nem todos os nós neste gateway estão em estado íntegro.</span><span class="sxs-lookup"><span data-stu-id="05809-304">Not all nodes in this gateway are in healthy state.</span></span> <span data-ttu-id="05809-305">Esse status é um aviso de que um nó pode estar inativo!</span><span class="sxs-lookup"><span data-stu-id="05809-305">This status is a warning that some node might be down!</span></span> <br/><br/><span data-ttu-id="05809-306">Pode ser devido a problema de sincronização toocredential no nó de dispatcher/de trabalho.</span><span class="sxs-lookup"><span data-stu-id="05809-306">Could be due toocredential sync issue on dispatcher/worker node.</span></span> 

### <a name="pipeline-activities-monitoring"></a><span data-ttu-id="05809-307">Monitoramento de atividades/de pipeline</span><span class="sxs-lookup"><span data-stu-id="05809-307">Pipeline/ activities monitoring</span></span>
<span data-ttu-id="05809-308">Olá portal do Azure fornece um experiência com os detalhes de nível granular de nó de monitoramento de pipeline.</span><span class="sxs-lookup"><span data-stu-id="05809-308">hello Azure portal provides a pipeline monitoring experience with granular node level details.</span></span> <span data-ttu-id="05809-309">Por exemplo, ele mostra quais atividades foram executadas em qual nó.</span><span class="sxs-lookup"><span data-stu-id="05809-309">For example, it shows which activities ran on which node.</span></span> <span data-ttu-id="05809-310">Essas informações podem ser úteis para entender os problemas de desempenho em um nó específico, digamos devido a limitação de toonetwork.</span><span class="sxs-lookup"><span data-stu-id="05809-310">This information can be helpful in understanding performance issues on a particular node, say due toonetwork throttling.</span></span> 

![Gateway de Gerenciamento de Dados – monitoramento de vários nós para pipelines](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-monitoring-pipelines.png)

![Gateway de Gerenciamento de Dados – detalhes do pipeline](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-pipeline-details.png)

## <a name="scale-considerations"></a><span data-ttu-id="05809-313">Considerações de escala</span><span class="sxs-lookup"><span data-stu-id="05809-313">Scale considerations</span></span>

### <a name="scale-out"></a><span data-ttu-id="05809-314">Expansão</span><span class="sxs-lookup"><span data-stu-id="05809-314">Scale out</span></span>
<span data-ttu-id="05809-315">Olá quando **memória disponível está baixa** e hello **uso da CPU é alto**, adicionando um novo nó ajuda a expansão da carga de saudação entre máquinas.</span><span class="sxs-lookup"><span data-stu-id="05809-315">When hello **available memory is low** and hello **CPU usage is high**, adding a new node helps scale out hello load across machines.</span></span> <span data-ttu-id="05809-316">Se as atividades estão falhando devido nó tootime-out ou o gateway está offline, é útil se você adicionar um gateway de toohello do nó.</span><span class="sxs-lookup"><span data-stu-id="05809-316">If activities are failing due tootime-out or gateway node being offline, it helps if you add a node toohello gateway.</span></span>
 
### <a name="scale-up"></a><span data-ttu-id="05809-317">Escalar verticalmente</span><span class="sxs-lookup"><span data-stu-id="05809-317">Scale up</span></span>
<span data-ttu-id="05809-318">Quando a memória disponível hello e CPU também não são utilizados, mas a capacidade ociosa Olá é 0, você deve ser dimensionado com o aumento do número de saudação de trabalhos simultâneos que podem ser executados em um nó.</span><span class="sxs-lookup"><span data-stu-id="05809-318">When hello available memory and CPU are not utilized well, but hello idle capacity is 0, you should scale up by increasing hello number of concurrent jobs that can run on a node.</span></span> <span data-ttu-id="05809-319">Você pode também deseja tooscale quando atividades estão expirando porque gateway hello está sobrecarregado.</span><span class="sxs-lookup"><span data-stu-id="05809-319">You may also want tooscale up when activities are timing out because hello gateway is overloaded.</span></span> <span data-ttu-id="05809-320">Conforme mostrado na Olá a imagem a seguir, você pode aumentar a capacidade máxima Olá para um nó.</span><span class="sxs-lookup"><span data-stu-id="05809-320">As shown in hello following image, you can increase hello maximum capacity for a node.</span></span> <span data-ttu-id="05809-321">Sugerimos duplicando-toostart com.</span><span class="sxs-lookup"><span data-stu-id="05809-321">We suggest doubling it toostart with.</span></span>  

![Gateway de Gerenciamento de Dados – considerações de escala](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-scale-considerations.png)


## <a name="known-issuesbreaking-changes"></a><span data-ttu-id="05809-323">Problemas conhecidas/últimas alterações</span><span class="sxs-lookup"><span data-stu-id="05809-323">Known issues/breaking changes</span></span>

- <span data-ttu-id="05809-324">No momento, você pode ter até toofour nós de gateway físico para um único gateway lógico.</span><span class="sxs-lookup"><span data-stu-id="05809-324">Currently, you can have up toofour physical gateway nodes for a single logical gateway.</span></span> <span data-ttu-id="05809-325">Se você precisar de mais de quatro nós por motivos de desempenho, envie um email muito[DMGHelp@microsoft.com](mailto:DMGHelp@microsoft.com).</span><span class="sxs-lookup"><span data-stu-id="05809-325">If you need more than four nodes for performance reasons, send an email too[DMGHelp@microsoft.com](mailto:DMGHelp@microsoft.com).</span></span>
- <span data-ttu-id="05809-326">Novamente, você não pode registrar um nó de gateway com a chave de autenticação de saudação do outro tooswitch de lógica de gateway do gateway lógico atual de saudação.</span><span class="sxs-lookup"><span data-stu-id="05809-326">You cannot re-register a gateway node with hello authentication key from another logical gateway tooswitch from hello current logical gateway.</span></span> <span data-ttu-id="05809-327">toore o registro, desinstalar o gateway de saudação do nó hello, reinstale o gateway de saudação e registrá-lo com a chave de autenticação Olá para Olá outro gateway lógico.</span><span class="sxs-lookup"><span data-stu-id="05809-327">toore-register, uninstall hello gateway from hello node, reinstall hello gateway, and register it with hello authentication key for hello other logical gateway.</span></span> 
- <span data-ttu-id="05809-328">Se o proxy HTTP é necessário para todos os seus nós de gateway, configurar proxy de saudação no diahost.exe.config e diawp.exe.config e use Olá server manager toomake-se de que todos os nós têm Olá mesmo diahost.exe.config e diawip.exe.config. Consulte a seção [definir configurações de proxy](data-factory-data-management-gateway.md#configure-proxy-server-settings) para obter detalhes.</span><span class="sxs-lookup"><span data-stu-id="05809-328">If HTTP proxy is required for all your gateway nodes, set hello proxy in diahost.exe.config and diawp.exe.config, and use hello server manager toomake sure all nodes have hello same diahost.exe.config and diawip.exe.config. See [configure proxy settings](data-factory-data-management-gateway.md#configure-proxy-server-settings) section for details.</span></span> 
- <span data-ttu-id="05809-329">toochange o modo de criptografia para comunicação de nó para nó no Gerenciador de configuração do Gateway, exclua todos os nós de saudação no portal de saudação exceto um.</span><span class="sxs-lookup"><span data-stu-id="05809-329">toochange encryption mode for node-to-node communication in Gateway Configuration Manager, delete all hello nodes in hello portal except one.</span></span> <span data-ttu-id="05809-330">Em seguida, adicione nós após alterar o modo de criptografia de saudação.</span><span class="sxs-lookup"><span data-stu-id="05809-330">Then, add nodes back after changing hello encryption mode.</span></span>
- <span data-ttu-id="05809-331">Se você escolher o canal de comunicação de nó para nó de saudação do tooencrypt, use um certificado SSL oficial.</span><span class="sxs-lookup"><span data-stu-id="05809-331">Use an official SSL certificate if you choose tooencrypt hello node-to-node communication channel.</span></span> <span data-ttu-id="05809-332">Certificado autoassinado pode causar problemas de conectividade como Olá mesmo certificado pode não ser confiável na lista de autoridade de certificação em outros computadores.</span><span class="sxs-lookup"><span data-stu-id="05809-332">Self-signed certificate may cause connectivity issues as hello same certificate may not be trusted in certifying authority list on other machines.</span></span> 
- <span data-ttu-id="05809-333">Você não pode registrar um gateway do gateway nó tooa lógico quando a versão do nó Olá é inferior à versão do gateway lógico de saudação.</span><span class="sxs-lookup"><span data-stu-id="05809-333">You cannot register a gateway node tooa logical gateway when hello node version is lower than hello logical gateway version.</span></span> <span data-ttu-id="05809-334">Excluir todos os nós do gateway de lógica de saudação do portal de forma que você pode registrar um node(downgrade) versão inferior-lo.</span><span class="sxs-lookup"><span data-stu-id="05809-334">Delete all nodes of hello logical gateway from portal so that you can register a lower version node(downgrade) it.</span></span> <span data-ttu-id="05809-335">Se você excluir todos os nós de um gateway lógico, manualmente instalar e registrar o novo gateway lógica toothat de nós.</span><span class="sxs-lookup"><span data-stu-id="05809-335">If you delete all nodes of a logical gateway, manually install and register new nodes toothat logical gateway.</span></span> <span data-ttu-id="05809-336">Não há suporte para a instalação expressa nesse caso.</span><span class="sxs-lookup"><span data-stu-id="05809-336">Express setup is not supported in this case.</span></span>
- <span data-ttu-id="05809-337">Você não pode usar a configuração expressa tooinstall nós tooan lógico gateway existente, que ainda está usando credenciais de nuvem.</span><span class="sxs-lookup"><span data-stu-id="05809-337">You cannot use express setup tooinstall nodes tooan existing logical gateway, which is still using cloud credentials.</span></span> <span data-ttu-id="05809-338">Você pode verificar onde armazenadas credenciais de saudação do hello Gateway Configuration Manager no guia de configurações de saudação.</span><span class="sxs-lookup"><span data-stu-id="05809-338">You can check where hello credentials are stored from hello Gateway Configuration Manager on hello Settings tab.</span></span>
- <span data-ttu-id="05809-339">Você não pode usar a configuração expressa tooinstall nós tooan lógico gateway existente, que tem a criptografia de nó para nó habilitada.</span><span class="sxs-lookup"><span data-stu-id="05809-339">You cannot use express setup tooinstall nodes tooan existing logical gateway, which has node-to-node encryption enabled.</span></span> <span data-ttu-id="05809-340">Como a configuração do modo de criptografia Olá envolve adicionar manualmente os certificados, instalação expressa é não mais uma opção.</span><span class="sxs-lookup"><span data-stu-id="05809-340">As setting hello encryption mode involves manually adding certificates, express install is no more an option.</span></span> 
- <span data-ttu-id="05809-341">Para obter uma cópia do arquivo do ambiente local, você não deve mais usar \\localhost ou C:\files, já que o localhost ou a unidade local podem não estar acessíveis por meio de todos os nós.</span><span class="sxs-lookup"><span data-stu-id="05809-341">For a file copy from on-premises environment, you should not use \\localhost or C:\files anymore since localhost or local drive might not be accessible via all nodes.</span></span> <span data-ttu-id="05809-342">Em vez disso, use \\local dos arquivos de toospecify ServerName\files.</span><span class="sxs-lookup"><span data-stu-id="05809-342">Instead, use \\ServerName\files toospecify files’ location.</span></span>


## <a name="rolling-back-from-hello-preview"></a><span data-ttu-id="05809-343">Revertendo da visualização Olá</span><span class="sxs-lookup"><span data-stu-id="05809-343">Rolling back from hello preview</span></span> 
<span data-ttu-id="05809-344">tooroll da visualização hello, exclua todos os nós, mas um nó.</span><span class="sxs-lookup"><span data-stu-id="05809-344">tooroll back from hello preview, delete all nodes but one node.</span></span> <span data-ttu-id="05809-345">Não importa quais nós, excluir, mas certifique-se de que você tem pelo menos um nó no gateway lógico hello.</span><span class="sxs-lookup"><span data-stu-id="05809-345">It doesn’t matter which nodes you delete, but ensure you have at least one node in hello logical gateway.</span></span> <span data-ttu-id="05809-346">Desinstalando o gateway na máquina de saudação ou usando Olá portal do Azure, você pode excluir um nó.</span><span class="sxs-lookup"><span data-stu-id="05809-346">You can delete a node either by uninstalling gateway on hello machine or by using hello Azure portal.</span></span> <span data-ttu-id="05809-347">Em Olá portal do Azure, na Olá **Data Factory** , clique em Olá de toolaunch serviços vinculados **serviços vinculados** página.</span><span class="sxs-lookup"><span data-stu-id="05809-347">In hello Azure portal, in hello **Data Factory** page, click Linked services toolaunch hello **Linked services** page.</span></span> <span data-ttu-id="05809-348">Saudação de toolaunch gateway Olá selecione **Gateway** página.</span><span class="sxs-lookup"><span data-stu-id="05809-348">Select hello gateway toolaunch hello **Gateway** page.</span></span> <span data-ttu-id="05809-349">Na página de saudação do Gateway, você pode ver nós Olá associadas Olá gateway.</span><span class="sxs-lookup"><span data-stu-id="05809-349">In hello Gateway page, you can see hello nodes associated with hello gateway.</span></span> <span data-ttu-id="05809-350">página de saudação permite que você excluir um nó do gateway de saudação.</span><span class="sxs-lookup"><span data-stu-id="05809-350">hello page lets you delete a node from hello gateway.</span></span>
 
<span data-ttu-id="05809-351">Depois de excluir, clique em **recursos de visualização** Olá a mesma página de portal do Azure e desabilitar o recurso de visualização de saudação.</span><span class="sxs-lookup"><span data-stu-id="05809-351">After deleting, click **preview features** in hello same Azure portal page, and disable hello preview feature.</span></span> <span data-ttu-id="05809-352">Redefinir o gateway do gateway tooone nó GA (disponibilidade geral).</span><span class="sxs-lookup"><span data-stu-id="05809-352">You have reset your gateway tooone node GA (general availability) gateway.</span></span>


## <a name="next-steps"></a><span data-ttu-id="05809-353">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="05809-353">Next steps</span></span>
<span data-ttu-id="05809-354">Examine Olá artigos a seguir:</span><span class="sxs-lookup"><span data-stu-id="05809-354">Review hello following articles:</span></span>
- <span data-ttu-id="05809-355">[Gateway de gerenciamento de dados](data-factory-data-management-gateway.md) -fornece uma visão geral detalhada do gateway de saudação.</span><span class="sxs-lookup"><span data-stu-id="05809-355">[Data Management Gateway](data-factory-data-management-gateway.md) - provides a detailed overview of hello gateway.</span></span>
- <span data-ttu-id="05809-356">[Mover dados entre locais e na nuvem armazenamentos de dados](data-factory-move-data-between-onprem-and-cloud.md) – contém um passo a passo com instruções passo a passo para usar um gateway com um único nó.</span><span class="sxs-lookup"><span data-stu-id="05809-356">[Move data between on-premises and cloud data stores](data-factory-move-data-between-onprem-and-cloud.md) - contains a walkthrough with step-by-step instructions for using a gateway with a single node.</span></span> 
