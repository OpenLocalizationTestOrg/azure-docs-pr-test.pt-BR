---
title: "Considerações sobre segurança para movimentação de dados no Azure Data Factory | Microsoft Docs"
description: "Saiba mais sobre como proteger a movimentação de dados no Azure Data Factory."
services: data-factory
documentationcenter: 
author: nabhishek
manager: jhubbard
editor: monicar
ms.service: data-factory
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/27/2017
ms.author: abnarain
ms.openlocfilehash: 4c39d71a2a2f9451531f0c0082c05fd6dc54fbd5
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/29/2017
---
# <a name="azure-data-factory---security-considerations-for-data-movement"></a><span data-ttu-id="495bb-103">Azure Data Factory – Considerações sobre segurança para movimentação de dados</span><span class="sxs-lookup"><span data-stu-id="495bb-103">Azure Data Factory - Security considerations for data movement</span></span>
## <a name="introduction"></a><span data-ttu-id="495bb-104">Introdução</span><span class="sxs-lookup"><span data-stu-id="495bb-104">Introduction</span></span>
<span data-ttu-id="495bb-105">Este artigo descreve a infraestrutura básica de segurança usada pelos serviços de movimentação de dados no Azure Data Factory para proteger seus dados.</span><span class="sxs-lookup"><span data-stu-id="495bb-105">This article describes basic security infrastructure that data movement services in Azure Data Factory use to secure your data.</span></span> <span data-ttu-id="495bb-106">Os recursos de gerenciamento do Azure Data Factory se baseiam na infraestrutura de segurança do Azure e usam todas as medidas de segurança possíveis oferecidas pelo Azure.</span><span class="sxs-lookup"><span data-stu-id="495bb-106">Azure Data Factory management resources are built on Azure security infrastructure and use all possible security measures offered by Azure.</span></span>

<span data-ttu-id="495bb-107">Em uma solução de Data Factory, você cria um ou mais [pipelines](data-factory-create-pipelines.md)de dados.</span><span class="sxs-lookup"><span data-stu-id="495bb-107">In a Data Factory solution, you create one or more data [pipelines](data-factory-create-pipelines.md).</span></span> <span data-ttu-id="495bb-108">Um pipeline é um agrupamento lógico de atividades que juntas executam uma tarefa.</span><span class="sxs-lookup"><span data-stu-id="495bb-108">A pipeline is a logical grouping of activities that together perform a task.</span></span> <span data-ttu-id="495bb-109">Esses pipelines residem na região em que o data factory foi criado.</span><span class="sxs-lookup"><span data-stu-id="495bb-109">These pipelines reside in the region where the data factory was created.</span></span> 

<span data-ttu-id="495bb-110">Embora o Data Factory esteja disponível somente nas regiões **Oeste dos EUA**, **Leste dos EUA** e **Europa Setentrional**, o serviço de movimentação de dados está disponível [globalmente em várias regiões](data-factory-data-movement-activities.md#global).</span><span class="sxs-lookup"><span data-stu-id="495bb-110">Even though Data Factory is available in only **West US**, **East US**, and **North Europe** regions, the data movement service is available [globally in several regions](data-factory-data-movement-activities.md#global).</span></span> <span data-ttu-id="495bb-111">O serviço Data Factory garante que os dados não saem de uma área geográfica/região, a menos que você explicitamente instrua o serviço a usar uma região alternativa caso o serviço de movimentação de dados ainda não tenha sido implantado nessa região.</span><span class="sxs-lookup"><span data-stu-id="495bb-111">Data Factory service ensures that data does not leave a geographical area/ region unless you explicitly instruct the service to use an alternate region if the data movement service is not yet deployed to that region.</span></span> 

<span data-ttu-id="495bb-112">O Azure Data Factory em si não armazena nenhum dado, exceto as credenciais do serviço vinculado de armazenamentos de dados em nuvem, que são criptografadas com o uso de certificados.</span><span class="sxs-lookup"><span data-stu-id="495bb-112">Azure Data Factory itself does not store any data except for linked service credentials for cloud data stores, which are encrypted using certificates.</span></span> <span data-ttu-id="495bb-113">Ele permite criar fluxos de trabalho controlados por dados para orquestrar a movimentação de dados entre [armazenamentos de dados com suporte](data-factory-data-movement-activities.md#supported-data-stores-and-formats) e o processamento de dados usando [serviços de computação](data-factory-compute-linked-services.md) em outras regiões ou em um ambiente local.</span><span class="sxs-lookup"><span data-stu-id="495bb-113">It lets you create data-driven workflows to orchestrate movement of data between [supported data stores](data-factory-data-movement-activities.md#supported-data-stores-and-formats) and processing of data using [compute services](data-factory-compute-linked-services.md) in other regions or in an on-premises environment.</span></span> <span data-ttu-id="495bb-114">Ele também permite [monitorar e gerenciar fluxos de trabalho](data-factory-monitor-manage-pipelines.md) usando mecanismos programáticos e de interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="495bb-114">It also allows you to [monitor and manage workflows](data-factory-monitor-manage-pipelines.md) using both programmatic and UI mechanisms.</span></span>

<span data-ttu-id="495bb-115">A movimentação de dados com o uso do Azure Data Factory foi **certificada** na:</span><span class="sxs-lookup"><span data-stu-id="495bb-115">Data movement using Azure Data Factory has been **certified** for:</span></span>
-   [<span data-ttu-id="495bb-116">HIPAA/HITECH</span><span class="sxs-lookup"><span data-stu-id="495bb-116">HIPAA/HITECH</span></span>](https://www.microsoft.com/en-us/trustcenter/Compliance/HIPAA)  
-   [<span data-ttu-id="495bb-117">ISO/IEC 27001</span><span class="sxs-lookup"><span data-stu-id="495bb-117">ISO/IEC 27001</span></span>](https://www.microsoft.com/en-us/trustcenter/Compliance/ISO-IEC-27001)  
-   [<span data-ttu-id="495bb-118">ISO/IEC 27018</span><span class="sxs-lookup"><span data-stu-id="495bb-118">ISO/IEC 27018</span></span>](https://www.microsoft.com/en-us/trustcenter/Compliance/ISO-IEC-27018) 
-   [<span data-ttu-id="495bb-119">CSA STAR</span><span class="sxs-lookup"><span data-stu-id="495bb-119">CSA STAR</span></span>](https://www.microsoft.com/en-us/trustcenter/Compliance/CSA-STAR-Certification)
     
<span data-ttu-id="495bb-120">Se você estiver interessado na conformidade do Azure e como ele protege sua própria infraestrutura, visite a [Central de Confiabilidade da Microsoft](https://www.microsoft.com/TrustCenter/default.aspx).</span><span class="sxs-lookup"><span data-stu-id="495bb-120">If you are interested in Azure compliance and how Azure secures its own infrastructure, visit the [Microsoft Trust Center](https://www.microsoft.com/TrustCenter/default.aspx).</span></span> 

<span data-ttu-id="495bb-121">Neste artigo, examinamos as considerações sobre segurança nestes dois cenários de movimentação de dados:</span><span class="sxs-lookup"><span data-stu-id="495bb-121">In this article, we review security considerations in the following two data movement scenarios:</span></span> 

- <span data-ttu-id="495bb-122">**Cenário de nuvem** – neste cenário, a origem e o destino são publicamente acessíveis pela Internet.</span><span class="sxs-lookup"><span data-stu-id="495bb-122">**Cloud scenario**- In this scenario, both your source and destination are publicly accessible through internet.</span></span> <span data-ttu-id="495bb-123">Eles incluem serviços de armazenamento em nuvem gerenciados como Armazenamento do Azure, SQL Data Warehouse do Azure, Banco de Dados SQL do Azure, Azure Data Lake Store, Amazon S3, Amazon Redshift, serviços SaaS como Salesforce e protocolos da Web como FTP e OData.</span><span class="sxs-lookup"><span data-stu-id="495bb-123">These include managed cloud storage services like Azure Storage, Azure SQL Data Warehouse, Azure SQL Database, Azure Data Lake Store, Amazon S3, Amazon Redshift, SaaS services such as Salesforce, and web protocols such as FTP and OData.</span></span> <span data-ttu-id="495bb-124">Encontre uma lista completa de fontes de dados com suporte [aqui](data-factory-data-movement-activities.md#supported-data-stores-and-formats).</span><span class="sxs-lookup"><span data-stu-id="495bb-124">You can find a complete list of supported data sources [here](data-factory-data-movement-activities.md#supported-data-stores-and-formats).</span></span>
- <span data-ttu-id="495bb-125">**Cenário híbrido** – neste cenário, a origem ou o destino está atrás de um firewall ou dentro de uma rede corporativa local, ou o armazenamento de dados está em uma rede privada/virtual (geralmente, a origem) e não é acessível publicamente.</span><span class="sxs-lookup"><span data-stu-id="495bb-125">**Hybrid scenario**- In this scenario, either your source or destination is behind a firewall or inside an on-premises corporate network or the data store is in a private network/ virtual network (most often the source) and is not publicly accessible.</span></span> <span data-ttu-id="495bb-126">Os servidores de banco de dados hospedados em máquinas virtuais também se enquadram nesse cenário.</span><span class="sxs-lookup"><span data-stu-id="495bb-126">Database servers hosted on virtual machines also fall under this scenario.</span></span>

## <a name="cloud-scenarios"></a><span data-ttu-id="495bb-127">Cenários de nuvem</span><span class="sxs-lookup"><span data-stu-id="495bb-127">Cloud scenarios</span></span>
###<a name="securing-data-store-credentials"></a><span data-ttu-id="495bb-128">Protegendo as credenciais do armazenamento de dados</span><span class="sxs-lookup"><span data-stu-id="495bb-128">Securing data store credentials</span></span>
<span data-ttu-id="495bb-129">O Azure Data Factory protege suas credenciais do armazenamento de dados **criptografando-as** usando **certificados gerenciados pela Microsoft**.</span><span class="sxs-lookup"><span data-stu-id="495bb-129">Azure Data Factory protects your data store credentials by **encrypting** them by using **certificates managed by Microsoft**.</span></span> <span data-ttu-id="495bb-130">Esses certificados são trocados a cada **dois anos** (que inclui a renovação do certificado e a migração de credenciais).</span><span class="sxs-lookup"><span data-stu-id="495bb-130">These certificates are rotated every **two years** (which includes renewal of certificate and migration of credentials).</span></span> <span data-ttu-id="495bb-131">Essas credenciais criptografadas são armazenadas com segurança em um **Armazenamento do Azure gerenciado pelos serviços de gerenciamento do Azure Data Factory**.</span><span class="sxs-lookup"><span data-stu-id="495bb-131">These encrypted credentials are securely stored in an **Azure Storage managed by Azure Data Factory management services**.</span></span> <span data-ttu-id="495bb-132">Para obter mais informações sobre a segurança do Armazenamento do Azure, consulte [Visão geral de segurança do Armazenamento do Azure](../security/security-storage-overview.md).</span><span class="sxs-lookup"><span data-stu-id="495bb-132">For more information about Azure Storage security, refer [Azure Storage Security Overview](../security/security-storage-overview.md).</span></span>

### <a name="data-encryption-in-transit"></a><span data-ttu-id="495bb-133">Criptografia de dados em trânsito</span><span class="sxs-lookup"><span data-stu-id="495bb-133">Data encryption in transit</span></span>
<span data-ttu-id="495bb-134">Caso o armazenamento de dados em nuvem dê suporte a HTTPS ou TLS, todas as transferências de dados entre serviços de movimentação de dados no Data Factory e um armazenamento de dados em nuvem ocorrerão por meio de um canal seguro HTTPS ou TLS.</span><span class="sxs-lookup"><span data-stu-id="495bb-134">If the cloud data store supports HTTPS or TLS, all data transfers between data movement services in Data Factory and a cloud data store are via secure channel HTTPS or TLS.</span></span>

> [!NOTE]
> <span data-ttu-id="495bb-135">Todas as conexões com o **Banco de Dados SQL do Azure** e o **SQL Data Warehouse do Azure** sempre exigem criptografia (SSL/TLS) quando os dados estão em trânsito, entrando e saindo do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="495bb-135">All connections to **Azure SQL Database** and **Azure SQL Data Warehouse** always require encryption (SSL/TLS) while data is in transit to and from the database.</span></span> <span data-ttu-id="495bb-136">Ao criar um pipeline usando um editor de JSON, adicione a propriedade **criptografia** e defina-a como **true** na **cadeia de conexão**.</span><span class="sxs-lookup"><span data-stu-id="495bb-136">While authoring a pipeline using a JSON editor, add the **encryption** property and set it to **true** in the **connection string**.</span></span> <span data-ttu-id="495bb-137">Quando você usa o [Assistente de Cópia](data-factory-azure-copy-wizard.md), o assistente define essa propriedade por padrão.</span><span class="sxs-lookup"><span data-stu-id="495bb-137">When you use the [Copy Wizard](data-factory-azure-copy-wizard.md), the wizard sets this property by default.</span></span> <span data-ttu-id="495bb-138">Para **Armazenamento do Azure**, é possível usar **HTTPS** na cadeia de conexão.</span><span class="sxs-lookup"><span data-stu-id="495bb-138">For **Azure Storage**, you can use **HTTPS** in the connection string.</span></span>

### <a name="data-encryption-at-rest"></a><span data-ttu-id="495bb-139">Criptografia de dados em repouso</span><span class="sxs-lookup"><span data-stu-id="495bb-139">Data encryption at rest</span></span>
<span data-ttu-id="495bb-140">Alguns armazenamentos de dados dão suporte à criptografia de dados em repouso.</span><span class="sxs-lookup"><span data-stu-id="495bb-140">Some data stores support encryption of data at rest.</span></span> <span data-ttu-id="495bb-141">Sugerimos que você habilite o mecanismo de criptografia de dados nesses armazenamentos de dados.</span><span class="sxs-lookup"><span data-stu-id="495bb-141">We suggest that you enable data encryption mechanism for those data stores.</span></span> 

#### <a name="azure-sql-data-warehouse"></a><span data-ttu-id="495bb-142">SQL Data Warehouse do Azure</span><span class="sxs-lookup"><span data-stu-id="495bb-142">Azure SQL Data Warehouse</span></span>
<span data-ttu-id="495bb-143">A TDE (Transparent Data Encryption) do SQL Data Warehouse do Azure ajuda a proteger contra ameaças de atividades mal-intencionadas por meio da execução de criptografia e descriptografia em tempo real dos dados em repouso.</span><span class="sxs-lookup"><span data-stu-id="495bb-143">Transparent Data Encryption (TDE) in Azure SQL Data Warehouse helps with protecting against the threat of malicious activity by performing real-time encryption and decryption of your data at rest.</span></span> <span data-ttu-id="495bb-144">Esse comportamento é transparente para o cliente.</span><span class="sxs-lookup"><span data-stu-id="495bb-144">This behavior is transparent to the client.</span></span> <span data-ttu-id="495bb-145">Para obter mais informações, consulte [Proteger um banco de dados no SQL Data Warehouse](../sql-data-warehouse/sql-data-warehouse-overview-manage-security.md).</span><span class="sxs-lookup"><span data-stu-id="495bb-145">For more information, see [Secure a database in SQL Data Warehouse](../sql-data-warehouse/sql-data-warehouse-overview-manage-security.md).</span></span>

#### <a name="azure-sql-database"></a><span data-ttu-id="495bb-146">Banco de Dados SQL do Azure</span><span class="sxs-lookup"><span data-stu-id="495bb-146">Azure SQL Database</span></span>
<span data-ttu-id="495bb-147">O Banco de Dados SQL do Azure também dá suporte à TDE (Transparent Data Encryption), que ajuda a proteger contra ameaças de atividades mal-intencionadas por meio da execução de criptografia e descriptografia em tempo real dos dados, sem a necessidade de alterações no aplicativo.</span><span class="sxs-lookup"><span data-stu-id="495bb-147">Azure SQL Database also supports transparent data encryption (TDE), which helps with protecting against the threat of malicious activity by performing real-time encryption and decryption of the data without requiring changes to the application.</span></span> <span data-ttu-id="495bb-148">Esse comportamento é transparente para o cliente.</span><span class="sxs-lookup"><span data-stu-id="495bb-148">This behavior is transparent to the client.</span></span> <span data-ttu-id="495bb-149">Para obter mais informações, consulte [Transparent Data Encryption com o Banco de Dados SQL do Azure](https://docs.microsoft.com/sql/relational-databases/security/encryption/transparent-data-encryption-with-azure-sql-database).</span><span class="sxs-lookup"><span data-stu-id="495bb-149">For more information, see [Transparent Data Encryption with Azure SQL Database](https://docs.microsoft.com/sql/relational-databases/security/encryption/transparent-data-encryption-with-azure-sql-database).</span></span> 

#### <a name="azure-data-lake-store"></a><span data-ttu-id="495bb-150">Repositório Azure Data Lake</span><span class="sxs-lookup"><span data-stu-id="495bb-150">Azure Data Lake Store</span></span>
<span data-ttu-id="495bb-151">O Azure Data Lake Store também fornece criptografia para os dados armazenados na conta.</span><span class="sxs-lookup"><span data-stu-id="495bb-151">Azure Data Lake store also provides encryption for data stored in the account.</span></span> <span data-ttu-id="495bb-152">Quando está habilitado, o Data Lake Store criptografa os dados automaticamente antes de persisti-los e descriptografá-los antes da recuperação, tornando-os transparentes para o cliente que acessa os dados.</span><span class="sxs-lookup"><span data-stu-id="495bb-152">When enabled, Data Lake store automatically encrypts data before persisting and decrypts before retrieval, making it transparent to the client accessing the data.</span></span> <span data-ttu-id="495bb-153">Para obter mais informações, consulte [Segurança no Azure Data Lake Store](../data-lake-store/data-lake-store-security-overview.md).</span><span class="sxs-lookup"><span data-stu-id="495bb-153">For more information, see [Security in Azure Data Lake Store](../data-lake-store/data-lake-store-security-overview.md).</span></span> 

#### <a name="azure-blob-storage-and-azure-table-storage"></a><span data-ttu-id="495bb-154">Armazenamento de Blobs do Azure e Armazenamento de Tabelas do Azure</span><span class="sxs-lookup"><span data-stu-id="495bb-154">Azure Blob Storage and Azure Table Storage</span></span>
<span data-ttu-id="495bb-155">O Armazenamento de Blobs do Azure e o Armazenamento de Tabelas do Azure dão suporte à SSE (Storage Service Encryption), que criptografa os dados automaticamente antes de persisti-los no armazenamento e descriptografa-os antes da recuperação.</span><span class="sxs-lookup"><span data-stu-id="495bb-155">Azure Blob Storage and Azure Table storage supports Storage Service Encryption (SSE), which automatically encrypts your data before persisting to storage and decrypts before retrieval.</span></span> <span data-ttu-id="495bb-156">Para obter mais informações, consulte [Criptografia de serviço do Armazenamento do Azure para dados em repouso](../storage/common/storage-service-encryption.md).</span><span class="sxs-lookup"><span data-stu-id="495bb-156">For more information, see [Azure Storage Service Encryption for Data at Rest](../storage/common/storage-service-encryption.md).</span></span>

#### <a name="amazon-s3"></a><span data-ttu-id="495bb-157">Amazon S3</span><span class="sxs-lookup"><span data-stu-id="495bb-157">Amazon S3</span></span>
<span data-ttu-id="495bb-158">O Amazon S3 dá suporte à criptografia de cliente e de servidor de dados em repouso.</span><span class="sxs-lookup"><span data-stu-id="495bb-158">Amazon S3 supports both client and server encryption of data at Rest.</span></span> <span data-ttu-id="495bb-159">Para obter mais informações, consulte [Proteger dados usando a criptografia](http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingEncryption.html).</span><span class="sxs-lookup"><span data-stu-id="495bb-159">For more information, see [Protecting Data Using Encryption](http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingEncryption.html).</span></span> <span data-ttu-id="495bb-160">Atualmente, o Data Factory não dá suporte ao Amazon S3 em uma VPC (nuvem privada virtual).</span><span class="sxs-lookup"><span data-stu-id="495bb-160">Currently, Data Factory does not support Amazon S3 inside a virtual private cloud (VPC).</span></span>

#### <a name="amazon-redshift"></a><span data-ttu-id="495bb-161">Amazon Redshift</span><span class="sxs-lookup"><span data-stu-id="495bb-161">Amazon Redshift</span></span>
<span data-ttu-id="495bb-162">O Amazon Redshift dá suporte à criptografia de cluster de dados em repouso.</span><span class="sxs-lookup"><span data-stu-id="495bb-162">Amazon Redshift supports cluster encryption for data at rest.</span></span> <span data-ttu-id="495bb-163">Para obter mais informações, consulte [Criptografia de banco de dados do Amazon Redshift](http://docs.aws.amazon.com/redshift/latest/mgmt/working-with-db-encryption.html).</span><span class="sxs-lookup"><span data-stu-id="495bb-163">For more information, see [Amazon Redshift Database Encryption](http://docs.aws.amazon.com/redshift/latest/mgmt/working-with-db-encryption.html).</span></span> <span data-ttu-id="495bb-164">Atualmente, o Data Factory não dá suporte ao Amazon Redshift em uma VPC.</span><span class="sxs-lookup"><span data-stu-id="495bb-164">Currently, Data Factory does not support Amazon Redshift inside a VPC.</span></span> 

#### <a name="salesforce"></a><span data-ttu-id="495bb-165">Salesforce</span><span class="sxs-lookup"><span data-stu-id="495bb-165">Salesforce</span></span>
<span data-ttu-id="495bb-166">O Salesforce dá suporte à Shield Platform Encryption, que permite a criptografia de todos os arquivos, anexos e campos personalizados.</span><span class="sxs-lookup"><span data-stu-id="495bb-166">Salesforce supports Shield Platform Encryption that allows encryption of all files, attachments, custom fields.</span></span> <span data-ttu-id="495bb-167">Para obter mais informações, consulte [Noções básicas sobre o fluxo de autenticação OAuth do Servidor Web](https://developer.salesforce.com/docs/atlas.en-us.api_rest.meta/api_rest/intro_understanding_web_server_oauth_flow.htm).</span><span class="sxs-lookup"><span data-stu-id="495bb-167">For more information, see [Understanding the Web Server OAuth Authentication Flow](https://developer.salesforce.com/docs/atlas.en-us.api_rest.meta/api_rest/intro_understanding_web_server_oauth_flow.htm).</span></span>  

## <a name="hybrid-scenarios-using-data-management-gateway"></a><span data-ttu-id="495bb-168">Cenários híbridos (usando o Gateway de Gerenciamento de Dados)</span><span class="sxs-lookup"><span data-stu-id="495bb-168">Hybrid Scenarios (using Data Management Gateway)</span></span>
<span data-ttu-id="495bb-169">Os cenários híbridos exigem a instalação de um Gateway de Gerenciamento de Dados em uma rede local ou dentro de uma rede virtual (Azure) ou uma nuvem privada virtual (Amazon).</span><span class="sxs-lookup"><span data-stu-id="495bb-169">Hybrid scenarios require Data Management Gateway to be installed in an on-premises network or inside a virtual network (Azure) or a virtual private cloud (Amazon).</span></span> <span data-ttu-id="495bb-170">O gateway deve conseguir acessar os armazenamentos de dados locais.</span><span class="sxs-lookup"><span data-stu-id="495bb-170">The gateway must be able to access the local data stores.</span></span> <span data-ttu-id="495bb-171">Para obter mais informações sobre o gateway, consulte [Gateway de Gerenciamento de Dados](data-factory-data-management-gateway.md).</span><span class="sxs-lookup"><span data-stu-id="495bb-171">For more information about the gateway, see [Data Management Gateway](data-factory-data-management-gateway.md).</span></span> 

![Canais do Gateway de Gerenciamento de Dados](media/data-factory-data-movement-security-considerations/data-management-gateway-channels.png)

<span data-ttu-id="495bb-173">O **canal de comando** permite a comunicação entre os serviços de movimentação de dados no Data Factory e no Gateway de Gerenciamento de Dados.</span><span class="sxs-lookup"><span data-stu-id="495bb-173">The **command channel** allows communication between data movement services in Data Factory and Data Management Gateway.</span></span> <span data-ttu-id="495bb-174">A comunicação contém informações relacionadas à atividade.</span><span class="sxs-lookup"><span data-stu-id="495bb-174">The communication contains information related to the activity.</span></span> <span data-ttu-id="495bb-175">O canal de dados é usado para transferir dados entre armazenamentos de dados locais e armazenamentos de dados em nuvem.</span><span class="sxs-lookup"><span data-stu-id="495bb-175">The data channel is used for transferring data between on-premises data stores and cloud data stores.</span></span>    

### <a name="on-premises-data-store-credentials"></a><span data-ttu-id="495bb-176">Credenciais do armazenamento de dados local</span><span class="sxs-lookup"><span data-stu-id="495bb-176">On-premises data store credentials</span></span>
<span data-ttu-id="495bb-177">As credenciais dos armazenamentos de dados locais são armazenadas localmente (não na nuvem).</span><span class="sxs-lookup"><span data-stu-id="495bb-177">The credentials for your on-premises data stores are stored locally (not in the cloud).</span></span> <span data-ttu-id="495bb-178">Elas podem ser definidas de três maneiras diferentes.</span><span class="sxs-lookup"><span data-stu-id="495bb-178">They can be set in three different ways.</span></span> 

- <span data-ttu-id="495bb-179">Usando **texto sem formatação** (menos seguro) por HTTPS no Portal do Azure/Assistente de Cópia.</span><span class="sxs-lookup"><span data-stu-id="495bb-179">Using **plain-text** (less secure) via HTTPS from Azure Portal/ Copy Wizard.</span></span> <span data-ttu-id="495bb-180">As credenciais são passadas em texto sem formatação para o gateway local.</span><span class="sxs-lookup"><span data-stu-id="495bb-180">The credentials are passed in plain-text to the on-premises gateway.</span></span>
- <span data-ttu-id="495bb-181">Usando a **biblioteca de Criptografia do JavaScript no Assistente de Cópia**.</span><span class="sxs-lookup"><span data-stu-id="495bb-181">Using **JavaScript Cryptography library from Copy Wizard**.</span></span>
- <span data-ttu-id="495bb-182">Usando o **aplicativo gerenciador de credenciais baseado em clique único**.</span><span class="sxs-lookup"><span data-stu-id="495bb-182">Using **click-once based credentials manager app**.</span></span> <span data-ttu-id="495bb-183">O aplicativo de clique único é executado no computador local que tem acesso ao gateway e define as credenciais para o armazenamento de dados.</span><span class="sxs-lookup"><span data-stu-id="495bb-183">The click-once application executes on the on-premises machine that has access to the gateway and sets credentials for the data store.</span></span> <span data-ttu-id="495bb-184">Essa opção e a próxima são as opções mais seguras.</span><span class="sxs-lookup"><span data-stu-id="495bb-184">This option and the next one are the most secure options.</span></span> <span data-ttu-id="495bb-185">Por padrão, o aplicativo gerenciador de credenciais usa a porta 8050 no computador com o gateway para uma comunicação segura.</span><span class="sxs-lookup"><span data-stu-id="495bb-185">The credential manager app, by default, uses the port 8050 on the machine with gateway for secure communication.</span></span>  
- <span data-ttu-id="495bb-186">Use o cmdlet [New-AzureRmDataFactoryEncryptValue](/powershell/module/azurerm.datafactories/New-AzureRmDataFactoryEncryptValue) do PowerShell para criptografar as credenciais.</span><span class="sxs-lookup"><span data-stu-id="495bb-186">Use [New-AzureRmDataFactoryEncryptValue](/powershell/module/azurerm.datafactories/New-AzureRmDataFactoryEncryptValue) PowerShell cmdlet to encrypt credentials.</span></span> <span data-ttu-id="495bb-187">O cmdlet usa o certificado que esse gateway está configurado para usar para criptografar as credenciais.</span><span class="sxs-lookup"><span data-stu-id="495bb-187">The cmdlet uses the certificate that gateway is configured to use to encrypt the credentials.</span></span> <span data-ttu-id="495bb-188">É possível usar as credenciais criptografadas retornadas por esse cmdlet e adicioná-las ao elemento **EncryptedCredential** da **connectionString** no arquivo JSON usado com o cmdlet [New-AzureRmDataFactoryLinkedService](/powershell/module/azurerm.datafactories/new-azurermdatafactorylinkedservice) ou no trecho de JSON no Editor do Data Factory no portal.</span><span class="sxs-lookup"><span data-stu-id="495bb-188">You can use the encrypted credentials returned by this cmdlet and add it to **EncryptedCredential** element of the **connectionString** in the JSON file that you use with the [New-AzureRmDataFactoryLinkedService](/powershell/module/azurerm.datafactories/new-azurermdatafactorylinkedservice) cmdlet or in the JSON snippet in the Data Factory Editor in the portal.</span></span> <span data-ttu-id="495bb-189">Essa opção e o aplicativo de clique único são as opções mais seguras.</span><span class="sxs-lookup"><span data-stu-id="495bb-189">This option and the click-once application are the most secure options.</span></span> 

#### <a name="javascript-cryptography-library-based-encryption"></a><span data-ttu-id="495bb-190">Criptografia baseada na biblioteca de criptografia do JavaScript</span><span class="sxs-lookup"><span data-stu-id="495bb-190">JavaScript cryptography library-based encryption</span></span>
<span data-ttu-id="495bb-191">Você pode criptografar as credenciais do armazenamento de dados usando a [biblioteca de Criptografia do JavaScript](https://www.microsoft.com/download/details.aspx?id=52439) no [Assistente de Cópia](data-factory-copy-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="495bb-191">You can encrypt data store credentials using [JavaScript Cryptography library](https://www.microsoft.com/download/details.aspx?id=52439) from the [Copy Wizard](data-factory-copy-wizard.md).</span></span> <span data-ttu-id="495bb-192">Quando você seleciona essa opção, o Assistente de Cópia recupera a chave pública do gateway e a utiliza para criptografar as credenciais do armazenamento de dados.</span><span class="sxs-lookup"><span data-stu-id="495bb-192">When you select this option, the Copy Wizard retrieves the public key of gateway and uses it to encrypt the data store credentials.</span></span> <span data-ttu-id="495bb-193">As credenciais são descriptografadas pelo computador do gateway e protegidas pela [DPAPI](https://msdn.microsoft.com/library/ms995355.aspx) do Windows.</span><span class="sxs-lookup"><span data-stu-id="495bb-193">The credentials are decrypted by the gateway machine and protected by Windows [DPAPI](https://msdn.microsoft.com/library/ms995355.aspx).</span></span>

<span data-ttu-id="495bb-194">**Navegadores com suporte:** IE8, IE9, IE10, IE11, Microsoft Edge e últimos navegadores Firefox, Chrome, Opera e Safari.</span><span class="sxs-lookup"><span data-stu-id="495bb-194">**Supported browsers:** IE8, IE9, IE10, IE11, Microsoft Edge, and latest Firefox, Chrome, Opera, Safari browsers.</span></span> 

#### <a name="click-once-credentials-manager-app"></a><span data-ttu-id="495bb-195">Aplicativo gerenciador de credenciais de clique único</span><span class="sxs-lookup"><span data-stu-id="495bb-195">Click-once credentials manager app</span></span>
<span data-ttu-id="495bb-196">Inicie o aplicativo gerenciador de credenciais baseado em clique único no portal do Azure/Assistente de Cópia ao criar pipelines.</span><span class="sxs-lookup"><span data-stu-id="495bb-196">You can launch the click-once based credential manager app from Azure portal/Copy Wizard when authoring pipelines.</span></span> <span data-ttu-id="495bb-197">Esse aplicativo garante que as credenciais não são transferidas em texto sem formatação durante a transmissão.</span><span class="sxs-lookup"><span data-stu-id="495bb-197">This application ensures that credentials are not transferred in plain text over the wire.</span></span> <span data-ttu-id="495bb-198">Por padrão, ele usa a porta **8050** do computador com o gateway para uma comunicação segura.</span><span class="sxs-lookup"><span data-stu-id="495bb-198">By default, it uses the port **8050** on the machine with gateway for secure communication.</span></span> <span data-ttu-id="495bb-199">Se necessário, essa porta pode ser alterada.</span><span class="sxs-lookup"><span data-stu-id="495bb-199">If necessary, this port can be changed.</span></span>  
  
![Porta HTTPS do gateway](media/data-factory-data-movement-security-considerations/https-port-for-gateway.png)

<span data-ttu-id="495bb-201">Atualmente, o Gateway de Gerenciamento de Dados usa um único **certificado**.</span><span class="sxs-lookup"><span data-stu-id="495bb-201">Currently, Data Management Gateway uses a single **certificate**.</span></span> <span data-ttu-id="495bb-202">Esse certificado é criado durante a instalação do gateway (aplica-se ao Gateway de Gerenciamento de Dados criado após novembro de 2016 e à versão 2.4.xxxx.x ou posterior).</span><span class="sxs-lookup"><span data-stu-id="495bb-202">This certificate is created during the gateway installation (applies to Data Management Gateway created after November 2016 and version 2.4.xxxx.x or later).</span></span> <span data-ttu-id="495bb-203">Você pode substituir esse certificado por seu próprio certificado SSL/TLS.</span><span class="sxs-lookup"><span data-stu-id="495bb-203">You can replace this certificate with your own SSL/TLS certificate.</span></span> <span data-ttu-id="495bb-204">Esse certificado é usado pelo aplicativo gerenciador de credenciais de clique único para se conectar com segurança ao computador do gateway a fim de configurar as credenciais do armazenamento de dados.</span><span class="sxs-lookup"><span data-stu-id="495bb-204">This certificate is used by the click-once credential manager application to securely connect to the gateway machine for setting data store credentials.</span></span> <span data-ttu-id="495bb-205">Ele armazena as credenciais do armazenamento de dados com segurança local usando a [DPAPI](https://msdn.microsoft.com/library/ms995355.aspx) do Windows no computador com o gateway.</span><span class="sxs-lookup"><span data-stu-id="495bb-205">It stores data store credentials securely on-premises by using the Windows [DPAPI](https://msdn.microsoft.com/library/ms995355.aspx) on the machine with gateway.</span></span> 

> [!NOTE]
> <span data-ttu-id="495bb-206">Gateways mais antigos que foram instalados antes de novembro de 2016 ou da versão 2.3.xxxx.x continuam usando as credenciais criptografadas e armazenadas na nuvem.</span><span class="sxs-lookup"><span data-stu-id="495bb-206">Older gateways that were installed before November 2016 or of version 2.3.xxxx.x continue to use credentials encrypted and stored on cloud.</span></span> <span data-ttu-id="495bb-207">Mesmo se você atualizar o gateway para a última versão, as credenciais não serão migradas para um computador local</span><span class="sxs-lookup"><span data-stu-id="495bb-207">Even if you upgrade the gateway to the latest version, the credentials are not migrated to an on-premises machine</span></span>    
  
| <span data-ttu-id="495bb-208">Versão do gateway (durante a criação)</span><span class="sxs-lookup"><span data-stu-id="495bb-208">Gateway version (during creation)</span></span> | <span data-ttu-id="495bb-209">Credenciais armazenadas</span><span class="sxs-lookup"><span data-stu-id="495bb-209">Credentials Stored</span></span> | <span data-ttu-id="495bb-210">Criptografia/segurança de credenciais</span><span class="sxs-lookup"><span data-stu-id="495bb-210">Credential encryption/ security</span></span> | 
| --------------------------------- | ------------------ | --------- |  
| <span data-ttu-id="495bb-211">< = 2.3.xxxx.x</span><span class="sxs-lookup"><span data-stu-id="495bb-211">< = 2.3.xxxx.x</span></span> | <span data-ttu-id="495bb-212">Na nuvem</span><span class="sxs-lookup"><span data-stu-id="495bb-212">On cloud</span></span> | <span data-ttu-id="495bb-213">Criptografadas por meio de certificado (diferente daquele usado pelo aplicativo Gerenciador de credenciais)</span><span class="sxs-lookup"><span data-stu-id="495bb-213">Encrypted using certificate (different from the one used by Credential manager app)</span></span> | 
| <span data-ttu-id="495bb-214">> = 2.4.xxxx.x</span><span class="sxs-lookup"><span data-stu-id="495bb-214">> = 2.4.xxxx.x</span></span> | <span data-ttu-id="495bb-215">No local</span><span class="sxs-lookup"><span data-stu-id="495bb-215">On premises</span></span> | <span data-ttu-id="495bb-216">Protegidas pela DPAPI</span><span class="sxs-lookup"><span data-stu-id="495bb-216">Secured via DPAPI</span></span> | 
  

### <a name="encryption-in-transit"></a><span data-ttu-id="495bb-217">Criptografia em trânsito</span><span class="sxs-lookup"><span data-stu-id="495bb-217">Encryption in transit</span></span>
<span data-ttu-id="495bb-218">Todas as transferências de dados são feitas por meio do canal seguro **HTTPS** e **TLS via TCP** para impedir ataques man-in-the-middle durante a comunicação com os serviços do Azure.</span><span class="sxs-lookup"><span data-stu-id="495bb-218">All data transfers are via secure channel **HTTPS** and **TLS over TCP** to prevent man-in-the-middle attacks during communication with Azure services.</span></span>
 
<span data-ttu-id="495bb-219">Você também pode usar a [VPN IPsec](../vpn-gateway/vpn-gateway-about-vpn-devices.md) ou o [ExpressRoute](../expressroute/expressroute-introduction.md) para fornecer proteção adicional ao canal de comunicação entre a rede local e o Azure.</span><span class="sxs-lookup"><span data-stu-id="495bb-219">You can also use [IPSec VPN](../vpn-gateway/vpn-gateway-about-vpn-devices.md) or [Express Route](../expressroute/expressroute-introduction.md) to further secure the communication channel between your on-premises network and Azure.</span></span>

<span data-ttu-id="495bb-220">Uma rede virtual é uma representação lógica de sua rede na nuvem.</span><span class="sxs-lookup"><span data-stu-id="495bb-220">Virtual network is a logical representation of your network in the cloud.</span></span> <span data-ttu-id="495bb-221">Você pode conectar uma rede local à VNet (rede virtual) do Azure ao configurar a VPN IPsec (site a site) ou o ExpressRoute (Emparelhamento Privado)</span><span class="sxs-lookup"><span data-stu-id="495bb-221">You can connect an on-premises network to your Azure virtual network (VNet) by setting up IPSec VPN (site-to-site) or Express Route (Private Peering)</span></span>     

<span data-ttu-id="495bb-222">A tabela a seguir resume as recomendações de configuração de rede e de gateway de acordo com diferentes combinações dos locais de origem e de destino para a movimentação de dados híbridos.</span><span class="sxs-lookup"><span data-stu-id="495bb-222">The following table summarizes the network and gateway configuration recommendations based on different combinations of source and destination locations for hybrid data movement.</span></span>

| <span data-ttu-id="495bb-223">Fonte</span><span class="sxs-lookup"><span data-stu-id="495bb-223">Source</span></span> | <span data-ttu-id="495bb-224">Destino</span><span class="sxs-lookup"><span data-stu-id="495bb-224">Destination</span></span> | <span data-ttu-id="495bb-225">Configuração de rede</span><span class="sxs-lookup"><span data-stu-id="495bb-225">Network configuration</span></span> | <span data-ttu-id="495bb-226">Instalação do gateway</span><span class="sxs-lookup"><span data-stu-id="495bb-226">Gateway setup</span></span> |
| ------ | ----------- | --------------------- | ------------- | 
| <span data-ttu-id="495bb-227">Configuração local</span><span class="sxs-lookup"><span data-stu-id="495bb-227">On-premises</span></span> | <span data-ttu-id="495bb-228">Máquinas virtuais e serviços de nuvem implantados em redes virtuais</span><span class="sxs-lookup"><span data-stu-id="495bb-228">Virtual machines and cloud services deployed in virtual networks</span></span> | <span data-ttu-id="495bb-229">VPN IPsec (ponto a site ou site a site)</span><span class="sxs-lookup"><span data-stu-id="495bb-229">IPSec VPN (point-to-site or site-to-site)</span></span> | <span data-ttu-id="495bb-230">O gateway pode ser instalado localmente ou em uma VM (máquina virtual) do Azure na VNet</span><span class="sxs-lookup"><span data-stu-id="495bb-230">Gateway can be installed either on-premises or on an Azure virtual machine (VM) in VNet</span></span> | 
| <span data-ttu-id="495bb-231">Configuração local</span><span class="sxs-lookup"><span data-stu-id="495bb-231">On-premises</span></span> | <span data-ttu-id="495bb-232">Máquinas virtuais e serviços de nuvem implantados em redes virtuais</span><span class="sxs-lookup"><span data-stu-id="495bb-232">Virtual machines and cloud services deployed in virtual networks</span></span> | <span data-ttu-id="495bb-233">ExpressRoute (Emparelhamento Privado)</span><span class="sxs-lookup"><span data-stu-id="495bb-233">ExpressRoute (Private Peering)</span></span> | <span data-ttu-id="495bb-234">O gateway pode ser instalado localmente ou em uma VM do Azure na VNet</span><span class="sxs-lookup"><span data-stu-id="495bb-234">Gateway can be installed either on-premises or on an Azure VM in VNet</span></span> | 
| <span data-ttu-id="495bb-235">Configuração local</span><span class="sxs-lookup"><span data-stu-id="495bb-235">On-premises</span></span> | <span data-ttu-id="495bb-236">Serviços baseados no Azure que têm um ponto de extremidade público</span><span class="sxs-lookup"><span data-stu-id="495bb-236">Azure-based services that have a public endpoint</span></span> | <span data-ttu-id="495bb-237">ExpressRoute (Emparelhamento Público)</span><span class="sxs-lookup"><span data-stu-id="495bb-237">ExpressRoute (Public Peering)</span></span> | <span data-ttu-id="495bb-238">O gateway deve ser instalado localmente</span><span class="sxs-lookup"><span data-stu-id="495bb-238">Gateway must be installed on-premises</span></span> | 

<span data-ttu-id="495bb-239">As imagens a seguir mostram o uso do Gateway de Gerenciamento de Dados para mover dados entre um banco de dados local e os serviços do Azure usando o ExpressRoute e a VPN IPsec (com a Rede Virtual):</span><span class="sxs-lookup"><span data-stu-id="495bb-239">The following images show the usage of Data Management Gateway for moving data between an on-premises database and Azure services using Express route and IPSec VPN (with Virtual Network):</span></span>

<span data-ttu-id="495bb-240">**ExpressRoute:**</span><span class="sxs-lookup"><span data-stu-id="495bb-240">**Express Route:**</span></span>
 
![Usar o ExpressRoute com o gateway](media/data-factory-data-movement-security-considerations/express-route-for-gateway.png) 

<span data-ttu-id="495bb-242">**VPN IPsec:**</span><span class="sxs-lookup"><span data-stu-id="495bb-242">**IPSec VPN:**</span></span>

![VPN IPsec com gateway](media/data-factory-data-movement-security-considerations/ipsec-vpn-for-gateway.png)

### <a name="firewall-configurations-and-whitelisting-ip-address-of-gateway"></a><span data-ttu-id="495bb-244">Configurações de firewall e lista de permissões do endereço IP do gateway</span><span class="sxs-lookup"><span data-stu-id="495bb-244">Firewall configurations and whitelisting IP address of gateway</span></span>

#### <a name="firewall-requirements-for-on-premisesprivate-network"></a><span data-ttu-id="495bb-245">Requisitos de firewall para a rede local/privada</span><span class="sxs-lookup"><span data-stu-id="495bb-245">Firewall requirements for on-premises/private network</span></span>  
<span data-ttu-id="495bb-246">Em uma empresa, um **firewall corporativo** é executado no roteador central da organização.</span><span class="sxs-lookup"><span data-stu-id="495bb-246">In an enterprise, a **corporate firewall** runs on the central router of the organization.</span></span> <span data-ttu-id="495bb-247">E o **firewall do Windows** é executado como um daemon no computador local em que o gateway está instalado.</span><span class="sxs-lookup"><span data-stu-id="495bb-247">And, **Windows firewall** runs as a daemon on the local machine on which the gateway is installed.</span></span> 

<span data-ttu-id="495bb-248">A tabela a seguir fornece os requisitos de **porta de saída** e de domínio do **firewall corporativo**.</span><span class="sxs-lookup"><span data-stu-id="495bb-248">The following table provides **outbound port** and domain requirements for the **corporate firewall**.</span></span>

| <span data-ttu-id="495bb-249">Nomes de domínio</span><span class="sxs-lookup"><span data-stu-id="495bb-249">Domain names</span></span> | <span data-ttu-id="495bb-250">Portas de saída</span><span class="sxs-lookup"><span data-stu-id="495bb-250">Outbound ports</span></span> | <span data-ttu-id="495bb-251">Descrição</span><span class="sxs-lookup"><span data-stu-id="495bb-251">Description</span></span> |
| ------------ | -------------- | ----------- | 
| `*.servicebus.windows.net` | <span data-ttu-id="495bb-252">443, 80</span><span class="sxs-lookup"><span data-stu-id="495bb-252">443, 80</span></span> | <span data-ttu-id="495bb-253">Necessárias para que o gateway se conecte aos serviços de movimentação de dados no Data Factory</span><span class="sxs-lookup"><span data-stu-id="495bb-253">Required by the gateway to connect to data movement services in Data Factory</span></span> |
| `*.core.windows.net` | <span data-ttu-id="495bb-254">443</span><span class="sxs-lookup"><span data-stu-id="495bb-254">443</span></span> | <span data-ttu-id="495bb-255">Usada pelo gateway para se conectar à Conta de Armazenamento do Azure ao usar o recurso [cópia em etapas](data-factory-copy-activity-performance.md#staged-copy).</span><span class="sxs-lookup"><span data-stu-id="495bb-255">Used by the gateway to connect to Azure Storage Account when you use the [staged copy](data-factory-copy-activity-performance.md#staged-copy) feature.</span></span> | 
| `*.frontend.clouddatahub.net` | <span data-ttu-id="495bb-256">443</span><span class="sxs-lookup"><span data-stu-id="495bb-256">443</span></span> | <span data-ttu-id="495bb-257">Necessária para que o gateway se conecte ao serviço Azure Data Factory.</span><span class="sxs-lookup"><span data-stu-id="495bb-257">Required by the gateway to connect to the Azure Data Factory service.</span></span> | 
| `*.database.windows.net` | <span data-ttu-id="495bb-258">1433</span><span class="sxs-lookup"><span data-stu-id="495bb-258">1433</span></span>   | <span data-ttu-id="495bb-259">(OPCIONAL) Necessária quando o destino é o Banco de Dados SQL do Azure/SQL Data Warehouse do Azure.</span><span class="sxs-lookup"><span data-stu-id="495bb-259">(OPTIONAL) needed when your destination is Azure SQL Database/ Azure SQL Data Warehouse.</span></span> <span data-ttu-id="495bb-260">Use o recurso de cópia em etapas para copiar dados para o Banco de Dados SQL do Azure/SQL Data Warehouse do Azure sem abrir a porta 1433.</span><span class="sxs-lookup"><span data-stu-id="495bb-260">Use the staged copy feature to copy data to Azure SQL Database/Azure SQL Data Warehouse without opening the port 1433.</span></span> | 
| `*.azuredatalakestore.net` | <span data-ttu-id="495bb-261">443</span><span class="sxs-lookup"><span data-stu-id="495bb-261">443</span></span> | <span data-ttu-id="495bb-262">(OPCIONAL) Necessária quando o destino é o Azure Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="495bb-262">(OPTIONAL) needed when your destination is Azure Data Lake store</span></span> | 

> [!NOTE] 
> <span data-ttu-id="495bb-263">Talvez você precise gerenciar as portas e os domínios na lista de permissões no nível do firewall corporativo, conforme exigido pelas respectivas fontes de dados.</span><span class="sxs-lookup"><span data-stu-id="495bb-263">You may have to manage ports/ whitelisting domains at the corporate firewall level as required by respective data sources.</span></span> <span data-ttu-id="495bb-264">Esta tabela usa apenas o Banco de Dados SQL do Azure, o SQL Data Warehouse do Azure e o Azure Data Lake Store como exemplos.</span><span class="sxs-lookup"><span data-stu-id="495bb-264">This table only uses Azure SQL Database, Azure SQL Data Warehouse, Azure Data Lake Store as examples.</span></span>   

<span data-ttu-id="495bb-265">A tabela a seguir fornece os requisitos de **porta de entrada** do **firewall do Windows**.</span><span class="sxs-lookup"><span data-stu-id="495bb-265">The following table provides **inbound port** requirements for the **windows firewall**.</span></span>

| <span data-ttu-id="495bb-266">Portas de entrada</span><span class="sxs-lookup"><span data-stu-id="495bb-266">Inbound ports</span></span> | <span data-ttu-id="495bb-267">Descrição</span><span class="sxs-lookup"><span data-stu-id="495bb-267">Description</span></span> | 
| ------------- | ----------- | 
| <span data-ttu-id="495bb-268">8050 (TCP)</span><span class="sxs-lookup"><span data-stu-id="495bb-268">8050 (TCP)</span></span> | <span data-ttu-id="495bb-269">Necessária para que o aplicativo gerenciador de credenciais defina com segurança as credenciais de armazenamentos de dados locais no gateway.</span><span class="sxs-lookup"><span data-stu-id="495bb-269">Required by the credential manager application to securely set credentials for on-premises data stores on the gateway.</span></span> | 

![Requisitos de porta do gateway](media\data-factory-data-movement-security-considerations/gateway-port-requirements.png) 

#### <a name="ip-configurations-whitelisting-in-data-store"></a><span data-ttu-id="495bb-271">Configurações de IP/lista de permissões no armazenamento de dados</span><span class="sxs-lookup"><span data-stu-id="495bb-271">IP configurations/ whitelisting in data store</span></span>
<span data-ttu-id="495bb-272">Alguns armazenamentos de dados na nuvem também exigem a lista de permissões do endereço IP do computador que os acessa.</span><span class="sxs-lookup"><span data-stu-id="495bb-272">Some data stores in the cloud also require whitelisting of IP address of the machine accessing them.</span></span> <span data-ttu-id="495bb-273">Verifique se o endereço IP do computador do gateway está na lista de permissões e configurado no firewall corretamente.</span><span class="sxs-lookup"><span data-stu-id="495bb-273">Ensure that the IP address of the gateway machine is whitelisted/ configured in firewall appropriately.</span></span>

<span data-ttu-id="495bb-274">Os armazenamentos de dados na nuvem exige a lista de permissões do endereço IP do computador do gateway.</span><span class="sxs-lookup"><span data-stu-id="495bb-274">The following cloud data stores require whitelisting of IP address of the gateway machine.</span></span> <span data-ttu-id="495bb-275">Por padrão, alguns desses armazenamentos de dados poderão não exigir a lista de permissões do endereço IP.</span><span class="sxs-lookup"><span data-stu-id="495bb-275">Some of these data stores, by default, may not require whitelisting of the IP address.</span></span> 

- [<span data-ttu-id="495bb-276">Banco de Dados SQL do Azure</span><span class="sxs-lookup"><span data-stu-id="495bb-276">Azure SQL Database</span></span>](../sql-database/sql-database-firewall-configure.md) 
- [<span data-ttu-id="495bb-277">SQL Data Warehouse do Azure</span><span class="sxs-lookup"><span data-stu-id="495bb-277">Azure SQL Data Warehouse</span></span>](../sql-data-warehouse/sql-data-warehouse-get-started-provision.md#create-a-server-level-firewall-rule-in-the-azure-portal)
- [<span data-ttu-id="495bb-278">Repositório Azure Data Lake</span><span class="sxs-lookup"><span data-stu-id="495bb-278">Azure Data Lake Store</span></span>](../data-lake-store/data-lake-store-secure-data.md#set-ip-address-range-for-data-access)
- [<span data-ttu-id="495bb-279">Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="495bb-279">Azure Cosmos DB</span></span>](../documentdb/documentdb-firewall-support.md)
- [<span data-ttu-id="495bb-280">Amazon Redshift</span><span class="sxs-lookup"><span data-stu-id="495bb-280">Amazon Redshift</span></span>](http://docs.aws.amazon.com/redshift/latest/gsg/rs-gsg-authorize-cluster-access.html) 

## <a name="frequently-asked-questions"></a><span data-ttu-id="495bb-281">Perguntas frequentes</span><span class="sxs-lookup"><span data-stu-id="495bb-281">Frequently asked questions</span></span>

<span data-ttu-id="495bb-282">**Pergunta:** O Gateway pode ser compartilhado entre diferentes data factories?</span><span class="sxs-lookup"><span data-stu-id="495bb-282">**Question:** Can the Gateway be shared across different data factories?</span></span>
<span data-ttu-id="495bb-283">**Resposta:** Ainda não damos suporte a esse recurso.</span><span class="sxs-lookup"><span data-stu-id="495bb-283">**Answer:** We do not support this feature yet.</span></span> <span data-ttu-id="495bb-284">No entanto, estamos trabalhando de forma ativa para implementá-lo.</span><span class="sxs-lookup"><span data-stu-id="495bb-284">We are actively working on it.</span></span>

<span data-ttu-id="495bb-285">**Pergunta:** Quais são os requisitos de porta para o funcionamento do gateway?</span><span class="sxs-lookup"><span data-stu-id="495bb-285">**Question:** What are the port requirements for the gateway to work?</span></span>
<span data-ttu-id="495bb-286">**Resposta:** O Gateway faz conexões baseadas em HTTP com a Internet aberta.</span><span class="sxs-lookup"><span data-stu-id="495bb-286">**Answer:** Gateway makes HTTP-based connections to open internet.</span></span> <span data-ttu-id="495bb-287">As **portas de saída 443 e 80** devem estar abertas para que o gateway estabeleça essa conexão.</span><span class="sxs-lookup"><span data-stu-id="495bb-287">The **outbound ports 443 and 80** must be opened for gateway to make this connection.</span></span> <span data-ttu-id="495bb-288">Abra a **Porta de Entrada 8050** somente no nível do computador (não no nível de firewall corporativo) para o aplicativo Gerenciador de Credenciais.</span><span class="sxs-lookup"><span data-stu-id="495bb-288">Open **Inbound Port 8050** only at the machine level (not at corporate firewall level) for Credential Manager application.</span></span> <span data-ttu-id="495bb-289">Se o Banco de Dados SQL do Azure ou o SQL Data Warehouse do Azure for usado como a origem ou o destino, você precisará abrir a porta **1433** também.</span><span class="sxs-lookup"><span data-stu-id="495bb-289">If Azure SQL Database or Azure SQL Data Warehouse is used as source/ destination, then you need to open **1433** port as well.</span></span> <span data-ttu-id="495bb-290">Para obter mais informações, consulte a seção [Configurações de firewall e endereços IP na lista de permissões](#firewall-configurations-and-whitelisting-ip-address-of gateway).</span><span class="sxs-lookup"><span data-stu-id="495bb-290">For more information, see [Firewall configurations and whitelisting IP addresses](#firewall-configurations-and-whitelisting-ip-address-of gateway) section.</span></span> 

<span data-ttu-id="495bb-291">**Pergunta:** Quais são os requisitos de certificado do Gateway?</span><span class="sxs-lookup"><span data-stu-id="495bb-291">**Question:** What are certificate requirements for Gateway?</span></span>
<span data-ttu-id="495bb-292">**Resposta:** O gateway atual exige um certificado que é usado pelo aplicativo gerenciador de credenciais para a configuração segura das credenciais do armazenamento de dados.</span><span class="sxs-lookup"><span data-stu-id="495bb-292">**Answer:** Current gateway requires a certificate that is used by the credential manager application for securely setting data store credentials.</span></span> <span data-ttu-id="495bb-293">Esse certificado é um certificado autoassinado criado e configurado pela instalação do gateway.</span><span class="sxs-lookup"><span data-stu-id="495bb-293">This certificate is a self-signed certificate created and configured by the gateway setup.</span></span> <span data-ttu-id="495bb-294">Em vez disso, você pode usar seu próprio certificado TLS/SSL.</span><span class="sxs-lookup"><span data-stu-id="495bb-294">You can use your own TLS/ SSL certificate instead.</span></span> <span data-ttu-id="495bb-295">Para obter mais informações, consulte a seção [Aplicativo gerenciador de credenciais de clique único](#click-once-credentials-manager-app).</span><span class="sxs-lookup"><span data-stu-id="495bb-295">For more information, see [click-once credential manager application](#click-once-credentials-manager-app) section.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="495bb-296">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="495bb-296">Next steps</span></span>
<span data-ttu-id="495bb-297">Para obter informações sobre o desempenho da atividade de cópia, consulte [Guia desempenho e ajuste da atividade de cópia](data-factory-copy-activity-performance.md).</span><span class="sxs-lookup"><span data-stu-id="495bb-297">For information about performance of copy activity, see [Copy activity performance and tuning guide](data-factory-copy-activity-performance.md).</span></span>

 
