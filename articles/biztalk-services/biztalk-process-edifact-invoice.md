---
title: "Tutorial: Processar faturas EDIFACT usando os Serviços BizTalk do Azure | Microsoft Docs"
description: "Como toocreate e configurar o aplicativo de API ou conector de caixa hello e usá-lo em um aplicativo lógico no serviço de aplicativo do Azure"
services: biztalk-services
documentationcenter: .net,nodejs,java
author: msftman
manager: erikre
editor: 
ms.assetid: 7e0b93fa-3e2b-4a9c-89ef-abf1d3aa8fa9
ms.service: biztalk-services
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: integration
ms.date: 05/31/2016
ms.author: deonhe
ms.openlocfilehash: 4ca021c9084b9b6540c93ef15fc3d44be0966970
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="tutorial-process-edifact-invoices-using-azure-biztalk-services"></a><span data-ttu-id="f0041-103">Tutorial: Processar faturas EDIFACT usando os Serviços BizTalk do Azure</span><span class="sxs-lookup"><span data-stu-id="f0041-103">Tutorial: Process EDIFACT invoices using Azure BizTalk Services</span></span>

> [!INCLUDE [BizTalk Services is being retired, and replaced with Azure Logic Apps](../../includes/biztalk-services-retirement.md)]

<span data-ttu-id="f0041-104">Você pode usar tooconfigure do Portal de Serviços BizTalk hello e implantar acordos X12 e EDIFACT.</span><span class="sxs-lookup"><span data-stu-id="f0041-104">You can use hello BizTalk Services Portal tooconfigure and deploy X12 and EDIFACT agreements.</span></span> <span data-ttu-id="f0041-105">Neste tutorial, examinaremos como toocreate um acordo EDIFACT para a troca de faturas entre parceiros comerciais.</span><span class="sxs-lookup"><span data-stu-id="f0041-105">In this tutorial, we look at how toocreate an EDIFACT agreement for exchanging invoices between trading partners.</span></span> <span data-ttu-id="f0041-106">Este tutorial foi escrito em torno de uma solução comercial de ponta a ponta envolvendo dois parceiros comerciais, Northwind e Contoso, que trocam mensagens EDIFACT.</span><span class="sxs-lookup"><span data-stu-id="f0041-106">This tutorial is written around an end-to-end business solution involving two trading partners, Northwind and Contoso that exchange EDIFACT messages.</span></span>  

## <a name="sample-based-on-this-tutorial"></a><span data-ttu-id="f0041-107">Exemplo baseado neste tutorial</span><span class="sxs-lookup"><span data-stu-id="f0041-107">Sample based on this tutorial</span></span>
<span data-ttu-id="f0041-108">Este tutorial foi escrito em torno de uma amostra, **enviar EDIFACT faturas usando serviços do BizTalk**, que é toodownload disponível da saudação [Galeria de códigos do MSDN](http://go.microsoft.com/fwlink/?LinkId=401005).</span><span class="sxs-lookup"><span data-stu-id="f0041-108">This tutorial is written around a sample, **Sending EDIFACT Invoices Using BizTalk Services**, which is available toodownload from hello [MSDN Code Gallery](http://go.microsoft.com/fwlink/?LinkId=401005).</span></span> <span data-ttu-id="f0041-109">Você pode usar o exemplo hello e percorrer este tutorial toounderstand como exemplo hello foi criado.</span><span class="sxs-lookup"><span data-stu-id="f0041-109">You could use hello sample and go through this tutorial toounderstand how hello sample was built.</span></span> <span data-ttu-id="f0041-110">Ou, você pode usar este tutorial toocreate sua própria solução de início.</span><span class="sxs-lookup"><span data-stu-id="f0041-110">Or, you could use this tutorial toocreate your own solution ground-up.</span></span> <span data-ttu-id="f0041-111">Este tutorial é destinado a saudação segunda abordagem para que você entenda como esta solução foi criada.</span><span class="sxs-lookup"><span data-stu-id="f0041-111">This tutorial is targeted towards hello second approach so that you understand how this solution was built.</span></span> <span data-ttu-id="f0041-112">Além disso, tanto quanto possível, o tutorial Olá é consistente com o exemplo hello e usa Olá os mesmos nomes para artefatos (por exemplo, esquemas, transformações) conforme usado no exemplo hello.</span><span class="sxs-lookup"><span data-stu-id="f0041-112">Also, as much as possible, hello tutorial is consistent with hello sample and uses hello same names for artifacts (for example, schemas, transforms) as used in hello sample.</span></span>  

> [!NOTE]
> <span data-ttu-id="f0041-113">Como esta solução envolve o envio de uma mensagem de uma ponte EDI de tooan de ponte EAI, ele reutiliza Olá [BizTalk Services Bridge chaining exemplo](http://code.msdn.microsoft.com/BizTalk-Bridge-chaining-2246b104) exemplo.</span><span class="sxs-lookup"><span data-stu-id="f0041-113">Because this solution involves sending a message from an EAI bridge tooan EDI bridge, it reuses hello [BizTalk Services Bridge chaining sample](http://code.msdn.microsoft.com/BizTalk-Bridge-chaining-2246b104) sample.</span></span>  
> 
> 

## <a name="what-does-hello-solution-do"></a><span data-ttu-id="f0041-114">O que a solução Olá fazer?</span><span class="sxs-lookup"><span data-stu-id="f0041-114">What does hello solution do?</span></span>
<span data-ttu-id="f0041-115">Nesta solução, a Northwind recebe faturas EDIFACT da Contoso.</span><span class="sxs-lookup"><span data-stu-id="f0041-115">In this solution, Northwind receives EDIFACT invoices from Contoso.</span></span> <span data-ttu-id="f0041-116">As faturas não estão em formato EDI padrão.</span><span class="sxs-lookup"><span data-stu-id="f0041-116">These invoices are not in a standard EDI format.</span></span> <span data-ttu-id="f0041-117">Portanto, antes de enviar Olá fatura tooNorthwind, deve ser transformado tooan documento de fatura (também chamado INVOIC) de EDIFACT.</span><span class="sxs-lookup"><span data-stu-id="f0041-117">So, before sending hello invoice tooNorthwind, it must be transformed tooan EDIFACT invoice (also called INVOIC) document.</span></span> <span data-ttu-id="f0041-118">Após o recebimento, Northwind deve processar a fatura EDIFACT de saudação e retornar um tooContoso de mensagem (também chamada CONTRL) do controle.</span><span class="sxs-lookup"><span data-stu-id="f0041-118">On receipt, Northwind must process hello EDIFACT invoice, and return a control message (also called CONTRL) tooContoso.</span></span>

![][1]  

<span data-ttu-id="f0041-119">tooachieve neste cenário de negócios, a Contoso usa recursos de saudação fornecidos com Serviços BizTalk do Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="f0041-119">tooachieve this business scenario, Contoso uses hello features provided with Microsoft Azure BizTalk Services.</span></span>

* <span data-ttu-id="f0041-120">A Contoso utiliza EAI pontes tootransform Olá original da fatura tooEDIFACT INVOIC.</span><span class="sxs-lookup"><span data-stu-id="f0041-120">Contoso uses EAI bridges tootransform hello original invoice tooEDIFACT INVOIC.</span></span>
* <span data-ttu-id="f0041-121">ponte EAI Olá envia tooan de mensagem de saudação EDI enviar ponte implantada como parte de um acordo configurado no hello Portal de Serviços BizTalk.</span><span class="sxs-lookup"><span data-stu-id="f0041-121">hello EAI bridge then sends hello message tooan EDI send bridge deployed as part of an agreement configured in hello BizTalk Services Portal.</span></span>
* <span data-ttu-id="f0041-122">ponte de envio EDI Olá processa Olá EDIFACT INVOIC e encaminha tooNorthwind.</span><span class="sxs-lookup"><span data-stu-id="f0041-122">hello EDI send bridge processes hello EDIFACT INVOIC and routes it tooNorthwind.</span></span>
* <span data-ttu-id="f0041-123">Após o recebimento da fatura hello, a Northwind devolve uma toohello de mensagem CONTRL implantado como parte do contrato de saudação de ponte de recebimento EDI.</span><span class="sxs-lookup"><span data-stu-id="f0041-123">After receiving hello invoice, Northwind returns a CONTRL message toohello EDI receive bridge deployed as part of hello agreement.</span></span>  

> [!NOTE]
> <span data-ttu-id="f0041-124">Opcionalmente, essa solução também demonstra como toouse envio em lote toosend Olá faturas em lotes, em vez de enviar cada fatura separadamente.</span><span class="sxs-lookup"><span data-stu-id="f0041-124">Optionally, this solution also demonstrates how toouse batching toosend hello invoices in batches, instead of sending each invoice separately.</span></span>  
> 
> 

<span data-ttu-id="f0041-125">cenário de saudação toocomplete, usamos filas do barramento de serviço toosend fatura da Contoso tooNorthwind ou receber a confirmação da Northwind.</span><span class="sxs-lookup"><span data-stu-id="f0041-125">toocomplete hello scenario, we use Service Bus queues toosend invoice from Contoso tooNorthwind or receive acknowledgement from Northwind.</span></span> <span data-ttu-id="f0041-126">Essas filas podem ser criadas usando um aplicativo cliente, que está disponível como um download e está incluído no pacote de exemplo hello que está disponível como parte deste tutorial.</span><span class="sxs-lookup"><span data-stu-id="f0041-126">These queues can be created using a client application, which is available as a download and is included in hello sample package that is available as part of this tutorial.</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="f0041-127">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="f0041-127">Prerequisites</span></span>
* <span data-ttu-id="f0041-128">Você deve ter um namespace do Barramento de Serviço.</span><span class="sxs-lookup"><span data-stu-id="f0041-128">You must have a Service Bus namespace.</span></span> <span data-ttu-id="f0041-129">Para obter instruções sobre como criar um namespace, confira [Como criar ou modificar um namespace do Barramento de Serviço](https://msdn.microsoft.com/library/azure/hh674478.aspx).</span><span class="sxs-lookup"><span data-stu-id="f0041-129">For instructions on creating a namespace, see [How To: Create or Modify a Service Bus Service Namespace](https://msdn.microsoft.com/library/azure/hh674478.aspx).</span></span> <span data-ttu-id="f0041-130">Vamos supor que você já tenha um namespace de Barramento de serviço provisionado, chamado **edifactbts**.</span><span class="sxs-lookup"><span data-stu-id="f0041-130">Let us assume that you already have a Service Bus namespace provisioned, called **edifactbts**.</span></span>
* <span data-ttu-id="f0041-131">Você deve ter uma assinatura dos Serviços BizTalk.</span><span class="sxs-lookup"><span data-stu-id="f0041-131">You must have a BizTalk Services subscription.</span></span> <span data-ttu-id="f0041-132">Para obter instruções, confira [Criar um Serviço BizTalk usando o portal clássico do Azure](http://go.microsoft.com/fwlink/?LinkID=302280).</span><span class="sxs-lookup"><span data-stu-id="f0041-132">For instructions, see [Create a BizTalk Service using Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=302280).</span></span> <span data-ttu-id="f0041-133">Para este tutorial, suponhamos que você tenha uma assinatura dos Serviços BizTalk chamada **contosowabs**.</span><span class="sxs-lookup"><span data-stu-id="f0041-133">For this tutorial, let us assume you have a BizTalk Services subscription, called **contosowabs**.</span></span>
* <span data-ttu-id="f0041-134">Registre sua assinatura do BizTalk Services Olá Portal de Serviços BizTalk.</span><span class="sxs-lookup"><span data-stu-id="f0041-134">Register your BizTalk Services subscription on hello BizTalk Services Portal.</span></span> <span data-ttu-id="f0041-135">Para obter instruções, consulte [registrar uma implantação do serviço BizTalk no hello Portal de Serviços BizTalk](https://msdn.microsoft.com/library/hh689837.aspx)</span><span class="sxs-lookup"><span data-stu-id="f0041-135">For instructions, see [Registering a BizTalk Service Deployment on hello BizTalk Services Portal](https://msdn.microsoft.com/library/hh689837.aspx)</span></span>
* <span data-ttu-id="f0041-136">Você deve ter o Visual Studio instalado.</span><span class="sxs-lookup"><span data-stu-id="f0041-136">You must have Visual Studio installed.</span></span>
* <span data-ttu-id="f0041-137">Você deve ter o SDK dos Serviços BizTalk instalado.</span><span class="sxs-lookup"><span data-stu-id="f0041-137">You must have BizTalk Services SDK installed.</span></span> <span data-ttu-id="f0041-138">Você pode baixar Olá SDK em [http://go.microsoft.com/fwlink/?LinkId=235057](http://go.microsoft.com/fwlink/?LinkId=235057)</span><span class="sxs-lookup"><span data-stu-id="f0041-138">You can download hello SDK from [http://go.microsoft.com/fwlink/?LinkId=235057](http://go.microsoft.com/fwlink/?LinkId=235057)</span></span>  

## <a name="step-1-create-hello-service-bus-queues"></a><span data-ttu-id="f0041-139">Etapa 1: Criar hello filas do barramento de serviço</span><span class="sxs-lookup"><span data-stu-id="f0041-139">Step 1: Create hello Service Bus queues</span></span>
<span data-ttu-id="f0041-140">Esta solução usa mensagens de tooexchange de filas do barramento de serviço entre parceiros comerciais.</span><span class="sxs-lookup"><span data-stu-id="f0041-140">This solution uses Service Bus queues tooexchange messages between trading partners.</span></span> <span data-ttu-id="f0041-141">Contoso e Northwind enviam mensagens de filas de toohello de onde as pontes EAI e/ou EDI de saudação consumam-los.</span><span class="sxs-lookup"><span data-stu-id="f0041-141">Contoso and Northwind send messages toohello queues from where hello EAI and/or EDI bridges consume them.</span></span> <span data-ttu-id="f0041-142">Para essa solução, você precisa de três filas do Barramento de Serviço:</span><span class="sxs-lookup"><span data-stu-id="f0041-142">For this solution, you need three Service Bus queues:</span></span>

* <span data-ttu-id="f0041-143">**northwindreceive** – a Northwind recebe faturas Olá da Contoso através desta fila.</span><span class="sxs-lookup"><span data-stu-id="f0041-143">**northwindreceive** – Northwind receives hello invoice from Contoso over this queue.</span></span>
* <span data-ttu-id="f0041-144">**contosoreceive** – Contoso recebe a confirmação de saudação da Northwind através desta fila.</span><span class="sxs-lookup"><span data-stu-id="f0041-144">**contosoreceive** – Contoso receives hello acknowledgement from Northwind over this queue.</span></span>
* <span data-ttu-id="f0041-145">**suspenso** – todas as mensagens suspensas são roteadas toothis fila.</span><span class="sxs-lookup"><span data-stu-id="f0041-145">**suspended** – All suspended messages are routed toothis queue.</span></span> <span data-ttu-id="f0041-146">As mensagens são suspensas quando falham durante o processamento.</span><span class="sxs-lookup"><span data-stu-id="f0041-146">Messages are suspended if they fail during processing.</span></span>

<span data-ttu-id="f0041-147">Você pode criar essas filas do barramento de serviço usando um aplicativo cliente incluído no pacote de exemplo hello.</span><span class="sxs-lookup"><span data-stu-id="f0041-147">You can create these Service Bus queues by using a client application included in hello sample package.</span></span>  

1. <span data-ttu-id="f0041-148">Saudação do local de onde você baixou o exemplo hello, abra **Tutorial enviando faturas usando BizTalk Services EDI Bridges.sln**.</span><span class="sxs-lookup"><span data-stu-id="f0041-148">From hello location where you downloaded hello sample, open **Tutorial Sending Invoices Using BizTalk Services EDI Bridges.sln**.</span></span>
2. <span data-ttu-id="f0041-149">Pressione **F5** toobuild e início Olá **Tutorial do cliente** aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f0041-149">Press **F5** toobuild and start hello **Tutorial Client** application.</span></span>
3. <span data-ttu-id="f0041-150">Na tela hello, insira o namespace de barramento de serviço ACS Olá, nome do emissor e chave do emissor.</span><span class="sxs-lookup"><span data-stu-id="f0041-150">In hello screen, enter hello Service Bus ACS namespace, issuer name, and issuer key.</span></span>
   
   ![][2]  
4. <span data-ttu-id="f0041-151">Uma caixa de mensagem solicitará a criação de três filas no namespace do Barramento de Serviço.</span><span class="sxs-lookup"><span data-stu-id="f0041-151">A message box prompts that three queues will be created in your Service Bus namespace.</span></span> <span data-ttu-id="f0041-152">Clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="f0041-152">Click **OK**.</span></span>
5. <span data-ttu-id="f0041-153">Deixe Olá Tutorial cliente está em execução.</span><span class="sxs-lookup"><span data-stu-id="f0041-153">Leave hello Tutorial Client running.</span></span> <span data-ttu-id="f0041-154">Abra hello, clique em **Service Bus** > ***seu namespace do barramento de serviço*** > **filas**e verifique se que as filas de saudação três são criadas.</span><span class="sxs-lookup"><span data-stu-id="f0041-154">Open hello , click **Service Bus** > ***your Service Bus namespace*** > **Queues**, and verify that hello three queues are created.</span></span>  

## <a name="step-2-create-and-deploy-trading-partner-agreement"></a><span data-ttu-id="f0041-155">Etapa 2: Criar e implantar o acordo entre parceiros comerciais</span><span class="sxs-lookup"><span data-stu-id="f0041-155">Step 2: Create and deploy trading partner agreement</span></span>
<span data-ttu-id="f0041-156">Crie um acordo entre os parceiros comerciais Contoso e Northwind.</span><span class="sxs-lookup"><span data-stu-id="f0041-156">Create a trading partner agreement between Contoso and Northwind.</span></span> <span data-ttu-id="f0041-157">Um contrato de parceiro comercial define um contrato comercial entre os parceiros de negócios Olá dois, como quais toouse do esquema de mensagem, que mensagens toouse de protocolo, etc. Um acordo entre parceiros comerciais inclui duas pontes EDI, um toosend mensagens tootrading parceiros (chamado hello **ponte de envio EDI**) e um tooreceive mensagens dos parceiros comerciais (chamado hello **ponte de recebimento de EDI**).</span><span class="sxs-lookup"><span data-stu-id="f0041-157">A trading partner agreement defines a trade contract between hello two business partners, such as which message schema toouse, which messaging protocol toouse, etc. A trading partner agreement includes two EDI bridges, one toosend messages tootrading partners (called hello **EDI Send bridge**) and one tooreceive messages from trading partners (called hello **EDI Receive bridge**).</span></span>

<span data-ttu-id="f0041-158">No contexto de saudação dessa solução, ponte de envio EDI Olá corresponde toohello no lado de envio do contrato hello e é usado toosend Olá EDIFACT fatura da Contoso tooNorthwind.</span><span class="sxs-lookup"><span data-stu-id="f0041-158">In hello context of this solution, hello EDI send bridge corresponds toohello send-side of hello agreement and is used toosend hello EDIFACT invoice from Contoso tooNorthwind.</span></span> <span data-ttu-id="f0041-159">Da mesma forma, ponte de recebimento Olá EDI corresponde toohello do lado receptor do contrato hello e é usado tooreceive confirmações da Northwind.</span><span class="sxs-lookup"><span data-stu-id="f0041-159">Similarly, hello EDI receive bridge corresponds toohello receive-side of hello agreement and is used tooreceive acknowledgements from Northwind.</span></span>  

### <a name="create-hello-trading-partners"></a><span data-ttu-id="f0041-160">Criar hello parceiros comerciais</span><span class="sxs-lookup"><span data-stu-id="f0041-160">Create hello trading partners</span></span>
<span data-ttu-id="f0041-161">toostart, crie parceiros comerciais para a Contoso e Northwind.</span><span class="sxs-lookup"><span data-stu-id="f0041-161">toostart with, create trading partners for Contoso and Northwind.</span></span>  

1. <span data-ttu-id="f0041-162">Em Olá Portal de serviços do BizTalk em Olá **parceiros** , clique em **adicionar**.</span><span class="sxs-lookup"><span data-stu-id="f0041-162">In hello BizTalk Services Portal, on hello **Partners** tab, click **Add**.</span></span>
2. <span data-ttu-id="f0041-163">Na página Olá novo parceiro, insira **Contoso** como um nome de parceiro e clique **salvar**.</span><span class="sxs-lookup"><span data-stu-id="f0041-163">In hello New partner page, enter **Contoso** as a partner name, and then click **Save**.</span></span>
3. <span data-ttu-id="f0041-164">Olá repetição etapa toocreate Olá segundo parceiro, **Northwind**.</span><span class="sxs-lookup"><span data-stu-id="f0041-164">Repeat hello step toocreate hello second partner, **Northwind**.</span></span>  

### <a name="create-hello-agreement"></a><span data-ttu-id="f0041-165">Criar contrato Olá</span><span class="sxs-lookup"><span data-stu-id="f0041-165">Create hello agreement</span></span>
<span data-ttu-id="f0041-166">Acordos entre parceiros comerciais são criados entre os perfis comerciais dos parceiros comerciais.</span><span class="sxs-lookup"><span data-stu-id="f0041-166">Trading partner agreements are created between business profiles of trading partners.</span></span> <span data-ttu-id="f0041-167">Esta solução usa perfis de parceiros do saudação padrão que são criados automaticamente quando criamos os parceiros de saudação.</span><span class="sxs-lookup"><span data-stu-id="f0041-167">This solution uses hello default partner profiles that are automatically created when we created hello partners.</span></span>  

1. <span data-ttu-id="f0041-168">No Portal de Serviços BizTalk do hello, clique em **contratos** > **adicionar**.</span><span class="sxs-lookup"><span data-stu-id="f0041-168">In hello BizTalk Services Portal, click **Agreements** > **Add**.</span></span>
2. <span data-ttu-id="f0041-169">Do Olá novo contrato **configurações gerais** página, especifique valores hello, conforme mostrado na imagem de saudação abaixo e, em seguida, clique em **continuar**.</span><span class="sxs-lookup"><span data-stu-id="f0041-169">In hello new agreement’s **General Settings** page, specify hello values as shown in hello image below, and then click **Continue**.</span></span>
   
   ![][3]  
   
   <span data-ttu-id="f0041-170">Depois de clicar em **Continuar**, duas guias, **Configurações de Recebimento** e **Configurações de Envio**, se tornarem disponíveis.</span><span class="sxs-lookup"><span data-stu-id="f0041-170">After you click **Continue**, two tabs, **Receive Settings** and **Send Settings** become available.</span></span>
3. <span data-ttu-id="f0041-171">Crie contrato de envio de saudação entre a Contoso e Northwind.</span><span class="sxs-lookup"><span data-stu-id="f0041-171">Create hello send agreement between Contoso and Northwind.</span></span> <span data-ttu-id="f0041-172">Este acordo regulamenta a forma como a Contoso envia tooNorthwind de fatura EDIFACT hello.</span><span class="sxs-lookup"><span data-stu-id="f0041-172">This agreement governs how Contoso sends hello EDIFACT invoice tooNorthwind.</span></span>
   
   1. <span data-ttu-id="f0041-173">Clique em **Configurações de Envio**.</span><span class="sxs-lookup"><span data-stu-id="f0041-173">Click **Send Settings**.</span></span>
   2. <span data-ttu-id="f0041-174">Manter valores padrão Olá Olá **URL de entrada**, **transformação**, e **lote** guias.</span><span class="sxs-lookup"><span data-stu-id="f0041-174">Retain hello default values on hello **Inbound URL**, **Transform**, and **Batching** tabs.</span></span>
   3. <span data-ttu-id="f0041-175">Em Olá **protocolo** guia, em Olá **esquemas** seção, carregue Olá **EFACT_D93A_INVOIC.xsd** esquema.</span><span class="sxs-lookup"><span data-stu-id="f0041-175">On hello **Protocol** tab, under hello **Schemas** section, upload hello **EFACT_D93A_INVOIC.xsd** schema.</span></span> <span data-ttu-id="f0041-176">Esse esquema está disponível com o pacote de exemplo hello.</span><span class="sxs-lookup"><span data-stu-id="f0041-176">This schema is available with hello sample package.</span></span>
      
      ![][4]  
   4. <span data-ttu-id="f0041-177">Em Olá **transporte** guia, especifique os detalhes de saudação para filas de barramento de serviço hello.</span><span class="sxs-lookup"><span data-stu-id="f0041-177">On hello **Transport** tab, specify hello details for hello Service Bus queues.</span></span> <span data-ttu-id="f0041-178">Olá acordo de envio, usamos Olá **northwindreceive** toosend Olá EDIFACT fatura tooNorthwind da fila e Olá **suspenso** fila tooroute quaisquer mensagens que falham durante o processamento e são suspenso.</span><span class="sxs-lookup"><span data-stu-id="f0041-178">For hello send-side agreement, we use hello **northwindreceive** queue toosend hello EDIFACT invoice tooNorthwind, and hello **suspended** queue tooroute any messages that fail during processing and are suspended.</span></span> <span data-ttu-id="f0041-179">Criar estas filas em **etapa 1: criar hello filas do barramento de serviço** (neste tópico).</span><span class="sxs-lookup"><span data-stu-id="f0041-179">You created these queues in **Step 1: Create hello Service Bus queues** (in this topic).</span></span>
      
      ![][5]  
      
      <span data-ttu-id="f0041-180">Em **configurações de transporte > tipo de transporte** e **configurações de suspensão de mensagem > tipo de transporte**, selecione o barramento de serviço do Azure e fornecem valores hello conforme mostrado na imagem de saudação.</span><span class="sxs-lookup"><span data-stu-id="f0041-180">Under **Transport Settings > Transport type** and **Message Suspension Settings > Transport type**, select Azure Service Bus and provide hello values as shown in hello image.</span></span>
4. <span data-ttu-id="f0041-181">Criar hello receber contrato entre a Contoso e Northwind.</span><span class="sxs-lookup"><span data-stu-id="f0041-181">Create hello receive agreement between Contoso and Northwind.</span></span> <span data-ttu-id="f0041-182">Este acordo regulamenta a forma como a Contoso recebe a confirmação de saudação da Northwind.</span><span class="sxs-lookup"><span data-stu-id="f0041-182">This agreement governs how Contoso receives hello acknowledgement from Northwind.</span></span>
   
   1. <span data-ttu-id="f0041-183">Clique em **Configurações de Recebimento**.</span><span class="sxs-lookup"><span data-stu-id="f0041-183">Click **Receive Settings**.</span></span>
   2. <span data-ttu-id="f0041-184">Manter valores padrão Olá Olá **transporte** e **transformação** guias.</span><span class="sxs-lookup"><span data-stu-id="f0041-184">Retain hello default values on hello **Transport** and **Transform** tabs.</span></span>
   3. <span data-ttu-id="f0041-185">Em Olá **protocolo** guia, em Olá **esquemas** seção, carregue Olá **EFACT_4.1_CONTRL.xsd** esquema.</span><span class="sxs-lookup"><span data-stu-id="f0041-185">On hello **Protocol** tab, under hello **Schemas** section, upload hello **EFACT_4.1_CONTRL.xsd** schema.</span></span> <span data-ttu-id="f0041-186">Esse esquema está disponível com o pacote de exemplo hello.</span><span class="sxs-lookup"><span data-stu-id="f0041-186">This schema is available with hello sample package.</span></span>
   4. <span data-ttu-id="f0041-187">Em Olá **rota** guia, crie um filtro tooensure que somente as confirmações da Northwind são roteada tooContoso.</span><span class="sxs-lookup"><span data-stu-id="f0041-187">On hello **Route** tab, create a filter tooensure that only acknowledgements from Northwind are routed tooContoso.</span></span> <span data-ttu-id="f0041-188">Em **configurações de rota**, clique em **adicionar** toocreate Olá filtro de roteamento.</span><span class="sxs-lookup"><span data-stu-id="f0041-188">Under **Route Settings**, click **Add** toocreate hello routing filter.</span></span>
      
      ![][6]  
      
      1. <span data-ttu-id="f0041-189">Forneça valores para o **o nome da regra**, **regra de rota**, e **destino da rota** conforme mostrado na imagem de saudação.</span><span class="sxs-lookup"><span data-stu-id="f0041-189">Provide values for **Rule Name**, **Route rule**, and **Route destination** as shown in hello image.</span></span>
      2. <span data-ttu-id="f0041-190">Clique em **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="f0041-190">Click **Save**.</span></span>
   5. <span data-ttu-id="f0041-191">Em Olá **rota** guia novamente, especifique onde as confirmações suspensas (confirmações que apresentaram falha durante o processamento) são roteadas.</span><span class="sxs-lookup"><span data-stu-id="f0041-191">On hello **Route** tab again, specify where suspended acknowledgements (acknowledgements that fail during processing) are routed to.</span></span> <span data-ttu-id="f0041-192">Definido tooAzure de tipo de transporte Olá barramento de serviço, tipo de destino de rota muito**fila**, tipo de autenticação muito**assinatura de acesso compartilhado** (SAS), fornecem a cadeia de conexão SAS Olá para Olá barramento de serviço namespace e, em seguida, digite o nome de fila de saudação como **suspenso**.</span><span class="sxs-lookup"><span data-stu-id="f0041-192">Set hello transport type tooAzure Service Bus, route destination type too**Queue**, authentication type too**Shared Access Signature** (SAS), provide hello SAS connection string for hello Service Bus namespace, and then enter hello queue name as **suspended**.</span></span>
5. <span data-ttu-id="f0041-193">Por fim, clique em **implantar** toodeploy contrato de saudação.</span><span class="sxs-lookup"><span data-stu-id="f0041-193">Finally, click **Deploy** toodeploy hello agreement.</span></span> <span data-ttu-id="f0041-194">Observação Olá pontos de extremidade onde Olá enviar e receber contratos implantados.</span><span class="sxs-lookup"><span data-stu-id="f0041-194">Note hello endpoints where hello send and receive agreements get deployed.</span></span>
   
   * <span data-ttu-id="f0041-195">Em Olá **configurações de envio** guia em **URL de entrada**, observe o ponto de extremidade de saudação.</span><span class="sxs-lookup"><span data-stu-id="f0041-195">On hello **Send Settings** tab, under **Inbound URL**, note hello endpoint.</span></span> <span data-ttu-id="f0041-196">toosend uma mensagem da Contoso tooNorthwind usando Olá ponte de envio de EDI, você deve enviar um ponto de extremidade de toothis de mensagem.</span><span class="sxs-lookup"><span data-stu-id="f0041-196">toosend a message from Contoso tooNorthwind using hello EDI send bridge, you must send a message toothis endpoint.</span></span>
   * <span data-ttu-id="f0041-197">Em Olá **configurações de recebimento** guia em **transporte**, observe o ponto de extremidade de saudação.</span><span class="sxs-lookup"><span data-stu-id="f0041-197">On hello **Receive Settings** tab, under **Transport**, note hello endpoint.</span></span> <span data-ttu-id="f0041-198">ponte de recebimento toosend uma mensagem da Northwind tooContoso usando Olá EDI, você deve enviar um ponto de extremidade de toothis de mensagem.</span><span class="sxs-lookup"><span data-stu-id="f0041-198">toosend a message from Northwind tooContoso using hello EDI receive bridge, you must send a message toothis endpoint.</span></span>  

## <a name="step-3-create-and-deploy-hello-biztalk-services-project"></a><span data-ttu-id="f0041-199">Etapa 3: Criar e implantar o projeto de Serviços BizTalk Olá</span><span class="sxs-lookup"><span data-stu-id="f0041-199">Step 3: Create and deploy hello BizTalk Services project</span></span>
<span data-ttu-id="f0041-200">Na etapa anterior de saudação, você implantou Olá EDI enviar e receber contratos tooprocess faturas e confirmações EDIFACT.</span><span class="sxs-lookup"><span data-stu-id="f0041-200">In hello previous step, you deployed hello EDI send and receive agreements tooprocess EDIFACT invoices and acknowledgements.</span></span> <span data-ttu-id="f0041-201">Esses contratos podem processar apenas mensagens em conformidade com o esquema de mensagem EDIFACT padrão toohello.</span><span class="sxs-lookup"><span data-stu-id="f0041-201">These agreements can only process messages that conform toohello standard EDIFACT message schema.</span></span> <span data-ttu-id="f0041-202">No entanto, por cenário Olá para esta solução, a Contoso envia um tooNorthwind fatura em um esquema de propriedade in-house.</span><span class="sxs-lookup"><span data-stu-id="f0041-202">However, per hello scenario for this solution, Contoso sends an invoice tooNorthwind in an in-house proprietary schema.</span></span> <span data-ttu-id="f0041-203">Portanto, antes de mensagem de saudação é enviada toohello ponte de envio de EDI, ela deve ser transformada do esquema de fatura do hello esquema in-house toohello padrão EDIFACT.</span><span class="sxs-lookup"><span data-stu-id="f0041-203">So, before hello message is sent toohello EDI send bridge, it must be transformed from hello in-house schema toohello standard EDIFACT invoice schema.</span></span> <span data-ttu-id="f0041-204">projeto do BizTalk Services EAI Olá faz isso.</span><span class="sxs-lookup"><span data-stu-id="f0041-204">hello BizTalk Services EAI project does that.</span></span>

<span data-ttu-id="f0041-205">projeto de Serviços BizTalk Hello, **InvoiceProcessingBridge**, transformações Olá mensagem também é incluído como parte do exemplo hello baixado.</span><span class="sxs-lookup"><span data-stu-id="f0041-205">hello BizTalk Services project, **InvoiceProcessingBridge**, that transforms hello message is also included as part of hello sample you downloaded.</span></span> <span data-ttu-id="f0041-206">projeto de saudação inclui Olá artefatos a seguir:</span><span class="sxs-lookup"><span data-stu-id="f0041-206">hello project includes hello following artifacts:</span></span>

* <span data-ttu-id="f0041-207">**INHOUSEINVOICE. XSD** – esquema da fatura in-house de saudação enviada tooNorthwind.</span><span class="sxs-lookup"><span data-stu-id="f0041-207">**INHOUSEINVOICE.XSD** – Schema of hello in-house invoice that is sent tooNorthwind.</span></span>
* <span data-ttu-id="f0041-208">**EFACT_D93A_INVOIC. XSD** – esquema da fatura padrão do EDIFACT hello.</span><span class="sxs-lookup"><span data-stu-id="f0041-208">**EFACT_D93A_INVOIC.XSD** – Schema of hello standard EDIFACT invoice.</span></span>
* <span data-ttu-id="f0041-209">**EFACT_4.1_CONTRL. XSD** – esquema da confirmação do EDIFACT Olá Northwind envia tooContoso.</span><span class="sxs-lookup"><span data-stu-id="f0041-209">**EFACT_4.1_CONTRL.XSD** – Schema of hello EDIFACT acknowledgement that Northwind sends tooContoso.</span></span>
* <span data-ttu-id="f0041-210">**INHOUSEINVOICE_to_D93AINVOIC. TRFM** – Olá transformação que mapeia Olá fatura in-house toohello padrão EDIFACT fatura esquema.</span><span class="sxs-lookup"><span data-stu-id="f0041-210">**INHOUSEINVOICE_to_D93AINVOIC.TRFM** – hello transform that maps hello in-house invoice schema toohello standard EDIFACT invoice schema.</span></span>  

### <a name="create-hello-biztalk-services-project"></a><span data-ttu-id="f0041-211">Criar projeto de Serviços BizTalk Olá</span><span class="sxs-lookup"><span data-stu-id="f0041-211">Create hello BizTalk Services project</span></span>
1. <span data-ttu-id="f0041-212">Em Olá solução do Visual Studio, expanda o projeto InvoiceProcessingBridge de saudação e abra Olá **MessageFlowItinerary.bcs** arquivo.</span><span class="sxs-lookup"><span data-stu-id="f0041-212">In hello Visual Studio solution, expand hello InvoiceProcessingBridge project, and then open hello **MessageFlowItinerary.bcs** file.</span></span>
2. <span data-ttu-id="f0041-213">Clique em qualquer lugar na tela hello e defina Olá **URL do serviço BizTalk** em Olá toospecify da caixa de propriedade nome da sua assinatura dos Serviços BizTalk.</span><span class="sxs-lookup"><span data-stu-id="f0041-213">Click anywhere on hello canvas and set hello **BizTalk Service URL** in hello property box toospecify your BizTalk Services subscription name.</span></span> <span data-ttu-id="f0041-214">Por exemplo: `https://contosowabs.biztalk.windows.net`.</span><span class="sxs-lookup"><span data-stu-id="f0041-214">For example, `https://contosowabs.biztalk.windows.net`.</span></span>
   
   ![][7]  
3. <span data-ttu-id="f0041-215">Na caixa de ferramentas hello, arraste um **Xml One-Way Bridge** toohello tela.</span><span class="sxs-lookup"><span data-stu-id="f0041-215">From hello toolbox, drag an **Xml One-Way Bridge** toohello canvas.</span></span> <span data-ttu-id="f0041-216">Saudação de conjunto **nome da entidade** e **endereço relativo** ligar as propriedades de saudação muito**ProcessInvoiceBridge**.</span><span class="sxs-lookup"><span data-stu-id="f0041-216">Set hello **Entity Name** and **Relative Address** properties of hello bridge too**ProcessInvoiceBridge**.</span></span> <span data-ttu-id="f0041-217">Clique duas vezes em **ProcessInvoiceBridge** tooopen superfície de configuração de ponte de saudação.</span><span class="sxs-lookup"><span data-stu-id="f0041-217">Double-click **ProcessInvoiceBridge** tooopen hello bridge configuration surface.</span></span>
4. <span data-ttu-id="f0041-218">Dentro de saudação **tipos de mensagem** , clique em Olá adição (**+**) esquema de saudação do botão toospecify da mensagem de entrada hello.</span><span class="sxs-lookup"><span data-stu-id="f0041-218">Within hello **Message Types** box, click hello plus (**+**) button toospecify hello schema of hello incoming message.</span></span> <span data-ttu-id="f0041-219">Porque a mensagem de entrada hello para Olá ponte EAI é sempre fatura in-house hello, defina muito**INHOUSEINVOICE**.</span><span class="sxs-lookup"><span data-stu-id="f0041-219">Because hello incoming message for hello EAI bridge is always hello in-house invoice, set this too**INHOUSEINVOICE**.</span></span>
   
   ![][8]  
5. <span data-ttu-id="f0041-220">Clique Olá **transformação Xml** forma e na caixa de propriedade hello, para Olá **mapas** propriedade, clique botão de reticências hello (**...** ) botão.</span><span class="sxs-lookup"><span data-stu-id="f0041-220">Click hello **Xml Transform** shape, and in hello property box, for hello **Maps** property, click hello ellipsis (**...**) button.</span></span> <span data-ttu-id="f0041-221">Em Olá **seleção de mapas** caixa de diálogo, selecione Olá **INHOUSEINVOICE_to_D93AINVOIC** arquivo de transformação e, em seguida, clique em **Okey**.</span><span class="sxs-lookup"><span data-stu-id="f0041-221">In hello **Maps Selection** dialog box, select hello **INHOUSEINVOICE_to_D93AINVOIC** transform file, and then click **OK**.</span></span>
   
   ![][9]  
6. <span data-ttu-id="f0041-222">Voltar muito**MessageFlowItinerary.bcs**e na caixa de ferramentas hello, arraste um **ponto de extremidade de serviço externo bidirecional** toohello direito da saudação **ProcessInvoiceBridge**.</span><span class="sxs-lookup"><span data-stu-id="f0041-222">Go back too**MessageFlowItinerary.bcs**, and from hello toolbox, drag a **Two-Way External Service Endpoint** toohello right of hello **ProcessInvoiceBridge**.</span></span> <span data-ttu-id="f0041-223">Definir seu **nome da entidade** propriedade muito**EDIBridge**.</span><span class="sxs-lookup"><span data-stu-id="f0041-223">Set its **Entity Name** property too**EDIBridge**.</span></span>
7. <span data-ttu-id="f0041-224">No hello Gerenciador de soluções, expanda Olá **MessageFlowItinerary.bcs** e clique duas vezes em Olá **edibridge. config** arquivo.</span><span class="sxs-lookup"><span data-stu-id="f0041-224">In hello Solution Explorer, expand hello **MessageFlowItinerary.bcs** and double-click hello **EDIBridge.config** file.</span></span> <span data-ttu-id="f0041-225">Substituir conteúdo Olá Olá **edibridge. config** com os seguintes hello.</span><span class="sxs-lookup"><span data-stu-id="f0041-225">Replace hello content of hello **EDIBridge.config** with hello following.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="f0041-226">Por que preciso de arquivo do tooedit hello. config? ponto de extremidade de serviço externo de saudação que adicionamos toohello tela do designer de ponte representa pontes EDI Olá que foi implantada anteriormente.</span><span class="sxs-lookup"><span data-stu-id="f0041-226">Why do I need tooedit hello .config file? hello external service endpoint that we added toohello bridge designer canvas represents hello EDI bridges that we deployed earlier.</span></span> <span data-ttu-id="f0041-227">As pontes EDI são bidirecionais, com lado de envio e de recebimento.</span><span class="sxs-lookup"><span data-stu-id="f0041-227">EDI bridges are two-way bridges, with a send and receive side.</span></span> <span data-ttu-id="f0041-228">No entanto, hello ponte EAI que adicionamos toohello designer de ponte é uma ponte unidirecional.</span><span class="sxs-lookup"><span data-stu-id="f0041-228">However, hello EAI bridge that we added toohello bridge designer is a one-way bridge.</span></span> <span data-ttu-id="f0041-229">Então, padrões de troca de toohandle Olá mensagem diferente de duas pontes de hello, usamos um comportamento de ponte personalizado, incluindo sua configuração no arquivo. config de saudação.</span><span class="sxs-lookup"><span data-stu-id="f0041-229">So, toohandle hello different message exchange patterns of hello two bridges, we use a custom bridge behavior by including its configuration in hello .config file.</span></span> <span data-ttu-id="f0041-230">Além disso, o comportamento personalizado Olá também lida com hello toohello EDI enviar ponte do ponto de extremidade. Este comportamento personalizado está disponível como uma amostra individual no [BizTalk Services Bridge chaining sample - EAI tooEDI](http://code.msdn.microsoft.com/BizTalk-Bridge-chaining-2246b104).</span><span class="sxs-lookup"><span data-stu-id="f0041-230">Additionally, hello custom behavior also handles hello authentication toohello EDI send bridge endpoint.This custom behavior is available as a separate sample at [BizTalk Services Bridge chaining sample - EAI tooEDI](http://code.msdn.microsoft.com/BizTalk-Bridge-chaining-2246b104).</span></span> <span data-ttu-id="f0041-231">Esta solução reutiliza o exemplo hello.</span><span class="sxs-lookup"><span data-stu-id="f0041-231">This solution reuses hello sample.</span></span>  
   > 
   > 
   
   ```
   <?xml version="1.0" encoding="utf-8"?>
   <configuration>
     <system.serviceModel>
       <extensions>
         <behaviorExtensions>
           <add name="BridgeAuthentication" 
                 type="Microsoft.BizTalk.Bridge.Behaviour.BridgeBehaviorElement, Microsoft.BizTalk.Bridge.Behaviour, Version=1.0.0.0, Culture=neutral, PublicKeyToken=ae58f69b69495c05" />
         </behaviorExtensions>
       </extensions>
       <behaviors>
         <endpointBehaviors>
           <behavior name="BridgeAuthenticationConfiguration">
             <!-- Enter hello ACS namespace, issuer name and issuer secret of hello BizTalk Services deployment -->
             <BridgeAuthentication acsnamespace="[YOUR ACS NAMESPACE]" 
                                   issuername="owner" 
                                   issuersecret="[YOUR ACS SECRET]" />
             <webHttp />
           </behavior>
         </endpointBehaviors>
       </behaviors>
       <bindings>
         <webHttpBinding>
           <binding name="BridgeBindingConfiguration">
             <security mode="Transport" />
           </binding>
         </webHttpBinding>
       </bindings>
       <client>
         <clear />
         <!--
           Go BizTalk Portal > Agreement > Send Settings > Inbound URL
           Copy hello Endpoint URL and paste it in hello below address field
         -->
         <endpoint name="TwoWayExternalServiceEndpointReference1" 
                   address="[YOUR EDI BRIDGE SEND URI]" 
                   behaviorConfiguration="BridgeAuthenticationConfiguration" 
                   binding="webHttpBinding" 
                   bindingConfiguration="BridgeBindingConfiguration" 
                   contract="System.ServiceModel.Routing.IRequestReplyRouter" />
       </client>
     </system.serviceModel>
   </configuration>
   
   ```
8. <span data-ttu-id="f0041-232">Atualizar detalhes de configuração do hello edibridge. config arquivo tooinclude</span><span class="sxs-lookup"><span data-stu-id="f0041-232">Update hello EDIBridge.config file tooinclude configuration details</span></span>
   
   * <span data-ttu-id="f0041-233">Em  *<behaviors>* , forneça Olá namespace do ACS e chave associada a saudação assinatura dos Serviços BizTalk.</span><span class="sxs-lookup"><span data-stu-id="f0041-233">Under *<behaviors>*, provide hello ACS namespace and key associated with hello BizTalk Services subscription.</span></span>
   * <span data-ttu-id="f0041-234">Em  *<client>* , fornecer Olá de ponto de extremidade onde Olá contrato de envio de EDI é implantado.</span><span class="sxs-lookup"><span data-stu-id="f0041-234">Under *<client>*, provide hello endpoint where hello EDI send agreement is deployed.</span></span>
   
   <span data-ttu-id="f0041-235">Salvar as alterações e feche o arquivo de configuração de saudação.</span><span class="sxs-lookup"><span data-stu-id="f0041-235">Save changes and close hello configuration file.</span></span>
9. <span data-ttu-id="f0041-236">De saudação da caixa de ferramentas, clique em Olá **conector** e junção hello **ProcessInvoiceBridge** e **EDIBridge** componentes.</span><span class="sxs-lookup"><span data-stu-id="f0041-236">From hello Toolbox, click hello **Connector** and join hello **ProcessInvoiceBridge** and **EDIBridge** components.</span></span> <span data-ttu-id="f0041-237">Selecione o conector hello e na caixa de propriedades, defina **condição de filtro** muito**corresponder tudo**.</span><span class="sxs-lookup"><span data-stu-id="f0041-237">Select hello connector, and in Properties box, set **Filter Condition** too**Match All**.</span></span> <span data-ttu-id="f0041-238">Isso garante que todas as mensagens processadas por Olá ponte EAI sejam roteadas toohello ponte EDI.</span><span class="sxs-lookup"><span data-stu-id="f0041-238">This ensures that all messages processed by hello EAI bridge are routed toohello EDI bridge.</span></span>
   
   ![][10]  
10. <span data-ttu-id="f0041-239">Salve alterações toohello solução.</span><span class="sxs-lookup"><span data-stu-id="f0041-239">Save changes toohello solution.</span></span>  

### <a name="deploy-hello-project"></a><span data-ttu-id="f0041-240">Implantar projeto Olá</span><span class="sxs-lookup"><span data-stu-id="f0041-240">Deploy hello project</span></span>
1. <span data-ttu-id="f0041-241">No computador de saudação em que você criou o projeto de Serviços BizTalk hello, baixe e instale o certificado SSL da saudação para sua assinatura dos Serviços BizTalk.</span><span class="sxs-lookup"><span data-stu-id="f0041-241">On hello computer where you created hello BizTalk Services project, download and install hello SSL certificate for your BizTalk Services subscription.</span></span> <span data-ttu-id="f0041-242">Em Serviços BizTalk, clique em **Painel** e em **Baixar Certificado SSL**.</span><span class="sxs-lookup"><span data-stu-id="f0041-242">From , under BizTalk Services, click **Dashboard**, and then click **Download SSL Certificate**.</span></span> <span data-ttu-id="f0041-243">Clique duas vezes no certificado hello e siga Olá toocomplete prompt Olá instalação.</span><span class="sxs-lookup"><span data-stu-id="f0041-243">Double-click hello certificate and follow hello prompt toocomplete hello installation.</span></span> <span data-ttu-id="f0041-244">Certifique-se de instalar o certificado Olá sob **autoridades de certificação raiz confiáveis** repositório de certificados.</span><span class="sxs-lookup"><span data-stu-id="f0041-244">Make sure you install hello certificate under **Trusted Root Certification Authorities** certificate store.</span></span>
2. <span data-ttu-id="f0041-245">No Gerenciador de soluções do Visual Studio, clique com botão direito Olá **InvoiceProcessingBridge** do projeto e, em seguida, clique em **implantar**.</span><span class="sxs-lookup"><span data-stu-id="f0041-245">In Visual Studio Solution Explorer, right-click hello **InvoiceProcessingBridge** project, and then click **Deploy**.</span></span>
3. <span data-ttu-id="f0041-246">Forneça valores hello conforme mostrado na imagem hello e, em seguida, clique em **implantar**.</span><span class="sxs-lookup"><span data-stu-id="f0041-246">Provide hello values as shown in hello image, and then click **Deploy**.</span></span> <span data-ttu-id="f0041-247">Você pode obter credenciais Olá ACS para os serviços do BizTalk clicando **informações de Conexão** do painel de controle de Serviços BizTalk hello.</span><span class="sxs-lookup"><span data-stu-id="f0041-247">You can get hello ACS credentials for BizTalk Services by clicking **Connection Information** from hello BizTalk Services dashboard.</span></span>
   
   ![][11]  
   
   <span data-ttu-id="f0041-248">No painel de saída de hello, copiar o ponto de extremidade de saudação onde Olá ponte EAI é implantado, por exemplo, `https://contosowabs.biztalk.windows.net/default/ProcessInvoiceBridge`.</span><span class="sxs-lookup"><span data-stu-id="f0041-248">From hello output pane, copy hello endpoint where hello EAI bridge is deployed, for example, `https://contosowabs.biztalk.windows.net/default/ProcessInvoiceBridge`.</span></span> <span data-ttu-id="f0041-249">Você precisará dessa URL de ponto de extremidade mais tarde.</span><span class="sxs-lookup"><span data-stu-id="f0041-249">You will need this endpoint URL later.</span></span>  

## <a name="step-4-test-hello-solution"></a><span data-ttu-id="f0041-250">Etapa 4: Testar a solução de saudação</span><span class="sxs-lookup"><span data-stu-id="f0041-250">Step 4: Test hello solution</span></span>
<span data-ttu-id="f0041-251">Neste tópico, vamos examinar como tootest Olá solução usando Olá **Tutorial do cliente** aplicativo fornecido como parte do exemplo hello.</span><span class="sxs-lookup"><span data-stu-id="f0041-251">In this topic, we look at how tootest hello solution by using hello **Tutorial Client** application provided as part of hello sample.</span></span>  

1. <span data-ttu-id="f0041-252">No Visual Studio, pressione F5 toostart Olá **Tutorial do cliente**.</span><span class="sxs-lookup"><span data-stu-id="f0041-252">In Visual Studio, press F5 toostart hello **Tutorial Client**.</span></span>
2. <span data-ttu-id="f0041-253">tela Hello deve ter valores hello pré-populadas da etapa Olá onde criamos Olá filas do barramento de serviço.</span><span class="sxs-lookup"><span data-stu-id="f0041-253">hello screen must have hello values prepopulated from hello step where we created hello Service Bus queues.</span></span> <span data-ttu-id="f0041-254">Clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="f0041-254">Click **Next**.</span></span>
3. <span data-ttu-id="f0041-255">Na próxima janela de hello, forneça as credenciais do ACS para assinatura de Serviços BizTalk e Olá pontos de extremidade onde EAI e EDI (recebimento) pontes implantadas.</span><span class="sxs-lookup"><span data-stu-id="f0041-255">In hello next window, provide ACS credentials for BizTalk Services subscription, and hello endpoints where EAI and EDI (receive) bridges are deployed.</span></span>
   
   <span data-ttu-id="f0041-256">Ponto de extremidade de ponte EAI Olá foi copiado na etapa anterior hello.</span><span class="sxs-lookup"><span data-stu-id="f0041-256">You had copied hello EAI bridge endpoint in hello previous step.</span></span> <span data-ttu-id="f0041-257">Para o ponto de extremidade de ponte, de recebimento de EDI em Olá Portal de Serviços BizTalk, vá toohello contrato > configurações de recebimento > transporte > ponto de extremidade.</span><span class="sxs-lookup"><span data-stu-id="f0041-257">For EDI receive bridge endpoint, in hello BizTalk Services Portal, go toohello agreement > Receive Settings > Transport > Endpoint.</span></span>
   
   ![][12]  
4. <span data-ttu-id="f0041-258">Na próxima janela de hello, em Contoso, clique em Olá **enviar a fatura In-house** botão.</span><span class="sxs-lookup"><span data-stu-id="f0041-258">In hello next window, under Contoso, click hello **Send In-house Invoice** button.</span></span> <span data-ttu-id="f0041-259">No arquivo de saudação abrir a caixa de diálogo, abra o arquivo INHOUSEINVOICE.txt de saudação.</span><span class="sxs-lookup"><span data-stu-id="f0041-259">In hello File open dialog box, open hello INHOUSEINVOICE.txt file.</span></span> <span data-ttu-id="f0041-260">Examine o conteúdo de saudação do arquivo hello e, em seguida, clique em **Okey** toosend fatura de saudação.</span><span class="sxs-lookup"><span data-stu-id="f0041-260">Examine hello content of hello file and then click **OK** toosend hello invoice.</span></span>
   
   ![][13]  
5. <span data-ttu-id="f0041-261">Em alguns Olá de segundos a fatura será recebida na Northwind.</span><span class="sxs-lookup"><span data-stu-id="f0041-261">In a few seconds hello invoice is received at Northwind.</span></span> <span data-ttu-id="f0041-262">Clique em Olá **Exibir mensagem** fatura de saudação do link toosee recebida pela Northwind.</span><span class="sxs-lookup"><span data-stu-id="f0041-262">Click hello **View Message** link toosee hello invoice received by Northwind.</span></span> <span data-ttu-id="f0041-263">Observe como a fatura Olá recebida pela Northwind está no esquema padrão EDIFACT durante a saudação aquela enviada por Contoso estava no esquema in-house.</span><span class="sxs-lookup"><span data-stu-id="f0041-263">Notice how hello invoice received by Northwind is in standard EDIFACT schema while hello one sent by Contoso was an in-house schema.</span></span>
   
   ![][14]  
6. <span data-ttu-id="f0041-264">Selecione a fatura hello e, em seguida, clique em **enviar confirmação**.</span><span class="sxs-lookup"><span data-stu-id="f0041-264">Select hello invoice and then click **Send Acknowledgement**.</span></span> <span data-ttu-id="f0041-265">Na caixa de diálogo Olá pop-up, observe que intercâmbio Olá que ID é a mesma Olá recebida da fatura e hello confirmação enviada.</span><span class="sxs-lookup"><span data-stu-id="f0041-265">In hello dialog box that pops up, notice that hello interchange ID is same in hello received invoice and hello acknowledgement being sent.</span></span> <span data-ttu-id="f0041-266">Clique em Okey em Olá **enviar confirmação** caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="f0041-266">Click OK in hello **Send Acknowledgement** dialog box.</span></span>
   
   ![][15]  
7. <span data-ttu-id="f0041-267">Em alguns segundos, Olá fatura será recebida na Contoso.</span><span class="sxs-lookup"><span data-stu-id="f0041-267">In a few seconds, hello acknowledgement is successfully received at Contoso.</span></span>
   
   ![][16]  

## <a name="step-5-optional-send-edifact-invoice-in-batches"></a><span data-ttu-id="f0041-268">Etapa 5 (opcional): Enviar fatura EDIFACT em lotes</span><span class="sxs-lookup"><span data-stu-id="f0041-268">Step 5 (optional): Send EDIFACT invoice in batches</span></span>
<span data-ttu-id="f0041-269">As pontes EDI dos Serviços BizTalk também dão suporte ao processamento em lotes de mensagens de saída.</span><span class="sxs-lookup"><span data-stu-id="f0041-269">BizTalk Services EDI bridges also supports batching of outgoing messages.</span></span> <span data-ttu-id="f0041-270">Esse recurso é útil para parceiros receptores que preferem tooreceive um lote de mensagens (atendendo a um determinado critério) em vez de mensagens individuais.</span><span class="sxs-lookup"><span data-stu-id="f0041-270">This feature is useful for receiving partners that prefer tooreceive a batch of messages (meeting certain criterion) instead of individual messages.</span></span>

<span data-ttu-id="f0041-271">aspecto mais importante de saudação ao trabalhar com lotes é real de lançamento de lote hello, também chamado de critérios de liberação Olá Olá.</span><span class="sxs-lookup"><span data-stu-id="f0041-271">hello most important aspect when working with batches is hello actual release of hello batch, also called hello release criteria.</span></span> <span data-ttu-id="f0041-272">critérios de liberação de saudação podem ser baseados em como o parceiro receptor Olá quer tooreceive mensagens.</span><span class="sxs-lookup"><span data-stu-id="f0041-272">hello release criteria can be based on how hello receiving partner wants tooreceive messages.</span></span> <span data-ttu-id="f0041-273">Se o lote estiver ativado, Olá ponte EDI não enviará Olá saída mensagem toohello recebendo parceiro até hello critérios de liberação é atendido.</span><span class="sxs-lookup"><span data-stu-id="f0041-273">If batching is enabled, hello EDI bridge does not send hello outgoing message toohello receiving partner until hello release criteria is fulfilled.</span></span> <span data-ttu-id="f0041-274">Por exemplo, um critério de lote baseado no tamanho da mensagem liberará um lote somente quando ' n' mensagens estiverem agrupadas.</span><span class="sxs-lookup"><span data-stu-id="f0041-274">For example, a batching criteria based on message size dispatches a batch only when ‘n’ messages are batched.</span></span> <span data-ttu-id="f0041-275">Um critério de lote também pode ser um baseado em tempo, para que um lote seja enviado em uma hora fixa todo dia.</span><span class="sxs-lookup"><span data-stu-id="f0041-275">A batch criteria can also be time-based, such that a batch is sent at a fixed time every day.</span></span> <span data-ttu-id="f0041-276">Nesta solução, tentamos Olá critérios de acordo com tamanho de mensagem.</span><span class="sxs-lookup"><span data-stu-id="f0041-276">In this solution, we try hello message-size based criteria.</span></span>

1. <span data-ttu-id="f0041-277">No Portal de Serviços BizTalk do hello, clique em contrato Olá criado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="f0041-277">In hello BizTalk Services Portal, click hello agreement you created earlier.</span></span> <span data-ttu-id="f0041-278">Clique em Configurações de Envio > Em lote > Adicionar Lotes.</span><span class="sxs-lookup"><span data-stu-id="f0041-278">Click Send Settings > Batching > Add Batch.</span></span>
2. <span data-ttu-id="f0041-279">Para o nome do lote, digite **InvoiceBatch**, forneça uma descrição e clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="f0041-279">For batch name, enter **InvoiceBatch**, provide a description, and then click **Next**.</span></span>
3. <span data-ttu-id="f0041-280">Especifique os critérios de lote, que definem quais mensagens devem ser agrupadas.</span><span class="sxs-lookup"><span data-stu-id="f0041-280">Specify a batch criteria, that defines which messages must be batched.</span></span> <span data-ttu-id="f0041-281">Nesta solução, agrupamos todas as mensagens.</span><span class="sxs-lookup"><span data-stu-id="f0041-281">In this solution, we batch all messages.</span></span> <span data-ttu-id="f0041-282">Portanto, selecione a opção usar definições avançadas de saudação e digite **1 = 1**.</span><span class="sxs-lookup"><span data-stu-id="f0041-282">So, select hello Use advanced definitions option, and enter **1 = 1**.</span></span> <span data-ttu-id="f0041-283">Essa é uma condição que será sempre verdadeira e, portanto, todas as mensagens serão agrupadas.</span><span class="sxs-lookup"><span data-stu-id="f0041-283">This is a condition which will always be true, and hence all messages will be batched.</span></span> <span data-ttu-id="f0041-284">Clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="f0041-284">Click **Next**.</span></span>
   
   ![][17]  
4. <span data-ttu-id="f0041-285">Especifique um critério de liberação de lote.</span><span class="sxs-lookup"><span data-stu-id="f0041-285">Specify a batch release criteria.</span></span> <span data-ttu-id="f0041-286">Na caixa suspensa do hello, selecione **MessageCountBased**e para **contagem**, especifique **3**.</span><span class="sxs-lookup"><span data-stu-id="f0041-286">From hello drop-box, select **MessageCountBased**, and for **Count**, specify **3**.</span></span> <span data-ttu-id="f0041-287">Isso significa que um lote de três mensagens será enviado tooNorthwind.</span><span class="sxs-lookup"><span data-stu-id="f0041-287">This means that a batch of three messages will be sent tooNorthwind.</span></span> <span data-ttu-id="f0041-288">Clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="f0041-288">Click **Next**.</span></span>
   
   ![][18]  
5. <span data-ttu-id="f0041-289">Revise o resumo de saudação e, em seguida, clique em **salvar**.</span><span class="sxs-lookup"><span data-stu-id="f0041-289">Review hello summary and then click **Save**.</span></span> <span data-ttu-id="f0041-290">Clique em **implantar** tooredeploy contrato de saudação.</span><span class="sxs-lookup"><span data-stu-id="f0041-290">Click **Deploy** tooredeploy hello agreement.</span></span>
6. <span data-ttu-id="f0041-291">Voltar toohello **Tutorial do cliente**, clique em **enviar a fatura In-house**e siga Olá prompts toosend Olá fatura.</span><span class="sxs-lookup"><span data-stu-id="f0041-291">Go back toohello **Tutorial Client**, click **Send In-house Invoice**, and follow hello prompts toosend hello invoice.</span></span> <span data-ttu-id="f0041-292">Você observará que nenhuma fatura foi recebida na Northwind, porque o tamanho de lote de saudação não for atendido.</span><span class="sxs-lookup"><span data-stu-id="f0041-292">You will notice that no invoice is received at Northwind because hello batch size is not met.</span></span> <span data-ttu-id="f0041-293">Repita essa etapa mais duas vezes, para que você tenha três mensagens de faturas enviadas tooNorthwind.</span><span class="sxs-lookup"><span data-stu-id="f0041-293">Repeat this step two more times, so that you have three invoice messages sent tooNorthwind.</span></span> <span data-ttu-id="f0041-294">Isso atende Olá critérios de liberação de lote de 3 mensagens e agora você verá uma fatura na Northwind.</span><span class="sxs-lookup"><span data-stu-id="f0041-294">This satisfies hello batch release criteria of 3 messages and you should now see an invoice at Northwind.</span></span>

<!--Image references-->
[1]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-1.PNG  
[2]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-2.PNG  
[3]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-3.PNG
[4]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-4.PNG  
[5]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-5.PNG  
[6]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-6.PNG  
[7]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-7.PNG  
[8]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-8.PNG
[9]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-9.PNG  
[10]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-10.PNG  
[11]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-11.PNG  
[12]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-12.PNG  
[13]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-13.PNG
[14]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-14.PNG  
[15]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-15.PNG  
[16]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-16.PNG  
[17]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-17.PNG  
[18]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-18.PNG

