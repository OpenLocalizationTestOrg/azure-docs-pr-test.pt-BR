---
title: "Introdução à verificação de conectividade no Observador de Rede do Azure | Microsoft Docs"
description: "Esta página apresenta uma visão geral da capacidade de conectividade do Observador de Rede"
services: network-watcher
documentationcenter: na
author: georgewallace
manager: timlt
editor: 
ms.service: network-watcher
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/11/2017
ms.author: gwallace
ms.openlocfilehash: c29f5afe59f57112fe1f115df6bc53645f3c0d34
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/29/2017
---
# <a name="introduction-to-connectivity-check-in-azure-network-watcher"></a><span data-ttu-id="eb2e4-103">Introdução à verificação de conectividade no Observador de Rede do Azure</span><span class="sxs-lookup"><span data-stu-id="eb2e4-103">Introduction to connectivity check in Azure Network Watcher</span></span>

<span data-ttu-id="eb2e4-104">O recurso de conectividade do Observador de Rede fornece a capacidade de verificar uma conexão TCP direta de uma máquina virtual a uma VM (máquina virtual), FQDN (nome de domínio totalmente qualificado), URI ou endereço IPv4.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-104">The connectivity feature of Network Watcher provides the capability to check a direct TCP connection from a virtual machine to a virtual machine (VM), fully qualified domain name (FQDN), URI, or IPv4 address.</span></span> <span data-ttu-id="eb2e4-105">Os cenários de rede são complexos, são implementados usando Grupos de Segurança de Rede, firewalls, rotas definidas pelo usuário e recursos fornecidos pelo Azure.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-105">Network scenarios are complex, they are implemented using Network Security Groups, firewalls, User-defined routes, and resources provided by Azure.</span></span> <span data-ttu-id="eb2e4-106">Configurações complexas tornam a solução de problemas de conectividade desafiadora.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-106">Complex configurations make troubleshooting connectivity issues challenging.</span></span> <span data-ttu-id="eb2e4-107">O Observador de Rede ajuda a reduzir a quantidade de tempo para localizar e detectar problemas de conectividade.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-107">Network Watcher helps reduce the amount of time to find and detect connectivity issues.</span></span> <span data-ttu-id="eb2e4-108">Os resultados retornados podem fornecer informações sobre se um problema de conectividade é devido a uma plataforma ou um problema de configuração do usuário.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-108">The results returned can provide insights into whether a connectivity issue is due to a platform or a user configuration issue.</span></span> <span data-ttu-id="eb2e4-109">A conectividade pode ser verificada com o [PowerShell](network-watcher-connectivity-powershell.md), a [CLI do Azure](network-watcher-connectivity-cli.md) e a [API REST](network-watcher-connectivity-rest.md).</span><span class="sxs-lookup"><span data-stu-id="eb2e4-109">Connectivity can be checked with [PowerShell](network-watcher-connectivity-powershell.md), [Azure CLI](network-watcher-connectivity-cli.md), and [REST API](network-watcher-connectivity-rest.md).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="eb2e4-110">A verificação de conectividade requer uma extensão de máquina virtual `AzureNetworkWatcherExtension`.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-110">Connectivity check requires a virtual machine extension `AzureNetworkWatcherExtension`.</span></span> <span data-ttu-id="eb2e4-111">Para instalar a extensão em uma VM do Windows, visite [Extensão da máquina virtual do Agente do Observador de Rede do Azure para Windows](../virtual-machines/windows/extensions-nwa.md) e para a VM do Linux, visite [Extensão da máquina virtual do Agente do Observador de Rede do Azure para Linux](../virtual-machines/linux/extensions-nwa.md).</span><span class="sxs-lookup"><span data-stu-id="eb2e4-111">For installing the extension on a Windows VM visit [Azure Network Watcher Agent virtual machine extension for Windows](../virtual-machines/windows/extensions-nwa.md) and for Linux VM visit [Azure Network Watcher Agent virtual machine extension for Linux](../virtual-machines/linux/extensions-nwa.md).</span></span>

## <a name="response"></a><span data-ttu-id="eb2e4-112">Resposta</span><span class="sxs-lookup"><span data-stu-id="eb2e4-112">Response</span></span>

<span data-ttu-id="eb2e4-113">A tabela a seguir mostra as propriedades retornadas quando uma verificação de conectividade conclui a execução.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-113">The following table shows the properties returned when a connectivity check has finished running.</span></span>

|<span data-ttu-id="eb2e4-114">Propriedade</span><span class="sxs-lookup"><span data-stu-id="eb2e4-114">Property</span></span>  |<span data-ttu-id="eb2e4-115">Descrição</span><span class="sxs-lookup"><span data-stu-id="eb2e4-115">Description</span></span>  |
|---------|---------|
|<span data-ttu-id="eb2e4-116">ConnectionStatus</span><span class="sxs-lookup"><span data-stu-id="eb2e4-116">ConnectionStatus</span></span>     | <span data-ttu-id="eb2e4-117">O status da verificação de conectividade.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-117">The status of the connectivity check.</span></span> <span data-ttu-id="eb2e4-118">Os resultados possíveis são **Acessível** e **Inacessível**.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-118">Possible results are **Reachable** and **Unreachable**.</span></span>        |
|<span data-ttu-id="eb2e4-119">AvgLatencyInMs</span><span class="sxs-lookup"><span data-stu-id="eb2e4-119">AvgLatencyInMs</span></span>     | <span data-ttu-id="eb2e4-120">Latência média durante a verificação de conectividade em milissegundos.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-120">Average latency during the connectivity check in milliseconds.</span></span> <span data-ttu-id="eb2e4-121">(Exibido somente se a verificação de status estiver acessível)</span><span class="sxs-lookup"><span data-stu-id="eb2e4-121">(Only shown if check status is reachable)</span></span>        |
|<span data-ttu-id="eb2e4-122">MinLatencyInMs</span><span class="sxs-lookup"><span data-stu-id="eb2e4-122">MinLatencyInMs</span></span>     | <span data-ttu-id="eb2e4-123">Latência mínima durante a verificação de conectividade em milissegundos.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-123">Minimum latency during the connectivity check in milliseconds.</span></span> <span data-ttu-id="eb2e4-124">(Exibido somente se a verificação de status estiver acessível)</span><span class="sxs-lookup"><span data-stu-id="eb2e4-124">(Only shown if check status is reachable)</span></span>        |
|<span data-ttu-id="eb2e4-125">MaxLatencyInMs</span><span class="sxs-lookup"><span data-stu-id="eb2e4-125">MaxLatencyInMs</span></span>     | <span data-ttu-id="eb2e4-126">Latência máxima durante a verificação de conectividade em milissegundos.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-126">Maximum latency during the connectivity check in milliseconds.</span></span> <span data-ttu-id="eb2e4-127">(Exibido somente se a verificação de status estiver acessível)</span><span class="sxs-lookup"><span data-stu-id="eb2e4-127">(Only shown if check status is reachable)</span></span>        |
|<span data-ttu-id="eb2e4-128">ProbesSent</span><span class="sxs-lookup"><span data-stu-id="eb2e4-128">ProbesSent</span></span>     | <span data-ttu-id="eb2e4-129">Número de investigações enviadas durante a verificação.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-129">Number of probes sent during the check.</span></span> <span data-ttu-id="eb2e4-130">O valor máximo é de 100.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-130">Max value is 100.</span></span>        |
|<span data-ttu-id="eb2e4-131">ProbesFailed</span><span class="sxs-lookup"><span data-stu-id="eb2e4-131">ProbesFailed</span></span>     | <span data-ttu-id="eb2e4-132">Número de investigações que falharam durante a verificação.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-132">Number of probes that failed during the check.</span></span> <span data-ttu-id="eb2e4-133">O valor máximo é de 100.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-133">Max value is 100.</span></span>        |
|<span data-ttu-id="eb2e4-134">Hops</span><span class="sxs-lookup"><span data-stu-id="eb2e4-134">Hops</span></span>     | <span data-ttu-id="eb2e4-135">Caminho salto a salto da origem ao destino.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-135">Hop by hop path from source to destination.</span></span>        |
|<span data-ttu-id="eb2e4-136">Hops[].Type</span><span class="sxs-lookup"><span data-stu-id="eb2e4-136">Hops[].Type</span></span>     | <span data-ttu-id="eb2e4-137">Tipo de recurso.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-137">Type of resource.</span></span> <span data-ttu-id="eb2e4-138">Os valores possíveis são **Source**, **VirtualAppliance**, **VnetLocal** e **Internet**.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-138">Possible values are **Source**, **VirtualAppliance**, **VnetLocal**, and **Internet**.</span></span>        |
|<span data-ttu-id="eb2e4-139">Hops[].Id</span><span class="sxs-lookup"><span data-stu-id="eb2e4-139">Hops[].Id</span></span> | <span data-ttu-id="eb2e4-140">Identificador exclusivo do salto.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-140">Unique identifier of the hop.</span></span>|
|<span data-ttu-id="eb2e4-141">Hops[].Address</span><span class="sxs-lookup"><span data-stu-id="eb2e4-141">Hops[].Address</span></span> | <span data-ttu-id="eb2e4-142">Endereço IP do salto.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-142">IP address of the hop.</span></span>|
|<span data-ttu-id="eb2e4-143">Hops[].ResourceId</span><span class="sxs-lookup"><span data-stu-id="eb2e4-143">Hops[].ResourceId</span></span> | <span data-ttu-id="eb2e4-144">ResourceID do salto se o salto for um recurso do Azure.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-144">ResourceID of the hop if the hop is an Azure resource.</span></span> <span data-ttu-id="eb2e4-145">Se for um recurso de Internet, ResourceID será **Internet**.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-145">If it is an internet resource, ResourceID is **Internet**.</span></span> |
|<span data-ttu-id="eb2e4-146">Hops[].NextHopIds</span><span class="sxs-lookup"><span data-stu-id="eb2e4-146">Hops[].NextHopIds</span></span> | <span data-ttu-id="eb2e4-147">O identificador exclusivo do próximo salto dado.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-147">The unique identifier of the next hop taken.</span></span>|
|<span data-ttu-id="eb2e4-148">Hops[].Issues</span><span class="sxs-lookup"><span data-stu-id="eb2e4-148">Hops[].Issues</span></span> | <span data-ttu-id="eb2e4-149">Uma coleção dos problemas encontrados durante a verificação do salto.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-149">A collection of issues that were encountered during the check at that hop.</span></span> <span data-ttu-id="eb2e4-150">Se não houver problemas, o valor ficará em branco.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-150">If there were no issues, the value is blank.</span></span>|
|<span data-ttu-id="eb2e4-151">Hops[].Issues[].Origin</span><span class="sxs-lookup"><span data-stu-id="eb2e4-151">Hops[].Issues[].Origin</span></span> | <span data-ttu-id="eb2e4-152">No salto atual, o ponto em que o problema ocorreu.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-152">At the current hop, where issue occurred.</span></span> <span data-ttu-id="eb2e4-153">Os valores possíveis são:</span><span class="sxs-lookup"><span data-stu-id="eb2e4-153">Possible values are:</span></span><br/> <span data-ttu-id="eb2e4-154">**Entrada** – o problema está no link do salto anterior para o salto atual</span><span class="sxs-lookup"><span data-stu-id="eb2e4-154">**Inbound** - Issue is on the link from the previous hop to the current hop</span></span><br/><span data-ttu-id="eb2e4-155">**Saída** – o problema está no link do salto atual para o próximo salto</span><span class="sxs-lookup"><span data-stu-id="eb2e4-155">**Outbound** - Issue is on the link from the current hop to the next hop</span></span><br/><span data-ttu-id="eb2e4-156">**Local** – problema está no salto atual.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-156">**Local** - Issue is on the current hop.</span></span>|
|<span data-ttu-id="eb2e4-157">Hops[].Issues[].Severity</span><span class="sxs-lookup"><span data-stu-id="eb2e4-157">Hops[].Issues[].Severity</span></span> | <span data-ttu-id="eb2e4-158">A gravidade do problema detectado.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-158">The severity of the issue detected.</span></span> <span data-ttu-id="eb2e4-159">Os valores possíveis são **Erro** e **Aviso**.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-159">Possible values are **Error** and **Warning**.</span></span> |
|<span data-ttu-id="eb2e4-160">Hops[].Issues[].Type</span><span class="sxs-lookup"><span data-stu-id="eb2e4-160">Hops[].Issues[].Type</span></span> |<span data-ttu-id="eb2e4-161">O tipo de problema encontrado.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-161">The type of issue found.</span></span> <span data-ttu-id="eb2e4-162">Os valores possíveis são:</span><span class="sxs-lookup"><span data-stu-id="eb2e4-162">Possible values are:</span></span> <br/><span data-ttu-id="eb2e4-163">**CPU**</span><span class="sxs-lookup"><span data-stu-id="eb2e4-163">**CPU**</span></span><br/><span data-ttu-id="eb2e4-164">**Memória**</span><span class="sxs-lookup"><span data-stu-id="eb2e4-164">**Memory**</span></span><br/><span data-ttu-id="eb2e4-165">**GuestFirewall**</span><span class="sxs-lookup"><span data-stu-id="eb2e4-165">**GuestFirewall**</span></span><br/><span data-ttu-id="eb2e4-166">**DnsResolution**</span><span class="sxs-lookup"><span data-stu-id="eb2e4-166">**DnsResolution**</span></span><br/><span data-ttu-id="eb2e4-167">**NetworkSecurityRule**</span><span class="sxs-lookup"><span data-stu-id="eb2e4-167">**NetworkSecurityRule**</span></span><br/><span data-ttu-id="eb2e4-168">**UserDefinedRoute**</span><span class="sxs-lookup"><span data-stu-id="eb2e4-168">**UserDefinedRoute**</span></span> |
|<span data-ttu-id="eb2e4-169">Hops[].Issues[].Context</span><span class="sxs-lookup"><span data-stu-id="eb2e4-169">Hops[].Issues[].Context</span></span> |<span data-ttu-id="eb2e4-170">Detalhes sobre o problema encontrado.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-170">Details regarding the issue found.</span></span>|
|<span data-ttu-id="eb2e4-171">Hops[].Issues[].Context[].key</span><span class="sxs-lookup"><span data-stu-id="eb2e4-171">Hops[].Issues[].Context[].key</span></span> |<span data-ttu-id="eb2e4-172">Chave do par chave-valor retornado.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-172">Key of the key value pair returned.</span></span>|
|<span data-ttu-id="eb2e4-173">Hops[].Issues[].Context[].value</span><span class="sxs-lookup"><span data-stu-id="eb2e4-173">Hops[].Issues[].Context[].value</span></span> |<span data-ttu-id="eb2e4-174">Valor do par chave-valor retornado.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-174">Value of the key value pair returned.</span></span>|

<span data-ttu-id="eb2e4-175">O seguinte é um exemplo de um problema encontrado em um salto.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-175">The following is an example of an issue found on a hop.</span></span>

```json
"Issues": [
    {
        "Origin": "Outbound",
        "Severity": "Error",
        "Type": "NetworkSecurityRule",
        "Context": [
            {
                "key": "RuleName",
                "value": "UserRule_Port80"
            }
        ]
    }
]
```
## <a name="fault-types"></a><span data-ttu-id="eb2e4-176">Tipos de Falha</span><span class="sxs-lookup"><span data-stu-id="eb2e4-176">Fault types</span></span>

<span data-ttu-id="eb2e4-177">A verificação de conectividade retorna tipos de falha sobre a conexão.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-177">The connectivity check returns fault types about the connection.</span></span> <span data-ttu-id="eb2e4-178">A tabela a seguir fornece uma lista dos tipos de falhas atuais retornados.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-178">The following table provides a list of the current fault types returned.</span></span>

|<span data-ttu-id="eb2e4-179">Tipo</span><span class="sxs-lookup"><span data-stu-id="eb2e4-179">Type</span></span>  |<span data-ttu-id="eb2e4-180">Descrição</span><span class="sxs-lookup"><span data-stu-id="eb2e4-180">Description</span></span>  |
|---------|---------|
|<span data-ttu-id="eb2e4-181">CPU</span><span class="sxs-lookup"><span data-stu-id="eb2e4-181">CPU</span></span>     | <span data-ttu-id="eb2e4-182">Alta utilização da CPU.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-182">High CPU utilization.</span></span>       |
|<span data-ttu-id="eb2e4-183">Memória</span><span class="sxs-lookup"><span data-stu-id="eb2e4-183">Memory</span></span>     | <span data-ttu-id="eb2e4-184">Alta utilização de memória.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-184">High Memory utilization.</span></span>       |
|<span data-ttu-id="eb2e4-185">GuestFirewall</span><span class="sxs-lookup"><span data-stu-id="eb2e4-185">GuestFirewall</span></span>     | <span data-ttu-id="eb2e4-186">O tráfego é bloqueado devido a uma configuração de firewall da máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-186">Traffic is blocked due to a virtual machine firewall configuration.</span></span>        |
|<span data-ttu-id="eb2e4-187">DNSResolution</span><span class="sxs-lookup"><span data-stu-id="eb2e4-187">DNSResolution</span></span>     | <span data-ttu-id="eb2e4-188">Falha na resolução DNS para o endereço de destino.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-188">DNS resolution failed for the destination address.</span></span>        |
|<span data-ttu-id="eb2e4-189">NetworkSecurityRule</span><span class="sxs-lookup"><span data-stu-id="eb2e4-189">NetworkSecurityRule</span></span>    | <span data-ttu-id="eb2e4-190">O tráfego é bloqueado por uma Regra NSG (a Regra é retornada)</span><span class="sxs-lookup"><span data-stu-id="eb2e4-190">Traffic is blocked by an NSG Rule (Rule is returned)</span></span>        |
|<span data-ttu-id="eb2e4-191">UserDefinedRoute</span><span class="sxs-lookup"><span data-stu-id="eb2e4-191">UserDefinedRoute</span></span>|<span data-ttu-id="eb2e4-192">O tráfego é descartado devido a uma rota do sistema ou definida pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="eb2e4-192">Traffic is dropped due to a user defined or system route.</span></span> |

### <a name="next-steps"></a><span data-ttu-id="eb2e4-193">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="eb2e4-193">Next steps</span></span>

<span data-ttu-id="eb2e4-194">Saiba como verificar a conectividade a um recurso visitando: [verificar a conectividade com o Observador de Rede do Azure](network-watcher-connectivity-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="eb2e4-194">Learn how to verify connectivity to a resource by visiting: [Check connectivity with Azure Network Watcher](network-watcher-connectivity-powershell.md).</span></span>

<!--Image references-->
[1]: ./media/network-watcher-next-hop-overview/figure1.png

