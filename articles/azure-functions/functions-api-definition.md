---
title: "metadados de aaaOpenAPI em funções do Azure | Microsoft Docs"
description: "Visão geral do suporte OpenAPI em Azure Functions"
services: functions
documentationcenter: 
author: alexkarcher-msft
manager: erikre
editor: 
ms.assetid: 
ms.service: functions
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 03/23/2017
ms.author: alkarche
ms.openlocfilehash: fff8f14110469a002a6c9dca03f641672003a3a1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="openapi-20-metadata-support-in-azure-functions-preview"></a><span data-ttu-id="d5493-103">Suporte aos metadados de OpenAPI 2.0 no Azure Functions (versão prévia)</span><span class="sxs-lookup"><span data-stu-id="d5493-103">OpenAPI 2.0 metadata support in Azure Functions (preview)</span></span>
<span data-ttu-id="d5493-104">OpenAPI 2.0 (anteriormente conhecida como Swagger) suporte a metadados em funções do Azure é um recurso de visualização que você pode usar a definição de toowrite um 2.0 OpenAPI dentro de um aplicativo de função.</span><span class="sxs-lookup"><span data-stu-id="d5493-104">OpenAPI 2.0 (formerly Swagger) metadata support in Azure Functions is a preview feature that you can use toowrite an OpenAPI 2.0 definition inside a function app.</span></span> <span data-ttu-id="d5493-105">Em seguida, você pode hospedar esse arquivo usando o aplicativo de função hello.</span><span class="sxs-lookup"><span data-stu-id="d5493-105">You can then host that file by using hello function app.</span></span>

<span data-ttu-id="d5493-106">[Metadados OpenAPI](http://swagger.io/) permite que uma função que está hospedando uma API REST toobe consumidos por uma ampla variedade de outros softwares.</span><span class="sxs-lookup"><span data-stu-id="d5493-106">[OpenAPI metadata](http://swagger.io/) allows a function that's hosting a REST API toobe consumed by a wide variety of other software.</span></span> <span data-ttu-id="d5493-107">Este software inclui a ofertas da Microsoft como o PowerApps e hello [recurso de aplicativos de API do serviço de aplicativo do Azure](https://docs.microsoft.com/azure/app-service-api/app-service-api-dotnet-get-started#a-idcodegena-generate-client-code-for-the-data-tier), ferramentas de desenvolvedor de terceiros, como [carteiro](https://www.getpostman.com/docs/importing_swagger), e [muitos pacotes mais](http://swagger.io/tools/).</span><span class="sxs-lookup"><span data-stu-id="d5493-107">This software includes Microsoft offerings like PowerApps and hello [API Apps feature of Azure App Service](https://docs.microsoft.com/azure/app-service-api/app-service-api-dotnet-get-started#a-idcodegena-generate-client-code-for-the-data-tier), third-party developer tools like [Postman](https://www.getpostman.com/docs/importing_swagger), and [many more packages](http://swagger.io/tools/).</span></span>

[!INCLUDE [intro](../../includes/functions-bindings-intro.md)]

>[!TIP]
><span data-ttu-id="d5493-108">É recomendável começar com hello [tutorial de Introdução](./functions-api-definition-getting-started.md) e, em seguida, retornar toothis documento toolearn mais sobre recursos específicos.</span><span class="sxs-lookup"><span data-stu-id="d5493-108">We recommend starting with hello [getting started tutorial](./functions-api-definition-getting-started.md) and then returning toothis document toolearn more about specific features.</span></span>

## <span data-ttu-id="d5493-109"><a name="enable"></a>Habilitar o suporte à definição de OpenAPI</span><span class="sxs-lookup"><span data-stu-id="d5493-109"><a name="enable"></a>Enable OpenAPI definition support</span></span>
<span data-ttu-id="d5493-110">Você pode configurar todas as configurações de OpenAPI em Olá **de definição de API** página em seu aplicativo de função **recursos de plataforma**.</span><span class="sxs-lookup"><span data-stu-id="d5493-110">You can configure all OpenAPI settings on hello **API Definition** page in your function app's **Platform features**.</span></span>

<span data-ttu-id="d5493-111">geração de saudação tooenable de uma definição de OpenAPI hospedada e uma definição de início rápido, defina **origem de definição de API** muito**função (visualização)**.</span><span class="sxs-lookup"><span data-stu-id="d5493-111">tooenable hello generation of a hosted OpenAPI definition and a quickstart definition, set **API definition source** too**Function (Preview)**.</span></span> <span data-ttu-id="d5493-112">**URL externa** permite que sua função toouse uma definição de OpenAPI tem hospedado em outro lugar.</span><span class="sxs-lookup"><span data-stu-id="d5493-112">**External URL** allows your function toouse an OpenAPI definition that's hosted elsewhere.</span></span>

## <span data-ttu-id="d5493-113"><a name="generate-definition"></a>Gerar um esqueleto de Swagger dos metadados de sua função</span><span class="sxs-lookup"><span data-stu-id="d5493-113"><a name="generate-definition"></a>Generate a Swagger skeleton from your function's metadata</span></span>
<span data-ttu-id="d5493-114">Um modelo pode ajudar você a começar a gravar sua primeira definição de OpenAPI.</span><span class="sxs-lookup"><span data-stu-id="d5493-114">A template can help you start writing your first OpenAPI definition.</span></span> <span data-ttu-id="d5493-115">recurso de modelo de definição de saudação cria uma definição de OpenAPI esparsa usando todos os metadados de saudação no arquivo de function.json Olá para cada uma das suas funções de gatilho HTTP.</span><span class="sxs-lookup"><span data-stu-id="d5493-115">hello definition template feature creates a sparse OpenAPI definition by using all hello metadata in hello function.json file for each of your HTTP trigger functions.</span></span> <span data-ttu-id="d5493-116">Você precisará toofill em mais informações sobre a API de saudação [OpenAPI especificação](http://swagger.io/specification/), como modelos de solicitação e resposta.</span><span class="sxs-lookup"><span data-stu-id="d5493-116">You'll need toofill in more information about your API from hello [OpenAPI specification](http://swagger.io/specification/), such as request and response templates.</span></span>

<span data-ttu-id="d5493-117">Para obter instruções passo a passo, consulte Olá [tutorial de Introdução](./functions-api-definition-getting-started.md).</span><span class="sxs-lookup"><span data-stu-id="d5493-117">For step-by-step instructions, see hello [getting started tutorial](./functions-api-definition-getting-started.md).</span></span>

### <span data-ttu-id="d5493-118"><a name="templates"></a>Modelos disponíveis</span><span class="sxs-lookup"><span data-stu-id="d5493-118"><a name="templates"></a>Available templates</span></span>

|<span data-ttu-id="d5493-119">Nome</span><span class="sxs-lookup"><span data-stu-id="d5493-119">Name</span></span>| <span data-ttu-id="d5493-120">Descrição</span><span class="sxs-lookup"><span data-stu-id="d5493-120">Description</span></span> |
|:-----|:-----|
|<span data-ttu-id="d5493-121">Definição gerada</span><span class="sxs-lookup"><span data-stu-id="d5493-121">Generated Definition</span></span>|<span data-ttu-id="d5493-122">Uma definição de OpenAPI com o número máximo de saudação de informações que podem ser inferidos de metadados existentes da função hello.</span><span class="sxs-lookup"><span data-stu-id="d5493-122">An OpenAPI definition with hello maximum amount of information that can be inferred from hello function's existing metadata.</span></span>|

### <span data-ttu-id="d5493-123"><a name="quickstart-details"></a>Metadados incluídos na definição de saudação gerada</span><span class="sxs-lookup"><span data-stu-id="d5493-123"><a name="quickstart-details"></a>Included metadata in hello generated definition</span></span>

<span data-ttu-id="d5493-124">Olá representa da tabela a seguir Olá configurações do portal do Azure e os dados correspondentes no function.json conforme é mapeada toohello gerado Swagger esqueleto.</span><span class="sxs-lookup"><span data-stu-id="d5493-124">hello following table represents hello Azure portal settings and corresponding data in function.json as it is mapped toohello generated Swagger skeleton.</span></span>

|<span data-ttu-id="d5493-125">Swagger.json</span><span class="sxs-lookup"><span data-stu-id="d5493-125">Swagger.json</span></span>|<span data-ttu-id="d5493-126">Interface do usuário do portal</span><span class="sxs-lookup"><span data-stu-id="d5493-126">Portal UI</span></span>|<span data-ttu-id="d5493-127">Function.json</span><span class="sxs-lookup"><span data-stu-id="d5493-127">Function.json</span></span>|
|:----|:-----|:-----|
|[<span data-ttu-id="d5493-128">Host</span><span class="sxs-lookup"><span data-stu-id="d5493-128">Host</span></span>](http://swagger.io/specification/#fixed-fields-15)|<span data-ttu-id="d5493-129">**Configurações do aplicativo de funções** > **Configurações do Serviço de Aplicativo** > **Visão geral** > **URL**</span><span class="sxs-lookup"><span data-stu-id="d5493-129">**Function app settings** > **App Service settings** > **Overview** > **URL**</span></span>|<span data-ttu-id="d5493-130">*Não presente*</span><span class="sxs-lookup"><span data-stu-id="d5493-130">*Not present*</span></span>
|[<span data-ttu-id="d5493-131">Caminhos</span><span class="sxs-lookup"><span data-stu-id="d5493-131">Paths</span></span>](http://swagger.io/specification/#paths-object-29)|<span data-ttu-id="d5493-132">**Integrar** > **Métodos HTTP selecionados**</span><span class="sxs-lookup"><span data-stu-id="d5493-132">**Integrate** > **Selected HTTP methods**</span></span>|<span data-ttu-id="d5493-133">Associações: rota</span><span class="sxs-lookup"><span data-stu-id="d5493-133">Bindings: Route</span></span>
|[<span data-ttu-id="d5493-134">Item de caminho</span><span class="sxs-lookup"><span data-stu-id="d5493-134">Path Item</span></span>](http://swagger.io/specification/#path-item-object-32)|<span data-ttu-id="d5493-135">**Integrar** > **Modelos de rota**</span><span class="sxs-lookup"><span data-stu-id="d5493-135">**Integrate** > **Route template**</span></span>|<span data-ttu-id="d5493-136">Associações: métodos</span><span class="sxs-lookup"><span data-stu-id="d5493-136">Bindings: Methods</span></span>
|[<span data-ttu-id="d5493-137">Segurança</span><span class="sxs-lookup"><span data-stu-id="d5493-137">Security</span></span>](http://swagger.io/specification/#security-scheme-object-112)|<span data-ttu-id="d5493-138">**Chaves**</span><span class="sxs-lookup"><span data-stu-id="d5493-138">**Keys**</span></span>|<span data-ttu-id="d5493-139">*Não presente*</span><span class="sxs-lookup"><span data-stu-id="d5493-139">*Not present*</span></span>|
|<span data-ttu-id="d5493-140">operationID*</span><span class="sxs-lookup"><span data-stu-id="d5493-140">operationID*</span></span>|<span data-ttu-id="d5493-141">**Rota + Verbos permitidos**</span><span class="sxs-lookup"><span data-stu-id="d5493-141">**Route + Allowed verbs**</span></span>|<span data-ttu-id="d5493-142">Rota + verbos permitidos</span><span class="sxs-lookup"><span data-stu-id="d5493-142">Route + Allowed Verbs</span></span>|

<span data-ttu-id="d5493-143">\*ID da operação Olá é necessária apenas para integração com o PowerApps e fluxo.</span><span class="sxs-lookup"><span data-stu-id="d5493-143">\*hello operation ID is required only for integrating with PowerApps and Flow.</span></span>
> [!NOTE]
> <span data-ttu-id="d5493-144">extensão de x-ms-resumo de saudação fornece um nome para exibição no fluxo de aplicativos lógicos e PowerApps.</span><span class="sxs-lookup"><span data-stu-id="d5493-144">hello x-ms-summary extension provides a display name in Logic Apps, PowerApps, and Flow.</span></span>
>
> <span data-ttu-id="d5493-145">mais, consulte toolearn [personalizar sua definição de Swagger PowerApps](https://powerapps.microsoft.com/tutorials/customapi-how-to-swagger/).</span><span class="sxs-lookup"><span data-stu-id="d5493-145">toolearn more, see [Customize your Swagger definition for PowerApps](https://powerapps.microsoft.com/tutorials/customapi-how-to-swagger/).</span></span>

## <span data-ttu-id="d5493-146"><a name="CICD"></a>Use CI/CD tooset uma API definição</span><span class="sxs-lookup"><span data-stu-id="d5493-146"><a name="CICD"></a>Use CI/CD tooset an API definition</span></span>

 <span data-ttu-id="d5493-147">Você deve habilitar API definição hospedagem no portal de saudação antes de habilitar toomodify de controle do código-fonte sua definição de API de controle de origem.</span><span class="sxs-lookup"><span data-stu-id="d5493-147">You must enable API definition hosting in hello portal before you enable source control toomodify your API definition from source control.</span></span> <span data-ttu-id="d5493-148">Siga estas instruções:</span><span class="sxs-lookup"><span data-stu-id="d5493-148">Follow these instructions:</span></span>

1. <span data-ttu-id="d5493-149">Procurar muito**de definição de API (visualização)** em suas configurações de aplicativo de função.</span><span class="sxs-lookup"><span data-stu-id="d5493-149">Browse too**API Definition (preview)** in your function app settings.</span></span>
  1. <span data-ttu-id="d5493-150">Definir **origem de definição de API** muito**função**.</span><span class="sxs-lookup"><span data-stu-id="d5493-150">Set **API definition source** too**Function**.</span></span>
  1. <span data-ttu-id="d5493-151">Clique em **modelo de definição de API gerar** e **salvar** toocreate uma definição de modelo para modificar posteriormente.</span><span class="sxs-lookup"><span data-stu-id="d5493-151">Click **Generate API definition template** and then **Save** toocreate a template definition for modifying later.</span></span>
  1. <span data-ttu-id="d5493-152">Anote a URL e a chave de definição da API.</span><span class="sxs-lookup"><span data-stu-id="d5493-152">Note your API definition URL and key.</span></span>
1. <span data-ttu-id="d5493-153">[Configurar a integração contínua/implantação contínua(CI/CD)](https://docs.microsoft.com/azure/azure-functions/functions-continuous-deployment#continuous-deployment-requirements).</span><span class="sxs-lookup"><span data-stu-id="d5493-153">[Set up continuous integration/continuous deployment (CI/CD)](https://docs.microsoft.com/azure/azure-functions/functions-continuous-deployment#continuous-deployment-requirements).</span></span>
2. <span data-ttu-id="d5493-154">Modifique o swagger.json no controle do código-fonte em \site\wwwroot\.azurefunctions\swagger\swagger.json.</span><span class="sxs-lookup"><span data-stu-id="d5493-154">Modify swagger.json in source control at \site\wwwroot\.azurefunctions\swagger\swagger.json.</span></span>

<span data-ttu-id="d5493-155">Agora, as alterações tooswagger.json no seu repositório são hospedados por seu aplicativo de função na URL de definição de saudação API e chave que você anotou na etapa 1.c.</span><span class="sxs-lookup"><span data-stu-id="d5493-155">Now, changes tooswagger.json in your repository are hosted by your function app at hello API definition URL and key that you noted in step 1.c.</span></span>

## <a name="next-steps"></a><span data-ttu-id="d5493-156">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="d5493-156">Next steps</span></span>
* <span data-ttu-id="d5493-157">[Tutorial de introdução](functions-api-definition-getting-started.md).</span><span class="sxs-lookup"><span data-stu-id="d5493-157">[Getting started tutorial](functions-api-definition-getting-started.md).</span></span> <span data-ttu-id="d5493-158">Tente toosee nosso passo a passo uma definição de OpenAPI em ação.</span><span class="sxs-lookup"><span data-stu-id="d5493-158">Try our walkthrough toosee an OpenAPI definition in action.</span></span>
* <span data-ttu-id="d5493-159">[Repositório do GitHub do Azure Functions](https://github.com/Azure/Azure-Functions/).</span><span class="sxs-lookup"><span data-stu-id="d5493-159">[Azure Functions GitHub repository](https://github.com/Azure/Azure-Functions/).</span></span> <span data-ttu-id="d5493-160">Check-out Olá funções repositório toogive nos comentários sobre a visualização de suporte de definição de saudação API.</span><span class="sxs-lookup"><span data-stu-id="d5493-160">Check out hello Functions repository toogive us feedback on hello API definition support preview.</span></span> <span data-ttu-id="d5493-161">Torne um problema do GitHub para qualquer coisa que você deseja toosee atualizado.</span><span class="sxs-lookup"><span data-stu-id="d5493-161">Make a GitHub issue for anything you want toosee updated.</span></span>
* <span data-ttu-id="d5493-162">[Referência do desenvolvedor do Azure Functions](functions-reference.md).</span><span class="sxs-lookup"><span data-stu-id="d5493-162">[Azure Functions developer reference](functions-reference.md).</span></span> <span data-ttu-id="d5493-163">Saiba mais sobre a codificação de funções e definição de gatilhos e associações.</span><span class="sxs-lookup"><span data-stu-id="d5493-163">Learn about coding functions and defining triggers and bindings.</span></span>
