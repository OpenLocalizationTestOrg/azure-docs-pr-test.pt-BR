---
title: Metadados de OpenAPI no Azure Functions | Microsoft Docs
description: "Visão geral do suporte OpenAPI em Azure Functions"
services: functions
documentationcenter: 
author: alexkarcher-msft
manager: erikre
editor: 
ms.assetid: 
ms.service: functions
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 03/23/2017
ms.author: alkarche
ms.openlocfilehash: e426e56bcac30c740e86d620dadf291fe31e3e10
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/29/2017
---
# <a name="openapi-20-metadata-support-in-azure-functions-preview"></a><span data-ttu-id="55270-103">Suporte aos metadados de OpenAPI 2.0 no Azure Functions (versão prévia)</span><span class="sxs-lookup"><span data-stu-id="55270-103">OpenAPI 2.0 metadata support in Azure Functions (preview)</span></span>
<span data-ttu-id="55270-104">O suporte aos metadados de OpenAPI 2.0 (conhecido antes como Swagger) no Azure Functions é um recurso de visualização que você pode usar para gravar uma definição de OpenAPI 2.0 dentro de um aplicativo de funções.</span><span class="sxs-lookup"><span data-stu-id="55270-104">OpenAPI 2.0 (formerly Swagger) metadata support in Azure Functions is a preview feature that you can use to write an OpenAPI 2.0 definition inside a function app.</span></span> <span data-ttu-id="55270-105">Depois, você pode hospedar esse arquivo usando o aplicativo de funções.</span><span class="sxs-lookup"><span data-stu-id="55270-105">You can then host that file by using the function app.</span></span>

<span data-ttu-id="55270-106">[Metadados de OpenAPI](http://swagger.io/) permitem que uma função que hospeda uma API REST seja consumida por vários outros softwares.</span><span class="sxs-lookup"><span data-stu-id="55270-106">[OpenAPI metadata](http://swagger.io/) allows a function that's hosting a REST API to be consumed by a wide variety of other software.</span></span> <span data-ttu-id="55270-107">Entre esses softwares estão as ofertas da Microsoft como o PowerApps e o [recurso de Aplicativos de API do Serviço de Aplicativo do Azure](https://docs.microsoft.com/azure/app-service-api/app-service-api-dotnet-get-started#a-idcodegena-generate-client-code-for-the-data-tier), ferramentas de desenvolvedor de terceiros, como [Postman](https://www.getpostman.com/docs/importing_swagger) e [muitos outros pacotes](http://swagger.io/tools/).</span><span class="sxs-lookup"><span data-stu-id="55270-107">This software includes Microsoft offerings like PowerApps and the [API Apps feature of Azure App Service](https://docs.microsoft.com/azure/app-service-api/app-service-api-dotnet-get-started#a-idcodegena-generate-client-code-for-the-data-tier), third-party developer tools like [Postman](https://www.getpostman.com/docs/importing_swagger), and [many more packages](http://swagger.io/tools/).</span></span>

[!INCLUDE [intro](../../includes/functions-bindings-intro.md)]

>[!TIP]
><span data-ttu-id="55270-108">É recomendável iniciar com o [tutorial de introdução](./functions-api-definition-getting-started.md) e, em seguida, retornar a este documento para saber mais sobre recursos específicos.</span><span class="sxs-lookup"><span data-stu-id="55270-108">We recommend starting with the [getting started tutorial](./functions-api-definition-getting-started.md) and then returning to this document to learn more about specific features.</span></span>

## <span data-ttu-id="55270-109"><a name="enable"></a>Habilitar o suporte à definição de OpenAPI</span><span class="sxs-lookup"><span data-stu-id="55270-109"><a name="enable"></a>Enable OpenAPI definition support</span></span>
<span data-ttu-id="55270-110">Você pode definir todas as configurações de OpenAPI na página **Definição de API** nos **Recursos da plataforma** de seu aplicativo de funções.</span><span class="sxs-lookup"><span data-stu-id="55270-110">You can configure all OpenAPI settings on the **API Definition** page in your function app's **Platform features**.</span></span>

<span data-ttu-id="55270-111">Para habilitar a geração de uma definição de OpenAPI hospedada e uma definição de início rápido, defina **Origem de definição da API** para **Função (Versão prévia)**.</span><span class="sxs-lookup"><span data-stu-id="55270-111">To enable the generation of a hosted OpenAPI definition and a quickstart definition, set **API definition source** to **Function (Preview)**.</span></span> <span data-ttu-id="55270-112">**URL Externa** permite que sua função use uma definição de OpenAPI que é hospedada em outro lugar.</span><span class="sxs-lookup"><span data-stu-id="55270-112">**External URL** allows your function to use an OpenAPI definition that's hosted elsewhere.</span></span>

## <span data-ttu-id="55270-113"><a name="generate-definition"></a>Gerar um esqueleto de Swagger dos metadados de sua função</span><span class="sxs-lookup"><span data-stu-id="55270-113"><a name="generate-definition"></a>Generate a Swagger skeleton from your function's metadata</span></span>
<span data-ttu-id="55270-114">Um modelo pode ajudar você a começar a gravar sua primeira definição de OpenAPI.</span><span class="sxs-lookup"><span data-stu-id="55270-114">A template can help you start writing your first OpenAPI definition.</span></span> <span data-ttu-id="55270-115">O recurso de modelo de definição cria uma definição de OpenAPI esparsa usando todos os metadados no arquivo function.json para cada uma de suas funções de gatilho HTTP.</span><span class="sxs-lookup"><span data-stu-id="55270-115">The definition template feature creates a sparse OpenAPI definition by using all the metadata in the function.json file for each of your HTTP trigger functions.</span></span> <span data-ttu-id="55270-116">Você precisará preencher mais informações sobre sua API na [especificação de OpenAPI](http://swagger.io/specification/), como modelos de solicitação e resposta.</span><span class="sxs-lookup"><span data-stu-id="55270-116">You'll need to fill in more information about your API from the [OpenAPI specification](http://swagger.io/specification/), such as request and response templates.</span></span>

<span data-ttu-id="55270-117">Para obter instruções passo a passo, confira este [tutorial de introdução](./functions-api-definition-getting-started.md).</span><span class="sxs-lookup"><span data-stu-id="55270-117">For step-by-step instructions, see the [getting started tutorial](./functions-api-definition-getting-started.md).</span></span>

### <span data-ttu-id="55270-118"><a name="templates"></a>Modelos disponíveis</span><span class="sxs-lookup"><span data-stu-id="55270-118"><a name="templates"></a>Available templates</span></span>

|<span data-ttu-id="55270-119">Nome</span><span class="sxs-lookup"><span data-stu-id="55270-119">Name</span></span>| <span data-ttu-id="55270-120">Descrição</span><span class="sxs-lookup"><span data-stu-id="55270-120">Description</span></span> |
|:-----|:-----|
|<span data-ttu-id="55270-121">Definição gerada</span><span class="sxs-lookup"><span data-stu-id="55270-121">Generated Definition</span></span>|<span data-ttu-id="55270-122">Uma definição de OpenAPI com a quantidade máxima de informações que podem ser inferidas de metadados existentes da função.</span><span class="sxs-lookup"><span data-stu-id="55270-122">An OpenAPI definition with the maximum amount of information that can be inferred from the function's existing metadata.</span></span>|

### <span data-ttu-id="55270-123"><a name="quickstart-details"></a>Metadados incluídos na definição gerada</span><span class="sxs-lookup"><span data-stu-id="55270-123"><a name="quickstart-details"></a>Included metadata in the generated definition</span></span>

<span data-ttu-id="55270-124">A tabela a seguir representa as configurações do Portal do Azure e dados correspondentes no function.json conforme ele são mapeados para o esqueleto de Swagger gerado.</span><span class="sxs-lookup"><span data-stu-id="55270-124">The following table represents the Azure portal settings and corresponding data in function.json as it is mapped to the generated Swagger skeleton.</span></span>

|<span data-ttu-id="55270-125">Swagger.json</span><span class="sxs-lookup"><span data-stu-id="55270-125">Swagger.json</span></span>|<span data-ttu-id="55270-126">Interface do usuário do portal</span><span class="sxs-lookup"><span data-stu-id="55270-126">Portal UI</span></span>|<span data-ttu-id="55270-127">Function.json</span><span class="sxs-lookup"><span data-stu-id="55270-127">Function.json</span></span>|
|:----|:-----|:-----|
|[<span data-ttu-id="55270-128">Host</span><span class="sxs-lookup"><span data-stu-id="55270-128">Host</span></span>](http://swagger.io/specification/#fixed-fields-15)|<span data-ttu-id="55270-129">**Configurações do aplicativo de funções** > **Configurações do Serviço de Aplicativo** > **Visão geral** > **URL**</span><span class="sxs-lookup"><span data-stu-id="55270-129">**Function app settings** > **App Service settings** > **Overview** > **URL**</span></span>|<span data-ttu-id="55270-130">*Não presente*</span><span class="sxs-lookup"><span data-stu-id="55270-130">*Not present*</span></span>
|[<span data-ttu-id="55270-131">Caminhos</span><span class="sxs-lookup"><span data-stu-id="55270-131">Paths</span></span>](http://swagger.io/specification/#paths-object-29)|<span data-ttu-id="55270-132">**Integrar** > **Métodos HTTP selecionados**</span><span class="sxs-lookup"><span data-stu-id="55270-132">**Integrate** > **Selected HTTP methods**</span></span>|<span data-ttu-id="55270-133">Associações: rota</span><span class="sxs-lookup"><span data-stu-id="55270-133">Bindings: Route</span></span>
|[<span data-ttu-id="55270-134">Item de caminho</span><span class="sxs-lookup"><span data-stu-id="55270-134">Path Item</span></span>](http://swagger.io/specification/#path-item-object-32)|<span data-ttu-id="55270-135">**Integrar** > **Modelos de rota**</span><span class="sxs-lookup"><span data-stu-id="55270-135">**Integrate** > **Route template**</span></span>|<span data-ttu-id="55270-136">Associações: métodos</span><span class="sxs-lookup"><span data-stu-id="55270-136">Bindings: Methods</span></span>
|[<span data-ttu-id="55270-137">Segurança</span><span class="sxs-lookup"><span data-stu-id="55270-137">Security</span></span>](http://swagger.io/specification/#security-scheme-object-112)|<span data-ttu-id="55270-138">**Chaves**</span><span class="sxs-lookup"><span data-stu-id="55270-138">**Keys**</span></span>|<span data-ttu-id="55270-139">*Não presente*</span><span class="sxs-lookup"><span data-stu-id="55270-139">*Not present*</span></span>|
|<span data-ttu-id="55270-140">operationID*</span><span class="sxs-lookup"><span data-stu-id="55270-140">operationID*</span></span>|<span data-ttu-id="55270-141">**Rota + Verbos permitidos**</span><span class="sxs-lookup"><span data-stu-id="55270-141">**Route + Allowed verbs**</span></span>|<span data-ttu-id="55270-142">Rota + verbos permitidos</span><span class="sxs-lookup"><span data-stu-id="55270-142">Route + Allowed Verbs</span></span>|

<span data-ttu-id="55270-143">\*A ID da operação só é necessário para a integração com PowerApps e Flow.</span><span class="sxs-lookup"><span data-stu-id="55270-143">\*The operation ID is required only for integrating with PowerApps and Flow.</span></span>
> [!NOTE]
> <span data-ttu-id="55270-144">A extensão x-ms-summary fornece um nome de exibição nos Aplicativos Lógicos, PowerApps e Flow.</span><span class="sxs-lookup"><span data-stu-id="55270-144">The x-ms-summary extension provides a display name in Logic Apps, PowerApps, and Flow.</span></span>
>
> <span data-ttu-id="55270-145">Para saber mais, confira [Personalizar sua definição de Swagger para PowerApps](https://powerapps.microsoft.com/tutorials/customapi-how-to-swagger/).</span><span class="sxs-lookup"><span data-stu-id="55270-145">To learn more, see [Customize your Swagger definition for PowerApps](https://powerapps.microsoft.com/tutorials/customapi-how-to-swagger/).</span></span>

## <span data-ttu-id="55270-146"><a name="CICD"></a>Usar o CI/CD para configurar uma definição de API</span><span class="sxs-lookup"><span data-stu-id="55270-146"><a name="CICD"></a>Use CI/CD to set an API definition</span></span>

 <span data-ttu-id="55270-147">Você deve habilitar a hospedagem de definição de API no portal antes de habilitar o controle de código-fonte para modificar sua definição da API do controle do código-fonte.</span><span class="sxs-lookup"><span data-stu-id="55270-147">You must enable API definition hosting in the portal before you enable source control to modify your API definition from source control.</span></span> <span data-ttu-id="55270-148">Siga estas instruções:</span><span class="sxs-lookup"><span data-stu-id="55270-148">Follow these instructions:</span></span>

1. <span data-ttu-id="55270-149">Navegue até **Definição de API (prévia)** em suas configurações de aplicativo de funções.</span><span class="sxs-lookup"><span data-stu-id="55270-149">Browse to **API Definition (preview)** in your function app settings.</span></span>
  1. <span data-ttu-id="55270-150">Definir **Origem de definição de API** como **Função**.</span><span class="sxs-lookup"><span data-stu-id="55270-150">Set **API definition source** to **Function**.</span></span>
  1. <span data-ttu-id="55270-151">Clique em **Gerar modelo de definição de API** e depois em **Salvar** para criar uma definição de modelo a fim de modificar posteriormente.</span><span class="sxs-lookup"><span data-stu-id="55270-151">Click **Generate API definition template** and then **Save** to create a template definition for modifying later.</span></span>
  1. <span data-ttu-id="55270-152">Anote a URL e a chave de definição da API.</span><span class="sxs-lookup"><span data-stu-id="55270-152">Note your API definition URL and key.</span></span>
1. <span data-ttu-id="55270-153">[Configurar a integração contínua/implantação contínua(CI/CD)](https://docs.microsoft.com/azure/azure-functions/functions-continuous-deployment#continuous-deployment-requirements).</span><span class="sxs-lookup"><span data-stu-id="55270-153">[Set up continuous integration/continuous deployment (CI/CD)](https://docs.microsoft.com/azure/azure-functions/functions-continuous-deployment#continuous-deployment-requirements).</span></span>
2. <span data-ttu-id="55270-154">Modifique o swagger.json no controle do código-fonte em \site\wwwroot\.azurefunctions\swagger\swagger.json.</span><span class="sxs-lookup"><span data-stu-id="55270-154">Modify swagger.json in source control at \site\wwwroot\.azurefunctions\swagger\swagger.json.</span></span>

<span data-ttu-id="55270-155">Agora, as alterações em swagger.json em seu repositório são hospedadas por seu aplicativo de funções na URL e chave de definição de API que você anotou na etapa 1.c.</span><span class="sxs-lookup"><span data-stu-id="55270-155">Now, changes to swagger.json in your repository are hosted by your function app at the API definition URL and key that you noted in step 1.c.</span></span>

## <a name="next-steps"></a><span data-ttu-id="55270-156">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="55270-156">Next steps</span></span>
* <span data-ttu-id="55270-157">[Tutorial de introdução](functions-api-definition-getting-started.md).</span><span class="sxs-lookup"><span data-stu-id="55270-157">[Getting started tutorial](functions-api-definition-getting-started.md).</span></span> <span data-ttu-id="55270-158">Experimente o nosso passo a passo para exibir uma definição de OpenAPI em ação.</span><span class="sxs-lookup"><span data-stu-id="55270-158">Try our walkthrough to see an OpenAPI definition in action.</span></span>
* <span data-ttu-id="55270-159">[Repositório do GitHub do Azure Functions](https://github.com/Azure/Azure-Functions/).</span><span class="sxs-lookup"><span data-stu-id="55270-159">[Azure Functions GitHub repository](https://github.com/Azure/Azure-Functions/).</span></span> <span data-ttu-id="55270-160">Confira o repositório Funções para fornecer comentários sobre a versão prévia de suporte de definição de API.</span><span class="sxs-lookup"><span data-stu-id="55270-160">Check out the Functions repository to give us feedback on the API definition support preview.</span></span> <span data-ttu-id="55270-161">Execute o GitHub para qualquer coisa que você gostaria de ver atualizada.</span><span class="sxs-lookup"><span data-stu-id="55270-161">Make a GitHub issue for anything you want to see updated.</span></span>
* <span data-ttu-id="55270-162">[Referência do desenvolvedor do Azure Functions](functions-reference.md).</span><span class="sxs-lookup"><span data-stu-id="55270-162">[Azure Functions developer reference](functions-reference.md).</span></span> <span data-ttu-id="55270-163">Saiba mais sobre a codificação de funções e definição de gatilhos e associações.</span><span class="sxs-lookup"><span data-stu-id="55270-163">Learn about coding functions and defining triggers and bindings.</span></span>
