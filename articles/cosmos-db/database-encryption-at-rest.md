---
title: 'Criptografia de banco de dados em repouso: Azure Cosmos DB | Microsoft Docs'
description: "Saiba como o Azure Cosmos DB fornece criptografia padrão de todos os dados."
services: cosmos-db
author: voellm
manager: jhubbard
editor: mimig
documentationcenter: 
ms.assetid: 99725c52-d7ca-4bfa-888b-19b1569754d3
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/23/2017
ms.author: voellm
ms.openlocfilehash: d52d55fe45fdd18394166ec7ccd6e46e8f8f434b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-cosmos-db-database-encryption-at-rest"></a><span data-ttu-id="8fcf8-103">Criptografia de banco de dados em repouso do Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="8fcf8-103">Azure Cosmos DB database encryption at rest</span></span>

<span data-ttu-id="8fcf8-104">Criptografia em repouso é uma frase que normalmente se refere toohello criptografia de dados em dispositivos de armazenamento não volátil como unidades de estado sólido (SSDs) e unidades de disco rígido (HDDs).</span><span class="sxs-lookup"><span data-stu-id="8fcf8-104">Encryption at rest is a phrase that commonly refers toohello encryption of data on nonvolatile storage devices, such as solid state drives (SSDs) and hard disk drives (HDDs).</span></span> <span data-ttu-id="8fcf8-105">O Cosmos DB armazena seus bancos de dados principais em SSDs.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-105">Cosmos DB stores its primary databases on SSDs.</span></span> <span data-ttu-id="8fcf8-106">Seus anexos de mídia e backups são armazenados no armazenamento de Blobs do Azure, do qual geralmente é feito backup por HDDs.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-106">Its media attachments and backups are stored in Azure Blob storage, which is generally backed up by HDDs.</span></span> <span data-ttu-id="8fcf8-107">Com versão de saudação de criptografia em repouso para Cosmos banco de dados, todos os seus bancos de dados, anexos de mídia e backups são criptografados.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-107">With hello release of encryption at rest for Cosmos DB, all your databases, media attachments, and backups are encrypted.</span></span> <span data-ttu-id="8fcf8-108">Seus dados são criptografados em trânsito agora (pela rede Olá) e em repouso (armazenamento não volátil), fornecendo criptografia de ponta a ponta.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-108">Your data is now encrypted in transit (over hello network) and at rest (nonvolatile storage), giving you end-to-end encryption.</span></span>

<span data-ttu-id="8fcf8-109">Como um serviço de PaaS, Cosmos banco de dados é muito fácil toouse.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-109">As a PaaS service, Cosmos DB is very easy toouse.</span></span> <span data-ttu-id="8fcf8-110">Como todos os dados de usuário armazenados no banco de dados do Cosmos é criptografado em repouso e em transporte, você não tem tootake qualquer ação.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-110">Because all user data stored in Cosmos DB is encrypted at rest and in transport, you don't have tootake any action.</span></span> <span data-ttu-id="8fcf8-111">Outro tooput de forma que isso é que a criptografia em rest está ativada, por padrão.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-111">Another way tooput this is that encryption at rest is "on" by default.</span></span> <span data-ttu-id="8fcf8-112">Não há nenhum tooturn controles-lo ou desativar.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-112">There are no controls tooturn it off or on.</span></span> <span data-ttu-id="8fcf8-113">Podemos fornecer esse recurso enquanto continuarmos toomeet nosso [SLAs de desempenho e disponibilidade](https://azure.microsoft.com/support/legal/sla/cosmos-db).</span><span class="sxs-lookup"><span data-stu-id="8fcf8-113">We provide this feature while we continue toomeet our [availability and performance SLAs](https://azure.microsoft.com/support/legal/sla/cosmos-db).</span></span>

## <a name="implement-encryption-at-rest"></a><span data-ttu-id="8fcf8-114">Implementar a criptografia em repouso</span><span class="sxs-lookup"><span data-stu-id="8fcf8-114">Implement encryption at rest</span></span>

<span data-ttu-id="8fcf8-115">A criptografia em repouso é implementada usando várias tecnologias de segurança, incluindo sistemas seguros de armazenamento de chaves, redes criptografadas e APIs criptográficas.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-115">Encryption at rest is implemented by using a number of security technologies, including secure key storage systems, encrypted networks, and cryptographic APIs.</span></span> <span data-ttu-id="8fcf8-116">Sistemas que descriptografarem e processam dados têm toocommunicate com sistemas de gerenciamento de chaves.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-116">Systems that decrypt and process data have toocommunicate with systems that manage keys.</span></span> <span data-ttu-id="8fcf8-117">diagrama de saudação mostra como o armazenamento do gerenciamento de dados e hello criptografado de chaves é separado.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-117">hello diagram shows how storage of encrypted data and hello management of keys is separated.</span></span> 

![Diagrama de design](./media/database-encryption-at-rest/design-diagram.png)

<span data-ttu-id="8fcf8-119">fluxo básico a saudação de uma solicitação de usuário é o seguinte:</span><span class="sxs-lookup"><span data-stu-id="8fcf8-119">hello basic flow of a user request is as follows:</span></span>
- <span data-ttu-id="8fcf8-120">conta de banco de dados de usuário Olá fica pronta e chaves de armazenamento são recuperadas por meio de um provedor de recursos do serviço de gerenciamento de toohello de solicitação.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-120">hello user database account is made ready, and storage keys are retrieved via a request toohello Management Service Resource Provider.</span></span>
- <span data-ttu-id="8fcf8-121">Um usuário cria uma conexão tooCosmos banco de dados por meio do transporte HTTPS/seguro.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-121">A user creates a connection tooCosmos DB via HTTPS/secure transport.</span></span> <span data-ttu-id="8fcf8-122">(detalhes de saudação abstrato do hello SDKs).</span><span class="sxs-lookup"><span data-stu-id="8fcf8-122">(hello SDKs abstract hello details.)</span></span>
- <span data-ttu-id="8fcf8-123">usuário Olá envia um toobe do documento JSON armazenado Olá criado anteriormente a conexão segura.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-123">hello user sends a JSON document toobe stored over hello previously created secure connection.</span></span>
- <span data-ttu-id="8fcf8-124">documento JSON Olá é indexado, a menos que o usuário Olá desativou a indexação.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-124">hello JSON document is indexed unless hello user has turned off indexing.</span></span>
- <span data-ttu-id="8fcf8-125">Olá documento JSON e dados do índice são gravados toosecure armazenamento.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-125">Both hello JSON document and index data are written toosecure storage.</span></span>
- <span data-ttu-id="8fcf8-126">Periodicamente, dados lidos do armazenamento seguro de saudação e backup toohello armazenamento de Blob do Azure criptografado.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-126">Periodically, data is read from hello secure storage and backed up toohello Azure Encrypted Blob Store.</span></span>

## <a name="frequently-asked-questions"></a><span data-ttu-id="8fcf8-127">Perguntas frequentes</span><span class="sxs-lookup"><span data-stu-id="8fcf8-127">Frequently asked questions</span></span>

### <a name="q-how-much-more-does-azure-storage-cost-if-storage-service-encryption-is-enabled"></a><span data-ttu-id="8fcf8-128">P: Qual é o custo adicional do armazenamento do Azure se a Criptografia do Serviço de Armazenamento é habilitada?</span><span class="sxs-lookup"><span data-stu-id="8fcf8-128">Q: How much more does Azure Storage cost if Storage Service Encryption is enabled?</span></span>
<span data-ttu-id="8fcf8-129">R: Não há qualquer custo adicional.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-129">A: There is no additional cost.</span></span>

### <a name="q-who-manages-hello-encryption-keys"></a><span data-ttu-id="8fcf8-130">P: que gerencia chaves de criptografia Olá?</span><span class="sxs-lookup"><span data-stu-id="8fcf8-130">Q: Who manages hello encryption keys?</span></span>
<span data-ttu-id="8fcf8-131">R: Olá chaves são gerenciadas pela Microsoft.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-131">A: hello keys are managed by Microsoft.</span></span>

### <a name="q-how-often-are-encryption-keys-rotated"></a><span data-ttu-id="8fcf8-132">P: Com que frequência as chaves de criptografia são trocadas?</span><span class="sxs-lookup"><span data-stu-id="8fcf8-132">Q: How often are encryption keys rotated?</span></span>
<span data-ttu-id="8fcf8-133">R: A Microsoft tem um conjunto de diretrizes internas para rotação de chave de criptografia, que o Cosmos DB segue.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-133">A: Microsoft has a set of internal guidelines for encryption key rotation, which Cosmos DB follows.</span></span> <span data-ttu-id="8fcf8-134">as diretrizes específicas da saudação não são publicadas.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-134">hello specific guidelines are not published.</span></span> <span data-ttu-id="8fcf8-135">A Microsoft publica Olá [Security Development Lifecycle (SDL)](https://www.microsoft.com/sdl/default.aspx), que é visto como um subconjunto de diretrizes interno e tem práticas recomendadas útil para desenvolvedores.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-135">Microsoft does publish hello [Security Development Lifecycle (SDL)](https://www.microsoft.com/sdl/default.aspx), which is seen as a subset of internal guidance and has useful best practices for developers.</span></span>

### <a name="q-can-i-use-my-own-encryption-keys"></a><span data-ttu-id="8fcf8-136">P: Posso usar minhas próprias chaves de criptografia?</span><span class="sxs-lookup"><span data-stu-id="8fcf8-136">Q: Can I use my own encryption keys?</span></span>
<span data-ttu-id="8fcf8-137">R: cosmos banco de dados é um serviço de PaaS e trabalhamos tookeep rígido Olá serviço fácil toouse.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-137">A: Cosmos DB is a PaaS service, and we worked hard tookeep hello service easy toouse.</span></span> <span data-ttu-id="8fcf8-138">Observamos que essa pergunta geralmente é feita como uma pergunta substituta para o cumprimento de um requisito de conformidade, como as normas PCI-DSS.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-138">We've noticed this question is often asked as a proxy question for meeting a compliance requirement like PCI-DSS.</span></span> <span data-ttu-id="8fcf8-139">Como parte da construção esse recurso, trabalhamos com conformidade auditores tooensure que os clientes que usam o banco de dados do Cosmos atenderem seus requisitos sem Olá necessidade toomanage as próprias chaves.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-139">As part of building this feature, we worked with compliance auditors tooensure that customers who use Cosmos DB meet their requirements without hello need toomanage keys themselves.</span></span>
<span data-ttu-id="8fcf8-140">Como resultado, no momento não oferecemos usuários Olá opção tooburden-se com o gerenciamento de chaves.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-140">As a result, we currently do not offer users hello option tooburden themselves with key management.</span></span>

### <a name="q-what-regions-have-encryption-turned-on"></a><span data-ttu-id="8fcf8-141">P: Em quais regiões a criptografia está ativada?</span><span class="sxs-lookup"><span data-stu-id="8fcf8-141">Q: What regions have encryption turned on?</span></span>
<span data-ttu-id="8fcf8-142">R: A criptografia está ativada para todos os dados do usuário em todas as regiões do Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-142">A: All Azure Cosmos DB regions have encryption turned on for all user data.</span></span>

### <a name="q-does-encryption-affect-hello-performance-latency-and-throughput-slas"></a><span data-ttu-id="8fcf8-143">P: criptografia afeta a latência de desempenho hello e taxa de transferência SLAs?</span><span class="sxs-lookup"><span data-stu-id="8fcf8-143">Q: Does encryption affect hello performance latency and throughput SLAs?</span></span>
<span data-ttu-id="8fcf8-144">R: não há nenhum impacto ou alterações toohello SLAs de desempenho agora que a criptografia em repouso está habilitada para todas as contas novas e existentes.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-144">A: There is no impact or changes toohello performance SLAs now that encryption at rest is enabled for all existing and new accounts.</span></span> <span data-ttu-id="8fcf8-145">Você pode ler mais sobre Olá [SLA para o banco de dados do Cosmos](https://azure.microsoft.com/support/legal/sla/cosmos-db) página garantias mais recentes do toosee hello.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-145">You can read more on hello [SLA for Cosmos DB](https://azure.microsoft.com/support/legal/sla/cosmos-db) page toosee hello latest guarantees.</span></span>

### <a name="q-does-hello-local-emulator-support-encryption-at-rest"></a><span data-ttu-id="8fcf8-146">P: o emulador local Olá oferecer suporte à criptografia em repouso?</span><span class="sxs-lookup"><span data-stu-id="8fcf8-146">Q: Does hello local emulator support encryption at rest?</span></span>
<span data-ttu-id="8fcf8-147">R: emulador de Olá é uma ferramenta de desenvolvimento/teste autônoma e não usa os serviços de gerenciamento de chaves Olá Olá gerenciado Cosmos DB serviço usa.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-147">A: hello emulator is a standalone dev/test tool and does not use hello key management services that hello managed Cosmos DB service uses.</span></span> <span data-ttu-id="8fcf8-148">Nossa recomendação é tooenable BitLocker nas unidades em que você está armazenando dados de teste do emulador confidenciais.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-148">Our recommendation is tooenable BitLocker on drives where you are storing sensitive emulator test data.</span></span> <span data-ttu-id="8fcf8-149">Olá [emulador suporta alterar diretório de dados padrão de saudação](local-emulator.md) , bem como o uso de um local conhecido.</span><span class="sxs-lookup"><span data-stu-id="8fcf8-149">hello [emulator supports changing hello default data directory](local-emulator.md) as well as using a well-known location.</span></span>

## <a name="next-steps"></a><span data-ttu-id="8fcf8-150">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="8fcf8-150">Next steps</span></span>

<span data-ttu-id="8fcf8-151">Para obter uma visão geral de segurança de banco de dados do Cosmos e melhorias mais recentes hello, consulte [segurança de banco de dados do banco de dados do Azure Cosmos](database-security.md).</span><span class="sxs-lookup"><span data-stu-id="8fcf8-151">For an overview of Cosmos DB security and hello latest improvements, see [Azure Cosmos DB database security](database-security.md).</span></span>
<span data-ttu-id="8fcf8-152">Para obter mais informações sobre certificações da Microsoft, consulte Olá [Azure Trust Center](https://azure.microsoft.com/en-us/support/trust-center/).</span><span class="sxs-lookup"><span data-stu-id="8fcf8-152">For more information about Microsoft certifications, see hello [Azure Trust Center](https://azure.microsoft.com/en-us/support/trust-center/).</span></span>
