---
title: "Padrão de design do Azure Cosmos DB: Aplicativos de mídia social | Microsoft Docs"
description: "Saiba mais sobre um padrão de design para Redes Sociais, aproveitando a flexibilidade de armazenamento do Azure Cosmos DB e outros serviços do Azure."
keywords: "aplicativos de mídia social"
services: cosmos-db
author: ealsur
manager: jhubbard
editor: 
documentationcenter: 
ms.assetid: 2dbf83a7-512a-4993-bf1b-ea7d72e095d9
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/29/2017
ms.author: mimig
ms.openlocfilehash: 43025adeaf954fedfbcee32e636fb30935f2126b
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/29/2017
---
# <a name="going-social-with-azure-cosmos-db"></a><span data-ttu-id="54f3f-104">Expandindo o Azure Cosmos DB para as redes sociais</span><span class="sxs-lookup"><span data-stu-id="54f3f-104">Going social with Azure Cosmos DB</span></span>
<span data-ttu-id="54f3f-105">Viver em uma sociedade amplamente interconectada significa que, em determinado momento da vida, você acaba se tornando parte de uma **rede social**.</span><span class="sxs-lookup"><span data-stu-id="54f3f-105">Living in a massively-interconnected society means that, at some point in life, you become part of a **social network**.</span></span> <span data-ttu-id="54f3f-106">Usamos redes sociais para manter contato com amigos, colegas, família ou, às vezes, para compartilhar nosso entusiasmo com pessoas que têm os mesmos interesses.</span><span class="sxs-lookup"><span data-stu-id="54f3f-106">We use social networks to keep in touch with friends, colleagues, family, or sometimes to share our passion with people with common interests.</span></span>

<span data-ttu-id="54f3f-107">Como engenheiros ou desenvolvedores, talvez já tenhamos nos perguntado como essas redes armazenam e interconectam nossos dados ou, até mesmo, já tenhamos recebido a tarefa de criar ou estruturar uma nova rede social para determinado nicho de mercado.</span><span class="sxs-lookup"><span data-stu-id="54f3f-107">As engineers or developers, we might have wondered how do these networks store and interconnect our data, or might have even been tasked to create or architect a new social network for a specific niche market yourselves.</span></span> <span data-ttu-id="54f3f-108">É nesse momento que surge a grande pergunta: Como todos esses dados são armazenados?</span><span class="sxs-lookup"><span data-stu-id="54f3f-108">That’s when the big question arises: How is all this data stored?</span></span>

<span data-ttu-id="54f3f-109">Vamos supor que estamos criando uma nova rede social, na qual nossos usuários podem postar artigos com mídia relacionada como imagens, vídeos ou, até mesmo, música.</span><span class="sxs-lookup"><span data-stu-id="54f3f-109">Let’s suppose that we are creating a new and shiny social network, where our users can post articles with related media like, pictures, videos, or even music.</span></span> <span data-ttu-id="54f3f-110">Os usuários podem fazer comentários sobre as postagens e fornecer pontos para classificações.</span><span class="sxs-lookup"><span data-stu-id="54f3f-110">Users can comment on posts and give points for ratings.</span></span> <span data-ttu-id="54f3f-111">Haverá um feed de postagens que será visto pelos usuários e com o qual poderão interagir na página de aterrissagem do site principal.</span><span class="sxs-lookup"><span data-stu-id="54f3f-111">There will be a feed of posts that users will see and be able to interact with on the main website landing page.</span></span> <span data-ttu-id="54f3f-112">Isso não parece realmente complexo (logo de início), mas para simplificar, vamos parar por aqui (poderíamos nos aprofundar em feeds do usuário personalizados e afetados por relacionamentos, mas isso iria além do objetivo deste artigo).</span><span class="sxs-lookup"><span data-stu-id="54f3f-112">This doesn’t sound really complex (at first), but for the sake of simplicity, let’s stop there (we could delve into custom user feeds affected by relationships, but it exceeds the goal of this article).</span></span>

<span data-ttu-id="54f3f-113">Então, como e onde armazenamos tudo isso?</span><span class="sxs-lookup"><span data-stu-id="54f3f-113">So, how do we store this and where?</span></span>

<span data-ttu-id="54f3f-114">É provável que muitos de vocês conheçam a fundo os bancos de dados SQL ou, pelo menos, têm uma noção de [modelagem relacional de dados](https://en.wikipedia.org/wiki/Relational_model) e podem ficar tentados a começar a esboçar algo do tipo:</span><span class="sxs-lookup"><span data-stu-id="54f3f-114">Many of you might have experience on SQL databases or at least have notion of [relational modeling of data](https://en.wikipedia.org/wiki/Relational_model) and you might be tempted to start drawing something like this:</span></span>

![Diagrama ilustrando um modelo relacional relativo](./media/social-media-apps/social-media-apps-sql.png) 

<span data-ttu-id="54f3f-116">Uma bela estrutura de dados perfeitamente normalizada...</span><span class="sxs-lookup"><span data-stu-id="54f3f-116">A perfectly normalized and pretty data structure…</span></span> <span data-ttu-id="54f3f-117">que não pode ser dimensionada.</span><span class="sxs-lookup"><span data-stu-id="54f3f-117">that doesn't scale.</span></span> 

<span data-ttu-id="54f3f-118">Não me entendam mal: sempre trabalhei com bancos de dados SQL; eles são ótimos, mas como acontece com cada padrão, prática e plataforma de software, eles não são perfeitos para todos os cenários.</span><span class="sxs-lookup"><span data-stu-id="54f3f-118">Don’t get me wrong, I’ve worked with SQL databases all my life, they are great, but like every pattern, practice and software platform, it’s not perfect for every scenario.</span></span>

<span data-ttu-id="54f3f-119">Por que o SQL não é a melhor opção nesse cenário?</span><span class="sxs-lookup"><span data-stu-id="54f3f-119">Why isn't SQL the best choice in this scenario?</span></span> <span data-ttu-id="54f3f-120">Vamos examinar a estrutura de uma única postagem. Se eu quisesse mostrar essa postagem em um site ou aplicativo, teria que fazer uma consulta com...</span><span class="sxs-lookup"><span data-stu-id="54f3f-120">Let’s look at the structure of a single post, if I wanted to show that post in a website or application, I’d have to do a query with…</span></span> <span data-ttu-id="54f3f-121">oito junções de tabela (!) para mostrar uma única postagem. Imagine uma transmissão de postagens carregadas dinamicamente e exibidas na tela e você poderá entender a que estou me referindo.</span><span class="sxs-lookup"><span data-stu-id="54f3f-121">8 table joins (!) just to show one single post, now, picture a stream of posts that dynamically load and appear on the screen and you might see where I am going.</span></span>

<span data-ttu-id="54f3f-122">É claro que, para atender às necessidades de nosso conteúdo, poderíamos usar uma instância SQL gigantesca com capacidade suficiente para resolver milhares de consultas com essas várias junções, mas, sinceramente, por que faríamos isso quando há uma solução mais simples?</span><span class="sxs-lookup"><span data-stu-id="54f3f-122">We could, of course, use a humongous SQL instance with enough power to solve thousands of queries with these many joins to serve our content, but truly, why would we when a simpler solution exists?</span></span>

## <a name="the-nosql-road"></a><span data-ttu-id="54f3f-123">O caminho NoSQL</span><span class="sxs-lookup"><span data-stu-id="54f3f-123">The NoSQL road</span></span>
<span data-ttu-id="54f3f-124">Este artigo orientará você na modelagem de dados de sua plataforma social com o banco de dados NoSQL do Azure, [Azure Cosmos DB](https://azure.microsoft.com/services/cosmos-db/), de maneira econômica, aproveitando outros recursos de Azure Cosmos DB, como a [API do Graph Gremlin](../cosmos-db/graph-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="54f3f-124">This article will guide you into modeling your social platform's data with Azure's NoSQL database [Azure Cosmos DB](https://azure.microsoft.com/services/cosmos-db/) in a cost-effective way while leveraging other Azure Cosmos DB features like the  [Gremlin Graph API](../cosmos-db/graph-introduction.md).</span></span> <span data-ttu-id="54f3f-125">Usando uma abordagem [NoSQL](https://en.wikipedia.org/wiki/NoSQL), armazenando os dados no formato JSON e aplicando a [desnormalização](https://en.wikipedia.org/wiki/Denormalization), nossa postagem anteriormente complicada pode ser transformada em um único [Documento](https://en.wikipedia.org/wiki/Document-oriented_database):</span><span class="sxs-lookup"><span data-stu-id="54f3f-125">Using a [NoSQL](https://en.wikipedia.org/wiki/NoSQL) approach, storing data in JSON format and applying [denormalization](https://en.wikipedia.org/wiki/Denormalization), our previously complicated post can be transformed into a single [Document](https://en.wikipedia.org/wiki/Document-oriented_database):</span></span>


    {
        "id":"ew12-res2-234e-544f",
        "title":"post title",
        "date":"2016-01-01",
        "body":"this is an awesome post stored on NoSQL",
        "createdBy":User,
        "images":["http://myfirstimage.png","http://mysecondimage.png"],
        "videos":[
            {"url":"http://myfirstvideo.mp4", "title":"The first video"},
            {"url":"http://mysecondvideo.mp4", "title":"The second video"}
        ],
        "audios":[
            {"url":"http://myfirstaudio.mp3", "title":"The first audio"},
            {"url":"http://mysecondaudio.mp3", "title":"The second audio"}
        ]
    }

<span data-ttu-id="54f3f-126">E isso pode ser obtido com uma única consulta, sem junções.</span><span class="sxs-lookup"><span data-stu-id="54f3f-126">And it can be obtained with a single query, and with no joins.</span></span> <span data-ttu-id="54f3f-127">É muito mais simples e econômico, além de exigir menos recursos para alcançar um resultado melhor.</span><span class="sxs-lookup"><span data-stu-id="54f3f-127">This is much more simple and straightforward, and, budget-wise, it requires fewer resources to achieve a better result.</span></span>

<span data-ttu-id="54f3f-128">O Azure Cosmos DB garante que todas as propriedades sejam indexadas com a indexação automática, que pode até mesmo ser [personalizada](indexing-policies.md).</span><span class="sxs-lookup"><span data-stu-id="54f3f-128">Azure Cosmos DB makes sure that all the properties are indexed with its automatic indexing, which can even be [customized](indexing-policies.md).</span></span> <span data-ttu-id="54f3f-129">A abordagem sem esquemas nos permite armazenar Documentos com estruturas diferentes e dinâmicas; talvez amanhã, vamos querer que as postagens tenham uma lista de categorias ou hashtags associadas a elas, e o Cosmos DB manipulará os novos Documentos com os atributos adicionados sem que precisemos fazer nenhum trabalho extra.</span><span class="sxs-lookup"><span data-stu-id="54f3f-129">The schema-free approach lets us store Documents with different and dynamic structures, maybe tomorrow we want posts to have a list of categories or hashtags associated with them, Cosmos DB will handle the new Documents with the added attributes with no extra work required by us.</span></span>

<span data-ttu-id="54f3f-130">Os comentários em uma postagem podem ser tratados da mesma forma como outras postagens com uma propriedade pai (isso simplifica nosso mapeamento de objeto).</span><span class="sxs-lookup"><span data-stu-id="54f3f-130">Comments on a post can be treated as just other posts with a parent property (this simplifies our object mapping).</span></span> 

    {
        "id":"1234-asd3-54ts-199a",
        "title":"Awesome post!",
        "date":"2016-01-02",
        "createdBy":User2,
        "parent":"ew12-res2-234e-544f"
    }

    {
        "id":"asd2-fee4-23gc-jh67",
        "title":"Ditto!",
        "date":"2016-01-03",
        "createdBy":User3,
        "parent":"ew12-res2-234e-544f"
    }

<span data-ttu-id="54f3f-131">Além disso, todas as interações sociais podem ser armazenadas em um objeto separado como contadores:</span><span class="sxs-lookup"><span data-stu-id="54f3f-131">And all social interactions can be stored on a separate object as counters:</span></span>

    {
        "id":"dfe3-thf5-232s-dse4",
        "post":"ew12-res2-234e-544f",
        "comments":2,
        "likes":10,
        "points":200
    }

<span data-ttu-id="54f3f-132">A criação de feeds resume-se à criação de documentos que podem reter uma lista de IDs da postagem com determinada ordem de relevância:</span><span class="sxs-lookup"><span data-stu-id="54f3f-132">Creating feeds is just a matter of creating documents that can hold a list of post ids with a given relevance order:</span></span>

    [
        {"relevance":9, "post":"ew12-res2-234e-544f"},
        {"relevance":8, "post":"fer7-mnb6-fgh9-2344"},
        {"relevance":7, "post":"w34r-qeg6-ref6-8565"}
    ]

<span data-ttu-id="54f3f-133">Poderíamos ter um fluxo “mais recentes” com as postagens ordenadas por data de criação, um fluxo “mais populares” com as postagens com o maior número de curtidas nas últimas 24 horas... Poderíamos, até mesmo, implementar um fluxo personalizado para cada usuário baseado em lógica como seguidores e interesses, e ainda seria uma lista de postagens.</span><span class="sxs-lookup"><span data-stu-id="54f3f-133">We could have a “latest” stream with posts ordered by creation date, a “hottest” stream with those posts with more likes in the last 24 hours, we could even implement a custom stream for each user based on logic like followers and interests, and it would still be a list of posts.</span></span> <span data-ttu-id="54f3f-134">É uma questão de como criar essas listas, mas fazer com que o desempenho de leitura permaneça ilimitado.</span><span class="sxs-lookup"><span data-stu-id="54f3f-134">It’s a matter of how to build these lists, but the reading performance remains unhindered.</span></span> <span data-ttu-id="54f3f-135">Depois de adquirirmos uma dessas listas, emitiremos uma única consulta para o Cosmos DB usando o [operador IN](documentdb-sql-query.md#WhereClause) para obter páginas de postagens de uma só vez.</span><span class="sxs-lookup"><span data-stu-id="54f3f-135">Once we acquire one of these lists, we issue a single query to Cosmos DB using the [IN operator](documentdb-sql-query.md#WhereClause) to obtain pages of posts at a time.</span></span>

<span data-ttu-id="54f3f-136">As transmissões de feed podem ser criadas usando processos em segundo plano dos [Serviços de Aplicativos do Azure](https://azure.microsoft.com/services/app-service/): [Webjobs](../app-service-web/web-sites-create-web-jobs.md).</span><span class="sxs-lookup"><span data-stu-id="54f3f-136">The feed streams could be built using [Azure App Services’](https://azure.microsoft.com/services/app-service/) background processes: [Webjobs](../app-service-web/web-sites-create-web-jobs.md).</span></span> <span data-ttu-id="54f3f-137">Depois de criar uma postagem, o processamento em segundo plano pode ser disparado usando o [Armazenamento do Azure](https://azure.microsoft.com/services/storage/), ao passo que as [Filas](../storage/queues/storage-dotnet-how-to-use-queues.md) e os Webjobs podem ser disparados usando o [SDK do Azure Webjobs](../app-service-web/websites-dotnet-webjobs-sdk.md), implementando a propagação de postagem nas transmissões, de acordo com nossa própria lógica personalizada.</span><span class="sxs-lookup"><span data-stu-id="54f3f-137">Once a post is created, background processing can be triggered by using [Azure Storage](https://azure.microsoft.com/services/storage/) [Queues](../storage/queues/storage-dotnet-how-to-use-queues.md) and Webjobs triggered using the [Azure Webjobs SDK](../app-service-web/websites-dotnet-webjobs-sdk.md), implementing the post propagation inside streams based on our own custom logic.</span></span> 

<span data-ttu-id="54f3f-138">Os pontos e as curtidas de uma postagem podem ser processados de forma adiada usando essa mesma técnica, a fim de criar um ambiente que, no final das contas, seja consistente.</span><span class="sxs-lookup"><span data-stu-id="54f3f-138">Points and likes over a post can be processed in a deferred manner using this same technique to create an eventually consistent environment.</span></span>

<span data-ttu-id="54f3f-139">Os seguidores são mais complicados.</span><span class="sxs-lookup"><span data-stu-id="54f3f-139">Followers are trickier.</span></span> <span data-ttu-id="54f3f-140">O Cosmos DB tem um limite de tamanho máximo para documentos e ler/gravar documentos grandes pode afetar a escalabilidade do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="54f3f-140">Cosmos DB has a maximum document size limit, and reading/writing large documents can impact the scalability of your application.</span></span> <span data-ttu-id="54f3f-141">Portanto, pense em armazenar seguidores como um documento com esta estrutura:</span><span class="sxs-lookup"><span data-stu-id="54f3f-141">So you may think about storing followers as a document with this structure:</span></span>

    {
        "id":"234d-sd23-rrf2-552d",
        "followersOf": "dse4-qwe2-ert4-aad2",
        "followers":[
            "ewr5-232d-tyrg-iuo2",
            "qejh-2345-sdf1-ytg5",
            //...
            "uie0-4tyg-3456-rwjh"
        ]
    }

<span data-ttu-id="54f3f-142">Isso pode funcionar para um usuário com alguns milhares seguidores, mas, no caso de algumas celebridades, essa abordagem levará a um documento grande e, eventualmente, o limite de tamanho do documento poderá ser atingido.</span><span class="sxs-lookup"><span data-stu-id="54f3f-142">This might work for a user with a few thousands followers, but if some celebrity joins our ranks, this approach will lead to a large document size, and might eventually hit the document size cap.</span></span>

<span data-ttu-id="54f3f-143">Para resolver isso, podemos usar uma abordagem mista.</span><span class="sxs-lookup"><span data-stu-id="54f3f-143">To solve this, we can use a mixed approach.</span></span> <span data-ttu-id="54f3f-144">Como parte do documento de Estatísticas do Usuário, podemos armazenar o número de seguidores:</span><span class="sxs-lookup"><span data-stu-id="54f3f-144">As part of the User Statistics document we can store the number of followers:</span></span>

    {
        "id":"234d-sd23-rrf2-552d",
        "user": "dse4-qwe2-ert4-aad2",
        "followers":55230,
        "totalPosts":452,
        "totalPoints":11342
    }

<span data-ttu-id="54f3f-145">E o gráfico real de seguidores pode ser armazenado usando a [API do Graph Gremlin](../cosmos-db/graph-introduction.md) do Azure Cosmos DB, para criar [vértices](http://mathworld.wolfram.com/GraphVertex.html) para cada usuário e [bordas](http://mathworld.wolfram.com/GraphEdge.html) que mantêm as relações "A segue B".</span><span class="sxs-lookup"><span data-stu-id="54f3f-145">And the actual graph of followers can be stored using Azure Cosmos DB [Gremlin Graph API](../cosmos-db/graph-introduction.md), to create [vertexes](http://mathworld.wolfram.com/GraphVertex.html) for each user and [edges](http://mathworld.wolfram.com/GraphEdge.html) that maintain the "A-follows-B" relationships.</span></span> <span data-ttu-id="54f3f-146">A API do Graph permite que você não apenas obtenha os seguidores de um determinado usuário, mas também criem consultas mais complexas para até mesmo sugerir pessoas em comum.</span><span class="sxs-lookup"><span data-stu-id="54f3f-146">The Graph API let's you not only obtain the followers of a certain user but create more complex queries to even suggest people in common.</span></span> <span data-ttu-id="54f3f-147">Se adicionarmos ao gráfico as Categorias de Conteúdo que as pessoas curtem, poderemos começar a combinar experiências que incluem a descoberta de conteúdo inteligente, sugestão de conteúdo curtido pelas pessoas que seguimos ou localização das pessoas com quem podemos ter muito em comum.</span><span class="sxs-lookup"><span data-stu-id="54f3f-147">If we add to the graph the Content Categories that people like or enjoy, we can start weaving experiences that include smart content discovery, suggesting content that those we follow like, or finding people with whom we might have much in common.</span></span>

<span data-ttu-id="54f3f-148">O documento Estatísticas do Usuário ainda pode ser usado para criar cartões na interface do usuário ou visualizações rápidas de perfil.</span><span class="sxs-lookup"><span data-stu-id="54f3f-148">The User Statistics document can still be used to create cards in the UI or quick profile previews.</span></span>

## <a name="the-ladder-pattern-and-data-duplication"></a><span data-ttu-id="54f3f-149">O padrão de “Escada” e a duplicação de dados</span><span class="sxs-lookup"><span data-stu-id="54f3f-149">The “Ladder” pattern and data duplication</span></span>
<span data-ttu-id="54f3f-150">Como vocês devem ter observado no documento JSON que faz referência a uma postagem, há várias ocorrências de um usuário.</span><span class="sxs-lookup"><span data-stu-id="54f3f-150">As you might have noticed in the JSON document that references a post, there are multiple occurrences of a user.</span></span> <span data-ttu-id="54f3f-151">E devem ter acertado: isso significa que as informações que representam um usuário, considerando essa desnormalização, podem estar presentes em mais de um local.</span><span class="sxs-lookup"><span data-stu-id="54f3f-151">And you’d have guessed right, this means that the information that represents a user, given this denormalization, might be present in more than one place.</span></span>

<span data-ttu-id="54f3f-152">Para possibilitar consultas mais rápidas, ficamos sujeitos à duplicação de dados.</span><span class="sxs-lookup"><span data-stu-id="54f3f-152">In order to allow for faster queries, we incur data duplication.</span></span> <span data-ttu-id="54f3f-153">O problema com esse efeito colateral é que, se por alguma ação, ocorrerem alterações aos dados de um usuário, precisaremos encontrar todas as atividades já realizadas por ele e atualizá-las.</span><span class="sxs-lookup"><span data-stu-id="54f3f-153">The problem with this side-effect is that if by some action, a user’s data changes, we need to find all the activities he ever did and update them all.</span></span> <span data-ttu-id="54f3f-154">Não parece muito prático, certo?</span><span class="sxs-lookup"><span data-stu-id="54f3f-154">Doesn’t sound very practical, right?</span></span>

<span data-ttu-id="54f3f-155">Vamos resolver isso identificando os principais atributos de um usuário mostrados em nosso aplicativo para cada atividade.</span><span class="sxs-lookup"><span data-stu-id="54f3f-155">We are going to solve it by identifying the Key attributes of a user that we show in our application for each activity.</span></span> <span data-ttu-id="54f3f-156">Se mostramos visualmente uma postagem em nosso aplicativo e mostramos apenas o nome e a imagem do criador, por que armazenar todos os dados do usuário no atributo “createdBy”?</span><span class="sxs-lookup"><span data-stu-id="54f3f-156">If we visually show a post in our application and show just the creator’s name and picture, why store all of the user’s data in the “createdBy” attribute?</span></span> <span data-ttu-id="54f3f-157">Se, para cada comentário, mostramos apenas a imagem do usuário, realmente, não precisamos do restante de suas informações.</span><span class="sxs-lookup"><span data-stu-id="54f3f-157">If for each comment we just show the user’s picture, we don’t really need the rest of his information.</span></span> <span data-ttu-id="54f3f-158">É nesse momento que entra em cena o que chamo de “padrão de Escada”.</span><span class="sxs-lookup"><span data-stu-id="54f3f-158">That’s where something I call the “Ladder pattern” comes into play.</span></span>

<span data-ttu-id="54f3f-159">Vamos usar as informações do usuário como exemplo:</span><span class="sxs-lookup"><span data-stu-id="54f3f-159">Let’s take user information as an example:</span></span>

    {
        "id":"dse4-qwe2-ert4-aad2",
        "name":"John",
        "surname":"Doe",
        "address":"742 Evergreen Terrace",
        "birthday":"1983-05-07",
        "email":"john@doe.com",
        "twitterHandle":"@john",
        "username":"johndoe",
        "password":"some_encrypted_phrase",
        "totalPoints":100,
        "totalPosts":24
    }

<span data-ttu-id="54f3f-160">Examinando essas informações, podemos detectar rapidamente quais informações são críticas e quais não são, criando, assim, uma “Escada”:</span><span class="sxs-lookup"><span data-stu-id="54f3f-160">By looking at this information, we can quickly detect which is critical information and which isn’t, thus creating a “Ladder”:</span></span>

![Diagrama de um padrão de escada](./media/social-media-apps/social-media-apps-ladder.png)

<span data-ttu-id="54f3f-162">A menor etapa é chamada de UserChunk, a informação mínima que identifica um usuário e que é usada para a duplicação de dados.</span><span class="sxs-lookup"><span data-stu-id="54f3f-162">The smallest step is called a UserChunk, the minimal piece of information that identifies a user and it’s used for data duplication.</span></span> <span data-ttu-id="54f3f-163">Ao reduzir o tamanho dos dados duplicados somente às informações que serão “mostradas”, reduzimos a possibilidade de atualizações em massa.</span><span class="sxs-lookup"><span data-stu-id="54f3f-163">By reducing the size of the duplicated data to only the information we will “show”, we reduce the possibility of massive updates.</span></span>

<span data-ttu-id="54f3f-164">A etapa intermediária é chamada de usuário: são os dados completos que serão usados na maioria das consultas dependentes de desempenho no Cosmos DB, os mais acessados e críticos.</span><span class="sxs-lookup"><span data-stu-id="54f3f-164">The middle step is called the user, it’s the full data that will be used on most performance-dependent queries on Cosmos DB, the most accessed and critical.</span></span> <span data-ttu-id="54f3f-165">Ela inclui as informações representadas por um UserChunk.</span><span class="sxs-lookup"><span data-stu-id="54f3f-165">It includes the information represented by a UserChunk.</span></span>

<span data-ttu-id="54f3f-166">A maior etapa é Extended User.</span><span class="sxs-lookup"><span data-stu-id="54f3f-166">The largest is the Extended User.</span></span> <span data-ttu-id="54f3f-167">Ela inclui todas as informações críticas do usuário, bem como outros dados que realmente não precisam ser lidos rapidamente ou cujo uso é eventual (como o processo de logon).</span><span class="sxs-lookup"><span data-stu-id="54f3f-167">It includes all the critical user information plus other data that doesn’t really require to be read quickly or it’s usage is eventual (like the login process).</span></span> <span data-ttu-id="54f3f-168">Esses dados podem ser armazenados fora do Cosmos DB, no Banco de Dados SQL do Azure ou nas Tabelas de Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="54f3f-168">This data can be stored outside of Cosmos DB, in Azure SQL Database or Azure Storage Tables.</span></span>

<span data-ttu-id="54f3f-169">Por que dividiríamos o usuário e, até mesmo, armazenaríamos essas informações em locais diferentes?</span><span class="sxs-lookup"><span data-stu-id="54f3f-169">Why would we split the user and even store this information in different places?</span></span> <span data-ttu-id="54f3f-170">Porque, da perspectiva de desempenho, quanto maiores os documentos, mais caras as consultas.</span><span class="sxs-lookup"><span data-stu-id="54f3f-170">Because from a performance point of view, the bigger the documents, the costlier the queries.</span></span> <span data-ttu-id="54f3f-171">Mantenha os documentos simples, com as informações certas para fazer todas as suas consultas dependentes de desempenho para sua rede social, e armazene as outras informações extras para eventuais cenários como edições de perfil completo, logons e, até mesmo, mineração de dados para análise de uso e iniciativas de Big Data.</span><span class="sxs-lookup"><span data-stu-id="54f3f-171">Keep documents slim, with the right information to do all your performance-dependent queries for your social network, and store the other extra information for eventual scenarios like, full profile edits, logins, even data mining for usage analytics and Big Data initiatives.</span></span> <span data-ttu-id="54f3f-172">Realmente, não nos importamos se a coleta de dados para mineração de dados é mais lenta porque está em execução no Banco de Dados SQL do Azure; o que nos preocupa é fazer com que nossos usuários tenham uma experiência rápida e descomplicada.</span><span class="sxs-lookup"><span data-stu-id="54f3f-172">We really don’t care if the data gathering for data mining is slower because it’s running on Azure SQL Database, we do have concern though that our users have a fast and slim experience.</span></span> <span data-ttu-id="54f3f-173">Um usuário, armazenado no Cosmos DB, teria esta aparência:</span><span class="sxs-lookup"><span data-stu-id="54f3f-173">A user, stored on Cosmos DB, would look like this:</span></span>

    {
        "id":"dse4-qwe2-ert4-aad2",
        "name":"John",
        "surname":"Doe",
        "username":"johndoe"
        "email":"john@doe.com",
        "twitterHandle":"@john"
    }

<span data-ttu-id="54f3f-174">E um Post teria a seguinte aparência:</span><span class="sxs-lookup"><span data-stu-id="54f3f-174">And a Post would look like:</span></span>

    {
        "id":"1234-asd3-54ts-199a",
        "title":"Awesome post!",
        "date":"2016-01-02",
        "createdBy":{
            "id":"dse4-qwe2-ert4-aad2",
            "username":"johndoe"
        }
    }

<span data-ttu-id="54f3f-175">E quando surgir uma edição em que um dos atributos da parte é afetado, será fácil encontrar os documentos afetados usando consultas que apontam para os atributos indexados (SELECT * FROM posts p WHERE p.createdBy.id == “edited_user_id”) e, em seguida, atualizando as partes.</span><span class="sxs-lookup"><span data-stu-id="54f3f-175">And when an edit arises where one of the attributes of the chunk is affected, it’s easy to find the affected documents by using queries that point to the indexed attributes (SELECT * FROM posts p WHERE p.createdBy.id == “edited_user_id”) and then updating the chunks.</span></span>

## <a name="the-search-box"></a><span data-ttu-id="54f3f-176">A caixa de pesquisa</span><span class="sxs-lookup"><span data-stu-id="54f3f-176">The search box</span></span>
<span data-ttu-id="54f3f-177">Felizmente, os usuários vão gerar muito conteúdo.</span><span class="sxs-lookup"><span data-stu-id="54f3f-177">Users will generate, luckily, a lot of content.</span></span> <span data-ttu-id="54f3f-178">Além disso, devemos ser capazes de fornecer os meios pelos quais seja possível pesquisar e encontrar o conteúdo que, talvez, não esteja disponível diretamente em seus fluxos de conteúdo, provavelmente, porque não seguimos os criadores ou porque estamos apenas tentando encontrar aquela mensagem antiga que postamos há seis meses.</span><span class="sxs-lookup"><span data-stu-id="54f3f-178">And we should be able to provide the ability to search and find content that might not be directly in their content streams, maybe because we don’t follow the creators, or maybe we are just trying to find that old post we did 6 months ago.</span></span>

<span data-ttu-id="54f3f-179">Felizmente, tendo em vista que estamos usando o Azure Cosmos DB, em poucos minutos, podemos implementar com facilidade um mecanismo de pesquisa com o [Azure Search](https://azure.microsoft.com/services/search/) , sem digitar uma única linha de código (a não ser, evidentemente, a interface do usuário e o processo da pesquisa).</span><span class="sxs-lookup"><span data-stu-id="54f3f-179">Thankfully, and because we are using Azure Cosmos DB, we can easily implement a search engine using [Azure Search](https://azure.microsoft.com/services/search/) in a couple of minutes and without typing a single line of code (other than obviously, the search process and UI).</span></span>

<span data-ttu-id="54f3f-180">Por que isso é tão fácil?</span><span class="sxs-lookup"><span data-stu-id="54f3f-180">Why is this so easy?</span></span>

<span data-ttu-id="54f3f-181">O Azure Search implementa o que é chamado de [Indexadores](https://msdn.microsoft.com/library/azure/dn946891.aspx), processos em segundo plano que se anexam aos repositórios de dados e adicionam, atualizam ou removem automaticamente os objetos nos índices.</span><span class="sxs-lookup"><span data-stu-id="54f3f-181">Azure Search implements what they call [Indexers](https://msdn.microsoft.com/library/azure/dn946891.aspx), background processes that hook in your data repositories and automagically add, update or remove your objects in the indexes.</span></span> <span data-ttu-id="54f3f-182">Eles dão suporte a [indexadores do Banco de Dados SQL do Azure](https://blogs.msdn.microsoft.com/kaevans/2015/03/06/indexing-azure-sql-database-with-azure-search/), [indexadores dos Blobs do Azure](../search/search-howto-indexing-azure-blob-storage.md) e, ainda bem, [indexadores do Azure Cosmos DB](../search/search-howto-index-documentdb.md).</span><span class="sxs-lookup"><span data-stu-id="54f3f-182">They support an [Azure SQL Database indexers](https://blogs.msdn.microsoft.com/kaevans/2015/03/06/indexing-azure-sql-database-with-azure-search/), [Azure Blobs indexers](../search/search-howto-indexing-azure-blob-storage.md) and thankfully, [Azure Cosmos DB indexers](../search/search-howto-index-documentdb.md).</span></span> <span data-ttu-id="54f3f-183">A transição de informações do Cosmos DB para o Azure Search é simples, já que ambos armazenam as informações em formato JSON; basta [criarmos nosso Índice](../search/search-create-index-portal.md) e mapearmos quais atributos de nossos Documentos queremos indexar e... pronto! Em questão de minutos (dependendo do tamanho dos dados), todo o nosso conteúdo estará disponível para ser pesquisado pela melhor solução de Pesquisa como Serviço da infraestrutura de nuvem.</span><span class="sxs-lookup"><span data-stu-id="54f3f-183">The transition of information from Cosmos DB to Azure Search is straightforward, as both store information in JSON format, we just need to [create our Index](../search/search-create-index-portal.md) and map which attributes from our Documents we want indexed and that’s it, in a matter of minutes (depends on the size of our data), all our content will be available to be searched upon, by the best Search-as-a-Service solution in cloud infrastructure.</span></span> 

<span data-ttu-id="54f3f-184">Para obter mais informações sobre o Azure Search, visite o [Hitchhiker’s Guide to Search](https://blogs.msdn.microsoft.com/mvpawardprogram/2016/02/02/a-hitchhikers-guide-to-search/).</span><span class="sxs-lookup"><span data-stu-id="54f3f-184">For more information about Azure Search, you can visit the [Hitchhiker’s Guide to Search](https://blogs.msdn.microsoft.com/mvpawardprogram/2016/02/02/a-hitchhikers-guide-to-search/).</span></span>

## <a name="the-underlying-knowledge"></a><span data-ttu-id="54f3f-185">O conhecimento subjacente</span><span class="sxs-lookup"><span data-stu-id="54f3f-185">The underlying knowledge</span></span>
<span data-ttu-id="54f3f-186">Depois de armazenar todo esse conteúdo que aumenta a cada dia, talvez comecemos a pensar: O que posso fazer com todo esse fluxo de informações de meus usuários?</span><span class="sxs-lookup"><span data-stu-id="54f3f-186">After storing all this content that grows and grows every day, we might find ourselves thinking: What can I do with all this stream of information from my users?</span></span>

<span data-ttu-id="54f3f-187">A resposta é simples: colocá-lo em prática e aprender com ele.</span><span class="sxs-lookup"><span data-stu-id="54f3f-187">The answer is straightforward: Put it to work and learn from it.</span></span>

<span data-ttu-id="54f3f-188">Mas o que podemos aprender?</span><span class="sxs-lookup"><span data-stu-id="54f3f-188">But, what can we learn?</span></span> <span data-ttu-id="54f3f-189">Alguns exemplos simples incluem a [análise de sentimento](https://en.wikipedia.org/wiki/Sentiment_analysis), recomendações de conteúdo de acordo com as preferências de um usuário ou, até mesmo, um moderador de conteúdo automatizado que garante que todo o conteúdo publicado pela nossa rede social é seguro para a família.</span><span class="sxs-lookup"><span data-stu-id="54f3f-189">A few easy examples include [sentiment analysis](https://en.wikipedia.org/wiki/Sentiment_analysis), content recommendations based on a user’s preferences or even an automated content moderator that ensures that all the content published by our social network is safe for the family.</span></span>

<span data-ttu-id="54f3f-190">Agora que prendi a atenção de vocês, é provável que achem que é preciso contratar um PhD em ciência matemática para extrair esses padrões e essas informações de arquivos e bancos de dados simples, mas esse não é o caso.</span><span class="sxs-lookup"><span data-stu-id="54f3f-190">Now that I got you hooked, you’ll probably think you need some PhD in math science to extract these patterns and information out of simple databases and files, but you’d be wrong.</span></span>

<span data-ttu-id="54f3f-191">O [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/), parte do [Cortana Intelligence Suite](https://www.microsoft.com/en/server-cloud/cortana-analytics-suite/overview.aspx), é um serviço de nuvem totalmente gerenciado que permite a criação de fluxos de trabalho usando algoritmos em uma interface simples do tipo "arrastar e soltar", a codificação de seus próprios algoritmos em [R](https://en.wikipedia.org/wiki/R_\(programming_language\)) ou o uso de algumas das APIs já criadas e prontas para uso, como: [Análise de Texto](https://gallery.cortanaanalytics.com/MachineLearningAPI/Text-Analytics-2), [Content Moderator](https://www.microsoft.com/moderator) ou [Recomendações](https://gallery.cortanaanalytics.com/MachineLearningAPI/Recommendations-2).</span><span class="sxs-lookup"><span data-stu-id="54f3f-191">[Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/), part of the [Cortana Intelligence Suite](https://www.microsoft.com/en/server-cloud/cortana-analytics-suite/overview.aspx), is the a fully managed cloud service that lets you create workflows using algorithms in a simple drag-and-drop interface, code your own algorithms in [R](https://en.wikipedia.org/wiki/R_\(programming_language\)) or use some of the already-built and ready to use APIs such as: [Text Analytics](https://gallery.cortanaanalytics.com/MachineLearningAPI/Text-Analytics-2),  [Content Moderator](https://www.microsoft.com/moderator) or [Recommendations](https://gallery.cortanaanalytics.com/MachineLearningAPI/Recommendations-2).</span></span>

<span data-ttu-id="54f3f-192">Para conseguir qualquer um desses cenários do Machine Learning, podemos usar o [Azure Data Lake](https://azure.microsoft.com/services/data-lake-store/) para ingerir informações de fontes diferentes e usar [U-SQL](https://azure.microsoft.com/documentation/videos/data-lake-u-sql-query-execution/) para processar as informações e gerar uma saída que possa ser processada pelo Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="54f3f-192">To achieve any of these Machine Learning scenarios, we can use [Azure Data Lake](https://azure.microsoft.com/services/data-lake-store/) to ingest the information from different sources, and use [U-SQL](https://azure.microsoft.com/documentation/videos/data-lake-u-sql-query-execution/) to process the information and generate an output that can be processed by Azure Machine Learning.</span></span>

<span data-ttu-id="54f3f-193">Outra opção disponível é usar os [Serviços Cognitivos da Microsoft](https://www.microsoft.com/cognitive-services) para analisar o conteúdo dos usuários. Não apenas podemos compreendê-los melhor (analisando o que eles escrevem com a [API de Análise de Texto](https://www.microsoft.com/cognitive-services/en-us/text-analytics-api)), mas também podemos detectar o conteúdo indesejado ou maduro e agir de acordo com a [API da Pesquisa Visual Computacional](https://www.microsoft.com/cognitive-services/en-us/computer-vision-api).</span><span class="sxs-lookup"><span data-stu-id="54f3f-193">Another available option is to use [Microsoft Cognitive Services](https://www.microsoft.com/cognitive-services) to analyze our users content; not only can we understand them better (through analyzing what they write with [Text Analytics API](https://www.microsoft.com/cognitive-services/en-us/text-analytics-api)) , but we could also detect unwanted or mature content and act accordingly with [Computer Vision API](https://www.microsoft.com/cognitive-services/en-us/computer-vision-api).</span></span> <span data-ttu-id="54f3f-194">Os Serviços Cognitivos incluem muitas soluções prontas para uso que não exigem qualquer tipo de dados de conhecimento de Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="54f3f-194">Cognitive Services include a lot of out-of-the-box solutions that don't require any kind of Machine Learning knowledge to use.</span></span>

## <a name="a-planet-scale-social-experience"></a><span data-ttu-id="54f3f-195">Uma experiência social em grande escala</span><span class="sxs-lookup"><span data-stu-id="54f3f-195">A planet-scale social experience</span></span>
<span data-ttu-id="54f3f-196">Por último, mas não menos importante, há um tópico importante que devo abordar: **escalabilidade**.</span><span class="sxs-lookup"><span data-stu-id="54f3f-196">There is a last, but not least, important topic I must address: **scalability**.</span></span> <span data-ttu-id="54f3f-197">Durante a criação de uma arquitetura, é essencial que cada componente possa ser dimensionado por conta própria, porque precisamos processar mais dados ou porque desejamos ter uma maior cobertura geográfica (ou ambos!).</span><span class="sxs-lookup"><span data-stu-id="54f3f-197">When designing an architecture it's crucial that each component can scale on its own, either because we need to process more data or because we want to have a bigger geographical coverage (or both!).</span></span> <span data-ttu-id="54f3f-198">Felizmente, realizar uma tarefa complexa como essa é uma **experiência turnkey** com o Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="54f3f-198">Thankfully, achieving such a complex task is a **turnkey experience** with Cosmos DB.</span></span>

<span data-ttu-id="54f3f-199">O Cosmos DB dá suporte ao [particionamento dinâmico](https://azure.microsoft.com/blog/10-things-to-know-about-documentdb-partitioned-collections/) pronto para uso, com a criação automática de partições com base em uma **chave de partição** específica (definida como um dos atributos nos documentos).</span><span class="sxs-lookup"><span data-stu-id="54f3f-199">Cosmos DB supports [dynamic partitioning](https://azure.microsoft.com/blog/10-things-to-know-about-documentdb-partitioned-collections/) out-of-the-box by automatically creating partitions based on a given **partition key** (defined as one of the attributes in your documents).</span></span> <span data-ttu-id="54f3f-200">A definição da chave de partição correta deve ser feita em tempo de design e considerando as [melhores práticas](../cosmos-db/partition-data.md#designing-for-partitioning) disponíveis; no caso de uma experiência social, a estratégia de particionamento deve estar alinhada à forma de consulta (leituras na mesma partição são desejáveis) e gravação (evite “pontos de acesso” com a distribuição das gravações em várias partições).</span><span class="sxs-lookup"><span data-stu-id="54f3f-200">Defining the correct partition key must be done at design time and keeping in mind the [best practices](../cosmos-db/partition-data.md#designing-for-partitioning) available; in the case of a social experience, your partitioning strategy must be aligned with the way you query (reads within the same partition are desirable) and write (avoid "hot spots" by spreading writes on multiple partitions).</span></span> <span data-ttu-id="54f3f-201">Algumas opções são: partições com base em uma chave temporal (dia/mês/semana), por categoria de conteúdo, por região geográfica, por usuário; tudo isso realmente depende de como os dados serão consultados e mostrados na experiência social.</span><span class="sxs-lookup"><span data-stu-id="54f3f-201">Some options are: partitions based on a temporal key (day/month/week), by content category, by geographical region, by user; it all really depends on how you will query the data and show it in your social experience.</span></span> 

<span data-ttu-id="54f3f-202">Um ponto interessante que vale a pena mencionar é que o Cosmos DB executará as consultas (incluindo [agregações](https://azure.microsoft.com/blog/planet-scale-aggregates-with-azure-documentdb/)) em todas as partições de forma transparente; você não precisa adicionar nenhuma lógica conforme os dados aumentam.</span><span class="sxs-lookup"><span data-stu-id="54f3f-202">One interesting point worth mentioning is that Cosmos DB will run your queries (including [aggregates](https://azure.microsoft.com/blog/planet-scale-aggregates-with-azure-documentdb/)) across all your partitions transparently, you don't need to add any logic as your data grows.</span></span>

<span data-ttu-id="54f3f-203">Com o tempo, em última análise, você terá um aumento no tráfego e no consumo de recursos (medido em [RUs](request-units.md), ou Unidades de Solicitação).</span><span class="sxs-lookup"><span data-stu-id="54f3f-203">With time, you will eventually grow in traffic and your resource consumption (measured in [RUs](request-units.md), or Request Units) will increase.</span></span> <span data-ttu-id="54f3f-204">Você fará leituras e gravações com mais frequência conforme a base de usuário aumenta e eles começarão a criar e ler mais conteúdo; a capacidade de **dimensionar a produtividade** é fundamental.</span><span class="sxs-lookup"><span data-stu-id="54f3f-204">You will read and write more frequently as your userbase grows and they will start creating and reading more content; the ability of **scaling your throughput** is vital.</span></span> <span data-ttu-id="54f3f-205">Aumentar nossas RUs é muito fácil; podemos fazer isso com alguns cliques no Portal do Azure ou [emitindo comandos por meio da API](https://docs.microsoft.com/rest/api/documentdb/replace-an-offer).</span><span class="sxs-lookup"><span data-stu-id="54f3f-205">Increasing our RUs is very easy, we can do it with a few clicks on the Azure Portal or by [issuing commands through the API](https://docs.microsoft.com/rest/api/documentdb/replace-an-offer).</span></span>

![Aumentando e definindo uma chave de partição](./media/social-media-apps/social-media-apps-scaling.png)

<span data-ttu-id="54f3f-207">Se as coisas ficarem cada vez melhores e usuários de outra região, país ou continente descobrirem sua plataforma e começarem a usá-la, será uma ótima surpresa!</span><span class="sxs-lookup"><span data-stu-id="54f3f-207">What happens if things keep getting better and users from another region, country or continent, notice your platform and start using it, what a great surprise!</span></span>

<span data-ttu-id="54f3f-208">Mas espere... logo você percebe que a experiência deles com a plataforma não é ideal; eles estão tão distantes de sua região operacional que a latência é terrível e, obviamente, você não deseja perdê-los.</span><span class="sxs-lookup"><span data-stu-id="54f3f-208">But wait... you soon realize their experience with your platform is not optimal; they are so far away from your operational region that the latency is terrible, and you obviously don't want them to quit.</span></span> <span data-ttu-id="54f3f-209">Se houvesse uma maneira fácil de **estender seu alcance global**... mas há!</span><span class="sxs-lookup"><span data-stu-id="54f3f-209">If only there was an easy way of **extending your global reach**... but there is!</span></span>

<span data-ttu-id="54f3f-210">O Cosmos DB permite [replicar os dados globalmente](../cosmos-db/tutorial-global-distribution-documentdb.md) e de forma transparente com alguns cliques e selecionar automaticamente uma das regiões disponíveis por meio do [código cliente](../cosmos-db/tutorial-global-distribution-documentdb.md).</span><span class="sxs-lookup"><span data-stu-id="54f3f-210">Cosmos DB lets you [replicate your data globally](../cosmos-db/tutorial-global-distribution-documentdb.md) and transparently with a couple of clicks and automatically select among the available regions from your [client code](../cosmos-db/tutorial-global-distribution-documentdb.md).</span></span> <span data-ttu-id="54f3f-211">Isso também significa que é possível ter [várias regiões de failover](regional-failover.md).</span><span class="sxs-lookup"><span data-stu-id="54f3f-211">This also means that you can have [multiple failover regions](regional-failover.md).</span></span> 

<span data-ttu-id="54f3f-212">Ao replicar os dados globalmente, você precisa garantir que os clientes podem aproveitá-los.</span><span class="sxs-lookup"><span data-stu-id="54f3f-212">When you replicate your data globally, you need to make sure that your clients can take advantage of it.</span></span> <span data-ttu-id="54f3f-213">Se você estiver usando um front-end da Web ou acessando APIs em clientes móveis, poderá implantar o [Gerenciador de Tráfego do Azure](https://azure.microsoft.com/services/traffic-manager/) e clonar o Serviço de Aplicativo do Azure em todas as regiões desejadas, usando uma [Configuração de desempenho](../app-service-web/web-sites-traffic-manager.md) para dar suporte à cobertura global estendida.</span><span class="sxs-lookup"><span data-stu-id="54f3f-213">If you are using a web frontend or accesing APIs from mobile clients, you can deploy [Azure Traffic Manager](https://azure.microsoft.com/services/traffic-manager/) and clone your Azure App Service on all the desired regions, using a [Performance configuration](../app-service-web/web-sites-traffic-manager.md) to support your extended global coverage.</span></span> <span data-ttu-id="54f3f-214">Quando os clientes acessarem o front-end ou as APIs, eles serão roteados para o Serviço de Aplicativo mais próximo, que, por sua vez, se conectará à réplica local do Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="54f3f-214">When your clients access your frontend or APIs, they will be routed to the closest App Service, which in turn, will connect to the local Cosmos DB replica.</span></span>

![Adicionando cobertura global à plataforma social](./media/social-media-apps/social-media-apps-global-replicate.png)

## <a name="conclusion"></a><span data-ttu-id="54f3f-216">Conclusão</span><span class="sxs-lookup"><span data-stu-id="54f3f-216">Conclusion</span></span>
<span data-ttu-id="54f3f-217">Este artigo tenta esclarecer as alternativas para a criação completa de redes sociais no Azure com serviços de baixo custo e para a entrega de excelentes resultados com o incentivo do uso de uma solução de armazenamento em várias camadas e da distribuição de dados chamada “Escada”.</span><span class="sxs-lookup"><span data-stu-id="54f3f-217">This article tries to shed some light into the alternatives of creating social networks completely on Azure with low-cost services and providing great results by encouraging the use of a multi-layered storage solution and data distribution called “Ladder”.</span></span>

![Diagrama de interação entre os serviços do Azure para rede social](./media/social-media-apps/social-media-apps-azure-solution.png)

<span data-ttu-id="54f3f-219">A verdade é que não há nenhuma solução milagrosa para esses tipos de cenários: é a sinergia criada pela combinação de serviços excepcionais que nos permite proporcionar experiências incríveis: a velocidade e a liberdade possibilitadas pelo Azure Cosmos DB para fornecer um excelente aplicativo social, a inteligência por trás de uma solução de pesquisa de primeira classe como o Azure Search, a flexibilidade dos Serviços de Aplicativos do Azure para não hospedar sequer aplicativos independentes de linguagem, mas eficientes processos em segundo plano e os expansíveis Armazenamento do Azure e o Banco de Dados SQL do Azure para armazenar grandes quantidades de dados, bem como o poder de análise do Azure Machine Learning para criar conhecimento e inteligência que podem fornecer comentários para nossos processos e nos ajudar a entregar o conteúdo certo para os usuários certos.</span><span class="sxs-lookup"><span data-stu-id="54f3f-219">The truth is that there is no silver bullet for this kind of scenarios, it’s the synergy created by the combination of great services that allow us to build great experiences: the speed and freedom of Azure Cosmos DB to provide a great social application, the intelligence behind a first-class search solution like Azure Search, the flexibility of Azure App Services to host not even language-agnostic applications but powerful background processes and the expandable Azure Storage and Azure SQL Database for storing massive amounts of data and the analytic power of Azure Machine Learning to create knowledge and intelligence that can provide feedback to our processes and help us deliver the right content to the right users.</span></span>

## <a name="next-steps"></a><span data-ttu-id="54f3f-220">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="54f3f-220">Next steps</span></span>
<span data-ttu-id="54f3f-221">Para saber mais sobre casos de uso do Cosmos DB, consulte [Casos de uso comuns do Cosmos DB](use-cases.md).</span><span class="sxs-lookup"><span data-stu-id="54f3f-221">To learn more about use cases for Cosmos DB, see [Common Cosmos DB use cases](use-cases.md).</span></span>