---
title: "Padrão de design do Azure Cosmos DB: Aplicativos de mídia social | Microsoft Docs"
description: "Saiba mais sobre um padrão de design de redes sociais, aproveitando a flexibilidade de armazenamento de saudação do banco de dados do Azure Cosmos e outros serviços do Azure."
keywords: "aplicativos de mídia social"
services: cosmos-db
author: ealsur
manager: jhubbard
editor: 
documentationcenter: 
ms.assetid: 2dbf83a7-512a-4993-bf1b-ea7d72e095d9
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/29/2017
ms.author: mimig
ms.openlocfilehash: 47a22f2c5762d62b176921c8052e7bd75d8cf6ae
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="going-social-with-azure-cosmos-db"></a><span data-ttu-id="c58f9-104">Expandindo o Azure Cosmos DB para as redes sociais</span><span class="sxs-lookup"><span data-stu-id="c58f9-104">Going social with Azure Cosmos DB</span></span>
<span data-ttu-id="c58f9-105">Viver em uma sociedade amplamente interconectada significa que, em determinado momento da vida, você acaba se tornando parte de uma **rede social**.</span><span class="sxs-lookup"><span data-stu-id="c58f9-105">Living in a massively-interconnected society means that, at some point in life, you become part of a **social network**.</span></span> <span data-ttu-id="c58f9-106">Podemos usar nossa entusiasta redes sociais tookeep entre em contato com amigos, colegas de trabalho, família ou às vezes tooshare com pessoas com interesses comuns.</span><span class="sxs-lookup"><span data-stu-id="c58f9-106">We use social networks tookeep in touch with friends, colleagues, family, or sometimes tooshare our passion with people with common interests.</span></span>

<span data-ttu-id="c58f9-107">Como engenheiros ou desenvolvedores, pode ter pensado como essas redes de armazenamento e interconexão de nossos dados, ou pode ter até mesmo foi encarregado toocreate ou arquiteto de uma nova rede social para um pequeno porte específico mercado si.</span><span class="sxs-lookup"><span data-stu-id="c58f9-107">As engineers or developers, we might have wondered how do these networks store and interconnect our data, or might have even been tasked toocreate or architect a new social network for a specific niche market yourselves.</span></span> <span data-ttu-id="c58f9-108">Ou seja, quando a pergunta Olá surge: como todos os dados são armazenados?</span><span class="sxs-lookup"><span data-stu-id="c58f9-108">That’s when hello big question arises: How is all this data stored?</span></span>

<span data-ttu-id="c58f9-109">Vamos supor que estamos criando uma nova rede social, na qual nossos usuários podem postar artigos com mídia relacionada como imagens, vídeos ou, até mesmo, música.</span><span class="sxs-lookup"><span data-stu-id="c58f9-109">Let’s suppose that we are creating a new and shiny social network, where our users can post articles with related media like, pictures, videos, or even music.</span></span> <span data-ttu-id="c58f9-110">Os usuários podem fazer comentários sobre as postagens e fornecer pontos para classificações.</span><span class="sxs-lookup"><span data-stu-id="c58f9-110">Users can comment on posts and give points for ratings.</span></span> <span data-ttu-id="c58f9-111">Haverá um feed de postagens que usuários e ser capaz de toointeract na página de aterrissagem do site principal hello.</span><span class="sxs-lookup"><span data-stu-id="c58f9-111">There will be a feed of posts that users will see and be able toointeract with on hello main website landing page.</span></span> <span data-ttu-id="c58f9-112">Isso não parece muito complexo (no primeiro), mas para bem Olá de simplicidade, vamos parar (pôde examinarmos afetados por relações de feeds de usuário personalizada, mas ele exceder o objetivo deste artigo Olá).</span><span class="sxs-lookup"><span data-stu-id="c58f9-112">This doesn’t sound really complex (at first), but for hello sake of simplicity, let’s stop there (we could delve into custom user feeds affected by relationships, but it exceeds hello goal of this article).</span></span>

<span data-ttu-id="c58f9-113">Então, como e onde armazenamos tudo isso?</span><span class="sxs-lookup"><span data-stu-id="c58f9-113">So, how do we store this and where?</span></span>

<span data-ttu-id="c58f9-114">Muitos de vocês talvez tenham experiência em bancos de dados SQL ou pelo menos ter a noção de [relacional de modelagem de dados](https://en.wikipedia.org/wiki/Relational_model) e pode ser tentado toostart desenho algo assim:</span><span class="sxs-lookup"><span data-stu-id="c58f9-114">Many of you might have experience on SQL databases or at least have notion of [relational modeling of data](https://en.wikipedia.org/wiki/Relational_model) and you might be tempted toostart drawing something like this:</span></span>

![Diagrama ilustrando um modelo relacional relativo](./media/social-media-apps/social-media-apps-sql.png) 

<span data-ttu-id="c58f9-116">Uma bela estrutura de dados perfeitamente normalizada...</span><span class="sxs-lookup"><span data-stu-id="c58f9-116">A perfectly normalized and pretty data structure…</span></span> <span data-ttu-id="c58f9-117">que não pode ser dimensionada.</span><span class="sxs-lookup"><span data-stu-id="c58f9-117">that doesn't scale.</span></span> 

<span data-ttu-id="c58f9-118">Não me entendam mal: sempre trabalhei com bancos de dados SQL; eles são ótimos, mas como acontece com cada padrão, prática e plataforma de software, eles não são perfeitos para todos os cenários.</span><span class="sxs-lookup"><span data-stu-id="c58f9-118">Don’t get me wrong, I’ve worked with SQL databases all my life, they are great, but like every pattern, practice and software platform, it’s not perfect for every scenario.</span></span>

<span data-ttu-id="c58f9-119">Por que não SQL Olá melhor opção neste cenário?</span><span class="sxs-lookup"><span data-stu-id="c58f9-119">Why isn't SQL hello best choice in this scenario?</span></span> <span data-ttu-id="c58f9-120">Vamos examinar a estrutura de saudação de uma postagem único, se queria tooshow post em um site ou aplicativo, teria toodo uma consulta com...</span><span class="sxs-lookup"><span data-stu-id="c58f9-120">Let’s look at hello structure of a single post, if I wanted tooshow that post in a website or application, I’d have toodo a query with…</span></span> <span data-ttu-id="c58f9-121">Tabela 8 junções (!) tooshow apenas um único post, agora, um fluxo de postagens que carregar dinamicamente e são exibidas na tela hello e você poderá ver onde vou de imagem.</span><span class="sxs-lookup"><span data-stu-id="c58f9-121">8 table joins (!) just tooshow one single post, now, picture a stream of posts that dynamically load and appear on hello screen and you might see where I am going.</span></span>

<span data-ttu-id="c58f9-122">Poderíamos, obviamente, usar uma instância do SQL humongous com suficiente toosolve power milhares de consultas com esses tooserve junções muitos nosso conteúdo, mas realmente, por que, quando uma solução mais simples seria existe?</span><span class="sxs-lookup"><span data-stu-id="c58f9-122">We could, of course, use a humongous SQL instance with enough power toosolve thousands of queries with these many joins tooserve our content, but truly, why would we when a simpler solution exists?</span></span>

## <a name="hello-nosql-road"></a><span data-ttu-id="c58f9-123">Estrada de NoSQL Olá</span><span class="sxs-lookup"><span data-stu-id="c58f9-123">hello NoSQL road</span></span>
<span data-ttu-id="c58f9-124">Este artigo vai guiá-lo para modelar dados do sua plataforma sociais banco de dados do Azure NoSQL [o banco de dados do Azure Cosmos](https://azure.microsoft.com/services/cosmos-db/) de maneira econômica e aproveitar a outros recursos de banco de dados do Azure Cosmos como Olá [Gremlin Graph API ](../cosmos-db/graph-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="c58f9-124">This article will guide you into modeling your social platform's data with Azure's NoSQL database [Azure Cosmos DB](https://azure.microsoft.com/services/cosmos-db/) in a cost-effective way while leveraging other Azure Cosmos DB features like hello  [Gremlin Graph API](../cosmos-db/graph-introduction.md).</span></span> <span data-ttu-id="c58f9-125">Usando uma abordagem [NoSQL](https://en.wikipedia.org/wiki/NoSQL), armazenando os dados no formato JSON e aplicando a [desnormalização](https://en.wikipedia.org/wiki/Denormalization), nossa postagem anteriormente complicada pode ser transformada em um único [Documento](https://en.wikipedia.org/wiki/Document-oriented_database):</span><span class="sxs-lookup"><span data-stu-id="c58f9-125">Using a [NoSQL](https://en.wikipedia.org/wiki/NoSQL) approach, storing data in JSON format and applying [denormalization](https://en.wikipedia.org/wiki/Denormalization), our previously complicated post can be transformed into a single [Document](https://en.wikipedia.org/wiki/Document-oriented_database):</span></span>


    {
        "id":"ew12-res2-234e-544f",
        "title":"post title",
        "date":"2016-01-01",
        "body":"this is an awesome post stored on NoSQL",
        "createdBy":User,
        "images":["http://myfirstimage.png","http://mysecondimage.png"],
        "videos":[
            {"url":"http://myfirstvideo.mp4", "title":"hello first video"},
            {"url":"http://mysecondvideo.mp4", "title":"hello second video"}
        ],
        "audios":[
            {"url":"http://myfirstaudio.mp3", "title":"hello first audio"},
            {"url":"http://mysecondaudio.mp3", "title":"hello second audio"}
        ]
    }

<span data-ttu-id="c58f9-126">E isso pode ser obtido com uma única consulta, sem junções.</span><span class="sxs-lookup"><span data-stu-id="c58f9-126">And it can be obtained with a single query, and with no joins.</span></span> <span data-ttu-id="c58f9-127">Isso é muito mais simples e direto e budget-wise, ele requer menos recursos tooachieve um resultado melhor.</span><span class="sxs-lookup"><span data-stu-id="c58f9-127">This is much more simple and straightforward, and, budget-wise, it requires fewer resources tooachieve a better result.</span></span>

<span data-ttu-id="c58f9-128">Banco de dados do Azure Cosmos garante que todas as propriedades de saudação são indexadas com seu indexação automática, que pode ser até mesmo [personalizado](indexing-policies.md).</span><span class="sxs-lookup"><span data-stu-id="c58f9-128">Azure Cosmos DB makes sure that all hello properties are indexed with its automatic indexing, which can even be [customized](indexing-policies.md).</span></span> <span data-ttu-id="c58f9-129">Olá livre de esquemas abordagem permite armazenar documentos com diferentes e dinâmicas estruturas, talvez amanhã que queremos toohave postagens trate uma lista de categorias ou hashtags associados a eles, Cosmos DB Olá novos documentos com hello adicionar atributos com e sem extras trabalho necessário por nós.</span><span class="sxs-lookup"><span data-stu-id="c58f9-129">hello schema-free approach lets us store Documents with different and dynamic structures, maybe tomorrow we want posts toohave a list of categories or hashtags associated with them, Cosmos DB will handle hello new Documents with hello added attributes with no extra work required by us.</span></span>

<span data-ttu-id="c58f9-130">Os comentários em uma postagem podem ser tratados da mesma forma como outras postagens com uma propriedade pai (isso simplifica nosso mapeamento de objeto).</span><span class="sxs-lookup"><span data-stu-id="c58f9-130">Comments on a post can be treated as just other posts with a parent property (this simplifies our object mapping).</span></span> 

    {
        "id":"1234-asd3-54ts-199a",
        "title":"Awesome post!",
        "date":"2016-01-02",
        "createdBy":User2,
        "parent":"ew12-res2-234e-544f"
    }

    {
        "id":"asd2-fee4-23gc-jh67",
        "title":"Ditto!",
        "date":"2016-01-03",
        "createdBy":User3,
        "parent":"ew12-res2-234e-544f"
    }

<span data-ttu-id="c58f9-131">Além disso, todas as interações sociais podem ser armazenadas em um objeto separado como contadores:</span><span class="sxs-lookup"><span data-stu-id="c58f9-131">And all social interactions can be stored on a separate object as counters:</span></span>

    {
        "id":"dfe3-thf5-232s-dse4",
        "post":"ew12-res2-234e-544f",
        "comments":2,
        "likes":10,
        "points":200
    }

<span data-ttu-id="c58f9-132">A criação de feeds resume-se à criação de documentos que podem reter uma lista de IDs da postagem com determinada ordem de relevância:</span><span class="sxs-lookup"><span data-stu-id="c58f9-132">Creating feeds is just a matter of creating documents that can hold a list of post ids with a given relevance order:</span></span>

    [
        {"relevance":9, "post":"ew12-res2-234e-544f"},
        {"relevance":8, "post":"fer7-mnb6-fgh9-2344"},
        {"relevance":7, "post":"w34r-qeg6-ref6-8565"}
    ]

<span data-ttu-id="c58f9-133">Poderíamos ter um fluxo "mais recente" com postagens ordenadas por data de criação, um fluxo "mais" com as postagens com mais gosta em Olá últimas 24 horas, poderíamos mesmo implementar um fluxo personalizado para cada usuário com base em lógica como seguidores e interesses e ainda seria uma lista de  postagens.</span><span class="sxs-lookup"><span data-stu-id="c58f9-133">We could have a “latest” stream with posts ordered by creation date, a “hottest” stream with those posts with more likes in hello last 24 hours, we could even implement a custom stream for each user based on logic like followers and interests, and it would still be a list of posts.</span></span> <span data-ttu-id="c58f9-134">É uma questão de como toobuild essas listas, mas o desempenho de leitura Olá permanece maneira ilimitado.</span><span class="sxs-lookup"><span data-stu-id="c58f9-134">It’s a matter of how toobuild these lists, but hello reading performance remains unhindered.</span></span> <span data-ttu-id="c58f9-135">Quando é adquirir uma dessas listas, podemos emitir tooCosmos uma única consulta DB usando Olá [no operador](documentdb-sql-query.md#WhereClause) tooobtain páginas de postagens por vez.</span><span class="sxs-lookup"><span data-stu-id="c58f9-135">Once we acquire one of these lists, we issue a single query tooCosmos DB using hello [IN operator](documentdb-sql-query.md#WhereClause) tooobtain pages of posts at a time.</span></span>

<span data-ttu-id="c58f9-136">Olá feed fluxos poderia ser criada usando [serviços de aplicativos do Azure](https://azure.microsoft.com/services/app-service/) processos de plano de fundo: [Webjobs](../app-service-web/web-sites-create-web-jobs.md).</span><span class="sxs-lookup"><span data-stu-id="c58f9-136">hello feed streams could be built using [Azure App Services’](https://azure.microsoft.com/services/app-service/) background processes: [Webjobs](../app-service-web/web-sites-create-web-jobs.md).</span></span> <span data-ttu-id="c58f9-137">Quando uma mensagem é criada, o processamento em segundo plano pode ser acionado por usando [armazenamento do Azure](https://azure.microsoft.com/services/storage/) [filas](../storage/queues/storage-dotnet-how-to-use-queues.md) e Webjobs disparados usando Olá [SDK do Azure Webjobs](../app-service-web/websites-dotnet-webjobs-sdk.md), implementação Olá lançar propagação dentro de fluxos com base em nossa própria lógica personalizada.</span><span class="sxs-lookup"><span data-stu-id="c58f9-137">Once a post is created, background processing can be triggered by using [Azure Storage](https://azure.microsoft.com/services/storage/) [Queues](../storage/queues/storage-dotnet-how-to-use-queues.md) and Webjobs triggered using hello [Azure Webjobs SDK](../app-service-web/websites-dotnet-webjobs-sdk.md), implementing hello post propagation inside streams based on our own custom logic.</span></span> 

<span data-ttu-id="c58f9-138">Pontos e semelhante em uma postagem pode ser processados de maneira adiada usando esse mesmo toocreate de técnica um ambiente finalmente consistente.</span><span class="sxs-lookup"><span data-stu-id="c58f9-138">Points and likes over a post can be processed in a deferred manner using this same technique toocreate an eventually consistent environment.</span></span>

<span data-ttu-id="c58f9-139">Os seguidores são mais complicados.</span><span class="sxs-lookup"><span data-stu-id="c58f9-139">Followers are trickier.</span></span> <span data-ttu-id="c58f9-140">Cosmos banco de dados tem um limite de tamanho máximo de documento e leitura/gravação documentos grandes podem afetar a escalabilidade de saudação do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c58f9-140">Cosmos DB has a maximum document size limit, and reading/writing large documents can impact hello scalability of your application.</span></span> <span data-ttu-id="c58f9-141">Portanto, pense em armazenar seguidores como um documento com esta estrutura:</span><span class="sxs-lookup"><span data-stu-id="c58f9-141">So you may think about storing followers as a document with this structure:</span></span>

    {
        "id":"234d-sd23-rrf2-552d",
        "followersOf": "dse4-qwe2-ert4-aad2",
        "followers":[
            "ewr5-232d-tyrg-iuo2",
            "qejh-2345-sdf1-ytg5",
            //...
            "uie0-4tyg-3456-rwjh"
        ]
    }

<span data-ttu-id="c58f9-142">Isso pode funcionar para um usuário com alguns milhares seguidores, mas se alguns celebridade une nosso classificações, essa abordagem levará o tamanho do documento grande tooa e pode limitar a tamanho do documento hello eventualmente ocorrências.</span><span class="sxs-lookup"><span data-stu-id="c58f9-142">This might work for a user with a few thousands followers, but if some celebrity joins our ranks, this approach will lead tooa large document size, and might eventually hit hello document size cap.</span></span>

<span data-ttu-id="c58f9-143">toosolve isso, podemos usar uma abordagem mista.</span><span class="sxs-lookup"><span data-stu-id="c58f9-143">toosolve this, we can use a mixed approach.</span></span> <span data-ttu-id="c58f9-144">Como parte do documento de estatísticas do usuário hello, pode armazenar o número de saudação de seguidores:</span><span class="sxs-lookup"><span data-stu-id="c58f9-144">As part of hello User Statistics document we can store hello number of followers:</span></span>

    {
        "id":"234d-sd23-rrf2-552d",
        "user": "dse4-qwe2-ert4-aad2",
        "followers":55230,
        "totalPosts":452,
        "totalPoints":11342
    }

<span data-ttu-id="c58f9-145">E o gráfico real de saudação do seguidores pode ser armazenado usando o banco de dados do Azure Cosmos [API do Graph Gremlin](../cosmos-db/graph-introduction.md), toocreate [vértices](http://mathworld.wolfram.com/GraphVertex.html) para cada usuário e [bordas](http://mathworld.wolfram.com/GraphEdge.html) que mantêm hello " Relações de maneira-A-B".</span><span class="sxs-lookup"><span data-stu-id="c58f9-145">And hello actual graph of followers can be stored using Azure Cosmos DB [Gremlin Graph API](../cosmos-db/graph-introduction.md), toocreate [vertexes](http://mathworld.wolfram.com/GraphVertex.html) for each user and [edges](http://mathworld.wolfram.com/GraphEdge.html) that maintain hello "A-follows-B" relationships.</span></span> <span data-ttu-id="c58f9-146">Olá Graph API permite não apenas obter seguidores Olá de um determinado usuário mas criar consultas mais complexas tooeven sugerir pessoas em comum.</span><span class="sxs-lookup"><span data-stu-id="c58f9-146">hello Graph API let's you not only obtain hello followers of a certain user but create more complex queries tooeven suggest people in common.</span></span> <span data-ttu-id="c58f9-147">Se adicionarmos Olá de gráfico toohello categorias de conteúdo que as pessoas como ou Desfrute, podemos começar dando experiências que incluem a descoberta de conteúdo inteligente, sugerindo conteúdo aqueles seguimos como ou localizar pessoas com quem pode temos muito em comum.</span><span class="sxs-lookup"><span data-stu-id="c58f9-147">If we add toohello graph hello Content Categories that people like or enjoy, we can start weaving experiences that include smart content discovery, suggesting content that those we follow like, or finding people with whom we might have much in common.</span></span>

<span data-ttu-id="c58f9-148">documento de estatísticas do usuário Olá ainda pode ser toocreate usados cartões Olá da interface do usuário ou visualizações de perfil rápido.</span><span class="sxs-lookup"><span data-stu-id="c58f9-148">hello User Statistics document can still be used toocreate cards in hello UI or quick profile previews.</span></span>

## <a name="hello-ladder-pattern-and-data-duplication"></a><span data-ttu-id="c58f9-149">Olá duplicação de dados e o padrão "Pirâmide"</span><span class="sxs-lookup"><span data-stu-id="c58f9-149">hello “Ladder” pattern and data duplication</span></span>
<span data-ttu-id="c58f9-150">Como você deve ter notado no documento JSON Olá que faz referência a uma postagem, há várias ocorrências de um usuário.</span><span class="sxs-lookup"><span data-stu-id="c58f9-150">As you might have noticed in hello JSON document that references a post, there are multiple occurrences of a user.</span></span> <span data-ttu-id="c58f9-151">E você deve ter percebido direita, que isso significa que informações Olá que representa um usuário, considerando esta desnormalização, podem estar presentes em mais de um local.</span><span class="sxs-lookup"><span data-stu-id="c58f9-151">And you’d have guessed right, this means that hello information that represents a user, given this denormalization, might be present in more than one place.</span></span>

<span data-ttu-id="c58f9-152">Ordem tooallow para consultas mais rápidas, tivermos eliminação de duplicação de dados.</span><span class="sxs-lookup"><span data-stu-id="c58f9-152">In order tooallow for faster queries, we incur data duplication.</span></span> <span data-ttu-id="c58f9-153">problema Olá esse efeito colateral é que, se por alguma ação, as alterações de dados do usuário, é preciso toofind todas as atividades de saudação ele nunca foi e atualizá-los todos os.</span><span class="sxs-lookup"><span data-stu-id="c58f9-153">hello problem with this side-effect is that if by some action, a user’s data changes, we need toofind all hello activities he ever did and update them all.</span></span> <span data-ttu-id="c58f9-154">Não parece muito prático, certo?</span><span class="sxs-lookup"><span data-stu-id="c58f9-154">Doesn’t sound very practical, right?</span></span>

<span data-ttu-id="c58f9-155">Estamos toosolve contínuo-identificando Olá atributos de chave de um usuário que mostramos em nosso aplicativo para cada atividade.</span><span class="sxs-lookup"><span data-stu-id="c58f9-155">We are going toosolve it by identifying hello Key attributes of a user that we show in our application for each activity.</span></span> <span data-ttu-id="c58f9-156">Se Mostrar uma postagem em nosso aplicativo visualmente e mostrar apenas do criador de saudação do nome e imagem, por que armazena todos os dados do usuário Olá no atributo createdBy"hello"?</span><span class="sxs-lookup"><span data-stu-id="c58f9-156">If we visually show a post in our application and show just hello creator’s name and picture, why store all of hello user’s data in hello “createdBy” attribute?</span></span> <span data-ttu-id="c58f9-157">Se cada comentário apenas mostramos imagem saudação do usuário, nós não precisa realmente restante Olá das suas informações.</span><span class="sxs-lookup"><span data-stu-id="c58f9-157">If for each comment we just show hello user’s picture, we don’t really need hello rest of his information.</span></span> <span data-ttu-id="c58f9-158">Isso é que algo que posso chamar hello "Escada padrão" entra em cena.</span><span class="sxs-lookup"><span data-stu-id="c58f9-158">That’s where something I call hello “Ladder pattern” comes into play.</span></span>

<span data-ttu-id="c58f9-159">Vamos usar as informações do usuário como exemplo:</span><span class="sxs-lookup"><span data-stu-id="c58f9-159">Let’s take user information as an example:</span></span>

    {
        "id":"dse4-qwe2-ert4-aad2",
        "name":"John",
        "surname":"Doe",
        "address":"742 Evergreen Terrace",
        "birthday":"1983-05-07",
        "email":"john@doe.com",
        "twitterHandle":"@john",
        "username":"johndoe",
        "password":"some_encrypted_phrase",
        "totalPoints":100,
        "totalPosts":24
    }

<span data-ttu-id="c58f9-160">Examinando essas informações, podemos detectar rapidamente quais informações são críticas e quais não são, criando, assim, uma “Escada”:</span><span class="sxs-lookup"><span data-stu-id="c58f9-160">By looking at this information, we can quickly detect which is critical information and which isn’t, thus creating a “Ladder”:</span></span>

![Diagrama de um padrão de escada](./media/social-media-apps/social-media-apps-ladder.png)

<span data-ttu-id="c58f9-162">etapa menor Olá é chamada um UserChunk, Olá mínimo informação que identifica um usuário e é usado para eliminação de duplicação de dados.</span><span class="sxs-lookup"><span data-stu-id="c58f9-162">hello smallest step is called a UserChunk, hello minimal piece of information that identifies a user and it’s used for data duplication.</span></span> <span data-ttu-id="c58f9-163">Reduzindo o tamanho de Olá Olá duplicado tooonly Olá de informações de dados "mostramos", podemos reduzir possibilidade Olá atualizações grandes.</span><span class="sxs-lookup"><span data-stu-id="c58f9-163">By reducing hello size of hello duplicated data tooonly hello information we will “show”, we reduce hello possibility of massive updates.</span></span>

<span data-ttu-id="c58f9-164">etapa intermediária Olá é chamada de usuário Olá, é dados completa de saudação que serão usados na maioria das consultas dependentes de desempenho no banco de dados do Cosmos, Olá mais críticos e acessados.</span><span class="sxs-lookup"><span data-stu-id="c58f9-164">hello middle step is called hello user, it’s hello full data that will be used on most performance-dependent queries on Cosmos DB, hello most accessed and critical.</span></span> <span data-ttu-id="c58f9-165">Ela inclui informações de saudação representadas por um UserChunk.</span><span class="sxs-lookup"><span data-stu-id="c58f9-165">It includes hello information represented by a UserChunk.</span></span>

<span data-ttu-id="c58f9-166">Olá maior é hello usuário estendido.</span><span class="sxs-lookup"><span data-stu-id="c58f9-166">hello largest is hello Extended User.</span></span> <span data-ttu-id="c58f9-167">Ele inclui todas as informações de usuário crítica hello e outros dados que realmente não exigem leitura toobe rapidamente ou seu uso é eventual (como o processo de logon de saudação).</span><span class="sxs-lookup"><span data-stu-id="c58f9-167">It includes all hello critical user information plus other data that doesn’t really require toobe read quickly or it’s usage is eventual (like hello login process).</span></span> <span data-ttu-id="c58f9-168">Esses dados podem ser armazenados fora do Cosmos DB, no Banco de Dados SQL do Azure ou nas Tabelas de Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="c58f9-168">This data can be stored outside of Cosmos DB, in Azure SQL Database or Azure Storage Tables.</span></span>

<span data-ttu-id="c58f9-169">Por que seria é dividir usuário hello e até mesmo armazenar essas informações em diferentes locais?</span><span class="sxs-lookup"><span data-stu-id="c58f9-169">Why would we split hello user and even store this information in different places?</span></span> <span data-ttu-id="c58f9-170">Como de um ponto de vista de desempenho, hello documentos Olá maiores, Olá costlier consultas de saudação.</span><span class="sxs-lookup"><span data-stu-id="c58f9-170">Because from a performance point of view, hello bigger hello documents, hello costlier hello queries.</span></span> <span data-ttu-id="c58f9-171">Manter documentos fino, Olá direito toodo informações sobre consultas de todos os seus dependentes de desempenho para sua rede social e repositório Olá outras informações extras para eventual cenários como, o perfil completo edições, logons, até mesmo a mineração de dados para análise de uso e grande Iniciativas de dados.</span><span class="sxs-lookup"><span data-stu-id="c58f9-171">Keep documents slim, with hello right information toodo all your performance-dependent queries for your social network, and store hello other extra information for eventual scenarios like, full profile edits, logins, even data mining for usage analytics and Big Data initiatives.</span></span> <span data-ttu-id="c58f9-172">Realmente não importa se Olá coleta de dados para mineração de dados são mais lentos porque ele está em execução no banco de dados do SQL Azure, podemos ter preocupar embora que nossos usuários tenham uma experiência rápida e fina.</span><span class="sxs-lookup"><span data-stu-id="c58f9-172">We really don’t care if hello data gathering for data mining is slower because it’s running on Azure SQL Database, we do have concern though that our users have a fast and slim experience.</span></span> <span data-ttu-id="c58f9-173">Um usuário, armazenado no Cosmos DB, teria esta aparência:</span><span class="sxs-lookup"><span data-stu-id="c58f9-173">A user, stored on Cosmos DB, would look like this:</span></span>

    {
        "id":"dse4-qwe2-ert4-aad2",
        "name":"John",
        "surname":"Doe",
        "username":"johndoe"
        "email":"john@doe.com",
        "twitterHandle":"@john"
    }

<span data-ttu-id="c58f9-174">E um Post teria a seguinte aparência:</span><span class="sxs-lookup"><span data-stu-id="c58f9-174">And a Post would look like:</span></span>

    {
        "id":"1234-asd3-54ts-199a",
        "title":"Awesome post!",
        "date":"2016-01-02",
        "createdBy":{
            "id":"dse4-qwe2-ert4-aad2",
            "username":"johndoe"
        }
    }

<span data-ttu-id="c58f9-175">E quando uma edição surge em que um dos atributos de saudação do bloco Olá é afetado, é fácil toofind documentos de saudação afetado por meio de consultas que aponte toohello indexado atributos (selecione * FROM postagens p WHERE p.createdBy.id = = "edited_user_id") e, em seguida, atualizando partes de saudação.</span><span class="sxs-lookup"><span data-stu-id="c58f9-175">And when an edit arises where one of hello attributes of hello chunk is affected, it’s easy toofind hello affected documents by using queries that point toohello indexed attributes (SELECT * FROM posts p WHERE p.createdBy.id == “edited_user_id”) and then updating hello chunks.</span></span>

## <a name="hello-search-box"></a><span data-ttu-id="c58f9-176">caixa de pesquisa Olá</span><span class="sxs-lookup"><span data-stu-id="c58f9-176">hello search box</span></span>
<span data-ttu-id="c58f9-177">Felizmente, os usuários vão gerar muito conteúdo.</span><span class="sxs-lookup"><span data-stu-id="c58f9-177">Users will generate, luckily, a lot of content.</span></span> <span data-ttu-id="c58f9-178">E nós deve ser capaz de tooprovide Olá capacidade toosearch e localizar conteúdo que pode não ser diretamente em seus fluxos de conteúdo, talvez porque não seguimos criadores de hello, ou talvez nós são simplesmente tentar toofind essa postagem antiga que fizemos 6 meses atrás.</span><span class="sxs-lookup"><span data-stu-id="c58f9-178">And we should be able tooprovide hello ability toosearch and find content that might not be directly in their content streams, maybe because we don’t follow hello creators, or maybe we are just trying toofind that old post we did 6 months ago.</span></span>

<span data-ttu-id="c58f9-179">Felizmente, e porque estamos usando o banco de dados do Azure Cosmos, podemos facilmente implementar um mecanismo de pesquisa usando [pesquisa do Azure](https://azure.microsoft.com/services/search/) em alguns minutos e sem digitar uma única linha de código (diferente de saudação obviamente, procure o processo e a interface do usuário).</span><span class="sxs-lookup"><span data-stu-id="c58f9-179">Thankfully, and because we are using Azure Cosmos DB, we can easily implement a search engine using [Azure Search](https://azure.microsoft.com/services/search/) in a couple of minutes and without typing a single line of code (other than obviously, hello search process and UI).</span></span>

<span data-ttu-id="c58f9-180">Por que isso é tão fácil?</span><span class="sxs-lookup"><span data-stu-id="c58f9-180">Why is this so easy?</span></span>

<span data-ttu-id="c58f9-181">A pesquisa do Azure implementa o que eles chamam [indexadores](https://msdn.microsoft.com/library/azure/dn946891.aspx), plano de fundo processa esse gancho em seus repositórios de dados e forma mágica adicionar, atualizar ou remover os objetos em índices de saudação.</span><span class="sxs-lookup"><span data-stu-id="c58f9-181">Azure Search implements what they call [Indexers](https://msdn.microsoft.com/library/azure/dn946891.aspx), background processes that hook in your data repositories and automagically add, update or remove your objects in hello indexes.</span></span> <span data-ttu-id="c58f9-182">Eles dão suporte a [indexadores do Banco de Dados SQL do Azure](https://blogs.msdn.microsoft.com/kaevans/2015/03/06/indexing-azure-sql-database-with-azure-search/), [indexadores dos Blobs do Azure](../search/search-howto-indexing-azure-blob-storage.md) e, ainda bem, [indexadores do Azure Cosmos DB](../search/search-howto-index-documentdb.md).</span><span class="sxs-lookup"><span data-stu-id="c58f9-182">They support an [Azure SQL Database indexers](https://blogs.msdn.microsoft.com/kaevans/2015/03/06/indexing-azure-sql-database-with-azure-search/), [Azure Blobs indexers](../search/search-howto-indexing-azure-blob-storage.md) and thankfully, [Azure Cosmos DB indexers](../search/search-howto-index-documentdb.md).</span></span> <span data-ttu-id="c58f9-183">Olá transição de informações do banco de dados do Cosmos tooAzure pesquisa é simples, como ambas as informações do repositório no formato JSON, precisamos apenas muito[criar nosso índice](../search/search-create-index-portal.md) e mapear os atributos de nossos documentos queremos indexadas e isto é, em questão de minutos (depende de tamanho de saudação de nossos dados), todos os nossos conteúdo estará disponível toobe pesquisado com, pelo melhor solução de pesquisa como um serviço Olá na infraestrutura de nuvem.</span><span class="sxs-lookup"><span data-stu-id="c58f9-183">hello transition of information from Cosmos DB tooAzure Search is straightforward, as both store information in JSON format, we just need too[create our Index](../search/search-create-index-portal.md) and map which attributes from our Documents we want indexed and that’s it, in a matter of minutes (depends on hello size of our data), all our content will be available toobe searched upon, by hello best Search-as-a-Service solution in cloud infrastructure.</span></span> 

<span data-ttu-id="c58f9-184">Para obter mais informações sobre a pesquisa do Azure, você pode visitar Olá [tooSearch de guia do Hitchhiker](https://blogs.msdn.microsoft.com/mvpawardprogram/2016/02/02/a-hitchhikers-guide-to-search/).</span><span class="sxs-lookup"><span data-stu-id="c58f9-184">For more information about Azure Search, you can visit hello [Hitchhiker’s Guide tooSearch](https://blogs.msdn.microsoft.com/mvpawardprogram/2016/02/02/a-hitchhikers-guide-to-search/).</span></span>

## <a name="hello-underlying-knowledge"></a><span data-ttu-id="c58f9-185">Conhecimento subjacente Olá</span><span class="sxs-lookup"><span data-stu-id="c58f9-185">hello underlying knowledge</span></span>
<span data-ttu-id="c58f9-186">Depois de armazenar todo esse conteúdo que aumenta a cada dia, talvez comecemos a pensar: O que posso fazer com todo esse fluxo de informações de meus usuários?</span><span class="sxs-lookup"><span data-stu-id="c58f9-186">After storing all this content that grows and grows every day, we might find ourselves thinking: What can I do with all this stream of information from my users?</span></span>

<span data-ttu-id="c58f9-187">resposta de saudação é simples: colocá-la toowork e aprender com ele.</span><span class="sxs-lookup"><span data-stu-id="c58f9-187">hello answer is straightforward: Put it toowork and learn from it.</span></span>

<span data-ttu-id="c58f9-188">Mas o que podemos aprender?</span><span class="sxs-lookup"><span data-stu-id="c58f9-188">But, what can we learn?</span></span> <span data-ttu-id="c58f9-189">Alguns exemplos simples: [análise de sentimento](https://en.wikipedia.org/wiki/Sentiment_analysis), conteúdo recomendações com base nas preferências do usuário ou até mesmo um moderador conteúdo automatizada que garante que todos os Olá conteúdo publicado por nossa rede social é seguro para Olá família.</span><span class="sxs-lookup"><span data-stu-id="c58f9-189">A few easy examples include [sentiment analysis](https://en.wikipedia.org/wiki/Sentiment_analysis), content recommendations based on a user’s preferences or even an automated content moderator that ensures that all hello content published by our social network is safe for hello family.</span></span>

<span data-ttu-id="c58f9-190">Agora que obtive você conectado, será provavelmente imagina precisar alguns PhD em Matemática Ciência tooextract esses padrões e as informações de arquivos e bancos de dados simples, mas está errado.</span><span class="sxs-lookup"><span data-stu-id="c58f9-190">Now that I got you hooked, you’ll probably think you need some PhD in math science tooextract these patterns and information out of simple databases and files, but you’d be wrong.</span></span>

<span data-ttu-id="c58f9-191">[O aprendizado de máquina do Azure](https://azure.microsoft.com/services/machine-learning/), parte da saudação [Cortana Intelligence Suite](https://www.microsoft.com/en/server-cloud/cortana-analytics-suite/overview.aspx), é um serviço de nuvem totalmente gerenciado que lhe permite criar fluxos de trabalho usando algoritmos em uma interface simple de arrastar e soltar, código de seus próprios algoritmos de hello em [R](https://en.wikipedia.org/wiki/R_\(programming_language\)) ou usar alguns dos Olá já criado e pronto toouse APIs, como: [análises de texto](https://gallery.cortanaanalytics.com/MachineLearningAPI/Text-Analytics-2), [moderador conteúdo](https://www.microsoft.com/moderator) ou [recomendações](https://gallery.cortanaanalytics.com/MachineLearningAPI/Recommendations-2).</span><span class="sxs-lookup"><span data-stu-id="c58f9-191">[Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/), part of hello [Cortana Intelligence Suite](https://www.microsoft.com/en/server-cloud/cortana-analytics-suite/overview.aspx), is hello a fully managed cloud service that lets you create workflows using algorithms in a simple drag-and-drop interface, code your own algorithms in [R](https://en.wikipedia.org/wiki/R_\(programming_language\)) or use some of hello already-built and ready toouse APIs such as: [Text Analytics](https://gallery.cortanaanalytics.com/MachineLearningAPI/Text-Analytics-2),  [Content Moderator](https://www.microsoft.com/moderator) or [Recommendations](https://gallery.cortanaanalytics.com/MachineLearningAPI/Recommendations-2).</span></span>

<span data-ttu-id="c58f9-192">tooachieve qualquer desses cenários de aprendizado de máquina, podemos usar [Azure Data Lake](https://azure.microsoft.com/services/data-lake-store/) tooingest Olá informações de diferentes fontes e usar [U-SQL](https://azure.microsoft.com/documentation/videos/data-lake-u-sql-query-execution/) tooprocess Olá informações e gerar uma saída que podem ser processadas pelo aprendizado de máquina do Azure.</span><span class="sxs-lookup"><span data-stu-id="c58f9-192">tooachieve any of these Machine Learning scenarios, we can use [Azure Data Lake](https://azure.microsoft.com/services/data-lake-store/) tooingest hello information from different sources, and use [U-SQL](https://azure.microsoft.com/documentation/videos/data-lake-u-sql-query-execution/) tooprocess hello information and generate an output that can be processed by Azure Machine Learning.</span></span>

<span data-ttu-id="c58f9-193">Outra opção disponível é toouse [serviços Cognitivos Microsoft](https://www.microsoft.com/cognitive-services) tooanalyze nossos usuários conteúdos; não só podemos compreendê-los melhor (por meio de análise de escrever com [API de análise de texto](https://www.microsoft.com/cognitive-services/en-us/text-analytics-api)), mas também pode detectar conteúdo indesejado ou consolidado e agir de acordo com [API de visão do computador](https://www.microsoft.com/cognitive-services/en-us/computer-vision-api).</span><span class="sxs-lookup"><span data-stu-id="c58f9-193">Another available option is toouse [Microsoft Cognitive Services](https://www.microsoft.com/cognitive-services) tooanalyze our users content; not only can we understand them better (through analyzing what they write with [Text Analytics API](https://www.microsoft.com/cognitive-services/en-us/text-analytics-api)) , but we could also detect unwanted or mature content and act accordingly with [Computer Vision API](https://www.microsoft.com/cognitive-services/en-us/computer-vision-api).</span></span> <span data-ttu-id="c58f9-194">Serviços cognitivos incluem muitas soluções prontas para uso que não exigem qualquer tipo de aprendizado de máquina toouse de dados de Conhecimento.</span><span class="sxs-lookup"><span data-stu-id="c58f9-194">Cognitive Services include a lot of out-of-the-box solutions that don't require any kind of Machine Learning knowledge toouse.</span></span>

## <a name="a-planet-scale-social-experience"></a><span data-ttu-id="c58f9-195">Uma experiência social em grande escala</span><span class="sxs-lookup"><span data-stu-id="c58f9-195">A planet-scale social experience</span></span>
<span data-ttu-id="c58f9-196">Por último, mas não menos importante, há um tópico importante que devo abordar: **escalabilidade**.</span><span class="sxs-lookup"><span data-stu-id="c58f9-196">There is a last, but not least, important topic I must address: **scalability**.</span></span> <span data-ttu-id="c58f9-197">Durante a criação de uma arquitetura é crucial que cada componente pode ser dimensionado por conta própria, ou porque precisamos tooprocess mais dados ou queremos toohave uma cobertura geográfica maior (ou ambos!).</span><span class="sxs-lookup"><span data-stu-id="c58f9-197">When designing an architecture it's crucial that each component can scale on its own, either because we need tooprocess more data or because we want toohave a bigger geographical coverage (or both!).</span></span> <span data-ttu-id="c58f9-198">Felizmente, realizar uma tarefa complexa como essa é uma **experiência turnkey** com o Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="c58f9-198">Thankfully, achieving such a complex task is a **turnkey experience** with Cosmos DB.</span></span>

<span data-ttu-id="c58f9-199">Cosmos banco de dados oferece suporte a [o particionamento dinâmico](https://azure.microsoft.com/blog/10-things-to-know-about-documentdb-partitioned-collections/) -de-prontos, automaticamente Criando partições com base em um determinado **chave de partição** (definido como um dos atributos de saudação em seus documentos).</span><span class="sxs-lookup"><span data-stu-id="c58f9-199">Cosmos DB supports [dynamic partitioning](https://azure.microsoft.com/blog/10-things-to-know-about-documentdb-partitioned-collections/) out-of-the-box by automatically creating partitions based on a given **partition key** (defined as one of hello attributes in your documents).</span></span> <span data-ttu-id="c58f9-200">Definindo Olá correto de chave de partição deve ser feita em tempo de design e manter no hello mente [práticas recomendadas](../cosmos-db/partition-data.md#designing-for-partitioning) disponível; no caso de saudação de uma experiência social, sua estratégia de particionamento deve estar alinhada com forma Olá consultar (leituras dentro de saudação a mesma partição são desejáveis) e gravar (evite "pontos de acesso" Distribuindo gravações em várias partições).</span><span class="sxs-lookup"><span data-stu-id="c58f9-200">Defining hello correct partition key must be done at design time and keeping in mind hello [best practices](../cosmos-db/partition-data.md#designing-for-partitioning) available; in hello case of a social experience, your partitioning strategy must be aligned with hello way you query (reads within hello same partition are desirable) and write (avoid "hot spots" by spreading writes on multiple partitions).</span></span> <span data-ttu-id="c58f9-201">Algumas opções são: partições com base em uma chave de tempo (dia/mês/semana), por categoria de conteúdo, por região geográfica, por usuário. tudo realmente depende de como você consultar dados hello e mostrá-la em sua experiência social.</span><span class="sxs-lookup"><span data-stu-id="c58f9-201">Some options are: partitions based on a temporal key (day/month/week), by content category, by geographical region, by user; it all really depends on how you will query hello data and show it in your social experience.</span></span> 

<span data-ttu-id="c58f9-202">Um ponto interessante vale a pena mencionar é que o banco de dados do Cosmos executará suas consultas (incluindo [agregações](https://azure.microsoft.com/blog/planet-scale-aggregates-with-azure-documentdb/)) em todas as partições de forma transparente, não é necessário tooadd qualquer lógica à medida que aumenta de seus dados.</span><span class="sxs-lookup"><span data-stu-id="c58f9-202">One interesting point worth mentioning is that Cosmos DB will run your queries (including [aggregates](https://azure.microsoft.com/blog/planet-scale-aggregates-with-azure-documentdb/)) across all your partitions transparently, you don't need tooadd any logic as your data grows.</span></span>

<span data-ttu-id="c58f9-203">Com o tempo, em última análise, você terá um aumento no tráfego e no consumo de recursos (medido em [RUs](request-units.md), ou Unidades de Solicitação).</span><span class="sxs-lookup"><span data-stu-id="c58f9-203">With time, you will eventually grow in traffic and your resource consumption (measured in [RUs](request-units.md), or Request Units) will increase.</span></span> <span data-ttu-id="c58f9-204">Você lerá e gravará com mais frequência do que seu userbase cresce e eles começarão a criar e ler mais conteúdo; Olá a capacidade de **dimensionamento a taxa de transferência** é vital.</span><span class="sxs-lookup"><span data-stu-id="c58f9-204">You will read and write more frequently as your userbase grows and they will start creating and reading more content; hello ability of **scaling your throughput** is vital.</span></span> <span data-ttu-id="c58f9-205">Aumentar nossas RUs é muito fácil, poderemos fazer isso com alguns cliques no hello Portal do Azure ou por [emitir comandos por meio de saudação API](https://docs.microsoft.com/rest/api/documentdb/replace-an-offer).</span><span class="sxs-lookup"><span data-stu-id="c58f9-205">Increasing our RUs is very easy, we can do it with a few clicks on hello Azure Portal or by [issuing commands through hello API](https://docs.microsoft.com/rest/api/documentdb/replace-an-offer).</span></span>

![Aumentando e definindo uma chave de partição](./media/social-media-apps/social-media-apps-scaling.png)

<span data-ttu-id="c58f9-207">Se as coisas ficarem cada vez melhores e usuários de outra região, país ou continente descobrirem sua plataforma e começarem a usá-la, será uma ótima surpresa!</span><span class="sxs-lookup"><span data-stu-id="c58f9-207">What happens if things keep getting better and users from another region, country or continent, notice your platform and start using it, what a great surprise!</span></span>

<span data-ttu-id="c58f9-208">Mas, aguarde... em breve você percebe sua experiência com a plataforma não é ideal; até agora, eles são longe de sua região operacional, que latência Olá é terrível e obviamente não deseja que elas tooquit.</span><span class="sxs-lookup"><span data-stu-id="c58f9-208">But wait... you soon realize their experience with your platform is not optimal; they are so far away from your operational region that hello latency is terrible, and you obviously don't want them tooquit.</span></span> <span data-ttu-id="c58f9-209">Se houvesse uma maneira fácil de **estender seu alcance global**... mas há!</span><span class="sxs-lookup"><span data-stu-id="c58f9-209">If only there was an easy way of **extending your global reach**... but there is!</span></span>

<span data-ttu-id="c58f9-210">Cosmos banco de dados permite que você [replicar seus dados globalmente](../cosmos-db/tutorial-global-distribution-documentdb.md) e transparente com alguns cliques e automaticamente, selecione entre as regiões disponíveis de saudação do seu [código de cliente](../cosmos-db/tutorial-global-distribution-documentdb.md).</span><span class="sxs-lookup"><span data-stu-id="c58f9-210">Cosmos DB lets you [replicate your data globally](../cosmos-db/tutorial-global-distribution-documentdb.md) and transparently with a couple of clicks and automatically select among hello available regions from your [client code](../cosmos-db/tutorial-global-distribution-documentdb.md).</span></span> <span data-ttu-id="c58f9-211">Isso também significa que é possível ter [várias regiões de failover](regional-failover.md).</span><span class="sxs-lookup"><span data-stu-id="c58f9-211">This also means that you can have [multiple failover regions](regional-failover.md).</span></span> 

<span data-ttu-id="c58f9-212">Quando você replica os dados globais, será necessário toomake-se de que os clientes podem tirar proveito dele.</span><span class="sxs-lookup"><span data-stu-id="c58f9-212">When you replicate your data globally, you need toomake sure that your clients can take advantage of it.</span></span> <span data-ttu-id="c58f9-213">Se você estiver usando um front-end da web ou acessar APIs de cliente móveis, você pode implantar [Azure Traffic Manager](https://azure.microsoft.com/services/traffic-manager/) e clonar seu serviço de aplicativo do Azure em todas as regiões de saudação desejada, usando um [configuração desempenho](../app-service-web/web-sites-traffic-manager.md)toosupport sua cobertura global estendida.</span><span class="sxs-lookup"><span data-stu-id="c58f9-213">If you are using a web frontend or accesing APIs from mobile clients, you can deploy [Azure Traffic Manager](https://azure.microsoft.com/services/traffic-manager/) and clone your Azure App Service on all hello desired regions, using a [Performance configuration](../app-service-web/web-sites-traffic-manager.md) toosupport your extended global coverage.</span></span> <span data-ttu-id="c58f9-214">Quando os clientes acessam o front-end ou APIs, eles serão roteada toohello mais próximo serviço de aplicativo, que por sua vez, se conectará toohello réplica de banco de dados do Cosmos local.</span><span class="sxs-lookup"><span data-stu-id="c58f9-214">When your clients access your frontend or APIs, they will be routed toohello closest App Service, which in turn, will connect toohello local Cosmos DB replica.</span></span>

![Adicionando plataforma social tooyour de cobertura global](./media/social-media-apps/social-media-apps-global-replicate.png)

## <a name="conclusion"></a><span data-ttu-id="c58f9-216">Conclusão</span><span class="sxs-lookup"><span data-stu-id="c58f9-216">Conclusion</span></span>
<span data-ttu-id="c58f9-217">Este artigo tenta tooshed alguns claro em alternativas de saudação de criação de redes sociais completamente no Azure com serviços de baixo custo e fornecer excelentes resultados usando incentivando Olá uma distribuição de solução e os dados de várias camadas de armazenamento chamada "Pirâmide".</span><span class="sxs-lookup"><span data-stu-id="c58f9-217">This article tries tooshed some light into hello alternatives of creating social networks completely on Azure with low-cost services and providing great results by encouraging hello use of a multi-layered storage solution and data distribution called “Ladder”.</span></span>

![Diagrama de interação entre os serviços do Azure para rede social](./media/social-media-apps/social-media-apps-azure-solution.png)

<span data-ttu-id="c58f9-219">verdade Olá é que não há nenhum definitiva para esse tipo de cenários, ela tem Olá sinergia criada pela combinação de saudação de ótimos serviços que nos permitem toobuild grandes experiências: Olá velocidade e a liberdade de banco de dados do Azure Cosmos tooprovide um ótimo aplicativo social inteligência de saudação atrás de uma solução de pesquisa de primeira classe, como pesquisa do Azure, flexibilidade de saudação do toohost de serviços de aplicativo do Azure não mesmo idioma agnóstico aplicativos mas processos em segundo plano eficiente e Olá expansível armazenamento do Azure e banco de dados SQL Azure para armazenar grandes quantidades de dados e hello potência analítica de aprendizado de máquina do Azure toocreate conhecimento e inteligência que pode fornecer comentários tooour processos e ajude-na entregar Olá usuários toohello conteúdo à direita.</span><span class="sxs-lookup"><span data-stu-id="c58f9-219">hello truth is that there is no silver bullet for this kind of scenarios, it’s hello synergy created by hello combination of great services that allow us toobuild great experiences: hello speed and freedom of Azure Cosmos DB tooprovide a great social application, hello intelligence behind a first-class search solution like Azure Search, hello flexibility of Azure App Services toohost not even language-agnostic applications but powerful background processes and hello expandable Azure Storage and Azure SQL Database for storing massive amounts of data and hello analytic power of Azure Machine Learning toocreate knowledge and intelligence that can provide feedback tooour processes and help us deliver hello right content toohello right users.</span></span>

## <a name="next-steps"></a><span data-ttu-id="c58f9-220">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="c58f9-220">Next steps</span></span>
<span data-ttu-id="c58f9-221">toolearn mais informações sobre os casos de uso para Cosmos DB, consulte [casos de uso do banco de dados comum Cosmos](use-cases.md).</span><span class="sxs-lookup"><span data-stu-id="c58f9-221">toolearn more about use cases for Cosmos DB, see [Common Cosmos DB use cases](use-cases.md).</span></span>
