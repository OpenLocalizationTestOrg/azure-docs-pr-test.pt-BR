---
title: "aaaAzure Cosmos DB automação - gerenciamento com o Powershell | Microsoft Docs"
description: Use o Azure PowerShell para gerenciar suas contas do Azure Cosmos DB.
services: cosmos-db
author: dmakwana
manager: jhubbard
editor: 
tags: azure-resource-manager
documentationcenter: 
ms.assetid: 
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 04/21/2017
ms.author: dimakwan
ms.openlocfilehash: 3239fb815918a0e47bff69fcd1ab6562519e429b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="create-an-azure-cosmos-db-account-using-powershell"></a><span data-ttu-id="e742c-103">Criar uma conta do Azure Cosmos DB usando o PowerShell</span><span class="sxs-lookup"><span data-stu-id="e742c-103">Create an Azure Cosmos DB account using PowerShell</span></span>

<span data-ttu-id="e742c-104">Olá, guia a seguir descreve comandos tooautomate do gerenciamento de suas contas de banco de dados do banco de dados do Azure Cosmos usando o Powershell do Azure.</span><span class="sxs-lookup"><span data-stu-id="e742c-104">hello following guide describes commands tooautomate management of your Azure Cosmos DB database accounts using Azure Powershell.</span></span> <span data-ttu-id="e742c-105">Ele também inclui chaves de conta toomanage comandos e prioridades de failover em [contas de banco de dados de várias regiões][scaling-globally].</span><span class="sxs-lookup"><span data-stu-id="e742c-105">It also includes commands toomanage account keys and failover priorities in [multi-region database accounts][scaling-globally].</span></span> <span data-ttu-id="e742c-106">Atualize sua conta de banco de dados permite que você toomodify políticas de consistência e adicionar ou remover regiões.</span><span class="sxs-lookup"><span data-stu-id="e742c-106">Updating your database account allows you toomodify consistency policies and add/remove regions.</span></span> <span data-ttu-id="e742c-107">Para o gerenciamento de plataforma cruzada de sua conta do Azure Cosmos DB, você pode usar [CLI do Azure](cli-samples.md), Olá [API de REST do provedor de recursos][rp-rest-api], ou hello [Azure Portal](create-documentdb-dotnet.md#create-account).</span><span class="sxs-lookup"><span data-stu-id="e742c-107">For cross-platform management of your Azure Cosmos DB account, you can use either [Azure CLI](cli-samples.md), hello [Resource Provider REST API][rp-rest-api], or hello [Azure portal](create-documentdb-dotnet.md#create-account).</span></span>

## <a name="getting-started"></a><span data-ttu-id="e742c-108">Introdução</span><span class="sxs-lookup"><span data-stu-id="e742c-108">Getting Started</span></span>

<span data-ttu-id="e742c-109">Siga as instruções de saudação em [como tooinstall e configurar o Azure PowerShell] [ powershell-install-configure] tooinstall e efetuar login no tooyour do Azure Resource Manager conta no Powershell.</span><span class="sxs-lookup"><span data-stu-id="e742c-109">Follow hello instructions in [How tooinstall and configure Azure PowerShell][powershell-install-configure] tooinstall and log in tooyour Azure Resource Manager account in Powershell.</span></span>

### <a name="notes"></a><span data-ttu-id="e742c-110">Observações</span><span class="sxs-lookup"><span data-stu-id="e742c-110">Notes</span></span>

* <span data-ttu-id="e742c-111">Se você desejar Olá tooexecute comandos a seguir sem a necessidade de confirmação do usuário, acrescentar Olá `-Force` sinalizador toohello comando.</span><span class="sxs-lookup"><span data-stu-id="e742c-111">If you would like tooexecute hello following commands without requiring user confirmation, append hello `-Force` flag toohello command.</span></span>
* <span data-ttu-id="e742c-112">Saudação de todos os comandos a seguir são síncronas.</span><span class="sxs-lookup"><span data-stu-id="e742c-112">All hello following commands are synchronous.</span></span>

## <span data-ttu-id="e742c-113"><a id="create-documentdb-account-powershell"></a> Criar uma conta do Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="e742c-113"><a id="create-documentdb-account-powershell"></a> Create an Azure Cosmos DB Account</span></span>

<span data-ttu-id="e742c-114">Este comando permite que você toocreate uma conta de banco de dados do banco de dados do Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="e742c-114">This command allows you toocreate an Azure Cosmos DB database account.</span></span> <span data-ttu-id="e742c-115">Configure sua nova conta de banco de dados como região única ou [várias regiões][scaling-globally] com uma [política de consistência](consistency-levels.md) determinada.</span><span class="sxs-lookup"><span data-stu-id="e742c-115">Configure your new database account as either single-region or [multi-region][scaling-globally] with a certain [consistency policy](consistency-levels.md).</span></span>

    $locations = @(@{"locationName"="<write-region-location>"; "failoverPriority"=0}, @{"locationName"="<read-region-location>"; "failoverPriority"=1})
    $iprangefilter = "<ip-range-filter>"
    $consistencyPolicy = @{"defaultConsistencyLevel"="<default-consistency-level>"; "maxIntervalInSeconds"="<max-interval>"; "maxStalenessPrefix"="<max-staleness-prefix>"}
    $CosmosDBProperties = @{"databaseAccountOfferType"="Standard"; "locations"=$locations; "consistencyPolicy"=$consistencyPolicy; "ipRangeFilter"=$iprangefilter}
    New-AzureRmResource -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName <resource-group-name>  -Location "<resource-group-location>" -Name <database-account-name> -Properties $CosmosDBProperties
    
* <span data-ttu-id="e742c-116">`<write-region-location>`nome de local de saudação do hello região da conta de banco de dados de saudação de gravação.</span><span class="sxs-lookup"><span data-stu-id="e742c-116">`<write-region-location>` hello location name of hello write region of hello database account.</span></span> <span data-ttu-id="e742c-117">Esse local é necessário toohave um valor de prioridade de failover de 0.</span><span class="sxs-lookup"><span data-stu-id="e742c-117">This location is required toohave a failover priority value of 0.</span></span> <span data-ttu-id="e742c-118">Deve haver exatamente uma região de gravação por conta do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="e742c-118">There must be exactly one write region per database account.</span></span>
* <span data-ttu-id="e742c-119">`<read-region-location>`nome de local de saudação do hello ler região da conta de banco de dados de saudação.</span><span class="sxs-lookup"><span data-stu-id="e742c-119">`<read-region-location>` hello location name of hello read region of hello database account.</span></span> <span data-ttu-id="e742c-120">Esse local é necessário toohave um valor de prioridade de failover de maior que 0.</span><span class="sxs-lookup"><span data-stu-id="e742c-120">This location is required toohave a failover priority value of greater than 0.</span></span> <span data-ttu-id="e742c-121">Pode haver mais de uma região de leitura por conta do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="e742c-121">There can be more than one read regions per database account.</span></span>
* <span data-ttu-id="e742c-122">`<ip-range-filter>`Especifica o conjunto de saudação de endereços IP ou intervalos de endereços IP no toobe de formulário CIDR incluído como Olá permitido a lista de IPs de cliente para uma conta de banco de dados especificado.</span><span class="sxs-lookup"><span data-stu-id="e742c-122">`<ip-range-filter>` Specifies hello set of IP addresses or IP address ranges in CIDR form toobe included as hello allowed list of client IPs for a given database account.</span></span> <span data-ttu-id="e742c-123">Os intervalos/endereços IP devem ser separados por vírgula e não devem conter espaços.</span><span class="sxs-lookup"><span data-stu-id="e742c-123">IP addresses/ranges must be comma separated and must not contain any spaces.</span></span> <span data-ttu-id="e742c-124">Para obter mais informações, consulte [Suporte ao firewall do Azure Cosmos DB](firewall-support.md)</span><span class="sxs-lookup"><span data-stu-id="e742c-124">For more information, see [Azure Cosmos DB Firewall Support](firewall-support.md)</span></span>
* <span data-ttu-id="e742c-125">`<default-consistency-level>`nível de consistência de padrão de saudação do hello Azure Cosmos DB conta.</span><span class="sxs-lookup"><span data-stu-id="e742c-125">`<default-consistency-level>` hello default consistency level of hello Azure Cosmos DB account.</span></span> <span data-ttu-id="e742c-126">Para obter mais informações, consulte [Níveis de consistência no Azure Cosmos DB](consistency-levels.md).</span><span class="sxs-lookup"><span data-stu-id="e742c-126">For more information, see [Consistency Levels in Azure Cosmos DB](consistency-levels.md).</span></span>
* <span data-ttu-id="e742c-127">`<max-interval>`Quando usado com consistência envelhecimento limitado, esse valor representa a quantidade de tempo de saudação de desatualização associada (em segundos) tolerada.</span><span class="sxs-lookup"><span data-stu-id="e742c-127">`<max-interval>` When used with Bounded Staleness consistency, this value represents hello time amount of staleness (in seconds) tolerated.</span></span> <span data-ttu-id="e742c-128">O intervalo aceito para este valor é de 1 a 100.</span><span class="sxs-lookup"><span data-stu-id="e742c-128">Accepted range for this value is 1 - 100.</span></span>
* <span data-ttu-id="e742c-129">`<max-staleness-prefix>`Quando usado com consistência envelhecimento limitado, esse valor representa o número de saudação de solicitações obsoletos tolerado.</span><span class="sxs-lookup"><span data-stu-id="e742c-129">`<max-staleness-prefix>` When used with Bounded Staleness consistency, this value represents hello number of stale requests tolerated.</span></span> <span data-ttu-id="e742c-130">O intervalo aceito para este valor é de 1 a 2,147,483,647.</span><span class="sxs-lookup"><span data-stu-id="e742c-130">Accepted range for this value is 1 – 2,147,483,647.</span></span>
* <span data-ttu-id="e742c-131">`<resource-group-name>`nome de saudação do hello [o grupo de recursos do Azure] [ azure-resource-groups] conta toowhich Olá novo banco de dados do Azure Cosmos banco de dados pertence.</span><span class="sxs-lookup"><span data-stu-id="e742c-131">`<resource-group-name>` hello name of hello [Azure Resource Group][azure-resource-groups] toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="e742c-132">`<resource-group-location>`local de saudação do hello conta de banco de dados do novo banco de dados do Azure Cosmos do grupo de recursos do Azure toowhich Olá pertence.</span><span class="sxs-lookup"><span data-stu-id="e742c-132">`<resource-group-location>` hello location of hello Azure Resource Group toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="e742c-133">`<database-account-name>`nome de saudação da conta de banco de dados do hello Azure Cosmos DB toobe criado.</span><span class="sxs-lookup"><span data-stu-id="e742c-133">`<database-account-name>` hello name of hello Azure Cosmos DB database account toobe created.</span></span> <span data-ttu-id="e742c-134">Ele só pode usar letras minúsculas, números, hello '-' caracteres e deve ser entre 3 e 50 caracteres.</span><span class="sxs-lookup"><span data-stu-id="e742c-134">It can only use lowercase letters, numbers, hello '-' character, and must be between 3 and 50 characters.</span></span>

<span data-ttu-id="e742c-135">Exemplo:</span><span class="sxs-lookup"><span data-stu-id="e742c-135">Example:</span></span> 

    $locations = @(@{"locationName"="West US"; "failoverPriority"=0}, @{"locationName"="East US"; "failoverPriority"=1})
    $iprangefilter = ""
    $consistencyPolicy = @{"defaultConsistencyLevel"="BoundedStaleness"; "maxIntervalInSeconds"=5; "maxStalenessPrefix"=100}
    $CosmosDBProperties = @{"databaseAccountOfferType"="Standard"; "locations"=$locations; "consistencyPolicy"=$consistencyPolicy; "ipRangeFilter"=$iprangefilter}
    New-AzureRmResource -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "rg-test" -Location "West US" -Name "docdb-test" -Properties $CosmosDBProperties

### <a name="notes"></a><span data-ttu-id="e742c-136">Observações</span><span class="sxs-lookup"><span data-stu-id="e742c-136">Notes</span></span>
* <span data-ttu-id="e742c-137">Olá exemplo anterior cria uma conta de banco de dados com duas regiões.</span><span class="sxs-lookup"><span data-stu-id="e742c-137">hello preceding example creates a database account with two regions.</span></span> <span data-ttu-id="e742c-138">Também é possível toocreate uma conta de banco de dados com uma região (que é designada como a região de gravação da saudação e ter um valor de prioridade de failover de 0) ou mais de duas regiões.</span><span class="sxs-lookup"><span data-stu-id="e742c-138">It is also possible toocreate a database account with either one region (which is designated as hello write region and have a failover priority value of 0) or more than two regions.</span></span> <span data-ttu-id="e742c-139">Para saber mais, veja [Contas de banco de dados com várias regiões][scaling-globally].</span><span class="sxs-lookup"><span data-stu-id="e742c-139">For more information, see [multi-region database accounts][scaling-globally].</span></span>
* <span data-ttu-id="e742c-140">locais de saudação devem ser regiões em que o banco de dados do Azure Cosmos está disponível.</span><span class="sxs-lookup"><span data-stu-id="e742c-140">hello locations must be regions in which Azure Cosmos DB is generally available.</span></span> <span data-ttu-id="e742c-141">lista atual de saudação de regiões é fornecida em Olá [página regiões do Azure](https://azure.microsoft.com/regions/#services).</span><span class="sxs-lookup"><span data-stu-id="e742c-141">hello current list of regions is provided on hello [Azure Regions page](https://azure.microsoft.com/regions/#services).</span></span>

## <span data-ttu-id="e742c-142"><a id="update-documentdb-account-powershell"></a> Atualizar uma conta de banco de dados do DocumentDB</span><span class="sxs-lookup"><span data-stu-id="e742c-142"><a id="update-documentdb-account-powershell"></a> Update a DocumentDB Database Account</span></span>

<span data-ttu-id="e742c-143">Este comando permite que você tooupdate propriedades da conta de banco de dados de banco de dados do Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="e742c-143">This command allows you tooupdate your Azure Cosmos DB database account properties.</span></span> <span data-ttu-id="e742c-144">Isso inclui locais hello e política de consistência Olá qual conta de banco de dados Olá existe no.</span><span class="sxs-lookup"><span data-stu-id="e742c-144">This includes hello consistency policy and hello locations which hello database account exists in.</span></span>

> [!NOTE]
> <span data-ttu-id="e742c-145">Este comando permite que você tooadd e remover regiões, mas não permite toomodify prioridades de failover.</span><span class="sxs-lookup"><span data-stu-id="e742c-145">This command allows you tooadd and remove regions but does not allow you toomodify failover priorities.</span></span> <span data-ttu-id="e742c-146">toomodify prioridades de failover, consulte [abaixo](#modify-failover-priority-powershell).</span><span class="sxs-lookup"><span data-stu-id="e742c-146">toomodify failover priorities, see [below](#modify-failover-priority-powershell).</span></span>

    $locations = @(@{"locationName"="<write-region-location>"; "failoverPriority"=0}, @{"locationName"="<read-region-location>"; "failoverPriority"=1})
    $iprangefilter = "<ip-range-filter>"
    $consistencyPolicy = @{"defaultConsistencyLevel"="<default-consistency-level>"; "maxIntervalInSeconds"="<max-interval>"; "maxStalenessPrefix"="<max-staleness-prefix>"}
    $CosmosDBProperties = @{"databaseAccountOfferType"="Standard"; "locations"=$locations; "consistencyPolicy"=$consistencyPolicy; "ipRangeFilter"=$iprangefilter}
    Set-AzureRmResource -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName <resource-group-name> -Name <database-account-name> -Properties $CosmosDBProperties
    
* <span data-ttu-id="e742c-147">`<write-region-location>`nome de local de saudação do hello região da conta de banco de dados de saudação de gravação.</span><span class="sxs-lookup"><span data-stu-id="e742c-147">`<write-region-location>` hello location name of hello write region of hello database account.</span></span> <span data-ttu-id="e742c-148">Esse local é necessário toohave um valor de prioridade de failover de 0.</span><span class="sxs-lookup"><span data-stu-id="e742c-148">This location is required toohave a failover priority value of 0.</span></span> <span data-ttu-id="e742c-149">Deve haver exatamente uma região de gravação por conta do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="e742c-149">There must be exactly one write region per database account.</span></span>
* <span data-ttu-id="e742c-150">`<read-region-location>`nome de local de saudação do hello ler região da conta de banco de dados de saudação.</span><span class="sxs-lookup"><span data-stu-id="e742c-150">`<read-region-location>` hello location name of hello read region of hello database account.</span></span> <span data-ttu-id="e742c-151">Esse local é necessário toohave um valor de prioridade de failover de maior que 0.</span><span class="sxs-lookup"><span data-stu-id="e742c-151">This location is required toohave a failover priority value of greater than 0.</span></span> <span data-ttu-id="e742c-152">Pode haver mais de uma região de leitura por conta do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="e742c-152">There can be more than one read regions per database account.</span></span>
* <span data-ttu-id="e742c-153">`<default-consistency-level>`nível de consistência de padrão de saudação do hello Azure Cosmos DB conta.</span><span class="sxs-lookup"><span data-stu-id="e742c-153">`<default-consistency-level>` hello default consistency level of hello Azure Cosmos DB account.</span></span> <span data-ttu-id="e742c-154">Para obter mais informações, consulte [Níveis de consistência no Azure Cosmos DB](consistency-levels.md).</span><span class="sxs-lookup"><span data-stu-id="e742c-154">For more information, see [Consistency Levels in Azure Cosmos DB](consistency-levels.md).</span></span>
* <span data-ttu-id="e742c-155">`<ip-range-filter>`Especifica o conjunto de saudação de endereços IP ou intervalos de endereços IP no toobe de formulário CIDR incluído como Olá permitido a lista de IPs de cliente para uma conta de banco de dados especificado.</span><span class="sxs-lookup"><span data-stu-id="e742c-155">`<ip-range-filter>` Specifies hello set of IP addresses or IP address ranges in CIDR form toobe included as hello allowed list of client IPs for a given database account.</span></span> <span data-ttu-id="e742c-156">Os intervalos/endereços IP devem ser separados por vírgula e não devem conter espaços.</span><span class="sxs-lookup"><span data-stu-id="e742c-156">IP addresses/ranges must be comma separated and must not contain any spaces.</span></span> <span data-ttu-id="e742c-157">Para obter mais informações, consulte [Suporte ao firewall do Azure Cosmos DB](firewall-support.md)</span><span class="sxs-lookup"><span data-stu-id="e742c-157">For more information, see [Azure Cosmos DB Firewall Support](firewall-support.md)</span></span>
* <span data-ttu-id="e742c-158">`<max-interval>`Quando usado com consistência envelhecimento limitado, esse valor representa a quantidade de tempo de saudação de desatualização associada (em segundos) tolerada.</span><span class="sxs-lookup"><span data-stu-id="e742c-158">`<max-interval>` When used with Bounded Staleness consistency, this value represents hello time amount of staleness (in seconds) tolerated.</span></span> <span data-ttu-id="e742c-159">O intervalo aceito para este valor é de 1 a 100.</span><span class="sxs-lookup"><span data-stu-id="e742c-159">Accepted range for this value is 1 - 100.</span></span>
* <span data-ttu-id="e742c-160">`<max-staleness-prefix>`Quando usado com consistência envelhecimento limitado, esse valor representa o número de saudação de solicitações obsoletos tolerado.</span><span class="sxs-lookup"><span data-stu-id="e742c-160">`<max-staleness-prefix>` When used with Bounded Staleness consistency, this value represents hello number of stale requests tolerated.</span></span> <span data-ttu-id="e742c-161">O intervalo aceito para este valor é de 1 a 2,147,483,647.</span><span class="sxs-lookup"><span data-stu-id="e742c-161">Accepted range for this value is 1 – 2,147,483,647.</span></span>
* <span data-ttu-id="e742c-162">`<resource-group-name>`nome de saudação do hello [o grupo de recursos do Azure] [ azure-resource-groups] conta toowhich Olá novo banco de dados do Azure Cosmos banco de dados pertence.</span><span class="sxs-lookup"><span data-stu-id="e742c-162">`<resource-group-name>` hello name of hello [Azure Resource Group][azure-resource-groups] toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="e742c-163">`<resource-group-location>`local de saudação do hello conta de banco de dados do novo banco de dados do Azure Cosmos do grupo de recursos do Azure toowhich Olá pertence.</span><span class="sxs-lookup"><span data-stu-id="e742c-163">`<resource-group-location>` hello location of hello Azure Resource Group toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="e742c-164">`<database-account-name>`nome de saudação da conta de banco de dados do hello Azure Cosmos DB toobe atualizado.</span><span class="sxs-lookup"><span data-stu-id="e742c-164">`<database-account-name>` hello name of hello Azure Cosmos DB database account toobe updated.</span></span>

<span data-ttu-id="e742c-165">Exemplo:</span><span class="sxs-lookup"><span data-stu-id="e742c-165">Example:</span></span> 

    $locations = @(@{"locationName"="West US"; "failoverPriority"=0}, @{"locationName"="East US"; "failoverPriority"=1})
    $iprangefilter = ""
    $consistencyPolicy = @{"defaultConsistencyLevel"="BoundedStaleness"; "maxIntervalInSeconds"=5; "maxStalenessPrefix"=100}
    $CosmosDBProperties = @{"databaseAccountOfferType"="Standard"; "locations"=$locations; "consistencyPolicy"=$consistencyPolicy; "ipRangeFilter"=$iprangefilter}
    Set-AzureRmResource -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "rg-test" -Name "docdb-test" -Properties $CosmosDBProperties

## <span data-ttu-id="e742c-166"><a id="delete-documentdb-account-powershell"></a> Excluir uma conta de banco de dados do DocumentDB</span><span class="sxs-lookup"><span data-stu-id="e742c-166"><a id="delete-documentdb-account-powershell"></a> Delete a DocumentDB Database Account</span></span>

<span data-ttu-id="e742c-167">Este comando permite que você toodelete uma conta de banco de dados existente do banco de dados do Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="e742c-167">This command allows you toodelete an existing Azure Cosmos DB database account.</span></span>

    Remove-AzureRmResource -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "<resource-group-name>" -Name "<database-account-name>"
    
* <span data-ttu-id="e742c-168">`<resource-group-name>`nome de saudação do hello [o grupo de recursos do Azure] [ azure-resource-groups] conta toowhich Olá novo banco de dados do Azure Cosmos banco de dados pertence.</span><span class="sxs-lookup"><span data-stu-id="e742c-168">`<resource-group-name>` hello name of hello [Azure Resource Group][azure-resource-groups] toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="e742c-169">`<database-account-name>`nome de saudação da conta de banco de dados do hello Azure Cosmos DB toobe excluído.</span><span class="sxs-lookup"><span data-stu-id="e742c-169">`<database-account-name>` hello name of hello Azure Cosmos DB database account toobe deleted.</span></span>

<span data-ttu-id="e742c-170">Exemplo:</span><span class="sxs-lookup"><span data-stu-id="e742c-170">Example:</span></span>

    Remove-AzureRmResource -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "rg-test" -Name "docdb-test"

## <span data-ttu-id="e742c-171"><a id="get-documentdb-properties-powershell"></a>Obter propriedades de uma conta de banco de dados do DocumentDB</span><span class="sxs-lookup"><span data-stu-id="e742c-171"><a id="get-documentdb-properties-powershell"></a> Get Properties of a DocumentDB Database Account</span></span>

<span data-ttu-id="e742c-172">Este comando permite que você tooget propriedades de saudação de uma conta de banco de dados existente do banco de dados do Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="e742c-172">This command allows you tooget hello properties of an existing Azure Cosmos DB database account.</span></span>

    Get-AzureRmResource -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "<resource-group-name>" -Name "<database-account-name>"

* <span data-ttu-id="e742c-173">`<resource-group-name>`nome de saudação do hello [o grupo de recursos do Azure] [ azure-resource-groups] conta toowhich Olá novo banco de dados do Azure Cosmos banco de dados pertence.</span><span class="sxs-lookup"><span data-stu-id="e742c-173">`<resource-group-name>` hello name of hello [Azure Resource Group][azure-resource-groups] toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="e742c-174">`<database-account-name>`nome de saudação do hello conta de banco de dados do banco de dados do Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="e742c-174">`<database-account-name>` hello name of hello Azure Cosmos DB database account.</span></span>

<span data-ttu-id="e742c-175">Exemplo:</span><span class="sxs-lookup"><span data-stu-id="e742c-175">Example:</span></span>

    Get-AzureRmResource -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "rg-test" -Name "docdb-test"

## <span data-ttu-id="e742c-176"><a id="update-tags-powershell"></a> Atualizar as marcações de uma conta de banco de dados do Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="e742c-176"><a id="update-tags-powershell"></a> Update Tags of an Azure Cosmos DB Database Account</span></span>

<span data-ttu-id="e742c-177">Olá exemplo a seguir descreve como tooset [marcas de recurso do Azure] [ azure-resource-tags] para seu banco de dados do Azure Cosmos conta banco de dados.</span><span class="sxs-lookup"><span data-stu-id="e742c-177">hello following example describes how tooset [Azure resource tags][azure-resource-tags] for your Azure Cosmos DB database account.</span></span>

> [!NOTE]
> <span data-ttu-id="e742c-178">Este comando pode ser combinado com hello criar ou atualizar comandos acrescentando Olá `-Tags` sinalizador com parâmetro correspondente hello.</span><span class="sxs-lookup"><span data-stu-id="e742c-178">This command can be combined with hello create or update commands by appending hello `-Tags` flag with hello corresponding parameter.</span></span>

<span data-ttu-id="e742c-179">Exemplo:</span><span class="sxs-lookup"><span data-stu-id="e742c-179">Example:</span></span>

    $tags = @{"dept" = "Finance”; environment = “Production”}
    Set-AzureRmResource -ResourceType “Microsoft.DocumentDB/databaseAccounts”  -ResourceGroupName "rg-test" -Name "docdb-test" -Tags $tags

## <span data-ttu-id="e742c-180"><a id="list-account-keys-powershell"></a> Listar chaves da conta</span><span class="sxs-lookup"><span data-stu-id="e742c-180"><a id="list-account-keys-powershell"></a> List Account Keys</span></span>

<span data-ttu-id="e742c-181">Quando você cria uma conta de banco de dados do Azure Cosmos, o serviço de hello gera duas chaves de acesso principal que podem ser usadas para autenticação quando hello Azure Cosmos DB conta é acessada.</span><span class="sxs-lookup"><span data-stu-id="e742c-181">When you create an Azure Cosmos DB account, hello service generates two master access keys that can be used for authentication when hello Azure Cosmos DB account is accessed.</span></span> <span data-ttu-id="e742c-182">Fornecendo duas chaves de acesso, o banco de dados do Azure Cosmos permite chaves de saudação tooregenerate com tooyour sem interrupção conta de banco de dados do Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="e742c-182">By providing two access keys, Azure Cosmos DB enables you tooregenerate hello keys with no interruption tooyour Azure Cosmos DB account.</span></span> <span data-ttu-id="e742c-183">Também estão disponíveis chaves somente leitura para autenticação de operações somente leitura.</span><span class="sxs-lookup"><span data-stu-id="e742c-183">Read-only keys for authenticating read-only operations are also available.</span></span> <span data-ttu-id="e742c-184">Há duas chaves de leitura/gravação (primária e secundária) e duas chaves somente leitura (primária e secundária).</span><span class="sxs-lookup"><span data-stu-id="e742c-184">There are two read-write keys (primary and secondary) and two read-only keys (primary and secondary).</span></span>

    $keys = Invoke-AzureRmResourceAction -Action listKeys -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "<resource-group-name>" -Name "<database-account-name>"

* <span data-ttu-id="e742c-185">`<resource-group-name>`nome de saudação do hello [o grupo de recursos do Azure] [ azure-resource-groups] conta toowhich Olá novo banco de dados do Azure Cosmos banco de dados pertence.</span><span class="sxs-lookup"><span data-stu-id="e742c-185">`<resource-group-name>` hello name of hello [Azure Resource Group][azure-resource-groups] toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="e742c-186">`<database-account-name>`nome de saudação do hello conta de banco de dados do banco de dados do Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="e742c-186">`<database-account-name>` hello name of hello Azure Cosmos DB database account.</span></span>

<span data-ttu-id="e742c-187">Exemplo:</span><span class="sxs-lookup"><span data-stu-id="e742c-187">Example:</span></span>

    $keys = Invoke-AzureRmResourceAction -Action listKeys -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "rg-test" -Name "docdb-test"

## <span data-ttu-id="e742c-188"><a id="list-connection-strings-powershell"></a> Listar Cadeias de Conexão</span><span class="sxs-lookup"><span data-stu-id="e742c-188"><a id="list-connection-strings-powershell"></a> List Connection Strings</span></span>

<span data-ttu-id="e742c-189">Para contas do MongoDB, Olá tooconnect de cadeia de caracteres de conexão, que sua conta de banco de dados do MongoDB aplicativo toohello pode ser recuperada usando o comando a seguir de saudação.</span><span class="sxs-lookup"><span data-stu-id="e742c-189">For MongoDB accounts, hello connection string tooconnect your MongoDB app toohello database account can be retrieved using hello following command.</span></span>

    $keys = Invoke-AzureRmResourceAction -Action listConnectionStrings -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "<resource-group-name>" -Name "<database-account-name>"

* <span data-ttu-id="e742c-190">`<resource-group-name>`nome de saudação do hello [o grupo de recursos do Azure] [ azure-resource-groups] conta toowhich Olá novo banco de dados do Azure Cosmos banco de dados pertence.</span><span class="sxs-lookup"><span data-stu-id="e742c-190">`<resource-group-name>` hello name of hello [Azure Resource Group][azure-resource-groups] toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="e742c-191">`<database-account-name>`nome de saudação do hello conta de banco de dados do banco de dados do Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="e742c-191">`<database-account-name>` hello name of hello Azure Cosmos DB database account.</span></span>

<span data-ttu-id="e742c-192">Exemplo:</span><span class="sxs-lookup"><span data-stu-id="e742c-192">Example:</span></span>

    $keys = Invoke-AzureRmResourceAction -Action listConnectionStrings -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "rg-test" -Name "docdb-test"

## <span data-ttu-id="e742c-193"><a id="regenerate-account-key-powershell"></a> Recuperar a chave da conta</span><span class="sxs-lookup"><span data-stu-id="e742c-193"><a id="regenerate-account-key-powershell"></a> Regenerate Account Key</span></span>

<span data-ttu-id="e742c-194">Você deve alterar a conta de banco de dados do Azure Cosmos Olá acesso chaves tooyour periodicamente toohelp manter suas conexões mais segura.</span><span class="sxs-lookup"><span data-stu-id="e742c-194">You should change hello access keys tooyour Azure Cosmos DB account periodically toohelp keep your connections more secure.</span></span> <span data-ttu-id="e742c-195">Duas chaves de acesso atribuídas tooenable você toomaintain conexões toohello conta de banco de dados do Azure Cosmos usando uma chave de acesso enquanto você regenera Olá outra chave de acesso.</span><span class="sxs-lookup"><span data-stu-id="e742c-195">Two access keys are assigned tooenable you toomaintain connections toohello Azure Cosmos DB account using one access key while you regenerate hello other access key.</span></span>

    Invoke-AzureRmResourceAction -Action regenerateKey -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "<resource-group-name>" -Name "<database-account-name>" -Parameters @{"keyKind"="<key-kind>"}

* <span data-ttu-id="e742c-196">`<resource-group-name>`nome de saudação do hello [o grupo de recursos do Azure] [ azure-resource-groups] conta toowhich Olá novo banco de dados do Azure Cosmos banco de dados pertence.</span><span class="sxs-lookup"><span data-stu-id="e742c-196">`<resource-group-name>` hello name of hello [Azure Resource Group][azure-resource-groups] toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="e742c-197">`<database-account-name>`nome de saudação do hello conta de banco de dados do banco de dados do Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="e742c-197">`<database-account-name>` hello name of hello Azure Cosmos DB database account.</span></span>
* <span data-ttu-id="e742c-198">`<key-kind>`Um dos Olá quatro tipos de chaves: ["Principal" | " Secundário "|" PrimaryReadonly "|" SecondaryReadonly"] que deseja tooregenerate.</span><span class="sxs-lookup"><span data-stu-id="e742c-198">`<key-kind>` One of hello four types of keys: ["Primary"|"Secondary"|"PrimaryReadonly"|"SecondaryReadonly"] that you would like tooregenerate.</span></span>

<span data-ttu-id="e742c-199">Exemplo:</span><span class="sxs-lookup"><span data-stu-id="e742c-199">Example:</span></span>

    Invoke-AzureRmResourceAction -Action regenerateKey -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "rg-test" -Name "docdb-test" -Parameters @{"keyKind"="Primary"}

## <span data-ttu-id="e742c-200"><a id="modify-failover-priority-powershell"></a> Modificar a Prioridade de Failover de uma Conta de Banco de Dados do Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="e742c-200"><a id="modify-failover-priority-powershell"></a> Modify Failover Priority of an Azure Cosmos DB Database Account</span></span>

<span data-ttu-id="e742c-201">Para contas de banco de dados de várias regiões, você pode alterar a prioridade de failover de saudação da saudação várias regiões que Olá conta de banco de dados do banco de dados do Azure Cosmos existe no.</span><span class="sxs-lookup"><span data-stu-id="e742c-201">For multi-region database accounts, you can change hello failover priority of hello various regions which hello Azure Cosmos DB database account exists in.</span></span> <span data-ttu-id="e742c-202">Para obter mais informações sobre failover em sua conta de banco de dados do Azure Cosmos DB, consulte [Distribuir dados globalmente com o Azure Cosmos DB][distribute-data-globally].</span><span class="sxs-lookup"><span data-stu-id="e742c-202">For more information on failover in your Azure Cosmos DB database account, see [Distribute data globally with Azure Cosmos DB][distribute-data-globally].</span></span>

    $failoverPolicies = @(@{"locationName"="<write-region-location>"; "failoverPriority"=0},@{"locationName"="<read-region-location>"; "failoverPriority"=1})
    Invoke-AzureRmResourceAction -Action failoverPriorityChange -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "<resource-group-name>" -Name "<database-account-name>" -Parameters @{"failoverPolicies"=$failoverPolicies}

* <span data-ttu-id="e742c-203">`<write-region-location>`nome de local de saudação do hello região da conta de banco de dados de saudação de gravação.</span><span class="sxs-lookup"><span data-stu-id="e742c-203">`<write-region-location>` hello location name of hello write region of hello database account.</span></span> <span data-ttu-id="e742c-204">Esse local é necessário toohave um valor de prioridade de failover de 0.</span><span class="sxs-lookup"><span data-stu-id="e742c-204">This location is required toohave a failover priority value of 0.</span></span> <span data-ttu-id="e742c-205">Deve haver exatamente uma região de gravação por conta do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="e742c-205">There must be exactly one write region per database account.</span></span>
* <span data-ttu-id="e742c-206">`<read-region-location>`nome de local de saudação do hello ler região da conta de banco de dados de saudação.</span><span class="sxs-lookup"><span data-stu-id="e742c-206">`<read-region-location>` hello location name of hello read region of hello database account.</span></span> <span data-ttu-id="e742c-207">Esse local é necessário toohave um valor de prioridade de failover de maior que 0.</span><span class="sxs-lookup"><span data-stu-id="e742c-207">This location is required toohave a failover priority value of greater than 0.</span></span> <span data-ttu-id="e742c-208">Pode haver mais de uma região de leitura por conta do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="e742c-208">There can be more than one read regions per database account.</span></span>
* <span data-ttu-id="e742c-209">`<resource-group-name>`nome de saudação do hello [o grupo de recursos do Azure] [ azure-resource-groups] conta toowhich Olá novo banco de dados do Azure Cosmos banco de dados pertence.</span><span class="sxs-lookup"><span data-stu-id="e742c-209">`<resource-group-name>` hello name of hello [Azure Resource Group][azure-resource-groups] toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="e742c-210">`<database-account-name>`nome de saudação do hello conta de banco de dados do banco de dados do Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="e742c-210">`<database-account-name>` hello name of hello Azure Cosmos DB database account.</span></span>

<span data-ttu-id="e742c-211">Exemplo:</span><span class="sxs-lookup"><span data-stu-id="e742c-211">Example:</span></span>

    $failoverPolicies = @(@{"locationName"="East US"; "failoverPriority"=0},@{"locationName"="West US"; "failoverPriority"=1})
    Invoke-AzureRmResourceAction -Action failoverPriorityChange -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "rg-test" -Name "docdb-test" -Parameters @{"failoverPolicies"=$failoverPolicies}

## <a name="next-steps"></a><span data-ttu-id="e742c-212">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="e742c-212">Next steps</span></span>

* <span data-ttu-id="e742c-213">tooconnect usando .NET, consulte [conectar e consultar com .NET](create-documentdb-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="e742c-213">tooconnect using .NET, see [Connect and query with .NET](create-documentdb-dotnet.md).</span></span>
* <span data-ttu-id="e742c-214">tooconnect usando .NET Core, consulte [conectar e consultar com .NET Core](create-documentdb-dotnet-core.md).</span><span class="sxs-lookup"><span data-stu-id="e742c-214">tooconnect using .NET Core, see [Connect and query with .NET Core](create-documentdb-dotnet-core.md).</span></span>
* <span data-ttu-id="e742c-215">tooconnect usando Node. js, consulte [conectar e consultar com Node. js e um aplicativo do MongoDB](create-mongodb-nodejs.md).</span><span class="sxs-lookup"><span data-stu-id="e742c-215">tooconnect using Node.js, see [Connect and query with Node.js and a MongoDB app](create-mongodb-nodejs.md).</span></span>

<!--Reference style links - using these makes hello source content way more readable than using inline links-->
[powershell-install-configure]: https://docs.microsoft.com/azure/powershell-install-configure
[scaling-globally]: distribute-data-globally.md#EnableGlobalDistribution
[distribute-data-globally]: distribute-data-globally.md
[azure-resource-groups]: https://docs.microsoft.com/azure/azure-resource-manager/resource-group-overview#resource-groups
[azure-resource-tags]: https://docs.microsoft.com/azure/azure-resource-manager/resource-group-using-tags
[rp-rest-api]: https://docs.microsoft.com/rest/api/documentdbresourceprovider/
