---
title: Gerenciamento de alertas nos produtos de monitoramento da Microsoft | Microsoft Docs
description: "Um alerta indica algum problema que requer atenção de um administrador.  Este artigo descreve as diferenças na forma como os alertas são criados e gerenciados no SCOM (System Center Operations Manager) e no Log Analytics, além de fornecer as melhores práticas ao aproveitar os dois produtos para uma estratégia de gerenciamento de alertas híbridos."
services: operations-management-suite
documentationcenter: 
author: bwren
manager: jwhit
editor: tysonn
ms.assetid: 6572c3f8-78ca-4fa9-8fe1-d0b488590788
ms.service: operations-management-suite
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/11/2017
ms.author: bwren
ms.openlocfilehash: 7df2fd7ef838465a60e3b0ce2f889127b7487684
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="managing-alerts-with-microsoft-monitoring"></a><span data-ttu-id="e81bf-104">Gerenciando alertas com o monitoramento da Microsoft</span><span class="sxs-lookup"><span data-stu-id="e81bf-104">Managing alerts with Microsoft monitoring</span></span>
<span data-ttu-id="e81bf-105">Um alerta indica algum problema que requer atenção de um administrador.</span><span class="sxs-lookup"><span data-stu-id="e81bf-105">An alert indicates some issue that requires attention from an administrator.</span></span>  <span data-ttu-id="e81bf-106">Há diferenças marcantes entre o SCOM (System Center Operations Manager) e o Log Analytics no OMS (Operations Management Suite) em termos de como os alertas são criados, como são gerenciados e analisados e como você será notificado de que um problema crítico foi detectado.</span><span class="sxs-lookup"><span data-stu-id="e81bf-106">There are distinct differences between System Center Operations Manager (SCOM) and Log Analytics in Operations Management Suite (OMS) in terms of how alerts are created, how they are managed and analyzed, and how you are notified that a critical issue has been detected.</span></span>

## <a name="alerts-in-operations-manager"></a><span data-ttu-id="e81bf-107">Alertas no Operations Manager</span><span class="sxs-lookup"><span data-stu-id="e81bf-107">Alerts in Operations Manager</span></span>
<span data-ttu-id="e81bf-108">Os alertas no SCOM são gerados por regras individuais ou monitores para indicar um problema específico.</span><span class="sxs-lookup"><span data-stu-id="e81bf-108">Alerts in SCOM are generated by individual rules or monitors to indicate a specific issue.</span></span>  <span data-ttu-id="e81bf-109">Um monitor pode gerar um alerta quando ele entra em um estado de erro, enquanto uma regra pode gerar um alerta para indicar algum problema crítico que não está diretamente relacionado à integridade de um objeto gerenciado.</span><span class="sxs-lookup"><span data-stu-id="e81bf-109">A monitor can generate an alert when it enters an error state while a rule may generate an alert to indicate some critical issue that is not directly related to the health of a managed object.</span></span>  <span data-ttu-id="e81bf-110">Os pacotes de gerenciamento incluem uma variedade de fluxos de trabalho que criam alertas para o aplicativo ou serviço que eles gerenciam.</span><span class="sxs-lookup"><span data-stu-id="e81bf-110">Management packs include a variety of workflows that create alerts for the application or service that they manage.</span></span>  <span data-ttu-id="e81bf-111">Parte do processo de configuração de um novo pacote de gerenciamento trata de ajustá-lo, a fim de garantir que você não receberá alertas excessivos para problemas que não são considerados críticos.</span><span class="sxs-lookup"><span data-stu-id="e81bf-111">Part of the process of configuring a new management pack is tuning it to ensure that you don’t receive excessive alerts for issues that you don’t consider critical.</span></span>

![Exibição de alertas do SCOM](media/operations-management-suite-monitoring-alerts/scom-alert-view.png)

<span data-ttu-id="e81bf-113">O SCOM fornece um gerenciamento completo de alertas com os alertas tendo um status que pode ser alterado pelos administradores, à medida que trabalham para resolver o problema.</span><span class="sxs-lookup"><span data-stu-id="e81bf-113">SCOM provides complete alert management with alerts having a status that can be changed by administrators as they work to resolve the issue.</span></span>  <span data-ttu-id="e81bf-114">Quando o problema tiver sido resolvido, o administrador definirá o alerta como fechado e, a partir desse momento, ele não será mais exibido nos modos de exibição que mostram os alertas ativos.</span><span class="sxs-lookup"><span data-stu-id="e81bf-114">When the issue has been resolved, the administrator sets the alert to closed at which time it will no longer appear in views displaying active alerts.</span></span>  <span data-ttu-id="e81bf-115">Os alertas gerados pelos monitores podem ser resolvidos automaticamente quando o monitor retorna a um estado íntegro.</span><span class="sxs-lookup"><span data-stu-id="e81bf-115">Alerts that are generated from monitors can be automatically resolved when the monitor returns to a healthy state.</span></span>

![Status do alerta](media/operations-management-suite-monitoring-alerts/scom-alert-status.png)

## <a name="alerts-in-log-analytics"></a><span data-ttu-id="e81bf-117">Alertas no Log Analytics</span><span class="sxs-lookup"><span data-stu-id="e81bf-117">Alerts in Log Analytics</span></span>
<span data-ttu-id="e81bf-118">Um alerta no Log Analytics é criado com base em uma consulta de log que é executada automaticamente em intervalos regulares.</span><span class="sxs-lookup"><span data-stu-id="e81bf-118">An alert in Log Analytics is created from a log query that is automatically run at regular intervals.</span></span>  <span data-ttu-id="e81bf-119">É possível criar uma regra de alerta com base em qualquer consulta de log.</span><span class="sxs-lookup"><span data-stu-id="e81bf-119">You can create an alert rule from any log query.</span></span>  <span data-ttu-id="e81bf-120">Caso a consulta retorne resultados que correspondam aos critérios especificados, um alerta será criado.</span><span class="sxs-lookup"><span data-stu-id="e81bf-120">If the query returns results that match the criteria that you specify, then an alert is created.</span></span>  <span data-ttu-id="e81bf-121">Isso poderia ser uma consulta específica que criaria um alerta se um evento específico fosse detectado ou você poderia usar uma consulta mais geral que procura qualquer evento de erro relacionado a determinado aplicativo.</span><span class="sxs-lookup"><span data-stu-id="e81bf-121">This could be a specific query that creates an alert if a particular event is detected, or you could use a more general query that looks for any error event related to a particular application.</span></span>

<span data-ttu-id="e81bf-122">Os alertas no Log Analytics são gravados no repositório do OMS como um evento e podem ser recuperados com uma consulta de log.</span><span class="sxs-lookup"><span data-stu-id="e81bf-122">Log Analytics alerts are written to the OMS repository as an event and can be retrieved with a log query.</span></span>  <span data-ttu-id="e81bf-123">Eles não têm um status como os eventos do SCOM, para que você possa indicar quando o problema foi resolvido.</span><span class="sxs-lookup"><span data-stu-id="e81bf-123">They do not have a status like SCOM events so that you can indicate when the issue has been resolved.</span></span>

![Alerta do OMS](media/operations-management-suite-monitoring-alerts/oms-alert.png)

<span data-ttu-id="e81bf-125">Quando o SCOM é usado como uma fonte de dados para o Log Analytics, os alertas do SCOM são gravados no repositório do OMS conforme são criados e modificados.</span><span class="sxs-lookup"><span data-stu-id="e81bf-125">When SCOM is used as a data source for Log Analytics, SCOM alerts are written to the OMS repository as they are created and modified.</span></span>  

![Alerta do SCOM](media/operations-management-suite-monitoring-alerts/scom-alert.png)

<span data-ttu-id="e81bf-127">A [solução de Gerenciamento de Alertas](http://technet.microsoft.com/library/mt484092.aspx) fornece um resumo de alertas ativos e diversas consultas comuns para recuperar conjuntos diferentes de alertas.</span><span class="sxs-lookup"><span data-stu-id="e81bf-127">The [Alert Management solution](http://technet.microsoft.com/library/mt484092.aspx) provides a summary of active alerts and several common queries to retrieve different sets of alerts.</span></span>  <span data-ttu-id="e81bf-128">Isso proporciona uma análise mais eficiente de seus alertas quando comparado a um relatório no SCOM.</span><span class="sxs-lookup"><span data-stu-id="e81bf-128">This provides you with more effective analysis of your alerts than a report in SCOM.</span></span>  <span data-ttu-id="e81bf-129">Você pode fazer uma busca detalhada com base nos resumos para obter dados detalhados e criar consultas ad hoc para recuperar conjuntos diferentes de alertas.</span><span class="sxs-lookup"><span data-stu-id="e81bf-129">You can drill down on from the summaries to detailed data and create ad hoc queries to retrieve different sets of alerts.</span></span>

![solução de Gerenciamento de Alertas](media/operations-management-suite-monitoring-alerts/alert-management.png)

## <a name="notifications"></a><span data-ttu-id="e81bf-131">Notificações</span><span class="sxs-lookup"><span data-stu-id="e81bf-131">Notifications</span></span>
<span data-ttu-id="e81bf-132">As notificações no SCOM enviam um email ou texto em resposta aos alertas que correspondem a critérios específicos.</span><span class="sxs-lookup"><span data-stu-id="e81bf-132">Notifications in SCOM send you a mail or text in response to alerts that match particular criteria.</span></span>  <span data-ttu-id="e81bf-133">Você pode criar assinaturas de notificação diferentes que notifica pessoas diferentes, dependendo de critérios como o objeto monitorado, a severidade do alerta, o tipo de problema detectado ou a hora do dia.</span><span class="sxs-lookup"><span data-stu-id="e81bf-133">You can create different notification subscriptions that have different people notified depending on such criteria as the object being monitored, the severity of the alert, the kind of problem that detected, or the time of day.</span></span>

<span data-ttu-id="e81bf-134">Poucas assinaturas podem ser usadas para implementar uma estratégia de notificação de conclusão para um grande número de pacotes de gerenciamento.</span><span class="sxs-lookup"><span data-stu-id="e81bf-134">Few subscriptions can be used to implement a complete notification strategy for a large number of management packs.</span></span>

![Alertas do SCOM](media/operations-management-suite-monitoring-alerts/alerts-overview-scom.png)

<span data-ttu-id="e81bf-136">O Log Analytics pode notificá-lo por email de que um alerta foi criado, definindo uma ação de notificação de email em cada [regra de alerta](http://technet.microsoft.com/library/mt614775.aspx).</span><span class="sxs-lookup"><span data-stu-id="e81bf-136">Log Analytics can notify you through mail that an alert has been created by setting an email notification action on each [alert rule](http://technet.microsoft.com/library/mt614775.aspx).</span></span>  <span data-ttu-id="e81bf-137">Ele não tem a capacidade do SCOM de fazer assinar vários alertas com uma única regra.</span><span class="sxs-lookup"><span data-stu-id="e81bf-137">It does not have the ability of SCOM the subscribe to multiple alerts with a single rule.</span></span>  <span data-ttu-id="e81bf-138">Também é necessário criar suas próprias regras de alerta, pois o OMS não fornece nenhuma pré-configurada.</span><span class="sxs-lookup"><span data-stu-id="e81bf-138">You also need to create your own alert rules since OMS does not provide any preconfigured.</span></span>

![Alertas do Log Analytics](media/operations-management-suite-monitoring-alerts/alerts-overview-oms.png)

<span data-ttu-id="e81bf-140">Contudo, não é possível gerenciar por completo os alertas do SCOM no Log Analytics, já que você pode apenas modificá-los no Console de Operações.</span><span class="sxs-lookup"><span data-stu-id="e81bf-140">You can’t completely manage SCOM alerts in Log Analytics though since you can only modify them in the Operations Console.</span></span>  <span data-ttu-id="e81bf-141">Apesar disso, o Log Analytics é útil como parte de um processo de gerenciamento de alertas, para fornecer ferramentas de análise das quais o SCOM por si só não dispõe.</span><span class="sxs-lookup"><span data-stu-id="e81bf-141">Log Analytics is useful as part of an alert management process though for providing analysis tools that SCOM alone doesn’t have.</span></span>

## <a name="alert-remediation"></a><span data-ttu-id="e81bf-142">Correção de alertas</span><span class="sxs-lookup"><span data-stu-id="e81bf-142">Alert Remediation</span></span>
<span data-ttu-id="e81bf-143">[Correção](http://technet.microsoft.com/library/mt614775.aspx) refere-se a uma tentativa de corrigir automaticamente o problema identificado por um alerta.</span><span class="sxs-lookup"><span data-stu-id="e81bf-143">[Remediation](http://technet.microsoft.com/library/mt614775.aspx) refers to an attempt to automatically correct the problem identified by an alert.</span></span>

<span data-ttu-id="e81bf-144">O SCOM permite executar Diagnóstico e Recuperações em resposta a um monitor que entra em um estado não íntegro.</span><span class="sxs-lookup"><span data-stu-id="e81bf-144">SCOM allows you to run Diagnostics and Recoveries in response to a monitor entering an unhealthy state.</span></span>  <span data-ttu-id="e81bf-145">Isso ocorre simultaneamente à criação do alerta pelo monitor.</span><span class="sxs-lookup"><span data-stu-id="e81bf-145">This happens simultaneous to the monitor creating the alert.</span></span>  <span data-ttu-id="e81bf-146">Em geral, o diagnóstico e as recuperações são implementados como um script executado no agente.</span><span class="sxs-lookup"><span data-stu-id="e81bf-146">Diagnostics and recoveries are typically implemented as a script that runs on the agent.</span></span>  <span data-ttu-id="e81bf-147">Um diagnóstico tenta coletar mais informações sobre o problema detectado, ao passo que uma recuperação tenta corrigir o problema.</span><span class="sxs-lookup"><span data-stu-id="e81bf-147">A diagnostic attempts to gather more information about the detected issue while a recovery attempts to correct the problem.</span></span>

<span data-ttu-id="e81bf-148">O Log Analytics permite iniciar um [runbook da Automação do Azure](https://azure.microsoft.com/documentation/services/automation/) ou chamar um webhook em resposta a um alerta do Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="e81bf-148">Log Analytics allows you to start an [Azure Automation runbook](https://azure.microsoft.com/documentation/services/automation/) or call a webhook in response to a Log Analytics alert.</span></span>  <span data-ttu-id="e81bf-149">Os runbooks podem conter uma lógica complexa implementada no PowerShell.</span><span class="sxs-lookup"><span data-stu-id="e81bf-149">Runbooks can contain complex logic implemented in PowerShell.</span></span>  <span data-ttu-id="e81bf-150">O script é executado no Azure e pode acessar quaisquer recursos do Azure ou recursos externos disponíveis na nuvem.</span><span class="sxs-lookup"><span data-stu-id="e81bf-150">The script runs in Azure and can access any Azure resources or external resources available from the cloud.</span></span>  <span data-ttu-id="e81bf-151">A Automação do Azure tem a capacidade de executar runbooks em um servidor em seu data center local, mas esse recurso não está disponível no momento ao iniciar o runbook em resposta a alertas do Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="e81bf-151">Azure Automation does have the ability to execute runbooks on a server in your local datacenter, but this feature is not currently available when starting the runbook in response to Log Analytics alerts.</span></span>

<span data-ttu-id="e81bf-152">Tanto as recuperações no SCOM quanto os runbooks em OMS podem conter scripts do PowerShell, porém, as recuperações são mais difíceis de ser criadas e gerenciadas, já que devem estar contidas em um pacote de gerenciamento.</span><span class="sxs-lookup"><span data-stu-id="e81bf-152">Both recoveries in SCOM and runbooks in OMS can contain PowerShell scripts, but recoveries are more difficult to create and manage because they must be contained within a management pack.</span></span>  <span data-ttu-id="e81bf-153">Os runbooks são armazenados na Automação do Azure, que fornece recursos para criação, teste e gerenciamento de runbooks.</span><span class="sxs-lookup"><span data-stu-id="e81bf-153">Runbooks are stored in Azure Automation which provides features for authoring, testing, and managing runbooks.</span></span>

<span data-ttu-id="e81bf-154">Se você usar o SCOM como uma fonte de dados para o Log Analytics, você poderá criar um alerta do Log Analytics usando uma consulta de log para recuperar os alertas do SCOM armazenados no repositório do OMS.</span><span class="sxs-lookup"><span data-stu-id="e81bf-154">If you use SCOM as a data source for Log Analytics, you could create a Log Analytics alert using a log query to retrieve SCOM alerts stored in the OMS repository.</span></span>  <span data-ttu-id="e81bf-155">Isso permitirá que você execute um runbook da Automação do Azure em resposta a um alerta do SCOM.</span><span class="sxs-lookup"><span data-stu-id="e81bf-155">This would allow you to run an Azure Automation runbook in response to a SCOM alert.</span></span>  <span data-ttu-id="e81bf-156">Evidentemente, como o runbook será executado no Azure, essa não seria uma estratégia viável para recuperações de problemas locais.</span><span class="sxs-lookup"><span data-stu-id="e81bf-156">Of course, since the runbook will run in Azure, this would not be a viable strategy for recoveries of on-premises issues.</span></span>

## <a name="next-steps"></a><span data-ttu-id="e81bf-157">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="e81bf-157">Next steps</span></span>
* <span data-ttu-id="e81bf-158">Conheça os detalhes dos [alertas no SCOM (System Center Operations Manager)](https://technet.microsoft.com/library/hh212913.aspx).</span><span class="sxs-lookup"><span data-stu-id="e81bf-158">Learn the details of [alerts in System Center Operations Manager (SCOM)](https://technet.microsoft.com/library/hh212913.aspx).</span></span>

