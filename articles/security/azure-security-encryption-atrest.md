---
title: Criptografia de dados em repouso no Microsoft Azure | Microsoft Docs
description: "Este artigo fornece uma visão geral da criptografia de dados em repouso no Microsoft Azure, os recursos gerais e as considerações gerais."
services: security
documentationcenter: na
author: YuriDio
manager: mbaldwin
editor: TomSh
ms.assetid: 9dcb190e-e534-4787-bf82-8ce73bf47dba
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/25/2017
ms.author: yurid
ms.openlocfilehash: ae612cbfb889181a18a7b6071ad80e8cc8ba336c
ms.sourcegitcommit: 422efcbac5b6b68295064bd545132fcc98349d01
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/29/2017
---
# <a name="azure-data-encryption-at-rest"></a><span data-ttu-id="a229e-103">Criptografia de dados em repouso no Azure</span><span class="sxs-lookup"><span data-stu-id="a229e-103">Azure Data Encryption-at-Rest</span></span>
<span data-ttu-id="a229e-104">Há várias ferramentas no Microsoft Azure para proteger os dados de acordo com as necessidades de segurança e a conformidade de sua empresa.</span><span class="sxs-lookup"><span data-stu-id="a229e-104">There are multiple tools within Microsoft Azure to safeguard data according to your company’s security and compliance needs.</span></span> <span data-ttu-id="a229e-105">Este artigo concentra-se em como os dados são protegidos em repouso no Microsoft Azure, discute os vários componentes que participam da implementação da proteção de dados e revisa os prós e contras das diferentes abordagens de proteção de gerenciamento de chaves.</span><span class="sxs-lookup"><span data-stu-id="a229e-105">This paper focuses on how data is protected at rest across Microsoft Azure, discusses the various components taking part in the data protection implementation, and reviews pros and cons of the different key management protection approaches.</span></span> 

<span data-ttu-id="a229e-106">A criptografia em repouso é um requisito de segurança comum.</span><span class="sxs-lookup"><span data-stu-id="a229e-106">Encryption at Rest is a common security requirement.</span></span> <span data-ttu-id="a229e-107">Um benefício do Microsoft Azure é que as organizações podem alcançar a criptografia em repouso sem ter o custo de implementação e gerenciamento e o risco de uma solução de gerenciamento de chaves personalizada.</span><span class="sxs-lookup"><span data-stu-id="a229e-107">A benefit of Microsoft Azure is that organizations can achieve Encryption at Rest without having the cost of implementation and management and the risk of a custom key management solution.</span></span> <span data-ttu-id="a229e-108">As organizações têm a opção de permitir que o Azure gerencie completamente a criptografia em repouso.</span><span class="sxs-lookup"><span data-stu-id="a229e-108">Organizations have the option of letting Azure completely manage Encryption at Rest.</span></span> <span data-ttu-id="a229e-109">Além disso, as organizações possuem várias opções para gerenciar de maneira rigorosa a criptografia ou as chaves de criptografia.</span><span class="sxs-lookup"><span data-stu-id="a229e-109">Additionally, organizations have various options to closely manage encryption or encryption keys.</span></span>

## <a name="what-is-encryption-at-rest"></a><span data-ttu-id="a229e-110">O que é criptografia em repouso?</span><span class="sxs-lookup"><span data-stu-id="a229e-110">What is encryption at rest?</span></span>
<span data-ttu-id="a229e-111">A criptografia em Repouso refere-se à codificação criptográfica (criptografia) de dados quando é persistente.</span><span class="sxs-lookup"><span data-stu-id="a229e-111">Encryption at Rest refers to the cryptographic encoding (encryption) of data when it is persisted.</span></span> <span data-ttu-id="a229e-112">Os designs de Criptografia em Repouso no Azure utilizam criptografia simétrica para criptografar e descriptografar grandes quantidades de dados rapidamente de acordo com um modelo conceitual simples:</span><span class="sxs-lookup"><span data-stu-id="a229e-112">The Encryption at Rest designs in Azure use symmetric encryption to encrypt and decrypt large amounts of data quickly according to a simple conceptual model:</span></span>

- <span data-ttu-id="a229e-113">Uma chave de criptografia simétrica é utilizada para criptografar dados, pois é persistente</span><span class="sxs-lookup"><span data-stu-id="a229e-113">A symmetric encryption key is used to encrypt data as it is persisted</span></span> 
- <span data-ttu-id="a229e-114">A mesma chave de criptografia é utilizada para descriptografar esses dados conforme estiver pronto para uso na memória</span><span class="sxs-lookup"><span data-stu-id="a229e-114">The same encryption key is used to decrypt that data as it is readied for use in memory</span></span>
- <span data-ttu-id="a229e-115">Os dados podem ser particionados e diferentes chaves podem ser utilizadas para cada partição</span><span class="sxs-lookup"><span data-stu-id="a229e-115">Data may be partitioned, and different keys may be used for each partition</span></span>
- <span data-ttu-id="a229e-116">As chaves devem ser armazenadas em um local seguro, com políticas de controle de acesso limitando o acesso a determinadas identidades e o uso da chave de registro em log.</span><span class="sxs-lookup"><span data-stu-id="a229e-116">Keys must be stored in a secure location with access control policies limiting access to certain identities and logging key usage.</span></span> <span data-ttu-id="a229e-117">As chaves de criptografia de dados são frequentemente criptografadas com criptografia assimétrica para limitar ainda mais o acesso (discutido posteriormente neste artigo em *Hierarquia de Chave*)</span><span class="sxs-lookup"><span data-stu-id="a229e-117">Data encryption keys are often encrypted with asymmetric encryption to further limit access (discussed in the *Key Hierarchy*, later in this article)</span></span>

<span data-ttu-id="a229e-118">Acima, descreve-se os elementos de alto nível de Criptografia em Repouso comuns.</span><span class="sxs-lookup"><span data-stu-id="a229e-118">The above describes the common high-level elements of Encryption at Rest.</span></span> <span data-ttu-id="a229e-119">Na prática, os principais cenários de controle e gerenciamento, assim como garantias de disponibilidade e escala, requerem construções adicionais.</span><span class="sxs-lookup"><span data-stu-id="a229e-119">In practice, key management and control scenarios, as well as scale and availability assurances, require additional constructs.</span></span> <span data-ttu-id="a229e-120">Os conceitos e componentes de Criptografia em Repouso no Microsoft Azure são descritos abaixo.</span><span class="sxs-lookup"><span data-stu-id="a229e-120">Microsoft Azure Encryption at Rest concepts and components are described below.</span></span>

## <a name="the-purpose-of-encryption-at-rest"></a><span data-ttu-id="a229e-121">A finalidade da criptografia em repouso</span><span class="sxs-lookup"><span data-stu-id="a229e-121">The purpose of encryption at rest</span></span>
<span data-ttu-id="a229e-122">A Criptografia em Repouso destina-se a fornecer proteção de dados para dados em repouso (conforme descrito acima.) Os ataques contra dados em repouso incluem tentativas de obter acesso físico ao hardware em que os dados são armazenados e, em seguida, comprometer os dados contidos.</span><span class="sxs-lookup"><span data-stu-id="a229e-122">Encryption at Rest is intended to provide data protection for data at-rest (as described above.) Attacks against data at-rest include attempts to obtain physical access to the hardware on which the data is stored, and then compromise the contained data.</span></span> <span data-ttu-id="a229e-123">Nesse ataque, o disco rígido de um servidor pode ter sido manipulado incorretamente durante a manutenção, permitindo que um invasor remova o disco rígido.</span><span class="sxs-lookup"><span data-stu-id="a229e-123">In such an attack, a server’s hard drive may have been mishandled during maintenance allowing an attacker to remove the hard drive.</span></span> <span data-ttu-id="a229e-124">Mais tarde, o invasor poderia colocar o disco rígido em um computador sob seu controle para tentar acessar os dados.</span><span class="sxs-lookup"><span data-stu-id="a229e-124">Later the attacker would put the hard drive into a computer under their control to attempt to access the data.</span></span> 

<span data-ttu-id="a229e-125">A criptografia em repouso é projetada para impedir que o invasor acesse os dados não criptografados, assegurando que os dados sejam criptografados quando em disco.</span><span class="sxs-lookup"><span data-stu-id="a229e-125">Encryption at rest is designed to prevent the attacker from accessing the unencrypted data by ensuring the data is encrypted when on disk.</span></span> <span data-ttu-id="a229e-126">Se um invasor pudesse obter um disco rígido com esses dados criptografados e nenhum acesso às chaves de criptografia, o invasor não comprometia os dados sem grande dificuldade.</span><span class="sxs-lookup"><span data-stu-id="a229e-126">If an attacker were to obtain a hard drive with such encrypted data, and no access to the encryption keys, the attacker would not compromise the data without great difficulty.</span></span> <span data-ttu-id="a229e-127">Nesse cenário, um invasor teria que tentar ataques contra dados criptografados que são muito mais complexos e consomem recursos, do que acessar dados não criptografados em um disco rígido.</span><span class="sxs-lookup"><span data-stu-id="a229e-127">In such a scenario, an attacker would have to attempt attacks against encrypted data which are much more complex and resource consuming than accessing unencrypted data on a hard drive.</span></span> <span data-ttu-id="a229e-128">Por esse motivo, a criptografia em repouso é altamente recomendada e é um requisito de alta prioridade para muitas organizações.</span><span class="sxs-lookup"><span data-stu-id="a229e-128">For this reason, encryption at rest is highly recommended and is a high priority requirement for many organizations.</span></span> 

<span data-ttu-id="a229e-129">Em alguns casos, a criptografia em repouso também é requerida pela necessidade de uma organização para governança de dados e esforços de conformidade.</span><span class="sxs-lookup"><span data-stu-id="a229e-129">In some cases, encryption at rest is also required by an organization’s need for data governance and compliance efforts.</span></span> <span data-ttu-id="a229e-130">As regulamentações governamentais e do setor como HIPAA, PCI e FedRAMP, e os requisitos regulamentares internacionais, estabelecem proteções específicas por meio de processos e políticas relacionados à proteção de dados e requisitos de criptografia.</span><span class="sxs-lookup"><span data-stu-id="a229e-130">Industry and government regulations such as HIPAA, PCI and FedRAMP, and international regulatory requirements, lay out specific safeguards through processes and policies regarding data protection and encryption requirements.</span></span> <span data-ttu-id="a229e-131">Para muitos dessas regulamentações, a criptografia em repouso é uma medida obrigatória necessária para proteção e gerenciamento de dados compatíveis.</span><span class="sxs-lookup"><span data-stu-id="a229e-131">For many of those regulations encryption at rest is a mandatory measure required for compliant data management and protection.</span></span> 

<span data-ttu-id="a229e-132">Além dos requisitos de regulamentação e conformidade, a criptografia em repouso deve ser percebida como um recurso de plataforma de defesa em profundidade.</span><span class="sxs-lookup"><span data-stu-id="a229e-132">In addition to compliance and regulatory requirements, encryption at rest should be perceived as a defense-in-depth platform capability.</span></span> <span data-ttu-id="a229e-133">Embora a Microsoft ofereça uma plataforma compatível para serviços, aplicativos e dados, instalações abrangentes e segurança física, controle de acesso a dados e auditoria, é importante fornecer medidas de segurança "sobrepostas" adicionais no caso de uma das outras medidas de segurança falhar.</span><span class="sxs-lookup"><span data-stu-id="a229e-133">While Microsoft provides a compliant platform for services, applications, and data, comprehensive facility and physical security, data access control and auditing, it is important to provide additional “overlapping” security measures in case one of the other security measures fails.</span></span> <span data-ttu-id="a229e-134">A criptografia em repouso fornece esse mecanismo de defesa adicional.</span><span class="sxs-lookup"><span data-stu-id="a229e-134">Encryption at rest provides such an additional defense mechanism.</span></span>

<span data-ttu-id="a229e-135">A Microsoft está comprometida em oferecer opções de criptografia em repouso em todos os serviços em nuvem e fornecer aos clientes uma capacidade de gerenciamento de chaves de criptografia e acesso a registros adequados, mostrando quando as chaves de criptografia são utilizada.</span><span class="sxs-lookup"><span data-stu-id="a229e-135">Microsoft is committed to providing encryption at rest options across cloud services and to provide customers suitable manageability of encryption keys and access to logs showing when encryption keys are used.</span></span> <span data-ttu-id="a229e-136">Além disso, a Microsoft está trabalhando para atingir a meta de tornar todos os dados do cliente criptografados em repouso por padrão.</span><span class="sxs-lookup"><span data-stu-id="a229e-136">Additionally, Microsoft is working towards the goal of making all customer data encrypted at rest by default.</span></span>

## <a name="azure-encryption-at-rest-components"></a><span data-ttu-id="a229e-137">Componentes da Criptografia em Repouso no Azure</span><span class="sxs-lookup"><span data-stu-id="a229e-137">Azure Encryption at Rest Components</span></span>

<span data-ttu-id="a229e-138">Conforme descrito anteriormente, a meta da criptografia em repouso é que os dados que são persistentes no disco sejam criptografados com uma chave de criptografia secreta.</span><span class="sxs-lookup"><span data-stu-id="a229e-138">As described previously, the goal of encryption at rest is that data that is persisted on disk is encrypted with a secret encryption key.</span></span> <span data-ttu-id="a229e-139">Para atingir essa meta, é necessário fornecer criação de chave segura, armazenamento, controle de acesso e gerenciamento das chaves de criptografia.</span><span class="sxs-lookup"><span data-stu-id="a229e-139">To achieve that goal secure key creation, storage, access control and management of the encryption keys must be provided.</span></span> <span data-ttu-id="a229e-140">Embora os detalhes possam variar, os serviços de implementações de Criptografia em Repouso do Azure podem ser descritos em termos dos conceitos abaixo que são, então, ilustrados no diagrama a seguir.</span><span class="sxs-lookup"><span data-stu-id="a229e-140">Though details may vary, Azure services Encryption at Rest implementations can be described in terms of the below concepts which are then illustrated in the following diagram.</span></span>

![Componentes](./media/azure-security-encryption-atrest/azure-security-encryption-atrest-fig1.png)

### <a name="azure-key-vault"></a><span data-ttu-id="a229e-142">Cofre da Chave do Azure</span><span class="sxs-lookup"><span data-stu-id="a229e-142">Azure Key Vault</span></span>

<span data-ttu-id="a229e-143">O local de armazenamento das chaves de criptografia e controle de acesso a essas chaves é central para um modelo de criptografia em repouso.</span><span class="sxs-lookup"><span data-stu-id="a229e-143">The storage location of the encryption keys and access control to those keys is central to an encryption at rest model.</span></span> <span data-ttu-id="a229e-144">As chaves precisam ser altamente seguras, mas gerenciáveis por usuários especificados e disponíveis para serviços específicos.</span><span class="sxs-lookup"><span data-stu-id="a229e-144">The keys need to be highly secured but manageable by specified users and available to specific services.</span></span> <span data-ttu-id="a229e-145">Para os serviços do Azure, o Azure Key Vault é a solução de armazenamento de chave recomendada e fornece uma experiência de gerenciamento comum em todos os serviços.</span><span class="sxs-lookup"><span data-stu-id="a229e-145">For Azure services, Azure Key Vault is the recommended key storage solution and provides a common management experience across services.</span></span> <span data-ttu-id="a229e-146">As chaves são armazenadas e gerenciadas em cofres de chaves e o acesso a um cofre de chave pode ser fornecido para usuários ou serviços.</span><span class="sxs-lookup"><span data-stu-id="a229e-146">Keys are stored and managed in key vaults, and access to a key vault can be given to users or services.</span></span> <span data-ttu-id="a229e-147">O Azure Key Vault fornece suporte a criação de chaves do cliente ou importação de chaves do cliente para uso em cenários de chave de criptografia de cliente gerenciado.</span><span class="sxs-lookup"><span data-stu-id="a229e-147">Azure Key Vault supports customer creation of keys or import of customer keys for use in customer-managed encryption key scenarios.</span></span>

### <a name="azure-active-directory"></a><span data-ttu-id="a229e-148">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="a229e-148">Azure Active Directory</span></span>

<span data-ttu-id="a229e-149">Permissões para utilizar as chaves armazenadas no Azure Key Vault, seja para gerenciá-las ou acessá-las para criptografia e descriptografia da Criptografia em Repouso, podem ser fornecidas para contas do Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="a229e-149">Permissions to use the keys stored in Azure Key Vault, either to manage or to access them for Encryption at Rest encryption and decryption, can be given to Azure Active Directory accounts.</span></span> 

### <a name="key-hierarchy"></a><span data-ttu-id="a229e-150">Hierarquia de Chave</span><span class="sxs-lookup"><span data-stu-id="a229e-150">Key Hierarchy</span></span>

<span data-ttu-id="a229e-151">Geralmente, mais de uma chave de criptografia é utilizada em uma implementação de criptografia em repouso.</span><span class="sxs-lookup"><span data-stu-id="a229e-151">Usually more than one encryption key is used in an encryption at rest implementation.</span></span> <span data-ttu-id="a229e-152">A criptografia assimétrica é útil para estabelecer a confiança e a autenticação necessárias para acesso e gerenciamento de chaves.</span><span class="sxs-lookup"><span data-stu-id="a229e-152">Asymmetric encryption is useful for establishing the trust and authentication needed for key access and management.</span></span> <span data-ttu-id="a229e-153">A criptografia simétrica é mais eficiente para criptografia e descriptografia em massa, permitindo uma criptografia mais forte e melhor desempenho.</span><span class="sxs-lookup"><span data-stu-id="a229e-153">Symmetric encryption is more efficient for bulk encryption and decryption, allowing for stronger encryption and better performance.</span></span> <span data-ttu-id="a229e-154">Além disso, limitar o uso de uma chave de criptografia única diminui o risco de que a chave seja comprometida e o custo de nova criptografia quando uma chave precisar ser substituída.</span><span class="sxs-lookup"><span data-stu-id="a229e-154">Additionally, limiting the use of a single encryption key decreases the risk that the key will be compromised and the cost of re-encryption when a key must be replaced.</span></span> <span data-ttu-id="a229e-155">Para aproveitar os benefícios da criptografia assimétrica e simétrica e limitar o uso e a exposição de uma chave única, os modelos de criptografia em repouso do Azure utilizam uma hierarquia de chave composta pelos seguintes tipos de chaves:</span><span class="sxs-lookup"><span data-stu-id="a229e-155">To leverage the benefits of asymmetric and symmetric encryption and limit the use and exposure of a single key, Azure encryption at rest models use a key hierarchy made up of the following types of keys:</span></span>

- <span data-ttu-id="a229e-156">**DEK (Chave de Criptografia de Dados)** – Uma chave simétrica AES256 utilizada para criptografar uma partição ou bloco de dados.</span><span class="sxs-lookup"><span data-stu-id="a229e-156">**Data Encryption Key (DEK)** – A symmetric AES256 key used to encrypt a partition or block of data.</span></span>  <span data-ttu-id="a229e-157">Um recurso único pode ter muitas partições e muitas Chaves de Criptografia de Dados.</span><span class="sxs-lookup"><span data-stu-id="a229e-157">A single resource may have many partitions and many Data Encryption Keys.</span></span> <span data-ttu-id="a229e-158">Criptografar cada bloco de dados com uma chave diferente torna os ataques de análise de criptografia mais difíceis.</span><span class="sxs-lookup"><span data-stu-id="a229e-158">Encrypting each block of data with a different key makes crypto analysis attacks more difficult.</span></span> <span data-ttu-id="a229e-159">O acesso a DEKs é necessário pelo provedor de recursos ou instância do aplicativo que criptografa e descriptografa um bloco específico.</span><span class="sxs-lookup"><span data-stu-id="a229e-159">Access to DEKs is needed by the resource provider or application instance that is encrypting and decrypting a specific block.</span></span> <span data-ttu-id="a229e-160">Quando um DEK é substituído por uma nova chave, apenas os dados em seu bloco associado devem ser reciclados com a nova chave.</span><span class="sxs-lookup"><span data-stu-id="a229e-160">When a DEK is replaced with a new key only the data in its associated block must be re-encrypted with the new key.</span></span>
- <span data-ttu-id="a229e-161">**KEK (Chave de Criptografia de Chave)** – Uma chave de criptografia assimétrica utilizada para criptografar as Chaves de Criptografia de Dados.</span><span class="sxs-lookup"><span data-stu-id="a229e-161">**Key Encryption Key (KEK)** – An asymmetric encryption key used to encrypt the Data Encryption Keys.</span></span> <span data-ttu-id="a229e-162">O uso de uma Chave de Criptografia de Chave permite que as chaves de criptografia de dados sejam criptografadas e controladas.</span><span class="sxs-lookup"><span data-stu-id="a229e-162">Use of a Key Encryption Key allows the data encryption keys themselves to be encrypted and controlled.</span></span> <span data-ttu-id="a229e-163">A entidade que tem acesso ao KEK pode ser diferente da entidade que requer o DEK.</span><span class="sxs-lookup"><span data-stu-id="a229e-163">The entity that has access to the KEK may be different than the entity that requires the DEK.</span></span> <span data-ttu-id="a229e-164">Isso permite que um agente administre o acesso ao DEK com a finalidade de garantir o acesso limitado de cada DEK para a partição específica.</span><span class="sxs-lookup"><span data-stu-id="a229e-164">This allows an entity to broker access to the DEK for the purpose of ensuring limited access of each DEK to specific partition.</span></span> <span data-ttu-id="a229e-165">Uma vez que o KEK é necessário para descriptografar os DEKs, o KEK é efetivamente um ponto único pelo qual os DEKs podem ser efetivamente excluídos pela exclusão do KEK.</span><span class="sxs-lookup"><span data-stu-id="a229e-165">Since the KEK is required to decrypt the DEKs, the KEK is effectively a single point by which DEKs can be effectively deleted by deletion of the KEK.</span></span>

<span data-ttu-id="a229e-166">As Chaves de Criptografia de Dados, criptografadas com as Chaves de Criptografia de Chave são armazenadas separadamente e somente uma entidade com acesso à Chave de Criptografia de Chave pode obter quaisquer Chaves de Criptografia de Dados com essa chave.</span><span class="sxs-lookup"><span data-stu-id="a229e-166">The Data Encryption Keys, encrypted with the Key Encryption Keys are stored separately and only an entity with access to the Key Encryption Key can get any Data Encryption Keys encrypted with that key.</span></span> <span data-ttu-id="a229e-167">Há suporte para diferentes modelos de armazenamento de chaves.</span><span class="sxs-lookup"><span data-stu-id="a229e-167">Different models of key storage are supported.</span></span> <span data-ttu-id="a229e-168">Cada modelo será discutido com mais detalhes na próxima seção.</span><span class="sxs-lookup"><span data-stu-id="a229e-168">We will discuss each model in more detail later in the next section.</span></span>

## <a name="data-encryption-models"></a><span data-ttu-id="a229e-169">Modelos de Criptografia de Dados</span><span class="sxs-lookup"><span data-stu-id="a229e-169">Data Encryption Models</span></span>

<span data-ttu-id="a229e-170">Compreender os vários modelos de criptografia e seus prós e contras é fundamental para entender como os vários provedores de recursos no Azure implementam a criptografia em repouso.</span><span class="sxs-lookup"><span data-stu-id="a229e-170">Understanding the various encryption models, and their pros and cons is essential for understanding how the various resource providers in Azure implement encryption at Rest.</span></span> <span data-ttu-id="a229e-171">Essas definições são compartilhadas em todos os provedores de recursos no Azure para garantir linguagem e taxonomia comuns.</span><span class="sxs-lookup"><span data-stu-id="a229e-171">These definitions are shared across all resource providers in Azure to ensure common language and taxonomy.</span></span> 

<span data-ttu-id="a229e-172">Há três cenários para criptografia do lado do servidor:</span><span class="sxs-lookup"><span data-stu-id="a229e-172">There are three scenarios for server-side encryption:</span></span>

- <span data-ttu-id="a229e-173">Criptografia do lado do servidor utilizando chaves de Serviço Gerenciado</span><span class="sxs-lookup"><span data-stu-id="a229e-173">Server-side encryption using Service Managed keys</span></span>
    - <span data-ttu-id="a229e-174">Provedores de recursos do Azure executam as operações de criptografia e descriptografia</span><span class="sxs-lookup"><span data-stu-id="a229e-174">Azure Resource Providers perform the encryption and decryption operations</span></span>
    - <span data-ttu-id="a229e-175">A Microsoft gerencia as chaves</span><span class="sxs-lookup"><span data-stu-id="a229e-175">Microsoft manages the keys</span></span>
    - <span data-ttu-id="a229e-176">Funcionalidade completa na nuvem</span><span class="sxs-lookup"><span data-stu-id="a229e-176">Full cloud functionality</span></span>

- <span data-ttu-id="a229e-177">Criptografia do lado do servidor usando chaves gerenciadas pelo cliente no Azure Key Vault</span><span class="sxs-lookup"><span data-stu-id="a229e-177">Server-side encryption using customer-managed keys in Azure Key Vault</span></span>
    - <span data-ttu-id="a229e-178">Provedores de recursos do Azure executam as operações de criptografia e descriptografia</span><span class="sxs-lookup"><span data-stu-id="a229e-178">Azure Resource Providers perform the encryption and decryption operations</span></span>
    - <span data-ttu-id="a229e-179">O cliente controla as chaves por meio do Azure Key Vault</span><span class="sxs-lookup"><span data-stu-id="a229e-179">Customer controls keys via Azure Key Vault</span></span>
    - <span data-ttu-id="a229e-180">Funcionalidade completa na nuvem</span><span class="sxs-lookup"><span data-stu-id="a229e-180">Full cloud functionality</span></span>

- <span data-ttu-id="a229e-181">Criptografia do lado do servidor utilizando chaves gerenciadas pelo cliente em hardware controlado pelo cliente</span><span class="sxs-lookup"><span data-stu-id="a229e-181">Server-side encryption using customer-managed keys on customer controlled hardware</span></span>
    - <span data-ttu-id="a229e-182">Provedores de recursos do Azure executam as operações de criptografia e descriptografia</span><span class="sxs-lookup"><span data-stu-id="a229e-182">Azure Resource Providers perform the encryption and decryption operations</span></span>
    - <span data-ttu-id="a229e-183">Chaves de controle do cliente no hardware controlado pelo cliente</span><span class="sxs-lookup"><span data-stu-id="a229e-183">Customer controls keys on customer controlled hardware</span></span>
    - <span data-ttu-id="a229e-184">Funcionalidade completa na nuvem</span><span class="sxs-lookup"><span data-stu-id="a229e-184">Full cloud functionality</span></span>

<span data-ttu-id="a229e-185">Para criptografia do lado do cliente, considere o seguinte:</span><span class="sxs-lookup"><span data-stu-id="a229e-185">For client-side encryption, consider the following:</span></span>

- <span data-ttu-id="a229e-186">Os serviços do Azure não podem ver dados descriptografados</span><span class="sxs-lookup"><span data-stu-id="a229e-186">Azure services cannot see decrypted data</span></span>
- <span data-ttu-id="a229e-187">Os clientes gerenciam e armazenam chaves no local (ou em outros repositórios seguros).</span><span class="sxs-lookup"><span data-stu-id="a229e-187">Customers manage and store keys on-premises (or in other secure stores).</span></span> <span data-ttu-id="a229e-188">As chaves não estão disponíveis para os serviços do Azure</span><span class="sxs-lookup"><span data-stu-id="a229e-188">Keys are not available to Azure services</span></span>
- <span data-ttu-id="a229e-189">Funcionalidade reduzida na nuvem</span><span class="sxs-lookup"><span data-stu-id="a229e-189">Reduced cloud functionality</span></span>

<span data-ttu-id="a229e-190">Os modelos de criptografia com suporte no Azure dividem-se em dois grupos principais: "Criptografia do Cliente" e "Criptografia do lado do Servidor", conforme mencionado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="a229e-190">The supported encryption models in Azure split into two main groups: “Client Encryption” and “Server-side Encryption” as mentioned previously.</span></span> <span data-ttu-id="a229e-191">Observe que, independentemente do modelo de criptografia em repouso utilizado, os serviços do Azure recomendam sempre o uso de um transporte seguro, como TLS ou HTTPS.</span><span class="sxs-lookup"><span data-stu-id="a229e-191">Note that, independent of the encryption at rest model used, Azure services always recommend the use of a secure transport such as TLS or HTTPS.</span></span> <span data-ttu-id="a229e-192">Portanto, a criptografia em transporte deve ser abordada pelo protocolo de transporte e não deve ser um fator importante na determinação do modelo de criptografia em repouso a ser utilizado.</span><span class="sxs-lookup"><span data-stu-id="a229e-192">Therefore, encryption in transport should be addressed by the transport protocol and should not be a major factor in determining which encryption at rest model to use.</span></span>

### <a name="client-encryption-model"></a><span data-ttu-id="a229e-193">Modelo de criptografia de cliente</span><span class="sxs-lookup"><span data-stu-id="a229e-193">Client encryption model</span></span>

<span data-ttu-id="a229e-194">O modelo de Criptografia de Cliente refere-se à criptografia que é realizada fora do Provedor de Recursos ou Azure pelo aplicativo de chamada ou serviço.</span><span class="sxs-lookup"><span data-stu-id="a229e-194">Client Encryption model refers to encryption that is performed outside of the Resource Provider or Azure by the service or calling application.</span></span> <span data-ttu-id="a229e-195">A criptografia pode ser realizada pelo aplicativo de serviço no Azure ou por um aplicativo em execução no data center do cliente.</span><span class="sxs-lookup"><span data-stu-id="a229e-195">The encryption can be performed by the service application in Azure, or by an application running in the customer data center.</span></span> <span data-ttu-id="a229e-196">Em ambos os casos, ao aproveitar esse modelo de criptografia, o Provedor de Recursos do Azure recebe um blob de dados criptografado sem a capacidade de descriptografar os dados de maneira nenhuma ou ter acesso às chaves de criptografia.</span><span class="sxs-lookup"><span data-stu-id="a229e-196">In either case, when leveraging this encryption model, the Azure Resource Provider receives an encrypted blob of data without the ability to decrypt the data in any way or have access to the encryption keys.</span></span> <span data-ttu-id="a229e-197">Nesse modelo, o gerenciamento de chaves é feito pelo aplicativo de chamada/serviço e é completamente opaco para o serviço do Azure.</span><span class="sxs-lookup"><span data-stu-id="a229e-197">In this model, the key management is done by the calling service/application and is completely opaque to the Azure service.</span></span>

![Cliente](./media/azure-security-encryption-atrest/azure-security-encryption-atrest-fig2.png)

### <a name="server-side-encryption-model"></a><span data-ttu-id="a229e-199">Modelo de criptografia do lado do servidor</span><span class="sxs-lookup"><span data-stu-id="a229e-199">Server-side encryption model</span></span>

<span data-ttu-id="a229e-200">Os modelos de criptografia do lado do servidor referem-se à criptografia que é executada pelo serviço do Azure.</span><span class="sxs-lookup"><span data-stu-id="a229e-200">Server-side Encryption models refer to encryption that is performed by the Azure service.</span></span> <span data-ttu-id="a229e-201">Nesse modelo, o Provedor de Recursos executa as operações de criptografia e descriptografia.</span><span class="sxs-lookup"><span data-stu-id="a229e-201">In that model, the Resource Provider performs the encrypt and decrypt operations.</span></span> <span data-ttu-id="a229e-202">Por exemplo, o Armazenamento do Azure pode receber dados em operações de texto sem formatação e executará a criptografia e descriptografia internamente.</span><span class="sxs-lookup"><span data-stu-id="a229e-202">For example, Azure Storage may receive data in plain text operations and will perform the encryption and decryption internally.</span></span> <span data-ttu-id="a229e-203">O Provedor de Recursos pode utilizar chave de criptografia que são gerenciadas pela Microsoft ou pelo cliente, dependendo da configuração fornecida.</span><span class="sxs-lookup"><span data-stu-id="a229e-203">The Resource Provider might use encryption keys that are managed by Microsoft or by the customer depending on the provided configuration.</span></span> 

![Servidor](./media/azure-security-encryption-atrest/azure-security-encryption-atrest-fig3.png)

### <a name="server-side-encryption-key-management-models"></a><span data-ttu-id="a229e-205">Modelos de gerenciamento de chave de criptografia do lado do servidor</span><span class="sxs-lookup"><span data-stu-id="a229e-205">Server-side encryption key management models</span></span>

<span data-ttu-id="a229e-206">Cada um dos modelos de criptografia em repouso do lado do servidor implica características distintivas do gerenciamento de chaves.</span><span class="sxs-lookup"><span data-stu-id="a229e-206">Each of the server-side encryption at rest models implies distinctive characteristics of key management.</span></span> <span data-ttu-id="a229e-207">Isso inclui onde e como as chaves de criptografia são criadas e armazenadas, assim como os modelos de acesso e os procedimentos de rotação de chave.</span><span class="sxs-lookup"><span data-stu-id="a229e-207">This includes where and how encryption keys are created, and stored as well as the access models and the key rotation procedures.</span></span> 

#### <a name="server-side-encryption-using-service-managed-keys"></a><span data-ttu-id="a229e-208">Criptografia do lado do servidor utilizando chaves de serviço gerenciado</span><span class="sxs-lookup"><span data-stu-id="a229e-208">Server-side encryption using service managed keys</span></span>

<span data-ttu-id="a229e-209">Para muitos clientes, o requisito essencial é garantir que os dados sejam criptografados sempre que estiver em repouso.</span><span class="sxs-lookup"><span data-stu-id="a229e-209">For many customers, the essential requirement is to ensure that the data is encrypted whenever it is at rest.</span></span> <span data-ttu-id="a229e-210">A criptografia do lado do servidor utilizando Chaves de Serviço Gerenciado habilita esse modelo, permitindo que os clientes marquem o recurso específico (Conta de Armazenamento, BD SQL, etc.) para criptografia e deixando todos os aspectos de gerenciamento de chaves, como emissão de chave, rotação e backup para a Microsoft.</span><span class="sxs-lookup"><span data-stu-id="a229e-210">Server-side encryption using Service Managed Keys enables this model by allowing customers to mark the specific resource (Storage Account, SQL DB, etc.) for encryption and leaving all key management aspects such as key issuance, rotation and backup to Microsoft.</span></span> <span data-ttu-id="a229e-211">A maioria dos Serviços do Azure com suporte para criptografia em repouso, geralmente fornecem suporte para esse modelo de descarregamento do gerenciamento das chaves de criptografia para o Azure.</span><span class="sxs-lookup"><span data-stu-id="a229e-211">Most Azure Services that support encryption at rest typically support this model of offloading the management of the encryption keys to Azure.</span></span> <span data-ttu-id="a229e-212">O provedor de recursos do Azure cria as chaves, coloca-as em um armazenamento seguro e recupera as chaves quando necessário.</span><span class="sxs-lookup"><span data-stu-id="a229e-212">The Azure resource provider creates the keys, places them in secure  storage, and retrieves them when needed.</span></span> <span data-ttu-id="a229e-213">Isso significa que o serviço possui acesso completo às chaves e o serviço tem o controle total sobre o gerenciamento do ciclo de vida de credenciais.</span><span class="sxs-lookup"><span data-stu-id="a229e-213">This means that the service has full access to the keys and the service has full control over the credential lifecycle management.</span></span>

![gerenciado](./media/azure-security-encryption-atrest/azure-security-encryption-atrest-fig4.png)

<span data-ttu-id="a229e-215">A criptografia do lado do servidor utilizando chaves de serviço gerenciado, portanto, aborda rapidamente a necessidade de ter criptografia em repouso com baixa sobrecarga para o cliente.</span><span class="sxs-lookup"><span data-stu-id="a229e-215">Server-side encryption using service managed keys therefore quickly addresses the need to have encryption at rest with low overhead to the customer.</span></span> <span data-ttu-id="a229e-216">Quando disponível, um cliente normalmente abre o portal do Azure para a assinatura de destino e provedor de recursos e verifica uma caixa indicando que gostaria que os dados fossem criptografados.</span><span class="sxs-lookup"><span data-stu-id="a229e-216">When available a customer typically opens the Azure portal for the target subscription and resource provider and checks a box indicating they would like the data to be encrypted.</span></span> <span data-ttu-id="a229e-217">Em algumas criptografias do lado do servidor de Gerenciadores de Recursos com chaves de serviço gerenciado são ativadas por padrão.</span><span class="sxs-lookup"><span data-stu-id="a229e-217">In some Resource Managers server-side encryption with service managed keys is on by default.</span></span> 

<span data-ttu-id="a229e-218">A criptografia do lado do servidor com as chaves gerenciadas da Microsoft implica que o serviço possui acesso completo para armazenar e gerenciar as chaves.</span><span class="sxs-lookup"><span data-stu-id="a229e-218">Server-side encryption with Microsoft managed keys does imply the service has full access to store and manages the keys.</span></span> <span data-ttu-id="a229e-219">Embora alguns clientes desejam gerenciar as chaves porque sentem que podem garantir uma maior segurança, o custo e o risco associados a uma solução de armazenamento de chaves personalizada devem ser considerados ao avaliar esse modelo.</span><span class="sxs-lookup"><span data-stu-id="a229e-219">While some customers may want to manage the keys because they feel they can ensure greater security, the cost and risk associated with a custom key storage solution should be considered when evaluating this model.</span></span> <span data-ttu-id="a229e-220">Em muitos casos, uma organização pode determinar que restrições de recursos ou riscos de uma solução local podem ser maiores que o risco de gerenciamento de nuvem das chaves de criptografia em repouso.</span><span class="sxs-lookup"><span data-stu-id="a229e-220">In many cases an organization may determine that resource constraints or risks of an on-premises solution may greater than the risk of cloud management of the encryption at rest keys.</span></span>  <span data-ttu-id="a229e-221">No entanto, esse modelo pode não ser suficiente para as organizações que possuem requisitos para controlar a criação ou o ciclo de vida das chaves de criptografia ou têm uma equipe diferente para gerenciar chaves de criptografia do serviço do que aquelas que gerenciam o serviço (ou seja, segregação de gerenciamento de chaves do modelo de gerenciamento geral para o serviço).</span><span class="sxs-lookup"><span data-stu-id="a229e-221">However, this model might not be sufficient for organizations that have requirements to control the creation or lifecycle of the encryption keys or to have different personnel manage a service’s encryption keys than those managing the service (i.e., segregation of key management from the overall management model for the service).</span></span>

##### <a name="key-access"></a><span data-ttu-id="a229e-222">Acesso à chave</span><span class="sxs-lookup"><span data-stu-id="a229e-222">Key access</span></span>

<span data-ttu-id="a229e-223">Quando a criptografia do lado do Servidor com chaves de Serviço Gerenciado for utilizada, a criação de chave, o acesso ao serviço e armazenamento serão gerenciados pelo serviço.</span><span class="sxs-lookup"><span data-stu-id="a229e-223">When Server-side encryption with Service Managed keys is used, the key creation, storage and service access are all managed by the service.</span></span> <span data-ttu-id="a229e-224">Normalmente, os provedores de recursos do Azure fundamentais irão armazenar as Chaves de Criptografia de Dados em um repositório próximo aos dados e rapidamente disponíveis e acessíveis, enquanto as Chaves de Criptografia de Chave são armazenadas em um repositório interno seguro.</span><span class="sxs-lookup"><span data-stu-id="a229e-224">Typically, the foundational Azure resource providers will store the Data Encryption Keys in a store that is close to the data and quickly available and accessible while the Key Encryption Keys are stored in a secure internal store.</span></span>

<span data-ttu-id="a229e-225">**Vantagens**</span><span class="sxs-lookup"><span data-stu-id="a229e-225">**Advantages**</span></span>

- <span data-ttu-id="a229e-226">Configuração simples</span><span class="sxs-lookup"><span data-stu-id="a229e-226">Simple setup</span></span>
- <span data-ttu-id="a229e-227">A Microsoft gerencia backup, redundância e rotação de chave</span><span class="sxs-lookup"><span data-stu-id="a229e-227">Microsoft manages key rotation, backup and redundancy</span></span>
- <span data-ttu-id="a229e-228">O cliente não tem o custo associado à implementação ou o risco de um esquema de gerenciamento de chaves personalizado.</span><span class="sxs-lookup"><span data-stu-id="a229e-228">Customer does not have the cost associated with implementation or the risk of a custom key management scheme.</span></span>

<span data-ttu-id="a229e-229">**Desvantagens**</span><span class="sxs-lookup"><span data-stu-id="a229e-229">**Disadvantages**</span></span>

- <span data-ttu-id="a229e-230">Não há controle do cliente sobre as chaves de criptografia (especificação de chave, ciclo de vida, revogação, etc.)</span><span class="sxs-lookup"><span data-stu-id="a229e-230">No customer control over the encryption keys (key specification, lifecycle, revocation, etc.)</span></span>
- <span data-ttu-id="a229e-231">Nenhuma capacidade para segregar o gerenciamento de chaves do modelo de gerenciamento geral para o serviço</span><span class="sxs-lookup"><span data-stu-id="a229e-231">No ability to segregate key management from overall management model for the service</span></span>

#### <a name="server-side-encryption-using-customer-managed-keys-in-azure-key-vault"></a><span data-ttu-id="a229e-232">Criptografia do lado do servidor utilizando chaves de cliente gerenciado no Azure Key Vault</span><span class="sxs-lookup"><span data-stu-id="a229e-232">Server-side encryption using customer managed keys in Azure Key Vault</span></span> 

<span data-ttu-id="a229e-233">Para cenários em que o requisito é criptografar os dados em repouso e controlar as chaves de criptografia, os clientes podem utilizar criptografia do lado do servidor usando as Chaves de Cliente Gerenciado no Key Vault.</span><span class="sxs-lookup"><span data-stu-id="a229e-233">For scenarios where the requirement is to encrypt the data at rest and control the encryption keys customers can use server-side Encryption using Customer Managed Keys in Key Vault.</span></span> <span data-ttu-id="a229e-234">Alguns serviços podem armazenar apenas a Chave de Criptografia de Chave raiz no Azure Key Vault e armazenar a Chave de Criptografia de Dados criptografada em um local interno mais próximo dos dados.</span><span class="sxs-lookup"><span data-stu-id="a229e-234">Some services may store only the root Key Encryption Key in Azure Key Vault and store the encrypted Data Encryption Key in an internal location closer to the data.</span></span> <span data-ttu-id="a229e-235">Nesse cenário, os clientes podem trazer suas próprias chaves para o Key Vault (BYOK - Traga Sua Própria Chave), ou gerar novas, e utilizá-las para criptografar os recursos desejados.</span><span class="sxs-lookup"><span data-stu-id="a229e-235">In that scenario customers can bring their own keys to Key Vault (BYOK – Bring Your Own Key), or generate new ones, and use them to encrypt the desired resources.</span></span> <span data-ttu-id="a229e-236">Enquanto o Provedor de Recursos executa as operações de criptografia e descriptografia, ele utiliza a chave configurada como a chave raiz para todas as operações de criptografia.</span><span class="sxs-lookup"><span data-stu-id="a229e-236">While the Resource Provider performs the encryption and decryption operations it uses the configured key as the root key for all encryption operations.</span></span> 

##### <a name="key-access"></a><span data-ttu-id="a229e-237">Acesso à chave</span><span class="sxs-lookup"><span data-stu-id="a229e-237">Key Access</span></span>

<span data-ttu-id="a229e-238">O modelo de criptografia do lado do servidor com chaves de cliente gerenciado no Azure Key Vault envolve o serviço acessando as chaves para criptografar e descriptografar, conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="a229e-238">The server-side encryption model with customer managed keys in Azure Key Vault involves the service accessing the keys to encrypt and decrypt as needed.</span></span> <span data-ttu-id="a229e-239">As chaves de criptografia em repouso são acessíveis para um serviço através de uma política de controle de acesso que concede esse acesso de identidade do serviço para receber a chave.</span><span class="sxs-lookup"><span data-stu-id="a229e-239">Encryption at rest keys are made accessible to a service through an access control policy granting that service identity access to receive the key.</span></span> <span data-ttu-id="a229e-240">Um serviço do Azure executado em nome de uma assinatura associada pode ser configurado com uma identidade para esse serviço dentro dessa assinatura.</span><span class="sxs-lookup"><span data-stu-id="a229e-240">An Azure service running on behalf of an associated subscription can be configured with an identity for that service within that subscription.</span></span> <span data-ttu-id="a229e-241">O serviço pode executar a autenticação do Azure Active Directory e receber um token de autenticação identificando-se como esse serviço agindo em nome da assinatura.</span><span class="sxs-lookup"><span data-stu-id="a229e-241">The service can perform Azure Active Directory authentication and receive an authentication token identifying itself as that service acting on behalf of the subscription.</span></span> <span data-ttu-id="a229e-242">Esse token pode, então, ser apresentado ao Key Vault para obter uma chave para a qual tenha tido acesso.</span><span class="sxs-lookup"><span data-stu-id="a229e-242">That token can then be presented to Key Vault to obtain a key it has been given access to.</span></span>

<span data-ttu-id="a229e-243">Para operações que utilizam chaves de criptografia, uma identidade do serviço pode ter acesso a quaisquer das seguintes operações: descriptografar, criptografar, unwrapKey, wrapKey, verificar, assinar, obter, listar, atualizar, criar, importar, excluir, fazer backup e restaurar.</span><span class="sxs-lookup"><span data-stu-id="a229e-243">For operations using encryption keys, a service identity can be granted access to any of the following operations: decrypt, encrypt, unwrapKey, wrapKey, verify, sign, get, list, update, create, import, delete, backup, and restore.</span></span>

<span data-ttu-id="a229e-244">Para obter uma chave para utilizar em criptografia ou descriptografia de dados em repouso, a identidade do serviço que a instância de serviço do Gerenciador de Recursos executará como deverá ter UnwrapKey (para obter a chave para descriptografar) e WrapKey (para inserir uma chave no cofre de chaves ao criar uma nova chave).</span><span class="sxs-lookup"><span data-stu-id="a229e-244">To obtain a key for use in encrypting or decrypting data at rest the service identity that the Resource Manager service instance will run as must have UnwrapKey (to get the key for decryption) and WrapKey (to insert a key into key vault when creating a new key).</span></span>


>[!NOTE] 
><span data-ttu-id="a229e-245">Para obter mais detalhes sobre a autorização do Key Vault, consulte a página segura do cofre de chaves na [documentação do Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-secure-your-key-vault).</span><span class="sxs-lookup"><span data-stu-id="a229e-245">For more detail on Key Vault authorization see the secure your key vault page in the [Azure Key Vault documentation](https://docs.microsoft.com/azure/key-vault/key-vault-secure-your-key-vault).</span></span> 

<span data-ttu-id="a229e-246">**Vantagens**</span><span class="sxs-lookup"><span data-stu-id="a229e-246">**Advantages**</span></span>

- <span data-ttu-id="a229e-247">Controle total sobre as chaves utilizadas – as chaves de criptografia são gerenciadas no Key Vault do cliente sob o controle do cliente.</span><span class="sxs-lookup"><span data-stu-id="a229e-247">Full control over the keys used – encryption keys are managed in the customer’s Key Vault under the customer’s control.</span></span>
- <span data-ttu-id="a229e-248">Capacidade para criptografar vários serviços para um mestre</span><span class="sxs-lookup"><span data-stu-id="a229e-248">Ability to encrypt multiple services to one master</span></span>
- <span data-ttu-id="a229e-249">É possível separar o gerenciamento de chaves do modelo de gerenciamento geral para o serviço</span><span class="sxs-lookup"><span data-stu-id="a229e-249">Can segregate key management from overall management model for the service</span></span>
- <span data-ttu-id="a229e-250">É possível definir o serviço e a localização de chave entre regiões</span><span class="sxs-lookup"><span data-stu-id="a229e-250">Can define service and key location across regions</span></span>

<span data-ttu-id="a229e-251">**Desvantagens**</span><span class="sxs-lookup"><span data-stu-id="a229e-251">**Disadvantages**</span></span>

- <span data-ttu-id="a229e-252">O cliente tem total responsabilidade pelo gerenciamento de acesso de chave</span><span class="sxs-lookup"><span data-stu-id="a229e-252">Customer has full responsibility for key access management</span></span>
- <span data-ttu-id="a229e-253">O cliente tem total responsabilidade pelo gerenciamento do ciclo de vida da chave</span><span class="sxs-lookup"><span data-stu-id="a229e-253">Customer has full responsibility for key lifecycle management</span></span>
- <span data-ttu-id="a229e-254">Configuração adicional e sobrecarga de configuração</span><span class="sxs-lookup"><span data-stu-id="a229e-254">Additional Setup & configuration overhead</span></span>

#### <a name="server-side-encryption-using-service-managed-keys-in-customer-controlled-hardware"></a><span data-ttu-id="a229e-255">Criptografia do lado do servidor utilizando chaves de serviço gerenciado em hardware controlado pelo cliente</span><span class="sxs-lookup"><span data-stu-id="a229e-255">Server-side encryption using service managed keys in customer controlled hardware</span></span>

<span data-ttu-id="a229e-256">Para cenários onde o requisito é criptografar os dados em repouso e gerenciar as chaves em um repositório proprietário fora do controle da Microsoft, alguns serviços do Azure habilitam o modelo de gerenciamento de chaves HYOK (Hospede Sua Própria Chave).</span><span class="sxs-lookup"><span data-stu-id="a229e-256">For scenarios where the requirement is to encrypt the data at rest and manage the keys in a proprietary repository outside of Microsoft’s control, some Azure services enable the Host Your Own Key (HYOK) key management model.</span></span> <span data-ttu-id="a229e-257">Nesse modelo, o serviço deve recuperar a chave de um site externo e, portanto, as garantias de desempenho e disponibilidade são afetadas e a configuração é mais complexa.</span><span class="sxs-lookup"><span data-stu-id="a229e-257">In this model, the service must retrieve the key from an external site and therefore performance and availability guarantees are impacted, and configuration is more complex.</span></span> <span data-ttu-id="a229e-258">Além disso, uma vez que o serviço tenha acesso ao DEK durante as operações de criptografia e descriptografia, as garantias de segurança gerais desse modelo são semelhantes quando as chaves são gerenciadas pelo cliente no Azure Key Vault.</span><span class="sxs-lookup"><span data-stu-id="a229e-258">Additionally, since the service does have access to the DEK during the encryption and decryption operations the overall security guarantees of this model are similar to when the keys are customer managed in Azure Key Vault.</span></span>  <span data-ttu-id="a229e-259">Como resultado, esse modelo não é apropriado para a maioria das organizações, exceto se possuírem requisitos específicos de gerenciamento de chaves que o exijam.</span><span class="sxs-lookup"><span data-stu-id="a229e-259">As a result, this model is not appropriate for most organizations unless they have specific key management requirements necessitating it.</span></span> <span data-ttu-id="a229e-260">Devido a essas limitações, a maioria dos Serviços do Azure não fornece suporte para criptografia do lado do servidor utilizando chaves gerenciadas por servidor em hardware controlado pelo cliente.</span><span class="sxs-lookup"><span data-stu-id="a229e-260">Due to these limitations, most Azure Services do not support server-side encryption using server-managed keys in customer controlled hardware.</span></span>

##### <a name="key-access"></a><span data-ttu-id="a229e-261">Acesso à chave</span><span class="sxs-lookup"><span data-stu-id="a229e-261">Key Access</span></span>

<span data-ttu-id="a229e-262">Quando a criptografia do lado do servidor utilizando chaves de serviço gerenciado em hardware controlado pelo cliente, as chaves utilizadas são mantidas em um sistema configurado pelo cliente.</span><span class="sxs-lookup"><span data-stu-id="a229e-262">When server-side encryption using service managed keys in customer controlled hardware is used the keys are maintained on a system configured by the customer.</span></span> <span data-ttu-id="a229e-263">Os serviços do Azure com suporte para esse modelo fornecem um meio de estabelecer uma conexão segura com um repositório de chaves fornecido pelo cliente.</span><span class="sxs-lookup"><span data-stu-id="a229e-263">Azure services that support this model provide a means of establishing a secure connection to a customer supplied key store.</span></span>

<span data-ttu-id="a229e-264">**Vantagens**</span><span class="sxs-lookup"><span data-stu-id="a229e-264">**Advantages**</span></span>

- <span data-ttu-id="a229e-265">Controle total sobre a chave raiz utilizada – as chaves de criptografia são gerenciadas por um repositório fornecido pelo cliente</span><span class="sxs-lookup"><span data-stu-id="a229e-265">Full control over the root key used – encryption keys are managed by a customer provided store</span></span>
- <span data-ttu-id="a229e-266">Capacidade para criptografar vários serviços para um mestre</span><span class="sxs-lookup"><span data-stu-id="a229e-266">Ability to encrypt multiple services to one master</span></span>
- <span data-ttu-id="a229e-267">É possível separar o gerenciamento de chaves do modelo de gerenciamento geral para o serviço</span><span class="sxs-lookup"><span data-stu-id="a229e-267">Can segregate key management from overall management model for the service</span></span>
- <span data-ttu-id="a229e-268">É possível definir o serviço e a localização de chave entre regiões</span><span class="sxs-lookup"><span data-stu-id="a229e-268">Can define service and key location across regions</span></span>

<span data-ttu-id="a229e-269">**Desvantagens**</span><span class="sxs-lookup"><span data-stu-id="a229e-269">**Disadvantages**</span></span>

- <span data-ttu-id="a229e-270">Total responsabilidade pela segurança, desempenho, disponibilidade e armazenamento de chaves</span><span class="sxs-lookup"><span data-stu-id="a229e-270">Full responsibility for key storage, security, performance and availability</span></span>
- <span data-ttu-id="a229e-271">Total responsabilidade pelo gerenciamento de acesso à chave</span><span class="sxs-lookup"><span data-stu-id="a229e-271">Full responsibility for key access management</span></span>
- <span data-ttu-id="a229e-272">Total responsabilidade pelo gerenciamento do ciclo de vida da chave</span><span class="sxs-lookup"><span data-stu-id="a229e-272">Full responsibility for key lifecycle management</span></span>
- <span data-ttu-id="a229e-273">Configuração significativa, configuração e custos de manutenção contínuos</span><span class="sxs-lookup"><span data-stu-id="a229e-273">Significant setup, configuration and ongoing maintenance costs</span></span>
- <span data-ttu-id="a229e-274">Aumento da dependência da disponibilidade de rede entre o datacenter do cliente e os datacenters do Azure.</span><span class="sxs-lookup"><span data-stu-id="a229e-274">Increased dependency on network availability between the customer datacenter and Azure datacenters.</span></span>

## <a name="encryption-at-rest-in-microsoft-cloud-services"></a><span data-ttu-id="a229e-275">Criptografia em repouso em serviços em nuvem da Microsoft</span><span class="sxs-lookup"><span data-stu-id="a229e-275">Encryption at rest in Microsoft cloud services</span></span>

<span data-ttu-id="a229e-276">Os serviços do Microsoft Cloud são utilizados em todos os três modelos de nuvem: IaaS, PaaS, SaaS.</span><span class="sxs-lookup"><span data-stu-id="a229e-276">Microsoft Cloud services are used in all three cloud models: IaaS, PaaS, SaaS.</span></span> <span data-ttu-id="a229e-277">A seguir, são apresentados exemplos de como ajustam-se em cada modelo:</span><span class="sxs-lookup"><span data-stu-id="a229e-277">Below you have examples of how they fit on each model:</span></span>

- <span data-ttu-id="a229e-278">Serviços de software, designados como Software como Servidor ou SaaS, que possuem aplicativos fornecidos pela nuvem, como o Office 365.</span><span class="sxs-lookup"><span data-stu-id="a229e-278">Software services, referred to as Software as a Server or SaaS, which have application provided by the cloud such as Office 365.</span></span>
- <span data-ttu-id="a229e-279">Serviços de plataforma que os clientes aproveitam a nuvem em seus aplicativos, utilizando a nuvem para armazenamento, análise e funcionalidade de barramento de serviço.</span><span class="sxs-lookup"><span data-stu-id="a229e-279">Platform services which customers leverage the cloud in their applications, using the cloud for things like storage, analytics and service bus functionality.</span></span>
- <span data-ttu-id="a229e-280">Serviços de infraestrutura, ou Infraestrutura como Serviço (IaaS), em que o cliente implanta sistemas operacionais e aplicativos hospedados na nuvem e possivelmente aproveitando outros serviços em nuvem.</span><span class="sxs-lookup"><span data-stu-id="a229e-280">Infrastructure services, or Infrastructure as a Service (IaaS) in which customer deploy operating systems and applications that are hosted in the cloud and possibly leveraging other cloud services.</span></span>

### <a name="encryption-at-rest-for-saas-customers"></a><span data-ttu-id="a229e-281">Criptografia em repouso para clientes SaaS</span><span class="sxs-lookup"><span data-stu-id="a229e-281">Encryption at rest for SaaS customers</span></span>

<span data-ttu-id="a229e-282">Os clientes de Software como Serviço (SaaS), geralmente possuem criptografia em repouso habilitada ou disponível em cada serviço.</span><span class="sxs-lookup"><span data-stu-id="a229e-282">Software as a Service (SaaS) customers typically have encryption at rest enabled or available in each service.</span></span> <span data-ttu-id="a229e-283">Os serviços do Office 365 possuem várias opções para que os clientes verifiquem ou habilitem criptografia em repouso.</span><span class="sxs-lookup"><span data-stu-id="a229e-283">Office 365 services has several options for customers to verify or enable encryption at rest.</span></span> <span data-ttu-id="a229e-284">Para obter informações sobre os serviços do Office 365, consulte Tecnologias de Criptografia de Dados para Office 365.</span><span class="sxs-lookup"><span data-stu-id="a229e-284">For information about Office 365 services see Data Encryption Technologies for Office 365.</span></span>

### <a name="encryption-at-rest-for-paas-customers"></a><span data-ttu-id="a229e-285">Criptografia em repouso para clientes de PaaS</span><span class="sxs-lookup"><span data-stu-id="a229e-285">Encryption at rest for PaaS customers</span></span>

<span data-ttu-id="a229e-286">Os dados do cliente de Plataforma como Serviço (PaaS) normalmente residem em um ambiente de execução de aplicativos e qualquer Provedor de Recursos do Azure utilizado para armazenar dados do cliente.</span><span class="sxs-lookup"><span data-stu-id="a229e-286">Platform as a Service (PaaS) customer’s data typically resides in an application execution environment and any Azure Resource Providers used to store customer data.</span></span> <span data-ttu-id="a229e-287">Para consultar as opções de criptografia em repouso disponíveis, examine a tabela abaixo para as plataformas de aplicativos e armazenamento que você utiliza.</span><span class="sxs-lookup"><span data-stu-id="a229e-287">To see the encryption at rest options available to you examine the table below for the storage and application platforms that you use.</span></span> <span data-ttu-id="a229e-288">Onde houver suporte, serão fornecidos links para instruções sobre como habilitar a Criptografia em Repouso para cada provedor de recursos.</span><span class="sxs-lookup"><span data-stu-id="a229e-288">Where supported, links to instructions on enabling Encryption at Rest are provided for each resource provider.</span></span> 

### <a name="encryption-at-rest-for-iaas-customers"></a><span data-ttu-id="a229e-289">Criptografia em repouso para clientes de IaaS</span><span class="sxs-lookup"><span data-stu-id="a229e-289">Encryption at rest for IaaS customers</span></span>

<span data-ttu-id="a229e-290">Os clientes de Infraestrutura como Serviço (IaaS) podem ter uma variedade de serviços e aplicativos em uso.</span><span class="sxs-lookup"><span data-stu-id="a229e-290">Infrastructure as a Service (IaaS) customers can have a variety of services and applications in use.</span></span> <span data-ttu-id="a229e-291">Os serviços de IaaS podem habilitar a criptografia em repouso em suas máquinas virtuais hospedadas no Azure e VHDs utilizando o Azure Disk Encryption.</span><span class="sxs-lookup"><span data-stu-id="a229e-291">IaaS services can enable encryption at rest in their Azure hosted virtual machines and VHDs using Azure Disk Encryption.</span></span> 

#### <a name="encrypted-storage"></a><span data-ttu-id="a229e-292">Armazenamento criptografado</span><span class="sxs-lookup"><span data-stu-id="a229e-292">Encrypted storage</span></span>

<span data-ttu-id="a229e-293">Como PaaS, as soluções de IaaS podem aproveitar outros serviços do Azure que armazenam dados criptografados em repouso.</span><span class="sxs-lookup"><span data-stu-id="a229e-293">Like PaaS, IaaS solutions can leverage other Azure services that store data encrypted at rest.</span></span> <span data-ttu-id="a229e-294">Nestes casos, é possível habilitar o suporte para criptografia em repouso, conforme fornecido por cada serviço do Azure consumido.</span><span class="sxs-lookup"><span data-stu-id="a229e-294">In these cases, you can enable the Encryption at Rest support as provided by each consumed Azure service.</span></span> <span data-ttu-id="a229e-295">A tabela abaixo enumera as principais plataformas de aplicativos, serviços e armazenamento e o modelo de Criptografia em Repouso com suporte.</span><span class="sxs-lookup"><span data-stu-id="a229e-295">The below table enumerates the major storage, services and application platforms and the model of Encryption at Rest supported.</span></span> <span data-ttu-id="a229e-296">Onde houver suporte, serão fornecidos links para instruções sobre como habilitar a Criptografia em Repouso.</span><span class="sxs-lookup"><span data-stu-id="a229e-296">Where supported, links are provided to instructions on enabling Encryption at Rest.</span></span> 

#### <a name="encrypted-compute"></a><span data-ttu-id="a229e-297">Computação criptografada</span><span class="sxs-lookup"><span data-stu-id="a229e-297">Encrypted compute</span></span>

<span data-ttu-id="a229e-298">Uma solução completa de Criptografia em Repouso exige que os dados nunca sejam persistidos em forma não criptografada.</span><span class="sxs-lookup"><span data-stu-id="a229e-298">A complete Encryption at Rest solution requires that the data is never persisted in unencrypted form.</span></span> <span data-ttu-id="a229e-299">Enquanto estiver em uso, em um servidor que carrega os dados na memória, os dados podem ser persistidos localmente de várias maneiras, incluindo o arquivo de página do Windows, um despejo de memória e quaisquer registros em log que o aplicativo possa executar.</span><span class="sxs-lookup"><span data-stu-id="a229e-299">While in use, on a server loading the data in memory, data can be persisted locally in various ways including the Windows page file, a crash dump, and any logging the application may perform.</span></span> <span data-ttu-id="a229e-300">Para garantir que esses dados sejam criptografados em repouso, os aplicativos de IaaS podem utilizar o Azure Disk Encryption em uma máquina virtual de IaaS do Azure (Windows ou Linux) e no disco virtual.</span><span class="sxs-lookup"><span data-stu-id="a229e-300">To ensure this data is encrypted at rest IaaS applications can use Azure Disk Encryption on an Azure IaaS virtual machine (Windows or Linux) and virtual disk.</span></span> 

#### <a name="custom-encryption-at-rest"></a><span data-ttu-id="a229e-301">Criptografia em repouso personalizada</span><span class="sxs-lookup"><span data-stu-id="a229e-301">Custom encryption at rest</span></span>

<span data-ttu-id="a229e-302">É recomendável, sempre que possível, que os aplicativos de IaaS utilizem as opções de Criptografia em Repouso e o Azure Disk Encryption fornecidos por quaisquer serviços do Azure consumidos.</span><span class="sxs-lookup"><span data-stu-id="a229e-302">It is recommended that whenever possible, IaaS applications leverage Azure Disk Encryption and Encryption at Rest options provided by any consumed Azure services.</span></span> <span data-ttu-id="a229e-303">Em alguns casos, como requisitos de criptografia irregulares ou armazenamento não baseado em Azure, um desenvolvedor de um aplicativo de IaaS pode precisar implementar criptografia em repouso.</span><span class="sxs-lookup"><span data-stu-id="a229e-303">In some cases, such as irregular encryption requirements or non-Azure based storage, a developer of an IaaS application may need to implement encryption at rest themselves.</span></span> <span data-ttu-id="a229e-304">Os desenvolvedores das soluções de IaaS podem integra-se melhor com o gerenciamento do Azure e as expectativas dos clientes, aproveitando determinados componentes do Azure.</span><span class="sxs-lookup"><span data-stu-id="a229e-304">Developers of IaaS solutions can better integrate with Azure management and customer expectations by leveraging certain Azure components.</span></span> <span data-ttu-id="a229e-305">Especificamente, os desenvolvedores devem utilizar o serviço do Azure Key Vault para fornecer armazenamento de chaves seguras, além de fornecer aos seus clientes opções de gerenciamento de chaves consistentes com a maioria dos serviços da plataforma do Azure.</span><span class="sxs-lookup"><span data-stu-id="a229e-305">Specifically, developers should use the Azure Key Vault service to provide secure key storage as well as provide their customers with consistent key management options with that of most Azure platform services.</span></span> <span data-ttu-id="a229e-306">Além disso, as soluções personalizadas devem utilizar as Identidades de Serviço Gerenciado do Azure para permitir que as contas do serviço acessem chaves de criptografia.</span><span class="sxs-lookup"><span data-stu-id="a229e-306">Additionally, custom solutions should use Azure Managed Service Identities to enable service accounts to access encryption keys.</span></span> <span data-ttu-id="a229e-307">Para informações de desenvolvedor sobre o Azure Key Vault e as Identidades de Serviço Gerenciado, consulte seus respectivos SDKs.</span><span class="sxs-lookup"><span data-stu-id="a229e-307">For developer information on Azure Key Vault and Managed Service Identities see their respective SDKs.</span></span>

## <a name="azure-resource-providers-encryption-model-support"></a><span data-ttu-id="a229e-308">Suporte ao modelo de criptografia dos provedores de recursos do Azure</span><span class="sxs-lookup"><span data-stu-id="a229e-308">Azure resource providers encryption model support</span></span>

<span data-ttu-id="a229e-309">Os serviços do Microsoft Azure oferecem suporte para um ou mais dos modelos de criptografia em repouso.</span><span class="sxs-lookup"><span data-stu-id="a229e-309">Microsoft Azure Services each support one or more of the encryption at rest models.</span></span> <span data-ttu-id="a229e-310">Para alguns serviços, no entanto, um ou mais dos modelos de criptografia podem não ser aplicáveis.</span><span class="sxs-lookup"><span data-stu-id="a229e-310">For some services, however, one or more of the encryption models may not be applicable.</span></span> <span data-ttu-id="a229e-311">Além disso, os serviços podem liberar suporte para esses cenários em horários diferentes.</span><span class="sxs-lookup"><span data-stu-id="a229e-311">Additionally, services may release support for these scenarios at different schedules.</span></span> <span data-ttu-id="a229e-312">Esta seção descreve o suporte de criptografia em repouso no momento desta escrita para cada um dos principais serviços de armazenamento de dados do Azure.</span><span class="sxs-lookup"><span data-stu-id="a229e-312">This section describes the encryption at rest support at the time of this writing for each of the major Azure data storage services.</span></span>

### <a name="azure-disk-encryption"></a><span data-ttu-id="a229e-313">Criptografia de disco do Azure</span><span class="sxs-lookup"><span data-stu-id="a229e-313">Azure disk encryption</span></span>

<span data-ttu-id="a229e-314">Qualquer cliente que utiliza recursos de IaaS (Infraestrutura como Serviço) pode alcançar criptografia em repouso para seus discos e VMs de IaaS através do Azure Disk Encryption.</span><span class="sxs-lookup"><span data-stu-id="a229e-314">Any customer using Azure Infrastructure as a Service (IaaS) features can achieve encryption at rest for their IaaS VMs and disks through Azure Disk Encryption.</span></span> <span data-ttu-id="a229e-315">Para obter mais informações sobre o Azure Disk Encryption, consulte a [documentação do Azure Disk Encryption](https://docs.microsoft.com/azure/security/azure-security-disk-encryption).</span><span class="sxs-lookup"><span data-stu-id="a229e-315">For more information on Azure Disk encryption see the [Azure Disk Encryption documentation](https://docs.microsoft.com/azure/security/azure-security-disk-encryption).</span></span>

#### <a name="azure-storage"></a><span data-ttu-id="a229e-316">Armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="a229e-316">Azure storage</span></span>

<span data-ttu-id="a229e-317">O Arquivo e Blob do Azure oferecem suporte de criptografia em repouso para cenários criptografados do lado do servidor, assim como dados criptografados do cliente (criptografia do lado do cliente).</span><span class="sxs-lookup"><span data-stu-id="a229e-317">Azure Blob, and File supports encryption at rest for server-side encrypted scenarios as well as customer encrypted data (client-side encryption).</span></span>

- <span data-ttu-id="a229e-318">Lado do servidor: os clientes que utilizam o armazenamento de Blobs do Azure podem habilitar a criptografia em repouso em cada conta do recurso de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="a229e-318">Server-side: customers using Azure blob storage can enable encryption at rest on each Azure storage resource account.</span></span> <span data-ttu-id="a229e-319">Quando a criptografia do lado do servidor é feita de forma transparente para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a229e-319">Once enabled server-side encryption is done transparently to the application.</span></span> <span data-ttu-id="a229e-320">Para obter mais informações, consulte [Criptografia de serviço do Armazenamento do Azure para dados em repouso ](https://docs.microsoft.com/azure/storage/storage-service-encryption).</span><span class="sxs-lookup"><span data-stu-id="a229e-320">See [Azure Storage Service Encryption for Data at Rest](https://docs.microsoft.com/azure/storage/storage-service-encryption) for more information.</span></span>
- <span data-ttu-id="a229e-321">Lado do cliente: a criptografia do lado do cliente de Blobs do Azure tem suporte.</span><span class="sxs-lookup"><span data-stu-id="a229e-321">Client-side: client-side encryption of Azure Blobs is supported.</span></span> <span data-ttu-id="a229e-322">Quando clientes de criptografia do lado do cliente para criptografar os dados e carregar os dados como um blob criptografado.</span><span class="sxs-lookup"><span data-stu-id="a229e-322">When using client-side encryption customers encrypt the data and upload the data as an encrypted blob.</span></span> <span data-ttu-id="a229e-323">O gerenciamento de chaves é feito pelo cliente.</span><span class="sxs-lookup"><span data-stu-id="a229e-323">Key management is done by the customer.</span></span> <span data-ttu-id="a229e-324">Para obter mais informações, consulte [Criptografia do lado do cliente e Azure Key Vault para Armazenamento do Microsoft Azure](https://docs.microsoft.com/azure/storage/storage-client-side-encryption).</span><span class="sxs-lookup"><span data-stu-id="a229e-324">See [Client-Side Encryption and Azure Key Vault for Microsoft Azure Storage](https://docs.microsoft.com/azure/storage/storage-client-side-encryption) for more information.</span></span>


#### <a name="sql-azure"></a><span data-ttu-id="a229e-325">SQL Azure</span><span class="sxs-lookup"><span data-stu-id="a229e-325">SQL Azure</span></span>

<span data-ttu-id="a229e-326">Atualmente, o SQL Azure oferece suporte para criptografia em repouso para cenários de criptografia do lado do cliente e lado do serviço gerenciado da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="a229e-326">SQL Azure currently supports encryption at rest for Microsoft managed service side and client-side encryption scenarios.</span></span>

<span data-ttu-id="a229e-327">O suporte para criptografia do servidor atualmente é fornecido através do recurso SQL chamado Transparent Data Encryption.</span><span class="sxs-lookup"><span data-stu-id="a229e-327">Support for sever encryption is currently provided through the SQL feature called Transparent Data Encryption.</span></span> <span data-ttu-id="a229e-328">Quando um cliente SQL Azure habilita a chave de TDE, são criadas e gerenciadas automaticamente.</span><span class="sxs-lookup"><span data-stu-id="a229e-328">Once a SQL Azure customer enables TDE key are automatically created and managed for them.</span></span> <span data-ttu-id="a229e-329">A criptografia em repouso pode ser habilitada nos níveis de servidor e banco de dados.</span><span class="sxs-lookup"><span data-stu-id="a229e-329">Encryption at rest can be enabled at the database and server levels.</span></span> <span data-ttu-id="a229e-330">A partir de junho de 2017, a [TDE (Transparent Data Encryption)](https://msdn.microsoft.com/library/bb934049.aspx) estará habilitada por padrão em bancos de dados recém-criados.</span><span class="sxs-lookup"><span data-stu-id="a229e-330">As of June 2017, [Transparent Data Encryption (TDE)](https://msdn.microsoft.com/library/bb934049.aspx) will be enabled by default on newly created databases.</span></span>

<span data-ttu-id="a229e-331">A criptografia do lado do cliente dos dados do SQL Azure possui suporte através do recurso [Always Encrypted](https://msdn.microsoft.com/library/mt163865.aspx).</span><span class="sxs-lookup"><span data-stu-id="a229e-331">Client-side encryption of SQL Azure data is supported through the [Always Encrypted](https://msdn.microsoft.com/library/mt163865.aspx) feature.</span></span> <span data-ttu-id="a229e-332">Always Encrypted utiliza uma chave criada e armazenada pelo cliente.</span><span class="sxs-lookup"><span data-stu-id="a229e-332">Always Encrypted uses a key that created and stored by the client.</span></span> <span data-ttu-id="a229e-333">Os clientes podem armazenar a chave mestre em um repositório de certificados do Windows, no Azure Key Vault ou em um Módulo de Segurança de Hardware local.</span><span class="sxs-lookup"><span data-stu-id="a229e-333">Customers can store the master key in a Windows certificate store, Azure Key Vault, or a local Hardware Security Module.</span></span> <span data-ttu-id="a229e-334">Utilizando o SQL Server Management Studio, os usuários de SQL escolhem que chave gostariam de usar para criptografar determinada coluna.</span><span class="sxs-lookup"><span data-stu-id="a229e-334">Using SQL Server Management Studio, SQL users choose what key they’d like to use to encrypt which column.</span></span>

|                                  |                |                     | <span data-ttu-id="a229e-335">**Modelo de criptografia**</span><span class="sxs-lookup"><span data-stu-id="a229e-335">**Encryption Model**</span></span>             |                              |        |
|----------------------------------|----------------|---------------------|------------------------------|------------------------------|--------|
|                                  |                |                     |                              |                              | <span data-ttu-id="a229e-336">**Cliente**</span><span class="sxs-lookup"><span data-stu-id="a229e-336">**Client**</span></span> |
|                                  | <span data-ttu-id="a229e-337">**Gerenciamento de Chaves**</span><span class="sxs-lookup"><span data-stu-id="a229e-337">**Key Management**</span></span> | <span data-ttu-id="a229e-338">**Chaves de serviço gerenciado**</span><span class="sxs-lookup"><span data-stu-id="a229e-338">**Service Managed Key**</span></span> | <span data-ttu-id="a229e-339">**Cliente gerenciado no Key Vault**</span><span class="sxs-lookup"><span data-stu-id="a229e-339">**Customer Managed in Key Vault**</span></span> | <span data-ttu-id="a229e-340">**Cliente gerenciado no local**</span><span class="sxs-lookup"><span data-stu-id="a229e-340">**Customer Managed On-premises**</span></span> |        |
| <span data-ttu-id="a229e-341">**Armazenamento e banco de dados**</span><span class="sxs-lookup"><span data-stu-id="a229e-341">**Storage and Databases**</span></span>            |                |                     |                              |                              |        |
| <span data-ttu-id="a229e-342">Disco (IaaS)</span><span class="sxs-lookup"><span data-stu-id="a229e-342">Disk (IaaS)</span></span>                      |                | -                   | <span data-ttu-id="a229e-343">Sim</span><span class="sxs-lookup"><span data-stu-id="a229e-343">Yes</span></span>                          | <span data-ttu-id="a229e-344">Sim*</span><span class="sxs-lookup"><span data-stu-id="a229e-344">Yes*</span></span>                         | -      |
| <span data-ttu-id="a229e-345">SQL Server (IaaS)</span><span class="sxs-lookup"><span data-stu-id="a229e-345">SQL Server (IaaS)</span></span>                |                | <span data-ttu-id="a229e-346">Sim</span><span class="sxs-lookup"><span data-stu-id="a229e-346">Yes</span></span>                 | <span data-ttu-id="a229e-347">Sim</span><span class="sxs-lookup"><span data-stu-id="a229e-347">Yes</span></span>                          | <span data-ttu-id="a229e-348">Sim</span><span class="sxs-lookup"><span data-stu-id="a229e-348">Yes</span></span>                          | <span data-ttu-id="a229e-349">Sim</span><span class="sxs-lookup"><span data-stu-id="a229e-349">Yes</span></span>    |
| <span data-ttu-id="a229e-350">SQL Azure (PaaS)</span><span class="sxs-lookup"><span data-stu-id="a229e-350">SQL Azure (PaaS)</span></span>                 |                | <span data-ttu-id="a229e-351">Sim</span><span class="sxs-lookup"><span data-stu-id="a229e-351">Yes</span></span>                 | <span data-ttu-id="a229e-352">Visualização</span><span class="sxs-lookup"><span data-stu-id="a229e-352">Preview</span></span>                      | -                            | <span data-ttu-id="a229e-353">Sim</span><span class="sxs-lookup"><span data-stu-id="a229e-353">Yes</span></span>    |
| <span data-ttu-id="a229e-354">Armazenamento do Microsoft Azure (Blobs de páginas e Bloco)</span><span class="sxs-lookup"><span data-stu-id="a229e-354">Azure Storage (Block/Page Blobs)</span></span> |                | <span data-ttu-id="a229e-355">Sim</span><span class="sxs-lookup"><span data-stu-id="a229e-355">Yes</span></span>                 | <span data-ttu-id="a229e-356">Visualização</span><span class="sxs-lookup"><span data-stu-id="a229e-356">Preview</span></span>                      | -                            | <span data-ttu-id="a229e-357">Sim</span><span class="sxs-lookup"><span data-stu-id="a229e-357">Yes</span></span>    |
| <span data-ttu-id="a229e-358">Armazenamento do Microsoft Azure (Arquivos)</span><span class="sxs-lookup"><span data-stu-id="a229e-358">Azure Storage (Files)</span></span>            |                | <span data-ttu-id="a229e-359">Sim</span><span class="sxs-lookup"><span data-stu-id="a229e-359">Yes</span></span>                 | -                            | -                            | -      |
| <span data-ttu-id="a229e-360">Armazenamento do Microsoft Azure (Tabelas, Consultas)</span><span class="sxs-lookup"><span data-stu-id="a229e-360">Azure Storage (Tables, Queues)</span></span>   |                | -                   | -                            | -                            | <span data-ttu-id="a229e-361">Sim</span><span class="sxs-lookup"><span data-stu-id="a229e-361">Yes</span></span>    |
| <span data-ttu-id="a229e-362">Cosmos DB (DocumentDB)</span><span class="sxs-lookup"><span data-stu-id="a229e-362">Cosmos DB (Document DB)</span></span>          |                | <span data-ttu-id="a229e-363">Sim</span><span class="sxs-lookup"><span data-stu-id="a229e-363">Yes</span></span>                 | -                            | -                            | -      |
| <span data-ttu-id="a229e-364">StorSimple</span><span class="sxs-lookup"><span data-stu-id="a229e-364">StorSimple</span></span>                       |                | <span data-ttu-id="a229e-365">Sim</span><span class="sxs-lookup"><span data-stu-id="a229e-365">Yes</span></span>                 | -                            | -                            | <span data-ttu-id="a229e-366">Sim</span><span class="sxs-lookup"><span data-stu-id="a229e-366">Yes</span></span>    |
| <span data-ttu-id="a229e-367">Backup</span><span class="sxs-lookup"><span data-stu-id="a229e-367">Backup</span></span>                           |                | -                   | -                            | -                            | <span data-ttu-id="a229e-368">Sim</span><span class="sxs-lookup"><span data-stu-id="a229e-368">Yes</span></span>    |
| <span data-ttu-id="a229e-369">**Inteligência e Análise**</span><span class="sxs-lookup"><span data-stu-id="a229e-369">**Intelligence and Analytics**</span></span>       |                |                     |                              |                              |        |
| <span data-ttu-id="a229e-370">Fábrica de dados do Azure</span><span class="sxs-lookup"><span data-stu-id="a229e-370">Azure Data Factory</span></span>               |                | <span data-ttu-id="a229e-371">Sim</span><span class="sxs-lookup"><span data-stu-id="a229e-371">Yes</span></span>                 | -                            | -                            | -      |
| <span data-ttu-id="a229e-372">Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="a229e-372">Azure Machine Learning</span></span>           |                | -                   | <span data-ttu-id="a229e-373">Visualização</span><span class="sxs-lookup"><span data-stu-id="a229e-373">Preview</span></span>                      | -                            | -      |
| <span data-ttu-id="a229e-374">Stream Analytics do Azure</span><span class="sxs-lookup"><span data-stu-id="a229e-374">Azure Stream Analytics</span></span>           |                | <span data-ttu-id="a229e-375">Sim</span><span class="sxs-lookup"><span data-stu-id="a229e-375">Yes</span></span>                 | -                            | -                            | -      |
| <span data-ttu-id="a229e-376">HDInsights (Armazenamento de Blobs)</span><span class="sxs-lookup"><span data-stu-id="a229e-376">HDInsights (Azure Blob Storage)</span></span>  |                | <span data-ttu-id="a229e-377">Sim</span><span class="sxs-lookup"><span data-stu-id="a229e-377">Yes</span></span>                 | -                            | -                            | -      |
| <span data-ttu-id="a229e-378">HDInsights (Armazenamento de Data Lake)</span><span class="sxs-lookup"><span data-stu-id="a229e-378">HDInsights (Data Lake Storage)</span></span>   |                | <span data-ttu-id="a229e-379">Sim</span><span class="sxs-lookup"><span data-stu-id="a229e-379">Yes</span></span>                 | -                            | -                            | -      |
| <span data-ttu-id="a229e-380">Repositório Azure Data Lake</span><span class="sxs-lookup"><span data-stu-id="a229e-380">Azure Data Lake Store</span></span>            |                | <span data-ttu-id="a229e-381">Sim</span><span class="sxs-lookup"><span data-stu-id="a229e-381">Yes</span></span>                 | <span data-ttu-id="a229e-382">Sim</span><span class="sxs-lookup"><span data-stu-id="a229e-382">Yes</span></span>                          | -                            | -      |
| <span data-ttu-id="a229e-383">Catálogo de Dados do Azure</span><span class="sxs-lookup"><span data-stu-id="a229e-383">Azure Data Catalog</span></span>               |                | <span data-ttu-id="a229e-384">Sim</span><span class="sxs-lookup"><span data-stu-id="a229e-384">Yes</span></span>                 | -                            | -                            | -      |
| <span data-ttu-id="a229e-385">Power BI</span><span class="sxs-lookup"><span data-stu-id="a229e-385">Power BI</span></span>                         |                | <span data-ttu-id="a229e-386">Sim</span><span class="sxs-lookup"><span data-stu-id="a229e-386">Yes</span></span>                 | -                            | -                            | -      |
| <span data-ttu-id="a229e-387">**Serviços de IoT**</span><span class="sxs-lookup"><span data-stu-id="a229e-387">**IoT Services**</span></span>                     |                |                     |                              |                              |        |
| <span data-ttu-id="a229e-388">Hub IoT</span><span class="sxs-lookup"><span data-stu-id="a229e-388">IoT Hub</span></span>                          |                | -                   | -                            | -                            | <span data-ttu-id="a229e-389">Sim</span><span class="sxs-lookup"><span data-stu-id="a229e-389">Yes</span></span>    |
| <span data-ttu-id="a229e-390">Barramento de Serviço</span><span class="sxs-lookup"><span data-stu-id="a229e-390">Service Bus</span></span>                      |                | -              | -                            | -                            | <span data-ttu-id="a229e-391">Sim</span><span class="sxs-lookup"><span data-stu-id="a229e-391">Yes</span></span>    |
| <span data-ttu-id="a229e-392">Hubs de Eventos</span><span class="sxs-lookup"><span data-stu-id="a229e-392">Event Hubs</span></span>                       |                | -             | -                            | -                            | -      |


## <a name="conclusion"></a><span data-ttu-id="a229e-393">Conclusão</span><span class="sxs-lookup"><span data-stu-id="a229e-393">Conclusion</span></span>

<span data-ttu-id="a229e-394">A proteção dos dados do cliente armazenados nos Serviços do Azure é de fundamental importância para a Microsoft.</span><span class="sxs-lookup"><span data-stu-id="a229e-394">Protection of customer data stored within Azure Services is of paramount importance to Microsoft.</span></span> <span data-ttu-id="a229e-395">Todos os serviços hospedados do Azure estão comprometido em fornecer opções de criptografia em repouso.</span><span class="sxs-lookup"><span data-stu-id="a229e-395">All Azure hosted services are committed to providing Encryption at Rest options.</span></span> <span data-ttu-id="a229e-396">Os serviços fundamentais, como o Armazenamento do Microsoft Azure, SQL Azure e os principais serviços de análise e inteligência, já oferecem opções de criptografia em repouso.</span><span class="sxs-lookup"><span data-stu-id="a229e-396">Foundational services such as Azure Storage, SQL Azure and key analytics and intelligence services already provide Encryption at Rest options.</span></span> <span data-ttu-id="a229e-397">Alguns desses serviços oferecem suporte para chaves controladas pelo cliente e criptografia do lado do cliente, assim como criptografia e chaves de serviço gerenciado.</span><span class="sxs-lookup"><span data-stu-id="a229e-397">Some of these services support either customer controlled keys and client-side encryption as well as service managed keys and encryption.</span></span> <span data-ttu-id="a229e-398">Os serviços do Microsoft Azure estão aprimorando amplamente a disponibilidade de Criptografia em Repouso e novas opções estarão planejadas para versão prévia e disponibilidade geral nos próximos meses.</span><span class="sxs-lookup"><span data-stu-id="a229e-398">Microsoft Azure services are broadly enhancing Encryption at Rest availability and new options are planned for preview and general availability in the upcoming months.</span></span>

