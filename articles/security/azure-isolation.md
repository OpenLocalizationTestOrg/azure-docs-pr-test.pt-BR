---
title: "Isolamento na nuvem pública do Azure | Microsoft Docs"
description: "Aprenda sobre os serviços de computação baseados em nuvem que incluem uma ampla seleção de instâncias e serviços de computação, os quais podem ser escalados verticalmente de forma automática para atender às necessidades de seu aplicativo ou empresa."
services: security
documentationcenter: na
author: UnifyCloud
manager: swadhwa
editor: TomSh
ms.assetid: 
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 04/27/2017
ms.author: TomSh
ms.openlocfilehash: 9e6331df4a8a07c3f2524891caf77bbaab3bff0b
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/29/2017
---
# <a name="isolation-in-the-azure-public-cloud"></a><span data-ttu-id="22711-103">Isolamento na nuvem pública do Azure</span><span class="sxs-lookup"><span data-stu-id="22711-103">Isolation in the Azure Public Cloud</span></span>
##  <a name="introduction"></a><span data-ttu-id="22711-104">Introdução</span><span class="sxs-lookup"><span data-stu-id="22711-104">Introduction</span></span>
### <a name="overview"></a><span data-ttu-id="22711-105">Visão geral</span><span class="sxs-lookup"><span data-stu-id="22711-105">Overview</span></span>
<span data-ttu-id="22711-106">Para ajudar os clientes atuais e potenciais do Azure a entender e usar as várias funcionalidades relacionadas à segurança disponíveis na Plataforma Azure e em suas proximidades, a Microsoft desenvolveu uma série de white papers, visões gerais de segurança, práticas recomendadas e listas de verificação.</span><span class="sxs-lookup"><span data-stu-id="22711-106">To assist current and prospective Azure customers understand and utilize the various security-related capabilities available in and surrounding the Azure platform, Microsoft has developed a series of White Papers, Security Overviews, Best Practices, and Checklists.</span></span>
<span data-ttu-id="22711-107">Os tópicos variam em termos de abrangência e profundidade e são atualizados periodicamente.</span><span class="sxs-lookup"><span data-stu-id="22711-107">The topics range in terms of breadth and depth and are updated periodically.</span></span> <span data-ttu-id="22711-108">Este documento faz parte de uma série, conforme resumido na próxima seção Resumo.</span><span class="sxs-lookup"><span data-stu-id="22711-108">This document is part of that series as summarized in the Abstract section following.</span></span>

### <a name="azure-platform"></a><span data-ttu-id="22711-109">Plataforma Azure</span><span class="sxs-lookup"><span data-stu-id="22711-109">Azure Platform</span></span>
<span data-ttu-id="22711-110">O Azure é uma plataforma de serviço de nuvem aberta e flexível que dá suporte a mais ampla seleção de sistemas operacionais, linguagens de programação, estruturas, ferramentas, bancos de dados e dispositivos.</span><span class="sxs-lookup"><span data-stu-id="22711-110">Azure is an open and flexible cloud service platform that supports the broadest selection of operating systems, programming languages, frameworks, tools, databases, and devices.</span></span> <span data-ttu-id="22711-111">Por exemplo, você pode:</span><span class="sxs-lookup"><span data-stu-id="22711-111">For example, you can:</span></span>
- <span data-ttu-id="22711-112">Executar contêineres do Linux com a integração com o Docker;</span><span class="sxs-lookup"><span data-stu-id="22711-112">Run Linux containers with Docker integration;</span></span>
- <span data-ttu-id="22711-113">Compilar aplicativos com JavaScript, Python, .NET, PHP, Java e Node.js; e</span><span class="sxs-lookup"><span data-stu-id="22711-113">Build apps with JavaScript, Python, .NET, PHP, Java, and Node.js; and</span></span>
- <span data-ttu-id="22711-114">Crie back-ends para dispositivos iOS, Android e Windows.</span><span class="sxs-lookup"><span data-stu-id="22711-114">Build back-ends for iOS, Android, and Windows devices.</span></span>

<span data-ttu-id="22711-115">O Microsoft Azure dá suporte às mesmas tecnologias com as quais milhões de desenvolvedores e profissionais de TI já contam e confiam.</span><span class="sxs-lookup"><span data-stu-id="22711-115">Microsoft Azure supports the same technologies millions of developers and IT professionals already rely on and trust.</span></span>

<span data-ttu-id="22711-116">Ao se basear ou migrar ativos de TI para um provedor de serviços de nuvem pública, você está confiando na capacidade dessa organização de proteger seus aplicativos e dados com os serviços e os controles que ela oferece para gerenciar a segurança de seus ativos baseados em nuvem.</span><span class="sxs-lookup"><span data-stu-id="22711-116">When you build on, or migrate IT assets to, a public cloud service provider, you are relying on that organization’s abilities to protect your applications and data with the services and the controls they provide to manage the security of your cloud-based assets.</span></span>

<span data-ttu-id="22711-117">A infraestrutura do Azure foi projetada desde a instalação até os aplicativos para hospedar simultaneamente milhões de clientes e fornecer uma base confiável com a qual as empresas podem atender às suas necessidades de segurança.</span><span class="sxs-lookup"><span data-stu-id="22711-117">Azure’s infrastructure is designed from the facility to applications for hosting millions of customers simultaneously, and it provides a trustworthy foundation upon which businesses can meet their security needs.</span></span> <span data-ttu-id="22711-118">Além disso, o Azure oferece uma ampla variedade de opções de segurança configuráveis e a capacidade de controlá-las, para que você possa personalizar a segurança de forma a atender aos requisitos específicos de suas implantações.</span><span class="sxs-lookup"><span data-stu-id="22711-118">In addition, Azure provides you with a wide array of configurable security options and the ability to control them so that you can customize security to meet the unique requirements of your deployments.</span></span> <span data-ttu-id="22711-119">Este documento ajuda você a atender a esses requisitos.</span><span class="sxs-lookup"><span data-stu-id="22711-119">This document helps you meet these requirements.</span></span>

### <a name="abstract"></a><span data-ttu-id="22711-120">Resumo</span><span class="sxs-lookup"><span data-stu-id="22711-120">Abstract</span></span>

<span data-ttu-id="22711-121">O Microsoft Azure permite que você execute aplicativos e VMs (máquinas virtuais) em uma infraestrutura física compartilhada.</span><span class="sxs-lookup"><span data-stu-id="22711-121">Microsoft Azure allows you to run applications and virtual machines (VMs) on shared physical infrastructure.</span></span> <span data-ttu-id="22711-122">Uma das principais motivações econômicas para a execução de aplicativos em um ambiente de nuvem é a capacidade de distribuir o custo de recursos compartilhados entre vários clientes.</span><span class="sxs-lookup"><span data-stu-id="22711-122">One of the prime economic motivations to running applications in a cloud environment is the ability to distribute the cost of shared resources among multiple customers.</span></span> <span data-ttu-id="22711-123">Essa prática de multilocação aprimora a eficiência por meio da multiplexação de recursos entre diferentes clientes por custos baixos.</span><span class="sxs-lookup"><span data-stu-id="22711-123">This practice of multi-tenancy improves efficiency by multiplexing resources among disparate customers at low costs.</span></span> <span data-ttu-id="22711-124">Infelizmente, ela também apresenta o risco de compartilhar servidores físicos e outros recursos de infraestrutura a fim de executar seus aplicativos confidenciais e VMs que possam pertencer a um usuário aleatório e possivelmente malicioso.</span><span class="sxs-lookup"><span data-stu-id="22711-124">Unfortunately, it also introduces the risk of sharing physical servers and other infrastructure resources to run your sensitive applications and VMs that may belong to an arbitrary and potentially malicious user.</span></span>

<span data-ttu-id="22711-125">Este artigo descreve como o Microsoft Azure fornece isolamento contra usuários mal-intencionados e bem-intencionados, e serve como um guia para arquitetar soluções de nuvem, oferecendo várias opções de isolamento para arquitetos.</span><span class="sxs-lookup"><span data-stu-id="22711-125">This article outlines how Microsoft Azure provides isolation against both malicious and non-malicious users and serves as a guide for architecting cloud solutions by offering various isolation choices to architects.</span></span> <span data-ttu-id="22711-126">Este white paper se concentra na tecnologia da Plataforma Azure e nos controles de segurança voltados para o cliente e não tenta solucionar questões de SLAs, modelos de preço e considerações de prática de DevOps.</span><span class="sxs-lookup"><span data-stu-id="22711-126">This white paper focuses on the technology of Azure platform and customer-facing security controls, and does not attempt to address SLAs, pricing models, and DevOps practice considerations.</span></span>

## <a name="tenant-level-isolation"></a><span data-ttu-id="22711-127">Isolamento no nível do locatário</span><span class="sxs-lookup"><span data-stu-id="22711-127">Tenant Level Isolation</span></span>
<span data-ttu-id="22711-128">Um dos principais benefícios da computação em nuvem é o conceito de uma infraestrutura comum e compartilhada simultaneamente entre vários clientes, resultando em economia de escala.</span><span class="sxs-lookup"><span data-stu-id="22711-128">One of the primary benefits of cloud computing is concept of a shared, common infrastructure across numerous customers simultaneously, leading to economies of scale.</span></span> <span data-ttu-id="22711-129">Esse conceito é chamado de multilocação.</span><span class="sxs-lookup"><span data-stu-id="22711-129">This concept is called multi-tenancy.</span></span> <span data-ttu-id="22711-130">A Microsoft trabalha continuamente para garantir que a arquitetura de multilocação do Microsoft Cloud Azure ofereça suporte a segurança, confidencialidade, privacidade, integridade e padrões de disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="22711-130">Microsoft works continuously to ensure that the multi-tenant architecture of Microsoft Cloud Azure supports security, confidentiality, privacy, integrity, and availability standards.</span></span>

<span data-ttu-id="22711-131">No local de trabalho habilitado pela nuvem, um locatário pode ser definido como um cliente ou uma organização que possui e gerencia uma instância específica desse serviço em nuvem.</span><span class="sxs-lookup"><span data-stu-id="22711-131">In the cloud-enabled workplace, a tenant can be defined as a client or organization that owns and manages a specific instance of that cloud service.</span></span> <span data-ttu-id="22711-132">Com a plataforma de identidade fornecida pelo Microsoft Azure, um locatário é simplesmente uma instância dedicada do Azure Active Directory (Azure AD) que sua organização recebe e detém quando se inscreve em um serviço de nuvem da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="22711-132">With the identity platform provided by Microsoft Azure, a tenant is simply a dedicated instance of Azure Active Directory (Azure AD) that your organization receives and owns when it signs up for a Microsoft cloud service.</span></span>

<span data-ttu-id="22711-133">Cada diretório do Azure AD é distinto e separado de outros diretórios do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="22711-133">Each Azure AD directory is distinct and separate from other Azure AD directories.</span></span> <span data-ttu-id="22711-134">Assim como um prédio de escritórios corporativos é um ativo seguro específico somente a sua organização, um diretório do Azure AD também foi projetado para ser um ativo seguro para ser usado somente por sua organização.</span><span class="sxs-lookup"><span data-stu-id="22711-134">Just like a corporate office building is a secure asset specific to only your organization, an Azure AD directory was also designed to be a secure asset for use by only your organization.</span></span> <span data-ttu-id="22711-135">A arquitetura do Azure AD isola os dados as informações de identidade do cliente, evitando que sejam misturados a outros.</span><span class="sxs-lookup"><span data-stu-id="22711-135">The Azure AD architecture isolates customer data and identity information from co-mingling.</span></span> <span data-ttu-id="22711-136">Isso significa que os usuários e administradores de um diretório do Azure AD não podem acessar acidentalmente ou maliciosamente dados em outro diretório.</span><span class="sxs-lookup"><span data-stu-id="22711-136">This means that users and administrators of one Azure AD directory cannot accidentally or maliciously access data in another directory.</span></span>

### <a name="azure-tenancy"></a><span data-ttu-id="22711-137">Locação do Azure</span><span class="sxs-lookup"><span data-stu-id="22711-137">Azure Tenancy</span></span>
<span data-ttu-id="22711-138">A locação do Azure (Assinatura do Azure) refere-se a uma relação de "cliente/cobrança" e um único [locatário](https://docs.microsoft.com/azure/active-directory/develop/active-directory-howto-tenant) no [Azure Active Directory](https://docs.microsoft.com/azure/active-directory/active-directory-whatis).</span><span class="sxs-lookup"><span data-stu-id="22711-138">Azure tenancy (Azure Subscription) refers to a “customer/billing” relationship and a unique [tenant](https://docs.microsoft.com/azure/active-directory/develop/active-directory-howto-tenant) in [Azure Active Directory](https://docs.microsoft.com/azure/active-directory/active-directory-whatis).</span></span> <span data-ttu-id="22711-139">O isolamento no nível do locatário no Microsoft Azure é obtido usando o Azure Active Directory e [controles com base em função](https://docs.microsoft.com/azure/active-directory/role-based-access-control-what-is) oferecidos por ele.</span><span class="sxs-lookup"><span data-stu-id="22711-139">Tenant level isolation in Microsoft Azure is achieved using Azure Active Directory and [role-based controls](https://docs.microsoft.com/azure/active-directory/role-based-access-control-what-is) offered by it.</span></span> <span data-ttu-id="22711-140">Cada assinatura do Azure está associada com um diretório do Azure Active Directory (AD).</span><span class="sxs-lookup"><span data-stu-id="22711-140">Each Azure subscription is associated with one Azure Active Directory (AD) directory.</span></span>

<span data-ttu-id="22711-141">Usuários, grupos e aplicativos do diretório podem gerenciar recursos na assinatura do Azure.</span><span class="sxs-lookup"><span data-stu-id="22711-141">Users, groups, and applications from that directory can manage resources in the Azure subscription.</span></span> <span data-ttu-id="22711-142">Você pode atribuir esses direitos de acesso usando o Portal do Azure, ferramentas de linha de comando do Azure e APIs de Gerenciamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="22711-142">You can assign these access rights using the Azure portal, Azure command-line tools, and Azure Management APIs.</span></span> <span data-ttu-id="22711-143">Um locatário do Azure AD é logicamente isolado usando limites de segurança, para que nenhum cliente possa acessar ou comprometer colocatários, de forma maliciosa ou acidental.</span><span class="sxs-lookup"><span data-stu-id="22711-143">An Azure AD tenant is logically isolated using security boundaries so that no customer can access or compromise co-tenants, either maliciously or accidentally.</span></span> <span data-ttu-id="22711-144">O Azure AD é executado em servidores "bare metal" isolados em um segmento de rede segregado, onde a filtragem de pacotes no nível do host e o Firewall do Windows bloqueiam o tráfego e conexões indesejadas.</span><span class="sxs-lookup"><span data-stu-id="22711-144">Azure AD runs on “bare metal” servers isolated on a segregated network segment, where host-level packet filtering and Windows Firewall block unwanted connections and traffic.</span></span>

- <span data-ttu-id="22711-145">O acesso a dados no AD do Azure requer autenticação de usuário por meio de um [STS (serviço de token de segurança)](https://docs.microsoft.com/azure/app-service-web/web-sites-authentication-authorization).</span><span class="sxs-lookup"><span data-stu-id="22711-145">Access to data in Azure AD requires user authentication via a [security token service (STS)](https://docs.microsoft.com/azure/app-service-web/web-sites-authentication-authorization).</span></span> <span data-ttu-id="22711-146">As informações sobre a existência do usuário, o estado habilitado e a função são usadas pelo sistema de autorização para determinar se o acesso solicitado ao locatário de destino está autorizado para esse usuário nessa sessão.</span><span class="sxs-lookup"><span data-stu-id="22711-146">Information on the user’s existence, enabled state, and role is used by the authorization system to determine whether the requested access to the target tenant is authorized for this user in this session.</span></span>

![Locação do Azure](./media/azure-isolation/azure-isolation-fig1.png)


- <span data-ttu-id="22711-148">Os locatários são contêineres discretos, e não há nenhuma relação entre eles.</span><span class="sxs-lookup"><span data-stu-id="22711-148">Tenants are discrete containers and there is no relationship between these.</span></span>

- <span data-ttu-id="22711-149">Não há acesso entre os locatários, a menos que o administrador de locatários o conceda por meio de federação ou do provisionamento de contas de usuários de outros locatários.</span><span class="sxs-lookup"><span data-stu-id="22711-149">No access across tenants unless tenant admin grants it through federation or provisioning user accounts from other tenants.</span></span>

- <span data-ttu-id="22711-150">O acesso físico aos servidores que compõem o serviço Azure AD, e acesso direto aos sistemas de back-end do Azure AD, é restrito.</span><span class="sxs-lookup"><span data-stu-id="22711-150">Physical access to servers that comprise the Azure AD service, and direct access to Azure AD’s back-end systems, is restricted.</span></span>

- <span data-ttu-id="22711-151">Os usuários do Azure AD não têm acesso a ativos físicos ou locais e, portanto, não é possível ignorar as verificações lógicas da política de RBAC mencionadas a seguir.</span><span class="sxs-lookup"><span data-stu-id="22711-151">Azure AD users have no access to physical assets or locations, and therefore it is not possible for them to bypass the logical RBAC policy checks stated following.</span></span>

<span data-ttu-id="22711-152">Para as necessidades de diagnóstico e manutenção, um modelo operacional que emprega um sistema de elevação de privilégio just-in-time é exigido e usado.</span><span class="sxs-lookup"><span data-stu-id="22711-152">For diagnostics and maintenance needs, an operational model that employs a just-in-time privilege elevation system is required and used.</span></span> <span data-ttu-id="22711-153">O Azure AD Privileged Identity Management (PIM) introduz o conceito de um administrador elegível. [Administradores elegíveis](https://docs.microsoft.com/azure/active-directory/active-directory-privileged-identity-management-configure) devem ser usuários que precisam de acesso privilegiado às vezes, mas não todos os dias.</span><span class="sxs-lookup"><span data-stu-id="22711-153">Azure AD Privileged Identity Management (PIM) introduces the concept of an eligible admin. [Eligible admins](https://docs.microsoft.com/azure/active-directory/active-directory-privileged-identity-management-configure) should be users that need privileged access now and then, but not every day.</span></span> <span data-ttu-id="22711-154">A função fica inativa até que o usuário precise de acesso, então ele conclui um processo de ativação e torna-se um administrador ativo por um tempo predeterminado.</span><span class="sxs-lookup"><span data-stu-id="22711-154">The role is inactive until the user needs access, then they complete an activation process and become an active admin for a predetermined amount of time.</span></span>

![Gerenciamento de identidades com privilégios do AD do Azure](./media/azure-isolation/azure-isolation-fig2.png)

<span data-ttu-id="22711-156">O Azure Active Directory hospeda cada locatário em seu próprio contêiner protegido, com políticas e permissões para e dentro do contêiner que é de propriedade e gerenciamento exclusivo do locatário.</span><span class="sxs-lookup"><span data-stu-id="22711-156">Azure Active Directory hosts each tenant in its own protected container, with policies and permissions to and within the container solely owned and managed by the tenant.</span></span>

<span data-ttu-id="22711-157">O conceito de contêineres de locatário está profundamente arraigado no serviço de diretório em todas as camadas, desde portais até o armazenamento persistente.</span><span class="sxs-lookup"><span data-stu-id="22711-157">The concept of tenant containers is deeply ingrained in the directory service at all layers, from portals all the way to persistent storage.</span></span>

<span data-ttu-id="22711-158">Mesmo quando os metadados de vários locatários do Azure Active Directory são armazenados no mesmo disco físico, não há nenhuma relação entre os contêineres além do que é definido pelo serviço de diretório, que por sua vez é determinado pelo administrador do locatário.</span><span class="sxs-lookup"><span data-stu-id="22711-158">Even when metadata from multiple Azure Active Directory tenants is stored on the same physical disk, there is no relationship between the containers other than what is defined by the directory service, which in turn is dictated by the tenant administrator.</span></span>

### <a name="azure-role-based-access-control-rbac"></a><span data-ttu-id="22711-159">RBAC (Controle de Acesso Baseado em Função) do Azure</span><span class="sxs-lookup"><span data-stu-id="22711-159">Azure Role-Based Access Control (RBAC)</span></span>
<span data-ttu-id="22711-160">[O RBAC (Controle de acesso baseado em função) do Azure](https://docs.microsoft.com/azure/active-directory/role-based-access-control-what-is) ajuda você a compartilhar vários componentes disponíveis dentro de uma assinatura do Azure fornecendo gerenciamento de acesso refinado para o Azure.</span><span class="sxs-lookup"><span data-stu-id="22711-160">[Azure Role-Based Access Control (RBAC)](https://docs.microsoft.com/azure/active-directory/role-based-access-control-what-is) helps you to share various components available within an Azure subscription by providing fine-grained access management for Azure.</span></span> <span data-ttu-id="22711-161">O RBAC do Azure permite a separação de tarefas dentro de sua organização e a concessão de acesso com base no que os usuários precisam para realizar seus trabalhos.</span><span class="sxs-lookup"><span data-stu-id="22711-161">Azure RBAC enables you to segregate duties within your organization and grant access based on what users need to perform their jobs.</span></span> <span data-ttu-id="22711-162">Em vez de dar a todos permissões irrestritas na assinatura ou recursos do Azure, você pode permitir apenas certas ações.</span><span class="sxs-lookup"><span data-stu-id="22711-162">Instead of giving everybody unrestricted permissions in Azure subscription or resources, you can allow only certain actions.</span></span>

<span data-ttu-id="22711-163">O RBAC do Azure tem três funções básicas que se aplicam a todos os tipos de recurso:</span><span class="sxs-lookup"><span data-stu-id="22711-163">Azure RBAC has three basic roles that apply to all resource types:</span></span>

- <span data-ttu-id="22711-164">**proprietário** tem acesso total a todos os recursos, inclusive o direito de delegar acesso a outros usuários.</span><span class="sxs-lookup"><span data-stu-id="22711-164">**Owner** has full access to all resources including the right to delegate access to others.</span></span>

- <span data-ttu-id="22711-165">**colaborador** pode criar e gerenciar todos os tipos de recursos do Azure, mas não pode conceder acesso a outras pessoas.</span><span class="sxs-lookup"><span data-stu-id="22711-165">**Contributor** can create and manage all types of Azure resources but can’t grant access to others.</span></span>

- <span data-ttu-id="22711-166">**leitor** pode exibir os recursos existentes do Azure.</span><span class="sxs-lookup"><span data-stu-id="22711-166">**Reader** can view existing Azure resources.</span></span>

![Controle de acesso baseado em função do Azure](./media/azure-isolation/azure-isolation-fig3.png)

<span data-ttu-id="22711-168">As demais funções RBAC no Azure permitem o gerenciamento de recursos específicos do Azure.</span><span class="sxs-lookup"><span data-stu-id="22711-168">The rest of the RBAC roles in Azure allow management of specific Azure resources.</span></span> <span data-ttu-id="22711-169">Por exemplo, a função Colaborador de Máquina Virtual permite que o usuário crie e gerencie máquinas virtuais.</span><span class="sxs-lookup"><span data-stu-id="22711-169">For example, the Virtual Machine Contributor role allows the user to create and manage virtual machines.</span></span> <span data-ttu-id="22711-170">Ela não concede acesso à Rede Virtual ou à sub-rede do Azure com a qual a máquina virtual se conecta.</span><span class="sxs-lookup"><span data-stu-id="22711-170">It does not give them access to the Azure Virtual Network or the subnet that the virtual machine connects to.</span></span>

<span data-ttu-id="22711-171">[Funções internas de RBAC](https://docs.microsoft.com/azure/active-directory/role-based-access-built-in-roles) lista as funções disponíveis no Azure.</span><span class="sxs-lookup"><span data-stu-id="22711-171">[RBAC built-in roles](https://docs.microsoft.com/azure/active-directory/role-based-access-built-in-roles) list the roles available in Azure.</span></span> <span data-ttu-id="22711-172">Ela especifica as operações e o escopo que cada função interna concede aos usuários.</span><span class="sxs-lookup"><span data-stu-id="22711-172">It specifies the operations and scope that each built-in role grants to users.</span></span> <span data-ttu-id="22711-173">Se você pretende definir suas próprias funções para ter ainda mais controle, confira como criar [Funções personalizadas no RBAC do Azure](https://docs.microsoft.com/azure/active-directory/role-based-access-control-custom-roles).</span><span class="sxs-lookup"><span data-stu-id="22711-173">If you're looking to define your own roles for even more control, see how to build [Custom roles in Azure RBAC](https://docs.microsoft.com/azure/active-directory/role-based-access-control-custom-roles).</span></span>

<span data-ttu-id="22711-174">Entre os outros recursos para o Azure Active Directory estão:</span><span class="sxs-lookup"><span data-stu-id="22711-174">Some other capabilities for Azure Active Directory include:</span></span>
- <span data-ttu-id="22711-175">O Azure AD habilita o SSO para aplicativos SaaS, independentemente de onde estejam hospedados.</span><span class="sxs-lookup"><span data-stu-id="22711-175">Azure AD enables SSO to SaaS applications, regardless of where they are hosted.</span></span> <span data-ttu-id="22711-176">Alguns aplicativos são federados com o AD do Azure e outros usam SSO com senha.</span><span class="sxs-lookup"><span data-stu-id="22711-176">Some applications are federated with Azure AD, and others use password SSO.</span></span> <span data-ttu-id="22711-177">Os aplicativos federados também podem dar suporte ao provisionamento do usuário e ao [armazenamento de senha no cofre](https://www.techopedia.com/definition/31415/password-vault).</span><span class="sxs-lookup"><span data-stu-id="22711-177">Federated applications can also support user provisioning and [password vaulting](https://www.techopedia.com/definition/31415/password-vault).</span></span>

- <span data-ttu-id="22711-178">O acesso aos dados no [Armazenamento do Azure](https://azure.microsoft.com/services/storage/) é controlado por meio de autenticação.</span><span class="sxs-lookup"><span data-stu-id="22711-178">Access to data in [Azure Storage](https://azure.microsoft.com/services/storage/) is controlled via authentication.</span></span> <span data-ttu-id="22711-179">Cada conta de armazenamento tem uma chave primária ([chave de conta de armazenamento](https://docs.microsoft.com/azure/storage/storage-create-storage-account) ou SAK) e uma chave secreta secundária (a assinatura de acesso compartilhado ou SAS).</span><span class="sxs-lookup"><span data-stu-id="22711-179">Each storage account has a primary key ([storage account key](https://docs.microsoft.com/azure/storage/storage-create-storage-account), or SAK) and a secondary secret key (the shared access signature, or SAS).</span></span>

- <span data-ttu-id="22711-180">O Azure AD fornece identidade como um serviço de federação usando [Serviços de Federação do Active Directory](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-azure-adfs), sincronização e replicação com diretórios locais.</span><span class="sxs-lookup"><span data-stu-id="22711-180">Azure AD provides Identity as a Service through federation by using [Active Directory Federation Services](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-azure-adfs), synchronization, and replication with on-premises directories.</span></span>

- <span data-ttu-id="22711-181">A [Autenticação Multifator do Azure](https://docs.microsoft.com/azure/multi-factor-authentication/multi-factor-authentication) é um serviço de autenticação multifator que exige que os usuários verifiquem seus acessos usando um aplicativo móvel, uma chamada telefônica ou uma mensagem de texto.</span><span class="sxs-lookup"><span data-stu-id="22711-181">[Azure Multi-Factor Authentication](https://docs.microsoft.com/azure/multi-factor-authentication/multi-factor-authentication) is the multi-factor authentication service that requires users to verify sign-ins by using a mobile app, phone call, or text message.</span></span> <span data-ttu-id="22711-182">Ela pode ser usada com o Azure AD para proteger os recursos locais com o servidor de Autenticação Multifator do Azure e com diretórios e aplicativos personalizados que usam o SDK.</span><span class="sxs-lookup"><span data-stu-id="22711-182">It can be used with Azure AD to help secure on-premises resources with the Azure Multi-Factor Authentication server, and also with custom applications and directories using the SDK.</span></span>

- <span data-ttu-id="22711-183">Os [Azure AD Domain Services](https://azure.microsoft.com/services/active-directory-ds/) permitem adicionar máquinas virtuais do Azure a um domínio do Active Directory sem a necessidade de implantar controladores de domínio.</span><span class="sxs-lookup"><span data-stu-id="22711-183">[Azure AD Domain Services](https://azure.microsoft.com/services/active-directory-ds/) lets you join Azure virtual machines to an Active Directory domain without deploying domain controllers.</span></span> <span data-ttu-id="22711-184">Você pode acessar essas máquinas virtuais usando suas credenciais corporativas do Active Directory e administrar as máquinas virtuais associadas ao domínio usando uma Política de Grupo para impor linhas de base de segurança em todas as suas máquinas virtuais do Azure.</span><span class="sxs-lookup"><span data-stu-id="22711-184">You can sign in to these virtual machines with your corporate Active Directory credentials and administer domain-joined virtual machines by using Group Policy to enforce security baselines on all your Azure virtual machines.</span></span>

- <span data-ttu-id="22711-185">O [Azure Active Directory B2C](https://azure.microsoft.com/services/active-directory-b2c/) fornece um serviço de gerenciamento de identidade global, altamente disponível para aplicativos voltados para o consumidor, que pode ser dimensionado para centenas de milhões de identidades.</span><span class="sxs-lookup"><span data-stu-id="22711-185">[Azure Active Directory B2C](https://azure.microsoft.com/services/active-directory-b2c/) provides a highly available global-identity management service for consumer-facing applications that scales to hundreds of millions of identities.</span></span> <span data-ttu-id="22711-186">Ele pode ser integrado a plataformas móveis e da Web.</span><span class="sxs-lookup"><span data-stu-id="22711-186">It can be integrated across mobile and web platforms.</span></span> <span data-ttu-id="22711-187">Seus clientes podem fazer logon em todos os seus aplicativos por meio de experiências personalizáveis usando suas contas sociais existentes ou criando credenciais.</span><span class="sxs-lookup"><span data-stu-id="22711-187">Your consumers can sign in to all your applications through customizable experiences by using their existing social accounts or by creating credentials.</span></span>

### <a name="isolation-from-microsoft-administrators--data-deletion"></a><span data-ttu-id="22711-188">Isolamento dos administradores da Microsoft e exclusão de dados</span><span class="sxs-lookup"><span data-stu-id="22711-188">Isolation from Microsoft Administrators & Data Deletion</span></span>
<span data-ttu-id="22711-189">A Microsoft toma providências fortes para proteger seus dados contra o acesso ou uso inadequado por pessoas não autorizadas.</span><span class="sxs-lookup"><span data-stu-id="22711-189">Microsoft takes strong measures to protect your data from inappropriate access or use by unauthorized persons.</span></span> <span data-ttu-id="22711-190">Esses controles e processos operacionais têm base nos [Termos de Serviços Online](http://aka.ms/Online-Services-Terms), que oferecem compromissos contratuais que regulam o acesso aos seus dados.</span><span class="sxs-lookup"><span data-stu-id="22711-190">These operational processes and controls are backed by the [Online Services Terms](http://aka.ms/Online-Services-Terms), which offer contractual commitments that govern access to your data.</span></span>

-   <span data-ttu-id="22711-191">Os engenheiros da Microsoft não tem acesso padrão aos seus dados na nuvem.</span><span class="sxs-lookup"><span data-stu-id="22711-191">Microsoft engineers do not have default access to your data in the cloud.</span></span> <span data-ttu-id="22711-192">Em vez disso, eles recebem acesso sob supervisão de gerenciamento, apenas quando é necessário.</span><span class="sxs-lookup"><span data-stu-id="22711-192">Instead, they are granted access, under management oversight, only when necessary.</span></span> <span data-ttu-id="22711-193">Esse acesso é cuidadosamente controlado e registrado em log, sendo revogado assim que não é mais necessário.</span><span class="sxs-lookup"><span data-stu-id="22711-193">That access is carefully controlled and logged, and revoked when it is no longer needed.</span></span>

-   <span data-ttu-id="22711-194">A Microsoft pode contratar outras empresas para fornecer serviços limitados em seu nome.</span><span class="sxs-lookup"><span data-stu-id="22711-194">Microsoft may hire other companies to provide limited services on its behalf.</span></span> <span data-ttu-id="22711-195">Os subcontratados podem acessar os dados do cliente apenas para fornecer os serviços para os quais os contratamos, e estão proibidos de usá-los para qualquer outra finalidade.</span><span class="sxs-lookup"><span data-stu-id="22711-195">Subcontractors may access customer data only to deliver the services for which, we have hired them to provide, and they are prohibited from using it for any other purpose.</span></span> <span data-ttu-id="22711-196">Além disso, eles estão obrigados por contrato a manter a confidencialidade das informações de nossos clientes.</span><span class="sxs-lookup"><span data-stu-id="22711-196">Further, they are contractually bound to maintain the confidentiality of our customers’ information.</span></span>

<span data-ttu-id="22711-197">Os serviços comerciais com certificações auditadas como ISO/IEC 27001 são verificados regularmente pela Microsoft e por empresas de auditoria reconhecidas, que realizam amostras de auditorias para atestar que o acesso ocorre apenas para fins comerciais legítimos.</span><span class="sxs-lookup"><span data-stu-id="22711-197">Business services with audited certifications such as ISO/IEC 27001 are regularly verified by Microsoft and accredited audit firms, which perform sample audits to attest that access, only for legitimate business purposes.</span></span> <span data-ttu-id="22711-198">Você pode acessar os dados de seus clientes a qualquer momento e por qualquer motivo.</span><span class="sxs-lookup"><span data-stu-id="22711-198">You can always access your own customer data at any time and for any reason.</span></span>

<span data-ttu-id="22711-199">Se você excluir quaisquer dados, o Microsoft Azure excluirá os dados, incluindo qualquer cópia em cache ou de backup.</span><span class="sxs-lookup"><span data-stu-id="22711-199">If you delete any data, Microsoft Azure deletes the data, including any cached or backup copies.</span></span> <span data-ttu-id="22711-200">Para serviços em escopo, essa exclusão ocorrerá em até 90 dias após o término do período de retenção.</span><span class="sxs-lookup"><span data-stu-id="22711-200">For in-scope services, that deletion will occur within 90 days after the end of the retention period.</span></span> <span data-ttu-id="22711-201">(Os serviços no escopo são definidos na seção Termos do processamento de dados de nossos [Termos de Serviços Online](http://aka.ms/Online-Services-Terms).)</span><span class="sxs-lookup"><span data-stu-id="22711-201">(In-scope services are defined in the Data Processing Terms section of our [Online Services Terms](http://aka.ms/Online-Services-Terms).)</span></span>

<span data-ttu-id="22711-202">Se uma unidade de disco usada para armazenamento sofrer uma falha de hardware, ela será [apagada ou destruída](https://www.microsoft.com/trustcenter/Privacy/You-own-your-data) com segurança antes de a Microsoft retorná-la para o fabricante para reparo ou substituição.</span><span class="sxs-lookup"><span data-stu-id="22711-202">If a disk drive used for storage suffers a hardware failure, it is securely [erased or destroyed](https://www.microsoft.com/trustcenter/Privacy/You-own-your-data) before Microsoft returns it to the manufacturer for replacement or repair.</span></span> <span data-ttu-id="22711-203">Os dados no disco são substituídos para garantir que não possam ser recuperados por qualquer meio.</span><span class="sxs-lookup"><span data-stu-id="22711-203">The data on the drive is overwritten to ensure that the data cannot be recovered by any means.</span></span>

## <a name="compute-isolation"></a><span data-ttu-id="22711-204">Isolamento de computação</span><span class="sxs-lookup"><span data-stu-id="22711-204">Compute Isolation</span></span>
<span data-ttu-id="22711-205">O Microsoft Azure fornece vários serviços de computação baseados em nuvem que incluem uma ampla seleção de instâncias e serviços de computação, os quais podem ser escalados verticalmente de forma automática para atender às necessidades de seu aplicativo ou empresa.</span><span class="sxs-lookup"><span data-stu-id="22711-205">Microsoft Azure provides various cloud-based computing services that include a wide selection of compute instances & services that can scale up and down automatically to meet the needs of your application or enterprise.</span></span> <span data-ttu-id="22711-206">Essas instâncias e serviços de computação oferecem isolamento em vários níveis a fim de proteger os dados sem sacrificar a flexibilidade de configuração exigida pelos clientes.</span><span class="sxs-lookup"><span data-stu-id="22711-206">These compute instance and service offer isolation at multiple levels to secure data without sacrificing the flexibility in configuration that customers demand.</span></span>

### <a name="hyper-v--root-os-isolation-between-root-vm--guest-vms"></a><span data-ttu-id="22711-207">Isolamento de sistema operacional raiz e Hyper-V entre a VM raiz e as VMs convidadas</span><span class="sxs-lookup"><span data-stu-id="22711-207">Hyper-V & Root OS Isolation Between Root VM & Guest VMs</span></span>
<span data-ttu-id="22711-208">A plataforma de computação do Azure tem base na virtualização da máquina — ou seja, todo o código do cliente é executado em uma máquina virtual Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="22711-208">Azure’s compute platform is based on machine virtualization—meaning that all customer code executes in a Hyper-V virtual machine.</span></span> <span data-ttu-id="22711-209">Em cada nó do Azure (ou ponto de extremidade de rede), há um Hipervisor executado diretamente sobre o hardware e divide um nó em um número variável de VMs (máquinas virtuais) convidadas.</span><span class="sxs-lookup"><span data-stu-id="22711-209">On each Azure node (or network endpoint), there is a Hypervisor that runs directly over the hardware and divides a node into a variable number of Guest Virtual Machines (VMs).</span></span>


![Isolamento de sistema operacional raiz e Hyper-V entre a VM raiz e as VMs convidadas](./media/azure-isolation/azure-isolation-fig4.jpg)


<span data-ttu-id="22711-211">Cada nó também tem uma VM raiz especial, que executa o sistema operacional host.</span><span class="sxs-lookup"><span data-stu-id="22711-211">Each node also has one special Root VM, which runs the Host OS.</span></span> <span data-ttu-id="22711-212">Um limite crítico é o isolamento da VM raiz das VMs convidadas, e entre as VMs convidadas, gerenciado pelo hipervisor e pelo sistema operacional raiz.</span><span class="sxs-lookup"><span data-stu-id="22711-212">A critical boundary is the isolation of the root VM from the guest VMs and the guest VMs from one another, managed by the hypervisor and the root OS.</span></span> <span data-ttu-id="22711-213">O emparelhamento do hipervisor/sistema operacional raiz desfruta da experiência de décadas em segurança de sistema operacional da Microsoft, e do aprendizado mais recente com o Hyper-V da Microsoft, para oferecer um isolamento mais forte de VMs convidadas.</span><span class="sxs-lookup"><span data-stu-id="22711-213">The hypervisor/root OS pairing leverages Microsoft's decades of operating system security experience, and more recent learning from Microsoft's Hyper-V, to provide strong isolation of guest VMs.</span></span>

<span data-ttu-id="22711-214">A plataforma do Azure usa um ambiente virtualizado.</span><span class="sxs-lookup"><span data-stu-id="22711-214">The Azure platform uses a virtualized environment.</span></span> <span data-ttu-id="22711-215">As instâncias do usuário funcionam como máquinas virtuais autônomas que não têm acesso a um servidor de host físico, e esse isolamento é imposto pelo uso de níveis de privilégio do processador (anel-0/anel-3) físico.</span><span class="sxs-lookup"><span data-stu-id="22711-215">User instances operate as standalone virtual machines that do not have access to a physical host server, and this isolation is enforced by using physical processor (ring-0/ring-3) privilege levels.</span></span>

<span data-ttu-id="22711-216">O Anel 0 é o mais privilegiado e o 3 é o menos.</span><span class="sxs-lookup"><span data-stu-id="22711-216">Ring 0 is the most privileged and 3 is the least.</span></span> <span data-ttu-id="22711-217">O sistema operacional convidado é executado em um Anel 1 com menos privilégios, e os aplicativos são executados no Anel 3 com privilégios mínimos.</span><span class="sxs-lookup"><span data-stu-id="22711-217">The guest OS runs in a lesser-privileged Ring 1, and applications run in the least privileged Ring 3.</span></span> <span data-ttu-id="22711-218">Essa virtualização dos recursos físicos leva a uma clara separação entre o sistema operacional convidado e o hiervisor, resultando na separação de segurança adicional entre os dois.</span><span class="sxs-lookup"><span data-stu-id="22711-218">This virtualization of physical resources leads to a clear separation between guest OS and hypervisor, resulting in additional security separation between the two.</span></span>

<span data-ttu-id="22711-219">O hipervisor do Azure funciona como um microkernel e envia todas as solicitações de acesso de hardware das máquinas virtuais convidadas para o host para processamento usando uma interface de memória compartilhada chamada VMBus.</span><span class="sxs-lookup"><span data-stu-id="22711-219">The Azure hypervisor acts like a micro-kernel and passes all hardware access requests from guest virtual machines to the host for processing by using a shared-memory interface called VMBus.</span></span> <span data-ttu-id="22711-220">Isso impede que os usuários obtenham acesso bruto de leitura/gravação/execução no sistema e minimiza o risco de compartilhamento de recursos do sistema.</span><span class="sxs-lookup"><span data-stu-id="22711-220">This prevents users from obtaining raw read/write/execute access to the system and mitigates the risk of sharing system resources.</span></span>

### <a name="advanced-vm-placement-algorithm--protection-from-side-channel-attacks"></a><span data-ttu-id="22711-221">Algoritmo avançado de posicionamento da VM e proteção contra ataques de canal lateral</span><span class="sxs-lookup"><span data-stu-id="22711-221">Advanced VM placement algorithm & protection from side channel attacks</span></span>
<span data-ttu-id="22711-222">Qualquer ataque entre VMs envolve duas etapas: colocar uma VM controlada pelo adversário no mesmo host que uma das VMs vítima e, em seguida, violar o limite de isolamento para roubar informações confidenciais da vítima ou afetar seu desempenho por ganância ou vandalismo.</span><span class="sxs-lookup"><span data-stu-id="22711-222">Any cross-VM attack involves two steps: placing an adversary-controlled VM on the same host as one of the victim VMs, and then breaching the isolation boundary to either steal sensitive victim information or affect its performance for greed or vandalism.</span></span> <span data-ttu-id="22711-223">O Microsoft Azure fornece proteção nas duas etapas usando um algoritmo avançado de posicionamento de VM e proteção contra todos os ataques de canal lateral conhecidos, incluindo VMs vizinhas barulhentas.</span><span class="sxs-lookup"><span data-stu-id="22711-223">Microsoft Azure provides protection at both steps by using an advanced VM placement algorithm and protection from all known side channel attacks including noisy neighbor VMs.</span></span>

### <a name="the-azure-fabric-controller"></a><span data-ttu-id="22711-224">O Controlador de malha do Azure</span><span class="sxs-lookup"><span data-stu-id="22711-224">The Azure Fabric Controller</span></span>
<span data-ttu-id="22711-225">O Controlador de Malha do Azure é responsável por alocar recursos de infraestrutura para cargas de trabalho de locatário e gerencia a comunicação unidirecional do host para máquinas virtuais.</span><span class="sxs-lookup"><span data-stu-id="22711-225">The Azure Fabric Controller is responsible for allocating infrastructure resources to tenant workloads, and it manages unidirectional communications from the host to virtual machines.</span></span> <span data-ttu-id="22711-226">O algoritmo de posicionamento da VM do controlador de malha do Azure é altamente sofisticado e quase impossível de prever como nível de host físico.</span><span class="sxs-lookup"><span data-stu-id="22711-226">The VM placing algorithm of the Azure fabric controller is highly sophisticated and nearly impossible to predict as physical host level.</span></span>

![O Controlador de malha do Azure](./media/azure-isolation/azure-isolation-fig5.png)

<span data-ttu-id="22711-228">O hipervisor do Azure impõe a memória e a separação de processos entre máquinas virtuais e roteia com segurança o tráfego de rede para locatários do sistema operacional convidado.</span><span class="sxs-lookup"><span data-stu-id="22711-228">The Azure hypervisor enforces memory and process separation between virtual machines, and it securely routes network traffic to guest OS tenants.</span></span> <span data-ttu-id="22711-229">Isso elimina a possibilidade de ataques de canal lateral no nível da VM.</span><span class="sxs-lookup"><span data-stu-id="22711-229">This eliminates possibility of and side channel attack at VM level.</span></span>

<span data-ttu-id="22711-230">No Azure, a VM raiz é especial: ela executa um sistema operacional protegido chamado de sistema operacional raiz, que hospeda um agente de malha (FA).</span><span class="sxs-lookup"><span data-stu-id="22711-230">In Azure, the root VM is special: it runs a hardened operating system called the root OS that hosts a fabric agent (FA).</span></span> <span data-ttu-id="22711-231">Os FAs são usados, por sua vez, para gerenciar os agentes convidados (GA) nos sistemas operacionais convidados em VMs do cliente.</span><span class="sxs-lookup"><span data-stu-id="22711-231">FAs are used in turn to manage guest agents (GA) within guest OSes on customer VMs.</span></span> <span data-ttu-id="22711-232">Os FAs também gerenciam nós de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="22711-232">FAs also manage storage nodes.</span></span>

<span data-ttu-id="22711-233">A coleção de hipervisor do Azure, SO raiz/FA e VMs de cliente/GAs forma um nó de computação.</span><span class="sxs-lookup"><span data-stu-id="22711-233">The collection of Azure hypervisor, root OS/FA, and customer VMs/GAs comprises a compute node.</span></span> <span data-ttu-id="22711-234">Os FAs são gerenciados por um controlador de malha (FC), que existe fora dos nós de computação e de armazenamento (clusters de computação e de armazenamento são gerenciados por FCs separados).</span><span class="sxs-lookup"><span data-stu-id="22711-234">FAs are managed by a fabric controller (FC), which exists outside of compute and storage nodes (compute and storage clusters are managed by separate FCs).</span></span> <span data-ttu-id="22711-235">Se um cliente atualiza o arquivo de configuração de seu aplicativo enquanto ele está em execução, o FC se comunica com o FA, que então contata os GAs, que notificam o aplicativo sobre a alteração na configuração.</span><span class="sxs-lookup"><span data-stu-id="22711-235">If a customer updates their application’s configuration file while it’s running, the FC communicates with the FA, which then contacts GAs, which notify the application of the configuration change.</span></span> <span data-ttu-id="22711-236">No caso de falha de hardware, o FC localizará automaticamente o hardware disponível e reiniciará a VM no local.</span><span class="sxs-lookup"><span data-stu-id="22711-236">In the event of a hardware failure, the FC will automatically find available hardware and restart the VM there.</span></span>

![Controlador de malha do Azure](./media/azure-isolation/azure-isolation-fig6.jpg)

<span data-ttu-id="22711-238">A comunicação de um controlador de malha com um agente é unidirecional.</span><span class="sxs-lookup"><span data-stu-id="22711-238">Communication from a Fabric Controller to an agent is unidirectional.</span></span> <span data-ttu-id="22711-239">O agente implementa um serviço protegido por SSL que só responde às solicitações do controlador.</span><span class="sxs-lookup"><span data-stu-id="22711-239">The agent implements an SSL-protected service that only responds to requests from the controller.</span></span> <span data-ttu-id="22711-240">Ele não pode iniciar conexões com o controlador ou com outros nós internos privilegiados.</span><span class="sxs-lookup"><span data-stu-id="22711-240">It cannot initiate connections to the controller or other privileged internal nodes.</span></span> <span data-ttu-id="22711-241">O FC trata todas as respostas como se fossem não confiáveis.</span><span class="sxs-lookup"><span data-stu-id="22711-241">The FC treats all responses as if they were untrusted.</span></span>


![Controlador de malha](./media/azure-isolation/azure-isolation-fig7.png)

<span data-ttu-id="22711-243">O isolamento é estendido da VM raiz das VMs convidadas, e entre as VMs convidadas.</span><span class="sxs-lookup"><span data-stu-id="22711-243">Isolation extends from the Root VM from Guest VMs, and the Guest VMs from one another.</span></span> <span data-ttu-id="22711-244">Os nós de computação também são isolados dos nós de armazenamento para aumentar a proteção.</span><span class="sxs-lookup"><span data-stu-id="22711-244">Compute nodes are also isolated from storage nodes for increased protection.</span></span>


<span data-ttu-id="22711-245">O hipervisor e o SO host fornecem filtros de pacote de rede para ajudar a garantir que as máquinas virtuais não confiáveis não possam gerar tráfego falsificado ou receber tráfego não endereçado a elas, direcionar tráfego para pontos de extremidade de infraestrutura protegidos ou enviar/receber transmissão de tráfego inadequado.</span><span class="sxs-lookup"><span data-stu-id="22711-245">The hypervisor and the host OS provide network packet - filters to help assure that untrusted virtual machines cannot generate spoofed traffic or receive traffic not addressed to them, direct traffic to protected infrastructure endpoints, or send/receive inappropriate broadcast traffic.</span></span>


### <a name="additional-rules-configured-by-fabric-controller-agent-to-isolate-vm"></a><span data-ttu-id="22711-246">Regras adicionais configuradas pelo Agente do Controlador de Malha para isolar a VM</span><span class="sxs-lookup"><span data-stu-id="22711-246">Additional Rules Configured by Fabric Controller Agent to Isolate VM</span></span>
<span data-ttu-id="22711-247">Por padrão, todo o tráfego é bloqueado quando uma máquina virtual é criada. Então, o agente de controlador de malha configura o filtro de pacote para adicionar regras e exceções e permitir o tráfego autorizado.</span><span class="sxs-lookup"><span data-stu-id="22711-247">By default, all traffic is blocked when a virtual machine is created, and then the fabric controller agent configures the packet filter to add rules and exceptions to allow authorized traffic.</span></span>

<span data-ttu-id="22711-248">Há duas categorias de regras que são programadas:</span><span class="sxs-lookup"><span data-stu-id="22711-248">There are two categories of rules that are programmed:</span></span>

-   <span data-ttu-id="22711-249">**Configuração de máquina ou regras de infraestrutura**: por padrão, toda a comunicação é bloqueada.</span><span class="sxs-lookup"><span data-stu-id="22711-249">**Machine configuration or infrastructure rules:** By default, all communication is blocked.</span></span> <span data-ttu-id="22711-250">Há exceções para permitir que uma máquina virtual envie e receba tráfego DHCP e DNS.</span><span class="sxs-lookup"><span data-stu-id="22711-250">There are exceptions to allow a virtual machine to send and receive DHCP and DNS traffic.</span></span> <span data-ttu-id="22711-251">As máquinas virtuais também podem enviar tráfego para a Internet "pública" e para outras máquinas virtuais na mesma Rede Virtual do Azure e no servidor de ativação do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="22711-251">Virtual machines can also send traffic to the “public” internet and send traffic to other virtual machines within the same Azure Virtual Network and the OS activation server.</span></span> <span data-ttu-id="22711-252">A lista de destinos permitidos das máquinas virtuais não inclui sub-redes de roteador do Azure, gerenciamento do Azure e outras propriedades da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="22711-252">The virtual machines’ list of allowed outgoing destinations does not include Azure router subnets, Azure management, and other Microsoft properties.</span></span>

-   <span data-ttu-id="22711-253">**Arquivo de configuração de função**: define as Listas de Controle de Acesso (ACLs) de entrada com base no modelo de serviço do locatário.</span><span class="sxs-lookup"><span data-stu-id="22711-253">**Role configuration file:** This defines the inbound Access Control Lists (ACLs) based on the tenant's service model.</span></span>

### <a name="vlan-isolation"></a><span data-ttu-id="22711-254">Isolamento de VLAN</span><span class="sxs-lookup"><span data-stu-id="22711-254">VLAN Isolation</span></span>
<span data-ttu-id="22711-255">Há três VLANs em cada cluster:</span><span class="sxs-lookup"><span data-stu-id="22711-255">There are three VLANs in each cluster:</span></span>

![Isolamento de VLAN](./media/azure-isolation/azure-isolation-fig8.jpg)


-   <span data-ttu-id="22711-257">A VLAN principal – interconecta nós de clientes não confiáveis</span><span class="sxs-lookup"><span data-stu-id="22711-257">The main VLAN – interconnects untrusted customer nodes</span></span>

-   <span data-ttu-id="22711-258">A VLAN de FC – contém FCs confiáveis e sistemas de suporte</span><span class="sxs-lookup"><span data-stu-id="22711-258">The FC VLAN – contains trusted FCs and supporting systems</span></span>

-   <span data-ttu-id="22711-259">A VLAN do dispositivo – contém a rede confiável e outros dispositivos de infraestrutura</span><span class="sxs-lookup"><span data-stu-id="22711-259">The device VLAN – contains trusted network and other infrastructure devices</span></span>

<span data-ttu-id="22711-260">A comunicação é permitida da VLAN de FC para a VLAN principal, mas não pode ser iniciada da VLAN principal para a VLAN de FC.</span><span class="sxs-lookup"><span data-stu-id="22711-260">Communication is permitted from the FC VLAN to the main VLAN, but cannot be initiated from the main VLAN to the FC VLAN.</span></span> <span data-ttu-id="22711-261">A comunicação também é bloqueada da VLAN principal para a VLAN do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="22711-261">Communication is also blocked from the main VLAN to the device VLAN.</span></span> <span data-ttu-id="22711-262">Isso garante que mesmo se um nó que executa o código do cliente for comprometido, ele não poderá atacar nós no FC ou nas VLANs do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="22711-262">This assures that even if a node running customer code is compromised, it cannot attack nodes on either the FC or device VLANs.</span></span>

## <a name="storage-isolation"></a><span data-ttu-id="22711-263">Isolamento de armazenamento</span><span class="sxs-lookup"><span data-stu-id="22711-263">Storage Isolation</span></span>
### <a name="logical-isolation-between-compute-and-storage"></a><span data-ttu-id="22711-264">Isolamento lógico entre computação e armazenamento</span><span class="sxs-lookup"><span data-stu-id="22711-264">Logical Isolation Between Compute and Storage</span></span>
<span data-ttu-id="22711-265">Como parte de seu design fundamental, o Microsoft Azure separa a computação baseada em VM do armazenamento.</span><span class="sxs-lookup"><span data-stu-id="22711-265">As part of its fundamental design, Microsoft Azure separates VM-based computation from storage.</span></span> <span data-ttu-id="22711-266">Essa separação permite que a computação e o armazenamento sejam escalados de maneira independente, facilitando o fornecimento do isolamento e da multilocação.</span><span class="sxs-lookup"><span data-stu-id="22711-266">This separation enables computation and storage to scale independently, making it easier to provide multi-tenancy and isolation.</span></span>

<span data-ttu-id="22711-267">Portanto, o Armazenamento do Azure é executado em um hardware separado sem conectividade de rede com a Computação do Azure, exceto logicamente.</span><span class="sxs-lookup"><span data-stu-id="22711-267">Therefore, Azure Storage runs on separate hardware with no network connectivity to Azure Compute except logically.</span></span> <span data-ttu-id="22711-268">[Isso](https://msenterprise.global.ssl.fastly.net/vnext/PDFs/A01_AzureSecurityWhitepaper20160415c.pdf) significa que, quando um disco virtual é criado, o espaço em disco não é alocado totalmente.</span><span class="sxs-lookup"><span data-stu-id="22711-268">[This](https://msenterprise.global.ssl.fastly.net/vnext/PDFs/A01_AzureSecurityWhitepaper20160415c.pdf) means that when a virtual disk is created, disk space is not allocated for its entire capacity.</span></span> <span data-ttu-id="22711-269">Em vez disso, uma tabela é criada mapeando endereços no disco virtual para áreas no disco físico, e essa tabela é inicialmente vazia.</span><span class="sxs-lookup"><span data-stu-id="22711-269">Instead, a table is created that maps addresses on the virtual disk to areas on the physical disk and that table is initially empty.</span></span> <span data-ttu-id="22711-270">**Na primeira vez que um cliente grava dados no disco virtual, o espaço no disco físico é alocado e um ponteiro até ele é posicionado na tabela.**</span><span class="sxs-lookup"><span data-stu-id="22711-270">**The first time a customer writes data on the virtual disk, space on the physical disk is allocated, and a pointer to it is placed in the table.**</span></span>
### <a name="isolation-using-storage-access-control"></a><span data-ttu-id="22711-271">Isolamento usando o Controle de acesso de armazenamento</span><span class="sxs-lookup"><span data-stu-id="22711-271">Isolation Using Storage Access control</span></span>
<span data-ttu-id="22711-272">**O Controle de acesso no Armazenamento do Azure** tem um modelo de controle de acesso simples.</span><span class="sxs-lookup"><span data-stu-id="22711-272">**Access Control in Azure Storage** has a simple access control model.</span></span> <span data-ttu-id="22711-273">Cada assinatura do Azure pode criar uma ou mais Contas de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="22711-273">Each Azure subscription can create one or more Storage Accounts.</span></span> <span data-ttu-id="22711-274">Cada Conta de armazenamento tem uma única chave secreta usada para controlar o acesso a todos os dados na Conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="22711-274">Each Storage Account has a single secret key that is used to control access to all data in that Storage Account.</span></span>

![Isolamento usando o Controle de acesso de armazenamento](./media/azure-isolation/azure-isolation-fig9.png)

<span data-ttu-id="22711-276">**O acesso aos dados do Armazenamento do Azure (incluindo tabelas)** pode ser controlado por meio de um token [SAS (Assinatura de Acesso Compartilhado)](https://docs.microsoft.com/azure/storage/storage-dotnet-shared-access-signature-part-1), que concede acesso de escopo.</span><span class="sxs-lookup"><span data-stu-id="22711-276">**Access to Azure Storage data (including Tables)** can be controlled through a [SAS (Shared Access Signature)](https://docs.microsoft.com/azure/storage/storage-dotnet-shared-access-signature-part-1) token, which grants scoped access.</span></span> <span data-ttu-id="22711-277">A SAS é criada por meio de um modelo de consulta (URL), assinado com a [SAK (chave de conta de armazenamento)](https://msdn.microsoft.com/library/azure/ee460785.aspx).</span><span class="sxs-lookup"><span data-stu-id="22711-277">The SAS is created through a query template (URL), signed with the [SAK (Storage Account Key)](https://msdn.microsoft.com/library/azure/ee460785.aspx).</span></span> <span data-ttu-id="22711-278">Essa [URL assinada](https://docs.microsoft.com/azure/storage/storage-dotnet-shared-access-signature-part-1) pode ser concedida a outro processo (ou seja, delegada), que pode preencher os detalhes da consulta e fazer a solicitação do serviço de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="22711-278">That [signed URL](https://docs.microsoft.com/azure/storage/storage-dotnet-shared-access-signature-part-1) can be given to another process (that is, delegated), which can then fill in the details of the query and make the request of the storage service.</span></span> <span data-ttu-id="22711-279">Uma SAS permite a concessão de acesso com base em tempo para clientes sem revelar a chave secreta da conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="22711-279">A SAS enables you to grant time-based access to clients without revealing the storage account’s secret key.</span></span>

<span data-ttu-id="22711-280">A SAS significa que podemos conceder a um cliente permissões limitadas para objetos em nossa conta de armazenamento por determinado período de tempo e com um conjunto específico de permissões.</span><span class="sxs-lookup"><span data-stu-id="22711-280">The SAS means that we can grant a client limited permissions, to objects in our storage account for a specified period of time and with a specified set of permissions.</span></span> <span data-ttu-id="22711-281">Podemos conceder essas permissões limitadas sem precisar compartilhar as chaves de acesso da conta.</span><span class="sxs-lookup"><span data-stu-id="22711-281">We can grant these limited permissions without having to share your account access keys.</span></span>

### <a name="ip-level-storage-isolation"></a><span data-ttu-id="22711-282">Isolamento de armazenamento no nível do IP</span><span class="sxs-lookup"><span data-stu-id="22711-282">IP Level Storage Isolation</span></span>
<span data-ttu-id="22711-283">Você pode habilitar o firewall e definir um intervalo de endereços IP para seus clientes confiáveis.</span><span class="sxs-lookup"><span data-stu-id="22711-283">You can establish firewalls and define an IP address range for your trusted clients.</span></span> <span data-ttu-id="22711-284">Com um intervalo de endereços IP, somente os clientes que possuem um endereço IP no intervalo definido podem se conectar ao [Armazenamento do Azure](https://docs.microsoft.com/azure/storage/storage-security-guide).</span><span class="sxs-lookup"><span data-stu-id="22711-284">With an IP address range, only clients that have an IP address within the defined range can connect to [Azure Storage](https://docs.microsoft.com/azure/storage/storage-security-guide).</span></span>

<span data-ttu-id="22711-285">Os dados de armazenamento IP podem ser protegidos contra usuários não autorizados por meio de um mecanismo de rede usado para alocar um túnel dedicado de tráfego para o armazenamento IP.</span><span class="sxs-lookup"><span data-stu-id="22711-285">IP storage data can be protected from unauthorized users via a networking mechanism that is used to allocate a dedicated or dedicated tunnel of traffic to IP storage.</span></span>

### <a name="encryption"></a><span data-ttu-id="22711-286">Criptografia</span><span class="sxs-lookup"><span data-stu-id="22711-286">Encryption</span></span>
<span data-ttu-id="22711-287">O Azure oferece os seguintes tipos de Criptografia para proteção dos dados:</span><span class="sxs-lookup"><span data-stu-id="22711-287">Azure offers following types of Encryption to protect data:</span></span>
-   <span data-ttu-id="22711-288">Criptografia em trânsito</span><span class="sxs-lookup"><span data-stu-id="22711-288">Encryption in transit</span></span>

-   <span data-ttu-id="22711-289">Criptografia em repouso</span><span class="sxs-lookup"><span data-stu-id="22711-289">Encryption at rest</span></span>

#### <a name="encryption-in-transit"></a><span data-ttu-id="22711-290">Criptografia em trânsito</span><span class="sxs-lookup"><span data-stu-id="22711-290">Encryption in Transit</span></span>
<span data-ttu-id="22711-291">A criptografia em trânsito é um mecanismo de proteção de dados quando eles são transmitidos entre redes.</span><span class="sxs-lookup"><span data-stu-id="22711-291">Encryption in transit is a mechanism of protecting data when it is transmitted across networks.</span></span> <span data-ttu-id="22711-292">Com o Armazenamento do Azure, você pode proteger dados usando:</span><span class="sxs-lookup"><span data-stu-id="22711-292">With Azure Storage, you can secure data using:</span></span>

-   <span data-ttu-id="22711-293">[Criptografia de nível de transporte](https://docs.microsoft.com/azure/storage/storage-security-guide#encryption-in-transit), como HTTPS ao transferir dados dentro ou fora do Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="22711-293">[Transport-level encryption](https://docs.microsoft.com/azure/storage/storage-security-guide#encryption-in-transit), such as HTTPS when you transfer data into or out of Azure Storage.</span></span>

-   <span data-ttu-id="22711-294">[Criptografia na transmissão](../storage/common/storage-security-guide.md#using-encryption-during-transit-with-azure-file-shares), como a criptografia SMB 3.0 para compartilhamentos de Arquivo do Azure.</span><span class="sxs-lookup"><span data-stu-id="22711-294">[Wire encryption](../storage/common/storage-security-guide.md#using-encryption-during-transit-with-azure-file-shares), such as SMB 3.0 encryption for Azure File shares.</span></span>

-   <span data-ttu-id="22711-295">[Criptografia do cliente](https://docs.microsoft.com/azure/storage/storage-security-guide#using-client-side-encryption-to-secure-data-that-you-send-to-storage), que permite criptografar os dados antes que eles sejam transferidos para o armazenamento e descriptografá-los após serem transferidos para fora do armazenamento.</span><span class="sxs-lookup"><span data-stu-id="22711-295">[Client-side encryption](https://docs.microsoft.com/azure/storage/storage-security-guide#using-client-side-encryption-to-secure-data-that-you-send-to-storage), to encrypt the data before it is transferred into storage and to decrypt the data after it is transferred out of storage.</span></span>

#### <a name="encryption-at-rest"></a><span data-ttu-id="22711-296">Criptografia em repouso</span><span class="sxs-lookup"><span data-stu-id="22711-296">Encryption at Rest</span></span>
<span data-ttu-id="22711-297">Para muitas organizações, a [criptografia de dados em repouso](https://blogs.microsoft.com/cybertrust/2015/09/10/cloud-security-controls-series-encrypting-data-at-rest/) é uma etapa obrigatória no sentido de garantir a soberania, a privacidade e a conformidade dos dados.</span><span class="sxs-lookup"><span data-stu-id="22711-297">For many organizations, [data encryption at rest](https://blogs.microsoft.com/cybertrust/2015/09/10/cloud-security-controls-series-encrypting-data-at-rest/) is a mandatory step towards data privacy, compliance, and data sovereignty.</span></span> <span data-ttu-id="22711-298">Há três recursos do Azure que fornecem criptografia de dados que estão “em repouso”:</span><span class="sxs-lookup"><span data-stu-id="22711-298">There are three Azure features that provide encryption of data that is “at rest”:</span></span>

-   <span data-ttu-id="22711-299">[Criptografia do Serviço de Armazenamento](https://docs.microsoft.com/azure/storage/storage-security-guide#encryption-at-rest) permite solicitar que o serviço de armazenamento criptografe automaticamente os dados ao gravá-los no Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="22711-299">[Storage Service Encryption](https://docs.microsoft.com/azure/storage/storage-security-guide#encryption-at-rest) allows you to request that the storage service automatically encrypt data when writing it to Azure Storage.</span></span>

-   <span data-ttu-id="22711-300">[Client-side Encryption](https://docs.microsoft.com/azure/storage/storage-security-guide#client-side-encryption) também fornece o recurso de criptografia em repouso.</span><span class="sxs-lookup"><span data-stu-id="22711-300">[Client-side Encryption](https://docs.microsoft.com/azure/storage/storage-security-guide#client-side-encryption) also provides the feature of encryption at rest.</span></span>

-   <span data-ttu-id="22711-301">[Azure Disk Encryption](https://docs.microsoft.com/azure/security/azure-security-disk-encryption) permite criptografar os discos do sistema operacional e os discos de dados usados por uma máquina virtual IaaS.</span><span class="sxs-lookup"><span data-stu-id="22711-301">[Azure Disk Encryption](https://docs.microsoft.com/azure/security/azure-security-disk-encryption) allows you to encrypt the OS disks and data disks used by an IaaS virtual machine.</span></span>

#### <a name="azure-disk-encryption"></a><span data-ttu-id="22711-302">Azure Disk Encryption</span><span class="sxs-lookup"><span data-stu-id="22711-302">Azure Disk Encryption</span></span>
<span data-ttu-id="22711-303">O [Azure Disk Encryption](https://docs.microsoft.com/azure/security/azure-security-disk-encryption) para VMs (Máquinas Virtuais) o ajuda a atender aos requisitos de conformidade e segurança organizacionais criptografando os discos de VM (incluindo discos de dados e de inicialização) com chaves e políticas controladas no [Azure Key Vault](https://azure.microsoft.com/services/key-vault/).</span><span class="sxs-lookup"><span data-stu-id="22711-303">[Azure Disk Encryption](https://docs.microsoft.com/azure/security/azure-security-disk-encryption) for virtual machines (VMs) helps you address organizational security and compliance requirements by encrypting your VM disks (including boot and data disks) with keys and policies you control in [Azure Key Vault](https://azure.microsoft.com/services/key-vault/).</span></span>

<span data-ttu-id="22711-304">A solução de Criptografia de Disco para Windows é baseada na [Criptografia de Unidade de Disco BitLocker da Microsoft](https://technet.microsoft.com/library/cc732774.aspx) e a solução para Linux é baseada no [dm-crypt](https://en.wikipedia.org/wiki/Dm-crypt).</span><span class="sxs-lookup"><span data-stu-id="22711-304">The Disk Encryption solution for Windows is based on [Microsoft BitLocker Drive Encryption](https://technet.microsoft.com/library/cc732774.aspx), and the Linux solution is based on [dm-crypt](https://en.wikipedia.org/wiki/Dm-crypt).</span></span>

<span data-ttu-id="22711-305">A solução dá suporte aos seguintes cenários para VMs IaaS quando habilitados no Microsoft Azure:</span><span class="sxs-lookup"><span data-stu-id="22711-305">The solution supports the following scenarios for IaaS VMs when they are enabled in Microsoft Azure:</span></span>
-   <span data-ttu-id="22711-306">Integração com o Cofre da Chave do Azure</span><span class="sxs-lookup"><span data-stu-id="22711-306">Integration with Azure Key Vault</span></span>

-   <span data-ttu-id="22711-307">VMs da camada Standard: VMs IaaS das séries A, D, DS, G, GS e assim por diante</span><span class="sxs-lookup"><span data-stu-id="22711-307">Standard tier VMs: A, D, DS, G, GS, and so forth, series IaaS VMs</span></span>

-   <span data-ttu-id="22711-308">Como habilitar a criptografia em VMs IaaS Windows e Linux</span><span class="sxs-lookup"><span data-stu-id="22711-308">Enabling encryption on Windows and Linux IaaS VMs</span></span>

-   <span data-ttu-id="22711-309">Como desabilitar a criptografia em unidades do sistema operacional e de dados para VMs IaaS do Windows</span><span class="sxs-lookup"><span data-stu-id="22711-309">Disabling encryption on OS and data drives for Windows IaaS VMs</span></span>

-   <span data-ttu-id="22711-310">Como desabilitar a criptografia em unidades de dados para VMs IaaS do Linux</span><span class="sxs-lookup"><span data-stu-id="22711-310">Disabling encryption on data drives for Linux IaaS VMs</span></span>

-   <span data-ttu-id="22711-311">Ativando a criptografia em VMs IaaS que estão executando o sistema operacional cliente Windows</span><span class="sxs-lookup"><span data-stu-id="22711-311">Enabling encryption on IaaS VMs that are running Windows client OS</span></span>

-   <span data-ttu-id="22711-312">Como habilitar a criptografia em volumes com caminhos de montagem</span><span class="sxs-lookup"><span data-stu-id="22711-312">Enabling encryption on volumes with mount paths</span></span>

-   <span data-ttu-id="22711-313">Habilitação da criptografia em VMs do Linux que estão configuradas com distribuição de discos (RAID) usando o [mdadm](https://en.wikipedia.org/wiki/Mdadm)</span><span class="sxs-lookup"><span data-stu-id="22711-313">Enabling encryption on Linux VMs that are configured with disk striping (RAID) by using [mdadm](https://en.wikipedia.org/wiki/Mdadm)</span></span>

-   <span data-ttu-id="22711-314">Como habilitar a criptografia em VMs do Linux usando [LVM (Gerenciador de Volume Lógico)](https://msdn.microsoft.com/library/windows/desktop/bb540532) para discos de dados</span><span class="sxs-lookup"><span data-stu-id="22711-314">Enabling encryption on Linux VMs by using [LVM(Logical Volume Manager)](https://msdn.microsoft.com/library/windows/desktop/bb540532) for data disks</span></span>

-   <span data-ttu-id="22711-315">Ativando a criptografia em VMs do Windows que são configurados usando espaços de armazenamento</span><span class="sxs-lookup"><span data-stu-id="22711-315">Enabling encryption on Windows VMs that are configured by using storage spaces</span></span>

-   <span data-ttu-id="22711-316">Há suporte para todas as regiões públicas do Azure</span><span class="sxs-lookup"><span data-stu-id="22711-316">All Azure public regions are supported</span></span>

<span data-ttu-id="22711-317">A solução não dá suporte aos seguintes cenários, recursos e tecnologia na versão:</span><span class="sxs-lookup"><span data-stu-id="22711-317">The solution does not support the following scenarios, features, and technology in the release:</span></span>

-   <span data-ttu-id="22711-318">VMs IaaS da camada Básica</span><span class="sxs-lookup"><span data-stu-id="22711-318">Basic tier IaaS VMs</span></span>

-   <span data-ttu-id="22711-319">Como desabilitar a criptografia em unidades do sistema operacional para VMs IaaS do Linux</span><span class="sxs-lookup"><span data-stu-id="22711-319">Disabling encryption on an OS drive for Linux IaaS VMs</span></span>

-   <span data-ttu-id="22711-320">VMs de IaaS que são criadas usando o método de criação de VM clássico</span><span class="sxs-lookup"><span data-stu-id="22711-320">IaaS VMs that are created by using the classic VM creation method</span></span>

-   <span data-ttu-id="22711-321">Integração com o Serviço de Gerenciamento de Chaves no local</span><span class="sxs-lookup"><span data-stu-id="22711-321">Integration with your on-premises Key Management Service</span></span>

-   <span data-ttu-id="22711-322">Arquivos do Azure (sistema de arquivos compartilhados), NFS (Network File System), volumes dinâmicos e VMs do Windows configuradas com Sistemas RAID baseados em software</span><span class="sxs-lookup"><span data-stu-id="22711-322">Azure Files (shared file system), Network File System (NFS), dynamic volumes, and Windows VMs that are configured with software-based RAID systems</span></span>

## <a name="sql-azure-database-isolation"></a><span data-ttu-id="22711-323">Isolamento do Banco de Dados SQL Azure</span><span class="sxs-lookup"><span data-stu-id="22711-323">SQL Azure Database Isolation</span></span>
<span data-ttu-id="22711-324">O Banco de Dados SQL é um serviço de banco de dados relacional de nuvem da Microsoft com base no mecanismo líder de mercado do Microsoft SQL Server e é capaz de lidar com cargas de trabalho críticas.</span><span class="sxs-lookup"><span data-stu-id="22711-324">SQL Database is a relational database service in the Microsoft cloud based on the market-leading Microsoft SQL Server engine and capable of handling mission-critical workloads.</span></span> <span data-ttu-id="22711-325">O Banco de Dados SQL oferece isolamento previsível de dados no nível da conta, com base na geografia/região e na rede, tudo com administração quase zero.</span><span class="sxs-lookup"><span data-stu-id="22711-325">SQL Database offers predictable data isolation at account level, geography / region based and based on networking— all with near-zero administration.</span></span>

### <a name="sql-azure-application-model"></a><span data-ttu-id="22711-326">Modelo de aplicativo do SQL Azure</span><span class="sxs-lookup"><span data-stu-id="22711-326">SQL Azure Application Model</span></span>

<span data-ttu-id="22711-327">[O Banco de Dados SQL do Azure](https://docs.microsoft.com/azure/sql-database/sql-database-get-started) é um serviço de banco de dados relacional baseado em nuvem compilado com tecnologias do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="22711-327">[Microsoft SQL Azure](https://docs.microsoft.com/azure/sql-database/sql-database-get-started) Database is a cloud-based relational database service built on SQL Server technologies.</span></span> <span data-ttu-id="22711-328">Ele fornece um serviço de banco de dados multilocatário altamente disponível e escalonável hospedado pela Microsoft na nuvem.</span><span class="sxs-lookup"><span data-stu-id="22711-328">It provides a highly available, scalable, multi-tenant database service hosted by Microsoft in cloud.</span></span>

<span data-ttu-id="22711-329">Da perspectiva do aplicativo, o SQL Azure fornece a seguinte hierarquia: cada nível tem de um a vários confinamentos de níveis abaixo.</span><span class="sxs-lookup"><span data-stu-id="22711-329">From an application perspective SQL Azure provides the following hierarchy: Each level has one-to-many containment of levels below.</span></span>

![Modelo de aplicativo do SQL Azure](./media/azure-isolation/azure-isolation-fig10.png)

<span data-ttu-id="22711-331">A conta e a assinatura são conceitos de plataforma do Microsoft Azure para associar a cobrança e o gerenciamento.</span><span class="sxs-lookup"><span data-stu-id="22711-331">The account and subscription are Microsoft Azure platform concepts to associate billing and management.</span></span>

<span data-ttu-id="22711-332">Servidores e bancos de dados lógicos são conceitos específicos do SQL Azure e são gerenciados usando o SQL Azure, pelas interfaces do OData e do TSQL ou por meio do Portal do SQL Azure, que é integrado ao Portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="22711-332">Logical servers and databases are SQL Azure-specific concepts and are managed by using SQL Azure, provided OData and TSQL interfaces or via SQL Azure portal that integrated into Azure portal.</span></span>

<span data-ttu-id="22711-333">Os servidores do SQL Azure não são instâncias físicas ou de VM, em vez disso, são coleções de bancos de dados que compartilham políticas de gerenciamento e segurança, armazenadas no chamado banco de dados de "mestre lógico".</span><span class="sxs-lookup"><span data-stu-id="22711-333">SQL Azure servers are not physical or VM instances, instead they are collections of databases, sharing management and security policies, which are stored in so called “logical master” database.</span></span>

![SQL Azure](./media/azure-isolation/azure-isolation-fig11.png)

<span data-ttu-id="22711-335">Os bancos de dados mestres lógicos incluem:</span><span class="sxs-lookup"><span data-stu-id="22711-335">Logical master databases include:</span></span>

-   <span data-ttu-id="22711-336">Logons do SQL usados para se conectar ao servidor</span><span class="sxs-lookup"><span data-stu-id="22711-336">SQL logins used to connect to the server</span></span>

-   <span data-ttu-id="22711-337">Regras de firewall</span><span class="sxs-lookup"><span data-stu-id="22711-337">Firewall rules</span></span>

<span data-ttu-id="22711-338">Não há garantia de que as informações relacionadas à cobrança e ao uso para Bancos de Dados SQL do Azure do mesmo servidor lógico estejam na mesma instância física em cluster do SQL Azure, em vez disso, os aplicativos devem fornecer o nome do banco de dados de destino durante a conexão.</span><span class="sxs-lookup"><span data-stu-id="22711-338">Billing and usage-related information for SQL Azure databases from the same logical server are not guaranteed to be on the same physical instance in SQL Azure cluster, instead applications must provide the target database name when connecting.</span></span>

<span data-ttu-id="22711-339">Da perspectiva do cliente, um servidor lógico é criado em uma região geográfica enquanto a criação real do servidor ocorre em um dos clusters na região.</span><span class="sxs-lookup"><span data-stu-id="22711-339">From a customer perspective, a logical server is created in a geo-graphical region while the actual creation of the server happens in one of the clusters in the region.</span></span>

### <a name="isolation-through-network-topology"></a><span data-ttu-id="22711-340">Isolamento por meio da topologia de rede</span><span class="sxs-lookup"><span data-stu-id="22711-340">Isolation through Network Topology</span></span>

<span data-ttu-id="22711-341">Quando um servidor lógico é criado e seu nome DNS é registrado, o nome DNS aponta para o chamado endereço do "Gateway VIP" no data center específico onde o servidor foi posicionado.</span><span class="sxs-lookup"><span data-stu-id="22711-341">When a logical server is created and its DNS name is registered, the DNS name points to the so called “Gateway VIP” address in the specific data center where the server was placed.</span></span>

<span data-ttu-id="22711-342">Por trás do VIP (Endereço IP virtual), temos uma coleção de serviços de gateway sem estado.</span><span class="sxs-lookup"><span data-stu-id="22711-342">Behind the VIP (virtual IP address), we have a collection of stateless gateway services.</span></span> <span data-ttu-id="22711-343">Em geral, os gateways são envolvidos quando há a necessidade de coordenação entre várias fontes de dados (banco de dados mestre, banco de dados do usuário etc.).</span><span class="sxs-lookup"><span data-stu-id="22711-343">In general, gateways get involved when there is coordination needed between multiple data sources (master database, user database, etc.).</span></span> <span data-ttu-id="22711-344">Os serviços de gateway implementam o seguinte:</span><span class="sxs-lookup"><span data-stu-id="22711-344">Gateway services implement the following:</span></span>
-   <span data-ttu-id="22711-345">**Proxy de conexão de TDS.**</span><span class="sxs-lookup"><span data-stu-id="22711-345">**TDS connection proxying.**</span></span> <span data-ttu-id="22711-346">Isso inclui localizar o banco de dados de usuário no cluster de back-end, implementar a sequência de logon e encaminhar pacotes de TDS para o back-end e de volta.</span><span class="sxs-lookup"><span data-stu-id="22711-346">This includes locating user database in the backend cluster, implementing the login sequence and then forwarding the TDS packets to the backend and back.</span></span>

-   <span data-ttu-id="22711-347">**Gerenciamento do banco de dados.**</span><span class="sxs-lookup"><span data-stu-id="22711-347">**Database management.**</span></span> <span data-ttu-id="22711-348">Isso inclui a implementação de uma coleção de fluxos de trabalho para executar operações de banco de dados CREATE/ALTER/DROP.</span><span class="sxs-lookup"><span data-stu-id="22711-348">This includes implementing a collection of workflows to do CREATE/ALTER/DROP database operations.</span></span> <span data-ttu-id="22711-349">As operações de banco de dados podem ser invocadas por meio do rastreamento de pacotes de TDS ou por APIs do OData explícitas.</span><span class="sxs-lookup"><span data-stu-id="22711-349">The database operations can be invoked by either sniffing TDS packets or explicit OData APIs.</span></span>

-   <span data-ttu-id="22711-350">Operações de logon/usuário CREATE/ALTER/DROP</span><span class="sxs-lookup"><span data-stu-id="22711-350">CREATE/ALTER/DROP login/user operations</span></span>

-   <span data-ttu-id="22711-351">Operações de gerenciamento de servidor lógico por meio da API do OData</span><span class="sxs-lookup"><span data-stu-id="22711-351">Logical server management operations via OData API</span></span>

![Isolamento por meio da topologia de rede](./media/azure-isolation/azure-isolation-fig12.png)

<span data-ttu-id="22711-353">A camada por trás dos gateways é chamada de "back-end".</span><span class="sxs-lookup"><span data-stu-id="22711-353">The tier behind the gateways is called “back-end”.</span></span> <span data-ttu-id="22711-354">É nela onde todos os dados são armazenados em um modo altamente disponível.</span><span class="sxs-lookup"><span data-stu-id="22711-354">This is where all the data is stored in a highly available fashion.</span></span> <span data-ttu-id="22711-355">Cada parte dos dados deve pertencer a uma "partição" ou "unidade de failover", com pelo menos três réplicas cada um.</span><span class="sxs-lookup"><span data-stu-id="22711-355">Each piece of data is said to belong to a “partition” or “failover unit”, each of them having at least three replicas.</span></span> <span data-ttu-id="22711-356">As réplicas são armazenadas e replicadas pelo mecanismo do SQL Server e gerenciadas por um sistema de failover, muitas vezes chamado de "malha".</span><span class="sxs-lookup"><span data-stu-id="22711-356">Replicas are stored and replicated by SQL Server engine and managed by a failover system often referred to as “fabric”.</span></span>

<span data-ttu-id="22711-357">Em geral, o sistema de back-end não se comunica, de saída, com outros sistemas como uma precaução de segurança.</span><span class="sxs-lookup"><span data-stu-id="22711-357">Generally, the back-end system does not communicate outbound to other systems as a security precaution.</span></span> <span data-ttu-id="22711-358">Isso é reservado aos sistemas na camada front-end (gateway).</span><span class="sxs-lookup"><span data-stu-id="22711-358">This is reserved to the systems in the front-end (gateway) tier.</span></span> <span data-ttu-id="22711-359">As máquinas da camada do gateway têm privilégios limitados nos computadores back-end para minimizar a superfície de ataque como um mecanismo de defesa avançada.</span><span class="sxs-lookup"><span data-stu-id="22711-359">The gateway tier machines have limited privileges on the back-end machines to minimize the attack surface as a defense-in-depth mechanism.</span></span>

### <a name="isolation-by-machine-function-and-access"></a><span data-ttu-id="22711-360">Isolamento por função e acesso do computador</span><span class="sxs-lookup"><span data-stu-id="22711-360">Isolation by Machine Function and Access</span></span>
<span data-ttu-id="22711-361">O SQL Azure é composto por serviços em execução nas funções de máquina diferentes.</span><span class="sxs-lookup"><span data-stu-id="22711-361">SQL Azure (is composed of services running on different machine functions.</span></span> <span data-ttu-id="22711-362">O SQL Azure é dividido em Banco de dados de nuvem "back-end" e ambientes "front-end" (Gateway/Gerenciamento), com o princípio geral de tráfego somente entrando no back-end e não saindo. O ambiente front-end pode se comunicar com o mundo exterior de outros serviços e, em geral, tem apenas permissões limitadas no back-end (suficiente para chamar os pontos de entrada que ele precisa chamar).</span><span class="sxs-lookup"><span data-stu-id="22711-362">SQL Azure is divided into “backend” Cloud Database and “front-end” (Gateway/Management) environments, with the general principle of traffic only going into back-end and not out. The front-end environment can communicate to the outside world of other services and in general, has only limited permissions in the back-end (enough to call the entry points it needs to invoke).</span></span>

## <a name="networking-isolation"></a><span data-ttu-id="22711-363">Isolamento de rede</span><span class="sxs-lookup"><span data-stu-id="22711-363">Networking Isolation</span></span>
<span data-ttu-id="22711-364">A implantação do Azure têm vários níveis de isolamento de rede.</span><span class="sxs-lookup"><span data-stu-id="22711-364">Azure deployment has multiple layers of network isolation.</span></span> <span data-ttu-id="22711-365">O diagrama a seguir mostra várias camadas de isolamento de rede que o Azure fornece aos clientes.</span><span class="sxs-lookup"><span data-stu-id="22711-365">The following diagram shows various layers of network isolation Azure provides to customers.</span></span> <span data-ttu-id="22711-366">Essas camadas são tanto nativas na plataforma Azure em si quanto recursos definidos pelo cliente.</span><span class="sxs-lookup"><span data-stu-id="22711-366">These layers are both native in the Azure platform itself and customer-defined features.</span></span> <span data-ttu-id="22711-367">Proveniente da Internet, o DDoS do Azure fornece isolamento contra ataques em grande escala contra o Azure.</span><span class="sxs-lookup"><span data-stu-id="22711-367">Inbound from the Internet, Azure DDoS provides isolation against large-scale attacks against Azure.</span></span> <span data-ttu-id="22711-368">A próxima camada de isolamento é de endereços IP públicos definidos pelo cliente (pontos de extremidade), que são usados para determinar qual tráfego pode passar pelo serviço de nuvem para a rede virtual.</span><span class="sxs-lookup"><span data-stu-id="22711-368">The next layer of isolation is customer-defined public IP addresses (endpoints), which are used to determine which traffic can pass through the cloud service to the virtual network.</span></span> <span data-ttu-id="22711-369">O isolamento de rede virtual Nativa do Azure garante o isolamento completo de todas as outras redes e garante que o tráfego flua somente através de métodos e caminhos configurados pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="22711-369">Native Azure virtual network isolation ensures complete isolation from all other networks, and that traffic only flows through user configured paths and methods.</span></span> <span data-ttu-id="22711-370">Esses caminhos e métodos são a próxima camada em que NSGs, UDR e soluções de virtualização de rede podem ser usados para criar limites de isolamento para proteger as implantações de aplicativo na rede protegida.</span><span class="sxs-lookup"><span data-stu-id="22711-370">These paths and methods are the next layer, where NSGs, UDR, and network virtual appliances can be used to create isolation boundaries to protect the application deployments in the protected network.</span></span>

![Isolamento de rede](./media/azure-isolation/azure-isolation-fig13.png)

<span data-ttu-id="22711-372">**Isolamento de tráfego**: uma [rede virtual](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview) é o limite de isolamento de tráfego na plataforma Azure.</span><span class="sxs-lookup"><span data-stu-id="22711-372">**Traffic isolation:** A [virtual network](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview) is the traffic isolation boundary on the Azure platform.</span></span> <span data-ttu-id="22711-373">As VMs (máquinas virtuais) em uma rede virtual não podem comunicar-se diretamente com VMs em uma rede virtual diferente, mesmo que ambas as redes virtuais sejam criadas pelo mesmo cliente.</span><span class="sxs-lookup"><span data-stu-id="22711-373">Virtual machines (VMs) in one virtual network cannot communicate directly to VMs in a different virtual network, even if both virtual networks are created by the same customer.</span></span> <span data-ttu-id="22711-374">Isolamento é uma propriedade vital que garante que as VMs e as comunicações do cliente permaneçam privadas em uma rede virtual.</span><span class="sxs-lookup"><span data-stu-id="22711-374">Isolation is a critical property that ensures customer VMs and communication remains private within a virtual network.</span></span>

<span data-ttu-id="22711-375">[Subrede](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview#subnets) oferece uma camada adicional de isolamento na rede virtual com base no intervalo de IPs.</span><span class="sxs-lookup"><span data-stu-id="22711-375">[Subnet](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview#subnets) offers an additional layer of isolation with in virtual network based on IP range.</span></span> <span data-ttu-id="22711-376">Os endereços IP na rede virtual. Você pode dividir uma rede virtual em várias sub-redes para organização e segurança.</span><span class="sxs-lookup"><span data-stu-id="22711-376">IP addresses in the virtual network, you can divide a virtual network into multiple subnets for organization and security.</span></span> <span data-ttu-id="22711-377">As VMs e as instâncias de função de PaaS implantadas em sub-redes (iguais ou diferentes) em uma Rede Virtual podem se comunicar entre si sem nenhuma configuração adicional.</span><span class="sxs-lookup"><span data-stu-id="22711-377">VMs and PaaS role instances deployed to subnets (same or different) within a VNet can communicate with each other without any extra configuration.</span></span> <span data-ttu-id="22711-378">Você também pode configurar os [NSGs (Grupos de segurança de rede)](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview#network-security-groups-nsg) para permitir ou negar o tráfego de rede para uma instância de VM com base em regras configuradas na lista de controle de acesso (ACL) do NSG.</span><span class="sxs-lookup"><span data-stu-id="22711-378">You can also configure [network security group (NSGs)](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview#network-security-groups-nsg) to allow or deny network traffic to a VM instance based on rules configured in access control list (ACL) of NSG.</span></span> <span data-ttu-id="22711-379">Os NSGs podem ser associados a sub-redes ou instâncias de VM individuais dentro dessa sub-rede.</span><span class="sxs-lookup"><span data-stu-id="22711-379">NSGs can be associated with either subnets or individual VM instances within that subnet.</span></span> <span data-ttu-id="22711-380">Quando um NSG é associado a uma sub-rede, as regras de ACL se aplicam a todas as instâncias de VM na sub-rede.</span><span class="sxs-lookup"><span data-stu-id="22711-380">When an NSG is associated with a subnet, the ACL rules apply to all the VM instances in that subnet.</span></span>

## <a name="next-steps"></a><span data-ttu-id="22711-381">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="22711-381">Next Steps</span></span>

- [<span data-ttu-id="22711-382">Opções de isolamento de rede para computadores em redes virtuais do Windows Azure</span><span class="sxs-lookup"><span data-stu-id="22711-382">Network Isolation Options for Machines in Windows Azure Virtual Networks</span></span>](https://azure.microsoft.com/blog/network-isolation-options-for-machines-in-windows-azure-virtual-networks/)

<span data-ttu-id="22711-383">Isso inclui o cenário clássico de front-end e back-end no qual as máquinas em uma rede, ou sub-rede, de back-end específica podem permitir que apenas determinados clientes ou outros computadores se conectem a um determinado ponto de extremidade com base em uma lista de permissão de endereços IP.</span><span class="sxs-lookup"><span data-stu-id="22711-383">This includes the classic front-end and back-end scenario where machines in a particular back-end network or subnetwork may only allow certain clients or other computers to connect to a particular endpoint based on a whitelist of IP addresses.</span></span>

- [<span data-ttu-id="22711-384">Isolamento de computação</span><span class="sxs-lookup"><span data-stu-id="22711-384">Compute Isolation</span></span>](https://msenterprise.global.ssl.fastly.net/vnext/PDFs/A01_AzureSecurityWhitepaper20160415c.pdf)

<span data-ttu-id="22711-385">O Microsoft Azure fornece vários serviços de computação baseados em nuvem que incluem uma ampla seleção de instâncias e serviços de computação, os quais podem ser escalados verticalmente de forma automática para atender às necessidades de seu aplicativo ou empresa.</span><span class="sxs-lookup"><span data-stu-id="22711-385">Microsoft Azure provides a various cloud-based computing services that include a wide selection of compute instances & services that can scale up and down automatically to meet the needs of your application or enterprise.</span></span>

- [<span data-ttu-id="22711-386">Isolamento de armazenamento</span><span class="sxs-lookup"><span data-stu-id="22711-386">Storage Isolation</span></span>](https://msenterprise.global.ssl.fastly.net/vnext/PDFs/A01_AzureSecurityWhitepaper20160415c.pdf)

<span data-ttu-id="22711-387">O Microsoft Azure separa a computação baseada em VM do cliente do armazenamento.</span><span class="sxs-lookup"><span data-stu-id="22711-387">Microsoft Azure separates customer VM-based computation from storage.</span></span> <span data-ttu-id="22711-388">Essa separação permite que a computação e o armazenamento sejam escalados de maneira independente, facilitando o fornecimento do isolamento e da multilocação.</span><span class="sxs-lookup"><span data-stu-id="22711-388">This separation enables computation and storage to scale independently, making it easier to provide multi-tenancy and isolation.</span></span> <span data-ttu-id="22711-389">Portanto, o Armazenamento do Azure é executado em um hardware separado sem conectividade de rede com a Computação do Azure, exceto logicamente.</span><span class="sxs-lookup"><span data-stu-id="22711-389">Therefore, Azure Storage runs on separate hardware with no network connectivity to Azure Compute except logically.</span></span> <span data-ttu-id="22711-390">Todas as solicitações são executadas via HTTP ou HTTPS com base na escolha do cliente.</span><span class="sxs-lookup"><span data-stu-id="22711-390">All requests run over HTTP or HTTPS based on customer’s choice.</span></span>

