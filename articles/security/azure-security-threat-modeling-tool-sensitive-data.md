---
title: Dados confidenciais - Microsoft Threat Modeling Tool - Azure | Microsoft Docs
description: "atenuações de ameaças expostas na Ferramenta de Modelagem de Ameaças"
services: security
documentationcenter: na
author: RodSan
manager: RodSan
editor: RodSan
ms.assetid: na
ms.service: security
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: rodsan
ms.openlocfilehash: 21d1ba02052862e16ef27ec313d53cd0bffcc21a
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/29/2017
---
# <a name="security-frame-sensitive-data--mitigations"></a><span data-ttu-id="6a895-103">Estrutura de segurança: Dados confidenciais | Atenuações</span><span class="sxs-lookup"><span data-stu-id="6a895-103">Security Frame: Sensitive Data | Mitigations</span></span> 
| <span data-ttu-id="6a895-104">Produto/serviço</span><span class="sxs-lookup"><span data-stu-id="6a895-104">Product/Service</span></span> | <span data-ttu-id="6a895-105">Artigo</span><span class="sxs-lookup"><span data-stu-id="6a895-105">Article</span></span> |
| --------------- | ------- |
| <span data-ttu-id="6a895-106">**Limite de confiança de computador**</span><span class="sxs-lookup"><span data-stu-id="6a895-106">**Machine Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="6a895-107">Garantir que os binários sejam obscurecidos se contiverem informações confidenciais</span><span class="sxs-lookup"><span data-stu-id="6a895-107">Ensure that binaries are obfuscated if they contain sensitive information</span></span>](#binaries-info)</li><li>[<span data-ttu-id="6a895-108">Considerar a utilização do sistema de arquivos criptografados (EFS) para proteger dados confidenciais específicos dos usuários</span><span class="sxs-lookup"><span data-stu-id="6a895-108">Consider using Encrypted File System (EFS) is used to protect confidential user-specific data</span></span>](#efs-user)</li><li>[<span data-ttu-id="6a895-109">Garantir que os dados confidenciais armazenados pelo aplicativo no sistema de arquivos sejam criptografados</span><span class="sxs-lookup"><span data-stu-id="6a895-109">Ensure that sensitive data stored by the application on the file system is encrypted</span></span>](#filesystem)</li></ul> | 
| <span data-ttu-id="6a895-110">**Aplicativo Web**</span><span class="sxs-lookup"><span data-stu-id="6a895-110">**Web Application**</span></span> | <ul><li>[<span data-ttu-id="6a895-111">Garantir que conteúdos confidenciais não sejam armazenados em cache no navegador</span><span class="sxs-lookup"><span data-stu-id="6a895-111">Ensure that sensitive content is not cached on the browser</span></span>](#cache-browser)</li><li>[<span data-ttu-id="6a895-112">Criptografar as seções dos arquivos de configuração do aplicativo Web que contêm dados confidenciais</span><span class="sxs-lookup"><span data-stu-id="6a895-112">Encrypt sections of Web App's configuration files that contain sensitive data</span></span>](#encrypt-data)</li><li>[<span data-ttu-id="6a895-113">Desabilitar explicitamente o atributo HTML de preenchimento automático em formulários e entradas com informações confidenciais</span><span class="sxs-lookup"><span data-stu-id="6a895-113">Explicitly disable the autocomplete HTML attribute in sensitive forms and inputs</span></span>](#autocomplete-input)</li><li>[<span data-ttu-id="6a895-114">Garantir que os dados confidenciais exibidos na tela do usuário sejam mascarados</span><span class="sxs-lookup"><span data-stu-id="6a895-114">Ensure that sensitive data displayed on the user screen is masked</span></span>](#data-mask)</li></ul> | 
| <span data-ttu-id="6a895-115">**Banco de dados**</span><span class="sxs-lookup"><span data-stu-id="6a895-115">**Database**</span></span> | <ul><li>[<span data-ttu-id="6a895-116">Implementar a máscara de dados dinâmicos para evitar a exposição de dados confidenciais a usuários sem privilégios</span><span class="sxs-lookup"><span data-stu-id="6a895-116">Implement dynamic data masking to limit sensitive data exposure non privileged users</span></span>](#dynamic-users)</li><li>[<span data-ttu-id="6a895-117">Garantir que as senhas sejam armazenadas em um formato hash salgado</span><span class="sxs-lookup"><span data-stu-id="6a895-117">Ensure that passwords are stored in salted hash format</span></span>](#salted-hash)</li><li>[<span data-ttu-id="6a895-118">Garantir que os dados confidenciais nas colunas do banco de dados sejam criptografados</span><span class="sxs-lookup"><span data-stu-id="6a895-118"> Ensure that sensitive data in database columns is encrypted</span></span>](#db-encrypted)</li><li>[<span data-ttu-id="6a895-119">Garantir que a criptografia no nível do banco de dados (TDE) esteja habilitada</span><span class="sxs-lookup"><span data-stu-id="6a895-119">Ensure that database-level encryption (TDE) is enabled</span></span>](#tde-enabled)</li><li>[<span data-ttu-id="6a895-120">Garantir que os backups de banco de dados estejam criptografados</span><span class="sxs-lookup"><span data-stu-id="6a895-120">Ensure that database backups are encrypted</span></span>](#backup)</li></ul> | 
| <span data-ttu-id="6a895-121">**API da Web**</span><span class="sxs-lookup"><span data-stu-id="6a895-121">**Web API**</span></span> | <ul><li>[<span data-ttu-id="6a895-122">Garantir que os dados confidenciais relevantes para a API Web não sejam salvos no armazenamento do navegador</span><span class="sxs-lookup"><span data-stu-id="6a895-122">Ensure that sensitive data relevant to Web API is not stored in browser's storage</span></span>](#api-browser)</li></ul> | 
| <span data-ttu-id="6a895-123">Azure Document DB</span><span class="sxs-lookup"><span data-stu-id="6a895-123">Azure Document DB</span></span> | <ul><li>[<span data-ttu-id="6a895-124">Criptografar os dados confidenciais armazenados no DocumentDB</span><span class="sxs-lookup"><span data-stu-id="6a895-124">Encrypt sensitive data stored in DocumentDB</span></span>](#encrypt-docdb)</li></ul> | 
| <span data-ttu-id="6a895-125">**Limite de confiança da VM da IaaS do Azure**</span><span class="sxs-lookup"><span data-stu-id="6a895-125">**Azure IaaS VM Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="6a895-126">Usar o Azure Disk Encryption para criptografar os discos utilizados por máquinas virtuais</span><span class="sxs-lookup"><span data-stu-id="6a895-126">Use Azure Disk Encryption to encrypt disks used by Virtual Machines</span></span>](#disk-vm)</li></ul> | 
| <span data-ttu-id="6a895-127">**Limite de confiança do Service Fabric**</span><span class="sxs-lookup"><span data-stu-id="6a895-127">**Service Fabric Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="6a895-128">Criptografar segredos nos aplicativos do Service Fabric</span><span class="sxs-lookup"><span data-stu-id="6a895-128">Encrypt secrets in Service Fabric applications</span></span>](#fabric-apps)</li></ul> | 
| <span data-ttu-id="6a895-129">**Dynamics CRM**</span><span class="sxs-lookup"><span data-stu-id="6a895-129">**Dynamics CRM**</span></span> | <ul><li>[<span data-ttu-id="6a895-130">Executar a modelagem de segurança e usar unidades de negócios/equipes onde for necessário</span><span class="sxs-lookup"><span data-stu-id="6a895-130">Perform security modeling and use Business Units/Teams where required</span></span>](#modeling-teams)</li><li>[<span data-ttu-id="6a895-131">Minimizar o acesso ao compartilhamento de recursos em entidades críticas</span><span class="sxs-lookup"><span data-stu-id="6a895-131">Minimize access to share feature on critical entities</span></span>](#entities)</li><li>[<span data-ttu-id="6a895-132">Instruir os usuários sobre os riscos associados ao recurso de compartilhamento do Dynamics CRM e as práticas recomendadas de segurança</span><span class="sxs-lookup"><span data-stu-id="6a895-132">Train users on the risks associated with the Dynamics CRM Share feature and good security practices</span></span>](#good-practices)</li><li>[<span data-ttu-id="6a895-133">Incluir uma regra de padrões de desenvolvimento que impeça a exibição dos detalhes de configuração do gerenciamento de exceções</span><span class="sxs-lookup"><span data-stu-id="6a895-133">Include a development standards rule proscribing showing config details in exception management</span></span>](#exception-mgmt)</li></ul> | 
| <span data-ttu-id="6a895-134">**Armazenamento do Azure**</span><span class="sxs-lookup"><span data-stu-id="6a895-134">**Azure Storage**</span></span> | <ul><li>[<span data-ttu-id="6a895-135">Usar o Azure Storage Service Encryption (SSE) para dados em repouso (visualização)</span><span class="sxs-lookup"><span data-stu-id="6a895-135">Use Azure Storage Service Encryption (SSE) for Data at Rest (Preview)</span></span>](#sse-preview)</li><li>[<span data-ttu-id="6a895-136">Criptografar o cliente para armazenar dados confidenciais no Armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="6a895-136">Use Client-Side Encryption to store sensitive data in Azure Storage</span></span>](#client-storage)</li></ul> | 
| <span data-ttu-id="6a895-137">**Cliente móvel**</span><span class="sxs-lookup"><span data-stu-id="6a895-137">**Mobile Client**</span></span> | <ul><li>[<span data-ttu-id="6a895-138">Criptografar os dados confidenciais ou de informações de identificação pessoal (PII) gravados no armazenamento local de telefones</span><span class="sxs-lookup"><span data-stu-id="6a895-138">Encrypt sensitive or PII data written to phones local storage</span></span>](#pii-phones)</li><li>[<span data-ttu-id="6a895-139">Obscurecer os binários gerados antes de distribuir os dispositivos para os usuários finais</span><span class="sxs-lookup"><span data-stu-id="6a895-139">Obfuscate generated binaries before distributing to end users</span></span>](#binaries-end)</li></ul> | 
| <span data-ttu-id="6a895-140">**WCF**</span><span class="sxs-lookup"><span data-stu-id="6a895-140">**WCF**</span></span> | <ul><li>[<span data-ttu-id="6a895-141"> Definir clientCredentialType para o certificado ou o Windows</span><span class="sxs-lookup"><span data-stu-id="6a895-141"> Set clientCredentialType to Certificate or Windows</span></span>](#cert)</li><li>[<span data-ttu-id="6a895-142">O modo de segurança do WCF não está habilitado</span><span class="sxs-lookup"><span data-stu-id="6a895-142">WCF-Security Mode is not enabled</span></span>](#security)</li></ul> | 

## <span data-ttu-id="6a895-143"><a id="binaries-info"></a>Garantir que os binários sejam obscurecidos se contiverem informações confidenciais</span><span class="sxs-lookup"><span data-stu-id="6a895-143"><a id="binaries-info"></a>Ensure that binaries are obfuscated if they contain sensitive information</span></span>

| <span data-ttu-id="6a895-144">Title</span><span class="sxs-lookup"><span data-stu-id="6a895-144">Title</span></span>                   | <span data-ttu-id="6a895-145">Detalhes</span><span class="sxs-lookup"><span data-stu-id="6a895-145">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="6a895-146">**Componente**</span><span class="sxs-lookup"><span data-stu-id="6a895-146">**Component**</span></span>               | <span data-ttu-id="6a895-147">Limite de Confiança de Máquina</span><span class="sxs-lookup"><span data-stu-id="6a895-147">Machine Trust Boundary</span></span> | 
| <span data-ttu-id="6a895-148">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="6a895-148">**SDL Phase**</span></span>               | <span data-ttu-id="6a895-149">Implantação</span><span class="sxs-lookup"><span data-stu-id="6a895-149">Deployment</span></span> |  
| <span data-ttu-id="6a895-150">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="6a895-150">**Applicable Technologies**</span></span> | <span data-ttu-id="6a895-151">Genérico</span><span class="sxs-lookup"><span data-stu-id="6a895-151">Generic</span></span> |
| <span data-ttu-id="6a895-152">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="6a895-152">**Attributes**</span></span>              | <span data-ttu-id="6a895-153">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-153">N/A</span></span>  |
| <span data-ttu-id="6a895-154">**Referências**</span><span class="sxs-lookup"><span data-stu-id="6a895-154">**References**</span></span>              | <span data-ttu-id="6a895-155">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-155">N/A</span></span>  |
| <span data-ttu-id="6a895-156">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="6a895-156">**Steps**</span></span> | <span data-ttu-id="6a895-157">Garanta que os binários sejam obscurecidos se eles contiverem informações confidenciais, como segredos comerciais ou uma lógica de negócios confidenciais que não deve ser revertida.</span><span class="sxs-lookup"><span data-stu-id="6a895-157">Ensure that binaries are obfuscated if they contain sensitive information such as trade secrets, sensitive business logic that should not reversed.</span></span> <span data-ttu-id="6a895-158">O objetivo é impedir a engenharia reversa de assemblies.</span><span class="sxs-lookup"><span data-stu-id="6a895-158">This is to stop reverse engineering of assemblies.</span></span> <span data-ttu-id="6a895-159">Ferramentas como o `CryptoObfuscator` podem ser utilizadas para isso.</span><span class="sxs-lookup"><span data-stu-id="6a895-159">Tools like `CryptoObfuscator` may be used for this purpose.</span></span> |

## <span data-ttu-id="6a895-160"><a id="efs-user"></a>Considerar a utilização do sistema de arquivos criptografados (EFS) para proteger dados confidenciais específicos dos usuários</span><span class="sxs-lookup"><span data-stu-id="6a895-160"><a id="efs-user"></a>Consider using Encrypted File System (EFS) is used to protect confidential user-specific data</span></span>

| <span data-ttu-id="6a895-161">Title</span><span class="sxs-lookup"><span data-stu-id="6a895-161">Title</span></span>                   | <span data-ttu-id="6a895-162">Detalhes</span><span class="sxs-lookup"><span data-stu-id="6a895-162">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="6a895-163">**Componente**</span><span class="sxs-lookup"><span data-stu-id="6a895-163">**Component**</span></span>               | <span data-ttu-id="6a895-164">Limite de Confiança de Máquina</span><span class="sxs-lookup"><span data-stu-id="6a895-164">Machine Trust Boundary</span></span> | 
| <span data-ttu-id="6a895-165">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="6a895-165">**SDL Phase**</span></span>               | <span data-ttu-id="6a895-166">Compilação</span><span class="sxs-lookup"><span data-stu-id="6a895-166">Build</span></span> |  
| <span data-ttu-id="6a895-167">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="6a895-167">**Applicable Technologies**</span></span> | <span data-ttu-id="6a895-168">Genérico</span><span class="sxs-lookup"><span data-stu-id="6a895-168">Generic</span></span> |
| <span data-ttu-id="6a895-169">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="6a895-169">**Attributes**</span></span>              | <span data-ttu-id="6a895-170">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-170">N/A</span></span>  |
| <span data-ttu-id="6a895-171">**Referências**</span><span class="sxs-lookup"><span data-stu-id="6a895-171">**References**</span></span>              | <span data-ttu-id="6a895-172">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-172">N/A</span></span>  |
| <span data-ttu-id="6a895-173">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="6a895-173">**Steps**</span></span> | <span data-ttu-id="6a895-174">Considere utilizar o sistema de arquivos criptografados (EFS) para proteger dados confidenciais específicos dos usuários contra pessoas mal intencionadas que tenham acesso físico ao computador.</span><span class="sxs-lookup"><span data-stu-id="6a895-174">Consider using Encrypted File System (EFS) is used to protect confidential user-specific data from adversaries with physical access to the computer.</span></span> |

## <span data-ttu-id="6a895-175"><a id="filesystem"></a>Garantir que os dados confidenciais armazenados pelo aplicativo no sistema de arquivos sejam criptografados</span><span class="sxs-lookup"><span data-stu-id="6a895-175"><a id="filesystem"></a>Ensure that sensitive data stored by the application on the file system is encrypted</span></span>

| <span data-ttu-id="6a895-176">Title</span><span class="sxs-lookup"><span data-stu-id="6a895-176">Title</span></span>                   | <span data-ttu-id="6a895-177">Detalhes</span><span class="sxs-lookup"><span data-stu-id="6a895-177">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="6a895-178">**Componente**</span><span class="sxs-lookup"><span data-stu-id="6a895-178">**Component**</span></span>               | <span data-ttu-id="6a895-179">Limite de Confiança de Máquina</span><span class="sxs-lookup"><span data-stu-id="6a895-179">Machine Trust Boundary</span></span> | 
| <span data-ttu-id="6a895-180">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="6a895-180">**SDL Phase**</span></span>               | <span data-ttu-id="6a895-181">Implantação</span><span class="sxs-lookup"><span data-stu-id="6a895-181">Deployment</span></span> |  
| <span data-ttu-id="6a895-182">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="6a895-182">**Applicable Technologies**</span></span> | <span data-ttu-id="6a895-183">Genérico</span><span class="sxs-lookup"><span data-stu-id="6a895-183">Generic</span></span> |
| <span data-ttu-id="6a895-184">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="6a895-184">**Attributes**</span></span>              | <span data-ttu-id="6a895-185">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-185">N/A</span></span>  |
| <span data-ttu-id="6a895-186">**Referências**</span><span class="sxs-lookup"><span data-stu-id="6a895-186">**References**</span></span>              | <span data-ttu-id="6a895-187">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-187">N/A</span></span>  |
| <span data-ttu-id="6a895-188">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="6a895-188">**Steps**</span></span> | <span data-ttu-id="6a895-189">Garanta que os dados confidenciais armazenados pelo aplicativo no sistema de arquivos sejam criptografados (usando DPAPI, por exemplo), se o EFS não puder ser aplicado.</span><span class="sxs-lookup"><span data-stu-id="6a895-189">Ensure that sensitive data stored by the application on the file system is encrypted (e.g., using DPAPI), if EFS cannot be enforced</span></span> |

## <span data-ttu-id="6a895-190"><a id="cache-browser"></a>Garantir que conteúdos confidenciais não sejam armazenados em cache no navegador</span><span class="sxs-lookup"><span data-stu-id="6a895-190"><a id="cache-browser"></a>Ensure that sensitive content is not cached on the browser</span></span>

| <span data-ttu-id="6a895-191">Title</span><span class="sxs-lookup"><span data-stu-id="6a895-191">Title</span></span>                   | <span data-ttu-id="6a895-192">Detalhes</span><span class="sxs-lookup"><span data-stu-id="6a895-192">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="6a895-193">**Componente**</span><span class="sxs-lookup"><span data-stu-id="6a895-193">**Component**</span></span>               | <span data-ttu-id="6a895-194">Aplicativo Web</span><span class="sxs-lookup"><span data-stu-id="6a895-194">Web Application</span></span> | 
| <span data-ttu-id="6a895-195">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="6a895-195">**SDL Phase**</span></span>               | <span data-ttu-id="6a895-196">Compilação</span><span class="sxs-lookup"><span data-stu-id="6a895-196">Build</span></span> |  
| <span data-ttu-id="6a895-197">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="6a895-197">**Applicable Technologies**</span></span> | <span data-ttu-id="6a895-198">Genérico, Formulários da Web, MVC5, MVC6</span><span class="sxs-lookup"><span data-stu-id="6a895-198">Generic, Web Forms, MVC5, MVC6</span></span> |
| <span data-ttu-id="6a895-199">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="6a895-199">**Attributes**</span></span>              | <span data-ttu-id="6a895-200">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-200">N/A</span></span>  |
| <span data-ttu-id="6a895-201">**Referências**</span><span class="sxs-lookup"><span data-stu-id="6a895-201">**References**</span></span>              | <span data-ttu-id="6a895-202">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-202">N/A</span></span>  |
| <span data-ttu-id="6a895-203">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="6a895-203">**Steps**</span></span> | <span data-ttu-id="6a895-204">Os navegadores podem armazenar informações em seus caches e históricos.</span><span class="sxs-lookup"><span data-stu-id="6a895-204">Browsers can store information for purposes of caching and history.</span></span> <span data-ttu-id="6a895-205">Esses arquivos armazenados em cache são salvos em uma pasta, como a pasta Arquivos de Internet Temporários no caso do Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="6a895-205">These cached files are stored in a folder, like the Temporary Internet Files folder in the case of Internet Explorer.</span></span> <span data-ttu-id="6a895-206">Quando essas páginas são chamadas novamente, o navegador as exibe por meio do seu cache.</span><span class="sxs-lookup"><span data-stu-id="6a895-206">When these pages are referred again, the browser displays them from its cache.</span></span> <span data-ttu-id="6a895-207">Se essas páginas contiverem informações confidenciais do usuário (como seu endereço, detalhes de cartão de crédito, número do seguro social ou nome de usuário), essas informações poderão ser armazenadas no cache do navegador e, portanto, recuperadas por uma consulta no cache do navegador ou com o pressionamento do botão "Voltar" do navegador.</span><span class="sxs-lookup"><span data-stu-id="6a895-207">If sensitive information is displayed to the user (such as their address, credit card details, Social Security Number, or username), then this information could be stored in browser’s cache, and therefore retrievable through examining the browser's cache or by simply pressing the browser's "Back" button.</span></span> <span data-ttu-id="6a895-208">Defina o valor do cabeçalho de resposta cache-control como “no-store” para todas as páginas.</span><span class="sxs-lookup"><span data-stu-id="6a895-208">Set cache-control response header value to “no-store” for all pages.</span></span> |

### <a name="example"></a><span data-ttu-id="6a895-209">Exemplo</span><span class="sxs-lookup"><span data-stu-id="6a895-209">Example</span></span>
```XML
<configuration>
  <system.webServer>
   <httpProtocol>
    <customHeaders>
        <add name="Cache-Control" value="no-cache" />
        <add name="Pragma" value="no-cache" />
        <add name="Expires" value="-1" />
    </customHeaders>
  </httpProtocol>
 </system.webServer>
</configuration>
```

### <a name="example"></a><span data-ttu-id="6a895-210">Exemplo</span><span class="sxs-lookup"><span data-stu-id="6a895-210">Example</span></span>
<span data-ttu-id="6a895-211">Também é possível fazer isso usando um filtro.</span><span class="sxs-lookup"><span data-stu-id="6a895-211">This may be implemented through a filter.</span></span> <span data-ttu-id="6a895-212">O exemplo abaixo pode ser usado:</span><span class="sxs-lookup"><span data-stu-id="6a895-212">Following example may be used:</span></span> 
```C#
public override void OnActionExecuting(ActionExecutingContext filterContext)
        {
            if (filterContext == null || (filterContext.HttpContext != null && filterContext.HttpContext.Response != null && filterContext.HttpContext.Response.IsRequestBeingRedirected))
            {
                //// Since this is MVC pipeline, this should never be null.
                return;
            }

            var attributes = filterContext.ActionDescriptor.GetCustomAttributes(typeof(System.Web.Mvc.OutputCacheAttribute), false);
            if (attributes == null || **Attributes**.Count() == 0)
            {
                filterContext.HttpContext.Response.Cache.SetNoStore();
                filterContext.HttpContext.Response.Cache.SetCacheability(HttpCacheability.NoCache);
                filterContext.HttpContext.Response.Cache.SetExpires(DateTime.UtcNow.AddHours(-1));
                if (!filterContext.IsChildAction)
                {
                    filterContext.HttpContext.Response.AppendHeader("Pragma", "no-cache");
                }
            }

            base.OnActionExecuting(filterContext);
        }
``` 

## <span data-ttu-id="6a895-213"><a id="encrypt-data"></a>Criptografar as seções dos arquivos de configuração do aplicativo Web que contêm dados confidenciais</span><span class="sxs-lookup"><span data-stu-id="6a895-213"><a id="encrypt-data"></a>Encrypt sections of Web App's configuration files that contain sensitive data</span></span>

| <span data-ttu-id="6a895-214">Title</span><span class="sxs-lookup"><span data-stu-id="6a895-214">Title</span></span>                   | <span data-ttu-id="6a895-215">Detalhes</span><span class="sxs-lookup"><span data-stu-id="6a895-215">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="6a895-216">**Componente**</span><span class="sxs-lookup"><span data-stu-id="6a895-216">**Component**</span></span>               | <span data-ttu-id="6a895-217">Aplicativo Web</span><span class="sxs-lookup"><span data-stu-id="6a895-217">Web Application</span></span> | 
| <span data-ttu-id="6a895-218">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="6a895-218">**SDL Phase**</span></span>               | <span data-ttu-id="6a895-219">Compilação</span><span class="sxs-lookup"><span data-stu-id="6a895-219">Build</span></span> |  
| <span data-ttu-id="6a895-220">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="6a895-220">**Applicable Technologies**</span></span> | <span data-ttu-id="6a895-221">Genérico</span><span class="sxs-lookup"><span data-stu-id="6a895-221">Generic</span></span> |
| <span data-ttu-id="6a895-222">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="6a895-222">**Attributes**</span></span>              | <span data-ttu-id="6a895-223">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-223">N/A</span></span>  |
| <span data-ttu-id="6a895-224">**Referências**</span><span class="sxs-lookup"><span data-stu-id="6a895-224">**References**</span></span>              | <span data-ttu-id="6a895-225">[Como: Criptografar seções de configuração no ASP.NET 2.0 usando DPAPI](https://msdn.microsoft.com/library/ff647398.aspx), [Especificando um provedor de configuração protegida](https://msdn.microsoft.com/library/68ze1hb2.aspx), [Usando o Azure Key Vault para proteger os segredos do aplicativo](https://azure.microsoft.com/documentation/articles/guidance-multitenant-identity-keyvault/)</span><span class="sxs-lookup"><span data-stu-id="6a895-225">[How To: Encrypt Configuration Sections in ASP.NET 2.0 Using DPAPI](https://msdn.microsoft.com/library/ff647398.aspx), [Specifying a Protected Configuration Provider](https://msdn.microsoft.com/library/68ze1hb2.aspx), [Using Azure Key Vault to protect application secrets](https://azure.microsoft.com/documentation/articles/guidance-multitenant-identity-keyvault/)</span></span> |
| <span data-ttu-id="6a895-226">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="6a895-226">**Steps**</span></span> | <span data-ttu-id="6a895-227">Arquivos de configuração, tais como Web. config e appsettings.json geralmente são usados para armazenar informações confidenciais, incluindo nomes de usuários, senhas, cadeias de conexão de banco de dados e chaves de criptografia.</span><span class="sxs-lookup"><span data-stu-id="6a895-227">Configuration files such as the Web.config, appsettings.json are often used to hold sensitive information, including user names, passwords, database connection strings, and encryption keys.</span></span> <span data-ttu-id="6a895-228">Se você não proteger essas informações, o aplicativo ficará vulnerável a usuários mal-intencionados, que podem obter informações sigilosas, como nomes usuários e senhas de contas, nomes de bancos de dados e nomes de servidores.</span><span class="sxs-lookup"><span data-stu-id="6a895-228">If you do not protect this information, your application is vulnerable to attackers or malicious users obtaining sensitive information such as account user names and passwords, database names and server names.</span></span> <span data-ttu-id="6a895-229">Com base no tipo de implantação (no Azure ou local), criptografe as seções confidenciais dos arquivos de configuração usando a DPAPI ou serviços, como o Azure Key Vault.</span><span class="sxs-lookup"><span data-stu-id="6a895-229">Based on the deployment type (azure/on-prem), encrypt the sensitive sections of config files using DPAPI or services like Azure Key Vault.</span></span> |

## <span data-ttu-id="6a895-230"><a id="autocomplete-input"></a>Desabilitar explicitamente o atributo HTML de preenchimento automático em formulários e entradas com informações confidenciais</span><span class="sxs-lookup"><span data-stu-id="6a895-230"><a id="autocomplete-input"></a>Explicitly disable the autocomplete HTML attribute in sensitive forms and inputs</span></span>

| <span data-ttu-id="6a895-231">Title</span><span class="sxs-lookup"><span data-stu-id="6a895-231">Title</span></span>                   | <span data-ttu-id="6a895-232">Detalhes</span><span class="sxs-lookup"><span data-stu-id="6a895-232">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="6a895-233">**Componente**</span><span class="sxs-lookup"><span data-stu-id="6a895-233">**Component**</span></span>               | <span data-ttu-id="6a895-234">Aplicativo Web</span><span class="sxs-lookup"><span data-stu-id="6a895-234">Web Application</span></span> | 
| <span data-ttu-id="6a895-235">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="6a895-235">**SDL Phase**</span></span>               | <span data-ttu-id="6a895-236">Compilação</span><span class="sxs-lookup"><span data-stu-id="6a895-236">Build</span></span> |  
| <span data-ttu-id="6a895-237">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="6a895-237">**Applicable Technologies**</span></span> | <span data-ttu-id="6a895-238">Genérico</span><span class="sxs-lookup"><span data-stu-id="6a895-238">Generic</span></span> |
| <span data-ttu-id="6a895-239">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="6a895-239">**Attributes**</span></span>              | <span data-ttu-id="6a895-240">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-240">N/A</span></span>  |
| <span data-ttu-id="6a895-241">**Referências**</span><span class="sxs-lookup"><span data-stu-id="6a895-241">**References**</span></span>              | <span data-ttu-id="6a895-242">[MSDN: o atributo de preenchimento automático](http://msdn.microsoft.com/library/ms533486(VS.85).aspx), [Usando o preenchimento automático com HTML](http://msdn.microsoft.com/library/ms533032.aspx), [Vulnerabilidade de limpeza de HTML](http://technet.microsoft.com/security/bulletin/MS10-071), [Preencher automaticamente de novo?](http://blog.mindedsecurity.com/2011/10/autocompleteagain.html)</span><span class="sxs-lookup"><span data-stu-id="6a895-242">[MSDN: autocomplete attribute](http://msdn.microsoft.com/library/ms533486(VS.85).aspx), [Using AutoComplete in HTML](http://msdn.microsoft.com/library/ms533032.aspx), [HTML Sanitization Vulnerability](http://technet.microsoft.com/security/bulletin/MS10-071), [Autocomplete.,again?!](http://blog.mindedsecurity.com/2011/10/autocompleteagain.html)</span></span> |
| <span data-ttu-id="6a895-243">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="6a895-243">**Steps**</span></span> | <span data-ttu-id="6a895-244">O atributo de preenchimento automático especifica se o preenchimento automático estará ativado ou desativado em um formulário.</span><span class="sxs-lookup"><span data-stu-id="6a895-244">The autocomplete attribute specifies whether a form should have autocomplete on or off.</span></span> <span data-ttu-id="6a895-245">Quando o preenchimento automático está ativado, o navegador preenche automaticamente o formulário com os valores inseridos pelo usuário em uma ocasião anterior.</span><span class="sxs-lookup"><span data-stu-id="6a895-245">When autocomplete is on, the browser automatically complete values based on values that the user has entered before.</span></span> <span data-ttu-id="6a895-246">Por exemplo, quando um novo nome de usuário e senha são inseridos em um formulário e o formulário é enviado, o navegador pergunta se a senha deve ser salva. Da próxima vez que o formulário for exibido, o nome de usuário e a senha serão preenchidos automaticamente ou quando o nome de usuário for digitado.</span><span class="sxs-lookup"><span data-stu-id="6a895-246">For example, when a new name and password is entered in a form and the form is submitted, the browser asks if the password should be saved.Thereafter when the form is displayed, the name and password are filled in automatically or are completed as the name is entered.</span></span> <span data-ttu-id="6a895-247">Um invasor com acesso local poderia obter o texto não criptografado da senha pelo cache do navegador.</span><span class="sxs-lookup"><span data-stu-id="6a895-247">An attacker with local access could obtain the clear text password from the browser cache.</span></span> <span data-ttu-id="6a895-248">Por padrão, o preenchimento automático está habilitado e deve ser desabilitado explicitamente.</span><span class="sxs-lookup"><span data-stu-id="6a895-248">By default autocomplete is enabled, and it must explicitly be disabled.</span></span> |

### <a name="example"></a><span data-ttu-id="6a895-249">Exemplo</span><span class="sxs-lookup"><span data-stu-id="6a895-249">Example</span></span>
```C#
<form action="Login.aspx" method="post " autocomplete="off" >
      Social Security Number: <input type="text" name="ssn" />
      <input type="submit" value="Submit" />    
</form>
```

## <span data-ttu-id="6a895-250"><a id="data-mask"></a>Garantir que os dados confidenciais exibidos na tela do usuário sejam mascarados</span><span class="sxs-lookup"><span data-stu-id="6a895-250"><a id="data-mask"></a>Ensure that sensitive data displayed on the user screen is masked</span></span>

| <span data-ttu-id="6a895-251">Title</span><span class="sxs-lookup"><span data-stu-id="6a895-251">Title</span></span>                   | <span data-ttu-id="6a895-252">Detalhes</span><span class="sxs-lookup"><span data-stu-id="6a895-252">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="6a895-253">**Componente**</span><span class="sxs-lookup"><span data-stu-id="6a895-253">**Component**</span></span>               | <span data-ttu-id="6a895-254">Aplicativo Web</span><span class="sxs-lookup"><span data-stu-id="6a895-254">Web Application</span></span> | 
| <span data-ttu-id="6a895-255">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="6a895-255">**SDL Phase**</span></span>               | <span data-ttu-id="6a895-256">Compilação</span><span class="sxs-lookup"><span data-stu-id="6a895-256">Build</span></span> |  
| <span data-ttu-id="6a895-257">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="6a895-257">**Applicable Technologies**</span></span> | <span data-ttu-id="6a895-258">Genérico</span><span class="sxs-lookup"><span data-stu-id="6a895-258">Generic</span></span> |
| <span data-ttu-id="6a895-259">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="6a895-259">**Attributes**</span></span>              | <span data-ttu-id="6a895-260">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-260">N/A</span></span>  |
| <span data-ttu-id="6a895-261">**Referências**</span><span class="sxs-lookup"><span data-stu-id="6a895-261">**References**</span></span>              | <span data-ttu-id="6a895-262">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-262">N/A</span></span>  |
| <span data-ttu-id="6a895-263">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="6a895-263">**Steps**</span></span> | <span data-ttu-id="6a895-264">Dados confidenciais, como senhas, números de cartão de crédito, CPF, etc., devem ser mascarados quando forem exibidos na tela.</span><span class="sxs-lookup"><span data-stu-id="6a895-264">Sensitive data such as passwords, credit card numbers, SSN etc. should be masked when displayed on the screen.</span></span> <span data-ttu-id="6a895-265">Isso impede que pessoas não autorizadas tenham acesso a esses dados (evitando, por exemplo, que senhas sejam visualizadas por terceiros e que o pessoal do suporte veja o CPF dos usuários).</span><span class="sxs-lookup"><span data-stu-id="6a895-265">This is to prevent unauthorized personnel from accessing the data (e.g., shoulder-surfing passwords, support personnel viewing SSN numbers of users) .</span></span> <span data-ttu-id="6a895-266">Garanta que esses elementos de dados não estejam visíveis em texto sem formatação e sejam mascarados adequadamente.</span><span class="sxs-lookup"><span data-stu-id="6a895-266">Ensure that these data elements are not visible in plain text and are appropriately masked.</span></span> <span data-ttu-id="6a895-267">Você deve fazer isso quando aceitá-los como entradas (por exemplo,</span><span class="sxs-lookup"><span data-stu-id="6a895-267">This has to be taken care while accepting them as input (e.g,.</span></span> <span data-ttu-id="6a895-268">digitando type= "password") e quando eles forem novamente exibidos na tela (por exemplo, exibir apenas os últimos quatro dígitos do número do cartão de crédito).</span><span class="sxs-lookup"><span data-stu-id="6a895-268">input type="password") as well as displaying back on the screen (e.g., display only the last 4 digits of the credit card number).</span></span> |

## <span data-ttu-id="6a895-269"><a id="dynamic-users"></a>Implementar a máscara de dados dinâmicos para evitar a exposição de dados confidenciais a usuários sem privilégios</span><span class="sxs-lookup"><span data-stu-id="6a895-269"><a id="dynamic-users"></a>Implement dynamic data masking to limit sensitive data exposure non privileged users</span></span>

| <span data-ttu-id="6a895-270">Title</span><span class="sxs-lookup"><span data-stu-id="6a895-270">Title</span></span>                   | <span data-ttu-id="6a895-271">Detalhes</span><span class="sxs-lookup"><span data-stu-id="6a895-271">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="6a895-272">**Componente**</span><span class="sxs-lookup"><span data-stu-id="6a895-272">**Component**</span></span>               | <span data-ttu-id="6a895-273">Banco de dados</span><span class="sxs-lookup"><span data-stu-id="6a895-273">Database</span></span> | 
| <span data-ttu-id="6a895-274">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="6a895-274">**SDL Phase**</span></span>               | <span data-ttu-id="6a895-275">Compilação</span><span class="sxs-lookup"><span data-stu-id="6a895-275">Build</span></span> |  
| <span data-ttu-id="6a895-276">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="6a895-276">**Applicable Technologies**</span></span> | <span data-ttu-id="6a895-277">SQL Azure, OnPrem</span><span class="sxs-lookup"><span data-stu-id="6a895-277">Sql Azure, OnPrem</span></span> |
| <span data-ttu-id="6a895-278">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="6a895-278">**Attributes**</span></span>              | <span data-ttu-id="6a895-279">Versão do SQL - V12, Versão do SQL - MsSQL2016</span><span class="sxs-lookup"><span data-stu-id="6a895-279">SQL Version - V12, SQL Version - MsSQL2016</span></span> |
| <span data-ttu-id="6a895-280">**Referências**</span><span class="sxs-lookup"><span data-stu-id="6a895-280">**References**</span></span>              | [<span data-ttu-id="6a895-281">Mascaramento de dados dinâmicos</span><span class="sxs-lookup"><span data-stu-id="6a895-281">Dynamic Data Masking</span></span>](https://msdn.microsoft.com/library/mt130841) |
| <span data-ttu-id="6a895-282">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="6a895-282">**Steps**</span></span> | <span data-ttu-id="6a895-283">A finalidade do mascaramento de dados dinâmicos é limitar a exposição de dados confidenciais, evitando que usuários não autorizados tenham acesso a eles.</span><span class="sxs-lookup"><span data-stu-id="6a895-283">The purpose of dynamic data masking is to limit exposure of sensitive data, preventing users who should not have access to the data from viewing it.</span></span> <span data-ttu-id="6a895-284">O mascaramento de dados dinâmicos não impede que usuários de banco de dados se conectem diretamente ao banco de dados e executem consultas detalhadas que expõem partes dos dados confidenciais.</span><span class="sxs-lookup"><span data-stu-id="6a895-284">Dynamic data masking does not aim to prevent database users from connecting directly to the database and running exhaustive queries that expose pieces of the sensitive data.</span></span> <span data-ttu-id="6a895-285">Ele é complementar aos outros recursos de segurança do SQL Server (auditoria, criptografia, segurança no nível da linha, etc.). É extremamente recomendável usar o mascaramento de dados dinâmicos junto com outros recursos para melhor proteger ainda mais os dados confidenciais presentes no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="6a895-285">Dynamic data masking is complementary to other SQL Server security features (auditing, encryption, row level security…) and it is highly recommended to use this feature in conjunction with them in addition in order to better protect the sensitive data in the database.</span></span> <span data-ttu-id="6a895-286">Observe que esse recurso tem suporte apenas a partir do SQL Server 2016 e do Banco de Dados SQL do Azure.</span><span class="sxs-lookup"><span data-stu-id="6a895-286">Please note that this feature is supported only by SQL Server starting with 2016 and Azure SQL Database.</span></span> |

## <span data-ttu-id="6a895-287"><a id="salted-hash"></a>Garantir que as senhas sejam armazenadas em um formato hash salgado</span><span class="sxs-lookup"><span data-stu-id="6a895-287"><a id="salted-hash"></a>Ensure that passwords are stored in salted hash format</span></span>

| <span data-ttu-id="6a895-288">Title</span><span class="sxs-lookup"><span data-stu-id="6a895-288">Title</span></span>                   | <span data-ttu-id="6a895-289">Detalhes</span><span class="sxs-lookup"><span data-stu-id="6a895-289">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="6a895-290">**Componente**</span><span class="sxs-lookup"><span data-stu-id="6a895-290">**Component**</span></span>               | <span data-ttu-id="6a895-291">Banco de dados</span><span class="sxs-lookup"><span data-stu-id="6a895-291">Database</span></span> | 
| <span data-ttu-id="6a895-292">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="6a895-292">**SDL Phase**</span></span>               | <span data-ttu-id="6a895-293">Compilação</span><span class="sxs-lookup"><span data-stu-id="6a895-293">Build</span></span> |  
| <span data-ttu-id="6a895-294">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="6a895-294">**Applicable Technologies**</span></span> | <span data-ttu-id="6a895-295">Genérico</span><span class="sxs-lookup"><span data-stu-id="6a895-295">Generic</span></span> |
| <span data-ttu-id="6a895-296">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="6a895-296">**Attributes**</span></span>              | <span data-ttu-id="6a895-297">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-297">N/A</span></span>  |
| <span data-ttu-id="6a895-298">**Referências**</span><span class="sxs-lookup"><span data-stu-id="6a895-298">**References**</span></span>              | [<span data-ttu-id="6a895-299">Hash de senha usando APIs de criptografia do .NET</span><span class="sxs-lookup"><span data-stu-id="6a895-299">Password Hashing using .NET Crypto APIs</span></span>](http://docs.asp.net/en/latest/security/data-protection/consumer-apis/password-hashing.html) |
| <span data-ttu-id="6a895-300">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="6a895-300">**Steps**</span></span> | <span data-ttu-id="6a895-301">As senhas não devem ser armazenadas em bancos de dados de repositório de usuários personalizados.</span><span class="sxs-lookup"><span data-stu-id="6a895-301">Passwords should not be stored in custom user store databases.</span></span> <span data-ttu-id="6a895-302">Os hashes de senha devem ser armazenados com valores de sal em vez disso.</span><span class="sxs-lookup"><span data-stu-id="6a895-302">Password hashes should be stored with salt values instead.</span></span> <span data-ttu-id="6a895-303">Garanta que o valor de sal do usuário seja sempre exclusivo e que você aplique b-crypt, s-crypt ou PBKDF2 antes de armazenar a senha, com uma iteração de fator de trabalho mínima de 150.000 loops para eliminar a possibilidade de forçamento bruto.</span><span class="sxs-lookup"><span data-stu-id="6a895-303">Make sure the salt for the user is always unique and you apply b-crypt, s-crypt or PBKDF2 before storing the password, with a minimum work factor iteration count of 150,000 loops to eliminate the possibility of brute forcing.</span></span>| 

## <span data-ttu-id="6a895-304"><a id="db-encrypted"></a>Garantir que os dados confidenciais nas colunas do banco de dados sejam criptografados</span><span class="sxs-lookup"><span data-stu-id="6a895-304"><a id="db-encrypted"></a>Ensure that sensitive data in database columns is encrypted</span></span>

| <span data-ttu-id="6a895-305">Title</span><span class="sxs-lookup"><span data-stu-id="6a895-305">Title</span></span>                   | <span data-ttu-id="6a895-306">Detalhes</span><span class="sxs-lookup"><span data-stu-id="6a895-306">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="6a895-307">**Componente**</span><span class="sxs-lookup"><span data-stu-id="6a895-307">**Component**</span></span>               | <span data-ttu-id="6a895-308">Banco de dados</span><span class="sxs-lookup"><span data-stu-id="6a895-308">Database</span></span> | 
| <span data-ttu-id="6a895-309">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="6a895-309">**SDL Phase**</span></span>               | <span data-ttu-id="6a895-310">Compilação</span><span class="sxs-lookup"><span data-stu-id="6a895-310">Build</span></span> |  
| <span data-ttu-id="6a895-311">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="6a895-311">**Applicable Technologies**</span></span> | <span data-ttu-id="6a895-312">Genérico</span><span class="sxs-lookup"><span data-stu-id="6a895-312">Generic</span></span> |
| <span data-ttu-id="6a895-313">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="6a895-313">**Attributes**</span></span>              | <span data-ttu-id="6a895-314">Versão do SQL - Todas</span><span class="sxs-lookup"><span data-stu-id="6a895-314">SQL Version - All</span></span> |
| <span data-ttu-id="6a895-315">**Referências**</span><span class="sxs-lookup"><span data-stu-id="6a895-315">**References**</span></span>              | <span data-ttu-id="6a895-316">[Criptografando dados confidenciais no SQL Server](https://technet.microsoft.com/library/ff848751(v=sql.105).aspx), [Como: criptografar uma coluna de dados no SQL Server](https://msdn.microsoft.com/library/ms179331), [Criptografar por certificado](https://msdn.microsoft.com/library/ms188061)</span><span class="sxs-lookup"><span data-stu-id="6a895-316">[Encrypting sensitive data in SQL server](https://technet.microsoft.com/library/ff848751(v=sql.105).aspx), [How to: Encrypt a Column of Data in SQL Server](https://msdn.microsoft.com/library/ms179331), [Encrypt by Certificate](https://msdn.microsoft.com/library/ms188061)</span></span> |
| <span data-ttu-id="6a895-317">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="6a895-317">**Steps**</span></span> | <span data-ttu-id="6a895-318">Dados confidenciais, como números de cartão de crédito, devem ser criptografados no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="6a895-318">Sensitive data such as credit card numbers has to be encrypted in the database.</span></span> <span data-ttu-id="6a895-319">Isso pode ser feito usando a criptografia no nível da coluna ou uma função de aplicativo que utilize as funções de criptografia.</span><span class="sxs-lookup"><span data-stu-id="6a895-319">Data can be encrypted using column-level encryption or by an application function using the encryption functions.</span></span> |

## <span data-ttu-id="6a895-320"><a id="tde-enabled"></a>Garantir que a criptografia no nível do banco de dados (TDE) esteja habilitada</span><span class="sxs-lookup"><span data-stu-id="6a895-320"><a id="tde-enabled"></a>Ensure that database-level encryption (TDE) is enabled</span></span>

| <span data-ttu-id="6a895-321">Title</span><span class="sxs-lookup"><span data-stu-id="6a895-321">Title</span></span>                   | <span data-ttu-id="6a895-322">Detalhes</span><span class="sxs-lookup"><span data-stu-id="6a895-322">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="6a895-323">**Componente**</span><span class="sxs-lookup"><span data-stu-id="6a895-323">**Component**</span></span>               | <span data-ttu-id="6a895-324">Banco de dados</span><span class="sxs-lookup"><span data-stu-id="6a895-324">Database</span></span> | 
| <span data-ttu-id="6a895-325">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="6a895-325">**SDL Phase**</span></span>               | <span data-ttu-id="6a895-326">Compilação</span><span class="sxs-lookup"><span data-stu-id="6a895-326">Build</span></span> |  
| <span data-ttu-id="6a895-327">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="6a895-327">**Applicable Technologies**</span></span> | <span data-ttu-id="6a895-328">Genérico</span><span class="sxs-lookup"><span data-stu-id="6a895-328">Generic</span></span> |
| <span data-ttu-id="6a895-329">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="6a895-329">**Attributes**</span></span>              | <span data-ttu-id="6a895-330">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-330">N/A</span></span>  |
| <span data-ttu-id="6a895-331">**Referências**</span><span class="sxs-lookup"><span data-stu-id="6a895-331">**References**</span></span>              | <span data-ttu-id="6a895-332">[Noções básicas sobre a TDE (Transparent Data Encryption) do SQL Server](https://technet.microsoft.com/library/bb934049(v=sql.105).aspx)</span><span class="sxs-lookup"><span data-stu-id="6a895-332">[Understanding SQL Server Transparent Data Encryption (TDE)](https://technet.microsoft.com/library/bb934049(v=sql.105).aspx)</span></span> |
| <span data-ttu-id="6a895-333">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="6a895-333">**Steps**</span></span> | <span data-ttu-id="6a895-334">O recurso Transparent Data Encryption do SQL Server ajuda a criptografar dados confidenciais em um banco de dados e protege as chaves usadas para criptografar os dados com um certificado.</span><span class="sxs-lookup"><span data-stu-id="6a895-334">Transparent Data Encryption (TDE) feature in SQL server helps in encrypting sensitive data in a database and protect the keys that are used to encrypt the data with a certificate.</span></span> <span data-ttu-id="6a895-335">Isso impede que alguém sem as chaves use os dados.</span><span class="sxs-lookup"><span data-stu-id="6a895-335">This prevents anyone without the keys from using the data.</span></span> <span data-ttu-id="6a895-336">A TDE protege os dados “em repouso”, como os arquivos de log e de dados.</span><span class="sxs-lookup"><span data-stu-id="6a895-336">TDE protects data "at rest", meaning the data and log files.</span></span> <span data-ttu-id="6a895-337">Ele fornece a capacidade de cumprir muitas leis, regulamentações e diretrizes estabelecidas em vários setores.</span><span class="sxs-lookup"><span data-stu-id="6a895-337">It provides the ability to comply with many laws, regulations, and guidelines established in various industries.</span></span> |

## <span data-ttu-id="6a895-338"><a id="backup"></a>Garantir que os backups de banco de dados estejam criptografados</span><span class="sxs-lookup"><span data-stu-id="6a895-338"><a id="backup"></a>Ensure that database backups are encrypted</span></span>

| <span data-ttu-id="6a895-339">Title</span><span class="sxs-lookup"><span data-stu-id="6a895-339">Title</span></span>                   | <span data-ttu-id="6a895-340">Detalhes</span><span class="sxs-lookup"><span data-stu-id="6a895-340">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="6a895-341">**Componente**</span><span class="sxs-lookup"><span data-stu-id="6a895-341">**Component**</span></span>               | <span data-ttu-id="6a895-342">Banco de dados</span><span class="sxs-lookup"><span data-stu-id="6a895-342">Database</span></span> | 
| <span data-ttu-id="6a895-343">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="6a895-343">**SDL Phase**</span></span>               | <span data-ttu-id="6a895-344">Compilação</span><span class="sxs-lookup"><span data-stu-id="6a895-344">Build</span></span> |  
| <span data-ttu-id="6a895-345">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="6a895-345">**Applicable Technologies**</span></span> | <span data-ttu-id="6a895-346">SQL Azure, OnPrem</span><span class="sxs-lookup"><span data-stu-id="6a895-346">SQL Azure, OnPrem</span></span> |
| <span data-ttu-id="6a895-347">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="6a895-347">**Attributes**</span></span>              | <span data-ttu-id="6a895-348">Versão do SQL - V12, Versão do SQL - MsSQL2014</span><span class="sxs-lookup"><span data-stu-id="6a895-348">SQL Version - V12, SQL Version - MsSQL2014</span></span> |
| <span data-ttu-id="6a895-349">**Referências**</span><span class="sxs-lookup"><span data-stu-id="6a895-349">**References**</span></span>              | [<span data-ttu-id="6a895-350">Criptografia do backup do banco de dados SQL</span><span class="sxs-lookup"><span data-stu-id="6a895-350">SQL database backup encryption</span></span>](https://msdn.microsoft.com/library/dn449489) |
| <span data-ttu-id="6a895-351">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="6a895-351">**Steps**</span></span> | <span data-ttu-id="6a895-352">O SQL Server tem a capacidade de criptografar os dados durante a criação de um backup.</span><span class="sxs-lookup"><span data-stu-id="6a895-352">SQL Server has the ability to encrypt the data while creating a backup.</span></span> <span data-ttu-id="6a895-353">Especificar o algoritmo de criptografia e o criptografador (um certificado ou uma chave assimétrica) durante a criação de um backup permite criar um arquivo de backup criptografado.</span><span class="sxs-lookup"><span data-stu-id="6a895-353">By specifying the encryption algorithm and the encryptor (a Certificate or Asymmetric Key) when creating a backup, one can create an encrypted backup file.</span></span> |

## <span data-ttu-id="6a895-354"><a id="api-browser"></a>Garantir que os dados confidenciais relevantes para a API Web não sejam salvos no armazenamento do navegador</span><span class="sxs-lookup"><span data-stu-id="6a895-354"><a id="api-browser"></a>Ensure that sensitive data relevant to Web API is not stored in browser's storage</span></span>

| <span data-ttu-id="6a895-355">Title</span><span class="sxs-lookup"><span data-stu-id="6a895-355">Title</span></span>                   | <span data-ttu-id="6a895-356">Detalhes</span><span class="sxs-lookup"><span data-stu-id="6a895-356">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="6a895-357">**Componente**</span><span class="sxs-lookup"><span data-stu-id="6a895-357">**Component**</span></span>               | <span data-ttu-id="6a895-358">API Web</span><span class="sxs-lookup"><span data-stu-id="6a895-358">Web API</span></span> | 
| <span data-ttu-id="6a895-359">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="6a895-359">**SDL Phase**</span></span>               | <span data-ttu-id="6a895-360">Compilação</span><span class="sxs-lookup"><span data-stu-id="6a895-360">Build</span></span> |  
| <span data-ttu-id="6a895-361">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="6a895-361">**Applicable Technologies**</span></span> | <span data-ttu-id="6a895-362">MVC 5, MVC 6</span><span class="sxs-lookup"><span data-stu-id="6a895-362">MVC 5, MVC 6</span></span> |
| <span data-ttu-id="6a895-363">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="6a895-363">**Attributes**</span></span>              | <span data-ttu-id="6a895-364">Provedor de Identidade - ADFS, Provedor de Identidade - Azure AD</span><span class="sxs-lookup"><span data-stu-id="6a895-364">Identity Provider - ADFS, Identity Provider - Azure AD</span></span> |
| <span data-ttu-id="6a895-365">**Referências**</span><span class="sxs-lookup"><span data-stu-id="6a895-365">**References**</span></span>              | <span data-ttu-id="6a895-366">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-366">N/A</span></span>  |
| <span data-ttu-id="6a895-367">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="6a895-367">**Steps**</span></span> | <p><span data-ttu-id="6a895-368">Em determinadas implementações, os artefatos confidenciais relevantes para a autenticação da API Web são salvos no armazenamento local do navegador.</span><span class="sxs-lookup"><span data-stu-id="6a895-368">In certain implementations, sensitive artifacts relevant to Web API's authentication are stored in browser's local storage.</span></span> <span data-ttu-id="6a895-369">Por exemplo, os artefatos de autenticação do Azure AD, como adal.idtoken, adal.nonce.idtoken, adal.access.token.key, adal.token.keys, adal.state.login, adal.session.state, adal.expiration.key etc.</span><span class="sxs-lookup"><span data-stu-id="6a895-369">E.g., Azure AD authentication artifacts like adal.idtoken, adal.nonce.idtoken, adal.access.token.key, adal.token.keys, adal.state.login, adal.session.state, adal.expiration.key etc.</span></span></p><p><span data-ttu-id="6a895-370">Todos esses artefatos estão disponíveis mesmo após sair ou depois que o navegador é fechado.</span><span class="sxs-lookup"><span data-stu-id="6a895-370">All these artifacts are available even after sign out or browser is closed.</span></span> <span data-ttu-id="6a895-371">Se um invasor obtiver acesso a esses artefatos, ele/ela poderá reutilizá-los para acessar os recursos protegidos (APIs).</span><span class="sxs-lookup"><span data-stu-id="6a895-371">If an adversary gets access to these artifacts, he/she can reuse them to access the protected resources (APIs).</span></span> <span data-ttu-id="6a895-372">Garanta que os artefatos confidenciais referentes à API Web não sejam salvos no armazenamento do navegador.</span><span class="sxs-lookup"><span data-stu-id="6a895-372">Ensure that all sensitive artifacts related to Web API is not stored in browser's storage.</span></span> <span data-ttu-id="6a895-373">Quando o armazenamento no cliente for inevitável (como no caso dos aplicativos de página única (SPA), que aproveitam os fluxos do OpenIdConnect/OAuth implícitos e que precisam armazenar os tokens de acesso localmente), use opções de armazenamento sem persistência.</span><span class="sxs-lookup"><span data-stu-id="6a895-373">In cases where client-side storage is unavoidable (e.g., Single Page Applications (SPA) that leverage Implicit OpenIdConnect/OAuth flows need to store access tokens locally), use storage choices with do not have persistence.</span></span> <span data-ttu-id="6a895-374">Por exemplo, prefira SessionStorage a LocalStorage.</span><span class="sxs-lookup"><span data-stu-id="6a895-374">e.g., prefer SessionStorage to LocalStorage.</span></span></p>| 

### <a name="example"></a><span data-ttu-id="6a895-375">Exemplo</span><span class="sxs-lookup"><span data-stu-id="6a895-375">Example</span></span>
<span data-ttu-id="6a895-376">A trecho do JavaScript abaixo pertence a uma biblioteca de autenticação personalizada que salva os artefatos de autenticação no armazenamento local.</span><span class="sxs-lookup"><span data-stu-id="6a895-376">The below JavaScript snippet is from a custom authentication library which stores authentication artifacts in local storage.</span></span> <span data-ttu-id="6a895-377">Implementações desse tipo devem ser evitadas.</span><span class="sxs-lookup"><span data-stu-id="6a895-377">Such implementations should be avoided.</span></span> 
```javascript
ns.AuthHelper.Authenticate = function () {
window.config = {
instance: 'https://login.microsoftonline.com/',
tenant: ns.Configurations.Tenant,
clientId: ns.Configurations.AADApplicationClientID,
postLogoutRedirectUri: window.location.origin,
cacheLocation: 'localStorage', // enable this for IE, as sessionStorage does not work for localhost.
};
```

## <span data-ttu-id="6a895-378"><a id="encrypt-docdb"></a>Criptografar dados confidenciais armazenados no Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="6a895-378"><a id="encrypt-docdb"></a>Encrypt sensitive data stored in Cosmos DB</span></span>

| <span data-ttu-id="6a895-379">Title</span><span class="sxs-lookup"><span data-stu-id="6a895-379">Title</span></span>                   | <span data-ttu-id="6a895-380">Detalhes</span><span class="sxs-lookup"><span data-stu-id="6a895-380">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="6a895-381">**Componente**</span><span class="sxs-lookup"><span data-stu-id="6a895-381">**Component**</span></span>               | <span data-ttu-id="6a895-382">Azure Document DB</span><span class="sxs-lookup"><span data-stu-id="6a895-382">Azure Document DB</span></span> | 
| <span data-ttu-id="6a895-383">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="6a895-383">**SDL Phase**</span></span>               | <span data-ttu-id="6a895-384">Compilação</span><span class="sxs-lookup"><span data-stu-id="6a895-384">Build</span></span> |  
| <span data-ttu-id="6a895-385">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="6a895-385">**Applicable Technologies**</span></span> | <span data-ttu-id="6a895-386">Genérico</span><span class="sxs-lookup"><span data-stu-id="6a895-386">Generic</span></span> |
| <span data-ttu-id="6a895-387">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="6a895-387">**Attributes**</span></span>              | <span data-ttu-id="6a895-388">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-388">N/A</span></span>  |
| <span data-ttu-id="6a895-389">**Referências**</span><span class="sxs-lookup"><span data-stu-id="6a895-389">**References**</span></span>              | <span data-ttu-id="6a895-390">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-390">N/A</span></span>  |
| <span data-ttu-id="6a895-391">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="6a895-391">**Steps**</span></span> | <span data-ttu-id="6a895-392">Criptografe dados confidenciais no nível do aplicativo antes de armazenar em um banco de dados do documento ou de armazenar quaisquer dados confidenciais em outras soluções de armazenamento, como o Armazenamento do Azure ou o SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="6a895-392">Encrypt sensitive data at application level before storing in document DB or store any sensitive data in other storage solutions like Azure Storage or Azure SQL</span></span>| 

## <span data-ttu-id="6a895-393"><a id="disk-vm"></a>Usar o Azure Disk Encryption para criptografar os discos utilizados por máquinas virtuais</span><span class="sxs-lookup"><span data-stu-id="6a895-393"><a id="disk-vm"></a>Use Azure Disk Encryption to encrypt disks used by Virtual Machines</span></span>

| <span data-ttu-id="6a895-394">Title</span><span class="sxs-lookup"><span data-stu-id="6a895-394">Title</span></span>                   | <span data-ttu-id="6a895-395">Detalhes</span><span class="sxs-lookup"><span data-stu-id="6a895-395">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="6a895-396">**Componente**</span><span class="sxs-lookup"><span data-stu-id="6a895-396">**Component**</span></span>               | <span data-ttu-id="6a895-397">Limite de confiança da VM da IaaS do Azure</span><span class="sxs-lookup"><span data-stu-id="6a895-397">Azure IaaS VM Trust Boundary</span></span> | 
| <span data-ttu-id="6a895-398">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="6a895-398">**SDL Phase**</span></span>               | <span data-ttu-id="6a895-399">Implantação</span><span class="sxs-lookup"><span data-stu-id="6a895-399">Deployment</span></span> |  
| <span data-ttu-id="6a895-400">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="6a895-400">**Applicable Technologies**</span></span> | <span data-ttu-id="6a895-401">Genérico</span><span class="sxs-lookup"><span data-stu-id="6a895-401">Generic</span></span> |
| <span data-ttu-id="6a895-402">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="6a895-402">**Attributes**</span></span>              | <span data-ttu-id="6a895-403">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-403">N/A</span></span>  |
| <span data-ttu-id="6a895-404">**Referências**</span><span class="sxs-lookup"><span data-stu-id="6a895-404">**References**</span></span>              | [<span data-ttu-id="6a895-405">Usando o Azure Disk Encryption para criptografar discos usados pelas máquinas virtuais</span><span class="sxs-lookup"><span data-stu-id="6a895-405">Using Azure Disk Encryption to encrypt disks used by your virtual machines</span></span>](https://azure.microsoft.com/documentation/articles/storage-security-guide/#_using-azure-disk-encryption-to-encrypt-disks-used-by-your-virtual-machines) |
| <span data-ttu-id="6a895-406">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="6a895-406">**Steps**</span></span> | <p><span data-ttu-id="6a895-407">O Azure Disk Encryption é um novo recurso que, atualmente, está na versão de visualização.</span><span class="sxs-lookup"><span data-stu-id="6a895-407">Azure Disk Encryption is a new feature that is currently in preview.</span></span> <span data-ttu-id="6a895-408">Esse recurso permite criptografar os discos do sistema operacional e de dados usados por uma Máquina Virtual IaaS.</span><span class="sxs-lookup"><span data-stu-id="6a895-408">This feature allows you to encrypt the OS disks and Data disks used by an IaaS Virtual Machine.</span></span> <span data-ttu-id="6a895-409">No Windows, as unidades são criptografadas usando a tecnologia de criptografia BitLocker padrão do setor.</span><span class="sxs-lookup"><span data-stu-id="6a895-409">For Windows, the drives are encrypted using industry-standard BitLocker encryption technology.</span></span> <span data-ttu-id="6a895-410">No Linux, os discos são criptografados usando a tecnologia DM-Crypt.</span><span class="sxs-lookup"><span data-stu-id="6a895-410">For Linux, the disks are encrypted using the DM-Crypt technology.</span></span> <span data-ttu-id="6a895-411">Esse recurso é integrado ao Cofre de Chaves do Azure para permitir que você controle e gerencie as chaves de criptografia de disco.</span><span class="sxs-lookup"><span data-stu-id="6a895-411">This is integrated with Azure Key Vault to allow you to control and manage the disk encryption keys.</span></span> <span data-ttu-id="6a895-412">A solução Azure Disk Encryption é compatível com os três cenários de criptografia do cliente a seguir:</span><span class="sxs-lookup"><span data-stu-id="6a895-412">The Azure Disk Encryption solution supports the following three customer encryption scenarios:</span></span></p><ul><li><span data-ttu-id="6a895-413">Habilite a criptografia em novas VMs IaaS criadas de arquivos VHD criptografados pelo cliente e chaves de criptografia fornecidas pelo cliente, que são armazenados no Cofre de Chaves do Azure.</span><span class="sxs-lookup"><span data-stu-id="6a895-413">Enable encryption on new IaaS VMs created from customer-encrypted VHD files and customer-provided encryption keys, which are stored in Azure Key Vault.</span></span></li><li><span data-ttu-id="6a895-414">Habilite a criptografia em novas VMs IaaS criadas no Marketplace do Azure.</span><span class="sxs-lookup"><span data-stu-id="6a895-414">Enable encryption on new IaaS VMs created from the Azure Marketplace.</span></span></li><li><span data-ttu-id="6a895-415">Habilite a criptografia em VMs IaaS existentes já em execução no Azure.</span><span class="sxs-lookup"><span data-stu-id="6a895-415">Enable encryption on existing IaaS VMs already running in Azure.</span></span></li></ul>| 

## <span data-ttu-id="6a895-416"><a id="fabric-apps"></a>Criptografar segredos nos aplicativos do Service Fabric</span><span class="sxs-lookup"><span data-stu-id="6a895-416"><a id="fabric-apps"></a>Encrypt secrets in Service Fabric applications</span></span>

| <span data-ttu-id="6a895-417">Title</span><span class="sxs-lookup"><span data-stu-id="6a895-417">Title</span></span>                   | <span data-ttu-id="6a895-418">Detalhes</span><span class="sxs-lookup"><span data-stu-id="6a895-418">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="6a895-419">**Componente**</span><span class="sxs-lookup"><span data-stu-id="6a895-419">**Component**</span></span>               | <span data-ttu-id="6a895-420">Limite de confiança do Service Fabric</span><span class="sxs-lookup"><span data-stu-id="6a895-420">Service Fabric Trust Boundary</span></span> | 
| <span data-ttu-id="6a895-421">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="6a895-421">**SDL Phase**</span></span>               | <span data-ttu-id="6a895-422">Compilação</span><span class="sxs-lookup"><span data-stu-id="6a895-422">Build</span></span> |  
| <span data-ttu-id="6a895-423">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="6a895-423">**Applicable Technologies**</span></span> | <span data-ttu-id="6a895-424">Genérico</span><span class="sxs-lookup"><span data-stu-id="6a895-424">Generic</span></span> |
| <span data-ttu-id="6a895-425">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="6a895-425">**Attributes**</span></span>              | <span data-ttu-id="6a895-426">Ambiente - Azure</span><span class="sxs-lookup"><span data-stu-id="6a895-426">Environment - Azure</span></span> |
| <span data-ttu-id="6a895-427">**Referências**</span><span class="sxs-lookup"><span data-stu-id="6a895-427">**References**</span></span>              | [<span data-ttu-id="6a895-428">Gerenciando segredos em aplicativos do Service Fabric</span><span class="sxs-lookup"><span data-stu-id="6a895-428">Managing secrets in Service Fabric applications</span></span>](https://azure.microsoft.com/documentation/articles/service-fabric-application-secret-management/) |
| <span data-ttu-id="6a895-429">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="6a895-429">**Steps**</span></span> | <span data-ttu-id="6a895-430">Os segredos podem ser informações confidenciais, como cadeias de conexão de armazenamento, senhas ou outros valores que não devem ser tratados como texto sem formatação.</span><span class="sxs-lookup"><span data-stu-id="6a895-430">Secrets can be any sensitive information, such as storage connection strings, passwords, or other values that should not be handled in plain text.</span></span> <span data-ttu-id="6a895-431">Use o Azure Key Vault para gerenciar chaves e segredos em aplicativos do Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="6a895-431">Use Azure Key Vault to manage keys and secrets in service fabric applications.</span></span> |

## <span data-ttu-id="6a895-432"><a id="modeling-teams"></a>Executar a modelagem de segurança e usar unidades de negócios/equipes onde for necessário</span><span class="sxs-lookup"><span data-stu-id="6a895-432"><a id="modeling-teams"></a>Perform security modeling and use Business Units/Teams where required</span></span>

| <span data-ttu-id="6a895-433">Title</span><span class="sxs-lookup"><span data-stu-id="6a895-433">Title</span></span>                   | <span data-ttu-id="6a895-434">Detalhes</span><span class="sxs-lookup"><span data-stu-id="6a895-434">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="6a895-435">**Componente**</span><span class="sxs-lookup"><span data-stu-id="6a895-435">**Component**</span></span>               | <span data-ttu-id="6a895-436">Dynamics CRM</span><span class="sxs-lookup"><span data-stu-id="6a895-436">Dynamics CRM</span></span> | 
| <span data-ttu-id="6a895-437">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="6a895-437">**SDL Phase**</span></span>               | <span data-ttu-id="6a895-438">Compilação</span><span class="sxs-lookup"><span data-stu-id="6a895-438">Build</span></span> |  
| <span data-ttu-id="6a895-439">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="6a895-439">**Applicable Technologies**</span></span> | <span data-ttu-id="6a895-440">Genérico</span><span class="sxs-lookup"><span data-stu-id="6a895-440">Generic</span></span> |
| <span data-ttu-id="6a895-441">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="6a895-441">**Attributes**</span></span>              | <span data-ttu-id="6a895-442">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-442">N/A</span></span>  |
| <span data-ttu-id="6a895-443">**Referências**</span><span class="sxs-lookup"><span data-stu-id="6a895-443">**References**</span></span>              | <span data-ttu-id="6a895-444">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-444">N/A</span></span>  |
| <span data-ttu-id="6a895-445">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="6a895-445">**Steps**</span></span> | <span data-ttu-id="6a895-446">Execute a modelagem de segurança e use unidades de negócios/equipes onde for necessário.</span><span class="sxs-lookup"><span data-stu-id="6a895-446">Perform security modeling and use Business Units/Teams where required</span></span> |

## <span data-ttu-id="6a895-447"><a id="entities"></a>Minimizar o acesso ao recurso de compartilhamento em entidades críticas</span><span class="sxs-lookup"><span data-stu-id="6a895-447"><a id="entities"></a>Minimize access to share feature on critical entities</span></span>

| <span data-ttu-id="6a895-448">Title</span><span class="sxs-lookup"><span data-stu-id="6a895-448">Title</span></span>                   | <span data-ttu-id="6a895-449">Detalhes</span><span class="sxs-lookup"><span data-stu-id="6a895-449">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="6a895-450">**Componente**</span><span class="sxs-lookup"><span data-stu-id="6a895-450">**Component**</span></span>               | <span data-ttu-id="6a895-451">Dynamics CRM</span><span class="sxs-lookup"><span data-stu-id="6a895-451">Dynamics CRM</span></span> | 
| <span data-ttu-id="6a895-452">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="6a895-452">**SDL Phase**</span></span>               | <span data-ttu-id="6a895-453">Implantação</span><span class="sxs-lookup"><span data-stu-id="6a895-453">Deployment</span></span> |  
| <span data-ttu-id="6a895-454">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="6a895-454">**Applicable Technologies**</span></span> | <span data-ttu-id="6a895-455">Genérico</span><span class="sxs-lookup"><span data-stu-id="6a895-455">Generic</span></span> |
| <span data-ttu-id="6a895-456">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="6a895-456">**Attributes**</span></span>              | <span data-ttu-id="6a895-457">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-457">N/A</span></span>  |
| <span data-ttu-id="6a895-458">**Referências**</span><span class="sxs-lookup"><span data-stu-id="6a895-458">**References**</span></span>              | <span data-ttu-id="6a895-459">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-459">N/A</span></span>  |
| <span data-ttu-id="6a895-460">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="6a895-460">**Steps**</span></span> | <span data-ttu-id="6a895-461">Minimizar o acesso ao recurso de compartilhamento em entidades críticas</span><span class="sxs-lookup"><span data-stu-id="6a895-461">Minimize access to share feature on critical entities</span></span> |

## <span data-ttu-id="6a895-462"><a id="good-practices"></a>Instruir os usuários sobre os riscos associados ao recurso de compartilhamento do Dynamics CRM e as práticas recomendadas de segurança</span><span class="sxs-lookup"><span data-stu-id="6a895-462"><a id="good-practices"></a>Train users on the risks associated with the Dynamics CRM Share feature and good security practices</span></span>

| <span data-ttu-id="6a895-463">Title</span><span class="sxs-lookup"><span data-stu-id="6a895-463">Title</span></span>                   | <span data-ttu-id="6a895-464">Detalhes</span><span class="sxs-lookup"><span data-stu-id="6a895-464">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="6a895-465">**Componente**</span><span class="sxs-lookup"><span data-stu-id="6a895-465">**Component**</span></span>               | <span data-ttu-id="6a895-466">Dynamics CRM</span><span class="sxs-lookup"><span data-stu-id="6a895-466">Dynamics CRM</span></span> | 
| <span data-ttu-id="6a895-467">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="6a895-467">**SDL Phase**</span></span>               | <span data-ttu-id="6a895-468">Implantação</span><span class="sxs-lookup"><span data-stu-id="6a895-468">Deployment</span></span> |  
| <span data-ttu-id="6a895-469">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="6a895-469">**Applicable Technologies**</span></span> | <span data-ttu-id="6a895-470">Genérico</span><span class="sxs-lookup"><span data-stu-id="6a895-470">Generic</span></span> |
| <span data-ttu-id="6a895-471">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="6a895-471">**Attributes**</span></span>              | <span data-ttu-id="6a895-472">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-472">N/A</span></span>  |
| <span data-ttu-id="6a895-473">**Referências**</span><span class="sxs-lookup"><span data-stu-id="6a895-473">**References**</span></span>              | <span data-ttu-id="6a895-474">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-474">N/A</span></span>  |
| <span data-ttu-id="6a895-475">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="6a895-475">**Steps**</span></span> | <span data-ttu-id="6a895-476">Instruir os usuários sobre os riscos associados ao recurso de compartilhamento do Dynamics CRM e as práticas recomendadas de segurança</span><span class="sxs-lookup"><span data-stu-id="6a895-476">Train users on the risks associated with the Dynamics CRM Share feature and good security practices</span></span> |

## <span data-ttu-id="6a895-477"><a id="exception-mgmt"></a>Incluir uma regra de padrões de desenvolvimento que impeça a exibição dos detalhes de configuração do gerenciamento de exceções</span><span class="sxs-lookup"><span data-stu-id="6a895-477"><a id="exception-mgmt"></a>Include a development standards rule proscribing showing config details in exception management</span></span>

| <span data-ttu-id="6a895-478">Title</span><span class="sxs-lookup"><span data-stu-id="6a895-478">Title</span></span>                   | <span data-ttu-id="6a895-479">Detalhes</span><span class="sxs-lookup"><span data-stu-id="6a895-479">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="6a895-480">**Componente**</span><span class="sxs-lookup"><span data-stu-id="6a895-480">**Component**</span></span>               | <span data-ttu-id="6a895-481">Dynamics CRM</span><span class="sxs-lookup"><span data-stu-id="6a895-481">Dynamics CRM</span></span> | 
| <span data-ttu-id="6a895-482">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="6a895-482">**SDL Phase**</span></span>               | <span data-ttu-id="6a895-483">Implantação</span><span class="sxs-lookup"><span data-stu-id="6a895-483">Deployment</span></span> |  
| <span data-ttu-id="6a895-484">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="6a895-484">**Applicable Technologies**</span></span> | <span data-ttu-id="6a895-485">Genérico</span><span class="sxs-lookup"><span data-stu-id="6a895-485">Generic</span></span> |
| <span data-ttu-id="6a895-486">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="6a895-486">**Attributes**</span></span>              | <span data-ttu-id="6a895-487">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-487">N/A</span></span>  |
| <span data-ttu-id="6a895-488">**Referências**</span><span class="sxs-lookup"><span data-stu-id="6a895-488">**References**</span></span>              | <span data-ttu-id="6a895-489">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-489">N/A</span></span>  |
| <span data-ttu-id="6a895-490">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="6a895-490">**Steps**</span></span> | <span data-ttu-id="6a895-491">Inclua uma regra de padrões de desenvolvimento que impeça a exibição dos detalhes de configuração do gerenciamento de exceções.</span><span class="sxs-lookup"><span data-stu-id="6a895-491">Include a development standards rule proscribing showing config details in exception management outside development.</span></span> <span data-ttu-id="6a895-492">Teste isso como parte da inspeção periódica ou das revisões de código.</span><span class="sxs-lookup"><span data-stu-id="6a895-492">Test for this as part of code reviews or periodic inspection.</span></span>|

## <span data-ttu-id="6a895-493"><a id="sse-preview"></a>Usar o Azure Storage Service Encryption (SSE) para dados em repouso (visualização)</span><span class="sxs-lookup"><span data-stu-id="6a895-493"><a id="sse-preview"></a>Use Azure Storage Service Encryption (SSE) for Data at Rest (Preview)</span></span>

| <span data-ttu-id="6a895-494">Title</span><span class="sxs-lookup"><span data-stu-id="6a895-494">Title</span></span>                   | <span data-ttu-id="6a895-495">Detalhes</span><span class="sxs-lookup"><span data-stu-id="6a895-495">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="6a895-496">**Componente**</span><span class="sxs-lookup"><span data-stu-id="6a895-496">**Component**</span></span>               | <span data-ttu-id="6a895-497">Armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="6a895-497">Azure Storage</span></span> | 
| <span data-ttu-id="6a895-498">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="6a895-498">**SDL Phase**</span></span>               | <span data-ttu-id="6a895-499">Compilação</span><span class="sxs-lookup"><span data-stu-id="6a895-499">Build</span></span> |  
| <span data-ttu-id="6a895-500">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="6a895-500">**Applicable Technologies**</span></span> | <span data-ttu-id="6a895-501">Genérico</span><span class="sxs-lookup"><span data-stu-id="6a895-501">Generic</span></span> |
| <span data-ttu-id="6a895-502">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="6a895-502">**Attributes**</span></span>              | <span data-ttu-id="6a895-503">StorageType - Blob</span><span class="sxs-lookup"><span data-stu-id="6a895-503">StorageType - Blob</span></span> |
| <span data-ttu-id="6a895-504">**Referências**</span><span class="sxs-lookup"><span data-stu-id="6a895-504">**References**</span></span>              | [<span data-ttu-id="6a895-505">Criptografia do Serviço de Armazenamento do Azure para dados em repouso (visualização)</span><span class="sxs-lookup"><span data-stu-id="6a895-505">Azure Storage Service Encryption for Data at Rest (Preview)</span></span>](https://azure.microsoft.com/documentation/articles/storage-service-encryption/) |
| <span data-ttu-id="6a895-506">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="6a895-506">**Steps**</span></span> | <p><span data-ttu-id="6a895-507">A SSE (Criptografia do Serviço de Armazenamento) do Azure para dados em repouso ajuda a proteger seus dados a fim de atender aos compromissos de conformidade e segurança da organização.</span><span class="sxs-lookup"><span data-stu-id="6a895-507">Azure Storage Service Encryption (SSE) for Data at Rest helps you protect and safeguard your data to meet your organizational security and compliance commitments.</span></span> <span data-ttu-id="6a895-508">Com esse recurso, o Armazenamento do Azure criptografa automaticamente seus dados antes de persistir no armazenamento e os descriptografa antes da recuperação.</span><span class="sxs-lookup"><span data-stu-id="6a895-508">With this feature, Azure Storage automatically encrypts your data prior to persisting to storage and decrypts prior to retrieval.</span></span> <span data-ttu-id="6a895-509">A criptografia, descriptografia e o gerenciamento de chaves é totalmente transparente para os usuários.</span><span class="sxs-lookup"><span data-stu-id="6a895-509">The encryption, decryption and key management is totally transparent to users.</span></span> <span data-ttu-id="6a895-510">A SSE se aplica somente aos blobs de blocos, aos blobs de páginas e aos blobs de acréscimo.</span><span class="sxs-lookup"><span data-stu-id="6a895-510">SSE applies only to block blobs, page blobs, and append blobs.</span></span> <span data-ttu-id="6a895-511">Os outros tipos de dados, incluindo tabelas, filas e arquivos, não serão criptografados.</span><span class="sxs-lookup"><span data-stu-id="6a895-511">The other types of data, including tables, queues, and files, will not be encrypted.</span></span></p><p><span data-ttu-id="6a895-512">Fluxo de trabalho de criptografia e descriptografia:</span><span class="sxs-lookup"><span data-stu-id="6a895-512">Encryption and Decryption Workflow:</span></span></p><ul><li><span data-ttu-id="6a895-513">O cliente habilita a criptografia na conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="6a895-513">The customer enables encryption on the storage account</span></span></li><li><span data-ttu-id="6a895-514">Quando o cliente grava os novos dados (PUT Blob, PUT Block, PUT Page etc.) no armazenamento de blobs, todas as gravações são criptografadas com a criptografia AES de 256 bits, uma das codificações de bloco mais fortes disponíveis.</span><span class="sxs-lookup"><span data-stu-id="6a895-514">When the customer writes new data (PUT Blob, PUT Block, PUT Page, etc.) to Blob storage; every write is encrypted using 256-bit AES encryption, one of the strongest block ciphers available</span></span></li><li><span data-ttu-id="6a895-515">Quando o cliente precisa acessar os dados (GET Blob etc.), esses dados são descriptografados automaticamente antes de serem retornados para o usuário.</span><span class="sxs-lookup"><span data-stu-id="6a895-515">When the customer needs to access data (GET Blob, etc.), data is automatically decrypted before returning to the user</span></span></li><li><span data-ttu-id="6a895-516">Se a criptografia estiver desabilitada, as novas gravações não serão criptografadas, e os dados criptografados existentes permanecerão criptografados até que sejam regravados pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="6a895-516">If encryption is disabled, new writes are no longer encrypted and existing encrypted data remains encrypted until rewritten by the user.</span></span> <span data-ttu-id="6a895-517">Enquanto a criptografia estiver habilitada, as gravações no Armazenamento de Blobs serão criptografadas.</span><span class="sxs-lookup"><span data-stu-id="6a895-517">While encryption is enabled, writes to Blob storage will be encrypted.</span></span> <span data-ttu-id="6a895-518">O estado dos dados não muda quando o usuário habilita/desabilita a criptografia na conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="6a895-518">The state of data does not change with the user toggling between enabling/disabling encryption for the storage account</span></span></li><li><span data-ttu-id="6a895-519">Todas as chaves de criptografia são armazenadas, criptografadas e gerenciadas pela Microsoft.</span><span class="sxs-lookup"><span data-stu-id="6a895-519">All encryption keys are stored, encrypted, and managed by Microsoft</span></span></li></ul><p><span data-ttu-id="6a895-520">No momento, as chaves usadas para criptografia são gerenciadas pela Microsoft.</span><span class="sxs-lookup"><span data-stu-id="6a895-520">Please note that at this time, the keys used for the encryption are managed by Microsoft.</span></span> <span data-ttu-id="6a895-521">Podemos gerar as chaves originalmente e gerenciar o armazenamento seguro delas, bem como sua rotatividade regular, conforme definido pela política interna da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="6a895-521">Microsoft generates the keys originally, and manage the secure storage of the keys as well as the regular rotation as defined by internal Microsoft policy.</span></span> <span data-ttu-id="6a895-522">No futuro, os usuários poderão gerenciar suas próprias chaves de criptografia e fornecer um caminho de migração de chaves gerenciadas pela Microsoft para as chaves gerenciadas pelos usuários.</span><span class="sxs-lookup"><span data-stu-id="6a895-522">In the future, customers will get the ability to manage their own >encryption keys, and provide a migration path from Microsoft-managed keys to customer-managed keys.</span></span></p>| 

## <span data-ttu-id="6a895-523"><a id="client-storage"></a>Criptografar o cliente para armazenar dados confidenciais no Armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="6a895-523"><a id="client-storage"></a>Use Client-Side Encryption to store sensitive data in Azure Storage</span></span>

| <span data-ttu-id="6a895-524">Title</span><span class="sxs-lookup"><span data-stu-id="6a895-524">Title</span></span>                   | <span data-ttu-id="6a895-525">Detalhes</span><span class="sxs-lookup"><span data-stu-id="6a895-525">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="6a895-526">**Componente**</span><span class="sxs-lookup"><span data-stu-id="6a895-526">**Component**</span></span>               | <span data-ttu-id="6a895-527">Armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="6a895-527">Azure Storage</span></span> | 
| <span data-ttu-id="6a895-528">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="6a895-528">**SDL Phase**</span></span>               | <span data-ttu-id="6a895-529">Compilação</span><span class="sxs-lookup"><span data-stu-id="6a895-529">Build</span></span> |  
| <span data-ttu-id="6a895-530">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="6a895-530">**Applicable Technologies**</span></span> | <span data-ttu-id="6a895-531">Genérico</span><span class="sxs-lookup"><span data-stu-id="6a895-531">Generic</span></span> |
| <span data-ttu-id="6a895-532">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="6a895-532">**Attributes**</span></span>              | <span data-ttu-id="6a895-533">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-533">N/A</span></span>  |
| <span data-ttu-id="6a895-534">**Referências**</span><span class="sxs-lookup"><span data-stu-id="6a895-534">**References**</span></span>              | <span data-ttu-id="6a895-535">[Criptografia no cliente e Azure Key Vault para o Armazenamento do Microsoft Azure](https://azure.microsoft.com/documentation/articles/storage-client-side-encryption/), [Tutorial: criptografar e descriptografar blobs no Armazenamento do Microsoft Azure usando o Azure Key Vault](https://azure.microsoft.com/documentation/articles/storage-encrypt-decrypt-blobs-key-vault/), [Armazenando dados com segurança no Armazenamento de Blobs do Azure com as extensões de criptografia do Azure](https://blogs.msdn.microsoft.com/partnercatalystteam/2015/06/17/storing-data-securely-in-azure-blob-storage-with-azure-encryption-extensions/)</span><span class="sxs-lookup"><span data-stu-id="6a895-535">[Client-Side Encryption and Azure Key Vault for Microsoft Azure Storage](https://azure.microsoft.com/documentation/articles/storage-client-side-encryption/), [Tutorial: Encrypt and decrypt blobs in Microsoft Azure Storage using Azure Key Vault](https://azure.microsoft.com/documentation/articles/storage-encrypt-decrypt-blobs-key-vault/), [Storing Data Securely in Azure Blob Storage with Azure Encryption Extensions](https://blogs.msdn.microsoft.com/partnercatalystteam/2015/06/17/storing-data-securely-in-azure-blob-storage-with-azure-encryption-extensions/)</span></span> |
| <span data-ttu-id="6a895-536">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="6a895-536">**Steps**</span></span> | <p><span data-ttu-id="6a895-537">O pacote Nuget da Biblioteca de Clientes do Armazenamento do Azure para .NET dá suporte à criptografia de dados em aplicativos clientes antes do carregamento para o Armazenamento do Azure e à descriptografia de dados durante o download para o cliente.</span><span class="sxs-lookup"><span data-stu-id="6a895-537">The Azure Storage Client Library for .NET Nuget package supports encrypting data within client applications before uploading to Azure Storage, and decrypting data while downloading to the client.</span></span> <span data-ttu-id="6a895-538">A biblioteca também dá suporte à integração com o Cofre de Chaves do Azure para o gerenciamento de chaves de contas de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="6a895-538">The library also supports integration with Azure Key Vault for storage account key management.</span></span> <span data-ttu-id="6a895-539">Aqui está uma breve descrição de como funciona a criptografia do lado do cliente:</span><span class="sxs-lookup"><span data-stu-id="6a895-539">Here is a brief description of how client side encryption works:</span></span></p><ul><li><span data-ttu-id="6a895-540">O SDK do cliente do Armazenamento do Azure gera uma CEK (chave de criptografia de conteúdo), que é uma chave simétrica de uso único.</span><span class="sxs-lookup"><span data-stu-id="6a895-540">The Azure Storage client SDK generates a content encryption key (CEK), which is a one-time-use symmetric key</span></span></li><li><span data-ttu-id="6a895-541">Os dados do cliente são criptografados com essa CEK</span><span class="sxs-lookup"><span data-stu-id="6a895-541">Customer data is encrypted using this CEK</span></span></li><li><span data-ttu-id="6a895-542">O CEK é empacotada (criptografada) usando o KEK (Chave de Criptografia de Chave).</span><span class="sxs-lookup"><span data-stu-id="6a895-542">The CEK is then wrapped (encrypted) using the key encryption key (KEK).</span></span> <span data-ttu-id="6a895-543">A KEK é identificada por um identificador de chave e pode ser um par de chaves assimétricas ou uma chave simétrica, podendo ser gerenciada localmente ou armazenada no Cofre da Chave do Azure.</span><span class="sxs-lookup"><span data-stu-id="6a895-543">The KEK is identified by a key identifier and can be an asymmetric key pair or a symmetric key and can be managed locally or stored in Azure Key Vault.</span></span> <span data-ttu-id="6a895-544">O cliente de Armazenamento, por si só, nunca tem acesso à KEK.</span><span class="sxs-lookup"><span data-stu-id="6a895-544">The Storage client itself never has access to the KEK.</span></span> <span data-ttu-id="6a895-545">Ele simplesmente chama o algoritmo de quebra de chave fornecido pelo Cofre da Chave.</span><span class="sxs-lookup"><span data-stu-id="6a895-545">It just invokes the key wrapping algorithm that is provided by Key Vault.</span></span> <span data-ttu-id="6a895-546">Os clientes podem escolher usar provedores personalizados para encapsular/desencapsular a chave, se desejado.</span><span class="sxs-lookup"><span data-stu-id="6a895-546">Customers can choose to use custom providers for key wrapping/unwrapping if they want</span></span></li><li><span data-ttu-id="6a895-547">Os dados criptografados, em seguida, são carregados para o serviço de Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="6a895-547">The encrypted data is then uploaded to the Azure Storage service.</span></span> <span data-ttu-id="6a895-548">Consulte os links na seção de referências para obter detalhes sobre a implementação de nível baixo.</span><span class="sxs-lookup"><span data-stu-id="6a895-548">Check the links in the references section for low-level implementation details.</span></span></li></ul>|

## <span data-ttu-id="6a895-549"><a id="pii-phones"></a>Criptografar os dados confidenciais ou de informações de identificação pessoal (PII) gravados no armazenamento local de telefones</span><span class="sxs-lookup"><span data-stu-id="6a895-549"><a id="pii-phones"></a>Encrypt sensitive or PII data written to phones local storage</span></span>

| <span data-ttu-id="6a895-550">Title</span><span class="sxs-lookup"><span data-stu-id="6a895-550">Title</span></span>                   | <span data-ttu-id="6a895-551">Detalhes</span><span class="sxs-lookup"><span data-stu-id="6a895-551">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="6a895-552">**Componente**</span><span class="sxs-lookup"><span data-stu-id="6a895-552">**Component**</span></span>               | <span data-ttu-id="6a895-553">Cliente móvel</span><span class="sxs-lookup"><span data-stu-id="6a895-553">Mobile Client</span></span> | 
| <span data-ttu-id="6a895-554">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="6a895-554">**SDL Phase**</span></span>               | <span data-ttu-id="6a895-555">Compilação</span><span class="sxs-lookup"><span data-stu-id="6a895-555">Build</span></span> |  
| <span data-ttu-id="6a895-556">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="6a895-556">**Applicable Technologies**</span></span> | <span data-ttu-id="6a895-557">Genéricas, Xamarin</span><span class="sxs-lookup"><span data-stu-id="6a895-557">Generic, Xamarin</span></span>  |
| <span data-ttu-id="6a895-558">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="6a895-558">**Attributes**</span></span>              | <span data-ttu-id="6a895-559">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-559">N/A</span></span>  |
| <span data-ttu-id="6a895-560">**Referências**</span><span class="sxs-lookup"><span data-stu-id="6a895-560">**References**</span></span>              | <span data-ttu-id="6a895-561">[Gerenciar configurações e recursos em dispositivos com as políticas do Microsoft Intune](https://docs.microsoft.com/intune/deploy-use/manage-settings-and-features-on-your-devices-with-microsoft-intune-policies#create-a-configuration-policy), [Keychain Valet](https://components.xamarin.com/view/square.valet)</span><span class="sxs-lookup"><span data-stu-id="6a895-561">[Manage settings and features on your devices with Microsoft Intune policies](https://docs.microsoft.com/intune/deploy-use/manage-settings-and-features-on-your-devices-with-microsoft-intune-policies#create-a-configuration-policy), [Keychain Valet](https://components.xamarin.com/view/square.valet)</span></span> |
| <span data-ttu-id="6a895-562">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="6a895-562">**Steps**</span></span> | <p><span data-ttu-id="6a895-563">Se o aplicativo gravar informações confidenciais, como informações de identificação pessoal do usuário (email, número de telefone, nome, sobrenome, preferências etc.), no sistema de arquivos do dispositivo móvel, ele precisará ser criptografado antes de gravar dados no sistema de arquivos local.</span><span class="sxs-lookup"><span data-stu-id="6a895-563">If the application writes sensitive information like user's PII (email, phone number, first name, last name, preferences etc.)- on mobile's file system, then it should be encrypted before writing to the local file system.</span></span> <span data-ttu-id="6a895-564">Se o aplicativo for um aplicativo empresarial, verifique a possibilidade de publicá-lo usando o Windows Intune.</span><span class="sxs-lookup"><span data-stu-id="6a895-564">If the application is an enterprise application, then explore the possibility of publishing application using Windows Intune.</span></span></p>|

### <a name="example"></a><span data-ttu-id="6a895-565">Exemplo</span><span class="sxs-lookup"><span data-stu-id="6a895-565">Example</span></span>
<span data-ttu-id="6a895-566">O Intune pode ser configurado com as seguintes políticas de segurança para proteger dados confidenciais:</span><span class="sxs-lookup"><span data-stu-id="6a895-566">Intune can be configured with following security policies to safeguard sensitive data:</span></span> 
```C#
Require encryption on mobile device    
Require encryption on storage cards
Allow screen capture
```

### <a name="example"></a><span data-ttu-id="6a895-567">Exemplo</span><span class="sxs-lookup"><span data-stu-id="6a895-567">Example</span></span>
<span data-ttu-id="6a895-568">Se o aplicativo não for empresarial, use o armazenamento de chaves ou os conjuntos de chaves fornecidos pela plataforma para armazenar chaves de criptografia, com os quais a operação de criptografia pode ser executada no sistema de arquivos.</span><span class="sxs-lookup"><span data-stu-id="6a895-568">If the application is not an enterprise application, then use platform provided keystore, keychains to store encryption keys, using which cryptographic operation may be performed on the file system.</span></span> <span data-ttu-id="6a895-569">O trecho de código a seguir mostra como acessar a chave do conjunto de chaves usando Xamarin:</span><span class="sxs-lookup"><span data-stu-id="6a895-569">Following code snippet shows how to access key from keychain using xamarin:</span></span> 
```C#
        protected static string EncryptionKey
        {
            get
            {
                if (String.IsNullOrEmpty(_Key))
                {
                    var query = new SecRecord(SecKind.GenericPassword);
                    query.Service = NSBundle.MainBundle.BundleIdentifier;
                    query.Account = "UniqueID";

                    NSData uniqueId = SecKeyChain.QueryAsData(query);
                    if (uniqueId == null)
                    {
                        query.ValueData = NSData.FromString(System.Guid.NewGuid().ToString());
                        var err = SecKeyChain.Add(query);
                        _Key = query.ValueData.ToString();
                    }
                    else
                    {
                        _Key = uniqueId.ToString();
                    }
                }

                return _Key;
            }
        }
```

## <span data-ttu-id="6a895-570"><a id="binaries-end"></a>Obscurecer os binários gerados antes de distribuir os dispositivos para os usuários finais</span><span class="sxs-lookup"><span data-stu-id="6a895-570"><a id="binaries-end"></a>Obfuscate generated binaries before distributing to end users</span></span>

| <span data-ttu-id="6a895-571">Title</span><span class="sxs-lookup"><span data-stu-id="6a895-571">Title</span></span>                   | <span data-ttu-id="6a895-572">Detalhes</span><span class="sxs-lookup"><span data-stu-id="6a895-572">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="6a895-573">**Componente**</span><span class="sxs-lookup"><span data-stu-id="6a895-573">**Component**</span></span>               | <span data-ttu-id="6a895-574">Cliente móvel</span><span class="sxs-lookup"><span data-stu-id="6a895-574">Mobile Client</span></span> | 
| <span data-ttu-id="6a895-575">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="6a895-575">**SDL Phase**</span></span>               | <span data-ttu-id="6a895-576">Compilação</span><span class="sxs-lookup"><span data-stu-id="6a895-576">Build</span></span> |  
| <span data-ttu-id="6a895-577">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="6a895-577">**Applicable Technologies**</span></span> | <span data-ttu-id="6a895-578">Genérico</span><span class="sxs-lookup"><span data-stu-id="6a895-578">Generic</span></span> |
| <span data-ttu-id="6a895-579">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="6a895-579">**Attributes**</span></span>              | <span data-ttu-id="6a895-580">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-580">N/A</span></span>  |
| <span data-ttu-id="6a895-581">**Referências**</span><span class="sxs-lookup"><span data-stu-id="6a895-581">**References**</span></span>              | [<span data-ttu-id="6a895-582">Crypto Obfuscator para .NET</span><span class="sxs-lookup"><span data-stu-id="6a895-582">Crypto Obfuscation For .Net</span></span>](http://www.ssware.com/cryptoobfuscator/obfuscator-net.htm) |
| <span data-ttu-id="6a895-583">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="6a895-583">**Steps**</span></span> | <span data-ttu-id="6a895-584">Os binários gerados (assemblies no apk) devem ser ocultados para impedir a engenharia reversa de assemblies. Ferramentas como o `CryptoObfuscator` podem ser usadas para isso.</span><span class="sxs-lookup"><span data-stu-id="6a895-584">Generated binaries (assemblies within apk) should be obfuscated to stop reverse engineering of assemblies.Tools like `CryptoObfuscator` may be used for this purpose.</span></span> |

## <span data-ttu-id="6a895-585"><a id="cert"></a>Definir clientCredentialType para o certificado ou o Windows</span><span class="sxs-lookup"><span data-stu-id="6a895-585"><a id="cert"></a>Set clientCredentialType to Certificate or Windows</span></span>

| <span data-ttu-id="6a895-586">Title</span><span class="sxs-lookup"><span data-stu-id="6a895-586">Title</span></span>                   | <span data-ttu-id="6a895-587">Detalhes</span><span class="sxs-lookup"><span data-stu-id="6a895-587">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="6a895-588">**Componente**</span><span class="sxs-lookup"><span data-stu-id="6a895-588">**Component**</span></span>               | <span data-ttu-id="6a895-589">WCF</span><span class="sxs-lookup"><span data-stu-id="6a895-589">WCF</span></span> | 
| <span data-ttu-id="6a895-590">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="6a895-590">**SDL Phase**</span></span>               | <span data-ttu-id="6a895-591">Compilação</span><span class="sxs-lookup"><span data-stu-id="6a895-591">Build</span></span> |  
| <span data-ttu-id="6a895-592">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="6a895-592">**Applicable Technologies**</span></span> | <span data-ttu-id="6a895-593">.NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="6a895-593">.NET Framework 3</span></span> |
| <span data-ttu-id="6a895-594">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="6a895-594">**Attributes**</span></span>              | <span data-ttu-id="6a895-595">N/D</span><span class="sxs-lookup"><span data-stu-id="6a895-595">N/A</span></span>  |
| <span data-ttu-id="6a895-596">**Referências**</span><span class="sxs-lookup"><span data-stu-id="6a895-596">**References**</span></span>              | [<span data-ttu-id="6a895-597">Fortify</span><span class="sxs-lookup"><span data-stu-id="6a895-597">Fortify</span></span>](https://vulncat.fortify.com/en/vulncat/index.html) |
| <span data-ttu-id="6a895-598">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="6a895-598">**Steps**</span></span> | <span data-ttu-id="6a895-599">Usar o token UserName com um texto de senha sem formatação em um canal não criptografado expõe a senha para invasores que podem descobrir as mensagens do SOAP.</span><span class="sxs-lookup"><span data-stu-id="6a895-599">Using a UsernameToken with a plaintext password over an unencrypted channel exposes the password to attackers who can sniff the SOAP messages.</span></span> <span data-ttu-id="6a895-600">Os provedores de serviços que usam o token UserName podem aceitar senhas enviadas em texto sem formatação.</span><span class="sxs-lookup"><span data-stu-id="6a895-600">Service Providers that use the UsernameToken might accept passwords sent in plaintext.</span></span> <span data-ttu-id="6a895-601">Enviar textos de senha sem formatação por um canal não criptografado pode expor a credencial para invasores que podem descobrir a mensagem do SOAP.</span><span class="sxs-lookup"><span data-stu-id="6a895-601">Sending plaintext passwords over an unencrypted channel can expose the credential to attackers who can sniff the SOAP message.</span></span> | 

### <a name="example"></a><span data-ttu-id="6a895-602">Exemplo</span><span class="sxs-lookup"><span data-stu-id="6a895-602">Example</span></span>
<span data-ttu-id="6a895-603">A configuração de provedor de serviço do WCF mostrada abaixo usa o token de nome de usuário:</span><span class="sxs-lookup"><span data-stu-id="6a895-603">The following WCF service provider configuration uses the UsernameToken:</span></span> 
```
<security mode="Message"> 
<message clientCredentialType="UserName" />
``` 
<span data-ttu-id="6a895-604">Defina clientCredentialType para o certificado ou o Windows.</span><span class="sxs-lookup"><span data-stu-id="6a895-604">Set clientCredentialType to Certificate or Windows.</span></span> 

## <span data-ttu-id="6a895-605"><a id="security"></a>O modo de segurança do WCF não está habilitado</span><span class="sxs-lookup"><span data-stu-id="6a895-605"><a id="security"></a>WCF-Security Mode is not enabled</span></span>

| <span data-ttu-id="6a895-606">Title</span><span class="sxs-lookup"><span data-stu-id="6a895-606">Title</span></span>                   | <span data-ttu-id="6a895-607">Detalhes</span><span class="sxs-lookup"><span data-stu-id="6a895-607">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="6a895-608">**Componente**</span><span class="sxs-lookup"><span data-stu-id="6a895-608">**Component**</span></span>               | <span data-ttu-id="6a895-609">WCF</span><span class="sxs-lookup"><span data-stu-id="6a895-609">WCF</span></span> | 
| <span data-ttu-id="6a895-610">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="6a895-610">**SDL Phase**</span></span>               | <span data-ttu-id="6a895-611">Compilação</span><span class="sxs-lookup"><span data-stu-id="6a895-611">Build</span></span> |  
| <span data-ttu-id="6a895-612">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="6a895-612">**Applicable Technologies**</span></span> | <span data-ttu-id="6a895-613">Genérico, .NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="6a895-613">Generic, .NET Framework 3</span></span> |
| <span data-ttu-id="6a895-614">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="6a895-614">**Attributes**</span></span>              | <span data-ttu-id="6a895-615">Modo de segurança - Transport, Modo de segurança - Message</span><span class="sxs-lookup"><span data-stu-id="6a895-615">Security Mode - Transport, Security Mode - Message</span></span> |
| <span data-ttu-id="6a895-616">**Referências**</span><span class="sxs-lookup"><span data-stu-id="6a895-616">**References**</span></span>              | <span data-ttu-id="6a895-617">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html), [Noções básicas da segurança do WCF (CoDe Magazine)](http://www.codemag.com/article/0611051)</span><span class="sxs-lookup"><span data-stu-id="6a895-617">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html), [Fundamentals of WCF Security CoDe Magazine](http://www.codemag.com/article/0611051)</span></span> |
| <span data-ttu-id="6a895-618">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="6a895-618">**Steps**</span></span> | <span data-ttu-id="6a895-619">Nenhuma segurança foi definida para transporte ou mensagens.</span><span class="sxs-lookup"><span data-stu-id="6a895-619">No transport or message security has been defined.</span></span> <span data-ttu-id="6a895-620">Os aplicativos que transmitem mensagens sem segurança de transporte ou de mensagem não podem garantir a integridade ou a confidenciabilidade das mensagens.</span><span class="sxs-lookup"><span data-stu-id="6a895-620">Applications that transmit messages without transport or message security cannot guarantee the integrity or confidentiality of the messages.</span></span> <span data-ttu-id="6a895-621">Quando uma associação de segurança do WCF é definida como None, as seguranças de transporte e de mensagem são desabilitadas.</span><span class="sxs-lookup"><span data-stu-id="6a895-621">When a WCF security binding is set to None, both transport and message security are disabled.</span></span> |

### <a name="example"></a><span data-ttu-id="6a895-622">Exemplo</span><span class="sxs-lookup"><span data-stu-id="6a895-622">Example</span></span>
<span data-ttu-id="6a895-623">A configuração mostrada abaixo define o modo de segurança como None.</span><span class="sxs-lookup"><span data-stu-id="6a895-623">The following configuration sets the security mode to None.</span></span> 
```
<system.serviceModel> 
  <bindings> 
    <wsHttpBinding> 
      <binding name=""MyBinding""> 
        <security mode=""None""/> 
      </binding> 
  </bindings> 
</system.serviceModel> 
```

### <a name="example"></a><span data-ttu-id="6a895-624">Exemplo</span><span class="sxs-lookup"><span data-stu-id="6a895-624">Example</span></span>
<span data-ttu-id="6a895-625">Há cinco modos de segurança disponíveis para todas as associações de serviço, são eles:</span><span class="sxs-lookup"><span data-stu-id="6a895-625">Security Mode Across all service bindings there are five possible security modes:</span></span> 
* <span data-ttu-id="6a895-626">Nenhuma.</span><span class="sxs-lookup"><span data-stu-id="6a895-626">None.</span></span> <span data-ttu-id="6a895-627">desativa a segurança.</span><span class="sxs-lookup"><span data-stu-id="6a895-627">Turns security off.</span></span> 
* <span data-ttu-id="6a895-628">Transport:</span><span class="sxs-lookup"><span data-stu-id="6a895-628">Transport.</span></span> <span data-ttu-id="6a895-629">usa a segurança de transporte para a proteção de autenticações e mensagens.</span><span class="sxs-lookup"><span data-stu-id="6a895-629">Uses transport security for mutual authentication and message protection.</span></span> 
* <span data-ttu-id="6a895-630">Message.</span><span class="sxs-lookup"><span data-stu-id="6a895-630">Message.</span></span> <span data-ttu-id="6a895-631">usa a segurança de mensagem para a proteção de autenticações e mensagens.</span><span class="sxs-lookup"><span data-stu-id="6a895-631">Uses message security for mutual authentication and message protection.</span></span> 
* <span data-ttu-id="6a895-632">Both:</span><span class="sxs-lookup"><span data-stu-id="6a895-632">Both.</span></span> <span data-ttu-id="6a895-633">permite que você defina configurações de transporte e mensagem (somente o MSMQ oferece suporte a esse modo).</span><span class="sxs-lookup"><span data-stu-id="6a895-633">Allows you to supply settings for transport and message-level security (only MSMQ supports this).</span></span> 
* <span data-ttu-id="6a895-634">TransportWithMessageCredential:</span><span class="sxs-lookup"><span data-stu-id="6a895-634">TransportWithMessageCredential.</span></span> <span data-ttu-id="6a895-635">as credenciais são transmitidas com a mensagem, e a proteção de mensagem e a autenticação de servidor são fornecidas pela camada de transporte.</span><span class="sxs-lookup"><span data-stu-id="6a895-635">Credentials are passed with the message and message protection and server authentication are provided by the transport layer.</span></span> 
* <span data-ttu-id="6a895-636">TransportCredentialOnly:</span><span class="sxs-lookup"><span data-stu-id="6a895-636">TransportCredentialOnly.</span></span> <span data-ttu-id="6a895-637">as credenciais do cliente são transmitidas com a camada de transporte e nenhuma proteção de mensagem é aplicada.</span><span class="sxs-lookup"><span data-stu-id="6a895-637">Client credentials are passed with the transport layer and no message protection is applied.</span></span> <span data-ttu-id="6a895-638">Use segurança de transporte e de mensagem para proteger a integridade e a confidencialidade das mensagens.</span><span class="sxs-lookup"><span data-stu-id="6a895-638">Use transport and message security to protect the integrity and confidentiality of messages.</span></span> <span data-ttu-id="6a895-639">A configuração abaixo solicita que o serviço use a segurança de transporte com as credenciais de mensagem.</span><span class="sxs-lookup"><span data-stu-id="6a895-639">The configuration below tells the service to use transport security with message credentials.</span></span>
```
<system.serviceModel>
  <bindings>
    <wsHttpBinding>
    <binding name=""MyBinding""> 
    <security mode=""TransportWithMessageCredential""/> 
    <message clientCredentialType=""Windows""/> 
    </binding> 
  </bindings> 
</system.serviceModel> 
```
