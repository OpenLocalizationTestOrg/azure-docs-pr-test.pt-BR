---
title: "Autorização - Microsoft Threat Modeling Tool - Azure | Microsoft Docs"
description: "atenuações de ameaças expostas na Ferramenta de Modelagem de Ameaças"
services: security
documentationcenter: na
author: RodSan
manager: RodSan
editor: RodSan
ms.assetid: na
ms.service: security
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: rodsan
ms.openlocfilehash: 312a66544a5e64daa86b4902b57d4050f1f66af5
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/29/2017
---
# <a name="security-frame-authorization--mitigations"></a><span data-ttu-id="cc197-103">Estrutura de segurança: Autorização | Atenuações</span><span class="sxs-lookup"><span data-stu-id="cc197-103">Security Frame: Authorization | Mitigations</span></span> 
| <span data-ttu-id="cc197-104">Produto/serviço</span><span class="sxs-lookup"><span data-stu-id="cc197-104">Product/Service</span></span> | <span data-ttu-id="cc197-105">Artigo</span><span class="sxs-lookup"><span data-stu-id="cc197-105">Article</span></span> |
| --------------- | ------- |
| <span data-ttu-id="cc197-106">**Limite de confiança de computador**</span><span class="sxs-lookup"><span data-stu-id="cc197-106">**Machine Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="cc197-107">Garantir que as ACLs apropriadas estejam configuradas para restringir o acesso não autorizado aos dados no dispositivo</span><span class="sxs-lookup"><span data-stu-id="cc197-107">Ensure that proper ACLs are configured to restrict unauthorized access to data on the device</span></span>](#acl-restricted-access)</li><li>[<span data-ttu-id="cc197-108">Garantir que os conteúdos confidenciais do usuário armazenados no aplicativo sejam armazenados no diretório do perfil do usuário</span><span class="sxs-lookup"><span data-stu-id="cc197-108">Ensure that sensitive user-specific application content is stored in user-profile directory</span></span>](#sensitive-directory)</li><li>[<span data-ttu-id="cc197-109">Garantir que os aplicativos implantados sejam executados com privilégios mínimos</span><span class="sxs-lookup"><span data-stu-id="cc197-109">Ensure that the deployed applications are run with least privileges</span></span>](#deployed-privileges)</li></ul> |
| <span data-ttu-id="cc197-110">**Aplicativo Web**</span><span class="sxs-lookup"><span data-stu-id="cc197-110">**Web Application**</span></span> | <ul><li>[<span data-ttu-id="cc197-111">Impor uma ordem sequencial de etapas durante o processamento dos fluxos de lógica de negócios</span><span class="sxs-lookup"><span data-stu-id="cc197-111">Enforce sequential step order when processing business logic flows</span></span>](#sequential-logic)</li><li>[<span data-ttu-id="cc197-112">Implementar um mecanismo de limitação de taxa para evitar a enumeração</span><span class="sxs-lookup"><span data-stu-id="cc197-112">Implement rate limiting mechanism to prevent enumeration</span></span>](#rate-enumeration)</li><li>[<span data-ttu-id="cc197-113">Garantir que um sistema de autorização adequado esteja em vigor e que o princípio dos privilégios mínimos seja seguido</span><span class="sxs-lookup"><span data-stu-id="cc197-113">Ensure that proper authorization is in place and principle of least privileges is followed</span></span>](#principle-least-privilege)</li><li>[<span data-ttu-id="cc197-114">As decisões de autorização de acesso a recursos e a lógica de negócios não devem ser baseadas em parâmetros de solicitação de entrada</span><span class="sxs-lookup"><span data-stu-id="cc197-114">Business logic and resource access authorization decisions should not be based on incoming request parameters</span></span>](#logic-request-parameters)</li><li>[<span data-ttu-id="cc197-115">Garantir que conteúdos e recursos não sejam enumeráveis ou estejam acessíveis por meio da navegação forçada</span><span class="sxs-lookup"><span data-stu-id="cc197-115">Ensure that content and resources are not enumerable or accessible via forceful browsing</span></span>](#enumerable-browsing)</li></ul> |
| <span data-ttu-id="cc197-116">**Banco de dados**</span><span class="sxs-lookup"><span data-stu-id="cc197-116">**Database**</span></span> | <ul><li>[<span data-ttu-id="cc197-117">Garantir que contas com privilégios mínimos sejam usadas para conexão com o servidor de banco de dados</span><span class="sxs-lookup"><span data-stu-id="cc197-117">Ensure that least-privileged accounts are used to connect to Database server</span></span>](#privileged-server)</li><li>[<span data-ttu-id="cc197-118">Implementar a RLS (Segurança em Nível de Linha) para impedir que locatários acessem os dados uns dos outros</span><span class="sxs-lookup"><span data-stu-id="cc197-118">Implement Row Level Security RLS to prevent tenants from accessing each other's data</span></span>](#rls-tenants)</li><li>[<span data-ttu-id="cc197-119">A função sysadmin deve ter apenas usuários necessários válidos</span><span class="sxs-lookup"><span data-stu-id="cc197-119">Sysadmin role should only have valid necessary users</span></span>](#sysadmin-users)</li></ul> |
| <span data-ttu-id="cc197-120">**Gateway de Nuvem IoT**</span><span class="sxs-lookup"><span data-stu-id="cc197-120">**IoT Cloud Gateway**</span></span> | <ul><li>[<span data-ttu-id="cc197-121">Conectar ao Gateway de Nuvem usando tokens com privilégios mínimos</span><span class="sxs-lookup"><span data-stu-id="cc197-121">Connect to Cloud Gateway using least-privileged tokens</span></span>](#cloud-least-privileged)</li></ul> |
| <span data-ttu-id="cc197-122">**Hub de Eventos do Azure**</span><span class="sxs-lookup"><span data-stu-id="cc197-122">**Azure Event Hub**</span></span> | <ul><li>[<span data-ttu-id="cc197-123">Usar uma chave SAS com a permissão somente envio para gerar tokens de dispositivo</span><span class="sxs-lookup"><span data-stu-id="cc197-123">Use a send-only permissions SAS Key for generating device tokens</span></span>](#sendonly-sas)</li><li>[<span data-ttu-id="cc197-124">Não use tokens de acesso que fornecem acesso direto ao Hub de Eventos</span><span class="sxs-lookup"><span data-stu-id="cc197-124">Do not use access tokens that provide direct access to the Event Hub</span></span>](#access-tokens-hub)</li><li>[<span data-ttu-id="cc197-125">Conectar ao Hub de Eventos usando chaves SAS que tenham as permissões mínimas necessárias</span><span class="sxs-lookup"><span data-stu-id="cc197-125">Connect to Event Hub using SAS keys that have the minimum permissions required</span></span>](#sas-minimum-permissions)</li></ul> |
| <span data-ttu-id="cc197-126">**Azure DocumentDB**</span><span class="sxs-lookup"><span data-stu-id="cc197-126">**Azure Document DB**</span></span> | <ul><li>[<span data-ttu-id="cc197-127">Usar tokens de recurso para se conectar ao DocumentDB sempre que possível</span><span class="sxs-lookup"><span data-stu-id="cc197-127">Use resource tokens to connect to DocumentDB whenever possible</span></span>](#resource-docdb)</li></ul> |
| <span data-ttu-id="cc197-128">**Limite de Confiança do Azure**</span><span class="sxs-lookup"><span data-stu-id="cc197-128">**Azure Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="cc197-129">Habilitar o gerenciamento de acesso refinado à assinatura do Azure usando o RBAC</span><span class="sxs-lookup"><span data-stu-id="cc197-129">Enable fine-grained access management to Azure Subscription using RBAC</span></span>](#grained-rbac)</li></ul> |
| <span data-ttu-id="cc197-130">**Limite de confiança do Service Fabric**</span><span class="sxs-lookup"><span data-stu-id="cc197-130">**Service Fabric Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="cc197-131">Restringir o acesso do cliente ao cluster de operações usando o RBAC</span><span class="sxs-lookup"><span data-stu-id="cc197-131">Restrict client's access to cluster operations using RBAC</span></span>](#cluster-rbac)</li></ul> |
| <span data-ttu-id="cc197-132">**Dynamics CRM**</span><span class="sxs-lookup"><span data-stu-id="cc197-132">**Dynamics CRM**</span></span> | <ul><li>[<span data-ttu-id="cc197-133">Executar a modelagem de segurança e usar a segurança no nível do campo onde for necessário</span><span class="sxs-lookup"><span data-stu-id="cc197-133">Perform security modeling and use Field Level Security where required</span></span>](#modeling-field)</li></ul> |
| <span data-ttu-id="cc197-134">**Portal do Dynamics CRM**</span><span class="sxs-lookup"><span data-stu-id="cc197-134">**Dynamics CRM Portal**</span></span> | <ul><li>[<span data-ttu-id="cc197-135">Executar a modelagem de segurança das contas do portal tendo em mente que o modelo de segurança do portal é diferente do restante do CRM</span><span class="sxs-lookup"><span data-stu-id="cc197-135">Perform security modeling of portal accounts keeping in mind that the security model for the portal differs from the rest of CRM</span></span>](#portal-security)</li></ul> |
| <span data-ttu-id="cc197-136">**Armazenamento do Azure**</span><span class="sxs-lookup"><span data-stu-id="cc197-136">**Azure Storage**</span></span> | <ul><li>[<span data-ttu-id="cc197-137">Conceder permissões refinadas em um intervalo de entidades no Armazenamento de Tabelas do Azure</span><span class="sxs-lookup"><span data-stu-id="cc197-137">Grant fine-grained permission on a range of entities in Azure Table Storage</span></span>](#permission-entities)</li><li>[<span data-ttu-id="cc197-138">Habilitar o controle de acesso baseado em função (RBAC) na conta de armazenamento do Azure usando o Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="cc197-138">Enable Role-Based Access Control (RBAC) to Azure storage account using Azure Resource Manager</span></span>](#rbac-azure-manager)</li></ul> |
| <span data-ttu-id="cc197-139">**Cliente móvel**</span><span class="sxs-lookup"><span data-stu-id="cc197-139">**Mobile Client**</span></span> | <ul><li>[<span data-ttu-id="cc197-140">Implementar detecção de modificação ou desbloqueio implícito</span><span class="sxs-lookup"><span data-stu-id="cc197-140">Implement implicit jailbreak or rooting detection</span></span>](#rooting-detection)</li></ul> |
| <span data-ttu-id="cc197-141">**WCF**</span><span class="sxs-lookup"><span data-stu-id="cc197-141">**WCF**</span></span> | <ul><li>[<span data-ttu-id="cc197-142">Referência de classe fraca no WCF</span><span class="sxs-lookup"><span data-stu-id="cc197-142">Weak Class Reference in WCF</span></span>](#weak-class-wcf)</li><li>[<span data-ttu-id="cc197-143">Controle de autorização implementado no WCF</span><span class="sxs-lookup"><span data-stu-id="cc197-143">WCF-Implement Authorization control</span></span>](#wcf-authz)</li></ul> |
| <span data-ttu-id="cc197-144">**API da Web**</span><span class="sxs-lookup"><span data-stu-id="cc197-144">**Web API**</span></span> | <ul><li>[<span data-ttu-id="cc197-145">Implementar mecanismos de autorização apropriados na API Web ASP.NET</span><span class="sxs-lookup"><span data-stu-id="cc197-145">Implement proper authorization mechanism in ASP.NET Web API</span></span>](#authz-aspnet)</li></ul> |
| <span data-ttu-id="cc197-146">**Dispositivo IoT**</span><span class="sxs-lookup"><span data-stu-id="cc197-146">**IoT Device**</span></span> | <ul><li>[<span data-ttu-id="cc197-147">Executar verificações de autorização no dispositivo se ele oferecer suporte a várias ações que exigem diferentes níveis de permissão</span><span class="sxs-lookup"><span data-stu-id="cc197-147">Perform authorization checks in the device if it supports various actions that require different permission levels</span></span>](#device-permission)</li></ul> |
| <span data-ttu-id="cc197-148">**Gateway de Campo de IoT**</span><span class="sxs-lookup"><span data-stu-id="cc197-148">**IoT Field Gateway**</span></span> | <ul><li>[<span data-ttu-id="cc197-149">Executar verificações de autorização no Gateway de Campo se ele oferecer suporte a várias ações que exigem diferentes níveis de permissão</span><span class="sxs-lookup"><span data-stu-id="cc197-149">Perform authorization checks in the Field Gateway if it supports various actions that require different permission levels</span></span>](#field-permission)</li></ul> |

## <span data-ttu-id="cc197-150"><a id="acl-restricted-access"></a>Garantir que as ACLs apropriadas estejam configuradas para restringir o acesso não autorizado aos dados no dispositivo</span><span class="sxs-lookup"><span data-stu-id="cc197-150"><a id="acl-restricted-access"></a>Ensure that proper ACLs are configured to restrict unauthorized access to data on the device</span></span>

| <span data-ttu-id="cc197-151">Title</span><span class="sxs-lookup"><span data-stu-id="cc197-151">Title</span></span>                   | <span data-ttu-id="cc197-152">Detalhes</span><span class="sxs-lookup"><span data-stu-id="cc197-152">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cc197-153">**Componente**</span><span class="sxs-lookup"><span data-stu-id="cc197-153">**Component**</span></span>               | <span data-ttu-id="cc197-154">Limite de Confiança de Máquina</span><span class="sxs-lookup"><span data-stu-id="cc197-154">Machine Trust Boundary</span></span> | 
| <span data-ttu-id="cc197-155">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="cc197-155">**SDL Phase**</span></span>               | <span data-ttu-id="cc197-156">Implantação</span><span class="sxs-lookup"><span data-stu-id="cc197-156">Deployment</span></span> |  
| <span data-ttu-id="cc197-157">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="cc197-157">**Applicable Technologies**</span></span> | <span data-ttu-id="cc197-158">Genérico</span><span class="sxs-lookup"><span data-stu-id="cc197-158">Generic</span></span> |
| <span data-ttu-id="cc197-159">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="cc197-159">**Attributes**</span></span>              | <span data-ttu-id="cc197-160">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-160">N/A</span></span>  |
| <span data-ttu-id="cc197-161">**Referências**</span><span class="sxs-lookup"><span data-stu-id="cc197-161">**References**</span></span>              | <span data-ttu-id="cc197-162">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-162">N/A</span></span>  |
| <span data-ttu-id="cc197-163">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="cc197-163">**Steps**</span></span> | <span data-ttu-id="cc197-164">Garanta que as ACLs apropriadas estejam configuradas para restringir o acesso não autorizado aos dados no dispositivo.</span><span class="sxs-lookup"><span data-stu-id="cc197-164">Ensure that proper ACLs are configured to restrict unauthorized access to data on the device</span></span>|

## <span data-ttu-id="cc197-165"><a id="sensitive-directory"></a>Garantir que os conteúdos confidenciais do usuário armazenados no aplicativo sejam armazenados no diretório do perfil do usuário</span><span class="sxs-lookup"><span data-stu-id="cc197-165"><a id="sensitive-directory"></a>Ensure that sensitive user-specific application content is stored in user-profile directory</span></span>

| <span data-ttu-id="cc197-166">Title</span><span class="sxs-lookup"><span data-stu-id="cc197-166">Title</span></span>                   | <span data-ttu-id="cc197-167">Detalhes</span><span class="sxs-lookup"><span data-stu-id="cc197-167">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cc197-168">**Componente**</span><span class="sxs-lookup"><span data-stu-id="cc197-168">**Component**</span></span>               | <span data-ttu-id="cc197-169">Limite de Confiança de Máquina</span><span class="sxs-lookup"><span data-stu-id="cc197-169">Machine Trust Boundary</span></span> | 
| <span data-ttu-id="cc197-170">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="cc197-170">**SDL Phase**</span></span>               | <span data-ttu-id="cc197-171">Implantação</span><span class="sxs-lookup"><span data-stu-id="cc197-171">Deployment</span></span> |  
| <span data-ttu-id="cc197-172">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="cc197-172">**Applicable Technologies**</span></span> | <span data-ttu-id="cc197-173">Genérico</span><span class="sxs-lookup"><span data-stu-id="cc197-173">Generic</span></span> |
| <span data-ttu-id="cc197-174">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="cc197-174">**Attributes**</span></span>              | <span data-ttu-id="cc197-175">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-175">N/A</span></span>  |
| <span data-ttu-id="cc197-176">**Referências**</span><span class="sxs-lookup"><span data-stu-id="cc197-176">**References**</span></span>              | <span data-ttu-id="cc197-177">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-177">N/A</span></span>  |
| <span data-ttu-id="cc197-178">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="cc197-178">**Steps**</span></span> | <span data-ttu-id="cc197-179">Garanta que os conteúdos confidenciais do usuário armazenados no aplicativo sejam armazenados no diretório do perfil do usuário.</span><span class="sxs-lookup"><span data-stu-id="cc197-179">Ensure that sensitive user-specific application content is stored in user-profile directory.</span></span> <span data-ttu-id="cc197-180">Isso impede que os múltiplos usuários do computador acessem dados uns dos outros.</span><span class="sxs-lookup"><span data-stu-id="cc197-180">This is to prevent multiple users of the machine from accessing each other's data.</span></span>|

## <span data-ttu-id="cc197-181"><a id="deployed-privileges"></a>Garantir que os aplicativos implantados sejam executados com privilégios mínimos</span><span class="sxs-lookup"><span data-stu-id="cc197-181"><a id="deployed-privileges"></a>Ensure that the deployed applications are run with least privileges</span></span>

| <span data-ttu-id="cc197-182">Title</span><span class="sxs-lookup"><span data-stu-id="cc197-182">Title</span></span>                   | <span data-ttu-id="cc197-183">Detalhes</span><span class="sxs-lookup"><span data-stu-id="cc197-183">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cc197-184">**Componente**</span><span class="sxs-lookup"><span data-stu-id="cc197-184">**Component**</span></span>               | <span data-ttu-id="cc197-185">Limite de Confiança de Máquina</span><span class="sxs-lookup"><span data-stu-id="cc197-185">Machine Trust Boundary</span></span> | 
| <span data-ttu-id="cc197-186">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="cc197-186">**SDL Phase**</span></span>               | <span data-ttu-id="cc197-187">Implantação</span><span class="sxs-lookup"><span data-stu-id="cc197-187">Deployment</span></span> |  
| <span data-ttu-id="cc197-188">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="cc197-188">**Applicable Technologies**</span></span> | <span data-ttu-id="cc197-189">Genérico</span><span class="sxs-lookup"><span data-stu-id="cc197-189">Generic</span></span> |
| <span data-ttu-id="cc197-190">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="cc197-190">**Attributes**</span></span>              | <span data-ttu-id="cc197-191">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-191">N/A</span></span>  |
| <span data-ttu-id="cc197-192">**Referências**</span><span class="sxs-lookup"><span data-stu-id="cc197-192">**References**</span></span>              | <span data-ttu-id="cc197-193">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-193">N/A</span></span>  |
| <span data-ttu-id="cc197-194">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="cc197-194">**Steps**</span></span> | <span data-ttu-id="cc197-195">Garanta que os aplicativos implantados sejam executados com privilégios mínimos.</span><span class="sxs-lookup"><span data-stu-id="cc197-195">Ensure that the deployed application is run with least privileges.</span></span> |

## <span data-ttu-id="cc197-196"><a id="sequential-logic"></a>Impor uma ordem sequencial de etapas durante o processamento dos fluxos de lógica de negócios</span><span class="sxs-lookup"><span data-stu-id="cc197-196"><a id="sequential-logic"></a>Enforce sequential step order when processing business logic flows</span></span>

| <span data-ttu-id="cc197-197">Title</span><span class="sxs-lookup"><span data-stu-id="cc197-197">Title</span></span>                   | <span data-ttu-id="cc197-198">Detalhes</span><span class="sxs-lookup"><span data-stu-id="cc197-198">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cc197-199">**Componente**</span><span class="sxs-lookup"><span data-stu-id="cc197-199">**Component**</span></span>               | <span data-ttu-id="cc197-200">Aplicativo Web</span><span class="sxs-lookup"><span data-stu-id="cc197-200">Web Application</span></span> | 
| <span data-ttu-id="cc197-201">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="cc197-201">**SDL Phase**</span></span>               | <span data-ttu-id="cc197-202">Compilação</span><span class="sxs-lookup"><span data-stu-id="cc197-202">Build</span></span> |  
| <span data-ttu-id="cc197-203">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="cc197-203">**Applicable Technologies**</span></span> | <span data-ttu-id="cc197-204">Genérico</span><span class="sxs-lookup"><span data-stu-id="cc197-204">Generic</span></span> |
| <span data-ttu-id="cc197-205">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="cc197-205">**Attributes**</span></span>              | <span data-ttu-id="cc197-206">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-206">N/A</span></span>  |
| <span data-ttu-id="cc197-207">**Referências**</span><span class="sxs-lookup"><span data-stu-id="cc197-207">**References**</span></span>              | <span data-ttu-id="cc197-208">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-208">N/A</span></span>  |
| <span data-ttu-id="cc197-209">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="cc197-209">**Steps**</span></span> | <span data-ttu-id="cc197-210">Para verificar se esse estágio foi executado por um usuário genuíno, force o aplicativo a processar os fluxos de lógica de negócios seguindo a ordem sequencial das etapas, permitindo que todas as etapas sejam processadas em um tempo humanamente realista e evitando que a ordem das etapas seja desrespeitadas, que alguma etapa seja ignorada, que as etapas de outro usuário sejam processadas ou que as transações sejam enviadas rápido demais.</span><span class="sxs-lookup"><span data-stu-id="cc197-210">In order to verify that this stage was run through by a genuine user you want to enforce the application to only process business logic flows in sequential step order, with all steps being processed in realistic human time, and not process out of order, skipped steps, processed steps from another user, or too quickly submitted transactions.</span></span>|

## <span data-ttu-id="cc197-211"><a id="rate-enumeration"></a>Implementar um mecanismo de limitação de taxa para evitar a enumeração</span><span class="sxs-lookup"><span data-stu-id="cc197-211"><a id="rate-enumeration"></a>Implement rate limiting mechanism to prevent enumeration</span></span>

| <span data-ttu-id="cc197-212">Title</span><span class="sxs-lookup"><span data-stu-id="cc197-212">Title</span></span>                   | <span data-ttu-id="cc197-213">Detalhes</span><span class="sxs-lookup"><span data-stu-id="cc197-213">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cc197-214">**Componente**</span><span class="sxs-lookup"><span data-stu-id="cc197-214">**Component**</span></span>               | <span data-ttu-id="cc197-215">Aplicativo Web</span><span class="sxs-lookup"><span data-stu-id="cc197-215">Web Application</span></span> | 
| <span data-ttu-id="cc197-216">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="cc197-216">**SDL Phase**</span></span>               | <span data-ttu-id="cc197-217">Compilação</span><span class="sxs-lookup"><span data-stu-id="cc197-217">Build</span></span> |  
| <span data-ttu-id="cc197-218">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="cc197-218">**Applicable Technologies**</span></span> | <span data-ttu-id="cc197-219">Genérico</span><span class="sxs-lookup"><span data-stu-id="cc197-219">Generic</span></span> |
| <span data-ttu-id="cc197-220">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="cc197-220">**Attributes**</span></span>              | <span data-ttu-id="cc197-221">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-221">N/A</span></span>  |
| <span data-ttu-id="cc197-222">**Referências**</span><span class="sxs-lookup"><span data-stu-id="cc197-222">**References**</span></span>              | <span data-ttu-id="cc197-223">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-223">N/A</span></span>  |
| <span data-ttu-id="cc197-224">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="cc197-224">**Steps**</span></span> | <span data-ttu-id="cc197-225">Verifique se os identificadores confidenciais são aleatórios.</span><span class="sxs-lookup"><span data-stu-id="cc197-225">Ensure that sensitive identifiers are random.</span></span> <span data-ttu-id="cc197-226">Implemente o controle CAPTCHA em páginas anônimas.</span><span class="sxs-lookup"><span data-stu-id="cc197-226">Implement CAPTCHA control on anonymous pages.</span></span> <span data-ttu-id="cc197-227">Assegure que erros e exceções não revelem dados específicos.</span><span class="sxs-lookup"><span data-stu-id="cc197-227">Ensure that error and exception should not reveal specific data</span></span>|

## <span data-ttu-id="cc197-228"><a id="principle-least-privilege"></a>Garantir que um sistema de autorização adequado esteja em vigor e que o princípio dos privilégios mínimos seja seguido</span><span class="sxs-lookup"><span data-stu-id="cc197-228"><a id="principle-least-privilege"></a>Ensure that proper authorization is in place and principle of least privileges is followed</span></span>

| <span data-ttu-id="cc197-229">Title</span><span class="sxs-lookup"><span data-stu-id="cc197-229">Title</span></span>                   | <span data-ttu-id="cc197-230">Detalhes</span><span class="sxs-lookup"><span data-stu-id="cc197-230">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cc197-231">**Componente**</span><span class="sxs-lookup"><span data-stu-id="cc197-231">**Component**</span></span>               | <span data-ttu-id="cc197-232">Aplicativo Web</span><span class="sxs-lookup"><span data-stu-id="cc197-232">Web Application</span></span> | 
| <span data-ttu-id="cc197-233">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="cc197-233">**SDL Phase**</span></span>               | <span data-ttu-id="cc197-234">Compilação</span><span class="sxs-lookup"><span data-stu-id="cc197-234">Build</span></span> |  
| <span data-ttu-id="cc197-235">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="cc197-235">**Applicable Technologies**</span></span> | <span data-ttu-id="cc197-236">Genérico</span><span class="sxs-lookup"><span data-stu-id="cc197-236">Generic</span></span> |
| <span data-ttu-id="cc197-237">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="cc197-237">**Attributes**</span></span>              | <span data-ttu-id="cc197-238">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-238">N/A</span></span>  |
| <span data-ttu-id="cc197-239">**Referências**</span><span class="sxs-lookup"><span data-stu-id="cc197-239">**References**</span></span>              | <span data-ttu-id="cc197-240">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-240">N/A</span></span>  |
| <span data-ttu-id="cc197-241">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="cc197-241">**Steps**</span></span> | <p><span data-ttu-id="cc197-242">Seguir esse princípio significa fornecer a uma conta de usuário apenas os privilégios essenciais ao trabalho desse usuário.</span><span class="sxs-lookup"><span data-stu-id="cc197-242">The principle means giving a user account only those privileges which are essential to that users work.</span></span> <span data-ttu-id="cc197-243">Por exemplo, um usuário de backup não precisa instalar o software, logo ele terá direitos somente para fazer backups e executar os aplicativos de backup relacionados.</span><span class="sxs-lookup"><span data-stu-id="cc197-243">For example, a backup user does not need to install software: hence, the backup user has rights only to run backup and backup-related applications.</span></span> <span data-ttu-id="cc197-244">Quaisquer outros privilégios, como instalar um novo software, serão bloqueados.</span><span class="sxs-lookup"><span data-stu-id="cc197-244">Any other privileges, such as installing new software, are blocked.</span></span> <span data-ttu-id="cc197-245">Esse princípio também se aplica a um usuário de computador pessoal que geralmente trabalha com uma conta de usuário comum e que abre uma conta com privilégios e protegida por senha (ou seja, a de um superusuário) somente quando for absolutamente necessário.</span><span class="sxs-lookup"><span data-stu-id="cc197-245">The principle applies also to a personal computer user who usually does work in a normal user account, and opens a privileged, password protected account (that is, a superuser) only when the situation absolutely demands it.</span></span> </p><p><span data-ttu-id="cc197-246">É possível aplicar esse princípio a aplicativos Web.</span><span class="sxs-lookup"><span data-stu-id="cc197-246">This principle can also be applied to your web-applications.</span></span> <span data-ttu-id="cc197-247">Em vez de depender apenas dos métodos de autenticação baseada em função usando sessões, queremos atribuir privilégios a usuários por meio de um sistema de autenticação baseado em banco de dados.</span><span class="sxs-lookup"><span data-stu-id="cc197-247">Instead of solely depending on role-based authentication methods using sessions, we rather want to assign privileges to users by means of a Database-Based Authentication system.</span></span> <span data-ttu-id="cc197-248">As sessões continuarão sendo usadas para identificar se o usuário fez logon corretamente, mas agora, em vez de atribuir uma função específica a esse usuário, você pode atribuir privilégios a ele para verificar quais ações ele tem permissão para executar no sistema.</span><span class="sxs-lookup"><span data-stu-id="cc197-248">We still use sessions in order to identify if the user was logged in correctly, only now instead of assigning that user with a specific role we assign him with privileges to verify which actions he is privileged to perform on the system.</span></span> <span data-ttu-id="cc197-249">Esse método tem uma outra grande vantagem: sempre que for necessário atribuir menos privilégios a um usuário, suas alterações serão aplicadas imediatamente, porque a atribuição não depende da sessão. Se esse fosse o caso, a sessão precisaria expirar primeiro.</span><span class="sxs-lookup"><span data-stu-id="cc197-249">Also a big pro of this method is, whenever a user has to be assigned fewer privileges your changes will be applied on the fly since the assigning does not depend on the session which otherwise had to expire first.</span></span></p>|

## <span data-ttu-id="cc197-250"><a id="logic-request-parameters"></a>As decisões de autorização de acesso a recursos e a lógica de negócios não devem ser baseadas em parâmetros de solicitação de entrada</span><span class="sxs-lookup"><span data-stu-id="cc197-250"><a id="logic-request-parameters"></a>Business logic and resource access authorization decisions should not be based on incoming request parameters</span></span>

| <span data-ttu-id="cc197-251">Title</span><span class="sxs-lookup"><span data-stu-id="cc197-251">Title</span></span>                   | <span data-ttu-id="cc197-252">Detalhes</span><span class="sxs-lookup"><span data-stu-id="cc197-252">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cc197-253">**Componente**</span><span class="sxs-lookup"><span data-stu-id="cc197-253">**Component**</span></span>               | <span data-ttu-id="cc197-254">Aplicativo Web</span><span class="sxs-lookup"><span data-stu-id="cc197-254">Web Application</span></span> | 
| <span data-ttu-id="cc197-255">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="cc197-255">**SDL Phase**</span></span>               | <span data-ttu-id="cc197-256">Compilação</span><span class="sxs-lookup"><span data-stu-id="cc197-256">Build</span></span> |  
| <span data-ttu-id="cc197-257">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="cc197-257">**Applicable Technologies**</span></span> | <span data-ttu-id="cc197-258">Genérico</span><span class="sxs-lookup"><span data-stu-id="cc197-258">Generic</span></span> |
| <span data-ttu-id="cc197-259">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="cc197-259">**Attributes**</span></span>              | <span data-ttu-id="cc197-260">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-260">N/A</span></span>  |
| <span data-ttu-id="cc197-261">**Referências**</span><span class="sxs-lookup"><span data-stu-id="cc197-261">**References**</span></span>              | <span data-ttu-id="cc197-262">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-262">N/A</span></span>  |
| <span data-ttu-id="cc197-263">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="cc197-263">**Steps**</span></span> | <span data-ttu-id="cc197-264">Sempre que você estiver verificando se um usuário não tem permissão para acessar alguns dados, as restrições de acesso devem ser processadas no servidor.</span><span class="sxs-lookup"><span data-stu-id="cc197-264">Whenever you are checking whether a user is restricted to review certain data, the access restrictions should be processed server-side.</span></span> <span data-ttu-id="cc197-265">O identificador de usuário (userID) deve ser armazenado dentro de uma variável de sessão no logon e ser usado para recuperar dados do usuário no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="cc197-265">The userID should be stored inside of a session variable on login and should be used to retrieve user data from the database</span></span> |

### <a name="example"></a><span data-ttu-id="cc197-266">Exemplo</span><span class="sxs-lookup"><span data-stu-id="cc197-266">Example</span></span>
```SQL
SELECT data 
FROM personaldata 
WHERE userID=:id < - session var 
```
<span data-ttu-id="cc197-267">Isso impede que invasores adulterem e modifiquem a operação do aplicativo, porque a identificador de recuperação de dados é processado pelo servidor.</span><span class="sxs-lookup"><span data-stu-id="cc197-267">Now an possible attacker can not tamper and change the application operation since the identifier for retrieving the data is handled server-side.</span></span>

## <span data-ttu-id="cc197-268"><a id="enumerable-browsing"></a>Garantir que conteúdos e recursos não sejam enumeráveis ou estejam acessíveis por meio da navegação forçada</span><span class="sxs-lookup"><span data-stu-id="cc197-268"><a id="enumerable-browsing"></a>Ensure that content and resources are not enumerable or accessible via forceful browsing</span></span>

| <span data-ttu-id="cc197-269">Title</span><span class="sxs-lookup"><span data-stu-id="cc197-269">Title</span></span>                   | <span data-ttu-id="cc197-270">Detalhes</span><span class="sxs-lookup"><span data-stu-id="cc197-270">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cc197-271">**Componente**</span><span class="sxs-lookup"><span data-stu-id="cc197-271">**Component**</span></span>               | <span data-ttu-id="cc197-272">Aplicativo Web</span><span class="sxs-lookup"><span data-stu-id="cc197-272">Web Application</span></span> | 
| <span data-ttu-id="cc197-273">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="cc197-273">**SDL Phase**</span></span>               | <span data-ttu-id="cc197-274">Compilação</span><span class="sxs-lookup"><span data-stu-id="cc197-274">Build</span></span> |  
| <span data-ttu-id="cc197-275">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="cc197-275">**Applicable Technologies**</span></span> | <span data-ttu-id="cc197-276">Genérico</span><span class="sxs-lookup"><span data-stu-id="cc197-276">Generic</span></span> |
| <span data-ttu-id="cc197-277">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="cc197-277">**Attributes**</span></span>              | <span data-ttu-id="cc197-278">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-278">N/A</span></span>  |
| <span data-ttu-id="cc197-279">**Referências**</span><span class="sxs-lookup"><span data-stu-id="cc197-279">**References**</span></span>              | <span data-ttu-id="cc197-280">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-280">N/A</span></span>  |
| <span data-ttu-id="cc197-281">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="cc197-281">**Steps**</span></span> | <p><span data-ttu-id="cc197-282">Arquivos de configuração estáticos e com informações confidenciais não devem ser mantidos no diretório base.</span><span class="sxs-lookup"><span data-stu-id="cc197-282">Sensitive static and configuration files should not be kept in the web-root.</span></span> <span data-ttu-id="cc197-283">Para conteúdos que não precisam ser divulgados, aplique os controles de acesso adequados ou remova esses conteúdos.</span><span class="sxs-lookup"><span data-stu-id="cc197-283">For content not required to be public, either proper access controls should be applied or removal of the content itself.</span></span></p><p><span data-ttu-id="cc197-284">Além disso, a navegação forçada geralmente é combinada com técnicas de força bruta para coletar informações durante a tentativa de acessar o máximo de URLs possível para enumerar os diretórios e os arquivos em um servidor.</span><span class="sxs-lookup"><span data-stu-id="cc197-284">Also, forceful browsing is usually combined with Brute Force techniques to gather information by attempting to access as many URLs as possible to enumerate directories and files on a server.</span></span> <span data-ttu-id="cc197-285">Os invasores podem procurar todas as variações dos arquivos mais comuns existentes.</span><span class="sxs-lookup"><span data-stu-id="cc197-285">Attackers may check for all variations of commonly existing files.</span></span> <span data-ttu-id="cc197-286">Por exemplo, uma pesquisa de arquivo de senha incluiria os arquivos psswd.txt, password.htm, password.dat e outras variações.</span><span class="sxs-lookup"><span data-stu-id="cc197-286">For example, a password file search would encompass files including psswd.txt, password.htm, password.dat, and other variations.</span></span></p><p><span data-ttu-id="cc197-287">Para atenuar isso, recursos de detecção de tentativas de força bruta tentativas devem ser incluídos.</span><span class="sxs-lookup"><span data-stu-id="cc197-287">To mitigate this, capabilities for detection of brute force attempts should be included.</span></span></p>|

## <span data-ttu-id="cc197-288"><a id="privileged-server"></a>Garantir que contas com privilégios mínimos sejam usadas para estabelecer conexões com o servidor de banco de dados</span><span class="sxs-lookup"><span data-stu-id="cc197-288"><a id="privileged-server"></a>Ensure that least-privileged accounts are used to connect to Database server</span></span>

| <span data-ttu-id="cc197-289">Title</span><span class="sxs-lookup"><span data-stu-id="cc197-289">Title</span></span>                   | <span data-ttu-id="cc197-290">Detalhes</span><span class="sxs-lookup"><span data-stu-id="cc197-290">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cc197-291">**Componente**</span><span class="sxs-lookup"><span data-stu-id="cc197-291">**Component**</span></span>               | <span data-ttu-id="cc197-292">Banco de dados</span><span class="sxs-lookup"><span data-stu-id="cc197-292">Database</span></span> | 
| <span data-ttu-id="cc197-293">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="cc197-293">**SDL Phase**</span></span>               | <span data-ttu-id="cc197-294">Compilação</span><span class="sxs-lookup"><span data-stu-id="cc197-294">Build</span></span> |  
| <span data-ttu-id="cc197-295">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="cc197-295">**Applicable Technologies**</span></span> | <span data-ttu-id="cc197-296">Genérico</span><span class="sxs-lookup"><span data-stu-id="cc197-296">Generic</span></span> |
| <span data-ttu-id="cc197-297">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="cc197-297">**Attributes**</span></span>              | <span data-ttu-id="cc197-298">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-298">N/A</span></span>  |
| <span data-ttu-id="cc197-299">**Referências**</span><span class="sxs-lookup"><span data-stu-id="cc197-299">**References**</span></span>              | <span data-ttu-id="cc197-300">[Hierarquia de permissões de banco de dados SQL](https://msdn.microsoft.com/library/ms191465), [Protegíveis de banco de dados SQL](https://msdn.microsoft.com/library/ms190401)</span><span class="sxs-lookup"><span data-stu-id="cc197-300">[SQL Database permissions hierarchy](https://msdn.microsoft.com/library/ms191465), [SQL database securables](https://msdn.microsoft.com/library/ms190401)</span></span> |
| <span data-ttu-id="cc197-301">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="cc197-301">**Steps**</span></span> | <span data-ttu-id="cc197-302">As contas com privilégios mínimos devem ser usadas para conexão com o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="cc197-302">Least-privileged accounts should be used to connect to the database.</span></span> <span data-ttu-id="cc197-303">O logon em aplicativos deve ser restrito no banco de dados, só deve executar os procedimentos armazenados selecionados</span><span class="sxs-lookup"><span data-stu-id="cc197-303">Application login should be restricted in the database and should only execute selected stored procedures.</span></span> <span data-ttu-id="cc197-304">e não deve conceder acesso direto à tabela.</span><span class="sxs-lookup"><span data-stu-id="cc197-304">Application's login should have no direct table access.</span></span> |

## <span data-ttu-id="cc197-305"><a id="rls-tenants"></a>Implementar a RLS (Segurança em Nível de Linha) para impedir que locatários acessem os dados uns dos outros</span><span class="sxs-lookup"><span data-stu-id="cc197-305"><a id="rls-tenants"></a>Implement Row Level Security RLS to prevent tenants from accessing each other's data</span></span>

| <span data-ttu-id="cc197-306">Title</span><span class="sxs-lookup"><span data-stu-id="cc197-306">Title</span></span>                   | <span data-ttu-id="cc197-307">Detalhes</span><span class="sxs-lookup"><span data-stu-id="cc197-307">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cc197-308">**Componente**</span><span class="sxs-lookup"><span data-stu-id="cc197-308">**Component**</span></span>               | <span data-ttu-id="cc197-309">Banco de dados</span><span class="sxs-lookup"><span data-stu-id="cc197-309">Database</span></span> | 
| <span data-ttu-id="cc197-310">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="cc197-310">**SDL Phase**</span></span>               | <span data-ttu-id="cc197-311">Compilação</span><span class="sxs-lookup"><span data-stu-id="cc197-311">Build</span></span> |  
| <span data-ttu-id="cc197-312">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="cc197-312">**Applicable Technologies**</span></span> | <span data-ttu-id="cc197-313">SQL Azure, OnPrem</span><span class="sxs-lookup"><span data-stu-id="cc197-313">Sql Azure, OnPrem</span></span> |
| <span data-ttu-id="cc197-314">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="cc197-314">**Attributes**</span></span>              | <span data-ttu-id="cc197-315">Versão do SQL - V12, Versão do SQL - MsSQL2016</span><span class="sxs-lookup"><span data-stu-id="cc197-315">SQL Version - V12, SQL Version - MsSQL2016</span></span> |
| <span data-ttu-id="cc197-316">**Referências**</span><span class="sxs-lookup"><span data-stu-id="cc197-316">**References**</span></span>              | [<span data-ttu-id="cc197-317">Segurança em Nível de Linha (RLS) do SQL Server</span><span class="sxs-lookup"><span data-stu-id="cc197-317">SQL Server Row-Level Security (RLS)</span></span>](https://msdn.microsoft.com/library/azure/dn765131.aspx) |
| <span data-ttu-id="cc197-318">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="cc197-318">**Steps**</span></span> | <p><span data-ttu-id="cc197-319">A Segurança em Nível de Linha permite aos clientes controlar o acesso às linhas em uma tabela de banco de dados com base nas características do usuário que executa uma consulta (por exemplo, uma associação de grupo ou um contexto de execução).</span><span class="sxs-lookup"><span data-stu-id="cc197-319">Row-Level Security enables customers to control access to rows in a database table based on the characteristics of the user executing a query (e.g., group membership or execution context).</span></span></p><p><span data-ttu-id="cc197-320">A Segurança de Nível de Linha (RLS) simplifica o design e codificação de segurança em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="cc197-320">Row-Level Security (RLS) simplifies the design and coding of security in your application.</span></span> <span data-ttu-id="cc197-321">Ela permite implementar restrições de acesso à linha de dados.</span><span class="sxs-lookup"><span data-stu-id="cc197-321">RLS enables you to implement restrictions on data row access.</span></span> <span data-ttu-id="cc197-322">Por exemplo, garantindo que os funcionários tenham acesso somente às linhas de dados relevantes aos seus respectivos departamento ou restringindo o acesso de um cliente apenas aos dados pertinentes à sua empresa.</span><span class="sxs-lookup"><span data-stu-id="cc197-322">For example ensuring that workers can access only those data rows that are pertinent to their department, or restricting a customer's data access to only the data relevant to their company.</span></span></p><p><span data-ttu-id="cc197-323">A lógica de restrição de acesso está localizada na camada do banco de dados, em vez de estar longe dos dados em outra camada de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="cc197-323">The access restriction logic is located in the database tier rather than away from the data in another application tier.</span></span> <span data-ttu-id="cc197-324">O sistema do banco de dados aplica as restrições de acesso sempre que houver uma tentativa de acessar esses dados em qualquer camada.</span><span class="sxs-lookup"><span data-stu-id="cc197-324">The database system applies the access restrictions every time that data access is attempted from any tier.</span></span> <span data-ttu-id="cc197-325">Isso torna o sistema de segurança mais robusto e confiável, reduzindo a área de superfície do sistema de segurança.</span><span class="sxs-lookup"><span data-stu-id="cc197-325">This makes the security system more reliable and robust by reducing the surface area of the security system.</span></span></p><p>|

<span data-ttu-id="cc197-326">Observe que a RLS, como um recurso de banco de dados pronto para uso, tem suporte apenas a partir do SQL Server 2016 e no banco de dados SQL do Azure.</span><span class="sxs-lookup"><span data-stu-id="cc197-326">Please note that RLS as an out-of-the-box database feature is applicable only to SQL Server starting 2016 and Azure SQL database.</span></span> <span data-ttu-id="cc197-327">Se o recurso RLS pronto para uso não for implementado, assegure que o acesso aos dados seja restringido com modos de exibição e procedimentos</span><span class="sxs-lookup"><span data-stu-id="cc197-327">If the out-of-the-box RLS feature is not implemented, it should be ensured that data access is restricted Using Views and Procedures</span></span>

## <span data-ttu-id="cc197-328"><a id="sysadmin-users"></a>A função sysadmin deve ter apenas usuários necessários válidos</span><span class="sxs-lookup"><span data-stu-id="cc197-328"><a id="sysadmin-users"></a>Sysadmin role should only have valid necessary users</span></span>

| <span data-ttu-id="cc197-329">Title</span><span class="sxs-lookup"><span data-stu-id="cc197-329">Title</span></span>                   | <span data-ttu-id="cc197-330">Detalhes</span><span class="sxs-lookup"><span data-stu-id="cc197-330">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cc197-331">**Componente**</span><span class="sxs-lookup"><span data-stu-id="cc197-331">**Component**</span></span>               | <span data-ttu-id="cc197-332">Banco de dados</span><span class="sxs-lookup"><span data-stu-id="cc197-332">Database</span></span> | 
| <span data-ttu-id="cc197-333">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="cc197-333">**SDL Phase**</span></span>               | <span data-ttu-id="cc197-334">Compilação</span><span class="sxs-lookup"><span data-stu-id="cc197-334">Build</span></span> |  
| <span data-ttu-id="cc197-335">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="cc197-335">**Applicable Technologies**</span></span> | <span data-ttu-id="cc197-336">Genérico</span><span class="sxs-lookup"><span data-stu-id="cc197-336">Generic</span></span> |
| <span data-ttu-id="cc197-337">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="cc197-337">**Attributes**</span></span>              | <span data-ttu-id="cc197-338">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-338">N/A</span></span>  |
| <span data-ttu-id="cc197-339">**Referências**</span><span class="sxs-lookup"><span data-stu-id="cc197-339">**References**</span></span>              | <span data-ttu-id="cc197-340">[Hierarquia de permissões de banco de dados SQL](https://msdn.microsoft.com/library/ms191465), [Protegíveis de banco de dados SQL](https://msdn.microsoft.com/library/ms190401)</span><span class="sxs-lookup"><span data-stu-id="cc197-340">[SQL Database permissions hierarchy](https://msdn.microsoft.com/library/ms191465), [SQL database securables](https://msdn.microsoft.com/library/ms190401)</span></span> |
| <span data-ttu-id="cc197-341">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="cc197-341">**Steps**</span></span> | <span data-ttu-id="cc197-342">Os membros com a função de servidor fixa sysadmin devem ser muito limitados e não podem possuir contas usadas por aplicativos.</span><span class="sxs-lookup"><span data-stu-id="cc197-342">Members of the SysAdmin fixed server role should be very limited and never contain accounts used by applications.</span></span>  <span data-ttu-id="cc197-343">Revise a lista de usuários com essa função e remova todas as contas desnecessárias.</span><span class="sxs-lookup"><span data-stu-id="cc197-343">Please review the list of users in the role and remove any unnecessary accounts</span></span>|

## <span data-ttu-id="cc197-344"><a id="cloud-least-privileged"></a>Conectar ao Gateway de Nuvem usando tokens com privilégios mínimos</span><span class="sxs-lookup"><span data-stu-id="cc197-344"><a id="cloud-least-privileged"></a>Connect to Cloud Gateway using least-privileged tokens</span></span>

| <span data-ttu-id="cc197-345">Title</span><span class="sxs-lookup"><span data-stu-id="cc197-345">Title</span></span>                   | <span data-ttu-id="cc197-346">Detalhes</span><span class="sxs-lookup"><span data-stu-id="cc197-346">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cc197-347">**Componente**</span><span class="sxs-lookup"><span data-stu-id="cc197-347">**Component**</span></span>               | <span data-ttu-id="cc197-348">Gateway de Nuvem IoT</span><span class="sxs-lookup"><span data-stu-id="cc197-348">IoT Cloud Gateway</span></span> | 
| <span data-ttu-id="cc197-349">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="cc197-349">**SDL Phase**</span></span>               | <span data-ttu-id="cc197-350">Implantação</span><span class="sxs-lookup"><span data-stu-id="cc197-350">Deployment</span></span> |  
| <span data-ttu-id="cc197-351">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="cc197-351">**Applicable Technologies**</span></span> | <span data-ttu-id="cc197-352">Genérico</span><span class="sxs-lookup"><span data-stu-id="cc197-352">Generic</span></span> |
| <span data-ttu-id="cc197-353">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="cc197-353">**Attributes**</span></span>              | <span data-ttu-id="cc197-354">Opção de gateway - Hub IoT do Azure</span><span class="sxs-lookup"><span data-stu-id="cc197-354">Gateway choice - Azure IoT Hub</span></span> |
| <span data-ttu-id="cc197-355">**Referências**</span><span class="sxs-lookup"><span data-stu-id="cc197-355">**References**</span></span>              | [<span data-ttu-id="cc197-356">Controle de acesso do Hub IoT</span><span class="sxs-lookup"><span data-stu-id="cc197-356">Iot Hub Access Control</span></span>](https://azure.microsoft.com/documentation/articles/iot-hub-devguide/#Security) |
| <span data-ttu-id="cc197-357">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="cc197-357">**Steps**</span></span> | <span data-ttu-id="cc197-358">Forneça permissões com privilégios mínimos para vários componentes que se conectam ao Gateway de Nuvem (Hub IoT).</span><span class="sxs-lookup"><span data-stu-id="cc197-358">Provide least privilege permissions to various components that connect to Cloud Gateway (IoT Hub).</span></span> <span data-ttu-id="cc197-359">Um exemplo típico: o componente de gerenciamento/provisionamento de dispositivos usa os recursos de leitura/gravação do Registro, e o processador de eventos (ASA) usa o recurso de conexão de serviço.</span><span class="sxs-lookup"><span data-stu-id="cc197-359">Typical example is – Device management/provisioning component uses registryread/write, Event Processor (ASA) uses Service Connect.</span></span> <span data-ttu-id="cc197-360">Dispositivos individuais se conectam usando as credenciais do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="cc197-360">Individual devices connect using Device credentials</span></span>|

## <span data-ttu-id="cc197-361"><a id="sendonly-sas"></a>Usar uma chave SAS com a permissão somente envio para gerar tokens de dispositivo</span><span class="sxs-lookup"><span data-stu-id="cc197-361"><a id="sendonly-sas"></a>Use a send-only permissions SAS Key for generating device tokens</span></span>

| <span data-ttu-id="cc197-362">Title</span><span class="sxs-lookup"><span data-stu-id="cc197-362">Title</span></span>                   | <span data-ttu-id="cc197-363">Detalhes</span><span class="sxs-lookup"><span data-stu-id="cc197-363">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cc197-364">**Componente**</span><span class="sxs-lookup"><span data-stu-id="cc197-364">**Component**</span></span>               | <span data-ttu-id="cc197-365">Hub de Eventos do Azure</span><span class="sxs-lookup"><span data-stu-id="cc197-365">Azure Event Hub</span></span> | 
| <span data-ttu-id="cc197-366">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="cc197-366">**SDL Phase**</span></span>               | <span data-ttu-id="cc197-367">Compilação</span><span class="sxs-lookup"><span data-stu-id="cc197-367">Build</span></span> |  
| <span data-ttu-id="cc197-368">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="cc197-368">**Applicable Technologies**</span></span> | <span data-ttu-id="cc197-369">Genérico</span><span class="sxs-lookup"><span data-stu-id="cc197-369">Generic</span></span> |
| <span data-ttu-id="cc197-370">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="cc197-370">**Attributes**</span></span>              | <span data-ttu-id="cc197-371">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-371">N/A</span></span>  |
| <span data-ttu-id="cc197-372">**Referências**</span><span class="sxs-lookup"><span data-stu-id="cc197-372">**References**</span></span>              | [<span data-ttu-id="cc197-373">Visão geral do modelo de autenticação e segurança dos Hubs de Eventos</span><span class="sxs-lookup"><span data-stu-id="cc197-373">Event Hubs authentication and security model overview</span></span>](https://azure.microsoft.com/documentation/articles/event-hubs-authentication-and-security-model-overview/) |
| <span data-ttu-id="cc197-374">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="cc197-374">**Steps**</span></span> | <span data-ttu-id="cc197-375">Uma chave SAS é usada para gerar tokens para dispositivos individuais.</span><span class="sxs-lookup"><span data-stu-id="cc197-375">A SAS key is used to generate individual device tokens.</span></span> <span data-ttu-id="cc197-376">Use uma chave SAS com a permissão somente envio ao gerar o token do dispositivo para um editor específico.</span><span class="sxs-lookup"><span data-stu-id="cc197-376">Use a send-only permissions SAS key while generating the device token for a given publisher</span></span>|

## <span data-ttu-id="cc197-377"><a id="access-tokens-hub"></a>Não usar tokens de acesso que fornecem acesso direto ao Hub de Eventos</span><span class="sxs-lookup"><span data-stu-id="cc197-377"><a id="access-tokens-hub"></a>Do not use access tokens that provide direct access to the Event Hub</span></span>

| <span data-ttu-id="cc197-378">Title</span><span class="sxs-lookup"><span data-stu-id="cc197-378">Title</span></span>                   | <span data-ttu-id="cc197-379">Detalhes</span><span class="sxs-lookup"><span data-stu-id="cc197-379">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cc197-380">**Componente**</span><span class="sxs-lookup"><span data-stu-id="cc197-380">**Component**</span></span>               | <span data-ttu-id="cc197-381">Hub de Eventos do Azure</span><span class="sxs-lookup"><span data-stu-id="cc197-381">Azure Event Hub</span></span> | 
| <span data-ttu-id="cc197-382">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="cc197-382">**SDL Phase**</span></span>               | <span data-ttu-id="cc197-383">Compilação</span><span class="sxs-lookup"><span data-stu-id="cc197-383">Build</span></span> |  
| <span data-ttu-id="cc197-384">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="cc197-384">**Applicable Technologies**</span></span> | <span data-ttu-id="cc197-385">Genérico</span><span class="sxs-lookup"><span data-stu-id="cc197-385">Generic</span></span> |
| <span data-ttu-id="cc197-386">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="cc197-386">**Attributes**</span></span>              | <span data-ttu-id="cc197-387">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-387">N/A</span></span>  |
| <span data-ttu-id="cc197-388">**Referências**</span><span class="sxs-lookup"><span data-stu-id="cc197-388">**References**</span></span>              | [<span data-ttu-id="cc197-389">Visão geral do modelo de autenticação e segurança dos Hubs de Eventos</span><span class="sxs-lookup"><span data-stu-id="cc197-389">Event Hubs authentication and security model overview</span></span>](https://azure.microsoft.com/documentation/articles/event-hubs-authentication-and-security-model-overview/) |
| <span data-ttu-id="cc197-390">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="cc197-390">**Steps**</span></span> | <span data-ttu-id="cc197-391">Um token que concede acesso direto ao Hub de Eventos não deve ser fornecido para o dispositivo.</span><span class="sxs-lookup"><span data-stu-id="cc197-391">A token that grants direct access to the event hub should not be given to the device.</span></span> <span data-ttu-id="cc197-392">Usar para o dispositivo um token com privilégios mínimos e que forneça acesso somente a um editor ajudaria a identificar o dispositivo e adicioná-lo à lista de bloqueios, caso ele seja um dispositivo invasor ou comprometido.</span><span class="sxs-lookup"><span data-stu-id="cc197-392">Using a least privileged token for the device that gives access only to a publisher would help identify and blacklist it if found to be a rogue or compromised device.</span></span>|

## <span data-ttu-id="cc197-393"><a id="sas-minimum-permissions"></a>Conectar ao Hub de Eventos usando chaves SAS que tenham as permissões mínimas necessárias</span><span class="sxs-lookup"><span data-stu-id="cc197-393"><a id="sas-minimum-permissions"></a>Connect to Event Hub using SAS keys that have the minimum permissions required</span></span>

| <span data-ttu-id="cc197-394">Title</span><span class="sxs-lookup"><span data-stu-id="cc197-394">Title</span></span>                   | <span data-ttu-id="cc197-395">Detalhes</span><span class="sxs-lookup"><span data-stu-id="cc197-395">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cc197-396">**Componente**</span><span class="sxs-lookup"><span data-stu-id="cc197-396">**Component**</span></span>               | <span data-ttu-id="cc197-397">Hub de Eventos do Azure</span><span class="sxs-lookup"><span data-stu-id="cc197-397">Azure Event Hub</span></span> | 
| <span data-ttu-id="cc197-398">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="cc197-398">**SDL Phase**</span></span>               | <span data-ttu-id="cc197-399">Compilação</span><span class="sxs-lookup"><span data-stu-id="cc197-399">Build</span></span> |  
| <span data-ttu-id="cc197-400">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="cc197-400">**Applicable Technologies**</span></span> | <span data-ttu-id="cc197-401">Genérico</span><span class="sxs-lookup"><span data-stu-id="cc197-401">Generic</span></span> |
| <span data-ttu-id="cc197-402">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="cc197-402">**Attributes**</span></span>              | <span data-ttu-id="cc197-403">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-403">N/A</span></span>  |
| <span data-ttu-id="cc197-404">**Referências**</span><span class="sxs-lookup"><span data-stu-id="cc197-404">**References**</span></span>              | [<span data-ttu-id="cc197-405">Visão geral do modelo de autenticação e segurança dos Hubs de Eventos</span><span class="sxs-lookup"><span data-stu-id="cc197-405">Event Hubs authentication and security model overview</span></span>](https://azure.microsoft.com/documentation/articles/event-hubs-authentication-and-security-model-overview/) |
| <span data-ttu-id="cc197-406">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="cc197-406">**Steps**</span></span> | <span data-ttu-id="cc197-407">Forneça permissões de privilégio mínimo para vários aplicativos back-end que se conectam ao Hub de Eventos.</span><span class="sxs-lookup"><span data-stu-id="cc197-407">Provide least privilege permissions to various back-end applications that connect to the Event Hub.</span></span> <span data-ttu-id="cc197-408">Gere chaves SAS separadas para cada aplicativo de back-end e forneça apenas as permissões necessárias (Envio, Recebimento ou Gerenciamento) a eles.</span><span class="sxs-lookup"><span data-stu-id="cc197-408">Generate separate SAS keys for each back-end application and only provide the required permissions - Send, Receive or Manage to them.</span></span>|

## <span data-ttu-id="cc197-409"><a id="resource-docdb"></a>Usar tokens de recurso para se conectar ao Cosmos DB sempre que possível</span><span class="sxs-lookup"><span data-stu-id="cc197-409"><a id="resource-docdb"></a>Use resource tokens to connect to Cosmos DB whenever possible</span></span>

| <span data-ttu-id="cc197-410">Title</span><span class="sxs-lookup"><span data-stu-id="cc197-410">Title</span></span>                   | <span data-ttu-id="cc197-411">Detalhes</span><span class="sxs-lookup"><span data-stu-id="cc197-411">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cc197-412">**Componente**</span><span class="sxs-lookup"><span data-stu-id="cc197-412">**Component**</span></span>               | <span data-ttu-id="cc197-413">Azure Document DB</span><span class="sxs-lookup"><span data-stu-id="cc197-413">Azure Document DB</span></span> | 
| <span data-ttu-id="cc197-414">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="cc197-414">**SDL Phase**</span></span>               | <span data-ttu-id="cc197-415">Compilação</span><span class="sxs-lookup"><span data-stu-id="cc197-415">Build</span></span> |  
| <span data-ttu-id="cc197-416">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="cc197-416">**Applicable Technologies**</span></span> | <span data-ttu-id="cc197-417">Genérico</span><span class="sxs-lookup"><span data-stu-id="cc197-417">Generic</span></span> |
| <span data-ttu-id="cc197-418">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="cc197-418">**Attributes**</span></span>              | <span data-ttu-id="cc197-419">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-419">N/A</span></span>  |
| <span data-ttu-id="cc197-420">**Referências**</span><span class="sxs-lookup"><span data-stu-id="cc197-420">**References**</span></span>              | <span data-ttu-id="cc197-421">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-421">N/A</span></span>  |
| <span data-ttu-id="cc197-422">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="cc197-422">**Steps**</span></span> | <span data-ttu-id="cc197-423">Um token de recurso é associado a um recurso de permissão do DocumentDB e captura a relação entre o usuário de um banco de dados e a permissão que ele tem para acessar um recurso de aplicativo específico do DocumentDB (como uma coleção ou documento).</span><span class="sxs-lookup"><span data-stu-id="cc197-423">A resource token is associated with a DocumentDB permission resource and captures the relationship between the user of a database and the permission that user has for a specific DocumentDB application resource (e.g. collection, document).</span></span> <span data-ttu-id="cc197-424">Use sempre um token de recurso para acessar o DocumentDB se o cliente não puder processar uma chave mestra ou chaves somente leitura, como clientes de dispositivos móveis ou desktop do usuário final. Use a chave mestra ou chaves somente leitura em aplicativos back-end capazes de armazenar esses tipos de chave com segurança.</span><span class="sxs-lookup"><span data-stu-id="cc197-424">Always use a resource token to access the DocumentDB if the client cannot be trusted with handling master or read-only keys - like an end user application like a mobile or desktop client.Use Master key or read-only keys from backend applications which can store these keys securely.</span></span>|

## <span data-ttu-id="cc197-425"><a id="grained-rbac"></a>Habilitar o gerenciamento de acesso refinado à assinatura do Azure usando o RBAC</span><span class="sxs-lookup"><span data-stu-id="cc197-425"><a id="grained-rbac"></a>Enable fine-grained access management to Azure Subscription using RBAC</span></span>

| <span data-ttu-id="cc197-426">Title</span><span class="sxs-lookup"><span data-stu-id="cc197-426">Title</span></span>                   | <span data-ttu-id="cc197-427">Detalhes</span><span class="sxs-lookup"><span data-stu-id="cc197-427">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cc197-428">**Componente**</span><span class="sxs-lookup"><span data-stu-id="cc197-428">**Component**</span></span>               | <span data-ttu-id="cc197-429">Limite de Confiança do Azure</span><span class="sxs-lookup"><span data-stu-id="cc197-429">Azure Trust Boundary</span></span> | 
| <span data-ttu-id="cc197-430">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="cc197-430">**SDL Phase**</span></span>               | <span data-ttu-id="cc197-431">Compilação</span><span class="sxs-lookup"><span data-stu-id="cc197-431">Build</span></span> |  
| <span data-ttu-id="cc197-432">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="cc197-432">**Applicable Technologies**</span></span> | <span data-ttu-id="cc197-433">Genérico</span><span class="sxs-lookup"><span data-stu-id="cc197-433">Generic</span></span> |
| <span data-ttu-id="cc197-434">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="cc197-434">**Attributes**</span></span>              | <span data-ttu-id="cc197-435">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-435">N/A</span></span>  |
| <span data-ttu-id="cc197-436">**Referências**</span><span class="sxs-lookup"><span data-stu-id="cc197-436">**References**</span></span>              | [<span data-ttu-id="cc197-437">Usar as atribuições de função para gerenciar o acesso aos recursos de assinatura do Azure</span><span class="sxs-lookup"><span data-stu-id="cc197-437">Use role assignments to manage access to your Azure subscription resources</span></span>](https://azure.microsoft.com/documentation/articles/role-based-access-control-configure/)  |
| <span data-ttu-id="cc197-438">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="cc197-438">**Steps**</span></span> | <span data-ttu-id="cc197-439">O RBAC (controle de acesso baseado em função) do Azure permite o gerenciamento de acesso refinado para o Azure.</span><span class="sxs-lookup"><span data-stu-id="cc197-439">Azure Role-Based Access Control (RBAC) enables fine-grained access management for Azure.</span></span> <span data-ttu-id="cc197-440">Usando o RBAC, você pode conceder apenas a quantidade de acesso que os usuários precisam para realizar seus trabalhos.</span><span class="sxs-lookup"><span data-stu-id="cc197-440">Using RBAC, you can grant only the amount of access that users need to perform their jobs.</span></span>|

## <span data-ttu-id="cc197-441"><a id="cluster-rbac"></a>Restringir o acesso do cliente ao cluster de operações usando o RBAC</span><span class="sxs-lookup"><span data-stu-id="cc197-441"><a id="cluster-rbac"></a>Restrict client's access to cluster operations using RBAC</span></span>

| <span data-ttu-id="cc197-442">Title</span><span class="sxs-lookup"><span data-stu-id="cc197-442">Title</span></span>                   | <span data-ttu-id="cc197-443">Detalhes</span><span class="sxs-lookup"><span data-stu-id="cc197-443">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cc197-444">**Componente**</span><span class="sxs-lookup"><span data-stu-id="cc197-444">**Component**</span></span>               | <span data-ttu-id="cc197-445">Limite de confiança do Service Fabric</span><span class="sxs-lookup"><span data-stu-id="cc197-445">Service Fabric Trust Boundary</span></span> | 
| <span data-ttu-id="cc197-446">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="cc197-446">**SDL Phase**</span></span>               | <span data-ttu-id="cc197-447">Implantação</span><span class="sxs-lookup"><span data-stu-id="cc197-447">Deployment</span></span> |  
| <span data-ttu-id="cc197-448">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="cc197-448">**Applicable Technologies**</span></span> | <span data-ttu-id="cc197-449">Genérico</span><span class="sxs-lookup"><span data-stu-id="cc197-449">Generic</span></span> |
| <span data-ttu-id="cc197-450">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="cc197-450">**Attributes**</span></span>              | <span data-ttu-id="cc197-451">Ambiente - Azure</span><span class="sxs-lookup"><span data-stu-id="cc197-451">Environment - Azure</span></span> |
| <span data-ttu-id="cc197-452">**Referências**</span><span class="sxs-lookup"><span data-stu-id="cc197-452">**References**</span></span>              | [<span data-ttu-id="cc197-453">Controle de acesso baseado em função para clientes do Service Fabric</span><span class="sxs-lookup"><span data-stu-id="cc197-453">Role-based access control for Service Fabric clients</span></span>](https://azure.microsoft.com/documentation/articles/service-fabric-cluster-security-roles/) |
| <span data-ttu-id="cc197-454">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="cc197-454">**Steps**</span></span> | <p><span data-ttu-id="cc197-455">O Service Fabric dá suporte a dois tipos de controle de acesso diferentes para clientes conectados a um cluster do Service Fabric: administrador e usuário.</span><span class="sxs-lookup"><span data-stu-id="cc197-455">Azure Service Fabric supports two different access control types for clients that are connected to a Service Fabric cluster: administrator and user.</span></span> <span data-ttu-id="cc197-456">O controle de acesso permite que o administrador de cluster limite o acesso a determinadas operações de cluster para diferentes grupos de usuários, tornando o cluster mais seguro.</span><span class="sxs-lookup"><span data-stu-id="cc197-456">Access control allows the cluster administrator to limit access to certain cluster operations for different groups of users, making the cluster more secure.</span></span></p><p><span data-ttu-id="cc197-457">Os administradores têm acesso completo aos recursos de gerenciamento (incluindo recursos de leitura/gravação).</span><span class="sxs-lookup"><span data-stu-id="cc197-457">Administrators have full access to management capabilities (including read/write capabilities).</span></span> <span data-ttu-id="cc197-458">Os usuários, por padrão, têm apenas acesso de leitura aos recursos de gerenciamento (por exemplo, recursos de consulta) e a capacidade de resolver serviços e aplicativos.</span><span class="sxs-lookup"><span data-stu-id="cc197-458">Users, by default, have only read access to management capabilities (for example, query capabilities), and the ability to resolve applications and services.</span></span></p><p><span data-ttu-id="cc197-459">As duas funções de clientes (administrador ou cliente) são especificadas no momento da criação do cluster, com o fornecimento de certificados separados para cada um.</span><span class="sxs-lookup"><span data-stu-id="cc197-459">You specify the two client roles (administrator and client) at the time of cluster creation by providing separate certificates for each.</span></span></p>|

## <span data-ttu-id="cc197-460"><a id="modeling-field"></a>Executar a modelagem de segurança e usar a segurança no nível do campo onde for necessário</span><span class="sxs-lookup"><span data-stu-id="cc197-460"><a id="modeling-field"></a>Perform security modeling and use Field Level Security where required</span></span>

| <span data-ttu-id="cc197-461">Title</span><span class="sxs-lookup"><span data-stu-id="cc197-461">Title</span></span>                   | <span data-ttu-id="cc197-462">Detalhes</span><span class="sxs-lookup"><span data-stu-id="cc197-462">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cc197-463">**Componente**</span><span class="sxs-lookup"><span data-stu-id="cc197-463">**Component**</span></span>               | <span data-ttu-id="cc197-464">Dynamics CRM</span><span class="sxs-lookup"><span data-stu-id="cc197-464">Dynamics CRM</span></span> | 
| <span data-ttu-id="cc197-465">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="cc197-465">**SDL Phase**</span></span>               | <span data-ttu-id="cc197-466">Compilação</span><span class="sxs-lookup"><span data-stu-id="cc197-466">Build</span></span> |  
| <span data-ttu-id="cc197-467">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="cc197-467">**Applicable Technologies**</span></span> | <span data-ttu-id="cc197-468">Genérico</span><span class="sxs-lookup"><span data-stu-id="cc197-468">Generic</span></span> |
| <span data-ttu-id="cc197-469">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="cc197-469">**Attributes**</span></span>              | <span data-ttu-id="cc197-470">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-470">N/A</span></span>  |
| <span data-ttu-id="cc197-471">**Referências**</span><span class="sxs-lookup"><span data-stu-id="cc197-471">**References**</span></span>              | <span data-ttu-id="cc197-472">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-472">N/A</span></span>  |
| <span data-ttu-id="cc197-473">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="cc197-473">**Steps**</span></span> | <span data-ttu-id="cc197-474">Execute a modelagem de segurança e use a segurança no nível do campo onde for necessário.</span><span class="sxs-lookup"><span data-stu-id="cc197-474">Perform security modeling and use Field Level Security where required</span></span>|

## <span data-ttu-id="cc197-475"><a id="portal-security"></a>Executar a modelagem de segurança das contas do portal tendo em mente que o modelo de segurança do portal é diferente do restante do CRM</span><span class="sxs-lookup"><span data-stu-id="cc197-475"><a id="portal-security"></a>Perform security modeling of portal accounts keeping in mind that the security model for the portal differs from the rest of CRM</span></span>

| <span data-ttu-id="cc197-476">Title</span><span class="sxs-lookup"><span data-stu-id="cc197-476">Title</span></span>                   | <span data-ttu-id="cc197-477">Detalhes</span><span class="sxs-lookup"><span data-stu-id="cc197-477">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cc197-478">**Componente**</span><span class="sxs-lookup"><span data-stu-id="cc197-478">**Component**</span></span>               | <span data-ttu-id="cc197-479">Portal do Dynamics CRM</span><span class="sxs-lookup"><span data-stu-id="cc197-479">Dynamics CRM Portal</span></span> | 
| <span data-ttu-id="cc197-480">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="cc197-480">**SDL Phase**</span></span>               | <span data-ttu-id="cc197-481">Compilação</span><span class="sxs-lookup"><span data-stu-id="cc197-481">Build</span></span> |  
| <span data-ttu-id="cc197-482">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="cc197-482">**Applicable Technologies**</span></span> | <span data-ttu-id="cc197-483">Genérico</span><span class="sxs-lookup"><span data-stu-id="cc197-483">Generic</span></span> |
| <span data-ttu-id="cc197-484">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="cc197-484">**Attributes**</span></span>              | <span data-ttu-id="cc197-485">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-485">N/A</span></span>  |
| <span data-ttu-id="cc197-486">**Referências**</span><span class="sxs-lookup"><span data-stu-id="cc197-486">**References**</span></span>              | <span data-ttu-id="cc197-487">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-487">N/A</span></span>  |
| <span data-ttu-id="cc197-488">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="cc197-488">**Steps**</span></span> | <span data-ttu-id="cc197-489">Execute a modelagem de segurança das contas do portal tendo em mente que o modelo de segurança do portal é diferente do restante do CRM.</span><span class="sxs-lookup"><span data-stu-id="cc197-489">Perform security modeling of portal accounts keeping in mind that the security model for the portal differs from the rest of CRM</span></span>|

## <span data-ttu-id="cc197-490"><a id="permission-entities"></a>Conceder permissões refinadas em um intervalo de entidades no Armazenamento de Tabelas do Azure</span><span class="sxs-lookup"><span data-stu-id="cc197-490"><a id="permission-entities"></a>Grant fine-grained permission on a range of entities in Azure Table Storage</span></span>

| <span data-ttu-id="cc197-491">Title</span><span class="sxs-lookup"><span data-stu-id="cc197-491">Title</span></span>                   | <span data-ttu-id="cc197-492">Detalhes</span><span class="sxs-lookup"><span data-stu-id="cc197-492">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cc197-493">**Componente**</span><span class="sxs-lookup"><span data-stu-id="cc197-493">**Component**</span></span>               | <span data-ttu-id="cc197-494">Armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="cc197-494">Azure Storage</span></span> | 
| <span data-ttu-id="cc197-495">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="cc197-495">**SDL Phase**</span></span>               | <span data-ttu-id="cc197-496">Compilação</span><span class="sxs-lookup"><span data-stu-id="cc197-496">Build</span></span> |  
| <span data-ttu-id="cc197-497">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="cc197-497">**Applicable Technologies**</span></span> | <span data-ttu-id="cc197-498">Genérico</span><span class="sxs-lookup"><span data-stu-id="cc197-498">Generic</span></span> |
| <span data-ttu-id="cc197-499">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="cc197-499">**Attributes**</span></span>              | <span data-ttu-id="cc197-500">Tipo de armazenamento - Tabela</span><span class="sxs-lookup"><span data-stu-id="cc197-500">StorageType - Table</span></span> |
| <span data-ttu-id="cc197-501">**Referências**</span><span class="sxs-lookup"><span data-stu-id="cc197-501">**References**</span></span>              | [<span data-ttu-id="cc197-502">Como conceder acesso a objetos em sua conta de armazenamento do Azure usando SAS</span><span class="sxs-lookup"><span data-stu-id="cc197-502">How to delegate access to objects in your Azure storage account using SAS</span></span>](https://azure.microsoft.com/documentation/articles/storage-security-guide/#_data-plane-security) |
| <span data-ttu-id="cc197-503">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="cc197-503">**Steps**</span></span> | <span data-ttu-id="cc197-504">Em alguns cenários de negócios, o Armazenamento de Tabelas do Azure pode ser necessário para armazenar dados confidenciais que precisam ser acessados por várias pessoas diferentes.</span><span class="sxs-lookup"><span data-stu-id="cc197-504">In certain business scenarios, Azure Table Storage may be required to store sensitive data that caters to different parties.</span></span> <span data-ttu-id="cc197-505">Por exemplo, dados confidenciais pertencentes a países distintos.</span><span class="sxs-lookup"><span data-stu-id="cc197-505">E.g., sensitive data pertaining to different countries.</span></span> <span data-ttu-id="cc197-506">Nesses casos, assinaturas SAS podem ser criadas com a especificação da partição e dos intervalos de linhas da chave, para que um usuário tenha acesso aos dados de um país específico.</span><span class="sxs-lookup"><span data-stu-id="cc197-506">In such cases, SAS signatures can be constructed by specifying the partition and row key ranges, such that a user can access data specific to a particular country.</span></span>| 

## <span data-ttu-id="cc197-507"><a id="rbac-azure-manager"></a>Habilitar o controle de acesso baseado em função (RBAC) na conta de armazenamento do Azure usando o Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="cc197-507"><a id="rbac-azure-manager"></a>Enable Role-Based Access Control (RBAC) to Azure storage account using Azure Resource Manager</span></span>

| <span data-ttu-id="cc197-508">Title</span><span class="sxs-lookup"><span data-stu-id="cc197-508">Title</span></span>                   | <span data-ttu-id="cc197-509">Detalhes</span><span class="sxs-lookup"><span data-stu-id="cc197-509">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cc197-510">**Componente**</span><span class="sxs-lookup"><span data-stu-id="cc197-510">**Component**</span></span>               | <span data-ttu-id="cc197-511">Armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="cc197-511">Azure Storage</span></span> | 
| <span data-ttu-id="cc197-512">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="cc197-512">**SDL Phase**</span></span>               | <span data-ttu-id="cc197-513">Compilação</span><span class="sxs-lookup"><span data-stu-id="cc197-513">Build</span></span> |  
| <span data-ttu-id="cc197-514">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="cc197-514">**Applicable Technologies**</span></span> | <span data-ttu-id="cc197-515">Genérico</span><span class="sxs-lookup"><span data-stu-id="cc197-515">Generic</span></span> |
| <span data-ttu-id="cc197-516">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="cc197-516">**Attributes**</span></span>              | <span data-ttu-id="cc197-517">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-517">N/A</span></span>  |
| <span data-ttu-id="cc197-518">**Referências**</span><span class="sxs-lookup"><span data-stu-id="cc197-518">**References**</span></span>              | [<span data-ttu-id="cc197-519">Como proteger a conta de armazenamento com o RBAC (Controle de Acesso Baseado em Função)</span><span class="sxs-lookup"><span data-stu-id="cc197-519">How to secure your storage account with Role-Based Access Control (RBAC)</span></span>](https://azure.microsoft.com/documentation/articles/storage-security-guide/#management-plane-security) |
| <span data-ttu-id="cc197-520">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="cc197-520">**Steps**</span></span> | <p><span data-ttu-id="cc197-521">Ao criar uma nova conta de armazenamento, você seleciona o modelo de implantação Clássico ou o do Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="cc197-521">When you create a new storage account, you select a deployment model of Classic or Azure Resource Manager.</span></span> <span data-ttu-id="cc197-522">O modelo Clássico de criação de recursos no Azure permite apenas acesso tudo ou nada à assinatura e, por sua vez, à conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="cc197-522">The Classic model of creating resources in Azure only allows all-or-nothing access to the subscription, and in turn, the storage account.</span></span></p><p><span data-ttu-id="cc197-523">Com o modelo do Azure Resource Manager, você coloca a conta de armazenamento em um grupo de recursos e controla o acesso ao plano de gerenciamento dessa conta de armazenamento específica usando o Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="cc197-523">With the Azure Resource Manager model, you put the storage account in a resource group and control access to the management plane of that specific storage account using Azure Active Directory.</span></span> <span data-ttu-id="cc197-524">Por exemplo, é possível permitir que usuários específicos acessem as chaves da conta de armazenamento, enquanto outros usuários podem exibir informações sobre a conta de armazenamento, mas não podem acessar suas chaves.</span><span class="sxs-lookup"><span data-stu-id="cc197-524">For example, you can give specific users the ability to access the storage account keys, while other users can view information about the storage account, but cannot access the storage account keys.</span></span></p>|

## <span data-ttu-id="cc197-525"><a id="rooting-detection"></a>Implementar detecção de modificação ou desbloqueio implícito</span><span class="sxs-lookup"><span data-stu-id="cc197-525"><a id="rooting-detection"></a>Implement implicit jailbreak or rooting detection</span></span>

| <span data-ttu-id="cc197-526">Title</span><span class="sxs-lookup"><span data-stu-id="cc197-526">Title</span></span>                   | <span data-ttu-id="cc197-527">Detalhes</span><span class="sxs-lookup"><span data-stu-id="cc197-527">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cc197-528">**Componente**</span><span class="sxs-lookup"><span data-stu-id="cc197-528">**Component**</span></span>               | <span data-ttu-id="cc197-529">Cliente móvel</span><span class="sxs-lookup"><span data-stu-id="cc197-529">Mobile Client</span></span> | 
| <span data-ttu-id="cc197-530">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="cc197-530">**SDL Phase**</span></span>               | <span data-ttu-id="cc197-531">Compilação</span><span class="sxs-lookup"><span data-stu-id="cc197-531">Build</span></span> |  
| <span data-ttu-id="cc197-532">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="cc197-532">**Applicable Technologies**</span></span> | <span data-ttu-id="cc197-533">Genérico</span><span class="sxs-lookup"><span data-stu-id="cc197-533">Generic</span></span> |
| <span data-ttu-id="cc197-534">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="cc197-534">**Attributes**</span></span>              | <span data-ttu-id="cc197-535">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-535">N/A</span></span>  |
| <span data-ttu-id="cc197-536">**Referências**</span><span class="sxs-lookup"><span data-stu-id="cc197-536">**References**</span></span>              | <span data-ttu-id="cc197-537">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-537">N/A</span></span>  |
| <span data-ttu-id="cc197-538">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="cc197-538">**Steps**</span></span> | <p><span data-ttu-id="cc197-539">Os aplicativos devem proteger seus próprios dados de configuração e usuários no caso de o telefone ser modificado ou desbloqueado.</span><span class="sxs-lookup"><span data-stu-id="cc197-539">Application should safeguard its own configuration and user data in case if phone is rooted or jail broken.</span></span> <span data-ttu-id="cc197-540">A modificação ou o desbloqueio consistem em um acesso não autorizado, que os usuários normalmente não fazem em seus próprios telefones.</span><span class="sxs-lookup"><span data-stu-id="cc197-540">Rooting/jail breaking implies unauthorized access, which normal users won't do on their own phones.</span></span> <span data-ttu-id="cc197-541">Portanto, o aplicativo deve ter uma lógica de detecção implícita na inicialização do aplicativo para detectar se o telefone foi modificado.</span><span class="sxs-lookup"><span data-stu-id="cc197-541">Therefore application should have implicit detection logic on application startup, to detect if the phone has been rooted.</span></span></p><p><span data-ttu-id="cc197-542">A lógica de detecção pode ser simplesmente acessar os arquivos que normalmente apenas o usuário original acessaria, por exemplo:</span><span class="sxs-lookup"><span data-stu-id="cc197-542">The detection logic can be simply accessing files which normally only root user can access, for example:</span></span></p><ul><li><span data-ttu-id="cc197-543">/system/app/Superuser.apk</span><span class="sxs-lookup"><span data-stu-id="cc197-543">/system/app/Superuser.apk</span></span></li><li><span data-ttu-id="cc197-544">/sbin/su</span><span class="sxs-lookup"><span data-stu-id="cc197-544">/sbin/su</span></span></li><li><span data-ttu-id="cc197-545">/system/bin/su</span><span class="sxs-lookup"><span data-stu-id="cc197-545">/system/bin/su</span></span></li><li><span data-ttu-id="cc197-546">/system/xbin/su</span><span class="sxs-lookup"><span data-stu-id="cc197-546">/system/xbin/su</span></span></li><li><span data-ttu-id="cc197-547">/data/local/xbin/su</span><span class="sxs-lookup"><span data-stu-id="cc197-547">/data/local/xbin/su</span></span></li><li><span data-ttu-id="cc197-548">/data/local/bin/su</span><span class="sxs-lookup"><span data-stu-id="cc197-548">/data/local/bin/su</span></span></li><li><span data-ttu-id="cc197-549">/system/sd/xbin/su</span><span class="sxs-lookup"><span data-stu-id="cc197-549">/system/sd/xbin/su</span></span></li><li><span data-ttu-id="cc197-550">/system/bin/failsafe/su</span><span class="sxs-lookup"><span data-stu-id="cc197-550">/system/bin/failsafe/su</span></span></li><li><span data-ttu-id="cc197-551">/data/local/su</span><span class="sxs-lookup"><span data-stu-id="cc197-551">/data/local/su</span></span></li></ul><p><span data-ttu-id="cc197-552">Se o aplicativo puder acessar qualquer um desses arquivos, isso indica que o aplicativo está sendo executado como um usuário raiz.</span><span class="sxs-lookup"><span data-stu-id="cc197-552">If the application can access any of these files, it denotes that the application is running as root user.</span></span></p>|

## <span data-ttu-id="cc197-553"><a id="weak-class-wcf"></a>Referência de classe fraca no WCF</span><span class="sxs-lookup"><span data-stu-id="cc197-553"><a id="weak-class-wcf"></a>Weak Class Reference in WCF</span></span>

| <span data-ttu-id="cc197-554">Title</span><span class="sxs-lookup"><span data-stu-id="cc197-554">Title</span></span>                   | <span data-ttu-id="cc197-555">Detalhes</span><span class="sxs-lookup"><span data-stu-id="cc197-555">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cc197-556">**Componente**</span><span class="sxs-lookup"><span data-stu-id="cc197-556">**Component**</span></span>               | <span data-ttu-id="cc197-557">WCF</span><span class="sxs-lookup"><span data-stu-id="cc197-557">WCF</span></span> | 
| <span data-ttu-id="cc197-558">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="cc197-558">**SDL Phase**</span></span>               | <span data-ttu-id="cc197-559">Compilação</span><span class="sxs-lookup"><span data-stu-id="cc197-559">Build</span></span> |  
| <span data-ttu-id="cc197-560">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="cc197-560">**Applicable Technologies**</span></span> | <span data-ttu-id="cc197-561">Genérico, NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="cc197-561">Generic, NET Framework 3</span></span> |
| <span data-ttu-id="cc197-562">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="cc197-562">**Attributes**</span></span>              | <span data-ttu-id="cc197-563">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-563">N/A</span></span>  |
| <span data-ttu-id="cc197-564">**Referências**</span><span class="sxs-lookup"><span data-stu-id="cc197-564">**References**</span></span>              | <span data-ttu-id="cc197-565">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="cc197-565">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="cc197-566">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="cc197-566">**Steps**</span></span> | <p><span data-ttu-id="cc197-567">O sistema usa uma referência de classe fraca, permitindo que um invasor execute código não autorizado.</span><span class="sxs-lookup"><span data-stu-id="cc197-567">The system uses a weak class reference, which might allow an attacker to execute unauthorized code.</span></span> <span data-ttu-id="cc197-568">O programa consulta uma classe definida pelo usuário que não é exclusivamente identificada.</span><span class="sxs-lookup"><span data-stu-id="cc197-568">The program references a user-defined class that is not uniquely identified.</span></span> <span data-ttu-id="cc197-569">Quando .NET carrega essa classe de identificação fraca, o carregador do tipo CLR procura a classe nos seguintes locais e na ordem especificada:</span><span class="sxs-lookup"><span data-stu-id="cc197-569">When .NET loads this weakly identified class, the CLR type loader searches for the class in the following locations in the specified order:</span></span></p><ol><li><span data-ttu-id="cc197-570">Se o assembly do tipo for conhecido, o carregador pesquisará os locais de redirecionamento do arquivo de configuração, GAC, o assembly atual que está usando as informações de configuração e o diretório base do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="cc197-570">If the assembly of the type is known, the loader searches the configuration file's redirect locations, GAC, the current assembly using configuration information, and the application base directory</span></span></li><li><span data-ttu-id="cc197-571">Se o assembly for desconhecido, o carregador pesquisará o assembly atual, mscorlib, e o local retornado pelo manipulador de eventos TypeResolve.</span><span class="sxs-lookup"><span data-stu-id="cc197-571">If the assembly is unknown, the loader searches the current assembly, mscorlib, and the location returned by the TypeResolve event handler</span></span></li><li><span data-ttu-id="cc197-572">Essa ordem de pesquisa do CLR pode ser modificada com ganchos, como o mecanismo de encaminhamento de tipo e o evento AppDomain.TypeResolve.</span><span class="sxs-lookup"><span data-stu-id="cc197-572">This CLR search order can be modified with hooks such as the Type Forwarding mechanism and the AppDomain.TypeResolve event</span></span></li></ol><p><span data-ttu-id="cc197-573">Se um invasor aproveitar a ordem de pesquisa do CLR para criar uma outra classe com o mesmo nome e colocá-la em um lugar que o CLR carregará primeiro, o CLR poderá acidentalmente executar o código fornecido pelo invasor.</span><span class="sxs-lookup"><span data-stu-id="cc197-573">If an attacker exploits the CLR search order by creating an alternative class with the same name and placing it in an alternative location that the CLR will load first, the CLR will unintentionally execute the attacker-supplied code</span></span></p>|

### <a name="example"></a><span data-ttu-id="cc197-574">Exemplo</span><span class="sxs-lookup"><span data-stu-id="cc197-574">Example</span></span>
<span data-ttu-id="cc197-575">O elemento `<behaviorExtensions/>` do arquivo de configuração WCF abaixo solicita que o WCF adicione uma classe de comportamento personalizada para uma extensão específica do WCF.</span><span class="sxs-lookup"><span data-stu-id="cc197-575">The `<behaviorExtensions/>` element of the WCF configuration file below instructs WCF to add a custom behavior class to a particular WCF extension.</span></span>
```
<system.serviceModel>
    <extensions>
        <behaviorExtensions>
            <add name=""myBehavior"" type=""MyBehavior"" />
        </behaviorExtensions>
    </extensions>
</system.serviceModel>
```
<span data-ttu-id="cc197-576">Usar nomes totalmente qualificados (fortes) identifica exclusivamente um tipo e aumenta ainda mais a segurança do sistema.</span><span class="sxs-lookup"><span data-stu-id="cc197-576">Using fully qualified (strong) names uniquely identifies a type and further increases security of your system.</span></span> <span data-ttu-id="cc197-577">Use nomes de assembly totalmente qualificados ao registrar tipos nos arquivos machine.config e app.config.</span><span class="sxs-lookup"><span data-stu-id="cc197-577">Use fully qualified assembly names when registering types in the machine.config and app.config files.</span></span>

### <a name="example"></a><span data-ttu-id="cc197-578">Exemplo</span><span class="sxs-lookup"><span data-stu-id="cc197-578">Example</span></span>
<span data-ttu-id="cc197-579">O elemento `<behaviorExtensions/>` do arquivo de configuração do WCF abaixo solicita que o WCF adicione uma classe de comportamento personalizada para uma extensão específica do WCF.</span><span class="sxs-lookup"><span data-stu-id="cc197-579">The `<behaviorExtensions/>` element of the WCF configuration file below instructs WCF to add strongly-referenced custom behavior class to a particular WCF extension.</span></span>
```
<system.serviceModel>
    <extensions>
        <behaviorExtensions>
            <add name=""myBehavior"" type=""Microsoft.ServiceModel.Samples.MyBehaviorSection, MyBehavior,
            Version=1.0.0.0, Culture=neutral, PublicKeyToken=null"" />
        </behaviorExtensions>
    </extensions>
</system.serviceModel>
```

## <span data-ttu-id="cc197-580"><a id="wcf-authz"></a>Controle de autorização implementado no WCF</span><span class="sxs-lookup"><span data-stu-id="cc197-580"><a id="wcf-authz"></a>WCF-Implement Authorization control</span></span>

| <span data-ttu-id="cc197-581">Title</span><span class="sxs-lookup"><span data-stu-id="cc197-581">Title</span></span>                   | <span data-ttu-id="cc197-582">Detalhes</span><span class="sxs-lookup"><span data-stu-id="cc197-582">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cc197-583">**Componente**</span><span class="sxs-lookup"><span data-stu-id="cc197-583">**Component**</span></span>               | <span data-ttu-id="cc197-584">WCF</span><span class="sxs-lookup"><span data-stu-id="cc197-584">WCF</span></span> | 
| <span data-ttu-id="cc197-585">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="cc197-585">**SDL Phase**</span></span>               | <span data-ttu-id="cc197-586">Compilação</span><span class="sxs-lookup"><span data-stu-id="cc197-586">Build</span></span> |  
| <span data-ttu-id="cc197-587">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="cc197-587">**Applicable Technologies**</span></span> | <span data-ttu-id="cc197-588">Genérico, NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="cc197-588">Generic, NET Framework 3</span></span> |
| <span data-ttu-id="cc197-589">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="cc197-589">**Attributes**</span></span>              | <span data-ttu-id="cc197-590">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-590">N/A</span></span>  |
| <span data-ttu-id="cc197-591">**Referências**</span><span class="sxs-lookup"><span data-stu-id="cc197-591">**References**</span></span>              | <span data-ttu-id="cc197-592">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="cc197-592">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="cc197-593">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="cc197-593">**Steps**</span></span> | <p><span data-ttu-id="cc197-594">Esse serviço não usa um controle de autorização.</span><span class="sxs-lookup"><span data-stu-id="cc197-594">This service does not use an authorization control.</span></span> <span data-ttu-id="cc197-595">Quando um cliente chama um determinado serviço do WCF, o WCF fornece vários esquemas de autorização que verificar se o chamador tem permissão para executar o método de serviço no servidor.</span><span class="sxs-lookup"><span data-stu-id="cc197-595">When a client calls a particular WCF service, WCF provides various authorization schemes that verify that the caller has permission to execute the service method on the server.</span></span> <span data-ttu-id="cc197-596">Se os controles de autorização não estiverem habilitados para os serviços do WCF, um usuário autenticado pode ter seus privilégios elevados.</span><span class="sxs-lookup"><span data-stu-id="cc197-596">If authorization controls are not enabled for WCF services, an authenticated user can achieve privilege escalation.</span></span></p>|

### <a name="example"></a><span data-ttu-id="cc197-597">Exemplo</span><span class="sxs-lookup"><span data-stu-id="cc197-597">Example</span></span>
<span data-ttu-id="cc197-598">A configuração mostrada abaixo solicita que o WCF não verifique o nível de autorização do cliente ao executar o serviço:</span><span class="sxs-lookup"><span data-stu-id="cc197-598">The following configuration instructs WCF to not check the authorization level of the client when executing the service:</span></span>
```
<behaviors>
    <serviceBehaviors>
        <behavior>
            ...
            <serviceAuthorization principalPermissionMode=""None"" />
        </behavior>
    </serviceBehaviors>
</behaviors>
```
<span data-ttu-id="cc197-599">Use um esquema de autorização de serviço para verificar se o chamador do método de serviço tem autorização para fazer isso.</span><span class="sxs-lookup"><span data-stu-id="cc197-599">Use a service authorization scheme to verify that the caller of the service method is authorized to do so.</span></span> <span data-ttu-id="cc197-600">O WCF oferece dois modos e permite a definição de um esquema de autorização personalizado.</span><span class="sxs-lookup"><span data-stu-id="cc197-600">WCF provides two modes and allows the definition of a custom authorization scheme.</span></span> <span data-ttu-id="cc197-601">O modo UseWindowsGroups utiliza funções e usuários do Windows, e o modo de UseAspNetRoles utiliza um provedor de função do ASP.NET, como o SQL Server, para autenticar.</span><span class="sxs-lookup"><span data-stu-id="cc197-601">The UseWindowsGroups mode uses Windows roles and users and the UseAspNetRoles mode uses an ASP.NET role provider, such as SQL Server, to authenticate.</span></span>

### <a name="example"></a><span data-ttu-id="cc197-602">Exemplo</span><span class="sxs-lookup"><span data-stu-id="cc197-602">Example</span></span>
<span data-ttu-id="cc197-603">A configuração mostrada abaixo solicita que o WCF se certifique de que o cliente faz parte do grupo Administradores antes de executar o serviço Adicionar:</span><span class="sxs-lookup"><span data-stu-id="cc197-603">The following configuration instructs WCF to make sure that the client is part of the Administrators group before executing the Add service:</span></span>
```
<behaviors>
    <serviceBehaviors>
        <behavior>
            ...
            <serviceAuthorization principalPermissionMode=""UseWindowsGroups"" />
        </behavior>
    </serviceBehaviors>
</behaviors>
```
<span data-ttu-id="cc197-604">Então, o serviço é declarado da seguinte forma:</span><span class="sxs-lookup"><span data-stu-id="cc197-604">The service is then declared as the following:</span></span>
```
[PrincipalPermission(SecurityAction.Demand,
Role = ""Builtin\\Administrators"")]
public double Add(double n1, double n2)
{
double result = n1 + n2;
return result;
}
```

## <span data-ttu-id="cc197-605"><a id="authz-aspnet"></a>Implementar mecanismos de autorização apropriados na API Web ASP.NET</span><span class="sxs-lookup"><span data-stu-id="cc197-605"><a id="authz-aspnet"></a>Implement proper authorization mechanism in ASP.NET Web API</span></span>

| <span data-ttu-id="cc197-606">Title</span><span class="sxs-lookup"><span data-stu-id="cc197-606">Title</span></span>                   | <span data-ttu-id="cc197-607">Detalhes</span><span class="sxs-lookup"><span data-stu-id="cc197-607">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cc197-608">**Componente**</span><span class="sxs-lookup"><span data-stu-id="cc197-608">**Component**</span></span>               | <span data-ttu-id="cc197-609">API Web</span><span class="sxs-lookup"><span data-stu-id="cc197-609">Web API</span></span> | 
| <span data-ttu-id="cc197-610">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="cc197-610">**SDL Phase**</span></span>               | <span data-ttu-id="cc197-611">Compilação</span><span class="sxs-lookup"><span data-stu-id="cc197-611">Build</span></span> |  
| <span data-ttu-id="cc197-612">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="cc197-612">**Applicable Technologies**</span></span> | <span data-ttu-id="cc197-613">Genérico, MVC5</span><span class="sxs-lookup"><span data-stu-id="cc197-613">Generic, MVC5</span></span> |
| <span data-ttu-id="cc197-614">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="cc197-614">**Attributes**</span></span>              | <span data-ttu-id="cc197-615">N/D, Provedor de Identidade - ADFS, Provedor de Identidade - Azure AD</span><span class="sxs-lookup"><span data-stu-id="cc197-615">N/A, Identity Provider - ADFS, Identity Provider - Azure AD</span></span> |
| <span data-ttu-id="cc197-616">**Referências**</span><span class="sxs-lookup"><span data-stu-id="cc197-616">**References**</span></span>              | [<span data-ttu-id="cc197-617">Autenticação e autorização na API Web ASP.NET</span><span class="sxs-lookup"><span data-stu-id="cc197-617">Authentication and Authorization in ASP.NET Web API</span></span>](http://www.asp.net/web-api/overview/security/authentication-and-authorization-in-aspnet-web-api) |
| <span data-ttu-id="cc197-618">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="cc197-618">**Steps**</span></span> | <p><span data-ttu-id="cc197-619">As informações de função dos usuários do aplicativo podem ser derivadas do Azure AD ou de declarações do ADFS, se o aplicativo os considerar como provedores de identidade, ou o próprio aplicativo pode fornecê-las.</span><span class="sxs-lookup"><span data-stu-id="cc197-619">Role information for the application users can be derived from Azure AD or ADFS claims if the application relies on them as Identity provider or the application itself might provided it.</span></span> <span data-ttu-id="cc197-620">Em qualquer um desses casos, a implementação de autorização personalizada deve validar as informações de função de usuário.</span><span class="sxs-lookup"><span data-stu-id="cc197-620">In any of these cases, the custom authorization implementation should validate the user role information.</span></span></p><p><span data-ttu-id="cc197-621">As informações de função dos usuários do aplicativo podem ser derivadas do Azure AD ou de declarações do ADFS, se o aplicativo os considerar como provedores de identidade, ou o próprio aplicativo pode fornecê-las.</span><span class="sxs-lookup"><span data-stu-id="cc197-621">Role information for the application users can be derived from Azure AD or ADFS claims if the application relies on them as Identity provider or the application itself might provided it.</span></span> <span data-ttu-id="cc197-622">Em qualquer um desses casos, a implementação de autorização personalizada deve validar as informações de função de usuário.</span><span class="sxs-lookup"><span data-stu-id="cc197-622">In any of these cases, the custom authorization implementation should validate the user role information.</span></span></p>

### <a name="example"></a><span data-ttu-id="cc197-623">Exemplo</span><span class="sxs-lookup"><span data-stu-id="cc197-623">Example</span></span>
```C#
[AttributeUsage(AttributeTargets.Class | AttributeTargets.Method, Inherited = true, AllowMultiple = true)]
public class ApiAuthorizeAttribute : System.Web.Http.AuthorizeAttribute
{
        public async override Task OnAuthorizationAsync(HttpActionContext actionContext, CancellationToken cancellationToken)
        {
            if (actionContext == null)
            {
                throw new Exception();
            }

            if (!string.IsNullOrEmpty(base.Roles))
            {
                bool isAuthorized = ValidateRoles(actionContext);
                if (!isAuthorized)
                {
                    HandleUnauthorizedRequest(actionContext);
                }
            }

            base.OnAuthorization(actionContext);
        }

public bool ValidateRoles(actionContext)
{
   //Authorization logic here; returns true or false
}

}
```
<span data-ttu-id="cc197-624">Todos os controladores e métodos de ação que precisam ser protegidos devem ser decorados com o atributo acima.</span><span class="sxs-lookup"><span data-stu-id="cc197-624">All the controllers and action methods which needs to protected should be decorated with above attribute.</span></span>
```C#
[ApiAuthorize]
public class CustomController : ApiController
{
     //Application code goes here
}
```

## <span data-ttu-id="cc197-625"><a id="device-permission"></a>Executar verificações de autorização no dispositivo se ele oferecer suporte a várias ações que exigem diferentes níveis de permissão</span><span class="sxs-lookup"><span data-stu-id="cc197-625"><a id="device-permission"></a>Perform authorization checks in the device if it supports various actions that require different permission levels</span></span>

| <span data-ttu-id="cc197-626">Title</span><span class="sxs-lookup"><span data-stu-id="cc197-626">Title</span></span>                   | <span data-ttu-id="cc197-627">Detalhes</span><span class="sxs-lookup"><span data-stu-id="cc197-627">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cc197-628">**Componente**</span><span class="sxs-lookup"><span data-stu-id="cc197-628">**Component**</span></span>               | <span data-ttu-id="cc197-629">Dispositivo IoT</span><span class="sxs-lookup"><span data-stu-id="cc197-629">IoT Device</span></span> | 
| <span data-ttu-id="cc197-630">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="cc197-630">**SDL Phase**</span></span>               | <span data-ttu-id="cc197-631">Compilação</span><span class="sxs-lookup"><span data-stu-id="cc197-631">Build</span></span> |  
| <span data-ttu-id="cc197-632">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="cc197-632">**Applicable Technologies**</span></span> | <span data-ttu-id="cc197-633">Genérico</span><span class="sxs-lookup"><span data-stu-id="cc197-633">Generic</span></span> |
| <span data-ttu-id="cc197-634">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="cc197-634">**Attributes**</span></span>              | <span data-ttu-id="cc197-635">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-635">N/A</span></span>  |
| <span data-ttu-id="cc197-636">**Referências**</span><span class="sxs-lookup"><span data-stu-id="cc197-636">**References**</span></span>              | <span data-ttu-id="cc197-637">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-637">N/A</span></span>  |
| <span data-ttu-id="cc197-638">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="cc197-638">**Steps**</span></span> | <p><span data-ttu-id="cc197-639">O dispositivo deve autorizar o chamador para verificar se ele tem as permissões necessárias para executar a ação solicitada.</span><span class="sxs-lookup"><span data-stu-id="cc197-639">The Device should authorize the caller to check if the caller has the required permissions to perform the action requested.</span></span> <span data-ttu-id="cc197-640">Por exemplo, digamos que o dispositivo seja uma fechadura de porta inteligente que pode ser monitorada na nuvem e que permite, entre outras coisas, trancar uma porta remotamente.</span><span class="sxs-lookup"><span data-stu-id="cc197-640">For e.g. Lets say the device is a Smart Door Lock that can be monitored from the cloud, plus it provides functionalities like Remotely locking the door.</span></span></p><p><span data-ttu-id="cc197-641">A fechadura de porta inteligente só permitirá que uma porta seja destrancada quando alguém se aproximar fisicamente dela com um cartão.</span><span class="sxs-lookup"><span data-stu-id="cc197-641">The Smart Door Lock provides unlocking functionality only when someone physically comes near the door with a Card.</span></span> <span data-ttu-id="cc197-642">Nesse caso, a implementação do controle e do comando remoto deve ser feita de modo a não disponibilizar recursos para destrancar uma porta, visto que o gateway de nuvem não está autorizado a enviar um comando para destrancar portas.</span><span class="sxs-lookup"><span data-stu-id="cc197-642">In this case, the implementation of the remote command and control should be done in such a way that it does not provide any functionality to unlock the door as the cloud gateway is not authorized to send a command to unlock the door.</span></span></p>|

## <span data-ttu-id="cc197-643"><a id="field-permission"></a>Executar verificações de autorização no Gateway de Campo se ele oferecer suporte a várias ações que exigem diferentes níveis de permissão</span><span class="sxs-lookup"><span data-stu-id="cc197-643"><a id="field-permission"></a>Perform authorization checks in the Field Gateway if it supports various actions that require different permission levels</span></span>

| <span data-ttu-id="cc197-644">Title</span><span class="sxs-lookup"><span data-stu-id="cc197-644">Title</span></span>                   | <span data-ttu-id="cc197-645">Detalhes</span><span class="sxs-lookup"><span data-stu-id="cc197-645">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cc197-646">**Componente**</span><span class="sxs-lookup"><span data-stu-id="cc197-646">**Component**</span></span>               | <span data-ttu-id="cc197-647">Gateway de Campo de IoT</span><span class="sxs-lookup"><span data-stu-id="cc197-647">IoT Field Gateway</span></span> | 
| <span data-ttu-id="cc197-648">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="cc197-648">**SDL Phase**</span></span>               | <span data-ttu-id="cc197-649">Compilação</span><span class="sxs-lookup"><span data-stu-id="cc197-649">Build</span></span> |  
| <span data-ttu-id="cc197-650">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="cc197-650">**Applicable Technologies**</span></span> | <span data-ttu-id="cc197-651">Genérico</span><span class="sxs-lookup"><span data-stu-id="cc197-651">Generic</span></span> |
| <span data-ttu-id="cc197-652">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="cc197-652">**Attributes**</span></span>              | <span data-ttu-id="cc197-653">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-653">N/A</span></span>  |
| <span data-ttu-id="cc197-654">**Referências**</span><span class="sxs-lookup"><span data-stu-id="cc197-654">**References**</span></span>              | <span data-ttu-id="cc197-655">N/D</span><span class="sxs-lookup"><span data-stu-id="cc197-655">N/A</span></span>  |
| <span data-ttu-id="cc197-656">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="cc197-656">**Steps**</span></span> | <span data-ttu-id="cc197-657">O Gateway de Campo deve autorizar o chamador para verificar se ele tem as permissões necessárias para executar a ação solicitada.</span><span class="sxs-lookup"><span data-stu-id="cc197-657">The Field Gateway should authorize the caller to check if the caller has the required permissions to perform the action requested.</span></span> <span data-ttu-id="cc197-658">Por exemplo, deve haver permissões diferentes para uma API/interface utilizada por um usuário administrador para configurar um gateway de campo e para os dispositivos que se conectam a ele.</span><span class="sxs-lookup"><span data-stu-id="cc197-658">For e.g. there should be different permissions for an admin user interface/API used to configure a field gateway v/s devices that connect to it.</span></span>|
