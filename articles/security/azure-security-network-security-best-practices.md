---
title: "Práticas recomendadas de segurança de rede do Azure | Microsoft Docs"
description: "Este artigo fornece um conjunto de práticas recomendadas de segurança de rede usando recursos internos do Azure."
services: security
documentationcenter: na
author: TomShinder
manager: swadhwa
editor: TomShinder
ms.assetid: 7f6aa45f-138f-4fde-a611-aaf7e8fe56d1
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 01/09/2017
ms.author: TomSh
ms.openlocfilehash: 659304937eebb1b2fe6faf019dfef63e1e29bcd4
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="azure-network-security-best-practices"></a><span data-ttu-id="27420-103">Práticas recomendadas de rede do Azure</span><span class="sxs-lookup"><span data-stu-id="27420-103">Azure Network Security Best Practices</span></span>
<span data-ttu-id="27420-104">O Microsoft Azure permite que você conecte dispositivos e máquinas virtuais a outros dispositivos de rede, colocando-os em redes virtuais do Azure.</span><span class="sxs-lookup"><span data-stu-id="27420-104">Microsoft Azure enables you to connect virtual machines and appliances to other networked devices by placing them on Azure Virtual Networks.</span></span> <span data-ttu-id="27420-105">Uma Rede Virtual do Azure é uma construção de rede virtual que permite que você conecte placas de interface de rede virtual a uma rede virtual para permitir a comunicação baseada em TCP/IP entre os dispositivos habilitados para rede.</span><span class="sxs-lookup"><span data-stu-id="27420-105">An Azure Virtual Network is a virtual network construct that allows you to connect virtual network interface cards to a virtual network to allow TCP/IP-based communications between network enabled devices.</span></span> <span data-ttu-id="27420-106">As Máquinas Virtuais do Azure conectadas a uma Rede Virtual do Azure são capazes de se conectar a dispositivos na mesma Rede Virtual do Azure, em Redes Virtuais do Azure diferentes, na Internet ou até mesmo em suas próprias redes locais.</span><span class="sxs-lookup"><span data-stu-id="27420-106">Azure Virtual Machines connected to an Azure Virtual Network are able to connect to devices on the same Azure Virtual Network, different Azure Virtual Networks, on the Internet or even on your own on-premises networks.</span></span>

<span data-ttu-id="27420-107">Neste artigo, veremos uma coleção de práticas recomendadas de segurança de rede do Azure.</span><span class="sxs-lookup"><span data-stu-id="27420-107">In this article we will discuss a collection of Azure network security best practices.</span></span> <span data-ttu-id="27420-108">Essas práticas recomendadas derivam da nossa experiência de rede do Azure e da experiência de clientes como você.</span><span class="sxs-lookup"><span data-stu-id="27420-108">These best practices are derived from our experience with Azure networking and the experiences of customers like yourself.</span></span>

<span data-ttu-id="27420-109">Para cada prática recomendada, vamos explicar:</span><span class="sxs-lookup"><span data-stu-id="27420-109">For each best practice, we’ll explain:</span></span>

* <span data-ttu-id="27420-110">O que é a prática recomendada</span><span class="sxs-lookup"><span data-stu-id="27420-110">What the best practice is</span></span>
* <span data-ttu-id="27420-111">Por que é ideal habilitar essa prática recomendada</span><span class="sxs-lookup"><span data-stu-id="27420-111">Why you want to enable that best practice</span></span>
* <span data-ttu-id="27420-112">O que poderá acontecer se você não habilitar a prática recomendada</span><span class="sxs-lookup"><span data-stu-id="27420-112">What might be the result if you fail to enable the best practice</span></span>
* <span data-ttu-id="27420-113">Possíveis alternativas à prática recomendada</span><span class="sxs-lookup"><span data-stu-id="27420-113">Possible alternatives to the best practice</span></span>
* <span data-ttu-id="27420-114">Como você pode aprender a habilitar a prática recomendada</span><span class="sxs-lookup"><span data-stu-id="27420-114">How you can learn to enable the best practice</span></span>

<span data-ttu-id="27420-115">Este artigo Práticas recomendadas de segurança de rede do Azure baseia-se em um consenso e nos recursos da plataforma Azure e em conjuntos de recursos tal como existiam no momento em que o artigo foi escrito.</span><span class="sxs-lookup"><span data-stu-id="27420-115">This Azure Network Security Best Practices article is based on a consensus opinion, and Azure platform capabilities and feature sets, as they exist at the time this article was written.</span></span> <span data-ttu-id="27420-116">As opiniões e as tecnologias mudam ao longo do tempo e este artigo será atualizado regularmente para refletir essas alterações.</span><span class="sxs-lookup"><span data-stu-id="27420-116">Opinions and technologies change over time and this article will be updated on a regular basis to reflect those changes.</span></span>

<span data-ttu-id="27420-117">As práticas recomendadas de segurança de rede do Azure discutidas neste artigo incluem:</span><span class="sxs-lookup"><span data-stu-id="27420-117">Azure Network security best practices discussed in this article include:</span></span>

* <span data-ttu-id="27420-118">Segmentar logicamente as sub-redes</span><span class="sxs-lookup"><span data-stu-id="27420-118">Logically segment subnets</span></span>
* <span data-ttu-id="27420-119">Controlar o comportamento de roteamento</span><span class="sxs-lookup"><span data-stu-id="27420-119">Control routing behavior</span></span>
* <span data-ttu-id="27420-120">Habilitar o túnel forçado</span><span class="sxs-lookup"><span data-stu-id="27420-120">Enable Forced Tunneling</span></span>
* <span data-ttu-id="27420-121">Usar dispositivos de rede virtual</span><span class="sxs-lookup"><span data-stu-id="27420-121">Use Virtual network appliances</span></span>
* <span data-ttu-id="27420-122">Implantar DMZs para zoneamento de segurança</span><span class="sxs-lookup"><span data-stu-id="27420-122">Deploy DMZs for security zoning</span></span>
* <span data-ttu-id="27420-123">Evitar a exposição à Internet por meio de links WAN dedicados</span><span class="sxs-lookup"><span data-stu-id="27420-123">Avoid exposure to the Internet with dedicated WAN links</span></span>
* <span data-ttu-id="27420-124">Otimizar o desempenho e o tempo de atividade</span><span class="sxs-lookup"><span data-stu-id="27420-124">Optimize uptime and performance</span></span>
* <span data-ttu-id="27420-125">Usar o balanceamento de carga global</span><span class="sxs-lookup"><span data-stu-id="27420-125">Use global load balancing</span></span>
* <span data-ttu-id="27420-126">Desabilitar o acesso RDP para máquinas virtuais do Azure</span><span class="sxs-lookup"><span data-stu-id="27420-126">Disable RDP Access to Azure Virtual Machines</span></span>
* <span data-ttu-id="27420-127">Habilitar a Central de Segurança do Azure</span><span class="sxs-lookup"><span data-stu-id="27420-127">Enable Azure Security Center</span></span>
* <span data-ttu-id="27420-128">Estender seu datacenter para o Azure</span><span class="sxs-lookup"><span data-stu-id="27420-128">Extend your datacenter into Azure</span></span>

## <a name="logically-segment-subnets"></a><span data-ttu-id="27420-129">Segmentar logicamente as sub-redes</span><span class="sxs-lookup"><span data-stu-id="27420-129">Logically segment subnets</span></span>
<span data-ttu-id="27420-130">As [Redes Virtuais do Azure](https://azure.microsoft.com/documentation/services/virtual-network/) são semelhantes a uma LAN em sua rede local.</span><span class="sxs-lookup"><span data-stu-id="27420-130">[Azure Virtual Networks](https://azure.microsoft.com/documentation/services/virtual-network/) are similar to a LAN on your on-premises network.</span></span> <span data-ttu-id="27420-131">A ideia por trás de uma Rede Virtual do Azure é que você cria uma única rede baseada em espaço de endereço IP na qual pode colocar suas [Máquinas Virtuais do Azure](https://azure.microsoft.com/services/virtual-machines/).</span><span class="sxs-lookup"><span data-stu-id="27420-131">The idea behind an Azure Virtual Network is that you create a single private IP address space-based network on which you can place all your [Azure Virtual Machines](https://azure.microsoft.com/services/virtual-machines/).</span></span> <span data-ttu-id="27420-132">Os espaços de endereço IP privados disponíveis estão nos intervalos de Classe A (10.0.0.0/8), de Classe B (172.16.0.0/12) e de Classe C (192.168.0.0/16).</span><span class="sxs-lookup"><span data-stu-id="27420-132">The private IP address spaces available are in the Class A (10.0.0.0/8), Class B (172.16.0.0/12) and Class C (192.168.0.0/16) ranges.</span></span>

<span data-ttu-id="27420-133">Semelhante ao que você faria no local, convém segmentar o espaço de endereços maior em sub-redes.</span><span class="sxs-lookup"><span data-stu-id="27420-133">Similar to what you do on-premises, you’ll want to segment the larger address space into subnets.</span></span> <span data-ttu-id="27420-134">Você pode usar os princípios de sub-redes baseados em [CIDR](https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing) para criar suas sub-redes.</span><span class="sxs-lookup"><span data-stu-id="27420-134">You can use [CIDR](https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing) based subnetting principles to create your subnets.</span></span>

<span data-ttu-id="27420-135">O roteamento entre sub-redes ocorrerá automaticamente e você não precisa configurar as tabelas de roteamento de forma manual.</span><span class="sxs-lookup"><span data-stu-id="27420-135">Routing between subnets will happen automatically and you do not need to manually configure routing tables.</span></span> <span data-ttu-id="27420-136">No entanto, a configuração padrão não contempla nenhum controle de acesso à rede entre as sub-redes criadas na Rede Virtual do Azure.</span><span class="sxs-lookup"><span data-stu-id="27420-136">However, the default setting is that there are no network access controls between the subnets you create on the Azure Virtual Network.</span></span> <span data-ttu-id="27420-137">Para criar controles de acesso à rede entre as sub-redes, será necessário colocar algo entre as sub-redes.</span><span class="sxs-lookup"><span data-stu-id="27420-137">In order to create network access controls between subnets, you’ll need to put something between the subnets.</span></span>

<span data-ttu-id="27420-138">Uma das coisas que você pode usar para realizar essa tarefa é um NSG ([Grupo de Segurança de Rede](../virtual-network/virtual-networks-nsg.md)).</span><span class="sxs-lookup"><span data-stu-id="27420-138">One of the things you can use to accomplish this task is a [Network Security Group](../virtual-network/virtual-networks-nsg.md) (NSG).</span></span> <span data-ttu-id="27420-139">Os NSGs são dispositivos de inspeção de pacotes com monitoração de estado simples que usam a abordagem de 5 tuplas (o IP de origem, a porta de origem, o IP de destino, a porta de destino e o protocolo de camada 4) para criar regras de permissão/negação para o tráfego de rede.</span><span class="sxs-lookup"><span data-stu-id="27420-139">NSGs are simple stateful packet inspection devices that use the 5-tuple (the source IP, source port, destination IP, destination port, and layer 4 protocol) approach to create allow/deny rules for network traffic.</span></span> <span data-ttu-id="27420-140">Você pode permitir ou negar o tráfego para e de um único endereço IP, para e de vários endereços IP ou até mesmo de sub-redes inteiras.</span><span class="sxs-lookup"><span data-stu-id="27420-140">You can allow or deny traffic to and from single IP address, to and from multiple IP addresses or even to and from entire subnets.</span></span>

<span data-ttu-id="27420-141">O uso de NSGs para controle de acesso à rede entre sub-redes permite que você coloque recursos que pertençam à mesma zona ou função de segurança em suas próprias sub-redes.</span><span class="sxs-lookup"><span data-stu-id="27420-141">Using NSGs for network access control between subnets enables you to put resources that belong to the same security zone or role in their own subnets.</span></span> <span data-ttu-id="27420-142">Pense, por exemplo, em um aplicativo de camada 3 simples que tenha uma camada da Web, uma camada lógica de aplicativo e uma camada de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="27420-142">For example, think of a simple 3-tier application that has a web tier, an application logic tier and a database tier.</span></span> <span data-ttu-id="27420-143">Você coloca máquinas virtuais que pertençam a cada uma dessas camadas em suas próprias sub-redes.</span><span class="sxs-lookup"><span data-stu-id="27420-143">You put virtual machines that belong to each of these tiers into their own subnets.</span></span> <span data-ttu-id="27420-144">Em seguida, usa os NSGs para controlar o tráfego entre as sub-redes:</span><span class="sxs-lookup"><span data-stu-id="27420-144">Then you use NSGs to control traffic between the subnets:</span></span>

* <span data-ttu-id="27420-145">As máquinas virtuais da camada Web só podem iniciar conexões para as máquinas de lógica do aplicativo e só podem aceitar conexões da Internet</span><span class="sxs-lookup"><span data-stu-id="27420-145">Web tier virtual machines can only initiate connections to the application logic machines and can only accept connections from the Internet</span></span>
* <span data-ttu-id="27420-146">As máquinas virtuais de lógica do aplicativo só podem iniciar conexões com a camada de banco de dados e só podem aceitar conexões da camada da Web</span><span class="sxs-lookup"><span data-stu-id="27420-146">Application logic virtual machines can only initiate connections with database tier and can only accept connections from the web tier</span></span>
* <span data-ttu-id="27420-147">As máquinas virtuais da camada de banco de dados não podem iniciar conexões com nada que esteja fora de sua própria sub-rede e só podem aceitar conexões da camada de lógica do aplicativo</span><span class="sxs-lookup"><span data-stu-id="27420-147">Database tier virtual machines cannot initiate connection with anything outside of their own subnet and can only accept connections from the application logic tier</span></span>

<span data-ttu-id="27420-148">Para saber mais sobre os Grupos de Segurança de Rede e sobre como você pode usá-los para segmentar logicamente suas Redes Virtuais do Azure, leia o artigo [O que é um Grupo de Segurança de Rede](../virtual-network/virtual-networks-nsg.md) (NSG).</span><span class="sxs-lookup"><span data-stu-id="27420-148">To learn more about Network Security Groups and how you can use them to logically segment your Azure Virtual Networks, please read the article [What is a Network Security Group](../virtual-network/virtual-networks-nsg.md) (NSG).</span></span>

## <a name="control-routing-behavior"></a><span data-ttu-id="27420-149">Controlar o comportamento de roteamento</span><span class="sxs-lookup"><span data-stu-id="27420-149">Control routing behavior</span></span>
<span data-ttu-id="27420-150">Quando você colocar uma máquina virtual em uma Rede Virtual do Azure, perceberá que a máquina virtual pode se conectar a outra máquina virtual na mesma Rede Virtual do Azure, mesmo se as outras máquinas virtuais estiverem em sub-redes diferentes.</span><span class="sxs-lookup"><span data-stu-id="27420-150">When you put a virtual machine on an Azure Virtual Network, you’ll notice that the virtual machine can connect to any other virtual machine on the same Azure Virtual Network, even if the other virtual machines are on different subnets.</span></span> <span data-ttu-id="27420-151">A razão pela qual isso possível é que há uma coleção de rotas do sistema que são habilitadas por padrão e que permitem esse tipo de comunicação.</span><span class="sxs-lookup"><span data-stu-id="27420-151">The reason why this is possible is that there is a collection of system routes that are enabled by default that allow this type of communication.</span></span> <span data-ttu-id="27420-152">Essas rotas padrão permitem que as máquinas virtuais na mesma Rede Virtual do Azure iniciem conexões entre si e com a Internet (somente para comunicações de saída para a Internet).</span><span class="sxs-lookup"><span data-stu-id="27420-152">These default routes allow virtual machines on the same Azure Virtual Network to initiate connections with each other, and with the Internet (for outbound communications to the Internet only).</span></span>

<span data-ttu-id="27420-153">Embora as rotas padrão do sistema sejam úteis para muitos cenários de implantação, há ocasiões em que você deseja personalizar a configuração de roteamento para suas implantações.</span><span class="sxs-lookup"><span data-stu-id="27420-153">While the default system routes are useful for many deployment scenarios, there are times when you want to customize the routing configuration for your deployments.</span></span> <span data-ttu-id="27420-154">Essas personalizações permitirão que você configure o endereço do próximo salto para atingir destinos específicos.</span><span class="sxs-lookup"><span data-stu-id="27420-154">These customizations will allow you to configure the next hop address to reach specific destinations.</span></span>

<span data-ttu-id="27420-155">É recomendável que você configure Rotas Definidas pelo Usuário ao implantar um dispositivo de segurança de rede virtual, sobre o qual falaremos em uma prática recomendada posterior.</span><span class="sxs-lookup"><span data-stu-id="27420-155">We recommend that you configure User Defined Routes when you deploy a virtual network security appliance, which we’ll talk about in a later best practice.</span></span>

> [!NOTE]
> <span data-ttu-id="27420-156">As Rotas Definidas pelo Usuário não são obrigatórias e as rotas de sistema padrão funcionarão na maioria dos casos.</span><span class="sxs-lookup"><span data-stu-id="27420-156">user Defined Routes are not required and the default system routes will work in most instances.</span></span>
>
>

<span data-ttu-id="27420-157">Você pode aprender mais sobre as Rotas Definidas pelo Usuário e sobre como configurá-las ao ler o artigo [O que são as Rotas Definidas pelo Usuário e o Encaminhamento IP](../virtual-network/virtual-networks-udr-overview.md).</span><span class="sxs-lookup"><span data-stu-id="27420-157">You can learn more about User Defined Routes and how to configure them by reading the article [What are User Defined Routes and IP Forwarding](../virtual-network/virtual-networks-udr-overview.md).</span></span>

## <a name="enable-forced-tunneling"></a><span data-ttu-id="27420-158">Habilitar o túnel forçado</span><span class="sxs-lookup"><span data-stu-id="27420-158">Enable Forced Tunneling</span></span>
<span data-ttu-id="27420-159">Para entender melhor o túnel forçado, convém compreender o que é "um túnel dividido".</span><span class="sxs-lookup"><span data-stu-id="27420-159">To better understand forced tunneling, it’s useful to understand what “split tunneling” is.</span></span>
<span data-ttu-id="27420-160">O exemplo mais comum de túnel dividido é visto com conexões VPN.</span><span class="sxs-lookup"><span data-stu-id="27420-160">The most common example of split tunneling is seen with VPN connections.</span></span> <span data-ttu-id="27420-161">Imagine que você estabeleça uma conexão VPN do seu quarto de hotel para sua rede corporativa.</span><span class="sxs-lookup"><span data-stu-id="27420-161">Imagine that you establish a VPN connection from your hotel room to your corporate network.</span></span> <span data-ttu-id="27420-162">Essa conexão permite que você se conecte a recursos em sua rede corporativa e acesse todas as comunicações de recursos em sua rede corporativa por meio do túnel VPN.</span><span class="sxs-lookup"><span data-stu-id="27420-162">This connection allows you to connect to resources on your corporate network and all communications to resources on your corporate network go through the VPN tunnel.</span></span>

<span data-ttu-id="27420-163">O que acontece quando você deseja se conectar aos recursos na Internet?</span><span class="sxs-lookup"><span data-stu-id="27420-163">What happens when you want to connect to resources on the Internet?</span></span> <span data-ttu-id="27420-164">Quando o túnel dividido é habilitado, as conexões são estabelecidas diretamente com a Internet e não por meio do túnel VPN.</span><span class="sxs-lookup"><span data-stu-id="27420-164">When split tunneling is enabled, those connections go directly to the Internet and not through the VPN tunnel.</span></span> <span data-ttu-id="27420-165">Alguns especialistas em segurança consideram isso um risco em potencial e, portanto, recomendam que o túnel dividido seja desabilitado e que todas as conexões, as destinadas à Internet e as destinadas a recursos corporativos, passem pelo túnel VPN.</span><span class="sxs-lookup"><span data-stu-id="27420-165">Some security experts consider this to be a potential risk and therefore recommend that split tunneling be disabled and all connections, those destined for the Internet and those destined for corporate resources, go through the VPN tunnel.</span></span> <span data-ttu-id="27420-166">A vantagem disso é que as conexões com Internet são forçadas por meio de dispositivos de segurança da rede corporativa, o que não seria o caso se o cliente VPN conectado à Internet estivesse fora do túnel VPN.</span><span class="sxs-lookup"><span data-stu-id="27420-166">The advantage of doing this is that connections to the Internet are then forced through the corporate network security devices, which wouldn’t be the case if the VPN client connected to the Internet outside of the VPN tunnel.</span></span>

<span data-ttu-id="27420-167">Agora vamos voltar para as máquinas virtuais em uma Rede Virtual do Azure.</span><span class="sxs-lookup"><span data-stu-id="27420-167">Now let’s bring this back to virtual machines on an Azure Virtual Network.</span></span> <span data-ttu-id="27420-168">As rotas padrão para uma Rede Virtual do Azure permitem que as máquinas virtuais iniciem o tráfego para a Internet.</span><span class="sxs-lookup"><span data-stu-id="27420-168">The default routes for an Azure Virtual Network allow virtual machines to initiate traffic to the Internet.</span></span> <span data-ttu-id="27420-169">Isso também pode representar um risco à segurança, já que essas conexões de saída podem aumentar a superfície de ataque de uma máquina virtual e ser aproveitadas por invasores.</span><span class="sxs-lookup"><span data-stu-id="27420-169">This too can represent a security risk, as these outbound connections could increase the attack surface of a virtual machine and be leveraged by attackers.</span></span>
<span data-ttu-id="27420-170">Por esse motivo, recomendamos que você habilite o túnel forçado em suas máquinas virtuais quando tiver conectividade entre locais entre sua Rede Virtual do Azure e sua rede local.</span><span class="sxs-lookup"><span data-stu-id="27420-170">For this reason, we recommend that you enable forced tunneling on your virtual machines when you have cross-premises connectivity between your Azure Virtual Network and your on-premises network.</span></span> <span data-ttu-id="27420-171">Falaremos sobre a conectividade entre locais neste documento sobre práticas recomendadas de rede do Azure.</span><span class="sxs-lookup"><span data-stu-id="27420-171">We will talk about cross premises connectivity later in this Azure networking best practices document.</span></span>

<span data-ttu-id="27420-172">Se você não tiver uma conexão entre locais, aproveite os Grupos de Segurança de Rede (discutidos anteriormente) ou os dispositivos de segurança de rede virtual do Azure (discutidos em seguida) para evitar conexões de saída para Internet de suas Máquinas Virtuais do Azure.</span><span class="sxs-lookup"><span data-stu-id="27420-172">If you do not have a cross premises connection, make sure you take advantage of Network Security Groups (discussed earlier) or Azure virtual network security appliances (discussed next) to prevent outbound connections to the Internet from your Azure Virtual Machines.</span></span>

<span data-ttu-id="27420-173">Para saber mais sobre túneis forçados e sobre como habilitá-los, leia o artigo [Configurar o túnel forçado usando o PowerShell e o Azure Resource Manager](../vpn-gateway/vpn-gateway-forced-tunneling-rm.md).</span><span class="sxs-lookup"><span data-stu-id="27420-173">To learn more about forced tunneling and how to enable it, please read the article [Configure Forced Tunneling using PowerShell and Azure Resource Manager](../vpn-gateway/vpn-gateway-forced-tunneling-rm.md).</span></span>

## <a name="use-virtual-network-appliances"></a><span data-ttu-id="27420-174">Usar dispositivos de rede virtual</span><span class="sxs-lookup"><span data-stu-id="27420-174">Use virtual network appliances</span></span>
<span data-ttu-id="27420-175">Embora os Grupos de Segurança de Rede e o Roteamento Definido pelo Usuário possam fornecer uma determinada medida de segurança de rede nas camadas de rede e de transporte do [modelo OSI](https://en.wikipedia.org/wiki/OSI_model), haverá situações em que você vai desejar ou precisar habilitar a segurança em níveis mais altos da pilha.</span><span class="sxs-lookup"><span data-stu-id="27420-175">While Network Security Groups and User Defined Routing can provide a certain measure of network security at the network and transport layers of the [OSI model](https://en.wikipedia.org/wiki/OSI_model), there are going to be situations where you’ll want or need to enable security at high levels of the stack.</span></span> <span data-ttu-id="27420-176">Em tais situações, é recomendável que você implante dispositivos de segurança de rede virtual fornecidos por parceiros do Azure.</span><span class="sxs-lookup"><span data-stu-id="27420-176">In such situations, we recommend that you deploy virtual network security appliances provided by Azure partners.</span></span>

<span data-ttu-id="27420-177">Os dispositivos de segurança de rede do Azure podem oferecer níveis consideravelmente aprimorados de segurança em relação ao que é fornecido pelos controles de nível de rede.</span><span class="sxs-lookup"><span data-stu-id="27420-177">Azure network security appliances can deliver significantly enhanced levels of security over what is provided by network level controls.</span></span> <span data-ttu-id="27420-178">Alguns dos recursos de segurança de rede fornecidos por dispositivos de segurança de rede virtual incluem:</span><span class="sxs-lookup"><span data-stu-id="27420-178">Some of the network security capabilities provided by virtual network security appliances include:</span></span>

* <span data-ttu-id="27420-179">Firewall</span><span class="sxs-lookup"><span data-stu-id="27420-179">Firewalling</span></span>
* <span data-ttu-id="27420-180">Detecção de intrusão/prevenção contra intrusões</span><span class="sxs-lookup"><span data-stu-id="27420-180">Intrusion detection/Intrusion Prevention</span></span>
* <span data-ttu-id="27420-181">Gerenciamento de vulnerabilidades</span><span class="sxs-lookup"><span data-stu-id="27420-181">Vulnerability management</span></span>
* <span data-ttu-id="27420-182">Controle de aplicativo</span><span class="sxs-lookup"><span data-stu-id="27420-182">Application control</span></span>
* <span data-ttu-id="27420-183">Detecção de anomalias baseada em rede</span><span class="sxs-lookup"><span data-stu-id="27420-183">Network-based anomaly detection</span></span>
* <span data-ttu-id="27420-184">Filtragem da Web</span><span class="sxs-lookup"><span data-stu-id="27420-184">Web filtering</span></span>
* <span data-ttu-id="27420-185">Antivírus</span><span class="sxs-lookup"><span data-stu-id="27420-185">Antivirus</span></span>
* <span data-ttu-id="27420-186">Proteção botnet</span><span class="sxs-lookup"><span data-stu-id="27420-186">Botnet protection</span></span>

<span data-ttu-id="27420-187">Se você precisar de um nível mais alto de segurança de rede que pode obter com controles de acesso no nível de rede, é recomendável que você investigue e implante os dispositivos de segurança de rede virtual do Azure.</span><span class="sxs-lookup"><span data-stu-id="27420-187">If you require a higher level of network security than you can obtain with network level access controls, then we recommend that you investigate and deploy Azure virtual network security appliances.</span></span>

<span data-ttu-id="27420-188">Para saber mais sobre quais dispositivos de segurança de rede virtual do Azure estão disponíveis e sobre seus recursos, visite o [Azure Marketplace](https://azure.microsoft.com/marketplace/) e procure "security" e "segurança de rede".</span><span class="sxs-lookup"><span data-stu-id="27420-188">To learn about what Azure virtual network security appliances are available, and about their capabilities, please visit the [Azure Marketplace](https://azure.microsoft.com/marketplace/) and search for “security” and “network security”.</span></span>

## <a name="deploy-dmzs-for-security-zoning"></a><span data-ttu-id="27420-189">Implantar DMZs para zoneamento de segurança</span><span class="sxs-lookup"><span data-stu-id="27420-189">Deploy DMZs for security zoning</span></span>
<span data-ttu-id="27420-190">Uma DMZ, ou “rede de perímetro”, é um segmento de rede lógico ou físico projetado para fornecer uma camada adicional de segurança entre seus ativos e a Internet.</span><span class="sxs-lookup"><span data-stu-id="27420-190">A DMZ or “perimeter network” is a physical or logical network segment that is designed to provide an additional layer of security between your assets and the Internet.</span></span> <span data-ttu-id="27420-191">A intenção da DMZ é colocar dispositivos de controle de acesso à rede especializados na borda da rede DMZ de modo que apenas o tráfego desejado possa passar do dispositivo de segurança de rede e para sua Rede Virtual do Azure.</span><span class="sxs-lookup"><span data-stu-id="27420-191">The intent of the DMZ is to place specialized network access control devices on the edge of the DMZ network so that only desired traffic is allowed past the network security device and into your Azure Virtual Network.</span></span>

<span data-ttu-id="27420-192">As DMZs são úteis porque você pode concentrar o gerenciamento de controle de acesso à rede, o monitoramento, a geração de logs e os relatórios nos dispositivos na borda da sua Rede Virtual do Azure.</span><span class="sxs-lookup"><span data-stu-id="27420-192">DMZs are useful because you can focus your network access control management, monitoring, logging and reporting on the devices at the edge of your Azure Virtual Network.</span></span> <span data-ttu-id="27420-193">Aqui, você normalmente habilitaria a prevenção de DDoS, os sistemas de Detecção de Intrusão/Prevenção contra Intrusão (IDS/IPS), as regras e políticas de firewall, a filtragem da Web, a rede antimalware e muito mais.</span><span class="sxs-lookup"><span data-stu-id="27420-193">Here you would typically enable DDoS prevention, Intrusion Detection/Intrusion Prevention systems (IDS/IPS), firewall rules and policies, web filtering, network antimalware and more.</span></span> <span data-ttu-id="27420-194">Os dispositivos de segurança de rede ficam entre a Internet e sua Rede Virtual do Azure e tem uma interface em ambas as redes.</span><span class="sxs-lookup"><span data-stu-id="27420-194">The network security devices sit between the Internet and your Azure Virtual Network and have an interface on both networks.</span></span>

<span data-ttu-id="27420-195">Embora esse seja o design básico de uma DMZ, existem muitos designs de DMZ diferentes, como back-to-back, tri-homed, multi-homed e outros.</span><span class="sxs-lookup"><span data-stu-id="27420-195">While this is the basic design of a DMZ, there are many different DMZ designs, such as back-to-back, tri-homed, multi-homed, and others.</span></span>

<span data-ttu-id="27420-196">É recomendável para todas as implantações de alta segurança que você considere a implantação de uma DMZ para aumentar o nível de segurança de rede para os recursos do Azure.</span><span class="sxs-lookup"><span data-stu-id="27420-196">We recommend for all high security deployments that you consider deploying a DMZ to enhance the level of network security for your Azure resources.</span></span>

<span data-ttu-id="27420-197">Para saber mais sobre DMZs e como implantá-las no Azure, leia o artigo [Segurança de rede e serviços do Microsoft Cloud](../best-practices-network-security.md).</span><span class="sxs-lookup"><span data-stu-id="27420-197">To learn more about DMZs and how to deploy them in Azure, please read the article [Microsoft Cloud Services and Network Security](../best-practices-network-security.md).</span></span>

## <a name="avoid-exposure-to-the-internet-with-dedicated-wan-links"></a><span data-ttu-id="27420-198">Evitar a exposição à Internet por meio de links WAN dedicados</span><span class="sxs-lookup"><span data-stu-id="27420-198">Avoid exposure to the Internet with dedicated WAN links</span></span>
<span data-ttu-id="27420-199">Muitas organizações escolheram a rota de TI Híbrida.</span><span class="sxs-lookup"><span data-stu-id="27420-199">Many organizations have chosen the Hybrid IT route.</span></span> <span data-ttu-id="27420-200">Na TI híbrida, alguns dos ativos de informação da empresa estão no Azure, enquanto outros permanecem no local.</span><span class="sxs-lookup"><span data-stu-id="27420-200">In hybrid IT, some of the company’s information assets are in Azure, while others remain on-premises.</span></span> <span data-ttu-id="27420-201">Em muitos caso,s alguns componentes de um serviço estarão em execução no Azure, enquanto outros componentes permanecem no local.</span><span class="sxs-lookup"><span data-stu-id="27420-201">In many cases some components of a service will be running in Azure while other components remain on-premises.</span></span>

<span data-ttu-id="27420-202">No cenário de TI híbrida, geralmente há algum tipo de conectividade entre locais.</span><span class="sxs-lookup"><span data-stu-id="27420-202">In the hybrid IT scenario, there is usually some type of cross-premises connectivity.</span></span> <span data-ttu-id="27420-203">Essa conectividade entre locais entre locais permite que a empresa conecte suas redes locais a Redes Virtuais do Azure.</span><span class="sxs-lookup"><span data-stu-id="27420-203">This cross-premises connectivity allows the company to connect their on-premises networks to Azure Virtual Networks.</span></span> <span data-ttu-id="27420-204">Há duas soluções de conectividade entre locais disponíveis:</span><span class="sxs-lookup"><span data-stu-id="27420-204">There are two cross-premises connectivity solutions available:</span></span>

* <span data-ttu-id="27420-205">VPN site a site</span><span class="sxs-lookup"><span data-stu-id="27420-205">Site-to-site VPN</span></span>
* <span data-ttu-id="27420-206">ExpressRoute</span><span class="sxs-lookup"><span data-stu-id="27420-206">ExpressRoute</span></span>

<span data-ttu-id="27420-207">A [VPN site a site](../vpn-gateway/vpn-gateway-site-to-site-create.md) representa uma conexão privada virtual entre sua rede local e uma Rede Virtual do Azure.</span><span class="sxs-lookup"><span data-stu-id="27420-207">[Site-to-site VPN](../vpn-gateway/vpn-gateway-site-to-site-create.md) represents a virtual private connection between your on-premises network and an Azure Virtual Network.</span></span> <span data-ttu-id="27420-208">Essa conexão ocorre pela Internet e permite que você envie suas informações por um "túnel" dentro de um link criptografado entre sua rede e o Azure.</span><span class="sxs-lookup"><span data-stu-id="27420-208">This connection takes place over the Internet and allows you to “tunnel” information inside an encrypted link between your network and Azure.</span></span> <span data-ttu-id="27420-209">A VPN site a site é uma tecnologia segura e madura implantada por empresas de todos os portes há décadas.</span><span class="sxs-lookup"><span data-stu-id="27420-209">Site-to-site VPN is a secure, mature technology that has been deployed by enterprises of all sizes for decades.</span></span> <span data-ttu-id="27420-210">A criptografia de túnel é realizada usando o [modo de túnel IPsec](https://technet.microsoft.com/library/cc786385.aspx).</span><span class="sxs-lookup"><span data-stu-id="27420-210">Tunnel encryption is performed using [IPsec tunnel mode](https://technet.microsoft.com/library/cc786385.aspx).</span></span>

<span data-ttu-id="27420-211">Embora a VPN site a site seja uma tecnologia confiável e estabelecida, o tráfego no túnel não atravessa a Internet.</span><span class="sxs-lookup"><span data-stu-id="27420-211">While site-to-site VPN is a trusted, reliable, and established technology, traffic within the tunnel does traverse the Internet.</span></span> <span data-ttu-id="27420-212">Além disso, a largura de banda é relativamente restrita a um máximo de aproximadamente 200 Mbps.</span><span class="sxs-lookup"><span data-stu-id="27420-212">In addition, bandwidth is relatively constrained to a maximum of about 200Mbps.</span></span>

<span data-ttu-id="27420-213">Se você precisar de um nível excepcional de segurança ou de desempenho para as conexões entre locais, recomendamos que você use a Azure ExpressRoute para sua conectividade entre locais.</span><span class="sxs-lookup"><span data-stu-id="27420-213">If you require an exceptional level of security or performance for your cross-premises connections, we recommend that you use Azure ExpressRoute for your cross-premises connectivity.</span></span> <span data-ttu-id="27420-214">O ExpressRoute é um link WAN dedicado entre seu local ou um provedor de hospedagem do Exchange.</span><span class="sxs-lookup"><span data-stu-id="27420-214">ExpressRoute is a dedicated WAN link between your on-premises location or an Exchange hosting provider.</span></span> <span data-ttu-id="27420-215">Como essa é uma conexão de telecomunicações, seus dados não viajam pela Internet e, portanto, não são expostos aos potenciais riscos de comunicações pela Internet.</span><span class="sxs-lookup"><span data-stu-id="27420-215">Because this is a telco connection, your data doesn’t travel over the Internet and therefore is not exposed to the potential risks inherent in Internet communications.</span></span>

<span data-ttu-id="27420-216">Para saber mais sobre o funcionamento da ExpressRoute do Azure e sobre como implantar, leia o artigo [Visão geral técnica da ExpressRoute](../expressroute/expressroute-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="27420-216">To learn more about how Azure ExpressRoute works and how to deploy, please read the article [ExpressRoute Technical Overview](../expressroute/expressroute-introduction.md).</span></span>

## <a name="optimize-uptime-and-performance"></a><span data-ttu-id="27420-217">Otimizar o desempenho e o tempo de atividade</span><span class="sxs-lookup"><span data-stu-id="27420-217">Optimize uptime and performance</span></span>
<span data-ttu-id="27420-218">Confidencialidade, integridade e disponibilidade (CIA) formam a tríade do modelo de segurança mais influente de hoje.</span><span class="sxs-lookup"><span data-stu-id="27420-218">Confidentiality, integrity and availability (CIA) comprise the triad of today’s most influential security model.</span></span> <span data-ttu-id="27420-219">A confidencialidade está relacionada a criptografia e a privacidade, a integridade está relacionada a garantir que os dados não sejam alterados por pessoas não autorizadas e a disponibilidade está relacionada a garantir que indivíduos autorizados sejam capazes de acessar as informações que estão autorizados a acessar.</span><span class="sxs-lookup"><span data-stu-id="27420-219">Confidentiality is about encryption and privacy, integrity is about making sure that data is not changed by unauthorized personnel, and availability is about making sure that authorized individuals are able to access the information they are authorized to access.</span></span> <span data-ttu-id="27420-220">A falha em qualquer uma dessas áreas representa uma possível violação de segurança.</span><span class="sxs-lookup"><span data-stu-id="27420-220">Failure in any one of these areas represents a potential breach in security.</span></span>

<span data-ttu-id="27420-221">A disponibilidade pode ser pensada como relacionada a tempo de atividade e ao desempenho.</span><span class="sxs-lookup"><span data-stu-id="27420-221">Availability can be thought of as being about uptime and performance.</span></span> <span data-ttu-id="27420-222">Se um serviço estiver inativo, as informações não poderão ser acessadas.</span><span class="sxs-lookup"><span data-stu-id="27420-222">If a service is down, information can’t be accessed.</span></span> <span data-ttu-id="27420-223">Se o desempenho for tão ruim que inutilize os dados, poderemos considerar os dados como inacessíveis.</span><span class="sxs-lookup"><span data-stu-id="27420-223">If performance is so poor as to make the data unusable, then we can consider the data to be inaccessible.</span></span> <span data-ttu-id="27420-224">Portanto, de uma perspectiva de segurança, precisamos fazer tudo o que podemos para nos certificarmos de que nossos serviços tenham o desempenho e o tempo de atividade ideais.</span><span class="sxs-lookup"><span data-stu-id="27420-224">Therefore, from a security perspective, we need to do whatever we can to make sure our services have optimal uptime and performance.</span></span>
<span data-ttu-id="27420-225">Um método popular e eficaz usado para melhorar a disponibilidade e o desempenho é usar o balanceamento de carga.</span><span class="sxs-lookup"><span data-stu-id="27420-225">A popular and effective method used to enhance availability and performance is to use load balancing.</span></span> <span data-ttu-id="27420-226">O balanceamento de carga é um método de distribuição de tráfego de rede entre servidores que fazem parte de um serviço.</span><span class="sxs-lookup"><span data-stu-id="27420-226">Load balancing is a method of distributing network traffic across servers that are part of a service.</span></span> <span data-ttu-id="27420-227">Por exemplo, se você tiver servidores Web de front-end como parte de seu serviço, poderá usar o balanceamento de carga para distribuir o tráfego entre vários servidores Web de front-end.</span><span class="sxs-lookup"><span data-stu-id="27420-227">For example, if you have front-end web servers as part of your service, you can use load balancing to distribute the traffic across your multiple front-end web servers.</span></span>

<span data-ttu-id="27420-228">Essa distribuição de tráfego aumenta a disponibilidade porque se um dos servidores Web ficar indisponível, o balanceador de carga interromperá o envio de tráfego para esse servidor e redirecionará o tráfego para os servidores que ainda estiverem online.</span><span class="sxs-lookup"><span data-stu-id="27420-228">This distribution of traffic increases availability because if one of the web servers becomes unavailable, the load balancer will stop sending traffic to that server and redirect traffic to the servers that are still online.</span></span> <span data-ttu-id="27420-229">O balanceamento de carga também ajuda no desempenho porque a sobrecarga do processador, da rede e da memória para atender às solicitações é distribuída por todos os servidores com carga balanceada.</span><span class="sxs-lookup"><span data-stu-id="27420-229">Load balancing also helps performance, because the processor, network and memory overhead for serving requests is distributed across all the load balanced servers.</span></span>

<span data-ttu-id="27420-230">É recomendável implantar o balanceamento de carga sempre que possível e conforme apropriado para seus serviços.</span><span class="sxs-lookup"><span data-stu-id="27420-230">We recommend that you employ load balancing whenever you can, and as appropriate for your services.</span></span> <span data-ttu-id="27420-231">Vamos abordar a adequação nas seções a seguir.</span><span class="sxs-lookup"><span data-stu-id="27420-231">We’ll address appropriateness in the following sections.</span></span>
<span data-ttu-id="27420-232">No nível da Rede Virtual do Azure, o Azure fornece três opções principais de balanceamento de carga:</span><span class="sxs-lookup"><span data-stu-id="27420-232">At the Azure Virtual Network level, Azure provides you with three primary load balancing options:</span></span>

* <span data-ttu-id="27420-233">Balanceamento de carga baseado em HTTP</span><span class="sxs-lookup"><span data-stu-id="27420-233">HTTP-based load balancing</span></span>
* <span data-ttu-id="27420-234">Balanceamento de carga externo</span><span class="sxs-lookup"><span data-stu-id="27420-234">External load balancing</span></span>
* <span data-ttu-id="27420-235">Balanceamento de carga interno</span><span class="sxs-lookup"><span data-stu-id="27420-235">Internal load balancing</span></span>

## <a name="http-based-load-balancing"></a><span data-ttu-id="27420-236">Balanceamento de carga baseado em HTTP</span><span class="sxs-lookup"><span data-stu-id="27420-236">HTTP-based Load Balancing</span></span>
<span data-ttu-id="27420-237">O balanceamento de carga baseado em HTTP baseia as decisões sobre para qual servidor serão enviadas conexões usando características do protocolo HTTP.</span><span class="sxs-lookup"><span data-stu-id="27420-237">HTTP-based load balancing bases decisions about what server to send connections using characteristics of the HTTP protocol.</span></span> <span data-ttu-id="27420-238">O Azure tem um balanceador de carga de HTTP que passa pelo nome do Application Gateway.</span><span class="sxs-lookup"><span data-stu-id="27420-238">Azure has an HTTP load balancer that goes by the name of Application Gateway.</span></span>

<span data-ttu-id="27420-239">É recomendável que você use o Gateway de Aplicativo do Azure quando:</span><span class="sxs-lookup"><span data-stu-id="27420-239">We recommend that you us Azure Application Gateway when:</span></span>

* <span data-ttu-id="27420-240">Os aplicativos que exijam solicitações da mesma sessão de usuário/cliente para acessar a mesma máquina virtual de back-end.</span><span class="sxs-lookup"><span data-stu-id="27420-240">Applications that require requests from the same user/client session to reach the same back-end virtual machine.</span></span> <span data-ttu-id="27420-241">Exemplos disso são os aplicativos de carrinho de compras e servidores de email na Web.</span><span class="sxs-lookup"><span data-stu-id="27420-241">Examples of this would be shopping cart apps and web mail servers.</span></span>
* <span data-ttu-id="27420-242">Os aplicativos que desejam liberar os farms de servidores Web da sobrecarga da terminação SSL ao tirar proveito do recurso [descarregamento SSL](https://f5.com/glossary/ssl-offloading) do Gateway de Aplicativo.</span><span class="sxs-lookup"><span data-stu-id="27420-242">Applications that want to free web server farms from SSL termination overhead by taking advantage of Application Gateway’s [SSL offload](https://f5.com/glossary/ssl-offloading) feature.</span></span>
* <span data-ttu-id="27420-243">Aplicativos, como uma rede de distribuição de conteúdo, que exigem que várias solicitações HTTP na mesma conexão TCP de execução longa sejam roteadas ou balanceadas por carga para diferentes servidores back-end.</span><span class="sxs-lookup"><span data-stu-id="27420-243">Applications, such as a content delivery network, that require multiple HTTP requests on the same long-running TCP connection to be routed or load balanced to different back-end servers.</span></span>

<span data-ttu-id="27420-244">Para saber mais sobre como funciona o Gateway de Aplicativo do Azure e como usá-lo em suas implantações, leia o artigo [Visão geral do Gateway de Aplicativo](../application-gateway/application-gateway-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="27420-244">To learn more about how Azure Application Gateway works and how you can use it in your deployments, please read the article [Application Gateway Overview](../application-gateway/application-gateway-introduction.md).</span></span>

## <a name="external-load-balancing"></a><span data-ttu-id="27420-245">Balanceamento de carga externo</span><span class="sxs-lookup"><span data-stu-id="27420-245">External Load Balancing</span></span>
<span data-ttu-id="27420-246">O balanceamento de carga externo ocorre quando as conexões de entrada da Internet têm a carga balanceada entre os servidores localizados em uma Rede Virtual do Azure.</span><span class="sxs-lookup"><span data-stu-id="27420-246">External load balancing takes place when incoming connections from the Internet are load balanced among your servers located in an Azure Virtual Network.</span></span> <span data-ttu-id="27420-247">O balanceador de carga externo do Azure pode fornecer essa capacidade e é recomendável usá-lo quando você não exigir as sessões temporárias ou o descarregamento de SSL.</span><span class="sxs-lookup"><span data-stu-id="27420-247">The Azure External Load balancer can provide you this capability and we recommend that you use it when you don’t require the sticky sessions or SSL offload.</span></span>

<span data-ttu-id="27420-248">Em contraste ao balanceamento de carga baseado em HTTP, o balanceador de carga externo usa as informações nas camadas de transporte e de rede do modelo de rede OSI para tomar decisões sobre para qual servidor a conexão terá balanceamento de carga.</span><span class="sxs-lookup"><span data-stu-id="27420-248">In contrast to HTTP-based load balancing, the External Load Balancer uses information at the network and transport layers of the OSI networking model to make decisions on what server to load balance connection to.</span></span>

<span data-ttu-id="27420-249">É recomendável que você use o balanceamento de carga externo sempre que houver [aplicativos sem monitoração de estado](http://whatis.techtarget.com/definition/stateless-app) que aceitem solicitações de entrada da Internet.</span><span class="sxs-lookup"><span data-stu-id="27420-249">We recommend that you use External Load Balancing whenever you have [stateless applications](http://whatis.techtarget.com/definition/stateless-app) accepting incoming requests from the Internet.</span></span>

<span data-ttu-id="27420-250">Para saber mais sobre como funciona o Balanceador Externo de Carga do Azure e sobre como você pode implantá-lo, leia o artigo [Introdução à criação de um balanceador de carga voltado para Internet no Resource Manager usando o PowerShell](../load-balancer/load-balancer-get-started-internet-arm-ps.md).</span><span class="sxs-lookup"><span data-stu-id="27420-250">To learn more about how the Azure External Load Balancer works and how you can deploy it, please read the article [Get Started Creating an Internet Facing Load Balancer in Resource Manager using PowerShell](../load-balancer/load-balancer-get-started-internet-arm-ps.md).</span></span>

## <a name="internal-load-balancing"></a><span data-ttu-id="27420-251">Balanceamento de carga interno</span><span class="sxs-lookup"><span data-stu-id="27420-251">Internal Load Balancing</span></span>
<span data-ttu-id="27420-252">O balanceamento de carga interno é semelhante ao balanceamento de carga externo e usa o mesmo mecanismo para conexões com balanceamento de carga para os servidores por trás delas.</span><span class="sxs-lookup"><span data-stu-id="27420-252">Internal load balancing is similar to external load balancing and uses the same mechanism to load balance connections to the servers behind them.</span></span> <span data-ttu-id="27420-253">A única diferença é que o balanceador de carga nesse caso está aceitando conexões de máquinas virtuais que não estejam na Internet.</span><span class="sxs-lookup"><span data-stu-id="27420-253">The only difference is that the load balancer in this case is accepting connections from virtual machines that are not on the Internet.</span></span> <span data-ttu-id="27420-254">Na maioria dos casos, as conexões aceitas para balanceamento de carga são iniciadas por dispositivos em uma Rede Virtual do Azure.</span><span class="sxs-lookup"><span data-stu-id="27420-254">In most cases, the connections that are accepted for load balancing are initiated by devices on an Azure Virtual Network.</span></span>

<span data-ttu-id="27420-255">É recomendável que você use o balanceamento de carga interno para cenários que irão se beneficiar desse recurso, como quando for necessário balancear a carga de conexões para SQL Servers ou para servidores Web internos.</span><span class="sxs-lookup"><span data-stu-id="27420-255">We recommend that you use internal load balancing for scenarios that will benefit from this capability, such as when you need to load balance connections to SQL Servers or internal web servers.</span></span>

<span data-ttu-id="27420-256">Para saber mais sobre o funcionamento do Balanceamento de Carga Interno do Azure e como você pode implantá-lo, leia o artigo [Introdução à criação de um balanceador de carga usando o PowerShell](../load-balancer/load-balancer-get-started-internet-arm-ps.md#update-an-existing-load-balancer).</span><span class="sxs-lookup"><span data-stu-id="27420-256">To learn more about how Azure Internal Load Balancing works and how you can deploy it, please read the article [Get Started Creating an Internal Load Balancer using PowerShell](../load-balancer/load-balancer-get-started-internet-arm-ps.md#update-an-existing-load-balancer).</span></span>

## <a name="use-global-load-balancing"></a><span data-ttu-id="27420-257">Usar o balanceamento de carga global</span><span class="sxs-lookup"><span data-stu-id="27420-257">Use global load balancing</span></span>
<span data-ttu-id="27420-258">A computação de nuvem pública possibilita a implantação de aplicativos globalmente distribuídos com componentes localizados em datacenters no mundo todo.</span><span class="sxs-lookup"><span data-stu-id="27420-258">Public cloud computing makes it possible to deploy globally distributed applications that have components located in datacenters all over the world.</span></span> <span data-ttu-id="27420-259">Isso é possível no Microsoft Azure devido à presença do datacenter global do Azure.</span><span class="sxs-lookup"><span data-stu-id="27420-259">This is possible on Microsoft Azure due to Azure’s global datacenter presence.</span></span> <span data-ttu-id="27420-260">Em contraste com a tecnologias de balanceamento de carga mencionadas anteriormente, o balanceamento de carga global possibilita disponibilizar serviços mesmo quando datacenters inteiros se tornem indisponíveis.</span><span class="sxs-lookup"><span data-stu-id="27420-260">In contrast to the load balancing technologies mentioned earlier, global load balancing makes it possible to make services available even when entire datacenters might become unavailable.</span></span>

<span data-ttu-id="27420-261">Você pode obter esse tipo de balanceamento de carga global no Azure ao aproveitar as vantagens do [Gerenciador de Tráfego do Azure](https://azure.microsoft.com/documentation/services/traffic-manager/).</span><span class="sxs-lookup"><span data-stu-id="27420-261">You can get this type of global load balancing in Azure by taking advantage of [Azure Traffic Manager](https://azure.microsoft.com/documentation/services/traffic-manager/).</span></span> <span data-ttu-id="27420-262">O Gerenciador de Tráfego faz é possível carregar conexões de saldo de serviços com base no local do usuário.</span><span class="sxs-lookup"><span data-stu-id="27420-262">Traffic Manager makes is possible to load balance connections to your services based on the location of the user.</span></span>

<span data-ttu-id="27420-263">Por exemplo, se o usuário estiver fazendo uma solicitação ao serviço da União Europeia, a conexão será direcionada para os serviços localizados em um datacenter da União Europeia.</span><span class="sxs-lookup"><span data-stu-id="27420-263">For example, if the user is making a request to your service from the EU, the connection is directed to your services located in an EU datacenter.</span></span> <span data-ttu-id="27420-264">Esta parte do balanceamento de carga global do Gerenciador de Tráfego ajuda a melhorar o desempenho porque a conexão com o datacenter mais próximo é mais rápida do que conectar-se a data centers que estejam distantes.</span><span class="sxs-lookup"><span data-stu-id="27420-264">This part of Traffic Manager global load balancing helps to improve performance because connecting to the nearest datacenter is faster than connecting to datacenters that are far away.</span></span>

<span data-ttu-id="27420-265">Pelo lado da disponibilidade, o balanceamento de carga global garante que o serviço esteja disponível mesmo se um datacenter inteiro ficar indisponível.</span><span class="sxs-lookup"><span data-stu-id="27420-265">On the availability side, global load balancing makes sure that your service is available even if an entire datacenter should become unavailable.</span></span>

<span data-ttu-id="27420-266">Por exemplo, se um datacenter do Azure ficar indisponível por motivos ambientais ou devido a interrupções (tais como falhas de rede regional), as conexões ao serviço seriam redirecionadas para o datacenter online mais próximo.</span><span class="sxs-lookup"><span data-stu-id="27420-266">For example, if an Azure datacenter should become unavailable due to environmental reasons or due to outages (such as regional network failures), connections to your service would be rerouted to the nearest online datacenter.</span></span> <span data-ttu-id="27420-267">Esse balanceamento de carga global é realizado tirando proveito das políticas de DNS que você pode criar no Gerenciador de Tráfego.</span><span class="sxs-lookup"><span data-stu-id="27420-267">This global load balancing is accomplished by taking advantage of DNS policies that you can create in Traffic Manager.</span></span>

<span data-ttu-id="27420-268">É recomendável que você use o Gerenciador de Tráfego para desenvolver qualquer solução de nuvem que tenha um escopo amplamente distribuído entre várias regiões e que exija o nível mais alto de tempo de atividade possível.</span><span class="sxs-lookup"><span data-stu-id="27420-268">We recommend that you use Traffic Manager for any cloud solution you develop that has a widely distributed scope across multiple regions and requires the highest level of uptime possible.</span></span>

<span data-ttu-id="27420-269">Para saber mais sobre o Gerenciador de Tráfego e sobre como implantá-lo, leia o artigo [O que é o Gerenciador de Tráfego](../traffic-manager/traffic-manager-overview.md).</span><span class="sxs-lookup"><span data-stu-id="27420-269">To learn more about Azure Traffic Manager and how to deploy it, please read the article [What is Traffic Manager](../traffic-manager/traffic-manager-overview.md).</span></span>

## <a name="disable-rdpssh-access-to-azure-virtual-machines"></a><span data-ttu-id="27420-270">Desabilitar o acesso RDP/SSH para Máquinas Virtuais do Azure</span><span class="sxs-lookup"><span data-stu-id="27420-270">Disable RDP/SSH Access to Azure Virtual Machines</span></span>
<span data-ttu-id="27420-271">É possível acessar as Máquinas Virtuais do Azure usando o protocolo RDP ([Remote Desktop Protocol](https://en.wikipedia.org/wiki/Remote_Desktop_Protocol)) e os protocolos SSH ([Secure Shell](https://en.wikipedia.org/wiki/Secure_Shell)).</span><span class="sxs-lookup"><span data-stu-id="27420-271">It is possible to reach Azure Virtual Machines using the [Remote Desktop Protocol](https://en.wikipedia.org/wiki/Remote_Desktop_Protocol) (RDP)and the [Secure Shell](https://en.wikipedia.org/wiki/Secure_Shell) (SSH) protocols.</span></span> <span data-ttu-id="27420-272">Esses protocolos permitem gerenciar máquinas virtuais de locais remotos e são padrão na computação do datacenter.</span><span class="sxs-lookup"><span data-stu-id="27420-272">These protocols make it possible to manage virtual machines from remote locations and are standard in datacenter computing.</span></span>

<span data-ttu-id="27420-273">O potencial problema de segurança com o uso desses protocolos pela Internet é que os invasores podem usar diversas técnicas de [força bruta](https://en.wikipedia.org/wiki/Brute-force_attack) para obter acesso às Máquinas Virtuais do Azure.</span><span class="sxs-lookup"><span data-stu-id="27420-273">The potential security problem with using these protocols over the Internet is that attackers can use various [brute force](https://en.wikipedia.org/wiki/Brute-force_attack) techniques to gain access to Azure Virtual Machines.</span></span> <span data-ttu-id="27420-274">Depois que os invasores obtiverem acesso, eles poderão usar sua máquina virtual como um ponto de partida para comprometer outros computadores na sua Rede Virtual do Azure ou até mesmo para atacar dispositivos de rede fora do Azure.</span><span class="sxs-lookup"><span data-stu-id="27420-274">Once the attackers gain access, they can use your virtual machine as a launch point for compromising other machines on your Azure Virtual Network or even attack networked devices outside of Azure.</span></span>

<span data-ttu-id="27420-275">Por isso, recomendamos que você desabilite o acesso direito RDP e SSH para Máquinas Virtuais do Azure da Internet.</span><span class="sxs-lookup"><span data-stu-id="27420-275">Because of this, we recommend that you disable direct RDP and SSH access to your Azure Virtual Machines from the Internet.</span></span> <span data-ttu-id="27420-276">Depois que o acesso direito RDP e SSH da Internet estiver desabilitado, você terá outras opções que poderá usar para acessar essas máquinas virtuais para gerenciamento remoto:</span><span class="sxs-lookup"><span data-stu-id="27420-276">After direct RDP and SSH access from the Internet is disabled, you have other options you can use to access these virtual machines for remote management:</span></span>

* <span data-ttu-id="27420-277">VPN ponto a site</span><span class="sxs-lookup"><span data-stu-id="27420-277">Point-to-site VPN</span></span>
* <span data-ttu-id="27420-278">VPN site a site</span><span class="sxs-lookup"><span data-stu-id="27420-278">Site-to-site VPN</span></span>
* <span data-ttu-id="27420-279">ExpressRoute</span><span class="sxs-lookup"><span data-stu-id="27420-279">ExpressRoute</span></span>

<span data-ttu-id="27420-280">A [VPN ponto a site](../vpn-gateway/vpn-gateway-point-to-site-create.md) é outro termo para uma conexão de cliente/servidor de VPN de acesso remoto.</span><span class="sxs-lookup"><span data-stu-id="27420-280">[Point-to-site VPN](../vpn-gateway/vpn-gateway-point-to-site-create.md) is another term for a remote access VPN client/server connection.</span></span> <span data-ttu-id="27420-281">Uma VPN ponto a site permite que um único usuário se conecte a uma Rede Virtual do Azure pela Internet.</span><span class="sxs-lookup"><span data-stu-id="27420-281">A point-to-site VPN enables a single user to connect to an Azure Virtual Network over the Internet.</span></span> <span data-ttu-id="27420-282">Depois que a conexão ponto a site for estabelecida, o usuário será capaz de usar o RDP ou o SSH para se conectar a máquinas virtuais localizadas na Rede Virtual do Azure às quais o usuário se conectou via VPN ponto a site.</span><span class="sxs-lookup"><span data-stu-id="27420-282">After the point-to-site connection is established, the user will be able to use RDP or SSH to connect to any virtual machines located on the Azure Virtual Network that the user connected to via point-to-site VPN.</span></span> <span data-ttu-id="27420-283">Isso pressupõe que o usuário esteja autorizado a acessar essas máquinas virtuais.</span><span class="sxs-lookup"><span data-stu-id="27420-283">This assumes that the user is authorized to reach those virtual machines.</span></span>

<span data-ttu-id="27420-284">A VPN ponto a site é mais segura do que conexões diretas RDP ou SSH porque o usuário precisa se autenticar duas vezes antes de se conectar a uma máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="27420-284">Point-to-site VPN is more secure than direct RDP or SSH connections because the user has to authenticate twice before connecting to a virtual machine.</span></span> <span data-ttu-id="27420-285">Primeiro, o usuário precisa se autenticar (e ser autorizado) para estabelecer a conexão de VPN ponto a site; depois, o usuário precisa se autenticar (e ser autorizado) para estabelecer a sessão RDP ou SSH.</span><span class="sxs-lookup"><span data-stu-id="27420-285">First, the user needs to authenticate (and be authorized) to establish the point-to-site VPN connection; second, the user needs to authenticate (and be authorized) to establish the RDP or SSH session.</span></span>

<span data-ttu-id="27420-286">Uma [VPN site a site](../vpn-gateway/vpn-gateway-site-to-site-create.md) conecta uma rede inteira a outra rede pela Internet.</span><span class="sxs-lookup"><span data-stu-id="27420-286">A [site-to-site VPN](../vpn-gateway/vpn-gateway-site-to-site-create.md) connects an entire network to another network over the Internet.</span></span> <span data-ttu-id="27420-287">Você pode usar uma VPN site a site para conectar sua rede local a uma Rede Virtual do Azure.</span><span class="sxs-lookup"><span data-stu-id="27420-287">You can use a site-to-site VPN to connect your on-premises network to an Azure Virtual Network.</span></span> <span data-ttu-id="27420-288">Se você implantar uma VPN site a site, os usuários em sua rede local poderão se conectar a máquinas virtuais em sua Rede Virtual do Azure usando o protocolo RDP ou SSH pela conexão VPN site a site e não exigirão que você permita o acesso direito RDP ou SSH pela Internet.</span><span class="sxs-lookup"><span data-stu-id="27420-288">If you deploy a site-to-site VPN, users on your on-premises network will be able to connect to virtual machines on your Azure Virtual Network by using the RDP or SSH protocol over the site-to-site VPN connection and does not require you to allow direct RDP or SSH access over the Internet.</span></span>

<span data-ttu-id="27420-289">Você também pode usar um link WAN dedicado para fornecer funcionalidade semelhante à VPN site a site.</span><span class="sxs-lookup"><span data-stu-id="27420-289">You can also use a dedicated WAN link to provide functionality similar to the site-to-site VPN.</span></span> <span data-ttu-id="27420-290">As diferenças principais são 1.</span><span class="sxs-lookup"><span data-stu-id="27420-290">The main differences are 1.</span></span> <span data-ttu-id="27420-291">o link WAN dedicado não percorre a Internet e 2.</span><span class="sxs-lookup"><span data-stu-id="27420-291">the dedicated WAN link doesn’t traverse the Internet, and 2.</span></span> <span data-ttu-id="27420-292">os links WAN dedicados são geralmente mais estáveis e com maior desempenho.</span><span class="sxs-lookup"><span data-stu-id="27420-292">dedicated WAN links are typically more stable and performant.</span></span> <span data-ttu-id="27420-293">O Azure oferece uma solução de link WAN dedicado na forma de [ExpressRoute](https://azure.microsoft.com/documentation/services/expressroute/).</span><span class="sxs-lookup"><span data-stu-id="27420-293">Azure provides you a dedicated WAN link solution in the form of [ExpressRoute](https://azure.microsoft.com/documentation/services/expressroute/).</span></span>

## <a name="enable-azure-security-center"></a><span data-ttu-id="27420-294">Habilitar a Central de Segurança do Azure</span><span class="sxs-lookup"><span data-stu-id="27420-294">Enable Azure Security Center</span></span>
<span data-ttu-id="27420-295">A Central de Segurança do Azure ajuda você a impedir, detectar e responder a ameaças e oferece maior visibilidade e controle sobre a segurança dos recursos do Azure</span><span class="sxs-lookup"><span data-stu-id="27420-295">Azure Security Center helps you prevent, detect, and respond to threats, and provides you increased visibility into, and control over, the security of your Azure resources.</span></span> <span data-ttu-id="27420-296">Ela permite o gerenciamento de políticas e o monitoramento da segurança integrada entre suas assinaturas do Azure, ajuda a detectar ameaças que poderiam passar despercebidas e funciona com uma enorme variedade de soluções de segurança.</span><span class="sxs-lookup"><span data-stu-id="27420-296">It provides integrated security monitoring and policy management across your Azure subscriptions, helps detect threats that might otherwise go unnoticed, and works with a broad ecosystem of security solutions.</span></span>

<span data-ttu-id="27420-297">A Central de Segurança do Azure ajuda a otimizar e a monitorar a segurança da rede:</span><span class="sxs-lookup"><span data-stu-id="27420-297">Azure Security Center helps you optimize and monitor network security by:</span></span>

* <span data-ttu-id="27420-298">Fornecendo recomendações de segurança de rede</span><span class="sxs-lookup"><span data-stu-id="27420-298">Providing network security recommendations</span></span>
* <span data-ttu-id="27420-299">Monitorando o estado de configuração de segurança da rede</span><span class="sxs-lookup"><span data-stu-id="27420-299">Monitoring the state of your network security configuration</span></span>
* <span data-ttu-id="27420-300">Alertando você contra ameaças baseadas em rede, nos níveis do ponto de extremidade e de rede</span><span class="sxs-lookup"><span data-stu-id="27420-300">Alerting you to network based threats both at the endpoint and network levels</span></span>

<span data-ttu-id="27420-301">É altamente recomendável que você habilite a Central de Segurança do Azure para todas as implantações do Azure.</span><span class="sxs-lookup"><span data-stu-id="27420-301">We highly recommend that you enable Azure Security Center for all of your Azure deployments.</span></span>

<span data-ttu-id="27420-302">Para saber mais sobre a Central de Segurança do Azure e sobre como habilitá-la para suas implantações, leia o artigo [Introdução à Central de Segurança do Azure](../security-center/security-center-intro.md).</span><span class="sxs-lookup"><span data-stu-id="27420-302">To learn more about Azure Security Center and how to enable it for your deployments, please read the article [Introduction to Azure Security Center](../security-center/security-center-intro.md).</span></span>

## <a name="securely-extend-your-datacenter-into-azure"></a><span data-ttu-id="27420-303">Estenda com segurança seu datacenter para o Azure</span><span class="sxs-lookup"><span data-stu-id="27420-303">Securely extend your datacenter into Azure</span></span>
<span data-ttu-id="27420-304">Muitas organizações de TI estão procurando se expandir para a nuvem em vez de ampliarem seus datacenters locais.</span><span class="sxs-lookup"><span data-stu-id="27420-304">Many enterprise IT organizations are looking to expand into the cloud instead of growing their on-premises datacenters.</span></span> <span data-ttu-id="27420-305">Essa expansão representa uma extensão da infraestrutura de TI existente para a nuvem pública.</span><span class="sxs-lookup"><span data-stu-id="27420-305">This expansion represents an extension of existing IT infrastructure into the public cloud.</span></span> <span data-ttu-id="27420-306">Ao aproveitar a vantagem das opções de conectividade entre locais, é possível tratar suas Redes Virtuais do Azure como qualquer outra sub-rede na sua infraestrutura de rede local.</span><span class="sxs-lookup"><span data-stu-id="27420-306">By taking advantage of cross-premises connectivity options it’s possible to treat your Azure Virtual Networks as just another subnet on your on-premises network infrastructure.</span></span>

<span data-ttu-id="27420-307">No entanto, há muitos problemas de planejamento e de design que precisam ser abordados primeiro.</span><span class="sxs-lookup"><span data-stu-id="27420-307">However, there is a lot of planning and design issues that need to be addressed first.</span></span> <span data-ttu-id="27420-308">Isso é especialmente importante na área de segurança de rede.</span><span class="sxs-lookup"><span data-stu-id="27420-308">This is especially important in the area of network security.</span></span> <span data-ttu-id="27420-309">Uma das melhores maneiras de entender como abordar esse design é ver um exemplo.</span><span class="sxs-lookup"><span data-stu-id="27420-309">One of the best ways to understand how you approach such a design is to see an example.</span></span>

<span data-ttu-id="27420-310">A Microsoft criou o [Diagrama de arquitetura de referência de extensão do datacenter](https://gallery.technet.microsoft.com/Datacenter-extension-687b1d84#content) e material de apoio para ajudar você a entender a aparência de uma extensão do datacenter.</span><span class="sxs-lookup"><span data-stu-id="27420-310">Microsoft has created the [Datacenter Extension Reference Architecture Diagram](https://gallery.technet.microsoft.com/Datacenter-extension-687b1d84#content) and supporting collateral to help you understand what such a datacenter extension would look like.</span></span> <span data-ttu-id="27420-311">Isso fornece um exemplo de implementação de referência que você pode usar para planejar e projetar uma extensão segura do datacenter corporativo para a nuvem.</span><span class="sxs-lookup"><span data-stu-id="27420-311">This provides an example reference implementation that you can use to plan and design a secure enterprise datacenter extension to the cloud.</span></span> <span data-ttu-id="27420-312">É recomendável que você leia este documento para ter uma ideia dos principais componentes de uma solução segura.</span><span class="sxs-lookup"><span data-stu-id="27420-312">We recommend that you review this document to get an idea of the key components of a secure solution.</span></span>

<span data-ttu-id="27420-313">Para saber mais sobre como estender com segurança seu data center para o Azure, veja o vídeo [Extensão do seu datacenter para o Microsoft Azure](https://www.youtube.com/watch?v=Th1oQQCb2KA).</span><span class="sxs-lookup"><span data-stu-id="27420-313">To learn more about how to securely extend your datacenter into Azure, please view the video [Extending Your Datacenter to Microsoft Azure](https://www.youtube.com/watch?v=Th1oQQCb2KA).</span></span>
