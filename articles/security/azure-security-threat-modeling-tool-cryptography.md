---
title: "aaaCryptography - ferramenta de modelagem de ameaça Microsoft - Azure | Microsoft Docs"
description: "reduções de ameaças expostas em Olá, ferramenta de modelagem de ameaça"
services: security
documentationcenter: na
author: RodSan
manager: RodSan
editor: RodSan
ms.assetid: na
ms.service: security
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: rodsan
ms.openlocfilehash: cab981bf116a0e76bbf44fe0f0a1a3650e4ab0f8
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="security-frame-cryptography--mitigations"></a><span data-ttu-id="2626c-103">Estrutura de segurança: Criptografia | Atenuações</span><span class="sxs-lookup"><span data-stu-id="2626c-103">Security Frame: Cryptography | Mitigations</span></span> 
| <span data-ttu-id="2626c-104">Produto/serviço</span><span class="sxs-lookup"><span data-stu-id="2626c-104">Product/Service</span></span> | <span data-ttu-id="2626c-105">Artigo</span><span class="sxs-lookup"><span data-stu-id="2626c-105">Article</span></span> |
| --------------- | ------- |
| <span data-ttu-id="2626c-106">**Aplicativo Web**</span><span class="sxs-lookup"><span data-stu-id="2626c-106">**Web Application**</span></span> | <ul><li>[<span data-ttu-id="2626c-107">Usar somente codificações de bloco simétricas e comprimentos de chave aprovados</span><span class="sxs-lookup"><span data-stu-id="2626c-107">Use only approved symmetric block ciphers and key lengths</span></span>](#cipher-length)</li><li>[<span data-ttu-id="2626c-108">Usar modos de codificação de bloco aprovados e vetores de inicialização para codificações simétricas</span><span class="sxs-lookup"><span data-stu-id="2626c-108">Use approved block cipher modes and initialization vectors for symmetric ciphers</span></span>](#vector-ciphers)</li><li>[<span data-ttu-id="2626c-109">Usar algoritmos assimétricos, comprimentos de chave e preenchimentos aprovados</span><span class="sxs-lookup"><span data-stu-id="2626c-109">Use approved asymmetric algorithms, key lengths, and padding</span></span>](#padding)</li><li>[<span data-ttu-id="2626c-110">Usar um número aleatório de geradores aprovados</span><span class="sxs-lookup"><span data-stu-id="2626c-110">Use approved random number generators</span></span>](#numgen)</li><li>[<span data-ttu-id="2626c-111">Não usar codificações de fluxo simétricas</span><span class="sxs-lookup"><span data-stu-id="2626c-111">Do not use symmetric stream ciphers</span></span>](#stream-ciphers)</li><li>[<span data-ttu-id="2626c-112">Usar algoritmos MAC, HMAC e de hash com chave</span><span class="sxs-lookup"><span data-stu-id="2626c-112">Use approved MAC/HMAC/keyed hash algorithms</span></span>](#mac-hash)</li><li>[<span data-ttu-id="2626c-113">Usar apenas as funções aprovadas do hash criptográfico</span><span class="sxs-lookup"><span data-stu-id="2626c-113">Use only approved cryptographic hash functions</span></span>](#hash-functions)</li></ul> |
| <span data-ttu-id="2626c-114">**Banco de dados**</span><span class="sxs-lookup"><span data-stu-id="2626c-114">**Database**</span></span> | <ul><li>[<span data-ttu-id="2626c-115">Usar dados de tooencrypt de algoritmos de criptografia forte no banco de dados de saudação</span><span class="sxs-lookup"><span data-stu-id="2626c-115">Use strong encryption algorithms tooencrypt data in hello database</span></span>](#strong-db)</li><li>[<span data-ttu-id="2626c-116">Os pacotes do SSIS devem ser criptografados e assinados digitalmente</span><span class="sxs-lookup"><span data-stu-id="2626c-116">SSIS packages should be encrypted and digitally signed</span></span>](#ssis-signed)</li><li>[<span data-ttu-id="2626c-117">Adicionar assinatura digital protegíveis de banco de dados de toocritical</span><span class="sxs-lookup"><span data-stu-id="2626c-117">Add digital signature toocritical database securables</span></span>](#securables-db)</li><li>[<span data-ttu-id="2626c-118">Usar chaves de criptografia do SQL server EKM tooprotect</span><span class="sxs-lookup"><span data-stu-id="2626c-118">Use SQL server EKM tooprotect encryption keys</span></span>](#ekm-keys)</li><li>[<span data-ttu-id="2626c-119">Use o recurso de AlwaysEncrypted se as chaves de criptografia não devem ser reveladas tooDatabase mecanismo</span><span class="sxs-lookup"><span data-stu-id="2626c-119">Use AlwaysEncrypted feature if encryption keys should not be revealed tooDatabase engine</span></span>](#keys-engine)</li></ul> |
| <span data-ttu-id="2626c-120">**Dispositivo IoT**</span><span class="sxs-lookup"><span data-stu-id="2626c-120">**IoT Device**</span></span> | <ul><li>[<span data-ttu-id="2626c-121">Armazenar chaves de criptografia com segurança no dispositivo IoT</span><span class="sxs-lookup"><span data-stu-id="2626c-121">Store Cryptographic Keys securely on IoT Device</span></span>](#keys-iot)</li></ul> | 
| <span data-ttu-id="2626c-122">**Gateway de Nuvem IoT**</span><span class="sxs-lookup"><span data-stu-id="2626c-122">**IoT Cloud Gateway**</span></span> | <ul><li>[<span data-ttu-id="2626c-123">Gerar uma chave simétrica aleatória de tamanho suficiente para autenticação tooIoT Hub</span><span class="sxs-lookup"><span data-stu-id="2626c-123">Generate a random symmetric key of sufficient length for authentication tooIoT Hub</span></span>](#random-hub)</li></ul> | 
| <span data-ttu-id="2626c-124">**Cliente móvel do Dynamics CRM**</span><span class="sxs-lookup"><span data-stu-id="2626c-124">**Dynamics CRM Mobile Client**</span></span> | <ul><li>[<span data-ttu-id="2626c-125">Garantir que uma política de gerenciamento de dispositivos esteja aplicada, que ela exija um PIN de uso e permita a limpeza remota do dispositivo</span><span class="sxs-lookup"><span data-stu-id="2626c-125">Ensure a device management policy is in place that requires a use PIN and allows remote wiping</span></span>](#pin-remote)</li></ul> | 
| <span data-ttu-id="2626c-126">**Cliente do Outlook do Dynamics CRM**</span><span class="sxs-lookup"><span data-stu-id="2626c-126">**Dynamics CRM Outlook Client**</span></span> | <ul><li>[<span data-ttu-id="2626c-127">Garantir que uma política de gerenciamento de dispositivos esteja aplicada, que exija PIN, senha ou bloqueio automático e criptografe todos os dados (por exemplo, o BitLocker)</span><span class="sxs-lookup"><span data-stu-id="2626c-127">Ensure a device management policy is in place that requires a PIN/password/auto lock and encrypts all data (e.g. Bitlocker)</span></span>](#bitlocker)</li></ul> | 
| <span data-ttu-id="2626c-128">**Identity Server**</span><span class="sxs-lookup"><span data-stu-id="2626c-128">**Identity Server**</span></span> | <ul><li>[<span data-ttu-id="2626c-129">Garantir que as chaves de assinatura sejam trocadas quando o Servidor de identidade for usado</span><span class="sxs-lookup"><span data-stu-id="2626c-129">Ensure that signing keys are rolled over when using Identity Server</span></span>](#rolled-server)</li><li>[<span data-ttu-id="2626c-130">Garantir que ID de cliente e segredo do cliente criptograficamente fortes sejam usados no Identity Server</span><span class="sxs-lookup"><span data-stu-id="2626c-130">Ensure that cryptographically strong client ID, client secret are used in Identity Server</span></span>](#client-server)</li></ul> | 

## <span data-ttu-id="2626c-131"><a id="cipher-length"></a>Usar somente codificações de bloco simétricas e comprimentos de chave aprovados</span><span class="sxs-lookup"><span data-stu-id="2626c-131"><a id="cipher-length"></a>Use only approved symmetric block ciphers and key lengths</span></span>

| <span data-ttu-id="2626c-132">Title</span><span class="sxs-lookup"><span data-stu-id="2626c-132">Title</span></span>                   | <span data-ttu-id="2626c-133">Detalhes</span><span class="sxs-lookup"><span data-stu-id="2626c-133">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2626c-134">**Componente**</span><span class="sxs-lookup"><span data-stu-id="2626c-134">**Component**</span></span>               | <span data-ttu-id="2626c-135">Aplicativo Web</span><span class="sxs-lookup"><span data-stu-id="2626c-135">Web Application</span></span> | 
| <span data-ttu-id="2626c-136">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="2626c-136">**SDL Phase**</span></span>               | <span data-ttu-id="2626c-137">Compilação</span><span class="sxs-lookup"><span data-stu-id="2626c-137">Build</span></span> |  
| <span data-ttu-id="2626c-138">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="2626c-138">**Applicable Technologies**</span></span> | <span data-ttu-id="2626c-139">Genérico</span><span class="sxs-lookup"><span data-stu-id="2626c-139">Generic</span></span> |
| <span data-ttu-id="2626c-140">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="2626c-140">**Attributes**</span></span>              | <span data-ttu-id="2626c-141">N/D</span><span class="sxs-lookup"><span data-stu-id="2626c-141">N/A</span></span>  |
| <span data-ttu-id="2626c-142">**Referências**</span><span class="sxs-lookup"><span data-stu-id="2626c-142">**References**</span></span>              | <span data-ttu-id="2626c-143">N/D</span><span class="sxs-lookup"><span data-stu-id="2626c-143">N/A</span></span>  |
| <span data-ttu-id="2626c-144">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="2626c-144">**Steps**</span></span> | <p><span data-ttu-id="2626c-145">Produtos devem usar somente essas codificações em bloco simétrica e comprimentos de chave associados que foram aprovados explicitamente pelo Olá Supervisor de criptografia em sua organização.</span><span class="sxs-lookup"><span data-stu-id="2626c-145">Products must use only those symmetric block ciphers and associated key lengths which have been explicitly approved by hello Crypto Advisor in your organization.</span></span> <span data-ttu-id="2626c-146">Algoritmos simétricos aprovados na Microsoft incluem hello codificações em bloco a seguir:</span><span class="sxs-lookup"><span data-stu-id="2626c-146">Approved symmetric algorithms at Microsoft include hello following block ciphers:</span></span></p><ul><li><span data-ttu-id="2626c-147">Para um novo código, AES-128, AES 192 e AES-256 são aceitáveis.</span><span class="sxs-lookup"><span data-stu-id="2626c-147">For new code AES-128, AES-192, and AES-256 are acceptable</span></span></li><li><span data-ttu-id="2626c-148">Para garantir a compatibilidade com versões anteriores do código existente, a chave tripla 3DES é aceitável.</span><span class="sxs-lookup"><span data-stu-id="2626c-148">For backward compatibility with existing code, three-key 3DES is acceptable</span></span></li><li><span data-ttu-id="2626c-149">Para os produtos que usam codificações de bloco simétricas:</span><span class="sxs-lookup"><span data-stu-id="2626c-149">For products using symmetric block ciphers:</span></span><ul><li><span data-ttu-id="2626c-150">A criptografia AES (Advanced Encryption Standard) é necessária para novos códigos.</span><span class="sxs-lookup"><span data-stu-id="2626c-150">Advanced Encryption Standard (AES) is required for new code</span></span></li><li><span data-ttu-id="2626c-151">O padrão de criptografia 3DES (Triple Data Encryption Standard) com três chaves é permitido em códigos existentes e para garantir a compatibilidade com versões anteriores.</span><span class="sxs-lookup"><span data-stu-id="2626c-151">Three-key triple Data Encryption Standard (3DES) is permissible in existing code for backward compatibility</span></span></li><li><span data-ttu-id="2626c-152">Todas as outras codificações de bloco, incluindo RC2, DES, 3DES com duas chaves, DESX e Skipjack, só podem ser usadas para descriptografar os dados antigos e devem ser substituídas se utilizadas para criptografia.</span><span class="sxs-lookup"><span data-stu-id="2626c-152">All other block ciphers, including RC2, DES, 2 Key 3DES, DESX, and Skipjack, may only be used for decrypting old data, and must be replaced if used for encryption</span></span></li></ul></li><li><span data-ttu-id="2626c-153">Para algoritmos de criptografia de bloco simétrica, é preciso ter um comprimento mínimo de chave de 128 bits.</span><span class="sxs-lookup"><span data-stu-id="2626c-153">For symmetric block encryption algorithms, a minimum key length of 128 bits is required.</span></span> <span data-ttu-id="2626c-154">Olá, somente o algoritmo de criptografia de bloco recomendado para novo código é AES (AES-128, AES 192 e AES-256 são todos aceitável)</span><span class="sxs-lookup"><span data-stu-id="2626c-154">hello only block encryption algorithm recommended for new code is AES (AES-128, AES-192 and AES-256 are all acceptable)</span></span></li><li><span data-ttu-id="2626c-155">Três chave 3DES é atualmente aceitável se já está em uso no código existente. é recomendável tooAES de transição.</span><span class="sxs-lookup"><span data-stu-id="2626c-155">Three-key 3DES is currently acceptable if already in use in existing code; transition tooAES is recommended.</span></span> <span data-ttu-id="2626c-156">Os algoritmos DESX, DES, RC2 e Skipjack não são mais considerados seguros.</span><span class="sxs-lookup"><span data-stu-id="2626c-156">DES, DESX, RC2, and Skipjack are no longer considered secure.</span></span> <span data-ttu-id="2626c-157">Esses algoritmos só podem ser usados para descriptografar os dados existentes para a mesma Olá de compatibilidade com versões anteriores e dados devem ser criptografados novamente usando uma codificação de bloco recomendado</span><span class="sxs-lookup"><span data-stu-id="2626c-157">These algorithms may only be used for decrypting existing data for hello sake of backward-compatibility, and data should be re-encrypted using a recommended block cipher</span></span></li></ul><p><span data-ttu-id="2626c-158">Observe que todas as codificações de bloco simétricas devem ser usadas com um modo de codificação aprovado, que exige o uso de um vetor de inicialização (IV) apropriado.</span><span class="sxs-lookup"><span data-stu-id="2626c-158">Please note that all symmetric block ciphers must be used with an approved cipher mode, which requires use of an appropriate initialization vector (IV).</span></span> <span data-ttu-id="2626c-159">Normalmente, um IV apropriado é um número aleatório e nunca um valor constante.</span><span class="sxs-lookup"><span data-stu-id="2626c-159">An appropriate IV, is typically a random number and never a constant value</span></span></p><p><span data-ttu-id="2626c-160">uso de saudação de algoritmos de criptografia não aprovados herdados ou de outra forma e comprimentos de chave menores para a leitura de dados existentes (como toowriting contrário novos dados) pode ser permitido após revisar do quadro de criptografia da sua organização.</span><span class="sxs-lookup"><span data-stu-id="2626c-160">hello use of legacy or otherwise unapproved crypto algorithms and smaller key lengths for reading existing data (as opposed toowriting new data) may be permitted after your organization's Crypto Board review.</span></span> <span data-ttu-id="2626c-161">No entanto, você deve solicitar uma exceção para esse requisito.</span><span class="sxs-lookup"><span data-stu-id="2626c-161">However, you must file for an exception against this requirement.</span></span> <span data-ttu-id="2626c-162">Além disso, em implantações corporativas, produtos devem considerar os administradores de aviso quando criptografia fraca dados tooread usado.</span><span class="sxs-lookup"><span data-stu-id="2626c-162">Additionally, in enterprise deployments, products should consider warning administrators when weak crypto is used tooread data.</span></span> <span data-ttu-id="2626c-163">Esses avisos devem ser explicativos e acionáveis.</span><span class="sxs-lookup"><span data-stu-id="2626c-163">Such warnings should be explanatory and actionable.</span></span> <span data-ttu-id="2626c-164">Em alguns casos, pode ser apropriado toohave política de grupo Olá utiliza de criptografia fraca</span><span class="sxs-lookup"><span data-stu-id="2626c-164">In some cases, it may be appropriate toohave Group Policy control hello use of weak crypto</span></span></p><p><span data-ttu-id="2626c-165">Algoritmos do .NET permitidos para agilidade criptográfica gerenciada (em ordem de preferência)</span><span class="sxs-lookup"><span data-stu-id="2626c-165">Allowed .NET algorithms for managed crypto agility (in order of preference)</span></span></p><ul><li><span data-ttu-id="2626c-166">AesCng (em conformidade com FIPS)</span><span class="sxs-lookup"><span data-stu-id="2626c-166">AesCng (FIPS compliant)</span></span></li><li><span data-ttu-id="2626c-167">AuthenticatedAesCng (em conformidade com FIPS)</span><span class="sxs-lookup"><span data-stu-id="2626c-167">AuthenticatedAesCng (FIPS compliant)</span></span></li><li><span data-ttu-id="2626c-168">AESCryptoServiceProvider (em conformidade com FIPS)</span><span class="sxs-lookup"><span data-stu-id="2626c-168">AESCryptoServiceProvider (FIPS compliant)</span></span></li><li><span data-ttu-id="2626c-169">AESManaged (sem conformidade com FIPS)</span><span class="sxs-lookup"><span data-stu-id="2626c-169">AESManaged (non-FIPS-compliant)</span></span></li></ul><p><span data-ttu-id="2626c-170">Observe que nenhum desses algoritmos podem ser especificados por meio de saudação `SymmetricAlgorithm.Create` ou `CryptoConfig.CreateFromName` métodos sem fazer o arquivo de Machine. config toohello alterações.</span><span class="sxs-lookup"><span data-stu-id="2626c-170">Please note that none of these algorithms can be specified via hello `SymmetricAlgorithm.Create` or `CryptoConfig.CreateFromName` methods without making changes toohello machine.config file.</span></span> <span data-ttu-id="2626c-171">Além disso, observe que o AES em versões do too.NET anterior do .NET 3.5 é denominada `RijndaelManaged`, e `AesCng` e `AuthenticatedAesCng` são > disponível por meio do CodePlex e exigem CNG em Olá subjacente do sistema operacional</span><span class="sxs-lookup"><span data-stu-id="2626c-171">Also, note that AES in versions of .NET prior too.NET 3.5 is named `RijndaelManaged`, and `AesCng` and `AuthenticatedAesCng` are >available through CodePlex and require CNG in hello underlying OS</span></span></p>

## <span data-ttu-id="2626c-172"><a id="vector-ciphers"></a>Usar modos de codificação de bloco aprovados e vetores de inicialização para codificações simétricas</span><span class="sxs-lookup"><span data-stu-id="2626c-172"><a id="vector-ciphers"></a>Use approved block cipher modes and initialization vectors for symmetric ciphers</span></span>

| <span data-ttu-id="2626c-173">Title</span><span class="sxs-lookup"><span data-stu-id="2626c-173">Title</span></span>                   | <span data-ttu-id="2626c-174">Detalhes</span><span class="sxs-lookup"><span data-stu-id="2626c-174">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2626c-175">**Componente**</span><span class="sxs-lookup"><span data-stu-id="2626c-175">**Component**</span></span>               | <span data-ttu-id="2626c-176">Aplicativo Web</span><span class="sxs-lookup"><span data-stu-id="2626c-176">Web Application</span></span> | 
| <span data-ttu-id="2626c-177">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="2626c-177">**SDL Phase**</span></span>               | <span data-ttu-id="2626c-178">Compilação</span><span class="sxs-lookup"><span data-stu-id="2626c-178">Build</span></span> |  
| <span data-ttu-id="2626c-179">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="2626c-179">**Applicable Technologies**</span></span> | <span data-ttu-id="2626c-180">Genérico</span><span class="sxs-lookup"><span data-stu-id="2626c-180">Generic</span></span> |
| <span data-ttu-id="2626c-181">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="2626c-181">**Attributes**</span></span>              | <span data-ttu-id="2626c-182">N/D</span><span class="sxs-lookup"><span data-stu-id="2626c-182">N/A</span></span>  |
| <span data-ttu-id="2626c-183">**Referências**</span><span class="sxs-lookup"><span data-stu-id="2626c-183">**References**</span></span>              | <span data-ttu-id="2626c-184">N/D</span><span class="sxs-lookup"><span data-stu-id="2626c-184">N/A</span></span>  |
| <span data-ttu-id="2626c-185">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="2626c-185">**Steps**</span></span> | <span data-ttu-id="2626c-186">Todas as codificações de bloco simétricas devem ser usadas com um modo de decodificação simétrica aprovado.</span><span class="sxs-lookup"><span data-stu-id="2626c-186">All symmetric block ciphers must be used with an approved symmetric cipher mode.</span></span> <span data-ttu-id="2626c-187">modos de Olá somente aprovado são CBC e CTS.</span><span class="sxs-lookup"><span data-stu-id="2626c-187">hello only approved modes are CBC and CTS.</span></span> <span data-ttu-id="2626c-188">Em particular, o modo de operação de saudação código eletrônico catálogo (ECB) deve ser evitado; uso de ECB requer a revisão de placa de criptografia da sua organização.</span><span class="sxs-lookup"><span data-stu-id="2626c-188">In particular, hello electronic code book (ECB) mode of operation should be avoided; use of ECB requires your organization's Crypto Board review.</span></span> <span data-ttu-id="2626c-189">Todos os usos de OFB, CFB, CTR, CCM e GCM, ou de qualquer outro modo de criptografia, devem revisados pelos especialistas em criptografia de sua organização.</span><span class="sxs-lookup"><span data-stu-id="2626c-189">All usage of OFB, CFB, CTR, CCM, and GCM or any other encryption mode must be reviewed by your organization's Crypto Board.</span></span> <span data-ttu-id="2626c-190">Reutilizando Olá mesmo vetor de inicialização (IV) com codificações em bloco em "streaming codificações modos," como CTR, pode fazer com que os dados criptografados toobe revelada.</span><span class="sxs-lookup"><span data-stu-id="2626c-190">Reusing hello same initialization vector (IV) with block ciphers in "streaming ciphers modes," such as CTR, may cause encrypted data toobe revealed.</span></span> <span data-ttu-id="2626c-191">Todas as codificações de bloco simétricas também devem ser usadas com IV apropriado,</span><span class="sxs-lookup"><span data-stu-id="2626c-191">All symmetric block ciphers must also be used with an appropriate initialization vector (IV).</span></span> <span data-ttu-id="2626c-192">que é um número aleatório criptograficamente forte e nunca um valor constante.</span><span class="sxs-lookup"><span data-stu-id="2626c-192">An appropriate IV is a cryptographically strong, random number and never a constant value.</span></span> |

## <span data-ttu-id="2626c-193"><a id="padding"></a>Usar algoritmos assimétricos, comprimentos de chave e preenchimentos aprovados</span><span class="sxs-lookup"><span data-stu-id="2626c-193"><a id="padding"></a>Use approved asymmetric algorithms, key lengths, and padding</span></span>

| <span data-ttu-id="2626c-194">Title</span><span class="sxs-lookup"><span data-stu-id="2626c-194">Title</span></span>                   | <span data-ttu-id="2626c-195">Detalhes</span><span class="sxs-lookup"><span data-stu-id="2626c-195">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2626c-196">**Componente**</span><span class="sxs-lookup"><span data-stu-id="2626c-196">**Component**</span></span>               | <span data-ttu-id="2626c-197">Aplicativo Web</span><span class="sxs-lookup"><span data-stu-id="2626c-197">Web Application</span></span> | 
| <span data-ttu-id="2626c-198">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="2626c-198">**SDL Phase**</span></span>               | <span data-ttu-id="2626c-199">Compilação</span><span class="sxs-lookup"><span data-stu-id="2626c-199">Build</span></span> |  
| <span data-ttu-id="2626c-200">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="2626c-200">**Applicable Technologies**</span></span> | <span data-ttu-id="2626c-201">Genérico</span><span class="sxs-lookup"><span data-stu-id="2626c-201">Generic</span></span> |
| <span data-ttu-id="2626c-202">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="2626c-202">**Attributes**</span></span>              | <span data-ttu-id="2626c-203">N/D</span><span class="sxs-lookup"><span data-stu-id="2626c-203">N/A</span></span>  |
| <span data-ttu-id="2626c-204">**Referências**</span><span class="sxs-lookup"><span data-stu-id="2626c-204">**References**</span></span>              | <span data-ttu-id="2626c-205">N/D</span><span class="sxs-lookup"><span data-stu-id="2626c-205">N/A</span></span>  |
| <span data-ttu-id="2626c-206">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="2626c-206">**Steps**</span></span> | <p><span data-ttu-id="2626c-207">uso de saudação de algoritmos criptográficos banidos apresenta um risco significativo tooproduct segurança e deve ser evitado.</span><span class="sxs-lookup"><span data-stu-id="2626c-207">hello use of banned cryptographic algorithms introduces significant risk tooproduct security and must be avoided.</span></span> <span data-ttu-id="2626c-208">Os produtos devem usar somente os algoritmos de criptografia, os comprimentos de chave associados e o preenchimento que foram explicitamente aprovados pelos especialistas em criptografia de sua organização.</span><span class="sxs-lookup"><span data-stu-id="2626c-208">Products must use only those cryptographic algorithms and associated key lengths and padding that have been explicitly approved by your organization's Crypto Board.</span></span></p><ul><li><span data-ttu-id="2626c-209">**RSA -** pode ser usada para assinatura, troca de chaves e criptografia.</span><span class="sxs-lookup"><span data-stu-id="2626c-209">**RSA-** may be used for encryption, key exchange and signature.</span></span> <span data-ttu-id="2626c-210">Criptografia de RSA deve usar apenas Olá OAEP ou RSA KEM preenchimento modos.</span><span class="sxs-lookup"><span data-stu-id="2626c-210">RSA encryption must use only hello OAEP or RSA-KEM padding modes.</span></span> <span data-ttu-id="2626c-211">O código existente pode usar o modo de preenchimento PKCS #1 v 1.5 somente para fins de compatibilidade.</span><span class="sxs-lookup"><span data-stu-id="2626c-211">Existing code may use PKCS #1 v1.5 padding mode for compatibility only.</span></span> <span data-ttu-id="2626c-212">O uso do preenchimento nulo é expressamente proibido.</span><span class="sxs-lookup"><span data-stu-id="2626c-212">Use of null padding is explicitly banned.</span></span> <span data-ttu-id="2626c-213">É necessário usar chaves com 2048 bits ou mais para um novo código.</span><span class="sxs-lookup"><span data-stu-id="2626c-213">Keys >= 2048 bits is required for new code.</span></span> <span data-ttu-id="2626c-214">O código existente pode oferecer suporte a chaves com menos de 2048 bits somente para garantir a compatibilidade com versões anteriores após a revisão dos especialistas em criptografia de sua organização.</span><span class="sxs-lookup"><span data-stu-id="2626c-214">Existing code may support keys < 2048 bits only for backwards compatibility after a review by your organization's Crypto Board.</span></span> <span data-ttu-id="2626c-215">As chaves com menos de 1024 só podem ser usadas para descriptografar ou verificar dados antigos e devem ser substituídas para operações de criptografia ou assinatura.</span><span class="sxs-lookup"><span data-stu-id="2626c-215">Keys < 1024 bits may only be used for decrypting/verifying old data, and must be replaced if used for encryption or signing operations</span></span></li><li><span data-ttu-id="2626c-216">**ECDSA -** pode ser usada somente para assinatura.</span><span class="sxs-lookup"><span data-stu-id="2626c-216">**ECDSA-** may be used for signature only.</span></span> <span data-ttu-id="2626c-217">É necessário o ECDSA com chaves de 256 bits ou mais para um novo código.</span><span class="sxs-lookup"><span data-stu-id="2626c-217">ECDSA with >=256-bit keys is required for new code.</span></span> <span data-ttu-id="2626c-218">Assinaturas de ECDSA devem usar uma das curvas do NIST aprovada Olá três (p-256, p-384 ou P521).</span><span class="sxs-lookup"><span data-stu-id="2626c-218">ECDSA-based signatures must use one of hello three NIST approved curves (P-256, P-384, or P521).</span></span> <span data-ttu-id="2626c-219">As curvas que foram minuciosamente analisada poderão ser usadas somente após uma revisão dos especialistas em criptografia de sua organização.</span><span class="sxs-lookup"><span data-stu-id="2626c-219">Curves that have been thoroughly analyzed may be used only after a review with your organization's Crypto Board.</span></span></li><li><span data-ttu-id="2626c-220">**ECDH -** pode ser usada somente para troca de chaves.</span><span class="sxs-lookup"><span data-stu-id="2626c-220">**ECDH-** may be used for key exchange only.</span></span> <span data-ttu-id="2626c-221">É necessário o ECDH com chaves de 256 bits ou mais para um novo código.</span><span class="sxs-lookup"><span data-stu-id="2626c-221">ECDH with >=256-bit keys is required for new code.</span></span> <span data-ttu-id="2626c-222">Troca de chaves com base em ECDH deve usar uma das curvas do NIST aprovada Olá três (p-256, p-384 ou P521).</span><span class="sxs-lookup"><span data-stu-id="2626c-222">ECDH-based key exchange must use one of hello three NIST approved curves (P-256, P-384, or P521).</span></span> <span data-ttu-id="2626c-223">As curvas que foram minuciosamente analisada poderão ser usadas somente após uma revisão dos especialistas em criptografia de sua organização.</span><span class="sxs-lookup"><span data-stu-id="2626c-223">Curves that have been thoroughly analyzed may be used only after a review with your organization's Crypto Board.</span></span></li><li><span data-ttu-id="2626c-224">**DSA -** pode ser aceitável após revisão e aprovação dos especialistas em criptografia de sua organização.</span><span class="sxs-lookup"><span data-stu-id="2626c-224">**DSA-** may be acceptable after review and approval from your organization's Crypto Board.</span></span> <span data-ttu-id="2626c-225">Entre em contato com seu tooschedule do Supervisor de segurança revisão de quadro de criptografia da sua organização.</span><span class="sxs-lookup"><span data-stu-id="2626c-225">Contact your security advisor tooschedule your organization's Crypto Board review.</span></span> <span data-ttu-id="2626c-226">Se o uso do DSA for aprovado, observe que você precisará tooprohibit uso de chaves de menos de 2048 bits de comprimento.</span><span class="sxs-lookup"><span data-stu-id="2626c-226">If your use of DSA is approved, note that you will need tooprohibit use of keys less than 2048 bits in length.</span></span> <span data-ttu-id="2626c-227">A CNG oferece suporte a chaves com 2048 bits ou mais a partir do Windows 8.</span><span class="sxs-lookup"><span data-stu-id="2626c-227">CNG supports 2048-bit and greater key lengths as of Windows 8.</span></span></li><li><span data-ttu-id="2626c-228">**Diffie-Hellman -** pode ser usada somente para o gerenciamento de chaves de sessão.</span><span class="sxs-lookup"><span data-stu-id="2626c-228">**Diffie-Hellman-** may be used for session key management only.</span></span> <span data-ttu-id="2626c-229">É necessário usar chaves com 2048 bits ou mais para um novo código.</span><span class="sxs-lookup"><span data-stu-id="2626c-229">Key length >= 2048 bits is required for new code.</span></span> <span data-ttu-id="2626c-230">O código existente pode dar suporte a chaves com menos de 2048 bits somente para garantir a compatibilidade com versões anteriores, após um exame do Conselho de criptografia de sua organização.</span><span class="sxs-lookup"><span data-stu-id="2626c-230">Existing code may support key lengths < 2048 bits only for backwards compatibility after a review by your organization's Crypto Board.</span></span> <span data-ttu-id="2626c-231">Chaves com menos de 1024 bits não podem ser usadas.</span><span class="sxs-lookup"><span data-stu-id="2626c-231">Keys < 1024 bits may not be used.</span></span></li><ul>

## <span data-ttu-id="2626c-232"><a id="numgen"></a>Usar um número aleatório de geradores aprovados</span><span class="sxs-lookup"><span data-stu-id="2626c-232"><a id="numgen"></a>Use approved random number generators</span></span>

| <span data-ttu-id="2626c-233">Title</span><span class="sxs-lookup"><span data-stu-id="2626c-233">Title</span></span>                   | <span data-ttu-id="2626c-234">Detalhes</span><span class="sxs-lookup"><span data-stu-id="2626c-234">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2626c-235">**Componente**</span><span class="sxs-lookup"><span data-stu-id="2626c-235">**Component**</span></span>               | <span data-ttu-id="2626c-236">Aplicativo Web</span><span class="sxs-lookup"><span data-stu-id="2626c-236">Web Application</span></span> | 
| <span data-ttu-id="2626c-237">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="2626c-237">**SDL Phase**</span></span>               | <span data-ttu-id="2626c-238">Compilação</span><span class="sxs-lookup"><span data-stu-id="2626c-238">Build</span></span> |  
| <span data-ttu-id="2626c-239">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="2626c-239">**Applicable Technologies**</span></span> | <span data-ttu-id="2626c-240">Genérico</span><span class="sxs-lookup"><span data-stu-id="2626c-240">Generic</span></span> |
| <span data-ttu-id="2626c-241">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="2626c-241">**Attributes**</span></span>              | <span data-ttu-id="2626c-242">N/D</span><span class="sxs-lookup"><span data-stu-id="2626c-242">N/A</span></span>  |
| <span data-ttu-id="2626c-243">**Referências**</span><span class="sxs-lookup"><span data-stu-id="2626c-243">**References**</span></span>              | <span data-ttu-id="2626c-244">N/D</span><span class="sxs-lookup"><span data-stu-id="2626c-244">N/A</span></span>  |
| <span data-ttu-id="2626c-245">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="2626c-245">**Steps**</span></span> | <p><span data-ttu-id="2626c-246">Os produtos devem usar um número aleatório de geradores aprovados.</span><span class="sxs-lookup"><span data-stu-id="2626c-246">Products must use approved random number generators.</span></span> <span data-ttu-id="2626c-247">Números pseudoaleatórios funções como rand de função do tempo de execução Olá C, classe do .NET Framework Olá Random ou funções do sistema como ObterContagemMarcaEscala devem, portanto, nunca ser usadas em tal código.</span><span class="sxs-lookup"><span data-stu-id="2626c-247">Pseudorandom functions such as hello C runtime function rand, hello .NET Framework class System.Random, or system functions such as GetTickCount must, therefore, never be used in such code.</span></span> <span data-ttu-id="2626c-248">É proibido o uso de saudação dupla curva elíptica aleatório algoritmo gerador de números (DUAL_EC_DRBG)</span><span class="sxs-lookup"><span data-stu-id="2626c-248">Use of hello dual elliptic curve random number generator (DUAL_EC_DRBG) algorithm is prohibited</span></span></p><ul><li><span data-ttu-id="2626c-249">**CNG -** BCryptGenRandom (uso do sinalizador BCRYPT_USE_SYSTEM_PREFERRED_RNG de saudação recomendada a menos que o chamador Olá pode ser executado em qualquer IRQL maior que 0 [ou seja, PASSIVE_LEVEL])</span><span class="sxs-lookup"><span data-stu-id="2626c-249">**CNG-** BCryptGenRandom(use of hello BCRYPT_USE_SYSTEM_PREFERRED_RNG flag recommended unless hello caller might run at any IRQL greater than 0 [that is, PASSIVE_LEVEL])</span></span></li><li><span data-ttu-id="2626c-250">**CAPI-** cryptGenRandom</span><span class="sxs-lookup"><span data-stu-id="2626c-250">**CAPI-** cryptGenRandom</span></span></li><li><span data-ttu-id="2626c-251">**Win32/64-** RtlGenRandom (as novas implementações devem usar BCryptGenRandom ou CryptGenRandom) * rand_s * SystemPrng (para o modo kernel)</span><span class="sxs-lookup"><span data-stu-id="2626c-251">**Win32/64-** RtlGenRandom (new implementations should use BCryptGenRandom or CryptGenRandom) * rand_s * SystemPrng (for kernel mode)</span></span></li><li><span data-ttu-id="2626c-252">**.NET-** RNGCryptoServiceProvider ou RNGCng</span><span class="sxs-lookup"><span data-stu-id="2626c-252">**.NET-** RNGCryptoServiceProvider or RNGCng</span></span></li><li><span data-ttu-id="2626c-253">**Aplicativos da Windows Store-** Windows.Security.Cryptography.CryptographicBuffer.GenerateRandom ou .GenerateRandomNumber</span><span class="sxs-lookup"><span data-stu-id="2626c-253">**Windows Store Apps-** Windows.Security.Cryptography.CryptographicBuffer.GenerateRandom or .GenerateRandomNumber</span></span></li><li><span data-ttu-id="2626c-254">**Apple OS X (10.7+)/iOS(2.0+) -** int SecRandomCopyBytes (SecRandomRef aleatório, size_t contagem, uint8_t *bytes)</li><li>**Apple OS X (< 10.7)-** Use / números aleatórios tooretrieve dev/aleatória</span><span class="sxs-lookup"><span data-stu-id="2626c-254">**Apple OS X (10.7+)/iOS(2.0+)-** int SecRandomCopyBytes (SecRandomRef random, size_t count, uint8_t *bytes )</li><li>**Apple OS X (<10.7)-** Use /dev/random tooretrieve random numbers</span></span></li><li><span data-ttu-id="2626c-255">**Java(including Google Android Java Code) –** java.security.SecureRandom class.</span><span class="sxs-lookup"><span data-stu-id="2626c-255">**Java(including Google Android Java code)-** java.security.SecureRandom class.</span></span> <span data-ttu-id="2626c-256">Observe que para Android 4.3 (Jelly Bean), os desenvolvedores devem seguir Olá Android recomendado para solucionar esse problema e atualizar seu aplicativos tooexplicitly inicializar Olá PRNG com entropia de /dev/urandom ou /dev/random</span><span class="sxs-lookup"><span data-stu-id="2626c-256">Note that for Android 4.3 (Jelly Bean), developers must follow hello Android recommended workaround and update their applications tooexplicitly initialize hello PRNG with entropy from /dev/urandom or /dev/random</span></span></li></ul>|

## <span data-ttu-id="2626c-257"><a id="stream-ciphers"></a>Não usar codificações de fluxo simétricas</span><span class="sxs-lookup"><span data-stu-id="2626c-257"><a id="stream-ciphers"></a>Do not use symmetric stream ciphers</span></span>

| <span data-ttu-id="2626c-258">Title</span><span class="sxs-lookup"><span data-stu-id="2626c-258">Title</span></span>                   | <span data-ttu-id="2626c-259">Detalhes</span><span class="sxs-lookup"><span data-stu-id="2626c-259">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2626c-260">**Componente**</span><span class="sxs-lookup"><span data-stu-id="2626c-260">**Component**</span></span>               | <span data-ttu-id="2626c-261">Aplicativo Web</span><span class="sxs-lookup"><span data-stu-id="2626c-261">Web Application</span></span> | 
| <span data-ttu-id="2626c-262">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="2626c-262">**SDL Phase**</span></span>               | <span data-ttu-id="2626c-263">Compilação</span><span class="sxs-lookup"><span data-stu-id="2626c-263">Build</span></span> |  
| <span data-ttu-id="2626c-264">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="2626c-264">**Applicable Technologies**</span></span> | <span data-ttu-id="2626c-265">Genérico</span><span class="sxs-lookup"><span data-stu-id="2626c-265">Generic</span></span> |
| <span data-ttu-id="2626c-266">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="2626c-266">**Attributes**</span></span>              | <span data-ttu-id="2626c-267">N/D</span><span class="sxs-lookup"><span data-stu-id="2626c-267">N/A</span></span>  |
| <span data-ttu-id="2626c-268">**Referências**</span><span class="sxs-lookup"><span data-stu-id="2626c-268">**References**</span></span>              | <span data-ttu-id="2626c-269">N/D</span><span class="sxs-lookup"><span data-stu-id="2626c-269">N/A</span></span>  |
| <span data-ttu-id="2626c-270">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="2626c-270">**Steps**</span></span> | <span data-ttu-id="2626c-271">Codificações de stream simétricas, como RC4, não devem ser usadas.</span><span class="sxs-lookup"><span data-stu-id="2626c-271">Symmetric stream ciphers, such as RC4, must not be used.</span></span> <span data-ttu-id="2626c-272">Em vez de codificações de stream simétricas, os produtos devem usar uma codificação de bloco, especificamente a AES com uma chave de pelo menos 128 bits.</span><span class="sxs-lookup"><span data-stu-id="2626c-272">Instead of symmetric stream ciphers, products should use a block cipher, specifically AES with a key length of at least 128 bits.</span></span> |

## <span data-ttu-id="2626c-273"><a id="mac-hash"></a>Usar algoritmos MAC, HMAC e de hash com chave</span><span class="sxs-lookup"><span data-stu-id="2626c-273"><a id="mac-hash"></a>Use approved MAC/HMAC/keyed hash algorithms</span></span>

| <span data-ttu-id="2626c-274">Title</span><span class="sxs-lookup"><span data-stu-id="2626c-274">Title</span></span>                   | <span data-ttu-id="2626c-275">Detalhes</span><span class="sxs-lookup"><span data-stu-id="2626c-275">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2626c-276">**Componente**</span><span class="sxs-lookup"><span data-stu-id="2626c-276">**Component**</span></span>               | <span data-ttu-id="2626c-277">Aplicativo Web</span><span class="sxs-lookup"><span data-stu-id="2626c-277">Web Application</span></span> | 
| <span data-ttu-id="2626c-278">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="2626c-278">**SDL Phase**</span></span>               | <span data-ttu-id="2626c-279">Compilação</span><span class="sxs-lookup"><span data-stu-id="2626c-279">Build</span></span> |  
| <span data-ttu-id="2626c-280">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="2626c-280">**Applicable Technologies**</span></span> | <span data-ttu-id="2626c-281">Genérico</span><span class="sxs-lookup"><span data-stu-id="2626c-281">Generic</span></span> |
| <span data-ttu-id="2626c-282">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="2626c-282">**Attributes**</span></span>              | <span data-ttu-id="2626c-283">N/D</span><span class="sxs-lookup"><span data-stu-id="2626c-283">N/A</span></span>  |
| <span data-ttu-id="2626c-284">**Referências**</span><span class="sxs-lookup"><span data-stu-id="2626c-284">**References**</span></span>              | <span data-ttu-id="2626c-285">N/D</span><span class="sxs-lookup"><span data-stu-id="2626c-285">N/A</span></span>  |
| <span data-ttu-id="2626c-286">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="2626c-286">**Steps**</span></span> | <p><span data-ttu-id="2626c-287">Os produtos devem usar somente algoritmos de código de autenticação de mensagem (MAC) ou de código de autenticação de mensagem baseada em hash (HMAC) aprovados.</span><span class="sxs-lookup"><span data-stu-id="2626c-287">Products must use only approved message authentication code (MAC) or hash-based message authentication code (HMAC) algorithms.</span></span></p><p><span data-ttu-id="2626c-288">Um código de autenticação de mensagem (MAC) é uma parte da mensagem de tooa anexado informações que permite que seu destinatário tooverify tanto autenticidade de saudação do remetente hello e integridade de saudação de mensagem de saudação usando uma chave secreta.</span><span class="sxs-lookup"><span data-stu-id="2626c-288">A message authentication code (MAC) is a piece of information attached tooa message that allows its recipient tooverify both hello authenticity of hello sender and hello integrity of hello message using a secret key.</span></span> <span data-ttu-id="2626c-289">Olá o uso de qualquer um MAC baseadas em hash ([HMAC](http://csrc.nist.gov/publications/nistpubs/800-107-rev1/sp800-107-rev1.pdf)) ou [com base em codificação de bloco MAC](http://csrc.nist.gov/publications/nistpubs/800-38B/SP_800-38B.pdf) é permitido como algoritmos de criptografia simétrica ou hash de todas as subjacente também são aprovados para uso; atualmente isso inclui Olá funções de SHA2 HMAC (HMAC-SHA256, SHA384 HMAC e HMAC-SHA512) e hello CMAC/OMAC1 e OMAC2 bloqueiam MACs baseados em criptografia (eles se baseiam em AES).</span><span class="sxs-lookup"><span data-stu-id="2626c-289">hello use of either a hash-based MAC ([HMAC](http://csrc.nist.gov/publications/nistpubs/800-107-rev1/sp800-107-rev1.pdf)) or [block-cipher-based MAC](http://csrc.nist.gov/publications/nistpubs/800-38B/SP_800-38B.pdf) is permissible as long as all underlying hash or symmetric encryption algorithms are also approved for use; currently this includes hello HMAC-SHA2 functions (HMAC-SHA256, HMAC-SHA384 and HMAC-SHA512) and hello CMAC/OMAC1 and OMAC2 block cipher-based MACs (these are based on AES).</span></span></p><p><span data-ttu-id="2626c-290">Uso de HMAC-SHA1 pode ser permitido para compatibilidade de plataforma, mas que será necessário toofile um procedimento de toothis de exceção e passar por uma revisão de criptografia da sua organização.</span><span class="sxs-lookup"><span data-stu-id="2626c-290">Use of HMAC-SHA1 may be permissible for platform compatibility, but you will be required toofile an exception toothis procedure and undergo your organization's Crypto review.</span></span> <span data-ttu-id="2626c-291">Não é permitido truncar HMACs tooless de 128 bits.</span><span class="sxs-lookup"><span data-stu-id="2626c-291">Truncation of HMACs tooless than 128 bits is not permitted.</span></span> <span data-ttu-id="2626c-292">Usar métodos de cliente toohash uma chave e os dados não foi aprovada e deve passar por toouse anterior do revisão da sua organização quadro de criptografia.</span><span class="sxs-lookup"><span data-stu-id="2626c-292">Using customer methods toohash a key and data is not approved, and must undergo your organization's Crypto Board review prior toouse.</span></span></p>|

## <span data-ttu-id="2626c-293"><a id="hash-functions"></a>Usar apenas as funções aprovadas do hash criptográfico</span><span class="sxs-lookup"><span data-stu-id="2626c-293"><a id="hash-functions"></a>Use only approved cryptographic hash functions</span></span>

| <span data-ttu-id="2626c-294">Title</span><span class="sxs-lookup"><span data-stu-id="2626c-294">Title</span></span>                   | <span data-ttu-id="2626c-295">Detalhes</span><span class="sxs-lookup"><span data-stu-id="2626c-295">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2626c-296">**Componente**</span><span class="sxs-lookup"><span data-stu-id="2626c-296">**Component**</span></span>               | <span data-ttu-id="2626c-297">Aplicativo Web</span><span class="sxs-lookup"><span data-stu-id="2626c-297">Web Application</span></span> | 
| <span data-ttu-id="2626c-298">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="2626c-298">**SDL Phase**</span></span>               | <span data-ttu-id="2626c-299">Compilação</span><span class="sxs-lookup"><span data-stu-id="2626c-299">Build</span></span> |  
| <span data-ttu-id="2626c-300">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="2626c-300">**Applicable Technologies**</span></span> | <span data-ttu-id="2626c-301">Genérico</span><span class="sxs-lookup"><span data-stu-id="2626c-301">Generic</span></span> |
| <span data-ttu-id="2626c-302">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="2626c-302">**Attributes**</span></span>              | <span data-ttu-id="2626c-303">N/D</span><span class="sxs-lookup"><span data-stu-id="2626c-303">N/A</span></span>  |
| <span data-ttu-id="2626c-304">**Referências**</span><span class="sxs-lookup"><span data-stu-id="2626c-304">**References**</span></span>              | <span data-ttu-id="2626c-305">N/D</span><span class="sxs-lookup"><span data-stu-id="2626c-305">N/A</span></span>  |
| <span data-ttu-id="2626c-306">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="2626c-306">**Steps**</span></span> | <p><span data-ttu-id="2626c-307">Produtos devem usar a família Olá SHA-2 de algoritmos de hash (SHA256, SHA384 e SHA512).</span><span class="sxs-lookup"><span data-stu-id="2626c-307">Products must use hello SHA-2 family of hash algorithms (SHA256, SHA384, and SHA512).</span></span> <span data-ttu-id="2626c-308">Se for necessário um hash mais curto, como um tamanho de 128 bits de saída em ordem toofit uma estrutura de dados criada com o hash MD5 menor Olá em mente, as equipes do produto podem truncar um hashes de SHA2 hello (normalmente SHA256).</span><span class="sxs-lookup"><span data-stu-id="2626c-308">If a shorter hash is needed, such as a 128-bit output length in order toofit a data structure designed with hello shorter MD5 hash in mind, product teams may truncate one of hello SHA2 hashes (typically SHA256).</span></span> <span data-ttu-id="2626c-309">Observe que o SHA384 é uma versão truncada do SHA512.</span><span class="sxs-lookup"><span data-stu-id="2626c-309">Note that SHA384 is a truncated version of SHA512.</span></span> <span data-ttu-id="2626c-310">Truncamento de hashes criptográficos para tooless de fins de segurança de 128 bits não é permitido.</span><span class="sxs-lookup"><span data-stu-id="2626c-310">Truncation of cryptographic hashes for security purposes tooless than 128 bits is not permitted.</span></span> <span data-ttu-id="2626c-311">Novo código não deve usar os algoritmos de hash MD2, MD4, MD5, SHA-0, SHA-1 ou RIPEMD hello.</span><span class="sxs-lookup"><span data-stu-id="2626c-311">New code must not use hello MD2, MD4, MD5, SHA-0, SHA-1, or RIPEMD hash algorithms.</span></span> <span data-ttu-id="2626c-312">É possível realizar colisões de hash computacionalmente para esses algoritmos, o que efetivamente os quebrará.</span><span class="sxs-lookup"><span data-stu-id="2626c-312">Hash collisions are computationally feasible for these algorithms, which effectively breaks them.</span></span></p><p><span data-ttu-id="2626c-313">Algoritmos de hash do .NET permitidos para agilidade criptográfica gerenciada (em ordem de preferência)</span><span class="sxs-lookup"><span data-stu-id="2626c-313">Allowed .NET hash algorithms for managed crypto agility (in order of preference):</span></span></p><ul><li><span data-ttu-id="2626c-314">SHA512Cng (em conformidade com FIPS)</span><span class="sxs-lookup"><span data-stu-id="2626c-314">SHA512Cng (FIPS compliant)</span></span></li><li><span data-ttu-id="2626c-315">SHA384Cng (em conformidade com FIPS)</span><span class="sxs-lookup"><span data-stu-id="2626c-315">SHA384Cng (FIPS compliant)</span></span></li><li><span data-ttu-id="2626c-316">SHA256Cng (em conformidade com FIPS)</span><span class="sxs-lookup"><span data-stu-id="2626c-316">SHA256Cng (FIPS compliant)</span></span></li><li><span data-ttu-id="2626c-317">SHA512Managed (não-compatível com FIPS) (use SHA512 como nome do algoritmo em chamadas tooHashAlgorithm.Create ou CryptoConfig.CreateFromName)</span><span class="sxs-lookup"><span data-stu-id="2626c-317">SHA512Managed (non-FIPS-compliant) (use SHA512 as algorithm name in calls tooHashAlgorithm.Create or CryptoConfig.CreateFromName)</span></span></li><li><span data-ttu-id="2626c-318">SHA384Managed (não-compatível com FIPS) (use SHA384 como o nome do algoritmo em chamadas tooHashAlgorithm.Create ou CryptoConfig.CreateFromName)</span><span class="sxs-lookup"><span data-stu-id="2626c-318">SHA384Managed (non-FIPS-compliant) (use SHA384 as algorithm name in calls tooHashAlgorithm.Create or CryptoConfig.CreateFromName)</span></span></li><li><span data-ttu-id="2626c-319">SHA256Managed (não-compatível com FIPS) (use SHA256 como nome do algoritmo em chamadas tooHashAlgorithm.Create ou CryptoConfig.CreateFromName)</span><span class="sxs-lookup"><span data-stu-id="2626c-319">SHA256Managed (non-FIPS-compliant) (use SHA256 as algorithm name in calls tooHashAlgorithm.Create or CryptoConfig.CreateFromName)</span></span></li><li><span data-ttu-id="2626c-320">SHA512CryptoServiceProvider (em conformidade com FIPS)</span><span class="sxs-lookup"><span data-stu-id="2626c-320">SHA512CryptoServiceProvider (FIPS compliant)</span></span></li><li><span data-ttu-id="2626c-321">SHA256CryptoServiceProvider (em conformidade com FIPS)</span><span class="sxs-lookup"><span data-stu-id="2626c-321">SHA256CryptoServiceProvider (FIPS compliant)</span></span></li><li><span data-ttu-id="2626c-322">SHA384CryptoServiceProvider (em conformidade com FIPS)</span><span class="sxs-lookup"><span data-stu-id="2626c-322">SHA384CryptoServiceProvider (FIPS compliant)</span></span></li></ul>| 

## <span data-ttu-id="2626c-323"><a id="strong-db"></a>Usar dados de tooencrypt de algoritmos de criptografia forte no banco de dados de saudação</span><span class="sxs-lookup"><span data-stu-id="2626c-323"><a id="strong-db"></a>Use strong encryption algorithms tooencrypt data in hello database</span></span>

| <span data-ttu-id="2626c-324">Title</span><span class="sxs-lookup"><span data-stu-id="2626c-324">Title</span></span>                   | <span data-ttu-id="2626c-325">Detalhes</span><span class="sxs-lookup"><span data-stu-id="2626c-325">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2626c-326">**Componente**</span><span class="sxs-lookup"><span data-stu-id="2626c-326">**Component**</span></span>               | <span data-ttu-id="2626c-327">Banco de dados</span><span class="sxs-lookup"><span data-stu-id="2626c-327">Database</span></span> | 
| <span data-ttu-id="2626c-328">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="2626c-328">**SDL Phase**</span></span>               | <span data-ttu-id="2626c-329">Compilação</span><span class="sxs-lookup"><span data-stu-id="2626c-329">Build</span></span> |  
| <span data-ttu-id="2626c-330">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="2626c-330">**Applicable Technologies**</span></span> | <span data-ttu-id="2626c-331">Genérico</span><span class="sxs-lookup"><span data-stu-id="2626c-331">Generic</span></span> |
| <span data-ttu-id="2626c-332">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="2626c-332">**Attributes**</span></span>              | <span data-ttu-id="2626c-333">N/D</span><span class="sxs-lookup"><span data-stu-id="2626c-333">N/A</span></span>  |
| <span data-ttu-id="2626c-334">**Referências**</span><span class="sxs-lookup"><span data-stu-id="2626c-334">**References**</span></span>              | <span data-ttu-id="2626c-335">[Escolhendo um algoritmo de criptografia](https://technet.microsoft.com/library/ms345262(v=sql.130).aspx)</span><span class="sxs-lookup"><span data-stu-id="2626c-335">[Choosing an encryption algorithm](https://technet.microsoft.com/library/ms345262(v=sql.130).aspx)</span></span> |
| <span data-ttu-id="2626c-336">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="2626c-336">**Steps**</span></span> | <span data-ttu-id="2626c-337">Os algoritmos de criptografia definem as transformações de dados que não podem ser facilmente revertidas por usuários não autorizados.</span><span class="sxs-lookup"><span data-stu-id="2626c-337">Encryption algorithms define data transformations that cannot be easily reversed by unauthorized users.</span></span> <span data-ttu-id="2626c-338">SQL Server permite que os administradores e desenvolvedores toochoose entre diversos algoritmos, incluindo DES, Triple DES, TRIPLE_DES_3KEY, RC2, RC4, RC4 de 128 bits, DESX, AES de 128 bits, AES de 192 bits e AES de 256 bits</span><span class="sxs-lookup"><span data-stu-id="2626c-338">SQL Server allows administrators and developers toochoose from among several algorithms, including DES, Triple DES, TRIPLE_DES_3KEY, RC2, RC4, 128-bit RC4, DESX, 128-bit AES, 192-bit AES, and 256-bit AES</span></span> |

## <span data-ttu-id="2626c-339"><a id="ssis-signed"></a>Os pacotes do SSIS devem ser criptografados e assinados digitalmente</span><span class="sxs-lookup"><span data-stu-id="2626c-339"><a id="ssis-signed"></a>SSIS packages should be encrypted and digitally signed</span></span>

| <span data-ttu-id="2626c-340">Title</span><span class="sxs-lookup"><span data-stu-id="2626c-340">Title</span></span>                   | <span data-ttu-id="2626c-341">Detalhes</span><span class="sxs-lookup"><span data-stu-id="2626c-341">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2626c-342">**Componente**</span><span class="sxs-lookup"><span data-stu-id="2626c-342">**Component**</span></span>               | <span data-ttu-id="2626c-343">Banco de dados</span><span class="sxs-lookup"><span data-stu-id="2626c-343">Database</span></span> | 
| <span data-ttu-id="2626c-344">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="2626c-344">**SDL Phase**</span></span>               | <span data-ttu-id="2626c-345">Compilação</span><span class="sxs-lookup"><span data-stu-id="2626c-345">Build</span></span> |  
| <span data-ttu-id="2626c-346">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="2626c-346">**Applicable Technologies**</span></span> | <span data-ttu-id="2626c-347">Genérico</span><span class="sxs-lookup"><span data-stu-id="2626c-347">Generic</span></span> |
| <span data-ttu-id="2626c-348">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="2626c-348">**Attributes**</span></span>              | <span data-ttu-id="2626c-349">N/D</span><span class="sxs-lookup"><span data-stu-id="2626c-349">N/A</span></span>  |
| <span data-ttu-id="2626c-350">**Referências**</span><span class="sxs-lookup"><span data-stu-id="2626c-350">**References**</span></span>              | <span data-ttu-id="2626c-351">[Identificar Olá origem de pacotes com assinaturas digitais](https://msdn.microsoft.com/library/ms141174.aspx), [de ameaça e mitigação de vulnerabilidade (Integration Services)](https://msdn.microsoft.com/library/bb522559.aspx)</span><span class="sxs-lookup"><span data-stu-id="2626c-351">[Identify hello Source of Packages with Digital Signatures](https://msdn.microsoft.com/library/ms141174.aspx), [Threat and Vulnerability Mitigation (Integration Services)](https://msdn.microsoft.com/library/bb522559.aspx)</span></span> |
| <span data-ttu-id="2626c-352">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="2626c-352">**Steps**</span></span> | <span data-ttu-id="2626c-353">origem de saudação do pacote é Olá individual ou a organização que criou o pacote de saudação.</span><span class="sxs-lookup"><span data-stu-id="2626c-353">hello source of a package is hello individual or organization that created hello package.</span></span> <span data-ttu-id="2626c-354">Executar um pacote de uma origem desconhecida ou não confiável pode ser arriscado.</span><span class="sxs-lookup"><span data-stu-id="2626c-354">Running a package from an unknown or untrusted source might be risky.</span></span> <span data-ttu-id="2626c-355">tooprevent não autorizado a violação de pacotes do SSIS, assinaturas digitais devem ser usadas.</span><span class="sxs-lookup"><span data-stu-id="2626c-355">tooprevent unauthorized tampering of SSIS packages, digital signatures should be used.</span></span> <span data-ttu-id="2626c-356">Além disso, tooensure confidencialidade de saudação de pacotes de saudação durante o trânsito/armazenamento, pacotes do SSIS têm toobe criptografado</span><span class="sxs-lookup"><span data-stu-id="2626c-356">Also, tooensure hello confidentiality of hello packages during storage/transit, SSIS packages have toobe encrypted</span></span> |

## <span data-ttu-id="2626c-357"><a id="securables-db"></a>Adicionar assinatura digital protegíveis de banco de dados de toocritical</span><span class="sxs-lookup"><span data-stu-id="2626c-357"><a id="securables-db"></a>Add digital signature toocritical database securables</span></span>

| <span data-ttu-id="2626c-358">Title</span><span class="sxs-lookup"><span data-stu-id="2626c-358">Title</span></span>                   | <span data-ttu-id="2626c-359">Detalhes</span><span class="sxs-lookup"><span data-stu-id="2626c-359">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2626c-360">**Componente**</span><span class="sxs-lookup"><span data-stu-id="2626c-360">**Component**</span></span>               | <span data-ttu-id="2626c-361">Banco de dados</span><span class="sxs-lookup"><span data-stu-id="2626c-361">Database</span></span> | 
| <span data-ttu-id="2626c-362">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="2626c-362">**SDL Phase**</span></span>               | <span data-ttu-id="2626c-363">Compilação</span><span class="sxs-lookup"><span data-stu-id="2626c-363">Build</span></span> |  
| <span data-ttu-id="2626c-364">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="2626c-364">**Applicable Technologies**</span></span> | <span data-ttu-id="2626c-365">Genérico</span><span class="sxs-lookup"><span data-stu-id="2626c-365">Generic</span></span> |
| <span data-ttu-id="2626c-366">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="2626c-366">**Attributes**</span></span>              | <span data-ttu-id="2626c-367">N/D</span><span class="sxs-lookup"><span data-stu-id="2626c-367">N/A</span></span>  |
| <span data-ttu-id="2626c-368">**Referências**</span><span class="sxs-lookup"><span data-stu-id="2626c-368">**References**</span></span>              | [<span data-ttu-id="2626c-369">ADD SIGNATURE (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="2626c-369">ADD SIGNATURE (Transact-SQL)</span></span>](https://msdn.microsoft.com/library/ms181700) |
| <span data-ttu-id="2626c-370">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="2626c-370">**Steps**</span></span> | <span data-ttu-id="2626c-371">Em casos em que a integridade de um banco de dados crítico protegível Olá tem toobe verificado, assinaturas digitais devem ser usadas.</span><span class="sxs-lookup"><span data-stu-id="2626c-371">In cases where hello integrity of a critical database securable has toobe verified, digital signatures should be used.</span></span> <span data-ttu-id="2626c-372">Os protegíveis de um banco de dados, como um procedimento armazenado, uma função, um assembly ou um disparo, podem ser assinados digitalmente.</span><span class="sxs-lookup"><span data-stu-id="2626c-372">Database securables such as a stored procedure, function, assembly, or trigger can be digitally signed.</span></span> <span data-ttu-id="2626c-373">Abaixo está um exemplo de quando isso pode ser útil: digamos um ISV (fornecedor independente de Software) forneceu suporte tooa software distribuído tooone de seus clientes.</span><span class="sxs-lookup"><span data-stu-id="2626c-373">Below is an example of when this can be useful: Let us say an ISV (Independent Software Vendor) has provided support tooa software delivered tooone of their customers.</span></span> <span data-ttu-id="2626c-374">Antes de fornecer suporte, a saudação ISV desejaria tooensure se um banco de dados podem ser protegido no software de saudação não foi alterado por engano ou por uma tentativa mal-intencionada.</span><span class="sxs-lookup"><span data-stu-id="2626c-374">Before providing support, hello ISV would want tooensure that a database securable in hello software was not tampered either by mistake or by a malicious attempt.</span></span> <span data-ttu-id="2626c-375">Se Olá protegível for assinado digitalmente, Olá ISV pode verificar a assinatura digital e validar sua integridade.</span><span class="sxs-lookup"><span data-stu-id="2626c-375">If hello securable is digitally signed, hello ISV can verify its digital signature and validate its integrity.</span></span>| 

## <span data-ttu-id="2626c-376"><a id="ekm-keys"></a>Usar chaves de criptografia do SQL server EKM tooprotect</span><span class="sxs-lookup"><span data-stu-id="2626c-376"><a id="ekm-keys"></a>Use SQL server EKM tooprotect encryption keys</span></span>

| <span data-ttu-id="2626c-377">Title</span><span class="sxs-lookup"><span data-stu-id="2626c-377">Title</span></span>                   | <span data-ttu-id="2626c-378">Detalhes</span><span class="sxs-lookup"><span data-stu-id="2626c-378">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2626c-379">**Componente**</span><span class="sxs-lookup"><span data-stu-id="2626c-379">**Component**</span></span>               | <span data-ttu-id="2626c-380">Banco de dados</span><span class="sxs-lookup"><span data-stu-id="2626c-380">Database</span></span> | 
| <span data-ttu-id="2626c-381">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="2626c-381">**SDL Phase**</span></span>               | <span data-ttu-id="2626c-382">Compilação</span><span class="sxs-lookup"><span data-stu-id="2626c-382">Build</span></span> |  
| <span data-ttu-id="2626c-383">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="2626c-383">**Applicable Technologies**</span></span> | <span data-ttu-id="2626c-384">Genérico</span><span class="sxs-lookup"><span data-stu-id="2626c-384">Generic</span></span> |
| <span data-ttu-id="2626c-385">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="2626c-385">**Attributes**</span></span>              | <span data-ttu-id="2626c-386">N/D</span><span class="sxs-lookup"><span data-stu-id="2626c-386">N/A</span></span>  |
| <span data-ttu-id="2626c-387">**Referências**</span><span class="sxs-lookup"><span data-stu-id="2626c-387">**References**</span></span>              | <span data-ttu-id="2626c-388">[Gerenciamento extensível de chaves (EKM) do SQL Server](https://msdn.microsoft.com/library/bb895340), [Gerenciamento extensível de chaves usando o Azure Key Vault (SQL Server)](https://msdn.microsoft.com/library/dn198405)</span><span class="sxs-lookup"><span data-stu-id="2626c-388">[SQL Server Extensible Key Management (EKM)](https://msdn.microsoft.com/library/bb895340), [Extensible Key Management Using Azure Key Vault (SQL Server)](https://msdn.microsoft.com/library/dn198405)</span></span> |
| <span data-ttu-id="2626c-389">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="2626c-389">**Steps**</span></span> | <span data-ttu-id="2626c-390">Gerenciamento extensível de chaves do SQL Server permite que as chaves de criptografia Olá proteger a saudação toobe de arquivos de banco de dados armazenado em um dispositivo, como um cartão inteligente, o dispositivo USB ou o módulo EKM/HSM.</span><span class="sxs-lookup"><span data-stu-id="2626c-390">SQL Server Extensible Key Management enables hello encryption keys that protect hello database files toobe stored in an off-box device such as a smartcard, USB device, or EKM/HSM module.</span></span> <span data-ttu-id="2626c-391">Isso também permite que a proteção de dados dos administradores de banco de dados (exceto os membros do grupo sysadmin de saudação).</span><span class="sxs-lookup"><span data-stu-id="2626c-391">This also enables data protection from database administrators (except members of hello sysadmin group).</span></span> <span data-ttu-id="2626c-392">Dados podem ser criptografados usando chaves de criptografia que apenas hello usuário de banco de dados tem acesso tooon Olá módulo externo de EKM/HSM.</span><span class="sxs-lookup"><span data-stu-id="2626c-392">Data can be encrypted by using encryption keys that only hello database user has access tooon hello external EKM/HSM module.</span></span> |

## <span data-ttu-id="2626c-393"><a id="keys-engine"></a>Use o recurso de AlwaysEncrypted se as chaves de criptografia não devem ser reveladas tooDatabase mecanismo</span><span class="sxs-lookup"><span data-stu-id="2626c-393"><a id="keys-engine"></a>Use AlwaysEncrypted feature if encryption keys should not be revealed tooDatabase engine</span></span>

| <span data-ttu-id="2626c-394">Title</span><span class="sxs-lookup"><span data-stu-id="2626c-394">Title</span></span>                   | <span data-ttu-id="2626c-395">Detalhes</span><span class="sxs-lookup"><span data-stu-id="2626c-395">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2626c-396">**Componente**</span><span class="sxs-lookup"><span data-stu-id="2626c-396">**Component**</span></span>               | <span data-ttu-id="2626c-397">Banco de dados</span><span class="sxs-lookup"><span data-stu-id="2626c-397">Database</span></span> | 
| <span data-ttu-id="2626c-398">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="2626c-398">**SDL Phase**</span></span>               | <span data-ttu-id="2626c-399">Compilação</span><span class="sxs-lookup"><span data-stu-id="2626c-399">Build</span></span> |  
| <span data-ttu-id="2626c-400">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="2626c-400">**Applicable Technologies**</span></span> | <span data-ttu-id="2626c-401">SQL Azure, OnPrem</span><span class="sxs-lookup"><span data-stu-id="2626c-401">SQL Azure, OnPrem</span></span> |
| <span data-ttu-id="2626c-402">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="2626c-402">**Attributes**</span></span>              | <span data-ttu-id="2626c-403">Versão do SQL - V12, MsSQL2016</span><span class="sxs-lookup"><span data-stu-id="2626c-403">SQL Version - V12, MsSQL2016</span></span> |
| <span data-ttu-id="2626c-404">**Referências**</span><span class="sxs-lookup"><span data-stu-id="2626c-404">**References**</span></span>              | [<span data-ttu-id="2626c-405">Sempre criptografado (mecanismo de banco de dados)</span><span class="sxs-lookup"><span data-stu-id="2626c-405">Always Encrypted (Database Engine)</span></span>](https://msdn.microsoft.com/library/mt163865) |
| <span data-ttu-id="2626c-406">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="2626c-406">**Steps**</span></span> | <span data-ttu-id="2626c-407">Sempre criptografado é um recurso projetado tooprotect dados confidenciais, como números de cartão de crédito ou de identificação Nacional (por exemplo, números de previdência social), armazenado em bancos de dados do banco de dados SQL ou SQL Server.</span><span class="sxs-lookup"><span data-stu-id="2626c-407">Always Encrypted is a feature designed tooprotect sensitive data, such as credit card numbers or national identification numbers (e.g. U.S. social security numbers), stored in Azure SQL Database or SQL Server databases.</span></span> <span data-ttu-id="2626c-408">Sempre criptografado permite que os clientes tooencrypt os dados confidenciais em aplicativos de cliente e nunca revele toohello chaves de criptografia Olá mecanismo de banco de dados (banco de dados SQL ou SQL Server).</span><span class="sxs-lookup"><span data-stu-id="2626c-408">Always Encrypted allows clients tooencrypt sensitive data inside client applications and never reveal hello encryption keys toohello Database Engine (SQL Database or SQL Server).</span></span> <span data-ttu-id="2626c-409">Como resultado, sempre criptografado fornece uma separação entre aqueles que possuem dados saudação (e podem exibi-lo) e aqueles que gerenciam dados de saudação (mas não devem ter acesso)</span><span class="sxs-lookup"><span data-stu-id="2626c-409">As a result, Always Encrypted provides a separation between those who own hello data (and can view it) and those who manage hello data (but should have no access)</span></span> |

## <span data-ttu-id="2626c-410"><a id="keys-iot"></a>Armazenar chaves de criptografia com segurança no dispositivo IoT</span><span class="sxs-lookup"><span data-stu-id="2626c-410"><a id="keys-iot"></a>Store Cryptographic Keys securely on IoT Device</span></span>

| <span data-ttu-id="2626c-411">Title</span><span class="sxs-lookup"><span data-stu-id="2626c-411">Title</span></span>                   | <span data-ttu-id="2626c-412">Detalhes</span><span class="sxs-lookup"><span data-stu-id="2626c-412">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2626c-413">**Componente**</span><span class="sxs-lookup"><span data-stu-id="2626c-413">**Component**</span></span>               | <span data-ttu-id="2626c-414">Dispositivo IoT</span><span class="sxs-lookup"><span data-stu-id="2626c-414">IoT Device</span></span> | 
| <span data-ttu-id="2626c-415">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="2626c-415">**SDL Phase**</span></span>               | <span data-ttu-id="2626c-416">Compilação</span><span class="sxs-lookup"><span data-stu-id="2626c-416">Build</span></span> |  
| <span data-ttu-id="2626c-417">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="2626c-417">**Applicable Technologies**</span></span> | <span data-ttu-id="2626c-418">Genérico</span><span class="sxs-lookup"><span data-stu-id="2626c-418">Generic</span></span> |
| <span data-ttu-id="2626c-419">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="2626c-419">**Attributes**</span></span>              | <span data-ttu-id="2626c-420">Sistema operacional do dispositivo - Windows IoT Core, Conectividade do dispositivo - SDKs do dispositivo IoT do Azure</span><span class="sxs-lookup"><span data-stu-id="2626c-420">Device OS - Windows IoT Core, Device Connectivity - Azure IoT device SDKs</span></span> |
| <span data-ttu-id="2626c-421">**Referências**</span><span class="sxs-lookup"><span data-stu-id="2626c-421">**References**</span></span>              | <span data-ttu-id="2626c-422">[TPM no Windows IoT Core](https://developer.microsoft.com/windows/iot/docs/tpm), [Configurar TPM no Windows IoT Core](https://developer.microsoft.com/windows/iot/win10/setuptpm), [TPM do SDK do dispositivo IoT do Azure](https://github.com/Azure/azure-iot-hub-vs-cs/wiki/Device-Provisioning-with-TPM)</span><span class="sxs-lookup"><span data-stu-id="2626c-422">[TPM on Windows IoT Core](https://developer.microsoft.com/windows/iot/docs/tpm), [Set up TPM on Windows IoT Core](https://developer.microsoft.com/windows/iot/win10/setuptpm), [Azure IoT Device SDK TPM](https://github.com/Azure/azure-iot-hub-vs-cs/wiki/Device-Provisioning-with-TPM)</span></span> |
| <span data-ttu-id="2626c-423">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="2626c-423">**Steps**</span></span> | <span data-ttu-id="2626c-424">Armazene chaves privadas simétricas ou de certificado com segurança em um armazenamento de hardware protegido, um TPM ou chips de cartão inteligente.</span><span class="sxs-lookup"><span data-stu-id="2626c-424">Symmetric or Certificate Private keys securely in a hardware protected storage like TPM or Smart Card chips.</span></span> <span data-ttu-id="2626c-425">Windows 10 IoT Core dá suporte a usuário Olá de um TPM e há várias TPMs compatíveis que podem ser usados: https://developer.microsoft.com/windows/iot/win10/tpm.</span><span class="sxs-lookup"><span data-stu-id="2626c-425">Windows 10 IoT Core supports hello user of a TPM and there are several compatible TPMs that can be used: https://developer.microsoft.com/windows/iot/win10/tpm.</span></span> <span data-ttu-id="2626c-426">É recomendável toouse um Firmware ou TPM discretos.</span><span class="sxs-lookup"><span data-stu-id="2626c-426">It is recommended toouse a Firmware or Discrete TPM.</span></span> <span data-ttu-id="2626c-427">Um TPM de Software deve ser usado apenas para fins de testes e desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="2626c-427">A Software TPM should only be used for development and testing purposes.</span></span> <span data-ttu-id="2626c-428">Depois que um TPM está disponível e Olá chaves são provisionadas nele, código de saudação que gera um token de saudação deve ser escrito sem codificação qualquer informação confidencial.</span><span class="sxs-lookup"><span data-stu-id="2626c-428">Once a TPM is available and hello keys are provisioned in it, hello code that generates hello token should be written without hard coding any sensitive information in it.</span></span> | 

### <a name="example"></a><span data-ttu-id="2626c-429">Exemplo</span><span class="sxs-lookup"><span data-stu-id="2626c-429">Example</span></span>
```
TpmDevice myDevice = new TpmDevice(0);
// Use logical device 0 on hello TPM 
string hubUri = myDevice.GetHostName(); 
string deviceId = myDevice.GetDeviceId(); 
string sasToken = myDevice.GetSASToken(); 

var deviceClient = DeviceClient.Create( hubUri, AuthenticationMethodFactory. CreateAuthenticationWithToken(deviceId, sasToken), TransportType.Amqp); 
```
<span data-ttu-id="2626c-430">Como pode ser visto, chave primária do hello dispositivo não está presente no código de saudação.</span><span class="sxs-lookup"><span data-stu-id="2626c-430">As can be seen, hello device primary key is not present in hello code.</span></span> <span data-ttu-id="2626c-431">Em vez disso, ele é armazenado no hello TPM no slot 0.</span><span class="sxs-lookup"><span data-stu-id="2626c-431">Instead, it is stored in hello TPM at slot 0.</span></span> <span data-ttu-id="2626c-432">Dispositivo TPM gera uma curta duração token SAS que é então usado tooconnect toohello IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="2626c-432">TPM device generates a short-lived SAS token that is then used tooconnect toohello IoT Hub.</span></span> 

## <span data-ttu-id="2626c-433"><a id="random-hub"></a>Gerar uma chave simétrica aleatória de tamanho suficiente para autenticação tooIoT Hub</span><span class="sxs-lookup"><span data-stu-id="2626c-433"><a id="random-hub"></a>Generate a random symmetric key of sufficient length for authentication tooIoT Hub</span></span>

| <span data-ttu-id="2626c-434">Title</span><span class="sxs-lookup"><span data-stu-id="2626c-434">Title</span></span>                   | <span data-ttu-id="2626c-435">Detalhes</span><span class="sxs-lookup"><span data-stu-id="2626c-435">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2626c-436">**Componente**</span><span class="sxs-lookup"><span data-stu-id="2626c-436">**Component**</span></span>               | <span data-ttu-id="2626c-437">Gateway de Nuvem IoT</span><span class="sxs-lookup"><span data-stu-id="2626c-437">IoT Cloud Gateway</span></span> | 
| <span data-ttu-id="2626c-438">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="2626c-438">**SDL Phase**</span></span>               | <span data-ttu-id="2626c-439">Compilação</span><span class="sxs-lookup"><span data-stu-id="2626c-439">Build</span></span> |  
| <span data-ttu-id="2626c-440">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="2626c-440">**Applicable Technologies**</span></span> | <span data-ttu-id="2626c-441">Genérico</span><span class="sxs-lookup"><span data-stu-id="2626c-441">Generic</span></span> |
| <span data-ttu-id="2626c-442">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="2626c-442">**Attributes**</span></span>              | <span data-ttu-id="2626c-443">Opção de gateway - Hub IoT do Azure</span><span class="sxs-lookup"><span data-stu-id="2626c-443">Gateway choice - Azure IoT Hub</span></span> |
| <span data-ttu-id="2626c-444">**Referências**</span><span class="sxs-lookup"><span data-stu-id="2626c-444">**References**</span></span>              | <span data-ttu-id="2626c-445">N/D</span><span class="sxs-lookup"><span data-stu-id="2626c-445">N/A</span></span>  |
| <span data-ttu-id="2626c-446">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="2626c-446">**Steps**</span></span> | <span data-ttu-id="2626c-447">O Hub IoT contém um Registro de Identidade de dispositivo e, ao provisionar um dispositivo, gera automaticamente uma chave simétrica aleatória.</span><span class="sxs-lookup"><span data-stu-id="2626c-447">IoT Hub contains a device Identity Registry and while provisioning a device, automatically generates a random Symmetric key.</span></span> <span data-ttu-id="2626c-448">É recomendável toouse esse recurso hello Azure IoT Hub identidade toogenerate Olá da chave de registro é usado para autenticação.</span><span class="sxs-lookup"><span data-stu-id="2626c-448">It is recommended toouse this feature of hello Azure IoT Hub Identity Registry toogenerate hello key used for authentication.</span></span> <span data-ttu-id="2626c-449">IoT Hub também permite que uma chave toobe especificado ao criar o dispositivo de saudação.</span><span class="sxs-lookup"><span data-stu-id="2626c-449">IoT Hub also allows for a key toobe specified while creating hello device.</span></span> <span data-ttu-id="2626c-450">Se uma chave é gerada fora do IoT Hub durante o provisionamento do dispositivo, é recomendável toocreate uma chave simétrica aleatória ou pelo menos de 256 bits.</span><span class="sxs-lookup"><span data-stu-id="2626c-450">If a key is generated outside of IoT Hub during device provisioning, it is recommended toocreate a random symmetric key or at least 256 bits.</span></span> |

## <span data-ttu-id="2626c-451"><a id="pin-remote"></a>Garantir que uma política de gerenciamento de dispositivos esteja aplicada, que ela exija um PIN de uso e permita a limpeza remota do dispositivo</span><span class="sxs-lookup"><span data-stu-id="2626c-451"><a id="pin-remote"></a>Ensure a device management policy is in place that requires a use PIN and allows remote wiping</span></span>

| <span data-ttu-id="2626c-452">Title</span><span class="sxs-lookup"><span data-stu-id="2626c-452">Title</span></span>                   | <span data-ttu-id="2626c-453">Detalhes</span><span class="sxs-lookup"><span data-stu-id="2626c-453">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2626c-454">**Componente**</span><span class="sxs-lookup"><span data-stu-id="2626c-454">**Component**</span></span>               | <span data-ttu-id="2626c-455">Cliente móvel do Dynamics CRM</span><span class="sxs-lookup"><span data-stu-id="2626c-455">Dynamics CRM Mobile Client</span></span> | 
| <span data-ttu-id="2626c-456">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="2626c-456">**SDL Phase**</span></span>               | <span data-ttu-id="2626c-457">Implantação</span><span class="sxs-lookup"><span data-stu-id="2626c-457">Deployment</span></span> |  
| <span data-ttu-id="2626c-458">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="2626c-458">**Applicable Technologies**</span></span> | <span data-ttu-id="2626c-459">Genérico</span><span class="sxs-lookup"><span data-stu-id="2626c-459">Generic</span></span> |
| <span data-ttu-id="2626c-460">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="2626c-460">**Attributes**</span></span>              | <span data-ttu-id="2626c-461">N/D</span><span class="sxs-lookup"><span data-stu-id="2626c-461">N/A</span></span>  |
| <span data-ttu-id="2626c-462">**Referências**</span><span class="sxs-lookup"><span data-stu-id="2626c-462">**References**</span></span>              | <span data-ttu-id="2626c-463">N/D</span><span class="sxs-lookup"><span data-stu-id="2626c-463">N/A</span></span>  |
| <span data-ttu-id="2626c-464">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="2626c-464">**Steps**</span></span> | <span data-ttu-id="2626c-465">Garanta que uma política de gerenciamento de dispositivos esteja aplicada, que ela exija um PIN de uso e permita a limpeza remota do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="2626c-465">Ensure a device management policy is in place that requires a use PIN and allows remote wiping</span></span> |

## <span data-ttu-id="2626c-466"><a id="bitlocker"></a>Garantir que uma política de gerenciamento de dispositivos esteja aplicada, que exija PIN, senha ou bloqueio automático e criptografe todos os dados (por exemplo, o BitLocker)</span><span class="sxs-lookup"><span data-stu-id="2626c-466"><a id="bitlocker"></a>Ensure a device management policy is in place that requires a PIN/password/auto lock and encrypts all data (e.g. Bitlocker)</span></span>

| <span data-ttu-id="2626c-467">Title</span><span class="sxs-lookup"><span data-stu-id="2626c-467">Title</span></span>                   | <span data-ttu-id="2626c-468">Detalhes</span><span class="sxs-lookup"><span data-stu-id="2626c-468">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2626c-469">**Componente**</span><span class="sxs-lookup"><span data-stu-id="2626c-469">**Component**</span></span>               | <span data-ttu-id="2626c-470">Cliente do Outlook do Dynamics CRM</span><span class="sxs-lookup"><span data-stu-id="2626c-470">Dynamics CRM Outlook Client</span></span> | 
| <span data-ttu-id="2626c-471">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="2626c-471">**SDL Phase**</span></span>               | <span data-ttu-id="2626c-472">Compilação</span><span class="sxs-lookup"><span data-stu-id="2626c-472">Build</span></span> |  
| <span data-ttu-id="2626c-473">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="2626c-473">**Applicable Technologies**</span></span> | <span data-ttu-id="2626c-474">Genérico</span><span class="sxs-lookup"><span data-stu-id="2626c-474">Generic</span></span> |
| <span data-ttu-id="2626c-475">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="2626c-475">**Attributes**</span></span>              | <span data-ttu-id="2626c-476">N/D</span><span class="sxs-lookup"><span data-stu-id="2626c-476">N/A</span></span>  |
| <span data-ttu-id="2626c-477">**Referências**</span><span class="sxs-lookup"><span data-stu-id="2626c-477">**References**</span></span>              | <span data-ttu-id="2626c-478">N/D</span><span class="sxs-lookup"><span data-stu-id="2626c-478">N/A</span></span>  |
| <span data-ttu-id="2626c-479">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="2626c-479">**Steps**</span></span> | <span data-ttu-id="2626c-480">Garanta que uma política de gerenciamento de dispositivos esteja aplicada, que exija PIN, senha ou bloqueio automático e criptografe todos os dados (por exemplo, o BitLocker).</span><span class="sxs-lookup"><span data-stu-id="2626c-480">Ensure a device management policy is in place that requires a PIN/password/auto lock and encrypts all data (e.g. Bitlocker)</span></span> |

## <span data-ttu-id="2626c-481"><a id="rolled-server"></a>Garantir que as chaves de assinatura sejam trocadas quando o Servidor de identidade for usado</span><span class="sxs-lookup"><span data-stu-id="2626c-481"><a id="rolled-server"></a>Ensure that signing keys are rolled over when using Identity Server</span></span>

| <span data-ttu-id="2626c-482">Title</span><span class="sxs-lookup"><span data-stu-id="2626c-482">Title</span></span>                   | <span data-ttu-id="2626c-483">Detalhes</span><span class="sxs-lookup"><span data-stu-id="2626c-483">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2626c-484">**Componente**</span><span class="sxs-lookup"><span data-stu-id="2626c-484">**Component**</span></span>               | <span data-ttu-id="2626c-485">Servidor de Identidade</span><span class="sxs-lookup"><span data-stu-id="2626c-485">Identity Server</span></span> | 
| <span data-ttu-id="2626c-486">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="2626c-486">**SDL Phase**</span></span>               | <span data-ttu-id="2626c-487">Implantação</span><span class="sxs-lookup"><span data-stu-id="2626c-487">Deployment</span></span> |  
| <span data-ttu-id="2626c-488">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="2626c-488">**Applicable Technologies**</span></span> | <span data-ttu-id="2626c-489">Genérico</span><span class="sxs-lookup"><span data-stu-id="2626c-489">Generic</span></span> |
| <span data-ttu-id="2626c-490">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="2626c-490">**Attributes**</span></span>              | <span data-ttu-id="2626c-491">N/D</span><span class="sxs-lookup"><span data-stu-id="2626c-491">N/A</span></span>  |
| <span data-ttu-id="2626c-492">**Referências**</span><span class="sxs-lookup"><span data-stu-id="2626c-492">**References**</span></span>              | [<span data-ttu-id="2626c-493">Servidor de identidade - chaves, assinaturas e criptografia</span><span class="sxs-lookup"><span data-stu-id="2626c-493">Identity Server - Keys, Signatures and Cryptography </span></span>](https://identityserver.github.io/Documentation/docsv2/configuration/crypto.html) |
| <span data-ttu-id="2626c-494">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="2626c-494">**Steps**</span></span> | <span data-ttu-id="2626c-495">Garanta que as chaves de assinatura sejam trocadas quando o Servidor de identidade for usado.</span><span class="sxs-lookup"><span data-stu-id="2626c-495">Ensure that signing keys are rolled over when using Identity Server.</span></span> <span data-ttu-id="2626c-496">Olá link na seção de referências de saudação explica como isso deve ser planejado sem causar interrupções tooapplications confiar no servidor de identidade.</span><span class="sxs-lookup"><span data-stu-id="2626c-496">hello link in hello references section explains how this should be planned without causing outages tooapplications relying on Identity Server.</span></span> |

## <span data-ttu-id="2626c-497"><a id="client-server"></a>Garantir que ID de cliente e segredo do cliente criptograficamente fortes sejam usados no Identity Server</span><span class="sxs-lookup"><span data-stu-id="2626c-497"><a id="client-server"></a>Ensure that cryptographically strong client ID, client secret are used in Identity Server</span></span>

| <span data-ttu-id="2626c-498">Title</span><span class="sxs-lookup"><span data-stu-id="2626c-498">Title</span></span>                   | <span data-ttu-id="2626c-499">Detalhes</span><span class="sxs-lookup"><span data-stu-id="2626c-499">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2626c-500">**Componente**</span><span class="sxs-lookup"><span data-stu-id="2626c-500">**Component**</span></span>               | <span data-ttu-id="2626c-501">Servidor de Identidade</span><span class="sxs-lookup"><span data-stu-id="2626c-501">Identity Server</span></span> | 
| <span data-ttu-id="2626c-502">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="2626c-502">**SDL Phase**</span></span>               | <span data-ttu-id="2626c-503">Compilação</span><span class="sxs-lookup"><span data-stu-id="2626c-503">Build</span></span> |  
| <span data-ttu-id="2626c-504">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="2626c-504">**Applicable Technologies**</span></span> | <span data-ttu-id="2626c-505">Genérico</span><span class="sxs-lookup"><span data-stu-id="2626c-505">Generic</span></span> |
| <span data-ttu-id="2626c-506">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="2626c-506">**Attributes**</span></span>              | <span data-ttu-id="2626c-507">N/D</span><span class="sxs-lookup"><span data-stu-id="2626c-507">N/A</span></span>  |
| <span data-ttu-id="2626c-508">**Referências**</span><span class="sxs-lookup"><span data-stu-id="2626c-508">**References**</span></span>              | <span data-ttu-id="2626c-509">N/D</span><span class="sxs-lookup"><span data-stu-id="2626c-509">N/A</span></span>  |
| <span data-ttu-id="2626c-510">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="2626c-510">**Steps**</span></span> | <p><span data-ttu-id="2626c-511">Garantir que ID de cliente e segredo do cliente criptograficamente fortes sejam usados no Identity Server.</span><span class="sxs-lookup"><span data-stu-id="2626c-511">Ensure that cryptographically strong client ID, client secret are used in Identity Server.</span></span> <span data-ttu-id="2626c-512">Olá diretrizes a seguir deve ser usada ao gerar uma ID de cliente e o segredo:</span><span class="sxs-lookup"><span data-stu-id="2626c-512">hello following guidelines should be used while generating a client ID and secret:</span></span></p><ul><li><span data-ttu-id="2626c-513">Gerar um GUID aleatório Olá a ID de cliente</span><span class="sxs-lookup"><span data-stu-id="2626c-513">Generate a random GUID as hello client ID</span></span></li><li><span data-ttu-id="2626c-514">Gerar uma chave de 256 bits aleatória criptograficamente como segredo Olá</span><span class="sxs-lookup"><span data-stu-id="2626c-514">Generate a cryptographically random 256-bit key as hello secret</span></span></li></ul>|
