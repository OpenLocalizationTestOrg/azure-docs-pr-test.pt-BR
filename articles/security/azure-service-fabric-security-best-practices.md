---
title: "práticas recomendadas de segurança do Service Fabric aaaAzure | Microsoft Docs"
description: "Este artigo fornece um conjunto de melhores práticas de segurança do Azure Service Fabric."
services: security
documentationcenter: na
author: unifycloud
manager: swadhwa
editor: tomsh
ms.assetid: 
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/04/2017
ms.author: tomsh
ms.openlocfilehash: 483a21240da17d56bb4641653093ddcbad379d6a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-service-fabric-security-best-practices"></a><span data-ttu-id="b70ba-103">Melhores práticas de segurança do Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="b70ba-103">Azure Service Fabric security best practices</span></span>
<span data-ttu-id="b70ba-104">Implantar um aplicativo no Azure é rápido, fácil e econômico.</span><span class="sxs-lookup"><span data-stu-id="b70ba-104">Deploying an application on Azure is fast, easy, and cost-effective.</span></span> <span data-ttu-id="b70ba-105">Antes de implantar o aplicativo em nuvem no toohave útil produção uma prática recomendada tooassist na avaliação de seu aplicativo com uma lista de práticas recomendadas essenciais e recomendados.</span><span class="sxs-lookup"><span data-stu-id="b70ba-105">Before deploying cloud application in production useful toohave a best practice tooassist in evaluating your application against a list of essential and recommended best practices.</span></span>

<span data-ttu-id="b70ba-106">Malha do serviço do Azure é uma plataforma de sistemas distribuídos que torna mais fácil toopackage, implantar e gerenciar microservices escalonável e confiável.</span><span class="sxs-lookup"><span data-stu-id="b70ba-106">Azure Service Fabric is a distributed systems platform that makes it easy toopackage, deploy, and manage scalable and reliable microservices.</span></span> <span data-ttu-id="b70ba-107">Service Fabric também aborda os desafios de saudação significativos no desenvolvimento e gerenciamento de aplicativos em nuvem.</span><span class="sxs-lookup"><span data-stu-id="b70ba-107">Service Fabric also addresses hello significant challenges in developing and managing cloud applications.</span></span> <span data-ttu-id="b70ba-108">Desenvolvedores e administradores podem evitar problemas complexos de infraestrutura e se concentrarem na implementação de cargas de trabalho essenciais e exigentes que são escalonáveis, confiáveis e gerenciáveis.</span><span class="sxs-lookup"><span data-stu-id="b70ba-108">Developers and administrators can avoid complex infrastructure problems and focus on implementing mission-critical, demanding workloads that are scalable, reliable, and manageable.</span></span> 

<span data-ttu-id="b70ba-109">Para cada prática recomendada, vamos explicar:</span><span class="sxs-lookup"><span data-stu-id="b70ba-109">For each best practice, we explain:</span></span>

-   <span data-ttu-id="b70ba-110">A prática recomendada que Olá é</span><span class="sxs-lookup"><span data-stu-id="b70ba-110">What hello best practice is</span></span>
-   <span data-ttu-id="b70ba-111">Por que você deseja tooenable essa prática recomendada</span><span class="sxs-lookup"><span data-stu-id="b70ba-111">Why you want tooenable that best practice</span></span>
-   <span data-ttu-id="b70ba-112">O que pode ser resultado de saudação se você não a prática recomendada de saudação tooenable</span><span class="sxs-lookup"><span data-stu-id="b70ba-112">What might be hello result if you fail tooenable hello best practice</span></span>
-   <span data-ttu-id="b70ba-113">Como você pode aprender a prática recomendada de saudação tooenable</span><span class="sxs-lookup"><span data-stu-id="b70ba-113">How you can learn tooenable hello best practice</span></span>

<span data-ttu-id="b70ba-114">No momento, temos hello Azure Service Fabric práticas recomendadas de segurança a seguir:</span><span class="sxs-lookup"><span data-stu-id="b70ba-114">We currently have hello following Azure Service Fabric security best practices:</span></span>

-   <span data-ttu-id="b70ba-115">Usar o modelo de Manager(ARM) de recursos do Azure e o cluster do Service Fabric do Azure PowerShell Module toocreate seguro</span><span class="sxs-lookup"><span data-stu-id="b70ba-115">Use Azure Resource Manager(ARM) template and Service Fabric Azure PowerShell Module toocreate secure cluster</span></span>
-   <span data-ttu-id="b70ba-116">Usar certificados X.509</span><span class="sxs-lookup"><span data-stu-id="b70ba-116">Use X.509 certificates</span></span>
-   <span data-ttu-id="b70ba-117">Configurar políticas de segurança</span><span class="sxs-lookup"><span data-stu-id="b70ba-117">Configure security policies</span></span>
-   <span data-ttu-id="b70ba-118">Configuração de segurança de Reliable Actors</span><span class="sxs-lookup"><span data-stu-id="b70ba-118">Reliable Actors security configuration</span></span>
-   <span data-ttu-id="b70ba-119">Configurar o SSL para o Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="b70ba-119">Configure SSL for Azure Service Fabric</span></span>
-   <span data-ttu-id="b70ba-120">Segurança/isolamento de Rede com o Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="b70ba-120">Network Isolation/Security with Azure Service Fabric</span></span>
-   <span data-ttu-id="b70ba-121">Configurar um cofre de chaves de segurança</span><span class="sxs-lookup"><span data-stu-id="b70ba-121">Set up a key vault for security</span></span>
-   <span data-ttu-id="b70ba-122">Atribuir usuários tooroles</span><span class="sxs-lookup"><span data-stu-id="b70ba-122">Assign users tooroles</span></span>


## <a name="best-practices-for-securing-your-cluster"></a><span data-ttu-id="b70ba-123">Melhores práticas para proteger o cluster</span><span class="sxs-lookup"><span data-stu-id="b70ba-123">Best practices for securing your cluster</span></span>

<span data-ttu-id="b70ba-124">**Visão global**</span><span class="sxs-lookup"><span data-stu-id="b70ba-124">**Big Picture**</span></span>

<span data-ttu-id="b70ba-125">Usar sempre um cluster seguro</span><span class="sxs-lookup"><span data-stu-id="b70ba-125">Always use a secure cluster</span></span>
-   <span data-ttu-id="b70ba-126">Segurança de cluster: usar certificados</span><span class="sxs-lookup"><span data-stu-id="b70ba-126">Cluster security – use Certificates</span></span>
-   <span data-ttu-id="b70ba-127">Acesso de cliente (Admin e Somente leitura): usar o AAD</span><span class="sxs-lookup"><span data-stu-id="b70ba-127">Client access (Admin and Read only) – use AAD</span></span>

<span data-ttu-id="b70ba-128">Usar implantações automatizadas</span><span class="sxs-lookup"><span data-stu-id="b70ba-128">Use automated deployments</span></span>
-   <span data-ttu-id="b70ba-129">Usar scripts toogenerate, implantar e, sobrepor segredos</span><span class="sxs-lookup"><span data-stu-id="b70ba-129">Use scripts toogenerate, deploy and, roll over secrets</span></span>
-   <span data-ttu-id="b70ba-130">Manter segredos Olá em KV, use AD todos os outros para acesso de cliente</span><span class="sxs-lookup"><span data-stu-id="b70ba-130">Keep hello secrets in KV, use AD for all other client access</span></span>
-   <span data-ttu-id="b70ba-131">Nenhum humanos devem ter acesso toothem sem autenticação.</span><span class="sxs-lookup"><span data-stu-id="b70ba-131">No human should have access toothem without authentication.</span></span>

<span data-ttu-id="b70ba-132">Além disso, considere o seguinte hello:</span><span class="sxs-lookup"><span data-stu-id="b70ba-132">Additionally, consider hello following:</span></span>
-   <span data-ttu-id="b70ba-133">Criar DMZs usando NSGs (grupos de segurança de rede)</span><span class="sxs-lookup"><span data-stu-id="b70ba-133">Create DMZs using Network Security Groups (NSGs)</span></span>
-   <span data-ttu-id="b70ba-134">Usar o salto servidores tooRDP em VMs do cluster ou toomanage seu cluster</span><span class="sxs-lookup"><span data-stu-id="b70ba-134">Use Jump servers tooRDP into cluster VMs or toomanage your cluster</span></span>

<span data-ttu-id="b70ba-135">Clusters devem ser protegido tooprevent não autorizado usuários conectem cluster tooyour, especialmente quando ele tiver cargas de trabalho de produção em execução.</span><span class="sxs-lookup"><span data-stu-id="b70ba-135">Clusters must be secured tooprevent unauthorized users from connecting tooyour cluster, especially when it has production workloads running on it.</span></span> <span data-ttu-id="b70ba-136">Embora seja possível toocreate um cluster não seguro, isso permite que os usuários anônimos tooconnect tooit, se ela expõe toohello de pontos de extremidade de gerenciamento Internet pública.</span><span class="sxs-lookup"><span data-stu-id="b70ba-136">Although it is possible toocreate an unsecured cluster, doing so allows anonymous users tooconnect tooit, if it exposes management endpoints toohello public Internet.</span></span>

<span data-ttu-id="b70ba-137">Tecnologias usadas tooimplement esses cenários.</span><span class="sxs-lookup"><span data-stu-id="b70ba-137">Technologies used tooimplement those scenarios.</span></span> <span data-ttu-id="b70ba-138">Olá [cenários de segurança de cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security) são:</span><span class="sxs-lookup"><span data-stu-id="b70ba-138">hello [cluster security scenarios](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security) are:</span></span>

-   <span data-ttu-id="b70ba-139">Nó para nó segurança This protege a comunicação entre computadores no cluster hello e Olá VMs.</span><span class="sxs-lookup"><span data-stu-id="b70ba-139">Node-to-node security- This secures communication between hello VMs and computers in hello cluster.</span></span> <span data-ttu-id="b70ba-140">Isso garante que somente os computadores autorizados toojoin Olá cluster podem participar de hospedar aplicativos e serviços em cluster hello.</span><span class="sxs-lookup"><span data-stu-id="b70ba-140">This ensures that only computers that are authorized toojoin hello cluster can participate in hosting applications and services in hello cluster.</span></span>
<span data-ttu-id="b70ba-141">Os clusters em execução no Azure ou clusters autônomos em execução no Windows podem usar a [Segurança de Certificado](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security) ou então a [Segurança do Windows](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-windows-cluster-windows-security) para computadores Windows Server.</span><span class="sxs-lookup"><span data-stu-id="b70ba-141">Clusters running on Azure or standalone clusters running on Windows can use either [Certificate Security](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security) or [Windows Security](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-windows-cluster-windows-security) for Windows Server machines.</span></span>
-   <span data-ttu-id="b70ba-142">Nó do cliente This segurança protege a comunicação entre um cliente de serviço de malha e nós individuais Olá cluster.</span><span class="sxs-lookup"><span data-stu-id="b70ba-142">Client-to-node security- This secures communication between a Service Fabric client and individual nodes in hello cluster.</span></span>
-   <span data-ttu-id="b70ba-143">Controle de acesso baseado em função (RBAC) - você especificar funções Administrador e usuário saudação do cliente em tempo de saudação da criação do cluster, fornecendo identidades separadas (certificados, etc. do AAD) para cada.</span><span class="sxs-lookup"><span data-stu-id="b70ba-143">Role-based access control (RBAC) - You specify hello administrator and user client roles at hello time of cluster creation by providing separate identities (certificates, AAD etc.) for each.</span></span>
-   <span data-ttu-id="b70ba-144">Recomendações de segurança-clusters do Azure, é recomendável que você use o AAD segurança tooauthenticate clientes e certificados para segurança de nó para nó.</span><span class="sxs-lookup"><span data-stu-id="b70ba-144">Security Recommendations-For Azure clusters, it is recommended that you use AAD security tooauthenticate clients and certificates for node-to-node security.</span></span>

<span data-ttu-id="b70ba-145">tooconfigure Olá autônomo cluster do Windows, consulte [configurar as configurações de cluster do windows autônoma](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-manifest).</span><span class="sxs-lookup"><span data-stu-id="b70ba-145">tooconfigure hello standalone Windows cluster, see [configure settings for standalone windows cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-manifest).</span></span>

<span data-ttu-id="b70ba-146">Use modelos do Gerenciador de recursos do Azure e o cluster do Service Fabric do Azure PowerShell Module toocreate seguro.</span><span class="sxs-lookup"><span data-stu-id="b70ba-146">Use Azure Resource Manager templates and Service Fabric Azure PowerShell Module toocreate secure cluster.</span></span>
<span data-ttu-id="b70ba-147">Um guia passo a passo que orienta você pela configuração de um cluster do Azure Service Fabric seguro no Azure usando o Azure Resource Manager está disponível [aqui](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm).</span><span class="sxs-lookup"><span data-stu-id="b70ba-147">A step-by-step guide walks you through setting up a secure Azure Service Fabric cluster in Azure by using Azure Resource Manager is available [here](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm).</span></span>

<span data-ttu-id="b70ba-148">Usar hello Azure Resource Manager modelo toocustomize seu cluster</span><span class="sxs-lookup"><span data-stu-id="b70ba-148">Use hello Azure Resource Manager template toocustomize your cluster</span></span>
-   <span data-ttu-id="b70ba-149">Armazenamento gerenciado por configuração para VHDs de VM</span><span class="sxs-lookup"><span data-stu-id="b70ba-149">Setup-managed storage for VM VHDs</span></span>

<span data-ttu-id="b70ba-150">Use hello Azure Resource Manager modelo toodrive alterações tooyour grupo de recursos</span><span class="sxs-lookup"><span data-stu-id="b70ba-150">Use hello Azure Resource Manager template toodrive changes tooyour Resource Group</span></span>
-   <span data-ttu-id="b70ba-151">Gerenciamento de configuração fácil</span><span class="sxs-lookup"><span data-stu-id="b70ba-151">Easy configuration management</span></span>
-   <span data-ttu-id="b70ba-152">Auditoria</span><span class="sxs-lookup"><span data-stu-id="b70ba-152">Auditing</span></span>

<span data-ttu-id="b70ba-153">Tratar a configuração do cluster como código</span><span class="sxs-lookup"><span data-stu-id="b70ba-153">Treat your cluster configuration as Code</span></span>
-   <span data-ttu-id="b70ba-154">Seja completa na verificação de configurações de saudação escolha toodeploy</span><span class="sxs-lookup"><span data-stu-id="b70ba-154">Be thorough in checking hello configurations you choose toodeploy</span></span>
-   <span data-ttu-id="b70ba-155">Evite usar comandos implícita tootweak seus recursos diretamente</span><span class="sxs-lookup"><span data-stu-id="b70ba-155">Avoid using implicit commands tootweak your resources directly</span></span>

<span data-ttu-id="b70ba-156">Muitos aspectos da saudação [ciclo de vida do aplicativo de malha do serviço](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-lifecycle) pode ser automatizada.</span><span class="sxs-lookup"><span data-stu-id="b70ba-156">Many aspects of hello [Service Fabric application lifecycle](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-lifecycle) can be automated.</span></span> <span data-ttu-id="b70ba-157">O [Módulo Azure PowerShell do Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-deploy-remove-applications#upload-the-application-package) automatiza tarefas comuns de implantação, atualização, remoção e teste de aplicativos do Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="b70ba-157">[Service Fabric Azure PowerShell Module](https://docs.microsoft.com/azure/service-fabric/service-fabric-deploy-remove-applications#upload-the-application-package) automates common tasks for deploying, upgrading, removing, and testing Azure Service Fabric applications.</span></span> <span data-ttu-id="b70ba-158">APIs gerenciadas e HTTP para gerenciamento de aplicativos também estão disponíveis.</span><span class="sxs-lookup"><span data-stu-id="b70ba-158">Managed and HTTP APIs for app management are also available.</span></span>

## <a name="use-x509-certificates"></a><span data-ttu-id="b70ba-159">Usar certificados X.509</span><span class="sxs-lookup"><span data-stu-id="b70ba-159">Use X.509 certificates</span></span>
<span data-ttu-id="b70ba-160">Os clusters sempre devem ser protegidos usando certificados X.509 ou a segurança do Windows.</span><span class="sxs-lookup"><span data-stu-id="b70ba-160">Clusters should always be secured using X.509 certificates or Windows security.</span></span> <span data-ttu-id="b70ba-161">Segurança somente é configurada no momento da criação de cluster e não é possível tooenable segurança depois Olá cluster é criado.</span><span class="sxs-lookup"><span data-stu-id="b70ba-161">Security is only configured at cluster creation time and it is not possible tooenable security after hello cluster is created.</span></span>

<span data-ttu-id="b70ba-162">Se você estiver especificando uma [certificado de cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security), definir o valor de saudação do ClusterCredentialType tooX509.</span><span class="sxs-lookup"><span data-stu-id="b70ba-162">If you are specifying a [cluster certificate](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security), set hello value of ClusterCredentialType tooX509.</span></span> <span data-ttu-id="b70ba-163">Se você estiver especificando o certificado do servidor para conexões externas, defina Olá ServerCredentialType tooX509.</span><span class="sxs-lookup"><span data-stu-id="b70ba-163">If you are specifying server certificate for outside connections, set hello ServerCredentialType tooX509.</span></span>

-   <span data-ttu-id="b70ba-164">Os certificados usados em clusters que executam cargas de trabalho de produção devem ser criados por meio de um serviço de certificado do Windows Server configurado corretamente ou obtidos por meio de uma AC (Autoridade de Certificação) aprovada.</span><span class="sxs-lookup"><span data-stu-id="b70ba-164">Certificates used in clusters running production workloads should be created by using a correctly configured Windows Server certificate service or obtained from an approved Certificate Authority (CA).</span></span>
-   <span data-ttu-id="b70ba-165">Nunca use nenhum certificado temporário ou de teste em produção criado com ferramentas como MakeCert.exe.</span><span class="sxs-lookup"><span data-stu-id="b70ba-165">Never use any temporary or test certificates in production that are created with tools such as MakeCert.exe.</span></span>
-   <span data-ttu-id="b70ba-166">Você pode usar um certificado autoassinado, mas deve fazer isso somente para clusters de teste e não em produção.</span><span class="sxs-lookup"><span data-stu-id="b70ba-166">You can use a self-signed certificate, but should only do so for test clusters and not in production.</span></span>

<span data-ttu-id="b70ba-167">Se o cluster de saudação é não segura.</span><span class="sxs-lookup"><span data-stu-id="b70ba-167">If hello cluster is unsecure.</span></span> <span data-ttu-id="b70ba-168">Qualquer pessoa pode conectar-se anonimamente e realizar operações de gerenciamento, portanto, os clusters de produção sempre devem ser protegidos usando os certificados x.509 ou a segurança do Windows.</span><span class="sxs-lookup"><span data-stu-id="b70ba-168">Anyone can connect anonymously and perform management operations, so production clusters should always be secured using X.509 certificates or Windows security.</span></span>

<span data-ttu-id="b70ba-169">toolearn mais como certificados de tooenable no cluster do service fabric ver, [adicionar ou remover certificados para um cluster do service fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure).</span><span class="sxs-lookup"><span data-stu-id="b70ba-169">toolearn more how tooenable certificates in service fabric cluster see, [add or remove certificates for a service fabric cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure).</span></span>

## <a name="configure-security-policies"></a><span data-ttu-id="b70ba-170">Configurar políticas de segurança</span><span class="sxs-lookup"><span data-stu-id="b70ba-170">Configure security policies</span></span>
<span data-ttu-id="b70ba-171">Serviço de malha também ajuda a certificados, arquivos, diretórios e recursos de saudação seguro que são usados por aplicativos em tempo de saudação da implantação em contas de usuário hello – por exemplo.</span><span class="sxs-lookup"><span data-stu-id="b70ba-171">Service Fabric also helps secure hello resources that are used by applications at hello time of deployment under hello user accounts--for example, files, directories, and certificates.</span></span> <span data-ttu-id="b70ba-172">Isso torna os aplicativos em execução, mesmo em um ambiente hospedado compartilhado, mais protegidos uns dos outros.</span><span class="sxs-lookup"><span data-stu-id="b70ba-172">This makes running applications, even in a shared hosted environment, more secure from one another.</span></span>

-   <span data-ttu-id="b70ba-173">Use um grupo de domínio do Active Directory ou o usuário: você pode executar o serviço de saudação em credenciais Olá para uma conta de usuário ou grupo do Active Directory.</span><span class="sxs-lookup"><span data-stu-id="b70ba-173">Use an Active Directory domain group or user: You can run hello service under hello credentials for an Active Directory user or group account.</span></span> <span data-ttu-id="b70ba-174">Esse é o Active Directory local em seu domínio e não é com o Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="b70ba-174">This is Active Directory on-premises within your domain and is not with Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="b70ba-175">Usando um usuário de domínio ou grupo, em seguida, você pode acessar outros recursos no domínio hello (por exemplo, compartilhamentos de arquivos) que foram concedidos permissões.</span><span class="sxs-lookup"><span data-stu-id="b70ba-175">By using a domain user or group, you can then access other resources in hello domain (for example, file shares) that have been granted permissions.</span></span>

-   <span data-ttu-id="b70ba-176">Atribuir uma política de acesso de segurança para pontos de extremidade HTTP e HTTPS: se você aplicar um serviço de tooa de política de executar como e manifesto do serviço Olá declara recursos de ponto de extremidade com o protocolo de saudação HTTP, você deve especificar um tooensure SecurityAccessPolicy portas alocadas toothese pontos de extremidade estão corretamente acesso controlado listados para Olá conta de usuário RunAs Olá serviço é executado.</span><span class="sxs-lookup"><span data-stu-id="b70ba-176">Assign a security access policy for HTTP and HTTPS endpoints: If you apply a RunAs policy tooa service and hello service manifest declares endpoint resources with hello HTTP protocol, you must specify a SecurityAccessPolicy tooensure that ports allocated toothese endpoints are correctly access-controlled listed for hello RunAs user account that hello service runs under.</span></span> <span data-ttu-id="b70ba-177">Caso contrário, o HTTP. sys não tem acesso toohello serviço e obter falhas com chamadas de cliente de saudação.</span><span class="sxs-lookup"><span data-stu-id="b70ba-177">Otherwise, http.sys does not have access toohello service, and you get failures with calls from hello client.</span></span>
<span data-ttu-id="b70ba-178">toolearn mais Habilitar políticas de segurança de malha de serviço, consulte [configurar políticas de segurança para seu aplicativo](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-runas-security).</span><span class="sxs-lookup"><span data-stu-id="b70ba-178">toolearn more enable security policies in service fabric see, [configure security policies for your application](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-runas-security).</span></span>

## <a name="reliable-actors-security-configuration"></a><span data-ttu-id="b70ba-179">Configuração de segurança de Reliable Actors</span><span class="sxs-lookup"><span data-stu-id="b70ba-179">Reliable Actors security configuration</span></span>
<span data-ttu-id="b70ba-180">Atores confiável do serviço de malha é uma implementação do padrão de design de ator hello.</span><span class="sxs-lookup"><span data-stu-id="b70ba-180">Service Fabric Reliable Actors is an implementation of hello actor design pattern.</span></span> <span data-ttu-id="b70ba-181">Assim como acontece com qualquer padrão de design de software, decisão Olá se toouse um padrão específico é feito com base em se um software criar problema correspondam padrão de saudação.</span><span class="sxs-lookup"><span data-stu-id="b70ba-181">As with any software design pattern, hello decision whether toouse a specific pattern is made based on whether or not a software design problem fits hello pattern.</span></span>

<span data-ttu-id="b70ba-182">Como orientação geral, considere Olá ator padrão toomodel seu problema ou cenário se:</span><span class="sxs-lookup"><span data-stu-id="b70ba-182">As general guidance, consider hello actor pattern toomodel your problem or scenario if:</span></span>
-   <span data-ttu-id="b70ba-183">Seu problema de espaço envolve um grande número (milhares ou milhões) de pequenas unidades de estado e lógica que, além de serem independentes, são isoladas.</span><span class="sxs-lookup"><span data-stu-id="b70ba-183">Your problem space involves a large number (thousands or more) of small, independent, and isolated units of state and logic.</span></span>
-   <span data-ttu-id="b70ba-184">Você deseja toowork com objetos de thread único que não exigem interação significativa de componentes externos, incluindo consultando o estado em um conjunto de atores.</span><span class="sxs-lookup"><span data-stu-id="b70ba-184">You want toowork with single-threaded objects that do not require significant interaction from external components, including querying state across a set of actors.</span></span>
-   <span data-ttu-id="b70ba-185">Suas instâncias de ator não bloquearão chamadores com atrasos imprevisíveis emitindo operações de E/S.</span><span class="sxs-lookup"><span data-stu-id="b70ba-185">Your actor instances won't block callers with unpredictable delays by issuing I/O operations.</span></span>

<span data-ttu-id="b70ba-186">No Service Fabric atores são implementados no framework de Reliable Actors Olá: uma estrutura de aplicativo com base no padrão de ator criada na parte superior do [serviços confiável do serviço do Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-services-introduction).</span><span class="sxs-lookup"><span data-stu-id="b70ba-186">In Service Fabric, actors are implemented in hello Reliable Actors framework: An actor-pattern-based application framework built on top of [Service Fabric Reliable Services](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-services-introduction).</span></span> <span data-ttu-id="b70ba-187">Cada serviço escrito do Reliable Actor é, de fato, um Reliable Service com estado particionado.</span><span class="sxs-lookup"><span data-stu-id="b70ba-187">Each Reliable Actor service you write is actually a partitioned, stateful Reliable Service.</span></span>
<span data-ttu-id="b70ba-188">Cada ator é definido como uma instância de um tipo de ator, toohello idênticos maneira um objeto .NET é uma instância de um tipo .NET.</span><span class="sxs-lookup"><span data-stu-id="b70ba-188">Every actor is defined as an instance of an actor type, identical toohello way a .NET object is an instance of a .NET type.</span></span> <span data-ttu-id="b70ba-189">Por exemplo, pode haver um tipo de ator que implementa a funcionalidade de saudação de uma calculadora e pode haver muitos atores desse tipo que são distribuídos em vários nós em um cluster.</span><span class="sxs-lookup"><span data-stu-id="b70ba-189">For example, there may be an actor type that implements hello functionality of a calculator and there could be many actors of that type that are distributed on various nodes across a cluster.</span></span> <span data-ttu-id="b70ba-190">Cada ator desse é exclusivamente identificado por uma ID de ator.</span><span class="sxs-lookup"><span data-stu-id="b70ba-190">Each such actor is uniquely identified by an actor ID.</span></span>

<span data-ttu-id="b70ba-191">[As configurações de segurança do replicador](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-actors-kvsactorstateprovider-configuration) são o canal de comunicação do hello toosecure usado é usado durante a replicação.</span><span class="sxs-lookup"><span data-stu-id="b70ba-191">[Replicator security configurations](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-actors-kvsactorstateprovider-configuration) are used toosecure hello communication channel that is used during replication.</span></span> <span data-ttu-id="b70ba-192">Isso significa que os serviços não consegue ver do outro tráfego de replicação, garantindo que os dados de saudação estará altamente disponíveis também seja seguros.</span><span class="sxs-lookup"><span data-stu-id="b70ba-192">This means that services cannot see each other's replication traffic, ensuring that hello data that is made highly available is also secure.</span></span> <span data-ttu-id="b70ba-193">Por padrão, uma seção de configuração de segurança vazia evita a segurança de replicação.</span><span class="sxs-lookup"><span data-stu-id="b70ba-193">By default, an empty security configuration section prevents replication security.</span></span>
<span data-ttu-id="b70ba-194">Configurações de replicador configurar replicador de saudação que é responsável por verificar o estado do provedor de estado de ator Olá altamente confiável.</span><span class="sxs-lookup"><span data-stu-id="b70ba-194">Replicator configurations configure hello replicator that is responsible for making hello Actor State Provider state highly reliable.</span></span>

## <a name="configure-ssl-for-azure-service-fabric"></a><span data-ttu-id="b70ba-195">Configurar o SSL para o Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="b70ba-195">Configure SSL for Azure Service Fabric</span></span>

<span data-ttu-id="b70ba-196">Autenticação de servidor: [autentica](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm) Olá cliente de gerenciamento tooa do pontos de extremidade de gerenciamento de cluster, de forma que hello gerenciamento cliente sabe que está se comunicando cluster real toohello.</span><span class="sxs-lookup"><span data-stu-id="b70ba-196">Server authentication: [Authenticates](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm) hello cluster management endpoints tooa management client, so that hello management client knows it is talking toohello real cluster.</span></span> <span data-ttu-id="b70ba-197">Esse certificado também fornece um [SSL](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-cluster-creation-via-arm) para Olá API de gerenciamento HTTPS em Service Fabric Explorer via HTTPS.</span><span class="sxs-lookup"><span data-stu-id="b70ba-197">This certificate also provides an [SSL](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-cluster-creation-via-arm) for hello HTTPS management API and for Service Fabric Explorer over HTTPS.</span></span>
<span data-ttu-id="b70ba-198">Você deve obter um nome de domínio personalizado para seu cluster.</span><span class="sxs-lookup"><span data-stu-id="b70ba-198">You must obtain a custom domain name for your cluster.</span></span> <span data-ttu-id="b70ba-199">Quando você solicitar um certificado de uma autoridade de certificação, hello nome da entidade do certificado deve corresponder nome de domínio personalizado de saudação que você pode usar para seu cluster.</span><span class="sxs-lookup"><span data-stu-id="b70ba-199">When you request a certificate from a CA, hello certificate's subject name must match hello custom domain name that you use for your cluster.</span></span>

<span data-ttu-id="b70ba-200">tooconfigure SSL para um aplicativo, você primeiro precisa tooget um certificado SSL assinado por uma autoridade de certificação (CA), um terceiro confiável que emite certificados para essa finalidade.</span><span class="sxs-lookup"><span data-stu-id="b70ba-200">tooconfigure SSL for an application, you first need tooget an SSL certificate that has been signed by a Certificate Authority (CA), a trusted third party who issues certificates for this purpose.</span></span> <span data-ttu-id="b70ba-201">Se você ainda não tiver um, será necessário tooobtain uma empresa que vende certificados SSL.</span><span class="sxs-lookup"><span data-stu-id="b70ba-201">If you do not already have one, you need tooobtain one from a company that sells SSL certificates.</span></span>

<span data-ttu-id="b70ba-202">certificado de saudação deve atender aos Olá seguindo os requisitos para certificados SSL no Azure:</span><span class="sxs-lookup"><span data-stu-id="b70ba-202">hello certificate must meet hello following requirements for SSL certificates in Azure:</span></span>
-   <span data-ttu-id="b70ba-203">certificado de saudação deve conter uma chave privada.</span><span class="sxs-lookup"><span data-stu-id="b70ba-203">hello certificate must contain a private key.</span></span>
-   <span data-ttu-id="b70ba-204">certificado de saudação deve ser criado para troca de chaves, exportável tooa arquivo de troca de informações pessoais (. pfx).</span><span class="sxs-lookup"><span data-stu-id="b70ba-204">hello certificate must be created for key exchange, exportable tooa Personal Information Exchange (.pfx) file.</span></span>
-   <span data-ttu-id="b70ba-205">Hello nome da entidade do certificado deve corresponder o serviço de nuvem do hello domínio usado tooaccess hello.</span><span class="sxs-lookup"><span data-stu-id="b70ba-205">hello certificate's subject name must match hello domain used tooaccess hello cloud service.</span></span> <span data-ttu-id="b70ba-206">Você não pode obter um certificado SSL de uma autoridade de certificação (CA) para o domínio do hello cloudapp.net.</span><span class="sxs-lookup"><span data-stu-id="b70ba-206">You cannot obtain an SSL certificate from a certificate authority (CA) for hello cloudapp.net domain.</span></span> <span data-ttu-id="b70ba-207">Você deve adquirir um toouse de nome de domínio personalizado ao seu serviço de acesso.</span><span class="sxs-lookup"><span data-stu-id="b70ba-207">You must acquire a custom domain name toouse when access your service.</span></span> <span data-ttu-id="b70ba-208">Quando você solicitar um certificado de uma autoridade de certificação, nome da entidade do certificado Olá deve corresponder Olá domínio personalizado nome usado tooaccess seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="b70ba-208">When you request a certificate from a CA, hello certificate's subject name must match hello custom domain name used tooaccess your application.</span></span> <span data-ttu-id="b70ba-209">Por exemplo, se o nome de domínio personalizado for contoso.com, você pode solicitar um certificado da autoridade de certificação para **.contoso.com** ou **www.contoso.com**</span><span class="sxs-lookup"><span data-stu-id="b70ba-209">For example, if your custom domain name is contoso.com you would request a certificate from your CA for **.contoso.com** or **www.contoso.com.**</span></span>
-   <span data-ttu-id="b70ba-210">certificado Olá deve usar um mínimo de criptografia de 2048 bits.</span><span class="sxs-lookup"><span data-stu-id="b70ba-210">hello certificate must use a minimum of 2048-bit encryption.</span></span>

<span data-ttu-id="b70ba-211">HTTP é não segura e é o assunto tooeavesdropping ataques porque hello dados sendo transferidos do servidor de web Olá web navegador toohello ou outros pontos de extremidade são transmitidos em texto não criptografado.</span><span class="sxs-lookup"><span data-stu-id="b70ba-211">HTTP is insecure and is subject tooeavesdropping attacks because hello data being transferred from hello web browser toohello web server or between other endpoints, is transmitted in plaintext.</span></span> <span data-ttu-id="b70ba-212">Isso significa que os invasores podem interceptar e exibir dados confidenciais, como detalhes de cartão de crédito e logons de conta.</span><span class="sxs-lookup"><span data-stu-id="b70ba-212">This means attackers can intercept and view sensitive data, such as credit card details and account logins.</span></span> <span data-ttu-id="b70ba-213">Quando os dados são enviados ou postados em um navegador usando HTTPS, o protocolo SSL faz com que essas informações sejam criptografadas e fiquem protegidas contra interceptação.</span><span class="sxs-lookup"><span data-stu-id="b70ba-213">When data is sent or posted through a browser using HTTPS, SSL ensures that such information is encrypted and secure from interception.</span></span>

<span data-ttu-id="b70ba-214">Além disso, consulte toolearn, [configurar SSL para o aplicativo do azure](https://docs.microsoft.com/azure/cloud-services/cloud-services-configure-ssl-certificate).</span><span class="sxs-lookup"><span data-stu-id="b70ba-214">toolearn more, see, [Configure SSL for azure application](https://docs.microsoft.com/azure/cloud-services/cloud-services-configure-ssl-certificate).</span></span>

## <a name="network-isolationsecurity-with-azure-service-fabric"></a><span data-ttu-id="b70ba-215">Segurança/isolamento de Rede com o Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="b70ba-215">Network Isolation/Security with Azure Service Fabric</span></span>
<span data-ttu-id="b70ba-216">Use [modelo do Azure Resource Manager (ARM)](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-authoring-templates) como um exemplo para configurar um nodetype três cluster seguro e toocontrol Olá tráfego de rede de entrada e saída usando grupos de segurança de rede.</span><span class="sxs-lookup"><span data-stu-id="b70ba-216">Use [Azure Resource Manager (ARM) template](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-authoring-templates) as a sample for setting up a three nodetype secure cluster and toocontrol hello inbound and outbound network traffic using Network Security Groups.</span></span>

<span data-ttu-id="b70ba-217">Olá possui um grupo de segurança de rede para cada Olá escala set(VMSS) toocontrol Olá tráfego de máquina virtual dentro e fora de saudação VMSS.</span><span class="sxs-lookup"><span data-stu-id="b70ba-217">hello template has a Network Security Group for each of hello virtual machine scale set(VMSS) toocontrol hello traffic in and out of hello VMSS.</span></span> <span data-ttu-id="b70ba-218">Por padrão, Olá regras são configuradas tooallow que todos Olá tráfego necessário Olá sistema serviços e hello aplicativo portas especificadas no modelo de saudação.</span><span class="sxs-lookup"><span data-stu-id="b70ba-218">As a default, hello rules are set up tooallow all hello traffic needed by hello system services and hello application ports specified in hello template.</span></span> <span data-ttu-id="b70ba-219">Examine essas regras e fazer alterações toofit suas necessidades, incluindo adicionar os novos para seus aplicativos.</span><span class="sxs-lookup"><span data-stu-id="b70ba-219">Review those rules and make changes toofit your needs, including add any new ones for your applications.</span></span>

<span data-ttu-id="b70ba-220">Para saber mais, confira [Azure Service Fabric – cenários comuns de rede](https://docs.microsoft.com/azure/service-fabric/service-fabric-patterns-networking).</span><span class="sxs-lookup"><span data-stu-id="b70ba-220">For more information, see [Azure Service Fabric – Common Networking Scenarios](https://docs.microsoft.com/azure/service-fabric/service-fabric-patterns-networking).</span></span>

## <a name="set-up-a-key-vault-for-security"></a><span data-ttu-id="b70ba-221">Configurar um cofre de chaves de segurança</span><span class="sxs-lookup"><span data-stu-id="b70ba-221">Set up a key vault for security</span></span>
<span data-ttu-id="b70ba-222">Os certificados são usados em Service Fabric tooprovide toosecure de autenticação e criptografia vários aspectos de um cluster e seus aplicativos.</span><span class="sxs-lookup"><span data-stu-id="b70ba-222">Certificates are used in Service Fabric tooprovide authentication and encryption toosecure various aspects of a cluster and its applications.</span></span>

<span data-ttu-id="b70ba-223">Service Fabric usa toosecure de certificados x. 509 um cluster e fornecer recursos de segurança do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="b70ba-223">Service Fabric uses X.509 certificates toosecure a cluster and provide application security features.</span></span> <span data-ttu-id="b70ba-224">Usar o Cofre de chaves muito[gerenciar certificados](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure) para clusters de malha do serviço no Azure.</span><span class="sxs-lookup"><span data-stu-id="b70ba-224">You use Key Vault too[manage certificates](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure) for Service Fabric clusters in Azure.</span></span> <span data-ttu-id="b70ba-225">Quando um cluster é implantado no Azure, provedor de recursos do Azure de saudação que é responsável pela criação de clusters Service Fabric recebe certificados de Cofre de chaves e os instala no cluster Olá VMs.</span><span class="sxs-lookup"><span data-stu-id="b70ba-225">When a cluster is deployed in Azure, hello Azure resource provider that's responsible for creating Service Fabric clusters pulls certificates from Key Vault and installs them on hello cluster VMs.</span></span>

<span data-ttu-id="b70ba-226">Olá a relação entre [Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-secure-your-key-vault), um cluster do service fabric e o provedor de recursos do Azure Olá que usa certificados armazenados em um cofre de chaves ao criar um cluster.</span><span class="sxs-lookup"><span data-stu-id="b70ba-226">hello relationship between [Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-secure-your-key-vault), a service fabric cluster, and hello Azure resource provider that uses certificates stored in a key vault when it creates a cluster.</span></span>

<span data-ttu-id="b70ba-227">**Criar um grupo de recursos** Olá primeira etapa é toocreate um grupo de recursos especificamente para o Cofre de chaves.</span><span class="sxs-lookup"><span data-stu-id="b70ba-227">**Create a resource group** hello first step is toocreate a resource group specifically for your key vault.</span></span> <span data-ttu-id="b70ba-228">É recomendável que você coloque o Cofre de chaves de saudação em seu próprio grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="b70ba-228">We recommend that you put hello key vault into its own resource group.</span></span> <span data-ttu-id="b70ba-229">Essa ação permite remover Olá computação e armazenamento de grupos de recursos, incluindo o grupo de recursos de saudação que contém o cluster do Service Fabric, sem perder suas chaves e segredos.</span><span class="sxs-lookup"><span data-stu-id="b70ba-229">This action lets you remove hello compute and storage resource groups, including hello resource group that contains your Service Fabric cluster, without losing your keys and secrets.</span></span> <span data-ttu-id="b70ba-230">grupo de recursos de saudação que contém seu Cofre de chaves deve estar no hello mesma região Olá cluster que está em uso.</span><span class="sxs-lookup"><span data-stu-id="b70ba-230">hello resource group that contains your key vault must be in hello same region as hello cluster that is using it.</span></span>

<span data-ttu-id="b70ba-231">**Criar um cofre de chaves no novo grupo de recursos Olá** Cofre de chaves Olá deve ser habilitado para implantação tooallow Olá certificados de tooget de provedor de recursos de computação-lo e instalá-lo em instâncias de máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="b70ba-231">**Create a key vault in hello new resource group** hello key vault must be enabled for deployment tooallow hello compute resource provider tooget certificates from it and install it on virtual machine instances.</span></span>
<span data-ttu-id="b70ba-232">toolearn mais como consulte tooset o Cofre de chaves do Azure, [Introdução ao Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-get-started).</span><span class="sxs-lookup"><span data-stu-id="b70ba-232">toolearn more how tooset up Azure key vault see, [Get started with Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-get-started).</span></span>

## <a name="assign-users-roles"></a><span data-ttu-id="b70ba-233">Atribuir funções de usuários</span><span class="sxs-lookup"><span data-stu-id="b70ba-233">Assign users roles</span></span>
<span data-ttu-id="b70ba-234">Depois que você criou Olá aplicativos toorepresent seu cluster, atribuir usuários toohello funções com suporte do Service Fabric: somente leitura e administrador. Você pode atribuir funções hello usando Olá portal clássico do Azure.</span><span class="sxs-lookup"><span data-stu-id="b70ba-234">After you have created hello applications toorepresent your cluster, assign your users toohello roles supported by Service Fabric: read-only and admin. You can assign hello roles by using hello Azure classic portal.</span></span>

>[!Note]
> <span data-ttu-id="b70ba-235">Para saber mais sobre as funções no Service Fabric, veja [Controle de acesso baseado em função para clientes do Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-roles).</span><span class="sxs-lookup"><span data-stu-id="b70ba-235">For more information about roles in Service Fabric, see [Role-based access control for Service Fabric clients](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-roles).</span></span>

<span data-ttu-id="b70ba-236">Malha do serviço do Azure oferece suporte a dois tipos de controle de acesso diferentes para clientes que estão conectado tooa [cluster do Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm): administrador e usuário.</span><span class="sxs-lookup"><span data-stu-id="b70ba-236">Azure Service Fabric supports two different access control types for clients that are connected tooa [Service Fabric cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm): administrator and user.</span></span> <span data-ttu-id="b70ba-237">Controle de acesso permite Olá administrador toolimit acesso toocertain cluster as operações de cluster para diferentes grupos de usuários, tornando o cluster hello mais segura.</span><span class="sxs-lookup"><span data-stu-id="b70ba-237">Access control allows hello cluster administrator toolimit access toocertain cluster operations for different groups of users, making hello cluster more secure.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b70ba-238">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="b70ba-238">Next steps</span></span>
- <span data-ttu-id="b70ba-239">Configurando o [ambiente de desenvolvimento](https://docs.microsoft.com/azure/service-fabric/service-fabric-get-started).</span><span class="sxs-lookup"><span data-stu-id="b70ba-239">Setting up your Service Fabric [development environment](https://docs.microsoft.com/azure/service-fabric/service-fabric-get-started).</span></span>
- <span data-ttu-id="b70ba-240">Saiba mais sobre as [opções de suporte do Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-support).</span><span class="sxs-lookup"><span data-stu-id="b70ba-240">Learn about [Service Fabric support options](https://docs.microsoft.com/azure/service-fabric/service-fabric-support).</span></span>

