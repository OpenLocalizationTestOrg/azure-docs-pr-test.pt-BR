---
title: "práticas recomendadas de segurança do banco de dados aaaAzure | Microsoft Docs"
description: "Este artigo fornece um conjunto de melhores práticas de segurança do banco de dados do Azure."
services: security
documentationcenter: na
author: unifycloud
manager: swadhwa
editor: tomsh
ms.assetid: 
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/21/2017
ms.author: tomsh
ms.openlocfilehash: 78984291e8f74879c7f738e2ce3176c4be18d154
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-database-security-best-practices"></a><span data-ttu-id="29c4a-103">Melhores práticas de segurança do banco de dados do Azure</span><span class="sxs-lookup"><span data-stu-id="29c4a-103">Azure database security best practices</span></span>

<span data-ttu-id="29c4a-104">A segurança é uma das principais preocupações durante o gerenciamento de bancos de dados e sempre foi uma prioridade para o Banco de Dados SQL do Azure.</span><span class="sxs-lookup"><span data-stu-id="29c4a-104">Security is a top concern when managing databases, and it has always been a priority for Azure SQL Database.</span></span> <span data-ttu-id="29c4a-105">Os bancos de dados podem ser totalmente protegido toohelp atender mais normas ou requisitos de segurança, como HIPAA, ISO 27001/27002 e PCI DSS nível 1, entre outros.</span><span class="sxs-lookup"><span data-stu-id="29c4a-105">Your databases can be tightly secured toohelp satisfy most regulatory or security requirements, including HIPAA, ISO 27001/27002, and PCI DSS Level 1, among others.</span></span> <span data-ttu-id="29c4a-106">Uma lista atual das certificações de conformidade de segurança está disponível em Olá [site Microsoft Trust Center](http://azure.microsoft.com/support/trust-center/services/).</span><span class="sxs-lookup"><span data-stu-id="29c4a-106">A current list of security compliance certifications is available at hello [Microsoft Trust Center site](http://azure.microsoft.com/support/trust-center/services/).</span></span> <span data-ttu-id="29c4a-107">Você também pode escolher tooplace seus bancos de dados em datacenters do Azure específico com base em requisitos regulamentares.</span><span class="sxs-lookup"><span data-stu-id="29c4a-107">You also can choose tooplace your databases in specific Azure datacenters based on regulatory requirements.</span></span>

<span data-ttu-id="29c4a-108">Neste artigo, veremos uma coleção de melhores práticas de segurança de banco de dados do Azure.</span><span class="sxs-lookup"><span data-stu-id="29c4a-108">In this article, we will discuss a collection of Azure database security best practices.</span></span> <span data-ttu-id="29c4a-109">Essas práticas recomendadas são derivadas da nossa experiência com segurança de banco de dados do Azure e experiências de saudação de clientes, como por conta própria.</span><span class="sxs-lookup"><span data-stu-id="29c4a-109">These best practices are derived from our experience with Azure database security and hello experiences of customers like yourself.</span></span>

<span data-ttu-id="29c4a-110">Para cada prática recomendada, vamos explicar:</span><span class="sxs-lookup"><span data-stu-id="29c4a-110">For each best practice, we explain:</span></span>

-   <span data-ttu-id="29c4a-111">A prática recomendada que Olá é</span><span class="sxs-lookup"><span data-stu-id="29c4a-111">What hello best practice is</span></span>
-   <span data-ttu-id="29c4a-112">Por que você deseja tooenable essa prática recomendada</span><span class="sxs-lookup"><span data-stu-id="29c4a-112">Why you want tooenable that best practice</span></span>
-   <span data-ttu-id="29c4a-113">O que pode ser resultado de saudação se você não a prática recomendada de saudação tooenable</span><span class="sxs-lookup"><span data-stu-id="29c4a-113">What might be hello result if you fail tooenable hello best practice</span></span>
-   <span data-ttu-id="29c4a-114">Como você pode aprender a prática recomendada de saudação tooenable</span><span class="sxs-lookup"><span data-stu-id="29c4a-114">How you can learn tooenable hello best practice</span></span>

<span data-ttu-id="29c4a-115">Este artigo de práticas recomendadas de segurança de banco de dados do Azure baseia-se em uma opinião consenso e recursos de plataforma do Azure e conjuntos de recursos que existem em tempo de saudação que este artigo foi escrito.</span><span class="sxs-lookup"><span data-stu-id="29c4a-115">This Azure Database Security Best Practices article is based on a consensus opinion and Azure platform capabilities and feature sets as they exist at hello time this article was written.</span></span> <span data-ttu-id="29c4a-116">Tecnologias e opiniões alterar ao longo do tempo e este artigo será atualizado em um tooreflect regularmente essas alterações.</span><span class="sxs-lookup"><span data-stu-id="29c4a-116">Opinions and technologies change over time and this article will be updated on a regular basis tooreflect those changes.</span></span>

<span data-ttu-id="29c4a-117">As melhores práticas de segurança de banco de dados do Azure discutidas neste artigo incluem:</span><span class="sxs-lookup"><span data-stu-id="29c4a-117">Azure database security best practices discussed in this article include:</span></span>

-   <span data-ttu-id="29c4a-118">Use o acesso de banco de dados de toorestrict de regras de firewall</span><span class="sxs-lookup"><span data-stu-id="29c4a-118">Use firewall rules toorestrict database access</span></span>
-   <span data-ttu-id="29c4a-119">Habilitar a autenticação de banco de dados</span><span class="sxs-lookup"><span data-stu-id="29c4a-119">Enable database authentication</span></span>
-   <span data-ttu-id="29c4a-120">Proteger seus dados usando criptografia</span><span class="sxs-lookup"><span data-stu-id="29c4a-120">Protect your data using encryption</span></span>
-   <span data-ttu-id="29c4a-121">Proteger dados em trânsito</span><span class="sxs-lookup"><span data-stu-id="29c4a-121">Protect data in transit</span></span>
-   <span data-ttu-id="29c4a-122">Habilitar a auditoria do banco de dados</span><span class="sxs-lookup"><span data-stu-id="29c4a-122">Enable database auditing</span></span>
-   <span data-ttu-id="29c4a-123">Habilitar detecção de ameaças ao banco de dados</span><span class="sxs-lookup"><span data-stu-id="29c4a-123">Enable database threat detection</span></span>


## <a name="use-firewall-rules-toorestrict-database-access"></a><span data-ttu-id="29c4a-124">Use o acesso de banco de dados de toorestrict de regras de firewall</span><span class="sxs-lookup"><span data-stu-id="29c4a-124">Use firewall rules toorestrict database access</span></span>

<span data-ttu-id="29c4a-125">O Banco de Dados SQL do Microsoft Azure fornece um serviço de banco de dados relacional para o Azure e outros aplicativos baseados na Internet.</span><span class="sxs-lookup"><span data-stu-id="29c4a-125">Microsoft Azure SQL Database provides a relational database service for Azure and other Internet-based applications.</span></span> <span data-ttu-id="29c4a-126">tooprovide segurança de acesso, banco de dados SQL controla o acesso com regras de firewall limitando conectividade por endereço IP, os mecanismos de autenticação que requerem usuários tooprove sua identidade e mecanismos de autorização, limitando os usuários toospecific ações e dados.</span><span class="sxs-lookup"><span data-stu-id="29c4a-126">tooprovide access security, SQL Database controls access with firewall rules limiting connectivity by IP address, authentication mechanisms requiring users tooprove their identity, and authorization mechanisms limiting users toospecific actions and data.</span></span> <span data-ttu-id="29c4a-127">Firewalls impedir que todos os servidores de banco de dados do access tooyour até que você especifique quais computadores têm permissão.</span><span class="sxs-lookup"><span data-stu-id="29c4a-127">Firewalls prevent all access tooyour database server until you specify which computers have permission.</span></span> <span data-ttu-id="29c4a-128">firewall de saudação concede acesso toodatabases com base em Olá endereços IP de cada solicitação de origem.</span><span class="sxs-lookup"><span data-stu-id="29c4a-128">hello firewall grants access toodatabases based on hello originating IP address of each request.</span></span>

![Regras de firewall](./media/azure-database-security-best-practices/azure-database-security-best-practices-Fig1.png)

<span data-ttu-id="29c4a-130">Olá serviço de banco de dados SQL está disponível somente pela porta TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="29c4a-130">hello Azure SQL Database service is only available through TCP port 1433.</span></span> <span data-ttu-id="29c4a-131">tooaccess um banco de dados SQL do seu computador, verifique se o firewall do computador cliente permite a comunicação TCP de saída na porta TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="29c4a-131">tooaccess a SQL Database from your computer, ensure that your client computer firewall allows outgoing TCP communication on TCP port 1433.</span></span> <span data-ttu-id="29c4a-132">Se não for necessário a outros aplicativos, bloqueie as conexões de entrada na porta TCP 1433 usando regras de firewall.</span><span class="sxs-lookup"><span data-stu-id="29c4a-132">If not needed for other applications, block inbound connections on TCP port 1433 using firewall rules.</span></span>

<span data-ttu-id="29c4a-133">Como parte do processo de conexão de hello, conexões de máquinas virtuais do Azure são tooa redirecionado a outro endereço IP e porta exclusiva para cada função de trabalho.</span><span class="sxs-lookup"><span data-stu-id="29c4a-133">As part of hello connection process, connections from Azure virtual machines are redirected tooa different IP address and port, unique for each worker role.</span></span> <span data-ttu-id="29c4a-134">número da porta Hello está no intervalo de saudação do too11999 11000.</span><span class="sxs-lookup"><span data-stu-id="29c4a-134">hello port number is in hello range from 11000 too11999.</span></span> <span data-ttu-id="29c4a-135">Para obter mais informações sobre portas TCP, consulte [Portas além da 1433 para o ADO.NET 4.5 e o Banco de Dados SQL 2](https://docs.microsoft.com/azure/sql-database/sql-database-develop-direct-route-ports-adonet-v12).</span><span class="sxs-lookup"><span data-stu-id="29c4a-135">For more information about TCP ports, see [Ports beyond 1433 for ADO.NET 4.5 and SQL Database2](https://docs.microsoft.com/azure/sql-database/sql-database-develop-direct-route-ports-adonet-v12).</span></span>

> [!Note]
> <span data-ttu-id="29c4a-136">Para obter mais informações sobre as regras de firewall no Banco de Dados SQL, confira [Regras de firewall de Banco de Dados SQL](https://docs.microsoft.com/azure/sql-database/sql-database-firewall-configure).</span><span class="sxs-lookup"><span data-stu-id="29c4a-136">For more information about firewall rules in SQL Database, see [SQL Database firewall rules](https://docs.microsoft.com/azure/sql-database/sql-database-firewall-configure).</span></span>

## <a name="enable-database-authentication"></a><span data-ttu-id="29c4a-137">Habilitar a autenticação de banco de dados</span><span class="sxs-lookup"><span data-stu-id="29c4a-137">Enable database authentication</span></span>
<span data-ttu-id="29c4a-138">O Banco de Dados SQL dá suporte a dois tipos de autenticação: a autenticação do SQL e a autenticação do Azure AD (Autenticação do Azure Active Directory).</span><span class="sxs-lookup"><span data-stu-id="29c4a-138">SQL Database supports two types of authentication, SQL Authentication and Azure Active Directory Authentication (Azure AD Authentication).</span></span>

<span data-ttu-id="29c4a-139">A **Autenticação do SQL** é recomendável nos seguintes casos:</span><span class="sxs-lookup"><span data-stu-id="29c4a-139">**SQL Authentication** is recommended in following cases:</span></span>

-   <span data-ttu-id="29c4a-140">Ele permite que os ambientes do SQL Azure toosupport com sistemas operacionais mistos, onde todos os usuários não são autenticados por um domínio do Windows.</span><span class="sxs-lookup"><span data-stu-id="29c4a-140">It allows SQL Azure toosupport environments with mixed operating systems, where all users are not authenticated by a Windows domain.</span></span>
-   <span data-ttu-id="29c4a-141">Permite que aplicativos mais antigos do SQL Azure toosupport e aplicativos fornecidos por terceiros que exigem a autenticação do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="29c4a-141">Allows SQL Azure toosupport older applications and applications provided by third parties that require SQL Server Authentication.</span></span>
-   <span data-ttu-id="29c4a-142">Permite que os usuários tooconnect de domínios desconhecidos ou não confiáveis.</span><span class="sxs-lookup"><span data-stu-id="29c4a-142">Allows users tooconnect from unknown or untrusted domains.</span></span> <span data-ttu-id="29c4a-143">Por exemplo, um aplicativo em que os clientes estabelecidos se conectam com logons do SQL Server tooreceive Olá status atribuído das suas ordens.</span><span class="sxs-lookup"><span data-stu-id="29c4a-143">For instance, an application where established customers connect with assigned SQL Server logins tooreceive hello status of their orders.</span></span>
-   <span data-ttu-id="29c4a-144">Permite que o SQL Azure toosupport aplicativos baseados na Web onde os usuários criam suas próprias identidades.</span><span class="sxs-lookup"><span data-stu-id="29c4a-144">Allows SQL Azure toosupport Web-based applications where users create their own identities.</span></span>
-   <span data-ttu-id="29c4a-145">Permite que o software toodistribute desenvolvedores seus aplicativos por meio de uma hierarquia de permissões complexa com base no conhecido, predefinição logons do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="29c4a-145">Allows software developers toodistribute their applications by using a complex permission hierarchy based on known, preset SQL Server logins.</span></span>

> [!Note]
> <span data-ttu-id="29c4a-146">No entanto, a autenticação do SQL Server não pode usar o protocolo de segurança Kerberos.</span><span class="sxs-lookup"><span data-stu-id="29c4a-146">However, SQL Server Authentication cannot use Kerberos security protocol.</span></span>

<span data-ttu-id="29c4a-147">Se você usa a **autenticação SQL**, deve:</span><span class="sxs-lookup"><span data-stu-id="29c4a-147">If you use **SQL Authentication** you must:</span></span>

-   <span data-ttu-id="29c4a-148">Gerencie credenciais fortes hello.</span><span class="sxs-lookup"><span data-stu-id="29c4a-148">Manage hello strong credentials yourself.</span></span>
-   <span data-ttu-id="29c4a-149">Protege credenciais Olá na cadeia de caracteres de conexão de saudação.</span><span class="sxs-lookup"><span data-stu-id="29c4a-149">Protect hello credentials in hello connection string.</span></span>
-   <span data-ttu-id="29c4a-150">(Possivelmente) protege credenciais Olá passadas pela rede de saudação do Olá Web server toohello banco de dados.</span><span class="sxs-lookup"><span data-stu-id="29c4a-150">(Potentially) protect hello credentials passed over hello network from hello Web server toohello database.</span></span> <span data-ttu-id="29c4a-151">Para obter mais informações, consulte [como: conectar-se tooSQL Server usando a autenticação do SQL no ASP.NET 2.0](https://msdn.microsoft.com/library/ms998300.aspx).</span><span class="sxs-lookup"><span data-stu-id="29c4a-151">For more information see [how to: Connect tooSQL Server Using SQL Authentication in ASP.NET 2.0](https://msdn.microsoft.com/library/ms998300.aspx).</span></span>

<span data-ttu-id="29c4a-152">**Autenticação do Active Directory do Azure** é um mecanismo de conexão tooMicrosoft banco de dados do SQL Azure e [SQL Data Warehouse](https://docs.microsoft.com/azure/sql-data-warehouse/sql-data-warehouse-overview-what-is) usando as identidades no Azure Active Directory (AD do Azure).</span><span class="sxs-lookup"><span data-stu-id="29c4a-152">**Azure Active Directory authentication** is a mechanism of connecting tooMicrosoft Azure SQL Database and [SQL Data Warehouse](https://docs.microsoft.com/azure/sql-data-warehouse/sql-data-warehouse-overview-what-is) by using identities in Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="29c4a-153">Com a autenticação do AD do Azure, você pode gerenciar centralmente as identidades de saudação de usuários de banco de dados e outros serviços da Microsoft em um local central.</span><span class="sxs-lookup"><span data-stu-id="29c4a-153">With Azure AD authentication, you can centrally manage hello identities of database users and other Microsoft services in one central location.</span></span> <span data-ttu-id="29c4a-154">Central de gerenciamento de ID fornece um único local toomanage usuários de banco de dados e simplifica o gerenciamento de permissões.</span><span class="sxs-lookup"><span data-stu-id="29c4a-154">Central ID management provides a single place toomanage database users and simplifies permission management.</span></span> <span data-ttu-id="29c4a-155">Os benefícios incluem o seguinte hello:</span><span class="sxs-lookup"><span data-stu-id="29c4a-155">Benefits include hello following:</span></span>

-   <span data-ttu-id="29c4a-156">Ele fornece uma autenticação de servidor tooSQL alternativo.</span><span class="sxs-lookup"><span data-stu-id="29c4a-156">It provides an alternative tooSQL Server authentication.</span></span>
-   <span data-ttu-id="29c4a-157">Ajuda a parar a proliferação de saudação de identidades de usuário entre os servidores de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="29c4a-157">Helps stop hello proliferation of user identities across database servers.</span></span>
-   <span data-ttu-id="29c4a-158">Permite o rodízio de senhas em um único lugar.</span><span class="sxs-lookup"><span data-stu-id="29c4a-158">Allows password rotation in a single place.</span></span>
-   <span data-ttu-id="29c4a-159">Os clientes podem gerenciar permissões de banco de dados usando grupos (AAD) externos.</span><span class="sxs-lookup"><span data-stu-id="29c4a-159">Customers can manage database permissions using external (AAD) groups.</span></span>
-   <span data-ttu-id="29c4a-160">Pode eliminar o armazenamento de senhas, permitindo a autenticação integrada do Windows e outras formas de autenticação às quais o Active Directory do Azure dá suporte.</span><span class="sxs-lookup"><span data-stu-id="29c4a-160">It can eliminate storing passwords by enabling integrated Windows authentication and other forms of authentication supported by Azure Active Directory.</span></span>
-   <span data-ttu-id="29c4a-161">Autenticação do Azure AD usa identidades de tooauthenticate de usuários de banco de dados independente em nível de banco de dados de saudação.</span><span class="sxs-lookup"><span data-stu-id="29c4a-161">Azure AD authentication uses contained database users tooauthenticate identities at hello database level.</span></span>
-   <span data-ttu-id="29c4a-162">O AD do Azure dá suporte à autenticação baseada em token para aplicativos que se conectam tooSQL banco de dados.</span><span class="sxs-lookup"><span data-stu-id="29c4a-162">Azure AD supports token-based authentication for applications connecting tooSQL Database.</span></span>
-   <span data-ttu-id="29c4a-163">A autenticação do Azure AD dá suporte ao ADFS (federação de domínio) ou à autenticação nativa de senha/usuário para um local do Azure Active Directory sem a sincronização de domínio.</span><span class="sxs-lookup"><span data-stu-id="29c4a-163">Azure AD authentication supports ADFS (domain federation) or native user/password authentication for a local Azure Active Directory without domain synchronization.</span></span>
-   <span data-ttu-id="29c4a-164">O Azure AD dá suporte a conexões do SQL Server Management Studio que usam a Autenticação Universal do Active Directory, que inclui o MFA (Autenticação Multifator).</span><span class="sxs-lookup"><span data-stu-id="29c4a-164">Azure AD supports connections from SQL Server Management Studio that use Active Directory Universal Authentication, which includes Multi-Factor Authentication (MFA).</span></span> <span data-ttu-id="29c4a-165">A MFA inclui autenticação eficiente com uma variedade de opções de verificação fáceis como chamada telefônica, mensagem de texto, cartões inteligentes com PIN ou notificação por aplicativos móveis.</span><span class="sxs-lookup"><span data-stu-id="29c4a-165">MFA includes strong authentication with a range of easy verification options — phone call, text message, smart cards with pin, or mobile app notification.</span></span> <span data-ttu-id="29c4a-166">Para saber mais, confira [Suporte do SSMS para MFA do Azure AD com o Banco de Dados SQL e o SQL Data Warehouse](https://docs.microsoft.com/azure/sql-database/sql-database-ssms-mfa-authentication).</span><span class="sxs-lookup"><span data-stu-id="29c4a-166">For more information, see [SSMS support for Azure AD MFA with SQL Database and SQL Data Warehouse](https://docs.microsoft.com/azure/sql-database/sql-database-ssms-mfa-authentication).</span></span>

<span data-ttu-id="29c4a-167">etapas de configuração de saudação incluem hello tooconfigure procedimentos a seguir e usam a autenticação do Active Directory do Azure.</span><span class="sxs-lookup"><span data-stu-id="29c4a-167">hello configuration steps include hello following procedures tooconfigure and use Azure Active Directory authentication.</span></span>

-   <span data-ttu-id="29c4a-168">Criar e popular o Azure AD.</span><span class="sxs-lookup"><span data-stu-id="29c4a-168">Create and populate Azure AD.</span></span>
-   <span data-ttu-id="29c4a-169">Opcional: Associar ou alterar Olá active directory que está associado a sua assinatura do Azure.</span><span class="sxs-lookup"><span data-stu-id="29c4a-169">Optional: Associate or change hello active directory that is currently associated with your    Azure Subscription.</span></span>
-   <span data-ttu-id="29c4a-170">Crie um administrador do Azure Active Directory para o Azure SQL Server ou o [SQL Data Warehouse do Azure](https://azure.microsoft.com/services/sql-data-warehouse/).</span><span class="sxs-lookup"><span data-stu-id="29c4a-170">Create an Azure Active Directory administrator for Azure SQL server or [Azure SQL Data Warehouse](https://azure.microsoft.com/services/sql-data-warehouse/).</span></span>
- <span data-ttu-id="29c4a-171">Configure os computadores cliente.</span><span class="sxs-lookup"><span data-stu-id="29c4a-171">Configure your client computers.</span></span>
-   <span data-ttu-id="29c4a-172">Crie usuários de banco de dados independente em seu banco de dados mapeado tooAzure identidades do AD.</span><span class="sxs-lookup"><span data-stu-id="29c4a-172">Create contained database users in your database mapped tooAzure AD identities.</span></span>
-   <span data-ttu-id="29c4a-173">Conecte o banco de dados de tooyour usando identidades do AD do Azure.</span><span class="sxs-lookup"><span data-stu-id="29c4a-173">Connect tooyour database by using Azure AD identities.</span></span>

<span data-ttu-id="29c4a-174">Você pode encontrar informações detalhadas [aqui](https://docs.microsoft.com/azure/sql-database/sql-database-aad-authentication).</span><span class="sxs-lookup"><span data-stu-id="29c4a-174">You can find details information [here](https://docs.microsoft.com/azure/sql-database/sql-database-aad-authentication).</span></span>

## <a name="protect-your-data-using-encryption"></a><span data-ttu-id="29c4a-175">Proteger seus dados usando criptografia</span><span class="sxs-lookup"><span data-stu-id="29c4a-175">Protect your data using encryption</span></span>

<span data-ttu-id="29c4a-176">[Criptografia de dados transparente de banco de dados SQL do Azure (TDE)](https://msdn.microsoft.com/library/dn948096.aspx) ajuda a proteger contra a ameaça de saudação de atividades mal-intencionadas executando criptografia em tempo real e a descriptografia do banco de dados de hello, backups associados, e arquivos de log de transações em repouso sem necessidade de alterações toohello aplicativo.</span><span class="sxs-lookup"><span data-stu-id="29c4a-176">[Azure SQL Database transparent data encryption (TDE)](https://msdn.microsoft.com/library/dn948096.aspx) helps protect against hello threat of malicious activity by performing real-time encryption and decryption of hello database, associated backups, and transaction log files at rest without requiring changes toohello application.</span></span> <span data-ttu-id="29c4a-177">Ela criptografa o armazenamento de saudação de um banco de dados inteiro usando uma chave de criptografia de banco de dados de saudação de chamada de chave simétrica.</span><span class="sxs-lookup"><span data-stu-id="29c4a-177">TDE encrypts hello storage of an entire database by using a symmetric key called hello database encryption key.</span></span>

<span data-ttu-id="29c4a-178">Mesmo quando o armazenamento inteiro Olá é criptografado, é muito importante tooalso criptografar seu próprio banco de dados.</span><span class="sxs-lookup"><span data-stu-id="29c4a-178">Even when hello entire storage is encrypted, it is very important tooalso encrypt your database itself.</span></span> <span data-ttu-id="29c4a-179">Esta é uma implementação de defesa Olá abordagem em camadas para a proteção de dados.</span><span class="sxs-lookup"><span data-stu-id="29c4a-179">This is an implementation of hello defense in depth approach for data protection.</span></span> <span data-ttu-id="29c4a-180">Se você estiver usando o banco de dados do SQL Azure e deseja que os dados confidenciais, como números de previdência social ou de cartão de crédito tooprotect, você pode criptografar os bancos de dados com a criptografia AES de 256 bits de 140-2 validados de FIPS que atende aos requisitos de saudação de muitos padrões do setor (por exemplo, HIPAA, PCI).</span><span class="sxs-lookup"><span data-stu-id="29c4a-180">If you are using Azure SQL Database and wish tooprotect sensitive data such as credit card or social security numbers, you can encrypt databases with FIPS 140-2 validated 256 bit AES encryption which meets hello requirements of many industry standards (e.g., HIPAA, PCI).</span></span>

<span data-ttu-id="29c4a-181">É importante toounderstand arquivos relacionados muito[buffer pool BPE (extensão)](https://docs.microsoft.com/sql/database-engine/configure-windows/buffer-pool-extension) não são criptografados quando um banco de dados é criptografado usando TDE.</span><span class="sxs-lookup"><span data-stu-id="29c4a-181">It’s important toounderstand that files related too[buffer pool extension (BPE)](https://docs.microsoft.com/sql/database-engine/configure-windows/buffer-pool-extension) are not encrypted when a database is encrypted using TDE.</span></span> <span data-ttu-id="29c4a-182">Você deve usar ferramentas de criptografia no nível do sistema de arquivos como [BitLocker](https://technet.microsoft.com/library/cc732774) ou hello [Encrypting File System (EFS)](https://technet.microsoft.com/library/cc700811.aspx) para BPE arquivos relacionados.</span><span class="sxs-lookup"><span data-stu-id="29c4a-182">You must use file system level encryption tools like [BitLocker](https://technet.microsoft.com/library/cc732774) or hello [Encrypting File System (EFS)](https://technet.microsoft.com/library/cc700811.aspx) for BPE related files.</span></span>

<span data-ttu-id="29c4a-183">Desde que um usuário autorizado, como um administrador de segurança ou um administrador de banco de dados pode acessar dados hello, mesmo se o banco de dados de saudação é criptografado com TDE, você também deve seguir as recomendações de saudação abaixo:</span><span class="sxs-lookup"><span data-stu-id="29c4a-183">Since an authorized user such as a security administrator or a database administrator can access hello data even if hello database is encrypted with TDE, you should also follow hello recommendations below:</span></span>

-   <span data-ttu-id="29c4a-184">Habilite a autenticação do SQL no nível de banco de dados de saudação.</span><span class="sxs-lookup"><span data-stu-id="29c4a-184">Enable SQL authentication at hello database level.</span></span>
-   <span data-ttu-id="29c4a-185">Use a autenticação do Azure AD com [funções RBAC](https://docs.microsoft.com/azure/active-directory/role-based-access-control-what-is).</span><span class="sxs-lookup"><span data-stu-id="29c4a-185">Use Azure AD authentication using [RBAC roles](https://docs.microsoft.com/azure/active-directory/role-based-access-control-what-is).</span></span>
-   <span data-ttu-id="29c4a-186">Os usuários e aplicativos devem usar tooauthenticate contas separadas.</span><span class="sxs-lookup"><span data-stu-id="29c4a-186">Users and applications should use separate accounts tooauthenticate.</span></span> <span data-ttu-id="29c4a-187">Dessa forma, você pode limitar as permissões de saudação concedidas toousers e aplicativos e reduzir os riscos de saudação de atividade mal-intencionada.</span><span class="sxs-lookup"><span data-stu-id="29c4a-187">This way you can limit hello permissions granted toousers and applications and reduce hello risks of malicious activity.</span></span>
-   <span data-ttu-id="29c4a-188">Implementar segurança em nível de banco de dados usando as funções de banco de dados fixa (como db_datareader ou db_datawriter), ou você pode criar funções personalizadas para seu aplicativo toogrant objetos de banco de dados de tooselected permissões explícitas.</span><span class="sxs-lookup"><span data-stu-id="29c4a-188">Implement database-level security by using fixed database roles (such as db_datareader or db_datawriter), or you can create custom roles for your application toogrant explicit permissions tooselected database objects.</span></span>

<span data-ttu-id="29c4a-189">Para outra maneiras tooencrypt seus dados, considere:</span><span class="sxs-lookup"><span data-stu-id="29c4a-189">For other ways tooencrypt your data, consider:</span></span>

-   <span data-ttu-id="29c4a-190">[Criptografia em nível de célula](https://msdn.microsoft.com/library/ms179331.aspx) tooencrypt colunas específicas ou mesmo células de dados com diferentes chaves de criptografia.</span><span class="sxs-lookup"><span data-stu-id="29c4a-190">[Cell-level encryption](https://msdn.microsoft.com/library/ms179331.aspx) tooencrypt specific columns or even cells of data with different encryption keys.</span></span>
-   <span data-ttu-id="29c4a-191">Criptografia em uso usando o sempre criptografado: [sempre criptografado](https://msdn.microsoft.com/library/mt163865.aspx) permite que os clientes tooencrypt os dados confidenciais em aplicativos de cliente e nunca revelem toohello chaves de criptografia Olá mecanismo de banco de dados (banco de dados SQL ou SQL Server).</span><span class="sxs-lookup"><span data-stu-id="29c4a-191">Encryption in use using Always Encrypted: [Always Encrypted](https://msdn.microsoft.com/library/mt163865.aspx) allows clients tooencrypt sensitive data inside client applications and never reveal hello encryption keys toohello Database Engine (SQL Database or SQL Server).</span></span> <span data-ttu-id="29c4a-192">Como resultado, sempre criptografado fornece uma separação entre aqueles que possuem dados saudação (e podem exibi-lo) e aqueles que gerenciam dados de saudação (mas não devem ter acesso).</span><span class="sxs-lookup"><span data-stu-id="29c4a-192">As a result, Always Encrypted provides a separation between those who own hello data (and can view it) and those who manage hello data (but should have no access).</span></span>
-   <span data-ttu-id="29c4a-193">Usando a segurança de nível de linha: segurança de nível de linha permite que os clientes toocontrol acesso toorows em uma tabela de banco de dados com base em características de saudação do usuário Olá executando uma consulta (por exemplo, grupo associação ou contexto de execução).</span><span class="sxs-lookup"><span data-stu-id="29c4a-193">Using Row-level security: Row-Level Security enables customers toocontrol access toorows in a database table based on hello characteristics of hello user executing a query (e.g., group membership or execution context).</span></span> <span data-ttu-id="29c4a-194">Para saber mais, confira [Segurança em nível de linha](https://msdn.microsoft.com/library/dn765131).</span><span class="sxs-lookup"><span data-stu-id="29c4a-194">For more information, see [Row-Level security](https://msdn.microsoft.com/library/dn765131).</span></span>

## <a name="protect-data-in-transit"></a><span data-ttu-id="29c4a-195">Proteger dados em trânsito</span><span class="sxs-lookup"><span data-stu-id="29c4a-195">Protect data in transit</span></span>
<span data-ttu-id="29c4a-196">A proteção dos dados em trânsito deve ser parte essencial de sua estratégia de proteção de dados.</span><span class="sxs-lookup"><span data-stu-id="29c4a-196">Protecting data in transit should be essential part of your data protection strategy.</span></span> <span data-ttu-id="29c4a-197">Desde que os dados serão movendo alternadas em vários locais, a recomendação geral Olá é sempre usar dados de tooexchange protocolos SSL/TLS em diferentes locais.</span><span class="sxs-lookup"><span data-stu-id="29c4a-197">Since data will be moving back and forth from many locations, hello general recommendation is that you always use SSL/TLS protocols tooexchange data across different locations.</span></span> <span data-ttu-id="29c4a-198">Em algumas circunstâncias, talvez seja o canal de comunicação inteira Olá tooisolate entre seu local e nuvem infraestrutura usando uma rede virtual privada (VPN).</span><span class="sxs-lookup"><span data-stu-id="29c4a-198">In some circumstances, you may want tooisolate hello entire communication channel between your on-premises and cloud infrastructure by using a virtual private network (VPN).</span></span>

<span data-ttu-id="29c4a-199">Para dados que se movem entre sua infraestrutura local e o Azure, você deve considerar proteções adequadas, como HTTPS ou VPN.</span><span class="sxs-lookup"><span data-stu-id="29c4a-199">For data moving between your on-premises infrastructure and Azure, you should consider appropriate safeguards such as HTTPS or VPN.</span></span>

<span data-ttu-id="29c4a-200">Para organizações que precisam de acesso toosecure de vários tooAzure localizado no local de estações de trabalho, use [VPN site a site do Azure](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-site-to-site-create).</span><span class="sxs-lookup"><span data-stu-id="29c4a-200">For organizations that need toosecure access from multiple workstations located on-premises tooAzure, use [Azure site-to-site VPN](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-site-to-site-create).</span></span>

<span data-ttu-id="29c4a-201">Para organizações que precisam de toosecure o acesso de estações de trabalho individuais localizados no local ou externamente tooAzure, considere o uso de [ponto a Site VPN](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-point-to-site-create).</span><span class="sxs-lookup"><span data-stu-id="29c4a-201">For organizations that need toosecure access from individual workstations located on-premises or off-premises tooAzure, consider using [Point-to-Site VPN](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-point-to-site-create).</span></span>

<span data-ttu-id="29c4a-202">Conjuntos de dados maiores podem ser movidos em um link WAN de alta velocidade dedicado, como o [ExpressRoute](https://azure.microsoft.com/services/expressroute/).</span><span class="sxs-lookup"><span data-stu-id="29c4a-202">Larger data sets can be moved over a dedicated high-speed WAN link such as [ExpressRoute](https://azure.microsoft.com/services/expressroute/).</span></span> <span data-ttu-id="29c4a-203">Se você escolher toouse rota expressa, você também pode criptografar dados Olá no nível do aplicativo, Olá usando [SSL/TLS](https://support.microsoft.com/kb/257591) ou outros protocolos para proteção adicional.</span><span class="sxs-lookup"><span data-stu-id="29c4a-203">If you choose toouse ExpressRoute, you can also encrypt hello data at hello application-level using [SSL/TLS](https://support.microsoft.com/kb/257591) or other protocols for added protection.</span></span>

<span data-ttu-id="29c4a-204">Se você estiver interagindo com o armazenamento do Azure por meio de saudação Portal do Azure, todas as transações ocorrem por meio de HTTPS.</span><span class="sxs-lookup"><span data-stu-id="29c4a-204">If you are interacting with Azure Storage through hello Azure Portal, all transactions occur via HTTPS.</span></span> <span data-ttu-id="29c4a-205">[API de REST do armazenamento](https://msdn.microsoft.com/library/azure/dd179355.aspx) via HTTPS também pode ser o toointeract usado com [armazenamento do Azure](https://azure.microsoft.com/services/storage/) e [banco de dados do SQL Azure](https://azure.microsoft.com/services/sql-database/).</span><span class="sxs-lookup"><span data-stu-id="29c4a-205">[Storage REST API](https://msdn.microsoft.com/library/azure/dd179355.aspx) over HTTPS can also be used toointeract with [Azure Storage](https://azure.microsoft.com/services/storage/) and [Azure SQL Database](https://azure.microsoft.com/services/sql-database/).</span></span>

<span data-ttu-id="29c4a-206">As organizações que não tooprotect dados em trânsito são mais suscetíveis para [ataques man-in-the-middle](https://technet.microsoft.com/library/gg195821.aspx), [espionagem](https://technet.microsoft.com/library/gg195641.aspx) e sequestro de sessão.</span><span class="sxs-lookup"><span data-stu-id="29c4a-206">Organizations that fail tooprotect data in transit are more susceptible for [man-in-the-middle attacks](https://technet.microsoft.com/library/gg195821.aspx), [eavesdropping](https://technet.microsoft.com/library/gg195641.aspx) and session hijacking.</span></span> <span data-ttu-id="29c4a-207">Esses ataques podem ser a primeira etapa Olá na obtenção de dados do access tooconfidential.</span><span class="sxs-lookup"><span data-stu-id="29c4a-207">These attacks can be hello first step in gaining access tooconfidential data.</span></span>

<span data-ttu-id="29c4a-208">mais informações sobre a opção de VPN do Azure ao ler o artigo de saudação do toolearn [de planejamento e design para o Gateway de VPN](https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-plan-design).</span><span class="sxs-lookup"><span data-stu-id="29c4a-208">toolearn more about Azure VPN option by reading hello article [Planning and design for VPN Gateway](https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-plan-design).</span></span>

## <a name="enable-database-auditing"></a><span data-ttu-id="29c4a-209">Habilitar a auditoria do banco de dados</span><span class="sxs-lookup"><span data-stu-id="29c4a-209">Enable database auditing</span></span>
<span data-ttu-id="29c4a-210">Auditoria de uma instância de saudação mecanismo de banco de dados do SQL Server ou um banco de dados individual envolve o acompanhamento e log de eventos que ocorrem no hello mecanismo de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="29c4a-210">Auditing an instance of hello SQL Server Database Engine or an individual database involves tracking and logging events that occur on hello Database Engine.</span></span> <span data-ttu-id="29c4a-211">A auditoria do SQL Server permite criar auditorias de servidor, que podem conter especificações de auditoria de servidor para eventos no nível do servidor e especificações de auditoria de banco de dados para eventos no nível do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="29c4a-211">SQL Server audit lets you create server audits, which can contain server audit specifications for server level events, and database audit specifications for database level events.</span></span> <span data-ttu-id="29c4a-212">Os eventos auditados podem ser gravados os logs de eventos de toohello ou tooaudit arquivos.</span><span class="sxs-lookup"><span data-stu-id="29c4a-212">Audited events can be written toohello event logs or tooaudit files.</span></span>

<span data-ttu-id="29c4a-213">Há vários níveis de auditoria do SQL Server, dependendo dos requisitos padrão ou governamentais de sua instalação.</span><span class="sxs-lookup"><span data-stu-id="29c4a-213">There are several levels of auditing for SQL Server, depending on government or standards requirements for your installation.</span></span> <span data-ttu-id="29c4a-214">Auditoria do SQL Server fornece ferramentas de saudação e os processos que você deve ter tooenable, armazenamento e exibir auditorias em vários objetos de servidor e banco de dados.</span><span class="sxs-lookup"><span data-stu-id="29c4a-214">SQL Server Audit provides hello tools and processes you must have tooenable, store, and view audits on various server and database objects.</span></span>

<span data-ttu-id="29c4a-215">[Auditoria de banco de dados SQL do Azure](https://docs.microsoft.com/azure/sql-database/sql-database-auditing) rastreia eventos de banco de dados e grava o log de auditoria tooan em sua conta de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="29c4a-215">[Azure SQL Database Auditing](https://docs.microsoft.com/azure/sql-database/sql-database-auditing) tracks database events and writes them tooan audit log in your Azure Storage account.</span></span>

<span data-ttu-id="29c4a-216">A auditoria pode ajudar você a manter uma conformidade regulatória, a entender a atividade do banco de dados e a obter informações sobre discrepâncias e anomalias que poderiam indicar preocupações de negócios ou suspeitas de violações de segurança.</span><span class="sxs-lookup"><span data-stu-id="29c4a-216">Auditing can help you maintain regulatory compliance, understand database activity, and gain insight into discrepancies and anomalies that could indicate business concerns or suspected security violations.</span></span>

<span data-ttu-id="29c4a-217">A auditoria permite e facilita a padrões de toocompliance aderência mas não garante conformidade.</span><span class="sxs-lookup"><span data-stu-id="29c4a-217">Auditing enables and facilitates adherence toocompliance standards but doesn't guarantee compliance.</span></span>

<span data-ttu-id="29c4a-218">toolearn mais sobre a auditoria de banco de dados e como tooenable, leia o artigo de saudação [ativar a detecção de ameaças e auditoria em servidores SQL na Central de segurança do Azure](https://docs.microsoft.com/azure/security-center/security-center-enable-auditing-on-sql-servers).</span><span class="sxs-lookup"><span data-stu-id="29c4a-218">toolearn more about database auditing and how tooenable it, please read hello article [Enable auditing and threat detection on SQL servers in Azure Security Center](https://docs.microsoft.com/azure/security-center/security-center-enable-auditing-on-sql-servers).</span></span>

## <a name="enable-database-threat-detection"></a><span data-ttu-id="29c4a-219">Habilitar detecção de ameaças ao banco de dados</span><span class="sxs-lookup"><span data-stu-id="29c4a-219">Enable database threat detection</span></span>
<span data-ttu-id="29c4a-220">Detecção de ameaças SQL permite toodetect e responder a ameaças de toopotential conforme elas ocorrem, fornecendo alertas de segurança em atividades anormais.</span><span class="sxs-lookup"><span data-stu-id="29c4a-220">SQL Threat Detection enables you toodetect and respond toopotential threats as they occur by providing security alerts on anomalous activities.</span></span> <span data-ttu-id="29c4a-221">Você receberá um alerta em caso de atividades suspeitas em bancos de dados, possíveis vulnerabilidades e ataques de injeção de SQL, bem como padrões anômalos de acesso ao banco de dados.</span><span class="sxs-lookup"><span data-stu-id="29c4a-221">You will receive an alert upon suspicious database activities, potential vulnerabilities, and SQL injection attacks, as well as anomalous database access patterns.</span></span> <span data-ttu-id="29c4a-222">Alertas de detecção de ameaças SQL fornecer detalhes de atividade suspeita e recomendarão a ação sobre como tooinvestigate e atenuar a ameaça de saudação.</span><span class="sxs-lookup"><span data-stu-id="29c4a-222">SQL Threat Detection alerts provide details of suspicious activity and recommend action on how tooinvestigate and mitigate hello threat.</span></span>

<span data-ttu-id="29c4a-223">Por exemplo, injeção de SQL é um Olá Web aplicativo problemas de segurança comuns em Olá Internet, os aplicativos usados tooattack controladas por dados.</span><span class="sxs-lookup"><span data-stu-id="29c4a-223">For example, SQL injection is one of hello common Web application security issues on hello Internet, used tooattack data-driven applications.</span></span> <span data-ttu-id="29c4a-224">Os invasores tirar proveito de aplicativo vulnerabilidades tooinject de instruções SQL mal-intencionadas nos campos de entrada do aplicativo, serem violados ou modificar dados no banco de dados de saudação.</span><span class="sxs-lookup"><span data-stu-id="29c4a-224">Attackers take advantage of application vulnerabilities tooinject malicious SQL statements into application entry fields, breaching or modifying data in hello database.</span></span>

<span data-ttu-id="29c4a-225">toolearn sobre como tooset a detecção de ameaças do banco de dados em hello Azure portal, consulte [detecção de ameaças do banco de dados SQL](https://docs.microsoft.com/azure/sql-database/sql-database-threat-detection).</span><span class="sxs-lookup"><span data-stu-id="29c4a-225">toolearn about how tooset up threat detection for your database in hello Azure portal see, [SQL Database Threat Detection](https://docs.microsoft.com/azure/sql-database/sql-database-threat-detection).</span></span>

<span data-ttu-id="29c4a-226">Além disso, a Detecção de Ameaças do SQL integra seus alertas à [Central de Segurança do Azure](https://azure.microsoft.com/services/security-center/).</span><span class="sxs-lookup"><span data-stu-id="29c4a-226">In addition, SQL Threat Detection integrates alerts with [Azure Security Center](https://azure.microsoft.com/services/security-center/).</span></span> <span data-ttu-id="29c4a-227">Você está convidado tootry-lo por 60 dias para liberar.</span><span class="sxs-lookup"><span data-stu-id="29c4a-227">We invite you tootry it out for 60 days for free.</span></span>

<span data-ttu-id="29c4a-228">toolearn mais sobre a detecção de ameaças do banco de dados e como tooenable, leia o artigo de saudação [ativar a detecção de ameaças e auditoria em servidores SQL na Central de segurança do Azure](https://docs.microsoft.com/azure/security-center/security-center-enable-auditing-on-sql-servers).</span><span class="sxs-lookup"><span data-stu-id="29c4a-228">toolearn more about Database Threat Detection and how tooenable it, please read hello article [Enable auditing and threat detection on SQL servers in Azure Security Center](https://docs.microsoft.com/azure/security-center/security-center-enable-auditing-on-sql-servers).</span></span>

## <a name="conclusion"></a><span data-ttu-id="29c4a-229">Conclusão</span><span class="sxs-lookup"><span data-stu-id="29c4a-229">Conclusion</span></span>
<span data-ttu-id="29c4a-230">O Banco de Dados do Azure é uma plataforma robusta de banco de dados, com uma gama completa de recursos de segurança que atendem aos vários requisitos de conformidade organizacional e regulamentar.</span><span class="sxs-lookup"><span data-stu-id="29c4a-230">Azure Database is a robust database platform, with a full range of security features that meet many organizational and regulatory compliance requirements.</span></span> <span data-ttu-id="29c4a-231">Você pode ajudar a proteger dados, controlar dados de tooyour saudação acesso físico e, em seguida, usando uma variedade de opções de segurança de dados no arquivo hello-, coluna ou nível de linha com a criptografia transparente de dados, a criptografia no nível da célula ou a segurança em nível de linha.</span><span class="sxs-lookup"><span data-stu-id="29c4a-231">You can help protect data by controlling hello physical access tooyour data, and using a variety of options for data security at hello file-, column-, or row level with Transparent Data Encryption, Cell-Level Encryption, or Row-Level Security.</span></span> <span data-ttu-id="29c4a-232">Sempre criptografado também permite que as operações em relação aos dados criptografados, simplificando o processo de saudação de atualizações de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="29c4a-232">Always Encrypted also enables operations against encrypted data, simplifying hello process of application updates.</span></span> <span data-ttu-id="29c4a-233">Por sua vez, tooauditing acesso os logs de atividade de banco de dados SQL fornece informações de saudação for necessário, permitindo que você tooknow como e quando os dados são acessados.</span><span class="sxs-lookup"><span data-stu-id="29c4a-233">In turn, access tooauditing logs of SQL Database activity provides you with hello information you need, allowing you tooknow how and when data is accessed.</span></span>

## <a name="next-steps"></a><span data-ttu-id="29c4a-234">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="29c4a-234">Next steps</span></span>
- <span data-ttu-id="29c4a-235">toolearn mais informações sobre regras de firewall, consulte [as regras de Firewall](https://docs.microsoft.com/azure/sql-database/sql-database-firewall-configure).</span><span class="sxs-lookup"><span data-stu-id="29c4a-235">toolearn more about firewall rules, see [Firewall rules](https://docs.microsoft.com/azure/sql-database/sql-database-firewall-configure).</span></span>
- <span data-ttu-id="29c4a-236">toolearn sobre usuários e logons, consulte [gerenciar logons](https://docs.microsoft.com/azure/sql-database/sql-database-manage-logins).</span><span class="sxs-lookup"><span data-stu-id="29c4a-236">toolearn about users and logins, see [Manage logins](https://docs.microsoft.com/azure/sql-database/sql-database-manage-logins).</span></span>
- <span data-ttu-id="29c4a-237">Para obter um tutorial, consulte [Proteger o Banco de Dados SQL do Azure](https://docs.microsoft.com/azure/sql-database/sql-database-security-tutorial).</span><span class="sxs-lookup"><span data-stu-id="29c4a-237">For a tutorial, see [Secure your Azure SQL Database](https://docs.microsoft.com/azure/sql-database/sql-database-security-tutorial).</span></span>
