---
title: "aaaAuditing e registro em log - ferramenta de modelagem de ameaça Microsoft - Azure | Microsoft Docs"
description: "reduções de ameaças expostas em Olá, ferramenta de modelagem de ameaça"
services: security
documentationcenter: na
author: RodSan
manager: RodSan
editor: RodSan
ms.assetid: na
ms.service: security
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: rodsan
ms.openlocfilehash: f28988833eba251b6ceb8bbd47cde37e871af609
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="security-frame-auditing-and-logging--mitigations"></a><span data-ttu-id="bcb89-103">Quadro de segurança: Auditoria e log | Atenuações</span><span class="sxs-lookup"><span data-stu-id="bcb89-103">Security Frame: Auditing and Logging | Mitigations</span></span> 
| <span data-ttu-id="bcb89-104">Produto/Serviço</span><span class="sxs-lookup"><span data-stu-id="bcb89-104">Product/Service</span></span> | <span data-ttu-id="bcb89-105">Artigo</span><span class="sxs-lookup"><span data-stu-id="bcb89-105">Article</span></span> |
| --------------- | ------- |
| <span data-ttu-id="bcb89-106">**Dynamics CRM**</span><span class="sxs-lookup"><span data-stu-id="bcb89-106">**Dynamics CRM**</span></span>    | <ul><li>[<span data-ttu-id="bcb89-107">Identificar entidades sensíveis em sua solução e implementar a auditoria de alteração</span><span class="sxs-lookup"><span data-stu-id="bcb89-107">Identify sensitive entities in your solution and implement change auditing</span></span>](#sensitive-entities)</li></ul> |
| <span data-ttu-id="bcb89-108">**Aplicativo Web**</span><span class="sxs-lookup"><span data-stu-id="bcb89-108">**Web Application**</span></span> | <ul><li>[<span data-ttu-id="bcb89-109">Certifique-se de que a auditoria e registro em log é aplicado em aplicativo hello</span><span class="sxs-lookup"><span data-stu-id="bcb89-109">Ensure that auditing and logging is enforced on hello application</span></span>](#auditing)</li><li>[<span data-ttu-id="bcb89-110">Certifique-se de que a rotação de log e separação estão em vigor</span><span class="sxs-lookup"><span data-stu-id="bcb89-110">Ensure that log rotation and separation are in place</span></span>](#log-rotation)</li><li>[<span data-ttu-id="bcb89-111">Certifique-se de que o aplicativo hello não registra dados confidenciais do usuário</span><span class="sxs-lookup"><span data-stu-id="bcb89-111">Ensure that hello application does not log sensitive user data</span></span>](#log-sensitive-data)</li><li>[<span data-ttu-id="bcb89-112">Verifique se os arquivos de Log e auditoria tem acesso restrito</span><span class="sxs-lookup"><span data-stu-id="bcb89-112">Ensure that Audit and Log Files have Restricted Access</span></span>](#log-restricted-access)</li><li>[<span data-ttu-id="bcb89-113">Certifique-se de que os eventos de gerenciamento de usuário estão registrados</span><span class="sxs-lookup"><span data-stu-id="bcb89-113">Ensure that User Management Events are Logged</span></span>](#user-management)</li><li>[<span data-ttu-id="bcb89-114">Verifique se o sistema de saudação tem embutidas defesas contra uso indevido</span><span class="sxs-lookup"><span data-stu-id="bcb89-114">Ensure that hello system has inbuilt defenses against misuse</span></span>](#inbuilt-defenses)</li><li>[<span data-ttu-id="bcb89-115">Habilitar o registro em log de diagnóstico para aplicativos Web no Serviço de Aplicativo do Azure</span><span class="sxs-lookup"><span data-stu-id="bcb89-115">Enable diagnostics logging for web apps in Azure App Service</span></span>](#diagnostics-logging)</li></ul> |
| <span data-ttu-id="bcb89-116">**Banco de dados**</span><span class="sxs-lookup"><span data-stu-id="bcb89-116">**Database**</span></span> | <ul><li>[<span data-ttu-id="bcb89-117">Verifique se a auditoria de logon é habilitada no SQL Server</span><span class="sxs-lookup"><span data-stu-id="bcb89-117">Ensure that login auditing is enabled on SQL Server</span></span>](#identify-sensitive-entities)</li><li>[<span data-ttu-id="bcb89-118">Ativar a detecção de ameaças no SQL Azure</span><span class="sxs-lookup"><span data-stu-id="bcb89-118">Enable Threat detection on Azure SQL</span></span>](#threat-detection)</li></ul> |
| <span data-ttu-id="bcb89-119">**Armazenamento do Azure**</span><span class="sxs-lookup"><span data-stu-id="bcb89-119">**Azure Storage**</span></span> | <ul><li>[<span data-ttu-id="bcb89-120">Use o Azure Storage Analytics tooaudit acesso do armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="bcb89-120">Use Azure Storage Analytics tooaudit access of Azure Storage</span></span>](#analytics)</li></ul> |
| <span data-ttu-id="bcb89-121">**WCF**</span><span class="sxs-lookup"><span data-stu-id="bcb89-121">**WCF**</span></span> | <ul><li>[<span data-ttu-id="bcb89-122">Implementar o log suficiente</span><span class="sxs-lookup"><span data-stu-id="bcb89-122">Implement sufficient Logging</span></span>](#sufficient-logging)</li><li>[<span data-ttu-id="bcb89-123">Implementar o tratamento de falha de auditoria suficiente</span><span class="sxs-lookup"><span data-stu-id="bcb89-123">Implement sufficient Audit Failure Handling</span></span>](#audit-failure-handling)</li></ul> |
| <span data-ttu-id="bcb89-124">**API da Web**</span><span class="sxs-lookup"><span data-stu-id="bcb89-124">**Web API**</span></span> | <ul><li>[<span data-ttu-id="bcb89-125">Certifique-se de que a auditoria e registro em log é imposto no API da Web</span><span class="sxs-lookup"><span data-stu-id="bcb89-125">Ensure that auditing and logging is enforced on Web API</span></span>](#logging-web-api)</li></ul> |
| <span data-ttu-id="bcb89-126">**Gateway de Campo de IoT**</span><span class="sxs-lookup"><span data-stu-id="bcb89-126">**IoT Field Gateway**</span></span> | <ul><li>[<span data-ttu-id="bcb89-127">Certifique-se de que a auditoria e log apropriado é imposta no campo Gateway</span><span class="sxs-lookup"><span data-stu-id="bcb89-127">Ensure that appropriate auditing and logging is enforced on Field Gateway</span></span>](#logging-field-gateway)</li></ul> |
| <span data-ttu-id="bcb89-128">**Gateway de Nuvem IoT**</span><span class="sxs-lookup"><span data-stu-id="bcb89-128">**IoT Cloud Gateway**</span></span> | <ul><li>[<span data-ttu-id="bcb89-129">Certifique-se de que a auditoria e log apropriado é imposta no Gateway de nuvem</span><span class="sxs-lookup"><span data-stu-id="bcb89-129">Ensure that appropriate auditing and logging is enforced on Cloud Gateway</span></span>](#logging-cloud-gateway)</li></ul> |

## <span data-ttu-id="bcb89-130"><a id="sensitive-entities"></a>Identificar entidades sensíveis em sua solução e implementar a auditoria de alteração</span><span class="sxs-lookup"><span data-stu-id="bcb89-130"><a id="sensitive-entities"></a>Identify sensitive entities in your solution and implement change auditing</span></span>

| <span data-ttu-id="bcb89-131">Title</span><span class="sxs-lookup"><span data-stu-id="bcb89-131">Title</span></span>                   | <span data-ttu-id="bcb89-132">Detalhes</span><span class="sxs-lookup"><span data-stu-id="bcb89-132">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="bcb89-133">**Componente**</span><span class="sxs-lookup"><span data-stu-id="bcb89-133">**Component**</span></span>               | <span data-ttu-id="bcb89-134">Dynamics CRM</span><span class="sxs-lookup"><span data-stu-id="bcb89-134">Dynamics CRM</span></span> | 
| <span data-ttu-id="bcb89-135">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="bcb89-135">**SDL Phase**</span></span>               | <span data-ttu-id="bcb89-136">Compilação</span><span class="sxs-lookup"><span data-stu-id="bcb89-136">Build</span></span> |  
| <span data-ttu-id="bcb89-137">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="bcb89-137">**Applicable Technologies**</span></span> | <span data-ttu-id="bcb89-138">Genérico</span><span class="sxs-lookup"><span data-stu-id="bcb89-138">Generic</span></span> |
| <span data-ttu-id="bcb89-139">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="bcb89-139">**Attributes**</span></span>              | <span data-ttu-id="bcb89-140">N/D</span><span class="sxs-lookup"><span data-stu-id="bcb89-140">N/A</span></span>  |
| <span data-ttu-id="bcb89-141">**Referências**</span><span class="sxs-lookup"><span data-stu-id="bcb89-141">**References**</span></span>              | <span data-ttu-id="bcb89-142">N/D</span><span class="sxs-lookup"><span data-stu-id="bcb89-142">N/A</span></span>  |
| <span data-ttu-id="bcb89-143">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="bcb89-143">**Steps**</span></span>                   | <span data-ttu-id="bcb89-144">Identificar as entidades em sua solução que contém dados confidenciais e implementar a auditoria de alteração nessas entidades e campos</span><span class="sxs-lookup"><span data-stu-id="bcb89-144">Identify entities in your solution containing sensitive data and implement change auditing on those entities and fields</span></span> |

## <span data-ttu-id="bcb89-145"><a id="auditing"></a>Certifique-se de que a auditoria e registro em log é aplicado em aplicativo hello</span><span class="sxs-lookup"><span data-stu-id="bcb89-145"><a id="auditing"></a>Ensure that auditing and logging is enforced on hello application</span></span>

| <span data-ttu-id="bcb89-146">Title</span><span class="sxs-lookup"><span data-stu-id="bcb89-146">Title</span></span>                   | <span data-ttu-id="bcb89-147">Detalhes</span><span class="sxs-lookup"><span data-stu-id="bcb89-147">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="bcb89-148">**Componente**</span><span class="sxs-lookup"><span data-stu-id="bcb89-148">**Component**</span></span>               | <span data-ttu-id="bcb89-149">Aplicativo Web</span><span class="sxs-lookup"><span data-stu-id="bcb89-149">Web Application</span></span> | 
| <span data-ttu-id="bcb89-150">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="bcb89-150">**SDL Phase**</span></span>               | <span data-ttu-id="bcb89-151">Compilação</span><span class="sxs-lookup"><span data-stu-id="bcb89-151">Build</span></span> |  
| <span data-ttu-id="bcb89-152">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="bcb89-152">**Applicable Technologies**</span></span> | <span data-ttu-id="bcb89-153">Genérico</span><span class="sxs-lookup"><span data-stu-id="bcb89-153">Generic</span></span> |
| <span data-ttu-id="bcb89-154">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="bcb89-154">**Attributes**</span></span>              | <span data-ttu-id="bcb89-155">N/D</span><span class="sxs-lookup"><span data-stu-id="bcb89-155">N/A</span></span>  |
| <span data-ttu-id="bcb89-156">**Referências**</span><span class="sxs-lookup"><span data-stu-id="bcb89-156">**References**</span></span>              | <span data-ttu-id="bcb89-157">N/D</span><span class="sxs-lookup"><span data-stu-id="bcb89-157">N/A</span></span>  |
| <span data-ttu-id="bcb89-158">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="bcb89-158">**Steps**</span></span>                   | <span data-ttu-id="bcb89-159">Habilite a auditoria e log em todos os componentes.</span><span class="sxs-lookup"><span data-stu-id="bcb89-159">Enable auditing and logging on all components.</span></span> <span data-ttu-id="bcb89-160">Os logs de auditoria devem capturar o contexto do usuário.</span><span class="sxs-lookup"><span data-stu-id="bcb89-160">Audit logs should capture user context.</span></span> <span data-ttu-id="bcb89-161">Identifique todos os eventos importantes e registre em log esses eventos.</span><span class="sxs-lookup"><span data-stu-id="bcb89-161">Identify all important events and log those events.</span></span> <span data-ttu-id="bcb89-162">Implementar o log centralizado</span><span class="sxs-lookup"><span data-stu-id="bcb89-162">Implement centralized logging</span></span> |

## <span data-ttu-id="bcb89-163"><a id="log-rotation"></a>Certifique-se de que a rotação de log e separação estão em vigor</span><span class="sxs-lookup"><span data-stu-id="bcb89-163"><a id="log-rotation"></a>Ensure that log rotation and separation are in place</span></span>

| <span data-ttu-id="bcb89-164">Title</span><span class="sxs-lookup"><span data-stu-id="bcb89-164">Title</span></span>                   | <span data-ttu-id="bcb89-165">Detalhes</span><span class="sxs-lookup"><span data-stu-id="bcb89-165">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="bcb89-166">**Componente**</span><span class="sxs-lookup"><span data-stu-id="bcb89-166">**Component**</span></span>               | <span data-ttu-id="bcb89-167">Aplicativo Web</span><span class="sxs-lookup"><span data-stu-id="bcb89-167">Web Application</span></span> | 
| <span data-ttu-id="bcb89-168">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="bcb89-168">**SDL Phase**</span></span>               | <span data-ttu-id="bcb89-169">Compilação</span><span class="sxs-lookup"><span data-stu-id="bcb89-169">Build</span></span> |  
| <span data-ttu-id="bcb89-170">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="bcb89-170">**Applicable Technologies**</span></span> | <span data-ttu-id="bcb89-171">Genérico</span><span class="sxs-lookup"><span data-stu-id="bcb89-171">Generic</span></span> |
| <span data-ttu-id="bcb89-172">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="bcb89-172">**Attributes**</span></span>              | <span data-ttu-id="bcb89-173">N/D</span><span class="sxs-lookup"><span data-stu-id="bcb89-173">N/A</span></span>  |
| <span data-ttu-id="bcb89-174">**Referências**</span><span class="sxs-lookup"><span data-stu-id="bcb89-174">**References**</span></span>              | <span data-ttu-id="bcb89-175">N/D</span><span class="sxs-lookup"><span data-stu-id="bcb89-175">N/A</span></span>  |
| <span data-ttu-id="bcb89-176">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="bcb89-176">**Steps**</span></span>                   | <p><span data-ttu-id="bcb89-177">Rotação de log é um processo automatizado usado na administração do sistema no qual os arquivos de log datado são arquivados.</span><span class="sxs-lookup"><span data-stu-id="bcb89-177">Log rotation is an automated process used in system administration in which dated log files are archived.</span></span> <span data-ttu-id="bcb89-178">Servidores que executam aplicativos grandes geralmente registrar cada solicitação: face de saudação de registros volumosos, rotação do log é uma saudação toolimit de maneira tamanho total dos logs de saudação enquanto ainda permite que a análise dos eventos recentes.</span><span class="sxs-lookup"><span data-stu-id="bcb89-178">Servers which run large applications often log every request: in hello face of bulky logs, log rotation is a way toolimit hello total size of hello logs while still allowing analysis of recent events.</span></span> </p><p><span data-ttu-id="bcb89-179">Separação de log significa basicamente que você tenha toostore seus arquivos de log em uma partição diferente em que seu sistema operacional/aplicativo é executado na ordem tooavert uma negação de serviço de ataque ou Olá fazer downgrade do seu aplicativo, o desempenho</span><span class="sxs-lookup"><span data-stu-id="bcb89-179">Log separation basically means that you have toostore your log files on a different partition as where your OS/application is running on in order tooavert a Denial of service attack or hello downgrading of your application its performance</span></span></p>|

## <span data-ttu-id="bcb89-180"><a id="log-sensitive-data"></a>Certifique-se de que o aplicativo hello não registra dados confidenciais do usuário</span><span class="sxs-lookup"><span data-stu-id="bcb89-180"><a id="log-sensitive-data"></a>Ensure that hello application does not log sensitive user data</span></span>

| <span data-ttu-id="bcb89-181">Title</span><span class="sxs-lookup"><span data-stu-id="bcb89-181">Title</span></span>                   | <span data-ttu-id="bcb89-182">Detalhes</span><span class="sxs-lookup"><span data-stu-id="bcb89-182">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="bcb89-183">**Componente**</span><span class="sxs-lookup"><span data-stu-id="bcb89-183">**Component**</span></span>               | <span data-ttu-id="bcb89-184">Aplicativo Web</span><span class="sxs-lookup"><span data-stu-id="bcb89-184">Web Application</span></span> | 
| <span data-ttu-id="bcb89-185">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="bcb89-185">**SDL Phase**</span></span>               | <span data-ttu-id="bcb89-186">Compilação</span><span class="sxs-lookup"><span data-stu-id="bcb89-186">Build</span></span> |  
| <span data-ttu-id="bcb89-187">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="bcb89-187">**Applicable Technologies**</span></span> | <span data-ttu-id="bcb89-188">Genérico</span><span class="sxs-lookup"><span data-stu-id="bcb89-188">Generic</span></span> |
| <span data-ttu-id="bcb89-189">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="bcb89-189">**Attributes**</span></span>              | <span data-ttu-id="bcb89-190">N/D</span><span class="sxs-lookup"><span data-stu-id="bcb89-190">N/A</span></span>  |
| <span data-ttu-id="bcb89-191">**Referências**</span><span class="sxs-lookup"><span data-stu-id="bcb89-191">**References**</span></span>              | <span data-ttu-id="bcb89-192">N/D</span><span class="sxs-lookup"><span data-stu-id="bcb89-192">N/A</span></span>  |
| <span data-ttu-id="bcb89-193">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="bcb89-193">**Steps**</span></span>                   | <p><span data-ttu-id="bcb89-194">Verifique que você não faça quaisquer dados confidenciais que um usuário envia tooyour site.</span><span class="sxs-lookup"><span data-stu-id="bcb89-194">Check that you do not log any sensitive data that a user submits tooyour site.</span></span> <span data-ttu-id="bcb89-195">Verifique se há registro intencional, bem como os efeitos colaterais causados por problemas de design.</span><span class="sxs-lookup"><span data-stu-id="bcb89-195">Check for intentional logging as well as side effects caused by design issues.</span></span> <span data-ttu-id="bcb89-196">Exemplos de dados confidenciais:</span><span class="sxs-lookup"><span data-stu-id="bcb89-196">Examples of sensitive data include:</span></span></p><ul><li><span data-ttu-id="bcb89-197">Credenciais do Usuário</span><span class="sxs-lookup"><span data-stu-id="bcb89-197">User Credentials</span></span></li><li><span data-ttu-id="bcb89-198">Número do seguro social ou outras informações de identificação</span><span class="sxs-lookup"><span data-stu-id="bcb89-198">Social Security number or other identifying information</span></span></li><li><span data-ttu-id="bcb89-199">Números de cartão de crédito ou outras informações financeiras</span><span class="sxs-lookup"><span data-stu-id="bcb89-199">Credit card numbers or other financial information</span></span></li><li><span data-ttu-id="bcb89-200">Informações de integridade</span><span class="sxs-lookup"><span data-stu-id="bcb89-200">Health information</span></span></li><li><span data-ttu-id="bcb89-201">Informações criptografadas de chaves privadas ou outros dados que podem ser usado toodecrypt</span><span class="sxs-lookup"><span data-stu-id="bcb89-201">Private keys or other data that could be used toodecrypt encrypted information</span></span></li><li><span data-ttu-id="bcb89-202">Informações do sistema ou aplicativo que podem ser usadas toomore ataques efetivamente o aplicativo hello</span><span class="sxs-lookup"><span data-stu-id="bcb89-202">System or application information that can be used toomore effectively attack hello application</span></span></li></ul>|

## <span data-ttu-id="bcb89-203"><a id="log-restricted-access"></a>Verifique se os arquivos de Log e auditoria tem acesso restrito</span><span class="sxs-lookup"><span data-stu-id="bcb89-203"><a id="log-restricted-access"></a>Ensure that Audit and Log Files have Restricted Access</span></span>

| <span data-ttu-id="bcb89-204">Title</span><span class="sxs-lookup"><span data-stu-id="bcb89-204">Title</span></span>                   | <span data-ttu-id="bcb89-205">Detalhes</span><span class="sxs-lookup"><span data-stu-id="bcb89-205">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="bcb89-206">**Componente**</span><span class="sxs-lookup"><span data-stu-id="bcb89-206">**Component**</span></span>               | <span data-ttu-id="bcb89-207">Aplicativo Web</span><span class="sxs-lookup"><span data-stu-id="bcb89-207">Web Application</span></span> | 
| <span data-ttu-id="bcb89-208">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="bcb89-208">**SDL Phase**</span></span>               | <span data-ttu-id="bcb89-209">Compilação</span><span class="sxs-lookup"><span data-stu-id="bcb89-209">Build</span></span> |  
| <span data-ttu-id="bcb89-210">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="bcb89-210">**Applicable Technologies**</span></span> | <span data-ttu-id="bcb89-211">Genérico</span><span class="sxs-lookup"><span data-stu-id="bcb89-211">Generic</span></span> |
| <span data-ttu-id="bcb89-212">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="bcb89-212">**Attributes**</span></span>              | <span data-ttu-id="bcb89-213">N/D</span><span class="sxs-lookup"><span data-stu-id="bcb89-213">N/A</span></span>  |
| <span data-ttu-id="bcb89-214">**Referências**</span><span class="sxs-lookup"><span data-stu-id="bcb89-214">**References**</span></span>              | <span data-ttu-id="bcb89-215">N/D</span><span class="sxs-lookup"><span data-stu-id="bcb89-215">N/A</span></span>  |
| <span data-ttu-id="bcb89-216">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="bcb89-216">**Steps**</span></span>                   | <p><span data-ttu-id="bcb89-217">Verifique tooensure arquivos de toolog de direitos de acesso são definidos corretamente.</span><span class="sxs-lookup"><span data-stu-id="bcb89-217">Check tooensure access rights toolog files are appropriately set.</span></span> <span data-ttu-id="bcb89-218">Contas de aplicativo devem ter acesso somente gravação e operadores e equipe de suporte deve ter acesso somente leitura, conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="bcb89-218">Application accounts should have write-only access and operators and support personnel should have read-only access as needed.</span></span></p><p><span data-ttu-id="bcb89-219">Contas de administradores são Olá somente as contas que devem ter acesso completo.</span><span class="sxs-lookup"><span data-stu-id="bcb89-219">Administrators accounts are hello only accounts which should have full access.</span></span> <span data-ttu-id="bcb89-220">Verifique a que ACL do Windows no log arquivos tooensure são restritos corretamente:</span><span class="sxs-lookup"><span data-stu-id="bcb89-220">Check Windows ACL on log files tooensure they are properly restricted:</span></span></p><ul><li><span data-ttu-id="bcb89-221">Contas de aplicativos devem ter acesso somente gravação</span><span class="sxs-lookup"><span data-stu-id="bcb89-221">Application accounts should have write-only access</span></span></li><li><span data-ttu-id="bcb89-222">Operadores e a equipe de suporte deve ter acesso somente leitura, conforme necessário</span><span class="sxs-lookup"><span data-stu-id="bcb89-222">Operators and support personnel should have read-only access as needed</span></span></li><li><span data-ttu-id="bcb89-223">Os administradores são Olá somente as contas que devem ter acesso completo</span><span class="sxs-lookup"><span data-stu-id="bcb89-223">Administrators are hello only accounts that should have full access</span></span></li></ul>|

## <span data-ttu-id="bcb89-224"><a id="user-management"></a>Certifique-se de que os eventos de gerenciamento de usuário estão registrados</span><span class="sxs-lookup"><span data-stu-id="bcb89-224"><a id="user-management"></a>Ensure that User Management Events are Logged</span></span>

| <span data-ttu-id="bcb89-225">Title</span><span class="sxs-lookup"><span data-stu-id="bcb89-225">Title</span></span>                   | <span data-ttu-id="bcb89-226">Detalhes</span><span class="sxs-lookup"><span data-stu-id="bcb89-226">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="bcb89-227">**Componente**</span><span class="sxs-lookup"><span data-stu-id="bcb89-227">**Component**</span></span>               | <span data-ttu-id="bcb89-228">Aplicativo Web</span><span class="sxs-lookup"><span data-stu-id="bcb89-228">Web Application</span></span> | 
| <span data-ttu-id="bcb89-229">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="bcb89-229">**SDL Phase**</span></span>               | <span data-ttu-id="bcb89-230">Compilação</span><span class="sxs-lookup"><span data-stu-id="bcb89-230">Build</span></span> |  
| <span data-ttu-id="bcb89-231">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="bcb89-231">**Applicable Technologies**</span></span> | <span data-ttu-id="bcb89-232">Genérico</span><span class="sxs-lookup"><span data-stu-id="bcb89-232">Generic</span></span> |
| <span data-ttu-id="bcb89-233">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="bcb89-233">**Attributes**</span></span>              | <span data-ttu-id="bcb89-234">N/D</span><span class="sxs-lookup"><span data-stu-id="bcb89-234">N/A</span></span>  |
| <span data-ttu-id="bcb89-235">**Referências**</span><span class="sxs-lookup"><span data-stu-id="bcb89-235">**References**</span></span>              | <span data-ttu-id="bcb89-236">N/D</span><span class="sxs-lookup"><span data-stu-id="bcb89-236">N/A</span></span>  |
| <span data-ttu-id="bcb89-237">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="bcb89-237">**Steps**</span></span>                   | <p><span data-ttu-id="bcb89-238">Certifique-se de que o aplicativo hello monitora os eventos de gerenciamento de usuário, como logons de usuário bem-sucedidas e com falha, redefinições de senha, alterações de senha, o bloqueio de conta, o registro de usuário.</span><span class="sxs-lookup"><span data-stu-id="bcb89-238">Ensure that hello application monitors user management events such as successful and failed user logins, password resets, password changes, account lockout, user registration.</span></span> <span data-ttu-id="bcb89-239">Isso ajuda a toodetect e reage toopotentially qualquer comportamento suspeito.</span><span class="sxs-lookup"><span data-stu-id="bcb89-239">Doing this helps toodetect and react toopotentially suspicious behavior.</span></span> <span data-ttu-id="bcb89-240">Ele também permite que dados de operações toogather; Por exemplo, tootrack quem está acessando o aplicativo hello</span><span class="sxs-lookup"><span data-stu-id="bcb89-240">It also enables toogather operations data; for example, tootrack who is accessing hello application</span></span></p>|

## <span data-ttu-id="bcb89-241"><a id="inbuilt-defenses"></a>Verifique se o sistema de saudação tem embutidas defesas contra uso indevido</span><span class="sxs-lookup"><span data-stu-id="bcb89-241"><a id="inbuilt-defenses"></a>Ensure that hello system has inbuilt defenses against misuse</span></span>

| <span data-ttu-id="bcb89-242">Title</span><span class="sxs-lookup"><span data-stu-id="bcb89-242">Title</span></span>                   | <span data-ttu-id="bcb89-243">Detalhes</span><span class="sxs-lookup"><span data-stu-id="bcb89-243">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="bcb89-244">**Componente**</span><span class="sxs-lookup"><span data-stu-id="bcb89-244">**Component**</span></span>               | <span data-ttu-id="bcb89-245">Aplicativo Web</span><span class="sxs-lookup"><span data-stu-id="bcb89-245">Web Application</span></span> | 
| <span data-ttu-id="bcb89-246">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="bcb89-246">**SDL Phase**</span></span>               | <span data-ttu-id="bcb89-247">Compilação</span><span class="sxs-lookup"><span data-stu-id="bcb89-247">Build</span></span> |  
| <span data-ttu-id="bcb89-248">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="bcb89-248">**Applicable Technologies**</span></span> | <span data-ttu-id="bcb89-249">Genérico</span><span class="sxs-lookup"><span data-stu-id="bcb89-249">Generic</span></span> |
| <span data-ttu-id="bcb89-250">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="bcb89-250">**Attributes**</span></span>              | <span data-ttu-id="bcb89-251">N/D</span><span class="sxs-lookup"><span data-stu-id="bcb89-251">N/A</span></span>  |
| <span data-ttu-id="bcb89-252">**Referências**</span><span class="sxs-lookup"><span data-stu-id="bcb89-252">**References**</span></span>              | <span data-ttu-id="bcb89-253">N/D</span><span class="sxs-lookup"><span data-stu-id="bcb89-253">N/A</span></span>  |
| <span data-ttu-id="bcb89-254">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="bcb89-254">**Steps**</span></span>                   | <p><span data-ttu-id="bcb89-255">Controles devem estar em vigor que lançam a exceção de segurança em caso de uso incorreto do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="bcb89-255">Controls should be in place which throw security exception in case of application misuse.</span></span> <span data-ttu-id="bcb89-256">Por exemplo, se a validação de entrada está em vigor e um invasor tenta tooinject código mal-intencionado que não corresponde à saudação regex, uma exceção de segurança pode ser gerada que pode ser um indicativos de uso indevido do sistema</span><span class="sxs-lookup"><span data-stu-id="bcb89-256">E.g., If input validation is in place and an attacker attempts tooinject malicious code that does not match hello regex, a security exception can be thrown which can be an indicative of system misuse</span></span></p><p><span data-ttu-id="bcb89-257">Por exemplo, é recomendável toohave exceções de segurança registradas e as ações tomadas para Olá problemas a seguir:</span><span class="sxs-lookup"><span data-stu-id="bcb89-257">For example, it is recommended toohave security exceptions logged and actions taken for hello following issues:</span></span></p><ul><li><span data-ttu-id="bcb89-258">Validação da entrada</span><span class="sxs-lookup"><span data-stu-id="bcb89-258">Input validation</span></span></li><li><span data-ttu-id="bcb89-259">Violações de CSRF</span><span class="sxs-lookup"><span data-stu-id="bcb89-259">CSRF violations</span></span></li><li><span data-ttu-id="bcb89-260">Força bruta (limite superior para o número de solicitações por usuário por recurso)</span><span class="sxs-lookup"><span data-stu-id="bcb89-260">Brute force (upper limit for number of requests per user per resource)</span></span></li><li><span data-ttu-id="bcb89-261">Violações de carregamento de arquivo</span><span class="sxs-lookup"><span data-stu-id="bcb89-261">File upload violations</span></span></li><ul>|

## <span data-ttu-id="bcb89-262"><a id="diagnostics-logging"></a>Habilitar o registro em log de diagnóstico para aplicativos Web no Serviço de Aplicativo do Azure</span><span class="sxs-lookup"><span data-stu-id="bcb89-262"><a id="diagnostics-logging"></a>Enable diagnostics logging for web apps in Azure App Service</span></span>

| <span data-ttu-id="bcb89-263">Title</span><span class="sxs-lookup"><span data-stu-id="bcb89-263">Title</span></span>                   | <span data-ttu-id="bcb89-264">Detalhes</span><span class="sxs-lookup"><span data-stu-id="bcb89-264">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="bcb89-265">**Componente**</span><span class="sxs-lookup"><span data-stu-id="bcb89-265">**Component**</span></span>               | <span data-ttu-id="bcb89-266">Aplicativo Web</span><span class="sxs-lookup"><span data-stu-id="bcb89-266">Web Application</span></span> | 
| <span data-ttu-id="bcb89-267">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="bcb89-267">**SDL Phase**</span></span>               | <span data-ttu-id="bcb89-268">Compilação</span><span class="sxs-lookup"><span data-stu-id="bcb89-268">Build</span></span> |  
| <span data-ttu-id="bcb89-269">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="bcb89-269">**Applicable Technologies**</span></span> | <span data-ttu-id="bcb89-270">Genérico</span><span class="sxs-lookup"><span data-stu-id="bcb89-270">Generic</span></span> |
| <span data-ttu-id="bcb89-271">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="bcb89-271">**Attributes**</span></span>              | <span data-ttu-id="bcb89-272">Tipo de ambiente - Azure</span><span class="sxs-lookup"><span data-stu-id="bcb89-272">EnvironmentType - Azure</span></span> |
| <span data-ttu-id="bcb89-273">**Referências**</span><span class="sxs-lookup"><span data-stu-id="bcb89-273">**References**</span></span>              | <span data-ttu-id="bcb89-274">N/D</span><span class="sxs-lookup"><span data-stu-id="bcb89-274">N/A</span></span>  |
| <span data-ttu-id="bcb89-275">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="bcb89-275">**Steps**</span></span> | <p><span data-ttu-id="bcb89-276">Azure fornece tooassist diagnóstico interno ao depurar um aplicativo de serviço de aplicativo web.</span><span class="sxs-lookup"><span data-stu-id="bcb89-276">Azure provides built-in diagnostics tooassist with debugging an App Service web app.</span></span> <span data-ttu-id="bcb89-277">Ela também se aplica tooAPI aplicativos e aplicativos móveis.</span><span class="sxs-lookup"><span data-stu-id="bcb89-277">It also applies tooAPI apps and mobile apps.</span></span> <span data-ttu-id="bcb89-278">Aplicativos do serviço de aplicativo web fornecem funcionalidade de diagnóstico para obter informações de registro em log do servidor de web hello e o aplicativo da web hello.</span><span class="sxs-lookup"><span data-stu-id="bcb89-278">App Service web apps provide diagnostic functionality for logging information from both hello web server and hello web application.</span></span></p><p><span data-ttu-id="bcb89-279">Estes estão logicamente separados em diagnóstico de servidor Web e diagnóstico de aplicativos</span><span class="sxs-lookup"><span data-stu-id="bcb89-279">These are logically separated into web server diagnostics and application diagnostics</span></span></p>|

## <span data-ttu-id="bcb89-280"><a id="identify-sensitive-entities"></a>Verifique se a auditoria de logon é habilitada no SQL Server</span><span class="sxs-lookup"><span data-stu-id="bcb89-280"><a id="identify-sensitive-entities"></a>Ensure that login auditing is enabled on SQL Server</span></span>

| <span data-ttu-id="bcb89-281">Title</span><span class="sxs-lookup"><span data-stu-id="bcb89-281">Title</span></span>                   | <span data-ttu-id="bcb89-282">Detalhes</span><span class="sxs-lookup"><span data-stu-id="bcb89-282">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="bcb89-283">**Componente**</span><span class="sxs-lookup"><span data-stu-id="bcb89-283">**Component**</span></span>               | <span data-ttu-id="bcb89-284">Banco de dados</span><span class="sxs-lookup"><span data-stu-id="bcb89-284">Database</span></span> | 
| <span data-ttu-id="bcb89-285">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="bcb89-285">**SDL Phase**</span></span>               | <span data-ttu-id="bcb89-286">Compilação</span><span class="sxs-lookup"><span data-stu-id="bcb89-286">Build</span></span> |  
| <span data-ttu-id="bcb89-287">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="bcb89-287">**Applicable Technologies**</span></span> | <span data-ttu-id="bcb89-288">Genérico</span><span class="sxs-lookup"><span data-stu-id="bcb89-288">Generic</span></span> |
| <span data-ttu-id="bcb89-289">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="bcb89-289">**Attributes**</span></span>              | <span data-ttu-id="bcb89-290">N/D</span><span class="sxs-lookup"><span data-stu-id="bcb89-290">N/A</span></span>  |
| <span data-ttu-id="bcb89-291">**Referências**</span><span class="sxs-lookup"><span data-stu-id="bcb89-291">**References**</span></span>              | [<span data-ttu-id="bcb89-292">Configurar a auditoria de logon</span><span class="sxs-lookup"><span data-stu-id="bcb89-292">Configure Login Auditing</span></span>](https://msdn.microsoft.com/library/ms175850.aspx) |
| <span data-ttu-id="bcb89-293">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="bcb89-293">**Steps**</span></span> | <p><span data-ttu-id="bcb89-294">Auditoria de logon do servidor de banco de dados deve ser ataques de adivinhação de senha toodetect/confirmar habilitado.</span><span class="sxs-lookup"><span data-stu-id="bcb89-294">Database Server login auditing must be enabled toodetect/confirm password guessing attacks.</span></span> <span data-ttu-id="bcb89-295">É importante de tentativas de logon com falha toocapture.</span><span class="sxs-lookup"><span data-stu-id="bcb89-295">It is important toocapture failed login attempts.</span></span> <span data-ttu-id="bcb89-296">Capturar as duas tentativas de logon bem-sucedidas e malsucedidas fornece o benefício adicional durante investigações jurídicas</span><span class="sxs-lookup"><span data-stu-id="bcb89-296">Capturing both successful and failed login attempts provides additional benefit during forensic investigations</span></span></p>|

## <span data-ttu-id="bcb89-297"><a id="threat-detection"></a>Ativar a detecção de ameaças no SQL Azure</span><span class="sxs-lookup"><span data-stu-id="bcb89-297"><a id="threat-detection"></a>Enable Threat detection on Azure SQL</span></span>

| <span data-ttu-id="bcb89-298">Title</span><span class="sxs-lookup"><span data-stu-id="bcb89-298">Title</span></span>                   | <span data-ttu-id="bcb89-299">Detalhes</span><span class="sxs-lookup"><span data-stu-id="bcb89-299">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="bcb89-300">**Componente**</span><span class="sxs-lookup"><span data-stu-id="bcb89-300">**Component**</span></span>               | <span data-ttu-id="bcb89-301">Banco de dados</span><span class="sxs-lookup"><span data-stu-id="bcb89-301">Database</span></span> | 
| <span data-ttu-id="bcb89-302">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="bcb89-302">**SDL Phase**</span></span>               | <span data-ttu-id="bcb89-303">Compilação</span><span class="sxs-lookup"><span data-stu-id="bcb89-303">Build</span></span> |  
| <span data-ttu-id="bcb89-304">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="bcb89-304">**Applicable Technologies**</span></span> | <span data-ttu-id="bcb89-305">SQL Azure</span><span class="sxs-lookup"><span data-stu-id="bcb89-305">SQL Azure</span></span> |
| <span data-ttu-id="bcb89-306">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="bcb89-306">**Attributes**</span></span>              | <span data-ttu-id="bcb89-307">Versão do SQL - V12</span><span class="sxs-lookup"><span data-stu-id="bcb89-307">SQL Version - V12</span></span> |
| <span data-ttu-id="bcb89-308">**Referências**</span><span class="sxs-lookup"><span data-stu-id="bcb89-308">**References**</span></span>              | [<span data-ttu-id="bcb89-309">Introdução à Detecção de Ameaças do Banco de Dados SQL</span><span class="sxs-lookup"><span data-stu-id="bcb89-309">Get Started with SQL Database Threat Detection</span></span>](https://azure.microsoft.com/documentation/articles/sql-database-threat-detection-get-started/)|
| <span data-ttu-id="bcb89-310">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="bcb89-310">**Steps**</span></span> |<p><span data-ttu-id="bcb89-311">Detecção de ameaças detecta atividades anormais de banco de dados indicando banco dados potencial toohello de ameaças de segurança.</span><span class="sxs-lookup"><span data-stu-id="bcb89-311">Threat Detection detects anomalous database activities indicating potential security threats toohello database.</span></span> <span data-ttu-id="bcb89-312">Ele fornece uma nova camada de segurança, que permite que os clientes toodetect e responde a ameaças de toopotential conforme elas ocorrem, fornecendo alertas de segurança em atividades anormais.</span><span class="sxs-lookup"><span data-stu-id="bcb89-312">It provides a new layer of security, which enables customers toodetect and respond toopotential threats as they occur by providing security alerts on anomalous activities.</span></span></p><p><span data-ttu-id="bcb89-313">Os usuários podem explorar eventos suspeitos hello, usando a auditoria banco de dados do Azure SQL toodetermine se eles são provenientes de uma tentativa tooaccess, violação ou explorar dados no banco de dados de saudação.</span><span class="sxs-lookup"><span data-stu-id="bcb89-313">Users can explore hello suspicious events using Azure SQL Database Auditing toodetermine if they result from an attempt tooaccess, breach or exploit data in hello database.</span></span></p><p><span data-ttu-id="bcb89-314">A detecção de ameaças torna simples tooaddress potenciais ameaças toohello banco de dados sem a necessidade de saudação toobe um especialista em segurança ou gerenciar sistemas de monitoramento de segurança avançada</span><span class="sxs-lookup"><span data-stu-id="bcb89-314">Threat Detection makes it simple tooaddress potential threats toohello database without hello need toobe a security expert or manage advanced security monitoring systems</span></span></p>|

## <span data-ttu-id="bcb89-315"><a id="analytics"></a>Use o Azure Storage Analytics tooaudit acesso do armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="bcb89-315"><a id="analytics"></a>Use Azure Storage Analytics tooaudit access of Azure Storage</span></span>

| <span data-ttu-id="bcb89-316">Title</span><span class="sxs-lookup"><span data-stu-id="bcb89-316">Title</span></span>                   | <span data-ttu-id="bcb89-317">Detalhes</span><span class="sxs-lookup"><span data-stu-id="bcb89-317">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="bcb89-318">**Componente**</span><span class="sxs-lookup"><span data-stu-id="bcb89-318">**Component**</span></span>               | <span data-ttu-id="bcb89-319">Armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="bcb89-319">Azure Storage</span></span> | 
| <span data-ttu-id="bcb89-320">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="bcb89-320">**SDL Phase**</span></span>               | <span data-ttu-id="bcb89-321">Implantação</span><span class="sxs-lookup"><span data-stu-id="bcb89-321">Deployment</span></span> |  
| <span data-ttu-id="bcb89-322">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="bcb89-322">**Applicable Technologies**</span></span> | <span data-ttu-id="bcb89-323">Genérico</span><span class="sxs-lookup"><span data-stu-id="bcb89-323">Generic</span></span> |
| <span data-ttu-id="bcb89-324">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="bcb89-324">**Attributes**</span></span>              | <span data-ttu-id="bcb89-325">N/D</span><span class="sxs-lookup"><span data-stu-id="bcb89-325">N/A</span></span> |
| <span data-ttu-id="bcb89-326">**Referências**</span><span class="sxs-lookup"><span data-stu-id="bcb89-326">**References**</span></span>              | [<span data-ttu-id="bcb89-327">Usando o tipo de análise de armazenamento de autorização toomonitor</span><span class="sxs-lookup"><span data-stu-id="bcb89-327">Using Storage Analytics toomonitor authorization type</span></span>](https://azure.microsoft.com/documentation/articles/storage-security-guide/#storage-analytics) |
| <span data-ttu-id="bcb89-328">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="bcb89-328">**Steps**</span></span> | <p><span data-ttu-id="bcb89-329">Para cada conta de armazenamento, um pode habilitar o log de tooperform de análise de armazenamento do Azure e armazenar dados de métricas.</span><span class="sxs-lookup"><span data-stu-id="bcb89-329">For each storage account, one can enable Azure Storage Analytics tooperform logging and store metrics data.</span></span> <span data-ttu-id="bcb89-330">Olá logs de análise de armazenamento fornecem informações importantes, como o método de autenticação usado por uma pessoa, ao acessar o armazenamento.</span><span class="sxs-lookup"><span data-stu-id="bcb89-330">hello storage analytics logs provide important information such as authentication method used by someone when they access storage.</span></span></p><p><span data-ttu-id="bcb89-331">Isso pode ser muito útil se você está estreitamente preservando toostorage de acesso.</span><span class="sxs-lookup"><span data-stu-id="bcb89-331">This can be really helpful if you are tightly guarding access toostorage.</span></span> <span data-ttu-id="bcb89-332">Por exemplo, no armazenamento de Blob, você pode definir todos Olá contêineres tooprivate e implementar o uso de saudação de um serviço SAS ao longo de seus aplicativos.</span><span class="sxs-lookup"><span data-stu-id="bcb89-332">For example, in Blob Storage you can set all of hello containers tooprivate and implement hello use of an SAS service throughout your applications.</span></span> <span data-ttu-id="bcb89-333">Em seguida, você pode verificar Olá regularmente logs toosee se seus blobs acessados usando chaves de conta de armazenamento hello, que podem indicar uma violação de segurança, ou se blobs Olá são públicos, mas eles não devem ser.</span><span class="sxs-lookup"><span data-stu-id="bcb89-333">Then you can check hello logs regularly toosee if your blobs are accessed using hello storage account keys, which may indicate a breach of security, or if hello blobs are public but they shouldn’t be.</span></span></p>|

## <span data-ttu-id="bcb89-334"><a id="sufficient-logging"></a>Implementar o log suficiente</span><span class="sxs-lookup"><span data-stu-id="bcb89-334"><a id="sufficient-logging"></a>Implement sufficient Logging</span></span>

| <span data-ttu-id="bcb89-335">Title</span><span class="sxs-lookup"><span data-stu-id="bcb89-335">Title</span></span>                   | <span data-ttu-id="bcb89-336">Detalhes</span><span class="sxs-lookup"><span data-stu-id="bcb89-336">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="bcb89-337">**Componente**</span><span class="sxs-lookup"><span data-stu-id="bcb89-337">**Component**</span></span>               | <span data-ttu-id="bcb89-338">WCF</span><span class="sxs-lookup"><span data-stu-id="bcb89-338">WCF</span></span> | 
| <span data-ttu-id="bcb89-339">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="bcb89-339">**SDL Phase**</span></span>               | <span data-ttu-id="bcb89-340">Compilação</span><span class="sxs-lookup"><span data-stu-id="bcb89-340">Build</span></span> |  
| <span data-ttu-id="bcb89-341">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="bcb89-341">**Applicable Technologies**</span></span> | <span data-ttu-id="bcb89-342">.NET Framework</span><span class="sxs-lookup"><span data-stu-id="bcb89-342">.NET Framework</span></span> |
| <span data-ttu-id="bcb89-343">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="bcb89-343">**Attributes**</span></span>              | <span data-ttu-id="bcb89-344">N/D</span><span class="sxs-lookup"><span data-stu-id="bcb89-344">N/A</span></span>  |
| <span data-ttu-id="bcb89-345">**Referências**</span><span class="sxs-lookup"><span data-stu-id="bcb89-345">**References**</span></span>              | <span data-ttu-id="bcb89-346">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="bcb89-346">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="bcb89-347">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="bcb89-347">**Steps**</span></span> | <p><span data-ttu-id="bcb89-348">falta de saudação de uma trilha de auditoria adequada após um incidente de segurança pode atrapalhar os esforços forenses.</span><span class="sxs-lookup"><span data-stu-id="bcb89-348">hello lack of a proper audit trail after a security incident can hamper forensic efforts.</span></span> <span data-ttu-id="bcb89-349">Windows Communication Foundation (WCF) oferece a capacidade de saudação toolog tentativas de autenticação de êxito e/ou com falha.</span><span class="sxs-lookup"><span data-stu-id="bcb89-349">Windows Communication Foundation (WCF) offers hello ability toolog successful and/or failed authentication attempts.</span></span></p><p><span data-ttu-id="bcb89-350">Registro em log as tentativas de autenticação com falha pode avisar os administradores de possíveis ataques de força bruta.</span><span class="sxs-lookup"><span data-stu-id="bcb89-350">Logging failed authentication attempts can warn administrators of potential brute-force attacks.</span></span> <span data-ttu-id="bcb89-351">Da mesma forma, o log de eventos de autenticação bem-sucedida pode fornecer uma trilha de auditoria útil quando uma conta legítima seja comprometida.</span><span class="sxs-lookup"><span data-stu-id="bcb89-351">Similarly, logging successful authentication events can provide a useful audit trail when a legitimate account is compromised.</span></span> <span data-ttu-id="bcb89-352">Habilitar o recurso de auditoria de segurança de serviço do WCF</span><span class="sxs-lookup"><span data-stu-id="bcb89-352">Enable WCF's service security audit feature</span></span> |

### <a name="example"></a><span data-ttu-id="bcb89-353">Exemplo</span><span class="sxs-lookup"><span data-stu-id="bcb89-353">Example</span></span>
<span data-ttu-id="bcb89-354">a seguir Olá é um exemplo de configuração com a auditoria ativada</span><span class="sxs-lookup"><span data-stu-id="bcb89-354">hello following is an example configuration with auditing enabled</span></span>
```
<system.serviceModel>
    <behaviors>
        <serviceBehaviors>
            <behavior name=""NewBehavior"">
                <serviceSecurityAudit auditLogLocation=""Default""
                suppressAuditFailure=""false"" 
                serviceAuthorizationAuditLevel=""SuccessAndFailure""
                messageAuthenticationAuditLevel=""SuccessAndFailure"" />
                ...
            </behavior>
        </servicebehaviors>
    </behaviors>
</system.serviceModel>
```

## <span data-ttu-id="bcb89-355"><a id="audit-failure-handling"></a>Implementar o tratamento de falha de auditoria suficiente</span><span class="sxs-lookup"><span data-stu-id="bcb89-355"><a id="audit-failure-handling"></a>Implement sufficient Audit Failure Handling</span></span>

| <span data-ttu-id="bcb89-356">Title</span><span class="sxs-lookup"><span data-stu-id="bcb89-356">Title</span></span>                   | <span data-ttu-id="bcb89-357">Detalhes</span><span class="sxs-lookup"><span data-stu-id="bcb89-357">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="bcb89-358">**Componente**</span><span class="sxs-lookup"><span data-stu-id="bcb89-358">**Component**</span></span>               | <span data-ttu-id="bcb89-359">WCF</span><span class="sxs-lookup"><span data-stu-id="bcb89-359">WCF</span></span> | 
| <span data-ttu-id="bcb89-360">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="bcb89-360">**SDL Phase**</span></span>               | <span data-ttu-id="bcb89-361">Compilação</span><span class="sxs-lookup"><span data-stu-id="bcb89-361">Build</span></span> |  
| <span data-ttu-id="bcb89-362">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="bcb89-362">**Applicable Technologies**</span></span> | <span data-ttu-id="bcb89-363">.NET Framework</span><span class="sxs-lookup"><span data-stu-id="bcb89-363">.NET Framework</span></span> |
| <span data-ttu-id="bcb89-364">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="bcb89-364">**Attributes**</span></span>              | <span data-ttu-id="bcb89-365">N/D</span><span class="sxs-lookup"><span data-stu-id="bcb89-365">N/A</span></span>  |
| <span data-ttu-id="bcb89-366">**Referências**</span><span class="sxs-lookup"><span data-stu-id="bcb89-366">**References**</span></span>              | <span data-ttu-id="bcb89-367">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="bcb89-367">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="bcb89-368">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="bcb89-368">**Steps**</span></span> | <p><span data-ttu-id="bcb89-369">Solução desenvolvida está configurada não toogenerate uma exceção quando ela falha de log de auditoria de tooan toowrite.</span><span class="sxs-lookup"><span data-stu-id="bcb89-369">Developed solution is configured not toogenerate an exception when it fails toowrite tooan audit log.</span></span> <span data-ttu-id="bcb89-370">Se WCF está configurado não toothrow uma exceção quando ele é o log de auditoria de tooan toowrite não é possível, programa hello não será notificado da falha de saudação e auditoria de eventos de segurança crítica não pode ocorrer.</span><span class="sxs-lookup"><span data-stu-id="bcb89-370">If WCF is configured not toothrow an exception when it is unable toowrite tooan audit log, hello program will not be notified of hello failure and auditing of critical security events may not occur.</span></span></p>|

### <a name="example"></a><span data-ttu-id="bcb89-371">Exemplo</span><span class="sxs-lookup"><span data-stu-id="bcb89-371">Example</span></span>
<span data-ttu-id="bcb89-372">Olá `<behavior/>` instrui o elemento do arquivo de configuração WCF Olá abaixo WCF toonot notificar o aplicativo hello quando WCF falha de log de auditoria de tooan toowrite.</span><span class="sxs-lookup"><span data-stu-id="bcb89-372">hello `<behavior/>` element of hello WCF configuration file below instructs WCF toonot notify hello application when WCF fails toowrite tooan audit log.</span></span>
````
<behaviors>
    <serviceBehaviors>
        <behavior name="NewBehavior">
            <serviceSecurityAudit auditLogLocation="Application"
            suppressAuditFailure="true"
            serviceAuthorizationAuditLevel="Success"
            messageAuthenticationAuditLevel="Success" />
        </behavior>
    </serviceBehaviors>
</behaviors>
````
<span data-ttu-id="bcb89-373">Configure o programa de saudação do WCF toonotify sempre que o log de auditoria de tooan toowrite não é possível.</span><span class="sxs-lookup"><span data-stu-id="bcb89-373">Configure WCF toonotify hello program whenever it is unable toowrite tooan audit log.</span></span> <span data-ttu-id="bcb89-374">programa de saudação deve ter um esquema de notificação alternativo na organização de saudação tooalert local que as trilhas de auditoria não são mantidas.</span><span class="sxs-lookup"><span data-stu-id="bcb89-374">hello program should have an alternative notification scheme in place tooalert hello organization that audit trails are not being maintained.</span></span> 

## <span data-ttu-id="bcb89-375"><a id="logging-web-api"></a>Certifique-se de que a auditoria e registro em log é imposto no API da Web</span><span class="sxs-lookup"><span data-stu-id="bcb89-375"><a id="logging-web-api"></a>Ensure that auditing and logging is enforced on Web API</span></span>

| <span data-ttu-id="bcb89-376">Title</span><span class="sxs-lookup"><span data-stu-id="bcb89-376">Title</span></span>                   | <span data-ttu-id="bcb89-377">Detalhes</span><span class="sxs-lookup"><span data-stu-id="bcb89-377">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="bcb89-378">**Componente**</span><span class="sxs-lookup"><span data-stu-id="bcb89-378">**Component**</span></span>               | <span data-ttu-id="bcb89-379">API Web</span><span class="sxs-lookup"><span data-stu-id="bcb89-379">Web API</span></span> | 
| <span data-ttu-id="bcb89-380">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="bcb89-380">**SDL Phase**</span></span>               | <span data-ttu-id="bcb89-381">Compilação</span><span class="sxs-lookup"><span data-stu-id="bcb89-381">Build</span></span> |  
| <span data-ttu-id="bcb89-382">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="bcb89-382">**Applicable Technologies**</span></span> | <span data-ttu-id="bcb89-383">Genérico</span><span class="sxs-lookup"><span data-stu-id="bcb89-383">Generic</span></span> |
| <span data-ttu-id="bcb89-384">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="bcb89-384">**Attributes**</span></span>              | <span data-ttu-id="bcb89-385">N/D</span><span class="sxs-lookup"><span data-stu-id="bcb89-385">N/A</span></span>  |
| <span data-ttu-id="bcb89-386">**Referências**</span><span class="sxs-lookup"><span data-stu-id="bcb89-386">**References**</span></span>              | <span data-ttu-id="bcb89-387">N/D</span><span class="sxs-lookup"><span data-stu-id="bcb89-387">N/A</span></span>  |
| <span data-ttu-id="bcb89-388">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="bcb89-388">**Steps**</span></span> | <span data-ttu-id="bcb89-389">Habilite a auditoria e log em APIs da Web.</span><span class="sxs-lookup"><span data-stu-id="bcb89-389">Enable auditing and logging on Web APIs.</span></span> <span data-ttu-id="bcb89-390">Os logs de auditoria devem capturar o contexto do usuário.</span><span class="sxs-lookup"><span data-stu-id="bcb89-390">Audit logs should capture user context.</span></span> <span data-ttu-id="bcb89-391">Identifique todos os eventos importantes e registre em log esses eventos.</span><span class="sxs-lookup"><span data-stu-id="bcb89-391">Identify all important events and log those events.</span></span> <span data-ttu-id="bcb89-392">Implementar o log centralizado</span><span class="sxs-lookup"><span data-stu-id="bcb89-392">Implement centralized logging</span></span> |

## <span data-ttu-id="bcb89-393"><a id="logging-field-gateway"></a>Certifique-se de que a auditoria e log apropriado é imposta no campo Gateway</span><span class="sxs-lookup"><span data-stu-id="bcb89-393"><a id="logging-field-gateway"></a>Ensure that appropriate auditing and logging is enforced on Field Gateway</span></span>

| <span data-ttu-id="bcb89-394">Title</span><span class="sxs-lookup"><span data-stu-id="bcb89-394">Title</span></span>                   | <span data-ttu-id="bcb89-395">Detalhes</span><span class="sxs-lookup"><span data-stu-id="bcb89-395">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="bcb89-396">**Componente**</span><span class="sxs-lookup"><span data-stu-id="bcb89-396">**Component**</span></span>               | <span data-ttu-id="bcb89-397">Gateway de Campo de IoT</span><span class="sxs-lookup"><span data-stu-id="bcb89-397">IoT Field Gateway</span></span> | 
| <span data-ttu-id="bcb89-398">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="bcb89-398">**SDL Phase**</span></span>               | <span data-ttu-id="bcb89-399">Compilação</span><span class="sxs-lookup"><span data-stu-id="bcb89-399">Build</span></span> |  
| <span data-ttu-id="bcb89-400">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="bcb89-400">**Applicable Technologies**</span></span> | <span data-ttu-id="bcb89-401">Genérico</span><span class="sxs-lookup"><span data-stu-id="bcb89-401">Generic</span></span> |
| <span data-ttu-id="bcb89-402">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="bcb89-402">**Attributes**</span></span>              | <span data-ttu-id="bcb89-403">N/D</span><span class="sxs-lookup"><span data-stu-id="bcb89-403">N/A</span></span>  |
| <span data-ttu-id="bcb89-404">**Referências**</span><span class="sxs-lookup"><span data-stu-id="bcb89-404">**References**</span></span>              | <span data-ttu-id="bcb89-405">N/D</span><span class="sxs-lookup"><span data-stu-id="bcb89-405">N/A</span></span>  |
| <span data-ttu-id="bcb89-406">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="bcb89-406">**Steps**</span></span> | <p><span data-ttu-id="bcb89-407">Quando vários dispositivos se conectam tooa campo Gateway, certifique-se de que as tentativas de conexão e o status de autenticação (sucesso ou falha) para dispositivos individuais são registradas e mantidas nos Olá Gateway de campo.</span><span class="sxs-lookup"><span data-stu-id="bcb89-407">When multiple devices connect tooa Field Gateway, ensure that connection attempts and authentication status (success or failure) for individual devices are logged and maintained on hello Field Gateway.</span></span></p><p><span data-ttu-id="bcb89-408">Além disso, em casos onde o Gateway de campo é manter Olá IoT Hub credenciais para dispositivos individuais, certifique-se de que a auditoria é executada quando essas credenciais são recuperadas. Desenvolva um processo tooperiodically carregamento Olá logs tooAzure IoT Hub/armazenamento para retenção de longo prazo.</span><span class="sxs-lookup"><span data-stu-id="bcb89-408">Also, in cases where Field Gateway is maintaining hello IoT Hub credentials for individual devices, ensure that auditing is performed when these credentials are retrieved.Develop a process tooperiodically upload hello logs tooAzure IoT Hub/storage for long term retention.</span></span></p> |

## <span data-ttu-id="bcb89-409"><a id="logging-cloud-gateway"></a>Certifique-se de que a auditoria e log apropriado é imposta no Gateway de nuvem</span><span class="sxs-lookup"><span data-stu-id="bcb89-409"><a id="logging-cloud-gateway"></a>Ensure that appropriate auditing and logging is enforced on Cloud Gateway</span></span>

| <span data-ttu-id="bcb89-410">Title</span><span class="sxs-lookup"><span data-stu-id="bcb89-410">Title</span></span>                   | <span data-ttu-id="bcb89-411">Detalhes</span><span class="sxs-lookup"><span data-stu-id="bcb89-411">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="bcb89-412">**Componente**</span><span class="sxs-lookup"><span data-stu-id="bcb89-412">**Component**</span></span>               | <span data-ttu-id="bcb89-413">Gateway de Nuvem IoT</span><span class="sxs-lookup"><span data-stu-id="bcb89-413">IoT Cloud Gateway</span></span> | 
| <span data-ttu-id="bcb89-414">**Fase do SDL**</span><span class="sxs-lookup"><span data-stu-id="bcb89-414">**SDL Phase**</span></span>               | <span data-ttu-id="bcb89-415">Compilação</span><span class="sxs-lookup"><span data-stu-id="bcb89-415">Build</span></span> |  
| <span data-ttu-id="bcb89-416">**Tecnologias aplicáveis**</span><span class="sxs-lookup"><span data-stu-id="bcb89-416">**Applicable Technologies**</span></span> | <span data-ttu-id="bcb89-417">Genérico</span><span class="sxs-lookup"><span data-stu-id="bcb89-417">Generic</span></span> |
| <span data-ttu-id="bcb89-418">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="bcb89-418">**Attributes**</span></span>              | <span data-ttu-id="bcb89-419">N/D</span><span class="sxs-lookup"><span data-stu-id="bcb89-419">N/A</span></span>  |
| <span data-ttu-id="bcb89-420">**Referências**</span><span class="sxs-lookup"><span data-stu-id="bcb89-420">**References**</span></span>              | [<span data-ttu-id="bcb89-421">Monitoramento de operações do Hub de tooIoT de Introdução</span><span class="sxs-lookup"><span data-stu-id="bcb89-421">Introduction tooIoT Hub operations monitoring</span></span>](https://azure.microsoft.com/documentation/articles/iot-hub-operations-monitoring/) |
| <span data-ttu-id="bcb89-422">**Etapas**</span><span class="sxs-lookup"><span data-stu-id="bcb89-422">**Steps**</span></span> | <p><span data-ttu-id="bcb89-423">Design para coletar e armazenar dados de auditoria coletados por meio do monitoramento de operações de Hub IoT.</span><span class="sxs-lookup"><span data-stu-id="bcb89-423">Design for collecting and storing audit data gathered through IoT Hub Operations Monitoring.</span></span> <span data-ttu-id="bcb89-424">Habilite Olá monitoramentos categorias a seguir:</span><span class="sxs-lookup"><span data-stu-id="bcb89-424">Enable hello following monitoring categories:</span></span></p><ul><li><span data-ttu-id="bcb89-425">Operações de identidade do dispositivo</span><span class="sxs-lookup"><span data-stu-id="bcb89-425">Device identity operations</span></span></li><li><span data-ttu-id="bcb89-426">Comunicações do dispositivo para a nuvem</span><span class="sxs-lookup"><span data-stu-id="bcb89-426">Device-to-cloud communications</span></span></li><li><span data-ttu-id="bcb89-427">Comunicações da nuvem para o dispositivo</span><span class="sxs-lookup"><span data-stu-id="bcb89-427">Cloud-to-device communications</span></span></li><li><span data-ttu-id="bcb89-428">Conexões</span><span class="sxs-lookup"><span data-stu-id="bcb89-428">Connections</span></span></li><li><span data-ttu-id="bcb89-429">Carregamentos de arquivos</span><span class="sxs-lookup"><span data-stu-id="bcb89-429">File uploads</span></span></li></ul>|
