---
title: "aaaHow tooretain um endereço IP virtual constante para um serviço de nuvem do Azure | Microsoft Docs"
description: "Saiba como tooensure que Olá endereço IP virtual (VIP) do seu serviço de nuvem do Azure não são alterados."
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: 4a58e2c6-7a79-4051-8a2c-99182ff8b881
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 03/21/2017
ms.author: kraigb
ms.openlocfilehash: 9e27121797ffb61517b8d2c2661ec44ff7298968
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="retain-a-constant-virtual-ip-address-for-an-azure-cloud-service"></a><span data-ttu-id="f598b-103">Reter um endereço IP virtual constante para um serviço de nuvem do Azure</span><span class="sxs-lookup"><span data-stu-id="f598b-103">Retain a constant virtual IP address for an Azure cloud service</span></span>
<span data-ttu-id="f598b-104">Quando você atualizar um serviço de nuvem que está hospedado no Azure, talvez seja necessário tooensure endereço IP virtual (VIP) saudação do serviço de saudação não é alterado.</span><span class="sxs-lookup"><span data-stu-id="f598b-104">When you update a cloud service that's hosted in Azure, you might need tooensure that hello virtual IP address (VIP) of hello service doesn't change.</span></span> <span data-ttu-id="f598b-105">Muitos serviços de gerenciamento de domínio usam Olá sistema de nome de domínio (DNS) para registrar nomes de domínio.</span><span class="sxs-lookup"><span data-stu-id="f598b-105">Many domain management services use hello Domain Name System (DNS) for registering domain names.</span></span> <span data-ttu-id="f598b-106">DNS só funcionará se Olá VIP permanece Olá mesmo.</span><span class="sxs-lookup"><span data-stu-id="f598b-106">DNS works only if hello VIP remains hello same.</span></span> <span data-ttu-id="f598b-107">Você pode usar o hello **Assistente de publicação** no tooensure de ferramentas do Azure que Olá VIP do seu serviço de nuvem não muda quando você atualizá-lo.</span><span class="sxs-lookup"><span data-stu-id="f598b-107">You can use hello **Publish Wizard** in Azure Tools tooensure that hello VIP of your cloud service doesn’t change when you update it.</span></span> <span data-ttu-id="f598b-108">Para obter mais informações sobre como toouse gerenciamento de domínio DNS para serviços de nuvem, consulte [Configurando um nome de domínio personalizado para um serviço de nuvem do Azure](cloud-services/cloud-services-custom-domain-name.md).</span><span class="sxs-lookup"><span data-stu-id="f598b-108">For more information about how toouse DNS domain management for cloud services, see [Configuring a custom domain name for an Azure cloud service](cloud-services/cloud-services-custom-domain-name.md).</span></span>

## <a name="publish-a-cloud-service-without-changing-its-vip"></a><span data-ttu-id="f598b-109">Publicar um serviço de nuvem sem alterar seu VIP</span><span class="sxs-lookup"><span data-stu-id="f598b-109">Publish a cloud service without changing its VIP</span></span>
<span data-ttu-id="f598b-110">Olá VIP de um serviço de nuvem é alocado quando você implanta-tooAzure em um ambiente específico, como o ambiente de produção de hello.</span><span class="sxs-lookup"><span data-stu-id="f598b-110">hello VIP of a cloud service is allocated when you first deploy it tooAzure in a particular environment, such as hello production environment.</span></span> <span data-ttu-id="f598b-111">alterações de VIP Olá somente se você excluir a implantação de saudação explicitamente ou implantação Olá é excluída implicitamente pela implantação Olá o processo de atualização.</span><span class="sxs-lookup"><span data-stu-id="f598b-111">hello VIP changes only if you delete hello deployment explicitly or hello deployment is implicitly deleted by hello deployment update process.</span></span> <span data-ttu-id="f598b-112">tooretain Olá VIP, você não deve excluir a implantação, e você deve assegurar-se de que o Visual Studio não exclui automaticamente sua implantação.</span><span class="sxs-lookup"><span data-stu-id="f598b-112">tooretain hello VIP, you must not delete your deployment, and you must make sure that Visual Studio doesn’t delete your deployment automatically.</span></span> 

<span data-ttu-id="f598b-113">Você pode especificar configurações de implantação no hello **Assistente de publicação**, que oferece suporte a várias opções de implantação.</span><span class="sxs-lookup"><span data-stu-id="f598b-113">You can specify deployment settings in hello **Publish Wizard**, which supports several deployment options.</span></span> <span data-ttu-id="f598b-114">Você pode especificar uma nova implantação ou uma implantação de atualização, que pode ser incremental ou simultânea.</span><span class="sxs-lookup"><span data-stu-id="f598b-114">You can specify a fresh deployment or an update deployment, which can be incremental or simultaneous.</span></span> <span data-ttu-id="f598b-115">Os dois tipos de implantação de atualização de mantém Olá VIP.</span><span class="sxs-lookup"><span data-stu-id="f598b-115">Both kinds of update deployment retain hello VIP.</span></span> <span data-ttu-id="f598b-116">Para obter definições desses tipos diferentes de implantação, consulte o [Assistente Publicar Aplicativo no Azure](vs-azure-tools-publish-azure-application-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="f598b-116">For definitions of these different types of deployment, see [Publish Azure Application Wizard](vs-azure-tools-publish-azure-application-wizard.md).</span></span> <span data-ttu-id="f598b-117">Além disso, você pode controlar se a implantação anterior Olá de um serviço de nuvem deve ser excluída se ocorrer um erro.</span><span class="sxs-lookup"><span data-stu-id="f598b-117">In addition, you can control whether hello previous deployment of a cloud service is deleted if an error occurs.</span></span> <span data-ttu-id="f598b-118">Se você não definir essa opção corretamente, Olá VIP pode mudar inesperadamente.</span><span class="sxs-lookup"><span data-stu-id="f598b-118">If you don't set that option correctly, hello VIP might change unexpectedly.</span></span>

## <a name="update-a-cloud-service-without-changing-its-vip"></a><span data-ttu-id="f598b-119">Para atualizar um serviço de nuvem sem alterar o respectivo VIP</span><span class="sxs-lookup"><span data-stu-id="f598b-119">Update a cloud service without changing its VIP</span></span>
1. <span data-ttu-id="f598b-120">Crie ou abra um projeto de serviço de nuvem do Azure no Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="f598b-120">Create or open an Azure cloud service project in Visual Studio.</span></span> 

2. <span data-ttu-id="f598b-121">Em **Solution Explorer**, projeto de saudação do botão direito do mouse.</span><span class="sxs-lookup"><span data-stu-id="f598b-121">In **Solution Explorer**, right-click hello project.</span></span> <span data-ttu-id="f598b-122">No menu de atalho hello, selecione **publicar**.</span><span class="sxs-lookup"><span data-stu-id="f598b-122">On hello shortcut menu, select **Publish**.</span></span>

    ![Menu Publicar](./media/vs-azure-tools-cloud-service-retain-a-constant-virtual-ip-address/solution-explorer-publish-menu.png)

3. <span data-ttu-id="f598b-124">Em Olá **publicar aplicativo do Azure** caixa de diálogo, selecione Olá toowhich de assinatura do Azure você deseja toodeploy.</span><span class="sxs-lookup"><span data-stu-id="f598b-124">In hello **Publish Azure Application** dialog box, select hello Azure subscription toowhich you want toodeploy.</span></span> <span data-ttu-id="f598b-125">Entre se necessário e selecione **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="f598b-125">Sign in if necessary, and select **Next**.</span></span>

    ![Página Publicar Aplicativo do Azure – Entrar](./media/vs-azure-tools-cloud-service-retain-a-constant-virtual-ip-address/azure-publish-signin.png)

4. <span data-ttu-id="f598b-127">Em Olá **configurações comuns** , verifique se esse nome de saudação do hello toowhich de serviço de nuvem você está implantando, hello **ambiente**, Olá **configuração de Build**e hello **Configuração do serviço** estão todos corretos.</span><span class="sxs-lookup"><span data-stu-id="f598b-127">On hello **Common Settings** tab, verify that hello name of hello cloud service toowhich you’re deploying, hello **Environment**, hello **Build configuration**, and hello **Service configuration** are all correct.</span></span>

    ![Guia Publicar aplicativo do Azure – Configurações Comuns](./media/vs-azure-tools-cloud-service-retain-a-constant-virtual-ip-address/azure-publish-common-settings.png)

5. <span data-ttu-id="f598b-129">Em Olá **configurações avançadas** , verifique se esse Olá **rótulo de implantação** e hello **conta de armazenamento** estão corretas.</span><span class="sxs-lookup"><span data-stu-id="f598b-129">On hello **Advanced Settings** tab, verify that hello **Deployment label** and hello **Storage account** are correct.</span></span> <span data-ttu-id="f598b-130">Verifique se esse Olá **excluir implantação em caso de falha** caixa de seleção é desmarcada e verifique se esse Olá **atualização de implantação** caixa de seleção é marcada.</span><span class="sxs-lookup"><span data-stu-id="f598b-130">Verify that hello **Delete deployment on failure** check box is cleared, and verify that hello **Deployment update** check box is selected.</span></span> <span data-ttu-id="f598b-131">Por limpar Olá **excluir implantação em caso de falha** caixa de seleção, você garantir que seu VIP não será perdida se ocorrer um erro durante a implantação.</span><span class="sxs-lookup"><span data-stu-id="f598b-131">By clearing hello **Delete deployment on failure** check box, you ensure that your VIP isn't lost if an error occurs during deployment.</span></span> <span data-ttu-id="f598b-132">Selecionando Olá **atualização de implantação** caixa de seleção, você garantir que a implantação não é excluída e o VIP não é perdida quando você publicar novamente o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f598b-132">By selecting hello **Deployment update** check box, you ensure that your deployment isn't deleted and your VIP isn't lost when you republish your application.</span></span> 

    ![Guia Publicar aplicativo do Azure – Configurações Avançadas](./media/vs-azure-tools-cloud-service-retain-a-constant-virtual-ip-address/azure-publish-advanced-settings.png)

6. <span data-ttu-id="f598b-134">toofurther especificar como você deseja Olá funções toobe atualizada, selecione **configurações** Avançar muito**atualização de implantação**.</span><span class="sxs-lookup"><span data-stu-id="f598b-134">toofurther specify how you want hello roles toobe updated, select **Settings** next too**Deployment update**.</span></span> <span data-ttu-id="f598b-135">Selecione **Atualização incremental** ou **Atualização simultânea** e selecione **OK**.</span><span class="sxs-lookup"><span data-stu-id="f598b-135">Select either **Incremental update** or **Simultaneous update**, and select **OK**.</span></span> <span data-ttu-id="f598b-136">Escolha **atualização Incremental** tooupdate cada instância do seu aplicativo, um após o outro, para que Olá aplicativo está sempre disponível.</span><span class="sxs-lookup"><span data-stu-id="f598b-136">Choose **Incremental update** tooupdate each instance of your application, one after another, so that hello application is always available.</span></span> <span data-ttu-id="f598b-137">Escolha **atualização simultânea** tooupdate todas as instâncias do seu aplicativo em Olá simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="f598b-137">Choose **Simultaneous update** tooupdate all instances of your application at hello same time.</span></span> <span data-ttu-id="f598b-138">Atualização simultânea é mais rápido, mas o serviço pode não estar disponível durante o processo de atualização de saudação.</span><span class="sxs-lookup"><span data-stu-id="f598b-138">Simultaneous updating is faster, but your service might not be available during hello update process.</span></span> <span data-ttu-id="f598b-139">Quando tiver terminado, selecione **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="f598b-139">When you are finished, select **Next**.</span></span>

    ![Página Publicar Aplicativo do Azure – Configurações de Implantação](./media/vs-azure-tools-cloud-service-retain-a-constant-virtual-ip-address/azure-publish-deployment-update-settings.png)

7. <span data-ttu-id="f598b-141">Em Olá **publicar aplicativo do Azure** caixa de diálogo, selecione **próximo** até Olá **resumo** página é exibida.</span><span class="sxs-lookup"><span data-stu-id="f598b-141">In hello **Publish Azure Application** dialog box, select **Next** until hello **Summary** page is displayed.</span></span> <span data-ttu-id="f598b-142">Verifique as configurações e, em seguida, selecione **Publicar**.</span><span class="sxs-lookup"><span data-stu-id="f598b-142">Verify your settings, and then select **Publish**.</span></span>
   
    ![Página Publicar Aplicativo do Azure – Resumo](./media/vs-azure-tools-cloud-service-retain-a-constant-virtual-ip-address/azure-publish-summary.png)

## <a name="next-steps"></a><span data-ttu-id="f598b-144">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="f598b-144">Next steps</span></span>
- [<span data-ttu-id="f598b-145">Usando o Visual Studio Azure Assistente para publicar aplicativo do hello</span><span class="sxs-lookup"><span data-stu-id="f598b-145">Using hello Visual Studio Publish Azure Application Wizard</span></span>](vs-azure-tools-publish-azure-application-wizard.md)

