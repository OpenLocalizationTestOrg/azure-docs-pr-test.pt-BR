---
title: aaaDiagnose e resolver problemas | Microsoft Docs
description: "Este tutorial aborda como toodiagnose e solucionar problemas em seu ambiente de informações da série de tempo"
keywords: 
services: time-series-insights
documentationcenter: 
author: venkatgct
manager: almineev
editor: cgronlun
ms.assetid: 
ms.service: time-series-insights
ms.devlang: na
ms.topic: how-to-article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 04/24/2017
ms.author: venkatja
ms.openlocfilehash: 00893d4bec497f5f8bf7093be5b96f1844446d13
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="diagnose-and-solve-problems-in-your-time-series-insights-environment"></a><span data-ttu-id="296c1-103">Diagnosticar e resolver problemas no ambiente do Time Series Insights</span><span class="sxs-lookup"><span data-stu-id="296c1-103">Diagnose and solve problems in your Time Series Insights environment</span></span>

## <a name="i-dont-see-my-data"></a><span data-ttu-id="296c1-104">Não vejo meus dados</span><span class="sxs-lookup"><span data-stu-id="296c1-104">I don't see my data</span></span>
<span data-ttu-id="296c1-105">Aqui estão algumas razões por que você não pode ver os dados no seu ambiente Olá [portal do Azure Insights de série de tempo](https://insights.timeseries.azure.com).</span><span class="sxs-lookup"><span data-stu-id="296c1-105">Here are some reasons why you might not see your data in your environment in hello [Azure Time Series Insights portal](https://insights.timeseries.azure.com).</span></span>

### <a name="your-event-source-doesnt-have-data-in-json-format"></a><span data-ttu-id="296c1-106">A origem do evento não tem dados no formato JSON</span><span class="sxs-lookup"><span data-stu-id="296c1-106">Your event source doesn't have data in JSON format</span></span>
<span data-ttu-id="296c1-107">Atualmente, o Azure Time Series Insights dá suporte apenas a dados JSON.</span><span class="sxs-lookup"><span data-stu-id="296c1-107">Azure Time Series Insights supports only JSON data today.</span></span> <span data-ttu-id="296c1-108">Para obter exemplos do JSON, consulte [Formas de JSON com suporte](time-series-insights-send-events.md#supported-json-shapes).</span><span class="sxs-lookup"><span data-stu-id="296c1-108">For JSON samples, see [Supported JSON shapes](time-series-insights-send-events.md#supported-json-shapes).</span></span>

### <a name="when-you-registered-your-event-source-you-didnt-provide-hello-key-that-has-hello-required-permission"></a><span data-ttu-id="296c1-109">Ao registrar a origem do evento, você não fornecer a chave Olá que tenha permissão de saudação necessária</span><span class="sxs-lookup"><span data-stu-id="296c1-109">When you registered your event source, you didn't provide hello key that has hello required permission</span></span>
* <span data-ttu-id="296c1-110">Para um hub IoT, você precisa de chave de saudação tooprovide com **serviço conectar** permissão.</span><span class="sxs-lookup"><span data-stu-id="296c1-110">For an IoT hub, you need tooprovide hello key that has **service connect** permission.</span></span>

   ![Permissão de conexão de serviço do Hub IoT](media/diagnose-and-solve-problems/iothub-serviceconnect-permissions.png)

   <span data-ttu-id="296c1-112">Conforme mostrado na saudação anterior a imagem, qualquer uma das políticas de saudação **iothubowner** e **service** funcionaria, pois ambos têm **serviço se conectar** permissão.</span><span class="sxs-lookup"><span data-stu-id="296c1-112">As shown in hello preceding image, either of hello policies **iothubowner** and **service** would work, because both have **service connect** permission.</span></span>
* <span data-ttu-id="296c1-113">Para um hub de eventos, você precisa de chave de saudação tooprovide com **escutar** permissão.</span><span class="sxs-lookup"><span data-stu-id="296c1-113">For an event hub, you need tooprovide hello key that has **Listen** permission.</span></span>

   ![Permissão de escuta do hub de eventos](media/diagnose-and-solve-problems/eventhub-listen-permissions.png)

   <span data-ttu-id="296c1-115">Conforme mostrado na saudação anterior a imagem, qualquer uma das políticas de saudação **ler** e **gerenciar** funcionaria, pois ambos têm **escutar** permissão.</span><span class="sxs-lookup"><span data-stu-id="296c1-115">As shown in hello preceding image, either of hello policies **read** and **manage** would work, because both have **Listen** permission.</span></span>

### <a name="hello-provided-consumer-group-is-not-exclusive-tootime-series-insights"></a><span data-ttu-id="296c1-116">Olá fornecido o grupo de consumidores não é exclusivo tooTime série Insights</span><span class="sxs-lookup"><span data-stu-id="296c1-116">hello provided consumer group is not exclusive tooTime Series Insights</span></span>
<span data-ttu-id="296c1-117">Para um hub IoT ou um hub de eventos, durante o registro solicitamos que você toospecify grupo de consumidores de saudação que deve ser usado para ler os dados.</span><span class="sxs-lookup"><span data-stu-id="296c1-117">For an IoT hub or an event hub, during registration we require you toospecify hello consumer group that should be used for reading your data.</span></span> <span data-ttu-id="296c1-118">Esse grupo de consumidores não deve ser compartilhado.</span><span class="sxs-lookup"><span data-stu-id="296c1-118">This consumer group must not be shared.</span></span> <span data-ttu-id="296c1-119">Se ele for compartilhado, hub de eventos subjacente Olá automaticamente desconecta um dos leitores Olá aleatoriamente.</span><span class="sxs-lookup"><span data-stu-id="296c1-119">If it's shared, hello underlying event hub automatically disconnects one of hello readers randomly.</span></span>

## <a name="i-see-my-data-but-theres-a-lag"></a><span data-ttu-id="296c1-120">Consigo ver meus dados, mas há um retardo</span><span class="sxs-lookup"><span data-stu-id="296c1-120">I see my data, but there's a lag</span></span>
<span data-ttu-id="296c1-121">Aqui estão os motivos pelos quais você pode receber dados parciais no seu ambiente Olá [portal Insights de série de tempo](https://insights.timeseries.azure.com).</span><span class="sxs-lookup"><span data-stu-id="296c1-121">Here are reasons why you might see partial data in your environment in hello [Time Series Insights portal](https://insights.timeseries.azure.com).</span></span>

### <a name="your-environment-is-getting-throttled"></a><span data-ttu-id="296c1-122">O ambiente está ficando restrito</span><span class="sxs-lookup"><span data-stu-id="296c1-122">Your environment is getting throttled</span></span>
<span data-ttu-id="296c1-123">Olá limitação é aplicada com base no tipo de SKU e a capacidade do ambiente de saudação.</span><span class="sxs-lookup"><span data-stu-id="296c1-123">hello throttling limit is enforced based on hello environment's SKU type and capacity.</span></span> <span data-ttu-id="296c1-124">Todas as fontes de evento no ambiente de saudação compartilham essa capacidade.</span><span class="sxs-lookup"><span data-stu-id="296c1-124">All event sources in hello environment share this capacity.</span></span> <span data-ttu-id="296c1-125">Se a origem do evento Olá para o hub IoT ou hub de eventos é enviar dados além dos limites de saudação imposta, você verá a limitação e um atraso.</span><span class="sxs-lookup"><span data-stu-id="296c1-125">If hello event source for your IoT hub or event hub is pushing data beyond hello enforced limits, you see throttling and a lag.</span></span>

<span data-ttu-id="296c1-126">Olá diagrama a seguir mostra um ambiente de informações da série de tempo que tenha um SKU de S1 e a capacidade de 3.</span><span class="sxs-lookup"><span data-stu-id="296c1-126">hello following diagram shows a Time Series Insights environment that has a SKU of S1 and a capacity of 3.</span></span> <span data-ttu-id="296c1-127">Ele pode ingressar 3 milhões de eventos por dia.</span><span class="sxs-lookup"><span data-stu-id="296c1-127">It can ingress 3 million events per day.</span></span>

![Capacidade atual do SKU do ambiente](media/diagnose-and-solve-problems/environment-sku-current-capacity.png)

<span data-ttu-id="296c1-129">Suponha que esse ambiente é ingestão de mensagens de um hub de eventos com taxa de entrada hello mostrada no diagrama a seguir de saudação:</span><span class="sxs-lookup"><span data-stu-id="296c1-129">Assume that this environment is ingesting messages from an event hub with hello ingress rate shown in hello following diagram:</span></span>

![Taxa de entrada de exemplo para um hub de eventos](media/diagnose-and-solve-problems/eventhub-ingress-rate.png)

<span data-ttu-id="296c1-131">Conforme mostrado no diagrama hello, taxa diária de entrada hello está ~ 67,000 mensagens.</span><span class="sxs-lookup"><span data-stu-id="296c1-131">As shown in hello diagram, hello daily ingress rate is ~67,000 messages.</span></span> <span data-ttu-id="296c1-132">Essa taxa converte aproximadamente too46 mensagens a cada minuto.</span><span class="sxs-lookup"><span data-stu-id="296c1-132">This rate translates roughly too46 messages every minute.</span></span> <span data-ttu-id="296c1-133">Se cada mensagem de hub de eventos é bidimensional tooa único evento de informações da série de tempo, esse ambiente não vê nenhuma limitação.</span><span class="sxs-lookup"><span data-stu-id="296c1-133">If each event hub message is flattened tooa single Time Series Insights event, this environment sees no throttling.</span></span> <span data-ttu-id="296c1-134">Se cada mensagem de hub de eventos é bidimensional too100 eventos de informações da série de tempo, em seguida, 4,600 eventos devem ser incluídos a cada minuto.</span><span class="sxs-lookup"><span data-stu-id="296c1-134">If each event hub message is flattened too100 Time Series Insights events, then 4,600 events should be ingested every minute.</span></span> <span data-ttu-id="296c1-135">Um ambiente de SKU S1 que tem uma capacidade 3 pode ingressar apenas 2.100 eventos por minuto (1 milhão de eventos por dia = 700 eventos por minuto em 3 unidades = 2.100 eventos por minuto).</span><span class="sxs-lookup"><span data-stu-id="296c1-135">An S1 SKU environment that has a capacity of 3 can ingress only 2,100 events every minute (1 million events per day = 700 events per minute at 3 units = 2,100 events per minute).</span></span> <span data-ttu-id="296c1-136">Portanto você pode ver um atraso toothrottling vencimento.</span><span class="sxs-lookup"><span data-stu-id="296c1-136">Therefore you see a lag due toothrottling.</span></span> 

<span data-ttu-id="296c1-137">Para obter um entendimento de alto nível sobre como funciona a lógica de nivelamento, consulte a seção [Formas de JSON com suporte](time-series-insights-send-events.md#supported-json-shapes).</span><span class="sxs-lookup"><span data-stu-id="296c1-137">For a high-level understanding of how flattening logic works, see [Supported JSON shapes](time-series-insights-send-events.md#supported-json-shapes).</span></span>

#### <a name="recommended-steps"></a><span data-ttu-id="296c1-138">Etapas recomendadas</span><span class="sxs-lookup"><span data-stu-id="296c1-138">Recommended steps</span></span>
<span data-ttu-id="296c1-139">latência de saudação toofix, Olá aumentar capacidade do SKU do seu ambiente.</span><span class="sxs-lookup"><span data-stu-id="296c1-139">toofix hello lag, increase hello SKU capacity of your environment.</span></span> <span data-ttu-id="296c1-140">Para obter mais informações, consulte [como tooscale seu ambiente de tempo série Insights](time-series-insights-how-to-scale-your-environment.md).</span><span class="sxs-lookup"><span data-stu-id="296c1-140">For more information, see [How tooscale your Time Series Insights environment](time-series-insights-how-to-scale-your-environment.md).</span></span>

### <a name="youre-pushing-historical-data-and-causing-slow-ingress"></a><span data-ttu-id="296c1-141">Você está enviando dados históricos e causando a entrada lenta</span><span class="sxs-lookup"><span data-stu-id="296c1-141">You're pushing historical data and causing slow ingress</span></span>
<span data-ttu-id="296c1-142">Se você estiver se conectando a uma origem do evento existente, é provável que o Hub IoT ou o hub de eventos já contenha dados.</span><span class="sxs-lookup"><span data-stu-id="296c1-142">If you are connecting an existing event source, it's likely that your IoT hub or event hub already has data in it.</span></span> <span data-ttu-id="296c1-143">Portanto ambiente Olá inicia dados entre o início de saudação do período de retenção de mensagem da fonte de evento hello.</span><span class="sxs-lookup"><span data-stu-id="296c1-143">So hello environment starts pulling data from hello beginning of hello event source's message retention period.</span></span> 

<span data-ttu-id="296c1-144">Esse comportamento é o comportamento padrão de saudação e não pode ser substituído.</span><span class="sxs-lookup"><span data-stu-id="296c1-144">This behavior is hello default behavior and cannot be overridden.</span></span> <span data-ttu-id="296c1-145">Você pode envolver a limitação e pode demorar um pouco toocatch backup sobre a ingestão de dados históricos.</span><span class="sxs-lookup"><span data-stu-id="296c1-145">You can engage throttling, and it may take a while toocatch up on ingesting historical data.</span></span>

#### <a name="recommended-steps"></a><span data-ttu-id="296c1-146">Etapas recomendadas</span><span class="sxs-lookup"><span data-stu-id="296c1-146">Recommended steps</span></span>
<span data-ttu-id="296c1-147">latência de saudação toofix, Olá execute as etapas a seguir:</span><span class="sxs-lookup"><span data-stu-id="296c1-147">toofix hello lag, take hello following steps:</span></span>
1. <span data-ttu-id="296c1-148">Aumente Olá SKU capacidade toohello valor máximo permitido (10, neste caso).</span><span class="sxs-lookup"><span data-stu-id="296c1-148">Increase hello SKU capacity toohello maximum allowed value (10 in this case).</span></span> <span data-ttu-id="296c1-149">Depois de capacidade de saudação é aumentada, processo de entrada hello inicia aproximando muito mais rápido.</span><span class="sxs-lookup"><span data-stu-id="296c1-149">After hello capacity is increased, hello ingress process starts catching up much faster.</span></span> <span data-ttu-id="296c1-150">Você pode visualizar rapidamente como estamos obtendo por meio do gráfico de disponibilidade Olá Olá [portal Insights de série de tempo](https://insights.timeseries.azure.com).</span><span class="sxs-lookup"><span data-stu-id="296c1-150">You can visualize how quickly you're catching up through hello availability chart in hello [Time Series Insights portal](https://insights.timeseries.azure.com).</span></span> <span data-ttu-id="296c1-151">Você é cobrado para Olá maior capacidade.</span><span class="sxs-lookup"><span data-stu-id="296c1-151">You are charged for hello increased capacity.</span></span>
2. <span data-ttu-id="296c1-152">Depois de latência de saudação é detectada, diminua a taxa de entrada normal Olá SKU capacidade tooyour voltar.</span><span class="sxs-lookup"><span data-stu-id="296c1-152">After hello lag is caught up, decrease hello SKU capacity back tooyour normal ingress rate.</span></span>

## <a name="my-event-sources-timestamp-property-name-setting-doesnt-work"></a><span data-ttu-id="296c1-153">A configuração *nome da propriedade do carimbo de data/hora* de minha origem do evento não funciona</span><span class="sxs-lookup"><span data-stu-id="296c1-153">My event source's *timestamp property name* setting doesn't work</span></span>
<span data-ttu-id="296c1-154">Verifique se o hello nome e valor atendem toohello regras a seguir:</span><span class="sxs-lookup"><span data-stu-id="296c1-154">Ensure that hello name and value conform toohello following rules:</span></span>
* <span data-ttu-id="296c1-155">nome de propriedade de carimbo de hora Olá _diferencia maiusculas de minúsculas_.</span><span class="sxs-lookup"><span data-stu-id="296c1-155">hello timestamp property name is _case-sensitive_.</span></span>
* <span data-ttu-id="296c1-156">valor da propriedade timestamp Olá que vêm de sua fonte de evento, como uma cadeia de caracteres JSON, deve ter o formato de saudação _AAAA-MM-ddTHH. FFFFFFFK_.</span><span class="sxs-lookup"><span data-stu-id="296c1-156">hello timestamp property value that's coming from your event source, as a JSON string, should have hello format _yyyy-MM-ddTHH:mm:ss.FFFFFFFK_.</span></span> <span data-ttu-id="296c1-157">Um exemplo de uma cadeia de caracteres desse tipo é “2008-04-12T12:53Z”.</span><span class="sxs-lookup"><span data-stu-id="296c1-157">An example of such a string is “2008-04-12T12:53Z”.</span></span>
