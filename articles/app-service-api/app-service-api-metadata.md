---
title: "Metadados de Aplicativos de API do Serviço de Aplicativo para geração de códigos e descoberta de API | Microsoft Docs"
description: "Saiba como os Aplicativos de API no Serviço de Aplicativo do Azure usam metadados do Swagger para facilitar a geração de códigos e a descoberta de API."
services: app-service\api
documentationcenter: .net
author: alexkarcher-msft
manager: erikre
editor: 
ms.assetid: c7f8e33a-61cc-486f-89df-4a97dc3c71d4
ms.service: app-service-api
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/30/2016
ms.author: alkarche
ms.openlocfilehash: 800bb9df9b957bec2c80abb3edefbaf354b549ca
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="app-service-api-apps-metadata-for-api-discovery-and-code-generation"></a><span data-ttu-id="2b63f-103">Metadados de Aplicativos de API do Serviço de Aplicativo para geração de códigos e descoberta de API</span><span class="sxs-lookup"><span data-stu-id="2b63f-103">App Service API Apps metadata for API discovery and code generation</span></span>
<span data-ttu-id="2b63f-104">O suporte para metadados de API do [Swagger 2.0](http://swagger.io/) baseia-se em Aplicativos de API do Serviço de Aplicativo.</span><span class="sxs-lookup"><span data-stu-id="2b63f-104">Support for [Swagger 2.0](http://swagger.io/) API metadata is built into App Service API Apps.</span></span> <span data-ttu-id="2b63f-105">Você não precisa usar o Swagger, mas se usá-lo, poderá tirar proveito dos recursos de Aplicativos de API que facilitam a descoberta e o consumo.</span><span class="sxs-lookup"><span data-stu-id="2b63f-105">You don't have to use Swagger, but if you do use it, you can take advantage of API Apps features that make discovery and consumption easier.</span></span>   

## <a name="swagger-endpoint"></a><span data-ttu-id="2b63f-106">Ponto de extremidade do Swagger</span><span class="sxs-lookup"><span data-stu-id="2b63f-106">Swagger endpoint</span></span>
<span data-ttu-id="2b63f-107">Você pode especificar um ponto de extremidade que forneça metadados JSON do Swagger 2.0  para um aplicativo de API em uma propriedade do aplicativo de API.</span><span class="sxs-lookup"><span data-stu-id="2b63f-107">You can specify an endpoint that provides Swagger 2.0 JSON metadata for an API app in a property of the API app.</span></span> <span data-ttu-id="2b63f-108">O ponto de extremidade pode ser relativo à URL base do aplicativo de API ou a uma URL absoluta.</span><span class="sxs-lookup"><span data-stu-id="2b63f-108">The endpoint can be relative to the base URL of the API app or an absolute URL.</span></span> <span data-ttu-id="2b63f-109">As URLs absolutas podem apontar para fora do aplicativo de API.</span><span class="sxs-lookup"><span data-stu-id="2b63f-109">Absolute URLs can point outside the API app.</span></span> 

<span data-ttu-id="2b63f-110">Para muitos clientes downstream (por exemplo, geração de código do Visual Studio e fluxo "Adicionar API" de PowerApps), a URL deve ser acessível publicamente (não estar protegida pelo usuário ou pela autenticação de serviço).</span><span class="sxs-lookup"><span data-stu-id="2b63f-110">Many downstream clients (for example, Visual Studio code generation and PowerApps "Add API" flow), the URL must be publicly accessible (not protected by user or service authentication).</span></span> <span data-ttu-id="2b63f-111">Isso significa que, se estiver usando a autenticação do Serviço de Aplicativo e desejar expor a definição de API de dentro de seu próprio aplicativo, você precisará usar a opção de autenticação que permite que o tráfego anônimo chegue à API.</span><span class="sxs-lookup"><span data-stu-id="2b63f-111">This means that if you're using App Service authentication and want to expose the API definition from within your app itself, you need to use authentication option that allows anonymous traffic to reach your API.</span></span> <span data-ttu-id="2b63f-112">Para obter mais informações, consulte [Autenticação e autorização para Aplicativos de API do Serviço de Aplicativo](app-service-api-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="2b63f-112">For more information, see [Authentication and authorization for App Service API Apps](app-service-api-authentication.md).</span></span>

### <a name="portal-blade"></a><span data-ttu-id="2b63f-113">Folha do Portal</span><span class="sxs-lookup"><span data-stu-id="2b63f-113">Portal blade</span></span>
<span data-ttu-id="2b63f-114">No [portal do Azure](https://portal.azure.com/) , a URL do ponto de extremidade pode ser vista e alterada na folha **Definição de API** .</span><span class="sxs-lookup"><span data-stu-id="2b63f-114">In the [Azure portal](https://portal.azure.com/) the endpoint URL can be seen and changed on the **API Definition** blade.</span></span>

![](./media/app-service-api-metadata/apidefblade.png)

### <a name="azure-resource-manager-property"></a><span data-ttu-id="2b63f-115">Propriedade do Gerenciador de Recursos do Azure</span><span class="sxs-lookup"><span data-stu-id="2b63f-115">Azure Resource Manager property</span></span>
<span data-ttu-id="2b63f-116">Você também pode configurar a URL de definição da API para um aplicativo de API usando o [Gerenciador de Recursos](https://resources.azure.com/) ou os [modelos do Azure Resource Manager](../azure-resource-manager/resource-group-authoring-templates.md) nas ferramentas da linha de comando, como o [Azure PowerShell](/powershell/azureps-cmdlets-docs) e a [CLI do Azure](../cli-install-nodejs.md).</span><span class="sxs-lookup"><span data-stu-id="2b63f-116">You can also configure the API definition URL for an API app by using [Resource Explorer](https://resources.azure.com/) or [Azure Resource Manager templates](../azure-resource-manager/resource-group-authoring-templates.md) in command line tools such as [Azure PowerShell](/powershell/azureps-cmdlets-docs) and the [Azure CLI](../cli-install-nodejs.md).</span></span> 

<span data-ttu-id="2b63f-117">No **Gerenciador de Recursos**, acesse **assinaturas > {sua assinatura} > resourceGroups > {seu grupo de recursos} > provedores > Microsoft.Web > sites > {seu site} > configuração > Web** e você verá a propriedade `apiDefinition`:</span><span class="sxs-lookup"><span data-stu-id="2b63f-117">In **Resource Explorer**, go to **subscriptions > {your subscription} > resourceGroups > {your resource group} > providers > Microsoft.Web > sites > {your site} > config > web**, and you'll see the `apiDefinition` property:</span></span>

        "apiDefinition": {
          "url": "https://contactslistapi.azurewebsites.net/swagger/docs/v1"
        }

<span data-ttu-id="2b63f-118">Para ver um exemplo de um modelo do Azure Resource Manager que defina a propriedade `apiDefinition` , abra o [arquivo azuredeploy.json no aplicativo de exemplo Lista de Tarefas Pendentes deste tutorial](https://github.com/azure-samples/app-service-api-dotnet-todo-list/blob/master/azuredeploy.json).</span><span class="sxs-lookup"><span data-stu-id="2b63f-118">For an example of an Azure Resource Manager template that sets the `apiDefinition` property, open the [azuredeploy.json file in the To-Do List sample application](https://github.com/azure-samples/app-service-api-dotnet-todo-list/blob/master/azuredeploy.json).</span></span> <span data-ttu-id="2b63f-119">Localize a seção do modelo que se parece com o exemplo JSON mostrado acima.</span><span class="sxs-lookup"><span data-stu-id="2b63f-119">Find the section of the template that looks like the JSON sample shown above.</span></span>

### <a name="default-value"></a><span data-ttu-id="2b63f-120">Valor padrão</span><span class="sxs-lookup"><span data-stu-id="2b63f-120">Default value</span></span>
<span data-ttu-id="2b63f-121">Quando você usa o Visual Studio para criar um aplicativo de API, o ponto de extremidade de definição de API é definido automaticamente para a URL base do aplicativo de API mais `/swagger/docs/v1`.</span><span class="sxs-lookup"><span data-stu-id="2b63f-121">When you use Visual Studio to create an API app, the API definition endpoint is automatically set to the base URL of the API app plus `/swagger/docs/v1`.</span></span> <span data-ttu-id="2b63f-122">Essa é a URL padrão que o pacote NuGet [Swashbuckle](https://www.nuget.org/packages/Swashbuckle) usa para servir metadados do Swagger gerados dinamicamente para um projeto de API Web do ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="2b63f-122">This is the default URL that the [Swashbuckle](https://www.nuget.org/packages/Swashbuckle) NuGet package uses to serve dynamically generated Swagger metadata for an ASP.NET Web API project.</span></span> 

## <a name="code-generation"></a><span data-ttu-id="2b63f-123">Geração de código</span><span class="sxs-lookup"><span data-stu-id="2b63f-123">Code generation</span></span>
<span data-ttu-id="2b63f-124">Um dos benefícios da integração do Swagger a aplicativos de API do Azure é a geração automática de código.</span><span class="sxs-lookup"><span data-stu-id="2b63f-124">One of the benefits of integrating Swagger into Azure API apps is automatic code generation.</span></span> <span data-ttu-id="2b63f-125">As classes de cliente geradas tornam mais fácil escrever código para chamar um aplicativo de API.</span><span class="sxs-lookup"><span data-stu-id="2b63f-125">Generated client classes make it easier to write code that calls an API app.</span></span>

<span data-ttu-id="2b63f-126">Você pode gerar o código cliente para um aplicativo de API usando o Visual Studio ou a linha de comando.</span><span class="sxs-lookup"><span data-stu-id="2b63f-126">You can generate client code for an API app by using Visual Studio or from the command line.</span></span> <span data-ttu-id="2b63f-127">Para saber mais sobre como gerar classes de cliente no Visual Studio para um projeto de API Web do ASP.NET, confira [Introdução aos Aplicativos de API e ASP.NET](app-service-api-dotnet-get-started.md#codegen).</span><span class="sxs-lookup"><span data-stu-id="2b63f-127">For information about how to generate client classes in Visual Studio for an ASP.NET Web API project, see [Get started with API Apps and ASP.NET](app-service-api-dotnet-get-started.md#codegen).</span></span> <span data-ttu-id="2b63f-128">Para saber mais sobre como fazer isso na linha de comando para todos os idiomas com suporte, confira o arquivo Leiame do repositório [Azure/autorest](https://github.com/azure/autorest) no GitHub.com.</span><span class="sxs-lookup"><span data-stu-id="2b63f-128">For information about how to do it from the command line for all supported languages, see the readme file of the [Azure/autorest](https://github.com/azure/autorest) repository on GitHub.com.</span></span>

## <a name="next-steps"></a><span data-ttu-id="2b63f-129">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="2b63f-129">Next steps</span></span>
<span data-ttu-id="2b63f-130">Para obter um tutorial passo a passo que oriente você durante a criação, a implantação e o consumo de um aplicativo de API, confira [Introdução aos Aplicativos de API no Serviço de Aplicativo do Azure](app-service-api-dotnet-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="2b63f-130">For a step-by-step tutorial that guides you through creating, deploying, and consuming an API app, see [Get started with API Apps in Azure App Service](app-service-api-dotnet-get-started.md).</span></span>

<span data-ttu-id="2b63f-131">Se você usar o Gerenciamento de API do Azure com aplicativos de API, pode usar metadados Swagger para importar sua API para o Gerenciamento de API.</span><span class="sxs-lookup"><span data-stu-id="2b63f-131">If you use Azure API Management with API Apps, you can use Swagger metadata to import your API into API Management.</span></span> <span data-ttu-id="2b63f-132">Para saber mais, confira [Como importar a definição de uma API com operações no Gerenciamento de API do Azure](../api-management/api-management-howto-import-api.md).</span><span class="sxs-lookup"><span data-stu-id="2b63f-132">For more information, see [How to import the definition of an API with operations in Azure API Management](../api-management/api-management-howto-import-api.md).</span></span> 

