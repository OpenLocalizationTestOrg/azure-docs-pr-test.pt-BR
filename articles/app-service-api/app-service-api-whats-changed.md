---
title: "Aplicativos de API do Serviço de Aplicativo: o que mudou | Microsoft Docs"
description: "Saiba quais são as novidades dos Aplicativos de API no Serviço de Aplicativo do Azure."
services: app-service\api
documentationcenter: .net
author: mohitsriv
manager: erikre
editor: tdykstra
ms.assetid: a9b58066-e8fd-48b8-a651-4613b1736433
ms.service: app-service-api
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/29/2016
ms.author: rachelap
ms.openlocfilehash: e4e25f2cd1d39bb0113e3fe2bc37120f92227b28
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2017
---
# <a name="app-service-api-apps---whats-changed"></a><span data-ttu-id="5a6e6-103">Aplicativos de API do Serviço de Aplicativo: o que mudou</span><span class="sxs-lookup"><span data-stu-id="5a6e6-103">App Service API Apps - What's changed</span></span>
<span data-ttu-id="5a6e6-104">No evento Connect(), em novembro de 2015, foram [anunciados](https://azure.microsoft.com/blog/azure-app-service-updates-november-2015/)vários aprimoramentos para o Serviço de Aplicativo do Azure.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-104">At the Connect() event in November 2015, a number of improvements to Azure App Service were [announced](https://azure.microsoft.com/blog/azure-app-service-updates-november-2015/).</span></span> <span data-ttu-id="5a6e6-105">Esses aprimoramentos incluem alterações subjacentes aos Aplicativos de API para alinhar da melhor forma possível com Aplicativos Web e Móveis, reduzir a contagem de conceitos e melhorar o desempenho da implantação e do tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-105">These improvements include underlying changes to API Apps to better align with Mobile and Web Apps, reduce concept count and improve deployment and runtime performance.</span></span> <span data-ttu-id="5a6e6-106">A partir de 30 de novembro de 2015, os novos aplicativos de API criados usando o Portal de Gerenciamento do Azure ou as ferramentas mais recentes refletirão essas alterações.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-106">Starting November 30, 2015, new API apps you create using the Azure management portal or the latest tooling will reflect these changes.</span></span> <span data-ttu-id="5a6e6-107">Este artigo descreve essas alterações e como reimplantar os aplicativos existentes para tirar proveito dos recursos.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-107">This article describes these changes, as well as how to redeploy existing apps to take advantage of the capabilities.</span></span>

## <a name="feature-changes"></a><span data-ttu-id="5a6e6-108">Alterações de recurso</span><span class="sxs-lookup"><span data-stu-id="5a6e6-108">Feature changes</span></span>
<span data-ttu-id="5a6e6-109">Os principais recursos dos Aplicativos de API: autenticação, CORS e metadados de API, foram movidos diretamente para o Serviço de Aplicativo.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-109">The key features of API Apps – authentication, CORS and API metadata – have moved directly into App Service.</span></span> <span data-ttu-id="5a6e6-110">Com essa alteração, os recursos ficam disponíveis em Aplicativos de API, Web e Móveis.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-110">With this change, the features are available across Web, Mobile and API Apps.</span></span> <span data-ttu-id="5a6e6-111">Na verdade, todos os três compartilham o mesmo tipo de recurso **Microsoft.Web/sites** no Gerenciador de Recursos.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-111">In fact, all three share the same **Microsoft.Web/sites** resource type in Resource Manager.</span></span> <span data-ttu-id="5a6e6-112">O gateway de Aplicativos de API não é mais necessário ou oferecidos em Aplicativos de API.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-112">The API Apps gateway is no longer needed or offered with API Apps.</span></span> <span data-ttu-id="5a6e6-113">Isso também facilita o uso da API de Gerenciamento do Azure, pois haverá apenas um gateway de Gerenciamento de API.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-113">This also makes it easier to use Azure API Management since there will be just the single API Management gateway.</span></span>

![Visão geral de Aplicativos de API](./media/app-service-api-whats-changed/api-apps-overview.png)

<span data-ttu-id="5a6e6-115">Um princípio de design fundamental da atualização dos Aplicativos de API é a possibilidade de usar sua API como ela está e na linguagem de sua preferência.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-115">A key design principle with the API Apps update is to enable you to bring your API as is, in your language of choice.</span></span>  <span data-ttu-id="5a6e6-116">Se sua API já estiver implantada como um Aplicativo Web ou Aplicativo Móvel, não será necessário reimplantar o aplicativo para tirar proveito dos novos recursos.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-116">If your API is already deployed as a Web App or Mobile App, you do not have to redeploy your app to take advantage of the new features.</span></span> <span data-ttu-id="5a6e6-117">Se você estiver atualmente na visualização dos Aplicativos de API, confira a orientação de migração detalhada abaixo.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-117">If you are currently on API Apps preview, migration guidance is detailed below.</span></span>

### <a name="authentication"></a><span data-ttu-id="5a6e6-118">Autenticação</span><span class="sxs-lookup"><span data-stu-id="5a6e6-118">Authentication</span></span>
<span data-ttu-id="5a6e6-119">Os recursos existentes de autenticação de Aplicativos de API, Aplicativos/Serviços Móveis e Aplicativos Web para uso imediato foram unificados e estão disponíveis em uma única folha de autenticação do Serviço de Aplicativo do Azure no Portal de Gerenciamento.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-119">The existing turnkey API Apps, Mobile Services/Apps and Web Apps authentication features have been unified and are available in a single Azure App Service authentication blade in the management portal.</span></span> <span data-ttu-id="5a6e6-120">Para obter uma introdução sobre os serviços de autenticação no Serviço de Aplicativo, confira [Expandindo a autenticação/autorização do Serviço de Aplicativo](https://azure.microsoft.com/blog/announcing-app-service-authentication-authorization/).</span><span class="sxs-lookup"><span data-stu-id="5a6e6-120">For an introduction to authentication services in App Service, see [Expanding App Service authentication / authorization](https://azure.microsoft.com/blog/announcing-app-service-authentication-authorization/).</span></span>

<span data-ttu-id="5a6e6-121">Para cenários de API, há diversos recursos novos relevantes:</span><span class="sxs-lookup"><span data-stu-id="5a6e6-121">For API scenarios, there are a number of relevant new capabilities:</span></span>

* <span data-ttu-id="5a6e6-122">**Suporte ao uso direto do Active Directory do Azure**, sem precisar trocar o token AAD no código do cliente por um token de sessão: seu cliente pode incluir apenas os tokens AAD no cabeçalho de Autorização, de acordo com a especificação de token de portador.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-122">**Support for using Azure Active Directory directly**, without client code having to exchange the AAD token for a session token: Your client can just include the AAD tokens in the Authorization header, according to the bearer token specification.</span></span> <span data-ttu-id="5a6e6-123">Isso também significa que um SDK específico ao Serviço de Aplicativo é exigido no lado do cliente ou do servidor.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-123">This also means no App Service-specific SDK is required on the client or server side.</span></span> 
* <span data-ttu-id="5a6e6-124">**Acesso entre serviços ou "Interno"**: se você tiver um processo de daemon ou algum outro cliente que precise de acesso às APIs sem uma interface, você poderá solicitar um token usando uma entidade de serviço do AAD e passá-lo ao Serviço de Aplicativo para autenticação com seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-124">**Service-to-service or "Internal" access**: If you have a daemon process or some other client needing access to APIs without an interface, you can request a token using an AAD service principal and pass it to App Service for authentication with your application.</span></span>
* <span data-ttu-id="5a6e6-125">**Autorização adiada**: muitos aplicativos têm restrições de acesso diferentes para partes diferentes do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-125">**Deferred authorization**: Many applications have varying access restrictions for different parts of the application.</span></span> <span data-ttu-id="5a6e6-126">Talvez você queira que algumas APIs estejam disponíveis publicamente, enquanto outras exijam o logon.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-126">Perhaps you want some APIs to be publicly available, while others require sign-in.</span></span> <span data-ttu-id="5a6e6-127">O recurso de Autenticação/Autorização original era tudo ou nada, e todo o site exigia o logon.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-127">The original Authentication/Authorization feature was all-or-nothing, with the whole site requiring login.</span></span> <span data-ttu-id="5a6e6-128">Essa opção ainda existe, mas você também pode permitir, como alternativa, que o código do aplicativo processe as decisões de acesso depois que o Serviço de Aplicativo tiver autenticado o usuário.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-128">This option still exists, but you can alternatively allow your application code to render access decisions after App Service has authenticated the user.</span></span>

<span data-ttu-id="5a6e6-129">Para saber mais sobre os novos recursos de autenticação, veja [Autenticação e autorização para Aplicativos de API no Serviço de Aplicativo do Azure](app-service-api-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="5a6e6-129">For more information about the new authentication features, see [Authentication and authorization for API Apps in Azure App Service](app-service-api-authentication.md).</span></span> <span data-ttu-id="5a6e6-130">Para saber mais sobre como migrar aplicativos de API existentes do modelo de aplicativos de API anterior para o novo, confira [Migração de aplicativos de API existentes](#migrating-existing-api-apps) posteriormente neste artigo.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-130">For information about how to migrate existing API apps from the previous API apps model to the new one, see [Migrating existing API apps](#migrating-existing-api-apps) later in this article.</span></span>

### <a name="cors"></a><span data-ttu-id="5a6e6-131">CORS</span><span class="sxs-lookup"><span data-stu-id="5a6e6-131">CORS</span></span>
<span data-ttu-id="5a6e6-132">Em vez de uma configuração de aplicativo **MS_CrossDomainOrigins** delimitada por vírgula, agora há uma folha no Portal de Gerenciamento do Azure para configuração de CORS.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-132">Instead of a comma-delimited **MS_CrossDomainOrigins** app setting, there is now a blade in the Azure management portal for configuring CORS.</span></span> <span data-ttu-id="5a6e6-133">Como alternativa, é possível configurá-lo usando as ferramentas do Gerenciador de Recursos, como o Azure PowerShell, a CLI ou o [Gerenciador de Recursos](https://resources.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="5a6e6-133">Alternatively, it can be configured using Resource Manager tooling such as Azure PowerShell, CLI or [Resource Explorer](https://resources.azure.com/).</span></span> <span data-ttu-id="5a6e6-134">Defina a propriedade **cors** no tipo de recurso **Microsoft.Web/sites/config** para o recurso **&lt;nome do site&gt;/web**.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-134">Set the **cors** property on the **Microsoft.Web/sites/config** resource type for your **&lt;site name&gt;/web** resource.</span></span> <span data-ttu-id="5a6e6-135">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="5a6e6-135">For example:</span></span>

    {
        "cors": {
            "allowedOrigins": [
                "https://localhost:44300"
            ]
        }
    } 

### <a name="api-metadata"></a><span data-ttu-id="5a6e6-136">Metadados da API</span><span class="sxs-lookup"><span data-stu-id="5a6e6-136">API metadata</span></span>
<span data-ttu-id="5a6e6-137">Agora, a folha de definição da API está disponível em Aplicativos Web, Móveis e de API.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-137">The API definition blade is now available across Web, Mobile and API Apps.</span></span> <span data-ttu-id="5a6e6-138">No Portal de Gerenciamento, você pode especificar uma URL relativa ou uma URL absoluta apontando para um ponto de extremidade que hospeda a representação Swagger 2.0 de sua API.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-138">In the management portal, you can specify either a relative url or an absolute url pointing to an endpoint that hosts a Swagger 2.0 representation of your API.</span></span> <span data-ttu-id="5a6e6-139">Como alternativa, ela pode ser configurada usando as ferramentas do Gerenciador de Recursos.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-139">Alternatively, it can be configured using Resource Manager tooling.</span></span> <span data-ttu-id="5a6e6-140">Defina a propriedade **apiDefinition** no tipo de recurso **Microsoft.Web/sites/config** para o recurso **&lt;nome do site&gt;/web**.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-140">Set the **apiDefinition** property on the **Microsoft.Web/sites/config** resource type for your **&lt;site name&gt;/web** resource.</span></span> <span data-ttu-id="5a6e6-141">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="5a6e6-141">For example:</span></span>

    {
        "apiDefinition":
        {
            "url": "https://myStorageAccount.blob.core.windows.net/swagger/apiDefinition.json"
        }
    }

<span data-ttu-id="5a6e6-142">Neste momento, o ponto de extremidade de metadados deve estar publicamente acessível sem autenticação para que vários clientes downstream (por exemplo, a geração de cliente de API REST do Visual Studio e o fluxo de "Adicionar API" do PowerApps) o consumam.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-142">At this time, the metadata endpoint needs to be publicly accessible without authentication for many downstream clients (e.g. Visual Studio REST API client generation and PowerApps "Add API" flow) to consume it.</span></span> <span data-ttu-id="5a6e6-143">Isso significa que se você estiver usando a autenticação do Serviço de Aplicativo e quiser expor a definição da API de dentro do próprio aplicativo, será necessário usar a opção Autenticação Adiada descrita anteriormente para que a rota até os metadados do Swagger seja pública.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-143">This does mean if you are using App Service authentication and want to expose the API definition from within your app itself, you will need to use the Deferred Authentication option described earlier so that the route to your Swagger metadata is public.</span></span>

## <a name="management-portal"></a><span data-ttu-id="5a6e6-144">Portal de Gerenciamento</span><span class="sxs-lookup"><span data-stu-id="5a6e6-144">Management Portal</span></span>
<span data-ttu-id="5a6e6-145">A seleção de **Novo > Web + Móvel > Aplicativo de API** no portal criará aplicativos de API que refletem os novos recursos descritos neste artigo.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-145">Selecting **New > Web + Mobile > API App** in the portal will create API apps that reflect the new capabilities described in the article.</span></span> <span data-ttu-id="5a6e6-146">**Procurar > Aplicativos de API** mostrará apenas esses novos aplicativos de API.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-146">**Browse > API Apps** will only show these new API apps.</span></span> <span data-ttu-id="5a6e6-147">Quando você navega em um aplicativo de API, a folha compartilha o mesmo layout e recursos dos Aplicativos Web e Móveis.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-147">Once you browse into an API app, the blade shares the same layout and capabilities as those of Web and Mobile Apps.</span></span> <span data-ttu-id="5a6e6-148">As únicas diferenças são o conteúdo de início rápido e a organização das configurações.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-148">The only differences are quickstart content and ordering of settings.</span></span>

<span data-ttu-id="5a6e6-149">Os Aplicativos de API existentes (ou aplicativos de API do Marketplace, criados a partir de Aplicativos Lógicos) com os recursos da Visualização anterior ainda estarão visíveis no designer dos Aplicativos Lógicos e ao navegar por todos os recursos em um grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-149">Existing API apps (or Marketplace API apps created from Logic Apps) with the previous Preview capabilities will still be visible in the Logic Apps designer and when browsing all resources in a resource group.</span></span>

## <a name="visual-studio"></a><span data-ttu-id="5a6e6-150">Visual Studio</span><span class="sxs-lookup"><span data-stu-id="5a6e6-150">Visual Studio</span></span>
<span data-ttu-id="5a6e6-151">A maioria das ferramentas de Aplicativos Web funcionará com novos aplicativos de API, pois eles compartilham o mesmo tipo de recurso base **Microsoft.Web/sites** .</span><span class="sxs-lookup"><span data-stu-id="5a6e6-151">Most Web Apps tooling will work with new API apps since they share the same underlying **Microsoft.Web/sites** resource type.</span></span> <span data-ttu-id="5a6e6-152">As ferramentas do Visual Studio do Azure, no entanto, devem ser atualizadas para a versão 2.8.1 ou posterior, pois expõem diversos recursos específicos às APIs.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-152">The Azure Visual Studio tooling, however, should be upgraded to version 2.8.1 or later since it exposes a number of capabilities specific to APIs.</span></span> <span data-ttu-id="5a6e6-153">Baixe o SDK da [página de downloads do Azure](https://azure.microsoft.com/downloads/).</span><span class="sxs-lookup"><span data-stu-id="5a6e6-153">Download the SDK from the [Azure downloads page](https://azure.microsoft.com/downloads/).</span></span>

<span data-ttu-id="5a6e6-154">Com a racionalização dos tipos de Serviço de Aplicativo, a publicação também é unificada em **Publicar > Serviço de Aplicativo do Microsoft Azure**:</span><span class="sxs-lookup"><span data-stu-id="5a6e6-154">With the rationalization of the App Service types, publish is also unified under **Publish > Microsoft Azure App Service**:</span></span>

![Publicação de Aplicativos de API](./media/app-service-api-whats-changed/api-apps-publish.png)

<span data-ttu-id="5a6e6-156">Para saber mais sobre o SDK 2.8.1, leia a [postagem de blog](https://azure.microsoft.com/blog/announcing-azure-sdk-2-8-1-for-net/)com o anúncio.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-156">To learn more about SDK 2.8.1, read the announcement [blog post](https://azure.microsoft.com/blog/announcing-azure-sdk-2-8-1-for-net/).</span></span>

<span data-ttu-id="5a6e6-157">Como alternativa, você pode importar manualmente o perfil de publicação no portal de gerenciamento a fim de habilitar a publicação.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-157">Alternatively, you can manually import the publish profile from the management portal to enable publish.</span></span> <span data-ttu-id="5a6e6-158">No entanto, o Gerenciador de Nuvem, a geração de código e aseleção/criação de aplicativos de API exigirão o SDK 2.8.1 ou superior.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-158">However, Cloud Explorer, code generation and API app selection/creation will require SDK 2.8.1 or higher.</span></span>

## <a name="migrating-existing-api-apps"></a><span data-ttu-id="5a6e6-159">Migração de aplicativos de API existentes</span><span class="sxs-lookup"><span data-stu-id="5a6e6-159">Migrating existing API apps</span></span>
<span data-ttu-id="5a6e6-160">Se a sua API personalizada for implantada para a versão de visualização anterior dos Aplicativos de API, solicitamos que você migre para o novo modelo de Aplicativos de API até 31 de dezembro de 2015.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-160">If your custom API is deployed to the previous Preview version of API Apps, we request that you migrate to the new model for API Apps by December 31, 2015.</span></span> <span data-ttu-id="5a6e6-161">Como o modelo antigo e o novo têm base nas APIs Web hospedadas no Serviço de Aplicativo, grande parte do código existente pode ser reutilizada.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-161">Since both the old and new model are based on Web APIs hosted in App Service, the majority of existing code can be reused.</span></span>

### <a name="hosting-and-redeployment"></a><span data-ttu-id="5a6e6-162">Hospedagem e reimplantação</span><span class="sxs-lookup"><span data-stu-id="5a6e6-162">Hosting and redeployment</span></span>
<span data-ttu-id="5a6e6-163">As etapas para reimplantação são iguais à implantação de qualquer API Web existente no Serviço de Aplicativo.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-163">The steps for redeploying are the same as deploying any existing Web API to App Service.</span></span> <span data-ttu-id="5a6e6-164">Etapas:</span><span class="sxs-lookup"><span data-stu-id="5a6e6-164">Steps:</span></span>

1. <span data-ttu-id="5a6e6-165">Criar um aplicativo de API vazio.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-165">Create an empty API app.</span></span> <span data-ttu-id="5a6e6-166">Isso pode ser feito no portal, em Novo > Aplicativo de API, no Visual Studio desde a publicação, ou nas ferramentas do Gerenciador de Recursos.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-166">This can be done in the portal with New > API App, in Visual Studio from publish, or from Resource Manager tooling.</span></span> <span data-ttu-id="5a6e6-167">Ao usar as ferramentas ou modelos do Gerenciador de Recursos, defina o valor de **tipo** como **api** no tipo de recurso **Microsoft.Web/sites** para que os guias de início rápido e as configurações no Portal de Gerenciamento sejam orientados para cenários de API.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-167">If using Resource Manager tooling or templates, set the **kind** value to **api** on the **Microsoft.Web/sites** resource type to have the quickstarts and settings in the management portal oriented towards API scenarios.</span></span>
2. <span data-ttu-id="5a6e6-168">Conecte e implante seu projeto no aplicativo de API vazio usando qualquer um dos mecanismos de implantação com suporte do Serviço de Aplicativo.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-168">Connect and deploy your project to the empty API app using any of the deployment mechanisms supported by App Service.</span></span> <span data-ttu-id="5a6e6-169">Leia a [documentação de implantação do Serviço de Aplicativo do Azure](../app-service-web/web-sites-deploy.md) para saber mais.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-169">Read [Azure App Service deployment documentation](../app-service-web/web-sites-deploy.md) to learn more.</span></span> 

### <a name="authentication"></a><span data-ttu-id="5a6e6-170">Autenticação</span><span class="sxs-lookup"><span data-stu-id="5a6e6-170">Authentication</span></span>
<span data-ttu-id="5a6e6-171">Os serviços de autenticação do Serviço de Aplicativo oferecem suportam aos mesmos recursos disponíveis no modelo anterior dos Aplicativos de API.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-171">The App Service authentication services support the same capabilities that were available with the previous API Apps model.</span></span> <span data-ttu-id="5a6e6-172">Se você estiver usando tokens de sessão e precisar de SDKs, use os seguintes SDKs de cliente e servidor:</span><span class="sxs-lookup"><span data-stu-id="5a6e6-172">If you are using session tokens and require SDKs, use the following client and server SDKs:</span></span>

* <span data-ttu-id="5a6e6-173">Cliente: [SDK de cliente móvel do Azure](http://www.nuget.org/packages/Microsoft.Azure.Mobile.Client/)</span><span class="sxs-lookup"><span data-stu-id="5a6e6-173">Client: [Azure Mobile Client SDK](http://www.nuget.org/packages/Microsoft.Azure.Mobile.Client/)</span></span>
* <span data-ttu-id="5a6e6-174">Servidor: [Extensão de autenticação .NET de aplicativo móvel do Microsoft Azure](http://www.nuget.org/packages/Microsoft.Azure.Mobile.Server.Authentication/)</span><span class="sxs-lookup"><span data-stu-id="5a6e6-174">Server: [Microsoft Azure Mobile App .NET Authentication Extension](http://www.nuget.org/packages/Microsoft.Azure.Mobile.Server.Authentication/)</span></span> 

<span data-ttu-id="5a6e6-175">Se em vez disso você estiver usando os SDKs alfa do Serviço de Aplicativo, eles já estarão obsoletos:</span><span class="sxs-lookup"><span data-stu-id="5a6e6-175">If you were instead using the App Service alpha SDKs, these are now deprecated:</span></span>

* <span data-ttu-id="5a6e6-176">Cliente: [SDK do Serviço de Aplicativo do Microsoft Azure](http://www.nuget.org/packages/Microsoft.Azure.AppService)</span><span class="sxs-lookup"><span data-stu-id="5a6e6-176">Client: [Microsoft Azure AppService SDK](http://www.nuget.org/packages/Microsoft.Azure.AppService)</span></span>
* <span data-ttu-id="5a6e6-177">Servidor: [Microsoft.Azure.AppService.ApiApps.Service](http://www.nuget.org/packages/Microsoft.Azure.AppService.ApiApps.Service)</span><span class="sxs-lookup"><span data-stu-id="5a6e6-177">Server: [Microsoft.Azure.AppService.ApiApps.Service](http://www.nuget.org/packages/Microsoft.Azure.AppService.ApiApps.Service)</span></span>

<span data-ttu-id="5a6e6-178">No entanto, especificamente com o Active Directory do Azure, nada específico ao Serviço de Aplicativo será necessário se você estiver usando o token AAD diretamente.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-178">In particular with Azure Active Directory, however, no App Service-specific is required if you are using the AAD token directly.</span></span>

### <a name="internal-access"></a><span data-ttu-id="5a6e6-179">Acesso interno</span><span class="sxs-lookup"><span data-stu-id="5a6e6-179">Internal access</span></span>
<span data-ttu-id="5a6e6-180">O modelo de Aplicativos de API anterior incluía um nível de acesso interno integrado.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-180">The previous API Apps model included a built-in internal access level.</span></span> <span data-ttu-id="5a6e6-181">Isso exigia a utilização do SDK para assinar solicitações.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-181">This required use of the SDK for signing requests.</span></span> <span data-ttu-id="5a6e6-182">Conforme descrito anteriormente, com o novo modelo de Aplicativos de API, as entidades de serviço do AAD podem ser usadas como uma alternativa para a autenticação entre serviços sem exigir um SDK específico ao Serviço de Aplicativo.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-182">As described earlier, with the new API Apps model, AAD service principals can be used as an alternate for service-to-service authentication without requiring an App Service-specific SDK.</span></span> <span data-ttu-id="5a6e6-183">Saiba mais em [Autenticação de entidade de serviço para Aplicativos de API no Serviço de Aplicativo do Azure](app-service-api-dotnet-service-principal-auth.md).</span><span class="sxs-lookup"><span data-stu-id="5a6e6-183">Learn more in [Service principal authentication for API Apps in Azure App Service](app-service-api-dotnet-service-principal-auth.md).</span></span>

### <a name="discovery"></a><span data-ttu-id="5a6e6-184">Descoberta</span><span class="sxs-lookup"><span data-stu-id="5a6e6-184">Discovery</span></span>
<span data-ttu-id="5a6e6-185">O modelo anterior de Aplicativos de API apresentava APIs para a descoberta de outros aplicativos de API em tempo de execução, no mesmo grupo de recursos por trás do mesmo gateway.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-185">The previous API Apps model had APIs for discovering other API apps at runtime in the same resource group behind the same gateway.</span></span> <span data-ttu-id="5a6e6-186">Isso é especialmente útil em arquiteturas que implementam padrões de microsserviço.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-186">This is especially useful in architectures that implement microservice patterns.</span></span> <span data-ttu-id="5a6e6-187">Embora isso não tenha suporte direto, há várias opções disponíveis:</span><span class="sxs-lookup"><span data-stu-id="5a6e6-187">While this is not directly supported, a number of options are available:</span></span>

1. <span data-ttu-id="5a6e6-188">Use a API do Azure Resource Manager para descoberta.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-188">Use the Azure Resource Manager API's for discovery.</span></span>
2. <span data-ttu-id="5a6e6-189">Coloque o Gerenciamento de API do Azure a frente de suas APIs hospedadas no Serviço de Aplicativo.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-189">Put Azure API Management in front of your App Service-hosted APIs.</span></span> <span data-ttu-id="5a6e6-190">O Gerenciamento de API do Azure serve como uma fachada e pode fornecer uma URL externa estável, mesmo se a topologia interna mudar.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-190">Azure API Management serves as a facade and can provide a stable external facing url even if you internal topology changes.</span></span>
3. <span data-ttu-id="5a6e6-191">Crie seu próprio aplicativo de API de descoberta e faça com que outros aplicativos de API registrem-se com o aplicativo de descoberta na inicialização.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-191">Build your own discovery API app and have other API apps register with the discovery app on startup.</span></span>
4. <span data-ttu-id="5a6e6-192">No momento da implantação, preencha as configurações do aplicativo de todos os aplicativos de API (e clientes) com os pontos de extremidade dos outros aplicativos de API.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-192">At deployment time, populate the app settings of all the API apps (and clients) with the endpoints of the other API apps.</span></span> <span data-ttu-id="5a6e6-193">Isso é viável em implantações de modelo e nos Aplicativos de API, já que agora oferecem controle da URL.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-193">This is viable in template deployments and since API Apps now give you control of the url.</span></span>

## <a name="using-api-apps-with-logic-apps"></a><span data-ttu-id="5a6e6-194">Usando aplicativos de API com aplicativos lógicos</span><span class="sxs-lookup"><span data-stu-id="5a6e6-194">Using API Apps with Logic Apps</span></span>
<span data-ttu-id="5a6e6-195">O novo modelo de aplicativos de API funciona bem com [a versão de esquema 2015-08-01 dos Aplicativos Lógicos](../logic-apps/logic-apps-schema-2015-08-01.md).</span><span class="sxs-lookup"><span data-stu-id="5a6e6-195">The new API apps model works well with [Logic Apps schema version 2015-08-01](../logic-apps/logic-apps-schema-2015-08-01.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="5a6e6-196">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="5a6e6-196">Next Steps</span></span>
<span data-ttu-id="5a6e6-197">Para saber mais, leia os artigos na seção [Documentação de Aplicativos de API](https://azure.microsoft.com/documentation/services/app-service/api/).</span><span class="sxs-lookup"><span data-stu-id="5a6e6-197">To learn more, read the articles in the [API Apps Documentation section](https://azure.microsoft.com/documentation/services/app-service/api/).</span></span> <span data-ttu-id="5a6e6-198">Eles foram atualizados para refletir o novo modelo para Aplicativos de API.</span><span class="sxs-lookup"><span data-stu-id="5a6e6-198">They have been updated to reflect the new model for API Apps.</span></span> <span data-ttu-id="5a6e6-199">Além disso, acesse os fóruns para obter detalhes adicionais ou orientação sobre migração:</span><span class="sxs-lookup"><span data-stu-id="5a6e6-199">In addition, do reach out on the forums for additional details or guidance on migration:</span></span>

* [<span data-ttu-id="5a6e6-200">Fórum do MSDN</span><span class="sxs-lookup"><span data-stu-id="5a6e6-200">MSDN forum</span></span>](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureAPIApps)
* [<span data-ttu-id="5a6e6-201">Stack Overflow</span><span class="sxs-lookup"><span data-stu-id="5a6e6-201">Stack Overflow</span></span>](http://stackoverflow.com/questions/tagged/azure-api-apps)

