---
title: Coletar e analisar contadores de desempenho no Azure Log Analytics | Microsoft Docs
description: "Os contadores de desempenho são coletados pelo Log Analytics para analisar o desempenho em agentes do Windows e Linux.  Este artigo descreve como configurar a coleta de contadores de desempenho para agentes do Windows e do Linux, os detalhes deles que são armazenados no repositório do OMS e como analisá-los no portal do OMS."
services: log-analytics
documentationcenter: 
author: mgoedtel
manager: carmonm
editor: tysonn
ms.assetid: 20e145e4-2ace-4cd9-b252-71fb4f94099e
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/12/2017
ms.author: magoedte
ms.openlocfilehash: 953bb453b0a9635627fbbb6c3913d0cd757101c7
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/03/2017
---
# <a name="windows-and-linux-performance-data-sources-in-log-analytics"></a><span data-ttu-id="20444-104">Fontes de dados de desempenho do Windows e Linux no Log Analytics</span><span class="sxs-lookup"><span data-stu-id="20444-104">Windows and Linux performance data sources in Log Analytics</span></span>
<span data-ttu-id="20444-105">Os contadores de desempenho no Windows e Linux fornecem informações sobre o desempenho de componentes de hardware, sistemas operacionais e aplicativos.</span><span class="sxs-lookup"><span data-stu-id="20444-105">Performance counters in Windows and Linux provide insight into the performance of hardware components, operating systems, and applications.</span></span>  <span data-ttu-id="20444-106">O Log Analytics pode coletar contadores de desempenho em intervalos frequentes para análises NRT (Quase em Tempo Real) além de agregar dados de desempenho para análise e relatório de longo prazo.</span><span class="sxs-lookup"><span data-stu-id="20444-106">Log Analytics can collect performance counters at frequent intervals for Near Real Time (NRT) analysis in addition to aggregating performance data for longer term analysis and reporting.</span></span>

![Contadores de desempenho](media/log-analytics-data-sources-performance-counters/overview.png)

## <a name="configuring-performance-counters"></a><span data-ttu-id="20444-108">Configurando os contadores de desempenho</span><span class="sxs-lookup"><span data-stu-id="20444-108">Configuring Performance counters</span></span>
<span data-ttu-id="20444-109">Configure os contadores de desempenho no portal do OMS do [menu Dados nas Configurações do Log Analytics](log-analytics-data-sources.md#configuring-data-sources).</span><span class="sxs-lookup"><span data-stu-id="20444-109">Configure  Performance counters in the OMS portal from the [Data menu in Log Analytics Settings](log-analytics-data-sources.md#configuring-data-sources).</span></span>

<span data-ttu-id="20444-110">Quando você configurar os contadores de desempenho do Linux ou Windows para um novo espaço de trabalho do OMS pela primeira vez, você tem a opção de criar rapidamente vários contadores comuns.</span><span class="sxs-lookup"><span data-stu-id="20444-110">When you first configure Windows or Linux Performance counters for a new OMS workspace, you are given the option to quickly create several common counters.</span></span>  <span data-ttu-id="20444-111">Eles são listados com uma caixa de seleção ao lado de cada um.</span><span class="sxs-lookup"><span data-stu-id="20444-111">They are listed with a checkbox next to each.</span></span>  <span data-ttu-id="20444-112">Garanta que todos os contadores que deseja criar inicialmente estejam marcados e clique em **Add the selected performance counters**(Adicionar os contadores de desempenho selecionados).</span><span class="sxs-lookup"><span data-stu-id="20444-112">Ensure that any counters you want to initially create are checked and then click **Add the selected performance counters**.</span></span>

<span data-ttu-id="20444-113">Para os contadores de desempenho do Windows, você pode escolher uma instância específica para cada contador de desempenho.</span><span class="sxs-lookup"><span data-stu-id="20444-113">For Windows performance counters, you can choose a specific instance for each performance counter.</span></span> <span data-ttu-id="20444-114">Para os contadores de desempenho do Linux, a instância de cada contador escolhido se aplicará a todos os contadores filhos do contador pai.</span><span class="sxs-lookup"><span data-stu-id="20444-114">For Linux performance counters, the instance of each counter that you choose applies to all child counters of the parent counter.</span></span> <span data-ttu-id="20444-115">A tabela a seguir mostra as instâncias comuns disponíveis para os contadores de desempenho do Linux e do Windows.</span><span class="sxs-lookup"><span data-stu-id="20444-115">The following table shows the common instances available to both Linux and Windows performance counters.</span></span>

| <span data-ttu-id="20444-116">Nome da instância</span><span class="sxs-lookup"><span data-stu-id="20444-116">Instance name</span></span> | <span data-ttu-id="20444-117">Descrição</span><span class="sxs-lookup"><span data-stu-id="20444-117">Description</span></span> |
| --- | --- |
| <span data-ttu-id="20444-118">\_Total</span><span class="sxs-lookup"><span data-stu-id="20444-118">\_Total</span></span> |<span data-ttu-id="20444-119">Total de todas as instâncias</span><span class="sxs-lookup"><span data-stu-id="20444-119">Total of all the instances</span></span> |
| \* |<span data-ttu-id="20444-120">Todas as instâncias</span><span class="sxs-lookup"><span data-stu-id="20444-120">All instances</span></span> |
| <span data-ttu-id="20444-121">(/&#124;/var)</span><span class="sxs-lookup"><span data-stu-id="20444-121">(/&#124;/var)</span></span> |<span data-ttu-id="20444-122">Corresponde às instâncias chamadas: / ou /var</span><span class="sxs-lookup"><span data-stu-id="20444-122">Matches instances named: / or /var</span></span> |

### <a name="windows-performance-counters"></a><span data-ttu-id="20444-123">Contadores de desempenho do Windows</span><span class="sxs-lookup"><span data-stu-id="20444-123">Windows performance counters</span></span>

![Configurar contadores de desempenho do Windows](media/log-analytics-data-sources-performance-counters/configure-windows.png)

<span data-ttu-id="20444-125">Siga este procedimento para adicionar um novo contador de desempenho do Windows para coletar.</span><span class="sxs-lookup"><span data-stu-id="20444-125">Follow this procedure to add a new Windows performance counter to collect.</span></span>

1. <span data-ttu-id="20444-126">Digite o nome do contador na caixa de texto no formato *objeto(instâncias)\contador*.</span><span class="sxs-lookup"><span data-stu-id="20444-126">Type the name of the counter in the text box in the format *object(instance)\counter*.</span></span>  <span data-ttu-id="20444-127">Quando você começar a digitar, verá uma lista de correspondência dos contadores comuns.</span><span class="sxs-lookup"><span data-stu-id="20444-127">When you start typing, you are presented with a matching list of common counters.</span></span>  <span data-ttu-id="20444-128">Você pode selecionar um contador na lista ou digitar um dos seus.</span><span class="sxs-lookup"><span data-stu-id="20444-128">You can either select a counter from the list or type in one of your own.</span></span>  <span data-ttu-id="20444-129">Você também pode retornar todas as instâncias de um determinado contador especificando *objeto\contador*.</span><span class="sxs-lookup"><span data-stu-id="20444-129">You can also return all instances for a particular counter by specifying *object\counter*.</span></span>  

    <span data-ttu-id="20444-130">Durante a coleta de contadores de desempenho do SQL Server de instâncias nomeadas, todos os contadores de instância nomeados começam com *MSSQL$* seguidos do nome da instância.</span><span class="sxs-lookup"><span data-stu-id="20444-130">When collecting SQL Server performance counters from named instances, all named instance counters start with *MSSQL$* and followed by the name of the instance.</span></span>  <span data-ttu-id="20444-131">Por exemplo, para coletar o contador de Proporção de Ocorrência no Cache de Log para todos os bancos de dados do objeto de desempenho de Banco de Dados para a instância nomeada do SQL INST2, especificar `MSSQL$INST2:Databases(*)\Log Cache Hit Ratio`.</span><span class="sxs-lookup"><span data-stu-id="20444-131">For example, to collect the Log Cache Hit Ratio counter for all databases from the Database performance object for named SQL instance INST2, specify `MSSQL$INST2:Databases(*)\Log Cache Hit Ratio`.</span></span>

2. <span data-ttu-id="20444-132">Clique em **+** ou pressione **Enter** para adicionar o contador à lista.</span><span class="sxs-lookup"><span data-stu-id="20444-132">Click **+** or press **Enter** to add the counter to the list.</span></span>
3. <span data-ttu-id="20444-133">Quando você adicionar um contador, ele usa o padrão de 10 segundos para seu **Intervalo de Amostragem**.</span><span class="sxs-lookup"><span data-stu-id="20444-133">When you add a counter, it uses the default of 10 seconds for its **Sample Interval**.</span></span>  <span data-ttu-id="20444-134">Você poderá alterar isso para um valor mais alto de até 1800 segundos (30 minutos) se desejar reduzir os requisitos de armazenamento dos dados de desempenho coletados.</span><span class="sxs-lookup"><span data-stu-id="20444-134">You can change this to a higher value of up to 1800 seconds (30 minutes) if you want to reduce the storage requirements of the collected performance data.</span></span>
4. <span data-ttu-id="20444-135">Quando terminar de adicionar contadores, clique no botão **Salvar** na parte superior da tela para salvar a configuração.</span><span class="sxs-lookup"><span data-stu-id="20444-135">When you're done adding counters, click the **Save** button at the top of the screen to save the configuration.</span></span>

### <a name="linux-performance-counters"></a><span data-ttu-id="20444-136">Contadores de desempenho do Linux</span><span class="sxs-lookup"><span data-stu-id="20444-136">Linux performance counters</span></span>

![Configurar contadores de desempenho do Linux](media/log-analytics-data-sources-performance-counters/configure-linux.png)

<span data-ttu-id="20444-138">Siga este procedimento para adicionar um novo contador de desempenho do Linux para coletar.</span><span class="sxs-lookup"><span data-stu-id="20444-138">Follow this procedure to add a new Linux performance counter to collect.</span></span>

1. <span data-ttu-id="20444-139">Por padrão, todas as alterações de configuração são automaticamente envidas por push para todos os agentes.</span><span class="sxs-lookup"><span data-stu-id="20444-139">By default, all configuration changes are automatically pushed to all agents.</span></span>  <span data-ttu-id="20444-140">Para agentes do Linux, um arquivo de configuração é enviado para o coletor de dados Fluentd.</span><span class="sxs-lookup"><span data-stu-id="20444-140">For Linux agents, a configuration file is sent to the Fluentd data collector.</span></span>  <span data-ttu-id="20444-141">Se você quiser modificar esse arquivo manualmente em cada agente do Linux, desmarque a caixa *Aplicar as configurações abaixo aos computadores Linux* e siga a diretriz abaixo.</span><span class="sxs-lookup"><span data-stu-id="20444-141">If you wish to modify this file manually on each Linux agent, then uncheck the box *Apply below configuration to my Linux machines* and follow the guidance below.</span></span>
2. <span data-ttu-id="20444-142">Digite o nome do contador na caixa de texto no formato *objeto(instâncias)\contador*.</span><span class="sxs-lookup"><span data-stu-id="20444-142">Type the name of the counter in the text box in the format *object(instance)\counter*.</span></span>  <span data-ttu-id="20444-143">Quando você começar a digitar, verá uma lista de correspondência dos contadores comuns.</span><span class="sxs-lookup"><span data-stu-id="20444-143">When you start typing, you are presented with a matching list of common counters.</span></span>  <span data-ttu-id="20444-144">Você pode selecionar um contador na lista ou digitar um dos seus.</span><span class="sxs-lookup"><span data-stu-id="20444-144">You can either select a counter from the list or type in one of your own.</span></span>  
3. <span data-ttu-id="20444-145">Clique em **+** ou pressione **Enter** para adicionar o contador à lista de outros contadores para o objeto.</span><span class="sxs-lookup"><span data-stu-id="20444-145">Click **+** or press **Enter** to add the counter to the list of other counters for the object.</span></span>
4. <span data-ttu-id="20444-146">Todos os contadores para um objeto usam o mesmo **Intervalo de Amostragem**.</span><span class="sxs-lookup"><span data-stu-id="20444-146">All counters for an object use the same **Sample Interval**.</span></span>  <span data-ttu-id="20444-147">O padrão é 10 segundos.</span><span class="sxs-lookup"><span data-stu-id="20444-147">The default is 10 seconds.</span></span>  <span data-ttu-id="20444-148">Você altera para um valor mais alto de até 1800 segundos (30 minutos) se desejar reduzir os requisitos de armazenamento dos dados de desempenho coletados.</span><span class="sxs-lookup"><span data-stu-id="20444-148">You change this to a higher value of up to 1800 seconds (30 minutes) if you want to reduce the storage requirements of the collected performance data.</span></span>
5. <span data-ttu-id="20444-149">Quando terminar de adicionar contadores, clique no botão **Salvar** na parte superior da tela para salvar a configuração.</span><span class="sxs-lookup"><span data-stu-id="20444-149">When you're done adding counters, click the **Save** button at the top of the screen to save the configuration.</span></span>

#### <a name="configure-linux-performance-counters-in-configuration-file"></a><span data-ttu-id="20444-150">Configurar contadores de desempenho do Linux no arquivo de configuração</span><span class="sxs-lookup"><span data-stu-id="20444-150">Configure Linux performance counters in configuration file</span></span>
<span data-ttu-id="20444-151">Em vez de configurar contadores de desempenho do Linux usando o portal do OMS, você tem a opção de editar arquivos de configuração no agente do Linux.</span><span class="sxs-lookup"><span data-stu-id="20444-151">Instead of configuring Linux performance counters using the OMS portal, you have the option of editing configuration files on the Linux agent.</span></span>  <span data-ttu-id="20444-152">As métricas de desempenho a serem coletadas são controladas pela configuração em **/etc/opt/microsoft/omsagent/\<workspace id\>/conf/omsagent.conf**.</span><span class="sxs-lookup"><span data-stu-id="20444-152">Performance metrics to collect are controlled by the configuration in **/etc/opt/microsoft/omsagent/\<workspace id\>/conf/omsagent.conf**.</span></span>

<span data-ttu-id="20444-153">Cada objeto, ou categoria, de métricas de desempenho a ser coletado deve ser definido no arquivo de configuração como um único elemento `<source>` .</span><span class="sxs-lookup"><span data-stu-id="20444-153">Each object, or category, of performance metrics to collect should be defined in the configuration file as a single `<source>` element.</span></span> <span data-ttu-id="20444-154">A sintaxe segue o padrão abaixo.</span><span class="sxs-lookup"><span data-stu-id="20444-154">The syntax follows the pattern below.</span></span>

    <source>
      type oms_omi  
      object_name "Processor"
      instance_regex ".*"
      counter_name_regex ".*"
      interval 30s
    </source>


<span data-ttu-id="20444-155">Os parâmetros usados com este comando são descritos na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="20444-155">The parameters in this element are described in the following table.</span></span>

| <span data-ttu-id="20444-156">Parâmetros</span><span class="sxs-lookup"><span data-stu-id="20444-156">Parameters</span></span> | <span data-ttu-id="20444-157">Descrição</span><span class="sxs-lookup"><span data-stu-id="20444-157">Description</span></span> |
|:--|:--|
| <span data-ttu-id="20444-158">object\_name</span><span class="sxs-lookup"><span data-stu-id="20444-158">object\_name</span></span> | <span data-ttu-id="20444-159">O nome do objeto da coleção.</span><span class="sxs-lookup"><span data-stu-id="20444-159">Object name for the collection.</span></span> |
| <span data-ttu-id="20444-160">instance\_regex</span><span class="sxs-lookup"><span data-stu-id="20444-160">instance\_regex</span></span> |  <span data-ttu-id="20444-161">Uma *expressão regular* que define quais instâncias serão coletadas.</span><span class="sxs-lookup"><span data-stu-id="20444-161">A *regular expression* defining which instances to collect.</span></span> <span data-ttu-id="20444-162">O valor: `.*` especifica todas as instâncias.</span><span class="sxs-lookup"><span data-stu-id="20444-162">The value: `.*` specifies all instances.</span></span> <span data-ttu-id="20444-163">Para coletar métricas de processador somente para a instância \_Total, você poderia especificar `_Total`.</span><span class="sxs-lookup"><span data-stu-id="20444-163">To collect processor metrics for only the \_Total instance, you could specify `_Total`.</span></span> <span data-ttu-id="20444-164">Para coletar métricas de processador somente para a instância _Total, você poderia especificar: `(crond\\</span><span class="sxs-lookup"><span data-stu-id="20444-164">To collect process metrics for only the crond or sshd instances, you could specify: `(crond\\</span></span>|<span data-ttu-id="20444-165">sshd)\`.</span><span class="sxs-lookup"><span data-stu-id="20444-165">sshd)\`.</span></span> |
| <span data-ttu-id="20444-166">counter\_name\_regex</span><span class="sxs-lookup"><span data-stu-id="20444-166">counter\_name\_regex</span></span> | <span data-ttu-id="20444-167">Uma *expressão regular* que define os contadores (para o objeto) a serem coletados.</span><span class="sxs-lookup"><span data-stu-id="20444-167">A *regular expression* defining which counters (for the object) to collect.</span></span> <span data-ttu-id="20444-168">Para coletar todos os contadores para o objeto, especifique: `.*`.</span><span class="sxs-lookup"><span data-stu-id="20444-168">To collect all counters for the object, specify: `.*`.</span></span> <span data-ttu-id="20444-169">Para coletar somente os contadores de espaço de permuta para o objeto de memória, por exemplo, você poderia especificar: `.+Swap.+`</span><span class="sxs-lookup"><span data-stu-id="20444-169">To collect only swap space counters for the memory object, for example, you could specify: `.+Swap.+`</span></span> |
| <span data-ttu-id="20444-170">intervalo</span><span class="sxs-lookup"><span data-stu-id="20444-170">interval</span></span> | <span data-ttu-id="20444-171">A frequência na qual os contadores do objeto são coletados.</span><span class="sxs-lookup"><span data-stu-id="20444-171">Frequency at which the object's counters are collected.</span></span> |


<span data-ttu-id="20444-172">A tabela a seguir lista os objetos e contadores que você pode especificar no arquivo de configuração.</span><span class="sxs-lookup"><span data-stu-id="20444-172">The following table lists the objects and counters that you can specify in the configuration file.</span></span>  <span data-ttu-id="20444-173">Há contadores adicionais disponíveis para certos aplicativos, conforme descrito em [Coletar contadores de desempenho para aplicativos Linux no Log Analytics](log-analytics-data-sources-linux-applications.md).</span><span class="sxs-lookup"><span data-stu-id="20444-173">There are additional counters available for certain applications as described in [Collect performance counters for Linux applications in Log Analytics](log-analytics-data-sources-linux-applications.md).</span></span>

| <span data-ttu-id="20444-174">Nome do Objeto</span><span class="sxs-lookup"><span data-stu-id="20444-174">Object Name</span></span> | <span data-ttu-id="20444-175">Nome do contador</span><span class="sxs-lookup"><span data-stu-id="20444-175">Counter Name</span></span> |
|:--|:--|
| <span data-ttu-id="20444-176">Disco Lógico</span><span class="sxs-lookup"><span data-stu-id="20444-176">Logical Disk</span></span> | <span data-ttu-id="20444-177">% de Inodes livres</span><span class="sxs-lookup"><span data-stu-id="20444-177">% Free Inodes</span></span> |
| <span data-ttu-id="20444-178">Disco Lógico</span><span class="sxs-lookup"><span data-stu-id="20444-178">Logical Disk</span></span> | <span data-ttu-id="20444-179">% de Espaço Livre</span><span class="sxs-lookup"><span data-stu-id="20444-179">% Free Space</span></span> |
| <span data-ttu-id="20444-180">Disco Lógico</span><span class="sxs-lookup"><span data-stu-id="20444-180">Logical Disk</span></span> | <span data-ttu-id="20444-181">% de Inodes Usados</span><span class="sxs-lookup"><span data-stu-id="20444-181">% Used Inodes</span></span> |
| <span data-ttu-id="20444-182">Disco Lógico</span><span class="sxs-lookup"><span data-stu-id="20444-182">Logical Disk</span></span> | <span data-ttu-id="20444-183">% de Espaço Usado</span><span class="sxs-lookup"><span data-stu-id="20444-183">% Used Space</span></span> |
| <span data-ttu-id="20444-184">Disco Lógico</span><span class="sxs-lookup"><span data-stu-id="20444-184">Logical Disk</span></span> | <span data-ttu-id="20444-185">Bytes Lidos no Disco/s </span><span class="sxs-lookup"><span data-stu-id="20444-185">Disk Read Bytes/sec</span></span> |
| <span data-ttu-id="20444-186">Disco Lógico</span><span class="sxs-lookup"><span data-stu-id="20444-186">Logical Disk</span></span> | <span data-ttu-id="20444-187">Leituras de Disco/s </span><span class="sxs-lookup"><span data-stu-id="20444-187">Disk Reads/sec</span></span> |
| <span data-ttu-id="20444-188">Disco Lógico</span><span class="sxs-lookup"><span data-stu-id="20444-188">Logical Disk</span></span> | <span data-ttu-id="20444-189">Transferências de Disco/s</span><span class="sxs-lookup"><span data-stu-id="20444-189">Disk Transfers/sec</span></span> |
| <span data-ttu-id="20444-190">Disco Lógico</span><span class="sxs-lookup"><span data-stu-id="20444-190">Logical Disk</span></span> | <span data-ttu-id="20444-191">Bytes Gravados no Disco/s</span><span class="sxs-lookup"><span data-stu-id="20444-191">Disk Write Bytes/sec</span></span> |
| <span data-ttu-id="20444-192">Disco Lógico</span><span class="sxs-lookup"><span data-stu-id="20444-192">Logical Disk</span></span> | <span data-ttu-id="20444-193">Gravações de Disco/s</span><span class="sxs-lookup"><span data-stu-id="20444-193">Disk Writes/sec</span></span> |
| <span data-ttu-id="20444-194">Disco Lógico</span><span class="sxs-lookup"><span data-stu-id="20444-194">Logical Disk</span></span> | <span data-ttu-id="20444-195">Megabytes Livres</span><span class="sxs-lookup"><span data-stu-id="20444-195">Free Megabytes</span></span> |
| <span data-ttu-id="20444-196">Disco Lógico</span><span class="sxs-lookup"><span data-stu-id="20444-196">Logical Disk</span></span> | <span data-ttu-id="20444-197">Bytes de Disco Lógico/s</span><span class="sxs-lookup"><span data-stu-id="20444-197">Logical Disk Bytes/sec</span></span> |
| <span data-ttu-id="20444-198">Memória</span><span class="sxs-lookup"><span data-stu-id="20444-198">Memory</span></span> | <span data-ttu-id="20444-199">% de Memória Disponível</span><span class="sxs-lookup"><span data-stu-id="20444-199">% Available Memory</span></span> |
| <span data-ttu-id="20444-200">Memória</span><span class="sxs-lookup"><span data-stu-id="20444-200">Memory</span></span> | <span data-ttu-id="20444-201">% de Espaço de Permuta Disponível</span><span class="sxs-lookup"><span data-stu-id="20444-201">% Available Swap Space</span></span> |
| <span data-ttu-id="20444-202">Memória</span><span class="sxs-lookup"><span data-stu-id="20444-202">Memory</span></span> | <span data-ttu-id="20444-203">% de Memória Usada</span><span class="sxs-lookup"><span data-stu-id="20444-203">% Used Memory</span></span> |
| <span data-ttu-id="20444-204">Memória</span><span class="sxs-lookup"><span data-stu-id="20444-204">Memory</span></span> | <span data-ttu-id="20444-205">% de Espaço de Permuta Usado</span><span class="sxs-lookup"><span data-stu-id="20444-205">% Used Swap Space</span></span> |
| <span data-ttu-id="20444-206">Memória</span><span class="sxs-lookup"><span data-stu-id="20444-206">Memory</span></span> | <span data-ttu-id="20444-207">MBytes de Memória Disponíveis</span><span class="sxs-lookup"><span data-stu-id="20444-207">Available MBytes Memory</span></span> |
| <span data-ttu-id="20444-208">Memória</span><span class="sxs-lookup"><span data-stu-id="20444-208">Memory</span></span> | <span data-ttu-id="20444-209">MBytes de Espaço de Permuta Disponíveis</span><span class="sxs-lookup"><span data-stu-id="20444-209">Available MBytes Swap</span></span> |
| <span data-ttu-id="20444-210">Memória</span><span class="sxs-lookup"><span data-stu-id="20444-210">Memory</span></span> | <span data-ttu-id="20444-211">Leituras de Página/s</span><span class="sxs-lookup"><span data-stu-id="20444-211">Page Reads/sec</span></span> |
| <span data-ttu-id="20444-212">Memória</span><span class="sxs-lookup"><span data-stu-id="20444-212">Memory</span></span> | <span data-ttu-id="20444-213">Gravações de Página/s</span><span class="sxs-lookup"><span data-stu-id="20444-213">Page Writes/sec</span></span> |
| <span data-ttu-id="20444-214">Memória</span><span class="sxs-lookup"><span data-stu-id="20444-214">Memory</span></span> | <span data-ttu-id="20444-215">Páginas/s</span><span class="sxs-lookup"><span data-stu-id="20444-215">Pages/sec</span></span> |
| <span data-ttu-id="20444-216">Memória</span><span class="sxs-lookup"><span data-stu-id="20444-216">Memory</span></span> | <span data-ttu-id="20444-217">MBytes de Espaço de Permuta Usado</span><span class="sxs-lookup"><span data-stu-id="20444-217">Used MBytes Swap Space</span></span> |
| <span data-ttu-id="20444-218">Memória</span><span class="sxs-lookup"><span data-stu-id="20444-218">Memory</span></span> | <span data-ttu-id="20444-219">MBytes de Memória Usada</span><span class="sxs-lookup"><span data-stu-id="20444-219">Used Memory MBytes</span></span> |
| <span data-ttu-id="20444-220">Rede</span><span class="sxs-lookup"><span data-stu-id="20444-220">Network</span></span> | <span data-ttu-id="20444-221">Total de Bytes Transmitidos</span><span class="sxs-lookup"><span data-stu-id="20444-221">Total Bytes Transmitted</span></span> |
| <span data-ttu-id="20444-222">Rede</span><span class="sxs-lookup"><span data-stu-id="20444-222">Network</span></span> | <span data-ttu-id="20444-223">Total de Bytes Recebidos</span><span class="sxs-lookup"><span data-stu-id="20444-223">Total Bytes Received</span></span> |
| <span data-ttu-id="20444-224">Rede</span><span class="sxs-lookup"><span data-stu-id="20444-224">Network</span></span> | <span data-ttu-id="20444-225">Total de Bytes</span><span class="sxs-lookup"><span data-stu-id="20444-225">Total Bytes</span></span> |
| <span data-ttu-id="20444-226">Rede</span><span class="sxs-lookup"><span data-stu-id="20444-226">Network</span></span> | <span data-ttu-id="20444-227">Total de Pacotes Transmitidos</span><span class="sxs-lookup"><span data-stu-id="20444-227">Total Packets Transmitted</span></span> |
| <span data-ttu-id="20444-228">Rede</span><span class="sxs-lookup"><span data-stu-id="20444-228">Network</span></span> | <span data-ttu-id="20444-229">Total de Pacotes Recebidos</span><span class="sxs-lookup"><span data-stu-id="20444-229">Total Packets Received</span></span> |
| <span data-ttu-id="20444-230">Rede</span><span class="sxs-lookup"><span data-stu-id="20444-230">Network</span></span> | <span data-ttu-id="20444-231">Total de Erros de Rx</span><span class="sxs-lookup"><span data-stu-id="20444-231">Total Rx Errors</span></span> |
| <span data-ttu-id="20444-232">Rede</span><span class="sxs-lookup"><span data-stu-id="20444-232">Network</span></span> | <span data-ttu-id="20444-233">Total de Erros de Tx</span><span class="sxs-lookup"><span data-stu-id="20444-233">Total Tx Errors</span></span> |
| <span data-ttu-id="20444-234">Rede</span><span class="sxs-lookup"><span data-stu-id="20444-234">Network</span></span> | <span data-ttu-id="20444-235">Total de Colisões</span><span class="sxs-lookup"><span data-stu-id="20444-235">Total Collisions</span></span> |
| <span data-ttu-id="20444-236">Disco Físico</span><span class="sxs-lookup"><span data-stu-id="20444-236">Physical Disk</span></span> | <span data-ttu-id="20444-237">Média</span><span class="sxs-lookup"><span data-stu-id="20444-237">Avg.</span></span> <span data-ttu-id="20444-238">de segundos/Leitura do Disco</span><span class="sxs-lookup"><span data-stu-id="20444-238">Disk sec/Read</span></span> |
| <span data-ttu-id="20444-239">Disco Físico</span><span class="sxs-lookup"><span data-stu-id="20444-239">Physical Disk</span></span> | <span data-ttu-id="20444-240">Média</span><span class="sxs-lookup"><span data-stu-id="20444-240">Avg.</span></span> <span data-ttu-id="20444-241">de segundos/Transferência do Disco</span><span class="sxs-lookup"><span data-stu-id="20444-241">Disk sec/Transfer</span></span> |
| <span data-ttu-id="20444-242">Disco Físico</span><span class="sxs-lookup"><span data-stu-id="20444-242">Physical Disk</span></span> | <span data-ttu-id="20444-243">Média</span><span class="sxs-lookup"><span data-stu-id="20444-243">Avg.</span></span> <span data-ttu-id="20444-244">de segundos/Gravação do Disco</span><span class="sxs-lookup"><span data-stu-id="20444-244">Disk sec/Write</span></span> |
| <span data-ttu-id="20444-245">Disco Físico</span><span class="sxs-lookup"><span data-stu-id="20444-245">Physical Disk</span></span> | <span data-ttu-id="20444-246">Bytes/s do Disco Físico</span><span class="sxs-lookup"><span data-stu-id="20444-246">Physical Disk Bytes/sec</span></span> |
| <span data-ttu-id="20444-247">Processo</span><span class="sxs-lookup"><span data-stu-id="20444-247">Process</span></span> | <span data-ttu-id="20444-248">% de Tempo Privilegiado</span><span class="sxs-lookup"><span data-stu-id="20444-248">Pct Privileged Time</span></span> |
| <span data-ttu-id="20444-249">Processo</span><span class="sxs-lookup"><span data-stu-id="20444-249">Process</span></span> | <span data-ttu-id="20444-250">% de Tempo do Usuário</span><span class="sxs-lookup"><span data-stu-id="20444-250">Pct User Time</span></span> |
| <span data-ttu-id="20444-251">Processo</span><span class="sxs-lookup"><span data-stu-id="20444-251">Process</span></span> | <span data-ttu-id="20444-252">KBytes de Memória Usada</span><span class="sxs-lookup"><span data-stu-id="20444-252">Used Memory kBytes</span></span> |
| <span data-ttu-id="20444-253">Processo</span><span class="sxs-lookup"><span data-stu-id="20444-253">Process</span></span> | <span data-ttu-id="20444-254">Memória Virtual Compartilhada</span><span class="sxs-lookup"><span data-stu-id="20444-254">Virtual Shared Memory</span></span> |
| <span data-ttu-id="20444-255">Processador</span><span class="sxs-lookup"><span data-stu-id="20444-255">Processor</span></span> | <span data-ttu-id="20444-256">% de Tempo de DPC</span><span class="sxs-lookup"><span data-stu-id="20444-256">% DPC Time</span></span> |
| <span data-ttu-id="20444-257">Processador</span><span class="sxs-lookup"><span data-stu-id="20444-257">Processor</span></span> | <span data-ttu-id="20444-258">% de Tempo Ocioso</span><span class="sxs-lookup"><span data-stu-id="20444-258">% Idle Time</span></span> |
| <span data-ttu-id="20444-259">Processador</span><span class="sxs-lookup"><span data-stu-id="20444-259">Processor</span></span> | <span data-ttu-id="20444-260">% de Tempo de Interrupção</span><span class="sxs-lookup"><span data-stu-id="20444-260">% Interrupt Time</span></span> |
| <span data-ttu-id="20444-261">Processador</span><span class="sxs-lookup"><span data-stu-id="20444-261">Processor</span></span> | <span data-ttu-id="20444-262">% de Tempo de Espera de E/S</span><span class="sxs-lookup"><span data-stu-id="20444-262">% IO Wait Time</span></span> |
| <span data-ttu-id="20444-263">Processador</span><span class="sxs-lookup"><span data-stu-id="20444-263">Processor</span></span> | <span data-ttu-id="20444-264">% de Tempo Adequado</span><span class="sxs-lookup"><span data-stu-id="20444-264">% Nice Time</span></span> |
| <span data-ttu-id="20444-265">Processador</span><span class="sxs-lookup"><span data-stu-id="20444-265">Processor</span></span> | <span data-ttu-id="20444-266">% de Tempo Privilegiado</span><span class="sxs-lookup"><span data-stu-id="20444-266">% Privileged Time</span></span> |
| <span data-ttu-id="20444-267">Processador</span><span class="sxs-lookup"><span data-stu-id="20444-267">Processor</span></span> | <span data-ttu-id="20444-268">% Tempo do Processador</span><span class="sxs-lookup"><span data-stu-id="20444-268">% Processor Time</span></span> |
| <span data-ttu-id="20444-269">Processador</span><span class="sxs-lookup"><span data-stu-id="20444-269">Processor</span></span> | <span data-ttu-id="20444-270">% de Tempo do Usuário</span><span class="sxs-lookup"><span data-stu-id="20444-270">% User Time</span></span> |
| <span data-ttu-id="20444-271">Sistema</span><span class="sxs-lookup"><span data-stu-id="20444-271">System</span></span> | <span data-ttu-id="20444-272">Memória Física Livre</span><span class="sxs-lookup"><span data-stu-id="20444-272">Free Physical Memory</span></span> |
| <span data-ttu-id="20444-273">Sistema</span><span class="sxs-lookup"><span data-stu-id="20444-273">System</span></span> | <span data-ttu-id="20444-274">Espaço Livre em Arquivos de Paginação</span><span class="sxs-lookup"><span data-stu-id="20444-274">Free Space in Paging Files</span></span> |
| <span data-ttu-id="20444-275">Sistema</span><span class="sxs-lookup"><span data-stu-id="20444-275">System</span></span> | <span data-ttu-id="20444-276">Memória Virtual Livre</span><span class="sxs-lookup"><span data-stu-id="20444-276">Free Virtual Memory</span></span> |
| <span data-ttu-id="20444-277">Sistema</span><span class="sxs-lookup"><span data-stu-id="20444-277">System</span></span> | <span data-ttu-id="20444-278">Processos</span><span class="sxs-lookup"><span data-stu-id="20444-278">Processes</span></span> |
| <span data-ttu-id="20444-279">Sistema</span><span class="sxs-lookup"><span data-stu-id="20444-279">System</span></span> | <span data-ttu-id="20444-280">Tamanho Armazenado em Arquivos de Paginação</span><span class="sxs-lookup"><span data-stu-id="20444-280">Size Stored In Paging Files</span></span> |
| <span data-ttu-id="20444-281">Sistema</span><span class="sxs-lookup"><span data-stu-id="20444-281">System</span></span> | <span data-ttu-id="20444-282">Tempo de atividade</span><span class="sxs-lookup"><span data-stu-id="20444-282">Uptime</span></span> |
| <span data-ttu-id="20444-283">Sistema</span><span class="sxs-lookup"><span data-stu-id="20444-283">System</span></span> | <span data-ttu-id="20444-284">Usuários</span><span class="sxs-lookup"><span data-stu-id="20444-284">Users</span></span> |


<span data-ttu-id="20444-285">A seguir está a configuração padrão para as métricas de desempenho.</span><span class="sxs-lookup"><span data-stu-id="20444-285">Following is the default configuration for performance metrics.</span></span>

    <source>
      type oms_omi
      object_name "Physical Disk"
      instance_regex ".*"
      counter_name_regex ".*"
      interval 5m
    </source>

    <source>
      type oms_omi
      object_name "Logical Disk"
      instance_regex ".*
      counter_name_regex ".*"
      interval 5m
    </source>

    <source>
      type oms_omi
      object_name "Processor"
      instance_regex ".*
      counter_name_regex ".*"
      interval 30s
    </source>

    <source>
      type oms_omi
      object_name "Memory"
      instance_regex ".*"
      counter_name_regex ".*"
      interval 30s
    </source>

## <a name="data-collection"></a><span data-ttu-id="20444-286">Coleta de dados</span><span class="sxs-lookup"><span data-stu-id="20444-286">Data collection</span></span>
<span data-ttu-id="20444-287">O Log Analytics coleta todos os contadores de desempenho especificados no seu intervalo de amostragem especificado em todos os agentes que têm o contador instalado.</span><span class="sxs-lookup"><span data-stu-id="20444-287">Log Analytics collects all specified performance counters at their specified sample interval on all agents that have that counter installed.</span></span>  <span data-ttu-id="20444-288">Os dados não estão agregados e os dados brutos estão disponíveis em todas as exibições de pesquisa de log pela duração especificada por sua assinatura do OMS.</span><span class="sxs-lookup"><span data-stu-id="20444-288">The data is not aggregated, and the raw data is available in all log search views for the duration specified by your OMS subscription.</span></span>

## <a name="performance-record-properties"></a><span data-ttu-id="20444-289">Propriedades do registro de desempenho</span><span class="sxs-lookup"><span data-stu-id="20444-289">Performance record properties</span></span>
<span data-ttu-id="20444-290">Os registros de desempenho têm um tipo de **Perf** e têm as propriedades na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="20444-290">Performance records have a type of **Perf** and have the properties in the following table.</span></span>

| <span data-ttu-id="20444-291">Propriedade</span><span class="sxs-lookup"><span data-stu-id="20444-291">Property</span></span> | <span data-ttu-id="20444-292">Descrição</span><span class="sxs-lookup"><span data-stu-id="20444-292">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="20444-293">Computador</span><span class="sxs-lookup"><span data-stu-id="20444-293">Computer</span></span> |<span data-ttu-id="20444-294">Computador do qual o evento foi coletado.</span><span class="sxs-lookup"><span data-stu-id="20444-294">Computer that the event was collected from.</span></span> |
| <span data-ttu-id="20444-295">CounterName</span><span class="sxs-lookup"><span data-stu-id="20444-295">CounterName</span></span> |<span data-ttu-id="20444-296">Nome do contador de desempenho</span><span class="sxs-lookup"><span data-stu-id="20444-296">Name of the performance counter</span></span> |
| <span data-ttu-id="20444-297">CounterPath</span><span class="sxs-lookup"><span data-stu-id="20444-297">CounterPath</span></span> |<span data-ttu-id="20444-298">Caminho completo do contador no formato \\\\\<Computador>\\objeto(instância)\\contador.</span><span class="sxs-lookup"><span data-stu-id="20444-298">Full path of the counter in the form \\\\\<Computer>\\object(instance)\\counter.</span></span> |
| <span data-ttu-id="20444-299">CounterValue</span><span class="sxs-lookup"><span data-stu-id="20444-299">CounterValue</span></span> |<span data-ttu-id="20444-300">Valor numérico do contador.</span><span class="sxs-lookup"><span data-stu-id="20444-300">Numeric value of the counter.</span></span> |
| <span data-ttu-id="20444-301">InstanceName</span><span class="sxs-lookup"><span data-stu-id="20444-301">InstanceName</span></span> |<span data-ttu-id="20444-302">Nome da instância do evento.</span><span class="sxs-lookup"><span data-stu-id="20444-302">Name of the event instance.</span></span>  <span data-ttu-id="20444-303">Vazio se não houver nenhuma instância.</span><span class="sxs-lookup"><span data-stu-id="20444-303">Empty if no instance.</span></span> |
| <span data-ttu-id="20444-304">ObjectName</span><span class="sxs-lookup"><span data-stu-id="20444-304">ObjectName</span></span> |<span data-ttu-id="20444-305">Nome do objeto de desempenho</span><span class="sxs-lookup"><span data-stu-id="20444-305">Name of the performance object</span></span> |
| <span data-ttu-id="20444-306">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="20444-306">SourceSystem</span></span> |<span data-ttu-id="20444-307">Tipo de agente do qual os dados foram coletados.</span><span class="sxs-lookup"><span data-stu-id="20444-307">Type of agent the data was collected from.</span></span> <br><br><span data-ttu-id="20444-308">OpsManager - agente do Windows, conexão direta ou SCOM</span><span class="sxs-lookup"><span data-stu-id="20444-308">OpsManager – Windows agent, either direct connect or SCOM</span></span> <br> <span data-ttu-id="20444-309">Linux: todos os agentes do Linux</span><span class="sxs-lookup"><span data-stu-id="20444-309">Linux – All Linux agents</span></span>  <br> <span data-ttu-id="20444-310">AzureStorage: Diagnóstico do Azure</span><span class="sxs-lookup"><span data-stu-id="20444-310">AzureStorage – Azure Diagnostics</span></span> |
| <span data-ttu-id="20444-311">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="20444-311">TimeGenerated</span></span> |<span data-ttu-id="20444-312">Data e hora em que os dados foram amostrados.</span><span class="sxs-lookup"><span data-stu-id="20444-312">Date and time the data was sampled.</span></span> |

## <a name="sizing-estimates"></a><span data-ttu-id="20444-313">Estimativas de dimensionamento</span><span class="sxs-lookup"><span data-stu-id="20444-313">Sizing estimates</span></span>
 <span data-ttu-id="20444-314">Uma estimativa aproximada de coleção de um determinado contador em intervalos de 10 segundos é cerca de 1 MB por dia por instância.</span><span class="sxs-lookup"><span data-stu-id="20444-314">A rough estimate for collection of a particular counter at 10-second intervals is about 1 MB per day per instance.</span></span>  <span data-ttu-id="20444-315">Você pode estimar os requisitos de armazenamento de um contador específico com a fórmula a seguir.</span><span class="sxs-lookup"><span data-stu-id="20444-315">You can estimate the storage requirements of a particular counter with the following formula.</span></span>

    1 MB x (number of counters) x (number of agents) x (number of instances)

## <a name="log-searches-with-performance-records"></a><span data-ttu-id="20444-316">Pesquisas de log com registros de desempenho</span><span class="sxs-lookup"><span data-stu-id="20444-316">Log searches with Performance records</span></span>
<span data-ttu-id="20444-317">A tabela a seguir fornece diferentes exemplos de pesquisas de log que recuperam registros de desempenho.</span><span class="sxs-lookup"><span data-stu-id="20444-317">The following table provides different examples of log searches that retrieve Performance records.</span></span>

| <span data-ttu-id="20444-318">Consultar</span><span class="sxs-lookup"><span data-stu-id="20444-318">Query</span></span> | <span data-ttu-id="20444-319">Descrição</span><span class="sxs-lookup"><span data-stu-id="20444-319">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="20444-320">Type=Perf</span><span class="sxs-lookup"><span data-stu-id="20444-320">Type=Perf</span></span> |<span data-ttu-id="20444-321">Todos os dados de desempenho</span><span class="sxs-lookup"><span data-stu-id="20444-321">All Performance data</span></span> |
| <span data-ttu-id="20444-322">Type=Perf Computer="MyComputer"</span><span class="sxs-lookup"><span data-stu-id="20444-322">Type=Perf Computer="MyComputer"</span></span> |<span data-ttu-id="20444-323">Todos os dados de desempenho de um computador específico</span><span class="sxs-lookup"><span data-stu-id="20444-323">All Performance data from a particular computer</span></span> |
| <span data-ttu-id="20444-324">Type=Perf CounterName="Current Disk Queue Length"</span><span class="sxs-lookup"><span data-stu-id="20444-324">Type=Perf CounterName="Current Disk Queue Length"</span></span> |<span data-ttu-id="20444-325">Todos os dados de desempenho de um contador específico</span><span class="sxs-lookup"><span data-stu-id="20444-325">All Performance data for a particular counter</span></span> |
| <span data-ttu-id="20444-326">Type=Perf (ObjectName=Processor) CounterName="% Processor Time" InstanceName=_Total &#124; measure Avg(Average) as AVGCPU by Computer</span><span class="sxs-lookup"><span data-stu-id="20444-326">Type=Perf (ObjectName=Processor) CounterName="% Processor Time" InstanceName=_Total &#124; measure Avg(Average) as AVGCPU  by Computer</span></span> |<span data-ttu-id="20444-327">Utilização média da CPU em todos os computadores</span><span class="sxs-lookup"><span data-stu-id="20444-327">Average CPU Utilization across all computers</span></span> |
| <span data-ttu-id="20444-328">Type=Perf (CounterName="% Processor Time") &#124; measure max(Max) by Computer</span><span class="sxs-lookup"><span data-stu-id="20444-328">Type=Perf (CounterName="% Processor Time") &#124;  measure max(Max) by Computer</span></span> |<span data-ttu-id="20444-329">Utilização máxima da CPU em todos os computadores</span><span class="sxs-lookup"><span data-stu-id="20444-329">Maximum CPU Utilization across all computers</span></span> |
| <span data-ttu-id="20444-330">Type=Perf ObjectName=LogicalDisk CounterName="Current Disk Queue Length" Computer="MyComputerName" &#124; measure Avg(Average) by InstanceName</span><span class="sxs-lookup"><span data-stu-id="20444-330">Type=Perf ObjectName=LogicalDisk CounterName="Current Disk Queue Length" Computer="MyComputerName" &#124; measure Avg(Average) by InstanceName</span></span> |<span data-ttu-id="20444-331">Comprimento médio da fila de disco atual em todas as instâncias de um determinado computador</span><span class="sxs-lookup"><span data-stu-id="20444-331">Average Current Disk Queue length across all  the instances of a given computer</span></span> |
| <span data-ttu-id="20444-332">Type=Perf CounterName="DiskTransfers/sec" &#124; measure percentile95(Average) by Computer</span><span class="sxs-lookup"><span data-stu-id="20444-332">Type=Perf CounterName="DiskTransfers/sec" &#124; measure percentile95(Average) by Computer</span></span> |<span data-ttu-id="20444-333">95º percentil de transferências de disco/s em todos os computadores</span><span class="sxs-lookup"><span data-stu-id="20444-333">95th Percentile of Disk Transfers/Sec across all computers</span></span> |
| <span data-ttu-id="20444-334">Type=Perf CounterName="% Processor Time" InstanceName="_Total"  &#124; measure avg(CounterValue) by Computer Interval 1HOUR</span><span class="sxs-lookup"><span data-stu-id="20444-334">Type=Perf CounterName="% Processor Time" InstanceName="_Total"  &#124; measure avg(CounterValue) by Computer Interval 1HOUR</span></span> |<span data-ttu-id="20444-335">Por hora média de utilização da CPU em todos os computadores</span><span class="sxs-lookup"><span data-stu-id="20444-335">Hourly average of CPU usage across all computers</span></span> |
| <span data-ttu-id="20444-336">Type=Perf Computer="MyComputer" CounterName=%* InstanceName=_Total &#124; measure percentile70(CounterValue) by CounterName Interval 1HOUR</span><span class="sxs-lookup"><span data-stu-id="20444-336">Type=Perf Computer="MyComputer" CounterName=%* InstanceName=_Total &#124; measure percentile70(CounterValue) by CounterName Interval 1HOUR</span></span> |<span data-ttu-id="20444-337">Percentil de 70 por hora de cada contador de porcentagem % para um computador específico</span><span class="sxs-lookup"><span data-stu-id="20444-337">Hourly 70 percentile of every % percent counter for a particular computer</span></span> |
| <span data-ttu-id="20444-338">Type=Perf CounterName="% Processor Time" InstanceName="_Total"  (Computer="MyComputer") &#124; measure min(CounterValue), avg(CounterValue), percentile75(CounterValue), max(CounterValue) by Computer Interval 1HOUR</span><span class="sxs-lookup"><span data-stu-id="20444-338">Type=Perf CounterName="% Processor Time" InstanceName="_Total"  (Computer="MyComputer") &#124; measure min(CounterValue), avg(CounterValue), percentile75(CounterValue), max(CounterValue) by Computer Interval 1HOUR</span></span> |<span data-ttu-id="20444-339">Por hora média, mínima, máximo e percentil de 75 da CPU para um computador específico</span><span class="sxs-lookup"><span data-stu-id="20444-339">Hourly average, minimum, maximum, and 75-percentile CPU usage for a specific computer</span></span> |
| <span data-ttu-id="20444-340">Type=Perf ObjectName="MSSQL$INST2:Databases" InstanceName=master</span><span class="sxs-lookup"><span data-stu-id="20444-340">Type=Perf ObjectName="MSSQL$INST2:Databases" InstanceName=master</span></span> | <span data-ttu-id="20444-341">Todos os dados de desempenho do objeto de desempenho de Banco de Dados para o banco de dados mestre da instância nomeada do SQL Server INST2.</span><span class="sxs-lookup"><span data-stu-id="20444-341">All Performance data from the Database performance object for the master database from the named SQL Server instance INST2.</span></span>  

>[!NOTE]
> <span data-ttu-id="20444-342">Se o seu espaço de trabalho fosse atualizado para a [nova linguagem de consulta do Log Analytics](log-analytics-log-search-upgrade.md), as consultas acima seriam alteradas para o demonstrado a seguir.</span><span class="sxs-lookup"><span data-stu-id="20444-342">If your workspace has been upgraded to the [new Log Analytics query language](log-analytics-log-search-upgrade.md), then the above queries would change to the following.</span></span>

> | <span data-ttu-id="20444-343">Consultar</span><span class="sxs-lookup"><span data-stu-id="20444-343">Query</span></span> | <span data-ttu-id="20444-344">Descrição</span><span class="sxs-lookup"><span data-stu-id="20444-344">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="20444-345">Perf</span><span class="sxs-lookup"><span data-stu-id="20444-345">Perf</span></span> |<span data-ttu-id="20444-346">Todos os dados de desempenho</span><span class="sxs-lookup"><span data-stu-id="20444-346">All Performance data</span></span> |
| <span data-ttu-id="20444-347">Perf &#124; where Computer == "MyComputer"</span><span class="sxs-lookup"><span data-stu-id="20444-347">Perf &#124; where Computer == "MyComputer"</span></span> |<span data-ttu-id="20444-348">Todos os dados de desempenho de um computador específico</span><span class="sxs-lookup"><span data-stu-id="20444-348">All Performance data from a particular computer</span></span> |
| <span data-ttu-id="20444-349">Perf &#124; where CounterName == "Current Disk Queue Length"</span><span class="sxs-lookup"><span data-stu-id="20444-349">Perf &#124; where CounterName == "Current Disk Queue Length"</span></span> |<span data-ttu-id="20444-350">Todos os dados de desempenho de um contador específico</span><span class="sxs-lookup"><span data-stu-id="20444-350">All Performance data for a particular counter</span></span> |
| <span data-ttu-id="20444-351">Perf &#124; where ObjectName == "Processor" and CounterName == "% Processor Time" and InstanceName == "_Total" &#124; summarize AVGCPU = avg(Average) by Computer</span><span class="sxs-lookup"><span data-stu-id="20444-351">Perf &#124; where ObjectName == "Processor" and CounterName == "% Processor Time" and InstanceName == "_Total" &#124; summarize AVGCPU = avg(Average) by Computer</span></span> |<span data-ttu-id="20444-352">Utilização média da CPU em todos os computadores</span><span class="sxs-lookup"><span data-stu-id="20444-352">Average CPU Utilization across all computers</span></span> |
| <span data-ttu-id="20444-353">Perf &#124; where CounterName == "% Processor Time" &#124; summarize AggregatedValue = max(Max) by Computer</span><span class="sxs-lookup"><span data-stu-id="20444-353">Perf &#124; where CounterName == "% Processor Time" &#124; summarize AggregatedValue = max(Max) by Computer</span></span> |<span data-ttu-id="20444-354">Utilização máxima da CPU em todos os computadores</span><span class="sxs-lookup"><span data-stu-id="20444-354">Maximum CPU Utilization across all computers</span></span> |
| <span data-ttu-id="20444-355">Perf &#124; where ObjectName == "LogicalDisk" and CounterName == "Current Disk Queue Length" and Computer == "MyComputerName" &#124; summarize AggregatedValue = avg(Average) by InstanceName</span><span class="sxs-lookup"><span data-stu-id="20444-355">Perf &#124; where ObjectName == "LogicalDisk" and CounterName == "Current Disk Queue Length" and Computer == "MyComputerName" &#124; summarize AggregatedValue = avg(Average) by InstanceName</span></span> |<span data-ttu-id="20444-356">Comprimento médio da fila de disco atual em todas as instâncias de um determinado computador</span><span class="sxs-lookup"><span data-stu-id="20444-356">Average Current Disk Queue length across all  the instances of a given computer</span></span> |
| <span data-ttu-id="20444-357">Perf &#124; where CounterName == "DiskTransfers/sec" &#124; summarize AggregatedValue = percentile(Average, 95) by Computer</span><span class="sxs-lookup"><span data-stu-id="20444-357">Perf &#124; where CounterName == "DiskTransfers/sec" &#124; summarize AggregatedValue = percentile(Average, 95) by Computer</span></span> |<span data-ttu-id="20444-358">95º percentil de transferências de disco/s em todos os computadores</span><span class="sxs-lookup"><span data-stu-id="20444-358">95th Percentile of Disk Transfers/Sec across all computers</span></span> |
| <span data-ttu-id="20444-359">Perf &#124; where CounterName == "% Processor Time" and InstanceName == "_Total" &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), Computer</span><span class="sxs-lookup"><span data-stu-id="20444-359">Perf &#124; where CounterName == "% Processor Time" and InstanceName == "_Total" &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), Computer</span></span> |<span data-ttu-id="20444-360">Por hora média de utilização da CPU em todos os computadores</span><span class="sxs-lookup"><span data-stu-id="20444-360">Hourly average of CPU usage across all computers</span></span> |
| <span data-ttu-id="20444-361">Perf &#124; where Computer == "MyComputer" and CounterName startswith_cs "%" and InstanceName == "_Total" &#124; summarize AggregatedValue = percentile(CounterValue, 70) by bin(TimeGenerated, 1h), CounterName</span><span class="sxs-lookup"><span data-stu-id="20444-361">Perf &#124; where Computer == "MyComputer" and CounterName startswith_cs "%" and InstanceName == "_Total" &#124; summarize AggregatedValue = percentile(CounterValue, 70) by bin(TimeGenerated, 1h), CounterName</span></span> | <span data-ttu-id="20444-362">Percentil de 70 por hora de cada contador de porcentagem % para um computador específico</span><span class="sxs-lookup"><span data-stu-id="20444-362">Hourly 70 percentile of every % percent counter for a particular computer</span></span> |
| <span data-ttu-id="20444-363">Perf &#124; where CounterName == "% Processor Time" and InstanceName == "_Total" and Computer == "MyComputer" &#124; summarize ["min(CounterValue)"] = min(CounterValue), ["avg(CounterValue)"] = avg(CounterValue), ["percentile75(CounterValue)"] = percentile(CounterValue, 75), ["max(CounterValue)"] = max(CounterValue) by bin(TimeGenerated, 1h), Computer</span><span class="sxs-lookup"><span data-stu-id="20444-363">Perf &#124; where CounterName == "% Processor Time" and InstanceName == "_Total" and Computer == "MyComputer" &#124; summarize ["min(CounterValue)"] = min(CounterValue), ["avg(CounterValue)"] = avg(CounterValue), ["percentile75(CounterValue)"] = percentile(CounterValue, 75), ["max(CounterValue)"] = max(CounterValue) by bin(TimeGenerated, 1h), Computer</span></span> |<span data-ttu-id="20444-364">Por hora média, mínima, máximo e percentil de 75 da CPU para um computador específico</span><span class="sxs-lookup"><span data-stu-id="20444-364">Hourly average, minimum, maximum, and 75-percentile CPU usage for a specific computer</span></span> |
| <span data-ttu-id="20444-365">Perf &#124; where ObjectName == "MSSQL$INST2:Databases" and InstanceName == "master"</span><span class="sxs-lookup"><span data-stu-id="20444-365">Perf &#124; where ObjectName == "MSSQL$INST2:Databases" and InstanceName == "master"</span></span> | <span data-ttu-id="20444-366">Todos os dados de desempenho do objeto de desempenho de Banco de Dados para o banco de dados mestre da instância nomeada do SQL Server INST2.</span><span class="sxs-lookup"><span data-stu-id="20444-366">All Performance data from the Database performance object for the master database from the named SQL Server instance INST2.</span></span>  

## <a name="viewing-performance-data"></a><span data-ttu-id="20444-367">Exibindo dados de desempenho</span><span class="sxs-lookup"><span data-stu-id="20444-367">Viewing performance data</span></span>
<span data-ttu-id="20444-368">Quando você executa uma pesquisa de logs de dados de desempenho, a exibição **List** é mostrada por padrão.</span><span class="sxs-lookup"><span data-stu-id="20444-368">When you run a log search for performance data, the **List** view is displayed by default.</span></span>  <span data-ttu-id="20444-369">Para exibir os dados em formato gráfico, clique em **Métricas**.</span><span class="sxs-lookup"><span data-stu-id="20444-369">To view the data in graphical form, click **Metrics**.</span></span>  <span data-ttu-id="20444-370">Para obter uma exibição gráfica detalhada, clique em **+** ao lado de um contador.</span><span class="sxs-lookup"><span data-stu-id="20444-370">For a detailed graphical view, click the **+** next to a counter.</span></span>  

![Exibição de métricas recolhida](media/log-analytics-data-sources-performance-counters/metricscollapsed.png)

<span data-ttu-id="20444-372">Para agregar dados de desempenho em uma pesquisa de log, confira [Agregação métrica sob demanda e visualização de OMS](http://blogs.technet.microsoft.com/msoms/2016/02/26/on-demand-metric-aggregation-and-visualization-in-oms/).</span><span class="sxs-lookup"><span data-stu-id="20444-372">To aggregate performance data in a log search, see [On-demand metric aggregation and visualization in OMS](http://blogs.technet.microsoft.com/msoms/2016/02/26/on-demand-metric-aggregation-and-visualization-in-oms/).</span></span>


## <a name="next-steps"></a><span data-ttu-id="20444-373">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="20444-373">Next steps</span></span>
* <span data-ttu-id="20444-374">[Colete contadores de desempenho de aplicativos Linux](log-analytics-data-sources-linux-applications.md), incluindo Apache HTTP Server e MySQL.</span><span class="sxs-lookup"><span data-stu-id="20444-374">[Collect performance counters from Linux applications](log-analytics-data-sources-linux-applications.md) including MySQL and Apache HTTP Server.</span></span>
* <span data-ttu-id="20444-375">Saiba mais sobre [pesquisas de log](log-analytics-log-searches.md) para analisar os dados coletados de fontes de dados e soluções.</span><span class="sxs-lookup"><span data-stu-id="20444-375">Learn about [log searches](log-analytics-log-searches.md) to analyze the data collected from data sources and solutions.</span></span>  
* <span data-ttu-id="20444-376">Exporte os dados coletados para o [Power BI](log-analytics-powerbi.md) para análise e visualizações adicionais.</span><span class="sxs-lookup"><span data-stu-id="20444-376">Export collected data to [Power BI](log-analytics-powerbi.md) for additional visualizations and analysis.</span></span>
