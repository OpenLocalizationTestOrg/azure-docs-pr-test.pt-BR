---
title: "aaaCollect personalizado registra na análise de logs do OMS | Microsoft Docs"
description: "O Log Analytics pode coletar eventos de arquivos de texto em computadores com Windows e Linux.  Este artigo descreve como toodefine um novo log personalizado e detalhes de registros de saudação criado no repositório do OMS hello."
services: log-analytics
documentationcenter: 
author: bwren
manager: jwhit
editor: tysonn
ms.assetid: aca7f6bb-6f53-4fd4-a45c-93f12ead4ae1
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 08/15/2017
ms.author: bwren
ms.openlocfilehash: a75d058c371fecf7c43690a797d4e650c1570317
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="custom-logs-in-log-analytics"></a><span data-ttu-id="a6ea1-104">Logs personalizados no Log Analytics</span><span class="sxs-lookup"><span data-stu-id="a6ea1-104">Custom logs in Log Analytics</span></span>
<span data-ttu-id="a6ea1-105">fonte de dados de Logs personalizados Olá na análise de Log permite que você toocollect eventos dos arquivos de texto em computadores Windows e Linux.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-105">hello Custom Logs data source in Log Analytics allows you toocollect events from text files on both Windows and Linux computers.</span></span> <span data-ttu-id="a6ea1-106">Muitos aplicativos log arquivos tootext de informações em vez de serviços padrão do log como Syslog ou de log de eventos do Windows.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-106">Many applications log information tootext files instead of standard logging services such as Windows Event log or Syslog.</span></span>  <span data-ttu-id="a6ea1-107">Depois de coletar, você pode analisar cada registro em log Olá nos campos tooindividual usando Olá [campos personalizados](log-analytics-custom-fields.md) recurso de análise de Log.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-107">Once collected, you can parse each record in hello log in tooindividual fields using hello [Custom Fields](log-analytics-custom-fields.md) feature of Log Analytics.</span></span>

![Coleta de log personalizado](media/log-analytics-data-sources-custom-logs/overview.png)

<span data-ttu-id="a6ea1-109">Olá toobe de arquivos de log coletado deve corresponder Olá critérios a seguir.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-109">hello log files toobe collected must match hello following criteria.</span></span>

- <span data-ttu-id="a6ea1-110">log de saudação deve ter uma única entrada por linha ou usar um carimbo de hora correspondência Olá seguinte formatos no início de saudação de cada entrada.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-110">hello log must either have a single entry per line or use a timestamp matching one of hello following formats at hello start of each entry.</span></span>

    <span data-ttu-id="a6ea1-111">AAAA-MM-DD HH:MM:SS </span><span class="sxs-lookup"><span data-stu-id="a6ea1-111">YYYY-MM-DD HH:MM:SS</span></span><br><span data-ttu-id="a6ea1-112">M/D/AAAA HH:MM:SS AM/PM</span><span class="sxs-lookup"><span data-stu-id="a6ea1-112">M/D/YYYY HH:MM:SS AM/PM</span></span> <br><span data-ttu-id="a6ea1-113">Mês DD,AAAA HH:MM:SS</span><span class="sxs-lookup"><span data-stu-id="a6ea1-113">Mon DD,YYYY HH:MM:SS</span></span>

- <span data-ttu-id="a6ea1-114">arquivo de log de saudação não deve permitir atualizações circulares onde o arquivo hello é substituído por novas entradas.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-114">hello log file must not allow circular updates where hello file is overwritten with new entries.</span></span>
- <span data-ttu-id="a6ea1-115">o arquivo de log Olá deve usar a codificação ASCII ou UTF-8.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-115">hello log file must use ASCII or UTF-8 encoding.</span></span>  <span data-ttu-id="a6ea1-116">Não há suporte para outros formatos, como UTF-16.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-116">Other formats such as UTF-16 are not supported.</span></span>

>[!NOTE]
><span data-ttu-id="a6ea1-117">Se houver entradas duplicadas no arquivo de log hello, análise de Log coletará-los.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-117">If there are duplicate entries in hello log file, Log Analytics will collect them.</span></span>  <span data-ttu-id="a6ea1-118">No entanto, os resultados da pesquisa Olá será inconsistente onde resultados do filtro Olá mostram mais eventos do que a contagem de resultados de saudação.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-118">However, hello search results will be inconsistent where hello filter results show more events than hello result count.</span></span>  <span data-ttu-id="a6ea1-119">É importante validar Olá log toodetermine se o aplicativo hello que cria está causando o problema e abordá-lo se possível, antes de criar a definição de coleção de log personalizado hello.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-119">It will be important that you validate hello log toodetermine if hello application that creates it is causing this behavior and address it if possible before creating hello custom log collection definition.</span></span>  
>
  
## <a name="defining-a-custom-log"></a><span data-ttu-id="a6ea1-120">Definindo um log personalizado</span><span class="sxs-lookup"><span data-stu-id="a6ea1-120">Defining a custom log</span></span>
<span data-ttu-id="a6ea1-121">Use Olá seguindo o procedimento toodefine um arquivo de log personalizado.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-121">Use hello following procedure toodefine a custom log file.</span></span>  <span data-ttu-id="a6ea1-122">Rolagem toohello final deste artigo para obter uma explicação de um exemplo de adição de um log personalizado.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-122">Scroll toohello end of this article for a walkthrough of a sample of adding a custom log.</span></span>

### <a name="step-1-open-hello-custom-log-wizard"></a><span data-ttu-id="a6ea1-123">Etapa 1.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-123">Step 1.</span></span> <span data-ttu-id="a6ea1-124">Abrir Olá Assistente de Log personalizado</span><span class="sxs-lookup"><span data-stu-id="a6ea1-124">Open hello Custom Log Wizard</span></span>
<span data-ttu-id="a6ea1-125">Olá assistente personalizado do Log é executado no portal do OMS hello e permite que você toodefine um novo toocollect de log personalizado.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-125">hello Custom Log Wizard runs in hello OMS portal and allows you toodefine a new custom log toocollect.</span></span>

1. <span data-ttu-id="a6ea1-126">No portal do OMS hello, vá muito**configurações**.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-126">In hello OMS portal, go too**Settings**.</span></span>
2. <span data-ttu-id="a6ea1-127">Clique em **Dados** e em **Custom logs**.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-127">Click on **Data** and then **Custom logs**.</span></span>
3. <span data-ttu-id="a6ea1-128">Por padrão, todas as alterações de configuração são enviadas automaticamente tooall agentes.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-128">By default, all configuration changes are automatically pushed tooall agents.</span></span>  <span data-ttu-id="a6ea1-129">Para agentes do Linux, um arquivo de configuração é enviado toohello Fluentd de Coletores de dados.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-129">For Linux agents, a configuration file is sent toohello Fluentd data collector.</span></span>  <span data-ttu-id="a6ea1-130">Se você quiser toomodify esse arquivo manualmente em cada agente do Linux, em seguida, desmarque a caixa de saudação *aplicar abaixo máquinas de Linux toomy configuração*.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-130">If you wish toomodify this file manually on each Linux agent, then uncheck hello box *Apply below configuration toomy Linux machines*.</span></span>
4. <span data-ttu-id="a6ea1-131">Clique em **adicionar +** tooopen Olá Assistente de Log personalizado.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-131">Click **Add+** tooopen hello Custom Log Wizard.</span></span>

### <a name="step-2-upload-and-parse-a-sample-log"></a><span data-ttu-id="a6ea1-132">Etapa 2.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-132">Step 2.</span></span> <span data-ttu-id="a6ea1-133">Carregar e analisar um log de exemplo</span><span class="sxs-lookup"><span data-stu-id="a6ea1-133">Upload and parse a sample log</span></span>
<span data-ttu-id="a6ea1-134">Iniciar carregando um exemplo de log personalizado hello.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-134">You start by uploading a sample of hello custom log.</span></span>  <span data-ttu-id="a6ea1-135">Assistente de saudação analisar e exibir entradas de saudação nesse arquivo para você toovalidate.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-135">hello wizard will parse and display hello entries in this file for you toovalidate.</span></span>  <span data-ttu-id="a6ea1-136">Análise de log usará o delimitador de saudação que você especifique tooidentify cada registro.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-136">Log Analytics will use hello delimiter that you specify tooidentify each record.</span></span>

<span data-ttu-id="a6ea1-137">**Nova linha** é o delimitador padrão de saudação e é usado para arquivos de log que têm uma única entrada por linha.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-137">**New Line** is hello default delimiter and is used for log files that have a single entry per line.</span></span>  <span data-ttu-id="a6ea1-138">Se a linha hello começa com uma data e hora em um dos formatos disponíveis hello, então você pode especificar um **Timestamp** delimitador que dá suporte a entradas que se estendem por mais de uma linha.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-138">If hello line starts with a date and time in one of hello available formats, then you can specify a **Timestamp** delimiter which supports entries that span more than one line.</span></span>

<span data-ttu-id="a6ea1-139">Se um delimitador de carimbo de hora é usado, então a propriedade TimeGenerated de saudação de cada registro armazenado no OMS será preenchida com hello especificada para a entrada no arquivo de log de saudação de data/hora.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-139">If a timestamp delimiter is used, then hello TimeGenerated property of each record stored in OMS will be populated with hello date/time specified for that entry in hello log file.</span></span>  <span data-ttu-id="a6ea1-140">Se um novo delimitador de linha for usado, TimeGenerated é preenchida com a data e hora em que a análise de Log coletados entrada hello.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-140">If a new line delimiter is used, then TimeGenerated is populated with date and time that Log Analytics collected hello entry.</span></span>

> [!NOTE]
> <span data-ttu-id="a6ea1-141">Análise de log atualmente trata Olá coletada de um log usando um delimitador de carimbo de hora como UTC de data/hora.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-141">Log Analytics currently treats hello date/time collected from a log using a timestamp delimiter as UTC.</span></span>  <span data-ttu-id="a6ea1-142">Esse será o fuso horário Olá toouse alterados no agente de saudação em breve.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-142">This will soon be changed toouse hello time zone on hello agent.</span></span>
>
>

1. <span data-ttu-id="a6ea1-143">Clique em **procurar** e procurar o arquivo de exemplo tooa.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-143">Click **Browse** and browse tooa sample file.</span></span>  <span data-ttu-id="a6ea1-144">Observe que esse botão pode ser rotulado como **Escolher Arquivo** em alguns navegadores.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-144">Note that this may button may be labeled **Choose File** in some browsers.</span></span>
2. <span data-ttu-id="a6ea1-145">Clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-145">Click **Next**.</span></span>
3. <span data-ttu-id="a6ea1-146">Olá Assistente de Log personalizado carregará Olá arquivo lista Olá registros e que ela identifica.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-146">hello Custom Log Wizard will upload hello file and list hello records that it identifies.</span></span>
4. <span data-ttu-id="a6ea1-147">Alterar delimitador de saudação que é usado tooidentify um novo registro e o delimitador de saudação select que melhor identifica registros Olá no arquivo de log.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-147">Change hello delimiter that is used tooidentify a new record and select hello delimiter that best identifies hello records in your log file.</span></span>
5. <span data-ttu-id="a6ea1-148">Clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-148">Click **Next**.</span></span>

### <a name="step-3-add-log-collection-paths"></a><span data-ttu-id="a6ea1-149">Etapa 3.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-149">Step 3.</span></span> <span data-ttu-id="a6ea1-150">Adicionar caminhos de coleta de log</span><span class="sxs-lookup"><span data-stu-id="a6ea1-150">Add log collection paths</span></span>
<span data-ttu-id="a6ea1-151">Você deve definir um ou mais caminhos no agente Olá onde ele possa localizar o log personalizado hello.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-151">You must define one or more paths on hello agent where it can locate hello custom log.</span></span>  <span data-ttu-id="a6ea1-152">Você pode fornecer um caminho específico e um nome para o arquivo de log hello, ou você pode especificar um caminho com um caractere curinga para o nome da saudação.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-152">You can either provide a specific path and name for hello log file, or you can specify a path with a wildcard for hello name.</span></span>  <span data-ttu-id="a6ea1-153">Isso dá suporte a aplicativos que criam um novo arquivo por dia ou quando um arquivo atinge um determinado tamanho.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-153">This supports applications that create a new file each day or when one file reaches a certain size.</span></span>  <span data-ttu-id="a6ea1-154">Você também pode fornecer vários caminhos para um único arquivo de log.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-154">You can also provide multiple paths for a single log file.</span></span>

<span data-ttu-id="a6ea1-155">Por exemplo, um aplicativo pode criar um arquivo de log diariamente com data de saudação incluída no nome hello como log20100316.txt.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-155">For example, an application might create a log file each day with hello date included in hello name as in log20100316.txt.</span></span> <span data-ttu-id="a6ea1-156">Um padrão de tais logs pode ser *log\*. txt* que seria aplicar o arquivo de log de tooany após o aplicativo hello do esquema de nomenclatura.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-156">A pattern for such a log might be *log\*.txt* which would apply tooany log file following hello application’s naming scheme.</span></span>

<span data-ttu-id="a6ea1-157">Olá tabela a seguir fornece exemplos de padrões válidos toospecify diferentes arquivos de log.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-157">hello following table provides examples of valid patterns toospecify different log files.</span></span>

| <span data-ttu-id="a6ea1-158">Descrição</span><span class="sxs-lookup"><span data-stu-id="a6ea1-158">Description</span></span> | <span data-ttu-id="a6ea1-159">Caminho</span><span class="sxs-lookup"><span data-stu-id="a6ea1-159">Path</span></span> |
|:--- |:--- |
| <span data-ttu-id="a6ea1-160">Todos os arquivos em *C:\Logs* com extensão .txt no agente do Windows</span><span class="sxs-lookup"><span data-stu-id="a6ea1-160">All files in *C:\Logs* with .txt extension on Windows agent</span></span> |<span data-ttu-id="a6ea1-161">C:\Logs\\\*.txt</span><span class="sxs-lookup"><span data-stu-id="a6ea1-161">C:\Logs\\\*.txt</span></span> |
| <span data-ttu-id="a6ea1-162">Todos os arquivos em *C:\Logs* cujo nome começa com log e uma extensão .txt no agente do Windows</span><span class="sxs-lookup"><span data-stu-id="a6ea1-162">All files in *C:\Logs* with a name starting with log and a .txt extension on Windows agent</span></span> |<span data-ttu-id="a6ea1-163">C:\Logs\log\*.txt</span><span class="sxs-lookup"><span data-stu-id="a6ea1-163">C:\Logs\log\*.txt</span></span> |
| <span data-ttu-id="a6ea1-164">Todos os arquivos em */var/log/audit* com extensão .txt no agente do Linux</span><span class="sxs-lookup"><span data-stu-id="a6ea1-164">All files in */var/log/audit* with .txt extension on Linux agent</span></span> |<span data-ttu-id="a6ea1-165">/var/log/audit/*.txt</span><span class="sxs-lookup"><span data-stu-id="a6ea1-165">/var/log/audit/*.txt</span></span> |
| <span data-ttu-id="a6ea1-166">Todos os arquivos em */var/log/audit* cujo nome começa com log e uma extensão .txt no agente do Linux</span><span class="sxs-lookup"><span data-stu-id="a6ea1-166">All files in */var/log/audit* with a name starting with log and a .txt extension on Linux agent</span></span> |<span data-ttu-id="a6ea1-167">/var/log/audit/log\*.txt</span><span class="sxs-lookup"><span data-stu-id="a6ea1-167">/var/log/audit/log\*.txt</span></span> |

1. <span data-ttu-id="a6ea1-168">Selecione toospecify Windows ou Linux, qual formato de caminho que você está adicionando.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-168">Select Windows or Linux toospecify which path format you are adding.</span></span>
2. <span data-ttu-id="a6ea1-169">Digite o caminho de saudação e clique em Olá  **+**  botão.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-169">Type in hello path and click hello **+** button.</span></span>
3. <span data-ttu-id="a6ea1-170">Repita o processo de Olá para todos os caminhos adicionais.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-170">Repeat hello process for any additional paths.</span></span>

### <a name="step-4-provide-a-name-and-description-for-hello-log"></a><span data-ttu-id="a6ea1-171">Etapa 4.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-171">Step 4.</span></span> <span data-ttu-id="a6ea1-172">Forneça um nome e uma descrição para o log de saudação</span><span class="sxs-lookup"><span data-stu-id="a6ea1-172">Provide a name and description for hello log</span></span>
<span data-ttu-id="a6ea1-173">Olá nome que você especificar será usado para o tipo de log Olá conforme descrito acima.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-173">hello name that you specify will be used for hello log type as described above.</span></span>  <span data-ttu-id="a6ea1-174">Sempre terminará com _CL toodistinguish-lo como um log personalizado.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-174">It will always end with _CL toodistinguish it as a custom log.</span></span>

1. <span data-ttu-id="a6ea1-175">Digite um nome para o log de saudação.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-175">Type in a name for hello log.</span></span>  <span data-ttu-id="a6ea1-176">Olá  **\_CL** sufixo é fornecido automaticamente.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-176">hello **\_CL** suffix is automatically provided.</span></span>
2. <span data-ttu-id="a6ea1-177">Adicione uma **Descrição**opcional.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-177">Add an optional **Description**.</span></span>
3. <span data-ttu-id="a6ea1-178">Clique em **próximo** toosave definição de log personalizado de saudação.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-178">Click **Next** toosave hello custom log definition.</span></span>

### <a name="step-5-validate-that-hello-custom-logs-are-being-collected"></a><span data-ttu-id="a6ea1-179">Etapa 5.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-179">Step 5.</span></span> <span data-ttu-id="a6ea1-180">Validar que estão sendo coletados logs personalizados Olá</span><span class="sxs-lookup"><span data-stu-id="a6ea1-180">Validate that hello custom logs are being collected</span></span>
<span data-ttu-id="a6ea1-181">Pode levar até horas tooan para dados de saudação inicial de um novo tooappear de log personalizado na análise de Log.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-181">It may take up tooan hour for hello initial data from a new custom log tooappear in Log Analytics.</span></span>  <span data-ttu-id="a6ea1-182">Ele começará a coletar entradas do hello logs encontrado no caminho de saudação especificado do ponto de saudação que você Olá definido log personalizado.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-182">It will start collecting entries from hello logs found in hello path you specified from hello point that you defined hello custom log.</span></span>  <span data-ttu-id="a6ea1-183">Não manterá entradas Olá carregado durante a criação de log personalizado hello, mas ele irá coletar entradas já existentes nos arquivos de log de saudação que ele localiza.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-183">It will not retain hello entries that you uploaded during hello custom log creation, but it will collect already existing entries in hello log files that it locates.</span></span>

<span data-ttu-id="a6ea1-184">Depois que a análise de Log inicia a coleta de log personalizado Olá, seus registros estará disponíveis com uma pesquisa de Log.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-184">Once Log Analytics starts collecting from hello custom log, its records will be available with a Log Search.</span></span>  <span data-ttu-id="a6ea1-185">Use o nome de saudação que você deu a log personalizado hello como Olá **tipo** em sua consulta.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-185">Use hello name that you gave hello custom log as hello **Type** in your query.</span></span>

> [!NOTE]
> <span data-ttu-id="a6ea1-186">Se Olá RawData propriedade está ausente da pesquisa hello, poderá precisar tooclose e reabra o navegador.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-186">If hello RawData property is missing from hello search, you may need tooclose and reopen your browser.</span></span>
>
>

### <a name="step-6-parse-hello-custom-log-entries"></a><span data-ttu-id="a6ea1-187">Etapa 6.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-187">Step 6.</span></span> <span data-ttu-id="a6ea1-188">Analisar as entradas de log personalizado Olá</span><span class="sxs-lookup"><span data-stu-id="a6ea1-188">Parse hello custom log entries</span></span>
<span data-ttu-id="a6ea1-189">entrada de log inteiro Hello será armazenada em uma única propriedade chamada **RawData**.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-189">hello entire log entry will be stored in a single property called **RawData**.</span></span>  <span data-ttu-id="a6ea1-190">Você provavelmente desejarão tooseparate Olá diferentes partes de informações em cada entrada em propriedades individuais armazenados no registro de saudação.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-190">You will most likely want tooseparate hello different pieces of information in each entry into individual properties stored in hello record.</span></span>  <span data-ttu-id="a6ea1-191">Fazer isso usando Olá [campos personalizados](log-analytics-custom-fields.md) recurso de análise de Log.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-191">You do this using hello [Custom Fields](log-analytics-custom-fields.md) feature of Log Analytics.</span></span>

<span data-ttu-id="a6ea1-192">Etapas detalhadas para analisar a entrada de log personalizada da saudação não são fornecidas aqui.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-192">Detailed steps for parsing hello custom log entry are not provided here.</span></span>  <span data-ttu-id="a6ea1-193">Consulte toohello [campos personalizados](log-analytics-custom-fields.md) documentação para obter essas informações.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-193">Please refer toohello [Custom Fields](log-analytics-custom-fields.md) documentation for this information.</span></span>

## <a name="disabling-a-custom-log"></a><span data-ttu-id="a6ea1-194">Desabilitar um log personalizado</span><span class="sxs-lookup"><span data-stu-id="a6ea1-194">Disabling a custom log</span></span>
<span data-ttu-id="a6ea1-195">Você não pode remover uma definição de log personalizado depois de ele ter sido criado, mas pode desabilitá-lo, removendo todos os seus caminhos de coleção.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-195">You cannot remove a custom log definition once it's been created, but you can disable it by removing all of its collection paths.</span></span>

1. <span data-ttu-id="a6ea1-196">No portal do OMS hello, vá muito**configurações**.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-196">In hello OMS portal, go too**Settings**.</span></span>
2. <span data-ttu-id="a6ea1-197">Clique em **Dados** e em **Custom logs**.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-197">Click on **Data** and then **Custom logs**.</span></span>
3. <span data-ttu-id="a6ea1-198">Clique em **detalhes** toodisable de definição de log personalizado toohello Avançar.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-198">Click **Details** next toohello custom log definition toodisable.</span></span>
4. <span data-ttu-id="a6ea1-199">Remova cada um dos caminhos de coleção Olá para definição de log personalizado hello.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-199">Remove each of hello collection paths for hello custom log definition.</span></span>

## <a name="data-collection"></a><span data-ttu-id="a6ea1-200">Coleta de dados</span><span class="sxs-lookup"><span data-stu-id="a6ea1-200">Data collection</span></span>
<span data-ttu-id="a6ea1-201">O Log Analytics coletará novas entradas de cada log personalizado aproximadamente a cada cinco minutos.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-201">Log Analytics will collect new entries from each custom log approximately every 5 minutes.</span></span>  <span data-ttu-id="a6ea1-202">agente Olá registra seu lugar em cada arquivo de log que ele coleta do.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-202">hello agent will record its place in each log file that it collects from.</span></span>  <span data-ttu-id="a6ea1-203">Se agente Olá ficar offline por um período de tempo, em seguida, análise de Log coletará entradas de onde parou, mesmo se as entradas foram criadas quando Olá agent estava offline.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-203">If hello agent goes offline for a period of time, then Log Analytics will collect entries from where it last left off, even if those entries were created while hello agent was offline.</span></span>

<span data-ttu-id="a6ea1-204">todo o conteúdo da entrada de log Olá Olá é gravado tooa única propriedade chamada **RawData**.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-204">hello entire contents of hello log entry are written tooa single property called **RawData**.</span></span>  <span data-ttu-id="a6ea1-205">Você pode analisar isso em várias propriedades que podem ser analisadas e pesquisadas separadamente definindo [campos personalizados](log-analytics-custom-fields.md) depois de ter criado o log personalizado hello.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-205">You can parse this into multiple properties that can be analyzed and searched separately by defining [Custom Fields](log-analytics-custom-fields.md) after you have created hello custom log.</span></span>

## <a name="custom-log-record-properties"></a><span data-ttu-id="a6ea1-206">Propriedades de registro do log personalizado</span><span class="sxs-lookup"><span data-stu-id="a6ea1-206">Custom log record properties</span></span>
<span data-ttu-id="a6ea1-207">Registros de log personalizado tem um tipo com o nome do log de saudação que fornecem e Olá propriedades Olá a tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-207">Custom log records have a type with hello log name that you provide and hello properties in hello following table.</span></span>

| <span data-ttu-id="a6ea1-208">Propriedade</span><span class="sxs-lookup"><span data-stu-id="a6ea1-208">Property</span></span> | <span data-ttu-id="a6ea1-209">Descrição</span><span class="sxs-lookup"><span data-stu-id="a6ea1-209">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="a6ea1-210">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="a6ea1-210">TimeGenerated</span></span> |<span data-ttu-id="a6ea1-211">Data e hora em que Olá registro foram coletados pela análise de Log.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-211">Date and time that hello record was collected by Log Analytics.</span></span>  <span data-ttu-id="a6ea1-212">Se o log de saudação usa um delimitador de tempo, em seguida, isso é hora de Olá coletada de entrada hello.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-212">If hello log uses a time-based delimiter then this is hello time collected from hello entry.</span></span> |
| <span data-ttu-id="a6ea1-213">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="a6ea1-213">SourceSystem</span></span> |<span data-ttu-id="a6ea1-214">Tipo de registro de saudação do agente foi coletado do.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-214">Type of agent hello record was collected from.</span></span> <br> <span data-ttu-id="a6ea1-215">OpsManager – agente do Windows, conexão direta ou System Center Operations Manager</span><span class="sxs-lookup"><span data-stu-id="a6ea1-215">OpsManager – Windows agent, either direct connect or System Center Operations Manager</span></span> <br> <span data-ttu-id="a6ea1-216">Linux: todos os agentes do Linux</span><span class="sxs-lookup"><span data-stu-id="a6ea1-216">Linux – All Linux agents</span></span> |
| <span data-ttu-id="a6ea1-217">RawData</span><span class="sxs-lookup"><span data-stu-id="a6ea1-217">RawData</span></span> |<span data-ttu-id="a6ea1-218">Texto completo da saudação coletados de entrada.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-218">Full text of hello collected entry.</span></span> |
| <span data-ttu-id="a6ea1-219">ManagementGroupName</span><span class="sxs-lookup"><span data-stu-id="a6ea1-219">ManagementGroupName</span></span> |<span data-ttu-id="a6ea1-220">Nome do grupo de gerenciamento de saudação para agentes de gerenciamento do System Center Operations.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-220">Name of hello management group for System Center Operations Manage agents.</span></span>  <span data-ttu-id="a6ea1-221">Para outros agentes, ele é AOI-\<ID do espaço de trabalho\></span><span class="sxs-lookup"><span data-stu-id="a6ea1-221">For other agents, this is AOI-\<workspace ID\></span></span> |

## <a name="log-searches-with-custom-log-records"></a><span data-ttu-id="a6ea1-222">Pesquisas de log com registros de log personalizados</span><span class="sxs-lookup"><span data-stu-id="a6ea1-222">Log searches with custom log records</span></span>
<span data-ttu-id="a6ea1-223">Registros de logs personalizados são armazenados no repositório do OMS hello como registros de qualquer outra fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-223">Records from custom logs are stored in hello OMS repository just like records from any other data source.</span></span>  <span data-ttu-id="a6ea1-224">Eles terão um tipo correspondente Olá nome que você fornecer ao definir log hello, então você pode usar a propriedade de tipo de saudação em seus registros de tooretrieve pesquisa coletados de um log específico.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-224">They will have a type matching hello name that you provide when you define hello log, so you can use hello Type property in your search tooretrieve records collected from a specific log.</span></span>

<span data-ttu-id="a6ea1-225">Olá, tabela a seguir fornece exemplos de diferentes de pesquisas de log que recuperam registros de logs personalizados.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-225">hello following table provides different examples of log searches that retrieve records from custom logs.</span></span>

| <span data-ttu-id="a6ea1-226">Consultar</span><span class="sxs-lookup"><span data-stu-id="a6ea1-226">Query</span></span> | <span data-ttu-id="a6ea1-227">Descrição</span><span class="sxs-lookup"><span data-stu-id="a6ea1-227">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="a6ea1-228">Type=MyApp_CL</span><span class="sxs-lookup"><span data-stu-id="a6ea1-228">Type=MyApp_CL</span></span> |<span data-ttu-id="a6ea1-229">Todos os eventos de um log personalizado chamado MyApp_CL.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-229">All events from a custom log named MyApp_CL.</span></span> |
| <span data-ttu-id="a6ea1-230">Type=MyApp_CL Severity_CF=error</span><span class="sxs-lookup"><span data-stu-id="a6ea1-230">Type=MyApp_CL Severity_CF=error</span></span> |<span data-ttu-id="a6ea1-231">Todos os eventos de um log personalizado chamado MyApp_CL com um valor de *erro* em um campo personalizado chamado *Severity_CF*.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-231">All events from a custom log named MyApp_CL with a value of *error* in a custom field named *Severity_CF*.</span></span> |

>[!NOTE]
> <span data-ttu-id="a6ea1-232">Se seu espaço de trabalho tiver sido atualizado toohello [linguagem de consulta de análise de Log novo](log-analytics-log-search-upgrade.md), e em seguida, Olá acima consultas alteraria toohello a seguir.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-232">If your workspace has been upgraded toohello [new Log Analytics query language](log-analytics-log-search-upgrade.md), then hello above queries would change toohello following.</span></span>

> | <span data-ttu-id="a6ea1-233">Consultar</span><span class="sxs-lookup"><span data-stu-id="a6ea1-233">Query</span></span> | <span data-ttu-id="a6ea1-234">Descrição</span><span class="sxs-lookup"><span data-stu-id="a6ea1-234">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="a6ea1-235">MyApp_CL</span><span class="sxs-lookup"><span data-stu-id="a6ea1-235">MyApp_CL</span></span> |<span data-ttu-id="a6ea1-236">Todos os eventos de um log personalizado chamado MyApp_CL.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-236">All events from a custom log named MyApp_CL.</span></span> |
| <span data-ttu-id="a6ea1-237">MyApp_CL &#124; where Severity_CF=="error"</span><span class="sxs-lookup"><span data-stu-id="a6ea1-237">MyApp_CL &#124; where Severity_CF=="error"</span></span> |<span data-ttu-id="a6ea1-238">Todos os eventos de um log personalizado chamado MyApp_CL com um valor de *erro* em um campo personalizado chamado *Severity_CF*.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-238">All events from a custom log named MyApp_CL with a value of *error* in a custom field named *Severity_CF*.</span></span> |


## <a name="sample-walkthrough-of-adding-a-custom-log"></a><span data-ttu-id="a6ea1-239">Passo a passo do exemplo de adição de um log personalizado</span><span class="sxs-lookup"><span data-stu-id="a6ea1-239">Sample walkthrough of adding a custom log</span></span>
<span data-ttu-id="a6ea1-240">Olá seção a seguir apresenta um exemplo de como criar um log personalizado.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-240">hello following section walks through an example of creating a custom log.</span></span>  <span data-ttu-id="a6ea1-241">log de exemplo Hello sendo coletado tem uma única entrada em cada linha iniciando com uma data e hora e, em seguida, delimitada por vírgulas campos para código, o status e a mensagem.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-241">hello sample log being collected has a single entry on each line starting with a date and time and then comma-delimited fields for code, status, and message.</span></span>  <span data-ttu-id="a6ea1-242">Várias entradas de exemplo são mostradas abaixo.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-242">Several sample entries are shown below.</span></span>

    2016-03-10 01:34:36 207,Success,Client 05a26a97-272a-4bc9-8f64-269d154b0e39 connected
    2016-03-10 01:33:33 208,Warning,Client ec53d95c-1c88-41ae-8174-92104212de5d disconnected
    2016-03-10 01:35:44 209,Success,Transaction 10d65890-b003-48f8-9cfc-9c74b51189c8 succeeded
    2016-03-10 01:38:22 302,Error,Application could not connect toodatabase
    2016-03-10 01:31:34 303,Error,Application lost connection toodatabase

### <a name="upload-and-parse-a-sample-log"></a><span data-ttu-id="a6ea1-243">Carregar e analisar um log de exemplo</span><span class="sxs-lookup"><span data-stu-id="a6ea1-243">Upload and parse a sample log</span></span>
<span data-ttu-id="a6ea1-244">Podemos fornecer uma saudação arquivos de log e pode ver eventos de saudação que irá coletar.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-244">We provide one of hello log files and can see hello events that it will be collecting.</span></span>  <span data-ttu-id="a6ea1-245">Nesse caso, Nova Linha é um delimitador suficiente.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-245">In this case New Line is a sufficient delimiter.</span></span>  <span data-ttu-id="a6ea1-246">Se uma única entrada no log de saudação pode abranger várias linhas no entanto, um delimitador de carimbo de hora precisaria toobe usado.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-246">If a single entry in hello log could span multiple lines though, then a timestamp delimiter would need toobe used.</span></span>

![Carregar e analisar um log de exemplo](media/log-analytics-data-sources-custom-logs/delimiter.png)

### <a name="add-log-collection-paths"></a><span data-ttu-id="a6ea1-248">Adicionar caminhos de coleta de log</span><span class="sxs-lookup"><span data-stu-id="a6ea1-248">Add log collection paths</span></span>
<span data-ttu-id="a6ea1-249">arquivos de log Olá estarão localizados em *C:\MyApp\Logs*.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-249">hello log files will be located in *C:\MyApp\Logs*.</span></span>  <span data-ttu-id="a6ea1-250">Um novo arquivo será criado por dia com um nome que inclui a data de saudação padrão Olá *appYYYYMMDD.log*.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-250">A new file will be created each day with a name that includes hello date in hello pattern *appYYYYMMDD.log*.</span></span>  <span data-ttu-id="a6ea1-251">Um padrão suficiente para esse log seria *C:\MyApp\Logs\\\\*.log*.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-251">A sufficient pattern for this log would be *C:\MyApp\Logs\\\*.log*.</span></span>

![Caminho da coleta do log](media/log-analytics-data-sources-custom-logs/collection-path.png)

### <a name="provide-a-name-and-description-for-hello-log"></a><span data-ttu-id="a6ea1-253">Forneça um nome e uma descrição para o log de saudação</span><span class="sxs-lookup"><span data-stu-id="a6ea1-253">Provide a name and description for hello log</span></span>
<span data-ttu-id="a6ea1-254">Usamos um nome de *MyApp_CL* e digitamos uma **Descrição**.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-254">We use a name of *MyApp_CL* and type in a **Description**.</span></span>

![Nome do log](media/log-analytics-data-sources-custom-logs/log-name.png)

### <a name="validate-that-hello-custom-logs-are-being-collected"></a><span data-ttu-id="a6ea1-256">Validar que estão sendo coletados logs personalizados Olá</span><span class="sxs-lookup"><span data-stu-id="a6ea1-256">Validate that hello custom logs are being collected</span></span>
<span data-ttu-id="a6ea1-257">Usamos uma consulta de *tipo = MyApp_CL* tooreturn todos os registros de log coletados hello.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-257">We use a query of *Type=MyApp_CL* tooreturn all records from hello collected log.</span></span>

![Consulta de log sem campos personalizados](media/log-analytics-data-sources-custom-logs/query-01.png)

### <a name="parse-hello-custom-log-entries"></a><span data-ttu-id="a6ea1-259">Analisar as entradas de log personalizado Olá</span><span class="sxs-lookup"><span data-stu-id="a6ea1-259">Parse hello custom log entries</span></span>
<span data-ttu-id="a6ea1-260">Saudação de toodefine campos personalizados, usamos *EventTime*, *código*, *Status*, e *mensagem* campos e pode ver a diferença de saudação em Olá registros que são retornados pela consulta hello.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-260">We use Custom Fields toodefine hello *EventTime*, *Code*, *Status*, and *Message* fields and we can see hello difference in hello records that are returned by hello query.</span></span>

![Consulta de log com campos personalizados](media/log-analytics-data-sources-custom-logs/query-02.png)

## <a name="next-steps"></a><span data-ttu-id="a6ea1-262">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="a6ea1-262">Next steps</span></span>
* <span data-ttu-id="a6ea1-263">Use [campos personalizados](log-analytics-custom-fields.md) entradas de saudação de tooparse no log de personalizado Olá tooindividual campos.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-263">Use [Custom Fields](log-analytics-custom-fields.md) tooparse hello entries in hello custom log in tooindividual fields.</span></span>
* <span data-ttu-id="a6ea1-264">Saiba mais sobre [pesquisas de log](log-analytics-log-searches.md) dados de saudação tooanalyze coletados de fontes de dados e soluções.</span><span class="sxs-lookup"><span data-stu-id="a6ea1-264">Learn about [log searches](log-analytics-log-searches.md) tooanalyze hello data collected from data sources and solutions.</span></span>
