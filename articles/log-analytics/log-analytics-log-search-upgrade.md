---
title: Atualizar o Azure Log Analytics para nova pesquisa de logs | Microsoft Docs
description: "A nova linguagem de consulta do Log Analytics está quase chegando e você pode participar da visualização pública.  Este artigo descreve as vantagens da nova linguagem e diz como converter seu espaço de trabalho."
services: log-analytics
documentationcenter: 
author: bwren
manager: carmonm
editor: 
ms.service: log-analytics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/08/2017
ms.author: magoedte;bwren
ms.openlocfilehash: 4a3ee3c4d1fa9b626a51f24997603adceed8311f
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/29/2017
---
# <a name="upgrade-your-azure-log-analytics-workspace-to-new-log-search"></a><span data-ttu-id="ca30b-104">Atualizar seu espaço de trabalho do Azure Log Analytics para uma nova pesquisa de logs</span><span class="sxs-lookup"><span data-stu-id="ca30b-104">Upgrade your Azure Log Analytics workspace to new log search</span></span>

> [!NOTE]
> <span data-ttu-id="ca30b-105">A atualização para a nova linguagem de consulta do Log Analytics é atualmente opcional, dando tempo a você para [familiarizar-se com a nova linguagem](https://go.microsoft.com/fwlink/?linkid=856078).</span><span class="sxs-lookup"><span data-stu-id="ca30b-105">Upgrade to the new Log Analytics query language is currently optional giving you time to [ramp up on the new language](https://go.microsoft.com/fwlink/?linkid=856078).</span></span>  

<span data-ttu-id="ca30b-106">A nova linguagem de consulta do Log Analytics chegou e você precisa atualizar seu espaço de trabalho para tirar proveito dela.</span><span class="sxs-lookup"><span data-stu-id="ca30b-106">The new Log Analytics query language is here, and you need to upgrade your workspace to take advantage of it.</span></span>  <span data-ttu-id="ca30b-107">Este artigo descreve as vantagens da nova linguagem e diz como converter seu espaço de trabalho.</span><span class="sxs-lookup"><span data-stu-id="ca30b-107">This article describes the advantages of the new language and how to convert your workspace.</span></span>  <span data-ttu-id="ca30b-108">Se você não optar por atualizar agora, seu espaço de trabalho continuará a funcionar exatamente como sempre, mas ele será convertido automaticamente em uma data posterior.</span><span class="sxs-lookup"><span data-stu-id="ca30b-108">If you don't choose to upgrade now, then your workspace will continue to operate just like it always did, but it will be automatically converted at a later date.</span></span>  <span data-ttu-id="ca30b-109">Você receberá a devida notificação e um tempo significativo quando essa data for definida.</span><span class="sxs-lookup"><span data-stu-id="ca30b-109">You will receive significant time and notification when that date is set.</span></span>

<span data-ttu-id="ca30b-110">Este artigo fornece detalhes sobre a nova linguagem e o processo de atualização.</span><span class="sxs-lookup"><span data-stu-id="ca30b-110">This article provides details on the new language and the upgrade process.</span></span>

## <a name="why-the-new-language"></a><span data-ttu-id="ca30b-111">Por que a nova linguagem?</span><span class="sxs-lookup"><span data-stu-id="ca30b-111">Why the new language?</span></span>
<span data-ttu-id="ca30b-112">Compreendemos que há problemas em qualquer transição e não estamos apenas alterando linguagem de consulta por diversão.</span><span class="sxs-lookup"><span data-stu-id="ca30b-112">We understand that there’s pain in any transition, and we aren’t just changing the query language for the fun of it.</span></span>  <span data-ttu-id="ca30b-113">Há várias razões pelas quais essa alteração fornecerá valor significativo para os clientes do Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="ca30b-113">There are several reasons that this change will provide significant value to our Log Analytics customers.</span></span>

- <span data-ttu-id="ca30b-114">**Simples mas poderosa.**</span><span class="sxs-lookup"><span data-stu-id="ca30b-114">**Simple yet powerful.**</span></span> <span data-ttu-id="ca30b-115">A nova linguagem é mais fácil de entender e é semelhante ao SQL, com construções mais semelhantes a linguagem natural do que a linguagem herdada.</span><span class="sxs-lookup"><span data-stu-id="ca30b-115">The new language is easier to understand and similar to SQL with constructs more like natural language than the legacy language.</span></span>
- <span data-ttu-id="ca30b-116">**Linguagem totalmente por piping.**</span><span class="sxs-lookup"><span data-stu-id="ca30b-116">**Full piping language.**</span></span>  <span data-ttu-id="ca30b-117">A nova linguagem tem recursos de piping mais amplos do que a linguagem herdada.</span><span class="sxs-lookup"><span data-stu-id="ca30b-117">The new language has more extensive piping capabilities than the legacy language.</span></span>  <span data-ttu-id="ca30b-118">Virtualmente qualquer saída pode ser canalizada por pipe para outro comando para criar consultas mais complexas do que era possível anteriormente.</span><span class="sxs-lookup"><span data-stu-id="ca30b-118">Virtually any output can be piped to another command to create more complex queries than were previously possible.</span></span>
- <span data-ttu-id="ca30b-119">**Extrações de campo de tempo de pesquisa.**</span><span class="sxs-lookup"><span data-stu-id="ca30b-119">**Search-time field extractions.**</span></span>  <span data-ttu-id="ca30b-120">A nova linguagem dá suporte a campos calculados de tempo de execução mais avançados do que a linguagem herdada.</span><span class="sxs-lookup"><span data-stu-id="ca30b-120">The new language supports more advanced runtime calculated fields than the legacy language.</span></span>  <span data-ttu-id="ca30b-121">Você pode usar cálculos complexos para os campos estendidos e, em seguida, usar os campos calculados para comandos adicionais, incluindo junções e agregações.</span><span class="sxs-lookup"><span data-stu-id="ca30b-121">You can use complex calculations for extended fields and then use the calculated fields for additional commands including joins and aggregations.</span></span>
- <span data-ttu-id="ca30b-122">**Junções avançadas.**</span><span class="sxs-lookup"><span data-stu-id="ca30b-122">**Advanced joins.**</span></span>  <span data-ttu-id="ca30b-123">A nova linguagem fornece junções mais avançadas do que a linguagem herdada, incluindo a capacidade de unir tabelas em vários campos, usar junções internas e externas fazer junções em campos estendidos.</span><span class="sxs-lookup"><span data-stu-id="ca30b-123">The new language provides more advanced joins than the legacy language including the ability to join tables on multiple fields, use inner and outer joins, and join on extended fields.</span></span>
- <span data-ttu-id="ca30b-124">**Funções de data/hora.**</span><span class="sxs-lookup"><span data-stu-id="ca30b-124">**Date/time functions.**</span></span>  <span data-ttu-id="ca30b-125">A nova linguagem tem funções de data/hora mais avançadas do que a linguagem herdada.</span><span class="sxs-lookup"><span data-stu-id="ca30b-125">The new language has more advanced date/time functions than the legacy language.</span></span>
- <span data-ttu-id="ca30b-126">**Análise inteligente.**</span><span class="sxs-lookup"><span data-stu-id="ca30b-126">**Smart Analytics.**</span></span>  <span data-ttu-id="ca30b-127">A nova linguagem tem algoritmos avançados para avaliar padrões em conjuntos de dados e comparar diferentes conjuntos de dados.</span><span class="sxs-lookup"><span data-stu-id="ca30b-127">The new language has advanced algorithms to evaluate patterns in datasets and compare different sets of data.</span></span>
- <span data-ttu-id="ca30b-128">**Portal Análise Avançada.**</span><span class="sxs-lookup"><span data-stu-id="ca30b-128">**Advanced Analytics portal.**</span></span>  <span data-ttu-id="ca30b-129">O portal Análise Avançada oferece recursos de análise não disponíveis no portal do Log Analytics, incluindo edição de consultas multilinha, visualizações adicionais e diagnósticos avançados.</span><span class="sxs-lookup"><span data-stu-id="ca30b-129">The Advanced Analytics portal offers analysis features not available in the Log Analytics portal including multiline editing of queries, additional visualizations, and advanced diagnostics.</span></span>
- <span data-ttu-id="ca30b-130">**Consistência com outros aplicativos.**</span><span class="sxs-lookup"><span data-stu-id="ca30b-130">**Consistency with other applications.**</span></span>  <span data-ttu-id="ca30b-131">A nova linguagem e o Portal Análise Avançada já são usados para análise no Application Insights.</span><span class="sxs-lookup"><span data-stu-id="ca30b-131">The new language and the Advanced Analytics Portal are already used for analytics in Application Insights.</span></span>  <span data-ttu-id="ca30b-132">Implementá-la para o Log Analytics proporciona consistência entre os serviços do Azure.</span><span class="sxs-lookup"><span data-stu-id="ca30b-132">Implementing it for Log Analytics provides consistency across Azure services.</span></span>
- <span data-ttu-id="ca30b-133">**Melhor integração com o Power BI.**</span><span class="sxs-lookup"><span data-stu-id="ca30b-133">**Better integration with Power BI.**</span></span> <span data-ttu-id="ca30b-134">Consultas na nova linguagem podem ser exportadas para o Power BI Desktop, para que você possa utilizar seus recursos de transformação de dados avançados.</span><span class="sxs-lookup"><span data-stu-id="ca30b-134">Queries in the new language can be exported to Power BI Desktop, so you can utilize its rich data transformation capabilities.</span></span>
- <span data-ttu-id="ca30b-135">**E muito mais.**</span><span class="sxs-lookup"><span data-stu-id="ca30b-135">**Much more.**</span></span> <span data-ttu-id="ca30b-136">Consulte o site [Linguagem de Consulta do Azure Log Analytics](https://docs.loganalytics.io) para obter detalhes completos e tutoriais sobre a nova linguagem.</span><span class="sxs-lookup"><span data-stu-id="ca30b-136">Refer to the [Azure Log Analytics Query Language](https://docs.loganalytics.io) site for complete details and tutorials on the new language.</span></span>


## <a name="when-can-i-upgrade"></a><span data-ttu-id="ca30b-137">Quando posso fazer a atualização?</span><span class="sxs-lookup"><span data-stu-id="ca30b-137">When can I upgrade?</span></span>
<span data-ttu-id="ca30b-138">A atualização será lançada em todas as regiões do Azure, então ela pode estar disponível em algumas regiões antes de outras.</span><span class="sxs-lookup"><span data-stu-id="ca30b-138">The upgrade will be rolled out across all Azure regions so it may be available in some regions before others.</span></span>  <span data-ttu-id="ca30b-139">Você saberá quando seu espaço de trabalho está disponível para ser atualizado quando você vir a faixa roxa na parte superior do espaço de trabalho convidando para fazer a atualização.</span><span class="sxs-lookup"><span data-stu-id="ca30b-139">You'll know when your workspace is available to be upgraded when you see the purple banner across the top of your workspace inviting you to upgrade.</span></span>

![Atualização 1](media/log-analytics-log-search-upgrade/upgrade-01a.png)

## <a name="what-happens-when-i-upgrade"></a><span data-ttu-id="ca30b-141">O que acontece quando eu faço a atualização?</span><span class="sxs-lookup"><span data-stu-id="ca30b-141">What happens when I upgrade?</span></span>
<span data-ttu-id="ca30b-142">Quando você converte seu espaço de trabalho, todas as pesquisas salvas, regras de alerta e exibições que você criou com o Designer de Exibição são convertidos automaticamente para a nova linguagem.</span><span class="sxs-lookup"><span data-stu-id="ca30b-142">When you convert your workspace, any saved searches, alert rules, and views that you’ve created with the View Designer are automatically converted to the new language.</span></span>  <span data-ttu-id="ca30b-143">Pesquisas incluídas em soluções não são convertidas automaticamente, mas em vez disso são convertidas em tempo real quando abertas por você.</span><span class="sxs-lookup"><span data-stu-id="ca30b-143">Searches included in solutions are not automatically converted, but they’re instead converted on the fly when you open them.</span></span>  <span data-ttu-id="ca30b-144">Isso é completamente transparente para você.</span><span class="sxs-lookup"><span data-stu-id="ca30b-144">This is completely transparent to you.</span></span>

## <a name="can-i-go-back-after-i-upgrade"></a><span data-ttu-id="ca30b-145">Posso voltar atrás depois de atualizar?</span><span class="sxs-lookup"><span data-stu-id="ca30b-145">Can I go back after I upgrade?</span></span>
<span data-ttu-id="ca30b-146">Quando você atualiza, é feito um backup completo de seu espaço de trabalho que inclui um instantâneo de todas as pesquisas, regras de alerta e exibições salvas.</span><span class="sxs-lookup"><span data-stu-id="ca30b-146">When you upgrade, a complete backup of your workspace is taken that includes a snapshot of all saved searches, alert rule, and views.</span></span>  <span data-ttu-id="ca30b-147">Isso permite que você restaure seu espaço de trabalho antigo se posteriormente desejar.</span><span class="sxs-lookup"><span data-stu-id="ca30b-147">This allows you to restore your old workspace if you should later desire.</span></span>

<span data-ttu-id="ca30b-148">Para restaurar seu espaço de trabalho herdado, vá para **Configurações** no espaço de trabalho e, em seguida, **Resumo da Atualização**.</span><span class="sxs-lookup"><span data-stu-id="ca30b-148">To restore your legacy workspace, go to **Settings** in your workspace and then **Upgrade Summary**.</span></span>  <span data-ttu-id="ca30b-149">Você pode então selecionar a opção **Restaurar o espaço de trabalho herdado**.</span><span class="sxs-lookup"><span data-stu-id="ca30b-149">You can then select the option to **Restore legacy workspace**.</span></span>  

![Restaurar herdado](media/log-analytics-log-search-upgrade/restore-legacy-b.png)

## <a name="how-do-i-perform-the-upgrade"></a><span data-ttu-id="ca30b-151">Como fazer para realizar a atualização?</span><span class="sxs-lookup"><span data-stu-id="ca30b-151">How do I perform the upgrade?</span></span>
<span data-ttu-id="ca30b-152">Quando você vir a roxa faixa na parte superior do portal, você poderá atualizar seu espaço de trabalho.</span><span class="sxs-lookup"><span data-stu-id="ca30b-152">You can upgrade your workspace when you see the purple banner at the top of the portal.</span></span>  

1.  <span data-ttu-id="ca30b-153">Inicie o processo de atualização clicando na faixa roxa que diz **Saber mais e atualizar**.</span><span class="sxs-lookup"><span data-stu-id="ca30b-153">Start the upgrade process by clicking on the purple banner that says **Learn more and upgrade**.</span></span><br><span data-ttu-id="ca30b-154">![Atualização 2](media/log-analytics-log-search-upgrade/upgrade-01a.png)</span><span class="sxs-lookup"><span data-stu-id="ca30b-154">![Upgrade 2](media/log-analytics-log-search-upgrade/upgrade-01a.png)</span></span><br>
2.  <span data-ttu-id="ca30b-155">Leia as informações adicionais sobre a atualização na página de informações de atualização.</span><span class="sxs-lookup"><span data-stu-id="ca30b-155">Read through the additional information about the upgrade on the upgrade information page.</span></span><br>![Atualização 2](media/log-analytics-log-search-upgrade/upgrade-03.png)<br>
3.  <span data-ttu-id="ca30b-157">Clique em **Atualizar Agora** para iniciar a atualização.</span><span class="sxs-lookup"><span data-stu-id="ca30b-157">Click **Upgrade Now** to start the upgrade.</span></span><br><span data-ttu-id="ca30b-158">![Atualização 4](media/log-analytics-log-search-upgrade/upgrade-04.png)</span><span class="sxs-lookup"><span data-stu-id="ca30b-158">![Upgrade 4](media/log-analytics-log-search-upgrade/upgrade-04.png)</span></span><br><span data-ttu-id="ca30b-159">Uma caixa de notificação no canto direito superior mostra o status.</span><span class="sxs-lookup"><span data-stu-id="ca30b-159">A notification box in the upper right corner shows the status.</span></span><br><span data-ttu-id="ca30b-160">![Atualização 5](media/log-analytics-log-search-upgrade/upgrade-05.png)</span><span class="sxs-lookup"><span data-stu-id="ca30b-160">![Upgrade 5](media/log-analytics-log-search-upgrade/upgrade-05.png)</span></span>
4.  <span data-ttu-id="ca30b-161">É isso!</span><span class="sxs-lookup"><span data-stu-id="ca30b-161">That’s it!</span></span>  <span data-ttu-id="ca30b-162">Examine a página Pesquisa de Logs para dar uma olhada em seu espaço de trabalho atualizado.</span><span class="sxs-lookup"><span data-stu-id="ca30b-162">Go over to the Log Search page to have a look at your upgraded workspace.</span></span><br>![Atualização 6](media/log-analytics-log-search-upgrade/upgrade-06.png)<br>

<span data-ttu-id="ca30b-164">Se você encontrar um problema que cause falha na atualização, você poderá ir para o [fórum de discussão](https://social.msdn.microsoft.com/Forums/azure/home?forum=opinsights) e postar sua pergunta ou [criar uma solicitação de suporte](../azure-supportability/how-to-create-azure-support-request.md) do Portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="ca30b-164">If you encounter an issue that causes the upgrade to fail, you can go to the [discussion forum](https://social.msdn.microsoft.com/Forums/azure/home?forum=opinsights) and post your question or [create a support request](../azure-supportability/how-to-create-azure-support-request.md) from the Azure portal.</span></span>

## <a name="how-do-i-learn-the-new-language"></a><span data-ttu-id="ca30b-165">Como fazer para aprender a nova linguagem?</span><span class="sxs-lookup"><span data-stu-id="ca30b-165">How do I learn the new language?</span></span>
<span data-ttu-id="ca30b-166">Já que ela é usada por vários serviços, criamos um [site externo para hospedar a documentação](https://docs.loganalytics.io/) da nova linguagem.</span><span class="sxs-lookup"><span data-stu-id="ca30b-166">Since it's used by multiple services we've created an [external site to host the documentation](https://docs.loganalytics.io/) for the new language.</span></span>  <span data-ttu-id="ca30b-167">Isso inclui uma referência completa para ajudá-lo a aprender, além de exemplos e tutoriais.</span><span class="sxs-lookup"><span data-stu-id="ca30b-167">This includes tutorials, samples, and a complete reference to help you come up to speed.</span></span> <span data-ttu-id="ca30b-168">Você pode percorrer um tutorial da nova linguagem em [Introdução a Consultas](https://go.microsoft.com/fwlink/?linkid=856078) e acessar a referência da linguagem em [Linguagem de consulta do Log Analytics](https://go.microsoft.com/fwlink/?linkid=856079).</span><span class="sxs-lookup"><span data-stu-id="ca30b-168">You can walk through a tutorial of the new language at [Getting Started with Queries](https://go.microsoft.com/fwlink/?linkid=856078) and access the language reference at [Log Analytics query langauge](https://go.microsoft.com/fwlink/?linkid=856079).</span></span>  

<span data-ttu-id="ca30b-169">No entanto, se você já está familiarizado com a linguagem de consulta do Log Analytics herdada, você pode usar o conversor de idioma que é adicionado ao seu espaço de trabalho como parte da atualização.</span><span class="sxs-lookup"><span data-stu-id="ca30b-169">If you're already familiar with the legacy Log Analytics query language though, then you can use the language converter which is added to your workspace as part of the upgrade.</span></span>

<span data-ttu-id="ca30b-170">Basta digitar sua consulta herdada e, em seguida, clique em **Converter** para ver a versão traduzida.</span><span class="sxs-lookup"><span data-stu-id="ca30b-170">Just type in your legacy query and then click **Convert** to see the translated version.</span></span>  <span data-ttu-id="ca30b-171">Você pode, em seguida, clicar no botão Pesquisar para executar a pesquisa ou copiar e colar a consulta convertida para usar em outro lugar, por exemplo, uma regra de alerta.</span><span class="sxs-lookup"><span data-stu-id="ca30b-171">You can then either click the search button to run the search or copy and paste the converted query to use somewhere else such as an alert rule.</span></span>

![Conversor de linguagem](media/log-analytics-log-search-upgrade/language-converter.png)


## <a name="next-steps"></a><span data-ttu-id="ca30b-173">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="ca30b-173">Next steps</span></span>
- <span data-ttu-id="ca30b-174">Confira um [tutorial sobre a nova linguagem](https://go.microsoft.com/fwlink/?linkid=856078).</span><span class="sxs-lookup"><span data-stu-id="ca30b-174">Check out a [tutorial on the new language](https://go.microsoft.com/fwlink/?linkid=856078).</span></span>
- <span data-ttu-id="ca30b-175">Percorra um [tutorial sobre como usar o portal de Pesquisa de Logs](log-analytics-log-search-log-search-portal.md) com a nova linguagem de consulta.</span><span class="sxs-lookup"><span data-stu-id="ca30b-175">Walk through a [tutorial on using the Log Search portal](log-analytics-log-search-log-search-portal.md) with the new query language.</span></span>
- <span data-ttu-id="ca30b-176">Obtenha uma introdução ao novo [portal Análise Avançada](https://go.microsoft.com/fwlink/?linkid=856587).</span><span class="sxs-lookup"><span data-stu-id="ca30b-176">Get an introduction to the new [Advanced Analytics portal](https://go.microsoft.com/fwlink/?linkid=856587).</span></span>
