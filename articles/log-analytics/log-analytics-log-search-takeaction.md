---
title: "aaaUser ação iniciada pelo Azure automação de Runbook na análise de Log | Microsoft Docs"
description: "Este artigo descreve como toorun um runbook de automação de uma análise de Log Pesquisar resultados sob demanda."
services: log-analytics
documentationcenter: 
author: mgoedtel
manager: carmonm
editor: tysonn
ms.assetid: 
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/04/2017
ms.author: magoedte
ms.openlocfilehash: 53c25431572babd5fd54bf964e4683077e2a4c2d
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="take-action-with-an-automation-runbook-from-a-log-analytics-log-search-result"></a><span data-ttu-id="8b4fc-103">Realizar uma ação com um Runbook de Automação de um resultado de pesquisa do Log Analytics</span><span class="sxs-lookup"><span data-stu-id="8b4fc-103">Take Action with an Automation Runbook from a Log Analytics log search result</span></span>

<span data-ttu-id="8b4fc-104">Em um resultado de pesquisa de log na análise de Log do Azure, agora você pode selecionar **agir** toorun um runbook de automação.</span><span class="sxs-lookup"><span data-stu-id="8b4fc-104">From a log search result in Azure Log Analytics, you can now select **Take action** toorun an Automation runbook.</span></span>  <span data-ttu-id="8b4fc-105">Olá runbook pode ser usado tooremediate Olá problema ou executar alguma outra ação, como coletar informações de solução de problemas, envie um email ou criar uma solicitação de serviço.</span><span class="sxs-lookup"><span data-stu-id="8b4fc-105">hello runbook can be used tooremediate hello issue or take some other action such as collect troubleshooting information, send an email, or create a service request.</span></span> 

## <a name="components-and-features-used"></a><span data-ttu-id="8b4fc-106">Componentes e recursos usados</span><span class="sxs-lookup"><span data-stu-id="8b4fc-106">Components and features used</span></span>
* [<span data-ttu-id="8b4fc-107">Conta de Automação do Azure</span><span class="sxs-lookup"><span data-stu-id="8b4fc-107">Azure Automation account</span></span>](../automation/automation-offering-get-started.md)
* [<span data-ttu-id="8b4fc-108">Espaço de trabalho do Log Analytics</span><span class="sxs-lookup"><span data-stu-id="8b4fc-108">Log Analytics workspace</span></span>](../log-analytics/log-analytics-overview.md)

## <a name="tooinitiate-runbook-from-log-search"></a><span data-ttu-id="8b4fc-109">runbook tooinitiate de pesquisa de log</span><span class="sxs-lookup"><span data-stu-id="8b4fc-109">tooinitiate runbook from log search</span></span>

<span data-ttu-id="8b4fc-110">ação tootake em um evento e iniciar um runbook a partir de resultados de pesquisa de log, comece criando uma pesquisa de log e de resultados hello, você pode chamar uma runbook sob demanda.</span><span class="sxs-lookup"><span data-stu-id="8b4fc-110">tootake action on an event and initiate a runbook from your log search results, you start by creating a log search and from hello results you can invoke a runbook on-demand.</span></span>  <span data-ttu-id="8b4fc-111">Isso pode ser obtido do recurso de pesquisa de log de saudação do hello Azure ou [portal do OMS](../log-analytics/log-analytics-log-searches.md).</span><span class="sxs-lookup"><span data-stu-id="8b4fc-111">This can be achieved from hello log search feature in hello Azure or [OMS portal](../log-analytics/log-analytics-log-searches.md).</span></span>  <span data-ttu-id="8b4fc-112">Neste exemplo, podemos executar uma pesquisa de log de saudação portal do Azure com uma demonstração básica desse recurso.</span><span class="sxs-lookup"><span data-stu-id="8b4fc-112">In this example, we perform a log search from hello Azure portal with a basic demonstration of this feature.</span></span>

1. <span data-ttu-id="8b4fc-113">Olá portal do Azure, no menu de Hub Olá em **mais serviços** e selecione **análise de Log**.</span><span class="sxs-lookup"><span data-stu-id="8b4fc-113">In hello Azure portal, on hello Hub menu click **More services** and select **Log Analytics**.</span></span>  
2. <span data-ttu-id="8b4fc-114">Na folha de análise de Log hello, selecione seu espaço de trabalho de análise de Log e na folha de espaço de trabalho Olá selecione **pesquisa de Log**.</span><span class="sxs-lookup"><span data-stu-id="8b4fc-114">On hello Log Analytics blade, select your Log Analytics workspace and on hello workspace blade select **Log Search**.</span></span>  
3. <span data-ttu-id="8b4fc-115">Na folha de pesquisa de Log hello, execute uma pesquisa de log.</span><span class="sxs-lookup"><span data-stu-id="8b4fc-115">On hello Log Search blade, perform a log search.</span></span>  
4. <span data-ttu-id="8b4fc-116">Olá log dos resultados da pesquisa, clique em esquerda de toohello Olá elipse de um dos campos de saudação e de saudação pop-up, selecione **agir em**.</span><span class="sxs-lookup"><span data-stu-id="8b4fc-116">From hello log search results, click hello ellipse toohello left of one of hello fields and from hello popup, select **Take action on**.</span></span><br><br> <span data-ttu-id="8b4fc-117">![Selecione a opção Agir do resultado da pesquisa](./media/log-analytics-log-search-takeaction/log-search-takeaction-menuoption.png)</span><span class="sxs-lookup"><span data-stu-id="8b4fc-117">![Select Take Action from search result](./media/log-analytics-log-search-takeaction/log-search-takeaction-menuoption.png)</span></span> 
5. <span data-ttu-id="8b4fc-118">Na folha de ação de Take hello, selecione **executar um runbook**e em Olá **executar um runbook** folha, você pode selecionar um toorun de runbook.</span><span class="sxs-lookup"><span data-stu-id="8b4fc-118">From hello Take action blade, select **Run a runbook**, and on hello **Run a runbook** blade you can select a runbook toorun.</span></span>  <span data-ttu-id="8b4fc-119">Você pode selecionar qualquer runbook no hello conta de automação é o espaço de trabalho de análise de Log toohello vinculado.</span><span class="sxs-lookup"><span data-stu-id="8b4fc-119">You can select any runbook in hello Automation account that is linked toohello Log Analytics workspace.</span></span>  <span data-ttu-id="8b4fc-120">Observe o seguinte hello:</span><span class="sxs-lookup"><span data-stu-id="8b4fc-120">Note hello following:</span></span>

    * <span data-ttu-id="8b4fc-121">Os runbooks são organizados por marcas</span><span class="sxs-lookup"><span data-stu-id="8b4fc-121">Runbooks are organized by tags</span></span>
    * <span data-ttu-id="8b4fc-122">Valores de parâmetro de entrada do runbook podem ser selecionados diretamente em campos de saudação do resultado da pesquisa hello.</span><span class="sxs-lookup"><span data-stu-id="8b4fc-122">Runbook input parameter values can be selected directly from hello fields of hello search result.</span></span>  <span data-ttu-id="8b4fc-123">Uma lista suspensa aparecerá exibindo todos os campos disponíveis do hello de tooselect de resultado de saudação do.</span><span class="sxs-lookup"><span data-stu-id="8b4fc-123">A drop-down list will appear displaying all hello available fields from hello result tooselect from.</span></span>  
    * <span data-ttu-id="8b4fc-124">Você pode escolher toorun Olá runbook em um [hybrid runbook worker de](../automation/automation-hybrid-runbook-worker.md) que você instalou no computador de saudação que tem o problema de saudação se você tiver um grupo do Hybrid Runbook Worker correspondente que contenha apenas como um membro.</span><span class="sxs-lookup"><span data-stu-id="8b4fc-124">You can choose toorun hello runbook on a [hybrid runbook worker](../automation/automation-hybrid-runbook-worker.md) that you have installed on hello machine that has hello issue if you have a corresponding Hybrid Runbook Worker group that only contains this machine as a member.</span></span>  <span data-ttu-id="8b4fc-125">Se nome de saudação do grupo do Hybrid Worker Olá corresponder a nome de saudação do computador Olá no resultado de pesquisa de log de saudação, grupo de saudação é selecionado automaticamente.</span><span class="sxs-lookup"><span data-stu-id="8b4fc-125">If hello name of hello Hybrid Worker group matches hello name of hello computer that is in hello log search result, then hello group is selected automatically.</span></span>    

6. <span data-ttu-id="8b4fc-126">Depois de clicar em **executar**, folha de trabalho de runbook Olá abrirá tooallow você tooreview Olá status do trabalho de saudação.</span><span class="sxs-lookup"><span data-stu-id="8b4fc-126">After you click **Run**, hello runbook job blade will open tooallow you tooreview hello status of hello job.</span></span>   

<span data-ttu-id="8b4fc-127">Se você selecionar um runbook que foi configurado toobe [chamado a partir de um alerta de análise de Log](../automation/automation-invoke-runbook-from-omsla-alert.md), ele tem um parâmetro de entrada chamado **WebhookData** que é **objeto** tipo.</span><span class="sxs-lookup"><span data-stu-id="8b4fc-127">If you select a runbook that was configured toobe [called from a Log Analytics alert](../automation/automation-invoke-runbook-from-omsla-alert.md), it has an input parameter called **WebhookData** that is **Object** type.</span></span>  <span data-ttu-id="8b4fc-128">Se o parâmetro de entrada hello é obrigatório, você precisa toopass Olá pesquisa resultados toohello runbook para que ele pode converter cadeia de caracteres formatada em JSON de saudação em um tipo de objeto, permitindo que você toofilter em itens específicos que você irá referenciar nas atividades de runbook.</span><span class="sxs-lookup"><span data-stu-id="8b4fc-128">If hello input parameter is mandatory, you need toopass hello search results toohello runbook so it can convert hello JSON-formatted string into an object type allowing you toofilter on specific items that you will reference in runbook activities.</span></span>  <span data-ttu-id="8b4fc-129">Você faz isso selecionando **(Object) do resultado da pesquisa** da lista suspensa de saudação.</span><span class="sxs-lookup"><span data-stu-id="8b4fc-129">You do this by selecting **Search result (Object)** from hello drop-down list.</span></span><br><br> <span data-ttu-id="8b4fc-130">![Selecione o objeto de dados de Webhook para o parâmetro do runbook](media/log-analytics-log-search-takeaction/select-runbook-and-properties.png)</span><span class="sxs-lookup"><span data-stu-id="8b4fc-130">![Select Webhook data object for runbook parameter](media/log-analytics-log-search-takeaction/select-runbook-and-properties.png)</span></span>   
    
## <a name="next-steps"></a><span data-ttu-id="8b4fc-131">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="8b4fc-131">Next steps</span></span>

* <span data-ttu-id="8b4fc-132">Saudação de revisão [referência de pesquisa de log de análise de Log](log-analytics-search-reference.md) tooview todos Olá Pesquisar campos e facetas disponíveis na análise de Log.</span><span class="sxs-lookup"><span data-stu-id="8b4fc-132">Review hello [Log Analytics log search reference](log-analytics-search-reference.md) tooview all of hello search fields and facets available in Log Analytics.</span></span>
* <span data-ttu-id="8b4fc-133">toolearn como tooinvoke um runbook de automação automaticamente, examine [chamar um runbook de automação do Azure de um alerta de análise de logs do OMS](../automation/automation-invoke-runbook-from-omsla-alert.md).</span><span class="sxs-lookup"><span data-stu-id="8b4fc-133">toolearn how tooinvoke an Automation runbook automatically, review [calling an Azure Automation runbook from an OMS Log Analytics alert](../automation/automation-invoke-runbook-from-omsla-alert.md).</span></span>  
