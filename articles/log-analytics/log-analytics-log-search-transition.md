---
title: "roteiro do aaaAzure análise de Log consulta idioma | Microsoft Docs"
description: "Este artigo fornece assistência na transição toohello nova linguagem de consulta de análise de Log se você já estiver familiarizado com a linguagem herdados hello."
services: operations-management-suite
documentationcenter: 
author: bwren
manager: carmonm
editor: tysonn
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 08/23/2017
ms.author: bwren
ms.openlocfilehash: 8b4ee3d0b5e1ec8a9f95a09e0ad9835615ad1342
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="transitioning-tooazure-log-analytics-new-query-language"></a><span data-ttu-id="c7c30-103">Transição tooAzure análise de logs nova linguagem de consulta</span><span class="sxs-lookup"><span data-stu-id="c7c30-103">Transitioning tooAzure Log Analytics new query language</span></span>

> [!NOTE]
> <span data-ttu-id="c7c30-104">Você pode ler mais sobre Olá análise de logs nova linguagem de consulta e obter Olá procedimento tooupgrade seu espaço de trabalho de uma atualização do seu [pesquisa de log de toonew de espaço de trabalho do Azure Log Analytics](log-analytics-log-search-upgrade.md).</span><span class="sxs-lookup"><span data-stu-id="c7c30-104">You can read more about hello new Log Analytics query language and get hello procedure tooupgrade your workspace at Upgrade your [Azure Log Analytics workspace toonew log search](log-analytics-log-search-upgrade.md).</span></span>

<span data-ttu-id="c7c30-105">Este artigo fornece assistência na transição toohello nova linguagem de consulta de análise de Log se você já estiver familiarizado com a linguagem herdados hello.</span><span class="sxs-lookup"><span data-stu-id="c7c30-105">This article provides assistance on transitioning toohello new query language for Log Analytics if you're already familiar with hello legacy language.</span></span>

## <a name="language-converter"></a><span data-ttu-id="c7c30-106">Conversor de linguagem</span><span class="sxs-lookup"><span data-stu-id="c7c30-106">Language converter</span></span>

<span data-ttu-id="c7c30-107">Se você estiver familiarizado com a linguagem de consulta de análise de Log herdada hello, hello toocreate Olá a mesma consulta em linguagem novo Olá de maneira mais fácil é toouse hello conversor de idioma que é instalada no portal de pesquisa de Log de saudação quando seu espaço de trabalho é convertido.</span><span class="sxs-lookup"><span data-stu-id="c7c30-107">If you're familiar with hello legacy Log Analytics query language, hello easiest way toocreate hello same query in hello new language is toouse hello Language Converter that's installed in hello Log Search portal when your workspace is converted.</span></span>  <span data-ttu-id="c7c30-108">Usar o conversor de saudação é tão simple quanto digitando uma consulta herdada na caixa de texto superior hello e, em seguida, clicando em **converter**.</span><span class="sxs-lookup"><span data-stu-id="c7c30-108">Using hello converter is as simple as typing in a legacy query in hello top text box and then clicking **Convert**.</span></span>  <span data-ttu-id="c7c30-109">Clique Olá botão toorun Olá pesquisa ou copie e cole-o toouse-lo em outro lugar.</span><span class="sxs-lookup"><span data-stu-id="c7c30-109">You can either click hello search button toorun hello query or copy and paste it toouse it somewhere else.</span></span>

![Conversor de linguagem](media/log-analytics-log-search-upgrade/language-converter.png)


## <a name="cheat-sheet"></a><span data-ttu-id="c7c30-111">Roteiro</span><span class="sxs-lookup"><span data-stu-id="c7c30-111">Cheat sheet</span></span>

<span data-ttu-id="c7c30-112">Olá tabela a seguir fornece uma comparação entre uma variedade de consultas comuns tooequivalent comandos entre a linguagem de consulta herdados e novos de saudação na análise de Log do Azure.</span><span class="sxs-lookup"><span data-stu-id="c7c30-112">hello following table provides a comparison between a variety of common queries tooequivalent commands between hello new and legacy query language in Azure Log Analytics.</span></span>

| <span data-ttu-id="c7c30-113">Descrição</span><span class="sxs-lookup"><span data-stu-id="c7c30-113">Description</span></span> | <span data-ttu-id="c7c30-114">Herdada</span><span class="sxs-lookup"><span data-stu-id="c7c30-114">Legacy</span></span> | <span data-ttu-id="c7c30-115">novo</span><span class="sxs-lookup"><span data-stu-id="c7c30-115">new</span></span> |
|:--|:--|:--|
| <span data-ttu-id="c7c30-116">Pesquisar todas as tabelas</span><span class="sxs-lookup"><span data-stu-id="c7c30-116">Search all tables</span></span>      | <span data-ttu-id="c7c30-117">error</span><span class="sxs-lookup"><span data-stu-id="c7c30-117">error</span></span> | <span data-ttu-id="c7c30-118">Pesquisar “erro” (não diferencia maiúsculas de minúsculas)</span><span class="sxs-lookup"><span data-stu-id="c7c30-118">search "error"  (not case sensitive)</span></span> |
| <span data-ttu-id="c7c30-119">Selecione os dados da tabela</span><span class="sxs-lookup"><span data-stu-id="c7c30-119">Select data from table</span></span> | <span data-ttu-id="c7c30-120">Type=Event</span><span class="sxs-lookup"><span data-stu-id="c7c30-120">Type=Event</span></span> |  <span data-ttu-id="c7c30-121">Evento</span><span class="sxs-lookup"><span data-stu-id="c7c30-121">Event</span></span> |
|                        | <span data-ttu-id="c7c30-122">Type=Event &#124; select Source, EventLog, EventID</span><span class="sxs-lookup"><span data-stu-id="c7c30-122">Type=Event &#124; select Source, EventLog, EventID</span></span> | <span data-ttu-id="c7c30-123">Event &#124; project Source, EventLog, EventID</span><span class="sxs-lookup"><span data-stu-id="c7c30-123">Event &#124; project Source, EventLog, EventID</span></span> |
|                        | <span data-ttu-id="c7c30-124">Type=Event &#124; top 100</span><span class="sxs-lookup"><span data-stu-id="c7c30-124">Type=Event &#124; top 100</span></span> | <span data-ttu-id="c7c30-125">Event &#124; take 100</span><span class="sxs-lookup"><span data-stu-id="c7c30-125">Event &#124; take 100</span></span> |
| <span data-ttu-id="c7c30-126">Comparação de cadeias de caracteres</span><span class="sxs-lookup"><span data-stu-id="c7c30-126">String comparison</span></span>      | <span data-ttu-id="c7c30-127">Type=Event Computer=srv01.contoso.com</span><span class="sxs-lookup"><span data-stu-id="c7c30-127">Type=Event Computer=srv01.contoso.com</span></span>   | <span data-ttu-id="c7c30-128">Event &#124; where Computer == "srv01.contoso.com"</span><span class="sxs-lookup"><span data-stu-id="c7c30-128">Event &#124; where Computer == "srv01.contoso.com"</span></span> |
|                        | <span data-ttu-id="c7c30-129">Type=Event Computer=contains("contoso")</span><span class="sxs-lookup"><span data-stu-id="c7c30-129">Type=Event Computer=contains("contoso")</span></span> | <span data-ttu-id="c7c30-130">Evento &#124; em que o Computador contém “contoso” (não diferencia maiúsculas de minúsculas)</span><span class="sxs-lookup"><span data-stu-id="c7c30-130">Event &#124; where Computer contains "contoso" (not case sensitive)</span></span><br><span data-ttu-id="c7c30-131">Evento &#124; em que o Computador contains_cs “Contoso” (diferencia maiúsculas de minúsculas)</span><span class="sxs-lookup"><span data-stu-id="c7c30-131">Event &#124; where Computer contains_cs "Contoso" (case sensitive)</span></span> |
|                        | <span data-ttu-id="c7c30-132">Type=Event Computer=RegEx("@contoso@")</span><span class="sxs-lookup"><span data-stu-id="c7c30-132">Type=Event Computer=RegEx("@contoso@")</span></span>  | <span data-ttu-id="c7c30-133">Event &#124; where Computer matches regex ".*contoso*"</span><span class="sxs-lookup"><span data-stu-id="c7c30-133">Event &#124; where Computer matches regex ".*contoso*"</span></span> |
| <span data-ttu-id="c7c30-134">Comparação de datas</span><span class="sxs-lookup"><span data-stu-id="c7c30-134">Date comparison</span></span>        | <span data-ttu-id="c7c30-135">Type=Event TimeGenerated > NOW-1DAYS</span><span class="sxs-lookup"><span data-stu-id="c7c30-135">Type=Event TimeGenerated > NOW-1DAYS</span></span> | <span data-ttu-id="c7c30-136">Event &#124; where TimeGenerated > ago(1d)</span><span class="sxs-lookup"><span data-stu-id="c7c30-136">Event &#124; where TimeGenerated > ago(1d)</span></span> |
|                        | <span data-ttu-id="c7c30-137">Type=Event TimeGenerated>2017-05-01 TimeGenerated<2017-05-31</span><span class="sxs-lookup"><span data-stu-id="c7c30-137">Type=Event TimeGenerated>2017-05-01 TimeGenerated<2017-05-31</span></span> | <span data-ttu-id="c7c30-138">Event &#124; where TimeGenerated between (datetime(2017-05-01) ..</span><span class="sxs-lookup"><span data-stu-id="c7c30-138">Event &#124; where TimeGenerated between (datetime(2017-05-01) ..</span></span> <span data-ttu-id="c7c30-139">datetime(2017-05-31))</span><span class="sxs-lookup"><span data-stu-id="c7c30-139">datetime(2017-05-31))</span></span> |
| <span data-ttu-id="c7c30-140">Comparação de boolianos</span><span class="sxs-lookup"><span data-stu-id="c7c30-140">Boolean comparison</span></span>     | <span data-ttu-id="c7c30-141">Type=Heartbeat IsGatewayInstalled=false</span><span class="sxs-lookup"><span data-stu-id="c7c30-141">Type=Heartbeat IsGatewayInstalled=false</span></span>  | <span data-ttu-id="c7c30-142">Pulsação</span><span class="sxs-lookup"><span data-stu-id="c7c30-142">Heartbeat</span></span> | <span data-ttu-id="c7c30-143">where IsGatewayInstalled == false</span><span class="sxs-lookup"><span data-stu-id="c7c30-143">where IsGatewayInstalled == false</span></span> |
| <span data-ttu-id="c7c30-144">Classificar</span><span class="sxs-lookup"><span data-stu-id="c7c30-144">Sort</span></span>                   | <span data-ttu-id="c7c30-145">Type=Event &#124; sort Computer asc, EventLog desc, EventLevelName asc</span><span class="sxs-lookup"><span data-stu-id="c7c30-145">Type=Event &#124; sort Computer asc, EventLog desc, EventLevelName asc</span></span> | <span data-ttu-id="c7c30-146">Event \\</span><span class="sxs-lookup"><span data-stu-id="c7c30-146">Event \\</span></span>| <span data-ttu-id="c7c30-147">sort by Computer asc, EventLog desc, EventLevelName asc</span><span class="sxs-lookup"><span data-stu-id="c7c30-147">sort by Computer asc, EventLog desc, EventLevelName asc</span></span> |
| <span data-ttu-id="c7c30-148">Distinct</span><span class="sxs-lookup"><span data-stu-id="c7c30-148">Distinct</span></span>               | <span data-ttu-id="c7c30-149">Type=Event &#124; dedup Computer \\</span><span class="sxs-lookup"><span data-stu-id="c7c30-149">Type=Event &#124; dedup Computer \\</span></span>| <span data-ttu-id="c7c30-150">select Computer</span><span class="sxs-lookup"><span data-stu-id="c7c30-150">select Computer</span></span> | <span data-ttu-id="c7c30-151">Event &#124; summarize by Computer, EventLog</span><span class="sxs-lookup"><span data-stu-id="c7c30-151">Event &#124; summarize by Computer, EventLog</span></span> |
| <span data-ttu-id="c7c30-152">Estender colunas</span><span class="sxs-lookup"><span data-stu-id="c7c30-152">Extend columns</span></span>         | <span data-ttu-id="c7c30-153">Type=Perf CounterName="% Processor Time" &#124; EXTEND if(map(CounterValue,0,50,0,1),"HIGH","LOW") as UTILIZATION</span><span class="sxs-lookup"><span data-stu-id="c7c30-153">Type=Perf CounterName="% Processor Time" &#124; EXTEND if(map(CounterValue,0,50,0,1),"HIGH","LOW") as UTILIZATION</span></span> | <span data-ttu-id="c7c30-154">Perf &#124; where CounterName == "% Processor Time" \\</span><span class="sxs-lookup"><span data-stu-id="c7c30-154">Perf &#124; where CounterName == "% Processor Time" \\</span></span>| <span data-ttu-id="c7c30-155">extend Utilization = iff(CounterValue > 50, "HIGH", "LOW")</span><span class="sxs-lookup"><span data-stu-id="c7c30-155">extend Utilization = iff(CounterValue > 50, "HIGH", "LOW")</span></span> |
| <span data-ttu-id="c7c30-156">Agregação</span><span class="sxs-lookup"><span data-stu-id="c7c30-156">Aggregation</span></span>            | <span data-ttu-id="c7c30-157">Type=Event &#124; measure count() as Count by Computer</span><span class="sxs-lookup"><span data-stu-id="c7c30-157">Type=Event &#124; measure count() as Count by Computer</span></span> | <span data-ttu-id="c7c30-158">Event &#124; summarize Count = count() by Computer</span><span class="sxs-lookup"><span data-stu-id="c7c30-158">Event &#124; summarize Count = count() by Computer</span></span> |
|                                | <span data-ttu-id="c7c30-159">Type=Perf ObjectName=Processor CounterName="% Processor Time" &#124; measure avg(CounterValue) by Computer interval 5minute</span><span class="sxs-lookup"><span data-stu-id="c7c30-159">Type=Perf ObjectName=Processor CounterName="% Processor Time" &#124; measure avg(CounterValue) by Computer interval 5minute</span></span> | <span data-ttu-id="c7c30-160">Perf &#124; where ObjectName=="Processor" and CounterName=="% Processor Time" &#124; summarize avg(CounterValue) by Computer, bin(TimeGenerated, 5min)</span><span class="sxs-lookup"><span data-stu-id="c7c30-160">Perf &#124; where ObjectName=="Processor" and CounterName=="% Processor Time" &#124; summarize avg(CounterValue) by Computer, bin(TimeGenerated, 5min)</span></span> |
| <span data-ttu-id="c7c30-161">Agregação com limite</span><span class="sxs-lookup"><span data-stu-id="c7c30-161">Aggregation with limit</span></span> | <span data-ttu-id="c7c30-162">Type=Event &#124; measure count() by Computer &#124; top 10</span><span class="sxs-lookup"><span data-stu-id="c7c30-162">Type=Event &#124; measure count() by Computer &#124; top 10</span></span> | <span data-ttu-id="c7c30-163">Event &#124; summarize AggregatedValue = count() by Computer &#124; limit 10</span><span class="sxs-lookup"><span data-stu-id="c7c30-163">Event &#124; summarize AggregatedValue = count() by Computer &#124; limit 10</span></span> |
| <span data-ttu-id="c7c30-164">União</span><span class="sxs-lookup"><span data-stu-id="c7c30-164">Union</span></span>                  | <span data-ttu-id="c7c30-165">Type=Event or Type=Syslog</span><span class="sxs-lookup"><span data-stu-id="c7c30-165">Type=Event or Type=Syslog</span></span> | <span data-ttu-id="c7c30-166">union Event, Syslog</span><span class="sxs-lookup"><span data-stu-id="c7c30-166">union Event, Syslog</span></span> |
| <span data-ttu-id="c7c30-167">Ingressar</span><span class="sxs-lookup"><span data-stu-id="c7c30-167">Join</span></span>                   | <span data-ttu-id="c7c30-168">Type=NetworkMonitoring &#124; join inner AgentIP (Type=Heartbeat) ComputerIP</span><span class="sxs-lookup"><span data-stu-id="c7c30-168">Type=NetworkMonitoring &#124; join inner AgentIP (Type=Heartbeat) ComputerIP</span></span> | <span data-ttu-id="c7c30-169">NetworkMonitoring &#124; join kind=inner (search Type == "Heartbeat") on $left.AgentIP == $right.ComputerIP</span><span class="sxs-lookup"><span data-stu-id="c7c30-169">NetworkMonitoring &#124; join kind=inner (search Type == "Heartbeat") on $left.AgentIP == $right.ComputerIP</span></span> |



## <a name="next-steps"></a><span data-ttu-id="c7c30-170">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="c7c30-170">Next steps</span></span>
- <span data-ttu-id="c7c30-171">Check-out de um [tutorial sobre como escrever consultas](https://go.microsoft.com/fwlink/?linkid=856078) usando Olá nova linguagem de consulta.</span><span class="sxs-lookup"><span data-stu-id="c7c30-171">Check out a [tutorial on writing queries](https://go.microsoft.com/fwlink/?linkid=856078) using hello new query language.</span></span>
- <span data-ttu-id="c7c30-172">Consulte toohello [referência de linguagem de consulta](https://go.microsoft.com/fwlink/?linkid=856079) para obter detalhes sobre todas as funções hello nova linguagem de consulta, operadores e comando.</span><span class="sxs-lookup"><span data-stu-id="c7c30-172">Refer toohello [Query Language Reference](https://go.microsoft.com/fwlink/?linkid=856079) for details on all command, operators, and functions for hello new query language.</span></span>  
