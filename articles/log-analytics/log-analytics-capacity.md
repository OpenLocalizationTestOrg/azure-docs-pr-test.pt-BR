---
title: "Solução de capacidade e desempenho do Log Analytics do Azure | Microsoft Docs"
description: "Use a solução de capacidade e desempenho no Log Analytics para ajudá-lo a compreender a capacidade dos servidores Hyper-V."
services: log-analytics
documentationcenter: 
author: bandersmsft
manager: carmonm
editor: 
ms.assetid: 51617a6f-ffdd-4ed2-8b74-1257149ce3d4
ms.service: log-analytics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/13/2017
ms.author: banders
ms.openlocfilehash: 5ca005127721092b8efcf0ac83cc967ab15fe72d
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/03/2017
---
# <a name="plan-hyper-v-virtual-machine-capacity-with-the-capacity-and-performance-solution-preview"></a><span data-ttu-id="90108-103">Planeje a capacidade da máquina virtual do Hyper-V com a solução de capacidade e desempenho (visualização)</span><span class="sxs-lookup"><span data-stu-id="90108-103">Plan Hyper-V virtual machine capacity with the Capacity and Performance solution (Preview)</span></span>

![Símbolo de capacidade e desempenho](./media/log-analytics-capacity/capacity-solution.png)

<span data-ttu-id="90108-105">Você pode usar a solução de capacidade e desempenho no Log Analytics para ajudá-lo a compreender a capacidade dos servidores Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="90108-105">You can use the Capacity and Performance solution in Log Analytics to help you understand the capacity of your Hyper-V servers.</span></span> <span data-ttu-id="90108-106">A solução fornece percepções sobre seu ambiente Hyper-V e apresentando uma visão geral da utilização (CPU, memória e disco) dos hosts e das VMs em execução nos hosts do Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="90108-106">The solution provides insights into your Hyper-V environment by showing you the overall utilization (CPU, memory, and disk) of the hosts and the VMs running on those Hyper-V hosts.</span></span> <span data-ttu-id="90108-107">As métricas são coletadas para a CPU, memória e discos em todos os hosts e VMs em execução.</span><span class="sxs-lookup"><span data-stu-id="90108-107">Metrics are collected for CPU, memory, and disks across all your hosts and the VMs running on them.</span></span>

<span data-ttu-id="90108-108">A solução:</span><span class="sxs-lookup"><span data-stu-id="90108-108">The solution:</span></span>

-   <span data-ttu-id="90108-109">Mostra os hosts com maior e menor utilização de CPU e memória</span><span class="sxs-lookup"><span data-stu-id="90108-109">Shows hosts with highest and lowest CPU and memory utilization</span></span>
-   <span data-ttu-id="90108-110">Mostra as VMs com maior e menor utilização de CPU e memória</span><span class="sxs-lookup"><span data-stu-id="90108-110">Shows VMs with highest and lowest CPU and memory utilization</span></span>
-   <span data-ttu-id="90108-111">Mostra as VMs com a maior e menor utilização da taxa de transferência e IOPS</span><span class="sxs-lookup"><span data-stu-id="90108-111">Shows VMs with highest and lowest IOPS and throughput utilization</span></span>
-   <span data-ttu-id="90108-112">Mostra quais VMs são executadas em quais hosts</span><span class="sxs-lookup"><span data-stu-id="90108-112">Shows which VMs are running on which hosts</span></span>
-   <span data-ttu-id="90108-113">Mostra os discos superiores com alta taxa de transferência, IOPS e latência em volumes compartilhados do cluster</span><span class="sxs-lookup"><span data-stu-id="90108-113">Shows the top disks with high throughput, IOPS, and latency in cluster shared volumes</span></span>
- <span data-ttu-id="90108-114">Permite personalizar e filtrar com base em grupos</span><span class="sxs-lookup"><span data-stu-id="90108-114">Allows you to customize and filter based on groups</span></span>

> [!NOTE]
> <span data-ttu-id="90108-115">A versão anterior da solução de capacidade e desempenho chamada Gerenciamento de capacidade requer tanto o System Center Operations Manager quanto o System Center Virtual Machine Manager.</span><span class="sxs-lookup"><span data-stu-id="90108-115">The previous version of the Capacity and Performance solution called Capacity Management required both System Center Operations Manager and System Center Virtual Machine Manager.</span></span> <span data-ttu-id="90108-116">A solução atualizada não tem essas dependências.</span><span class="sxs-lookup"><span data-stu-id="90108-116">This updated solution doesn't have those dependencies.</span></span>


## <a name="connected-sources"></a><span data-ttu-id="90108-117">Fontes conectadas</span><span class="sxs-lookup"><span data-stu-id="90108-117">Connected sources</span></span>

<span data-ttu-id="90108-118">A tabela a seguir descreve as fontes conectadas que têm suporte dessa solução.</span><span class="sxs-lookup"><span data-stu-id="90108-118">The following table describes the connected sources that are supported by this solution.</span></span>

| <span data-ttu-id="90108-119">Fonte Conectada</span><span class="sxs-lookup"><span data-stu-id="90108-119">Connected Source</span></span> | <span data-ttu-id="90108-120">Suporte</span><span class="sxs-lookup"><span data-stu-id="90108-120">Support</span></span> | <span data-ttu-id="90108-121">Descrição</span><span class="sxs-lookup"><span data-stu-id="90108-121">Description</span></span> |
|---|---|---|
| [<span data-ttu-id="90108-122">Agentes do Windows</span><span class="sxs-lookup"><span data-stu-id="90108-122">Windows agents</span></span>](log-analytics-windows-agents.md) | <span data-ttu-id="90108-123">Sim</span><span class="sxs-lookup"><span data-stu-id="90108-123">Yes</span></span> | <span data-ttu-id="90108-124">A solução coleta informações de dados de desempenho e capacidade de agentes do Windows.</span><span class="sxs-lookup"><span data-stu-id="90108-124">The solution collects capacity and performance data information from Windows agents.</span></span> |
| [<span data-ttu-id="90108-125">Agentes do Linux</span><span class="sxs-lookup"><span data-stu-id="90108-125">Linux agents</span></span>](log-analytics-linux-agents.md) | <span data-ttu-id="90108-126">Não</span><span class="sxs-lookup"><span data-stu-id="90108-126">No</span></span>    | <span data-ttu-id="90108-127">A solução não coleta informações de dados de desempenho e capacidade de agentes do Linux diretos.</span><span class="sxs-lookup"><span data-stu-id="90108-127">The solution does not collect capacity and performance data information from direct Linux agents.</span></span>|
| [<span data-ttu-id="90108-128">Grupo de gerenciamento do SCOM</span><span class="sxs-lookup"><span data-stu-id="90108-128">SCOM management group</span></span>](log-analytics-om-agents.md) | <span data-ttu-id="90108-129">Sim</span><span class="sxs-lookup"><span data-stu-id="90108-129">Yes</span></span> |<span data-ttu-id="90108-130">A solução coleta dados de desempenho e capacidade de agentes em um grupo de gerenciamento do SCOM conectado.</span><span class="sxs-lookup"><span data-stu-id="90108-130">The solution collects capacity and performance data from agents in a connected SCOM management group.</span></span> <span data-ttu-id="90108-131">Não é necessário ter uma conexão direta do agente SCOM com o OMS.</span><span class="sxs-lookup"><span data-stu-id="90108-131">A direct connection from the SCOM agent to OMS is not required.</span></span> <span data-ttu-id="90108-132">Os dados são encaminhados do grupo de gerenciamento para o repositório do OMS.</span><span class="sxs-lookup"><span data-stu-id="90108-132">Data is forwarded from the management group to the OMS repository.</span></span>|
| [<span data-ttu-id="90108-133">Conta de armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="90108-133">Azure storage account</span></span>](log-analytics-azure-storage.md) | <span data-ttu-id="90108-134">Não</span><span class="sxs-lookup"><span data-stu-id="90108-134">No</span></span> | <span data-ttu-id="90108-135">O armazenamento do Azure não inclui dados de desempenho, nem de capacidade.</span><span class="sxs-lookup"><span data-stu-id="90108-135">Azure storage does not include capacity and performance data.</span></span>|

## <a name="prerequisites"></a><span data-ttu-id="90108-136">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="90108-136">Prerequisites</span></span>

- <span data-ttu-id="90108-137">O Windows ou agentes do Operations Manager devem ser instalados no Windows Server 2012 ou nos hosts superiores do Hyper-V, e não nas máquinas virtuais.</span><span class="sxs-lookup"><span data-stu-id="90108-137">Windows or Operations Manager agents must be installed on Windows Server 2012 or higher Hyper-V hosts, not virtual machines.</span></span>


## <a name="configuration"></a><span data-ttu-id="90108-138">Configuração</span><span class="sxs-lookup"><span data-stu-id="90108-138">Configuration</span></span>

<span data-ttu-id="90108-139">Execute o seguinte procedimento para adicionar a solução de capacidade e desempenho ao seu espaço de trabalho.</span><span class="sxs-lookup"><span data-stu-id="90108-139">Perform the following step to add the Capacity and Performance solution to your workspace.</span></span>

- <span data-ttu-id="90108-140">Siga o processo descrito em [Como adicionar soluções do Log Analytics da Galeria de Soluções](log-analytics-add-solutions.md) para adicionar a solução de capacidade e desempenho ao seu espaço de trabalho do OMS.</span><span class="sxs-lookup"><span data-stu-id="90108-140">Add the Capacity and Performance solution to your OMS workspace using the process described in [Add Log Analytics solutions from the Solutions Gallery](log-analytics-add-solutions.md).</span></span>

## <a name="management-packs"></a><span data-ttu-id="90108-141">Pacotes de gerenciamento</span><span class="sxs-lookup"><span data-stu-id="90108-141">Management packs</span></span>

<span data-ttu-id="90108-142">Se o grupo de gerenciamento do SCOM estiver conectado ao seu espaço de trabalho do OMS, os pacotes de gerenciamento a seguir serão instalados no SCOM quando você adicionar essa solução.</span><span class="sxs-lookup"><span data-stu-id="90108-142">If your SCOM management group is connected to your OMS workspace, then the following management packs will be installed in SCOM when you add this solution.</span></span> <span data-ttu-id="90108-143">Não é necessária nenhuma configuração nem a manutenção desses pacotes de gerenciamento.</span><span class="sxs-lookup"><span data-stu-id="90108-143">There is no configuration or maintenance of these management packs required.</span></span>

- <span data-ttu-id="90108-144">Microsoft.IntelligencePacks.CapacityPerformance</span><span class="sxs-lookup"><span data-stu-id="90108-144">Microsoft.IntelligencePacks.CapacityPerformance</span></span>

<span data-ttu-id="90108-145">O evento 1201 é semelhante:</span><span class="sxs-lookup"><span data-stu-id="90108-145">The 1201 event resembles:</span></span>


```
New Management Pack with id:"Microsoft.IntelligencePacks.CapacityPerformance", version:"1.10.3190.0" received.
```

<span data-ttu-id="90108-146">Quando a solução de capacidade e desempenho é atualizada, o número da versão é alterado.</span><span class="sxs-lookup"><span data-stu-id="90108-146">When the Capacity and Performance solution is updated, the version number will change.</span></span>

<span data-ttu-id="90108-147">Para obter mais informações sobre como os pacotes de gerenciamento da solução são atualizados, veja [Conectar o Operations Manager ao Log Analytics](log-analytics-om-agents.md).</span><span class="sxs-lookup"><span data-stu-id="90108-147">For more information on how solution management packs are updated, see [Connect Operations Manager to Log Analytics](log-analytics-om-agents.md).</span></span>

## <a name="using-the-solution"></a><span data-ttu-id="90108-148">Usando a solução</span><span class="sxs-lookup"><span data-stu-id="90108-148">Using the solution</span></span>

<span data-ttu-id="90108-149">Ao adicionar a solução de capacidade e desempenho ao seu espaço de trabalho, a capacidade e o desempenho aparecem no seu painel de Visão geral.</span><span class="sxs-lookup"><span data-stu-id="90108-149">When you add the Capacity and Performance solution to your workspace, the Capacity and Performance is added to the Overview dashboard.</span></span> <span data-ttu-id="90108-150">Esse bloco exibe uma contagem do número de hosts do Hyper-V ativos no momento e o número de máquinas virtuais ativas monitoradas durante o período selecionado.</span><span class="sxs-lookup"><span data-stu-id="90108-150">This tile displays a count of the number of currently active Hyper-V hosts  and the number of active virtual machines that were monitored for the time period selected.</span></span>

![Bloco de capacidade e desempenho](./media/log-analytics-capacity/capacity-tile.png)


### <a name="review-utilization"></a><span data-ttu-id="90108-152">Como revisar a utilização</span><span class="sxs-lookup"><span data-stu-id="90108-152">Review utilization</span></span>

<span data-ttu-id="90108-153">Clique no bloco de Capacidade e Desempenho para abrir o painel de capacidade e desempenho.</span><span class="sxs-lookup"><span data-stu-id="90108-153">Click on the Capacity and Performance tile to open the Capacity and Performance dashboard.</span></span> <span data-ttu-id="90108-154">O painel inclui as colunas na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="90108-154">The dashboard includes the columns in the following table.</span></span> <span data-ttu-id="90108-155">Cada coluna lista os dez principais itens que correspondem aos critérios da coluna para o escopo e o intervalo de tempo especificados.</span><span class="sxs-lookup"><span data-stu-id="90108-155">Each column lists up to ten items matching that column's criteria for the specified scope and time range.</span></span> <span data-ttu-id="90108-156">É possível executar uma pesquisa de log que retorna todos os registros clicando em **Ver todos** na parte inferior da coluna ou clicando no cabeçalho de coluna.</span><span class="sxs-lookup"><span data-stu-id="90108-156">You can run a log search that returns all records by clicking **See all** at the bottom of the column or by clicking the column header.</span></span>

- <span data-ttu-id="90108-157">**Hosts**</span><span class="sxs-lookup"><span data-stu-id="90108-157">**Hosts**</span></span>
    - <span data-ttu-id="90108-158">**Utilização de CPU de host** Mostra uma tendência gráfica de utilização da CPU dos computadores host e uma lista de hosts com base no período selecionado.</span><span class="sxs-lookup"><span data-stu-id="90108-158">**Host CPU Utilization** Shows a graphical trend of the CPU utilization of host computers and a list of hosts, based on the selected time period.</span></span> <span data-ttu-id="90108-159">Passe o mouse sobre o gráfico de linhas para exibir detalhes de um ponto específico no tempo.</span><span class="sxs-lookup"><span data-stu-id="90108-159">Hover over the line chart to view details for a specific point in time.</span></span> <span data-ttu-id="90108-160">Clique no gráfico para exibir mais detalhes na pesquisa de logs.</span><span class="sxs-lookup"><span data-stu-id="90108-160">Click the chart to view more details in log search.</span></span> <span data-ttu-id="90108-161">Clique em um nome de host para abrir a pesquisa de logs e exibir os detalhes do contador da CPU das VMs hospedadas.</span><span class="sxs-lookup"><span data-stu-id="90108-161">Click any host name to open log search and view CPU counter details for hosted VMs.</span></span>
    - <span data-ttu-id="90108-162">**Utilização de memória de host** Mostra uma tendência gráfica de utilização de memória de computadores host e uma lista de hosts com base no período selecionado.</span><span class="sxs-lookup"><span data-stu-id="90108-162">**Host Memory Utilization** Shows a graphical trend of the memory utilization of host computers and a list of hosts, based on the selected time period.</span></span> <span data-ttu-id="90108-163">Passe o mouse sobre o gráfico de linhas para exibir detalhes de um ponto específico no tempo.</span><span class="sxs-lookup"><span data-stu-id="90108-163">Hover over the line chart to view details for a specific point in time.</span></span> <span data-ttu-id="90108-164">Clique no gráfico para exibir mais detalhes na pesquisa de logs.</span><span class="sxs-lookup"><span data-stu-id="90108-164">Click the chart to view more details in log search.</span></span> <span data-ttu-id="90108-165">Clique em um nome de host para abrir a pesquisa de logs e exibir os detalhes do contador da memória das VMs hospedadas.</span><span class="sxs-lookup"><span data-stu-id="90108-165">Click any host name to open log search and view memory counter details for hosted VMs.</span></span>
- <span data-ttu-id="90108-166">**Máquinas virtuais**</span><span class="sxs-lookup"><span data-stu-id="90108-166">**Virtual Machines**</span></span>
    - <span data-ttu-id="90108-167">**Utilização de CPU da VM** mostra uma tendência gráfica da utilização da CPU de máquinas virtuais e uma lista de máquinas virtuais com base no período selecionado.</span><span class="sxs-lookup"><span data-stu-id="90108-167">**VM CPU Utilization** Shows a graphical trend of the CPU utilization of virtual machines and a list of virtual machines, based on the selected time period.</span></span> <span data-ttu-id="90108-168">Passe o mouse sobre o gráfico de linhas para exibir detalhes de um ponto específico no tempo para as 3 VMs superiores.</span><span class="sxs-lookup"><span data-stu-id="90108-168">Hover over the line chart to view details for a specific point in time for the top 3 VMs.</span></span> <span data-ttu-id="90108-169">Clique no gráfico para exibir mais detalhes na pesquisa de logs.</span><span class="sxs-lookup"><span data-stu-id="90108-169">Click the chart to view more details in log search.</span></span> <span data-ttu-id="90108-170">Clique em qualquer nome da VM para abrir a pesquisa de logs e exibir detalhes do contador da CPU agregada para a VM.</span><span class="sxs-lookup"><span data-stu-id="90108-170">Click any VM name to open log search and view aggregated CPU counter details for the VM.</span></span>
    - <span data-ttu-id="90108-171">**Utilização de memória de VM** Mostra uma tendência gráfica de utilização de memória das máquinas virtuais e uma lista de máquinas virtuais com base no período selecionado.</span><span class="sxs-lookup"><span data-stu-id="90108-171">**VM Memory Utilization** Shows a graphical trend of the memory utilization of virtual machines and a list of virtual machines, based on the selected time period.</span></span> <span data-ttu-id="90108-172">Passe o mouse sobre o gráfico de linhas para exibir detalhes de um ponto específico no tempo para as 3 VMs superiores.</span><span class="sxs-lookup"><span data-stu-id="90108-172">Hover over the line chart to view details for a specific point in time for the top 3 VMs.</span></span> <span data-ttu-id="90108-173">Clique no gráfico para exibir mais detalhes na pesquisa de logs.</span><span class="sxs-lookup"><span data-stu-id="90108-173">Click the chart to view more details in log search.</span></span> <span data-ttu-id="90108-174">Clique em qualquer nome da VM para abrir a pesquisa de logs e exibir detalhes do contador da memória agregada para a VM.</span><span class="sxs-lookup"><span data-stu-id="90108-174">Click any VM name to open log search and view aggregated memory counter details for the VM.</span></span>
    - <span data-ttu-id="90108-175">**IOPS de disco total da VM** mostra uma tendência gráfica do IOPS de disco total para máquinas virtuais e uma lista de máquinas virtuais com o IOPS para cada uma delas com base no período selecionado.</span><span class="sxs-lookup"><span data-stu-id="90108-175">**VM Total Disk IOPS** Shows a graphical trend of the total disk IOPS for virtual machines and a list of virtual machines with the IOPS for each, based on the selected time period.</span></span> <span data-ttu-id="90108-176">Passe o mouse sobre o gráfico de linhas para exibir detalhes de um ponto específico no tempo para as 3 VMs superiores.</span><span class="sxs-lookup"><span data-stu-id="90108-176">Hover over the line chart to view details for a specific point in time for the top 3 VMs.</span></span> <span data-ttu-id="90108-177">Clique no gráfico para exibir mais detalhes na pesquisa de logs.</span><span class="sxs-lookup"><span data-stu-id="90108-177">Click the chart to view more details in log search.</span></span> <span data-ttu-id="90108-178">Clique em qualquer nome da VM para abrir a pesquisa de logs e exibir os detalhes do contador de IOPS de disco agregado para a VM.</span><span class="sxs-lookup"><span data-stu-id="90108-178">Click any VM name to open log search and view aggregated disk IOPS counter details for the VM.</span></span>
    - <span data-ttu-id="90108-179">**Taxa de transferência de disco total da VM** mostra uma tendência gráfica da taxa de transferência total do disco para máquinas virtuais e uma lista de máquinas virtuais com a taxa de transferência total para cada uma delas com base no período selecionado.</span><span class="sxs-lookup"><span data-stu-id="90108-179">**VM Total Disk Throughput** Shows a graphical trend of the total disk throughput for virtual machines and a list of virtual machines with the total disk throughput for each, based on the selected time period.</span></span> <span data-ttu-id="90108-180">Passe o mouse sobre o gráfico de linhas para exibir detalhes de um ponto específico no tempo para as 3 VMs superiores.</span><span class="sxs-lookup"><span data-stu-id="90108-180">Hover over the line chart to view details for a specific point in time for the top 3 VMs.</span></span> <span data-ttu-id="90108-181">Clique no gráfico para exibir mais detalhes na pesquisa de logs.</span><span class="sxs-lookup"><span data-stu-id="90108-181">Click the chart to view more details in log search.</span></span> <span data-ttu-id="90108-182">Clique em qualquer nome da VM para abrir a pesquisa de logs e exibir detalhes do contador da taxa de transferência de disco total agregada para a máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="90108-182">Click any VM name to open log search and view aggregated total disk throughput counter details for the VM.</span></span>
- <span data-ttu-id="90108-183">**Volumes compartilhados clusterizados**</span><span class="sxs-lookup"><span data-stu-id="90108-183">**Clustered Shared Volumes**</span></span>
    - <span data-ttu-id="90108-184">**Taxa de transferência total** mostra a soma da leitura e escrita em volumes compartilhados clusterizados.</span><span class="sxs-lookup"><span data-stu-id="90108-184">**Total Throughput** Shows the sum of both reads and writes on clustered shared volumes.</span></span>
    - <span data-ttu-id="90108-185">**IOPS total** mostra a soma das operações de entrada/saída por segundo em volumes compartilhados clusterizados.</span><span class="sxs-lookup"><span data-stu-id="90108-185">**Total IOPS** Shows the sum of input/output operations per second on clustered shared volumes.</span></span>
    - <span data-ttu-id="90108-186">**Latência total** mostra a latência total nos volumes compartilhados clusterizados.</span><span class="sxs-lookup"><span data-stu-id="90108-186">**Total Latency** Shows the total latency on clustered shared volumes.</span></span>
- <span data-ttu-id="90108-187">**Densidade de host** o bloco superior mostra o número total de hosts e de máquinas virtuais disponíveis para a solução.</span><span class="sxs-lookup"><span data-stu-id="90108-187">**Host Density** The top tile shows the total number of hosts and virtual machines available to the solution.</span></span> <span data-ttu-id="90108-188">Clique no bloco superior para exibir detalhes adicionais na pesquisa de logs.</span><span class="sxs-lookup"><span data-stu-id="90108-188">Click the top tile to view additional details in log search.</span></span> <span data-ttu-id="90108-189">Também lista todos os hosts e o número de máquinas virtuais que são hospedados.</span><span class="sxs-lookup"><span data-stu-id="90108-189">Also lists all hosts and the number of virtual machines that are hosted.</span></span> <span data-ttu-id="90108-190">Clique em um host para analisar os resultados de VM em uma pesquisa de logs.</span><span class="sxs-lookup"><span data-stu-id="90108-190">Click a host to drill into the VM results in a log search.</span></span>


![folha de Hosts do painel](./media/log-analytics-capacity/dashboard-hosts.png)

![folha de máquinas virtuais do painel](./media/log-analytics-capacity/dashboard-vms.png)


### <a name="evaluate-performance"></a><span data-ttu-id="90108-193">Desempenho da avaliação</span><span class="sxs-lookup"><span data-stu-id="90108-193">Evaluate performance</span></span>

<span data-ttu-id="90108-194">Ambientes de computação de produção diferem muito de uma organização para outra.</span><span class="sxs-lookup"><span data-stu-id="90108-194">Production computing environments differ greatly from one organization to another.</span></span> <span data-ttu-id="90108-195">Além disso, a capacidade e o desempenho para cargas de trabalho podem depender de como as suas VMs estão operando, e o que você considera normal.</span><span class="sxs-lookup"><span data-stu-id="90108-195">Also, capacity and performance workloads might depend on how your VMs are running, and what you consider normal.</span></span> <span data-ttu-id="90108-196">Os procedimentos específicos para ajudá-lo a medir o desempenho provavelmente não se aplicam ao seu ambiente.</span><span class="sxs-lookup"><span data-stu-id="90108-196">Specific procedures to help you measure performance would probably not apply to your environment.</span></span> <span data-ttu-id="90108-197">Portanto, orientações prescritivas mais generalizadas são mais adequadas para ajudar.</span><span class="sxs-lookup"><span data-stu-id="90108-197">So, more generalized prescriptive guidance is better suited to help.</span></span> <span data-ttu-id="90108-198">A Microsoft publica uma variedade de artigos de orientações prescritivas para ajudar a medir o seu desempenho.</span><span class="sxs-lookup"><span data-stu-id="90108-198">Microsoft publishes a variety of prescriptive guidance articles to help you measure performance.</span></span>

<span data-ttu-id="90108-199">Para resumir, a solução coleta dados de desempenho e capacidade de uma variedade de fontes, incluindo contadores de desempenho.</span><span class="sxs-lookup"><span data-stu-id="90108-199">To summarize, the solution collects capacity and performance data from a variety of sources including performance counters.</span></span> <span data-ttu-id="90108-200">Use esses dados de desempenho e capacidade apresentados em várias superfícies na solução e compare seus resultados com os do artigo [Medição de desempenho no Hyper-V](https://msdn.microsoft.com/library/cc768535.aspx).</span><span class="sxs-lookup"><span data-stu-id="90108-200">Use that capacity and performance data that presented in various surfaces in the solution and compare your results to those at the [Measuring Performance on Hyper-V](https://msdn.microsoft.com/library/cc768535.aspx) article.</span></span> <span data-ttu-id="90108-201">Apesar deste artigo ter sido publicado há algum tempo, as métricas, considerações e diretrizes ainda são válidas.</span><span class="sxs-lookup"><span data-stu-id="90108-201">Although the article was published some time ago, the metrics, considerations, and guidelines are still valid.</span></span> <span data-ttu-id="90108-202">O artigo contém links para outros recursos úteis.</span><span class="sxs-lookup"><span data-stu-id="90108-202">The article contains links to other useful resources.</span></span>


## <a name="sample-log-searches"></a><span data-ttu-id="90108-203">Pesquisas de log de exemplo</span><span class="sxs-lookup"><span data-stu-id="90108-203">Sample log searches</span></span>

<span data-ttu-id="90108-204">A tabela a seguir fornece as pesquisas de log de exemplo para dados de desempenho e capacidade coletados e calculados pela solução.</span><span class="sxs-lookup"><span data-stu-id="90108-204">The following table provides sample log searches for capacity and performance data collected and calculated by this solution.</span></span>

| <span data-ttu-id="90108-205">Consultar</span><span class="sxs-lookup"><span data-stu-id="90108-205">Query</span></span> | <span data-ttu-id="90108-206">Descrição</span><span class="sxs-lookup"><span data-stu-id="90108-206">Description</span></span> |
|---|---|
| <span data-ttu-id="90108-207">Todas as configurações de memória do host</span><span class="sxs-lookup"><span data-stu-id="90108-207">All host memory configurations</span></span> | <code>Type=Perf ObjectName="Capacity and Performance" CounterName="Host Assigned Memory MB" &#124; measure avg(CounterValue) as MB by InstanceName</code> |
| <span data-ttu-id="90108-208">Todas as configurações de memória da VM</span><span class="sxs-lookup"><span data-stu-id="90108-208">All VM memory configurations</span></span> | <code>Type=Perf ObjectName="Capacity and Performance" CounterName="VM Assigned Memory MB" &#124; measure avg(CounterValue) as MB by InstanceName</code> |
| <span data-ttu-id="90108-209">Divisão dos IOPS de disco totais em todas as VMs</span><span class="sxs-lookup"><span data-stu-id="90108-209">Breakdown of Total Disk IOPS across all VMs</span></span> | <code>Type=Perf ObjectName="Capacity and Performance" (CounterName="VHD Reads/s" OR CounterName="VHD Writes/s") &#124; top 2500 &#124; measure avg(CounterValue) by CounterName, InstanceName interval 1HOUR</code> |
| <span data-ttu-id="90108-210">Divisão da taxa de transferência de disco total em todas as VMs</span><span class="sxs-lookup"><span data-stu-id="90108-210">Breakdown of Total Disk Throughput across all VMs</span></span> | <code>Type=Perf ObjectName="Capacity and Performance" (CounterName="VHD Read MB/s" OR CounterName="VHD Write MB/s") &#124; top 2500 &#124; measure avg(CounterValue) by CounterName, InstanceName interval 1HOUR</code> |
| <span data-ttu-id="90108-211">Divisão de IOPS total em todos os CSVs</span><span class="sxs-lookup"><span data-stu-id="90108-211">Breakdown of Total IOPS across all CSVs</span></span> | <code>Type=Perf ObjectName="Capacity and Performance" (CounterName="CSV Reads/s" OR CounterName="CSV Writes/s") &#124; top 2500 &#124; measure avg(CounterValue) by CounterName, InstanceName interval 1HOUR</code> |
| <span data-ttu-id="90108-212">Divisão da taxa de transferência total em todos os CSVs</span><span class="sxs-lookup"><span data-stu-id="90108-212">Breakdown of Total Throughput across all CSVs</span></span> | <code>Type=Perf ObjectName="Capacity and Performance" (CounterName="CSV Read MB/s" OR CounterName="CSV Write MB/s") &#124; top 2500 &#124; measure avg(CounterValue) by CounterName, InstanceName interval 1HOUR</code> |
| <span data-ttu-id="90108-213">Divisão da latência total em todos os CSVs</span><span class="sxs-lookup"><span data-stu-id="90108-213">Breakdown of Total Latency across all CSVs</span></span> | <code> Type=Perf ObjectName="Capacity and Performance" (CounterName="CSV Read Latency" OR CounterName="CSV Write Latency") &#124; top 2500 &#124; measure avg(CounterValue) by CounterName, InstanceName interval 1HOUR</code> |

>[!NOTE]
> <span data-ttu-id="90108-214">Se o seu espaço de trabalho fosse atualizado para a [nova linguagem de consulta do Log Analytics](log-analytics-log-search-upgrade.md), as consultas acima seriam alteradas para o demonstrado a seguir.</span><span class="sxs-lookup"><span data-stu-id="90108-214">If your workspace has been upgraded to the [new Log Analytics query language](log-analytics-log-search-upgrade.md), then the above queries would change to the following.</span></span>

> | <span data-ttu-id="90108-215">Consultar</span><span class="sxs-lookup"><span data-stu-id="90108-215">Query</span></span> | <span data-ttu-id="90108-216">Descrição</span><span class="sxs-lookup"><span data-stu-id="90108-216">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="90108-217">Todas as configurações de memória do host</span><span class="sxs-lookup"><span data-stu-id="90108-217">All host memory configurations</span></span> | <span data-ttu-id="90108-218">Perf &#124; where ObjectName == "Capacity and Performance" and CounterName == "Host Assigned Memory MB" &#124; summarize MB = avg(CounterValue) by InstanceName</span><span class="sxs-lookup"><span data-stu-id="90108-218">Perf &#124; where ObjectName == "Capacity and Performance" and CounterName == "Host Assigned Memory MB" &#124; summarize MB = avg(CounterValue) by InstanceName</span></span> |
| <span data-ttu-id="90108-219">Todas as configurações de memória da VM</span><span class="sxs-lookup"><span data-stu-id="90108-219">All VM memory configurations</span></span> | <span data-ttu-id="90108-220">Perf &#124; where ObjectName == "Capacity and Performance" and CounterName == "VM Assigned Memory MB" &#124; summarize MB = avg(CounterValue) by InstanceName</span><span class="sxs-lookup"><span data-stu-id="90108-220">Perf &#124; where ObjectName == "Capacity and Performance" and CounterName == "VM Assigned Memory MB" &#124; summarize MB = avg(CounterValue) by InstanceName</span></span> |
| <span data-ttu-id="90108-221">Divisão dos IOPS de disco totais em todas as VMs</span><span class="sxs-lookup"><span data-stu-id="90108-221">Breakdown of Total Disk IOPS across all VMs</span></span> | <span data-ttu-id="90108-222">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "VHD Reads/s" or CounterName == "VHD Writes/s") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span><span class="sxs-lookup"><span data-stu-id="90108-222">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "VHD Reads/s" or CounterName == "VHD Writes/s") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span></span> |
| <span data-ttu-id="90108-223">Divisão da taxa de transferência de disco total em todas as VMs</span><span class="sxs-lookup"><span data-stu-id="90108-223">Breakdown of Total Disk Throughput across all VMs</span></span> | <span data-ttu-id="90108-224">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "VHD Read MB/s" or CounterName == "VHD Write MB/s") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span><span class="sxs-lookup"><span data-stu-id="90108-224">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "VHD Read MB/s" or CounterName == "VHD Write MB/s") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span></span> |
| <span data-ttu-id="90108-225">Divisão de IOPS total em todos os CSVs</span><span class="sxs-lookup"><span data-stu-id="90108-225">Breakdown of Total IOPS across all CSVs</span></span> | <span data-ttu-id="90108-226">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "CSV Reads/s" or CounterName == "CSV Writes/s") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span><span class="sxs-lookup"><span data-stu-id="90108-226">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "CSV Reads/s" or CounterName == "CSV Writes/s") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span></span> |
| <span data-ttu-id="90108-227">Divisão da taxa de transferência total em todos os CSVs</span><span class="sxs-lookup"><span data-stu-id="90108-227">Breakdown of Total Throughput across all CSVs</span></span> | <span data-ttu-id="90108-228">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "CSV Reads/s" or CounterName == "CSV Writes/s") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span><span class="sxs-lookup"><span data-stu-id="90108-228">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "CSV Reads/s" or CounterName == "CSV Writes/s") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span></span> |
| <span data-ttu-id="90108-229">Divisão da latência total em todos os CSVs</span><span class="sxs-lookup"><span data-stu-id="90108-229">Breakdown of Total Latency across all CSVs</span></span> | <span data-ttu-id="90108-230">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "CSV Read Latency" or CounterName == "CSV Write Latency") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span><span class="sxs-lookup"><span data-stu-id="90108-230">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "CSV Read Latency" or CounterName == "CSV Write Latency") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span></span> |


## <a name="next-steps"></a><span data-ttu-id="90108-231">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="90108-231">Next steps</span></span>
* <span data-ttu-id="90108-232">Use [pesquisas de log no Log Analytics](log-analytics-log-searches.md) para exibir dados detalhados de capacidade e desempenho.</span><span class="sxs-lookup"><span data-stu-id="90108-232">Use [Log searches in Log Analytics](log-analytics-log-searches.md) to view detailed Capacity and Performance data.</span></span>
