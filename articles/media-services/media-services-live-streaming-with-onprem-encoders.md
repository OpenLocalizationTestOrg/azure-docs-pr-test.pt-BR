---
title: "Transmissão ao vivo com codificadores locais que criam fluxos com múltiplas taxas de bits – Azure | Microsoft Docs"
description: "Este tópico descreve como configurar um canal que recebe um fluxo ao vivo com múltiplas taxas de bits de um codificador local. Depois, o fluxo pode ser entregue para aplicativos de reprodução do cliente por meio de um ou mais pontos de extremidade de streaming, usando um destes protocolos de streaming adaptáveis: HLS, Smooth Streaming, DASH."
services: media-services
documentationcenter: 
author: Juliako
manager: cfowler
editor: 
ms.assetid: d9f0912d-39ec-4c9c-817b-e5d9fcf1f7ea
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: ne
ms.topic: article
ms.date: 04/12/2017
ms.author: cenkd;juliako
ms.openlocfilehash: 3f6569d32708c42247e0ffec70389f2e0f07389e
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/29/2017
---
# <a name="live-streaming-with-on-premises-encoders-that-create-multi-bitrate-streams"></a><span data-ttu-id="aebe9-104">Transmissão ao vivo com codificadores locais que criam fluxos com múltiplas taxas de bits</span><span class="sxs-lookup"><span data-stu-id="aebe9-104">Live streaming with on-premises encoders that create multi-bitrate streams</span></span>
## <a name="overview"></a><span data-ttu-id="aebe9-105">Visão geral</span><span class="sxs-lookup"><span data-stu-id="aebe9-105">Overview</span></span>
<span data-ttu-id="aebe9-106">Nos Serviços de Mídia do Azure, um *Canal* representa um pipeline para processamento de conteúdo de streaming ao vivo.</span><span class="sxs-lookup"><span data-stu-id="aebe9-106">In Azure Media Services, a *channel* represents a pipeline for processing live-streaming content.</span></span> <span data-ttu-id="aebe9-107">Um canal recebe fluxos de entrada ao vivo de uma das duas maneiras a seguir:</span><span class="sxs-lookup"><span data-stu-id="aebe9-107">A channel receives live input streams in one of two ways:</span></span>

* <span data-ttu-id="aebe9-108">Um codificador ativo local envia um fluxo RTMP ou Smooth Streaming (MP4 fragmentado) com múltiplas taxas de bits para o canal que não está habilitado para executar a codificação ativa com os Serviços de Mídia.</span><span class="sxs-lookup"><span data-stu-id="aebe9-108">An on-premises live encoder sends a multi-bitrate RTMP or Smooth Streaming (fragmented MP4) stream to the channel that is not enabled to perform live encoding with Media Services.</span></span> <span data-ttu-id="aebe9-109">Os fluxos ingeridos passam pelos canais sem qualquer processamento adicional.</span><span class="sxs-lookup"><span data-stu-id="aebe9-109">The ingested streams pass through channels without any further processing.</span></span> <span data-ttu-id="aebe9-110">Esse método é chamado *passagem*.</span><span class="sxs-lookup"><span data-stu-id="aebe9-110">This method is called *pass-through*.</span></span> <span data-ttu-id="aebe9-111">Você pode usar os codificadores ativos a seguir, que produzem Smooth Streaming com múltiplas taxas de bits: Media Excel, Ateme, Imagine Communications, Envivio, Cisco e Elemental.</span><span class="sxs-lookup"><span data-stu-id="aebe9-111">You can use the following live encoders that have multi-bitrate Smooth Streaming as output: Media Excel, Ateme, Imagine Communications, Envivio, Cisco, and Elemental.</span></span> <span data-ttu-id="aebe9-112">Os codificadores ativos a seguir produzem RTMP: Adobe Flash Media Live Encoder, Telestream Wirecast, Haivision, Teradek e TriCaster.</span><span class="sxs-lookup"><span data-stu-id="aebe9-112">The following live encoders have RTMP as output: Adobe Flash Media Live Encoder, Telestream Wirecast, Haivision, Teradek, and TriCaster.</span></span> <span data-ttu-id="aebe9-113">Um codificador ativo também pode enviar uma transmissão de taxa de bits única para um canal que não está habilitado para a codificação ativa, porém, não recomendamos isso.</span><span class="sxs-lookup"><span data-stu-id="aebe9-113">A live encoder can also send a single-bitrate stream to a channel that is not enabled for live encoding, but we don't recommend that.</span></span> <span data-ttu-id="aebe9-114">Os Serviços de Mídia enviam a transmissão aos clientes que a solicitam.</span><span class="sxs-lookup"><span data-stu-id="aebe9-114">Media Services delivers the stream to customers who request it.</span></span>

  > [!NOTE]
  > <span data-ttu-id="aebe9-115">O uso de um método de passagem é a maneira mais econômica de realizar uma transmissão ao vivo.</span><span class="sxs-lookup"><span data-stu-id="aebe9-115">Using a pass-through method is the most economical way to do live streaming.</span></span>


* <span data-ttu-id="aebe9-116">Um codificador ao vivo local envia um fluxo de taxa de bits adaptável única para o canal que é habilitado para realizar a codificação ao vico com os serviços de mídia em um dos seguintes formatos: RTP (MPEG-TS), RTMP oi Smooth Streaming (MP4 fragmentado).</span><span class="sxs-lookup"><span data-stu-id="aebe9-116">An on-premises live encoder sends a single-bitrate stream to the channel that is enabled to perform live encoding with Media Services in one of the following formats: RTP (MPEG-TS), RTMP, or Smooth Streaming (fragmented MP4).</span></span> <span data-ttu-id="aebe9-117">O canal então realiza a codificação ao vivo do fluxo de entrada com taxa de bits única em um fluxo de vídeo (adaptável) de múltiplas taxas de bits.</span><span class="sxs-lookup"><span data-stu-id="aebe9-117">The channel then performs live encoding of the incoming single-bitrate stream to a multi-bitrate (adaptive) video stream.</span></span> <span data-ttu-id="aebe9-118">Os Serviços de Mídia enviam a transmissão aos clientes que a solicitam.</span><span class="sxs-lookup"><span data-stu-id="aebe9-118">Media Services delivers the stream to customers who request it.</span></span>

<span data-ttu-id="aebe9-119">A partir da versão 2.10 dos Serviços de Mídia, quando você cria um canal, pode especificar como deseja que o canal receba o fluxo de entrada.</span><span class="sxs-lookup"><span data-stu-id="aebe9-119">Starting with the Media Services 2.10 release, when you create a channel, you can specify how you want your channel to receive the input stream.</span></span> <span data-ttu-id="aebe9-120">Você também pode especificar se quer que o canal execute a codificação ativa de seu fluxo.</span><span class="sxs-lookup"><span data-stu-id="aebe9-120">You can also specify whether you want the channel to perform live encoding of your stream.</span></span> <span data-ttu-id="aebe9-121">Você tem duas opções:</span><span class="sxs-lookup"><span data-stu-id="aebe9-121">You have two options:</span></span>

* <span data-ttu-id="aebe9-122">**Passagem**: especifique esse valor se planejar usar um codificador ativo local que emitirá uma transmissão de múltiplas taxas de bits (uma transmissão de passagem) como saída.</span><span class="sxs-lookup"><span data-stu-id="aebe9-122">**Pass Through**: Specify this value if you plan to use an on-premises live encoder that will have a multi-bitrate stream (a pass-through stream) as output.</span></span> <span data-ttu-id="aebe9-123">Nesse caso, o fluxo de entrada é transmitido para a saída sem qualquer codificação.</span><span class="sxs-lookup"><span data-stu-id="aebe9-123">In this case, the incoming stream passes through to the output without any encoding.</span></span> <span data-ttu-id="aebe9-124">Esse é o comportamento de um canal em versão anterior à 2.10.</span><span class="sxs-lookup"><span data-stu-id="aebe9-124">This is the behavior of a channel before the 2.10 release.</span></span> <span data-ttu-id="aebe9-125">Este tópico fornece detalhes sobre como trabalhar com canais desse tipo.</span><span class="sxs-lookup"><span data-stu-id="aebe9-125">This topic gives details about working with channels of this type.</span></span>
* <span data-ttu-id="aebe9-126">**Codificação ativa**: escolha esse valor se você pretende usar os Serviços de Mídia para codificar sua transmissão ao vivo de taxa de bits única para uma transmissão de múltiplas taxas de bits.</span><span class="sxs-lookup"><span data-stu-id="aebe9-126">**Live Encoding**: Choose this value if you plan to use Media Services to encode your single-bitrate live stream to a multi-bitrate stream.</span></span> <span data-ttu-id="aebe9-127">Lembre-se de que deixar um canal de codificação ativa em um estado **Executando** incorrerá em encargos de cobrança.</span><span class="sxs-lookup"><span data-stu-id="aebe9-127">Be aware that leaving a live encoding channel in a **Running** state will incur billing charges.</span></span> <span data-ttu-id="aebe9-128">Recomendamos parar imediatamente seus canais em execução após a conclusão do evento de streaming ativo para evitar cobranças por hora extra.</span><span class="sxs-lookup"><span data-stu-id="aebe9-128">We recommend that you immediately stop your running channels after your live-streaming event is complete to avoid extra hourly charges.</span></span> <span data-ttu-id="aebe9-129">Os Serviços de Mídia enviam a transmissão aos clientes que a solicitam.</span><span class="sxs-lookup"><span data-stu-id="aebe9-129">Media Services delivers the stream to customers who request it.</span></span>

> [!NOTE]
> <span data-ttu-id="aebe9-130">Este tópico discute os atributos de canais que não estão habilitados para executar a codificação ativa.</span><span class="sxs-lookup"><span data-stu-id="aebe9-130">This topic discusses attributes of channels that are not enabled to perform live encoding.</span></span> <span data-ttu-id="aebe9-131">Para obter informações sobre como trabalhar com canais habilitados a realizar a codificação ativa, confira [Trabalhando com canais habilitados a executar codificação ao vivo com os Serviços de Mídia do Azure](media-services-manage-live-encoder-enabled-channels.md).</span><span class="sxs-lookup"><span data-stu-id="aebe9-131">For information about working with channels that are enabled to perform live encoding, see [Live streaming using Azure Media Services to create multi-bitrate streams](media-services-manage-live-encoder-enabled-channels.md).</span></span>
>
>

<span data-ttu-id="aebe9-132">O diagrama a seguir representa um fluxo de trabalho de transmissão ao vivo que usa um codificador ativo local para gerar fluxos RTMP com múltiplas taxas de bits ou MP4 fragmentado (Smooth Streaming).</span><span class="sxs-lookup"><span data-stu-id="aebe9-132">The following diagram represents a live-streaming workflow that uses an on-premises live encoder to have multi-bitrate RTMP or fragmented MP4 (Smooth Streaming) streams as output.</span></span>

![Fluxo de trabalho ao vivo][live-overview]

## <span data-ttu-id="aebe9-134"><a id="scenario"></a>Cenário comum de streaming ao vivo</span><span class="sxs-lookup"><span data-stu-id="aebe9-134"><a id="scenario"></a>Common live-streaming scenario</span></span>
<span data-ttu-id="aebe9-135">As etapas a seguir descrevem as tarefas envolvidas na criação de aplicativos comuns de transmissão ao vivo.</span><span class="sxs-lookup"><span data-stu-id="aebe9-135">The following steps describe tasks involved in creating common live-streaming applications.</span></span>

1. <span data-ttu-id="aebe9-136">Conecte uma câmera de vídeo a um computador.</span><span class="sxs-lookup"><span data-stu-id="aebe9-136">Connect a video camera to a computer.</span></span> <span data-ttu-id="aebe9-137">Inicie e configure um codificador ativo local que gere um fluxo RTMP com múltiplas taxas de bits ou MP4 fragmentado (Smooth Streaming).</span><span class="sxs-lookup"><span data-stu-id="aebe9-137">Start and configure an on-premises live encoder that has a multi-bitrate RTMP or fragmented MP4 (Smooth Streaming) stream as output.</span></span> <span data-ttu-id="aebe9-138">Para obter mais informações, consulte [Suporte RTMP dos Serviços de Mídia do Azure e Codificadores ao Vivo](http://go.microsoft.com/fwlink/?LinkId=532824).</span><span class="sxs-lookup"><span data-stu-id="aebe9-138">For more information, see [Azure Media Services RTMP Support and Live Encoders](http://go.microsoft.com/fwlink/?LinkId=532824).</span></span>

    <span data-ttu-id="aebe9-139">Essa etapa também pode ser realizada após a criação do canal.</span><span class="sxs-lookup"><span data-stu-id="aebe9-139">You can also perform this step after you create your channel.</span></span>
2. <span data-ttu-id="aebe9-140">Crie e inicie um Canal.</span><span class="sxs-lookup"><span data-stu-id="aebe9-140">Create and start a channel.</span></span>

3. <span data-ttu-id="aebe9-141">URL de ingestão de recuperação do canal.</span><span class="sxs-lookup"><span data-stu-id="aebe9-141">Retrieve the channel ingest URL.</span></span>

    <span data-ttu-id="aebe9-142">O codificador ativo usa a URL de ingestão para enviar o fluxo para o canal.</span><span class="sxs-lookup"><span data-stu-id="aebe9-142">The live encoder uses the ingest URL to send the stream to the channel.</span></span>
4. <span data-ttu-id="aebe9-143">Recupere a URL de visualização do canal.</span><span class="sxs-lookup"><span data-stu-id="aebe9-143">Retrieve the channel preview URL.</span></span>

    <span data-ttu-id="aebe9-144">Use essa URL para verificar se o canal está recebendo corretamente o fluxo ao vivo.</span><span class="sxs-lookup"><span data-stu-id="aebe9-144">Use this URL to verify that your channel is properly receiving the live stream.</span></span>
5. <span data-ttu-id="aebe9-145">Crie um programa.</span><span class="sxs-lookup"><span data-stu-id="aebe9-145">Create a program.</span></span>

    <span data-ttu-id="aebe9-146">Ao usar o Portal do Azure, a criação de um programa também cria um ativo.</span><span class="sxs-lookup"><span data-stu-id="aebe9-146">When you use the Azure portal, creating a program also creates an asset.</span></span>

    <span data-ttu-id="aebe9-147">Ao usar o SDK do .NET ou REST, você precisa criar um ativo e especificar o uso desse ativo durante a criação de um programa.</span><span class="sxs-lookup"><span data-stu-id="aebe9-147">When you use the .NET SDK or REST, you need to create an asset and specify to use this asset when creating a program.</span></span>
6. <span data-ttu-id="aebe9-148">Publique o ativo associado ao programa.</span><span class="sxs-lookup"><span data-stu-id="aebe9-148">Publish the asset that's associated with the program.</span></span>   

    >[!NOTE]
    ><span data-ttu-id="aebe9-149">Quando sua conta dos Serviços de Mídia do Azure é criada, um ponto de extremidade de streaming **padrão** é adicionado à sua conta em estado **Parado**.</span><span class="sxs-lookup"><span data-stu-id="aebe9-149">When your Azure Media Services account is created, a **default** streaming endpoint is added to your account in the **Stopped** state.</span></span> <span data-ttu-id="aebe9-150">O ponto de extremidade de streaming do qual você deseja transmitir o conteúdo deve estar no estado **Executando**.</span><span class="sxs-lookup"><span data-stu-id="aebe9-150">The streaming endpoint from which you want to stream content has to be in the **Running** state.</span></span>

7. <span data-ttu-id="aebe9-151">Inicie o programa quando estiver pronto para iniciar o streaming e o arquivamento.</span><span class="sxs-lookup"><span data-stu-id="aebe9-151">Start the program when you're ready to start streaming and archiving.</span></span>

8. <span data-ttu-id="aebe9-152">Opcionalmente, o codificador ao vivo pode ser sinalizado para iniciar um anúncio.</span><span class="sxs-lookup"><span data-stu-id="aebe9-152">Optionally, the live encoder can be signaled to start an advertisement.</span></span> <span data-ttu-id="aebe9-153">O anúncio é inserido no fluxo de saída.</span><span class="sxs-lookup"><span data-stu-id="aebe9-153">The advertisement is inserted in the output stream.</span></span>

9. <span data-ttu-id="aebe9-154">Interrompa o programa sempre que você deseja parar o streaming e o arquivamento do evento.</span><span class="sxs-lookup"><span data-stu-id="aebe9-154">Stop the program whenever you want to stop streaming and archiving the event.</span></span>

10. <span data-ttu-id="aebe9-155">Exclua o programa (e, opcionalmente, exclua o ativo).</span><span class="sxs-lookup"><span data-stu-id="aebe9-155">Delete the program (and optionally delete the asset).</span></span>     

## <span data-ttu-id="aebe9-156"><a id="channel"></a>Descrição de um canal e seus componentes relacionados</span><span class="sxs-lookup"><span data-stu-id="aebe9-156"><a id="channel"></a>Description of a channel and its related components</span></span>
### <span data-ttu-id="aebe9-157"><a id="channel_input"></a>Configurações de entrada de canal (ingestão)</span><span class="sxs-lookup"><span data-stu-id="aebe9-157"><a id="channel_input"></a>Channel input (ingest) configurations</span></span>
#### <span data-ttu-id="aebe9-158"><a id="ingest_protocols"></a>Protocolo de streaming de ingestão</span><span class="sxs-lookup"><span data-stu-id="aebe9-158"><a id="ingest_protocols"></a>Ingest streaming protocol</span></span>
<span data-ttu-id="aebe9-159">Os Serviços de Mídia oferecem suporte à ingestão de feeds ao vivo usando MP4 fragmentado de múltipla taxas de bits e RTMP de múltiplas taxas de bits como protocolos de streaming.</span><span class="sxs-lookup"><span data-stu-id="aebe9-159">Media Services supports ingesting live feeds by using multi-bitrate fragmented MP4 and multi-bitrate RTMP as streaming protocols.</span></span> <span data-ttu-id="aebe9-160">Quando o protocolo de transmissão de ingestão RTMP é selecionado, dois pontos de extremidade de ingestão (entrada) são criados para o canal:</span><span class="sxs-lookup"><span data-stu-id="aebe9-160">When the RTMP ingest streaming protocol is selected, two ingest (input) endpoints are created for the channel:</span></span>

* <span data-ttu-id="aebe9-161">**URL principal**: especifica a URL totalmente qualificada do ponto de extremidade de ingestão de RTMP principal do canal.</span><span class="sxs-lookup"><span data-stu-id="aebe9-161">**Primary URL**: Specifies the fully qualified URL of the channel's primary RTMP ingest endpoint.</span></span>
* <span data-ttu-id="aebe9-162">**URL secundária** (opcional): especifica a URL totalmente qualificada do ponto de extremidade de ingestão de RTMP secundário do canal.</span><span class="sxs-lookup"><span data-stu-id="aebe9-162">**Secondary URL** (optional): Specifies the fully qualified URL of the channel's secondary RTMP ingest endpoint.</span></span>

<span data-ttu-id="aebe9-163">Use a URL secundária se você quiser melhorar a durabilidade e a tolerância a falhas do fluxo de ingestão (bem como o failover e a tolerância a falhas do codificador), especialmente para os cenários a seguir:</span><span class="sxs-lookup"><span data-stu-id="aebe9-163">Use the secondary URL if you want to improve the durability and fault tolerance of your ingest stream (as well as encoder failover and fault tolerance), especially for the following scenarios:</span></span>

- <span data-ttu-id="aebe9-164">Codificador único enviando duplamente por push para URLs primária e secundária:</span><span class="sxs-lookup"><span data-stu-id="aebe9-164">Single encoder double-pushing to both primary and secondary URLs:</span></span>

    <span data-ttu-id="aebe9-165">O objetivo principal deste cenário é fornecer mais flexibilidade ás flutuações de rede e jitters.</span><span class="sxs-lookup"><span data-stu-id="aebe9-165">The main purpose of this scenario is to provide more resiliency to network fluctuations and jitters.</span></span> <span data-ttu-id="aebe9-166">Alguns codificadores RTMP não tratam bem da desconexão de rede.</span><span class="sxs-lookup"><span data-stu-id="aebe9-166">Some RTMP encoders don't handle network disconnects well.</span></span> <span data-ttu-id="aebe9-167">Quando ocorre uma desconexão de rede, um codificador pode parar de codificar e não envia os dados armazenados no buffer após a reconexão.</span><span class="sxs-lookup"><span data-stu-id="aebe9-167">When a network disconnect happens, an encoder might stop encoding and then not send the buffered data when a reconnect happens.</span></span> <span data-ttu-id="aebe9-168">Isso provoca descontinuidades e perdas de dados.</span><span class="sxs-lookup"><span data-stu-id="aebe9-168">This causes discontinuities and data loss.</span></span> <span data-ttu-id="aebe9-169">As desconexões da rede podem ocorrer devido a problemas na rede ou uma manutenção no lado do Azure.</span><span class="sxs-lookup"><span data-stu-id="aebe9-169">Network disconnects can happen because of a bad network or maintenance on the Azure side.</span></span> <span data-ttu-id="aebe9-170">As URLs primária/secundária reduzem os problemas de rede e também fornecem um processo controlado de atualização.</span><span class="sxs-lookup"><span data-stu-id="aebe9-170">Primary/secondary URLs reduce the network problems and provide a controlled upgrade process.</span></span> <span data-ttu-id="aebe9-171">Sempre que ocorrer uma desconexão da rede agendada, os serviços de mídia gerenciam a desconexão primária e secundária e proporcionam uma desconexão de atraso entre os dois.</span><span class="sxs-lookup"><span data-stu-id="aebe9-171">Each time a scheduled network disconnect happens, Media Services manages the primary and secondary disconnects and provides a delayed disconnect between the two.</span></span> <span data-ttu-id="aebe9-172">Assim, os codificadores têm tempo para continuar enviando dados e reconectar novamente.</span><span class="sxs-lookup"><span data-stu-id="aebe9-172">Encoders then have time to keep sending data and reconnect again.</span></span> <span data-ttu-id="aebe9-173">A ordem de desconexão pode ser aleatória, mas sempre haverá um atraso entre as URLs primária/secundária ou URLs secundária/primária.</span><span class="sxs-lookup"><span data-stu-id="aebe9-173">The order of the disconnects can be random, but there will always be a delay between primary/secondary or secondary/primary URLs.</span></span> <span data-ttu-id="aebe9-174">Neste cenário, o codificador ainda é o único ponto de falha.</span><span class="sxs-lookup"><span data-stu-id="aebe9-174">In this scenario, the encoder is still the single point of failure.</span></span>

- <span data-ttu-id="aebe9-175">Vários codificadores, com cada codificador enviando por push para um ponto dedicado:</span><span class="sxs-lookup"><span data-stu-id="aebe9-175">Multiple encoders, with each encoder pushing to a dedicated point:</span></span>

    <span data-ttu-id="aebe9-176">Este cenário fornece redundância de codificador e de inclusão.</span><span class="sxs-lookup"><span data-stu-id="aebe9-176">This scenario provides both encoder and ingest redundancy.</span></span> <span data-ttu-id="aebe9-177">Neste cenário, o condificador1 envia para a URL primária, e o codificador2 envia para a URL secundária.</span><span class="sxs-lookup"><span data-stu-id="aebe9-177">In this scenario, encoder1 pushes to the primary URL, and encoder2 pushes to the secondary URL.</span></span> <span data-ttu-id="aebe9-178">Quando um codificador falha, o outro codificador pode continuar enviando dados.</span><span class="sxs-lookup"><span data-stu-id="aebe9-178">When an encoder fails, the other encoder can keep sending data.</span></span> <span data-ttu-id="aebe9-179">A redundância de dados pode ser mantida porque os Serviços de Mídia não desconectam as URLs primária e secundária ao mesmo tempo.</span><span class="sxs-lookup"><span data-stu-id="aebe9-179">Data redundancy can be maintained because Media Services does not disconnect primary and secondary URLs at the same time.</span></span> <span data-ttu-id="aebe9-180">Este cenário pressupõe que os codificadores são sincronizados e fornecem exatamente os mesmos dados.</span><span class="sxs-lookup"><span data-stu-id="aebe9-180">This scenario assumes that encoders are time synced and provide exactly the same data.</span></span>  

- <span data-ttu-id="aebe9-181">Múltiplos codificadores enviando duplamente por push as URLs primária e secundária:</span><span class="sxs-lookup"><span data-stu-id="aebe9-181">Multiple encoders double-pushing to both primary and secondary URLs:</span></span>

    <span data-ttu-id="aebe9-182">Neste cenário, os codificadores enviam dados para as URLs primária e secundária.</span><span class="sxs-lookup"><span data-stu-id="aebe9-182">In this scenario, both encoders push data to both primary and secondary URLs.</span></span> <span data-ttu-id="aebe9-183">Isso oferece maior confiabilidade e tolerância a falhas, bem como redundância de dados.</span><span class="sxs-lookup"><span data-stu-id="aebe9-183">This provides the best reliability and fault tolerance, as well as data redundancy.</span></span> <span data-ttu-id="aebe9-184">Este cenário pode tolerar falhas do codificador e desconexões, mesmo se um codificador para de funcionar.</span><span class="sxs-lookup"><span data-stu-id="aebe9-184">This scenario can tolerate both encoder failures and disconnects, even if one encoder stops working.</span></span> <span data-ttu-id="aebe9-185">Ele pressupõe que os codificadores são sincronizados e fornecem exatamente os mesmos dados.</span><span class="sxs-lookup"><span data-stu-id="aebe9-185">It assumes that encoders are time synced and provide exactly the same data.</span></span>  

<span data-ttu-id="aebe9-186">Para obter informações sobre codificadores ao vivo de RTMP, consulte [Suporte a RTMP dos Serviços de Mídia do Azure e codificadores ao vivo](http://go.microsoft.com/fwlink/?LinkId=532824).</span><span class="sxs-lookup"><span data-stu-id="aebe9-186">For information about RTMP live encoders, see [Azure Media Services RTMP Support and Live Encoders](http://go.microsoft.com/fwlink/?LinkId=532824).</span></span>

#### <a name="ingest-urls-endpoints"></a><span data-ttu-id="aebe9-187">URLs de ingestão (pontos de extremidade)</span><span class="sxs-lookup"><span data-stu-id="aebe9-187">Ingest URLs (endpoints)</span></span>
<span data-ttu-id="aebe9-188">Um canal fornece um ponto de extremidade de entrada (URL de ingestão) que você especifica no codificador ao vivo, assim, o codificador pode enviar fluxos a seus canais.</span><span class="sxs-lookup"><span data-stu-id="aebe9-188">A channel provides an input endpoint (ingest URL) that you specify in the live encoder, so the encoder can push streams to your channels.</span></span>   

<span data-ttu-id="aebe9-189">Você pode obter as URLs de ingestão ao criar o canal.</span><span class="sxs-lookup"><span data-stu-id="aebe9-189">You can get the ingest URLs when you create the channel.</span></span> <span data-ttu-id="aebe9-190">Para obter essas URLs, o canal não precisa estar no estado **Executando**.</span><span class="sxs-lookup"><span data-stu-id="aebe9-190">For you to get these URLs, the channel does not have to be in the **Running** state.</span></span> <span data-ttu-id="aebe9-191">Quando você estiver pronto para começar a enviar dados por push para o canal, ele deve estar no estado **Executando** .</span><span class="sxs-lookup"><span data-stu-id="aebe9-191">When you're ready to start pushing data to the channel, the channel must be in the **Running** state.</span></span> <span data-ttu-id="aebe9-192">Após o canal iniciar a ingestão de dados, você poderá visualizar o fluxo por meio da URL de visualização.</span><span class="sxs-lookup"><span data-stu-id="aebe9-192">After the channel starts ingesting data, you can preview your stream through the preview URL.</span></span>

<span data-ttu-id="aebe9-193">Você tem a opção de ingerir uma transmissão ao vivo de MP4 fragmentado (Smooth Streaming) em uma conexão SSL.</span><span class="sxs-lookup"><span data-stu-id="aebe9-193">You have an option of ingesting a fragmented MP4 (Smooth Streaming) live stream over an SSL connection.</span></span> <span data-ttu-id="aebe9-194">Para inserir por SSL, certifique-se de atualizar a URL de inserção para HTTPS.</span><span class="sxs-lookup"><span data-stu-id="aebe9-194">To ingest over SSL, make sure to update the ingest URL to HTTPS.</span></span> <span data-ttu-id="aebe9-195">No momento, você não pode ingerir RTMP sobre SSL.</span><span class="sxs-lookup"><span data-stu-id="aebe9-195">Currently, you cannot ingest RTMP over SSL.</span></span>

#### <span data-ttu-id="aebe9-196"><a id="keyframe_interval"></a>Intervalo de quadro-chave</span><span class="sxs-lookup"><span data-stu-id="aebe9-196"><a id="keyframe_interval"></a>Keyframe interval</span></span>
<span data-ttu-id="aebe9-197">Quando você usa um codificador ativo local para gerar um fluxo com múltiplas taxas de bits, o intervalo de quadro-chave especifica a duração de GOP (grupo de imagens), conforme usado pelo codificador externo.</span><span class="sxs-lookup"><span data-stu-id="aebe9-197">When you're using an on-premises live encoder to generate multi-bitrate stream, the keyframe interval specifies the duration of the group of pictures (GOP) as used by that external encoder.</span></span> <span data-ttu-id="aebe9-198">Após o canal receber esse fluxo de entrada, você poderá entregar sua transmissão ao vivo aos aplicativos de reprodução de cliente em qualquer um dos seguintes formatos: Smooth Streaming, Dynamic Adaptive Streaming sobre HTTP (DASH) e HTTP Live Streaming (HLS).</span><span class="sxs-lookup"><span data-stu-id="aebe9-198">After the channel receives this incoming stream, you can deliver your live stream to client playback applications in any of the following formats: Smooth Streaming, Dynamic Adaptive Streaming over HTTP (DASH), and HTTP Live Streaming (HLS).</span></span> <span data-ttu-id="aebe9-199">Ao fazer streaming ao vivo, o HLS é sempre empacotado dinamicamente.</span><span class="sxs-lookup"><span data-stu-id="aebe9-199">When you're doing live streaming, HLS is always packaged dynamically.</span></span> <span data-ttu-id="aebe9-200">Por padrão, os Serviços de Mídia calculam automaticamente a taxa de empacotamento de segmento HLS (fragmentos por segmento) com base no intervalo de quadros-chave que é recebido do codificador ativo.</span><span class="sxs-lookup"><span data-stu-id="aebe9-200">By default, Media Services automatically calculates the HLS segment packaging ratio (fragments per segment) based on the keyframe interval that's received from the live encoder.</span></span>

<span data-ttu-id="aebe9-201">A tabela a seguir mostra como a duração do segmento é calculada:</span><span class="sxs-lookup"><span data-stu-id="aebe9-201">The following table shows how the segment duration is calculated:</span></span>

| <span data-ttu-id="aebe9-202">Intervalo de quadro-chave</span><span class="sxs-lookup"><span data-stu-id="aebe9-202">Keyframe interval</span></span> | <span data-ttu-id="aebe9-203">Taxa de empacotamento de segmento HLS (FragmentsPerSegment)</span><span class="sxs-lookup"><span data-stu-id="aebe9-203">HLS segment packaging ratio (FragmentsPerSegment)</span></span> | <span data-ttu-id="aebe9-204">Exemplo</span><span class="sxs-lookup"><span data-stu-id="aebe9-204">Example</span></span> |
| --- | --- | --- |
| <span data-ttu-id="aebe9-205">Menor ou igual a três segundos</span><span class="sxs-lookup"><span data-stu-id="aebe9-205">Less than or equal to 3 seconds</span></span> |<span data-ttu-id="aebe9-206">3:1</span><span class="sxs-lookup"><span data-stu-id="aebe9-206">3:1</span></span> |<span data-ttu-id="aebe9-207">Se KeyFrameInterval (ou GOP) for de dois segundos, a proporção de empacotamento de segmento HLS padrão será de três para um.</span><span class="sxs-lookup"><span data-stu-id="aebe9-207">If KeyFrameInterval (or GOP) is 2 seconds, the default HLS segment packaging ratio is 3 to 1.</span></span> <span data-ttu-id="aebe9-208">Isso cria um segmento HLS de seis segundos.</span><span class="sxs-lookup"><span data-stu-id="aebe9-208">This creates a 6-second HLS segment.</span></span> |
| <span data-ttu-id="aebe9-209">3 a 5 segundos</span><span class="sxs-lookup"><span data-stu-id="aebe9-209">3 to 5 seconds</span></span> |<span data-ttu-id="aebe9-210">2:1</span><span class="sxs-lookup"><span data-stu-id="aebe9-210">2:1</span></span> |<span data-ttu-id="aebe9-211">Se KeyFrameInterval (ou GOP) for de quatro segundos, a proporção de empacotamento de segmento HLS padrão será de dois para um.</span><span class="sxs-lookup"><span data-stu-id="aebe9-211">If KeyFrameInterval (or GOP) is 4 seconds, the default HLS segment packaging ratio is 2 to 1.</span></span> <span data-ttu-id="aebe9-212">Isso cria um segmento HLS de oito segundos.</span><span class="sxs-lookup"><span data-stu-id="aebe9-212">This creates an 8-second HLS segment.</span></span> |
| <span data-ttu-id="aebe9-213">Maior do que cinco segundos</span><span class="sxs-lookup"><span data-stu-id="aebe9-213">Greater than 5 seconds</span></span> |<span data-ttu-id="aebe9-214">1:1</span><span class="sxs-lookup"><span data-stu-id="aebe9-214">1:1</span></span> |<span data-ttu-id="aebe9-215">Se KeyFrameInterval (ou GOP) for de seis segundos, a proporção de empacotamento de segmento HLS padrão será de um para um.</span><span class="sxs-lookup"><span data-stu-id="aebe9-215">If KeyFrameInterval (or GOP) is 6 seconds, the default HLS segment packaging ratio is 1 to 1.</span></span> <span data-ttu-id="aebe9-216">Isso cria um segmento HLS de seis segundos.</span><span class="sxs-lookup"><span data-stu-id="aebe9-216">This creates a 6-second HLS segment.</span></span> |

<span data-ttu-id="aebe9-217">Você pode alterar a proporção de fragmentos por segmento configurando a saída do canal e definindo FragmentsPerSegment em ChannelOutputHls.</span><span class="sxs-lookup"><span data-stu-id="aebe9-217">You can change the fragments-per-segment ratio by configuring the channel’s output and setting FragmentsPerSegment on ChannelOutputHls.</span></span>

<span data-ttu-id="aebe9-218">Você também pode alterar o valor do intervalo de quadro-chave definindo a propriedade KeyFrameInterval em ChanneInput.</span><span class="sxs-lookup"><span data-stu-id="aebe9-218">You can also change the keyframe interval value by setting the KeyFrameInterval property on ChanneInput.</span></span> <span data-ttu-id="aebe9-219">Se você definir explicitamente o KeyFrameInterval, o FragmentsPerSegment da proporção de empacotamento do segmento HLS será calculado usando as regras descritas anteriormente.</span><span class="sxs-lookup"><span data-stu-id="aebe9-219">If you explicitly set KeyFrameInterval, the HLS segment packaging ratio FragmentsPerSegment is calculated via the rules described previously.</span></span>  

<span data-ttu-id="aebe9-220">Se você definir explicitamente KeyFrameInterval e FragmentsPerSegment, os Serviços de Mídia usarão os valores definidos por você.</span><span class="sxs-lookup"><span data-stu-id="aebe9-220">If you explicitly set both KeyFrameInterval and FragmentsPerSegment, Media Services will use the values that you set.</span></span>

#### <a name="allowed-ip-addresses"></a><span data-ttu-id="aebe9-221">Endereços IP permitidos</span><span class="sxs-lookup"><span data-stu-id="aebe9-221">Allowed IP addresses</span></span>
<span data-ttu-id="aebe9-222">Você pode definir os endereços IP que têm permissão para publicar vídeo para esse canal.</span><span class="sxs-lookup"><span data-stu-id="aebe9-222">You can define the IP addresses that are allowed to publish video to this channel.</span></span> <span data-ttu-id="aebe9-223">Um endereço IP permitido pode ser especificado como um dos seguintes:</span><span class="sxs-lookup"><span data-stu-id="aebe9-223">An allowed IP address can be specified as one of the following:</span></span>

* <span data-ttu-id="aebe9-224">Um único endereço IP (por exemplo, 10.0.0.1)</span><span class="sxs-lookup"><span data-stu-id="aebe9-224">A single IP address (for example, 10.0.0.1)</span></span>
* <span data-ttu-id="aebe9-225">Um intervalo de IPs que usa um endereço IP e uma máscara de sub-rede CIDR (por exemplo, 10.0.0.1/22)</span><span class="sxs-lookup"><span data-stu-id="aebe9-225">An IP range that uses an IP address and a CIDR subnet mask (for example, 10.0.0.1/22)</span></span>
* <span data-ttu-id="aebe9-226">Um intervalo de IPs que usa um endereço IP e uma máscara de sub-rede de valor decimal (por exemplo, 10.0.0.1(255.255.252.0))</span><span class="sxs-lookup"><span data-stu-id="aebe9-226">An IP range that uses an IP address and a dotted decimal subnet mask (for example, 10.0.0.1(255.255.252.0))</span></span>

<span data-ttu-id="aebe9-227">Se nenhum endereço IP for especificado e não houver definição de regra, nenhum endereço IP será permitido.</span><span class="sxs-lookup"><span data-stu-id="aebe9-227">If no IP addresses are specified and there's no rule definition, then no IP address will be allowed.</span></span> <span data-ttu-id="aebe9-228">Para permitir qualquer endereço IP, crie uma regra e defina 0.0.0.0/0.</span><span class="sxs-lookup"><span data-stu-id="aebe9-228">To allow any IP address, create a rule and set 0.0.0.0/0.</span></span>

### <a name="channel-preview"></a><span data-ttu-id="aebe9-229">Visualização de canal</span><span class="sxs-lookup"><span data-stu-id="aebe9-229">Channel preview</span></span>
#### <a name="preview-urls"></a><span data-ttu-id="aebe9-230">URLs de visualização</span><span class="sxs-lookup"><span data-stu-id="aebe9-230">Preview URLs</span></span>
<span data-ttu-id="aebe9-231">Os canais fornecem um ponto de extremidade de visualização (URL de visualização) que você usa para visualizar e validar seu fluxo antes do processamento e da entrega.</span><span class="sxs-lookup"><span data-stu-id="aebe9-231">Channels provide a preview endpoint (preview URL) that you use to preview and validate your stream before further processing and delivery.</span></span>

<span data-ttu-id="aebe9-232">Você pode obter a URL de visualização quando você cria o canal.</span><span class="sxs-lookup"><span data-stu-id="aebe9-232">You can get the preview URL when you create the channel.</span></span> <span data-ttu-id="aebe9-233">Para obter a URL, o canal não precisa estar no estado **Executando** .</span><span class="sxs-lookup"><span data-stu-id="aebe9-233">For you to get the URL, the channel does not have to be in the **Running** state.</span></span> <span data-ttu-id="aebe9-234">Depois que o canal inicia a ingestão de dados, você pode visualizar o fluxo.</span><span class="sxs-lookup"><span data-stu-id="aebe9-234">After the channel starts ingesting data, you can preview your stream.</span></span>

<span data-ttu-id="aebe9-235">Atualmente, o fluxo de visualização só pode ser entregue em formato MP4 fragmentado (Smooth Streaming), independentemente do tipo de entrada especificado.</span><span class="sxs-lookup"><span data-stu-id="aebe9-235">Currently, the preview stream can be delivered only in fragmented MP4 (Smooth Streaming) format, regardless of the specified input type.</span></span> <span data-ttu-id="aebe9-236">Use o player [Smooth Streaming Health Monitor](http://smf.cloudapp.net/healthmonitor) para testar o streaming suave.</span><span class="sxs-lookup"><span data-stu-id="aebe9-236">You can use the [Smooth Streaming Health Monitor](http://smf.cloudapp.net/healthmonitor) player to test the smooth stream.</span></span> <span data-ttu-id="aebe9-237">Você também pode usar um player hospedado no Portal do Azure para exibir a transmissão.</span><span class="sxs-lookup"><span data-stu-id="aebe9-237">You can also use a player that's hosted in the Azure portal to view your stream.</span></span>

#### <a name="allowed-ip-addresses"></a><span data-ttu-id="aebe9-238">Endereços IP permitidos</span><span class="sxs-lookup"><span data-stu-id="aebe9-238">Allowed IP addresses</span></span>
<span data-ttu-id="aebe9-239">Você pode definir os endereços IP que têm permissão para conectar-se ao ponto de extremidade de visualização.</span><span class="sxs-lookup"><span data-stu-id="aebe9-239">You can define the IP addresses that are allowed to connect to the preview endpoint.</span></span> <span data-ttu-id="aebe9-240">Se nenhum endereço IP for especificado, qualquer endereço IP será permitido.</span><span class="sxs-lookup"><span data-stu-id="aebe9-240">If no IP addresses are specified, any IP address will be allowed.</span></span> <span data-ttu-id="aebe9-241">Um endereço IP permitido pode ser especificado como um dos seguintes:</span><span class="sxs-lookup"><span data-stu-id="aebe9-241">An allowed IP address can be specified as one of the following:</span></span>

* <span data-ttu-id="aebe9-242">Um único endereço IP (por exemplo, 10.0.0.1)</span><span class="sxs-lookup"><span data-stu-id="aebe9-242">A single IP address (for example, 10.0.0.1)</span></span>
* <span data-ttu-id="aebe9-243">Um intervalo de IPs que usa um endereço IP e uma máscara de sub-rede CIDR (por exemplo, 10.0.0.1/22)</span><span class="sxs-lookup"><span data-stu-id="aebe9-243">An IP range that uses an IP address and a CIDR subnet mask (for example, 10.0.0.1/22)</span></span>
* <span data-ttu-id="aebe9-244">Um intervalo de IPs que usa um endereço IP e uma máscara de sub-rede de valor decimal (por exemplo, 10.0.0.1(255.255.252.0))</span><span class="sxs-lookup"><span data-stu-id="aebe9-244">An IP range that uses an IP address and a dotted decimal subnet mask (for example, 10.0.0.1(255.255.252.0))</span></span>

### <a name="channel-output"></a><span data-ttu-id="aebe9-245">Saída do canal</span><span class="sxs-lookup"><span data-stu-id="aebe9-245">Channel output</span></span>
<span data-ttu-id="aebe9-246">Para saber mais sobre a saída do canal, consulte a seção [Intervalo de quadro-chave](#keyframe_interval).</span><span class="sxs-lookup"><span data-stu-id="aebe9-246">For information about channel output, see the [Keyframe interval](#keyframe_interval) section.</span></span>

### <a name="channel-managed-programs"></a><span data-ttu-id="aebe9-247">Programas gerenciados por canal</span><span class="sxs-lookup"><span data-stu-id="aebe9-247">Channel-managed programs</span></span>
<span data-ttu-id="aebe9-248">Um canal é associado a programas que podem ser usados para controlar a publicação e o armazenamento de segmentos em um fluxo ao vivo.</span><span class="sxs-lookup"><span data-stu-id="aebe9-248">A channel is associated with programs that you can use to control the publishing and storage of segments in a live stream.</span></span> <span data-ttu-id="aebe9-249">Canais gerenciam programas.</span><span class="sxs-lookup"><span data-stu-id="aebe9-249">Channels manage programs.</span></span> <span data-ttu-id="aebe9-250">A relação entre canal e programa é muito semelhante à mídia tradicional, onde um canal tem um fluxo constante de conteúdo e um programa tem como escopo algum evento programado naquele canal.</span><span class="sxs-lookup"><span data-stu-id="aebe9-250">The channel and program relationship is very similar to traditional media, where a channel has a constant stream of content and a program is scoped to some timed event on that channel.</span></span>

<span data-ttu-id="aebe9-251">Você pode especificar o número de horas pelo qual você deseja manter o conteúdo gravado para o programa, definindo a duração da **Janela de Arquivo** .</span><span class="sxs-lookup"><span data-stu-id="aebe9-251">You can specify the number of hours you want to retain the recorded content for the program by setting the **Archive Window** length.</span></span> <span data-ttu-id="aebe9-252">Esse valor pode ser definido entre um mínimo de 5 minutos e um máximo de 25 horas.</span><span class="sxs-lookup"><span data-stu-id="aebe9-252">This value can be set from a minimum of 5 minutes to a maximum of 25 hours.</span></span> <span data-ttu-id="aebe9-253">A duração da janela de arquivo também determina que a quantidade máxima de tempo que os clientes podem pesquisar na posição atual em tempo real.</span><span class="sxs-lookup"><span data-stu-id="aebe9-253">Archive window length also dictates the maximum amount of time clients can seek back in time from the current live position.</span></span> <span data-ttu-id="aebe9-254">Os programas podem ser executados pelo período de tempo especificado, mas o conteúdo que estiver por trás da janela de tamanho será continuamente descartado.</span><span class="sxs-lookup"><span data-stu-id="aebe9-254">Programs can run over the specified amount of time, but content that falls behind the window length is continuously discarded.</span></span> <span data-ttu-id="aebe9-255">Esse valor desta propriedade também determina por quanto tempo os manifestos do cliente podem crescer.</span><span class="sxs-lookup"><span data-stu-id="aebe9-255">This value of this property also determines how long the client manifests can grow.</span></span>

<span data-ttu-id="aebe9-256">Cada programa está associado um ativo que armazena o conteúdo transmitido.</span><span class="sxs-lookup"><span data-stu-id="aebe9-256">Each program is associated with an asset that stores the streamed content.</span></span> <span data-ttu-id="aebe9-257">Um ativo é mapeado para um contêiner de blob de blocos na conta de Armazenamento do Azure e os arquivos no ativo são armazenados como blobs nesse contêiner.</span><span class="sxs-lookup"><span data-stu-id="aebe9-257">An asset is mapped to a block blob container in the Azure storage account, and the files in the asset are stored as blobs in that container.</span></span> <span data-ttu-id="aebe9-258">Para publicar o programa para que seus clientes possam exibir o fluxo, você deve criar um localizador OnDemand para o ativo associado.</span><span class="sxs-lookup"><span data-stu-id="aebe9-258">To publish the program so your customers can view the stream, you must create an OnDemand locator for the associated asset.</span></span> <span data-ttu-id="aebe9-259">Use esse localizador para criar uma URL de transmissão que você pode fornecer aos seus clientes.</span><span class="sxs-lookup"><span data-stu-id="aebe9-259">You can use this locator to build a streaming URL that you can provide to your clients.</span></span>

<span data-ttu-id="aebe9-260">Um canal dá suporte a até três programas em execução simultânea, para que você possa criar diversos arquivos no mesmo fluxo de entrada.</span><span class="sxs-lookup"><span data-stu-id="aebe9-260">A channel supports up to three concurrently running programs, so you can create multiple archives of the same incoming stream.</span></span> <span data-ttu-id="aebe9-261">Publique e arquive diferentes partes de um evento, conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="aebe9-261">You can publish and archive different parts of an event as needed.</span></span> <span data-ttu-id="aebe9-262">Por exemplo, imagine que o requisito se sua empresa seja arquivar seis horas de um programa, mas transmitir apenas os últimos 10 minutos.</span><span class="sxs-lookup"><span data-stu-id="aebe9-262">For example, imagine that your business requirement is to archive 6 hours of a program, but to broadcast only the last 10 minutes.</span></span> <span data-ttu-id="aebe9-263">Para fazer isso, você precisa criar dois programas em execução simultânea.</span><span class="sxs-lookup"><span data-stu-id="aebe9-263">To accomplish this, you need to create two concurrently running programs.</span></span> <span data-ttu-id="aebe9-264">Um programa é definido para arquivar seis horas do evento, mas o programa não é publicado.</span><span class="sxs-lookup"><span data-stu-id="aebe9-264">One program is set to archive 6 hours of the event, but the program is not published.</span></span> <span data-ttu-id="aebe9-265">Outro programa é definido para 10 minutos e esse programa é publicado.</span><span class="sxs-lookup"><span data-stu-id="aebe9-265">The other program is set to archive for 10 minutes, and this program is published.</span></span>

<span data-ttu-id="aebe9-266">Você não deve reutilizar os programas existentes para novos eventos.</span><span class="sxs-lookup"><span data-stu-id="aebe9-266">You should not reuse existing programs for new events.</span></span> <span data-ttu-id="aebe9-267">Em vez disso, crie um novo programa para cada evento.</span><span class="sxs-lookup"><span data-stu-id="aebe9-267">Instead, create a new program for each event.</span></span> <span data-ttu-id="aebe9-268">Inicie o programa quando estiver pronto para iniciar o streaming e o arquivamento.</span><span class="sxs-lookup"><span data-stu-id="aebe9-268">Start the program when you're ready to start streaming and archiving.</span></span> <span data-ttu-id="aebe9-269">Interrompa o programa sempre que você deseja parar o streaming e o arquivamento do evento.</span><span class="sxs-lookup"><span data-stu-id="aebe9-269">Stop the program whenever you want to stop streaming and archiving the event.</span></span>

<span data-ttu-id="aebe9-270">Para excluir o conteúdo arquivado, interrompa e exclua o programa e, em seguida, exclua o ativo associado.</span><span class="sxs-lookup"><span data-stu-id="aebe9-270">To delete archived content, stop and delete the program, and then delete the associated asset.</span></span> <span data-ttu-id="aebe9-271">Um ativo não pode ser excluído se um programa o utilizar.</span><span class="sxs-lookup"><span data-stu-id="aebe9-271">An asset cannot be deleted if a program uses it.</span></span> <span data-ttu-id="aebe9-272">O programa deve ser excluído primeiro.</span><span class="sxs-lookup"><span data-stu-id="aebe9-272">The program must be deleted first.</span></span>

<span data-ttu-id="aebe9-273">Mesmo após a interrupção e exclusão do programa, os usuários poderão transmitir seu conteúdo arquivado como vídeo sob demanda até você excluir o ativo.</span><span class="sxs-lookup"><span data-stu-id="aebe9-273">Even after you stop and delete the program, users can stream your archived content as a video on demand, until you delete the asset.</span></span> <span data-ttu-id="aebe9-274">Se você quiser manter o conteúdo arquivado mas ele não está disponível para streaming, exclua o localizador de streaming.</span><span class="sxs-lookup"><span data-stu-id="aebe9-274">If you want to retain the archived content but not have it available for streaming, delete the streaming locator.</span></span>

## <span data-ttu-id="aebe9-275"><a id="states"></a>Estados de canal e cobrança</span><span class="sxs-lookup"><span data-stu-id="aebe9-275"><a id="states"></a>Channel states and billing</span></span>
<span data-ttu-id="aebe9-276">Os valores possíveis para o estado atual de um canal incluem:</span><span class="sxs-lookup"><span data-stu-id="aebe9-276">Possible values for the current state of a channel include:</span></span>

* <span data-ttu-id="aebe9-277">**Parado**: este é o estado inicial do canal após sua criação.</span><span class="sxs-lookup"><span data-stu-id="aebe9-277">**Stopped**: This is the initial state of the channel after its creation.</span></span> <span data-ttu-id="aebe9-278">Nesse estado, as propriedades do canal podem ser atualizadas, mas streaming não é permitido.</span><span class="sxs-lookup"><span data-stu-id="aebe9-278">In this state, the channel properties can be updated but streaming is not allowed.</span></span>
* <span data-ttu-id="aebe9-279">**Iniciando**: o canal está sendo iniciado.</span><span class="sxs-lookup"><span data-stu-id="aebe9-279">**Starting**: The channel is being started.</span></span> <span data-ttu-id="aebe9-280">Nenhuma atualização ou streaming é permitido durante esse estado.</span><span class="sxs-lookup"><span data-stu-id="aebe9-280">No updates or streaming is allowed during this state.</span></span> <span data-ttu-id="aebe9-281">Se ocorrer um erro, o canal retornará ao estado **Parado**.</span><span class="sxs-lookup"><span data-stu-id="aebe9-281">If an error occurs, the channel returns to the **Stopped** state.</span></span>
* <span data-ttu-id="aebe9-282">**Executando**: o canal pode processar fluxos ao vivo.</span><span class="sxs-lookup"><span data-stu-id="aebe9-282">**Running**: The channel can process live streams.</span></span>
* <span data-ttu-id="aebe9-283">**Parando**: o canal está sendo interrompido.</span><span class="sxs-lookup"><span data-stu-id="aebe9-283">**Stopping**: The channel is being stopped.</span></span> <span data-ttu-id="aebe9-284">Nenhuma atualização ou streaming é permitido durante esse estado.</span><span class="sxs-lookup"><span data-stu-id="aebe9-284">No updates or streaming is allowed during this state.</span></span>
* <span data-ttu-id="aebe9-285">**Excluindo**: o canal está sendo excluído.</span><span class="sxs-lookup"><span data-stu-id="aebe9-285">**Deleting**: The channel is being deleted.</span></span> <span data-ttu-id="aebe9-286">Nenhuma atualização ou streaming é permitido durante esse estado.</span><span class="sxs-lookup"><span data-stu-id="aebe9-286">No updates or streaming is allowed during this state.</span></span>

<span data-ttu-id="aebe9-287">A tabela a seguir mostra como os estados de canal são mapeados para o modo de cobrança.</span><span class="sxs-lookup"><span data-stu-id="aebe9-287">The following table shows how channel states map to the billing mode.</span></span>

| <span data-ttu-id="aebe9-288">Estado de canal</span><span class="sxs-lookup"><span data-stu-id="aebe9-288">Channel state</span></span> | <span data-ttu-id="aebe9-289">Indicadores de interface do usuário do portal</span><span class="sxs-lookup"><span data-stu-id="aebe9-289">Portal UI indicators</span></span> | <span data-ttu-id="aebe9-290">Cobrado?</span><span class="sxs-lookup"><span data-stu-id="aebe9-290">Billed?</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="aebe9-291">**Iniciando**</span><span class="sxs-lookup"><span data-stu-id="aebe9-291">**Starting**</span></span> |<span data-ttu-id="aebe9-292">**Iniciando**</span><span class="sxs-lookup"><span data-stu-id="aebe9-292">**Starting**</span></span> |<span data-ttu-id="aebe9-293">Nenhum (estado transitório)</span><span class="sxs-lookup"><span data-stu-id="aebe9-293">No (transient state)</span></span> |
| <span data-ttu-id="aebe9-294">**Executando**</span><span class="sxs-lookup"><span data-stu-id="aebe9-294">**Running**</span></span> |<span data-ttu-id="aebe9-295">**Pronto** (nenhum programa em execução)</span><span class="sxs-lookup"><span data-stu-id="aebe9-295">**Ready** (no running programs)</span></span><p><p><span data-ttu-id="aebe9-296">ou o</span><span class="sxs-lookup"><span data-stu-id="aebe9-296">or</span></span><p><span data-ttu-id="aebe9-297">**Streaming** (há pelo menos um programa em execução)</span><span class="sxs-lookup"><span data-stu-id="aebe9-297">**Streaming** (at least one running program)</span></span> |<span data-ttu-id="aebe9-298">Sim</span><span class="sxs-lookup"><span data-stu-id="aebe9-298">Yes</span></span> |
| <span data-ttu-id="aebe9-299">**Parando**</span><span class="sxs-lookup"><span data-stu-id="aebe9-299">**Stopping**</span></span> |<span data-ttu-id="aebe9-300">**Parando**</span><span class="sxs-lookup"><span data-stu-id="aebe9-300">**Stopping**</span></span> |<span data-ttu-id="aebe9-301">Nenhum (estado transitório)</span><span class="sxs-lookup"><span data-stu-id="aebe9-301">No (transient state)</span></span> |
| <span data-ttu-id="aebe9-302">**Interrompido**</span><span class="sxs-lookup"><span data-stu-id="aebe9-302">**Stopped**</span></span> |<span data-ttu-id="aebe9-303">**Interrompido**</span><span class="sxs-lookup"><span data-stu-id="aebe9-303">**Stopped**</span></span> |<span data-ttu-id="aebe9-304">Não</span><span class="sxs-lookup"><span data-stu-id="aebe9-304">No</span></span> |

## <span data-ttu-id="aebe9-305"><a id="cc_and_ads"></a>Legendagem oculta e inserção de anúncios</span><span class="sxs-lookup"><span data-stu-id="aebe9-305"><a id="cc_and_ads"></a>Closed captioning and ad insertion</span></span>
<span data-ttu-id="aebe9-306">A tabela a seguir demonstra os padrões com suporte de legendagem oculta e inserção de anúncios.</span><span class="sxs-lookup"><span data-stu-id="aebe9-306">The following table demonstrates supported standards for closed captioning and ad insertion.</span></span>

| <span data-ttu-id="aebe9-307">Standard</span><span class="sxs-lookup"><span data-stu-id="aebe9-307">Standard</span></span> | <span data-ttu-id="aebe9-308">Observações</span><span class="sxs-lookup"><span data-stu-id="aebe9-308">Notes</span></span> |
| --- | --- |
| <span data-ttu-id="aebe9-309">CEA-708 e EIA-608 (708/608)</span><span class="sxs-lookup"><span data-stu-id="aebe9-309">CEA-708 and EIA-608 (708/608)</span></span> |<span data-ttu-id="aebe9-310">CEA-708 e EIA-608 são padrões de legendagem oculta para os Estados Unidos e o Canadá.</span><span class="sxs-lookup"><span data-stu-id="aebe9-310">CEA-708 and EIA-608 are closed-captioning standards for the United States and Canada.</span></span><p><p><span data-ttu-id="aebe9-311">Atualmente, as legendas têm suporte somente se incluídas no fluxo de entrada codificado.</span><span class="sxs-lookup"><span data-stu-id="aebe9-311">Currently, captioning is supported only if carried in the encoded input stream.</span></span> <span data-ttu-id="aebe9-312">Você precisa usar um codificador de mídia ativo que possa inserir legendas 608 ou 708 no fluxo codificado que é enviado aos Serviços de Mídia.</span><span class="sxs-lookup"><span data-stu-id="aebe9-312">You need to use a live media encoder that can insert 608 or 708 captions in the encoded stream that's sent to Media Services.</span></span> <span data-ttu-id="aebe9-313">Os Serviços de Mídia entregam o conteúdo com legendas inseridas a seus usuários.</span><span class="sxs-lookup"><span data-stu-id="aebe9-313">Media Services delivers the content with inserted captions to your viewers.</span></span> |
| <span data-ttu-id="aebe9-314">TTML em ismt (faixas de texto de Smooth Streaming)</span><span class="sxs-lookup"><span data-stu-id="aebe9-314">TTML inside .ismt (Smooth Streaming text tracks)</span></span> |<span data-ttu-id="aebe9-315">O empacotamento dinâmico dos Serviços de Mídia habilita os clientes a transmitir conteúdo em qualquer um dos seguintes formatos: DASH, HLS ou Smooth Streaming.</span><span class="sxs-lookup"><span data-stu-id="aebe9-315">Media Services dynamic packaging enables your clients to stream content in any of the following formats: DASH, HLS, or Smooth Streaming.</span></span> <span data-ttu-id="aebe9-316">No entanto, se ingerir MP4 fragmentado (Smooth Streaming) com legendas em .ismt (faixas de texto de Smooth Streaming), você pode entregar o fluxo apenas a clientes de Smooth Streaming.</span><span class="sxs-lookup"><span data-stu-id="aebe9-316">However, if you ingest fragmented MP4 (Smooth Streaming) with captions inside .ismt (Smooth Streaming text tracks), you can deliver the stream to only Smooth Streaming clients.</span></span> |
| <span data-ttu-id="aebe9-317">SCTE-35</span><span class="sxs-lookup"><span data-stu-id="aebe9-317">SCTE-35</span></span> |<span data-ttu-id="aebe9-318">SCTE-35 é um sistema de sinalização digital usado para a inserção de anúncios de indicação.</span><span class="sxs-lookup"><span data-stu-id="aebe9-318">SCTE-35 is a digital signaling system that's used to cue advertising insertion.</span></span> <span data-ttu-id="aebe9-319">Receptores de downstream usam o sinal para unir a publicidade ao fluxo pelo tempo alocado.</span><span class="sxs-lookup"><span data-stu-id="aebe9-319">Downstream receivers use the signal to splice advertising into the stream for the allotted time.</span></span> <span data-ttu-id="aebe9-320">SCTE-35 deve ser enviado como uma faixa esparsa no fluxo de entrada.</span><span class="sxs-lookup"><span data-stu-id="aebe9-320">SCTE-35 must be sent as a sparse track in the input stream.</span></span><p><p><span data-ttu-id="aebe9-321">No momento, o único formato de fluxo de entrada com suporte que transporta sinais de anúncios é o MP4 fragmentado (Smooth Streaming).</span><span class="sxs-lookup"><span data-stu-id="aebe9-321">Currently, the only supported input stream format that carries ad signals is fragmented MP4 (Smooth Streaming).</span></span> <span data-ttu-id="aebe9-322">O único formato de saída com suporte também é Smooth Streaming.</span><span class="sxs-lookup"><span data-stu-id="aebe9-322">The only supported output format is also Smooth Streaming.</span></span> |

## <span data-ttu-id="aebe9-323"><a id="considerations"></a>Considerações</span><span class="sxs-lookup"><span data-stu-id="aebe9-323"><a id="considerations"></a>Considerations</span></span>
<span data-ttu-id="aebe9-324">Ao se usar um codificador ao vivo local para enviar um fluxo com múltiplas taxas de bits a um canal, as seguintes restrições são aplicáveis:</span><span class="sxs-lookup"><span data-stu-id="aebe9-324">When you're using an on-premises live encoder to send a multi-bitrate stream to a channel, the following constraints apply:</span></span>

* <span data-ttu-id="aebe9-325">Verifique se que você tem conectividade com a Internet livre suficiente para enviar dados aos pontos de ingestão.</span><span class="sxs-lookup"><span data-stu-id="aebe9-325">Make sure you have sufficient free Internet connectivity to send data to the ingest points.</span></span>
* <span data-ttu-id="aebe9-326">O uso de uma URL de ingestão secundária requer largura de banda adicional.</span><span class="sxs-lookup"><span data-stu-id="aebe9-326">Using a secondary ingest URL requires additional bandwidth.</span></span>
* <span data-ttu-id="aebe9-327">O fluxo com múltiplas taxas de bits de entrada pode ter no máximo 10 níveis de qualidade de vídeo (camadas) e no máximo cinco faixas de áudio.</span><span class="sxs-lookup"><span data-stu-id="aebe9-327">The incoming multi-bitrate stream can have a maximum of 10 video quality levels (layers) and a maximum of 5 audio tracks.</span></span>
* <span data-ttu-id="aebe9-328">A taxa de bits média mais alta para qualquer um dos níveis de qualidade de vídeo deve estar abaixo de 10 Mbps.</span><span class="sxs-lookup"><span data-stu-id="aebe9-328">The highest average bitrate for any of the video quality levels should be below 10 Mbps.</span></span>
* <span data-ttu-id="aebe9-329">A agregação das taxas de bits médias para todos os fluxos de vídeo e áudio deve estar abaixo de 25 Mbps.</span><span class="sxs-lookup"><span data-stu-id="aebe9-329">The aggregate of the average bitrates for all the video and audio streams should be below 25 Mbps.</span></span>
* <span data-ttu-id="aebe9-330">Você não pode alterar o protocolo de entrada enquanto o canal ou seus programas associados estão em execução.</span><span class="sxs-lookup"><span data-stu-id="aebe9-330">You cannot change the input protocol while the channel or its associated programs are running.</span></span> <span data-ttu-id="aebe9-331">Se você precisar de protocolos diferentes, você deve criar canais separados para cada protocolo de entrada.</span><span class="sxs-lookup"><span data-stu-id="aebe9-331">If you require different protocols, you should create separate channels for each input protocol.</span></span>
* <span data-ttu-id="aebe9-332">Você pode ingerir uma taxa de bits única em seu canal.</span><span class="sxs-lookup"><span data-stu-id="aebe9-332">You can ingest a single bitrate in your channel.</span></span> <span data-ttu-id="aebe9-333">Porém, como o canal não processa o fluxo, os aplicativos cliente também receberão um fluxo de taxa de bits única.</span><span class="sxs-lookup"><span data-stu-id="aebe9-333">But because the channel does not process the stream, the client applications will also receive a single bitrate stream.</span></span> <span data-ttu-id="aebe9-334">(Não recomendamos essa opção.)</span><span class="sxs-lookup"><span data-stu-id="aebe9-334">(We don't recommend this option.)</span></span>

<span data-ttu-id="aebe9-335">Confira outras considerações relacionadas ao trabalho com canais e componentes relacionados:</span><span class="sxs-lookup"><span data-stu-id="aebe9-335">Here are other considerations related to working with channels and related components:</span></span>

* <span data-ttu-id="aebe9-336">Sempre que você reconfigurar o codificador ao vivo, chame o método **Redefinir** no canal.</span><span class="sxs-lookup"><span data-stu-id="aebe9-336">Every time you reconfigure the live encoder, call the **Reset** method on the channel.</span></span> <span data-ttu-id="aebe9-337">Antes de redefinir o canal, você precisa interromper o programa.</span><span class="sxs-lookup"><span data-stu-id="aebe9-337">Before you reset the channel, you have to stop the program.</span></span> <span data-ttu-id="aebe9-338">Antes de redefinir o canal, reinicie o programa.</span><span class="sxs-lookup"><span data-stu-id="aebe9-338">After you reset the channel, restart the program.</span></span>
* <span data-ttu-id="aebe9-339">Um canal pode ser interrompido somente quando estiver no estado **Executando** e todos os programas no canal tiverem sido interrompidos.</span><span class="sxs-lookup"><span data-stu-id="aebe9-339">A channel can be stopped only when it's in the **Running** state and all programs on the channel have been stopped.</span></span>
* <span data-ttu-id="aebe9-340">Por padrão, você pode adicionar apenas cinco canais à sua conta dos Serviços de Mídia.</span><span class="sxs-lookup"><span data-stu-id="aebe9-340">By default, you can add only 5 channels to your Media Services account.</span></span> <span data-ttu-id="aebe9-341">Para saber mais, consulte [Cotas e limitações](media-services-quotas-and-limitations.md).</span><span class="sxs-lookup"><span data-stu-id="aebe9-341">For more information, see [Quotas and limitations](media-services-quotas-and-limitations.md).</span></span>
* <span data-ttu-id="aebe9-342">Você será cobrado apenas quando o canal estiver no estado **Executando**.</span><span class="sxs-lookup"><span data-stu-id="aebe9-342">You are billed only when your channel is in the **Running** state.</span></span> <span data-ttu-id="aebe9-343">Para saber mais, consulte a seção [Estados do canal e cobrança](media-services-live-streaming-with-onprem-encoders.md#states).</span><span class="sxs-lookup"><span data-stu-id="aebe9-343">For more information, refer to the [Channel states and billing](media-services-live-streaming-with-onprem-encoders.md#states) section.</span></span>

## <a name="media-services-learning-paths"></a><span data-ttu-id="aebe9-344">Roteiros de aprendizagem dos Serviços de Mídia</span><span class="sxs-lookup"><span data-stu-id="aebe9-344">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="feedback"></a><span data-ttu-id="aebe9-345">Comentários</span><span class="sxs-lookup"><span data-stu-id="aebe9-345">Feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]

## <a name="related-topics"></a><span data-ttu-id="aebe9-346">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="aebe9-346">Related topics</span></span>
[<span data-ttu-id="aebe9-347">Especificação de ingestão dinâmica de MP4 fragmentado dos Serviços de Mídia do Azure</span><span class="sxs-lookup"><span data-stu-id="aebe9-347">Azure Media Services fragmented MP4 live ingest specification</span></span>](media-services-fmp4-live-ingest-overview.md)

[<span data-ttu-id="aebe9-348">Visão geral e cenários comuns do Serviços de Mídia do Azure</span><span class="sxs-lookup"><span data-stu-id="aebe9-348">Azure Media Services overview and common scenarios</span></span>](media-services-overview.md)

[<span data-ttu-id="aebe9-349">Conceitos dos Serviços de Mídia</span><span class="sxs-lookup"><span data-stu-id="aebe9-349">Media Services concepts</span></span>](media-services-concepts.md)

[live-overview]: ./media/media-services-manage-channels-overview/media-services-live-streaming-current.png
