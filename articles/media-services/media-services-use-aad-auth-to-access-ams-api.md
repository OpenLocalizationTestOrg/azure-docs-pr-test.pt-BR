---
title: "aaaAccess API de serviços de mídia do Azure com a autenticação do Active Directory do Azure | Microsoft Docs"
description: "Saiba mais sobre conceitos e as etapas tootake toouse Azure Active Directory (AD do Azure) tooauthenticate acesso toohello API de serviços de mídia do Azure."
services: media-services
documentationcenter: 
author: Juliako
manager: cfowler
editor: 
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/17/2017
ms.author: juliako
ms.openlocfilehash: bb8f75f39100dc37098260c24ab4a199ef689d46
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="access-hello-azure-media-services-api-with-azure-ad-authentication"></a><span data-ttu-id="45bb8-103">Olá acesso API de serviços de mídia do Azure com a autenticação do AD do Azure</span><span class="sxs-lookup"><span data-stu-id="45bb8-103">Access hello Azure Media Services API with Azure AD authentication</span></span>
 
<span data-ttu-id="45bb8-104">Olá API de serviços de mídia do Azure é uma API RESTful.</span><span class="sxs-lookup"><span data-stu-id="45bb8-104">hello Azure Media Services API is a RESTful API.</span></span> <span data-ttu-id="45bb8-105">Você pode usá-lo tooperform operações nos recursos de mídia usando uma API REST ou usando SDKs de cliente disponíveis.</span><span class="sxs-lookup"><span data-stu-id="45bb8-105">You can use it tooperform operations on media resources by using a REST API or by using available client SDKs.</span></span> <span data-ttu-id="45bb8-106">Os Serviços de Mídia do Azure oferecem um SDK de cliente dos Serviços de Mídia para o Microsoft .NET.</span><span class="sxs-lookup"><span data-stu-id="45bb8-106">Azure Media Services offers a Media Services client SDK for Microsoft .NET.</span></span> <span data-ttu-id="45bb8-107">toobe autorizado tooaccess recursos de serviços de mídia e hello API de serviços de mídia, você deve primeiro ser autenticado.</span><span class="sxs-lookup"><span data-stu-id="45bb8-107">toobe authorized tooaccess Media Services resources and hello Media Services API, you must first be authenticated.</span></span> 

<span data-ttu-id="45bb8-108">Os Serviços de Mídia dão suporte à [autenticação baseada no Azure AD (Azure Active Directory)](../active-directory/active-directory-whatis.md).</span><span class="sxs-lookup"><span data-stu-id="45bb8-108">Media Services supports [Azure Active Directory (Azure AD)-based authentication](../active-directory/active-directory-whatis.md).</span></span> <span data-ttu-id="45bb8-109">Olá serviço REST de mídia do Azure requer que o usuário hello ou aplicativo que faz solicitações da API REST Olá tenham qualquer Olá **Colaborador** ou **proprietário** tooaccess função hello recursos.</span><span class="sxs-lookup"><span data-stu-id="45bb8-109">hello Azure Media REST service requires that hello user or application that makes hello REST API requests have either hello **Contributor** or **Owner** role tooaccess hello resources.</span></span> <span data-ttu-id="45bb8-110">Para obter mais informações, consulte [Introdução ao controle de acesso baseado em função no portal do Azure de saudação](../active-directory/role-based-access-control-what-is.md).</span><span class="sxs-lookup"><span data-stu-id="45bb8-110">For more information, see [Get started with Role-Based Access Control in hello Azure portal](../active-directory/role-based-access-control-what-is.md).</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="45bb8-111">Atualmente, os serviços de mídia oferece suporte a modelo de autenticação de serviço de controle de acesso do Azure hello.</span><span class="sxs-lookup"><span data-stu-id="45bb8-111">Currently, Media Services supports hello Azure Access Control service authentication model.</span></span> <span data-ttu-id="45bb8-112">No entanto, a autorização de Controle de Acesso será preterida em 1º de junho de 2018.</span><span class="sxs-lookup"><span data-stu-id="45bb8-112">However, Access Control authorization will be deprecated on June 1, 2018.</span></span> <span data-ttu-id="45bb8-113">É recomendável que você migre o modelo de autenticação toohello AD do Azure assim que possível.</span><span class="sxs-lookup"><span data-stu-id="45bb8-113">We recommend that you migrate toohello Azure AD authentication model as soon as possible.</span></span>

<span data-ttu-id="45bb8-114">Este documento fornece uma visão geral de como tooaccess Olá API de serviços de mídia usando APIs REST ou NET.</span><span class="sxs-lookup"><span data-stu-id="45bb8-114">This document gives an overview of how tooaccess hello Media Services API by using REST or .NET APIs.</span></span>

## <a name="access-control"></a><span data-ttu-id="45bb8-115">Controle de acesso</span><span class="sxs-lookup"><span data-stu-id="45bb8-115">Access control</span></span>

<span data-ttu-id="45bb8-116">Para Olá toosucceed de solicitação de REST de mídia do Azure, usuário chamada hello deve ter uma função de Colaborador ou proprietário para Olá estar tentando tooaccess de conta de serviços de mídia.</span><span class="sxs-lookup"><span data-stu-id="45bb8-116">For hello Azure Media REST request toosucceed, hello calling user must have a Contributor or Owner role for hello Media Services account it is trying tooaccess.</span></span>  
<span data-ttu-id="45bb8-117">Somente um usuário com a função de proprietário de saudação pode dar a usuários de toonew de acesso de recursos (conta) de mídia ou aplicativos.</span><span class="sxs-lookup"><span data-stu-id="45bb8-117">Only a user with hello Owner role can give media resource (account) access toonew users or apps.</span></span> <span data-ttu-id="45bb8-118">função de Colaborador Olá pode acessar somente o recurso de mídia hello.</span><span class="sxs-lookup"><span data-stu-id="45bb8-118">hello Contributor role can access only hello media resource.</span></span>
<span data-ttu-id="45bb8-119">Solicitações não autorizadas falham, com o código de status 401.</span><span class="sxs-lookup"><span data-stu-id="45bb8-119">Unauthorized requests fail, with status code of 401.</span></span> <span data-ttu-id="45bb8-120">Se você vir esse código de erro, verifique se o usuário tem Olá Colaborador ou função de proprietário atribuído Olá conta de usuário Media Services.</span><span class="sxs-lookup"><span data-stu-id="45bb8-120">If you see this error code, check whether your user has hello Contributor or Owner role assigned for hello user's Media Services account.</span></span> <span data-ttu-id="45bb8-121">Você pode verificar isso na Olá portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="45bb8-121">You can check this in hello Azure portal.</span></span> <span data-ttu-id="45bb8-122">Pesquisar para sua conta de mídia e clique em Olá **controle de acesso** guia.</span><span class="sxs-lookup"><span data-stu-id="45bb8-122">Search for your media account, and then click hello **Access control** tab.</span></span> 

![Guia Controle de acesso](./media/media-services-use-aad-auth-to-access-ams-api/media-services-access-control.png)

## <a name="types-of-authentication"></a><span data-ttu-id="45bb8-124">Tipos de autenticação</span><span class="sxs-lookup"><span data-stu-id="45bb8-124">Types of authentication</span></span> 
 
<span data-ttu-id="45bb8-125">Ao usar a autenticação do Azure AD com os Serviços de Mídia do Azure, você tem duas opções de autenticação:</span><span class="sxs-lookup"><span data-stu-id="45bb8-125">When you use Azure AD authentication with Azure Media Services, you have two authentication options:</span></span>

- <span data-ttu-id="45bb8-126">**Autenticação de usuário**.</span><span class="sxs-lookup"><span data-stu-id="45bb8-126">**User authentication**.</span></span> <span data-ttu-id="45bb8-127">Autentica um usuário que está usando Olá aplicativo toointeract com recursos de serviços de mídia.</span><span class="sxs-lookup"><span data-stu-id="45bb8-127">Authenticate a person who is using hello app toointeract with Media Services resources.</span></span> <span data-ttu-id="45bb8-128">aplicativo interativo Hello primeiro deve solicitar o usuário Olá Olá as credenciais de usuário.</span><span class="sxs-lookup"><span data-stu-id="45bb8-128">hello interactive application should first prompt hello user for hello user's credentials.</span></span> <span data-ttu-id="45bb8-129">Um exemplo é um aplicativo de console de gerenciamento usado por trabalhos de codificação de toomonitor de usuários autorizados ou transmissão ao vivo.</span><span class="sxs-lookup"><span data-stu-id="45bb8-129">An example is a management console app used by authorized users toomonitor encoding jobs or live streaming.</span></span> 
- <span data-ttu-id="45bb8-130">**Autenticação de entidade de serviço**.</span><span class="sxs-lookup"><span data-stu-id="45bb8-130">**Service principal authentication**.</span></span> <span data-ttu-id="45bb8-131">Autentica um serviço.</span><span class="sxs-lookup"><span data-stu-id="45bb8-131">Authenticate a service.</span></span> <span data-ttu-id="45bb8-132">Os aplicativos que geralmente usam esse método de autenticação são aplicativos que executam serviços daemon, serviços de camada intermediária ou trabalhos agendados.</span><span class="sxs-lookup"><span data-stu-id="45bb8-132">Applications that commonly use this authentication method are apps that run daemon services, middle-tier services, or scheduled jobs.</span></span> <span data-ttu-id="45bb8-133">Entre os exemplos estão aplicativos Web, aplicativos de funções, aplicativos lógicos, APIs e microsserviços.</span><span class="sxs-lookup"><span data-stu-id="45bb8-133">Examples are web apps, function apps, logic apps, API, and microservices.</span></span>

### <a name="user-authentication"></a><span data-ttu-id="45bb8-134">Autenticação de usuário</span><span class="sxs-lookup"><span data-stu-id="45bb8-134">User authentication</span></span> 

<span data-ttu-id="45bb8-135">Aplicativos que devem usar o método de autenticação de usuário hello são gerenciamento ou monitoramento de aplicativos nativos: aplicativos móveis, aplicativos do Windows e aplicativos de Console.</span><span class="sxs-lookup"><span data-stu-id="45bb8-135">Applications that should use hello user authentication method are management or monitoring native apps: mobile apps, Windows apps, and Console applications.</span></span> <span data-ttu-id="45bb8-136">Esse tipo de solução é útil quando você deseja interação humana com o serviço de saudação em um dos seguintes cenários de saudação:</span><span class="sxs-lookup"><span data-stu-id="45bb8-136">This type of solution is useful when you want human interaction with hello service in one of hello following scenarios:</span></span>

- <span data-ttu-id="45bb8-137">Painel de monitoramento dos trabalhos de codificação.</span><span class="sxs-lookup"><span data-stu-id="45bb8-137">Monitoring dashboard for your encoding jobs.</span></span>
- <span data-ttu-id="45bb8-138">Painel de monitoramento dos fluxos ao vivo.</span><span class="sxs-lookup"><span data-stu-id="45bb8-138">Monitoring dashboard for your live streams.</span></span>
- <span data-ttu-id="45bb8-139">Aplicativo de gerenciamento de recursos de tooadminister usuários móveis ou área de trabalho em uma conta de serviços de mídia.</span><span class="sxs-lookup"><span data-stu-id="45bb8-139">Management application for desktop or mobile users tooadminister resources in a Media Services account.</span></span>

> [!NOTE]
> <span data-ttu-id="45bb8-140">Esse método de autenticação não deve ser usado para aplicativos voltados para o consumidor.</span><span class="sxs-lookup"><span data-stu-id="45bb8-140">This authentication method should not be used for consumer-facing applications.</span></span> 

<span data-ttu-id="45bb8-141">Um aplicativo nativo deve primeiro adquirir um token de acesso do AD do Azure e, em seguida, usá-lo quando você fizer a API de REST de serviços de mídia de toohello de solicitações HTTP.</span><span class="sxs-lookup"><span data-stu-id="45bb8-141">A native application must first acquire an access token from Azure AD, and then use it when you make HTTP requests toohello Media Services REST API.</span></span> <span data-ttu-id="45bb8-142">Adicione cabeçalho de solicitação de token toohello Olá acesso.</span><span class="sxs-lookup"><span data-stu-id="45bb8-142">Add hello access token toohello request header.</span></span> 

<span data-ttu-id="45bb8-143">Olá diagrama a seguir mostra um fluxo de autenticação de aplicativo interativo típico:</span><span class="sxs-lookup"><span data-stu-id="45bb8-143">hello following diagram shows a typical interactive application authentication flow:</span></span> 

![Diagrama de aplicativos nativos](./media/media-services-use-aad-auth-to-access-ams-api/media-services-native-aad-app1.png)

<span data-ttu-id="45bb8-145">Olá precede o diagrama, Olá números representam fluxo Olá de solicitações de saudação em ordem cronológica.</span><span class="sxs-lookup"><span data-stu-id="45bb8-145">In hello preceding diagram, hello numbers represent hello flow of hello requests in chronological order.</span></span>

> [!NOTE]
> <span data-ttu-id="45bb8-146">Quando você usa o método de autenticação de usuário hello, todos os aplicativos compartilham Olá URI de redirecionamento de mesma ID de cliente do aplicativo nativo (padrão) e o aplicativo nativo.</span><span class="sxs-lookup"><span data-stu-id="45bb8-146">When you use hello user authentication method, all apps share hello same (default) native application client ID and native application redirect URI.</span></span> 

1. <span data-ttu-id="45bb8-147">Solicite as credenciais a um usuário.</span><span class="sxs-lookup"><span data-stu-id="45bb8-147">Prompt a user for credentials.</span></span>
2. <span data-ttu-id="45bb8-148">Solicite um token de acesso do AD do Azure com hello parâmetros a seguir:</span><span class="sxs-lookup"><span data-stu-id="45bb8-148">Request an Azure AD access token with hello following parameters:</span></span>  

    * <span data-ttu-id="45bb8-149">Ponto de extremidade do locatário do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="45bb8-149">Azure AD tenant endpoint.</span></span>

        <span data-ttu-id="45bb8-150">informações de locatário Olá podem ser recuperadas da saudação portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="45bb8-150">hello tenant information can be retrieved from hello Azure portal.</span></span> <span data-ttu-id="45bb8-151">Coloque o cursor sobre nome de saudação do usuário conectado Olá no canto superior direito da saudação.</span><span class="sxs-lookup"><span data-stu-id="45bb8-151">Place your cursor over hello name of hello signed-in user in hello top right corner.</span></span>
    * <span data-ttu-id="45bb8-152">URI de recurso dos Serviços de Mídia.</span><span class="sxs-lookup"><span data-stu-id="45bb8-152">Media Services resource URI.</span></span> 

        <span data-ttu-id="45bb8-153">Esse URI é hello mesmo para contas de serviços de mídia que estejam no hello mesmo ambiente do Azure (por exemplo, https://rest.media.azure.net).</span><span class="sxs-lookup"><span data-stu-id="45bb8-153">This URI is hello same for Media Services accounts that are in hello same Azure environment (for example, https://rest.media.azure.net).</span></span>

    * <span data-ttu-id="45bb8-154">ID do cliente do aplicativo (nativo) dos Serviços de Mídia.</span><span class="sxs-lookup"><span data-stu-id="45bb8-154">Media Services (native) application client ID.</span></span>
    * <span data-ttu-id="45bb8-155">URI de redirecionamento do aplicativo (nativo) dos Serviços de Mídia.</span><span class="sxs-lookup"><span data-stu-id="45bb8-155">Media Services (native) application redirect URI.</span></span>
    * <span data-ttu-id="45bb8-156">URI de recurso dos Serviços de Mídia REST.</span><span class="sxs-lookup"><span data-stu-id="45bb8-156">Resource URI for REST Media Services.</span></span>
        
        <span data-ttu-id="45bb8-157">Olá URI representa o ponto de extremidade da API REST de saudação (por exemplo, https://test03.restv2.westus.media.azure.net/api/).</span><span class="sxs-lookup"><span data-stu-id="45bb8-157">hello URI represents hello REST API endpoint (for example, https://test03.restv2.westus.media.azure.net/api/).</span></span>

    <span data-ttu-id="45bb8-158">tooget valores desses parâmetros, consulte [usar configurações de autenticação tooaccess portal do Azure AD do Azure Olá](media-services-portal-get-started-with-aad.md) usando a opção de autenticação de usuário hello.</span><span class="sxs-lookup"><span data-stu-id="45bb8-158">tooget values for these parameters, see [Use hello Azure portal tooaccess Azure AD authentication settings](media-services-portal-get-started-with-aad.md) using hello user authentication option.</span></span>

3. <span data-ttu-id="45bb8-159">token de acesso de saudação do AD do Azure é enviado toohello cliente.</span><span class="sxs-lookup"><span data-stu-id="45bb8-159">hello Azure AD access token is sent toohello client.</span></span>
4. <span data-ttu-id="45bb8-160">cliente Olá envia uma solicitação toohello API de REST de mídia do Azure com token de acesso de saudação do AD do Azure.</span><span class="sxs-lookup"><span data-stu-id="45bb8-160">hello client sends a request toohello Azure Media REST API with hello Azure AD access token.</span></span>
5. <span data-ttu-id="45bb8-161">cliente Olá obtém dados de saudação do Media Services.</span><span class="sxs-lookup"><span data-stu-id="45bb8-161">hello client gets back hello data from Media Services.</span></span>

<span data-ttu-id="45bb8-162">Para obter informações sobre como toocommunicate de autenticação toouse AD do Azure com REST solicitações usando o SDK de cliente .NET de serviços de mídia hello, consulte [tooaccess de autenticação de uso do AD do Azure Olá API de serviços de mídia com o .NET](media-services-dotnet-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="45bb8-162">For information about how toouse Azure AD authentication toocommunicate with REST requests by using hello Media Services .NET client SDK, see [Use Azure AD authentication tooaccess hello Media Services API with .NET](media-services-dotnet-get-started-with-aad.md).</span></span> 

<span data-ttu-id="45bb8-163">Se você não estiver usando o SDK de cliente .NET de serviços de mídia hello, você deve criar manualmente uma solicitação de token de acesso do AD do Azure usando os parâmetros de saudação descritos na etapa 2.</span><span class="sxs-lookup"><span data-stu-id="45bb8-163">If you are not using hello Media Services .NET client SDK, you must manually create an Azure AD access token request by using hello parameters described in step 2.</span></span> <span data-ttu-id="45bb8-164">Para obter mais informações, consulte [como tooget de biblioteca de autenticação de saudação do AD do Azure toouse Olá token do AD do Azure](../active-directory/develop/active-directory-authentication-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="45bb8-164">For more information, see [How toouse hello Azure AD Authentication Library tooget hello Azure AD token](../active-directory/develop/active-directory-authentication-libraries.md).</span></span>

### <a name="service-principal-authentication"></a><span data-ttu-id="45bb8-165">Autenticação de entidade de serviço</span><span class="sxs-lookup"><span data-stu-id="45bb8-165">Service principal authentication</span></span>

<span data-ttu-id="45bb8-166">Os aplicativos que geralmente usam esse método de autenticação são aplicativos que executam serviços de camada intermediária e trabalhos agendados: aplicativos Web, aplicativos de funções, aplicativos lógicos, APIs e microsserviços.</span><span class="sxs-lookup"><span data-stu-id="45bb8-166">Applications that commonly use this authentication method are apps that run middle-tier services and scheduled jobs: web apps, function apps, logic apps, APIs, and microservices.</span></span> <span data-ttu-id="45bb8-167">Esse método de autenticação também é adequado para aplicativos interativos na qual você talvez queira toouse um toomanage recursos da conta de serviço.</span><span class="sxs-lookup"><span data-stu-id="45bb8-167">This authentication method also is suitable for interactive applications in which you might want toouse a service account toomanage resources.</span></span>

<span data-ttu-id="45bb8-168">Quando você usa os cenários de consumidor toobuild do método de autenticação principal de serviço Olá, autenticação normalmente é manipulada na camada intermediária de saudação (por meio de alguns API) e não diretamente em um aplicativo móvel ou área de trabalho.</span><span class="sxs-lookup"><span data-stu-id="45bb8-168">When you use hello service principal authentication method toobuild consumer scenarios, authentication typically is handled in hello middle tier (through some API) and not directly in a mobile or desktop application.</span></span> 

<span data-ttu-id="45bb8-169">toouse esse método, criar um aplicativo do AD do Azure e serviço principal em seu próprio locatário.</span><span class="sxs-lookup"><span data-stu-id="45bb8-169">toouse this method, create an Azure AD application and service principal in its own tenant.</span></span> <span data-ttu-id="45bb8-170">Depois de criar o aplicativo hello, dê Olá aplicativo Colaborador ou proprietário da função acesso toohello conta do Media Services.</span><span class="sxs-lookup"><span data-stu-id="45bb8-170">After you create hello application, give hello app Contributor or Owner role access toohello Media Services account.</span></span> <span data-ttu-id="45bb8-171">Você pode fazer isso no hello portal do Azure, usando a CLI do Azure, ou com um script do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="45bb8-171">You can do this in hello Azure portal, by using Azure CLI, or with a PowerShell script.</span></span> <span data-ttu-id="45bb8-172">Use também um aplicativo existente do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="45bb8-172">You also can use an existing Azure AD application.</span></span> <span data-ttu-id="45bb8-173">Você pode registrar e gerenciar seu aplicativo do Azure AD e o serviço principal [no portal do Azure de saudação](media-services-portal-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="45bb8-173">You can register and manage your Azure AD app and service principal [in hello Azure portal](media-services-portal-get-started-with-aad.md).</span></span> <span data-ttu-id="45bb8-174">Também faça isso usando a [CLI 2.0 do Azure](media-services-use-aad-auth-to-access-ams-api.md) ou o [PowerShell](media-services-powershell-create-and-configure-aad-app.md).</span><span class="sxs-lookup"><span data-stu-id="45bb8-174">You also can do this by using [Azure CLI 2.0](media-services-use-aad-auth-to-access-ams-api.md) or [PowerShell](media-services-powershell-create-and-configure-aad-app.md).</span></span> 

![Aplicativos de camada intermediária](./media/media-services-use-aad-auth-to-access-ams-api/media-services-principal-service-aad-app1.png)

<span data-ttu-id="45bb8-176">Depois de criar seu aplicativo do AD do Azure, você obter valores hello configurações a seguir.</span><span class="sxs-lookup"><span data-stu-id="45bb8-176">After you create your Azure AD application, you get values for hello following settings.</span></span> <span data-ttu-id="45bb8-177">Você precisa destes valores para autenticação:</span><span class="sxs-lookup"><span data-stu-id="45bb8-177">You need these values for authentication:</span></span>

- <span data-ttu-id="45bb8-178">ID do cliente</span><span class="sxs-lookup"><span data-stu-id="45bb8-178">Client ID</span></span> 
- <span data-ttu-id="45bb8-179">Segredo do cliente</span><span class="sxs-lookup"><span data-stu-id="45bb8-179">Client secret</span></span> 

<span data-ttu-id="45bb8-180">Nas Olá anterior figura, Olá números representam fluxo Olá de solicitações de saudação em ordem cronológica:</span><span class="sxs-lookup"><span data-stu-id="45bb8-180">In hello preceding figure, hello numbers represent hello flow of hello requests in chronological order:</span></span>
    
1. <span data-ttu-id="45bb8-181">Um aplicativo de camada intermediária (API da web ou aplicativo web) solicita um token de acesso do AD do Azure que tenha Olá parâmetros a seguir:</span><span class="sxs-lookup"><span data-stu-id="45bb8-181">A middle-tier app (web API or web application) requests an Azure AD access token that has hello following parameters:</span></span>  

    * <span data-ttu-id="45bb8-182">Ponto de extremidade do locatário do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="45bb8-182">Azure AD tenant endpoint.</span></span>

        <span data-ttu-id="45bb8-183">informações de locatário Olá podem ser recuperadas da saudação portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="45bb8-183">hello tenant information can be retrieved from hello Azure portal.</span></span> <span data-ttu-id="45bb8-184">Coloque o cursor sobre nome de saudação do usuário conectado Olá no canto superior direito da saudação.</span><span class="sxs-lookup"><span data-stu-id="45bb8-184">Place your cursor over hello name of hello signed-in user in hello top right corner.</span></span>
    * <span data-ttu-id="45bb8-185">URI de recurso dos Serviços de Mídia.</span><span class="sxs-lookup"><span data-stu-id="45bb8-185">Media Services resource URI.</span></span> 

        <span data-ttu-id="45bb8-186">Esse URI é hello mesmo para contas de serviços de mídia que estão localizadas em Olá mesmo ambiente do Azure (por exemplo, https://rest.media.azure.net).</span><span class="sxs-lookup"><span data-stu-id="45bb8-186">This URI is hello same for Media Services accounts that are located in hello same Azure environment (for example, https://rest.media.azure.net).</span></span>

    * <span data-ttu-id="45bb8-187">URI de recurso dos Serviços de Mídia REST.</span><span class="sxs-lookup"><span data-stu-id="45bb8-187">Resource URI for REST Media Services.</span></span>

        <span data-ttu-id="45bb8-188">Olá URI representa o ponto de extremidade da API REST de saudação (por exemplo, https://test03.restv2.westus.media.azure.net/api/).</span><span class="sxs-lookup"><span data-stu-id="45bb8-188">hello URI represents hello REST API endpoint (for example, https://test03.restv2.westus.media.azure.net/api/).</span></span>

    * <span data-ttu-id="45bb8-189">Valores de aplicativo do Azure AD: Olá ID do cliente e o segredo do cliente.</span><span class="sxs-lookup"><span data-stu-id="45bb8-189">Azure AD application values: hello client ID and client secret.</span></span>
    
    <span data-ttu-id="45bb8-190">tooget valores desses parâmetros, consulte [usar configurações de autenticação tooaccess portal do Azure AD do Azure Olá](media-services-portal-get-started-with-aad.md) usando a opção de autenticação principal do serviço de saudação.</span><span class="sxs-lookup"><span data-stu-id="45bb8-190">tooget values for these parameters, see [Use hello Azure portal tooaccess Azure AD authentication settings](media-services-portal-get-started-with-aad.md) by using hello service principal authentication option.</span></span>

2. <span data-ttu-id="45bb8-191">token de acesso de saudação do AD do Azure é enviada a camada intermediária toohello.</span><span class="sxs-lookup"><span data-stu-id="45bb8-191">hello Azure AD access token is sent toohello middle tier.</span></span>
4. <span data-ttu-id="45bb8-192">camada intermediária Olá envia a solicitação toohello API de REST de mídia do Azure com o token do AD do Azure hello.</span><span class="sxs-lookup"><span data-stu-id="45bb8-192">hello middle tier sends request toohello Azure Media REST API with hello Azure AD token.</span></span>
5. <span data-ttu-id="45bb8-193">camada intermediária Olá obtém dados de saudação do Media Services.</span><span class="sxs-lookup"><span data-stu-id="45bb8-193">hello middle tier gets back hello data from Media Services.</span></span>

<span data-ttu-id="45bb8-194">Para obter mais informações sobre como toocommunicate de autenticação toouse AD do Azure com REST solicitações usando o SDK de cliente .NET de serviços de mídia hello, consulte [tooaccess de autenticação de uso do AD do Azure API de serviços de mídia do Azure com o .NET](media-services-dotnet-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="45bb8-194">For more information about how toouse Azure AD authentication toocommunicate with REST requests by using hello Media Services .NET client SDK, see [Use Azure AD authentication tooaccess Azure Media Services API with .NET](media-services-dotnet-get-started-with-aad.md).</span></span> 

<span data-ttu-id="45bb8-195">Se você não estiver usando o SDK de cliente .NET de serviços de mídia hello, você deve criar manualmente uma solicitação de token do AD do Azure usando os parâmetros descritos na etapa 1.</span><span class="sxs-lookup"><span data-stu-id="45bb8-195">If you are not using hello Media Services .NET client SDK, you must manually create an Azure AD token request by using parameters described in step 1.</span></span> <span data-ttu-id="45bb8-196">Para obter mais informações, consulte [como tooget de biblioteca de autenticação de saudação do AD do Azure toouse Olá token do AD do Azure](../active-directory/develop/active-directory-authentication-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="45bb8-196">For more information, see [How toouse hello Azure AD Authentication Library tooget hello Azure AD token](../active-directory/develop/active-directory-authentication-libraries.md).</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="45bb8-197">Solucionar problemas</span><span class="sxs-lookup"><span data-stu-id="45bb8-197">Troubleshooting</span></span>

<span data-ttu-id="45bb8-198">Exceção: "o servidor remoto Olá retornou um erro: não autorizado (401)."</span><span class="sxs-lookup"><span data-stu-id="45bb8-198">Exception: "hello remote server returned an error: (401) Unauthorized."</span></span>

<span data-ttu-id="45bb8-199">Solução: Para Olá toosucceed de solicitação de REST de serviços de mídia, usuário chamada hello deve ser uma função de Colaborador ou proprietário Olá estar tentando tooaccess de conta de serviços de mídia.</span><span class="sxs-lookup"><span data-stu-id="45bb8-199">Solution: For hello Media Services REST request toosucceed, hello calling user must be a Contributor or Owner role in hello Media Services account it is trying tooaccess.</span></span> <span data-ttu-id="45bb8-200">Para obter mais informações, consulte Olá [controle de acesso](media-services-use-aad-auth-to-access-ams-api.md#access-control) seção.</span><span class="sxs-lookup"><span data-stu-id="45bb8-200">For more information, see hello [Access control](media-services-use-aad-auth-to-access-ams-api.md#access-control) section.</span></span>

## <a name="resources"></a><span data-ttu-id="45bb8-201">Recursos</span><span class="sxs-lookup"><span data-stu-id="45bb8-201">Resources</span></span>

<span data-ttu-id="45bb8-202">Olá artigos a seguir está uma visão geral dos conceitos de autenticação do AD do Azure:</span><span class="sxs-lookup"><span data-stu-id="45bb8-202">hello following articles are overviews of Azure AD authentication concepts:</span></span> 

- [<span data-ttu-id="45bb8-203">Cenários de autenticação abordados pelo Azure AD</span><span class="sxs-lookup"><span data-stu-id="45bb8-203">Authentication scenarios addressed by Azure AD</span></span>](../active-directory/develop/active-directory-authentication-scenarios.md#basics-of-authentication-in-azure-ad)
- [<span data-ttu-id="45bb8-204">Adicionar, atualizar ou remover um aplicativo no Azure AD</span><span class="sxs-lookup"><span data-stu-id="45bb8-204">Add, update, or remove an application in Azure AD</span></span>](../active-directory/develop/active-directory-integrating-applications.md)
- [<span data-ttu-id="45bb8-205">Configurar e gerenciar o Controle de Acesso Baseado em Função usando o PowerShell</span><span class="sxs-lookup"><span data-stu-id="45bb8-205">Configure and manage Role-Based Access Control by using PowerShell</span></span>](../active-directory/role-based-access-control-manage-access-powershell.md)

## <a name="next-steps"></a><span data-ttu-id="45bb8-206">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="45bb8-206">Next steps</span></span>

* <span data-ttu-id="45bb8-207">Usar Olá portal do Azure também[acessar tooconsume de autenticação do AD do Azure API de serviços de mídia do Azure](media-services-portal-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="45bb8-207">Use hello Azure portal too[access Azure AD authentication tooconsume Azure Media Services API](media-services-portal-get-started-with-aad.md).</span></span>
* <span data-ttu-id="45bb8-208">Usar autenticação do Azure AD também[acessar a API de serviços de mídia do Azure com o .NET](media-services-dotnet-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="45bb8-208">Use Azure AD authentication too[access Azure Media Services API with .NET](media-services-dotnet-get-started-with-aad.md).</span></span>

