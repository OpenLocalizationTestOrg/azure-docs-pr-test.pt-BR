---
title: "Entrega de conteúdo aos clientes | Microsoft Docs"
description: "Este tópico fornece uma visão geral do que está envolvido no fornecimento de conteúdo com os Serviços de Mídia do Azure."
services: media-services
documentationcenter: 
author: Juliako
manager: cfowler
editor: 
ms.assetid: 89ede54a-6a9c-4814-9858-dcfbb5f4fed5
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/29/2017
ms.author: juliako
ms.openlocfilehash: 46dccd5a50b6dc7c7a93700b8fae554587385031
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/29/2017
---
# <a name="deliver-content-to-customers"></a><span data-ttu-id="12aa4-103">Distribuir conteúdo aos clientes</span><span class="sxs-lookup"><span data-stu-id="12aa4-103">Deliver content to customers</span></span>
<span data-ttu-id="12aa4-104">Quando você estiver distribuindo conteúdo de streaming ou vídeo sob demanda aos clientes, sua meta será distribuir vídeo de alta qualidade a vários dispositivos sob diferentes condições de rede.</span><span class="sxs-lookup"><span data-stu-id="12aa4-104">When you're delivering your streaming or video-on-demand content to customers, your goal is to deliver high-quality video to various devices under different network conditions.</span></span>

<span data-ttu-id="12aa4-105">Para atingir esse objetivo, você pode:</span><span class="sxs-lookup"><span data-stu-id="12aa4-105">To achieve this goal, you can:</span></span>

* <span data-ttu-id="12aa4-106">Codificar o fluxo para uma transmissão de vídeo de múltiplas taxas de bits (taxa de bit adaptável).</span><span class="sxs-lookup"><span data-stu-id="12aa4-106">Encode your stream to a multi-bitrate (adaptive bitrate) video stream.</span></span> <span data-ttu-id="12aa4-107">Isso cuidará da qualidade e das condições de rede.</span><span class="sxs-lookup"><span data-stu-id="12aa4-107">This will take care of quality and network conditions.</span></span>
* <span data-ttu-id="12aa4-108">Usar o [empacotamento dinâmico](media-services-dynamic-packaging-overview.md) dos Serviços de Mídia do Microsoft Azure para reempacotar dinamicamente a transmissão em diferentes protocolos.</span><span class="sxs-lookup"><span data-stu-id="12aa4-108">Use Microsoft Azure Media Services [dynamic packaging](media-services-dynamic-packaging-overview.md) to dynamically re-package your stream into different protocols.</span></span> <span data-ttu-id="12aa4-109">Isso se encarregará da transmissão em diferentes dispositivos.</span><span class="sxs-lookup"><span data-stu-id="12aa4-109">This will take care of streaming on different devices.</span></span> <span data-ttu-id="12aa4-110">Os Serviços de Mídia dá suporte a entrega das seguintes tecnologias de streaming de taxa de bits adaptável: HLS (HTTP Live Streaming), Smooth Streaming e MPEG DASH.</span><span class="sxs-lookup"><span data-stu-id="12aa4-110">Media Services supports delivery of the following adaptive bitrate streaming technologies: HTTP Live Streaming (HLS), Smooth Streaming, and MPEG-DASH.</span></span>

>[!NOTE]
><span data-ttu-id="12aa4-111">Quando sua conta AMS é criada, um ponto de extremidade de streaming **padrão** é adicionado à sua conta em estado **Parado**.</span><span class="sxs-lookup"><span data-stu-id="12aa4-111">When your AMS account is created a **default** streaming endpoint is added to your account in the **Stopped** state.</span></span> <span data-ttu-id="12aa4-112">Para iniciar seu conteúdo de streaming e tirar proveito do empacotamento dinâmico e da criptografia dinâmica, o ponto de extremidade de streaming do qual você deseja transmitir o conteúdo deve estar em estado **Executando**.</span><span class="sxs-lookup"><span data-stu-id="12aa4-112">To start streaming your content and take advantage of dynamic packaging and dynamic encryption, the streaming endpoint from which you want to stream content has to be in the **Running** state.</span></span> 

<span data-ttu-id="12aa4-113">Este artigo apresenta uma visão geral de conceitos importantes de distribuição de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="12aa4-113">This article gives an overview of important content delivery concepts.</span></span>

<span data-ttu-id="12aa4-114">Para verificar os problemas conhecidos, confira [Problemas conhecidos](media-services-deliver-content-overview.md#known-issues).</span><span class="sxs-lookup"><span data-stu-id="12aa4-114">To check known issues, see [Known issues](media-services-deliver-content-overview.md#known-issues).</span></span>

## <a name="dynamic-packaging"></a><span data-ttu-id="12aa4-115">Empacotamento dinâmico</span><span class="sxs-lookup"><span data-stu-id="12aa4-115">Dynamic packaging</span></span>
<span data-ttu-id="12aa4-116">Com o empacotamento dinâmico que os Serviços de Mídia fornecem, você pode distribuir seu conteúdo codificado por Smooth Streaming ou MP4 de taxa de bits adaptável em formatos de transmissão com suporte dos Serviços de Mídia (MPEG-DASH, HLS, Smooth Streaming) sem precisar empacotar novamente nesses formatos de streaming.</span><span class="sxs-lookup"><span data-stu-id="12aa4-116">With the dynamic packaging that Media Services provides, you can deliver your adaptive bitrate MP4 or Smooth Streaming encoded content in streaming formats supported by Media Services (MPEG-DASH, HLS, Smooth Streaming,) without having to re-package into these streaming formats.</span></span> <span data-ttu-id="12aa4-117">É recomendável distribuir conteúdo com empacotamento dinâmico.</span><span class="sxs-lookup"><span data-stu-id="12aa4-117">We recommend delivering your content with dynamic packaging.</span></span>

<span data-ttu-id="12aa4-118">Para aproveitar o empacotamento dinâmico, você precisa codificar seu arquivo mezanino (fonte) em um conjunto de arquivos MP4 de taxa de bits adaptável ou arquivos Smooth Streaming de taxa de bits adaptável.</span><span class="sxs-lookup"><span data-stu-id="12aa4-118">To take advantage of dynamic packaging, you need to encode your mezzanine (source) file into a set of adaptive-bitrate MP4 files or adaptive bitrate Smooth Streaming files.</span></span>

<span data-ttu-id="12aa4-119">Com o empacotamento dinâmico, você armazena e paga por arquivos em um único formato de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="12aa4-119">With dynamic packaging, you store and pay for the files in single storage format.</span></span> <span data-ttu-id="12aa4-120">Os Serviços de Mídia vão criar e fornecer a resposta apropriada com base em suas solicitações.</span><span class="sxs-lookup"><span data-stu-id="12aa4-120">Media Services will build and serve the appropriate response based on your requests.</span></span>

<span data-ttu-id="12aa4-121">O empacotamento dinâmico está disponível para pontos de extremidade de streaming Standard e Premium.</span><span class="sxs-lookup"><span data-stu-id="12aa4-121">Dynamic packaging is available for standard and premium streaming endpoints.</span></span> 

<span data-ttu-id="12aa4-122">Para saber mais, confira [Empacotamento dinâmico](media-services-dynamic-packaging-overview.md).</span><span class="sxs-lookup"><span data-stu-id="12aa4-122">For more information, see [Dynamic packaging](media-services-dynamic-packaging-overview.md).</span></span>

## <a name="filters-and-dynamic-manifests"></a><span data-ttu-id="12aa4-123">Filtros e manifestos dinâmicos</span><span class="sxs-lookup"><span data-stu-id="12aa4-123">Filters and dynamic manifests</span></span>
<span data-ttu-id="12aa4-124">Você pode definir filtros para seus ativos com os Serviços de Mídia.</span><span class="sxs-lookup"><span data-stu-id="12aa4-124">You can define filters for your assets with Media Services.</span></span> <span data-ttu-id="12aa4-125">Esses filtros são regras do servidor que ajudam os clientes a realizar tarefas como reproduzir uma seção específica de um vídeo ou especificar um subconjunto de representações de áudio e vídeo com as quais o dispositivo do cliente pode lidar (em vez de todas as representações que estão associadas ao ativo).</span><span class="sxs-lookup"><span data-stu-id="12aa4-125">These filters are server-side rules that help your customers do things like play a specific section of a video or specify a subset of audio and video renditions that your customer's device can handle (instead of all the renditions that are associated with the asset).</span></span> <span data-ttu-id="12aa4-126">Essa filtragem é obtida por meio de *manifestos dinâmicos* que são criados quando o cliente solicita transmitir um vídeo com base em um ou mais filtros especificados.</span><span class="sxs-lookup"><span data-stu-id="12aa4-126">This filtering is achieved through *dynamic manifests* that are created when your customer requests to stream a video based on one or more specified filters.</span></span>

<span data-ttu-id="12aa4-127">Para obter mais informações, consulte [Filtros e manifestos dinâmicos](media-services-dynamic-manifest-overview.md).</span><span class="sxs-lookup"><span data-stu-id="12aa4-127">For more information, see [Filters and dynamic manifests](media-services-dynamic-manifest-overview.md).</span></span>

## <a name="locators"></a><span data-ttu-id="12aa4-128">Localizadores</span><span class="sxs-lookup"><span data-stu-id="12aa4-128">Locators</span></span>
<span data-ttu-id="12aa4-129">Para fornecer ao usuário uma URL que possa ser usada para transmitir ou baixar seu conteúdo, primeiramente você precisa publicar o ativo criando um localizador.</span><span class="sxs-lookup"><span data-stu-id="12aa4-129">To provide your user with a URL that can be used to stream or download your content, you first need to publish your asset by creating a locator.</span></span> <span data-ttu-id="12aa4-130">Um localizador fornece um ponto de entrada para acessar os arquivos contidos em um ativo.</span><span class="sxs-lookup"><span data-stu-id="12aa4-130">A locator provides an entry point to access the files contained in an asset.</span></span> <span data-ttu-id="12aa4-131">Os Serviços de Mídia oferecem suporte a dois tipos de localizadores:</span><span class="sxs-lookup"><span data-stu-id="12aa4-131">Media Services supports two types of locators:</span></span>

* <span data-ttu-id="12aa4-132">Localizadores OnDemandOrigin.</span><span class="sxs-lookup"><span data-stu-id="12aa4-132">OnDemandOrigin locators.</span></span> <span data-ttu-id="12aa4-133">Esses localizadores são usados para transmitir mídia (por exemplo, MPEG-DASH, HLS ou Smooth Streaming) ou baixar arquivos progressivamente.</span><span class="sxs-lookup"><span data-stu-id="12aa4-133">These are used to stream media (for example, MPEG-DASH, HLS, or Smooth Streaming) or progressively download files.</span></span>
* <span data-ttu-id="12aa4-134">Localizadores de URL por SAS (Assinatura de Acesso Compartilhado).</span><span class="sxs-lookup"><span data-stu-id="12aa4-134">Shared access signature (SAS) URL locators.</span></span> <span data-ttu-id="12aa4-135">Esses localizadores são usados para baixar arquivos de mídia para seu computador local.</span><span class="sxs-lookup"><span data-stu-id="12aa4-135">These are used to download media files to your local computer.</span></span>

<span data-ttu-id="12aa4-136">Uma *política de acesso* é usada para definir as permissões (como leitura, gravação e lista) e por quanto tempo um cliente tem acesso a um ativo específico.</span><span class="sxs-lookup"><span data-stu-id="12aa4-136">An *access policy* is used to define the permissions (such as read, write, and list) and duration for which a client has access for a particular asset.</span></span> <span data-ttu-id="12aa4-137">Observe que a permissão de lista (AccessPermissions.List) não deve ser usada na criação de um localizador OrDemandOrigin.</span><span class="sxs-lookup"><span data-stu-id="12aa4-137">Note that the list permission (AccessPermissions.List) should not be used in creating an OrDemandOrigin locator.</span></span>

<span data-ttu-id="12aa4-138">Os localizadores têm datas de validade.</span><span class="sxs-lookup"><span data-stu-id="12aa4-138">Locators have expiration dates.</span></span> <span data-ttu-id="12aa4-139">O portal do Azure define uma data de validade de 100 anos para localizadores.</span><span class="sxs-lookup"><span data-stu-id="12aa4-139">The Azure portal sets an expiration date 100 years in the future for locators.</span></span>

> [!NOTE]
> <span data-ttu-id="12aa4-140">Se você usou o portal do Azure para criar localizadores antes de março de 2015, esses localizadores foram definidos para expirar depois de dois anos.</span><span class="sxs-lookup"><span data-stu-id="12aa4-140">If you used the Azure portal to create locators before March 2015, those locators were set to expire after two years.</span></span>
> 
> 

<span data-ttu-id="12aa4-141">Para atualizar uma data de validade em um localizador, use as APIs [REST](https://docs.microsoft.com/rest/api/media/operations/locator#update_a_locator) ou [.NET](http://go.microsoft.com/fwlink/?LinkID=533259).</span><span class="sxs-lookup"><span data-stu-id="12aa4-141">To update an expiration date on a locator, use [REST](https://docs.microsoft.com/rest/api/media/operations/locator#update_a_locator) or [.NET](http://go.microsoft.com/fwlink/?LinkID=533259) APIs.</span></span> <span data-ttu-id="12aa4-142">Observe que, quando você atualiza a data de validade de um localizador SAS, a URL é alterada.</span><span class="sxs-lookup"><span data-stu-id="12aa4-142">Note that when you update the expiration date of a SAS locator, the URL changes.</span></span>

<span data-ttu-id="12aa4-143">Os localizadores não foram desenvolvidos para gerenciar o controle de acesso por usuário.</span><span class="sxs-lookup"><span data-stu-id="12aa4-143">Locators are not designed to manage per-user access control.</span></span> <span data-ttu-id="12aa4-144">Você pode conceder diferentes direitos de acesso a usuários individuais usando as soluções DRM (Gerenciamento de Direitos Digitais).</span><span class="sxs-lookup"><span data-stu-id="12aa4-144">You can give different access rights to individual users by using Digital Rights Management (DRM) solutions.</span></span> <span data-ttu-id="12aa4-145">Para obter mais informações, consulte [Protegendo mídia](http://msdn.microsoft.com/library/azure/dn282272.aspx).</span><span class="sxs-lookup"><span data-stu-id="12aa4-145">For more information, see [Securing Media](http://msdn.microsoft.com/library/azure/dn282272.aspx).</span></span>

<span data-ttu-id="12aa4-146">Quando você cria um localizador, pode haver um atraso de 30 segundos devido a processos de armazenamento e propagação necessários no Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="12aa4-146">When you create a locator, there may be a 30-second delay due to required storage and propagation processes in Azure Storage.</span></span>

## <a name="adaptive-streaming"></a><span data-ttu-id="12aa4-147">Streaming adaptável</span><span class="sxs-lookup"><span data-stu-id="12aa4-147">Adaptive streaming</span></span>
<span data-ttu-id="12aa4-148">Tecnologias de taxa de bits adaptável permitem que os aplicativos de player de vídeo determinem as condições da rede e selecionem entre várias taxas de bits.</span><span class="sxs-lookup"><span data-stu-id="12aa4-148">Adaptive bitrate technologies allow video player applications to determine network conditions and select from several bitrates.</span></span> <span data-ttu-id="12aa4-149">Quando a comunicação da rede é degradada, o cliente pode escolher uma taxa de bits inferior, de modo que a reprodução possa continuar com a qualidade de vídeo inferior.</span><span class="sxs-lookup"><span data-stu-id="12aa4-149">When network communication degrades, the client can select a lower bitrate so playback can continue with lower video quality.</span></span> <span data-ttu-id="12aa4-150">À medida que as condições da rede melhoram, o cliente pode alternar para uma taxa de bits mais alta com qualidade de vídeo aprimorada.</span><span class="sxs-lookup"><span data-stu-id="12aa4-150">As network conditions improve, the client can switch to a higher bitrate with improved video quality.</span></span> <span data-ttu-id="12aa4-151">Os Serviços de Mídia do Azure dão suporte às seguintes tecnologias de taxa de bits adaptável: HLS (HTTP Live Streaming), Smooth Streaming e MPEG-DASH.</span><span class="sxs-lookup"><span data-stu-id="12aa4-151">Azure Media Services supports the following adaptive bitrate technologies: HTTP Live Streaming (HLS), Smooth Streaming, and MPEG-DASH.</span></span>

<span data-ttu-id="12aa4-152">Para fornecer aos usuários URLs de streaming, você deve primeiro criar um localizador OnDemandOrigin.</span><span class="sxs-lookup"><span data-stu-id="12aa4-152">To provide users with streaming URLs, you first must create an OnDemandOrigin locator.</span></span> <span data-ttu-id="12aa4-153">A criação do localizador proporciona o caminho base para o ativo que inclui o conteúdo que você deseja transmitir.</span><span class="sxs-lookup"><span data-stu-id="12aa4-153">Creating the locator gives you the base path to the asset that contains the content you want to stream.</span></span> <span data-ttu-id="12aa4-154">No entanto, para poder transmitir esse conteúdo, você precisa modificar esse caminho ainda mais.</span><span class="sxs-lookup"><span data-stu-id="12aa4-154">However, to be able to stream this content, you need to modify this path further.</span></span> <span data-ttu-id="12aa4-155">Para construir uma URL completa para o arquivo de manifesto de streaming, é preciso concatenar o valor do caminho do localizador e o nome de arquivo de manifesto (filename.ism).</span><span class="sxs-lookup"><span data-stu-id="12aa4-155">To construct a full URL to the streaming manifest file, you must concatenate the locator’s path value and the manifest (filename.ism) file name.</span></span> <span data-ttu-id="12aa4-156">Em seguida, acrescente **/Manifest** e um formato apropriado (se necessário) ao caminho do localizador.</span><span class="sxs-lookup"><span data-stu-id="12aa4-156">Then append **/Manifest** and an appropriate format (if needed) to the locator path.</span></span>

> [!NOTE]
> <span data-ttu-id="12aa4-157">Você também pode transmitir seu conteúdo por uma conexão SSL.</span><span class="sxs-lookup"><span data-stu-id="12aa4-157">You can also stream your content over an SSL connection.</span></span> <span data-ttu-id="12aa4-158">Para fazer isso, certifique-se de que suas URLs de streaming começam com HTTPS.</span><span class="sxs-lookup"><span data-stu-id="12aa4-158">To do this, make sure your streaming URLs start with HTTPS.</span></span> <span data-ttu-id="12aa4-159">Observe que, atualmente, o AMS não dá suporte ao SSL com domínios personalizados.</span><span class="sxs-lookup"><span data-stu-id="12aa4-159">Note that, currently, AMS doesn’t support SSL with custom domains.</span></span>  
> 


<span data-ttu-id="12aa4-160">Você só poderá transmitir por SSL se o ponto de extremidade de streaming do qual você pode distribuir o conteúdo tiver sido criado depois de 10 de setembro de 2014.</span><span class="sxs-lookup"><span data-stu-id="12aa4-160">You can only stream over SSL if the streaming endpoint from which you deliver your content was created after September 10th, 2014.</span></span> <span data-ttu-id="12aa4-161">Se as URLs de streaming se basearem nos pontos de extremidade de streaming criados após 10 de setembro de 2014, a URL conterá "streaming.mediaservices.windows.net".</span><span class="sxs-lookup"><span data-stu-id="12aa4-161">If your streaming URLs are based on the streaming endpoints created after September 10th, 2014, the URL contains “streaming.mediaservices.windows.net.”</span></span> <span data-ttu-id="12aa4-162">URLs de streaming que contêm "origin.mediaservices.windows.net" (o formato antigo) não dão suporte a SSL.</span><span class="sxs-lookup"><span data-stu-id="12aa4-162">Streaming URLs that contain “origin.mediaservices.windows.net” (the old format) do not support SSL.</span></span> <span data-ttu-id="12aa4-163">Se sua URL está no formato antigo e você deseja ser capaz de transmitir por SSL, crie um novo ponto de extremidade de streaming.</span><span class="sxs-lookup"><span data-stu-id="12aa4-163">If your URL is in the old format and you want to be able to stream over SSL, create a new streaming endpoint.</span></span> <span data-ttu-id="12aa4-164">Use as URLs baseadas no novo ponto de extremidade de streaming para transmitir conteúdo por SSL.</span><span class="sxs-lookup"><span data-stu-id="12aa4-164">Use URLs based on the new streaming endpoint to stream your content over SSL.</span></span>

## <a name="streaming-url-formats"></a><span data-ttu-id="12aa4-165">Formatos de URL de streaming</span><span class="sxs-lookup"><span data-stu-id="12aa4-165">Streaming URL formats</span></span>
### <a name="mpeg-dash-format"></a><span data-ttu-id="12aa4-166">Formato MPEG-DASH</span><span class="sxs-lookup"><span data-stu-id="12aa4-166">MPEG-DASH format</span></span>
<span data-ttu-id="12aa4-167">{nome do ponto de extremidade de streaming - nome de conta dos serviços de mídia}.streaming.mediaservices.windows.net/{ID do localizador}/{nome do arquivo}.ism/Manifest(format=mpd-time-csf)</span><span class="sxs-lookup"><span data-stu-id="12aa4-167">{streaming endpoint name-media services account name}.streaming.mediaservices.windows.net/{locator ID}/{filename}.ism/Manifest(format=mpd-time-csf)</span></span>

<span data-ttu-id="12aa4-168">http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=mpd-time-csf)</span><span class="sxs-lookup"><span data-stu-id="12aa4-168">http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=mpd-time-csf)</span></span>

### <a name="apple-http-live-streaming-hls-v4-format"></a><span data-ttu-id="12aa4-169">Formato Apple HTTP Live Streaming (HLS) V4</span><span class="sxs-lookup"><span data-stu-id="12aa4-169">Apple HTTP Live Streaming (HLS) V4 format</span></span>
<span data-ttu-id="12aa4-170">{nome do ponto de extremidade de streaming - nome de conta dos serviços de mídia}.streaming.mediaservices.windows.net/{ID do localizador}/{nome do arquivo}.ism/Manifest(format=m3u8-aapl)</span><span class="sxs-lookup"><span data-stu-id="12aa4-170">{streaming endpoint name-media services account name}.streaming.mediaservices.windows.net/{locator ID}/{filename}.ism/Manifest(format=m3u8-aapl)</span></span>

<span data-ttu-id="12aa4-171">http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=m3u8-aapl)</span><span class="sxs-lookup"><span data-stu-id="12aa4-171">http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=m3u8-aapl)</span></span>

### <a name="apple-http-live-streaming-hls-v3-format"></a><span data-ttu-id="12aa4-172">Formato Apple HTTP Live Streaming (HLS) V3</span><span class="sxs-lookup"><span data-stu-id="12aa4-172">Apple HTTP Live Streaming (HLS) V3 format</span></span>
<span data-ttu-id="12aa4-173">{nome do ponto de extremidade de streaming - nome de conta dos serviços de mídia}.streaming.mediaservices.windows.net/{ID do localizador}/{nome do arquivo}.ism/Manifest(format=m3u8-aapl-v3)</span><span class="sxs-lookup"><span data-stu-id="12aa4-173">{streaming endpoint name-media services account name}.streaming.mediaservices.windows.net/{locator ID}/{filename}.ism/Manifest(format=m3u8-aapl-v3)</span></span>

<span data-ttu-id="12aa4-174">http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=m3u8-aapl-v3)</span><span class="sxs-lookup"><span data-stu-id="12aa4-174">http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=m3u8-aapl-v3)</span></span>

### <a name="apple-http-live-streaming-hls-format-with-audio-only-filter"></a><span data-ttu-id="12aa4-175">Formato HLS (Apple HTTP Live Streaming) com filtro somente áudio</span><span class="sxs-lookup"><span data-stu-id="12aa4-175">Apple HTTP Live Streaming (HLS) format with audio-only filter</span></span>
<span data-ttu-id="12aa4-176">Por padrão, faixas somente áudio são incluídas no manifesto do HLS.</span><span class="sxs-lookup"><span data-stu-id="12aa4-176">By default, audio-only tracks are included in the HLS manifest.</span></span> <span data-ttu-id="12aa4-177">Isso é necessário na certificação da Apple Store para redes de celular.</span><span class="sxs-lookup"><span data-stu-id="12aa4-177">This is required for Apple Store certification for cellular networks.</span></span> <span data-ttu-id="12aa4-178">Nesse caso, se um cliente não tiver largura de banda suficiente ou estiver conectado por uma conexão 2G, a reprodução será alternada para somente áudio.</span><span class="sxs-lookup"><span data-stu-id="12aa4-178">In this case, if a client doesn’t have sufficient bandwidth or is connected over a 2G connection, playback switches to audio-only.</span></span> <span data-ttu-id="12aa4-179">Isso ajuda a manter o streaming do conteúdo sem buffer, mas sem vídeo.</span><span class="sxs-lookup"><span data-stu-id="12aa4-179">This helps to keep content streaming without buffering, but there is no video.</span></span> <span data-ttu-id="12aa4-180">Em alguns cenários, o buffer do player pode ser preferível a somente áudio.</span><span class="sxs-lookup"><span data-stu-id="12aa4-180">In some scenarios, player buffering might be preferred over audio-only.</span></span> <span data-ttu-id="12aa4-181">Se desejar remover a faixa somente áudio, adicione **audio-only=false** à URL.</span><span class="sxs-lookup"><span data-stu-id="12aa4-181">If you want to remove the audio-only track, add **audio-only=false** to the URL.</span></span>

<span data-ttu-id="12aa4-182">http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=m3u8-aapl-v3,audio-only=false)</span><span class="sxs-lookup"><span data-stu-id="12aa4-182">http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=m3u8-aapl-v3,audio-only=false)</span></span>

<span data-ttu-id="12aa4-183">Para saber mais, confira [Dynamic Manifest Composition support and HLS output additional features (Suporte à Composição de Manifesto Dinâmico e recursos adicionais da saída de HLS)](https://azure.microsoft.com/blog/azure-media-services-release-dynamic-manifest-composition-remove-hls-audio-only-track-and-hls-i-frame-track-support/).</span><span class="sxs-lookup"><span data-stu-id="12aa4-183">For more information, see [Dynamic Manifest Composition support and HLS output additional features](https://azure.microsoft.com/blog/azure-media-services-release-dynamic-manifest-composition-remove-hls-audio-only-track-and-hls-i-frame-track-support/).</span></span>

### <a name="smooth-streaming-format"></a><span data-ttu-id="12aa4-184">Formato Smooth Streaming</span><span class="sxs-lookup"><span data-stu-id="12aa4-184">Smooth Streaming format</span></span>
<span data-ttu-id="12aa4-185">{nome do ponto de extremidade de streaming - nome de conta do dos serviços de mídia}.streaming.mediaservices.windows.net/{ID do localizador}/{nome do arqui}.ism/Manifest</span><span class="sxs-lookup"><span data-stu-id="12aa4-185">{streaming endpoint name-media services account name}.streaming.mediaservices.windows.net/{locator ID}/{filename}.ism/Manifest</span></span>

<span data-ttu-id="12aa4-186">Exemplo:</span><span class="sxs-lookup"><span data-stu-id="12aa4-186">Example:</span></span>

<span data-ttu-id="12aa4-187">http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest</span><span class="sxs-lookup"><span data-stu-id="12aa4-187">http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest</span></span>

### <span data-ttu-id="12aa4-188"><a id="fmp4_v20"></a>Manifesto do Smooth Streaming 2.0 (manifesto herdado)</span><span class="sxs-lookup"><span data-stu-id="12aa4-188"><a id="fmp4_v20"></a>Smooth Streaming 2.0 manifest (legacy manifest)</span></span>
<span data-ttu-id="12aa4-189">Por padrão, o formato de manifesto do Smooth Streaming contém a marca de repetição (r-tag).</span><span class="sxs-lookup"><span data-stu-id="12aa4-189">By default, Smooth Streaming manifest format contains the repeat tag (r-tag).</span></span> <span data-ttu-id="12aa4-190">No entanto, alguns jogadores não dão suporte à r-tag.</span><span class="sxs-lookup"><span data-stu-id="12aa4-190">However, some players do not support the r-tag.</span></span> <span data-ttu-id="12aa4-191">Os clientes com esses players podem usar um formato que desabilita a r-tag:</span><span class="sxs-lookup"><span data-stu-id="12aa4-191">Clients with these players can use a format that disables the r-tag:</span></span>

<span data-ttu-id="12aa4-192">{nome do ponto de extremidade de streaming - nome de conta dos serviços de mídia}.streaming.mediaservices.windows.net/{ID do localizador}/{nome do arquivo}.ism/Manifest(format=fmp4-v20)</span><span class="sxs-lookup"><span data-stu-id="12aa4-192">{streaming endpoint name-media services account name}.streaming.mediaservices.windows.net/{locator ID}/{filename}.ism/Manifest(format=fmp4-v20)</span></span>

    http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=fmp4-v20)

## <a name="progressive-download"></a><span data-ttu-id="12aa4-193">Download progressivo</span><span class="sxs-lookup"><span data-stu-id="12aa4-193">Progressive download</span></span>
<span data-ttu-id="12aa4-194">Com o download progressivo, é possível iniciar a reprodução da mídia antes de o arquivo inteiro ter sido baixado.</span><span class="sxs-lookup"><span data-stu-id="12aa4-194">With progressive download, you can start playing media before the entire file has been downloaded.</span></span> <span data-ttu-id="12aa4-195">Você não pode baixar progressivamente arquivos .ism* (ismv, isma, ismt ou ismc).</span><span class="sxs-lookup"><span data-stu-id="12aa4-195">You cannot progressively download .ism* (ismv, isma, ismt, or ismc) files.</span></span>

<span data-ttu-id="12aa4-196">Para baixar conteúdo progressivamente, use o tipo de localizador OnDemandOrigin.</span><span class="sxs-lookup"><span data-stu-id="12aa4-196">To progressively download content, use the OnDemandOrigin type of locator.</span></span> <span data-ttu-id="12aa4-197">O exemplo a seguir mostra a URL que é baseada no tipo de localizador OnDemandOrigin:</span><span class="sxs-lookup"><span data-stu-id="12aa4-197">The following example shows the URL that is based on the OnDemandOrigin type of locator:</span></span>

    http://amstest1.streaming.mediaservices.windows.net/3c5fe676-199c-4620-9b03-ba014900f214/BigBuckBunny_H264_650kbps_AAC_und_ch2_96kbps.mp4

<span data-ttu-id="12aa4-198">É necessário descriptografar qualquer ativo criptografado por armazenamento que você queira transmitir do serviço de origem para download progressivo.</span><span class="sxs-lookup"><span data-stu-id="12aa4-198">You must decrypt any storage-encrypted assets that you want to stream from the origin service for progressive download.</span></span>

## <a name="download"></a><span data-ttu-id="12aa4-199">Baixar</span><span class="sxs-lookup"><span data-stu-id="12aa4-199">Download</span></span>
<span data-ttu-id="12aa4-200">Para baixar o conteúdo em um dispositivo de cliente, você deve criar um localizador SAS.</span><span class="sxs-lookup"><span data-stu-id="12aa4-200">To download your content to a client device, you must create a SAS Locator.</span></span> <span data-ttu-id="12aa4-201">O localizador SAS dá acesso ao contêiner do Armazenamento do Azure em que o arquivo está localizado.</span><span class="sxs-lookup"><span data-stu-id="12aa4-201">The SAS locator gives you access to the Azure Storage container where your file is located.</span></span> <span data-ttu-id="12aa4-202">Para criar a URL de download, você deve inserir o nome do arquivo entre o host e a assinatura SAS.</span><span class="sxs-lookup"><span data-stu-id="12aa4-202">To build the download URL, you have to embed the file name between the host and SAS signature.</span></span>

<span data-ttu-id="12aa4-203">O seguinte exemplo mostra a URL que se baseia no localizador SAS:</span><span class="sxs-lookup"><span data-stu-id="12aa4-203">The following example shows the URL that is based on the SAS locator:</span></span>

    https://test001.blob.core.windows.net/asset-ca7a4c3f-9eb5-4fd8-a898-459cb17761bd/BigBuckBunny.mp4?sv=2012-02-12&se=2014-05-03T01%3A23%3A50Z&sr=c&si=7c093e7c-7dab-45b4-beb4-2bfdff764bb5&sig=msEHP90c6JHXEOtTyIWqD7xio91GtVg0UIzjdpFscHk%3D

<span data-ttu-id="12aa4-204">As seguintes considerações se aplicam:</span><span class="sxs-lookup"><span data-stu-id="12aa4-204">The following considerations apply:</span></span>

* <span data-ttu-id="12aa4-205">É necessário descriptografar qualquer ativo criptografado por armazenamento que você queira transmitir do serviço de origem para download progressivo.</span><span class="sxs-lookup"><span data-stu-id="12aa4-205">You must decrypt any storage-encrypted assets that you want to stream from the origin service for progressive download.</span></span>
* <span data-ttu-id="12aa4-206">Um download que não foi concluído em 12 horas, falhará.</span><span class="sxs-lookup"><span data-stu-id="12aa4-206">A download that has not finished within 12 hours will fail.</span></span>

## <a name="streaming-endpoints"></a><span data-ttu-id="12aa4-207">Pontos de extremidade de streaming</span><span class="sxs-lookup"><span data-stu-id="12aa4-207">Streaming endpoints</span></span>

<span data-ttu-id="12aa4-208">Um ponto de extremidade de streaming representa um serviço de streaming que pode distribuir conteúdo diretamente a um aplicativo player do cliente ou a uma CDN (Rede de Distribuição de Conteúdo) para distribuição posterior.</span><span class="sxs-lookup"><span data-stu-id="12aa4-208">A streaming endpoint represents a streaming service that can deliver content directly to a client player application or to a content delivery network (CDN) for further distribution.</span></span> <span data-ttu-id="12aa4-209">O fluxo de saída de um serviço de ponto de extremidade de streaming pode ser uma transmissão ao vivo ou um ativo de vídeo sob demanda em sua conta dos Serviços de Mídia.</span><span class="sxs-lookup"><span data-stu-id="12aa4-209">The outbound stream from a streaming endpoint service can be a live stream or a video-on-demand asset in your Media Services account.</span></span> <span data-ttu-id="12aa4-210">Há dois tipos de ponto de extremidade de streaming, **Standard** e **Premium**.</span><span class="sxs-lookup"><span data-stu-id="12aa4-210">There are two types of streaming endpoints, **standard** and **premium**.</span></span> <span data-ttu-id="12aa4-211">Para saber mais, confira [Streaming endpoints overview](media-services-streaming-endpoints-overview.md) (Visão geral dos pontos de extremidade de streaming).</span><span class="sxs-lookup"><span data-stu-id="12aa4-211">For more information, see [Streaming endpoints overview](media-services-streaming-endpoints-overview.md).</span></span>

>[!NOTE]
><span data-ttu-id="12aa4-212">Quando sua conta AMS é criada, um ponto de extremidade de streaming **padrão** é adicionado à sua conta em estado **Parado**.</span><span class="sxs-lookup"><span data-stu-id="12aa4-212">When your AMS account is created a **default** streaming endpoint is added to your account in the **Stopped** state.</span></span> <span data-ttu-id="12aa4-213">Para iniciar seu conteúdo de streaming e tirar proveito do empacotamento dinâmico e da criptografia dinâmica, o ponto de extremidade de streaming do qual você deseja transmitir o conteúdo deve estar em estado **Executando**.</span><span class="sxs-lookup"><span data-stu-id="12aa4-213">To start streaming your content and take advantage of dynamic packaging and dynamic encryption, the streaming endpoint from which you want to stream content has to be in the **Running** state.</span></span> 

## <a name="known-issues"></a><span data-ttu-id="12aa4-214">Problemas conhecidos</span><span class="sxs-lookup"><span data-stu-id="12aa4-214">Known issues</span></span>
### <a name="changes-to-smooth-streaming-manifest-version"></a><span data-ttu-id="12aa4-215">Alterações na versão do manifesto do Smooth Streaming</span><span class="sxs-lookup"><span data-stu-id="12aa4-215">Changes to Smooth Streaming manifest version</span></span>
<span data-ttu-id="12aa4-216">Antes da liberação do serviço em julho de 2016 — quando ativos produzidos pelo Codificador de Mídia Padrão, Fluxo de Trabalho Premium de Codificação de Mídia ou o antigo Codificador de Mídia do Azure eram transmitidos usando o empacotamento dinâmico — o manifesto Smooth Streaming retornado seria conforme à versão 2.0.</span><span class="sxs-lookup"><span data-stu-id="12aa4-216">Before the July 2016 service release--when assets produced by Media Encoder Standard, Media Encoder Premium Workflow, or the earlier Azure Media Encoder were streamed by using dynamic packaging--the Smooth Streaming manifest returned would conform to version 2.0.</span></span> <span data-ttu-id="12aa4-217">Na versão 2.0, as durações de fragmento não usam as chamadas marcações de repetição ('r').</span><span class="sxs-lookup"><span data-stu-id="12aa4-217">In version 2.0, the fragment durations do not use the so-called repeat (‘r’) tags.</span></span> <span data-ttu-id="12aa4-218">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="12aa4-218">For example:</span></span>

<?xml version="1.0" encoding="UTF-8"?>
    <SmoothStreamingMedia MajorVersion="2" MinorVersion="0" Duration="8000" TimeScale="1000">
        <StreamIndex Chunks="4" Type="video" Url="QualityLevels({bitrate})/Fragments(video={start time})" QualityLevels="3" Subtype="" Name="video" TimeScale="1000">
            <QualityLevel Index="0" Bitrate="1000000" FourCC="AVC1" MaxWidth="640" MaxHeight="360" CodecPrivateData="00000001674D4029965201405FF2E02A100000030010000003032E0A000F42400040167F18E3050007A12000200B3F8C70ED0B16890000000168EB7352" />
            <c t="0" d="2000" n="0" />
            <c d="2000" />
            <c d="2000" />
            <c d="2000" />
        </StreamIndex>
    </SmoothStreamingMedia>

<span data-ttu-id="12aa4-219">Na liberação do serviço de julho de 2016, o manifesto do Smooth Streaming gerado está em conformidade com a versão 2.2, com durações de fragmentos que usam marcações de repetição.</span><span class="sxs-lookup"><span data-stu-id="12aa4-219">In the July 2016 service release, the generated Smooth Streaming manifest conforms to version 2.2, with fragment durations using repeat tags.</span></span> <span data-ttu-id="12aa4-220">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="12aa4-220">For example:</span></span>

    <?xml version="1.0" encoding="UTF-8"?>
    <SmoothStreamingMedia MajorVersion="2" MinorVersion="2" Duration="8000" TimeScale="1000">
        <StreamIndex Chunks="4" Type="video" Url="QualityLevels({bitrate})/Fragments(video={start time})" QualityLevels="3" Subtype="" Name="video" TimeScale="1000">
            <QualityLevel Index="0" Bitrate="1000000" FourCC="AVC1" MaxWidth="640" MaxHeight="360" CodecPrivateData="00000001674D4029965201405FF2E02A100000030010000003032E0A000F42400040167F18E3050007A12000200B3F8C70ED0B16890000000168EB7352" />
            <c t="0" d="2000" r="4" />
        </StreamIndex>
    </SmoothStreamingMedia>

<span data-ttu-id="12aa4-221">Alguns dos clientes herdados do Smooth Streaming podem não dar suporte às marcações de repetição e falharão durante o carregamento do manifesto.</span><span class="sxs-lookup"><span data-stu-id="12aa4-221">Some of the legacy Smooth Streaming clients may not support the repeat tags and will fail to load the manifest.</span></span> <span data-ttu-id="12aa4-222">Para atenuar esse problema, você pode usar o parâmetro de formato do manifesto herdado **(format=fmp4-v20)** ou atualizar o cliente para a versão mais recente, que dá suporte a marcações de repetição.</span><span class="sxs-lookup"><span data-stu-id="12aa4-222">To mitigate this issue, you can use the legacy manifest format parameter **(format=fmp4-v20)** or update your client to the latest version, which supports repeat tags.</span></span> <span data-ttu-id="12aa4-223">Para obter mais informações, confira [Smooth Streaming 2.0](media-services-deliver-content-overview.md#fmp4_v20).</span><span class="sxs-lookup"><span data-stu-id="12aa4-223">For more information, see [Smooth Streaming 2.0](media-services-deliver-content-overview.md#fmp4_v20).</span></span>

## <a name="media-services-learning-paths"></a><span data-ttu-id="12aa4-224">Roteiros de aprendizagem dos Serviços de Mídia</span><span class="sxs-lookup"><span data-stu-id="12aa4-224">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a><span data-ttu-id="12aa4-225">Fornecer comentários</span><span class="sxs-lookup"><span data-stu-id="12aa4-225">Provide feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]

## <a name="related-topics"></a><span data-ttu-id="12aa4-226">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="12aa4-226">Related topics</span></span>
[<span data-ttu-id="12aa4-227">Atualizar localizadores dos Serviços de Mídia depois de implantar chaves de armazenamento</span><span class="sxs-lookup"><span data-stu-id="12aa4-227">Update Media Services locators after rolling storage keys</span></span>](media-services-roll-storage-access-keys.md)

