---
title: "Visão geral do modelo de licença aaaWidevine | Microsoft Docs"
description: "Este tópico fornece uma visão geral de um modelo de licença Widevine usado tooconfigure Widevine licenças."
author: juliako
manager: cfowler
editor: 
services: media-services
documentationcenter: 
ms.assetid: 0e6f1f05-7ed6-4ed6-82a0-0cc2182b075a
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/29/2017
ms.author: juliako
ms.openlocfilehash: 67a6ae38cf3d3c21e1b7282aef15f79b21776414
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="widevine-license-template-overview"></a><span data-ttu-id="7ecc3-103">Visão geral do modelo de licença do Widevine</span><span class="sxs-lookup"><span data-stu-id="7ecc3-103">Widevine license template overview</span></span>
## <a name="overview"></a><span data-ttu-id="7ecc3-104">Visão geral</span><span class="sxs-lookup"><span data-stu-id="7ecc3-104">Overview</span></span>
<span data-ttu-id="7ecc3-105">Serviços de mídia do Azure agora permite que você os licenças Widevine tooconfigure e solicitação.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-105">Azure Media Services now enables you tooconfigure and request Widevine licenses.</span></span> <span data-ttu-id="7ecc3-106">Quando o player de saudação do usuário final tenta tooplay seu conteúdo Widevine protegido, uma solicitação é enviada toohello licença entrega serviço tooobtain uma licença.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-106">When hello end user player tries tooplay your Widevine protected content, a request is sent toohello license delivery service tooobtain a license.</span></span> <span data-ttu-id="7ecc3-107">Se o serviço de licença Olá Aprovar solicitação de Olá, ele emite licença saudação que é enviada toohello cliente e pode ser usado toodecrypt e play Olá conteúdo especificado.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-107">If hello license service approves hello request, it issues hello license which is sent toohello client and can be used toodecrypt and play hello specified content.</span></span>

<span data-ttu-id="7ecc3-108">A solicitação de licença do Widevine é formatada como uma mensagem JSON.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-108">Widevine license request is formatted as a JSON message.</span></span>  

>[!NOTE]
> <span data-ttu-id="7ecc3-109">Você pode escolher toocreate uma mensagem vazia com nenhuma valores apenas "{}" e um modelo de licença será criado com todos os padrões.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-109">You can choose toocreate an empty message with no values just "{}" and a license template will be created with all defaults.</span></span> <span data-ttu-id="7ecc3-110">padrão de saudação funciona na maioria dos casos.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-110">hello default works for most cases.</span></span> <span data-ttu-id="7ecc3-111">Por exemplo, para cenários de entrega de licença com base em MS que sempre devem ser o padrão.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-111">For example, for MS based license delivery scenarios that should always be default.</span></span> <span data-ttu-id="7ecc3-112">Se você precisar tooset hello "provedor" e "content_id" valores, um provedor deve corresponder às credenciais de Widevine do Google.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-112">If you do need tooset hello "provider" and "content_id" values, a provider must match Google's Widevine credentials.</span></span>

    {  
       “payload”:“<license challenge>”,
       “content_id”: “<content id>” 
       “provider”: ”<provider>”
       “allowed_track_types”:“<types>”,
       “content_key_specs”:[  
          {  
             “track_type”:“<track type 1>”
          },
          {  
             “track_type”:“<track type 2>”
          },
          …
       ],
       “policy_overrides”:{  
          “can_play”:<can play>,
          “can persist”:<can persist>,
          “can_renew”:<can renew>,
          “rental_duration_seconds”:<rental duration>,
          “playback_duration_seconds”:<playback duration>,
          “license_duration_seconds”:<license duration>,
          “renewal_recovery_duration_seconds”:<renewal recovery duration>,
          “renewal_server_url”:”<renewal server url>”,
          “renewal_delay_seconds”:<renewal delay>,
          “renewal_retry_interval_seconds”:<renewal retry interval>,
          “renew_with_usage”:<renew with usage>
       }
    }

## <a name="json-message"></a><span data-ttu-id="7ecc3-113">Mensagem JSON</span><span class="sxs-lookup"><span data-stu-id="7ecc3-113">JSON message</span></span>
| <span data-ttu-id="7ecc3-114">Nome</span><span class="sxs-lookup"><span data-stu-id="7ecc3-114">Name</span></span> | <span data-ttu-id="7ecc3-115">Valor</span><span class="sxs-lookup"><span data-stu-id="7ecc3-115">Value</span></span> | <span data-ttu-id="7ecc3-116">Descrição</span><span class="sxs-lookup"><span data-stu-id="7ecc3-116">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="7ecc3-117">payload</span><span class="sxs-lookup"><span data-stu-id="7ecc3-117">payload</span></span> |<span data-ttu-id="7ecc3-118">Cadeia codificada em Base64</span><span class="sxs-lookup"><span data-stu-id="7ecc3-118">Base64 encoded string</span></span> |<span data-ttu-id="7ecc3-119">solicitação de licença Olá enviada por um cliente.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-119">hello license request sent by a client.</span></span> |
| <span data-ttu-id="7ecc3-120">content_id</span><span class="sxs-lookup"><span data-stu-id="7ecc3-120">content_id</span></span> |<span data-ttu-id="7ecc3-121">Cadeia codificada em Base64</span><span class="sxs-lookup"><span data-stu-id="7ecc3-121">Base64 encoded string</span></span> |<span data-ttu-id="7ecc3-122">Identificador usado tooderive KeyId(s) e chaves de conteúdo para cada content_key_specs.track_type.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-122">Identifier used tooderive KeyId(s) and Content Key(s) for each content_key_specs.track_type.</span></span> |
| <span data-ttu-id="7ecc3-123">provider</span><span class="sxs-lookup"><span data-stu-id="7ecc3-123">provider</span></span> |<span data-ttu-id="7ecc3-124">string</span><span class="sxs-lookup"><span data-stu-id="7ecc3-124">string</span></span> |<span data-ttu-id="7ecc3-125">Toolook usada chaves de conteúdo e políticas.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-125">Used toolook up content keys and policies.</span></span> <span data-ttu-id="7ecc3-126">Se a distribuição de chaves MS é usada para entrega de licença do Widevine, esse parâmetro é ignorado.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-126">If MS key delivery is used for Widevine license delivery, this parameter is ignored.</span></span> |
| <span data-ttu-id="7ecc3-127">policy_name</span><span class="sxs-lookup"><span data-stu-id="7ecc3-127">policy_name</span></span> |<span data-ttu-id="7ecc3-128">string</span><span class="sxs-lookup"><span data-stu-id="7ecc3-128">string</span></span> |<span data-ttu-id="7ecc3-129">Nome de uma política registrada anteriormente.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-129">Name of a previously registered policy.</span></span> <span data-ttu-id="7ecc3-130">Opcional</span><span class="sxs-lookup"><span data-stu-id="7ecc3-130">Optional</span></span> |
| <span data-ttu-id="7ecc3-131">allowed_track_types</span><span class="sxs-lookup"><span data-stu-id="7ecc3-131">allowed_track_types</span></span> |<span data-ttu-id="7ecc3-132">enum</span><span class="sxs-lookup"><span data-stu-id="7ecc3-132">enum</span></span> |<span data-ttu-id="7ecc3-133">SD_ONLY ou SD_HD.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-133">SD_ONLY or SD_HD.</span></span> <span data-ttu-id="7ecc3-134">Controla quais chaves de conteúdo devem ser incluídas em uma licença</span><span class="sxs-lookup"><span data-stu-id="7ecc3-134">Controls which content keys should be included in a license</span></span> |
| <span data-ttu-id="7ecc3-135">content_key_specs</span><span class="sxs-lookup"><span data-stu-id="7ecc3-135">content_key_specs</span></span> |<span data-ttu-id="7ecc3-136">matriz de estruturas JSON, confira **Especificações de chave de conteúdo** abaixo</span><span class="sxs-lookup"><span data-stu-id="7ecc3-136">array of JSON structures, see **Content Key Specs** below</span></span> |<span data-ttu-id="7ecc3-137">Um controle mais preciso sobre qual conteúdo chaves tooreturn.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-137">A finer grained control on what content keys tooreturn.</span></span> <span data-ttu-id="7ecc3-138">Confira Especificações de chave de conteúdo a seguir para obter detalhes.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-138">See Content Key Spec below for details.</span></span>  <span data-ttu-id="7ecc3-139">Apenas um entre allowed_track_types e content_key_specs pode ser especificado.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-139">Only one of allowed_track_types and content_key_specs can be specified.</span></span> |
| <span data-ttu-id="7ecc3-140">use_policy_overrides_exclusively</span><span class="sxs-lookup"><span data-stu-id="7ecc3-140">use_policy_overrides_exclusively</span></span> |<span data-ttu-id="7ecc3-141">booliano.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-141">boolean.</span></span> <span data-ttu-id="7ecc3-142">true ou false</span><span class="sxs-lookup"><span data-stu-id="7ecc3-142">true or false</span></span> |<span data-ttu-id="7ecc3-143">Use os atributos de política especificados por policy_overrides e omita todas as políticas armazenadas anteriormente.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-143">Use policy attributes specified by policy_overrides and omit all previously stored policy.</span></span> |
| <span data-ttu-id="7ecc3-144">policy_overrides</span><span class="sxs-lookup"><span data-stu-id="7ecc3-144">policy_overrides</span></span> |<span data-ttu-id="7ecc3-145">Estrutura JSON, confira **Substituições de política** abaixo</span><span class="sxs-lookup"><span data-stu-id="7ecc3-145">JSON structure, see **Policy Overrides** below</span></span> |<span data-ttu-id="7ecc3-146">Configurações de política para esta licença.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-146">Policy settings for this license.</span></span>  <span data-ttu-id="7ecc3-147">No evento de saudação ativo tem uma política predefinida, esses valores especificados serão usados.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-147">In hello event this asset has a pre-defined policy, these specified values will be used.</span></span> |
| <span data-ttu-id="7ecc3-148">session_init</span><span class="sxs-lookup"><span data-stu-id="7ecc3-148">session_init</span></span> |<span data-ttu-id="7ecc3-149">Estrutura JSON, confira **Inicialização da sessão** abaixo</span><span class="sxs-lookup"><span data-stu-id="7ecc3-149">JSON structure, see **Session Initialization** below</span></span> |<span data-ttu-id="7ecc3-150">Dados opcionais passado toolicense.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-150">Optional data passed toolicense.</span></span> |
| <span data-ttu-id="7ecc3-151">parse_only</span><span class="sxs-lookup"><span data-stu-id="7ecc3-151">parse_only</span></span> |<span data-ttu-id="7ecc3-152">booliano.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-152">boolean.</span></span> <span data-ttu-id="7ecc3-153">true ou false</span><span class="sxs-lookup"><span data-stu-id="7ecc3-153">true or false</span></span> |<span data-ttu-id="7ecc3-154">solicitação de licença Olá é analisada, mas nenhuma licença é emitida.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-154">hello license request is parsed but no license is issued.</span></span> <span data-ttu-id="7ecc3-155">No entanto, a solicitação de licença de saudação de formulário de valores são retornados na resposta de hello.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-155">However, values form hello license request are returned in hello response.</span></span> |

## <a name="content-key-specs"></a><span data-ttu-id="7ecc3-156">Especificações de chave de conteúdo</span><span class="sxs-lookup"><span data-stu-id="7ecc3-156">Content Key Specs</span></span>
<span data-ttu-id="7ecc3-157">Se existir uma política já existente, não há nenhum toospecify necessidade qualquer Olá valores em Olá especificação de chave de conteúdo.  Olá uma diretiva preexistente associada a esse conteúdo será usado toodetermine Olá saída proteção como HDCP e CGMS.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-157">If a pre-existing policy exist, there is no need toospecify any of hello values in hello Content Key Spec.  hello pre-existing policy associated with this content will be used toodetermine hello output protection such as HDCP and CGMS.</span></span>  <span data-ttu-id="7ecc3-158">Se uma política pré-existente não estiver registrada com o servidor de licenças Widevine de hello, provedor de conteúdo de saudação pode injetar valores hello na solicitação de licença hello.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-158">If a pre-existing policy is not registered with hello Widevine License Server, hello content provider can inject hello values into hello license request.</span></span>   

<span data-ttu-id="7ecc3-159">Cada content_key_specs deve ser especificado para todas as faixas, independentemente de saudação opção use_policy_overrides_exclusively.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-159">Each content_key_specs must be specified for all tracks, regardless of hello option use_policy_overrides_exclusively.</span></span> 

| <span data-ttu-id="7ecc3-160">Nome</span><span class="sxs-lookup"><span data-stu-id="7ecc3-160">Name</span></span> | <span data-ttu-id="7ecc3-161">Valor</span><span class="sxs-lookup"><span data-stu-id="7ecc3-161">Value</span></span> | <span data-ttu-id="7ecc3-162">Descrição</span><span class="sxs-lookup"><span data-stu-id="7ecc3-162">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="7ecc3-163">content_key_specs.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-163">content_key_specs.</span></span> <span data-ttu-id="7ecc3-164">track_type</span><span class="sxs-lookup"><span data-stu-id="7ecc3-164">track_type</span></span> |<span data-ttu-id="7ecc3-165">string</span><span class="sxs-lookup"><span data-stu-id="7ecc3-165">string</span></span> |<span data-ttu-id="7ecc3-166">Um nome de tipo de controle.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-166">A track type name.</span></span> <span data-ttu-id="7ecc3-167">Se content_key_specs for especificado na solicitação de licença hello, explicitamente tornar toospecify-se de que todos os controlam como tipos.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-167">If content_key_specs is specified in hello license request, make sure toospecify all track types explicitly.</span></span> <span data-ttu-id="7ecc3-168">Falha toodo portanto resultará em falha tooplayback últimos 10 segundos.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-168">Failure toodo so will result in failure tooplayback past 10 seconds.</span></span> |
| <span data-ttu-id="7ecc3-169">content_key_specs</span><span class="sxs-lookup"><span data-stu-id="7ecc3-169">content_key_specs</span></span>  <br/> <span data-ttu-id="7ecc3-170">security_level</span><span class="sxs-lookup"><span data-stu-id="7ecc3-170">security_level</span></span> |<span data-ttu-id="7ecc3-171">uint32</span><span class="sxs-lookup"><span data-stu-id="7ecc3-171">uint32</span></span> |<span data-ttu-id="7ecc3-172">Define os requisitos de robustez de reprodução do cliente.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-172">Defines client robustness requirements for playback.</span></span> <br/> <span data-ttu-id="7ecc3-173">1 - É necessário aplicar a criptografia whitebox baseada em software.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-173">1 - Software-based whitebox crypto is required.</span></span> <br/> <span data-ttu-id="7ecc3-174">2 - É necessário aplicar a criptografia de software e um decodificador ofuscado.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-174">2 - Software crypto and an obfuscated decoder is required.</span></span> <br/> <span data-ttu-id="7ecc3-175">3 - operações de criptografia e material de chave de Olá devem ser executadas em um ambiente de execução confiável de backup de hardware.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-175">3 - hello key material and crypto operations must be performed within a hardware backed trusted execution environment.</span></span> <br/> <span data-ttu-id="7ecc3-176">4 - Olá, criptografia e decodificação de conteúdo deve ser executada em um ambiente de execução confiável de backup de hardware.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-176">4 - hello crypto and decoding of content must be performed within a hardware backed trusted execution environment.</span></span>  <br/> <span data-ttu-id="7ecc3-177">5 - Olá, criptografia e decodificação todos manipulação de mídia hello (compactado e descompactado) deve ser tratado em um ambiente de execução confiável de backup de hardware.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-177">5 - hello crypto, decoding and all handling of hello media (compressed and uncompressed) must be handled within a hardware backed trusted execution environment.</span></span> |
| <span data-ttu-id="7ecc3-178">content_key_specs</span><span class="sxs-lookup"><span data-stu-id="7ecc3-178">content_key_specs</span></span> <br/> <span data-ttu-id="7ecc3-179">required_output_protection.hdc</span><span class="sxs-lookup"><span data-stu-id="7ecc3-179">required_output_protection.hdc</span></span> |<span data-ttu-id="7ecc3-180">cadeia de caracteres - uma das seguintes: HDCP_NONE, HDCP_V1, HDCP_V2</span><span class="sxs-lookup"><span data-stu-id="7ecc3-180">string - one of: HDCP_NONE, HDCP_V1, HDCP_V2</span></span> |<span data-ttu-id="7ecc3-181">Indica se HDCP é necessário</span><span class="sxs-lookup"><span data-stu-id="7ecc3-181">Indicates whether HDCP is require</span></span> |
| <span data-ttu-id="7ecc3-182">content_key_specs</span><span class="sxs-lookup"><span data-stu-id="7ecc3-182">content_key_specs</span></span> <br/><span data-ttu-id="7ecc3-183">chave</span><span class="sxs-lookup"><span data-stu-id="7ecc3-183">key</span></span> |<span data-ttu-id="7ecc3-184">Cadeia codificada em </span><span class="sxs-lookup"><span data-stu-id="7ecc3-184">Base64</span></span> <br/><span data-ttu-id="7ecc3-185">Base64</span><span class="sxs-lookup"><span data-stu-id="7ecc3-185">encoded string</span></span> |<span data-ttu-id="7ecc3-186">Conteúdo toouse chave para este controle. Se especificado, Olá track_type ou key_id é necessário.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-186">Content key toouse for this track. If specified, hello track_type or key_id is required.</span></span>  <span data-ttu-id="7ecc3-187">Esta opção permite ao provedor de conteúdo de saudação chave de conteúdo tooinject Olá para esta faixa em vez de deixar o servidor de licenças Widevine gerar ou de uma chave de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-187">This option allows hello content provider tooinject hello content key for this track instead of letting Widevine license server generate or lookup a key.</span></span> |
| <span data-ttu-id="7ecc3-188">content_key_specs.key_id</span><span class="sxs-lookup"><span data-stu-id="7ecc3-188">content_key_specs.key_id</span></span> |<span data-ttu-id="7ecc3-189">Binário de cadeia de caracteres codificada em Base64, 16 bytes</span><span class="sxs-lookup"><span data-stu-id="7ecc3-189">Base64 encoded string  binary, 16 bytes</span></span> |<span data-ttu-id="7ecc3-190">Identificador exclusivo para a chave de saudação.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-190">Unique identifier for hello key.</span></span> |

## <a name="policy-overrides"></a><span data-ttu-id="7ecc3-191">Substituições de política</span><span class="sxs-lookup"><span data-stu-id="7ecc3-191">Policy Overrides</span></span>
| <span data-ttu-id="7ecc3-192">Nome</span><span class="sxs-lookup"><span data-stu-id="7ecc3-192">Name</span></span> | <span data-ttu-id="7ecc3-193">Valor</span><span class="sxs-lookup"><span data-stu-id="7ecc3-193">Value</span></span> | <span data-ttu-id="7ecc3-194">Descrição</span><span class="sxs-lookup"><span data-stu-id="7ecc3-194">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="7ecc3-195">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-195">policy_overrides.</span></span> <span data-ttu-id="7ecc3-196">can_play</span><span class="sxs-lookup"><span data-stu-id="7ecc3-196">can_play</span></span> |<span data-ttu-id="7ecc3-197">booliano.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-197">boolean.</span></span> <span data-ttu-id="7ecc3-198">true ou false</span><span class="sxs-lookup"><span data-stu-id="7ecc3-198">true or false</span></span> |<span data-ttu-id="7ecc3-199">Indica que a reprodução de saudação conteúdo é permitido.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-199">Indicates that playback of hello content is allowed.</span></span> <span data-ttu-id="7ecc3-200">O padrão é falso.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-200">Default is false.</span></span> |
| <span data-ttu-id="7ecc3-201">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-201">policy_overrides.</span></span> <span data-ttu-id="7ecc3-202">can_persist</span><span class="sxs-lookup"><span data-stu-id="7ecc3-202">can_persist</span></span> |<span data-ttu-id="7ecc3-203">booliano.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-203">boolean.</span></span> <span data-ttu-id="7ecc3-204">true ou false</span><span class="sxs-lookup"><span data-stu-id="7ecc3-204">true or false</span></span> |<span data-ttu-id="7ecc3-205">Indica a que licença Olá pode ser persistente toonon volátil para uso offline.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-205">Indicates that hello license may be persisted toonon-volatile storage for offline use.</span></span> <span data-ttu-id="7ecc3-206">O padrão é falso.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-206">Default is false.</span></span> |
| <span data-ttu-id="7ecc3-207">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-207">policy_overrides.</span></span> <span data-ttu-id="7ecc3-208">can_renew</span><span class="sxs-lookup"><span data-stu-id="7ecc3-208">can_renew</span></span> |<span data-ttu-id="7ecc3-209">booliano true ou false</span><span class="sxs-lookup"><span data-stu-id="7ecc3-209">boolean true or false</span></span> |<span data-ttu-id="7ecc3-210">Indica que a renovação dessa licença é permitida.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-210">Indicates that renewal of this license is allowed.</span></span> <span data-ttu-id="7ecc3-211">Se true, duração de saudação da licença Olá pode ser estendida por pulsação.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-211">If true, hello duration of hello license can be extended by heartbeat.</span></span> <span data-ttu-id="7ecc3-212">O padrão é falso.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-212">Default is false.</span></span> |
| <span data-ttu-id="7ecc3-213">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-213">policy_overrides.</span></span> <span data-ttu-id="7ecc3-214">license_duration_seconds</span><span class="sxs-lookup"><span data-stu-id="7ecc3-214">license_duration_seconds</span></span> |<span data-ttu-id="7ecc3-215">int64</span><span class="sxs-lookup"><span data-stu-id="7ecc3-215">int64</span></span> |<span data-ttu-id="7ecc3-216">Indica a janela de tempo de saudação para esta licença específica.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-216">Indicates hello time window for this specific license.</span></span> <span data-ttu-id="7ecc3-217">Um valor de 0 indica que não há nenhuma duração toohello de limite.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-217">A value of 0 indicates that there is no limit toohello duration.</span></span> <span data-ttu-id="7ecc3-218">O padrão é 0.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-218">Default is 0.</span></span> |
| <span data-ttu-id="7ecc3-219">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-219">policy_overrides.</span></span> <span data-ttu-id="7ecc3-220">rental_duration_seconds</span><span class="sxs-lookup"><span data-stu-id="7ecc3-220">rental_duration_seconds</span></span> |<span data-ttu-id="7ecc3-221">int64</span><span class="sxs-lookup"><span data-stu-id="7ecc3-221">int64</span></span> |<span data-ttu-id="7ecc3-222">Indica a janela de tempo de saudação enquanto a reprodução é permitida.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-222">Indicates hello time window while playback is permitted.</span></span> <span data-ttu-id="7ecc3-223">Um valor de 0 indica que não há nenhuma duração toohello de limite.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-223">A value of 0 indicates that there is no limit toohello duration.</span></span> <span data-ttu-id="7ecc3-224">O padrão é 0.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-224">Default is 0.</span></span> |
| <span data-ttu-id="7ecc3-225">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-225">policy_overrides.</span></span> <span data-ttu-id="7ecc3-226">playback_duration_seconds</span><span class="sxs-lookup"><span data-stu-id="7ecc3-226">playback_duration_seconds</span></span> |<span data-ttu-id="7ecc3-227">int64</span><span class="sxs-lookup"><span data-stu-id="7ecc3-227">int64</span></span> |<span data-ttu-id="7ecc3-228">Olá exibindo a janela de tempo depois de reprodução é iniciada dentro de duração de licença hello.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-228">hello viewing window of time once playback starts within hello license duration.</span></span> <span data-ttu-id="7ecc3-229">Um valor de 0 indica que não há nenhuma duração toohello de limite.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-229">A value of 0 indicates that there is no limit toohello duration.</span></span> <span data-ttu-id="7ecc3-230">O padrão é 0.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-230">Default is 0.</span></span> |
| <span data-ttu-id="7ecc3-231">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-231">policy_overrides.</span></span> <span data-ttu-id="7ecc3-232">renewal_server_url</span><span class="sxs-lookup"><span data-stu-id="7ecc3-232">renewal_server_url</span></span> |<span data-ttu-id="7ecc3-233">string</span><span class="sxs-lookup"><span data-stu-id="7ecc3-233">string</span></span> |<span data-ttu-id="7ecc3-234">Todas as solicitações de pulsação (renovação) para esta licença deverão ser direcionadas toohello especificou a URL.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-234">All heartbeat (renewal) requests for this license shall be directed toohello specified URL.</span></span> <span data-ttu-id="7ecc3-235">Este campo só será usado se can_renew for true.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-235">This field is only used if can_renew is true.</span></span> |
| <span data-ttu-id="7ecc3-236">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-236">policy_overrides.</span></span> <span data-ttu-id="7ecc3-237">renewal_delay_seconds</span><span class="sxs-lookup"><span data-stu-id="7ecc3-237">renewal_delay_seconds</span></span> |<span data-ttu-id="7ecc3-238">int64</span><span class="sxs-lookup"><span data-stu-id="7ecc3-238">int64</span></span> |<span data-ttu-id="7ecc3-239">O número de segundos após license_start_time, antes da primeira tentativa de renovação.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-239">How many seconds after license_start_time, before renewal is first attempted.</span></span> <span data-ttu-id="7ecc3-240">Este campo só será usado se can_renew for true.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-240">This field is only used if can_renew is true.</span></span> <span data-ttu-id="7ecc3-241">O padrão é 0</span><span class="sxs-lookup"><span data-stu-id="7ecc3-241">Default is 0</span></span> |
| <span data-ttu-id="7ecc3-242">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-242">policy_overrides.</span></span> <span data-ttu-id="7ecc3-243">renewal_retry_interval_seconds</span><span class="sxs-lookup"><span data-stu-id="7ecc3-243">renewal_retry_interval_seconds</span></span> |<span data-ttu-id="7ecc3-244">int64</span><span class="sxs-lookup"><span data-stu-id="7ecc3-244">int64</span></span> |<span data-ttu-id="7ecc3-245">Especifica o atraso de saudação em segundos entre as solicitações de renovação da licença subsequentes, em caso de falha.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-245">Specifies hello delay in seconds between subsequent license renewal requests, in case of failure.</span></span> <span data-ttu-id="7ecc3-246">Este campo só será usado se can_renew for true.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-246">This field is only used if can_renew is true.</span></span> |
| <span data-ttu-id="7ecc3-247">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-247">policy_overrides.</span></span> <span data-ttu-id="7ecc3-248">renewal_recovery_duration_seconds</span><span class="sxs-lookup"><span data-stu-id="7ecc3-248">renewal_recovery_duration_seconds</span></span> |<span data-ttu-id="7ecc3-249">int64</span><span class="sxs-lookup"><span data-stu-id="7ecc3-249">int64</span></span> |<span data-ttu-id="7ecc3-250">saudação de tempo, em que a reprodução tem toocontinue durante a renovação é janela tentativa ainda malsucedida devido toobackend problemas com o servidor de licença de saudação.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-250">hello window of time, in which playback is allowed toocontinue while renewal is attempted, yet unsuccessful due toobackend problems with hello license server.</span></span> <span data-ttu-id="7ecc3-251">Um valor de 0 indica que não há nenhuma duração toohello de limite.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-251">A value of 0 indicates that there is no limit toohello duration.</span></span> <span data-ttu-id="7ecc3-252">Este campo só será usado se can_renew for true.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-252">This field is only used if can_renew is true.</span></span> |
| <span data-ttu-id="7ecc3-253">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-253">policy_overrides.</span></span> <span data-ttu-id="7ecc3-254">renew_with_usage</span><span class="sxs-lookup"><span data-stu-id="7ecc3-254">renew_with_usage</span></span> |<span data-ttu-id="7ecc3-255">booliano true ou false</span><span class="sxs-lookup"><span data-stu-id="7ecc3-255">boolean true or false</span></span> |<span data-ttu-id="7ecc3-256">Indica a que licença Olá deverão ser enviada para a renovação quando uso for iniciado.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-256">Indicates that hello license shall be sent for renewal when usage is started.</span></span> <span data-ttu-id="7ecc3-257">Este campo só será usado se can_renew for true.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-257">This field is only used if can_renew is true.</span></span> |

## <a name="session-initialization"></a><span data-ttu-id="7ecc3-258">Inicialização da sessão</span><span class="sxs-lookup"><span data-stu-id="7ecc3-258">Session Initialization</span></span>
| <span data-ttu-id="7ecc3-259">Nome</span><span class="sxs-lookup"><span data-stu-id="7ecc3-259">Name</span></span> | <span data-ttu-id="7ecc3-260">Valor</span><span class="sxs-lookup"><span data-stu-id="7ecc3-260">Value</span></span> | <span data-ttu-id="7ecc3-261">Descrição</span><span class="sxs-lookup"><span data-stu-id="7ecc3-261">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="7ecc3-262">provider_session_token</span><span class="sxs-lookup"><span data-stu-id="7ecc3-262">provider_session_token</span></span> |<span data-ttu-id="7ecc3-263">Cadeia codificada em Base64</span><span class="sxs-lookup"><span data-stu-id="7ecc3-263">Base64 encoded string</span></span> |<span data-ttu-id="7ecc3-264">Esse token de sessão for repassado em licença hello e existirá renovações subsequentes.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-264">This session token is passed back in hello license and will exist in subsequent renewals.</span></span>  <span data-ttu-id="7ecc3-265">o token de sessão Olá não persistirá além de sessões.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-265">hello session token will not persist beyond sessions.</span></span> |
| <span data-ttu-id="7ecc3-266">provider_client_token</span><span class="sxs-lookup"><span data-stu-id="7ecc3-266">provider_client_token</span></span> |<span data-ttu-id="7ecc3-267">Cadeia codificada em Base64</span><span class="sxs-lookup"><span data-stu-id="7ecc3-267">Base64 encoded string</span></span> |<span data-ttu-id="7ecc3-268">Cliente toosend token em resposta de licença hello.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-268">Client token toosend back in hello license response.</span></span>  <span data-ttu-id="7ecc3-269">Se a solicitação de licença Olá contém um token de cliente, esse valor é ignorado.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-269">If hello license request contains a client token, this value is ignored.</span></span> <span data-ttu-id="7ecc3-270">token de cliente Olá persistirá além de sessões de licença.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-270">hello client token will persist beyond license sessions.</span></span> |
| <span data-ttu-id="7ecc3-271">override_provider_client_token</span><span class="sxs-lookup"><span data-stu-id="7ecc3-271">override_provider_client_token</span></span> |<span data-ttu-id="7ecc3-272">booliano.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-272">boolean.</span></span> <span data-ttu-id="7ecc3-273">true ou false</span><span class="sxs-lookup"><span data-stu-id="7ecc3-273">true or false</span></span> |<span data-ttu-id="7ecc3-274">Se a solicitação de licença false e hello contém um token de cliente, use o token de saudação do solicitação Olá mesmo se um token de cliente foi especificado nessa estrutura.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-274">If false and hello license request contains a client token, use hello token from hello request even if a client token was specified in this structure.</span></span>  <span data-ttu-id="7ecc3-275">Se true, sempre use o token Olá especificado nessa estrutura.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-275">If true, always use hello token specified in this structure.</span></span> |

## <a name="configure-your-widevine-licenses-using-net-types"></a><span data-ttu-id="7ecc3-276">Configurar suas licenças do Widevine usando tipos .NET</span><span class="sxs-lookup"><span data-stu-id="7ecc3-276">Configure your Widevine licenses using .NET types</span></span>
<span data-ttu-id="7ecc3-277">Os Serviços de Mídia fornecem APIs .NET que permitem a configuração de suas licenças do Widevine.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-277">Media Services provides .NET APIs that let you configure your Widevine licenses.</span></span> 

### <a name="classes-as-defined-in-hello-media-services-net-sdk"></a><span data-ttu-id="7ecc3-278">Classes, conforme definido no SDK do Media Services .NET de saudação</span><span class="sxs-lookup"><span data-stu-id="7ecc3-278">Classes as defined in hello Media Services .NET SDK</span></span>
<span data-ttu-id="7ecc3-279">Olá seguem definições Olá desses tipos.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-279">hello following are hello definitions of these types.</span></span>

    public class WidevineMessage
    {
        public WidevineMessage();

        [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]
        public AllowedTrackTypes? allowed_track_types { get; set; }
        [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]
        public ContentKeySpecs[] content_key_specs { get; set; }
        [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]
        public object policy_overrides { get; set; }
    }

    [JsonConverter(typeof(StringEnumConverter))]
    public enum AllowedTrackTypes
    {
        SD_ONLY = 0,
        SD_HD = 1
    }
    public class ContentKeySpecs
    {
        public ContentKeySpecs();

        [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]
        public string key_id { get; set; }
        [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]
        public RequiredOutputProtection required_output_protection { get; set; }
        [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]
        public int? security_level { get; set; }
        [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]
        public string track_type { get; set; }
    }

    public class RequiredOutputProtection
    {
        public RequiredOutputProtection();

        public Hdcp hdcp { get; set; }
    }

    [JsonConverter(typeof(StringEnumConverter))]
    public enum Hdcp
    {
        HDCP_NONE = 0,
        HDCP_V1 = 1,
        HDCP_V2 = 2
    }

### <a name="example"></a><span data-ttu-id="7ecc3-280">Exemplo</span><span class="sxs-lookup"><span data-stu-id="7ecc3-280">Example</span></span>
<span data-ttu-id="7ecc3-281">Olá mostrado no exemplo a seguir como toouse APIs .NET tooconfigure uma licença Widevine simple.</span><span class="sxs-lookup"><span data-stu-id="7ecc3-281">hello following example shows how toouse .NET APIs tooconfigure  a simple Widevine license.</span></span>

    private static string ConfigureWidevineLicenseTemplate()
    {
        var template = new WidevineMessage
        {
            allowed_track_types = AllowedTrackTypes.SD_HD,
            content_key_specs = new[]
            {
                new ContentKeySpecs
                {
                    required_output_protection = new RequiredOutputProtection { hdcp = Hdcp.HDCP_NONE},
                    security_level = 1,
                    track_type = "SD"
                }
            },
            policy_overrides = new
            {
                can_play = true,
                can_persist = true,
                can_renew = false
            }
        };

        string configuration = JsonConvert.SerializeObject(template);
        return configuration;
    }


## <a name="media-services-learning-paths"></a><span data-ttu-id="7ecc3-282">Roteiros de aprendizagem dos Serviços de Mídia</span><span class="sxs-lookup"><span data-stu-id="7ecc3-282">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a><span data-ttu-id="7ecc3-283">Fornecer comentários</span><span class="sxs-lookup"><span data-stu-id="7ecc3-283">Provide feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]

## <a name="see-also"></a><span data-ttu-id="7ecc3-284">Consulte também</span><span class="sxs-lookup"><span data-stu-id="7ecc3-284">See also</span></span>
[<span data-ttu-id="7ecc3-285">Usando a PlayReady e/ou a Criptografia Comum Dinâmica Widevine</span><span class="sxs-lookup"><span data-stu-id="7ecc3-285">Using PlayReady and/or Widevine Dynamic Common Encryption</span></span>](media-services-protect-with-drm.md)

