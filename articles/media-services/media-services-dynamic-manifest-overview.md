---
title: "aaaFilters e manifestos dinâmicos | Microsoft Docs"
description: "Este tópico descreve como os filtros de toocreate para que seu cliente pode usá-los toostream a seções específicas de um fluxo. Serviços de mídia cria manifestos dinâmico tooarchive este fluxo seletivo."
services: media-services
documentationcenter: 
author: cenkdin
manager: cfowler
editor: 
ms.assetid: ff102765-8cee-4c08-a6da-b603db9e2054
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: ne
ms.topic: article
ms.date: 06/29/2017
ms.author: cenkd;juliako
ms.openlocfilehash: 9527a011438c11da07a363d701ea736414412ecf
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="filters-and-dynamic-manifests"></a><span data-ttu-id="b9b8e-104">Filtros e manifestos dinâmicos</span><span class="sxs-lookup"><span data-stu-id="b9b8e-104">Filters and dynamic manifests</span></span>
<span data-ttu-id="b9b8e-105">A partir da versão 2.11, serviços de mídia permitem toodefine filtros para os ativos.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-105">Starting with 2.11 release, Media Services enables you toodefine filters for your assets.</span></span> <span data-ttu-id="b9b8e-106">Esses filtros são regras de servidor que permitirá que os clientes toochoose toodo coisas como: reprodução apenas uma seção de um vídeo (em vez de execução Olá vídeo inteiro), ou especifique apenas um subconjunto de representações de áudio e vídeo que o dispositivo do cliente pode manipular ( em vez de todas as representações de saudação que estão associados com o ativo de saudação).</span><span class="sxs-lookup"><span data-stu-id="b9b8e-106">These filters are server side rules that will allow your customers toochoose toodo things like: playback only a section of a video (instead of playing hello whole video), or specify only a subset of audio and video renditions that your customer's device can handle (instead of all hello renditions that are associated with hello asset).</span></span> <span data-ttu-id="b9b8e-107">A filtragem de seus ativos é arquivada por meio de **manifesto dinâmico**s serão criados após o toostream de solicitação do cliente, um vídeo com base no filtro (s) especificado.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-107">This filtering of your assets is archived through **Dynamic Manifest**s that are created upon your customer's request toostream a video based on specified filter(s).</span></span>

<span data-ttu-id="b9b8e-108">Este tópico discute os cenários comuns nos quais usando filtros seria muito útil tooyour tootopics clientes e links que demonstram como toocreate filtros programaticamente (no momento, você pode criar filtros com APIs REST somente).</span><span class="sxs-lookup"><span data-stu-id="b9b8e-108">This topics discusses common scenarios in which using filters would be very beneficial tooyour customers and links tootopics that demonstrate how toocreate filters programmatically (currently, you can create filters with REST APIs only).</span></span>

## <a name="overview"></a><span data-ttu-id="b9b8e-109">Visão geral</span><span class="sxs-lookup"><span data-stu-id="b9b8e-109">Overview</span></span>
<span data-ttu-id="b9b8e-110">Durante a entrega seu conteúdo toocustomers (fluxo de eventos em tempo real ou vídeo sob demanda) de sua meta é toodeliver dispositivos de vídeo toovarious de alta qualidade em condições de rede diferente.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-110">When delivering your content toocustomers (streaming live events or video-on-demand) your goal is toodeliver a high quality video toovarious devices under different network conditions.</span></span> <span data-ttu-id="b9b8e-111">tooachieve essa meta Olá a seguir:</span><span class="sxs-lookup"><span data-stu-id="b9b8e-111">tooachieve this goal do hello following:</span></span>

* <span data-ttu-id="b9b8e-112">codificar seu fluxo toomulti taxas de bits ([taxa de bits adaptável](http://en.wikipedia.org/wiki/Adaptive_bitrate_streaming)) (Isso será responsável por condições de rede e qualidade) do fluxo de vídeo e</span><span class="sxs-lookup"><span data-stu-id="b9b8e-112">encode your stream toomulti-bitrate ([adaptive bitrate](http://en.wikipedia.org/wiki/Adaptive_bitrate_streaming)) video stream (this will take care of quality and network conditions) and</span></span> 
* <span data-ttu-id="b9b8e-113">usar os serviços de mídia [empacotamento dinâmico](media-services-dynamic-packaging-overview.md) toodynamically empacotar novamente seu fluxo em protocolos diferentes (Isso será responsável por streaming em diferentes dispositivos).</span><span class="sxs-lookup"><span data-stu-id="b9b8e-113">use Media Services [Dynamic Packaging](media-services-dynamic-packaging-overview.md) toodynamically re-package your stream into different protocols (this will take care of streaming on different devices).</span></span> <span data-ttu-id="b9b8e-114">Serviços de mídia oferece suporte à entrega de saudação seguintes tecnologias de streaming de taxa de bits adaptável: HTTP Live Streaming (HLS), Smooth Streaming e MPEG DASH.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-114">Media Services supports delivery of hello following adaptive bitrate streaming technologies: HTTP Live Streaming (HLS), Smooth Streaming, and MPEG DASH.</span></span> 

### <a name="manifest-files"></a><span data-ttu-id="b9b8e-115">Arquivos de manifesto</span><span class="sxs-lookup"><span data-stu-id="b9b8e-115">Manifest files</span></span>
<span data-ttu-id="b9b8e-116">Quando você codifica um ativo para streaming de taxa de bits adaptável, um **manifesto** arquivo (lista de reprodução) é criado (arquivo hello é baseado em XML ou texto).</span><span class="sxs-lookup"><span data-stu-id="b9b8e-116">When you encode an asset for adaptive bitrate streaming, a **manifest** (playlist) file is created (hello file is text-based or XML-based).</span></span> <span data-ttu-id="b9b8e-117">Olá **manifesto** inclui metadados de streaming, como: tipo (áudio, vídeo ou texto) de acompanhar, acompanhar o nome, hora de início e término, taxa de bits (qualidades), idiomas de faixa, a janela de apresentação (a janela deslizante de duração fixa), vídeo codec (FourCC).</span><span class="sxs-lookup"><span data-stu-id="b9b8e-117">hello **manifest** file includes streaming metadata such as: track type (audio, video, or text), track name, start and end time, bitrate (qualities), track languages, presentation window (sliding window of fixed duration), video codec (FourCC).</span></span> <span data-ttu-id="b9b8e-118">Também instrui fragmento próximo do Olá Olá player tooretrieve fornecendo informações sobre Olá Avançar executável fragmentos de vídeo disponíveis e sua localização.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-118">It also instructs hello player tooretrieve hello next fragment by providing information about hello next playable video fragments available and their location.</span></span> <span data-ttu-id="b9b8e-119">Fragmentos (ou segmentos) são Olá real "partes" de um conteúdo de vídeo.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-119">Fragments (or segments) are hello actual “chunks” of a video content.</span></span>

<span data-ttu-id="b9b8e-120">Aqui está um exemplo desse arquivo de manifesto:</span><span class="sxs-lookup"><span data-stu-id="b9b8e-120">Here is an example of a manifest file:</span></span> 

    <?xml version="1.0" encoding="UTF-8"?>    
    <SmoothStreamingMedia MajorVersion="2" MinorVersion="0" Duration="330187755" TimeScale="10000000">

    <StreamIndex Chunks="17" Type="video" Url="QualityLevels({bitrate})/Fragments(video={start time})" QualityLevels="8">
    <QualityLevel Index="0" Bitrate="5860941" FourCC="H264" MaxWidth="1920" MaxHeight="1080" CodecPrivateData="0000000167640028AC2CA501E0089F97015202020280000003008000001931300016E360000E4E1FF8C7076850A4580000000168E9093525" />
    <QualityLevel Index="1" Bitrate="4602724" FourCC="H264" MaxWidth="1920" MaxHeight="1080" CodecPrivateData="0000000167640028AC2CA501E0089F97015202020280000003008000001931100011EDC00002CD29FF8C7076850A45800000000168E9093525" />
    <QualityLevel Index="2" Bitrate="3319311" FourCC="H264" MaxWidth="1280" MaxHeight="720" CodecPrivateData="000000016764001FAC2CA5014016EC054808080A00000300020000030064C0800067C28000103667F8C7076850A4580000000168E9093525" />
    <QualityLevel Index="3" Bitrate="2195119" FourCC="H264" MaxWidth="960" MaxHeight="540" CodecPrivateData="000000016764001FAC2CA503C045FBC054808080A000000300200000064C1000044AA0000ABA9FE31C1DA14291600000000168E9093525" />
    <QualityLevel Index="4" Bitrate="1469881" FourCC="H264" MaxWidth="960" MaxHeight="540" CodecPrivateData="000000016764001FAC2CA503C045FBC054808080A000000300200000064C04000B71A0000E4E1FF8C7076850A4580000000168E9093525" />
    <QualityLevel Index="5" Bitrate="978815" FourCC="H264" MaxWidth="640" MaxHeight="360" CodecPrivateData="000000016764001EAC2CA50280BFE5C0548303032000000300200000064C08001E8480004C4B7F8C7076850A45800000000168E9093525" />
    <QualityLevel Index="6" Bitrate="638374" FourCC="H264" MaxWidth="640" MaxHeight="360" CodecPrivateData="000000016764001EAC2CA50280BFE5C0548303032000000300200000064C080013D60000C65DFE31C1DA1429160000000168E9093525" />
    <QualityLevel Index="7" Bitrate="388851" FourCC="H264" MaxWidth="320" MaxHeight="180" CodecPrivateData="000000016764000DAC2CA505067E7C054830303200000300020000030064C040030D40003D093F8C7076850A45800000000168E9093525" />

    <c t="0" d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="9600000"/>
    </StreamIndex>


    <StreamIndex Chunks="17" Type="audio" Url="QualityLevels({bitrate})/Fragments(AAC_und_ch2_128kbps={start time})" QualityLevels="1" Name="AAC_und_ch2_128kbps">
    <QualityLevel AudioTag="255" Index="0" BitsPerSample="16" Bitrate="125658" FourCC="AACL" CodecPrivateData="1210" Channels="2" PacketSize="4" SamplingRate="44100" />

    <c t="0" d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="6965987" /></StreamIndex>


    <StreamIndex Chunks="17" Type="audio" Url="QualityLevels({bitrate})/Fragments(AAC_und_ch2_56kbps={start time})" QualityLevels="1" Name="AAC_und_ch2_56kbps">
    <QualityLevel AudioTag="255" Index="0" BitsPerSample="16" Bitrate="53655" FourCC="AACL" CodecPrivateData="1210" Channels="2" PacketSize="4" SamplingRate="44100" />

    <c t="0" d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="6965987" /></StreamIndex>

    </SmoothStreamingMedia>

### <a name="dynamic-manifests"></a><span data-ttu-id="b9b8e-121">Manifestos dinâmicos</span><span class="sxs-lookup"><span data-stu-id="b9b8e-121">Dynamic manifests</span></span>
<span data-ttu-id="b9b8e-122">Há [cenários](media-services-dynamic-manifest-overview.md#scenarios) quando o cliente precisa de mais flexibilidade do que o que é descrito no arquivo de manifesto de saudação padrão ativo.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-122">There are [scenarios](media-services-dynamic-manifest-overview.md#scenarios) when your client needs more flexibility than what's described in hello default asset's manifest file.</span></span> <span data-ttu-id="b9b8e-123">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="b9b8e-123">For example:</span></span>

* <span data-ttu-id="b9b8e-124">Dispositivo específico: entregar somente Olá especificado e/ou de representações especificado faixas de idioma com suporte pelo dispositivo Olá tooplayback usado hello ("representação de filtragem de conteúdo").</span><span class="sxs-lookup"><span data-stu-id="b9b8e-124">Device specific: deliver only hello specified renditions and\or specified language tracks that are supported by hello device that is used tooplayback hello content ("rendition filtering").</span></span> 
* <span data-ttu-id="b9b8e-125">Reduza Olá manifesto tooshow um subclipe de um evento ao vivo ("subclipe filtragem").</span><span class="sxs-lookup"><span data-stu-id="b9b8e-125">Reduce hello manifest tooshow a sub-clip of a live event ("sub-clip filtering").</span></span>
* <span data-ttu-id="b9b8e-126">Início de corte Olá de um vídeo ("cortar um vídeo").</span><span class="sxs-lookup"><span data-stu-id="b9b8e-126">Trim hello start of a video ("trimming a video").</span></span>
* <span data-ttu-id="b9b8e-127">Ajuste a janela de apresentação (DVR) na ordem tooprovide um comprimento limitado da janela DVR Olá no player de saudação ("ajustar apresentação janela").</span><span class="sxs-lookup"><span data-stu-id="b9b8e-127">Adjust Presentation Window (DVR) in order tooprovide a limited length of hello DVR window in hello player ("adjusting presentation window") .</span></span>

<span data-ttu-id="b9b8e-128">tooachieve essa flexibilidade, ofertas de serviços de mídia **manifestos dinâmico** com base em predefinido [filtros](media-services-dynamic-manifest-overview.md#filters).</span><span class="sxs-lookup"><span data-stu-id="b9b8e-128">tooachieve this flexibility, Media Services offers **Dynamic Manifests** based on pre-defined [filters](media-services-dynamic-manifest-overview.md#filters).</span></span>  <span data-ttu-id="b9b8e-129">Depois de definir filtros Olá, seus clientes podem usá-los toostream uma representação específica ou sub clipes do vídeo.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-129">Once you define hello filters, your clients could use them toostream a specific rendition or sub-clips of your video.</span></span> <span data-ttu-id="b9b8e-130">Eles pode especificar filtros no hello URL de streaming.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-130">They would specify filter(s) in hello streaming URL.</span></span> <span data-ttu-id="b9b8e-131">Filtros podem ser a taxa de bits de tooadaptive aplicada protocolos com suporte de streaming [empacotamento dinâmico](media-services-dynamic-packaging-overview.md): Smooth Streaming, MPEG-DASH e HLS.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-131">Filters could be applied tooadaptive bitrate streaming protocols supported by [Dynamic Packaging](media-services-dynamic-packaging-overview.md): HLS, MPEG-DASH, and Smooth Streaming.</span></span> <span data-ttu-id="b9b8e-132">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="b9b8e-132">For example:</span></span>

<span data-ttu-id="b9b8e-133">URL de MPEG DASH com filtro</span><span class="sxs-lookup"><span data-stu-id="b9b8e-133">MPEG DASH URL with filter</span></span>

    http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=mpd-time-csf,filter=MyLocalFilter)

<span data-ttu-id="b9b8e-134">URL de Smooth Streaming com filtro</span><span class="sxs-lookup"><span data-stu-id="b9b8e-134">Smooth Streaming URL with filter</span></span>

    http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(filter=MyLocalFilter)


<span data-ttu-id="b9b8e-135">Para obter mais informações sobre como toodeliver o conteúdo e a compilação streaming URLs, consulte [fornecendo visão geral do conteúdo](media-services-deliver-content-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b9b8e-135">For more information about how toodeliver your content and build streaming URLs, see [Delivering content overview](media-services-deliver-content-overview.md).</span></span>

> [!NOTE]
> <span data-ttu-id="b9b8e-136">Observe que manifestos dinâmico não alterar ativo hello e Olá manifesto padrão para esse ativo.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-136">Note that Dynamic Manifests do not change hello asset and hello default manifest for that asset.</span></span> <span data-ttu-id="b9b8e-137">O cliente pode escolher toorequest um fluxo com ou sem filtros.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-137">Your client can choose toorequest a stream with or without filters.</span></span> 
> 
> 

### <span data-ttu-id="b9b8e-138"><a id="filters"></a>Filtros</span><span class="sxs-lookup"><span data-stu-id="b9b8e-138"><a id="filters"></a>Filters</span></span>
<span data-ttu-id="b9b8e-139">Há dois tipos de filtros de ativo:</span><span class="sxs-lookup"><span data-stu-id="b9b8e-139">There are two types of asset filters:</span></span> 

* <span data-ttu-id="b9b8e-140">Filtros globais (pode ser ativo tooany aplicado em Olá conta do Azure Media Services, tem um tempo de vida da conta de saudação) e</span><span class="sxs-lookup"><span data-stu-id="b9b8e-140">Global filters (can be applied tooany asset in hello Azure Media Services account, have a lifetime of hello account) and</span></span> 
* <span data-ttu-id="b9b8e-141">Filtros locais (pode ser apenas ativo tooan aplicada com quais Olá filtro foi associado no momento da criação, têm um tempo de vida do ativo de saudação).</span><span class="sxs-lookup"><span data-stu-id="b9b8e-141">Local filters (can only be applied tooan asset with which hello filter was associated upon creation, have a lifetime of hello asset).</span></span> 

<span data-ttu-id="b9b8e-142">Tipos de filtros globais e locais têm exatamente Olá as mesmas propriedades.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-142">Global and local filter types have exactly hello same properties.</span></span> <span data-ttu-id="b9b8e-143">Olá principal diferença entre Olá dois é para os cenários que tipo de um servidor de dados é mais adequado.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-143">hello main difference between hello two is for which scenarios what type of a filer is more suitable.</span></span> <span data-ttu-id="b9b8e-144">Filtros globais são geralmente adequados para perfis de dispositivo (filtragem de representação) onde filtros locais podem ser usado tootrim um ativo específico.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-144">Global filters are generally suitable for device profiles (rendition filtering) where local filters could be used tootrim a specific asset.</span></span>

## <span data-ttu-id="b9b8e-145"><a id="scenarios"></a>Cenários comuns</span><span class="sxs-lookup"><span data-stu-id="b9b8e-145"><a id="scenarios"></a>Common scenarios</span></span>
<span data-ttu-id="b9b8e-146">Como foi mencionado antes, quando entregar seu conteúdo toocustomers (fluxo de eventos em tempo real ou vídeo sob demanda) sua meta é toodeliver um vídeo de alta qualidade toovarious dispositivos em diferentes condições de rede.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-146">As was mentioned before, when delivering your content toocustomers (streaming live events or video-on-demand) your goal is toodeliver a high quality video toovarious devices under different network conditions.</span></span> <span data-ttu-id="b9b8e-147">Além disso, você pode ter outros requisitos que envolvem a filtragem dos ativos e uso de **manifestos dinâmicos**.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-147">In addition, your might have other requirements that involve filtering your assets and using of **Dynamic Manifest**s.</span></span> <span data-ttu-id="b9b8e-148">Olá seções a seguir oferecem uma breve visão geral dos diferentes cenários de filtragem.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-148">hello following sections give a short overview of different filtering scenarios.</span></span>

* <span data-ttu-id="b9b8e-149">Especifique somente um subconjunto de representações de áudio e vídeo que podem controlar determinados dispositivos (em vez de todas as representações de saudação que estão associadas a ativos de saudação).</span><span class="sxs-lookup"><span data-stu-id="b9b8e-149">Specify only a subset of audio and video renditions that certain devices can handle (instead of all hello renditions that are associated with hello asset).</span></span> 
* <span data-ttu-id="b9b8e-150">Reproduzindo apenas uma seção de um vídeo (em vez da saudação reproduzindo vídeo inteiro).</span><span class="sxs-lookup"><span data-stu-id="b9b8e-150">Playing back only a section of a video (instead of playing hello whole video).</span></span>
* <span data-ttu-id="b9b8e-151">Ajuste da janela de apresentação de DVR.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-151">Adjust DVR presentation window.</span></span>

## <a name="rendition-filtering"></a><span data-ttu-id="b9b8e-152">Filtragem de representação</span><span class="sxs-lookup"><span data-stu-id="b9b8e-152">Rendition filtering</span></span>
<span data-ttu-id="b9b8e-153">Você pode escolher tooencode os perfis de codificação do toomultiple ativo (linha de base de h. 264, h. 264 alto, AACL, AACH, Dolby Digital Plus) e várias taxas de bits de qualidade.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-153">You may choose tooencode your asset toomultiple encoding profiles (H.264 Baseline, H.264 High, AACL, AACH, Dolby Digital Plus) and multiple quality bitrates.</span></span> <span data-ttu-id="b9b8e-154">No entanto, nem todos os dispositivos de cliente oferecerão suporte a todos os seus perfis e taxas de bits de todos os seus ativos.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-154">However, not all client devices will support all your asset's profiles and bitrates.</span></span> <span data-ttu-id="b9b8e-155">Por exemplo, os dispositivos Android antigos oferecem suporte apenas da H.264 linha de base+ AACL.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-155">For example, older Android devices only supports H.264 Baseline+AACL.</span></span> <span data-ttu-id="b9b8e-156">Dispositivo de tooa taxas de bits mais alto que não é possível obter benefícios de saudação de envio, desperdiça o cálculo de largura de banda e o dispositivo.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-156">Sending higher bitrates tooa device which cannot get hello benefits, wastes bandwidth and device computation.</span></span> <span data-ttu-id="b9b8e-157">Esse dispositivo deve decodificar todos hello fornecido informações, apenas tooscale-para baixo para exibição.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-157">Such device must decode all hello given information, only tooscale it down for display.</span></span>

<span data-ttu-id="b9b8e-158">Com o manifesto dinâmico, você pode criar perfis de dispositivo como móvel, console, HD/SD, etc. e incluir faixas hello e qualidades que você deseja toobe uma parte de cada perfil.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-158">With Dynamic Manifest, you can create device profiles such as mobile, console, HD/SD, etc. and include hello tracks and qualities which you want toobe a part of each profile.</span></span>

![Exemplo de filtragem de representação][renditions2]

<span data-ttu-id="b9b8e-160">Olá exemplo a seguir, um codificador era usado tooencode um ativo de mezanino em sete representações de vídeo de MP4s de ISO (de 180p too1080p).</span><span class="sxs-lookup"><span data-stu-id="b9b8e-160">In hello following example, an encoder was used tooencode a mezzanine asset into seven ISO MP4s video renditions (from 180p too1080p).</span></span> <span data-ttu-id="b9b8e-161">Olá ativo codificado pode ser dinamicamente empacotado em qualquer um dos seguintes protocolos de transmissão de saudação: MPEG DASH, HLS e Smooth.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-161">hello encoded asset can be dynamically packaged into any of hello following streaming protocols: HLS, Smooth, and MPEG DASH.</span></span>  <span data-ttu-id="b9b8e-162">Na parte superior de saudação do diagrama hello, Olá HLS manifesto para ativo Olá sem filtros é mostrado (ele contém todas as representações de sete).</span><span class="sxs-lookup"><span data-stu-id="b9b8e-162">At hello top of hello diagram, hello HLS manifest for hello asset with no filters is shown (it contains all seven renditions).</span></span>  <span data-ttu-id="b9b8e-163">Olá inferior esquerda, Olá que HLS manifesto toowhich foi aplicado um filtro chamado "ott" é mostrado.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-163">In hello bottom left, hello HLS manifest toowhich a filter named "ott" was applied is shown.</span></span> <span data-ttu-id="b9b8e-164">filtro de "ott" Hello Especifica tooremove todas as taxas de bits abaixo de 1 Mbps, resultando na Olá inferior dois níveis de qualidade que estão sendo removidos na resposta de saudação.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-164">hello "ott" filter specifies tooremove all bitrates below 1Mbps, which resulted in hello bottom two quality levels being stripped off in hello response.</span></span>  <span data-ttu-id="b9b8e-165">Olá parte inferior direita, Olá HLS toowhich manifesto foi aplicado um filtro chamado "móvel" é mostrado.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-165">In hello bottom right,   hello HLS manifest toowhich a filter named "mobile" was applied is shown.</span></span> <span data-ttu-id="b9b8e-166">filtro "móvel" Hello Especifica representações tooremove onde hello resolução é maior do que 720p, resultando na Olá duas 1080p reproduções sendo removidas.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-166">hello "mobile" filter specifies tooremove renditions where hello resolution is larger than 720p, which resulted in hello two 1080p renditions being stripped off.</span></span>

![Filtragem de representação][renditions1]

## <a name="removing-language-tracks"></a><span data-ttu-id="b9b8e-168">Remover faixas de idiomas</span><span class="sxs-lookup"><span data-stu-id="b9b8e-168">Removing language tracks</span></span>
<span data-ttu-id="b9b8e-169">Os ativos podem incluir vários idiomas de áudio, como inglês, espanhol, francês etc. Geralmente, gerenciadores de Player SDK saudação padrão de seleção de faixa de áudio e controla o áudio disponível por seleção de usuário.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-169">Your assets might include multiple audio languages such as English, Spanish, French, etc. Usually, hello Player SDK managers default audio track selection and available audio tracks per user selection.</span></span> <span data-ttu-id="b9b8e-170">É muito difícil toodevelop tais SDKs do Player, é necessário implementações diferentes em estruturas de player específico do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-170">It is challenging toodevelop such Player SDKs, it requires different implementations across device-specific player-frameworks.</span></span> <span data-ttu-id="b9b8e-171">Além disso, em algumas plataformas, APIs de Player são limitados e não incluem o recurso de seleção de áudio em que os usuários não podem selecionar ou alterar a faixa de áudio saudação padrão. Com filtros de ativos, você pode controlar o comportamento de saudação Criando filtros que incluem apenas os idiomas de áudio desejados.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-171">Also, on some platforms, Player APIs are limited and do not include audio selection feature where users cannot select or change hello default audio track. With asset filters, you can control hello behavior by creating filters that only include desired audio languages.</span></span>

![Filtragem das faixas de idioma][language_filter]

## <a name="trimming-start-of-an-asset"></a><span data-ttu-id="b9b8e-173">Corte do início de um ativo</span><span class="sxs-lookup"><span data-stu-id="b9b8e-173">Trimming start of an asset</span></span>
<span data-ttu-id="b9b8e-174">Na maioria dos eventos de transmissão ao vivo, operadores executar alguns testes antes do evento real hello.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-174">In most live streaming events, operators run some tests before hello actual event.</span></span> <span data-ttu-id="b9b8e-175">Por exemplo, elas podem incluir um Tablet assim antes do início de saudação do evento Olá: "O programa será iniciado momentaneamente".</span><span class="sxs-lookup"><span data-stu-id="b9b8e-175">For example, they might include a slate like this before hello start of hello event: "Program will begin momentarily".</span></span> <span data-ttu-id="b9b8e-176">Se o arquivamento de programa hello, teste Olá slate dados também são arquivados e serão incluídos na apresentação de saudação.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-176">If hello program is archiving, hello test and slate data are also archived and will be included in hello presentation.</span></span> <span data-ttu-id="b9b8e-177">No entanto, essas informações não devem ser mostradas toohello clientes.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-177">However, this information should not be shown toohello clients.</span></span> <span data-ttu-id="b9b8e-178">Com o manifesto dinâmico, você pode criar um filtro de hora de início e remover dados indesejado de saudação do manifesto de saudação.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-178">With Dynamic Manifest, you can create a start time filter and remove hello unwanted data from hello manifest.</span></span>

![Corte do início][trim_filter]

## <a name="creating-sub-clips-views-from-a-live-archive"></a><span data-ttu-id="b9b8e-180">Criar subclipes (exibições) de um arquivo ao vivo</span><span class="sxs-lookup"><span data-stu-id="b9b8e-180">Creating sub-clips (views) from a live archive</span></span>
<span data-ttu-id="b9b8e-181">Muitos eventos ao vivo são de longa duração e o arquivamento dinâmico pode incluir vários eventos.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-181">Many live events are long running and live archive might include multiple events.</span></span> <span data-ttu-id="b9b8e-182">Depois que as emissoras termina de evento ao vivo Olá seja toobreak backup Olá live arquivamento no início do programa lógico e parar sequências.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-182">After hello live event ends broadcasters may want toobreak up hello live archive into logical program start and stop sequences.</span></span> <span data-ttu-id="b9b8e-183">Em seguida, publica esses programas virtuais separadamente sem post processar arquivo dinâmico Olá e não criar ativos separados (que não obterá o benefício de fragmentos de cache existente Olá no hello CDNs).</span><span class="sxs-lookup"><span data-stu-id="b9b8e-183">Then, publish these virtual programs separately without post processing hello live archive and not creating separate assets (which will not get benefit of hello existing cached fragments in hello CDNs).</span></span> <span data-ttu-id="b9b8e-184">Exemplos desses programas virtual (sub clipes) são Olá trimestres de um futebol ou jogo basquete innings Olá em bola ou eventos individuais de uma tarde programa Olimpíadas.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-184">Examples of such virtual programs (sub-clips) are hello quarters of a football or basketball game, hello innings in baseball, or individual events of an afternoon of Olympics program.</span></span>

<span data-ttu-id="b9b8e-185">Com o manifesto dinâmico, você pode criar filtros usando os horários de início/término e criar modos de exibição virtuais pela parte superior de saudação do seu arquivo em tempo real.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-185">With Dynamic Manifest, you can create filters using start/end times and create virtual views over hello top of your live archive.</span></span> 

![Filtro de subclipe][subclip_filter]

<span data-ttu-id="b9b8e-187">Ativos filtrados:</span><span class="sxs-lookup"><span data-stu-id="b9b8e-187">Filtered Asset:</span></span>

![Esqui][skiing]

## <a name="adjusting-presentation-window-dvr"></a><span data-ttu-id="b9b8e-189">Ajuste da janela de apresentação (DVR)</span><span class="sxs-lookup"><span data-stu-id="b9b8e-189">Adjusting Presentation Window (DVR)</span></span>
<span data-ttu-id="b9b8e-190">Atualmente, os serviços de mídia do Azure oferece arquivamento circular onde duração Olá pode ser configurada entre 5 minutos - 25 horas.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-190">Currently, Azure Media Services offers circular archive where hello duration can be configured between 5 minutes - 25 hours.</span></span> <span data-ttu-id="b9b8e-191">Manifesto de filtragem pode ser usado toocreate uma janela DVR sem interrupção pela parte superior de saudação do arquivo hello, sem excluir a mídia.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-191">Manifest filtering can be used toocreate a rolling DVR window over hello top of hello archive, without deleting media.</span></span> <span data-ttu-id="b9b8e-192">Há muitos cenários em que deseja que as emissoras tooprovide uma janela DVR limitada que move com hello live borda e a saudação mesmo tempo manter uma janela maior de arquivamento.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-192">There are many scenarios where broadcasters want tooprovide a limited DVR window which moves with hello live edge and at hello same time keep a bigger archiving window.</span></span> <span data-ttu-id="b9b8e-193">Uma emissora pode toouse Olá dados fora do clipes de toohighlight Olá DVR janela, ou he\she talvez queira tooprovide janelas DVR diferentes para diferentes dispositivos.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-193">A broadcaster may want toouse hello data that is out of hello DVR window toohighlight clips, or he\she may want tooprovide different DVR windows for different devices.</span></span> <span data-ttu-id="b9b8e-194">Por exemplo, a maioria dos dispositivos móveis Olá não lidar com grande windows DVR (você pode ter uma janela DVR de 2 minutos para dispositivos móveis e 1 hora para os clientes de desktop).</span><span class="sxs-lookup"><span data-stu-id="b9b8e-194">For example, most of hello mobile devices don’t handle big DVR windows (you can have a 2 minute DVR window for mobile devices and 1 hour for desktop clients).</span></span>

![Janela DVR][dvr_filter]

## <a name="adjusting-livebackoff-live-position"></a><span data-ttu-id="b9b8e-196">Ajustar o LiveBackoff (posição ao vivo)</span><span class="sxs-lookup"><span data-stu-id="b9b8e-196">Adjusting LiveBackoff (live position)</span></span>
<span data-ttu-id="b9b8e-197">Manifesto a filtragem pode ser usado tooremove vários segundos da borda de saudação ao vivo de um programa ao vivo.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-197">Manifest filtering can be used tooremove several seconds from hello live edge of a live program.</span></span> <span data-ttu-id="b9b8e-198">Isso permite que as emissoras apresentação de saudação toowatch na publicação de visualização Olá aponte e criar anúncio pontos de inserção antes de visualizadores de saudação recebam o fluxo de saudação (geralmente feito-off por 30 segundos).</span><span class="sxs-lookup"><span data-stu-id="b9b8e-198">This allows broadcasters toowatch hello presentation on hello preview publication point and create advertisement insertion points before hello viewers receive hello stream (usually backed-off by 30 seconds).</span></span> <span data-ttu-id="b9b8e-199">As emissoras podem enviar essas estruturas de cliente tootheir anúncios no tempo para que eles tooreceived e processo de informações de saudação antes de oportunidade de anúncio hello.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-199">Broadcasters can then push these advertisements tootheir client frameworks in time for them tooreceived and process hello information before hello advertisement opportunity.</span></span>

<span data-ttu-id="b9b8e-200">Além de dar suporte a toohello anúncio, LiveBackoff pode ser usado para ajustar a posição de download ao vivo do cliente para que quando os clientes descompasso e ocorrências borda dinâmico Olá ainda pode obter fragmentos do servidor em vez de obter erros HTTP 404 ou 412.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-200">In addition toohello advertisement support, LiveBackoff can be used for adjusting client live download position so that when clients drift and hit hello live edge they can still get fragments from server instead of getting 404 or 412 HTTP errors.</span></span>

![livebackoff_filter][livebackoff_filter]

## <a name="combining-multiple-rules-in-a-single-filter"></a><span data-ttu-id="b9b8e-202">Combinar várias regras em um único filtro</span><span class="sxs-lookup"><span data-stu-id="b9b8e-202">Combining multiple rules in a single filter</span></span>
<span data-ttu-id="b9b8e-203">É possível combinar várias regras de filtragem em um único filtro.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-203">You can combine multiple filtering rules in a single filter.</span></span> <span data-ttu-id="b9b8e-204">Por exemplo, você pode definir um Tablet de tooremove de regra de intervalo de um arquivo em tempo real e também filtrar taxas de bits disponíveis.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-204">As an example you can define a range rule tooremove slate from a live archive and also filter available bitrates.</span></span> <span data-ttu-id="b9b8e-205">Para vários final de saudação regras filtragem o resultado é composição hello (interseção) dessas regras.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-205">For multiple filtering rules hello end result is hello composition (intersection only) of these rules.</span></span>

![várias regras][multiple-rules]

## <a name="create-filters-programmatically"></a><span data-ttu-id="b9b8e-207">Criar filtros por meio de programa</span><span class="sxs-lookup"><span data-stu-id="b9b8e-207">Create filters programmatically</span></span>
<span data-ttu-id="b9b8e-208">Olá tópico a seguir discute entidades de serviços de mídia que são toofilters relacionados.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-208">hello following topic discusses Media Services entities that are related toofilters.</span></span> <span data-ttu-id="b9b8e-209">tópico de saudação também mostra como tooprogrammatically criar filtros.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-209">hello topic also shows how tooprogrammatically create filters.</span></span>  

<span data-ttu-id="b9b8e-210">[Criar filtros com APIs REST](media-services-rest-dynamic-manifest.md).</span><span class="sxs-lookup"><span data-stu-id="b9b8e-210">[Create filters with REST APIs](media-services-rest-dynamic-manifest.md).</span></span>

## <a name="combining-multiple-filters-filter-composition"></a><span data-ttu-id="b9b8e-211">Combinando vários filtros (composição de filtros)</span><span class="sxs-lookup"><span data-stu-id="b9b8e-211">Combining multiple filters (filter composition)</span></span>
<span data-ttu-id="b9b8e-212">Você também pode combinar vários filtros em uma única URL.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-212">You can also combine multiple filters in a single URL.</span></span> 

<span data-ttu-id="b9b8e-213">Olá cenário a seguir demonstra por que você desejaria toocombine filtros:</span><span class="sxs-lookup"><span data-stu-id="b9b8e-213">hello following scenario demonstrates why you might want toocombine filters:</span></span>

1. <span data-ttu-id="b9b8e-214">É necessário toofilter suas qualidades de vídeos para dispositivos móveis, como Android ou iPAD (em qualidades de vídeo de toolimit de ordem).</span><span class="sxs-lookup"><span data-stu-id="b9b8e-214">You need toofilter your video qualities for mobile devices such as Android or iPAD (in order toolimit video qualities).</span></span> <span data-ttu-id="b9b8e-215">tooremove Olá qualidades indesejadas, você deve criar um filtro global que é adequado para perfis de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-215">tooremove hello unwanted qualities, you would create a global filter which is suitable for device profiles.</span></span> <span data-ttu-id="b9b8e-216">Conforme mencionado acima, os filtros globais podem ser usados para todos os seus ativos em Olá conta sem qualquer outra associação de serviços a mesma mídia.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-216">As mentioned above, global filters can be used for all your assets under hello same media services account without any further association.</span></span> 
2. <span data-ttu-id="b9b8e-217">Você também mudar tootrim Olá início e fim da hora de um ativo.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-217">You also want tootrim hello start and end time of an asset.</span></span> <span data-ttu-id="b9b8e-218">tooachieve isso, crie um filtro de local e definir a hora de início/término hello.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-218">tooachieve this, you would create a local filter and set hello start/end time.</span></span> 
3. <span data-ttu-id="b9b8e-219">Você deseja toocombine desses filtros (sem combinação seria necessário tooadd qualidade filtragem toohello corte filtro que faz uso de filtro de difícil).</span><span class="sxs-lookup"><span data-stu-id="b9b8e-219">You want toocombine both of these filters (without combination you would need tooadd quality filtering toohello trimming filter which will make filter usage difficult).</span></span>

<span data-ttu-id="b9b8e-220">toocombine filtros, você precisa tooset Olá filtro nomes toohello manifesto/lista de reprodução de URL com delimitada por ponto e vírgula.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-220">toocombine filters, you need tooset hello filter names toohello manifest/playlist URL with semicolon delimited.</span></span> <span data-ttu-id="b9b8e-221">Vamos supor que você tenha um filtro nomeado *MyMobileDevice* que filtra qualidades e você tiver outro chamado *MyStartTime* tooset uma determinada hora de início.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-221">Let’s assume you have a filter named *MyMobileDevice* that filters qualities and you have another named *MyStartTime* tooset a specific start time.</span></span> <span data-ttu-id="b9b8e-222">Você pode combiná-los assim:</span><span class="sxs-lookup"><span data-stu-id="b9b8e-222">You can combine them like this:</span></span>

    http://teststreaming.streaming.mediaservices.windows.net/3d56a4d-b71d-489b-854f-1d67c0596966/64ff1f89-b430-43f8-87dd-56c87b7bd9e2.ism/Manifest(filter=MyMobileDevice;MyStartTime)

<span data-ttu-id="b9b8e-223">Você pode combinar os filtros de too3.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-223">You can combine up too3 filters.</span></span> 

<span data-ttu-id="b9b8e-224">Para saber mais, confira [este](https://azure.microsoft.com/blog/azure-media-services-release-dynamic-manifest-composition-remove-hls-audio-only-track-and-hls-i-frame-track-support/) blog.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-224">For more information see [this](https://azure.microsoft.com/blog/azure-media-services-release-dynamic-manifest-composition-remove-hls-audio-only-track-and-hls-i-frame-track-support/) blog.</span></span>

## <a name="know-issues-and-limitations"></a><span data-ttu-id="b9b8e-225">Conheça os problemas e limitações</span><span class="sxs-lookup"><span data-stu-id="b9b8e-225">Know issues and limitations</span></span>
* <span data-ttu-id="b9b8e-226">Manifesto dinâmico opera nos limites do GOP (quadros chave) e, como consequência, o corte tem precisão de GOP.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-226">Dynamic manifest operates in GOP boundaries (Key Frames) hence trimming has GOP accuracy.</span></span> 
* <span data-ttu-id="b9b8e-227">É possível usar o mesmo nome de filtro para os filtros globais e locais.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-227">You can use same filter name for local and global filters.</span></span> <span data-ttu-id="b9b8e-228">Observe que o filtro local têm maior precedência e substituem os filtros globais.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-228">Note that local filter have higher precedence and will override global filters.</span></span>
* <span data-ttu-id="b9b8e-229">Se você atualizar um filtro, pode demorar até minutos too2 para regras de saudação do toorefresh de ponto de extremidade de streaming.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-229">If you update a filter, it can take up too2 minutes for streaming endpoint toorefresh hello rules.</span></span> <span data-ttu-id="b9b8e-230">Se Olá conteúdo foi servido usando alguns filtros (e armazenado em cache na CDN e proxies caches), esses filtros de atualização pode resultar em falhas de player.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-230">If hello content was served using some filters (and cached in proxies and CDN caches), updating these filters can result in player failures.</span></span> <span data-ttu-id="b9b8e-231">É recomendável cache de saudação tooclear depois de atualizar o filtro de saudação.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-231">It is recommend tooclear hello cache after updating hello filter.</span></span> <span data-ttu-id="b9b8e-232">Se essa opção não for possível, considere usar um filtro diferente.</span><span class="sxs-lookup"><span data-stu-id="b9b8e-232">If this option is not possible, consider using a different filter.</span></span>

## <a name="media-services-learning-paths"></a><span data-ttu-id="b9b8e-233">Roteiros de aprendizagem dos Serviços de Mídia</span><span class="sxs-lookup"><span data-stu-id="b9b8e-233">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a><span data-ttu-id="b9b8e-234">Fornecer comentários</span><span class="sxs-lookup"><span data-stu-id="b9b8e-234">Provide feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]

## <a name="see-also"></a><span data-ttu-id="b9b8e-235">Consulte também</span><span class="sxs-lookup"><span data-stu-id="b9b8e-235">See Also</span></span>
[<span data-ttu-id="b9b8e-236">Entregando conteúdo tooCustomers visão geral</span><span class="sxs-lookup"><span data-stu-id="b9b8e-236">Delivering Content tooCustomers Overview</span></span>](media-services-deliver-content-overview.md)

[renditions1]: ./media/media-services-dynamic-manifest-overview/media-services-rendition-filter.png
[renditions2]: ./media/media-services-dynamic-manifest-overview/media-services-rendition-filter2.png

[rendered_subclip]: ./media/media-services-dynamic-manifests/media-services-rendered-subclip.png
[timeline_trim_event]: ./media/media-services-dynamic-manifests/media-services-timeline-trim-event.png
[timeline_trim_subclip]: ./media/media-services-dynamic-manifests/media-services-timeline-trim-subclip.png

[multiple-rules]:./media/media-services-dynamic-manifest-overview/media-services-multiple-rules-filters.png

[subclip_filter]: ./media/media-services-dynamic-manifest-overview/media-services-subclips-filter.png
[trim_event]: ./media/media-services-dynamic-manifests/media-services-timeline-trim-event.png
[trim_subclip]: ./media/media-services-dynamic-manifests/media-services-timeline-trim-subclip.png
[trim_filter]: ./media/media-services-dynamic-manifest-overview/media-services-trim-filter.png
[redered_subclip]: ./media/media-services-dynamic-manifests/media-services-rendered-subclip.png
[livebackoff_filter]: ./media/media-services-dynamic-manifest-overview/media-services-livebackoff-filter.png
[language_filter]: ./media/media-services-dynamic-manifest-overview/media-services-language-filter.png
[dvr_filter]: ./media/media-services-dynamic-manifest-overview/media-services-dvr-filter.png
[skiing]: ./media/media-services-dynamic-manifest-overview/media-services-skiing.png
