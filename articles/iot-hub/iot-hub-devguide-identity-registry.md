---
title: registro de identidade aaaUnderstand hello Azure IoT Hub | Microsoft Docs
description: "Guia do desenvolvedor - descrição de saudação do registro de identidade de IoT Hub e como toouse-toomanage seus dispositivos. Inclui informações sobre Olá importar e exportar identidades de dispositivo em massa."
services: iot-hub
documentationcenter: .net
author: dominicbetts
manager: timlt
editor: 
ms.assetid: 0706eccd-e84c-4ae7-bbd4-2b1a22241147
ms.service: iot-hub
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/08/2017
ms.author: dobett
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: c9fe3730a4608e28c47807ecb42e13e73f6a2e80
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/06/2017
---
# <a name="understand-hello-identity-registry-in-your-iot-hub"></a><span data-ttu-id="0fe1e-104">Entender o registro de identidade Olá em seu hub IoT</span><span class="sxs-lookup"><span data-stu-id="0fe1e-104">Understand hello identity registry in your IoT hub</span></span>

<span data-ttu-id="0fe1e-105">Cada hub IoT tem um registro de identidade que armazena informações sobre dispositivos de saudação permitido tooconnect toohello IoT hub.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-105">Every IoT hub has an identity registry that stores information about hello devices permitted tooconnect toohello IoT hub.</span></span> <span data-ttu-id="0fe1e-106">Antes que um dispositivo pode se conectar a tooan IoT hub, deve haver uma entrada para o dispositivo no registro de identidade do hub do hello IoT.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-106">Before a device can connect tooan IoT hub, there must be an entry for that device in hello IoT hub's identity registry.</span></span> <span data-ttu-id="0fe1e-107">Um dispositivo também deve autenticar com o hub IoT de saudação com base em credenciais armazenadas no registro de identidade hello.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-107">A device must also authenticate with hello IoT hub based on credentials stored in hello identity registry.</span></span>

<span data-ttu-id="0fe1e-108">ID do dispositivo Olá armazenada no registro de identidade Olá diferencia maiusculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-108">hello device ID stored in hello identity registry is case-sensitive.</span></span>

<span data-ttu-id="0fe1e-109">Em um nível alto, registro de identidade Olá é uma coleção compatível com o restante dos recursos de identidade do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-109">At a high level, hello identity registry is a REST-capable collection of device identity resources.</span></span> <span data-ttu-id="0fe1e-110">Quando você adiciona uma entrada no registro de identidade hello, o IoT Hub cria um conjunto de recursos de cada dispositivo, como a fila de saudação que contém mensagens de nuvem para dispositivo em andamento.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-110">When you add an entry in hello identity registry, IoT Hub creates a set of per-device resources such as hello queue that contains in-flight cloud-to-device messages.</span></span>

### <a name="when-toouse"></a><span data-ttu-id="0fe1e-111">Quando toouse</span><span class="sxs-lookup"><span data-stu-id="0fe1e-111">When toouse</span></span>

<span data-ttu-id="0fe1e-112">Use o registro de identidade hello quando você precisa:</span><span class="sxs-lookup"><span data-stu-id="0fe1e-112">Use hello identity registry when you need to:</span></span>

* <span data-ttu-id="0fe1e-113">Provisione os dispositivos que se conectam tooyour IoT hub.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-113">Provision devices that connect tooyour IoT hub.</span></span>
* <span data-ttu-id="0fe1e-114">Controle os pontos de extremidade do hub de tooyour acesso por dispositivo voltados para o dispositivo.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-114">Control per-device access tooyour hub's device-facing endpoints.</span></span>

> [!NOTE]
> <span data-ttu-id="0fe1e-115">registro de identidade Olá não contém metadados específicos do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-115">hello identity registry does not contain any application-specific metadata.</span></span>

## <a name="identity-registry-operations"></a><span data-ttu-id="0fe1e-116">Operações de registro de identidade</span><span class="sxs-lookup"><span data-stu-id="0fe1e-116">Identity registry operations</span></span>

<span data-ttu-id="0fe1e-117">saudação do registro do IoT Hub identidade expõe Olá seguintes operações:</span><span class="sxs-lookup"><span data-stu-id="0fe1e-117">hello IoT Hub identity registry exposes hello following operations:</span></span>

* <span data-ttu-id="0fe1e-118">Criar identidade do dispositivo</span><span class="sxs-lookup"><span data-stu-id="0fe1e-118">Create device identity</span></span>
* <span data-ttu-id="0fe1e-119">Atualizar identidade do dispositivo</span><span class="sxs-lookup"><span data-stu-id="0fe1e-119">Update device identity</span></span>
* <span data-ttu-id="0fe1e-120">Recuperar a identidade do dispositivo por ID</span><span class="sxs-lookup"><span data-stu-id="0fe1e-120">Retrieve device identity by ID</span></span>
* <span data-ttu-id="0fe1e-121">Excluir identidade do dispositivo</span><span class="sxs-lookup"><span data-stu-id="0fe1e-121">Delete device identity</span></span>
* <span data-ttu-id="0fe1e-122">Lista de identidades de too1000</span><span class="sxs-lookup"><span data-stu-id="0fe1e-122">List up too1000 identities</span></span>
* <span data-ttu-id="0fe1e-123">Exportar todo o armazenamento de identidades tooAzure blob</span><span class="sxs-lookup"><span data-stu-id="0fe1e-123">Export all identities tooAzure blob storage</span></span>
* <span data-ttu-id="0fe1e-124">Importar identidades do Armazenamento de Blobs do Azure</span><span class="sxs-lookup"><span data-stu-id="0fe1e-124">Import identities from Azure blob storage</span></span>

<span data-ttu-id="0fe1e-125">Todas essas operações podem usar a simultaneidade otimista, conforme especificado na [RFC7232][lnk-rfc7232].</span><span class="sxs-lookup"><span data-stu-id="0fe1e-125">All these operations can use optimistic concurrency, as specified in [RFC7232][lnk-rfc7232].</span></span>

> [!IMPORTANT]
> <span data-ttu-id="0fe1e-126">Olá apenas de maneira tooretrieve todas as identidades no registro de identidade de um hub IoT é Olá toouse [exportar] [ lnk-export] funcionalidade.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-126">hello only way tooretrieve all identities in an IoT hub's identity registry is toouse hello [Export][lnk-export] functionality.</span></span>

<span data-ttu-id="0fe1e-127">Um registro de identidade do Hub IoT:</span><span class="sxs-lookup"><span data-stu-id="0fe1e-127">An IoT Hub identity registry:</span></span>

* <span data-ttu-id="0fe1e-128">Não contém metadados de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-128">Does not contain any application metadata.</span></span>
* <span data-ttu-id="0fe1e-129">Pode ser acessada como um dicionário, usando Olá **deviceId** como chave de saudação.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-129">Can be accessed like a dictionary, by using hello **deviceId** as hello key.</span></span>
* <span data-ttu-id="0fe1e-130">Não permite consultas expressivas.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-130">Does not support expressive queries.</span></span>

<span data-ttu-id="0fe1e-131">Normalmente, uma solução de IoT tem um armazenamento específico da solução separado que contém metadados específicos do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-131">An IoT solution typically has a separate solution-specific store that contains application-specific metadata.</span></span> <span data-ttu-id="0fe1e-132">Por exemplo, hello armazenamento de solução específica em uma solução de construção inteligente seria gravar sala Olá um sensor de temperatura é implantado.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-132">For example, hello solution-specific store in a smart building solution would record hello room in which a temperature sensor is deployed.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="0fe1e-133">Use somente registro de identidade Olá para operações de provisionamento e gerenciamento de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-133">Only use hello identity registry for device management and provisioning operations.</span></span> <span data-ttu-id="0fe1e-134">Operações de alta taxa de transferência em tempo de execução não devem depender executar operações no registro de identidade hello.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-134">High throughput operations at run time should not depend on performing operations in hello identity registry.</span></span> <span data-ttu-id="0fe1e-135">Por exemplo, verificando o estado de conexão de saudação de um dispositivo antes de enviar um comando não é um padrão com suporte.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-135">For example, checking hello connection state of a device before sending a command is not a supported pattern.</span></span> <span data-ttu-id="0fe1e-136">Verifique se Olá de toocheck [taxas de limitação] [ lnk-quotas] para registro de identidade hello e hello [pulsação do dispositivo] [ lnk-guidance-heartbeat] padrão.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-136">Make sure toocheck hello [throttling rates][lnk-quotas] for hello identity registry, and hello [device heartbeat][lnk-guidance-heartbeat] pattern.</span></span>

## <a name="disable-devices"></a><span data-ttu-id="0fe1e-137">Desabilitar dispositivos</span><span class="sxs-lookup"><span data-stu-id="0fe1e-137">Disable devices</span></span>

<span data-ttu-id="0fe1e-138">Você pode desativar dispositivos atualizando Olá **status** propriedade de uma identidade no registro de identidade hello.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-138">You can disable devices by updating hello **status** property of an identity in hello identity registry.</span></span> <span data-ttu-id="0fe1e-139">Normalmente, você deve usar essa propriedade em dois cenários:</span><span class="sxs-lookup"><span data-stu-id="0fe1e-139">Typically, you use this property in two scenarios:</span></span>

* <span data-ttu-id="0fe1e-140">Durante um processo de orquestração de provisionamento.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-140">During a provisioning orchestration process.</span></span> <span data-ttu-id="0fe1e-141">Para saber mais, veja [Provisionamento de dispositivo][lnk-guidance-provisioning].</span><span class="sxs-lookup"><span data-stu-id="0fe1e-141">For more information, see [Device Provisioning][lnk-guidance-provisioning].</span></span>
* <span data-ttu-id="0fe1e-142">Se, por algum motivo, você considerar que um dispositivo está comprometido ou que se tornou não autorizado.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-142">If, for any reason, you consider a device is compromised or has become unauthorized.</span></span>

## <a name="import-and-export-device-identities"></a><span data-ttu-id="0fe1e-143">Importar e exportar identidades de dispositivo</span><span class="sxs-lookup"><span data-stu-id="0fe1e-143">Import and export device identities</span></span>

<span data-ttu-id="0fe1e-144">Você pode exportar identidades de dispositivo em massa de registro de identidade de um hub IoT, por meio de operações assíncronas no hello [o ponto de extremidade de provedor de recursos IoT Hub][lnk-endpoints].</span><span class="sxs-lookup"><span data-stu-id="0fe1e-144">You can export device identities in bulk from an IoT hub's identity registry, by using asynchronous operations on hello [IoT Hub resource provider endpoint][lnk-endpoints].</span></span> <span data-ttu-id="0fe1e-145">Exportações são longas trabalhos que usam dados de identidade do dispositivo do blob fornecido pelo cliente contêiner toosave leem a partir do registro de identidade hello.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-145">Exports are long-running jobs that use a customer-supplied blob container toosave device identity data read from hello identity registry.</span></span>

<span data-ttu-id="0fe1e-146">Você pode importar as identidades do dispositivo no registro de identidade do hub de IoT tooan em massa, usando as operações assíncronas em Olá [o ponto de extremidade de provedor de recursos IoT Hub][lnk-endpoints].</span><span class="sxs-lookup"><span data-stu-id="0fe1e-146">You can import device identities in bulk tooan IoT hub's identity registry, by using asynchronous operations on hello [IoT Hub resource provider endpoint][lnk-endpoints].</span></span> <span data-ttu-id="0fe1e-147">Importações são trabalhos de longa duração que usam dados em dados de identidade do dispositivo do blob fornecido pelo cliente contêiner toowrite no registro de identidade hello.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-147">Imports are long-running jobs that use data in a customer-supplied blob container toowrite device identity data into hello identity registry.</span></span>

* <span data-ttu-id="0fe1e-148">Para obter informações detalhadas sobre a importação de saudação e APIs de exportação, consulte [APIs REST de provedor de recursos do IoT Hub][lnk-resource-provider-apis].</span><span class="sxs-lookup"><span data-stu-id="0fe1e-148">For detailed information about hello import and export APIs, see [IoT Hub resource provider REST APIs][lnk-resource-provider-apis].</span></span>
* <span data-ttu-id="0fe1e-149">toolearn mais sobre como executar importam e exportar trabalhos, consulte [em massa de gerenciamento de identidades de dispositivo do IoT Hub][lnk-bulk-identity].</span><span class="sxs-lookup"><span data-stu-id="0fe1e-149">toolearn more about running import and export jobs, see [Bulk management of IoT Hub device identities][lnk-bulk-identity].</span></span>

## <a name="device-provisioning"></a><span data-ttu-id="0fe1e-150">Provisionamento de dispositivos</span><span class="sxs-lookup"><span data-stu-id="0fe1e-150">Device provisioning</span></span>

<span data-ttu-id="0fe1e-151">dados de dispositivo de saudação que armazena uma determinada solução de IoT dependem de requisitos específicos de saudação da solução.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-151">hello device data that a given IoT solution stores depends on hello specific requirements of that solution.</span></span> <span data-ttu-id="0fe1e-152">Porém, no mínimo, uma solução deve armazenar identidades e chaves de autenticação.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-152">But, as a minimum, a solution must store device identities and authentication keys.</span></span> <span data-ttu-id="0fe1e-153">O Hub IoT do Azure inclui um registro de identidades que pode armazenar valores para cada dispositivo, como IDs, chaves de autenticação e códigos de status.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-153">Azure IoT Hub includes an identity registry that can store values for each device such as IDs, authentication keys, and status codes.</span></span> <span data-ttu-id="0fe1e-154">Uma solução pode usar outros serviços do Azure como armazenamento de tabela, o armazenamento de blob ou banco de dados do Cosmos toostore quaisquer dados de dispositivos adicionais.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-154">A solution can use other Azure services such as table storage, blob storage, or Cosmos DB toostore any additional device data.</span></span>

<span data-ttu-id="0fe1e-155">*Provisionamento do dispositivo* é Olá o processo de adição de saudação inicial do dispositivo dados toohello armazena em sua solução.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-155">*Device provisioning* is hello process of adding hello initial device data toohello stores in your solution.</span></span> <span data-ttu-id="0fe1e-156">tooenable um novo hub de tooyour de tooconnect do dispositivo, você deve adicionar um dispositivo ID e as chaves toohello registro de identidade de IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-156">tooenable a new device tooconnect tooyour hub, you must add a device ID and keys toohello IoT Hub identity registry.</span></span> <span data-ttu-id="0fe1e-157">Como parte do processo de provisionamento de saudação, talvez seja necessário tooinitialize dados específicos do dispositivo outros repositórios de solução.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-157">As part of hello provisioning process, you might need tooinitialize device-specific data in other solution stores.</span></span>

## <a name="device-heartbeat"></a><span data-ttu-id="0fe1e-158">Pulsação do dispositivo</span><span class="sxs-lookup"><span data-stu-id="0fe1e-158">Device heartbeat</span></span>

<span data-ttu-id="0fe1e-159">registro de identidade de IoT Hub Hello contém um campo chamado **connectionState**.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-159">hello IoT Hub identity registry contains a field called **connectionState**.</span></span> <span data-ttu-id="0fe1e-160">Somente use Olá **connectionState** campo durante o desenvolvimento e depuração.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-160">Only use hello **connectionState** field during development and debugging.</span></span> <span data-ttu-id="0fe1e-161">Soluções de IoT não devem consultar o campo de saudação em tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-161">IoT solutions should not query hello field at run time.</span></span> <span data-ttu-id="0fe1e-162">Por exemplo, não consultar Olá **connectionState** campo toocheck se um dispositivo está conectado antes de enviar uma mensagem de nuvem para dispositivo ou um SMS.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-162">For example, do not query hello **connectionState** field toocheck if a device is connected before you send a cloud-to-device message or an SMS.</span></span>

<span data-ttu-id="0fe1e-163">Se sua solução de IoT precisa tooknow se um dispositivo estiver conectado, você deve implementar Olá *padrão de pulsação*.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-163">If your IoT solution needs tooknow if a device is connected, you should implement hello *heartbeat pattern*.</span></span>

<span data-ttu-id="0fe1e-164">No padrão de pulsação hello, o dispositivo Olá envia mensagens de dispositivo para nuvem pelo menos uma vez a cada determinado período de tempo (por exemplo, pelo menos uma vez a cada hora).</span><span class="sxs-lookup"><span data-stu-id="0fe1e-164">In hello heartbeat pattern, hello device sends device-to-cloud messages at least once every fixed amount of time (for example, at least once every hour).</span></span> <span data-ttu-id="0fe1e-165">Portanto, mesmo se um dispositivo não tem qualquer toosend de dados, ele ainda envia uma mensagem de dispositivo para nuvem vazia (normalmente com uma propriedade que identifica como uma pulsação).</span><span class="sxs-lookup"><span data-stu-id="0fe1e-165">Therefore, even if a device does not have any data toosend, it still sends an empty device-to-cloud message (usually with a property that identifies it as a heartbeat).</span></span> <span data-ttu-id="0fe1e-166">No lado do serviço hello, solução de saudação mantém um mapa com a última pulsação de saudação recebida para cada dispositivo.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-166">On hello service side, hello solution maintains a map with hello last heartbeat received for each device.</span></span> <span data-ttu-id="0fe1e-167">Se a solução de saudação não receber uma mensagem de pulsação no tempo de saudação esperado do dispositivo Olá, ele pressupõe que há um problema com o dispositivo de saudação.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-167">If hello solution does not receive a heartbeat message within hello expected time from hello device, it assumes that there is a problem with hello device.</span></span>

<span data-ttu-id="0fe1e-168">Uma implementação mais complexa pode incluir informações de saudação do [monitoramento das operações] [ lnk-devguide-opmon] dispositivos tooidentify que estão tentando tooconnect ou se comunicar, mas falha.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-168">A more complex implementation could include hello information from [operations monitoring][lnk-devguide-opmon] tooidentify devices that are trying tooconnect or communicate but failing.</span></span> <span data-ttu-id="0fe1e-169">Quando você implementa o padrão de pulsação Olá, verifique se toocheck [IoT Hub cotas e limitações][lnk-quotas].</span><span class="sxs-lookup"><span data-stu-id="0fe1e-169">When you implement hello heartbeat pattern, make sure toocheck [IoT Hub Quotas and Throttles][lnk-quotas].</span></span>

> [!NOTE]
> <span data-ttu-id="0fe1e-170">Se uma conexão de saudação do IoT solução usa estado toodetermine somente se mensagens de nuvem para dispositivo toosend, e mensagens são não difusão toolarge conjuntos de dispositivos, considere o uso mais simples de saudação *curto tempo de expiração* padrão.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-170">If an IoT solution uses hello connection state solely toodetermine whether toosend cloud-to-device messages, and messages are not broadcast toolarge sets of devices, consider using hello simpler *short expiry time* pattern.</span></span> <span data-ttu-id="0fe1e-171">Esse padrão atinge Olá mesmo resultado manter um registro de estado de conexão do dispositivo usando o padrão de pulsação de saudação, ao mesmo tempo, sendo mais eficiente.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-171">This pattern achieves hello same result as maintaining a device connection state registry using hello heartbeat pattern, while being more efficient.</span></span> <span data-ttu-id="0fe1e-172">Se você solicitar confirmações de mensagens, o IoT Hub pode notificá-lo sobre quais dispositivos estão tooreceive capaz de mensagens e quais não são.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-172">If you request message acknowledgements, IoT Hub can notify you about which devices are able tooreceive messages and which are not.</span></span>

## <a name="device-lifecycle-notifications"></a><span data-ttu-id="0fe1e-173">Notificações do ciclo de vida do dispositivo</span><span class="sxs-lookup"><span data-stu-id="0fe1e-173">Device lifecycle notifications</span></span>

<span data-ttu-id="0fe1e-174">O Hub IoT pode notificar sua solução de IoT quando uma identidade de dispositivo é criada ou excluída, enviando notificações do ciclo de vida do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-174">IoT Hub can notify your IoT solution when a device identity is created or deleted by sending device lifecycle notifications.</span></span> <span data-ttu-id="0fe1e-175">toodo assim, sua solução de IoT precisa de uma rota de toocreate e tooset Olá fonte de dados igual muito*DeviceLifecycleEvents*.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-175">toodo so, your IoT solution needs toocreate a route and tooset hello Data Source equal too*DeviceLifecycleEvents*.</span></span> <span data-ttu-id="0fe1e-176">Por padrão, nenhuma notificação de ciclo de vida é enviada, ou seja, nenhuma dessas rotas existe previamente.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-176">By default, no lifecycle notifications are sent, that is, no such routes pre-exist.</span></span> <span data-ttu-id="0fe1e-177">mensagem de notificação de saudação inclui propriedades e corpo.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-177">hello notification message includes properties, and body.</span></span>

<span data-ttu-id="0fe1e-178">Propriedades: Propriedades do sistema de mensagens são prefixadas com hello `'$'` símbolo.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-178">Properties: Message system properties are prefixed with hello `'$'` symbol.</span></span>

| <span data-ttu-id="0fe1e-179">Nome</span><span class="sxs-lookup"><span data-stu-id="0fe1e-179">Name</span></span> | <span data-ttu-id="0fe1e-180">Valor</span><span class="sxs-lookup"><span data-stu-id="0fe1e-180">Value</span></span> |
| --- | --- |
<span data-ttu-id="0fe1e-181">$content-type</span><span class="sxs-lookup"><span data-stu-id="0fe1e-181">$content-type</span></span> | <span data-ttu-id="0fe1e-182">aplicativo/json</span><span class="sxs-lookup"><span data-stu-id="0fe1e-182">application/json</span></span> |
<span data-ttu-id="0fe1e-183">$iothub-enqueuedtime</span><span class="sxs-lookup"><span data-stu-id="0fe1e-183">$iothub-enqueuedtime</span></span> |  <span data-ttu-id="0fe1e-184">Hora de envio da notificação de saudação</span><span class="sxs-lookup"><span data-stu-id="0fe1e-184">Time when hello notification was sent</span></span> |
<span data-ttu-id="0fe1e-185">$iothub-message-source</span><span class="sxs-lookup"><span data-stu-id="0fe1e-185">$iothub-message-source</span></span> | <span data-ttu-id="0fe1e-186">deviceLifecycleEvents</span><span class="sxs-lookup"><span data-stu-id="0fe1e-186">deviceLifecycleEvents</span></span> |
<span data-ttu-id="0fe1e-187">$content-encoding</span><span class="sxs-lookup"><span data-stu-id="0fe1e-187">$content-encoding</span></span> | <span data-ttu-id="0fe1e-188">utf-8</span><span class="sxs-lookup"><span data-stu-id="0fe1e-188">utf-8</span></span> |
<span data-ttu-id="0fe1e-189">opType</span><span class="sxs-lookup"><span data-stu-id="0fe1e-189">opType</span></span> | <span data-ttu-id="0fe1e-190">**createDeviceIdentity** ou **deleteDeviceIdentity**</span><span class="sxs-lookup"><span data-stu-id="0fe1e-190">**createDeviceIdentity** or **deleteDeviceIdentity**</span></span> |
<span data-ttu-id="0fe1e-191">hubName</span><span class="sxs-lookup"><span data-stu-id="0fe1e-191">hubName</span></span> | <span data-ttu-id="0fe1e-192">Nome do Hub IoT</span><span class="sxs-lookup"><span data-stu-id="0fe1e-192">Name of IoT Hub</span></span> |
<span data-ttu-id="0fe1e-193">deviceId</span><span class="sxs-lookup"><span data-stu-id="0fe1e-193">deviceId</span></span> | <span data-ttu-id="0fe1e-194">ID do dispositivo Olá</span><span class="sxs-lookup"><span data-stu-id="0fe1e-194">ID of hello device</span></span> |
<span data-ttu-id="0fe1e-195">operationTimestamp</span><span class="sxs-lookup"><span data-stu-id="0fe1e-195">operationTimestamp</span></span> | <span data-ttu-id="0fe1e-196">Carimbo de data/hora ISO8601 da operação</span><span class="sxs-lookup"><span data-stu-id="0fe1e-196">ISO8601 timestamp of operation</span></span> |
<span data-ttu-id="0fe1e-197">iothub-message-schema</span><span class="sxs-lookup"><span data-stu-id="0fe1e-197">iothub-message-schema</span></span> | <span data-ttu-id="0fe1e-198">deviceLifecycleNotification</span><span class="sxs-lookup"><span data-stu-id="0fe1e-198">deviceLifecycleNotification</span></span> |

<span data-ttu-id="0fe1e-199">Corpo: Esta seção está em formato JSON e representa duas Olá de saudação criada a identidade do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-199">Body: This section is in JSON format and represents hello twin of hello created device identity.</span></span> <span data-ttu-id="0fe1e-200">Por exemplo,</span><span class="sxs-lookup"><span data-stu-id="0fe1e-200">For example,</span></span>

```json
{
    "deviceId":"11576-ailn-test-0-67333793211",
    "etag":"AAAAAAAAAAE=",
    "properties": {
        "desired": {
            "$metadata": {
                "$lastUpdated": "2016-02-30T16:24:48.789Z"
            },
            "$version": 1
        },
        "reported": {
            "$metadata": {
                "$lastUpdated": "2016-02-30T16:24:48.789Z"
            },
            "$version": 1
        }
    }
}
```

## <a name="reference-topics"></a><span data-ttu-id="0fe1e-201">Tópicos de referência:</span><span class="sxs-lookup"><span data-stu-id="0fe1e-201">Reference topics:</span></span>

<span data-ttu-id="0fe1e-202">Olá seguintes tópicos de referência fornecem mais informações sobre o registro de identidade hello.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-202">hello following reference topics provide you with more information about hello identity registry.</span></span>

## <a name="device-identity-properties"></a><span data-ttu-id="0fe1e-203">Propriedades de identidade do dispositivo</span><span class="sxs-lookup"><span data-stu-id="0fe1e-203">Device identity properties</span></span>

<span data-ttu-id="0fe1e-204">Identidades de dispositivo são representadas como documentos JSON com hello propriedades a seguir:</span><span class="sxs-lookup"><span data-stu-id="0fe1e-204">Device identities are represented as JSON documents with hello following properties:</span></span>

| <span data-ttu-id="0fe1e-205">Propriedade</span><span class="sxs-lookup"><span data-stu-id="0fe1e-205">Property</span></span> | <span data-ttu-id="0fe1e-206">Opções</span><span class="sxs-lookup"><span data-stu-id="0fe1e-206">Options</span></span> | <span data-ttu-id="0fe1e-207">Descrição</span><span class="sxs-lookup"><span data-stu-id="0fe1e-207">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="0fe1e-208">deviceId</span><span class="sxs-lookup"><span data-stu-id="0fe1e-208">deviceId</span></span> |<span data-ttu-id="0fe1e-209">obrigatória, somente leitura em atualizações</span><span class="sxs-lookup"><span data-stu-id="0fe1e-209">required, read-only on updates</span></span> |<span data-ttu-id="0fe1e-210">Uma cadeia de caracteres diferenciam maiusculas de minúsculas (a too128 caracteres) de caracteres alfanuméricos ASCII de 7 bits + `{'-', ':', '.', '+', '%', '_', '#', '*', '?', '!', '(', ')', ',', '=', '@', ';', '$', '''}`.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-210">A case-sensitive string (up too128 characters long) of ASCII 7-bit alphanumeric characters + `{'-', ':', '.', '+', '%', '_', '#', '*', '?', '!', '(', ')', ',', '=', '@', ';', '$', '''}`.</span></span> |
| <span data-ttu-id="0fe1e-211">generationId</span><span class="sxs-lookup"><span data-stu-id="0fe1e-211">generationId</span></span> |<span data-ttu-id="0fe1e-212">obrigatória, somente leitura</span><span class="sxs-lookup"><span data-stu-id="0fe1e-212">required, read-only</span></span> |<span data-ttu-id="0fe1e-213">Uma IoT diferencia maiusculas de minúsculas, gerado pelo hub, cadeia de caracteres a too128 caracteres.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-213">An IoT hub-generated, case-sensitive string up too128 characters long.</span></span> <span data-ttu-id="0fe1e-214">Esse valor é usado toodistinguish dispositivos com hello mesmo **deviceId**, quando tiver sido excluídos e criados novamente.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-214">This value is used toodistinguish devices with hello same **deviceId**, when they have been deleted and re-created.</span></span> |
| <span data-ttu-id="0fe1e-215">etag</span><span class="sxs-lookup"><span data-stu-id="0fe1e-215">etag</span></span> |<span data-ttu-id="0fe1e-216">obrigatória, somente leitura</span><span class="sxs-lookup"><span data-stu-id="0fe1e-216">required, read-only</span></span> |<span data-ttu-id="0fe1e-217">Uma cadeia de caracteres que representa um ETag fraco para a identidade do dispositivo hello, como por [RFC7232][lnk-rfc7232].</span><span class="sxs-lookup"><span data-stu-id="0fe1e-217">A string representing a weak ETag for hello device identity, as per [RFC7232][lnk-rfc7232].</span></span> |
| <span data-ttu-id="0fe1e-218">auth</span><span class="sxs-lookup"><span data-stu-id="0fe1e-218">auth</span></span> |<span data-ttu-id="0fe1e-219">opcional</span><span class="sxs-lookup"><span data-stu-id="0fe1e-219">optional</span></span> |<span data-ttu-id="0fe1e-220">Um objeto composto que contém as informações de autenticação e os materiais de segurança.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-220">A composite object containing authentication information and security materials.</span></span> |
| <span data-ttu-id="0fe1e-221">auth.symkey</span><span class="sxs-lookup"><span data-stu-id="0fe1e-221">auth.symkey</span></span> |<span data-ttu-id="0fe1e-222">opcional</span><span class="sxs-lookup"><span data-stu-id="0fe1e-222">optional</span></span> |<span data-ttu-id="0fe1e-223">Um objeto composto que contém as chaves primária e secundária, armazenadas no formato base64.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-223">A composite object containing a primary and a secondary key, stored in base64 format.</span></span> |
| <span data-ttu-id="0fe1e-224">status</span><span class="sxs-lookup"><span data-stu-id="0fe1e-224">status</span></span> |<span data-ttu-id="0fe1e-225">obrigatório</span><span class="sxs-lookup"><span data-stu-id="0fe1e-225">required</span></span> |<span data-ttu-id="0fe1e-226">Um indicador de acesso.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-226">An access indicator.</span></span> <span data-ttu-id="0fe1e-227">Pode estar **Habilitado** ou **Desabilitado**.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-227">Can be **Enabled** or **Disabled**.</span></span> <span data-ttu-id="0fe1e-228">Se **habilitado**, dispositivo Olá é permitido tooconnect.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-228">If **Enabled**, hello device is allowed tooconnect.</span></span> <span data-ttu-id="0fe1e-229">Se estiver **Desabilitado**, este dispositivo não poderá acessar qualquer ponto de extremidade voltado para o dispositivo.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-229">If **Disabled**, this device cannot access any device-facing endpoint.</span></span> |
| <span data-ttu-id="0fe1e-230">statusReason</span><span class="sxs-lookup"><span data-stu-id="0fe1e-230">statusReason</span></span> |<span data-ttu-id="0fe1e-231">opcional</span><span class="sxs-lookup"><span data-stu-id="0fe1e-231">optional</span></span> |<span data-ttu-id="0fe1e-232">Um 128 caracteres longa cadeia de caracteres que motivo Olá repositórios de status de identidade do dispositivo hello.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-232">A 128 character-long string that stores hello reason for hello device identity status.</span></span> <span data-ttu-id="0fe1e-233">Todos os caracteres UTF-8 são permitidos.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-233">All UTF-8 characters are allowed.</span></span> |
| <span data-ttu-id="0fe1e-234">statusUpdateTime</span><span class="sxs-lookup"><span data-stu-id="0fe1e-234">statusUpdateTime</span></span> |<span data-ttu-id="0fe1e-235">somente leitura</span><span class="sxs-lookup"><span data-stu-id="0fe1e-235">read-only</span></span> |<span data-ttu-id="0fe1e-236">Um indicador temporal, mostrando a data de saudação e a hora da última atualização de status hello.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-236">A temporal indicator, showing hello date and time of hello last status update.</span></span> |
| <span data-ttu-id="0fe1e-237">connectionState</span><span class="sxs-lookup"><span data-stu-id="0fe1e-237">connectionState</span></span> |<span data-ttu-id="0fe1e-238">somente leitura</span><span class="sxs-lookup"><span data-stu-id="0fe1e-238">read-only</span></span> |<span data-ttu-id="0fe1e-239">Um campo indicando o status da conexão: **Conectado** ou **Desconectado**.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-239">A field indicating connection status: either **Connected** or **Disconnected**.</span></span> <span data-ttu-id="0fe1e-240">Este campo representa Olá exibição IoT Hub de status de conexão do dispositivo hello.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-240">This field represents hello IoT Hub view of hello device connection status.</span></span> <span data-ttu-id="0fe1e-241">**Importante**: esse campo deve ser usado apenas para fins de desenvolvimento/depuração.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-241">**Important**: This field should be used only for development/debugging purposes.</span></span> <span data-ttu-id="0fe1e-242">estado de conexão de saudação é atualizado somente para dispositivos usando MQTT ou AMQP.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-242">hello connection state is updated only for devices using MQTT or AMQP.</span></span> <span data-ttu-id="0fe1e-243">Além disso, ele se baseia nos pings do nível de protocolo (pings MQTT ou AMQP) e pode ter um atraso máximo de apenas cinco minutos.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-243">Also, it is based on protocol-level pings (MQTT pings, or AMQP pings), and it can have a maximum delay of only 5 minutes.</span></span> <span data-ttu-id="0fe1e-244">Por esses motivos, pode haver falsos positivos, como dispositivos relatados como conectados, mas que estão desconectados.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-244">For these reasons, there can be false positives, such as devices reported as connected but that are disconnected.</span></span> |
| <span data-ttu-id="0fe1e-245">connectionStateUpdatedTime</span><span class="sxs-lookup"><span data-stu-id="0fe1e-245">connectionStateUpdatedTime</span></span> |<span data-ttu-id="0fe1e-246">somente leitura</span><span class="sxs-lookup"><span data-stu-id="0fe1e-246">read-only</span></span> |<span data-ttu-id="0fe1e-247">Um indicador temporal, mostrando date de hello e o último estado de conexão do tempo Olá foi atualizado.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-247">A temporal indicator, showing hello date and last time hello connection state was updated.</span></span> |
| <span data-ttu-id="0fe1e-248">lastActivityTime</span><span class="sxs-lookup"><span data-stu-id="0fe1e-248">lastActivityTime</span></span> |<span data-ttu-id="0fe1e-249">somente leitura</span><span class="sxs-lookup"><span data-stu-id="0fe1e-249">read-only</span></span> |<span data-ttu-id="0fe1e-250">Um indicador temporal, mostrando date de hello e última Olá dispositivo conectado, recebeu ou enviou uma mensagem.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-250">A temporal indicator, showing hello date and last time hello device connected, received, or sent a message.</span></span> |

> [!NOTE]
> <span data-ttu-id="0fe1e-251">Estado de Conexão só pode representar Olá exibição IoT Hub do status de saudação da conexão hello.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-251">Connection state can only represent hello IoT Hub view of hello status of hello connection.</span></span> <span data-ttu-id="0fe1e-252">Atualizações toothis estado pode ser atrasado, com as configurações e condições da rede.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-252">Updates toothis state may be delayed, depending on network conditions and configurations.</span></span>

## <a name="additional-reference-material"></a><span data-ttu-id="0fe1e-253">Material de referência adicional</span><span class="sxs-lookup"><span data-stu-id="0fe1e-253">Additional reference material</span></span>

<span data-ttu-id="0fe1e-254">Outros tópicos de referência Olá guia do desenvolvedor de IoT Hub incluem:</span><span class="sxs-lookup"><span data-stu-id="0fe1e-254">Other reference topics in hello IoT Hub developer guide include:</span></span>

* <span data-ttu-id="0fe1e-255">[Pontos de extremidade de IoT Hub] [ lnk-endpoints] descreve Olá vários pontos de extremidade que expõe a cada hub IoT para operações de tempo de execução e gerenciamento.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-255">[IoT Hub endpoints][lnk-endpoints] describes hello various endpoints that each IoT hub exposes for run-time and management operations.</span></span>
* <span data-ttu-id="0fe1e-256">[Limitação e cotas] [ lnk-quotas] descreve cotas hello e comportamentos que se aplicam a toohello serviço de IoT Hub de limitação.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-256">[Throttling and quotas][lnk-quotas] describes hello quotas and throttling behaviors that apply toohello IoT Hub service.</span></span>
* <span data-ttu-id="0fe1e-257">[SDKs do Azure de dispositivo e serviço IoT] [ lnk-sdks] listas Olá SDKs, você pode usar ao desenvolver aplicativos do dispositivo e o serviço que interagem com o IoT Hub de vários idiomas.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-257">[Azure IoT device and service SDKs][lnk-sdks] lists hello various language SDKs you can use when you develop both device and service apps that interact with IoT Hub.</span></span>
* <span data-ttu-id="0fe1e-258">[Linguagem de consulta de IoT Hub] [ lnk-query] descreve a linguagem de consulta de saudação, você pode usar informações de tooretrieve de IoT Hub sobre seus trabalhos e twins do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-258">[IoT Hub query language][lnk-query] describes hello query language you can use tooretrieve information from IoT Hub about your device twins and jobs.</span></span>
* <span data-ttu-id="0fe1e-259">[Suporte de IoT Hub MQTT] [ lnk-devguide-mqtt] fornece mais informações sobre o suporte de IoT Hub para o protocolo MQTT hello.</span><span class="sxs-lookup"><span data-stu-id="0fe1e-259">[IoT Hub MQTT support][lnk-devguide-mqtt] provides more information about IoT Hub support for hello MQTT protocol.</span></span>

## <a name="next-steps"></a><span data-ttu-id="0fe1e-260">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="0fe1e-260">Next steps</span></span>

<span data-ttu-id="0fe1e-261">Agora, você aprendeu como registro de identidade do toouse Olá Hub IoT, você pode estar interessado em Olá tópicos do guia de desenvolvedor de IoT Hub a seguir:</span><span class="sxs-lookup"><span data-stu-id="0fe1e-261">Now you have learned how toouse hello IoT Hub identity registry, you may be interested in hello following IoT Hub developer guide topics:</span></span>

* <span data-ttu-id="0fe1e-262">[Controlar acesso tooIoT Hub][lnk-devguide-security]</span><span class="sxs-lookup"><span data-stu-id="0fe1e-262">[Control access tooIoT Hub][lnk-devguide-security]</span></span>
* <span data-ttu-id="0fe1e-263">[Usar configurações e estado do dispositivo twins toosynchronize][lnk-devguide-device-twins]</span><span class="sxs-lookup"><span data-stu-id="0fe1e-263">[Use device twins toosynchronize state and configurations][lnk-devguide-device-twins]</span></span>
* <span data-ttu-id="0fe1e-264">[Invocar um método direto em um dispositivo][lnk-devguide-directmethods]</span><span class="sxs-lookup"><span data-stu-id="0fe1e-264">[Invoke a direct method on a device][lnk-devguide-directmethods]</span></span>
* <span data-ttu-id="0fe1e-265">[Agendar trabalhos em vários dispositivos][lnk-devguide-jobs]</span><span class="sxs-lookup"><span data-stu-id="0fe1e-265">[Schedule jobs on multiple devices][lnk-devguide-jobs]</span></span>

<span data-ttu-id="0fe1e-266">Se você quiser tootry alguns dos conceitos de saudação descritos neste artigo, você pode estar interessado em Olá seguindo o tutorial de IoT Hub:</span><span class="sxs-lookup"><span data-stu-id="0fe1e-266">If you would like tootry out some of hello concepts described in this article, you may be interested in hello following IoT Hub tutorial:</span></span>

* <span data-ttu-id="0fe1e-267">[Introdução ao Hub IoT do Azure][lnk-getstarted-tutorial]</span><span class="sxs-lookup"><span data-stu-id="0fe1e-267">[Get started with Azure IoT Hub][lnk-getstarted-tutorial]</span></span>

<!-- Links and images -->

[lnk-endpoints]: iot-hub-devguide-endpoints.md
[lnk-quotas]: iot-hub-devguide-quotas-throttling.md
[lnk-sdks]: iot-hub-devguide-sdks.md
[lnk-query]: iot-hub-devguide-query-language.md
[lnk-devguide-mqtt]: iot-hub-mqtt-support.md
[lnk-resource-provider-apis]: https://docs.microsoft.com/rest/api/iothub/iothubresource
[lnk-guidance-provisioning]: iot-hub-devguide-identity-registry.md#device-provisioning
[lnk-guidance-heartbeat]: iot-hub-devguide-identity-registry.md#device-heartbeat
[lnk-rfc7232]: https://tools.ietf.org/html/rfc7232
[lnk-bulk-identity]: iot-hub-bulk-identity-mgmt.md
[lnk-export]: iot-hub-devguide-identity-registry.md#import-and-export-device-identities
[lnk-devguide-opmon]: iot-hub-operations-monitoring.md

[lnk-devguide-security]: iot-hub-devguide-security.md
[lnk-devguide-device-twins]: iot-hub-devguide-device-twins.md
[lnk-devguide-directmethods]: iot-hub-devguide-direct-methods.md
[lnk-devguide-jobs]: iot-hub-devguide-jobs.md

[lnk-getstarted-tutorial]: iot-hub-csharp-csharp-getstarted.md
