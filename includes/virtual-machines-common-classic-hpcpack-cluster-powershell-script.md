



<span data-ttu-id="debdb-101">Dependendo do ambiente e opções, script hello pode criar todos os infraestrutura de cluster hello, incluindo Olá rede virtual do Azure, contas de armazenamento, serviços de nuvem, controlador de domínio, bancos de dados SQL locais ou remotos, nó principal e cluster adicionais nós.</span><span class="sxs-lookup"><span data-stu-id="debdb-101">Depending on your environment and choices, hello script can create all hello cluster infrastructure, including hello Azure virtual network, storage accounts, cloud services, domain controller, remote or local SQL databases, head node, and additional cluster nodes.</span></span> <span data-ttu-id="debdb-102">Como alternativa, script hello pode usar a infraestrutura do Azure já existente e criar somente Olá nós de cluster HPC.</span><span class="sxs-lookup"><span data-stu-id="debdb-102">Alternatively, hello script can use pre-existing Azure infrastructure and create only hello HPC cluster nodes.</span></span>

<span data-ttu-id="debdb-103">Para obter informações sobre o planejamento de um cluster de HPC Pack, consulte Olá [avaliação do produto e planejamento](https://technet.microsoft.com/library/jj899596.aspx) e [Introdução](https://technet.microsoft.com/library/jj899590.aspx) conteúdo Olá Biblioteca TechNet do HPC Pack 2012 R2.</span><span class="sxs-lookup"><span data-stu-id="debdb-103">For background information about planning an HPC Pack cluster, see hello [Product Evaluation and Planning](https://technet.microsoft.com/library/jj899596.aspx) and [Getting Started](https://technet.microsoft.com/library/jj899590.aspx) content in hello HPC Pack 2012 R2 TechNet Library.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="debdb-104">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="debdb-104">Prerequisites</span></span>
* <span data-ttu-id="debdb-105">**Assinatura do Azure**: você pode usar uma assinatura em qualquer serviço Global Azure ou Azure China hello.</span><span class="sxs-lookup"><span data-stu-id="debdb-105">**Azure subscription**: You can use a subscription in either hello Azure Global or Azure China service.</span></span> <span data-ttu-id="debdb-106">Seus limites de assinatura afetam o número de saudação e tipo de nós de cluster, que você pode implantar.</span><span class="sxs-lookup"><span data-stu-id="debdb-106">Your subscription limits affect hello number and type of cluster nodes you can deploy.</span></span> <span data-ttu-id="debdb-107">Para obter informações, consulte [Limites, cotas e restrições de serviço e assinatura do Azure](../articles/azure-subscription-service-limits.md).</span><span class="sxs-lookup"><span data-stu-id="debdb-107">For information, see [Azure subscription and service limits, quotas, and constraints](../articles/azure-subscription-service-limits.md).</span></span>
* <span data-ttu-id="debdb-108">**Computador cliente com Windows com o Azure PowerShell 0.8.10 ou posterior instalado e configurado**: consulte [começar com o Azure PowerShell](/powershell/azureps-cmdlets-docs) para instalação instruções e etapas tooconnect tooyour assinatura do Azure.</span><span class="sxs-lookup"><span data-stu-id="debdb-108">**Windows client computer with Azure PowerShell 0.8.10 or later installed and configured**: See [Get started with Azure PowerShell](/powershell/azureps-cmdlets-docs) for installation instructions and steps tooconnect tooyour Azure subscription.</span></span>
* <span data-ttu-id="debdb-109">**Script de implantação IaaS do HPC Pack**: Baixe e descompacte a versão mais recente de saudação do script Olá Olá [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=44949).</span><span class="sxs-lookup"><span data-stu-id="debdb-109">**HPC Pack IaaS deployment script**: Download and unpack hello latest version of hello script from hello [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=44949).</span></span> <span data-ttu-id="debdb-110">Verifique a versão de saudação do script hello executando `New-HPCIaaSCluster.ps1 –Version`.</span><span class="sxs-lookup"><span data-stu-id="debdb-110">Check hello version of hello script by running `New-HPCIaaSCluster.ps1 –Version`.</span></span> <span data-ttu-id="debdb-111">Este artigo se baseia na versão 4.5.2 do script hello.</span><span class="sxs-lookup"><span data-stu-id="debdb-111">This article is based on version 4.5.2 of hello script.</span></span>
* <span data-ttu-id="debdb-112">**Arquivo de configuração do script**: criar um arquivo XML que o script hello usa cluster HPC tooconfigure hello.</span><span class="sxs-lookup"><span data-stu-id="debdb-112">**Script configuration file**: Create an XML file that hello script uses tooconfigure hello HPC cluster.</span></span> <span data-ttu-id="debdb-113">Para obter informações e exemplos, consulte as seções mais adiante neste artigo e Olá arquivo Manual.rtf que acompanha o script de implantação de saudação.</span><span class="sxs-lookup"><span data-stu-id="debdb-113">For information and examples, see sections later in this article and hello file Manual.rtf that accompanies hello deployment script.</span></span>

## <a name="syntax"></a><span data-ttu-id="debdb-114">Sintaxe</span><span class="sxs-lookup"><span data-stu-id="debdb-114">Syntax</span></span>
```PowerShell
New-HPCIaaSCluster.ps1 [-ConfigFile] <String> [-AdminUserName]<String> [[-AdminPassword] <String>] [[-HPCImageName] <String>] [[-LogFile] <String>] [-Force] [-NoCleanOnFailure] [-PSSessionSkipCACheck] [<CommonParameters>]
```
> [!NOTE]
> <span data-ttu-id="debdb-115">Execute o script hello como um administrador.</span><span class="sxs-lookup"><span data-stu-id="debdb-115">Run hello script as an administrator.</span></span>
> 
> 

### <a name="parameters"></a><span data-ttu-id="debdb-116">parâmetros</span><span class="sxs-lookup"><span data-stu-id="debdb-116">Parameters</span></span>
* <span data-ttu-id="debdb-117">**ConfigFile**: Especifica o caminho do arquivo de saudação do cluster HPC Olá configuração arquivo toodescribe hello.</span><span class="sxs-lookup"><span data-stu-id="debdb-117">**ConfigFile**: Specifies hello file path of hello configuration file toodescribe hello HPC cluster.</span></span> <span data-ttu-id="debdb-118">Ver mais informações sobre o arquivo de configuração Olá neste tópico, ou no arquivo hello Manual.rtf na pasta Olá que contém o script hello.</span><span class="sxs-lookup"><span data-stu-id="debdb-118">See more about hello configuration file in this topic, or in hello file Manual.rtf in hello folder containing hello script.</span></span>
* <span data-ttu-id="debdb-119">**AdminUserName**: Especifica o nome de usuário de saudação.</span><span class="sxs-lookup"><span data-stu-id="debdb-119">**AdminUserName**: Specifies hello user name.</span></span> <span data-ttu-id="debdb-120">Se a floresta de domínio Olá criada pelo script hello, isso torna-se nome de usuário de administrador local Olá para todas as máquinas virtuais e o nome do administrador de domínio hello.</span><span class="sxs-lookup"><span data-stu-id="debdb-120">If hello domain forest is created by hello script, this becomes hello local administrator user name for all VMs and hello domain administrator name.</span></span> <span data-ttu-id="debdb-121">Se já existir uma floresta de domínio hello, isso Especifica o usuário de domínio Olá Olá tooinstall de nome de usuário de administrador local HPC Pack.</span><span class="sxs-lookup"><span data-stu-id="debdb-121">If hello domain forest already exists, this specifies hello domain user as hello local administrator user name tooinstall HPC Pack.</span></span>
* <span data-ttu-id="debdb-122">**AdminPassword**: Especifica a senha do administrador do hello.</span><span class="sxs-lookup"><span data-stu-id="debdb-122">**AdminPassword**: Specifies hello administrator’s password.</span></span> <span data-ttu-id="debdb-123">Se não for especificado na linha de comando hello, script hello solicita tooinput senha de saudação.</span><span class="sxs-lookup"><span data-stu-id="debdb-123">If not specified in hello command line, hello script prompts you tooinput hello password.</span></span>
* <span data-ttu-id="debdb-124">**HPCImageName** (opcional): especifica nome de imagem de VM do HPC Pack Olá usado cluster HPC toodeploy hello.</span><span class="sxs-lookup"><span data-stu-id="debdb-124">**HPCImageName** (optional): Specifies hello HPC Pack VM image name used toodeploy hello HPC cluster.</span></span> <span data-ttu-id="debdb-125">Ele deve ser uma imagem fornecida pela Microsoft HPC Pack de saudação do Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="debdb-125">It must be a Microsoft-provided HPC Pack image from hello Azure Marketplace.</span></span> <span data-ttu-id="debdb-126">Se hello (recomendado normalmente), não especificado script escolhe hello mais recente publicada [HPC Pack 2012 R2 imagem](https://azure.microsoft.com/marketplace/partners/microsoft/hpcpack2012r2onwindowsserver2012r2/).</span><span class="sxs-lookup"><span data-stu-id="debdb-126">If not specified (recommended usually), hello script chooses hello latest published [HPC Pack 2012 R2 image](https://azure.microsoft.com/marketplace/partners/microsoft/hpcpack2012r2onwindowsserver2012r2/).</span></span> <span data-ttu-id="debdb-127">imagem mais recente Olá baseia-se no Windows Server 2012 R2 Datacenter com HPC Pack 2012 R2 Update 3 instalado.</span><span class="sxs-lookup"><span data-stu-id="debdb-127">hello latest image is based on Windows Server 2012 R2 Datacenter with HPC Pack 2012 R2 Update 3 installed.</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="debdb-128">A implantação falhará se você não especificar uma imagem válida do Pacote HPC.</span><span class="sxs-lookup"><span data-stu-id="debdb-128">Deployment fails if you don't specify a valid HPC Pack image.</span></span>
  > 
  > 
* <span data-ttu-id="debdb-129">**Arquivo de log** (opcional): Especifica o caminho do arquivo de log de implantação de saudação.</span><span class="sxs-lookup"><span data-stu-id="debdb-129">**LogFile** (optional): Specifies hello deployment log file path.</span></span> <span data-ttu-id="debdb-130">Se não for especificado, o script hello cria um arquivo de log no diretório temp de saudação do computador Olá executando o script hello.</span><span class="sxs-lookup"><span data-stu-id="debdb-130">If not specified, hello script creates a log file in hello temp directory of hello computer running hello script.</span></span>
* <span data-ttu-id="debdb-131">**Forçar** (opcional): suprime todos os prompts de confirmação de saudação.</span><span class="sxs-lookup"><span data-stu-id="debdb-131">**Force** (optional): Suppresses all hello confirmation prompts.</span></span>
* <span data-ttu-id="debdb-132">**NoCleanOnFailure** (opcional): Especifica que Olá VMs do Azure que não são implantados com êxito não serão removidas.</span><span class="sxs-lookup"><span data-stu-id="debdb-132">**NoCleanOnFailure** (optional): Specifies that hello Azure VMs that are not successfully deployed are not removed.</span></span> <span data-ttu-id="debdb-133">Remover essas VMs manualmente antes de executar novamente a implantação de Olá Olá script toocontinue ou Olá implantação poderá falhar.</span><span class="sxs-lookup"><span data-stu-id="debdb-133">Remove these VMs manually before rerunning hello script toocontinue hello deployment, or hello deployment may fail.</span></span>
* <span data-ttu-id="debdb-134">**PSSessionSkipCACheck** (opcional): para cada serviço de nuvem com VMs implantadas por esse script, um certificado autoassinado é gerado automaticamente pelo Azure e Olá todas as VMs no serviço de nuvem Olá usar este certificado Olá padrão do Windows Certificado remoto Management (WinRM).</span><span class="sxs-lookup"><span data-stu-id="debdb-134">**PSSessionSkipCACheck** (optional): For every cloud service with VMs deployed by this script, a self-signed certificate is automatically generated by Azure, and all hello VMs in hello cloud service use this certificate as hello default Windows Remote Management (WinRM) certificate.</span></span> <span data-ttu-id="debdb-135">toodeploy recursos do HPC nessas VMs do Azure, Olá script por padrão instala temporariamente esses certificados no hello computador Local\\repositório de autoridades de certificação de raiz confiável do toosuppress de computador cliente Olá Olá segurança "autoridade de certificação não confiável" Erro durante a execução do script.</span><span class="sxs-lookup"><span data-stu-id="debdb-135">toodeploy HPC features in these Azure VMs, hello script by default temporarily installs these certificates in hello Local Computer\\Trusted Root Certification Authorities store of hello client computer toosuppress hello “not trusted CA” security error during script execution.</span></span> <span data-ttu-id="debdb-136">certificados de saudação são removidos quando Olá script for concluído.</span><span class="sxs-lookup"><span data-stu-id="debdb-136">hello certificates are removed when hello script finishes.</span></span> <span data-ttu-id="debdb-137">Se esse parâmetro for especificado, certificados de saudação não estão instalados no computador do cliente de saudação e aviso de segurança de saudação é suprimido.</span><span class="sxs-lookup"><span data-stu-id="debdb-137">If this parameter is specified, hello certificates are not installed in hello client computer, and hello security warning is suppressed.</span></span>
  
  > [!IMPORTANT]
  > <span data-ttu-id="debdb-138">Esse parâmetro não é recomendado para implantações de produção.</span><span class="sxs-lookup"><span data-stu-id="debdb-138">This parameter is not recommended for production deployments.</span></span>
  > 
  > 

### <a name="example"></a><span data-ttu-id="debdb-139">Exemplo</span><span class="sxs-lookup"><span data-stu-id="debdb-139">Example</span></span>
<span data-ttu-id="debdb-140">Olá, exemplo a seguir cria um cluster de HPC Pack usando o arquivo de configuração *MyConfigFile.xml*e especifica as credenciais de administrador para instalar o cluster de saudação.</span><span class="sxs-lookup"><span data-stu-id="debdb-140">hello following example creates an HPC Pack cluster using the configuration file *MyConfigFile.xml*, and specifies administrator credentials for installing hello cluster.</span></span>

```PowerShell
.\New-HPCIaaSCluster.ps1 –ConfigFile MyConfigFile.xml -AdminUserName <username> –AdminPassword <password>
```

### <a name="additional-considerations"></a><span data-ttu-id="debdb-141">Considerações adicionais</span><span class="sxs-lookup"><span data-stu-id="debdb-141">Additional considerations</span></span>
* <span data-ttu-id="debdb-142">script Hello, opcionalmente, pode habilitar o envio de trabalho por meio do portal de web do HPC Pack hello ou hello HPC Pack REST API.</span><span class="sxs-lookup"><span data-stu-id="debdb-142">hello script can optionally enable job submission through hello HPC Pack web portal or hello HPC Pack REST API.</span></span>
* <span data-ttu-id="debdb-143">script Hello opcionalmente pode executar scripts de pré e pós-configuração personalizados no nó de cabeçalho Olá tooinstall o software adicional ou definir outras configurações.</span><span class="sxs-lookup"><span data-stu-id="debdb-143">hello script can optionally run custom pre- and post-configuration scripts on hello head node if you want tooinstall additional software or configure other settings.</span></span>

## <a name="configuration-file"></a><span data-ttu-id="debdb-144">Arquivo de configuração</span><span class="sxs-lookup"><span data-stu-id="debdb-144">Configuration file</span></span>
<span data-ttu-id="debdb-145">arquivo de configuração de saudação para script de implantação de saudação é um arquivo XML.</span><span class="sxs-lookup"><span data-stu-id="debdb-145">hello configuration file for hello deployment script is an XML file.</span></span> <span data-ttu-id="debdb-146">arquivo de esquema Olá HPCIaaSClusterConfig.xsd está na pasta de script de implantação de IaaS do HPC Pack hello.</span><span class="sxs-lookup"><span data-stu-id="debdb-146">hello schema file HPCIaaSClusterConfig.xsd is in hello HPC Pack IaaS deployment script folder.</span></span> <span data-ttu-id="debdb-147">**IaaSClusterConfig** é elemento de raiz Olá Olá do arquivo de configuração, que contém elementos filhos de saudação descritos em detalhes no arquivo hello Manual.rtf na pasta de script de implantação de saudação.</span><span class="sxs-lookup"><span data-stu-id="debdb-147">**IaaSClusterConfig** is hello root element of hello configuration file, which contains hello child elements described in detail in hello file Manual.rtf in hello deployment script folder.</span></span>

