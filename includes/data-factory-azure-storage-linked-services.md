### <a name="azure-storage-linked-service"></a><span data-ttu-id="ed784-101">Serviço vinculado de armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="ed784-101">Azure Storage Linked Service</span></span>
<span data-ttu-id="ed784-102">O **serviço vinculado do Azure Storage** permite que você vincule uma conta de armazenamento do Azure ao Azure Data Factory usando a **chave de conta**, o que oferece ao data factory acesso global ao Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="ed784-102">The **Azure Storage linked service** allows you to link an Azure storage account to an Azure data factory by using the **account key**, which provides the data factory with global access to the Azure Storage.</span></span> <span data-ttu-id="ed784-103">A tabela a seguir fornece a descrição para elementos JSON específicas para o serviço de Armazenamento do Azure vinculado.</span><span class="sxs-lookup"><span data-stu-id="ed784-103">The following table provides description for JSON elements specific to Azure Storage linked service.</span></span>

| <span data-ttu-id="ed784-104">Propriedade</span><span class="sxs-lookup"><span data-stu-id="ed784-104">Property</span></span> | <span data-ttu-id="ed784-105">Descrição</span><span class="sxs-lookup"><span data-stu-id="ed784-105">Description</span></span> | <span data-ttu-id="ed784-106">Obrigatório</span><span class="sxs-lookup"><span data-stu-id="ed784-106">Required</span></span> |
|:--- |:--- |:--- |
| <span data-ttu-id="ed784-107">type</span><span class="sxs-lookup"><span data-stu-id="ed784-107">type</span></span> |<span data-ttu-id="ed784-108">A propriedade type deve ser definida como: **AzureStorage**</span><span class="sxs-lookup"><span data-stu-id="ed784-108">The type property must be set to: **AzureStorage**</span></span> |<span data-ttu-id="ed784-109">Sim</span><span class="sxs-lookup"><span data-stu-id="ed784-109">Yes</span></span> |
| <span data-ttu-id="ed784-110">connectionString</span><span class="sxs-lookup"><span data-stu-id="ed784-110">connectionString</span></span> |<span data-ttu-id="ed784-111">Especifique as informações necessárias para se conectar ao armazenamento do Azure para a propriedade connectionString.</span><span class="sxs-lookup"><span data-stu-id="ed784-111">Specify information needed to connect to Azure storage for the connectionString property.</span></span> |<span data-ttu-id="ed784-112">Sim</span><span class="sxs-lookup"><span data-stu-id="ed784-112">Yes</span></span> |

<span data-ttu-id="ed784-113">Consulte o seguinte artigo para obter as etapas para exibir/copiar a chave de conta para um armazenamento do Azure: [Exibir, copiar e regenerar as chaves de acesso de armazenamento](../articles/storage/common/storage-create-storage-account.md#manage-your-storage-account).</span><span class="sxs-lookup"><span data-stu-id="ed784-113">See the following article for steps to view/copy the account key for an Azure Storage: [View, copy, and regenerate storage access keys](../articles/storage/common/storage-create-storage-account.md#manage-your-storage-account).</span></span>

<span data-ttu-id="ed784-114">**Exemplo:**</span><span class="sxs-lookup"><span data-stu-id="ed784-114">**Example:**</span></span>  

```json
{  
    "name": "StorageLinkedService",  
    "properties": {  
        "type": "AzureStorage",  
        "typeProperties": {  
            "connectionString": "DefaultEndpointsProtocol=https;AccountName=<accountname>;AccountKey=<accountkey>"  
        }  
    }  
}  
```

### <a name="azure-storage-sas-linked-service"></a><span data-ttu-id="ed784-115">Serviço vinculado de SAS de armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="ed784-115">Azure Storage Sas Linked Service</span></span>
<span data-ttu-id="ed784-116">Uma SAS (Assinatura de Acesso Compartilhado) fornece acesso delegado aos recursos da sua conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="ed784-116">A shared access signature (SAS) provides delegated access to resources in your storage account.</span></span> <span data-ttu-id="ed784-117">Isso permite conceder a um cliente permissões limitadas a objetos na sua conta de armazenamento por um período especificado e com um conjunto determinado de permissões, sem precisar compartilhar suas chaves de acesso de conta.</span><span class="sxs-lookup"><span data-stu-id="ed784-117">It allows you to grant a client limited permissions to objects in your storage account for a specified period of time and with a specified set of permissions, without having to share your account access keys.</span></span> <span data-ttu-id="ed784-118">A SAS é um URI que engloba em seus parâmetros de consulta todas as informações necessárias para o acesso autenticado a um recurso de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="ed784-118">The SAS is a URI that encompasses in its query parameters all the information necessary for authenticated access to a storage resource.</span></span> <span data-ttu-id="ed784-119">Para acessar recursos de armazenamento com a SAS, o cliente só precisa passar a SAS ao construtor apropriado ou ao método apropriado.</span><span class="sxs-lookup"><span data-stu-id="ed784-119">To access storage resources with the SAS, the client only needs to pass in the SAS to the appropriate constructor or method.</span></span> <span data-ttu-id="ed784-120">Para obter informações detalhadas sobre SAS, consulte [Assinaturas de Acesso Compartilhado: entendendo o modelo SAS](../articles/storage/common/storage-dotnet-shared-access-signature-part-1.md)</span><span class="sxs-lookup"><span data-stu-id="ed784-120">For detailed information about SAS, see [Shared Access Signatures: Understanding the SAS Model](../articles/storage/common/storage-dotnet-shared-access-signature-part-1.md)</span></span>

> [!IMPORTANT]
> <span data-ttu-id="ed784-121">O Azure Data Factory agora dá suporte somente a **SAS do serviço**, mas não SAS de conta.</span><span class="sxs-lookup"><span data-stu-id="ed784-121">Azure Data Factory now only supports **Service SAS** but not Account SAS.</span></span> <span data-ttu-id="ed784-122">Consulte os [Tipos de Assinaturas de Acesso Compartilhado](../articles/storage/common/storage-dotnet-shared-access-signature-part-1.md#types-of-shared-access-signatures) para obter detalhes sobre esses dois tipos e como criá-los.</span><span class="sxs-lookup"><span data-stu-id="ed784-122">See [Types of Shared Access Signatures](../articles/storage/common/storage-dotnet-shared-access-signature-part-1.md#types-of-shared-access-signatures) for details about these two types and how to construct.</span></span> <span data-ttu-id="ed784-123">Observe que a URL de SAS que pode ser gerada no portal do Azure ou no Gerenciador de Armazenamento é uma SAS de conta, que não tem suporte.</span><span class="sxs-lookup"><span data-stu-id="ed784-123">Note the SAS URL generable from Azure portal or Storage Explorer is an Account SAS, which is not supported.</span></span>
> 

<span data-ttu-id="ed784-124">O serviço vinculado de SAS de armazenamento do Azure permite que você vincule uma conta de armazenamento do Azure ao Azure Data Factory usando uma SAS (Assinatura de Acesso Compartilhado).</span><span class="sxs-lookup"><span data-stu-id="ed784-124">The Azure Storage SAS linked service allows you to link an Azure Storage Account to an Azure data factory by using a Shared Access Signature (SAS).</span></span> <span data-ttu-id="ed784-125">Isso fornece ao data factory acesso restrito/acesso total, com limite de tempo/recursos específicos (blob/contêiner) no armazenamento.</span><span class="sxs-lookup"><span data-stu-id="ed784-125">It provides the data factory with restricted/time-bound access to all/specific resources (blob/container) in the storage.</span></span> <span data-ttu-id="ed784-126">A tabela a seguir fornece a descrição para elementos JSON específicos para o Serviço vinculado de SAS de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="ed784-126">The following table provides description for JSON elements specific to Azure Storage SAS linked service.</span></span> 

| <span data-ttu-id="ed784-127">Propriedade</span><span class="sxs-lookup"><span data-stu-id="ed784-127">Property</span></span> | <span data-ttu-id="ed784-128">Descrição</span><span class="sxs-lookup"><span data-stu-id="ed784-128">Description</span></span> | <span data-ttu-id="ed784-129">Obrigatório</span><span class="sxs-lookup"><span data-stu-id="ed784-129">Required</span></span> |
|:--- |:--- |:--- |
| <span data-ttu-id="ed784-130">type</span><span class="sxs-lookup"><span data-stu-id="ed784-130">type</span></span> |<span data-ttu-id="ed784-131">A propriedade type deve ser definida como: **AzureStorageSas**</span><span class="sxs-lookup"><span data-stu-id="ed784-131">The type property must be set to: **AzureStorageSas**</span></span> |<span data-ttu-id="ed784-132">Sim</span><span class="sxs-lookup"><span data-stu-id="ed784-132">Yes</span></span> |
| <span data-ttu-id="ed784-133">sasUri</span><span class="sxs-lookup"><span data-stu-id="ed784-133">sasUri</span></span> |<span data-ttu-id="ed784-134">Especificar o URI de Assinatura de Acesso Compartilhado para os recursos de Armazenamento do Azure, como blob, contêiner ou tabela.</span><span class="sxs-lookup"><span data-stu-id="ed784-134">Specify Shared Access Signature URI to the Azure Storage resources such as blob, container, or table.</span></span>  |<span data-ttu-id="ed784-135">Sim</span><span class="sxs-lookup"><span data-stu-id="ed784-135">Yes</span></span> |

<span data-ttu-id="ed784-136">**Exemplo:**</span><span class="sxs-lookup"><span data-stu-id="ed784-136">**Example:**</span></span>

```json
{  
    "name": "StorageSasLinkedService",  
    "properties": {  
        "type": "AzureStorageSas",  
        "typeProperties": {  
            "sasUri": "<Specify SAS URI of the Azure Storage resource>"   
        }  
    }  
}  
```

<span data-ttu-id="ed784-137">Ao criar um **URI de SAS**, considerando o seguinte:</span><span class="sxs-lookup"><span data-stu-id="ed784-137">When creating an **SAS URI**, considering the following:</span></span>  

* <span data-ttu-id="ed784-138">Defina as **permissões** apropriadas de leitura/gravação em objetos com base em como o serviço vinculado (leitura, gravação, leitura/gravação) será usado no data factory.</span><span class="sxs-lookup"><span data-stu-id="ed784-138">Set appropriate read/write **permissions** on objects based on how the linked service (read, write, read/write) is used in your data factory.</span></span>
* <span data-ttu-id="ed784-139">Defina o **Tempo de expiração** adequadamente.</span><span class="sxs-lookup"><span data-stu-id="ed784-139">Set **Expiry time** appropriately.</span></span> <span data-ttu-id="ed784-140">Certifique-se de que o acesso aos objetos de Armazenamento do Azure não expira dentro do período ativo do pipeline.</span><span class="sxs-lookup"><span data-stu-id="ed784-140">Make sure that the access to Azure Storage objects does not expire within the active period of the pipeline.</span></span>
* <span data-ttu-id="ed784-141">O URI deve ser criado no contêiner/blob à direita ou no nível de tabela com base na necessidade.</span><span class="sxs-lookup"><span data-stu-id="ed784-141">Uri should be created at the right container/blob or Table level based on the need.</span></span> <span data-ttu-id="ed784-142">Um URI de SAS para um blob do Azure permite que o serviço Data Factory acesse o blob específico.</span><span class="sxs-lookup"><span data-stu-id="ed784-142">A SAS Uri to an Azure blob allows the Data Factory service to access that particular blob.</span></span> <span data-ttu-id="ed784-143">Um URI de SAS para um contêiner de blob do Azure permite que o serviço Data Factory faça iteração por meio dos blobs nesse contêiner.</span><span class="sxs-lookup"><span data-stu-id="ed784-143">A SAS Uri to an Azure blob container allows the Data Factory service to iterate through blobs in that container.</span></span> <span data-ttu-id="ed784-144">Se você precisar fornecer acesso para mais/menos objetos posteriormente, ou atualizar o URI de SAS, lembre-se de atualizar o serviço vinculado com o novo URI.</span><span class="sxs-lookup"><span data-stu-id="ed784-144">If you need to provide access more/fewer objects later, or update the SAS URI, remember to update the linked service with the new URI.</span></span>   

