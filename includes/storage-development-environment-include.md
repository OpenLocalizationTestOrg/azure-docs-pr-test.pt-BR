## <a name="set-up-your-development-environment"></a><span data-ttu-id="c03f8-101">Configurar seu ambiente de desenvolvimento</span><span class="sxs-lookup"><span data-stu-id="c03f8-101">Set up your development environment</span></span>
<span data-ttu-id="c03f8-102">Em seguida, configure seu ambiente de desenvolvimento no Visual Studio para poder ficar pronto para experimentar os exemplos de código neste guia.</span><span class="sxs-lookup"><span data-stu-id="c03f8-102">Next, set up your development environment in Visual Studio so you're ready to try the code examples in this guide.</span></span>

### <a name="create-a-windows-console-application-project"></a><span data-ttu-id="c03f8-103">Criar um projeto de aplicativo de console do Windows.</span><span class="sxs-lookup"><span data-stu-id="c03f8-103">Create a Windows console application project</span></span>
<span data-ttu-id="c03f8-104">No Visual Studio, crie um novo aplicativo de console do Windows.</span><span class="sxs-lookup"><span data-stu-id="c03f8-104">In Visual Studio, create a new Windows console application.</span></span> <span data-ttu-id="c03f8-105">As etapas a seguir mostram como criar um aplicativo de console no Visual Studio 2017. No entanto, as etapas são semelhantes em outras versões do Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c03f8-105">The following steps show you how to create a console application in Visual Studio 2017, however, the steps are similar in other versions of Visual Studio.</span></span>

1. <span data-ttu-id="c03f8-106">Selecione **Arquivo** > **Novo** > **Projeto**</span><span class="sxs-lookup"><span data-stu-id="c03f8-106">Select **File** > **New** > **Project**</span></span>
2. <span data-ttu-id="c03f8-107">Selecione **Instalado** > **Modelos** > **Visual C#** > **Área de trabalho clássica do Windows**</span><span class="sxs-lookup"><span data-stu-id="c03f8-107">Select **Installed** > **Templates** > **Visual C#** > **Windows Classic Desktop**</span></span>
3. <span data-ttu-id="c03f8-108">Selecione **Aplicativo do Console (.NET Framework)**</span><span class="sxs-lookup"><span data-stu-id="c03f8-108">Select **Console App (.NET Framework)**</span></span>
4. <span data-ttu-id="c03f8-109">Insira um nome para seu aplicativo no campo **Nome:**</span><span class="sxs-lookup"><span data-stu-id="c03f8-109">Enter a name for your application in the **Name:** field</span></span>
5. <span data-ttu-id="c03f8-110">Selecione **OK**</span><span class="sxs-lookup"><span data-stu-id="c03f8-110">Select **OK**</span></span>

![Diálogo de criação de projeto no Visual Studio](./media/storage-development-environment-include/storage-development-environment-include-1.png)

<span data-ttu-id="c03f8-112">Todos os exemplos de código neste tutorial podem ser adicionados ao método `Main()` no arquivo`Program.cs` do aplicativo de console.</span><span class="sxs-lookup"><span data-stu-id="c03f8-112">All code examples in this tutorial can be added to the `Main()` method of your console application's `Program.cs` file.</span></span>

<span data-ttu-id="c03f8-113">Você pode usar a Biblioteca de Cliente da Armazenamento do Azure em qualquer tipo de aplicativo .NET, incluindo um serviço de nuvem do Azure, um aplicativo Web do Azure e aplicativos da área de trabalho ou móvel.</span><span class="sxs-lookup"><span data-stu-id="c03f8-113">You can use the Azure Storage Client Library in any type of .NET application, including an Azure cloud service or web app, and desktop and mobile applications.</span></span> <span data-ttu-id="c03f8-114">Neste guia, usamos um aplicativo de console para simplificar.</span><span class="sxs-lookup"><span data-stu-id="c03f8-114">In this guide, we use a console application for simplicity.</span></span>

### <a name="use-nuget-to-install-the-required-packages"></a><span data-ttu-id="c03f8-115">Use o NuGet para instalar os pacotes necessários</span><span class="sxs-lookup"><span data-stu-id="c03f8-115">Use NuGet to install the required packages</span></span>
<span data-ttu-id="c03f8-116">Há dois pacotes que você precisará referenciar em seu projeto para concluir este tutorial:</span><span class="sxs-lookup"><span data-stu-id="c03f8-116">There are two packages you need to reference in your project to complete this tutorial:</span></span>

* <span data-ttu-id="c03f8-117">[Biblioteca de Cliente de Armazenamento do Microsoft Azure para .NET](https://www.nuget.org/packages/WindowsAzure.Storage/): este pacote fornece acesso programático aos recursos de dados em sua conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="c03f8-117">[Microsoft Azure Storage Client Library for .NET](https://www.nuget.org/packages/WindowsAzure.Storage/): This package provides programmatic access to data resources in your storage account.</span></span>
* <span data-ttu-id="c03f8-118">[Biblioteca do Gerenciador de Configuração do Microsoft Azure para .NET](https://www.nuget.org/packages/Microsoft.WindowsAzure.ConfigurationManager/): este pacote fornece uma classe para analisar uma cadeia de conexão em um arquivo de configuração, independentemente de onde o aplicativo está sendo executado.</span><span class="sxs-lookup"><span data-stu-id="c03f8-118">[Microsoft Azure Configuration Manager library for .NET](https://www.nuget.org/packages/Microsoft.WindowsAzure.ConfigurationManager/): This package provides a class for parsing a connection string in a configuration file, regardless of where your application is running.</span></span>

<span data-ttu-id="c03f8-119">Você pode usar NuGet para obter os dois pacotes.</span><span class="sxs-lookup"><span data-stu-id="c03f8-119">You can use NuGet to obtain both packages.</span></span> <span data-ttu-id="c03f8-120">Siga estas etapas:</span><span class="sxs-lookup"><span data-stu-id="c03f8-120">Follow these steps:</span></span>

1. <span data-ttu-id="c03f8-121">Clique com o botão direito do mouse no seu projeto no **Gerenciador de Soluções** e escolha **Gerenciar Pacotes NuGet**.</span><span class="sxs-lookup"><span data-stu-id="c03f8-121">Right-click your project in **Solution Explorer** and choose **Manage NuGet Packages**.</span></span>
2. <span data-ttu-id="c03f8-122">Pesquise online por "Windowsazure.Storage" e clique em **Instalar** para instalar a Biblioteca de Cliente de Armazenamento e suas dependências.</span><span class="sxs-lookup"><span data-stu-id="c03f8-122">Search online for "WindowsAzure.Storage" and click **Install** to install the Storage Client Library and its dependencies.</span></span>
3. <span data-ttu-id="c03f8-123">Pesquise online por "WindowsAzure.ConfigurationManager" e clique em **Instalar** para instalar o Gerenciador de Configuração do Azure.</span><span class="sxs-lookup"><span data-stu-id="c03f8-123">Search online for "WindowsAzure.ConfigurationManager" and click **Install** to install the Azure Configuration Manager.</span></span>

> [!NOTE]
> <span data-ttu-id="c03f8-124">O pacote de Biblioteca de Cliente do Armazenamento também está incluído no [SDK do Azure para .NET](https://azure.microsoft.com/downloads/).</span><span class="sxs-lookup"><span data-stu-id="c03f8-124">The Storage Client Library package is also included in the [Azure SDK for .NET](https://azure.microsoft.com/downloads/).</span></span> <span data-ttu-id="c03f8-125">No entanto, também recomendamos a instalação da Biblioteca de Cliente de Armazenamento do NuGet para garantir que você tenha sempre a versão mais recente da biblioteca do cliente.</span><span class="sxs-lookup"><span data-stu-id="c03f8-125">However, we recommend that you also install the Storage Client Library from NuGet to ensure that you always have the latest version of the client library.</span></span>
> 
> <span data-ttu-id="c03f8-126">As dependências do ODataLib na Biblioteca de Cliente de Armazenamento para .NET são resolvidas por pacotes do ODataLib disponíveis no NuGet, não do WCF Data Services.</span><span class="sxs-lookup"><span data-stu-id="c03f8-126">The ODataLib dependencies in the Storage Client Library for .NET are resolved by the ODataLib packages available on NuGet, not from WCF Data Services.</span></span> <span data-ttu-id="c03f8-127">As bibliotecas do ODataLib podem ser baixadas diretamente ou referenciadas por seu projeto de código por meio do NuGet.</span><span class="sxs-lookup"><span data-stu-id="c03f8-127">The ODataLib libraries can be downloaded directly or referenced by your code project through NuGet.</span></span> <span data-ttu-id="c03f8-128">Os pacotes específicos do ODataLib usados pela Biblioteca de Cliente de Armazenamento são [OData](http://nuget.org/packages/Microsoft.Data.OData/), [Edm](http://nuget.org/packages/Microsoft.Data.Edm/) e [Spatial](http://nuget.org/packages/System.Spatial/).</span><span class="sxs-lookup"><span data-stu-id="c03f8-128">The specific ODataLib packages used by the Storage Client Library are [OData](http://nuget.org/packages/Microsoft.Data.OData/), [Edm](http://nuget.org/packages/Microsoft.Data.Edm/), and [Spatial](http://nuget.org/packages/System.Spatial/).</span></span> <span data-ttu-id="c03f8-129">Embora essas bibliotecas sejam usadas pelas classes de armazenamento de tabela do Azure, elas são dependências necessárias para a programação com a Biblioteca de Cliente de Armazenamento.</span><span class="sxs-lookup"><span data-stu-id="c03f8-129">While these libraries are used by the Azure Table storage classes, they are required dependencies for programming with the Storage Client Library.</span></span>
> 
> 

### <a name="determine-your-target-environment"></a><span data-ttu-id="c03f8-130">Determinar o ambiente de destino</span><span class="sxs-lookup"><span data-stu-id="c03f8-130">Determine your target environment</span></span>
<span data-ttu-id="c03f8-131">Você tem duas opções de ambiente para executar os exemplos neste guia:</span><span class="sxs-lookup"><span data-stu-id="c03f8-131">You have two environment options for running the examples in this guide:</span></span>

* <span data-ttu-id="c03f8-132">Você pode executar o código em uma conta de Armazenamento do Azure na nuvem.</span><span class="sxs-lookup"><span data-stu-id="c03f8-132">You can run your code against an Azure Storage account in the cloud.</span></span> 
* <span data-ttu-id="c03f8-133">Você pode executar o código em um emulador de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="c03f8-133">You can run your code against the Azure storage emulator.</span></span> <span data-ttu-id="c03f8-134">O emulador de armazenamento é um ambiente local que emula uma conta de Armazenamento do Azure na nuvem.</span><span class="sxs-lookup"><span data-stu-id="c03f8-134">The storage emulator is a local environment that emulates an Azure Storage account in the cloud.</span></span> <span data-ttu-id="c03f8-135">O emulador é uma opção gratuita para testar e depurar seu código enquanto o aplicativo está em desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="c03f8-135">The emulator is a free option for testing and debugging your code while your application is under development.</span></span> <span data-ttu-id="c03f8-136">O emulador usa uma conta e chave bem conhecidas.</span><span class="sxs-lookup"><span data-stu-id="c03f8-136">The emulator uses a well-known account and key.</span></span> <span data-ttu-id="c03f8-137">Para saber mais, confira [Usar o Emulador de Armazenamento do Azure para desenvolvimento e teste](../articles/storage/common/storage-use-emulator.md)</span><span class="sxs-lookup"><span data-stu-id="c03f8-137">For more information, see [Use the Azure Storage Emulator for Development and Testing](../articles/storage/common/storage-use-emulator.md)</span></span>

<span data-ttu-id="c03f8-138">Se você estiver selecionando uma conta de armazenamento na nuvem, copie a chave de acesso primário para sua conta de armazenamento a partir do portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="c03f8-138">If you are targeting a storage account in the cloud, copy the primary access key for your storage account from the Azure portal.</span></span> <span data-ttu-id="c03f8-139">Para saber mais, confira [Exibir e copiar chaves de acesso de armazenamento](../articles/storage/common/storage-create-storage-account.md#view-and-copy-storage-access-keys).</span><span class="sxs-lookup"><span data-stu-id="c03f8-139">For more information, see [View and copy storage access keys](../articles/storage/common/storage-create-storage-account.md#view-and-copy-storage-access-keys).</span></span>

> [!NOTE]
> <span data-ttu-id="c03f8-140">Você pode utilizar o emulador de armazenamento como destino para evitar quaisquer custos associados ao Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="c03f8-140">You can target the storage emulator to avoid incurring any costs associated with Azure Storage.</span></span> <span data-ttu-id="c03f8-141">Todavia, se você escolher utilizar como destino uma conta de armazenamento do Azure na nuvem, os custos para realização das operações neste tutorial serão insignificantes.</span><span class="sxs-lookup"><span data-stu-id="c03f8-141">However, if you do choose to target an Azure storage account in the cloud, costs for performing this tutorial will be negligible.</span></span>
> 
> 

### <a name="configure-your-storage-connection-string"></a><span data-ttu-id="c03f8-142">Configurar a cadeia de conexão de armazenamento</span><span class="sxs-lookup"><span data-stu-id="c03f8-142">Configure your storage connection string</span></span>
<span data-ttu-id="c03f8-143">A Biblioteca de Cliente de Armazenamento do Azure para .NET oferece suporte ao uso de uma cadeia de conexão de armazenamento para configurar pontos de extremidade e credenciais para acesso a serviços de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="c03f8-143">The Azure Storage Client Library for .NET supports using a storage connection string to configure endpoints and credentials for accessing storage services.</span></span> <span data-ttu-id="c03f8-144">A melhor maneira de manter a cadeia de conexão de armazenamento é em um arquivo de configuração.</span><span class="sxs-lookup"><span data-stu-id="c03f8-144">The best way to maintain your storage connection string is in a configuration file.</span></span> 

<span data-ttu-id="c03f8-145">Para obter mais detalhes sobre as sequências de conexão, veja [Configurar uma cadeia de conexão para o Armazenamento do Azure](../articles/storage/common/storage-configure-connection-string.md).</span><span class="sxs-lookup"><span data-stu-id="c03f8-145">For more information about connection strings, see [Configure a Connection String to Azure Storage](../articles/storage/common/storage-configure-connection-string.md).</span></span>

> [!NOTE]
> <span data-ttu-id="c03f8-146">Sua chave de conta de armazenamento é semelhante para a senha raiz da sua conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="c03f8-146">Your storage account key is similar to the root password for your storage account.</span></span> <span data-ttu-id="c03f8-147">Sempre tenha cuidado para proteger a chave de sua conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="c03f8-147">Always be careful to protect your storage account key.</span></span> <span data-ttu-id="c03f8-148">Evite distribuí-la a outros usuários, embuti-la no código ou salvá-lo em um arquivo de texto sem formatação que esteja acessível a outras pessoas.</span><span class="sxs-lookup"><span data-stu-id="c03f8-148">Avoid distributing it to other users, hard-coding it, or saving it in a plain-text file that is accessible to others.</span></span> <span data-ttu-id="c03f8-149">Regenere a chave usando o portal do Azure se você achar que ela pode ter sido comprometida.</span><span class="sxs-lookup"><span data-stu-id="c03f8-149">Regenerate your key using the Azure portal if you believe it may have been compromised.</span></span>
> 
> 

<span data-ttu-id="c03f8-150">Para configurar a cadeia de conexão, abra o arquivo `app.config` do Gerenciador de Soluções no Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c03f8-150">To configure your connection string, open the `app.config` file from Solution Explorer in Visual Studio.</span></span> <span data-ttu-id="c03f8-151">Adicionar o conteúdo do elemento `<appSettings>` mostrado abaixo.</span><span class="sxs-lookup"><span data-stu-id="c03f8-151">Add the contents of the `<appSettings>` element shown below.</span></span> <span data-ttu-id="c03f8-152">Substitua `account-name` pelo nome da sua conta de armazenamento e `account-key` pela chave de acesso da conta:</span><span class="sxs-lookup"><span data-stu-id="c03f8-152">Replace `account-name` with the name of your storage account, and `account-key` with your account access key:</span></span>

```xml
<configuration>
    <startup> 
        <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.5.2" />
    </startup>
    <appSettings>
        <add key="StorageConnectionString" value="DefaultEndpointsProtocol=https;AccountName=account-name;AccountKey=account-key" />
    </appSettings>
</configuration>
```

<span data-ttu-id="c03f8-153">Por exemplo, a configuração é semelhante a:</span><span class="sxs-lookup"><span data-stu-id="c03f8-153">For example, your configuration setting appears similar to:</span></span>

```xml
<add key="StorageConnectionString" value="DefaultEndpointsProtocol=https;AccountName=storagesample;AccountKey=GMuzNHjlB3S9itqZJHHCnRkrokLkcSyW7yK9BRbGp0ENePunLPwBgpxV1Z/pVo9zpem/2xSHXkMqTHHLcx8XRA==" />
```

Para direcionar o emulador de armazenamento, você pode usar um atalho que mapeia para o nome de conta e chave bem conhecidos. <span data-ttu-id="c03f8-155">Nesse caso, a configuração da cadeia de conexão é:</span><span class="sxs-lookup"><span data-stu-id="c03f8-155">In that case, your connection string setting is:</span></span>

```xml
<add key="StorageConnectionString" value="UseDevelopmentStorage=true;" />
```

