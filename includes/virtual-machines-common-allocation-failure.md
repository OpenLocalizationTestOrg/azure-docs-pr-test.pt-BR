
<span data-ttu-id="fb7f6-101">Se o problema do Azure não for resolvido neste artigo, visite os [Fóruns do Azure no MSDN e Excedente de Pilha](https://azure.microsoft.com/support/forums/).</span><span class="sxs-lookup"><span data-stu-id="fb7f6-101">If your Azure issue is not addressed in this article, visit the [Azure forums on MSDN and Stack Overflow](https://azure.microsoft.com/support/forums/).</span></span> <span data-ttu-id="fb7f6-102">Você pode postar seu problema nesses fóruns ou usando @AzureSupport no Twitter.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-102">You can post your issue on these forums or to @AzureSupport on Twitter.</span></span> <span data-ttu-id="fb7f6-103">Além disso, você pode registrar uma solicitação de suporte do Azure selecionando **Obter suporte** no site de [suporte do Azure](https://azure.microsoft.com/support/options/) .</span><span class="sxs-lookup"><span data-stu-id="fb7f6-103">Also, you can file an Azure support request by selecting **Get support** on the [Azure support](https://azure.microsoft.com/support/options/) site.</span></span>

## <a name="general-troubleshooting-steps"></a><span data-ttu-id="fb7f6-104">Etapas gerais de solução de problemas</span><span class="sxs-lookup"><span data-stu-id="fb7f6-104">General troubleshooting steps</span></span>
### <a name="troubleshoot-common-allocation-failures-in-the-classic-deployment-model"></a><span data-ttu-id="fb7f6-105">Solução de problemas de falhas de alocação comuns no modelo de implantação clássico</span><span class="sxs-lookup"><span data-stu-id="fb7f6-105">Troubleshoot common allocation failures in the classic deployment model</span></span>
<span data-ttu-id="fb7f6-106">Essas etapas podem ajudar a resolver diversas falhas de alocação em máquinas virtuais:</span><span class="sxs-lookup"><span data-stu-id="fb7f6-106">These steps can help resolve many allocation failures in virtual machines:</span></span>

* <span data-ttu-id="fb7f6-107">Redimensione a VM para um tamanho de VM diferente.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-107">Resize the VM to a different VM size.</span></span><br>
    <span data-ttu-id="fb7f6-108">Clique em **Procurar tudo** > **máquinas virtuais (clássicas)** > sua máquina virtual > **configurações** > **tamanho**.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-108">Click **Browse all** > **Virtual machines (classic)** > your virtual machine > **Settings** > **Size**.</span></span> <span data-ttu-id="fb7f6-109">Para obter as etapas detalhadas, consulte [Redimensionar a máquina virtual](https://msdn.microsoft.com/library/dn168976.aspx).</span><span class="sxs-lookup"><span data-stu-id="fb7f6-109">For detailed steps, see [Resize the virtual machine](https://msdn.microsoft.com/library/dn168976.aspx).</span></span>
* <span data-ttu-id="fb7f6-110">Exclua todas as VMs do serviço de nuvem e recrie-as.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-110">Delete all VMs from the cloud service and re-create VMs.</span></span><br>
    <span data-ttu-id="fb7f6-111">Clique em **Procurar tudo** > **máquinas virtuais (clássicas)** > sua máquina virtual > **excluir**.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-111">Click **Browse all** > **Virtual machines (classic)** > your virtual machine > **Delete**.</span></span> <span data-ttu-id="fb7f6-112">Em seguida, clique em **Novo** > **Computação** > [imagem de máquina virtual].</span><span class="sxs-lookup"><span data-stu-id="fb7f6-112">Then, click **New** > **Compute** > [virtual machine image].</span></span>

### <a name="troubleshoot-common-allocation-failures-in-the-azure-resource-manager-deployment-model"></a><span data-ttu-id="fb7f6-113">Solução de problemas de falhas de alocação comuns no modelo de implantação do Gerenciador de Recursos do Azure</span><span class="sxs-lookup"><span data-stu-id="fb7f6-113">Troubleshoot common allocation failures in the Azure Resource Manager deployment model</span></span>
<span data-ttu-id="fb7f6-114">Essas etapas podem ajudar a resolver diversas falhas de alocação em máquinas virtuais:</span><span class="sxs-lookup"><span data-stu-id="fb7f6-114">These steps can help resolve many allocation failures in virtual machines:</span></span>

* <span data-ttu-id="fb7f6-115">Pare (desaloque) todas as VMs no mesmo conjunto de disponibilidade e reinicie cada uma delas.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-115">Stop (deallocate) all VMs in the same availability set, then restart each one.</span></span><br>
    <span data-ttu-id="fb7f6-116">Para parar: clique em **grupos de recursos** > seu grupo de recursos > **recursos** > seu conjunto de disponibilidade > **máquinas virtuais** > sua máquina virtual >  **Parar**.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-116">To stop: Click **Resource groups** > your resource group > **Resources** > your availability set > **Virtual Machines** > your virtual machine > **Stop**.</span></span>
  
    <span data-ttu-id="fb7f6-117">Depois de parar todas as VMs, selecione a primeira VM e clique em **Iniciar**.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-117">After all VMs stop, select the first VM and click **Start**.</span></span>

## <a name="background-information"></a><span data-ttu-id="fb7f6-118">Informações básicas</span><span class="sxs-lookup"><span data-stu-id="fb7f6-118">Background information</span></span>
### <a name="how-allocation-works"></a><span data-ttu-id="fb7f6-119">Como funciona a alocação</span><span class="sxs-lookup"><span data-stu-id="fb7f6-119">How allocation works</span></span>
<span data-ttu-id="fb7f6-120">Os servidores são particionados em clusters nos datacenters do Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-120">The servers in Azure datacenters are partitioned into clusters.</span></span> <span data-ttu-id="fb7f6-121">Normalmente, uma tentativa de solicitação de alocação é feita em vários clusters, mas é possível que determinadas restrições da solicitação de alocação forcem a plataforma do Azure a repeti-la em um único cluster.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-121">Normally, an allocation request is attempted in multiple clusters, but it's possible that certain constraints from the allocation request force the Azure platform to attempt the request in only one cluster.</span></span> <span data-ttu-id="fb7f6-122">Neste artigo, chamaremos isso de "fixada a um cluster".</span><span class="sxs-lookup"><span data-stu-id="fb7f6-122">In this article, we'll refer to this as "pinned to a cluster."</span></span> <span data-ttu-id="fb7f6-123">O diagrama 1 a seguir ilustra o caso de uma tentativa de alocação normal feita em vários clusters.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-123">Diagram 1 below illustrates the case of a normal allocation that is attempted in multiple clusters.</span></span> <span data-ttu-id="fb7f6-124">O diagrama 2 ilustra o caso de uma alocação que foi fixada ao Cluster 2 por se tratar do local de hospedagem do Serviço de Nuvem CS_1 ou do conjunto de disponibilidade existente.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-124">Diagram 2 illustrates the case of an allocation that's pinned to Cluster 2 because that's where the existing Cloud Service CS_1 or availability set is hosted.</span></span>
<span data-ttu-id="fb7f6-125">![Diagrama de alocação](./media/virtual-machines-common-allocation-failure/Allocation1.png)</span><span class="sxs-lookup"><span data-stu-id="fb7f6-125">![Allocation Diagram](./media/virtual-machines-common-allocation-failure/Allocation1.png)</span></span>

### <a name="why-allocation-failures-happen"></a><span data-ttu-id="fb7f6-126">Motivos das falhas de alocação</span><span class="sxs-lookup"><span data-stu-id="fb7f6-126">Why allocation failures happen</span></span>
<span data-ttu-id="fb7f6-127">Quando a solicitação de alocação é fixada a um cluster, é mais provável que haja falha na localização de recursos gratuitos, pois o pool de recursos disponíveis é menor.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-127">When an allocation request is pinned to a cluster, there's a higher chance of failing to find free resources since the available resource pool is smaller.</span></span> <span data-ttu-id="fb7f6-128">Além disso, quando a solicitação de alocação é fixada a um cluster, mas não há suporte para o tipo de recurso solicitado ao cluster, a solicitação falha mesmo que o cluster tenha recursos livres.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-128">Furthermore, if your allocation request is pinned to a cluster but the type of resource you requested is not supported by that cluster, your request will fail even if the cluster has free resources.</span></span> <span data-ttu-id="fb7f6-129">O diagrama 3 a seguir demonstra o caso em que uma alocação fixada falha porque o único cluster candidato não dispõe de recursos gratuitos.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-129">Diagram 3 below illustrates the case where a pinned allocation fails because the only candidate cluster does not have free resources.</span></span> <span data-ttu-id="fb7f6-130">O diagrama 4 demonstra o caso em que uma alocação fixada falha porque o único cluster candidato não é compatível com o tamanho da VM solicitado, mesmo que o cluster disponha de recursos livres.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-130">Diagram 4 illustrates the case where a pinned allocation fails because the only candidate cluster does not support the requested VM size, even though the cluster has free resources.</span></span>

![Falha na alocação fixada](./media/virtual-machines-common-allocation-failure/Allocation2.png)

## <a name="detailed-troubleshoot-steps-specific-allocation-failure-scenarios-in-the-classic-deployment-model"></a><span data-ttu-id="fb7f6-132">As etapas de solução de problemas detalhadas de cenários de falha de alocação específica no modelo de implantação clássico</span><span class="sxs-lookup"><span data-stu-id="fb7f6-132">Detailed troubleshoot steps specific allocation failure scenarios in the classic deployment model</span></span>
<span data-ttu-id="fb7f6-133">Veja os cenários comuns de alocação que causam a fixação de uma solicitação de alocação.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-133">Here are common allocation scenarios that cause an allocation request to be pinned.</span></span> <span data-ttu-id="fb7f6-134">Vamos nos aprofundar em cada cenário posteriormente neste artigo.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-134">We'll dive into each scenario later in this article.</span></span>

* <span data-ttu-id="fb7f6-135">Redimensionar uma VM ou adicionar VMs ou instâncias de função a um serviço de nuvem existente</span><span class="sxs-lookup"><span data-stu-id="fb7f6-135">Resize a VM or add VMs or role instances to an existing cloud service</span></span>
* <span data-ttu-id="fb7f6-136">Reiniciar VMs parcialmente paradas (desalocadas)</span><span class="sxs-lookup"><span data-stu-id="fb7f6-136">Restart partially stopped (deallocated) VMs</span></span>
* <span data-ttu-id="fb7f6-137">Reiniciar VMs totalmente paradas (desalocadas)</span><span class="sxs-lookup"><span data-stu-id="fb7f6-137">Restart fully stopped (deallocated) VMs</span></span>
* <span data-ttu-id="fb7f6-138">Implantações de preparo/produção (apenas plataforma como serviço)</span><span class="sxs-lookup"><span data-stu-id="fb7f6-138">Staging/production deployments (platform as a service only)</span></span>
* <span data-ttu-id="fb7f6-139">Grupo de afinidades (proximidade de serviço/VM)</span><span class="sxs-lookup"><span data-stu-id="fb7f6-139">Affinity group (VM/service proximity)</span></span>
* <span data-ttu-id="fb7f6-140">Rede virtual com base em grupo de afinidade</span><span class="sxs-lookup"><span data-stu-id="fb7f6-140">Affinity-group-based virtual network</span></span>

<span data-ttu-id="fb7f6-141">Caso receba um erro de alocação, verifique se os cenários descritos se aplicam ao seu erro.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-141">When you receive an allocation error, see if any of the scenarios described apply to your error.</span></span> <span data-ttu-id="fb7f6-142">Use o erro de alocação retornado pela plataforma do Azure para identificar o cenário correspondente.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-142">Use the allocation error returned by the Azure platform to identify the corresponding scenario.</span></span> <span data-ttu-id="fb7f6-143">Caso a solicitação seja fixada, remova algumas das restrições de fixação para abrir a solicitação para outros clusters e aumentar a probabilidade de êxito da alocação.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-143">If your request is pinned, remove some of the pinning constraints to open your request to more clusters, thereby increasing the chance of allocation success.</span></span>

<span data-ttu-id="fb7f6-144">Em geral, se o erro não indicar "não há suporte para o tamanho de VM solicitado", você pode sempre tentar novamente mais tarde, já que os recursos necessários podem ter sido liberados no cluster para atender à sua solicitação.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-144">In general, as long as the error does not indicate "the requested VM size is not supported," you can always retry at a later time, as enough resources may have been freed in the cluster to accommodate your request.</span></span> <span data-ttu-id="fb7f6-145">Se o problema for que o tamanho da VM solicitada não tem suporte, tente usar um tamanho de VM diferente.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-145">If the problem is that the requested VM size is not supported, try a different VM size.</span></span> <span data-ttu-id="fb7f6-146">Caso contrário, a única opção é remover a restrição de fixação.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-146">Otherwise, the only option is to remove the pinning constraint.</span></span>

<span data-ttu-id="fb7f6-147">Dois cenários de falhas comuns estão relacionados aos grupos de afinidades.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-147">Two common failure scenarios are related to affinity groups.</span></span> <span data-ttu-id="fb7f6-148">Anteriormente, o grupo de afinidades era usado para proporcionar uma estreita proximidade com as instâncias de serviço/VMs ou para permitir a criação de uma rede virtual.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-148">In the past, an affinity group was used to provide close proximity to VMs/service instances, or it was used to enable the creation of a virtual network.</span></span> <span data-ttu-id="fb7f6-149">Com a introdução das redes virtuais regionais, não é mais necessário usar o grupo de afinidades para criar uma rede virtual.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-149">With the introduction of regional virtual networks, affinity groups are no longer required to create a virtual network.</span></span> <span data-ttu-id="fb7f6-150">Com a redução da latência da rede na infraestrutura do Azure, a recomendação de uso de grupos de afinidades a proximidade de serviço/VM foi alterada.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-150">With the reduction of network latency in Azure infrastructure, the recommendation to use affinity groups for VM/service proximity has changed.</span></span>

<span data-ttu-id="fb7f6-151">O diagrama 5 a seguir apresenta a taxonomia dos cenários de alocação (afixados).</span><span class="sxs-lookup"><span data-stu-id="fb7f6-151">Diagram 5 below presents the taxonomy of the (pinned) allocation scenarios.</span></span>
<span data-ttu-id="fb7f6-152">![Taxonomia de alocação fixada](./media/virtual-machines-common-allocation-failure/Allocation3.png)</span><span class="sxs-lookup"><span data-stu-id="fb7f6-152">![Pinned Allocation Taxonomy](./media/virtual-machines-common-allocation-failure/Allocation3.png)</span></span>

> [!NOTE]
> <span data-ttu-id="fb7f6-153">Descrevemos o erro de forma reduzida em cada cenário de alocação.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-153">The error listed in each allocation scenario is a short form.</span></span> <span data-ttu-id="fb7f6-154">Confira [Pesquisa de cadeia de caracteres de erro](#Error string lookup) para obter cadeias de caracteres de erro detalhadas.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-154">Refer to the [Error string lookup](#Error string lookup) for detailed error strings.</span></span>
> 
> 

## <a name="allocation-scenario-resize-a-vm-or-add-vms-or-role-instances-to-an-existing-cloud-service"></a><span data-ttu-id="fb7f6-155">Cenário de alocação: redimensionar uma VM ou adicionar VMs ou instâncias de função a um serviço de nuvem existente</span><span class="sxs-lookup"><span data-stu-id="fb7f6-155">Allocation scenario: Resize a VM or add VMs or role instances to an existing cloud service</span></span>
<span data-ttu-id="fb7f6-156">**Erro**</span><span class="sxs-lookup"><span data-stu-id="fb7f6-156">**Error**</span></span>

<span data-ttu-id="fb7f6-157">Upgrade_VMSizeNotSupported ou GeneralError</span><span class="sxs-lookup"><span data-stu-id="fb7f6-157">Upgrade_VMSizeNotSupported or GeneralError</span></span>

<span data-ttu-id="fb7f6-158">**Causa de fixação de cluster**</span><span class="sxs-lookup"><span data-stu-id="fb7f6-158">**Cause of cluster pinning**</span></span>

<span data-ttu-id="fb7f6-159">A solicitação para redimensionar uma VM ou adicionar uma VM ou instância de função a um serviço de nuvem existente deve ser tentada no cluster original que hospeda o serviço de nuvem existente.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-159">A request to resize a VM or add a VM or a role instance to an existing cloud service has to be attempted at the original cluster that hosts the existing cloud service.</span></span> <span data-ttu-id="fb7f6-160">A criação de um novo serviço de nuvem permite que a plataforma do Azure localize outro cluster com recursos livres ou que dê suporte para o tamanho de VM solicitado.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-160">Creating a new cloud service allows the Azure platform to find another cluster that has free resources or supports the VM size that you requested.</span></span>

<span data-ttu-id="fb7f6-161">**Solução alternativa**</span><span class="sxs-lookup"><span data-stu-id="fb7f6-161">**Workaround**</span></span>

<span data-ttu-id="fb7f6-162">Se o erro for Upgrade_VMSizeNotSupported*, tente usar um tamanho de VM diferente.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-162">If the error is Upgrade_VMSizeNotSupported*, try a different VM size.</span></span> <span data-ttu-id="fb7f6-163">Quando não for possível usar um tamanho de VM diferente, mas for aceitável usar um endereço VIP (IP virtual) diferente, crie um novo serviço de nuvem para hospedar a nova VM e adicione-o à rede virtual regional na qual as VMs existentes estão em execução.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-163">If using a different VM size is not an option, but if it's acceptable to use a different virtual IP address (VIP), create a new cloud service to host the new VM and add the new cloud service to the regional virtual network where the existing VMs are running.</span></span> <span data-ttu-id="fb7f6-164">Caso o serviço de nuvem existente não use a rede virtual regional, ainda é possível criar uma nova rede virtual para o novo serviço de nuvem e conectar sua [rede virtual existente à nova rede virtual](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span><span class="sxs-lookup"><span data-stu-id="fb7f6-164">If your existing cloud service does not use a regional virtual network, you can still create a new virtual network for the new cloud service, and then connect your [existing virtual network to the new virtual network](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span></span> <span data-ttu-id="fb7f6-165">Saiba mais sobre as [redes virtuais regionais](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span><span class="sxs-lookup"><span data-stu-id="fb7f6-165">See more about [regional virtual networks](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span></span>

<span data-ttu-id="fb7f6-166">Se o erro for GeneralError*, é provável que o cluster tenha suporte para o tipo de recurso (como um determinado tamanho de VM), embora não tenha recursos livres no momento.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-166">If the error is GeneralError*, it's likely that the type of resource (such as a particular VM size) is supported by the cluster, but the cluster does not have free resources at the moment.</span></span> <span data-ttu-id="fb7f6-167">Semelhante ao cenário acima, adicione o recurso de computação desejado criando um novo serviço de nuvem (observe que o novo serviço de nuvem deve usar um VIP diferente) e use a rede virtual regional para conectar seus serviços de nuvem.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-167">Similar to the above scenario, add the desired compute resource through creating a new cloud service (note that the new cloud service has to use a different VIP) and use a regional virtual network to connect your cloud services.</span></span>

## <a name="allocation-scenario-restart-partially-stopped-deallocated-vms"></a><span data-ttu-id="fb7f6-168">Cenário de alocação: reiniciar VMs parcialmente paradas (desalocadas)</span><span class="sxs-lookup"><span data-stu-id="fb7f6-168">Allocation scenario: Restart partially stopped (deallocated) VMs</span></span>
<span data-ttu-id="fb7f6-169">**Erro**</span><span class="sxs-lookup"><span data-stu-id="fb7f6-169">**Error**</span></span>

<span data-ttu-id="fb7f6-170">GeneralError*</span><span class="sxs-lookup"><span data-stu-id="fb7f6-170">GeneralError*</span></span>

<span data-ttu-id="fb7f6-171">**Causa de fixação de cluster**</span><span class="sxs-lookup"><span data-stu-id="fb7f6-171">**Cause of cluster pinning**</span></span>

<span data-ttu-id="fb7f6-172">A desalocação parcial significa que você parou (desalocou) uma ou mais, mas não todas, VMs no serviço de nuvem.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-172">Partial deallocation means that you stopped (deallocated) one or more, but not all, VMs in a cloud service.</span></span> <span data-ttu-id="fb7f6-173">Quando você para (desaloca) uma VM, os recursos associados são liberados.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-173">When you stop (deallocate) a VM, the associated resources are released.</span></span> <span data-ttu-id="fb7f6-174">A renicialização da VM parada (desalocada) é, portanto, uma nova solicitação de alocação.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-174">Restarting that stopped (deallocated) VM is therefore a new allocation request.</span></span> <span data-ttu-id="fb7f6-175">Reiniciar as VMs em um serviço de nuvem parcialmente desalocado é equivalente a adicionar VMs a um serviço de nuvem existente.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-175">Restarting VMs in a partially deallocated cloud service is equivalent to adding VMs to an existing cloud service.</span></span> <span data-ttu-id="fb7f6-176">A solicitação de alocação deve ser tentada no cluster original que hospeda o serviço de nuvem existente.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-176">The allocation request has to be attempted at the original cluster that hosts the existing cloud service.</span></span> <span data-ttu-id="fb7f6-177">A criação de um serviço de nuvem diferente permite que a plataforma do Azure localize outro cluster que tem recursos livres ou que dê suporte para o tamanho de VM solicitado.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-177">Creating a different cloud service allows the Azure platform to find another cluster that has free resource or supports the VM size that you requested.</span></span>

<span data-ttu-id="fb7f6-178">**Solução alternativa**</span><span class="sxs-lookup"><span data-stu-id="fb7f6-178">**Workaround**</span></span>

<span data-ttu-id="fb7f6-179">Se for aceitável usar um VIP diferente, exclua as VMs paradas (desalocadas) (mas mantenha os discos associados) e adicione-as novamente através de um serviço de nuvem diferente.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-179">If it's acceptable to use a different VIP, delete the stopped (deallocated) VMs (but keep the associated disks) and add the VMs back through a different cloud service.</span></span> <span data-ttu-id="fb7f6-180">Use a rede virtual regional para se conectar aos serviços de nuvem:</span><span class="sxs-lookup"><span data-stu-id="fb7f6-180">Use a regional virtual network to connect your cloud services:</span></span>

* <span data-ttu-id="fb7f6-181">Caso o serviço de nuvem existente use uma rede virtual regional, basta adicionar o novo serviço de nuvem à mesma rede virtual.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-181">If your existing cloud service uses a regional virtual network, simply add the new cloud service to the same virtual network.</span></span>
* <span data-ttu-id="fb7f6-182">Caso o serviço de nuvem existente não use a rede virtual regional, crie uma nova rede virtual para o novo serviço de nuvem e [conecte sua rede virtual existente à nova rede virtual](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span><span class="sxs-lookup"><span data-stu-id="fb7f6-182">If your existing cloud service does not use a regional virtual network, create a new virtual network for the new cloud service, and then [connect your existing virtual network to the new virtual network](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span></span> <span data-ttu-id="fb7f6-183">Saiba mais sobre as [redes virtuais regionais](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span><span class="sxs-lookup"><span data-stu-id="fb7f6-183">See more about [regional virtual networks](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span></span>

## <a name="allocation-scenario-restart-fully-stopped-deallocated-vms"></a><span data-ttu-id="fb7f6-184">Cenário de alocação: reiniciar VMs totalmente paradas (desalocadas)</span><span class="sxs-lookup"><span data-stu-id="fb7f6-184">Allocation scenario: Restart fully stopped (deallocated) VMs</span></span>
<span data-ttu-id="fb7f6-185">**Erro**</span><span class="sxs-lookup"><span data-stu-id="fb7f6-185">**Error**</span></span>

<span data-ttu-id="fb7f6-186">GeneralError*</span><span class="sxs-lookup"><span data-stu-id="fb7f6-186">GeneralError*</span></span>

<span data-ttu-id="fb7f6-187">**Causa de fixação de cluster**</span><span class="sxs-lookup"><span data-stu-id="fb7f6-187">**Cause of cluster pinning**</span></span>

<span data-ttu-id="fb7f6-188">A desalocação total significa que você parou (desalocou) todas as VMs de um serviço de nuvem.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-188">Full deallocation means that you stopped (deallocated) all VMs from a cloud service.</span></span> <span data-ttu-id="fb7f6-189">As solicitações de alocação para reiniciar essas VMs devem ser tentadas no cluster original que hospeda o serviço de nuvem.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-189">The allocation requests to restart these VMs have to be attempted at the original cluster that hosts the cloud service.</span></span> <span data-ttu-id="fb7f6-190">A criação de um novo serviço de nuvem permite que a plataforma do Azure localize outro cluster com recursos livres ou que dê suporte para o tamanho de VM solicitado.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-190">Creating a new cloud service allows the Azure platform to find another cluster that has free resources or supports the VM size that you requested.</span></span>

<span data-ttu-id="fb7f6-191">**Solução alternativa**</span><span class="sxs-lookup"><span data-stu-id="fb7f6-191">**Workaround**</span></span>

<span data-ttu-id="fb7f6-192">Se for aceitável usar um VIP diferente, exclua as VMs originais paradas (desalocadas) (mas mantenha os discos associados) e exclua o serviço de nuvem correspondente (os recursos de computação associados já foram liberados quando você parou ou desalocou as VMs).</span><span class="sxs-lookup"><span data-stu-id="fb7f6-192">If it's acceptable to use a different VIP, delete the original stopped (deallocated) VMs (but keep the associated disks) and delete the corresponding cloud service (the associated compute resources were already released when you stopped (deallocated) the VMs).</span></span> <span data-ttu-id="fb7f6-193">Crie um novo serviço de nuvem para adicionar novamente as VMs.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-193">Create a new cloud service to add the VMs back.</span></span>

## <a name="allocation-scenario-stagingproduction-deployments-platform-as-a-service-only"></a><span data-ttu-id="fb7f6-194">Cenário de alocação: implantações de preparo/produção (apenas plataforma como serviço)</span><span class="sxs-lookup"><span data-stu-id="fb7f6-194">Allocation scenario: Staging/production deployments (platform as a service only)</span></span>
<span data-ttu-id="fb7f6-195">**Erro**</span><span class="sxs-lookup"><span data-stu-id="fb7f6-195">**Error**</span></span>

<span data-ttu-id="fb7f6-196">New_General * ou New_VMSizeNotSupported *</span><span class="sxs-lookup"><span data-stu-id="fb7f6-196">New_General* or New_VMSizeNotSupported*</span></span>

<span data-ttu-id="fb7f6-197">**Causa de fixação de cluster**</span><span class="sxs-lookup"><span data-stu-id="fb7f6-197">**Cause of cluster pinning**</span></span>

<span data-ttu-id="fb7f6-198">A implantação de preparo e a implantação de produção de um serviço de nuvem são hospedadas no mesmo cluster.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-198">The staging deployment and the production deployment of a cloud service are hosted in the same cluster.</span></span> <span data-ttu-id="fb7f6-199">Quando você adiciona a segunda implantação, a solicitação de alocação correspondente é tentada no mesmo cluster que hospeda a primeira implantação.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-199">When you add the second deployment, the corresponding allocation request will be attempted in the same cluster that hosts the first deployment.</span></span>

<span data-ttu-id="fb7f6-200">**Solução alternativa**</span><span class="sxs-lookup"><span data-stu-id="fb7f6-200">**Workaround**</span></span>

<span data-ttu-id="fb7f6-201">Exclua a primeira implantação e o serviço de nuvem original e reimplante o serviço de nuvem.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-201">Delete the first deployment and the original cloud service and redeploy the cloud service.</span></span> <span data-ttu-id="fb7f6-202">Esta ação pode direcionar a primeira implantação para um cluster que dispõe de recursos livres adequados para as duas implantações ou que dê suporte para os tamanhos de VM solicitados.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-202">This action may land the first deployment in a cluster that has enough free resources to fit both deployments or in a cluster that supports the VM sizes that you requested.</span></span>

## <a name="allocation-scenario-affinity-group-vmservice-proximity"></a><span data-ttu-id="fb7f6-203">Cenário de alocação: grupo de afinidades (proximidade de serviço/VM)</span><span class="sxs-lookup"><span data-stu-id="fb7f6-203">Allocation scenario: Affinity group (VM/service proximity)</span></span>
<span data-ttu-id="fb7f6-204">**Erro**</span><span class="sxs-lookup"><span data-stu-id="fb7f6-204">**Error**</span></span>

<span data-ttu-id="fb7f6-205">New_General * ou New_VMSizeNotSupported *</span><span class="sxs-lookup"><span data-stu-id="fb7f6-205">New_General* or New_VMSizeNotSupported*</span></span>

<span data-ttu-id="fb7f6-206">**Causa de fixação de cluster**</span><span class="sxs-lookup"><span data-stu-id="fb7f6-206">**Cause of cluster pinning**</span></span>

<span data-ttu-id="fb7f6-207">Os recursos de computação atribuídos a um grupo de afinidades estão vinculados a um único cluster.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-207">Any compute resource assigned to an affinity group is tied to one cluster.</span></span> <span data-ttu-id="fb7f6-208">As novas solicitações de recursos de computação desse grupo de afinidades são tentadas no mesmo cluster que hospeda os recursos existentes.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-208">New compute resource requests in that affinity group are attempted in the same cluster where the existing resources are hosted.</span></span> <span data-ttu-id="fb7f6-209">Isso ocorre se os novos recursos forem criados por meio de um novo serviço de nuvem ou um serviço de nuvem existente.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-209">This is true whether the new resources are created through a new cloud service or through an existing cloud service.</span></span>

<span data-ttu-id="fb7f6-210">**Solução alternativa**</span><span class="sxs-lookup"><span data-stu-id="fb7f6-210">**Workaround**</span></span>

<span data-ttu-id="fb7f6-211">Se um grupo de afinidades não for necessário, não use o grupo de afinidades ou agrupe os recursos de computação em vários grupos de afinidades.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-211">If an affinity group is not necessary, do not use an affinity group, or group your compute resources into multiple affinity groups.</span></span>

## <a name="allocation-scenario-affinity-group-based-virtual-network"></a><span data-ttu-id="fb7f6-212">Cenário de alocação: rede virtual com base em grupo de afinidades</span><span class="sxs-lookup"><span data-stu-id="fb7f6-212">Allocation scenario: Affinity-group-based virtual network</span></span>
<span data-ttu-id="fb7f6-213">**Erro**</span><span class="sxs-lookup"><span data-stu-id="fb7f6-213">**Error**</span></span>

<span data-ttu-id="fb7f6-214">New_General * ou New_VMSizeNotSupported *</span><span class="sxs-lookup"><span data-stu-id="fb7f6-214">New_General* or New_VMSizeNotSupported*</span></span>

<span data-ttu-id="fb7f6-215">**Causa de fixação de cluster**</span><span class="sxs-lookup"><span data-stu-id="fb7f6-215">**Cause of cluster pinning**</span></span>

<span data-ttu-id="fb7f6-216">Antes de as redes virtuais regionais serem introduzidas, era necessário associar uma rede virtual ao grupo de afinidades.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-216">Before regional virtual networks were introduced, you were required to associate a virtual network with an affinity group.</span></span> <span data-ttu-id="fb7f6-217">Como resultado, os recursos de computação colocados em um grupo de afinidades são vinculados pelas mesmas restrições descritas na seção anterior, "Cenário de alocação: grupo de afinidades (proximidade de serviço/VM)".</span><span class="sxs-lookup"><span data-stu-id="fb7f6-217">As a result, compute resources placed into an affinity group are bound by the same constraints as described in the "Allocation scenario: Affinity group (VM/service proximity)" section above.</span></span> <span data-ttu-id="fb7f6-218">Os recursos de computação são vinculados a um cluster.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-218">The compute resources are tied to one cluster.</span></span>

<span data-ttu-id="fb7f6-219">**Solução alternativa**</span><span class="sxs-lookup"><span data-stu-id="fb7f6-219">**Workaround**</span></span>

<span data-ttu-id="fb7f6-220">Caso você não precise de um grupo de afinidades, crie uma nova rede virtual regional para os novos recursos que está adicionando e [conecte sua rede virtual existente à nova rede virtual](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span><span class="sxs-lookup"><span data-stu-id="fb7f6-220">If you do not need an affinity group, create a new regional virtual network for the new resources you're adding, and then [connect your existing virtual network to the new virtual network](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span></span> <span data-ttu-id="fb7f6-221">Saiba mais sobre as [redes virtuais regionais](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span><span class="sxs-lookup"><span data-stu-id="fb7f6-221">See more about [regional virtual networks](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span></span>

<span data-ttu-id="fb7f6-222">Como alternativa, é possível [migrar a rede virtual baseada em grupo de afinidades para uma rede virtual regional](https://azure.microsoft.com/blog/2014/11/26/migrating-existing-services-to-regional-scope/)e depois adicionar novamente os recursos desejados.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-222">Alternatively, you can [migrate your affinity-group-based virtual network to a regional virtual network](https://azure.microsoft.com/blog/2014/11/26/migrating-existing-services-to-regional-scope/), and then add the desired resources again.</span></span>

## <a name="detailed-troubleshooting-steps-specific-allocation-failure-scenarios-in-the-azure-resource-manager-deployment-model"></a><span data-ttu-id="fb7f6-223">As etapas de solução de problemas detalhados em cenários específicos de falha na alocação no modelo de implantação do Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="fb7f6-223">Detailed troubleshooting steps specific allocation failure scenarios in the Azure Resource Manager deployment model</span></span>
<span data-ttu-id="fb7f6-224">Veja os cenários comuns de alocação que causam a fixação de uma solicitação de alocação.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-224">Here are common allocation scenarios that cause an allocation request to be pinned.</span></span> <span data-ttu-id="fb7f6-225">Vamos nos aprofundar em cada cenário posteriormente neste artigo.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-225">We'll dive into each scenario later in this article.</span></span>

* <span data-ttu-id="fb7f6-226">Redimensionar uma VM ou adicionar VMs ou instâncias de função a um serviço de nuvem existente</span><span class="sxs-lookup"><span data-stu-id="fb7f6-226">Resize a VM or add VMs or role instances to an existing cloud service</span></span>
* <span data-ttu-id="fb7f6-227">Reiniciar VMs parcialmente paradas (desalocadas)</span><span class="sxs-lookup"><span data-stu-id="fb7f6-227">Restart partially stopped (deallocated) VMs</span></span>
* <span data-ttu-id="fb7f6-228">Reiniciar VMs totalmente paradas (desalocadas)</span><span class="sxs-lookup"><span data-stu-id="fb7f6-228">Restart fully stopped (deallocated) VMs</span></span>

<span data-ttu-id="fb7f6-229">Caso receba um erro de alocação, verifique se os cenários descritos se aplicam ao seu erro.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-229">When you receive an allocation error, see if any of the scenarios described apply to your error.</span></span> <span data-ttu-id="fb7f6-230">Use o erro de alocação retornado pela plataforma do Azure para identificar o cenário correspondente.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-230">Use the allocation error returned by the Azure platform to identify the corresponding scenario.</span></span> <span data-ttu-id="fb7f6-231">Caso a solicitação seja fixada em um cluster existente, remova algumas das restrições de fixação para abrir a solicitação para outros clusters e aumentar a probabilidade de êxito da alocação.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-231">If your request is pinned to an existing cluster, remove some of the pinning constraints to open your request to more clusters, thereby increasing the chance of allocation success.</span></span>

<span data-ttu-id="fb7f6-232">Em geral, se o erro não indicar "não há suporte para o tamanho de VM solicitado", você pode sempre tentar novamente mais tarde, já que os recursos necessários podem ter sido liberados no cluster para atender à sua solicitação.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-232">In general, as long as the error does not indicate "the requested VM size is not supported," you can always retry at a later time, as enough resources may have been freed in the cluster to accommodate your request.</span></span> <span data-ttu-id="fb7f6-233">Se o problema for que o tamanho da VM solicitada não tem suporte, consulte as soluções alternativas abaixo.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-233">If the problem is that the requested VM size is not supported, see below for workarounds.</span></span>

## <a name="allocation-scenario-resize-a-vm-or-add-vms-to-an-existing-availability-set"></a><span data-ttu-id="fb7f6-234">Cenário de alocação: redimensionar uma VM ou adicionar VMs a um conjunto de disponibilidade existente</span><span class="sxs-lookup"><span data-stu-id="fb7f6-234">Allocation scenario: Resize a VM or add VMs to an existing availability set</span></span>
<span data-ttu-id="fb7f6-235">**Erro**</span><span class="sxs-lookup"><span data-stu-id="fb7f6-235">**Error**</span></span>

<span data-ttu-id="fb7f6-236">Upgrade_VMSizeNotSupported * ou GeneralError *</span><span class="sxs-lookup"><span data-stu-id="fb7f6-236">Upgrade_VMSizeNotSupported* or GeneralError*</span></span>

<span data-ttu-id="fb7f6-237">**Causa de fixação de cluster**</span><span class="sxs-lookup"><span data-stu-id="fb7f6-237">**Cause of cluster pinning**</span></span>

<span data-ttu-id="fb7f6-238">A solicitação de redimensionar ou adicionar uma VM a um conjunto de disponibilidade existente deve ser tentada no cluster original que hospeda este conjunto.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-238">A request to resize a VM or add a VM to an existing availability set has to be attempted at the original cluster that hosts the existing availability set.</span></span> <span data-ttu-id="fb7f6-239">A criação de um novo conjunto de disponibilidade permite que a plataforma do Microsoft Azure localize outro cluster com recursos livres ou que dê suporte para os tamanhos de VM solicitados.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-239">Creating a new availability set allows the Azure platform to find another cluster that has free resources or supports the VM size that you requested.</span></span>

<span data-ttu-id="fb7f6-240">**Solução alternativa**</span><span class="sxs-lookup"><span data-stu-id="fb7f6-240">**Workaround**</span></span>

<span data-ttu-id="fb7f6-241">Se o erro for Upgrade_VMSizeNotSupported*, tente usar um tamanho de VM diferente.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-241">If the error is Upgrade_VMSizeNotSupported*, try a different VM size.</span></span> <span data-ttu-id="fb7f6-242">Se não for possível usar um tamanho de VM diferente, pare todas as VMs no conjunto de disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-242">If using a different VM size is not an option, stop all VMs in the availability set.</span></span> <span data-ttu-id="fb7f6-243">Em seguida, você pode alterar o tamanho da máquina virtual que alocará a VM a um cluster que dê suporte para o tamanho de VM desejado.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-243">You can then change the size of the virtual machine that will allocate the VM to a cluster that supports the desired VM size.</span></span>

<span data-ttu-id="fb7f6-244">Se o erro for GeneralError*, é provável que o cluster tenha suporte para o tipo de recurso (como um determinado tamanho de VM), embora não tenha recursos livres no momento.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-244">If the error is GeneralError*, it's likely that the type of resource (such as a particular VM size) is supported by the cluster, but the cluster does not have free resources at the moment.</span></span> <span data-ttu-id="fb7f6-245">Quando a VM puder fazer parte de um conjunto de disponibilidade diferente, crie uma nova VM em um conjunto de disponibilidade diferente (na mesma região).</span><span class="sxs-lookup"><span data-stu-id="fb7f6-245">If the VM can be part of a different availability set, create a new VM in a different availability set (in the same region).</span></span> <span data-ttu-id="fb7f6-246">Essa nova VM pode ser adicionada à mesma rede virtual.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-246">This new VM can then be added to the same virtual network.</span></span>  

## <a name="allocation-scenario-restart-partially-stopped-deallocated-vms"></a><span data-ttu-id="fb7f6-247">Cenário de alocação: reiniciar VMs parcialmente paradas (desalocadas)</span><span class="sxs-lookup"><span data-stu-id="fb7f6-247">Allocation scenario: Restart partially stopped (deallocated) VMs</span></span>
<span data-ttu-id="fb7f6-248">**Erro**</span><span class="sxs-lookup"><span data-stu-id="fb7f6-248">**Error**</span></span>

<span data-ttu-id="fb7f6-249">GeneralError*</span><span class="sxs-lookup"><span data-stu-id="fb7f6-249">GeneralError*</span></span>

<span data-ttu-id="fb7f6-250">**Causa de fixação de cluster**</span><span class="sxs-lookup"><span data-stu-id="fb7f6-250">**Cause of cluster pinning**</span></span>

<span data-ttu-id="fb7f6-251">A desalocação parcial significa que você parou (desalocou) uma ou mais, mas não todas, VMs em um conjunto de disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-251">Partial deallocation means that you stopped (deallocated) one or more, but not all, VMs in an availability set.</span></span> <span data-ttu-id="fb7f6-252">Quando você para (desaloca) uma VM, os recursos associados são liberados.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-252">When you stop (deallocate) a VM, the associated resources are released.</span></span> <span data-ttu-id="fb7f6-253">A renicialização da VM parada (desalocada) é, portanto, uma nova solicitação de alocação.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-253">Restarting that stopped (deallocated) VM is therefore a new allocation request.</span></span> <span data-ttu-id="fb7f6-254">Reiniciar as VMs em um conjunto de disponibilidade parcialmente desalocado é equivalente a adicionar VMs a um conjunto de disponibilidade existente.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-254">Restarting VMs in a partially deallocated availability set is equivalent to adding VMs to an existing availability set.</span></span> <span data-ttu-id="fb7f6-255">A solicitação de alocação deve ser tentada no cluster original que hospeda o conjunto de disponibilidade existente.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-255">The allocation request has to be attempted at the original cluster that hosts the existing availability set.</span></span>

<span data-ttu-id="fb7f6-256">**Solução alternativa**</span><span class="sxs-lookup"><span data-stu-id="fb7f6-256">**Workaround**</span></span>

<span data-ttu-id="fb7f6-257">Pare todas as VMs no conjunto de disponibilidade antes de reiniciar a primeira.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-257">Stop all VMs in the availability set before restarting the first one.</span></span> <span data-ttu-id="fb7f6-258">Isso garante que uma nova tentativa de alocação seja executada e que um novo cluster com capacidade disponível possa ser selecionado.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-258">This will ensure that a new allocation attempt is run and that a new cluster can be selected that has available capacity.</span></span>

## <a name="allocation-scenario-restart-fully-stopped-deallocated"></a><span data-ttu-id="fb7f6-259">Cenário de alocação: reiniciar a parada total (desalocada)</span><span class="sxs-lookup"><span data-stu-id="fb7f6-259">Allocation scenario: Restart fully stopped (deallocated)</span></span>
<span data-ttu-id="fb7f6-260">**Erro**</span><span class="sxs-lookup"><span data-stu-id="fb7f6-260">**Error**</span></span>

<span data-ttu-id="fb7f6-261">GeneralError*</span><span class="sxs-lookup"><span data-stu-id="fb7f6-261">GeneralError*</span></span>

<span data-ttu-id="fb7f6-262">**Causa de fixação de cluster**</span><span class="sxs-lookup"><span data-stu-id="fb7f6-262">**Cause of cluster pinning**</span></span>

<span data-ttu-id="fb7f6-263">A desalocação total significa que você parou (desalocou) todas as VMs em um conjunto de disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-263">Full deallocation means that you stopped (deallocated) all VMs in an availability set.</span></span> <span data-ttu-id="fb7f6-264">A solicitação de alocação para reiniciar essas VMs se destina a todos os clusters compatíveis com o tamanho desejado.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-264">The allocation request to restart these VMs will target all clusters that support the desired size.</span></span>

<span data-ttu-id="fb7f6-265">**Solução alternativa**</span><span class="sxs-lookup"><span data-stu-id="fb7f6-265">**Workaround**</span></span>

<span data-ttu-id="fb7f6-266">Selecione um novo tamanho de VM para alocar.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-266">Select a new VM size to allocate.</span></span> <span data-ttu-id="fb7f6-267">Se isso não funcionar, tente novamente mais tarde.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-267">If this does not work, please try again later.</span></span>

## <a name="error-string-lookup"></a><span data-ttu-id="fb7f6-268">Pesquisa de cadeia de caracteres de erro</span><span class="sxs-lookup"><span data-stu-id="fb7f6-268">Error string lookup</span></span>
<span data-ttu-id="fb7f6-269">**New_VMSizeNotSupported***</span><span class="sxs-lookup"><span data-stu-id="fb7f6-269">**New_VMSizeNotSupported***</span></span>

<span data-ttu-id="fb7f6-270">"O tamanho de VM (ou combinação de tamanhos de VM) necessário para essa implantação não pode ser provisionado devido a restrições de solicitação de implantação.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-270">"The VM size (or combination of VM sizes) required by this deployment cannot be provisioned due to deployment request constraints.</span></span> <span data-ttu-id="fb7f6-271">Se possível, tente relaxar as restrições, como associações de rede virtual, implantação em um serviço hospedado sem nenhuma outra implantação nele e em um grupo de afinidades diferente ou sem nenhum grupo de afinidades ou tente implantar em uma região diferente."</span><span class="sxs-lookup"><span data-stu-id="fb7f6-271">If possible, try relaxing constraints such as virtual network bindings, deploying to a hosted service with no other deployment in it and to a different affinity group or with no affinity group, or try deploying to a different region."</span></span>

<span data-ttu-id="fb7f6-272">**New_General***</span><span class="sxs-lookup"><span data-stu-id="fb7f6-272">**New_General***</span></span>

<span data-ttu-id="fb7f6-273">"Falha na alocação; não é possível atender às restrições na solicitação.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-273">"Allocation failed; unable to satisfy constraints in request.</span></span> <span data-ttu-id="fb7f6-274">A implantação solicitada do novo serviço está associada a um grupo de afinidades ou é destinada a uma rede virtual, ou há uma implantação existente para esse serviço hospedado.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-274">The requested new service deployment is bound to an affinity group, or it targets a virtual network, or there is an existing deployment under this hosted service.</span></span> <span data-ttu-id="fb7f6-275">Essas condições restringem a nova implantação para os recursos específicos do Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-275">Any of these conditions constrains the new deployment to specific Azure resources.</span></span> <span data-ttu-id="fb7f6-276">Tente novamente mais tarde ou tente reduzir o tamanho da VM ou o número de instâncias de função.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-276">Please retry later or try reducing the VM size or number of role instances.</span></span> <span data-ttu-id="fb7f6-277">De forma alternativa, remova as restrições mencionadas acima ou tente implantar em uma região diferente, se possível."</span><span class="sxs-lookup"><span data-stu-id="fb7f6-277">Alternatively, if possible, remove the aforementioned constraints or try deploying to a different region."</span></span>

<span data-ttu-id="fb7f6-278">**Upgrade_VMSizeNotSupported***</span><span class="sxs-lookup"><span data-stu-id="fb7f6-278">**Upgrade_VMSizeNotSupported***</span></span>

<span data-ttu-id="fb7f6-279">"Não é possível atualizar a implantação.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-279">"Unable to upgrade the deployment.</span></span> <span data-ttu-id="fb7f6-280">O tamanho de VM XXX solicitado pode não estar disponível nos recursos que são compatíveis com a implantação existente.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-280">The requested VM size XXX may not be available in the resources supporting the existing deployment.</span></span> <span data-ttu-id="fb7f6-281">Tente novamente mais tarde, tente com um tamanho de VM diferente ou com um número de instâncias de função menor, ou crie uma implantação em um serviço hospedado vazio com um novo grupo de afinidades ou sem nenhuma associação com grupo de afinidades."</span><span class="sxs-lookup"><span data-stu-id="fb7f6-281">Please try again later, try with a different VM size or smaller number of role instances, or create a deployment under an empty hosted service with a new affinity group or no affinity group binding."</span></span>

<span data-ttu-id="fb7f6-282">**GeneralError***</span><span class="sxs-lookup"><span data-stu-id="fb7f6-282">**GeneralError***</span></span>

<span data-ttu-id="fb7f6-283">"O servidor encontrou um erro interno.</span><span class="sxs-lookup"><span data-stu-id="fb7f6-283">"The server encountered an internal error.</span></span> <span data-ttu-id="fb7f6-284">Repita a solicitação."</span><span class="sxs-lookup"><span data-stu-id="fb7f6-284">Please retry the request."</span></span> <span data-ttu-id="fb7f6-285">Ou "Falha na produção de uma alocação para o serviço."</span><span class="sxs-lookup"><span data-stu-id="fb7f6-285">Or "Failed to produce an allocation for the service."</span></span>

