

<span data-ttu-id="6e8f2-101">As Extensões de VM podem ajudá-lo a:</span><span class="sxs-lookup"><span data-stu-id="6e8f2-101">VM extensions can help you:</span></span>

* <span data-ttu-id="6e8f2-102">Modificar os recursos de segurança e identidade, como redefinir os valores de conta e usar antimalware</span><span class="sxs-lookup"><span data-stu-id="6e8f2-102">Modify security and identity features, such as resetting account values and using antimalware</span></span>
* <span data-ttu-id="6e8f2-103">Iniciar, parar ou configurar o monitoramento e o diagnóstico</span><span class="sxs-lookup"><span data-stu-id="6e8f2-103">Start, stop, or configure monitoring and diagnostics</span></span>
* <span data-ttu-id="6e8f2-104">Redefinir ou instalar os recursos de conectividade, como RDP e SSH</span><span class="sxs-lookup"><span data-stu-id="6e8f2-104">Reset or install connectivity features, such as RDP and SSH</span></span>
* <span data-ttu-id="6e8f2-105">Diagnosticar, monitorar e gerenciar suas VMs</span><span class="sxs-lookup"><span data-stu-id="6e8f2-105">Diagnose, monitor, and manage your VMs</span></span>

<span data-ttu-id="6e8f2-106">Há muitos outros recursos.</span><span class="sxs-lookup"><span data-stu-id="6e8f2-106">There are many other features as well.</span></span> <span data-ttu-id="6e8f2-107">Novos recursos de extensão de VM são lançados regularmente.</span><span class="sxs-lookup"><span data-stu-id="6e8f2-107">New VM Extension features are released regularly.</span></span> <span data-ttu-id="6e8f2-108">Este artigo descreve hello Azure VM agentes para Windows e Linux, e como dar suporte a funcionalidade de extensão de VM.</span><span class="sxs-lookup"><span data-stu-id="6e8f2-108">This article describes hello Azure VM Agents for Windows and Linux, and how they support VM Extension functionality.</span></span> <span data-ttu-id="6e8f2-109">Para ver uma lista de Extensões de VM por categoria de recurso, veja [Extensões de VM e recursos do Azure](../articles/virtual-machines/windows/extensions-features.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="6e8f2-109">For a listing of VM Extensions by feature category, see [Azure VM Extensions and Features](../articles/virtual-machines/windows/extensions-features.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

## <a name="azure-vm-agents-for-windows-and-linux"></a><span data-ttu-id="6e8f2-110">Agentes de VM do Azure para Windows e Linux</span><span class="sxs-lookup"><span data-stu-id="6e8f2-110">Azure VM Agents for Windows and Linux</span></span>
<span data-ttu-id="6e8f2-111">Olá agente de máquinas virtuais do Azure (agente de VM) é um processo seguro e leve que instala, configura e remove extensões VM em instâncias de máquinas virtuais do Azure.</span><span class="sxs-lookup"><span data-stu-id="6e8f2-111">hello Azure Virtual Machines Agent (VM Agent) is a secured, light-weight process that installs, configures, and removes VM extensions on instances of Azure Virtual Machines.</span></span> <span data-ttu-id="6e8f2-112">Olá agente de VM atua como o serviço de controle de local seguro Olá para VMs do Azure.</span><span class="sxs-lookup"><span data-stu-id="6e8f2-112">hello VM Agent acts as hello secure local control service for your Azure VM.</span></span> <span data-ttu-id="6e8f2-113">extensões de Olá Olá cargas de agente fornecem tooincrease recursos específicos a produtividade usando a instância de saudação.</span><span class="sxs-lookup"><span data-stu-id="6e8f2-113">hello extensions that hello agent loads provide specific features tooincrease your productivity using hello instance.</span></span>

<span data-ttu-id="6e8f2-114">Existem dois agentes de VM do Azure, um para máquinas virtuais do Windows e outro para VMs do Linux.</span><span class="sxs-lookup"><span data-stu-id="6e8f2-114">Two Azure VM Agents exist, one for Windows VMs and one for Linux VMs.</span></span>

<span data-ttu-id="6e8f2-115">Se você quiser um toouse de instância de máquina virtual em uma ou mais extensões VM, a instância de saudação deve ter um agente de VM instalado.</span><span class="sxs-lookup"><span data-stu-id="6e8f2-115">If you want a virtual machine instance toouse one or more VM extensions, hello instance must have an installed VM Agent.</span></span> <span data-ttu-id="6e8f2-116">Uma imagem de máquina virtual criada usando hello portal do Azure e uma imagem de saudação **Marketplace** automaticamente instala um agente de VM no processo de criação de saudação.</span><span class="sxs-lookup"><span data-stu-id="6e8f2-116">A virtual machine image created by using hello Azure portal and an image from hello **Marketplace** automatically installs a VM Agent in hello creation process.</span></span> <span data-ttu-id="6e8f2-117">Se uma instância de máquina virtual não possui um agente de VM, você pode instalar Olá agente de VM após a criação da instância de máquina virtual de saudação.</span><span class="sxs-lookup"><span data-stu-id="6e8f2-117">If a virtual machine instance lacks a VM Agent, you can install hello VM Agent after hello virtual machine instance is created.</span></span> <span data-ttu-id="6e8f2-118">Ou, você pode instalar o agente de saudação em uma imagem VM personalizada carregada.</span><span class="sxs-lookup"><span data-stu-id="6e8f2-118">Or, you can install hello agent in a custom VM image that you then upload.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="6e8f2-119">Esses Agentes de VM são serviços muito leves que permitem a administração segura de instâncias de máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="6e8f2-119">These VM Agents are very light-weight, services that enable secured administration of virtual machine instances.</span></span> <span data-ttu-id="6e8f2-120">Pode haver casos em que você não quer Olá agente de VM.</span><span class="sxs-lookup"><span data-stu-id="6e8f2-120">There might be cases in which you do not want hello VM Agent.</span></span> <span data-ttu-id="6e8f2-121">Nesse caso, ter VMs toocreate-se de que não têm Olá agente de VM instalado usando Olá CLI do Azure ou o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6e8f2-121">If so, be sure toocreate VMs that do not have hello VM Agent installed using hello Azure CLI or PowerShell.</span></span> <span data-ttu-id="6e8f2-122">Embora Olá agente de VM possa ser fisicamente removido, o comportamento de saudação de extensões de VM na instância de saudação é indefinido.</span><span class="sxs-lookup"><span data-stu-id="6e8f2-122">Although hello VM Agent can be removed physically, hello behavior of VM Extensions on hello instance is undefined.</span></span> <span data-ttu-id="6e8f2-123">Como resultado, não há suporte para a remoção de um Agente de VM instalado.</span><span class="sxs-lookup"><span data-stu-id="6e8f2-123">As a result, removing an installed VM Agent is not supported.</span></span>
>

<span data-ttu-id="6e8f2-124">Olá agente da VM está habilitada no hello situações a seguir:</span><span class="sxs-lookup"><span data-stu-id="6e8f2-124">hello VM Agent is enabled in hello following situations:</span></span>

* <span data-ttu-id="6e8f2-125">Quando você cria uma instância de uma VM usando Olá portal do Azure e selecionar uma imagem de saudação **Marketplace**,</span><span class="sxs-lookup"><span data-stu-id="6e8f2-125">When you create an instance of a VM by using hello Azure portal and selecting an image from hello **Marketplace**,</span></span>
* <span data-ttu-id="6e8f2-126">Quando você cria uma instância de uma VM usando Olá [New-AzureVM](https://msdn.microsoft.com/library/azure/dn495254.aspx) ou hello [New-AzureQuickVM](https://msdn.microsoft.com/library/azure/dn495183.aspx) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="6e8f2-126">When you create an instance of a VM by using hello [New-AzureVM](https://msdn.microsoft.com/library/azure/dn495254.aspx) or hello [New-AzureQuickVM](https://msdn.microsoft.com/library/azure/dn495183.aspx) cmdlet.</span></span> <span data-ttu-id="6e8f2-127">Você pode criar uma máquina virtual sem um agente de VM adicionando Olá **– DisableGuestAgent** parâmetro toohello [Add-AzureProvisioningConfig](https://msdn.microsoft.com/library/azure/dn495299.aspx) cmdlet,</span><span class="sxs-lookup"><span data-stu-id="6e8f2-127">You can create a VM without a VM Agent by adding hello **–DisableGuestAgent** parameter toohello [Add-AzureProvisioningConfig](https://msdn.microsoft.com/library/azure/dn495299.aspx) cmdlet,</span></span>

* <span data-ttu-id="6e8f2-128">Quando você manualmente baixar e instalar Olá agente de VM em uma instância VM existente e definir Olá **ProvisionGuestAgent** valor muito**true**.</span><span class="sxs-lookup"><span data-stu-id="6e8f2-128">When you manually download and install hello VM Agent on an existing VM instance, and set hello **ProvisionGuestAgent** value too**true**.</span></span> <span data-ttu-id="6e8f2-129">Você pode usar essa técnica para agentes Windows e Linux usando um comando do PowerShell ou uma chamada REST.</span><span class="sxs-lookup"><span data-stu-id="6e8f2-129">You can use this technique for Windows and Linux agents, by using a PowerShell command or a REST call.</span></span> <span data-ttu-id="6e8f2-130">(Se você não definir Olá **ProvisionGuestAgent** valor após a instalação manual Olá agente de VM, adição de saudação do hello agente de VM não é detectado corretamente.) Olá mostra exemplo de código a seguir como toodo esse usando o PowerShell onde hello `$svc` e `$name` já foram determinados argumentos:</span><span class="sxs-lookup"><span data-stu-id="6e8f2-130">(If you do not set hello **ProvisionGuestAgent** value after manually installing hello VM Agent, hello addition of hello VM Agent is not detected properly.) hello following code example shows how toodo this using PowerShell where hello `$svc` and `$name` arguments have already been determined:</span></span>

      $vm = Get-AzureVM –ServiceName $svc –Name $name
      $vm.VM.ProvisionGuestAgent = $TRUE
      Update-AzureVM –Name $name –VM $vm.VM –ServiceName $svc

* <span data-ttu-id="6e8f2-131">Quando você cria uma imagem de VM que inclui um Agente de VM instalado.</span><span class="sxs-lookup"><span data-stu-id="6e8f2-131">When you create a VM image that includes an installed VM Agent.</span></span> <span data-ttu-id="6e8f2-132">Após a imagem de saudação com hello agente de VM existe, você pode carregar tooAzure essa imagem.</span><span class="sxs-lookup"><span data-stu-id="6e8f2-132">Once hello image with hello VM Agent exists, you can upload that image tooAzure.</span></span> <span data-ttu-id="6e8f2-133">Para uma VM do Windows, baixe Olá [arquivo. msi de agente de VM do Windows](http://go.microsoft.com/fwlink/?LinkID=394789) e instalar Olá agente de VM.</span><span class="sxs-lookup"><span data-stu-id="6e8f2-133">For a Windows VM, download hello [Windows VM Agent .msi file](http://go.microsoft.com/fwlink/?LinkID=394789) and install hello VM Agent.</span></span> <span data-ttu-id="6e8f2-134">Para uma VM do Linux, instale Olá agente de VM do repositório do GitHub Olá localizado em <https://github.com/Azure/WALinuxAgent>.</span><span class="sxs-lookup"><span data-stu-id="6e8f2-134">For a Linux VM, install hello VM Agent from hello GitHub repository located at <https://github.com/Azure/WALinuxAgent>.</span></span> <span data-ttu-id="6e8f2-135">Para obter mais informações sobre como tooinstall Olá agente de VM no Linux, consulte Olá [guia do usuário do agente do Azure Linux VM](../articles/virtual-machines/linux/agent-user-guide.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="6e8f2-135">For more information on how tooinstall hello VM Agent on Linux, see hello [Azure Linux VM Agent User Guide](../articles/virtual-machines/linux/agent-user-guide.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

> [!NOTE]
> <span data-ttu-id="6e8f2-136">Em PaaS, hello agente VM é chamado **WindowsAzureGuestAgent**e está sempre disponível na Web e as VMs de função de trabalho.</span><span class="sxs-lookup"><span data-stu-id="6e8f2-136">In PaaS, hello VM Agent is called **WindowsAzureGuestAgent**, and is always available on Web and Worker Role VMs.</span></span> <span data-ttu-id="6e8f2-137">(Para obter mais informações, consulte [arquitetura de funções do Azure](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx).) Olá agente de VM para VMs de função agora pode adicionar serviço de nuvem extensões toohello VMs Olá mesma maneira que faz para máquinas virtuais persistentes.</span><span class="sxs-lookup"><span data-stu-id="6e8f2-137">(For more information, see [Azure Role Architecture](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx).) hello VM Agent for Role VMs can now add extensions toohello cloud service VMs in hello same way that it does for persistent Virtual Machines.</span></span> <span data-ttu-id="6e8f2-138">Olá maior diferença entre as extensões de VM em VMs de função e VMs persistentes é Olá extensões VM são adicionadas.</span><span class="sxs-lookup"><span data-stu-id="6e8f2-138">hello biggest difference between VM Extensions on role VMs and persistent VMs is when hello VM extensions are added.</span></span> <span data-ttu-id="6e8f2-139">Com VMs de função, as extensões são adicionadas primeiro toohello serviço de nuvem, em seguida, toohello implantações nesse serviço de nuvem.</span><span class="sxs-lookup"><span data-stu-id="6e8f2-139">With role VMs, extensions are added first toohello cloud service, then toohello deployments within that cloud service.</span></span>
>
> <span data-ttu-id="6e8f2-140">Use o [Get-AzureServiceAvailableExtension](https://msdn.microsoft.com/library/azure/dn722498.aspx) toolist cmdlet todas as extensões VM de função disponíveis.</span><span class="sxs-lookup"><span data-stu-id="6e8f2-140">Use the [Get-AzureServiceAvailableExtension](https://msdn.microsoft.com/library/azure/dn722498.aspx) cmdlet toolist all available role VM extensions.</span></span>
>
>

## <a name="find-add-update-and-remove-vm-extensions"></a><span data-ttu-id="6e8f2-141">Localizar, adicionar, atualizar e remover extensões de VM</span><span class="sxs-lookup"><span data-stu-id="6e8f2-141">Find, Add, Update, and Remove VM Extensions</span></span>
<span data-ttu-id="6e8f2-142">Para obter detalhes sobre essas tarefas, veja [Adicionar, encontrar, atualizar e remover Extensões de VM do Azure](../articles/virtual-machines/windows/classic/manage-extensions.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="6e8f2-142">For details on these tasks, see [Add, Find, Update, and Remove Azure VM Extensions](../articles/virtual-machines/windows/classic/manage-extensions.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span></span>
