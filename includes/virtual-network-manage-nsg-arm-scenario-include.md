## <a name="sample-scenario"></a><span data-ttu-id="b93e2-101">Cenário de exemplo</span><span class="sxs-lookup"><span data-stu-id="b93e2-101">Sample Scenario</span></span>
<span data-ttu-id="b93e2-102">Para melhor ilustrar como gerenciar NSGs, este artigo usará o cenário abaixo.</span><span class="sxs-lookup"><span data-stu-id="b93e2-102">To better illustrate how to manage NSGs, this article uses the scenario below.</span></span>

![Cenário de Rede Virtual](./media/virtual-networks-create-nsg-scenario-include/figure1.png)

<span data-ttu-id="b93e2-104">Nesse cenário, você criará um NSG para cada sub-rede na rede virtual **TestVNet** , conforme descrito abaixo:</span><span class="sxs-lookup"><span data-stu-id="b93e2-104">In this scenario you will create an NSG for each subnet in the **TestVNet** virtual network, as described below:</span></span> 

* <span data-ttu-id="b93e2-105">**NSG-FrontEnd**.</span><span class="sxs-lookup"><span data-stu-id="b93e2-105">**NSG-FrontEnd**.</span></span> <span data-ttu-id="b93e2-106">O front-end de NSG será aplicado à sub-rede *FrontEnd* contém duas regras:</span><span class="sxs-lookup"><span data-stu-id="b93e2-106">The front end NSG will be applied to the *FrontEnd* subnet, and contain two rules:</span></span>    
  * <span data-ttu-id="b93e2-107">**rdp-rule**.</span><span class="sxs-lookup"><span data-stu-id="b93e2-107">**rdp-rule**.</span></span> <span data-ttu-id="b93e2-108">Essa regra permitirá tráfego RDP para a sub-rede *FrontEnd* .</span><span class="sxs-lookup"><span data-stu-id="b93e2-108">This rule will allow RDP traffic to the *FrontEnd* subnet.</span></span>
  * <span data-ttu-id="b93e2-109">**web-rule**.</span><span class="sxs-lookup"><span data-stu-id="b93e2-109">**web-rule**.</span></span> <span data-ttu-id="b93e2-110">Essa regra permitirá tráfego HTTP para a sub-rede *FrontEnd* .</span><span class="sxs-lookup"><span data-stu-id="b93e2-110">This rule will allow HTTP traffic to the *FrontEnd* subnet.</span></span>
* <span data-ttu-id="b93e2-111">**NSG-BackEnd**.</span><span class="sxs-lookup"><span data-stu-id="b93e2-111">**NSG-BackEnd**.</span></span> <span data-ttu-id="b93e2-112">O frontend de NSG será aplicado à sub-rede *BackEnd* e contém duas regras:</span><span class="sxs-lookup"><span data-stu-id="b93e2-112">The back end NSG will be applied to the *BackEnd* subnet, and contain two rules:</span></span>    
  * <span data-ttu-id="b93e2-113">**sql-rule**.</span><span class="sxs-lookup"><span data-stu-id="b93e2-113">**sql-rule**.</span></span> <span data-ttu-id="b93e2-114">Essa regra permite o tráfego SQL somente da sub-rede *FrontEnd* .</span><span class="sxs-lookup"><span data-stu-id="b93e2-114">This rule allows SQL traffic only from the *FrontEnd* subnet.</span></span>
  * <span data-ttu-id="b93e2-115">**web-rule**.</span><span class="sxs-lookup"><span data-stu-id="b93e2-115">**web-rule**.</span></span> <span data-ttu-id="b93e2-116">Esta regra nega todo o tráfego limitado da Internet da sub-rede *BackEnd* .</span><span class="sxs-lookup"><span data-stu-id="b93e2-116">This rule denies all internet bound traffic from the *BackEnd* subnet.</span></span>

<span data-ttu-id="b93e2-117">A combinação dessas regras cria um cenário de DMZ, em que a sub-rede de back-end só pode receber tráfego de entrada para tráfego SQL da sub-rede front-end e não tem acesso à Internet, enquanto a sub-rede de front-end pode se comunicar com a Internet e receber somente solicitações HTTP de entrada.</span><span class="sxs-lookup"><span data-stu-id="b93e2-117">The combination of these rules create a DMZ-like scenario, where the back end subnet can only receive incoming traffic for SQL traffic from the front end subnet, and has no access to the Internet, while the front end subnet can communicate with the Internet, and receive incoming HTTP requests only.</span></span>

<span data-ttu-id="b93e2-118">Para implantar o cenário descrito acima, acesse [este link](http://github.com/telmosampaio/azure-templates/tree/master/201-IaaS-WebFrontEnd-SQLBackEnd-NSG), clique em **Implantar no Azure**, substitua os valores de parâmetro padrão, se necessário, e siga as instruções no portal.</span><span class="sxs-lookup"><span data-stu-id="b93e2-118">To deploy the scenario described above, follow [this link](http://github.com/telmosampaio/azure-templates/tree/master/201-IaaS-WebFrontEnd-SQLBackEnd-NSG), click **Deploy to Azure**, replace the default parameter values if necessary, and follow the instructions in the portal.</span></span> <span data-ttu-id="b93e2-119">Nas instruções de exemplo abaixo, o modelo foi usado para implantar nomes do grupo de recursos **RG-NSG**.</span><span class="sxs-lookup"><span data-stu-id="b93e2-119">In the sample instructions below, the template was used to deploy a resource group names **RG-NSG**.</span></span> 

