
# <a name="azure-and-internet-of-things"></a><span data-ttu-id="52491-101">Azure e Internet das Coisas</span><span class="sxs-lookup"><span data-stu-id="52491-101">Azure and Internet of Things</span></span>

<span data-ttu-id="52491-102">Bem vindo ao Microsoft Azure e à IoT (Internet das Coisas).</span><span class="sxs-lookup"><span data-stu-id="52491-102">Welcome to Microsoft Azure and the Internet of Things (IoT).</span></span> <span data-ttu-id="52491-103">Este artigo apresenta uma arquitetura de solução IoT que descreve as características comuns de uma solução IoT, que você pode implantar usando os serviços do Azure.</span><span class="sxs-lookup"><span data-stu-id="52491-103">This article introduces an IoT solution architecture that describes the common characteristics of an IoT solution you might deploy using Azure services.</span></span> <span data-ttu-id="52491-104">Uma solução de IoT exige uma comunicação bidirecional segura entre dispositivos, possivelmente contabilizando milhões, e um back-end da solução.</span><span class="sxs-lookup"><span data-stu-id="52491-104">IoT solutions require secure, bidirectional communication between devices, possibly numbering in the millions, and a solution back end.</span></span> <span data-ttu-id="52491-105">Por exemplo, um back-end da solução pode usar análise preditiva automatizada para revelar insights do fluxo de eventos do dispositivo para a nuvem.</span><span class="sxs-lookup"><span data-stu-id="52491-105">For example, a solution back end might use automated, predictive analytics to uncover insights from your device-to-cloud event stream.</span></span>

<span data-ttu-id="52491-106">O Hub IoT do Azure é um bloco de construção fundamental na implementação dessa arquitetura de solução de IoT usando os serviços do Azure.</span><span class="sxs-lookup"><span data-stu-id="52491-106">Azure IoT Hub is a key building block when you implement this IoT solution architecture using Azure services.</span></span> <span data-ttu-id="52491-107">O IoT Suite fornece implementações completas de ponta a ponta dessa arquitetura para cenários específicos de IoT.</span><span class="sxs-lookup"><span data-stu-id="52491-107">IoT Suite provides complete, end-to-end, implementations of this architecture for specific IoT scenarios.</span></span> <span data-ttu-id="52491-108">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="52491-108">For example:</span></span>

* <span data-ttu-id="52491-109">A solução *monitoramento remoto* permite que você monitore o status de dispositivos como máquinas de venda automáticas.</span><span class="sxs-lookup"><span data-stu-id="52491-109">The *remote monitoring* solution enables you to monitor the status of devices such as vending machines.</span></span>
* <span data-ttu-id="52491-110">A solução *manutenção preditiva* ajuda a prever as necessidades de manutenção de dispositivos, como bombas em estações de bombeamento remotas, e a evitar o tempo de inatividade não programado.</span><span class="sxs-lookup"><span data-stu-id="52491-110">The *predictive maintenance* solution helps you to anticipate maintenance needs of devices such as pumps in remote pumping stations and to avoid unscheduled downtime.</span></span>
* <span data-ttu-id="52491-111">A solução *fábrica conectada* ajuda você a se conectar e monitorar os dispositivos industriais.</span><span class="sxs-lookup"><span data-stu-id="52491-111">The *connected factory* solution helps you to connect and monitor your industrial devices.</span></span>

## <a name="iot-solution-architecture"></a><span data-ttu-id="52491-112">Arquitetura da solução de IoT</span><span class="sxs-lookup"><span data-stu-id="52491-112">IoT solution architecture</span></span>

<span data-ttu-id="52491-113">O diagrama abaixo mostra uma arquitetura comum da solução IoT.</span><span class="sxs-lookup"><span data-stu-id="52491-113">The following diagram shows a typical IoT solution architecture.</span></span> <span data-ttu-id="52491-114">O diagrama não inclui os nomes de todos os serviços específicos do Azure, mas descreve os principais elementos em uma arquitetura da solução de IoT genérica.</span><span class="sxs-lookup"><span data-stu-id="52491-114">The diagram does not include the names of any specific Azure services, but describes the key elements in a generic IoT solution architecture.</span></span> <span data-ttu-id="52491-115">Nessa arquitetura, os dispositivos IoT coletam dados que eles enviam para um gateway de nuvem.</span><span class="sxs-lookup"><span data-stu-id="52491-115">In this architecture, IoT devices collect data that they send to a cloud gateway.</span></span> <span data-ttu-id="52491-116">O gateway de nuvem torna os dados disponíveis para processamento por outros serviços de back-end, por meio dos quais os dados são entregues para outros aplicativos de linha de negócios ou para operadores humanos através de um painel ou de outros dispositivos de apresentação.</span><span class="sxs-lookup"><span data-stu-id="52491-116">The cloud gateway makes the data available for processing by other back-end services from where data is delivered to other line-of-business applications or to human operators through a dashboard or other presentation device.</span></span>

![Arquitetura da solução de IoT][img-solution-architecture]

> [!NOTE]
> <span data-ttu-id="52491-118">Para ver uma análise detalhada da arquitetura IoT, consulte a [Arquitetura de Referência do IoT do Microsoft Azure][lnk-refarch].</span><span class="sxs-lookup"><span data-stu-id="52491-118">For an in-depth discussion of IoT architecture, see the [Microsoft Azure IoT Reference Architecture][lnk-refarch].</span></span>

### <a name="device-connectivity"></a><span data-ttu-id="52491-119">Conectividade do dispositivo</span><span class="sxs-lookup"><span data-stu-id="52491-119">Device connectivity</span></span>

<span data-ttu-id="52491-120">Nesta arquitetura da solução IoT, os dispositivos enviam telemetria, como leituras de sensor de uma estação de bombeamento, para um ponto de extremidade da nuvem para armazenamento e processamento.</span><span class="sxs-lookup"><span data-stu-id="52491-120">In this IoT solution architecture, devices send telemetry, such as sensor readings from a pumping station, to a cloud endpoint for storage and processing.</span></span> <span data-ttu-id="52491-121">Em um cenário de manutenção preditiva, o back-end da solução pode usar a transmissão de dados do sensor para determinar quando uma bomba específica necessita de manutenção.</span><span class="sxs-lookup"><span data-stu-id="52491-121">In a predictive maintenance scenario, the solution back end might use the stream of sensor data to determine when a specific pump requires maintenance.</span></span> <span data-ttu-id="52491-122">Os dispositivos também podem receber e responder às mensagens de nuvem para o dispositivo lendo mensagens de um ponto de extremidade de nuvem.</span><span class="sxs-lookup"><span data-stu-id="52491-122">Devices can also receive and respond to cloud-to-device messages by reading messages from a cloud endpoint.</span></span> <span data-ttu-id="52491-123">Por exemplo, no cenário de manutenção preditiva, o back-end da solução pode enviar mensagens para que outras bombas na estação de bombeamento comecem a rotear de novo os fluxos antes da manutenção devida iniciar.</span><span class="sxs-lookup"><span data-stu-id="52491-123">For example, in the predictive maintenance scenario the solution back end might send messages to other pumps in the pumping station to begin rerouting flows just before maintenance is due to start.</span></span> <span data-ttu-id="52491-124">Esse procedimento irá assegurar que o engenheiro de manutenção possa começar assim que chegar.</span><span class="sxs-lookup"><span data-stu-id="52491-124">This procedure would make sure the maintenance engineer could get started as soon as she arrives.</span></span>

<span data-ttu-id="52491-125">Um dos maiores desafios enfrentados por projetos IoT é sobre conectar dispositivos de forma confiável e segura com o back-end da solução.</span><span class="sxs-lookup"><span data-stu-id="52491-125">One of the biggest challenges facing IoT projects is how to reliably and securely connect devices to the solution back end.</span></span> <span data-ttu-id="52491-126">Os dispositivos IoT têm características diferentes em comparação com outros clientes, como navegadores e aplicativos móveis.</span><span class="sxs-lookup"><span data-stu-id="52491-126">IoT devices have different characteristics as compared to other clients such as browsers and mobile apps.</span></span> <span data-ttu-id="52491-127">Dispositivos IoT:</span><span class="sxs-lookup"><span data-stu-id="52491-127">IoT devices:</span></span>

* <span data-ttu-id="52491-128">Com frequência, são sistemas internos sem operadores humanos.</span><span class="sxs-lookup"><span data-stu-id="52491-128">Are often embedded systems with no human operator.</span></span>
* <span data-ttu-id="52491-129">Eles podem ser implantados em locais remotos, nos quais o acesso físico é caro.</span><span class="sxs-lookup"><span data-stu-id="52491-129">Can be deployed in remote locations, where physical access is expensive.</span></span>
* <span data-ttu-id="52491-130">Só podem ser acessados por meio do back-end da solução.</span><span class="sxs-lookup"><span data-stu-id="52491-130">May only be reachable through the solution back end.</span></span> <span data-ttu-id="52491-131">Não há outra maneira de interagir com o dispositivo.</span><span class="sxs-lookup"><span data-stu-id="52491-131">There is no other way to interact with the device.</span></span>
* <span data-ttu-id="52491-132">Podem ter recursos de energia e de processamento limitados.</span><span class="sxs-lookup"><span data-stu-id="52491-132">May have limited power and processing resources.</span></span>
* <span data-ttu-id="52491-133">Podem ter conectividade de rede intermitente, lenta ou cara.</span><span class="sxs-lookup"><span data-stu-id="52491-133">May have intermittent, slow, or expensive network connectivity.</span></span>
* <span data-ttu-id="52491-134">Talvez precisem de protocolos de aplicativo proprietários, personalizados ou específicos do setor.</span><span class="sxs-lookup"><span data-stu-id="52491-134">May need to use proprietary, custom, or industry-specific application protocols.</span></span>
* <span data-ttu-id="52491-135">Podem ser criados usando um grande conjunto de plataformas de hardware e de software conhecidas.</span><span class="sxs-lookup"><span data-stu-id="52491-135">Can be created using a large set of popular hardware and software platforms.</span></span>

<span data-ttu-id="52491-136">Além dos requisitos acima, todas as soluções IoT também deverão oferecer escala, segurança e confiabilidade.</span><span class="sxs-lookup"><span data-stu-id="52491-136">In addition to the requirements above, any IoT solution must also deliver scale, security, and reliability.</span></span> <span data-ttu-id="52491-137">O conjunto de requisitos de conectividade resultante tem implementação difícil e demorada por meio das tecnologias tradicionais, como contêineres da Web e agentes de mensagens.</span><span class="sxs-lookup"><span data-stu-id="52491-137">The resulting set of connectivity requirements is hard and time-consuming to implement using traditional technologies such as web containers and messaging brokers.</span></span> <span data-ttu-id="52491-138">O Hub IoT do Azure e os SDKs do dispositivo IoT do Azure facilitam a implementação de soluções que atendam a esses requisitos.</span><span class="sxs-lookup"><span data-stu-id="52491-138">Azure IoT Hub and the Azure IoT device SDKs make it easier to implement solutions that meet these requirements.</span></span>

<span data-ttu-id="52491-139">Um dispositivo pode se comunicar diretamente com um ponto de extremidade de gateway de nuvem ou se o dispositivo não puder usar qualquer um dos protocolos de comunicação ao qual o gateway de nuvem dá suporte, ele pode se conectar por meio de um gateway intermediário.</span><span class="sxs-lookup"><span data-stu-id="52491-139">A device can communicate directly with a cloud gateway endpoint, or if the device cannot use any of the communications protocols that the cloud gateway supports, it can connect through an intermediate gateway.</span></span> <span data-ttu-id="52491-140">Por exemplo, o [gateway de protocolo IoT do Azure][lnk-protocol-gateway] poderá realizar a conversão de protocolo se os dispositivos não puderem usar um dos protocolos com suporte pelo Hub IoT.</span><span class="sxs-lookup"><span data-stu-id="52491-140">For example, the [Azure IoT protocol gateway][lnk-protocol-gateway] can perform protocol translation if devices cannot use any of the protocols that IoT Hub supports.</span></span>

### <a name="data-processing-and-analytics"></a><span data-ttu-id="52491-141">Processamento de dados e análise</span><span class="sxs-lookup"><span data-stu-id="52491-141">Data processing and analytics</span></span>

<span data-ttu-id="52491-142">Na nuvem, um back-end da solução IoT é onde ocorre a maior parte do processamento dos dados, por exemplo, a filtragem e a agregação de telemetria, com o roteamento para outros serviços.</span><span class="sxs-lookup"><span data-stu-id="52491-142">In the cloud, an IoT solution back end is where most of the data processing occurs, such as filtering and aggregating telemetry and routing it to other services.</span></span> <span data-ttu-id="52491-143">O back-end da solução IoT:</span><span class="sxs-lookup"><span data-stu-id="52491-143">The IoT solution back end:</span></span>

* <span data-ttu-id="52491-144">Recebe telemetria em escala de seus dispositivos e determina como processar e armazenar os dados.</span><span class="sxs-lookup"><span data-stu-id="52491-144">Receives telemetry at scale from your devices and determines how to process and store that data.</span></span> 
* <span data-ttu-id="52491-145">Pode permitir enviar comandos da nuvem para o dispositivo específico.</span><span class="sxs-lookup"><span data-stu-id="52491-145">May enable you to send commands from the cloud to specific device.</span></span>
* <span data-ttu-id="52491-146">Fornece capacidades de registro de dispositivo que possibilitam que você provisione dispositivos e controle quais dispositivos têm permissão para se conectar à sua infraestrutura.</span><span class="sxs-lookup"><span data-stu-id="52491-146">Provides device registration capabilities that enable you to provision devices and to control which devices are permitted to connect to your infrastructure.</span></span>
* <span data-ttu-id="52491-147">Permite acompanhar o estado de seus dispositivos e monitorar suas atividades.</span><span class="sxs-lookup"><span data-stu-id="52491-147">Enables you to track the state of your devices and monitor their activities.</span></span>

<span data-ttu-id="52491-148">No cenário de manutenção preditiva, o back-end da solução armazena dados históricos de telemetria.</span><span class="sxs-lookup"><span data-stu-id="52491-148">In the predictive maintenance scenario, the solution back end stores historical telemetry data.</span></span> <span data-ttu-id="52491-149">O back-end da solução pode usar esses dados para identificar padrões que indicam que a manutenção é necessária em determinada bomba.</span><span class="sxs-lookup"><span data-stu-id="52491-149">The solution back end can use this data to use to identify patterns that indicate maintenance is due on a specific pump.</span></span>

<span data-ttu-id="52491-150">As soluções de IoT podem incluir loops automáticos de comentários.</span><span class="sxs-lookup"><span data-stu-id="52491-150">IoT solutions can include automatic feedback loops.</span></span> <span data-ttu-id="52491-151">Por exemplo, um módulo de análise no back-end da solução pode identificar da telemetria que a temperatura de um dispositivo específico está acima do nível operacional normal.</span><span class="sxs-lookup"><span data-stu-id="52491-151">For example, an analytics module in the solution back end can identify from telemetry that the temperature of a specific device is above normal operating levels.</span></span> <span data-ttu-id="52491-152">A solução pode enviar um comando para o dispositivo, instruindo-o para executar uma ação corretiva.</span><span class="sxs-lookup"><span data-stu-id="52491-152">The solution can then send a command to the device, instructing it to take corrective action.</span></span>

### <a name="presentation-and-business-connectivity"></a><span data-ttu-id="52491-153">Conectividade de negócios e apresentação</span><span class="sxs-lookup"><span data-stu-id="52491-153">Presentation and business connectivity</span></span>

<span data-ttu-id="52491-154">A camada de conectividade de negócios e apresentação permite que os usuários finais interajam com os dispositivos e solução IoT.</span><span class="sxs-lookup"><span data-stu-id="52491-154">The presentation and business connectivity layer allows end users to interact with the IoT solution and the devices.</span></span> <span data-ttu-id="52491-155">Ela permite aos usuários exibir e analisar os dados coletados de seus dispositivos.</span><span class="sxs-lookup"><span data-stu-id="52491-155">It enables users to view and analyze the data collected from their devices.</span></span> <span data-ttu-id="52491-156">Esses modos de exibição podem assumir a forma de painéis ou relatórios de BI, que podem exibir tanto os dados históricos quanto os dados quase em tempo real.</span><span class="sxs-lookup"><span data-stu-id="52491-156">These views can take the form of dashboards or BI reports that can display both historical data or near real-time data.</span></span> <span data-ttu-id="52491-157">Por exemplo, um operador pode verificar o status de estações de bombeamento específicas e ver quaisquer alertas gerados pelo sistema.</span><span class="sxs-lookup"><span data-stu-id="52491-157">For example, an operator can check on the status of particular pumping station and see any alerts raised by the system.</span></span> <span data-ttu-id="52491-158">Essa camada também permite a integração do back-end da solução IoT com aplicativos de linhas de negócios existentes para ligar fluxos de trabalho e processos de negócios.</span><span class="sxs-lookup"><span data-stu-id="52491-158">This layer also allows integration of the IoT solution back end with existing line-of-business applications to tie into enterprise business processes or workflows.</span></span> <span data-ttu-id="52491-159">Por exemplo, a solução de manutenção preditiva pode ser integrada a um sistema de agendamento que programa a visita de um engenheiro em uma estação de bombeamento quando a solução identifica uma bomba que precisa de manutenção.</span><span class="sxs-lookup"><span data-stu-id="52491-159">For example, the predictive maintenance solution can integrate with a scheduling system that books an engineer to visit a pumping station when the solution identifies a pump in need of maintenance.</span></span>

![Painel da solução IoT][img-dashboard]

[img-solution-architecture]: ./media/iot-azure-and-iot/iot-reference-architecture.png
[img-dashboard]: ./media/iot-azure-and-iot/iot-suite.png

[lnk-machinelearning]: http://azure.microsoft.com/documentation/services/machine-learning/
[Azure IoT Suite]: http://azure.microsoft.com/solutions/iot
[lnk-protocol-gateway]:  ../articles/iot-hub/iot-hub-protocol-gateway.md
[lnk-refarch]: http://download.microsoft.com/download/A/4/D/A4DAD253-BC21-41D3-B9D9-87D2AE6F0719/Microsoft_Azure_IoT_Reference_Architecture.pdf
