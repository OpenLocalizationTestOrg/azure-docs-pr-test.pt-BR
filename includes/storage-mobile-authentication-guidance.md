## <a name="configure-your-application-to-access-azure-storage"></a><span data-ttu-id="0e034-101">Configurar seu aplicativo para acessar o Armazenamento de Blob</span><span class="sxs-lookup"><span data-stu-id="0e034-101">Configure your application to access Azure Storage</span></span>
<span data-ttu-id="0e034-102">Há duas maneiras de autenticar o aplicativo para acessar os serviços de Armazenamento:</span><span class="sxs-lookup"><span data-stu-id="0e034-102">There are two ways to authenticate your application to access Storage services:</span></span>

* <span data-ttu-id="0e034-103">Chave compartilhada: usar a chave compartilhada somente para fins de teste</span><span class="sxs-lookup"><span data-stu-id="0e034-103">Shared Key: Use Shared Key for testing purposes only</span></span>
* <span data-ttu-id="0e034-104">SAS (Assinatura de Acesso Compartilhado): use a SAS para aplicativos de produção</span><span class="sxs-lookup"><span data-stu-id="0e034-104">Shared Access Signature (SAS): Use SAS for production applications</span></span>

### <a name="shared-key"></a><span data-ttu-id="0e034-105">Chave compartilhada</span><span class="sxs-lookup"><span data-stu-id="0e034-105">Shared Key</span></span>
<span data-ttu-id="0e034-106">A autenticação de Chave Compartilhada significa que o aplicativo usará seu nome da conta e chave de conta para acessar os serviços de Armazenamento.</span><span class="sxs-lookup"><span data-stu-id="0e034-106">Shared Key authentication means that your application will use your account name and account key to access Storage services.</span></span> <span data-ttu-id="0e034-107">Para mostrar rapidamente como usar essa biblioteca, vamos usar a autenticação de Chave Compartilhada nesta introdução.</span><span class="sxs-lookup"><span data-stu-id="0e034-107">For the purposes of quickly showing how to use this library, we will be using Shared Key authentication in this getting started.</span></span>

> [!WARNING] 
> <span data-ttu-id="0e034-108">**Use autenticação de chave compartilhada somente para fins de teste!**</span><span class="sxs-lookup"><span data-stu-id="0e034-108">**Only use Shared Key authentication for testing purposes!**</span></span> <span data-ttu-id="0e034-109">Seu nome de conta e chave de conta, que dão acesso completo de leitura/gravação à conta de Armazenamento associada, serão distribuídos a todas as pessoas que baixarem o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="0e034-109">Your account name and account key, which give full read/write access to the associated Storage account, will be distributed to every person that downloads your app.</span></span> <span data-ttu-id="0e034-110">Isso **não** é uma prática recomendada, pois você corre o risco de ter sua chave comprometida por clientes não confiáveis.</span><span class="sxs-lookup"><span data-stu-id="0e034-110">This is **not** a good practice as you risk having your key compromised by untrusted clients.</span></span>
> 
> 

<span data-ttu-id="0e034-111">Ao usar a autenticação de Chave Compartilhada, você criará uma [cadeia de conexão](../articles/storage/common/storage-configure-connection-string.md).</span><span class="sxs-lookup"><span data-stu-id="0e034-111">When using Shared Key authentication, you will create a [connection string](../articles/storage/common/storage-configure-connection-string.md).</span></span> <span data-ttu-id="0e034-112">A cadeia de conexão é composta dos seguintes itens:</span><span class="sxs-lookup"><span data-stu-id="0e034-112">The connection string is comprised of:</span></span>  

* <span data-ttu-id="0e034-113">O **DefaultEndpointsProtocol** -você pode escolher HTTP ou HTTPS.</span><span class="sxs-lookup"><span data-stu-id="0e034-113">The **DefaultEndpointsProtocol** - you can choose HTTP or HTTPS.</span></span> <span data-ttu-id="0e034-114">No entanto, é altamente recomendável usar HTTPS.</span><span class="sxs-lookup"><span data-stu-id="0e034-114">However, using HTTPS is highly recommended.</span></span>
* <span data-ttu-id="0e034-115">O **Nome da Conta** - o nome de sua conta de armazenamento</span><span class="sxs-lookup"><span data-stu-id="0e034-115">The **Account Name** - the name of your storage account</span></span>
* <span data-ttu-id="0e034-116">A **Chave da Conta** - no [Portal do Azure](https://portal.azure.com), navegue até a conta de armazenamento e clique no ícone **Chaves** para encontrar essa informação.</span><span class="sxs-lookup"><span data-stu-id="0e034-116">The **Account Key** - On the [Azure Portal](https://portal.azure.com), navigate to your storage account and click the **Keys** icon to find this information.</span></span>
* <span data-ttu-id="0e034-117">(Opcional) **EndpointSuffix** - é usado para serviços de armazenamento em regiões com sufixos de ponto de extremidade diferentes, como o Azure China ou a Governança do Azure.</span><span class="sxs-lookup"><span data-stu-id="0e034-117">(Optional) **EndpointSuffix** - This is used for storage services in regions with different endpoint suffixes, such as Azure China or Azure Governance.</span></span>

<span data-ttu-id="0e034-118">Veja um exemplo de cadeia de conexão usando a autenticação de Chave Compartilhada:</span><span class="sxs-lookup"><span data-stu-id="0e034-118">Here is an example of connection string using Shared Key authentication:</span></span>

`"DefaultEndpointsProtocol=https;AccountName=your_account_name_here;AccountKey=your_account_key_here"`

### <a name="shared-access-signatures-sas"></a><span data-ttu-id="0e034-119">SAS (Assinaturas de Acesso Compartilhado)</span><span class="sxs-lookup"><span data-stu-id="0e034-119">Shared Access Signatures (SAS)</span></span>
<span data-ttu-id="0e034-120">Para um aplicativo móvel, o método recomendado para autenticar uma solicitação por um cliente em relação ao serviço de Armazenamento do Azure é usando uma SAS (Assinatura de Acesso Compartilhado).</span><span class="sxs-lookup"><span data-stu-id="0e034-120">For a mobile application, the recommended method for authenticating a request by a client against the Azure Storage service is by using a Shared Access Signature (SAS).</span></span> <span data-ttu-id="0e034-121">A SAS permite conceder a um cliente acesso a um recurso por um período de tempo especificado, com um conjunto de permissões especificado.</span><span class="sxs-lookup"><span data-stu-id="0e034-121">SAS allows you to grant a client access to a resource for a specified period of time, with a specified set of permissions.</span></span>
<span data-ttu-id="0e034-122">Como proprietário da conta de armazenamento, você precisará gerar uma SAS a ser consumida por seus clientes móveis.</span><span class="sxs-lookup"><span data-stu-id="0e034-122">As the storage account owner, you'll need to generate a SAS for your mobile clients to consume.</span></span> <span data-ttu-id="0e034-123">Para gerar a SAS, provavelmente você desejará escrever um serviço separado que gere a SAS a ser distribuída a seus clientes.</span><span class="sxs-lookup"><span data-stu-id="0e034-123">To generate the SAS, you'll probably want to write a separate service that generates the SAS to be distributed to your clients.</span></span> <span data-ttu-id="0e034-124">Para fins de teste, você pode usar o [Gerenciador de Armazenamento do Microsoft Azure](http://storageexplorer.com) ou o [Portal do Azure](https://portal.azure.com) para gerar um SAS.</span><span class="sxs-lookup"><span data-stu-id="0e034-124">For testing purposes, you can use the [Microsoft Azure Storage Explorer](http://storageexplorer.com) or the [Azure Portal](https://portal.azure.com) to generate a SAS.</span></span> <span data-ttu-id="0e034-125">Ao criar a SAS, você pode especificar o intervalo de tempo em que a SAS é válida e as permissões que a SAS concede ao cliente.</span><span class="sxs-lookup"><span data-stu-id="0e034-125">When you create the SAS, you can specify the time interval over which the SAS is valid, and the permissions that the SAS grants to the client.</span></span>

<span data-ttu-id="0e034-126">O exemplo a seguir mostra como usar o Gerenciador de Armazenamento do Microsoft Azure para gerar uma SAS.</span><span class="sxs-lookup"><span data-stu-id="0e034-126">The following example shows how to use the Microsoft Azure Storage Explorer to generate a SAS.</span></span>

1. <span data-ttu-id="0e034-127">Se você ainda não fez isso, [Instale o Gerenciador de Armazenamento do Microsoft Azure](http://storageexplorer.com)</span><span class="sxs-lookup"><span data-stu-id="0e034-127">If you haven't already, [Install the Microsoft Azure Storage Explorer](http://storageexplorer.com)</span></span>
2. <span data-ttu-id="0e034-128">Conecte-se à sua assinatura.</span><span class="sxs-lookup"><span data-stu-id="0e034-128">Connect to your subscription.</span></span>
3. <span data-ttu-id="0e034-129">Clique em sua conta de armazenamento e clique na guia "Ações" na parte inferior esquerda.</span><span class="sxs-lookup"><span data-stu-id="0e034-129">Click on your Storage account and click on the "Actions" tab at the bottom left.</span></span> <span data-ttu-id="0e034-130">Clique em "Get Shared Access Signature" (Obter Assinatura de Acesso Compartilhado) para gerar uma "cadeia de conexão" para a SAS.</span><span class="sxs-lookup"><span data-stu-id="0e034-130">Click "Get Shared Access Signature" to generate a "connection string" for your SAS.</span></span>
4. <span data-ttu-id="0e034-131">Aqui está um exemplo de uma cadeia de conexão de SAS que concede permissões leitura e gravação no serviço, contêiner e nível de objeto para o serviço Blob da conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="0e034-131">Here is an example of a SAS connection string that grants read and write permissions at the service, container and object level for the blob service of the Storage account.</span></span>
   
   `"SharedAccessSignature=sv=2015-04-05&ss=b&srt=sco&sp=rw&se=2016-07-21T18%3A00%3A00Z&sig=3ABdLOJZosCp0o491T%2BqZGKIhafF1nlM3MzESDDD3Gg%3D;BlobEndpoint=https://youraccount.blob.core.windows.net"`

<span data-ttu-id="0e034-132">Como você pode ver, ao usar um SAS, você não expõe a chave de sua conta em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="0e034-132">As you can see, when using a SAS, you’re not exposing your account key in your application.</span></span> <span data-ttu-id="0e034-133">Saiba mais sobre a SAS e as práticas recomendadas sobre o uso do SAS consultando [Assinaturas de Acesso Compartilhado: entendendo o modelo SAS](../articles/storage/common/storage-dotnet-shared-access-signature-part-1.md).</span><span class="sxs-lookup"><span data-stu-id="0e034-133">You can learn more about SAS and best practices for using SAS by checking out [Shared Access Signatures: Understanding the SAS model](../articles/storage/common/storage-dotnet-shared-access-signature-part-1.md).</span></span>

