<span data-ttu-id="de7b2-101">Na maioria das vezes, erros de autenticação são o resultado de definições de configuração incorretas ou inconsistentes.</span><span class="sxs-lookup"><span data-stu-id="de7b2-101">Most of the time authentication errors result from incorrect or inconsistent configuration settings.</span></span> <span data-ttu-id="de7b2-102">Aqui estão algumas sugestões específicas de itens a ser verificados.</span><span class="sxs-lookup"><span data-stu-id="de7b2-102">Here are some specific suggestions for things to check.</span></span>

* <span data-ttu-id="de7b2-103">Verifique se você não esqueceu de pressionar o botão **Salvar** em algum lugar.</span><span class="sxs-lookup"><span data-stu-id="de7b2-103">Make sure that you didn't miss the **Save** button anywhere.</span></span> <span data-ttu-id="de7b2-104">Geralmente, isso é fácil de ser feito, mas se você não fizer isso, o resultado será a exibição dos valores corretos em uma página de portal, mas que, na verdade, não foram salvos no ambiente do Azure ou no aplicativo do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="de7b2-104">This is often easy to do, and the result is that you'll be looking at the correct values on a portal page but they haven't actually been saved in the Azure environment or Azure AD application.</span></span>
* <span data-ttu-id="de7b2-105">Para obter as configurações definidas na folha **Configurações do Aplicativo** do portal do Azure, verifique se o aplicativo Web ou o aplicativo de API correto foi selecionado quando as configurações foram inseridas.</span><span class="sxs-lookup"><span data-stu-id="de7b2-105">For settings configured in the **Application Settings** blade of the Azure portal, make sure that the correct API app or web app was selected when the settings were entered.</span></span>  <span data-ttu-id="de7b2-106">Além disso, certifique-se de que as configurações foram inseridas como **Configurações do aplicativo** e não como **Cadeias de conexão**, já que o formato das duas seções é semelhante.</span><span class="sxs-lookup"><span data-stu-id="de7b2-106">Also make sure that the settings were entered as **App settings** and not **Connection strings**, as the format of the two sections is similar.</span></span>
* <span data-ttu-id="de7b2-107">Para a autenticação em um front-end do JavaScript, baixe o manifesto novamente para verificar se `oauth2AllowImplicitFlow` foi alterado com êxito para `true`.</span><span class="sxs-lookup"><span data-stu-id="de7b2-107">For authentication to a JavaScript front end, download the manifest again to verify that `oauth2AllowImplicitFlow` was successfully changed to `true`.</span></span>
* <span data-ttu-id="de7b2-108">Verifique se você usou HTTPS sempre ao configurar URLs:</span><span class="sxs-lookup"><span data-stu-id="de7b2-108">Verify that you used HTTPS wherever you configured URLs:</span></span>
  
  * <span data-ttu-id="de7b2-109">No código do projeto</span><span class="sxs-lookup"><span data-stu-id="de7b2-109">In project code</span></span>
  * <span data-ttu-id="de7b2-110">No CORS</span><span class="sxs-lookup"><span data-stu-id="de7b2-110">In CORS</span></span>
  * <span data-ttu-id="de7b2-111">Nas configurações do Aplicativo do ambiente do Azure para cada aplicativo de API e aplicativo Web</span><span class="sxs-lookup"><span data-stu-id="de7b2-111">In Azure environment App settings for each API app and web app</span></span>
  * <span data-ttu-id="de7b2-112">Nas configurações do aplicativo do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="de7b2-112">In Azure AD application settings.</span></span>
    
    <span data-ttu-id="de7b2-113">Observe que, se você fizer uma cópia da URL de um aplicativo de API no portal, ela geralmente terá `http://` e você terá de alterá-la manualmente para `https://`.</span><span class="sxs-lookup"><span data-stu-id="de7b2-113">Note that if you copy an API app's URL from the portal, it often has `http://` and you have to manually change it to `https://`.</span></span>
* <span data-ttu-id="de7b2-114">Certifique-se de que as alterações de código foram implantadas com êxito.</span><span class="sxs-lookup"><span data-stu-id="de7b2-114">Make sure that any code changes were successfully deployed.</span></span> <span data-ttu-id="de7b2-115">Por exemplo, em uma solução de vários projetos, é possível alterar o código de um projeto e escolher acidentalmente um dos demais quando pretender implantar a alteração.</span><span class="sxs-lookup"><span data-stu-id="de7b2-115">For example, in a multiple-project solution it's possible to change a project's code and accidentally choose one of the others when you intend to deploy the change.</span></span>
* <span data-ttu-id="de7b2-116">Verifique se você está usando URLs HTTPS no navegador, não URLs HTTP.</span><span class="sxs-lookup"><span data-stu-id="de7b2-116">Make sure that you are going to HTTPS URLs in your browser, not HTTP URLs.</span></span> <span data-ttu-id="de7b2-117">Por padrão, o Visual Studio cria perfis de publicação com URLs HTTP, e isso é o que será aberto no navegador após a implantação de um projeto.</span><span class="sxs-lookup"><span data-stu-id="de7b2-117">By default, Visual Studio creates publish profiles with HTTP URLs, and that's what opens in the browser after you deploy a project.</span></span>
* <span data-ttu-id="de7b2-118">Para a autenticação em um front-end do JavaScript, certifique-se de que o CORS está configurado corretamente no aplicativo de API chamado pelo código JavaScript.</span><span class="sxs-lookup"><span data-stu-id="de7b2-118">For authentication to a JavaScript front end, make sure that CORS is correctly configured on the API app that the JavaScript code calls.</span></span> <span data-ttu-id="de7b2-119">Caso esteja em dúvida se o problema está relacionado ao CORS, tente usar "*" como a URL de origem permitida.</span><span class="sxs-lookup"><span data-stu-id="de7b2-119">If in doubt about whether the problem is CORS-related, try "*" as the allowed origin URL.</span></span> 
* <span data-ttu-id="de7b2-120">Para um front-end do JavaScript, abra a guia do Console das Ferramentas de Desenvolvimento do navegador para obter mais informações sobre erros e examine as solicitações HTTP na Rede.</span><span class="sxs-lookup"><span data-stu-id="de7b2-120">For a JavaScript front end, open your browser's Developer Tools Console tab to get more error information, and examine HTTP requests on the Network.</span></span> <span data-ttu-id="de7b2-121">No entanto, mensagens de erro do Console podem ser confusas.</span><span class="sxs-lookup"><span data-stu-id="de7b2-121">However, Console error messages may be misleading.</span></span> <span data-ttu-id="de7b2-122">Se você receber uma mensagem indicando um erro no CORS, o problema real poderá ser a autenticação.</span><span class="sxs-lookup"><span data-stu-id="de7b2-122">If you get a message indicating a CORS error, the real issue may be authentication.</span></span> <span data-ttu-id="de7b2-123">É possível verificar se esse é o caso executando o aplicativo com a autenticação temporariamente desabilitada.</span><span class="sxs-lookup"><span data-stu-id="de7b2-123">You can check if this is the case by running the app with authentication temporarily temporarily disabled.</span></span>
* <span data-ttu-id="de7b2-124">Para um aplicativo de API do .NET, certifique-se de que você obtém o máximo possível de informações nas mensagens de erro definindo o [modo customErrors como Desativado](../articles/app-service-web/web-sites-dotnet-troubleshoot-visual-studio.md#remoteview).</span><span class="sxs-lookup"><span data-stu-id="de7b2-124">For a .NET API app, make sure you are getting as much information in error messages as possible by setting [customErrors mode to Off](../articles/app-service-web/web-sites-dotnet-troubleshoot-visual-studio.md#remoteview).</span></span>
* <span data-ttu-id="de7b2-125">Para um aplicativo de API do .NET, inicie uma [sessão de depuração remota](../articles/app-service-web/web-sites-dotnet-troubleshoot-visual-studio.md#remotedebug) e examine os valores das variáveis que são transmitidos para o código que usa o ADAL para adquirir um token de portador ou o código que verifica as declarações em relação à ID da entidade de serviço esperada.</span><span class="sxs-lookup"><span data-stu-id="de7b2-125">For a .NET API app, start a [remote debugging session](../articles/app-service-web/web-sites-dotnet-troubleshoot-visual-studio.md#remotedebug), and examine the values of the variables that are passed to code that uses ADAL to acquire a bearer token, or code that checks claims against the expected service principal ID.</span></span> <span data-ttu-id="de7b2-126">Observe que o código pode selecionar valores de configuração de várias fontes diferentes. Dessa forma, é possível que ocorram surpresas.</span><span class="sxs-lookup"><span data-stu-id="de7b2-126">Note that your code can pick up configuration values from many different sources, so it's possible to find surprises this way.</span></span> <span data-ttu-id="de7b2-127">Por exemplo, se você digitar incorretamente `ida:ClientId` como `ida:ClientID` ao definir as configurações do Ambiente do Serviço de Aplicativo do Azure, o código poderá receber o valor `ida:ClientId` procurado no arquivo Web.config, ignorando a configuração do Serviço de Aplicativo do Azure.</span><span class="sxs-lookup"><span data-stu-id="de7b2-127">For example, if you mistype `ida:ClientId` as `ida:ClientID` when configuring Azure App Service environment settings, the code might get the `ida:ClientId` value that it's looking for from the Web.config file, ignoring the Azure App Service setting.</span></span> 
* <span data-ttu-id="de7b2-128">Se as coisas não funcionarem em uma janela normal do Internet Explorer, um logon existente poderá estar interferindo; tente usar a navegação InPrivate no Chrome ou Firefox.</span><span class="sxs-lookup"><span data-stu-id="de7b2-128">If things don't work in a normal Internet Explorer window, an existing log-in may be interfering; try InPrivate and try Chrome or Firefox.</span></span>

