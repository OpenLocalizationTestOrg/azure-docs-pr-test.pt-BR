### <a name="open-tcp-ports-in-hello-windows-firewall-for-hello-default-instance-of-hello-database-engine"></a><span data-ttu-id="0b172-101">Abra as portas TCP no firewall do Windows hello para instância padrão Olá Olá mecanismo de banco de dados</span><span class="sxs-lookup"><span data-stu-id="0b172-101">Open TCP ports in hello Windows firewall for hello default instance of hello Database Engine</span></span>
1. <span data-ttu-id="0b172-102">Conecte a máquina virtual de toohello com área de trabalho remota.</span><span class="sxs-lookup"><span data-stu-id="0b172-102">Connect toohello virtual machine with Remote Desktop.</span></span> <span data-ttu-id="0b172-103">Para obter instruções detalhadas sobre como conectar toohello VM, consulte [abrir uma VM do SQL com a área de trabalho remota](../articles/virtual-machines/windows/sql/virtual-machines-windows-portal-sql-server-provision.md#open-the-vm-with-remote-desktop).</span><span class="sxs-lookup"><span data-stu-id="0b172-103">For detailed instructions on connecting toohello VM, see [Open a SQL VM with Remote Desktop](../articles/virtual-machines/windows/sql/virtual-machines-windows-portal-sql-server-provision.md#open-the-vm-with-remote-desktop).</span></span>
2. <span data-ttu-id="0b172-104">Depois de conectado, na tela de início do hello, digite **WF.msc**e em seguida, pressione ENTER.</span><span class="sxs-lookup"><span data-stu-id="0b172-104">Once logged in, at hello Start screen, type **WF.msc**, and then hit ENTER.</span></span>
   
    ![Saudação de iniciar o programa de Firewall](./media/virtual-machines-sql-server-connection-steps/12Open-WF.png)
3. <span data-ttu-id="0b172-106">Em Olá **Firewall do Windows com segurança avançada**, no painel esquerdo de hello, com o botão direito **regras de entrada**e, em seguida, clique em **nova regra** no painel de ações de saudação.</span><span class="sxs-lookup"><span data-stu-id="0b172-106">In hello **Windows Firewall with Advanced Security**, in hello left pane, right-click **Inbound Rules**, and then click **New Rule** in hello action pane.</span></span>
   
    ![Nova Regra](./media/virtual-machines-sql-server-connection-steps/13New-FW-Rule.png)
4. <span data-ttu-id="0b172-108">Em Olá **novo Assistente de regra de entrada** caixa de diálogo **tipo de regra**, selecione **porta**e, em seguida, clique em **próximo**.</span><span class="sxs-lookup"><span data-stu-id="0b172-108">In hello **New Inbound Rule Wizard** dialog box, under **Rule Type**, select **Port**, and then click **Next**.</span></span>
5. <span data-ttu-id="0b172-109">Em Olá **protocolo e portas** caixa de diálogo, usar saudação padrão **TCP**.</span><span class="sxs-lookup"><span data-stu-id="0b172-109">In hello **Protocol and Ports** dialog, use hello default **TCP**.</span></span> <span data-ttu-id="0b172-110">Em Olá **portas locais específicas** caixa, então a saudação do tipo número de instância de saudação do hello mecanismo de banco de dados da porta (**1433** instância de padrão de saudação ou de sua escolha para a porta privada Olá na etapa de ponto de extremidade de saudação).</span><span class="sxs-lookup"><span data-stu-id="0b172-110">In hello **Specific local ports** box, then type hello port number of hello instance of hello Database Engine (**1433** for hello default instance or your choice for hello private port in hello endpoint step).</span></span>
   
    ![Porta TCP 1433](./media/virtual-machines-sql-server-connection-steps/14Port-1433.png)
6. <span data-ttu-id="0b172-112">Clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="0b172-112">Click **Next**.</span></span>
7. <span data-ttu-id="0b172-113">Em Olá **ação** caixa de diálogo, selecione **Permitir conexão Olá**e, em seguida, clique em **próximo**.</span><span class="sxs-lookup"><span data-stu-id="0b172-113">In hello **Action** dialog box, select **Allow hello connection**, and then click **Next**.</span></span>
   
    <span data-ttu-id="0b172-114">**Observação de segurança:** selecionando **Permitir conexão Olá se é seguro** pode fornecer segurança adicional.</span><span class="sxs-lookup"><span data-stu-id="0b172-114">**Security Note:** Selecting **Allow hello connection if it is secure** can provide additional security.</span></span> <span data-ttu-id="0b172-115">Selecione esta opção se você quiser tooconfigure opções de segurança adicional no seu ambiente.</span><span class="sxs-lookup"><span data-stu-id="0b172-115">Select this option if you want tooconfigure additional security options in your environment.</span></span>
   
    ![Permitir Conexões](./media/virtual-machines-sql-server-connection-steps/15Allow-Connection.png)
8. <span data-ttu-id="0b172-117">Em Olá **perfil** caixa de diálogo, selecione **pública**, **privada**, e **domínio**.</span><span class="sxs-lookup"><span data-stu-id="0b172-117">In hello **Profile** dialog box, select **Public**, **Private**, and **Domain**.</span></span> <span data-ttu-id="0b172-118">Em seguida, clique em **Próximo**.</span><span class="sxs-lookup"><span data-stu-id="0b172-118">Then click **Next**.</span></span>
   
    <span data-ttu-id="0b172-119">**Observação de segurança:** selecionando **pública** permitir acesso pela Olá da internet.</span><span class="sxs-lookup"><span data-stu-id="0b172-119">**Security Note:**  Selecting **Public** allows access over hello internet.</span></span> <span data-ttu-id="0b172-120">Sempre que possível, selecione um perfil mais restritivo.</span><span class="sxs-lookup"><span data-stu-id="0b172-120">Whenever possible, select a more restrictive profile.</span></span>
   
    ![Perfil Público](./media/virtual-machines-sql-server-connection-steps/16Public-Private-Domain-Profile.png)
9. <span data-ttu-id="0b172-122">Em Olá **nome** caixa de diálogo, digite um nome e uma descrição para a regra e, em seguida, clique em **concluir**.</span><span class="sxs-lookup"><span data-stu-id="0b172-122">In hello **Name** dialog box, type a name and description for this rule, and then click **Finish**.</span></span>
   
    ![Nome da Regra](./media/virtual-machines-sql-server-connection-steps/17Rule-Name.png)

<span data-ttu-id="0b172-124">Abrir portas adicionais para outros componentes conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="0b172-124">Open additional ports for other components as needed.</span></span> <span data-ttu-id="0b172-125">Para obter mais informações, consulte [Configurando tooAllow de Firewall do Windows hello acesso ao SQL Server](http://msdn.microsoft.com/library/cc646023.aspx).</span><span class="sxs-lookup"><span data-stu-id="0b172-125">For more information, see [Configuring hello Windows Firewall tooAllow SQL Server Access](http://msdn.microsoft.com/library/cc646023.aspx).</span></span>

### <a name="configure-sql-server-toolisten-on-hello-tcp-protocol"></a><span data-ttu-id="0b172-126">Configurar toolisten do SQL Server em Olá protocolo TCP</span><span class="sxs-lookup"><span data-stu-id="0b172-126">Configure SQL Server toolisten on hello TCP protocol</span></span>

[!INCLUDE [Enable TCP](virtual-machines-sql-server-connection-tcp-protocol.md)]

### <a name="configure-sql-server-for-mixed-mode-authentication"></a><span data-ttu-id="0b172-127">Configurar o SQL Server para autenticação de modo misto</span><span class="sxs-lookup"><span data-stu-id="0b172-127">Configure SQL Server for mixed mode authentication</span></span>
<span data-ttu-id="0b172-128">Olá mecanismo de banco de dados do SQL Server não pode usar a autenticação do Windows sem um ambiente de domínio.</span><span class="sxs-lookup"><span data-stu-id="0b172-128">hello SQL Server Database Engine cannot use Windows Authentication without domain environment.</span></span> <span data-ttu-id="0b172-129">tooconnect toohello o mecanismo de banco de dados de outro computador, configurar o SQL Server para a autenticação de modo misto.</span><span class="sxs-lookup"><span data-stu-id="0b172-129">tooconnect toohello Database Engine from another computer, configure SQL Server for mixed mode authentication.</span></span> <span data-ttu-id="0b172-130">A autenticação de modo misto permite a Autenticação do SQL Server e a Autenticação do Windows.</span><span class="sxs-lookup"><span data-stu-id="0b172-130">Mixed mode authentication allows both SQL Server Authentication and Windows Authentication.</span></span>

> [!NOTE]
> <span data-ttu-id="0b172-131">A configuração da autenticação de modo misto pode não ser necessária se você tiver configurado uma Rede Virtual do Azure com um ambiente de domínio configurado.</span><span class="sxs-lookup"><span data-stu-id="0b172-131">Configuring mixed mode authentication might not be necessary if you have configured an Azure Virtual Network with a configured domain environment.</span></span>
> 
> 

1. <span data-ttu-id="0b172-132">Enquanto a máquina virtual de toohello conectado, na página inicial do hello, digite **SQL Server Management Studio** e clique em ícone de saudação selecionado.</span><span class="sxs-lookup"><span data-stu-id="0b172-132">While connected toohello virtual machine, on hello Start page, type **SQL Server Management Studio** and click hello selected icon.</span></span>
   
    <span data-ttu-id="0b172-133">Olá primeira vez que você abra o Management Studio, é necessário criar o ambiente do hello usuários Management Studio.</span><span class="sxs-lookup"><span data-stu-id="0b172-133">hello first time you open Management Studio it must create hello users Management Studio environment.</span></span> <span data-ttu-id="0b172-134">Isso pode demorar alguns instantes.</span><span class="sxs-lookup"><span data-stu-id="0b172-134">This may take a few moments.</span></span>
2. <span data-ttu-id="0b172-135">Management Studio apresenta Olá **conectar tooServer** caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="0b172-135">Management Studio presents hello **Connect tooServer** dialog box.</span></span> <span data-ttu-id="0b172-136">Em Olá **nome do servidor** caixa, digite o nome de saudação do hello máquina virtual tooconnect toohello mecanismo de banco de dados com hello Pesquisador de objetos (em vez do nome da máquina virtual Olá você também pode usar **(local)** ou um único período como Olá **nome do servidor**).</span><span class="sxs-lookup"><span data-stu-id="0b172-136">In hello **Server name** box, type hello name of hello virtual machine tooconnect toohello Database Engine  with hello Object Explorer (Instead of hello virtual machine name you can also use **(local)** or a single period as hello **Server name**).</span></span> <span data-ttu-id="0b172-137">Selecione **autenticação do Windows**e deixe  ***your_VM_name*\your_local_administrator** em Olá **nome de usuário** caixa.</span><span class="sxs-lookup"><span data-stu-id="0b172-137">Select **Windows Authentication**, and leave ***your_VM_name*\your_local_administrator** in hello **User name** box.</span></span> <span data-ttu-id="0b172-138">Clique em **Conectar**.</span><span class="sxs-lookup"><span data-stu-id="0b172-138">Click **Connect**.</span></span>
   
    ![Conecte-se tooServer](./media/virtual-machines-sql-server-connection-steps/19Connect-to-Server.png)
3. <span data-ttu-id="0b172-140">No SQL Server Management Studio Pesquisador de objetos, clique Olá nome da instância de saudação do SQL Server (nome da máquina virtual Olá) e, em seguida, clique em **propriedades**.</span><span class="sxs-lookup"><span data-stu-id="0b172-140">In SQL Server Management Studio Object Explorer, right-click hello name of hello instance of SQL Server (hello virtual machine name), and then click **Properties**.</span></span>
   
    ![Propriedades do servidor](./media/virtual-machines-sql-server-connection-steps/20Server-Properties.png)
4. <span data-ttu-id="0b172-142">Em Olá **segurança** página em **autenticação de servidor**, selecione **modo de autenticação do Windows e SQL Server**e, em seguida, clique em **Okey** .</span><span class="sxs-lookup"><span data-stu-id="0b172-142">On hello **Security** page, under **Server authentication**, select **SQL Server and Windows Authentication mode**, and then click **OK**.</span></span>
   
    ![Selecionar modo de autenticação](./media/virtual-machines-sql-server-connection-steps/21Mixed-Mode.png)
5. <span data-ttu-id="0b172-144">Na caixa de diálogo do SQL Server Management Studio hello, clique em **Okey** tooacknowledge Olá requisito toorestart do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0b172-144">In hello SQL Server Management Studio dialog box, click **OK** tooacknowledge hello requirement toorestart SQL Server.</span></span>
6. <span data-ttu-id="0b172-145">No Object Explorer, clique com o botão direito do mouse no seu servidor, e em seguida, clique em **Reiniciar**.</span><span class="sxs-lookup"><span data-stu-id="0b172-145">In Object Explorer, right-click your server, and then click **Restart**.</span></span> <span data-ttu-id="0b172-146">(Se o SQL Server Agent estiver em execução, ele também deverá ser reinicializado.)</span><span class="sxs-lookup"><span data-stu-id="0b172-146">(If SQL Server Agent is running, it must also be restarted.)</span></span>
   
    ![Reiniciar](./media/virtual-machines-sql-server-connection-steps/22Restart2.png)
7. <span data-ttu-id="0b172-148">Na caixa de diálogo do SQL Server Management Studio hello, clique em **Sim** tooagree que você deseja toorestart do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0b172-148">In hello SQL Server Management Studio dialog box, click **Yes** tooagree that you want toorestart SQL Server.</span></span>

### <a name="create-sql-server-authentication-logins"></a><span data-ttu-id="0b172-149">Criar logons de autenticação do SQL Server</span><span class="sxs-lookup"><span data-stu-id="0b172-149">Create SQL Server authentication logins</span></span>
<span data-ttu-id="0b172-150">tooconnect toohello do mecanismo de banco de dados de outro computador, você deve criar pelo menos um logon de autenticação do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0b172-150">tooconnect toohello Database Engine from another computer, you must create at least one SQL Server authentication login.</span></span>

1. <span data-ttu-id="0b172-151">No SQL Server Management Studio Pesquisador de objetos, expanda a pasta de Olá Olá da instância do servidor no qual você deseja que o novo logon do toocreate hello.</span><span class="sxs-lookup"><span data-stu-id="0b172-151">In SQL Server Management Studio Object Explorer, expand hello folder of hello server instance in which you want toocreate hello new login.</span></span>
2. <span data-ttu-id="0b172-152">Saudação de atalho **segurança** pasta, ponto muito**novo**e selecione **logon...** .</span><span class="sxs-lookup"><span data-stu-id="0b172-152">Right-click hello **Security** folder, point too**New**, and select **Login...**.</span></span>
   
    ![Novo Logon](./media/virtual-machines-sql-server-connection-steps/23New-Login.png)
3. <span data-ttu-id="0b172-154">Em Olá **logon - novo** caixa de diálogo Olá **geral** página, insira o nome de saudação do novo usuário de saudação em Olá **nome de logon** caixa.</span><span class="sxs-lookup"><span data-stu-id="0b172-154">In hello **Login - New** dialog box, on hello **General** page, enter hello name of hello new user in hello **Login name** box.</span></span>
4. <span data-ttu-id="0b172-155">Selecione **Autenticação do SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="0b172-155">Select **SQL Server authentication**.</span></span>
5. <span data-ttu-id="0b172-156">Em Olá **senha** caixa, digite uma senha para Olá novo usuário.</span><span class="sxs-lookup"><span data-stu-id="0b172-156">In hello **Password** box, enter a password for hello new user.</span></span> <span data-ttu-id="0b172-157">Digite essa senha novamente em Olá **Confirmar senha** caixa.</span><span class="sxs-lookup"><span data-stu-id="0b172-157">Enter that password again into hello **Confirm Password** box.</span></span>
6. <span data-ttu-id="0b172-158">Selecione opções de imposição de senha Olá necessárias (**impor política de senha**, **impor expiração de senha**, e **usuário deve alterar a senha no próximo logon**).</span><span class="sxs-lookup"><span data-stu-id="0b172-158">Select hello password enforcement options required (**Enforce password policy**, **Enforce password expiration**, and **User must change password at next login**).</span></span> <span data-ttu-id="0b172-159">Se você estiver usando esse logon por conta própria, não é necessário toorequire uma alteração de senha no próximo logon. hello.</span><span class="sxs-lookup"><span data-stu-id="0b172-159">If you are using this login for yourself, you do not need toorequire a password change at hello next login.</span></span>
7. <span data-ttu-id="0b172-160">De saudação **banco de dados padrão** , selecione um banco de dados padrão para logon de saudação.</span><span class="sxs-lookup"><span data-stu-id="0b172-160">From hello **Default database** list, select a default database for hello login.</span></span> <span data-ttu-id="0b172-161">**mestre** é saudação padrão para essa opção.</span><span class="sxs-lookup"><span data-stu-id="0b172-161">**master** is hello default for this option.</span></span> <span data-ttu-id="0b172-162">Se você ainda não tiver criado um banco de dados de usuário, deixe essa definição muito**mestre**.</span><span class="sxs-lookup"><span data-stu-id="0b172-162">If you have not yet created a user database, leave this set too**master**.</span></span>
   
    ![Propriedades de Logon](./media/virtual-machines-sql-server-connection-steps/24Test-Login.png)
8. <span data-ttu-id="0b172-164">Se esse for o primeiro logon de saudação que você está criando, convém toodesignate esse logon como um administrador do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0b172-164">If this is hello first login you are creating, you may want toodesignate this login as a SQL Server administrator.</span></span> <span data-ttu-id="0b172-165">Nesse caso, no hello **funções de servidor** página de seleção **sysadmin**.</span><span class="sxs-lookup"><span data-stu-id="0b172-165">If so, on hello **Server Roles** page, check **sysadmin**.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="0b172-166">Os membros da função de servidor fixa de sysadmin de Olá tem total controle sobre Olá mecanismo de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="0b172-166">Members of hello sysadmin fixed server role have complete control of hello Database Engine.</span></span> <span data-ttu-id="0b172-167">Você deve restringir cuidadosamente a associação nessa função.</span><span class="sxs-lookup"><span data-stu-id="0b172-167">You should carefully restrict membership in this role.</span></span>
   > 
   > 
   
   ![sysadmin](./media/virtual-machines-sql-server-connection-steps/25sysadmin.png)
9. <span data-ttu-id="0b172-169">Clique em OK.</span><span class="sxs-lookup"><span data-stu-id="0b172-169">Click OK.</span></span>

<span data-ttu-id="0b172-170">Para obter mais informações sobre logons do SQL Server, consulte [Criar um logon (a página pode estar em inglês)](http://msdn.microsoft.com/library/aa337562.aspx).</span><span class="sxs-lookup"><span data-stu-id="0b172-170">For more information about SQL Server logins, see [Create a Login](http://msdn.microsoft.com/library/aa337562.aspx).</span></span>

