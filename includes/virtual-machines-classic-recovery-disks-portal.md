<span data-ttu-id="b070d-101">Se sua máquina virtual (VM) no Azure encontra um erro de inicialização ou do disco, talvez seja necessário tooperform etapas no disco rígido virtual Olá própria solução de problemas.</span><span class="sxs-lookup"><span data-stu-id="b070d-101">If your virtual machine (VM) in Azure encounters a boot or disk error, you may need tooperform troubleshooting steps on hello virtual hard disk itself.</span></span> <span data-ttu-id="b070d-102">Um exemplo comum seria uma atualização de aplicativo com falha que impede a inicialização com êxito do hello VM.</span><span class="sxs-lookup"><span data-stu-id="b070d-102">A common example would be a failed application update that prevents hello VM from booting successfully.</span></span> <span data-ttu-id="b070d-103">Este artigo descreve como toouse tooconnect portal do Azure seu toofix VM do disco rígido virtual tooanother quaisquer erros e, em seguida, crie novamente sua VM original.</span><span class="sxs-lookup"><span data-stu-id="b070d-103">This article describes how toouse Azure portal tooconnect your virtual hard disk tooanother VM toofix any errors and then re-create your original VM.</span></span>

## <a name="recovery-process-overview"></a><span data-ttu-id="b070d-104">Visão geral do processo de recuperação</span><span class="sxs-lookup"><span data-stu-id="b070d-104">Recovery process overview</span></span>
<span data-ttu-id="b070d-105">Olá Solucionando problemas do processo é o seguinte:</span><span class="sxs-lookup"><span data-stu-id="b070d-105">hello troubleshooting process is as follows:</span></span>

1. <span data-ttu-id="b070d-106">Excluir Olá VM que está encontrando problemas, mas manter os discos rígidos virtuais hello.</span><span class="sxs-lookup"><span data-stu-id="b070d-106">Delete hello VM that's encountering issues, but retain hello virtual hard disks.</span></span>
2. <span data-ttu-id="b070d-107">Anexar e monte tooanother de disco rígido virtual Olá VM para solução de problemas.</span><span class="sxs-lookup"><span data-stu-id="b070d-107">Attach and mount hello virtual hard disk tooanother VM for troubleshooting.</span></span>
3. <span data-ttu-id="b070d-108">Conecte-se toohello VM de solução de problemas.</span><span class="sxs-lookup"><span data-stu-id="b070d-108">Connect toohello troubleshooting VM.</span></span> <span data-ttu-id="b070d-109">Editar arquivos ou execute ferramentas toofix erros em Olá original do disco rígido virtual.</span><span class="sxs-lookup"><span data-stu-id="b070d-109">Edit files or run tools toofix errors on hello original virtual hard disk.</span></span>
4. <span data-ttu-id="b070d-110">Desmonte e desanexar o disco rígido virtual de saudação do hello VM de solução de problemas.</span><span class="sxs-lookup"><span data-stu-id="b070d-110">Unmount and detach hello virtual hard disk from hello troubleshooting VM.</span></span>
5. <span data-ttu-id="b070d-111">Crie uma VM usando Olá original do disco rígido virtual.</span><span class="sxs-lookup"><span data-stu-id="b070d-111">Create a VM by using hello original virtual hard disk.</span></span>

## <a name="delete-hello-original-vm"></a><span data-ttu-id="b070d-112">Excluir Olá VM original</span><span class="sxs-lookup"><span data-stu-id="b070d-112">Delete hello original VM</span></span>
<span data-ttu-id="b070d-113">Discos rígidos virtuais e VMs são dois recursos distintos no Azure.</span><span class="sxs-lookup"><span data-stu-id="b070d-113">Virtual hard disks and VMs are two distinct resources in Azure.</span></span> <span data-ttu-id="b070d-114">Um disco rígido virtual é onde o sistema de operacional hello, aplicativos e configurações são armazenadas.</span><span class="sxs-lookup"><span data-stu-id="b070d-114">A virtual hard disk is where hello operating system, applications, and configurations are stored.</span></span> <span data-ttu-id="b070d-115">Olá VM é os metadados que define Olá tamanho ou local e faz referência a recursos, como um disco rígido virtual ou placa de interface de rede virtual (NIC).</span><span class="sxs-lookup"><span data-stu-id="b070d-115">hello VM is just metadata that defines hello size or location and that references resources such as a virtual hard disk or virtual network interface card (NIC).</span></span> <span data-ttu-id="b070d-116">Cada disco rígido virtual obtém uma concessão atribuída quando o disco está anexado tooa VM.</span><span class="sxs-lookup"><span data-stu-id="b070d-116">Each virtual hard disk gets a lease assigned when that disk is attached tooa VM.</span></span> <span data-ttu-id="b070d-117">Embora os discos de dados podem ser anexados e desanexados mesmo enquanto Olá VM está em execução, disco de SO Olá não pode ser desanexado, a menos que Olá recursos de máquina virtual é excluída.</span><span class="sxs-lookup"><span data-stu-id="b070d-117">Although data disks can be attached and detached even while hello VM is running, hello OS disk cannot be detached unless hello VM resource is deleted.</span></span> <span data-ttu-id="b070d-118">concessão de saudação continua tooassociate Olá OS disco tooa VM mesmo quando a VM está em um estado parado e desalocado.</span><span class="sxs-lookup"><span data-stu-id="b070d-118">hello lease continues tooassociate hello OS disk tooa VM even when that VM is in a stopped and deallocated state.</span></span>

<span data-ttu-id="b070d-119">Olá primeiro toorecovering de etapa sua VM é toodelete Olá VM próprio recurso.</span><span class="sxs-lookup"><span data-stu-id="b070d-119">hello first step toorecovering your VM is toodelete hello VM resource itself.</span></span> <span data-ttu-id="b070d-120">Excluindo Olá VM deixa Olá os discos rígidos virtuais em sua conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="b070d-120">Deleting hello VM leaves hello virtual hard disks in your storage account.</span></span> <span data-ttu-id="b070d-121">Após Olá que VM é excluída, você pode anexar Olá disco rígido virtual tooanother VM tootroubleshoot e resolver erros de saudação.</span><span class="sxs-lookup"><span data-stu-id="b070d-121">After hello VM is deleted, you can attach hello virtual hard disk tooanother VM tootroubleshoot and resolve hello errors.</span></span> 

1. <span data-ttu-id="b070d-122">Entrar toohello [portal do Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="b070d-122">Sign in toohello [Azure portal](https://portal.azure.com).</span></span> 
2. <span data-ttu-id="b070d-123">No menu de saudação no lado esquerdo da saudação, clique em **máquinas virtuais (clássicas)**.</span><span class="sxs-lookup"><span data-stu-id="b070d-123">On hello menu on hello left side, click **Virtual Machines (classic)**.</span></span>
3. <span data-ttu-id="b070d-124">Selecione Olá VM com problema hello, clique **discos**e, em seguida, identificar o nome da saudação de saudação do disco rígido virtual.</span><span class="sxs-lookup"><span data-stu-id="b070d-124">Select hello VM that has hello problem, click **Disks**, and then identify hello name of hello virtual hard disk.</span></span> 
4. <span data-ttu-id="b070d-125">Selecione Olá sistema operacional do disco rígido virtual e verificar Olá **local** tooidentify conta de armazenamento de saudação que contém o disco rígido virtual.</span><span class="sxs-lookup"><span data-stu-id="b070d-125">Select hello OS virtual hard disk and check hello **Location** tooidentify hello storage account that contains that virtual hard disk.</span></span> <span data-ttu-id="b070d-126">Em Olá exemplo a seguir, Olá cadeia de caracteres imediatamente antes ". n e t" é o nome de conta de armazenamento hello.</span><span class="sxs-lookup"><span data-stu-id="b070d-126">In hello following example, hello string immediately before ".blob.core.windows.net" is hello storage account name.</span></span>

    ```
    https://portalvhds73fmhrw5xkp43.blob.core.windows.net/vhds/SCCM2012-2015-08-28.vhd
    ```

    ![imagem de saudação sobre o local da VM](./media/virtual-machines-classic-recovery-disks-portal/vm-location.png)

5. <span data-ttu-id="b070d-128">Olá VM e, em seguida, selecione **excluir**.</span><span class="sxs-lookup"><span data-stu-id="b070d-128">Right-click hello VM and then select **Delete**.</span></span> <span data-ttu-id="b070d-129">Certifique-se de que discos Olá não são selecionados quando você excluir Olá VM.</span><span class="sxs-lookup"><span data-stu-id="b070d-129">Make sure that hello disks are not selected when you delete hello VM.</span></span>
6. <span data-ttu-id="b070d-130">Crie uma nova VM de recuperação.</span><span class="sxs-lookup"><span data-stu-id="b070d-130">Create a new recovery VM.</span></span> <span data-ttu-id="b070d-131">Essa VM deve estar no hello mesmo região e grupo de recursos (serviço de nuvem) como o problema de saudação VM.</span><span class="sxs-lookup"><span data-stu-id="b070d-131">This VM must be in hello same region and resource group (Cloud Service) as hello problem VM.</span></span>
7. <span data-ttu-id="b070d-132">Selecione a VM de recuperação hello e, em seguida, selecione **discos** > **anexar existente**.</span><span class="sxs-lookup"><span data-stu-id="b070d-132">Select hello recovery VM, and then select **Disks** > **Attach Existing**.</span></span>
8. <span data-ttu-id="b070d-133">tooselect o disco rígido virtual existente, clique em **arquivo VHD**:</span><span class="sxs-lookup"><span data-stu-id="b070d-133">tooselect your existing virtual hard disk, click **VHD File**:</span></span>

    ![Procurar VHD existente](./media/virtual-machines-classic-recovery-disks-portal/select-vhd-location.png)

9. <span data-ttu-id="b070d-135">Selecione a conta de armazenamento hello > contêiner VHD > Olá disco rígido virtual, clique em Olá **selecione** botão tooconfirm sua escolha.</span><span class="sxs-lookup"><span data-stu-id="b070d-135">Select hello storage account > VHD container > hello virtual hard disk, click hello **Select** button tooconfirm your choice.</span></span>

    ![Selecionar o VHD existente](./media/virtual-machines-classic-recovery-disks-portal/select-vhd.png)

10. <span data-ttu-id="b070d-137">Com o VHD selecionado agora, selecione **Okey** tooattach Olá disco rígido virtual existente.</span><span class="sxs-lookup"><span data-stu-id="b070d-137">With your VHD now selected, select **OK** tooattach hello existing virtual hard disk.</span></span>
11. <span data-ttu-id="b070d-138">Depois de alguns segundos, Olá **discos** painel para sua VM exibirá o disco rígido virtual existente conectado como um disco de dados:</span><span class="sxs-lookup"><span data-stu-id="b070d-138">After a few seconds, hello **Disks** pane for your VM will display your existing virtual hard disk connected as a data disk:</span></span>

    ![Disco rígido virtual existente anexado como um disco de dados](./media/virtual-machines-classic-recovery-disks-portal/attached-disk.png)

## <a name="fix-issues-on-hello-original-virtual-hard-disk"></a><span data-ttu-id="b070d-140">Corrigir problemas em Olá original do disco rígido virtual</span><span class="sxs-lookup"><span data-stu-id="b070d-140">Fix issues on hello original virtual hard disk</span></span>
<span data-ttu-id="b070d-141">Quando a saudação existente do disco rígido virtual estiver montado, agora você pode executar qualquer manutenção e etapas de solução de problemas conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="b070d-141">When hello existing virtual hard disk is mounted, you can now perform any maintenance and troubleshooting steps as needed.</span></span> <span data-ttu-id="b070d-142">Depois que você resolveu problemas hello, continue com hello etapas a seguir.</span><span class="sxs-lookup"><span data-stu-id="b070d-142">Once you have addressed hello issues, continue with hello following steps.</span></span>

## <a name="unmount-and-detach-hello-original-virtual-hard-disk"></a><span data-ttu-id="b070d-143">Desmonte e desanexar Olá original do disco rígido virtual</span><span class="sxs-lookup"><span data-stu-id="b070d-143">Unmount and detach hello original virtual hard disk</span></span>
<span data-ttu-id="b070d-144">Depois que os erros são resolvidos, desmonte e desanexar Olá disco rígido virtual existente de sua solução de problemas de VM.</span><span class="sxs-lookup"><span data-stu-id="b070d-144">Once any errors are resolved, unmount and detach hello existing virtual hard disk from your troubleshooting VM.</span></span> <span data-ttu-id="b070d-145">Você não pode usar o disco rígido virtual, junto com qualquer outra VM até que a concessão de saudação que anexa toohello do disco rígido virtual Olá VM de solução de problemas é liberado.</span><span class="sxs-lookup"><span data-stu-id="b070d-145">You cannot use your virtual hard disk together with any other VM until hello lease that attaches hello virtual hard disk toohello troubleshooting VM is released.</span></span>  

1. <span data-ttu-id="b070d-146">Entrar toohello [portal do Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="b070d-146">Sign in toohello [Azure portal](https://portal.azure.com).</span></span> 
2. <span data-ttu-id="b070d-147">No menu de saudação no lado esquerdo do hello, selecione **máquinas virtuais (clássicas)**.</span><span class="sxs-lookup"><span data-stu-id="b070d-147">On hello menu on hello left side, select **Virtual Machines (classic)**.</span></span>
3. <span data-ttu-id="b070d-148">Localize a VM de recuperação hello.</span><span class="sxs-lookup"><span data-stu-id="b070d-148">Locate hello recovery VM.</span></span> <span data-ttu-id="b070d-149">Selecione os discos, disco de saudação com o botão direito e, em seguida, selecione **desanexar**.</span><span class="sxs-lookup"><span data-stu-id="b070d-149">Select Disks, right-click hello disk, and then select **Detach**.</span></span>

## <a name="create-a-vm-from-hello-original-hard-disk"></a><span data-ttu-id="b070d-150">Criar uma máquina virtual do disco rígido original de saudação</span><span class="sxs-lookup"><span data-stu-id="b070d-150">Create a VM from hello original hard disk</span></span>

<span data-ttu-id="b070d-151">toocreate uma VM do seu disco rígido virtual original, use [portal clássico do Azure](https://manage.windowsazure.com).</span><span class="sxs-lookup"><span data-stu-id="b070d-151">toocreate a VM from your original virtual hard disk, use [Azure classic portal](https://manage.windowsazure.com).</span></span>

1. <span data-ttu-id="b070d-152">Entre no [portal clássico do Azure](https://manage.windowsazure.com).</span><span class="sxs-lookup"><span data-stu-id="b070d-152">Sign into [Azure classic portal](https://manage.windowsazure.com).</span></span>
2. <span data-ttu-id="b070d-153">Na parte inferior de saudação do portal hello, selecione **novo** > **de computação** > **Máquina Virtual** > **da Galeria** .</span><span class="sxs-lookup"><span data-stu-id="b070d-153">At hello bottom of hello portal, select **New** > **Compute** > **Virtual Machine** > **From Gallery**.</span></span>
3. <span data-ttu-id="b070d-154">Em Olá **escolha uma imagem** seção, selecione **meus discos**, e, em seguida, selecione Olá disco rígido virtual original.</span><span class="sxs-lookup"><span data-stu-id="b070d-154">In hello **Choose an Image** section, select **My disks**, and then select hello original virtual hard disk.</span></span> <span data-ttu-id="b070d-155">Verifique as informações de local de saudação.</span><span class="sxs-lookup"><span data-stu-id="b070d-155">Check hello location information.</span></span> <span data-ttu-id="b070d-156">Isso é região Olá onde Olá VM deve ser implantado.</span><span class="sxs-lookup"><span data-stu-id="b070d-156">This is hello region where hello VM must be deployed.</span></span> <span data-ttu-id="b070d-157">Selecione o botão Avançar hello.</span><span class="sxs-lookup"><span data-stu-id="b070d-157">Select hello next button.</span></span>
4. <span data-ttu-id="b070d-158">Em Olá **configuração de máquina Virtual** seção, digite o nome da VM hello e selecione um tamanho para Olá VM.</span><span class="sxs-lookup"><span data-stu-id="b070d-158">In hello **Virtual machine configuration** section, type hello VM name and select a size for hello VM.</span></span>
