## <a name="load-balancer-differences"></a><span data-ttu-id="fef37-101">Diferenças do balanceador de carga</span><span class="sxs-lookup"><span data-stu-id="fef37-101">Load Balancer differences</span></span>

<span data-ttu-id="fef37-102">Há diferentes opções para distribuir o tráfego de rede usando o Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="fef37-102">There are different options to distribute network traffic using Microsoft Azure.</span></span> <span data-ttu-id="fef37-103">Essas opções funcionam de forma diferente uma da outra, com conjuntos diferentes de recursos e permitindo cenários diferentes.</span><span class="sxs-lookup"><span data-stu-id="fef37-103">These options work differently from each other, having a different feature set and support different scenarios.</span></span> <span data-ttu-id="fef37-104">Cada uma pode ser usada isoladamente ou em combinação.</span><span class="sxs-lookup"><span data-stu-id="fef37-104">They can each be used in isolation, or combining them.</span></span>

* <span data-ttu-id="fef37-105">**Azure Load Balancer** funciona na camada de transporte (Camada 4 na pilha de referência de rede OSI).</span><span class="sxs-lookup"><span data-stu-id="fef37-105">**Azure Load Balancer** works at the transport layer (Layer 4 in the OSI network reference stack).</span></span> <span data-ttu-id="fef37-106">Ele fornece a distribuição do tráfego no nível de rede entre instâncias de um aplicativo em execução no mesmo data center do Azure.</span><span class="sxs-lookup"><span data-stu-id="fef37-106">It provides network-level distribution of traffic across instances of an application running in the same Azure data center.</span></span>
* <span data-ttu-id="fef37-107">**Gateway de Aplicativo** funciona na camada de aplicativo (Camada 7 na pilha de referência de rede OSI).</span><span class="sxs-lookup"><span data-stu-id="fef37-107">**Application Gateway** works at the application layer (Layer 7 in the OSI network reference stack).</span></span> <span data-ttu-id="fef37-108">Ele atua como um serviço de proxy inverso, encerrando a conexão do cliente e encaminhando solicitações aos pontos de extremidade de back-end.</span><span class="sxs-lookup"><span data-stu-id="fef37-108">It acts as a reverse-proxy service, terminating the client connection and forwarding requests to back-end endpoints.</span></span>
* <span data-ttu-id="fef37-109">**Gerenciador de Tráfego** funciona no nível de DNS.</span><span class="sxs-lookup"><span data-stu-id="fef37-109">**Traffic Manager** works at the DNS level.</span></span>  <span data-ttu-id="fef37-110">Ele usa respostas de DNS para direcionar o tráfego do usuário final para pontos de extremidade globalmente distribuídos.</span><span class="sxs-lookup"><span data-stu-id="fef37-110">It uses DNS responses to direct end-user traffic to globally distributed endpoints.</span></span> <span data-ttu-id="fef37-111">Assim, os clientes se conectam a esses pontos de extremidade diretamente.</span><span class="sxs-lookup"><span data-stu-id="fef37-111">Clients then connect to those endpoints directly.</span></span>

<span data-ttu-id="fef37-112">A tabela a seguir resume os recursos oferecidos por cada serviço:</span><span class="sxs-lookup"><span data-stu-id="fef37-112">The following table summarizes the features offered by each service:</span></span>

| <span data-ttu-id="fef37-113">O Barramento de</span><span class="sxs-lookup"><span data-stu-id="fef37-113">Service</span></span> | <span data-ttu-id="fef37-114">Azure Load Balancer</span><span class="sxs-lookup"><span data-stu-id="fef37-114">Azure Load Balancer</span></span> | <span data-ttu-id="fef37-115">Gateway de Aplicativo</span><span class="sxs-lookup"><span data-stu-id="fef37-115">Application Gateway</span></span> | <span data-ttu-id="fef37-116">Gerenciador de Tráfego</span><span class="sxs-lookup"><span data-stu-id="fef37-116">Traffic Manager</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="fef37-117">Tecnologia</span><span class="sxs-lookup"><span data-stu-id="fef37-117">Technology</span></span> |<span data-ttu-id="fef37-118">Nível de transporte (Camada 4)</span><span class="sxs-lookup"><span data-stu-id="fef37-118">Transport level (Layer 4)</span></span> |<span data-ttu-id="fef37-119">Nível de aplicativo (Camada 7)</span><span class="sxs-lookup"><span data-stu-id="fef37-119">Application level (Layer 7)</span></span> |<span data-ttu-id="fef37-120">Nível de DNS</span><span class="sxs-lookup"><span data-stu-id="fef37-120">DNS level</span></span> |
| <span data-ttu-id="fef37-121">Protocolos de aplicativo com suporte</span><span class="sxs-lookup"><span data-stu-id="fef37-121">Application protocols supported</span></span> |<span data-ttu-id="fef37-122">Qualquer</span><span class="sxs-lookup"><span data-stu-id="fef37-122">Any</span></span> |<span data-ttu-id="fef37-123">HTTP, HTTPS e WebSockets</span><span class="sxs-lookup"><span data-stu-id="fef37-123">HTTP, HTTPS, and WebSockets</span></span> |<span data-ttu-id="fef37-124">Qualquer um (um ponto de extremidade HTTP é exigido para monitoramento do ponto de extremidade)</span><span class="sxs-lookup"><span data-stu-id="fef37-124">Any (An HTTP endpoint is required for endpoint monitoring)</span></span> |
| <span data-ttu-id="fef37-125">Pontos de extremidade</span><span class="sxs-lookup"><span data-stu-id="fef37-125">Endpoints</span></span> |<span data-ttu-id="fef37-126">VMs do Azure e instâncias de função dos Serviços de Nuvem</span><span class="sxs-lookup"><span data-stu-id="fef37-126">Azure VMs and Cloud Services role instances</span></span> |<span data-ttu-id="fef37-127">Qualquer endereço IP interno do Azure, endereço IP de internet pública, VM do Azure ou Serviço de Nuvem do Azure</span><span class="sxs-lookup"><span data-stu-id="fef37-127">Any Azure internal IP address, public internet IP address, Azure VM, or Azure Cloud Service</span></span> |<span data-ttu-id="fef37-128">VMs do Azure, Serviços de Nuvem, Aplicativos Web do Azure e pontos de extremidade externos</span><span class="sxs-lookup"><span data-stu-id="fef37-128">Azure VMs, Cloud Services, Azure Web Apps, and external endpoints</span></span> |
| <span data-ttu-id="fef37-129">Suporte à rede virtual</span><span class="sxs-lookup"><span data-stu-id="fef37-129">Vnet support</span></span> |<span data-ttu-id="fef37-130">Pode ser usado para aplicativos voltados para a Internet e internos (rede virtual)</span><span class="sxs-lookup"><span data-stu-id="fef37-130">Can be used for both Internet facing and internal (Vnet) applications</span></span> |<span data-ttu-id="fef37-131">Pode ser usado para aplicativos voltados para a Internet e internos (rede virtual)</span><span class="sxs-lookup"><span data-stu-id="fef37-131">Can be used for both Internet facing and internal (Vnet) applications</span></span> |<span data-ttu-id="fef37-132">Suporte apenas para aplicativos voltados para a Internet</span><span class="sxs-lookup"><span data-stu-id="fef37-132">Only supports Internet-facing applications</span></span> |
| <span data-ttu-id="fef37-133">Monitoramento do ponto de extremidade</span><span class="sxs-lookup"><span data-stu-id="fef37-133">Endpoint Monitoring</span></span> |<span data-ttu-id="fef37-134">Tem suporte por meio de investigações</span><span class="sxs-lookup"><span data-stu-id="fef37-134">Supported via probes</span></span> |<span data-ttu-id="fef37-135">Tem suporte por meio de investigações</span><span class="sxs-lookup"><span data-stu-id="fef37-135">Supported via probes</span></span> |<span data-ttu-id="fef37-136">Tem suporte por meio de HTTP/HTTPS GET</span><span class="sxs-lookup"><span data-stu-id="fef37-136">Supported via HTTP/HTTPS GET</span></span> |

<span data-ttu-id="fef37-137">O Azure Load Balancer e o Gateway de Aplicativo direcionam o tráfego de rede para pontos de extremidade, mas eles têm diferentes cenários de uso para tratamento do tráfego.</span><span class="sxs-lookup"><span data-stu-id="fef37-137">Azure Load Balancer and Application Gateway route network traffic to endpoints but they have different usage scenarios to which traffic to handle.</span></span> <span data-ttu-id="fef37-138">A tabela a seguir ajuda a entender a diferença entre os dois balanceadores de carga:</span><span class="sxs-lookup"><span data-stu-id="fef37-138">The following table helps understanding the difference between the two load balancers:</span></span>

| <span data-ttu-id="fef37-139">Tipo</span><span class="sxs-lookup"><span data-stu-id="fef37-139">Type</span></span> | <span data-ttu-id="fef37-140">Azure Load Balancer</span><span class="sxs-lookup"><span data-stu-id="fef37-140">Azure Load Balancer</span></span> | <span data-ttu-id="fef37-141">Gateway de Aplicativo</span><span class="sxs-lookup"><span data-stu-id="fef37-141">Application Gateway</span></span> |
| --- | --- | --- |
| <span data-ttu-id="fef37-142">Protocolos</span><span class="sxs-lookup"><span data-stu-id="fef37-142">Protocols</span></span> |<span data-ttu-id="fef37-143">UDP/TCP</span><span class="sxs-lookup"><span data-stu-id="fef37-143">UDP/TCP</span></span> |<span data-ttu-id="fef37-144">HTTP, HTTPS e WebSockets</span><span class="sxs-lookup"><span data-stu-id="fef37-144">HTTP, HTTPS, and WebSockets</span></span> |
| <span data-ttu-id="fef37-145">Reserva de IP</span><span class="sxs-lookup"><span data-stu-id="fef37-145">IP reservation</span></span> |<span data-ttu-id="fef37-146">Suportado</span><span class="sxs-lookup"><span data-stu-id="fef37-146">Supported</span></span> |<span data-ttu-id="fef37-147">Sem suporte</span><span class="sxs-lookup"><span data-stu-id="fef37-147">Not supported</span></span> |
| <span data-ttu-id="fef37-148">Modo de balanceamento de carga</span><span class="sxs-lookup"><span data-stu-id="fef37-148">Load balancing mode</span></span> |<span data-ttu-id="fef37-149">5 tuplas (IP de origem, porta de origem, IP de destino, porta de destino, tipo de protocolo)</span><span class="sxs-lookup"><span data-stu-id="fef37-149">5-tuple(source IP, source port, destination IP, destination port, protocol type)</span></span> |<span data-ttu-id="fef37-150">Round Robin</span><span class="sxs-lookup"><span data-stu-id="fef37-150">Round Robin</span></span><br><span data-ttu-id="fef37-151">Roteamento com base na URL</span><span class="sxs-lookup"><span data-stu-id="fef37-151">Routing based on URL</span></span> |
| <span data-ttu-id="fef37-152">Modo de balanceamento de carga (IP de origem/sessões complexas)</span><span class="sxs-lookup"><span data-stu-id="fef37-152">Load balancing mode (source IP /sticky sessions)</span></span> |<span data-ttu-id="fef37-153">Duas tuplas (IP de origem e IP de destino), 3 tuplas (IP de origem, IP de destino e porta).</span><span class="sxs-lookup"><span data-stu-id="fef37-153">2-tuple (source IP and destination IP), 3-tuple (source IP, destination IP, and port).</span></span> <span data-ttu-id="fef37-154">Pode ser escalonado vertical ou horizontalmente com base no número de máquinas virtuais</span><span class="sxs-lookup"><span data-stu-id="fef37-154">Can scale up or down based on the number of virtual machines</span></span> |<span data-ttu-id="fef37-155">Afinidade baseada em cookie</span><span class="sxs-lookup"><span data-stu-id="fef37-155">Cookie-based affinity</span></span><br><span data-ttu-id="fef37-156">Roteamento com base na URL</span><span class="sxs-lookup"><span data-stu-id="fef37-156">Routing based on URL</span></span> |
| <span data-ttu-id="fef37-157">Investigações de integridade</span><span class="sxs-lookup"><span data-stu-id="fef37-157">Health probes</span></span> |<span data-ttu-id="fef37-158">Padrão: intervalo de investigação - 15 segundos.</span><span class="sxs-lookup"><span data-stu-id="fef37-158">Default: probe interval - 15 secs.</span></span> <span data-ttu-id="fef37-159">Retirada da rotação: 2 falhas contínuas.</span><span class="sxs-lookup"><span data-stu-id="fef37-159">Taken out of rotation: 2 Continuous failures.</span></span> <span data-ttu-id="fef37-160">Oferece suporte a investigações definidas pelo usuário</span><span class="sxs-lookup"><span data-stu-id="fef37-160">Supports user-defined probes</span></span> |<span data-ttu-id="fef37-161">Intervalo de investigação ociosa de 30 segundos.</span><span class="sxs-lookup"><span data-stu-id="fef37-161">Idle probe interval 30 secs.</span></span> <span data-ttu-id="fef37-162">Retirado após 5 falhas consecutivas do tráfego ativo ou uma única falha de investigação no modo ocioso.</span><span class="sxs-lookup"><span data-stu-id="fef37-162">Taken out after 5 consecutive live traffic failures or a single probe failure in idle mode.</span></span> <span data-ttu-id="fef37-163">Oferece suporte a investigações definidas pelo usuário</span><span class="sxs-lookup"><span data-stu-id="fef37-163">Supports user-defined probes</span></span> |
| <span data-ttu-id="fef37-164">Descarregamento de SSL</span><span class="sxs-lookup"><span data-stu-id="fef37-164">SSL offloading</span></span> |<span data-ttu-id="fef37-165">Sem suporte</span><span class="sxs-lookup"><span data-stu-id="fef37-165">Not supported</span></span> |<span data-ttu-id="fef37-166">Suportado</span><span class="sxs-lookup"><span data-stu-id="fef37-166">Supported</span></span> |
| <span data-ttu-id="fef37-167">Roteamento baseado em URL</span><span class="sxs-lookup"><span data-stu-id="fef37-167">Url-based routing</span></span> | <span data-ttu-id="fef37-168">Sem suporte</span><span class="sxs-lookup"><span data-stu-id="fef37-168">Not supported</span></span> | <span data-ttu-id="fef37-169">Suportado</span><span class="sxs-lookup"><span data-stu-id="fef37-169">Supported</span></span>|
| <span data-ttu-id="fef37-170">Política SSL</span><span class="sxs-lookup"><span data-stu-id="fef37-170">SSL Policy</span></span> | <span data-ttu-id="fef37-171">Sem suporte</span><span class="sxs-lookup"><span data-stu-id="fef37-171">Not supported</span></span> | <span data-ttu-id="fef37-172">Suportado</span><span class="sxs-lookup"><span data-stu-id="fef37-172">Supported</span></span>|
