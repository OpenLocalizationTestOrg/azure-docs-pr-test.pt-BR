<span data-ttu-id="a4fda-101">Azure executa periodicamente atualizações tooimprove Olá confiabilidade, desempenho e segurança da infraestrutura de host Olá para máquinas virtuais.</span><span class="sxs-lookup"><span data-stu-id="a4fda-101">Azure periodically performs updates tooimprove hello reliability, performance, and security of hello host infrastructure for virtual machines.</span></span> <span data-ttu-id="a4fda-102">Essas atualizações variam de componentes de software em Olá hospedagem ambiente (como o sistema operacional, hipervisor e vários agentes implantados no host de saudação), a aplicação de patch atualizar componentes de rede, toohardware encerramento.</span><span class="sxs-lookup"><span data-stu-id="a4fda-102">These updates range from patching software components in hello hosting environment (like operating system, hypervisor, and various agents deployed on hello host), upgrading networking components, toohardware decommissioning.</span></span> <span data-ttu-id="a4fda-103">maioria de saudação essas atualizações são executadas sem todas as máquinas virtuais impacto toohello hospedado.</span><span class="sxs-lookup"><span data-stu-id="a4fda-103">hello majority of these updates are performed without any impact toohello hosted virtual machines.</span></span> <span data-ttu-id="a4fda-104">No entanto, há casos em que as atualizações possuem um impacto:</span><span class="sxs-lookup"><span data-stu-id="a4fda-104">However, there are cases where updates do have an impact:</span></span>

- <span data-ttu-id="a4fda-105">Se a manutenção de saudação não exigir uma reinicialização, o Azure usa Olá toopause de migração in-loco VM enquanto Olá host é atualizado.</span><span class="sxs-lookup"><span data-stu-id="a4fda-105">If hello maintenance does not require a reboot, Azure uses in-place migration toopause hello VM while hello host is updated.</span></span>

- <span data-ttu-id="a4fda-106">Se manutenção requer uma reinicialização, você receberá um aviso de quando Olá manutenção está planejada.</span><span class="sxs-lookup"><span data-stu-id="a4fda-106">If maintenance requires a reboot, you get a notice of when hello maintenance is planned.</span></span> <span data-ttu-id="a4fda-107">Nesses casos, você também terá uma janela de tempo, onde você pode iniciar manutenção Olá por conta própria, cada vez que funciona para você.</span><span class="sxs-lookup"><span data-stu-id="a4fda-107">In these cases, you'll also be given a time window where you can start hello maintenance yourself, at a time that works for you.</span></span>

<span data-ttu-id="a4fda-108">Esta página descreve como o Microsoft Azure executa os dois tipos de manutenção.</span><span class="sxs-lookup"><span data-stu-id="a4fda-108">This page describes how Microsoft Azure performs both types of maintenance.</span></span> <span data-ttu-id="a4fda-109">Para obter mais informações sobre eventos não planejados (interrupções), consulte gerenciar disponibilidade de saudação de máquinas virtuais para [Windows] (... / articles/virtual-machines/windows/manage-availability.md) ou [Linux](../articles/virtual-machines/linux/manage-availability.md).</span><span class="sxs-lookup"><span data-stu-id="a4fda-109">For more information about unplanned events (outages), see Manage hello availability of virtual machines for [Windows] (../articles/virtual-machines/windows/manage-availability.md) or [Linux](../articles/virtual-machines/linux/manage-availability.md).</span></span>

<span data-ttu-id="a4fda-110">Aplicativos em execução em uma máquina virtual podem reunir informações sobre as atualizações futuras usando hello Azure serviço de metadados para [Windows](../articles/virtual-machines/windows/instance-metadata-service.md) ou [Linux] (... / articles/virtual-machines/linux/instance-metadata-service.md).</span><span class="sxs-lookup"><span data-stu-id="a4fda-110">Applications running in a virtual machine can gather information about upcoming updates by using hello Azure Metadata Service for [Windows](../articles/virtual-machines/windows/instance-metadata-service.md) or [Linux] (../articles/virtual-machines/linux/instance-metadata-service.md).</span></span>

## <a name="in-place-vm-migration"></a><span data-ttu-id="a4fda-111">Migração de VM local</span><span class="sxs-lookup"><span data-stu-id="a4fda-111">In-place VM migration</span></span>

<span data-ttu-id="a4fda-112">Quando as atualizações não exigem uma reinicialização completa, uma migração ao vivo local é usada.</span><span class="sxs-lookup"><span data-stu-id="a4fda-112">When updates don't require a full reboot, an in-place live migration is used.</span></span> <span data-ttu-id="a4fda-113">Durante a atualização de saudação Olá VM está em pausa por aproximadamente 30 segundos, preservando memória RAM, Olá enquanto Olá ambiente de hospedagem aplica patches e atualizações necessárias hello.</span><span class="sxs-lookup"><span data-stu-id="a4fda-113">During hello update hello virtual machine is paused for about 30 seconds, preserving hello memory in RAM, while hello hosting environment applies hello necessary updates and patches.</span></span> <span data-ttu-id="a4fda-114">máquina virtual de saudação é retomada e relógio Olá da máquina virtual de saudação é sincronizado automaticamente.</span><span class="sxs-lookup"><span data-stu-id="a4fda-114">hello virtual machine is then resumed and hello clock of hello virtual machine is automatically synchronized.</span></span>

<span data-ttu-id="a4fda-115">Para VMs em conjuntos de disponibilidade, os domínios de atualização são atualizados um de cada vez.</span><span class="sxs-lookup"><span data-stu-id="a4fda-115">For VMs in availability sets, update domains are updated one at a time.</span></span> <span data-ttu-id="a4fda-116">Todas as VMs em um domínio de atualização (UD) está em pausa, atualizadas e retomadas antes da manutenção planejada prossegue toohello UD Avançar.</span><span class="sxs-lookup"><span data-stu-id="a4fda-116">All VMs in one update domain (UD) are paused, updated and then resumed before planned maintenance moves on toohello next UD.</span></span>

<span data-ttu-id="a4fda-117">Alguns aplicativos podem ser afetados por esses tipos de atualizações.</span><span class="sxs-lookup"><span data-stu-id="a4fda-117">Some applications may be impacted by these types of updates.</span></span> <span data-ttu-id="a4fda-118">Aplicativos que executam em tempo real de processamento de eventos, como o streaming de mídia ou transcodificação ou alta taxa de transferência de rede cenários, não podem ser projetado tootolerate 30 segundo intervalo.</span><span class="sxs-lookup"><span data-stu-id="a4fda-118">Applications that perform real-time event processing, like media streaming or transcoding, or high throughput networking scenarios, may not be designed tootolerate a 30 second pause.</span></span> <!-- sooooo, what should they do? --> 


## <a name="maintenance-requiring-a-reboot"></a><span data-ttu-id="a4fda-119">Manutenção que exige uma reinicialização</span><span class="sxs-lookup"><span data-stu-id="a4fda-119">Maintenance requiring a reboot</span></span>

<span data-ttu-id="a4fda-120">Quando precisarem de VMs toobe reinicializado para manutenção planejada, você será notificado com antecedência.</span><span class="sxs-lookup"><span data-stu-id="a4fda-120">When VMs need toobe rebooted for planned maintenance, you are notified in advance.</span></span> <span data-ttu-id="a4fda-121">Manutenção planejada tem duas fases: Olá janela pessoal e uma janela de manutenção agendada.</span><span class="sxs-lookup"><span data-stu-id="a4fda-121">Planned maintenance has two phases: hello self-service window and a scheduled maintenance window.</span></span>

<span data-ttu-id="a4fda-122">Olá **janela autoatendimento** permite que você iniciar a manutenção de saudação em suas VMs.</span><span class="sxs-lookup"><span data-stu-id="a4fda-122">hello **self-service window** lets you initiate hello maintenance on your VMs.</span></span> <span data-ttu-id="a4fda-123">Durante esse tempo, você pode consultar cada VM toosee seu status e verificar o resultado de saudação de sua última solicitação de manutenção.</span><span class="sxs-lookup"><span data-stu-id="a4fda-123">During this time, you can query each VM toosee their status and check hello result of your last maintenance request.</span></span>

<span data-ttu-id="a4fda-124">Quando você inicia a manutenção de autoatendimento, sua VM é nó movido tooa que já tenha sido atualizada e liga novamente.</span><span class="sxs-lookup"><span data-stu-id="a4fda-124">When you start self-service maintenance, your VM is moved tooa node that has already been updated and then powers it back on.</span></span> <span data-ttu-id="a4fda-125">Como Olá VM for reinicializado, disco temporário Olá for perdido e endereços IP dinâmicos associados à interface de rede virtual são atualizados.</span><span class="sxs-lookup"><span data-stu-id="a4fda-125">Because hello VM reboots, hello temporary disk is lost and dynamic IP addresses associated with virtual network interface are updated.</span></span>

<span data-ttu-id="a4fda-126">Se você iniciar a manutenção de autoatendimento e há um erro durante o processo de hello, Olá operação é interrompida, hello VM não é atualizada e ele também é removido do hello planejado iteração de manutenção.</span><span class="sxs-lookup"><span data-stu-id="a4fda-126">If you start self-service maintenance and there is an error during hello process, hello operation is stopped, hello VM is not updated and it is also removed from hello planned maintenance iteration.</span></span> <span data-ttu-id="a4fda-127">Você será contatado em um momento posterior com uma nova agenda e oferecida uma nova oportunidade toodo autoatendimento manutenção.</span><span class="sxs-lookup"><span data-stu-id="a4fda-127">You will be contacted in a later time with a new schedule and offered a new opportunity toodo self-service maintenance.</span></span> 

<span data-ttu-id="a4fda-128">Quando a janela de autoatendimento de saudação tiver passado, Olá **janela de manutenção agendada** começa.</span><span class="sxs-lookup"><span data-stu-id="a4fda-128">When hello self-service window has passed, hello **scheduled maintenance window** begins.</span></span> <span data-ttu-id="a4fda-129">Durante essa janela de tempo, você pode ainda consultar para a janela de manutenção hello, mas deixará de ser capaz de toostart manutenção de saudação por conta própria.</span><span class="sxs-lookup"><span data-stu-id="a4fda-129">During this time window, you can still query for hello maintenance window, but no longer be able toostart hello maintenance yourself.</span></span>

## <a name="availability-considerations-during-planned-maintenance"></a><span data-ttu-id="a4fda-130">Considerações sobre disponibilidade durante a manutenção planejada</span><span class="sxs-lookup"><span data-stu-id="a4fda-130">Availability Considerations during Planned Maintenance</span></span> 

<span data-ttu-id="a4fda-131">Se você decidir toowait até Olá planejado janela de manutenção, há alguns tooconsider coisas para manter a disponibilidade mais alta Olá das suas máquinas virtuais.</span><span class="sxs-lookup"><span data-stu-id="a4fda-131">If you decide toowait until hello planned maintenance window, there are a few things tooconsider for maintaining hello highest availabilty of your VMs.</span></span> 

### <a name="paired-regions"></a><span data-ttu-id="a4fda-132">Regiões emparelhadas</span><span class="sxs-lookup"><span data-stu-id="a4fda-132">Paired Regions</span></span>

<span data-ttu-id="a4fda-133">Cada região do Azure é emparelhado com outra região dentro de saudação mesmo geografia, junto, eles fazer um par regional.</span><span class="sxs-lookup"><span data-stu-id="a4fda-133">Each Azure region is paired with another region within hello same geography, together they make a regional pair.</span></span> <span data-ttu-id="a4fda-134">Durante a manutenção planejada, o Azure atualizará apenas Olá VMs em uma única região de um par de região.</span><span class="sxs-lookup"><span data-stu-id="a4fda-134">During planned maintenance, Azure will only update hello VMs in a single region of a region pair.</span></span> <span data-ttu-id="a4fda-135">Por exemplo, ao atualizar Olá máquinas virtuais no Centro Norte dos EUA, Azure não atualizará todas as máquinas virtuais no Centro Sul dos EUA em Olá simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="a4fda-135">For example, when updating hello Virtual Machines in North Central US, Azure will not update any Virtual Machines in South Central US at hello same time.</span></span> <span data-ttu-id="a4fda-136">No entanto, outras regiões como Norte da Europa pode estar em manutenção no hello mesmo tempo como Leste dos EUA.</span><span class="sxs-lookup"><span data-stu-id="a4fda-136">However, other regions such as North Europe can be under maintenance at hello same time as East US.</span></span> <span data-ttu-id="a4fda-137">Noções básicas sobre como funcionam os pares de região podem ajudá-lo a melhor distribuir suas VMs entre regiões.</span><span class="sxs-lookup"><span data-stu-id="a4fda-137">Understanding how region pairs work can help you better distribute your VMs across regions.</span></span> <span data-ttu-id="a4fda-138">Para obter mais informações, consulte [pares de regiões do Azure](https://docs.microsoft.com/azure/best-practices-availability-paired-regions).</span><span class="sxs-lookup"><span data-stu-id="a4fda-138">For more information, see [Azure region pairs](https://docs.microsoft.com/azure/best-practices-availability-paired-regions).</span></span>

### <a name="availability-sets-and-scale-sets"></a><span data-ttu-id="a4fda-139">Conjuntos de disponibilidade e conjuntos de dimensionamento</span><span class="sxs-lookup"><span data-stu-id="a4fda-139">Availability sets and scale sets</span></span>

<span data-ttu-id="a4fda-140">Ao implantar uma carga de trabalho em VMs do Azure, você pode criar VMs hello dentro de um aplicativo de tooyour disponibilidade conjunto tooprovide alta disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="a4fda-140">When deploying a workload on Azure VMs, you can create hello VMs within an availability set tooprovide high availability tooyour application.</span></span> <span data-ttu-id="a4fda-141">Isso garante que, durante uma interrupção ou eventos de manutenção, pelo menos uma máquina virtual estará disponível.</span><span class="sxs-lookup"><span data-stu-id="a4fda-141">This ensures that during either an outage or maintenance events, at least one virtual machine is available.</span></span>

<span data-ttu-id="a4fda-142">Em um conjunto de disponibilidade, VMs individuais são distribuídas entre os domínios de atualização too20 (UDs).</span><span class="sxs-lookup"><span data-stu-id="a4fda-142">Within an availability set, individual VMs are spread across up too20 update domains (UDs).</span></span> <span data-ttu-id="a4fda-143">Durante a manutenção planejada, somente um único domínio de atualização é afetado em um período específico.</span><span class="sxs-lookup"><span data-stu-id="a4fda-143">During planned maintenance, only a single update domain is impacted at any given time.</span></span> <span data-ttu-id="a4fda-144">Lembre-se de que ordem Olá de domínios de atualização sendo afetado não necessariamente acontece em sequência.</span><span class="sxs-lookup"><span data-stu-id="a4fda-144">Be aware that hello order of update domains being impacted does not necessarily happen sequentially.</span></span> 

<span data-ttu-id="a4fda-145">Conjuntos de escala de máquinas virtuais são um recurso de computação do Azure que permite que você toodeploy e gerenciam um conjunto de VMs idênticos como um único recurso.</span><span class="sxs-lookup"><span data-stu-id="a4fda-145">Virtual machine scale sets are an Azure compute resource that enables you toodeploy and manage a set of identical VMs as a single resource.</span></span> <span data-ttu-id="a4fda-146">conjunto de escala de saudação é implantado automaticamente nos domínios de atualização, como máquinas virtuais em um conjunto de disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="a4fda-146">hello scale set is automatically deployed across update domains, like VMs in an availability set.</span></span> <span data-ttu-id="a4fda-147">Assim como com conjuntos de disponibilidade, com conjuntos de dimensionamento somente um domínio de atualização é afetado em um determinado momento.</span><span class="sxs-lookup"><span data-stu-id="a4fda-147">Just like with availability sets, with scale sets only a single update domain is impacted at any given time.</span></span>

<span data-ttu-id="a4fda-148">Para obter mais informações sobre como configurar as máquinas virtuais para alta disponibilidade, consulte gerenciar disponibilidade de saudação de suas máquinas virtuais para Windows (... / articles/virtual-machines/windows/manage-availability.md) ou [Linux](../articles/virtual-machines/linux/manage-availability.md).</span><span class="sxs-lookup"><span data-stu-id="a4fda-148">For more information about configuring your virtual machines for high availability, see Manage hello availability of your virtual machines for Windows (../articles/virtual-machines/windows/manage-availability.md) or [Linux](../articles/virtual-machines/linux/manage-availability.md).</span></span>
