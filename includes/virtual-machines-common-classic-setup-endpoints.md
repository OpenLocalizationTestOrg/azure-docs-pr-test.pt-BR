
<span data-ttu-id="221e4-101">Cada ponto de extremidade tem uma *porta pública* e uma *porta privada*:</span><span class="sxs-lookup"><span data-stu-id="221e4-101">Each endpoint has a *public port* and a *private port*:</span></span>

* <span data-ttu-id="221e4-102">porta pública Olá é usada pelo Olá toolisten de Balanceador de carga do Azure para entrada tráfego toohello máquina virtual a partir da Internet de saudação.</span><span class="sxs-lookup"><span data-stu-id="221e4-102">hello public port is used by hello Azure load balancer toolisten for incoming traffic toohello virtual machine from hello Internet.</span></span>
* <span data-ttu-id="221e4-103">porta privada Olá é usada pelo Olá toolisten de máquina virtual para a entrada de tráfego, normalmente destinado tooan aplicativo ou serviço em execução na máquina virtual de saudação.</span><span class="sxs-lookup"><span data-stu-id="221e4-103">hello private port is used by hello virtual machine toolisten for incoming traffic, typically destined tooan application or service running on hello virtual machine.</span></span>

<span data-ttu-id="221e4-104">Valores padrão para Olá protocolo IP e portas TCP ou UDP para protocolos de rede conhecidos são fornecidas quando você cria pontos de extremidade com hello portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="221e4-104">Default values for hello IP protocol and TCP or UDP ports for well-known network protocols are provided when you create endpoints with hello Azure portal.</span></span> <span data-ttu-id="221e4-105">Para pontos de extremidade personalizados, você precisará toospecify Olá correto protocolo IP (TCP ou UDP) e as portas públicas e privadas hello.</span><span class="sxs-lookup"><span data-stu-id="221e4-105">For custom endpoints, you'll need toospecify hello correct IP protocol (TCP or UDP) and hello public and private ports.</span></span> <span data-ttu-id="221e4-106">tráfego de entrada toodistribute aleatoriamente entre várias máquinas virtuais, você precisará toocreate um conjunto com balanceamento de carga consiste em vários pontos de extremidade.</span><span class="sxs-lookup"><span data-stu-id="221e4-106">toodistribute incoming traffic randomly across multiple virtual machines, you'll need toocreate a load-balanced set consisting of multiple endpoints.</span></span>

<span data-ttu-id="221e4-107">Depois de criar um ponto de extremidade, você pode usar um regras de toodefine ACL (lista) de controle de acesso que permitem ou negam o tráfego de entrada hello toohello a porta pública do ponto de extremidade de saudação com base em seu endereço IP de origem.</span><span class="sxs-lookup"><span data-stu-id="221e4-107">After you create an endpoint, you can use an access control list (ACL) toodefine rules that permit or deny hello incoming traffic toohello public port of hello endpoint based on its source IP address.</span></span> <span data-ttu-id="221e4-108">No entanto, se a máquina virtual de saudação estiver em uma rede virtual do Azure, você deve usar grupos de segurança de rede.</span><span class="sxs-lookup"><span data-stu-id="221e4-108">However, if hello virtual machine is in an Azure virtual network, you should use network security groups instead.</span></span> <span data-ttu-id="221e4-109">Para obter detalhes, veja [Sobre os grupos de segurança de rede](../articles/virtual-network/virtual-networks-nsg.md).</span><span class="sxs-lookup"><span data-stu-id="221e4-109">For details, see [About network security groups](../articles/virtual-network/virtual-networks-nsg.md).</span></span>

> [!NOTE]
> <span data-ttu-id="221e4-110">A configuração de firewall para máquinas virtuais do Azure é feita automaticamente para as portas associadas com pontos de extremidade de conectividade remota que o Azure configura automaticamente.</span><span class="sxs-lookup"><span data-stu-id="221e4-110">Firewall configuration for Azure virtual machines is done automatically for ports associated with remote connectivity endpoints that Azure sets up automatically.</span></span> <span data-ttu-id="221e4-111">Para portas especificadas para todos os outros pontos de extremidade, nenhuma configuração é feita automaticamente a toohello firewall da máquina virtual de saudação.</span><span class="sxs-lookup"><span data-stu-id="221e4-111">For ports specified for all other endpoints, no configuration is done automatically toohello firewall of hello virtual machine.</span></span> <span data-ttu-id="221e4-112">Quando você cria um ponto de extremidade da máquina virtual de saudação, você precisará tooensure que Olá firewall da máquina virtual de saudação também permite que o tráfego de saudação do protocolo de saudação e de configuração de ponto de extremidade de toohello correspondente porta privada.</span><span class="sxs-lookup"><span data-stu-id="221e4-112">When you create an endpoint for hello virtual machine, you'll need tooensure that hello firewall of hello virtual machine also allows hello traffic for hello protocol and private port corresponding toohello endpoint configuration.</span></span> <span data-ttu-id="221e4-113">tooconfigure Olá firewall, consulte a documentação hello ou a Ajuda online para o sistema operacional de saudação em execução na máquina virtual de saudação.</span><span class="sxs-lookup"><span data-stu-id="221e4-113">tooconfigure hello firewall, see hello documentation or on-line help for hello operating system running on hello virtual machine.</span></span>
>
>

## <a name="create-an-endpoint"></a><span data-ttu-id="221e4-114">Criar um ponto de extremidade</span><span class="sxs-lookup"><span data-stu-id="221e4-114">Create an endpoint</span></span>
1. <span data-ttu-id="221e4-115">Se você ainda não fez isso, entre no toohello [portal do Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="221e4-115">If you haven't already done so, sign in toohello [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="221e4-116">Clique em **máquinas virtuais**e clique em nome de saudação da máquina virtual de saudação que você deseja tooconfigure.</span><span class="sxs-lookup"><span data-stu-id="221e4-116">Click **Virtual Machines**, and then click hello name of hello virtual machine that you want tooconfigure.</span></span>
3. <span data-ttu-id="221e4-117">Clique em **pontos de extremidade** em Olá **configurações** grupo.</span><span class="sxs-lookup"><span data-stu-id="221e4-117">Click **Endpoints** in hello **Settings** group.</span></span> <span data-ttu-id="221e4-118">Olá **pontos de extremidade** página lista todos os pontos de saudação atual para a máquina virtual de saudação.</span><span class="sxs-lookup"><span data-stu-id="221e4-118">hello **Endpoints** page lists all hello current endpoints for hello virtual machine.</span></span> <span data-ttu-id="221e4-119">(Este exemplo é uma VM do Windows.</span><span class="sxs-lookup"><span data-stu-id="221e4-119">(This example is a Windows VM.</span></span> <span data-ttu-id="221e4-120">Uma VM do Linux por padrão mostrará um ponto de extremidade para SSH.)</span><span class="sxs-lookup"><span data-stu-id="221e4-120">A Linux VM will by default show an endpoint for SSH.)</span></span>

   <!-- ![Endpoints](./media/virtual-machines-common-classic-setup-endpoints/endpointswindows.png) -->
   ![Pontos de extremidade](./media/virtual-machines-common-classic-setup-endpoints/endpointsblade.png)

4. <span data-ttu-id="221e4-122">Na barra de comandos Olá acima as entradas de ponto de extremidade de saudação, clique em **adicionar**.</span><span class="sxs-lookup"><span data-stu-id="221e4-122">In hello command bar above hello endpoint entries, click **Add**.</span></span>
5. <span data-ttu-id="221e4-123">Em Olá **Adicionar ponto de extremidade** página, digite um nome para o ponto de extremidade de saudação em **nome**.</span><span class="sxs-lookup"><span data-stu-id="221e4-123">On hello **Add endpoint** page, type a name for hello endpoint in **Name**.</span></span>
6. <span data-ttu-id="221e4-124">Em **Protocolo**, escolha **TCP** ou **UDP**.</span><span class="sxs-lookup"><span data-stu-id="221e4-124">In **Protocol**, choose either **TCP** or **UDP**.</span></span>
7. <span data-ttu-id="221e4-125">Em **porta pública**, digite Olá número da porta para tráfego de entrada de saudação de saudação à Internet.</span><span class="sxs-lookup"><span data-stu-id="221e4-125">In **Public Port**, type hello port number for hello incoming traffic from hello Internet.</span></span> <span data-ttu-id="221e4-126">Em **porta privada**, digite Olá número da porta na qual Olá máquina virtual está escutando.</span><span class="sxs-lookup"><span data-stu-id="221e4-126">In **Private Port**, type hello port number on which hello virtual machine is listening.</span></span> <span data-ttu-id="221e4-127">O número de porta pode ser diferente.</span><span class="sxs-lookup"><span data-stu-id="221e4-127">These port numbers can be different.</span></span> <span data-ttu-id="221e4-128">Certifique-se de que Olá firewall na máquina virtual de saudação foi configurado tooallow Olá tráfego toohello protocolo correspondente (na etapa 6) e porta privada.</span><span class="sxs-lookup"><span data-stu-id="221e4-128">Ensure that hello firewall on hello virtual machine has been configured tooallow hello traffic corresponding toohello protocol (in step 6) and private port.</span></span>
10. <span data-ttu-id="221e4-129">Clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="221e4-129">Click **Ok**.</span></span>

<span data-ttu-id="221e4-130">novo ponto de extremidade de saudação será listado na Olá **pontos de extremidade** página.</span><span class="sxs-lookup"><span data-stu-id="221e4-130">hello new endpoint will be listed on hello **Endpoints** page.</span></span>

![Criação de ponto de extremidade com êxito](./media/virtual-machines-common-classic-setup-endpoints/endpointcreated.png)

## <a name="manage-hello-acl-on-an-endpoint"></a><span data-ttu-id="221e4-132">Gerenciar Olá ACL em um ponto de extremidade</span><span class="sxs-lookup"><span data-stu-id="221e4-132">Manage hello ACL on an endpoint</span></span>
<span data-ttu-id="221e4-133">conjunto de saudação toodefine de computadores que podem enviar o tráfego, Olá ACL em um ponto de extremidade pode restringir o tráfego com base no endereço IP de origem.</span><span class="sxs-lookup"><span data-stu-id="221e4-133">toodefine hello set of computers that can send traffic, hello ACL on an endpoint can restrict traffic based upon source IP address.</span></span> <span data-ttu-id="221e4-134">Siga estas etapas tooadd, modificar ou remover uma ACL em um ponto de extremidade.</span><span class="sxs-lookup"><span data-stu-id="221e4-134">Follow these steps tooadd, modify, or remove an ACL on an endpoint.</span></span>

> [!NOTE]
> <span data-ttu-id="221e4-135">Se o ponto de extremidade de saudação é parte de um conjunto com balanceamento de carga, qualquer alteração feita toohello ACL em um ponto de extremidade são aplicadas tooall pontos de extremidade no conjunto de saudação.</span><span class="sxs-lookup"><span data-stu-id="221e4-135">If hello endpoint is part of a load-balanced set, any changes you make toohello ACL on an endpoint are applied tooall endpoints in hello set.</span></span>
>
>

<span data-ttu-id="221e4-136">Se a máquina virtual de saudação estiver em uma rede virtual do Azure, recomendamos grupos de segurança de rede em vez de ACLs.</span><span class="sxs-lookup"><span data-stu-id="221e4-136">If hello virtual machine is in an Azure virtual network, we recommend network security groups instead of ACLs.</span></span> <span data-ttu-id="221e4-137">Para obter detalhes, veja [Sobre os grupos de segurança de rede](../articles/virtual-network/virtual-networks-nsg.md).</span><span class="sxs-lookup"><span data-stu-id="221e4-137">For details, see [About network security groups](../articles/virtual-network/virtual-networks-nsg.md).</span></span>

1. <span data-ttu-id="221e4-138">Se você ainda não fez isso, entre no toohello portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="221e4-138">If you haven't already done so, sign in toohello Azure portal.</span></span>
2. <span data-ttu-id="221e4-139">Clique em **máquinas virtuais**e clique em nome de saudação da máquina virtual de saudação que você deseja tooconfigure.</span><span class="sxs-lookup"><span data-stu-id="221e4-139">Click **Virtual Machines**, and then click hello name of hello virtual machine that you want tooconfigure.</span></span>
3. <span data-ttu-id="221e4-140">Clique em **Pontos de Extremidade**.</span><span class="sxs-lookup"><span data-stu-id="221e4-140">Click **Endpoints**.</span></span> <span data-ttu-id="221e4-141">Na lista de saudação, selecione o ponto de extremidade Olá apropriado.</span><span class="sxs-lookup"><span data-stu-id="221e4-141">From hello list, select hello appropriate endpoint.</span></span> <span data-ttu-id="221e4-142">a lista ACL de saudação é final Olá Olá página.</span><span class="sxs-lookup"><span data-stu-id="221e4-142">hello ACL list is at hello bottom of hello page.</span></span>

   ![Detalhes específicos de ACL](./media/virtual-machines-common-classic-setup-endpoints/aclpreentry.png)

4. <span data-ttu-id="221e4-144">Use linhas em Olá lista tooadd, excluir ou editar regras para uma ACL e alterar sua ordem.</span><span class="sxs-lookup"><span data-stu-id="221e4-144">Use rows in hello list tooadd, delete, or edit rules for an ACL and change their order.</span></span> <span data-ttu-id="221e4-145">Olá **sub-rede remota** valor é um intervalo de endereços IP para o tráfego de entrada de saudação da Internet que Olá toopermit de usos do balanceador de carga do Azure ou negar o tráfego de saudação com base em seu endereço IP de origem.</span><span class="sxs-lookup"><span data-stu-id="221e4-145">hello **Remote Subnet** value is an IP address range for incoming traffic from hello Internet that hello Azure load balancer uses toopermit or deny hello traffic based on its source IP address.</span></span> <span data-ttu-id="221e4-146">Ser-se de intervalo de endereços IP de toospecify de saudação no formato CIDR, também conhecido como formato de prefixo de endereço.</span><span class="sxs-lookup"><span data-stu-id="221e4-146">Be sure toospecify hello IP address range in CIDR format, also known as address prefix format.</span></span> <span data-ttu-id="221e4-147">Um exemplo é `10.1.0.0/8`.</span><span class="sxs-lookup"><span data-stu-id="221e4-147">An example is `10.1.0.0/8`.</span></span>

 ![Nova entrada ACL](./media/virtual-machines-common-classic-setup-endpoints/newaclentry.png)


<span data-ttu-id="221e4-149">Você pode usar regras tooallow somente do tráfego de computadores específicos correspondente tooyour computadores no tráfego de Internet ou toodeny Olá em intervalos de endereço específico, conhecido.</span><span class="sxs-lookup"><span data-stu-id="221e4-149">You can use rules tooallow only traffic from specific computers corresponding tooyour computers on hello Internet or toodeny traffic from specific, known address ranges.</span></span>

<span data-ttu-id="221e4-150">Olá regras são avaliadas na ordem começando com a primeira regra de saudação e terminando com a regra de saudação do último.</span><span class="sxs-lookup"><span data-stu-id="221e4-150">hello rules are evaluated in order starting with hello first rule and ending with hello last rule.</span></span> <span data-ttu-id="221e4-151">Isso significa que as regras devem ser ordenadas de menos restritivo toomost restritiva.</span><span class="sxs-lookup"><span data-stu-id="221e4-151">This means that rules should be ordered from least restrictive toomost restrictive.</span></span> <span data-ttu-id="221e4-152">Para obter exemplos e saber mais, veja [O que é uma Lista de Controle de Acesso de rede](../articles/virtual-network/virtual-networks-acl.md).</span><span class="sxs-lookup"><span data-stu-id="221e4-152">For examples and more information, see [What is a Network Access Control List](../articles/virtual-network/virtual-networks-acl.md).</span></span>
