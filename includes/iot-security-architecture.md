# <a name="internet-of-things-security-architecture"></a><span data-ttu-id="74578-101">Arquitetura de segurança da Internet das Coisas</span><span class="sxs-lookup"><span data-stu-id="74578-101">Internet of Things security architecture</span></span>
<span data-ttu-id="74578-102">Durante a criação de um sistema, é importante toounderstand ameaças em potencial Olá toothat sistema e adicionar defesas apropriadas da mesma forma, como sistema de saudação é desenvolvido e projetado.</span><span class="sxs-lookup"><span data-stu-id="74578-102">When designing a system, it is important toounderstand hello potential threats toothat system, and add appropriate defenses accordingly, as hello system is designed and architected.</span></span> <span data-ttu-id="74578-103">É particularmente importante toodesign Olá produto a partir do início da saudação pensando na segurança porque a entender como um invasor pode ser capaz de toocompromise um sistema de ajuda a certificar-se de que as atenuações apropriadas estejam no local de início de saudação.</span><span class="sxs-lookup"><span data-stu-id="74578-103">It is particularly important toodesign hello product from hello start with security in mind because understanding how an attacker might be able toocompromise a system helps make sure appropriate mitigations are in place from hello beginning.</span></span> 

## <a name="security-starts-with-a-threat-model"></a><span data-ttu-id="74578-104">A segurança começa com um modelo de risco</span><span class="sxs-lookup"><span data-stu-id="74578-104">Security starts with a threat model</span></span>
<span data-ttu-id="74578-105">Microsoft tempo tenha usado modelos de risco para seus produtos e fez publicamente disponíveis do processo de modelagem de ameaças da empresa hello.</span><span class="sxs-lookup"><span data-stu-id="74578-105">Microsoft has long used threat models for its products and has made hello company’s threat modeling process publically available.</span></span> <span data-ttu-id="74578-106">Olá experiência da empresa demonstra que Olá modelagem tem benefícios inesperados além Olá imediata compreender quais ameaças são Olá relacionados com a maioria dos.</span><span class="sxs-lookup"><span data-stu-id="74578-106">hello company experience demonstrates that hello modelling has unexpected benefits beyond hello immediate understanding of what threats are hello most concerning.</span></span> <span data-ttu-id="74578-107">Por exemplo, ele também cria um canal para uma discussão aberta com outras pessoas fora da equipe de desenvolvimento hello, que pode levar toonew ideias e aprimoramentos no produto hello.</span><span class="sxs-lookup"><span data-stu-id="74578-107">For example, it also creates an avenue for an open discussion with others outside hello development team, which can lead toonew ideas and improvements in hello product.</span></span>

<span data-ttu-id="74578-108">objetivo de saudação da modelagem de ameaças é toounderstand como um invasor pode ser capaz de toocompromise um sistema e, em seguida, certifique-se de atenuações apropriadas estejam em vigor.</span><span class="sxs-lookup"><span data-stu-id="74578-108">hello objective of threat modeling is toounderstand how an attacker might be able toocompromise a system and then make sure appropriate mitigations are in place.</span></span> <span data-ttu-id="74578-109">Modelagem de ameaças força reduções de tooconsider de equipe de design hello como Olá sistema foi projetado em vez de após a implantação de um sistema.</span><span class="sxs-lookup"><span data-stu-id="74578-109">Threat modeling forces hello design team tooconsider mitigations as hello system is designed rather than after a system is deployed.</span></span> <span data-ttu-id="74578-110">Esse fato é extremamente importante, porque o aperfeiçoamento uma infinidade de tooa de defesas de segurança de dispositivos em campo Olá for inviável, sujeito a erros e deixará os clientes em risco.</span><span class="sxs-lookup"><span data-stu-id="74578-110">This fact is critically important, because retrofitting security defenses tooa myriad of devices in hello field is infeasible, error prone and will leave customers at risk.</span></span>

<span data-ttu-id="74578-111">Muitas equipes de desenvolvimento fazem um excelente trabalho de captura Olá funcional os requisitos do sistema Olá que beneficiam os clientes.</span><span class="sxs-lookup"><span data-stu-id="74578-111">Many development teams do an excellent job capturing hello functional requirements for hello system that benefit customers.</span></span> <span data-ttu-id="74578-112">No entanto, a identificar maneiras não óbvio que alguém pode usar indevidamente sistema Olá é mais difícil.</span><span class="sxs-lookup"><span data-stu-id="74578-112">However, identifying non-obvious ways that someone might misuse hello system is more challenging.</span></span> <span data-ttu-id="74578-113">A modelagem de risco pode ajudar as equipes de desenvolvimento a compreender o que um invasor pode fazer e por quê.</span><span class="sxs-lookup"><span data-stu-id="74578-113">Threat modeling can help development teams understand what an attacker might do and why.</span></span> <span data-ttu-id="74578-114">Modelagem de ameaças é um processo estruturado que cria uma discussão sobre segurança Olá decisões de design no sistema hello, bem como o design de toohello as alterações feitas ao longo de maneira Olá que afetam a segurança.</span><span class="sxs-lookup"><span data-stu-id="74578-114">Threat modeling is a structured process that creates a discussion about hello security design decisions in hello system, as well as changes toohello design that are made along hello way that impact security.</span></span> <span data-ttu-id="74578-115">Enquanto um modelo de ameaça é simplesmente um documento, esta documentação também representa uma maneira ideal de continuidade de tooensure de Conhecimento, retenção de lições aprendidas e ajudar a nova equipe integrar rapidamente.</span><span class="sxs-lookup"><span data-stu-id="74578-115">While a threat model is simply a document, this documentation also represents an ideal way tooensure continuity of knowledge, retention of lessons learned, and help new team onboard rapidly.</span></span> <span data-ttu-id="74578-116">Por fim, um resultado de modelagem de ameaças é tooenable tooconsider você outros aspectos de segurança, como quais os compromissos de segurança você deseja tooprovide tooyour clientes.</span><span class="sxs-lookup"><span data-stu-id="74578-116">Finally, an outcome of threat modeling is tooenable you tooconsider other aspects of security, such as what security commitments you wish tooprovide tooyour customers.</span></span> <span data-ttu-id="74578-117">Esses compromissos em conjunto com a modelagem de risco informarão e orientarão o teste de sua solução de IoT (Internet das Coisas).</span><span class="sxs-lookup"><span data-stu-id="74578-117">These commitments in conjunction with threat modeling will inform and drive testing of your Internet of Things (IoT) solution.</span></span>

### <a name="when-toothreat-model"></a><span data-ttu-id="74578-118">Quando o modelo de toothreat</span><span class="sxs-lookup"><span data-stu-id="74578-118">When toothreat model</span></span>
<span data-ttu-id="74578-119">[Modelagem de ameaças](http://www.microsoft.com/security/sdl/adopt/threatmodeling.aspx) ofertas Olá maior valor se ele é incorporado na fase de design de saudação.</span><span class="sxs-lookup"><span data-stu-id="74578-119">[Threat modeling](http://www.microsoft.com/security/sdl/adopt/threatmodeling.aspx) offers hello greatest value if it is incorporated into hello design phase.</span></span> <span data-ttu-id="74578-120">Quando você está criando, você tem Olá maior flexibilidade toomake alterações tooeliminate ameaças.</span><span class="sxs-lookup"><span data-stu-id="74578-120">When you are designing, you have hello greatest flexibility toomake changes tooeliminate threats.</span></span> <span data-ttu-id="74578-121">Eliminar ameaças por design é o resultado desejado hello.</span><span class="sxs-lookup"><span data-stu-id="74578-121">Eliminating threats by design is hello desired outcome.</span></span> <span data-ttu-id="74578-122">É muito mais fácil do que adicionar mitigações, testá-las e garantir que elas permaneçam atualizadas e, além disso, essa eliminação nem sempre é possível.</span><span class="sxs-lookup"><span data-stu-id="74578-122">It is much easier than adding mitigations, testing them, and ensuring they remain current and moreover, such elimination is not always possible.</span></span> <span data-ttu-id="74578-123">Ele se torna mais difícil tooeliminate ameaças como um produto se torna mais maduros e por sua vez, por fim, exigirá mais trabalho e muito mais difícil compensações de modelagem desde o início do desenvolvimento de saudação de ameaça.</span><span class="sxs-lookup"><span data-stu-id="74578-123">It becomes harder tooeliminate threats as a product becomes more mature, and in turn will ultimately require more work and a lot harder tradeoffs than threat modeling early on in hello development.</span></span>

### <a name="what-toothreat-model"></a><span data-ttu-id="74578-124">O modelo de toothreat</span><span class="sxs-lookup"><span data-stu-id="74578-124">What toothreat model</span></span>
<span data-ttu-id="74578-125">Você deve thread solução de saudação do modelo como um todo e também o foco no hello áreas a seguir:</span><span class="sxs-lookup"><span data-stu-id="74578-125">You should thread model hello solution as a whole and also focus in hello following areas:</span></span>

* <span data-ttu-id="74578-126">recursos de segurança e privacidade Olá</span><span class="sxs-lookup"><span data-stu-id="74578-126">hello security and privacy features</span></span>
* <span data-ttu-id="74578-127">recursos de saudação cujas falhas são relevantes de segurança</span><span class="sxs-lookup"><span data-stu-id="74578-127">hello features whose failures are security relevant</span></span>
* <span data-ttu-id="74578-128">recursos de saudação que tocam um limite de confiança</span><span class="sxs-lookup"><span data-stu-id="74578-128">hello features that touch a trust boundary</span></span> 

### <a name="who-threat-models"></a><span data-ttu-id="74578-129">Quem faz os modelos de risco</span><span class="sxs-lookup"><span data-stu-id="74578-129">Who threat models</span></span>
<span data-ttu-id="74578-130">A modelagem de risco é um processo como qualquer outro.</span><span class="sxs-lookup"><span data-stu-id="74578-130">Threat modeling is a process like any other.</span></span>  <span data-ttu-id="74578-131">É um documento de modelo de ameaça do BOM tootreat hello como qualquer outro componente de solução de saudação e validá-lo.</span><span class="sxs-lookup"><span data-stu-id="74578-131">It is a good idea tootreat hello threat model document like any other component of hello solution and validate it.</span></span> <span data-ttu-id="74578-132">Muitas equipes de desenvolvimento fazem um excelente trabalho de captura Olá funcional os requisitos do sistema Olá que beneficiam os clientes.</span><span class="sxs-lookup"><span data-stu-id="74578-132">Many development teams do an excellent job capturing hello functional requirements for hello system that benefit customers.</span></span> <span data-ttu-id="74578-133">No entanto, a identificar maneiras não óbvio que alguém pode usar indevidamente sistema Olá é mais difícil.</span><span class="sxs-lookup"><span data-stu-id="74578-133">However, identifying non-obvious ways that someone might misuse hello system is more challenging.</span></span> <span data-ttu-id="74578-134">A modelagem de risco pode ajudar as equipes de desenvolvimento a compreender o que um invasor pode fazer e por quê.</span><span class="sxs-lookup"><span data-stu-id="74578-134">Threat modeling can help development teams understand what an attacker might do and why.</span></span>

### <a name="how-toothreat-model"></a><span data-ttu-id="74578-135">Como o modelo de toothreat</span><span class="sxs-lookup"><span data-stu-id="74578-135">How toothreat model</span></span>
<span data-ttu-id="74578-136">processo de modelagem de ameaças Olá é composta de quatro etapas; Olá etapas são:</span><span class="sxs-lookup"><span data-stu-id="74578-136">hello threat modeling process is composed of four steps; hello steps are:</span></span>

* <span data-ttu-id="74578-137">Aplicativo hello modelo</span><span class="sxs-lookup"><span data-stu-id="74578-137">Model hello application</span></span>
* <span data-ttu-id="74578-138">Enumerar as ameaças</span><span class="sxs-lookup"><span data-stu-id="74578-138">Enumerate Threats</span></span>
* <span data-ttu-id="74578-139">Atenuar as ameaças</span><span class="sxs-lookup"><span data-stu-id="74578-139">Mitigate threats</span></span>
* <span data-ttu-id="74578-140">Validar atenuações Olá</span><span class="sxs-lookup"><span data-stu-id="74578-140">Validate hello mitigations</span></span>

#### <a name="hello-process-steps"></a><span data-ttu-id="74578-141">etapas do processo Olá</span><span class="sxs-lookup"><span data-stu-id="74578-141">hello process steps</span></span>
<span data-ttu-id="74578-142">Tookeep três princípios em mente ao criar um modelo de ameaça:</span><span class="sxs-lookup"><span data-stu-id="74578-142">Three rules of thumb tookeep in mind when building a threat model:</span></span>

1. <span data-ttu-id="74578-143">Crie um diagrama da arquitetura de referência.</span><span class="sxs-lookup"><span data-stu-id="74578-143">Create a diagram out of reference architecture.</span></span> 
2. <span data-ttu-id="74578-144">Inicie primeiro por abrangência.</span><span class="sxs-lookup"><span data-stu-id="74578-144">Start breadth-first.</span></span> <span data-ttu-id="74578-145">Obtenha uma visão geral e entender o sistema hello como um todo, antes de se aprofundar profundo.</span><span class="sxs-lookup"><span data-stu-id="74578-145">Get an overview, and understand hello system as a whole, before deep-diving.</span></span>  <span data-ttu-id="74578-146">Isso ajuda a garantir que você aprofundar em Olá direita coloca.</span><span class="sxs-lookup"><span data-stu-id="74578-146">This helps ensure that you deep-dive in hello right places.</span></span>
3. <span data-ttu-id="74578-147">Unidade processo hello, não permitem que o processo de saudação unidade você.</span><span class="sxs-lookup"><span data-stu-id="74578-147">Drive hello process, don’t let hello process drive you.</span></span> <span data-ttu-id="74578-148">Se você encontrar um problema na fase de modelagem de saudação e deseja tooexplore-lo, vá para ele!</span><span class="sxs-lookup"><span data-stu-id="74578-148">If you find an issue in hello modeling phase and want tooexplore it, go for it!</span></span>  <span data-ttu-id="74578-149">Não precisarão toofollow essas etapas submissamente.</span><span class="sxs-lookup"><span data-stu-id="74578-149">Don’t feel you need toofollow these steps slavishly.</span></span>  

#### <a name="threats"></a><span data-ttu-id="74578-150">Ameaças</span><span class="sxs-lookup"><span data-stu-id="74578-150">Threats</span></span>
<span data-ttu-id="74578-151">Olá quatro principais elementos de um modelo de ameaça são:</span><span class="sxs-lookup"><span data-stu-id="74578-151">hello four core elements of a threat model are:</span></span>

* <span data-ttu-id="74578-152">Processos (serviços Web, serviços do Win32, daemons *nix etc.) Observe que algumas entidades complexas (por exemplo, gateways de campo e sensores) podem ser abstraídas como um processo quando um detalhamento técnico nessas áreas não é possível.</span><span class="sxs-lookup"><span data-stu-id="74578-152">Processes (web services, Win32 services, *nix daemons, etc. Note that some complex entities (for example field gateways and sensors) can be abstracted as a process when a technical drill down in these areas is not possible.</span></span>
* <span data-ttu-id="74578-153">Armazenamentos de dados (qualquer lugar em que os dados são armazenados, como um arquivo de configuração ou banco de dados)</span><span class="sxs-lookup"><span data-stu-id="74578-153">Data stores (anywhere data is stored, such as a configuration file or database)</span></span>
* <span data-ttu-id="74578-154">Fluxo de dados (onde dados se movimentarem entre outros elementos no aplicativo hello)</span><span class="sxs-lookup"><span data-stu-id="74578-154">Data flow (where data moves between other elements in hello application)</span></span>
* <span data-ttu-id="74578-155">Entidades externas (qualquer coisa que interage com o sistema hello, mas não é controlada saudação do aplicativo hello, os exemplos incluem usuários e feeds de satélite)</span><span class="sxs-lookup"><span data-stu-id="74578-155">External Entities (anything that interacts with hello system, but is not under hello control of hello application, examples include users and satellite feeds)</span></span>

<span data-ttu-id="74578-156">Todos os elementos no diagrama de arquitetura de saudação são ameaças de toovarious assunto; usaremos mnemônico STRIDE hello.</span><span class="sxs-lookup"><span data-stu-id="74578-156">All elements in hello architectural diagram are subject toovarious threats; we will use hello STRIDE mnemonic.</span></span> <span data-ttu-id="74578-157">Leitura [Threat Modeling novamente, STRIDE](https://blogs.msdn.microsoft.com/larryosterman/2007/09/04/threat-modeling-again-stride/) tooknow mais sobre os elementos STRIDE hello.</span><span class="sxs-lookup"><span data-stu-id="74578-157">Read [Threat Modeling Again, STRIDE](https://blogs.msdn.microsoft.com/larryosterman/2007/09/04/threat-modeling-again-stride/) tooknow more about hello STRIDE elements.</span></span>

<span data-ttu-id="74578-158">Elementos de diagrama do aplicativo hello são ameaças STRIDE toocertain assunto:</span><span class="sxs-lookup"><span data-stu-id="74578-158">Different elements of hello application diagram are subject toocertain STRIDE threats:</span></span>

* <span data-ttu-id="74578-159">Os processos são tooSTRIDE de assunto</span><span class="sxs-lookup"><span data-stu-id="74578-159">Processes are subject tooSTRIDE</span></span>
* <span data-ttu-id="74578-160">Fluxos de dados são o assunto tooTID</span><span class="sxs-lookup"><span data-stu-id="74578-160">Data flows are subject tooTID</span></span>
* <span data-ttu-id="74578-161">Armazenamentos de dados são tooTID de assunto e, às vezes, R, se Olá armazenamentos de dados são arquivos de log.</span><span class="sxs-lookup"><span data-stu-id="74578-161">Data stores are subject tooTID, and sometimes R, if hello data stores are log files.</span></span>
* <span data-ttu-id="74578-162">Entidades externas são tooSRD de assunto</span><span class="sxs-lookup"><span data-stu-id="74578-162">External entities are subject tooSRD</span></span>

## <a name="security-in-iot"></a><span data-ttu-id="74578-163">Segurança na IoT</span><span class="sxs-lookup"><span data-stu-id="74578-163">Security in IoT</span></span>
<span data-ttu-id="74578-164">Dispositivos conectados de finalidade especial tem um número significativo de áreas da superfície potencial interação e padrões de interação, que deve ser considerado tooprovide uma estrutura para proteger o acesso digital toothose dispositivos.</span><span class="sxs-lookup"><span data-stu-id="74578-164">Connected special-purpose devices have a significant number of potential interaction surface areas and interaction patterns, all of which must be considered tooprovide a framework for securing digital access toothose devices.</span></span> <span data-ttu-id="74578-165">termo Hello "digital access" é usado toodistinguish aqui de todas as operações que são executadas por meio da interação direta do dispositivo onde a segurança de acesso é fornecida por meio do controle de acesso físico.</span><span class="sxs-lookup"><span data-stu-id="74578-165">hello term “digital access” is used here toodistinguish from any operations that are carried out through direct device interaction where access security is provided through physical access control.</span></span> <span data-ttu-id="74578-166">Por exemplo, colocando dispositivo Olá em uma sala com um bloqueio na porta hello.</span><span class="sxs-lookup"><span data-stu-id="74578-166">For example, putting hello device into a room with a lock on hello door.</span></span> <span data-ttu-id="74578-167">Enquanto o acesso físico não pode ser negado usando hardware e software, medidas podem ser tomadas tooprevent o acesso físico dos principais toosystem interferência.</span><span class="sxs-lookup"><span data-stu-id="74578-167">While physical access cannot be denied using software and hardware, measures can be taken tooprevent physical access from leading toosystem interference.</span></span> 

<span data-ttu-id="74578-168">Como podemos explorar os padrões de interação de hello, examinaremos "controle de dispositivo" e "dados de dispositivo" com o mesmo nível de atenção de hello.</span><span class="sxs-lookup"><span data-stu-id="74578-168">As we explore hello interaction patterns, we will look at “device control” and “device data” with hello same level of attention.</span></span> <span data-ttu-id="74578-169">"Controle de dispositivo" pode ser classificado como qualquer informação fornecida tooa dispositivo por qualquer pessoa com objetivo de saudação de alteração ou influenciar o comportamento para seu estado ou saudação do seu ambiente.</span><span class="sxs-lookup"><span data-stu-id="74578-169">“Device control” can be classified as any information that is provided tooa device by any party with hello goal of changing or influencing its behavior towards its state or hello state of its environment.</span></span> <span data-ttu-id="74578-170">"Dados de dispositivo" podem ser classificados como todas as informações que um dispositivo emite tooany outro participante sobre seu estado e Olá observado o estado do seu ambiente.</span><span class="sxs-lookup"><span data-stu-id="74578-170">“Device data” can be classified as any information that a device emits tooany other party about its state and hello observed state of its environment.</span></span>

<span data-ttu-id="74578-171">Em ordem toooptimize práticas recomendadas, é recomendável que uma arquitetura típica do IoT ser divididos em várias/zonas de componente como parte do exercício de modelagem de ameaças de saudação.</span><span class="sxs-lookup"><span data-stu-id="74578-171">In order toooptimize security best practices, it is recommended that a typical IoT architecture be divided into several component/zones as part of hello threat modeling exercise.</span></span> <span data-ttu-id="74578-172">Essas zonas são descritas em detalhes ao longo desta seção e incluem:</span><span class="sxs-lookup"><span data-stu-id="74578-172">These zones are described fully throughout this section and include:</span></span>

* <span data-ttu-id="74578-173">Dispositivo,</span><span class="sxs-lookup"><span data-stu-id="74578-173">Device,</span></span>
* <span data-ttu-id="74578-174">Gateway de campo,</span><span class="sxs-lookup"><span data-stu-id="74578-174">Field Gateway,</span></span>
* <span data-ttu-id="74578-175">Gateways de nuvem e</span><span class="sxs-lookup"><span data-stu-id="74578-175">Cloud gateways, and</span></span>
* <span data-ttu-id="74578-176">.</span><span class="sxs-lookup"><span data-stu-id="74578-176">Services.</span></span>

<span data-ttu-id="74578-177">As zonas são amplo toosegment de maneira uma solução; Geralmente, cada região tem seus próprios requisitos de dados e autenticação e autorização.</span><span class="sxs-lookup"><span data-stu-id="74578-177">Zones are broad way toosegment a solution; each zone often has its own data and authentication and authorization requirements.</span></span> <span data-ttu-id="74578-178">As zonas também podem ser usado tooisolation danos e restringir o impacto de saudação das zonas de confiança baixa em zonas de confiança superior.</span><span class="sxs-lookup"><span data-stu-id="74578-178">Zones can also be used tooisolation damage and restrict hello impact of low trust zones on higher trust zones.</span></span>

<span data-ttu-id="74578-179">Cada zona é separada por um limite de confiança é indicado como Olá linhas pontilhadas linha vermelha no diagrama de saudação abaixo.</span><span class="sxs-lookup"><span data-stu-id="74578-179">Each zone is separated by a Trust Boundary, which is noted as hello dotted red line in hello diagram below.</span></span> <span data-ttu-id="74578-180">Representa uma transição de informações/dados de uma fonte tooanother.</span><span class="sxs-lookup"><span data-stu-id="74578-180">It represents a transition of data/information from one source tooanother.</span></span> <span data-ttu-id="74578-181">Durante essa transição, informações da dados Olá pode ser tooSpoofing de assunto, violação, repúdio, divulgação de informações, negação de serviço e elevação de privilégio (STRIDE).</span><span class="sxs-lookup"><span data-stu-id="74578-181">During this transition, hello data/information could be subject tooSpoofing, Tampering, Repudiation, Information Disclosure, Denial of Service and Elevation of Privilege (STRIDE).</span></span>

![Zonas de segurança da IoT](media/iot-security-architecture/iot-security-architecture-fig1.png) 

<span data-ttu-id="74578-183">Olá componentes descritos em cada limite também são tooSTRIDE sujeito, habilitando um 360 completo exibição de solução de saudação de modelagem de ameaças.</span><span class="sxs-lookup"><span data-stu-id="74578-183">hello components depicted within each boundary are also subjected tooSTRIDE, enabling a full 360 threat modeling view of hello solution.</span></span> <span data-ttu-id="74578-184">seções de saudação abaixo elaborem em cada um dos componentes de saudação e questões de segurança específico e soluções que devem ser colocadas em prática.</span><span class="sxs-lookup"><span data-stu-id="74578-184">hello sections below elaborate on each of hello components and specific security concerns and solutions that should be put into place.</span></span>

<span data-ttu-id="74578-185">seções Olá após discutir componentes padrão geralmente encontrado nessas zonas.</span><span class="sxs-lookup"><span data-stu-id="74578-185">hello sections that follows will discuss standard components typically found in these zones.</span></span>

### <a name="hello-device-zone"></a><span data-ttu-id="74578-186">Olá fuso do dispositivo</span><span class="sxs-lookup"><span data-stu-id="74578-186">hello Device Zone</span></span>
<span data-ttu-id="74578-187">Olá, ambiente do dispositivo é espaço físico do imediato saudação dispositivo Olá onde o acesso físico e/ou digital de ponto a ponto "rede local" acessar toohello dispositivo é viável.</span><span class="sxs-lookup"><span data-stu-id="74578-187">hello device environment is hello immediate physical space around hello device where physical access and/or “local network” peer-to-peer digital access toohello device is feasible.</span></span> <span data-ttu-id="74578-188">"Rede local" é assumida toobe uma rede que é distinto e isolamento de – mas potencialmente ligados com pontes Internet pública muito – hello e inclui qualquer tecnologia de rádio de curta distância que permite a comunicação ponto a ponto de dispositivos.</span><span class="sxs-lookup"><span data-stu-id="74578-188">A “local network” is assumed toobe a network that is distinct and insulated from – but potentially bridged too– hello public Internet, and includes any short-range wireless radio technology that permits peer-to-peer communication of devices.</span></span> <span data-ttu-id="74578-189">Ele faz *não* incluem qualquer tecnologia de virtualização de rede criando ilusão Olá dessa rede local e também não incluir redes de operador público que necessitam de quaisquer dois dispositivos toocommunicate em espaço de rede pública Se eles fossem relação de comunicação tooenter uma ponto a ponto.</span><span class="sxs-lookup"><span data-stu-id="74578-189">It does *not* include any network virtualization technology creating hello illusion of such a local network and it does also not include public operator networks that require any two devices toocommunicate across public network space if they were tooenter a peer-to-peer communication relationship.</span></span>

### <a name="hello-field-gateway-zone"></a><span data-ttu-id="74578-190">Olá campo Gateway de zona</span><span class="sxs-lookup"><span data-stu-id="74578-190">hello Field Gateway Zone</span></span>
<span data-ttu-id="74578-191">Um gateway de campo é um dispositivo ou um software de computador servidor de finalidade geral que age como um habilitador de comunicação e, potencialmente, como um sistema de controle de dispositivo e um hub de processamento de dados do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="74578-191">Field gateway is a device/appliance or some general-purpose server computer software that acts as communication enabler and, potentially, as a device control system and device data processing hub.</span></span> <span data-ttu-id="74578-192">zona de gateway de campo Olá inclui o próprio gateway de campo hello e todos os dispositivos que estão anexados tooit.</span><span class="sxs-lookup"><span data-stu-id="74578-192">hello field gateway zone includes hello field gateway itself and all devices that are attached tooit.</span></span> <span data-ttu-id="74578-193">Como Olá nome implica, gateways de campo agir instalações fora de processamento de dados dedicado, são geralmente local associado, é potencialmente invasão de toophysical de assunto e terão redundância operacional.</span><span class="sxs-lookup"><span data-stu-id="74578-193">As hello name implies, field gateways act outside dedicated data processing facilities, are usually location bound, are potentially subject toophysical intrusion, and will have limited operational redundancy.</span></span> <span data-ttu-id="74578-194">Todos os toosay que um gateway de campo geralmente é uma coisa um pode toque e sabotar sabendo sua função é.</span><span class="sxs-lookup"><span data-stu-id="74578-194">All toosay that a field gateway is commonly a thing one can touch and sabotage while knowing what its function is.</span></span> 

<span data-ttu-id="74578-195">Um gateway de campo é diferente de um mero roteador de tráfego em que ele teve uma função ativa no gerenciamento de acesso e fluxo de informações, o que significa que ele é um terminal de sessão ou uma conexão de rede e entidade dirigida para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="74578-195">A field gateway is different from a mere traffic router in that it has had an active role in managing access and information flow, meaning it is an application addressed entity and network connection or session terminal.</span></span> <span data-ttu-id="74578-196">Um firewall ou dispositivos NAT, por outro lado, não se qualificam como gateways de campo, pois não são terminais de sessão ou conexão explícitos, mas sim sessões ou conexões de rota (ou bloqueio) feitas por meio deles.</span><span class="sxs-lookup"><span data-stu-id="74578-196">An NAT device or firewall, in contrast, do not qualify as field gateways since they are not explicit connection or session terminals, but rather a route (or block) connections or sessions made through them.</span></span> <span data-ttu-id="74578-197">gateway de campo Olá tem duas áreas da superfície distintas.</span><span class="sxs-lookup"><span data-stu-id="74578-197">hello field gateway has two distinct surface areas.</span></span> <span data-ttu-id="74578-198">Um faces dispositivos Olá tooit anexado e representa hello dentro de zona hello e Olá outros fica disponível para todos os parceiros externos e Olá borda da zona de saudação.</span><span class="sxs-lookup"><span data-stu-id="74578-198">One faces hello devices that are attached tooit and represents hello inside of hello zone, and hello other faces all external parties and is hello edge of hello zone.</span></span>   

### <a name="hello-cloud-gateway-zone"></a><span data-ttu-id="74578-199">zona de gateway de nuvem Olá</span><span class="sxs-lookup"><span data-stu-id="74578-199">hello cloud gateway zone</span></span>
<span data-ttu-id="74578-200">Gateway de nuvem é um sistema que permite a comunicação remota do e gateways toodevices ou campo de diversos sites em espaço de rede pública, normalmente até um baseado em nuvem controle e dados de sistema de análise, uma federação de tais sistemas.</span><span class="sxs-lookup"><span data-stu-id="74578-200">Cloud gateway is a system that enables remote communication from and toodevices or field gateways from several different sites across public network space, typically towards a cloud-based control and data analysis system, a federation of such systems.</span></span> <span data-ttu-id="74578-201">Em alguns casos, um gateway de nuvem pode facilitar imediatamente acessem dispositivos de toospecial com a finalidade de terminais, como tablets e telefones.</span><span class="sxs-lookup"><span data-stu-id="74578-201">In some cases, a cloud gateway may immediately facilitate access toospecial-purpose devices from terminals such as tablets or phones.</span></span> <span data-ttu-id="74578-202">No contexto de saudação discutido aqui, "nuvem" destina toorefer tooa dedicado processamento de dados de sistema que não esteja associado toohello mesmo site como Olá anexado dispositivos ou gateways de campo.</span><span class="sxs-lookup"><span data-stu-id="74578-202">In hello context discussed here, “cloud” is meant toorefer tooa dedicated data processing system that is not bound toohello same site as hello attached devices or field gateways.</span></span> <span data-ttu-id="74578-203">Também em uma região de nuvem, medidas operacionais impedem o acesso físico de destino em não é necessariamente exposto tooa infra-estrutura de "nuvem pública".</span><span class="sxs-lookup"><span data-stu-id="74578-203">Also in a Cloud Zone, operational measures prevent targeted physical access and is not necessarily exposed tooa “public cloud” infrastructure.</span></span>  

<span data-ttu-id="74578-204">Um gateway de nuvem potencialmente pode ser mapeado para um gateway de rede virtualização sobreposição tooinsulate Olá nuvem e todos os seus dispositivos anexados ou gateways de campo de qualquer outro tráfego de rede.</span><span class="sxs-lookup"><span data-stu-id="74578-204">A cloud gateway may potentially be mapped into a network virtualization overlay tooinsulate hello cloud gateway and all of its attached devices or field gateways from any other network traffic.</span></span> <span data-ttu-id="74578-205">gateway de nuvem Olá em si não é um sistema de controle de dispositivo nem um processamento ou depósito de dados do dispositivo; Esses recursos de interajam com o gateway de nuvem hello.</span><span class="sxs-lookup"><span data-stu-id="74578-205">hello cloud gateway itself is neither a device control system nor a processing or storage facility for device data; those facilities interface with hello cloud gateway.</span></span> <span data-ttu-id="74578-206">zona de gateway de nuvem de saudação inclui Olá nuvem próprio gateway junto com todos os gateways de campo e dispositivos direta ou indiretamente conectado tooit.</span><span class="sxs-lookup"><span data-stu-id="74578-206">hello cloud gateway zone includes hello cloud gateway itself along with all field gateways and devices directly or indirectly attached tooit.</span></span> <span data-ttu-id="74578-207">borda de saudação da zona de saudação é uma área de superfície distinta onde todos os parceiros externos se comunicam através de.</span><span class="sxs-lookup"><span data-stu-id="74578-207">hello edge of hello zone is a distinct surface area where all external parties communicate through.</span></span>

### <a name="hello-services-zone"></a><span data-ttu-id="74578-208">zona de serviços Olá</span><span class="sxs-lookup"><span data-stu-id="74578-208">hello services zone</span></span>
<span data-ttu-id="74578-209">Um "serviço" é definido para este contexto como qualquer componente de software ou módulo que faz interface com dispositivos através de um gateway de nuvem ou campo para coleta e análise de dados, bem como para o comando e controle.</span><span class="sxs-lookup"><span data-stu-id="74578-209">A “service” is defined for this context as any software component or module that is interfacing with devices through a field- or cloud gateway for data collection and analysis, as well as for command and control.</span></span>  <span data-ttu-id="74578-210">Os serviços são mediadores.</span><span class="sxs-lookup"><span data-stu-id="74578-210">Services are mediators.</span></span> <span data-ttu-id="74578-211">Atuar em sua identidade com relação a gateways e outros subsistemas, armazenar e analisar dados, autonomia problema comandos toodevices com base em análises de dados ou agendas e expor informações e controle de recursos tooauthorized os usuários finais.</span><span class="sxs-lookup"><span data-stu-id="74578-211">They act under their identity towards gateways and other subsystems, store and analyze data, autonomously issue commands toodevices based on data insights or schedules and expose information and control capabilities tooauthorized end-users.</span></span>

### <a name="information-devices-vs-special-purpose-devices"></a><span data-ttu-id="74578-212">Dispositivos de informações vs. dispositivos de finalidade especial</span><span class="sxs-lookup"><span data-stu-id="74578-212">Information-devices vs. special-purpose devices</span></span>
<span data-ttu-id="74578-213">PCs, telefones e tablets são basicamente dispositivos de informações interativos.</span><span class="sxs-lookup"><span data-stu-id="74578-213">PCs, phones, and tablets are primarily interactive information devices.</span></span> <span data-ttu-id="74578-214">Os telefones e tablets são explicitamente otimizados em função de maximizar o tempo de vida da bateria.</span><span class="sxs-lookup"><span data-stu-id="74578-214">Phones and tablets are explicitly optimized around maximizing battery lifetime.</span></span> <span data-ttu-id="74578-215">Eles preferencialmente desativar parcialmente quando não imediatamente interagir com uma pessoa, ou quando não fornecendo serviços como reproduzir música ou guiando proprietário tooa determinado local.</span><span class="sxs-lookup"><span data-stu-id="74578-215">They preferably turn off partially when not immediately interacting with a person, or when not providing services like playing music or guiding their owner tooa particular location.</span></span> <span data-ttu-id="74578-216">De uma perspectiva de sistemas, esses dispositivos de tecnologia da informação atuam principalmente como proxies para as pessoas.</span><span class="sxs-lookup"><span data-stu-id="74578-216">From a systems perspective, these information technology devices are mainly acting as proxies towards people.</span></span> <span data-ttu-id="74578-217">Eles são "acionadores de pessoas" sugerindo ações e "sensores de pessoas" coletando informações.</span><span class="sxs-lookup"><span data-stu-id="74578-217">They are “people actuators” suggesting actions and “people sensors” collecting input.</span></span> 

<span data-ttu-id="74578-218">Dispositivos com finalidade especial, de linhas de produção de fábrica temperatura simples sensores toocomplex com milhares de componentes dentro deles, são diferentes.</span><span class="sxs-lookup"><span data-stu-id="74578-218">Special-purpose devices, from simple temperature sensors toocomplex factory production lines with thousands of components inside them, are different.</span></span> <span data-ttu-id="74578-219">Esses dispositivos têm o escopo muito mais na finalidade e mesmo que eles fornecem alguma interface de usuário, elas são amplamente escopo toointerfacing com ou ser integradas em ativos em Olá, mundo físico.</span><span class="sxs-lookup"><span data-stu-id="74578-219">These devices are much more scoped in purpose and even if they provide some user interface, they are largely scoped toointerfacing with or be integrated into assets in hello physical world.</span></span> <span data-ttu-id="74578-220">Eles medem e relatam circunstâncias ambientais, ativar válvulas, controlam servos, soam alarmes, alternar luzes e realizam várias outras tarefas.</span><span class="sxs-lookup"><span data-stu-id="74578-220">They measure and report environmental circumstances, turn valves, control servos, sound alarms, switch lights, and do many other tasks.</span></span> <span data-ttu-id="74578-221">Eles ajudam a toodo de trabalho para que um dispositivo de informações é genérico muito, muito caro, muito grande ou muito frágil.</span><span class="sxs-lookup"><span data-stu-id="74578-221">They help toodo work for which an information device is either too generic, too expensive, too big, or too brittle.</span></span> <span data-ttu-id="74578-222">finalidade concreta Olá impõe imediatamente seu design técnico como Olá bem disponível monetário orçamento sua produção e operação agendada do tempo de vida.</span><span class="sxs-lookup"><span data-stu-id="74578-222">hello concrete purpose immediately dictates their technical design as well hello available monetary budget for their production and scheduled lifetime operation.</span></span> <span data-ttu-id="74578-223">combinação de saudação desses dois fatores-chave restringe Olá operacional alocação de energia, espaço físico e, portanto, o armazenamento disponível, computação disponíveis e recursos de segurança.</span><span class="sxs-lookup"><span data-stu-id="74578-223">hello combination of these two key factors constrains hello available operational energy budget, physical footprint, and thus available storage, compute, and security capabilities.</span></span>  

<span data-ttu-id="74578-224">Se algo "vai incorreto" com dispositivos controláveis automatizados ou remotos, por exemplo, defeitos físicos ou toowillful de defeitos de lógica de controle não autorizados invasões e manipulação.</span><span class="sxs-lookup"><span data-stu-id="74578-224">If something “goes wrong” with automated or remote controllable devices, for example, physical defects or control logic defects toowillful unauthorized intrusion and manipulation.</span></span> <span data-ttu-id="74578-225">muitos de produção de Hello podem ter sido destruídos, edifícios podem ser sacados ou gravados para baixo e as pessoas podem ser chip ferido ou até mesmo.</span><span class="sxs-lookup"><span data-stu-id="74578-225">hello production lots may be destroyed, buildings may be looted or burned down, and people may be injured or even die.</span></span> <span data-ttu-id="74578-226">Isso é, obviamente, uma classe totalmente diferente de danos do que alguém maximizando o limite de um cartão de crédito roubado.</span><span class="sxs-lookup"><span data-stu-id="74578-226">This is, of course, a whole different class of damage than someone maxing out a stolen credit card's limit.</span></span> <span data-ttu-id="74578-227">Olá barreira de segurança para dispositivos que fazem coisas mover, e também para dados de sensor que eventualmente resulta em comandos que causam toomove coisas, deve ser maior que em qualquer cenário de transações bancárias ou comércio eletrônico.</span><span class="sxs-lookup"><span data-stu-id="74578-227">hello security bar for devices that make things move, and also for sensor data that eventually results in commands that cause things toomove, must be higher than in any e-commerce or banking scenario.</span></span> 

### <a name="device-control-and-device-data-interactions"></a><span data-ttu-id="74578-228">Controle de dispositivos e interações de dados do dispositivo</span><span class="sxs-lookup"><span data-stu-id="74578-228">Device control and device data interactions</span></span>
<span data-ttu-id="74578-229">Dispositivos conectados de finalidade especial tem um número significativo de áreas da superfície potencial interação e padrões de interação, que deve ser considerado tooprovide uma estrutura para proteger o acesso digital toothose dispositivos.</span><span class="sxs-lookup"><span data-stu-id="74578-229">Connected special-purpose devices have a significant number of potential interaction surface areas and interaction patterns, all of which must be considered tooprovide a framework for securing digital access toothose devices.</span></span> <span data-ttu-id="74578-230">termo Hello "digital access" é usado toodistinguish aqui de todas as operações que são executadas por meio da interação direta do dispositivo onde a segurança de acesso é fornecida por meio do controle de acesso físico.</span><span class="sxs-lookup"><span data-stu-id="74578-230">hello term “digital access” is used here toodistinguish from any operations that are carried out through direct device interaction where access security is provided through physical access control.</span></span> <span data-ttu-id="74578-231">Por exemplo, colocando dispositivo Olá em uma sala com um bloqueio na porta hello.</span><span class="sxs-lookup"><span data-stu-id="74578-231">For example, putting hello device into a room with a lock on hello door.</span></span> <span data-ttu-id="74578-232">Enquanto o acesso físico não pode ser negado usando hardware e software, medidas podem ser tomadas tooprevent o acesso físico dos principais toosystem interferência.</span><span class="sxs-lookup"><span data-stu-id="74578-232">While physical access cannot be denied using software and hardware, measures can be taken tooprevent physical access from leading toosystem interference.</span></span> 

<span data-ttu-id="74578-233">Como podemos explorar os padrões de interação de hello, examinaremos "controle de dispositivo" e "dados de dispositivo" com o mesmo nível de atenção durante a modelagem de ameaças de hello.</span><span class="sxs-lookup"><span data-stu-id="74578-233">As we explore hello interaction patterns, we will look at “device control” and “device data” with hello same level of attention while threat modeling.</span></span> <span data-ttu-id="74578-234">"Controle de dispositivo" pode ser classificado como qualquer informação fornecida tooa dispositivo por qualquer pessoa com objetivo de saudação de alteração ou influenciar o comportamento para seu estado ou saudação do seu ambiente.</span><span class="sxs-lookup"><span data-stu-id="74578-234">“Device control” can be classified as any information that is provided tooa device by any party with hello goal of changing or influencing its behavior towards its state or hello state of its environment.</span></span> <span data-ttu-id="74578-235">"Dados de dispositivo" podem ser classificados como todas as informações que um dispositivo emite tooany outro participante sobre seu estado e Olá observado o estado do seu ambiente.</span><span class="sxs-lookup"><span data-stu-id="74578-235">“Device data” can be classified as any information that a device emits tooany other party about its state and hello observed state of its environment.</span></span> 

## <a name="threat-modeling-hello-azure-iot-reference-architecture"></a><span data-ttu-id="74578-236">Arquitetura de referência do hello Azure IoT de modelagem de ameaças</span><span class="sxs-lookup"><span data-stu-id="74578-236">Threat modeling hello Azure IoT reference architecture</span></span>
<span data-ttu-id="74578-237">A Microsoft usa framework Olá descrito acima toodo ameaça de modelagem para IoT do Azure.</span><span class="sxs-lookup"><span data-stu-id="74578-237">Microsoft uses hello framework outlined above toodo threat modelling for Azure IoT.</span></span> <span data-ttu-id="74578-238">Na seção de saudação abaixo, portanto, usamos exemplo concreto hello de arquitetura de referência do Azure IoT toodemonstrate como toothink sobre a modelagem de ameaça de IoT e como tooaddress Olá ameaças identificado.</span><span class="sxs-lookup"><span data-stu-id="74578-238">In hello section below we therefore use hello concrete example of Azure IoT Reference Architecture toodemonstrate how toothink about threat modelling for IoT and how tooaddress hello threats identified.</span></span> <span data-ttu-id="74578-239">Em nosso caso, identificamos quatro áreas principais de foco:</span><span class="sxs-lookup"><span data-stu-id="74578-239">In our case we identified four main areas of focus:</span></span>

* <span data-ttu-id="74578-240">Dispositivos e fontes de dados,</span><span class="sxs-lookup"><span data-stu-id="74578-240">Devices and Data Sources,</span></span>
* <span data-ttu-id="74578-241">Transporte de dados,</span><span class="sxs-lookup"><span data-stu-id="74578-241">Data Transport,</span></span>
* <span data-ttu-id="74578-242">Dispositivo e processamento de eventos e</span><span class="sxs-lookup"><span data-stu-id="74578-242">Device and Event Processing, and</span></span>
* <span data-ttu-id="74578-243">Apresentação</span><span class="sxs-lookup"><span data-stu-id="74578-243">Presentation</span></span>

![Modelagem de risco para a IoT do Azure](media/iot-security-architecture/iot-security-architecture-fig2.png) 

<span data-ttu-id="74578-245">diagrama de saudação abaixo fornece uma exibição simplificada de arquitetura de IoT da Microsoft usando um modelo de diagrama de fluxo de dados que é usado pelo Olá, ferramenta de modelagem de ameaças do Microsoft:</span><span class="sxs-lookup"><span data-stu-id="74578-245">hello diagram below provides a simplified view of Microsoft’s IoT Architecture using a Data Flow Diagram model that is used by hello Microsoft Threat Modeling Tool:</span></span>

![Modelagem de risco para a IoT do Azure usando a Ferramenta de Modelagem de Risco da Microsoft](media/iot-security-architecture/iot-security-architecture-fig3.png)

<span data-ttu-id="74578-247">É importante toonote que Olá arquitetura separa os recursos de dispositivo e gateway hello.</span><span class="sxs-lookup"><span data-stu-id="74578-247">It is important toonote that hello architecture separates hello device and gateway capabilities.</span></span> <span data-ttu-id="74578-248">Isso permite Olá usuário tooleverage dispositivos de gateway que são mais seguros: são capazes de se comunicar com o gateway de nuvem de saudação usando protocolos seguros, que geralmente exige maior sobrecarga de processamento que um dispositivo nativo - como um termostato - pôde Fornece por conta própria.</span><span class="sxs-lookup"><span data-stu-id="74578-248">This allows hello user tooleverage gateway devices that are more secure: they are capable of communicating with hello cloud gateway using secure protocols, which typically requires greater processing overhead that a native device  - such as a thermostat - could provide on its own.</span></span> <span data-ttu-id="74578-249">Na zona de serviços do Azure Olá, vamos supor que Olá que gateway de nuvem é representado por Olá serviço Azure IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="74578-249">In hello Azure services zone, we assume that hello Cloud Gateway is represented by hello Azure IoT Hub service.</span></span>

### <a name="device-and-data-sourcesdata-transport"></a><span data-ttu-id="74578-250">Dispositivos e fontes de dados/transporte de dados</span><span class="sxs-lookup"><span data-stu-id="74578-250">Device and data sources/data transport</span></span>
<span data-ttu-id="74578-251">Esta seção explora a arquitetura de saudação descrita acima por meio de Lente de saudação da modelagem de ameaças e fornece uma visão geral de como vamos abordar alguns dos problemas inerentes hello.</span><span class="sxs-lookup"><span data-stu-id="74578-251">This section explores hello architecture outlined above through hello lens of threat modeling and gives an overview of how we are addressing some of hello inherent concerns.</span></span> <span data-ttu-id="74578-252">Vamos nos concentrar em Olá principais elementos de um modelo de ameaça:</span><span class="sxs-lookup"><span data-stu-id="74578-252">We will focus on hello core elements of a threat model:</span></span>

* <span data-ttu-id="74578-253">Processos (aqueles sob nosso controle e itens externos)</span><span class="sxs-lookup"><span data-stu-id="74578-253">Processes (those under our control and external items)</span></span>
* <span data-ttu-id="74578-254">Comunicação (também chamada de fluxos de dados)</span><span class="sxs-lookup"><span data-stu-id="74578-254">Communication (also called data flows)</span></span>
* <span data-ttu-id="74578-255">Armazenamento (também chamado de armazenamentos de dados)</span><span class="sxs-lookup"><span data-stu-id="74578-255">Storage (also called data stores)</span></span>

#### <a name="processes"></a><span data-ttu-id="74578-256">Processos</span><span class="sxs-lookup"><span data-stu-id="74578-256">Processes</span></span>
<span data-ttu-id="74578-257">Em cada uma das categorias de saudação descritas Olá arquitetura IoT do Azure, tentamos toomitigate existe um número de diferentes ameaças em informações da dados Olá diferentes estágios no: processo, a comunicação e o armazenamento.</span><span class="sxs-lookup"><span data-stu-id="74578-257">In each of hello categories outlined in hello Azure IoT architecture, we try toomitigate a number of different threats across hello different stages data/information exists in: process, communication, and storage.</span></span> <span data-ttu-id="74578-258">A seguir apresentamos uma visão geral de hello mais mais comuns para a categoria de "processo" Olá, seguido de uma visão geral de como eles podem ser melhor reduzidos:</span><span class="sxs-lookup"><span data-stu-id="74578-258">Below we give an overview of hello most common ones for hello “process” category, followed by an overview of how these could be best mitigated:</span></span> 

<span data-ttu-id="74578-259">**Falsificação (S)**: um invasor pode extrair o material de chave de criptografia de um dispositivo, no nível de software ou hardware Olá e acessar sistema Olá posteriormente com um dispositivo físico ou virtual diferente em identidade Olá Olá Olá do dispositivo material de chave foi obtido.</span><span class="sxs-lookup"><span data-stu-id="74578-259">**Spoofing (S)**: An attacker may extract cryptographic key material from a device, either at hello software or hardware level, and subsequently access hello system with a different physical or virtual device under hello identity of hello device hello key material has been taken from.</span></span> <span data-ttu-id="74578-260">Uma boa ilustração são os controles remotos que podem ligar qualquer TV e são ferramentas populares dos pregadores de peças.</span><span class="sxs-lookup"><span data-stu-id="74578-260">A good illustration is remote controls that can turn any TV and that are popular prankster tools.</span></span>

<span data-ttu-id="74578-261">**D (Negação de Serviço)**: um dispositivo pode ficar incapaz de funcionar ou se comunicar interferindo com frequências de rádio ou cortando fios.</span><span class="sxs-lookup"><span data-stu-id="74578-261">**Denial of Service (D)**: A device can be rendered incapable of functioning or communicating by interfering with radio frequencies or cutting wires.</span></span> <span data-ttu-id="74578-262">Por exemplo, uma câmera de vigilância que teve sua conexão de rede ou de energia intencionalmente suprimida não relatará dados, de nenhuma maneira.</span><span class="sxs-lookup"><span data-stu-id="74578-262">For example, a surveillance camera that had its power or network connection intentionally knocked out will not report data, at all.</span></span>

<span data-ttu-id="74578-263">**Violação (T)**: um invasor pode parcialmente ou totalmente substituir Olá software em execução no dispositivo hello, permitindo potencialmente Olá Olá substituído software tooleverage original identidade do dispositivo Olá se hello material de chave ou Olá criptográfico recursos que contém o material de chave foram programa ilícito toohello disponíveis.</span><span class="sxs-lookup"><span data-stu-id="74578-263">**Tampering (T)**: An attacker may partially or wholly replace hello software running on hello device, potentially allowing hello replaced software tooleverage hello genuine identity of hello device if hello key material or hello cryptographic facilities holding key materials were available toohello illicit program.</span></span> <span data-ttu-id="74578-264">Por exemplo, um invasor pode aproveitar toointercept material de chave extraída e suprimir os dados de dispositivo Olá no caminho de comunicação hello e substituí-lo com dados falsos que são autenticados com material de chave Olá roubado.</span><span class="sxs-lookup"><span data-stu-id="74578-264">For example, an attacker may leverage extracted key material toointercept and suppress data from hello device on hello communication path and replace it with false data that is authenticated with hello stolen key material.</span></span>

<span data-ttu-id="74578-265">**Divulgação de informações (I)**: se o dispositivo hello está executando o software manipulado, esse software manipulado potencialmente pode vazar partes de toounauthorized de dados.</span><span class="sxs-lookup"><span data-stu-id="74578-265">**Information Disclosure (I)**: If hello device is running manipulated software, such manipulated software could potentially leak data toounauthorized parties.</span></span> <span data-ttu-id="74578-266">Por exemplo, um invasor pode aproveitar extraído chave material tooinject em si no caminho de comunicação Olá entre o dispositivo hello e um gateway de campo ou de controlador ou gateway toosiphon as informações de nuvem.</span><span class="sxs-lookup"><span data-stu-id="74578-266">For example, an attacker may leverage extracted key material tooinject itself into hello communication path between hello device and a controller or field gateway or cloud gateway toosiphon off information.</span></span>

<span data-ttu-id="74578-267">**Elevação de privilégio (E)**: um dispositivo que executa a função específica pode ser forçado toodo algo mais.</span><span class="sxs-lookup"><span data-stu-id="74578-267">**Elevation of Privilege (E)**: A device that does specific function can be forced toodo something else.</span></span> <span data-ttu-id="74578-268">Por exemplo, uma válvula que é programado tooopen metade forma pode ser levado tooopen todos Olá maneira.</span><span class="sxs-lookup"><span data-stu-id="74578-268">For example, a valve that is programmed tooopen half way can be tricked tooopen all hello way.</span></span>

| <span data-ttu-id="74578-269">**Componente**</span><span class="sxs-lookup"><span data-stu-id="74578-269">**Component**</span></span> | <span data-ttu-id="74578-270">**Ameaça**</span><span class="sxs-lookup"><span data-stu-id="74578-270">**Threat**</span></span> | <span data-ttu-id="74578-271">**Mitigação**</span><span class="sxs-lookup"><span data-stu-id="74578-271">**Mitigation**</span></span> | <span data-ttu-id="74578-272">**Risco**</span><span class="sxs-lookup"><span data-stu-id="74578-272">**Risk**</span></span> | <span data-ttu-id="74578-273">**Implementação**</span><span class="sxs-lookup"><span data-stu-id="74578-273">**Implementation**</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="74578-274">Dispositivo</span><span class="sxs-lookup"><span data-stu-id="74578-274">Device</span></span> |<span data-ttu-id="74578-275">S</span><span class="sxs-lookup"><span data-stu-id="74578-275">S</span></span> |<span data-ttu-id="74578-276">Atribuição de dispositivo de toohello de identidade e autenticação de dispositivo Olá</span><span class="sxs-lookup"><span data-stu-id="74578-276">Assigning identity toohello device and authenticating hello device</span></span> |<span data-ttu-id="74578-277">Substituindo o dispositivo ou parte de um dispositivo de saudação por algum outro dispositivo.</span><span class="sxs-lookup"><span data-stu-id="74578-277">Replacing device or part of hello device with some other device.</span></span> <span data-ttu-id="74578-278">Como sabemos que falamos dispositivo certo toohello?</span><span class="sxs-lookup"><span data-stu-id="74578-278">How do we know we are talking toohello right device?</span></span> |<span data-ttu-id="74578-279">Autenticação de dispositivo hello, usando a segurança de camada de transporte (TLS) ou IPSec.</span><span class="sxs-lookup"><span data-stu-id="74578-279">Authenticating hello device, using Transport Layer Security (TLS) or IPSec.</span></span> <span data-ttu-id="74578-280">A infraestrutura deve dar suporte ao uso da PSK (chave pré-compartilhada) nos dispositivos que não conseguem lidar com a criptografia assimétrica completa.</span><span class="sxs-lookup"><span data-stu-id="74578-280">Infrastructure should support using pre-shared key (PSK) on those devices that cannot handle full asymmetric cryptography.</span></span> <span data-ttu-id="74578-281">Aproveite o Azure AD, o [OAuth](http://www.rfc-editor.org/in-notes/internet-drafts/draft-ietf-ace-oauth-authz-01.txt)</span><span class="sxs-lookup"><span data-stu-id="74578-281">Leverage Azure AD, [OAuth](http://www.rfc-editor.org/in-notes/internet-drafts/draft-ietf-ace-oauth-authz-01.txt)</span></span> |
| <span data-ttu-id="74578-282">TRID</span><span class="sxs-lookup"><span data-stu-id="74578-282">TRID</span></span> |<span data-ttu-id="74578-283">Aplica o dispositivo de toohello mecanismos inviolável por exemplo, tornando difícil tooimpossible tooextract chaves e outro material criptográfico de dispositivo de saudação.</span><span class="sxs-lookup"><span data-stu-id="74578-283">Apply tamperproof mechanisms toohello device for example by making it very hard tooimpossible tooextract keys and other cryptographic material from hello device.</span></span> |<span data-ttu-id="74578-284">risco de saudação é se alguém é a violação dispositivo hello (interferência física).</span><span class="sxs-lookup"><span data-stu-id="74578-284">hello risk is if someone is tampering hello device (physical interference).</span></span> <span data-ttu-id="74578-285">Como temos certeza de que o dispositivo não foi adulterado.</span><span class="sxs-lookup"><span data-stu-id="74578-285">How are we sure, that device has not tampered with.</span></span> |<span data-ttu-id="74578-286">mitigação mais eficiente de saudação é um recurso de module (TPM) de plataforma confiável que permite armazenar chaves no circuito de no chip especial de quais Olá chaves não podem ser lido, mas só podem ser usadas para operações criptográficas que usam a chave hello, mas nunca divulguem chave Olá .</span><span class="sxs-lookup"><span data-stu-id="74578-286">hello most effective mitigation is a trusted platform module (TPM) capability that allows storing keys in special on-chip circuitry from which hello keys cannot be read, but can only be used for cryptographic operations that use hello key but never disclose hello key.</span></span> <span data-ttu-id="74578-287">Criptografia de memória do dispositivo de saudação.</span><span class="sxs-lookup"><span data-stu-id="74578-287">Memory encryption of hello device.</span></span> <span data-ttu-id="74578-288">Gerenciamento de chaves para dispositivo hello.</span><span class="sxs-lookup"><span data-stu-id="74578-288">Key management for hello device.</span></span> <span data-ttu-id="74578-289">Assinatura de código de saudação.</span><span class="sxs-lookup"><span data-stu-id="74578-289">Signing hello code.</span></span> | |
| <span data-ttu-id="74578-290">E</span><span class="sxs-lookup"><span data-stu-id="74578-290">E</span></span> |<span data-ttu-id="74578-291">Com o controle de acesso do dispositivo hello.</span><span class="sxs-lookup"><span data-stu-id="74578-291">Having access control of hello device.</span></span> <span data-ttu-id="74578-292">Esquema de autorização.</span><span class="sxs-lookup"><span data-stu-id="74578-292">Authorization scheme.</span></span> |<span data-ttu-id="74578-293">Se o dispositivo Olá permite para ações individuais toobe executadas com base em comandos de uma fonte externa, ou até mesmo comprometido sensores, ele permitirá ataque Olá tooperform operações caso contrário, não está acessível.</span><span class="sxs-lookup"><span data-stu-id="74578-293">If hello device allows for individual actions toobe performed based on commands from an outside source, or even compromised sensors, it will allow hello attack tooperform operations not otherwise accessible.</span></span> |<span data-ttu-id="74578-294">Com o esquema de autorização de dispositivo Olá</span><span class="sxs-lookup"><span data-stu-id="74578-294">Having authorization scheme for hello device</span></span> | |
| <span data-ttu-id="74578-295">Gateway de campo</span><span class="sxs-lookup"><span data-stu-id="74578-295">Field Gateway</span></span> |<span data-ttu-id="74578-296">S</span><span class="sxs-lookup"><span data-stu-id="74578-296">S</span></span> |<span data-ttu-id="74578-297">Autenticando Olá campo gateway tooCloud Gateway (cert com base, PSK, declaração com base,...)</span><span class="sxs-lookup"><span data-stu-id="74578-297">Authenticating hello Field gateway tooCloud Gateway (cert based, PSK, Claim based,..)</span></span> |<span data-ttu-id="74578-298">Se alguém pode falsificar o gateway de campo, pode se apresentar como qualquer dispositivo.</span><span class="sxs-lookup"><span data-stu-id="74578-298">If someone can spoof Field Gateway, then it can present itself as any device.</span></span> |<span data-ttu-id="74578-299">TLS RSA/PSK, IPSec, [RFC 4279](https://tools.ietf.org/html/rfc4279).</span><span class="sxs-lookup"><span data-stu-id="74578-299">TLS RSA/PSK, IPSec, [RFC 4279](https://tools.ietf.org/html/rfc4279).</span></span> <span data-ttu-id="74578-300">Todos os Olá mesmo armazenamento de chaves e preocupações de atestado de dispositivos em geral – caso melhor é usar o TPM.</span><span class="sxs-lookup"><span data-stu-id="74578-300">All hello same key storage and attestation concerns of devices in general – best case is use TPM.</span></span> <span data-ttu-id="74578-301">Extensão de 6LowPAN para IPSec toosupport sem fio Sensor de redes (WSN).</span><span class="sxs-lookup"><span data-stu-id="74578-301">6LowPAN extension for IPSec toosupport Wireless Sensor Networks (WSN).</span></span> |
| <span data-ttu-id="74578-302">TRID</span><span class="sxs-lookup"><span data-stu-id="74578-302">TRID</span></span> |<span data-ttu-id="74578-303">Proteger a saudação campo Gateway contra violação (TPM)?</span><span class="sxs-lookup"><span data-stu-id="74578-303">Protect hello Field Gateway against tampering (TPM?)</span></span> |<span data-ttu-id="74578-304">Gateway que instruir o gateway de nuvem Olá pensar que está se comunicando toofield ataques de falsificação pode resultar em divulgação de informações e violação de dados</span><span class="sxs-lookup"><span data-stu-id="74578-304">Spoofing attacks that trick hello cloud gateway thinking it is talking toofield gateway could result in information disclosure and data tampering</span></span> |<span data-ttu-id="74578-305">Criptografia da memória, TPM, autenticação.</span><span class="sxs-lookup"><span data-stu-id="74578-305">Memory encryption, TPM’s, authentication.</span></span> | |
| <span data-ttu-id="74578-306">E</span><span class="sxs-lookup"><span data-stu-id="74578-306">E</span></span> |<span data-ttu-id="74578-307">Mecanismo de controle de acesso para o gateway de campo</span><span class="sxs-lookup"><span data-stu-id="74578-307">Access control mechanism for Field Gateway</span></span> | | | |

<span data-ttu-id="74578-308">Aqui estão alguns exemplos de ameaças nesta categoria:</span><span class="sxs-lookup"><span data-stu-id="74578-308">Here are some examples of threats in this category:</span></span>

<span data-ttu-id="74578-309">Falsificação: Um invasor pode extrair material de chave de criptografia de um dispositivo, no nível de software ou hardware hello e, subsequentemente, acesso de sistema Olá com um dispositivo físico ou virtual diferente na identidade de saudação do material de chave dispositivo Olá Olá foi obtido.</span><span class="sxs-lookup"><span data-stu-id="74578-309">Spoofing: An attacker may extract cryptographic key material from a device, either at hello software or hardware level, and subsequently access hello system with a different physical or virtual device under hello identity of hello device hello key material has been taken from.</span></span>

<span data-ttu-id="74578-310">**Negação de Serviço**: um dispositivo pode ficar incapaz de funcionar ou de se comunicar interferindo em frequências de rádio ou cortando fios.</span><span class="sxs-lookup"><span data-stu-id="74578-310">**Denial of Service**: A device can be rendered incapable of functioning or communicating by interfering with radio frequencies or cutting wires.</span></span> <span data-ttu-id="74578-311">Por exemplo, uma câmera de vigilância que teve sua conexão de rede ou de energia intencionalmente suprimida não relatará dados, de nenhuma maneira.</span><span class="sxs-lookup"><span data-stu-id="74578-311">For example, a surveillance camera that had its power or network connection intentionally knocked out will not report data, at all.</span></span>

<span data-ttu-id="74578-312">**Violação**: um invasor pode parcialmente ou totalmente substituir Olá software em execução no dispositivo hello, permitindo potencialmente Olá Olá substituído software tooleverage original identidade do dispositivo Olá se hello material de chave ou Olá criptográfico recursos que contém o material de chave foram programa ilícito toohello disponíveis.</span><span class="sxs-lookup"><span data-stu-id="74578-312">**Tampering**: An attacker may partially or wholly replace hello software running on hello device, potentially allowing hello replaced software tooleverage hello genuine identity of hello device if hello key material or hello cryptographic facilities holding key materials were available toohello illicit program.</span></span>

<span data-ttu-id="74578-313">**Violação**: uma câmera de vigilância que está mostrando uma imagem de espectro visível de um corredor vazio pode ser direcionada a uma fotografia de tal um corredor.</span><span class="sxs-lookup"><span data-stu-id="74578-313">**Tampering**: A surveillance camera that’s showing a visible-spectrum picture of an empty hallway could be aimed at a photograph of such a hallway.</span></span> <span data-ttu-id="74578-314">Um sensor de fumaça ou incêndio pode relatar alguém segurando um isqueiro sob ele.</span><span class="sxs-lookup"><span data-stu-id="74578-314">A smoke or fire sensor could be reporting someone holding a lighter under it.</span></span> <span data-ttu-id="74578-315">Em ambos os casos, Olá dispositivo pode ser tecnicamente totalmente confiável para o sistema hello, mas ele reporta informações manipuladas.</span><span class="sxs-lookup"><span data-stu-id="74578-315">In either case, hello device may be technically fully trustworthy towards hello system, but it will report manipulated information.</span></span>

<span data-ttu-id="74578-316">**Violação**: um invasor pode aproveitar toointercept material de chave extraída e suprimir os dados de dispositivo Olá no caminho de comunicação hello e substituí-lo com dados falsos que são autenticados com material de chave Olá roubado.</span><span class="sxs-lookup"><span data-stu-id="74578-316">**Tampering**: An attacker may leverage extracted key material toointercept and suppress data from hello device on hello communication path and replace it with false data that is authenticated with hello stolen key material.</span></span>

<span data-ttu-id="74578-317">**Violação**: um invasor pode parcialmente ou totalmente substituir Olá software em execução no dispositivo hello, permitindo potencialmente Olá Olá substituído software tooleverage original identidade do dispositivo Olá se hello material de chave ou Olá criptográfico recursos que contém o material de chave foram programa ilícito toohello disponíveis.</span><span class="sxs-lookup"><span data-stu-id="74578-317">**Tampering**: An attacker may partially or completely replace hello software running on hello device, potentially allowing hello replaced software tooleverage hello genuine identity of hello device if hello key material or hello cryptographic facilities holding key materials were available toohello illicit program.</span></span>

<span data-ttu-id="74578-318">**Divulgação de informações**: se o dispositivo hello está executando o software manipulado, esse software manipulado potencialmente pode vazar partes de toounauthorized de dados.</span><span class="sxs-lookup"><span data-stu-id="74578-318">**Information Disclosure**: If hello device is running manipulated software, such manipulated software could potentially leak data toounauthorized parties.</span></span>

<span data-ttu-id="74578-319">**Divulgação de informações**: um invasor pode aproveitar extraído chave material tooinject em si no caminho de comunicação Olá entre o dispositivo hello e um gateway de campo ou de controlador ou gateway toosiphon as informações de nuvem.</span><span class="sxs-lookup"><span data-stu-id="74578-319">**Information Disclosure**: An attacker may leverage extracted key material tooinject itself into hello communication path between hello device and a controller or field gateway or cloud gateway toosiphon off information.</span></span>

<span data-ttu-id="74578-320">**Negação de serviço**: dispositivo Olá pode ser desativado ou ativado em um modo em que a comunicação não é possível (que é intencional em muitas máquinas industriais).</span><span class="sxs-lookup"><span data-stu-id="74578-320">**Denial of Service**: hello device can be turned off or turned into a mode where communication is not possible (which is intentional in many industrial machines).</span></span>

<span data-ttu-id="74578-321">**Violação**: dispositivo Olá pode ser reconfigurado toooperate em um estado desconhecido toohello sistema (fora de parâmetros de calibragem conhecido) de controle e, portanto, fornecer dados que podem ser interpretados incorretamente</span><span class="sxs-lookup"><span data-stu-id="74578-321">**Tampering**: hello device can be reconfigured toooperate in a state unknown toohello control system (outside of known calibration parameters) and thus provide data that can be misinterpreted</span></span>

<span data-ttu-id="74578-322">**Elevação de privilégio**: um dispositivo que executa a função específica pode ser forçado toodo algo mais.</span><span class="sxs-lookup"><span data-stu-id="74578-322">**Elevation of Privilege**: A device that does specific function can be forced toodo something else.</span></span> <span data-ttu-id="74578-323">Por exemplo, uma válvula que é programado tooopen metade forma pode ser levado tooopen todos Olá maneira.</span><span class="sxs-lookup"><span data-stu-id="74578-323">For example, a valve that is programmed tooopen half way can be tricked tooopen all hello way.</span></span>

<span data-ttu-id="74578-324">**Negação de serviço**: Olá dispositivo pode ser ativado em um estado em que a comunicação não é possível.</span><span class="sxs-lookup"><span data-stu-id="74578-324">**Denial of Service**: hello device can be turned into a state where communication is not possible.</span></span>

<span data-ttu-id="74578-325">**Violação**: dispositivo Olá pode ser reconfigurado toooperate em um estado desconhecido toohello sistema (fora de parâmetros de calibragem conhecido) de controle e, portanto, fornecer dados que podem ser interpretados incorretamente.</span><span class="sxs-lookup"><span data-stu-id="74578-325">**Tampering**: hello device can be reconfigured toooperate in a state unknown toohello control system (outside of known calibration parameters) and thus provide data that can be misinterpreted.</span></span>

<span data-ttu-id="74578-326">**Falsificação/violação/recusa**: se não protegidos (que é raramente Olá caso controles remotos do consumidor) um invasor pode manipular o estado de saudação de um dispositivo anonimamente.</span><span class="sxs-lookup"><span data-stu-id="74578-326">**Spoofing/Tampering/Repudiation**: If not secured (which is rarely hello case with consumer remote controls) an attacker can manipulate hello state of a device anonymously.</span></span> <span data-ttu-id="74578-327">Uma boa ilustração são os controles remotos que podem ligar qualquer TV e são ferramentas populares dos pregadores de peças.</span><span class="sxs-lookup"><span data-stu-id="74578-327">A good illustration is remote controls that can turn any TV and that are popular prankster tools.</span></span>

#### <a name="communication"></a><span data-ttu-id="74578-328">Comunicação</span><span class="sxs-lookup"><span data-stu-id="74578-328">Communication</span></span>
<span data-ttu-id="74578-329">Ameaças em torno do caminho de comunicação entre dispositivos, dispositivos e gateways de campo e dispositivos e gateway de nuvem.</span><span class="sxs-lookup"><span data-stu-id="74578-329">Threats around communication path between devices, devices and field gateways and device and cloud gateway.</span></span> <span data-ttu-id="74578-330">tabela de saudação abaixo tem algumas diretrizes em torno de soquetes abertos no dispositivo/VPN hello:</span><span class="sxs-lookup"><span data-stu-id="74578-330">hello table below has some guidance around open sockets on hello device/VPN:</span></span>

| <span data-ttu-id="74578-331">**Componente**</span><span class="sxs-lookup"><span data-stu-id="74578-331">**Component**</span></span> | <span data-ttu-id="74578-332">**Ameaça**</span><span class="sxs-lookup"><span data-stu-id="74578-332">**Threat**</span></span> | <span data-ttu-id="74578-333">**Mitigação**</span><span class="sxs-lookup"><span data-stu-id="74578-333">**Mitigation**</span></span> | <span data-ttu-id="74578-334">**Risco**</span><span class="sxs-lookup"><span data-stu-id="74578-334">**Risk**</span></span> | <span data-ttu-id="74578-335">**Implementação**</span><span class="sxs-lookup"><span data-stu-id="74578-335">**Implementation**</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="74578-336">Hub IoT de dispositivo</span><span class="sxs-lookup"><span data-stu-id="74578-336">Device IoT Hub</span></span> |<span data-ttu-id="74578-337">TID</span><span class="sxs-lookup"><span data-stu-id="74578-337">TID</span></span> |<span data-ttu-id="74578-338">(D) Tráfego de saudação tooencrypt TLS (PSK/RSA)</span><span class="sxs-lookup"><span data-stu-id="74578-338">(D)TLS (PSK/RSA) tooencrypt hello traffic</span></span> |<span data-ttu-id="74578-339">Interceptação ou interferir comunicação Olá entre dispositivos hello e gateway Olá</span><span class="sxs-lookup"><span data-stu-id="74578-339">Eavesdropping or interfering hello communication between hello device and hello gateway</span></span> |<span data-ttu-id="74578-340">Segurança em nível de protocolo de saudação.</span><span class="sxs-lookup"><span data-stu-id="74578-340">Security on hello protocol level.</span></span> <span data-ttu-id="74578-341">Com protocolos personalizados, precisamos toofigure como tooprotect-los.</span><span class="sxs-lookup"><span data-stu-id="74578-341">With custom protocols, we need toofigure out how tooprotect them.</span></span> <span data-ttu-id="74578-342">Na maioria dos casos, a saudação comunicação ocorre da saudação dispositivo toohello IoT Hub (dispositivo inicia a conexão de saudação).</span><span class="sxs-lookup"><span data-stu-id="74578-342">In most cases, hello communication takes place from hello device toohello IoT Hub (device initiates hello connection).</span></span> |
| <span data-ttu-id="74578-343">Dispositivo</span><span class="sxs-lookup"><span data-stu-id="74578-343">Device Device</span></span> |<span data-ttu-id="74578-344">TID</span><span class="sxs-lookup"><span data-stu-id="74578-344">TID</span></span> |<span data-ttu-id="74578-345">(D) Tráfego de saudação tooencrypt TLS (PSK/RSA).</span><span class="sxs-lookup"><span data-stu-id="74578-345">(D)TLS (PSK/RSA) tooencrypt hello traffic.</span></span> |<span data-ttu-id="74578-346">Leitura de dados em trânsito entre os dispositivos.</span><span class="sxs-lookup"><span data-stu-id="74578-346">Reading data in transit between devices.</span></span> <span data-ttu-id="74578-347">Adulteração de dados de saudação.</span><span class="sxs-lookup"><span data-stu-id="74578-347">Tampering with hello data.</span></span> <span data-ttu-id="74578-348">Sobrecarga de dispositivo de saudação com novas conexões</span><span class="sxs-lookup"><span data-stu-id="74578-348">Overloading hello device with new connections</span></span> |<span data-ttu-id="74578-349">Segurança em nível de protocolo hello (MQTT/AMQP/HTTP/CoAP.</span><span class="sxs-lookup"><span data-stu-id="74578-349">Security on hello protocol level (MQTT/AMQP/HTTP/CoAP.</span></span> <span data-ttu-id="74578-350">Com protocolos personalizados, precisamos toofigure como tooprotect-los.</span><span class="sxs-lookup"><span data-stu-id="74578-350">With custom protocols, we need toofigure out how tooprotect them.</span></span> <span data-ttu-id="74578-351">atenuação Olá Olá ameaça DoS é toopeer dispositivos por meio de um gateway de nuvem ou campo e tê-los apenas atuar como clientes para a rede de saudação.</span><span class="sxs-lookup"><span data-stu-id="74578-351">hello mitigation for hello DoS threat is toopeer devices through a cloud or field gateway and have them only act as clients towards hello network.</span></span> <span data-ttu-id="74578-352">Olá emparelhamento pode resultar em uma conexão direta entre pares de saudação após ter sido orientadas pelo gateway Olá</span><span class="sxs-lookup"><span data-stu-id="74578-352">hello peering may result in a direct connection between hello peers after having been brokered by hello gateway</span></span> |
| <span data-ttu-id="74578-353">Dispositivo de entidade externa</span><span class="sxs-lookup"><span data-stu-id="74578-353">External Entity Device</span></span> |<span data-ttu-id="74578-354">TID</span><span class="sxs-lookup"><span data-stu-id="74578-354">TID</span></span> |<span data-ttu-id="74578-355">Emparelhamento de alta segurança de dispositivo de toohello Olá entidade externa</span><span class="sxs-lookup"><span data-stu-id="74578-355">Strong pairing of hello external entity toohello device</span></span> |<span data-ttu-id="74578-356">Dispositivo de toohello de conexão de interceptação hello.</span><span class="sxs-lookup"><span data-stu-id="74578-356">Eavesdropping hello connection toohello device.</span></span> <span data-ttu-id="74578-357">Comunicação de saudação interferindo com dispositivo Olá</span><span class="sxs-lookup"><span data-stu-id="74578-357">Interfering hello communication with hello device</span></span> |<span data-ttu-id="74578-358">Emparelhamento com segurança de dispositivo toohello da entidade externa Olá LE NFC/Bluetooth.</span><span class="sxs-lookup"><span data-stu-id="74578-358">Securely pairing hello external entity toohello device NFC/Bluetooth LE.</span></span> <span data-ttu-id="74578-359">Controlando o painel de Olá operacional do dispositivo da saudação (física)</span><span class="sxs-lookup"><span data-stu-id="74578-359">Controlling hello operational panel of hello device (Physical)</span></span> |
| <span data-ttu-id="74578-360">Gateway de nuvem de Gateway de campo</span><span class="sxs-lookup"><span data-stu-id="74578-360">Field Gateway Cloud Gateway</span></span> |<span data-ttu-id="74578-361">TID</span><span class="sxs-lookup"><span data-stu-id="74578-361">TID</span></span> |<span data-ttu-id="74578-362">Tráfego de saudação tooencrypt TLS (PSK/RSA).</span><span class="sxs-lookup"><span data-stu-id="74578-362">TLS (PSK/RSA) tooencrypt hello traffic.</span></span> |<span data-ttu-id="74578-363">Interceptação ou interferir comunicação Olá entre dispositivos hello e gateway Olá</span><span class="sxs-lookup"><span data-stu-id="74578-363">Eavesdropping or interfering hello communication between hello device and hello gateway</span></span> |<span data-ttu-id="74578-364">Segurança em nível de protocolo hello (MQTT/AMQP/HTTP/CoAP).</span><span class="sxs-lookup"><span data-stu-id="74578-364">Security on hello protocol level (MQTT/AMQP/HTTP/CoAP).</span></span> <span data-ttu-id="74578-365">Com protocolos personalizados, precisamos toofigure como tooprotect-los.</span><span class="sxs-lookup"><span data-stu-id="74578-365">With custom protocols, we need toofigure out how tooprotect them.</span></span> |
| <span data-ttu-id="74578-366">Gateway de nuvem do dispositivo</span><span class="sxs-lookup"><span data-stu-id="74578-366">Device Cloud Gateway</span></span> |<span data-ttu-id="74578-367">TID</span><span class="sxs-lookup"><span data-stu-id="74578-367">TID</span></span> |<span data-ttu-id="74578-368">Tráfego de saudação tooencrypt TLS (PSK/RSA).</span><span class="sxs-lookup"><span data-stu-id="74578-368">TLS (PSK/RSA) tooencrypt hello traffic.</span></span> |<span data-ttu-id="74578-369">Interceptação ou interferir comunicação Olá entre dispositivos hello e gateway Olá</span><span class="sxs-lookup"><span data-stu-id="74578-369">Eavesdropping or interfering hello communication between hello device and hello gateway</span></span> |<span data-ttu-id="74578-370">Segurança em nível de protocolo hello (MQTT/AMQP/HTTP/CoAP).</span><span class="sxs-lookup"><span data-stu-id="74578-370">Security on hello protocol level (MQTT/AMQP/HTTP/CoAP).</span></span> <span data-ttu-id="74578-371">Com protocolos personalizados, precisamos toofigure como tooprotect-los.</span><span class="sxs-lookup"><span data-stu-id="74578-371">With custom protocols, we need toofigure out how tooprotect them.</span></span> |

<span data-ttu-id="74578-372">Aqui estão alguns exemplos de ameaças nesta categoria:</span><span class="sxs-lookup"><span data-stu-id="74578-372">Here are some examples of threats in this category:</span></span>

<span data-ttu-id="74578-373">**Negação de serviço**: dispositivos restritos geralmente são sob ameaça DoS quando eles escutam ativamente para conexões de entrada ou datagramas não solicitadas em uma rede, pois um invasor pode abrir várias conexões em paralelo e não atender ou de serviço eles muito lentamente ou hello dispositivo pode ser inundado com tráfego não solicitado.</span><span class="sxs-lookup"><span data-stu-id="74578-373">**Denial of Service**: Constrained devices are generally under DoS threat when they actively listen for inbound connections or unsolicited datagrams on a network, because an attacker can open many connections in parallel and not service them or service them very slowly, or hello device can be flooded with unsolicited traffic.</span></span> <span data-ttu-id="74578-374">Em ambos os casos, o dispositivo de saudação efetivamente pode ficar inoperante na rede de saudação.</span><span class="sxs-lookup"><span data-stu-id="74578-374">In both cases, hello device can effectively be rendered inoperable on hello network.</span></span>

<span data-ttu-id="74578-375">**Falsificação, divulgação de informações**: dispositivos restritos e especial geralmente têm recursos de segurança de um-para-todos como proteção de PIN ou senha ou totalmente confiarão na rede Olá confiável, que significa que eles conceder acesso tooinformation quando um dispositivo estiver em Olá mesma rede e essa rede geralmente só é protegido por uma chave compartilhada.</span><span class="sxs-lookup"><span data-stu-id="74578-375">**Spoofing, Information Disclosure**: Constrained devices and special-purpose devices often have one-for-all security facilities like password or PIN protection, or they wholly rely on trusting hello network, meaning they will grant access tooinformation when a device is on hello same network, and that network is often only protected by a shared key.</span></span> <span data-ttu-id="74578-376">Que significa que quando Olá compartilhado toodevice secreta ou rede divulgada, é possível toocontrol Olá dispositivo ou observar dados emitidos de dispositivo de saudação.</span><span class="sxs-lookup"><span data-stu-id="74578-376">That means that when hello shared secret toodevice or network is disclosed, it is possible toocontrol hello device or observe data emitted from hello device.</span></span>  

<span data-ttu-id="74578-377">**Falsificação**: um invasor pode interceptar ou parcialmente substituir Olá difusão e FALSO Olá originador (man no meio de saudação)</span><span class="sxs-lookup"><span data-stu-id="74578-377">**Spoofing**: an attacker may intercept or partially override hello broadcast and spoof hello originator (man in hello middle)</span></span>

<span data-ttu-id="74578-378">**Violação**: um invasor pode interceptar ou parcialmente substituir difusão hello e enviar informações falsas</span><span class="sxs-lookup"><span data-stu-id="74578-378">**Tampering**: an attacker may intercept or partially override hello broadcast and send false information</span></span> 

<span data-ttu-id="74578-379">**Divulgação de informações:** um invasor pode interceptar uma difusão e obter informações sem autorização **negação de serviço:** um invasor pode obstrução Olá broadcast sinal e negar a distribuição de informações</span><span class="sxs-lookup"><span data-stu-id="74578-379">**Information Disclosure:** an attacker may eavesdrop on a broadcast and obtain information without authorization **Denial of Service:** an attacker may jam hello broadcast signal and deny information distribution</span></span>

#### <a name="storage"></a><span data-ttu-id="74578-380">Armazenamento</span><span class="sxs-lookup"><span data-stu-id="74578-380">Storage</span></span>
<span data-ttu-id="74578-381">Cada gateway do dispositivo e o campo tem alguma forma de armazenamento (temporário para dados de saudação do enfileiramento de mensagens, armazenamento de imagem do sistema operacional (SO)).</span><span class="sxs-lookup"><span data-stu-id="74578-381">Every device and field gateway has some form of storage (temporary for queuing hello data, operating system (OS) image storage).</span></span>

| <span data-ttu-id="74578-382">**Componente**</span><span class="sxs-lookup"><span data-stu-id="74578-382">**Component**</span></span> | <span data-ttu-id="74578-383">**Ameaça**</span><span class="sxs-lookup"><span data-stu-id="74578-383">**Threat**</span></span> | <span data-ttu-id="74578-384">**Mitigação**</span><span class="sxs-lookup"><span data-stu-id="74578-384">**Mitigation**</span></span> | <span data-ttu-id="74578-385">**Risco**</span><span class="sxs-lookup"><span data-stu-id="74578-385">**Risk**</span></span> | <span data-ttu-id="74578-386">**Implementação**</span><span class="sxs-lookup"><span data-stu-id="74578-386">**Implementation**</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="74578-387">Armazenamento de dispositivo</span><span class="sxs-lookup"><span data-stu-id="74578-387">Device storage</span></span> |<span data-ttu-id="74578-388">TRID</span><span class="sxs-lookup"><span data-stu-id="74578-388">TRID</span></span> |<span data-ttu-id="74578-389">Criptografia de armazenamento, Olá logs de assinatura</span><span class="sxs-lookup"><span data-stu-id="74578-389">Storage encryption, signing hello logs</span></span> |<span data-ttu-id="74578-390">Lendo dados de armazenamento de saudação (dados PII), adulteração de dados de telemetria.</span><span class="sxs-lookup"><span data-stu-id="74578-390">Reading data from hello storage (PII data), tampering with telemetry data.</span></span> <span data-ttu-id="74578-391">Violação de dados de controle de comando em cache ou enfileirados.</span><span class="sxs-lookup"><span data-stu-id="74578-391">Tampering with queued or cached command control data.</span></span> <span data-ttu-id="74578-392">Violação com pacotes de atualização de firmware ou de configuração enquanto armazenado em cache ou em fila localmente pode levar componentes tooOS e/ou sistema comprometidas</span><span class="sxs-lookup"><span data-stu-id="74578-392">Tampering with configuration or firmware update packages while cached or queued locally can lead tooOS and/or system components being compromised</span></span> |<span data-ttu-id="74578-393">Criptografia, MAC (Message Authentication Code) ou assinatura digital.</span><span class="sxs-lookup"><span data-stu-id="74578-393">Encryption, message authentication code (MAC) or digital signature.</span></span> <span data-ttu-id="74578-394">Onde for possível, controle de acesso forte por meio de permissões ou ACLs (listas de controle de acesso) de recurso.</span><span class="sxs-lookup"><span data-stu-id="74578-394">Where possible, strong access control through resource access control lists (ACLs) or permissions.</span></span> |
| <span data-ttu-id="74578-395">Imagem do sistema operacional do dispositivo</span><span class="sxs-lookup"><span data-stu-id="74578-395">Device OS image</span></span> |<span data-ttu-id="74578-396">TRID</span><span class="sxs-lookup"><span data-stu-id="74578-396">TRID</span></span> | |<span data-ttu-id="74578-397">Violação com sistema operacional / substituir Olá OS componentes</span><span class="sxs-lookup"><span data-stu-id="74578-397">Tampering with OS /replacing hello OS components</span></span> |<span data-ttu-id="74578-398">Partição do sistema operacional somente leitura, imagem do sistema operacional assinada, criptografia</span><span class="sxs-lookup"><span data-stu-id="74578-398">Read-only OS partition, signed OS image, Encryption</span></span> |
| <span data-ttu-id="74578-399">Armazenamento de Gateway de campo (dados de saudação de enfileiramento de mensagens)</span><span class="sxs-lookup"><span data-stu-id="74578-399">Field Gateway storage (queuing hello data)</span></span> |<span data-ttu-id="74578-400">TRID</span><span class="sxs-lookup"><span data-stu-id="74578-400">TRID</span></span> |<span data-ttu-id="74578-401">Criptografia de armazenamento, Olá logs de assinatura</span><span class="sxs-lookup"><span data-stu-id="74578-401">Storage encryption, signing hello logs</span></span> |<span data-ttu-id="74578-402">Lendo dados de armazenamento de saudação (dados PII), adulteração de dados de telemetria, adulteração enfileirada ou armazenado em cache dados de controle de comando.</span><span class="sxs-lookup"><span data-stu-id="74578-402">Reading data from hello storage (PII data), tampering with telemetry data, tampering with queued or cached command control data.</span></span> <span data-ttu-id="74578-403">Violação com pacotes de atualização de firmware ou de configuração (destinados para dispositivos ou gateway de campo) enquanto armazenado em cache ou em fila localmente pode levar componentes tooOS e/ou sistema comprometidas</span><span class="sxs-lookup"><span data-stu-id="74578-403">Tampering with configuration or firmware update packages (destined for devices or field gateway) while cached or queued locally can lead tooOS and/or system components being compromised</span></span> |<span data-ttu-id="74578-404">BitLocker</span><span class="sxs-lookup"><span data-stu-id="74578-404">BitLocker</span></span> |
| <span data-ttu-id="74578-405">Imagem do sistema operacional do gateway de campo</span><span class="sxs-lookup"><span data-stu-id="74578-405">Field Gateway OS image</span></span> |<span data-ttu-id="74578-406">TRID</span><span class="sxs-lookup"><span data-stu-id="74578-406">TRID</span></span> | |<span data-ttu-id="74578-407">Violação com sistema operacional / substituir Olá OS componentes</span><span class="sxs-lookup"><span data-stu-id="74578-407">Tampering with OS /replacing hello OS components</span></span> |<span data-ttu-id="74578-408">Partição do sistema operacional somente leitura, imagem do sistema operacional assinada, criptografia</span><span class="sxs-lookup"><span data-stu-id="74578-408">Read-only OS partition, signed OS image, Encryption</span></span> |

### <a name="device-and-event-processingcloud-gateway-zone"></a><span data-ttu-id="74578-409">Zona de gateway de nuvem/processamento de eventos e dispositivo</span><span class="sxs-lookup"><span data-stu-id="74578-409">Device and event processing/cloud gateway zone</span></span>
<span data-ttu-id="74578-410">Um gateway de nuvem é um sistema que permite a comunicação remota do e gateways toodevices ou campo de diversos sites em espaço de rede pública, normalmente até um baseado em nuvem controle e dados de sistema de análise, uma federação de tais sistemas.</span><span class="sxs-lookup"><span data-stu-id="74578-410">A cloud gateway is system that enables remote communication from and toodevices or field gateways from several different sites across public network space, typically towards a cloud-based control and data analysis system, a federation of such systems.</span></span> <span data-ttu-id="74578-411">Em alguns casos, um gateway de nuvem pode facilitar imediatamente acessem dispositivos de toospecial com a finalidade de terminais, como tablets e telefones.</span><span class="sxs-lookup"><span data-stu-id="74578-411">In some cases, a cloud gateway may immediately facilitate access toospecial-purpose devices from terminals such as tablets or phones.</span></span> <span data-ttu-id="74578-412">No contexto de saudação discutido aqui, "nuvem" destina-se toorefer tooa dedicado processamento de dados de sistema que não esteja associado toohello mesmo site como Olá anexado dispositivos ou gateways de campo e medidas operacionais impedir acesso físico de destino, mas não é necessariamente tooa infra-estrutura de "nuvem pública".</span><span class="sxs-lookup"><span data-stu-id="74578-412">In hello context discussed here, “cloud” is meant toorefer tooa dedicated data processing system that is not bound toohello same site as hello attached devices or field gateways, and where operational measures prevent targeted physical access but is not necessarily tooa “public cloud” infrastructure.</span></span>  <span data-ttu-id="74578-413">Um gateway de nuvem potencialmente pode ser mapeado para um gateway de rede virtualização sobreposição tooinsulate Olá nuvem e todos os seus dispositivos anexados ou gateways de campo de qualquer outro tráfego de rede.</span><span class="sxs-lookup"><span data-stu-id="74578-413">A cloud gateway may potentially be mapped into a network virtualization overlay tooinsulate hello cloud gateway and all of its attached devices or field gateways from any other network traffic.</span></span> <span data-ttu-id="74578-414">gateway de nuvem Olá em si não é um sistema de controle de dispositivo nem um processamento ou depósito de dados do dispositivo; Esses recursos de interajam com o gateway de nuvem hello.</span><span class="sxs-lookup"><span data-stu-id="74578-414">hello cloud gateway itself is neither a device control system nor a processing or storage facility for device data; those facilities interface with hello cloud gateway.</span></span> <span data-ttu-id="74578-415">zona de gateway de nuvem de saudação inclui Olá nuvem próprio gateway junto com todos os gateways de campo e dispositivos direta ou indiretamente conectado tooit.</span><span class="sxs-lookup"><span data-stu-id="74578-415">hello cloud gateway zone includes hello cloud gateway itself along with all field gateways and devices directly or indirectly attached tooit.</span></span>

<span data-ttu-id="74578-416">Gateway de nuvem é principalmente personalizados criados software em execução como um serviço com o gateway de campo toowhich pontos de extremidade expostos e dispositivos se conectem.</span><span class="sxs-lookup"><span data-stu-id="74578-416">Cloud gateway is mostly custom built piece of software running as a service with exposed endpoints toowhich field gateway and devices connect.</span></span> <span data-ttu-id="74578-417">Como tal, deve ser projetado tendo em mente a segurança.</span><span class="sxs-lookup"><span data-stu-id="74578-417">As such it must be designed with security in mind.</span></span> <span data-ttu-id="74578-418">Siga o processo de [SDL](http://www.microsoft.com/sdl) para projetar e criar esse serviço.</span><span class="sxs-lookup"><span data-stu-id="74578-418">Please follow [SDL](http://www.microsoft.com/sdl) process for designing and building this service.</span></span> 

#### <a name="services-zone"></a><span data-ttu-id="74578-419">Zona de serviços</span><span class="sxs-lookup"><span data-stu-id="74578-419">Services zone</span></span>
<span data-ttu-id="74578-420">Um sistema de controle (ou controlador) é uma solução de software que interage com um dispositivo, ou um gateway de campo ou o gateway de nuvem para finalidade de saudação de controle de um ou vários dispositivos e/ou toocollect e/ou armazenamento de e/ou analisar os dados de dispositivo de apresentação, ou fins de controle subsequentes.</span><span class="sxs-lookup"><span data-stu-id="74578-420">A control system (or controller) is a software solution that interfaces with a device, or a field gateway, or cloud gateway for hello purpose of controlling one or multiple devices and/or toocollect and/or store and/or analyze device data for presentation, or subsequent control purposes.</span></span> <span data-ttu-id="74578-421">Sistemas de controle são entidades de somente Olá no escopo de saudação desta discussão que podem facilitar a interação com as pessoas imediatamente.</span><span class="sxs-lookup"><span data-stu-id="74578-421">Control systems are hello only entities in hello scope of this discussion that may immediately facilitate interaction with people.</span></span> <span data-ttu-id="74578-422">exceção Olá intermediário superfícies de controle físico em dispositivos, como uma opção que permite que uma pessoa tooturn dispositivo de saudação desativar ou alterar outras propriedades, e para o qual não há nenhum equivalente funcional que pode ser acessado digitalmente.</span><span class="sxs-lookup"><span data-stu-id="74578-422">hello exception are intermediate physical control surfaces on devices, like a switch that allows a person tooturn hello device off or change other properties, and for which there is no functional equivalent that can be accessed digitally.</span></span> 

<span data-ttu-id="74578-423">Superfícies de controle físicos intermediários são aquelas em que qualquer tipo de lógica de controle restringe função hello da superfície de controle físico hello, de modo que uma função equivalente pode ser iniciada remotamente ou entrada está em conflito com entrada remota pode ser evitados – tais intermediadas superfícies de controle são conceitualmente anexado tooa controle local system que aproveita Olá mesma funcionalidade subjacente que qualquer outro sistema de controle remoto que Olá dispositivo pode ser anexado tooin paralela.</span><span class="sxs-lookup"><span data-stu-id="74578-423">Intermediate physical control surfaces are those where any sort of governing logic constrains hello function of hello physical control surface such that an equivalent function can be initiated remotely or input conflicts with remote input can be avoided – such intermediated control surfaces are conceptually attached tooa local control system that leverages hello same underlying functionality as any other remote control system that hello device may be attached tooin parallel.</span></span> <span data-ttu-id="74578-424">Computação podem ser lidas em nuvem toohello principais ameaças [Alliance de segurança de nuvem (CSA)](https://cloudsecurityalliance.org/research/top-threats/) página.</span><span class="sxs-lookup"><span data-stu-id="74578-424">Top threats toohello cloud computing can be read at [Cloud Security Alliance (CSA)](https://cloudsecurityalliance.org/research/top-threats/) page.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="74578-425">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="74578-425">Additional resources</span></span>
<span data-ttu-id="74578-426">Consulte toohello artigos para obter informações adicionais a seguir:</span><span class="sxs-lookup"><span data-stu-id="74578-426">Refer toohello following articles for additional information:</span></span>

* [<span data-ttu-id="74578-427">Ferramenta de modelagem de ameaças do SDL</span><span class="sxs-lookup"><span data-stu-id="74578-427">SDL Threat Modeling Tool</span></span>](https://www.microsoft.com/sdl/adopt/threatmodeling.aspx)
* [<span data-ttu-id="74578-428">Arquitetura de referência da IoT do Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="74578-428">Microsoft Azure IoT reference architecture</span></span>](https://azure.microsoft.com/updates/microsoft-azure-iot-reference-architecture-available/)

